(()=>{var pje=Object.create;var Tk=Object.defineProperty;var mje=Object.getOwnPropertyDescriptor;var xje=Object.getOwnPropertyNames;var gje=Object.getPrototypeOf,yje=Object.prototype.hasOwnProperty;var l0e=n=>Tk(n,"__esModule",{value:!0});var Fk=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var tY=(n,e)=>()=>(n&&(e=n(n=0)),e);var Ae=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),nY=(n,e)=>{for(var t in e)Tk(n,t,{get:e[t],enumerable:!0})},c0e=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of xje(e))!yje.call(n,i)&&(t||i!=="default")&&Tk(n,i,{get:()=>e[i],enumerable:!(r=mje(e,i))||r.enumerable});return n},fr=(n,e)=>c0e(l0e(Tk(n!=null?pje(gje(n)):{},"default",!e&&n&&n.__esModule?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n),vje=(n=>(e,t)=>n&&n.get(e)||(t=c0e(l0e({}),e,1),n&&n.set(e,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var rY=Ae((m8t,d0e)=>{"use strict";m();var f0e=Object.getOwnPropertySymbols,_je=Object.prototype.hasOwnProperty,Eje=Object.prototype.propertyIsEnumerable;function bje(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function Sje(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}d0e.exports=Sje()?Object.assign:function(n,e){for(var t,r=bje(n),i,s=1;s<arguments.length;s++){t=Object(arguments[s]);for(var o in t)_je.call(t,o)&&(r[o]=t[o]);if(f0e){i=f0e(t);for(var a=0;a<i.length;a++)Eje.call(t,i[a])&&(r[i[a]]=t[i[a]])}}return r}});var F0e=Ae(sa=>{"use strict";m();var iY=rY(),s8=60103,h0e=60106;sa.Fragment=60107;sa.StrictMode=60108;sa.Profiler=60114;var p0e=60109,m0e=60110,x0e=60112;sa.Suspense=60113;var g0e=60115,y0e=60116;typeof Symbol=="function"&&Symbol.for&&(Op=Symbol.for,s8=Op("react.element"),h0e=Op("react.portal"),sa.Fragment=Op("react.fragment"),sa.StrictMode=Op("react.strict_mode"),sa.Profiler=Op("react.profiler"),p0e=Op("react.provider"),m0e=Op("react.context"),x0e=Op("react.forward_ref"),sa.Suspense=Op("react.suspense"),g0e=Op("react.memo"),y0e=Op("react.lazy"));var Op,v0e=typeof Symbol=="function"&&Symbol.iterator;function Cje(n){return n===null||typeof n!="object"?null:(n=v0e&&n[v0e]||n["@@iterator"],typeof n=="function"?n:null)}function AA(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _0e={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E0e={};function o8(n,e,t){this.props=n,this.context=e,this.refs=E0e,this.updater=t||_0e}o8.prototype.isReactComponent={};o8.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error(AA(85));this.updater.enqueueSetState(this,n,e,"setState")};o8.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function b0e(){}b0e.prototype=o8.prototype;function sY(n,e,t){this.props=n,this.context=e,this.refs=E0e,this.updater=t||_0e}var oY=sY.prototype=new b0e;oY.constructor=sY;iY(oY,o8.prototype);oY.isPureReactComponent=!0;var aY={current:null},S0e=Object.prototype.hasOwnProperty,C0e={key:!0,ref:!0,__self:!0,__source:!0};function w0e(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)S0e.call(e,r)&&!C0e.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),f=0;f<a;f++)l[f]=arguments[f+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:s8,type:n,key:s,ref:o,props:i,_owner:aY.current}}function wje(n,e){return{$$typeof:s8,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function uY(n){return typeof n=="object"&&n!==null&&n.$$typeof===s8}function Aje(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var A0e=/\/+/g;function lY(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Aje(""+n.key):e.toString(36)}function Dk(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case s8:case h0e:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+lY(o,0):r,Array.isArray(i)?(t="",n!=null&&(t=n.replace(A0e,"$&/")+"/"),Dk(i,e,t,"",function(f){return f})):i!=null&&(uY(i)&&(i=wje(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(A0e,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+lY(s,a);o+=Dk(s,e,t,l,i)}else if(l=Cje(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+lY(s,a++),o+=Dk(s,e,t,l,i);else if(s==="object")throw e=""+n,Error(AA(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e));return o}function Rk(n,e,t){if(n==null)return n;var r=[],i=0;return Dk(n,r,"","",function(s){return e.call(t,s,i++)}),r}function Tje(n){if(n._status===-1){var e=n._result;e=e(),n._status=0,n._result=e,e.then(function(t){n._status===0&&(t=t.default,n._status=1,n._result=t)},function(t){n._status===0&&(n._status=2,n._result=t)})}if(n._status===1)return n._result;throw n._result}var T0e={current:null};function vg(){var n=T0e.current;if(n===null)throw Error(AA(321));return n}var Fje={ReactCurrentDispatcher:T0e,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:aY,IsSomeRendererActing:{current:!1},assign:iY};sa.Children={map:Rk,forEach:function(n,e,t){Rk(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Rk(n,function(){e++}),e},toArray:function(n){return Rk(n,function(e){return e})||[]},only:function(n){if(!uY(n))throw Error(AA(143));return n}};sa.Component=o8;sa.PureComponent=sY;sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fje;sa.cloneElement=function(n,e,t){if(n==null)throw Error(AA(267,n));var r=iY({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=aY.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)S0e.call(e,l)&&!C0e.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var f=0;f<l;f++)a[f]=arguments[f+2];r.children=a}return{$$typeof:s8,type:n.type,key:i,ref:s,props:r,_owner:o}};sa.createContext=function(n,e){return e===void 0&&(e=null),n={$$typeof:m0e,_calculateChangedBits:e,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider={$$typeof:p0e,_context:n},n.Consumer=n};sa.createElement=w0e;sa.createFactory=function(n){var e=w0e.bind(null,n);return e.type=n,e};sa.createRef=function(){return{current:null}};sa.forwardRef=function(n){return{$$typeof:x0e,render:n}};sa.isValidElement=uY;sa.lazy=function(n){return{$$typeof:y0e,_payload:{_status:-1,_result:n},_init:Tje}};sa.memo=function(n,e){return{$$typeof:g0e,type:n,compare:e===void 0?null:e}};sa.useCallback=function(n,e){return vg().useCallback(n,e)};sa.useContext=function(n,e){return vg().useContext(n,e)};sa.useDebugValue=function(){};sa.useEffect=function(n,e){return vg().useEffect(n,e)};sa.useImperativeHandle=function(n,e,t){return vg().useImperativeHandle(n,e,t)};sa.useLayoutEffect=function(n,e){return vg().useLayoutEffect(n,e)};sa.useMemo=function(n,e){return vg().useMemo(n,e)};sa.useReducer=function(n,e,t){return vg().useReducer(n,e,t)};sa.useRef=function(n){return vg().useRef(n)};sa.useState=function(n){return vg().useState(n)};sa.version="17.0.2"});var Fr=Ae((g8t,D0e)=>{"use strict";m();D0e.exports=F0e()});var v,m=tY(()=>{v=fr(Fr())});var I0e=Ae(Ca=>{"use strict";m();var a8,TA,Ok,cY;typeof performance=="object"&&typeof performance.now=="function"?(R0e=performance,Ca.unstable_now=function(){return R0e.now()}):(fY=Date,O0e=fY.now(),Ca.unstable_now=function(){return fY.now()-O0e});var R0e,fY,O0e;typeof window=="undefined"||typeof MessageChannel!="function"?(u8=null,dY=null,hY=function(){if(u8!==null)try{var n=Ca.unstable_now();u8(!0,n),u8=null}catch(e){throw setTimeout(hY,0),e}},a8=function(n){u8!==null?setTimeout(a8,0,n):(u8=n,setTimeout(hY,0))},TA=function(n,e){dY=setTimeout(n,e)},Ok=function(){clearTimeout(dY)},Ca.unstable_shouldYield=function(){return!1},cY=Ca.unstable_forceFrameRate=function(){}):(N0e=window.setTimeout,L0e=window.clearTimeout,typeof console!="undefined"&&(k0e=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof k0e!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),FA=!1,DA=null,Nk=-1,pY=5,mY=0,Ca.unstable_shouldYield=function(){return Ca.unstable_now()>=mY},cY=function(){},Ca.unstable_forceFrameRate=function(n){0>n||125<n?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pY=0<n?Math.floor(1e3/n):5},xY=new MessageChannel,Lk=xY.port2,xY.port1.onmessage=function(){if(DA!==null){var n=Ca.unstable_now();mY=n+pY;try{DA(!0,n)?Lk.postMessage(null):(FA=!1,DA=null)}catch(e){throw Lk.postMessage(null),e}}else FA=!1},a8=function(n){DA=n,FA||(FA=!0,Lk.postMessage(null))},TA=function(n,e){Nk=N0e(function(){n(Ca.unstable_now())},e)},Ok=function(){L0e(Nk),Nk=-1});var u8,dY,hY,N0e,L0e,k0e,FA,DA,Nk,pY,mY,xY,Lk;function gY(n,e){var t=n.length;n.push(e);e:for(;;){var r=t-1>>>1,i=n[r];if(i!==void 0&&0<Ik(i,e))n[r]=e,n[t]=i,t=r;else break e}}function cm(n){return n=n[0],n===void 0?null:n}function kk(n){var e=n[0];if(e!==void 0){var t=n.pop();if(t!==e){n[0]=t;e:for(var r=0,i=n.length;r<i;){var s=2*(r+1)-1,o=n[s],a=s+1,l=n[a];if(o!==void 0&&0>Ik(o,t))l!==void 0&&0>Ik(l,o)?(n[r]=l,n[a]=t,r=a):(n[r]=o,n[s]=t,r=s);else if(l!==void 0&&0>Ik(l,t))n[r]=l,n[a]=t,r=a;else break e}}return e}return null}function Ik(n,e){var t=n.sortIndex-e.sortIndex;return t!==0?t:n.id-e.id}var p2=[],F3=[],Dje=1,Np=null,w0=3,Mk=!1,E_=!1,RA=!1;function yY(n){for(var e=cm(F3);e!==null;){if(e.callback===null)kk(F3);else if(e.startTime<=n)kk(F3),e.sortIndex=e.expirationTime,gY(p2,e);else break;e=cm(F3)}}function vY(n){if(RA=!1,yY(n),!E_)if(cm(p2)!==null)E_=!0,a8(_Y);else{var e=cm(F3);e!==null&&TA(vY,e.startTime-n)}}function _Y(n,e){E_=!1,RA&&(RA=!1,Ok()),Mk=!0;var t=w0;try{for(yY(e),Np=cm(p2);Np!==null&&(!(Np.expirationTime>e)||n&&!Ca.unstable_shouldYield());){var r=Np.callback;if(typeof r=="function"){Np.callback=null,w0=Np.priorityLevel;var i=r(Np.expirationTime<=e);e=Ca.unstable_now(),typeof i=="function"?Np.callback=i:Np===cm(p2)&&kk(p2),yY(e)}else kk(p2);Np=cm(p2)}if(Np!==null)var s=!0;else{var o=cm(F3);o!==null&&TA(vY,o.startTime-e),s=!1}return s}finally{Np=null,w0=t,Mk=!1}}var Rje=cY;Ca.unstable_IdlePriority=5;Ca.unstable_ImmediatePriority=1;Ca.unstable_LowPriority=4;Ca.unstable_NormalPriority=3;Ca.unstable_Profiling=null;Ca.unstable_UserBlockingPriority=2;Ca.unstable_cancelCallback=function(n){n.callback=null};Ca.unstable_continueExecution=function(){E_||Mk||(E_=!0,a8(_Y))};Ca.unstable_getCurrentPriorityLevel=function(){return w0};Ca.unstable_getFirstCallbackNode=function(){return cm(p2)};Ca.unstable_next=function(n){switch(w0){case 1:case 2:case 3:var e=3;break;default:e=w0}var t=w0;w0=e;try{return n()}finally{w0=t}};Ca.unstable_pauseExecution=function(){};Ca.unstable_requestPaint=Rje;Ca.unstable_runWithPriority=function(n,e){switch(n){case 1:case 2:case 3:case 4:case 5:break;default:n=3}var t=w0;w0=n;try{return e()}finally{w0=t}};Ca.unstable_scheduleCallback=function(n,e,t){var r=Ca.unstable_now();switch(typeof t=="object"&&t!==null?(t=t.delay,t=typeof t=="number"&&0<t?r+t:r):t=r,n){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=t+i,n={id:Dje++,callback:e,priorityLevel:n,startTime:t,expirationTime:i,sortIndex:-1},t>r?(n.sortIndex=t,gY(F3,n),cm(p2)===null&&n===cm(F3)&&(RA?Ok():RA=!0,TA(vY,t-r))):(n.sortIndex=i,gY(p2,n),E_||Mk||(E_=!0,a8(_Y))),n};Ca.unstable_wrapCallback=function(n){var e=w0;return function(){var t=w0;w0=e;try{return n.apply(this,arguments)}finally{w0=t}}}});var P0e=Ae((_8t,M0e)=>{"use strict";m();M0e.exports=I0e()});var Spe=Ae(Bp=>{"use strict";m();var Pk=Fr(),qu=rY(),gf=P0e();function oi(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Pk)throw Error(oi(227));var B0e=new Set,OA={};function b_(n,e){l8(n,e),l8(n+"Capture",e)}function l8(n,e){for(OA[n]=e,n=0;n<e.length;n++)B0e.add(e[n])}var _g=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Oje=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j0e=Object.prototype.hasOwnProperty,q0e={},U0e={};function Nje(n){return j0e.call(U0e,n)?!0:j0e.call(q0e,n)?!1:Oje.test(n)?U0e[n]=!0:(q0e[n]=!0,!1)}function Lje(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function kje(n,e,t,r){if(e===null||typeof e=="undefined"||Lje(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hd(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var $f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){$f[n]=new hd(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];$f[e]=new hd(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){$f[n]=new hd(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){$f[n]=new hd(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){$f[n]=new hd(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){$f[n]=new hd(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){$f[n]=new hd(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){$f[n]=new hd(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){$f[n]=new hd(n,5,!1,n.toLowerCase(),null,!1,!1)});var EY=/[\-:]([a-z])/g;function bY(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(EY,bY);$f[e]=new hd(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(EY,bY);$f[e]=new hd(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(EY,bY);$f[e]=new hd(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){$f[n]=new hd(n,1,!1,n.toLowerCase(),null,!1,!1)});$f.xlinkHref=new hd("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){$f[n]=new hd(n,1,!1,n.toLowerCase(),null,!0,!0)});function SY(n,e,t,r){var i=$f.hasOwnProperty(e)?$f[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(kje(e,t,i,r)&&(t=null),r||i===null?Nje(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var S_=Pk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,NA=60103,C_=60106,D3=60107,CY=60108,LA=60114,wY=60109,AY=60110,Bk=60112,kA=60113,jk=60120,qk=60115,TY=60116,FY=60121,DY=60128,$0e=60129,RY=60130,OY=60131;typeof Symbol=="function"&&Symbol.for&&(zc=Symbol.for,NA=zc("react.element"),C_=zc("react.portal"),D3=zc("react.fragment"),CY=zc("react.strict_mode"),LA=zc("react.profiler"),wY=zc("react.provider"),AY=zc("react.context"),Bk=zc("react.forward_ref"),kA=zc("react.suspense"),jk=zc("react.suspense_list"),qk=zc("react.memo"),TY=zc("react.lazy"),FY=zc("react.block"),zc("react.scope"),DY=zc("react.opaque.id"),$0e=zc("react.debug_trace_mode"),RY=zc("react.offscreen"),OY=zc("react.legacy_hidden"));var zc,z0e=typeof Symbol=="function"&&Symbol.iterator;function IA(n){return n===null||typeof n!="object"?null:(n=z0e&&n[z0e]||n["@@iterator"],typeof n=="function"?n:null)}var NY;function MA(n){if(NY===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);NY=e&&e[1]||""}return`
`+NY+n}var LY=!1;function Uk(n,e){if(!n||LY)return"";LY=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(n,[],e)}else{try{e.call()}catch(l){r=l}n.call(e.prototype)}else{try{throw Error()}catch(l){r=l}n()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=a);break}}}finally{LY=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?MA(n):""}function Ije(n){switch(n.tag){case 5:return MA(n.type);case 16:return MA("Lazy");case 13:return MA("Suspense");case 19:return MA("SuspenseList");case 0:case 2:case 15:return n=Uk(n.type,!1),n;case 11:return n=Uk(n.type.render,!1),n;case 22:return n=Uk(n.type._render,!1),n;case 1:return n=Uk(n.type,!0),n;default:return""}}function c8(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D3:return"Fragment";case C_:return"Portal";case LA:return"Profiler";case CY:return"StrictMode";case kA:return"Suspense";case jk:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case AY:return(n.displayName||"Context")+".Consumer";case wY:return(n._context.displayName||"Context")+".Provider";case Bk:var e=n.render;return e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case qk:return c8(n.type);case FY:return c8(n._render);case TY:e=n._payload,n=n._init;try{return c8(n(e))}catch{}}return null}function R3(n){switch(typeof n){case"boolean":case"number":case"object":case"string":case"undefined":return n;default:return""}}function H0e(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Mje(n){var e=H0e(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function $k(n){n._valueTracker||(n._valueTracker=Mje(n))}function V0e(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=H0e(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function zk(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch{return n.body}}function kY(n,e){var t=e.checked;return qu({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function W0e(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=R3(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Q0e(n,e){e=e.checked,e!=null&&SY(n,"checked",e,!1)}function IY(n,e){Q0e(n,e);var t=R3(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?MY(n,e.type,t):e.hasOwnProperty("defaultValue")&&MY(n,e.type,R3(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function G0e(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function MY(n,e,t){(e!=="number"||zk(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}function Pje(n){var e="";return Pk.Children.forEach(n,function(t){t!=null&&(e+=t)}),e}function PY(n,e){return n=qu({children:void 0},e),(e=Pje(e.children))&&(n.children=e),n}function f8(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+R3(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function BY(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oi(91));return qu({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Y0e(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(oi(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(oi(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:R3(t)}}function K0e(n,e){var t=R3(e.value),r=R3(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function J0e(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}var jY={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function X0e(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qY(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?X0e(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Hk,Z0e=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!==jY.svg||"innerHTML"in n)n.innerHTML=e;else{for(Hk=Hk||document.createElement("div"),Hk.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hk.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function PA(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var BA={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bje=["Webkit","ms","Moz","O"];Object.keys(BA).forEach(function(n){Bje.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),BA[e]=BA[n]})});function ede(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||BA.hasOwnProperty(n)&&BA[n]?(""+e).trim():e+"px"}function tde(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=ede(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var jje=qu({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function UY(n,e){if(e){if(jje[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oi(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oi(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(oi(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oi(62))}}function $Y(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function zY(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var HY=null,d8=null,h8=null;function nde(n){if(n=nT(n)){if(typeof HY!="function")throw Error(oi(280));var e=n.stateNode;e&&(e=fI(e),HY(n.stateNode,n.type,e))}}function rde(n){d8?h8?h8.push(n):h8=[n]:d8=n}function ide(){if(d8){var n=d8,e=h8;if(h8=d8=null,nde(n),e)for(n=0;n<e.length;n++)nde(e[n])}}function VY(n,e){return n(e)}function sde(n,e,t,r,i){return n(e,t,r,i)}function WY(){}var ode=VY,w_=!1,QY=!1;function GY(){(d8!==null||h8!==null)&&(WY(),ide())}function qje(n,e,t){if(QY)return n(e,t);QY=!0;try{return ode(n,e,t)}finally{QY=!1,GY()}}function jA(n,e){var t=n.stateNode;if(t===null)return null;var r=fI(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(oi(231,e,typeof t));return t}var YY=!1;if(_g)try{p8={},Object.defineProperty(p8,"passive",{get:function(){YY=!0}}),window.addEventListener("test",p8,p8),window.removeEventListener("test",p8,p8)}catch{YY=!1}var p8;function Uje(n,e,t,r,i,s,o,a,l){var f=Array.prototype.slice.call(arguments,3);try{e.apply(t,f)}catch(p){this.onError(p)}}var qA=!1,Vk=null,Wk=!1,KY=null,$je={onError:function(n){qA=!0,Vk=n}};function zje(n,e,t,r,i,s,o,a,l){qA=!1,Vk=null,Uje.apply($je,arguments)}function Hje(n,e,t,r,i,s,o,a,l){if(zje.apply(this,arguments),qA){if(qA){var f=Vk;qA=!1,Vk=null}else throw Error(oi(198));Wk||(Wk=!0,KY=f)}}function A_(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&1026)!==0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function ade(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function ude(n){if(A_(n)!==n)throw Error(oi(188))}function Vje(n){var e=n.alternate;if(!e){if(e=A_(n),e===null)throw Error(oi(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return ude(i),n;if(s===r)return ude(i),e;s=s.sibling}throw Error(oi(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(oi(189))}}if(t.alternate!==r)throw Error(oi(190))}if(t.tag!==3)throw Error(oi(188));return t.stateNode.current===t?n:e}function lde(n){if(n=Vje(n),!n)return null;for(var e=n;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===n)break;for(;!e.sibling;){if(!e.return||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function cde(n,e){for(var t=n.alternate;e!==null;){if(e===n||e===t)return!0;e=e.return}return!1}var fde,JY,dde,hde,XY=!1,m2=[],O3=null,N3=null,L3=null,UA=new Map,$A=new Map,zA=[],pde="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZY(n,e,t,r,i){return{blockedOn:n,domEventName:e,eventSystemFlags:t|16,nativeEvent:i,targetContainers:[r]}}function mde(n,e){switch(n){case"focusin":case"focusout":O3=null;break;case"dragenter":case"dragleave":N3=null;break;case"mouseover":case"mouseout":L3=null;break;case"pointerover":case"pointerout":UA.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$A.delete(e.pointerId)}}function HA(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n=ZY(e,t,r,i,s),e!==null&&(e=nT(e),e!==null&&JY(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function Wje(n,e,t,r,i){switch(e){case"focusin":return O3=HA(O3,n,e,t,r,i),!0;case"dragenter":return N3=HA(N3,n,e,t,r,i),!0;case"mouseover":return L3=HA(L3,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return UA.set(s,HA(UA.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,$A.set(s,HA($A.get(s)||null,n,e,t,r,i)),!0}return!1}function Qje(n){var e=T_(n.target);if(e!==null){var t=A_(e);if(t!==null){if(e=t.tag,e===13){if(e=ade(t),e!==null){n.blockedOn=e,hde(n.lanePriority,function(){gf.unstable_runWithPriority(n.priority,function(){dde(t)})});return}}else if(e===3&&t.stateNode.hydrate){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Qk(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=sK(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null)return e=nT(t),e!==null&&JY(e),n.blockedOn=t,!1;e.shift()}return!0}function xde(n,e,t){Qk(n)&&t.delete(e)}function Gje(){for(XY=!1;0<m2.length;){var n=m2[0];if(n.blockedOn!==null){n=nT(n.blockedOn),n!==null&&fde(n);break}for(var e=n.targetContainers;0<e.length;){var t=sK(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null){n.blockedOn=t;break}e.shift()}n.blockedOn===null&&m2.shift()}O3!==null&&Qk(O3)&&(O3=null),N3!==null&&Qk(N3)&&(N3=null),L3!==null&&Qk(L3)&&(L3=null),UA.forEach(xde),$A.forEach(xde)}function VA(n,e){n.blockedOn===e&&(n.blockedOn=null,XY||(XY=!0,gf.unstable_scheduleCallback(gf.unstable_NormalPriority,Gje)))}function gde(n){function e(i){return VA(i,n)}if(0<m2.length){VA(m2[0],n);for(var t=1;t<m2.length;t++){var r=m2[t];r.blockedOn===n&&(r.blockedOn=null)}}for(O3!==null&&VA(O3,n),N3!==null&&VA(N3,n),L3!==null&&VA(L3,n),UA.forEach(e),$A.forEach(e),t=0;t<zA.length;t++)r=zA[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<zA.length&&(t=zA[0],t.blockedOn===null);)Qje(t),t.blockedOn===null&&zA.shift()}function Gk(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var m8={animationend:Gk("Animation","AnimationEnd"),animationiteration:Gk("Animation","AnimationIteration"),animationstart:Gk("Animation","AnimationStart"),transitionend:Gk("Transition","TransitionEnd")},eK={},yde={};_g&&(yde=document.createElement("div").style,"AnimationEvent"in window||(delete m8.animationend.animation,delete m8.animationiteration.animation,delete m8.animationstart.animation),"TransitionEvent"in window||delete m8.transitionend.transition);function Yk(n){if(eK[n])return eK[n];if(!m8[n])return n;var e=m8[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in yde)return eK[n]=e[t];return n}var vde=Yk("animationend"),_de=Yk("animationiteration"),Ede=Yk("animationstart"),bde=Yk("transitionend"),Sde=new Map,tK=new Map,Yje=["abort","abort",vde,"animationEnd",_de,"animationIteration",Ede,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",bde,"transitionEnd","waiting","waiting"];function nK(n,e){for(var t=0;t<n.length;t+=2){var r=n[t],i=n[t+1];i="on"+(i[0].toUpperCase()+i.slice(1)),tK.set(r,e),Sde.set(r,i),b_(i,[r])}}var Kje=gf.unstable_now;Kje();var ru=8;function x8(n){if((1&n)!==0)return ru=15,1;if((2&n)!==0)return ru=14,2;if((4&n)!==0)return ru=13,4;var e=24&n;return e!==0?(ru=12,e):(n&32)!==0?(ru=11,32):(e=192&n,e!==0?(ru=10,e):(n&256)!==0?(ru=9,256):(e=3584&n,e!==0?(ru=8,e):(n&4096)!==0?(ru=7,4096):(e=4186112&n,e!==0?(ru=6,e):(e=62914560&n,e!==0?(ru=5,e):n&67108864?(ru=4,67108864):(n&134217728)!==0?(ru=3,134217728):(e=805306368&n,e!==0?(ru=2,e):(1073741824&n)!==0?(ru=1,1073741824):(ru=8,n))))))}function Jje(n){switch(n){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Xje(n){switch(n){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(oi(358,n))}}function WA(n,e){var t=n.pendingLanes;if(t===0)return ru=0;var r=0,i=0,s=n.expiredLanes,o=n.suspendedLanes,a=n.pingedLanes;if(s!==0)r=s,i=ru=15;else if(s=t&134217727,s!==0){var l=s&~o;l!==0?(r=x8(l),i=ru):(a&=s,a!==0&&(r=x8(a),i=ru))}else s=t&~o,s!==0?(r=x8(s),i=ru):a!==0&&(r=x8(a),i=ru);if(r===0)return 0;if(r=31-k3(r),r=t&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&o)===0){if(x8(e),i<=ru)return e;ru=i}if(e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-k3(e),i=1<<t,r|=n[t],e&=~i;return r}function Cde(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Kk(n,e){switch(n){case 15:return 1;case 14:return 2;case 12:return n=g8(24&~e),n===0?Kk(10,e):n;case 10:return n=g8(192&~e),n===0?Kk(8,e):n;case 8:return n=g8(3584&~e),n===0&&(n=g8(4186112&~e),n===0&&(n=512)),n;case 2:return e=g8(805306368&~e),e===0&&(e=268435456),e}throw Error(oi(358,n))}function g8(n){return n&-n}function rK(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Jk(n,e,t){n.pendingLanes|=e;var r=e-1;n.suspendedLanes&=r,n.pingedLanes&=r,n=n.eventTimes,e=31-k3(e),n[e]=t}var k3=Math.clz32?Math.clz32:tqe,Zje=Math.log,eqe=Math.LN2;function tqe(n){return n===0?32:31-(Zje(n)/eqe|0)|0}var nqe=gf.unstable_UserBlockingPriority,rqe=gf.unstable_runWithPriority,Xk=!0;function iqe(n,e,t,r){w_||WY();var i=iK,s=w_;w_=!0;try{sde(i,n,e,t,r)}finally{(w_=s)||GY()}}function sqe(n,e,t,r){rqe(nqe,iK.bind(null,n,e,t,r))}function iK(n,e,t,r){if(Xk){var i;if((i=(e&4)===0)&&0<m2.length&&-1<pde.indexOf(n))n=ZY(null,n,e,t,r),m2.push(n);else{var s=sK(n,e,t,r);if(s===null)i&&mde(n,r);else{if(i){if(-1<pde.indexOf(n)){n=ZY(s,n,e,t,r),m2.push(n);return}if(Wje(s,n,e,t,r))return;mde(n,r)}Xde(n,e,r,null,t)}}}}function sK(n,e,t,r){var i=zY(r);if(i=T_(i),i!==null){var s=A_(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=ade(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Xde(n,e,r,i,t),null}var I3=null,oK=null,Zk=null;function wde(){if(Zk)return Zk;var n,e=oK,t=e.length,r,i="value"in I3?I3.value:I3.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return Zk=i.slice(n,1<r?1-r:void 0)}function eI(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function tI(){return!0}function Ade(){return!1}function qh(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?tI:Ade,this.isPropagationStopped=Ade,this}return qu(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=tI)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=tI)},persist:function(){},isPersistent:tI}),e}var y8={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aK=qh(y8),QA=qu({},y8,{view:0,detail:0}),oqe=qh(QA),uK,lK,GA,nI=qu({},QA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fK,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==GA&&(GA&&n.type==="mousemove"?(uK=n.screenX-GA.screenX,lK=n.screenY-GA.screenY):lK=uK=0,GA=n),uK)},movementY:function(n){return"movementY"in n?n.movementY:lK}}),Tde=qh(nI),aqe=qu({},nI,{dataTransfer:0}),uqe=qh(aqe),lqe=qu({},QA,{relatedTarget:0}),cK=qh(lqe),cqe=qu({},y8,{animationName:0,elapsedTime:0,pseudoElement:0}),fqe=qh(cqe),dqe=qu({},y8,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),hqe=qh(dqe),pqe=qu({},y8,{data:0}),Fde=qh(pqe),mqe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xqe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gqe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yqe(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=gqe[n])?!!e[n]:!1}function fK(){return yqe}var vqe=qu({},QA,{key:function(n){if(n.key){var e=mqe[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=eI(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?xqe[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fK,charCode:function(n){return n.type==="keypress"?eI(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?eI(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),_qe=qh(vqe),Eqe=qu({},nI,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dde=qh(Eqe),bqe=qu({},QA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fK}),Sqe=qh(bqe),Cqe=qu({},y8,{propertyName:0,elapsedTime:0,pseudoElement:0}),wqe=qh(Cqe),Aqe=qu({},nI,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Tqe=qh(Aqe),Fqe=[9,13,27,32],dK=_g&&"CompositionEvent"in window,YA=null;_g&&"documentMode"in document&&(YA=document.documentMode);var Dqe=_g&&"TextEvent"in window&&!YA,Rde=_g&&(!dK||YA&&8<YA&&11>=YA),Ode=String.fromCharCode(32),Nde=!1;function Lde(n,e){switch(n){case"keyup":return Fqe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kde(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var v8=!1;function Rqe(n,e){switch(n){case"compositionend":return kde(e);case"keypress":return e.which!==32?null:(Nde=!0,Ode);case"textInput":return n=e.data,n===Ode&&Nde?null:n;default:return null}}function Oqe(n,e){if(v8)return n==="compositionend"||!dK&&Lde(n,e)?(n=wde(),Zk=oK=I3=null,v8=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rde&&e.locale!=="ko"?null:e.data;default:return null}}var Nqe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ide(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Nqe[n.type]:e==="textarea"}function Mde(n,e,t,r){rde(r),e=aI(e,"onChange"),0<e.length&&(t=new aK("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var KA=null,JA=null;function Lqe(n){Qde(n,0)}function rI(n){var e=C8(n);if(V0e(e))return n}function kqe(n,e){if(n==="change")return e}var Pde=!1;_g&&(_g?(sI="oninput"in document,sI||(hK=document.createElement("div"),hK.setAttribute("oninput","return;"),sI=typeof hK.oninput=="function"),iI=sI):iI=!1,Pde=iI&&(!document.documentMode||9<document.documentMode));var iI,sI,hK;function Bde(){KA&&(KA.detachEvent("onpropertychange",jde),JA=KA=null)}function jde(n){if(n.propertyName==="value"&&rI(JA)){var e=[];if(Mde(e,JA,n,zY(n)),n=Lqe,w_)n(e);else{w_=!0;try{VY(n,e)}finally{w_=!1,GY()}}}}function Iqe(n,e,t){n==="focusin"?(Bde(),KA=e,JA=t,KA.attachEvent("onpropertychange",jde)):n==="focusout"&&Bde()}function Mqe(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return rI(JA)}function Pqe(n,e){if(n==="click")return rI(e)}function Bqe(n,e){if(n==="input"||n==="change")return rI(e)}function jqe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Lp=typeof Object.is=="function"?Object.is:jqe,qqe=Object.prototype.hasOwnProperty;function XA(n,e){if(Lp(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!qqe.call(e,t[r])||!Lp(n[t[r]],e[t[r]]))return!1;return!0}function qde(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ude(n,e){var t=qde(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=qde(t)}}function $de(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?$de(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function zde(){for(var n=window,e=zk();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=zk(n.document)}return e}function pK(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}var Uqe=_g&&"documentMode"in document&&11>=document.documentMode,_8=null,mK=null,ZA=null,xK=!1;function Hde(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;xK||_8==null||_8!==zk(r)||(r=_8,"selectionStart"in r&&pK(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ZA&&XA(ZA,r)||(ZA=r,r=aI(mK,"onSelect"),0<r.length&&(e=new aK("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=_8)))}nK("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);nK("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);nK(Yje,2);for(gK="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),oI=0;oI<gK.length;oI++)tK.set(gK[oI],0);var gK,oI;l8("onMouseEnter",["mouseout","mouseover"]);l8("onMouseLeave",["mouseout","mouseover"]);l8("onPointerEnter",["pointerout","pointerover"]);l8("onPointerLeave",["pointerout","pointerover"]);b_("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));b_("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));b_("onBeforeInput",["compositionend","keypress","textInput","paste"]);b_("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));b_("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));b_("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eT="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vde=new Set("cancel close invalid load scroll toggle".split(" ").concat(eT));function Wde(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,Hje(r,e,void 0,n),n.currentTarget=null}function Qde(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,f=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Wde(i,a,f),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,f=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Wde(i,a,f),s=l}}}if(Wk)throw n=KY,Wk=!1,KY=null,n}function vu(n,e){var t=ihe(e),r=n+"__bubble";t.has(r)||(Jde(e,n,2,!1),t.add(r))}var Gde="_reactListening"+Math.random().toString(36).slice(2);function Yde(n){n[Gde]||(n[Gde]=!0,B0e.forEach(function(e){Vde.has(e)||Kde(e,!1,n,null),Kde(e,!0,n,null)}))}function Kde(n,e,t,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=t;if(n==="selectionchange"&&t.nodeType!==9&&(s=t.ownerDocument),r!==null&&!e&&Vde.has(n)){if(n!=="scroll")return;i|=2,s=r}var o=ihe(s),a=n+"__"+(e?"capture":"bubble");o.has(a)||(e&&(i|=4),Jde(s,n,i,e),o.add(a))}function Jde(n,e,t,r){var i=tK.get(e);switch(i===void 0?2:i){case 0:i=iqe;break;case 1:i=sqe;break;default:i=iK}t=i.bind(null,e,t,n),i=void 0,!YY||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Xde(n,e,t,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=T_(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}qje(function(){var f=s,p=zY(t),_=[];e:{var b=Sde.get(n);if(b!==void 0){var R=aK,O=n;switch(n){case"keypress":if(eI(t)===0)break e;case"keydown":case"keyup":R=_qe;break;case"focusin":O="focus",R=cK;break;case"focusout":O="blur",R=cK;break;case"beforeblur":case"afterblur":R=cK;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Tde;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=uqe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Sqe;break;case vde:case _de:case Ede:R=fqe;break;case bde:R=wqe;break;case"scroll":R=oqe;break;case"wheel":R=Tqe;break;case"copy":case"cut":case"paste":R=hqe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Dde}var j=(e&4)!==0,$=!j&&n==="scroll",L=j?b!==null?b+"Capture":null:b;j=[];for(var q=f,P;q!==null;){P=q;var W=P.stateNode;if(P.tag===5&&W!==null&&(P=W,L!==null&&(W=jA(q,L),W!=null&&j.push(tT(q,W,P)))),$)break;q=q.return}0<j.length&&(b=new R(b,O,null,t,p),_.push({event:b,listeners:j}))}}if((e&7)===0){e:{if(b=n==="mouseover"||n==="pointerover",R=n==="mouseout"||n==="pointerout",b&&(e&16)===0&&(O=t.relatedTarget||t.fromElement)&&(T_(O)||O[S8]))break e;if((R||b)&&(b=p.window===p?p:(b=p.ownerDocument)?b.defaultView||b.parentWindow:window,R?(O=t.relatedTarget||t.toElement,R=f,O=O?T_(O):null,O!==null&&($=A_(O),O!==$||O.tag!==5&&O.tag!==6)&&(O=null)):(R=null,O=f),R!==O)){if(j=Tde,W="onMouseLeave",L="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(j=Dde,W="onPointerLeave",L="onPointerEnter",q="pointer"),$=R==null?b:C8(R),P=O==null?b:C8(O),b=new j(W,q+"leave",R,t,p),b.target=$,b.relatedTarget=P,W=null,T_(p)===f&&(j=new j(L,q+"enter",O,t,p),j.target=P,j.relatedTarget=$,W=j),$=W,R&&O)t:{for(j=R,L=O,q=0,P=j;P;P=E8(P))q++;for(P=0,W=L;W;W=E8(W))P++;for(;0<q-P;)j=E8(j),q--;for(;0<P-q;)L=E8(L),P--;for(;q--;){if(j===L||L!==null&&j===L.alternate)break t;j=E8(j),L=E8(L)}j=null}else j=null;R!==null&&Zde(_,b,R,j,!1),O!==null&&$!==null&&Zde(_,$,O,j,!0)}}e:{if(b=f?C8(f):window,R=b.nodeName&&b.nodeName.toLowerCase(),R==="select"||R==="input"&&b.type==="file")var oe=kqe;else if(Ide(b))if(Pde)oe=Bqe;else{oe=Mqe;var I=Iqe}else(R=b.nodeName)&&R.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(oe=Pqe);if(oe&&(oe=oe(n,f))){Mde(_,oe,t,p);break e}I&&I(n,b,f),n==="focusout"&&(I=b._wrapperState)&&I.controlled&&b.type==="number"&&MY(b,"number",b.value)}switch(I=f?C8(f):window,n){case"focusin":(Ide(I)||I.contentEditable==="true")&&(_8=I,mK=f,ZA=null);break;case"focusout":ZA=mK=_8=null;break;case"mousedown":xK=!0;break;case"contextmenu":case"mouseup":case"dragend":xK=!1,Hde(_,t,p);break;case"selectionchange":if(Uqe)break;case"keydown":case"keyup":Hde(_,t,p)}var J;if(dK)e:{switch(n){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else v8?Lde(n,t)&&(he="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(he="onCompositionStart");he&&(Rde&&t.locale!=="ko"&&(v8||he!=="onCompositionStart"?he==="onCompositionEnd"&&v8&&(J=wde()):(I3=p,oK="value"in I3?I3.value:I3.textContent,v8=!0)),I=aI(f,he),0<I.length&&(he=new Fde(he,n,null,t,p),_.push({event:he,listeners:I}),J?he.data=J:(J=kde(t),J!==null&&(he.data=J)))),(J=Dqe?Rqe(n,t):Oqe(n,t))&&(f=aI(f,"onBeforeInput"),0<f.length&&(p=new Fde("onBeforeInput","beforeinput",null,t,p),_.push({event:p,listeners:f}),p.data=J))}Qde(_,e)})}function tT(n,e,t){return{instance:n,listener:e,currentTarget:t}}function aI(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=jA(n,t),s!=null&&r.unshift(tT(n,s,i)),s=jA(n,e),s!=null&&r.push(tT(n,s,i))),n=n.return}return r}function E8(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Zde(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,f=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&f!==null&&(a=f,i?(l=jA(t,s),l!=null&&o.unshift(tT(t,l,a))):i||(l=jA(t,s),l!=null&&o.push(tT(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}function uI(){}var yK=null,vK=null;function ehe(n,e){switch(n){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function _K(n,e){return n==="textarea"||n==="option"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var the=typeof setTimeout=="function"?setTimeout:void 0,$qe=typeof clearTimeout=="function"?clearTimeout:void 0;function EK(n){n.nodeType===1?n.textContent="":n.nodeType===9&&(n=n.body,n!=null&&(n.textContent=""))}function b8(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break}return n}function nhe(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var bK=0;function zqe(n){return{$$typeof:DY,toString:n,valueOf:n}}var lI=Math.random().toString(36).slice(2),M3="__reactFiber$"+lI,cI="__reactProps$"+lI,S8="__reactContainer$"+lI,rhe="__reactEvents$"+lI;function T_(n){var e=n[M3];if(e)return e;for(var t=n.parentNode;t;){if(e=t[S8]||t[M3]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=nhe(n);n!==null;){if(t=n[M3])return t;n=nhe(n)}return e}n=t,t=n.parentNode}return null}function nT(n){return n=n[M3]||n[S8],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function C8(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(oi(33))}function fI(n){return n[cI]||null}function ihe(n){var e=n[rhe];return e===void 0&&(e=n[rhe]=new Set),e}var SK=[],w8=-1;function P3(n){return{current:n}}function _u(n){0>w8||(n.current=SK[w8],SK[w8]=null,w8--)}function Ol(n,e){w8++,SK[w8]=n.current,n.current=e}var B3={},A0=P3(B3),nh=P3(!1),F_=B3;function A8(n,e){var t=n.type.contextTypes;if(!t)return B3;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function rh(n){return n=n.childContextTypes,n!=null}function dI(){_u(nh),_u(A0)}function she(n,e,t){if(A0.current!==B3)throw Error(oi(168));Ol(A0,e),Ol(nh,t)}function ohe(n,e,t){var r=n.stateNode;if(n=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in n))throw Error(oi(108,c8(e)||"Unknown",i));return qu({},t,r)}function hI(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||B3,F_=A0.current,Ol(A0,n),Ol(nh,nh.current),!0}function ahe(n,e,t){var r=n.stateNode;if(!r)throw Error(oi(169));t?(n=ohe(n,e,F_),r.__reactInternalMemoizedMergedChildContext=n,_u(nh),_u(A0),Ol(A0,n)):_u(nh),Ol(nh,t)}var CK=null,D_=null,Hqe=gf.unstable_runWithPriority,wK=gf.unstable_scheduleCallback,AK=gf.unstable_cancelCallback,Vqe=gf.unstable_shouldYield,uhe=gf.unstable_requestPaint,TK=gf.unstable_now,Wqe=gf.unstable_getCurrentPriorityLevel,pI=gf.unstable_ImmediatePriority,lhe=gf.unstable_UserBlockingPriority,che=gf.unstable_NormalPriority,fhe=gf.unstable_LowPriority,dhe=gf.unstable_IdlePriority,FK={},Qqe=uhe!==void 0?uhe:function(){},Eg=null,mI=null,DK=!1,hhe=TK(),T0=1e4>hhe?TK:function(){return TK()-hhe};function T8(){switch(Wqe()){case pI:return 99;case lhe:return 98;case che:return 97;case fhe:return 96;case dhe:return 95;default:throw Error(oi(332))}}function phe(n){switch(n){case 99:return pI;case 98:return lhe;case 97:return che;case 96:return fhe;case 95:return dhe;default:throw Error(oi(332))}}function R_(n,e){return n=phe(n),Hqe(n,e)}function rT(n,e,t){return n=phe(n),wK(n,e,t)}function x2(){if(mI!==null){var n=mI;mI=null,AK(n)}mhe()}function mhe(){if(!DK&&Eg!==null){DK=!0;var n=0;try{var e=Eg;R_(99,function(){for(;n<e.length;n++){var t=e[n];do t=t(!0);while(t!==null)}}),Eg=null}catch(t){throw Eg!==null&&(Eg=Eg.slice(n+1)),wK(pI,x2),t}finally{DK=!1}}}var Gqe=S_.ReactCurrentBatchConfig;function fm(n,e){if(n&&n.defaultProps){e=qu({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var xI=P3(null),gI=null,F8=null,yI=null;function RK(){yI=F8=gI=null}function OK(n){var e=xI.current;_u(xI),n.type._context._currentValue=e}function xhe(n,e){for(;n!==null;){var t=n.alternate;if((n.childLanes&e)===e){if(t===null||(t.childLanes&e)===e)break;t.childLanes|=e}else n.childLanes|=e,t!==null&&(t.childLanes|=e);n=n.return}}function D8(n,e){gI=n,yI=F8=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!==0&&(dm=!0),n.firstContext=null)}function kp(n,e){if(yI!==n&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(yI=n,e=1073741823),e={context:n,observedBits:e,next:null},F8===null){if(gI===null)throw Error(oi(308));F8=e,gI.dependencies={lanes:0,firstContext:e,responders:null}}else F8=F8.next=e;return n._currentValue}var j3=!1;function NK(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ghe(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function q3(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function U3(n,e){if(n=n.updateQueue,n!==null){n=n.shared;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}}function yhe(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function iT(n,e,t,r){var i=n.updateQueue;j3=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,f=l.next;l.next=null,o===null?s=f:o.next=f,o=l;var p=n.alternate;if(p!==null){p=p.updateQueue;var _=p.lastBaseUpdate;_!==o&&(_===null?p.firstBaseUpdate=f:_.next=f,p.lastBaseUpdate=l)}}if(s!==null){_=i.baseState,o=0,p=f=l=null;do{a=s.lane;var b=s.eventTime;if((r&a)===a){p!==null&&(p=p.next={eventTime:b,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var R=n,O=s;switch(a=e,b=t,O.tag){case 1:if(R=O.payload,typeof R=="function"){_=R.call(b,_,a);break e}_=R;break e;case 3:R.flags=R.flags&-4097|64;case 0:if(R=O.payload,a=typeof R=="function"?R.call(b,_,a):R,a==null)break e;_=qu({},_,a);break e;case 2:j3=!0}}s.callback!==null&&(n.flags|=32,a=i.effects,a===null?i.effects=[s]:a.push(s))}else b={eventTime:b,lane:a,tag:s.tag,payload:s.payload,callback:s.callback,next:null},p===null?(f=p=b,l=_):p=p.next=b,o|=a;if(s=s.next,s===null){if(a=i.shared.pending,a===null)break;s=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);p===null&&(l=_),i.baseState=l,i.firstBaseUpdate=f,i.lastBaseUpdate=p,xT|=o,n.lanes=o,n.memoizedState=_}}function vhe(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(oi(191,i));i.call(r)}}}var _he=new Pk.Component().refs;function vI(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:qu({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var _I={isMounted:function(n){return(n=n._reactInternals)?A_(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Uh(),i=H3(n),s=q3(r,i);s.payload=e,t!=null&&(s.callback=t),U3(n,s),V3(n,i,r)},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Uh(),i=H3(n),s=q3(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),U3(n,s),V3(n,i,r)},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Uh(),r=H3(n),i=q3(t,r);i.tag=2,e!=null&&(i.callback=e),U3(n,i),V3(n,r,t)}};function Ehe(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!XA(t,r)||!XA(i,s):!0}function bhe(n,e,t){var r=!1,i=B3,s=e.contextType;return typeof s=="object"&&s!==null?s=kp(s):(i=rh(e)?F_:A0.current,r=e.contextTypes,s=(r=r!=null)?A8(n,i):B3),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_I,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function She(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&_I.enqueueReplaceState(e,e.state,null)}function LK(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=_he,NK(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=kp(s):(s=rh(e)?F_:A0.current,i.context=A8(n,s)),iT(n,t,i,r),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(vI(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_I.enqueueReplaceState(i,i.state,null),iT(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4)}var EI=Array.isArray;function sT(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(oi(309));var r=t.stateNode}if(!r)throw Error(oi(147,n));var i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===_he&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof n!="string")throw Error(oi(284));if(!t._owner)throw Error(oi(290,n))}return n}function bI(n,e){if(n.type!=="textarea")throw Error(oi(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Che(n){function e($,L){if(n){var q=$.lastEffect;q!==null?(q.nextEffect=L,$.lastEffect=L):$.firstEffect=$.lastEffect=L,L.nextEffect=null,L.flags=8}}function t($,L){if(!n)return null;for(;L!==null;)e($,L),L=L.sibling;return null}function r($,L){for($=new Map;L!==null;)L.key!==null?$.set(L.key,L):$.set(L.index,L),L=L.sibling;return $}function i($,L){return $=G3($,L),$.index=0,$.sibling=null,$}function s($,L,q){return $.index=q,n?(q=$.alternate,q!==null?(q=q.index,q<L?($.flags=2,L):q):($.flags=2,L)):L}function o($){return n&&$.alternate===null&&($.flags=2),$}function a($,L,q,P){return L===null||L.tag!==6?(L=mJ(q,$.mode,P),L.return=$,L):(L=i(L,q),L.return=$,L)}function l($,L,q,P){return L!==null&&L.elementType===q.type?(P=i(L,q.props),P.ref=sT($,L,q),P.return=$,P):(P=qI(q.type,q.key,q.props,null,$.mode,P),P.ref=sT($,L,q),P.return=$,P)}function f($,L,q,P){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=xJ(q,$.mode,P),L.return=$,L):(L=i(L,q.children||[]),L.return=$,L)}function p($,L,q,P,W){return L===null||L.tag!==7?(L=P8(q,$.mode,P,W),L.return=$,L):(L=i(L,q),L.return=$,L)}function _($,L,q){if(typeof L=="string"||typeof L=="number")return L=mJ(""+L,$.mode,q),L.return=$,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case NA:return q=qI(L.type,L.key,L.props,null,$.mode,q),q.ref=sT($,null,L),q.return=$,q;case C_:return L=xJ(L,$.mode,q),L.return=$,L}if(EI(L)||IA(L))return L=P8(L,$.mode,q,null),L.return=$,L;bI($,L)}return null}function b($,L,q,P){var W=L!==null?L.key:null;if(typeof q=="string"||typeof q=="number")return W!==null?null:a($,L,""+q,P);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case NA:return q.key===W?q.type===D3?p($,L,q.props.children,P,W):l($,L,q,P):null;case C_:return q.key===W?f($,L,q,P):null}if(EI(q)||IA(q))return W!==null?null:p($,L,q,P,null);bI($,q)}return null}function R($,L,q,P,W){if(typeof P=="string"||typeof P=="number")return $=$.get(q)||null,a(L,$,""+P,W);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case NA:return $=$.get(P.key===null?q:P.key)||null,P.type===D3?p(L,$,P.props.children,W,P.key):l(L,$,P,W);case C_:return $=$.get(P.key===null?q:P.key)||null,f(L,$,P,W)}if(EI(P)||IA(P))return $=$.get(q)||null,p(L,$,P,W,null);bI(L,P)}return null}function O($,L,q,P){for(var W=null,oe=null,I=L,J=L=0,he=null;I!==null&&J<q.length;J++){I.index>J?(he=I,I=null):he=I.sibling;var ye=b($,I,q[J],P);if(ye===null){I===null&&(I=he);break}n&&I&&ye.alternate===null&&e($,I),L=s(ye,L,J),oe===null?W=ye:oe.sibling=ye,oe=ye,I=he}if(J===q.length)return t($,I),W;if(I===null){for(;J<q.length;J++)I=_($,q[J],P),I!==null&&(L=s(I,L,J),oe===null?W=I:oe.sibling=I,oe=I);return W}for(I=r($,I);J<q.length;J++)he=R(I,$,J,q[J],P),he!==null&&(n&&he.alternate!==null&&I.delete(he.key===null?J:he.key),L=s(he,L,J),oe===null?W=he:oe.sibling=he,oe=he);return n&&I.forEach(function(He){return e($,He)}),W}function j($,L,q,P){var W=IA(q);if(typeof W!="function")throw Error(oi(150));if(q=W.call(q),q==null)throw Error(oi(151));for(var oe=W=null,I=L,J=L=0,he=null,ye=q.next();I!==null&&!ye.done;J++,ye=q.next()){I.index>J?(he=I,I=null):he=I.sibling;var He=b($,I,ye.value,P);if(He===null){I===null&&(I=he);break}n&&I&&He.alternate===null&&e($,I),L=s(He,L,J),oe===null?W=He:oe.sibling=He,oe=He,I=he}if(ye.done)return t($,I),W;if(I===null){for(;!ye.done;J++,ye=q.next())ye=_($,ye.value,P),ye!==null&&(L=s(ye,L,J),oe===null?W=ye:oe.sibling=ye,oe=ye);return W}for(I=r($,I);!ye.done;J++,ye=q.next())ye=R(I,$,J,ye.value,P),ye!==null&&(n&&ye.alternate!==null&&I.delete(ye.key===null?J:ye.key),L=s(ye,L,J),oe===null?W=ye:oe.sibling=ye,oe=ye);return n&&I.forEach(function(at){return e($,at)}),W}return function($,L,q,P){var W=typeof q=="object"&&q!==null&&q.type===D3&&q.key===null;W&&(q=q.props.children);var oe=typeof q=="object"&&q!==null;if(oe)switch(q.$$typeof){case NA:e:{for(oe=q.key,W=L;W!==null;){if(W.key===oe){switch(W.tag){case 7:if(q.type===D3){t($,W.sibling),L=i(W,q.props.children),L.return=$,$=L;break e}break;default:if(W.elementType===q.type){t($,W.sibling),L=i(W,q.props),L.ref=sT($,W,q),L.return=$,$=L;break e}}t($,W);break}else e($,W);W=W.sibling}q.type===D3?(L=P8(q.props.children,$.mode,P,q.key),L.return=$,$=L):(P=qI(q.type,q.key,q.props,null,$.mode,P),P.ref=sT($,L,q),P.return=$,$=P)}return o($);case C_:e:{for(W=q.key;L!==null;){if(L.key===W)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){t($,L.sibling),L=i(L,q.children||[]),L.return=$,$=L;break e}else{t($,L);break}else e($,L);L=L.sibling}L=xJ(q,$.mode,P),L.return=$,$=L}return o($)}if(typeof q=="string"||typeof q=="number")return q=""+q,L!==null&&L.tag===6?(t($,L.sibling),L=i(L,q),L.return=$,$=L):(t($,L),L=mJ(q,$.mode,P),L.return=$,$=L),o($);if(EI(q))return O($,L,q,P);if(IA(q))return j($,L,q,P);if(oe&&bI($,q),typeof q=="undefined"&&!W)switch($.tag){case 1:case 22:case 0:case 11:case 15:throw Error(oi(152,c8($.type)||"Component"))}return t($,L)}}var SI=Che(!0),whe=Che(!1),oT={},g2=P3(oT),aT=P3(oT),uT=P3(oT);function O_(n){if(n===oT)throw Error(oi(174));return n}function kK(n,e){switch(Ol(uT,e),Ol(aT,n),Ol(g2,oT),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qY(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=qY(e,n)}_u(g2),Ol(g2,e)}function R8(){_u(g2),_u(aT),_u(uT)}function Ahe(n){O_(uT.current);var e=O_(g2.current),t=qY(e,n.type);e!==t&&(Ol(aT,n),Ol(g2,t))}function IK(n){aT.current===n&&(_u(g2),_u(aT))}var Nl=P3(0);function CI(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bg=null,$3=null,y2=!1;function The(n,e){var t=Pp(5,null,null,0);t.elementType="DELETED",t.type="DELETED",t.stateNode=e,t.return=n,t.flags=8,n.lastEffect!==null?(n.lastEffect.nextEffect=t,n.lastEffect=t):n.firstEffect=n.lastEffect=t}function Fhe(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function MK(n){if(y2){var e=$3;if(e){var t=e;if(!Fhe(n,e)){if(e=b8(t.nextSibling),!e||!Fhe(n,e)){n.flags=n.flags&-1025|2,y2=!1,bg=n;return}The(bg,t)}bg=n,$3=b8(e.firstChild)}else n.flags=n.flags&-1025|2,y2=!1,bg=n}}function Dhe(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;bg=n}function wI(n){if(n!==bg)return!1;if(!y2)return Dhe(n),y2=!0,!1;var e=n.type;if(n.tag!==5||e!=="head"&&e!=="body"&&!_K(e,n.memoizedProps))for(e=$3;e;)The(n,e),e=b8(e.nextSibling);if(Dhe(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(oi(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){$3=b8(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}$3=null}}else $3=bg?b8(n.stateNode.nextSibling):null;return!0}function PK(){$3=bg=null,y2=!1}var O8=[];function BK(){for(var n=0;n<O8.length;n++)O8[n]._workInProgressVersionPrimary=null;O8.length=0}var lT=S_.ReactCurrentDispatcher,Ip=S_.ReactCurrentBatchConfig,cT=0,Kl=null,F0=null,zf=null,AI=!1,fT=!1;function ih(){throw Error(oi(321))}function jK(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Lp(n[t],e[t]))return!1;return!0}function qK(n,e,t,r,i,s){if(cT=s,Kl=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lT.current=n===null||n.memoizedState===null?Kqe:Jqe,n=t(r,i),fT){s=0;do{if(fT=!1,!(25>s))throw Error(oi(301));s+=1,zf=F0=null,e.updateQueue=null,lT.current=Xqe,n=t(r,i)}while(fT)}if(lT.current=RI,e=F0!==null&&F0.next!==null,cT=0,zf=F0=Kl=null,AI=!1,e)throw Error(oi(300));return n}function N_(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zf===null?Kl.memoizedState=zf=n:zf=zf.next=n,zf}function L_(){if(F0===null){var n=Kl.alternate;n=n!==null?n.memoizedState:null}else n=F0.next;var e=zf===null?Kl.memoizedState:zf.next;if(e!==null)zf=e,F0=n;else{if(n===null)throw Error(oi(310));F0=n,n={memoizedState:F0.memoizedState,baseState:F0.baseState,baseQueue:F0.baseQueue,queue:F0.queue,next:null},zf===null?Kl.memoizedState=zf=n:zf=zf.next=n}return zf}function v2(n,e){return typeof e=="function"?e(n):e}function dT(n){var e=L_(),t=e.queue;if(t===null)throw Error(oi(311));t.lastRenderedReducer=n;var r=F0,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=o=s=null,l=i;do{var f=l.lane;if((cT&f)===f)a!==null&&(a=a.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===n?l.eagerState:n(r,l.action);else{var p={lane:f,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};a===null?(o=a=p,s=r):a=a.next=p,Kl.lanes|=f,xT|=f}l=l.next}while(l!==null&&l!==i);a===null?s=r:a.next=o,Lp(r,e.memoizedState)||(dm=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,t.lastRenderedState=r}return[e.memoizedState,t.dispatch]}function hT(n){var e=L_(),t=e.queue;if(t===null)throw Error(oi(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Lp(s,e.memoizedState)||(dm=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function Rhe(n,e,t){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?n=i===r:(n=n.mutableReadLanes,(n=(cT&n)===n)&&(e._workInProgressVersionPrimary=r,O8.push(e))),n)return t(e._source);throw O8.push(e),Error(oi(350))}function Ohe(n,e,t,r){var i=pd;if(i===null)throw Error(oi(349));var s=e._getVersion,o=s(e._source),a=lT.current,l=a.useState(function(){return Rhe(i,e,t)}),f=l[1],p=l[0];l=zf;var _=n.memoizedState,b=_.refs,R=b.getSnapshot,O=_.source;_=_.subscribe;var j=Kl;return n.memoizedState={refs:b,source:e,subscribe:r},a.useEffect(function(){b.getSnapshot=t,b.setSnapshot=f;var $=s(e._source);if(!Lp(o,$)){$=t(e._source),Lp(p,$)||(f($),$=H3(j),i.mutableReadLanes|=$&i.pendingLanes),$=i.mutableReadLanes,i.entangledLanes|=$;for(var L=i.entanglements,q=$;0<q;){var P=31-k3(q),W=1<<P;L[P]|=$,q&=~W}}},[t,e,r]),a.useEffect(function(){return r(e._source,function(){var $=b.getSnapshot,L=b.setSnapshot;try{L($(e._source));var q=H3(j);i.mutableReadLanes|=q&i.pendingLanes}catch(P){L(function(){throw P})}})},[e,r]),Lp(R,t)&&Lp(O,e)&&Lp(_,r)||(n={pending:null,dispatch:null,lastRenderedReducer:v2,lastRenderedState:p},n.dispatch=f=HK.bind(null,Kl,n),l.queue=n,l.baseQueue=null,p=Rhe(i,e,t),l.memoizedState=l.baseState=p),p}function Nhe(n,e,t){var r=L_();return Ohe(r,n,e,t)}function pT(n){var e=N_();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n=e.queue={pending:null,dispatch:null,lastRenderedReducer:v2,lastRenderedState:n},n=n.dispatch=HK.bind(null,Kl,n),[e.memoizedState,n]}function TI(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Kl.updateQueue,e===null?(e={lastEffect:null},Kl.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function Lhe(n){var e=N_();return n={current:n},e.memoizedState=n}function FI(){return L_().memoizedState}function UK(n,e,t,r){var i=N_();Kl.flags|=n,i.memoizedState=TI(1|e,t,void 0,r===void 0?null:r)}function $K(n,e,t,r){var i=L_();r=r===void 0?null:r;var s=void 0;if(F0!==null){var o=F0.memoizedState;if(s=o.destroy,r!==null&&jK(r,o.deps)){TI(e,t,s,r);return}}Kl.flags|=n,i.memoizedState=TI(1|e,t,s,r)}function khe(n,e){return UK(516,4,n,e)}function DI(n,e){return $K(516,4,n,e)}function Ihe(n,e){return $K(4,2,n,e)}function Mhe(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Phe(n,e,t){return t=t!=null?t.concat([n]):null,$K(4,2,Mhe.bind(null,e,n),t)}function zK(){}function Bhe(n,e){var t=L_();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&jK(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function jhe(n,e){var t=L_();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&jK(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function Yqe(n,e){var t=T8();R_(98>t?98:t,function(){n(!0)}),R_(97<t?97:t,function(){var r=Ip.transition;Ip.transition=1;try{n(!1),e()}finally{Ip.transition=r}})}function HK(n,e,t){var r=Uh(),i=H3(n),s={lane:i,action:t,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=n.alternate,n===Kl||o!==null&&o===Kl)fT=AI=!0;else{if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,t);if(s.eagerReducer=o,s.eagerState=l,Lp(l,a))return}catch{}finally{}V3(n,i,r)}}var RI={readContext:kp,useCallback:ih,useContext:ih,useEffect:ih,useImperativeHandle:ih,useLayoutEffect:ih,useMemo:ih,useReducer:ih,useRef:ih,useState:ih,useDebugValue:ih,useDeferredValue:ih,useTransition:ih,useMutableSource:ih,useOpaqueIdentifier:ih,unstable_isNewReconciler:!1},Kqe={readContext:kp,useCallback:function(n,e){return N_().memoizedState=[n,e===void 0?null:e],n},useContext:kp,useEffect:khe,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,UK(4,2,Mhe.bind(null,e,n),t)},useLayoutEffect:function(n,e){return UK(4,2,n,e)},useMemo:function(n,e){var t=N_();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=N_();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n=r.queue={pending:null,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},n=n.dispatch=HK.bind(null,Kl,n),[r.memoizedState,n]},useRef:Lhe,useState:pT,useDebugValue:zK,useDeferredValue:function(n){var e=pT(n),t=e[0],r=e[1];return khe(function(){var i=Ip.transition;Ip.transition=1;try{r(n)}finally{Ip.transition=i}},[n]),t},useTransition:function(){var n=pT(!1),e=n[0];return n=Yqe.bind(null,n[1]),Lhe(n),[n,e]},useMutableSource:function(n,e,t){var r=N_();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:n,subscribe:t},Ohe(r,n,e,t)},useOpaqueIdentifier:function(){if(y2){var n=!1,e=zqe(function(){throw n||(n=!0,t("r:"+(bK++).toString(36))),Error(oi(355))}),t=pT(e)[1];return(Kl.mode&2)===0&&(Kl.flags|=516,TI(5,function(){t("r:"+(bK++).toString(36))},void 0,null)),e}return e="r:"+(bK++).toString(36),pT(e),e},unstable_isNewReconciler:!1},Jqe={readContext:kp,useCallback:Bhe,useContext:kp,useEffect:DI,useImperativeHandle:Phe,useLayoutEffect:Ihe,useMemo:jhe,useReducer:dT,useRef:FI,useState:function(){return dT(v2)},useDebugValue:zK,useDeferredValue:function(n){var e=dT(v2),t=e[0],r=e[1];return DI(function(){var i=Ip.transition;Ip.transition=1;try{r(n)}finally{Ip.transition=i}},[n]),t},useTransition:function(){var n=dT(v2)[0];return[FI().current,n]},useMutableSource:Nhe,useOpaqueIdentifier:function(){return dT(v2)[0]},unstable_isNewReconciler:!1},Xqe={readContext:kp,useCallback:Bhe,useContext:kp,useEffect:DI,useImperativeHandle:Phe,useLayoutEffect:Ihe,useMemo:jhe,useReducer:hT,useRef:FI,useState:function(){return hT(v2)},useDebugValue:zK,useDeferredValue:function(n){var e=hT(v2),t=e[0],r=e[1];return DI(function(){var i=Ip.transition;Ip.transition=1;try{r(n)}finally{Ip.transition=i}},[n]),t},useTransition:function(){var n=hT(v2)[0];return[FI().current,n]},useMutableSource:Nhe,useOpaqueIdentifier:function(){return hT(v2)[0]},unstable_isNewReconciler:!1},Zqe=S_.ReactCurrentOwner,dm=!1;function sh(n,e,t,r){e.child=n===null?whe(e,null,t,r):SI(e,n.child,t,r)}function qhe(n,e,t,r,i){t=t.render;var s=e.ref;return D8(e,i),r=qK(n,e,t,r,s,i),n!==null&&!dm?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,Sg(n,e,i)):(e.flags|=1,sh(n,e,r,i),e.child)}function Uhe(n,e,t,r,i,s){if(n===null){var o=t.type;return typeof o=="function"&&!hJ(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,$he(n,e,o,r,i,s)):(n=qI(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}return o=n.child,(i&s)===0&&(i=o.memoizedProps,t=t.compare,t=t!==null?t:XA,t(i,r)&&n.ref===e.ref)?Sg(n,e,s):(e.flags|=1,n=G3(o,r),n.ref=e.ref,n.return=e,e.child=n)}function $he(n,e,t,r,i,s){if(n!==null&&XA(n.memoizedProps,r)&&n.ref===e.ref)if(dm=!1,(s&i)!==0)(n.flags&16384)!==0&&(dm=!0);else return e.lanes=n.lanes,Sg(n,e,s);return WK(n,e,t,r,s)}function VK(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},jI(e,t);else if((t&1073741824)!==0)e.memoizedState={baseLanes:0},jI(e,s!==null?s.baseLanes:t);else return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n},jI(e,n),null;else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,jI(e,r);return sh(n,e,i,t),e.child}function zhe(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=128)}function WK(n,e,t,r,i){var s=rh(t)?F_:A0.current;return s=A8(e,s),D8(e,i),t=qK(n,e,t,r,s,i),n!==null&&!dm?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,Sg(n,e,i)):(e.flags|=1,sh(n,e,t,i),e.child)}function Hhe(n,e,t,r,i){if(rh(t)){var s=!0;hI(e)}else s=!1;if(D8(e,i),e.stateNode===null)n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),bhe(e,t,r),LK(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,f=t.contextType;typeof f=="object"&&f!==null?f=kp(f):(f=rh(t)?F_:A0.current,f=A8(e,f));var p=t.getDerivedStateFromProps,_=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";_||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==f)&&She(e,o,r,f),j3=!1;var b=e.memoizedState;o.state=b,iT(e,r,o,i),l=e.memoizedState,a!==r||b!==l||nh.current||j3?(typeof p=="function"&&(vI(e,t,p,r),l=e.memoizedState),(a=j3||Ehe(e,t,a,r,b,l,f))?(_||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=f,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,ghe(n,e),a=e.memoizedProps,f=e.type===e.elementType?a:fm(e.type,a),o.props=f,_=e.pendingProps,b=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=kp(l):(l=rh(t)?F_:A0.current,l=A8(e,l));var R=t.getDerivedStateFromProps;(p=typeof R=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==_||b!==l)&&She(e,o,r,l),j3=!1,b=e.memoizedState,o.state=b,iT(e,r,o,i);var O=e.memoizedState;a!==_||b!==O||nh.current||j3?(typeof R=="function"&&(vI(e,t,R,r),O=e.memoizedState),(f=j3||Ehe(e,t,f,r,b,O,l))?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,O,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,O,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&b===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&b===n.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=O),o.props=r,o.state=O,o.context=l,r=f):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&b===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&b===n.memoizedState||(e.flags|=256),r=!1)}return QK(n,e,t,r,s,i)}function QK(n,e,t,r,i,s){zhe(n,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&ahe(e,t,!1),Sg(n,e,s);r=e.stateNode,Zqe.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=SI(e,n.child,null,s),e.child=SI(e,null,a,s)):sh(n,e,a,s),e.memoizedState=r.state,i&&ahe(e,t,!0),e.child}function Vhe(n){var e=n.stateNode;e.pendingContext?she(n,e.pendingContext,e.pendingContext!==e.context):e.context&&she(n,e.context,!1),kK(n,e.containerInfo)}var OI={dehydrated:null,retryLane:0};function Whe(n,e,t){var r=e.pendingProps,i=Nl.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=n!==null&&n.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):n!==null&&n.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),Ol(Nl,i&1),n===null?(r.fallback!==void 0&&MK(e),n=r.children,i=r.fallback,s?(n=Qhe(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=OI,n):typeof r.unstable_expectedLoadTime=="number"?(n=Qhe(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=OI,e.lanes=33554432,n):(t=pJ({mode:"visible",children:n},e.mode,t,null),t.return=e,e.child=t)):n.memoizedState!==null?s?(r=Yhe(n,e,r.children,r.fallback,t),s=e.child,i=n.child.memoizedState,s.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},s.childLanes=n.childLanes&~t,e.memoizedState=OI,r):(t=Ghe(n,e,r.children,t),e.memoizedState=null,t):s?(r=Yhe(n,e,r.children,r.fallback,t),s=e.child,i=n.child.memoizedState,s.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},s.childLanes=n.childLanes&~t,e.memoizedState=OI,r):(t=Ghe(n,e,r.children,t),e.memoizedState=null,t)}function Qhe(n,e,t,r){var i=n.mode,s=n.child;return e={mode:"hidden",children:e},(i&2)===0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=pJ(e,i,0,null),t=P8(t,i,r,null),s.return=n,t.return=n,s.sibling=t,n.child=s,t}function Ghe(n,e,t,r){var i=n.child;return n=i.sibling,t=G3(i,{mode:"visible",children:t}),(e.mode&2)===0&&(t.lanes=r),t.return=e,t.sibling=null,n!==null&&(n.nextEffect=null,n.flags=8,e.firstEffect=e.lastEffect=n),e.child=t}function Yhe(n,e,t,r,i){var s=e.mode,o=n.child;n=o.sibling;var a={mode:"hidden",children:t};return(s&2)===0&&e.child!==o?(t=e.child,t.childLanes=0,t.pendingProps=a,o=t.lastEffect,o!==null?(e.firstEffect=t.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):t=G3(o,a),n!==null?r=G3(n,r):(r=P8(r,s,i,null),r.flags|=2),r.return=e,t.return=e,t.sibling=r,e.child=t,r}function Khe(n,e){n.lanes|=e;var t=n.alternate;t!==null&&(t.lanes|=e),xhe(n.return,e)}function GK(n,e,t,r,i,s){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i,o.lastEffect=s)}function Jhe(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(sh(n,e,r.children,t),r=Nl.current,(r&2)!==0)r=r&1|2,e.flags|=64;else{if(n!==null&&(n.flags&64)!==0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Khe(n,t);else if(n.tag===19)Khe(n,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Ol(Nl,r),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&CI(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),GK(e,!1,i,t,s,e.lastEffect);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&CI(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}GK(e,!0,t,null,s,e.lastEffect);break;case"together":GK(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Sg(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),xT|=e.lanes,(t&e.childLanes)!==0){if(n!==null&&e.child!==n.child)throw Error(oi(153));if(e.child!==null){for(n=e.child,t=G3(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=G3(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}return null}var Xhe,YK,Zhe,epe;Xhe=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};YK=function(){};Zhe=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,O_(g2.current);var s=null;switch(t){case"input":i=kY(n,i),r=kY(n,r),s=[];break;case"option":i=PY(n,i),r=PY(n,r),s=[];break;case"select":i=qu({},i,{value:void 0}),r=qu({},r,{value:void 0}),s=[];break;case"textarea":i=BY(n,i),r=BY(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=uI)}UY(t,r);var o;t=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var a=i[f];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(OA.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(a=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&l!==a&&(l!=null||a!=null))if(f==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(f,t)),t=l;else f==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(f,l)):f==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(f,""+l):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(OA.hasOwnProperty(f)?(l!=null&&f==="onScroll"&&vu("scroll",n),s||a===l||(s=[])):typeof l=="object"&&l!==null&&l.$$typeof===DY?l.toString():(s=s||[]).push(f,l))}t&&(s=s||[]).push("style",t);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};epe=function(n,e,t,r){t!==r&&(e.flags|=4)};function mT(n,e){if(!y2)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function eUe(n,e,t){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return rh(e.type)&&dI(),null;case 3:return R8(),_u(nh),_u(A0),BK(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(wI(e)?e.flags|=4:r.hydrate||(e.flags|=256)),YK(e),null;case 5:IK(e);var i=O_(uT.current);if(t=e.type,n!==null&&e.stateNode!=null)Zhe(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(oi(166));return null}if(n=O_(g2.current),wI(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[M3]=e,r[cI]=s,t){case"dialog":vu("cancel",r),vu("close",r);break;case"iframe":case"object":case"embed":vu("load",r);break;case"video":case"audio":for(n=0;n<eT.length;n++)vu(eT[n],r);break;case"source":vu("error",r);break;case"img":case"image":case"link":vu("error",r),vu("load",r);break;case"details":vu("toggle",r);break;case"input":W0e(r,s),vu("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},vu("invalid",r);break;case"textarea":Y0e(r,s),vu("invalid",r)}UY(t,s),n=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(n=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(n=["children",""+i]):OA.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&vu("scroll",r));switch(t){case"input":$k(r),G0e(r,s,!0);break;case"textarea":$k(r),J0e(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=uI)}r=n,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,n===jY.html&&(n=X0e(t)),n===jY.html?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[M3]=e,n[cI]=r,Xhe(n,e,!1,!1),e.stateNode=n,o=$Y(t,r),t){case"dialog":vu("cancel",n),vu("close",n),i=r;break;case"iframe":case"object":case"embed":vu("load",n),i=r;break;case"video":case"audio":for(i=0;i<eT.length;i++)vu(eT[i],n);i=r;break;case"source":vu("error",n),i=r;break;case"img":case"image":case"link":vu("error",n),vu("load",n),i=r;break;case"details":vu("toggle",n),i=r;break;case"input":W0e(n,r),i=kY(n,r),vu("invalid",n);break;case"option":i=PY(n,r);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=qu({},r,{value:void 0}),vu("invalid",n);break;case"textarea":Y0e(n,r),i=BY(n,r),vu("invalid",n);break;default:i=r}UY(t,i);var a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?tde(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Z0e(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&PA(n,l):typeof l=="number"&&PA(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(OA.hasOwnProperty(s)?l!=null&&s==="onScroll"&&vu("scroll",n):l!=null&&SY(n,s,l,o))}switch(t){case"input":$k(n),G0e(n,r,!1);break;case"textarea":$k(n),J0e(n);break;case"option":r.value!=null&&n.setAttribute("value",""+R3(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?f8(n,!!r.multiple,s,!1):r.defaultValue!=null&&f8(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=uI)}ehe(t,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(n&&e.stateNode!=null)epe(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oi(166));t=O_(uT.current),O_(g2.current),wI(e)?(r=e.stateNode,t=e.memoizedProps,r[M3]=e,r.nodeValue!==t&&(e.flags|=4)):(r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[M3]=e,e.stateNode=r)}return null;case 13:return _u(Nl),r=e.memoizedState,(e.flags&64)!==0?(e.lanes=t,e):(r=r!==null,t=!1,n===null?e.memoizedProps.fallback!==void 0&&wI(e):t=n.memoizedState!==null,r&&!t&&(e.mode&2)!==0&&(n===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(Nl.current&1)!==0?Hf===0&&(Hf=3):((Hf===0||Hf===3)&&(Hf=4),pd===null||(xT&134217727)===0&&(L8&134217727)===0||I8(pd,D0))),(r||t)&&(e.flags|=4),null);case 4:return R8(),YK(e),n===null&&Yde(e.stateNode.containerInfo),null;case 10:return OK(e),null;case 17:return rh(e.type)&&dI(),null;case 19:if(_u(Nl),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)mT(r,!1);else{if(Hf!==0||n!==null&&(n.flags&64)!==0)for(n=e.child;n!==null;){if(o=CI(n),o!==null){for(e.flags|=64,mT(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ol(Nl,Nl.current&1|2),e.child}n=n.sibling}r.tail!==null&&T0()>oJ&&(e.flags|=64,s=!0,mT(r,!1),e.lanes=33554432)}else{if(!s)if(n=CI(o),n!==null){if(e.flags|=64,s=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),mT(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!y2)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*T0()-r.renderingStartTime>oJ&&t!==1073741824&&(e.flags|=64,s=!0,mT(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(t=r.last,t!==null?t.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=T0(),t.sibling=null,e=Nl.current,Ol(Nl,s?e&1|2:e&1),t):null;case 23:case 24:return dJ(),n!==null&&n.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(oi(156,e.tag))}function tUe(n){switch(n.tag){case 1:rh(n.type)&&dI();var e=n.flags;return e&4096?(n.flags=e&-4097|64,n):null;case 3:if(R8(),_u(nh),_u(A0),BK(),e=n.flags,(e&64)!==0)throw Error(oi(285));return n.flags=e&-4097|64,n;case 5:return IK(n),null;case 13:return _u(Nl),e=n.flags,e&4096?(n.flags=e&-4097|64,n):null;case 19:return _u(Nl),null;case 4:return R8(),null;case 10:return OK(n),null;case 23:case 24:return dJ(),null;default:return null}}function KK(n,e){try{var t="",r=e;do t+=Ije(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i}}function JK(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var nUe=typeof WeakMap=="function"?WeakMap:Map;function tpe(n,e,t){t=q3(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){kI||(kI=!0,aJ=r),JK(n,e)},t}function npe(n,e,t){t=q3(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return JK(n,e),r(i)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){typeof r!="function"&&(_2===null?_2=new Set([this]):_2.add(this),JK(n,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}var rUe=typeof WeakSet=="function"?WeakSet:Set;function rpe(n){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(t){Q3(n,t)}else e.current=null}function iUe(n,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&n!==null){var t=n.memoizedProps,r=n.memoizedState;n=e.stateNode,e=n.getSnapshotBeforeUpdate(e.elementType===e.type?t:fm(e.type,t),r),n.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&EK(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(oi(163))}function sUe(n,e,t){switch(t.tag){case 0:case 11:case 15:case 22:if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{if((n.tag&3)===3){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{var i=n;r=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(ype(t,n),hUe(t,n)),n=r}while(n!==e)}return;case 1:n=t.stateNode,t.flags&4&&(e===null?n.componentDidMount():(r=t.elementType===t.type?e.memoizedProps:fm(t.type,e.memoizedProps),n.componentDidUpdate(r,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate))),e=t.updateQueue,e!==null&&vhe(t,e,n);return;case 3:if(e=t.updateQueue,e!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vhe(t,e,n)}return;case 5:n=t.stateNode,e===null&&t.flags&4&&ehe(t.type,t.memoizedProps)&&n.focus();return;case 6:return;case 4:return;case 12:return;case 13:t.memoizedState===null&&(t=t.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&gde(t))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(oi(163))}function ipe(n,e){for(var t=n;;){if(t.tag===5){var r=t.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=t.stateNode;var i=t.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=ede("display",i)}}else if(t.tag===6)t.stateNode.nodeValue=e?"":t.memoizedProps;else if((t.tag!==23&&t.tag!==24||t.memoizedState===null||t===n)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function spe(n,e){if(D_&&typeof D_.onCommitFiberUnmount=="function")try{D_.onCommitFiberUnmount(CK,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null)){var t=n=n.next;do{var r=t,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!==0)ype(e,t);else{r=e;try{i()}catch(s){Q3(r,s)}}t=t.next}while(t!==n)}break;case 1:if(rpe(e),n=e.stateNode,typeof n.componentWillUnmount=="function")try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(s){Q3(e,s)}break;case 5:rpe(e);break;case 4:lpe(n,e)}}function ope(n){n.alternate=null,n.child=null,n.dependencies=null,n.firstEffect=null,n.lastEffect=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.return=null,n.updateQueue=null}function ape(n){return n.tag===5||n.tag===3||n.tag===4}function upe(n){e:{for(var e=n.return;e!==null;){if(ape(e))break e;e=e.return}throw Error(oi(160))}var t=e;switch(e=t.stateNode,t.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(oi(161))}t.flags&16&&(PA(e,""),t.flags&=-17);e:t:for(t=n;;){for(;t.sibling===null;){if(t.return===null||ape(t.return)){t=null;break e}t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2)){t=t.stateNode;break e}}r?XK(n,t,e):ZK(n,t,e)}function XK(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=uI));else if(r!==4&&(n=n.child,n!==null))for(XK(n,e,t),n=n.sibling;n!==null;)XK(n,e,t),n=n.sibling}function ZK(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(ZK(n,e,t),n=n.sibling;n!==null;)ZK(n,e,t),n=n.sibling}function lpe(n,e){for(var t=e,r=!1,i,s;;){if(!r){r=t.return;e:for(;;){if(r===null)throw Error(oi(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(t.tag===5||t.tag===6){e:for(var o=n,a=t,l=a;;)if(spe(o,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}s?(o=i,a=t.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):i.removeChild(t.stateNode)}else if(t.tag===4){if(t.child!==null){i=t.stateNode.containerInfo,s=!0,t.child.return=t,t=t.child;continue}}else if(spe(n,t),t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return,t.tag===4&&(r=!1)}t.sibling.return=t.return,t=t.sibling}}function eJ(n,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var t=e.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do(r.tag&3)===3&&(n=r.destroy,r.destroy=void 0,n!==void 0&&n()),r=r.next;while(r!==t)}return;case 1:return;case 5:if(t=e.stateNode,t!=null){r=e.memoizedProps;var i=n!==null?n.memoizedProps:r;n=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(t[cI]=r,n==="input"&&r.type==="radio"&&r.name!=null&&Q0e(t,r),$Y(n,i),e=$Y(n,r),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];o==="style"?tde(t,a):o==="dangerouslySetInnerHTML"?Z0e(t,a):o==="children"?PA(t,a):SY(t,o,a,e)}switch(n){case"input":IY(t,r);break;case"textarea":K0e(t,r);break;case"select":n=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?f8(t,!!r.multiple,s,!1):n!==!!r.multiple&&(r.defaultValue!=null?f8(t,!!r.multiple,r.defaultValue,!0):f8(t,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(oi(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:t=e.stateNode,t.hydrate&&(t.hydrate=!1,gde(t.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(sJ=T0(),ipe(e.child,!0)),cpe(e);return;case 19:cpe(e);return;case 17:return;case 23:case 24:ipe(e,e.memoizedState!==null);return}throw Error(oi(163))}function cpe(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new rUe),e.forEach(function(r){var i=xUe.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function oUe(n,e){return n!==null&&(n=n.memoizedState,n===null||n.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var aUe=Math.ceil,NI=S_.ReactCurrentDispatcher,tJ=S_.ReactCurrentOwner,Us=0,pd=null,Hc=null,D0=0,k_=0,nJ=P3(0),Hf=0,LI=null,N8=0,xT=0,L8=0,rJ=0,iJ=null,sJ=0,oJ=1/0;function k8(){oJ=T0()+500}var Vi=null,kI=!1,aJ=null,_2=null,z3=!1,gT=null,yT=90,uJ=[],lJ=[],Cg=null,vT=0,cJ=null,II=-1,wg=0,MI=0,_T=null,PI=!1;function Uh(){return(Us&48)!==0?T0():II!==-1?II:II=T0()}function H3(n){if(n=n.mode,(n&2)===0)return 1;if((n&4)===0)return T8()===99?1:2;if(wg===0&&(wg=N8),Gqe.transition!==0){MI!==0&&(MI=iJ!==null?iJ.pendingLanes:0),n=wg;var e=4186112&~MI;return e&=-e,e===0&&(n=4186112&~n,e=n&-n,e===0&&(e=8192)),e}return n=T8(),(Us&4)!==0&&n===98?n=Kk(12,wg):(n=Jje(n),n=Kk(n,wg)),n}function V3(n,e,t){if(50<vT)throw vT=0,cJ=null,Error(oi(185));if(n=BI(n,e),n===null)return null;Jk(n,e,t),n===pd&&(L8|=e,Hf===4&&I8(n,D0));var r=T8();e===1?(Us&8)!==0&&(Us&48)===0?fJ(n):(Mp(n,t),Us===0&&(k8(),x2())):((Us&4)===0||r!==98&&r!==99||(Cg===null?Cg=new Set([n]):Cg.add(n)),Mp(n,t)),iJ=n}function BI(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}function Mp(n,e){for(var t=n.callbackNode,r=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,o=n.pendingLanes;0<o;){var a=31-k3(o),l=1<<a,f=s[a];if(f===-1){if((l&r)===0||(l&i)!==0){f=e,x8(l);var p=ru;s[a]=10<=p?f+250:6<=p?f+5e3:-1}}else f<=e&&(n.expiredLanes|=l);o&=~l}if(r=WA(n,n===pd?D0:0),e=ru,r===0)t!==null&&(t!==FK&&AK(t),n.callbackNode=null,n.callbackPriority=0);else{if(t!==null){if(n.callbackPriority===e)return;t!==FK&&AK(t)}e===15?(t=fJ.bind(null,n),Eg===null?(Eg=[t],mI=wK(pI,mhe)):Eg.push(t),t=FK):e===14?t=rT(99,fJ.bind(null,n)):(t=Xje(e),t=rT(t,fpe.bind(null,n))),n.callbackPriority=e,n.callbackNode=t}}function fpe(n){if(II=-1,MI=wg=0,(Us&48)!==0)throw Error(oi(327));var e=n.callbackNode;if(W3()&&n.callbackNode!==e)return null;var t=WA(n,n===pd?D0:0);if(t===0)return null;var r=t,i=Us;Us|=16;var s=mpe();(pd!==n||D0!==r)&&(k8(),M8(n,r));do try{cUe();break}catch(a){ppe(n,a)}while(1);if(RK(),NI.current=s,Us=i,Hc!==null?r=0:(pd=null,D0=0,r=Hf),(N8&L8)!==0)M8(n,0);else if(r!==0){if(r===2&&(Us|=64,n.hydrate&&(n.hydrate=!1,EK(n.containerInfo)),t=Cde(n),t!==0&&(r=ET(n,t))),r===1)throw e=LI,M8(n,0),I8(n,t),Mp(n,T0()),e;switch(n.finishedWork=n.current.alternate,n.finishedLanes=t,r){case 0:case 1:throw Error(oi(345));case 2:I_(n);break;case 3:if(I8(n,t),(t&62914560)===t&&(r=sJ+500-T0(),10<r)){if(WA(n,0)!==0)break;if(i=n.suspendedLanes,(i&t)!==t){Uh(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=the(I_.bind(null,n),r);break}I_(n);break;case 4:if(I8(n,t),(t&4186112)===t)break;for(r=n.eventTimes,i=-1;0<t;){var o=31-k3(t);s=1<<o,o=r[o],o>i&&(i=o),t&=~s}if(t=i,t=T0()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*aUe(t/1960))-t,10<t){n.timeoutHandle=the(I_.bind(null,n),t);break}I_(n);break;case 5:I_(n);break;default:throw Error(oi(329))}}return Mp(n,T0()),n.callbackNode===e?fpe.bind(null,n):null}function I8(n,e){for(e&=~rJ,e&=~L8,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-k3(e),r=1<<t;n[t]=-1,e&=~r}}function fJ(n){if((Us&48)!==0)throw Error(oi(327));if(W3(),n===pd&&(n.expiredLanes&D0)!==0){var e=D0,t=ET(n,e);(N8&L8)!==0&&(e=WA(n,e),t=ET(n,e))}else e=WA(n,0),t=ET(n,e);if(n.tag!==0&&t===2&&(Us|=64,n.hydrate&&(n.hydrate=!1,EK(n.containerInfo)),e=Cde(n),e!==0&&(t=ET(n,e))),t===1)throw t=LI,M8(n,0),I8(n,e),Mp(n,T0()),t;return n.finishedWork=n.current.alternate,n.finishedLanes=e,I_(n),Mp(n,T0()),null}function uUe(){if(Cg!==null){var n=Cg;Cg=null,n.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Mp(e,T0())})}x2()}function dpe(n,e){var t=Us;Us|=1;try{return n(e)}finally{Us=t,Us===0&&(k8(),x2())}}function hpe(n,e){var t=Us;Us&=-2,Us|=8;try{return n(e)}finally{Us=t,Us===0&&(k8(),x2())}}function jI(n,e){Ol(nJ,k_),k_|=e,N8|=e}function dJ(){k_=nJ.current,_u(nJ)}function M8(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,$qe(t)),Hc!==null)for(t=Hc.return;t!==null;){var r=t;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&dI();break;case 3:R8(),_u(nh),_u(A0),BK();break;case 5:IK(r);break;case 4:R8();break;case 13:_u(Nl);break;case 19:_u(Nl);break;case 10:OK(r);break;case 23:case 24:dJ()}t=t.return}pd=n,Hc=G3(n.current,null),D0=k_=N8=e,Hf=0,LI=null,rJ=L8=xT=0}function ppe(n,e){do{var t=Hc;try{if(RK(),lT.current=RI,AI){for(var r=Kl.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}AI=!1}if(cT=0,zf=F0=Kl=null,fT=!1,tJ.current=null,t===null||t.return===null){Hf=1,LI=e,Hc=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=D0,a.flags|=2048,a.firstEffect=a.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var f=l;if((a.mode&2)===0){var p=a.alternate;p?(a.updateQueue=p.updateQueue,a.memoizedState=p.memoizedState,a.lanes=p.lanes):(a.updateQueue=null,a.memoizedState=null)}var _=(Nl.current&1)!==0,b=o;do{var R;if(R=b.tag===13){var O=b.memoizedState;if(O!==null)R=O.dehydrated!==null;else{var j=b.memoizedProps;R=j.fallback===void 0?!1:j.unstable_avoidThisFallback!==!0?!0:!_}}if(R){var $=b.updateQueue;if($===null){var L=new Set;L.add(f),b.updateQueue=L}else $.add(f);if((b.mode&2)===0){if(b.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var q=q3(-1,1);q.tag=2,U3(a,q)}a.lanes|=1;break e}l=void 0,a=e;var P=s.pingCache;if(P===null?(P=s.pingCache=new nUe,l=new Set,P.set(f,l)):(l=P.get(f),l===void 0&&(l=new Set,P.set(f,l))),!l.has(a)){l.add(a);var W=mUe.bind(null,s,f,a);f.then(W,W)}b.flags|=4096,b.lanes=e;break e}b=b.return}while(b!==null);l=Error((c8(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Hf!==5&&(Hf=2),l=KK(l,a),b=o;do{switch(b.tag){case 3:s=l,b.flags|=4096,e&=-e,b.lanes|=e;var oe=tpe(b,s,e);yhe(b,oe);break e;case 1:s=l;var I=b.type,J=b.stateNode;if((b.flags&64)===0&&(typeof I.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(_2===null||!_2.has(J)))){b.flags|=4096,e&=-e,b.lanes|=e;var he=npe(b,s,e);yhe(b,he);break e}}b=b.return}while(b!==null)}gpe(t)}catch(ye){e=ye,Hc===t&&t!==null&&(Hc=t=t.return);continue}break}while(1)}function mpe(){var n=NI.current;return NI.current=RI,n===null?RI:n}function ET(n,e){var t=Us;Us|=16;var r=mpe();pd===n&&D0===e||M8(n,e);do try{lUe();break}catch(i){ppe(n,i)}while(1);if(RK(),Us=t,NI.current=r,Hc!==null)throw Error(oi(261));return pd=null,D0=0,Hf}function lUe(){for(;Hc!==null;)xpe(Hc)}function cUe(){for(;Hc!==null&&!Vqe();)xpe(Hc)}function xpe(n){var e=_pe(n.alternate,n,k_);n.memoizedProps=n.pendingProps,e===null?gpe(n):Hc=e,tJ.current=null}function gpe(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&2048)===0){if(t=eUe(t,e,k_),t!==null){Hc=t;return}if(t=e,t.tag!==24&&t.tag!==23||t.memoizedState===null||(k_&1073741824)!==0||(t.mode&4)===0){for(var r=0,i=t.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;t.childLanes=r}n!==null&&(n.flags&2048)===0&&(n.firstEffect===null&&(n.firstEffect=e.firstEffect),e.lastEffect!==null&&(n.lastEffect!==null&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.flags&&(n.lastEffect!==null?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(t=tUe(e),t!==null){t.flags&=2047,Hc=t;return}n!==null&&(n.firstEffect=n.lastEffect=null,n.flags|=2048)}if(e=e.sibling,e!==null){Hc=e;return}Hc=e=n}while(e!==null);Hf===0&&(Hf=5)}function I_(n){var e=T8();return R_(99,fUe.bind(null,n,e)),null}function fUe(n,e){do W3();while(gT!==null);if((Us&48)!==0)throw Error(oi(327));var t=n.finishedWork;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(oi(177));n.callbackNode=null;var r=t.lanes|t.childLanes,i=r,s=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;for(var o=n.eventTimes,a=n.expirationTimes;0<s;){var l=31-k3(s),f=1<<l;i[l]=0,o[l]=-1,a[l]=-1,s&=~f}if(Cg!==null&&(r&24)===0&&Cg.has(n)&&Cg.delete(n),n===pd&&(Hc=pd=null,D0=0),1<t.flags?t.lastEffect!==null?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,r!==null){if(i=Us,Us|=32,tJ.current=null,yK=Xk,o=zde(),pK(o)){if("selectionStart"in o)a={start:o.selectionStart,end:o.selectionEnd};else e:if(a=(a=o.ownerDocument)&&a.defaultView||window,(f=a.getSelection&&a.getSelection())&&f.rangeCount!==0){a=f.anchorNode,s=f.anchorOffset,l=f.focusNode,f=f.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var p=0,_=-1,b=-1,R=0,O=0,j=o,$=null;t:for(;;){for(var L;j!==a||s!==0&&j.nodeType!==3||(_=p+s),j!==l||f!==0&&j.nodeType!==3||(b=p+f),j.nodeType===3&&(p+=j.nodeValue.length),(L=j.firstChild)!==null;)$=j,j=L;for(;;){if(j===o)break t;if($===a&&++R===s&&(_=p),$===l&&++O===f&&(b=p),(L=j.nextSibling)!==null)break;j=$,$=j.parentNode}j=L}a=_===-1||b===-1?null:{start:_,end:b}}else a=null;a=a||{start:0,end:0}}else a=null;vK={focusedElem:o,selectionRange:a},Xk=!1,_T=null,PI=!1,Vi=r;do try{dUe()}catch(ye){if(Vi===null)throw Error(oi(330));Q3(Vi,ye),Vi=Vi.nextEffect}while(Vi!==null);_T=null,Vi=r;do try{for(o=n;Vi!==null;){var q=Vi.flags;if(q&16&&PA(Vi.stateNode,""),q&128){var P=Vi.alternate;if(P!==null){var W=P.ref;W!==null&&(typeof W=="function"?W(null):W.current=null)}}switch(q&1038){case 2:upe(Vi),Vi.flags&=-3;break;case 6:upe(Vi),Vi.flags&=-3,eJ(Vi.alternate,Vi);break;case 1024:Vi.flags&=-1025;break;case 1028:Vi.flags&=-1025,eJ(Vi.alternate,Vi);break;case 4:eJ(Vi.alternate,Vi);break;case 8:a=Vi,lpe(o,a);var oe=a.alternate;ope(a),oe!==null&&ope(oe)}Vi=Vi.nextEffect}}catch(ye){if(Vi===null)throw Error(oi(330));Q3(Vi,ye),Vi=Vi.nextEffect}while(Vi!==null);if(W=vK,P=zde(),q=W.focusedElem,o=W.selectionRange,P!==q&&q&&q.ownerDocument&&$de(q.ownerDocument.documentElement,q)){for(o!==null&&pK(q)&&(P=o.start,W=o.end,W===void 0&&(W=P),"selectionStart"in q?(q.selectionStart=P,q.selectionEnd=Math.min(W,q.value.length)):(W=(P=q.ownerDocument||document)&&P.defaultView||window,W.getSelection&&(W=W.getSelection(),a=q.textContent.length,oe=Math.min(o.start,a),o=o.end===void 0?oe:Math.min(o.end,a),!W.extend&&oe>o&&(a=o,o=oe,oe=a),a=Ude(q,oe),s=Ude(q,o),a&&s&&(W.rangeCount!==1||W.anchorNode!==a.node||W.anchorOffset!==a.offset||W.focusNode!==s.node||W.focusOffset!==s.offset)&&(P=P.createRange(),P.setStart(a.node,a.offset),W.removeAllRanges(),oe>o?(W.addRange(P),W.extend(s.node,s.offset)):(P.setEnd(s.node,s.offset),W.addRange(P)))))),P=[],W=q;W=W.parentNode;)W.nodeType===1&&P.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<P.length;q++)W=P[q],W.element.scrollLeft=W.left,W.element.scrollTop=W.top}Xk=!!yK,vK=yK=null,n.current=t,Vi=r;do try{for(q=n;Vi!==null;){var I=Vi.flags;if(I&36&&sUe(q,Vi.alternate,Vi),I&128){P=void 0;var J=Vi.ref;if(J!==null){var he=Vi.stateNode;switch(Vi.tag){case 5:P=he;break;default:P=he}typeof J=="function"?J(P):J.current=P}}Vi=Vi.nextEffect}}catch(ye){if(Vi===null)throw Error(oi(330));Q3(Vi,ye),Vi=Vi.nextEffect}while(Vi!==null);Vi=null,Qqe(),Us=i}else n.current=t;if(z3)z3=!1,gT=n,yT=e;else for(Vi=r;Vi!==null;)e=Vi.nextEffect,Vi.nextEffect=null,Vi.flags&8&&(I=Vi,I.sibling=null,I.stateNode=null),Vi=e;if(r=n.pendingLanes,r===0&&(_2=null),r===1?n===cJ?vT++:(vT=0,cJ=n):vT=0,t=t.stateNode,D_&&typeof D_.onCommitFiberRoot=="function")try{D_.onCommitFiberRoot(CK,t,void 0,(t.current.flags&64)===64)}catch{}if(Mp(n,T0()),kI)throw kI=!1,n=aJ,aJ=null,n;return(Us&8)!==0||x2(),null}function dUe(){for(;Vi!==null;){var n=Vi.alternate;PI||_T===null||((Vi.flags&8)!==0?cde(Vi,_T)&&(PI=!0):Vi.tag===13&&oUe(n,Vi)&&cde(Vi,_T)&&(PI=!0));var e=Vi.flags;(e&256)!==0&&iUe(n,Vi),(e&512)===0||z3||(z3=!0,rT(97,function(){return W3(),null})),Vi=Vi.nextEffect}}function W3(){if(yT!==90){var n=97<yT?97:yT;return yT=90,R_(n,pUe)}return!1}function hUe(n,e){uJ.push(e,n),z3||(z3=!0,rT(97,function(){return W3(),null}))}function ype(n,e){lJ.push(e,n),z3||(z3=!0,rT(97,function(){return W3(),null}))}function pUe(){if(gT===null)return!1;var n=gT;if(gT=null,(Us&48)!==0)throw Error(oi(331));var e=Us;Us|=32;var t=lJ;lJ=[];for(var r=0;r<t.length;r+=2){var i=t[r],s=t[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(l){if(s===null)throw Error(oi(330));Q3(s,l)}}for(t=uJ,uJ=[],r=0;r<t.length;r+=2){i=t[r],s=t[r+1];try{var a=i.create;i.destroy=a()}catch(l){if(s===null)throw Error(oi(330));Q3(s,l)}}for(a=n.current.firstEffect;a!==null;)n=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=n;return Us=e,x2(),!0}function vpe(n,e,t){e=KK(t,e),e=tpe(n,e,1),U3(n,e),e=Uh(),n=BI(n,1),n!==null&&(Jk(n,1,e),Mp(n,e))}function Q3(n,e){if(n.tag===3)vpe(n,n,e);else for(var t=n.return;t!==null;){if(t.tag===3){vpe(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_2===null||!_2.has(r))){n=KK(e,n);var i=npe(t,n,1);if(U3(t,i),i=Uh(),t=BI(t,1),t!==null)Jk(t,1,i),Mp(t,i);else if(typeof r.componentDidCatch=="function"&&(_2===null||!_2.has(r)))try{r.componentDidCatch(e,n)}catch{}break}}t=t.return}}function mUe(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Uh(),n.pingedLanes|=n.suspendedLanes&t,pd===n&&(D0&t)===t&&(Hf===4||Hf===3&&(D0&62914560)===D0&&500>T0()-sJ?M8(n,0):rJ|=t),Mp(n,e)}function xUe(n,e){var t=n.stateNode;t!==null&&t.delete(e),e=0,e===0&&(e=n.mode,(e&2)===0?e=1:(e&4)===0?e=T8()===99?1:2:(wg===0&&(wg=N8),e=g8(62914560&~wg),e===0&&(e=4194304))),t=Uh(),n=BI(n,e),n!==null&&(Jk(n,e,t),Mp(n,t))}var _pe;_pe=function(n,e,t){var r=e.lanes;if(n!==null)if(n.memoizedProps!==e.pendingProps||nh.current)dm=!0;else if((t&r)!==0)dm=(n.flags&16384)!==0;else{switch(dm=!1,e.tag){case 3:Vhe(e),PK();break;case 5:Ahe(e);break;case 1:rh(e.type)&&hI(e);break;case 4:kK(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;Ol(xI,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(t&e.child.childLanes)!==0?Whe(n,e,t):(Ol(Nl,Nl.current&1),e=Sg(n,e,t),e!==null?e.sibling:null);Ol(Nl,Nl.current&1);break;case 19:if(r=(t&e.childLanes)!==0,(n.flags&64)!==0){if(r)return Jhe(n,e,t);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ol(Nl,Nl.current),r)break;return null;case 23:case 24:return e.lanes=0,VK(n,e,t)}return Sg(n,e,t)}else dm=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,i=A8(e,A0.current),D8(e,t),i=qK(null,e,r,n,i,t),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,rh(r)){var s=!0;hI(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,NK(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&vI(e,r,o,n),i.updater=_I,e.stateNode=i,i._reactInternals=e,LK(e,r,n,t),e=QK(null,e,r,!0,s,t)}else e.tag=0,sh(null,e,i,t),e=e.child;return e;case 16:i=e.elementType;e:{switch(n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=yUe(i),n=fm(i,n),s){case 0:e=WK(null,e,i,n,t);break e;case 1:e=Hhe(null,e,i,n,t);break e;case 11:e=qhe(null,e,i,n,t);break e;case 14:e=Uhe(null,e,i,fm(i.type,n),r,t);break e}throw Error(oi(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fm(r,i),WK(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fm(r,i),Hhe(n,e,r,i,t);case 3:if(Vhe(e),r=e.updateQueue,n===null||r===null)throw Error(oi(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,ghe(n,e),iT(e,r,null,t),r=e.memoizedState.element,r===i)PK(),e=Sg(n,e,t);else{if(i=e.stateNode,(s=i.hydrate)&&($3=b8(e.stateNode.containerInfo.firstChild),bg=e,s=y2=!0),s){if(n=i.mutableSourceEagerHydrationData,n!=null)for(i=0;i<n.length;i+=2)s=n[i],s._workInProgressVersionPrimary=n[i+1],O8.push(s);for(t=whe(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|1024,t=t.sibling}else sh(n,e,r,t),PK();e=e.child}return e;case 5:return Ahe(e),n===null&&MK(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,_K(r,i)?o=null:s!==null&&_K(r,s)&&(e.flags|=16),zhe(n,e),sh(n,e,o,t),e.child;case 6:return n===null&&MK(e),null;case 13:return Whe(n,e,t);case 4:return kK(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=SI(e,null,r,t):sh(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fm(r,i),qhe(n,e,r,i,t);case 7:return sh(n,e,e.pendingProps,t),e.child;case 8:return sh(n,e,e.pendingProps.children,t),e.child;case 12:return sh(n,e,e.pendingProps.children,t),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var a=e.type._context;if(Ol(xI,a._currentValue),a._currentValue=s,o!==null)if(a=o.value,s=Lp(a,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,s):1073741823)|0,s===0){if(o.children===i.children&&!nh.current){e=Sg(n,e,t);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var f=l.firstContext;f!==null;){if(f.context===r&&(f.observedBits&s)!==0){a.tag===1&&(f=q3(-1,t&-t),f.tag=2,U3(a,f)),a.lanes|=t,f=a.alternate,f!==null&&(f.lanes|=t),xhe(a.return,t),l.lanes|=t;break}f=f.next}}else o=a.tag===10&&a.type===e.type?null:a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}sh(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,D8(e,t),i=kp(i,s.unstable_observedBits),r=r(i),e.flags|=1,sh(n,e,r,t),e.child;case 14:return i=e.type,s=fm(i,e.pendingProps),s=fm(i.type,s),Uhe(n,e,i,s,r,t);case 15:return $he(n,e,e.type,e.pendingProps,r,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fm(r,i),n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,rh(r)?(n=!0,hI(e)):n=!1,D8(e,t),bhe(e,r,i),LK(e,r,i,t),QK(null,e,r,!0,n,t);case 19:return Jhe(n,e,t);case 23:return VK(n,e,t);case 24:return VK(n,e,t)}throw Error(oi(156,e.tag))};function gUe(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Pp(n,e,t,r){return new gUe(n,e,t,r)}function hJ(n){return n=n.prototype,!(!n||!n.isReactComponent)}function yUe(n){if(typeof n=="function")return hJ(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Bk)return 11;if(n===qk)return 14}return 2}function G3(n,e){var t=n.alternate;return t===null?(t=Pp(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function qI(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")hJ(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case D3:return P8(t.children,i,s,e);case $0e:o=8,i|=16;break;case CY:o=8,i|=1;break;case LA:return n=Pp(12,t,e,i|8),n.elementType=LA,n.type=LA,n.lanes=s,n;case kA:return n=Pp(13,t,e,i),n.type=kA,n.elementType=kA,n.lanes=s,n;case jk:return n=Pp(19,t,e,i),n.elementType=jk,n.lanes=s,n;case RY:return pJ(t,i,s,e);case OY:return n=Pp(24,t,e,i),n.elementType=OY,n.lanes=s,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case wY:o=10;break e;case AY:o=9;break e;case Bk:o=11;break e;case qk:o=14;break e;case TY:o=16,r=null;break e;case FY:o=22;break e}throw Error(oi(130,n==null?n:typeof n,""))}return e=Pp(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function P8(n,e,t,r){return n=Pp(7,n,r,e),n.lanes=t,n}function pJ(n,e,t,r){return n=Pp(23,n,r,e),n.elementType=RY,n.lanes=t,n}function mJ(n,e,t){return n=Pp(6,n,null,e),n.lanes=t,n}function xJ(n,e,t){return e=Pp(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function vUe(n,e,t){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=rK(0),this.expirationTimes=rK(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rK(0),this.mutableSourceEagerHydrationData=null}function _Ue(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C_,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function UI(n,e,t,r){var i=e.current,s=Uh(),o=H3(i);e:if(t){t=t._reactInternals;t:{if(A_(t)!==t||t.tag!==1)throw Error(oi(170));var a=t;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(rh(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(oi(171))}if(t.tag===1){var l=t.type;if(rh(l)){t=ohe(t,l,a);break e}}t=a}else t=B3;return e.context===null?e.context=t:e.pendingContext=t,e=q3(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),U3(i,e),V3(i,o,s),o}function gJ(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Epe(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function yJ(n,e){Epe(n,e),(n=n.alternate)&&Epe(n,e)}function EUe(){return null}function vJ(n,e,t){var r=t!=null&&t.hydrationOptions!=null&&t.hydrationOptions.mutableSources||null;if(t=new vUe(n,e,t!=null&&t.hydrate===!0),e=Pp(3,null,null,e===2?7:e===1?3:0),t.current=e,e.stateNode=t,NK(e),n[S8]=t.current,Yde(n.nodeType===8?n.parentNode:n),r)for(n=0;n<r.length;n++){e=r[n];var i=e._getVersion;i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=t}vJ.prototype.render=function(n){UI(n,this._internalRoot,null,null)};vJ.prototype.unmount=function(){var n=this._internalRoot,e=n.containerInfo;UI(null,n,null,function(){e[S8]=null})};function bT(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function bUe(n,e){if(e||(e=n?n.nodeType===9?n.documentElement:n.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var t;t=n.lastChild;)n.removeChild(t);return new vJ(n,0,e?{hydrate:!0}:void 0)}function $I(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var a=i;i=function(){var f=gJ(o);a.call(f)}}UI(e,o,n,i)}else{if(s=t._reactRootContainer=bUe(t,r),o=s._internalRoot,typeof i=="function"){var l=i;i=function(){var f=gJ(o);l.call(f)}}hpe(function(){UI(e,o,n,i)})}return gJ(o)}fde=function(n){if(n.tag===13){var e=Uh();V3(n,4,e),yJ(n,4)}};JY=function(n){if(n.tag===13){var e=Uh();V3(n,67108864,e),yJ(n,67108864)}};dde=function(n){if(n.tag===13){var e=Uh(),t=H3(n);V3(n,t,e),yJ(n,t)}};hde=function(n,e){return e()};HY=function(n,e,t){switch(e){case"input":if(IY(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=fI(r);if(!i)throw Error(oi(90));V0e(r),IY(r,i)}}}break;case"textarea":K0e(n,t);break;case"select":e=t.value,e!=null&&f8(n,!!t.multiple,e,!1)}};VY=dpe;sde=function(n,e,t,r,i){var s=Us;Us|=4;try{return R_(98,n.bind(null,e,t,r,i))}finally{Us=s,Us===0&&(k8(),x2())}};WY=function(){(Us&49)===0&&(uUe(),W3())};ode=function(n,e){var t=Us;Us|=2;try{return n(e)}finally{Us=t,Us===0&&(k8(),x2())}};function bpe(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bT(e))throw Error(oi(200));return _Ue(n,e,null,t)}var SUe={Events:[nT,C8,fI,rde,ide,W3,{current:!1}]},ST={findFiberByHostInstance:T_,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},CUe={bundleType:ST.bundleType,version:ST.version,rendererPackageName:ST.rendererPackageName,rendererConfig:ST.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S_.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=lde(n),n===null?null:n.stateNode},findFiberByHostInstance:ST.findFiberByHostInstance||EUe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(CT=__REACT_DEVTOOLS_GLOBAL_HOOK__,!CT.isDisabled&&CT.supportsFiber))try{CK=CT.inject(CUe),D_=CT}catch{}var CT;Bp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SUe;Bp.createPortal=bpe;Bp.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(oi(188)):Error(oi(268,Object.keys(n)));return n=lde(e),n=n===null?null:n.stateNode,n};Bp.flushSync=function(n,e){var t=Us;if((t&48)!==0)return n(e);Us|=1;try{if(n)return R_(99,n.bind(null,e))}finally{Us=t,x2()}};Bp.hydrate=function(n,e,t){if(!bT(e))throw Error(oi(200));return $I(null,n,e,!0,t)};Bp.render=function(n,e,t){if(!bT(e))throw Error(oi(200));return $I(null,n,e,!1,t)};Bp.unmountComponentAtNode=function(n){if(!bT(n))throw Error(oi(40));return n._reactRootContainer?(hpe(function(){$I(null,null,n,!1,function(){n._reactRootContainer=null,n[S8]=null})}),!0):!1};Bp.unstable_batchedUpdates=dpe;Bp.unstable_createPortal=function(n,e){return bpe(n,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Bp.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!bT(t))throw Error(oi(200));if(n==null||n._reactInternals===void 0)throw Error(oi(38));return $I(n,e,t,!1,r)};Bp.version="17.0.2"});var zI=Ae((b8t,wpe)=>{"use strict";m();function Cpe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cpe)}catch(n){console.error(n)}}Cpe(),wpe.exports=Spe()});var kpe={};nY(kpe,{getCLS:()=>wUe,getFCP:()=>Dpe,getFID:()=>FUe,getLCP:()=>DUe,getTTFB:()=>RUe});var Y3,wT,Ape,HI,Ag,VI,WI,AT,K3,TT,Tpe,Fpe,_J,Dpe,Rpe,EJ,wUe,FT,AUe,Ope,Npe,TUe,Lpe,FUe,bJ,DUe,RUe,Ipe=tY(()=>{m();Ag=function(n,e){return{name:n,value:e===void 0?-1:e,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},VI=function(n,e){try{if(PerformanceObserver.supportedEntryTypes.includes(n)){if(n==="first-input"&&!("PerformanceEventTiming"in self))return;var t=new PerformanceObserver(function(r){return r.getEntries().map(e)});return t.observe({type:n,buffered:!0}),t}}catch{}},WI=function(n,e){var t=function r(i){i.type!=="pagehide"&&document.visibilityState!=="hidden"||(n(i),e&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},AT=function(n){addEventListener("pageshow",function(e){e.persisted&&n(e)},!0)},K3=function(n,e,t){var r;return function(i){e.value>=0&&(i||t)&&(e.delta=e.value-(r||0),(e.delta||r===void 0)&&(r=e.value,n(e)))}},TT=-1,Tpe=function(){return document.visibilityState==="hidden"?0:1/0},Fpe=function(){WI(function(n){var e=n.timeStamp;TT=e},!0)},_J=function(){return TT<0&&(TT=Tpe(),Fpe(),AT(function(){setTimeout(function(){TT=Tpe(),Fpe()},0)})),{get firstHiddenTime(){return TT}}},Dpe=function(n,e){var t,r=_J(),i=Ag("FCP"),s=function(l){l.name==="first-contentful-paint"&&(a&&a.disconnect(),l.startTime<r.firstHiddenTime&&(i.value=l.startTime,i.entries.push(l),t(!0)))},o=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],a=o?null:VI("paint",s);(o||a)&&(t=K3(n,i,e),o&&s(o),AT(function(l){i=Ag("FCP"),t=K3(n,i,e),requestAnimationFrame(function(){requestAnimationFrame(function(){i.value=performance.now()-l.timeStamp,t(!0)})})}))},Rpe=!1,EJ=-1,wUe=function(n,e){Rpe||(Dpe(function(f){EJ=f.value}),Rpe=!0);var t,r=function(f){EJ>-1&&n(f)},i=Ag("CLS",0),s=0,o=[],a=function(f){if(!f.hadRecentInput){var p=o[0],_=o[o.length-1];s&&f.startTime-_.startTime<1e3&&f.startTime-p.startTime<5e3?(s+=f.value,o.push(f)):(s=f.value,o=[f]),s>i.value&&(i.value=s,i.entries=o,t())}},l=VI("layout-shift",a);l&&(t=K3(r,i,e),WI(function(){l.takeRecords().map(a),t(!0)}),AT(function(){s=0,EJ=-1,i=Ag("CLS",0),t=K3(r,i,e)}))},FT={passive:!0,capture:!0},AUe=new Date,Ope=function(n,e){Y3||(Y3=e,wT=n,Ape=new Date,Lpe(removeEventListener),Npe())},Npe=function(){if(wT>=0&&wT<Ape-AUe){var n={entryType:"first-input",name:Y3.type,target:Y3.target,cancelable:Y3.cancelable,startTime:Y3.timeStamp,processingStart:Y3.timeStamp+wT};HI.forEach(function(e){e(n)}),HI=[]}},TUe=function(n){if(n.cancelable){var e=(n.timeStamp>1e12?new Date:performance.now())-n.timeStamp;n.type=="pointerdown"?function(t,r){var i=function(){Ope(t,r),o()},s=function(){o()},o=function(){removeEventListener("pointerup",i,FT),removeEventListener("pointercancel",s,FT)};addEventListener("pointerup",i,FT),addEventListener("pointercancel",s,FT)}(e,n):Ope(e,n)}},Lpe=function(n){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return n(e,TUe,FT)})},FUe=function(n,e){var t,r=_J(),i=Ag("FID"),s=function(a){a.startTime<r.firstHiddenTime&&(i.value=a.processingStart-a.startTime,i.entries.push(a),t(!0))},o=VI("first-input",s);t=K3(n,i,e),o&&WI(function(){o.takeRecords().map(s),o.disconnect()},!0),o&&AT(function(){var a;i=Ag("FID"),t=K3(n,i,e),HI=[],wT=-1,Y3=null,Lpe(addEventListener),a=s,HI.push(a),Npe()})},bJ={},DUe=function(n,e){var t,r=_J(),i=Ag("LCP"),s=function(l){var f=l.startTime;f<r.firstHiddenTime&&(i.value=f,i.entries.push(l),t())},o=VI("largest-contentful-paint",s);if(o){t=K3(n,i,e);var a=function(){bJ[i.id]||(o.takeRecords().map(s),o.disconnect(),bJ[i.id]=!0,t(!0))};["keydown","click"].forEach(function(l){addEventListener(l,a,{once:!0,capture:!0})}),WI(a,!0),AT(function(l){i=Ag("LCP"),t=K3(n,i,e),requestAnimationFrame(function(){requestAnimationFrame(function(){i.value=performance.now()-l.timeStamp,bJ[i.id]=!0,t(!0)})})})}},RUe=function(n){var e,t=Ag("TTFB");e=function(){try{var r=performance.getEntriesByType("navigation")[0]||function(){var i=performance.timing,s={entryType:"navigation",startTime:0};for(var o in i)o!=="navigationStart"&&o!=="toJSON"&&(s[o]=Math.max(i[o]-i.navigationStart,0));return s}();if(t.value=t.delta=r.responseStart,t.value<0||t.value>performance.now())return;t.entries=[r],n(t)}catch{}},document.readyState==="complete"?setTimeout(e,0):addEventListener("load",function(){return setTimeout(e,0)})}});var H1e=Ae(Fa=>{"use strict";m();var XJ=Symbol.for("react.element"),ZJ=Symbol.for("react.portal"),iM=Symbol.for("react.fragment"),sM=Symbol.for("react.strict_mode"),oM=Symbol.for("react.profiler"),aM=Symbol.for("react.provider"),uM=Symbol.for("react.context"),Y$e=Symbol.for("react.server_context"),lM=Symbol.for("react.forward_ref"),cM=Symbol.for("react.suspense"),fM=Symbol.for("react.suspense_list"),dM=Symbol.for("react.memo"),hM=Symbol.for("react.lazy"),K$e=Symbol.for("react.offscreen"),z1e;z1e=Symbol.for("react.module.reference");function qp(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case XJ:switch(n=n.type,n){case iM:case oM:case sM:case cM:case fM:return n;default:switch(n=n&&n.$$typeof,n){case Y$e:case uM:case lM:case hM:case dM:case aM:return n;default:return e}}case ZJ:return e}}}Fa.ContextConsumer=uM;Fa.ContextProvider=aM;Fa.Element=XJ;Fa.ForwardRef=lM;Fa.Fragment=iM;Fa.Lazy=hM;Fa.Memo=dM;Fa.Portal=ZJ;Fa.Profiler=oM;Fa.StrictMode=sM;Fa.Suspense=cM;Fa.SuspenseList=fM;Fa.isAsyncMode=function(){return!1};Fa.isConcurrentMode=function(){return!1};Fa.isContextConsumer=function(n){return qp(n)===uM};Fa.isContextProvider=function(n){return qp(n)===aM};Fa.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===XJ};Fa.isForwardRef=function(n){return qp(n)===lM};Fa.isFragment=function(n){return qp(n)===iM};Fa.isLazy=function(n){return qp(n)===hM};Fa.isMemo=function(n){return qp(n)===dM};Fa.isPortal=function(n){return qp(n)===ZJ};Fa.isProfiler=function(n){return qp(n)===oM};Fa.isStrictMode=function(n){return qp(n)===sM};Fa.isSuspense=function(n){return qp(n)===cM};Fa.isSuspenseList=function(n){return qp(n)===fM};Fa.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===iM||n===oM||n===sM||n===cM||n===fM||n===K$e||typeof n=="object"&&n!==null&&(n.$$typeof===hM||n.$$typeof===dM||n.$$typeof===aM||n.$$typeof===uM||n.$$typeof===lM||n.$$typeof===z1e||n.getModuleId!==void 0)};Fa.typeOf=qp});var W1e=Ae((uCt,V1e)=>{"use strict";m();V1e.exports=H1e()});var G1e=Ae((lCt,Q1e)=>{m();Q1e.exports=function(e,t,r,i){var s=r?r.call(i,e,t):void 0;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),f=0;f<o.length;f++){var p=o[f];if(!l(p))return!1;var _=e[p],b=t[p];if(s=r?r.call(i,_,b,p):void 0,s===!1||s===void 0&&_!==b)return!1}return!0}});var J1e=Ae(eX=>{"use strict";m();Object.defineProperty(eX,"__esModule",{value:!0});function Z$e(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}eX.default=Z$e});var Z1e=Ae((hCt,X1e)=>{"use strict";m();X1e.exports=J1e()});var eme=Ae(tX=>{"use strict";m();Object.defineProperty(tX,"__esModule",{value:!0});var eze=Z1e();function tze(n){return n&&n.__esModule?n:{default:n}}var nze=tze(eze),rze=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ize=nze.default(function(n){return rze.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});tX.default=ize});var nme=Ae((mCt,tme)=>{"use strict";m();tme.exports=eme()});var ime=Ae(Da=>{"use strict";m();var yf=typeof Symbol=="function"&&Symbol.for,nX=yf?Symbol.for("react.element"):60103,rX=yf?Symbol.for("react.portal"):60106,pM=yf?Symbol.for("react.fragment"):60107,mM=yf?Symbol.for("react.strict_mode"):60108,xM=yf?Symbol.for("react.profiler"):60114,gM=yf?Symbol.for("react.provider"):60109,yM=yf?Symbol.for("react.context"):60110,iX=yf?Symbol.for("react.async_mode"):60111,vM=yf?Symbol.for("react.concurrent_mode"):60111,_M=yf?Symbol.for("react.forward_ref"):60112,EM=yf?Symbol.for("react.suspense"):60113,sze=yf?Symbol.for("react.suspense_list"):60120,bM=yf?Symbol.for("react.memo"):60115,SM=yf?Symbol.for("react.lazy"):60116,oze=yf?Symbol.for("react.block"):60121,aze=yf?Symbol.for("react.fundamental"):60117,uze=yf?Symbol.for("react.responder"):60118,lze=yf?Symbol.for("react.scope"):60119;function Hh(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case nX:switch(n=n.type,n){case iX:case vM:case pM:case xM:case mM:case EM:return n;default:switch(n=n&&n.$$typeof,n){case yM:case _M:case SM:case bM:case gM:return n;default:return e}}case rX:return e}}}function rme(n){return Hh(n)===vM}Da.AsyncMode=iX;Da.ConcurrentMode=vM;Da.ContextConsumer=yM;Da.ContextProvider=gM;Da.Element=nX;Da.ForwardRef=_M;Da.Fragment=pM;Da.Lazy=SM;Da.Memo=bM;Da.Portal=rX;Da.Profiler=xM;Da.StrictMode=mM;Da.Suspense=EM;Da.isAsyncMode=function(n){return rme(n)||Hh(n)===iX};Da.isConcurrentMode=rme;Da.isContextConsumer=function(n){return Hh(n)===yM};Da.isContextProvider=function(n){return Hh(n)===gM};Da.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===nX};Da.isForwardRef=function(n){return Hh(n)===_M};Da.isFragment=function(n){return Hh(n)===pM};Da.isLazy=function(n){return Hh(n)===SM};Da.isMemo=function(n){return Hh(n)===bM};Da.isPortal=function(n){return Hh(n)===rX};Da.isProfiler=function(n){return Hh(n)===xM};Da.isStrictMode=function(n){return Hh(n)===mM};Da.isSuspense=function(n){return Hh(n)===EM};Da.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===pM||n===vM||n===xM||n===mM||n===EM||n===sze||typeof n=="object"&&n!==null&&(n.$$typeof===SM||n.$$typeof===bM||n.$$typeof===gM||n.$$typeof===yM||n.$$typeof===_M||n.$$typeof===aze||n.$$typeof===uze||n.$$typeof===lze||n.$$typeof===oze)};Da.typeOf=Hh});var ome=Ae((gCt,sme)=>{"use strict";m();sme.exports=ime()});var hme=Ae((yCt,dme)=>{"use strict";m();var sX=ome(),cze={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},fze={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},dze={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ame={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},oX={};oX[sX.ForwardRef]=dze;oX[sX.Memo]=ame;function ume(n){return sX.isMemo(n)?ame:oX[n.$$typeof]||cze}var hze=Object.defineProperty,pze=Object.getOwnPropertyNames,lme=Object.getOwnPropertySymbols,mze=Object.getOwnPropertyDescriptor,xze=Object.getPrototypeOf,cme=Object.prototype;function fme(n,e,t){if(typeof e!="string"){if(cme){var r=xze(e);r&&r!==cme&&fme(n,r,t)}var i=pze(e);lme&&(i=i.concat(lme(e)));for(var s=ume(n),o=ume(e),a=0;a<i.length;++a){var l=i[a];if(!fze[l]&&!(t&&t[l])&&!(o&&o[l])&&!(s&&s[l])){var f=mze(e,l);try{hze(n,l,f)}catch{}}}}return n}dme.exports=fme});var Ime=Ae((KT,_X)=>{m();(function(n,e){typeof KT=="object"&&typeof _X=="object"?_X.exports=e():typeof define=="function"&&define.amd?define([],e):typeof KT=="object"?KT.onig=e():n.onig=e()})(KT,function(){return n={770:function(t,r,i){"use strict";var s=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(r,"__esModule",{value:!0}),r.setDefaultDebugCall=r.createOnigScanner=r.createOnigString=r.loadWASM=r.OnigScanner=r.OnigString=void 0;let o=s(i(418)),a=null,l=!1;class f{constructor(j){let $=j.length,L=f._utf8ByteLength(j),q=L!==$,P=q?new Uint32Array($+1):null;q&&(P[$]=L);let W=q?new Uint32Array(L+1):null;q&&(W[L]=$);let oe=new Uint8Array(L),I=0;for(let J=0;J<$;J++){let he=j.charCodeAt(J),ye=he,He=!1;if(he>=55296&&he<=56319&&J+1<$){let at=j.charCodeAt(J+1);at>=56320&&at<=57343&&(ye=65536+(he-55296<<10)|at-56320,He=!0)}q&&(P[J]=I,He&&(P[J+1]=I),ye<=127?W[I+0]=J:ye<=2047?(W[I+0]=J,W[I+1]=J):ye<=65535?(W[I+0]=J,W[I+1]=J,W[I+2]=J):(W[I+0]=J,W[I+1]=J,W[I+2]=J,W[I+3]=J)),ye<=127?oe[I++]=ye:ye<=2047?(oe[I++]=192|(1984&ye)>>>6,oe[I++]=128|(63&ye)>>>0):ye<=65535?(oe[I++]=224|(61440&ye)>>>12,oe[I++]=128|(4032&ye)>>>6,oe[I++]=128|(63&ye)>>>0):(oe[I++]=240|(1835008&ye)>>>18,oe[I++]=128|(258048&ye)>>>12,oe[I++]=128|(4032&ye)>>>6,oe[I++]=128|(63&ye)>>>0),He&&J++}this.utf16Length=$,this.utf8Length=L,this.utf16Value=j,this.utf8Value=oe,this.utf16OffsetToUtf8=P,this.utf8OffsetToUtf16=W}static _utf8ByteLength(j){let $=0;for(let L=0,q=j.length;L<q;L++){let P=j.charCodeAt(L),W=P,oe=!1;if(P>=55296&&P<=56319&&L+1<q){let I=j.charCodeAt(L+1);I>=56320&&I<=57343&&(W=65536+(P-55296<<10)|I-56320,oe=!0)}$+=W<=127?1:W<=2047?2:W<=65535?3:4,oe&&L++}return $}createString(j){let $=j._omalloc(this.utf8Length);return j.HEAPU8.set(this.utf8Value,$),$}}class p{constructor(j){if(this.id=++p.LAST_ID,!a)throw new Error("Must invoke loadWASM first.");this._onigBinding=a,this.content=j;let $=new f(j);this.utf16Length=$.utf16Length,this.utf8Length=$.utf8Length,this.utf16OffsetToUtf8=$.utf16OffsetToUtf8,this.utf8OffsetToUtf16=$.utf8OffsetToUtf16,this.utf8Length<1e4&&!p._sharedPtrInUse?(p._sharedPtr||(p._sharedPtr=a._omalloc(1e4)),p._sharedPtrInUse=!0,a.HEAPU8.set($.utf8Value,p._sharedPtr),this.ptr=p._sharedPtr):this.ptr=$.createString(a)}convertUtf8OffsetToUtf16(j){return this.utf8OffsetToUtf16?j<0?0:j>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[j]:j}convertUtf16OffsetToUtf8(j){return this.utf16OffsetToUtf8?j<0?0:j>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[j]:j}dispose(){this.ptr===p._sharedPtr?p._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}r.OnigString=p,p.LAST_ID=0,p._sharedPtr=0,p._sharedPtrInUse=!1;class _{constructor(j){if(!a)throw new Error("Must invoke loadWASM first.");let $=[],L=[];for(let oe=0,I=j.length;oe<I;oe++){let J=new f(j[oe]);$[oe]=J.createString(a),L[oe]=J.utf8Length}let q=a._omalloc(4*j.length);a.HEAPU32.set($,q/4);let P=a._omalloc(4*j.length);a.HEAPU32.set(L,P/4);let W=a._createOnigScanner(q,P,j.length);for(let oe=0,I=j.length;oe<I;oe++)a._ofree($[oe]);a._ofree(P),a._ofree(q),W===0&&function(oe){throw new Error(oe.UTF8ToString(oe._getLastOnigError()))}(a),this._onigBinding=a,this._ptr=W}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(j,$,L){let q=l,P=0;if(typeof L=="number"?(8&L&&(q=!0),P=L):typeof L=="boolean"&&(q=L),typeof j=="string"){j=new p(j);let W=this._findNextMatchSync(j,$,q,P);return j.dispose(),W}return this._findNextMatchSync(j,$,q,P)}_findNextMatchSync(j,$,L,q){let P=this._onigBinding,W;if(W=L?P._findNextOnigScannerMatchDbg(this._ptr,j.id,j.ptr,j.utf8Length,j.convertUtf16OffsetToUtf8($),q):P._findNextOnigScannerMatch(this._ptr,j.id,j.ptr,j.utf8Length,j.convertUtf16OffsetToUtf8($),q),W===0)return null;let oe=P.HEAPU32,I=W/4,J=oe[I++],he=oe[I++],ye=[];for(let He=0;He<he;He++){let at=j.convertUtf8OffsetToUtf16(oe[I++]),ct=j.convertUtf8OffsetToUtf16(oe[I++]);ye[He]={start:at,end:ct,length:ct-at}}return{index:J,captureIndices:ye}}}r.OnigScanner=_;let b=!1,R=null;r.loadWASM=function(O){if(b)return R;let j,$,L,q;if(b=!0,function(P){return typeof P.instantiator=="function"}(O))j=O.instantiator,$=O.print;else{let P;(function(W){return W.data!==void 0})(O)?(P=O.data,$=O.print):P=O,j=function(W){return typeof Response!="undefined"&&W instanceof Response}(P)?typeof WebAssembly.instantiateStreaming=="function"?function(W){return oe=>WebAssembly.instantiateStreaming(W,oe)}(P):function(W){return async oe=>{let I=await W.arrayBuffer();return WebAssembly.instantiate(I,oe)}}(P):function(W){return oe=>WebAssembly.instantiate(W,oe)}(P)}return R=new Promise((P,W)=>{L=P,q=W}),function(P,W,oe,I){o.default({print:W,instantiateWasm:(J,he)=>{if(typeof performance=="undefined"){let ye=()=>Date.now();J.env.emscripten_get_now=ye,J.wasi_snapshot_preview1.emscripten_get_now=ye}return P(J).then(ye=>he(ye.instance),I),{}}}).then(J=>{a=J,oe()})}(j,$,L,q),R},r.createOnigString=function(O){return new p(O)},r.createOnigScanner=function(O){return new _(O)},r.setDefaultDebugCall=function(O){l=O}},418:t=>{var r=(typeof document!="undefined"&&document.currentScript&&document.currentScript.src,function(i){var s,o,a=(i=i||{})!==void 0?i:{};a.ready=new Promise(function(Ne,ze){s=Ne,o=ze});var l,f={};for(l in a)a.hasOwnProperty(l)&&(f[l]=a[l]);var p,_=[],b=!1,R=!1,O=!0,j="";function $(Ne){return a.locateFile?a.locateFile(Ne,j):j+Ne}O&&(p=function(Ne){var ze;return typeof readbuffer=="function"?new Uint8Array(readbuffer(Ne)):(J(typeof(ze=read(Ne,"binary"))=="object"),ze)},typeof scriptArgs!="undefined"?_=scriptArgs:arguments!==void 0&&(_=arguments),typeof onig_print!="undefined"&&(typeof console=="undefined"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr!="undefined"?printErr:onig_print));var L=a.print||console.log.bind(console),q=a.printErr||console.warn.bind(console);for(l in f)f.hasOwnProperty(l)&&(a[l]=f[l]);f=null,a.arguments&&(_=a.arguments),a.thisProgram&&a.thisProgram,a.quit&&a.quit;var P,W,oe=function(Ne){};a.wasmBinary&&(P=a.wasmBinary),a.noExitRuntime,typeof WebAssembly!="object"&&ve("no native wasm support detected");var I=!1;function J(Ne,ze){Ne||ve("Assertion failed: "+ze)}var he,ye,He,at=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function ct(Ne,ze,De){for(var Pt=ze+De,mt=ze;Ne[mt]&&!(mt>=Pt);)++mt;if(mt-ze>16&&Ne.subarray&&at)return at.decode(Ne.subarray(ze,mt));for(var xt="";ze<mt;){var rn=Ne[ze++];if(128&rn){var Qt=63&Ne[ze++];if((224&rn)!=192){var Fn=63&Ne[ze++];if((rn=(240&rn)==224?(15&rn)<<12|Qt<<6|Fn:(7&rn)<<18|Qt<<12|Fn<<6|63&Ne[ze++])<65536)xt+=String.fromCharCode(rn);else{var Wn=rn-65536;xt+=String.fromCharCode(55296|Wn>>10,56320|1023&Wn)}}else xt+=String.fromCharCode((31&rn)<<6|Qt)}else xt+=String.fromCharCode(rn)}return xt}function Ze(Ne,ze){return Ne?ct(ye,Ne,ze):""}function bt(Ne,ze){return Ne%ze>0&&(Ne+=ze-Ne%ze),Ne}function Mt(Ne){he=Ne,a.HEAP8=new Int8Array(Ne),a.HEAP16=new Int16Array(Ne),a.HEAP32=He=new Int32Array(Ne),a.HEAPU8=ye=new Uint8Array(Ne),a.HEAPU16=new Uint16Array(Ne),a.HEAPU32=new Uint32Array(Ne),a.HEAPF32=new Float32Array(Ne),a.HEAPF64=new Float64Array(Ne)}typeof TextDecoder!="undefined"&&new TextDecoder("utf-16le"),a.INITIAL_MEMORY;var qe,te=[],et=[],Ee=[],ke=[];function Ce(){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)Ht(a.preRun.shift());ft(te)}function pe(){ft(et)}function Je(){ft(Ee)}function lt(){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)wt(a.postRun.shift());ft(ke)}function Ht(Ne){te.unshift(Ne)}function wt(Ne){ke.unshift(Ne)}et.push({func:function(){nr()}});var mn=0,kt=null,Bt=null;function tn(Ne){mn++,a.monitorRunDependencies&&a.monitorRunDependencies(mn)}function Et(Ne){if(mn--,a.monitorRunDependencies&&a.monitorRunDependencies(mn),mn==0&&(kt!==null&&(clearInterval(kt),kt=null),Bt)){var ze=Bt;Bt=null,ze()}}function ve(Ne){a.onAbort&&a.onAbort(Ne),q(Ne+=""),I=!0,Ne="abort("+Ne+"). Build with -s ASSERTIONS=1 for more info.";var ze=new WebAssembly.RuntimeError(Ne);throw o(ze),ze}function Le(Ne,ze){return String.prototype.startsWith?Ne.startsWith(ze):Ne.indexOf(ze)===0}a.preloadedImages={},a.preloadedAudios={};var _e="data:application/octet-stream;base64,";function ce(Ne){return Le(Ne,_e)}var tt,Ke="onig.wasm";function re(Ne){try{if(Ne==Ke&&P)return new Uint8Array(P);if(p)return p(Ne);throw"both async and sync fetching of the wasm failed"}catch(ze){ve(ze)}}function Re(){return P||!b&&!R||typeof fetch!="function"?Promise.resolve().then(function(){return re(Ke)}):fetch(Ke,{credentials:"same-origin"}).then(function(Ne){if(!Ne.ok)throw"failed to load wasm binary file at '"+Ke+"'";return Ne.arrayBuffer()}).catch(function(){return re(Ke)})}function nt(){var Ne={env:Pn,wasi_snapshot_preview1:Pn};function ze(mt,xt){var rn=mt.exports;a.asm=rn,Mt((W=a.asm.memory).buffer),qe=a.asm.__indirect_function_table,Et()}function De(mt){ze(mt.instance)}function Pt(mt){return Re().then(function(xt){return WebAssembly.instantiate(xt,Ne)}).then(mt,function(xt){q("failed to asynchronously prepare wasm: "+xt),ve(xt)})}if(tn(),a.instantiateWasm)try{return a.instantiateWasm(Ne,ze)}catch(mt){return q("Module.instantiateWasm callback failed with error: "+mt),!1}return(P||typeof WebAssembly.instantiateStreaming!="function"||ce(Ke)||typeof fetch!="function"?Pt(De):fetch(Ke,{credentials:"same-origin"}).then(function(mt){return WebAssembly.instantiateStreaming(mt,Ne).then(De,function(xt){return q("wasm streaming compile failed: "+xt),q("falling back to ArrayBuffer instantiation"),Pt(De)})})).catch(o),{}}function ft(Ne){for(;Ne.length>0;){var ze=Ne.shift();if(typeof ze!="function"){var De=ze.func;typeof De=="number"?ze.arg===void 0?qe.get(De)():qe.get(De)(ze.arg):De(ze.arg===void 0?null:ze.arg)}else ze(a)}}function Rt(Ne,ze,De){ye.copyWithin(Ne,ze,ze+De)}function Yt(){return ye.length}function Gt(Ne){try{return W.grow(Ne-he.byteLength+65535>>>16),Mt(W.buffer),1}catch{}}function fn(Ne){var ze=Yt(),De=2147483648;if(Ne>De)return!1;for(var Pt=1;Pt<=4;Pt*=2){var mt=ze*(1+.2/Pt);if(mt=Math.min(mt,Ne+100663296),Gt(Math.min(De,bt(Math.max(Ne,mt),65536))))return!0}return!1}ce(Ke)||(Ke=$(Ke)),tt=typeof dateNow!="undefined"?dateNow:function(){return performance.now()};var gn={mappings:{},buffers:[null,[],[]],printChar:function(Ne,ze){var De=gn.buffers[Ne];ze===0||ze===10?((Ne===1?L:q)(ct(De,0)),De.length=0):De.push(ze)},varargs:void 0,get:function(){return gn.varargs+=4,He[gn.varargs-4>>2]},getStr:function(Ne){return Ze(Ne)},get64:function(Ne,ze){return Ne}};function yn(Ne,ze,De,Pt){for(var mt=0,xt=0;xt<De;xt++){for(var rn=He[ze+8*xt>>2],Qt=He[ze+(8*xt+4)>>2],Fn=0;Fn<Qt;Fn++)gn.printChar(Ne,ye[rn+Fn]);mt+=Qt}return He[Pt>>2]=mt,0}function Lt(Ne){oe(0|Ne)}var un,Pn={emscripten_get_now:tt,emscripten_memcpy_big:Rt,emscripten_resize_heap:fn,fd_write:yn,setTempRet0:Lt},nr=(nt(),a.___wasm_call_ctors=function(){return(nr=a.___wasm_call_ctors=a.asm.__wasm_call_ctors).apply(null,arguments)});function On(Ne){function ze(){un||(un=!0,a.calledRun=!0,I||(pe(),Je(),s(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),lt()))}Ne=Ne||_,mn>0||(Ce(),mn>0||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),ze()},1)):ze()))}if(a.___errno_location=function(){return(a.___errno_location=a.asm.__errno_location).apply(null,arguments)},a._omalloc=function(){return(a._omalloc=a.asm.omalloc).apply(null,arguments)},a._ofree=function(){return(a._ofree=a.asm.ofree).apply(null,arguments)},a._getLastOnigError=function(){return(a._getLastOnigError=a.asm.getLastOnigError).apply(null,arguments)},a._createOnigScanner=function(){return(a._createOnigScanner=a.asm.createOnigScanner).apply(null,arguments)},a._freeOnigScanner=function(){return(a._freeOnigScanner=a.asm.freeOnigScanner).apply(null,arguments)},a._findNextOnigScannerMatch=function(){return(a._findNextOnigScannerMatch=a.asm.findNextOnigScannerMatch).apply(null,arguments)},a._findNextOnigScannerMatchDbg=function(){return(a._findNextOnigScannerMatchDbg=a.asm.findNextOnigScannerMatchDbg).apply(null,arguments)},a.stackSave=function(){return(a.stackSave=a.asm.stackSave).apply(null,arguments)},a.stackRestore=function(){return(a.stackRestore=a.asm.stackRestore).apply(null,arguments)},a.stackAlloc=function(){return(a.stackAlloc=a.asm.stackAlloc).apply(null,arguments)},a.dynCall_jiji=function(){return(a.dynCall_jiji=a.asm.dynCall_jiji).apply(null,arguments)},a.UTF8ToString=Ze,Bt=function Ne(){un||On(),un||(Bt=Ne)},a.run=On,a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return On(),i.ready});t.exports=r}},e={},function t(r){var i=e[r];if(i!==void 0)return i.exports;var s=e[r]={exports:{}};return n[r].call(s.exports,s,s.exports,t),s.exports}(770);var n,e})});var Mme=Ae((JT,EX)=>{m();(function(n,e){typeof JT=="object"&&typeof EX=="object"?EX.exports=e():typeof define=="function"&&define.amd?define([],e):typeof JT=="object"?JT.vscodetextmate=e():n.vscodetextmate=e()})(JT,function(){return function(n){var e={};function t(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=n,t.c=e,t.d=function(r,i,s){t.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:s})},t.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,i){if(1&i&&(r=t(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var o in r)t.d(s,o,function(a){return r[a]}.bind(null,o));return s},t.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(i,"a",i),i},t.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},t.p="",t(t.s=3)}([function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(1),i=t(5),s=t(6),o=t(2),a=typeof performance=="undefined"?function(){return Date.now()}:function(){return performance.now()};e.createGrammar=function(qe,te,et,Ee,ke,Ce){return new P(qe,te,et,Ee,ke,Ce)};var l=function(qe){this.scopeName=qe};e.FullScopeDependency=l;var f=function(){function qe(te,et){this.scopeName=te,this.include=et}return qe.prototype.toKey=function(){return this.scopeName+"#"+this.include},qe}();e.PartialScopeDependency=f;var p=function(){function qe(){this.full=[],this.partial=[],this.visitedRule=new Set,this._seenFull=new Set,this._seenPartial=new Set}return qe.prototype.add=function(te){te instanceof l?this._seenFull.has(te.scopeName)||(this._seenFull.add(te.scopeName),this.full.push(te)):this._seenPartial.has(te.toKey())||(this._seenPartial.add(te.toKey()),this.partial.push(te))},qe}();function _(qe,te,et,Ee,ke){for(var Ce=0,pe=Ee;Ce<pe.length;Ce++){var Je=pe[Ce];if(!qe.visitedRule.has(Je)){qe.visitedRule.add(Je);var lt=Je.repository?r.mergeObjects({},ke,Je.repository):ke;Array.isArray(Je.patterns)&&_(qe,te,et,Je.patterns,lt);var Ht=Je.include;if(Ht)if(Ht==="$base"||Ht===te.scopeName)R(qe,te,te);else if(Ht==="$self"||Ht===et.scopeName)R(qe,te,et);else if(Ht.charAt(0)==="#")b(qe,te,et,Ht.substring(1),lt);else{var wt=Ht.indexOf("#");if(wt>=0){var mn=Ht.substring(0,wt),kt=Ht.substring(wt+1);mn===te.scopeName?b(qe,te,te,kt,lt):mn===et.scopeName?b(qe,te,et,kt,lt):qe.add(new f(mn,Ht.substring(wt+1)))}else qe.add(new l(Ht))}}}}function b(qe,te,et,Ee,ke){ke===void 0&&(ke=et.repository),ke&&ke[Ee]&&_(qe,te,et,[ke[Ee]],ke)}function R(qe,te,et){if(et.patterns&&Array.isArray(et.patterns)&&_(qe,te,et,et.patterns,et.repository),et.injections){var Ee=[];for(var ke in et.injections)Ee.push(et.injections[ke]);_(qe,te,et,Ee,et.repository)}}function O(qe,te){if(!qe)return!1;if(qe===te)return!0;var et=te.length;return qe.length>et&&qe.substr(0,et)===te&&qe[et]==="."}function j(qe,te){if(te.length<qe.length)return!1;var et=0;return qe.every(function(Ee){for(var ke=et;ke<te.length;ke++)if(O(te[ke],Ee))return et=ke+1,!0;return!1})}function $(qe,te,et,Ee,ke){for(var Ce=s.createMatchers(te,j),pe=i.RuleFactory.getCompiledRuleId(et,Ee,ke.repository),Je=0,lt=Ce;Je<lt.length;Je++){var Ht=lt[Je];qe.push({matcher:Ht.matcher,ruleId:pe,grammar:ke,priority:Ht.priority})}}e.ScopeDependencyCollector=p,e.collectSpecificDependencies=b,e.collectDependencies=R;var L=function(qe,te,et,Ee){this.scopeName=qe,this.languageId=te,this.tokenType=et,this.themeData=Ee};e.ScopeMetadata=L;var q=function(){function qe(te,et,Ee){if(this._initialLanguage=te,this._themeProvider=et,this._cache=new Map,this._defaultMetaData=new L("",this._initialLanguage,0,[this._themeProvider.getDefaults()]),this._embeddedLanguages=Object.create(null),Ee)for(var ke=Object.keys(Ee),Ce=0,pe=ke.length;Ce<pe;Ce++){var Je=ke[Ce],lt=Ee[Je];typeof lt=="number"&&lt!==0?this._embeddedLanguages[Je]=lt:console.warn("Invalid embedded language found at scope "+Je+": <<"+lt+">>")}var Ht=Object.keys(this._embeddedLanguages).map(function(wt){return qe._escapeRegExpCharacters(wt)});Ht.length===0?this._embeddedLanguagesRegex=null:(Ht.sort(),Ht.reverse(),this._embeddedLanguagesRegex=new RegExp("^(("+Ht.join(")|(")+"))($|\\.)",""))}return qe.prototype.onDidChangeTheme=function(){this._cache=new Map,this._defaultMetaData=new L("",this._initialLanguage,0,[this._themeProvider.getDefaults()])},qe.prototype.getDefaultMetadata=function(){return this._defaultMetaData},qe._escapeRegExpCharacters=function(te){return te.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},qe.prototype.getMetadataForScope=function(te){if(te===null)return qe._NULL_SCOPE_METADATA;var et=this._cache.get(te);return et||(et=this._doGetMetadataForScope(te),this._cache.set(te,et),et)},qe.prototype._doGetMetadataForScope=function(te){var et=this._scopeToLanguage(te),Ee=this._toStandardTokenType(te),ke=this._themeProvider.themeMatch(te);return new L(te,et,Ee,ke)},qe.prototype._scopeToLanguage=function(te){if(!te||!this._embeddedLanguagesRegex)return 0;var et=te.match(this._embeddedLanguagesRegex);if(!et)return 0;var Ee=this._embeddedLanguages[et[1]]||0;return Ee||0},qe.prototype._toStandardTokenType=function(te){var et=te.match(qe.STANDARD_TOKEN_TYPE_REGEXP);if(!et)return 0;switch(et[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"meta.embedded":return 8}throw new Error("Unexpected match for standard token type!")},qe._NULL_SCOPE_METADATA=new L("",0,0,null),qe.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/,qe}(),P=function(){function qe(te,et,Ee,ke,Ce,pe){if(this._scopeMetadataProvider=new q(et,Ce,Ee),this._onigLib=pe,this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=Ce,this._grammar=oe(te,null),this._injections=null,this._tokenTypeMatchers=[],ke)for(var Je=0,lt=Object.keys(ke);Je<lt.length;Je++)for(var Ht=lt[Je],wt=0,mn=s.createMatchers(Ht,j);wt<mn.length;wt++){var kt=mn[wt];this._tokenTypeMatchers.push({matcher:kt.matcher,type:ke[Ht]})}}return qe.prototype.dispose=function(){for(var te=0,et=this._ruleId2desc;te<et.length;te++){var Ee=et[te];Ee&&Ee.dispose()}},qe.prototype.createOnigScanner=function(te){return this._onigLib.createOnigScanner(te)},qe.prototype.createOnigString=function(te){return this._onigLib.createOnigString(te)},qe.prototype.onDidChangeTheme=function(){this._scopeMetadataProvider.onDidChangeTheme()},qe.prototype.getMetadataForScope=function(te){return this._scopeMetadataProvider.getMetadataForScope(te)},qe.prototype.getInjections=function(){var te=this;if(this._injections===null){this._injections=[];var et=this._grammar.injections;if(et)for(var Ee in et)$(this._injections,Ee,et[Ee],this,this._grammar);if(this._grammarRepository){var ke=this._grammarRepository.injections(this._grammar.scopeName);ke&&ke.forEach(function(Ce){var pe=te.getExternalGrammar(Ce);if(pe){var Je=pe.injectionSelector;Je&&$(te._injections,Je,pe,te,pe)}})}this._injections.sort(function(Ce,pe){return Ce.priority-pe.priority})}return this._injections},qe.prototype.registerRule=function(te){var et=++this._lastRuleId,Ee=te(et);return this._ruleId2desc[et]=Ee,Ee},qe.prototype.getRule=function(te){return this._ruleId2desc[te]},qe.prototype.getExternalGrammar=function(te,et){if(this._includedGrammars[te])return this._includedGrammars[te];if(this._grammarRepository){var Ee=this._grammarRepository.lookup(te);if(Ee)return this._includedGrammars[te]=oe(Ee,et&&et.$base),this._includedGrammars[te]}return null},qe.prototype.tokenizeLine=function(te,et){var Ee=this._tokenize(te,et,!1);return{tokens:Ee.lineTokens.getResult(Ee.ruleStack,Ee.lineLength),ruleStack:Ee.ruleStack}},qe.prototype.tokenizeLine2=function(te,et){var Ee=this._tokenize(te,et,!0);return{tokens:Ee.lineTokens.getBinaryResult(Ee.ruleStack,Ee.lineLength),ruleStack:Ee.ruleStack}},qe.prototype._tokenize=function(te,et,Ee){var ke;if(this._rootId===-1&&(this._rootId=i.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository)),et&&et!==ct.NULL)ke=!1,et.reset();else{ke=!0;var Ce=this._scopeMetadataProvider.getDefaultMetadata(),pe=Ce.themeData[0],Je=He.set(0,Ce.languageId,Ce.tokenType,pe.fontStyle,pe.foreground,pe.background),lt=this.getRule(this._rootId).getName(null,null),Ht=this._scopeMetadataProvider.getMetadataForScope(lt),wt=at.mergeMetadata(Je,null,Ht),mn=new at(null,lt===null?"unknown":lt,wt);et=new ct(null,this._rootId,-1,-1,!1,null,mn,mn)}te+=`
`;var kt=this.createOnigString(te),Bt=kt.content.length,tn=new bt(Ee,te,this._tokenTypeMatchers),Et=ye(this,kt,ke,0,et,tn,!0);return W(kt),{lineLength:Bt,lineTokens:tn,ruleStack:Et}},qe}();function W(qe){typeof qe.dispose=="function"&&qe.dispose()}function oe(qe,te){return(qe=r.clone(qe)).repository=qe.repository||{},qe.repository.$self={$vscodeTextmateLocation:qe.$vscodeTextmateLocation,patterns:qe.patterns,name:qe.scopeName},qe.repository.$base=te||qe.repository.$self,qe}function I(qe,te,et,Ee,ke,Ce,pe){if(Ce.length!==0){for(var Je=te.content,lt=Math.min(Ce.length,pe.length),Ht=[],wt=pe[0].end,mn=0;mn<lt;mn++){var kt=Ce[mn];if(kt!==null){var Bt=pe[mn];if(Bt.length!==0){if(Bt.start>wt)break;for(;Ht.length>0&&Ht[Ht.length-1].endPos<=Bt.start;)ke.produceFromScopes(Ht[Ht.length-1].scopes,Ht[Ht.length-1].endPos),Ht.pop();if(Ht.length>0?ke.produceFromScopes(Ht[Ht.length-1].scopes,Bt.start):ke.produce(Ee,Bt.start),kt.retokenizeCapturedWithRuleId){var tn=kt.getName(Je,pe),Et=Ee.contentNameScopesList.push(qe,tn),ve=kt.getContentName(Je,pe),Le=Et.push(qe,ve),_e=Ee.push(kt.retokenizeCapturedWithRuleId,Bt.start,-1,!1,null,Et,Le),ce=qe.createOnigString(Je.substring(0,Bt.end));ye(qe,ce,et&&Bt.start===0,Bt.start,_e,ke,!1),W(ce)}else{var tt=kt.getName(Je,pe);if(tt!==null){var Ke=(Ht.length>0?Ht[Ht.length-1].scopes:Ee.contentNameScopesList).push(qe,tt);Ht.push(new Ze(Ke,Bt.end))}}}}}for(;Ht.length>0;)ke.produceFromScopes(Ht[Ht.length-1].scopes,Ht[Ht.length-1].endPos),Ht.pop()}}function J(qe){for(var te=[],et=0,Ee=qe.rules.length;et<Ee;et++)te.push("   - "+qe.rules[et]+": "+qe.debugRegExps[et]);return te.join(`
`)}function he(qe,te,et,Ee,ke,Ce){var pe=function(mn,kt,Bt,tn,Et,ve){var Le=Et.getRule(mn),_e=Le.compile(mn,Et.endRule,Bt,tn===ve),ce=0;o.DebugFlags.InDebugMode&&(ce=a());var tt=_e.scanner.findNextMatchSync(kt,tn);if(o.DebugFlags.InDebugMode){var Ke=a()-ce;Ke>5&&console.warn("Rule "+Le.debugName+" ("+Le.id+") matching took "+Ke+" against '"+kt+"'"),tt&&console.log("matched rule id: "+_e.rules[tt.index]+" from "+tt.captureIndices[0].start+" to "+tt.captureIndices[0].end)}return tt?{captureIndices:tt.captureIndices,matchedRuleId:_e.rules[tt.index]}:null}(qe,te,et,Ee,ke,Ce),Je=qe.getInjections();if(Je.length===0)return pe;var lt=function(mn,kt,Bt,tn,Et,ve,Le){for(var _e,ce=Number.MAX_VALUE,tt=null,Ke=0,re=ve.contentNameScopesList.generateScopes(),Re=0,nt=mn.length;Re<nt;Re++){var ft=mn[Re];if(ft.matcher(re)){var Rt=kt.getRule(ft.ruleId).compile(kt,null,tn,Et===Le),Yt=Rt.scanner.findNextMatchSync(Bt,Et);if(o.DebugFlags.InDebugMode&&(console.log("  scanning for injections"),console.log(J(Rt))),Yt){var Gt=Yt.captureIndices[0].start;if(!(Gt>=ce)&&(ce=Gt,tt=Yt.captureIndices,_e=Rt.rules[Yt.index],Ke=ft.priority,ce===Et))break}}}return tt?{priorityMatch:Ke===-1,captureIndices:tt,matchedRuleId:_e}:null}(Je,qe,te,et,Ee,ke,Ce);if(!lt)return pe;if(!pe)return lt;var Ht=pe.captureIndices[0].start,wt=lt.captureIndices[0].start;return wt<Ht||lt.priorityMatch&&wt===Ht?lt:pe}function ye(qe,te,et,Ee,ke,Ce,pe){var Je=te.content.length,lt=!1,Ht=-1;if(pe){var wt=function(kt,Bt,tn,Et,ve,Le){for(var _e=ve.beginRuleCapturedEOL?0:-1,ce=[],tt=ve;tt;tt=tt.pop()){var Ke=tt.getRule(kt);Ke instanceof i.BeginWhileRule&&ce.push({rule:Ke,stack:tt})}for(var re=ce.pop();re;re=ce.pop()){var Re=re.rule.compileWhile(kt,re.stack.endRule,tn,_e===Et),nt=Re.scanner.findNextMatchSync(Bt,Et);if(o.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(J(Re))),!nt){o.DebugFlags.InDebugMode&&console.log("  popping "+re.rule.debugName+" - "+re.rule.debugWhileRegExp),ve=re.stack.pop();break}if(Re.rules[nt.index]!==-2){ve=re.stack.pop();break}nt.captureIndices&&nt.captureIndices.length&&(Le.produce(re.stack,nt.captureIndices[0].start),I(kt,Bt,tn,re.stack,Le,re.rule.whileCaptures,nt.captureIndices),Le.produce(re.stack,nt.captureIndices[0].end),_e=nt.captureIndices[0].end,nt.captureIndices[0].end>Et&&(Et=nt.captureIndices[0].end,tn=!1))}return{stack:ve,linePos:Et,anchorPosition:_e,isFirstLine:tn}}(qe,te,et,Ee,ke,Ce);ke=wt.stack,Ee=wt.linePos,et=wt.isFirstLine,Ht=wt.anchorPosition}for(;!lt;)mn();function mn(){o.DebugFlags.InDebugMode&&(console.log(""),console.log("@@scanNext "+Ee+": |"+te.content.substr(Ee).replace(/\n$/,"\\n")+"|"));var kt=he(qe,te,et,Ee,ke,Ht);if(!kt)return o.DebugFlags.InDebugMode&&console.log("  no more matches."),Ce.produce(ke,Je),void(lt=!0);var Bt=kt.captureIndices,tn=kt.matchedRuleId,Et=!!(Bt&&Bt.length>0)&&Bt[0].end>Ee;if(tn===-1){var ve=ke.getRule(qe);o.DebugFlags.InDebugMode&&console.log("  popping "+ve.debugName+" - "+ve.debugEndRegExp),Ce.produce(ke,Bt[0].start),ke=ke.setContentNameScopesList(ke.nameScopesList),I(qe,te,et,ke,Ce,ve.endCaptures,Bt),Ce.produce(ke,Bt[0].end);var Le=ke;if(ke=ke.pop(),Ht=Le.getAnchorPos(),!Et&&Le.getEnterPos()===Ee)return o.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),ke=Le,Ce.produce(ke,Je),void(lt=!0)}else{var _e=qe.getRule(tn);Ce.produce(ke,Bt[0].start);var ce=ke,tt=_e.getName(te.content,Bt),Ke=ke.contentNameScopesList.push(qe,tt);if(ke=ke.push(tn,Ee,Ht,Bt[0].end===Je,null,Ke,Ke),_e instanceof i.BeginEndRule){var re=_e;o.DebugFlags.InDebugMode&&console.log("  pushing "+re.debugName+" - "+re.debugBeginRegExp),I(qe,te,et,ke,Ce,re.beginCaptures,Bt),Ce.produce(ke,Bt[0].end),Ht=Bt[0].end;var Re=re.getContentName(te.content,Bt),nt=Ke.push(qe,Re);if(ke=ke.setContentNameScopesList(nt),re.endHasBackReferences&&(ke=ke.setEndRule(re.getEndWithResolvedBackReferences(te.content,Bt))),!Et&&ce.hasSameRuleAs(ke))return o.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),ke=ke.pop(),Ce.produce(ke,Je),void(lt=!0)}else if(_e instanceof i.BeginWhileRule){if(re=_e,o.DebugFlags.InDebugMode&&console.log("  pushing "+re.debugName),I(qe,te,et,ke,Ce,re.beginCaptures,Bt),Ce.produce(ke,Bt[0].end),Ht=Bt[0].end,Re=re.getContentName(te.content,Bt),nt=Ke.push(qe,Re),ke=ke.setContentNameScopesList(nt),re.whileHasBackReferences&&(ke=ke.setEndRule(re.getWhileWithResolvedBackReferences(te.content,Bt))),!Et&&ce.hasSameRuleAs(ke))return o.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),ke=ke.pop(),Ce.produce(ke,Je),void(lt=!0)}else{var ft=_e;if(o.DebugFlags.InDebugMode&&console.log("  matched "+ft.debugName+" - "+ft.debugMatchRegExp),I(qe,te,et,ke,Ce,ft.captures,Bt),Ce.produce(ke,Bt[0].end),ke=ke.pop(),!Et)return o.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),ke=ke.safePop(),Ce.produce(ke,Je),void(lt=!0)}}Bt[0].end>Ee&&(Ee=Bt[0].end,et=!1)}return ke}e.Grammar=P;var He=function(){function qe(){}return qe.toBinaryStr=function(te){for(var et=te.toString(2);et.length<32;)et="0"+et;return et},qe.printMetadata=function(te){var et=qe.getLanguageId(te),Ee=qe.getTokenType(te),ke=qe.getFontStyle(te),Ce=qe.getForeground(te),pe=qe.getBackground(te);console.log({languageId:et,tokenType:Ee,fontStyle:ke,foreground:Ce,background:pe})},qe.getLanguageId=function(te){return(255&te)>>>0},qe.getTokenType=function(te){return(1792&te)>>>8},qe.getFontStyle=function(te){return(14336&te)>>>11},qe.getForeground=function(te){return(8372224&te)>>>14},qe.getBackground=function(te){return(4286578688&te)>>>23},qe.set=function(te,et,Ee,ke,Ce,pe){var Je=qe.getLanguageId(te),lt=qe.getTokenType(te),Ht=qe.getFontStyle(te),wt=qe.getForeground(te),mn=qe.getBackground(te);return et!==0&&(Je=et),Ee!==0&&(lt=Ee===8?0:Ee),ke!==-1&&(Ht=ke),Ce!==0&&(wt=Ce),pe!==0&&(mn=pe),(Je<<0|lt<<8|Ht<<11|wt<<14|mn<<23)>>>0},qe}();e.StackElementMetadata=He;var at=function(){function qe(te,et,Ee){this.parent=te,this.scope=et,this.metadata=Ee}return qe._equals=function(te,et){for(;;){if(te===et||!te&&!et)return!0;if(!te||!et||te.scope!==et.scope||te.metadata!==et.metadata)return!1;te=te.parent,et=et.parent}},qe.prototype.equals=function(te){return qe._equals(this,te)},qe._matchesScope=function(te,et,Ee){return et===te||te.substring(0,Ee.length)===Ee},qe._matches=function(te,et){if(et===null)return!0;for(var Ee=et.length,ke=0,Ce=et[ke],pe=Ce+".";te;){if(this._matchesScope(te.scope,Ce,pe)){if(++ke===Ee)return!0;pe=(Ce=et[ke])+"."}te=te.parent}return!1},qe.mergeMetadata=function(te,et,Ee){if(Ee===null)return te;var ke=-1,Ce=0,pe=0;if(Ee.themeData!==null)for(var Je=0,lt=Ee.themeData.length;Je<lt;Je++){var Ht=Ee.themeData[Je];if(this._matches(et,Ht.parentScopes)){ke=Ht.fontStyle,Ce=Ht.foreground,pe=Ht.background;break}}return He.set(te,Ee.languageId,Ee.tokenType,ke,Ce,pe)},qe._push=function(te,et,Ee){for(var ke=0,Ce=Ee.length;ke<Ce;ke++){var pe=Ee[ke],Je=et.getMetadataForScope(pe),lt=qe.mergeMetadata(te.metadata,te,Je);te=new qe(te,pe,lt)}return te},qe.prototype.push=function(te,et){return et===null?this:et.indexOf(" ")>=0?qe._push(this,te,et.split(/ /g)):qe._push(this,te,[et])},qe._generateScopes=function(te){for(var et=[],Ee=0;te;)et[Ee++]=te.scope,te=te.parent;return et.reverse(),et},qe.prototype.generateScopes=function(){return qe._generateScopes(this)},qe}();e.ScopeListElement=at;var ct=function(){function qe(te,et,Ee,ke,Ce,pe,Je,lt){this.parent=te,this.depth=this.parent?this.parent.depth+1:1,this.ruleId=et,this._enterPos=Ee,this._anchorPos=ke,this.beginRuleCapturedEOL=Ce,this.endRule=pe,this.nameScopesList=Je,this.contentNameScopesList=lt}return qe._structuralEquals=function(te,et){for(;;){if(te===et||!te&&!et)return!0;if(!te||!et||te.depth!==et.depth||te.ruleId!==et.ruleId||te.endRule!==et.endRule)return!1;te=te.parent,et=et.parent}},qe._equals=function(te,et){return te===et||!!this._structuralEquals(te,et)&&te.contentNameScopesList.equals(et.contentNameScopesList)},qe.prototype.clone=function(){return this},qe.prototype.equals=function(te){return te!==null&&qe._equals(this,te)},qe._reset=function(te){for(;te;)te._enterPos=-1,te._anchorPos=-1,te=te.parent},qe.prototype.reset=function(){qe._reset(this)},qe.prototype.pop=function(){return this.parent},qe.prototype.safePop=function(){return this.parent?this.parent:this},qe.prototype.push=function(te,et,Ee,ke,Ce,pe,Je){return new qe(this,te,et,Ee,ke,Ce,pe,Je)},qe.prototype.getEnterPos=function(){return this._enterPos},qe.prototype.getAnchorPos=function(){return this._anchorPos},qe.prototype.getRule=function(te){return te.getRule(this.ruleId)},qe.prototype._writeString=function(te,et){return this.parent&&(et=this.parent._writeString(te,et)),te[et++]="("+this.ruleId+", TODO-"+this.nameScopesList+", TODO-"+this.contentNameScopesList+")",et},qe.prototype.toString=function(){var te=[];return this._writeString(te,0),"["+te.join(",")+"]"},qe.prototype.setContentNameScopesList=function(te){return this.contentNameScopesList===te?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,te)},qe.prototype.setEndRule=function(te){return this.endRule===te?this:new qe(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,te,this.nameScopesList,this.contentNameScopesList)},qe.prototype.hasSameRuleAs=function(te){return this.ruleId===te.ruleId},qe.NULL=new qe(null,0,0,0,!1,null,null,null),qe}();e.StackElement=ct;var Ze=function(qe,te){this.scopes=qe,this.endPos=te};e.LocalStackElement=Ze;var bt=function(){function qe(te,et,Ee){this._emitBinaryTokens=te,this._tokenTypeOverrides=Ee,o.DebugFlags.InDebugMode?this._lineText=et:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}return qe.prototype.produce=function(te,et){this.produceFromScopes(te.contentNameScopesList,et)},qe.prototype.produceFromScopes=function(te,et){if(!(this._lastTokenEndIndex>=et)){if(this._emitBinaryTokens){for(var Ee=te.metadata,ke=0,Ce=this._tokenTypeOverrides;ke<Ce.length;ke++){var pe=Ce[ke];pe.matcher(te.generateScopes())&&(Ee=He.set(Ee,0,Mt(pe.type),-1,0,0))}return this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===Ee||(this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(Ee)),void(this._lastTokenEndIndex=et)}var Je=te.generateScopes();if(o.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,et).replace(/\n$/,"\\n")+"|");for(var lt=0;lt<Je.length;lt++)console.log("      * "+Je[lt])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:et,scopes:Je}),this._lastTokenEndIndex=et}},qe.prototype.getResult=function(te,et){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===et-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(te,et),this._tokens[this._tokens.length-1].startIndex=0),this._tokens},qe.prototype.getBinaryResult=function(te,et){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===et-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(te,et),this._binaryTokens[this._binaryTokens.length-2]=0);for(var Ee=new Uint32Array(this._binaryTokens.length),ke=0,Ce=this._binaryTokens.length;ke<Ce;ke++)Ee[ke]=this._binaryTokens[ke];return Ee},qe}();function Mt(qe){switch(qe){case 4:return 4;case 2:return 2;case 1:return 1;case 0:default:return 8}}},function(n,e,t){"use strict";function r(o){return Array.isArray(o)?function(a){for(var l=[],f=0,p=a.length;f<p;f++)l[f]=r(a[f]);return l}(o):typeof o=="object"?function(a){var l={};for(var f in a)l[f]=r(a[f]);return l}(o):o}Object.defineProperty(e,"__esModule",{value:!0}),e.clone=function(o){return r(o)},e.mergeObjects=function(o){for(var a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];return a.forEach(function(f){for(var p in f)o[p]=f[p]}),o},e.basename=function o(a){var l=~a.lastIndexOf("/")||~a.lastIndexOf("\\");return l===0?a:~l==a.length-1?o(a.substring(0,a.length-1)):a.substr(1+~l)};var i=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/,s=function(){function o(){}return o.hasCaptures=function(a){return a!==null&&i.test(a)},o.replaceCaptures=function(a,l,f){return a.replace(i,function(p,_,b,R){var O=f[parseInt(_||b,10)];if(!O)return p;for(var j=l.substring(O.start,O.end);j[0]===".";)j=j.substring(1);switch(R){case"downcase":return j.toLowerCase();case"upcase":return j.toUpperCase();default:return j}})},o}();e.RegexSource=s},function(n,e,t){"use strict";(function(r){Object.defineProperty(e,"__esModule",{value:!0}),e.DebugFlags={InDebugMode:r!==void 0&&!!r.env.VSCODE_TEXTMATE_DEBUG}}).call(this,t(7))},function(n,e,t){"use strict";var r=this&&this.__awaiter||function(p,_,b,R){return new(b||(b=Promise))(function(O,j){function $(P){try{q(R.next(P))}catch(W){j(W)}}function L(P){try{q(R.throw(P))}catch(W){j(W)}}function q(P){var W;P.done?O(P.value):(W=P.value,W instanceof b?W:new b(function(oe){oe(W)})).then($,L)}q((R=R.apply(p,_||[])).next())})},i=this&&this.__generator||function(p,_){var b,R,O,j,$={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return j={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(j[Symbol.iterator]=function(){return this}),j;function L(q){return function(P){return function(W){if(b)throw new TypeError("Generator is already executing.");for(;$;)try{if(b=1,R&&(O=2&W[0]?R.return:W[0]?R.throw||((O=R.return)&&O.call(R),0):R.next)&&!(O=O.call(R,W[1])).done)return O;switch(R=0,O&&(W=[2&W[0],O.value]),W[0]){case 0:case 1:O=W;break;case 4:return $.label++,{value:W[1],done:!1};case 5:$.label++,R=W[1],W=[0];continue;case 7:W=$.ops.pop(),$.trys.pop();continue;default:if(O=$.trys,!((O=O.length>0&&O[O.length-1])||W[0]!==6&&W[0]!==2)){$=0;continue}if(W[0]===3&&(!O||W[1]>O[0]&&W[1]<O[3])){$.label=W[1];break}if(W[0]===6&&$.label<O[1]){$.label=O[1],O=W;break}if(O&&$.label<O[2]){$.label=O[2],$.ops.push(W);break}O[2]&&$.ops.pop(),$.trys.pop();continue}W=_.call(p,$)}catch(oe){W=[6,oe],R=0}finally{b=O=0}if(5&W[0])throw W[1];return{value:W[0]?W[1]:void 0,done:!0}}([q,P])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=t(4),o=t(8),a=t(11),l=t(0),f=function(){function p(_){this._options=_,this._syncRegistry=new s.SyncRegistry(a.Theme.createFromRawTheme(_.theme,_.colorMap),_.onigLib),this._ensureGrammarCache=new Map}return p.prototype.dispose=function(){this._syncRegistry.dispose()},p.prototype.setTheme=function(_,b){this._syncRegistry.setTheme(a.Theme.createFromRawTheme(_,b))},p.prototype.getColorMap=function(){return this._syncRegistry.getColorMap()},p.prototype.loadGrammarWithEmbeddedLanguages=function(_,b,R){return this.loadGrammarWithConfiguration(_,b,{embeddedLanguages:R})},p.prototype.loadGrammarWithConfiguration=function(_,b,R){return this._loadGrammar(_,b,R.embeddedLanguages,R.tokenTypes)},p.prototype.loadGrammar=function(_){return this._loadGrammar(_,0,null,null)},p.prototype._doLoadSingleGrammar=function(_){return r(this,void 0,void 0,function(){var b,R;return i(this,function(O){switch(O.label){case 0:return[4,this._options.loadGrammar(_)];case 1:return(b=O.sent())&&(R=typeof this._options.getInjections=="function"?this._options.getInjections(_):void 0,this._syncRegistry.addGrammar(b,R)),[2]}})})},p.prototype._loadSingleGrammar=function(_){return r(this,void 0,void 0,function(){return i(this,function(b){return this._ensureGrammarCache.has(_)||this._ensureGrammarCache.set(_,this._doLoadSingleGrammar(_)),[2,this._ensureGrammarCache.get(_)]})})},p.prototype._collectDependenciesForDep=function(_,b,R){var O=this._syncRegistry.lookup(R.scopeName);if(O){R instanceof l.FullScopeDependency?l.collectDependencies(b,this._syncRegistry.lookup(_),O):l.collectSpecificDependencies(b,this._syncRegistry.lookup(_),O,R.include);var j=this._syncRegistry.injections(R.scopeName);if(j)for(var $=0,L=j;$<L.length;$++){var q=L[$];b.add(new l.FullScopeDependency(q))}}else if(R.scopeName===_)throw new Error("No grammar provided for <"+_+">")},p.prototype._loadGrammar=function(_,b,R,O){return r(this,void 0,void 0,function(){var j,$,L,q,P,W,oe,I,J,he,ye,He,at=this;return i(this,function(ct){switch(ct.label){case 0:j=new Set,$=new Set,j.add(_),L=[new l.FullScopeDependency(_)],ct.label=1;case 1:return L.length>0?(q=L,L=[],[4,Promise.all(q.map(function(Ze){return at._loadSingleGrammar(Ze.scopeName)}))]):[3,3];case 2:for(ct.sent(),P=new l.ScopeDependencyCollector,W=0,oe=q;W<oe.length;W++)He=oe[W],this._collectDependenciesForDep(_,P,He);for(I=0,J=P.full;I<J.length;I++)He=J[I],j.has(He.scopeName)||(j.add(He.scopeName),L.push(He));for(he=0,ye=P.partial;he<ye.length;he++)He=ye[he],j.has(He.scopeName)||$.has(He.toKey())||($.add(He.toKey()),L.push(He));return[3,1];case 3:return[2,this.grammarForScopeName(_,b,R,O)]}})})},p.prototype.addGrammar=function(_,b,R,O){return b===void 0&&(b=[]),R===void 0&&(R=0),O===void 0&&(O=null),r(this,void 0,void 0,function(){return i(this,function(j){switch(j.label){case 0:return this._syncRegistry.addGrammar(_,b),[4,this.grammarForScopeName(_.scopeName,R,O)];case 1:return[2,j.sent()]}})})},p.prototype.grammarForScopeName=function(_,b,R,O){return b===void 0&&(b=0),R===void 0&&(R=null),O===void 0&&(O=null),this._syncRegistry.grammarForScopeName(_,b,R,O)},p}();e.Registry=f,e.INITIAL=l.StackElement.NULL,e.parseRawGrammar=o.parseRawGrammar},function(n,e,t){"use strict";var r=this&&this.__awaiter||function(a,l,f,p){return new(f||(f=Promise))(function(_,b){function R($){try{j(p.next($))}catch(L){b(L)}}function O($){try{j(p.throw($))}catch(L){b(L)}}function j($){var L;$.done?_($.value):(L=$.value,L instanceof f?L:new f(function(q){q(L)})).then(R,O)}j((p=p.apply(a,l||[])).next())})},i=this&&this.__generator||function(a,l){var f,p,_,b,R={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return b={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function O(j){return function($){return function(L){if(f)throw new TypeError("Generator is already executing.");for(;R;)try{if(f=1,p&&(_=2&L[0]?p.return:L[0]?p.throw||((_=p.return)&&_.call(p),0):p.next)&&!(_=_.call(p,L[1])).done)return _;switch(p=0,_&&(L=[2&L[0],_.value]),L[0]){case 0:case 1:_=L;break;case 4:return R.label++,{value:L[1],done:!1};case 5:R.label++,p=L[1],L=[0];continue;case 7:L=R.ops.pop(),R.trys.pop();continue;default:if(_=R.trys,!((_=_.length>0&&_[_.length-1])||L[0]!==6&&L[0]!==2)){R=0;continue}if(L[0]===3&&(!_||L[1]>_[0]&&L[1]<_[3])){R.label=L[1];break}if(L[0]===6&&R.label<_[1]){R.label=_[1],_=L;break}if(_&&R.label<_[2]){R.label=_[2],R.ops.push(L);break}_[2]&&R.ops.pop(),R.trys.pop();continue}L=l.call(a,R)}catch(q){L=[6,q],p=0}finally{f=_=0}if(5&L[0])throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}([j,$])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=t(0),o=function(){function a(l,f){this._theme=l,this._grammars={},this._rawGrammars={},this._injectionGrammars={},this._onigLibPromise=f}return a.prototype.dispose=function(){for(var l in this._grammars)this._grammars.hasOwnProperty(l)&&this._grammars[l].dispose()},a.prototype.setTheme=function(l){var f=this;this._theme=l,Object.keys(this._grammars).forEach(function(p){f._grammars[p].onDidChangeTheme()})},a.prototype.getColorMap=function(){return this._theme.getColorMap()},a.prototype.addGrammar=function(l,f){this._rawGrammars[l.scopeName]=l,f&&(this._injectionGrammars[l.scopeName]=f)},a.prototype.lookup=function(l){return this._rawGrammars[l]},a.prototype.injections=function(l){return this._injectionGrammars[l]},a.prototype.getDefaults=function(){return this._theme.getDefaults()},a.prototype.themeMatch=function(l){return this._theme.match(l)},a.prototype.grammarForScopeName=function(l,f,p,_){return r(this,void 0,void 0,function(){var b,R,O,j,$;return i(this,function(L){switch(L.label){case 0:return this._grammars[l]?[3,2]:(b=this._rawGrammars[l])?(R=this._grammars,O=l,j=s.createGrammar,$=[b,f,p,_,this],[4,this._onigLibPromise]):[2,null];case 1:R[O]=j.apply(void 0,$.concat([L.sent()])),L.label=2;case 2:return[2,this._grammars[l]]}})})},a}();e.SyncRegistry=o},function(n,e,t){"use strict";var r,i=this&&this.__extends||(r=function(q,P){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,oe){W.__proto__=oe}||function(W,oe){for(var I in oe)oe.hasOwnProperty(I)&&(W[I]=oe[I])})(q,P)},function(q,P){function W(){this.constructor=q}r(q,P),q.prototype=P===null?Object.create(P):(W.prototype=P.prototype,new W)});Object.defineProperty(e,"__esModule",{value:!0});var s=t(1),o=/\\(\d+)/,a=/\\(\d+)/g,l=function(){function q(P,W,oe){this.debugRegExps=W,this.rules=oe,this.scanner=P.createOnigScanner(W)}return q.prototype.dispose=function(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()},q}();e.CompiledRule=l;var f=function(){function q(P,W,oe,I){this.$location=P,this.id=W,this._name=oe||null,this._nameIsCapturing=s.RegexSource.hasCaptures(this._name),this._contentName=I||null,this._contentNameIsCapturing=s.RegexSource.hasCaptures(this._contentName)}return Object.defineProperty(q.prototype,"debugName",{get:function(){var P=this.$location?s.basename(this.$location.filename)+":"+this.$location.line:"unknown";return this.constructor.name+"#"+this.id+" @ "+P},enumerable:!0,configurable:!0}),q.prototype.getName=function(P,W){return this._nameIsCapturing&&this._name!==null&&P!==null&&W!==null?s.RegexSource.replaceCaptures(this._name,P,W):this._name},q.prototype.getContentName=function(P,W){return this._contentNameIsCapturing&&this._contentName!==null?s.RegexSource.replaceCaptures(this._contentName,P,W):this._contentName},q}();e.Rule=f;var p=function(q){function P(W,oe,I,J,he){var ye=q.call(this,W,oe,I,J)||this;return ye.retokenizeCapturedWithRuleId=he,ye}return i(P,q),P.prototype.dispose=function(){},P.prototype.collectPatternsRecursive=function(W,oe,I){throw new Error("Not supported!")},P.prototype.compile=function(W,oe,I,J){throw new Error("Not supported!")},P}(f);e.CaptureRule=p;var _=function(){function q(P,W,oe){if(oe===void 0&&(oe=!0),oe)if(P){for(var I=P.length,J=0,he=[],ye=!1,He=0;He<I;He++)if(P.charAt(He)==="\\"&&He+1<I){var at=P.charAt(He+1);at==="z"?(he.push(P.substring(J,He)),he.push("$(?!\\n)(?<!\\n)"),J=He+2):at!=="A"&&at!=="G"||(ye=!0),He++}this.hasAnchor=ye,J===0?this.source=P:(he.push(P.substring(J,I)),this.source=he.join(""))}else this.hasAnchor=!1,this.source=P;else this.hasAnchor=!1,this.source=P;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=W,this.hasBackReferences=o.test(this.source)}return q.prototype.clone=function(){return new q(this.source,this.ruleId,!0)},q.prototype.setSource=function(P){this.source!==P&&(this.source=P,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))},q.prototype.resolveBackReferences=function(P,W){var oe=W.map(function(I){return P.substring(I.start,I.end)});return a.lastIndex=0,this.source.replace(a,function(I,J){return(oe[parseInt(J,10)]||"").replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")})},q.prototype._buildAnchorCache=function(){var P,W,oe,I,J=[],he=[],ye=[],He=[];for(P=0,W=this.source.length;P<W;P++)oe=this.source.charAt(P),J[P]=oe,he[P]=oe,ye[P]=oe,He[P]=oe,oe==="\\"&&P+1<W&&((I=this.source.charAt(P+1))==="A"?(J[P+1]="\uFFFF",he[P+1]="\uFFFF",ye[P+1]="A",He[P+1]="A"):I==="G"?(J[P+1]="\uFFFF",he[P+1]="G",ye[P+1]="\uFFFF",He[P+1]="G"):(J[P+1]=I,he[P+1]=I,ye[P+1]=I,He[P+1]=I),P++);return{A0_G0:J.join(""),A0_G1:he.join(""),A1_G0:ye.join(""),A1_G1:He.join("")}},q.prototype.resolveAnchors=function(P,W){return this.hasAnchor&&this._anchorCache?P?W?this._anchorCache.A1_G1:this._anchorCache.A1_G0:W?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source},q}();e.RegExpSource=_;var b=function(){function q(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}return q.prototype.dispose=function(){this._disposeCaches()},q.prototype._disposeCaches=function(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)},q.prototype.push=function(P){this._items.push(P),this._hasAnchors=this._hasAnchors||P.hasAnchor},q.prototype.unshift=function(P){this._items.unshift(P),this._hasAnchors=this._hasAnchors||P.hasAnchor},q.prototype.length=function(){return this._items.length},q.prototype.setSource=function(P,W){this._items[P].source!==W&&(this._disposeCaches(),this._items[P].setSource(W))},q.prototype.compile=function(P,W,oe){if(this._hasAnchors)return W?oe?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(P,W,oe)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(P,W,oe)),this._anchorCache.A1_G0):oe?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(P,W,oe)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(P,W,oe)),this._anchorCache.A0_G0);if(!this._cached){var I=this._items.map(function(J){return J.source});this._cached=new l(P,I,this._items.map(function(J){return J.ruleId}))}return this._cached},q.prototype._resolveAnchors=function(P,W,oe){var I=this._items.map(function(J){return J.resolveAnchors(W,oe)});return new l(P,I,this._items.map(function(J){return J.ruleId}))},q}();e.RegExpSourceList=b;var R=function(q){function P(W,oe,I,J,he){var ye=q.call(this,W,oe,I,null)||this;return ye._match=new _(J,ye.id),ye.captures=he,ye._cachedCompiledPatterns=null,ye}return i(P,q),P.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(P.prototype,"debugMatchRegExp",{get:function(){return""+this._match.source},enumerable:!0,configurable:!0}),P.prototype.collectPatternsRecursive=function(W,oe,I){oe.push(this._match)},P.prototype.compile=function(W,oe,I,J){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new b,this.collectPatternsRecursive(W,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(W,I,J)},P}(f);e.MatchRule=R;var O=function(q){function P(W,oe,I,J,he){var ye=q.call(this,W,oe,I,J)||this;return ye.patterns=he.patterns,ye.hasMissingPatterns=he.hasMissingPatterns,ye._cachedCompiledPatterns=null,ye}return i(P,q),P.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},P.prototype.collectPatternsRecursive=function(W,oe,I){var J,he;for(J=0,he=this.patterns.length;J<he;J++)W.getRule(this.patterns[J]).collectPatternsRecursive(W,oe,!1)},P.prototype.compile=function(W,oe,I,J){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new b,this.collectPatternsRecursive(W,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(W,I,J)},P}(f);e.IncludeOnlyRule=O;var j=function(q){function P(W,oe,I,J,he,ye,He,at,ct,Ze){var bt=q.call(this,W,oe,I,J)||this;return bt._begin=new _(he,bt.id),bt.beginCaptures=ye,bt._end=new _(He||"\uFFFF",-1),bt.endHasBackReferences=bt._end.hasBackReferences,bt.endCaptures=at,bt.applyEndPatternLast=ct||!1,bt.patterns=Ze.patterns,bt.hasMissingPatterns=Ze.hasMissingPatterns,bt._cachedCompiledPatterns=null,bt}return i(P,q),P.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(P.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"debugEndRegExp",{get:function(){return""+this._end.source},enumerable:!0,configurable:!0}),P.prototype.getEndWithResolvedBackReferences=function(W,oe){return this._end.resolveBackReferences(W,oe)},P.prototype.collectPatternsRecursive=function(W,oe,I){if(I){var J,he=void 0;for(he=0,J=this.patterns.length;he<J;he++)W.getRule(this.patterns[he]).collectPatternsRecursive(W,oe,!1)}else oe.push(this._begin)},P.prototype.compile=function(W,oe,I,J){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new b,this.collectPatternsRecursive(W,this._cachedCompiledPatterns,!0),this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)),this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,oe):this._cachedCompiledPatterns.setSource(0,oe)),this._cachedCompiledPatterns.compile(W,I,J)},P}(f);e.BeginEndRule=j;var $=function(q){function P(W,oe,I,J,he,ye,He,at,ct){var Ze=q.call(this,W,oe,I,J)||this;return Ze._begin=new _(he,Ze.id),Ze.beginCaptures=ye,Ze.whileCaptures=at,Ze._while=new _(He,-2),Ze.whileHasBackReferences=Ze._while.hasBackReferences,Ze.patterns=ct.patterns,Ze.hasMissingPatterns=ct.hasMissingPatterns,Ze._cachedCompiledPatterns=null,Ze._cachedCompiledWhilePatterns=null,Ze}return i(P,q),P.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)},Object.defineProperty(P.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"debugWhileRegExp",{get:function(){return""+this._while.source},enumerable:!0,configurable:!0}),P.prototype.getWhileWithResolvedBackReferences=function(W,oe){return this._while.resolveBackReferences(W,oe)},P.prototype.collectPatternsRecursive=function(W,oe,I){if(I){var J,he=void 0;for(he=0,J=this.patterns.length;he<J;he++)W.getRule(this.patterns[he]).collectPatternsRecursive(W,oe,!1)}else oe.push(this._begin)},P.prototype.compile=function(W,oe,I,J){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new b,this.collectPatternsRecursive(W,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(W,I,J)},P.prototype.compileWhile=function(W,oe,I,J){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new b,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,oe||"\uFFFF"),this._cachedCompiledWhilePatterns.compile(W,I,J)},P}(f);e.BeginWhileRule=$;var L=function(){function q(){}return q.createCaptureRule=function(P,W,oe,I,J){return P.registerRule(function(he){return new p(W,he,oe,I,J)})},q.getCompiledRuleId=function(P,W,oe){return P.id||W.registerRule(function(I){if(P.id=I,P.match)return new R(P.$vscodeTextmateLocation,P.id,P.name,P.match,q._compileCaptures(P.captures,W,oe));if(P.begin===void 0){P.repository&&(oe=s.mergeObjects({},oe,P.repository));var J=P.patterns;return J===void 0&&P.include&&(J=[{include:P.include}]),new O(P.$vscodeTextmateLocation,P.id,P.name,P.contentName,q._compilePatterns(J,W,oe))}return P.while?new $(P.$vscodeTextmateLocation,P.id,P.name,P.contentName,P.begin,q._compileCaptures(P.beginCaptures||P.captures,W,oe),P.while,q._compileCaptures(P.whileCaptures||P.captures,W,oe),q._compilePatterns(P.patterns,W,oe)):new j(P.$vscodeTextmateLocation,P.id,P.name,P.contentName,P.begin,q._compileCaptures(P.beginCaptures||P.captures,W,oe),P.end,q._compileCaptures(P.endCaptures||P.captures,W,oe),P.applyEndPatternLast,q._compilePatterns(P.patterns,W,oe))}),P.id},q._compileCaptures=function(P,W,oe){var I=[];if(P){var J=0;for(var he in P)he!=="$vscodeTextmateLocation"&&(He=parseInt(he,10))>J&&(J=He);for(var ye=0;ye<=J;ye++)I[ye]=null;for(var he in P)if(he!=="$vscodeTextmateLocation"){var He=parseInt(he,10),at=0;P[he].patterns&&(at=q.getCompiledRuleId(P[he],W,oe)),I[He]=q.createCaptureRule(W,P[he].$vscodeTextmateLocation,P[he].name,P[he].contentName,at)}}return I},q._compilePatterns=function(P,W,oe){var I=[];if(P)for(var J=0,he=P.length;J<he;J++){var ye=P[J],He=-1;if(ye.include)if(ye.include.charAt(0)==="#"){var at=oe[ye.include.substr(1)];at&&(He=q.getCompiledRuleId(at,W,oe))}else if(ye.include==="$base"||ye.include==="$self")He=q.getCompiledRuleId(oe[ye.include],W,oe);else{var ct=null,Ze=null,bt=ye.include.indexOf("#");bt>=0?(ct=ye.include.substring(0,bt),Ze=ye.include.substring(bt+1)):ct=ye.include;var Mt=W.getExternalGrammar(ct,oe);if(Mt)if(Ze){var qe=Mt.repository[Ze];qe&&(He=q.getCompiledRuleId(qe,W,Mt.repository))}else He=q.getCompiledRuleId(Mt.repository.$self,W,Mt.repository)}else He=q.getCompiledRuleId(ye,W,oe);if(He!==-1){var te=W.getRule(He),et=!1;if((te instanceof O||te instanceof j||te instanceof $)&&te.hasMissingPatterns&&te.patterns.length===0&&(et=!0),et)continue;I.push(He)}}return{patterns:I,hasMissingPatterns:(P?P.length:0)!==I.length}},q}();e.RuleFactory=L},function(n,e,t){"use strict";function r(i){return!!i&&!!i.match(/[\w\.:]+/)}Object.defineProperty(e,"__esModule",{value:!0}),e.createMatchers=function(i,s){for(var o,a,l,f=[],p=(l=(a=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g).exec(o=i),{next:function(){if(!l)return null;var $=l[0];return l=a.exec(o),$}}),_=p.next();_!==null;){var b=0;if(_.length===2&&_.charAt(1)===":"){switch(_.charAt(0)){case"R":b=1;break;case"L":b=-1;break;default:console.log("Unknown priority "+_+" in scope selector")}_=p.next()}var R=j();if(f.push({matcher:R,priority:b}),_!==",")break;_=p.next()}return f;function O(){if(_==="-"){_=p.next();var $=O();return function(P){return!!$&&!$(P)}}if(_==="("){_=p.next();var L=function(){for(var P=[],W=j();W&&(P.push(W),_==="|"||_===",");){do _=p.next();while(_==="|"||_===",");W=j()}return function(oe){return P.some(function(I){return I(oe)})}}();return _===")"&&(_=p.next()),L}if(r(_)){var q=[];do q.push(_),_=p.next();while(r(_));return function(P){return s(q,P)}}return null}function j(){for(var $=[],L=O();L;)$.push(L),L=O();return function(q){return $.every(function(P){return P(q)})}}}},function(n,e){var t,r,i=n.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a($){if(t===setTimeout)return setTimeout($,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout($,0);try{return t($,0)}catch{try{return t.call(null,$,0)}catch{return t.call(this,$,0)}}}(function(){try{t=typeof setTimeout=="function"?setTimeout:s}catch{t=s}try{r=typeof clearTimeout=="function"?clearTimeout:o}catch{r=o}})();var l,f=[],p=!1,_=-1;function b(){p&&l&&(p=!1,l.length?f=l.concat(f):_=-1,f.length&&R())}function R(){if(!p){var $=a(b);p=!0;for(var L=f.length;L;){for(l=f,f=[];++_<L;)l&&l[_].run();_=-1,L=f.length}l=null,p=!1,function(q){if(r===clearTimeout)return clearTimeout(q);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(q);try{r(q)}catch{try{return r.call(null,q)}catch{return r.call(this,q)}}}($)}}function O($,L){this.fun=$,this.array=L}function j(){}i.nextTick=function($){var L=new Array(arguments.length-1);if(arguments.length>1)for(var q=1;q<arguments.length;q++)L[q-1]=arguments[q];f.push(new O($,L)),f.length!==1||p||a(R)},O.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=j,i.addListener=j,i.once=j,i.off=j,i.removeListener=j,i.removeAllListeners=j,i.emit=j,i.prependListener=j,i.prependOnceListener=j,i.listeners=function($){return[]},i.binding=function($){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function($){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(9),i=t(2),s=t(10);e.parseRawGrammar=function(o,a){return a===void 0&&(a=null),a!==null&&/\.json$/.test(a)?function(l,f){return i.DebugFlags.InDebugMode?s.parse(l,f,!0):JSON.parse(l)}(o,a):function(l,f){return i.DebugFlags.InDebugMode?r.parseWithLocation(l,f,"$vscodeTextmateLocation"):r.parse(l)}(o,a)}},function(n,e,t){"use strict";function r(i,s,o){var a=i.length,l=0,f=1,p=0;function _(kt){if(o===null)l+=kt;else for(;kt>0;)i.charCodeAt(l)===10?(l++,f++,p=0):(l++,p++),kt--}function b(kt){o===null?l=kt:_(kt-l)}function R(){for(;l<a;){var kt=i.charCodeAt(l);if(kt!==32&&kt!==9&&kt!==13&&kt!==10)break;_(1)}}function O(kt){return i.substr(l,kt.length)===kt&&(_(kt.length),!0)}function j(kt){var Bt=i.indexOf(kt,l);b(Bt!==-1?Bt+kt.length:a)}function $(kt){var Bt=i.indexOf(kt,l);if(Bt!==-1){var tn=i.substring(l,Bt);return b(Bt+kt.length),tn}return tn=i.substr(l),b(a),tn}a>0&&i.charCodeAt(0)===65279&&(l=1);var L=0,q=null,P=[],W=[],oe=null;function I(kt,Bt){P.push(L),W.push(q),L=kt,q=Bt}function J(){if(P.length===0)return he("illegal state stack");L=P.pop(),q=W.pop()}function he(kt){throw new Error("Near offset "+l+": "+kt+" ~~~"+i.substr(l,50)+"~~~")}var ye,He,at,ct=function(){if(oe===null)return he("missing <key>");var kt={};o!==null&&(kt[o]={filename:s,line:f,char:p}),q[oe]=kt,oe=null,I(1,kt)},Ze=function(){if(oe===null)return he("missing <key>");var kt=[];q[oe]=kt,oe=null,I(2,kt)},bt=function(){var kt={};o!==null&&(kt[o]={filename:s,line:f,char:p}),q.push(kt),I(1,kt)},Mt=function(){var kt=[];q.push(kt),I(2,kt)};function qe(){if(L!==1)return he("unexpected </dict>");J()}function te(){return L===1||L!==2?he("unexpected </array>"):void J()}function et(kt){if(L===1){if(oe===null)return he("missing <key>");q[oe]=kt,oe=null}else L===2?q.push(kt):q=kt}function Ee(kt){if(isNaN(kt))return he("cannot parse float");if(L===1){if(oe===null)return he("missing <key>");q[oe]=kt,oe=null}else L===2?q.push(kt):q=kt}function ke(kt){if(isNaN(kt))return he("cannot parse integer");if(L===1){if(oe===null)return he("missing <key>");q[oe]=kt,oe=null}else L===2?q.push(kt):q=kt}function Ce(kt){if(L===1){if(oe===null)return he("missing <key>");q[oe]=kt,oe=null}else L===2?q.push(kt):q=kt}function pe(kt){if(L===1){if(oe===null)return he("missing <key>");q[oe]=kt,oe=null}else L===2?q.push(kt):q=kt}function Je(kt){if(L===1){if(oe===null)return he("missing <key>");q[oe]=kt,oe=null}else L===2?q.push(kt):q=kt}function lt(kt){if(kt.isClosed)return"";var Bt=$("</");return j(">"),Bt.replace(/&#([0-9]+);/g,function(tn,Et){return String.fromCodePoint(parseInt(Et,10))}).replace(/&#x([0-9a-f]+);/g,function(tn,Et){return String.fromCodePoint(parseInt(Et,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(tn){switch(tn){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return tn})}for(;l<a&&(R(),!(l>=a));){var Ht=i.charCodeAt(l);if(_(1),Ht!==60)return he("expected <");if(l>=a)return he("unexpected end of input");var wt=i.charCodeAt(l);if(wt!==63)if(wt!==33){if(wt===47){if(_(1),R(),O("plist")){j(">");continue}if(O("dict")){j(">"),qe();continue}if(O("array")){j(">"),te();continue}return he("unexpected closed tag")}var mn=(He=void 0,at=void 0,He=$(">"),at=!1,He.charCodeAt(He.length-1)===47&&(at=!0,He=He.substring(0,He.length-1)),{name:He.trim(),isClosed:at});switch(mn.name){case"dict":L===1?ct():L===2?bt():(q={},o!==null&&(q[o]={filename:s,line:f,char:p}),I(1,q)),mn.isClosed&&qe();continue;case"array":L===1?Ze():L===2?Mt():I(2,q=[]),mn.isClosed&&te();continue;case"key":ye=lt(mn),L!==1?he("unexpected <key>"):oe!==null?he("too many <key>"):oe=ye;continue;case"string":et(lt(mn));continue;case"real":Ee(parseFloat(lt(mn)));continue;case"integer":ke(parseInt(lt(mn),10));continue;case"date":Ce(new Date(lt(mn)));continue;case"data":pe(lt(mn));continue;case"true":lt(mn),Je(!0);continue;case"false":lt(mn),Je(!1);continue}if(!/^plist/.test(mn.name))return he("unexpected opened tag "+mn.name)}else{if(_(1),O("--")){j("-->");continue}j(">")}else _(1),j("?>")}return q}Object.defineProperty(e,"__esModule",{value:!0}),e.parseWithLocation=function(i,s,o){return r(i,s,o)},e.parse=function(i){return r(i,null,null)}},function(n,e,t){"use strict";function r(a,l){throw new Error("Near offset "+a.pos+": "+l+" ~~~"+a.source.substr(a.pos,50)+"~~~")}Object.defineProperty(e,"__esModule",{value:!0}),e.parse=function(a,l,f){var p=new i(a),_=new s,b=0,R=null,O=[],j=[];function $(){O.push(b),j.push(R)}function L(){b=O.pop(),R=j.pop()}function q(I){r(p,I)}for(;o(p,_);){if(b===0){if(R!==null&&q("too many constructs in root"),_.type===3){R={},f&&(R.$vscodeTextmateLocation=_.toLocation(l)),$(),b=1;continue}if(_.type===2){R=[],$(),b=4;continue}q("unexpected token in root")}if(b===2){if(_.type===5){L();continue}if(_.type===7){b=3;continue}q("expected , or }")}if(b===1||b===3){if(b===1&&_.type===5){L();continue}if(_.type===1){var P=_.value;if(o(p,_)&&_.type===6||q("expected colon"),o(p,_)||q("expected value"),b=2,_.type===1){R[P]=_.value;continue}if(_.type===8){R[P]=null;continue}if(_.type===9){R[P]=!0;continue}if(_.type===10){R[P]=!1;continue}if(_.type===11){R[P]=parseFloat(_.value);continue}if(_.type===2){var W=[];R[P]=W,$(),b=4,R=W;continue}if(_.type===3){var oe={};f&&(oe.$vscodeTextmateLocation=_.toLocation(l)),R[P]=oe,$(),b=1,R=oe;continue}}q("unexpected token in dict")}if(b===5){if(_.type===4){L();continue}if(_.type===7){b=6;continue}q("expected , or ]")}if(b===4||b===6){if(b===4&&_.type===4){L();continue}if(b=5,_.type===1){R.push(_.value);continue}if(_.type===8){R.push(null);continue}if(_.type===9){R.push(!0);continue}if(_.type===10){R.push(!1);continue}if(_.type===11){R.push(parseFloat(_.value));continue}if(_.type===2){W=[],R.push(W),$(),b=4,R=W;continue}if(_.type===3){oe={},f&&(oe.$vscodeTextmateLocation=_.toLocation(l)),R.push(oe),$(),b=1,R=oe;continue}q("unexpected token in array")}q("unknown state")}return j.length!==0&&q("unclosed constructs"),R};var i=function(a){this.source=a,this.pos=0,this.len=a.length,this.line=1,this.char=0},s=function(){function a(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}return a.prototype.toLocation=function(l){return{filename:l,line:this.line,char:this.char}},a}();function o(a,l){l.value=null,l.type=0,l.offset=-1,l.len=-1,l.line=-1,l.char=-1;for(var f,p=a.source,_=a.pos,b=a.len,R=a.line,O=a.char;;){if(_>=b)return!1;if((f=p.charCodeAt(_))!==32&&f!==9&&f!==13){if(f!==10)break;_++,R++,O=0}else _++,O++}if(l.offset=_,l.line=R,l.char=O,f===34){for(l.type=1,_++,O++;;){if(_>=b)return!1;if(f=p.charCodeAt(_),_++,O++,f!==92){if(f===34)break}else _++,O++}l.value=p.substring(l.offset+1,_-1).replace(/\\u([0-9A-Fa-f]{4})/g,function(j,$){return String.fromCodePoint(parseInt($,16))}).replace(/\\(.)/g,function(j,$){switch($){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:r(a,"invalid escape sequence")}throw new Error("unreachable")})}else if(f===91)l.type=2,_++,O++;else if(f===123)l.type=3,_++,O++;else if(f===93)l.type=4,_++,O++;else if(f===125)l.type=5,_++,O++;else if(f===58)l.type=6,_++,O++;else if(f===44)l.type=7,_++,O++;else if(f===110){if(l.type=8,_++,O++,(f=p.charCodeAt(_))!==117||(_++,O++,(f=p.charCodeAt(_))!==108)||(_++,O++,(f=p.charCodeAt(_))!==108))return!1;_++,O++}else if(f===116){if(l.type=9,_++,O++,(f=p.charCodeAt(_))!==114||(_++,O++,(f=p.charCodeAt(_))!==117)||(_++,O++,(f=p.charCodeAt(_))!==101))return!1;_++,O++}else if(f===102){if(l.type=10,_++,O++,(f=p.charCodeAt(_))!==97||(_++,O++,(f=p.charCodeAt(_))!==108)||(_++,O++,(f=p.charCodeAt(_))!==115)||(_++,O++,(f=p.charCodeAt(_))!==101))return!1;_++,O++}else for(l.type=11;;){if(_>=b)return!1;if(!((f=p.charCodeAt(_))===46||f>=48&&f<=57||f===101||f===69||f===45||f===43))break;_++,O++}return l.len=_-l.offset,l.value===null&&(l.value=p.substr(l.offset,l.len)),a.pos=_,a.line=R,a.char=O,!0}},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(R,O,j,$,L,q){this.scope=R,this.parentScopes=O,this.index=j,this.fontStyle=$,this.foreground=L,this.background=q};function i(R){return!!/^#[0-9a-f]{6}$/i.test(R)||!!/^#[0-9a-f]{8}$/i.test(R)||!!/^#[0-9a-f]{3}$/i.test(R)||!!/^#[0-9a-f]{4}$/i.test(R)}function s(R){if(!R)return[];if(!R.settings||!Array.isArray(R.settings))return[];for(var O=R.settings,j=[],$=0,L=0,q=O.length;L<q;L++){var P=O[L];if(P.settings){var W=void 0;typeof P.scope=="string"?W=P.scope.replace(/^[,]+/,"").replace(/[,]+$/,"").split(","):W=Array.isArray(P.scope)?P.scope:[""];var oe=-1;if(typeof P.settings.fontStyle=="string"){oe=0;for(var I=0,J=(He=P.settings.fontStyle.split(" ")).length;I<J;I++)switch(He[I]){case"italic":oe|=1;break;case"bold":oe|=2;break;case"underline":oe|=4}}var he=null;typeof P.settings.foreground=="string"&&i(P.settings.foreground)&&(he=P.settings.foreground);var ye=null;for(typeof P.settings.background=="string"&&i(P.settings.background)&&(ye=P.settings.background),I=0,J=W.length;I<J;I++){var He,at=(He=W[I].trim().split(" "))[He.length-1],ct=null;He.length>1&&(ct=He.slice(0,He.length-1)).reverse(),j[$++]=new r(at,ct,L,oe,he,ye)}}}return j}function o(R,O){R.sort(function(ye,He){var at=f(ye.scope,He.scope);return at!==0||(at=p(ye.parentScopes,He.parentScopes))!==0?at:ye.index-He.index});for(var j=0,$="#000000",L="#ffffff";R.length>=1&&R[0].scope==="";){var q=R.shift();q.fontStyle!==-1&&(j=q.fontStyle),q.foreground!==null&&($=q.foreground),q.background!==null&&(L=q.background)}for(var P=new a(O),W=new _(0,null,j,P.getId($),P.getId(L)),oe=new b(new _(0,null,-1,0,0),[]),I=0,J=R.length;I<J;I++){var he=R[I];oe.insert(0,he.scope,he.parentScopes,he.fontStyle,P.getId(he.foreground),P.getId(he.background))}return new l(P,W,oe)}e.ParsedThemeRule=r,e.parseTheme=s;var a=function(){function R(O){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(O)){this._isFrozen=!0;for(var j=0,$=O.length;j<$;j++)this._color2id[O[j]]=j,this._id2color[j]=O[j]}else this._isFrozen=!1}return R.prototype.getId=function(O){if(O===null)return 0;O=O.toUpperCase();var j=this._color2id[O];if(j)return j;if(this._isFrozen)throw new Error("Missing color in color map - "+O);return j=++this._lastColorId,this._color2id[O]=j,this._id2color[j]=O,j},R.prototype.getColorMap=function(){return this._id2color.slice(0)},R}();e.ColorMap=a;var l=function(){function R(O,j,$){this._colorMap=O,this._root=$,this._defaults=j,this._cache={}}return R.createFromRawTheme=function(O,j){return this.createFromParsedTheme(s(O),j)},R.createFromParsedTheme=function(O,j){return o(O,j)},R.prototype.getColorMap=function(){return this._colorMap.getColorMap()},R.prototype.getDefaults=function(){return this._defaults},R.prototype.match=function(O){return this._cache.hasOwnProperty(O)||(this._cache[O]=this._root.match(O)),this._cache[O]},R}();function f(R,O){return R<O?-1:R>O?1:0}function p(R,O){if(R===null&&O===null)return 0;if(!R)return-1;if(!O)return 1;var j=R.length,$=O.length;if(j===$){for(var L=0;L<j;L++){var q=f(R[L],O[L]);if(q!==0)return q}return 0}return j-$}e.Theme=l,e.strcmp=f,e.strArrCmp=p;var _=function(){function R(O,j,$,L,q){this.scopeDepth=O,this.parentScopes=j,this.fontStyle=$,this.foreground=L,this.background=q}return R.prototype.clone=function(){return new R(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)},R.cloneArr=function(O){for(var j=[],$=0,L=O.length;$<L;$++)j[$]=O[$].clone();return j},R.prototype.acceptOverwrite=function(O,j,$,L){this.scopeDepth>O?console.log("how did this happen?"):this.scopeDepth=O,j!==-1&&(this.fontStyle=j),$!==0&&(this.foreground=$),L!==0&&(this.background=L)},R}();e.ThemeTrieElementRule=_;var b=function(){function R(O,j,$){j===void 0&&(j=[]),$===void 0&&($={}),this._mainRule=O,this._rulesWithParentScopes=j,this._children=$}return R._sortBySpecificity=function(O){return O.length===1||O.sort(this._cmpBySpecificity),O},R._cmpBySpecificity=function(O,j){if(O.scopeDepth===j.scopeDepth){var $=O.parentScopes,L=j.parentScopes,q=$===null?0:$.length,P=L===null?0:L.length;if(q===P)for(var W=0;W<q;W++){var oe=$[W].length,I=L[W].length;if(oe!==I)return I-oe}return P-q}return j.scopeDepth-O.scopeDepth},R.prototype.match=function(O){if(O==="")return R._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));var j,$,L=O.indexOf(".");return L===-1?(j=O,$=""):(j=O.substring(0,L),$=O.substring(L+1)),this._children.hasOwnProperty(j)?this._children[j].match($):R._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))},R.prototype.insert=function(O,j,$,L,q,P){if(j!==""){var W,oe,I,J=j.indexOf(".");J===-1?(W=j,oe=""):(W=j.substring(0,J),oe=j.substring(J+1)),this._children.hasOwnProperty(W)?I=this._children[W]:(I=new R(this._mainRule.clone(),_.cloneArr(this._rulesWithParentScopes)),this._children[W]=I),I.insert(O+1,oe,$,L,q,P)}else this._doInsertHere(O,$,L,q,P)},R.prototype._doInsertHere=function(O,j,$,L,q){if(j!==null){for(var P=0,W=this._rulesWithParentScopes.length;P<W;P++){var oe=this._rulesWithParentScopes[P];if(p(oe.parentScopes,j)===0)return void oe.acceptOverwrite(O,$,L,q)}$===-1&&($=this._mainRule.fontStyle),L===0&&(L=this._mainRule.foreground),q===0&&(q=this._mainRule.background),this._rulesWithParentScopes.push(new _(O,j,$,L,q))}else this._mainRule.acceptOverwrite(O,$,L,q)},R}();e.ThemeTrieElement=b}])})});var bX=Ae(()=>{m()});var SX=Ae(()=>{m()});var hs=Ae((ICt,BM)=>{m();var e2e,t2e,n2e,r2e,i2e,s2e,o2e,a2e,u2e,MM,NX,l2e,c2e,f2e,J8,d2e,h2e,p2e,m2e,x2e,g2e,y2e,v2e,_2e,PM;(function(n){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){n(t(e,t(r)))}):typeof BM=="object"&&typeof BM.exports=="object"?n(t(e,t(BM.exports))):n(t(e));function t(r,i){return r!==e&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(s,o){return r[s]=i?i(s,o):o}}})(function(n){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])};e2e=function(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(r,i);function s(){this.constructor=r}r.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)},t2e=Object.assign||function(r){for(var i,s=1,o=arguments.length;s<o;s++){i=arguments[s];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])}return r},n2e=function(r,i){var s={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&i.indexOf(o)<0&&(s[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(r);a<o.length;a++)i.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(r,o[a])&&(s[o[a]]=r[o[a]]);return s},r2e=function(r,i,s,o){var a=arguments.length,l=a<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,s):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(r,i,s,o);else for(var p=r.length-1;p>=0;p--)(f=r[p])&&(l=(a<3?f(l):a>3?f(i,s,l):f(i,s))||l);return a>3&&l&&Object.defineProperty(i,s,l),l},i2e=function(r,i){return function(s,o){i(s,o,r)}},s2e=function(r,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,i)},o2e=function(r,i,s,o){function a(l){return l instanceof s?l:new s(function(f){f(l)})}return new(s||(s=Promise))(function(l,f){function p(R){try{b(o.next(R))}catch(O){f(O)}}function _(R){try{b(o.throw(R))}catch(O){f(O)}}function b(R){R.done?l(R.value):a(R.value).then(p,_)}b((o=o.apply(r,i||[])).next())})},a2e=function(r,i){var s={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},o,a,l,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(b){return function(R){return _([b,R])}}function _(b){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,a&&(l=b[0]&2?a.return:b[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,b[1])).done)return l;switch(a=0,l&&(b=[b[0]&2,l.value]),b[0]){case 0:case 1:l=b;break;case 4:return s.label++,{value:b[1],done:!1};case 5:s.label++,a=b[1],b=[0];continue;case 7:b=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(b[0]===6||b[0]===2)){s=0;continue}if(b[0]===3&&(!l||b[1]>l[0]&&b[1]<l[3])){s.label=b[1];break}if(b[0]===6&&s.label<l[1]){s.label=l[1],l=b;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(b);break}l[2]&&s.ops.pop(),s.trys.pop();continue}b=i.call(r,s)}catch(R){b=[6,R],a=0}finally{o=l=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},u2e=function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&PM(i,r,s)},PM=Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]},MM=function(r){var i=typeof Symbol=="function"&&Symbol.iterator,s=i&&r[i],o=0;if(s)return s.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},NX=function(r,i){var s=typeof Symbol=="function"&&r[Symbol.iterator];if(!s)return r;var o=s.call(r),a,l=[],f;try{for(;(i===void 0||i-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(p){f={error:p}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(f)throw f.error}}return l},l2e=function(){for(var r=[],i=0;i<arguments.length;i++)r=r.concat(NX(arguments[i]));return r},c2e=function(){for(var r=0,i=0,s=arguments.length;i<s;i++)r+=arguments[i].length;for(var o=Array(r),a=0,i=0;i<s;i++)for(var l=arguments[i],f=0,p=l.length;f<p;f++,a++)o[a]=l[f];return o},f2e=function(r,i,s){if(s||arguments.length===2)for(var o=0,a=i.length,l;o<a;o++)(l||!(o in i))&&(l||(l=Array.prototype.slice.call(i,0,o)),l[o]=i[o]);return r.concat(l||Array.prototype.slice.call(i))},J8=function(r){return this instanceof J8?(this.v=r,this):new J8(r)},d2e=function(r,i,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s.apply(r,i||[]),a,l=[];return a={},f("next"),f("throw"),f("return"),a[Symbol.asyncIterator]=function(){return this},a;function f(j){o[j]&&(a[j]=function($){return new Promise(function(L,q){l.push([j,$,L,q])>1||p(j,$)})})}function p(j,$){try{_(o[j]($))}catch(L){O(l[0][3],L)}}function _(j){j.value instanceof J8?Promise.resolve(j.value.v).then(b,R):O(l[0][2],j)}function b(j){p("next",j)}function R(j){p("throw",j)}function O(j,$){j($),l.shift(),l.length&&p(l[0][0],l[0][1])}},h2e=function(r){var i,s;return i={},o("next"),o("throw",function(a){throw a}),o("return"),i[Symbol.iterator]=function(){return this},i;function o(a,l){i[a]=r[a]?function(f){return(s=!s)?{value:J8(r[a](f)),done:a==="return"}:l?l(f):f}:l}},p2e=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r[Symbol.asyncIterator],s;return i?i.call(r):(r=typeof MM=="function"?MM(r):r[Symbol.iterator](),s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s);function o(l){s[l]=r[l]&&function(f){return new Promise(function(p,_){f=r[l](f),a(p,_,f.done,f.value)})}}function a(l,f,p,_){Promise.resolve(_).then(function(b){l({value:b,done:p})},f)}},m2e=function(r,i){return Object.defineProperty?Object.defineProperty(r,"raw",{value:i}):r.raw=i,r};var t=Object.create?function(r,i){Object.defineProperty(r,"default",{enumerable:!0,value:i})}:function(r,i){r.default=i};x2e=function(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var s in r)s!=="default"&&Object.prototype.hasOwnProperty.call(r,s)&&PM(i,r,s);return t(i,r),i},g2e=function(r){return r&&r.__esModule?r:{default:r}},y2e=function(r,i,s,o){if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?r!==i||!o:!i.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?o:s==="a"?o.call(r):o?o.value:i.get(r)},v2e=function(r,i,s,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?r!==i||!a:!i.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(r,s):a?a.value=s:i.set(r,s),s},_2e=function(r,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?i===r:r.has(i)},n("__extends",e2e),n("__assign",t2e),n("__rest",n2e),n("__decorate",r2e),n("__param",i2e),n("__metadata",s2e),n("__awaiter",o2e),n("__generator",a2e),n("__exportStar",u2e),n("__createBinding",PM),n("__values",MM),n("__read",NX),n("__spread",l2e),n("__spreadArrays",c2e),n("__spreadArray",f2e),n("__await",J8),n("__asyncGenerator",d2e),n("__asyncDelegator",h2e),n("__asyncValues",p2e),n("__makeTemplateObject",m2e),n("__importStar",x2e),n("__importDefault",g2e),n("__classPrivateFieldGet",y2e),n("__classPrivateFieldSet",v2e),n("__classPrivateFieldIn",_2e)})});var H_=Ae(X8=>{"use strict";m();Object.defineProperty(X8,"__esModule",{value:!0});X8.encodeUtf8=X8.decodeUtf8=void 0;var bHe=new TextDecoder("utf-8"),SHe=n=>bHe.decode(n);X8.decodeUtf8=SHe;var CHe=new TextEncoder,wHe=n=>CHe.encode(n);X8.encodeUtf8=wHe});var C2=Ae(zi=>{"use strict";m();Object.defineProperty(zi,"__esModule",{value:!0});zi.isFlatbuffersByteBuffer=zi.isReadableNodeStream=zi.isWritableNodeStream=zi.isReadableDOMStream=zi.isWritableDOMStream=zi.isFetchResponse=zi.isFSReadStream=zi.isFileHandle=zi.isUnderlyingSink=zi.isIteratorResult=zi.isArrayLike=zi.isArrowJSON=zi.isAsyncIterable=zi.isIterable=zi.isObservable=zi.isPromise=zi.isObject=zi.BigUint64ArrayAvailable=zi.BigUint64Array=zi.BigInt64ArrayAvailable=zi.BigInt64Array=zi.BigIntAvailable=zi.BigInt=void 0;var[AHe,THe]=(()=>{let n=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw n()}return e.asIntN=()=>{throw n()},e.asUintN=()=>{throw n()},typeof BigInt!="undefined"?[BigInt,!0]:[e,!1]})();zi.BigInt=AHe;zi.BigIntAvailable=THe;var[FHe,DHe]=(()=>{let n=()=>{throw new Error("BigInt64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw n()}static from(){throw n()}constructor(){throw n()}}return typeof BigInt64Array!="undefined"?[BigInt64Array,!0]:[e,!1]})();zi.BigInt64Array=FHe;zi.BigInt64ArrayAvailable=DHe;var[RHe,OHe]=(()=>{let n=()=>{throw new Error("BigUint64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw n()}static from(){throw n()}constructor(){throw n()}}return typeof BigUint64Array!="undefined"?[BigUint64Array,!0]:[e,!1]})();zi.BigUint64Array=RHe;zi.BigUint64ArrayAvailable=OHe;var LX=n=>typeof n=="number",E2e=n=>typeof n=="boolean",$u=n=>typeof n=="function",NHe=n=>n!=null&&Object(n)===n;zi.isObject=NHe;var LHe=n=>(0,zi.isObject)(n)&&$u(n.then);zi.isPromise=LHe;var kHe=n=>(0,zi.isObject)(n)&&$u(n.subscribe);zi.isObservable=kHe;var IHe=n=>(0,zi.isObject)(n)&&$u(n[Symbol.iterator]);zi.isIterable=IHe;var MHe=n=>(0,zi.isObject)(n)&&$u(n[Symbol.asyncIterator]);zi.isAsyncIterable=MHe;var PHe=n=>(0,zi.isObject)(n)&&(0,zi.isObject)(n.schema);zi.isArrowJSON=PHe;var BHe=n=>(0,zi.isObject)(n)&&LX(n.length);zi.isArrayLike=BHe;var jHe=n=>(0,zi.isObject)(n)&&"done"in n&&"value"in n;zi.isIteratorResult=jHe;var qHe=n=>(0,zi.isObject)(n)&&$u(n.abort)&&$u(n.close)&&$u(n.start)&&$u(n.write);zi.isUnderlyingSink=qHe;var UHe=n=>(0,zi.isObject)(n)&&$u(n.stat)&&LX(n.fd);zi.isFileHandle=UHe;var $He=n=>(0,zi.isReadableNodeStream)(n)&&LX(n.bytesRead);zi.isFSReadStream=$He;var zHe=n=>(0,zi.isObject)(n)&&(0,zi.isReadableDOMStream)(n.body);zi.isFetchResponse=zHe;var jM=n=>"_getDOMStream"in n&&"_getNodeStream"in n,HHe=n=>(0,zi.isObject)(n)&&$u(n.abort)&&$u(n.getWriter)&&!jM(n);zi.isWritableDOMStream=HHe;var VHe=n=>(0,zi.isObject)(n)&&$u(n.cancel)&&$u(n.getReader)&&!jM(n);zi.isReadableDOMStream=VHe;var WHe=n=>(0,zi.isObject)(n)&&$u(n.end)&&$u(n.write)&&E2e(n.writable)&&!jM(n);zi.isWritableNodeStream=WHe;var QHe=n=>(0,zi.isObject)(n)&&$u(n.read)&&$u(n.pipe)&&E2e(n.readable)&&!jM(n);zi.isReadableNodeStream=QHe;var GHe=n=>(0,zi.isObject)(n)&&$u(n.clear)&&$u(n.bytes)&&$u(n.position)&&$u(n.setPosition)&&$u(n.capacity)&&$u(n.getBufferIdentifier)&&$u(n.createLong);zi.isFlatbuffersByteBuffer=GHe});var Qf=Ae(Di=>{"use strict";m();Object.defineProperty(Di,"__esModule",{value:!0});Di.compareArrayLike=Di.rebaseValueOffsets=Di.toUint8ClampedArrayAsyncIterator=Di.toFloat64ArrayAsyncIterator=Di.toFloat32ArrayAsyncIterator=Di.toUint32ArrayAsyncIterator=Di.toUint16ArrayAsyncIterator=Di.toUint8ArrayAsyncIterator=Di.toInt32ArrayAsyncIterator=Di.toInt16ArrayAsyncIterator=Di.toInt8ArrayAsyncIterator=Di.toArrayBufferViewAsyncIterator=Di.toUint8ClampedArrayIterator=Di.toFloat64ArrayIterator=Di.toFloat32ArrayIterator=Di.toUint32ArrayIterator=Di.toUint16ArrayIterator=Di.toUint8ArrayIterator=Di.toInt32ArrayIterator=Di.toInt16ArrayIterator=Di.toInt8ArrayIterator=Di.toArrayBufferViewIterator=Di.toUint8ClampedArray=Di.toFloat64Array=Di.toFloat32Array=Di.toBigUint64Array=Di.toUint32Array=Di.toUint16Array=Di.toUint8Array=Di.toBigInt64Array=Di.toInt32Array=Di.toInt16Array=Di.toInt8Array=Di.toArrayBufferView=Di.joinUint8Arrays=Di.memcpy=void 0;var gc=hs(),YHe=H_(),o5=C2(),kX=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:ArrayBuffer;function KHe(n){let e=n[0]?[n[0]]:[],t,r,i,s;for(let o,a,l=0,f=0,p=n.length;++l<p;){if(o=e[f],a=n[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(e[++f]=a);continue}if({byteOffset:t,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,t+i<r||r+s<t){a&&(e[++f]=a);continue}e[f]=new Uint8Array(o.buffer,t,r-t+s)}return e}function IX(n,e,t=0,r=e.byteLength){let i=n.byteLength,s=new Uint8Array(n.buffer,n.byteOffset,i),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(r,i));return s.set(o,t),n}Di.memcpy=IX;function JHe(n,e){let t=KHe(n),r=t.reduce((p,_)=>p+_.byteLength,0),i,s,o,a=0,l=-1,f=Math.min(e||Number.POSITIVE_INFINITY,r);for(let p=t.length;++l<p;){if(i=t[l],s=i.subarray(0,Math.min(i.length,f-a)),f<=a+s.length){s.length<i.length?t[l]=i.subarray(s.length):s.length===i.length&&l++,o?IX(o,s,a):o=s;break}IX(o||(o=new Uint8Array(f)),s,a),a+=s.length}return[o||new Uint8Array(0),t.slice(l),r-(o?o.byteLength:0)]}Di.joinUint8Arrays=JHe;function xd(n,e){let t=(0,o5.isIteratorResult)(e)?e.value:e;return t instanceof n?n===Uint8Array?new n(t.buffer,t.byteOffset,t.byteLength):t:t?(typeof t=="string"&&(t=(0,YHe.encodeUtf8)(t)),t instanceof ArrayBuffer?new n(t):t instanceof kX?new n(t):(0,o5.isFlatbuffersByteBuffer)(t)?xd(n,t.bytes()):ArrayBuffer.isView(t)?t.byteLength<=0?new n(0):new n(t.buffer,t.byteOffset,t.byteLength/n.BYTES_PER_ELEMENT):n.from(t)):new n(0)}Di.toArrayBufferView=xd;var XHe=n=>xd(Int8Array,n);Di.toInt8Array=XHe;var ZHe=n=>xd(Int16Array,n);Di.toInt16Array=ZHe;var eVe=n=>xd(Int32Array,n);Di.toInt32Array=eVe;var tVe=n=>xd(o5.BigInt64Array,n);Di.toBigInt64Array=tVe;var nVe=n=>xd(Uint8Array,n);Di.toUint8Array=nVe;var rVe=n=>xd(Uint16Array,n);Di.toUint16Array=rVe;var iVe=n=>xd(Uint32Array,n);Di.toUint32Array=iVe;var sVe=n=>xd(o5.BigUint64Array,n);Di.toBigUint64Array=sVe;var oVe=n=>xd(Float32Array,n);Di.toFloat32Array=oVe;var aVe=n=>xd(Float64Array,n);Di.toFloat64Array=aVe;var uVe=n=>xd(Uint8ClampedArray,n);Di.toUint8ClampedArray=uVe;var MX=n=>(n.next(),n);function*w2(n,e){let t=function*(i){yield i},r=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof kX?t(e):(0,o5.isIterable)(e)?e:t(e);return yield*MX(function*(i){let s=null;do s=i.next(yield xd(n,s));while(!s.done)}(r[Symbol.iterator]())),new n}Di.toArrayBufferViewIterator=w2;var lVe=n=>w2(Int8Array,n);Di.toInt8ArrayIterator=lVe;var cVe=n=>w2(Int16Array,n);Di.toInt16ArrayIterator=cVe;var fVe=n=>w2(Int32Array,n);Di.toInt32ArrayIterator=fVe;var dVe=n=>w2(Uint8Array,n);Di.toUint8ArrayIterator=dVe;var hVe=n=>w2(Uint16Array,n);Di.toUint16ArrayIterator=hVe;var pVe=n=>w2(Uint32Array,n);Di.toUint32ArrayIterator=pVe;var mVe=n=>w2(Float32Array,n);Di.toFloat32ArrayIterator=mVe;var xVe=n=>w2(Float64Array,n);Di.toFloat64ArrayIterator=xVe;var gVe=n=>w2(Uint8ClampedArray,n);Di.toUint8ClampedArrayIterator=gVe;function mm(n,e){return gc.__asyncGenerator(this,arguments,function*(){if((0,o5.isPromise)(e))return yield gc.__await(yield gc.__await(yield*gc.__asyncDelegator(gc.__asyncValues(mm(n,yield gc.__await(e))))));let r=function(o){return gc.__asyncGenerator(this,arguments,function*(){yield yield gc.__await(yield gc.__await(o))})},i=function(o){return gc.__asyncGenerator(this,arguments,function*(){yield gc.__await(yield*gc.__asyncDelegator(gc.__asyncValues(MX(function*(a){let l=null;do l=a.next(yield l==null?void 0:l.value);while(!l.done)}(o[Symbol.iterator]())))))})},s=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof kX?r(e):(0,o5.isIterable)(e)?i(e):(0,o5.isAsyncIterable)(e)?e:r(e);return yield gc.__await(yield*gc.__asyncDelegator(gc.__asyncValues(MX(function(o){return gc.__asyncGenerator(this,arguments,function*(){let a=null;do a=yield gc.__await(o.next(yield yield gc.__await(xd(n,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield gc.__await(new n)})}Di.toArrayBufferViewAsyncIterator=mm;var yVe=n=>mm(Int8Array,n);Di.toInt8ArrayAsyncIterator=yVe;var vVe=n=>mm(Int16Array,n);Di.toInt16ArrayAsyncIterator=vVe;var _Ve=n=>mm(Int32Array,n);Di.toInt32ArrayAsyncIterator=_Ve;var EVe=n=>mm(Uint8Array,n);Di.toUint8ArrayAsyncIterator=EVe;var bVe=n=>mm(Uint16Array,n);Di.toUint16ArrayAsyncIterator=bVe;var SVe=n=>mm(Uint32Array,n);Di.toUint32ArrayAsyncIterator=SVe;var CVe=n=>mm(Float32Array,n);Di.toFloat32ArrayAsyncIterator=CVe;var wVe=n=>mm(Float64Array,n);Di.toFloat64ArrayAsyncIterator=wVe;var AVe=n=>mm(Uint8ClampedArray,n);Di.toUint8ClampedArrayAsyncIterator=AVe;function TVe(n,e,t){if(n!==0){t=t.slice(0,e+1);for(let r=-1;++r<=e;)t[r]+=n}return t}Di.rebaseValueOffsets=TVe;function FVe(n,e){let t=0,r=n.length;if(r!==e.length)return!1;if(r>0)do if(n[t]!==e[t])return!1;while(++t<r);return!0}Di.compareArrayLike=FVe});var tF=Ae(BX=>{"use strict";m();Object.defineProperty(BX,"__esModule",{value:!0});var iu=hs(),gd=Qf();BX.default={fromIterable(n){return qM(DVe(n))},fromAsyncIterable(n){return qM(RVe(n))},fromDOMStream(n){return qM(OVe(n))},fromNodeStream(n){return qM(NVe(n))},toDOMStream(n,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(n,e){throw new Error('"toNodeStream" not available in this environment')}};var qM=n=>(n.next(),n);function*DVe(n){let e,t=!1,r=[],i,s,o,a=0;function l(){return s==="peek"?(0,gd.joinUint8Arrays)(r,o)[0]:([i,r,a]=(0,gd.joinUint8Arrays)(r,o),i)}({cmd:s,size:o}=yield null);let f=(0,gd.toUint8ArrayIterator)(n)[Symbol.iterator]();try{do if({done:e,value:i}=Number.isNaN(o-a)?f.next():f.next(o-a),!e&&i.byteLength>0&&(r.push(i),a+=i.byteLength),e||o<=a)do({cmd:s,size:o}=yield l());while(o<a);while(!e)}catch(p){(t=!0)&&typeof f.throw=="function"&&f.throw(p)}finally{t===!1&&typeof f.return=="function"&&f.return(null)}return null}function RVe(n){return iu.__asyncGenerator(this,arguments,function*(){let t,r=!1,i=[],s,o,a,l=0;function f(){return o==="peek"?(0,gd.joinUint8Arrays)(i,a)[0]:([s,i,l]=(0,gd.joinUint8Arrays)(i,a),s)}({cmd:o,size:a}=yield yield iu.__await(null));let p=(0,gd.toUint8ArrayAsyncIterator)(n)[Symbol.asyncIterator]();try{do if({done:t,value:s}=Number.isNaN(a-l)?yield iu.__await(p.next()):yield iu.__await(p.next(a-l)),!t&&s.byteLength>0&&(i.push(s),l+=s.byteLength),t||a<=l)do({cmd:o,size:a}=yield yield iu.__await(f()));while(a<l);while(!t)}catch(_){(r=!0)&&typeof p.throw=="function"&&(yield iu.__await(p.throw(_)))}finally{r===!1&&typeof p.return=="function"&&(yield iu.__await(p.return(new Uint8Array(0))))}return yield iu.__await(null)})}function OVe(n){return iu.__asyncGenerator(this,arguments,function*(){let t=!1,r=!1,i=[],s,o,a,l=0;function f(){return o==="peek"?(0,gd.joinUint8Arrays)(i,a)[0]:([s,i,l]=(0,gd.joinUint8Arrays)(i,a),s)}({cmd:o,size:a}=yield yield iu.__await(null));let p=new b2e(n);try{do if({done:t,value:s}=Number.isNaN(a-l)?yield iu.__await(p.read()):yield iu.__await(p.read(a-l)),!t&&s.byteLength>0&&(i.push((0,gd.toUint8Array)(s)),l+=s.byteLength),t||a<=l)do({cmd:o,size:a}=yield yield iu.__await(f()));while(a<l);while(!t)}catch(_){(r=!0)&&(yield iu.__await(p.cancel(_)))}finally{r===!1?yield iu.__await(p.cancel()):n.locked&&p.releaseLock()}return yield iu.__await(null)})}var b2e=class{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return iu.__awaiter(this,void 0,void 0,function*(){let{reader:t,source:r}=this;t&&(yield t.cancel(e).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(e){return iu.__awaiter(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};let t=yield this.reader.read();return!t.done&&(t.value=(0,gd.toUint8Array)(t)),t})}},PX=(n,e)=>{let t=i=>r([e,i]),r;return[e,t,new Promise(i=>(r=i)&&n.once(e,t))]};function NVe(n){return iu.__asyncGenerator(this,arguments,function*(){let t=[],r="error",i=!1,s=null,o,a,l=0,f=[],p;function _(){return o==="peek"?(0,gd.joinUint8Arrays)(f,a)[0]:([p,f,l]=(0,gd.joinUint8Arrays)(f,a),p)}if({cmd:o,size:a}=yield yield iu.__await(null),n.isTTY)return yield yield iu.__await(new Uint8Array(0)),yield iu.__await(null);try{t[0]=PX(n,"end"),t[1]=PX(n,"error");do{if(t[2]=PX(n,"readable"),[r,s]=yield iu.__await(Promise.race(t.map(R=>R[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-l)?(p=(0,gd.toUint8Array)(n.read(a-l)),p.byteLength<a-l&&(p=(0,gd.toUint8Array)(n.read()))):p=(0,gd.toUint8Array)(n.read()),p.byteLength>0&&(f.push(p),l+=p.byteLength)),i||a<=l)do({cmd:o,size:a}=yield yield iu.__await(_()));while(a<l)}while(!i)}finally{yield iu.__await(b(t,r==="error"?s:null))}return yield iu.__await(null);function b(R,O){return p=f=null,new Promise((j,$)=>{for(let[L,q]of R)n.off(L,q);try{let L=n.destroy;L&&L.call(n,O),O=void 0}catch(L){O=L||O}finally{O!=null?$(O):j()}})}})}});var kl=Ae(Ra=>{"use strict";m();Object.defineProperty(Ra,"__esModule",{value:!0});Ra.BufferType=Ra.Type=Ra.MessageHeader=Ra.IntervalUnit=Ra.TimeUnit=Ra.DateUnit=Ra.Precision=Ra.UnionMode=Ra.MetadataVersion=void 0;var LVe;(function(n){n[n.V1=0]="V1",n[n.V2=1]="V2",n[n.V3=2]="V3",n[n.V4=3]="V4",n[n.V5=4]="V5"})(LVe=Ra.MetadataVersion||(Ra.MetadataVersion={}));var kVe;(function(n){n[n.Sparse=0]="Sparse",n[n.Dense=1]="Dense"})(kVe=Ra.UnionMode||(Ra.UnionMode={}));var IVe;(function(n){n[n.HALF=0]="HALF",n[n.SINGLE=1]="SINGLE",n[n.DOUBLE=2]="DOUBLE"})(IVe=Ra.Precision||(Ra.Precision={}));var MVe;(function(n){n[n.DAY=0]="DAY",n[n.MILLISECOND=1]="MILLISECOND"})(MVe=Ra.DateUnit||(Ra.DateUnit={}));var PVe;(function(n){n[n.SECOND=0]="SECOND",n[n.MILLISECOND=1]="MILLISECOND",n[n.MICROSECOND=2]="MICROSECOND",n[n.NANOSECOND=3]="NANOSECOND"})(PVe=Ra.TimeUnit||(Ra.TimeUnit={}));var BVe;(function(n){n[n.YEAR_MONTH=0]="YEAR_MONTH",n[n.DAY_TIME=1]="DAY_TIME",n[n.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(BVe=Ra.IntervalUnit||(Ra.IntervalUnit={}));var jVe;(function(n){n[n.NONE=0]="NONE",n[n.Schema=1]="Schema",n[n.DictionaryBatch=2]="DictionaryBatch",n[n.RecordBatch=3]="RecordBatch",n[n.Tensor=4]="Tensor",n[n.SparseTensor=5]="SparseTensor"})(jVe=Ra.MessageHeader||(Ra.MessageHeader={}));var qVe;(function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.Float=3]="Float",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct=13]="Struct",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Dictionary=-1]="Dictionary",n[n.Int8=-2]="Int8",n[n.Int16=-3]="Int16",n[n.Int32=-4]="Int32",n[n.Int64=-5]="Int64",n[n.Uint8=-6]="Uint8",n[n.Uint16=-7]="Uint16",n[n.Uint32=-8]="Uint32",n[n.Uint64=-9]="Uint64",n[n.Float16=-10]="Float16",n[n.Float32=-11]="Float32",n[n.Float64=-12]="Float64",n[n.DateDay=-13]="DateDay",n[n.DateMillisecond=-14]="DateMillisecond",n[n.TimestampSecond=-15]="TimestampSecond",n[n.TimestampMillisecond=-16]="TimestampMillisecond",n[n.TimestampMicrosecond=-17]="TimestampMicrosecond",n[n.TimestampNanosecond=-18]="TimestampNanosecond",n[n.TimeSecond=-19]="TimeSecond",n[n.TimeMillisecond=-20]="TimeMillisecond",n[n.TimeMicrosecond=-21]="TimeMicrosecond",n[n.TimeNanosecond=-22]="TimeNanosecond",n[n.DenseUnion=-23]="DenseUnion",n[n.SparseUnion=-24]="SparseUnion",n[n.IntervalDayTime=-25]="IntervalDayTime",n[n.IntervalYearMonth=-26]="IntervalYearMonth"})(qVe=Ra.Type||(Ra.Type={}));var UVe;(function(n){n[n.OFFSET=0]="OFFSET",n[n.DATA=1]="DATA",n[n.VALIDITY=2]="VALIDITY",n[n.TYPE=3]="TYPE"})(UVe=Ra.BufferType||(Ra.BufferType={}))});var $M=Ae(UM=>{"use strict";m();Object.defineProperty(UM,"__esModule",{value:!0});UM.valueToString=void 0;var $Ve=void 0;function S2e(n){if(n===null)return"null";if(n===$Ve)return"undefined";switch(typeof n){case"number":return`${n}`;case"bigint":return`${n}`;case"string":return`"${n}"`}return typeof n[Symbol.toPrimitive]=="function"?n[Symbol.toPrimitive]("string"):ArrayBuffer.isView(n)?n instanceof BigInt64Array||n instanceof BigUint64Array?`[${[...n].map(e=>S2e(e))}]`:`[${n}]`:ArrayBuffer.isView(n)?`[${n}]`:JSON.stringify(n,(e,t)=>typeof t=="bigint"?`${t}`:t)}UM.valueToString=S2e});var HM=Ae(Vc=>{"use strict";m();Object.defineProperty(Vc,"__esModule",{value:!0});Vc.BN=Vc.bignumToBigInt=Vc.bignumToString=Vc.isArrowBigNumSymbol=void 0;var zVe=Qf(),Z8=C2();Vc.isArrowBigNumSymbol=Symbol.for("isArrowBigNum");function xm(n,...e){return e.length===0?Object.setPrototypeOf((0,zVe.toArrayBufferView)(this.TypedArray,n),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(n,...e),this.constructor.prototype)}xm.prototype[Vc.isArrowBigNumSymbol]=!0;xm.prototype.toJSON=function(){return`"${(0,Vc.bignumToString)(this)}"`};xm.prototype.valueOf=function(){return C2e(this)};xm.prototype.toString=function(){return(0,Vc.bignumToString)(this)};xm.prototype[Symbol.toPrimitive]=function(n="default"){switch(n){case"number":return C2e(this);case"string":return(0,Vc.bignumToString)(this);case"default":return(0,Vc.bignumToBigInt)(this)}return(0,Vc.bignumToString)(this)};function e7(...n){return xm.apply(this,n)}function t7(...n){return xm.apply(this,n)}function nF(...n){return xm.apply(this,n)}Object.setPrototypeOf(e7.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(t7.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(nF.prototype,Object.create(Uint32Array.prototype));Object.assign(e7.prototype,xm.prototype,{constructor:e7,signed:!0,TypedArray:Int32Array,BigIntArray:Z8.BigInt64Array});Object.assign(t7.prototype,xm.prototype,{constructor:t7,signed:!1,TypedArray:Uint32Array,BigIntArray:Z8.BigUint64Array});Object.assign(nF.prototype,xm.prototype,{constructor:nF,signed:!0,TypedArray:Uint32Array,BigIntArray:Z8.BigUint64Array});function C2e(n){let{buffer:e,byteOffset:t,length:r,signed:i}=n,s=new Z8.BigUint64Array(e,t,r),o=i&&s[s.length-1]&BigInt(1)<<BigInt(63),a=BigInt(o?1:0),l=BigInt(0);if(o){for(let f of s)a+=~f*(BigInt(1)<<BigInt(32)*l++);a*=BigInt(-1)}else for(let f of s)a+=f*(BigInt(1)<<BigInt(32)*l++);return a}Z8.BigIntAvailable?(Vc.bignumToBigInt=n=>n.byteLength===8?new n.BigIntArray(n.buffer,n.byteOffset,1)[0]:jX(n),Vc.bignumToString=n=>n.byteLength===8?`${new n.BigIntArray(n.buffer,n.byteOffset,1)[0]}`:jX(n)):(Vc.bignumToString=jX,Vc.bignumToBigInt=Vc.bignumToString);function jX(n){let e="",t=new Uint32Array(2),r=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2),i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer),s=-1,o=r.length-1;do{for(t[0]=r[s=0];s<o;)r[s++]=t[1]=t[0]/10,t[0]=(t[0]-t[1]*10<<16)+r[s];r[s]=t[1]=t[0]/10,t[0]=t[0]-t[1]*10,e=`${t[0]}${e}`}while(i[0]||i[1]||i[2]||i[3]);return e||"0"}var zM=class{static new(e,t){switch(t){case!0:return new e7(e);case!1:return new t7(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case Z8.BigInt64Array:return new e7(e)}return e.byteLength===16?new nF(e):new t7(e)}static signed(e){return new e7(e)}static unsigned(e){return new t7(e)}static decimal(e){return new nF(e)}constructor(e,t){return zM.new(e,t)}};Vc.BN=zM});var su=Ae(ei=>{"use strict";m();var w2e,A2e,T2e,F2e,D2e,R2e,O2e,N2e,L2e,k2e,I2e,M2e,P2e,B2e,j2e,q2e,U2e,$2e,z2e;Object.defineProperty(ei,"__esModule",{value:!0});ei.strideForType=ei.Dictionary=ei.Map_=ei.FixedSizeList=ei.FixedSizeBinary=ei.SparseUnion=ei.DenseUnion=ei.Union=ei.Struct=ei.List=ei.IntervalYearMonth=ei.IntervalDayTime=ei.Interval=ei.TimestampNanosecond=ei.TimestampMicrosecond=ei.TimestampMillisecond=ei.TimestampSecond=ei.Timestamp=ei.TimeNanosecond=ei.TimeMicrosecond=ei.TimeMillisecond=ei.TimeSecond=ei.Time=ei.DateMillisecond=ei.DateDay=ei.Date_=ei.Decimal=ei.Bool=ei.Utf8=ei.Binary=ei.Float64=ei.Float32=ei.Float16=ei.Float=ei.Uint64=ei.Uint32=ei.Uint16=ei.Uint8=ei.Int64=ei.Int32=ei.Int16=ei.Int8=ei.Int=ei.Null=ei.DataType=void 0;var Pi=kl(),Eu=class{static isNull(e){return(e==null?void 0:e.typeId)===Pi.Type.Null}static isInt(e){return(e==null?void 0:e.typeId)===Pi.Type.Int}static isFloat(e){return(e==null?void 0:e.typeId)===Pi.Type.Float}static isBinary(e){return(e==null?void 0:e.typeId)===Pi.Type.Binary}static isUtf8(e){return(e==null?void 0:e.typeId)===Pi.Type.Utf8}static isBool(e){return(e==null?void 0:e.typeId)===Pi.Type.Bool}static isDecimal(e){return(e==null?void 0:e.typeId)===Pi.Type.Decimal}static isDate(e){return(e==null?void 0:e.typeId)===Pi.Type.Date}static isTime(e){return(e==null?void 0:e.typeId)===Pi.Type.Time}static isTimestamp(e){return(e==null?void 0:e.typeId)===Pi.Type.Timestamp}static isInterval(e){return(e==null?void 0:e.typeId)===Pi.Type.Interval}static isList(e){return(e==null?void 0:e.typeId)===Pi.Type.List}static isStruct(e){return(e==null?void 0:e.typeId)===Pi.Type.Struct}static isUnion(e){return(e==null?void 0:e.typeId)===Pi.Type.Union}static isFixedSizeBinary(e){return(e==null?void 0:e.typeId)===Pi.Type.FixedSizeBinary}static isFixedSizeList(e){return(e==null?void 0:e.typeId)===Pi.Type.FixedSizeList}static isMap(e){return(e==null?void 0:e.typeId)===Pi.Type.Map}static isDictionary(e){return(e==null?void 0:e.typeId)===Pi.Type.Dictionary}static isDenseUnion(e){return Eu.isUnion(e)&&e.mode===Pi.UnionMode.Dense}static isSparseUnion(e){return Eu.isUnion(e)&&e.mode===Pi.UnionMode.Sparse}get typeId(){return Pi.Type.NONE}};ei.DataType=Eu;w2e=Symbol.toStringTag;Eu[w2e]=(n=>(n.children=null,n.ArrayType=Array,n[Symbol.toStringTag]="DataType"))(Eu.prototype);var VM=class extends Eu{toString(){return"Null"}get typeId(){return Pi.Type.Null}};ei.Null=VM;A2e=Symbol.toStringTag;VM[A2e]=(n=>n[Symbol.toStringTag]="Null")(VM.prototype);var $p=class extends Eu{constructor(e,t){super();this.isSigned=e,this.bitWidth=t}get typeId(){return Pi.Type.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}};ei.Int=$p;T2e=Symbol.toStringTag;$p[T2e]=(n=>(n.isSigned=null,n.bitWidth=null,n[Symbol.toStringTag]="Int"))($p.prototype);var qX=class extends $p{constructor(){super(!0,8)}get ArrayType(){return Int8Array}};ei.Int8=qX;var UX=class extends $p{constructor(){super(!0,16)}get ArrayType(){return Int16Array}};ei.Int16=UX;var $X=class extends $p{constructor(){super(!0,32)}get ArrayType(){return Int32Array}};ei.Int32=$X;var zX=class extends $p{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}};ei.Int64=zX;var HX=class extends $p{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}};ei.Uint8=HX;var VX=class extends $p{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}};ei.Uint16=VX;var WX=class extends $p{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}};ei.Uint32=WX;var QX=class extends $p{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}};ei.Uint64=QX;Object.defineProperty(qX.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(UX.prototype,"ArrayType",{value:Int16Array});Object.defineProperty($X.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(zX.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(HX.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(VX.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(WX.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(QX.prototype,"ArrayType",{value:BigUint64Array});var V_=class extends Eu{constructor(e){super();this.precision=e}get typeId(){return Pi.Type.Float}get ArrayType(){switch(this.precision){case Pi.Precision.HALF:return Uint16Array;case Pi.Precision.SINGLE:return Float32Array;case Pi.Precision.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}};ei.Float=V_;F2e=Symbol.toStringTag;V_[F2e]=(n=>(n.precision=null,n[Symbol.toStringTag]="Float"))(V_.prototype);var GX=class extends V_{constructor(){super(Pi.Precision.HALF)}};ei.Float16=GX;var YX=class extends V_{constructor(){super(Pi.Precision.SINGLE)}};ei.Float32=YX;var KX=class extends V_{constructor(){super(Pi.Precision.DOUBLE)}};ei.Float64=KX;Object.defineProperty(GX.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(YX.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(KX.prototype,"ArrayType",{value:Float64Array});var WM=class extends Eu{constructor(){super()}get typeId(){return Pi.Type.Binary}toString(){return"Binary"}};ei.Binary=WM;D2e=Symbol.toStringTag;WM[D2e]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Binary"))(WM.prototype);var QM=class extends Eu{constructor(){super()}get typeId(){return Pi.Type.Utf8}toString(){return"Utf8"}};ei.Utf8=QM;R2e=Symbol.toStringTag;QM[R2e]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Utf8"))(QM.prototype);var GM=class extends Eu{constructor(){super()}get typeId(){return Pi.Type.Bool}toString(){return"Bool"}};ei.Bool=GM;O2e=Symbol.toStringTag;GM[O2e]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Bool"))(GM.prototype);var YM=class extends Eu{constructor(e,t,r=128){super();this.scale=e,this.precision=t,this.bitWidth=r}get typeId(){return Pi.Type.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};ei.Decimal=YM;N2e=Symbol.toStringTag;YM[N2e]=(n=>(n.scale=null,n.precision=null,n.ArrayType=Uint32Array,n[Symbol.toStringTag]="Decimal"))(YM.prototype);var n7=class extends Eu{constructor(e){super();this.unit=e}get typeId(){return Pi.Type.Date}toString(){return`Date${(this.unit+1)*32}<${Pi.DateUnit[this.unit]}>`}};ei.Date_=n7;L2e=Symbol.toStringTag;n7[L2e]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Date"))(n7.prototype);var H2e=class extends n7{constructor(){super(Pi.DateUnit.DAY)}};ei.DateDay=H2e;var V2e=class extends n7{constructor(){super(Pi.DateUnit.MILLISECOND)}};ei.DateMillisecond=V2e;var a5=class extends Eu{constructor(e,t){super();this.unit=e,this.bitWidth=t}get typeId(){return Pi.Type.Time}toString(){return`Time${this.bitWidth}<${Pi.TimeUnit[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}};ei.Time=a5;k2e=Symbol.toStringTag;a5[k2e]=(n=>(n.unit=null,n.bitWidth=null,n[Symbol.toStringTag]="Time"))(a5.prototype);var W2e=class extends a5{constructor(){super(Pi.TimeUnit.SECOND,32)}};ei.TimeSecond=W2e;var Q2e=class extends a5{constructor(){super(Pi.TimeUnit.MILLISECOND,32)}};ei.TimeMillisecond=Q2e;var G2e=class extends a5{constructor(){super(Pi.TimeUnit.MICROSECOND,64)}};ei.TimeMicrosecond=G2e;var Y2e=class extends a5{constructor(){super(Pi.TimeUnit.NANOSECOND,64)}};ei.TimeNanosecond=Y2e;var u5=class extends Eu{constructor(e,t){super();this.unit=e,this.timezone=t}get typeId(){return Pi.Type.Timestamp}toString(){return`Timestamp<${Pi.TimeUnit[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}};ei.Timestamp=u5;I2e=Symbol.toStringTag;u5[I2e]=(n=>(n.unit=null,n.timezone=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Timestamp"))(u5.prototype);var K2e=class extends u5{constructor(e){super(Pi.TimeUnit.SECOND,e)}};ei.TimestampSecond=K2e;var J2e=class extends u5{constructor(e){super(Pi.TimeUnit.MILLISECOND,e)}};ei.TimestampMillisecond=J2e;var X2e=class extends u5{constructor(e){super(Pi.TimeUnit.MICROSECOND,e)}};ei.TimestampMicrosecond=X2e;var Z2e=class extends u5{constructor(e){super(Pi.TimeUnit.NANOSECOND,e)}};ei.TimestampNanosecond=Z2e;var r7=class extends Eu{constructor(e){super();this.unit=e}get typeId(){return Pi.Type.Interval}toString(){return`Interval<${Pi.IntervalUnit[this.unit]}>`}};ei.Interval=r7;M2e=Symbol.toStringTag;r7[M2e]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Interval"))(r7.prototype);var exe=class extends r7{constructor(){super(Pi.IntervalUnit.DAY_TIME)}};ei.IntervalDayTime=exe;var txe=class extends r7{constructor(){super(Pi.IntervalUnit.YEAR_MONTH)}};ei.IntervalYearMonth=txe;var KM=class extends Eu{constructor(e){super();this.children=[e]}get typeId(){return Pi.Type.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};ei.List=KM;P2e=Symbol.toStringTag;KM[P2e]=(n=>(n.children=null,n[Symbol.toStringTag]="List"))(KM.prototype);var JM=class extends Eu{constructor(e){super();this.children=e}get typeId(){return Pi.Type.Struct}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}};ei.Struct=JM;B2e=Symbol.toStringTag;JM[B2e]=(n=>(n.children=null,n[Symbol.toStringTag]="Struct"))(JM.prototype);var i7=class extends Eu{constructor(e,t,r){super();this.mode=e,this.children=r,this.typeIds=t=Int32Array.from(t),this.typeIdToChildIndex=t.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return Pi.Type.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}};ei.Union=i7;j2e=Symbol.toStringTag;i7[j2e]=(n=>(n.mode=null,n.typeIds=null,n.children=null,n.typeIdToChildIndex=null,n.ArrayType=Int8Array,n[Symbol.toStringTag]="Union"))(i7.prototype);var nxe=class extends i7{constructor(e,t){super(Pi.UnionMode.Dense,e,t)}};ei.DenseUnion=nxe;var rxe=class extends i7{constructor(e,t){super(Pi.UnionMode.Sparse,e,t)}};ei.SparseUnion=rxe;var XM=class extends Eu{constructor(e){super();this.byteWidth=e}get typeId(){return Pi.Type.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};ei.FixedSizeBinary=XM;q2e=Symbol.toStringTag;XM[q2e]=(n=>(n.byteWidth=null,n.ArrayType=Uint8Array,n[Symbol.toStringTag]="FixedSizeBinary"))(XM.prototype);var ZM=class extends Eu{constructor(e,t){super();this.listSize=e,this.children=[t]}get typeId(){return Pi.Type.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};ei.FixedSizeList=ZM;U2e=Symbol.toStringTag;ZM[U2e]=(n=>(n.children=null,n.listSize=null,n[Symbol.toStringTag]="FixedSizeList"))(ZM.prototype);var eP=class extends Eu{constructor(e,t=!1){super();this.children=[e],this.keysSorted=t}get typeId(){return Pi.Type.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}};ei.Map_=eP;$2e=Symbol.toStringTag;eP[$2e]=(n=>(n.children=null,n.keysSorted=null,n[Symbol.toStringTag]="Map_"))(eP.prototype);var HVe=(n=>()=>++n)(-1),tP=class extends Eu{constructor(e,t,r,i){super();this.indices=t,this.dictionary=e,this.isOrdered=i||!1,this.id=r==null?HVe():typeof r=="number"?r:r.low}get typeId(){return Pi.Type.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}};ei.Dictionary=tP;z2e=Symbol.toStringTag;tP[z2e]=(n=>(n.id=null,n.indices=null,n.isOrdered=null,n.dictionary=null,n[Symbol.toStringTag]="Dictionary"))(tP.prototype);function VVe(n){let e=n;switch(n.typeId){case Pi.Type.Decimal:return n.bitWidth/32;case Pi.Type.Timestamp:return 2;case Pi.Type.Date:return 1+e.unit;case Pi.Type.Interval:return 1+e.unit;case Pi.Type.FixedSizeList:return e.listSize;case Pi.Type.FixedSizeBinary:return e.byteWidth;default:return 1}}ei.strideForType=VVe});var yd=Ae(nP=>{"use strict";m();Object.defineProperty(nP,"__esModule",{value:!0});nP.Visitor=void 0;var _r=kl(),ixe=su(),Wa=class{visitMany(e,...t){return e.map((r,i)=>this.visit(r,...t.map(s=>s[i])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,t=!0){return WVe(this,e,t)}getVisitFnByTypeId(e,t=!0){return s7(this,e,t)}visitNull(e,...t){return null}visitBool(e,...t){return null}visitInt(e,...t){return null}visitFloat(e,...t){return null}visitUtf8(e,...t){return null}visitBinary(e,...t){return null}visitFixedSizeBinary(e,...t){return null}visitDate(e,...t){return null}visitTimestamp(e,...t){return null}visitTime(e,...t){return null}visitDecimal(e,...t){return null}visitList(e,...t){return null}visitStruct(e,...t){return null}visitUnion(e,...t){return null}visitDictionary(e,...t){return null}visitInterval(e,...t){return null}visitFixedSizeList(e,...t){return null}visitMap(e,...t){return null}};nP.Visitor=Wa;function WVe(n,e,t=!0){return typeof e=="number"?s7(n,e,t):typeof e=="string"&&e in _r.Type?s7(n,_r.Type[e],t):e&&e instanceof ixe.DataType?s7(n,sxe(e),t):(e==null?void 0:e.type)&&e.type instanceof ixe.DataType?s7(n,sxe(e.type),t):s7(n,_r.Type.NONE,t)}function s7(n,e,t=!0){let r=null;switch(e){case _r.Type.Null:r=n.visitNull;break;case _r.Type.Bool:r=n.visitBool;break;case _r.Type.Int:r=n.visitInt;break;case _r.Type.Int8:r=n.visitInt8||n.visitInt;break;case _r.Type.Int16:r=n.visitInt16||n.visitInt;break;case _r.Type.Int32:r=n.visitInt32||n.visitInt;break;case _r.Type.Int64:r=n.visitInt64||n.visitInt;break;case _r.Type.Uint8:r=n.visitUint8||n.visitInt;break;case _r.Type.Uint16:r=n.visitUint16||n.visitInt;break;case _r.Type.Uint32:r=n.visitUint32||n.visitInt;break;case _r.Type.Uint64:r=n.visitUint64||n.visitInt;break;case _r.Type.Float:r=n.visitFloat;break;case _r.Type.Float16:r=n.visitFloat16||n.visitFloat;break;case _r.Type.Float32:r=n.visitFloat32||n.visitFloat;break;case _r.Type.Float64:r=n.visitFloat64||n.visitFloat;break;case _r.Type.Utf8:r=n.visitUtf8;break;case _r.Type.Binary:r=n.visitBinary;break;case _r.Type.FixedSizeBinary:r=n.visitFixedSizeBinary;break;case _r.Type.Date:r=n.visitDate;break;case _r.Type.DateDay:r=n.visitDateDay||n.visitDate;break;case _r.Type.DateMillisecond:r=n.visitDateMillisecond||n.visitDate;break;case _r.Type.Timestamp:r=n.visitTimestamp;break;case _r.Type.TimestampSecond:r=n.visitTimestampSecond||n.visitTimestamp;break;case _r.Type.TimestampMillisecond:r=n.visitTimestampMillisecond||n.visitTimestamp;break;case _r.Type.TimestampMicrosecond:r=n.visitTimestampMicrosecond||n.visitTimestamp;break;case _r.Type.TimestampNanosecond:r=n.visitTimestampNanosecond||n.visitTimestamp;break;case _r.Type.Time:r=n.visitTime;break;case _r.Type.TimeSecond:r=n.visitTimeSecond||n.visitTime;break;case _r.Type.TimeMillisecond:r=n.visitTimeMillisecond||n.visitTime;break;case _r.Type.TimeMicrosecond:r=n.visitTimeMicrosecond||n.visitTime;break;case _r.Type.TimeNanosecond:r=n.visitTimeNanosecond||n.visitTime;break;case _r.Type.Decimal:r=n.visitDecimal;break;case _r.Type.List:r=n.visitList;break;case _r.Type.Struct:r=n.visitStruct;break;case _r.Type.Union:r=n.visitUnion;break;case _r.Type.DenseUnion:r=n.visitDenseUnion||n.visitUnion;break;case _r.Type.SparseUnion:r=n.visitSparseUnion||n.visitUnion;break;case _r.Type.Dictionary:r=n.visitDictionary;break;case _r.Type.Interval:r=n.visitInterval;break;case _r.Type.IntervalDayTime:r=n.visitIntervalDayTime||n.visitInterval;break;case _r.Type.IntervalYearMonth:r=n.visitIntervalYearMonth||n.visitInterval;break;case _r.Type.FixedSizeList:r=n.visitFixedSizeList;break;case _r.Type.Map:r=n.visitMap;break}if(typeof r=="function")return r;if(!t)return()=>null;throw new Error(`Unrecognized type '${_r.Type[e]}'`)}function sxe(n){switch(n.typeId){case _r.Type.Null:return _r.Type.Null;case _r.Type.Int:{let{bitWidth:e,isSigned:t}=n;switch(e){case 8:return t?_r.Type.Int8:_r.Type.Uint8;case 16:return t?_r.Type.Int16:_r.Type.Uint16;case 32:return t?_r.Type.Int32:_r.Type.Uint32;case 64:return t?_r.Type.Int64:_r.Type.Uint64}return _r.Type.Int}case _r.Type.Float:switch(n.precision){case _r.Precision.HALF:return _r.Type.Float16;case _r.Precision.SINGLE:return _r.Type.Float32;case _r.Precision.DOUBLE:return _r.Type.Float64}return _r.Type.Float;case _r.Type.Binary:return _r.Type.Binary;case _r.Type.Utf8:return _r.Type.Utf8;case _r.Type.Bool:return _r.Type.Bool;case _r.Type.Decimal:return _r.Type.Decimal;case _r.Type.Time:switch(n.unit){case _r.TimeUnit.SECOND:return _r.Type.TimeSecond;case _r.TimeUnit.MILLISECOND:return _r.Type.TimeMillisecond;case _r.TimeUnit.MICROSECOND:return _r.Type.TimeMicrosecond;case _r.TimeUnit.NANOSECOND:return _r.Type.TimeNanosecond}return _r.Type.Time;case _r.Type.Timestamp:switch(n.unit){case _r.TimeUnit.SECOND:return _r.Type.TimestampSecond;case _r.TimeUnit.MILLISECOND:return _r.Type.TimestampMillisecond;case _r.TimeUnit.MICROSECOND:return _r.Type.TimestampMicrosecond;case _r.TimeUnit.NANOSECOND:return _r.Type.TimestampNanosecond}return _r.Type.Timestamp;case _r.Type.Date:switch(n.unit){case _r.DateUnit.DAY:return _r.Type.DateDay;case _r.DateUnit.MILLISECOND:return _r.Type.DateMillisecond}return _r.Type.Date;case _r.Type.Interval:switch(n.unit){case _r.IntervalUnit.DAY_TIME:return _r.Type.IntervalDayTime;case _r.IntervalUnit.YEAR_MONTH:return _r.Type.IntervalYearMonth}return _r.Type.Interval;case _r.Type.Map:return _r.Type.Map;case _r.Type.List:return _r.Type.List;case _r.Type.Struct:return _r.Type.Struct;case _r.Type.Union:switch(n.mode){case _r.UnionMode.Dense:return _r.Type.DenseUnion;case _r.UnionMode.Sparse:return _r.Type.SparseUnion}return _r.Type.Union;case _r.Type.FixedSizeBinary:return _r.Type.FixedSizeBinary;case _r.Type.FixedSizeList:return _r.Type.FixedSizeList;case _r.Type.Dictionary:return _r.Type.Dictionary}throw new Error(`Unrecognized type '${_r.Type[n.typeId]}'`)}Wa.prototype.visitInt8=null;Wa.prototype.visitInt16=null;Wa.prototype.visitInt32=null;Wa.prototype.visitInt64=null;Wa.prototype.visitUint8=null;Wa.prototype.visitUint16=null;Wa.prototype.visitUint32=null;Wa.prototype.visitUint64=null;Wa.prototype.visitFloat16=null;Wa.prototype.visitFloat32=null;Wa.prototype.visitFloat64=null;Wa.prototype.visitDateDay=null;Wa.prototype.visitDateMillisecond=null;Wa.prototype.visitTimestampSecond=null;Wa.prototype.visitTimestampMillisecond=null;Wa.prototype.visitTimestampMicrosecond=null;Wa.prototype.visitTimestampNanosecond=null;Wa.prototype.visitTimeSecond=null;Wa.prototype.visitTimeMillisecond=null;Wa.prototype.visitTimeMicrosecond=null;Wa.prototype.visitTimeNanosecond=null;Wa.prototype.visitDenseUnion=null;Wa.prototype.visitSparseUnion=null;Wa.prototype.visitIntervalDayTime=null;Wa.prototype.visitIntervalYearMonth=null});var rF=Ae(a7=>{"use strict";m();Object.defineProperty(a7,"__esModule",{value:!0});a7.float64ToUint16=a7.uint16ToFloat64=void 0;var oxe=new Float64Array(1),o7=new Uint32Array(oxe.buffer);function QVe(n){let e=(n&31744)>>10,t=(n&1023)/1024,r=Math.pow(-1,(n&32768)>>15);switch(e){case 31:return r*(t?Number.NaN:1/0);case 0:return r*(t?6103515625e-14*t:0)}return r*Math.pow(2,e-15)*(1+t)}a7.uint16ToFloat64=QVe;function GVe(n){if(n!==n)return 32256;oxe[0]=n;let e=(o7[1]&2147483648)>>16&65535,t=o7[1]&2146435072,r=0;return t>=1089470464?o7[0]>0?t=31744:(t=(t&2080374784)>>16,r=(o7[1]&1048575)>>10):t<=1056964608?(r=1048576+(o7[1]&1048575),r=1048576+(r<<(t>>20)-998)>>21,t=0):(t=t-1056964608>>10,r=(o7[1]&1048575)+512>>10),e|t|r&65535}a7.float64ToUint16=GVe});var zp=Ae(Ar=>{"use strict";m();Object.defineProperty(Ar,"__esModule",{value:!0});Ar.instance=Ar.setIntervalYearMonth=Ar.setIntervalDayTime=Ar.setIntervalValue=Ar.setDecimal=Ar.setTime=Ar.setTimeNanosecond=Ar.setTimeMicrosecond=Ar.setTimeMillisecond=Ar.setTimeSecond=Ar.setTimestamp=Ar.setTimestampNanosecond=Ar.setTimestampMicrosecond=Ar.setTimestampMillisecond=Ar.setTimestampSecond=Ar.setDate=Ar.setFixedSizeBinary=Ar.setDateMillisecond=Ar.setDateDay=Ar.setAnyFloat=Ar.setFloat16=Ar.setFloat=Ar.setInt=Ar.setVariableWidthBytes=Ar.setEpochMsToNanosecondsLong=Ar.setEpochMsToMicrosecondsLong=Ar.setEpochMsToMillisecondsLong=Ar.setEpochMsToDays=Ar.SetVisitor=void 0;var YVe=vd(),KVe=yd(),JVe=H_(),XVe=rF(),uh=kl(),Ks=class extends KVe.Visitor{};Ar.SetVisitor=Ks;function go(n){return(e,t,r)=>{if(e.setValid(t,r!=null))return n(e,t,r)}}var ZVe=(n,e,t)=>{n[e]=Math.trunc(t/864e5)};Ar.setEpochMsToDays=ZVe;var eWe=(n,e,t)=>{n[e]=Math.trunc(t%4294967296),n[e+1]=Math.trunc(t/4294967296)};Ar.setEpochMsToMillisecondsLong=eWe;var tWe=(n,e,t)=>{n[e]=Math.trunc(t*1e3%4294967296),n[e+1]=Math.trunc(t*1e3/4294967296)};Ar.setEpochMsToMicrosecondsLong=tWe;var nWe=(n,e,t)=>{n[e]=Math.trunc(t*1e6%4294967296),n[e+1]=Math.trunc(t*1e6/4294967296)};Ar.setEpochMsToNanosecondsLong=nWe;var rWe=(n,e,t,r)=>{if(t+1<e.length){let{[t]:i,[t+1]:s}=e;n.set(r.subarray(0,s-i),i)}};Ar.setVariableWidthBytes=rWe;var iWe=({offset:n,values:e},t,r)=>{let i=n+t;r?e[i>>3]|=1<<i%8:e[i>>3]&=~(1<<i%8)},sWe=({values:n},e,t)=>{n[e]=t};Ar.setInt=sWe;var oWe=({values:n},e,t)=>{n[e]=t};Ar.setFloat=oWe;var aWe=({values:n},e,t)=>{n[e]=(0,XVe.float64ToUint16)(t)};Ar.setFloat16=aWe;var uWe=(n,e,t)=>{switch(n.type.precision){case uh.Precision.HALF:return(0,Ar.setFloat16)(n,e,t);case uh.Precision.SINGLE:case uh.Precision.DOUBLE:return(0,Ar.setFloat)(n,e,t)}};Ar.setAnyFloat=uWe;var lWe=({values:n},e,t)=>{(0,Ar.setEpochMsToDays)(n,e,t.valueOf())};Ar.setDateDay=lWe;var cWe=({values:n},e,t)=>{(0,Ar.setEpochMsToMillisecondsLong)(n,e*2,t.valueOf())};Ar.setDateMillisecond=cWe;var fWe=({stride:n,values:e},t,r)=>{e.set(r.subarray(0,n),n*t)};Ar.setFixedSizeBinary=fWe;var dWe=({values:n,valueOffsets:e},t,r)=>(0,Ar.setVariableWidthBytes)(n,e,t,r),hWe=({values:n,valueOffsets:e},t,r)=>{(0,Ar.setVariableWidthBytes)(n,e,t,(0,JVe.encodeUtf8)(r))},pWe=(n,e,t)=>{n.type.unit===uh.DateUnit.DAY?(0,Ar.setDateDay)(n,e,t):(0,Ar.setDateMillisecond)(n,e,t)};Ar.setDate=pWe;var mWe=({values:n},e,t)=>(0,Ar.setEpochMsToMillisecondsLong)(n,e*2,t/1e3);Ar.setTimestampSecond=mWe;var xWe=({values:n},e,t)=>(0,Ar.setEpochMsToMillisecondsLong)(n,e*2,t);Ar.setTimestampMillisecond=xWe;var gWe=({values:n},e,t)=>(0,Ar.setEpochMsToMicrosecondsLong)(n,e*2,t);Ar.setTimestampMicrosecond=gWe;var yWe=({values:n},e,t)=>(0,Ar.setEpochMsToNanosecondsLong)(n,e*2,t);Ar.setTimestampNanosecond=yWe;var vWe=(n,e,t)=>{switch(n.type.unit){case uh.TimeUnit.SECOND:return(0,Ar.setTimestampSecond)(n,e,t);case uh.TimeUnit.MILLISECOND:return(0,Ar.setTimestampMillisecond)(n,e,t);case uh.TimeUnit.MICROSECOND:return(0,Ar.setTimestampMicrosecond)(n,e,t);case uh.TimeUnit.NANOSECOND:return(0,Ar.setTimestampNanosecond)(n,e,t)}};Ar.setTimestamp=vWe;var _We=({values:n},e,t)=>{n[e]=t};Ar.setTimeSecond=_We;var EWe=({values:n},e,t)=>{n[e]=t};Ar.setTimeMillisecond=EWe;var bWe=({values:n},e,t)=>{n[e]=t};Ar.setTimeMicrosecond=bWe;var SWe=({values:n},e,t)=>{n[e]=t};Ar.setTimeNanosecond=SWe;var CWe=(n,e,t)=>{switch(n.type.unit){case uh.TimeUnit.SECOND:return(0,Ar.setTimeSecond)(n,e,t);case uh.TimeUnit.MILLISECOND:return(0,Ar.setTimeMillisecond)(n,e,t);case uh.TimeUnit.MICROSECOND:return(0,Ar.setTimeMicrosecond)(n,e,t);case uh.TimeUnit.NANOSECOND:return(0,Ar.setTimeNanosecond)(n,e,t)}};Ar.setTime=CWe;var wWe=({values:n,stride:e},t,r)=>{n.set(r.subarray(0,e),e*t)};Ar.setDecimal=wWe;var AWe=(n,e,t)=>{let r=n.children[0],i=n.valueOffsets,s=Ar.instance.getVisitFn(r);if(Array.isArray(t))for(let o=-1,a=i[e],l=i[e+1];a<l;)s(r,a++,t[++o]);else for(let o=-1,a=i[e],l=i[e+1];a<l;)s(r,a++,t.get(++o))},TWe=(n,e,t)=>{let r=n.children[0],{valueOffsets:i}=n,s=Ar.instance.getVisitFn(r),{[e]:o,[e+1]:a}=i,l=t instanceof Map?t.entries():Object.entries(t);for(let f of l)if(s(r,o,f),++o>=a)break},FWe=(n,e)=>(t,r,i,s)=>r&&t(r,n,e[s]),DWe=(n,e)=>(t,r,i,s)=>r&&t(r,n,e.get(s)),RWe=(n,e)=>(t,r,i,s)=>r&&t(r,n,e.get(i.name)),OWe=(n,e)=>(t,r,i,s)=>r&&t(r,n,e[i.name]),NWe=(n,e,t)=>{let r=n.type.children.map(s=>Ar.instance.getVisitFn(s.type)),i=t instanceof Map?RWe(e,t):t instanceof YVe.Vector?DWe(e,t):Array.isArray(t)?FWe(e,t):OWe(e,t);n.type.children.forEach((s,o)=>i(r[o],n.children[o],s,o))},LWe=(n,e,t)=>{n.type.mode===uh.UnionMode.Dense?axe(n,e,t):uxe(n,e,t)},axe=(n,e,t)=>{let r=n.type.typeIdToChildIndex[n.typeIds[e]],i=n.children[r];Ar.instance.visit(i,n.valueOffsets[e],t)},uxe=(n,e,t)=>{let r=n.type.typeIdToChildIndex[n.typeIds[e]],i=n.children[r];Ar.instance.visit(i,e,t)},kWe=(n,e,t)=>{var r;(r=n.dictionary)===null||r===void 0||r.set(n.values[e],t)},IWe=(n,e,t)=>{n.type.unit===uh.IntervalUnit.DAY_TIME?(0,Ar.setIntervalDayTime)(n,e,t):(0,Ar.setIntervalYearMonth)(n,e,t)};Ar.setIntervalValue=IWe;var MWe=({values:n},e,t)=>{n.set(t.subarray(0,2),2*e)};Ar.setIntervalDayTime=MWe;var PWe=({values:n},e,t)=>{n[e]=t[0]*12+t[1]%12};Ar.setIntervalYearMonth=PWe;var BWe=(n,e,t)=>{let{stride:r}=n,i=n.children[0],s=Ar.instance.getVisitFn(i);if(Array.isArray(t))for(let o=-1,a=e*r;++o<r;)s(i,a+o,t[o]);else for(let o=-1,a=e*r;++o<r;)s(i,a+o,t.get(o))};Ks.prototype.visitBool=go(iWe);Ks.prototype.visitInt=go(Ar.setInt);Ks.prototype.visitInt8=go(Ar.setInt);Ks.prototype.visitInt16=go(Ar.setInt);Ks.prototype.visitInt32=go(Ar.setInt);Ks.prototype.visitInt64=go(Ar.setInt);Ks.prototype.visitUint8=go(Ar.setInt);Ks.prototype.visitUint16=go(Ar.setInt);Ks.prototype.visitUint32=go(Ar.setInt);Ks.prototype.visitUint64=go(Ar.setInt);Ks.prototype.visitFloat=go(Ar.setAnyFloat);Ks.prototype.visitFloat16=go(Ar.setFloat16);Ks.prototype.visitFloat32=go(Ar.setFloat);Ks.prototype.visitFloat64=go(Ar.setFloat);Ks.prototype.visitUtf8=go(hWe);Ks.prototype.visitBinary=go(dWe);Ks.prototype.visitFixedSizeBinary=go(Ar.setFixedSizeBinary);Ks.prototype.visitDate=go(Ar.setDate);Ks.prototype.visitDateDay=go(Ar.setDateDay);Ks.prototype.visitDateMillisecond=go(Ar.setDateMillisecond);Ks.prototype.visitTimestamp=go(Ar.setTimestamp);Ks.prototype.visitTimestampSecond=go(Ar.setTimestampSecond);Ks.prototype.visitTimestampMillisecond=go(Ar.setTimestampMillisecond);Ks.prototype.visitTimestampMicrosecond=go(Ar.setTimestampMicrosecond);Ks.prototype.visitTimestampNanosecond=go(Ar.setTimestampNanosecond);Ks.prototype.visitTime=go(Ar.setTime);Ks.prototype.visitTimeSecond=go(Ar.setTimeSecond);Ks.prototype.visitTimeMillisecond=go(Ar.setTimeMillisecond);Ks.prototype.visitTimeMicrosecond=go(Ar.setTimeMicrosecond);Ks.prototype.visitTimeNanosecond=go(Ar.setTimeNanosecond);Ks.prototype.visitDecimal=go(Ar.setDecimal);Ks.prototype.visitList=go(AWe);Ks.prototype.visitStruct=go(NWe);Ks.prototype.visitUnion=go(LWe);Ks.prototype.visitDenseUnion=go(axe);Ks.prototype.visitSparseUnion=go(uxe);Ks.prototype.visitDictionary=go(kWe);Ks.prototype.visitInterval=go(Ar.setIntervalValue);Ks.prototype.visitIntervalDayTime=go(Ar.setIntervalDayTime);Ks.prototype.visitIntervalYearMonth=go(Ar.setIntervalYearMonth);Ks.prototype.visitFixedSizeList=go(BWe);Ks.prototype.visitMap=go(TWe);Ar.instance=new Ks});var iP=Ae(rP=>{"use strict";m();Object.defineProperty(rP,"__esModule",{value:!0});rP.StructRow=void 0;var lxe=$M(),JX=W_(),jWe=zp(),gm=Symbol.for("parent"),u7=Symbol.for("rowIndex"),XX=class{constructor(e,t){return this[gm]=e,this[u7]=t,new Proxy(this,new fxe)}toArray(){return Object.values(this.toJSON())}toJSON(){let e=this[u7],t=this[gm],r=t.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=JX.instance.visit(t.children[s],e);return i}toString(){return`{${[...this].map(([e,t])=>`${(0,lxe.valueToString)(e)}: ${(0,lxe.valueToString)(t)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new cxe(this[gm],this[u7])}};rP.StructRow=XX;var cxe=class{constructor(e,t){this.childIndex=0,this.children=e.children,this.rowIndex=t,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){let e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,JX.instance.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}};Object.defineProperties(XX.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[gm]:{writable:!0,enumerable:!1,configurable:!1,value:null},[u7]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});var fxe=class{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[gm].type.children.map(t=>t.name)}has(e,t){return e[gm].type.children.findIndex(r=>r.name===t)!==-1}getOwnPropertyDescriptor(e,t){if(e[gm].type.children.findIndex(r=>r.name===t)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];let r=e[gm].type.children.findIndex(i=>i.name===t);if(r!==-1){let i=JX.instance.visit(e[gm].children[r],e[u7]);return Reflect.set(e,t,i),i}}set(e,t,r){let i=e[gm].type.children.findIndex(s=>s.name===t);return i!==-1?(jWe.instance.visit(e[gm].children[i],e[u7],r),Reflect.set(e,t,r)):Reflect.has(e,t)||typeof t=="symbol"?Reflect.set(e,t,r):!1}}});var W_=Ae(c5=>{"use strict";m();Object.defineProperty(c5,"__esModule",{value:!0});c5.instance=c5.GetVisitor=void 0;var qWe=HM(),dxe=vd(),UWe=yd(),$We=iF(),zWe=iP(),HWe=H_(),hxe=rF(),Hp=kl(),zs=class extends UWe.Visitor{};c5.GetVisitor=zs;function uo(n){return(e,t)=>e.getValid(t)?n(e,t):null}var VWe=(n,e)=>864e5*n[e],ZX=(n,e)=>4294967296*n[e+1]+(n[e]>>>0),WWe=(n,e)=>4294967296*(n[e+1]/1e3)+(n[e]>>>0)/1e3,QWe=(n,e)=>4294967296*(n[e+1]/1e6)+(n[e]>>>0)/1e6,pxe=n=>new Date(n),GWe=(n,e)=>pxe(VWe(n,e)),YWe=(n,e)=>pxe(ZX(n,e)),KWe=(n,e)=>null,mxe=(n,e,t)=>{if(t+1>=e.length)return null;let r=e[t],i=e[t+1];return n.subarray(r,i)},JWe=({offset:n,values:e},t)=>{let r=n+t;return(e[r>>3]&1<<r%8)!==0},xxe=({values:n},e)=>GWe(n,e),gxe=({values:n},e)=>YWe(n,e*2),l5=({stride:n,values:e},t)=>e[n*t],XWe=({stride:n,values:e},t)=>(0,hxe.uint16ToFloat64)(e[n*t]),yxe=({values:n},e)=>n[e],ZWe=({stride:n,values:e},t)=>e.subarray(n*t,n*(t+1)),eQe=({values:n,valueOffsets:e},t)=>mxe(n,e,t),tQe=({values:n,valueOffsets:e},t)=>{let r=mxe(n,e,t);return r!==null?(0,HWe.decodeUtf8)(r):null},nQe=({values:n},e)=>n[e],rQe=({type:n,values:e},t)=>n.precision!==Hp.Precision.HALF?e[t]:(0,hxe.uint16ToFloat64)(e[t]),iQe=(n,e)=>n.type.unit===Hp.DateUnit.DAY?xxe(n,e):gxe(n,e),vxe=({values:n},e)=>1e3*ZX(n,e*2),_xe=({values:n},e)=>ZX(n,e*2),Exe=({values:n},e)=>WWe(n,e*2),bxe=({values:n},e)=>QWe(n,e*2),sQe=(n,e)=>{switch(n.type.unit){case Hp.TimeUnit.SECOND:return vxe(n,e);case Hp.TimeUnit.MILLISECOND:return _xe(n,e);case Hp.TimeUnit.MICROSECOND:return Exe(n,e);case Hp.TimeUnit.NANOSECOND:return bxe(n,e)}},Sxe=({values:n},e)=>n[e],Cxe=({values:n},e)=>n[e],wxe=({values:n},e)=>n[e],Axe=({values:n},e)=>n[e],oQe=(n,e)=>{switch(n.type.unit){case Hp.TimeUnit.SECOND:return Sxe(n,e);case Hp.TimeUnit.MILLISECOND:return Cxe(n,e);case Hp.TimeUnit.MICROSECOND:return wxe(n,e);case Hp.TimeUnit.NANOSECOND:return Axe(n,e)}},aQe=({values:n,stride:e},t)=>qWe.BN.decimal(n.subarray(e*t,e*(t+1))),uQe=(n,e)=>{let{valueOffsets:t,stride:r,children:i}=n,{[e*r]:s,[e*r+1]:o}=t,l=i[0].slice(s,o-s);return new dxe.Vector([l])},lQe=(n,e)=>{let{valueOffsets:t,children:r}=n,{[e]:i,[e+1]:s}=t,o=r[0];return new $We.MapRow(o.slice(i,s-i))},cQe=(n,e)=>new zWe.StructRow(n,e),fQe=(n,e)=>n.type.mode===Hp.UnionMode.Dense?Txe(n,e):Fxe(n,e),Txe=(n,e)=>{let t=n.type.typeIdToChildIndex[n.typeIds[e]],r=n.children[t];return c5.instance.visit(r,n.valueOffsets[e])},Fxe=(n,e)=>{let t=n.type.typeIdToChildIndex[n.typeIds[e]],r=n.children[t];return c5.instance.visit(r,e)},dQe=(n,e)=>{var t;return(t=n.dictionary)===null||t===void 0?void 0:t.get(n.values[e])},hQe=(n,e)=>n.type.unit===Hp.IntervalUnit.DAY_TIME?Dxe(n,e):Rxe(n,e),Dxe=({values:n},e)=>n.subarray(2*e,2*(e+1)),Rxe=({values:n},e)=>{let t=n[e],r=new Int32Array(2);return r[0]=Math.trunc(t/12),r[1]=Math.trunc(t%12),r},pQe=(n,e)=>{let{stride:t,children:r}=n,s=r[0].slice(e*t,t);return new dxe.Vector([s])};zs.prototype.visitNull=uo(KWe);zs.prototype.visitBool=uo(JWe);zs.prototype.visitInt=uo(nQe);zs.prototype.visitInt8=uo(l5);zs.prototype.visitInt16=uo(l5);zs.prototype.visitInt32=uo(l5);zs.prototype.visitInt64=uo(yxe);zs.prototype.visitUint8=uo(l5);zs.prototype.visitUint16=uo(l5);zs.prototype.visitUint32=uo(l5);zs.prototype.visitUint64=uo(yxe);zs.prototype.visitFloat=uo(rQe);zs.prototype.visitFloat16=uo(XWe);zs.prototype.visitFloat32=uo(l5);zs.prototype.visitFloat64=uo(l5);zs.prototype.visitUtf8=uo(tQe);zs.prototype.visitBinary=uo(eQe);zs.prototype.visitFixedSizeBinary=uo(ZWe);zs.prototype.visitDate=uo(iQe);zs.prototype.visitDateDay=uo(xxe);zs.prototype.visitDateMillisecond=uo(gxe);zs.prototype.visitTimestamp=uo(sQe);zs.prototype.visitTimestampSecond=uo(vxe);zs.prototype.visitTimestampMillisecond=uo(_xe);zs.prototype.visitTimestampMicrosecond=uo(Exe);zs.prototype.visitTimestampNanosecond=uo(bxe);zs.prototype.visitTime=uo(oQe);zs.prototype.visitTimeSecond=uo(Sxe);zs.prototype.visitTimeMillisecond=uo(Cxe);zs.prototype.visitTimeMicrosecond=uo(wxe);zs.prototype.visitTimeNanosecond=uo(Axe);zs.prototype.visitDecimal=uo(aQe);zs.prototype.visitList=uo(uQe);zs.prototype.visitStruct=uo(cQe);zs.prototype.visitUnion=uo(fQe);zs.prototype.visitDenseUnion=uo(Txe);zs.prototype.visitSparseUnion=uo(Fxe);zs.prototype.visitDictionary=uo(dQe);zs.prototype.visitInterval=uo(hQe);zs.prototype.visitIntervalDayTime=uo(Dxe);zs.prototype.visitIntervalYearMonth=uo(Rxe);zs.prototype.visitFixedSizeList=uo(pQe);zs.prototype.visitMap=uo(lQe);c5.instance=new zs});var iF=Ae(zu=>{"use strict";m();Object.defineProperty(zu,"__esModule",{value:!0});zu.MapRow=zu.kVals=zu.kKeys=void 0;var mQe=vd(),Oxe=$M(),eZ=W_(),xQe=zp();zu.kKeys=Symbol.for("keys");zu.kVals=Symbol.for("vals");var tZ=class{constructor(e){return this[zu.kKeys]=new mQe.Vector([e.children[0]]).memoize(),this[zu.kVals]=e.children[1],new Proxy(this,new Lxe)}[Symbol.iterator](){return new Nxe(this[zu.kKeys],this[zu.kVals])}get size(){return this[zu.kKeys].length}toArray(){return Object.values(this.toJSON())}toJSON(){let e=this[zu.kKeys],t=this[zu.kVals],r={};for(let i=-1,s=e.length;++i<s;)r[e.get(i)]=eZ.instance.visit(t,i);return r}toString(){return`{${[...this].map(([e,t])=>`${(0,Oxe.valueToString)(e)}: ${(0,Oxe.valueToString)(t)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}};zu.MapRow=tZ;var Nxe=class{constructor(e,t){this.keys=e,this.vals=t,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){let e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),eZ.instance.visit(this.vals,e)]})}},Lxe=class{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[zu.kKeys].toArray().map(String)}has(e,t){return e[zu.kKeys].includes(t)}getOwnPropertyDescriptor(e,t){if(e[zu.kKeys].indexOf(t)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];let r=e[zu.kKeys].indexOf(t);if(r!==-1){let i=eZ.instance.visit(Reflect.get(e,zu.kVals),r);return Reflect.set(e,t,i),i}}set(e,t,r){let i=e[zu.kKeys].indexOf(t);return i!==-1?(xQe.instance.visit(Reflect.get(e,zu.kVals),i,r),Reflect.set(e,t,r)):Reflect.has(e,t)?Reflect.set(e,t,r):!1}};Object.defineProperties(tZ.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[zu.kKeys]:{writable:!0,enumerable:!1,configurable:!1,value:null},[zu.kVals]:{writable:!0,enumerable:!1,configurable:!1,value:null}})});var oF=Ae(f5=>{"use strict";m();Object.defineProperty(f5,"__esModule",{value:!0});f5.createElementComparator=f5.clampRange=f5.clampIndex=void 0;var kxe=vd(),gQe=iF(),yQe=iP(),vQe=Qf();function _Qe(n,e,t){let r=n.length,i=e>-1?e:r+e%r;return t?t(n,i):i}f5.clampIndex=_Qe;var Ixe;function EQe(n,e,t,r){let{length:i=0}=n,s=typeof e!="number"?0:e,o=typeof t!="number"?i:t;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(Ixe=s,s=o,o=Ixe),o>i&&(o=i),r?r(n,s,o):[s,o]}f5.clampRange=EQe;var Mxe=n=>n!==n;function sF(n){if(typeof n!=="object"||n===null)return Mxe(n)?Mxe:t=>t===n;if(n instanceof Date){let t=n.valueOf();return r=>r instanceof Date?r.valueOf()===t:!1}return ArrayBuffer.isView(n)?t=>t?(0,vQe.compareArrayLike)(n,t):!1:n instanceof Map?SQe(n):Array.isArray(n)?bQe(n):n instanceof kxe.Vector?CQe(n):wQe(n,!0)}f5.createElementComparator=sF;function bQe(n){let e=[];for(let t=-1,r=n.length;++t<r;)e[t]=sF(n[t]);return sP(e)}function SQe(n){let e=-1,t=[];for(let r of n.values())t[++e]=sF(r);return sP(t)}function CQe(n){let e=[];for(let t=-1,r=n.length;++t<r;)e[t]=sF(n.get(t));return sP(e)}function wQe(n,e=!1){let t=Object.keys(n);if(!e&&t.length===0)return()=>!1;let r=[];for(let i=-1,s=t.length;++i<s;)r[i]=sF(n[t[i]]);return sP(r,t)}function sP(n,e){return t=>{if(!t||typeof t!="object")return!1;switch(t.constructor){case Array:return AQe(n,t);case Map:return Pxe(n,t,t.keys());case gQe.MapRow:case yQe.StructRow:case Object:case void 0:return Pxe(n,t,e||Object.keys(t))}return t instanceof kxe.Vector?TQe(n,t):!1}}function AQe(n,e){let t=n.length;if(e.length!==t)return!1;for(let r=-1;++r<t;)if(!n[r](e[r]))return!1;return!0}function TQe(n,e){let t=n.length;if(e.length!==t)return!1;for(let r=-1;++r<t;)if(!n[r](e.get(r)))return!1;return!0}function Pxe(n,e,t){let r=t[Symbol.iterator](),i=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator](),o=0,a=n.length,l=s.next(),f=r.next(),p=i.next();for(;o<a&&!f.done&&!p.done&&!l.done&&!(f.value!==p.value||!n[o](l.value));++o,f=r.next(),p=i.next(),l=s.next());return o===a&&f.done&&p.done&&l.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}});var Q_=Ae(yc=>{"use strict";m();Object.defineProperty(yc,"__esModule",{value:!0});yc.popcnt_uint32=yc.popcnt_array=yc.popcnt_bit_range=yc.BitIterator=yc.packBools=yc.truncateBitmap=yc.setBool=yc.getBit=yc.getBool=void 0;function Bxe(n,e,t,r){return(t&1<<r)!==0}yc.getBool=Bxe;function jxe(n,e,t,r){return(t&1<<r)>>r}yc.getBit=jxe;function FQe(n,e,t){return t?!!(n[e>>3]|=1<<e%8)||!0:!(n[e>>3]&=~(1<<e%8))&&!1}yc.setBool=FQe;function DQe(n,e,t){let r=t.byteLength+7&~7;if(n>0||t.byteLength<r){let i=new Uint8Array(r);return i.set(n%8===0?t.subarray(n>>3):qxe(new oP(t,n,e,null,Bxe)).subarray(0,r)),i}return t}yc.truncateBitmap=DQe;function qxe(n){let e=[],t=0,r=0,i=0;for(let o of n)o&&(i|=1<<r),++r===8&&(e[t++]=i,i=r=0);(t===0||r>0)&&(e[t++]=i);let s=new Uint8Array(e.length+7&~7);return s.set(e),s}yc.packBools=qxe;var oP=class{constructor(e,t,r,i,s){this.bytes=e,this.length=r,this.context=i,this.get=s,this.bit=t%8,this.byteIndex=t>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}};yc.BitIterator=oP;function nZ(n,e,t){if(t-e<=0)return 0;if(t-e<8){let s=0;for(let o of new oP(n,e,t-e,n,jxe))s+=o;return s}let r=t>>3<<3,i=e+(e%8===0?0:8-e%8);return nZ(n,e,i)+nZ(n,r,t)+Uxe(n,i>>3,r-i>>3)}yc.popcnt_bit_range=nZ;function Uxe(n,e,t){let r=0,i=Math.trunc(e),s=new DataView(n.buffer,n.byteOffset,n.byteLength),o=t===void 0?n.byteLength:i+t;for(;o-i>=4;)r+=aP(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=aP(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=aP(s.getUint8(i)),i+=1;return r}yc.popcnt_array=Uxe;function aP(n){let e=Math.trunc(n);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}yc.popcnt_uint32=aP});var A2=Ae(Rg=>{"use strict";m();Object.defineProperty(Rg,"__esModule",{value:!0});Rg.makeData=Rg.Data=Rg.kUnknownNullCount=void 0;var RQe=vd(),d5=kl(),Dg=su(),$xe=Q_();Rg.kUnknownNullCount=-1;var bu=class{constructor(e,t,r,i,s,o=[],a){this.type=e,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(t||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let l;s instanceof bu?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=(0,Dg.strideForType)(e),s&&((l=s[0])&&(this.valueOffsets=l),(l=s[1])&&(this.values=l),(l=s[2])&&(this.nullBitmap=l),(l=s[3])&&(this.typeIds=l))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let e=0,{valueOffsets:t,values:r,nullBitmap:i,typeIds:s}=this;return t&&(e+=t.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,e)}get nullCount(){let e=this._nullCount,t;return e<=Rg.kUnknownNullCount&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-(0,$xe.popcnt_bit_range)(t,this.offset,this.offset+this.length)),e}getValid(e){if(this.nullable&&this.nullCount>0){let t=this.offset+e;return(this.nullBitmap[t>>3]&1<<t%8)!==0}return!0}setValid(e,t){if(!this.nullable)return t;if(!this.nullBitmap||this.nullBitmap.byteLength<=e>>3){let{nullBitmap:l}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:l,_nullCount:0})}let{nullBitmap:r,offset:i}=this,s=i+e>>3,o=(i+e)%8,a=r[s]>>o&1;return t?a===0&&(r[s]|=1<<o,this._nullCount=this.nullCount+1):a===1&&(r[s]&=~(1<<o),this._nullCount=this.nullCount-1),t}clone(e=this.type,t=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new bu(e,t,r,i,s,o,this.dictionary)}slice(e,t){let{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,l=this._sliceBuffers(e,t,r,i);return this.clone(this.type,this.offset+e,t,o,l,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*e,a*t))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===d5.Type.Null)return this.clone(this.type,0,e,0);let{length:t,nullCount:r}=this,i=new Uint8Array((e+63&~63)>>3).fill(255,0,t>>3);i[t>>3]=(1<<t-(t&~7))-1,r>0&&i.set((0,$xe.truncateBitmap)(this.offset,t,this.nullBitmap),0);let s=this.buffers;return s[d5.BufferType.VALIDITY]=i,this.clone(this.type,0,e,r+(e-t),s)}_sliceBuffers(e,t,r,i){let s,{buffers:o}=this;return(s=o[d5.BufferType.TYPE])&&(o[d5.BufferType.TYPE]=s.subarray(e,e+t)),(s=o[d5.BufferType.OFFSET])&&(o[d5.BufferType.OFFSET]=s.subarray(e,e+t+1))||(s=o[d5.BufferType.DATA])&&(o[d5.BufferType.DATA]=i===6?s:s.subarray(r*e,r*(e+t))),o}_sliceChildren(e,t,r){return e.map(i=>i.slice(t,r))}};Rg.Data=bu;bu.prototype.children=Object.freeze([]);var OQe=yd(),Yo=Qf(),l7=class extends OQe.Visitor{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){let{["type"]:t,["offset"]:r=0,["length"]:i=0}=e;return new bu(t,r,i,0)}visitBool(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.nullBitmap),s=(0,Yo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length>>3,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new bu(t,r,o,a,[void 0,s,i])}visitInt(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.nullBitmap),s=(0,Yo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new bu(t,r,o,a,[void 0,s,i])}visitFloat(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.nullBitmap),s=(0,Yo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new bu(t,r,o,a,[void 0,s,i])}visitUtf8(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.data),s=(0,Yo.toUint8Array)(e.nullBitmap),o=(0,Yo.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new bu(t,r,a,l,[o,i,s])}visitBinary(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.data),s=(0,Yo.toUint8Array)(e.nullBitmap),o=(0,Yo.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new bu(t,r,a,l,[o,i,s])}visitFixedSizeBinary(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.nullBitmap),s=(0,Yo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,Dg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new bu(t,r,o,a,[void 0,s,i])}visitDate(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.nullBitmap),s=(0,Yo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,Dg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new bu(t,r,o,a,[void 0,s,i])}visitTimestamp(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.nullBitmap),s=(0,Yo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,Dg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new bu(t,r,o,a,[void 0,s,i])}visitTime(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.nullBitmap),s=(0,Yo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,Dg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new bu(t,r,o,a,[void 0,s,i])}visitDecimal(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.nullBitmap),s=(0,Yo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,Dg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new bu(t,r,o,a,[void 0,s,i])}visitList(e){let{["type"]:t,["offset"]:r=0,["child"]:i}=e,s=(0,Yo.toUint8Array)(e.nullBitmap),o=(0,Yo.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new bu(t,r,a,l,[o,void 0,s],[i])}visitStruct(e){let{["type"]:t,["offset"]:r=0,["children"]:i=[]}=e,s=(0,Yo.toUint8Array)(e.nullBitmap),{length:o=i.reduce((l,{length:f})=>Math.max(l,f),0),nullCount:a=e.nullBitmap?-1:0}=e;return new bu(t,r,o,a,[void 0,void 0,s],i)}visitUnion(e){let{["type"]:t,["offset"]:r=0,["children"]:i=[]}=e,s=(0,Yo.toUint8Array)(e.nullBitmap),o=(0,Yo.toArrayBufferView)(t.ArrayType,e.typeIds),{["length"]:a=o.length,["nullCount"]:l=e.nullBitmap?-1:0}=e;if(Dg.DataType.isSparseUnion(t))return new bu(t,r,a,l,[void 0,void 0,s,o],i);let f=(0,Yo.toInt32Array)(e.valueOffsets);return new bu(t,r,a,l,[f,void 0,s,o],i)}visitDictionary(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.nullBitmap),s=(0,Yo.toArrayBufferView)(t.indices.ArrayType,e.data),{["dictionary"]:o=new RQe.Vector([new l7().visit({type:t.dictionary})])}=e,{["length"]:a=s.length,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new bu(t,r,a,l,[void 0,s,i],[],o)}visitInterval(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.nullBitmap),s=(0,Yo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,Dg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new bu(t,r,o,a,[void 0,s,i])}visitFixedSizeList(e){let{["type"]:t,["offset"]:r=0,["child"]:i=new l7().visit({type:t.valueType})}=e,s=(0,Yo.toUint8Array)(e.nullBitmap),{["length"]:o=i.length/(0,Dg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new bu(t,r,o,a,[void 0,void 0,s],[i])}visitMap(e){let{["type"]:t,["offset"]:r=0,["child"]:i=new l7().visit({type:t.childType})}=e,s=(0,Yo.toUint8Array)(e.nullBitmap),o=(0,Yo.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new bu(t,r,a,l,[o,void 0,s],[i])}};function NQe(n){return new l7().visit(n)}Rg.makeData=NQe});var lP=Ae(vc=>{"use strict";m();Object.defineProperty(vc,"__esModule",{value:!0});vc.wrapChunkedIndexOf=vc.wrapChunkedCall2=vc.wrapChunkedCall1=vc.isChunkedValid=vc.binarySearch=vc.sliceChunks=vc.computeChunkOffsets=vc.computeChunkNullCounts=vc.ChunkedIterator=void 0;var zxe=class{constructor(e=0,t){this.numChunks=e,this.getChunkIterator=t,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){let e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}};vc.ChunkedIterator=zxe;function LQe(n){return n.reduce((e,t)=>e+t.nullCount,0)}vc.computeChunkNullCounts=LQe;function kQe(n){return n.reduce((e,t,r)=>(e[r+1]=e[r]+t.length,e),new Uint32Array(n.length+1))}vc.computeChunkOffsets=kQe;function IQe(n,e,t,r){let i=[];for(let s=-1,o=n.length;++s<o;){let a=n[s],l=e[s],{length:f}=a;if(l>=r)break;if(t>=l+f)continue;if(l>=t&&l+f<=r){i.push(a);continue}let p=Math.max(0,t-l),_=Math.min(r-l,f);i.push(a.slice(p,_-p))}return i.length===0&&i.push(n[0].slice(0,0)),i}vc.sliceChunks=IQe;function uP(n,e,t,r){let i=0,s=0,o=e.length-1;do{if(i>=o-1)return t<e[o]?r(n,i,t-e[i]):null;s=i+Math.trunc((o-i)*.5),t<e[s]?o=s:i=s}while(i<o)}vc.binarySearch=uP;function MQe(n,e){return n.getValid(e)}vc.isChunkedValid=MQe;function PQe(n){function e(t,r,i){return n(t[r],i)}return function(t){let r=this.data;return uP(r,this._offsets,t,e)}}vc.wrapChunkedCall1=PQe;function BQe(n){let e;function t(r,i,s){return n(r[i],s,e)}return function(r,i){let s=this.data;e=i;let o=uP(s,this._offsets,r,t);return e=void 0,o}}vc.wrapChunkedCall2=BQe;function jQe(n){let e;function t(r,i,s){let o=s,a=0,l=0;for(let f=i-1,p=r.length;++f<p;){let _=r[f];if(~(a=n(_,e,o)))return l+a;o=0,l+=_.length}return-1}return function(r,i){e=r;let s=this.data,o=typeof i!="number"?t(s,0,0):uP(s,this._offsets,i,t);return e=void 0,o}}vc.wrapChunkedIndexOf=jQe});var cP=Ae(c7=>{"use strict";m();Object.defineProperty(c7,"__esModule",{value:!0});c7.instance=c7.IndexOfVisitor=void 0;var qQe=yd(),Hxe=W_(),Vxe=Q_(),Wxe=oF(),Hs=class extends qQe.Visitor{};c7.IndexOfVisitor=Hs;function UQe(n,e){return e===null&&n.length>0?0:-1}function $Qe(n,e){let{nullBitmap:t}=n;if(!t||n.nullCount<=0)return-1;let r=0;for(let i of new Vxe.BitIterator(t,n.offset+(e||0),n.length,t,Vxe.getBool)){if(!i)return r;++r}return-1}function Fo(n,e,t){if(e===void 0)return-1;if(e===null)return $Qe(n,t);let r=Hxe.instance.getVisitFn(n),i=(0,Wxe.createElementComparator)(e);for(let s=(t||0)-1,o=n.length;++s<o;)if(i(r(n,s)))return s;return-1}function Qxe(n,e,t){let r=Hxe.instance.getVisitFn(n),i=(0,Wxe.createElementComparator)(e);for(let s=(t||0)-1,o=n.length;++s<o;)if(i(r(n,s)))return s;return-1}Hs.prototype.visitNull=UQe;Hs.prototype.visitBool=Fo;Hs.prototype.visitInt=Fo;Hs.prototype.visitInt8=Fo;Hs.prototype.visitInt16=Fo;Hs.prototype.visitInt32=Fo;Hs.prototype.visitInt64=Fo;Hs.prototype.visitUint8=Fo;Hs.prototype.visitUint16=Fo;Hs.prototype.visitUint32=Fo;Hs.prototype.visitUint64=Fo;Hs.prototype.visitFloat=Fo;Hs.prototype.visitFloat16=Fo;Hs.prototype.visitFloat32=Fo;Hs.prototype.visitFloat64=Fo;Hs.prototype.visitUtf8=Fo;Hs.prototype.visitBinary=Fo;Hs.prototype.visitFixedSizeBinary=Fo;Hs.prototype.visitDate=Fo;Hs.prototype.visitDateDay=Fo;Hs.prototype.visitDateMillisecond=Fo;Hs.prototype.visitTimestamp=Fo;Hs.prototype.visitTimestampSecond=Fo;Hs.prototype.visitTimestampMillisecond=Fo;Hs.prototype.visitTimestampMicrosecond=Fo;Hs.prototype.visitTimestampNanosecond=Fo;Hs.prototype.visitTime=Fo;Hs.prototype.visitTimeSecond=Fo;Hs.prototype.visitTimeMillisecond=Fo;Hs.prototype.visitTimeMicrosecond=Fo;Hs.prototype.visitTimeNanosecond=Fo;Hs.prototype.visitDecimal=Fo;Hs.prototype.visitList=Fo;Hs.prototype.visitStruct=Fo;Hs.prototype.visitUnion=Fo;Hs.prototype.visitDenseUnion=Qxe;Hs.prototype.visitSparseUnion=Qxe;Hs.prototype.visitDictionary=Fo;Hs.prototype.visitInterval=Fo;Hs.prototype.visitIntervalDayTime=Fo;Hs.prototype.visitIntervalYearMonth=Fo;Hs.prototype.visitFixedSizeList=Fo;Hs.prototype.visitMap=Fo;c7.instance=new Hs});var fP=Ae(f7=>{"use strict";m();Object.defineProperty(f7,"__esModule",{value:!0});f7.instance=f7.IteratorVisitor=void 0;var zQe=yd(),Gxe=kl(),rZ=su(),Yxe=lP(),Vs=class extends zQe.Visitor{};f7.IteratorVisitor=Vs;function lo(n){let{type:e}=n;if(n.nullCount===0&&n.stride===1&&(e.typeId===Gxe.Type.Timestamp||e instanceof rZ.Int&&e.bitWidth!==64||e instanceof rZ.Time&&e.bitWidth!==64||e instanceof rZ.Float&&e.precision!==Gxe.Precision.HALF))return new Yxe.ChunkedIterator(n.data.length,r=>{let i=n.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let t=0;return new Yxe.ChunkedIterator(n.data.length,r=>{let s=n.data[r].length,o=n.slice(t,t+s);return t+=s,new Kxe(o)})}var Kxe=class{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}};Vs.prototype.visitNull=lo;Vs.prototype.visitBool=lo;Vs.prototype.visitInt=lo;Vs.prototype.visitInt8=lo;Vs.prototype.visitInt16=lo;Vs.prototype.visitInt32=lo;Vs.prototype.visitInt64=lo;Vs.prototype.visitUint8=lo;Vs.prototype.visitUint16=lo;Vs.prototype.visitUint32=lo;Vs.prototype.visitUint64=lo;Vs.prototype.visitFloat=lo;Vs.prototype.visitFloat16=lo;Vs.prototype.visitFloat32=lo;Vs.prototype.visitFloat64=lo;Vs.prototype.visitUtf8=lo;Vs.prototype.visitBinary=lo;Vs.prototype.visitFixedSizeBinary=lo;Vs.prototype.visitDate=lo;Vs.prototype.visitDateDay=lo;Vs.prototype.visitDateMillisecond=lo;Vs.prototype.visitTimestamp=lo;Vs.prototype.visitTimestampSecond=lo;Vs.prototype.visitTimestampMillisecond=lo;Vs.prototype.visitTimestampMicrosecond=lo;Vs.prototype.visitTimestampNanosecond=lo;Vs.prototype.visitTime=lo;Vs.prototype.visitTimeSecond=lo;Vs.prototype.visitTimeMillisecond=lo;Vs.prototype.visitTimeMicrosecond=lo;Vs.prototype.visitTimeNanosecond=lo;Vs.prototype.visitDecimal=lo;Vs.prototype.visitList=lo;Vs.prototype.visitStruct=lo;Vs.prototype.visitUnion=lo;Vs.prototype.visitDenseUnion=lo;Vs.prototype.visitSparseUnion=lo;Vs.prototype.visitDictionary=lo;Vs.prototype.visitInterval=lo;Vs.prototype.visitIntervalDayTime=lo;Vs.prototype.visitIntervalYearMonth=lo;Vs.prototype.visitFixedSizeList=lo;Vs.prototype.visitMap=lo;f7.instance=new Vs});var dP=Ae(Vp=>{"use strict";m();Object.defineProperty(Vp,"__esModule",{value:!0});Vp.instance=Vp.GetByteLengthVisitor=void 0;var HQe=yd(),Jxe=kl(),VQe=(n,e)=>n+e,T2=class extends HQe.Visitor{visitNull(e,t){return 0}visitInt(e,t){return e.type.bitWidth/8}visitFloat(e,t){return e.type.ArrayType.BYTES_PER_ELEMENT}visitBool(e,t){return 1/8}visitDecimal(e,t){return e.type.bitWidth/8}visitDate(e,t){return(e.type.unit+1)*4}visitTime(e,t){return e.type.bitWidth/8}visitTimestamp(e,t){return e.type.unit===Jxe.TimeUnit.SECOND?4:8}visitInterval(e,t){return(e.type.unit+1)*4}visitStruct(e,t){return e.children.reduce((r,i)=>r+Vp.instance.visit(i,t),0)}visitFixedSizeBinary(e,t){return e.type.byteWidth}visitMap(e,t){return 8+e.children.reduce((r,i)=>r+Vp.instance.visit(i,t),0)}visitDictionary(e,t){var r;return e.type.indices.bitWidth/8+(((r=e.dictionary)===null||r===void 0?void 0:r.getByteLength(e.values[t]))||0)}};Vp.GetByteLengthVisitor=T2;var WQe=({valueOffsets:n},e)=>8+(n[e+1]-n[e]),QQe=({valueOffsets:n},e)=>8+(n[e+1]-n[e]),GQe=({valueOffsets:n,stride:e,children:t},r)=>{let i=t[0],{[r*e]:s}=n,{[r*e+1]:o}=n,a=Vp.instance.getVisitFn(i.type),l=i.slice(s,o-s),f=8;for(let p=-1,_=o-s;++p<_;)f+=a(l,p);return f},YQe=({stride:n,children:e},t)=>{let r=e[0],i=r.slice(t*n,n),s=Vp.instance.getVisitFn(r.type),o=0;for(let a=-1,l=i.length;++a<l;)o+=s(i,a);return o},KQe=(n,e)=>n.type.mode===Jxe.UnionMode.Dense?Xxe(n,e):Zxe(n,e),Xxe=({type:n,children:e,typeIds:t,valueOffsets:r},i)=>{let s=n.typeIdToChildIndex[t[i]];return 8+Vp.instance.visit(e[s],r[i])},Zxe=({children:n},e)=>4+Vp.instance.visitMany(n,n.map(()=>e)).reduce(VQe,0);T2.prototype.visitUtf8=WQe;T2.prototype.visitBinary=QQe;T2.prototype.visitList=GQe;T2.prototype.visitFixedSizeList=YQe;T2.prototype.visitUnion=KQe;T2.prototype.visitDenseUnion=Xxe;T2.prototype.visitSparseUnion=Zxe;Vp.instance=new T2});var vd=Ae(h7=>{"use strict";m();var ege;Object.defineProperty(h7,"__esModule",{value:!0});h7.makeVector=h7.Vector=void 0;var JQe=hs(),Og=kl(),XQe=oF(),d7=su(),lh=A2(),F2=lP(),tge=W_(),nge=zp(),rge=cP(),ZQe=fP(),ige=dP(),sge={},oge={},Oa=class{constructor(e){var t,r,i;let s=e[0]instanceof Oa?e.flatMap(a=>a.data):e;if(s.length===0||s.some(a=>!(a instanceof lh.Data)))throw new TypeError("Vector constructor expects an Array of Data instances.");let o=(t=s[0])===null||t===void 0?void 0:t.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{let{get:a,set:l,indexOf:f,byteLength:p}=sge[o.typeId],_=s[0];this.isValid=b=>(0,F2.isChunkedValid)(_,b),this.get=b=>a(_,b),this.set=(b,R)=>l(_,b,R),this.indexOf=b=>f(_,b),this.getByteLength=b=>p(_,b),this._offsets=[0,_.length];break}default:Object.setPrototypeOf(this,oge[o.typeId]),this._offsets=(0,F2.computeChunkOffsets)(s);break}this.data=s,this.type=o,this.stride=(0,d7.strideForType)(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((e,t)=>e+t.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=(0,F2.computeChunkNullCounts)(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${Og.Type[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return-1}includes(e,t){return this.indexOf(e,t)>0}getByteLength(e){return 0}[Symbol.iterator](){return ZQe.instance.visit(this)}concat(...e){return new Oa(this.data.concat(e.flatMap(t=>t.data).flat(Number.POSITIVE_INFINITY)))}slice(e,t){return new Oa((0,XQe.clampRange)(this,e,t,({data:r,_offsets:i},s,o)=>(0,F2.sliceChunks)(r,i,s,o)))}toJSON(){return[...this]}toArray(){let{type:e,data:t,length:r,stride:i,ArrayType:s}=this;switch(e.typeId){case Og.Type.Int:case Og.Type.Float:case Og.Type.Decimal:case Og.Type.Time:case Og.Type.Timestamp:switch(t.length){case 0:return new s;case 1:return t[0].values.subarray(0,r*i);default:return t.reduce((o,{values:a})=>(o.array.set(a,o.offset),o.offset+=a.length,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var t;return this.getChildAt((t=this.type.children)===null||t===void 0?void 0:t.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new Oa(this.data.map(({children:t})=>t[e])):null}get isMemoized(){return d7.DataType.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(d7.DataType.isDictionary(this.type)){let e=new aF(this.data[0].dictionary),t=this.data.map(r=>{let i=r.clone();return i.dictionary=e,i});return new Oa(t)}return new aF(this)}unmemoize(){if(d7.DataType.isDictionary(this.type)&&this.isMemoized){let e=this.data[0].dictionary.unmemoize(),t=this.data.map(r=>{let i=r.clone();return i.dictionary=e,i});return new Oa(t)}return this}};h7.Vector=Oa;ege=Symbol.toStringTag;Oa[ege]=(n=>{n.type=d7.DataType.prototype,n.data=[],n.length=0,n.stride=1,n.numChildren=0,n._nullCount=-1,n._byteLength=-1,n._offsets=new Uint32Array([0]),n[Symbol.isConcatSpreadable]=!0;let e=Object.keys(Og.Type).map(t=>Og.Type[t]).filter(t=>typeof t=="number"&&t!==Og.Type.NONE);for(let t of e){let r=tge.instance.getVisitFnByTypeId(t),i=nge.instance.getVisitFnByTypeId(t),s=rge.instance.getVisitFnByTypeId(t),o=ige.instance.getVisitFnByTypeId(t);sge[t]={get:r,set:i,indexOf:s,byteLength:o},oge[t]=Object.create(n,{isValid:{value:(0,F2.wrapChunkedCall1)(F2.isChunkedValid)},get:{value:(0,F2.wrapChunkedCall1)(tge.instance.getVisitFnByTypeId(t))},set:{value:(0,F2.wrapChunkedCall2)(nge.instance.getVisitFnByTypeId(t))},indexOf:{value:(0,F2.wrapChunkedIndexOf)(rge.instance.getVisitFnByTypeId(t))},getByteLength:{value:(0,F2.wrapChunkedCall1)(ige.instance.getVisitFnByTypeId(t))}})}return"Vector"})(Oa.prototype);var aF=class extends Oa{constructor(e){super(e.data);let t=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){let a=s[o];if(a!==void 0)return a;let l=t.call(this,o);return s[o]=l,l}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new aF(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Oa(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}},D2=JQe.__importStar(su());function age(n){if(n){if(n instanceof lh.Data)return new Oa([n]);if(n instanceof Oa)return new Oa(n.data);if(n.type instanceof d7.DataType)return new Oa([(0,lh.makeData)(n)]);if(Array.isArray(n))return new Oa(n.flatMap(e=>eGe(e)));if(ArrayBuffer.isView(n)){n instanceof DataView&&(n=new Uint8Array(n.buffer));let e={offset:0,length:n.length,nullCount:0,data:n};if(n instanceof Int8Array)return new Oa([(0,lh.makeData)(Object.assign(Object.assign({},e),{type:new D2.Int8}))]);if(n instanceof Int16Array)return new Oa([(0,lh.makeData)(Object.assign(Object.assign({},e),{type:new D2.Int16}))]);if(n instanceof Int32Array)return new Oa([(0,lh.makeData)(Object.assign(Object.assign({},e),{type:new D2.Int32}))]);if(n instanceof BigInt64Array)return new Oa([(0,lh.makeData)(Object.assign(Object.assign({},e),{type:new D2.Int64}))]);if(n instanceof Uint8Array||n instanceof Uint8ClampedArray)return new Oa([(0,lh.makeData)(Object.assign(Object.assign({},e),{type:new D2.Uint8}))]);if(n instanceof Uint16Array)return new Oa([(0,lh.makeData)(Object.assign(Object.assign({},e),{type:new D2.Uint16}))]);if(n instanceof Uint32Array)return new Oa([(0,lh.makeData)(Object.assign(Object.assign({},e),{type:new D2.Uint32}))]);if(n instanceof BigUint64Array)return new Oa([(0,lh.makeData)(Object.assign(Object.assign({},e),{type:new D2.Uint64}))]);if(n instanceof Float32Array)return new Oa([(0,lh.makeData)(Object.assign(Object.assign({},e),{type:new D2.Float32}))]);if(n instanceof Float64Array)return new Oa([(0,lh.makeData)(Object.assign(Object.assign({},e),{type:new D2.Float64}))]);throw new Error("Unrecognized input")}}throw new Error("Unrecognized input")}h7.makeVector=age;function eGe(n){return n instanceof lh.Data?[n]:n instanceof Oa?n.data:age(n).data}});var uge=Ae(hP=>{"use strict";m();Object.defineProperty(hP,"__esModule",{value:!0});hP.createIsValidFunction=void 0;var iZ=$M(),tGe=C2();function nGe(n){if(!n||n.length<=0)return function(i){return!0};let e="",t=n.filter(r=>r===r);return t.length>0&&(e=`
    switch (x) {${t.map(r=>`
        case ${rGe(r)}:`).join("")}
            return false;
    }`),n.length!==t.length&&(e=`if (x !== x) return false;
${e}`),new Function("x",`${e}
return true;`)}hP.createIsValidFunction=nGe;function rGe(n){return typeof n!="bigint"?(0,iZ.valueToString)(n):tGe.BigIntAvailable?`${(0,iZ.valueToString)(n)}n`:`"${(0,iZ.valueToString)(n)}"`}});var G_=Ae(R2=>{"use strict";m();Object.defineProperty(R2,"__esModule",{value:!0});R2.OffsetsBufferBuilder=R2.BitmapBufferBuilder=R2.DataBufferBuilder=R2.BufferBuilder=void 0;var lge=Qf(),sZ=(n,e)=>(n*e+63&~63||64)/e,iGe=(n,e=0)=>n.length>=e?n.subarray(0,e):(0,lge.memcpy)(new n.constructor(e),n,0),pP=class{constructor(e,t=1){this.buffer=e,this.stride=t,this.BYTES_PER_ELEMENT=e.BYTES_PER_ELEMENT,this.ArrayType=e.constructor,this._resize(this.length=Math.trunc(e.length/t))}get byteLength(){return Math.trunc(this.length*this.stride*this.BYTES_PER_ELEMENT)}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(e,t){return this}append(e){return this.set(this.length,e)}reserve(e){if(e>0){this.length+=e;let t=this.stride,r=this.length*t,i=this.buffer.length;r>=i&&this._resize(i===0?sZ(r*1,this.BYTES_PER_ELEMENT):sZ(r*2,this.BYTES_PER_ELEMENT))}return this}flush(e=this.length){e=sZ(e*this.stride,this.BYTES_PER_ELEMENT);let t=iGe(this.buffer,e);return this.clear(),t}clear(){return this.length=0,this._resize(0),this}_resize(e){return this.buffer=(0,lge.memcpy)(new this.ArrayType(e),this.buffer)}};R2.BufferBuilder=pP;pP.prototype.offset=0;var mP=class extends pP{last(){return this.get(this.length-1)}get(e){return this.buffer[e]}set(e,t){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=t,this}};R2.DataBufferBuilder=mP;var cge=class extends mP{constructor(e=new Uint8Array(0)){super(e,1/8);this.numValid=0}get numInvalid(){return this.length-this.numValid}get(e){return this.buffer[e>>3]>>e%8&1}set(e,t){let{buffer:r}=this.reserve(e-this.length+1),i=e>>3,s=e%8,o=r[i]>>s&1;return t?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}};R2.BitmapBufferBuilder=cge;var fge=class extends mP{constructor(e=new Int32Array(1)){super(e,1)}append(e){return this.set(this.length-1,e)}set(e,t){let r=this.length-1,i=this.reserve(e-r+1).buffer;return r<e++&&i.fill(i[r],r,e),i[e]=i[e-1]+t,this}flush(e=this.length-1){return e>this.length&&this.set(e-1,0),super.flush(e+1)}};R2.OffsetsBufferBuilder=fge});var Jl=Ae(h5=>{"use strict";m();Object.defineProperty(h5,"__esModule",{value:!0});h5.VariableWidthBuilder=h5.FixedWidthBuilder=h5.Builder=void 0;var sGe=vd(),oGe=A2(),dge=iF(),aGe=su(),uGe=uge(),oZ=G_(),O2=class{constructor({type:e,nullValues:t}){this.length=0,this.finished=!1,this.type=e,this.children=[],this.nullValues=t,this.stride=(0,aGe.strideForType)(e),this._nulls=new oZ.BitmapBufferBuilder,t&&t.length>0&&(this._isValid=(0,uGe.createIsValidFunction)(t))}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e){throw new Error('"throughDOM" not available in this environment')}toVector(){return new sGe.Vector([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let e=0,{_offsets:t,_values:r,_nulls:i,_typeIds:s,children:o}=this;return t&&(e+=t.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),o.reduce((a,l)=>a+l.byteLength,e)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce((t,r)=>t+r.reservedByteLength,e)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(e){return this.set(this.length,e)}isValid(e){return this._isValid(e)}set(e,t){return this.setValid(e,this.isValid(t))&&this.setValue(e,t),this}setValue(e,t){this._setValue(this,e,t)}setValid(e,t){return this.length=this._nulls.set(e,+t).length,t}addChild(e,t=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(e){return this.children[e]||null}flush(){let e,t,r,i,{type:s,length:o,nullCount:a,_typeIds:l,_offsets:f,_values:p,_nulls:_}=this;(t=l==null?void 0:l.flush(o))?i=f==null?void 0:f.flush(o):(i=f==null?void 0:f.flush(o))?e=p==null?void 0:p.flush(f.last()):e=p==null?void 0:p.flush(o),a>0&&(r=_==null?void 0:_.flush(o));let b=this.children.map(R=>R.flush());return this.clear(),(0,oGe.makeData)({type:s,length:o,nullCount:a,children:b,child:b[0],data:e,typeIds:t,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(let e of this.children)e.finish();return this}clear(){var e,t,r,i;this.length=0,(e=this._nulls)===null||e===void 0||e.clear(),(t=this._values)===null||t===void 0||t.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(let s of this.children)s.clear();return this}};h5.Builder=O2;O2.prototype.length=1;O2.prototype.stride=1;O2.prototype.children=null;O2.prototype.finished=!1;O2.prototype.nullValues=null;O2.prototype._isValid=()=>!0;var hge=class extends O2{constructor(e){super(e);this._values=new oZ.DataBufferBuilder(new this.ArrayType(0),this.stride)}setValue(e,t){let r=this._values;return r.reserve(e-r.length+1),super.setValue(e,t)}};h5.FixedWidthBuilder=hge;var pge=class extends O2{constructor(e){super(e);this._pendingLength=0,this._offsets=new oZ.OffsetsBufferBuilder}setValue(e,t){let r=this._pending||(this._pending=new Map),i=r.get(e);i&&(this._pendingLength-=i.length),this._pendingLength+=t instanceof dge.MapRow?t[dge.kKeys].length:t.length,r.set(e,t)}setValid(e,t){return super.setValid(e,t)?!0:((this._pending||(this._pending=new Map)).set(e,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let e=this._pending,t=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,t),this}};h5.VariableWidthBuilder=pge});var aZ=Ae(xP=>{"use strict";m();Object.defineProperty(xP,"__esModule",{value:!0});xP.Block=void 0;var mge=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,t,r,i){return e.prep(8,24),e.writeInt64(i),e.pad(4),e.writeInt32(r),e.writeInt64(t),e.offset()}};xP.Block=mge});var Y_=Ae(N2=>{"use strict";m();Object.defineProperty(N2,"__esModule",{value:!0});N2.SIZE_PREFIX_LENGTH=N2.FILE_IDENTIFIER_LENGTH=N2.SIZEOF_INT=N2.SIZEOF_SHORT=void 0;N2.SIZEOF_SHORT=2;N2.SIZEOF_INT=4;N2.FILE_IDENTIFIER_LENGTH=4;N2.SIZE_PREFIX_LENGTH=4});var uZ=Ae(Wp=>{"use strict";m();Object.defineProperty(Wp,"__esModule",{value:!0});Wp.isLittleEndian=Wp.float64=Wp.float32=Wp.int32=void 0;Wp.int32=new Int32Array(2);Wp.float32=new Float32Array(Wp.int32.buffer);Wp.float64=new Float64Array(Wp.int32.buffer);Wp.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1});var gP=Ae(p7=>{"use strict";m();Object.defineProperty(p7,"__esModule",{value:!0});p7.Long=p7.createLong=void 0;function lGe(n,e){return xge.create(n,e)}p7.createLong=lGe;var xge=function(){function n(e,t){this.low=e|0,this.high=t|0}return n.create=function(e,t){return e==0&&t==0?n.ZERO:new n(e,t)},n.prototype.toFloat64=function(){return(this.low>>>0)+this.high*4294967296},n.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},n.ZERO=new n(0,0),n}();p7.Long=xge});var lZ=Ae(uF=>{"use strict";m();Object.defineProperty(uF,"__esModule",{value:!0});uF.Encoding=void 0;var cGe;(function(n){n[n.UTF8_BYTES=1]="UTF8_BYTES",n[n.UTF16_STRING=2]="UTF16_STRING"})(cGe=uF.Encoding||(uF.Encoding={}))});var fZ=Ae(yP=>{"use strict";m();Object.defineProperty(yP,"__esModule",{value:!0});yP.ByteBuffer=void 0;var L2=Y_(),cZ=gP(),ch=uZ(),fGe=lZ(),dGe=function(){function n(e){this.bytes_=e,this.position_=0}return n.allocate=function(e){return new n(new Uint8Array(e))},n.prototype.clear=function(){this.position_=0},n.prototype.bytes=function(){return this.bytes_},n.prototype.position=function(){return this.position_},n.prototype.setPosition=function(e){this.position_=e},n.prototype.capacity=function(){return this.bytes_.length},n.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},n.prototype.readUint8=function(e){return this.bytes_[e]},n.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},n.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},n.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},n.prototype.readUint32=function(e){return this.readInt32(e)>>>0},n.prototype.readInt64=function(e){return new cZ.Long(this.readInt32(e),this.readInt32(e+4))},n.prototype.readUint64=function(e){return new cZ.Long(this.readUint32(e),this.readUint32(e+4))},n.prototype.readFloat32=function(e){return ch.int32[0]=this.readInt32(e),ch.float32[0]},n.prototype.readFloat64=function(e){return ch.int32[ch.isLittleEndian?0:1]=this.readInt32(e),ch.int32[ch.isLittleEndian?1:0]=this.readInt32(e+4),ch.float64[0]},n.prototype.writeInt8=function(e,t){this.bytes_[e]=t},n.prototype.writeUint8=function(e,t){this.bytes_[e]=t},n.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},n.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},n.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},n.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},n.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},n.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},n.prototype.writeFloat32=function(e,t){ch.float32[0]=t,this.writeInt32(e,ch.int32[0])},n.prototype.writeFloat64=function(e,t){ch.float64[0]=t,this.writeInt32(e,ch.int32[ch.isLittleEndian?0:1]),this.writeInt32(e+4,ch.int32[ch.isLittleEndian?1:0])},n.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+L2.SIZEOF_INT+L2.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<L2.FILE_IDENTIFIER_LENGTH;t++)e+=String.fromCharCode(this.readInt8(this.position_+L2.SIZEOF_INT+t));return e},n.prototype.__offset=function(e,t){var r=e-this.readInt32(e);return t<this.readInt16(r)?this.readInt16(r+t):0},n.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},n.prototype.__string=function(e,t){e+=this.readInt32(e);var r=this.readInt32(e),i="",s=0;if(e+=L2.SIZEOF_INT,t===fGe.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+r);for(;s<r;){var o=void 0,a=this.readUint8(e+s++);if(a<192)o=a;else{var l=this.readUint8(e+s++);if(a<224)o=(a&31)<<6|l&63;else{var f=this.readUint8(e+s++);if(a<240)o=(a&15)<<12|(l&63)<<6|f&63;else{var p=this.readUint8(e+s++);o=(a&7)<<18|(l&63)<<12|(f&63)<<6|p&63}}}o<65536?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode((o>>10)+55296,(o&(1<<10)-1)+56320))}return i},n.prototype.__union_with_string=function(e,t){return typeof e=="string"?this.__string(t):this.__union(e,t)},n.prototype.__indirect=function(e){return e+this.readInt32(e)},n.prototype.__vector=function(e){return e+this.readInt32(e)+L2.SIZEOF_INT},n.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},n.prototype.__has_identifier=function(e){if(e.length!=L2.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+L2.FILE_IDENTIFIER_LENGTH);for(var t=0;t<L2.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position()+L2.SIZEOF_INT+t))return!1;return!0},n.prototype.createLong=function(e,t){return cZ.Long.create(e,t)},n.prototype.createScalarList=function(e,t){for(var r=[],i=0;i<t;++i)e(i)!==null&&r.push(e(i));return r},n.prototype.createObjList=function(e,t){for(var r=[],i=0;i<t;++i){var s=e(i);s!==null&&r.push(s.unpack())}return r},n}();yP.ByteBuffer=dGe});var yge=Ae(vP=>{"use strict";m();Object.defineProperty(vP,"__esModule",{value:!0});vP.Builder=void 0;var gge=fZ(),Wh=Y_(),hGe=gP(),pGe=function(){function n(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;var t;e?t=e:t=1024,this.bb=gge.ByteBuffer.allocate(t),this.space=t}return n.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null},n.prototype.forceDefaults=function(e){this.force_defaults=e},n.prototype.dataBuffer=function(){return this.bb},n.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},n.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var r=~(this.bb.capacity()-this.space+t)+1&e-1;this.space<r+e+t;){var i=this.bb.capacity();this.bb=n.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)},n.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},n.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},n.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},n.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},n.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},n.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},n.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},n.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},n.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},n.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},n.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},n.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},n.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},n.prototype.addFieldInt8=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt8(t),this.slot(e))},n.prototype.addFieldInt16=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt16(t),this.slot(e))},n.prototype.addFieldInt32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt32(t),this.slot(e))},n.prototype.addFieldInt64=function(e,t,r){(this.force_defaults||!t.equals(r))&&(this.addInt64(t),this.slot(e))},n.prototype.addFieldFloat32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat32(t),this.slot(e))},n.prototype.addFieldFloat64=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat64(t),this.slot(e))},n.prototype.addFieldOffset=function(e,t,r){(this.force_defaults||t!=r)&&(this.addOffset(t),this.slot(e))},n.prototype.addFieldStruct=function(e,t,r){t!=r&&(this.nested(t),this.slot(e))},n.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},n.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},n.prototype.slot=function(e){this.vtable!==null&&(this.vtable[e]=this.offset())},n.prototype.offset=function(){return this.bb.capacity()-this.space},n.growByteBuffer=function(e){var t=e.capacity();if(t&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var r=t<<1,i=gge.ByteBuffer.allocate(r);return i.setPosition(r-t),i.bytes().set(e.bytes(),r-t),i},n.prototype.addOffset=function(e){this.prep(Wh.SIZEOF_INT,0),this.writeInt32(this.offset()-e+Wh.SIZEOF_INT)},n.prototype.startObject=function(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},n.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&this.vtable[t]==0;t--);for(var r=t+1;t>=0;t--)this.addInt16(this.vtable[t]!=0?e-this.vtable[t]:0);var i=2;this.addInt16(e-this.object_start);var s=(r+i)*Wh.SIZEOF_SHORT;this.addInt16(s);var o=0,a=this.space;e:for(t=0;t<this.vtables.length;t++){var l=this.bb.capacity()-this.vtables[t];if(s==this.bb.readInt16(l)){for(var f=Wh.SIZEOF_SHORT;f<s;f+=Wh.SIZEOF_SHORT)if(this.bb.readInt16(a+f)!=this.bb.readInt16(l+f))continue e;o=this.vtables[t];break}}return o?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,o-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},n.prototype.finish=function(e,t,r){var i=r?Wh.SIZE_PREFIX_LENGTH:0;if(t){var s=t;if(this.prep(this.minalign,Wh.SIZEOF_INT+Wh.FILE_IDENTIFIER_LENGTH+i),s.length!=Wh.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+Wh.FILE_IDENTIFIER_LENGTH);for(var o=Wh.FILE_IDENTIFIER_LENGTH-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,Wh.SIZEOF_INT+i),this.addOffset(e),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},n.prototype.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},n.prototype.requiredField=function(e,t){var r=this.bb.capacity()-e,i=r-this.bb.readInt32(r),s=this.bb.readInt16(i+t)!=0;if(!s)throw new Error("FlatBuffers: field "+t+" must be set")},n.prototype.startVector=function(e,t,r){this.notNested(),this.vector_num_elems=t,this.prep(Wh.SIZEOF_INT,e*t),this.prep(r,e*t)},n.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},n.prototype.createSharedString=function(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);var t=this.createString(e);return this.string_maps.set(e,t),t},n.prototype.createString=function(e){if(!e)return 0;var t;if(e instanceof Uint8Array)t=e;else{t=[];for(var r=0;r<e.length;){var i=void 0,s=e.charCodeAt(r++);if(s<55296||s>=56320)i=s;else{var o=e.charCodeAt(r++);i=(s<<10)+o+(65536-(55296<<10)-56320)}i<128?t.push(i):(i<2048?t.push(i>>6&31|192):(i<65536?t.push(i>>12&15|224):t.push(i>>18&7|240,i>>12&63|128),t.push(i>>6&63|128)),t.push(i&63|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);for(var r=0,a=this.space,l=this.bb.bytes();r<t.length;r++)l[a++]=t[r];return this.endVector()},n.prototype.createLong=function(e,t){return hGe.Long.create(e,t)},n.prototype.createObjectOffset=function(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)},n.prototype.createObjectOffsetList=function(e){for(var t=[],r=0;r<e.length;++r){var i=e[r];if(i!==null)t.push(this.createObjectOffset(i));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return t},n.prototype.createStructOffsetList=function(e,t){return t(this,e.length),this.createObjectOffsetList(e),this.endVector()},n}();vP.Builder=pGe});var wo=Ae(qa=>{"use strict";m();Object.defineProperty(qa,"__esModule",{value:!0});qa.ByteBuffer=qa.Builder=qa.Encoding=qa.createLong=qa.Long=qa.isLittleEndian=qa.float64=qa.float32=qa.int32=qa.SIZE_PREFIX_LENGTH=qa.FILE_IDENTIFIER_LENGTH=qa.SIZEOF_INT=qa.SIZEOF_SHORT=void 0;var mGe=Y_();Object.defineProperty(qa,"SIZEOF_SHORT",{enumerable:!0,get:function(){return mGe.SIZEOF_SHORT}});var xGe=Y_();Object.defineProperty(qa,"SIZEOF_INT",{enumerable:!0,get:function(){return xGe.SIZEOF_INT}});var gGe=Y_();Object.defineProperty(qa,"FILE_IDENTIFIER_LENGTH",{enumerable:!0,get:function(){return gGe.FILE_IDENTIFIER_LENGTH}});var yGe=Y_();Object.defineProperty(qa,"SIZE_PREFIX_LENGTH",{enumerable:!0,get:function(){return yGe.SIZE_PREFIX_LENGTH}});var _P=uZ();Object.defineProperty(qa,"int32",{enumerable:!0,get:function(){return _P.int32}});Object.defineProperty(qa,"float32",{enumerable:!0,get:function(){return _P.float32}});Object.defineProperty(qa,"float64",{enumerable:!0,get:function(){return _P.float64}});Object.defineProperty(qa,"isLittleEndian",{enumerable:!0,get:function(){return _P.isLittleEndian}});var vge=gP();Object.defineProperty(qa,"Long",{enumerable:!0,get:function(){return vge.Long}});Object.defineProperty(qa,"createLong",{enumerable:!0,get:function(){return vge.createLong}});var vGe=lZ();Object.defineProperty(qa,"Encoding",{enumerable:!0,get:function(){return vGe.Encoding}});var _Ge=yge();Object.defineProperty(qa,"Builder",{enumerable:!0,get:function(){return _Ge.Builder}});var EGe=fZ();Object.defineProperty(qa,"ByteBuffer",{enumerable:!0,get:function(){return EGe.ByteBuffer}})});var m7=Ae(EP=>{"use strict";m();Object.defineProperty(EP,"__esModule",{value:!0});EP.KeyValue=void 0;var bGe=hs(),SGe=bGe.__importStar(wo()),Ng=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKeyValue(e,t){return(t||new Ng).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,t){return e.setPosition(e.position()+SGe.SIZE_PREFIX_LENGTH),(t||new Ng).__init(e.readInt32(e.position())+e.position(),e)}key(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}value(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,t){e.addFieldOffset(0,t,0)}static addValue(e,t){e.addFieldOffset(1,t,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,t,r){return Ng.startKeyValue(e),Ng.addKey(e,t),Ng.addValue(e,r),Ng.endKeyValue(e)}};EP.KeyValue=Ng});var dZ=Ae(lF=>{"use strict";m();Object.defineProperty(lF,"__esModule",{value:!0});lF.MetadataVersion=void 0;var CGe;(function(n){n[n.V1=0]="V1",n[n.V2=1]="V2",n[n.V3=2]="V3",n[n.V4=3]="V4",n[n.V5=4]="V5"})(CGe=lF.MetadataVersion||(lF.MetadataVersion={}))});var hZ=Ae(cF=>{"use strict";m();Object.defineProperty(cF,"__esModule",{value:!0});cF.Endianness=void 0;var wGe;(function(n){n[n.Little=0]="Little",n[n.Big=1]="Big"})(wGe=cF.Endianness||(cF.Endianness={}))});var _ge=Ae(fF=>{"use strict";m();Object.defineProperty(fF,"__esModule",{value:!0});fF.DictionaryKind=void 0;var AGe;(function(n){n[n.DenseArray=0]="DenseArray"})(AGe=fF.DictionaryKind||(fF.DictionaryKind={}))});var p5=Ae(bP=>{"use strict";m();Object.defineProperty(bP,"__esModule",{value:!0});bP.Int=void 0;var TGe=hs(),FGe=TGe.__importStar(wo()),Lg=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInt(e,t){return(t||new Lg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,t){return e.setPosition(e.position()+FGe.SIZE_PREFIX_LENGTH),(t||new Lg).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){let e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,t){e.addFieldInt32(0,t,0)}static addIsSigned(e,t){e.addFieldInt8(1,+t,0)}static endInt(e){return e.endObject()}static createInt(e,t,r){return Lg.startInt(e),Lg.addBitWidth(e,t),Lg.addIsSigned(e,r),Lg.endInt(e)}};bP.Int=Lg});var pZ=Ae(SP=>{"use strict";m();Object.defineProperty(SP,"__esModule",{value:!0});SP.DictionaryEncoding=void 0;var DGe=hs(),RGe=DGe.__importStar(wo()),Ege=_ge(),OGe=p5(),dF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryEncoding(e,t){return(t||new dF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,t){return e.setPosition(e.position()+RGe.SIZE_PREFIX_LENGTH),(t||new dF).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}indexType(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new OGe.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isOrdered(){let e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):Ege.DictionaryKind.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addIndexType(e,t){e.addFieldOffset(1,t,0)}static addIsOrdered(e,t){e.addFieldInt8(2,+t,0)}static addDictionaryKind(e,t){e.addFieldInt16(3,t,Ege.DictionaryKind.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}};SP.DictionaryEncoding=dF});var mZ=Ae(CP=>{"use strict";m();Object.defineProperty(CP,"__esModule",{value:!0});CP.Binary=void 0;var NGe=hs(),LGe=NGe.__importStar(wo()),K_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBinary(e,t){return(t||new K_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,t){return e.setPosition(e.position()+LGe.SIZE_PREFIX_LENGTH),(t||new K_).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return K_.startBinary(e),K_.endBinary(e)}};CP.Binary=K_});var xZ=Ae(wP=>{"use strict";m();Object.defineProperty(wP,"__esModule",{value:!0});wP.Bool=void 0;var kGe=hs(),IGe=kGe.__importStar(wo()),J_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBool(e,t){return(t||new J_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,t){return e.setPosition(e.position()+IGe.SIZE_PREFIX_LENGTH),(t||new J_).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return J_.startBool(e),J_.endBool(e)}};wP.Bool=J_});var bge=Ae(hF=>{"use strict";m();Object.defineProperty(hF,"__esModule",{value:!0});hF.DateUnit=void 0;var MGe;(function(n){n[n.DAY=0]="DAY",n[n.MILLISECOND=1]="MILLISECOND"})(MGe=hF.DateUnit||(hF.DateUnit={}))});var TP=Ae(AP=>{"use strict";m();Object.defineProperty(AP,"__esModule",{value:!0});AP.Date=void 0;var PGe=hs(),BGe=PGe.__importStar(wo()),Sge=bge(),m5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDate(e,t){return(t||new m5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,t){return e.setPosition(e.position()+BGe.SIZE_PREFIX_LENGTH),(t||new m5).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Sge.DateUnit.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,Sge.DateUnit.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,t){return m5.startDate(e),m5.addUnit(e,t),m5.endDate(e)}};AP.Date=m5});var DP=Ae(FP=>{"use strict";m();Object.defineProperty(FP,"__esModule",{value:!0});FP.Decimal=void 0;var jGe=hs(),qGe=jGe.__importStar(wo()),k2=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDecimal(e,t){return(t||new k2).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,t){return e.setPosition(e.position()+qGe.SIZE_PREFIX_LENGTH),(t||new k2).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,t){e.addFieldInt32(0,t,0)}static addScale(e,t){e.addFieldInt32(1,t,0)}static addBitWidth(e,t){e.addFieldInt32(2,t,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,t,r,i){return k2.startDecimal(e),k2.addPrecision(e,t),k2.addScale(e,r),k2.addBitWidth(e,i),k2.endDecimal(e)}};FP.Decimal=k2});var RP=Ae(pF=>{"use strict";m();Object.defineProperty(pF,"__esModule",{value:!0});pF.TimeUnit=void 0;var UGe;(function(n){n[n.SECOND=0]="SECOND",n[n.MILLISECOND=1]="MILLISECOND",n[n.MICROSECOND=2]="MICROSECOND",n[n.NANOSECOND=3]="NANOSECOND"})(UGe=pF.TimeUnit||(pF.TimeUnit={}))});var wge=Ae(OP=>{"use strict";m();Object.defineProperty(OP,"__esModule",{value:!0});OP.Duration=void 0;var $Ge=hs(),zGe=$Ge.__importStar(wo()),Cge=RP(),x5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDuration(e,t){return(t||new x5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,t){return e.setPosition(e.position()+zGe.SIZE_PREFIX_LENGTH),(t||new x5).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Cge.TimeUnit.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,Cge.TimeUnit.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,t){return x5.startDuration(e),x5.addUnit(e,t),x5.endDuration(e)}};OP.Duration=x5});var LP=Ae(NP=>{"use strict";m();Object.defineProperty(NP,"__esModule",{value:!0});NP.FixedSizeBinary=void 0;var HGe=hs(),VGe=HGe.__importStar(wo()),g5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeBinary(e,t){return(t||new g5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,t){return e.setPosition(e.position()+VGe.SIZE_PREFIX_LENGTH),(t||new g5).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,t){return g5.startFixedSizeBinary(e),g5.addByteWidth(e,t),g5.endFixedSizeBinary(e)}};NP.FixedSizeBinary=g5});var IP=Ae(kP=>{"use strict";m();Object.defineProperty(kP,"__esModule",{value:!0});kP.FixedSizeList=void 0;var WGe=hs(),QGe=WGe.__importStar(wo()),y5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeList(e,t){return(t||new y5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,t){return e.setPosition(e.position()+QGe.SIZE_PREFIX_LENGTH),(t||new y5).__init(e.readInt32(e.position())+e.position(),e)}listSize(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,t){return y5.startFixedSizeList(e),y5.addListSize(e,t),y5.endFixedSizeList(e)}};kP.FixedSizeList=y5});var Age=Ae(mF=>{"use strict";m();Object.defineProperty(mF,"__esModule",{value:!0});mF.Precision=void 0;var GGe;(function(n){n[n.HALF=0]="HALF",n[n.SINGLE=1]="SINGLE",n[n.DOUBLE=2]="DOUBLE"})(GGe=mF.Precision||(mF.Precision={}))});var PP=Ae(MP=>{"use strict";m();Object.defineProperty(MP,"__esModule",{value:!0});MP.FloatingPoint=void 0;var YGe=hs(),KGe=YGe.__importStar(wo()),Tge=Age(),v5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFloatingPoint(e,t){return(t||new v5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,t){return e.setPosition(e.position()+KGe.SIZE_PREFIX_LENGTH),(t||new v5).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Tge.Precision.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,t){e.addFieldInt16(0,t,Tge.Precision.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,t){return v5.startFloatingPoint(e),v5.addPrecision(e,t),v5.endFloatingPoint(e)}};MP.FloatingPoint=v5});var Fge=Ae(xF=>{"use strict";m();Object.defineProperty(xF,"__esModule",{value:!0});xF.IntervalUnit=void 0;var JGe;(function(n){n[n.YEAR_MONTH=0]="YEAR_MONTH",n[n.DAY_TIME=1]="DAY_TIME",n[n.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(JGe=xF.IntervalUnit||(xF.IntervalUnit={}))});var jP=Ae(BP=>{"use strict";m();Object.defineProperty(BP,"__esModule",{value:!0});BP.Interval=void 0;var XGe=hs(),ZGe=XGe.__importStar(wo()),Dge=Fge(),_5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInterval(e,t){return(t||new _5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,t){return e.setPosition(e.position()+ZGe.SIZE_PREFIX_LENGTH),(t||new _5).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Dge.IntervalUnit.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,Dge.IntervalUnit.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,t){return _5.startInterval(e),_5.addUnit(e,t),_5.endInterval(e)}};BP.Interval=_5});var Rge=Ae(qP=>{"use strict";m();Object.defineProperty(qP,"__esModule",{value:!0});qP.LargeBinary=void 0;var eYe=hs(),tYe=eYe.__importStar(wo()),X_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeBinary(e,t){return(t||new X_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,t){return e.setPosition(e.position()+tYe.SIZE_PREFIX_LENGTH),(t||new X_).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return X_.startLargeBinary(e),X_.endLargeBinary(e)}};qP.LargeBinary=X_});var Oge=Ae(UP=>{"use strict";m();Object.defineProperty(UP,"__esModule",{value:!0});UP.LargeList=void 0;var nYe=hs(),rYe=nYe.__importStar(wo()),Z_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeList(e,t){return(t||new Z_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeList(e,t){return e.setPosition(e.position()+rYe.SIZE_PREFIX_LENGTH),(t||new Z_).__init(e.readInt32(e.position())+e.position(),e)}static startLargeList(e){e.startObject(0)}static endLargeList(e){return e.endObject()}static createLargeList(e){return Z_.startLargeList(e),Z_.endLargeList(e)}};UP.LargeList=Z_});var Nge=Ae($P=>{"use strict";m();Object.defineProperty($P,"__esModule",{value:!0});$P.LargeUtf8=void 0;var iYe=hs(),sYe=iYe.__importStar(wo()),e6=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeUtf8(e,t){return(t||new e6).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,t){return e.setPosition(e.position()+sYe.SIZE_PREFIX_LENGTH),(t||new e6).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return e6.startLargeUtf8(e),e6.endLargeUtf8(e)}};$P.LargeUtf8=e6});var gZ=Ae(zP=>{"use strict";m();Object.defineProperty(zP,"__esModule",{value:!0});zP.List=void 0;var oYe=hs(),aYe=oYe.__importStar(wo()),t6=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsList(e,t){return(t||new t6).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,t){return e.setPosition(e.position()+aYe.SIZE_PREFIX_LENGTH),(t||new t6).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return t6.startList(e),t6.endList(e)}};zP.List=t6});var VP=Ae(HP=>{"use strict";m();Object.defineProperty(HP,"__esModule",{value:!0});HP.Map=void 0;var uYe=hs(),lYe=uYe.__importStar(wo()),E5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMap(e,t){return(t||new E5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,t){return e.setPosition(e.position()+lYe.SIZE_PREFIX_LENGTH),(t||new E5).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){let e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,t){e.addFieldInt8(0,+t,0)}static endMap(e){return e.endObject()}static createMap(e,t){return E5.startMap(e),E5.addKeysSorted(e,t),E5.endMap(e)}};HP.Map=E5});var yZ=Ae(WP=>{"use strict";m();Object.defineProperty(WP,"__esModule",{value:!0});WP.Null=void 0;var cYe=hs(),fYe=cYe.__importStar(wo()),n6=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNull(e,t){return(t||new n6).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,t){return e.setPosition(e.position()+fYe.SIZE_PREFIX_LENGTH),(t||new n6).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return n6.startNull(e),n6.endNull(e)}};WP.Null=n6});var vZ=Ae(QP=>{"use strict";m();Object.defineProperty(QP,"__esModule",{value:!0});QP.Struct_=void 0;var dYe=hs(),hYe=dYe.__importStar(wo()),r6=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsStruct_(e,t){return(t||new r6).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,t){return e.setPosition(e.position()+hYe.SIZE_PREFIX_LENGTH),(t||new r6).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return r6.startStruct_(e),r6.endStruct_(e)}};QP.Struct_=r6});var YP=Ae(GP=>{"use strict";m();Object.defineProperty(GP,"__esModule",{value:!0});GP.Time=void 0;var pYe=hs(),mYe=pYe.__importStar(wo()),Lge=RP(),kg=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTime(e,t){return(t||new kg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,t){return e.setPosition(e.position()+mYe.SIZE_PREFIX_LENGTH),(t||new kg).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Lge.TimeUnit.MILLISECOND}bitWidth(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,Lge.TimeUnit.MILLISECOND)}static addBitWidth(e,t){e.addFieldInt32(1,t,32)}static endTime(e){return e.endObject()}static createTime(e,t,r){return kg.startTime(e),kg.addUnit(e,t),kg.addBitWidth(e,r),kg.endTime(e)}};GP.Time=kg});var JP=Ae(KP=>{"use strict";m();Object.defineProperty(KP,"__esModule",{value:!0});KP.Timestamp=void 0;var xYe=hs(),gYe=xYe.__importStar(wo()),kge=RP(),Ig=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTimestamp(e,t){return(t||new Ig).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,t){return e.setPosition(e.position()+gYe.SIZE_PREFIX_LENGTH),(t||new Ig).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):kge.TimeUnit.SECOND}timezone(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,kge.TimeUnit.SECOND)}static addTimezone(e,t){e.addFieldOffset(1,t,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,t,r){return Ig.startTimestamp(e),Ig.addUnit(e,t),Ig.addTimezone(e,r),Ig.endTimestamp(e)}};KP.Timestamp=Ig});var Ige=Ae(gF=>{"use strict";m();Object.defineProperty(gF,"__esModule",{value:!0});gF.UnionMode=void 0;var yYe;(function(n){n[n.Sparse=0]="Sparse",n[n.Dense=1]="Dense"})(yYe=gF.UnionMode||(gF.UnionMode={}))});var ZP=Ae(XP=>{"use strict";m();Object.defineProperty(XP,"__esModule",{value:!0});XP.Union=void 0;var vYe=hs(),_Ye=vYe.__importStar(wo()),Mge=Ige(),Mg=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUnion(e,t){return(t||new Mg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,t){return e.setPosition(e.position()+_Ye.SIZE_PREFIX_LENGTH),(t||new Mg).__init(e.readInt32(e.position())+e.position(),e)}mode(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Mge.UnionMode.Sparse}typeIds(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+e*4):0}typeIdsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){let e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,t){e.addFieldInt16(0,t,Mge.UnionMode.Sparse)}static addTypeIds(e,t){e.addFieldOffset(1,t,0)}static createTypeIdsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addInt32(t[r]);return e.endVector()}static startTypeIdsVector(e,t){e.startVector(4,t,4)}static endUnion(e){return e.endObject()}static createUnion(e,t,r){return Mg.startUnion(e),Mg.addMode(e,t),Mg.addTypeIds(e,r),Mg.endUnion(e)}};XP.Union=Mg});var _Z=Ae(eB=>{"use strict";m();Object.defineProperty(eB,"__esModule",{value:!0});eB.Utf8=void 0;var EYe=hs(),bYe=EYe.__importStar(wo()),i6=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUtf8(e,t){return(t||new i6).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,t){return e.setPosition(e.position()+bYe.SIZE_PREFIX_LENGTH),(t||new i6).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return i6.startUtf8(e),i6.endUtf8(e)}};eB.Utf8=i6});var x7=Ae(Pg=>{"use strict";m();Object.defineProperty(Pg,"__esModule",{value:!0});Pg.unionListToType=Pg.unionToType=Pg.Type=void 0;var Pge=mZ(),Bge=xZ(),jge=TP(),qge=DP(),Uge=wge(),$ge=LP(),zge=IP(),Hge=PP(),Vge=p5(),Wge=jP(),Qge=Rge(),Gge=Oge(),Yge=Nge(),Kge=gZ(),Jge=VP(),Xge=yZ(),Zge=vZ(),eye=YP(),tye=JP(),nye=ZP(),rye=_Z(),EZ;(function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.FloatingPoint=3]="FloatingPoint",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct_=13]="Struct_",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Duration=18]="Duration",n[n.LargeBinary=19]="LargeBinary",n[n.LargeUtf8=20]="LargeUtf8",n[n.LargeList=21]="LargeList"})(EZ=Pg.Type||(Pg.Type={}));function SYe(n,e){switch(EZ[n]){case"NONE":return null;case"Null":return e(new Xge.Null);case"Int":return e(new Vge.Int);case"FloatingPoint":return e(new Hge.FloatingPoint);case"Binary":return e(new Pge.Binary);case"Utf8":return e(new rye.Utf8);case"Bool":return e(new Bge.Bool);case"Decimal":return e(new qge.Decimal);case"Date":return e(new jge.Date);case"Time":return e(new eye.Time);case"Timestamp":return e(new tye.Timestamp);case"Interval":return e(new Wge.Interval);case"List":return e(new Kge.List);case"Struct_":return e(new Zge.Struct_);case"Union":return e(new nye.Union);case"FixedSizeBinary":return e(new $ge.FixedSizeBinary);case"FixedSizeList":return e(new zge.FixedSizeList);case"Map":return e(new Jge.Map);case"Duration":return e(new Uge.Duration);case"LargeBinary":return e(new Qge.LargeBinary);case"LargeUtf8":return e(new Yge.LargeUtf8);case"LargeList":return e(new Gge.LargeList);default:return null}}Pg.unionToType=SYe;function CYe(n,e,t){switch(EZ[n]){case"NONE":return null;case"Null":return e(t,new Xge.Null);case"Int":return e(t,new Vge.Int);case"FloatingPoint":return e(t,new Hge.FloatingPoint);case"Binary":return e(t,new Pge.Binary);case"Utf8":return e(t,new rye.Utf8);case"Bool":return e(t,new Bge.Bool);case"Decimal":return e(t,new qge.Decimal);case"Date":return e(t,new jge.Date);case"Time":return e(t,new eye.Time);case"Timestamp":return e(t,new tye.Timestamp);case"Interval":return e(t,new Wge.Interval);case"List":return e(t,new Kge.List);case"Struct_":return e(t,new Zge.Struct_);case"Union":return e(t,new nye.Union);case"FixedSizeBinary":return e(t,new $ge.FixedSizeBinary);case"FixedSizeList":return e(t,new zge.FixedSizeList);case"Map":return e(t,new Jge.Map);case"Duration":return e(t,new Uge.Duration);case"LargeBinary":return e(t,new Qge.LargeBinary);case"LargeUtf8":return e(t,new Yge.LargeUtf8);case"LargeList":return e(t,new Gge.LargeList);default:return null}}Pg.unionListToType=CYe});var bZ=Ae(tB=>{"use strict";m();Object.defineProperty(tB,"__esModule",{value:!0});tB.Field=void 0;var wYe=hs(),AYe=wYe.__importStar(wo()),TYe=pZ(),FYe=m7(),iye=x7(),g7=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsField(e,t){return(t||new g7).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,t){return e.setPosition(e.position()+AYe.SIZE_PREFIX_LENGTH),(t||new g7).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}nullable(){let e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):iye.Type.NONE}type(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__union(e,this.bb_pos+t):null}dictionary(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new TYe.DictionaryEncoding).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}children(e,t){let r=this.bb.__offset(this.bb_pos,14);return r?(t||new g7).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}childrenLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,16);return r?(t||new FYe.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,t){e.addFieldOffset(0,t,0)}static addNullable(e,t){e.addFieldInt8(1,+t,0)}static addTypeType(e,t){e.addFieldInt8(2,t,iye.Type.NONE)}static addType(e,t){e.addFieldOffset(3,t,0)}static addDictionary(e,t){e.addFieldOffset(4,t,0)}static addChildren(e,t){e.addFieldOffset(5,t,0)}static createChildrenVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startChildrenVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(6,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endField(e){return e.endObject()}};tB.Field=g7});var rB=Ae(nB=>{"use strict";m();Object.defineProperty(nB,"__esModule",{value:!0});nB.Schema=void 0;var DYe=hs(),RYe=DYe.__importStar(wo()),sye=hZ(),OYe=bZ(),NYe=m7(),ym=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSchema(e,t){return(t||new ym).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,t){return e.setPosition(e.position()+RYe.SIZE_PREFIX_LENGTH),(t||new ym).__init(e.readInt32(e.position())+e.position(),e)}endianness(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):sye.Endianness.Little}fields(e,t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new OYe.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}fieldsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new NYe.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}featuresLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,t){e.addFieldInt16(0,t,sye.Endianness.Little)}static addFields(e,t){e.addFieldOffset(1,t,0)}static createFieldsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startFieldsVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(2,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static addFeatures(e,t){e.addFieldOffset(3,t,0)}static createFeaturesVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addInt64(t[r]);return e.endVector()}static startFeaturesVector(e,t){e.startVector(8,t,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,t){e.finish(t)}static finishSizePrefixedSchemaBuffer(e,t){e.finish(t,void 0,!0)}static createSchema(e,t,r,i,s){return ym.startSchema(e),ym.addEndianness(e,t),ym.addFields(e,r),ym.addCustomMetadata(e,i),ym.addFeatures(e,s),ym.endSchema(e)}};nB.Schema=ym});var uye=Ae(iB=>{"use strict";m();Object.defineProperty(iB,"__esModule",{value:!0});iB.Footer=void 0;var LYe=hs(),kYe=LYe.__importStar(wo()),oye=aZ(),IYe=m7(),aye=dZ(),MYe=rB(),yF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFooter(e,t){return(t||new yF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,t){return e.setPosition(e.position()+kYe.SIZE_PREFIX_LENGTH),(t||new yF).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):aye.MetadataVersion.V1}schema(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new MYe.Schema).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}dictionaries(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new oye.Block).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}dictionariesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,t){let r=this.bb.__offset(this.bb_pos,10);return r?(t||new oye.Block).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}recordBatchesLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,12);return r?(t||new IYe.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,aye.MetadataVersion.V1)}static addSchema(e,t){e.addFieldOffset(1,t,0)}static addDictionaries(e,t){e.addFieldOffset(2,t,0)}static startDictionariesVector(e,t){e.startVector(24,t,8)}static addRecordBatches(e,t){e.addFieldOffset(3,t,0)}static startRecordBatchesVector(e,t){e.startVector(24,t,8)}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,t){e.finish(t)}static finishSizePrefixedFooterBuffer(e,t){e.finish(t,void 0,!0)}};iB.Footer=yF});var fh=Ae(y7=>{"use strict";m();Object.defineProperty(y7,"__esModule",{value:!0});y7.Field=y7.Schema=void 0;var PYe=su(),Qp=class{constructor(e=[],t,r){this.fields=e||[],this.metadata=t||new Map,r||(r=SZ(e)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,t)=>`${t}: ${e}`).join(", ")} }>`}select(e){let t=new Set(e),r=this.fields.filter(i=>t.has(i.name));return new Qp(r,this.metadata)}selectAt(e){let t=e.map(r=>this.fields[r]).filter(Boolean);return new Qp(t,this.metadata)}assign(...e){let t=e[0]instanceof Qp?e[0]:Array.isArray(e[0])?new Qp(e[0]):new Qp(e),r=[...this.fields],i=sB(sB(new Map,this.metadata),t.metadata),s=t.fields.filter(a=>{let l=r.findIndex(f=>f.name===a.name);return~l?(r[l]=a.clone({metadata:sB(sB(new Map,r[l].metadata),a.metadata)}))&&!1:!0}),o=SZ(s,new Map);return new Qp([...r,...s],i,new Map([...this.dictionaries,...o]))}};y7.Schema=Qp;Qp.prototype.fields=null;Qp.prototype.metadata=null;Qp.prototype.dictionaries=null;var Bg=class{constructor(e,t,r=!1,i){this.name=e,this.type=t,this.nullable=r,this.metadata=i||new Map}static new(...e){let[t,r,i,s]=e;return e[0]&&typeof e[0]=="object"&&({name:t}=e[0],r===void 0&&(r=e[0].type),i===void 0&&(i=e[0].nullable),s===void 0&&(s=e[0].metadata)),new Bg(`${t}`,r,i,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[t,r,i,s]=e;return!e[0]||typeof e[0]!="object"?[t=this.name,r=this.type,i=this.nullable,s=this.metadata]=e:{name:t=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=e[0],Bg.new(t,r,i,s)}};y7.Field=Bg;Bg.prototype.type=null;Bg.prototype.name=null;Bg.prototype.nullable=null;Bg.prototype.metadata=null;function sB(n,e){return new Map([...n||new Map,...e||new Map])}function SZ(n,e=new Map){for(let t=-1,r=n.length;++t<r;){let s=n[t].type;if(PYe.DataType.isDictionary(s)){if(!e.has(s.id))e.set(s.id,s.dictionary);else if(e.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&SZ(s.children,e)}return e}});var AZ=Ae(v7=>{"use strict";m();Object.defineProperty(v7,"__esModule",{value:!0});v7.FileBlock=v7.Footer=void 0;var BYe=hs(),jYe=aZ(),I2=uye(),CZ=BYe.__importStar(wo()),lye=CZ.Long,qYe=CZ.Builder,UYe=CZ.ByteBuffer,cye=fh(),fye=kl(),$Ye=Qf(),wZ=class{constructor(e,t=fye.MetadataVersion.V4,r,i){this.schema=e,this.version=t,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}static decode(e){e=new UYe((0,$Ye.toUint8Array)(e));let t=I2.Footer.getRootAsFooter(e),r=cye.Schema.decode(t.schema());return new dye(r,t)}static encode(e){let t=new qYe,r=cye.Schema.encode(t,e.schema);I2.Footer.startRecordBatchesVector(t,e.numRecordBatches);for(let o of[...e.recordBatches()].slice().reverse())b5.encode(t,o);let i=t.endVector();I2.Footer.startDictionariesVector(t,e.numDictionaries);for(let o of[...e.dictionaryBatches()].slice().reverse())b5.encode(t,o);let s=t.endVector();return I2.Footer.startFooter(t),I2.Footer.addSchema(t,r),I2.Footer.addVersion(t,fye.MetadataVersion.V4),I2.Footer.addRecordBatches(t,i),I2.Footer.addDictionaries(t,s),I2.Footer.finishFooterBuffer(t,I2.Footer.endFooter(t)),t.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let e,t=-1,r=this.numRecordBatches;++t<r;)(e=this.getRecordBatch(t))&&(yield e)}*dictionaryBatches(){for(let e,t=-1,r=this.numDictionaries;++t<r;)(e=this.getDictionaryBatch(t))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}};v7.Footer=wZ;var dye=class extends wZ{constructor(e,t){super(e,t.version());this._footer=t}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){let t=this._footer.recordBatches(e);if(t)return b5.decode(t)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){let t=this._footer.dictionaries(e);if(t)return b5.decode(t)}return null}},b5=class{constructor(e,t,r){this.metaDataLength=e,this.offset=typeof r=="number"?r:r.low,this.bodyLength=typeof t=="number"?t:t.low}static decode(e){return new b5(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,t){let{metaDataLength:r}=t,i=new lye(t.offset,0),s=new lye(t.bodyLength,0);return jYe.Block.createBlock(e,i,r,s)}};v7.FileBlock=b5});var vF=Ae(dh=>{"use strict";m();Object.defineProperty(dh,"__esModule",{value:!0});dh.AsyncQueue=dh.ReadableInterop=dh.ArrowJSON=dh.ITERATOR_DONE=void 0;var _7=hs(),hye=_7.__importDefault(tF());dh.ITERATOR_DONE=Object.freeze({done:!0,value:void 0});var pye=class{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}};dh.ArrowJSON=pye;var TZ=class{tee(){return this._getDOMStream().tee()}pipe(e,t){return this._getNodeStream().pipe(e,t)}pipeTo(e,t){return this._getDOMStream().pipeTo(e,t)}pipeThrough(e,t){return this._getDOMStream().pipeThrough(e,t)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}};dh.ReadableInterop=TZ;var mye=class extends TZ{constructor(){super();this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return _7.__awaiter(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){let{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(dh.ITERATOR_DONE);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return hye.default.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return hye.default.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return _7.__awaiter(this,void 0,void 0,function*(){return yield this.abort(e),dh.ITERATOR_DONE})}return(e){return _7.__awaiter(this,void 0,void 0,function*(){return yield this.close(),dh.ITERATOR_DONE})}read(e){return _7.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return _7.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((t,r)=>{this.resolvers.push({resolve:t,reject:r})}):Promise.resolve(dh.ITERATOR_DONE)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}};dh.AsyncQueue=mye});var A5=Ae(w5=>{"use strict";m();Object.defineProperty(w5,"__esModule",{value:!0});w5.AsyncByteStream=w5.ByteStream=w5.AsyncByteQueue=void 0;var jg=hs(),S5=jg.__importDefault(tF()),xye=H_(),_F=vF(),FZ=Qf(),E7=C2(),DZ=class extends _F.AsyncQueue{write(e){if((e=(0,FZ.toUint8Array)(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?(0,xye.decodeUtf8)(this.toUint8Array(!0)):this.toUint8Array(!1).then(xye.decodeUtf8)}toUint8Array(e=!1){return e?(0,FZ.joinUint8Arrays)(this._values)[0]:(()=>jg.__awaiter(this,void 0,void 0,function*(){var t,r;let i=[],s=0;try{for(var o=jg.__asyncValues(this),a;a=yield o.next(),!a.done;){let l=a.value;i.push(l),s+=l.byteLength}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=o.return)&&(yield r.call(o))}finally{if(t)throw t.error}}return(0,FZ.joinUint8Arrays)(i,s)[0]}))()}};w5.AsyncByteQueue=DZ;var gye=class{constructor(e){e&&(this.source=new yye(S5.default.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};w5.ByteStream=gye;var oB=class{constructor(e){e instanceof oB?this.source=e.source:e instanceof DZ?this.source=new C5(S5.default.fromAsyncIterable(e)):(0,E7.isReadableNodeStream)(e)?this.source=new C5(S5.default.fromNodeStream(e)):(0,E7.isReadableDOMStream)(e)?this.source=new C5(S5.default.fromDOMStream(e)):(0,E7.isFetchResponse)(e)?this.source=new C5(S5.default.fromDOMStream(e.body)):(0,E7.isIterable)(e)?this.source=new C5(S5.default.fromIterable(e)):(0,E7.isPromise)(e)?this.source=new C5(S5.default.fromAsyncIterable(e)):(0,E7.isAsyncIterable)(e)&&(this.source=new C5(S5.default.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};w5.AsyncByteStream=oB;var yye=class{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,t="read"){return this.source.next({cmd:t,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||_F.ITERATOR_DONE)}return(e){return Object.create(this.source.return&&this.source.return(e)||_F.ITERATOR_DONE)}},C5=class{constructor(e){this.source=e,this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}cancel(e){return jg.__awaiter(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return jg.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return jg.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e,t="read"){return jg.__awaiter(this,void 0,void 0,function*(){return yield this.source.next({cmd:t,size:e})})}throw(e){return jg.__awaiter(this,void 0,void 0,function*(){let t=this.source.throw&&(yield this.source.throw(e))||_F.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}return(e){return jg.__awaiter(this,void 0,void 0,function*(){let t=this.source.return&&(yield this.source.return(e))||_F.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}}});var RZ=Ae(b7=>{"use strict";m();Object.defineProperty(b7,"__esModule",{value:!0});b7.AsyncRandomAccessFile=b7.RandomAccessFile=void 0;var T5=hs(),vye=A5(),zYe=Qf(),_ye=class extends vye.ByteStream{constructor(e,t){super();this.position=0,this.buffer=(0,zYe.toUint8Array)(e),this.size=typeof t=="undefined"?this.buffer.byteLength:t}readInt32(e){let{buffer:t,byteOffset:r}=this.readAt(e,4);return new DataView(t,r).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){let{buffer:t,size:r,position:i}=this;return t&&i<r?(typeof e!="number"&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(r,i+Math.min(r-i,e)),t.subarray(i,this.position)):null}readAt(e,t){let r=this.buffer,i=Math.min(this.size,e+t);return r?r.subarray(e,i):new Uint8Array(t)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}};b7.RandomAccessFile=_ye;var Eye=class extends vye.AsyncByteStream{constructor(e,t){super();this.position=0,this._handle=e,typeof t=="number"?this.size=t:this._pending=(()=>T5.__awaiter(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending}))()}readInt32(e){return T5.__awaiter(this,void 0,void 0,function*(){let{buffer:t,byteOffset:r}=yield this.readAt(e,4);return new DataView(t,r).getInt32(0,!0)})}seek(e){return T5.__awaiter(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return T5.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:t,size:r,position:i}=this;if(t&&i<r){typeof e!="number"&&(e=Number.POSITIVE_INFINITY);let s=i,o=0,a=0,l=Math.min(r,s+Math.min(r-s,e)),f=new Uint8Array(Math.max(0,(this.position=l)-s));for(;(s+=a)<l&&(o+=a)<f.byteLength;)({bytesRead:a}=yield t.read(f,o,f.byteLength-o,s));return f}return null})}readAt(e,t){return T5.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:r,size:i}=this;if(r&&e+t<i){let s=Math.min(i,e+t),o=new Uint8Array(s-e);return(yield r.read(o,0,t,e)).buffer}return new Uint8Array(t)})}close(){return T5.__awaiter(this,void 0,void 0,function*(){let e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return T5.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return T5.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}};b7.AsyncRandomAccessFile=Eye});var NZ=Ae(M2=>{"use strict";m();Object.defineProperty(M2,"__esModule",{value:!0});M2.Int128=M2.Int64=M2.Uint64=M2.BaseInt64=void 0;var HYe=1<<16;function S7(n){return n<0&&(n=4294967295+n+1),`0x${n.toString(16)}`}var C7=8,OZ=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8],aB=class{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){let t=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),r=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]),i=t[3]*r[3];this.buffer[0]=i&65535;let s=i>>>16;return i=t[2]*r[3],s+=i,i=t[3]*r[2]>>>0,s+=i,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<i?HYe:0,this.buffer[1]+=s>>>16,this.buffer[1]+=t[1]*r[3]+t[2]*r[2]+t[3]*r[1],this.buffer[1]+=t[0]*r[3]+t[1]*r[2]+t[2]*r[1]+t[3]*r[0]<<16,this}_plus(e){let t=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],t<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=t}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${S7(this.buffer[1])} ${S7(this.buffer[0])}`}};M2.BaseInt64=aB;var pa=class extends aB{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,t=new Uint32Array(2)){return pa.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return pa.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let r=e.length,i=new pa(t);for(let s=0;s<r;){let o=C7<r-s?C7:r-s,a=new pa(new Uint32Array([Number.parseInt(e.slice(s,s+o),10),0])),l=new pa(new Uint32Array([OZ[o],0]));i.times(l),i.plus(a),s+=o}return i}static convertArray(e){let t=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)pa.from(e[r],new Uint32Array(t.buffer,t.byteOffset+2*r*4,2));return t}static multiply(e,t){return new pa(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new pa(new Uint32Array(e.buffer)).plus(t)}};M2.Uint64=pa;var Qh=class extends aB{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){let t=this.buffer[1]<<0,r=e.buffer[1]<<0;return t<r||t===r&&this.buffer[0]<e.buffer[0]}static from(e,t=new Uint32Array(2)){return Qh.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return Qh.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let r=e.startsWith("-"),i=e.length,s=new Qh(t);for(let o=r?1:0;o<i;){let a=C7<i-o?C7:i-o,l=new Qh(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0])),f=new Qh(new Uint32Array([OZ[a],0]));s.times(f),s.plus(l),o+=a}return r?s.negate():s}static convertArray(e){let t=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)Qh.from(e[r],new Uint32Array(t.buffer,t.byteOffset+2*r*4,2));return t}static multiply(e,t){return new Qh(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new Qh(new Uint32Array(e.buffer)).plus(t)}};M2.Int64=Qh;var vm=class{constructor(e){this.buffer=e}high(){return new Qh(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Qh(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){let t=new pa(new Uint32Array([this.buffer[3],0])),r=new pa(new Uint32Array([this.buffer[2],0])),i=new pa(new Uint32Array([this.buffer[1],0])),s=new pa(new Uint32Array([this.buffer[0],0])),o=new pa(new Uint32Array([e.buffer[3],0])),a=new pa(new Uint32Array([e.buffer[2],0])),l=new pa(new Uint32Array([e.buffer[1],0])),f=new pa(new Uint32Array([e.buffer[0],0])),p=pa.multiply(s,f);this.buffer[0]=p.low();let _=new pa(new Uint32Array([p.high(),0]));return p=pa.multiply(i,f),_.plus(p),p=pa.multiply(s,l),_.plus(p),this.buffer[1]=_.low(),this.buffer[3]=_.lessThan(p)?1:0,this.buffer[2]=_.high(),new pa(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(pa.multiply(r,f)).plus(pa.multiply(i,l)).plus(pa.multiply(s,a)),this.buffer[3]+=pa.multiply(t,f).plus(pa.multiply(r,l)).plus(pa.multiply(i,a)).plus(pa.multiply(s,o)).low(),this}plus(e){let t=new Uint32Array(4);return t[3]=this.buffer[3]+e.buffer[3]>>>0,t[2]=this.buffer[2]+e.buffer[2]>>>0,t[1]=this.buffer[1]+e.buffer[1]>>>0,t[0]=this.buffer[0]+e.buffer[0]>>>0,t[0]<this.buffer[0]>>>0&&++t[1],t[1]<this.buffer[1]>>>0&&++t[2],t[2]<this.buffer[2]>>>0&&++t[3],this.buffer[3]=t[3],this.buffer[2]=t[2],this.buffer[1]=t[1],this.buffer[0]=t[0],this}hex(){return`${S7(this.buffer[3])} ${S7(this.buffer[2])} ${S7(this.buffer[1])} ${S7(this.buffer[0])}`}static multiply(e,t){return new vm(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new vm(new Uint32Array(e.buffer)).plus(t)}static from(e,t=new Uint32Array(4)){return vm.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(4)){return vm.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(4)){let r=e.startsWith("-"),i=e.length,s=new vm(t);for(let o=r?1:0;o<i;){let a=C7<i-o?C7:i-o,l=new vm(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0,0,0])),f=new vm(new Uint32Array([OZ[a],0,0,0]));s.times(f),s.plus(l),o+=a}return r?s.negate():s}static convertArray(e){let t=new Uint32Array(e.length*4);for(let r=-1,i=e.length;++r<i;)vm.from(e[r],new Uint32Array(t.buffer,t.byteOffset+4*4*r,4));return t}};M2.Int128=vm});var wye=Ae(w7=>{"use strict";m();Object.defineProperty(w7,"__esModule",{value:!0});w7.JSONVectorLoader=w7.VectorLoader=void 0;var Wc=A2(),VYe=fh(),qg=su(),WYe=yd(),bye=Q_(),QYe=H_(),uB=NZ(),Sye=kl(),P2=Qf(),LZ=class extends WYe.Visitor{constructor(e,t,r,i){super();this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=t,this.buffers=r,this.dictionaries=i}visit(e){return super.visit(e instanceof VYe.Field?e.type:e)}visitNull(e,{length:t}=this.nextFieldNode()){return(0,Wc.makeData)({type:e,length:t})}visitBool(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Wc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitInt(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Wc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFloat(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Wc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitUtf8(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Wc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Wc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Wc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDate(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Wc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTimestamp(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Wc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTime(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Wc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDecimal(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Wc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitList(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Wc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Wc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),children:this.visitMany(e.children)})}visitUnion(e){return e.mode===Sye.UnionMode.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}visitDenseUnion(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Wc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Wc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Wc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Wc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFixedSizeList(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Wc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),child:this.visit(e.children[0])})}visitMap(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Wc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,t,r=this.nextBufferRange()){return t>0&&this.readData(e,r)||new Uint8Array(0)}readOffsets(e,t){return this.readData(e,t)}readTypeIds(e,t){return this.readData(e,t)}readData(e,{length:t,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+t)}readDictionary(e){return this.dictionaries.get(e.id)}};w7.VectorLoader=LZ;var Cye=class extends LZ{constructor(e,t,r,i){super(new Uint8Array(0),t,r,i);this.sources=e}readNullBitmap(e,t,{offset:r}=this.nextBufferRange()){return t<=0?new Uint8Array(0):(0,bye.packBools)(this.sources[r])}readOffsets(e,{offset:t}=this.nextBufferRange()){return(0,P2.toArrayBufferView)(Uint8Array,(0,P2.toArrayBufferView)(Int32Array,this.sources[t]))}readTypeIds(e,{offset:t}=this.nextBufferRange()){return(0,P2.toArrayBufferView)(Uint8Array,(0,P2.toArrayBufferView)(e.ArrayType,this.sources[t]))}readData(e,{offset:t}=this.nextBufferRange()){let{sources:r}=this;return qg.DataType.isTimestamp(e)||(qg.DataType.isInt(e)||qg.DataType.isTime(e))&&e.bitWidth===64||qg.DataType.isDate(e)&&e.unit===Sye.DateUnit.MILLISECOND?(0,P2.toArrayBufferView)(Uint8Array,uB.Int64.convertArray(r[t])):qg.DataType.isDecimal(e)?(0,P2.toArrayBufferView)(Uint8Array,uB.Int128.convertArray(r[t])):qg.DataType.isBinary(e)||qg.DataType.isFixedSizeBinary(e)?GYe(r[t]):qg.DataType.isBool(e)?(0,bye.packBools)(r[t]):qg.DataType.isUtf8(e)?(0,QYe.encodeUtf8)(r[t].join("")):(0,P2.toArrayBufferView)(Uint8Array,(0,P2.toArrayBufferView)(e.ArrayType,r[t].map(i=>+i)))}};w7.JSONVectorLoader=Cye;function GYe(n){let e=n.join(""),t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r>>1]=Number.parseInt(e.slice(r,r+2),16);return t}});var cB=Ae(lB=>{"use strict";m();Object.defineProperty(lB,"__esModule",{value:!0});lB.BinaryBuilder=void 0;var YYe=Qf(),KYe=G_(),JYe=Jl(),Aye=class extends JYe.VariableWidthBuilder{constructor(e){super(e);this._values=new KYe.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,t){return super.setValue(e,(0,YYe.toUint8Array)(t))}_flushPending(e,t){let r=this._offsets,i=this._values.reserve(t).buffer,s=0;for(let[o,a]of e)if(a===void 0)r.set(o,0);else{let l=a.length;i.set(a,s),r.set(o,l),s+=l}}};lB.BinaryBuilder=Aye});var kZ=Ae(fB=>{"use strict";m();Object.defineProperty(fB,"__esModule",{value:!0});fB.BoolBuilder=void 0;var XYe=G_(),ZYe=Jl(),Tye=class extends ZYe.Builder{constructor(e){super(e);this._values=new XYe.BitmapBufferBuilder}setValue(e,t){this._values.set(e,+t)}};fB.BoolBuilder=Tye});var BZ=Ae(F5=>{"use strict";m();Object.defineProperty(F5,"__esModule",{value:!0});F5.DateMillisecondBuilder=F5.DateDayBuilder=F5.DateBuilder=void 0;var eKe=Jl(),IZ=zp(),EF=class extends eKe.FixedWidthBuilder{};F5.DateBuilder=EF;EF.prototype._setValue=IZ.setDate;var MZ=class extends EF{};F5.DateDayBuilder=MZ;MZ.prototype._setValue=IZ.setDateDay;var PZ=class extends EF{};F5.DateMillisecondBuilder=PZ;PZ.prototype._setValue=IZ.setDateMillisecond});var qZ=Ae(dB=>{"use strict";m();Object.defineProperty(dB,"__esModule",{value:!0});dB.DecimalBuilder=void 0;var tKe=Jl(),nKe=zp(),jZ=class extends tKe.FixedWidthBuilder{};dB.DecimalBuilder=jZ;jZ.prototype._setValue=nKe.setDecimal});var UZ=Ae(hB=>{"use strict";m();Object.defineProperty(hB,"__esModule",{value:!0});hB.DictionaryBuilder=void 0;var rKe=su(),iKe=Jl(),Fye=bF(),Dye=class extends iKe.Builder{constructor({type:e,nullValues:t,dictionaryHashFunction:r}){super({type:new rKe.Dictionary(e.dictionary,e.indices,e.id,e.isOrdered)});this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=(0,Fye.makeBuilder)({type:this.type.indices,nullValues:t}),this.dictionary=(0,Fye.makeBuilder)({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(e){return this.indices.isValid(e)}setValid(e,t){let r=this.indices;return t=r.setValid(e,t),this.length=r.length,t}setValue(e,t){let r=this._keysToIndices,i=this.valueToKey(t),s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(t).length-1),this.indices.setValue(e,s)}flush(){let e=this.type,t=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(e);return i.dictionary=t?t.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(e){return typeof e=="string"?e:`${e}`}};hB.DictionaryBuilder=Dye});var zZ=Ae(pB=>{"use strict";m();Object.defineProperty(pB,"__esModule",{value:!0});pB.FixedSizeBinaryBuilder=void 0;var sKe=Jl(),oKe=zp(),$Z=class extends sKe.FixedWidthBuilder{};pB.FixedSizeBinaryBuilder=$Z;$Z.prototype._setValue=oKe.setFixedSizeBinary});var HZ=Ae(mB=>{"use strict";m();Object.defineProperty(mB,"__esModule",{value:!0});mB.FixedSizeListBuilder=void 0;var aKe=fh(),uKe=Jl(),lKe=su(),Rye=class extends uKe.Builder{setValue(e,t){let[r]=this.children,i=e*this.stride;for(let s=-1,o=t.length;++s<o;)r.set(i+s,t[s])}addChild(e,t="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");let r=this.children.push(e);return this.type=new lKe.FixedSizeList(this.type.listSize,new aKe.Field(t,e.type,!0)),r}};mB.FixedSizeListBuilder=Rye});var VZ=Ae(B2=>{"use strict";m();Object.defineProperty(B2,"__esModule",{value:!0});B2.Float64Builder=B2.Float32Builder=B2.Float16Builder=B2.FloatBuilder=void 0;var cKe=rF(),fKe=Jl(),SF=class extends fKe.FixedWidthBuilder{setValue(e,t){this._values.set(e,t)}};B2.FloatBuilder=SF;var Oye=class extends SF{setValue(e,t){super.setValue(e,(0,cKe.float64ToUint16)(t))}};B2.Float16Builder=Oye;var Nye=class extends SF{};B2.Float32Builder=Nye;var Lye=class extends SF{};B2.Float64Builder=Lye});var YZ=Ae(D5=>{"use strict";m();Object.defineProperty(D5,"__esModule",{value:!0});D5.IntervalYearMonthBuilder=D5.IntervalDayTimeBuilder=D5.IntervalBuilder=void 0;var dKe=Jl(),WZ=zp(),CF=class extends dKe.FixedWidthBuilder{};D5.IntervalBuilder=CF;CF.prototype._setValue=WZ.setIntervalValue;var QZ=class extends CF{};D5.IntervalDayTimeBuilder=QZ;QZ.prototype._setValue=WZ.setIntervalDayTime;var GZ=class extends CF{};D5.IntervalYearMonthBuilder=GZ;GZ.prototype._setValue=WZ.setIntervalYearMonth});var KZ=Ae(_c=>{"use strict";m();Object.defineProperty(_c,"__esModule",{value:!0});_c.Uint64Builder=_c.Uint32Builder=_c.Uint16Builder=_c.Uint8Builder=_c.Int64Builder=_c.Int32Builder=_c.Int16Builder=_c.Int8Builder=_c.IntBuilder=void 0;var hKe=Jl(),j2=class extends hKe.FixedWidthBuilder{setValue(e,t){this._values.set(e,t)}};_c.IntBuilder=j2;var kye=class extends j2{};_c.Int8Builder=kye;var Iye=class extends j2{};_c.Int16Builder=Iye;var Mye=class extends j2{};_c.Int32Builder=Mye;var Pye=class extends j2{};_c.Int64Builder=Pye;var Bye=class extends j2{};_c.Uint8Builder=Bye;var jye=class extends j2{};_c.Uint16Builder=jye;var qye=class extends j2{};_c.Uint32Builder=qye;var Uye=class extends j2{};_c.Uint64Builder=Uye});var JZ=Ae(xB=>{"use strict";m();Object.defineProperty(xB,"__esModule",{value:!0});xB.ListBuilder=void 0;var pKe=fh(),mKe=su(),xKe=G_(),gKe=Jl(),$ye=class extends gKe.VariableWidthBuilder{constructor(e){super(e);this._offsets=new xKe.OffsetsBufferBuilder}addChild(e,t="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new mKe.List(new pKe.Field(t,e.type,!0)),this.numChildren-1}_flushPending(e){let t=this._offsets,[r]=this.children;for(let[i,s]of e)if(s===void 0)t.set(i,0);else{let o=s.length,a=t.set(i,o).buffer[i];for(let l=-1;++l<o;)r.set(a+l,s[l])}}};xB.ListBuilder=$ye});var XZ=Ae(gB=>{"use strict";m();Object.defineProperty(gB,"__esModule",{value:!0});gB.MapBuilder=void 0;var yKe=fh(),vKe=su(),_Ke=Jl(),zye=class extends _Ke.VariableWidthBuilder{set(e,t){return super.set(e,t)}setValue(e,t){let r=t instanceof Map?t:new Map(Object.entries(t)),i=this._pending||(this._pending=new Map),s=i.get(e);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(e,r)}addChild(e,t=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new vKe.Map_(new yKe.Field(t,e.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(e){let t=this._offsets,[r]=this.children;for(let[i,s]of e)if(s===void 0)t.set(i,0);else{let{[i]:o,[i+1]:a}=t.set(i,s.size).buffer;for(let l of s.entries())if(r.set(o,l),++o>=a)break}}};gB.MapBuilder=zye});var ZZ=Ae(yB=>{"use strict";m();Object.defineProperty(yB,"__esModule",{value:!0});yB.NullBuilder=void 0;var EKe=Jl(),Hye=class extends EKe.Builder{setValue(e,t){}setValid(e,t){return this.length=Math.max(e+1,this.length),t}};yB.NullBuilder=Hye});var eee=Ae(vB=>{"use strict";m();Object.defineProperty(vB,"__esModule",{value:!0});vB.StructBuilder=void 0;var bKe=fh(),SKe=Jl(),CKe=su(),Vye=class extends SKe.Builder{setValue(e,t){let{children:r,type:i}=this;switch(Array.isArray(t)||t.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(e,t[o]));case Map:return i.children.forEach((s,o)=>r[o].set(e,t.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(e,t[s.name]))}}setValid(e,t){return super.setValid(e,t)||this.children.forEach(r=>r.setValid(e,t)),t}addChild(e,t=`${this.numChildren}`){let r=this.children.push(e);return this.type=new CKe.Struct([...this.type.children,new bKe.Field(t,e.type,!0)]),r}};vB.StructBuilder=Vye});var see=Ae(Gp=>{"use strict";m();Object.defineProperty(Gp,"__esModule",{value:!0});Gp.TimestampNanosecondBuilder=Gp.TimestampMicrosecondBuilder=Gp.TimestampMillisecondBuilder=Gp.TimestampSecondBuilder=Gp.TimestampBuilder=void 0;var wKe=Jl(),wF=zp(),s6=class extends wKe.FixedWidthBuilder{};Gp.TimestampBuilder=s6;s6.prototype._setValue=wF.setTimestamp;var tee=class extends s6{};Gp.TimestampSecondBuilder=tee;tee.prototype._setValue=wF.setTimestampSecond;var nee=class extends s6{};Gp.TimestampMillisecondBuilder=nee;nee.prototype._setValue=wF.setTimestampMillisecond;var ree=class extends s6{};Gp.TimestampMicrosecondBuilder=ree;ree.prototype._setValue=wF.setTimestampMicrosecond;var iee=class extends s6{};Gp.TimestampNanosecondBuilder=iee;iee.prototype._setValue=wF.setTimestampNanosecond});var cee=Ae(Yp=>{"use strict";m();Object.defineProperty(Yp,"__esModule",{value:!0});Yp.TimeNanosecondBuilder=Yp.TimeMicrosecondBuilder=Yp.TimeMillisecondBuilder=Yp.TimeSecondBuilder=Yp.TimeBuilder=void 0;var AKe=Jl(),AF=zp(),o6=class extends AKe.FixedWidthBuilder{};Yp.TimeBuilder=o6;o6.prototype._setValue=AF.setTime;var oee=class extends o6{};Yp.TimeSecondBuilder=oee;oee.prototype._setValue=AF.setTimeSecond;var aee=class extends o6{};Yp.TimeMillisecondBuilder=aee;aee.prototype._setValue=AF.setTimeMillisecond;var uee=class extends o6{};Yp.TimeMicrosecondBuilder=uee;uee.prototype._setValue=AF.setTimeMicrosecond;var lee=class extends o6{};Yp.TimeNanosecondBuilder=lee;lee.prototype._setValue=AF.setTimeNanosecond});var fee=Ae(R5=>{"use strict";m();Object.defineProperty(R5,"__esModule",{value:!0});R5.DenseUnionBuilder=R5.SparseUnionBuilder=R5.UnionBuilder=void 0;var TKe=fh(),Wye=G_(),FKe=Jl(),DKe=su(),_B=class extends FKe.Builder{constructor(e){super(e);this._typeIds=new Wye.DataBufferBuilder(new Int8Array(0),1),typeof e.valueToChildTypeId=="function"&&(this._valueToChildTypeId=e.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(e,t){return this.set(this.length,e,t)}set(e,t,r){return r===void 0&&(r=this._valueToChildTypeId(this,t,e)),this.setValid(e,this.isValid(t))&&this.setValue(e,t,r),this}setValue(e,t,r){this._typeIds.set(e,r);let i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(e,t)}addChild(e,t=`${this.children.length}`){let r=this.children.push(e),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new TKe.Field(t,e.type)];return this.type=new DKe.Union(s,[...o,r],a),r}_valueToChildTypeId(e,t,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}};R5.UnionBuilder=_B;var Qye=class extends _B{};R5.SparseUnionBuilder=Qye;var Gye=class extends _B{constructor(e){super(e);this._offsets=new Wye.DataBufferBuilder(new Int32Array(0))}setValue(e,t,r){let i=this._typeIds.set(e,r).buffer[e],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(e,s.length).buffer[e];s==null||s.set(o,t)}};R5.DenseUnionBuilder=Gye});var hee=Ae(EB=>{"use strict";m();Object.defineProperty(EB,"__esModule",{value:!0});EB.Utf8Builder=void 0;var RKe=H_(),OKe=cB(),NKe=G_(),LKe=Jl(),dee=class extends LKe.VariableWidthBuilder{constructor(e){super(e);this._values=new NKe.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,t){return super.setValue(e,(0,RKe.encodeUtf8)(t))}_flushPending(e,t){}};EB.Utf8Builder=dee;dee.prototype._flushPending=OKe.BinaryBuilder.prototype._flushPending});var Yye=Ae(A7=>{"use strict";m();Object.defineProperty(A7,"__esModule",{value:!0});A7.instance=A7.GetBuilderCtor=void 0;var kKe=yd(),IKe=cB(),MKe=kZ(),pee=BZ(),PKe=qZ(),BKe=UZ(),jKe=zZ(),qKe=HZ(),bB=VZ(),mee=YZ(),Ug=KZ(),UKe=JZ(),$Ke=XZ(),zKe=ZZ(),HKe=eee(),TF=see(),FF=cee(),xee=fee(),VKe=hee(),gee=class extends kKe.Visitor{visitNull(){return zKe.NullBuilder}visitBool(){return MKe.BoolBuilder}visitInt(){return Ug.IntBuilder}visitInt8(){return Ug.Int8Builder}visitInt16(){return Ug.Int16Builder}visitInt32(){return Ug.Int32Builder}visitInt64(){return Ug.Int64Builder}visitUint8(){return Ug.Uint8Builder}visitUint16(){return Ug.Uint16Builder}visitUint32(){return Ug.Uint32Builder}visitUint64(){return Ug.Uint64Builder}visitFloat(){return bB.FloatBuilder}visitFloat16(){return bB.Float16Builder}visitFloat32(){return bB.Float32Builder}visitFloat64(){return bB.Float64Builder}visitUtf8(){return VKe.Utf8Builder}visitBinary(){return IKe.BinaryBuilder}visitFixedSizeBinary(){return jKe.FixedSizeBinaryBuilder}visitDate(){return pee.DateBuilder}visitDateDay(){return pee.DateDayBuilder}visitDateMillisecond(){return pee.DateMillisecondBuilder}visitTimestamp(){return TF.TimestampBuilder}visitTimestampSecond(){return TF.TimestampSecondBuilder}visitTimestampMillisecond(){return TF.TimestampMillisecondBuilder}visitTimestampMicrosecond(){return TF.TimestampMicrosecondBuilder}visitTimestampNanosecond(){return TF.TimestampNanosecondBuilder}visitTime(){return FF.TimeBuilder}visitTimeSecond(){return FF.TimeSecondBuilder}visitTimeMillisecond(){return FF.TimeMillisecondBuilder}visitTimeMicrosecond(){return FF.TimeMicrosecondBuilder}visitTimeNanosecond(){return FF.TimeNanosecondBuilder}visitDecimal(){return PKe.DecimalBuilder}visitList(){return UKe.ListBuilder}visitStruct(){return HKe.StructBuilder}visitUnion(){return xee.UnionBuilder}visitDenseUnion(){return xee.DenseUnionBuilder}visitSparseUnion(){return xee.SparseUnionBuilder}visitDictionary(){return BKe.DictionaryBuilder}visitInterval(){return mee.IntervalBuilder}visitIntervalDayTime(){return mee.IntervalDayTimeBuilder}visitIntervalYearMonth(){return mee.IntervalYearMonthBuilder}visitFixedSizeList(){return qKe.FixedSizeListBuilder}visitMap(){return $Ke.MapBuilder}};A7.GetBuilderCtor=gee;A7.instance=new gee});var NF=Ae(Il=>{"use strict";m();Object.defineProperty(Il,"__esModule",{value:!0});Il.compareTypes=Il.compareFields=Il.compareSchemas=Il.instance=Il.TypeComparator=void 0;var WKe=yd(),Ws=class extends WKe.Visitor{compareSchemas(e,t){return e===t||t instanceof e.constructor&&this.compareManyFields(e.fields,t.fields)}compareManyFields(e,t){return e===t||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((r,i)=>this.compareFields(r,t[i]))}compareFields(e,t){return e===t||t instanceof e.constructor&&e.name===t.name&&e.nullable===t.nullable&&this.visit(e.type,t.type)}};Il.TypeComparator=Ws;function hh(n,e){return e instanceof n.constructor}function DF(n,e){return n===e||hh(n,e)}function $g(n,e){return n===e||hh(n,e)&&n.bitWidth===e.bitWidth&&n.isSigned===e.isSigned}function SB(n,e){return n===e||hh(n,e)&&n.precision===e.precision}function QKe(n,e){return n===e||hh(n,e)&&n.byteWidth===e.byteWidth}function yee(n,e){return n===e||hh(n,e)&&n.unit===e.unit}function RF(n,e){return n===e||hh(n,e)&&n.unit===e.unit&&n.timezone===e.timezone}function OF(n,e){return n===e||hh(n,e)&&n.unit===e.unit&&n.bitWidth===e.bitWidth}function GKe(n,e){return n===e||hh(n,e)&&n.children.length===e.children.length&&Il.instance.compareManyFields(n.children,e.children)}function YKe(n,e){return n===e||hh(n,e)&&n.children.length===e.children.length&&Il.instance.compareManyFields(n.children,e.children)}function vee(n,e){return n===e||hh(n,e)&&n.mode===e.mode&&n.typeIds.every((t,r)=>t===e.typeIds[r])&&Il.instance.compareManyFields(n.children,e.children)}function KKe(n,e){return n===e||hh(n,e)&&n.id===e.id&&n.isOrdered===e.isOrdered&&Il.instance.visit(n.indices,e.indices)&&Il.instance.visit(n.dictionary,e.dictionary)}function _ee(n,e){return n===e||hh(n,e)&&n.unit===e.unit}function JKe(n,e){return n===e||hh(n,e)&&n.listSize===e.listSize&&n.children.length===e.children.length&&Il.instance.compareManyFields(n.children,e.children)}function XKe(n,e){return n===e||hh(n,e)&&n.keysSorted===e.keysSorted&&n.children.length===e.children.length&&Il.instance.compareManyFields(n.children,e.children)}Ws.prototype.visitNull=DF;Ws.prototype.visitBool=DF;Ws.prototype.visitInt=$g;Ws.prototype.visitInt8=$g;Ws.prototype.visitInt16=$g;Ws.prototype.visitInt32=$g;Ws.prototype.visitInt64=$g;Ws.prototype.visitUint8=$g;Ws.prototype.visitUint16=$g;Ws.prototype.visitUint32=$g;Ws.prototype.visitUint64=$g;Ws.prototype.visitFloat=SB;Ws.prototype.visitFloat16=SB;Ws.prototype.visitFloat32=SB;Ws.prototype.visitFloat64=SB;Ws.prototype.visitUtf8=DF;Ws.prototype.visitBinary=DF;Ws.prototype.visitFixedSizeBinary=QKe;Ws.prototype.visitDate=yee;Ws.prototype.visitDateDay=yee;Ws.prototype.visitDateMillisecond=yee;Ws.prototype.visitTimestamp=RF;Ws.prototype.visitTimestampSecond=RF;Ws.prototype.visitTimestampMillisecond=RF;Ws.prototype.visitTimestampMicrosecond=RF;Ws.prototype.visitTimestampNanosecond=RF;Ws.prototype.visitTime=OF;Ws.prototype.visitTimeSecond=OF;Ws.prototype.visitTimeMillisecond=OF;Ws.prototype.visitTimeMicrosecond=OF;Ws.prototype.visitTimeNanosecond=OF;Ws.prototype.visitDecimal=DF;Ws.prototype.visitList=GKe;Ws.prototype.visitStruct=YKe;Ws.prototype.visitUnion=vee;Ws.prototype.visitDenseUnion=vee;Ws.prototype.visitSparseUnion=vee;Ws.prototype.visitDictionary=KKe;Ws.prototype.visitInterval=_ee;Ws.prototype.visitIntervalDayTime=_ee;Ws.prototype.visitIntervalYearMonth=_ee;Ws.prototype.visitFixedSizeList=JKe;Ws.prototype.visitMap=XKe;Il.instance=new Ws;function ZKe(n,e){return Il.instance.compareSchemas(n,e)}Il.compareSchemas=ZKe;function eJe(n,e){return Il.instance.compareFields(n,e)}Il.compareFields=eJe;function tJe(n,e){return Il.instance.visit(n,e)}Il.compareTypes=tJe});var bF=Ae(Jp=>{"use strict";m();Object.defineProperty(Jp,"__esModule",{value:!0});Jp.builderThroughAsyncIterable=Jp.builderThroughIterable=Jp.tableFromJSON=Jp.vectorFromArray=Jp.makeBuilder=void 0;var a6=hs(),Eee=fh(),Kp=a6.__importStar(su()),nJe=A2(),Kye=vd(),rJe=Yye(),iJe=T7(),sJe=O5(),oJe=NF();function CB(n){let e=n.type,t=new(rJe.instance.getVisitFn(e)())(n);if(e.children&&e.children.length>0){let r=n.children||[],i={nullValues:n.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(let[o,a]of e.children.entries()){let{type:l}=a,f=s(a,o);t.children.push(CB(Object.assign(Object.assign({},f),{type:l})))}}return t}Jp.makeBuilder=CB;function Jye(n,e){if(n instanceof nJe.Data||n instanceof Kye.Vector||n.type instanceof Kp.DataType||ArrayBuffer.isView(n))return(0,Kye.makeVector)(n);let t={type:e??wB(n),nullValues:[null]},r=[...Xye(t)(n)],i=r.length===1?r[0]:r.reduce((s,o)=>s.concat(o));return Kp.DataType.isDictionary(i.type)?i.memoize():i}Jp.vectorFromArray=Jye;function aJe(n){let e=Jye(n),t=new sJe.RecordBatch(new Eee.Schema(e.type.children),e.data[0]);return new iJe.Table(t)}Jp.tableFromJSON=aJe;function wB(n){if(n.length===0)return new Kp.Null;let e=0,t=0,r=0,i=0,s=0,o=0,a=0,l=0;for(let f of n){if(f==null){++e;continue}switch(typeof f){case"bigint":++o;continue;case"boolean":++a;continue;case"number":++i;continue;case"string":++s;continue;case"object":Array.isArray(f)?++t:Object.prototype.toString.call(f)==="[object Date]"?++l:++r;continue}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected")}if(i+e===n.length)return new Kp.Float64;if(s+e===n.length)return new Kp.Dictionary(new Kp.Utf8,new Kp.Int32);if(o+e===n.length)return new Kp.Int64;if(a+e===n.length)return new Kp.Bool;if(l+e===n.length)return new Kp.DateMillisecond;if(t+e===n.length){let f=n,p=wB(f[f.findIndex(_=>_!=null)]);if(f.every(_=>_==null||(0,oJe.compareTypes)(p,wB(_))))return new Kp.List(new Eee.Field("",p,!0))}else if(r+e===n.length){let f=new Map;for(let p of n)for(let _ of Object.keys(p))!f.has(_)&&p[_]!=null&&f.set(_,new Eee.Field(_,wB([p[_]]),!0));return new Kp.Struct([...f.values()])}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected")}function Xye(n){let{["queueingStrategy"]:e="count"}=n,{["highWaterMark"]:t=e!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=n,r=e!=="bytes"?"length":"byteLength";return function*(i){let s=0,o=CB(n);for(let a of i)o.append(a)[r]>=t&&++s&&(yield o.toVector());(o.finish().length>0||s===0)&&(yield o.toVector())}}Jp.builderThroughIterable=Xye;function uJe(n){let{["queueingStrategy"]:e="count"}=n,{["highWaterMark"]:t=e!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=n,r=e!=="bytes"?"length":"byteLength";return function(i){return a6.__asyncGenerator(this,arguments,function*(){var s,o;let a=0,l=CB(n);try{for(var f=a6.__asyncValues(i),p;p=yield a6.__await(f.next()),!p.done;){let _=p.value;l.append(_)[r]>=t&&++a&&(yield yield a6.__await(l.toVector()))}}catch(_){s={error:_}}finally{try{p&&!p.done&&(o=f.return)&&(yield a6.__await(o.call(f)))}finally{if(s)throw s.error}}(l.finish().length>0||a===0)&&(yield yield a6.__await(l.toVector()))})}}Jp.builderThroughAsyncIterable=uJe});var e3e=Ae(AB=>{"use strict";m();Object.defineProperty(AB,"__esModule",{value:!0});AB.distributeVectorsIntoRecordBatches=void 0;var Zye=A2(),lJe=su(),cJe=O5();function fJe(n,e){return dJe(n,e.map(t=>t.data.concat()))}AB.distributeVectorsIntoRecordBatches=fJe;function dJe(n,e){let t=[...n.fields],r=[],i={numBatches:e.reduce((_,b)=>Math.max(_,b.length),0)},s=0,o=0,a=-1,l=e.length,f,p=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)p[a]=f=e[a].shift(),o=Math.min(o,f?f.length:o);Number.isFinite(o)&&(p=hJe(t,o,p,e,i),o>0&&(r[s++]=(0,Zye.makeData)({type:new lJe.Struct(t),length:o,nullCount:0,children:p.slice()})))}return[n=n.assign(t),r.map(_=>new cJe.RecordBatch(n,_))]}function hJe(n,e,t,r,i){var s;let o=(e+63&~63)>>3;for(let a=-1,l=r.length;++a<l;){let f=t[a],p=f==null?void 0:f.length;if(p>=e)p===e?t[a]=f:(t[a]=f.slice(0,e),i.numBatches=Math.max(i.numBatches,r[a].unshift(f.slice(e,p-e))));else{let _=n[a];n[a]=_.clone({nullable:!0}),t[a]=(s=f==null?void 0:f._changeLengthAndBackfillNullBitmap(e))!==null&&s!==void 0?s:(0,Zye.makeData)({type:_.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return t}});var T7=Ae(N5=>{"use strict";m();var t3e;Object.defineProperty(N5,"__esModule",{value:!0});N5.tableFromArrays=N5.makeTable=N5.Table=void 0;var TB=kl(),bee=A2(),pJe=bF(),LF=vd(),u6=fh(),n3e=su(),mJe=NF(),See=e3e(),zg=lP(),xJe=W_(),gJe=zp(),yJe=cP(),vJe=fP(),_Je=dP(),EJe=oF(),F7=O5(),Gh=class{constructor(...e){var t,r;if(e.length===0)return this.batches=[],this.schema=new u6.Schema([]),this._offsets=[0],this;let i,s;e[0]instanceof u6.Schema&&(i=e.shift()),e[e.length-1]instanceof Uint32Array&&(s=e.pop());let o=l=>{if(l){if(l instanceof F7.RecordBatch)return[l];if(l instanceof Gh)return l.batches;if(l instanceof bee.Data){if(l.type instanceof n3e.Struct)return[new F7.RecordBatch(new u6.Schema(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(f=>o(f));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(f=>o(f));if(typeof l=="object"){let f=Object.keys(l),p=f.map(R=>new LF.Vector([l[R]])),_=new u6.Schema(f.map((R,O)=>new u6.Field(String(R),p[O].type))),[,b]=(0,See.distributeVectorsIntoRecordBatches)(_,p);return b.length===0?[new F7.RecordBatch(l)]:b}}}return[]},a=e.flatMap(l=>o(l));if(i=(r=i??((t=a[0])===null||t===void 0?void 0:t.schema))!==null&&r!==void 0?r:new u6.Schema([]),!(i instanceof u6.Schema))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(let l of a){if(!(l instanceof F7.RecordBatch))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!(0,mJe.compareSchemas)(i,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??(0,zg.computeChunkOffsets)(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,t)=>e+t.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=(0,zg.computeChunkNullCounts)(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return-1}getByteLength(e){return 0}[Symbol.iterator](){return this.batches.length>0?vJe.instance.visit(new LF.Vector(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...e){let t=this.schema,r=this.data.concat(e.flatMap(({data:i})=>i));return new Gh(t,r.map(i=>new F7.RecordBatch(t,i)))}slice(e,t){let r=this.schema;[e,t]=(0,EJe.clampRange)({length:this.numRows},e,t);let i=(0,zg.sliceChunks)(this.data,this._offsets,e,t);return new Gh(r,i.map(s=>new F7.RecordBatch(r,s)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(t=>t.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){let t=this.data.map(r=>r.children[e]);if(t.length===0){let{type:r}=this.schema.fields[e],i=(0,bee.makeData)({type:r,length:0,nullCount:0});t.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new LF.Vector(t)}return null}setChild(e,t){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),t)}setChildAt(e,t){let r=this.schema,i=[...this.batches];if(e>-1&&e<this.numCols){t||(t=new LF.Vector([(0,bee.makeData)({type:new n3e.Null,length:this.numRows})]));let s=r.fields.slice(),o=s[e].clone({type:t.type}),a=this.schema.fields.map((l,f)=>this.getChildAt(f));[s[e],a[e]]=[o,t],[r,i]=(0,See.distributeVectorsIntoRecordBatches)(r,a)}return new Gh(r,i)}select(e){let t=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(e.map(r=>t.get(r)).filter(r=>r>-1))}selectAt(e){let t=this.schema.selectAt(e),r=this.batches.map(i=>i.selectAt(e));return new Gh(t,r)}assign(e){let t=this.schema.fields,[r,i]=e.schema.fields.reduce((a,l,f)=>{let[p,_]=a,b=t.findIndex(R=>R.name===l.name);return~b?_[b]=f:p.push(f),a},[[],[]]),s=this.schema.assign(e.schema),o=[...t.map((a,l)=>[l,i[l]]).map(([a,l])=>l===void 0?this.getChildAt(a):e.getChildAt(l)),...r.map(a=>e.getChildAt(a))].filter(Boolean);return new Gh(...(0,See.distributeVectorsIntoRecordBatches)(s,o))}};N5.Table=Gh;t3e=Symbol.toStringTag;Gh[t3e]=(n=>(n.schema=null,n.batches=[],n._offsets=new Uint32Array([0]),n._nullCount=-1,n[Symbol.isConcatSpreadable]=!0,n.isValid=(0,zg.wrapChunkedCall1)(zg.isChunkedValid),n.get=(0,zg.wrapChunkedCall1)(xJe.instance.getVisitFn(TB.Type.Struct)),n.set=(0,zg.wrapChunkedCall2)(gJe.instance.getVisitFn(TB.Type.Struct)),n.indexOf=(0,zg.wrapChunkedIndexOf)(yJe.instance.getVisitFn(TB.Type.Struct)),n.getByteLength=(0,zg.wrapChunkedCall1)(_Je.instance.getVisitFn(TB.Type.Struct)),"Table"))(Gh.prototype);function bJe(n){let e={},t=Object.entries(n);for(let[r,i]of t)e[r]=(0,LF.makeVector)(i);return new Gh(e)}N5.makeTable=bJe;function SJe(n){let e={},t=Object.entries(n);for(let[r,i]of t)e[r]=(0,pJe.vectorFromArray)(i);return new Gh(e)}N5.tableFromArrays=SJe});var O5=Ae(D7=>{"use strict";m();var r3e;Object.defineProperty(D7,"__esModule",{value:!0});D7._InternalEmptyPlaceholderRecordBatch=D7.RecordBatch=void 0;var Xp=A2(),CJe=T7(),FB=vd(),DB=fh(),Hg=su(),wJe=W_(),AJe=zp(),TJe=cP(),FJe=fP(),DJe=dP(),q2=class{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof DB.Schema))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=(0,Xp.makeData)({nullCount:0,type:new Hg.Struct(this.schema.fields),children:this.schema.fields.map(t=>(0,Xp.makeData)({type:t.type,nullCount:0}))})]=e,!(this.data instanceof Xp.Data))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=i3e(this.schema,this.data.children);break}case 1:{let[t]=e,{fields:r,children:i,length:s}=Object.keys(t).reduce((l,f,p)=>(l.children[p]=t[f],l.length=Math.max(l.length,t[f].length),l.fields[p]=DB.Field.new({name:f,type:t[f].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),o=new DB.Schema(r),a=(0,Xp.makeData)({type:new Hg.Struct(r),length:s,children:i,nullCount:0});[this.schema,this.data]=i3e(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=s3e(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return wJe.instance.visit(this.data,e)}set(e,t){return AJe.instance.visit(this.data,e,t)}indexOf(e,t){return TJe.instance.visit(this.data,e,t)}getByteLength(e){return DJe.instance.visit(this.data,e)}[Symbol.iterator](){return FJe.instance.visit(new FB.Vector([this.data]))}toArray(){return[...this]}concat(...e){return new CJe.Table(this.schema,[this,...e])}slice(e,t){let[r]=new FB.Vector([this.data]).slice(e,t).data;return new q2(this.schema,r)}getChild(e){var t;return this.getChildAt((t=this.schema.fields)===null||t===void 0?void 0:t.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new FB.Vector([this.data.children[e]]):null}setChild(e,t){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),t)}setChildAt(e,t){let r=this.schema,i=this.data;if(e>-1&&e<this.numCols){t||(t=new FB.Vector([(0,Xp.makeData)({type:new Hg.Null,length:this.numRows})]));let s=r.fields.slice(),o=i.children.slice(),a=s[e].clone({type:t.type});[s[e],o[e]]=[a,t.data[0]],r=new DB.Schema(s,new Map(this.schema.metadata)),i=(0,Xp.makeData)({type:new Hg.Struct(s),children:o})}return new q2(r,i)}select(e){let t=this.schema.select(e),r=new Hg.Struct(t.fields),i=[];for(let s of e){let o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new q2(t,(0,Xp.makeData)({type:r,length:this.numRows,children:i}))}selectAt(e){let t=this.schema.selectAt(e),r=e.map(s=>this.data.children[s]).filter(Boolean),i=(0,Xp.makeData)({type:new Hg.Struct(t.fields),length:this.numRows,children:r});return new q2(t,i)}};D7.RecordBatch=q2;r3e=Symbol.toStringTag;q2[r3e]=(n=>(n._nullCount=-1,n[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(q2.prototype);function i3e(n,e,t=e.reduce((r,i)=>Math.max(r,i.length),0)){var r;let i=[...n.fields],s=[...e],o=(t+63&~63)>>3;for(let[a,l]of n.fields.entries()){let f=e[a];(!f||f.length!==t)&&(i[a]=l.clone({nullable:!0}),s[a]=(r=f==null?void 0:f._changeLengthAndBackfillNullBitmap(t))!==null&&r!==void 0?r:(0,Xp.makeData)({type:l.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)}))}return[n.assign(i),(0,Xp.makeData)({type:new Hg.Struct(i),length:t,children:s})]}function s3e(n,e,t=new Map){for(let r=-1,i=n.length;++r<i;){let o=n[r].type,a=e[r];if(Hg.DataType.isDictionary(o)){if(!t.has(o.id))a.dictionary&&t.set(o.id,a.dictionary);else if(t.get(o.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&s3e(o.children,a.children,t)}return t}var o3e=class extends q2{constructor(e){let t=e.fields.map(i=>(0,Xp.makeData)({type:i.type})),r=(0,Xp.makeData)({type:new Hg.Struct(e.fields),nullCount:0,children:t});super(e,r)}};D7._InternalEmptyPlaceholderRecordBatch=o3e});var a3e=Ae(kF=>{"use strict";m();Object.defineProperty(kF,"__esModule",{value:!0});kF.BodyCompressionMethod=void 0;var RJe;(function(n){n[n.BUFFER=0]="BUFFER"})(RJe=kF.BodyCompressionMethod||(kF.BodyCompressionMethod={}))});var u3e=Ae(IF=>{"use strict";m();Object.defineProperty(IF,"__esModule",{value:!0});IF.CompressionType=void 0;var OJe;(function(n){n[n.LZ4_FRAME=0]="LZ4_FRAME",n[n.ZSTD=1]="ZSTD"})(OJe=IF.CompressionType||(IF.CompressionType={}))});var f3e=Ae(RB=>{"use strict";m();Object.defineProperty(RB,"__esModule",{value:!0});RB.BodyCompression=void 0;var NJe=hs(),LJe=NJe.__importStar(wo()),l3e=a3e(),c3e=u3e(),Vg=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBodyCompression(e,t){return(t||new Vg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,t){return e.setPosition(e.position()+LJe.SIZE_PREFIX_LENGTH),(t||new Vg).__init(e.readInt32(e.position())+e.position(),e)}codec(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):c3e.CompressionType.LZ4_FRAME}method(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):l3e.BodyCompressionMethod.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,t){e.addFieldInt8(0,t,c3e.CompressionType.LZ4_FRAME)}static addMethod(e,t){e.addFieldInt8(1,t,l3e.BodyCompressionMethod.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,t,r){return Vg.startBodyCompression(e),Vg.addCodec(e,t),Vg.addMethod(e,r),Vg.endBodyCompression(e)}};RB.BodyCompression=Vg});var L5=Ae(OB=>{"use strict";m();Object.defineProperty(OB,"__esModule",{value:!0});OB.Buffer=void 0;var d3e=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,t,r){return e.prep(8,16),e.writeInt64(r),e.writeInt64(t),e.offset()}};OB.Buffer=d3e});var Cee=Ae(NB=>{"use strict";m();Object.defineProperty(NB,"__esModule",{value:!0});NB.FieldNode=void 0;var h3e=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,t,r){return e.prep(8,16),e.writeInt64(r),e.writeInt64(t),e.offset()}};NB.FieldNode=h3e});var kB=Ae(LB=>{"use strict";m();Object.defineProperty(LB,"__esModule",{value:!0});LB.RecordBatch=void 0;var kJe=hs(),IJe=kJe.__importStar(wo()),MJe=f3e(),PJe=L5(),BJe=Cee(),MF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsRecordBatch(e,t){return(t||new MF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,t){return e.setPosition(e.position()+IJe.SIZE_PREFIX_LENGTH),(t||new MF).__init(e.readInt32(e.position())+e.position(),e)}length(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}nodes(e,t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new BJe.FieldNode).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}nodesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new PJe.Buffer).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}buffersLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){let t=this.bb.__offset(this.bb_pos,10);return t?(e||new MJe.BodyCompression).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addNodes(e,t){e.addFieldOffset(1,t,0)}static startNodesVector(e,t){e.startVector(16,t,8)}static addBuffers(e,t){e.addFieldOffset(2,t,0)}static startBuffersVector(e,t){e.startVector(16,t,8)}static addCompression(e,t){e.addFieldOffset(3,t,0)}static endRecordBatch(e){return e.endObject()}};LB.RecordBatch=MF});var wee=Ae(IB=>{"use strict";m();Object.defineProperty(IB,"__esModule",{value:!0});IB.DictionaryBatch=void 0;var jJe=hs(),qJe=jJe.__importStar(wo()),UJe=kB(),PF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryBatch(e,t){return(t||new PF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,t){return e.setPosition(e.position()+qJe.SIZE_PREFIX_LENGTH),(t||new PF).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}data(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new UJe.RecordBatch).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isDelta(){let e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addData(e,t){e.addFieldOffset(1,t,0)}static addIsDelta(e,t){e.addFieldInt8(2,+t,0)}static endDictionaryBatch(e){return e.endObject()}};IB.DictionaryBatch=PF});var p3e=Ae(BF=>{"use strict";m();Object.defineProperty(BF,"__esModule",{value:!0});BF.SparseMatrixCompressedAxis=void 0;var $Je;(function(n){n[n.Row=0]="Row",n[n.Column=1]="Column"})($Je=BF.SparseMatrixCompressedAxis||(BF.SparseMatrixCompressedAxis={}))});var y3e=Ae(MB=>{"use strict";m();Object.defineProperty(MB,"__esModule",{value:!0});MB.SparseMatrixIndexCSX=void 0;var zJe=hs(),HJe=zJe.__importStar(wo()),m3e=L5(),x3e=p5(),g3e=p3e(),jF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseMatrixIndexCSX(e,t){return(t||new jF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseMatrixIndexCSX(e,t){return e.setPosition(e.position()+HJe.SIZE_PREFIX_LENGTH),(t||new jF).__init(e.readInt32(e.position())+e.position(),e)}compressedAxis(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):g3e.SparseMatrixCompressedAxis.Row}indptrType(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new x3e.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indptrBuffer(e){let t=this.bb.__offset(this.bb_pos,8);return t?(e||new m3e.Buffer).__init(this.bb_pos+t,this.bb):null}indicesType(e){let t=this.bb.__offset(this.bb_pos,10);return t?(e||new x3e.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indicesBuffer(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new m3e.Buffer).__init(this.bb_pos+t,this.bb):null}static startSparseMatrixIndexCSX(e){e.startObject(5)}static addCompressedAxis(e,t){e.addFieldInt16(0,t,g3e.SparseMatrixCompressedAxis.Row)}static addIndptrType(e,t){e.addFieldOffset(1,t,0)}static addIndptrBuffer(e,t){e.addFieldStruct(2,t,0)}static addIndicesType(e,t){e.addFieldOffset(3,t,0)}static addIndicesBuffer(e,t){e.addFieldStruct(4,t,0)}static endSparseMatrixIndexCSX(e){let t=e.endObject();return e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,10),e.requiredField(t,12),t}};MB.SparseMatrixIndexCSX=jF});var v3e=Ae(PB=>{"use strict";m();Object.defineProperty(PB,"__esModule",{value:!0});PB.SparseTensorIndexCOO=void 0;var VJe=hs(),WJe=VJe.__importStar(wo()),QJe=L5(),GJe=p5(),qF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensorIndexCOO(e,t){return(t||new qF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensorIndexCOO(e,t){return e.setPosition(e.position()+WJe.SIZE_PREFIX_LENGTH),(t||new qF).__init(e.readInt32(e.position())+e.position(),e)}indicesType(e){let t=this.bb.__offset(this.bb_pos,4);return t?(e||new GJe.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indicesStrides(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}indicesStridesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}indicesBuffer(e){let t=this.bb.__offset(this.bb_pos,8);return t?(e||new QJe.Buffer).__init(this.bb_pos+t,this.bb):null}isCanonical(){let e=this.bb.__offset(this.bb_pos,10);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startSparseTensorIndexCOO(e){e.startObject(4)}static addIndicesType(e,t){e.addFieldOffset(0,t,0)}static addIndicesStrides(e,t){e.addFieldOffset(1,t,0)}static createIndicesStridesVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addInt64(t[r]);return e.endVector()}static startIndicesStridesVector(e,t){e.startVector(8,t,8)}static addIndicesBuffer(e,t){e.addFieldStruct(2,t,0)}static addIsCanonical(e,t){e.addFieldInt8(3,+t,0)}static endSparseTensorIndexCOO(e){let t=e.endObject();return e.requiredField(t,4),e.requiredField(t,8),t}};PB.SparseTensorIndexCOO=qF});var b3e=Ae(BB=>{"use strict";m();Object.defineProperty(BB,"__esModule",{value:!0});BB.SparseTensorIndexCSF=void 0;var YJe=hs(),KJe=YJe.__importStar(wo()),_3e=L5(),E3e=p5(),UF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensorIndexCSF(e,t){return(t||new UF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensorIndexCSF(e,t){return e.setPosition(e.position()+KJe.SIZE_PREFIX_LENGTH),(t||new UF).__init(e.readInt32(e.position())+e.position(),e)}indptrType(e){let t=this.bb.__offset(this.bb_pos,4);return t?(e||new E3e.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indptrBuffers(e,t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new _3e.Buffer).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}indptrBuffersLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}indicesType(e){let t=this.bb.__offset(this.bb_pos,8);return t?(e||new E3e.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indicesBuffers(e,t){let r=this.bb.__offset(this.bb_pos,10);return r?(t||new _3e.Buffer).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}indicesBuffersLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}axisOrder(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+e*4):0}axisOrderLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}axisOrderArray(){let e=this.bb.__offset(this.bb_pos,12);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startSparseTensorIndexCSF(e){e.startObject(5)}static addIndptrType(e,t){e.addFieldOffset(0,t,0)}static addIndptrBuffers(e,t){e.addFieldOffset(1,t,0)}static startIndptrBuffersVector(e,t){e.startVector(16,t,8)}static addIndicesType(e,t){e.addFieldOffset(2,t,0)}static addIndicesBuffers(e,t){e.addFieldOffset(3,t,0)}static startIndicesBuffersVector(e,t){e.startVector(16,t,8)}static addAxisOrder(e,t){e.addFieldOffset(4,t,0)}static createAxisOrderVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addInt32(t[r]);return e.endVector()}static startAxisOrderVector(e,t){e.startVector(4,t,4)}static endSparseTensorIndexCSF(e){let t=e.endObject();return e.requiredField(t,4),e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,10),e.requiredField(t,12),t}};BB.SparseTensorIndexCSF=UF});var A3e=Ae(Wg=>{"use strict";m();Object.defineProperty(Wg,"__esModule",{value:!0});Wg.unionListToSparseTensorIndex=Wg.unionToSparseTensorIndex=Wg.SparseTensorIndex=void 0;var S3e=y3e(),C3e=v3e(),w3e=b3e(),Aee;(function(n){n[n.NONE=0]="NONE",n[n.SparseTensorIndexCOO=1]="SparseTensorIndexCOO",n[n.SparseMatrixIndexCSX=2]="SparseMatrixIndexCSX",n[n.SparseTensorIndexCSF=3]="SparseTensorIndexCSF"})(Aee=Wg.SparseTensorIndex||(Wg.SparseTensorIndex={}));function JJe(n,e){switch(Aee[n]){case"NONE":return null;case"SparseTensorIndexCOO":return e(new C3e.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return e(new S3e.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return e(new w3e.SparseTensorIndexCSF);default:return null}}Wg.unionToSparseTensorIndex=JJe;function XJe(n,e,t){switch(Aee[n]){case"NONE":return null;case"SparseTensorIndexCOO":return e(t,new C3e.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return e(t,new S3e.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return e(t,new w3e.SparseTensorIndexCSF);default:return null}}Wg.unionListToSparseTensorIndex=XJe});var Tee=Ae(jB=>{"use strict";m();Object.defineProperty(jB,"__esModule",{value:!0});jB.TensorDim=void 0;var ZJe=hs(),eXe=ZJe.__importStar(wo()),Qg=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensorDim(e,t){return(t||new Qg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensorDim(e,t){return e.setPosition(e.position()+eXe.SIZE_PREFIX_LENGTH),(t||new Qg).__init(e.readInt32(e.position())+e.position(),e)}size(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}name(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startTensorDim(e){e.startObject(2)}static addSize(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addName(e,t){e.addFieldOffset(1,t,0)}static endTensorDim(e){return e.endObject()}static createTensorDim(e,t,r){return Qg.startTensorDim(e),Qg.addSize(e,t),Qg.addName(e,r),Qg.endTensorDim(e)}};jB.TensorDim=Qg});var D3e=Ae(qB=>{"use strict";m();Object.defineProperty(qB,"__esModule",{value:!0});qB.SparseTensor=void 0;var tXe=hs(),nXe=tXe.__importStar(wo()),rXe=L5(),T3e=A3e(),iXe=Tee(),F3e=x7(),$F=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensor(e,t){return(t||new $F).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensor(e,t){return e.setPosition(e.position()+nXe.SIZE_PREFIX_LENGTH),(t||new $F).__init(e.readInt32(e.position())+e.position(),e)}typeType(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):F3e.Type.NONE}type(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__union(e,this.bb_pos+t):null}shape(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new iXe.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}shapeLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}nonZeroLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}sparseIndexType(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readUint8(this.bb_pos+e):T3e.SparseTensorIndex.NONE}sparseIndex(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__union(e,this.bb_pos+t):null}data(e){let t=this.bb.__offset(this.bb_pos,16);return t?(e||new rXe.Buffer).__init(this.bb_pos+t,this.bb):null}static startSparseTensor(e){e.startObject(7)}static addTypeType(e,t){e.addFieldInt8(0,t,F3e.Type.NONE)}static addType(e,t){e.addFieldOffset(1,t,0)}static addShape(e,t){e.addFieldOffset(2,t,0)}static createShapeVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startShapeVector(e,t){e.startVector(4,t,4)}static addNonZeroLength(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}static addSparseIndexType(e,t){e.addFieldInt8(4,t,T3e.SparseTensorIndex.NONE)}static addSparseIndex(e,t){e.addFieldOffset(5,t,0)}static addData(e,t){e.addFieldStruct(6,t,0)}static endSparseTensor(e){let t=e.endObject();return e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,14),e.requiredField(t,16),t}static finishSparseTensorBuffer(e,t){e.finish(t)}static finishSizePrefixedSparseTensorBuffer(e,t){e.finish(t,void 0,!0)}};qB.SparseTensor=$F});var O3e=Ae(UB=>{"use strict";m();Object.defineProperty(UB,"__esModule",{value:!0});UB.Tensor=void 0;var sXe=hs(),oXe=sXe.__importStar(wo()),aXe=L5(),uXe=Tee(),R3e=x7(),zF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensor(e,t){return(t||new zF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensor(e,t){return e.setPosition(e.position()+oXe.SIZE_PREFIX_LENGTH),(t||new zF).__init(e.readInt32(e.position())+e.position(),e)}typeType(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):R3e.Type.NONE}type(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__union(e,this.bb_pos+t):null}shape(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new uXe.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}shapeLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}strides(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}stridesLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}data(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new aXe.Buffer).__init(this.bb_pos+t,this.bb):null}static startTensor(e){e.startObject(5)}static addTypeType(e,t){e.addFieldInt8(0,t,R3e.Type.NONE)}static addType(e,t){e.addFieldOffset(1,t,0)}static addShape(e,t){e.addFieldOffset(2,t,0)}static createShapeVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startShapeVector(e,t){e.startVector(4,t,4)}static addStrides(e,t){e.addFieldOffset(3,t,0)}static createStridesVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addInt64(t[r]);return e.endVector()}static startStridesVector(e,t){e.startVector(8,t,8)}static addData(e,t){e.addFieldStruct(4,t,0)}static endTensor(e){let t=e.endObject();return e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,12),t}static finishTensorBuffer(e,t){e.finish(t)}static finishSizePrefixedTensorBuffer(e,t){e.finish(t,void 0,!0)}};UB.Tensor=zF});var Dee=Ae(Gg=>{"use strict";m();Object.defineProperty(Gg,"__esModule",{value:!0});Gg.unionListToMessageHeader=Gg.unionToMessageHeader=Gg.MessageHeader=void 0;var N3e=wee(),L3e=kB(),k3e=rB(),I3e=D3e(),M3e=O3e(),Fee;(function(n){n[n.NONE=0]="NONE",n[n.Schema=1]="Schema",n[n.DictionaryBatch=2]="DictionaryBatch",n[n.RecordBatch=3]="RecordBatch",n[n.Tensor=4]="Tensor",n[n.SparseTensor=5]="SparseTensor"})(Fee=Gg.MessageHeader||(Gg.MessageHeader={}));function lXe(n,e){switch(Fee[n]){case"NONE":return null;case"Schema":return e(new k3e.Schema);case"DictionaryBatch":return e(new N3e.DictionaryBatch);case"RecordBatch":return e(new L3e.RecordBatch);case"Tensor":return e(new M3e.Tensor);case"SparseTensor":return e(new I3e.SparseTensor);default:return null}}Gg.unionToMessageHeader=lXe;function cXe(n,e,t){switch(Fee[n]){case"NONE":return null;case"Schema":return e(t,new k3e.Schema);case"DictionaryBatch":return e(t,new N3e.DictionaryBatch);case"RecordBatch":return e(t,new L3e.RecordBatch);case"Tensor":return e(t,new M3e.Tensor);case"SparseTensor":return e(t,new I3e.SparseTensor);default:return null}}Gg.unionListToMessageHeader=cXe});var j3e=Ae($B=>{"use strict";m();Object.defineProperty($B,"__esModule",{value:!0});$B.Message=void 0;var fXe=hs(),dXe=fXe.__importStar(wo()),hXe=m7(),P3e=Dee(),B3e=dZ(),Zp=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMessage(e,t){return(t||new Zp).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,t){return e.setPosition(e.position()+dXe.SIZE_PREFIX_LENGTH),(t||new Zp).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):B3e.MetadataVersion.V1}headerType(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):P3e.MessageHeader.NONE}header(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}bodyLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,12);return r?(t||new hXe.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,B3e.MetadataVersion.V1)}static addHeaderType(e,t){e.addFieldInt8(1,t,P3e.MessageHeader.NONE)}static addHeader(e,t){e.addFieldOffset(2,t,0)}static addBodyLength(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,t){e.finish(t)}static finishSizePrefixedMessageBuffer(e,t){e.finish(t,void 0,!0)}static createMessage(e,t,r,i,s,o){return Zp.startMessage(e),Zp.addVersion(e,t),Zp.addHeaderType(e,r),Zp.addHeader(e,i),Zp.addBodyLength(e,s),Zp.addCustomMetadata(e,o),Zp.endMessage(e)}};$B.Message=Zp});var W3e=Ae(O7=>{"use strict";m();Object.defineProperty(O7,"__esModule",{value:!0});O7.instance=O7.TypeAssembler=void 0;var pXe=hs(),mXe=pXe.__importStar(wo()),xXe=mXe.Long,gXe=yd(),q3e=yZ(),zB=p5(),Ree=PP(),U3e=mZ(),$3e=xZ(),z3e=_Z(),HF=DP(),Oee=TP(),HB=YP(),VB=JP(),Nee=jP(),H3e=gZ(),V3e=vZ(),R7=ZP(),VF=pZ(),Lee=LP(),kee=IP(),Iee=VP(),Mee=class extends gXe.Visitor{visit(e,t){return e==null||t==null?void 0:super.visit(e,t)}visitNull(e,t){return q3e.Null.startNull(t),q3e.Null.endNull(t)}visitInt(e,t){return zB.Int.startInt(t),zB.Int.addBitWidth(t,e.bitWidth),zB.Int.addIsSigned(t,e.isSigned),zB.Int.endInt(t)}visitFloat(e,t){return Ree.FloatingPoint.startFloatingPoint(t),Ree.FloatingPoint.addPrecision(t,e.precision),Ree.FloatingPoint.endFloatingPoint(t)}visitBinary(e,t){return U3e.Binary.startBinary(t),U3e.Binary.endBinary(t)}visitBool(e,t){return $3e.Bool.startBool(t),$3e.Bool.endBool(t)}visitUtf8(e,t){return z3e.Utf8.startUtf8(t),z3e.Utf8.endUtf8(t)}visitDecimal(e,t){return HF.Decimal.startDecimal(t),HF.Decimal.addScale(t,e.scale),HF.Decimal.addPrecision(t,e.precision),HF.Decimal.addBitWidth(t,e.bitWidth),HF.Decimal.endDecimal(t)}visitDate(e,t){return Oee.Date.startDate(t),Oee.Date.addUnit(t,e.unit),Oee.Date.endDate(t)}visitTime(e,t){return HB.Time.startTime(t),HB.Time.addUnit(t,e.unit),HB.Time.addBitWidth(t,e.bitWidth),HB.Time.endTime(t)}visitTimestamp(e,t){let r=e.timezone&&t.createString(e.timezone)||void 0;return VB.Timestamp.startTimestamp(t),VB.Timestamp.addUnit(t,e.unit),r!==void 0&&VB.Timestamp.addTimezone(t,r),VB.Timestamp.endTimestamp(t)}visitInterval(e,t){return Nee.Interval.startInterval(t),Nee.Interval.addUnit(t,e.unit),Nee.Interval.endInterval(t)}visitList(e,t){return H3e.List.startList(t),H3e.List.endList(t)}visitStruct(e,t){return V3e.Struct_.startStruct_(t),V3e.Struct_.endStruct_(t)}visitUnion(e,t){R7.Union.startTypeIdsVector(t,e.typeIds.length);let r=R7.Union.createTypeIdsVector(t,e.typeIds);return R7.Union.startUnion(t),R7.Union.addMode(t,e.mode),R7.Union.addTypeIds(t,r),R7.Union.endUnion(t)}visitDictionary(e,t){let r=this.visit(e.indices,t);return VF.DictionaryEncoding.startDictionaryEncoding(t),VF.DictionaryEncoding.addId(t,new xXe(e.id,0)),VF.DictionaryEncoding.addIsOrdered(t,e.isOrdered),r!==void 0&&VF.DictionaryEncoding.addIndexType(t,r),VF.DictionaryEncoding.endDictionaryEncoding(t)}visitFixedSizeBinary(e,t){return Lee.FixedSizeBinary.startFixedSizeBinary(t),Lee.FixedSizeBinary.addByteWidth(t,e.byteWidth),Lee.FixedSizeBinary.endFixedSizeBinary(t)}visitFixedSizeList(e,t){return kee.FixedSizeList.startFixedSizeList(t),kee.FixedSizeList.addListSize(t,e.listSize),kee.FixedSizeList.endFixedSizeList(t)}visitMap(e,t){return Iee.Map.startMap(t),Iee.Map.addKeysSorted(t,e.keysSorted),Iee.Map.endMap(t)}};O7.TypeAssembler=Mee;O7.instance=new Mee});var Z3e=Ae(U2=>{"use strict";m();Object.defineProperty(U2,"__esModule",{value:!0});U2.fieldFromJSON=U2.dictionaryBatchFromJSON=U2.recordBatchFromJSON=U2.schemaFromJSON=void 0;var N7=fh(),Hu=su(),l6=c6(),L7=kl();function yXe(n,e=new Map){return new N7.Schema(_Xe(n,e),WB(n.customMetadata),e)}U2.schemaFromJSON=yXe;function Q3e(n){return new l6.RecordBatch(n.count,Y3e(n.columns),K3e(n.columns))}U2.recordBatchFromJSON=Q3e;function vXe(n){return new l6.DictionaryBatch(Q3e(n.data),n.id,n.isDelta)}U2.dictionaryBatchFromJSON=vXe;function _Xe(n,e){return(n.fields||[]).filter(Boolean).map(t=>N7.Field.fromJSON(t,e))}function G3e(n,e){return(n.children||[]).filter(Boolean).map(t=>N7.Field.fromJSON(t,e))}function Y3e(n){return(n||[]).reduce((e,t)=>[...e,new l6.FieldNode(t.count,EXe(t.VALIDITY)),...Y3e(t.children)],[])}function K3e(n,e=[]){for(let t=-1,r=(n||[]).length;++t<r;){let i=n[t];i.VALIDITY&&e.push(new l6.BufferRegion(e.length,i.VALIDITY.length)),i.TYPE&&e.push(new l6.BufferRegion(e.length,i.TYPE.length)),i.OFFSET&&e.push(new l6.BufferRegion(e.length,i.OFFSET.length)),i.DATA&&e.push(new l6.BufferRegion(e.length,i.DATA.length)),e=K3e(i.children,e)}return e}function EXe(n){return(n||[]).reduce((e,t)=>e+ +(t===0),0)}function bXe(n,e){let t,r,i,s,o,a;return!e||!(s=n.dictionary)?(o=X3e(n,G3e(n,e)),i=new N7.Field(n.name,o,n.nullable,WB(n.customMetadata))):e.has(t=s.id)?(r=(r=s.indexType)?J3e(r):new Hu.Int32,a=new Hu.Dictionary(e.get(t),r,t,s.isOrdered),i=new N7.Field(n.name,a,n.nullable,WB(n.customMetadata))):(r=(r=s.indexType)?J3e(r):new Hu.Int32,e.set(t,o=X3e(n,G3e(n,e))),a=new Hu.Dictionary(o,r,t,s.isOrdered),i=new N7.Field(n.name,a,n.nullable,WB(n.customMetadata))),i||null}U2.fieldFromJSON=bXe;function WB(n){return new Map(Object.entries(n||{}))}function J3e(n){return new Hu.Int(n.isSigned,n.bitWidth)}function X3e(n,e){let t=n.type.name;switch(t){case"NONE":return new Hu.Null;case"null":return new Hu.Null;case"binary":return new Hu.Binary;case"utf8":return new Hu.Utf8;case"bool":return new Hu.Bool;case"list":return new Hu.List((e||[])[0]);case"struct":return new Hu.Struct(e||[]);case"struct_":return new Hu.Struct(e||[])}switch(t){case"int":{let r=n.type;return new Hu.Int(r.isSigned,r.bitWidth)}case"floatingpoint":{let r=n.type;return new Hu.Float(L7.Precision[r.precision])}case"decimal":{let r=n.type;return new Hu.Decimal(r.scale,r.precision,r.bitWidth)}case"date":{let r=n.type;return new Hu.Date_(L7.DateUnit[r.unit])}case"time":{let r=n.type;return new Hu.Time(L7.TimeUnit[r.unit],r.bitWidth)}case"timestamp":{let r=n.type;return new Hu.Timestamp(L7.TimeUnit[r.unit],r.timezone)}case"interval":{let r=n.type;return new Hu.Interval(L7.IntervalUnit[r.unit])}case"union":{let r=n.type;return new Hu.Union(L7.UnionMode[r.mode],r.typeIds||[],e||[])}case"fixedsizebinary":{let r=n.type;return new Hu.FixedSizeBinary(r.byteWidth)}case"fixedsizelist":{let r=n.type;return new Hu.FixedSizeList(r.listSize,(e||[])[0])}case"map":{let r=n.type;return new Hu.Map_((e||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${t}"`)}});var c6=Ae(t1=>{"use strict";m();Object.defineProperty(t1,"__esModule",{value:!0});t1.FieldNode=t1.BufferRegion=t1.DictionaryBatch=t1.RecordBatch=t1.Message=void 0;var SXe=hs(),Pee=SXe.__importStar(wo()),Yg=rB(),CXe=p5(),k5=kB(),k7=wee(),wXe=L5(),_m=bZ(),AXe=Cee(),Qc=x7(),I5=m7(),e5e=hZ(),TXe=PP(),FXe=DP(),DXe=TP(),RXe=YP(),OXe=JP(),NXe=jP(),LXe=ZP(),kXe=LP(),IXe=IP(),MXe=VP(),M5=j3e(),vf=fh(),PXe=Qf(),Ml=kl(),Bee=W3e(),QB=Z3e(),f6=Pee.Long,BXe=Pee.Builder,jXe=Pee.ByteBuffer,Vu=su(),P5=class{constructor(e,t,r,i){this._version=t,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=typeof e=="number"?e:e.low}static fromJSON(e,t){let r=new P5(0,Ml.MetadataVersion.V4,t);return r._createHeader=qXe(e,t),r}static decode(e){e=new jXe((0,PXe.toUint8Array)(e));let t=M5.Message.getRootAsMessage(e),r=t.bodyLength(),i=t.version(),s=t.headerType(),o=new P5(r,i,s);return o._createHeader=UXe(t,s),o}static encode(e){let t=new BXe,r=-1;return e.isSchema()?r=vf.Schema.encode(t,e.header()):e.isRecordBatch()?r=e1.encode(t,e.header()):e.isDictionaryBatch()&&(r=$2.encode(t,e.header())),M5.Message.startMessage(t),M5.Message.addVersion(t,Ml.MetadataVersion.V4),M5.Message.addHeader(t,r),M5.Message.addHeaderType(t,e.headerType),M5.Message.addBodyLength(t,new f6(e.bodyLength,0)),M5.Message.finishMessageBuffer(t,M5.Message.endMessage(t)),t.asUint8Array()}static from(e,t=0){if(e instanceof vf.Schema)return new P5(0,Ml.MetadataVersion.V4,Ml.MessageHeader.Schema,e);if(e instanceof e1)return new P5(t,Ml.MetadataVersion.V4,Ml.MessageHeader.RecordBatch,e);if(e instanceof $2)return new P5(t,Ml.MetadataVersion.V4,Ml.MessageHeader.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Ml.MessageHeader.Schema}isRecordBatch(){return this.headerType===Ml.MessageHeader.RecordBatch}isDictionaryBatch(){return this.headerType===Ml.MessageHeader.DictionaryBatch}};t1.Message=P5;var e1=class{constructor(e,t,r){this._nodes=t,this._buffers=r,this._length=typeof e=="number"?e:e.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}};t1.RecordBatch=e1;var $2=class{constructor(e,t,r=!1){this._data=e,this._isDelta=r,this._id=typeof t=="number"?t:t.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}};t1.DictionaryBatch=$2;var d6=class{constructor(e,t){this.offset=typeof e=="number"?e:e.low,this.length=typeof t=="number"?t:t.low}};t1.BufferRegion=d6;var h6=class{constructor(e,t){this.length=typeof e=="number"?e:e.low,this.nullCount=typeof t=="number"?t:t.low}};t1.FieldNode=h6;function qXe(n,e){return()=>{switch(e){case Ml.MessageHeader.Schema:return vf.Schema.fromJSON(n);case Ml.MessageHeader.RecordBatch:return e1.fromJSON(n);case Ml.MessageHeader.DictionaryBatch:return $2.fromJSON(n)}throw new Error(`Unrecognized Message type: { name: ${Ml.MessageHeader[e]}, type: ${e} }`)}}function UXe(n,e){return()=>{switch(e){case Ml.MessageHeader.Schema:return vf.Schema.decode(n.header(new Yg.Schema));case Ml.MessageHeader.RecordBatch:return e1.decode(n.header(new k5.RecordBatch),n.version());case Ml.MessageHeader.DictionaryBatch:return $2.decode(n.header(new k7.DictionaryBatch),n.version())}throw new Error(`Unrecognized Message type: { name: ${Ml.MessageHeader[e]}, type: ${e} }`)}}vf.Field.encode=XXe;vf.Field.decode=KXe;vf.Field.fromJSON=QB.fieldFromJSON;vf.Schema.encode=JXe;vf.Schema.decode=$Xe;vf.Schema.fromJSON=QB.schemaFromJSON;e1.encode=ZXe;e1.decode=zXe;e1.fromJSON=QB.recordBatchFromJSON;$2.encode=eZe;$2.decode=HXe;$2.fromJSON=QB.dictionaryBatchFromJSON;h6.encode=tZe;h6.decode=WXe;d6.encode=nZe;d6.decode=VXe;function $Xe(n,e=new Map){let t=YXe(n,e);return new vf.Schema(t,GB(n),e)}function zXe(n,e=Ml.MetadataVersion.V4){if(n.compression()!==null)throw new Error("Record batch compression not implemented");return new e1(n.length(),QXe(n),GXe(n,e))}function HXe(n,e=Ml.MetadataVersion.V4){return new $2(e1.decode(n.data(),e),n.id(),n.isDelta())}function VXe(n){return new d6(n.offset(),n.length())}function WXe(n){return new h6(n.length(),n.nullCount())}function QXe(n){let e=[];for(let t,r=-1,i=-1,s=n.nodesLength();++r<s;)(t=n.nodes(r))&&(e[++i]=h6.decode(t));return e}function GXe(n,e){let t=[];for(let r,i=-1,s=-1,o=n.buffersLength();++i<o;)(r=n.buffers(i))&&(e<Ml.MetadataVersion.V4&&(r.bb_pos+=8*(i+1)),t[++s]=d6.decode(r));return t}function YXe(n,e){let t=[];for(let r,i=-1,s=-1,o=n.fieldsLength();++i<o;)(r=n.fields(i))&&(t[++s]=vf.Field.decode(r,e));return t}function t5e(n,e){let t=[];for(let r,i=-1,s=-1,o=n.childrenLength();++i<o;)(r=n.children(i))&&(t[++s]=vf.Field.decode(r,e));return t}function KXe(n,e){let t,r,i,s,o,a;return!e||!(a=n.dictionary())?(i=r5e(n,t5e(n,e)),r=new vf.Field(n.name(),i,n.nullable(),GB(n))):e.has(t=a.id().low)?(s=(s=a.indexType())?n5e(s):new Vu.Int32,o=new Vu.Dictionary(e.get(t),s,t,a.isOrdered()),r=new vf.Field(n.name(),o,n.nullable(),GB(n))):(s=(s=a.indexType())?n5e(s):new Vu.Int32,e.set(t,i=r5e(n,t5e(n,e))),o=new Vu.Dictionary(i,s,t,a.isOrdered()),r=new vf.Field(n.name(),o,n.nullable(),GB(n))),r||null}function GB(n){let e=new Map;if(n)for(let t,r,i=-1,s=Math.trunc(n.customMetadataLength());++i<s;)(t=n.customMetadata(i))&&(r=t.key())!=null&&e.set(r,t.value());return e}function n5e(n){return new Vu.Int(n.isSigned(),n.bitWidth())}function r5e(n,e){let t=n.typeType();switch(t){case Qc.Type.NONE:return new Vu.Null;case Qc.Type.Null:return new Vu.Null;case Qc.Type.Binary:return new Vu.Binary;case Qc.Type.Utf8:return new Vu.Utf8;case Qc.Type.Bool:return new Vu.Bool;case Qc.Type.List:return new Vu.List((e||[])[0]);case Qc.Type.Struct_:return new Vu.Struct(e||[])}switch(t){case Qc.Type.Int:{let r=n.type(new CXe.Int);return new Vu.Int(r.isSigned(),r.bitWidth())}case Qc.Type.FloatingPoint:{let r=n.type(new TXe.FloatingPoint);return new Vu.Float(r.precision())}case Qc.Type.Decimal:{let r=n.type(new FXe.Decimal);return new Vu.Decimal(r.scale(),r.precision(),r.bitWidth())}case Qc.Type.Date:{let r=n.type(new DXe.Date);return new Vu.Date_(r.unit())}case Qc.Type.Time:{let r=n.type(new RXe.Time);return new Vu.Time(r.unit(),r.bitWidth())}case Qc.Type.Timestamp:{let r=n.type(new OXe.Timestamp);return new Vu.Timestamp(r.unit(),r.timezone())}case Qc.Type.Interval:{let r=n.type(new NXe.Interval);return new Vu.Interval(r.unit())}case Qc.Type.Union:{let r=n.type(new LXe.Union);return new Vu.Union(r.mode(),r.typeIdsArray()||[],e||[])}case Qc.Type.FixedSizeBinary:{let r=n.type(new kXe.FixedSizeBinary);return new Vu.FixedSizeBinary(r.byteWidth())}case Qc.Type.FixedSizeList:{let r=n.type(new IXe.FixedSizeList);return new Vu.FixedSizeList(r.listSize(),(e||[])[0])}case Qc.Type.Map:{let r=n.type(new MXe.Map);return new Vu.Map_((e||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${Qc.Type[t]}" (${t})`)}function JXe(n,e){let t=e.fields.map(s=>vf.Field.encode(n,s));Yg.Schema.startFieldsVector(n,t.length);let r=Yg.Schema.createFieldsVector(n,t),i=e.metadata&&e.metadata.size>0?Yg.Schema.createCustomMetadataVector(n,[...e.metadata].map(([s,o])=>{let a=n.createString(`${s}`),l=n.createString(`${o}`);return I5.KeyValue.startKeyValue(n),I5.KeyValue.addKey(n,a),I5.KeyValue.addValue(n,l),I5.KeyValue.endKeyValue(n)})):-1;return Yg.Schema.startSchema(n),Yg.Schema.addFields(n,r),Yg.Schema.addEndianness(n,rZe?e5e.Endianness.Little:e5e.Endianness.Big),i!==-1&&Yg.Schema.addCustomMetadata(n,i),Yg.Schema.endSchema(n)}function XXe(n,e){let t=-1,r=-1,i=-1,s=e.type,o=e.typeId;Vu.DataType.isDictionary(s)?(o=s.dictionary.typeId,i=Bee.instance.visit(s,n),r=Bee.instance.visit(s.dictionary,n)):r=Bee.instance.visit(s,n);let a=(s.children||[]).map(p=>vf.Field.encode(n,p)),l=_m.Field.createChildrenVector(n,a),f=e.metadata&&e.metadata.size>0?_m.Field.createCustomMetadataVector(n,[...e.metadata].map(([p,_])=>{let b=n.createString(`${p}`),R=n.createString(`${_}`);return I5.KeyValue.startKeyValue(n),I5.KeyValue.addKey(n,b),I5.KeyValue.addValue(n,R),I5.KeyValue.endKeyValue(n)})):-1;return e.name&&(t=n.createString(e.name)),_m.Field.startField(n),_m.Field.addType(n,r),_m.Field.addTypeType(n,o),_m.Field.addChildren(n,l),_m.Field.addNullable(n,!!e.nullable),t!==-1&&_m.Field.addName(n,t),i!==-1&&_m.Field.addDictionary(n,i),f!==-1&&_m.Field.addCustomMetadata(n,f),_m.Field.endField(n)}function ZXe(n,e){let t=e.nodes||[],r=e.buffers||[];k5.RecordBatch.startNodesVector(n,t.length);for(let o of t.slice().reverse())h6.encode(n,o);let i=n.endVector();k5.RecordBatch.startBuffersVector(n,r.length);for(let o of r.slice().reverse())d6.encode(n,o);let s=n.endVector();return k5.RecordBatch.startRecordBatch(n),k5.RecordBatch.addLength(n,new f6(e.length,0)),k5.RecordBatch.addNodes(n,i),k5.RecordBatch.addBuffers(n,s),k5.RecordBatch.endRecordBatch(n)}function eZe(n,e){let t=e1.encode(n,e.data);return k7.DictionaryBatch.startDictionaryBatch(n),k7.DictionaryBatch.addId(n,new f6(e.id,0)),k7.DictionaryBatch.addIsDelta(n,e.isDelta),k7.DictionaryBatch.addData(n,t),k7.DictionaryBatch.endDictionaryBatch(n)}function tZe(n,e){return AXe.FieldNode.createFieldNode(n,new f6(e.length,0),new f6(e.nullCount,0))}function nZe(n,e){return wXe.Buffer.createBuffer(n,new f6(e.offset,0),new f6(e.length,0))}var rZe=(()=>{let n=new ArrayBuffer(2);return new DataView(n).setInt16(0,256,!0),new Int16Array(n)[0]===256})()});var KB=Ae(Ko=>{"use strict";m();Object.defineProperty(Ko,"__esModule",{value:!0});Ko.magicX2AndPadding=Ko.magicAndPadding=Ko.magicLength=Ko.checkForMagicArrowString=Ko.MAGIC=Ko.MAGIC_STR=Ko.PADDING=Ko.JSONMessageReader=Ko.AsyncMessageReader=Ko.MessageReader=void 0;var B5=hs(),j5=kl(),i5e=wo(),WF=c6(),iZe=C2(),sZe=RZ(),s5e=Qf(),YB=A5(),Em=vF(),jee=n=>`Expected ${j5.MessageHeader[n]} Message in stream, but was null or length 0.`,qee=n=>`Header pointer of flatbuffer-encoded ${j5.MessageHeader[n]} Message is null or length 0.`,o5e=(n,e)=>`Expected to read ${n} metadata bytes, but only read ${e}.`,a5e=(n,e)=>`Expected to read ${n} bytes for message body, but only read ${e}.`,Uee=class{constructor(e){this.source=e instanceof YB.ByteStream?e:new YB.ByteStream(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?Em.ITERATOR_DONE:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(jee(e));return t.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);let t=(0,s5e.toUint8Array)(this.source.read(e));if(t.byteLength<e)throw new Error(a5e(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}readSchema(e=!1){let t=j5.MessageHeader.Schema,r=this.readMessage(t),i=r==null?void 0:r.header();if(e&&!i)throw new Error(qee(t));return i}readMetadataLength(){let e=this.source.read(Ko.PADDING),t=e&&new i5e.ByteBuffer(e),r=(t==null?void 0:t.readInt32(0))||0;return{done:r===0,value:r}}readMetadata(e){let t=this.source.read(e);if(!t)return Em.ITERATOR_DONE;if(t.byteLength<e)throw new Error(o5e(e,t.byteLength));return{done:!1,value:WF.Message.decode(t)}}};Ko.MessageReader=Uee;var u5e=class{constructor(e,t){this.source=e instanceof YB.AsyncByteStream?e:(0,iZe.isFileHandle)(e)?new sZe.AsyncRandomAccessFile(e,t):new YB.AsyncByteStream(e)}[Symbol.asyncIterator](){return this}next(){return B5.__awaiter(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||e.value===-1&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?Em.ITERATOR_DONE:e})}throw(e){return B5.__awaiter(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return B5.__awaiter(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return B5.__awaiter(this,void 0,void 0,function*(){let t;if((t=yield this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(jee(e));return t.value})}readMessageBody(e){return B5.__awaiter(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);let t=(0,s5e.toUint8Array)(yield this.source.read(e));if(t.byteLength<e)throw new Error(a5e(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()})}readSchema(e=!1){return B5.__awaiter(this,void 0,void 0,function*(){let t=j5.MessageHeader.Schema,r=yield this.readMessage(t),i=r==null?void 0:r.header();if(e&&!i)throw new Error(qee(t));return i})}readMetadataLength(){return B5.__awaiter(this,void 0,void 0,function*(){let e=yield this.source.read(Ko.PADDING),t=e&&new i5e.ByteBuffer(e),r=(t==null?void 0:t.readInt32(0))||0;return{done:r===0,value:r}})}readMetadata(e){return B5.__awaiter(this,void 0,void 0,function*(){let t=yield this.source.read(e);if(!t)return Em.ITERATOR_DONE;if(t.byteLength<e)throw new Error(o5e(e,t.byteLength));return{done:!1,value:WF.Message.decode(t)}})}};Ko.AsyncMessageReader=u5e;var l5e=class extends Uee{constructor(e){super(new Uint8Array(0));this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof Em.ArrowJSON?e:new Em.ArrowJSON(e)}next(){let{_json:e}=this;if(!this._schema){this._schema=!0;let t=WF.Message.fromJSON(e.schema,j5.MessageHeader.Schema);return{done:!1,value:t}}if(this._dictionaryIndex<e.dictionaries.length){let t=e.dictionaries[this._dictionaryIndex++];this._body=t.data.columns;let r=WF.Message.fromJSON(t,j5.MessageHeader.DictionaryBatch);return{done:!1,value:r}}if(this._batchIndex<e.batches.length){let t=e.batches[this._batchIndex++];this._body=t.columns;let r=WF.Message.fromJSON(t,j5.MessageHeader.RecordBatch);return{done:!1,value:r}}return this._body=[],Em.ITERATOR_DONE}readMessageBody(e){return t(this._body);function t(r){return(r||[]).reduce((i,s)=>[...i,...s.VALIDITY&&[s.VALIDITY]||[],...s.TYPE&&[s.TYPE]||[],...s.OFFSET&&[s.OFFSET]||[],...s.DATA&&[s.DATA]||[],...t(s.children)],[])}}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(jee(e));return t.value}readSchema(){let e=j5.MessageHeader.Schema,t=this.readMessage(e),r=t==null?void 0:t.header();if(!t||!r)throw new Error(qee(e));return r}};Ko.JSONMessageReader=l5e;Ko.PADDING=4;Ko.MAGIC_STR="ARROW1";Ko.MAGIC=new Uint8Array(Ko.MAGIC_STR.length);for(let n=0;n<Ko.MAGIC_STR.length;n+=1)Ko.MAGIC[n]=Ko.MAGIC_STR.codePointAt(n);function oZe(n,e=0){for(let t=-1,r=Ko.MAGIC.length;++t<r;)if(Ko.MAGIC[t]!==n[e+t])return!1;return!0}Ko.checkForMagicArrowString=oZe;Ko.magicLength=Ko.MAGIC.length;Ko.magicAndPadding=Ko.magicLength+Ko.PADDING;Ko.magicX2AndPadding=Ko.magicLength*2+Ko.PADDING});var KF=Ae(i1=>{"use strict";m();Object.defineProperty(i1,"__esModule",{value:!0});i1.AsyncRecordBatchFileReader=i1.RecordBatchFileReader=i1.AsyncRecordBatchStreamReader=i1.RecordBatchStreamReader=i1.RecordBatchReader=void 0;var Ua=hs(),aZe=A2(),c5e=vd(),uZe=su(),JB=kl(),f5e=AZ(),d5e=Ua.__importDefault(tF()),h5e=A5(),QF=RZ(),p5e=wye(),$ee=O5(),p6=vF(),n1=KB(),r1=C2(),z2=class extends p6.ReadableInterop{constructor(e){super();this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){let t=this._impl.open(e);return(0,r1.isPromise)(t)?t.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return d5e.default.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return d5e.default.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof z2?e:(0,r1.isArrowJSON)(e)?lZe(e):(0,r1.isFileHandle)(e)?dZe(e):(0,r1.isPromise)(e)?(()=>Ua.__awaiter(this,void 0,void 0,function*(){return yield z2.from(yield e)}))():(0,r1.isFetchResponse)(e)||(0,r1.isReadableDOMStream)(e)||(0,r1.isReadableNodeStream)(e)||(0,r1.isAsyncIterable)(e)?fZe(new h5e.AsyncByteStream(e)):cZe(new h5e.ByteStream(e))}static readAll(e){return e instanceof z2?e.isSync()?y5e(e):v5e(e):(0,r1.isArrowJSON)(e)||ArrayBuffer.isView(e)||(0,r1.isIterable)(e)||(0,r1.isIteratorResult)(e)?y5e(e):v5e(e)}};i1.RecordBatchReader=z2;var I7=class extends z2{constructor(e){super(e);this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return Ua.__asyncGenerator(this,arguments,function*(){yield Ua.__await(yield*Ua.__asyncDelegator(Ua.__asyncValues(this[Symbol.iterator]())))})}};i1.RecordBatchStreamReader=I7;var M7=class extends z2{constructor(e){super(e);this._impl=e}readAll(){var e,t;return Ua.__awaiter(this,void 0,void 0,function*(){let r=new Array;try{for(var i=Ua.__asyncValues(this),s;s=yield i.next(),!s.done;){let o=s.value;r.push(o)}}catch(o){e={error:o}}finally{try{s&&!s.done&&(t=i.return)&&(yield t.call(i))}finally{if(e)throw e.error}}return r})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}};i1.AsyncRecordBatchStreamReader=M7;var XB=class extends I7{constructor(e){super(e);this._impl=e}};i1.RecordBatchFileReader=XB;var zee=class extends M7{constructor(e){super(e);this._impl=e}};i1.AsyncRecordBatchFileReader=zee;var Hee=class{constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,t){let r=this._loadVectors(e,t,this.schema.fields),i=(0,aZe.makeData)({type:new uZe.Struct(this.schema.fields),length:e.length,children:r});return new $ee.RecordBatch(this.schema,i)}_loadDictionaryBatch(e,t){let{id:r,isDelta:i}=e,{dictionaries:s,schema:o}=this,a=s.get(r);if(i||!a){let l=o.dictionaries.get(r),f=this._loadVectors(e.data,t,[l]);return(a&&i?a.concat(new c5e.Vector(f)):new c5e.Vector(f)).memoize()}return a.memoize()}_loadVectors(e,t,r){return new p5e.VectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(r)}},GF=class extends Hee{constructor(e,t){super(t);this._reader=(0,r1.isArrowJSON)(e)?new n1.JSONMessageReader(this._handle=e):new n1.MessageReader(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=g5e(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):p6.ITERATOR_DONE}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):p6.ITERATOR_DONE}next(){if(this.closed)return p6.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let r=e.header(),i=t.readMessageBody(e.bodyLength),s=this._loadRecordBatch(r,i);return{done:!1,value:s}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let r=e.header(),i=t.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new $ee._InternalEmptyPlaceholderRecordBatch(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}},YF=class extends Hee{constructor(e,t){super(t);this._reader=new n1.AsyncMessageReader(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return Ua.__awaiter(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return Ua.__awaiter(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=g5e(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return Ua.__awaiter(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):p6.ITERATOR_DONE})}return(e){return Ua.__awaiter(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):p6.ITERATOR_DONE})}next(){return Ua.__awaiter(this,void 0,void 0,function*(){if(this.closed)return p6.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let r=e.header(),i=yield t.readMessageBody(e.bodyLength),s=this._loadRecordBatch(r,i);return{done:!1,value:s}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let r=e.header(),i=yield t.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new $ee._InternalEmptyPlaceholderRecordBatch(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return Ua.__awaiter(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}},Vee=class extends GF{constructor(e,t){super(e instanceof QF.RandomAccessFile?e:new QF.RandomAccessFile(e),t)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(let t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){var t;if(this.closed)return null;this._footer||this.open();let r=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(e);if(r&&this._handle.seek(r.offset)){let i=this._reader.readMessage(JB.MessageHeader.RecordBatch);if(i==null?void 0:i.isRecordBatch()){let s=i.header(),o=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null}_readDictionaryBatch(e){var t;let r=(t=this._footer)===null||t===void 0?void 0:t.getDictionaryBatch(e);if(r&&this._handle.seek(r.offset)){let i=this._reader.readMessage(JB.MessageHeader.DictionaryBatch);if(i==null?void 0:i.isDictionaryBatch()){let s=i.header(),o=this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}}_readFooter(){let{_handle:e}=this,t=e.size-n1.magicAndPadding,r=e.readInt32(t),i=e.readAt(t-r,r);return f5e.Footer.decode(i)}_readNextMessageAndValidate(e){var t;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let r=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(this._recordBatchIndex);if(r&&this._handle.seek(r.offset))return this._reader.readMessage(e)}return null}},m5e=class extends YF{constructor(e,...t){let r=typeof t[0]!="number"?t.shift():void 0,i=t[0]instanceof Map?t.shift():void 0;super(e instanceof QF.AsyncRandomAccessFile?e:new QF.AsyncRandomAccessFile(e,r),i)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(e){let t=Object.create(null,{open:{get:()=>super.open}});return Ua.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(let r of this._footer.dictionaryBatches())r&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield t.open.call(this,e)})}readRecordBatch(e){var t;return Ua.__awaiter(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());let r=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(e);if(r&&(yield this._handle.seek(r.offset))){let i=yield this._reader.readMessage(JB.MessageHeader.RecordBatch);if(i==null?void 0:i.isRecordBatch()){let s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null})}_readDictionaryBatch(e){var t;return Ua.__awaiter(this,void 0,void 0,function*(){let r=(t=this._footer)===null||t===void 0?void 0:t.getDictionaryBatch(e);if(r&&(yield this._handle.seek(r.offset))){let i=yield this._reader.readMessage(JB.MessageHeader.DictionaryBatch);if(i==null?void 0:i.isDictionaryBatch()){let s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}})}_readFooter(){return Ua.__awaiter(this,void 0,void 0,function*(){let{_handle:e}=this;e._pending&&(yield e._pending);let t=e.size-n1.magicAndPadding,r=yield e.readInt32(t),i=yield e.readAt(t-r,r);return f5e.Footer.decode(i)})}_readNextMessageAndValidate(e){return Ua.__awaiter(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){let t=this._footer.getRecordBatch(this._recordBatchIndex);if(t&&(yield this._handle.seek(t.offset)))return yield this._reader.readMessage(e)}return null})}},x5e=class extends GF{constructor(e,t){super(e,t)}_loadVectors(e,t,r){return new p5e.JSONVectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(r)}};function g5e(n,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:n.autoDestroy}function*y5e(n){let e=z2.from(n);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function v5e(n){return Ua.__asyncGenerator(this,arguments,function*(){let t=yield Ua.__await(z2.from(n));try{if(!(yield Ua.__await(t.open({autoDestroy:!1}))).closed)do yield yield Ua.__await(t);while(!(yield Ua.__await(t.reset().open())).closed)}finally{yield Ua.__await(t.cancel())}})}function lZe(n){return new I7(new x5e(n))}function cZe(n){let e=n.peek(n1.magicLength+7&~7);return e&&e.byteLength>=4?(0,n1.checkForMagicArrowString)(e)?new XB(new Vee(n.read())):new I7(new GF(n)):new I7(new GF(function*(){}()))}function fZe(n){return Ua.__awaiter(this,void 0,void 0,function*(){let e=yield n.peek(n1.magicLength+7&~7);return e&&e.byteLength>=4?(0,n1.checkForMagicArrowString)(e)?new XB(new Vee(yield n.read())):new M7(new YF(n)):new M7(new YF(function(){return Ua.__asyncGenerator(this,arguments,function*(){})}()))})}function dZe(n){return Ua.__awaiter(this,void 0,void 0,function*(){let{size:e}=yield n.stat(),t=new QF.AsyncRandomAccessFile(n,e);return e>=n1.magicX2AndPadding&&(0,n1.checkForMagicArrowString)(yield t.readAt(0,n1.magicLength+7&~7))?new zee(new m5e(t)):new M7(new YF(t))})}});var C5e=Ae(ZB=>{"use strict";m();Object.defineProperty(ZB,"__esModule",{value:!0});ZB.VectorAssembler=void 0;var hZe=vd(),pZe=yd(),_5e=kl(),mZe=O5(),Wee=Qf(),Qee=Q_(),E5e=c6(),b5e=su(),Ec=class extends pZe.Visitor{constructor(){super();this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...e){let t=i=>i.flatMap(s=>Array.isArray(s)?t(s):s instanceof mZe.RecordBatch?s.data.children:s.data),r=new Ec;return r.visitMany(t(e)),r}visit(e){if(e instanceof hZe.Vector)return this.visitMany(e.data),this;let{type:t}=e;if(!b5e.DataType.isDictionary(t)){let{length:r,nullCount:i}=e;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");b5e.DataType.isNull(t)||bm.call(this,i<=0?new Uint8Array(0):(0,Qee.truncateBitmap)(e.offset,r,e.nullBitmap)),this.nodes.push(new E5e.FieldNode(r,i))}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}};ZB.VectorAssembler=Ec;function bm(n){let e=n.byteLength+7&~7;return this.buffers.push(n),this.bufferRegions.push(new E5e.BufferRegion(this._byteLength,e)),this._byteLength+=e,this}function xZe(n){let{type:e,length:t,typeIds:r,valueOffsets:i}=n;if(bm.call(this,r),e.mode===_5e.UnionMode.Sparse)return Yee.call(this,n);if(e.mode===_5e.UnionMode.Dense){if(n.offset<=0)return bm.call(this,i),Yee.call(this,n);{let s=r.reduce((p,_)=>Math.max(p,_),r[0]),o=new Int32Array(s+1),a=new Int32Array(s+1).fill(-1),l=new Int32Array(t),f=(0,Wee.rebaseValueOffsets)(-i[0],t,i);for(let p,_,b=-1;++b<t;)(_=a[p=r[b]])===-1&&(_=a[p]=f[p]),l[b]=f[b]-_,++o[p];bm.call(this,l);for(let p,_=-1,b=e.children.length;++_<b;)if(p=n.children[_]){let R=e.typeIds[_],O=Math.min(t,o[R]);this.visit(p.slice(a[R],O))}}}return this}function gZe(n){let e;return n.nullCount>=n.length?bm.call(this,new Uint8Array(0)):(e=n.values)instanceof Uint8Array?bm.call(this,(0,Qee.truncateBitmap)(n.offset,n.length,e)):bm.call(this,(0,Qee.packBools)(n.values))}function q5(n){return bm.call(this,n.values.subarray(0,n.length*n.stride))}function S5e(n){let{length:e,values:t,valueOffsets:r}=n,i=r[0],s=r[e],o=Math.min(s-i,t.byteLength-i);return bm.call(this,(0,Wee.rebaseValueOffsets)(-r[0],e,r)),bm.call(this,t.subarray(i,i+o)),this}function Gee(n){let{length:e,valueOffsets:t}=n;return t&&bm.call(this,(0,Wee.rebaseValueOffsets)(t[0],e,t)),this.visit(n.children[0])}function Yee(n){return this.visitMany(n.type.children.map((e,t)=>n.children[t]).filter(Boolean))[0]}Ec.prototype.visitBool=gZe;Ec.prototype.visitInt=q5;Ec.prototype.visitFloat=q5;Ec.prototype.visitUtf8=S5e;Ec.prototype.visitBinary=S5e;Ec.prototype.visitFixedSizeBinary=q5;Ec.prototype.visitDate=q5;Ec.prototype.visitTimestamp=q5;Ec.prototype.visitTime=q5;Ec.prototype.visitDecimal=q5;Ec.prototype.visitList=Gee;Ec.prototype.visitStruct=Yee;Ec.prototype.visitUnion=xZe;Ec.prototype.visitInterval=q5;Ec.prototype.visitFixedSizeList=Gee;Ec.prototype.visitMap=Gee});var A5e=Ae(ej=>{"use strict";m();Object.defineProperty(ej,"__esModule",{value:!0});ej.JSONTypeAssembler=void 0;var yZe=yd(),Gf=x7(),P7=kl(),w5e=class extends yZe.Visitor{visit(e){return e==null?void 0:super.visit(e)}visitNull({typeId:e}){return{name:Gf.Type[e].toLowerCase()}}visitInt({typeId:e,bitWidth:t,isSigned:r}){return{name:Gf.Type[e].toLowerCase(),bitWidth:t,isSigned:r}}visitFloat({typeId:e,precision:t}){return{name:Gf.Type[e].toLowerCase(),precision:P7.Precision[t]}}visitBinary({typeId:e}){return{name:Gf.Type[e].toLowerCase()}}visitBool({typeId:e}){return{name:Gf.Type[e].toLowerCase()}}visitUtf8({typeId:e}){return{name:Gf.Type[e].toLowerCase()}}visitDecimal({typeId:e,scale:t,precision:r,bitWidth:i}){return{name:Gf.Type[e].toLowerCase(),scale:t,precision:r,bitWidth:i}}visitDate({typeId:e,unit:t}){return{name:Gf.Type[e].toLowerCase(),unit:P7.DateUnit[t]}}visitTime({typeId:e,unit:t,bitWidth:r}){return{name:Gf.Type[e].toLowerCase(),unit:P7.TimeUnit[t],bitWidth:r}}visitTimestamp({typeId:e,timezone:t,unit:r}){return{name:Gf.Type[e].toLowerCase(),unit:P7.TimeUnit[r],timezone:t}}visitInterval({typeId:e,unit:t}){return{name:Gf.Type[e].toLowerCase(),unit:P7.IntervalUnit[t]}}visitList({typeId:e}){return{name:Gf.Type[e].toLowerCase()}}visitStruct({typeId:e}){return{name:Gf.Type[e].toLowerCase()}}visitUnion({typeId:e,mode:t,typeIds:r}){return{name:Gf.Type[e].toLowerCase(),mode:P7.UnionMode[t],typeIds:[...r]}}visitDictionary(e){return this.visit(e.dictionary)}visitFixedSizeBinary({typeId:e,byteWidth:t}){return{name:Gf.Type[e].toLowerCase(),byteWidth:t}}visitFixedSizeList({typeId:e,listSize:t}){return{name:Gf.Type[e].toLowerCase(),listSize:t}}visitMap({typeId:e,keysSorted:t}){return{name:Gf.Type[e].toLowerCase(),keysSorted:t}}};ej.JSONTypeAssembler=w5e});var D5e=Ae(rj=>{"use strict";m();Object.defineProperty(rj,"__esModule",{value:!0});rj.JSONVectorAssembler=void 0;var vZe=HM(),Kee=vd(),_Ze=yd(),EZe=kl(),Jee=kl(),tj=Q_(),T5e=su(),nj=class extends _Ze.Visitor{static assemble(...e){let t=new nj;return e.map(({schema:r,data:i})=>t.visitMany(r.fields,i.children))}visit({name:e},t){let{length:r}=t,{offset:i,nullCount:s,nullBitmap:o}=t,a=T5e.DataType.isDictionary(t.type)?t.type.indices:t.type,l=Object.assign([],t.buffers,{[EZe.BufferType.VALIDITY]:void 0});return Object.assign({name:e,count:r,VALIDITY:T5e.DataType.isNull(a)?void 0:s<=0?Array.from({length:r},()=>1):[...new tj.BitIterator(o,i,r,null,tj.getBit)]},super.visit(t.clone(a,i,r,0,l)))}visitNull(){return{}}visitBool({values:e,offset:t,length:r}){return{DATA:[...new tj.BitIterator(e,t,r,null,tj.getBool)]}}visitInt(e){return{DATA:e.type.bitWidth<64?[...e.values]:[...JF(e.values,2)]}}visitFloat(e){return{DATA:[...e.values]}}visitUtf8(e){return{DATA:[...new Kee.Vector([e])],OFFSET:[...e.valueOffsets]}}visitBinary(e){return{DATA:[...F5e(new Kee.Vector([e]))],OFFSET:[...e.valueOffsets]}}visitFixedSizeBinary(e){return{DATA:[...F5e(new Kee.Vector([e]))]}}visitDate(e){return{DATA:e.type.unit===Jee.DateUnit.DAY?[...e.values]:[...JF(e.values,2)]}}visitTimestamp(e){return{DATA:[...JF(e.values,2)]}}visitTime(e){return{DATA:e.type.unit<Jee.TimeUnit.MICROSECOND?[...e.values]:[...JF(e.values,2)]}}visitDecimal(e){return{DATA:[...JF(e.values,4)]}}visitList(e){return{OFFSET:[...e.valueOffsets],children:this.visitMany(e.type.children,e.children)}}visitStruct(e){return{children:this.visitMany(e.type.children,e.children)}}visitUnion(e){return{TYPE:[...e.typeIds],OFFSET:e.type.mode===Jee.UnionMode.Dense?[...e.valueOffsets]:void 0,children:this.visitMany(e.type.children,e.children)}}visitInterval(e){return{DATA:[...e.values]}}visitFixedSizeList(e){return{children:this.visitMany(e.type.children,e.children)}}visitMap(e){return{OFFSET:[...e.valueOffsets],children:this.visitMany(e.type.children,e.children)}}};rj.JSONVectorAssembler=nj;function*F5e(n){for(let e of n)yield e.reduce((t,r)=>`${t}${("0"+(r&255).toString(16)).slice(-2)}`,"").toUpperCase()}function*JF(n,e){let t=new Uint32Array(n.buffer);for(let r=-1,i=t.length/e;++r<i;)yield`${vZe.BN.new(t.subarray((r+0)*e,(r+1)*e),!1)}`}});var lj=Ae(V2=>{"use strict";m();Object.defineProperty(V2,"__esModule",{value:!0});V2.RecordBatchJSONWriter=V2.RecordBatchFileWriter=V2.RecordBatchStreamWriter=V2.RecordBatchWriter=void 0;var Xee=hs(),Zee=T7(),bZe=KB(),SZe=vd(),CZe=su(),ij=c6(),ete=Xee.__importStar(c6()),B7=AZ(),tte=kl(),R5e=NF(),nte=A5(),O5e=C5e(),wZe=A5e(),N5e=D5e(),AZe=Qf(),sj=O5(),TZe=vF(),H2=C2(),XF=class extends TZe.ReadableInterop{constructor(e){super();this._position=0,this._started=!1,this._sink=new nte.AsyncByteQueue,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(0,H2.isObject)(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return(0,H2.isPromise)(e)?e.then(t=>this.writeAll(t)):(0,H2.isAsyncIterable)(e)?ite(this,e):rte(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,t=null){return e===this._sink||e instanceof nte.AsyncByteQueue?this._sink=e:(this._sink=new nte.AsyncByteQueue,e&&(0,H2.isWritableDOMStream)(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&(0,H2.isWritableNodeStream)(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!t||!(0,R5e.compareSchemas)(t,this._schema))&&(t==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=t,this._writeSchema(t))),this}write(e){let t=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof Zee.Table&&!(t=e.schema))return this.finish()&&void 0;if(e instanceof sj.RecordBatch&&!(t=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(t&&!(0,R5e.compareSchemas)(t,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,t)}e instanceof sj.RecordBatch?e instanceof sj._InternalEmptyPlaceholderRecordBatch||this._writeRecordBatch(e):e instanceof Zee.Table?this.writeAll(e.batches):(0,H2.isIterable)(e)&&this.writeAll(e)}_writeMessage(e,t=8){let r=t-1,i=ij.Message.encode(e),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,l=a-s-o;return e.headerType===tte.MessageHeader.RecordBatch?this._recordBatchBlocks.push(new B7.FileBlock(a,e.bodyLength,this._position)):e.headerType===tte.MessageHeader.DictionaryBatch&&this._dictionaryBlocks.push(new B7.FileBlock(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(l)}_write(e){if(this._started){let t=(0,AZe.toUint8Array)(e);t&&t.byteLength>0&&(this._sink.write(t),this._position+=t.byteLength)}return this}_writeSchema(e){return this._writeMessage(ij.Message.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(bZe.MAGIC)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){let{byteLength:t,nodes:r,bufferRegions:i,buffers:s}=O5e.VectorAssembler.assemble(e),o=new ete.RecordBatch(e.numRows,r,i),a=ij.Message.from(o,t);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(e,t,r=!1){this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0));let{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=O5e.VectorAssembler.assemble(new SZe.Vector([e])),l=new ete.RecordBatch(e.length,s,o),f=new ete.DictionaryBatch(l,t,r),p=ij.Message.from(f,i);return this._writeMessage(p)._writeBodyBuffers(a)}_writeBodyBuffers(e){let t,r,i;for(let s=-1,o=e.length;++s<o;)(t=e[s])&&(r=t.byteLength)>0&&(this._write(t),(i=(r+7&~7)-r)>0&&this._writePadding(i));return this}_writeDictionaries(e){for(let[t,r]of e.dictionaries){let i=this._dictionaryDeltaOffsets.get(t)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(let s of r.data)this._writeDictionaryBatch(s,t,i>0),i+=s.length}return this}};V2.RecordBatchWriter=XF;var oj=class extends XF{static writeAll(e,t){let r=new oj(t);return(0,H2.isPromise)(e)?e.then(i=>r.writeAll(i)):(0,H2.isAsyncIterable)(e)?ite(r,e):rte(r,e)}};V2.RecordBatchStreamWriter=oj;var aj=class extends XF{static writeAll(e){let t=new aj;return(0,H2.isPromise)(e)?e.then(r=>t.writeAll(r)):(0,H2.isAsyncIterable)(e)?ite(t,e):rte(t,e)}constructor(){super();this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){let t=B7.Footer.encode(new B7.Footer(e,tte.MetadataVersion.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(t)._write(Int32Array.of(t.byteLength))._writeMagic()}};V2.RecordBatchFileWriter=aj;var uj=class extends XF{constructor(){super();this._autoDestroy=!0,this._recordBatches=[],this._dictionaries=[]}static writeAll(e){return new uj().writeAll(e)}_writeMessage(){return this}_writeFooter(e){return this}_writeSchema(e){return this._write(`{
  "schema": ${JSON.stringify({fields:e.fields.map(t=>L5e(t))},null,2)}`)}_writeDictionaries(e){return e.dictionaries.size>0&&this._dictionaries.push(e),this}_writeDictionaryBatch(e,t,r=!1){return this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0)),this._write(this._dictionaryBlocks.length===0?"    ":`,
    `),this._write(`${FZe(e,t,r)}`),this._dictionaryBlocks.push(new B7.FileBlock(0,0,0)),this}_writeRecordBatch(e){return this._writeDictionaries(e),this._recordBatches.push(e),this}close(){if(this._dictionaries.length>0){this._write(`,
  "dictionaries": [
`);for(let e of this._dictionaries)super._writeDictionaries(e);this._write(`
  ]`)}if(this._recordBatches.length>0){for(let e=-1,t=this._recordBatches.length;++e<t;)this._write(e===0?`,
  "batches": [
    `:`,
    `),this._write(`${DZe(this._recordBatches[e])}`),this._recordBatchBlocks.push(new B7.FileBlock(0,0,0));this._write(`
  ]`)}return this._schema&&this._write(`
}`),this._dictionaries=[],this._recordBatches=[],super.close()}};V2.RecordBatchJSONWriter=uj;function rte(n,e){let t=e;e instanceof Zee.Table&&(t=e.batches,n.reset(void 0,e.schema));for(let r of t)n.write(r);return n.finish()}function ite(n,e){var t,r,i,s;return Xee.__awaiter(this,void 0,void 0,function*(){try{for(t=Xee.__asyncValues(e);r=yield t.next(),!r.done;){let o=r.value;n.write(o)}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}return n.finish()})}function L5e({name:n,type:e,nullable:t}){let r=new wZe.JSONTypeAssembler;return{name:n,nullable:t,type:r.visit(e),children:(e.children||[]).map(i=>L5e(i)),dictionary:CZe.DataType.isDictionary(e)?{id:e.id,isOrdered:e.isOrdered,indexType:r.visit(e.indices)}:void 0}}function FZe(n,e,t=!1){let[r]=N5e.JSONVectorAssembler.assemble(new sj.RecordBatch({[e]:n}));return JSON.stringify({id:e,isDelta:t,data:{count:n.length,columns:r}},null,2)}function DZe(n){let[e]=N5e.JSONVectorAssembler.assemble(n);return JSON.stringify({count:n.numRows,columns:e},null,2)}});var M5e=Ae(fj=>{"use strict";m();Object.defineProperty(fj,"__esModule",{value:!0});fj.toDOMStream=void 0;var cj=hs(),k5e=Qf(),I5e=C2();function RZe(n,e){if((0,I5e.isAsyncIterable)(n))return NZe(n,e);if((0,I5e.isIterable)(n))return OZe(n,e);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")}fj.toDOMStream=RZe;function OZe(n,e){let t=null,r=(e==null?void 0:e.type)==="bytes"||!1,i=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(o){s(o,t||(t=n[Symbol.iterator]()))},pull(o){t?s(o,t):o.close()},cancel(){((t==null?void 0:t.return)&&t.return()||!0)&&(t=null)}}),Object.assign({highWaterMark:r?i:void 0},e));function s(o,a){let l,f=null,p=o.desiredSize||null;for(;!(f=a.next(r?p:null)).done;)if(ArrayBuffer.isView(f.value)&&(l=(0,k5e.toUint8Array)(f.value))&&(p!=null&&r&&(p=p-l.byteLength+1),f.value=l),o.enqueue(f.value),p!=null&&--p<=0)return;o.close()}}function NZe(n,e){let t=null,r=(e==null?void 0:e.type)==="bytes"||!1,i=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(o){return cj.__awaiter(this,void 0,void 0,function*(){yield s(o,t||(t=n[Symbol.asyncIterator]()))})},pull(o){return cj.__awaiter(this,void 0,void 0,function*(){t?yield s(o,t):o.close()})},cancel(){return cj.__awaiter(this,void 0,void 0,function*(){((t==null?void 0:t.return)&&(yield t.return())||!0)&&(t=null)})}}),Object.assign({highWaterMark:r?i:void 0},e));function s(o,a){return cj.__awaiter(this,void 0,void 0,function*(){let l,f=null,p=o.desiredSize||null;for(;!(f=yield a.next(r?p:null)).done;)if(ArrayBuffer.isView(f.value)&&(l=(0,k5e.toUint8Array)(f.value))&&(p!=null&&r&&(p=p-l.byteLength+1),f.value=l),o.enqueue(f.value),p!=null&&--p<=0)return;o.close()})}}});var j5e=Ae(j7=>{"use strict";m();Object.defineProperty(j7,"__esModule",{value:!0});j7.BuilderTransform=j7.builderThroughDOMStream=void 0;var LZe=hs(),kZe=bF();function IZe(n){return new ste(n)}j7.builderThroughDOMStream=IZe;var ste=class{constructor(e){this._numChunks=0,this._finished=!1,this._bufferedSize=0;let{["readableStrategy"]:t,["writableStrategy"]:r,["queueingStrategy"]:i="count"}=e,s=LZe.__rest(e,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=(0,kZe.makeBuilder)(s),this._getSize=i!=="bytes"?P5e:B5e;let{["highWaterMark"]:o=i==="bytes"?Math.pow(2,14):1e3}=Object.assign({},t),{["highWaterMark"]:a=i==="bytes"?Math.pow(2,14):1e3}=Object.assign({},r);this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:l=>{this._maybeFlush(this._builder,this._controller=l)},start:l=>{this._maybeFlush(this._builder,this._controller=l)}},{highWaterMark:o,size:i!=="bytes"?P5e:B5e}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:a,size:l=>this._writeValueAndReturnChunkSize(l)})}_writeValueAndReturnChunkSize(e){let t=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(e)),this._bufferedSize-t}_maybeFlush(e,t){t!=null&&(this._bufferedSize>=t.desiredSize&&++this._numChunks&&this._enqueue(t,e.toVector()),e.finished&&((e.length>0||this._numChunks===0)&&++this._numChunks&&this._enqueue(t,e.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(t,null)))}_enqueue(e,t){this._bufferedSize=0,this._controller=null,t==null?e.close():e.enqueue(t)}};j7.BuilderTransform=ste;var P5e=n=>{var e;return(e=n==null?void 0:n.length)!==null&&e!==void 0?e:0},B5e=n=>{var e;return(e=n==null?void 0:n.byteLength)!==null&&e!==void 0?e:0}});var q5e=Ae(dj=>{"use strict";m();Object.defineProperty(dj,"__esModule",{value:!0});dj.recordBatchReaderThroughDOMStream=void 0;var ZF=hs(),MZe=A5(),PZe=KF();function BZe(n,e){let t=new MZe.AsyncByteQueue,r=null,i=new ReadableStream({cancel(){return ZF.__awaiter(this,void 0,void 0,function*(){yield t.close()})},start(a){return ZF.__awaiter(this,void 0,void 0,function*(){yield o(a,r||(r=yield s()))})},pull(a){return ZF.__awaiter(this,void 0,void 0,function*(){r?yield o(a,r):a.close()})}});return{writable:new WritableStream(t,Object.assign({highWaterMark:Math.pow(2,14)},n)),readable:i};function s(){return ZF.__awaiter(this,void 0,void 0,function*(){return yield(yield PZe.RecordBatchReader.from(t)).open(e)})}function o(a,l){return ZF.__awaiter(this,void 0,void 0,function*(){let f=a.desiredSize,p=null;for(;!(p=yield l.next()).done;)if(a.enqueue(p.value),f!=null&&--f<=0)return;a.close()})}}dj.recordBatchReaderThroughDOMStream=BZe});var U5e=Ae(pj=>{"use strict";m();Object.defineProperty(pj,"__esModule",{value:!0});pj.recordBatchWriterThroughDOMStream=void 0;var hj=hs(),jZe=A5();function qZe(n,e){let t=new this(n),r=new jZe.AsyncByteStream(t),i=new ReadableStream({cancel(){return hj.__awaiter(this,void 0,void 0,function*(){yield r.cancel()})},pull(o){return hj.__awaiter(this,void 0,void 0,function*(){yield s(o)})},start(o){return hj.__awaiter(this,void 0,void 0,function*(){yield s(o)})}},Object.assign({highWaterMark:Math.pow(2,14)},e));return{writable:new WritableStream(t,n),readable:i};function s(o){return hj.__awaiter(this,void 0,void 0,function*(){let a=null,l=o.desiredSize;for(;a=yield r.read(l||null);)if(o.enqueue(a),l!=null&&(l-=a.byteLength)<=0)return;o.close()})}}pj.recordBatchWriterThroughDOMStream=qZe});var V5e=Ae(q7=>{"use strict";m();Object.defineProperty(q7,"__esModule",{value:!0});q7.tableToIPC=q7.tableFromIPC=void 0;var $5e=T7(),UZe=C2(),$Ze=KF(),z5e=lj();function H5e(n){let e=$Ze.RecordBatchReader.from(n);return(0,UZe.isPromise)(e)?e.then(t=>H5e(t)):e.isAsync()?e.readAll().then(t=>new $5e.Table(t)):new $5e.Table(e.readAll())}q7.tableFromIPC=H5e;function zZe(n,e="stream"){return(e==="stream"?z5e.RecordBatchStreamWriter:z5e.RecordBatchFileWriter).writeAll(n).toUint8Array(!0)}q7.tableToIPC=zZe});var hte=Ae(ln=>{"use strict";m();Object.defineProperty(ln,"__esModule",{value:!0});ln.Dictionary=ln.SparseUnion=ln.DenseUnion=ln.Union=ln.Struct=ln.List=ln.Decimal=ln.TimeNanosecond=ln.TimeMicrosecond=ln.TimeMillisecond=ln.TimeSecond=ln.Time=ln.TimestampNanosecond=ln.TimestampMicrosecond=ln.TimestampMillisecond=ln.TimestampSecond=ln.Timestamp=ln.DateMillisecond=ln.DateDay=ln.Date_=ln.FixedSizeBinary=ln.Binary=ln.Utf8=ln.Float64=ln.Float32=ln.Float16=ln.Float=ln.Uint64=ln.Uint32=ln.Uint16=ln.Uint8=ln.Int64=ln.Int32=ln.Int16=ln.Int8=ln.Int=ln.Bool=ln.Null=ln.DataType=ln.makeData=ln.Data=ln.MetadataVersion=ln.IntervalUnit=ln.UnionMode=ln.Precision=ln.TimeUnit=ln.DateUnit=ln.BufferType=ln.Type=ln.MessageHeader=void 0;ln.TimestampMillisecondBuilder=ln.TimestampSecondBuilder=ln.TimestampBuilder=ln.TimeNanosecondBuilder=ln.TimeMicrosecondBuilder=ln.TimeMillisecondBuilder=ln.TimeSecondBuilder=ln.TimeBuilder=ln.Uint64Builder=ln.Uint32Builder=ln.Uint16Builder=ln.Uint8Builder=ln.Int64Builder=ln.Int32Builder=ln.Int16Builder=ln.Int8Builder=ln.IntBuilder=ln.Float64Builder=ln.Float32Builder=ln.Float16Builder=ln.FloatBuilder=ln.FixedSizeBinaryBuilder=ln.DictionaryBuilder=ln.DecimalBuilder=ln.DateMillisecondBuilder=ln.DateDayBuilder=ln.DateBuilder=ln.NullBuilder=ln.BoolBuilder=ln.builderThroughAsyncIterable=ln.builderThroughIterable=ln.tableFromJSON=ln.vectorFromArray=ln.makeBuilder=ln.Builder=ln.StructRow=ln.MapRow=ln.Field=ln.Schema=ln.Visitor=ln.makeVector=ln.Vector=ln.tableFromArrays=ln.makeTable=ln.Table=ln.Map_=ln.FixedSizeList=ln.IntervalYearMonth=ln.IntervalDayTime=ln.Interval=void 0;ln.util=ln.RecordBatch=ln.Message=ln.JSONMessageReader=ln.AsyncMessageReader=ln.MessageReader=ln.tableFromIPC=ln.tableToIPC=ln.RecordBatchJSONWriter=ln.RecordBatchStreamWriter=ln.RecordBatchFileWriter=ln.RecordBatchWriter=ln.AsyncRecordBatchStreamReader=ln.AsyncRecordBatchFileReader=ln.RecordBatchStreamReader=ln.RecordBatchFileReader=ln.RecordBatchReader=ln.AsyncByteQueue=ln.AsyncByteStream=ln.ByteStream=ln.DenseUnionBuilder=ln.SparseUnionBuilder=ln.UnionBuilder=ln.StructBuilder=ln.MapBuilder=ln.FixedSizeListBuilder=ln.ListBuilder=ln.BinaryBuilder=ln.Utf8Builder=ln.IntervalYearMonthBuilder=ln.IntervalDayTimeBuilder=ln.IntervalBuilder=ln.TimestampNanosecondBuilder=ln.TimestampMicrosecondBuilder=void 0;var U7=hs(),HZe=Dee();Object.defineProperty(ln,"MessageHeader",{enumerable:!0,get:function(){return HZe.MessageHeader}});var U5=kl();Object.defineProperty(ln,"Type",{enumerable:!0,get:function(){return U5.Type}});Object.defineProperty(ln,"BufferType",{enumerable:!0,get:function(){return U5.BufferType}});Object.defineProperty(ln,"DateUnit",{enumerable:!0,get:function(){return U5.DateUnit}});Object.defineProperty(ln,"TimeUnit",{enumerable:!0,get:function(){return U5.TimeUnit}});Object.defineProperty(ln,"Precision",{enumerable:!0,get:function(){return U5.Precision}});Object.defineProperty(ln,"UnionMode",{enumerable:!0,get:function(){return U5.UnionMode}});Object.defineProperty(ln,"IntervalUnit",{enumerable:!0,get:function(){return U5.IntervalUnit}});Object.defineProperty(ln,"MetadataVersion",{enumerable:!0,get:function(){return U5.MetadataVersion}});var W5e=A2();Object.defineProperty(ln,"Data",{enumerable:!0,get:function(){return W5e.Data}});Object.defineProperty(ln,"makeData",{enumerable:!0,get:function(){return W5e.makeData}});var to=su();Object.defineProperty(ln,"DataType",{enumerable:!0,get:function(){return to.DataType}});Object.defineProperty(ln,"Null",{enumerable:!0,get:function(){return to.Null}});Object.defineProperty(ln,"Bool",{enumerable:!0,get:function(){return to.Bool}});Object.defineProperty(ln,"Int",{enumerable:!0,get:function(){return to.Int}});Object.defineProperty(ln,"Int8",{enumerable:!0,get:function(){return to.Int8}});Object.defineProperty(ln,"Int16",{enumerable:!0,get:function(){return to.Int16}});Object.defineProperty(ln,"Int32",{enumerable:!0,get:function(){return to.Int32}});Object.defineProperty(ln,"Int64",{enumerable:!0,get:function(){return to.Int64}});Object.defineProperty(ln,"Uint8",{enumerable:!0,get:function(){return to.Uint8}});Object.defineProperty(ln,"Uint16",{enumerable:!0,get:function(){return to.Uint16}});Object.defineProperty(ln,"Uint32",{enumerable:!0,get:function(){return to.Uint32}});Object.defineProperty(ln,"Uint64",{enumerable:!0,get:function(){return to.Uint64}});Object.defineProperty(ln,"Float",{enumerable:!0,get:function(){return to.Float}});Object.defineProperty(ln,"Float16",{enumerable:!0,get:function(){return to.Float16}});Object.defineProperty(ln,"Float32",{enumerable:!0,get:function(){return to.Float32}});Object.defineProperty(ln,"Float64",{enumerable:!0,get:function(){return to.Float64}});Object.defineProperty(ln,"Utf8",{enumerable:!0,get:function(){return to.Utf8}});Object.defineProperty(ln,"Binary",{enumerable:!0,get:function(){return to.Binary}});Object.defineProperty(ln,"FixedSizeBinary",{enumerable:!0,get:function(){return to.FixedSizeBinary}});Object.defineProperty(ln,"Date_",{enumerable:!0,get:function(){return to.Date_}});Object.defineProperty(ln,"DateDay",{enumerable:!0,get:function(){return to.DateDay}});Object.defineProperty(ln,"DateMillisecond",{enumerable:!0,get:function(){return to.DateMillisecond}});Object.defineProperty(ln,"Timestamp",{enumerable:!0,get:function(){return to.Timestamp}});Object.defineProperty(ln,"TimestampSecond",{enumerable:!0,get:function(){return to.TimestampSecond}});Object.defineProperty(ln,"TimestampMillisecond",{enumerable:!0,get:function(){return to.TimestampMillisecond}});Object.defineProperty(ln,"TimestampMicrosecond",{enumerable:!0,get:function(){return to.TimestampMicrosecond}});Object.defineProperty(ln,"TimestampNanosecond",{enumerable:!0,get:function(){return to.TimestampNanosecond}});Object.defineProperty(ln,"Time",{enumerable:!0,get:function(){return to.Time}});Object.defineProperty(ln,"TimeSecond",{enumerable:!0,get:function(){return to.TimeSecond}});Object.defineProperty(ln,"TimeMillisecond",{enumerable:!0,get:function(){return to.TimeMillisecond}});Object.defineProperty(ln,"TimeMicrosecond",{enumerable:!0,get:function(){return to.TimeMicrosecond}});Object.defineProperty(ln,"TimeNanosecond",{enumerable:!0,get:function(){return to.TimeNanosecond}});Object.defineProperty(ln,"Decimal",{enumerable:!0,get:function(){return to.Decimal}});Object.defineProperty(ln,"List",{enumerable:!0,get:function(){return to.List}});Object.defineProperty(ln,"Struct",{enumerable:!0,get:function(){return to.Struct}});Object.defineProperty(ln,"Union",{enumerable:!0,get:function(){return to.Union}});Object.defineProperty(ln,"DenseUnion",{enumerable:!0,get:function(){return to.DenseUnion}});Object.defineProperty(ln,"SparseUnion",{enumerable:!0,get:function(){return to.SparseUnion}});Object.defineProperty(ln,"Dictionary",{enumerable:!0,get:function(){return to.Dictionary}});Object.defineProperty(ln,"Interval",{enumerable:!0,get:function(){return to.Interval}});Object.defineProperty(ln,"IntervalDayTime",{enumerable:!0,get:function(){return to.IntervalDayTime}});Object.defineProperty(ln,"IntervalYearMonth",{enumerable:!0,get:function(){return to.IntervalYearMonth}});Object.defineProperty(ln,"FixedSizeList",{enumerable:!0,get:function(){return to.FixedSizeList}});Object.defineProperty(ln,"Map_",{enumerable:!0,get:function(){return to.Map_}});var ote=T7();Object.defineProperty(ln,"Table",{enumerable:!0,get:function(){return ote.Table}});Object.defineProperty(ln,"makeTable",{enumerable:!0,get:function(){return ote.makeTable}});Object.defineProperty(ln,"tableFromArrays",{enumerable:!0,get:function(){return ote.tableFromArrays}});var Q5e=vd();Object.defineProperty(ln,"Vector",{enumerable:!0,get:function(){return Q5e.Vector}});Object.defineProperty(ln,"makeVector",{enumerable:!0,get:function(){return Q5e.makeVector}});var VZe=yd();Object.defineProperty(ln,"Visitor",{enumerable:!0,get:function(){return VZe.Visitor}});var G5e=fh();Object.defineProperty(ln,"Schema",{enumerable:!0,get:function(){return G5e.Schema}});Object.defineProperty(ln,"Field",{enumerable:!0,get:function(){return G5e.Field}});var WZe=iF();Object.defineProperty(ln,"MapRow",{enumerable:!0,get:function(){return WZe.MapRow}});var QZe=iP();Object.defineProperty(ln,"StructRow",{enumerable:!0,get:function(){return QZe.StructRow}});var GZe=Jl();Object.defineProperty(ln,"Builder",{enumerable:!0,get:function(){return GZe.Builder}});var eD=bF();Object.defineProperty(ln,"makeBuilder",{enumerable:!0,get:function(){return eD.makeBuilder}});Object.defineProperty(ln,"vectorFromArray",{enumerable:!0,get:function(){return eD.vectorFromArray}});Object.defineProperty(ln,"tableFromJSON",{enumerable:!0,get:function(){return eD.tableFromJSON}});Object.defineProperty(ln,"builderThroughIterable",{enumerable:!0,get:function(){return eD.builderThroughIterable}});Object.defineProperty(ln,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return eD.builderThroughAsyncIterable}});var YZe=kZ();Object.defineProperty(ln,"BoolBuilder",{enumerable:!0,get:function(){return YZe.BoolBuilder}});var KZe=ZZ();Object.defineProperty(ln,"NullBuilder",{enumerable:!0,get:function(){return KZe.NullBuilder}});var ate=BZ();Object.defineProperty(ln,"DateBuilder",{enumerable:!0,get:function(){return ate.DateBuilder}});Object.defineProperty(ln,"DateDayBuilder",{enumerable:!0,get:function(){return ate.DateDayBuilder}});Object.defineProperty(ln,"DateMillisecondBuilder",{enumerable:!0,get:function(){return ate.DateMillisecondBuilder}});var JZe=qZ();Object.defineProperty(ln,"DecimalBuilder",{enumerable:!0,get:function(){return JZe.DecimalBuilder}});var XZe=UZ();Object.defineProperty(ln,"DictionaryBuilder",{enumerable:!0,get:function(){return XZe.DictionaryBuilder}});var ZZe=zZ();Object.defineProperty(ln,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return ZZe.FixedSizeBinaryBuilder}});var mj=VZ();Object.defineProperty(ln,"FloatBuilder",{enumerable:!0,get:function(){return mj.FloatBuilder}});Object.defineProperty(ln,"Float16Builder",{enumerable:!0,get:function(){return mj.Float16Builder}});Object.defineProperty(ln,"Float32Builder",{enumerable:!0,get:function(){return mj.Float32Builder}});Object.defineProperty(ln,"Float64Builder",{enumerable:!0,get:function(){return mj.Float64Builder}});var Kg=KZ();Object.defineProperty(ln,"IntBuilder",{enumerable:!0,get:function(){return Kg.IntBuilder}});Object.defineProperty(ln,"Int8Builder",{enumerable:!0,get:function(){return Kg.Int8Builder}});Object.defineProperty(ln,"Int16Builder",{enumerable:!0,get:function(){return Kg.Int16Builder}});Object.defineProperty(ln,"Int32Builder",{enumerable:!0,get:function(){return Kg.Int32Builder}});Object.defineProperty(ln,"Int64Builder",{enumerable:!0,get:function(){return Kg.Int64Builder}});Object.defineProperty(ln,"Uint8Builder",{enumerable:!0,get:function(){return Kg.Uint8Builder}});Object.defineProperty(ln,"Uint16Builder",{enumerable:!0,get:function(){return Kg.Uint16Builder}});Object.defineProperty(ln,"Uint32Builder",{enumerable:!0,get:function(){return Kg.Uint32Builder}});Object.defineProperty(ln,"Uint64Builder",{enumerable:!0,get:function(){return Kg.Uint64Builder}});var tD=cee();Object.defineProperty(ln,"TimeBuilder",{enumerable:!0,get:function(){return tD.TimeBuilder}});Object.defineProperty(ln,"TimeSecondBuilder",{enumerable:!0,get:function(){return tD.TimeSecondBuilder}});Object.defineProperty(ln,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return tD.TimeMillisecondBuilder}});Object.defineProperty(ln,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return tD.TimeMicrosecondBuilder}});Object.defineProperty(ln,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return tD.TimeNanosecondBuilder}});var nD=see();Object.defineProperty(ln,"TimestampBuilder",{enumerable:!0,get:function(){return nD.TimestampBuilder}});Object.defineProperty(ln,"TimestampSecondBuilder",{enumerable:!0,get:function(){return nD.TimestampSecondBuilder}});Object.defineProperty(ln,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return nD.TimestampMillisecondBuilder}});Object.defineProperty(ln,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return nD.TimestampMicrosecondBuilder}});Object.defineProperty(ln,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return nD.TimestampNanosecondBuilder}});var ute=YZ();Object.defineProperty(ln,"IntervalBuilder",{enumerable:!0,get:function(){return ute.IntervalBuilder}});Object.defineProperty(ln,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return ute.IntervalDayTimeBuilder}});Object.defineProperty(ln,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return ute.IntervalYearMonthBuilder}});var eet=hee();Object.defineProperty(ln,"Utf8Builder",{enumerable:!0,get:function(){return eet.Utf8Builder}});var tet=cB();Object.defineProperty(ln,"BinaryBuilder",{enumerable:!0,get:function(){return tet.BinaryBuilder}});var net=JZ();Object.defineProperty(ln,"ListBuilder",{enumerable:!0,get:function(){return net.ListBuilder}});var ret=HZ();Object.defineProperty(ln,"FixedSizeListBuilder",{enumerable:!0,get:function(){return ret.FixedSizeListBuilder}});var iet=XZ();Object.defineProperty(ln,"MapBuilder",{enumerable:!0,get:function(){return iet.MapBuilder}});var set=eee();Object.defineProperty(ln,"StructBuilder",{enumerable:!0,get:function(){return set.StructBuilder}});var lte=fee();Object.defineProperty(ln,"UnionBuilder",{enumerable:!0,get:function(){return lte.UnionBuilder}});Object.defineProperty(ln,"SparseUnionBuilder",{enumerable:!0,get:function(){return lte.SparseUnionBuilder}});Object.defineProperty(ln,"DenseUnionBuilder",{enumerable:!0,get:function(){return lte.DenseUnionBuilder}});var cte=A5();Object.defineProperty(ln,"ByteStream",{enumerable:!0,get:function(){return cte.ByteStream}});Object.defineProperty(ln,"AsyncByteStream",{enumerable:!0,get:function(){return cte.AsyncByteStream}});Object.defineProperty(ln,"AsyncByteQueue",{enumerable:!0,get:function(){return cte.AsyncByteQueue}});var rD=KF();Object.defineProperty(ln,"RecordBatchReader",{enumerable:!0,get:function(){return rD.RecordBatchReader}});Object.defineProperty(ln,"RecordBatchFileReader",{enumerable:!0,get:function(){return rD.RecordBatchFileReader}});Object.defineProperty(ln,"RecordBatchStreamReader",{enumerable:!0,get:function(){return rD.RecordBatchStreamReader}});Object.defineProperty(ln,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return rD.AsyncRecordBatchFileReader}});Object.defineProperty(ln,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return rD.AsyncRecordBatchStreamReader}});var xj=lj();Object.defineProperty(ln,"RecordBatchWriter",{enumerable:!0,get:function(){return xj.RecordBatchWriter}});Object.defineProperty(ln,"RecordBatchFileWriter",{enumerable:!0,get:function(){return xj.RecordBatchFileWriter}});Object.defineProperty(ln,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return xj.RecordBatchStreamWriter}});Object.defineProperty(ln,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return xj.RecordBatchJSONWriter}});var Y5e=V5e();Object.defineProperty(ln,"tableToIPC",{enumerable:!0,get:function(){return Y5e.tableToIPC}});Object.defineProperty(ln,"tableFromIPC",{enumerable:!0,get:function(){return Y5e.tableFromIPC}});var fte=KB();Object.defineProperty(ln,"MessageReader",{enumerable:!0,get:function(){return fte.MessageReader}});Object.defineProperty(ln,"AsyncMessageReader",{enumerable:!0,get:function(){return fte.AsyncMessageReader}});Object.defineProperty(ln,"JSONMessageReader",{enumerable:!0,get:function(){return fte.JSONMessageReader}});var oet=c6();Object.defineProperty(ln,"Message",{enumerable:!0,get:function(){return oet.Message}});var aet=O5();Object.defineProperty(ln,"RecordBatch",{enumerable:!0,get:function(){return aet.RecordBatch}});var uet=U7.__importStar(HM()),cet=U7.__importStar(NZ()),fet=U7.__importStar(Q_()),det=U7.__importStar(rF()),het=U7.__importStar(Qf()),pet=U7.__importStar(oF()),dte=NF();ln.util=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},uet),cet),fet),det),het),pet),{compareSchemas:dte.compareSchemas,compareFields:dte.compareFields,compareTypes:dte.compareTypes})});var gj=Ae(cn=>{"use strict";m();Object.defineProperty(cn,"__esModule",{value:!0});cn.SparseUnion=cn.DenseUnion=cn.Union=cn.StructRow=cn.Struct=cn.List=cn.Decimal=cn.TimeNanosecond=cn.TimeMicrosecond=cn.TimeMillisecond=cn.TimeSecond=cn.Time=cn.TimestampNanosecond=cn.TimestampMicrosecond=cn.TimestampMillisecond=cn.TimestampSecond=cn.Timestamp=cn.DateMillisecond=cn.DateDay=cn.Date_=cn.FixedSizeBinary=cn.Binary=cn.Utf8=cn.Float64=cn.Float32=cn.Float16=cn.Float=cn.Uint64=cn.Uint32=cn.Uint16=cn.Uint8=cn.Int64=cn.Int32=cn.Int16=cn.Int8=cn.Int=cn.Bool=cn.Null=cn.DataType=cn.makeData=cn.Data=cn.BufferType=cn.UnionMode=cn.Type=cn.TimeUnit=cn.Precision=cn.MetadataVersion=cn.MessageHeader=cn.IntervalUnit=cn.DateUnit=void 0;cn.FixedSizeListBuilder=cn.FixedSizeBinaryBuilder=cn.DictionaryBuilder=cn.DecimalBuilder=cn.DateMillisecondBuilder=cn.DateDayBuilder=cn.DateBuilder=cn.BoolBuilder=cn.BinaryBuilder=cn.builderThroughAsyncIterable=cn.builderThroughIterable=cn.makeBuilder=cn.Builder=cn.util=cn.RecordBatch=cn.Message=cn.JSONMessageReader=cn.AsyncMessageReader=cn.MessageReader=cn.tableToIPC=cn.tableFromIPC=cn.RecordBatchJSONWriter=cn.RecordBatchStreamWriter=cn.RecordBatchFileWriter=cn.RecordBatchWriter=cn.AsyncRecordBatchStreamReader=cn.AsyncRecordBatchFileReader=cn.RecordBatchStreamReader=cn.RecordBatchFileReader=cn.RecordBatchReader=cn.AsyncByteQueue=cn.AsyncByteStream=cn.ByteStream=cn.tableFromJSON=cn.vectorFromArray=cn.makeVector=cn.Vector=cn.Visitor=cn.Field=cn.Schema=cn.tableFromArrays=cn.makeTable=cn.Table=cn.MapRow=cn.Map_=cn.FixedSizeList=cn.IntervalYearMonth=cn.IntervalDayTime=cn.Interval=cn.Dictionary=void 0;cn.Utf8Builder=cn.SparseUnionBuilder=cn.DenseUnionBuilder=cn.UnionBuilder=cn.TimeNanosecondBuilder=cn.TimeMicrosecondBuilder=cn.TimeMillisecondBuilder=cn.TimeSecondBuilder=cn.TimeBuilder=cn.TimestampNanosecondBuilder=cn.TimestampMicrosecondBuilder=cn.TimestampMillisecondBuilder=cn.TimestampSecondBuilder=cn.TimestampBuilder=cn.StructBuilder=cn.NullBuilder=cn.MapBuilder=cn.ListBuilder=cn.Uint64Builder=cn.Uint32Builder=cn.Uint16Builder=cn.Uint8Builder=cn.Int64Builder=cn.Int32Builder=cn.Int16Builder=cn.Int8Builder=cn.IntBuilder=cn.IntervalYearMonthBuilder=cn.IntervalDayTimeBuilder=cn.IntervalBuilder=cn.Float64Builder=cn.Float32Builder=cn.Float16Builder=cn.FloatBuilder=void 0;var met=hs(),xet=met.__importDefault(tF()),get=Jl(),pte=KF(),mte=lj(),yet=M5e(),vet=j5e(),xte=q5e(),gte=U5e();xet.default.toDOMStream=yet.toDOMStream;get.Builder.throughDOM=vet.builderThroughDOMStream;pte.RecordBatchReader.throughDOM=xte.recordBatchReaderThroughDOMStream;pte.RecordBatchFileReader.throughDOM=xte.recordBatchReaderThroughDOMStream;pte.RecordBatchStreamReader.throughDOM=xte.recordBatchReaderThroughDOMStream;mte.RecordBatchWriter.throughDOM=gte.recordBatchWriterThroughDOMStream;mte.RecordBatchFileWriter.throughDOM=gte.recordBatchWriterThroughDOMStream;mte.RecordBatchStreamWriter.throughDOM=gte.recordBatchWriterThroughDOMStream;var ti=hte();Object.defineProperty(cn,"DateUnit",{enumerable:!0,get:function(){return ti.DateUnit}});Object.defineProperty(cn,"IntervalUnit",{enumerable:!0,get:function(){return ti.IntervalUnit}});Object.defineProperty(cn,"MessageHeader",{enumerable:!0,get:function(){return ti.MessageHeader}});Object.defineProperty(cn,"MetadataVersion",{enumerable:!0,get:function(){return ti.MetadataVersion}});Object.defineProperty(cn,"Precision",{enumerable:!0,get:function(){return ti.Precision}});Object.defineProperty(cn,"TimeUnit",{enumerable:!0,get:function(){return ti.TimeUnit}});Object.defineProperty(cn,"Type",{enumerable:!0,get:function(){return ti.Type}});Object.defineProperty(cn,"UnionMode",{enumerable:!0,get:function(){return ti.UnionMode}});Object.defineProperty(cn,"BufferType",{enumerable:!0,get:function(){return ti.BufferType}});Object.defineProperty(cn,"Data",{enumerable:!0,get:function(){return ti.Data}});Object.defineProperty(cn,"makeData",{enumerable:!0,get:function(){return ti.makeData}});Object.defineProperty(cn,"DataType",{enumerable:!0,get:function(){return ti.DataType}});Object.defineProperty(cn,"Null",{enumerable:!0,get:function(){return ti.Null}});Object.defineProperty(cn,"Bool",{enumerable:!0,get:function(){return ti.Bool}});Object.defineProperty(cn,"Int",{enumerable:!0,get:function(){return ti.Int}});Object.defineProperty(cn,"Int8",{enumerable:!0,get:function(){return ti.Int8}});Object.defineProperty(cn,"Int16",{enumerable:!0,get:function(){return ti.Int16}});Object.defineProperty(cn,"Int32",{enumerable:!0,get:function(){return ti.Int32}});Object.defineProperty(cn,"Int64",{enumerable:!0,get:function(){return ti.Int64}});Object.defineProperty(cn,"Uint8",{enumerable:!0,get:function(){return ti.Uint8}});Object.defineProperty(cn,"Uint16",{enumerable:!0,get:function(){return ti.Uint16}});Object.defineProperty(cn,"Uint32",{enumerable:!0,get:function(){return ti.Uint32}});Object.defineProperty(cn,"Uint64",{enumerable:!0,get:function(){return ti.Uint64}});Object.defineProperty(cn,"Float",{enumerable:!0,get:function(){return ti.Float}});Object.defineProperty(cn,"Float16",{enumerable:!0,get:function(){return ti.Float16}});Object.defineProperty(cn,"Float32",{enumerable:!0,get:function(){return ti.Float32}});Object.defineProperty(cn,"Float64",{enumerable:!0,get:function(){return ti.Float64}});Object.defineProperty(cn,"Utf8",{enumerable:!0,get:function(){return ti.Utf8}});Object.defineProperty(cn,"Binary",{enumerable:!0,get:function(){return ti.Binary}});Object.defineProperty(cn,"FixedSizeBinary",{enumerable:!0,get:function(){return ti.FixedSizeBinary}});Object.defineProperty(cn,"Date_",{enumerable:!0,get:function(){return ti.Date_}});Object.defineProperty(cn,"DateDay",{enumerable:!0,get:function(){return ti.DateDay}});Object.defineProperty(cn,"DateMillisecond",{enumerable:!0,get:function(){return ti.DateMillisecond}});Object.defineProperty(cn,"Timestamp",{enumerable:!0,get:function(){return ti.Timestamp}});Object.defineProperty(cn,"TimestampSecond",{enumerable:!0,get:function(){return ti.TimestampSecond}});Object.defineProperty(cn,"TimestampMillisecond",{enumerable:!0,get:function(){return ti.TimestampMillisecond}});Object.defineProperty(cn,"TimestampMicrosecond",{enumerable:!0,get:function(){return ti.TimestampMicrosecond}});Object.defineProperty(cn,"TimestampNanosecond",{enumerable:!0,get:function(){return ti.TimestampNanosecond}});Object.defineProperty(cn,"Time",{enumerable:!0,get:function(){return ti.Time}});Object.defineProperty(cn,"TimeSecond",{enumerable:!0,get:function(){return ti.TimeSecond}});Object.defineProperty(cn,"TimeMillisecond",{enumerable:!0,get:function(){return ti.TimeMillisecond}});Object.defineProperty(cn,"TimeMicrosecond",{enumerable:!0,get:function(){return ti.TimeMicrosecond}});Object.defineProperty(cn,"TimeNanosecond",{enumerable:!0,get:function(){return ti.TimeNanosecond}});Object.defineProperty(cn,"Decimal",{enumerable:!0,get:function(){return ti.Decimal}});Object.defineProperty(cn,"List",{enumerable:!0,get:function(){return ti.List}});Object.defineProperty(cn,"Struct",{enumerable:!0,get:function(){return ti.Struct}});Object.defineProperty(cn,"StructRow",{enumerable:!0,get:function(){return ti.StructRow}});Object.defineProperty(cn,"Union",{enumerable:!0,get:function(){return ti.Union}});Object.defineProperty(cn,"DenseUnion",{enumerable:!0,get:function(){return ti.DenseUnion}});Object.defineProperty(cn,"SparseUnion",{enumerable:!0,get:function(){return ti.SparseUnion}});Object.defineProperty(cn,"Dictionary",{enumerable:!0,get:function(){return ti.Dictionary}});Object.defineProperty(cn,"Interval",{enumerable:!0,get:function(){return ti.Interval}});Object.defineProperty(cn,"IntervalDayTime",{enumerable:!0,get:function(){return ti.IntervalDayTime}});Object.defineProperty(cn,"IntervalYearMonth",{enumerable:!0,get:function(){return ti.IntervalYearMonth}});Object.defineProperty(cn,"FixedSizeList",{enumerable:!0,get:function(){return ti.FixedSizeList}});Object.defineProperty(cn,"Map_",{enumerable:!0,get:function(){return ti.Map_}});Object.defineProperty(cn,"MapRow",{enumerable:!0,get:function(){return ti.MapRow}});Object.defineProperty(cn,"Table",{enumerable:!0,get:function(){return ti.Table}});Object.defineProperty(cn,"makeTable",{enumerable:!0,get:function(){return ti.makeTable}});Object.defineProperty(cn,"tableFromArrays",{enumerable:!0,get:function(){return ti.tableFromArrays}});Object.defineProperty(cn,"Schema",{enumerable:!0,get:function(){return ti.Schema}});Object.defineProperty(cn,"Field",{enumerable:!0,get:function(){return ti.Field}});Object.defineProperty(cn,"Visitor",{enumerable:!0,get:function(){return ti.Visitor}});Object.defineProperty(cn,"Vector",{enumerable:!0,get:function(){return ti.Vector}});Object.defineProperty(cn,"makeVector",{enumerable:!0,get:function(){return ti.makeVector}});Object.defineProperty(cn,"vectorFromArray",{enumerable:!0,get:function(){return ti.vectorFromArray}});Object.defineProperty(cn,"tableFromJSON",{enumerable:!0,get:function(){return ti.tableFromJSON}});Object.defineProperty(cn,"ByteStream",{enumerable:!0,get:function(){return ti.ByteStream}});Object.defineProperty(cn,"AsyncByteStream",{enumerable:!0,get:function(){return ti.AsyncByteStream}});Object.defineProperty(cn,"AsyncByteQueue",{enumerable:!0,get:function(){return ti.AsyncByteQueue}});Object.defineProperty(cn,"RecordBatchReader",{enumerable:!0,get:function(){return ti.RecordBatchReader}});Object.defineProperty(cn,"RecordBatchFileReader",{enumerable:!0,get:function(){return ti.RecordBatchFileReader}});Object.defineProperty(cn,"RecordBatchStreamReader",{enumerable:!0,get:function(){return ti.RecordBatchStreamReader}});Object.defineProperty(cn,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return ti.AsyncRecordBatchFileReader}});Object.defineProperty(cn,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return ti.AsyncRecordBatchStreamReader}});Object.defineProperty(cn,"RecordBatchWriter",{enumerable:!0,get:function(){return ti.RecordBatchWriter}});Object.defineProperty(cn,"RecordBatchFileWriter",{enumerable:!0,get:function(){return ti.RecordBatchFileWriter}});Object.defineProperty(cn,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return ti.RecordBatchStreamWriter}});Object.defineProperty(cn,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return ti.RecordBatchJSONWriter}});Object.defineProperty(cn,"tableFromIPC",{enumerable:!0,get:function(){return ti.tableFromIPC}});Object.defineProperty(cn,"tableToIPC",{enumerable:!0,get:function(){return ti.tableToIPC}});Object.defineProperty(cn,"MessageReader",{enumerable:!0,get:function(){return ti.MessageReader}});Object.defineProperty(cn,"AsyncMessageReader",{enumerable:!0,get:function(){return ti.AsyncMessageReader}});Object.defineProperty(cn,"JSONMessageReader",{enumerable:!0,get:function(){return ti.JSONMessageReader}});Object.defineProperty(cn,"Message",{enumerable:!0,get:function(){return ti.Message}});Object.defineProperty(cn,"RecordBatch",{enumerable:!0,get:function(){return ti.RecordBatch}});Object.defineProperty(cn,"util",{enumerable:!0,get:function(){return ti.util}});Object.defineProperty(cn,"Builder",{enumerable:!0,get:function(){return ti.Builder}});Object.defineProperty(cn,"makeBuilder",{enumerable:!0,get:function(){return ti.makeBuilder}});Object.defineProperty(cn,"builderThroughIterable",{enumerable:!0,get:function(){return ti.builderThroughIterable}});Object.defineProperty(cn,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return ti.builderThroughAsyncIterable}});var co=hte();Object.defineProperty(cn,"BinaryBuilder",{enumerable:!0,get:function(){return co.BinaryBuilder}});Object.defineProperty(cn,"BoolBuilder",{enumerable:!0,get:function(){return co.BoolBuilder}});Object.defineProperty(cn,"DateBuilder",{enumerable:!0,get:function(){return co.DateBuilder}});Object.defineProperty(cn,"DateDayBuilder",{enumerable:!0,get:function(){return co.DateDayBuilder}});Object.defineProperty(cn,"DateMillisecondBuilder",{enumerable:!0,get:function(){return co.DateMillisecondBuilder}});Object.defineProperty(cn,"DecimalBuilder",{enumerable:!0,get:function(){return co.DecimalBuilder}});Object.defineProperty(cn,"DictionaryBuilder",{enumerable:!0,get:function(){return co.DictionaryBuilder}});Object.defineProperty(cn,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return co.FixedSizeBinaryBuilder}});Object.defineProperty(cn,"FixedSizeListBuilder",{enumerable:!0,get:function(){return co.FixedSizeListBuilder}});Object.defineProperty(cn,"FloatBuilder",{enumerable:!0,get:function(){return co.FloatBuilder}});Object.defineProperty(cn,"Float16Builder",{enumerable:!0,get:function(){return co.Float16Builder}});Object.defineProperty(cn,"Float32Builder",{enumerable:!0,get:function(){return co.Float32Builder}});Object.defineProperty(cn,"Float64Builder",{enumerable:!0,get:function(){return co.Float64Builder}});Object.defineProperty(cn,"IntervalBuilder",{enumerable:!0,get:function(){return co.IntervalBuilder}});Object.defineProperty(cn,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return co.IntervalDayTimeBuilder}});Object.defineProperty(cn,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return co.IntervalYearMonthBuilder}});Object.defineProperty(cn,"IntBuilder",{enumerable:!0,get:function(){return co.IntBuilder}});Object.defineProperty(cn,"Int8Builder",{enumerable:!0,get:function(){return co.Int8Builder}});Object.defineProperty(cn,"Int16Builder",{enumerable:!0,get:function(){return co.Int16Builder}});Object.defineProperty(cn,"Int32Builder",{enumerable:!0,get:function(){return co.Int32Builder}});Object.defineProperty(cn,"Int64Builder",{enumerable:!0,get:function(){return co.Int64Builder}});Object.defineProperty(cn,"Uint8Builder",{enumerable:!0,get:function(){return co.Uint8Builder}});Object.defineProperty(cn,"Uint16Builder",{enumerable:!0,get:function(){return co.Uint16Builder}});Object.defineProperty(cn,"Uint32Builder",{enumerable:!0,get:function(){return co.Uint32Builder}});Object.defineProperty(cn,"Uint64Builder",{enumerable:!0,get:function(){return co.Uint64Builder}});Object.defineProperty(cn,"ListBuilder",{enumerable:!0,get:function(){return co.ListBuilder}});Object.defineProperty(cn,"MapBuilder",{enumerable:!0,get:function(){return co.MapBuilder}});Object.defineProperty(cn,"NullBuilder",{enumerable:!0,get:function(){return co.NullBuilder}});Object.defineProperty(cn,"StructBuilder",{enumerable:!0,get:function(){return co.StructBuilder}});Object.defineProperty(cn,"TimestampBuilder",{enumerable:!0,get:function(){return co.TimestampBuilder}});Object.defineProperty(cn,"TimestampSecondBuilder",{enumerable:!0,get:function(){return co.TimestampSecondBuilder}});Object.defineProperty(cn,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return co.TimestampMillisecondBuilder}});Object.defineProperty(cn,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return co.TimestampMicrosecondBuilder}});Object.defineProperty(cn,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return co.TimestampNanosecondBuilder}});Object.defineProperty(cn,"TimeBuilder",{enumerable:!0,get:function(){return co.TimeBuilder}});Object.defineProperty(cn,"TimeSecondBuilder",{enumerable:!0,get:function(){return co.TimeSecondBuilder}});Object.defineProperty(cn,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return co.TimeMillisecondBuilder}});Object.defineProperty(cn,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return co.TimeMicrosecondBuilder}});Object.defineProperty(cn,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return co.TimeNanosecondBuilder}});Object.defineProperty(cn,"UnionBuilder",{enumerable:!0,get:function(){return co.UnionBuilder}});Object.defineProperty(cn,"DenseUnionBuilder",{enumerable:!0,get:function(){return co.DenseUnionBuilder}});Object.defineProperty(cn,"SparseUnionBuilder",{enumerable:!0,get:function(){return co.SparseUnionBuilder}});Object.defineProperty(cn,"Utf8Builder",{enumerable:!0,get:function(){return co.Utf8Builder}})});var hve=Ae((aAt,dve)=>{"use strict";m();var _et=Object.create,yj=Object.defineProperty,Eet=Object.getOwnPropertyDescriptor,bet=Object.getOwnPropertyNames,Cet=Object.getPrototypeOf,wet=Object.prototype.hasOwnProperty,Aet=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),Tet=(n,e)=>{for(var t in e)yj(n,t,{get:e[t],enumerable:!0})},K5e=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of bet(e))!wet.call(n,i)&&i!==t&&yj(n,i,{get:()=>e[i],enumerable:!(r=Eet(e,i))||r.enumerable});return n},yte=(n,e,t)=>(t=n!=null?_et(Cet(n)):{},K5e(e||!n||!n.__esModule?yj(t,"default",{value:n,enumerable:!0}):t,n)),Fet=n=>K5e(yj({},"__esModule",{value:!0}),n),Det=Aet((n,e)=>{e.exports=Worker}),J5e={};Tet(J5e,{AsyncDuckDB:()=>Pet,AsyncDuckDBConnection:()=>rve,AsyncDuckDBDispatcher:()=>Bet,AsyncPreparedStatement:()=>ive,AsyncResultStreamIterator:()=>vte,ConsoleLogger:()=>Oet,DuckDBDataProtocol:()=>fve,LogEvent:()=>eve,LogLevel:()=>X5e,LogOrigin:()=>tve,LogTopic:()=>Z5e,PACKAGE_NAME:()=>ave,PACKAGE_VERSION:()=>uve,PACKAGE_VERSION_MAJOR:()=>zet,PACKAGE_VERSION_MINOR:()=>Het,PACKAGE_VERSION_PATCH:()=>Vet,StatusCode:()=>nve,VoidLogger:()=>Ret,WorkerRequestType:()=>sve,WorkerResponseType:()=>ove,WorkerTask:()=>Jo,createWorker:()=>Jet,getJsDelivrBundles:()=>Get,getLogEventLabel:()=>Let,getLogLevelLabel:()=>Net,getLogOriginLabel:()=>Iet,getLogTopicLabel:()=>ket,getPlatformFeatures:()=>cve,isFirefox:()=>Wet,isNode:()=>Ste,isSafari:()=>Qet,selectBundle:()=>Yet});dve.exports=Fet(J5e);var X5e=(n=>(n[n.NONE=0]="NONE",n[n.DEBUG=1]="DEBUG",n[n.INFO=2]="INFO",n[n.WARNING=3]="WARNING",n[n.ERROR=4]="ERROR",n))(X5e||{}),Z5e=(n=>(n[n.NONE=0]="NONE",n[n.CONNECT=1]="CONNECT",n[n.DISCONNECT=2]="DISCONNECT",n[n.OPEN=3]="OPEN",n[n.QUERY=4]="QUERY",n[n.INSTANTIATE=5]="INSTANTIATE",n))(Z5e||{}),eve=(n=>(n[n.NONE=0]="NONE",n[n.OK=1]="OK",n[n.ERROR=2]="ERROR",n[n.START=3]="START",n[n.RUN=4]="RUN",n[n.CAPTURE=5]="CAPTURE",n))(eve||{}),tve=(n=>(n[n.NONE=0]="NONE",n[n.WEB_WORKER=1]="WEB_WORKER",n[n.NODE_WORKER=2]="NODE_WORKER",n[n.BINDINGS=3]="BINDINGS",n[n.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",n))(tve||{}),Ret=class{log(n){}},Oet=class{constructor(n=2){this.level=n}log(n){n.level>=this.level&&console.log(n)}};function Net(n){switch(n){case 0:return"NONE";case 1:return"DEBUG";case 2:return"INFO";case 3:return"WARNING";case 4:return"ERROR";default:return"?"}}function Let(n){switch(n){case 0:return"NONE";case 1:return"OK";case 2:return"ERROR";case 3:return"START";case 4:return"RUN";case 5:return"CAPTURE";default:return"?"}}function ket(n){switch(n){case 1:return"CONNECT";case 2:return"DISCONNECT";case 5:return"INSTANTIATE";case 3:return"OPEN";case 4:return"QUERY";default:return"?"}}function Iet(n){switch(n){case 0:return"NONE";case 1:return"WEB WORKER";case 2:return"NODE WORKER";case 3:return"DUCKDB BINDINGS";case 4:return"DUCKDB";default:return"?"}}var nve=(n=>(n[n.SUCCESS=0]="SUCCESS",n))(nve||{}),m6=yte(gj()),rve=class{constructor(n,e){this._bindings=n,this._conn=e}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(n){return n(this._bindings,this._conn)}async query(n){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:n});let e=await this._bindings.runQuery(this._conn,n),t=m6.RecordBatchReader.from(e);return console.assert(t.isSync()),console.assert(t.isFile()),new m6.Table(t)}async send(n){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:n});let e=await this._bindings.startPendingQuery(this._conn,n);for(;e==null;)e=await this._bindings.pollPendingQuery(this._conn);let t=new vte(this._bindings,this._conn,e),r=await m6.RecordBatchReader.from(t);return console.assert(r.isAsync()),console.assert(r.isStream()),r}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(n){return await this._bindings.getTableNames(this._conn,n)}async prepare(n){let e=await this._bindings.createPrepared(this._conn,n);return new ive(this._bindings,this._conn,e)}async insertArrowTable(n,e){let t=m6.tableToIPC(n,"stream");await this.insertArrowFromIPCStream(t,e)}async insertArrowFromIPCStream(n,e){await this._bindings.insertArrowFromIPCStream(this._conn,n,e)}async insertCSVFromPath(n,e){await this._bindings.insertCSVFromPath(this._conn,n,e)}async insertJSONFromPath(n,e){await this._bindings.insertJSONFromPath(this._conn,n,e)}},vte=class{constructor(n,e,t){this.db=n,this.conn=e,this.header=t,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let n;return this._inFlight!=null?(n=await this._inFlight,this._inFlight=null):n=await this.db.fetchQueryResults(this.conn),this._depleted=n.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:n}}[Symbol.asyncIterator](){return this}},ive=class{constructor(n,e,t){this.bindings=n,this.connectionId=e,this.statementId=t}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...n){let e=await this.bindings.runPrepared(this.connectionId,this.statementId,n),t=m6.RecordBatchReader.from(e);return console.assert(t.isSync()),console.assert(t.isFile()),new m6.Table(t)}async send(...n){let e=await this.bindings.sendPrepared(this.connectionId,this.statementId,n),t=new vte(this.bindings,this.connectionId,e),r=await m6.RecordBatchReader.from(t);return console.assert(r.isAsync()),console.assert(r.isStream()),r}},sve=(n=>(n.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",n.CLOSE_PREPARED="CLOSE_PREPARED",n.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",n.CONNECT="CONNECT",n.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",n.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",n.CREATE_PREPARED="CREATE_PREPARED",n.DISCONNECT="DISCONNECT",n.DROP_FILE="DROP_FILE",n.DROP_FILES="DROP_FILES",n.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",n.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",n.FLUSH_FILES="FLUSH_FILES",n.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",n.GET_TABLE_NAMES="GET_TABLE_NAMES",n.GET_VERSION="GET_VERSION",n.GLOB_FILE_INFOS="GLOB_FILE_INFOS",n.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",n.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",n.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",n.INSTANTIATE="INSTANTIATE",n.OPEN="OPEN",n.PING="PING",n.POLL_PENDING_QUERY="POLL_PENDING_QUERY",n.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",n.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",n.REGISTER_FILE_URL="REGISTER_FILE_URL",n.RESET="RESET",n.RUN_PREPARED="RUN_PREPARED",n.RUN_QUERY="RUN_QUERY",n.SEND_PREPARED="SEND_PREPARED",n.START_PENDING_QUERY="START_PENDING_QUERY",n.TOKENIZE="TOKENIZE",n))(sve||{}),ove=(n=>(n.CONNECTION_INFO="CONNECTION_INFO",n.ERROR="ERROR",n.FEATURE_FLAGS="FEATURE_FLAGS",n.FILE_BUFFER="FILE_BUFFER",n.FILE_INFOS="FILE_INFOS",n.FILE_SIZE="FILE_SIZE",n.FILE_STATISTICS="FILE_STATISTICS",n.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",n.LOG="LOG",n.OK="OK",n.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",n.QUERY_PLAN="QUERY_PLAN",n.QUERY_RESULT="QUERY_RESULT",n.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",n.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",n.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",n.REGISTERED_FILE="REGISTERED_FILE",n.SCRIPT_TOKENS="SCRIPT_TOKENS",n.SUCCESS="SUCCESS",n.TABLE_NAMES="TABLE_NAMES",n.VERSION_STRING="VERSION_STRING",n))(ove||{}),Jo=class{constructor(n,e){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=n,this.data=e,this.promise=new Promise((t,r)=>{this.promiseResolver=t,this.promiseRejecter=r})}},zo=yte(gj());function vj(n){switch(n.typeId){case zo.Type.Binary:return{sqlType:"binary"};case zo.Type.Bool:return{sqlType:"bool"};case zo.Type.Date:return{sqlType:"date"};case zo.Type.DateDay:return{sqlType:"date32[d]"};case zo.Type.DateMillisecond:return{sqlType:"date64[ms]"};case zo.Type.Decimal:{let e=n;return{sqlType:"decimal",precision:e.precision,scale:e.scale}}case zo.Type.Float:return{sqlType:"float"};case zo.Type.Float16:return{sqlType:"float16"};case zo.Type.Float32:return{sqlType:"float32"};case zo.Type.Float64:return{sqlType:"float64"};case zo.Type.Int:return{sqlType:"int32"};case zo.Type.Int16:return{sqlType:"int16"};case zo.Type.Int32:return{sqlType:"int32"};case zo.Type.Int64:return{sqlType:"int64"};case zo.Type.Uint16:return{sqlType:"uint16"};case zo.Type.Uint32:return{sqlType:"uint32"};case zo.Type.Uint64:return{sqlType:"uint64"};case zo.Type.Uint8:return{sqlType:"uint8"};case zo.Type.IntervalDayTime:return{sqlType:"interval[dt]"};case zo.Type.IntervalYearMonth:return{sqlType:"interval[m]"};case zo.Type.List:return{sqlType:"list",valueType:vj(n.valueType)};case zo.Type.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:n.byteWidth};case zo.Type.Null:return{sqlType:"null"};case zo.Type.Utf8:return{sqlType:"utf8"};case zo.Type.Struct:return{sqlType:"struct",fields:n.children.map(e=>_te(e.name,e.type))};case zo.Type.Map:{let e=n;return{sqlType:"map",keyType:vj(e.keyType),valueType:vj(e.valueType)}}case zo.Type.Time:return{sqlType:"time[s]"};case zo.Type.TimeMicrosecond:return{sqlType:"time[us]"};case zo.Type.TimeMillisecond:return{sqlType:"time[ms]"};case zo.Type.TimeNanosecond:return{sqlType:"time[ns]"};case zo.Type.TimeSecond:return{sqlType:"time[s]"};case zo.Type.Timestamp:return{sqlType:"timestamp",timezone:n.timezone||void 0};case zo.Type.TimestampSecond:return{sqlType:"timestamp[s]",timezone:n.timezone||void 0};case zo.Type.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:n.timezone||void 0};case zo.Type.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:n.timezone||void 0};case zo.Type.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:n.timezone||void 0}}throw new Error(`unsupported arrow type: ${n.toString()}`)}function _te(n,e){let t=vj(e);return t.name=n,t}var Met=new TextEncoder,Pet=class{constructor(n,e=null){this._onInstantiationProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=n,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),e!=null&&this.attach(e)}get logger(){return this._logger}attach(n){this._worker=n,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((e,t)=>{this._workerShutdownResolver=e})}detach(){!this._worker||(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){!this._worker||(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(n,e=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let t=this._nextMessageId++;return this._pendingRequests.set(t,n),this._worker.postMessage({messageId:t,type:n.type,data:n.data},e),await n.promise}onMessage(n){let e=n.data;switch(e.type){case"LOG":{this._logger.log(e.data);return}case"INSTANTIATE_PROGRESS":{for(let r of this._onInstantiationProgress)r(e.data);return}}let t=this._pendingRequests.get(e.requestId);if(!t){console.warn(`unassociated response: [${e.requestId}, ${e.type.toString()}]`);return}if(this._pendingRequests.delete(e.requestId),e.type=="ERROR"){let r=new Error(e.data.message);r.name=e.data.name,r.stack=e.data.stack,t.promiseRejecter(r);return}switch(t.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(e.type=="OK"){t.promiseResolver(e.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],e.type=="OK"){t.promiseResolver(e.data);return}break;case"GLOB_FILE_INFOS":if(e.type=="FILE_INFOS"){t.promiseResolver(e.data);return}break;case"GET_VERSION":if(e.type=="VERSION_STRING"){t.promiseResolver(e.data);return}break;case"GET_FEATURE_FLAGS":if(e.type=="FEATURE_FLAGS"){t.promiseResolver(e.data);return}break;case"GET_TABLE_NAMES":if(e.type=="TABLE_NAMES"){t.promiseResolver(e.data);return}break;case"TOKENIZE":if(e.type=="SCRIPT_TOKENS"){t.promiseResolver(e.data);return}break;case"COPY_FILE_TO_BUFFER":if(e.type=="FILE_BUFFER"){t.promiseResolver(e.data);return}break;case"EXPORT_FILE_STATISTICS":if(e.type=="FILE_STATISTICS"){t.promiseResolver(e.data);return}break;case"CONNECT":if(e.type=="CONNECTION_INFO"){t.promiseResolver(e.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(e.type=="QUERY_RESULT"){t.promiseResolver(e.data);return}break;case"SEND_PREPARED":if(e.type=="QUERY_RESULT_HEADER"){t.promiseResolver(e.data);return}break;case"START_PENDING_QUERY":if(e.type=="QUERY_RESULT_HEADER_OR_NULL"){t.promiseResolver(e.data);return}break;case"POLL_PENDING_QUERY":if(e.type=="QUERY_RESULT_HEADER_OR_NULL"){t.promiseResolver(e.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],e.type=="SUCCESS"){t.promiseResolver(e.data);return}break;case"FETCH_QUERY_RESULTS":if(e.type=="QUERY_RESULT_CHUNK"){t.promiseResolver(e.data);return}break;case"CREATE_PREPARED":if(e.type=="PREPARED_STATEMENT_ID"){t.promiseResolver(e.data);return}break}t.promiseRejecter(new Error(`unexpected response type: ${e.type.toString()}`))}onError(n){console.error(n),console.error(`error in duckdb worker: ${n.message}`),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn(`worker terminated with ${this._pendingRequests.size} pending requests`);return}this._pendingRequests.clear()}async reset(){let n=new Jo("RESET",null);return await this.postTask(n)}async ping(){let n=new Jo("PING",null);await this.postTask(n)}async dropFile(n){let e=new Jo("DROP_FILE",n);return await this.postTask(e)}async dropFiles(){let n=new Jo("DROP_FILES",null);return await this.postTask(n)}async flushFiles(){let n=new Jo("FLUSH_FILES",null);return await this.postTask(n)}async instantiate(n,e=null,t=r=>{}){this._onInstantiationProgress.push(t);let r=new Jo("INSTANTIATE",[n,e]);return await this.postTask(r)}async getVersion(){let n=new Jo("GET_VERSION",null);return await this.postTask(n)}async getFeatureFlags(){let n=new Jo("GET_FEATURE_FLAGS",null);return await this.postTask(n)}async open(n){let e=new Jo("OPEN",n);await this.postTask(e)}async tokenize(n){let e=new Jo("TOKENIZE",n);return await this.postTask(e)}async connectInternal(){let n=new Jo("CONNECT",null);return await this.postTask(n)}async connect(){let n=await this.connectInternal();return new rve(this,n)}async disconnect(n){let e=new Jo("DISCONNECT",n);await this.postTask(e)}async runQuery(n,e){let t=new Jo("RUN_QUERY",[n,e]);return await this.postTask(t)}async startPendingQuery(n,e){let t=new Jo("START_PENDING_QUERY",[n,e]);return await this.postTask(t)}async pollPendingQuery(n){let e=new Jo("POLL_PENDING_QUERY",n);return await this.postTask(e)}async cancelPendingQuery(n){let e=new Jo("CANCEL_PENDING_QUERY",n);return await this.postTask(e)}async fetchQueryResults(n){let e=new Jo("FETCH_QUERY_RESULTS",n);return await this.postTask(e)}async getTableNames(n,e){let t=new Jo("GET_TABLE_NAMES",[n,e]);return await this.postTask(t)}async createPrepared(n,e){let t=new Jo("CREATE_PREPARED",[n,e]);return await this.postTask(t)}async closePrepared(n,e){let t=new Jo("CLOSE_PREPARED",[n,e]);await this.postTask(t)}async runPrepared(n,e,t){let r=new Jo("RUN_PREPARED",[n,e,t]);return await this.postTask(r)}async sendPrepared(n,e,t){let r=new Jo("SEND_PREPARED",[n,e,t]);return await this.postTask(r)}async globFiles(n){let e=new Jo("GLOB_FILE_INFOS",n);return await this.postTask(e)}async registerFileText(n,e){let t=Met.encode(e);await this.registerFileBuffer(n,t)}async registerFileURL(n,e,t,r){e===void 0&&(e=n);let i=new Jo("REGISTER_FILE_URL",[n,e,t,r]);await this.postTask(i)}async registerEmptyFileBuffer(n){let e=new Jo("REGISTER_FILE_BUFFER",[n,new Uint8Array]);await this.postTask(e)}async registerFileBuffer(n,e){let t=new Jo("REGISTER_FILE_BUFFER",[n,e]);await this.postTask(t,[e.buffer])}async registerFileHandle(n,e,t,r){let i=new Jo("REGISTER_FILE_HANDLE",[n,e,t,r]);await this.postTask(i,[])}async collectFileStatistics(n,e){let t=new Jo("COLLECT_FILE_STATISTICS",[n,e]);await this.postTask(t,[])}async exportFileStatistics(n){let e=new Jo("EXPORT_FILE_STATISTICS",n);return await this.postTask(e,[])}async copyFileToBuffer(n){let e=new Jo("COPY_FILE_TO_BUFFER",n);return await this.postTask(e)}async copyFileToPath(n,e){let t=new Jo("COPY_FILE_TO_PATH",[n,e]);await this.postTask(t)}async insertArrowFromIPCStream(n,e,t){if(e.length==0)return;let r=new Jo("INSERT_ARROW_FROM_IPC_STREAM",[n,e,t]);await this.postTask(r,[e.buffer])}async insertCSVFromPath(n,e,t){if(t.columns!==void 0){let i=[];for(let s in t.columns){let o=t.columns[s];i.push(_te(s,o))}t.columnsFlat=i,delete t.columns}let r=new Jo("IMPORT_CSV_FROM_PATH",[n,e,t]);await this.postTask(r)}async insertJSONFromPath(n,e,t){if(t.columns!==void 0){let i=[];for(let s in t.columns){let o=t.columns[s];i.push(_te(s,o))}t.columnsFlat=i,delete t.columns}let r=new Jo("IMPORT_JSON_FROM_PATH",[n,e,t]);await this.postTask(r)}},Bet=class{constructor(){this._bindings=null,this._nextMessageId=0}log(n){this.postMessage({messageId:this._nextMessageId++,requestId:0,type:"LOG",data:n},[])}sendOK(n){this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"OK",data:null},[])}failWith(n,e){let t={name:e.name,message:e.message,stack:e.stack||void 0};this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"ERROR",data:t},[])}async onMessage(n){switch(n.type){case"PING":this.sendOK(n);return;case"INSTANTIATE":this._bindings!=null&&this.failWith(n,new Error("duckdb already initialized"));try{this._bindings=await this.instantiate(n.data[0],n.data[1],e=>{this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"INSTANTIATE_PROGRESS",data:e},[])}),this.sendOK(n)}catch(e){this._bindings=null,this.failWith(n,e)}return;default:break}if(!this._bindings)return this.failWith(n,new Error("duckdb is not initialized"));try{switch(n.type){case"GET_VERSION":this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"VERSION_STRING",data:this._bindings.getVersion()},[]);break;case"GET_FEATURE_FLAGS":this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FEATURE_FLAGS",data:this._bindings.getFeatureFlags()},[]);break;case"RESET":this._bindings.reset(),this.sendOK(n);break;case"OPEN":this._bindings.open(n.data),this.sendOK(n);break;case"DROP_FILE":this._bindings.dropFile(n.data),this.sendOK(n);break;case"DROP_FILES":this._bindings.dropFiles(),this.sendOK(n);break;case"FLUSH_FILES":this._bindings.flushFiles(),this.sendOK(n);break;case"CONNECT":{let e=this._bindings.connect();this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"CONNECTION_INFO",data:e.useUnsafe((t,r)=>r)},[]);break}case"DISCONNECT":this._bindings.disconnect(n.data),this.sendOK(n);break;case"CREATE_PREPARED":{let e=this._bindings.createPrepared(n.data[0],n.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"PREPARED_STATEMENT_ID",data:e},[]);break}case"CLOSE_PREPARED":{this._bindings.closePrepared(n.data[0],n.data[1]),this.sendOK(n);break}case"RUN_PREPARED":{let e=this._bindings.runPrepared(n.data[0],n.data[1],n.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT",data:e},[e.buffer]);break}case"RUN_QUERY":{let e=this._bindings.runQuery(n.data[0],n.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT",data:e},[e.buffer]);break}case"SEND_PREPARED":{let e=this._bindings.sendPrepared(n.data[0],n.data[1],n.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_HEADER",data:e},[e.buffer]);break}case"START_PENDING_QUERY":{let e=this._bindings.startPendingQuery(n.data[0],n.data[1]),t=[];e&&t.push(e.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:e},t);break}case"POLL_PENDING_QUERY":{let e=this._bindings.pollPendingQuery(n.data),t=[];e&&t.push(e.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:e},t);break}case"CANCEL_PENDING_QUERY":{let e=this._bindings.cancelPendingQuery(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"SUCCESS",data:e},[]);break}case"FETCH_QUERY_RESULTS":{let e=this._bindings.fetchQueryResults(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_CHUNK",data:e},[e.buffer]);break}case"GET_TABLE_NAMES":{let e=this._bindings.getTableNames(n.data[0],n.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"TABLE_NAMES",data:e},[]);break}case"GLOB_FILE_INFOS":{let e=this._bindings.globFiles(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FILE_INFOS",data:e},[]);break}case"REGISTER_FILE_URL":this._bindings.registerFileURL(n.data[0],n.data[1],n.data[2],n.data[3]),this.sendOK(n);break;case"REGISTER_FILE_BUFFER":this._bindings.registerFileBuffer(n.data[0],n.data[1]),this.sendOK(n);break;case"REGISTER_FILE_HANDLE":this._bindings.registerFileHandle(n.data[0],n.data[1],n.data[2],n.data[3]),this.sendOK(n);break;case"COPY_FILE_TO_PATH":this._bindings.copyFileToPath(n.data[0],n.data[1]),this.sendOK(n);break;case"COPY_FILE_TO_BUFFER":{let e=this._bindings.copyFileToBuffer(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FILE_BUFFER",data:e},[]);break}case"COLLECT_FILE_STATISTICS":this._bindings.collectFileStatistics(n.data[0],n.data[1]),this.sendOK(n);break;case"EXPORT_FILE_STATISTICS":{this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FILE_STATISTICS",data:this._bindings.exportFileStatistics(n.data)},[]);break}case"INSERT_ARROW_FROM_IPC_STREAM":{this._bindings.insertArrowFromIPCStream(n.data[0],n.data[1],n.data[2]),this.sendOK(n);break}case"IMPORT_CSV_FROM_PATH":{this._bindings.insertCSVFromPath(n.data[0],n.data[1],n.data[2]),this.sendOK(n);break}case"IMPORT_JSON_FROM_PATH":{this._bindings.insertJSONFromPath(n.data[0],n.data[1],n.data[2]),this.sendOK(n);break}case"TOKENIZE":{let e=this._bindings.tokenize(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"SCRIPT_TOKENS",data:e},[]);break}}}catch(e){return this.failWith(n,e)}}},jet=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),qet=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),Uet=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),$et=()=>(async n=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(n)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),Ete={name:"@duckdb/duckdb-wasm",version:"1.20.0",description:"DuckDB powered by WebAssembly",license:"MPL-2.0",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^9.0.0"},devDependencies:{"@types/emscripten":"^1.39.6","@types/jasmine":"^4.3.0","@typescript-eslint/eslint-plugin":"^5.40.1","@typescript-eslint/parser":"^5.40.0",esbuild:"^0.15.12",eslint:"^8.26.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.31.10","fast-glob":"^3.2.12",jasmine:"^4.4.0","jasmine-core":"^4.3.0","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.9.0",karma:"^6.4.1","karma-chrome-launcher":"^3.1.1","karma-coverage":"^2.2.0","karma-firefox-launcher":"^2.1.2","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.0.0","karma-sourcemap-loader":"^0.3.8","karma-spec-reporter":"^0.0.34","make-dir":"^3.1.0",nyc:"^15.1.0",prettier:"^2.7.1",puppeteer:"^19.2.0",rimraf:"^3.0.2",s3rver:"^3.7.1",typedoc:"^0.23.20",typescript:"^4.8.4","wasm-feature-detect":"^1.2.11","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-blocking":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.mjs":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.cjs":"./dist/duckdb-browser-blocking.cjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{browser:{types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},ave=Ete.name,uve=Ete.version,bte=Ete.version.split("."),zet=bte[0],Het=bte[1],Vet=bte[2],Ste=()=>typeof navigator>"u",lve=()=>Ste()?"node":navigator.userAgent,Wet=()=>lve().includes("Firefox"),Qet=()=>/^((?!chrome|android).)*safari/i.test(lve());function Get(){let n=`https://cdn.jsdelivr.net/npm/${ave}@${uve}/dist/`;return{mvp:{mainModule:`${n}duckdb-mvp.wasm`,mainWorker:`${n}duckdb-browser-mvp.worker.js`},eh:{mainModule:`${n}duckdb-eh.wasm`,mainWorker:`${n}duckdb-browser-eh.worker.js`}}}var Cte=null,wte=null,Ate=null,Tte=null,Fte=null;async function cve(){return Cte==null&&(Cte=typeof BigInt64Array<"u"),wte==null&&(wte=await qet()),Ate==null&&(Ate=await $et()),Tte==null&&(Tte=await Uet()),Fte==null&&(Fte=await jet()),{bigInt64Array:Cte,crossOriginIsolated:Ste()||globalThis.crossOriginIsolated||!1,wasmExceptions:wte,wasmSIMD:Tte,wasmThreads:Ate,wasmBulkMemory:Fte}}async function Yet(n){let e=await cve();if(e.wasmExceptions){if(e.wasmSIMD&&e.wasmThreads&&e.crossOriginIsolated&&n.coi)return{mainModule:n.coi.mainModule,mainWorker:n.coi.mainWorker,pthreadWorker:n.coi.pthreadWorker};if(n.eh)return{mainModule:n.eh.mainModule,mainWorker:n.eh.mainWorker,pthreadWorker:null}}return{mainModule:n.mvp.mainModule,mainWorker:n.mvp.mainWorker,pthreadWorker:null}}var Ket=yte(Det());async function Jet(n){let e=new Request(n),t=await fetch(e),r=URL.createObjectURL(await t.blob());return new Ket.default(r)}function Xet(){let n=new TextDecoder;return e=>(typeof SharedArrayBuffer<"u"&&e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),n.decode(e))}var oAt=Xet(),fve=(n=>(n[n.BUFFER=0]="BUFFER",n[n.NODE_FS=1]="NODE_FS",n[n.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",n[n.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",n[n.HTTP=4]="HTTP",n[n.S3=5]="S3",n))(fve||{})});var s1=Ae(Hr=>{"use strict";m();Object.defineProperty(Hr,"__esModule",{value:!0});Hr.isValueDate=Hr.isValueTimestamp=Hr.isValueBoolean=Hr.isValueNumber=Hr.isValueString=Hr.isMeasureLike=Hr.getPhysicalFields=Hr.getDimensions=Hr.isPhysical=Hr.isDimensional=Hr.isTurtleDef=Hr.getIdentifier=Hr.isFieldStructDef=Hr.isFieldTimeBased=Hr.isFieldTypeDef=Hr.isSQLBlock=Hr.isSQLFragment=Hr.isJoinOn=Hr.isIndexSegment=Hr.isSamplingEnable=Hr.isSamplingPercent=Hr.isSamplingRows=Hr.isQuerySegment=Hr.isProjectSegment=Hr.isReduceSegment=Hr.refIsStructDef=Hr.isByExpression=Hr.isByName=Hr.ValueType=Hr.isExtractUnit=Hr.isTimestampUnit=Hr.isDateUnit=Hr.FieldIsIntrinsic=Hr.isAtomicFieldType=Hr.isTimeFieldType=Hr.hasExpression=Hr.mkExpr=Hr.isApplyFragment=Hr.isApplyValue=Hr.isParameterFragment=Hr.isFieldFragment=Hr.isUngroupFragment=Hr.isAsymmetricFragment=Hr.isAggregateFragment=Hr.isDialectFragment=Hr.isFilterFragment=Hr.isFilteredAliasedName=Hr.paramHasValue=Hr.isConditionParameter=Hr.isValueParameter=void 0;function pve(n){return n.value!==void 0}Hr.isValueParameter=pve;function Zet(n){return n.condition!==void 0}Hr.isConditionParameter=Zet;function ett(n){return pve(n)||n.condition!==null}Hr.paramHasValue=ett;function ttt(n){for(let e of Object.keys(n))if(!["name","as","filterList"].includes(e))return!1;return!0}Hr.isFilteredAliasedName=ttt;function ntt(n){return(n==null?void 0:n.type)==="filterExpression"}Hr.isFilterFragment=ntt;function rtt(n){return(n==null?void 0:n.type)==="dialect"}Hr.isDialectFragment=rtt;function mve(n){return(n==null?void 0:n.type)==="aggregate"}Hr.isAggregateFragment=mve;function itt(n){return mve(n)&&["sum","avg","count"].includes(n.function)}Hr.isAsymmetricFragment=itt;function stt(n){let e=n==null?void 0:n.type;return e=="all"||e=="exclude"}Hr.isUngroupFragment=stt;function ott(n){return(n==null?void 0:n.type)==="field"}Hr.isFieldFragment=ott;function att(n){return(n==null?void 0:n.type)==="parameter"}Hr.isParameterFragment=att;function utt(n){return(n==null?void 0:n.type)==="applyVal"}Hr.isApplyValue=utt;function ltt(n){return(n==null?void 0:n.type)==="apply"}Hr.isApplyFragment=ltt;function ctt(n,...e){let t=[],r;for(r=0;r<e.length;r++){let i=e[r];n[r].length>0&&t.push(n[r]),typeof i=="string"?t.push(i):t.push(...i)}return n[r].length>0&&t.push(n[r]),t}Hr.mkExpr=ctt;function xve(n){return n.e!==void 0}Hr.hasExpression=xve;function ftt(n){return n=="date"||n=="timestamp"}Hr.isTimeFieldType=ftt;function gve(n){return["string","number","date","timestamp","boolean"].includes(n)}Hr.isAtomicFieldType=gve;function dtt(n){return gve(n.type)&&!xve(n)?!0:n.type==="struct"&&(n.structSource.type==="inline"||n.structSource.type==="nested")}Hr.FieldIsIntrinsic=dtt;function yve(n){return["day","week","month","quarter","year"].includes(n)}Hr.isDateUnit=yve;function vve(n){return yve(n)||["hour","minute","second"].includes(n)}Hr.isTimestampUnit=vve;function htt(n){return vve(n)||n=="day_of_week"||n=="day_of_year"}Hr.isExtractUnit=htt;var ptt;(function(n){n.Date="date",n.Timestamp="timestamp",n.Number="number",n.String="string"})(ptt=Hr.ValueType||(Hr.ValueType={}));function mtt(n){return n===void 0?!1:n.by==="name"}Hr.isByName=mtt;function xtt(n){return n===void 0?!1:n.by==="name"}Hr.isByExpression=xtt;function gtt(n){return typeof n!="string"&&n.type==="struct"}Hr.refIsStructDef=gtt;function _ve(n){return n.type==="reduce"}Hr.isReduceSegment=_ve;function Eve(n){return n.type==="project"}Hr.isProjectSegment=Eve;function ytt(n){return Eve(n)||_ve(n)}Hr.isQuerySegment=ytt;function vtt(n){return n.rows!==void 0}Hr.isSamplingRows=vtt;function _tt(n){return n.percent!==void 0}Hr.isSamplingPercent=_tt;function Ett(n){return n.enable!==void 0}Hr.isSamplingEnable=Ett;function btt(n){return n.type==="index"}Hr.isIndexSegment=btt;function Stt(n){return["one","many","cross"].includes(n.type)}Hr.isJoinOn=Stt;function Ctt(n){return n.sql!==void 0}Hr.isSQLFragment=Ctt;function wtt(n){let e=n.structSource;return e.type=="sql"&&e.method=="subquery"}Hr.isSQLBlock=wtt;function bve(n){return n.type==="string"||n.type==="date"||n.type==="number"||n.type==="timestamp"||n.type==="boolean"}Hr.isFieldTypeDef=bve;function Att(n){return n.type==="date"||n.type==="timestamp"}Hr.isFieldTimeBased=Att;function Sve(n){return n.type==="struct"}Hr.isFieldStructDef=Sve;function Ttt(n){return n.as!==void 0?n.as:n.name}Hr.getIdentifier=Ttt;function Ftt(n){return n.type==="turtle"}Hr.isTurtleDef=Ftt;function Cve(n){var e;return"resultMetadata"in n?((e=n.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="dimension":!1}Hr.isDimensional=Cve;function wve(n){return bve(n)&&n.e===void 0||Sve(n)&&(n.structSource.type==="nested"||n.structSource.type=="inline")}Hr.isPhysical=wve;function Dtt(n){return n.fields.filter(Cve)}Hr.getDimensions=Dtt;function Rtt(n){return n.fields.filter(wve)}Hr.getPhysicalFields=Rtt;function Ott(n){var e,t;return"resultMetadata"in n?((e=n.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="measure"||((t=n.resultMetadata)===null||t===void 0?void 0:t.fieldKind)==="struct":!1}Hr.isMeasureLike=Ott;function Ntt(n,e){return e.type==="string"}Hr.isValueString=Ntt;function Ltt(n,e){return e.type==="number"}Hr.isValueNumber=Ltt;function ktt(n,e){return e.type==="boolean"}Hr.isValueBoolean=ktt;function Itt(n,e){return e.type==="timestamp"}Hr.isValueTimestamp=Itt;function Mtt(n,e){return e.type==="date"}Hr.isValueDate=Mtt});var sD=Ae(($7,iD)=>{m();(function(){var n,e="4.17.21",t=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",s="Invalid `variable` option passed into `_.template`",o="__lodash_hash_undefined__",a=500,l="__lodash_placeholder__",f=1,p=2,_=4,b=1,R=2,O=1,j=2,$=4,L=8,q=16,P=32,W=64,oe=128,I=256,J=512,he=30,ye="...",He=800,at=16,ct=1,Ze=2,bt=3,Mt=1/0,qe=9007199254740991,te=17976931348623157e292,et=0/0,Ee=4294967295,ke=Ee-1,Ce=Ee>>>1,pe=[["ary",oe],["bind",O],["bindKey",j],["curry",L],["curryRight",q],["flip",J],["partial",P],["partialRight",W],["rearg",I]],Je="[object Arguments]",lt="[object Array]",Ht="[object AsyncFunction]",wt="[object Boolean]",mn="[object Date]",kt="[object DOMException]",Bt="[object Error]",tn="[object Function]",Et="[object GeneratorFunction]",ve="[object Map]",Le="[object Number]",_e="[object Null]",ce="[object Object]",tt="[object Promise]",Ke="[object Proxy]",re="[object RegExp]",Re="[object Set]",nt="[object String]",ft="[object Symbol]",Rt="[object Undefined]",Yt="[object WeakMap]",Gt="[object WeakSet]",fn="[object ArrayBuffer]",gn="[object DataView]",yn="[object Float32Array]",Lt="[object Float64Array]",un="[object Int8Array]",Pn="[object Int16Array]",nr="[object Int32Array]",On="[object Uint8Array]",Ne="[object Uint8ClampedArray]",ze="[object Uint16Array]",De="[object Uint32Array]",Pt=/\b__p \+= '';/g,mt=/\b(__p \+=) '' \+/g,xt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,rn=/&(?:amp|lt|gt|quot|#39);/g,Qt=/[&<>"']/g,Fn=RegExp(rn.source),Wn=RegExp(Qt.source),Zn=/<%-([\s\S]+?)%>/g,Nn=/<%([\s\S]+?)%>/g,rr=/<%=([\s\S]+?)%>/g,Ye=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vt=/^\w*$/,ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Be=/[\\^$.*+?()[\]{}|]/g,rt=RegExp(Be.source),Dt=/^\s+/,hn=/\s/,an=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,dt=/\{\n\/\* \[wrapped with (.+)\] \*/,ie=/,? & /,Te=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ue=/[()=,{}\[\]\/\s]/,gt=/\\(\\)?/g,St=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ot=/\w*$/,ne=/^[-+]0x[0-9a-f]+$/i,we=/^0b[01]+$/i,We=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,Ut=/^(?:0|[1-9]\d*)$/,sn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wn=/($^)/,bn=/['\n\r\u2028\u2029\\]/g,vn="\\ud800-\\udfff",zn="\\u0300-\\u036f",Oe="\\ufe20-\\ufe2f",$e="\\u20d0-\\u20ff",Ft=zn+Oe+$e,N="\\u2700-\\u27bf",V="a-z\\xdf-\\xf6\\xf8-\\xff",be="\\xac\\xb1\\xd7\\xf7",xe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",K="\\u2000-\\u206f",ue=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fe="A-Z\\xc0-\\xd6\\xd8-\\xde",Qe="\\ufe0e\\ufe0f",It=be+xe+K+ue,At="['\u2019]",dn="["+vn+"]",C="["+It+"]",B="["+Ft+"]",ee="\\d+",Se="["+N+"]",ht="["+V+"]",Tt="[^"+vn+It+ee+N+V+fe+"]",Zt="\\ud83c[\\udffb-\\udfff]",Xt="(?:"+B+"|"+Zt+")",xn="[^"+vn+"]",qn="(?:\\ud83c[\\udde6-\\uddff]){2}",Un="[\\ud800-\\udbff][\\udc00-\\udfff]",Vn="["+fe+"]",Jr="\\u200d",Wr="(?:"+ht+"|"+Tt+")",yr="(?:"+Vn+"|"+Tt+")",Mr="(?:"+At+"(?:d|ll|m|re|s|t|ve))?",xi="(?:"+At+"(?:D|LL|M|RE|S|T|VE))?",ai=Xt+"?",Xi="["+Qe+"]?",Cs="(?:"+Jr+"(?:"+[xn,qn,Un].join("|")+")"+Xi+ai+")*",ts="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Aa="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",xa=Xi+ai+Cs,yl="(?:"+[Se,qn,Un].join("|")+")"+xa,Lc="(?:"+[xn+B+"?",B,qn,Un,dn].join("|")+")",fu=RegExp(At,"g"),du=RegExp(B,"g"),Xu=RegExp(Zt+"(?="+Zt+")|"+Lc+xa,"g"),Du=RegExp([Vn+"?"+ht+"+"+Mr+"(?="+[C,Vn,"$"].join("|")+")",yr+"+"+xi+"(?="+[C,Vn+Wr,"$"].join("|")+")",Vn+"?"+Wr+"+"+Mr,Vn+"+"+xi,Aa,ts,ee,yl].join("|"),"g"),kc=RegExp("["+Jr+vn+Ft+Qe+"]"),na=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Zu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rf=-1,Ge={};Ge[yn]=Ge[Lt]=Ge[un]=Ge[Pn]=Ge[nr]=Ge[On]=Ge[Ne]=Ge[ze]=Ge[De]=!0,Ge[Je]=Ge[lt]=Ge[fn]=Ge[wt]=Ge[gn]=Ge[mn]=Ge[Bt]=Ge[tn]=Ge[ve]=Ge[Le]=Ge[ce]=Ge[re]=Ge[Re]=Ge[nt]=Ge[Yt]=!1;var Kt={};Kt[Je]=Kt[lt]=Kt[fn]=Kt[gn]=Kt[wt]=Kt[mn]=Kt[yn]=Kt[Lt]=Kt[un]=Kt[Pn]=Kt[nr]=Kt[ve]=Kt[Le]=Kt[ce]=Kt[re]=Kt[Re]=Kt[nt]=Kt[ft]=Kt[On]=Kt[Ne]=Kt[ze]=Kt[De]=!0,Kt[Bt]=Kt[tn]=Kt[Yt]=!1;var jn={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Yn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ri={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Br={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xr=parseFloat,As=parseInt,fo=typeof global=="object"&&global&&global.Object===Object&&global,io=typeof self=="object"&&self&&self.Object===Object&&self,us=fo||io||Function("return this")(),so=typeof $7=="object"&&$7&&!$7.nodeType&&$7,ho=so&&typeof iD=="object"&&iD&&!iD.nodeType&&iD,hi=ho&&ho.exports===so,bi=hi&&fo.process,Wi=function(){try{var nn=ho&&ho.require&&ho.require("util").types;return nn||bi&&bi.binding&&bi.binding("util")}catch{}}(),Xo=Wi&&Wi.isArrayBuffer,da=Wi&&Wi.isDate,ha=Wi&&Wi.isMap,po=Wi&&Wi.isRegExp,ls=Wi&&Wi.isSet,ps=Wi&&Wi.isTypedArray;function Zi(nn,Jn,En){switch(En.length){case 0:return nn.call(Jn);case 1:return nn.call(Jn,En[0]);case 2:return nn.call(Jn,En[0],En[1]);case 3:return nn.call(Jn,En[0],En[1],En[2])}return nn.apply(Jn,En)}function hu(nn,Jn,En,Yr){for(var Ti=-1,ns=nn==null?0:nn.length;++Ti<ns;){var ms=nn[Ti];Jn(Yr,ms,En(ms),nn)}return Yr}function Ps(nn,Jn){for(var En=-1,Yr=nn==null?0:nn.length;++En<Yr&&Jn(nn[En],En,nn)!==!1;);return nn}function ga(nn,Jn){for(var En=nn==null?0:nn.length;En--&&Jn(nn[En],En,nn)!==!1;);return nn}function ua(nn,Jn){for(var En=-1,Yr=nn==null?0:nn.length;++En<Yr;)if(!Jn(nn[En],En,nn))return!1;return!0}function Oi(nn,Jn){for(var En=-1,Yr=nn==null?0:nn.length,Ti=0,ns=[];++En<Yr;){var ms=nn[En];Jn(ms,En,nn)&&(ns[Ti++]=ms)}return ns}function Wo(nn,Jn){var En=nn==null?0:nn.length;return!!En&&ca(nn,Jn,0)>-1}function vs(nn,Jn,En){for(var Yr=-1,Ti=nn==null?0:nn.length;++Yr<Ti;)if(En(Jn,nn[Yr]))return!0;return!1}function Ii(nn,Jn){for(var En=-1,Yr=nn==null?0:nn.length,Ti=Array(Yr);++En<Yr;)Ti[En]=Jn(nn[En],En,nn);return Ti}function Ro(nn,Jn){for(var En=-1,Yr=Jn.length,Ti=nn.length;++En<Yr;)nn[Ti+En]=Jn[En];return nn}function ka(nn,Jn,En,Yr){var Ti=-1,ns=nn==null?0:nn.length;for(Yr&&ns&&(En=nn[++Ti]);++Ti<ns;)En=Jn(En,nn[Ti],Ti,nn);return En}function Xa(nn,Jn,En,Yr){var Ti=nn==null?0:nn.length;for(Yr&&Ti&&(En=nn[--Ti]);Ti--;)En=Jn(En,nn[Ti],Ti,nn);return En}function Oo(nn,Jn){for(var En=-1,Yr=nn==null?0:nn.length;++En<Yr;)if(Jn(nn[En],En,nn))return!0;return!1}var To=el("length");function $a(nn){return nn.split("")}function pu(nn){return nn.match(Te)||[]}function za(nn,Jn,En){var Yr;return En(nn,function(Ti,ns,ms){if(Jn(Ti,ns,ms))return Yr=ns,!1}),Yr}function la(nn,Jn,En,Yr){for(var Ti=nn.length,ns=En+(Yr?1:-1);Yr?ns--:++ns<Ti;)if(Jn(nn[ns],ns,nn))return ns;return-1}function ca(nn,Jn,En){return Jn===Jn?Ir(nn,Jn,En):la(nn,Vl,En)}function vl(nn,Jn,En,Yr){for(var Ti=En-1,ns=nn.length;++Ti<ns;)if(Yr(nn[Ti],Jn))return Ti;return-1}function Vl(nn){return nn!==nn}function ra(nn,Jn){var En=nn==null?0:nn.length;return En?xr(nn,Jn)/En:et}function el(nn){return function(Jn){return Jn==null?n:Jn[nn]}}function ui(nn){return function(Jn){return nn==null?n:nn[Jn]}}function rs(nn,Jn,En,Yr,Ti){return Ti(nn,function(ns,ms,Hi){En=Yr?(Yr=!1,ns):Jn(En,ns,ms,Hi)}),En}function cs(nn,Jn){var En=nn.length;for(nn.sort(Jn);En--;)nn[En]=nn[En].value;return nn}function xr(nn,Jn){for(var En,Yr=-1,Ti=nn.length;++Yr<Ti;){var ns=Jn(nn[Yr]);ns!==n&&(En=En===n?ns:En+ns)}return En}function is(nn,Jn){for(var En=-1,Yr=Array(nn);++En<nn;)Yr[En]=Jn(En);return Yr}function Ie(nn,Jn){return Ii(Jn,function(En){return[En,nn[En]]})}function yt(nn){return nn&&nn.slice(0,xs(nn)+1).replace(Dt,"")}function Jt(nn){return function(Jn){return nn(Jn)}}function $t(nn,Jn){return Ii(Jn,function(En){return nn[En]})}function pn(nn,Jn){return nn.has(Jn)}function Ln(nn,Jn){for(var En=-1,Yr=nn.length;++En<Yr&&ca(Jn,nn[En],0)>-1;);return En}function Kn(nn,Jn){for(var En=nn.length;En--&&ca(Jn,nn[En],0)>-1;);return En}function $n(nn,Jn){for(var En=nn.length,Yr=0;En--;)nn[En]===Jn&&++Yr;return Yr}var Er=ui(jn),wr=ui(Yn);function Gn(nn){return"\\"+Br[nn]}function ar(nn,Jn){return nn==null?n:nn[Jn]}function tr(nn){return kc.test(nn)}function gr(nn){return na.test(nn)}function Or(nn){for(var Jn,En=[];!(Jn=nn.next()).done;)En.push(Jn.value);return En}function di(nn){var Jn=-1,En=Array(nn.size);return nn.forEach(function(Yr,Ti){En[++Jn]=[Ti,Yr]}),En}function ni(nn,Jn){return function(En){return nn(Jn(En))}}function pi(nn,Jn){for(var En=-1,Yr=nn.length,Ti=0,ns=[];++En<Yr;){var ms=nn[En];(ms===Jn||ms===l)&&(nn[En]=l,ns[Ti++]=En)}return ns}function ii(nn){var Jn=-1,En=Array(nn.size);return nn.forEach(function(Yr){En[++Jn]=Yr}),En}function qr(nn){var Jn=-1,En=Array(nn.size);return nn.forEach(function(Yr){En[++Jn]=[Yr,Yr]}),En}function Ir(nn,Jn,En){for(var Yr=En-1,Ti=nn.length;++Yr<Ti;)if(nn[Yr]===Jn)return Yr;return-1}function yi(nn,Jn,En){for(var Yr=En+1;Yr--;)if(nn[Yr]===Jn)return Yr;return Yr}function gi(nn){return tr(nn)?Bs(nn):To(nn)}function os(nn){return tr(nn)?ss(nn):$a(nn)}function xs(nn){for(var Jn=nn.length;Jn--&&hn.test(nn.charAt(Jn)););return Jn}var vi=ui(ri);function Bs(nn){for(var Jn=Xu.lastIndex=0;Xu.test(nn);)++Jn;return Jn}function ss(nn){return nn.match(Xu)||[]}function ya(nn){return nn.match(Du)||[]}var No=function nn(Jn){Jn=Jn==null?us:Ts.defaults(us.Object(),Jn,Ts.pick(us,Zu));var En=Jn.Array,Yr=Jn.Date,Ti=Jn.Error,ns=Jn.Function,ms=Jn.Math,Hi=Jn.Object,fs=Jn.RegExp,mu=Jn.String,le=Jn.TypeError,ut=En.prototype,en=ns.prototype,Dn=Hi.prototype,ir=Jn["__core-js_shared__"],vr=en.toString,dr=Dn.hasOwnProperty,es=0,_s=function(){var h=/[^.]+$/.exec(ir&&ir.keys&&ir.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),Ls=Dn.toString,oo=vr.call(Hi),Za=us._,sc=fs("^"+vr.call(dr).replace(Be,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sf=hi?Jn.Buffer:n,Ic=Jn.Symbol,l0=Jn.Uint8Array,G0=sf?sf.allocUnsafe:n,oc=ni(Hi.getPrototypeOf,Hi),of=Hi.create,c0=Dn.propertyIsEnumerable,_l=ut.splice,Mc=Ic?Ic.isConcatSpreadable:n,f0=Ic?Ic.iterator:n,ac=Ic?Ic.toStringTag:n,Wl=function(){try{var h=Ur(Hi,"defineProperty");return h({},"",{}),h}catch{}}(),Y0=Jn.clearTimeout!==us.clearTimeout&&Jn.clearTimeout,Th=Yr&&Yr.now!==us.Date.now&&Yr.now,K0=Jn.setTimeout!==us.setTimeout&&Jn.setTimeout,J0=ms.ceil,af=ms.floor,X0=Hi.getOwnPropertySymbols,Pc=sf?sf.isBuffer:n,d0=Jn.isFinite,h0=ut.join,p0=ni(Hi.keys,Hi),Uo=ms.max,Zo=ms.min,m0=Yr.now,El=Jn.parseInt,uf=ms.random,qd=ut.reverse,Ru=Ur(Jn,"DataView"),_o=Ur(Jn,"Map"),Fh=Ur(Jn,"Promise"),bl=Ur(Jn,"Set"),Is=Ur(Jn,"WeakMap"),Sl=Ur(Hi,"create"),k=Is&&new Is,Z={},je=lg(Ru),Nt=lg(_o),Vt=lg(Fh),An=lg(bl),kn=lg(Is),sr=Ic?Ic.prototype:n,hr=sr?sr.valueOf:n,Nr=sr?sr.toString:n;function it(h){if(Pu(h)&&!qs(h)&&!(h instanceof Qr)){if(h instanceof Li)return h;if(dr.call(h,"__wrapped__"))return qN(h)}return new Li(h)}var Fi=function(){function h(){}return function(S){if(!nu(S))return{};if(of)return of(S);h.prototype=S;var U=new h;return h.prototype=n,U}}();function Qi(){}function Li(h,S){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!S,this.__index__=0,this.__values__=n}it.templateSettings={escape:Zn,evaluate:Nn,interpolate:rr,variable:"",imports:{_:it}},it.prototype=Qi.prototype,it.prototype.constructor=it,Li.prototype=Fi(Qi.prototype),Li.prototype.constructor=Li;function Qr(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ee,this.__views__=[]}function Ys(){var h=new Qr(this.__wrapped__);return h.__actions__=Fe(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=Fe(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=Fe(this.__views__),h}function $o(){if(this.__filtered__){var h=new Qr(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function va(){var h=this.__wrapped__.value(),S=this.__dir__,U=qs(h),me=S<0,pt=U?h.length:0,Wt=hc(0,pt,this.__views__),_n=Wt.start,Rn=Wt.end,Qn=Rn-_n,Sr=me?Rn:_n-1,Tr=this.__iteratees__,Pr=Tr.length,Ci=0,Ji=Zo(Qn,this.__takeCount__);if(!U||!me&&pt==Qn&&Ji==Qn)return Z1(h,this.__actions__);var ys=[];e:for(;Qn--&&Ci<Ji;){Sr+=S;for(var xo=-1,bs=h[Sr];++xo<Pr;){var Co=Tr[xo],Mo=Co.iteratee,cd=Co.type,Uf=Mo(bs);if(cd==Ze)bs=Uf;else if(!Uf){if(cd==ct)continue e;break e}}ys[Ci++]=bs}return ys}Qr.prototype=Fi(Qi.prototype),Qr.prototype.constructor=Qr;function mo(h){var S=-1,U=h==null?0:h.length;for(this.clear();++S<U;){var me=h[S];this.set(me[0],me[1])}}function Ia(){this.__data__=Sl?Sl(null):{},this.size=0}function uc(h){var S=this.has(h)&&delete this.__data__[h];return this.size-=S?1:0,S}function Ql(h){var S=this.__data__;if(Sl){var U=S[h];return U===o?n:U}return dr.call(S,h)?S[h]:n}function Ma(h){var S=this.__data__;return Sl?S[h]!==n:dr.call(S,h)}function lc(h,S){var U=this.__data__;return this.size+=this.has(h)?0:1,U[h]=Sl&&S===n?o:S,this}mo.prototype.clear=Ia,mo.prototype.delete=uc,mo.prototype.get=Ql,mo.prototype.has=Ma,mo.prototype.set=lc;function _a(h){var S=-1,U=h==null?0:h.length;for(this.clear();++S<U;){var me=h[S];this.set(me[0],me[1])}}function lf(){this.__data__=[],this.size=0}function cf(h){var S=this.__data__,U=nl(S,h);if(U<0)return!1;var me=S.length-1;return U==me?S.pop():_l.call(S,U,1),--this.size,!0}function tl(h){var S=this.__data__,U=nl(S,h);return U<0?n:S[U][1]}function cc(h){return nl(this.__data__,h)>-1}function W1(h,S){var U=this.__data__,me=nl(U,h);return me<0?(++this.size,U.push([h,S])):U[me][1]=S,this}_a.prototype.clear=lf,_a.prototype.delete=cf,_a.prototype.get=tl,_a.prototype.has=cc,_a.prototype.set=W1;function Bc(h){var S=-1,U=h==null?0:h.length;for(this.clear();++S<U;){var me=h[S];this.set(me[0],me[1])}}function n2(){this.size=0,this.__data__={hash:new mo,map:new(_o||_a),string:new mo}}function Gl(h){var S=js(this,h).delete(h);return this.size-=S?1:0,S}function Of(h){return js(this,h).get(h)}function jc(h){return js(this,h).has(h)}function jr(h,S){var U=js(this,h),me=U.size;return U.set(h,S),this.size+=U.size==me?0:1,this}Bc.prototype.clear=n2,Bc.prototype.delete=Gl,Bc.prototype.get=Of,Bc.prototype.has=jc,Bc.prototype.set=jr;function Z0(h){var S=-1,U=h==null?0:h.length;for(this.__data__=new Bc;++S<U;)this.add(h[S])}function ed(h){return this.__data__.set(h,o),this}function Vr(h){return this.__data__.has(h)}Z0.prototype.add=Z0.prototype.push=ed,Z0.prototype.has=Vr;function Cl(h){var S=this.__data__=new _a(h);this.size=S.size}function Q1(){this.__data__=new _a,this.size=0}function mp(h){var S=this.__data__,U=S.delete(h);return this.size=S.size,U}function Eo(h){return this.__data__.get(h)}function td(h){return this.__data__.has(h)}function Ud(h,S){var U=this.__data__;if(U instanceof _a){var me=U.__data__;if(!_o||me.length<t-1)return me.push([h,S]),this.size=++U.size,this;U=this.__data__=new Bc(me)}return U.set(h,S),this.size=U.size,this}Cl.prototype.clear=Q1,Cl.prototype.delete=mp,Cl.prototype.get=Eo,Cl.prototype.has=td,Cl.prototype.set=Ud;function nd(h,S){var U=qs(h),me=!U&&s2(h),pt=!U&&!me&&o2(h),Wt=!U&&!me&&!pt&&g3(h),_n=U||me||pt||Wt,Rn=_n?is(h.length,mu):[],Qn=Rn.length;for(var Sr in h)(S||dr.call(h,Sr))&&!(_n&&(Sr=="length"||pt&&(Sr=="offset"||Sr=="parent")||Wt&&(Sr=="buffer"||Sr=="byteLength"||Sr=="byteOffset")||wp(Sr,Qn)))&&Rn.push(Sr);return Rn}function ff(h){var S=h.length;return S?h[Lu(0,S-1)]:n}function ng(h,S){return h3(Fe(h),Nf(S,0,h.length))}function rg(h){return h3(Fe(h))}function Dh(h,S,U){(U!==n&&!Xd(h[S],U)||U===n&&!(S in h))&&rl(h,S,U)}function df(h,S,U){var me=h[S];(!(dr.call(h,S)&&Xd(me,U))||U===n&&!(S in h))&&rl(h,S,U)}function nl(h,S){for(var U=h.length;U--;)if(Xd(h[U][0],S))return U;return-1}function $d(h,S,U,me){return qc(h,function(pt,Wt,_n){S(me,pt,U(pt),_n)}),me}function xp(h,S){return h&&ot(S,Bu(S),h)}function G1(h,S){return h&&ot(S,S0(S),h)}function rl(h,S,U){S=="__proto__"&&Wl?Wl(h,S,{configurable:!0,enumerable:!0,value:U,writable:!0}):h[S]=U}function rd(h,S){for(var U=-1,me=S.length,pt=En(me),Wt=h==null;++U<me;)pt[U]=Wt?n:sA(h,S[U]);return pt}function Nf(h,S,U){return h===h&&(U!==n&&(h=h<=U?h:U),S!==n&&(h=h>=S?h:S)),h}function wl(h,S,U,me,pt,Wt){var _n,Rn=S&f,Qn=S&p,Sr=S&_;if(U&&(_n=pt?U(h,me,pt,Wt):U(h)),_n!==n)return _n;if(!nu(h))return h;var Tr=qs(h);if(Tr){if(_n=Yd(h),!Rn)return Fe(h,_n)}else{var Pr=So(h),Ci=Pr==tn||Pr==Et;if(o2(h))return F(h,Rn);if(Pr==ce||Pr==Je||Ci&&!pt){if(_n=Qn||Ci?{}:Kd(h),!Rn)return Qn?Cn(h,G1(_n,h)):zt(h,xp(_n,h))}else{if(!Kt[Pr])return pt?h:{};_n=ug(h,Pr,Rn)}}Wt||(Wt=new Cl);var Ji=Wt.get(h);if(Ji)return Ji;Wt.set(h,_n),rA(h)?h.forEach(function(bs){_n.add(wl(bs,S,U,bs,h,Wt))}):TL(h)&&h.forEach(function(bs,Co){_n.set(Co,wl(bs,S,U,Co,h,Wt))});var ys=Sr?Qn?u3:i2:Qn?S0:Bu,xo=Tr?n:ys(h);return Ps(xo||h,function(bs,Co){xo&&(Co=bs,bs=h[Co]),df(_n,Co,wl(bs,S,U,Co,h,Wt))}),_n}function gp(h){var S=Bu(h);return function(U){return xu(U,h,S)}}function xu(h,S,U){var me=U.length;if(h==null)return!me;for(h=Hi(h);me--;){var pt=U[me],Wt=S[pt],_n=h[pt];if(_n===n&&!(pt in h)||!Wt(_n))return!1}return!0}function Y1(h,S,U){if(typeof h!="function")throw new le(i);return yu(function(){h.apply(n,U)},S)}function il(h,S,U,me){var pt=-1,Wt=Wo,_n=!0,Rn=h.length,Qn=[],Sr=S.length;if(!Rn)return Qn;U&&(S=Ii(S,Jt(U))),me?(Wt=vs,_n=!1):S.length>=t&&(Wt=pn,_n=!1,S=new Z0(S));e:for(;++pt<Rn;){var Tr=h[pt],Pr=U==null?Tr:U(Tr);if(Tr=me||Tr!==0?Tr:0,_n&&Pr===Pr){for(var Ci=Sr;Ci--;)if(S[Ci]===Pr)continue e;Qn.push(Tr)}else Wt(S,Pr,me)||Qn.push(Tr)}return Qn}var qc=Hn(Pa),Rh=Hn(Lh,!0);function zd(h,S){var U=!0;return qc(h,function(me,pt,Wt){return U=!!S(me,pt,Wt),U}),U}function hf(h,S,U){for(var me=-1,pt=h.length;++me<pt;){var Wt=h[me],_n=S(Wt);if(_n!=null&&(Rn===n?_n===_n&&!ld(_n):U(_n,Rn)))var Rn=_n,Qn=Wt}return Qn}function Oh(h,S,U,me){var pt=h.length;for(U=eo(U),U<0&&(U=-U>pt?0:pt+U),me=me===n||me>pt?pt:eo(me),me<0&&(me+=pt),me=U>me?0:Dp(me);U<me;)h[U++]=S;return h}function yp(h,S){var U=[];return qc(h,function(me,pt,Wt){S(me,pt,Wt)&&U.push(me)}),U}function Ha(h,S,U,me,pt){var Wt=-1,_n=h.length;for(U||(U=IN),pt||(pt=[]);++Wt<_n;){var Rn=h[Wt];S>0&&U(Rn)?S>1?Ha(Rn,S-1,U,me,pt):Ro(pt,Rn):me||(pt[pt.length]=Rn)}return pt}var Nh=or(),id=or(!0);function Pa(h,S){return h&&Nh(h,S,Bu)}function Lh(h,S){return h&&id(h,S,Bu)}function Ou(h,S){return Oi(S,function(U){return rm(h[U])})}function eu(h,S){S=y0(S,h);for(var U=0,me=S.length;h!=null&&U<me;)h=h[Bf(S[U++])];return U&&U==me?h:n}function kh(h,S,U){var me=S(h);return qs(h)?me:Ro(me,U(h))}function Ea(h){return h==null?h===n?Rt:_e:ac&&ac in Hi(h)?xf(h):d3(h)}function Ih(h,S){return h>S}function vp(h,S){return h!=null&&dr.call(h,S)}function x0(h,S){return h!=null&&S in Hi(h)}function sd(h,S,U){return h>=Zo(S,U)&&h<Uo(S,U)}function pf(h,S,U){for(var me=U?vs:Wo,pt=h[0].length,Wt=h.length,_n=Wt,Rn=En(Wt),Qn=1/0,Sr=[];_n--;){var Tr=h[_n];_n&&S&&(Tr=Ii(Tr,Jt(S))),Qn=Zo(Tr.length,Qn),Rn[_n]=!U&&(S||pt>=120&&Tr.length>=120)?new Z0(_n&&Tr):n}Tr=h[0];var Pr=-1,Ci=Rn[0];e:for(;++Pr<pt&&Sr.length<Qn;){var Ji=Tr[Pr],ys=S?S(Ji):Ji;if(Ji=U||Ji!==0?Ji:0,!(Ci?pn(Ci,ys):me(Sr,ys,U))){for(_n=Wt;--_n;){var xo=Rn[_n];if(!(xo?pn(xo,ys):me(h[_n],ys,U)))continue e}Ci&&Ci.push(ys),Sr.push(Ji)}}return Sr}function Yl(h,S,U,me){return Pa(h,function(pt,Wt,_n){S(me,U(pt),Wt,_n)}),me}function Nu(h,S,U){S=y0(S,h),h=Db(h,S);var me=h==null?h:h[Bf(Jd(S))];return me==null?n:Zi(me,h,U)}function _p(h){return Pu(h)&&Ea(h)==Je}function sl(h){return Pu(h)&&Ea(h)==fn}function Mh(h){return Pu(h)&&Ea(h)==mn}function Hd(h,S,U,me,pt){return h===S?!0:h==null||S==null||!Pu(h)&&!Pu(S)?h!==h&&S!==S:r2(h,S,U,me,Hd,pt)}function r2(h,S,U,me,pt,Wt){var _n=qs(h),Rn=qs(S),Qn=_n?lt:So(h),Sr=Rn?lt:So(S);Qn=Qn==Je?ce:Qn,Sr=Sr==Je?ce:Sr;var Tr=Qn==ce,Pr=Sr==ce,Ci=Qn==Sr;if(Ci&&o2(h)){if(!o2(S))return!1;_n=!0,Tr=!1}if(Ci&&!Tr)return Wt||(Wt=new Cl),_n||g3(h)?Gd(h,S,U,me,pt,Wt):em(h,S,Qn,U,me,pt,Wt);if(!(U&b)){var Ji=Tr&&dr.call(h,"__wrapped__"),ys=Pr&&dr.call(S,"__wrapped__");if(Ji||ys){var xo=Ji?h.value():h,bs=ys?S.value():S;return Wt||(Wt=new Cl),pt(xo,bs,U,me,Wt)}}return Ci?(Wt||(Wt=new Cl),Cp(h,S,U,me,pt,Wt)):!1}function Ep(h){return Pu(h)&&So(h)==ve}function Lf(h,S,U,me){var pt=U.length,Wt=pt,_n=!me;if(h==null)return!Wt;for(h=Hi(h);pt--;){var Rn=U[pt];if(_n&&Rn[2]?Rn[1]!==h[Rn[0]]:!(Rn[0]in h))return!1}for(;++pt<Wt;){Rn=U[pt];var Qn=Rn[0],Sr=h[Qn],Tr=Rn[1];if(_n&&Rn[2]){if(Sr===n&&!(Qn in h))return!1}else{var Pr=new Cl;if(me)var Ci=me(Sr,Tr,Qn,h,S,Pr);if(!(Ci===n?Hd(Tr,Sr,b|R,me,Pr):Ci))return!1}}return!0}function od(h){if(!nu(h)||qW(h))return!1;var S=rm(h)?sc:We;return S.test(lg(h))}function Xs(h){return Pu(h)&&Ea(h)==re}function A(h){return Pu(h)&&So(h)==Re}function Q(h){return Pu(h)&&Vb(h.length)&&!!Ge[Ea(h)]}function de(h){return typeof h=="function"?h:h==null?qf:typeof h=="object"?qs(h)?Bi(h[0],h[1]):$i(h):Xb(h)}function Pe(h){if(!X4(h))return p0(h);var S=[];for(var U in Hi(h))dr.call(h,U)&&U!="constructor"&&S.push(U);return S}function Ct(h){if(!nu(h))return $W(h);var S=X4(h),U=[];for(var me in h)me=="constructor"&&(S||!dr.call(h,me))||U.push(me);return U}function Tn(h,S){return h<S}function ur(h,S){var U=-1,me=E0(h)?En(h.length):[];return qc(h,function(pt,Wt,_n){me[++U]=S(pt,Wt,_n)}),me}function $i(h){var S=bo(h);return S.length==1&&S[0][2]?R9(S[0][0],S[0][1]):function(U){return U===h||Lf(U,h,S)}}function Bi(h,S){return D9(h)&&MN(S)?R9(Bf(h),S):function(U){var me=sA(U,h);return me===n&&me===S?f_(U,h):Hd(S,me,b|R)}}function ao(h,S,U,me,pt){h!==S&&Nh(S,function(Wt,_n){if(pt||(pt=new Cl),nu(Wt))gu(h,S,_n,U,ao,me,pt);else{var Rn=me?me(O9(h,_n),Wt,_n+"",h,S,pt):n;Rn===n&&(Rn=Wt),Dh(h,_n,Rn)}},S0)}function gu(h,S,U,me,pt,Wt,_n){var Rn=O9(h,U),Qn=O9(S,U),Sr=_n.get(Qn);if(Sr){Dh(h,U,Sr);return}var Tr=Wt?Wt(Rn,Qn,U+"",h,S,_n):n,Pr=Tr===n;if(Pr){var Ci=qs(Qn),Ji=!Ci&&o2(Qn),ys=!Ci&&!Ji&&g3(Qn);Tr=Qn,Ci||Ji||ys?qs(Rn)?Tr=Rn:Mu(Rn)?Tr=Fe(Rn):Ji?(Pr=!1,Tr=F(Qn,!0)):ys?(Pr=!1,Tr=x(Qn,!0)):Tr=[]:x3(Qn)||s2(Qn)?(Tr=Rn,s2(Rn)?Tr=b0(Rn):(!nu(Rn)||rm(Rn))&&(Tr=Kd(Qn))):Pr=!1}Pr&&(_n.set(Qn,Tr),pt(Tr,Qn,me,Wt,_n),_n.delete(Qn)),Dh(h,U,Tr)}function Uc(h,S){var U=h.length;if(!!U)return S+=S<0?U:0,wp(S,U)?h[S]:n}function kf(h,S,U){S.length?S=Ii(S,function(Wt){return qs(Wt)?function(_n){return eu(_n,Wt.length===1?Wt[0]:Wt)}:Wt}):S=[qf];var me=-1;S=Ii(S,Jt(Dr()));var pt=ur(h,function(Wt,_n,Rn){var Qn=Ii(S,function(Sr){return Sr(Wt)});return{criteria:Qn,index:++me,value:Wt}});return cs(pt,function(Wt,_n){return z(Wt,_n,U)})}function Tb(h,S){return i3(h,S,function(U,me){return f_(h,me)})}function i3(h,S,U){for(var me=-1,pt=S.length,Wt={};++me<pt;){var _n=S[me],Rn=eu(h,_n);U(Rn,_n)&&bp(Wt,y0(_n,h),Rn)}return Wt}function Y4(h){return function(S){return eu(S,h)}}function s3(h,S,U,me){var pt=me?vl:ca,Wt=-1,_n=S.length,Rn=h;for(h===S&&(S=Fe(S)),U&&(Rn=Ii(h,Jt(U)));++Wt<_n;)for(var Qn=0,Sr=S[Wt],Tr=U?U(Sr):Sr;(Qn=pt(Rn,Tr,Qn,me))>-1;)Rn!==h&&_l.call(Rn,Qn,1),_l.call(h,Qn,1);return h}function ad(h,S){for(var U=h?S.length:0,me=U-1;U--;){var pt=S[U];if(U==me||pt!==Wt){var Wt=pt;wp(pt)?_l.call(h,pt,1):X1(h,pt)}}return h}function Lu(h,S){return h+af(uf()*(S-h+1))}function K4(h,S,U,me){for(var pt=-1,Wt=Uo(J0((S-h)/(U||1)),0),_n=En(Wt);Wt--;)_n[me?Wt:++pt]=h,h+=U;return _n}function Ph(h,S){var U="";if(!h||S<1||S>qe)return U;do S%2&&(U+=h),S=af(S/2),S&&(h+=h);while(S);return U}function Fs(h,S){return Ob(Fb(h,S,qf),h+"")}function g0(h){return ff(_3(h))}function Al(h,S){var U=_3(h);return h3(U,Nf(S,0,U.length))}function bp(h,S,U,me){if(!nu(h))return h;S=y0(S,h);for(var pt=-1,Wt=S.length,_n=Wt-1,Rn=h;Rn!=null&&++pt<Wt;){var Qn=Bf(S[pt]),Sr=U;if(Qn==="__proto__"||Qn==="constructor"||Qn==="prototype")return h;if(pt!=_n){var Tr=Rn[Qn];Sr=me?me(Tr,Qn,Rn):n,Sr===n&&(Sr=nu(Tr)?Tr:wp(S[pt+1])?[]:{})}df(Rn,Qn,Sr),Rn=Rn[Qn]}return h}var ku=k?function(h,S){return k.set(h,S),h}:qf,K1=Wl?function(h,S){return Wl(h,"toString",{configurable:!0,enumerable:!1,value:Kb(S),writable:!0})}:qf;function J1(h){return h3(_3(h))}function Tl(h,S,U){var me=-1,pt=h.length;S<0&&(S=-S>pt?0:pt+S),U=U>pt?pt:U,U<0&&(U+=pt),pt=S>U?0:U-S>>>0,S>>>=0;for(var Wt=En(pt);++me<pt;)Wt[me]=h[me+S];return Wt}function o3(h,S){var U;return qc(h,function(me,pt,Wt){return U=S(me,pt,Wt),!U}),!!U}function Vd(h,S,U){var me=0,pt=h==null?me:h.length;if(typeof S=="number"&&S===S&&pt<=Ce){for(;me<pt;){var Wt=me+pt>>>1,_n=h[Wt];_n!==null&&!ld(_n)&&(U?_n<=S:_n<S)?me=Wt+1:pt=Wt}return pt}return Bh(h,S,qf,U)}function Bh(h,S,U,me){var pt=0,Wt=h==null?0:h.length;if(Wt===0)return 0;S=U(S);for(var _n=S!==S,Rn=S===null,Qn=ld(S),Sr=S===n;pt<Wt;){var Tr=af((pt+Wt)/2),Pr=U(h[Tr]),Ci=Pr!==n,Ji=Pr===null,ys=Pr===Pr,xo=ld(Pr);if(_n)var bs=me||ys;else Sr?bs=ys&&(me||Ci):Rn?bs=ys&&Ci&&(me||!Ji):Qn?bs=ys&&Ci&&!Ji&&(me||!xo):Ji||xo?bs=!1:bs=me?Pr<=S:Pr<S;bs?pt=Tr+1:Wt=Tr}return Zo(Wt,ke)}function a3(h,S){for(var U=-1,me=h.length,pt=0,Wt=[];++U<me;){var _n=h[U],Rn=S?S(_n):_n;if(!U||!Xd(Rn,Qn)){var Qn=Rn;Wt[pt++]=_n===0?0:_n}}return Wt}function If(h){return typeof h=="number"?h:ld(h)?et:+h}function Fl(h){if(typeof h=="string")return h;if(qs(h))return Ii(h,Fl)+"";if(ld(h))return Nr?Nr.call(h):"";var S=h+"";return S=="0"&&1/h==-Mt?"-0":S}function Mf(h,S,U){var me=-1,pt=Wo,Wt=h.length,_n=!0,Rn=[],Qn=Rn;if(U)_n=!1,pt=vs;else if(Wt>=t){var Sr=S?null:Dl(h);if(Sr)return ii(Sr);_n=!1,pt=pn,Qn=new Z0}else Qn=S?[]:Rn;e:for(;++me<Wt;){var Tr=h[me],Pr=S?S(Tr):Tr;if(Tr=U||Tr!==0?Tr:0,_n&&Pr===Pr){for(var Ci=Qn.length;Ci--;)if(Qn[Ci]===Pr)continue e;S&&Qn.push(Pr),Rn.push(Tr)}else pt(Qn,Pr,U)||(Qn!==Rn&&Qn.push(Pr),Rn.push(Tr))}return Rn}function X1(h,S){return S=y0(S,h),h=Db(h,S),h==null||delete h[Bf(Jd(S))]}function Sp(h,S,U,me){return bp(h,S,U(eu(h,S)),me)}function Wd(h,S,U,me){for(var pt=h.length,Wt=me?pt:-1;(me?Wt--:++Wt<pt)&&S(h[Wt],Wt,h););return U?Tl(h,me?0:Wt,me?Wt+1:pt):Tl(h,me?Wt+1:0,me?pt:Wt)}function Z1(h,S){var U=h;return U instanceof Qr&&(U=U.value()),ka(S,function(me,pt){return pt.func.apply(pt.thisArg,Ro([me],pt.args))},U)}function mf(h,S,U){var me=h.length;if(me<2)return me?Mf(h[0]):[];for(var pt=-1,Wt=En(me);++pt<me;)for(var _n=h[pt],Rn=-1;++Rn<me;)Rn!=pt&&(Wt[pt]=il(Wt[pt]||_n,h[Rn],S,U));return Mf(Ha(Wt,1),S,U)}function ig(h,S,U){for(var me=-1,pt=h.length,Wt=S.length,_n={};++me<pt;){var Rn=me<Wt?S[me]:n;U(_n,h[me],Rn)}return _n}function sg(h){return Mu(h)?h:[]}function fc(h){return typeof h=="function"?h:qf}function y0(h,S){return qs(h)?h:D9(h,S)?[h]:e_(Qo(h))}var J4=Fs;function ud(h,S,U){var me=h.length;return U=U===n?me:U,!S&&U>=me?h:Tl(h,S,U)}var y=Y0||function(h){return us.clearTimeout(h)};function F(h,S){if(S)return h.slice();var U=h.length,me=G0?G0(U):new h.constructor(U);return h.copy(me),me}function H(h){var S=new h.constructor(h.byteLength);return new l0(S).set(new l0(h)),S}function Y(h,S){var U=S?H(h.buffer):h.buffer;return new h.constructor(U,h.byteOffset,h.byteLength)}function Me(h){var S=new h.constructor(h.source,Ot.exec(h));return S.lastIndex=h.lastIndex,S}function _t(h){return hr?Hi(hr.call(h)):{}}function x(h,S){var U=S?H(h.buffer):h.buffer;return new h.constructor(U,h.byteOffset,h.length)}function T(h,S){if(h!==S){var U=h!==n,me=h===null,pt=h===h,Wt=ld(h),_n=S!==n,Rn=S===null,Qn=S===S,Sr=ld(S);if(!Rn&&!Sr&&!Wt&&h>S||Wt&&_n&&Qn&&!Rn&&!Sr||me&&_n&&Qn||!U&&Qn||!pt)return 1;if(!me&&!Wt&&!Sr&&h<S||Sr&&U&&pt&&!me&&!Wt||Rn&&U&&pt||!_n&&pt||!Qn)return-1}return 0}function z(h,S,U){for(var me=-1,pt=h.criteria,Wt=S.criteria,_n=pt.length,Rn=U.length;++me<_n;){var Qn=T(pt[me],Wt[me]);if(Qn){if(me>=Rn)return Qn;var Sr=U[me];return Qn*(Sr=="desc"?-1:1)}}return h.index-S.index}function X(h,S,U,me){for(var pt=-1,Wt=h.length,_n=U.length,Rn=-1,Qn=S.length,Sr=Uo(Wt-_n,0),Tr=En(Qn+Sr),Pr=!me;++Rn<Qn;)Tr[Rn]=S[Rn];for(;++pt<_n;)(Pr||pt<Wt)&&(Tr[U[pt]]=h[pt]);for(;Sr--;)Tr[Rn++]=h[pt++];return Tr}function ge(h,S,U,me){for(var pt=-1,Wt=h.length,_n=-1,Rn=U.length,Qn=-1,Sr=S.length,Tr=Uo(Wt-Rn,0),Pr=En(Tr+Sr),Ci=!me;++pt<Tr;)Pr[pt]=h[pt];for(var Ji=pt;++Qn<Sr;)Pr[Ji+Qn]=S[Qn];for(;++_n<Rn;)(Ci||pt<Wt)&&(Pr[Ji+U[_n]]=h[pt++]);return Pr}function Fe(h,S){var U=-1,me=h.length;for(S||(S=En(me));++U<me;)S[U]=h[U];return S}function ot(h,S,U,me){var pt=!U;U||(U={});for(var Wt=-1,_n=S.length;++Wt<_n;){var Rn=S[Wt],Qn=me?me(U[Rn],h[Rn],Rn,U,h):n;Qn===n&&(Qn=h[Rn]),pt?rl(U,Rn,Qn):df(U,Rn,Qn)}return U}function zt(h,S){return ot(h,br(h),S)}function Cn(h,S){return ot(h,al(h),S)}function Sn(h,S){return function(U,me){var pt=qs(U)?hu:$d,Wt=S?S():{};return pt(U,h,Dr(me,2),Wt)}}function Bn(h){return Fs(function(S,U){var me=-1,pt=U.length,Wt=pt>1?U[pt-1]:n,_n=pt>2?U[2]:n;for(Wt=h.length>3&&typeof Wt=="function"?(pt--,Wt):n,_n&&Pf(U[0],U[1],_n)&&(Wt=pt<3?n:Wt,pt=1),S=Hi(S);++me<pt;){var Rn=U[me];Rn&&h(S,Rn,me,Wt)}return S})}function Hn(h,S){return function(U,me){if(U==null)return U;if(!E0(U))return h(U,me);for(var pt=U.length,Wt=S?pt:-1,_n=Hi(U);(S?Wt--:++Wt<pt)&&me(_n[Wt],Wt,_n)!==!1;);return U}}function or(h){return function(S,U,me){for(var pt=-1,Wt=Hi(S),_n=me(S),Rn=_n.length;Rn--;){var Qn=_n[h?Rn:++pt];if(U(Wt[Qn],Qn,Wt)===!1)break}return S}}function Rr(h,S,U){var me=S&O,pt=Ei(h);function Wt(){var _n=this&&this!==us&&this instanceof Wt?pt:h;return _n.apply(me?U:this,arguments)}return Wt}function Kr(h){return function(S){S=Qo(S);var U=tr(S)?os(S):n,me=U?U[0]:S.charAt(0),pt=U?ud(U,1).join(""):S.slice(1);return me[h]()+pt}}function Lr(h){return function(S){return ka(m_(zL(S).replace(fu,"")),h,"")}}function Ei(h){return function(){var S=arguments;switch(S.length){case 0:return new h;case 1:return new h(S[0]);case 2:return new h(S[0],S[1]);case 3:return new h(S[0],S[1],S[2]);case 4:return new h(S[0],S[1],S[2],S[3]);case 5:return new h(S[0],S[1],S[2],S[3],S[4]);case 6:return new h(S[0],S[1],S[2],S[3],S[4],S[5]);case 7:return new h(S[0],S[1],S[2],S[3],S[4],S[5],S[6])}var U=Fi(h.prototype),me=h.apply(U,S);return nu(me)?me:U}}function ki(h,S,U){var me=Ei(h);function pt(){for(var Wt=arguments.length,_n=En(Wt),Rn=Wt,Qn=tm(pt);Rn--;)_n[Rn]=arguments[Rn];var Sr=Wt<3&&_n[0]!==Qn&&_n[Wt-1]!==Qn?[]:pi(_n,Qn);if(Wt-=Sr.length,Wt<U)return Ta(h,S,Zs,pt.placeholder,n,_n,Sr,n,n,U-Wt);var Tr=this&&this!==us&&this instanceof pt?me:h;return Zi(Tr,this,_n)}return pt}function Rs(h){return function(S,U,me){var pt=Hi(S);if(!E0(S)){var Wt=Dr(U,3);S=Bu(S),U=function(Rn){return Wt(pt[Rn],Rn,pt)}}var _n=h(S,U,me);return _n>-1?pt[Wt?S[_n]:_n]:n}}function ds(h){return _0(function(S){var U=S.length,me=U,pt=Li.prototype.thru;for(h&&S.reverse();me--;){var Wt=S[me];if(typeof Wt!="function")throw new le(i);if(pt&&!_n&&ag(Wt)=="wrapper")var _n=new Li([],!0)}for(me=_n?me:U;++me<U;){Wt=S[me];var Rn=ag(Wt),Qn=Rn=="wrapper"?og(Wt):n;Qn&&f3(Qn[0])&&Qn[1]==(oe|L|P|I)&&!Qn[4].length&&Qn[9]==1?_n=_n[ag(Qn[0])].apply(_n,Qn[3]):_n=Wt.length==1&&f3(Wt)?_n[Rn]():_n.thru(Wt)}return function(){var Sr=arguments,Tr=Sr[0];if(_n&&Sr.length==1&&qs(Tr))return _n.plant(Tr).value();for(var Pr=0,Ci=U?S[Pr].apply(this,Sr):Tr;++Pr<U;)Ci=S[Pr].call(this,Ci);return Ci}})}function Zs(h,S,U,me,pt,Wt,_n,Rn,Qn,Sr){var Tr=S&oe,Pr=S&O,Ci=S&j,Ji=S&(L|q),ys=S&J,xo=Ci?n:Ei(h);function bs(){for(var Co=arguments.length,Mo=En(Co),cd=Co;cd--;)Mo[cd]=arguments[cd];if(Ji)var Uf=tm(bs),fd=$n(Mo,Uf);if(me&&(Mo=X(Mo,me,pt,Ji)),Wt&&(Mo=ge(Mo,Wt,_n,Ji)),Co-=fd,Ji&&Co<Sr){var ju=pi(Mo,Uf);return Ta(h,S,Zs,bs.placeholder,U,Mo,ju,Rn,Qn,Sr-Co)}var dd=Pr?U:this,eh=Ci?dd[h]:h;return Co=Mo.length,Rn?Mo=Rb(Mo,Rn):ys&&Co>1&&Mo.reverse(),Tr&&Qn<Co&&(Mo.length=Qn),this&&this!==us&&this instanceof bs&&(eh=xo||Ei(eh)),eh.apply(dd,Mo)}return bs}function gs(h,S){return function(U,me){return Yl(U,h,S(me),{})}}function Gr(h,S){return function(U,me){var pt;if(U===n&&me===n)return S;if(U!==n&&(pt=U),me!==n){if(pt===n)return me;typeof U=="string"||typeof me=="string"?(U=Fl(U),me=Fl(me)):(U=If(U),me=If(me)),pt=h(U,me)}return pt}}function Ki(h){return _0(function(S){return S=Ii(S,Jt(Dr())),Fs(function(U){var me=this;return h(S,function(pt){return Zi(pt,me,U)})})})}function Ba(h,S){S=S===n?" ":Fl(S);var U=S.length;if(U<2)return U?Ph(S,h):S;var me=Ph(S,J0(h/gi(S)));return tr(S)?ud(os(me),0,h).join(""):me.slice(0,h)}function tu(h,S,U,me){var pt=S&O,Wt=Ei(h);function _n(){for(var Rn=-1,Qn=arguments.length,Sr=-1,Tr=me.length,Pr=En(Tr+Qn),Ci=this&&this!==us&&this instanceof _n?Wt:h;++Sr<Tr;)Pr[Sr]=me[Sr];for(;Qn--;)Pr[Sr++]=arguments[++Rn];return Zi(Ci,pt?U:this,Pr)}return _n}function Iu(h){return function(S,U,me){return me&&typeof me!="number"&&Pf(S,U,me)&&(U=me=n),S=im(S),U===n?(U=S,S=0):U=im(U),me=me===n?S<U?1:-1:im(me),K4(S,U,me,h)}}function Es(h){return function(S,U){return typeof S=="string"&&typeof U=="string"||(S=ul(S),U=ul(U)),h(S,U)}}function Ta(h,S,U,me,pt,Wt,_n,Rn,Qn,Sr){var Tr=S&L,Pr=Tr?_n:n,Ci=Tr?n:_n,Ji=Tr?Wt:n,ys=Tr?n:Wt;S|=Tr?P:W,S&=~(Tr?W:P),S&$||(S&=~(O|j));var xo=[h,S,pt,Ji,Pr,ys,Ci,Rn,Qn,Sr],bs=U.apply(n,xo);return f3(h)&&jh(bs,xo),bs.placeholder=me,Z4(bs,h,S)}function Va(h){var S=ms[h];return function(U,me){if(U=ul(U),me=me==null?0:Zo(eo(me),292),me&&d0(U)){var pt=(Qo(U)+"e").split("e"),Wt=S(pt[0]+"e"+(+pt[1]+me));return pt=(Qo(Wt)+"e").split("e"),+(pt[0]+"e"+(+pt[1]-me))}return S(U)}}var Dl=bl&&1/ii(new bl([,-0]))[1]==Mt?function(h){return new bl(h)}:E3;function Qd(h){return function(S){var U=So(S);return U==ve?di(S):U==Re?qr(S):Ie(S,h(S))}}function ol(h,S,U,me,pt,Wt,_n,Rn){var Qn=S&j;if(!Qn&&typeof h!="function")throw new le(i);var Sr=me?me.length:0;if(Sr||(S&=~(P|W),me=pt=n),_n=_n===n?_n:Uo(eo(_n),0),Rn=Rn===n?Rn:eo(Rn),Sr-=pt?pt.length:0,S&W){var Tr=me,Pr=pt;me=pt=n}var Ci=Qn?n:og(h),Ji=[h,S,U,me,pt,Tr,Pr,Wt,_n,Rn];if(Ci&&BN(Ji,Ci),h=Ji[0],S=Ji[1],U=Ji[2],me=Ji[3],pt=Ji[4],Rn=Ji[9]=Ji[9]===n?Qn?0:h.length:Uo(Ji[9]-Sr,0),!Rn&&S&(L|q)&&(S&=~(L|q)),!S||S==O)var ys=Rr(h,S,U);else S==L||S==q?ys=ki(h,S,Rn):(S==P||S==(O|P))&&!pt.length?ys=tu(h,S,U,me):ys=Zs.apply(n,Ji);var xo=Ci?ku:jh;return Z4(xo(ys,Ji),h,S)}function v0(h,S,U,me){return h===n||Xd(h,Dn[U])&&!dr.call(me,U)?S:h}function ba(h,S,U,me,pt,Wt){return nu(h)&&nu(S)&&(Wt.set(S,h),ao(h,S,n,ba,Wt),Wt.delete(S)),h}function dc(h){return x3(h)?n:h}function Gd(h,S,U,me,pt,Wt){var _n=U&b,Rn=h.length,Qn=S.length;if(Rn!=Qn&&!(_n&&Qn>Rn))return!1;var Sr=Wt.get(h),Tr=Wt.get(S);if(Sr&&Tr)return Sr==S&&Tr==h;var Pr=-1,Ci=!0,Ji=U&R?new Z0:n;for(Wt.set(h,S),Wt.set(S,h);++Pr<Rn;){var ys=h[Pr],xo=S[Pr];if(me)var bs=_n?me(xo,ys,Pr,S,h,Wt):me(ys,xo,Pr,h,S,Wt);if(bs!==n){if(bs)continue;Ci=!1;break}if(Ji){if(!Oo(S,function(Co,Mo){if(!pn(Ji,Mo)&&(ys===Co||pt(ys,Co,U,me,Wt)))return Ji.push(Mo)})){Ci=!1;break}}else if(!(ys===xo||pt(ys,xo,U,me,Wt))){Ci=!1;break}}return Wt.delete(h),Wt.delete(S),Ci}function em(h,S,U,me,pt,Wt,_n){switch(U){case gn:if(h.byteLength!=S.byteLength||h.byteOffset!=S.byteOffset)return!1;h=h.buffer,S=S.buffer;case fn:return!(h.byteLength!=S.byteLength||!Wt(new l0(h),new l0(S)));case wt:case mn:case Le:return Xd(+h,+S);case Bt:return h.name==S.name&&h.message==S.message;case re:case nt:return h==S+"";case ve:var Rn=di;case Re:var Qn=me&b;if(Rn||(Rn=ii),h.size!=S.size&&!Qn)return!1;var Sr=_n.get(h);if(Sr)return Sr==S;me|=R,_n.set(h,S);var Tr=Gd(Rn(h),Rn(S),me,pt,Wt,_n);return _n.delete(h),Tr;case ft:if(hr)return hr.call(h)==hr.call(S)}return!1}function Cp(h,S,U,me,pt,Wt){var _n=U&b,Rn=i2(h),Qn=Rn.length,Sr=i2(S),Tr=Sr.length;if(Qn!=Tr&&!_n)return!1;for(var Pr=Qn;Pr--;){var Ci=Rn[Pr];if(!(_n?Ci in S:dr.call(S,Ci)))return!1}var Ji=Wt.get(h),ys=Wt.get(S);if(Ji&&ys)return Ji==S&&ys==h;var xo=!0;Wt.set(h,S),Wt.set(S,h);for(var bs=_n;++Pr<Qn;){Ci=Rn[Pr];var Co=h[Ci],Mo=S[Ci];if(me)var cd=_n?me(Mo,Co,Ci,S,h,Wt):me(Co,Mo,Ci,h,S,Wt);if(!(cd===n?Co===Mo||pt(Co,Mo,U,me,Wt):cd)){xo=!1;break}bs||(bs=Ci=="constructor")}if(xo&&!bs){var Uf=h.constructor,fd=S.constructor;Uf!=fd&&"constructor"in h&&"constructor"in S&&!(typeof Uf=="function"&&Uf instanceof Uf&&typeof fd=="function"&&fd instanceof fd)&&(xo=!1)}return Wt.delete(h),Wt.delete(S),xo}function _0(h){return Ob(Fb(h,n,r_),h+"")}function i2(h){return kh(h,Bu,br)}function u3(h){return kh(h,S0,al)}var og=k?function(h){return k.get(h)}:E3;function ag(h){for(var S=h.name+"",U=Z[S],me=dr.call(Z,S)?U.length:0;me--;){var pt=U[me],Wt=pt.func;if(Wt==null||Wt==h)return pt.name}return S}function tm(h){var S=dr.call(it,"placeholder")?it:h;return S.placeholder}function Dr(){var h=it.iteratee||Jb;return h=h===Jb?de:h,arguments.length?h(arguments[0],arguments[1]):h}function js(h,S){var U=h.__data__;return fi(S)?U[typeof S=="string"?"string":"hash"]:U.map}function bo(h){for(var S=Bu(h),U=S.length;U--;){var me=S[U],pt=h[me];S[U]=[me,pt,MN(pt)]}return S}function Ur(h,S){var U=ar(h,S);return od(U)?U:n}function xf(h){var S=dr.call(h,ac),U=h[ac];try{h[ac]=n;var me=!0}catch{}var pt=Ls.call(h);return me&&(S?h[ac]=U:delete h[ac]),pt}var br=X0?function(h){return h==null?[]:(h=Hi(h),Oi(X0(h),function(S){return c0.call(h,S)}))}:mA,al=X0?function(h){for(var S=[];h;)Ro(S,br(h)),h=oc(h);return S}:mA,So=Ea;(Ru&&So(new Ru(new ArrayBuffer(1)))!=gn||_o&&So(new _o)!=ve||Fh&&So(Fh.resolve())!=tt||bl&&So(new bl)!=Re||Is&&So(new Is)!=Yt)&&(So=function(h){var S=Ea(h),U=S==ce?h.constructor:n,me=U?lg(U):"";if(me)switch(me){case je:return gn;case Nt:return ve;case Vt:return tt;case An:return Re;case kn:return Yt}return S});function hc(h,S,U){for(var me=-1,pt=U.length;++me<pt;){var Wt=U[me],_n=Wt.size;switch(Wt.type){case"drop":h+=_n;break;case"dropRight":S-=_n;break;case"take":S=Zo(S,h+_n);break;case"takeRight":h=Uo(h,S-_n);break}}return{start:h,end:S}}function l3(h){var S=h.match(dt);return S?S[1].split(ie):[]}function ks(h,S,U){S=y0(S,h);for(var me=-1,pt=S.length,Wt=!1;++me<pt;){var _n=Bf(S[me]);if(!(Wt=h!=null&&U(h,_n)))break;h=h[_n]}return Wt||++me!=pt?Wt:(pt=h==null?0:h.length,!!pt&&Vb(pt)&&wp(_n,pt)&&(qs(h)||s2(h)))}function Yd(h){var S=h.length,U=new h.constructor(S);return S&&typeof h[0]=="string"&&dr.call(h,"index")&&(U.index=h.index,U.input=h.input),U}function Kd(h){return typeof h.constructor=="function"&&!X4(h)?Fi(oc(h)):{}}function ug(h,S,U){var me=h.constructor;switch(S){case fn:return H(h);case wt:case mn:return new me(+h);case gn:return Y(h,U);case yn:case Lt:case un:case Pn:case nr:case On:case Ne:case ze:case De:return x(h,U);case ve:return new me;case Le:case nt:return new me(h);case re:return Me(h);case Re:return new me;case ft:return _t(h)}}function c3(h,S){var U=S.length;if(!U)return h;var me=U-1;return S[me]=(U>1?"& ":"")+S[me],S=S.join(U>2?", ":" "),h.replace(an,`{
/* [wrapped with `+S+`] */
`)}function IN(h){return qs(h)||s2(h)||!!(Mc&&h&&h[Mc])}function wp(h,S){var U=typeof h;return S=S??qe,!!S&&(U=="number"||U!="symbol"&&Ut.test(h))&&h>-1&&h%1==0&&h<S}function Pf(h,S,U){if(!nu(U))return!1;var me=typeof S;return(me=="number"?E0(U)&&wp(S,U.length):me=="string"&&S in U)?Xd(U[S],h):!1}function D9(h,S){if(qs(h))return!1;var U=typeof h;return U=="number"||U=="symbol"||U=="boolean"||h==null||ld(h)?!0:vt.test(h)||!Ye.test(h)||S!=null&&h in Hi(S)}function fi(h){var S=typeof h;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?h!=="__proto__":h===null}function f3(h){var S=ag(h),U=it[S];if(typeof U!="function"||!(S in Qr.prototype))return!1;if(h===U)return!0;var me=og(U);return!!me&&h===me[0]}function qW(h){return!!_s&&_s in h}var UW=ir?rm:Zb;function X4(h){var S=h&&h.constructor,U=typeof S=="function"&&S.prototype||Dn;return h===U}function MN(h){return h===h&&!nu(h)}function R9(h,S){return function(U){return U==null?!1:U[h]===S&&(S!==n||h in Hi(U))}}function PN(h){var S=$b(h,function(me){return U.size===a&&U.clear(),me}),U=S.cache;return S}function BN(h,S){var U=h[1],me=S[1],pt=U|me,Wt=pt<(O|j|oe),_n=me==oe&&U==L||me==oe&&U==I&&h[7].length<=S[8]||me==(oe|I)&&S[7].length<=S[8]&&U==L;if(!(Wt||_n))return h;me&O&&(h[2]=S[2],pt|=U&O?0:$);var Rn=S[3];if(Rn){var Qn=h[3];h[3]=Qn?X(Qn,Rn,S[4]):Rn,h[4]=Qn?pi(h[3],l):S[4]}return Rn=S[5],Rn&&(Qn=h[5],h[5]=Qn?ge(Qn,Rn,S[6]):Rn,h[6]=Qn?pi(h[5],l):S[6]),Rn=S[7],Rn&&(h[7]=Rn),me&oe&&(h[8]=h[8]==null?S[8]:Zo(h[8],S[8])),h[9]==null&&(h[9]=S[9]),h[0]=S[0],h[1]=pt,h}function $W(h){var S=[];if(h!=null)for(var U in Hi(h))S.push(U);return S}function d3(h){return Ls.call(h)}function Fb(h,S,U){return S=Uo(S===n?h.length-1:S,0),function(){for(var me=arguments,pt=-1,Wt=Uo(me.length-S,0),_n=En(Wt);++pt<Wt;)_n[pt]=me[S+pt];pt=-1;for(var Rn=En(S+1);++pt<S;)Rn[pt]=me[pt];return Rn[S]=U(_n),Zi(h,this,Rn)}}function Db(h,S){return S.length<2?h:eu(h,Tl(S,0,-1))}function Rb(h,S){for(var U=h.length,me=Zo(S.length,U),pt=Fe(h);me--;){var Wt=S[me];h[me]=wp(Wt,U)?pt[Wt]:n}return h}function O9(h,S){if(!(S==="constructor"&&typeof h[S]=="function")&&S!="__proto__")return h[S]}var jh=jN(ku),yu=K0||function(h,S){return us.setTimeout(h,S)},Ob=jN(K1);function Z4(h,S,U){var me=S+"";return Ob(h,c3(me,p3(l3(me),U)))}function jN(h){var S=0,U=0;return function(){var me=m0(),pt=at-(me-U);if(U=me,pt>0){if(++S>=He)return arguments[0]}else S=0;return h.apply(n,arguments)}}function h3(h,S){var U=-1,me=h.length,pt=me-1;for(S=S===n?me:S;++U<S;){var Wt=Lu(U,pt),_n=h[Wt];h[Wt]=h[U],h[U]=_n}return h.length=S,h}var e_=PN(function(h){var S=[];return h.charCodeAt(0)===46&&S.push(""),h.replace(ae,function(U,me,pt,Wt){S.push(pt?Wt.replace(gt,"$1"):me||U)}),S});function Bf(h){if(typeof h=="string"||ld(h))return h;var S=h+"";return S=="0"&&1/h==-Mt?"-0":S}function lg(h){if(h!=null){try{return vr.call(h)}catch{}try{return h+""}catch{}}return""}function p3(h,S){return Ps(pe,function(U){var me="_."+U[0];S&U[1]&&!Wo(h,me)&&h.push(me)}),h.sort()}function qN(h){if(h instanceof Qr)return h.clone();var S=new Li(h.__wrapped__,h.__chain__);return S.__actions__=Fe(h.__actions__),S.__index__=h.__index__,S.__values__=h.__values__,S}function Nb(h,S,U){(U?Pf(h,S,U):S===n)?S=1:S=Uo(eo(S),0);var me=h==null?0:h.length;if(!me||S<1)return[];for(var pt=0,Wt=0,_n=En(J0(me/S));pt<me;)_n[Wt++]=Tl(h,pt,pt+=S);return _n}function UN(h){for(var S=-1,U=h==null?0:h.length,me=0,pt=[];++S<U;){var Wt=h[S];Wt&&(pt[me++]=Wt)}return pt}function t_(){var h=arguments.length;if(!h)return[];for(var S=En(h-1),U=arguments[0],me=h;me--;)S[me-1]=arguments[me];return Ro(qs(U)?Fe(U):[U],Ha(S,1))}var $N=Fs(function(h,S){return Mu(h)?il(h,Ha(S,1,Mu,!0)):[]}),n_=Fs(function(h,S){var U=Jd(S);return Mu(U)&&(U=n),Mu(h)?il(h,Ha(S,1,Mu,!0),Dr(U,2)):[]}),zN=Fs(function(h,S){var U=Jd(S);return Mu(U)&&(U=n),Mu(h)?il(h,Ha(S,1,Mu,!0),n,U):[]});function zW(h,S,U){var me=h==null?0:h.length;return me?(S=U||S===n?1:eo(S),Tl(h,S<0?0:S,me)):[]}function HN(h,S,U){var me=h==null?0:h.length;return me?(S=U||S===n?1:eo(S),S=me-S,Tl(h,0,S<0?0:S)):[]}function HW(h,S){return h&&h.length?Wd(h,Dr(S,3),!0,!0):[]}function VN(h,S){return h&&h.length?Wd(h,Dr(S,3),!0):[]}function rfe(h,S,U,me){var pt=h==null?0:h.length;return pt?(U&&typeof U!="number"&&Pf(h,S,U)&&(U=0,me=pt),Oh(h,S,U,me)):[]}function N9(h,S,U){var me=h==null?0:h.length;if(!me)return-1;var pt=U==null?0:eo(U);return pt<0&&(pt=Uo(me+pt,0)),la(h,Dr(S,3),pt)}function Ap(h,S,U){var me=h==null?0:h.length;if(!me)return-1;var pt=me-1;return U!==n&&(pt=eo(U),pt=U<0?Uo(me+pt,0):Zo(pt,me-1)),la(h,Dr(S,3),pt,!0)}function r_(h){var S=h==null?0:h.length;return S?Ha(h,1):[]}function cg(h){var S=h==null?0:h.length;return S?Ha(h,Mt):[]}function WN(h,S){var U=h==null?0:h.length;return U?(S=S===n?1:eo(S),Ha(h,S)):[]}function L9(h){for(var S=-1,U=h==null?0:h.length,me={};++S<U;){var pt=h[S];me[pt[0]]=pt[1]}return me}function Lb(h){return h&&h.length?h[0]:n}function QN(h,S,U){var me=h==null?0:h.length;if(!me)return-1;var pt=U==null?0:eo(U);return pt<0&&(pt=Uo(me+pt,0)),ca(h,S,pt)}function VW(h){var S=h==null?0:h.length;return S?Tl(h,0,-1):[]}var WW=Fs(function(h){var S=Ii(h,sg);return S.length&&S[0]===h[0]?pf(S):[]}),kb=Fs(function(h){var S=Jd(h),U=Ii(h,sg);return S===Jd(U)?S=n:U.pop(),U.length&&U[0]===h[0]?pf(U,Dr(S,2)):[]}),QW=Fs(function(h){var S=Jd(h),U=Ii(h,sg);return S=typeof S=="function"?S:n,S&&U.pop(),U.length&&U[0]===h[0]?pf(U,n,S):[]});function k9(h,S){return h==null?"":h0.call(h,S)}function Jd(h){var S=h==null?0:h.length;return S?h[S-1]:n}function GN(h,S,U){var me=h==null?0:h.length;if(!me)return-1;var pt=me;return U!==n&&(pt=eo(U),pt=pt<0?Uo(me+pt,0):Zo(pt,me-1)),S===S?yi(h,S,pt):la(h,Vl,pt,!0)}function GW(h,S){return h&&h.length?Uc(h,eo(S)):n}var I9=Fs(Ib);function Ib(h,S){return h&&h.length&&S&&S.length?s3(h,S):h}function M9(h,S,U){return h&&h.length&&S&&S.length?s3(h,S,Dr(U,2)):h}function YN(h,S,U){return h&&h.length&&S&&S.length?s3(h,S,n,U):h}var KN=_0(function(h,S){var U=h==null?0:h.length,me=rd(h,S);return ad(h,Ii(S,function(pt){return wp(pt,U)?+pt:pt}).sort(T)),me});function Mb(h,S){var U=[];if(!(h&&h.length))return U;var me=-1,pt=[],Wt=h.length;for(S=Dr(S,3);++me<Wt;){var _n=h[me];S(_n,me,h)&&(U.push(_n),pt.push(me))}return ad(h,pt),U}function Pb(h){return h==null?h:qd.call(h)}function Bb(h,S,U){var me=h==null?0:h.length;return me?(U&&typeof U!="number"&&Pf(h,S,U)?(S=0,U=me):(S=S==null?0:eo(S),U=U===n?me:eo(U)),Tl(h,S,U)):[]}function YW(h,S){return Vd(h,S)}function KW(h,S,U){return Bh(h,S,Dr(U,2))}function JN(h,S){var U=h==null?0:h.length;if(U){var me=Vd(h,S);if(me<U&&Xd(h[me],S))return me}return-1}function XN(h,S){return Vd(h,S,!0)}function ZN(h,S,U){return Bh(h,S,Dr(U,2),!0)}function JW(h,S){var U=h==null?0:h.length;if(U){var me=Vd(h,S,!0)-1;if(Xd(h[me],S))return me}return-1}function P9(h){return h&&h.length?a3(h):[]}function XW(h,S){return h&&h.length?a3(h,Dr(S,2)):[]}function ZW(h){var S=h==null?0:h.length;return S?Tl(h,1,S):[]}function eL(h,S,U){return h&&h.length?(S=U||S===n?1:eo(S),Tl(h,0,S<0?0:S)):[]}function eQ(h,S,U){var me=h==null?0:h.length;return me?(S=U||S===n?1:eo(S),S=me-S,Tl(h,S<0?0:S,me)):[]}function tQ(h,S){return h&&h.length?Wd(h,Dr(S,3),!1,!0):[]}function nQ(h,S){return h&&h.length?Wd(h,Dr(S,3)):[]}var rQ=Fs(function(h){return Mf(Ha(h,1,Mu,!0))}),tL=Fs(function(h){var S=Jd(h);return Mu(S)&&(S=n),Mf(Ha(h,1,Mu,!0),Dr(S,2))}),iQ=Fs(function(h){var S=Jd(h);return S=typeof S=="function"?S:n,Mf(Ha(h,1,Mu,!0),n,S)});function nL(h){return h&&h.length?Mf(h):[]}function B9(h,S){return h&&h.length?Mf(h,Dr(S,2)):[]}function sQ(h,S){return S=typeof S=="function"?S:n,h&&h.length?Mf(h,n,S):[]}function j9(h){if(!(h&&h.length))return[];var S=0;return h=Oi(h,function(U){if(Mu(U))return S=Uo(U.length,S),!0}),is(S,function(U){return Ii(h,el(U))})}function q9(h,S){if(!(h&&h.length))return[];var U=j9(h);return S==null?U:Ii(U,function(me){return Zi(S,n,me)})}var rL=Fs(function(h,S){return Mu(h)?il(h,S):[]}),U9=Fs(function(h){return mf(Oi(h,Mu))}),oQ=Fs(function(h){var S=Jd(h);return Mu(S)&&(S=n),mf(Oi(h,Mu),Dr(S,2))}),aQ=Fs(function(h){var S=Jd(h);return S=typeof S=="function"?S:n,mf(Oi(h,Mu),n,S)}),iL=Fs(j9);function sL(h,S){return ig(h||[],S||[],df)}function uQ(h,S){return ig(h||[],S||[],bp)}var lQ=Fs(function(h){var S=h.length,U=S>1?h[S-1]:n;return U=typeof U=="function"?(h.pop(),U):n,q9(h,U)});function cQ(h){var S=it(h);return S.__chain__=!0,S}function oL(h,S){return S(h),h}function i_(h,S){return S(h)}var fQ=_0(function(h){var S=h.length,U=S?h[0]:0,me=this.__wrapped__,pt=function(Wt){return rd(Wt,h)};return S>1||this.__actions__.length||!(me instanceof Qr)||!wp(U)?this.thru(pt):(me=me.slice(U,+U+(S?1:0)),me.__actions__.push({func:i_,args:[pt],thisArg:n}),new Li(me,this.__chain__).thru(function(Wt){return S&&!Wt.length&&Wt.push(n),Wt}))});function dQ(){return cQ(this)}function Tp(){return new Li(this.value(),this.__chain__)}function hQ(){this.__values__===n&&(this.__values__=RL(this.value()));var h=this.__index__>=this.__values__.length,S=h?n:this.__values__[this.__index__++];return{done:h,value:S}}function $9(){return this}function z9(h){for(var S,U=this;U instanceof Qi;){var me=qN(U);me.__index__=0,me.__values__=n,S?pt.__wrapped__=me:S=me;var pt=me;U=U.__wrapped__}return pt.__wrapped__=h,S}function H9(){var h=this.__wrapped__;if(h instanceof Qr){var S=h;return this.__actions__.length&&(S=new Qr(this)),S=S.reverse(),S.__actions__.push({func:i_,args:[Pb],thisArg:n}),new Li(S,this.__chain__)}return this.thru(Pb)}function aL(){return Z1(this.__wrapped__,this.__actions__)}var pQ=Sn(function(h,S,U){dr.call(h,U)?++h[U]:rl(h,U,1)});function V9(h,S,U){var me=qs(h)?ua:zd;return U&&Pf(h,S,U)&&(S=n),me(h,Dr(S,3))}function jb(h,S){var U=qs(h)?Oi:yp;return U(h,Dr(S,3))}var W9=Rs(N9),uL=Rs(Ap);function Fp(h,S){return Ha(s_(h,S),1)}function lL(h,S){return Ha(s_(h,S),Mt)}function cL(h,S,U){return U=U===n?1:eo(U),Ha(s_(h,S),U)}function mQ(h,S){var U=qs(h)?Ps:qc;return U(h,Dr(S,3))}function fL(h,S){var U=qs(h)?ga:Rh;return U(h,Dr(S,3))}var xQ=Sn(function(h,S,U){dr.call(h,U)?h[U].push(S):rl(h,U,[S])});function Q9(h,S,U,me){h=E0(h)?h:_3(h),U=U&&!me?eo(U):0;var pt=h.length;return U<0&&(U=Uo(pt+U,0)),l_(h)?U<=pt&&h.indexOf(S,U)>-1:!!pt&&ca(h,S,U)>-1}var qb=Fs(function(h,S,U){var me=-1,pt=typeof S=="function",Wt=E0(h)?En(h.length):[];return qc(h,function(_n){Wt[++me]=pt?Zi(S,_n,U):Nu(_n,S,U)}),Wt}),Ub=Sn(function(h,S,U){rl(h,U,S)});function s_(h,S){var U=qs(h)?Ii:ur;return U(h,Dr(S,3))}function ife(h,S,U,me){return h==null?[]:(qs(S)||(S=S==null?[]:[S]),U=me?n:U,qs(U)||(U=U==null?[]:[U]),kf(h,S,U))}var gQ=Sn(function(h,S,U){h[U?0:1].push(S)},function(){return[[],[]]});function nm(h,S,U){var me=qs(h)?ka:rs,pt=arguments.length<3;return me(h,Dr(S,4),U,pt,qc)}function dL(h,S,U){var me=qs(h)?Xa:rs,pt=arguments.length<3;return me(h,Dr(S,4),U,pt,Rh)}function hL(h,S){var U=qs(h)?Oi:yp;return U(h,zb(Dr(S,3)))}function yQ(h){var S=qs(h)?ff:g0;return S(h)}function vQ(h,S,U){(U?Pf(h,S,U):S===n)?S=1:S=eo(S);var me=qs(h)?ng:Al;return me(h,S)}function _Q(h){var S=qs(h)?rg:J1;return S(h)}function pL(h){if(h==null)return 0;if(E0(h))return l_(h)?gi(h):h.length;var S=So(h);return S==ve||S==Re?h.size:Pe(h).length}function EQ(h,S,U){var me=qs(h)?Oo:o3;return U&&Pf(h,S,U)&&(S=n),me(h,Dr(S,3))}var bQ=Fs(function(h,S){if(h==null)return[];var U=S.length;return U>1&&Pf(h,S[0],S[1])?S=[]:U>2&&Pf(S[0],S[1],S[2])&&(S=[S[0]]),kf(h,Ha(S,1),[])}),o_=Th||function(){return us.Date.now()};function SQ(h,S){if(typeof S!="function")throw new le(i);return h=eo(h),function(){if(--h<1)return S.apply(this,arguments)}}function mL(h,S,U){return S=U?n:S,S=h&&S==null?h.length:S,ol(h,oe,n,n,n,n,S)}function xL(h,S){var U;if(typeof S!="function")throw new le(i);return h=eo(h),function(){return--h>0&&(U=S.apply(this,arguments)),h<=1&&(S=n),U}}var G9=Fs(function(h,S,U){var me=O;if(U.length){var pt=pi(U,tm(G9));me|=P}return ol(h,me,S,U,pt)}),gL=Fs(function(h,S,U){var me=O|j;if(U.length){var pt=pi(U,tm(gL));me|=P}return ol(S,me,h,U,pt)});function yL(h,S,U){S=U?n:S;var me=ol(h,L,n,n,n,n,n,S);return me.placeholder=yL.placeholder,me}function a_(h,S,U){S=U?n:S;var me=ol(h,q,n,n,n,n,n,S);return me.placeholder=a_.placeholder,me}function vL(h,S,U){var me,pt,Wt,_n,Rn,Qn,Sr=0,Tr=!1,Pr=!1,Ci=!0;if(typeof h!="function")throw new le(i);S=ul(S)||0,nu(U)&&(Tr=!!U.leading,Pr="maxWait"in U,Wt=Pr?Uo(ul(U.maxWait)||0,S):Wt,Ci="trailing"in U?!!U.trailing:Ci);function Ji(ju){var dd=me,eh=pt;return me=pt=n,Sr=ju,_n=h.apply(eh,dd),_n}function ys(ju){return Sr=ju,Rn=yu(Co,S),Tr?Ji(ju):_n}function xo(ju){var dd=ju-Qn,eh=ju-Sr,vA=S-dd;return Pr?Zo(vA,Wt-eh):vA}function bs(ju){var dd=ju-Qn,eh=ju-Sr;return Qn===n||dd>=S||dd<0||Pr&&eh>=Wt}function Co(){var ju=o_();if(bs(ju))return Mo(ju);Rn=yu(Co,xo(ju))}function Mo(ju){return Rn=n,Ci&&me?Ji(ju):(me=pt=n,_n)}function cd(){Rn!==n&&y(Rn),Sr=0,me=Qn=pt=Rn=n}function Uf(){return Rn===n?_n:Mo(o_())}function fd(){var ju=o_(),dd=bs(ju);if(me=arguments,pt=this,Qn=ju,dd){if(Rn===n)return ys(Qn);if(Pr)return y(Rn),Rn=yu(Co,S),Ji(Qn)}return Rn===n&&(Rn=yu(Co,S)),_n}return fd.cancel=cd,fd.flush=Uf,fd}var CQ=Fs(function(h,S){return Y1(h,1,S)}),Y9=Fs(function(h,S,U){return Y1(h,ul(S)||0,U)});function wQ(h){return ol(h,J)}function $b(h,S){if(typeof h!="function"||S!=null&&typeof S!="function")throw new le(i);var U=function(){var me=arguments,pt=S?S.apply(this,me):me[0],Wt=U.cache;if(Wt.has(pt))return Wt.get(pt);var _n=h.apply(this,me);return U.cache=Wt.set(pt,_n)||Wt,_n};return U.cache=new($b.Cache||Bc),U}$b.Cache=Bc;function zb(h){if(typeof h!="function")throw new le(i);return function(){var S=arguments;switch(S.length){case 0:return!h.call(this);case 1:return!h.call(this,S[0]);case 2:return!h.call(this,S[0],S[1]);case 3:return!h.call(this,S[0],S[1],S[2])}return!h.apply(this,S)}}function AQ(h){return xL(2,h)}var m3=J4(function(h,S){S=S.length==1&&qs(S[0])?Ii(S[0],Jt(Dr())):Ii(Ha(S,1),Jt(Dr()));var U=S.length;return Fs(function(me){for(var pt=-1,Wt=Zo(me.length,U);++pt<Wt;)me[pt]=S[pt].call(this,me[pt]);return Zi(h,this,me)})}),Hb=Fs(function(h,S){var U=pi(S,tm(Hb));return ol(h,P,n,S,U)}),_L=Fs(function(h,S){var U=pi(S,tm(_L));return ol(h,W,n,S,U)}),EL=_0(function(h,S){return ol(h,I,n,n,n,S)});function TQ(h,S){if(typeof h!="function")throw new le(i);return S=S===n?S:eo(S),Fs(h,S)}function FQ(h,S){if(typeof h!="function")throw new le(i);return S=S==null?0:Uo(eo(S),0),Fs(function(U){var me=U[S],pt=ud(U,0,S);return me&&Ro(pt,me),Zi(h,this,pt)})}function K9(h,S,U){var me=!0,pt=!0;if(typeof h!="function")throw new le(i);return nu(U)&&(me="leading"in U?!!U.leading:me,pt="trailing"in U?!!U.trailing:pt),vL(h,S,{leading:me,maxWait:S,trailing:pt})}function bL(h){return mL(h,1)}function DQ(h,S){return Hb(fc(S),h)}function RQ(){if(!arguments.length)return[];var h=arguments[0];return qs(h)?h:[h]}function J9(h){return wl(h,_)}function X9(h,S){return S=typeof S=="function"?S:n,wl(h,_,S)}function SL(h){return wl(h,f|_)}function CL(h,S){return S=typeof S=="function"?S:n,wl(h,f|_,S)}function wL(h,S){return S==null||xu(h,S,Bu(S))}function Xd(h,S){return h===S||h!==h&&S!==S}var OQ=Es(Ih),NQ=Es(function(h,S){return h>=S}),s2=_p(function(){return arguments}())?_p:function(h){return Pu(h)&&dr.call(h,"callee")&&!c0.call(h,"callee")},qs=En.isArray,Z9=Xo?Jt(Xo):sl;function E0(h){return h!=null&&Vb(h.length)&&!rm(h)}function Mu(h){return Pu(h)&&E0(h)}function LQ(h){return h===!0||h===!1||Pu(h)&&Ea(h)==wt}var o2=Pc||Zb,kQ=da?Jt(da):Mh;function IQ(h){return Pu(h)&&h.nodeType===1&&!x3(h)}function MQ(h){if(h==null)return!0;if(E0(h)&&(qs(h)||typeof h=="string"||typeof h.splice=="function"||o2(h)||g3(h)||s2(h)))return!h.length;var S=So(h);if(S==ve||S==Re)return!h.size;if(X4(h))return!Pe(h).length;for(var U in h)if(dr.call(h,U))return!1;return!0}function PQ(h,S){return Hd(h,S)}function BQ(h,S,U){U=typeof U=="function"?U:n;var me=U?U(h,S):n;return me===n?Hd(h,S,n,U):!!me}function eA(h){if(!Pu(h))return!1;var S=Ea(h);return S==Bt||S==kt||typeof h.message=="string"&&typeof h.name=="string"&&!x3(h)}function jQ(h){return typeof h=="number"&&d0(h)}function rm(h){if(!nu(h))return!1;var S=Ea(h);return S==tn||S==Et||S==Ht||S==Ke}function AL(h){return typeof h=="number"&&h==eo(h)}function Vb(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=qe}function nu(h){var S=typeof h;return h!=null&&(S=="object"||S=="function")}function Pu(h){return h!=null&&typeof h=="object"}var TL=ha?Jt(ha):Ep;function qQ(h,S){return h===S||Lf(h,S,bo(S))}function UQ(h,S,U){return U=typeof U=="function"?U:n,Lf(h,S,bo(S),U)}function $Q(h){return tA(h)&&h!=+h}function zQ(h){if(UW(h))throw new Ti(r);return od(h)}function HQ(h){return h===null}function FL(h){return h==null}function tA(h){return typeof h=="number"||Pu(h)&&Ea(h)==Le}function x3(h){if(!Pu(h)||Ea(h)!=ce)return!1;var S=oc(h);if(S===null)return!0;var U=dr.call(S,"constructor")&&S.constructor;return typeof U=="function"&&U instanceof U&&vr.call(U)==oo}var u_=po?Jt(po):Xs;function nA(h){return AL(h)&&h>=-qe&&h<=qe}var rA=ls?Jt(ls):A;function l_(h){return typeof h=="string"||!qs(h)&&Pu(h)&&Ea(h)==nt}function ld(h){return typeof h=="symbol"||Pu(h)&&Ea(h)==ft}var g3=ps?Jt(ps):Q;function VQ(h){return h===n}function WQ(h){return Pu(h)&&So(h)==Yt}function DL(h){return Pu(h)&&Ea(h)==Gt}var QQ=Es(Tn),GQ=Es(function(h,S){return h<=S});function RL(h){if(!h)return[];if(E0(h))return l_(h)?os(h):Fe(h);if(f0&&h[f0])return Or(h[f0]());var S=So(h),U=S==ve?di:S==Re?ii:_3;return U(h)}function im(h){if(!h)return h===0?h:0;if(h=ul(h),h===Mt||h===-Mt){var S=h<0?-1:1;return S*te}return h===h?h:0}function eo(h){var S=im(h),U=S%1;return S===S?U?S-U:S:0}function Dp(h){return h?Nf(eo(h),0,Ee):0}function ul(h){if(typeof h=="number")return h;if(ld(h))return et;if(nu(h)){var S=typeof h.valueOf=="function"?h.valueOf():h;h=nu(S)?S+"":S}if(typeof h!="string")return h===0?h:+h;h=yt(h);var U=we.test(h);return U||st.test(h)?As(h.slice(2),U?2:8):ne.test(h)?et:+h}function b0(h){return ot(h,S0(h))}function OL(h){return h?Nf(eo(h),-qe,qe):h===0?h:0}function Qo(h){return h==null?"":Fl(h)}var a2=Bn(function(h,S){if(X4(S)||E0(S)){ot(S,Bu(S),h);return}for(var U in S)dr.call(S,U)&&df(h,U,S[U])}),NL=Bn(function(h,S){ot(S,S0(S),h)}),sm=Bn(function(h,S,U,me){ot(S,S0(S),h,me)}),c_=Bn(function(h,S,U,me){ot(S,Bu(S),h,me)}),LL=_0(rd);function u2(h,S){var U=Fi(h);return S==null?U:xp(U,S)}var kL=Fs(function(h,S){h=Hi(h);var U=-1,me=S.length,pt=me>2?S[2]:n;for(pt&&Pf(S[0],S[1],pt)&&(me=1);++U<me;)for(var Wt=S[U],_n=S0(Wt),Rn=-1,Qn=_n.length;++Rn<Qn;){var Sr=_n[Rn],Tr=h[Sr];(Tr===n||Xd(Tr,Dn[Sr])&&!dr.call(h,Sr))&&(h[Sr]=Wt[Sr])}return h}),IL=Fs(function(h){return h.push(n,ba),Zi(aA,n,h)});function iA(h,S){return za(h,Dr(S,3),Pa)}function ja(h,S){return za(h,Dr(S,3),Lh)}function fg(h,S){return h==null?h:Nh(h,Dr(S,3),S0)}function YQ(h,S){return h==null?h:id(h,Dr(S,3),S0)}function KQ(h,S){return h&&Pa(h,Dr(S,3))}function JQ(h,S){return h&&Lh(h,Dr(S,3))}function XQ(h){return h==null?[]:Ou(h,Bu(h))}function ML(h){return h==null?[]:Ou(h,S0(h))}function sA(h,S,U){var me=h==null?n:eu(h,S);return me===n?U:me}function ZQ(h,S){return h!=null&&ks(h,S,vp)}function f_(h,S){return h!=null&&ks(h,S,x0)}var Sa=gs(function(h,S,U){S!=null&&typeof S.toString!="function"&&(S=Ls.call(S)),h[S]=U},Kb(qf)),jf=gs(function(h,S,U){S!=null&&typeof S.toString!="function"&&(S=Ls.call(S)),dr.call(h,S)?h[S].push(U):h[S]=[U]},Dr),Rp=Fs(Nu);function Bu(h){return E0(h)?nd(h):Pe(h)}function S0(h){return E0(h)?nd(h,!0):Ct(h)}function eG(h,S){var U={};return S=Dr(S,3),Pa(h,function(me,pt,Wt){rl(U,S(me,pt,Wt),me)}),U}function l2(h,S){var U={};return S=Dr(S,3),Pa(h,function(me,pt,Wt){rl(U,pt,S(me,pt,Wt))}),U}var oA=Bn(function(h,S,U){ao(h,S,U)}),aA=Bn(function(h,S,U,me){ao(h,S,U,me)}),y3=_0(function(h,S){var U={};if(h==null)return U;var me=!1;S=Ii(S,function(Wt){return Wt=y0(Wt,h),me||(me=Wt.length>1),Wt}),ot(h,u3(h),U),me&&(U=wl(U,f|p|_,dc));for(var pt=S.length;pt--;)X1(U,S[pt]);return U});function uA(h,S){return PL(h,zb(Dr(S)))}var tG=_0(function(h,S){return h==null?{}:Tb(h,S)});function PL(h,S){if(h==null)return{};var U=Ii(u3(h),function(me){return[me]});return S=Dr(S),i3(h,U,function(me,pt){return S(me,pt[0])})}function BL(h,S,U){S=y0(S,h);var me=-1,pt=S.length;for(pt||(pt=1,h=n);++me<pt;){var Wt=h==null?n:h[Bf(S[me])];Wt===n&&(me=pt,Wt=U),h=rm(Wt)?Wt.call(h):Wt}return h}function nG(h,S,U){return h==null?h:bp(h,S,U)}function v3(h,S,U,me){return me=typeof me=="function"?me:n,h==null?h:bp(h,S,U,me)}var Wb=Qd(Bu),d_=Qd(S0);function jL(h,S,U){var me=qs(h),pt=me||o2(h)||g3(h);if(S=Dr(S,4),U==null){var Wt=h&&h.constructor;pt?U=me?new Wt:[]:nu(h)?U=rm(Wt)?Fi(oc(h)):{}:U={}}return(pt?Ps:Pa)(h,function(_n,Rn,Qn){return S(U,_n,Rn,Qn)}),U}function qL(h,S){return h==null?!0:X1(h,S)}function UL(h,S,U){return h==null?h:Sp(h,S,fc(U))}function rG(h,S,U,me){return me=typeof me=="function"?me:n,h==null?h:Sp(h,S,fc(U),me)}function _3(h){return h==null?[]:$t(h,Bu(h))}function iG(h){return h==null?[]:$t(h,S0(h))}function pc(h,S,U){return U===n&&(U=S,S=n),U!==n&&(U=ul(U),U=U===U?U:0),S!==n&&(S=ul(S),S=S===S?S:0),Nf(ul(h),S,U)}function $L(h,S,U){return S=im(S),U===n?(U=S,S=0):U=im(U),h=ul(h),sd(h,S,U)}function sG(h,S,U){if(U&&typeof U!="boolean"&&Pf(h,S,U)&&(S=U=n),U===n&&(typeof S=="boolean"?(U=S,S=n):typeof h=="boolean"&&(U=h,h=n)),h===n&&S===n?(h=0,S=1):(h=im(h),S===n?(S=h,h=0):S=im(S)),h>S){var me=h;h=S,S=me}if(U||h%1||S%1){var pt=uf();return Zo(h+pt*(S-h+Xr("1e-"+((pt+"").length-1))),S)}return Lu(h,S)}var h_=Lr(function(h,S,U){return S=S.toLowerCase(),h+(U?$c(S):S)});function $c(h){return Yb(Qo(h).toLowerCase())}function zL(h){return h=Qo(h),h&&h.replace(sn,Er).replace(du,"")}function lA(h,S,U){h=Qo(h),S=Fl(S);var me=h.length;U=U===n?me:Nf(eo(U),0,me);var pt=U;return U-=S.length,U>=0&&h.slice(U,pt)==S}function oG(h){return h=Qo(h),h&&Wn.test(h)?h.replace(Qt,wr):h}function aG(h){return h=Qo(h),h&&rt.test(h)?h.replace(Be,"\\$&"):h}var HL=Lr(function(h,S,U){return h+(U?"-":"")+S.toLowerCase()}),Qb=Lr(function(h,S,U){return h+(U?" ":"")+S.toLowerCase()}),VL=Kr("toLowerCase");function uG(h,S,U){h=Qo(h),S=eo(S);var me=S?gi(h):0;if(!S||me>=S)return h;var pt=(S-me)/2;return Ba(af(pt),U)+h+Ba(J0(pt),U)}function lG(h,S,U){h=Qo(h),S=eo(S);var me=S?gi(h):0;return S&&me<S?h+Ba(S-me,U):h}function Gb(h,S,U){h=Qo(h),S=eo(S);var me=S?gi(h):0;return S&&me<S?Ba(S-me,U)+h:h}function c2(h,S,U){return U||S==null?S=0:S&&(S=+S),El(Qo(h).replace(Dt,""),S||0)}function cG(h,S,U){return(U?Pf(h,S,U):S===n)?S=1:S=eo(S),Ph(Qo(h),S)}function fG(){var h=arguments,S=Qo(h[0]);return h.length<3?S:S.replace(h[1],h[2])}var p_=Lr(function(h,S,U){return h+(U?"_":"")+S.toLowerCase()});function dG(h,S,U){return U&&typeof U!="number"&&Pf(h,S,U)&&(S=U=n),U=U===n?Ee:U>>>0,U?(h=Qo(h),h&&(typeof S=="string"||S!=null&&!u_(S))&&(S=Fl(S),!S&&tr(h))?ud(os(h),0,U):h.split(S,U)):[]}var WL=Lr(function(h,S,U){return h+(U?" ":"")+Yb(S)});function hG(h,S,U){return h=Qo(h),U=U==null?0:Nf(eo(U),0,h.length),S=Fl(S),h.slice(U,U+S.length)==S}function Zd(h,S,U){var me=it.templateSettings;U&&Pf(h,S,U)&&(S=n),h=Qo(h),S=sm({},S,me,v0);var pt=sm({},S.imports,me.imports,v0),Wt=Bu(pt),_n=$t(pt,Wt),Rn,Qn,Sr=0,Tr=S.interpolate||wn,Pr="__p += '",Ci=fs((S.escape||wn).source+"|"+Tr.source+"|"+(Tr===rr?St:wn).source+"|"+(S.evaluate||wn).source+"|$","g"),Ji="//# sourceURL="+(dr.call(S,"sourceURL")?(S.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rf+"]")+`
`;h.replace(Ci,function(bs,Co,Mo,cd,Uf,fd){return Mo||(Mo=cd),Pr+=h.slice(Sr,fd).replace(bn,Gn),Co&&(Rn=!0,Pr+=`' +
__e(`+Co+`) +
'`),Uf&&(Qn=!0,Pr+=`';
`+Uf+`;
__p += '`),Mo&&(Pr+=`' +
((__t = (`+Mo+`)) == null ? '' : __t) +
'`),Sr=fd+bs.length,bs}),Pr+=`';
`;var ys=dr.call(S,"variable")&&S.variable;if(!ys)Pr=`with (obj) {
`+Pr+`
}
`;else if(Ue.test(ys))throw new Ti(s);Pr=(Qn?Pr.replace(Pt,""):Pr).replace(mt,"$1").replace(xt,"$1;"),Pr="function("+(ys||"obj")+`) {
`+(ys?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Rn?", __e = _.escape":"")+(Qn?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Pr+`return __p
}`;var xo=dA(function(){return ns(Wt,Ji+"return "+Pr).apply(n,_n)});if(xo.source=Pr,eA(xo))throw xo;return xo}function QL(h){return Qo(h).toLowerCase()}function pG(h){return Qo(h).toUpperCase()}function mG(h,S,U){if(h=Qo(h),h&&(U||S===n))return yt(h);if(!h||!(S=Fl(S)))return h;var me=os(h),pt=os(S),Wt=Ln(me,pt),_n=Kn(me,pt)+1;return ud(me,Wt,_n).join("")}function cA(h,S,U){if(h=Qo(h),h&&(U||S===n))return h.slice(0,xs(h)+1);if(!h||!(S=Fl(S)))return h;var me=os(h),pt=Kn(me,os(S))+1;return ud(me,0,pt).join("")}function xG(h,S,U){if(h=Qo(h),h&&(U||S===n))return h.replace(Dt,"");if(!h||!(S=Fl(S)))return h;var me=os(h),pt=Ln(me,os(S));return ud(me,pt).join("")}function GL(h,S){var U=he,me=ye;if(nu(S)){var pt="separator"in S?S.separator:pt;U="length"in S?eo(S.length):U,me="omission"in S?Fl(S.omission):me}h=Qo(h);var Wt=h.length;if(tr(h)){var _n=os(h);Wt=_n.length}if(U>=Wt)return h;var Rn=U-gi(me);if(Rn<1)return me;var Qn=_n?ud(_n,0,Rn).join(""):h.slice(0,Rn);if(pt===n)return Qn+me;if(_n&&(Rn+=Qn.length-Rn),u_(pt)){if(h.slice(Rn).search(pt)){var Sr,Tr=Qn;for(pt.global||(pt=fs(pt.source,Qo(Ot.exec(pt))+"g")),pt.lastIndex=0;Sr=pt.exec(Tr);)var Pr=Sr.index;Qn=Qn.slice(0,Pr===n?Rn:Pr)}}else if(h.indexOf(Fl(pt),Rn)!=Rn){var Ci=Qn.lastIndexOf(pt);Ci>-1&&(Qn=Qn.slice(0,Ci))}return Qn+me}function fA(h){return h=Qo(h),h&&Fn.test(h)?h.replace(rn,vi):h}var YL=Lr(function(h,S,U){return h+(U?" ":"")+S.toUpperCase()}),Yb=Kr("toUpperCase");function m_(h,S,U){return h=Qo(h),S=U?n:S,S===n?gr(h)?ya(h):pu(h):h.match(S)||[]}var dA=Fs(function(h,S){try{return Zi(h,n,S)}catch(U){return eA(U)?U:new Ti(U)}}),gG=_0(function(h,S){return Ps(S,function(U){U=Bf(U),rl(h,U,G9(h[U],h))}),h});function KL(h){var S=h==null?0:h.length,U=Dr();return h=S?Ii(h,function(me){if(typeof me[1]!="function")throw new le(i);return[U(me[0]),me[1]]}):[],Fs(function(me){for(var pt=-1;++pt<S;){var Wt=h[pt];if(Zi(Wt[0],this,me))return Zi(Wt[1],this,me)}})}function yG(h){return gp(wl(h,f))}function Kb(h){return function(){return h}}function JL(h,S){return h==null||h!==h?S:h}var vG=ds(),XL=ds(!0);function qf(h){return h}function Jb(h){return de(typeof h=="function"?h:wl(h,f))}function _G(h){return $i(wl(h,f))}function ZL(h,S){return Bi(h,wl(S,f))}var dg=Fs(function(h,S){return function(U){return Nu(U,h,S)}}),f2=Fs(function(h,S){return function(U){return Nu(h,U,S)}});function hA(h,S,U){var me=Bu(S),pt=Ou(S,me);U==null&&!(nu(S)&&(pt.length||!me.length))&&(U=S,S=h,h=this,pt=Ou(S,Bu(S)));var Wt=!(nu(U)&&"chain"in U)||!!U.chain,_n=rm(h);return Ps(pt,function(Rn){var Qn=S[Rn];h[Rn]=Qn,_n&&(h.prototype[Rn]=function(){var Sr=this.__chain__;if(Wt||Sr){var Tr=h(this.__wrapped__),Pr=Tr.__actions__=Fe(this.__actions__);return Pr.push({func:Qn,args:arguments,thisArg:h}),Tr.__chain__=Sr,Tr}return Qn.apply(h,Ro([this.value()],arguments))})}),h}function ek(){return us._===this&&(us._=Za),this}function E3(){}function EG(h){return h=eo(h),Fs(function(S){return Uc(S,h)})}var b3=Ki(Ii),pA=Ki(ua),tk=Ki(Oo);function Xb(h){return D9(h)?el(Bf(h)):Y4(h)}function nk(h){return function(S){return h==null?n:eu(h,S)}}var rk=Iu(),S3=Iu(!0);function mA(){return[]}function Zb(){return!1}function ik(){return{}}function bG(){return""}function e8(){return!0}function SG(h,S){if(h=eo(h),h<1||h>qe)return[];var U=Ee,me=Zo(h,Ee);S=Dr(S),h-=Ee;for(var pt=is(me,S);++U<h;)S(U);return pt}function xA(h){return qs(h)?Ii(h,Bf):ld(h)?[h]:Fe(e_(Qo(h)))}function x_(h){var S=++es;return Qo(h)+S}var sk=Gr(function(h,S){return h+S},0),CG=Va("ceil"),ok=Gr(function(h,S){return h/S},1),wG=Va("floor");function AG(h){return h&&h.length?hf(h,qf,Ih):n}function gA(h,S){return h&&h.length?hf(h,Dr(S,2),Ih):n}function ak(h){return ra(h,qf)}function TG(h,S){return ra(h,Dr(S,2))}function FG(h){return h&&h.length?hf(h,qf,Tn):n}function DG(h,S){return h&&h.length?hf(h,Dr(S,2),Tn):n}var yA=Gr(function(h,S){return h*S},1),uk=Va("round"),lk=Gr(function(h,S){return h-S},0);function RG(h){return h&&h.length?xr(h,qf):0}function OG(h,S){return h&&h.length?xr(h,Dr(S,2)):0}return it.after=SQ,it.ary=mL,it.assign=a2,it.assignIn=NL,it.assignInWith=sm,it.assignWith=c_,it.at=LL,it.before=xL,it.bind=G9,it.bindAll=gG,it.bindKey=gL,it.castArray=RQ,it.chain=cQ,it.chunk=Nb,it.compact=UN,it.concat=t_,it.cond=KL,it.conforms=yG,it.constant=Kb,it.countBy=pQ,it.create=u2,it.curry=yL,it.curryRight=a_,it.debounce=vL,it.defaults=kL,it.defaultsDeep=IL,it.defer=CQ,it.delay=Y9,it.difference=$N,it.differenceBy=n_,it.differenceWith=zN,it.drop=zW,it.dropRight=HN,it.dropRightWhile=HW,it.dropWhile=VN,it.fill=rfe,it.filter=jb,it.flatMap=Fp,it.flatMapDeep=lL,it.flatMapDepth=cL,it.flatten=r_,it.flattenDeep=cg,it.flattenDepth=WN,it.flip=wQ,it.flow=vG,it.flowRight=XL,it.fromPairs=L9,it.functions=XQ,it.functionsIn=ML,it.groupBy=xQ,it.initial=VW,it.intersection=WW,it.intersectionBy=kb,it.intersectionWith=QW,it.invert=Sa,it.invertBy=jf,it.invokeMap=qb,it.iteratee=Jb,it.keyBy=Ub,it.keys=Bu,it.keysIn=S0,it.map=s_,it.mapKeys=eG,it.mapValues=l2,it.matches=_G,it.matchesProperty=ZL,it.memoize=$b,it.merge=oA,it.mergeWith=aA,it.method=dg,it.methodOf=f2,it.mixin=hA,it.negate=zb,it.nthArg=EG,it.omit=y3,it.omitBy=uA,it.once=AQ,it.orderBy=ife,it.over=b3,it.overArgs=m3,it.overEvery=pA,it.overSome=tk,it.partial=Hb,it.partialRight=_L,it.partition=gQ,it.pick=tG,it.pickBy=PL,it.property=Xb,it.propertyOf=nk,it.pull=I9,it.pullAll=Ib,it.pullAllBy=M9,it.pullAllWith=YN,it.pullAt=KN,it.range=rk,it.rangeRight=S3,it.rearg=EL,it.reject=hL,it.remove=Mb,it.rest=TQ,it.reverse=Pb,it.sampleSize=vQ,it.set=nG,it.setWith=v3,it.shuffle=_Q,it.slice=Bb,it.sortBy=bQ,it.sortedUniq=P9,it.sortedUniqBy=XW,it.split=dG,it.spread=FQ,it.tail=ZW,it.take=eL,it.takeRight=eQ,it.takeRightWhile=tQ,it.takeWhile=nQ,it.tap=oL,it.throttle=K9,it.thru=i_,it.toArray=RL,it.toPairs=Wb,it.toPairsIn=d_,it.toPath=xA,it.toPlainObject=b0,it.transform=jL,it.unary=bL,it.union=rQ,it.unionBy=tL,it.unionWith=iQ,it.uniq=nL,it.uniqBy=B9,it.uniqWith=sQ,it.unset=qL,it.unzip=j9,it.unzipWith=q9,it.update=UL,it.updateWith=rG,it.values=_3,it.valuesIn=iG,it.without=rL,it.words=m_,it.wrap=DQ,it.xor=U9,it.xorBy=oQ,it.xorWith=aQ,it.zip=iL,it.zipObject=sL,it.zipObjectDeep=uQ,it.zipWith=lQ,it.entries=Wb,it.entriesIn=d_,it.extend=NL,it.extendWith=sm,hA(it,it),it.add=sk,it.attempt=dA,it.camelCase=h_,it.capitalize=$c,it.ceil=CG,it.clamp=pc,it.clone=J9,it.cloneDeep=SL,it.cloneDeepWith=CL,it.cloneWith=X9,it.conformsTo=wL,it.deburr=zL,it.defaultTo=JL,it.divide=ok,it.endsWith=lA,it.eq=Xd,it.escape=oG,it.escapeRegExp=aG,it.every=V9,it.find=W9,it.findIndex=N9,it.findKey=iA,it.findLast=uL,it.findLastIndex=Ap,it.findLastKey=ja,it.floor=wG,it.forEach=mQ,it.forEachRight=fL,it.forIn=fg,it.forInRight=YQ,it.forOwn=KQ,it.forOwnRight=JQ,it.get=sA,it.gt=OQ,it.gte=NQ,it.has=ZQ,it.hasIn=f_,it.head=Lb,it.identity=qf,it.includes=Q9,it.indexOf=QN,it.inRange=$L,it.invoke=Rp,it.isArguments=s2,it.isArray=qs,it.isArrayBuffer=Z9,it.isArrayLike=E0,it.isArrayLikeObject=Mu,it.isBoolean=LQ,it.isBuffer=o2,it.isDate=kQ,it.isElement=IQ,it.isEmpty=MQ,it.isEqual=PQ,it.isEqualWith=BQ,it.isError=eA,it.isFinite=jQ,it.isFunction=rm,it.isInteger=AL,it.isLength=Vb,it.isMap=TL,it.isMatch=qQ,it.isMatchWith=UQ,it.isNaN=$Q,it.isNative=zQ,it.isNil=FL,it.isNull=HQ,it.isNumber=tA,it.isObject=nu,it.isObjectLike=Pu,it.isPlainObject=x3,it.isRegExp=u_,it.isSafeInteger=nA,it.isSet=rA,it.isString=l_,it.isSymbol=ld,it.isTypedArray=g3,it.isUndefined=VQ,it.isWeakMap=WQ,it.isWeakSet=DL,it.join=k9,it.kebabCase=HL,it.last=Jd,it.lastIndexOf=GN,it.lowerCase=Qb,it.lowerFirst=VL,it.lt=QQ,it.lte=GQ,it.max=AG,it.maxBy=gA,it.mean=ak,it.meanBy=TG,it.min=FG,it.minBy=DG,it.stubArray=mA,it.stubFalse=Zb,it.stubObject=ik,it.stubString=bG,it.stubTrue=e8,it.multiply=yA,it.nth=GW,it.noConflict=ek,it.noop=E3,it.now=o_,it.pad=uG,it.padEnd=lG,it.padStart=Gb,it.parseInt=c2,it.random=sG,it.reduce=nm,it.reduceRight=dL,it.repeat=cG,it.replace=fG,it.result=BL,it.round=uk,it.runInContext=nn,it.sample=yQ,it.size=pL,it.snakeCase=p_,it.some=EQ,it.sortedIndex=YW,it.sortedIndexBy=KW,it.sortedIndexOf=JN,it.sortedLastIndex=XN,it.sortedLastIndexBy=ZN,it.sortedLastIndexOf=JW,it.startCase=WL,it.startsWith=hG,it.subtract=lk,it.sum=RG,it.sumBy=OG,it.template=Zd,it.times=SG,it.toFinite=im,it.toInteger=eo,it.toLength=Dp,it.toLower=QL,it.toNumber=ul,it.toSafeInteger=OL,it.toString=Qo,it.toUpper=pG,it.trim=mG,it.trimEnd=cA,it.trimStart=xG,it.truncate=GL,it.unescape=fA,it.uniqueId=x_,it.upperCase=YL,it.upperFirst=Yb,it.each=mQ,it.eachRight=fL,it.first=Lb,hA(it,function(){var h={};return Pa(it,function(S,U){dr.call(it.prototype,U)||(h[U]=S)}),h}(),{chain:!1}),it.VERSION=e,Ps(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){it[h].placeholder=it}),Ps(["drop","take"],function(h,S){Qr.prototype[h]=function(U){U=U===n?1:Uo(eo(U),0);var me=this.__filtered__&&!S?new Qr(this):this.clone();return me.__filtered__?me.__takeCount__=Zo(U,me.__takeCount__):me.__views__.push({size:Zo(U,Ee),type:h+(me.__dir__<0?"Right":"")}),me},Qr.prototype[h+"Right"]=function(U){return this.reverse()[h](U).reverse()}}),Ps(["filter","map","takeWhile"],function(h,S){var U=S+1,me=U==ct||U==bt;Qr.prototype[h]=function(pt){var Wt=this.clone();return Wt.__iteratees__.push({iteratee:Dr(pt,3),type:U}),Wt.__filtered__=Wt.__filtered__||me,Wt}}),Ps(["head","last"],function(h,S){var U="take"+(S?"Right":"");Qr.prototype[h]=function(){return this[U](1).value()[0]}}),Ps(["initial","tail"],function(h,S){var U="drop"+(S?"":"Right");Qr.prototype[h]=function(){return this.__filtered__?new Qr(this):this[U](1)}}),Qr.prototype.compact=function(){return this.filter(qf)},Qr.prototype.find=function(h){return this.filter(h).head()},Qr.prototype.findLast=function(h){return this.reverse().find(h)},Qr.prototype.invokeMap=Fs(function(h,S){return typeof h=="function"?new Qr(this):this.map(function(U){return Nu(U,h,S)})}),Qr.prototype.reject=function(h){return this.filter(zb(Dr(h)))},Qr.prototype.slice=function(h,S){h=eo(h);var U=this;return U.__filtered__&&(h>0||S<0)?new Qr(U):(h<0?U=U.takeRight(-h):h&&(U=U.drop(h)),S!==n&&(S=eo(S),U=S<0?U.dropRight(-S):U.take(S-h)),U)},Qr.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},Qr.prototype.toArray=function(){return this.take(Ee)},Pa(Qr.prototype,function(h,S){var U=/^(?:filter|find|map|reject)|While$/.test(S),me=/^(?:head|last)$/.test(S),pt=it[me?"take"+(S=="last"?"Right":""):S],Wt=me||/^find/.test(S);!pt||(it.prototype[S]=function(){var _n=this.__wrapped__,Rn=me?[1]:arguments,Qn=_n instanceof Qr,Sr=Rn[0],Tr=Qn||qs(_n),Pr=function(Co){var Mo=pt.apply(it,Ro([Co],Rn));return me&&Ci?Mo[0]:Mo};Tr&&U&&typeof Sr=="function"&&Sr.length!=1&&(Qn=Tr=!1);var Ci=this.__chain__,Ji=!!this.__actions__.length,ys=Wt&&!Ci,xo=Qn&&!Ji;if(!Wt&&Tr){_n=xo?_n:new Qr(this);var bs=h.apply(_n,Rn);return bs.__actions__.push({func:i_,args:[Pr],thisArg:n}),new Li(bs,Ci)}return ys&&xo?h.apply(this,Rn):(bs=this.thru(Pr),ys?me?bs.value()[0]:bs.value():bs)})}),Ps(["pop","push","shift","sort","splice","unshift"],function(h){var S=ut[h],U=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",me=/^(?:pop|shift)$/.test(h);it.prototype[h]=function(){var pt=arguments;if(me&&!this.__chain__){var Wt=this.value();return S.apply(qs(Wt)?Wt:[],pt)}return this[U](function(_n){return S.apply(qs(_n)?_n:[],pt)})}}),Pa(Qr.prototype,function(h,S){var U=it[S];if(U){var me=U.name+"";dr.call(Z,me)||(Z[me]=[]),Z[me].push({name:S,func:U})}}),Z[Zs(n,j).name]=[{name:"wrapper",func:n}],Qr.prototype.clone=Ys,Qr.prototype.reverse=$o,Qr.prototype.value=va,it.prototype.at=fQ,it.prototype.chain=dQ,it.prototype.commit=Tp,it.prototype.next=hQ,it.prototype.plant=z9,it.prototype.reverse=H9,it.prototype.toJSON=it.prototype.valueOf=it.prototype.value=aL,it.prototype.first=it.prototype.head,f0&&(it.prototype[f0]=$9),it},Ts=No();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(us._=Ts,define(function(){return Ts})):ho?((ho.exports=Ts)._=Ts,so._=Ts):us._=Ts}).call($7)});var oD=Ae($5=>{"use strict";m();Object.defineProperty($5,"__esModule",{value:!0});$5.AndChain=$5.generateSQLStringLiteral=$5.indent=void 0;function Ptt(n){let e=/(^|\n)/g,t=/\n {2}$/;return n.replace(e,"$1  ").replace(t,`
`)}$5.indent=Ptt;function Btt(n){return`'${n.replace(/\\/g,"\\\\").replace(/'/g,"\\'")}'`}$5.generateSQLStringLiteral=Btt;var _j=class{constructor(e){this.clauses=[],e&&this.clauses.push(e)}clone(){let e=new _j;return e.addChain(this),e}add(e){return this.clauses.push(e),this}addChain(e){return this.clauses.push(...e.clauses),this}empty(){return this.clauses.length===0}present(){return this.clauses.length>0}sqlOr(){return this.empty()?"":this.clauses.map(e=>`(${e})`).join("OR ")+`
`}sql(e){if(this.empty())return"";let t="",r="";return e&&(t=e.toUpperCase()+" ",r=`
`),this.clauses.length===1?t+this.clauses[0]+r:t+this.clauses.map(i=>`(${i})`).join(`
AND `)+r}};$5.AndChain=_j});var aD=Ae(Ej=>{"use strict";m();Object.defineProperty(Ej,"__esModule",{value:!0});Ej.Dialect=void 0;var Ave=s1(),Tve=class{sqlFinalStage(e,t){throw new Error("Dialect has no final Stage but called Anyway")}sqlDateToString(e){return`CAST(DATE(${e}) AS ${this.stringTypeName} )`}ignoreInProject(e){return!1}getFunctionInfo(e){return this.functionInfo[e.toLowerCase()]}dialectExpr(e){switch(e.function){case"now":return this.sqlNow();case"timeDiff":return this.sqlMeasureTime(e.left,e.right,e.units);case"delta":return this.sqlAlterTime(e.op,e.base,e.delta,e.units);case"trunc":return this.sqlTrunc(e.expr,e.units);case"extract":return this.sqlExtract(e.expr,e.units);case"cast":return this.sqlCast(e);case"regexpMatch":return this.sqlRegexpMatch(e.expr,e.regexp);case"div":return this.divisionIsInteger?(0,Ave.mkExpr)`${e.numerator}*1.0/${e.denominator}`:(0,Ave.mkExpr)`${e.numerator}/${e.denominator}`;case"timeLiteral":return[this.sqlLiteralTime(e.literal,e.literalType,e.timezone)];case"stringLiteral":return[this.sqlLiteralString(e.literal)]}}sqlSumDistinct(e,t){return"sqlSumDistinct called bu not implemented"}sqlSampleTable(e,t){if(t!==void 0)throw new Error(`Sampling is not supported on dialect ${this.name}.`);return e}sqlOrderBy(e){return`ORDER BY ${e.join(",")}`}};Ej.Dialect=Tve});var Sj=Ae(bj=>{"use strict";m();Object.defineProperty(bj,"__esModule",{value:!0});bj.StandardSQLDialect=void 0;var Fve=oD(),dl=z7(),jtt=aD(),qtt={number:"float64"},Utt=["microsecond","millisecond","second","minute","hour","day"],$tt={day_of_week:"dayofweek",day_of_year:"dayofyear"},Dve=class extends jtt.Dialect{constructor(){super(...arguments);this.name="standardsql",this.defaultNumberType="FLOAT64",this.udfPrefix="__udf",this.hasFinalStage=!1,this.stringTypeName="STRING",this.divisionIsInteger=!1,this.supportsSumDistinctFunction=!1,this.unnestWithNumbers=!1,this.defaultSampling={enable:!1},this.supportUnnestArrayAgg=!1,this.supportsCTEinCoorelatedSubQueries=!1,this.functionInfo={timestamp_seconds:{returnType:"timestamp"},concat:{returnType:"string"}},this.keywords=`
  ALL
  AND
  ANY
  ARRAY
  AS
  ASC
  ASSERT_ROWS_MODIFIED
  AT
  BETWEEN
  BY
  CASE
  CAST
  COLLATE
  CONTAINS
  CREATE
  CROSS
  CUBE
  CURRENT
  DEFAULT
  DEFINE
  DESC
  DISTINCT
  ELSE
  END
  ENUM
  ESCAPE
  EXCEPT
  EXCLUDE
  EXISTS
  EXTRACT
  FALSE
  FETCH
  FOLLOWING
  FOR
  FROM
  FULL
  GROUP
  GROUPING
  GROUPS
  HASH
  HAVING
  IF
  IGNORE
  IN
  INNER
  INTERSECT
  INTERVAL
  INTO
  IS
  JOIN
  LATERAL
  LEFT
  LIKE
  LIMIT
  LOOKUP
  MERGE
  NATURAL
  NEW
  NO
  NOT
  NULL
  NULLS
  OF
  ON
  OR
  ORDER
  OUTER
  OVER
  PARTITION
  PRECEDING
  PROTO
  RANGE
  RECURSIVE
  RESPECT
  RIGHT
  ROLLUP
  ROWS
  SELECT
  SET
  SOME
  STRUCT
  TABLESAMPLE
  THEN
  TO
  TREAT
  TRUE
  UNBOUNDED
  UNION
  UNNEST
  USING
  WHEN
  WHERE
  WINDOW
  WITH
  WITHIN`.split(/\s/)}quoteTablePath(e){return`\`${e}\``}sqlGroupSetTable(e){return`CROSS JOIN (SELECT row_number() OVER() -1  group_set FROM UNNEST(GENERATE_ARRAY(0,${e},1)))`}sqlAnyValue(e,t){return`ANY_VALUE(CASE WHEN group_set=${e} THEN ${t} END)`}sqlAggregateTurtle(e,t,r,i){let s="";i!==void 0&&(s+=` LIMIT ${i}`);let o=t.map(a=>`
  ${a.sqlExpression} as ${a.sqlOutputName}`).join(", ");return`ARRAY_AGG(CASE WHEN group_set=${e} THEN STRUCT(${o}
  ) END IGNORE NULLS ${r} ${s})`}sqlAnyValueTurtle(e,t){let r=t.map(i=>`${i.sqlExpression} as ${i.sqlOutputName}`).join(", ");return`ANY_VALUE(CASE WHEN group_set=${e} THEN STRUCT(${r}))`}sqlAnyValueLastTurtle(e,t,r){return`ANY_VALUE(CASE WHEN group_set=${t} THEN ${e}__${t} END) as ${r}`}sqlCoaleseMeasuresInline(e,t){let r=t.map(s=>`${s.sqlExpression} as ${s.sqlOutputName}`).join(", "),i=t.map(s=>`NULL as ${s.sqlOutputName}`).join(", ");return`COALESCE(ANY_VALUE(CASE WHEN group_set=${e} THEN STRUCT(${r}) END), STRUCT(${i}))`}sqlUnnestAlias(e,t,r,i,s){return s?i?`LEFT JOIN UNNEST(ARRAY(( SELECT AS STRUCT row_number() over() as __row_id, value FROM UNNEST(${e}) value))) as ${t}`:`LEFT JOIN UNNEST(ARRAY((SELECT AS STRUCT value FROM unnest(${e}) value))) as ${t}`:i?`LEFT JOIN UNNEST(ARRAY(( SELECT AS STRUCT row_number() over() as __row_id, * FROM UNNEST(${e})))) as ${t}`:`LEFT JOIN UNNEST(${e}) as ${t}`}sqlSumDistinctHashedKey(e){e=`CAST(${e} AS STRING)`;let t=`cast(cast(concat('0x', substr(to_hex(md5(${e})), 1, 15)) as int64) as numeric) * 4294967296`,r=`cast(cast(concat('0x', substr(to_hex(md5(${e})), 16, 8)) as int64) as numeric)`;return`(${t} + ${r}) * 0.000000001`}sqlGenerateUUID(){return"GENERATE_UUID()"}sqlFieldReference(e,t,r,i,s){return`${e}.${t}`}sqlUnnestPipelineHead(e,t){let r=t;return e&&(r=`[${r}]`),`UNNEST(${r})`}sqlCreateFunction(e,t){return`CREATE TEMPORARY FUNCTION ${e}(__param ANY TYPE) AS ((
${(0,Fve.indent)(t)}));
`}sqlCreateTableAsSelect(e,t){return`
CREATE TABLE IF NOT EXISTS \`${e}\`
OPTIONS (
    expiration_timestamp=TIMESTAMP_ADD(current_timestamp(),  INTERVAL 1 hour)
)
AS (
${(0,Fve.indent)(t)}
);
`}sqlCreateFunctionCombineLastStage(e){return`SELECT ARRAY((SELECT AS STRUCT * FROM ${e}))
`}sqlSelectAliasAsStruct(e){return`(SELECT AS STRUCT ${e}.*)`}sqlMaybeQuoteIdentifier(e){return this.keywords.indexOf(e.toUpperCase())>0?"`"+e+"`":e}sqlNow(){return(0,dl.mkExpr)`CURRENT_TIMESTAMP()`}sqlTrunc(e,t){return e.valueType=="date"?(0,dl.isDateUnit)(t)?(0,dl.mkExpr)`DATE_TRUNC(${e.value},${t})`:(0,dl.mkExpr)`TIMESTAMP(${e.value})`:(0,dl.mkExpr)`TIMESTAMP_TRUNC(${e.value},${t})`}sqlExtract(e,t){let r=$tt[t]||t;return(0,dl.mkExpr)`EXTRACT(${r} FROM ${e.value})`}sqlAlterTime(e,t,r,i){let s=t.value,o=t.valueType;i!="day"&&Utt.includes(i)?(o="timestamp",t.valueType!="timestamp"&&(s=(0,dl.mkExpr)`TIMESTAMP(${s})`)):t.valueType=="timestamp"&&(s=(0,dl.mkExpr)`DATETIME(${s})`,o="datetime");let a=o.toUpperCase()+(e=="+"?"_ADD":"_SUB"),l=(0,dl.mkExpr)`${a}(${s}, INTERVAL ${r} ${i})`;return o=="datetime"?(0,dl.mkExpr)`TIMESTAMP(${l})`:l}ignoreInProject(e){return e==="_PARTITIONTIME"}sqlCast(e){if(e.srcType!==e.dstType){let t=qtt[e.dstType]||e.dstType;if(!e.safe&&e.srcType&&(0,dl.isTimeFieldType)(e.srcType))return t=="date"?(0,dl.mkExpr)`DATE(${e.expr})`:(0,dl.mkExpr)`TIMESTAMP(${e.expr})`;let r=e.safe?"SAFE_CAST":"CAST";return(0,dl.mkExpr)`${r}(${e.expr}  AS ${t})`}return e.expr}sqlRegexpMatch(e,t){return(0,dl.mkExpr)`REGEXP_CONTAINS(${e}, r${t})`}sqlLiteralTime(e,t,r){if(t==="date")return`DATE('${e}')`;if(t==="timestamp")return`TIMESTAMP('${e}', '${r}')`;throw new Error(`Unknown Liternal time format ${t}`)}sqlMeasureTime(e,t,r){let i=e.value,s=t.value,o="TIMESTAMP_DIFF";return r=="second"||r=="minute"||r=="hour"?(e.valueType!="timestamp"&&(i=(0,dl.mkExpr)`TIMESTAMP(${i})`),t.valueType!="timestamp"&&(s=(0,dl.mkExpr)`TIMESTAMP(${s})`)):(o="DATE_DIFF",e.valueType!="date"&&(i=(0,dl.mkExpr)`DATE(${i})`),t.valueType!="date"&&(s=(0,dl.mkExpr)`DATE(${s})`)),(0,dl.mkExpr)`${o}(${s}, ${i}, ${r})`}sqlSampleTable(e,t){if(t!==void 0){if((0,dl.isSamplingEnable)(t)&&t.enable&&(t=this.defaultSampling),(0,dl.isSamplingRows)(t))throw new Error("StandardSQL doesn't support sampling by rows only percent");if((0,dl.isSamplingPercent)(t))return`(SELECT * FROM ${e}  TABLESAMPLE SYSTEM (${t.percent} PERCENT))`}return e}sqlLiteralString(e){let t=e.replace(/\\/g,"\\\\");return"'"+t.replace(/'/g,"\\'")+"'"}};bj.StandardSQLDialect=Dve});var Dte=Ae(Cj=>{"use strict";m();Object.defineProperty(Cj,"__esModule",{value:!0});Cj.PostgresDialect=void 0;var ztt=oD(),ou=z7(),Htt=aD(),Vtt={number:"double precision",string:"varchar"},Wtt={day_of_week:"dow",day_of_year:"doy"},Qtt={year:"years",month:"months",week:"weeks",day:"days",hour:"hours",minute:"mins",second:"secs"},Rve={second:1,minute:60,hour:3600},Ove=class extends Htt.Dialect{constructor(){super(...arguments);this.name="postgres",this.defaultNumberType="DOUBLE PRECISION",this.udfPrefix="pg_temp.__udf",this.hasFinalStage=!0,this.stringTypeName="VARCHAR",this.divisionIsInteger=!0,this.supportsSumDistinctFunction=!1,this.unnestWithNumbers=!1,this.defaultSampling={rows:5e4},this.supportUnnestArrayAgg=!0,this.supportsCTEinCoorelatedSubQueries=!0,this.functionInfo={concat:{returnType:"string"}}}quoteTablePath(e){return e.split(".").map(t=>`"${t}"`).join(".")}sqlGroupSetTable(e){return`CROSS JOIN GENERATE_SERIES(0,${e},1) as group_set`}sqlAnyValue(e,t){return`MAX(${t})`}mapFields(e){return e.map(t=>`
  ${t.sqlExpression}${t.type=="number"?`::${this.defaultNumberType}`:""} as ${t.sqlOutputName}`).join(", ")}sqlAggregateTurtle(e,t,r,i){let s="";return i!==void 0&&(s+=`[1:${i}]`),`COALESCE(TO_JSONB((ARRAY_AGG((SELECT TO_JSONB(__x) FROM (SELECT ${this.mapFields(t)}
  ) as __x) ${r} ) FILTER (WHERE group_set=${e}))${s}),'[]'::JSONB)`}sqlAnyValueTurtle(e,t){let r=t.map(i=>`${i.sqlExpression} as ${i.sqlOutputName}`).join(", ");return`ANY_VALUE(CASE WHEN group_set=${e} THEN STRUCT(${r}))`}sqlAnyValueLastTurtle(e,t,r){return`(ARRAY_AGG(${e}__${t}) FILTER (WHERE group_set=${t} AND ${e}__${t} IS NOT NULL))[1] as ${r}`}sqlCoaleseMeasuresInline(e,t){return`TO_JSONB((ARRAY_AGG((SELECT __x FROM (SELECT ${this.mapFields(t)}) as __x)) FILTER (WHERE group_set=${e}))[1])`}sqlUnnestAlias(e,t,r,i,s){return s?i?`LEFT JOIN UNNEST(ARRAY((SELECT jsonb_build_object('__row_id', row_number() over (), 'value', v) FROM UNNEST(${e}) as v))) as ${t} ON true`:`LEFT JOIN UNNEST(ARRAY((SELECT jsonb_build_object('value', v) FROM UNNEST(${e}) as v))) as ${t} ON true`:i?`LEFT JOIN UNNEST(ARRAY((SELECT jsonb_build_object('__row_number', row_number() over())|| __xx::jsonb as b FROM  JSONB_ARRAY_ELEMENTS(${e}) __xx ))) as ${t} ON true`:`LEFT JOIN JSONB_ARRAY_ELEMENTS(${e}) as ${t} ON true`}sqlSumDistinctHashedKey(e){return`('x' || MD5(${e}::varchar))::bit(64)::bigint::DECIMAL(65,0)  *18446744073709551616 + ('x' || SUBSTR(MD5(${e}::varchar),17))::bit(64)::bigint::DECIMAL(65,0)`}sqlGenerateUUID(){return"GEN_RANDOM_UUID()"}sqlFieldReference(e,t,r,i,s){let o=`${e}->>'${t}'`;if(i){switch(r){case"string":break;case"number":o=`(${o})::double precision`;break;case"struct":o=`(${o})::jsonb`;break}return o}else return`${e}."${t}"`}sqlUnnestPipelineHead(e,t){return e?`UNNEST(ARRAY((SELECT ${t})))`:`JSONB_ARRAY_ELEMENTS(${t})`}sqlCreateFunction(e,t){return`CREATE FUNCTION ${e}(JSONB) RETURNS JSONB AS $$
${(0,ztt.indent)(t)}
$$ LANGUAGE SQL;
`}sqlCreateFunctionCombineLastStage(e){return`SELECT JSONB_AGG(__stage0) FROM ${e}
`}sqlFinalStage(e,t){return`SELECT row_to_json(finalStage) as row FROM ${e} AS finalStage`}sqlSelectAliasAsStruct(e){return`ROW(${e})`}sqlMaybeQuoteIdentifier(e){return`"${e}"`}sqlCreateTableAsSelect(e,t){throw new Error("Not implemented Yet")}sqlNow(){return(0,ou.mkExpr)`CURRENT_TIMESTAMP`}sqlTrunc(e,t){let r=t=="week",i=r?(0,ou.mkExpr)`${e.value}+interval'1'day`:e.value,s=(0,ou.mkExpr)`DATE_TRUNC('${t}', ${i})`;return r?(0,ou.mkExpr)`(${s}-interval'1'day)`:s}sqlExtract(e,t){let r=Wtt[t]||t,i=(0,ou.mkExpr)`EXTRACT(${r} FROM ${e.value})`;return t=="day_of_week"?(0,ou.mkExpr)`(${i}+1)`:i}sqlAlterTime(e,t,r,i){i=="quarter"&&(i="month",r=(0,ou.mkExpr)`${r}*3`);let s=(0,ou.mkExpr)`make_interval(${Qtt[i]}=>${r})`;return(0,ou.mkExpr)`((${t.value})${e}${s})`}sqlCast(e){if(e.dstType!==e.srcType){let t=Vtt[e.dstType]||e.dstType;return(0,ou.mkExpr)`cast(${e.expr} as ${t})`}return e.expr}sqlRegexpMatch(e,t){return(0,ou.mkExpr)`(${e} ~ ${t})`}sqlLiteralTime(e,t,r){if(t=="date")return`DATE('${e}')`;if(t=="timestamp")return`TIMESTAMP '${e}'`;throw new Error(`Unknown Literal time format ${t}`)}getFunctionInfo(e){return this.functionInfo[e]}sqlMeasureTime(e,t,r){let i=e.value,s=t.value;if(Rve[r]){i=(0,ou.mkExpr)`EXTRACT(EPOCH FROM ${i})`,s=(0,ou.mkExpr)`EXTRACT(EPOCH FROM ${s})`;let a=(0,ou.mkExpr)`(${s} - ${i})`;return r=="second"?a:(0,ou.mkExpr)`TRUNC(${a}/${Rve[r].toString()})`}if(r==="day")return(0,ou.mkExpr)`${s}::date - ${i}::date`;let o=(0,ou.mkExpr)`(DATE_PART('year', ${s}) - DATE_PART('year', ${i}))`;if(r=="year")return o;if(r=="week"){let a=(0,ou.mkExpr)`(DATE_TRUNC('week', ${s} + '1 day'::interval)::date - DATE_TRUNC('week', ${i} + '1 day'::interval)::date)`;return(0,ou.mkExpr)`${a} / 7`}if(r=="month"){let a=(0,ou.mkExpr)`DATE_PART('month', ${s}) - DATE_PART('month', ${i})`;return(0,ou.mkExpr)`${o} * 12 + ${a}`}if(r=="quarter"){let a=(0,ou.mkExpr)`DATE_PART('quarter', ${s}) - DATE_PART('quarter', ${i})`;return(0,ou.mkExpr)`${o} * 4 + ${a}`}throw new Error(`Unknown or unhandled postgres time unit: ${r}`)}sqlSumDistinct(e,t){return`(
      SELECT sum((a::json->>'f2')::DOUBLE PRECISION) as value
      FROM (
        SELECT UNNEST(array_agg(distinct row_to_json(row(${e},${t}))::text)) a
      ) a
    )`}sqlSampleTable(e,t){if(t!==void 0){if((0,ou.isSamplingEnable)(t)&&t.enable&&(t=this.defaultSampling),(0,ou.isSamplingRows)(t))return`(SELECT * FROM ${e} TABLESAMPLE SYSTEM_ROWS(${t.rows}))`;if((0,ou.isSamplingPercent)(t))return`(SELECT * FROM ${e} TABLESAMPLE SYSTEM (${t.percent}))`}return e}sqlOrderBy(e){return`ORDER BY ${e.map(t=>`${t} NULLS LAST`).join(",")}`}sqlLiteralString(e){return"'"+e.replace(/'/g,"''")+"'"}};Cj.PostgresDialect=Ove});var Ive=Ae(wj=>{"use strict";m();Object.defineProperty(wj,"__esModule",{value:!0});wj.DuckDBDialect=void 0;var Su=z7(),Gtt=oD(),Ytt=aD(),Nve="-- hack: split on this",hAt=`
ALL
ANALYSE
ANALYZE
AND
ANY
ARRAY
AS
ASC_P
ASYMMETRIC
BOTH
CASE
CAST
CHECK_P
COLLATE
COLUMN
CONSTRAINT
CREATE_P
CURRENT_CATALOG
CURRENT_DATE
CURRENT_ROLE
CURRENT_TIME
CURRENT_TIMESTAMP
CURRENT_USER
DEFAULT
DEFERRABLE
DESC_P
DISTINCT
DO
ELSE
END_P
EXCEPT
FALSE_P
FETCH
FOR
FOREIGN
FROM
GRANT
GROUP_P
HAVING
IN_P
INITIALLY
INTERSECT
INTO
LATERAL_P
LEADING
LIMIT
LOCALTIME
LOCALTIMESTAMP
NOT
NULL_P
OFFSET
ON
ONLY
OR
ORDER
PLACING
PRIMARY
REFERENCES
RETURNING
SELECT
SESSION_USER
SOME
SYMMETRIC
TABLE
THEN
TO
TRAILING
TRUE_P
UNION
UNIQUE
USER
USING
VARIADIC
WHEN
WHERE
WINDOW
WITH
`.split(/\s/),Ktt={number:"double precision",string:"varchar"},Jtt={day_of_week:"dow",day_of_year:"doy"},Lve={second:1,minute:60,hour:3600},kve=class extends Ytt.Dialect{constructor(){super(...arguments);this.name="duckdb",this.defaultNumberType="DOUBLE",this.hasFinalStage=!1,this.stringTypeName="VARCHAR",this.divisionIsInteger=!0,this.supportsSumDistinctFunction=!0,this.unnestWithNumbers=!0,this.defaultSampling={rows:5e4},this.supportUnnestArrayAgg=!0,this.supportsCTEinCoorelatedSubQueries=!0,this.functionInfo={concat:{returnType:"string"}}}get udfPrefix(){return`__udf${Math.floor(Math.random()*1e5)}`}quoteTablePath(e){return e.match(/\//)?`'${e}'`:e}sqlGroupSetTable(e){return`CROSS JOIN (SELECT UNNEST(GENERATE_SERIES(0,${e},1)) as group_set  ) as group_set`}sqlAnyValue(e,t){return`FIRST(${t}) FILTER (WHERE ${t} IS NOT NULL)`}mapFields(e){return e.join(", ")}sqlAggregateTurtle(e,t,r,i){let s="";return i!==void 0&&(s+=`[1:${i}]`),`COALESCE(LIST({${t.map(a=>`
  ${a.sqlOutputName}: ${a.sqlExpression}`).join(", ")}} ${r}) FILTER (WHERE group_set=${e})${s},[])`}sqlAnyValueTurtle(e,t){let r=t.map(i=>`${i.sqlExpression} as ${i.sqlOutputName}`).join(", ");return`ANY_VALUE(CASE WHEN group_set=${e} THEN ROW(${r}))`}sqlAnyValueLastTurtle(e,t,r){return`MAX(CASE WHEN group_set=${t} THEN ${e}__${t} END) as ${r}`}sqlCoaleseMeasuresInline(e,t){let r=t.map(s=>`${s.sqlOutputName}: ${s.sqlExpression} `).join(", "),i=t.map(s=>`${s.sqlOutputName}: NULL`).join(", ");return`COALESCE(FIRST({${r}}) FILTER(WHERE group_set=${e}), {${i}})`}sqlUnnestAlias(e,t,r,i){return`LEFT JOIN (select UNNEST(generate_series(1,
        100000, --
        -- (SELECT genres_length FROM movies limit 1),
        1)) as __row_id) as ${t} ON  ${t}.__row_id <= array_length(${e})`}sqlSumDistinctHashedKey(e){return"uses sumDistinctFunction, should not be called"}sqlGenerateUUID(){return"GEN_RANDOM_UUID()"}sqlDateToString(e){return`(${e})::date::varchar`}sqlFieldReference(e,t,r,i,s){return s?e:`${e}.${this.sqlMaybeQuoteIdentifier(t)}`}sqlUnnestPipelineHead(e,t){let r=t;return e&&(r=`[${r}]`),`(SELECT UNNEST(${r}) as base)`}sqlCreateFunction(e,t){return`DROP MACRO IF EXISTS ${e}; 
${Nve}
 CREATE MACRO ${e}(_param) AS (
${(0,Gtt.indent)(t)}
);
${Nve}
`}sqlCreateFunctionCombineLastStage(e,t){return`SELECT LIST(ROW(${t.fields.map(r=>this.sqlMaybeQuoteIdentifier((0,Su.getIdentifier)(r))).join(",")})) FROM ${e}
`}sqlSelectAliasAsStruct(e,t){return`ROW(${t.map(r=>`${e}.${r}`).join(", ")})`}sqlMaybeQuoteIdentifier(e){return'"'+e+'"'}sqlCreateTableAsSelect(e,t){throw new Error("Not implemented Yet")}getFunctionInfo(e){return this.functionInfo[e]}sqlMeasureTime(e,t,r){let i=e.value,s=t.value;if(Lve[r]){i=(0,Su.mkExpr)`EXTRACT(EPOCH FROM ${i})`,s=(0,Su.mkExpr)`EXTRACT(EPOCH FROM ${s})`;let o=(0,Su.mkExpr)`(${s} - ${i})`;return r=="second"?o:(0,Su.mkExpr)`FLOOR(${o}/${Lve[r].toString()})`}return e.valueType!="date"&&(i=(0,Su.mkExpr)`CAST((${i}) AS DATE)`),t.valueType!="date"&&(s=(0,Su.mkExpr)`CAST((${s}) AS DATE)`),r=="week"&&(i=(0,Su.mkExpr)`(${i} + INTERVAL 1 DAY)`,s=(0,Su.mkExpr)`(${s} + INTERVAL 1 DAY)`),(0,Su.mkExpr)`DATE_DIFF('${r}', ${i}, ${s})`}sqlNow(){return(0,Su.mkExpr)`CURRENT_TIMESTAMP::TIMESTAMP`}sqlTrunc(e,t){let r=t=="week",i=r?(0,Su.mkExpr)`${e.value} + INTERVAL 1 DAY`:e.value,s=(0,Su.mkExpr)`DATE_TRUNC('${t}', ${i})`;return r?(0,Su.mkExpr)`(${s} - INTERVAL 1 DAY)`:s}sqlExtract(e,t){let r=Jtt[t]||t,i=(0,Su.mkExpr)`EXTRACT(${r} FROM ${e.value})`;return t=="day_of_week"?(0,Su.mkExpr)`(${i}+1)`:i}sqlAlterTime(e,t,r,i){i=="quarter"&&(i="month",r=(0,Su.mkExpr)`${r}*3`),i=="week"&&(i="day",r=(0,Su.mkExpr)`${r}*7`);let s=(0,Su.mkExpr)`INTERVAL (${r}) ${i}`;return(0,Su.mkExpr)`((${t.value})) ${e} ${s}`}sqlCast(e){if(e.dstType!==e.srcType){let t=Ktt[e.dstType]||e.dstType;return(0,Su.mkExpr)`cast(${e.expr} as ${t})`}return e.expr}sqlRegexpMatch(e,t){return(0,Su.mkExpr)`REGEXP_MATCHES(${e}, ${t})`}sqlLiteralTime(e,t,r){if(t=="date")return`DATE '${e}'`;if(t=="timestamp")return`TIMESTAMP '${e}'`;throw new Error(`Unknown Literal time format ${t}`)}sqlSumDistinct(e,t){return`(
      SELECT sum(a.val) as value
      FROM (
        SELECT UNNEST(list(distinct {key:${e}, val: ${t}})) a
      )
    )`}sqlSampleTable(e,t){if(t!==void 0){if((0,Su.isSamplingEnable)(t)&&t.enable&&(t=this.defaultSampling),(0,Su.isSamplingRows)(t))return`(SELECT * FROM ${e} USING SAMPLE ${t.rows})`;if((0,Su.isSamplingPercent)(t))return`(SELECT * FROM ${e} USING SAMPLE ${t.percent} PERCENT (bernoulli))`}return e}sqlOrderBy(e){return`ORDER BY ${e.map(t=>`${t} NULLS LAST`).join(",")}`}sqlLiteralString(e){return"'"+e.replace(/'/g,"''")+"'"}};wj.DuckDBDialect=kve});var Pve=Ae(H7=>{"use strict";m();Object.defineProperty(H7,"__esModule",{value:!0});H7.registerDialect=H7.getDialect=void 0;var Xtt=Tj(),Ztt=Dte(),ent=Sj(),Mve=new Map;function tnt(n){let e=Mve.get(n);if(e===void 0)throw new Error(`Unknown Dialect ${n}`);return e}H7.getDialect=tnt;function Aj(n){Mve.set(n.name,n)}H7.registerDialect=Aj;Aj(new Ztt.PostgresDialect);Aj(new ent.StandardSQLDialect);Aj(new Xtt.DuckDBDialect)});var Tj=Ae(ph=>{"use strict";m();Object.defineProperty(ph,"__esModule",{value:!0});ph.registerDialect=ph.getDialect=ph.DuckDBDialect=ph.PostgresDialect=ph.StandardSQLDialect=ph.Dialect=void 0;var nnt=aD();Object.defineProperty(ph,"Dialect",{enumerable:!0,get:function(){return nnt.Dialect}});var rnt=Sj();Object.defineProperty(ph,"StandardSQLDialect",{enumerable:!0,get:function(){return rnt.StandardSQLDialect}});var int=Dte();Object.defineProperty(ph,"PostgresDialect",{enumerable:!0,get:function(){return int.PostgresDialect}});var snt=Ive();Object.defineProperty(ph,"DuckDBDialect",{enumerable:!0,get:function(){return snt.DuckDBDialect}});var Bve=Pve();Object.defineProperty(ph,"getDialect",{enumerable:!0,get:function(){return Bve.getDialect}});Object.defineProperty(ph,"registerDialect",{enumerable:!0,get:function(){return Bve.registerDialect}})});var qve=Ae((gAt,jve)=>{m();(function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(t,r){return t<<r|t>>>32-r},rotr:function(t,r){return t<<32-r|t>>>r},endian:function(t){if(t.constructor==Number)return e.rotl(t,8)&16711935|e.rotl(t,24)&4278255360;for(var r=0;r<t.length;r++)t[r]=e.endian(t[r]);return t},randomBytes:function(t){for(var r=[];t>0;t--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(t){for(var r=[],i=0,s=0;i<t.length;i++,s+=8)r[s>>>5]|=t[i]<<24-s%32;return r},wordsToBytes:function(t){for(var r=[],i=0;i<t.length*32;i+=8)r.push(t[i>>>5]>>>24-i%32&255);return r},bytesToHex:function(t){for(var r=[],i=0;i<t.length;i++)r.push((t[i]>>>4).toString(16)),r.push((t[i]&15).toString(16));return r.join("")},hexToBytes:function(t){for(var r=[],i=0;i<t.length;i+=2)r.push(parseInt(t.substr(i,2),16));return r},bytesToBase64:function(t){for(var r=[],i=0;i<t.length;i+=3)for(var s=t[i]<<16|t[i+1]<<8|t[i+2],o=0;o<4;o++)i*8+o*6<=t.length*8?r.push(n.charAt(s>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],i=0,s=0;i<t.length;s=++i%4)s!=0&&r.push((n.indexOf(t.charAt(i-1))&Math.pow(2,-2*s+8)-1)<<s*2|n.indexOf(t.charAt(i))>>>6-s*2);return r}};jve.exports=e})()});var Ote=Ae((yAt,Uve)=>{m();var Rte={utf8:{stringToBytes:function(n){return Rte.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(Rte.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var e=[],t=0;t<n.length;t++)e.push(n.charCodeAt(t)&255);return e},bytesToString:function(n){for(var e=[],t=0;t<n.length;t++)e.push(String.fromCharCode(n[t]));return e.join("")}}};Uve.exports=Rte});var Hve=Ae((vAt,zve)=>{m();zve.exports=function(n){return n!=null&&($ve(n)||ont(n)||!!n._isBuffer)};function $ve(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function ont(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&$ve(n.slice(0,0))}});var Nte=Ae((_At,Vve)=>{m();(function(){var n=qve(),e=Ote().utf8,t=Hve(),r=Ote().bin,i=function(s,o){s.constructor==String?o&&o.encoding==="binary"?s=r.stringToBytes(s):s=e.stringToBytes(s):t(s)?s=Array.prototype.slice.call(s,0):!Array.isArray(s)&&s.constructor!==Uint8Array&&(s=s.toString());for(var a=n.bytesToWords(s),l=s.length*8,f=1732584193,p=-271733879,_=-1732584194,b=271733878,R=0;R<a.length;R++)a[R]=(a[R]<<8|a[R]>>>24)&16711935|(a[R]<<24|a[R]>>>8)&4278255360;a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var O=i._ff,j=i._gg,$=i._hh,L=i._ii,R=0;R<a.length;R+=16){var q=f,P=p,W=_,oe=b;f=O(f,p,_,b,a[R+0],7,-680876936),b=O(b,f,p,_,a[R+1],12,-389564586),_=O(_,b,f,p,a[R+2],17,606105819),p=O(p,_,b,f,a[R+3],22,-1044525330),f=O(f,p,_,b,a[R+4],7,-176418897),b=O(b,f,p,_,a[R+5],12,1200080426),_=O(_,b,f,p,a[R+6],17,-1473231341),p=O(p,_,b,f,a[R+7],22,-45705983),f=O(f,p,_,b,a[R+8],7,1770035416),b=O(b,f,p,_,a[R+9],12,-1958414417),_=O(_,b,f,p,a[R+10],17,-42063),p=O(p,_,b,f,a[R+11],22,-1990404162),f=O(f,p,_,b,a[R+12],7,1804603682),b=O(b,f,p,_,a[R+13],12,-40341101),_=O(_,b,f,p,a[R+14],17,-1502002290),p=O(p,_,b,f,a[R+15],22,1236535329),f=j(f,p,_,b,a[R+1],5,-165796510),b=j(b,f,p,_,a[R+6],9,-1069501632),_=j(_,b,f,p,a[R+11],14,643717713),p=j(p,_,b,f,a[R+0],20,-373897302),f=j(f,p,_,b,a[R+5],5,-701558691),b=j(b,f,p,_,a[R+10],9,38016083),_=j(_,b,f,p,a[R+15],14,-660478335),p=j(p,_,b,f,a[R+4],20,-405537848),f=j(f,p,_,b,a[R+9],5,568446438),b=j(b,f,p,_,a[R+14],9,-1019803690),_=j(_,b,f,p,a[R+3],14,-187363961),p=j(p,_,b,f,a[R+8],20,1163531501),f=j(f,p,_,b,a[R+13],5,-1444681467),b=j(b,f,p,_,a[R+2],9,-51403784),_=j(_,b,f,p,a[R+7],14,1735328473),p=j(p,_,b,f,a[R+12],20,-1926607734),f=$(f,p,_,b,a[R+5],4,-378558),b=$(b,f,p,_,a[R+8],11,-2022574463),_=$(_,b,f,p,a[R+11],16,1839030562),p=$(p,_,b,f,a[R+14],23,-35309556),f=$(f,p,_,b,a[R+1],4,-1530992060),b=$(b,f,p,_,a[R+4],11,1272893353),_=$(_,b,f,p,a[R+7],16,-155497632),p=$(p,_,b,f,a[R+10],23,-1094730640),f=$(f,p,_,b,a[R+13],4,681279174),b=$(b,f,p,_,a[R+0],11,-358537222),_=$(_,b,f,p,a[R+3],16,-722521979),p=$(p,_,b,f,a[R+6],23,76029189),f=$(f,p,_,b,a[R+9],4,-640364487),b=$(b,f,p,_,a[R+12],11,-421815835),_=$(_,b,f,p,a[R+15],16,530742520),p=$(p,_,b,f,a[R+2],23,-995338651),f=L(f,p,_,b,a[R+0],6,-198630844),b=L(b,f,p,_,a[R+7],10,1126891415),_=L(_,b,f,p,a[R+14],15,-1416354905),p=L(p,_,b,f,a[R+5],21,-57434055),f=L(f,p,_,b,a[R+12],6,1700485571),b=L(b,f,p,_,a[R+3],10,-1894986606),_=L(_,b,f,p,a[R+10],15,-1051523),p=L(p,_,b,f,a[R+1],21,-2054922799),f=L(f,p,_,b,a[R+8],6,1873313359),b=L(b,f,p,_,a[R+15],10,-30611744),_=L(_,b,f,p,a[R+6],15,-1560198380),p=L(p,_,b,f,a[R+13],21,1309151649),f=L(f,p,_,b,a[R+4],6,-145523070),b=L(b,f,p,_,a[R+11],10,-1120210379),_=L(_,b,f,p,a[R+2],15,718787259),p=L(p,_,b,f,a[R+9],21,-343485551),f=f+q>>>0,p=p+P>>>0,_=_+W>>>0,b=b+oe>>>0}return n.endian([f,p,_,b])};i._ff=function(s,o,a,l,f,p,_){var b=s+(o&a|~o&l)+(f>>>0)+_;return(b<<p|b>>>32-p)+o},i._gg=function(s,o,a,l,f,p,_){var b=s+(o&l|a&~l)+(f>>>0)+_;return(b<<p|b>>>32-p)+o},i._hh=function(s,o,a,l,f,p,_){var b=s+(o^a^l)+(f>>>0)+_;return(b<<p|b>>>32-p)+o},i._ii=function(s,o,a,l,f,p,_){var b=s+(a^(o|~l))+(f>>>0)+_;return(b<<p|b>>>32-p)+o},i._blocksize=16,i._digestsize=16,Vve.exports=function(s,o){if(s==null)throw new Error("Illegal argument "+s);var a=n.wordsToBytes(i(s,o));return o&&o.asBytes?a:o&&o.asString?r.bytesToString(a):n.bytesToHex(a)}})()});var Mte=Ae(W2=>{"use strict";m();var ant=W2&&W2.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(W2,"__esModule",{value:!0});W2.flattenQuery=W2.QueryModel=W2.Segment=void 0;var Wve=sD(),unt=Sj(),lnt=Tj(),ko=s1(),o1=oD(),cnt=ant(Nte());function Lte(n){return`'${n}'`}var V7=class{constructor(e=!0,t){this.withs=[],this.udfs=[],this.pdts=[],this.stagePrefix="__stage",this.parent=t,this.useCTE=e}getName(e){return`${this.stagePrefix}${e}`}root(){return this.parent===void 0?this:this.parent.root()}addStage(e){return this.useCTE?(this.withs.push(e),this.getName(this.withs.length-1)):(this.withs[0]=e,(0,o1.indent)(`
(${e})
`))}addUDF(e,t,r){let{sql:i,lastStageName:s}=e.combineStages(!0);if(s===void 0)throw new Error("Internal Error: no stage to combine");i+=t.sqlCreateFunctionCombineLastStage(s,r);let o=`${t.udfPrefix}${this.root().udfs.length}`;return i=t.sqlCreateFunction(o,i),this.root().udfs.push(i),o}addPDT(e,t){let r=this.combineStages(!1).sql+this.withs[this.withs.length-1],i="scratch."+e+(0,cnt.default)(r);return this.root().pdts.push(t.sqlCreateTableAsSelect(i,r)),i}combineStages(e){if(!this.useCTE)return{sql:this.withs[0],lastStageName:this.withs[0]};let t=this.getName(0),r="WITH ",i="";for(let s=0;s<this.withs.length-(e?0:1);s++){let o=this.withs[s];if(t=this.getName(s),o===void 0)throw new Error(`Expected sql WITH to be present for stage ${t}.`);i+=`${r}${t} AS (
${(0,o1.indent)(o)})
`,r=", "}return{sql:i,lastStageName:t}}generateSQLStages(){let e=this.withs.length-1;if(e<0)throw new Error("No SQL generated");let t=this.udfs.join(`
`),r=this.pdts.join(`
`),i=this.combineStages(!1).sql;return t+r+i+this.withs[e]}generateCoorelatedSubQuery(e,t){return this.useCTE?this.combineStages(!0).sql+e.sqlCreateFunctionCombineLastStage(this.getName(this.withs.length-1),t):e.sqlCreateFunctionCombineLastStage(`(${this.withs[0]})`,t)}},W7=class{constructor(){this.totalGroupSet=-1}withWhere(e){let t=new W7;return t.whereSQL=e,t.applyValue=this.applyValue,t.totalGroupSet=this.totalGroupSet,t}withApply(e){let t=new W7;return t.whereSQL=this.whereSQL,t.applyValue=e,t.totalGroupSet=this.totalGroupSet,t}withTotal(e){let t=new W7;return t.whereSQL=this.whereSQL,t.applyValue=this.applyValue,t.totalGroupSet=e,t}},kte=class{constructor(e){this.fieldDef=e}getIdentifier(){return(0,ko.getIdentifier)(this.fieldDef)}getChildByName(e){}},uD=class extends kte{constructor(e,t){super(e);this.parent=t,this.fieldDef=e}mayNeedUniqueKey(){return!1}getJoinableParent(){let e=this.parent;if(e.fieldDef.structRelationship.type==="inline"){if(e)return e.getJoinableParent();throw new Error("Internal Error: inline struct cannot be root")}return e}caseGroup(e,t){return e.length===0?t:`CASE WHEN group_set${e.length===1?`=${e[0]}`:` IN (${e.join(",")})`} THEN
  ${t}
  END`}getFullOutputName(){return this.parent.getFullOutputName()+this.getIdentifier()}generateFieldFragment(e,t,r,i){let s=t.getFieldByName(r.path);if((0,ko.hasExpression)(s.fieldDef)){let o=this.generateExpressionFromExpr(e,s.parent,s.fieldDef.e,i);return o.match(/^\(.*\)$/)||(o=`(${o})`),o}else return s.generateExpression(e)}generateParameterFragment(e,t,r,i){let s=t.parameters()[r.path];if((0,ko.isValueParameter)(s)){if(s.value)return this.generateExpressionFromExpr(e,t,s.value,i)}else if(s.condition)return this.generateExpressionFromExpr(e,t,s.condition,i);throw new Error(`Can't generate SQL, no value for ${r.path}`)}generateFilterFragment(e,t,r,i){let s=new o1.AndChain(i.whereSQL);for(let o of r.filterList)s.add(this.generateExpressionFromExpr(e,t,o.expression,i.withWhere()));return this.generateExpressionFromExpr(e,t,r.e,i.withWhere(s.sql()))}generateDimFragment(e,t,r,i){let s=this.generateExpressionFromExpr(e,t,r.e,i);return i.whereSQL&&(s=`CASE WHEN ${i.whereSQL} THEN ${s} END`),s}generateUngroupedFragment(e,t,r,i){if(i.totalGroupSet!==-1)throw new Error("Already in ALL.  Cannot nest within an all calcuation.");let s,o;if(r.fields&&r.fields.length>0){let _=r.fields.sort().join("|")+r.type;if(o=e.ungroupedSets.get(_),o===void 0)throw new Error(`Internal Error, cannot find groupset with key ${_}`);s=o.groupSet}else s=e.parent?e.parent.groupSet:0;let a=this.generateExpressionFromExpr(e,t,r.e,i.withTotal(s)),l=e.getUngroupPartitions(o),f="",p=l.map(_=>_.getPartitionSQL()).join(", ");return p.length>0&&(f=`PARTITION BY ${p}`),`MAX(${a}) OVER (${f})`}generateDistinctKeyIfNecessary(e,t,r){let i=t;if(r&&(i=this.parent.root().getStructByName(r)),i.needsSymetricCalculation(e))return i.getDistinctKey().generateExpression(e)}generateSumFragment(e,t,r,i){let s=this.generateDimFragment(e,t,r,i),o=this.generateDistinctKeyIfNecessary(e,t,r.structPath),a;return o?this.parent.dialect.supportsSumDistinctFunction?a=this.parent.dialect.sqlSumDistinct(o,s):a=Jve(this.parent.dialect,s,o):a=`SUM(${s})`,`COALESCE(${a},0)`}generateSymmetricFragment(e,t,r,i){let s=this.generateDimFragment(e,t,r,i);return`${r.function==="count_distinct"?"count(distinct ":r.function+"("}${s})`}generateAvgFragment(e,t,r,i){let s=this.generateDimFragment(e,t,r,i),o=this.generateDistinctKeyIfNecessary(e,t,r.structPath);if(o){let a=o;i.whereSQL&&(a=`CASE WHEN ${i.whereSQL} THEN ${o} END`);let l;return this.parent.dialect.supportsSumDistinctFunction?l=this.parent.dialect.sqlSumDistinct(o,s):l=Jve(this.parent.dialect,s,o),`(${l})/NULLIF(COUNT(DISTINCT ${a}),0)`}else return`AVG(${s})`}generateCountFragment(e,t,r,i){let s="COUNT(",o="1",a=this.generateDistinctKeyIfNecessary(e,t,r.structPath);return a&&(s="COUNT(DISTINCT",o=a),i.whereSQL?`${s} CASE WHEN ${i.whereSQL} THEN ${o} END)`:`${s} ${o})`}generateDialect(e,t,r,i){return this.generateExpressionFromExpr(e,t,t.dialect.dialectExpr(r),i)}generateExpressionFromExpr(e,t,r,i=new W7){let s="";for(let o of r)if(typeof o=="string")s+=o;else if((0,ko.isFieldFragment)(o))s+=this.generateFieldFragment(e,t,o,i);else if((0,ko.isParameterFragment)(o))s+=this.generateParameterFragment(e,t,o,i);else if((0,ko.isFilterFragment)(o))s+=this.generateFilterFragment(e,t,o,i);else if((0,ko.isUngroupFragment)(o))s+=this.generateUngroupedFragment(e,t,o,i);else if((0,ko.isAggregateFragment)(o)){let a;if(o.function==="sum")a=this.generateSumFragment(e,t,o,i);else if(o.function==="avg")a=this.generateAvgFragment(e,t,o,i);else if(o.function==="count")a=this.generateCountFragment(e,t,o,i);else if(["count_distinct","min","max"].includes(o.function))a=this.generateSymmetricFragment(e,t,o,i);else throw new Error(`Internal Error: Unknown aggregate function ${o.function}`);if(e.root().isComplexQuery){let l=e.groupSet;i.totalGroupSet!==-1&&(l=i.totalGroupSet),s+=this.caseGroup([l],a)}else s+=a}else if((0,ko.isApplyFragment)(o)){let a=this.generateExpressionFromExpr(e,t,o.value,i);s+=this.generateExpressionFromExpr(e,t,o.to,i.withApply(a))}else if((0,ko.isApplyValue)(o))if(i.applyValue)s+=i.applyValue;else throw new Error("Internal Error: Partial application value referenced but not provided");else if(o.type=="dialect")s+=this.generateDialect(e,t,o,i);else throw new Error(`Internal Error: Unknown expression fragment ${JSON.stringify(o,void 0,2)}`);return s}getExpr(){return(0,ko.hasExpression)(this.fieldDef)?this.fieldDef.e:[this.parent.dialect.sqlFieldReference(this.parent.getSQLIdentifier(),this.fieldDef.name,this.fieldDef.type,this.parent.fieldDef.structSource.type==="nested"||this.parent.fieldDef.structSource.type==="inline"||this.parent.fieldDef.structSource.type==="sql"&&this.parent.fieldDef.structSource.method==="nested",this.parent.fieldDef.structRelationship.type==="nested"&&this.parent.fieldDef.structRelationship.isArray)]}generateExpression(e){return this.generateExpressionFromExpr(e,this.parent,this.getExpr())}};function x6(n){return n instanceof k0&&n.isAggregate()}function L0(n){return n instanceof k0&&!n.isAggregate()}var k0=class extends uD{includeInWildcard(){return!0}isAggregate(){return this.fieldDef.aggregate!==void 0&&this.fieldDef.aggregate===!0}getFilterList(){return[]}hasExpression(){return(0,ko.hasExpression)(this.fieldDef)}},Qve=class extends k0{},Gve=class extends k0{},Fj=class extends k0{},Dj=class extends k0{constructor(e,t,r){super(e,t);this.primaryKey=r}getName(){return(0,ko.getIdentifier)(this.fieldDef)}getAsJoinedStructDef(e){return{...this.parent.fieldDef,structRelationship:{type:"one",onExpression:[{type:"field",path:this.primaryKey},"=",{type:"field",path:e}]}}}},lD=class extends k0{generateExpression(e){let t=this.fieldDef;if(t.timeframe){let r=this.parent.dialect.sqlTrunc({value:this.getExpr(),valueType:"date"},t.timeframe);return this.generateExpressionFromExpr(e,this.parent,r)}else return super.generateExpression(e)}getChildByName(e){let t={...this.fieldDef,as:`${this.getIdentifier()}_${e}`,timeframe:e};return new lD(t,this.parent)}},cD=class extends k0{getChildByName(e){let t={...this.fieldDef,as:`${this.getIdentifier()}_${e}`,timeframe:e};return new cD(t,this.parent)}},Yve=class extends k0{generateExpression(e){var t;return this.parent.primaryKey()?this.parent.getPrimaryKeyField(this.fieldDef).generateExpression(e):this.parent.fieldDef.structSource.type==="nested"?`CONCAT(${(t=this.parent.parent)===null||t===void 0?void 0:t.getDistinctKey().generateExpression(e)}, 'x', ${this.parent.dialect.sqlFieldReference(this.parent.getIdentifier(),"__row_id","string",!0,!1)})`:this.parent.dialect.sqlFieldReference(this.parent.getIdentifier(),"__distinct_key","string",this.parent.fieldDef.structRelationship.type==="nested",!1)}includeInWildcard(){return!1}},Kve=9;function Jve(n,e,t){let r=9,i=n.sqlSumDistinctHashedKey(t),s=10**(r-Kve),a=`(${`
  (
    SUM(DISTINCT
      (CAST(ROUND(COALESCE(${e},0)*(${s}*1.0), ${Kve}) AS NUMERIC) +
      ${i}
    ))
    -
     SUM(DISTINCT ${i})
  )`}/(${s}*1.0))`;return a=`CAST(${a} as ${n.defaultNumberType})`,a}var I0=class{constructor(e,t,r){this.type="field",this.additionalGroupSets=[],this.f=e,this.fieldUsage=t,this.parent=r}root(){return this.parent.root()}getSQL(){let e=this.f.generateExpression(this.parent);return L0(this.f)&&(e=this.f.caseGroup(this.parent.childGroups.concat(this.additionalGroupSets),e)),e}getPartitionSQL(){return this.partitionSQL===void 0?this.getSQL():this.partitionSQL}},Sm=class{constructor(e,t){this.type="query",this.allFields=new Map,this.groupSet=0,this.depth=0,this.childGroups=[],this.hasHaving=!1,this.ungroupedSets=new Map,this.resultUsesUngrouped=!1,this.parent=t,this.turtleDef=e,this.firstSegment=e.pipeline[0]}addField(e,t,r){let i;if(i=this.allFields.get(e)){if(i.type==="query")throw new Error(`Redefinition of field ${t.fieldDef.name} as struct`);if(i.fieldUsage.type==="result"){if(r.type!=="result")return;throw new Error(`Ambiguous output field name '${t.fieldDef.name}'.`)}}this.add(e,new I0(t,r,this))}parentGroupSet(){return this.parent?this.parent.groupSet:0}add(e,t){this.allFields.set(e,t)}hasField(e){let t=this.allFields.get(e);return t!==void 0&&t instanceof I0}getField(e){let t=this.allFields.get(e);if(t===void 0)throw new Error(`Internal Error, field Not defined ${e}`);if(t instanceof I0)return t;throw new Error(`can't use a query here ${e}`)}getFieldByNumber(e){for(let[t,r]of this.allFields)if(r instanceof I0&&r.fieldUsage.type==="result"&&r.fieldUsage.resultIndex===e)return{name:t,fif:r};throw new Error(`Invalid Order By index '${e}`)}computeGroups(e,t){e===0&&this.resultUsesUngrouped&&this.root().computeOnlyGroups.push(e++);for(let[o,a]of this.ungroupedSets){let l=e++;a.groupSet=l,this.root().computeOnlyGroups.push(l)}this.groupSet=e++,this.depth=t;let r=t,i=!1,s=[this.groupSet];for(let[o,a]of this.allFields)if(a.type==="query"){let l=a;if(i=!0,l.firstSegment.type==="reduce"){let f=l.computeGroups(e,t+1);s=s.concat(f.children),e=f.nextGroupSetNumber,f.maxDepth>r&&(r=f.maxDepth)}}return this.childGroups=s,{nextGroupSetNumber:e,maxDepth:r,children:s,isComplex:i}}fields(e=void 0){let t=[];for(let r of this.allFields.values())r instanceof I0&&(e===void 0||e(r))&&t.push(r);return t}fieldNames(e){let t=[];for(let[r,i]of this.allFields)i instanceof I0&&(e===void 0||e(i))&&t.push(r);return t}getRepeatedResultType(){let e="inline_all_numbers";for(let t of this.fields())if(t.fieldUsage.type==="result"){if(L0(t.f))return"nested";t.f instanceof _f&&(e="inline")}return e}structs(){let e=[];for(let t of this.allFields.values())t instanceof Sm&&e.push(t);return e}selectStructs(e,t){t(this)&&e.push(this);for(let r of this.structs())r.selectStructs(e,t);return e}calculateDefaultOrderBy(){let e;for(let[t,r]of this.allFields)if(r instanceof I0&&r.fieldUsage.type==="result"){if(e||(e=r.fieldUsage.resultIndex),["date","timestamp"].indexOf(r.f.fieldDef.type)>-1)return[{dir:"desc",field:r.fieldUsage.resultIndex}];if(x6(r.f))return[{dir:"desc",field:r.fieldUsage.resultIndex}]}return e?[{dir:"asc",field:e}]:[]}addStructToJoin(e,t,r,i){var s;let o=e.getIdentifier();if(i.indexOf(o)!==-1)return;let a;if(a=this.root().joins.get(o)){a.mayNeedUniqueKey||(a.mayNeedUniqueKey=r);return}let l,f=(s=e.parent)===null||s===void 0?void 0:s.getJoinableParent();f&&(this.addStructToJoin(f,t,!1,i),l=this.root().joins.get(f.getIdentifier()));let p=e.fieldDef.structRelationship;(0,ko.isJoinOn)(p)&&e.parent&&p.onExpression!==void 0&&i.indexOf(o)===-1&&t.addDependantExpr(this,e.parent,p.onExpression,[...i,o]),(a=this.root().joins.get(o))||(a=new Zve(e,o,l),this.root().joins.set(o,a)),a.mayNeedUniqueKey||(a.mayNeedUniqueKey=r)}findJoins(e){for(let t of this.fields())this.addStructToJoin(t.f.getJoinableParent(),e,t.f.mayNeedUniqueKey(),[]);for(let t of this.structs())t.findJoins(e)}root(){if(this.parent)return this.parent.root();throw new Error("Internal Error, Null parent FieldInstanceResult")}getUngroupPartitions(e){let t=[],r=this,i=[],s=[];if(e===void 0||e.type==="all"){let a=(e==null?void 0:e.fields)||[];i=this.fields(l=>L0(l.f)&&l.fieldUsage.type==="result"&&a.indexOf(l.f.getIdentifier())===-1).map(l=>l.f.getIdentifier())}else i=e.fields;let o=!0;for(;r!==void 0;)(o||(e==null?void 0:e.type)==="exclude")&&(s=s.concat(r.fields(a=>L0(a.f)&&a.fieldUsage.type==="result").map(a=>a.f.getIdentifier()))),t=t.concat(r.fields(a=>L0(a.f)&&a.fieldUsage.type==="result"&&i.indexOf(a.f.getIdentifier())===-1)),r=r.parent,o=!1;for(let a of(e==null?void 0:e.fields)||[])if(s.indexOf(a)===-1)throw new Error(`${e==null?void 0:e.type}(): unknown field name "${a}" or name not in scope.`);return t}assignFieldsToGroups(){for(let[e,t]of this.ungroupedSets)for(let r of this.getUngroupPartitions(t))r.additionalGroupSets.push(t.groupSet);for(let e of this.structs())e.assignFieldsToGroups()}},Xve=class extends Sm{constructor(e){super(e,void 0);this.joins=new Map,this.havings=new o1.AndChain,this.isComplexQuery=!1,this.queryUsesUngrouped=!1,this.computeOnlyGroups=[],this.elimatedComputeGroups=!1}root(){return this}eliminateComputeGroupsSQL(){return this.elimatedComputeGroups||this.computeOnlyGroups.length==0?"":(this.elimatedComputeGroups=!0,`group_set NOT IN (${this.computeOnlyGroups.join(",")})`)}calculateSymmetricAggregates(){let e;for(let[t,r]of this.joins)if(r.parentRelationship()==="many_to_many")e="0never";else if(e===void 0)e=t;else if(r.parentRelationship()==="one_to_many"){let s=r.queryStruct;s.parent&&s.parent.getIdentifier()===e?e=t:e="0never"}for(let[t,r]of this.joins)r.leafiest=t===e;for(let[t,r]of this.joins)if(!r.leafiest&&r.mayNeedUniqueKey){let i=r;for(;i;)i.queryStruct.primaryKey()||(i.makeUniqueKey=!0),i.queryStruct.fieldDef.structRelationship.type==="nested"?i=i.parent:i=void 0}}},Zve=class{constructor(e,t,r){if(this.mayNeedUniqueKey=!1,this.makeUniqueKey=!1,this.leafiest=!1,this.children=[],this.queryStruct=e,this.parent=r,this.alias=t,r&&r.children.push(this),this.queryStruct.fieldDef.filterList)for(let i of this.queryStruct.fieldDef.filterList){this.joinFilterConditions=[];let s=new Fj({type:"boolean",name:"ignoreme",e:i.expression},this.queryStruct);this.joinFilterConditions.push(s)}}parentRelationship(){if(this.queryStruct.parent===void 0)return"root";switch(this.queryStruct.fieldDef.structRelationship.type){case"one":return"many_to_one";case"cross":return"many_to_many";case"many":return"one_to_many";case"nested":return"one_to_many";case"inline":return"one_to_one";default:throw new Error(`Internal error unknown relationship type to parent for ${this.queryStruct.fieldDef.name}`)}}getDialectFieldList(){let e=[];for(let t of this.queryStruct.fieldDef.fields.filter(ko.isPhysical))e.push({type:t.type,sqlExpression:(0,ko.getIdentifier)(t),sqlOutputName:(0,ko.getIdentifier)(t)});return e}},Ite=class extends uD{},e4e=class{static nextStructDef(e,t){let r=new _f(e,{model:new Rj(void 0)}),i={type:"turtle",name:"ignoreme",pipeline:[t]};return mh.makeQuery(i,r,new V7(!0,void 0)).getResultStructDef()}};W2.Segment=e4e;var mh=class extends uD{constructor(e,t,r){super(e,t);this.prepared=!1,this.maxDepth=0,this.maxGroupSet=0,this.fieldDef=e,this.rootResult=new Xve(e),this.stageWriter=r,this.firstSegment=e.pipeline[0]}static makeQuery(e,t,r=void 0){let i=t.flattenTurtleDef(e),s=t,o=i.pipeline[0];switch(r!==void 0&&(0,ko.isQuerySegment)(o)&&o.extendSource!==void 0&&(s=new _f({...t.fieldDef,fields:[...t.fieldDef.fields,...o.extendSource]},s.parent?{struct:s}:{model:s.model}),i={...i,pipeline:[{...o,extendSource:void 0},...i.pipeline.slice(1)]}),o.type){case"reduce":return new t4e(i,s,r);case"project":return new n4e(i,s,r);case"index":return new r4e(i,s,r)}}getFieldList(){switch(this.firstSegment.type){case"reduce":return this.firstSegment.fields;case"project":return this.firstSegment.fields;default:throw new Error(`Query contains no fields ${JSON.stringify(this.fieldDef)}`)}}expandField(e){let t,r;if(typeof e=="string")r=this.parent.getQueryFieldByName(e);else if("type"in e)r=this.parent.makeQueryField(e);else if("name"in e&&"as"in e){if(r=this.parent.getQueryFieldByName(e.name),t=r.fieldDef.as||e.as,r instanceof Dj)throw new Error("Syntax currently disallowed. Semantics up for discussion");let i;if(r instanceof mh){let s=(0,Wve.cloneDeep)(r.fieldDef);s.as=e.name,s.filterList=e.filterList,r=mh.makeQuery(s,this.parent)}else if(!(r instanceof cD||r instanceof lD)){i=[{type:"field",path:r.getFullOutputName()}],"filterList"in e&&e.filterList&&(i=[{type:"filterExpression",filterList:e.filterList,e:i}]);let s={type:r.fieldDef.type,name:e.as,e:i,aggregate:x6(r)};r=this.parent.makeQueryField(s)}}else throw new Error(`Unrecognized field definition ${JSON.stringify(e,void 0,2)}`);return t||(t=r.getIdentifier()),{as:t,field:r}}expandDependantField(e,t){this.expandField(t)}expandWildCardStruct(e,t,r=void 0){let i=[],s=[];for(let[o,a]of e.nameMap)a instanceof k0&&L0(a)&&a.includeInWildcard()&&!this.parent.dialect.ignoreInProject(a.fieldDef.name)&&(!r||r(a))?i.push(a.getFullOutputName()):a instanceof _f&&t&&s.push(a);for(let o of s)i=i.concat(this.expandWildCardStruct(o,t,r));return i}expandWildCards(e,t=void 0){let r=[];for(let i of e)if(typeof i!="string")r.push(i);else{let o=i.split(".");if(!o[o.length-1].startsWith("*"))r.push(i);else{let a=o.pop()==="**",l=this.parent,f;for(;o.length>0&&(f=o.shift());){let p=l.getChildByName(f);if(p===void 0)throw new Error(`Nested explore not found '${f}'`);if(p instanceof _f)l=p;else throw new Error(`'${f}' is not an explore object`)}r=r.concat(this.expandWildCardStruct(l,a,t))}}return r}addDependantPath(e,t,r,i,s){let o=t.getFieldByName(r),a;if(o instanceof uD)a=o.parent;else if(o instanceof _f)a=o;else throw new Error("Internal Error:  Unknown object type");e.root().addStructToJoin(a.getJoinableParent(),this,i,s)}addDependantExpr(e,t,r,i){for(let s of r)if((0,ko.isUngroupFragment)(s)){if(e.resultUsesUngrouped=!0,e.root().isComplexQuery=!0,e.root().queryUsesUngrouped=!0,s.fields&&s.fields.length>0){let o=s.fields.sort().join("|")+s.type;e.ungroupedSets.get(o)===void 0&&e.ungroupedSets.set(o,{type:s.type,fields:s.fields,groupSet:-1})}this.addDependantExpr(e,t,s.e,i)}else if((0,ko.isFieldFragment)(s)){let o=t.getDimensionOrMeasureByName(s.path);(0,ko.hasExpression)(o.fieldDef)?this.addDependantExpr(e,o.parent,o.fieldDef.e,i):e.root().addStructToJoin(o.parent.getJoinableParent(),this,!1,i)}else if((0,ko.isFilterFragment)(s))for(let o of s.filterList)this.addDependantExpr(e,t,o.expression,i);else if((0,ko.isDialectFragment)(s)){let o=[];switch(s.function){case"now":break;case"div":o.push(s.denominator),o.push(s.numerator);break;case"timeLiteral":break;case"stringLiteral":break;case"timeDiff":o.push(s.left.value,s.right.value);break;case"delta":o.push(s.base.value,s.delta);break;case"trunc":case"extract":o.push(s.expr.value);break;case"regexpMatch":case"cast":o.push(s.expr);break;default:throw new Error("Unknown dialect Fragment type.  Can't generate dependancies")}for(let a of o)this.addDependantExpr(e,t,a,i)}else(0,ko.isAggregateFragment)(s)&&((0,ko.isAsymmetricFragment)(s)&&(s.structPath?this.addDependantPath(e,t,s.structPath,!0,i):e.addStructToJoin(t,this,!0,i)),this.addDependantExpr(e,t,s.e,i))}addDependancies(e,t){(0,ko.hasExpression)(t.fieldDef)&&this.addDependantExpr(e,t.parent,t.fieldDef.e,[])}expandFields(e){let t=1;for(let r of this.expandWildCards(e.firstSegment.fields)){let{as:i,field:s}=this.expandField(r);if(s instanceof Ite||s instanceof mh){if(this.firstSegment.type==="project")throw new Error(`Turtled Queries cannot be used in PROJECT - '${s.fieldDef.name}'`);let o=new Sm(s.fieldDef,e);this.expandFields(o),e.add(i,o)}else if(s instanceof k0&&(e.addField(i,s,{resultIndex:t,type:"result"}),this.addDependancies(e,s),x6(s)&&this.firstSegment.type==="project"))throw new Error(`Aggregate Fields cannot be used in PROJECT - '${s.fieldDef.name}'`);t++}this.expandFilters(e)}expandFilters(e){if(e.firstSegment.filterList!==void 0){for(let t of e.firstSegment.filterList||[]){let r=this.parent;this.addDependantExpr(e,r,t.expression,[])}for(let t of e.root().joins.values()||[])for(let r of t.joinFilterConditions||[])r.fieldDef.type==="boolean"&&r.fieldDef.e&&this.addDependantExpr(e,r.parent,r.fieldDef.e,[])}}generateSQLFilters(e,t,r=void 0){let i=new o1.AndChain,s=r||e.firstSegment.filterList;if(s===void 0)return i;for(let o of s||[]){let a=this.parent;if(t==="having"&&o.aggregate||t==="where"&&!o.aggregate){let l=this.generateExpressionFromExpr(e,a,o.expression,void 0);i.add(l)}}return i}prepare(e){this.prepared||(this.expandFields(this.rootResult),this.rootResult.findJoins(this),this.rootResult.calculateSymmetricAggregates(),this.prepared=!0)}getResultMetadata(e){if(e instanceof I0){if(e.fieldUsage.type==="result"){let t=e.f.fieldDef,r,i=e.f.parent.getFullOutputName()+(t.name||t.as),s=t.code,o=[i];return x6(e.f)?(r=e.f.getFilterList(),{sourceField:i,sourceExpression:s,filterList:r,sourceClasses:o,fieldKind:"measure"}):L0(e.f)?{sourceField:i,sourceExpression:s,filterList:r,sourceClasses:o,fieldKind:"dimension"}:void 0}return}else if(e instanceof Sm){let t=e.turtleDef.name||e.turtleDef.as,r=t?[t]:[],i=e.firstSegment.filterList,s=e.turtleDef.pipeline[e.turtleDef.pipeline.length-1].limit;if(t)return{sourceField:t,filterList:i,sourceClasses:r,fieldKind:"struct",limit:s}}}getResultStructDef(e=this.rootResult,t=!0){let r=[],i;this.prepare(void 0);let s=0;for(let[o,a]of e.allFields){let l=this.getResultMetadata(a);if(a instanceof Sm){let{structDef:f}=this.generateTurtlePipelineSQL(a,new V7(!0,void 0),"<nosource>"),p=a.getRepeatedResultType()==="nested"?"nested":"inline";f.name=o,f.structRelationship={field:o,type:p,isArray:!1},f.structSource={type:p},f.resultMetadata=l,r.push(f)}else if(a instanceof I0&&a.fieldUsage.type==="result"){a.f instanceof Dj&&r.push(a.f.getAsJoinedStructDef(o)),L0(a.f)&&(s===0&&t?i=o:i=void 0,s++);let f=a.f.fieldDef.location;switch(a.f.fieldDef.type){case"boolean":case"string":r.push({name:o,type:a.f.fieldDef.type,resultMetadata:l,location:f});break;case"timestamp":{let p=a.f.fieldDef.timeframe;switch(p){case"year":case"month":case"week":case"quarter":case"day":r.push({name:o,type:"date",timeframe:p,resultMetadata:l,location:f});break;case"second":case"minute":case"hour":r.push({name:o,type:"timestamp",timeframe:p,resultMetadata:l,location:f});break;default:r.push({name:o,type:"timestamp",resultMetadata:l,location:f});break}break}case"date":{r.push({name:o,type:a.f.fieldDef.type,timeframe:a.f.fieldDef.timeframe,resultMetadata:l,location:f});break}case"number":r.push({name:o,numberType:a.f.fieldDef.numberType,type:"number",resultMetadata:l,location:f});break;default:throw new Error(`unknown Field Type in query ${JSON.stringify(a.f.fieldDef)}`)}}}return{fields:r,name:this.resultStage||"result",dialect:this.parent.dialect.name,primaryKey:i,structRelationship:{type:"basetable",connectionName:this.parent.connectionName},structSource:{type:"query_result"},resultMetadata:this.getResultMetadata(this.rootResult),type:"struct"}}generateSQLJoinBlock(e,t){let r="",i=t.queryStruct,s=i.fieldDef.structRelationship,o=i.structSourceSQL(e);if((0,ko.isJoinOn)(s)){t.makeUniqueKey&&(o=`(SELECT ${i.dialect.sqlGenerateUUID()} as __distinct_key, * FROM ${o})`);let a="";if(i.parent===void 0)throw new Error("Expected joined struct to have a parent.");s.onExpression?a=new Fj({type:"boolean",name:"ignoreme",e:s.onExpression},i.parent).generateExpression(this.rootResult):a="1=1";let l="",f;if(t.joinFilterConditions&&(f=t.joinFilterConditions.map(p=>p.generateExpression(this.rootResult))),t.children.length===0||f===void 0)f!==void 0&&f.length>=1&&(l=` AND (${f.join(" AND ")})`),r+=`LEFT JOIN ${o} AS ${t.alias}
  ON ${a}${l}
`;else{let p=`SELECT ${t.alias}.*`,_="";for(let b of t.children){_+=this.generateSQLJoinBlock(e,b);let R=(0,ko.getPhysicalFields)(b.queryStruct.fieldDef).map(O=>this.parent.dialect.sqlMaybeQuoteIdentifier(O.name));p+=`, ${this.parent.dialect.sqlSelectAliasAsStruct(b.alias,R)} AS ${b.alias}`}return p+=`
FROM ${o} AS ${t.alias}
${_}
WHERE ${f==null?void 0:f.join(" AND ")}
`,r+=`LEFT JOIN (
${(0,o1.indent)(p)}) AS ${t.alias}
  ON ${a}
`,r}}else if(s.type==="nested"){if(i.parent===void 0||t.parent===void 0)throw new Error("Internal Error, nested structure with no parent.");let a=this.parent.dialect.sqlFieldReference(i.parent.getSQLIdentifier(),s.field,"struct",i.parent.fieldDef.structRelationship.type==="nested",this.parent.fieldDef.structRelationship.type==="nested"&&this.parent.fieldDef.structRelationship.isArray);r+=`${this.parent.dialect.sqlUnnestAlias(a,t.alias,t.getDialectFieldList(),t.makeUniqueKey,s.isArray)}
`}else throw s.type==="inline"?new Error("Internal Error: inline structs should never appear in join trees"):new Error(`Join type not implemented ${JSON.stringify(i.fieldDef.structRelationship)}`);for(let a of t.children)r+=this.generateSQLJoinBlock(e,a);return r}generateSQLJoins(e){let t="",[[,r]]=this.rootResult.joins,i=r.queryStruct,s=i.structSourceSQL(e);if((0,ko.isIndexSegment)(this.firstSegment)&&(s=this.parent.dialect.sqlSampleTable(s,this.firstSegment.sample)),i.fieldDef.structRelationship.type==="basetable")r.makeUniqueKey&&(s=`(SELECT ${i.dialect.sqlGenerateUUID()} as __distinct_key, * FROM ${s} as x)`),t+=`FROM ${s} as ${this.parent.getIdentifier()}
`;else throw new Error("Internal Error, queries must start from a basetable");for(let a of r.children)t+=this.generateSQLJoinBlock(e,a);return t}genereateSQLOrderBy(e,t){let r="";if(this.firstSegment.type==="project"&&!e.orderBy)return"";let i=e.orderBy||t.calculateDefaultOrderBy(),s=[];for(let o of i)if(typeof o.field=="string"){let a=t.getField(o.field);if(a&&a.fieldUsage.type==="result")s.push(`${a.fieldUsage.resultIndex} ${o.dir||"ASC"}`);else throw new Error(`Unknown field in ORDER BY ${o.field}`)}else s.push(`${o.field} ${o.dir||"ASC"}`);return s.length>0&&(r=this.parent.dialect.sqlOrderBy(s)+`
`),r}generateSimpleSQL(e){let t="";t+=`SELECT 
`;let r=[];for(let[i,s]of this.rootResult.allFields){let o=s,a=this.parent.dialect.sqlMaybeQuoteIdentifier(i);o.fieldUsage.type==="result"&&r.push(` ${o.f.generateExpression(this.rootResult)} as ${a}`)}if(t+=(0,o1.indent)(r.join(`,
`))+`
`,t+=this.generateSQLJoins(e),t+=this.generateSQLFilters(this.rootResult,"where").sql("where"),this.firstSegment.type==="reduce"){let i=[];for(let s of this.rootResult.fields()){let o=s;o.fieldUsage.type==="result"&&L0(o.f)&&i.push(o.fieldUsage.resultIndex.toString())}i.length>0&&(t+=`GROUP BY ${i.join(",")}
`)}return t+=this.generateSQLFilters(this.rootResult,"having").sql("having"),t+=this.genereateSQLOrderBy(this.firstSegment,this.rootResult),this.firstSegment.limit&&(t+=`LIMIT ${this.firstSegment.limit}
`),this.resultStage=e.addStage(t),this.resultStage}generatePipelinedStages(e,t,r){if(e.length===0)return t;let i=e.map(s=>`${s.pipelineSQL} as ${s.sqlFieldName}
      `).join(`,
`);return r.addStage(`SELECT * replace (${i}) FROM ${t}
      `)}generateStage0Fields(e,t,r){for(let[s,o]of e.allFields){let a=this.parent.dialect.sqlMaybeQuoteIdentifier(`${s}__${e.groupSet}`);if(o instanceof I0){if(o.fieldUsage.type==="result"){let l=o.getSQL();if(L0(o.f)){if(this.parent.dialect.name==="standardsql"&&this.rootResult.queryUsesUngrouped)if(o.f.fieldDef.type==="number"){t.sql.push(`${l} as ${a}`);let f=`__lateral_join_bag.${a}_string`;t.sql.push(f),t.dimensionIndexes.push(t.fieldIndex++),t.lateralJoinSQLExpressions.push(`CAST(${l} as STRING) as ${a}_string`),o.partitionSQL=f}else{let f=`__lateral_join_bag.${a}`;o.partitionSQL=f,t.lateralJoinSQLExpressions.push(`${l} as ${a}`),t.sql.push(f)}else t.sql.push(`${l} as ${a}`);t.dimensionIndexes.push(t.fieldIndex++)}else x6(o.f)&&(t.sql.push(`${l} as ${a}`),t.fieldIndex++)}}else if(o instanceof Sm){if(o.firstSegment.type==="reduce")this.generateStage0Fields(o,t,r);else if(o.firstSegment.type==="project"){let l=this.generateTurtleSQL(o,r,a,t.outputPipelinedSQL);t.sql.push(`${l} as ${a}`),t.fieldIndex++}}}let i=this.generateSQLFilters(e,"having");i.empty()||(e.childGroups.length===1?e.root().havings.add(`(group_set<>${e.groupSet} OR (group_set=${e.groupSet} AND ${i.sql()}))`):(e.hasHaving=!0,t.sql.push(`CASE WHEN group_set=${e.groupSet} THEN CASE WHEN ${i.sql()} THEN 0 ELSE 1 END END as __delete__${e.groupSet}`),t.fieldIndex++))}generateSQLWhereChildren(e){let t=new o1.AndChain;for(let[,r]of e.allFields)if(r.type==="query"){let i=r,s=this.generateSQLFilters(i,"where");if(s.present()){let o=i.childGroups.join(",");t.add(`(group_set NOT IN (${o}) OR (group_set IN (${o}) AND ${s.sql()}))`)}t.addChain(this.generateSQLWhereChildren(i))}return t}generateSQLWhereTurtled(){let e=this.generateSQLFilters(this.rootResult,"where");return e.addChain(this.generateSQLWhereChildren(this.rootResult)),e.sql("where")}generateSQLHavingLimit(e,t){let r=[],i=this.rootResult.selectStructs([],s=>s.hasHaving);if(i.length>0)for(let s of i){let o=[],a=s;for(;a;){for(let l of a.fieldNames(f=>L0(f.f)))o.push(this.parent.dialect.sqlMaybeQuoteIdentifier(`${l}__${a.groupSet}`));a=a.parent}r.push(`MAX(CASE WHEN group_set IN (${s.childGroups.join(",")}) THEN __delete__${s.groupSet} END) OVER(partition by ${o.map(l=>`CAST(${l} AS ${this.parent.dialect.stringTypeName}) `).join(",")}) as __shaving__${s.groupSet}`)}if(i.length>0){t=e.addStage(`SELECT
  *,
  ${r.join(`,
  `)} 
FROM ${t}`);let s=new o1.AndChain;for(let o of i)s.add(`group_set IN (${o.childGroups.join(",")}) AND __shaving__${o.groupSet}=1`);t=e.addStage(`SELECT *
FROM ${t}
WHERE NOT (${s.sqlOr()})`)}return t}generateSQLStage0(e){let t=`SELECT
`,r=this.generateSQLJoins(e),i=this.generateSQLWhereTurtled(),s={dimensionIndexes:[1],fieldIndex:2,sql:["group_set"],lateralJoinSQLExpressions:[],groupsAggregated:[],outputPipelinedSQL:[]};if(this.generateStage0Fields(this.rootResult,s,e),this.firstSegment.type==="project")throw new Error("PROJECT cannot be used on queries with turtles");let o="GROUP BY "+s.dimensionIndexes.join(",")+`
`;r+=this.parent.dialect.sqlGroupSetTable(this.maxGroupSet)+`
`,t+=(0,o1.indent)(s.sql.join(`,
`))+`
`,s.lateralJoinSQLExpressions.length>0&&(r+=`LEFT JOIN UNNEST([STRUCT(${s.lateralJoinSQLExpressions.join(`,
`)})]) as __lateral_join_bag
`),t+=r+i+o+this.rootResult.havings.sql("having");let a=e.addStage(t);return this.resultStage=this.generateSQLHavingLimit(e,a),this.resultStage=this.generatePipelinedStages(s.outputPipelinedSQL,this.resultStage,e),this.resultStage}generateDepthNFields(e,t,r,i){let s=[];for(let[o,a]of t.allFields){let l=this.parent.dialect.sqlMaybeQuoteIdentifier(`${o}__${t.groupSet}`);if(a instanceof I0){if(a.fieldUsage.type==="result"){if(L0(a.f)){let f=this.caseGroup(t.groupSet>0?t.childGroups:[],l);r.sql.push(`${f} as ${l}`),r.dimensionIndexes.push(r.fieldIndex++)}else if(x6(a.f)){let f=this.parent.dialect.sqlAnyValue(t.groupSet,l);r.sql.push(`${f} as ${l}`),r.fieldIndex++}}}else if(a instanceof Sm&&!(a.depth>e))if(a.depth===e){let f=this.generateTurtleSQL(a,i,l,r.outputPipelinedSQL);r.groupsAggregated.push({fromGroup:a.groupSet,toGroup:t.groupSet}),s.push(a.groupSet),r.sql.push(`${f} as ${l}`),r.fieldIndex++}else this.generateDepthNFields(e,a,r,i)}if(r.groupsAggregated.length>0){r.sql[0]="CASE ";for(let o of r.groupsAggregated)r.sql[0]+=`WHEN group_set=${o.fromGroup} THEN ${o.toGroup} `;r.sql[0]+=" ELSE group_set END as group_set"}}generateSQLDepthN(e,t,r){let i=`SELECT 
`,s={dimensionIndexes:[1],fieldIndex:2,sql:["group_set"],lateralJoinSQLExpressions:[],groupsAggregated:[],outputPipelinedSQL:[]};this.generateDepthNFields(e,this.rootResult,s,t),i+=(0,o1.indent)(s.sql.join(`,
`))+`
`,i+=`FROM ${r}
`;let o=this.rootResult.eliminateComputeGroupsSQL();return o.length>0&&(i+=`WHERE ${o}
`),s.dimensionIndexes.length>0&&(i+=`GROUP BY ${s.dimensionIndexes.join(",")}
`),this.resultStage=t.addStage(i),this.resultStage=this.generatePipelinedStages(s.outputPipelinedSQL,this.resultStage,t),this.resultStage}genereateSQLCombineTurtles(e,t){let r=`SELECT
`,i=[],s=1,o=[],a=[];for(let[f,p]of this.rootResult.allFields){let _=this.parent.dialect.sqlMaybeQuoteIdentifier(f);p instanceof I0?p.fieldUsage.type==="result"&&(L0(p.f)?(i.push(this.parent.dialect.sqlMaybeQuoteIdentifier(`${f}__${this.rootResult.groupSet}`)+` as ${_}`),a.push(s++)):x6(p.f)&&(i.push(this.parent.dialect.sqlAnyValueLastTurtle(f,this.rootResult.groupSet,_)),s++)):p instanceof Sm&&(p.firstSegment.type==="reduce"?(i.push(`${this.generateTurtleSQL(p,e,_,o)} as ${_}`),s++):p.firstSegment.type==="project"&&(i.push(this.parent.dialect.sqlAnyValueLastTurtle(f,this.rootResult.groupSet,_)),s++))}r+=(0,o1.indent)(i.join(`,
`))+`
FROM ${t}
`;let l=this.rootResult.eliminateComputeGroupsSQL();return l.length>0&&(r+=`WHERE ${l}
`),a.length>0&&(r+=`GROUP BY ${a.join(",")}
`),r+=this.genereateSQLOrderBy(this.firstSegment,this.rootResult),this.firstSegment.limit&&(r+=`LIMIT ${this.firstSegment.limit}
`),this.resultStage=e.addStage(r),this.resultStage=this.generatePipelinedStages(o,this.resultStage,e),this.resultStage}generateTurtleSQL(e,t,r,i){let s=[],o="",a=e.firstSegment.limit,l=[],f,p=e.firstSegment.orderBy||e.calculateDefaultOrderBy();for(let $ of p)typeof $.field=="string"?f={name:$.field,fif:e.getField($.field)}:f=e.getFieldByNumber($.field),e.firstSegment.type==="reduce"?l.push(" "+this.parent.dialect.sqlMaybeQuoteIdentifier(`${f.name}__${e.groupSet}`)+` ${$.dir||"ASC"}`):e.firstSegment.type==="project"&&l.push(` ${f.fif.f.generateExpression(e)} ${$.dir||"ASC"}`);l.length>0&&(o=" "+this.parent.dialect.sqlOrderBy(l));for(let[$,L]of e.allFields){let q=this.parent.dialect.sqlMaybeQuoteIdentifier($);e.firstSegment.type==="reduce"&&(L instanceof Sm||L instanceof I0&&L.fieldUsage.type==="result")?s.push({type:L instanceof I0?L.f.fieldDef.type:"struct",sqlExpression:this.parent.dialect.sqlMaybeQuoteIdentifier(`${$}__${e.groupSet}`),sqlOutputName:q}):e.firstSegment.type==="project"&&L instanceof I0&&L.fieldUsage.type==="result"&&s.push({type:L.type,sqlExpression:L.f.generateExpression(e),sqlOutputName:q})}let _,b;(_=e.getRepeatedResultType())!=="nested"?_==="inline_all_numbers"?b=this.parent.dialect.sqlCoaleseMeasuresInline(e.groupSet,s):b=this.parent.dialect.sqlAnyValueTurtle(e.groupSet,s):b=this.parent.dialect.sqlAggregateTurtle(e.groupSet,s,o,a);let R=new V7(this.parent.dialect.supportsCTEinCoorelatedSubQueries,t),{structDef:O,pipeOut:j}=this.generateTurtlePipelineSQL(e,R,this.parent.dialect.supportUnnestArrayAgg?b:r);if(j!==void 0){let $=R.generateCoorelatedSubQuery(this.parent.dialect,O);this.parent.dialect.supportUnnestArrayAgg?b=`(${$})`:i.push({sqlFieldName:r,pipelineSQL:`(${$})`})}return b}generateTurtlePipelineSQL(e,t,r){let i=this.getResultStructDef(e,!1),s=e.getRepeatedResultType(),o=e.turtleDef.pipeline.length>1,a;if(o){let l=[...e.turtleDef.pipeline];l.shift();let f={type:"turtle",name:"starthere",pipeline:l};i.name=this.parent.dialect.sqlUnnestPipelineHead(s==="inline_all_numbers",r),i.structSource={type:"sql",method:"nested"};let p=new _f(i,{model:this.parent.getModel()});a=mh.makeQuery(f,p,t).generateSQLFromPipeline(t),i=a.outputStruct}return{structDef:i,pipeOut:a}}generateComplexSQL(e){let t=this.generateSQLStage0(e);if(this.maxDepth>1){let r=this.maxDepth;for(;r>1;)t=this.generateSQLDepthN(r,e,t),r--}return this.genereateSQLCombineTurtles(e,t)}generateSQL(e){var t;let r=this.rootResult.computeGroups(0,0);return this.maxDepth=r.maxDepth,this.maxGroupSet=r.nextGroupSetNumber-1,this.rootResult.assignFieldsToGroups(),(t=this.rootResult).isComplexQuery||(t.isComplexQuery=this.maxDepth>0||r.isComplex),this.rootResult.isComplexQuery?this.generateComplexSQL(e):this.generateSimpleSQL(e)}toMalloy(){let e=`EXPLORE ${(0,ko.getIdentifier)(this.parent.fieldDef)} | `;return e+=this.fieldDef.type.toUpperCase()+" ",e}generateSQLFromPipeline(e){this.prepare(e);let t=this.generateSQL(e),r=this.getResultStructDef();if(this.fieldDef.pipeline.length>1){let i=[...this.fieldDef.pipeline],s={...r,structSource:{type:"sql",method:"lastStage"}};i.shift();for(let o of i){let a=new _f(s,{model:this.parent.getModel()}),l=mh.makeQuery({type:"turtle",name:"ignoreme",pipeline:[o]},a,e);l.prepare(e),t=l.generateSQL(e),r=l.getResultStructDef(),s={...r,structSource:{type:"sql",method:"lastStage"}}}}return{lastStageName:t,outputStruct:r}}},t4e=class extends mh{},n4e=class extends mh{},r4e=class extends mh{constructor(e,t,r){super(e,t,r);this.fanPrefixes=[],this.fieldDef=e,this.findFanPrefexes(t)}findFanPrefexes(e){for(let[t,r]of e.nameMap)r instanceof _f&&(r.fieldDef.structRelationship.type==="many"||r.fieldDef.structRelationship.type==="nested")&&this.fanPrefixes.push(r.getFullOutputName())}expandField(e){let t=this.parent.getFieldByName(e);return{as:e,field:t}}expandFields(e){let t=1,r=e.groupSet;this.maxGroupSet=r;let i=this.firstSegment.fields||[];i.length===0&&i.push("**"),i=this.expandWildCards(i,o=>["string","number","timestamp","date"].indexOf(o.fieldDef.type)!==-1);for(let o of i){let{as:a,field:l}=this.expandField(o);e.addField(a,l,{resultIndex:t,type:"result"}),l instanceof k0&&this.addDependancies(e,l),t++}let s=this.firstSegment.weightMeasure;if(s!==void 0){let o=this.parent.getFieldByName(s);e.addField(s,o,{resultIndex:t,type:"result"}),this.addDependancies(e,o)}this.expandFilters(e)}generateSQL(e){let t="COUNT(*)",r=this.parent.dialect,i=r.sqlMaybeQuoteIdentifier("fieldName"),s=r.sqlMaybeQuoteIdentifier("fieldValue"),o=r.sqlMaybeQuoteIdentifier("fieldType"),a=r.sqlMaybeQuoteIdentifier("fieldRange"),l=this.firstSegment.weightMeasure;l&&(t=this.rootResult.getField(l).f.generateExpression(this.rootResult));let f=[];for(let[b,R]of this.rootResult.allFields){let O=R;if(O.fieldUsage.type==="result"&&L0(O.f)){let j=O.f.generateExpression(this.rootResult);f.push({name:b,type:O.f.fieldDef.type,expression:j})}}let p=`SELECT
  group_set,
`;p+=`  CASE group_set
`;for(let b=0;b<f.length;b++)p+=`    WHEN ${b} THEN '${f[b].name}'
`;p+=`  END as ${i},`,p+=`  CASE group_set
`;for(let b=0;b<f.length;b++)p+=`    WHEN ${b} THEN '${f[b].type}'
`;p+=`  END as ${o},`,p+=`  CASE group_set
`;for(let b=0;b<f.length;b++)f[b].type==="string"&&(p+=`    WHEN ${b} THEN ${f[b].expression}
`);p+=`  END as ${s},
`,p+=` ${t} as weight,
`,p+=`  CASE group_set
    WHEN 99999 THEN ''`;for(let b=0;b<f.length;b++)f[b].type==="number"&&(p+=`    WHEN ${b} THEN CAST(MIN(${f[b].expression}) AS ${r.stringTypeName}) || ' to ' || CAST(MAX(${f[b].expression}) AS ${r.stringTypeName})
`),(f[b].type==="timestamp"||f[b].type==="date")&&(p+=`    WHEN ${b} THEN MIN(${r.sqlDateToString(f[b].expression)}) || ' to ' || MAX(${r.sqlDateToString(f[b].expression)})
`);p+=`  END as ${a}
`,p+=this.generateSQLJoins(e),p+=r.sqlGroupSetTable(f.length)+`
`,p+=this.generateSQLFilters(this.rootResult,"where").sql("where"),p+=`GROUP BY 1,2,3,4
`,this.firstSegment.limit&&(p+=`LIMIT ${this.firstSegment.limit}
`);let _=e.addStage(p);return this.resultStage=e.addStage(`SELECT
  ${i},
  ${o},
  COALESCE(${s}, ${a}) as ${s},
  weight
FROM ${_}
`),this.resultStage}getResultStructDef(){return{type:"struct",name:this.resultStage||"result",dialect:this.parent.fieldDef.dialect,fields:[{type:"string",name:"fieldName"},{type:"string",name:"fieldValue"},{type:"string",name:"fieldType"},{type:"number",name:"weight",numberType:"integer"}],structRelationship:{type:"basetable",connectionName:this.parent.connectionName},structSource:{type:"query_result"}}}},_f=class extends kte{constructor(e,t){super(e);if(this.nameMap=new Map,this.setParent(t),"model"in t)if(this.model=t.model,this.pathAliasMap=new Map,e.structRelationship.type==="basetable")this.connectionName=e.structRelationship.connectionName;else throw new Error("All root StructDefs should be a baseTable");else this.model=this.getModel(),this.pathAliasMap=this.root().pathAliasMap,this.connectionName=this.root().connectionName;this.fieldDef=e,this.dialect=(0,lnt.getDialect)(this.fieldDef.dialect),this.addFieldsFromFieldList(this.fieldDef.fields)}parameters(){return this.fieldDef.parameters||{}}addFieldsFromFieldList(e){for(let t of e){let r=(0,ko.getIdentifier)(t);switch(t.type){case"struct":{this.addFieldToNameMap(r,new _f(t,{struct:this}));break}case"turtle":{this.addFieldToNameMap(r,mh.makeQuery(t,this));break}default:this.addFieldToNameMap(r,this.makeQueryField(t))}}this.nameMap.has("__distinct_key")||this.addFieldToNameMap("__distinct_key",new Yve({type:"string",name:"__distinct_key"},this))}getAliasIdentifier(){let e=this.getFullOutputName(),t=this.pathAliasMap.get(e);if(t===void 0){let r=Array.from(this.pathAliasMap.values()),i=(0,ko.getIdentifier)(this.fieldDef),s=`${i}_0`,o=1;for(;r.includes(s)&&o<1e3;)o++,s=`${i}_${o}`;if(o<1e3)return this.pathAliasMap.set(e,s),s;throw new Error("Internal Error: cannot create unique alias name")}else return t}getAsQueryField(){if(this.fieldDef.primaryKey===void 0)throw new Error(`Joined explores can only be included in queries if a primary key is defined: '${this.getFullOutputName()}' has no primary key`);let e=this.getPrimaryKeyField(this.fieldDef),t=e.fieldDef.type;if(t!=="string"&&t!=="number")throw new Error(`Unknown Primary key data type for ${name}`);let r=(0,ko.getIdentifier)(this.fieldDef),i=this.fieldDef.primaryKey,s={type:t,name:`${r}_id`,e:[{type:"field",path:e.getIdentifier()}]};return new Dj(s,this,`${r}.${i}`)}getSQLIdentifier(){return this.unnestWithNumbers()&&this.parent!==void 0?this.parent.getSQLIdentifier()+"."+(0,ko.getIdentifier)(this.fieldDef)+`[${this.getIdentifier()}.__row_id]`:this.getIdentifier()}getIdentifier(){return this.fieldDef.structRelationship.type==="basetable"?this.fieldDef.as===void 0?"base":super.getIdentifier():this.fieldDef.structRelationship.type==="inline"&&this.parent?this.parent.getIdentifier()+"."+super.getIdentifier():this.getAliasIdentifier()}getFullOutputName(){return this.parent?this.parent.getFullOutputName()+(0,ko.getIdentifier)(this.fieldDef)+".":""}needsSymetricCalculation(e){let t=this.getJoinableParent().getIdentifier(),r=e.root().joins.get(t);if(r)return!r.leafiest;throw new Error(`Join ${t} not found in result set`)}unnestWithNumbers(){return this.dialect.unnestWithNumbers&&this.fieldDef.structRelationship.type==="nested"}getJoinableParent(){if(this.fieldDef.structRelationship.type==="inline"){if(this.parent)return this.parent.getJoinableParent();throw new Error("Internal Error: inline struct cannot be root")}return this}addFieldToNameMap(e,t){if(this.nameMap.has(e))throw new Error(`Redefinition of ${e}`);this.nameMap.set(e,t)}getPrimaryKeyField(e){let t;if(t=this.primaryKey())return t;throw new Error(`Missing primary key for ${e}`)}resolveQueryFields(){if(this.fieldDef.structSource.type==="query"){let e=this.model.loadQuery(this.fieldDef.structSource.query,void 0).structs.pop();if(!e)throw new Error("Internal Error, query didn't produce a struct");let t={...this.fieldDef};for(let r of e.fields){let i;this.nameMap.has(i=(0,ko.getIdentifier)(r))||(t.fields.push(r),this.nameMap.set(i,this.makeQueryField(r)))}this.fieldDef=t,!this.fieldDef.primaryKey&&e.primaryKey&&(this.fieldDef.primaryKey=e.primaryKey)}for(let[,e]of this.nameMap)e instanceof _f&&e.resolveQueryFields()}getModel(){if(this.model)return this.model;if(this.parent===void 0)throw new Error("Expected this query struct to have a parent, as no model was present.");return this.parent.getModel()}setParent(e){"struct"in e&&(this.parent=e.struct),"model"in e?this.model=e.model:this.model=this.getModel()}makeQueryField(e){switch(e.type){case"string":return new Qve(e,this);case"date":return new lD(e,this);case"timestamp":return new cD(e,this);case"number":return new Gve(e,this);case"boolean":return new Fj(e,this);case"turtle":return new Ite(e,this);default:throw new Error(`unknown field definition ${JSON.stringify(e)}`)}}getOrMakeField(e){return typeof e=="string"?this.getFieldByName(e):this.makeQueryField(e)}getOrMakeDimension(e){let t=this.getOrMakeField(e);if(t instanceof k0&&L0(t))return t;throw new Error(`${e} is not of type a scalar'`)}structSourceSQL(e){switch(this.fieldDef.structSource.type){case"table":{let t=this.fieldDef.structSource.tablePath;return this.dialect.quoteTablePath(t)}case"sql":if(this.fieldDef.structSource.method==="nested"||this.fieldDef.structSource.method==="lastStage")return this.fieldDef.name;if(this.fieldDef.structSource.method==="subquery")return`(${this.fieldDef.structSource.sqlBlock.selectStr})`;throw new Error("Internal Error: Unknown structSource type 'sql' method");case"nested":return"UNNEST(this.fieldDef.name)";case"inline":return"";case"query":{let t=(0,ko.getIdentifier)(this.fieldDef);if(t.includes("cache")){let r=new V7(!0,e);return this.model.loadQuery(this.fieldDef.structSource.query,r),r.addPDT(t,this.dialect)}else return this.model.loadQuery(this.fieldDef.structSource.query,e).lastStageName}default:throw new Error(`unknown structSource ${this.fieldDef}`)}}root(){return this.parent===void 0?this:this.parent.root()}primaryKey(){if(this.fieldDef.primaryKey)return this.getDimensionByName(this.fieldDef.primaryKey)}static resolvePath(e){return e.split(".")}getChildByName(e){return this.nameMap.get(e)}getFieldByName(e){let t=_f.resolvePath(e),r=this;for(let i of t){let s=r.getChildByName(i);if(s===void 0)throw new Error(`Path not found ${e}`);r=s}return r}getQueryFieldByName(e){let t=this.getFieldByName(e);return t instanceof _f&&(t=t.getAsQueryField()),t}getDimensionOrMeasureByName(e){let t=this.getFieldByName(e);if(t instanceof k0)return t;throw new Error(`${e} is not of type a scalar'`)}getDimensionByName(e){let t=this.getFieldByName(e);if(t instanceof k0&&L0(t))return t;throw new Error(`${e} is not of type a scalar'`)}getStructByName(e){let t=this.getFieldByName(e);if(t instanceof _f)return t;throw new Error(`Error: Path to structure not found '${e}'`)}getDistinctKey(){if(this.fieldDef.structRelationship.type!=="inline")return this.getDimensionByName("__distinct_key");if(this.parent)return this.parent.getDistinctKey();throw new Error("Internal Error.  inline struct can not be top level")}flattenTurtleDef(e){let t=e.pipeline,r=e.pipeHead;for(;r;){let o=this.getFieldByName(r.name);if(o instanceof mh)r=o.fieldDef.pipeHead,t=o.fieldDef.pipeline.concat(t);else throw new Error(`Only Turtles can be used in a pipeline ${r.name}`)}let i=e.filterList||[];return t=(0,Wve.cloneDeep)(t),t[0].filterList=i.concat(t[0].filterList||[],this.fieldDef.filterList||[]),{type:"turtle",name:e.name,pipeline:t,location:e.location}}},Rj=class{constructor(e){this.dialect=new unt.StandardSQLDialect,this.modelDef=void 0,this.structs=new Map,this.exploreSearchSQLMap=new Map,e&&this.loadModelFromDef(e)}loadModelFromDef(e){this.modelDef=e;for(let t of Object.values(this.modelDef.contents)){let r;if(t.type==="struct")r=new _f(t,{model:this}),this.structs.set((0,ko.getIdentifier)(t),r),r.resolveQueryFields();else if(t.type!=="query")throw new Error("Internal Error: Unknown structure type")}}parseQueryPath(e){let t=e.split("."),r;if(r=this.structs.get(t[0])){if(t.length>1)t.shift();else throw new Error(`No query specified in Struct '${t[0]}'`);return{queryName:t.join("."),struct:r}}else throw new Error(`Cannot find Struct '${t[0]}' Model`)}getStructByName(e){let t;if(t=this.structs.get(e))return t;throw new Error(`Struct ${e} not found in model.`)}getStructFromRef(e){let t;if(typeof e=="string")return this.getStructByName(e);if(e.type==="struct")t=e;else throw new Error("Broken for now");return new _f(t,{model:this})}loadQuery(e,t,r=!1){let i="";t||(t=new V7(!0,void 0));let s={type:"turtle",name:"ignoreme",pipeHead:e.pipeHead,pipeline:e.pipeline,filterList:e.filterList},o=mh.makeQuery(s,this.getStructFromRef(e.structRef),t),a=o.generateSQLFromPipeline(t);if(r&&o.parent.dialect.hasFinalStage){let l=(0,ko.getPhysicalFields)(a.outputStruct).map(f=>o.parent.dialect.sqlMaybeQuoteIdentifier(f.name));a.lastStageName=t.addStage(o.parent.dialect.sqlFinalStage(a.lastStageName,l))}return{lastStageName:a.lastStageName,malloy:i,stageWriter:t,structs:[a.outputStruct],connectionName:o.parent.connectionName}}compileQuery(e,t=!0){let r,s=(r||this).loadQuery(e,void 0,t),o=typeof e.structRef=="string"?e.structRef:e.structRef.type==="struct"?e.structRef.as||e.structRef.name:"(need to figure this out)";return t&&this.dialect.hasFinalStage&&(s.lastStageName=s.stageWriter.addStage(this.dialect.sqlFinalStage(s.lastStageName,[]))),{lastStageName:s.lastStageName,malloy:s.malloy,sql:s.stageWriter.generateSQLStages(),structs:s.structs,sourceExplore:o,sourceFilters:e.filterList,queryName:e.pipeHead&&e.pipeline.length===0?e.pipeHead.name:void 0,connectionName:s.connectionName}}async searchIndex(e,t,r,i=1e3,s=void 0){if(!e.canPersist())return;let o=this.getStructByName(t),a;o.nameMap.get("search_index")?a={structRef:t,pipeHead:{name:"search_index"},pipeline:[]}:a={structRef:t,pipeline:[{type:"index",fields:["*"],sample:o.dialect.defaultSampling}]};let l=o.dialect.sqlMaybeQuoteIdentifier("fieldName"),f=o.dialect.sqlMaybeQuoteIdentifier("fieldValue"),p=o.dialect.sqlMaybeQuoteIdentifier("fieldType"),_=this.exploreSearchSQLMap.get(t);_===void 0&&(_=(await this.compileQuery(a,!1)).sql,this.exploreSearchSQLMap.set(t,_));let b=`SELECT
              ${l},
              ${f},
              ${p},
              weight,
              CASE WHEN lower(${f}) LIKE  lower(${Lte(r+"%")}) THEN 1 ELSE 0 END as match_first
            FROM  ${await e.manifestTemporaryTable(_)}
            WHERE lower(${f}) LIKE lower(${Lte("%"+r+"%")}) ${s!==void 0?` AND ${l} = '`+s+`' 
`:""}
            ORDER BY CASE WHEN lower(${f}) LIKE  lower(${Lte(r+"%")}) THEN 1 ELSE 0 END DESC, weight DESC
            LIMIT ${i}
          `;return o.dialect.hasFinalStage&&(b=`WITH __stage0 AS(
${b}
)
${o.dialect.sqlFinalStage("__stage0",[l,f,p,"weight","match_first"])}`),(await e.runSQL(b,{rowLimit:1e3})).rows}};W2.QueryModel=Rj;function fnt(n,e){let t=e.structRef;return typeof t!="string"&&(t=t.as||t.name),new Rj(n).getStructByName(t).flattenTurtleDef({...e,type:"turtle"})}W2.flattenQuery=fnt});var z7=Ae(Yh=>{"use strict";m();var dnt=Yh&&Yh.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),hnt=Yh&&Yh.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&dnt(e,n,t)};Object.defineProperty(Yh,"__esModule",{value:!0});Yh.flattenQuery=Yh.QueryModel=Yh.Segment=void 0;hnt(s1(),Yh);var Pte=Mte();Object.defineProperty(Yh,"Segment",{enumerable:!0,get:function(){return Pte.Segment}});Object.defineProperty(Yh,"QueryModel",{enumerable:!0,get:function(){return Pte.QueryModel}});Object.defineProperty(Yh,"flattenQuery",{enumerable:!0,get:function(){return Pte.flattenQuery}})});var s4e=Ae(i4e=>{"use strict";m();Object.defineProperty(i4e,"__esModule",{value:!0})});var a4e=Ae(o4e=>{"use strict";m();Object.defineProperty(o4e,"__esModule",{value:!0})});var Bte=Ae((wAt,u4e)=>{"use strict";m();u4e.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==i||o.enumerable!==!0)return!1}return!0}});var fD=Ae((AAt,l4e)=>{"use strict";m();var pnt=Bte();l4e.exports=function(){return pnt()&&!!Symbol.toStringTag}});var d4e=Ae((TAt,f4e)=>{"use strict";m();var c4e=typeof Symbol!="undefined"&&Symbol,mnt=Bte();f4e.exports=function(){return typeof c4e!="function"||typeof Symbol!="function"||typeof c4e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:mnt()}});var p4e=Ae((FAt,h4e)=>{"use strict";m();var xnt="Function.prototype.bind called on incompatible ",jte=Array.prototype.slice,gnt=Object.prototype.toString,ynt="[object Function]";h4e.exports=function(e){var t=this;if(typeof t!="function"||gnt.call(t)!==ynt)throw new TypeError(xnt+t);for(var r=jte.call(arguments,1),i,s=function(){if(this instanceof i){var p=t.apply(this,r.concat(jte.call(arguments)));return Object(p)===p?p:this}else return t.apply(e,r.concat(jte.call(arguments)))},o=Math.max(0,t.length-r.length),a=[],l=0;l<o;l++)a.push("$"+l);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var f=function(){};f.prototype=t.prototype,i.prototype=new f,f.prototype=null}return i}});var Oj=Ae((DAt,m4e)=>{"use strict";m();var vnt=p4e();m4e.exports=Function.prototype.bind||vnt});var g4e=Ae((RAt,x4e)=>{"use strict";m();var _nt=Oj();x4e.exports=_nt.call(Function.call,Object.prototype.hasOwnProperty)});var hD=Ae((OAt,E4e)=>{"use strict";m();var ea,Q7=SyntaxError,y4e=Function,G7=TypeError,qte=function(n){try{return y4e('"use strict"; return ('+n+").constructor;")()}catch{}},g6=Object.getOwnPropertyDescriptor;if(g6)try{g6({},"")}catch{g6=null}var Ute=function(){throw new G7},Ent=g6?function(){try{return arguments.callee,Ute}catch{try{return g6(arguments,"callee").get}catch{return Ute}}}():Ute,Y7=d4e()(),z5=Object.getPrototypeOf||function(n){return n.__proto__},K7={},bnt=typeof Uint8Array=="undefined"?ea:z5(Uint8Array),J7={"%AggregateError%":typeof AggregateError=="undefined"?ea:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?ea:ArrayBuffer,"%ArrayIteratorPrototype%":Y7?z5([][Symbol.iterator]()):ea,"%AsyncFromSyncIteratorPrototype%":ea,"%AsyncFunction%":K7,"%AsyncGenerator%":K7,"%AsyncGeneratorFunction%":K7,"%AsyncIteratorPrototype%":K7,"%Atomics%":typeof Atomics=="undefined"?ea:Atomics,"%BigInt%":typeof BigInt=="undefined"?ea:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?ea:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?ea:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?ea:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?ea:FinalizationRegistry,"%Function%":y4e,"%GeneratorFunction%":K7,"%Int8Array%":typeof Int8Array=="undefined"?ea:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?ea:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?ea:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Y7?z5(z5([][Symbol.iterator]())):ea,"%JSON%":typeof JSON=="object"?JSON:ea,"%Map%":typeof Map=="undefined"?ea:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!Y7?ea:z5(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?ea:Promise,"%Proxy%":typeof Proxy=="undefined"?ea:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?ea:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?ea:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!Y7?ea:z5(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?ea:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Y7?z5(""[Symbol.iterator]()):ea,"%Symbol%":Y7?Symbol:ea,"%SyntaxError%":Q7,"%ThrowTypeError%":Ent,"%TypedArray%":bnt,"%TypeError%":G7,"%Uint8Array%":typeof Uint8Array=="undefined"?ea:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?ea:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?ea:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?ea:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?ea:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?ea:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?ea:WeakSet},Snt=function n(e){var t;if(e==="%AsyncFunction%")t=qte("async function () {}");else if(e==="%GeneratorFunction%")t=qte("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=qte("async function* () {}");else if(e==="%AsyncGenerator%"){var r=n("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=n("%AsyncGenerator%");i&&(t=z5(i.prototype))}return J7[e]=t,t},v4e={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},dD=Oj(),Nj=g4e(),Cnt=dD.call(Function.call,Array.prototype.concat),wnt=dD.call(Function.apply,Array.prototype.splice),_4e=dD.call(Function.call,String.prototype.replace),Lj=dD.call(Function.call,String.prototype.slice),Ant=dD.call(Function.call,RegExp.prototype.exec),Tnt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Fnt=/\\(\\)?/g,Dnt=function(e){var t=Lj(e,0,1),r=Lj(e,-1);if(t==="%"&&r!=="%")throw new Q7("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new Q7("invalid intrinsic syntax, expected opening `%`");var i=[];return _4e(e,Tnt,function(s,o,a,l){i[i.length]=a?_4e(l,Fnt,"$1"):o||s}),i},Rnt=function(e,t){var r=e,i;if(Nj(v4e,r)&&(i=v4e[r],r="%"+i[0]+"%"),Nj(J7,r)){var s=J7[r];if(s===K7&&(s=Snt(r)),typeof s=="undefined"&&!t)throw new G7("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:s}}throw new Q7("intrinsic "+e+" does not exist!")};E4e.exports=function(e,t){if(typeof e!="string"||e.length===0)throw new G7("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new G7('"allowMissing" argument must be a boolean');if(Ant(/^%?[^%]*%?$/,e)===null)throw new Q7("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=Dnt(e),i=r.length>0?r[0]:"",s=Rnt("%"+i+"%",t),o=s.name,a=s.value,l=!1,f=s.alias;f&&(i=f[0],wnt(r,Cnt([0,1],f)));for(var p=1,_=!0;p<r.length;p+=1){var b=r[p],R=Lj(b,0,1),O=Lj(b,-1);if((R==='"'||R==="'"||R==="`"||O==='"'||O==="'"||O==="`")&&R!==O)throw new Q7("property names with quotes must have matching quotes");if((b==="constructor"||!_)&&(l=!0),i+="."+b,o="%"+i+"%",Nj(J7,o))a=J7[o];else if(a!=null){if(!(b in a)){if(!t)throw new G7("base intrinsic for "+e+" exists, but the property is not available.");return}if(g6&&p+1>=r.length){var j=g6(a,b);_=!!j,_&&"get"in j&&!("originalValue"in j.get)?a=j.get:a=a[b]}else _=Nj(a,b),a=a[b];_&&!l&&(J7[o]=a)}}return a}});var Ij=Ae((NAt,kj)=>{"use strict";m();var $te=Oj(),X7=hD(),b4e=X7("%Function.prototype.apply%"),S4e=X7("%Function.prototype.call%"),C4e=X7("%Reflect.apply%",!0)||$te.call(S4e,b4e),w4e=X7("%Object.getOwnPropertyDescriptor%",!0),y6=X7("%Object.defineProperty%",!0),Ont=X7("%Math.max%");if(y6)try{y6({},"a",{value:1})}catch{y6=null}kj.exports=function(e){var t=C4e($te,S4e,arguments);if(w4e&&y6){var r=w4e(t,"length");r.configurable&&y6(t,"length",{value:1+Ont(0,e.length-(arguments.length-1))})}return t};var A4e=function(){return C4e($te,b4e,arguments)};y6?y6(kj.exports,"apply",{value:A4e}):kj.exports.apply=A4e});var Mj=Ae((LAt,D4e)=>{"use strict";m();var T4e=hD(),F4e=Ij(),Nnt=F4e(T4e("String.prototype.indexOf"));D4e.exports=function(e,t){var r=T4e(e,!!t);return typeof r=="function"&&Nnt(e,".prototype.")>-1?F4e(r):r}});var N4e=Ae((kAt,O4e)=>{"use strict";m();var Lnt=fD()(),knt=Mj(),zte=knt("Object.prototype.toString"),Pj=function(e){return Lnt&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:zte(e)==="[object Arguments]"},R4e=function(e){return Pj(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&zte(e)!=="[object Array]"&&zte(e.callee)==="[object Function]"},Int=function(){return Pj(arguments)}();Pj.isLegacyArguments=R4e;O4e.exports=Int?Pj:R4e});var I4e=Ae((IAt,k4e)=>{"use strict";m();var Mnt=Object.prototype.toString,Pnt=Function.prototype.toString,Bnt=/^\s*(?:function)?\*/,L4e=fD()(),Hte=Object.getPrototypeOf,jnt=function(){if(!L4e)return!1;try{return Function("return function*() {}")()}catch{}},Vte;k4e.exports=function(e){if(typeof e!="function")return!1;if(Bnt.test(Pnt.call(e)))return!0;if(!L4e){var t=Mnt.call(e);return t==="[object GeneratorFunction]"}if(!Hte)return!1;if(typeof Vte=="undefined"){var r=jnt();Vte=r?Hte(r):!1}return Hte(e)===Vte}});var j4e=Ae((MAt,B4e)=>{"use strict";m();var M4e=Function.prototype.toString,Z7=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Wte,Bj;if(typeof Z7=="function"&&typeof Object.defineProperty=="function")try{Wte=Object.defineProperty({},"length",{get:function(){throw Bj}}),Bj={},Z7(function(){throw 42},null,Wte)}catch(n){n!==Bj&&(Z7=null)}else Z7=null;var qnt=/^\s*class\b/,Qte=function(e){try{var t=M4e.call(e);return qnt.test(t)}catch{return!1}},Gte=function(e){try{return Qte(e)?!1:(M4e.call(e),!0)}catch{return!1}},jj=Object.prototype.toString,Unt="[object Object]",$nt="[object Function]",znt="[object GeneratorFunction]",Hnt="[object HTMLAllCollection]",Vnt="[object HTML document.all class]",Wnt="[object HTMLCollection]",Qnt=typeof Symbol=="function"&&!!Symbol.toStringTag,Gnt=!(0 in[,]),Yte=function(){return!1};typeof document=="object"&&(P4e=document.all,jj.call(P4e)===jj.call(document.all)&&(Yte=function(e){if((Gnt||!e)&&(typeof e=="undefined"||typeof e=="object"))try{var t=jj.call(e);return(t===Hnt||t===Vnt||t===Wnt||t===Unt)&&e("")==null}catch{}return!1}));var P4e;B4e.exports=Z7?function(e){if(Yte(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Z7(e,null,Wte)}catch(t){if(t!==Bj)return!1}return!Qte(e)&&Gte(e)}:function(e){if(Yte(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(Qnt)return Gte(e);if(Qte(e))return!1;var t=jj.call(e);return t!==$nt&&t!==znt&&!/^\[object HTML/.test(t)?!1:Gte(e)}});var Kte=Ae((PAt,U4e)=>{"use strict";m();var Ynt=j4e(),Knt=Object.prototype.toString,q4e=Object.prototype.hasOwnProperty,Jnt=function(e,t,r){for(var i=0,s=e.length;i<s;i++)q4e.call(e,i)&&(r==null?t(e[i],i,e):t.call(r,e[i],i,e))},Xnt=function(e,t,r){for(var i=0,s=e.length;i<s;i++)r==null?t(e.charAt(i),i,e):t.call(r,e.charAt(i),i,e)},Znt=function(e,t,r){for(var i in e)q4e.call(e,i)&&(r==null?t(e[i],i,e):t.call(r,e[i],i,e))},ert=function(e,t,r){if(!Ynt(t))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),Knt.call(e)==="[object Array]"?Jnt(e,t,i):typeof e=="string"?Xnt(e,t,i):Znt(e,t,i)};U4e.exports=ert});var Xte=Ae((BAt,$4e)=>{"use strict";m();var Jte=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],trt=typeof globalThis=="undefined"?global:globalThis;$4e.exports=function(){for(var e=[],t=0;t<Jte.length;t++)typeof trt[Jte[t]]=="function"&&(e[e.length]=Jte[t]);return e}});var Zte=Ae((jAt,z4e)=>{"use strict";m();var nrt=hD(),qj=nrt("%Object.getOwnPropertyDescriptor%",!0);if(qj)try{qj([],"length")}catch{qj=null}z4e.exports=qj});var nne=Ae((qAt,G4e)=>{"use strict";m();var H4e=Kte(),rrt=Xte(),ene=Mj(),irt=ene("Object.prototype.toString"),V4e=fD()(),Uj=Zte(),srt=typeof globalThis=="undefined"?global:globalThis,W4e=rrt(),ort=ene("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},art=ene("String.prototype.slice"),Q4e={},tne=Object.getPrototypeOf;V4e&&Uj&&tne&&H4e(W4e,function(n){var e=new srt[n];if(Symbol.toStringTag in e){var t=tne(e),r=Uj(t,Symbol.toStringTag);if(!r){var i=tne(t);r=Uj(i,Symbol.toStringTag)}Q4e[n]=r.get}});var urt=function(e){var t=!1;return H4e(Q4e,function(r,i){if(!t)try{t=r.call(e)===i}catch{}}),t};G4e.exports=function(e){if(!e||typeof e!="object")return!1;if(!V4e||!(Symbol.toStringTag in e)){var t=art(irt(e),8,-1);return ort(W4e,t)>-1}return Uj?urt(e):!1}});var t_e=Ae((UAt,e_e)=>{"use strict";m();var Y4e=Kte(),lrt=Xte(),K4e=Mj(),rne=Zte(),crt=K4e("Object.prototype.toString"),J4e=fD()(),X4e=typeof globalThis=="undefined"?global:globalThis,frt=lrt(),drt=K4e("String.prototype.slice"),Z4e={},ine=Object.getPrototypeOf;J4e&&rne&&ine&&Y4e(frt,function(n){if(typeof X4e[n]=="function"){var e=new X4e[n];if(Symbol.toStringTag in e){var t=ine(e),r=rne(t,Symbol.toStringTag);if(!r){var i=ine(t);r=rne(i,Symbol.toStringTag)}Z4e[n]=r.get}}});var hrt=function(e){var t=!1;return Y4e(Z4e,function(r,i){if(!t)try{var s=r.call(e);s===i&&(t=s)}catch{}}),t},prt=nne();e_e.exports=function(e){return prt(e)?!J4e||!(Symbol.toStringTag in e)?drt(crt(e),8,-1):hrt(e):!1}});var m_e=Ae(Po=>{"use strict";m();var mrt=N4e(),xrt=I4e(),Cm=t_e(),n_e=nne();function eS(n){return n.call.bind(n)}var r_e=typeof BigInt!="undefined",i_e=typeof Symbol!="undefined",a1=eS(Object.prototype.toString),grt=eS(Number.prototype.valueOf),yrt=eS(String.prototype.valueOf),vrt=eS(Boolean.prototype.valueOf);r_e&&(s_e=eS(BigInt.prototype.valueOf));var s_e;i_e&&(o_e=eS(Symbol.prototype.valueOf));var o_e;function pD(n,e){if(typeof n!="object")return!1;try{return e(n),!0}catch{return!1}}Po.isArgumentsObject=mrt;Po.isGeneratorFunction=xrt;Po.isTypedArray=n_e;function _rt(n){return typeof Promise!="undefined"&&n instanceof Promise||n!==null&&typeof n=="object"&&typeof n.then=="function"&&typeof n.catch=="function"}Po.isPromise=_rt;function Ert(n){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(n):n_e(n)||u_e(n)}Po.isArrayBufferView=Ert;function brt(n){return Cm(n)==="Uint8Array"}Po.isUint8Array=brt;function Srt(n){return Cm(n)==="Uint8ClampedArray"}Po.isUint8ClampedArray=Srt;function Crt(n){return Cm(n)==="Uint16Array"}Po.isUint16Array=Crt;function wrt(n){return Cm(n)==="Uint32Array"}Po.isUint32Array=wrt;function Art(n){return Cm(n)==="Int8Array"}Po.isInt8Array=Art;function Trt(n){return Cm(n)==="Int16Array"}Po.isInt16Array=Trt;function Frt(n){return Cm(n)==="Int32Array"}Po.isInt32Array=Frt;function Drt(n){return Cm(n)==="Float32Array"}Po.isFloat32Array=Drt;function Rrt(n){return Cm(n)==="Float64Array"}Po.isFloat64Array=Rrt;function Ort(n){return Cm(n)==="BigInt64Array"}Po.isBigInt64Array=Ort;function Nrt(n){return Cm(n)==="BigUint64Array"}Po.isBigUint64Array=Nrt;function $j(n){return a1(n)==="[object Map]"}$j.working=typeof Map!="undefined"&&$j(new Map);function Lrt(n){return typeof Map=="undefined"?!1:$j.working?$j(n):n instanceof Map}Po.isMap=Lrt;function zj(n){return a1(n)==="[object Set]"}zj.working=typeof Set!="undefined"&&zj(new Set);function krt(n){return typeof Set=="undefined"?!1:zj.working?zj(n):n instanceof Set}Po.isSet=krt;function Hj(n){return a1(n)==="[object WeakMap]"}Hj.working=typeof WeakMap!="undefined"&&Hj(new WeakMap);function Irt(n){return typeof WeakMap=="undefined"?!1:Hj.working?Hj(n):n instanceof WeakMap}Po.isWeakMap=Irt;function sne(n){return a1(n)==="[object WeakSet]"}sne.working=typeof WeakSet!="undefined"&&sne(new WeakSet);function Mrt(n){return sne(n)}Po.isWeakSet=Mrt;function Vj(n){return a1(n)==="[object ArrayBuffer]"}Vj.working=typeof ArrayBuffer!="undefined"&&Vj(new ArrayBuffer);function a_e(n){return typeof ArrayBuffer=="undefined"?!1:Vj.working?Vj(n):n instanceof ArrayBuffer}Po.isArrayBuffer=a_e;function Wj(n){return a1(n)==="[object DataView]"}Wj.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&Wj(new DataView(new ArrayBuffer(1),0,1));function u_e(n){return typeof DataView=="undefined"?!1:Wj.working?Wj(n):n instanceof DataView}Po.isDataView=u_e;var one=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function mD(n){return a1(n)==="[object SharedArrayBuffer]"}function l_e(n){return typeof one=="undefined"?!1:(typeof mD.working=="undefined"&&(mD.working=mD(new one)),mD.working?mD(n):n instanceof one)}Po.isSharedArrayBuffer=l_e;function Prt(n){return a1(n)==="[object AsyncFunction]"}Po.isAsyncFunction=Prt;function Brt(n){return a1(n)==="[object Map Iterator]"}Po.isMapIterator=Brt;function jrt(n){return a1(n)==="[object Set Iterator]"}Po.isSetIterator=jrt;function qrt(n){return a1(n)==="[object Generator]"}Po.isGeneratorObject=qrt;function Urt(n){return a1(n)==="[object WebAssembly.Module]"}Po.isWebAssemblyCompiledModule=Urt;function c_e(n){return pD(n,grt)}Po.isNumberObject=c_e;function f_e(n){return pD(n,yrt)}Po.isStringObject=f_e;function d_e(n){return pD(n,vrt)}Po.isBooleanObject=d_e;function h_e(n){return r_e&&pD(n,s_e)}Po.isBigIntObject=h_e;function p_e(n){return i_e&&pD(n,o_e)}Po.isSymbolObject=p_e;function $rt(n){return c_e(n)||f_e(n)||d_e(n)||h_e(n)||p_e(n)}Po.isBoxedPrimitive=$rt;function zrt(n){return typeof Uint8Array!="undefined"&&(a_e(n)||l_e(n))}Po.isAnyArrayBuffer=zrt;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(n){Object.defineProperty(Po,n,{enumerable:!1,value:function(){throw new Error(n+" is not supported in userland")}})})});var g_e=Ae((zAt,x_e)=>{m();x_e.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var y_e=Ae((HAt,ane)=>{m();typeof Object.create=="function"?ane.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:ane.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}});var V5=Ae(Bo=>{m();var v_e=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},i=0;i<t.length;i++)r[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return r},Hrt=/%[sdj%]/g;Bo.format=function(n){if(!Kj(n)){for(var e=[],t=0;t<arguments.length;t++)e.push(H5(arguments[t]));return e.join(" ")}for(var t=1,r=arguments,i=r.length,s=String(n).replace(Hrt,function(a){if(a==="%%")return"%";if(t>=i)return a;switch(a){case"%s":return String(r[t++]);case"%d":return Number(r[t++]);case"%j":try{return JSON.stringify(r[t++])}catch{return"[Circular]"}default:return a}}),o=r[t];t<i;o=r[++t])Yj(o)||!tS(o)?s+=" "+o:s+=" "+H5(o);return s};Bo.deprecate=function(n,e){if(typeof process!="undefined"&&process.noDeprecation===!0)return n;if(typeof process=="undefined")return function(){return Bo.deprecate(n,e).apply(this,arguments)};var t=!1;function r(){if(!t){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),t=!0}return n.apply(this,arguments)}return r};var Qj={},Vrt=/^$/;Bo.debuglog=function(n){if(n=n.toUpperCase(),!Qj[n])if(Vrt.test(n)){var e=process.pid;Qj[n]=function(){var t=Bo.format.apply(Bo,arguments);console.error("%s %d: %s",n,e,t)}}else Qj[n]=function(){};return Qj[n]};function H5(n,e){var t={seen:[],stylize:Qrt};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),cne(e)?t.showHidden=e:e&&Bo._extend(t,e),v6(t.showHidden)&&(t.showHidden=!1),v6(t.depth)&&(t.depth=2),v6(t.colors)&&(t.colors=!1),v6(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=Wrt),Gj(t,n,t.depth)}Bo.inspect=H5;H5.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};H5.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function Wrt(n,e){var t=H5.styles[e];return t?"\x1B["+H5.colors[t][0]+"m"+n+"\x1B["+H5.colors[t][1]+"m":n}function Qrt(n,e){return n}function Grt(n){var e={};return n.forEach(function(t,r){e[t]=!0}),e}function Gj(n,e,t){if(n.customInspect&&e&&Xj(e.inspect)&&e.inspect!==Bo.inspect&&!(e.constructor&&e.constructor.prototype===e)){var r=e.inspect(t,n);return Kj(r)||(r=Gj(n,r,t)),r}var i=Yrt(n,e);if(i)return i;var s=Object.keys(e),o=Grt(s);if(n.showHidden&&(s=Object.getOwnPropertyNames(e)),gD(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return une(e);if(s.length===0){if(Xj(e)){var a=e.name?": "+e.name:"";return n.stylize("[Function"+a+"]","special")}if(xD(e))return n.stylize(RegExp.prototype.toString.call(e),"regexp");if(Jj(e))return n.stylize(Date.prototype.toString.call(e),"date");if(gD(e))return une(e)}var l="",f=!1,p=["{","}"];if(__e(e)&&(f=!0,p=["[","]"]),Xj(e)){var _=e.name?": "+e.name:"";l=" [Function"+_+"]"}if(xD(e)&&(l=" "+RegExp.prototype.toString.call(e)),Jj(e)&&(l=" "+Date.prototype.toUTCString.call(e)),gD(e)&&(l=" "+une(e)),s.length===0&&(!f||e.length==0))return p[0]+l+p[1];if(t<0)return xD(e)?n.stylize(RegExp.prototype.toString.call(e),"regexp"):n.stylize("[Object]","special");n.seen.push(e);var b;return f?b=Krt(n,e,t,o,s):b=s.map(function(R){return lne(n,e,t,o,R,f)}),n.seen.pop(),Jrt(b,l,p)}function Yrt(n,e){if(v6(e))return n.stylize("undefined","undefined");if(Kj(e)){var t="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(t,"string")}if(E_e(e))return n.stylize(""+e,"number");if(cne(e))return n.stylize(""+e,"boolean");if(Yj(e))return n.stylize("null","null")}function une(n){return"["+Error.prototype.toString.call(n)+"]"}function Krt(n,e,t,r,i){for(var s=[],o=0,a=e.length;o<a;++o)b_e(e,String(o))?s.push(lne(n,e,t,r,String(o),!0)):s.push("");return i.forEach(function(l){l.match(/^\d+$/)||s.push(lne(n,e,t,r,l,!0))}),s}function lne(n,e,t,r,i,s){var o,a,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?l.set?a=n.stylize("[Getter/Setter]","special"):a=n.stylize("[Getter]","special"):l.set&&(a=n.stylize("[Setter]","special")),b_e(r,i)||(o="["+i+"]"),a||(n.seen.indexOf(l.value)<0?(Yj(t)?a=Gj(n,l.value,null):a=Gj(n,l.value,t-1),a.indexOf(`
`)>-1&&(s?a=a.split(`
`).map(function(f){return"  "+f}).join(`
`).slice(2):a=`
`+a.split(`
`).map(function(f){return"   "+f}).join(`
`))):a=n.stylize("[Circular]","special")),v6(o)){if(s&&i.match(/^\d+$/))return a;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.slice(1,-1),o=n.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=n.stylize(o,"string"))}return o+": "+a}function Jrt(n,e,t){var r=0,i=n.reduce(function(s,o){return r++,o.indexOf(`
`)>=0&&r++,s+o.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?t[0]+(e===""?"":e+`
 `)+" "+n.join(`,
  `)+" "+t[1]:t[0]+e+" "+n.join(", ")+" "+t[1]}Bo.types=m_e();function __e(n){return Array.isArray(n)}Bo.isArray=__e;function cne(n){return typeof n=="boolean"}Bo.isBoolean=cne;function Yj(n){return n===null}Bo.isNull=Yj;function Xrt(n){return n==null}Bo.isNullOrUndefined=Xrt;function E_e(n){return typeof n=="number"}Bo.isNumber=E_e;function Kj(n){return typeof n=="string"}Bo.isString=Kj;function Zrt(n){return typeof n=="symbol"}Bo.isSymbol=Zrt;function v6(n){return n===void 0}Bo.isUndefined=v6;function xD(n){return tS(n)&&fne(n)==="[object RegExp]"}Bo.isRegExp=xD;Bo.types.isRegExp=xD;function tS(n){return typeof n=="object"&&n!==null}Bo.isObject=tS;function Jj(n){return tS(n)&&fne(n)==="[object Date]"}Bo.isDate=Jj;Bo.types.isDate=Jj;function gD(n){return tS(n)&&(fne(n)==="[object Error]"||n instanceof Error)}Bo.isError=gD;Bo.types.isNativeError=gD;function Xj(n){return typeof n=="function"}Bo.isFunction=Xj;function eit(n){return n===null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||typeof n=="symbol"||typeof n=="undefined"}Bo.isPrimitive=eit;Bo.isBuffer=g_e();function fne(n){return Object.prototype.toString.call(n)}function dne(n){return n<10?"0"+n.toString(10):n.toString(10)}var tit=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function nit(){var n=new Date,e=[dne(n.getHours()),dne(n.getMinutes()),dne(n.getSeconds())].join(":");return[n.getDate(),tit[n.getMonth()],e].join(" ")}Bo.log=function(){console.log("%s - %s",nit(),Bo.format.apply(Bo,arguments))};Bo.inherits=y_e();Bo._extend=function(n,e){if(!e||!tS(e))return n;for(var t=Object.keys(e),r=t.length;r--;)n[t[r]]=e[t[r]];return n};function b_e(n,e){return Object.prototype.hasOwnProperty.call(n,e)}var _6=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;Bo.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(_6&&e[_6]){var t=e[_6];if(typeof t!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,_6,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var r,i,s=new Promise(function(l,f){r=l,i=f}),o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);o.push(function(l,f){l?i(l):r(f)});try{e.apply(this,o)}catch(l){i(l)}return s}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),_6&&Object.defineProperty(t,_6,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,v_e(e))};Bo.promisify.custom=_6;function rit(n,e){if(!n){var t=new Error("Promise was rejected with a falsy value");t.reason=n,n=t}return e(n)}function iit(n){if(typeof n!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return i.apply(s,arguments)};n.apply(this,t).then(function(a){process.nextTick(o.bind(null,null,a))},function(a){process.nextTick(rit.bind(null,a,o))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(n)),Object.defineProperties(e,v_e(n)),e}Bo.callbackify=iit});var xne=Ae((WAt,w_e)=>{"use strict";m();function nS(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nS=function(t){return typeof t}:nS=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nS(n)}function sit(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function oit(n,e){return e&&(nS(e)==="object"||typeof e=="function")?e:ait(n)}function ait(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function hne(n){return hne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hne(n)}function uit(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&pne(n,e)}function pne(n,e){return pne=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},pne(n,e)}var S_e={},rS,mne;function yD(n,e,t){t||(t=Error);function r(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){uit(o,s);function o(a,l,f){var p;return sit(this,o),p=oit(this,hne(o).call(this,r(a,l,f))),p.code=n,p}return o}(t);S_e[n]=i}function C_e(n,e){if(Array.isArray(n)){var t=n.length;return n=n.map(function(r){return String(r)}),t>2?"one of ".concat(e," ").concat(n.slice(0,t-1).join(", "),", or ")+n[t-1]:t===2?"one of ".concat(e," ").concat(n[0]," or ").concat(n[1]):"of ".concat(e," ").concat(n[0])}else return"of ".concat(e," ").concat(String(n))}function lit(n,e,t){return n.substr(!t||t<0?0:+t,e.length)===e}function cit(n,e,t){return(t===void 0||t>n.length)&&(t=n.length),n.substring(t-e.length,t)===e}function fit(n,e,t){return typeof t!="number"&&(t=0),t+e.length>n.length?!1:n.indexOf(e,t)!==-1}yD("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);yD("ERR_INVALID_ARG_TYPE",function(n,e,t){rS===void 0&&(rS=M0()),rS(typeof n=="string","'name' must be a string");var r;typeof e=="string"&&lit(e,"not ")?(r="must not be",e=e.replace(/^not /,"")):r="must be";var i;if(cit(n," argument"))i="The ".concat(n," ").concat(r," ").concat(C_e(e,"type"));else{var s=fit(n,".")?"property":"argument";i='The "'.concat(n,'" ').concat(s," ").concat(r," ").concat(C_e(e,"type"))}return i+=". Received type ".concat(nS(t)),i},TypeError);yD("ERR_INVALID_ARG_VALUE",function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";mne===void 0&&(mne=V5());var r=mne.inspect(e);return r.length>128&&(r="".concat(r.slice(0,128),"...")),"The argument '".concat(n,"' ").concat(t,". Received ").concat(r)},TypeError,RangeError);yD("ERR_INVALID_RETURN_VALUE",function(n,e,t){var r;return t&&t.constructor&&t.constructor.name?r="instance of ".concat(t.constructor.name):r="type ".concat(nS(t)),"Expected ".concat(n,' to be returned from the "').concat(e,'"')+" function but got ".concat(r,".")},TypeError);yD("ERR_MISSING_ARGS",function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];rS===void 0&&(rS=M0()),rS(e.length>0,"At least one arg needs to be specified");var r="The ",i=e.length;switch(e=e.map(function(s){return'"'.concat(s,'"')}),i){case 1:r+="".concat(e[0]," argument");break;case 2:r+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:r+=e.slice(0,i-1).join(", "),r+=", and ".concat(e[i-1]," arguments");break}return"".concat(r," must be specified")},TypeError);w_e.exports.codes=S_e});var R_e=Ae((QAt,D_e)=>{"use strict";m();function dit(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){hit(n,i,t[i])})}return n}function hit(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pit(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function A_e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function mit(n,e,t){return e&&A_e(n.prototype,e),t&&A_e(n,t),n}function iS(n,e){return e&&(u1(e)==="object"||typeof e=="function")?e:gne(n)}function gne(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function xit(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&vD(n,e)}function yne(n){var e=typeof Map=="function"?new Map:void 0;return yne=function(r){if(r===null||!yit(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Zj(r,arguments,W5(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),vD(i,r)},yne(n)}function git(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Zj(n,e,t){return git()?Zj=Reflect.construct:Zj=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),f=new l;return o&&vD(f,o.prototype),f},Zj.apply(null,arguments)}function yit(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function vD(n,e){return vD=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},vD(n,e)}function W5(n){return W5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},W5(n)}function u1(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u1=function(t){return typeof t}:u1=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u1(n)}var vit=V5(),vne=vit.inspect,_it=xne(),Eit=_it.codes.ERR_INVALID_ARG_TYPE;function T_e(n,e,t){return(t===void 0||t>n.length)&&(t=n.length),n.substring(t-e.length,t)===e}function bit(n,e){if(e=Math.floor(e),n.length==0||e==0)return"";var t=n.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)n+=n,e--;return n+=n.substring(0,t-n.length),n}var wm="",_D="",ED="",Yf="",E6={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},Sit=10;function F_e(n){var e=Object.keys(n),t=Object.create(Object.getPrototypeOf(n));return e.forEach(function(r){t[r]=n[r]}),Object.defineProperty(t,"message",{value:n.message}),t}function bD(n){return vne(n,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function Cit(n,e,t){var r="",i="",s=0,o="",a=!1,l=bD(n),f=l.split(`
`),p=bD(e).split(`
`),_=0,b="";if(t==="strictEqual"&&u1(n)==="object"&&u1(e)==="object"&&n!==null&&e!==null&&(t="strictEqualObject"),f.length===1&&p.length===1&&f[0]!==p[0]){var R=f[0].length+p[0].length;if(R<=Sit){if((u1(n)!=="object"||n===null)&&(u1(e)!=="object"||e===null)&&(n!==0||e!==0))return"".concat(E6[t],`

`)+"".concat(f[0]," !== ").concat(p[0],`
`)}else if(t!=="strictEqualObject"){var O=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(R<O){for(;f[0][_]===p[0][_];)_++;_>2&&(b=`
  `.concat(bit(" ",_),"^"),_=0)}}}for(var j=f[f.length-1],$=p[p.length-1];j===$&&(_++<2?o=`
  `.concat(j).concat(o):r=j,f.pop(),p.pop(),!(f.length===0||p.length===0));)j=f[f.length-1],$=p[p.length-1];var L=Math.max(f.length,p.length);if(L===0){var q=l.split(`
`);if(q.length>30)for(q[26]="".concat(wm,"...").concat(Yf);q.length>27;)q.pop();return"".concat(E6.notIdentical,`

`).concat(q.join(`
`),`
`)}_>3&&(o=`
`.concat(wm,"...").concat(Yf).concat(o),a=!0),r!==""&&(o=`
  `.concat(r).concat(o),r="");var P=0,W=E6[t]+`
`.concat(_D,"+ actual").concat(Yf," ").concat(ED,"- expected").concat(Yf),oe=" ".concat(wm,"...").concat(Yf," Lines skipped");for(_=0;_<L;_++){var I=_-s;if(f.length<_+1)I>1&&_>2&&(I>4?(i+=`
`.concat(wm,"...").concat(Yf),a=!0):I>3&&(i+=`
  `.concat(p[_-2]),P++),i+=`
  `.concat(p[_-1]),P++),s=_,r+=`
`.concat(ED,"-").concat(Yf," ").concat(p[_]),P++;else if(p.length<_+1)I>1&&_>2&&(I>4?(i+=`
`.concat(wm,"...").concat(Yf),a=!0):I>3&&(i+=`
  `.concat(f[_-2]),P++),i+=`
  `.concat(f[_-1]),P++),s=_,i+=`
`.concat(_D,"+").concat(Yf," ").concat(f[_]),P++;else{var J=p[_],he=f[_],ye=he!==J&&(!T_e(he,",")||he.slice(0,-1)!==J);ye&&T_e(J,",")&&J.slice(0,-1)===he&&(ye=!1,he+=","),ye?(I>1&&_>2&&(I>4?(i+=`
`.concat(wm,"...").concat(Yf),a=!0):I>3&&(i+=`
  `.concat(f[_-2]),P++),i+=`
  `.concat(f[_-1]),P++),s=_,i+=`
`.concat(_D,"+").concat(Yf," ").concat(he),r+=`
`.concat(ED,"-").concat(Yf," ").concat(J),P+=2):(i+=r,r="",(I===1||_===0)&&(i+=`
  `.concat(he),P++))}if(P>20&&_<L-2)return"".concat(W).concat(oe,`
`).concat(i,`
`).concat(wm,"...").concat(Yf).concat(r,`
`)+"".concat(wm,"...").concat(Yf)}return"".concat(W).concat(a?oe:"",`
`).concat(i).concat(r).concat(o).concat(b)}var wit=function(n){xit(e,n);function e(t){var r;if(pit(this,e),u1(t)!=="object"||t===null)throw new Eit("options","Object",t);var i=t.message,s=t.operator,o=t.stackStartFn,a=t.actual,l=t.expected,f=Error.stackTraceLimit;if(Error.stackTraceLimit=0,i!=null)r=iS(this,W5(e).call(this,String(i)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(wm="\x1B[34m",_D="\x1B[32m",Yf="\x1B[39m",ED="\x1B[31m"):(wm="",_D="",Yf="",ED="")),u1(a)==="object"&&a!==null&&u1(l)==="object"&&l!==null&&"stack"in a&&a instanceof Error&&"stack"in l&&l instanceof Error&&(a=F_e(a),l=F_e(l)),s==="deepStrictEqual"||s==="strictEqual")r=iS(this,W5(e).call(this,Cit(a,l,s)));else if(s==="notDeepStrictEqual"||s==="notStrictEqual"){var p=E6[s],_=bD(a).split(`
`);if(s==="notStrictEqual"&&u1(a)==="object"&&a!==null&&(p=E6.notStrictEqualObject),_.length>30)for(_[26]="".concat(wm,"...").concat(Yf);_.length>27;)_.pop();_.length===1?r=iS(this,W5(e).call(this,"".concat(p," ").concat(_[0]))):r=iS(this,W5(e).call(this,"".concat(p,`

`).concat(_.join(`
`),`
`)))}else{var b=bD(a),R="",O=E6[s];s==="notDeepEqual"||s==="notEqual"?(b="".concat(E6[s],`

`).concat(b),b.length>1024&&(b="".concat(b.slice(0,1021),"..."))):(R="".concat(bD(l)),b.length>512&&(b="".concat(b.slice(0,509),"...")),R.length>512&&(R="".concat(R.slice(0,509),"...")),s==="deepEqual"||s==="equal"?b="".concat(O,`

`).concat(b,`

should equal

`):R=" ".concat(s," ").concat(R)),r=iS(this,W5(e).call(this,"".concat(b).concat(R)))}return Error.stackTraceLimit=f,r.generatedMessage=!i,Object.defineProperty(gne(r),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),r.code="ERR_ASSERTION",r.actual=a,r.expected=l,r.operator=s,Error.captureStackTrace&&Error.captureStackTrace(gne(r),o),r.stack,r.name="AssertionError",iS(r)}return mit(e,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:vne.custom,value:function(r,i){return vne(this,dit({},i,{customInspect:!1,depth:0}))}}]),e}(yne(Error));D_e.exports=wit});var L_e=Ae((GAt,N_e)=>{"use strict";m();function O_e(n,e){if(n==null)throw new TypeError("Cannot convert first argument to object");for(var t=Object(n),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var s=Object.keys(Object(i)),o=0,a=s.length;o<a;o++){var l=s[o],f=Object.getOwnPropertyDescriptor(i,l);f!==void 0&&f.enumerable&&(t[l]=i[l])}}return t}function Ait(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:O_e})}N_e.exports={assign:O_e,polyfill:Ait}});var _ne=Ae((YAt,I_e)=>{"use strict";m();var k_e=Object.prototype.toString;I_e.exports=function(e){var t=k_e.call(e),r=t==="[object Arguments]";return r||(r=t!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&k_e.call(e.callee)==="[object Function]"),r}});var H_e=Ae((KAt,z_e)=>{"use strict";m();var M_e;Object.keys||(SD=Object.prototype.hasOwnProperty,Ene=Object.prototype.toString,P_e=_ne(),bne=Object.prototype.propertyIsEnumerable,B_e=!bne.call({toString:null},"toString"),j_e=bne.call(function(){},"prototype"),CD=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],eq=function(n){var e=n.constructor;return e&&e.prototype===n},q_e={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},U_e=function(){if(typeof window=="undefined")return!1;for(var n in window)try{if(!q_e["$"+n]&&SD.call(window,n)&&window[n]!==null&&typeof window[n]=="object")try{eq(window[n])}catch{return!0}}catch{return!0}return!1}(),$_e=function(n){if(typeof window=="undefined"||!U_e)return eq(n);try{return eq(n)}catch{return!1}},M_e=function(e){var t=e!==null&&typeof e=="object",r=Ene.call(e)==="[object Function]",i=P_e(e),s=t&&Ene.call(e)==="[object String]",o=[];if(!t&&!r&&!i)throw new TypeError("Object.keys called on a non-object");var a=j_e&&r;if(s&&e.length>0&&!SD.call(e,0))for(var l=0;l<e.length;++l)o.push(String(l));if(i&&e.length>0)for(var f=0;f<e.length;++f)o.push(String(f));else for(var p in e)!(a&&p==="prototype")&&SD.call(e,p)&&o.push(String(p));if(B_e)for(var _=$_e(e),b=0;b<CD.length;++b)!(_&&CD[b]==="constructor")&&SD.call(e,CD[b])&&o.push(CD[b]);return o});var SD,Ene,P_e,bne,B_e,j_e,CD,eq,q_e,U_e,$_e;z_e.exports=M_e});var G_e=Ae((JAt,Q_e)=>{"use strict";m();var Tit=Array.prototype.slice,Fit=_ne(),V_e=Object.keys,tq=V_e?function(e){return V_e(e)}:H_e(),W_e=Object.keys;tq.shim=function(){if(Object.keys){var e=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);e||(Object.keys=function(r){return Fit(r)?W_e(Tit.call(r)):W_e(r)})}else Object.keys=tq;return Object.keys||tq};Q_e.exports=tq});var K_e=Ae((XAt,Y_e)=>{"use strict";m();var Dit=hD(),Sne=Dit("%Object.defineProperty%",!0),Cne=function(){if(Sne)try{return Sne({},"a",{value:1}),!0}catch{return!1}return!1};Cne.hasArrayLengthDefineBug=function(){if(!Cne())return null;try{return Sne([],"length",{value:1}).length!==1}catch{return!0}};Y_e.exports=Cne});var wD=Ae((ZAt,e6e)=>{"use strict";m();var Rit=G_e(),Oit=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Nit=Object.prototype.toString,Lit=Array.prototype.concat,J_e=Object.defineProperty,kit=function(n){return typeof n=="function"&&Nit.call(n)==="[object Function]"},Iit=K_e()(),X_e=J_e&&Iit,Mit=function(n,e,t,r){e in n&&(!kit(r)||!r())||(X_e?J_e(n,e,{configurable:!0,enumerable:!1,value:t,writable:!0}):n[e]=t)},Z_e=function(n,e){var t=arguments.length>2?arguments[2]:{},r=Rit(e);Oit&&(r=Lit.call(r,Object.getOwnPropertySymbols(e)));for(var i=0;i<r.length;i+=1)Mit(n,r[i],e[r[i]],t[r[i]])};Z_e.supportsDescriptors=!!X_e;e6e.exports=Z_e});var wne=Ae((eTt,n6e)=>{"use strict";m();var t6e=function(n){return n!==n};n6e.exports=function(e,t){return e===0&&t===0?1/e===1/t:!!(e===t||t6e(e)&&t6e(t))}});var Ane=Ae((tTt,r6e)=>{"use strict";m();var Pit=wne();r6e.exports=function(){return typeof Object.is=="function"?Object.is:Pit}});var s6e=Ae((nTt,i6e)=>{"use strict";m();var Bit=Ane(),jit=wD();i6e.exports=function(){var e=Bit();return jit(Object,{is:e},{is:function(){return Object.is!==e}}),e}});var Tne=Ae((rTt,u6e)=>{"use strict";m();var qit=wD(),Uit=Ij(),$it=wne(),o6e=Ane(),zit=s6e(),a6e=Uit(o6e(),Object);qit(a6e,{getPolyfill:o6e,implementation:$it,shim:zit});u6e.exports=a6e});var Fne=Ae((iTt,l6e)=>{"use strict";m();l6e.exports=function(e){return e!==e}});var Dne=Ae((sTt,c6e)=>{"use strict";m();var Hit=Fne();c6e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:Hit}});var d6e=Ae((oTt,f6e)=>{"use strict";m();var Vit=wD(),Wit=Dne();f6e.exports=function(){var e=Wit();return Vit(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}});var x6e=Ae((aTt,m6e)=>{"use strict";m();var Qit=Ij(),Git=wD(),Yit=Fne(),h6e=Dne(),Kit=d6e(),p6e=Qit(h6e(),Number);Git(p6e,{getPolyfill:h6e,implementation:Yit,shim:Kit});m6e.exports=p6e});var I6e=Ae((uTt,k6e)=>{"use strict";m();function g6e(n,e){return Zit(n)||Xit(n,e)||Jit()}function Jit(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Xit(n,e){var t=[],r=!0,i=!1,s=void 0;try{for(var o=n[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(t.push(a.value),!(e&&t.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return t}function Zit(n){if(Array.isArray(n))return n}function Kh(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kh=function(t){return typeof t}:Kh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(n)}var est=/a/g.flags!==void 0,nq=function(e){var t=[];return e.forEach(function(r){return t.push(r)}),t},y6e=function(e){var t=[];return e.forEach(function(r,i){return t.push([i,r])}),t},v6e=Object.is?Object.is:Tne(),rq=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},Rne=Number.isNaN?Number.isNaN:x6e();function One(n){return n.call.bind(n)}var AD=One(Object.prototype.hasOwnProperty),iq=One(Object.prototype.propertyIsEnumerable),_6e=One(Object.prototype.toString),_d=V5().types,tst=_d.isAnyArrayBuffer,nst=_d.isArrayBufferView,E6e=_d.isDate,sq=_d.isMap,b6e=_d.isRegExp,oq=_d.isSet,rst=_d.isNativeError,ist=_d.isBoxedPrimitive,S6e=_d.isNumberObject,C6e=_d.isStringObject,w6e=_d.isBooleanObject,A6e=_d.isBigIntObject,sst=_d.isSymbolObject,ost=_d.isFloat32Array,ast=_d.isFloat64Array;function ust(n){if(n.length===0||n.length>10)return!0;for(var e=0;e<n.length;e++){var t=n.charCodeAt(e);if(t<48||t>57)return!0}return n.length===10&&n>=Math.pow(2,32)}function aq(n){return Object.keys(n).filter(ust).concat(rq(n).filter(Object.prototype.propertyIsEnumerable.bind(n)))}function T6e(n,e){if(n===e)return 0;for(var t=n.length,r=e.length,i=0,s=Math.min(t,r);i<s;++i)if(n[i]!==e[i]){t=n[i],r=e[i];break}return t<r?-1:r<t?1:0}var uq=void 0,lst=!0,cst=!1,Nne=0,Lne=1,F6e=2,D6e=3;function fst(n,e){return est?n.source===e.source&&n.flags===e.flags:RegExp.prototype.toString.call(n)===RegExp.prototype.toString.call(e)}function dst(n,e){if(n.byteLength!==e.byteLength)return!1;for(var t=0;t<n.byteLength;t++)if(n[t]!==e[t])return!1;return!0}function hst(n,e){return n.byteLength!==e.byteLength?!1:T6e(new Uint8Array(n.buffer,n.byteOffset,n.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))===0}function pst(n,e){return n.byteLength===e.byteLength&&T6e(new Uint8Array(n),new Uint8Array(e))===0}function mst(n,e){return S6e(n)?S6e(e)&&v6e(Number.prototype.valueOf.call(n),Number.prototype.valueOf.call(e)):C6e(n)?C6e(e)&&String.prototype.valueOf.call(n)===String.prototype.valueOf.call(e):w6e(n)?w6e(e)&&Boolean.prototype.valueOf.call(n)===Boolean.prototype.valueOf.call(e):A6e(n)?A6e(e)&&BigInt.prototype.valueOf.call(n)===BigInt.prototype.valueOf.call(e):sst(e)&&Symbol.prototype.valueOf.call(n)===Symbol.prototype.valueOf.call(e)}function l1(n,e,t,r){if(n===e)return n!==0?!0:t?v6e(n,e):!0;if(t){if(Kh(n)!=="object")return typeof n=="number"&&Rne(n)&&Rne(e);if(Kh(e)!=="object"||n===null||e===null||Object.getPrototypeOf(n)!==Object.getPrototypeOf(e))return!1}else{if(n===null||Kh(n)!=="object")return e===null||Kh(e)!=="object"?n==e:!1;if(e===null||Kh(e)!=="object")return!1}var i=_6e(n),s=_6e(e);if(i!==s)return!1;if(Array.isArray(n)){if(n.length!==e.length)return!1;var o=aq(n,uq),a=aq(e,uq);return o.length!==a.length?!1:TD(n,e,t,r,Lne,o)}if(i==="[object Object]"&&(!sq(n)&&sq(e)||!oq(n)&&oq(e)))return!1;if(E6e(n)){if(!E6e(e)||Date.prototype.getTime.call(n)!==Date.prototype.getTime.call(e))return!1}else if(b6e(n)){if(!b6e(e)||!fst(n,e))return!1}else if(rst(n)||n instanceof Error){if(n.message!==e.message||n.name!==e.name)return!1}else if(nst(n)){if(!t&&(ost(n)||ast(n))){if(!dst(n,e))return!1}else if(!hst(n,e))return!1;var l=aq(n,uq),f=aq(e,uq);return l.length!==f.length?!1:TD(n,e,t,r,Nne,l)}else{if(oq(n))return!oq(e)||n.size!==e.size?!1:TD(n,e,t,r,F6e);if(sq(n))return!sq(e)||n.size!==e.size?!1:TD(n,e,t,r,D6e);if(tst(n)){if(!pst(n,e))return!1}else if(ist(n)&&!mst(n,e))return!1}return TD(n,e,t,r,Nne)}function R6e(n,e){return e.filter(function(t){return iq(n,t)})}function TD(n,e,t,r,i,s){if(arguments.length===5){s=Object.keys(n);var o=Object.keys(e);if(s.length!==o.length)return!1}for(var a=0;a<s.length;a++)if(!AD(e,s[a]))return!1;if(t&&arguments.length===5){var l=rq(n);if(l.length!==0){var f=0;for(a=0;a<l.length;a++){var p=l[a];if(iq(n,p)){if(!iq(e,p))return!1;s.push(p),f++}else if(iq(e,p))return!1}var _=rq(e);if(l.length!==_.length&&R6e(e,_).length!==f)return!1}else{var b=rq(e);if(b.length!==0&&R6e(e,b).length!==0)return!1}}if(s.length===0&&(i===Nne||i===Lne&&n.length===0||n.size===0))return!0;if(r===void 0)r={val1:new Map,val2:new Map,position:0};else{var R=r.val1.get(n);if(R!==void 0){var O=r.val2.get(e);if(O!==void 0)return R===O}r.position++}r.val1.set(n,r.position),r.val2.set(e,r.position);var j=_st(n,e,t,s,r,i);return r.val1.delete(n),r.val2.delete(e),j}function O6e(n,e,t,r){for(var i=nq(n),s=0;s<i.length;s++){var o=i[s];if(l1(e,o,t,r))return n.delete(o),!0}return!1}function N6e(n){switch(Kh(n)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":n=+n;case"number":if(Rne(n))return!1}return!0}function xst(n,e,t){var r=N6e(t);return r??(e.has(r)&&!n.has(r))}function gst(n,e,t,r,i){var s=N6e(t);if(s!=null)return s;var o=e.get(s);return o===void 0&&!e.has(s)||!l1(r,o,!1,i)?!1:!n.has(s)&&l1(r,o,!1,i)}function yst(n,e,t,r){for(var i=null,s=nq(n),o=0;o<s.length;o++){var a=s[o];if(Kh(a)==="object"&&a!==null)i===null&&(i=new Set),i.add(a);else if(!e.has(a)){if(t||!xst(n,e,a))return!1;i===null&&(i=new Set),i.add(a)}}if(i!==null){for(var l=nq(e),f=0;f<l.length;f++){var p=l[f];if(Kh(p)==="object"&&p!==null){if(!O6e(i,p,t,r))return!1}else if(!t&&!n.has(p)&&!O6e(i,p,t,r))return!1}return i.size===0}return!0}function L6e(n,e,t,r,i,s){for(var o=nq(n),a=0;a<o.length;a++){var l=o[a];if(l1(t,l,i,s)&&l1(r,e.get(l),i,s))return n.delete(l),!0}return!1}function vst(n,e,t,r){for(var i=null,s=y6e(n),o=0;o<s.length;o++){var a=g6e(s[o],2),l=a[0],f=a[1];if(Kh(l)==="object"&&l!==null)i===null&&(i=new Set),i.add(l);else{var p=e.get(l);if(p===void 0&&!e.has(l)||!l1(f,p,t,r)){if(t||!gst(n,e,l,f,r))return!1;i===null&&(i=new Set),i.add(l)}}}if(i!==null){for(var _=y6e(e),b=0;b<_.length;b++){var R=g6e(_[b],2),l=R[0],O=R[1];if(Kh(l)==="object"&&l!==null){if(!L6e(i,n,l,O,t,r))return!1}else if(!t&&(!n.has(l)||!l1(n.get(l),O,!1,r))&&!L6e(i,n,l,O,!1,r))return!1}return i.size===0}return!0}function _st(n,e,t,r,i,s){var o=0;if(s===F6e){if(!yst(n,e,t,i))return!1}else if(s===D6e){if(!vst(n,e,t,i))return!1}else if(s===Lne)for(;o<n.length;o++)if(AD(n,o)){if(!AD(e,o)||!l1(n[o],e[o],t,i))return!1}else{if(AD(e,o))return!1;for(var a=Object.keys(n);o<a.length;o++){var l=a[o];if(!AD(e,l)||!l1(n[l],e[l],t,i))return!1}return a.length===Object.keys(e).length}for(o=0;o<r.length;o++){var f=r[o];if(!l1(n[f],e[f],t,i))return!1}return!0}function Est(n,e){return l1(n,e,cst)}function bst(n,e){return l1(n,e,lst)}k6e.exports={isDeepEqual:Est,isDeepStrictEqual:bst}});var M0=Ae((lTt,J6e)=>{"use strict";m();function Q5(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Q5=function(t){return typeof t}:Q5=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q5(n)}function Sst(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var Cst=xne(),FD=Cst.codes,M6e=FD.ERR_AMBIGUOUS_ARGUMENT,DD=FD.ERR_INVALID_ARG_TYPE,wst=FD.ERR_INVALID_ARG_VALUE,Ast=FD.ERR_INVALID_RETURN_VALUE,G5=FD.ERR_MISSING_ARGS,b6=R_e(),Tst=V5(),Fst=Tst.inspect,P6e=V5().types,Dst=P6e.isPromise,kne=P6e.isRegExp,Rst=Object.assign?Object.assign:L_e().assign,B6e=Object.is?Object.is:Tne(),Y5,lq;function RD(){var n=I6e();Y5=n.isDeepEqual,lq=n.isDeepStrictEqual}var j6e=!1,Wu=J6e.exports=Ine,cq={};function Am(n){throw n.message instanceof Error?n.message:new b6(n)}function q6e(n,e,t,r,i){var s=arguments.length,o;if(s===0)o="Failed";else if(s===1)t=n,n=void 0;else{if(j6e===!1){j6e=!0;var a=process.emitWarning?process.emitWarning:console.warn.bind(console);a("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}s===2&&(r="!=")}if(t instanceof Error)throw t;var l={actual:n,expected:e,operator:r===void 0?"fail":r,stackStartFn:i||q6e};t!==void 0&&(l.message=t);var f=new b6(l);throw o&&(f.message=o,f.generatedMessage=!0),f}Wu.fail=q6e;Wu.AssertionError=b6;function U6e(n,e,t,r){if(!t){var i=!1;if(e===0)i=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var s=new b6({actual:t,expected:!0,message:r,operator:"==",stackStartFn:n});throw s.generatedMessage=i,s}}function Ine(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];U6e.apply(void 0,[Ine,e.length].concat(e))}Wu.ok=Ine;Wu.equal=function n(e,t,r){if(arguments.length<2)throw new G5("actual","expected");e!=t&&Am({actual:e,expected:t,message:r,operator:"==",stackStartFn:n})};Wu.notEqual=function n(e,t,r){if(arguments.length<2)throw new G5("actual","expected");e==t&&Am({actual:e,expected:t,message:r,operator:"!=",stackStartFn:n})};Wu.deepEqual=function n(e,t,r){if(arguments.length<2)throw new G5("actual","expected");Y5===void 0&&RD(),Y5(e,t)||Am({actual:e,expected:t,message:r,operator:"deepEqual",stackStartFn:n})};Wu.notDeepEqual=function n(e,t,r){if(arguments.length<2)throw new G5("actual","expected");Y5===void 0&&RD(),Y5(e,t)&&Am({actual:e,expected:t,message:r,operator:"notDeepEqual",stackStartFn:n})};Wu.deepStrictEqual=function n(e,t,r){if(arguments.length<2)throw new G5("actual","expected");Y5===void 0&&RD(),lq(e,t)||Am({actual:e,expected:t,message:r,operator:"deepStrictEqual",stackStartFn:n})};Wu.notDeepStrictEqual=$6e;function $6e(n,e,t){if(arguments.length<2)throw new G5("actual","expected");Y5===void 0&&RD(),lq(n,e)&&Am({actual:n,expected:e,message:t,operator:"notDeepStrictEqual",stackStartFn:$6e})}Wu.strictEqual=function n(e,t,r){if(arguments.length<2)throw new G5("actual","expected");B6e(e,t)||Am({actual:e,expected:t,message:r,operator:"strictEqual",stackStartFn:n})};Wu.notStrictEqual=function n(e,t,r){if(arguments.length<2)throw new G5("actual","expected");B6e(e,t)&&Am({actual:e,expected:t,message:r,operator:"notStrictEqual",stackStartFn:n})};var z6e=function n(e,t,r){var i=this;Sst(this,n),t.forEach(function(s){s in e&&(r!==void 0&&typeof r[s]=="string"&&kne(e[s])&&e[s].test(r[s])?i[s]=r[s]:i[s]=e[s])})};function Ost(n,e,t,r,i,s){if(!(t in n)||!lq(n[t],e[t])){if(!r){var o=new z6e(n,i),a=new z6e(e,i,n),l=new b6({actual:o,expected:a,operator:"deepStrictEqual",stackStartFn:s});throw l.actual=n,l.expected=e,l.operator=s.name,l}Am({actual:n,expected:e,message:r,operator:s.name,stackStartFn:s})}}function H6e(n,e,t,r){if(typeof e!="function"){if(kne(e))return e.test(n);if(arguments.length===2)throw new DD("expected",["Function","RegExp"],e);if(Q5(n)!=="object"||n===null){var i=new b6({actual:n,expected:e,message:t,operator:"deepStrictEqual",stackStartFn:r});throw i.operator=r.name,i}var s=Object.keys(e);if(e instanceof Error)s.push("name","message");else if(s.length===0)throw new wst("error",e,"may not be an empty object");return Y5===void 0&&RD(),s.forEach(function(o){typeof n[o]=="string"&&kne(e[o])&&e[o].test(n[o])||Ost(n,e,o,t,s,r)}),!0}return e.prototype!==void 0&&n instanceof e?!0:Error.isPrototypeOf(e)?!1:e.call({},n)===!0}function V6e(n){if(typeof n!="function")throw new DD("fn","Function",n);try{n()}catch(e){return e}return cq}function W6e(n){return Dst(n)||n!==null&&Q5(n)==="object"&&typeof n.then=="function"&&typeof n.catch=="function"}function Q6e(n){return Promise.resolve().then(function(){var e;if(typeof n=="function"){if(e=n(),!W6e(e))throw new Ast("instance of Promise","promiseFn",e)}else if(W6e(n))e=n;else throw new DD("promiseFn",["Function","Promise"],n);return Promise.resolve().then(function(){return e}).then(function(){return cq}).catch(function(t){return t})})}function G6e(n,e,t,r){if(typeof t=="string"){if(arguments.length===4)throw new DD("error",["Object","Error","Function","RegExp"],t);if(Q5(e)==="object"&&e!==null){if(e.message===t)throw new M6e("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===t)throw new M6e("error/message",'The error "'.concat(e,'" is identical to the message.'));r=t,t=void 0}else if(t!=null&&Q5(t)!=="object"&&typeof t!="function")throw new DD("error",["Object","Error","Function","RegExp"],t);if(e===cq){var i="";t&&t.name&&(i+=" (".concat(t.name,")")),i+=r?": ".concat(r):".";var s=n.name==="rejects"?"rejection":"exception";Am({actual:void 0,expected:t,operator:n.name,message:"Missing expected ".concat(s).concat(i),stackStartFn:n})}if(t&&!H6e(e,t,r,n))throw e}function Y6e(n,e,t,r){if(e!==cq){if(typeof t=="string"&&(r=t,t=void 0),!t||H6e(e,t)){var i=r?": ".concat(r):".",s=n.name==="doesNotReject"?"rejection":"exception";Am({actual:e,expected:t,operator:n.name,message:"Got unwanted ".concat(s).concat(i,`
`)+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:n})}throw e}}Wu.throws=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];G6e.apply(void 0,[n,V6e(e)].concat(r))};Wu.rejects=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return Q6e(e).then(function(s){return G6e.apply(void 0,[n,s].concat(r))})};Wu.doesNotThrow=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];Y6e.apply(void 0,[n,V6e(e)].concat(r))};Wu.doesNotReject=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return Q6e(e).then(function(s){return Y6e.apply(void 0,[n,s].concat(r))})};Wu.ifError=function n(e){if(e!=null){var t="ifError got unwanted exception: ";Q5(e)==="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?t+=e.constructor.name:t+=e.message:t+=Fst(e);var r=new b6({actual:e,expected:null,operator:"ifError",message:t,stackStartFn:n}),i=e.stack;if(typeof i=="string"){var s=i.split(`
`);s.shift();for(var o=r.stack.split(`
`),a=0;a<s.length;a++){var l=o.indexOf(s[a]);if(l!==-1){o=o.slice(0,l);break}}r.stack="".concat(o.join(`
`),`
`).concat(s.join(`
`))}throw r}};function K6e(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];U6e.apply(void 0,[K6e,e.length].concat(e))}Wu.strict=Rst(K6e,Wu,{equal:Wu.strictEqual,deepEqual:Wu.deepStrictEqual,notEqual:Wu.notStrictEqual,notDeepEqual:Wu.notDeepStrictEqual});Wu.strict.strict=Wu.strict});var Cr=Ae(Q2=>{"use strict";m();Object.defineProperty(Q2,"__esModule",{value:!0});Q2.SuppressWarnings=Q2.Override=Q2.Nullable=Q2.NotNull=void 0;function Nst(n,e,t){}Q2.NotNull=Nst;function Lst(n,e,t){}Q2.Nullable=Lst;function kst(n,e,t){}Q2.Override=kst;function Ist(n){return(e,t,r)=>{}}Q2.SuppressWarnings=Ist});var Jg=Ae(OD=>{"use strict";m();Object.defineProperty(OD,"__esModule",{value:!0});OD.IntStream=void 0;var Mst;(function(n){n.EOF=-1,n.UNKNOWN_SOURCE_NAME="<unknown>"})(Mst=OD.IntStream||(OD.IntStream={}))});var X6e=Ae(sS=>{"use strict";m();var G2=sS&&sS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(sS,"__esModule",{value:!0});sS.ANTLRInputStream=void 0;var Pst=M0(),Y2=Cr(),fq=Jg(),c1=class{constructor(e){this.p=0,this.data=e,this.n=e.length}reset(){this.p=0}consume(){if(this.p>=this.n)throw Pst(this.LA(1)===fq.IntStream.EOF),new Error("cannot consume EOF");this.p<this.n&&this.p++}LA(e){return e===0?0:e<0&&(e++,this.p+e-1<0)||this.p+e-1>=this.n?fq.IntStream.EOF:this.data.charCodeAt(this.p+e-1)}LT(e){return this.LA(e)}get index(){return this.p}get size(){return this.n}mark(){return-1}release(e){}seek(e){if(e<=this.p){this.p=e;return}for(e=Math.min(e,this.n);this.p<e;)this.consume()}getText(e){let t=e.a,r=e.b;r>=this.n&&(r=this.n-1);let i=r-t+1;return t>=this.n?"":this.data.substr(t,i)}get sourceName(){return this.name?this.name:fq.IntStream.UNKNOWN_SOURCE_NAME}toString(){return this.data}};G2([Y2.Override],c1.prototype,"consume",null);G2([Y2.Override],c1.prototype,"LA",null);G2([Y2.Override],c1.prototype,"index",null);G2([Y2.Override],c1.prototype,"size",null);G2([Y2.Override],c1.prototype,"mark",null);G2([Y2.Override],c1.prototype,"release",null);G2([Y2.Override],c1.prototype,"seek",null);G2([Y2.Override],c1.prototype,"getText",null);G2([Y2.Override],c1.prototype,"sourceName",null);G2([Y2.Override],c1.prototype,"toString",null);sS.ANTLRInputStream=c1});var K2=Ae(K5=>{"use strict";m();var Mne=K5&&K5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(K5,"__esModule",{value:!0});K5.ATNState=void 0;var Pne=Cr(),Xg=class{constructor(){this.stateNumber=Xg.INVALID_STATE_NUMBER,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.optimizedTransitions=this.transitions}getStateNumber(){return this.stateNumber}get nonStopStateNumber(){return this.getStateNumber()}hashCode(){return this.stateNumber}equals(e){return e instanceof Xg?this.stateNumber===e.stateNumber:!1}get isNonGreedyExitState(){return!1}toString(){return String(this.stateNumber)}getTransitions(){return this.transitions.slice(0)}get numberOfTransitions(){return this.transitions.length}addTransition(e,t){if(this.transitions.length===0)this.epsilonOnlyTransitions=e.isEpsilon;else if(this.epsilonOnlyTransitions!==e.isEpsilon)throw this.epsilonOnlyTransitions=!1,new Error("ATN state "+this.stateNumber+" has both epsilon and non-epsilon transitions.");this.transitions.splice(t!==void 0?t:this.transitions.length,0,e)}transition(e){return this.transitions[e]}setTransition(e,t){this.transitions[e]=t}removeTransition(e){return this.transitions.splice(e,1)[0]}get onlyHasEpsilonTransitions(){return this.epsilonOnlyTransitions}setRuleIndex(e){this.ruleIndex=e}get isOptimized(){return this.optimizedTransitions!==this.transitions}get numberOfOptimizedTransitions(){return this.optimizedTransitions.length}getOptimizedTransition(e){return this.optimizedTransitions[e]}addOptimizedTransition(e){this.isOptimized||(this.optimizedTransitions=new Array),this.optimizedTransitions.push(e)}setOptimizedTransition(e,t){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions[e]=t}removeOptimizedTransition(e){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions.splice(e,1)}};Mne([Pne.Override],Xg.prototype,"hashCode",null);Mne([Pne.Override],Xg.prototype,"equals",null);Mne([Pne.Override],Xg.prototype,"toString",null);K5.ATNState=Xg;(function(n){n.INVALID_STATE_NUMBER=-1})(Xg=K5.ATNState||(K5.ATNState={}))});var Ef=Ae(ND=>{"use strict";m();Object.defineProperty(ND,"__esModule",{value:!0});ND.ATNStateType=void 0;var Bst;(function(n){n[n.INVALID_TYPE=0]="INVALID_TYPE",n[n.BASIC=1]="BASIC",n[n.RULE_START=2]="RULE_START",n[n.BLOCK_START=3]="BLOCK_START",n[n.PLUS_BLOCK_START=4]="PLUS_BLOCK_START",n[n.STAR_BLOCK_START=5]="STAR_BLOCK_START",n[n.TOKEN_START=6]="TOKEN_START",n[n.RULE_STOP=7]="RULE_STOP",n[n.BLOCK_END=8]="BLOCK_END",n[n.STAR_LOOP_BACK=9]="STAR_LOOP_BACK",n[n.STAR_LOOP_ENTRY=10]="STAR_LOOP_ENTRY",n[n.PLUS_LOOP_BACK=11]="PLUS_LOOP_BACK",n[n.LOOP_END=12]="LOOP_END"})(Bst=ND.ATNStateType||(ND.ATNStateType={}))});var Zg=Ae(dq=>{"use strict";m();Object.defineProperty(dq,"__esModule",{value:!0});dq.RecognitionException=void 0;var Z6e=class extends Error{constructor(e,t,r,i){super(i);this._offendingState=-1,this._recognizer=e,this.input=t,this.ctx=r,e&&(this._offendingState=e.state)}get offendingState(){return this._offendingState}setOffendingState(e){this._offendingState=e}get expectedTokens(){if(this._recognizer)return this._recognizer.atn.getExpectedTokens(this._offendingState,this.ctx)}get context(){return this.ctx}get inputStream(){return this.input}getOffendingToken(e){if(!(e&&e!==this._recognizer))return this.offendingToken}setOffendingToken(e,t){e===this._recognizer&&(this.offendingToken=t)}get recognizer(){return this._recognizer}};dq.RecognitionException=Z6e});var ey=Ae(J5=>{"use strict";m();var eEe=J5&&J5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},jst=J5&&J5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(J5,"__esModule",{value:!0});J5.Transition=void 0;var tEe=Cr(),LD=class{constructor(e){if(e==null)throw new Error("target cannot be null.");this.target=e}get isEpsilon(){return!1}get label(){}};LD.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"];eEe([tEe.NotNull],LD.prototype,"target",void 0);LD=eEe([jst(0,tEe.NotNull)],LD);J5.Transition=LD});var pq=Ae(hq=>{"use strict";m();Object.defineProperty(hq,"__esModule",{value:!0});hq.AbstractPredicateTransition=void 0;var qst=ey(),nEe=class extends qst.Transition{constructor(e){super(e)}};hq.AbstractPredicateTransition=nEe});var Pl=Ae(kD=>{"use strict";m();Object.defineProperty(kD,"__esModule",{value:!0});kD.MurmurHash=void 0;var Ust;(function(n){let e=0;function t(a=e){return a}n.initialize=t;function r(a,l){let f=3432918353,p=461845907,_=15,b=13,R=5,O=3864292196;l==null?l=0:typeof l=="string"?l=o(l):typeof l=="object"&&(l=l.hashCode());let j=l;return j=Math.imul(j,f),j=j<<_|j>>>32-_,j=Math.imul(j,p),a=a^j,a=a<<b|a>>>32-b,a=Math.imul(a,R)+O,a&4294967295}n.update=r;function i(a,l){return a=a^l*4,a=a^a>>>16,a=Math.imul(a,2246822507),a=a^a>>>13,a=Math.imul(a,3266489909),a=a^a>>>16,a}n.finish=i;function s(a,l=e){let f=t(l),p=0;for(let _ of a)f=r(f,_),p++;return f=i(f,p),f}n.hashCode=s;function o(a){let l=a.length;if(l===0)return 0;let f=0;for(let p=0;p<l;p++){let _=a.charCodeAt(p);f=(f<<5>>>0)-f+_,f|=0}return f}})(Ust=kD.MurmurHash||(kD.MurmurHash={}))});var Tm=Ae(aS=>{"use strict";m();var rEe=aS&&aS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(aS,"__esModule",{value:!0});aS.ObjectEqualityComparator=void 0;var iEe=Cr(),oS=class{hashCode(e){return e==null?0:e.hashCode()}equals(e,t){return e==null?t==null:e.equals(t)}};oS.INSTANCE=new oS;rEe([iEe.Override],oS.prototype,"hashCode",null);rEe([iEe.Override],oS.prototype,"equals",null);aS.ObjectEqualityComparator=oS});var uEe=Ae(lS=>{"use strict";m();var sEe=lS&&lS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(lS,"__esModule",{value:!0});lS.DefaultEqualityComparator=void 0;var oEe=Cr(),$st=Pl(),aEe=Tm(),uS=class{hashCode(e){return e==null?0:typeof e=="string"||typeof e=="number"?$st.MurmurHash.hashCode([e]):aEe.ObjectEqualityComparator.INSTANCE.hashCode(e)}equals(e,t){return e==null?t==null:typeof e=="string"||typeof e=="number"?e===t:aEe.ObjectEqualityComparator.INSTANCE.equals(e,t)}};uS.INSTANCE=new uS;sEe([oEe.Override],uS.prototype,"hashCode",null);sEe([oEe.Override],uS.prototype,"equals",null);lS.DefaultEqualityComparator=uS});var ty=Ae(X5=>{"use strict";m();var P0=X5&&X5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},zst=X5&&X5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(X5,"__esModule",{value:!0});X5.Array2DHashSet=void 0;var Hst=M0(),Vst=uEe(),B0=Cr(),Bne=Pl(),mq=16,jne=.75,Bl=class{constructor(e,t=mq){if(this.n=0,this.threshold=Math.floor(mq*jne),e instanceof Bl){this.comparator=e.comparator,this.buckets=e.buckets.slice(0);for(let r=0;r<this.buckets.length;r++){let i=this.buckets[r];i&&(this.buckets[r]=i.slice(0))}this.n=e.n,this.threshold=e.threshold}else this.comparator=e||Vst.DefaultEqualityComparator.INSTANCE,this.buckets=this.createBuckets(t)}getOrAdd(e){return this.n>this.threshold&&this.expand(),this.getOrAddImpl(e)}getOrAddImpl(e){let t=this.getBucket(e),r=this.buckets[t];if(!r)return r=[e],this.buckets[t]=r,this.n++,e;for(let i of r)if(this.comparator.equals(i,e))return i;return r.push(e),this.n++,e}get(e){if(e==null)return e;let t=this.getBucket(e),r=this.buckets[t];if(!!r){for(let i of r)if(this.comparator.equals(i,e))return i}}getBucket(e){return this.comparator.hashCode(e)&this.buckets.length-1}hashCode(){let e=Bne.MurmurHash.initialize();for(let t of this.buckets)if(t!=null)for(let r of t){if(r==null)break;e=Bne.MurmurHash.update(e,this.comparator.hashCode(r))}return e=Bne.MurmurHash.finish(e,this.size),e}equals(e){return e===this?!0:!(e instanceof Bl)||e.size!==this.size?!1:this.containsAll(e)}expand(){let e=this.buckets,t=this.buckets.length*2,r=this.createBuckets(t);this.buckets=r,this.threshold=Math.floor(t*jne);let i=this.size;for(let s of e)if(!!s)for(let o of s){let a=this.getBucket(o),l=this.buckets[a];l||(l=[],this.buckets[a]=l),l.push(o)}Hst(this.n===i)}add(e){return this.getOrAdd(e)===e}get size(){return this.n}get isEmpty(){return this.n===0}contains(e){return this.containsFast(this.asElementType(e))}containsFast(e){return e==null?!1:this.get(e)!=null}*[Symbol.iterator](){yield*this.toArray()}toArray(){let e=new Array(this.size),t=0;for(let r of this.buckets)if(r!=null)for(let i of r){if(i==null)break;e[t++]=i}return e}containsAll(e){if(e instanceof Bl){let t=e;for(let r of t.buckets)if(r!=null)for(let i of r){if(i==null)break;if(!this.containsFast(this.asElementType(i)))return!1}}else for(let t of e)if(!this.containsFast(this.asElementType(t)))return!1;return!0}addAll(e){let t=!1;for(let r of e)this.getOrAdd(r)!==r&&(t=!0);return t}clear(){this.buckets=this.createBuckets(mq),this.n=0,this.threshold=Math.floor(mq*jne)}toString(){if(this.size===0)return"{}";let e="{",t=!0;for(let r of this.buckets)if(r!=null)for(let i of r){if(i==null)break;t?t=!1:e+=", ",e+=i.toString()}return e+="}",e}toTableString(){let e="";for(let t of this.buckets){if(t==null){e+=`null
`;continue}e+="[";let r=!0;for(let i of t)r?r=!1:e+=" ",i==null?e+="_":e+=i.toString();e+=`]
`}return e}asElementType(e){return e}createBuckets(e){return new Array(e)}};P0([B0.NotNull],Bl.prototype,"comparator",void 0);P0([B0.Override],Bl.prototype,"hashCode",null);P0([B0.Override],Bl.prototype,"equals",null);P0([B0.Override],Bl.prototype,"add",null);P0([B0.Override],Bl.prototype,"size",null);P0([B0.Override],Bl.prototype,"isEmpty",null);P0([B0.Override],Bl.prototype,"contains",null);P0([zst(0,B0.Nullable)],Bl.prototype,"containsFast",null);P0([B0.Override],Bl.prototype,Symbol.iterator,null);P0([B0.Override],Bl.prototype,"toArray",null);P0([B0.Override],Bl.prototype,"containsAll",null);P0([B0.Override],Bl.prototype,"addAll",null);P0([B0.Override],Bl.prototype,"clear",null);P0([B0.Override],Bl.prototype,"toString",null);P0([B0.SuppressWarnings("unchecked")],Bl.prototype,"asElementType",null);P0([B0.SuppressWarnings("unchecked")],Bl.prototype,"createBuckets",null);X5.Array2DHashSet=Bl});var ID=Ae(fS=>{"use strict";m();var lEe=fS&&fS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(fS,"__esModule",{value:!0});fS.ArrayEqualityComparator=void 0;var cEe=Cr(),Wst=Pl(),Qst=Tm(),cS=class{hashCode(e){return e==null?0:Wst.MurmurHash.hashCode(e,0)}equals(e,t){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Qst.ObjectEqualityComparator.INSTANCE.equals(e[r],t[r]))return!1;return!0}};cS.INSTANCE=new cS;lEe([cEe.Override],cS.prototype,"hashCode",null);lEe([cEe.Override],cS.prototype,"equals",null);fS.ArrayEqualityComparator=cS});var Fm=Ae(f1=>{"use strict";m();Object.defineProperty(f1,"__esModule",{value:!0});f1.toCharArray=f1.toMap=f1.equals=f1.join=f1.escapeWhitespace=void 0;function Gst(n,e){return e?n.replace(/ /,"\xB7"):n.replace(/\t/,"\\t").replace(/\n/,"\\n").replace(/\r/,"\\r")}f1.escapeWhitespace=Gst;function Yst(n,e){let t="",r=!0;for(let i of n)r?r=!1:t+=e,t+=i;return t}f1.join=Yst;function Kst(n,e){return n===e?!0:n===void 0||e===void 0?!1:n.equals(e)}f1.equals=Kst;function Jst(n){let e=new Map;for(let t=0;t<n.length;t++)e.set(n[t],t);return e}f1.toMap=Jst;function Xst(n){if(typeof n=="string"){let e=new Uint16Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}else return n.toCharArray()}f1.toCharArray=Xst});var C6=Ae(J2=>{"use strict";m();var Qu=J2&&J2.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},xq=J2&&J2.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(J2,"__esModule",{value:!0});J2.SemanticContext=void 0;var fEe=ty(),dEe=ID(),S6=Pl(),au=Cr(),hEe=Tm(),pEe=Fm();function Zst(n){let e;for(let t of n){if(e===void 0){e=t;continue}e.compareTo(t)<0&&(e=t)}return e}function eot(n){let e;for(let t of n){if(e===void 0){e=t;continue}e.compareTo(t)>0&&(e=t)}return e}var Ed=class{static get NONE(){return Ed._NONE===void 0&&(Ed._NONE=new Ed.Predicate),Ed._NONE}evalPrecedence(e,t){return this}static and(e,t){if(!e||e===Ed.NONE)return t;if(t===Ed.NONE)return e;let r=new Ed.AND(e,t);return r.opnds.length===1?r.opnds[0]:r}static or(e,t){if(!e)return t;if(e===Ed.NONE||t===Ed.NONE)return Ed.NONE;let r=new Ed.OR(e,t);return r.opnds.length===1?r.opnds[0]:r}};J2.SemanticContext=Ed;(function(n){let e=40363613,t=486279973;function r(f){let p=[];for(let _=0;_<f.length;_++){let b=f[_];b instanceof n.PrecedencePredicate&&(p.push(b),f.splice(_,1),_--)}return p}class i extends n{constructor(p=-1,_=-1,b=!1){super();this.ruleIndex=p,this.predIndex=_,this.isCtxDependent=b}eval(p,_){let b=this.isCtxDependent?_:void 0;return p.sempred(b,this.ruleIndex,this.predIndex)}hashCode(){let p=S6.MurmurHash.initialize();return p=S6.MurmurHash.update(p,this.ruleIndex),p=S6.MurmurHash.update(p,this.predIndex),p=S6.MurmurHash.update(p,this.isCtxDependent?1:0),p=S6.MurmurHash.finish(p,3),p}equals(p){return p instanceof i?this===p?!0:this.ruleIndex===p.ruleIndex&&this.predIndex===p.predIndex&&this.isCtxDependent===p.isCtxDependent:!1}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}Qu([au.Override],i.prototype,"eval",null),Qu([au.Override],i.prototype,"hashCode",null),Qu([au.Override],i.prototype,"equals",null),Qu([au.Override],i.prototype,"toString",null),n.Predicate=i;class s extends n{constructor(p){super();this.precedence=p}eval(p,_){return p.precpred(_,this.precedence)}evalPrecedence(p,_){if(p.precpred(_,this.precedence))return n.NONE}compareTo(p){return this.precedence-p.precedence}hashCode(){let p=1;return p=31*p+this.precedence,p}equals(p){return p instanceof s?this===p?!0:this.precedence===p.precedence:!1}toString(){return"{"+this.precedence+">=prec}?"}}Qu([au.Override],s.prototype,"eval",null),Qu([au.Override],s.prototype,"evalPrecedence",null),Qu([au.Override],s.prototype,"compareTo",null),Qu([au.Override],s.prototype,"hashCode",null),Qu([au.Override],s.prototype,"equals",null),Qu([au.Override],s.prototype,"toString",null),n.PrecedencePredicate=s;class o extends n{}n.Operator=o;let a=class gq extends o{constructor(p,_){super();let b=new fEe.Array2DHashSet(hEe.ObjectEqualityComparator.INSTANCE);p instanceof gq?b.addAll(p.opnds):b.add(p),_ instanceof gq?b.addAll(_.opnds):b.add(_),this.opnds=b.toArray();let R=r(this.opnds),O=eot(R);O&&this.opnds.push(O)}get operands(){return this.opnds}equals(p){return this===p?!0:p instanceof gq?dEe.ArrayEqualityComparator.INSTANCE.equals(this.opnds,p.opnds):!1}hashCode(){return S6.MurmurHash.hashCode(this.opnds,e)}eval(p,_){for(let b of this.opnds)if(!b.eval(p,_))return!1;return!0}evalPrecedence(p,_){let b=!1,R=[];for(let j of this.opnds){let $=j.evalPrecedence(p,_);if(b=b||$!==j,$==null)return;$!==n.NONE&&R.push($)}if(!b)return this;if(R.length===0)return n.NONE;let O=R[0];for(let j=1;j<R.length;j++)O=n.and(O,R[j]);return O}toString(){return pEe.join(this.opnds,"&&")}};Qu([au.Override],a.prototype,"operands",null),Qu([au.Override],a.prototype,"equals",null),Qu([au.Override],a.prototype,"hashCode",null),Qu([au.Override],a.prototype,"eval",null),Qu([au.Override],a.prototype,"evalPrecedence",null),Qu([au.Override],a.prototype,"toString",null),a=Qu([xq(0,au.NotNull),xq(1,au.NotNull)],a),n.AND=a;let l=class yq extends o{constructor(p,_){super();let b=new fEe.Array2DHashSet(hEe.ObjectEqualityComparator.INSTANCE);p instanceof yq?b.addAll(p.opnds):b.add(p),_ instanceof yq?b.addAll(_.opnds):b.add(_),this.opnds=b.toArray();let R=r(this.opnds),O=Zst(R);O&&this.opnds.push(O)}get operands(){return this.opnds}equals(p){return this===p?!0:p instanceof yq?dEe.ArrayEqualityComparator.INSTANCE.equals(this.opnds,p.opnds):!1}hashCode(){return S6.MurmurHash.hashCode(this.opnds,t)}eval(p,_){for(let b of this.opnds)if(b.eval(p,_))return!0;return!1}evalPrecedence(p,_){let b=!1,R=[];for(let j of this.opnds){let $=j.evalPrecedence(p,_);if(b=b||$!==j,$===n.NONE)return n.NONE;$&&R.push($)}if(!b)return this;if(R.length===0)return;let O=R[0];for(let j=1;j<R.length;j++)O=n.or(O,R[j]);return O}toString(){return pEe.join(this.opnds,"||")}};Qu([au.Override],l.prototype,"operands",null),Qu([au.Override],l.prototype,"equals",null),Qu([au.Override],l.prototype,"hashCode",null),Qu([au.Override],l.prototype,"eval",null),Qu([au.Override],l.prototype,"evalPrecedence",null),Qu([au.Override],l.prototype,"toString",null),l=Qu([xq(0,au.NotNull),xq(1,au.NotNull)],l),n.OR=l})(Ed=J2.SemanticContext||(J2.SemanticContext={}))});var qne=Ae(Z5=>{"use strict";m();var MD=Z5&&Z5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},tot=Z5&&Z5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Z5,"__esModule",{value:!0});Z5.PredicateTransition=void 0;var not=pq(),dS=Cr(),rot=C6(),w6=class extends not.AbstractPredicateTransition{constructor(e,t,r,i){super(e);this.ruleIndex=t,this.predIndex=r,this.isCtxDependent=i}get serializationType(){return 4}get isEpsilon(){return!0}matches(e,t,r){return!1}get predicate(){return new rot.SemanticContext.Predicate(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}};MD([dS.Override],w6.prototype,"serializationType",null);MD([dS.Override],w6.prototype,"isEpsilon",null);MD([dS.Override],w6.prototype,"matches",null);MD([dS.Override,dS.NotNull],w6.prototype,"toString",null);w6=MD([tot(0,dS.NotNull)],w6);Z5.PredicateTransition=w6});var PD=Ae(ev=>{"use strict";m();var mEe=ev&&ev.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},iot=ev&&ev.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(ev,"__esModule",{value:!0});ev.FailedPredicateException=void 0;var sot=Zg(),xEe=Cr(),oot=qne(),vq=class gEe extends sot.RecognitionException{constructor(e,t,r){super(e,e.inputStream,e.context,gEe.formatMessage(t,r));let s=e.interpreter.atn.states[e.state].transition(0);s instanceof oot.PredicateTransition?(this._ruleIndex=s.ruleIndex,this._predicateIndex=s.predIndex):(this._ruleIndex=0,this._predicateIndex=0),this._predicate=t,super.setOffendingToken(e,e.currentToken)}get ruleIndex(){return this._ruleIndex}get predicateIndex(){return this._predicateIndex}get predicate(){return this._predicate}static formatMessage(e,t){return t||`failed predicate: {${e}}?`}};mEe([xEe.NotNull],vq,"formatMessage",null);vq=mEe([iot(0,xEe.NotNull)],vq);ev.FailedPredicateException=vq});var BD=Ae(tv=>{"use strict";m();var aot=tv&&tv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},uot=tv&&tv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(tv,"__esModule",{value:!0});tv.InputMismatchException=void 0;var lot=Zg(),cot=Cr(),Une=class extends lot.RecognitionException{constructor(e,t,r){r===void 0&&(r=e.context);super(e,e.inputStream,r);t!==void 0&&this.setOffendingState(t),this.setOffendingToken(e,e.currentToken)}};Une=aot([uot(0,cot.NotNull)],Une);tv.InputMismatchException=Une});var _q=Ae(jD=>{"use strict";m();Object.defineProperty(jD,"__esModule",{value:!0});jD.Arrays=void 0;var fot;(function(n){function e(i,s,o,a){return t(i,o!==void 0?o:0,a!==void 0?a:i.length,s)}n.binarySearch=e;function t(i,s,o,a){let l=s,f=o-1;for(;l<=f;){let p=l+f>>>1,_=i[p];if(_<a)l=p+1;else if(_>a)f=p-1;else return p}return-(l+1)}function r(i){let s="[",o=!0;for(let a of i)o?o=!1:s+=", ",a===null?s+="null":a===void 0?s+="undefined":s+=a;return s+="]",s}n.toString=r})(fot=jD.Arrays||(jD.Arrays={}))});var Sq=Ae(hS=>{"use strict";m();var Eq=hS&&hS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(hS,"__esModule",{value:!0});hS.IntegerList=void 0;var dot=_q(),bq=Cr(),$ne=new Int32Array(0),hot=4,zne=(1<<31>>>0)-1-8,X2=class{constructor(e){if(!e)this._data=$ne,this._size=0;else if(e instanceof X2)this._data=e._data.slice(0),this._size=e._size;else if(typeof e=="number")e===0?(this._data=$ne,this._size=0):(this._data=new Int32Array(e),this._size=0);else{this._data=$ne,this._size=0;for(let t of e)this.add(t)}}add(e){this._data.length===this._size&&this.ensureCapacity(this._size+1),this._data[this._size]=e,this._size++}addAll(e){if(Array.isArray(e))this.ensureCapacity(this._size+e.length),this._data.subarray(this._size,this._size+e.length).set(e),this._size+=e.length;else if(e instanceof X2)this.ensureCapacity(this._size+e._size),this._data.subarray(this._size,this._size+e.size).set(e._data),this._size+=e._size;else{this.ensureCapacity(this._size+e.size);let t=0;for(let r of e)this._data[this._size+t]=r,t++;this._size+=e.size}}get(e){if(e<0||e>=this._size)throw RangeError();return this._data[e]}contains(e){for(let t=0;t<this._size;t++)if(this._data[t]===e)return!0;return!1}set(e,t){if(e<0||e>=this._size)throw RangeError();let r=this._data[e];return this._data[e]=t,r}removeAt(e){let t=this.get(e);return this._data.copyWithin(e,e+1,this._size),this._data[this._size-1]=0,this._size--,t}removeRange(e,t){if(e<0||t<0||e>this._size||t>this._size||e>t)throw RangeError();this._data.copyWithin(t,e,this._size),this._data.fill(0,this._size-(t-e),this._size),this._size-=t-e}get isEmpty(){return this._size===0}get size(){return this._size}trimToSize(){this._data.length!==this._size&&(this._data=this._data.slice(0,this._size))}clear(){this._data.fill(0,0,this._size),this._size=0}toArray(){return this._size===0?[]:Array.from(this._data.subarray(0,this._size))}sort(){this._data.subarray(0,this._size).sort()}equals(e){if(e===this)return!0;if(!(e instanceof X2)||this._size!==e._size)return!1;for(let t=0;t<this._size;t++)if(this._data[t]!==e._data[t])return!1;return!0}hashCode(){let e=1;for(let t=0;t<this._size;t++)e=31*e+this._data[t];return e}toString(){return this._data.toString()}binarySearch(e,t,r){if(t===void 0&&(t=0),r===void 0&&(r=this._size),t<0||r<0||t>this._size||r>this._size)throw new RangeError;if(t>r)throw new RangeError;return dot.Arrays.binarySearch(this._data,e,t,r)}ensureCapacity(e){if(e<0||e>zne)throw new RangeError;let t;for(this._data.length===0?t=hot:t=this._data.length;t<e;)t=t*2,(t<0||t>zne)&&(t=zne);let r=new Int32Array(t);r.set(this._data),this._data=r}toCharArray(){let e=new Uint16Array(this._size),t=0,r=!1;for(let i=0;i<this._size;i++){let s=this._data[i];if(s>=0&&s<65536){e[t]=s,t++;continue}if(!r){let a=new Uint16Array(this.charArraySize());a.set(e,0),e=a,r=!0}let o=String.fromCodePoint(s);e[t]=o.charCodeAt(0),e[t+1]=o.charCodeAt(1),t+=2}return e}charArraySize(){let e=0;for(let t=0;t<this._size;t++)e+=this._data[t]>=65536?2:1;return e}};Eq([bq.NotNull],X2.prototype,"_data",void 0);Eq([bq.Override],X2.prototype,"equals",null);Eq([bq.Override],X2.prototype,"hashCode",null);Eq([bq.Override],X2.prototype,"toString",null);hS.IntegerList=X2});var j0=Ae(pS=>{"use strict";m();var Hne=pS&&pS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(pS,"__esModule",{value:!0});pS.Interval=void 0;var Vne=Cr(),yEe=1e3,bc=class{constructor(e,t){this.a=e,this.b=t}static get INVALID(){return bc._INVALID}static of(e,t){return e!==t||e<0||e>yEe?new bc(e,t):(bc.cache[e]==null&&(bc.cache[e]=new bc(e,e)),bc.cache[e])}get length(){return this.b<this.a?0:this.b-this.a+1}equals(e){return e===this?!0:e instanceof bc?this.a===e.a&&this.b===e.b:!1}hashCode(){let e=23;return e=e*31+this.a,e=e*31+this.b,e}startsBeforeDisjoint(e){return this.a<e.a&&this.b<e.a}startsBeforeNonDisjoint(e){return this.a<=e.a&&this.b>=e.a}startsAfter(e){return this.a>e.a}startsAfterDisjoint(e){return this.a>e.b}startsAfterNonDisjoint(e){return this.a>e.a&&this.a<=e.b}disjoint(e){return this.startsBeforeDisjoint(e)||this.startsAfterDisjoint(e)}adjacent(e){return this.a===e.b+1||this.b===e.a-1}properlyContains(e){return e.a>=this.a&&e.b<=this.b}union(e){return bc.of(Math.min(this.a,e.a),Math.max(this.b,e.b))}intersection(e){return bc.of(Math.max(this.a,e.a),Math.min(this.b,e.b))}differenceNotProperlyContained(e){let t;return e.startsBeforeNonDisjoint(this)?t=bc.of(Math.max(this.a,e.b+1),this.b):e.startsAfterNonDisjoint(this)&&(t=bc.of(this.a,e.a-1)),t}toString(){return this.a+".."+this.b}};bc._INVALID=new bc(-1,-2);bc.cache=new Array(yEe+1);Hne([Vne.Override],bc.prototype,"equals",null);Hne([Vne.Override],bc.prototype,"hashCode",null);Hne([Vne.Override],bc.prototype,"toString",null);pS.Interval=bc});var uu=Ae(qD=>{"use strict";m();Object.defineProperty(qD,"__esModule",{value:!0});qD.Token=void 0;var pot=Jg(),mot;(function(n){n.INVALID_TYPE=0,n.EPSILON=-2,n.MIN_USER_TOKEN_TYPE=1,n.EOF=pot.IntStream.EOF,n.DEFAULT_CHANNEL=0,n.HIDDEN_CHANNEL=1,n.MIN_USER_CHANNEL_VALUE=2})(mot=qD.Token||(qD.Token={}))});var mS=Ae(nv=>{"use strict";m();var xh=nv&&nv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},vEe=nv&&nv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(nv,"__esModule",{value:!0});nv.CommonToken=void 0;var xot=j0(),gh=Cr(),_Ee=uu(),Kf=class UD{constructor(e,t,r=UD.EMPTY_SOURCE,i=_Ee.Token.DEFAULT_CHANNEL,s=0,o=0){this._line=0,this._charPositionInLine=-1,this._channel=_Ee.Token.DEFAULT_CHANNEL,this.index=-1,this._text=t,this._type=e,this.source=r,this._channel=i,this.start=s,this.stop=o,r.source!=null&&(this._line=r.source.line,this._charPositionInLine=r.source.charPositionInLine)}static fromToken(e){let t=new UD(e.type,void 0,UD.EMPTY_SOURCE,e.channel,e.startIndex,e.stopIndex);return t._line=e.line,t.index=e.tokenIndex,t._charPositionInLine=e.charPositionInLine,e instanceof UD?(t._text=e._text,t.source=e.source):(t._text=e.text,t.source={source:e.tokenSource,stream:e.inputStream}),t}get type(){return this._type}set type(e){this._type=e}get line(){return this._line}set line(e){this._line=e}get text(){if(this._text!=null)return this._text;let e=this.inputStream;if(e==null)return;let t=e.size;return this.start<t&&this.stop<t?e.getText(xot.Interval.of(this.start,this.stop)):"<EOF>"}set text(e){this._text=e}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(e){this._charPositionInLine=e}get channel(){return this._channel}set channel(e){this._channel=e}get startIndex(){return this.start}set startIndex(e){this.start=e}get stopIndex(){return this.stop}set stopIndex(e){this.stop=e}get tokenIndex(){return this.index}set tokenIndex(e){this.index=e}get tokenSource(){return this.source.source}get inputStream(){return this.source.stream}toString(e){let t="";this._channel>0&&(t=",channel="+this._channel);let r=this.text;r!=null?(r=r.replace(/\n/g,"\\n"),r=r.replace(/\r/g,"\\r"),r=r.replace(/\t/g,"\\t")):r="<no text>";let i=String(this._type);return e&&(i=e.vocabulary.getDisplayName(this._type)),"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+r+"',<"+i+">"+t+","+this._line+":"+this.charPositionInLine+"]"}};Kf.EMPTY_SOURCE={source:void 0,stream:void 0};xh([gh.NotNull],Kf.prototype,"source",void 0);xh([gh.Override],Kf.prototype,"type",null);xh([gh.Override],Kf.prototype,"line",null);xh([gh.Override],Kf.prototype,"text",null);xh([gh.Override],Kf.prototype,"charPositionInLine",null);xh([gh.Override],Kf.prototype,"channel",null);xh([gh.Override],Kf.prototype,"startIndex",null);xh([gh.Override],Kf.prototype,"stopIndex",null);xh([gh.Override],Kf.prototype,"tokenIndex",null);xh([gh.Override],Kf.prototype,"tokenSource",null);xh([gh.Override],Kf.prototype,"inputStream",null);xh([gh.Override],Kf.prototype,"toString",null);xh([vEe(0,gh.NotNull)],Kf,"fromToken",null);Kf=xh([vEe(2,gh.NotNull)],Kf);nv.CommonToken=Kf});var Cq=Ae(rv=>{"use strict";m();var EEe=rv&&rv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(rv,"__esModule",{value:!0});rv.CommonTokenFactory=void 0;var bEe=mS(),got=j0(),SEe=Cr(),$D=class{constructor(e=!1){this.copyText=e}create(e,t,r,i,s,o,a,l){let f=new bEe.CommonToken(t,r,e,i,s,o);return f.line=a,f.charPositionInLine=l,r==null&&this.copyText&&e.stream!=null&&(f.text=e.stream.getText(got.Interval.of(s,o))),f}createSimple(e,t){return new bEe.CommonToken(e,t)}};EEe([SEe.Override],$D.prototype,"create",null);EEe([SEe.Override],$D.prototype,"createSimple",null);rv.CommonTokenFactory=$D;(function(n){n.DEFAULT=new n})($D=rv.CommonTokenFactory||(rv.CommonTokenFactory={}))});var Wne=Ae(wq=>{"use strict";m();Object.defineProperty(wq,"__esModule",{value:!0});wq.IntegerStack=void 0;var yot=Sq(),CEe=class extends yot.IntegerList{constructor(e){super(e)}push(e){this.add(e)}pop(){return this.removeAt(this.size-1)}peek(){return this.get(this.size-1)}};wq.IntegerStack=CEe});var Qne=Ae(Aq=>{"use strict";m();Object.defineProperty(Aq,"__esModule",{value:!0});Aq.AcceptStateInfo=void 0;var wEe=class{constructor(e,t){this._prediction=e,this._lexerActionExecutor=t}get prediction(){return this._prediction}get lexerActionExecutor(){return this._lexerActionExecutor}};Aq.AcceptStateInfo=wEe});var A6=Ae(Tq=>{"use strict";m();Object.defineProperty(Tq,"__esModule",{value:!0});Tq.Array2DHashMap=void 0;var AEe=ty(),TEe=class{constructor(e){this.keyComparator=e}hashCode(e){return this.keyComparator.hashCode(e.key)}equals(e,t){return this.keyComparator.equals(e.key,t.key)}},zD=class{constructor(e){e instanceof zD?this.backingStore=new AEe.Array2DHashSet(e.backingStore):this.backingStore=new AEe.Array2DHashSet(new TEe(e))}clear(){this.backingStore.clear()}containsKey(e){return this.backingStore.contains({key:e})}get(e){let t=this.backingStore.get({key:e});if(!!t)return t.value}get isEmpty(){return this.backingStore.isEmpty}put(e,t){let r=this.backingStore.get({key:e,value:t}),i;return r?(i=r.value,r.value=t):this.backingStore.add({key:e,value:t}),i}putIfAbsent(e,t){let r=this.backingStore.get({key:e,value:t}),i;return r?i=r.value:this.backingStore.add({key:e,value:t}),i}get size(){return this.backingStore.size}hashCode(){return this.backingStore.hashCode()}equals(e){return e instanceof zD?this.backingStore.equals(e.backingStore):!1}};Tq.Array2DHashMap=zD});var iv=Ae(Fq=>{"use strict";m();Object.defineProperty(Fq,"__esModule",{value:!0});Fq.DecisionState=void 0;var vot=K2(),FEe=class extends vot.ATNState{constructor(){super(...arguments);this.decision=-1,this.nonGreedy=!1,this.sll=!1}};Fq.DecisionState=FEe});var Oq=Ae(ov=>{"use strict";m();var Dq=ov&&ov.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(ov,"__esModule",{value:!0});ov.PredictionContextCache=void 0;var Gne=A6(),Rq=Cr(),Yne=Tm(),DEe=d1(),REe=M0(),sv=class{constructor(e=!0){this.contexts=new Gne.Array2DHashMap(Yne.ObjectEqualityComparator.INSTANCE),this.childContexts=new Gne.Array2DHashMap(Yne.ObjectEqualityComparator.INSTANCE),this.joinContexts=new Gne.Array2DHashMap(Yne.ObjectEqualityComparator.INSTANCE),this.enableCache=e}getAsCached(e){if(!this.enableCache)return e;let t=this.contexts.get(e);return t||(t=e,this.contexts.put(e,e)),t}getChild(e,t){if(!this.enableCache)return e.getChild(t);let r=new sv.PredictionContextAndInt(e,t),i=this.childContexts.get(r);return i||(i=e.getChild(t),i=this.getAsCached(i),this.childContexts.put(r,i)),i}join(e,t){if(!this.enableCache)return DEe.PredictionContext.join(e,t,this);let r=new sv.IdentityCommutativePredictionContextOperands(e,t),i=this.joinContexts.get(r);return i||(i=DEe.PredictionContext.join(e,t,this),i=this.getAsCached(i),this.joinContexts.put(r,i),i)}};ov.PredictionContextCache=sv;sv.UNCACHED=new sv(!1);(function(n){class e{constructor(i,s){this.obj=i,this.value=s}equals(i){if(i instanceof e){if(i===this)return!0}else return!1;let s=i;return this.value===s.value&&(this.obj===s.obj||this.obj!=null&&this.obj.equals(s.obj))}hashCode(){let i=5;return i=7*i+(this.obj!=null?this.obj.hashCode():0),i=7*i+this.value,i}}Dq([Rq.Override],e.prototype,"equals",null),Dq([Rq.Override],e.prototype,"hashCode",null),n.PredictionContextAndInt=e;class t{constructor(i,s){REe(i!=null),REe(s!=null),this._x=i,this._y=s}get x(){return this._x}get y(){return this._y}equals(i){if(i instanceof t){if(this===i)return!0}else return!1;let s=i;return this._x===s._x&&this._y===s._y||this._x===s._y&&this._y===s._x}hashCode(){return this._x.hashCode()^this._y.hashCode()}}Dq([Rq.Override],t.prototype,"equals",null),Dq([Rq.Override],t.prototype,"hashCode",null),n.IdentityCommutativePredictionContextOperands=t})(sv=ov.PredictionContextCache||(ov.PredictionContextCache={}))});var d1=Ae(h1=>{"use strict";m();var yo=h1&&h1.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},av=h1&&h1.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(h1,"__esModule",{value:!0});h1.SingletonPredictionContext=h1.PredictionContext=void 0;var _ot=A6(),Eot=ty(),bot=_q(),Z2=Pl(),Qs=Cr(),OEe=Oq(),Nq=M0(),Kne=1,Io=class{constructor(e){this.cachedHashCode=e}static calculateEmptyHashCode(){let e=Z2.MurmurHash.initialize(Kne);return e=Z2.MurmurHash.finish(e,0),e}static calculateSingleHashCode(e,t){let r=Z2.MurmurHash.initialize(Kne);return r=Z2.MurmurHash.update(r,e),r=Z2.MurmurHash.update(r,t),r=Z2.MurmurHash.finish(r,2),r}static calculateHashCode(e,t){let r=Z2.MurmurHash.initialize(Kne);for(let i of e)r=Z2.MurmurHash.update(r,i);for(let i of t)r=Z2.MurmurHash.update(r,i);return r=Z2.MurmurHash.finish(r,2*e.length),r}static fromRuleContext(e,t,r=!0){if(t.isEmpty)return r?Io.EMPTY_FULL:Io.EMPTY_LOCAL;let i;t._parent?i=Io.fromRuleContext(e,t._parent,r):i=r?Io.EMPTY_FULL:Io.EMPTY_LOCAL;let o=e.states[t.invokingState].transition(0);return i.getChild(o.followState.stateNumber)}static addEmptyContext(e){return e.addEmptyContext()}static removeEmptyContext(e){return e.removeEmptyContext()}static join(e,t,r=OEe.PredictionContextCache.UNCACHED){if(e===t)return e;if(e.isEmpty)return Io.isEmptyLocal(e)?e:Io.addEmptyContext(t);if(t.isEmpty)return Io.isEmptyLocal(t)?t:Io.addEmptyContext(e);let i=e.size,s=t.size;if(i===1&&s===1&&e.getReturnState(0)===t.getReturnState(0)){let R=r.join(e.getParent(0),t.getParent(0));return R===e.getParent(0)?e:R===t.getParent(0)?t:R.getChild(e.getReturnState(0))}let o=0,a=new Array(i+s),l=new Array(a.length),f=0,p=0,_=!0,b=!0;for(;f<i&&p<s;)e.getReturnState(f)===t.getReturnState(p)?(a[o]=r.join(e.getParent(f),t.getParent(p)),l[o]=e.getReturnState(f),_=_&&a[o]===e.getParent(f),b=b&&a[o]===t.getParent(p),f++,p++):e.getReturnState(f)<t.getReturnState(p)?(a[o]=e.getParent(f),l[o]=e.getReturnState(f),b=!1,f++):(Nq(t.getReturnState(p)<e.getReturnState(f)),a[o]=t.getParent(p),l[o]=t.getReturnState(p),_=!1,p++),o++;for(;f<i;)a[o]=e.getParent(f),l[o]=e.getReturnState(f),f++,b=!1,o++;for(;p<s;)a[o]=t.getParent(p),l[o]=t.getReturnState(p),p++,_=!1,o++;return _?e:b?t:(o<a.length&&(a=a.slice(0,o),l=l.slice(0,o)),a.length===0?Io.EMPTY_FULL:a.length===1?new Gc(a[0],l[0]):new Jf(a,l))}static isEmptyLocal(e){return e===Io.EMPTY_LOCAL}static getCachedContext(e,t,r){if(e.isEmpty)return e;let i=r.get(e);if(i)return i;if(i=t.get(e),i)return r.put(e,i),i;let s=!1,o=new Array(e.size);for(let l=0;l<o.length;l++){let f=Io.getCachedContext(e.getParent(l),t,r);if(s||f!==e.getParent(l)){if(!s){o=new Array(e.size);for(let p=0;p<e.size;p++)o[p]=e.getParent(p);s=!0}o[l]=f}}if(!s)return i=t.putIfAbsent(e,e),r.put(e,i??e),e;let a;if(o.length===1)a=new Gc(o[0],e.getReturnState(0));else{let l=new Array(e.size);for(let f=0;f<e.size;f++)l[f]=e.getReturnState(f);a=new Jf(o,l,e.hashCode())}return i=t.putIfAbsent(a,a),r.put(a,i||a),r.put(e,i||a),a}appendSingleContext(e,t){return this.appendContext(Io.EMPTY_FULL.getChild(e),t)}getChild(e){return new Gc(this,e)}hashCode(){return this.cachedHashCode}toStrings(e,t,r=Io.EMPTY_FULL){let i=[];e:for(let s=0;;s++){let o=0,a=!0,l=this,f=t,p="";for(p+="[";!l.isEmpty&&l!==r;){let _=0;if(l.size>0){let b=1;for(;1<<b>>>0<l.size;)b++;let R=(1<<b>>>0)-1;if(_=s>>o&R,a=a&&_>=l.size-1,_>=l.size)continue e;o+=b}if(e){p.length>1&&(p+=" ");let R=e.atn.states[f];p+=e.ruleNames[R.ruleIndex]}else l.getReturnState(_)!==Io.EMPTY_FULL_STATE_KEY&&(l.isEmpty||(p.length>1&&(p+=" "),p+=l.getReturnState(_)));f=l.getReturnState(_),l=l.getParent(_)}if(p+="]",i.push(p),a)break}return i}};yo([Qs.Override],Io.prototype,"hashCode",null);yo([av(0,Qs.NotNull),av(1,Qs.NotNull),av(2,Qs.NotNull)],Io,"join",null);yo([av(0,Qs.NotNull),av(1,Qs.NotNull),av(2,Qs.NotNull)],Io,"getCachedContext",null);h1.PredictionContext=Io;var bd=class extends Io{constructor(e){super(Io.calculateEmptyHashCode());this.fullContext=e}get isFullContext(){return this.fullContext}addEmptyContext(){return this}removeEmptyContext(){throw new Error("Cannot remove the empty context from itself.")}getParent(e){throw new Error("index out of bounds")}getReturnState(e){throw new Error("index out of bounds")}findReturnState(e){return-1}get size(){return 0}appendSingleContext(e,t){return t.getChild(this,e)}appendContext(e,t){return e}get isEmpty(){return!0}get hasEmpty(){return!0}equals(e){return this===e}toStrings(e,t,r){return["[]"]}};yo([Qs.Override],bd.prototype,"addEmptyContext",null);yo([Qs.Override],bd.prototype,"removeEmptyContext",null);yo([Qs.Override],bd.prototype,"getParent",null);yo([Qs.Override],bd.prototype,"getReturnState",null);yo([Qs.Override],bd.prototype,"findReturnState",null);yo([Qs.Override],bd.prototype,"size",null);yo([Qs.Override],bd.prototype,"appendSingleContext",null);yo([Qs.Override],bd.prototype,"appendContext",null);yo([Qs.Override],bd.prototype,"isEmpty",null);yo([Qs.Override],bd.prototype,"hasEmpty",null);yo([Qs.Override],bd.prototype,"equals",null);yo([Qs.Override],bd.prototype,"toStrings",null);var Jf=class T6 extends Io{constructor(e,t,r){super(r||Io.calculateHashCode(e,t));Nq(e.length===t.length),Nq(t.length>1||t[0]!==Io.EMPTY_FULL_STATE_KEY,"Should be using PredictionContext.EMPTY instead."),this.parents=e,this.returnStates=t}getParent(e){return this.parents[e]}getReturnState(e){return this.returnStates[e]}findReturnState(e){return bot.Arrays.binarySearch(this.returnStates,e)}get size(){return this.returnStates.length}get isEmpty(){return!1}get hasEmpty(){return this.returnStates[this.returnStates.length-1]===Io.EMPTY_FULL_STATE_KEY}addEmptyContext(){if(this.hasEmpty)return this;let e=this.parents.slice(0),t=this.returnStates.slice(0);return e.push(Io.EMPTY_FULL),t.push(Io.EMPTY_FULL_STATE_KEY),new T6(e,t)}removeEmptyContext(){if(!this.hasEmpty)return this;if(this.returnStates.length===2)return new Gc(this.parents[0],this.returnStates[0]);{let e=this.parents.slice(0,this.parents.length-1),t=this.returnStates.slice(0,this.returnStates.length-1);return new T6(e,t)}}appendContext(e,t){return T6.appendContextImpl(this,e,new Io.IdentityHashMap)}static appendContextImpl(e,t,r){if(t.isEmpty){if(Io.isEmptyLocal(t)){if(e.hasEmpty)return Io.EMPTY_LOCAL;throw new Error("what to do here?")}return e}if(t.size!==1)throw new Error("Appending a tree suffix is not yet supported.");let i=r.get(e);if(!i){if(e.isEmpty)i=t;else{let s=e.size;e.hasEmpty&&s--;let o=new Array(s),a=new Array(s);for(let l=0;l<s;l++)a[l]=e.getReturnState(l);for(let l=0;l<s;l++)o[l]=T6.appendContextImpl(e.getParent(l),t,r);o.length===1?i=new Gc(o[0],a[0]):(Nq(o.length>1),i=new T6(o,a)),e.hasEmpty&&(i=Io.join(i,t))}r.put(e,i)}return i}equals(e){if(this===e)return!0;if(!(e instanceof T6)||this.hashCode()!==e.hashCode())return!1;let t=e;return this.equalsImpl(t,new Eot.Array2DHashSet)}equalsImpl(e,t){let r=[],i=[];for(r.push(this),i.push(e);;){let s=r.pop(),o=i.pop();if(!s||!o)break;let a=new OEe.PredictionContextCache.IdentityCommutativePredictionContextOperands(s,o);if(!t.add(a))continue;let l=a.x.size;if(l===0){if(!a.x.equals(a.y))return!1;continue}let f=a.y.size;if(l!==f)return!1;for(let p=0;p<l;p++){if(a.x.getReturnState(p)!==a.y.getReturnState(p))return!1;let _=a.x.getParent(p),b=a.y.getParent(p);if(_.hashCode()!==b.hashCode())return!1;_!==b&&(r.push(_),i.push(b))}}return!0}};yo([Qs.NotNull],Jf.prototype,"parents",void 0);yo([Qs.NotNull],Jf.prototype,"returnStates",void 0);yo([Qs.Override],Jf.prototype,"getParent",null);yo([Qs.Override],Jf.prototype,"getReturnState",null);yo([Qs.Override],Jf.prototype,"findReturnState",null);yo([Qs.Override],Jf.prototype,"size",null);yo([Qs.Override],Jf.prototype,"isEmpty",null);yo([Qs.Override],Jf.prototype,"hasEmpty",null);yo([Qs.Override],Jf.prototype,"addEmptyContext",null);yo([Qs.Override],Jf.prototype,"removeEmptyContext",null);yo([Qs.Override],Jf.prototype,"appendContext",null);yo([Qs.Override],Jf.prototype,"equals",null);Jf=yo([av(0,Qs.NotNull)],Jf);var Gc=class NEe extends Io{constructor(e,t){super(Io.calculateSingleHashCode(e,t));this.parent=e,this.returnState=t}getParent(e){return this.parent}getReturnState(e){return this.returnState}findReturnState(e){return this.returnState===e?0:-1}get size(){return 1}get isEmpty(){return!1}get hasEmpty(){return!1}appendContext(e,t){return t.getChild(this.parent.appendContext(e,t),this.returnState)}addEmptyContext(){let e=[this.parent,Io.EMPTY_FULL],t=[this.returnState,Io.EMPTY_FULL_STATE_KEY];return new Jf(e,t)}removeEmptyContext(){return this}equals(e){if(e===this)return!0;if(!(e instanceof NEe))return!1;let t=e;return this.hashCode()!==t.hashCode()?!1:this.returnState===t.returnState&&this.parent.equals(t.parent)}};yo([Qs.NotNull],Gc.prototype,"parent",void 0);yo([Qs.Override],Gc.prototype,"getParent",null);yo([Qs.Override],Gc.prototype,"getReturnState",null);yo([Qs.Override],Gc.prototype,"findReturnState",null);yo([Qs.Override],Gc.prototype,"size",null);yo([Qs.Override],Gc.prototype,"isEmpty",null);yo([Qs.Override],Gc.prototype,"hasEmpty",null);yo([Qs.Override],Gc.prototype,"appendContext",null);yo([Qs.Override],Gc.prototype,"addEmptyContext",null);yo([Qs.Override],Gc.prototype,"removeEmptyContext",null);yo([Qs.Override],Gc.prototype,"equals",null);Gc=yo([av(0,Qs.NotNull)],Gc);h1.SingletonPredictionContext=Gc;(function(n){n.EMPTY_LOCAL=new bd(!1),n.EMPTY_FULL=new bd(!0),n.EMPTY_LOCAL_STATE_KEY=-(1<<31>>>0),n.EMPTY_FULL_STATE_KEY=(1<<31>>>0)-1;class e extends _ot.Array2DHashMap{constructor(){super(t.INSTANCE)}}n.IdentityHashMap=e;class t{IdentityEqualityComparator(){}hashCode(i){return i.hashCode()}equals(i,s){return i===s}}t.INSTANCE=new t,yo([Qs.Override],t.prototype,"hashCode",null),yo([Qs.Override],t.prototype,"equals",null),n.IdentityEqualityComparator=t})(Io=h1.PredictionContext||(h1.PredictionContext={}))});var VD=Ae(uv=>{"use strict";m();var Sc=uv&&uv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Jh=uv&&uv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(uv,"__esModule",{value:!0});uv.ATNConfig=void 0;var Sot=A6(),Cot=iv(),ny=Pl(),Qa=Cr(),wot=Tm(),LEe=d1(),F6=C6(),kEe=M0(),Jne=2147483648,Sd=class HD{constructor(e,t,r){typeof t=="number"?(kEe((t&16777215)===t),this._state=e,this.altAndOuterContextDepth=t,this._context=r):(this._state=e,this.altAndOuterContextDepth=t.altAndOuterContextDepth,this._context=r)}static create(e,t,r,i=F6.SemanticContext.NONE,s){return i!==F6.SemanticContext.NONE?s!=null?new gS(s,i,e,t,r,!1):new D6(i,e,t,r):s!=null?new xS(s,e,t,r,!1):new HD(e,t,r)}get state(){return this._state}get alt(){return this.altAndOuterContextDepth&16777215}get context(){return this._context}set context(e){this._context=e}get reachesIntoOuterContext(){return this.outerContextDepth!==0}get outerContextDepth(){return this.altAndOuterContextDepth>>>24&127}set outerContextDepth(e){kEe(e>=0),e=Math.min(e,127),this.altAndOuterContextDepth=e<<24|(this.altAndOuterContextDepth&~2130706432)>>>0}get lexerActionExecutor(){}get semanticContext(){return F6.SemanticContext.NONE}get hasPassedThroughNonGreedyDecision(){return!1}clone(){return this.transform(this.state,!1)}transform(e,t,r){return r==null?this.transformImpl(e,this._context,this.semanticContext,t,this.lexerActionExecutor):r instanceof LEe.PredictionContext?this.transformImpl(e,r,this.semanticContext,t,this.lexerActionExecutor):r instanceof F6.SemanticContext?this.transformImpl(e,this._context,r,t,this.lexerActionExecutor):this.transformImpl(e,this._context,this.semanticContext,t,r)}transformImpl(e,t,r,i,s){let o=i&&HD.checkNonGreedyDecision(this,e);return r!==F6.SemanticContext.NONE?s!=null||o?new gS(s,r,e,this,t,o):new D6(r,e,this,t):s!=null||o?new xS(s,e,this,t,o):new HD(e,this,t)}static checkNonGreedyDecision(e,t){return e.hasPassedThroughNonGreedyDecision||t instanceof Cot.DecisionState&&t.nonGreedy}appendContext(e,t){if(typeof e=="number"){let r=this.context.appendSingleContext(e,t);return this.transform(this.state,!1,r)}else{let r=this.context.appendContext(e,t);return this.transform(this.state,!1,r)}}contains(e){if(this.state.stateNumber!==e.state.stateNumber||this.alt!==e.alt||!this.semanticContext.equals(e.semanticContext))return!1;let t=[],r=[];for(t.push(this.context),r.push(e.context);;){let i=t.pop(),s=r.pop();if(!i||!s)break;if(i===s)return!0;if(i.size<s.size)return!1;if(s.isEmpty)return i.hasEmpty;for(let o=0;o<s.size;o++){let a=i.findReturnState(s.getReturnState(o));if(a<0)return!1;t.push(i.getParent(a)),r.push(s.getParent(o))}}return!1}get isPrecedenceFilterSuppressed(){return(this.altAndOuterContextDepth&Jne)!==0}set isPrecedenceFilterSuppressed(e){e?this.altAndOuterContextDepth|=Jne:this.altAndOuterContextDepth&=~Jne}equals(e){return this===e?!0:e instanceof HD?this.state.stateNumber===e.state.stateNumber&&this.alt===e.alt&&this.reachesIntoOuterContext===e.reachesIntoOuterContext&&this.context.equals(e.context)&&this.semanticContext.equals(e.semanticContext)&&this.isPrecedenceFilterSuppressed===e.isPrecedenceFilterSuppressed&&this.hasPassedThroughNonGreedyDecision===e.hasPassedThroughNonGreedyDecision&&wot.ObjectEqualityComparator.INSTANCE.equals(this.lexerActionExecutor,e.lexerActionExecutor):!1}hashCode(){let e=ny.MurmurHash.initialize(7);return e=ny.MurmurHash.update(e,this.state.stateNumber),e=ny.MurmurHash.update(e,this.alt),e=ny.MurmurHash.update(e,this.reachesIntoOuterContext?1:0),e=ny.MurmurHash.update(e,this.context),e=ny.MurmurHash.update(e,this.semanticContext),e=ny.MurmurHash.update(e,this.hasPassedThroughNonGreedyDecision?1:0),e=ny.MurmurHash.update(e,this.lexerActionExecutor),e=ny.MurmurHash.finish(e,7),e}toDotString(){let e="";e+=`digraph G {
`,e+=`rankdir=LR;
`;let t=new Sot.Array2DHashMap(LEe.PredictionContext.IdentityEqualityComparator.INSTANCE),r=[];function i(s){let o=t.size,a=t.putIfAbsent(s,o);return a??(r.push(s),o)}for(r.push(this.context),t.put(this.context,0);;){let s=r.pop();if(!s)break;for(let o=0;o<s.size;o++)e+="  s"+i(s),e+="->",e+="s"+i(s.getParent(o)),e+='[label="'+s.getReturnState(o)+`"];
`}return e+=`}
`,e.toString()}toString(e,t,r){r==null&&(r=t!=null),t==null&&(t=!0);let i="",s;r?s=this.context.toStrings(e,this.state.stateNumber):s=["?"];let o=!0;for(let a of s)o?o=!1:i+=", ",i+="(",i+=this.state,t&&(i+=",",i+=this.alt),this.context&&(i+=",",i+=a),this.semanticContext!==F6.SemanticContext.NONE&&(i+=",",i+=this.semanticContext),this.reachesIntoOuterContext&&(i+=",up="+this.outerContextDepth),i+=")";return i.toString()}};Sc([Qa.NotNull],Sd.prototype,"_state",void 0);Sc([Qa.NotNull],Sd.prototype,"_context",void 0);Sc([Qa.NotNull],Sd.prototype,"state",null);Sc([Qa.NotNull,Jh(0,Qa.NotNull)],Sd.prototype,"context",null);Sc([Qa.NotNull],Sd.prototype,"semanticContext",null);Sc([Qa.Override],Sd.prototype,"clone",null);Sc([Jh(0,Qa.NotNull),Jh(2,Qa.NotNull)],Sd.prototype,"transformImpl",null);Sc([Qa.Override],Sd.prototype,"equals",null);Sc([Qa.Override],Sd.prototype,"hashCode",null);Sc([Jh(0,Qa.NotNull),Jh(3,Qa.NotNull)],Sd,"create",null);Sd=Sc([Jh(0,Qa.NotNull),Jh(2,Qa.NotNull)],Sd);uv.ATNConfig=Sd;var D6=class extends Sd{constructor(e,t,r,i){typeof r=="number"?super(t,r,i):super(t,r,i),this._semanticContext=e}get semanticContext(){return this._semanticContext}};Sc([Qa.NotNull],D6.prototype,"_semanticContext",void 0);Sc([Qa.Override],D6.prototype,"semanticContext",null);D6=Sc([Jh(1,Qa.NotNull),Jh(2,Qa.NotNull)],D6);var xS=class extends Sd{constructor(e,t,r,i,s){if(typeof r=="number")super(t,r,i);else{super(t,r,i);if(r.semanticContext!==F6.SemanticContext.NONE)throw new Error("Not supported")}this._lexerActionExecutor=e,this.passedThroughNonGreedyDecision=s}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};Sc([Qa.Override],xS.prototype,"lexerActionExecutor",null);Sc([Qa.Override],xS.prototype,"hasPassedThroughNonGreedyDecision",null);xS=Sc([Jh(1,Qa.NotNull),Jh(2,Qa.NotNull)],xS);var gS=class extends D6{constructor(e,t,r,i,s,o){typeof i=="number"?super(t,r,i,s):super(t,r,i,s),this._lexerActionExecutor=e,this.passedThroughNonGreedyDecision=o}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};Sc([Qa.Override],gS.prototype,"lexerActionExecutor",null);Sc([Qa.Override],gS.prototype,"hasPassedThroughNonGreedyDecision",null);gS=Sc([Jh(1,Qa.NotNull),Jh(2,Qa.NotNull)],gS)});var ry=Ae(Lq=>{"use strict";m();Object.defineProperty(Lq,"__esModule",{value:!0});Lq.BitSet=void 0;var Aot=V5(),Tot=Pl(),WD=new Uint16Array(0);function Xh(n){return n>>>4}function yS(n){return n*16}function Xne(n){let e=1;for(let t=0;t<16;t++){if((n&e)!==0)return t;e=e<<1>>>0}throw new RangeError("No specified bit found")}function IEe(n){let e=1<<15>>>0;for(let t=15;t>=0;t--){if((n&e)!==0)return t;e=e>>>1}throw new RangeError("No specified bit found")}function p1(n,e){return n&=15,e&=15,n===e?1<<n>>>0:65535>>>15-e^65535>>>16-n}var Zne=new Uint8Array(65536);for(let n=0;n<16;n++){let e=1<<n>>>0,t=0;for(;t<Zne.length;){t+=e;for(let r=0;r<e;r++)Zne[t]++,t++}}var R6=class{constructor(e){if(!e)this.data=WD;else if(typeof e=="number"){if(e<0)throw new RangeError("nbits cannot be negative");this.data=new Uint16Array(Xh(e-1)+1)}else if(e instanceof R6)this.data=e.data.slice(0);else{let t=-1;for(let r of e)t<r&&(t=r);this.data=new Uint16Array(Xh(t-1)+1);for(let r of e)this.set(r)}}and(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=-1;for(let o=0;o<i;o++)(t[o]&=r[o])!==0&&(s=o);s===-1&&(this.data=WD),s<t.length-1&&(this.data=t.slice(0,s+1))}andNot(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=-1;for(let o=0;o<i;o++)(t[o]&=r[o]^65535)!==0&&(s=o);s===-1&&(this.data=WD),s<t.length-1&&(this.data=t.slice(0,s+1))}cardinality(){if(this.isEmpty)return 0;let e=this.data,t=e.length,r=0;for(let i=0;i<t;i++)r+=Zne[e[i]];return r}clear(e,t){e==null?this.data.fill(0):t==null?this.set(e,!1):this.set(e,t,!1)}flip(e,t){if(t==null&&(t=e),e<0||t<e)throw new RangeError;let r=Xh(e),i=Xh(t);if(r===i)this.data[r]^=p1(e,t);else{for(this.data[r++]^=p1(e,15);r<i;)this.data[r++]^=65535;this.data[r++]^=p1(0,t)}}get(e,t){if(t===void 0)return!!(this.data[Xh(e)]&p1(e,e));{let r=new R6(t+1);for(let i=e;i<=t;i++)r.set(i,this.get(i));return r}}intersects(e){let t=Math.min(this.length(),e.length());if(t===0)return!1;let r=Xh(t-1);for(let i=0;i<=r;i++)if((this.data[i]&e.data[i])!==0)return!0;return!1}get isEmpty(){return this.length()===0}length(){return this.data.length?this.previousSetBit(yS(this.data.length)-1)+1:0}nextClearBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=Xh(e);if(i>r)return-1;let s=65535^p1(e,15);if((t[i]|s)===65535){for(i++,s=0;i<r&&t[i]===65535;i++);if(i===r)return-1}return yS(i)+Xne((t[i]|s)^65535)}nextSetBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=Xh(e);if(i>r)return-1;let s=p1(e,15);if((t[i]&s)===0){for(i++,s=65535;i<r&&t[i]===0;i++);if(i>=r)return-1}return yS(i)+Xne(t[i]&s)}or(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=Math.max(t.length,r.length),o=t.length===s?t:new Uint16Array(s),a=-1;for(let f=0;f<i;f++)(o[f]=t[f]|r[f])!==0&&(a=f);let l=t.length>r.length?t:r;for(let f=i;f<s;f++)(o[f]=l[f])!==0&&(a=f);a===-1?this.data=WD:o.length===a+1?this.data=o:this.data=o.slice(0,a)}previousClearBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=Xh(e);i>=r&&(i=r-1);let s=65535^p1(0,e);if((t[i]|s)===65535){for(s=0,i--;i>=0&&t[i]===65535;i--);if(i<0)return-1}return yS(i)+IEe((t[i]|s)^65535)}previousSetBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=Xh(e);i>=r&&(i=r-1);let s=p1(0,e);if((t[i]&s)===0){for(i--,s=65535;i>=0&&t[i]===0;i--);if(i<0)return-1}return yS(i)+IEe(t[i]&s)}set(e,t,r){if(t===void 0?(t=e,r=!0):typeof t=="boolean"&&(r=t,t=e),r===void 0&&(r=!0),e<0||e>t)throw new RangeError;let i=Xh(e),s=Xh(t);if(r&&s>=this.data.length){let o=new Uint16Array(s+1);this.data.forEach((a,l)=>o[l]=a),this.data=o}else if(!r){if(i>=this.data.length)return;s>=this.data.length&&(s=this.data.length-1,t=this.data.length*16-1)}if(i===s)this._setBits(i,r,p1(e,t));else{for(this._setBits(i++,r,p1(e,15));i<s;)this.data[i++]=r?65535:0;this._setBits(i,r,p1(0,t))}}_setBits(e,t,r){t?this.data[e]|=r:this.data[e]&=65535^r}get size(){return this.data.byteLength*8}hashCode(){return Tot.MurmurHash.hashCode(this.data,22)}equals(e){if(e===this)return!0;if(!(e instanceof R6))return!1;let t=this.length();if(t!==e.length())return!1;if(t===0)return!0;let r=Xh(t-1);for(let i=0;i<=r;i++)if(this.data[i]!==e.data[i])return!1;return!0}toString(){let e="{",t=!0;for(let r=this.nextSetBit(0);r>=0;r=this.nextSetBit(r+1))t?t=!1:e+=", ",e+=r;return e+="}",e}xor(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=Math.max(t.length,r.length),o=t.length===s?t:new Uint16Array(s),a=-1;for(let f=0;f<i;f++)(o[f]=t[f]^r[f])!==0&&(a=f);let l=t.length>r.length?t:r;for(let f=i;f<s;f++)(o[f]=l[f])!==0&&(a=f);a===-1?this.data=WD:o.length===a+1?this.data=o:this.data=o.slice(0,a+1)}clone(){return new R6(this)}[Symbol.iterator](){return new MEe(this.data)}[Aot.inspect.custom](){return"BitSet "+this.toString()}};Lq.BitSet=R6;var MEe=class{constructor(e){this.data=e,this.index=0,this.mask=65535}next(){for(;this.index<this.data.length;){let e=this.data[this.index]&this.mask;if(e!==0){let t=yS(this.index)+Xne(e);return this.mask=p1(t+1,15),{done:!1,value:t}}this.index++,this.mask=65535}return{done:!0,value:-1}}[Symbol.iterator](){return this}}});var _S=Ae(vS=>{"use strict";m();var ex=vS&&vS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(vS,"__esModule",{value:!0});vS.ATNConfigSet=void 0;var PEe=A6(),Fot=ty(),BEe=ID(),kq=Dm(),jEe=VD(),Dot=ry(),tx=Cr(),Rot=Tm(),qEe=d1(),Oot=Oq(),Not=C6(),Iq=M0(),Lot=Fm(),Mq=class{hashCode(e){return e.state^e.alt}equals(e,t){return e.state===t.state&&e.alt===t.alt}};Mq.INSTANCE=new Mq;function ere(n){return n?new PEe.Array2DHashMap(n):new PEe.Array2DHashMap(Mq.INSTANCE)}var Cd=class{constructor(e,t){this._uniqueAlt=0,this._hasSemanticContext=!1,this._dipsIntoOuterContext=!1,this.outermostConfigSet=!1,this.cachedHashCode=-1,e?(t?(this.mergedConfigs=void 0,this.unmerged=void 0):e.isReadOnly?(this.mergedConfigs=ere(),this.unmerged=[]):(this.mergedConfigs=ere(e.mergedConfigs),this.unmerged=e.unmerged.slice(0)),this.configs=e.configs.slice(0),this._dipsIntoOuterContext=e._dipsIntoOuterContext,this._hasSemanticContext=e._hasSemanticContext,this.outermostConfigSet=e.outermostConfigSet,(t||!e.isReadOnly)&&(this._uniqueAlt=e._uniqueAlt,this._conflictInfo=e._conflictInfo)):(this.mergedConfigs=ere(),this.unmerged=[],this.configs=[],this._uniqueAlt=kq.ATN.INVALID_ALT_NUMBER)}getRepresentedAlternatives(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts.clone();let e=new Dot.BitSet;for(let t of this)e.set(t.alt);return e}get isReadOnly(){return this.mergedConfigs==null}get isOutermostConfigSet(){return this.outermostConfigSet}set isOutermostConfigSet(e){if(this.outermostConfigSet&&!e)throw new Error("IllegalStateException");Iq(!e||!this._dipsIntoOuterContext),this.outermostConfigSet=e}getStates(){let e=new Fot.Array2DHashSet(Rot.ObjectEqualityComparator.INSTANCE);for(let t of this.configs)e.add(t.state);return e}optimizeConfigs(e){if(this.configs.length!==0)for(let t of this.configs)t.context=e.atn.getCachedContext(t.context)}clone(e){let t=new Cd(this,e);return!e&&this.isReadOnly&&t.addAll(this.configs),t}get size(){return this.configs.length}get isEmpty(){return this.configs.length===0}contains(e){if(!(e instanceof jEe.ATNConfig))return!1;if(this.mergedConfigs&&this.unmerged){let t=e,r=this.getKey(t),i=this.mergedConfigs.get(r);if(i!=null&&this.canMerge(t,r,i))return i.contains(t);for(let s of this.unmerged)if(s.contains(e))return!0}else for(let t of this.configs)if(t.contains(e))return!0;return!1}*[Symbol.iterator](){yield*this.configs}toArray(){return this.configs}add(e,t){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");Iq(!this.outermostConfigSet||!e.reachesIntoOuterContext),t==null&&(t=Oot.PredictionContextCache.UNCACHED);let r,i=this.getKey(e),s=this.mergedConfigs.get(i);if(r=s==null,s!=null&&this.canMerge(e,i,s)){s.outerContextDepth=Math.max(s.outerContextDepth,e.outerContextDepth),e.isPrecedenceFilterSuppressed&&(s.isPrecedenceFilterSuppressed=!0);let o=qEe.PredictionContext.join(s.context,e.context,t);return this.updatePropertiesForMergedConfig(e),s.context===o?!1:(s.context=o,!0)}for(let o=0;o<this.unmerged.length;o++){let a=this.unmerged[o];if(this.canMerge(e,i,a)){a.outerContextDepth=Math.max(a.outerContextDepth,e.outerContextDepth),e.isPrecedenceFilterSuppressed&&(a.isPrecedenceFilterSuppressed=!0);let l=qEe.PredictionContext.join(a.context,e.context,t);return this.updatePropertiesForMergedConfig(e),a.context===l?!1:(a.context=l,r&&(this.mergedConfigs.put(i,a),this.unmerged.splice(o,1)),!0)}}return this.configs.push(e),r?this.mergedConfigs.put(i,e):this.unmerged.push(e),this.updatePropertiesForAddedConfig(e),!0}updatePropertiesForMergedConfig(e){this._dipsIntoOuterContext=this._dipsIntoOuterContext||e.reachesIntoOuterContext,Iq(!this.outermostConfigSet||!this._dipsIntoOuterContext)}updatePropertiesForAddedConfig(e){this.configs.length===1?this._uniqueAlt=e.alt:this._uniqueAlt!==e.alt&&(this._uniqueAlt=kq.ATN.INVALID_ALT_NUMBER),this._hasSemanticContext=this._hasSemanticContext||!Not.SemanticContext.NONE.equals(e.semanticContext),this._dipsIntoOuterContext=this._dipsIntoOuterContext||e.reachesIntoOuterContext,Iq(!this.outermostConfigSet||!this._dipsIntoOuterContext)}canMerge(e,t,r){return e.state.stateNumber!==r.state.stateNumber||t.alt!==r.alt?!1:e.semanticContext.equals(r.semanticContext)}getKey(e){return{state:e.state.stateNumber,alt:e.alt}}containsAll(e){for(let t of e)if(!(t instanceof jEe.ATNConfig)||!this.contains(t))return!1;return!0}addAll(e,t){this.ensureWritable();let r=!1;for(let i of e)this.add(i,t)&&(r=!0);return r}clear(){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");this.mergedConfigs.clear(),this.unmerged.length=0,this.configs.length=0,this._dipsIntoOuterContext=!1,this._hasSemanticContext=!1,this._uniqueAlt=kq.ATN.INVALID_ALT_NUMBER,this._conflictInfo=void 0}equals(e){return this===e?!0:e instanceof Cd?this.outermostConfigSet===e.outermostConfigSet&&Lot.equals(this._conflictInfo,e._conflictInfo)&&BEe.ArrayEqualityComparator.INSTANCE.equals(this.configs,e.configs):!1}hashCode(){if(this.isReadOnly&&this.cachedHashCode!==-1)return this.cachedHashCode;let e=1;return e=5*e^(this.outermostConfigSet?1:0),e=5*e^BEe.ArrayEqualityComparator.INSTANCE.hashCode(this.configs),this.isReadOnly&&(this.cachedHashCode=e),e}toString(e){e==null&&(e=!1);let t="",r=this.configs.slice(0);r.sort((i,s)=>i.alt!==s.alt?i.alt-s.alt:i.state.stateNumber!==s.state.stateNumber?i.state.stateNumber-s.state.stateNumber:i.semanticContext.toString().localeCompare(s.semanticContext.toString())),t+="[";for(let i=0;i<r.length;i++)i>0&&(t+=", "),t+=r[i].toString(void 0,!0,e);return t+="]",this._hasSemanticContext&&(t+=",hasSemanticContext="+this._hasSemanticContext),this._uniqueAlt!==kq.ATN.INVALID_ALT_NUMBER&&(t+=",uniqueAlt="+this._uniqueAlt),this._conflictInfo!=null&&(t+=",conflictingAlts="+this._conflictInfo.conflictedAlts,this._conflictInfo.isExact||(t+="*")),this._dipsIntoOuterContext&&(t+=",dipsIntoOuterContext"),t.toString()}get uniqueAlt(){return this._uniqueAlt}get hasSemanticContext(){return this._hasSemanticContext}set hasSemanticContext(e){this.ensureWritable(),this._hasSemanticContext=e}get conflictInfo(){return this._conflictInfo}set conflictInfo(e){this.ensureWritable(),this._conflictInfo=e}get conflictingAlts(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts}get isExactConflict(){return this._conflictInfo==null?!1:this._conflictInfo.isExact}get dipsIntoOuterContext(){return this._dipsIntoOuterContext}get(e){return this.configs[e]}ensureWritable(){if(this.isReadOnly)throw new Error("This ATNConfigSet is read only.")}};ex([tx.NotNull],Cd.prototype,"getRepresentedAlternatives",null);ex([tx.Override],Cd.prototype,"size",null);ex([tx.Override],Cd.prototype,"isEmpty",null);ex([tx.Override],Cd.prototype,"contains",null);ex([tx.Override],Cd.prototype,Symbol.iterator,null);ex([tx.Override],Cd.prototype,"toArray",null);ex([tx.Override],Cd.prototype,"containsAll",null);ex([tx.Override],Cd.prototype,"clear",null);ex([tx.Override],Cd.prototype,"equals",null);ex([tx.Override],Cd.prototype,"hashCode",null);vS.ATNConfigSet=Cd});var QD=Ae(nx=>{"use strict";m();var iy=nx&&nx.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},kot=nx&&nx.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(nx,"__esModule",{value:!0});nx.DFAState=void 0;var Iot=Dm(),Mot=ry(),tre=Pl(),sy=Cr(),Pq=d1(),UEe=M0(),Rm=class{constructor(e){this.stateNumber=-1,this.configs=e,this.edges=new Map,this.contextEdges=new Map}get isContextSensitive(){return!!this.contextSymbols}isContextSymbol(e){return this.isContextSensitive?this.contextSymbols.get(e):!1}setContextSymbol(e){UEe(this.isContextSensitive),this.contextSymbols.set(e)}setContextSensitive(e){UEe(!this.configs.isOutermostConfigSet),!this.isContextSensitive&&(this.contextSymbols||(this.contextSymbols=new Mot.BitSet))}get acceptStateInfo(){return this._acceptStateInfo}set acceptStateInfo(e){this._acceptStateInfo=e}get isAcceptState(){return!!this._acceptStateInfo}get prediction(){return this._acceptStateInfo?this._acceptStateInfo.prediction:Iot.ATN.INVALID_ALT_NUMBER}get lexerActionExecutor(){if(!!this._acceptStateInfo)return this._acceptStateInfo.lexerActionExecutor}getTarget(e){return this.edges.get(e)}setTarget(e,t){this.edges.set(e,t)}getEdgeMap(){return this.edges}getContextTarget(e){return e===Pq.PredictionContext.EMPTY_FULL_STATE_KEY&&(e=-1),this.contextEdges.get(e)}setContextTarget(e,t){if(!this.isContextSensitive)throw new Error("The state is not context sensitive.");e===Pq.PredictionContext.EMPTY_FULL_STATE_KEY&&(e=-1),this.contextEdges.set(e,t)}getContextEdgeMap(){let e=new Map(this.contextEdges),t=e.get(-1);if(t!==void 0)if(e.size===1){let r=new Map;return r.set(Pq.PredictionContext.EMPTY_FULL_STATE_KEY,t),r}else e.delete(-1),e.set(Pq.PredictionContext.EMPTY_FULL_STATE_KEY,t);return e}hashCode(){let e=tre.MurmurHash.initialize(7);return e=tre.MurmurHash.update(e,this.configs.hashCode()),e=tre.MurmurHash.finish(e,1),e}equals(e){if(this===e)return!0;if(!(e instanceof Rm))return!1;let t=e;return this.configs.equals(t.configs)}toString(){let e="";return e+=this.stateNumber+":"+this.configs,this.isAcceptState&&(e+="=>",this.predicates?e+=this.predicates:e+=this.prediction),e.toString()}};iy([sy.NotNull],Rm.prototype,"configs",void 0);iy([sy.NotNull],Rm.prototype,"edges",void 0);iy([sy.NotNull],Rm.prototype,"contextEdges",void 0);iy([sy.Override],Rm.prototype,"hashCode",null);iy([sy.Override],Rm.prototype,"equals",null);iy([sy.Override],Rm.prototype,"toString",null);nx.DFAState=Rm;(function(n){let e=class{constructor(r,i){this.alt=i,this.pred=r}toString(){return"("+this.pred+", "+this.alt+")"}};iy([sy.NotNull],e.prototype,"pred",void 0),iy([sy.Override],e.prototype,"toString",null),e=iy([kot(0,sy.NotNull)],e),n.PredPrediction=e})(Rm=nx.DFAState||(nx.DFAState={}))});var YD=Ae(Om=>{"use strict";m();var nre=Om&&Om.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Pot=Om&&Om.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Om,"__esModule",{value:!0});Om.ATNSimulator=void 0;var Bot=_S(),jot=QD(),rre=Cr(),qot=d1(),O6=class GD{constructor(e){this.atn=e}static get ERROR(){return GD._ERROR||(GD._ERROR=new jot.DFAState(new Bot.ATNConfigSet),GD._ERROR.stateNumber=qot.PredictionContext.EMPTY_FULL_STATE_KEY),GD._ERROR}clearDFA(){this.atn.clearDFA()}};nre([rre.NotNull],O6.prototype,"atn",void 0);nre([rre.NotNull],O6,"ERROR",null);O6=nre([Pot(0,rre.NotNull)],O6);Om.ATNSimulator=O6;(function(n){let e="$",t="$lf$",r="$nolf$"})(O6=Om.ATNSimulator||(Om.ATNSimulator={}));Om.ATNSimulator=O6});var ire=Ae(jq=>{"use strict";m();Object.defineProperty(jq,"__esModule",{value:!0});jq.ConsoleErrorListener=void 0;var Bq=class{syntaxError(e,t,r,i,s,o){console.error(`line ${r}:${i} ${s}`)}};jq.ConsoleErrorListener=Bq;Bq.INSTANCE=new Bq});var qq=Ae(lv=>{"use strict";m();var Uot=lv&&lv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},$Ee=lv&&lv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(lv,"__esModule",{value:!0});lv.ProxyErrorListener=void 0;var sre=Cr(),ore=class{constructor(e){if(this.delegates=e,!e)throw new Error("Invalid delegates")}getDelegates(){return this.delegates}syntaxError(e,t,r,i,s,o){this.delegates.forEach(a=>{a.syntaxError&&a.syntaxError(e,t,r,i,s,o)})}};Uot([sre.Override,$Ee(0,sre.NotNull),$Ee(4,sre.NotNull)],ore.prototype,"syntaxError",null);lv.ProxyErrorListener=ore});var ES=Ae(cv=>{"use strict";m();var rx=cv&&cv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Uq=cv&&cv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(cv,"__esModule",{value:!0});cv.Recognizer=void 0;var $ot=ire(),zot=qq(),Zh=Cr(),zEe=uu(),Hot=Fm(),Cc=class{constructor(){this._listeners=[$ot.ConsoleErrorListener.INSTANCE],this._stateNumber=-1}getTokenTypeMap(){let e=this.vocabulary,t=Cc.tokenTypeMapCache.get(e);if(t==null){let r=new Map;for(let i=0;i<=this.atn.maxTokenType;i++){let s=e.getLiteralName(i);s!=null&&r.set(s,i);let o=e.getSymbolicName(i);o!=null&&r.set(o,i)}r.set("EOF",zEe.Token.EOF),t=r,Cc.tokenTypeMapCache.set(e,t)}return t}getRuleIndexMap(){let e=this.ruleNames;if(e==null)throw new Error("The current recognizer does not provide a list of rule names.");let t=Cc.ruleIndexMapCache.get(e);return t==null&&(t=Hot.toMap(e),Cc.ruleIndexMapCache.set(e,t)),t}getTokenType(e){let t=this.getTokenTypeMap().get(e);return t??zEe.Token.INVALID_TYPE}get serializedATN(){throw new Error("there is no serialized ATN")}get atn(){return this._interp.atn}get interpreter(){return this._interp}set interpreter(e){this._interp=e}get parseInfo(){return Promise.resolve(void 0)}getErrorHeader(e){let t=e.getOffendingToken();if(!t)return"";let r=t.line,i=t.charPositionInLine;return"line "+r+":"+i}addErrorListener(e){if(!e)throw new TypeError("listener must not be null");this._listeners.push(e)}removeErrorListener(e){let t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}removeErrorListeners(){this._listeners.length=0}getErrorListeners(){return this._listeners.slice(0)}getErrorListenerDispatch(){return new zot.ProxyErrorListener(this.getErrorListeners())}sempred(e,t,r){return!0}precpred(e,t){return!0}action(e,t,r){}get state(){return this._stateNumber}set state(e){this._stateNumber=e}};Cc.EOF=-1;Cc.tokenTypeMapCache=new WeakMap;Cc.ruleIndexMapCache=new WeakMap;rx([Zh.SuppressWarnings("serial"),Zh.NotNull],Cc.prototype,"_listeners",void 0);rx([Zh.NotNull],Cc.prototype,"getTokenTypeMap",null);rx([Zh.NotNull],Cc.prototype,"getRuleIndexMap",null);rx([Zh.NotNull],Cc.prototype,"serializedATN",null);rx([Zh.NotNull],Cc.prototype,"atn",null);rx([Zh.NotNull,Uq(0,Zh.NotNull)],Cc.prototype,"interpreter",null);rx([Zh.NotNull,Uq(0,Zh.NotNull)],Cc.prototype,"getErrorHeader",null);rx([Uq(0,Zh.NotNull)],Cc.prototype,"addErrorListener",null);rx([Uq(0,Zh.NotNull)],Cc.prototype,"removeErrorListener",null);rx([Zh.NotNull],Cc.prototype,"getErrorListeners",null);cv.Recognizer=Cc});var ay=Ae(bS=>{"use strict";m();var fv=bS&&bS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(bS,"__esModule",{value:!0});bS.VocabularyImpl=void 0;var oy=Cr(),Vot=uu(),m1=class{constructor(e,t,r){this.literalNames=e,this.symbolicNames=t,this.displayNames=r,this._maxTokenType=Math.max(this.displayNames.length,Math.max(this.literalNames.length,this.symbolicNames.length))-1}get maxTokenType(){return this._maxTokenType}getLiteralName(e){if(e>=0&&e<this.literalNames.length)return this.literalNames[e]}getSymbolicName(e){if(e>=0&&e<this.symbolicNames.length)return this.symbolicNames[e];if(e===Vot.Token.EOF)return"EOF"}getDisplayName(e){if(e>=0&&e<this.displayNames.length){let i=this.displayNames[e];if(i)return i}let t=this.getLiteralName(e);if(t)return t;let r=this.getSymbolicName(e);return r||String(e)}};m1.EMPTY_VOCABULARY=new m1([],[],[]);fv([oy.NotNull],m1.prototype,"literalNames",void 0);fv([oy.NotNull],m1.prototype,"symbolicNames",void 0);fv([oy.NotNull],m1.prototype,"displayNames",void 0);fv([oy.Override],m1.prototype,"maxTokenType",null);fv([oy.Override],m1.prototype,"getLiteralName",null);fv([oy.Override],m1.prototype,"getSymbolicName",null);fv([oy.Override,oy.NotNull],m1.prototype,"getDisplayName",null);fv([oy.NotNull],m1,"EMPTY_VOCABULARY",void 0);bS.VocabularyImpl=m1});var cre=Ae(SS=>{"use strict";m();var are=SS&&SS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(SS,"__esModule",{value:!0});SS.DFASerializer=void 0;var ure=YD(),lre=Cr(),HEe=d1(),Wot=ES(),Qot=ay(),KD=class{constructor(e,t,r,i){t instanceof Wot.Recognizer?(r=t.ruleNames,i=t.atn,t=t.vocabulary):t||(t=Qot.VocabularyImpl.EMPTY_VOCABULARY),this.dfa=e,this.vocabulary=t,this.ruleNames=r,this.atn=i}toString(){if(!this.dfa.s0)return"";let e="";if(this.dfa.states){let r=new Array(...this.dfa.states.toArray());r.sort((i,s)=>i.stateNumber-s.stateNumber);for(let i of r){let s=i.getEdgeMap(),o=[...s.keys()].sort((f,p)=>f-p),a=i.getContextEdgeMap(),l=[...a.keys()].sort((f,p)=>f-p);for(let f of o){let p=s.get(f);if((p==null||p===ure.ATNSimulator.ERROR)&&!i.isContextSymbol(f))continue;let _=!1;e+=this.getStateString(i)+"-"+this.getEdgeLabel(f)+"->",i.isContextSymbol(f)&&(e+="!",_=!0);let b=p;b&&b.stateNumber!==ure.ATNSimulator.ERROR.stateNumber?e+=this.getStateString(b)+`
`:_&&(e+=`ctx
`)}if(i.isContextSensitive)for(let f of l)e+=this.getStateString(i)+"-"+this.getContextLabel(f)+"->"+this.getStateString(a.get(f))+`
`}}let t=e;return t.length===0?"":t}getContextLabel(e){if(e===HEe.PredictionContext.EMPTY_FULL_STATE_KEY)return"ctx:EMPTY_FULL";if(e===HEe.PredictionContext.EMPTY_LOCAL_STATE_KEY)return"ctx:EMPTY_LOCAL";if(this.atn&&e>0&&e<=this.atn.states.length){let r=this.atn.states[e].ruleIndex;if(this.ruleNames&&r>=0&&r<this.ruleNames.length)return"ctx:"+String(e)+"("+this.ruleNames[r]+")"}return"ctx:"+String(e)}getEdgeLabel(e){return this.vocabulary.getDisplayName(e)}getStateString(e){if(e===ure.ATNSimulator.ERROR)return"ERROR";let t=e.stateNumber,r="s"+t;if(e.isAcceptState&&(e.predicates?r=":s"+t+"=>"+e.predicates:r=":s"+t+"=>"+e.prediction),e.isContextSensitive){r+="*";for(let i of e.configs)if(i.reachesIntoOuterContext){r+="*";break}}return r}};are([lre.NotNull],KD.prototype,"dfa",void 0);are([lre.NotNull],KD.prototype,"vocabulary",void 0);are([lre.Override],KD.prototype,"toString",null);SS.DFASerializer=KD});var WEe=Ae(dv=>{"use strict";m();var VEe=dv&&dv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Got=dv&&dv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(dv,"__esModule",{value:!0});dv.LexerDFASerializer=void 0;var Yot=cre(),fre=Cr(),Kot=ay(),$q=class extends Yot.DFASerializer{constructor(e){super(e,Kot.VocabularyImpl.EMPTY_VOCABULARY)}getEdgeLabel(e){return"'"+String.fromCodePoint(e)+"'"}};VEe([fre.Override,fre.NotNull],$q.prototype,"getEdgeLabel",null);$q=VEe([Got(0,fre.NotNull)],$q);dv.LexerDFASerializer=$q});var zq=Ae(CS=>{"use strict";m();var Jot=CS&&CS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(CS,"__esModule",{value:!0});CS.StarLoopEntryState=void 0;var Xot=Ef(),Zot=ry(),eat=iv(),tat=Cr(),dre=class extends eat.DecisionState{constructor(){super(...arguments);this.precedenceRuleDecision=!1,this.precedenceLoopbackStates=new Zot.BitSet}get stateType(){return Xot.ATNStateType.STAR_LOOP_ENTRY}};Jot([tat.Override],dre.prototype,"stateType",null);CS.StarLoopEntryState=dre});var hre=Ae(hv=>{"use strict";m();var Hq=hv&&hv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},nat=hv&&hv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(hv,"__esModule",{value:!0});hv.DFA=void 0;var rat=ty(),QEe=_S(),GEe=cre(),YEe=QD(),iat=WEe(),Vq=Cr(),sat=Tm(),oat=zq(),aat=ay(),wS=class{constructor(e,t=0){if(this.states=new rat.Array2DHashSet(sat.ObjectEqualityComparator.INSTANCE),this.nextStateNumber=0,!e.atn)throw new Error("The ATNState must be associated with an ATN");this.atnStartState=e,this.atn=e.atn,this.decision=t;let r=!1;e instanceof oat.StarLoopEntryState&&e.precedenceRuleDecision&&(r=!0,this.s0=new YEe.DFAState(new QEe.ATNConfigSet),this.s0full=new YEe.DFAState(new QEe.ATNConfigSet)),this.precedenceDfa=r}get isPrecedenceDfa(){return this.precedenceDfa}getPrecedenceStartState(e,t){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");return t?this.s0full.getTarget(e):this.s0.getTarget(e)}setPrecedenceStartState(e,t,r){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");e<0||(t?this.s0full.setTarget(e,r):this.s0.setTarget(e,r))}get isEmpty(){return this.isPrecedenceDfa?this.s0.getEdgeMap().size===0&&this.s0full.getEdgeMap().size===0:this.s0==null&&this.s0full==null}get isContextSensitive(){return this.isPrecedenceDfa?this.s0full.getEdgeMap().size>0:this.s0full!=null}addState(e){return e.stateNumber=this.nextStateNumber++,this.states.getOrAdd(e)}toString(e,t){if(e||(e=aat.VocabularyImpl.EMPTY_VOCABULARY),!this.s0)return"";let r;return t?r=new GEe.DFASerializer(this,e,t,this.atnStartState.atn):r=new GEe.DFASerializer(this,e),r.toString()}toLexerString(){return this.s0?new iat.LexerDFASerializer(this).toString():""}};Hq([Vq.NotNull],wS.prototype,"states",void 0);Hq([Vq.NotNull],wS.prototype,"atnStartState",void 0);Hq([Vq.NotNull],wS.prototype,"atn",void 0);wS=Hq([nat(0,Vq.NotNull)],wS);hv.DFA=wS});var mre=Ae(AS=>{"use strict";m();var uat=AS&&AS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(AS,"__esModule",{value:!0});AS.BasicState=void 0;var lat=K2(),cat=Ef(),fat=Cr(),pre=class extends lat.ATNState{get stateType(){return cat.ATNStateType.BASIC}};uat([fat.Override],pre.prototype,"stateType",null);AS.BasicState=pre});var gre=Ae(TS=>{"use strict";m();var dat=TS&&TS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(TS,"__esModule",{value:!0});TS.InvalidState=void 0;var hat=Ef(),pat=mre(),mat=Cr(),xre=class extends pat.BasicState{get stateType(){return hat.ATNStateType.INVALID_TYPE}};dat([mat.Override],xre.prototype,"stateType",null);TS.InvalidState=xre});var Wq=Ae(mv=>{"use strict";m();var FS=mv&&mv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},KEe=mv&&mv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(mv,"__esModule",{value:!0});mv.SetTransition=void 0;var xat=xv(),uy=Cr(),gat=uu(),yat=ey(),pv=class extends yat.Transition{constructor(e,t){super(e);t==null&&(t=xat.IntervalSet.of(gat.Token.INVALID_TYPE)),this.set=t}get serializationType(){return 7}get label(){return this.set}matches(e,t,r){return this.set.contains(e)}toString(){return this.set.toString()}};FS([uy.NotNull],pv.prototype,"set",void 0);FS([uy.Override],pv.prototype,"serializationType",null);FS([uy.Override,uy.NotNull],pv.prototype,"label",null);FS([uy.Override],pv.prototype,"matches",null);FS([uy.Override,uy.NotNull],pv.prototype,"toString",null);pv=FS([KEe(0,uy.NotNull),KEe(1,uy.Nullable)],pv);mv.SetTransition=pv});var Gq=Ae(gv=>{"use strict";m();var Qq=gv&&gv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},JEe=gv&&gv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(gv,"__esModule",{value:!0});gv.NotSetTransition=void 0;var JD=Cr(),vat=Wq(),DS=class extends vat.SetTransition{constructor(e,t){super(e,t)}get serializationType(){return 8}matches(e,t,r){return e>=t&&e<=r&&!super.matches(e,t,r)}toString(){return"~"+super.toString()}};Qq([JD.Override],DS.prototype,"serializationType",null);Qq([JD.Override],DS.prototype,"matches",null);Qq([JD.Override],DS.prototype,"toString",null);DS=Qq([JEe(0,JD.NotNull),JEe(1,JD.Nullable)],DS);gv.NotSetTransition=DS});var OS=Ae(RS=>{"use strict";m();var XEe=RS&&RS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(RS,"__esModule",{value:!0});RS.RuleStopState=void 0;var _at=K2(),Eat=Ef(),ZEe=Cr(),Yq=class extends _at.ATNState{get nonStopStateNumber(){return-1}get stateType(){return Eat.ATNStateType.RULE_STOP}};XEe([ZEe.Override],Yq.prototype,"nonStopStateNumber",null);XEe([ZEe.Override],Yq.prototype,"stateType",null);RS.RuleStopState=Yq});var Kq=Ae(yv=>{"use strict";m();var XD=yv&&yv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},ebe=yv&&yv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(yv,"__esModule",{value:!0});yv.RuleTransition=void 0;var NS=Cr(),bat=ey(),N6=class extends bat.Transition{constructor(e,t,r,i){super(e);this.tailCall=!1,this.optimizedTailCall=!1,this.ruleIndex=t,this.precedence=r,this.followState=i}get serializationType(){return 3}get isEpsilon(){return!0}matches(e,t,r){return!1}};XD([NS.NotNull],N6.prototype,"followState",void 0);XD([NS.Override],N6.prototype,"serializationType",null);XD([NS.Override],N6.prototype,"isEpsilon",null);XD([NS.Override],N6.prototype,"matches",null);N6=XD([ebe(0,NS.NotNull),ebe(3,NS.NotNull)],N6);yv.RuleTransition=N6});var yre=Ae(vv=>{"use strict";m();var Jq=vv&&vv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Sat=vv&&vv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(vv,"__esModule",{value:!0});vv.WildcardTransition=void 0;var ZD=Cr(),Cat=ey(),LS=class extends Cat.Transition{constructor(e){super(e)}get serializationType(){return 9}matches(e,t,r){return e>=t&&e<=r}toString(){return"."}};Jq([ZD.Override],LS.prototype,"serializationType",null);Jq([ZD.Override],LS.prototype,"matches",null);Jq([ZD.Override,ZD.NotNull],LS.prototype,"toString",null);LS=Jq([Sat(0,ZD.NotNull)],LS);vv.WildcardTransition=LS});var rbe=Ae(Ev=>{"use strict";m();var Xq=Ev&&Ev.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},_v=Ev&&Ev.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Ev,"__esModule",{value:!0});Ev.LL1Analyzer=void 0;var wat=pq(),tbe=ty(),Aat=VD(),nbe=ry(),Zq=xv(),ix=Cr(),Tat=Gq(),Fat=Tm(),eU=d1(),Dat=OS(),Rat=Kq(),kS=uu(),Oat=yre(),L6=class vre{constructor(e){this.atn=e}getDecisionLookahead(e){if(e==null)return;let t=new Array(e.numberOfTransitions);for(let r=0;r<e.numberOfTransitions;r++){let i=new Zq.IntervalSet;t[r]=i;let s=new tbe.Array2DHashSet(Fat.ObjectEqualityComparator.INSTANCE),o=!1;this._LOOK(e.transition(r).target,void 0,eU.PredictionContext.EMPTY_LOCAL,i,s,new nbe.BitSet,o,!1),(i.size===0||i.contains(vre.HIT_PRED))&&(i=void 0,t[r]=i)}return t}LOOK(e,t,r){if(r===void 0){if(e.atn==null)throw new Error("Illegal state");r=e.atn.ruleToStopState[e.ruleIndex]}else r===null&&(r=void 0);let i=new Zq.IntervalSet,s=!0,o=!0;return this._LOOK(e,r,t,i,new tbe.Array2DHashSet,new nbe.BitSet,s,o),i}_LOOK(e,t,r,i,s,o,a,l){let f=Aat.ATNConfig.create(e,0,r);if(!s.add(f))return;if(e===t){if(eU.PredictionContext.isEmptyLocal(r)){i.add(kS.Token.EPSILON);return}else if(r.isEmpty){l&&i.add(kS.Token.EOF);return}}if(e instanceof Dat.RuleStopState){if(r.isEmpty&&!eU.PredictionContext.isEmptyLocal(r)){l&&i.add(kS.Token.EOF);return}let _=o.get(e.ruleIndex);try{o.clear(e.ruleIndex);for(let b=0;b<r.size;b++){if(r.getReturnState(b)===eU.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let R=this.atn.states[r.getReturnState(b)];this._LOOK(R,t,r.getParent(b),i,s,o,a,l)}}finally{_&&o.set(e.ruleIndex)}}let p=e.numberOfTransitions;for(let _=0;_<p;_++){let b=e.transition(_);if(b instanceof Rat.RuleTransition){if(o.get(b.ruleIndex))continue;let R=r.getChild(b.followState.stateNumber);try{o.set(b.ruleIndex),this._LOOK(b.target,t,R,i,s,o,a,l)}finally{o.clear(b.ruleIndex)}}else if(b instanceof wat.AbstractPredicateTransition)a?this._LOOK(b.target,t,r,i,s,o,a,l):i.add(vre.HIT_PRED);else if(b.isEpsilon)this._LOOK(b.target,t,r,i,s,o,a,l);else if(b instanceof Oat.WildcardTransition)i.addAll(Zq.IntervalSet.of(kS.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType));else{let R=b.label;R!=null&&(b instanceof Tat.NotSetTransition&&(R=R.complement(Zq.IntervalSet.of(kS.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType))),i.addAll(R))}}}};L6.HIT_PRED=kS.Token.INVALID_TYPE;Xq([ix.NotNull],L6.prototype,"atn",void 0);Xq([ix.NotNull,_v(0,ix.NotNull),_v(1,ix.NotNull)],L6.prototype,"LOOK",null);Xq([_v(0,ix.NotNull),_v(2,ix.NotNull),_v(3,ix.NotNull),_v(4,ix.NotNull),_v(5,ix.NotNull)],L6.prototype,"_LOOK",null);L6=Xq([_v(0,ix.NotNull)],L6);Ev.LL1Analyzer=L6});var Dm=Ae(Nm=>{"use strict";m();var x1=Nm&&Nm.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},eR=Nm&&Nm.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Nm,"__esModule",{value:!0});Nm.ATN=void 0;var Nat=A6(),tU=hre(),Lat=xv(),kat=gre(),Iat=rbe(),ep=Cr(),Mat=Tm(),_re=d1(),IS=uu(),Pat=M0(),q0=class{constructor(e,t){this.states=[],this.decisionToState=[],this.modeNameToStartState=new Map,this.modeToStartState=[],this.contextCache=new Nat.Array2DHashMap(Mat.ObjectEqualityComparator.INSTANCE),this.decisionToDFA=[],this.modeToDFA=[],this.LL1Table=new Map,this.grammarType=e,this.maxTokenType=t}clearDFA(){this.decisionToDFA=new Array(this.decisionToState.length);for(let e=0;e<this.decisionToDFA.length;e++)this.decisionToDFA[e]=new tU.DFA(this.decisionToState[e],e);this.modeToDFA=new Array(this.modeToStartState.length);for(let e=0;e<this.modeToDFA.length;e++)this.modeToDFA[e]=new tU.DFA(this.modeToStartState[e]);this.contextCache.clear(),this.LL1Table.clear()}get contextCacheSize(){return this.contextCache.size}getCachedContext(e){return _re.PredictionContext.getCachedContext(e,this.contextCache,new _re.PredictionContext.IdentityHashMap)}getDecisionToDFA(){return Pat(this.decisionToDFA!=null&&this.decisionToDFA.length===this.decisionToState.length),this.decisionToDFA}nextTokens(e,t){return t?new Iat.LL1Analyzer(this).LOOK(e,t):(e.nextTokenWithinRule||(e.nextTokenWithinRule=this.nextTokens(e,_re.PredictionContext.EMPTY_LOCAL),e.nextTokenWithinRule.setReadonly(!0)),e.nextTokenWithinRule)}addState(e){e.atn=this,e.stateNumber=this.states.length,this.states.push(e)}removeState(e){let t=new kat.InvalidState;t.atn=this,t.stateNumber=e.stateNumber,this.states[e.stateNumber]=t}defineMode(e,t){this.modeNameToStartState.set(e,t),this.modeToStartState.push(t),this.modeToDFA.push(new tU.DFA(t)),this.defineDecisionState(t)}defineDecisionState(e){return this.decisionToState.push(e),e.decision=this.decisionToState.length-1,this.decisionToDFA.push(new tU.DFA(e,e.decision)),e.decision}getDecisionState(e){if(this.decisionToState.length>0)return this.decisionToState[e]}get numberOfDecisions(){return this.decisionToState.length}getExpectedTokens(e,t){if(e<0||e>=this.states.length)throw new RangeError("Invalid state number.");let r=t,i=this.states[e],s=this.nextTokens(i);if(!s.contains(IS.Token.EPSILON))return s;let o=new Lat.IntervalSet;for(o.addAll(s),o.remove(IS.Token.EPSILON);r!=null&&r.invokingState>=0&&s.contains(IS.Token.EPSILON);){let l=this.states[r.invokingState].transition(0);s=this.nextTokens(l.followState),o.addAll(s),o.remove(IS.Token.EPSILON),r=r._parent}return s.contains(IS.Token.EPSILON)&&o.add(IS.Token.EOF),o}};x1([ep.NotNull],q0.prototype,"states",void 0);x1([ep.NotNull],q0.prototype,"decisionToState",void 0);x1([ep.NotNull],q0.prototype,"modeNameToStartState",void 0);x1([ep.NotNull],q0.prototype,"modeToStartState",void 0);x1([ep.NotNull],q0.prototype,"decisionToDFA",void 0);x1([ep.NotNull],q0.prototype,"modeToDFA",void 0);x1([ep.NotNull],q0.prototype,"nextTokens",null);x1([eR(0,ep.NotNull)],q0.prototype,"removeState",null);x1([eR(0,ep.NotNull),eR(1,ep.NotNull)],q0.prototype,"defineMode",null);x1([eR(0,ep.NotNull)],q0.prototype,"defineDecisionState",null);x1([ep.NotNull],q0.prototype,"getExpectedTokens",null);q0=x1([eR(0,ep.NotNull)],q0);Nm.ATN=q0;(function(n){n.INVALID_ALT_NUMBER=0})(q0=Nm.ATN||(Nm.ATN={}));Nm.ATN=q0});var sbe=Ae(bv=>{"use strict";m();var k6=bv&&bv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Bat=bv&&bv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(bv,"__esModule",{value:!0});bv.LexerIndexedCustomAction=void 0;var nU=Pl(),I6=Cr(),ly=class ibe{constructor(e,t){this._offset=e,this._action=t}get offset(){return this._offset}get action(){return this._action}get actionType(){return this._action.actionType}get isPositionDependent(){return!0}execute(e){this._action.execute(e)}hashCode(){let e=nU.MurmurHash.initialize();return e=nU.MurmurHash.update(e,this._offset),e=nU.MurmurHash.update(e,this._action),nU.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof ibe?this._offset===e._offset&&this._action.equals(e._action):!1}};k6([I6.NotNull],ly.prototype,"action",null);k6([I6.Override],ly.prototype,"actionType",null);k6([I6.Override],ly.prototype,"isPositionDependent",null);k6([I6.Override],ly.prototype,"execute",null);k6([I6.Override],ly.prototype,"hashCode",null);k6([I6.Override],ly.prototype,"equals",null);ly=k6([Bat(1,I6.NotNull)],ly);bv.LexerIndexedCustomAction=ly});var obe=Ae(Cv=>{"use strict";m();var M6=Cv&&Cv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Ere=Cv&&Cv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Cv,"__esModule",{value:!0});Cv.LexerActionExecutor=void 0;var jat=ID(),bre=sbe(),Sre=Pl(),Sv=Cr(),cy=class tR{constructor(e){this._lexerActions=e;let t=Sre.MurmurHash.initialize();for(let r of e)t=Sre.MurmurHash.update(t,r);this.cachedHashCode=Sre.MurmurHash.finish(t,e.length)}static append(e,t){if(!e)return new tR([t]);let r=e._lexerActions.slice(0);return r.push(t),new tR(r)}fixOffsetBeforeMatch(e){let t;for(let r=0;r<this._lexerActions.length;r++)this._lexerActions[r].isPositionDependent&&!(this._lexerActions[r]instanceof bre.LexerIndexedCustomAction)&&(t||(t=this._lexerActions.slice(0)),t[r]=new bre.LexerIndexedCustomAction(e,this._lexerActions[r]));return t?new tR(t):this}get lexerActions(){return this._lexerActions}execute(e,t,r){let i=!1,s=t.index;try{for(let o of this._lexerActions){if(o instanceof bre.LexerIndexedCustomAction){let a=o.offset;t.seek(r+a),o=o.action,i=r+a!==s}else o.isPositionDependent&&(t.seek(s),i=!1);o.execute(e)}}finally{i&&t.seek(s)}}hashCode(){return this.cachedHashCode}equals(e){return e===this?!0:e instanceof tR?this.cachedHashCode===e.cachedHashCode&&jat.ArrayEqualityComparator.INSTANCE.equals(this._lexerActions,e._lexerActions):!1}};M6([Sv.NotNull],cy.prototype,"_lexerActions",void 0);M6([Sv.NotNull],cy.prototype,"lexerActions",null);M6([Ere(0,Sv.NotNull)],cy.prototype,"execute",null);M6([Sv.Override],cy.prototype,"hashCode",null);M6([Sv.Override],cy.prototype,"equals",null);M6([Sv.NotNull,Ere(1,Sv.NotNull)],cy,"append",null);cy=M6([Ere(0,Sv.NotNull)],cy);Cv.LexerActionExecutor=cy});var rR=Ae(wv=>{"use strict";m();var Cre=wv&&wv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},qat=wv&&wv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(wv,"__esModule",{value:!0});wv.LexerNoViableAltException=void 0;var Uat=Zg(),wre=Cr(),$at=j0(),zat=Fm(),nR=class extends Uat.RecognitionException{constructor(e,t,r,i){super(e,t);this._startIndex=r,this._deadEndConfigs=i}get startIndex(){return this._startIndex}get deadEndConfigs(){return this._deadEndConfigs}get inputStream(){return super.inputStream}toString(){let e="";return this._startIndex>=0&&this._startIndex<this.inputStream.size&&(e=this.inputStream.getText($at.Interval.of(this._startIndex,this._startIndex)),e=zat.escapeWhitespace(e,!1)),`LexerNoViableAltException('${e}')`}};Cre([wre.Override],nR.prototype,"inputStream",null);Cre([wre.Override],nR.prototype,"toString",null);nR=Cre([qat(1,wre.NotNull)],nR);wv.LexerNoViableAltException=nR});var abe=Ae(MS=>{"use strict";m();var Are=MS&&MS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(MS,"__esModule",{value:!0});MS.OrderedATNConfigSet=void 0;var Hat=_S(),Tre=Cr(),P6=class extends Hat.ATNConfigSet{constructor(e,t){e!=null&&t!=null?super(e,t):super()}clone(e){let t=new P6(this,e);return!e&&this.isReadOnly&&t.addAll(this),t}getKey(e){return{state:0,alt:e.hashCode()}}canMerge(e,t,r){return e.equals(r)}};Are([Tre.Override],P6.prototype,"clone",null);Are([Tre.Override],P6.prototype,"getKey",null);Are([Tre.Override],P6.prototype,"canMerge",null);MS.OrderedATNConfigSet=P6});var sR=Ae(Lm=>{"use strict";m();var Xl=Lm&&Lm.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Na=Lm&&Lm.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Lm,"__esModule",{value:!0});Lm.LexerATNSimulator=void 0;var Vat=Qne(),Wat=Dm(),Qat=VD(),Gat=_S(),rU=YD(),ube=QD(),Yat=j0(),iR=Jg(),PS=fy(),Kat=obe(),Jat=rR(),jo=Cr(),lbe=abe(),Fre=d1(),cbe=OS(),Xat=uu(),fbe=M0(),Cu=class tp extends rU.ATNSimulator{constructor(e,t){super(e);this.optimize_tail_calls=!0,this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=PS.Lexer.DEFAULT_MODE,this.prevAccept=new tp.SimState,this.recog=t}copyState(e){this._charPositionInLine=e.charPositionInLine,this._line=e._line,this.mode=e.mode,this.startIndex=e.startIndex}match(e,t){this.mode=t;let r=e.mark();try{this.startIndex=e.index,this.prevAccept.reset();let i=this.atn.modeToDFA[t].s0;return i==null?this.matchATN(e):this.execATN(e,i)}finally{e.release(r)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=PS.Lexer.DEFAULT_MODE}matchATN(e){let t=this.atn.modeToStartState[this.mode];tp.debug&&console.log(`matchATN mode ${this.mode} start: ${t}`);let r=this.mode,i=this.computeStartState(e,t),s=i.hasSemanticContext;s&&(i.hasSemanticContext=!1);let o=this.addDFAState(i);if(!s){let l=this.atn.modeToDFA[this.mode];l.s0?o=l.s0:l.s0=o}let a=this.execATN(e,o);return tp.debug&&console.log(`DFA after matchATN: ${this.atn.modeToDFA[r].toLexerString()}`),a}execATN(e,t){tp.debug&&console.log(`start state closure=${t.configs}`),t.isAcceptState&&this.captureSimState(this.prevAccept,e,t);let r=e.LA(1),i=t;for(;;){tp.debug&&console.log(`execATN loop starting closure: ${i.configs}`);let s=this.getExistingTargetState(i,r);if(s==null&&(s=this.computeTargetState(e,i,r)),s===rU.ATNSimulator.ERROR||(r!==iR.IntStream.EOF&&this.consume(e),s.isAcceptState&&(this.captureSimState(this.prevAccept,e,s),r===iR.IntStream.EOF)))break;r=e.LA(1),i=s}return this.failOrAccept(this.prevAccept,e,i.configs,r)}getExistingTargetState(e,t){let r=e.getTarget(t);return tp.debug&&r!=null&&console.log("reuse state "+e.stateNumber+" edge to "+r.stateNumber),r}computeTargetState(e,t,r){let i=new lbe.OrderedATNConfigSet;return this.getReachableConfigSet(e,t.configs,i,r),i.isEmpty?(i.hasSemanticContext||this.addDFAEdge(t,r,rU.ATNSimulator.ERROR),rU.ATNSimulator.ERROR):this.addDFAEdge(t,r,i)}failOrAccept(e,t,r,i){if(e.dfaState!=null){let s=e.dfaState.lexerActionExecutor;return this.accept(t,s,this.startIndex,e.index,e.line,e.charPos),e.dfaState.prediction}else{if(i===iR.IntStream.EOF&&t.index===this.startIndex)return Xat.Token.EOF;throw new Jat.LexerNoViableAltException(this.recog,t,this.startIndex,r)}}getReachableConfigSet(e,t,r,i){let s=Wat.ATN.INVALID_ALT_NUMBER;for(let o of t){let a=o.alt===s;if(a&&o.hasPassedThroughNonGreedyDecision)continue;tp.debug&&console.log(`testing ${this.getTokenName(i)} at ${o.toString(this.recog,!0)}`);let l=o.state.numberOfOptimizedTransitions;for(let f=0;f<l;f++){let p=o.state.getOptimizedTransition(f),_=this.getReachableTarget(p,i);if(_!=null){let b=o.lexerActionExecutor,R;b!=null?(b=b.fixOffsetBeforeMatch(e.index-this.startIndex),R=o.transform(_,!0,b)):(fbe(o.lexerActionExecutor==null),R=o.transform(_,!0));let O=i===iR.IntStream.EOF;if(this.closure(e,R,r,a,!0,O)){s=o.alt;break}}}}}accept(e,t,r,i,s,o){tp.debug&&console.log(`ACTION ${t}`),e.seek(i),this._line=s,this._charPositionInLine=o,t!=null&&this.recog!=null&&t.execute(this.recog,e,r)}getReachableTarget(e,t){if(e.matches(t,PS.Lexer.MIN_CHAR_VALUE,PS.Lexer.MAX_CHAR_VALUE))return e.target}computeStartState(e,t){let r=Fre.PredictionContext.EMPTY_FULL,i=new lbe.OrderedATNConfigSet;for(let s=0;s<t.numberOfTransitions;s++){let o=t.transition(s).target,a=Qat.ATNConfig.create(o,s+1,r);this.closure(e,a,i,!1,!1,!1)}return i}closure(e,t,r,i,s,o){if(tp.debug&&console.log("closure("+t.toString(this.recog,!0)+")"),t.state instanceof cbe.RuleStopState){tp.debug&&(this.recog!=null?console.log(`closure at ${this.recog.ruleNames[t.state.ruleIndex]} rule stop ${t}`):console.log(`closure at rule stop ${t}`));let l=t.context;if(l.isEmpty)return r.add(t),!0;l.hasEmpty&&(r.add(t.transform(t.state,!0,Fre.PredictionContext.EMPTY_FULL)),i=!0);for(let f=0;f<l.size;f++){let p=l.getReturnState(f);if(p===Fre.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let _=l.getParent(f),b=this.atn.states[p],R=t.transform(b,!1,_);i=this.closure(e,R,r,i,s,o)}return i}t.state.onlyHasEpsilonTransitions||(!i||!t.hasPassedThroughNonGreedyDecision)&&r.add(t);let a=t.state;for(let l=0;l<a.numberOfOptimizedTransitions;l++){let f=a.getOptimizedTransition(l),p=this.getEpsilonTarget(e,t,f,r,s,o);p!=null&&(i=this.closure(e,p,r,i,s,o))}return i}getEpsilonTarget(e,t,r,i,s,o){let a;switch(r.serializationType){case 3:let l=r;if(this.optimize_tail_calls&&l.optimizedTailCall&&!t.context.hasEmpty)a=t.transform(r.target,!0);else{let p=t.context.getChild(l.followState.stateNumber);a=t.transform(r.target,!0,p)}break;case 10:throw new Error("Precedence predicates are not supported in lexers.");case 4:let f=r;tp.debug&&console.log("EVAL rule "+f.ruleIndex+":"+f.predIndex),i.hasSemanticContext=!0,this.evaluatePredicate(e,f.ruleIndex,f.predIndex,s)?a=t.transform(r.target,!0):a=void 0;break;case 6:if(t.context.hasEmpty){let p=Kat.LexerActionExecutor.append(t.lexerActionExecutor,this.atn.lexerActions[r.actionIndex]);a=t.transform(r.target,!0,p);break}else{a=t.transform(r.target,!0);break}case 1:a=t.transform(r.target,!0);break;case 5:case 2:case 7:if(o&&r.matches(iR.IntStream.EOF,PS.Lexer.MIN_CHAR_VALUE,PS.Lexer.MAX_CHAR_VALUE)){a=t.transform(r.target,!1);break}a=void 0;break;default:a=void 0;break}return a}evaluatePredicate(e,t,r,i){if(this.recog==null)return!0;if(!i)return this.recog.sempred(void 0,t,r);let s=this._charPositionInLine,o=this._line,a=e.index,l=e.mark();try{return this.consume(e),this.recog.sempred(void 0,t,r)}finally{this._charPositionInLine=s,this._line=o,e.seek(a),e.release(l)}}captureSimState(e,t,r){e.index=t.index,e.line=this._line,e.charPos=this._charPositionInLine,e.dfaState=r}addDFAEdge(e,t,r){if(r instanceof Gat.ATNConfigSet){let i=r.hasSemanticContext;i&&(r.hasSemanticContext=!1);let s=this.addDFAState(r);return i||this.addDFAEdge(e,t,s),s}else tp.debug&&console.log("EDGE "+e+" -> "+r+" upon "+String.fromCharCode(t)),e!=null&&e.setTarget(t,r)}addDFAState(e){fbe(!e.hasSemanticContext);let t=new ube.DFAState(e),r=this.atn.modeToDFA[this.mode].states.get(t);if(r!=null)return r;e.optimizeConfigs(this);let i=new ube.DFAState(e.clone(!0)),s;for(let o of e)if(o.state instanceof cbe.RuleStopState){s=o;break}if(s!=null){let o=this.atn.ruleToTokenType[s.state.ruleIndex],a=s.lexerActionExecutor;i.acceptStateInfo=new Vat.AcceptStateInfo(o,a)}return this.atn.modeToDFA[this.mode].addState(i)}getDFA(e){return this.atn.modeToDFA[e]}getText(e){return e.getText(Yat.Interval.of(this.startIndex,e.index-1))}get line(){return this._line}set line(e){this._line=e}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(e){this._charPositionInLine=e}consume(e){e.LA(1)===`
`.charCodeAt(0)?(this._line++,this._charPositionInLine=0):this._charPositionInLine++,e.consume()}getTokenName(e){return e===-1?"EOF":"'"+String.fromCharCode(e)+"'"}};Xl([jo.NotNull],Cu.prototype,"prevAccept",void 0);Xl([Na(0,jo.NotNull)],Cu.prototype,"copyState",null);Xl([Na(0,jo.NotNull)],Cu.prototype,"match",null);Xl([jo.Override],Cu.prototype,"reset",null);Xl([Na(0,jo.NotNull)],Cu.prototype,"matchATN",null);Xl([Na(0,jo.NotNull),Na(1,jo.NotNull)],Cu.prototype,"execATN",null);Xl([Na(0,jo.NotNull)],Cu.prototype,"getExistingTargetState",null);Xl([jo.NotNull,Na(0,jo.NotNull),Na(1,jo.NotNull)],Cu.prototype,"computeTargetState",null);Xl([Na(0,jo.NotNull),Na(1,jo.NotNull),Na(2,jo.NotNull)],Cu.prototype,"getReachableConfigSet",null);Xl([Na(0,jo.NotNull)],Cu.prototype,"accept",null);Xl([jo.NotNull,Na(0,jo.NotNull),Na(1,jo.NotNull)],Cu.prototype,"computeStartState",null);Xl([Na(0,jo.NotNull),Na(1,jo.NotNull),Na(2,jo.NotNull)],Cu.prototype,"closure",null);Xl([Na(0,jo.NotNull),Na(1,jo.NotNull),Na(2,jo.NotNull),Na(3,jo.NotNull)],Cu.prototype,"getEpsilonTarget",null);Xl([Na(0,jo.NotNull)],Cu.prototype,"evaluatePredicate",null);Xl([Na(0,jo.NotNull),Na(1,jo.NotNull),Na(2,jo.NotNull)],Cu.prototype,"captureSimState",null);Xl([jo.NotNull,Na(0,jo.NotNull)],Cu.prototype,"addDFAState",null);Xl([jo.NotNull],Cu.prototype,"getDFA",null);Xl([jo.NotNull,Na(0,jo.NotNull)],Cu.prototype,"getText",null);Xl([Na(0,jo.NotNull)],Cu.prototype,"consume",null);Xl([jo.NotNull],Cu.prototype,"getTokenName",null);Cu=Xl([Na(0,jo.NotNull)],Cu);Lm.LexerATNSimulator=Cu;(function(n){n.debug=!1,n.dfa_debug=!1;class e{constructor(){this.index=-1,this.line=0,this.charPos=-1}reset(){this.index=-1,this.line=0,this.charPos=-1,this.dfaState=void 0}}n.SimState=e})(Cu=Lm.LexerATNSimulator||(Lm.LexerATNSimulator={}));Lm.LexerATNSimulator=Cu});var fy=Ae(qS=>{"use strict";m();var BS=qS&&qS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(qS,"__esModule",{value:!0});qS.Lexer=void 0;var Zat=Cq(),eut=Wne(),tut=j0(),dbe=Jg(),hbe=sR(),pbe=rR(),jS=Cr(),nut=ES(),km=uu(),Zl=class extends nut.Recognizer{constructor(e){super();this._factory=Zat.CommonTokenFactory.DEFAULT,this._tokenStartCharIndex=-1,this._tokenStartLine=0,this._tokenStartCharPositionInLine=0,this._hitEOF=!1,this._channel=0,this._type=0,this._modeStack=new eut.IntegerStack,this._mode=Zl.DEFAULT_MODE,this._input=e,this._tokenFactorySourcePair={source:this,stream:e}}static get DEFAULT_TOKEN_CHANNEL(){return km.Token.DEFAULT_CHANNEL}static get HIDDEN(){return km.Token.HIDDEN_CHANNEL}reset(e){(e===void 0||e)&&this._input.seek(0),this._token=void 0,this._type=km.Token.INVALID_TYPE,this._channel=km.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartCharPositionInLine=-1,this._tokenStartLine=-1,this._text=void 0,this._hitEOF=!1,this._mode=Zl.DEFAULT_MODE,this._modeStack.clear(),this.interpreter.reset()}nextToken(){if(this._input==null)throw new Error("nextToken requires a non-null input stream.");let e=this._input.mark();try{e:for(;;){if(this._hitEOF)return this.emitEOF();this._token=void 0,this._channel=km.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartCharPositionInLine=this.interpreter.charPositionInLine,this._tokenStartLine=this.interpreter.line,this._text=void 0;do{this._type=km.Token.INVALID_TYPE;let t;try{t=this.interpreter.match(this._input,this._mode)}catch(r){if(r instanceof pbe.LexerNoViableAltException)this.notifyListeners(r),this.recover(r),t=Zl.SKIP;else throw r}if(this._input.LA(1)===dbe.IntStream.EOF&&(this._hitEOF=!0),this._type===km.Token.INVALID_TYPE&&(this._type=t),this._type===Zl.SKIP)continue e}while(this._type===Zl.MORE);return this._token==null?this.emit():this._token}}finally{this._input.release(e)}}skip(){this._type=Zl.SKIP}more(){this._type=Zl.MORE}mode(e){this._mode=e}pushMode(e){hbe.LexerATNSimulator.debug&&console.log("pushMode "+e),this._modeStack.push(this._mode),this.mode(e)}popMode(){if(this._modeStack.isEmpty)throw new Error("EmptyStackException");return hbe.LexerATNSimulator.debug&&console.log("popMode back to "+this._modeStack.peek()),this.mode(this._modeStack.pop()),this._mode}get tokenFactory(){return this._factory}set tokenFactory(e){this._factory=e}get inputStream(){return this._input}set inputStream(e){this.reset(!1),this._input=e,this._tokenFactorySourcePair={source:this,stream:this._input}}get sourceName(){return this._input.sourceName}emit(e){return e||(e=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.charIndex-1,this._tokenStartLine,this._tokenStartCharPositionInLine)),this._token=e,e}emitEOF(){let e=this.charPositionInLine,t=this.line,r=this._factory.create(this._tokenFactorySourcePair,km.Token.EOF,void 0,km.Token.DEFAULT_CHANNEL,this._input.index,this._input.index-1,t,e);return this.emit(r),r}get line(){return this.interpreter.line}set line(e){this.interpreter.line=e}get charPositionInLine(){return this.interpreter.charPositionInLine}set charPositionInLine(e){this.interpreter.charPositionInLine=e}get charIndex(){return this._input.index}get text(){return this._text!=null?this._text:this.interpreter.getText(this._input)}set text(e){this._text=e}get token(){return this._token}set token(e){this._token=e}set type(e){this._type=e}get type(){return this._type}set channel(e){this._channel=e}get channel(){return this._channel}getAllTokens(){let e=[],t=this.nextToken();for(;t.type!==km.Token.EOF;)e.push(t),t=this.nextToken();return e}notifyListeners(e){let t=this._input.getText(tut.Interval.of(this._tokenStartCharIndex,this._input.index)),r="token recognition error at: '"+this.getErrorDisplay(t)+"'",i=this.getErrorListenerDispatch();i.syntaxError&&i.syntaxError(this,void 0,this._tokenStartLine,this._tokenStartCharPositionInLine,r,e)}getErrorDisplay(e){if(typeof e=="number"){switch(e){case km.Token.EOF:return"<EOF>";case 10:return"\\n";case 9:return"\\t";case 13:return"\\r"}return String.fromCharCode(e)}return e.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}getCharErrorDisplay(e){let t=this.getErrorDisplay(e);return"'"+t+"'"}recover(e){e instanceof pbe.LexerNoViableAltException?this._input.LA(1)!==dbe.IntStream.EOF&&this.interpreter.consume(this._input):this._input.consume()}};Zl.DEFAULT_MODE=0;Zl.MORE=-2;Zl.SKIP=-3;Zl.MIN_CHAR_VALUE=0;Zl.MAX_CHAR_VALUE=1114111;BS([jS.Override],Zl.prototype,"nextToken",null);BS([jS.Override],Zl.prototype,"tokenFactory",null);BS([jS.Override],Zl.prototype,"inputStream",null);BS([jS.Override],Zl.prototype,"sourceName",null);BS([jS.Override],Zl.prototype,"line",null);BS([jS.Override],Zl.prototype,"charPositionInLine",null);qS.Lexer=Zl});var xv=Ae(Av=>{"use strict";m();var wd=Av&&Av.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},mbe=Av&&Av.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Av,"__esModule",{value:!0});Av.IntervalSet=void 0;var rut=ID(),iut=Sq(),US=j0(),xbe=fy(),iU=Pl(),U0=Cr(),Dre=uu(),Ns=class{constructor(e){this.readonly=!1,e!=null?this._intervals=e.slice(0):this._intervals=[]}static get COMPLETE_CHAR_SET(){return Ns._COMPLETE_CHAR_SET===void 0&&(Ns._COMPLETE_CHAR_SET=Ns.of(xbe.Lexer.MIN_CHAR_VALUE,xbe.Lexer.MAX_CHAR_VALUE),Ns._COMPLETE_CHAR_SET.setReadonly(!0)),Ns._COMPLETE_CHAR_SET}static get EMPTY_SET(){return Ns._EMPTY_SET==null&&(Ns._EMPTY_SET=new Ns,Ns._EMPTY_SET.setReadonly(!0)),Ns._EMPTY_SET}static of(e,t=e){let r=new Ns;return r.add(e,t),r}clear(){if(this.readonly)throw new Error("can't alter readonly IntervalSet");this._intervals.length=0}add(e,t=e){this.addRange(US.Interval.of(e,t))}addRange(e){if(this.readonly)throw new Error("can't alter readonly IntervalSet");if(!(e.b<e.a)){for(let t=0;t<this._intervals.length;t++){let r=this._intervals[t];if(e.equals(r))return;if(e.adjacent(r)||!e.disjoint(r)){let i=e.union(r);for(this._intervals[t]=i;t<this._intervals.length-1;){t++;let s=this._intervals[t];if(!i.adjacent(s)&&i.disjoint(s))break;this._intervals.splice(t,1),t--,this._intervals[t]=i.union(s)}return}if(e.startsBeforeDisjoint(r)){this._intervals.splice(t,0,e);return}}this._intervals.push(e)}}static or(e){let t=new Ns;for(let r of e)t.addAll(r);return t}addAll(e){if(e==null)return this;if(e instanceof Ns){let t=e,r=t._intervals.length;for(let i=0;i<r;i++){let s=t._intervals[i];this.add(s.a,s.b)}}else for(let t of e.toArray())this.add(t);return this}complementRange(e,t){return this.complement(Ns.of(e,t))}complement(e){if(e.isNil)return Ns.EMPTY_SET;let t;return e instanceof Ns?t=e:(t=new Ns,t.addAll(e)),t.subtract(this)}subtract(e){if(e==null||e.isNil)return new Ns(this._intervals);if(e instanceof Ns)return Ns.subtract(this,e);let t=new Ns;return t.addAll(e),Ns.subtract(this,t)}static subtract(e,t){if(e.isNil)return new Ns;let r=new Ns(e._intervals);if(t.isNil)return r;let i=0,s=0;for(;i<r._intervals.length&&s<t._intervals.length;){let o=r._intervals[i],a=t._intervals[s];if(a.b<o.a){s++;continue}if(a.a>o.b){i++;continue}let l,f;if(a.a>o.a&&(l=new US.Interval(o.a,a.a-1)),a.b<o.b&&(f=new US.Interval(a.b+1,o.b)),l)if(f){r._intervals[i]=l,r._intervals.splice(i+1,0,f),i++,s++;continue}else{r._intervals[i]=l,i++;continue}else if(f){r._intervals[i]=f,s++;continue}else{r._intervals.splice(i,1);continue}}return r}or(e){let t=new Ns;return t.addAll(this),t.addAll(e),t}and(e){if(e.isNil)return new Ns;let t=this._intervals,r=e._intervals,i,s=t.length,o=r.length,a=0,l=0;for(;a<s&&l<o;){let f=t[a],p=r[l];f.startsBeforeDisjoint(p)?a++:p.startsBeforeDisjoint(f)?l++:f.properlyContains(p)?(i||(i=new Ns),i.addRange(f.intersection(p)),l++):p.properlyContains(f)?(i||(i=new Ns),i.addRange(f.intersection(p)),a++):f.disjoint(p)||(i||(i=new Ns),i.addRange(f.intersection(p)),f.startsAfterNonDisjoint(p)?l++:p.startsAfterNonDisjoint(f)&&a++)}return i||new Ns}contains(e){let t=this._intervals.length,r=0,i=t-1;for(;r<=i;){let s=r+i>>1,o=this._intervals[s],a=o.a;if(o.b<e)r=s+1;else if(a>e)i=s-1;else return!0}return!1}get isNil(){return this._intervals==null||this._intervals.length===0}get maxElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[this._intervals.length-1].b}get minElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[0].a}get intervals(){return this._intervals}hashCode(){let e=iU.MurmurHash.initialize();for(let t of this._intervals)e=iU.MurmurHash.update(e,t.a),e=iU.MurmurHash.update(e,t.b);return e=iU.MurmurHash.finish(e,this._intervals.length*2),e}equals(e){return e==null||!(e instanceof Ns)?!1:rut.ArrayEqualityComparator.INSTANCE.equals(this._intervals,e._intervals)}toString(e=!1){let t="";if(this._intervals==null||this._intervals.length===0)return"{}";this.size>1&&(t+="{");let r=!0;for(let i of this._intervals){r?r=!1:t+=", ";let s=i.a,o=i.b;s===o?s===Dre.Token.EOF?t+="<EOF>":e?t+="'"+String.fromCodePoint(s)+"'":t+=s:e?t+="'"+String.fromCodePoint(s)+"'..'"+String.fromCodePoint(o)+"'":t+=s+".."+o}return this.size>1&&(t+="}"),t}toStringVocabulary(e){if(this._intervals==null||this._intervals.length===0)return"{}";let t="";this.size>1&&(t+="{");let r=!0;for(let i of this._intervals){r?r=!1:t+=", ";let s=i.a,o=i.b;if(s===o)t+=this.elementName(e,s);else for(let a=s;a<=o;a++)a>s&&(t+=", "),t+=this.elementName(e,a)}return this.size>1&&(t+="}"),t}elementName(e,t){return t===Dre.Token.EOF?"<EOF>":t===Dre.Token.EPSILON?"<EPSILON>":e.getDisplayName(t)}get size(){let e=0,t=this._intervals.length;if(t===1){let r=this._intervals[0];return r.b-r.a+1}for(let r=0;r<t;r++){let i=this._intervals[r];e+=i.b-i.a+1}return e}toIntegerList(){let e=new iut.IntegerList(this.size),t=this._intervals.length;for(let r=0;r<t;r++){let i=this._intervals[r],s=i.a,o=i.b;for(let a=s;a<=o;a++)e.add(a)}return e}toSet(){let e=new Set;for(let t of this._intervals){let r=t.a,i=t.b;for(let s=r;s<=i;s++)e.add(s)}return e}toArray(){let e=new Array,t=this._intervals.length;for(let r=0;r<t;r++){let i=this._intervals[r],s=i.a,o=i.b;for(let a=s;a<=o;a++)e.push(a)}return e}remove(e){if(this.readonly)throw new Error("can't alter readonly IntervalSet");let t=this._intervals.length;for(let r=0;r<t;r++){let i=this._intervals[r],s=i.a,o=i.b;if(e<s)break;if(e===s&&e===o){this._intervals.splice(r,1);break}if(e===s){this._intervals[r]=US.Interval.of(i.a+1,i.b);break}if(e===o){this._intervals[r]=US.Interval.of(i.a,i.b-1);break}if(e>s&&e<o){let a=i.b;this._intervals[r]=US.Interval.of(i.a,e-1),this.add(e+1,a)}}}get isReadonly(){return this.readonly}setReadonly(e){if(this.readonly&&!e)throw new Error("can't alter readonly IntervalSet");this.readonly=e}};wd([U0.Override],Ns.prototype,"addAll",null);wd([U0.Override],Ns.prototype,"complement",null);wd([U0.Override],Ns.prototype,"subtract",null);wd([U0.Override],Ns.prototype,"or",null);wd([U0.Override],Ns.prototype,"and",null);wd([U0.Override],Ns.prototype,"contains",null);wd([U0.Override],Ns.prototype,"isNil",null);wd([U0.Override],Ns.prototype,"hashCode",null);wd([U0.Override],Ns.prototype,"equals",null);wd([mbe(0,U0.NotNull)],Ns.prototype,"toStringVocabulary",null);wd([U0.NotNull,mbe(0,U0.NotNull)],Ns.prototype,"elementName",null);wd([U0.Override],Ns.prototype,"size",null);wd([U0.Override],Ns.prototype,"remove",null);wd([U0.NotNull],Ns,"of",null);wd([U0.NotNull],Ns,"subtract",null);Av.IntervalSet=Ns});var Rre=Ae($S=>{"use strict";m();var sut=$S&&$S.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty($S,"__esModule",{value:!0});$S.ATNDeserializationOptions=void 0;var out=Cr(),dy=class{constructor(e){this.readOnly=!1,e?(this.verifyATN=e.verifyATN,this.generateRuleBypassTransitions=e.generateRuleBypassTransitions,this.optimize=e.optimize):(this.verifyATN=!0,this.generateRuleBypassTransitions=!1,this.optimize=!0)}static get defaultOptions(){return dy._defaultOptions==null&&(dy._defaultOptions=new dy,dy._defaultOptions.makeReadOnly()),dy._defaultOptions}get isReadOnly(){return this.readOnly}makeReadOnly(){this.readOnly=!0}get isVerifyATN(){return this.verifyATN}set isVerifyATN(e){this.throwIfReadOnly(),this.verifyATN=e}get isGenerateRuleBypassTransitions(){return this.generateRuleBypassTransitions}set isGenerateRuleBypassTransitions(e){this.throwIfReadOnly(),this.generateRuleBypassTransitions=e}get isOptimize(){return this.optimize}set isOptimize(e){this.throwIfReadOnly(),this.optimize=e}throwIfReadOnly(){if(this.isReadOnly)throw new Error("The object is read only.")}};sut([out.NotNull],dy,"defaultOptions",null);$S.ATNDeserializationOptions=dy});var Ore=Ae(Tv=>{"use strict";m();var oR=Tv&&Tv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},aut=Tv&&Tv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Tv,"__esModule",{value:!0});Tv.ActionTransition=void 0;var aR=Cr(),uut=ey(),B6=class extends uut.Transition{constructor(e,t,r=-1,i=!1){super(e);this.ruleIndex=t,this.actionIndex=r,this.isCtxDependent=i}get serializationType(){return 6}get isEpsilon(){return!0}matches(e,t,r){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}};oR([aR.Override],B6.prototype,"serializationType",null);oR([aR.Override],B6.prototype,"isEpsilon",null);oR([aR.Override],B6.prototype,"matches",null);oR([aR.Override],B6.prototype,"toString",null);B6=oR([aut(0,aR.NotNull)],B6);Tv.ActionTransition=B6});var Nre=Ae(Fv=>{"use strict";m();var uR=Fv&&Fv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},lut=Fv&&Fv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Fv,"__esModule",{value:!0});Fv.AtomTransition=void 0;var cut=xv(),j6=Cr(),fut=ey(),q6=class extends fut.Transition{constructor(e,t){super(e);this._label=t}get serializationType(){return 5}get label(){return cut.IntervalSet.of(this._label)}matches(e,t,r){return this._label===e}toString(){return String(this.label)}};uR([j6.Override],q6.prototype,"serializationType",null);uR([j6.Override,j6.NotNull],q6.prototype,"label",null);uR([j6.Override],q6.prototype,"matches",null);uR([j6.Override,j6.NotNull],q6.prototype,"toString",null);q6=uR([lut(0,j6.NotNull)],q6);Fv.AtomTransition=q6});var lR=Ae(sU=>{"use strict";m();Object.defineProperty(sU,"__esModule",{value:!0});sU.BlockStartState=void 0;var dut=iv(),gbe=class extends dut.DecisionState{};sU.BlockStartState=gbe});var ybe=Ae(zS=>{"use strict";m();var hut=zS&&zS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(zS,"__esModule",{value:!0});zS.BasicBlockStartState=void 0;var put=Ef(),mut=lR(),xut=Cr(),Lre=class extends mut.BlockStartState{get stateType(){return put.ATNStateType.BLOCK_START}};hut([xut.Override],Lre.prototype,"stateType",null);zS.BasicBlockStartState=Lre});var vbe=Ae(HS=>{"use strict";m();var gut=HS&&HS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(HS,"__esModule",{value:!0});HS.BlockEndState=void 0;var yut=K2(),vut=Ef(),_ut=Cr(),kre=class extends yut.ATNState{get stateType(){return vut.ATNStateType.BLOCK_END}};gut([_ut.Override],kre.prototype,"stateType",null);HS.BlockEndState=kre});var _be=Ae(Dv=>{"use strict";m();var cR=Dv&&Dv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Eut=Dv&&Dv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Dv,"__esModule",{value:!0});Dv.EpsilonTransition=void 0;var VS=Cr(),but=ey(),U6=class extends but.Transition{constructor(e,t=-1){super(e);this._outermostPrecedenceReturn=t}get outermostPrecedenceReturn(){return this._outermostPrecedenceReturn}get serializationType(){return 1}get isEpsilon(){return!0}matches(e,t,r){return!1}toString(){return"epsilon"}};cR([VS.Override],U6.prototype,"serializationType",null);cR([VS.Override],U6.prototype,"isEpsilon",null);cR([VS.Override],U6.prototype,"matches",null);cR([VS.Override,VS.NotNull],U6.prototype,"toString",null);U6=cR([Eut(0,VS.NotNull)],U6);Dv.EpsilonTransition=U6});var Ebe=Ae(Rv=>{"use strict";m();var WS=Rv&&Rv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Sut=Rv&&Rv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Rv,"__esModule",{value:!0});Rv.LexerChannelAction=void 0;var oU=Pl(),$6=Cr(),sx=class{constructor(e){this._channel=e}get channel(){return this._channel}get actionType(){return 0}get isPositionDependent(){return!1}execute(e){e.channel=this._channel}hashCode(){let e=oU.MurmurHash.initialize();return e=oU.MurmurHash.update(e,this.actionType),e=oU.MurmurHash.update(e,this._channel),oU.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof sx?this._channel===e._channel:!1}toString(){return`channel(${this._channel})`}};WS([$6.Override],sx.prototype,"actionType",null);WS([$6.Override],sx.prototype,"isPositionDependent",null);WS([$6.Override,Sut(0,$6.NotNull)],sx.prototype,"execute",null);WS([$6.Override],sx.prototype,"hashCode",null);WS([$6.Override],sx.prototype,"equals",null);WS([$6.Override],sx.prototype,"toString",null);Rv.LexerChannelAction=sx});var bbe=Ae(Ov=>{"use strict";m();var fR=Ov&&Ov.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Cut=Ov&&Ov.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Ov,"__esModule",{value:!0});Ov.LexerCustomAction=void 0;var dR=Pl(),QS=Cr(),hy=class{constructor(e,t){this._ruleIndex=e,this._actionIndex=t}get ruleIndex(){return this._ruleIndex}get actionIndex(){return this._actionIndex}get actionType(){return 1}get isPositionDependent(){return!0}execute(e){e.action(void 0,this._ruleIndex,this._actionIndex)}hashCode(){let e=dR.MurmurHash.initialize();return e=dR.MurmurHash.update(e,this.actionType),e=dR.MurmurHash.update(e,this._ruleIndex),e=dR.MurmurHash.update(e,this._actionIndex),dR.MurmurHash.finish(e,3)}equals(e){return e===this?!0:e instanceof hy?this._ruleIndex===e._ruleIndex&&this._actionIndex===e._actionIndex:!1}};fR([QS.Override],hy.prototype,"actionType",null);fR([QS.Override],hy.prototype,"isPositionDependent",null);fR([QS.Override,Cut(0,QS.NotNull)],hy.prototype,"execute",null);fR([QS.Override],hy.prototype,"hashCode",null);fR([QS.Override],hy.prototype,"equals",null);Ov.LexerCustomAction=hy});var Sbe=Ae(Nv=>{"use strict";m();var GS=Nv&&Nv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},wut=Nv&&Nv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Nv,"__esModule",{value:!0});Nv.LexerModeAction=void 0;var aU=Pl(),z6=Cr(),ox=class{constructor(e){this._mode=e}get mode(){return this._mode}get actionType(){return 2}get isPositionDependent(){return!1}execute(e){e.mode(this._mode)}hashCode(){let e=aU.MurmurHash.initialize();return e=aU.MurmurHash.update(e,this.actionType),e=aU.MurmurHash.update(e,this._mode),aU.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof ox?this._mode===e._mode:!1}toString(){return`mode(${this._mode})`}};GS([z6.Override],ox.prototype,"actionType",null);GS([z6.Override],ox.prototype,"isPositionDependent",null);GS([z6.Override,wut(0,z6.NotNull)],ox.prototype,"execute",null);GS([z6.Override],ox.prototype,"hashCode",null);GS([z6.Override],ox.prototype,"equals",null);GS([z6.Override],ox.prototype,"toString",null);Nv.LexerModeAction=ox});var Cbe=Ae(ax=>{"use strict";m();var YS=ax&&ax.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Aut=ax&&ax.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(ax,"__esModule",{value:!0});ax.LexerMoreAction=void 0;var Ire=Pl(),H6=Cr(),py=class{constructor(){}get actionType(){return 3}get isPositionDependent(){return!1}execute(e){e.more()}hashCode(){let e=Ire.MurmurHash.initialize();return e=Ire.MurmurHash.update(e,this.actionType),Ire.MurmurHash.finish(e,1)}equals(e){return e===this}toString(){return"more"}};YS([H6.Override],py.prototype,"actionType",null);YS([H6.Override],py.prototype,"isPositionDependent",null);YS([H6.Override,Aut(0,H6.NotNull)],py.prototype,"execute",null);YS([H6.Override],py.prototype,"hashCode",null);YS([H6.Override],py.prototype,"equals",null);YS([H6.Override],py.prototype,"toString",null);ax.LexerMoreAction=py;(function(n){n.INSTANCE=new n})(py=ax.LexerMoreAction||(ax.LexerMoreAction={}))});var wbe=Ae(ux=>{"use strict";m();var KS=ux&&ux.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Tut=ux&&ux.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(ux,"__esModule",{value:!0});ux.LexerPopModeAction=void 0;var Mre=Pl(),V6=Cr(),my=class{constructor(){}get actionType(){return 4}get isPositionDependent(){return!1}execute(e){e.popMode()}hashCode(){let e=Mre.MurmurHash.initialize();return e=Mre.MurmurHash.update(e,this.actionType),Mre.MurmurHash.finish(e,1)}equals(e){return e===this}toString(){return"popMode"}};KS([V6.Override],my.prototype,"actionType",null);KS([V6.Override],my.prototype,"isPositionDependent",null);KS([V6.Override,Tut(0,V6.NotNull)],my.prototype,"execute",null);KS([V6.Override],my.prototype,"hashCode",null);KS([V6.Override],my.prototype,"equals",null);KS([V6.Override],my.prototype,"toString",null);ux.LexerPopModeAction=my;(function(n){n.INSTANCE=new n})(my=ux.LexerPopModeAction||(ux.LexerPopModeAction={}))});var Abe=Ae(Lv=>{"use strict";m();var JS=Lv&&Lv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Fut=Lv&&Lv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Lv,"__esModule",{value:!0});Lv.LexerPushModeAction=void 0;var uU=Pl(),W6=Cr(),lx=class{constructor(e){this._mode=e}get mode(){return this._mode}get actionType(){return 5}get isPositionDependent(){return!1}execute(e){e.pushMode(this._mode)}hashCode(){let e=uU.MurmurHash.initialize();return e=uU.MurmurHash.update(e,this.actionType),e=uU.MurmurHash.update(e,this._mode),uU.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof lx?this._mode===e._mode:!1}toString(){return`pushMode(${this._mode})`}};JS([W6.Override],lx.prototype,"actionType",null);JS([W6.Override],lx.prototype,"isPositionDependent",null);JS([W6.Override,Fut(0,W6.NotNull)],lx.prototype,"execute",null);JS([W6.Override],lx.prototype,"hashCode",null);JS([W6.Override],lx.prototype,"equals",null);JS([W6.Override],lx.prototype,"toString",null);Lv.LexerPushModeAction=lx});var Tbe=Ae(cx=>{"use strict";m();var XS=cx&&cx.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Dut=cx&&cx.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(cx,"__esModule",{value:!0});cx.LexerSkipAction=void 0;var Pre=Pl(),Q6=Cr(),xy=class{constructor(){}get actionType(){return 6}get isPositionDependent(){return!1}execute(e){e.skip()}hashCode(){let e=Pre.MurmurHash.initialize();return e=Pre.MurmurHash.update(e,this.actionType),Pre.MurmurHash.finish(e,1)}equals(e){return e===this}toString(){return"skip"}};XS([Q6.Override],xy.prototype,"actionType",null);XS([Q6.Override],xy.prototype,"isPositionDependent",null);XS([Q6.Override,Dut(0,Q6.NotNull)],xy.prototype,"execute",null);XS([Q6.Override],xy.prototype,"hashCode",null);XS([Q6.Override],xy.prototype,"equals",null);XS([Q6.Override],xy.prototype,"toString",null);cx.LexerSkipAction=xy;(function(n){n.INSTANCE=new n})(xy=cx.LexerSkipAction||(cx.LexerSkipAction={}))});var Fbe=Ae(kv=>{"use strict";m();var ZS=kv&&kv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Rut=kv&&kv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(kv,"__esModule",{value:!0});kv.LexerTypeAction=void 0;var lU=Pl(),G6=Cr(),fx=class{constructor(e){this._type=e}get type(){return this._type}get actionType(){return 7}get isPositionDependent(){return!1}execute(e){e.type=this._type}hashCode(){let e=lU.MurmurHash.initialize();return e=lU.MurmurHash.update(e,this.actionType),e=lU.MurmurHash.update(e,this._type),lU.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof fx?this._type===e._type:!1}toString(){return`type(${this._type})`}};ZS([G6.Override],fx.prototype,"actionType",null);ZS([G6.Override],fx.prototype,"isPositionDependent",null);ZS([G6.Override,Rut(0,G6.NotNull)],fx.prototype,"execute",null);ZS([G6.Override],fx.prototype,"hashCode",null);ZS([G6.Override],fx.prototype,"equals",null);ZS([G6.Override],fx.prototype,"toString",null);kv.LexerTypeAction=fx});var jre=Ae(eC=>{"use strict";m();var Out=eC&&eC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(eC,"__esModule",{value:!0});eC.LoopEndState=void 0;var Nut=K2(),Lut=Ef(),kut=Cr(),Bre=class extends Nut.ATNState{get stateType(){return Lut.ATNStateType.LOOP_END}};Out([kut.Override],Bre.prototype,"stateType",null);eC.LoopEndState=Bre});var Obe=Ae(nC=>{"use strict";m();var Dbe=nC&&nC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(nC,"__esModule",{value:!0});nC.ConflictInfo=void 0;var Rbe=Cr(),Iut=Fm(),tC=class{constructor(e,t){this._conflictedAlts=e,this.exact=t}get conflictedAlts(){return this._conflictedAlts}get isExact(){return this.exact}equals(e){return e===this?!0:e instanceof tC?this.isExact===e.isExact&&Iut.equals(this.conflictedAlts,e.conflictedAlts):!1}hashCode(){return this.conflictedAlts.hashCode()}};Dbe([Rbe.Override],tC.prototype,"equals",null);Dbe([Rbe.Override],tC.prototype,"hashCode",null);nC.ConflictInfo=tC});var gy=Ae(rC=>{"use strict";m();var dx=rC&&rC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(rC,"__esModule",{value:!0});rC.TerminalNode=void 0;var Mut=j0(),hx=Cr(),Put=uu(),g1=class{constructor(e){this._symbol=e}getChild(e){throw new RangeError("Terminal Node has no children.")}get symbol(){return this._symbol}get parent(){return this._parent}setParent(e){this._parent=e}get payload(){return this._symbol}get sourceInterval(){let e=this._symbol.tokenIndex;return new Mut.Interval(e,e)}get childCount(){return 0}accept(e){return e.visitTerminal(this)}get text(){return this._symbol.text||""}toStringTree(e){return this.toString()}toString(){return this._symbol.type===Put.Token.EOF?"<EOF>":this._symbol.text||""}};dx([hx.Override],g1.prototype,"getChild",null);dx([hx.Override],g1.prototype,"parent",null);dx([hx.Override],g1.prototype,"setParent",null);dx([hx.Override],g1.prototype,"payload",null);dx([hx.Override],g1.prototype,"sourceInterval",null);dx([hx.Override],g1.prototype,"childCount",null);dx([hx.Override],g1.prototype,"accept",null);dx([hx.Override],g1.prototype,"text",null);dx([hx.Override],g1.prototype,"toStringTree",null);dx([hx.Override],g1.prototype,"toString",null);rC.TerminalNode=g1});var sC=Ae(iC=>{"use strict";m();var But=iC&&iC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(iC,"__esModule",{value:!0});iC.ErrorNode=void 0;var jut=Cr(),qut=gy(),qre=class extends qut.TerminalNode{constructor(e){super(e)}accept(e){return e.visitErrorNode(this)}};But([jut.Override],qre.prototype,"accept",null);iC.ErrorNode=qre});var oC=Ae(cU=>{"use strict";m();Object.defineProperty(cU,"__esModule",{value:!0});cU.RuleNode=void 0;var Nbe=class{};cU.RuleNode=Nbe});var yy=Ae(Iv=>{"use strict";m();var Ure=Iv&&Iv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},$re=Iv&&Iv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Iv,"__esModule",{value:!0});Iv.Trees=void 0;var Uut=Dm(),$ut=mS(),zut=sC(),fU=Cr(),Lbe=aC(),zre=y1(),Hut=oC(),Hre=gy(),Vut=uu(),kbe=Fm(),np=class{static toStringTree(e,t){let r;t instanceof Lbe.Parser?r=t.ruleNames:r=t;let i=kbe.escapeWhitespace(this.getNodeText(e,r),!1);if(e.childCount===0)return i;let s="";s+="(",i=kbe.escapeWhitespace(this.getNodeText(e,r),!1),s+=i,s+=" ";for(let o=0;o<e.childCount;o++)o>0&&(s+=" "),s+=this.toStringTree(e.getChild(o),r);return s+=")",s}static getNodeText(e,t){let r;if(t instanceof Lbe.Parser)r=t.ruleNames;else if(t)r=t;else{let i=e.payload;return typeof i.text=="string"?i.text:e.payload.toString()}if(e instanceof Hut.RuleNode){let i=e.ruleContext,s=i.ruleIndex,o=r[s],a=i.altNumber;return a!==Uut.ATN.INVALID_ALT_NUMBER?o+":"+a:o}else{if(e instanceof zut.ErrorNode)return e.toString();if(e instanceof Hre.TerminalNode)return e.symbol.text||""}throw new TypeError("Unexpected node type")}static getChildren(e){let t=[];for(let r=0;r<e.childCount;r++)t.push(e.getChild(r));return t}static getAncestors(e){let t=[],r=e.parent;for(;r;)t.unshift(r),r=r.parent;return t}static isAncestorOf(e,t){if(!e||!t||!e.parent)return!1;let r=t.parent;for(;r;){if(e===r)return!0;r=r.parent}return!1}static findAllTokenNodes(e,t){return np.findAllNodes(e,t,!0)}static findAllRuleNodes(e,t){return np.findAllNodes(e,t,!1)}static findAllNodes(e,t,r){let i=[];return np._findAllNodes(e,t,r,i),i}static _findAllNodes(e,t,r,i){r&&e instanceof Hre.TerminalNode?e.symbol.type===t&&i.push(e):!r&&e instanceof zre.ParserRuleContext&&e.ruleIndex===t&&i.push(e);for(let s=0;s<e.childCount;s++)np._findAllNodes(e.getChild(s),t,r,i)}static getDescendants(e){let t=[];function r(i){t.push(i);let s=i.childCount;for(let o=0;o<s;o++)r(i.getChild(o))}return r(e),t}static getRootOfSubtreeEnclosingRegion(e,t,r){let i=e.childCount;for(let s=0;s<i;s++){let o=e.getChild(s),a=np.getRootOfSubtreeEnclosingRegion(o,t,r);if(a)return a}if(e instanceof zre.ParserRuleContext){let s=e.stop;if(t>=e.start.tokenIndex&&(s==null||r<=s.tokenIndex))return e}}static stripChildrenOutOfRange(e,t,r,i){if(!e)return;let s=e.childCount;for(let o=0;o<s;o++){let a=e.getChild(o),l=a.sourceInterval;if(a instanceof zre.ParserRuleContext&&(l.b<r||l.a>i)&&np.isAncestorOf(a,t)){let f=new $ut.CommonToken(Vut.Token.INVALID_TYPE,"...");e.children[o]=new Hre.TerminalNode(f)}}}static findNodeSuchThat(e,t){if(t(e))return e;let r=e.childCount;for(let i=0;i<r;i++){let s=np.findNodeSuchThat(e.getChild(i),t);if(s!==void 0)return s}}};Ure([$re(0,fU.NotNull)],np,"toStringTree",null);Ure([fU.NotNull,$re(0,fU.NotNull)],np,"getAncestors",null);Ure([$re(0,fU.NotNull)],np,"getRootOfSubtreeEnclosingRegion",null);Iv.Trees=np});var Vre=Ae(uC=>{"use strict";m();var px=uC&&uC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(uC,"__esModule",{value:!0});uC.RuleContext=void 0;var Wut=Dm(),Qut=ES(),Gut=oC(),Yut=j0(),mx=Cr(),Kut=yy(),Jut=y1(),yh=class extends Gut.RuleNode{constructor(e,t){super();this._parent=e,this.invokingState=t??-1}static getChildContext(e,t){return new yh(e,t)}depth(){let e=0,t=this;for(;t;)t=t._parent,e++;return e}get isEmpty(){return this.invokingState===-1}get sourceInterval(){return Yut.Interval.INVALID}get ruleContext(){return this}get parent(){return this._parent}setParent(e){this._parent=e}get payload(){return this}get text(){if(this.childCount===0)return"";let e="";for(let t=0;t<this.childCount;t++)e+=this.getChild(t).text;return e.toString()}get ruleIndex(){return-1}get altNumber(){return Wut.ATN.INVALID_ALT_NUMBER}set altNumber(e){}getChild(e){throw new RangeError("i must be greater than or equal to 0 and less than childCount")}get childCount(){return 0}accept(e){return e.visitChildren(this)}toStringTree(e){return Kut.Trees.toStringTree(this,e)}toString(e,t){let r=e instanceof Qut.Recognizer?e.ruleNames:e;t=t||Jut.ParserRuleContext.emptyContext();let i="",s=this;for(i+="[";s&&s!==t;){if(!r)s.isEmpty||(i+=s.invokingState);else{let o=s.ruleIndex;i+=o>=0&&o<r.length?r[o]:o.toString()}s._parent&&(r||!s._parent.isEmpty)&&(i+=" "),s=s._parent}return i+="]",i.toString()}};px([mx.Override],yh.prototype,"sourceInterval",null);px([mx.Override],yh.prototype,"ruleContext",null);px([mx.Override],yh.prototype,"parent",null);px([mx.Override],yh.prototype,"setParent",null);px([mx.Override],yh.prototype,"payload",null);px([mx.Override],yh.prototype,"text",null);px([mx.Override],yh.prototype,"getChild",null);px([mx.Override],yh.prototype,"childCount",null);px([mx.Override],yh.prototype,"accept",null);px([mx.Override],yh.prototype,"toStringTree",null);uC.RuleContext=yh});var y1=Ae(lC=>{"use strict";m();var Wre=lC&&lC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(lC,"__esModule",{value:!0});lC.ParserRuleContext=void 0;var Qre=sC(),Gre=j0(),Yre=Cr(),Ibe=Vre(),dU=gy(),xx=class extends Ibe.RuleContext{constructor(e,t){t==null?super():super(e,t)}static emptyContext(){return xx.EMPTY}copyFrom(e){if(this._parent=e._parent,this.invokingState=e.invokingState,this._start=e._start,this._stop=e._stop,e.children){this.children=[];for(let t of e.children)t instanceof Qre.ErrorNode&&this.addChild(t)}}enterRule(e){}exitRule(e){}addAnyChild(e){return this.children?this.children.push(e):this.children=[e],e}addChild(e){let t;if(e instanceof dU.TerminalNode){e.setParent(this),this.addAnyChild(e);return}else if(e instanceof Ibe.RuleContext){this.addAnyChild(e);return}else return e=new dU.TerminalNode(e),this.addAnyChild(e),e.setParent(this),e}addErrorNode(e){if(e instanceof Qre.ErrorNode){let t=e;return t.setParent(this),this.addAnyChild(t)}else{let t=e,r=new Qre.ErrorNode(t);return this.addAnyChild(r),r.setParent(this),r}}removeLastChild(){this.children&&this.children.pop()}get parent(){let e=super.parent;if(e===void 0||e instanceof xx)return e;throw new TypeError("Invalid parent type for ParserRuleContext")}getChild(e,t){if(!this.children||e<0||e>=this.children.length)throw new RangeError("index parameter must be between >= 0 and <= number of children.");if(t==null)return this.children[e];let r=this.tryGetChild(e,t);if(r===void 0)throw new Error("The specified node does not exist");return r}tryGetChild(e,t){if(!this.children||e<0||e>=this.children.length)return;let r=-1;for(let i of this.children)if(i instanceof t&&(r++,r===e))return i}getToken(e,t){let r=this.tryGetToken(e,t);if(r===void 0)throw new Error("The specified token does not exist");return r}tryGetToken(e,t){if(!this.children||t<0||t>=this.children.length)return;let r=-1;for(let i of this.children)if(i instanceof dU.TerminalNode&&i.symbol.type===e&&(r++,r===t))return i}getTokens(e){let t=[];if(!this.children)return t;for(let r of this.children)r instanceof dU.TerminalNode&&r.symbol.type===e&&t.push(r);return t}get ruleContext(){return this}getRuleContext(e,t){return this.getChild(e,t)}tryGetRuleContext(e,t){return this.tryGetChild(e,t)}getRuleContexts(e){let t=[];if(!this.children)return t;for(let r of this.children)r instanceof e&&t.push(r);return t}get childCount(){return this.children?this.children.length:0}get sourceInterval(){return this._start?!this._stop||this._stop.tokenIndex<this._start.tokenIndex?Gre.Interval.of(this._start.tokenIndex,this._start.tokenIndex-1):Gre.Interval.of(this._start.tokenIndex,this._stop.tokenIndex):Gre.Interval.INVALID}get start(){return this._start}get stop(){return this._stop}toInfoString(e){let t=e.getRuleInvocationStack(this).reverse();return"ParserRuleContext"+t+"{start="+this._start+", stop="+this._stop+"}"}};xx.EMPTY=new xx;Wre([Yre.Override],xx.prototype,"parent",null);Wre([Yre.Override],xx.prototype,"childCount",null);Wre([Yre.Override],xx.prototype,"sourceInterval",null);lC.ParserRuleContext=xx});var qbe=Ae(vy=>{"use strict";m();var Mbe=vy&&vy.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(vy,"__esModule",{value:!0});vy.PredictionMode=void 0;var Xut=A6(),hU=Pl(),Pbe=Cr(),Bbe=OS(),jbe;(function(n){n[n.SLL=0]="SLL",n[n.LL=1]="LL",n[n.LL_EXACT_AMBIG_DETECTION=2]="LL_EXACT_AMBIG_DETECTION"})(jbe=vy.PredictionMode||(vy.PredictionMode={}));(function(n){class e extends Xut.Array2DHashMap{constructor(){super(t.INSTANCE)}}class t{AltAndContextConfigEqualityComparator(){}hashCode(o){let a=hU.MurmurHash.initialize(7);return a=hU.MurmurHash.update(a,o.state.stateNumber),a=hU.MurmurHash.update(a,o.context),a=hU.MurmurHash.finish(a,2),a}equals(o,a){return o===a?!0:o==null||a==null?!1:o.state.stateNumber===a.state.stateNumber&&o.context.equals(a.context)}}t.INSTANCE=new t,Mbe([Pbe.Override],t.prototype,"hashCode",null),Mbe([Pbe.Override],t.prototype,"equals",null);function r(s){for(let o of s)if(o.state instanceof Bbe.RuleStopState)return!0;return!1}n.hasConfigInRuleStopState=r;function i(s){for(let o of s)if(!(o.state instanceof Bbe.RuleStopState))return!1;return!0}n.allConfigsInRuleStopStates=i})(jbe=vy.PredictionMode||(vy.PredictionMode={}))});var Jre=Ae(Mv=>{"use strict";m();var Zut=Mv&&Mv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},elt=Mv&&Mv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Mv,"__esModule",{value:!0});Mv.SimulatorState=void 0;var tlt=Cr(),nlt=y1(),Kre=class{constructor(e,t,r,i){this.outerContext=e??nlt.ParserRuleContext.emptyContext(),this.s0=t,this.useContext=r,this.remainingOuterContext=i}};Kre=Zut([elt(1,tlt.NotNull)],Kre);Mv.SimulatorState=Kre});var dC=Ae(Bv=>{"use strict";m();var Ao=Bv&&Bv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},qi=Bv&&Bv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Bv,"__esModule",{value:!0});Bv.ParserATNSimulator=void 0;var Ube=Qne(),rlt=Ore(),ilt=ty(),slt=_q(),gx=Dm(),$be=VD(),_y=_S(),cC=YD(),olt=Ef(),alt=Nre(),hR=ry(),ult=Obe(),llt=iv(),Xre=QD(),clt=Sq(),pU=j0(),mU=Jg(),li=Cr(),flt=Gq(),dlt=pR(),hlt=Tm(),zbe=y1(),bf=d1(),Zre=Oq(),fC=qbe(),Y6=OS(),Hbe=Kq(),Pv=C6(),plt=Wq(),v1=Jre(),xU=uu(),Vbe=ay(),hl=M0(),mlt=65535,Wbe=-(1<<31>>>0),Ms=class vo extends cC.ATNSimulator{constructor(e,t){super(e);this.predictionMode=fC.PredictionMode.LL,this.force_global_context=!1,this.always_try_local_context=!0,this.enable_global_context_dfa=!1,this.optimize_unique_closure=!0,this.optimize_ll1=!0,this.optimize_tail_calls=!0,this.tail_call_preserves_sll=!0,this.treat_sllk1_conflict_as_ambiguity=!1,this.reportAmbiguities=!1,this.userWantsCtxSensitive=!0,this._parser=t}getPredictionMode(){return this.predictionMode}setPredictionMode(e){this.predictionMode=e}reset(){}adaptivePredict(e,t,r,i){i===void 0&&(i=!1);let s=this.atn.decisionToDFA[t];if(hl(s!=null),this.optimize_ll1&&!s.isPrecedenceDfa&&!s.isEmpty){let f=e.LA(1);if(f>=0&&f<=65535){let p=(t<<16>>>0)+f,_=this.atn.LL1Table.get(p);if(_!=null)return _}}this.dfa=s,this.force_global_context?i=!0:this.always_try_local_context||(i=i||s.isContextSensitive),this.userWantsCtxSensitive=i||this.predictionMode!==fC.PredictionMode.SLL&&r!=null&&!this.atn.decisionToState[t].sll,r==null&&(r=zbe.ParserRuleContext.emptyContext());let o;s.isEmpty||(o=this.getStartState(s,e,r,i)),o==null&&(r==null&&(r=zbe.ParserRuleContext.emptyContext()),vo.debug&&console.log("ATN decision "+s.decision+" exec LA(1)=="+this.getLookaheadName(e)+", outerContext="+r.toString(this._parser)),o=this.computeStartState(s,r,i));let a=e.mark(),l=e.index;try{let f=this.execDFA(s,e,l,o);return vo.debug&&console.log("DFA after predictATN: "+s.toString(this._parser.vocabulary,this._parser.ruleNames)),f}finally{this.dfa=void 0,e.seek(l),e.release(a)}}getStartState(e,t,r,i){if(!i)if(e.isPrecedenceDfa){let a=e.getPrecedenceStartState(this._parser.precedence,!1);return a==null?void 0:new v1.SimulatorState(r,a,!1,r)}else return e.s0==null?void 0:new v1.SimulatorState(r,e.s0,!1,r);if(!this.enable_global_context_dfa)return;let s=r;hl(r!=null);let o;for(e.isPrecedenceDfa?o=e.getPrecedenceStartState(this._parser.precedence,!0):o=e.s0full;s!=null&&o!=null&&o.isContextSensitive;)s=this.skipTailCalls(s),o=o.getContextTarget(this.getReturnState(s)),s.isEmpty?hl(o==null||!o.isContextSensitive):s=s.parent;if(o!=null)return new v1.SimulatorState(r,o,i,s)}execDFA(e,t,r,i){let s=i.outerContext;vo.dfa_debug&&console.log("DFA decision "+e.decision+" exec LA(1)=="+this.getLookaheadName(t)+", outerContext="+s.toString(this._parser)),vo.dfa_debug&&console.log(e.toString(this._parser.vocabulary,this._parser.ruleNames));let o=i.s0,a=t.LA(1),l=i.remainingOuterContext;for(;;){if(vo.dfa_debug&&console.log("DFA state "+o.stateNumber+" LA(1)=="+this.getLookaheadName(t)),i.useContext)for(;o.isContextSymbol(a);){let _;if(l!=null&&(l=this.skipTailCalls(l),_=o.getContextTarget(this.getReturnState(l))),_==null){let b=new v1.SimulatorState(i.outerContext,o,i.useContext,l);return this.execATN(e,t,r,b)}hl(l!=null),l=l.parent,o=_}if(this.isAcceptState(o,i.useContext)){o.predicates!=null?vo.dfa_debug&&console.log("accept "+o):vo.dfa_debug&&console.log("accept; predict "+o.prediction+" in state "+o.stateNumber);break}hl(!this.isAcceptState(o,i.useContext));let p=this.getExistingTargetState(o,a);if(p==null){vo.dfa_debug&&a>=0&&console.log("no edge for "+this._parser.vocabulary.getDisplayName(a));let _;if(vo.dfa_debug){let R=pU.Interval.of(r,this._parser.inputStream.index);console.log("ATN exec upon "+this._parser.inputStream.getText(R)+" at DFA state "+o.stateNumber)}let b=new v1.SimulatorState(s,o,i.useContext,l);return _=this.execATN(e,t,r,b),vo.dfa_debug&&console.log("back from DFA update, alt="+_+`, dfa=
`+e.toString(this._parser.vocabulary,this._parser.ruleNames)),vo.dfa_debug&&console.log("DFA decision "+e.decision+" predicts "+_),_}else if(p===cC.ATNSimulator.ERROR){let _=new v1.SimulatorState(s,o,i.useContext,l);return this.handleNoViableAlt(t,r,_)}o=p,!this.isAcceptState(o,i.useContext)&&a!==mU.IntStream.EOF&&(t.consume(),a=t.LA(1))}if(!i.useContext&&o.configs.conflictInfo!=null&&e.atnStartState instanceof llt.DecisionState&&!(!this.userWantsCtxSensitive||!o.configs.dipsIntoOuterContext&&o.configs.isExactConflict||this.treat_sllk1_conflict_as_ambiguity&&t.index===r)){hl(!i.useContext);let p,_=o.predicates;if(_!=null){let b=t.index;if(b!==r&&t.seek(r),p=this.evalSemanticContext(_,s,!0),p.cardinality()===1)return p.nextSetBit(0);b!==r&&t.seek(b)}if(this.reportAmbiguities){let b=new v1.SimulatorState(s,o,i.useContext,l);this.reportAttemptingFullContext(e,p,b,r,t.index)}return t.seek(r),this.adaptivePredict(t,e.decision,s,!0)}let f=o.predicates;if(f!=null){let p=t.index;r!==p&&t.seek(r);let _=this.evalSemanticContext(f,s,this.reportAmbiguities&&this.predictionMode===fC.PredictionMode.LL_EXACT_AMBIG_DETECTION);switch(_.cardinality()){case 0:throw this.noViableAlt(t,s,o.configs,r);case 1:return _.nextSetBit(0);default:return r!==p&&t.seek(p),this.reportAmbiguity(e,o,r,p,o.configs.isExactConflict,_,o.configs),_.nextSetBit(0)}}return vo.dfa_debug&&console.log("DFA decision "+e.decision+" predicts "+o.prediction),o.prediction}isAcceptState(e,t){return e.isAcceptState?e.configs.conflictingAlts==null?!0:t&&this.predictionMode===fC.PredictionMode.LL_EXACT_AMBIG_DETECTION?e.configs.isExactConflict:!0:!1}execATN(e,t,r,i){vo.debug&&console.log("execATN decision "+e.decision+" exec LA(1)=="+this.getLookaheadName(t));let s=i.outerContext,o=i.useContext,a=t.LA(1),l=i,f=new Zre.PredictionContextCache;for(;;){let p=this.computeReachSet(e,l,a,f);if(p==null)return this.setDFAEdge(l.s0,t.LA(1),cC.ATNSimulator.ERROR),this.handleNoViableAlt(t,r,l);let _=p.s0;if(hl(_.isAcceptState||_.prediction===gx.ATN.INVALID_ALT_NUMBER),hl(_.isAcceptState||_.configs.conflictInfo==null),this.isAcceptState(_,o)){let b=_.configs.conflictingAlts,R=b==null?_.prediction:gx.ATN.INVALID_ALT_NUMBER;if(R!==gx.ATN.INVALID_ALT_NUMBER){if(this.optimize_ll1&&t.index===r&&!e.isPrecedenceDfa&&p.outerContext===p.remainingOuterContext&&e.decision>=0&&!_.configs.hasSemanticContext&&a>=0&&a<=mlt){let j=(e.decision<<16>>>0)+a;this.atn.LL1Table.set(j,R)}o&&this.always_try_local_context&&this.reportContextSensitivity(e,R,p,r,t.index)}R=_.prediction;let O=b!=null&&this.userWantsCtxSensitive;if(O&&(O=!o&&(_.configs.dipsIntoOuterContext||!_.configs.isExactConflict)&&(!this.treat_sllk1_conflict_as_ambiguity||t.index!==r)),_.configs.hasSemanticContext){let j=_.predicates;if(j!=null){let $=t.index;switch($!==r&&t.seek(r),b=this.evalSemanticContext(j,s,O||this.reportAmbiguities),b.cardinality()){case 0:throw this.noViableAlt(t,s,_.configs,r);case 1:return b.nextSetBit(0);default:break}$!==r&&t.seek($)}}if(O){hl(!o),hl(this.isAcceptState(_,!1)),vo.debug&&console.log("RETRY with outerContext="+s);let j=this.computeStartState(e,s,!0);return this.reportAmbiguities&&this.reportAttemptingFullContext(e,b,p,r,t.index),t.seek(r),this.execATN(e,t,r,j)}else return b!=null&&(this.reportAmbiguities&&b.cardinality()>1&&this.reportAmbiguity(e,_,r,t.index,_.configs.isExactConflict,b,_.configs),R=b.nextSetBit(0)),R}l=p,a!==mU.IntStream.EOF&&(t.consume(),a=t.LA(1))}}handleNoViableAlt(e,t,r){if(r.s0!=null){let i=new hR.BitSet,s=0;for(let o of r.s0.configs)(o.reachesIntoOuterContext||o.state instanceof Y6.RuleStopState)&&(i.set(o.alt),s=Math.max(s,o.alt));switch(i.cardinality()){case 0:break;case 1:return i.nextSetBit(0);default:if(!r.s0.configs.hasSemanticContext)return i.nextSetBit(0);let o=new _y.ATNConfigSet;for(let l of r.s0.configs)(l.reachesIntoOuterContext||l.state instanceof Y6.RuleStopState)&&o.add(l);let a=this.getPredsForAmbigAlts(i,o,s);if(a!=null){let l=this.getPredicatePredictions(i,a);if(l!=null){let f=e.index;try{e.seek(t);let p=this.evalSemanticContext(l,r.outerContext,!1);if(!p.isEmpty)return p.nextSetBit(0)}finally{e.seek(f)}}}return i.nextSetBit(0)}}throw this.noViableAlt(e,r.outerContext,r.s0.configs,t)}computeReachSet(e,t,r,i){let s=t.useContext,o=t.remainingOuterContext,a=t.s0;if(s)for(;a.isContextSymbol(r);){let p;if(o!=null&&(o=this.skipTailCalls(o),p=a.getContextTarget(this.getReturnState(o))),p==null)break;hl(o!=null),o=o.parent,a=p}if(hl(!this.isAcceptState(a,s)),this.isAcceptState(a,s))return new v1.SimulatorState(t.outerContext,a,s,o);let l=a,f=this.getExistingTargetState(l,r);if(f==null){let p=this.computeTargetState(e,l,o,r,s,i);f=p[0],o=p[1]}if(f!==cC.ATNSimulator.ERROR)return hl(!s||!f.configs.dipsIntoOuterContext),new v1.SimulatorState(t.outerContext,f,s,o)}getExistingTargetState(e,t){return e.getTarget(t)}computeTargetState(e,t,r,i,s,o){let a=t.configs.toArray(),l,f=new _y.ATNConfigSet,p;do{let b=!s||r!=null;b||(f.isOutermostConfigSet=!0);let R=new _y.ATNConfigSet,O;for(let L of a){if(vo.debug&&console.log("testing "+this.getTokenName(i)+" at "+L.toString()),L.state instanceof Y6.RuleStopState){hl(L.context.isEmpty),(s&&!L.reachesIntoOuterContext||i===mU.IntStream.EOF)&&(O==null&&(O=[]),O.push(L));continue}let q=L.state.numberOfOptimizedTransitions;for(let P=0;P<q;P++){let W=L.state.getOptimizedTransition(P),oe=this.getReachableTarget(L,W,i);oe!=null&&R.add(L.transform(oe,!1),o)}}if(this.optimize_unique_closure&&O==null&&i!==xU.Token.EOF&&R.uniqueAlt!==gx.ATN.INVALID_ALT_NUMBER){R.isOutermostConfigSet=f.isOutermostConfigSet,f=R;break}let j=!1,$=i===xU.Token.EOF;if(this.closure(R,f,j,b,o,$),p=f.dipsIntoOuterContext,i===mU.IntStream.EOF&&(f=this.removeAllConfigsNotInRuleStopState(f,o)),O!=null&&(!s||!fC.PredictionMode.hasConfigInRuleStopState(f))){hl(O.length>0);for(let L of O)f.add(L,o)}if(s&&p){f.clear(),r=r,r=this.skipTailCalls(r);let L=this.getReturnState(r);if(l==null&&(l=new clt.IntegerList),r.isEmpty?r=void 0:r=r.parent,l.add(L),L!==bf.PredictionContext.EMPTY_FULL_STATE_KEY)for(let q=0;q<a.length;q++)a[q]=a[q].appendContext(L,o)}}while(s&&p);return f.isEmpty?(this.setDFAEdge(t,i,cC.ATNSimulator.ERROR),[cC.ATNSimulator.ERROR,r]):[this.addDFAEdge(e,t,i,l,f,o),r]}removeAllConfigsNotInRuleStopState(e,t){if(fC.PredictionMode.allConfigsInRuleStopStates(e))return e;let r=new _y.ATNConfigSet;for(let i of e)i.state instanceof Y6.RuleStopState&&r.add(i,t);return r}computeStartState(e,t,r){let i=e.isPrecedenceDfa?e.getPrecedenceStartState(this._parser.precedence,r):r?e.s0full:e.s0;if(i!=null){if(!r)return new v1.SimulatorState(t,i,r,t);i.setContextSensitive(this.atn)}let s=e.decision,o=e.atnStartState,a=0,l=t,f=r?bf.PredictionContext.EMPTY_FULL:bf.PredictionContext.EMPTY_LOCAL,p=new Zre.PredictionContextCache;if(r){if(!this.enable_global_context_dfa)for(;l!=null;)l.isEmpty?(a=bf.PredictionContext.EMPTY_FULL_STATE_KEY,l=void 0):(a=this.getReturnState(l),f=f.appendSingleContext(a,p),l=l.parent);for(;i!=null&&i.isContextSensitive&&l!=null;){let b;if(l=this.skipTailCalls(l),l.isEmpty?(b=i.getContextTarget(bf.PredictionContext.EMPTY_FULL_STATE_KEY),a=bf.PredictionContext.EMPTY_FULL_STATE_KEY,l=void 0):(a=this.getReturnState(l),b=i.getContextTarget(a),f=f.appendSingleContext(a,p),l=l.parent),b==null)break;i=b}}if(i!=null&&!i.isContextSensitive)return new v1.SimulatorState(t,i,r,l);let _=new _y.ATNConfigSet;for(;;){let b=new _y.ATNConfigSet,R=o.numberOfTransitions;for(let P=0;P<R;P++){let W=o.transition(P).target;b.add($be.ATNConfig.create(W,P+1,f))}let O=l!=null;O||(_.isOutermostConfigSet=!0);let j=!0;this.closure(b,_,j,O,p,!1);let $=_.dipsIntoOuterContext,L;if(r&&!this.enable_global_context_dfa){i=this.addDFAState(e,_,p);break}else i==null?e.isPrecedenceDfa?(_=this.applyPrecedenceFilter(_,t,p),L=this.addDFAState(e,_,p),e.setPrecedenceStartState(this._parser.precedence,r,L)):(L=this.addDFAState(e,_,p),r?e.s0full?L=e.s0full:e.s0full=L:e.s0?L=e.s0:e.s0=L):(e.isPrecedenceDfa&&(_=this.applyPrecedenceFilter(_,t,p)),L=this.addDFAState(e,_,p),i.setContextTarget(a,L));if(i=L,!r||!$)break;L.setContextSensitive(this.atn),l=l,_.clear(),l=this.skipTailCalls(l);let q=this.getReturnState(l);l.isEmpty?l=void 0:l=l.parent,q!==bf.PredictionContext.EMPTY_FULL_STATE_KEY&&(f=f.appendSingleContext(q,p)),a=q}return new v1.SimulatorState(t,i,r,l)}applyPrecedenceFilter(e,t,r){let i=new Map,s=new _y.ATNConfigSet;for(let o of e){if(o.alt!==1)continue;let a=o.semanticContext.evalPrecedence(this._parser,t);a!=null&&(i.set(o.state.stateNumber,o.context),a!==o.semanticContext?s.add(o.transform(o.state,!1,a),r):s.add(o,r))}for(let o of e)if(o.alt!==1){if(!o.isPrecedenceFilterSuppressed){let a=i.get(o.state.stateNumber);if(a!=null&&a.equals(o.context))continue}s.add(o,r)}return s}getReachableTarget(e,t,r){if(t.matches(r,0,this.atn.maxTokenType))return t.target}predicateDFAState(e,t,r){let i=this.getConflictingAltsFromConfigSet(t);if(!i)throw new Error("This unhandled scenario is intended to be unreachable, but I'm currently not sure of why we know that's the case.");vo.debug&&console.log("predicateDFAState "+e);let s=this.getPredsForAmbigAlts(i,t,r),o;return s!=null&&(o=this.getPredicatePredictions(i,s),e.predicates=o),o}getPredsForAmbigAlts(e,t,r){let i=new Array(r+1),s=i.length;for(let l of t)e.get(l.alt)&&(i[l.alt]=Pv.SemanticContext.or(i[l.alt],l.semanticContext));let o=0;for(let l=0;l<s;l++)i[l]==null?i[l]=Pv.SemanticContext.NONE:i[l]!==Pv.SemanticContext.NONE&&o++;let a=i;return o===0&&(a=void 0),vo.debug&&console.log("getPredsForAmbigAlts result "+(a?slt.Arrays.toString(a):"undefined")),a}getPredicatePredictions(e,t){let r=[],i=!1;for(let s=1;s<t.length;s++){let o=t[s];hl(o!=null),e!=null&&e.get(s)&&o===Pv.SemanticContext.NONE?r.push(new Xre.DFAState.PredPrediction(o,s)):o!==Pv.SemanticContext.NONE&&(i=!0,r.push(new Xre.DFAState.PredPrediction(o,s)))}if(!!i)return r}evalSemanticContext(e,t,r){let i=new hR.BitSet;for(let s of e){if(s.pred===Pv.SemanticContext.NONE){if(i.set(s.alt),!r)break;continue}let o=this.evalSemanticContextImpl(s.pred,t,s.alt);if((vo.debug||vo.dfa_debug)&&console.log("eval pred "+s+"="+o),o&&((vo.debug||vo.dfa_debug)&&console.log("PREDICT "+s.alt),i.set(s.alt),!r))break}return i}evalSemanticContextImpl(e,t,r){return e.eval(this._parser,t)}closure(e,t,r,i,s,o){s==null&&(s=Zre.PredictionContextCache.UNCACHED);let a=e,l=new ilt.Array2DHashSet(hlt.ObjectEqualityComparator.INSTANCE);for(;a.size>0;){let f=new _y.ATNConfigSet;for(let p of a)this.closureImpl(p,t,f,l,r,i,s,0,o);a=f}}closureImpl(e,t,r,i,s,o,a,l,f){if(vo.debug&&console.log("closure("+e.toString(this._parser,!0)+")"),e.state instanceof Y6.RuleStopState)if(e.context.isEmpty)if(o)vo.debug&&console.log("FALLING off rule "+this.getRuleName(e.state.ruleIndex)),e.context===bf.PredictionContext.EMPTY_FULL?e=e.transform(e.state,!1,bf.PredictionContext.EMPTY_LOCAL):!e.reachesIntoOuterContext&&bf.PredictionContext.isEmptyLocal(e.context)&&t.add(e,a);else{t.add(e,a);return}else{let _=e.context.hasEmpty,b=e.context.size-(_?1:0);for(let R=0;R<b;R++){let O=e.context.getParent(R),j=this.atn.states[e.context.getReturnState(R)],$=$be.ATNConfig.create(j,e.alt,O,e.semanticContext);$.outerContextDepth=e.outerContextDepth,$.isPrecedenceFilterSuppressed=e.isPrecedenceFilterSuppressed,hl(l>Wbe),this.closureImpl($,t,r,i,s,o,a,l-1,f)}if(!_||!o)return;e=e.transform(e.state,!1,bf.PredictionContext.EMPTY_LOCAL)}let p=e.state;p.onlyHasEpsilonTransitions||(t.add(e,a),vo.debug&&console.log("added config "+t));for(let _=0;_<p.numberOfOptimizedTransitions;_++){if(_===0&&p.stateType===olt.ATNStateType.STAR_LOOP_ENTRY&&p.precedenceRuleDecision&&!e.context.hasEmpty){let j=p,$=!0;for(let L=0;L<e.context.size;L++)if(!j.precedenceLoopbackStates.get(e.context.getReturnState(L))){$=!1;break}if($)continue}let b=p.getOptimizedTransition(_),R=!(b instanceof rlt.ActionTransition)&&s,O=this.getEpsilonTarget(e,b,R,l===0,a,f);if(O!=null){if(b instanceof Hbe.RuleTransition&&r!=null&&!s){r.add(O,a);continue}let j=l;if(e.state instanceof Y6.RuleStopState){if(this.dfa!=null&&this.dfa.isPrecedenceDfa&&b.outermostPrecedenceReturn===this.dfa.atnStartState.ruleIndex&&(O.isPrecedenceFilterSuppressed=!0),O.outerContextDepth=O.outerContextDepth+1,!i.add(O))continue;hl(j>Wbe),j--,vo.debug&&console.log("dips into outer ctx: "+O)}else if(b instanceof Hbe.RuleTransition)this.optimize_tail_calls&&b.optimizedTailCall&&(!this.tail_call_preserves_sll||!bf.PredictionContext.isEmptyLocal(e.context))?(hl(O.context===e.context),j===0&&(j--,!this.tail_call_preserves_sll&&bf.PredictionContext.isEmptyLocal(e.context)&&(O.outerContextDepth=O.outerContextDepth+1))):j>=0&&j++;else if(!b.isEpsilon&&!i.add(O))continue;this.closureImpl(O,t,r,i,R,o,a,j,f)}}}getRuleName(e){return this._parser!=null&&e>=0?this._parser.ruleNames[e]:"<rule "+e+">"}getEpsilonTarget(e,t,r,i,s,o){switch(t.serializationType){case 3:return this.ruleTransition(e,t,s);case 10:return this.precedenceTransition(e,t,r,i);case 4:return this.predTransition(e,t,r,i);case 6:return this.actionTransition(e,t);case 1:return e.transform(t.target,!1);case 5:case 2:case 7:return o&&t.matches(xU.Token.EOF,0,1)?e.transform(t.target,!1):void 0;default:return}}actionTransition(e,t){return vo.debug&&console.log("ACTION edge "+t.ruleIndex+":"+t.actionIndex),e.transform(t.target,!1)}precedenceTransition(e,t,r,i){vo.debug&&(console.log("PRED (collectPredicates="+r+") "+t.precedence+">=_p, ctx dependent=true"),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let s;if(r&&i){let o=Pv.SemanticContext.and(e.semanticContext,t.predicate);s=e.transform(t.target,!1,o)}else s=e.transform(t.target,!1);return vo.debug&&console.log("config from pred transition="+s),s}predTransition(e,t,r,i){vo.debug&&(console.log("PRED (collectPredicates="+r+") "+t.ruleIndex+":"+t.predIndex+", ctx dependent="+t.isCtxDependent),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let s;if(r&&(!t.isCtxDependent||t.isCtxDependent&&i)){let o=Pv.SemanticContext.and(e.semanticContext,t.predicate);s=e.transform(t.target,!1,o)}else s=e.transform(t.target,!1);return vo.debug&&console.log("config from pred transition="+s),s}ruleTransition(e,t,r){vo.debug&&console.log("CALL rule "+this.getRuleName(t.target.ruleIndex)+", ctx="+e.context);let i=t.followState,s;return this.optimize_tail_calls&&t.optimizedTailCall&&(!this.tail_call_preserves_sll||!bf.PredictionContext.isEmptyLocal(e.context))?s=e.context:r!=null?s=r.getChild(e.context,i.stateNumber):s=e.context.getChild(i.stateNumber),e.transform(t.target,!1,s)}isConflicted(e,t){if(e.uniqueAlt!==gx.ATN.INVALID_ALT_NUMBER||e.size<=1)return;let r=e.toArray();r.sort(vo.STATE_ALT_SORT_COMPARATOR);let i=!e.dipsIntoOuterContext,s=new hR.BitSet,o=r[0].alt;s.set(o);let a=r[0].state.nonStopStateNumber;for(let b of r){let R=b.state.nonStopStateNumber;if(R!==a){if(b.alt!==o)return;a=R}}let l;if(i){a=r[0].state.nonStopStateNumber,l=new hR.BitSet;let b=o;for(let O of r){if(O.state.nonStopStateNumber!==a)break;let j=O.alt;l.set(j),b=j}a=r[0].state.nonStopStateNumber;let R=o;for(let O of r){let j=O.state.nonStopStateNumber,$=O.alt;if(j!==a){if(R!==b){i=!1;break}a=j,R=o}else if($!==R){if($!==l.nextSetBit(R+1)){i=!1;break}R=$}}}a=r[0].state.nonStopStateNumber;let f=0,p=0,_=r[0].context;for(let b=1;b<r.length;b++){let R=r[b];if(R.alt!==o||R.state.nonStopStateNumber!==a)break;p=b,_=t.join(_,r[b].context)}for(let b=p+1;b<r.length;b++){let R=r[b],O=R.state;if(s.set(R.alt),O.nonStopStateNumber!==a){a=O.nonStopStateNumber,f=b,p=b,_=R.context;for(let P=f+1;P<r.length;P++){let W=r[P];if(W.alt!==o||W.state.nonStopStateNumber!==a)break;p=P,_=t.join(_,W.context)}b=p;continue}let j=R.context,$=R.alt,L=b;for(let P=L+1;P<r.length;P++){let W=r[P];if(W.alt!==$||W.state.nonStopStateNumber!==a)break;L=P,j=t.join(j,W.context)}b=L;let q=t.join(_,j);if(!_.equals(q))return;i=i&&_.equals(j)}return new ult.ConflictInfo(s,i)}getConflictingAltsFromConfigSet(e){let t=e.conflictingAlts;return t==null&&e.uniqueAlt!==gx.ATN.INVALID_ALT_NUMBER&&(t=new hR.BitSet,t.set(e.uniqueAlt)),t}getTokenName(e){if(e===xU.Token.EOF)return"EOF";let r=(this._parser!=null?this._parser.vocabulary:Vbe.VocabularyImpl.EMPTY_VOCABULARY).getDisplayName(e);return r===String(e)?r:r+"<"+e+">"}getLookaheadName(e){return this.getTokenName(e.LA(1))}dumpDeadEndConfigs(e){console.log("dead end configs: ");let t=e.deadEndConfigs;if(!!t)for(let r of t){let i="no edges";if(r.state.numberOfOptimizedTransitions>0){let s=r.state.getOptimizedTransition(0);s instanceof alt.AtomTransition?i="Atom "+this.getTokenName(s._label):s instanceof plt.SetTransition&&(i=(s instanceof flt.NotSetTransition?"~":"")+"Set "+s.set.toString())}console.log(r.toString(this._parser,!0)+":"+i)}}noViableAlt(e,t,r,i){return new dlt.NoViableAltException(this._parser,e,e.get(i),e.LT(1),r,t)}getUniqueAlt(e){let t=gx.ATN.INVALID_ALT_NUMBER;for(let r of e)if(t===gx.ATN.INVALID_ALT_NUMBER)t=r.alt;else if(r.alt!==t)return gx.ATN.INVALID_ALT_NUMBER;return t}configWithAltAtStopState(e,t){for(let r of e)if(r.alt===t&&r.state instanceof Y6.RuleStopState)return!0;return!1}addDFAEdge(e,t,r,i,s,o){hl(i==null||i.isEmpty||e.isContextSensitive);let a=t,l=this.addDFAState(e,s,o);if(i!=null)for(let f of i.toArray()){if(f===bf.PredictionContext.EMPTY_FULL_STATE_KEY&&a.configs.isOutermostConfigSet)continue;a.setContextSensitive(this.atn),a.setContextSymbol(r);let p=a.getContextTarget(f);if(p!=null){a=p;continue}p=this.addDFAContextState(e,a.configs,f,o),hl(f!==bf.PredictionContext.EMPTY_FULL_STATE_KEY||p.configs.isOutermostConfigSet),a.setContextTarget(f,p),a=p}return vo.debug&&console.log("EDGE "+a+" -> "+l+" upon "+this.getTokenName(r)),this.setDFAEdge(a,r,l),vo.debug&&console.log(`DFA=
`+e.toString(this._parser!=null?this._parser.vocabulary:Vbe.VocabularyImpl.EMPTY_VOCABULARY,this._parser!=null?this._parser.ruleNames:void 0)),l}setDFAEdge(e,t,r){e!=null&&e.setTarget(t,r)}addDFAContextState(e,t,r,i){if(r!==bf.PredictionContext.EMPTY_FULL_STATE_KEY){let s=new _y.ATNConfigSet;for(let o of t)s.add(o.appendContext(r,i));return this.addDFAState(e,s,i)}else return hl(!t.isOutermostConfigSet,"Shouldn't be adding a duplicate edge."),t=t.clone(!0),t.isOutermostConfigSet=!0,this.addDFAState(e,t,i)}addDFAState(e,t,r){let i=this.enable_global_context_dfa||!t.isOutermostConfigSet;if(i){t.isReadOnly||t.optimizeConfigs(this);let f=this.createDFAState(e,t),p=e.states.get(f);if(p!=null)return p}t.isReadOnly||t.conflictInfo==null&&(t.conflictInfo=this.isConflicted(t,r));let s=this.createDFAState(e,t.clone(!0)),o=this.atn.getDecisionState(e.decision),a=this.getUniqueAlt(t);if(a!==gx.ATN.INVALID_ALT_NUMBER)s.acceptStateInfo=new Ube.AcceptStateInfo(a);else if(t.conflictingAlts!=null){let f=t.conflictingAlts;f&&(s.acceptStateInfo=new Ube.AcceptStateInfo(f.nextSetBit(0)))}if(s.isAcceptState&&t.hasSemanticContext&&this.predicateDFAState(s,t,o.numberOfTransitions),!i)return s;let l=e.addState(s);return vo.debug&&l===s&&console.log("adding new DFA state: "+s),l}createDFAState(e,t){return new Xre.DFAState(t)}reportAttemptingFullContext(e,t,r,i,s){if(vo.debug||vo.retry_debug){let o=pU.Interval.of(i,s);console.log("reportAttemptingFullContext decision="+e.decision+":"+r.s0.configs+", input="+this._parser.inputStream.getText(o))}if(this._parser!=null){let o=this._parser.getErrorListenerDispatch();o.reportAttemptingFullContext&&o.reportAttemptingFullContext(this._parser,e,i,s,t,r)}}reportContextSensitivity(e,t,r,i,s){if(vo.debug||vo.retry_debug){let o=pU.Interval.of(i,s);console.log("reportContextSensitivity decision="+e.decision+":"+r.s0.configs+", input="+this._parser.inputStream.getText(o))}if(this._parser!=null){let o=this._parser.getErrorListenerDispatch();o.reportContextSensitivity&&o.reportContextSensitivity(this._parser,e,i,s,t,r)}}reportAmbiguity(e,t,r,i,s,o,a){if(vo.debug||vo.retry_debug){let l=pU.Interval.of(r,i);console.log("reportAmbiguity "+o+":"+a+", input="+this._parser.inputStream.getText(l))}if(this._parser!=null){let l=this._parser.getErrorListenerDispatch();l.reportAmbiguity&&l.reportAmbiguity(this._parser,e,r,i,s,o,a)}}getReturnState(e){return e.isEmpty?bf.PredictionContext.EMPTY_FULL_STATE_KEY:this.atn.states[e.invokingState].transition(0).followState.stateNumber}skipTailCalls(e){if(!this.optimize_tail_calls)return e;for(;!e.isEmpty;){let t=this.atn.states[e.invokingState];if(hl(t.numberOfTransitions===1&&t.transition(0).serializationType===3),!t.transition(0).tailCall)break;e=e.parent}return e}get parser(){return this._parser}};Ms.debug=!1;Ms.dfa_debug=!1;Ms.retry_debug=!1;Ms.STATE_ALT_SORT_COMPARATOR=(n,e)=>{let t=n.state.nonStopStateNumber-e.state.nonStopStateNumber;return t!==0||(t=n.alt-e.alt,t!==0)?t:0};Ao([li.NotNull],Ms.prototype,"predictionMode",void 0);Ao([li.NotNull],Ms.prototype,"getPredictionMode",null);Ao([qi(0,li.NotNull)],Ms.prototype,"setPredictionMode",null);Ao([li.Override],Ms.prototype,"reset",null);Ao([qi(0,li.NotNull)],Ms.prototype,"adaptivePredict",null);Ao([qi(0,li.NotNull),qi(1,li.NotNull),qi(2,li.NotNull)],Ms.prototype,"getStartState",null);Ao([qi(0,li.NotNull),qi(1,li.NotNull),qi(3,li.NotNull)],Ms.prototype,"execDFA",null);Ao([qi(0,li.NotNull),qi(1,li.NotNull),qi(3,li.NotNull)],Ms.prototype,"execATN",null);Ao([qi(0,li.NotNull),qi(2,li.NotNull)],Ms.prototype,"handleNoViableAlt",null);Ao([qi(0,li.NotNull)],Ms.prototype,"getExistingTargetState",null);Ao([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull)],Ms.prototype,"computeTargetState",null);Ao([li.NotNull,qi(0,li.NotNull)],Ms.prototype,"removeAllConfigsNotInRuleStopState",null);Ao([li.NotNull],Ms.prototype,"computeStartState",null);Ao([li.NotNull,qi(0,li.NotNull)],Ms.prototype,"applyPrecedenceFilter",null);Ao([qi(0,li.NotNull),qi(1,li.NotNull)],Ms.prototype,"getReachableTarget",null);Ao([qi(0,li.NotNull),qi(1,li.NotNull)],Ms.prototype,"getPredsForAmbigAlts",null);Ao([qi(0,li.NotNull)],Ms.prototype,"evalSemanticContext",null);Ao([qi(0,li.NotNull)],Ms.prototype,"evalSemanticContextImpl",null);Ao([qi(1,li.NotNull),qi(4,li.Nullable)],Ms.prototype,"closure",null);Ao([qi(0,li.NotNull),qi(1,li.NotNull),qi(2,li.Nullable),qi(3,li.NotNull),qi(6,li.NotNull)],Ms.prototype,"closureImpl",null);Ao([li.NotNull],Ms.prototype,"getRuleName",null);Ao([qi(0,li.NotNull),qi(1,li.NotNull)],Ms.prototype,"getEpsilonTarget",null);Ao([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull)],Ms.prototype,"actionTransition",null);Ao([li.Nullable,qi(0,li.NotNull),qi(1,li.NotNull)],Ms.prototype,"precedenceTransition",null);Ao([li.Nullable,qi(0,li.NotNull),qi(1,li.NotNull)],Ms.prototype,"predTransition",null);Ao([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull),qi(2,li.Nullable)],Ms.prototype,"ruleTransition",null);Ao([qi(0,li.NotNull)],Ms.prototype,"isConflicted",null);Ao([li.NotNull],Ms.prototype,"getTokenName",null);Ao([qi(0,li.NotNull)],Ms.prototype,"dumpDeadEndConfigs",null);Ao([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull),qi(2,li.NotNull)],Ms.prototype,"noViableAlt",null);Ao([qi(0,li.NotNull)],Ms.prototype,"getUniqueAlt",null);Ao([qi(0,li.NotNull)],Ms.prototype,"configWithAltAtStopState",null);Ao([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull),qi(4,li.NotNull)],Ms.prototype,"addDFAEdge",null);Ao([qi(0,li.Nullable),qi(2,li.Nullable)],Ms.prototype,"setDFAEdge",null);Ao([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull)],Ms.prototype,"addDFAContextState",null);Ao([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull)],Ms.prototype,"addDFAState",null);Ao([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull)],Ms.prototype,"createDFAState",null);Ao([qi(0,li.NotNull),qi(2,li.NotNull)],Ms.prototype,"reportAttemptingFullContext",null);Ao([qi(0,li.NotNull),qi(2,li.NotNull)],Ms.prototype,"reportContextSensitivity",null);Ao([qi(0,li.NotNull),qi(5,li.NotNull),qi(6,li.NotNull)],Ms.prototype,"reportAmbiguity",null);Ms=Ao([qi(0,li.NotNull)],Ms);Bv.ParserATNSimulator=Ms});var Qbe=Ae(hC=>{"use strict";m();var xlt=hC&&hC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(hC,"__esModule",{value:!0});hC.PlusBlockStartState=void 0;var glt=Ef(),ylt=lR(),vlt=Cr(),eie=class extends ylt.BlockStartState{get stateType(){return glt.ATNStateType.PLUS_BLOCK_START}};xlt([vlt.Override],eie.prototype,"stateType",null);hC.PlusBlockStartState=eie});var Gbe=Ae(pC=>{"use strict";m();var _lt=pC&&pC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(pC,"__esModule",{value:!0});pC.PlusLoopbackState=void 0;var Elt=Ef(),blt=iv(),Slt=Cr(),tie=class extends blt.DecisionState{get stateType(){return Elt.ATNStateType.PLUS_LOOP_BACK}};_lt([Slt.Override],tie.prototype,"stateType",null);pC.PlusLoopbackState=tie});var Ybe=Ae(jv=>{"use strict";m();var mR=jv&&jv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Clt=jv&&jv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(jv,"__esModule",{value:!0});jv.PrecedencePredicateTransition=void 0;var wlt=pq(),xR=Cr(),Alt=C6(),K6=class extends wlt.AbstractPredicateTransition{constructor(e,t){super(e);this.precedence=t}get serializationType(){return 10}get isEpsilon(){return!0}matches(e,t,r){return!1}get predicate(){return new Alt.SemanticContext.PrecedencePredicate(this.precedence)}toString(){return this.precedence+" >= _p"}};mR([xR.Override],K6.prototype,"serializationType",null);mR([xR.Override],K6.prototype,"isEpsilon",null);mR([xR.Override],K6.prototype,"matches",null);mR([xR.Override],K6.prototype,"toString",null);K6=mR([Clt(0,xR.NotNull)],K6);jv.PrecedencePredicateTransition=K6});var Kbe=Ae(qv=>{"use strict";m();var gR=qv&&qv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Tlt=qv&&qv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(qv,"__esModule",{value:!0});qv.RangeTransition=void 0;var Flt=xv(),J6=Cr(),Dlt=ey(),X6=class extends Dlt.Transition{constructor(e,t,r){super(e);this.from=t,this.to=r}get serializationType(){return 2}get label(){return Flt.IntervalSet.of(this.from,this.to)}matches(e,t,r){return e>=this.from&&e<=this.to}toString(){return"'"+String.fromCodePoint(this.from)+"'..'"+String.fromCodePoint(this.to)+"'"}};gR([J6.Override],X6.prototype,"serializationType",null);gR([J6.Override,J6.NotNull],X6.prototype,"label",null);gR([J6.Override],X6.prototype,"matches",null);gR([J6.Override,J6.NotNull],X6.prototype,"toString",null);X6=gR([Tlt(0,J6.NotNull)],X6);qv.RangeTransition=X6});var Jbe=Ae(mC=>{"use strict";m();var Rlt=mC&&mC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(mC,"__esModule",{value:!0});mC.RuleStartState=void 0;var Olt=K2(),Nlt=Ef(),Llt=Cr(),nie=class extends Olt.ATNState{constructor(){super(...arguments);this.isPrecedenceRule=!1,this.leftFactored=!1}get stateType(){return Nlt.ATNStateType.RULE_START}};Rlt([Llt.Override],nie.prototype,"stateType",null);mC.RuleStartState=nie});var Xbe=Ae(xC=>{"use strict";m();var klt=xC&&xC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(xC,"__esModule",{value:!0});xC.StarBlockStartState=void 0;var Ilt=Ef(),Mlt=lR(),Plt=Cr(),rie=class extends Mlt.BlockStartState{get stateType(){return Ilt.ATNStateType.STAR_BLOCK_START}};klt([Plt.Override],rie.prototype,"stateType",null);xC.StarBlockStartState=rie});var Zbe=Ae(gC=>{"use strict";m();var Blt=gC&&gC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(gC,"__esModule",{value:!0});gC.StarLoopbackState=void 0;var jlt=K2(),qlt=Ef(),Ult=Cr(),iie=class extends jlt.ATNState{get loopEntryState(){return this.transition(0).target}get stateType(){return qlt.ATNStateType.STAR_LOOP_BACK}};Blt([Ult.Override],iie.prototype,"stateType",null);gC.StarLoopbackState=iie});var e8e=Ae(yC=>{"use strict";m();var $lt=yC&&yC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(yC,"__esModule",{value:!0});yC.TokensStartState=void 0;var zlt=Ef(),Hlt=iv(),Vlt=Cr(),sie=class extends Hlt.DecisionState{get stateType(){return zlt.ATNStateType.TOKEN_START}};$lt([Vlt.Override],sie.prototype,"stateType",null);yC.TokensStartState=sie});var t8e=Ae(gU=>{"use strict";m();Object.defineProperty(gU,"__esModule",{value:!0});gU.UUID=void 0;var Wlt=Pl(),yR=class{constructor(e,t,r,i){this.data=new Uint32Array(4),this.data[0]=e,this.data[1]=t,this.data[2]=r,this.data[3]=i}static fromString(e){if(!/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(e))throw new Error("Incorrectly formatted UUID");let t=e.split("-"),r=parseInt(t[0],16),i=(parseInt(t[1],16)<<16>>>0)+parseInt(t[2],16),s=(parseInt(t[3],16)<<16>>>0)+parseInt(t[4].substr(0,4),16),o=parseInt(t[4].substr(-8),16);return new yR(r,i,s,o)}hashCode(){return Wlt.MurmurHash.hashCode([this.data[0],this.data[1],this.data[2],this.data[3]])}equals(e){return e===this?!0:e instanceof yR?this.data[0]===e.data[0]&&this.data[1]===e.data[1]&&this.data[2]===e.data[2]&&this.data[3]===e.data[3]:!1}toString(){return("00000000"+this.data[0].toString(16)).substr(-8)+"-"+("0000"+(this.data[1]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[1].toString(16)).substr(-4)+"-"+("0000"+(this.data[2]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[2].toString(16)).substr(-4)+("00000000"+this.data[3].toString(16)).substr(-8)}};gU.UUID=yR});var bR=Ae($v=>{"use strict";m();var yU=$v&&$v.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},oie=$v&&$v.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty($v,"__esModule",{value:!0});$v.ATNDeserializer=void 0;var aie=Ore(),Qlt=ty(),Glt=Dm(),Ylt=Rre(),Xf=Ef(),vC=Nre(),n8e=ybe(),vU=mre(),r8e=ry(),_U=vbe(),uie=lR(),Klt=iv(),i8e=hre(),Ey=_be(),lie=xv(),s8e=gre(),Jlt=Ebe(),o8e=bbe(),Xlt=Sbe(),Zlt=Cbe(),ect=wbe(),tct=Abe(),nct=Tbe(),rct=Fbe(),_C=jre(),vR=Cr(),cie=Gq(),fie=dC(),die=Qbe(),a8e=Gbe(),ict=Ybe(),sct=qne(),_R=Kbe(),u8e=Jbe(),Uv=OS(),ER=Kq(),EU=Wq(),hie=Xbe(),pie=Zbe(),EC=zq(),mie=uu(),oct=e8e(),bU=t8e(),act=yre(),l8e;(function(n){n[n.UNICODE_BMP=0]="UNICODE_BMP",n[n.UNICODE_SMP=1]="UNICODE_SMP"})(l8e||(l8e={}));var Si=class{constructor(e){e===void 0&&(e=Ylt.ATNDeserializationOptions.defaultOptions),this.deserializationOptions=e}static get SERIALIZED_VERSION(){return 3}static isFeatureSupported(e,t){let r=Si.SUPPORTED_UUIDS.findIndex(i=>i.equals(e));return r<0?!1:Si.SUPPORTED_UUIDS.findIndex(i=>i.equals(t))>=r}static getUnicodeDeserializer(e){return e===0?{readUnicode:(t,r)=>Si.toInt(t[r]),size:1}:{readUnicode:(t,r)=>Si.toInt32(t,r),size:2}}deserialize(e){e=e.slice(0);for(let I=1;I<e.length;I++)e[I]=e[I]-2&65535;let t=0,r=Si.toInt(e[t++]);if(r!==Si.SERIALIZED_VERSION){let I=`Could not deserialize ATN with version ${r} (expected ${Si.SERIALIZED_VERSION}).`;throw new Error(I)}let i=Si.toUUID(e,t);if(t+=8,Si.SUPPORTED_UUIDS.findIndex(I=>I.equals(i))<0){let I=`Could not deserialize ATN with UUID ${i} (expected ${Si.SERIALIZED_UUID} or a legacy UUID).`;throw new Error(I)}let s=Si.isFeatureSupported(Si.ADDED_LEXER_ACTIONS,i),o=Si.toInt(e[t++]),a=Si.toInt(e[t++]),l=new Glt.ATN(o,a),f=[],p=[],_=Si.toInt(e[t++]);for(let I=0;I<_;I++){let J=Si.toInt(e[t++]);if(J===Xf.ATNStateType.INVALID_TYPE){l.addState(new s8e.InvalidState);continue}let he=Si.toInt(e[t++]);he===65535&&(he=-1);let ye=this.stateFactory(J,he);if(J===Xf.ATNStateType.LOOP_END){let He=Si.toInt(e[t++]);f.push([ye,He])}else if(ye instanceof uie.BlockStartState){let He=Si.toInt(e[t++]);p.push([ye,He])}l.addState(ye)}for(let I of f)I[0].loopBackState=l.states[I[1]];for(let I of p)I[0].endState=l.states[I[1]];let b=Si.toInt(e[t++]);for(let I=0;I<b;I++){let J=Si.toInt(e[t++]);l.states[J].nonGreedy=!0}let R=Si.toInt(e[t++]);for(let I=0;I<R;I++){let J=Si.toInt(e[t++]);l.states[J].sll=!0}let O=Si.toInt(e[t++]);for(let I=0;I<O;I++){let J=Si.toInt(e[t++]);l.states[J].isPrecedenceRule=!0}let j=Si.toInt(e[t++]);l.grammarType===0&&(l.ruleToTokenType=new Int32Array(j)),l.ruleToStartState=new Array(j);for(let I=0;I<j;I++){let J=Si.toInt(e[t++]),he=l.states[J];if(he.leftFactored=Si.toInt(e[t++])!==0,l.ruleToStartState[I]=he,l.grammarType===0){let ye=Si.toInt(e[t++]);if(ye===65535&&(ye=mie.Token.EOF),l.ruleToTokenType[I]=ye,!Si.isFeatureSupported(Si.ADDED_LEXER_ACTIONS,i)){let He=Si.toInt(e[t++]);He===65535&&(He=-1)}}}l.ruleToStopState=new Array(j);for(let I of l.states)I instanceof Uv.RuleStopState&&(l.ruleToStopState[I.ruleIndex]=I,l.ruleToStartState[I.ruleIndex].stopState=I);let $=Si.toInt(e[t++]);for(let I=0;I<$;I++){let J=Si.toInt(e[t++]);l.modeToStartState.push(l.states[J])}l.modeToDFA=new Array($);for(let I=0;I<$;I++)l.modeToDFA[I]=new i8e.DFA(l.modeToStartState[I]);let L=[];t=this.deserializeSets(e,t,L,Si.getUnicodeDeserializer(0)),Si.isFeatureSupported(Si.ADDED_UNICODE_SMP,i)&&(t=this.deserializeSets(e,t,L,Si.getUnicodeDeserializer(1)));let q=Si.toInt(e[t++]);for(let I=0;I<q;I++){let J=Si.toInt(e[t]),he=Si.toInt(e[t+1]),ye=Si.toInt(e[t+2]),He=Si.toInt(e[t+3]),at=Si.toInt(e[t+4]),ct=Si.toInt(e[t+5]),Ze=this.edgeFactory(l,ye,J,he,He,at,ct,L);l.states[J].addTransition(Ze),t+=6}let P=new Qlt.Array2DHashSet({hashCode:I=>I.stopState^I.returnState^I.outermostPrecedenceReturn,equals:(I,J)=>I.stopState===J.stopState&&I.returnState===J.returnState&&I.outermostPrecedenceReturn===J.outermostPrecedenceReturn}),W=[];for(let I of l.states){let J=I.ruleIndex>=0&&l.ruleToStartState[I.ruleIndex].leftFactored;for(let he=0;he<I.numberOfTransitions;he++){let ye=I.transition(he);if(!(ye instanceof ER.RuleTransition))continue;let He=ye;if(!l.ruleToStartState[He.target.ruleIndex].leftFactored&&J)continue;let ct=-1;l.ruleToStartState[He.target.ruleIndex].isPrecedenceRule&&He.precedence===0&&(ct=He.target.ruleIndex);let Ze={stopState:He.target.ruleIndex,returnState:He.followState.stateNumber,outermostPrecedenceReturn:ct};P.add(Ze)&&W.push(Ze)}}for(let I of W){let J=new Ey.EpsilonTransition(l.states[I.returnState],I.outermostPrecedenceReturn);l.ruleToStopState[I.stopState].addTransition(J)}for(let I of l.states){if(I instanceof uie.BlockStartState){if(I.endState===void 0)throw new Error("IllegalStateException");if(I.endState.startState!==void 0)throw new Error("IllegalStateException");I.endState.startState=I}if(I instanceof a8e.PlusLoopbackState){let J=I;for(let he=0;he<J.numberOfTransitions;he++){let ye=J.transition(he).target;ye instanceof die.PlusBlockStartState&&(ye.loopBackState=J)}}else if(I instanceof pie.StarLoopbackState){let J=I;for(let he=0;he<J.numberOfTransitions;he++){let ye=J.transition(he).target;ye instanceof EC.StarLoopEntryState&&(ye.loopBackState=J)}}}let oe=Si.toInt(e[t++]);for(let I=1;I<=oe;I++){let J=Si.toInt(e[t++]),he=l.states[J];l.decisionToState.push(he),he.decision=I-1}if(l.grammarType===0)if(s){l.lexerActions=new Array(Si.toInt(e[t++]));for(let I=0;I<l.lexerActions.length;I++){let J=Si.toInt(e[t++]),he=Si.toInt(e[t++]);he===65535&&(he=-1);let ye=Si.toInt(e[t++]);ye===65535&&(ye=-1);let He=this.lexerActionFactory(J,he,ye);l.lexerActions[I]=He}}else{let I=[];for(let J of l.states)for(let he=0;he<J.numberOfTransitions;he++){let ye=J.transition(he);if(!(ye instanceof aie.ActionTransition))continue;let He=ye.ruleIndex,at=ye.actionIndex,ct=new o8e.LexerCustomAction(He,at);J.setTransition(he,new aie.ActionTransition(ye.target,He,I.length,!1)),I.push(ct)}l.lexerActions=I}this.markPrecedenceDecisions(l),l.decisionToDFA=new Array(oe);for(let I=0;I<oe;I++)l.decisionToDFA[I]=new i8e.DFA(l.decisionToState[I],I);if(this.deserializationOptions.isVerifyATN&&this.verifyATN(l),this.deserializationOptions.isGenerateRuleBypassTransitions&&l.grammarType===1){l.ruleToTokenType=new Int32Array(l.ruleToStartState.length);for(let I=0;I<l.ruleToStartState.length;I++)l.ruleToTokenType[I]=l.maxTokenType+I+1;for(let I=0;I<l.ruleToStartState.length;I++){let J=new n8e.BasicBlockStartState;J.ruleIndex=I,l.addState(J);let he=new _U.BlockEndState;he.ruleIndex=I,l.addState(he),J.endState=he,l.defineDecisionState(J),he.startState=J;let ye,He;if(l.ruleToStartState[I].isPrecedenceRule){ye=void 0;for(let ct of l.states){if(ct.ruleIndex!==I||!(ct instanceof EC.StarLoopEntryState))continue;let Ze=ct.transition(ct.numberOfTransitions-1).target;if(Ze instanceof _C.LoopEndState&&Ze.epsilonOnlyTransitions&&Ze.transition(0).target instanceof Uv.RuleStopState){ye=ct;break}}if(!ye)throw new Error("Couldn't identify final state of the precedence rule prefix section.");He=ye.loopBackState.transition(0)}else ye=l.ruleToStopState[I];for(let ct of l.states)for(let Ze=0;Ze<ct.numberOfTransitions;Ze++){let bt=ct.transition(Ze);bt!==He&&bt.target===ye&&(bt.target=he)}for(;l.ruleToStartState[I].numberOfTransitions>0;){let ct=l.ruleToStartState[I].removeTransition(l.ruleToStartState[I].numberOfTransitions-1);J.addTransition(ct)}l.ruleToStartState[I].addTransition(new Ey.EpsilonTransition(J)),he.addTransition(new Ey.EpsilonTransition(ye));let at=new vU.BasicState;l.addState(at),at.addTransition(new vC.AtomTransition(he,l.ruleToTokenType[I])),J.addTransition(new Ey.EpsilonTransition(at))}this.deserializationOptions.isVerifyATN&&this.verifyATN(l)}if(this.deserializationOptions.isOptimize){for(;;){let I=0;I+=Si.inlineSetRules(l),I+=Si.combineChainedEpsilons(l);let J=l.grammarType===0;if(I+=Si.optimizeSets(l,J),I===0)break}this.deserializationOptions.isVerifyATN&&this.verifyATN(l)}return Si.identifyTailCalls(l),l}deserializeSets(e,t,r,i){let s=Si.toInt(e[t++]);for(let o=0;o<s;o++){let a=Si.toInt(e[t]);t++;let l=new lie.IntervalSet;r.push(l),Si.toInt(e[t++])!==0&&l.add(-1);for(let p=0;p<a;p++){let _=i.readUnicode(e,t);t+=i.size;let b=i.readUnicode(e,t);t+=i.size,l.add(_,b)}}return t}markPrecedenceDecisions(e){let t=new Map;for(let r of e.states)if(r instanceof EC.StarLoopEntryState&&e.ruleToStartState[r.ruleIndex].isPrecedenceRule){let i=r.transition(r.numberOfTransitions-1).target;i instanceof _C.LoopEndState&&i.epsilonOnlyTransitions&&i.transition(0).target instanceof Uv.RuleStopState&&(t.set(r.ruleIndex,r),r.precedenceRuleDecision=!0,r.precedenceLoopbackStates=new r8e.BitSet(e.states.length))}for(let r of t)for(let i of e.ruleToStopState[r[0]].getTransitions())i.serializationType!==1||i.outermostPrecedenceReturn!==-1||r[1].precedenceLoopbackStates.set(i.target.stateNumber)}verifyATN(e){for(let t of e.states)if(this.checkCondition(t!==void 0,"ATN states should not be undefined."),t.stateType!==Xf.ATNStateType.INVALID_TYPE){if(this.checkCondition(t.onlyHasEpsilonTransitions||t.numberOfTransitions<=1),t instanceof die.PlusBlockStartState&&this.checkCondition(t.loopBackState!==void 0),t instanceof EC.StarLoopEntryState){let r=t;if(this.checkCondition(r.loopBackState!==void 0),this.checkCondition(r.numberOfTransitions===2),r.transition(0).target instanceof hie.StarBlockStartState)this.checkCondition(r.transition(1).target instanceof _C.LoopEndState),this.checkCondition(!r.nonGreedy);else if(r.transition(0).target instanceof _C.LoopEndState)this.checkCondition(r.transition(1).target instanceof hie.StarBlockStartState),this.checkCondition(r.nonGreedy);else throw new Error("IllegalStateException")}if(t instanceof pie.StarLoopbackState&&(this.checkCondition(t.numberOfTransitions===1),this.checkCondition(t.transition(0).target instanceof EC.StarLoopEntryState)),t instanceof _C.LoopEndState&&this.checkCondition(t.loopBackState!==void 0),t instanceof u8e.RuleStartState&&this.checkCondition(t.stopState!==void 0),t instanceof uie.BlockStartState&&this.checkCondition(t.endState!==void 0),t instanceof _U.BlockEndState&&this.checkCondition(t.startState!==void 0),t instanceof Klt.DecisionState){let r=t;this.checkCondition(r.numberOfTransitions<=1||r.decision>=0)}else this.checkCondition(t.numberOfTransitions<=1||t instanceof Uv.RuleStopState)}}checkCondition(e,t){if(!e)throw new Error("IllegalStateException: "+t)}static inlineSetRules(e){let t=0,r=new Array(e.ruleToStartState.length);for(let i=0;i<e.ruleToStartState.length;i++){let o=e.ruleToStartState[i];for(;o.onlyHasEpsilonTransitions&&o.numberOfOptimizedTransitions===1&&o.getOptimizedTransition(0).serializationType===1;)o=o.getOptimizedTransition(0).target;if(o.numberOfOptimizedTransitions!==1)continue;let a=o.getOptimizedTransition(0),l=a.target;if(!(a.isEpsilon||!l.onlyHasEpsilonTransitions||l.numberOfOptimizedTransitions!==1||!(l.getOptimizedTransition(0).target instanceof Uv.RuleStopState)))switch(a.serializationType){case 5:case 2:case 7:r[i]=a;break;case 8:case 9:continue;default:continue}}for(let i of e.states){if(i.ruleIndex<0)continue;let s;for(let o=0;o<i.numberOfOptimizedTransitions;o++){let a=i.getOptimizedTransition(o);if(!(a instanceof ER.RuleTransition)){s!==void 0&&s.push(a);continue}let l=a,f=r[l.target.ruleIndex];if(f===void 0){s!==void 0&&s.push(a);continue}if(s===void 0){s=[];for(let b=0;b<o;b++)s.push(i.getOptimizedTransition(o))}t++;let p=l.followState,_=new vU.BasicState;switch(_.setRuleIndex(p.ruleIndex),e.addState(_),s.push(new Ey.EpsilonTransition(_)),f.serializationType){case 5:_.addTransition(new vC.AtomTransition(p,f._label));break;case 2:_.addTransition(new _R.RangeTransition(p,f.from,f.to));break;case 7:_.addTransition(new EU.SetTransition(p,f.label));break;default:throw new Error("UnsupportedOperationException")}}if(s!==void 0){if(i.isOptimized)for(;i.numberOfOptimizedTransitions>0;)i.removeOptimizedTransition(i.numberOfOptimizedTransitions-1);for(let o of s)i.addOptimizedTransition(o)}}return fie.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+t+" rule invocations by inlining sets."),t}static combineChainedEpsilons(e){let t=0;for(let r of e.states){if(!r.onlyHasEpsilonTransitions||r instanceof Uv.RuleStopState)continue;let i;e:for(let s=0;s<r.numberOfOptimizedTransitions;s++){let o=r.getOptimizedTransition(s),a=o.target;if(o.serializationType!==1||o.outermostPrecedenceReturn!==-1||a.stateType!==Xf.ATNStateType.BASIC||!a.onlyHasEpsilonTransitions){i!==void 0&&i.push(o);continue e}for(let l=0;l<a.numberOfOptimizedTransitions;l++)if(a.getOptimizedTransition(l).serializationType!==1||a.getOptimizedTransition(l).outermostPrecedenceReturn!==-1){i!==void 0&&i.push(o);continue e}if(t++,i===void 0){i=[];for(let l=0;l<s;l++)i.push(r.getOptimizedTransition(l))}for(let l=0;l<a.numberOfOptimizedTransitions;l++){let f=a.getOptimizedTransition(l).target;i.push(new Ey.EpsilonTransition(f))}}if(i!==void 0){if(r.isOptimized)for(;r.numberOfOptimizedTransitions>0;)r.removeOptimizedTransition(r.numberOfOptimizedTransitions-1);for(let s of i)r.addOptimizedTransition(s)}}return fie.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+t+" transitions by combining chained epsilon transitions."),t}static optimizeSets(e,t){if(t)return 0;let r=0,i=e.decisionToState;for(let s of i){let o=new lie.IntervalSet;for(let b=0;b<s.numberOfOptimizedTransitions;b++){let R=s.getOptimizedTransition(b);if(!(R instanceof Ey.EpsilonTransition)||R.target.numberOfOptimizedTransitions!==1)continue;let O=R.target.getOptimizedTransition(0);O.target instanceof _U.BlockEndState&&(O instanceof cie.NotSetTransition||(O instanceof vC.AtomTransition||O instanceof _R.RangeTransition||O instanceof EU.SetTransition)&&o.add(b))}if(o.size<=1)continue;let a=[];for(let b=0;b<s.numberOfOptimizedTransitions;b++)o.contains(b)||a.push(s.getOptimizedTransition(b));let l=s.getOptimizedTransition(o.minElement).target.getOptimizedTransition(0).target,f=new lie.IntervalSet;for(let b of o.intervals)for(let R=b.a;R<=b.b;R++){let O=s.getOptimizedTransition(R).target.getOptimizedTransition(0);if(O instanceof cie.NotSetTransition)throw new Error("Not yet implemented.");f.addAll(O.label)}let p;if(f.intervals.length===1)if(f.size===1)p=new vC.AtomTransition(l,f.minElement);else{let b=f.intervals[0];p=new _R.RangeTransition(l,b.a,b.b)}else p=new EU.SetTransition(l,f);let _=new vU.BasicState;if(_.setRuleIndex(s.ruleIndex),e.addState(_),_.addTransition(p),a.push(new Ey.EpsilonTransition(_)),r+=s.numberOfOptimizedTransitions-a.length,s.isOptimized)for(;s.numberOfOptimizedTransitions>0;)s.removeOptimizedTransition(s.numberOfOptimizedTransitions-1);for(let b of a)s.addOptimizedTransition(b)}return fie.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+r+" paths by collapsing sets."),r}static identifyTailCalls(e){for(let t of e.states){for(let r=0;r<t.numberOfTransitions;r++){let i=t.transition(r);i instanceof ER.RuleTransition&&(i.tailCall=this.testTailCall(e,i,!1),i.optimizedTailCall=this.testTailCall(e,i,!0))}if(!!t.isOptimized)for(let r=0;r<t.numberOfOptimizedTransitions;r++){let i=t.getOptimizedTransition(r);i instanceof ER.RuleTransition&&(i.tailCall=this.testTailCall(e,i,!1),i.optimizedTailCall=this.testTailCall(e,i,!0))}}}static testTailCall(e,t,r){if(!r&&t.tailCall||r&&t.optimizedTailCall)return!0;let i=new r8e.BitSet(e.states.length),s=[];for(s.push(t.followState);;){let o=s.pop();if(!o)break;if(i.get(o.stateNumber)||o instanceof Uv.RuleStopState)continue;if(!o.onlyHasEpsilonTransitions)return!1;let a=r?o.numberOfOptimizedTransitions:o.numberOfTransitions;for(let l=0;l<a;l++){let f=r?o.getOptimizedTransition(l):o.transition(l);if(f.serializationType!==1)return!1;s.push(f.target)}}return!0}static toInt(e){return e}static toInt32(e,t){return(e[t]|e[t+1]<<16)>>>0}static toUUID(e,t){let r=Si.toInt32(e,t),i=Si.toInt32(e,t+2),s=Si.toInt32(e,t+4),o=Si.toInt32(e,t+6);return new bU.UUID(o,s,i,r)}edgeFactory(e,t,r,i,s,o,a,l){let f=e.states[i];switch(t){case 1:return new Ey.EpsilonTransition(f);case 2:return a!==0?new _R.RangeTransition(f,mie.Token.EOF,o):new _R.RangeTransition(f,s,o);case 3:return new ER.RuleTransition(e.states[s],o,a,f);case 4:return new sct.PredicateTransition(f,s,o,a!==0);case 10:return new ict.PrecedencePredicateTransition(f,s);case 5:return a!==0?new vC.AtomTransition(f,mie.Token.EOF):new vC.AtomTransition(f,s);case 6:return new aie.ActionTransition(f,s,o,a!==0);case 7:return new EU.SetTransition(f,l[s]);case 8:return new cie.NotSetTransition(f,l[s]);case 9:return new act.WildcardTransition(f)}throw new Error("The specified transition type is not valid.")}stateFactory(e,t){let r;switch(e){case Xf.ATNStateType.INVALID_TYPE:return new s8e.InvalidState;case Xf.ATNStateType.BASIC:r=new vU.BasicState;break;case Xf.ATNStateType.RULE_START:r=new u8e.RuleStartState;break;case Xf.ATNStateType.BLOCK_START:r=new n8e.BasicBlockStartState;break;case Xf.ATNStateType.PLUS_BLOCK_START:r=new die.PlusBlockStartState;break;case Xf.ATNStateType.STAR_BLOCK_START:r=new hie.StarBlockStartState;break;case Xf.ATNStateType.TOKEN_START:r=new oct.TokensStartState;break;case Xf.ATNStateType.RULE_STOP:r=new Uv.RuleStopState;break;case Xf.ATNStateType.BLOCK_END:r=new _U.BlockEndState;break;case Xf.ATNStateType.STAR_LOOP_BACK:r=new pie.StarLoopbackState;break;case Xf.ATNStateType.STAR_LOOP_ENTRY:r=new EC.StarLoopEntryState;break;case Xf.ATNStateType.PLUS_LOOP_BACK:r=new a8e.PlusLoopbackState;break;case Xf.ATNStateType.LOOP_END:r=new _C.LoopEndState;break;default:let i=`The specified state type ${e} is not valid.`;throw new Error(i)}return r.ruleIndex=t,r}lexerActionFactory(e,t,r){switch(e){case 0:return new Jlt.LexerChannelAction(t);case 1:return new o8e.LexerCustomAction(t,r);case 2:return new Xlt.LexerModeAction(t);case 3:return Zlt.LexerMoreAction.INSTANCE;case 4:return ect.LexerPopModeAction.INSTANCE;case 5:return new tct.LexerPushModeAction(t);case 6:return nct.LexerSkipAction.INSTANCE;case 7:return new rct.LexerTypeAction(t);default:let i=`The specified lexer action type ${e} is not valid.`;throw new Error(i)}}};Si.BASE_SERIALIZED_UUID=bU.UUID.fromString("E4178468-DF95-44D0-AD87-F22A5D5FB6D3");Si.ADDED_LEXER_ACTIONS=bU.UUID.fromString("AB35191A-1603-487E-B75A-479B831EAF6D");Si.ADDED_UNICODE_SMP=bU.UUID.fromString("C23FEA89-0605-4f51-AFB8-058BCAB8C91B");Si.SUPPORTED_UUIDS=[Si.BASE_SERIALIZED_UUID,Si.ADDED_LEXER_ACTIONS,Si.ADDED_UNICODE_SMP];Si.SERIALIZED_UUID=Si.ADDED_UNICODE_SMP;yU([vR.NotNull],Si.prototype,"deserializationOptions",void 0);yU([oie(0,vR.NotNull)],Si.prototype,"deserialize",null);yU([oie(0,vR.NotNull)],Si.prototype,"markPrecedenceDecisions",null);yU([vR.NotNull,oie(0,vR.NotNull)],Si.prototype,"edgeFactory",null);$v.ATNDeserializer=Si});var c8e=Ae(zv=>{"use strict";m();var xie=zv&&zv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},uct=zv&&zv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(zv,"__esModule",{value:!0});zv.ParseInfo=void 0;var gie=Cr(),SR=class{constructor(e){this.atnSimulator=e}getDecisionInfo(){return this.atnSimulator.getDecisionInfo()}getLLDecisions(){let e=this.atnSimulator.getDecisionInfo(),t=[];for(let r=0;r<e.length;r++)e[r].LL_Fallback>0&&t.push(r);return t}getTotalTimeInPrediction(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.timeInPrediction;return t}getTotalSLLLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.SLL_TotalLook;return t}getTotalLLLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.LL_TotalLook;return t}getTotalSLLATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.SLL_ATNTransitions;return t}getTotalLLATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.LL_ATNTransitions;return t}getTotalATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.SLL_ATNTransitions,t+=r.LL_ATNTransitions;return t}getDFASize(e){if(e)return this.atnSimulator.atn.decisionToDFA[e].states.size;{let t=0,r=this.atnSimulator.atn.decisionToDFA;for(let i=0;i<r.length;i++)t+=this.getDFASize(i);return t}}};xie([gie.NotNull],SR.prototype,"getDecisionInfo",null);xie([gie.NotNull],SR.prototype,"getLLDecisions",null);SR=xie([uct(0,gie.NotNull)],SR);zv.ParseInfo=SR});var _ie=Ae(bC=>{"use strict";m();var yie=bC&&bC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(bC,"__esModule",{value:!0});bC.ProxyParserErrorListener=void 0;var lct=qq(),vie=Cr(),CR=class extends lct.ProxyErrorListener{constructor(e){super(e)}reportAmbiguity(e,t,r,i,s,o,a){this.getDelegates().forEach(l=>{l.reportAmbiguity&&l.reportAmbiguity(e,t,r,i,s,o,a)})}reportAttemptingFullContext(e,t,r,i,s,o){this.getDelegates().forEach(a=>{a.reportAttemptingFullContext&&a.reportAttemptingFullContext(e,t,r,i,s,o)})}reportContextSensitivity(e,t,r,i,s,o){this.getDelegates().forEach(a=>{a.reportContextSensitivity&&a.reportContextSensitivity(e,t,r,i,s,o)})}};yie([vie.Override],CR.prototype,"reportAmbiguity",null);yie([vie.Override],CR.prototype,"reportAttemptingFullContext",null);yie([vie.Override],CR.prototype,"reportContextSensitivity",null);bC.ProxyParserErrorListener=CR});var f8e=Ae(Hv=>{"use strict";m();Object.defineProperty(Hv,"__esModule",{value:!0});Hv.isSupplementaryCodePoint=Hv.isLowSurrogate=Hv.isHighSurrogate=void 0;function cct(n){return n>=55296&&n<=56319}Hv.isHighSurrogate=cct;function fct(n){return n>=56320&&n<=57343}Hv.isLowSurrogate=fct;function dct(n){return n>=65536}Hv.isSupplementaryCodePoint=dct});var Eie=Ae(CC=>{"use strict";m();Object.defineProperty(CC,"__esModule",{value:!0});CC.CodePointBuffer=void 0;var d8e=M0(),wR=f8e(),SC=class{constructor(e,t){this.buffer=e,this._position=0,this._size=t}static withArray(e){return new SC(e,e.length)}get position(){return this._position}set position(e){if(e<0||e>this._size)throw new RangeError;this._position=e}get remaining(){return this._size-this.position}get(e){return this.buffer[e]}array(){return this.buffer.slice(0,this._size)}static builder(e){return new SC.Builder(e)}};CC.CodePointBuffer=SC;(function(n){let e;(function(r){r[r.BYTE=0]="BYTE",r[r.CHAR=1]="CHAR",r[r.INT=2]="INT"})(e||(e={}));class t{constructor(i){this.type=0,this.buffer=new Uint8Array(i),this.prevHighSurrogate=-1,this.position=0}build(){return new n(this.buffer,this.position)}static roundUpToNextPowerOfTwo(i){let s=32-Math.clz32(i-1);return Math.pow(2,s)}ensureRemaining(i){switch(this.type){case 0:if(this.buffer.length-this.position<i){let s=t.roundUpToNextPowerOfTwo(this.buffer.length+i),o=new Uint8Array(s);o.set(this.buffer.subarray(0,this.position),0),this.buffer=o}break;case 1:if(this.buffer.length-this.position<i){let s=t.roundUpToNextPowerOfTwo(this.buffer.length+i),o=new Uint16Array(s);o.set(this.buffer.subarray(0,this.position),0),this.buffer=o}break;case 2:if(this.buffer.length-this.position<i){let s=t.roundUpToNextPowerOfTwo(this.buffer.length+i),o=new Int32Array(s);o.set(this.buffer.subarray(0,this.position),0),this.buffer=o}break}}append(i){this.ensureRemaining(i.length),this.appendArray(i)}appendArray(i){switch(this.type){case 0:this.appendArrayByte(i);break;case 1:this.appendArrayChar(i);break;case 2:this.appendArrayInt(i);break}}appendArrayByte(i){d8e(this.prevHighSurrogate===-1);let s=i,o=0,a=i.length,l=this.buffer,f=this.position;for(;o<a;){let p=s[o];if(p<=255)l[f]=p;else if(i=i.subarray(o,a),this.position=f,wR.isHighSurrogate(p)){this.byteToIntBuffer(i.length),this.appendArrayInt(i);return}else{this.byteToCharBuffer(i.length),this.appendArrayChar(i);return}o++,f++}this.position=f}appendArrayChar(i){d8e(this.prevHighSurrogate===-1);let s=i,o=0,a=i.length,l=this.buffer,f=this.position;for(;o<a;){let p=s[o];if(!wR.isHighSurrogate(p))l[f]=p;else{i=i.subarray(o,a),this.position=f,this.charToIntBuffer(i.length),this.appendArrayInt(i);return}o++,f++}this.position=f}appendArrayInt(i){let s=i,o=0,a=i.length,l=this.buffer,f=this.position;for(;o<a;){let p=s[o];o++,this.prevHighSurrogate!==-1?wR.isLowSurrogate(p)?(l[f]=String.fromCharCode(this.prevHighSurrogate,p).codePointAt(0),f++,this.prevHighSurrogate=-1):(l[f]=this.prevHighSurrogate,f++,wR.isHighSurrogate(p)?this.prevHighSurrogate=p:(l[f]=p,f++,this.prevHighSurrogate=-1)):wR.isHighSurrogate(p)?this.prevHighSurrogate=p:(l[f]=p,f++)}this.prevHighSurrogate!==-1&&(l[f]=this.prevHighSurrogate,f++),this.position=f}byteToCharBuffer(i){let s=new Uint16Array(Math.max(this.position+i,this.buffer.length>>1));s.set(this.buffer.subarray(0,this.position),0),this.type=1,this.buffer=s}byteToIntBuffer(i){let s=new Int32Array(Math.max(this.position+i,this.buffer.length>>2));s.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=s}charToIntBuffer(i){let s=new Int32Array(Math.max(this.position+i,this.buffer.length>>1));s.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=s}}n.Builder=t})(SC=CC.CodePointBuffer||(CC.CodePointBuffer={}))});var bie=Ae(wC=>{"use strict";m();var yx=wC&&wC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(wC,"__esModule",{value:!0});wC.CodePointCharStream=void 0;var h8e=M0(),SU=Jg(),hct=j0(),vx=Cr(),vh=class{constructor(e,t,r,i){h8e(t===0),this._array=e,this._size=r,this._name=i,this._position=0}get internalStorage(){return this._array}static fromBuffer(e,t){return(t===void 0||t.length===0)&&(t=SU.IntStream.UNKNOWN_SOURCE_NAME),new vh(e.array(),e.position,e.remaining,t)}consume(){if(this._size-this._position===0)throw h8e(this.LA(1)===SU.IntStream.EOF),new RangeError("cannot consume EOF");this._position++}get index(){return this._position}get size(){return this._size}mark(){return-1}release(e){}seek(e){this._position=e}get sourceName(){return this._name}toString(){return this.getText(hct.Interval.of(0,this.size-1))}LA(e){let t;switch(Math.sign(e)){case-1:return t=this.index+e,t<0?SU.IntStream.EOF:this._array[t];case 0:return 0;case 1:return t=this.index+e-1,t>=this.size?SU.IntStream.EOF:this._array[t]}throw new RangeError("Not reached")}getText(e){let t=Math.min(e.a,this.size),r=Math.min(e.b-e.a+1,this.size-t);return this._array instanceof Int32Array?String.fromCodePoint(...Array.from(this._array.subarray(t,t+r))):String.fromCharCode(...Array.from(this._array.subarray(t,t+r)))}};yx([vx.Override],vh.prototype,"consume",null);yx([vx.Override],vh.prototype,"index",null);yx([vx.Override],vh.prototype,"size",null);yx([vx.Override],vh.prototype,"mark",null);yx([vx.Override],vh.prototype,"release",null);yx([vx.Override],vh.prototype,"seek",null);yx([vx.Override],vh.prototype,"sourceName",null);yx([vx.Override],vh.prototype,"toString",null);yx([vx.Override],vh.prototype,"LA",null);yx([vx.Override],vh.prototype,"getText",null);wC.CodePointCharStream=vh});var CU=Ae(AR=>{"use strict";m();Object.defineProperty(AR,"__esModule",{value:!0});AR.CharStreams=void 0;var pct=Eie(),mct=bie(),xct=Jg(),gct;(function(n){function e(t,r){(r===void 0||r.length===0)&&(r=xct.IntStream.UNKNOWN_SOURCE_NAME);let i=pct.CodePointBuffer.builder(t.length),s=new Uint16Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return i.append(s),mct.CodePointCharStream.fromBuffer(i.build(),r)}n.fromString=e})(gct=AR.CharStreams||(AR.CharStreams={}))});var wie=Ae(Vv=>{"use strict";m();var Ad=Vv&&Vv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},yct=Vv&&Vv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Vv,"__esModule",{value:!0});Vv.BufferedTokenStream=void 0;var p8e=M0(),m8e=mS(),Sie=j0(),Cie=fy(),Sf=Cr(),Z6=uu(),Zf=class{constructor(e){if(this.tokens=[],this.p=-1,this.fetchedEOF=!1,e==null)throw new Error("tokenSource cannot be null");this._tokenSource=e}get tokenSource(){return this._tokenSource}set tokenSource(e){this._tokenSource=e,this.tokens.length=0,this.p=-1,this.fetchedEOF=!1}get index(){return this.p}mark(){return 0}release(e){}seek(e){this.lazyInit(),this.p=this.adjustSeekIndex(e)}get size(){return this.tokens.length}consume(){let e;if(this.p>=0?this.fetchedEOF?e=this.p<this.tokens.length-1:e=this.p<this.tokens.length:e=!1,!e&&this.LA(1)===Z6.Token.EOF)throw new Error("cannot consume EOF");this.sync(this.p+1)&&(this.p=this.adjustSeekIndex(this.p+1))}sync(e){p8e(e>=0);let t=e-this.tokens.length+1;return t>0?this.fetch(t)>=t:!0}fetch(e){if(this.fetchedEOF)return 0;for(let t=0;t<e;t++){let r=this.tokenSource.nextToken();if(this.isWritableToken(r)&&(r.tokenIndex=this.tokens.length),this.tokens.push(r),r.type===Z6.Token.EOF)return this.fetchedEOF=!0,t+1}return e}get(e){if(e<0||e>=this.tokens.length)throw new RangeError("token index "+e+" out of range 0.."+(this.tokens.length-1));return this.tokens[e]}getRange(e,t){if(e<0||t<0)return[];this.lazyInit();let r=new Array;t>=this.tokens.length&&(t=this.tokens.length-1);for(let i=e;i<=t;i++){let s=this.tokens[i];if(s.type===Z6.Token.EOF)break;r.push(s)}return r}LA(e){let t=this.LT(e);return t?t.type:Z6.Token.INVALID_TYPE}tryLB(e){if(!(this.p-e<0))return this.tokens[this.p-e]}LT(e){let t=this.tryLT(e);if(t===void 0)throw new RangeError("requested lookback index out of range");return t}tryLT(e){if(this.lazyInit(),e===0)throw new RangeError("0 is not a valid lookahead index");if(e<0)return this.tryLB(-e);let t=this.p+e-1;return this.sync(t),t>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[t]}adjustSeekIndex(e){return e}lazyInit(){this.p===-1&&this.setup()}setup(){this.sync(0),this.p=this.adjustSeekIndex(0)}getTokens(e,t,r){if(this.lazyInit(),e===void 0)return p8e(t===void 0&&r===void 0),this.tokens;if(t===void 0&&(t=this.tokens.length-1),e<0||t>=this.tokens.length||t<0||e>=this.tokens.length)throw new RangeError("start "+e+" or stop "+t+" not in 0.."+(this.tokens.length-1));if(e>t)return[];if(r===void 0)return this.tokens.slice(e,t+1);typeof r=="number"&&(r=new Set().add(r));let i=r,s=this.tokens.slice(e,t+1);return s=s.filter(o=>i.has(o.type)),s}nextTokenOnChannel(e,t){if(this.sync(e),e>=this.size)return this.size-1;let r=this.tokens[e];for(;r.channel!==t;){if(r.type===Z6.Token.EOF)return e;e++,this.sync(e),r=this.tokens[e]}return e}previousTokenOnChannel(e,t){if(this.sync(e),e>=this.size)return this.size-1;for(;e>=0;){let r=this.tokens[e];if(r.type===Z6.Token.EOF||r.channel===t)return e;e--}return e}getHiddenTokensToRight(e,t=-1){if(this.lazyInit(),e<0||e>=this.tokens.length)throw new RangeError(e+" not in 0.."+(this.tokens.length-1));let r=this.nextTokenOnChannel(e+1,Cie.Lexer.DEFAULT_TOKEN_CHANNEL),i,s=e+1;return r===-1?i=this.size-1:i=r,this.filterForChannel(s,i,t)}getHiddenTokensToLeft(e,t=-1){if(this.lazyInit(),e<0||e>=this.tokens.length)throw new RangeError(e+" not in 0.."+(this.tokens.length-1));if(e===0)return[];let r=this.previousTokenOnChannel(e-1,Cie.Lexer.DEFAULT_TOKEN_CHANNEL);if(r===e-1)return[];let i=r+1,s=e-1;return this.filterForChannel(i,s,t)}filterForChannel(e,t,r){let i=new Array;for(let s=e;s<=t;s++){let o=this.tokens[s];r===-1?o.channel!==Cie.Lexer.DEFAULT_TOKEN_CHANNEL&&i.push(o):o.channel===r&&i.push(o)}return i}get sourceName(){return this.tokenSource.sourceName}getText(e){e===void 0?e=Sie.Interval.of(0,this.size-1):e instanceof Sie.Interval||(e=e.sourceInterval);let t=e.a,r=e.b;if(t<0||r<0)return"";this.fill(),r>=this.tokens.length&&(r=this.tokens.length-1);let i="";for(let s=t;s<=r;s++){let o=this.tokens[s];if(o.type===Z6.Token.EOF)break;i+=o.text}return i.toString()}getTextFromRange(e,t){return this.isToken(e)&&this.isToken(t)?this.getText(Sie.Interval.of(e.tokenIndex,t.tokenIndex)):""}fill(){this.lazyInit();let e=1e3;for(;;)if(this.fetch(e)<e)return}isWritableToken(e){return e instanceof m8e.CommonToken}isToken(e){return e instanceof m8e.CommonToken}};Ad([Sf.NotNull],Zf.prototype,"_tokenSource",void 0);Ad([Sf.Override],Zf.prototype,"tokenSource",null);Ad([Sf.Override],Zf.prototype,"index",null);Ad([Sf.Override],Zf.prototype,"mark",null);Ad([Sf.Override],Zf.prototype,"release",null);Ad([Sf.Override],Zf.prototype,"seek",null);Ad([Sf.Override],Zf.prototype,"size",null);Ad([Sf.Override],Zf.prototype,"consume",null);Ad([Sf.Override],Zf.prototype,"get",null);Ad([Sf.Override],Zf.prototype,"LA",null);Ad([Sf.NotNull,Sf.Override],Zf.prototype,"LT",null);Ad([Sf.Override],Zf.prototype,"sourceName",null);Ad([Sf.NotNull,Sf.Override],Zf.prototype,"getText",null);Ad([Sf.NotNull,Sf.Override],Zf.prototype,"getTextFromRange",null);Zf=Ad([yct(0,Sf.NotNull)],Zf);Vv.BufferedTokenStream=Zf});var TU=Ae(Wv=>{"use strict";m();var wU=Wv&&Wv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},vct=Wv&&Wv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Wv,"__esModule",{value:!0});Wv.CommonTokenStream=void 0;var _ct=wie(),AU=Cr(),x8e=uu(),AC=class extends _ct.BufferedTokenStream{constructor(e,t=x8e.Token.DEFAULT_CHANNEL){super(e);this.channel=t}adjustSeekIndex(e){return this.nextTokenOnChannel(e,this.channel)}tryLB(e){if(this.p-e<0)return;let t=this.p,r=1;for(;r<=e&&t>0;)t=this.previousTokenOnChannel(t-1,this.channel),r++;if(!(t<0))return this.tokens[t]}tryLT(e){if(this.lazyInit(),e===0)throw new RangeError("0 is not a valid lookahead index");if(e<0)return this.tryLB(-e);let t=this.p,r=1;for(;r<e;)this.sync(t+1)&&(t=this.nextTokenOnChannel(t+1,this.channel)),r++;return this.tokens[t]}getNumberOfOnChannelTokens(){let e=0;this.fill();for(let t of this.tokens)if(t.channel===this.channel&&e++,t.type===x8e.Token.EOF)break;return e}};wU([AU.Override],AC.prototype,"adjustSeekIndex",null);wU([AU.Override],AC.prototype,"tryLB",null);wU([AU.Override],AC.prototype,"tryLT",null);AC=wU([vct(0,AU.NotNull)],AC);Wv.CommonTokenStream=AC});var Tie=Ae(Qv=>{"use strict";m();var eE=Qv&&Qv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},g8e=Qv&&Qv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Qv,"__esModule",{value:!0});Qv.ListTokenSource=void 0;var Ect=Cq(),by=Cr(),Aie=uu(),Sy=class{constructor(e,t){if(this.i=0,this._factory=Ect.CommonTokenFactory.DEFAULT,e==null)throw new Error("tokens cannot be null");this.tokens=e,this._sourceName=t}get charPositionInLine(){if(this.i<this.tokens.length)return this.tokens[this.i].charPositionInLine;if(this.eofToken!=null)return this.eofToken.charPositionInLine;if(this.tokens.length>0){let e=this.tokens[this.tokens.length-1],t=e.text;if(t!=null){let r=t.lastIndexOf(`
`);if(r>=0)return t.length-r-1}return e.charPositionInLine+e.stopIndex-e.startIndex+1}return 0}nextToken(){if(this.i>=this.tokens.length){if(this.eofToken==null){let t=-1;if(this.tokens.length>0){let i=this.tokens[this.tokens.length-1].stopIndex;i!==-1&&(t=i+1)}let r=Math.max(-1,t-1);this.eofToken=this._factory.create({source:this,stream:this.inputStream},Aie.Token.EOF,"EOF",Aie.Token.DEFAULT_CHANNEL,t,r,this.line,this.charPositionInLine)}return this.eofToken}let e=this.tokens[this.i];return this.i===this.tokens.length-1&&e.type===Aie.Token.EOF&&(this.eofToken=e),this.i++,e}get line(){if(this.i<this.tokens.length)return this.tokens[this.i].line;if(this.eofToken!=null)return this.eofToken.line;if(this.tokens.length>0){let e=this.tokens[this.tokens.length-1],t=e.line,r=e.text;if(r!=null)for(let i=0;i<r.length;i++)r.charAt(i)===`
`&&t++;return t}return 1}get inputStream(){if(this.i<this.tokens.length)return this.tokens[this.i].inputStream;if(this.eofToken!=null)return this.eofToken.inputStream;if(this.tokens.length>0)return this.tokens[this.tokens.length-1].inputStream}get sourceName(){if(this._sourceName)return this._sourceName;let e=this.inputStream;return e!=null?e.sourceName:"List"}set tokenFactory(e){this._factory=e}get tokenFactory(){return this._factory}};eE([by.Override],Sy.prototype,"charPositionInLine",null);eE([by.Override],Sy.prototype,"nextToken",null);eE([by.Override],Sy.prototype,"line",null);eE([by.Override],Sy.prototype,"inputStream",null);eE([by.Override],Sy.prototype,"sourceName",null);eE([by.Override,by.NotNull,g8e(0,by.NotNull)],Sy.prototype,"tokenFactory",null);Sy=eE([g8e(0,by.NotNull)],Sy);Qv.ListTokenSource=Sy});var v8e=Ae(FU=>{"use strict";m();Object.defineProperty(FU,"__esModule",{value:!0});FU.MultiMap=void 0;var y8e=class extends Map{constructor(){super()}map(e,t){let r=super.get(e);r||(r=[],super.set(e,r)),r.push(t)}getPairs(){let e=[];return this.forEach((t,r)=>{t.forEach(i=>{e.push([r,i])})}),e}};FU.MultiMap=y8e});var Fie=Ae(DU=>{"use strict";m();Object.defineProperty(DU,"__esModule",{value:!0});DU.ParseCancellationException=void 0;var _8e=class extends Error{constructor(e){super(e.message);this.cause=e,this.stack=e.stack}getCause(){return this.cause}};DU.ParseCancellationException=_8e});var Rie=Ae(TC=>{"use strict";m();var bct=TC&&TC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(TC,"__esModule",{value:!0});TC.InterpreterRuleContext=void 0;var Sct=Cr(),Cct=y1(),Die=class extends Cct.ParserRuleContext{constructor(e,t,r){r!==void 0?super(t,r):super(),this._ruleIndex=e}get ruleIndex(){return this._ruleIndex}};bct([Sct.Override],Die.prototype,"ruleIndex",null);TC.InterpreterRuleContext=Die});var Nie=Ae(Yv=>{"use strict";m();var Gv=Yv&&Yv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},wct=Yv&&Yv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Yv,"__esModule",{value:!0});Yv.ParserInterpreter=void 0;var Act=K2(),Tct=Ef(),Fct=ry(),E8e=PD(),Dct=BD(),Rct=Rie(),Oct=jre(),b8e=Cr(),FC=Cr(),Nct=aC(),S8e=dC(),Lct=Zg(),kct=zq(),TR=uu(),_x=class Oie extends Nct.Parser{constructor(e,t,r,i,s){super(e instanceof Oie?e.inputStream:s);if(this._parentContextStack=[],this.overrideDecision=-1,this.overrideDecisionInputIndex=-1,this.overrideDecisionAlt=-1,this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0,e instanceof Oie){let o=e;this._grammarFileName=o._grammarFileName,this._atn=o._atn,this.pushRecursionContextStates=o.pushRecursionContextStates,this._ruleNames=o._ruleNames,this._vocabulary=o._vocabulary,this.interpreter=new S8e.ParserATNSimulator(this._atn,this)}else{t=t,r=r,i=i,this._grammarFileName=e,this._atn=i,this._ruleNames=r.slice(0),this._vocabulary=t,this.pushRecursionContextStates=new Fct.BitSet(i.states.length);for(let o of i.states)o instanceof kct.StarLoopEntryState&&o.precedenceRuleDecision&&this.pushRecursionContextStates.set(o.stateNumber);this.interpreter=new S8e.ParserATNSimulator(i,this)}}reset(e){e===void 0?super.reset():super.reset(e),this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0}get atn(){return this._atn}get vocabulary(){return this._vocabulary}get ruleNames(){return this._ruleNames}get grammarFileName(){return this._grammarFileName}parse(e){let t=this._atn.ruleToStartState[e];for(this._rootContext=this.createInterpreterRuleContext(void 0,Act.ATNState.INVALID_STATE_NUMBER,e),t.isPrecedenceRule?this.enterRecursionRule(this._rootContext,t.stateNumber,e,0):this.enterRule(this._rootContext,t.stateNumber,e);;){let r=this.atnState;switch(r.stateType){case Tct.ATNStateType.RULE_STOP:if(this._ctx.isEmpty)if(t.isPrecedenceRule){let i=this._ctx,s=this._parentContextStack.pop();return this.unrollRecursionContexts(s[0]),i}else return this.exitRule(),this._rootContext;this.visitRuleStopState(r);break;default:try{this.visitState(r)}catch(i){if(i instanceof Lct.RecognitionException)this.state=this._atn.ruleToStopState[r.ruleIndex].stateNumber,this.context.exception=i,this.errorHandler.reportError(this,i),this.recover(i);else throw i}break}}}enterRecursionRule(e,t,r,i){this._parentContextStack.push([this._ctx,e.invokingState]),super.enterRecursionRule(e,t,r,i)}get atnState(){return this._atn.states[this.state]}visitState(e){let t=1;e.numberOfTransitions>1&&(t=this.visitDecisionState(e));let r=e.transition(t-1);switch(r.serializationType){case 1:if(this.pushRecursionContextStates.get(e.stateNumber)&&!(r.target instanceof Oct.LoopEndState)){let f=this._parentContextStack[this._parentContextStack.length-1],p=this.createInterpreterRuleContext(f[0],f[1],this._ctx.ruleIndex);this.pushNewRecursionContext(p,this._atn.ruleToStartState[e.ruleIndex].stateNumber,this._ctx.ruleIndex)}break;case 5:this.match(r._label);break;case 2:case 7:case 8:r.matches(this._input.LA(1),TR.Token.MIN_USER_TOKEN_TYPE,65535)||this.recoverInline(),this.matchWildcard();break;case 9:this.matchWildcard();break;case 3:let i=r.target,s=i.ruleIndex,o=this.createInterpreterRuleContext(this._ctx,e.stateNumber,s);i.isPrecedenceRule?this.enterRecursionRule(o,i.stateNumber,s,r.precedence):this.enterRule(o,r.target.stateNumber,s);break;case 4:let a=r;if(!this.sempred(this._ctx,a.ruleIndex,a.predIndex))throw new E8e.FailedPredicateException(this);break;case 6:let l=r;this.action(this._ctx,l.ruleIndex,l.actionIndex);break;case 10:if(!this.precpred(this._ctx,r.precedence)){let f=r.precedence;throw new E8e.FailedPredicateException(this,`precpred(_ctx, ${f})`)}break;default:throw new Error("UnsupportedOperationException: Unrecognized ATN transition type.")}this.state=r.target.stateNumber}visitDecisionState(e){let t;this.errorHandler.sync(this);let r=e.decision;return r===this.overrideDecision&&this._input.index===this.overrideDecisionInputIndex&&!this.overrideDecisionReached?(t=this.overrideDecisionAlt,this.overrideDecisionReached=!0):t=this.interpreter.adaptivePredict(this._input,r,this._ctx),t}createInterpreterRuleContext(e,t,r){return new Rct.InterpreterRuleContext(r,e,t)}visitRuleStopState(e){if(this._atn.ruleToStartState[e.ruleIndex].isPrecedenceRule){let i=this._parentContextStack.pop();this.unrollRecursionContexts(i[0]),this.state=i[1]}else this.exitRule();let r=this._atn.states[this.state].transition(0);this.state=r.followState.stateNumber}addDecisionOverride(e,t,r){this.overrideDecision=e,this.overrideDecisionInputIndex=t,this.overrideDecisionAlt=r}get overrideDecisionRoot(){return this._overrideDecisionRoot}recover(e){let t=this._input.index;if(this.errorHandler.recover(this,e),this._input.index===t){let r=e.getOffendingToken();if(!r)throw new Error("Expected exception to have an offending token");let i=r.tokenSource,s=i!==void 0?i.inputStream:void 0,o={source:i,stream:s};if(e instanceof Dct.InputMismatchException){let a=e.expectedTokens;if(a===void 0)throw new Error("Expected the exception to provide expected tokens");let l=TR.Token.INVALID_TYPE;a.isNil||(l=a.minElement);let f=this.tokenFactory.create(o,l,r.text,TR.Token.DEFAULT_CHANNEL,-1,-1,r.line,r.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,f))}else{let a=r.tokenSource,l=this.tokenFactory.create(o,TR.Token.INVALID_TYPE,r.text,TR.Token.DEFAULT_CHANNEL,-1,-1,r.line,r.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,l))}}}recoverInline(){return this._errHandler.recoverInline(this)}get rootContext(){return this._rootContext}};Gv([b8e.NotNull],_x.prototype,"_vocabulary",void 0);Gv([FC.Override],_x.prototype,"reset",null);Gv([FC.Override],_x.prototype,"atn",null);Gv([FC.Override],_x.prototype,"vocabulary",null);Gv([FC.Override],_x.prototype,"ruleNames",null);Gv([FC.Override],_x.prototype,"grammarFileName",null);Gv([FC.Override],_x.prototype,"enterRecursionRule",null);_x=Gv([wct(1,b8e.NotNull)],_x);Yv.ParserInterpreter=_x});var C8e=Ae(Jv=>{"use strict";m();var DC=Jv&&Jv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},RU=Jv&&Jv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Jv,"__esModule",{value:!0});Jv.ParseTreeMatch=void 0;var Cy=Cr(),Kv=class{constructor(e,t,r,i){if(!e)throw new Error("tree cannot be null");if(!t)throw new Error("pattern cannot be null");if(!r)throw new Error("labels cannot be null");this._tree=e,this._pattern=t,this._labels=r,this._mismatchedNode=i}get(e){let t=this._labels.get(e);if(!(!t||t.length===0))return t[t.length-1]}getAll(e){let t=this._labels.get(e);return t||[]}get labels(){return this._labels}get mismatchedNode(){return this._mismatchedNode}get succeeded(){return!this._mismatchedNode}get pattern(){return this._pattern}get tree(){return this._tree}toString(){return`Match ${this.succeeded?"succeeded":"failed"}; found ${this.labels.size} labels`}};DC([Cy.NotNull,RU(0,Cy.NotNull)],Kv.prototype,"getAll",null);DC([Cy.NotNull],Kv.prototype,"labels",null);DC([Cy.NotNull],Kv.prototype,"pattern",null);DC([Cy.NotNull],Kv.prototype,"tree",null);DC([Cy.Override],Kv.prototype,"toString",null);Kv=DC([RU(0,Cy.NotNull),RU(1,Cy.NotNull),RU(2,Cy.NotNull)],Kv);Jv.ParseTreeMatch=Kv});var A8e=Ae(OU=>{"use strict";m();Object.defineProperty(OU,"__esModule",{value:!0});OU.XPathLexer=void 0;var Ict=bR(),Mct=fy(),Pct=sR(),Bct=ay(),w8e=Fm(),qo=class extends Mct.Lexer{constructor(e){super(e);this._interp=new Pct.LexerATNSimulator(qo._ATN,this)}get vocabulary(){return qo.VOCABULARY}get grammarFileName(){return"XPathLexer.g4"}get ruleNames(){return qo.ruleNames}get serializedATN(){return qo._serializedATN}get channelNames(){return qo.channelNames}get modeNames(){return qo.modeNames}action(e,t,r){switch(t){case 4:this.ID_action(e,r);break}}ID_action(e,t){switch(t){case 0:let r=this.text;r.charAt(0)===r.charAt(0).toUpperCase()?this.type=qo.TOKEN_REF:this.type=qo.RULE_REF;break}}static get _ATN(){return qo.__ATN||(qo.__ATN=new Ict.ATNDeserializer().deserialize(w8e.toCharArray(qo._serializedATN))),qo.__ATN}};OU.XPathLexer=qo;qo.TOKEN_REF=1;qo.RULE_REF=2;qo.ANYWHERE=3;qo.ROOT=4;qo.WILDCARD=5;qo.BANG=6;qo.ID=7;qo.STRING=8;qo.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"];qo.modeNames=["DEFAULT_MODE"];qo.ruleNames=["ANYWHERE","ROOT","WILDCARD","BANG","ID","NameChar","NameStartChar","STRING"];qo._LITERAL_NAMES=[void 0,void 0,void 0,"'//'","'/'","'*'","'!'"];qo._SYMBOLIC_NAMES=[void 0,"TOKEN_REF","RULE_REF","ANYWHERE","ROOT","WILDCARD","BANG","ID","STRING"];qo.VOCABULARY=new Bct.VocabularyImpl(qo._LITERAL_NAMES,qo._SYMBOLIC_NAMES,[]);qo._serializedATNSegments=2;qo._serializedATNSegment0=`\uC91D\uCABA\u058D\uAFBA\u4F53\u0607\uEA8B\uC241
2\b					\x07	\x07\b	\b			\x07
\f"\v\x07\x07\b\b		\x07	,
	\f		/\v			-
\x07\x07	\b\v	\r
\u02B6
2;C\\aac|\x81\xA1\xAC\xAC\xAF\xAF\xB7\xB7\xBC\xBC\xC2\xD8\xDA\xF8\xFA\u02C3\u02C8\u02D3\u02E2\u02E6\u02EE\u02EE\u02F0\u02F0\u0302\u0376\u0378\u0379\u037C\u037F\u0381\u0381\u0388\u0388\u038A\u038C\u038E\u038E\u0390\u03A3\u03A5\u03F7\u03F9\u0483\u0485\u0489\u048C\u0531\u0533\u0558\u055B\u055B\u0563\u0589\u0593\u05BF\u05C1\u05C1\u05C3\u05C4\u05C6\u05C7\u05C9\u05C9\u05D2\u05EC\u05F2\u05F4\u0602\u0607\u0612\u061C\u061E\u061E\u0622\u066B\u0670\u06D5\u06D7\u06DF\u06E1\u06EA\u06EC\u06FE\u0701\u0701\u0711\u074C\u074F\u07B3\u07C2\u07F7\u07FC\u07FC\u0802\u082F\u0842\u085D\u08A2\u08B6\u08B8\u08BF\u08D6\u0965\u0968\u0971\u0973\u0985\u0987\u098E\u0991\u0992\u0995\u09AA\u09AC\u09B2\u09B4\u09B4\u09B8\u09BB\u09BE\u09C6\u09C9\u09CA\u09CD\u09D0\u09D9\u09D9\u09DE\u09DF\u09E1\u09E5\u09E8\u09F3\u0A03\u0A05\u0A07\u0A0C\u0A11\u0A12\u0A15\u0A2A\u0A2C\u0A32\u0A34\u0A35\u0A37\u0A38\u0A3A\u0A3B\u0A3E\u0A3E\u0A40\u0A44\u0A49\u0A4A\u0A4D\u0A4F\u0A53\u0A53\u0A5B\u0A5E\u0A60\u0A60\u0A68\u0A77\u0A83\u0A85\u0A87\u0A8F\u0A91\u0A93\u0A95\u0AAA\u0AAC\u0AB2\u0AB4\u0AB5\u0AB7\u0ABB\u0ABE\u0AC7\u0AC9\u0ACB\u0ACD\u0ACF\u0AD2\u0AD2\u0AE2\u0AE5\u0AE8\u0AF1\u0AFB\u0AFB\u0B03\u0B05\u0B07\u0B0E\u0B11\u0B12\u0B15\u0B2A\u0B2C\u0B32\u0B34\u0B35\u0B37\u0B3B\u0B3E\u0B46\u0B49\u0B4A\u0B4D\u0B4F\u0B58\u0B59\u0B5E\u0B5F\u0B61\u0B65\u0B68\u0B71\u0B73\u0B73\u0B84\u0B85\u0B87\u0B8C\u0B90\u0B92\u0B94\u0B97\u0B9B\u0B9C\u0B9E\u0B9E\u0BA0\u0BA1\u0BA5\u0BA6\u0BAA\u0BAC\u0BB0\u0BBB\u0BC0\u0BC4\u0BC8\u0BCA\u0BCC\u0BCF\u0BD2\u0BD2\u0BD9\u0BD9\u0BE8\u0BF1\u0C02\u0C05\u0C07\u0C0E\u0C10\u0C12\u0C14\u0C2A\u0C2C\u0C3B\u0C3F\u0C46\u0C48\u0C4A\u0C4C\u0C4F\u0C57\u0C58\u0C5A\u0C5C\u0C62\u0C65\u0C68\u0C71\u0C82\u0C85\u0C87\u0C8E\u0C90\u0C92\u0C94\u0CAA\u0CAC\u0CB5\u0CB7\u0CBB\u0CBE\u0CC6\u0CC8\u0CCA\u0CCC\u0CCF\u0CD7\u0CD8\u0CE0\u0CE0\u0CE2\u0CE5\u0CE8\u0CF1\u0CF3\u0CF4\u0D03\u0D05\u0D07\u0D0E\u0D10\u0D12\u0D14\u0D3C\u0D3F\u0D46\u0D48\u0D4A\u0D4C\u0D50\u0D56\u0D59\u0D61\u0D65\u0D68\u0D71\u0D7C\u0D81\u0D84\u0D85\u0D87\u0D98\u0D9C\u0DB3\u0DB5\u0DBD\u0DBF\u0DBF\u0DC2\u0DC8\u0DCC\u0DCC\u0DD1\u0DD6\u0DD8\u0DD8\u0DDA\u0DE1\u0DE8\u0DF1\u0DF4\u0DF5\u0E03\u0E3C\u0E42\u0E50\u0E52\u0E5B\u0E83\u0E84\u0E86\u0E86\u0E89\u0E8A\u0E8C\u0E8C\u0E8F\u0E8F\u0E96\u0E99\u0E9B\u0EA1\u0EA3\u0EA5\u0EA7\u0EA7\u0EA9\u0EA9\u0EAC\u0EAD\u0EAF\u0EBB\u0EBD\u0EBF\u0EC2\u0EC6\u0EC8\u0EC8\u0ECA\u0ECF\u0ED2\u0EDB\u0EDE\u0EE1\u0F02\u0F02\u0F1A\u0F1B\u0F22\u0F2B\u0F37\u0F37\u0F39\u0F39\u0F3B\u0F3B\u0F40\u0F49\u0F4B\u0F6E\u0F73\u0F86\u0F88\u0F99\u0F9B\u0FBE\u0FC8\u0FC8\u1002\u104B\u1052\u109F\u10A2\u10C7\u10C9\u10C9\u10CF\u10CF\u10D2\u10FC\u10FE\u124A\u124C\u124F\u1252\u1258\u125A\u125A\u125C\u125F\u1262\u128A\u128C\u128F\u1292\u12B2\u12B4\u12B7\u12BA\u12C0\u12C2\u12C2\u12C4\u12C7\u12CA\u12D8\u12DA\u1312\u1314\u1317\u131A\u135C\u135F\u1361\u1382\u1391\u13A2\u13F7\u13FA\u13FF\u1403\u166E\u1671\u1681\u1683\u169C\u16A2\u16EC\u16F0\u16FA\u1702\u170E\u1710\u1716\u1722\u1736\u1742\u1755\u1762\u176E\u1770\u1772\u1774\u1775\u1782\u17D5\u17D9\u17D9\u17DE\u17DF\u17E2\u17EB\u180D\u1810\u1812\u181B\u1822\u1879\u1882\u18AC\u18B2\u18F7\u1902\u1920\u1922\u192D\u1932\u193D\u1948\u196F\u1972\u1976\u1982\u19AD\u19B2\u19CB\u19D2\u19DB\u1A02\u1A1D\u1A22\u1A60\u1A62\u1A7E\u1A81\u1A8B\u1A92\u1A9B\u1AA9\u1AA9\u1AB2\u1ABF\u1B02\u1B4D\u1B52\u1B5B\u1B6D\u1B75\u1B82\u1BF5\u1C02\u1C39\u1C42\u1C4B\u1C4F\u1C7F\u1C82\u1C8A\u1CD2\u1CD4\u1CD6\u1CF8\u1CFA\u1CFB\u1D02\u1DF7\u1DFD\u1F17\u1F1A\u1F1F\u1F22\u1F47\u1F4A\u1F4F\u1F52\u1F59\u1F5B\u1F5B\u1F5D\u1F5D\u1F5F\u1F5F\u1F61\u1F7F\u1F82\u1FB6\u1FB8\u1FBE\u1FC0\u1FC0\u1FC4\u1FC6\u1FC8\u1FCE\u1FD2\u1FD5\u1FD8\u1FDD\u1FE2\u1FEE\u1FF4\u1FF6\u1FF8\u1FFE\u200D\u2011\u202C\u2030\u2041\u2042\u2056\u2056\u2062\u2066\u2068\u2071\u2073\u2073\u2081\u2081\u2092\u209E\u20D2\u20DE\u20E3\u20E3\u20E7\u20F2\u2104\u2104\u2109\u2109\u210C\u2115\u2117\u2117\u211B\u211F\u2126\u2126\u2128\u2128\u212A\u212A\u212C\u212F\u2131\u213B\u213E\u2141\u2147\u214B\u2150\u2150\u2162\u218A\u2C02\u2C30\u2C32\u2C60\u2C62\u2CE6\u2CED\u2CF5\u2D02\u2D27\u2D29\u2D29\u2D2F\u2D2F\u2D32\u2D69\u2D71\u2D71\u2D81\u2D98\u2DA2\u2DA8\u2DAA\u2DB0\u2DB2\u2DB8\u2DBA\u2DC0\u2DC2\u2DC8\u2DCA\u2DD0\u2DD2\u2DD8\u2DDA\u2DE0\u2DE2\u2E01\u2E31\u2E31\u3007\u3009\u3023\u3031\u3033\u3037\u303A\u303E\u3043\u3098\u309B\u309C\u309F\u30A1\u30A3\u30FC\u30FE\u3101\u3107\u312F\u3133\u3190\u31A2\u31BC\u31F2\u3201\u3402\u4DB7\u4E02\u9FD7\uA002\uA48E\uA4D2\uA4FF\uA502\uA60E\uA612\uA62D\uA642\uA671\uA676\uA67F\uA681\uA6F3\uA719\uA721\uA724\uA78A\uA78D\uA7B0\uA7B2\uA7B9\uA7F9\uA829\uA842\uA875\uA882\uA8C7\uA8D2\uA8DB\uA8E2\uA8F9\uA8FD\uA8FD\uA8FF\uA8FF\uA902\uA92F\uA932\uA955\uA962\uA97E\uA982\uA9C2\uA9D1\uA9DB\uA9E2\uAA00\uAA02\uAA38\uAA42\uAA4F\uAA52\uAA5B\uAA62\uAA78\uAA7C\uAAC4\uAADD\uAADF\uAAE2\uAAF1\uAAF4\uAAF8\uAB03\uAB08\uAB0B\uAB10\uAB13\uAB18\uAB22\uAB28\uAB2A\uAB30\uAB32\uAB5C\uAB5E\uAB67\uAB72\uABEC\uABEE\uABEF\uABF2\uABFB\uAC02\uD7A5\uD7B2\uD7C8\uD7CD\uD7FD\uF902\uFA6F\uFA72\uFADB\uFB02\uFB08\uFB15\uFB19\uFB1F\uFB2A\uFB2C\uFB38\uFB3A\uFB3E\uFB40\uFB40\uFB42\uFB43\uFB45\uFB46\uFB48\uFBB3\uFBD5\uFD3F\uFD52\uFD91\uFD94\uFDC9\uFDF2\uFDFD\uFE02\uFE11\uFE22\uFE31\uFE35\uFE36\uFE4F\uFE51\uFE72\uFE76\uFE78\uFEFE\uFF01\uFF01\uFF12\uFF1B\uFF23\uFF3C\uFF41\uFF41\uFF43\uFF5C\uFF68\uFFC0\uFFC4\uFFC9\uFFCC\uFFD1\uFFD4\uFFD9\uFFDC\uFFDE\uFFFB\uFFFD\r(*<>?AOR_\x82\xFC\u0142\u0176\u01FF\u01FF\u0282\u029E\u02A2\u02D2\u02E2\u02E2\u0302\u0321\u0332\u034C\u0352\u037C\u0382\u039F\u03A2\u03C5\u03CA\u03D1\u03D3\u03D7\u0402\u049F\u04A2\u04AB\u04B2\u04D5\u04DA\u04FD\u0502\u0529\u0532\u0565\u0602\u0738\u0742\u0757\u0762\u0769\u0802\u0807\u080A\u080A\u080C\u0837\u0839\u083A\u083E\u083E\u0841\u0857\u0862\u0878\u0882\u08A0\u08E2\u08F4\u08F6\u08F7\u0902\u0917\u0922\u093B\u0982\u09B9\u09C0\u09C1\u0A02\u0A05\u0A07\u0A08\u0A0E\u0A15\u0A17\u0A19\u0A1B\u0A35\u0A3A\u0A3C\u0A41\u0A41\u0A62\u0A7E\u0A82\u0A9E\u0AC2\u0AC9\u0ACB\u0AE8\u0B02\u0B37\u0B42\u0B57\u0B62\u0B74\u0B82\u0B93\u0C02\u0C4A\u0C82\u0CB4\u0CC2\u0CF4\u1002\u1048\u1068\u1071\u1081\u10BC\u10BF\u10BF\u10D2\u10EA\u10F2\u10FB\u1102\u1136\u1138\u1141\u1152\u1175\u1178\u1178\u1182\u11C6\u11CC\u11CE\u11D2\u11DC\u11DE\u11DE\u1202\u1213\u1215\u1239\u1240\u1240\u1282\u1288\u128A\u128A\u128C\u128F\u1291\u129F\u12A1\u12AA\u12B2\u12EC\u12F2\u12FB\u1302\u1305\u1307\u130E\u1311\u1312\u1315\u132A\u132C\u1332\u1334\u1335\u1337\u133B\u133E\u1346\u1349\u134A\u134D\u134F\u1352\u1352\u1359\u1359\u135F\u1365\u1368\u136E\u1372\u1376\u1402\u144C\u1452\u145B\u1482\u14C7\u14C9\u14C9\u14D2\u14DB\u1582\u15B7\u15BA\u15C2\u15DA\u15DF\u1602\u1642\u1646\u1646\u1652\u165B\u1682\u16B9\u16C2\u16CB\u1702\u171B\u171F\u172D\u1732\u173B\u18A2\u18EB\u1901\u1901\u1AC2\u1AFA\u1C02\u1C0A\u1C0C\u1C38\u1C3A\u1C42\u1C52\u1C5B\u1C74\u1C91\u1C94\u1CA9\u1CAB\u1CB8\u2002\u239B\u2402\u2470\u2482\u2545\u3002\u3430\u4402\u4648\u6802\u6A3A\u6A42\u6A60\u6A62\u6A6B\u6AD2\u6AEF\u6AF2\u6AF6\u6B02\u6B38\u6B42\u6B45\u6B52\u6B5B\u6B65\u6B79\u6B7F\u6B91\u6F02\u6F46\u6F52\u6F80\u6F91\u6FA1\u6FE2\u6FE2\u7002\u87EE\u8802\u8AF4\uB002\uB003\uBC02\uBC6C\uBC72\uBC7E\uBC82\uBC8A\uBC92\uBC9B\uBC9F\uBCA0\uBCA2\uBCA5\uD167\uD16B\uD16F\uD184\uD187\uD18D\uD1AC\uD1AF\uD244\uD246\uD402\uD456\uD458\uD49E\uD4A0\uD4A1\uD4A4\uD4A4\uD4A7\uD4A8\uD4AB\uD4AE\uD4B0\uD4BB\uD4BD\uD4BD\uD4BF\uD4C5\uD4C7\uD507\uD509\uD50C\uD50F\uD516\uD518\uD51E\uD520\uD53B\uD53D\uD540\uD542\uD546\uD548\uD548\uD54C\uD552\uD554\uD6A7\uD6AA\uD6C2\uD6C4\uD6DC\uD6DE\uD6FC\uD6FE\uD716\uD718\uD736\uD738\uD750\uD752\uD770\uD772\uD78A\uD78C\uD7AA\uD7AC\uD7C4\uD7C6\uD7CD\uD7D0\uD801\uDA02\uDA38\uDA3D\uDA6E\uDA77\uDA77\uDA86\uDA86\uDA9D\uDAA1\uDAA3\uDAB1\uE002\uE008\uE00A\uE01A\uE01D\uE023\uE025\uE026\uE028\uE02C\uE802\uE8C6\uE8D2\uE8D8\uE902\uE94C\uE952\uE95B\uEE02\uEE05\uEE07\uEE21\uEE23\uEE24\uEE26\uEE26\uEE29\uEE29\uEE2B\uEE34\uEE36\uEE39\uEE3B\uEE3B\uEE3D\uEE3D\uEE44\uEE44\uEE49\uEE49\uEE4B\uEE4B\uEE4D\uEE4D\uEE4F\uEE51\uEE53\uEE54\uEE56\uEE56\uEE59\uEE59\uEE5B\uEE5B\uEE5D\uEE5D\uEE5F\uEE5F\uEE61\uEE61\uEE63\uEE64\uEE66\uEE66\uEE69\uEE6C\uEE6E\uEE74\uEE76\uEE79\uEE7B\uEE7E\uEE80\uEE80\uEE82\uEE8B\uEE8D\uEE9D\uEEA3\uEEA5\uEEA7\uEEAB\uEEAD\uEEBD\uA6D8\uA702\uB736\uB742\uB81F\uB822\uCEA3\uF802\uFA1F"\x81\u0102\u01F1\u0240C\\c|\xAC\xAC\xB7\xB7\xBC\xBC\xC2\xD8\xDA\xF8\xFA\u02C3\u02C8\u02D3\u02E2\u02E6\u02EE\u02EE\u02F0\u02F0\u0372\u0376\u0378\u0379\u037C\u037F\u0381\u0381\u0388\u0388\u038A\u038C\u038E\u038E\u0390\u03A3\u03A5\u03F7\u03F9\u0483\u048C\u0531\u0533\u0558\u055B\u055B\u0563\u0589\u05D2\u05EC\u05F2\u05F4\u0622\u064C\u0670\u0671\u0673\u06D5\u06D7\u06D7\u06E7\u06E8\u06F0\u06F1\u06FC\u06FE\u0701\u0701\u0712\u0712\u0714\u0731\u074F\u07A7\u07B3\u07B3\u07CC\u07EC\u07F6\u07F7\u07FC\u07FC\u0802\u0817\u081C\u081C\u0826\u0826\u082A\u082A\u0842\u085A\u08A2\u08B6\u08B8\u08BF\u0906\u093B\u093F\u093F\u0952\u0952\u095A\u0963\u0973\u0982\u0987\u098E\u0991\u0992\u0995\u09AA\u09AC\u09B2\u09B4\u09B4\u09B8\u09BB\u09BF\u09BF\u09D0\u09D0\u09DE\u09DF\u09E1\u09E3\u09F2\u09F3\u0A07\u0A0C\u0A11\u0A12\u0A15\u0A2A\u0A2C\u0A32\u0A34\u0A35\u0A37\u0A38\u0A3A\u0A3B\u0A5B\u0A5E\u0A60\u0A60\u0A74\u0A76\u0A87\u0A8F\u0A91\u0A93\u0A95\u0AAA\u0AAC\u0AB2\u0AB4\u0AB5\u0AB7\u0ABB\u0ABF\u0ABF\u0AD2\u0AD2\u0AE2\u0AE3\u0AFB\u0AFB\u0B07\u0B0E\u0B11\u0B12\u0B15\u0B2A\u0B2C\u0B32\u0B34\u0B35\u0B37\u0B3B\u0B3F\u0B3F\u0B5E\u0B5F\u0B61\u0B63\u0B73\u0B73\u0B85\u0B85\u0B87\u0B8C\u0B90\u0B92\u0B94\u0B97\u0B9B\u0B9C\u0B9E\u0B9E\u0BA0\u0BA1\u0BA5\u0BA6\u0BAA\u0BAC\u0BB0\u0BBB\u0BD2\u0BD2\u0C07\u0C0E\u0C10\u0C12\u0C14\u0C2A\u0C2C\u0C3B\u0C3F\u0C3F\u0C5A\u0C5C\u0C62\u0C63\u0C82\u0C82\u0C87\u0C8E\u0C90\u0C92\u0C94\u0CAA\u0CAC\u0CB5\u0CB7\u0CBB\u0CBF\u0CBF\u0CE0\u0CE0\u0CE2\u0CE3\u0CF3\u0CF4\u0D07\u0D0E\u0D10\u0D12\u0D14\u0D3C\u0D3F\u0D3F\u0D50\u0D50\u0D56\u0D58\u0D61\u0D63\u0D7C\u0D81\u0D87\u0D98\u0D9C\u0DB3\u0DB5\u0DBD\u0DBF\u0DBF\u0DC2\u0DC8\u0E03\u0E32\u0E34\u0E35\u0E42\u0E48\u0E83\u0E84\u0E86\u0E86\u0E89\u0E8A\u0E8C\u0E8C\u0E8F\u0E8F\u0E96\u0E99\u0E9B\u0EA1\u0EA3\u0EA5\u0EA7\u0EA7\u0EA9\u0EA9\u0EAC\u0EAD\u0EAF\u0EB2\u0EB4\u0EB5\u0EBF\u0EBF\u0EC2\u0EC6\u0EC8\u0EC8\u0EDE\u0EE1\u0F02\u0F02\u0F42\u0F49\u0F4B\u0F6E\u0F8A\u0F8E\u1002\u102C\u1041\u1041\u1052\u1057\u105C\u105F\u1063\u1063\u1067\u1068\u1070\u1072\u1077\u1083\u1090\u1090\u10A2\u10C7\u10C9\u10C9\u10CF\u10CF\u10D2\u10FC\u10FE\u124A\u124C\u124F\u1252\u1258\u125A\u125A\u125C\u125F\u1262\u128A\u128C\u128F\u1292\u12B2\u12B4\u12B7\u12BA\u12C0\u12C2\u12C2\u12C4\u12C7\u12CA\u12D8\u12DA\u1312\u1314\u1317\u131A\u135C\u1382\u1391\u13A2\u13F7\u13FA\u13FF\u1403\u166E\u1671\u1681\u1683\u169C\u16A2\u16EC\u16F0\u16FA\u1702\u170E\u1710\u1713\u1722\u1733\u1742\u1753\u1762\u176E\u1770\u1772\u1782\u17B5\u17D9\u17D9\u17DE\u17DE\u1822\u1879\u1882\u1886\u1889\u18AA\u18AC\u18AC\u18B2\u18F7\u1902\u1920\u1952\u196F\u1972\u1976\u1982\u19AD\u19B2\u19CB\u1A02\u1A18\u1A22\u1A56\u1AA9\u1AA9\u1B07\u1B35\u1B47\u1B4D\u1B85\u1BA2\u1BB0\u1BB1\u1BBC\u1BE7\u1C02\u1C25\u1C4F\u1C51\u1C5C\u1C7F\u1C82\u1C8A\u1CEB\u1CEE\u1CF0\u1CF3\u1CF7\u1CF8\u1D02\u1DC1\u1E02\u1F17\u1F1A\u1F1F\u1F22\u1F47\u1F4A\u1F4F\u1F52\u1F59\u1F5B\u1F5B\u1F5D\u1F5D\u1F5F\u1F5F\u1F61\u1F7F\u1F82\u1FB6\u1FB8\u1FBE\u1FC0\u1FC0\u1FC4\u1FC6\u1FC8\u1FCE\u1FD2\u1FD5\u1FD8\u1FDD\u1FE2\u1FEE\u1FF4\u1FF6\u1FF8\u1FFE\u2073\u2073\u2081\u2081\u2092\u209E\u2104\u2104\u2109\u2109\u210C\u2115\u2117\u2117\u211B\u211F\u2126\u2126\u2128\u2128\u212A\u212A\u212C\u212F\u2131\u213B\u213E\u2141\u2147\u214B\u2150\u2150\u2162\u218A\u2C02\u2C30\u2C32\u2C60\u2C62\u2CE6\u2CED\u2CF0\u2CF4\u2CF5\u2D02\u2D27\u2D29\u2D29\u2D2F\u2D2F\u2D32\u2D69\u2D71\u2D71\u2D82\u2D98\u2DA2\u2DA8\u2DAA\u2DB0\u2DB2\u2DB8\u2DBA\u2DC0\u2DC2\u2DC8\u2DCA\u2DD0\u2DD2\u2DD8\u2DDA\u2DE0\u2E31\u2E31\u3007\u3009\u3023\u302B\u3033\u3037\u303A\u303E\u3043\u3098\u309F\u30A1\u30A3\u30FC\u30FE\u3101\u3107\u312F\u3133\u3190\u31A2\u31BC\u31F2\u3201\u3402\u4DB7\u4E02\u9FD7\uA002\uA48E\uA4D2\uA4FF\uA502\uA60E\uA612\uA621\uA62C\uA62D\uA642\uA670\uA681\uA69F\uA6A2\uA6F1\uA719\uA721\uA724\uA78A\uA78D\uA7B0\uA7B2\uA7B9\uA7F9\uA803\uA805\uA807\uA809\uA80C\uA80E\uA824\uA842\uA875\uA884\uA8B5\uA8F4\uA8F9\uA8FD\uA8FD\uA8FF\uA8FF\uA90C\uA927\uA932\uA948\uA962\uA97E\uA986\uA9B4\uA9D1\uA9D1\uA9E2\uA9E6\uA9E8\uA9F1\uA9FC\uAA00\uAA02\uAA2A\uAA42\uAA44\uAA46\uAA4D\uAA62\uAA78\uAA7C\uAA7C\uAA80\uAAB1\uAAB3\uAAB3\uAAB7\uAAB8\uAABB\uAABF\uAAC2\uAAC2\uAAC4\uAAC4\uAADD\uAADF\uAAE2\uAAEC\uAAF4\uAAF6\uAB03\uAB08\uAB0B\uAB10\uAB13\uAB18\uAB22\uAB28\uAB2A\uAB30\uAB32\uAB5C\uAB5E\uAB67\uAB72\uABE4\uAC02\uD7A5\uD7B2\uD7C8\uD7CD\uD7FD\uF902\uFA6F\uFA72\uFADB\uFB02\uFB08\uFB15\uFB19\uFB1F\uFB1F\uFB21\uFB2A\uFB2C\uFB38\uFB3A\uFB3E\uFB40\uFB40\uFB42\uFB43\uFB45\uFB46\uFB48\uFBB3\uFBD5\uFD3F\uFD52\uFD91\uFD94\uFDC9\uFDF2\uFDFD\uFE72\uFE76\uFE78\uFEFE\uFF23\uFF3C\uFF43\uFF5C\uFF68\uFFC0\uFFC4\uFFC9\uFFCC\uFFD1\uFFD4\uFFD9\uFFDC\uFFDE\r(*<>?AOR_\x82\xFC\u0142\u0176\u0282\u029E\u02A2\u02D2\u0302\u0321\u0332\u034C\u0352\u0377\u0382\u039F\u03A2\u03C5\u03CA\u03D1\u03D3\u03D7\u0402\u049F\u04B2\u04D5\u04DA\u04FD\u0502\u0529\u0532\u0565\u0602\u0738\u0742\u0757\u0762\u0769\u0802\u0807\u080A\u080A\u080C\u0837\u0839\u083A\u083E\u083E\u0841\u0857\u0862\u0878\u0882\u08A0\u08E2\u08F4\u08F6\u08F7\u0902\u0917\u0922\u093B\u0982\u09B9\u09C0\u09C1\u0A02\u0A02\u0A12\u0A15\u0A17\u0A19\u0A1B\u0A35\u0A62\u0A7E\u0A82\u0A9E\u0AC2\u0AC9\u0ACB\u0AE6\u0B02\u0B37\u0B42\u0B57\u0B62\u0B74\u0B82\u0B93\u0C02\u0C4A\u0C82\u0CB4\u0CC2\u0CF4\u1005\u1039\u1085\u10B1\u10D2\u10EA\u1105\u1128\u1152\u1174\u1178\u1178\u1185\u11B4\u11C3\u11C6\u11DC\u11DC\u11DE\u11DE\u1202\u1213\u1215\u122D\u1282\u1288\u128A\u128A\u128C\u128F\u1291\u129F\u12A1\u12AA\u12B2\u12E0\u1307\u130E\u1311\u1312\u1315\u132A\u132C\u1332\u1334\u1335\u1337\u133B\u133F\u133F\u1352\u1352\u135F\u1363\u1402\u1436\u1449\u144C\u1482\u14B1\u14C6\u14C7\u14C9\u14C9\u1582\u15B0\u15DA\u15DD\u1602\u1631\u1646\u1646\u1682\u16AC\u1702\u171B\u18A2\u18E1\u1901\u1901\u1AC2\u1AFA\u1C02\u1C0A\u1C0C\u1C30\u1C42\u1C42\u1C74\u1C91\u2002\u239B\u2402\u2470\u2482\u2545\u3002\u3430\u4402\u4648\u6802\u6A3A\u6A42\u6A60\u6AD2\u6AEF\u6B02\u6B31\u6B42\u6B45\u6B65\u6B79\u6B7F\u6B91\u6F02\u6F46\u6F52\u6F52\u6F95\u6FA1\u6FE2\u6FE2\u7002\u87EE\u8802\u8AF4\uB002\uB003\uBC02\uBC6C\uBC72\uBC7E\uBC82\uBC8A\uBC92\uBC9B\uD402\uD456\uD458\uD49E\uD4A0\uD4A1\uD4A4\uD4A4\uD4A7\uD4A8\uD4AB\uD4AE\uD4B0\uD4BB\uD4BD\uD4BD\uD4BF\uD4C5\uD4C7\uD507\uD509\uD50C\uD50F\uD516\uD518\uD51E\uD520\uD53B\uD53D\uD540\uD542\uD546\uD548\uD548`;qo._serializedATNSegment1=`\uD54C\uD552\uD554\uD6A7\uD6AA\uD6C2\uD6C4\uD6DC\uD6DE\uD6FC\uD6FE\uD716\uD718\uD736\uD738\uD750\uD752\uD770\uD772\uD78A\uD78C\uD7AA\uD7AC\uD7C4\uD7C6\uD7CD\uE802\uE8C6\uE902\uE945\uEE02\uEE05\uEE07\uEE21\uEE23\uEE24\uEE26\uEE26\uEE29\uEE29\uEE2B\uEE34\uEE36\uEE39\uEE3B\uEE3B\uEE3D\uEE3D\uEE44\uEE44\uEE49\uEE49\uEE4B\uEE4B\uEE4D\uEE4D\uEE4F\uEE51\uEE53\uEE54\uEE56\uEE56\uEE59\uEE59\uEE5B\uEE5B\uEE5D\uEE5D\uEE5F\uEE5F\uEE61\uEE61\uEE63\uEE64\uEE66\uEE66\uEE69\uEE6C\uEE6E\uEE74\uEE76\uEE79\uEE7B\uEE7E\uEE80\uEE80\uEE82\uEE8B\uEE8D\uEE9D\uEEA3\uEEA5\uEEA7\uEEAB\uEEAD\uEEBD\uA6D8\uA702\uB736\uB742\uB81F\uB822\uCEA3\uF802\uFA1F1\x07	\v\x07	\v\r%')\x071\x071\x071\x07,\b\x1B\x07#\x1B
 \b\r\x07"  !!#" #$\b$\f%&	&'(	()-\x07)*,\v+*,/-.-+.0/-01\x07)1 -`;qo._serializedATN=w8e.join([qo._serializedATNSegment0,qo._serializedATNSegment1],"")});var T8e=Ae(RC=>{"use strict";m();var jct=RC&&RC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(RC,"__esModule",{value:!0});RC.XPathLexerErrorListener=void 0;var qct=Cr(),Lie=class{syntaxError(e,t,r,i,s,o){}};jct([qct.Override],Lie.prototype,"syntaxError",null);RC.XPathLexerErrorListener=Lie});var tE=Ae(OC=>{"use strict";m();var Uct=OC&&OC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(OC,"__esModule",{value:!0});OC.XPathElement=void 0;var $ct=Cr(),kie=class{constructor(e){this.nodeName=e,this.invert=!1}toString(){let e=this.invert?"!":"";return Object.constructor.name+"["+e+this.nodeName+"]"}};Uct([$ct.Override],kie.prototype,"toString",null);OC.XPathElement=kie});var F8e=Ae(NC=>{"use strict";m();var zct=NC&&NC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(NC,"__esModule",{value:!0});NC.XPathRuleAnywhereElement=void 0;var Hct=Cr(),Vct=yy(),Wct=tE(),Iie=class extends Wct.XPathElement{constructor(e,t){super(e);this.ruleIndex=t}evaluate(e){return Vct.Trees.findAllRuleNodes(e,this.ruleIndex)}};zct([Hct.Override],Iie.prototype,"evaluate",null);NC.XPathRuleAnywhereElement=Iie});var D8e=Ae(LC=>{"use strict";m();var Qct=LC&&LC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(LC,"__esModule",{value:!0});LC.XPathRuleElement=void 0;var Gct=y1(),Yct=Cr(),Kct=yy(),Jct=tE(),Mie=class extends Jct.XPathElement{constructor(e,t){super(e);this.ruleIndex=t}evaluate(e){let t=[];for(let r of Kct.Trees.getChildren(e))r instanceof Gct.ParserRuleContext&&(r.ruleIndex===this.ruleIndex&&!this.invert||r.ruleIndex!==this.ruleIndex&&this.invert)&&t.push(r);return t}};Qct([Yct.Override],Mie.prototype,"evaluate",null);LC.XPathRuleElement=Mie});var R8e=Ae(kC=>{"use strict";m();var Xct=kC&&kC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(kC,"__esModule",{value:!0});kC.XPathTokenAnywhereElement=void 0;var Zct=Cr(),eft=yy(),tft=tE(),Pie=class extends tft.XPathElement{constructor(e,t){super(e);this.tokenType=t}evaluate(e){return eft.Trees.findAllTokenNodes(e,this.tokenType)}};Xct([Zct.Override],Pie.prototype,"evaluate",null);kC.XPathTokenAnywhereElement=Pie});var O8e=Ae(IC=>{"use strict";m();var nft=IC&&IC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(IC,"__esModule",{value:!0});IC.XPathTokenElement=void 0;var rft=Cr(),ift=gy(),sft=yy(),oft=tE(),Bie=class extends oft.XPathElement{constructor(e,t){super(e);this.tokenType=t}evaluate(e){let t=[];for(let r of sft.Trees.getChildren(e))r instanceof ift.TerminalNode&&(r.symbol.type===this.tokenType&&!this.invert||r.symbol.type!==this.tokenType&&this.invert)&&t.push(r);return t}};nft([rft.Override],Bie.prototype,"evaluate",null);IC.XPathTokenElement=Bie});var N8e=Ae(MC=>{"use strict";m();var aft=MC&&MC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(MC,"__esModule",{value:!0});MC.XPathWildcardAnywhereElement=void 0;var uft=Cr(),lft=yy(),cft=NU(),fft=tE(),jie=class extends fft.XPathElement{constructor(){super(cft.XPath.WILDCARD)}evaluate(e){return this.invert?[]:lft.Trees.getDescendants(e)}};aft([uft.Override],jie.prototype,"evaluate",null);MC.XPathWildcardAnywhereElement=jie});var L8e=Ae(PC=>{"use strict";m();var dft=PC&&PC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(PC,"__esModule",{value:!0});PC.XPathWildcardElement=void 0;var hft=Cr(),pft=yy(),mft=NU(),xft=tE(),qie=class extends xft.XPathElement{constructor(){super(mft.XPath.WILDCARD)}evaluate(e){let t=[];if(this.invert)return t;for(let r of pft.Trees.getChildren(e))t.push(r);return t}};dft([hft.Override],qie.prototype,"evaluate",null);PC.XPathWildcardElement=qie});var NU=Ae(LU=>{"use strict";m();Object.defineProperty(LU,"__esModule",{value:!0});LU.XPath=void 0;var gft=CU(),yft=TU(),vft=rR(),_ft=y1(),Uie=uu(),Im=A8e(),Eft=T8e(),bft=F8e(),Sft=D8e(),Cft=R8e(),wft=O8e(),Aft=N8e(),Tft=L8e(),BC=class{constructor(e,t){this.parser=e,this.path=t,this.elements=this.split(t)}split(e){let t=new Im.XPathLexer(gft.CharStreams.fromString(e));t.recover=l=>{throw l},t.removeErrorListeners(),t.addErrorListener(new Eft.XPathLexerErrorListener);let r=new yft.CommonTokenStream(t);try{r.fill()}catch(l){if(l instanceof vft.LexerNoViableAltException){let f=t.charPositionInLine,p="Invalid tokens or characters at index "+f+" in path '"+e+"' -- "+l.message;throw new RangeError(p)}throw l}let i=r.getTokens(),s=[],o=i.length,a=0;e:for(;a<o;){let l=i[a],f;switch(l.type){case Im.XPathLexer.ROOT:case Im.XPathLexer.ANYWHERE:let p=l.type===Im.XPathLexer.ANYWHERE;a++,f=i[a];let _=f.type===Im.XPathLexer.BANG;_&&(a++,f=i[a]);let b=this.getXPathElement(f,p);b.invert=_,s.push(b),a++;break;case Im.XPathLexer.TOKEN_REF:case Im.XPathLexer.RULE_REF:case Im.XPathLexer.WILDCARD:s.push(this.getXPathElement(l,!1)),a++;break;case Uie.Token.EOF:break e;default:throw new Error("Unknowth path element "+l)}}return s}getXPathElement(e,t){if(e.type===Uie.Token.EOF)throw new Error("Missing path element at end of path");let r=e.text;if(r==null)throw new Error("Expected wordToken to have text content.");let i=this.parser.getTokenType(r),s=this.parser.getRuleIndex(r);switch(e.type){case Im.XPathLexer.WILDCARD:return t?new Aft.XPathWildcardAnywhereElement:new Tft.XPathWildcardElement;case Im.XPathLexer.TOKEN_REF:case Im.XPathLexer.STRING:if(i===Uie.Token.INVALID_TYPE)throw new Error(r+" at index "+e.startIndex+" isn't a valid token name");return t?new Cft.XPathTokenAnywhereElement(r,i):new wft.XPathTokenElement(r,i);default:if(s===-1)throw new Error(r+" at index "+e.startIndex+" isn't a valid rule name");return t?new bft.XPathRuleAnywhereElement(r,s):new Sft.XPathRuleElement(r,s)}}static findAll(e,t,r){return new BC(r,t).evaluate(e)}evaluate(e){let t=new _ft.ParserRuleContext;t.addChild(e);let r=new Set([t]),i=0;for(;i<this.elements.length;){let s=new Set;for(let o of r)o.childCount>0&&this.elements[i].evaluate(o).forEach(s.add,s);i++,r=s}return r}};LU.XPath=BC;BC.WILDCARD="*";BC.NOT="!"});var k8e=Ae(Xv=>{"use strict";m();var Ex=Xv&&Xv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},nE=Xv&&Xv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Xv,"__esModule",{value:!0});Xv.ParseTreePattern=void 0;var Td=Cr(),Fft=NU(),_1=class{constructor(e,t,r,i){this._matcher=e,this._patternRuleIndex=r,this._pattern=t,this._patternTree=i}match(e){return this._matcher.match(e,this)}matches(e){return this._matcher.match(e,this).succeeded}findAll(e,t){let r=Fft.XPath.findAll(e,t,this._matcher.parser),i=[];for(let s of r){let o=this.match(s);o.succeeded&&i.push(o)}return i}get matcher(){return this._matcher}get pattern(){return this._pattern}get patternRuleIndex(){return this._patternRuleIndex}get patternTree(){return this._patternTree}};Ex([Td.NotNull],_1.prototype,"_pattern",void 0);Ex([Td.NotNull],_1.prototype,"_patternTree",void 0);Ex([Td.NotNull],_1.prototype,"_matcher",void 0);Ex([Td.NotNull,nE(0,Td.NotNull)],_1.prototype,"match",null);Ex([nE(0,Td.NotNull)],_1.prototype,"matches",null);Ex([Td.NotNull,nE(0,Td.NotNull),nE(1,Td.NotNull)],_1.prototype,"findAll",null);Ex([Td.NotNull],_1.prototype,"matcher",null);Ex([Td.NotNull],_1.prototype,"pattern",null);Ex([Td.NotNull],_1.prototype,"patternTree",null);_1=Ex([nE(0,Td.NotNull),nE(1,Td.NotNull),nE(3,Td.NotNull)],_1);Xv.ParseTreePattern=_1});var I8e=Ae(Zv=>{"use strict";m();var rp=Zv&&Zv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Dft=Zv&&Zv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Zv,"__esModule",{value:!0});Zv.RuleTagToken=void 0;var ip=Cr(),Rft=uu(),Fd=class{constructor(e,t,r){if(e==null||e.length===0)throw new Error("ruleName cannot be null or empty.");this._ruleName=e,this.bypassTokenType=t,this._label=r}get ruleName(){return this._ruleName}get label(){return this._label}get channel(){return Rft.Token.DEFAULT_CHANNEL}get text(){return this._label!=null?"<"+this._label+":"+this._ruleName+">":"<"+this._ruleName+">"}get type(){return this.bypassTokenType}get line(){return 0}get charPositionInLine(){return-1}get tokenIndex(){return-1}get startIndex(){return-1}get stopIndex(){return-1}get tokenSource(){}get inputStream(){}toString(){return this._ruleName+":"+this.bypassTokenType}};rp([ip.NotNull],Fd.prototype,"ruleName",null);rp([ip.Override],Fd.prototype,"channel",null);rp([ip.Override],Fd.prototype,"text",null);rp([ip.Override],Fd.prototype,"type",null);rp([ip.Override],Fd.prototype,"line",null);rp([ip.Override],Fd.prototype,"charPositionInLine",null);rp([ip.Override],Fd.prototype,"tokenIndex",null);rp([ip.Override],Fd.prototype,"startIndex",null);rp([ip.Override],Fd.prototype,"stopIndex",null);rp([ip.Override],Fd.prototype,"tokenSource",null);rp([ip.Override],Fd.prototype,"inputStream",null);rp([ip.Override],Fd.prototype,"toString",null);Fd=rp([Dft(0,ip.NotNull)],Fd);Zv.RuleTagToken=Fd});var $ie=Ae(kU=>{"use strict";m();Object.defineProperty(kU,"__esModule",{value:!0});kU.Chunk=void 0;var M8e=class{};kU.Chunk=M8e});var j8e=Ae(jC=>{"use strict";m();var P8e=jC&&jC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(jC,"__esModule",{value:!0});jC.TagChunk=void 0;var Oft=$ie(),B8e=Cr(),IU=class extends Oft.Chunk{constructor(e,t){super();if(e==null||e.length===0)throw new Error("tag cannot be null or empty");this._tag=e,this._label=t}get tag(){return this._tag}get label(){return this._label}toString(){return this._label!=null?this._label+":"+this._tag:this._tag}};P8e([B8e.NotNull],IU.prototype,"tag",null);P8e([B8e.Override],IU.prototype,"toString",null);jC.TagChunk=IU});var q8e=Ae(e4=>{"use strict";m();var MU=e4&&e4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Nft=e4&&e4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(e4,"__esModule",{value:!0});e4.TextChunk=void 0;var Lft=$ie(),PU=Cr(),qC=class extends Lft.Chunk{constructor(e){super();if(e==null)throw new Error("text cannot be null");this._text=e}get text(){return this._text}toString(){return"'"+this._text+"'"}};MU([PU.NotNull],qC.prototype,"_text",void 0);MU([PU.NotNull],qC.prototype,"text",null);MU([PU.Override],qC.prototype,"toString",null);qC=MU([Nft(0,PU.NotNull)],qC);e4.TextChunk=qC});var U8e=Ae(t4=>{"use strict";m();var FR=t4&&t4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},kft=t4&&t4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(t4,"__esModule",{value:!0});t4.TokenTagToken=void 0;var Ift=mS(),DR=Cr(),rE=class extends Ift.CommonToken{constructor(e,t,r){super(t);this._tokenName=e,this._label=r}get tokenName(){return this._tokenName}get label(){return this._label}get text(){return this._label!=null?"<"+this._label+":"+this._tokenName+">":"<"+this._tokenName+">"}toString(){return this._tokenName+":"+this.type}};FR([DR.NotNull],rE.prototype,"_tokenName",void 0);FR([DR.NotNull],rE.prototype,"tokenName",null);FR([DR.Override],rE.prototype,"text",null);FR([DR.Override],rE.prototype,"toString",null);rE=FR([kft(0,DR.NotNull)],rE);t4.TokenTagToken=rE});var Q8e=Ae(Sx=>{"use strict";m();var BU=Sx&&Sx.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},jU=Sx&&Sx.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Sx,"__esModule",{value:!0});Sx.ParseTreePatternMatcher=void 0;var Mft=Vie(),Pft=CU(),Bft=TU(),jft=Tie(),$8e=v8e(),iE=Cr(),qft=Fie(),Uft=Nie(),z8e=y1(),$ft=C8e(),zft=k8e(),Hft=Zg(),Vft=oC(),H8e=I8e(),V8e=j8e(),zie=gy(),UC=q8e(),Hie=uu(),W8e=U8e(),bx=class{constructor(e,t){this.start="<",this.stop=">",this.escape="\\",this.escapeRE=/\\/g,this._lexer=e,this._parser=t}setDelimiters(e,t,r){if(!e)throw new Error("start cannot be null or empty");if(!t)throw new Error("stop cannot be null or empty");this.start=e,this.stop=t,this.escape=r,this.escapeRE=new RegExp(r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g")}matches(e,t,r=0){if(typeof t=="string"){let i=this.compile(t,r);return this.matches(e,i)}else{let i=new $8e.MultiMap;return!this.matchImpl(e,t.patternTree,i)}}match(e,t,r=0){if(typeof t=="string"){let i=this.compile(t,r);return this.match(e,i)}else{let i=new $8e.MultiMap,s=this.matchImpl(e,t.patternTree,i);return new $ft.ParseTreeMatch(e,t,i,s)}}compile(e,t){let r=this.tokenize(e),i=new jft.ListTokenSource(r),s=new Bft.CommonTokenStream(i),o=this._parser,a=new Uft.ParserInterpreter(o.grammarFileName,o.vocabulary,o.ruleNames,o.getATNWithBypassAlts(),s),l;try{a.errorHandler=new Mft.BailErrorStrategy,l=a.parse(t)}catch(f){throw f instanceof qft.ParseCancellationException?f.getCause():f instanceof Hft.RecognitionException?f:f instanceof Error?new bx.CannotInvokeStartRule(f):f}if(s.LA(1)!==Hie.Token.EOF)throw new bx.StartRuleDoesNotConsumeFullPattern;return new zft.ParseTreePattern(this,e,t,l)}get lexer(){return this._lexer}get parser(){return this._parser}matchImpl(e,t,r){if(!e)throw new TypeError("tree cannot be null");if(!t)throw new TypeError("patternTree cannot be null");if(e instanceof zie.TerminalNode&&t instanceof zie.TerminalNode){let i;if(e.symbol.type===t.symbol.type)if(t.symbol instanceof W8e.TokenTagToken){let s=t.symbol;r.map(s.tokenName,e);let o=s.label;o&&r.map(o,e)}else e.text===t.text||i||(i=e);else i||(i=e);return i}if(e instanceof z8e.ParserRuleContext&&t instanceof z8e.ParserRuleContext){let i,s=this.getRuleTagToken(t);if(s){let a;if(e.ruleContext.ruleIndex===t.ruleContext.ruleIndex){r.map(s.ruleName,e);let l=s.label;l&&r.map(l,e)}else i||(i=e);return i}if(e.childCount!==t.childCount)return i||(i=e),i;let o=e.childCount;for(let a=0;a<o;a++){let l=this.matchImpl(e.getChild(a),t.getChild(a),r);if(l)return l}return i}return e}getRuleTagToken(e){if(e instanceof Vft.RuleNode&&e.childCount===1&&e.getChild(0)instanceof zie.TerminalNode){let t=e.getChild(0);if(t.symbol instanceof H8e.RuleTagToken)return t.symbol}}tokenize(e){let t=this.split(e),r=[];for(let i of t)if(i instanceof V8e.TagChunk){let s=i,o=s.tag.substr(0,1);if(o===o.toUpperCase()){let a=this._parser.getTokenType(s.tag);if(a===Hie.Token.INVALID_TYPE)throw new Error("Unknown token "+s.tag+" in pattern: "+e);let l=new W8e.TokenTagToken(s.tag,a,s.label);r.push(l)}else if(o===o.toLowerCase()){let a=this._parser.getRuleIndex(s.tag);if(a===-1)throw new Error("Unknown rule "+s.tag+" in pattern: "+e);let l=this._parser.getATNWithBypassAlts().ruleToTokenType[a];r.push(new H8e.RuleTagToken(s.tag,l,s.label))}else throw new Error("invalid tag: "+s.tag+" in pattern: "+e)}else{let s=i;this._lexer.inputStream=Pft.CharStreams.fromString(s.text);let o=this._lexer.nextToken();for(;o.type!==Hie.Token.EOF;)r.push(o),o=this._lexer.nextToken()}return r}split(e){let t=0,r=e.length,i=[],s,o=[],a=[];for(;t<r;)t===e.indexOf(this.escape+this.start,t)?t+=this.escape.length+this.start.length:t===e.indexOf(this.escape+this.stop,t)?t+=this.escape.length+this.stop.length:t===e.indexOf(this.start,t)?(o.push(t),t+=this.start.length):t===e.indexOf(this.stop,t)?(a.push(t),t+=this.stop.length):t++;if(o.length>a.length)throw new Error("unterminated tag in pattern: "+e);if(o.length<a.length)throw new Error("missing start tag in pattern: "+e);let l=o.length;for(let f=0;f<l;f++)if(o[f]>=a[f])throw new Error("tag delimiters out of order in pattern: "+e);if(l===0){let f=e.substring(0,r);i.push(new UC.TextChunk(f))}if(l>0&&o[0]>0){let f=e.substring(0,o[0]);i.push(new UC.TextChunk(f))}for(let f=0;f<l;f++){let p=e.substring(o[f]+this.start.length,a[f]),_=p,b,R=p.indexOf(":");if(R>=0&&(b=p.substring(0,R),_=p.substring(R+1,p.length)),i.push(new V8e.TagChunk(_,b)),f+1<l){let O=e.substring(a[f]+this.stop.length,o[f+1]);i.push(new UC.TextChunk(O))}}if(l>0){let f=a[l-1]+this.stop.length;if(f<r){let p=e.substring(f,r);i.push(new UC.TextChunk(p))}}for(let f=0;f<i.length;f++){let p=i[f];if(p instanceof UC.TextChunk){let _=p.text.replace(this.escapeRE,"");_.length<p.text.length&&(i[f]=new UC.TextChunk(_))}}return i}};BU([iE.NotNull,jU(1,iE.NotNull)],bx.prototype,"match",null);BU([iE.NotNull],bx.prototype,"lexer",null);BU([iE.NotNull],bx.prototype,"parser",null);BU([jU(0,iE.NotNull),jU(1,iE.NotNull),jU(2,iE.NotNull)],bx.prototype,"matchImpl",null);Sx.ParseTreePatternMatcher=bx;(function(n){class e extends Error{constructor(i){super(`CannotInvokeStartRule: ${i}`);this.error=i}}n.CannotInvokeStartRule=e;class t extends Error{constructor(){super("StartRuleDoesNotConsumeFullPattern")}}n.StartRuleDoesNotConsumeFullPattern=t})(bx=Sx.ParseTreePatternMatcher||(Sx.ParseTreePatternMatcher={}))});var $C=Ae(n4=>{"use strict";m();var G8e=n4&&n4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Wft=n4&&n4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(n4,"__esModule",{value:!0});n4.DecisionEventInfo=void 0;var Y8e=Cr(),qU=class{constructor(e,t,r,i,s,o){this.decision=e,this.fullCtx=o,this.stopIndex=s,this.input=r,this.startIndex=i,this.state=t}};G8e([Y8e.NotNull],qU.prototype,"input",void 0);qU=G8e([Wft(2,Y8e.NotNull)],qU);n4.DecisionEventInfo=qU});var K8e=Ae(r4=>{"use strict";m();var Wie=r4&&r4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Qie=r4&&r4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(r4,"__esModule",{value:!0});r4.AmbiguityInfo=void 0;var Qft=$C(),RR=Cr(),OR=class extends Qft.DecisionEventInfo{constructor(e,t,r,i,s,o){super(e,t,i,s,o,t.useContext);this.ambigAlts=r}get ambiguousAlternatives(){return this.ambigAlts}};Wie([RR.NotNull],OR.prototype,"ambigAlts",void 0);Wie([RR.NotNull],OR.prototype,"ambiguousAlternatives",null);OR=Wie([Qie(1,RR.NotNull),Qie(2,RR.NotNull),Qie(3,RR.NotNull)],OR);r4.AmbiguityInfo=OR});var Z8e=Ae(i4=>{"use strict";m();var Gft=i4&&i4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},J8e=i4&&i4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(i4,"__esModule",{value:!0});i4.ContextSensitivityInfo=void 0;var Yft=$C(),X8e=Cr(),Gie=class extends Yft.DecisionEventInfo{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}};Gie=Gft([J8e(1,X8e.NotNull),J8e(2,X8e.NotNull)],Gie);i4.ContextSensitivityInfo=Gie});var e7e=Ae(zC=>{"use strict";m();var Kft=zC&&zC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(zC,"__esModule",{value:!0});zC.DecisionInfo=void 0;var Jft=Cr(),Yie=class{constructor(e){this.invocations=0,this.timeInPrediction=0,this.SLL_TotalLook=0,this.SLL_MinLook=0,this.SLL_MaxLook=0,this.LL_TotalLook=0,this.LL_MinLook=0,this.LL_MaxLook=0,this.contextSensitivities=[],this.errors=[],this.ambiguities=[],this.predicateEvals=[],this.SLL_ATNTransitions=0,this.SLL_DFATransitions=0,this.LL_Fallback=0,this.LL_ATNTransitions=0,this.LL_DFATransitions=0,this.decision=e}toString(){return"{decision="+this.decision+", contextSensitivities="+this.contextSensitivities.length+", errors="+this.errors.length+", ambiguities="+this.ambiguities.length+", SLL_lookahead="+this.SLL_TotalLook+", SLL_ATNTransitions="+this.SLL_ATNTransitions+", SLL_DFATransitions="+this.SLL_DFATransitions+", LL_Fallback="+this.LL_Fallback+", LL_lookahead="+this.LL_TotalLook+", LL_ATNTransitions="+this.LL_ATNTransitions+"}"}};Kft([Jft.Override],Yie.prototype,"toString",null);zC.DecisionInfo=Yie});var r7e=Ae(s4=>{"use strict";m();var Xft=s4&&s4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},t7e=s4&&s4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(s4,"__esModule",{value:!0});s4.ErrorInfo=void 0;var Zft=$C(),n7e=Cr(),Kie=class extends Zft.DecisionEventInfo{constructor(e,t,r,i,s){super(e,t,r,i,s,t.useContext)}};Kie=Xft([t7e(1,n7e.NotNull),t7e(2,n7e.NotNull)],Kie);s4.ErrorInfo=Kie});var i7e=Ae(o4=>{"use strict";m();var e0t=o4&&o4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},t0t=o4&&o4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(o4,"__esModule",{value:!0});o4.LookaheadEventInfo=void 0;var n0t=$C(),r0t=Cr(),Jie=class extends n0t.DecisionEventInfo{constructor(e,t,r,i,s,o,a){super(e,t,i,s,o,a);this.predictedAlt=r}};Jie=e0t([t0t(3,r0t.NotNull)],Jie);o4.LookaheadEventInfo=Jie});var s7e=Ae(a4=>{"use strict";m();var i0t=a4&&a4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Xie=a4&&a4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(a4,"__esModule",{value:!0});a4.PredicateEvalInfo=void 0;var s0t=$C(),Zie=Cr(),ese=class extends s0t.DecisionEventInfo{constructor(e,t,r,i,s,o,a,l){super(t,e,r,i,s,e.useContext);this.semctx=o,this.evalResult=a,this.predictedAlt=l}};ese=i0t([Xie(0,Zie.NotNull),Xie(2,Zie.NotNull),Xie(5,Zie.NotNull)],ese);a4.PredicateEvalInfo=ese});var tse=Ae(u4=>{"use strict";m();var Cx=u4&&u4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},UU=u4&&u4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(u4,"__esModule",{value:!0});u4.ProfilingATNSimulator=void 0;var o0t=K8e(),o7e=Dm(),a0t=YD(),a7e=Z8e(),u0t=e7e(),u7e=r7e(),_h=Cr(),l7e=i7e(),l0t=dC(),c0t=s7e(),f0t=C6(),c7e=Jre(),E1=class extends l0t.ParserATNSimulator{constructor(e){super(e.interpreter.atn,e);this._startIndex=0,this._sllStopIndex=0,this._llStopIndex=0,this.currentDecision=0,this.conflictingAltResolvedBySLL=0,this.optimize_ll1=!1,this.reportAmbiguities=!0,this.numDecisions=this.atn.decisionToState.length,this.decisions=[];for(let t=0;t<this.numDecisions;t++)this.decisions.push(new u0t.DecisionInfo(t))}adaptivePredict(e,t,r,i){if(i!==void 0)return super.adaptivePredict(e,t,r,i);try{this._input=e,this._startIndex=e.index,this._sllStopIndex=this._startIndex-1,this._llStopIndex=-1,this.currentDecision=t,this.currentState=void 0,this.conflictingAltResolvedBySLL=o7e.ATN.INVALID_ALT_NUMBER;let s=process.hrtime(),o=super.adaptivePredict(e,t,r),a=process.hrtime(),l=(a[0]-s[0])*1e9;l===0?l=a[1]-s[1]:l+=1e9-s[1]+a[1],this.decisions[t].timeInPrediction+=l,this.decisions[t].invocations++;let f=this._sllStopIndex-this._startIndex+1;if(this.decisions[t].SLL_TotalLook+=f,this.decisions[t].SLL_MinLook=this.decisions[t].SLL_MinLook===0?f:Math.min(this.decisions[t].SLL_MinLook,f),f>this.decisions[t].SLL_MaxLook&&(this.decisions[t].SLL_MaxLook=f,this.decisions[t].SLL_MaxLookEvent=new l7e.LookaheadEventInfo(t,void 0,o,e,this._startIndex,this._sllStopIndex,!1)),this._llStopIndex>=0){let p=this._llStopIndex-this._startIndex+1;this.decisions[t].LL_TotalLook+=p,this.decisions[t].LL_MinLook=this.decisions[t].LL_MinLook===0?p:Math.min(this.decisions[t].LL_MinLook,p),p>this.decisions[t].LL_MaxLook&&(this.decisions[t].LL_MaxLook=p,this.decisions[t].LL_MaxLookEvent=new l7e.LookaheadEventInfo(t,void 0,o,e,this._startIndex,this._llStopIndex,!0))}return o}finally{this._input=void 0,this.currentDecision=-1}}getStartState(e,t,r,i){let s=super.getStartState(e,t,r,i);return this.currentState=s,s}computeStartState(e,t,r){let i=super.computeStartState(e,t,r);return this.currentState=i,i}computeReachSet(e,t,r,i){if(this._input===void 0)throw new Error("Invalid state");let s=super.computeReachSet(e,t,r,i);return s==null&&this.decisions[this.currentDecision].errors.push(new u7e.ErrorInfo(this.currentDecision,t,this._input,this._startIndex,this._input.index)),this.currentState=s,s}getExistingTargetState(e,t){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");this.currentState.useContext?this._llStopIndex=this._input.index:this._sllStopIndex=this._input.index;let r=super.getExistingTargetState(e,t);if(r!=null&&(this.currentState=new c7e.SimulatorState(this.currentState.outerContext,r,this.currentState.useContext,this.currentState.remainingOuterContext),this.currentState.useContext?this.decisions[this.currentDecision].LL_DFATransitions++:this.decisions[this.currentDecision].SLL_DFATransitions++,r===a0t.ATNSimulator.ERROR)){let i=new c7e.SimulatorState(this.currentState.outerContext,e,this.currentState.useContext,this.currentState.remainingOuterContext);this.decisions[this.currentDecision].errors.push(new u7e.ErrorInfo(this.currentDecision,i,this._input,this._startIndex,this._input.index))}return r}computeTargetState(e,t,r,i,s,o){let a=super.computeTargetState(e,t,r,i,s,o);return s?this.decisions[this.currentDecision].LL_ATNTransitions++:this.decisions[this.currentDecision].SLL_ATNTransitions++,a}evalSemanticContextImpl(e,t,r){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let i=super.evalSemanticContextImpl(e,t,r);if(!(e instanceof f0t.SemanticContext.PrecedencePredicate)){let o=this._llStopIndex>=0?this._llStopIndex:this._sllStopIndex;this.decisions[this.currentDecision].predicateEvals.push(new c0t.PredicateEvalInfo(this.currentState,this.currentDecision,this._input,this._startIndex,o,e,i,r))}return i}reportContextSensitivity(e,t,r,i,s){if(this._input===void 0)throw new Error("Invalid state");t!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new a7e.ContextSensitivityInfo(this.currentDecision,r,this._input,i,s)),super.reportContextSensitivity(e,t,r,i,s)}reportAttemptingFullContext(e,t,r,i,s){t!=null?this.conflictingAltResolvedBySLL=t.nextSetBit(0):this.conflictingAltResolvedBySLL=r.s0.configs.getRepresentedAlternatives().nextSetBit(0),this.decisions[this.currentDecision].LL_Fallback++,super.reportAttemptingFullContext(e,t,r,i,s)}reportAmbiguity(e,t,r,i,s,o,a){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let l;o!=null?l=o.nextSetBit(0):l=a.getRepresentedAlternatives().nextSetBit(0),this.conflictingAltResolvedBySLL!==o7e.ATN.INVALID_ALT_NUMBER&&l!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new a7e.ContextSensitivityInfo(this.currentDecision,this.currentState,this._input,r,i)),this.decisions[this.currentDecision].ambiguities.push(new o0t.AmbiguityInfo(this.currentDecision,this.currentState,o,this._input,r,i)),super.reportAmbiguity(e,t,r,i,s,o,a)}getDecisionInfo(){return this.decisions}getCurrentState(){return this.currentState}};Cx([_h.Override,UU(0,_h.NotNull)],E1.prototype,"adaptivePredict",null);Cx([_h.Override],E1.prototype,"getStartState",null);Cx([_h.Override],E1.prototype,"computeStartState",null);Cx([_h.Override],E1.prototype,"computeReachSet",null);Cx([_h.Override],E1.prototype,"getExistingTargetState",null);Cx([_h.Override],E1.prototype,"computeTargetState",null);Cx([_h.Override],E1.prototype,"evalSemanticContextImpl",null);Cx([_h.Override],E1.prototype,"reportContextSensitivity",null);Cx([_h.Override],E1.prototype,"reportAttemptingFullContext",null);Cx([_h.Override,UU(0,_h.NotNull),UU(5,_h.NotNull),UU(6,_h.NotNull)],E1.prototype,"reportAmbiguity",null);u4.ProfilingATNSimulator=E1});var aC=Ae(wx=>{"use strict";m();var Yc=wx&&wx.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},$U=wx&&wx.__param||function(n,e){return function(t,r){e(t,r,n)}},f7e=wx&&wx.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{f(r.next(p))}catch(_){o(_)}}function l(p){try{f(r.throw(p))}catch(_){o(_)}}function f(p){p.done?s(p.value):i(p.value).then(a,l)}f((r=r.apply(n,e||[])).next())})};Object.defineProperty(wx,"__esModule",{value:!0});wx.Parser=void 0;var d0t=Fm(),h0t=Rre(),p0t=bR(),m0t=zU(),x0t=sC(),g0t=Wne(),y0t=fy(),ec=Cr(),v0t=c8e(),_0t=dC(),E0t=_ie(),b0t=ES(),S0t=gy(),NR=uu(),HC=class{constructor(e,t){this.ruleNames=e,this.tokenStream=t}enterEveryRule(e){console.log("enter   "+this.ruleNames[e.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}exitEveryRule(e){console.log("exit    "+this.ruleNames[e.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}visitErrorNode(e){}visitTerminal(e){let t=e.parent.ruleContext,r=e.symbol;console.log("consume "+r+" rule "+this.ruleNames[t.ruleIndex])}};Yc([ec.Override],HC.prototype,"enterEveryRule",null);Yc([ec.Override],HC.prototype,"exitEveryRule",null);Yc([ec.Override],HC.prototype,"visitErrorNode",null);Yc([ec.Override],HC.prototype,"visitTerminal",null);var jl=class extends b0t.Recognizer{constructor(e){super();this._errHandler=new m0t.DefaultErrorStrategy,this._precedenceStack=new g0t.IntegerStack,this._buildParseTrees=!0,this._parseListeners=[],this._syntaxErrors=0,this.matchedEOF=!1,this._precedenceStack.push(0),this.inputStream=e}reset(e){(e===void 0||e)&&this.inputStream.seek(0),this._errHandler.reset(this),this._ctx=void 0,this._syntaxErrors=0,this.matchedEOF=!1,this.isTrace=!1,this._precedenceStack.clear(),this._precedenceStack.push(0);let t=this.interpreter;t!=null&&t.reset()}match(e){let t=this.currentToken;return t.type===e?(e===NR.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this._buildParseTrees&&t.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,t))),t}matchWildcard(){let e=this.currentToken;return e.type>0?(this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this._buildParseTrees&&e.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,e))),e}set buildParseTree(e){this._buildParseTrees=e}get buildParseTree(){return this._buildParseTrees}getParseListeners(){return this._parseListeners}addParseListener(e){if(e==null)throw new TypeError("listener cannot be null");this._parseListeners.push(e)}removeParseListener(e){let t=this._parseListeners.findIndex(r=>r===e);t!==-1&&this._parseListeners.splice(t,1)}removeParseListeners(){this._parseListeners.length=0}triggerEnterRuleEvent(){for(let e of this._parseListeners)e.enterEveryRule&&e.enterEveryRule(this._ctx),this._ctx.enterRule(e)}triggerExitRuleEvent(){for(let e=this._parseListeners.length-1;e>=0;e--){let t=this._parseListeners[e];this._ctx.exitRule(t),t.exitEveryRule&&t.exitEveryRule(this._ctx)}}get numberOfSyntaxErrors(){return this._syntaxErrors}get tokenFactory(){return this._input.tokenSource.tokenFactory}getATNWithBypassAlts(){let e=this.serializedATN;if(e==null)throw new Error("The current parser does not support an ATN with bypass alternatives.");let t=jl.bypassAltsAtnCache.get(e);if(t==null){let r=new h0t.ATNDeserializationOptions;r.isGenerateRuleBypassTransitions=!0,t=new p0t.ATNDeserializer(r).deserialize(d0t.toCharArray(e)),jl.bypassAltsAtnCache.set(e,t)}return t}compileParseTreePattern(e,t,r){return f7e(this,void 0,void 0,function*(){if(!r){if(this.inputStream){let a=this.inputStream.tokenSource;a instanceof y0t.Lexer&&(r=a)}if(!r)throw new Error("Parser can't discover a lexer to use")}let i=r,s=yield Promise.resolve().then(()=>Q8e());return new s.ParseTreePatternMatcher(i,this).compile(e,t)})}get errorHandler(){return this._errHandler}set errorHandler(e){this._errHandler=e}get inputStream(){return this._input}set inputStream(e){this.reset(!1),this._input=e}get currentToken(){return this._input.LT(1)}notifyErrorListeners(e,t,r){t===void 0?t=this.currentToken:t===null&&(t=void 0),this._syntaxErrors++;let i=-1,s=-1;t!=null&&(i=t.line,s=t.charPositionInLine);let o=this.getErrorListenerDispatch();o.syntaxError&&o.syntaxError(this,t,i,s,e,r)}consume(){let e=this.currentToken;e.type!==jl.EOF&&this.inputStream.consume();let t=this._parseListeners.length!==0;if(this._buildParseTrees||t)if(this._errHandler.inErrorRecoveryMode(this)){let r=this._ctx.addErrorNode(this.createErrorNode(this._ctx,e));if(t)for(let i of this._parseListeners)i.visitErrorNode&&i.visitErrorNode(r)}else{let r=this.createTerminalNode(this._ctx,e);if(this._ctx.addChild(r),t)for(let i of this._parseListeners)i.visitTerminal&&i.visitTerminal(r)}return e}createTerminalNode(e,t){return new S0t.TerminalNode(t)}createErrorNode(e,t){return new x0t.ErrorNode(t)}addContextToParseTree(){let e=this._ctx._parent;e!=null&&e.addChild(this._ctx)}enterRule(e,t,r){this.state=t,this._ctx=e,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}enterLeftFactoredRule(e,t,r){if(this.state=t,this._buildParseTrees){let i=this._ctx.getChild(this._ctx.childCount-1);this._ctx.removeLastChild(),i._parent=e,e.addChild(i)}this._ctx=e,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this.matchedEOF?this._ctx._stop=this._input.LT(1):this._ctx._stop=this._input.tryLT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx._parent}enterOuterAlt(e,t){if(e.altNumber=t,this._buildParseTrees&&this._ctx!==e){let r=this._ctx._parent;r!=null&&(r.removeLastChild(),r.addChild(e))}this._ctx=e}get precedence(){return this._precedenceStack.isEmpty?-1:this._precedenceStack.peek()}enterRecursionRule(e,t,r,i){this.state=t,this._precedenceStack.push(i),this._ctx=e,this._ctx._start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(e,t,r){let i=this._ctx;i._parent=e,i.invokingState=t,i._stop=this._input.tryLT(-1),this._ctx=e,this._ctx._start=i._start,this._buildParseTrees&&this._ctx.addChild(i),this.triggerEnterRuleEvent()}unrollRecursionContexts(e){this._precedenceStack.pop(),this._ctx._stop=this._input.tryLT(-1);let t=this._ctx;if(this._parseListeners.length>0)for(;this._ctx!==e;)this.triggerExitRuleEvent(),this._ctx=this._ctx._parent;else this._ctx=e;t._parent=e,this._buildParseTrees&&e!=null&&e.addChild(t)}getInvokingContext(e){let t=this._ctx;for(;t&&t.ruleIndex!==e;)t=t._parent;return t}get context(){return this._ctx}set context(e){this._ctx=e}precpred(e,t){return t>=this._precedenceStack.peek()}getErrorListenerDispatch(){return new E0t.ProxyParserErrorListener(this.getErrorListeners())}inContext(e){return!1}isExpectedToken(e){let t=this.interpreter.atn,r=this._ctx,i=t.states[this.state],s=t.nextTokens(i);if(s.contains(e))return!0;if(!s.contains(NR.Token.EPSILON))return!1;for(;r!=null&&r.invokingState>=0&&s.contains(NR.Token.EPSILON);){let a=t.states[r.invokingState].transition(0);if(s=t.nextTokens(a.followState),s.contains(e))return!0;r=r._parent}return!!(s.contains(NR.Token.EPSILON)&&e===NR.Token.EOF)}get isMatchedEOF(){return this.matchedEOF}getExpectedTokens(){return this.atn.getExpectedTokens(this.state,this.context)}getExpectedTokensWithinCurrentRule(){let e=this.interpreter.atn,t=e.states[this.state];return e.nextTokens(t)}getRuleIndex(e){let t=this.getRuleIndexMap().get(e);return t??-1}get ruleContext(){return this._ctx}getRuleInvocationStack(e=this._ctx){let t=e,r=this.ruleNames,i=[];for(;t!=null;){let s=t.ruleIndex;s<0?i.push("n/a"):i.push(r[s]),t=t._parent}return i}getDFAStrings(){let e=[];for(let t of this._interp.atn.decisionToDFA)e.push(t.toString(this.vocabulary,this.ruleNames));return e}dumpDFA(){let e=!1;for(let t of this._interp.atn.decisionToDFA)t.isEmpty||(e&&console.log(),console.log("Decision "+t.decision+":"),process.stdout.write(t.toString(this.vocabulary,this.ruleNames)),e=!0)}get sourceName(){return this._input.sourceName}get parseInfo(){return Promise.resolve().then(()=>tse()).then(e=>{let t=this.interpreter;if(t instanceof e.ProfilingATNSimulator)return new v0t.ParseInfo(t)})}setProfile(e){return f7e(this,void 0,void 0,function*(){let t=yield Promise.resolve().then(()=>tse()),r=this.interpreter;e?r instanceof t.ProfilingATNSimulator||(this.interpreter=new t.ProfilingATNSimulator(this)):r instanceof t.ProfilingATNSimulator&&(this.interpreter=new _0t.ParserATNSimulator(this.atn,this)),this.interpreter.setPredictionMode(r.getPredictionMode())})}set isTrace(e){e?(this._tracer?this.removeParseListener(this._tracer):this._tracer=new HC(this.ruleNames,this._input),this.addParseListener(this._tracer)):this._tracer&&(this.removeParseListener(this._tracer),this._tracer=void 0)}get isTrace(){return this._tracer!=null}};jl.bypassAltsAtnCache=new Map;Yc([ec.NotNull],jl.prototype,"_errHandler",void 0);Yc([ec.NotNull],jl.prototype,"match",null);Yc([ec.NotNull],jl.prototype,"matchWildcard",null);Yc([ec.NotNull],jl.prototype,"getParseListeners",null);Yc([$U(0,ec.NotNull)],jl.prototype,"addParseListener",null);Yc([ec.NotNull],jl.prototype,"getATNWithBypassAlts",null);Yc([ec.NotNull,$U(0,ec.NotNull)],jl.prototype,"errorHandler",null);Yc([ec.Override],jl.prototype,"inputStream",null);Yc([ec.NotNull],jl.prototype,"currentToken",null);Yc([$U(0,ec.NotNull)],jl.prototype,"enterRule",null);Yc([ec.Override,$U(0,ec.Nullable)],jl.prototype,"precpred",null);Yc([ec.Override],jl.prototype,"getErrorListenerDispatch",null);Yc([ec.NotNull],jl.prototype,"getExpectedTokens",null);Yc([ec.NotNull],jl.prototype,"getExpectedTokensWithinCurrentRule",null);Yc([ec.Override],jl.prototype,"parseInfo",null);wx.Parser=jl});var pR=Ae(VC=>{"use strict";m();var C0t=VC&&VC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(VC,"__esModule",{value:!0});VC.NoViableAltException=void 0;var w0t=aC(),A0t=Zg(),T0t=Cr(),nse=class extends A0t.RecognitionException{constructor(e,t,r,i,s,o){e instanceof w0t.Parser&&(t===void 0&&(t=e.inputStream),r===void 0&&(r=e.currentToken),i===void 0&&(i=e.currentToken),o===void 0&&(o=e.context));super(e,t,o);this._deadEndConfigs=s,this._startToken=r,this.setOffendingToken(e,i)}get startToken(){return this._startToken}get deadEndConfigs(){return this._deadEndConfigs}};C0t([T0t.NotNull],nse.prototype,"_startToken",void 0);VC.NoViableAltException=nse});var zU=Ae(l4=>{"use strict";m();var Gu=l4&&l4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},tc=l4&&l4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(l4,"__esModule",{value:!0});l4.DefaultErrorStrategy=void 0;var d7e=K2(),WC=Ef(),F0t=PD(),HU=BD(),h7e=xv(),D0t=pR(),R0t=d1(),wy=uu(),fa=Cr(),lu=class{constructor(){this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.nextTokensState=d7e.ATNState.INVALID_STATE_NUMBER}reset(e){this.endErrorCondition(e)}beginErrorCondition(e){this.errorRecoveryMode=!0}inErrorRecoveryMode(e){return this.errorRecoveryMode}endErrorCondition(e){this.errorRecoveryMode=!1,this.lastErrorStates=void 0,this.lastErrorIndex=-1}reportMatch(e){this.endErrorCondition(e)}reportError(e,t){this.inErrorRecoveryMode(e)||(this.beginErrorCondition(e),t instanceof D0t.NoViableAltException?this.reportNoViableAlternative(e,t):t instanceof HU.InputMismatchException?this.reportInputMismatch(e,t):t instanceof F0t.FailedPredicateException?this.reportFailedPredicate(e,t):(console.error(`unknown recognition error type: ${t}`),this.notifyErrorListeners(e,t.toString(),t)))}notifyErrorListeners(e,t,r){let i=r.getOffendingToken(e);i===void 0&&(i=null),e.notifyErrorListeners(t,i,r)}recover(e,t){this.lastErrorIndex===e.inputStream.index&&this.lastErrorStates&&this.lastErrorStates.contains(e.state)&&e.consume(),this.lastErrorIndex=e.inputStream.index,this.lastErrorStates||(this.lastErrorStates=new h7e.IntervalSet),this.lastErrorStates.add(e.state);let r=this.getErrorRecoverySet(e);this.consumeUntil(e,r)}sync(e){let t=e.interpreter.atn.states[e.state];if(this.inErrorRecoveryMode(e))return;let i=e.inputStream.LA(1),s=e.atn.nextTokens(t);if(s.contains(i)){this.nextTokensContext=void 0,this.nextTokensState=d7e.ATNState.INVALID_STATE_NUMBER;return}if(s.contains(wy.Token.EPSILON)){this.nextTokensContext===void 0&&(this.nextTokensContext=e.context,this.nextTokensState=e.state);return}switch(t.stateType){case WC.ATNStateType.BLOCK_START:case WC.ATNStateType.STAR_BLOCK_START:case WC.ATNStateType.PLUS_BLOCK_START:case WC.ATNStateType.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(e))return;throw new HU.InputMismatchException(e);case WC.ATNStateType.PLUS_LOOP_BACK:case WC.ATNStateType.STAR_LOOP_BACK:this.reportUnwantedToken(e);let a=e.getExpectedTokens().or(this.getErrorRecoverySet(e));this.consumeUntil(e,a);break;default:break}}reportNoViableAlternative(e,t){let r=e.inputStream,i;r?t.startToken.type===wy.Token.EOF?i="<EOF>":i=r.getTextFromRange(t.startToken,t.getOffendingToken()):i="<unknown input>";let s="no viable alternative at input "+this.escapeWSAndQuote(i);this.notifyErrorListeners(e,s,t)}reportInputMismatch(e,t){let r=t.expectedTokens,i=r?r.toStringVocabulary(e.vocabulary):"",s="mismatched input "+this.getTokenErrorDisplay(t.getOffendingToken(e))+" expecting "+i;this.notifyErrorListeners(e,s,t)}reportFailedPredicate(e,t){let r=e.ruleNames[e.context.ruleIndex],i="rule "+r+" "+t.message;this.notifyErrorListeners(e,i,t)}reportUnwantedToken(e){if(this.inErrorRecoveryMode(e))return;this.beginErrorCondition(e);let t=e.currentToken,r=this.getTokenErrorDisplay(t),i=this.getExpectedTokens(e),s="extraneous input "+r+" expecting "+i.toStringVocabulary(e.vocabulary);e.notifyErrorListeners(s,t,void 0)}reportMissingToken(e){if(this.inErrorRecoveryMode(e))return;this.beginErrorCondition(e);let t=e.currentToken,r=this.getExpectedTokens(e),i="missing "+r.toStringVocabulary(e.vocabulary)+" at "+this.getTokenErrorDisplay(t);e.notifyErrorListeners(i,t,void 0)}recoverInline(e){let t=this.singleTokenDeletion(e);if(t)return e.consume(),t;if(this.singleTokenInsertion(e))return this.getMissingSymbol(e);throw this.nextTokensContext===void 0?new HU.InputMismatchException(e):new HU.InputMismatchException(e,this.nextTokensState,this.nextTokensContext)}singleTokenInsertion(e){let t=e.inputStream.LA(1),i=e.interpreter.atn.states[e.state].transition(0).target,s=e.interpreter.atn;return s.nextTokens(i,R0t.PredictionContext.fromRuleContext(s,e.context)).contains(t)?(this.reportMissingToken(e),!0):!1}singleTokenDeletion(e){let t=e.inputStream.LA(2);if(this.getExpectedTokens(e).contains(t)){this.reportUnwantedToken(e),e.consume();let i=e.currentToken;return this.reportMatch(e),i}}getMissingSymbol(e){let t=e.currentToken,r=this.getExpectedTokens(e),i=wy.Token.INVALID_TYPE;r.isNil||(i=r.minElement);let s;i===wy.Token.EOF?s="<missing EOF>":s="<missing "+e.vocabulary.getDisplayName(i)+">";let o=t,a=e.inputStream.tryLT(-1);return o.type===wy.Token.EOF&&a!=null&&(o=a),this.constructToken(e.inputStream.tokenSource,i,s,o)}constructToken(e,t,r,i){let s=e.tokenFactory,o=i.tokenSource,a=o?o.inputStream:void 0;return s.create({source:e,stream:a},t,r,wy.Token.DEFAULT_CHANNEL,-1,-1,i.line,i.charPositionInLine)}getExpectedTokens(e){return e.getExpectedTokens()}getTokenErrorDisplay(e){if(!e)return"<no token>";let t=this.getSymbolText(e);return t||(this.getSymbolType(e)===wy.Token.EOF?t="<EOF>":t=`<${this.getSymbolType(e)}>`),this.escapeWSAndQuote(t)}getSymbolText(e){return e.text}getSymbolType(e){return e.type}escapeWSAndQuote(e){return e=e.replace(`
`,"\\n"),e=e.replace("\r","\\r"),e=e.replace("	","\\t"),"'"+e+"'"}getErrorRecoverySet(e){let t=e.interpreter.atn,r=e.context,i=new h7e.IntervalSet;for(;r&&r.invokingState>=0;){let o=t.states[r.invokingState].transition(0),a=t.nextTokens(o.followState);i.addAll(a),r=r._parent}return i.remove(wy.Token.EPSILON),i}consumeUntil(e,t){let r=e.inputStream.LA(1);for(;r!==wy.Token.EOF&&!t.contains(r);)e.consume(),r=e.inputStream.LA(1)}};Gu([fa.Override],lu.prototype,"reset",null);Gu([tc(0,fa.NotNull)],lu.prototype,"beginErrorCondition",null);Gu([fa.Override],lu.prototype,"inErrorRecoveryMode",null);Gu([tc(0,fa.NotNull)],lu.prototype,"endErrorCondition",null);Gu([fa.Override],lu.prototype,"reportMatch",null);Gu([fa.Override],lu.prototype,"reportError",null);Gu([tc(0,fa.NotNull)],lu.prototype,"notifyErrorListeners",null);Gu([fa.Override],lu.prototype,"recover",null);Gu([fa.Override],lu.prototype,"sync",null);Gu([tc(0,fa.NotNull),tc(1,fa.NotNull)],lu.prototype,"reportNoViableAlternative",null);Gu([tc(0,fa.NotNull),tc(1,fa.NotNull)],lu.prototype,"reportInputMismatch",null);Gu([tc(0,fa.NotNull),tc(1,fa.NotNull)],lu.prototype,"reportFailedPredicate",null);Gu([tc(0,fa.NotNull)],lu.prototype,"reportUnwantedToken",null);Gu([tc(0,fa.NotNull)],lu.prototype,"reportMissingToken",null);Gu([fa.Override],lu.prototype,"recoverInline",null);Gu([tc(0,fa.NotNull)],lu.prototype,"singleTokenInsertion",null);Gu([tc(0,fa.NotNull)],lu.prototype,"singleTokenDeletion",null);Gu([fa.NotNull,tc(0,fa.NotNull)],lu.prototype,"getMissingSymbol",null);Gu([fa.NotNull,tc(0,fa.NotNull)],lu.prototype,"getExpectedTokens",null);Gu([tc(0,fa.NotNull)],lu.prototype,"getSymbolText",null);Gu([tc(0,fa.NotNull)],lu.prototype,"getSymbolType",null);Gu([fa.NotNull,tc(0,fa.NotNull)],lu.prototype,"escapeWSAndQuote",null);Gu([fa.NotNull,tc(0,fa.NotNull)],lu.prototype,"getErrorRecoverySet",null);Gu([tc(0,fa.NotNull),tc(1,fa.NotNull)],lu.prototype,"consumeUntil",null);l4.DefaultErrorStrategy=lu});var Vie=Ae(QC=>{"use strict";m();var rse=QC&&QC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(QC,"__esModule",{value:!0});QC.BailErrorStrategy=void 0;var O0t=zU(),N0t=BD(),ise=Cr(),p7e=Fie(),LR=class extends O0t.DefaultErrorStrategy{recover(e,t){for(let r=e.context;r;r=r.parent)r.exception=t;throw new p7e.ParseCancellationException(t)}recoverInline(e){let t=new N0t.InputMismatchException(e);for(let r=e.context;r;r=r.parent)r.exception=t;throw new p7e.ParseCancellationException(t)}sync(e){}};rse([ise.Override],LR.prototype,"recover",null);rse([ise.Override],LR.prototype,"recoverInline",null);rse([ise.Override],LR.prototype,"sync",null);QC.BailErrorStrategy=LR});var x7e=Ae(m7e=>{"use strict";m();Object.defineProperty(m7e,"__esModule",{value:!0})});var g7e=Ae(kR=>{"use strict";m();Object.defineProperty(kR,"__esModule",{value:!0});kR.Dependents=void 0;var L0t;(function(n){n[n.SELF=0]="SELF",n[n.PARENTS=1]="PARENTS",n[n.CHILDREN=2]="CHILDREN",n[n.ANCESTORS=3]="ANCESTORS",n[n.DESCENDANTS=4]="DESCENDANTS",n[n.SIBLINGS=5]="SIBLINGS",n[n.PRECEEDING_SIBLINGS=6]="PRECEEDING_SIBLINGS",n[n.FOLLOWING_SIBLINGS=7]="FOLLOWING_SIBLINGS",n[n.PRECEEDING=8]="PRECEEDING",n[n.FOLLOWING=9]="FOLLOWING"})(L0t=kR.Dependents||(kR.Dependents={}))});var y7e=Ae(f4=>{"use strict";m();var GC=f4&&f4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},b1=f4&&f4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(f4,"__esModule",{value:!0});f4.DiagnosticErrorListener=void 0;var k0t=ry(),e0=Cr(),sse=j0(),c4=class{constructor(e=!0){this.exactOnly=e,this.exactOnly=e}syntaxError(e,t,r,i,s,o){}reportAmbiguity(e,t,r,i,s,o,a){if(this.exactOnly&&!s)return;let l=this.getDecisionDescription(e,t),f=this.getConflictingAlts(o,a),p=e.inputStream.getText(sse.Interval.of(r,i)),_=`reportAmbiguity d=${l}: ambigAlts=${f}, input='${p}'`;e.notifyErrorListeners(_)}reportAttemptingFullContext(e,t,r,i,s,o){let a="reportAttemptingFullContext d=%s, input='%s'",l=this.getDecisionDescription(e,t),f=e.inputStream.getText(sse.Interval.of(r,i)),p=`reportAttemptingFullContext d=${l}, input='${f}'`;e.notifyErrorListeners(p)}reportContextSensitivity(e,t,r,i,s,o){let a="reportContextSensitivity d=%s, input='%s'",l=this.getDecisionDescription(e,t),f=e.inputStream.getText(sse.Interval.of(r,i)),p=`reportContextSensitivity d=${l}, input='${f}'`;e.notifyErrorListeners(p)}getDecisionDescription(e,t){let r=t.decision,i=t.atnStartState.ruleIndex,s=e.ruleNames;if(i<0||i>=s.length)return r.toString();let o=s[i];return o?`${r} (${o})`:r.toString()}getConflictingAlts(e,t){if(e!=null)return e;let r=new k0t.BitSet;for(let i of t)r.set(i.alt);return r}};GC([e0.Override],c4.prototype,"syntaxError",null);GC([e0.Override,b1(0,e0.NotNull),b1(1,e0.NotNull),b1(6,e0.NotNull)],c4.prototype,"reportAmbiguity",null);GC([e0.Override,b1(0,e0.NotNull),b1(1,e0.NotNull),b1(5,e0.NotNull)],c4.prototype,"reportAttemptingFullContext",null);GC([e0.Override,b1(0,e0.NotNull),b1(1,e0.NotNull),b1(5,e0.NotNull)],c4.prototype,"reportContextSensitivity",null);GC([b1(0,e0.NotNull),b1(1,e0.NotNull)],c4.prototype,"getDecisionDescription",null);GC([e0.NotNull,b1(1,e0.NotNull)],c4.prototype,"getConflictingAlts",null);f4.DiagnosticErrorListener=c4});var _7e=Ae(h4=>{"use strict";m();var d4=h4&&h4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},I0t=h4&&h4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(h4,"__esModule",{value:!0});h4.LexerInterpreter=void 0;var M0t=fy(),P0t=sR(),v7e=Cr(),YC=Cr(),Ax=class extends M0t.Lexer{constructor(e,t,r,i,s,o,a){super(a);if(o.grammarType!==0)throw new Error("IllegalArgumentException: The ATN must be a lexer ATN.");this._grammarFileName=e,this._atn=o,this._ruleNames=r.slice(0),this._channelNames=i.slice(0),this._modeNames=s.slice(0),this._vocabulary=t,this._interp=new P0t.LexerATNSimulator(o,this)}get atn(){return this._atn}get grammarFileName(){return this._grammarFileName}get ruleNames(){return this._ruleNames}get channelNames(){return this._channelNames}get modeNames(){return this._modeNames}get vocabulary(){return this._vocabulary}};d4([v7e.NotNull],Ax.prototype,"_vocabulary",void 0);d4([YC.Override],Ax.prototype,"atn",null);d4([YC.Override],Ax.prototype,"grammarFileName",null);d4([YC.Override],Ax.prototype,"ruleNames",null);d4([YC.Override],Ax.prototype,"channelNames",null);d4([YC.Override],Ax.prototype,"modeNames",null);d4([YC.Override],Ax.prototype,"vocabulary",null);Ax=d4([I0t(1,v7e.NotNull)],Ax);h4.LexerInterpreter=Ax});var b7e=Ae(E7e=>{"use strict";m();Object.defineProperty(E7e,"__esModule",{value:!0})});var S7e=Ae(KC=>{"use strict";m();var B0t=KC&&KC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(KC,"__esModule",{value:!0});KC.RuleContextWithAltNum=void 0;var j0t=Dm(),q0t=Cr(),U0t=y1(),ose=class extends U0t.ParserRuleContext{constructor(e,t){t!==void 0?super(e,t):super(),this._altNumber=j0t.ATN.INVALID_ALT_NUMBER}get altNumber(){return this._altNumber}set altNumber(e){this._altNumber=e}};B0t([q0t.Override],ose.prototype,"altNumber",null);KC.RuleContextWithAltNum=ose});var C7e=Ae(VU=>{"use strict";m();Object.defineProperty(VU,"__esModule",{value:!0});VU.RuleDependency=void 0;function $0t(n){return(e,t,r)=>{}}VU.RuleDependency=$0t});var w7e=Ae(WU=>{"use strict";m();Object.defineProperty(WU,"__esModule",{value:!0});WU.RuleVersion=void 0;function z0t(n){return(e,t,r)=>{}}WU.RuleVersion=z0t});var T7e=Ae(A7e=>{"use strict";m();Object.defineProperty(A7e,"__esModule",{value:!0})});var D7e=Ae(F7e=>{"use strict";m();Object.defineProperty(F7e,"__esModule",{value:!0})});var O7e=Ae(R7e=>{"use strict";m();Object.defineProperty(R7e,"__esModule",{value:!0})});var k7e=Ae(m4=>{"use strict";m();var QU=m4&&m4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(m4,"__esModule",{value:!0});m4.RewriteOperation=m4.TokenStreamRewriter=void 0;var N7e=j0(),GU=Cr(),L7e=uu(),t0=class{constructor(e){this.tokens=e,this.programs=new Map,this.programs.set(t0.DEFAULT_PROGRAM_NAME,[]),this.lastRewriteTokenIndexes=new Map}getTokenStream(){return this.tokens}rollback(e,t=t0.DEFAULT_PROGRAM_NAME){let r=this.programs.get(t);r!=null&&this.programs.set(t,r.slice(t0.MIN_TOKEN_INDEX,e))}deleteProgram(e=t0.DEFAULT_PROGRAM_NAME){this.rollback(t0.MIN_TOKEN_INDEX,e)}insertAfter(e,t,r=t0.DEFAULT_PROGRAM_NAME){let i;typeof e=="number"?i=e:i=e.tokenIndex;let s=this.getProgram(r),o=new ase(this.tokens,i,s.length,t);s.push(o)}insertBefore(e,t,r=t0.DEFAULT_PROGRAM_NAME){let i;typeof e=="number"?i=e:i=e.tokenIndex;let s=this.getProgram(r),o=new p4(this.tokens,i,s.length,t);s.push(o)}replaceSingle(e,t){typeof e=="number"?this.replace(e,e,t):this.replace(e,e,t)}replace(e,t,r,i=t0.DEFAULT_PROGRAM_NAME){if(typeof e!="number"&&(e=e.tokenIndex),typeof t!="number"&&(t=t.tokenIndex),e>t||e<0||t<0||t>=this.tokens.size)throw new RangeError(`replace: range invalid: ${e}..${t}(size=${this.tokens.size})`);let s=this.getProgram(i),o=new sE(this.tokens,e,t,s.length,r);s.push(o)}delete(e,t,r=t0.DEFAULT_PROGRAM_NAME){t===void 0&&(t=e),typeof e=="number"?this.replace(e,t,"",r):this.replace(e,t,"",r)}getLastRewriteTokenIndex(e=t0.DEFAULT_PROGRAM_NAME){let t=this.lastRewriteTokenIndexes.get(e);return t??-1}setLastRewriteTokenIndex(e,t){this.lastRewriteTokenIndexes.set(e,t)}getProgram(e){let t=this.programs.get(e);return t==null&&(t=this.initializeProgram(e)),t}initializeProgram(e){let t=[];return this.programs.set(e,t),t}getText(e,t=t0.DEFAULT_PROGRAM_NAME){let r;e instanceof N7e.Interval?r=e:r=N7e.Interval.of(0,this.tokens.size-1),typeof e=="string"&&(t=e);let i=this.programs.get(t),s=r.a,o=r.b;if(o>this.tokens.size-1&&(o=this.tokens.size-1),s<0&&(s=0),i==null||i.length===0)return this.tokens.getText(r);let a=[],l=this.reduceToSingleOperationPerIndex(i),f=s;for(;f<=o&&f<this.tokens.size;){let p=l.get(f);l.delete(f);let _=this.tokens.get(f);p==null?(_.type!==L7e.Token.EOF&&a.push(String(_.text)),f++):f=p.execute(a)}if(o===this.tokens.size-1)for(let p of l.values())p.index>=this.tokens.size-1&&a.push(p.text.toString());return a.join("")}reduceToSingleOperationPerIndex(e){for(let r=0;r<e.length;r++){let i=e[r];if(i==null||!(i instanceof sE))continue;let s=i,o=this.getKindOfOps(e,p4,r);for(let l of o)l.index===s.index?(e[l.instructionIndex]=void 0,s.text=l.text.toString()+(s.text!=null?s.text.toString():"")):l.index>s.index&&l.index<=s.lastIndex&&(e[l.instructionIndex]=void 0);let a=this.getKindOfOps(e,sE,r);for(let l of a){if(l.index>=s.index&&l.lastIndex<=s.lastIndex){e[l.instructionIndex]=void 0;continue}let f=l.lastIndex<s.index||l.index>s.lastIndex;if(l.text==null&&s.text==null&&!f)e[l.instructionIndex]=void 0,s.index=Math.min(l.index,s.index),s.lastIndex=Math.max(l.lastIndex,s.lastIndex);else if(!f)throw new Error(`replace op boundaries of ${s} overlap with previous ${l}`)}}for(let r=0;r<e.length;r++){let i=e[r];if(i==null||!(i instanceof p4))continue;let s=i,o=this.getKindOfOps(e,p4,r);for(let l of o)l.index===s.index&&(l instanceof ase?(s.text=this.catOpText(l.text,s.text),e[l.instructionIndex]=void 0):l instanceof p4&&(s.text=this.catOpText(s.text,l.text),e[l.instructionIndex]=void 0));let a=this.getKindOfOps(e,sE,r);for(let l of a){if(s.index===l.index){l.text=this.catOpText(s.text,l.text),e[r]=void 0;continue}if(s.index>=l.index&&s.index<=l.lastIndex)throw new Error(`insert op ${s} within boundaries of previous ${l}`)}}let t=new Map;for(let r of e)if(r!=null){if(t.get(r.index)!=null)throw new Error("should only be one op per index");t.set(r.index,r)}return t}catOpText(e,t){let r="",i="";return e!=null&&(r=e.toString()),t!=null&&(i=t.toString()),r+i}getKindOfOps(e,t,r){let i=[];for(let s=0;s<r&&s<e.length;s++){let o=e[s];o!=null&&o instanceof t&&i.push(o)}return i}};m4.TokenStreamRewriter=t0;t0.DEFAULT_PROGRAM_NAME="default";t0.PROGRAM_INIT_SIZE=100;t0.MIN_TOKEN_INDEX=0;var IR=class{constructor(e,t,r,i){this.tokens=e,this.instructionIndex=r,this.index=t,this.text=i===void 0?"":i}execute(e){return this.index}toString(){let e=this.constructor.name,t=e.indexOf("$");return e=e.substring(t+1,e.length),"<"+e+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}};QU([GU.Override],IR.prototype,"toString",null);m4.RewriteOperation=IR;var p4=class extends IR{constructor(e,t,r,i){super(e,t,r,i)}execute(e){return e.push(this.text.toString()),this.tokens.get(this.index).type!==L7e.Token.EOF&&e.push(String(this.tokens.get(this.index).text)),this.index+1}};QU([GU.Override],p4.prototype,"execute",null);var ase=class extends p4{constructor(e,t,r,i){super(e,t+1,r,i)}},sE=class extends IR{constructor(e,t,r,i,s){super(e,t,i,s);this.lastIndex=r}execute(e){return this.text!=null&&e.push(this.text.toString()),this.lastIndex+1}toString(){return this.text==null?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}};QU([GU.Override],sE.prototype,"execute",null);QU([GU.Override],sE.prototype,"toString",null)});var M7e=Ae(I7e=>{"use strict";m();Object.defineProperty(I7e,"__esModule",{value:!0})});var B7e=Ae(P7e=>{"use strict";m();Object.defineProperty(P7e,"__esModule",{value:!0})});var j7e=Ae(ws=>{"use strict";m();var H0t=ws&&ws.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Js=ws&&ws.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&H0t(e,n,t)};Object.defineProperty(ws,"__esModule",{value:!0});Js(s4e(),ws);Js(a4e(),ws);Js(X6e(),ws);Js(Vie(),ws);Js(wie(),ws);Js(x7e(),ws);Js(CU(),ws);Js(Eie(),ws);Js(bie(),ws);Js(mS(),ws);Js(Cq(),ws);Js(TU(),ws);Js(ire(),ws);Js(zU(),ws);Js(g7e(),ws);Js(y7e(),ws);Js(PD(),ws);Js(BD(),ws);Js(Rie(),ws);Js(Jg(),ws);Js(fy(),ws);Js(_7e(),ws);Js(rR(),ws);Js(Tie(),ws);Js(pR(),ws);Js(aC(),ws);Js(b7e(),ws);Js(Nie(),ws);Js(y1(),ws);Js(qq(),ws);Js(_ie(),ws);Js(Zg(),ws);Js(ES(),ws);Js(Vre(),ws);Js(S7e(),ws);Js(C7e(),ws);Js(w7e(),ws);Js(uu(),ws);Js(T7e(),ws);Js(D7e(),ws);Js(O7e(),ws);Js(k7e(),ws);Js(M7e(),ws);Js(ay(),ws);Js(B7e(),ws)});var U7e=Ae(Tx=>{"use strict";m();var V0t=Tx&&Tx.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),W0t=Tx&&Tx.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Q0t=Tx&&Tx.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&V0t(e,n,t);return W0t(e,n),e};Object.defineProperty(Tx,"__esModule",{value:!0});Tx.MalloyLexer=void 0;var G0t=bR(),Y0t=fy(),K0t=sR(),J0t=ay(),q7e=Q0t(Fm()),er=class extends Y0t.Lexer{constructor(e){super(e);this._interp=new K0t.LexerATNSimulator(er._ATN,this)}get vocabulary(){return er.VOCABULARY}get grammarFileName(){return"MalloyLexer.g4"}get ruleNames(){return er.ruleNames}get serializedATN(){return er._serializedATN}get channelNames(){return er.channelNames}get modeNames(){return er.modeNames}static get _ATN(){return er.__ATN||(er.__ATN=new G0t.ATNDeserializer().deserialize(q7e.toCharArray(er._serializedATN))),er.__ATN}};Tx.MalloyLexer=er;er.JSON_STRING=1;er.ACCEPT=2;er.AGGREGATE=3;er.CONNECTION=4;er.DECLARE=5;er.DIMENSION=6;er.EXCEPT=7;er.EXPLORE=8;er.GROUP_BY=9;er.HAVING=10;er.INDEX=11;er.JOIN_CROSS=12;er.JOIN_ONE=13;er.JOIN_MANY=14;er.LIMIT=15;er.MEASURE=16;er.NEST=17;er.ORDER_BY=18;er.PRIMARY_KEY=19;er.PROJECT=20;er.QUERY=21;er.RENAME=22;er.SAMPLE=23;er.SELECT=24;er.SOURCE=25;er.SQL=26;er.FANCYSQL=27;er.TOP=28;er.WHERE=29;er.ALL=30;er.AND=31;er.AS=32;er.ASC=33;er.AVG=34;er.BOOLEAN=35;er.BY=36;er.CASE=37;er.CAST=38;er.CONDITION=39;er.COUNT=40;er.DATE=41;er.DAY=42;er.DESC=43;er.DISTINCT=44;er.ELSE=45;er.END=46;er.EXCLUDE=47;er.FALSE=48;er.FOR=49;er.FROM=50;er.FROM_SQL=51;er.HAS=52;er.HOUR=53;er.IMPORT=54;er.IS=55;er.JSON=56;er.LAST=57;er.MAX=58;er.MIN=59;er.MINUTE=60;er.MONTH=61;er.NOT=62;er.NOW=63;er.NULL=64;er.NUMBER=65;er.ON=66;er.OR=67;er.PICK=68;er.QMARK=69;er.QUARTER=70;er.SECOND=71;er.STRING=72;er.SUM=73;er.TABLE=74;er.THEN=75;er.THIS=76;er.TIMESTAMP=77;er.TO=78;er.TRUE=79;er.TURTLE=80;er.WEEK=81;er.WHEN=82;er.WITH=83;er.YEAR=84;er.UNGROUPED=85;er.STRING_ESCAPE=86;er.HACKY_REGEX=87;er.STRING_LITERAL=88;er.AMPER=89;er.ARROW=90;er.FAT_ARROW=91;er.OPAREN=92;er.CPAREN=93;er.OBRACK=94;er.CBRACK=95;er.OCURLY=96;er.CCURLY=97;er.DOUBLECOLON=98;er.COLON=99;er.COMMA=100;er.DOT=101;er.LT=102;er.GT=103;er.EQ=104;er.NE=105;er.LTE=106;er.GTE=107;er.PLUS=108;er.MINUS=109;er.STAR=110;er.STARSTAR=111;er.SLASH=112;er.BAR=113;er.SEMI=114;er.NOT_MATCH=115;er.MATCH=116;er.PERCENT=117;er.LITERAL_TIMESTAMP=118;er.LITERAL_DAY=119;er.LITERAL_QUARTER=120;er.LITERAL_MONTH=121;er.LITERAL_WEEK=122;er.LITERAL_YEAR=123;er.IDENTIFIER=124;er.PERCENT_LITERAL=125;er.INTEGER_LITERAL=126;er.NUMERIC_LITERAL=127;er.OBJECT_NAME_LITERAL=128;er.BLOCK_COMMENT=129;er.COMMENT_TO_EOL=130;er.WHITE_SPACE=131;er.SQL_BEGIN=132;er.CLOSE_CODE=133;er.UNWATED_CHARS_TRAILING_NUMBERS=134;er.UNEXPECTED_CHAR=135;er.OPEN_CODE=136;er.SQL_END=137;er.SQL_MODE=1;er.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"];er.modeNames=["DEFAULT_MODE","SQL_MODE"];er.ruleNames=["JSON_STRING","ESC","UNICODE","HEX","SAFECODEPOINT","SPACE_CHAR","ACCEPT","AGGREGATE","CONNECTION","DECLARE","DIMENSION","EXCEPT","EXPLORE","GROUP_BY","HAVING","INDEX","JOIN_CROSS","JOIN_ONE","JOIN_MANY","LIMIT","MEASURE","NEST","ORDER_BY","PRIMARY_KEY","PROJECT","QUERY","RENAME","SAMPLE","SELECT","SOURCE","SQL","FANCYSQL","TOP","WHERE","ALL","AND","AS","ASC","AVG","BOOLEAN","BY","CASE","CAST","CONDITION","COUNT","DATE","DAY","DESC","DISTINCT","ELSE","END","EXCLUDE","FALSE","FOR","FROM","FROM_SQL","HAS","HOUR","IMPORT","IS","JSON","LAST","MAX","MIN","MINUTE","MONTH","NOT","NOW","NULL","NUMBER","ON","OR","PICK","QMARK","QUARTER","SECOND","STRING","SUM","TABLE","THEN","THIS","TIMESTAMP","TO","TRUE","TURTLE","WEEK","WHEN","WITH","YEAR","UNGROUPED","STRING_ESCAPE","HACKY_REGEX","STRING_LITERAL","AMPER","ARROW","FAT_ARROW","OPAREN","CPAREN","OBRACK","CBRACK","OCURLY","CCURLY","DOUBLECOLON","COLON","COMMA","DOT","LT","GT","EQ","NE","LTE","GTE","PLUS","MINUS","STAR","STARSTAR","SLASH","BAR","SEMI","NOT_MATCH","MATCH","PERCENT","F_YEAR","F_DD","LX","LITERAL_TIMESTAMP","LITERAL_DAY","LITERAL_QUARTER","LITERAL_MONTH","LITERAL_WEEK","LITERAL_YEAR","IDENTIFIER","PERCENT_LITERAL","INTEGER_LITERAL","NUMERIC_LITERAL","OBJECT_NAME_LITERAL","ID_CHAR","DIGIT","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","BLOCK_COMMENT","COMMENT_TO_EOL","WHITE_SPACE","SQL_BEGIN","CLOSE_CODE","UNWATED_CHARS_TRAILING_NUMBERS","UNEXPECTED_CHAR","SQL_CHAR","OPEN_CODE","SQL_END"];er._LITERAL_NAMES=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'?'",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'&'","'->'","'=>'","'('","')'","'['","']'","'{'","'}'","'::'","':'","','","'.'","'<'","'>'","'='","'!='","'<='","'>='","'+'","'-'","'*'","'**'","'/'","'|'","';'","'!~'","'~'","'%'",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,`'"""'`,"'}%'"];er._SYMBOLIC_NAMES=[void 0,"JSON_STRING","ACCEPT","AGGREGATE","CONNECTION","DECLARE","DIMENSION","EXCEPT","EXPLORE","GROUP_BY","HAVING","INDEX","JOIN_CROSS","JOIN_ONE","JOIN_MANY","LIMIT","MEASURE","NEST","ORDER_BY","PRIMARY_KEY","PROJECT","QUERY","RENAME","SAMPLE","SELECT","SOURCE","SQL","FANCYSQL","TOP","WHERE","ALL","AND","AS","ASC","AVG","BOOLEAN","BY","CASE","CAST","CONDITION","COUNT","DATE","DAY","DESC","DISTINCT","ELSE","END","EXCLUDE","FALSE","FOR","FROM","FROM_SQL","HAS","HOUR","IMPORT","IS","JSON","LAST","MAX","MIN","MINUTE","MONTH","NOT","NOW","NULL","NUMBER","ON","OR","PICK","QMARK","QUARTER","SECOND","STRING","SUM","TABLE","THEN","THIS","TIMESTAMP","TO","TRUE","TURTLE","WEEK","WHEN","WITH","YEAR","UNGROUPED","STRING_ESCAPE","HACKY_REGEX","STRING_LITERAL","AMPER","ARROW","FAT_ARROW","OPAREN","CPAREN","OBRACK","CBRACK","OCURLY","CCURLY","DOUBLECOLON","COLON","COMMA","DOT","LT","GT","EQ","NE","LTE","GTE","PLUS","MINUS","STAR","STARSTAR","SLASH","BAR","SEMI","NOT_MATCH","MATCH","PERCENT","LITERAL_TIMESTAMP","LITERAL_DAY","LITERAL_QUARTER","LITERAL_MONTH","LITERAL_WEEK","LITERAL_YEAR","IDENTIFIER","PERCENT_LITERAL","INTEGER_LITERAL","NUMERIC_LITERAL","OBJECT_NAME_LITERAL","BLOCK_COMMENT","COMMENT_TO_EOL","WHITE_SPACE","SQL_BEGIN","CLOSE_CODE","UNWATED_CHARS_TRAILING_NUMBERS","UNEXPECTED_CHAR","OPEN_CODE","SQL_END"];er.VOCABULARY=new J0t.VocabularyImpl(er._LITERAL_NAMES,er._SYMBOLIC_NAMES,[]);er._serializedATNSegments=4;er._serializedATNSegment0=`\uC91D\uCABA\u058D\uAFBA\u4F53\u0607\uEA8B\uC241\x8B\u05D0\b\b					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r													\x1B	\x1B				 	 !	!"	"#	#$	$%	%&	&'	'(	()	)*	*+	+,	,-	-.	./	/0	01	12	23	34	45	56	67	78	89	9:	:;	;<	<=	=>	>?	?@	@A	AB	BC	CD	DE	EF	FG	GH	HI	IJ	JK	KL	LM	MN	NO	OP	PQ	QR	RS	ST	TU	UV	VW	WX	XY	YZ	Z[	[\\	\\]	]^	^_	_\`	\`a	ab	bc	cd	de	ef	fg	gh	hi	ij	jk	kl	lm	mn	no	op	pq	qr	rs	st	tu	uv	vw	wx	xy	yz	z{	{|	|}	}~	~\x7F	\x7F\x80	\x80\x81	\x81\x82	\x82\x83	\x83\x84	\x84\x85	\x85\x86	\x86\x87	\x87\x88	\x88\x89	\x89\x8A	\x8A\x8B	\x8B\x8C	\x8C\x8D	\x8D\x8E	\x8E\x8F	\x8F\x90	\x90\x91	\x91\x92	\x92\x93	\x93\x94	\x94\x95	\x95\x96	\x96\x97	\x97\x98	\x98\x99	\x99\x9A	\x9A\x9B	\x9B\x9C	\x9C\x9D	\x9D\x9E	\x9E\x9F	\x9F\xA0	\xA0\xA1	\xA1\xA2	\xA2\xA3	\xA3\xA4	\xA4\xA5	\xA5\xA6	\xA6\xA7	\xA7\xA8	\xA8\xA9	\xA9\xAA	\xAA\xAB	\xAB\xAC	\xAC\xAD	\xAD\xAE	\xAE\xAF	\xAF\x07\u0164
\f\u0167\v\u016E
\x07\x07\b\b\b\b\b\b\b\x07\b\u0183
\b\f\b\b\u0186\v\b\b\b										\x07	\u0194
	\f		\u0197\v			










\x07
\u01A6

\f

\u01A9\v


\v\v\v\v\v\v\v\v\v\f\f\f\f\f\f\f\f\f\f\x07\f\u01C0
\f\f\f\f\u01C3\v\f\f\f\r\r\r\r\r\r\r\x07\r\u01CE
\r\f\r\r\u01D1\v\r\r\r\x07\u01DD
\f\u01E0\v\x07\u01ED
\f\u01F0\v\x07\u01FB
\f\u01FE\v\x07\u0208
\f\u020B\v\x07\u0224
\f\u0227\v\x07\u0235
\f\u0238\v\x07\u0242
\f\u0245\v\x07\u0251
\f\u0254\v\x07\u025D
\f\u0260\v\x07\u026D
\f\u0270\v\x07\u0280
\f\u0283\v\x07\u028F
\f\u0292\v\x1B\x1B\x1B\x1B\x1B\x1B\x07\x1B\u029C
\x1B\f\x1B\x1B\u029F\v\x1B\x1B\x1B\x07\u02AA
\f\u02AD\v\x07\u02B8
\f\u02BB\v\x07\u02C6
\f\u02C9\v\x07\u02D4
\f\u02D7\v    \x07 \u02DF
 \f  \u02E2\v   !!!!!!!!\x07!\u02EE
!\f!!\u02F1\v!!!""""\x07"\u02F9
"\f""\u02FC\v"""######\x07#\u0306
#\f##\u0309\v###$$$$%%%%&&&''''(((())))))))***+++++,,,,,----------....../////00000\u034E
01111122222222233333444455555555666666777788888999999999::::;;;;;;\u0390
;<<<<<<<===>>>>>?????@@@@AAAABBBBBBBB\u03B5
BCCCCCCC\u03BD
CDDDDEEEEFFFFFGGGGGGGHHHIIIJJJJJKKLLLLLLLLL\u03E8
LMMMMMMMM\u03F1
MNNNNNNNOOOOPPPPPPQQQQQRRRRRSSSSSSSSSSTTTUUUUUVVVVVVVWWWWWW\u042C
WXXXXXYYYYYZZZZZZ\u043D
Z[[[[[[[[[[\\\\\\\\\\\\\\\u044F
\\]]\u0452
]]]]\x07]\u0457
]\f]]\u045A\v]]]^^^\x07^\u0461
^\f^^\u0464\v^^^__\`\`\`aaabbccddeeffgghhhiijjkkllmmnnooopppqqqrrssttuuuvvwwxxyyyzz{{|||||}}}~~~~~\u04B6
~\r~~\u04B7\x7F\x7F\x7F\x7F\x7F\x7F\x7F\x7F\x7F\x7F\x7F\x7F\x7F\u04C6
\x7F\x7F\x7F\u04C9
\x7F\x80\x80\x80\x80\x80\x80\x80\x80\u04D2
\x80\x81\x81\x81\x81\x81\x81\x81\u04DA
\x81\x82\x82\x82\x82\x82\x82\u04E1
\x82\x83\x83\x83\x83\x83\x83\x83\x83\x83\x83\u04EC
\x83\x84\x84\x84\x84\u04F1
\x84\x85\x85\x85\x07\x85\u04F6
\x85\f\x85\x85\u04F9\v\x85\x86\x86\u04FC
\x86\r\x86\x86\u04FD\x86\x86\x87\x87\u0503
\x87\r\x87\x87\u0504\x88\x88\u0508
\x88\r\x88\x88\u0509\x88\x88\x07\x88\u050E
\x88\f\x88\x88\u0511\v\x88\x88\u0513
\x88\x88\x88\x88\u0517
\x88\r\x88\x88\u0518\x88\x88\x88\u051D
\x88\x88\x88\u0520
\x88\r\x88\x88\u0521\x88\u0524
\x88\x88\u0526
\x88\x89\x89\x89\u052A
\x89\r\x89\x89\u052B\x89\x89\x8A\x8A\x8B\x8B\x8C\x8C\x8D\x8D\x8E\x8E\x8F\x8F\x90\x90\x91\x91\x92\x92\x93\x93\x94\x94\x95\x95\x96\x96\x97\x97\x98\x98\x99\x99\x9A\x9A\x9B\x9B\x9C\x9C\x9D\x9D\x9E\x9E\x9F\x9F\xA0\xA0\xA1\xA1\xA2\xA2\xA3\xA3\xA4\xA4\xA5\xA5\xA6\xA6\xA6\xA6\x07\xA6\u056C
\xA6\f\xA6\xA6\u056F\v\xA6\xA6\xA6\xA6\xA6\xA6\xA7\xA7\xA7\xA7\xA7\u057A
\xA7\xA7\x07\xA7\u057D
\xA7\f\xA7\xA7\u0580\v\xA7\xA7\xA7\u0583
\xA7\xA7\xA7\xA7\u0587
\xA7\xA7\xA7\xA8\xA8\xA8\xA8\xA9\xA9\xA9\xA9\xA9\xA9\xAA\xAA\xAA\xAA\xAA\xAB\xAB\u059B
\xAB\r\xAB\xAB\u059C\xAB\xAB\u05A0
\xAB\r\xAB\xAB\u05A1\xAB\xAB\x07\xAB\u05A6
\xAB\f\xAB\xAB\u05A9\v\xAB\xAC\xAC\xAD\xAD\xAD\xAD\xAD\xAD\xAD\xAD\xAD\xAD\xAD\xAD\u05B8
\xAD\xAE\x07\xAE\u05BB
\xAE\f\xAE\xAE\u05BE\v\xAE\xAE\xAE\xAE\xAE\xAE\xAF\x07\xAF\u05C6
\xAF\f\xAF\xAF\u05C9\v\xAF\xAF\xAF\xAF\xAF\xAF\xAF\u056D\u05BC\u05C7\xB0\b
\f\x07\b	
\v \f"\r$&(*,.02468:<>\x1B@BDFH J!L"N#P$R%T&V'X(Z)\\*^+\`,b-d.f/h0j1l2n3p4r5t6v7x8z9|:~;\x80<\x82=\x84>\x86?\x88@\x8AA\x8CB\x8EC\x90D\x92E\x94F\x96G\x98H\x9AI\x9CJ\x9EK\xA0L\xA2M\xA4N\xA6O\xA8P\xAAQ\xACR\xAES\xB0T\xB2U\xB4V\xB6W\xB8X\xBAY\xBCZ\xBE[\xC0\\\xC2]\xC4^\xC6_\xC8\`\xCAa\xCCb\xCEc\xD0d\xD2e\xD4f\xD6g\xD8h\xDAi\xDCj\xDEk\xE0l\xE2m\xE4n\xE6o\xE8p\xEAq\xECr\xEEs\xF0t\xF2u\xF4v\xF6w\xF8\xFA\xFC\xFEx\u0100y\u0102z\u0104{\u0106|\u0108}\u010A~\u010C\x7F\u010E\x80\u0110\x81\u0112\x82\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u014A\u014C\x83\u014E\x84\u0150\x85\u0152\x86\u0154\x87\u0156\x88\u0158\x89\u015A\u015C\x8A\u015E\x8B)
$$11^^ddhhppttvv2;CHch!$$^^\v\r""11TTtt))^^--//bb2;CCccDDddEEeeFFffGGggHHhhIIiiJJjjKKkkLLllMMmmNNnnOOooPPppQQqqRRrrSSssTTttUUuuVVvvWWwwXXxxYYyyZZzz[[{{\\\\||\f\f$$''$$}}\u0287C\\aac|\xAC\xAC\xB7\xB7\xBC\xBC\xC2\xD8\xDA\xF8\xFA\u02C3\u02C8\u02D3\u02E2\u02E6\u02EE\u02EE\u02F0\u02F0\u0347\u0347\u0372\u0376\u0378\u0379\u037C\u037F\u0381\u0381\u0388\u0388\u038A\u038C\u038E\u038E\u0390\u03A3\u03A5\u03F7\u03F9\u0483\u048C\u0531\u0533\u0558\u055B\u055B\u0563\u0589\u05B2\u05BF\u05C1\u05C1\u05C3\u05C4\u05C6\u05C7\u05C9\u05C9\u05D2\u05EC\u05F2\u05F4\u0612\u061C\u0622\u0659\u065B\u0661\u0670\u06D5\u06D7\u06DE\u06E3\u06EA\u06EF\u06F1\u06FC\u06FE\u0701\u0701\u0712\u0741\u074F\u07B3\u07CC\u07EC\u07F6\u07F7\u07FC\u07FC\u0802\u0819\u081C\u082E\u0842\u085A\u08A2\u08B6\u08B8\u08BF\u08D6\u08E1\u08E5\u08EB\u08F2\u093D\u093F\u094E\u0950\u0952\u0957\u0965\u0973\u0985\u0987\u098E\u0991\u0992\u0995\u09AA\u09AC\u09B2\u09B4\u09B4\u09B8\u09BB\u09BF\u09C6\u09C9\u09CA\u09CD\u09CE\u09D0\u09D0\u09D9\u09D9\u09DE\u09DF\u09E1\u09E5\u09F2\u09F3\u0A03\u0A05\u0A07\u0A0C\u0A11\u0A12\u0A15\u0A2A\u0A2C\u0A32\u0A34\u0A35\u0A37\u0A38\u0A3A\u0A3B\u0A40\u0A44\u0A49\u0A4A\u0A4D\u0A4E\u0A53\u0A53\u0A5B\u0A5E\u0A60\u0A60\u0A72\u0A77\u0A83\u0A85\u0A87\u0A8F\u0A91\u0A93\u0A95\u0AAA\u0AAC\u0AB2\u0AB4\u0AB5\u0AB7\u0ABB\u0ABF\u0AC7\u0AC9\u0ACB\u0ACD\u0ACE\u0AD2\u0AD2\u0AE2\u0AE5\u0AFB\u0AFB\u0B03\u0B05\u0B07\u0B0E\u0B11\u0B12\u0B15\u0B2A\u0B2C\u0B32\u0B34\u0B35\u0B37\u0B3B\u0B3F\u0B46\u0B49\u0B4A\u0B4D\u0B4E\u0B58\u0B59\u0B5E\u0B5F\u0B61\u0B65\u0B73\u0B73\u0B84\u0B85\u0B87\u0B8C\u0B90\u0B92\u0B94\u0B97\u0B9B\u0B9C\u0B9E\u0B9E\u0BA0\u0BA1\u0BA5\u0BA6\u0BAA\u0BAC\u0BB0\u0BBB\u0BC0\u0BC4\u0BC8\u0BCA\u0BCC\u0BCE\u0BD2\u0BD2\u0BD9\u0BD9\u0C02\u0C05\u0C07\u0C0E\u0C10\u0C12\u0C14\u0C2A\u0C2C\u0C3B\u0C3F\u0C46\u0C48\u0C4A\u0C4C\u0C4E\u0C57\u0C58\u0C5A\u0C5C\u0C62\u0C65\u0C82\u0C85\u0C87\u0C8E\u0C90\u0C92\u0C94\u0CAA\u0CAC\u0CB5\u0CB7\u0CBB\u0CBF\u0CC6\u0CC8\u0CCA\u0CCC\u0CCE\u0CD7\u0CD8\u0CE0\u0CE0\u0CE2\u0CE5\u0CF3\u0CF4\u0D03\u0D05\u0D07\u0D0E\u0D10\u0D12\u0D14\u0D3C\u0D3F\u0D46\u0D48\u0D4A\u0D4C\u0D4E\u0D50\u0D50\u0D56\u0D59\u0D61\u0D65\u0D7C\u0D81\u0D84\u0D85\u0D87\u0D98\u0D9C\u0DB3\u0DB5\u0DBD\u0DBF\u0DBF\u0DC2\u0DC8\u0DD1\u0DD6\u0DD8\u0DD8\u0DDA\u0DE1\u0DF4\u0DF5\u0E03\u0E3C\u0E42\u0E48\u0E4F\u0E4F\u0E83\u0E84\u0E86\u0E86\u0E89\u0E8A\u0E8C\u0E8C\u0E8F\u0E8F\u0E96\u0E99\u0E9B\u0EA1\u0EA3\u0EA5\u0EA7\u0EA7\u0EA9\u0EA9\u0EAC\u0EAD\u0EAF\u0EBB\u0EBD\u0EBF\u0EC2\u0EC6\u0EC8\u0EC8\u0ECF\u0ECF\u0EDE\u0EE1\u0F02\u0F02\u0F42\u0F49\u0F4B\u0F6E\u0F73\u0F83\u0F8A\u0F99\u0F9B\u0FBE\u1002\u1038\u103A\u103A\u103D\u1041\u1052\u1064\u1067\u106A\u1070\u1088\u1090\u1090\u109E\u109F\u10A2\u10C7\u10C9\u10C9\u10CF\u10CF\u10D2\u10FC\u10FE\u124A\u124C\u124F\u1252\u1258\u125A\u125A\u125C\u125F\u1262\u128A\u128C\u128F\u1292\u12B2\u12B4\u12B7\u12BA\u12C0\u12C2\u12C2\u12C4\u12C7\u12CA\u12D8\u12DA\u1312\u1314\u1317\u131A\u135C\u1361\u1361\u1382\u1391\u13A2\u13F7\u13FA\u13FF\u1403\u166E\u1671\u1681\u1683\u169C\u16A2\u16EC\u16F0\u16FA\u1702\u170E\u1710\u1715\u1722\u1735\u1742\u1755\u1762\u176E\u1770\u1772\u1774\u1775\u1782\u17B5\u17B8\u17CA\u17D9\u17D9\u17DE\u17DE\u1822\u1879\u1882\u18AC\u18B2\u18F7\u1902\u1920\u1922\u192D\u1932\u193A\u1952\u196F\u1972\u1976\u1982\u19AD\u19B2\u19CB\u1A02\u1A1D\u1A22\u1A60\u1A63\u1A76\u1AA9\u1AA9\u1B02\u1B35\u1B37\u1B45\u1B47\u1B4D\u1B82\u1BAB\u1BAE\u1BB1\u1BBC\u1BE7\u1BE9\u1BF3\u1C02\u1C37\u1C4F\u1C51\u1C5C\u1C7F\u1C82\u1C8A\u1CEB\u1CEE\u1CF0\u1CF5\u1CF7\u1CF8\u1D02`;er._serializedATNSegment1=`\u1DC1\u1DE9\u1DF6\u1E02\u1F17\u1F1A\u1F1F\u1F22\u1F47\u1F4A\u1F4F\u1F52\u1F59\u1F5B\u1F5B\u1F5D\u1F5D\u1F5F\u1F5F\u1F61\u1F7F\u1F82\u1FB6\u1FB8\u1FBE\u1FC0\u1FC0\u1FC4\u1FC6\u1FC8\u1FCE\u1FD2\u1FD5\u1FD8\u1FDD\u1FE2\u1FEE\u1FF4\u1FF6\u1FF8\u1FFE\u2073\u2073\u2081\u2081\u2092\u209E\u2104\u2104\u2109\u2109\u210C\u2115\u2117\u2117\u211B\u211F\u2126\u2126\u2128\u2128\u212A\u212A\u212C\u212F\u2131\u213B\u213E\u2141\u2147\u214B\u2150\u2150\u2162\u218A\u24B8\u24EB\u2C02\u2C30\u2C32\u2C60\u2C62\u2CE6\u2CED\u2CF0\u2CF4\u2CF5\u2D02\u2D27\u2D29\u2D29\u2D2F\u2D2F\u2D32\u2D69\u2D71\u2D71\u2D82\u2D98\u2DA2\u2DA8\u2DAA\u2DB0\u2DB2\u2DB8\u2DBA\u2DC0\u2DC2\u2DC8\u2DCA\u2DD0\u2DD2\u2DD8\u2DDA\u2DE0\u2DE2\u2E01\u2E31\u2E31\u3007\u3009\u3023\u302B\u3033\u3037\u303A\u303E\u3043\u3098\u309F\u30A1\u30A3\u30FC\u30FE\u3101\u3107\u312F\u3133\u3190\u31A2\u31BC\u31F2\u3201\u3402\u4DB7\u4E02\u9FD7\uA002\uA48E\uA4D2\uA4FF\uA502\uA60E\uA612\uA621\uA62C\uA62D\uA642\uA670\uA676\uA67D\uA681\uA6F1\uA719\uA721\uA724\uA78A\uA78D\uA7B0\uA7B2\uA7B9\uA7F9\uA803\uA805\uA807\uA809\uA80C\uA80E\uA829\uA842\uA875\uA882\uA8C5\uA8C7\uA8C7\uA8F4\uA8F9\uA8FD\uA8FD\uA8FF\uA8FF\uA90C\uA92C\uA932\uA954\uA962\uA97E\uA982\uA9B4\uA9B6\uA9C1\uA9D1\uA9D1\uA9E2\uA9E6\uA9E8\uA9F1\uA9FC\uAA00\uAA02\uAA38\uAA42\uAA4F\uAA62\uAA78\uAA7C\uAA7C\uAA80\uAAC0\uAAC2\uAAC2\uAAC4\uAAC4\uAADD\uAADF\uAAE2\uAAF1\uAAF4\uAAF7\uAB03\uAB08\uAB0B\uAB10\uAB13\uAB18\uAB22\uAB28\uAB2A\uAB30\uAB32\uAB5C\uAB5E\uAB67\uAB72\uABEC\uAC02\uD7A5\uD7B2\uD7C8\uD7CD\uD7FD\uF902\uFA6F\uFA72\uFADB\uFB02\uFB08\uFB15\uFB19\uFB1F\uFB2A\uFB2C\uFB38\uFB3A\uFB3E\uFB40\uFB40\uFB42\uFB43\uFB45\uFB46\uFB48\uFBB3\uFBD5\uFD3F\uFD52\uFD91\uFD94\uFDC9\uFDF2\uFDFD\uFE72\uFE76\uFE78\uFEFE\uFF23\uFF3C\uFF43\uFF5C\uFF68\uFFC0\uFFC4\uFFC9\uFFCC\uFFD1\uFFD4\uFFD9\uFFDC\uFFDE\r(*<>?AOR_\x82\xFC\u0142\u0176\u0282\u029E\u02A2\u02D2\u0302\u0321\u0332\u034C\u0352\u037C\u0382\u039F\u03A2\u03C5\u03CA\u03D1\u03D3\u03D7\u0402\u049F\u04B2\u04D5\u04DA\u04FD\u0502\u0529\u0532\u0565\u0602\u0738\u0742\u0757\u0762\u0769\u0802\u0807\u080A\u080A\u080C\u0837\u0839\u083A\u083E\u083E\u0841\u0857\u0862\u0878\u0882\u08A0\u08E2\u08F4\u08F6\u08F7\u0902\u0917\u0922\u093B\u0982\u09B9\u09C0\u09C1\u0A02\u0A05\u0A07\u0A08\u0A0E\u0A15\u0A17\u0A19\u0A1B\u0A35\u0A62\u0A7E\u0A82\u0A9E\u0AC2\u0AC9\u0ACB\u0AE6\u0B02\u0B37\u0B42\u0B57\u0B62\u0B74\u0B82\u0B93\u0C02\u0C4A\u0C82\u0CB4\u0CC2\u0CF4\u1002\u1047\u1084\u10BA\u10D2\u10EA\u1102\u1134\u1152\u1174\u1178\u1178\u1182\u11C1\u11C3\u11C6\u11DC\u11DC\u11DE\u11DE\u1202\u1213\u1215\u1236\u1239\u1239\u1240\u1240\u1282\u1288\u128A\u128A\u128C\u128F\u1291\u129F\u12A1\u12AA\u12B2\u12EA\u1302\u1305\u1307\u130E\u1311\u1312\u1315\u132A\u132C\u1332\u1334\u1335\u1337\u133B\u133F\u1346\u1349\u134A\u134D\u134E\u1352\u1352\u1359\u1359\u135F\u1365\u1402\u1443\u1445\u1447\u1449\u144C\u1482\u14C3\u14C6\u14C7\u14C9\u14C9\u1582\u15B7\u15BA\u15C0\u15DA\u15DF\u1602\u1640\u1642\u1642\u1646\u1646\u1682\u16B7\u1702\u171B\u171F\u172C\u18A2\u18E1\u1901\u1901\u1AC2\u1AFA\u1C02\u1C0A\u1C0C\u1C38\u1C3A\u1C40\u1C42\u1C42\u1C74\u1C91\u1C94\u1CA9\u1CAB\u1CB8\u2002\u239B\u2402\u2470\u2482\u2545\u3002\u3430\u4402\u4648\u6802\u6A3A\u6A42\u6A60\u6AD2\u6AEF\u6B02\u6B38\u6B42\u6B45\u6B65\u6B79\u6B7F\u6B91\u6F02\u6F46\u6F52\u6F80\u6F95\u6FA1\u6FE2\u6FE2\u7002\u87EE\u8802\u8AF4\uB002\uB003\uBC02\uBC6C\uBC72\uBC7E\uBC82\uBC8A\uBC92\uBC9B\uBCA0\uBCA0\uD402\uD456\uD458\uD49E\uD4A0\uD4A1\uD4A4\uD4A4\uD4A7\uD4A8\uD4AB\uD4AE\uD4B0\uD4BB\uD4BD\uD4BD\uD4BF\uD4C5\uD4C7\uD507\uD509\uD50C\uD50F\uD516\uD518\uD51E\uD520\uD53B\uD53D\uD540\uD542\uD546\uD548\uD548\uD54C\uD552\uD554\uD6A7\uD6AA\uD6C2\uD6C4\uD6DC\uD6DE\uD6FC\uD6FE\uD716\uD718\uD736\uD738\uD750\uD752\uD770\uD772\uD78A\uD78C\uD7AA\uD7AC\uD7C4\uD7C6\uD7CD\uE002\uE008\uE00A\uE01A\uE01D\uE023\uE025\uE026\uE028\uE02C\uE802\uE8C6\uE902\uE945\uE949\uE949\uEE02\uEE05\uEE07\uEE21\uEE23\uEE24\uEE26\uEE26\uEE29\uEE29\uEE2B\uEE34\uEE36\uEE39\uEE3B\uEE3B\uEE3D\uEE3D\uEE44\uEE44\uEE49\uEE49\uEE4B\uEE4B\uEE4D\uEE4D\uEE4F\uEE51\uEE53\uEE54\uEE56\uEE56\uEE59\uEE59\uEE5B\uEE5B\uEE5D\uEE5D\uEE5F\uEE5F\uEE61\uEE61\uEE63\uEE64\uEE66\uEE66\uEE69\uEE6C\uEE6E\uEE74\uEE76\uEE79\uEE7B\uEE7E\uEE80\uEE80\uEE82\uEE8B\uEE8D\uEE9D\uEEA3\uEEA5\uEEA7\uEEAB\uEEAD\uEEBD\uF132\uF14B\uF152\uF16B\uF172\uF18B\uA6D8\uA702\uB736\uB742\uB81F\uB822\uCEA3\uF802\uFA1F\u05F9 "$&(*,.02468:<>@BDFHJLNPRTVXZ\\^\`bdfhjlnprtvxz|~\x80\x82\x84\x86\x88\x8A\x8C\x8E\x90\x92\x94\x96\x98\x9A\x9C\x9E\xA0\xA2\xA4\xA6\xA8\xAA\xAC\xAE\xB0\xB2\xB4\xB6\xB8\xBA\xBC\xBE\xC0\xC2\xC4\xC6\xC8\xCA\xCC\xCE\xD0\xD2\xD4\xD6\xD8\xDA\xDC\xDE\xE0\xE2\xE4\xE6\xE8\xEA\xEC\xEE\xF0\xF2\xF4\xF6\xFE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015C\u015E\u0160\u016A\b\u016F
\u0175\f\u0177\u0179\u017B\u0189\u019A\u01AC\u01B5\u01C6\u01D4\u01E3 \u01F3"\u0201$\u020E&\u021A(\u022A*\u023B,\u0248.\u02570\u02632\u02734\u02866\u02958\u02A2:\u02B0<\u02BE>\u02CC@\u02DAB\u02E5D\u02F4F\u02FFH\u030CJ\u0310L\u0314N\u0317P\u031BR\u031FT\u0327V\u032AX\u032FZ\u0334\\\u033E^\u0344\`\u0349b\u034Fd\u0354f\u035Dh\u0362j\u0366l\u036En\u0374p\u0378r\u037Dt\u0386v\u038Ax\u0391z\u0398|\u039B~\u03A0\x80\u03A5\x82\u03A9\x84\u03AD\x86\u03B6\x88\u03BE\x8A\u03C2\x8C\u03C6\x8E\u03CB\x90\u03D2\x92\u03D5\x94\u03D8\x96\u03DD\x98\u03DF\x9A\u03E9\x9C\u03F2\x9E\u03F9\xA0\u03FD\xA2\u0403\xA4\u0408\xA6\u040D\xA8\u0417\xAA\u041A\xAC\u041F\xAE\u0426\xB0\u042D\xB2\u0432\xB4\u0437\xB6\u043E\xB8\u044E\xBA\u0451\xBC\u045D\xBE\u0467\xC0\u0469\xC2\u046C\xC4\u046F\xC6\u0471\xC8\u0473\xCA\u0475\xCC\u0477\xCE\u0479\xD0\u047B\xD2\u047E\xD4\u0480\xD6\u0482\xD8\u0484\xDA\u0486\xDC\u0488\xDE\u048A\xE0\u048D\xE2\u0490\xE4\u0493\xE6\u0495\xE8\u0497\xEA\u0499\xEC\u049C\xEE\u049E\xF0\u04A0\xF2\u04A2\xF4\u04A5\xF6\u04A7\xF8\u04A9\xFA\u04AE\xFC\u04B1\xFE\u04B9\u0100\u04CA\u0102\u04D3\u0104\u04DB\u0106\u04E2\u0108\u04ED\u010A\u04F2\u010C\u04FB\u010E\u0502\u0110\u0525\u0112\u0527\u0114\u052F\u0116\u0531\u0118\u0533\u011A\u0535\u011C\u0537\u011E\u0539\u0120\u053B\u0122\u053D\u0124\u053F\u0126\u0541\u0128\u0543\u012A\u0545\u012C\u0547\u012E\u0549\u0130\u054B\u0132\u054D\u0134\u054F\u0136\u0551\u0138\u0553\u013A\u0555\u013C\u0557\u013E\u0559\u0140\u055B\u0142\u055D\u0144\u055F\u0146\u0561\u0148\u0563\u014A\u0565\u014C\u0567\u014E\u0579\u0150\u058A\u0152\u058E\u0154\u0594\u0156\u059A\u0158\u05AA\u015A\u05B7\u015C\u05BC\u015E\u05C7\u0160\u0165\x07$\u0161\u0164\u0162\u0164\f\u0163\u0161\u0163\u0162\u0164\u0167\u0165\u0163\u0165\u0166\u0166\u0168\u0167\u0165\u0168\u0169\x07$\u0169\u016A\u016D\x07^\u016B\u016E	\u016C\u016E\b\u016D\u016B\u016D\u016C\u016E\x07\u016F\u0170\x07w\u0170\u0171
\u0171\u0172
\u0172\u0173
\u0173\u0174
\u0174	\u0175\u0176	\u0176\v\u0177\u0178
\u0178\r\u0179\u017A	\u017A\u017B\u017C\u0118\x8C\u017C\u017D\u011C\x8E\u017D\u017E\u011C\x8E\u017E\u017F\u0120\x90\u017F\u0180\u0136\x9B\u0180\u0184\u013E\x9F\u0181\u0183\x07\u0182\u0181\u0183\u0186\u0184\u0182\u0184\u0185\u0185\u0187\u0186\u0184\u0187\u0188\x07<\u0188\u0189\u018A\u0118\x8C\u018A\u018B\u0124\x92\u018B\u018C\u0124\x92\u018C\u018D\u013A\x9D\u018D\u018E\u0120\x90\u018E\u018F\u0124\x92\u018F\u0190\u0118\x8C\u0190\u0191\u013E\x9F\u0191\u0195\u0120\x90\u0192\u0194\x07\u0193\u0192\u0194\u0197\u0195\u0193\u0195\u0196\u0196\u0198\u0197\u0195\u0198\u0199\x07<\u0199\u019A\u019B\u011C\x8E\u019B\u019C\u0134\x9A\u019C\u019D\u0132\x99\u019D\u019E\u0132\x99\u019E\u019F\u0120\x90\u019F\u01A0\u011C\x8E\u01A0\u01A1\u013E\x9F\u01A1\u01A2\u0128\x94\u01A2\u01A3\u0134\x9A\u01A3\u01A7\u0132\x99\u01A4\u01A6\x07\u01A5\u01A4\u01A6\u01A9\u01A7\u01A5\u01A7\u01A8\u01A8\u01AA\u01A9\u01A7\u01AA\u01AB\x07<\u01AB\u01AC\u01AD\u011E\x8F\u01AD\u01AE\u0120\x90\u01AE\u01AF\u011C\x8E\u01AF\u01B0\u012E\x97\u01B0\u01B1\u0118\x8C\u01B1\u01B2\u013A\x9D\u01B2\u01B3\u0120\x90\u01B3\u01B4\x07<\u01B4\u01B5\u01B6\u011E\x8F\u01B6\u01B7\u0128\x94\u01B7\u01B8\u0130\x98\u01B8\u01B9\u0120\x90\u01B9\u01BA\u0132\x99\u01BA\u01BB\u013C\x9E\u01BB\u01BC\u0128\x94\u01BC\u01BD\u0134\x9A\u01BD\u01C1\u0132\x99\u01BE\u01C0\x07\u01BF\u01BE\u01C0\u01C3\u01C1\u01BF\u01C1\u01C2\u01C2\u01C4\u01C3\u01C1\u01C4\u01C5\x07<\u01C5\u01C6\u01C7\u0120\x90\u01C7\u01C8\u0146\xA3\u01C8\u01C9\u011C\x8E\u01C9\u01CA\u0120\x90\u01CA\u01CB\u0136\x9B\u01CB\u01CF\u013E\x9F\u01CC\u01CE\x07\u01CD\u01CC\u01CE\u01D1\u01CF\u01CD\u01CF\u01D0\u01D0\u01D2\u01D1\u01CF\u01D2\u01D3\x07<\u01D3\x1B\u01D4\u01D5\u0120\x90\u01D5\u01D6\u0146\xA3\u01D6\u01D7\u0136\x9B\u01D7\u01D8\u012E\x97\u01D8\u01D9\u0134\x9A\u01D9\u01DA\u013A\x9D\u01DA\u01DE\u0120\x90\u01DB\u01DD\x07\u01DC\u01DB\u01DD\u01E0\u01DE\u01DC\u01DE\u01DF\u01DF\u01E1\u01E0\u01DE\u01E1\u01E2\x07<\u01E2\u01E3\u01E4\u0124\x92\u01E4\u01E5\u013A\x9D\u01E5\u01E6\u0134\x9A\u01E6\u01E7\u0140\xA0\u01E7\u01E8\u0136\x9B\u01E8\u01E9\x07a\u01E9\u01EA\u011A\x8D\u01EA\u01EE\u0148\xA4\u01EB\u01ED\x07\u01EC\u01EB\u01ED\u01F0\u01EE\u01EC\u01EE\u01EF\u01EF\u01F1\u01F0\u01EE\u01F1\u01F2\x07<\u01F2\u01F3\u01F4\u0126\x93\u01F4\u01F5\u0118\x8C\u01F5\u01F6\u0142\xA1\u01F6\u01F7\u0128\x94\u01F7\u01F8\u0132\x99\u01F8\u01FC\u0124\x92\u01F9\u01FB\x07\u01FA\u01F9\u01FB\u01FE\u01FC\u01FA\u01FC\u01FD\u01FD\u01FF\u01FE\u01FC\u01FF\u0200\x07<\u0200!\u0201\u0202\u0128\x94\u0202\u0203\u0132\x99\u0203\u0204\u011E\x8F\u0204\u0205\u0120\x90\u0205\u0209\u0146\xA3\u0206\u0208\x07\u0207\u0206\u0208\u020B\u0209\u0207\u0209\u020A\u020A\u020C\u020B\u0209\u020C\u020D\x07<\u020D#\u020E\u020F\u012A\x95\u020F\u0210\u0134\x9A\u0210\u0211\u0128\x94\u0211\u0212\u0132\x99\u0212\u0213\x07a\u0213\u0214\u011C\x8E\u0214\u0215\u013A\x9D\u0215\u0216\u0134\x9A\u0216\u0217\u013C\x9E\u0217\u0218\u013C\x9E\u0218\u0219\x07<\u0219%\u021A\u021B\u012A\x95\u021B\u021C\u0134\x9A\u021C\u021D\u0128\x94\u021D\u021E\u0132\x99\u021E\u021F\x07a\u021F\u0220\u0134\x9A\u0220\u0221\u0132\x99\u0221\u0225\u0120\x90\u0222\u0224\x07\u0223\u0222\u0224\u0227\u0225\u0223\u0225\u0226\u0226\u0228\u0227\u0225\u0228\u0229\x07<\u0229'\u022A\u022B\u012A\x95\u022B\u022C\u0134\x9A\u022C\u022D\u0128\x94\u022D\u022E\u0132\x99\u022E\u022F\x07a\u022F\u0230\u0130\x98\u0230\u0231\u0118\x8C\u0231\u0232\u0132\x99\u0232\u0236\u0148\xA4\u0233\u0235\x07\u0234\u0233\u0235\u0238\u0236\u0234\u0236\u0237\u0237\u0239\u0238\u0236\u0239\u023A\x07<\u023A)\u023B\u023C\u012E\x97\u023C\u023D\u0128\x94\u023D\u023E\u0130\x98\u023E\u023F\u0128\x94\u023F\u0243\u013E\x9F\u0240\u0242\x07\u0241\u0240\u0242\u0245\u0243\u0241\u0243\u0244\u0244\u0246\u0245\u0243\u0246\u0247\x07<\u0247+\u0248\u0249\u0130\x98\u0249\u024A\u0120\x90\u024A\u024B\u0118\x8C\u024B\u024C\u013C\x9E\u024C\u024D\u0140\xA0\u024D\u024E\u013A\x9D\u024E\u0252\u0120\x90\u024F\u0251\x07\u0250\u024F\u0251\u0254\u0252\u0250\u0252\u0253\u0253\u0255\u0254\u0252\u0255\u0256\x07<\u0256-\u0257\u0258\u0132\x99\u0258\u0259\u0120\x90\u0259\u025A\u013C\x9E\u025A\u025E\u013E\x9F\u025B\u025D\x07\u025C\u025B\u025D\u0260\u025E\u025C\u025E\u025F\u025F\u0261\u0260\u025E\u0261\u0262\x07<\u0262/\u0263\u0264\u0134\x9A\u0264\u0265\u013A\x9D\u0265\u0266`;er._serializedATNSegment2=`\u011E\x8F\u0266\u0267\u0120\x90\u0267\u0268\u013A\x9D\u0268\u0269\x07a\u0269\u026A\u011A\x8D\u026A\u026E\u0148\xA4\u026B\u026D\x07\u026C\u026B\u026D\u0270\u026E\u026C\u026E\u026F\u026F\u0271\u0270\u026E\u0271\u0272\x07<\u02721\u0273\u0274\u0136\x9B\u0274\u0275\u013A\x9D\u0275\u0276\u0128\x94\u0276\u0277\u0130\x98\u0277\u0278\u0118\x8C\u0278\u0279\u013A\x9D\u0279\u027A\u0148\xA4\u027A\u027B\x07a\u027B\u027C\u012C\x96\u027C\u027D\u0120\x90\u027D\u0281\u0148\xA4\u027E\u0280\x07\u027F\u027E\u0280\u0283\u0281\u027F\u0281\u0282\u0282\u0284\u0283\u0281\u0284\u0285\x07<\u02853\u0286\u0287\u0136\x9B\u0287\u0288\u013A\x9D\u0288\u0289\u0134\x9A\u0289\u028A\u012A\x95\u028A\u028B\u0120\x90\u028B\u028C\u011C\x8E\u028C\u0290\u013E\x9F\u028D\u028F\x07\u028E\u028D\u028F\u0292\u0290\u028E\u0290\u0291\u0291\u0293\u0292\u0290\u0293\u0294\x07<\u02945\u0295\u0296\u0138\x9C\u0296\u0297\u0140\xA0\u0297\u0298\u0120\x90\u0298\u0299\u013A\x9D\u0299\u029D\u0148\xA4\u029A\u029C\x07\u029B\u029A\u029C\u029F\u029D\u029B\u029D\u029E\u029E\u02A0\u029F\u029D\u02A0\u02A1\x07<\u02A17\u02A2\u02A3\u013A\x9D\u02A3\u02A4\u0120\x90\u02A4\u02A5\u0132\x99\u02A5\u02A6\u0118\x8C\u02A6\u02A7\u0130\x98\u02A7\u02AB\u0120\x90\u02A8\u02AA\x07\u02A9\u02A8\u02AA\u02AD\u02AB\u02A9\u02AB\u02AC\u02AC\u02AE\u02AD\u02AB\u02AE\u02AF\x07<\u02AF9\u02B0\u02B1\u013C\x9E\u02B1\u02B2\u0118\x8C\u02B2\u02B3\u0130\x98\u02B3\u02B4\u0136\x9B\u02B4\u02B5\u012E\x97\u02B5\u02B9\u0120\x90\u02B6\u02B8\x07\u02B7\u02B6\u02B8\u02BB\u02B9\u02B7\u02B9\u02BA\u02BA\u02BC\u02BB\u02B9\u02BC\u02BD\x07<\u02BD;\u02BE\u02BF\u013C\x9E\u02BF\u02C0\u0120\x90\u02C0\u02C1\u012E\x97\u02C1\u02C2\u0120\x90\u02C2\u02C3\u011C\x8E\u02C3\u02C7\u013E\x9F\u02C4\u02C6\x07\u02C5\u02C4\u02C6\u02C9\u02C7\u02C5\u02C7\u02C8\u02C8\u02CA\u02C9\u02C7\u02CA\u02CB\x07<\u02CB=\u02CC\u02CD\u013C\x9E\u02CD\u02CE\u0134\x9A\u02CE\u02CF\u0140\xA0\u02CF\u02D0\u013A\x9D\u02D0\u02D1\u011C\x8E\u02D1\u02D5\u0120\x90\u02D2\u02D4\x07\u02D3\u02D2\u02D4\u02D7\u02D5\u02D3\u02D5\u02D6\u02D6\u02D8\u02D7\u02D5\u02D8\u02D9\x07<\u02D9?\u02DA\u02DB\u013C\x9E\u02DB\u02DC\u0138\x9C\u02DC\u02E0\u012E\x97\u02DD\u02DF\x07\u02DE\u02DD\u02DF\u02E2\u02E0\u02DE\u02E0\u02E1\u02E1\u02E3\u02E2\u02E0\u02E3\u02E4\x07<\u02E4A\u02E5\u02E6\u013E\x9F\u02E6\u02E7\u0140\xA0\u02E7\u02E8\u013A\x9D\u02E8\u02E9\u011E\x8F\u02E9\u02EA\u0140\xA0\u02EA\u02EB\u011C\x8E\u02EB\u02EF\u012C\x96\u02EC\u02EE\x07\u02ED\u02EC\u02EE\u02F1\u02EF\u02ED\u02EF\u02F0\u02F0\u02F2\u02F1\u02EF\u02F2\u02F3\x07<\u02F3C\u02F4\u02F5\u013E\x9F\u02F5\u02F6\u0134\x9A\u02F6\u02FA\u0136\x9B\u02F7\u02F9\x07\u02F8\u02F7\u02F9\u02FC\u02FA\u02F8\u02FA\u02FB\u02FB\u02FD\u02FC\u02FA\u02FD\u02FE\x07<\u02FEE\u02FF\u0300\u0144\xA2\u0300\u0301\u0126\x93\u0301\u0302\u0120\x90\u0302\u0303\u013A\x9D\u0303\u0307\u0120\x90\u0304\u0306\x07\u0305\u0304\u0306\u0309\u0307\u0305\u0307\u0308\u0308\u030A\u0309\u0307\u030A\u030B\x07<\u030BG\u030C\u030D\u0118\x8C\u030D\u030E\u012E\x97\u030E\u030F\u012E\x97\u030FI\u0310\u0311\u0118\x8C\u0311\u0312\u0132\x99\u0312\u0313\u011E\x8F\u0313K\u0314\u0315\u0118\x8C\u0315\u0316\u013C\x9E\u0316M\u0317\u0318\u0118\x8C\u0318\u0319\u013C\x9E\u0319\u031A\u011C\x8E\u031AO\u031B\u031C\u0118\x8C\u031C\u031D\u0142\xA1\u031D\u031E\u0124\x92\u031EQ\u031F\u0320\u011A\x8D\u0320\u0321\u0134\x9A\u0321\u0322\u0134\x9A\u0322\u0323\u012E\x97\u0323\u0324\u0120\x90\u0324\u0325\u0118\x8C\u0325\u0326\u0132\x99\u0326S\u0327\u0328\u011A\x8D\u0328\u0329\u0148\xA4\u0329U\u032A\u032B\u011C\x8E\u032B\u032C\u0118\x8C\u032C\u032D\u013C\x9E\u032D\u032E\u0120\x90\u032EW\u032F\u0330\u011C\x8E\u0330\u0331\u0118\x8C\u0331\u0332\u013C\x9E\u0332\u0333\u013E\x9F\u0333Y\u0334\u0335\u011C\x8E\u0335\u0336\u0134\x9A\u0336\u0337\u0132\x99\u0337\u0338\u011E\x8F\u0338\u0339\u0128\x94\u0339\u033A\u013E\x9F\u033A\u033B\u0128\x94\u033B\u033C\u0134\x9A\u033C\u033D\u0132\x99\u033D[\u033E\u033F\u011C\x8E\u033F\u0340\u0134\x9A\u0340\u0341\u0140\xA0\u0341\u0342\u0132\x99\u0342\u0343\u013E\x9F\u0343]\u0344\u0345\u011E\x8F\u0345\u0346\u0118\x8C\u0346\u0347\u013E\x9F\u0347\u0348\u0120\x90\u0348_\u0349\u034A\u011E\x8F\u034A\u034B\u0118\x8C\u034B\u034D\u0148\xA4\u034C\u034E\u013C\x9E\u034D\u034C\u034D\u034E\u034Ea\u034F\u0350\u011E\x8F\u0350\u0351\u0120\x90\u0351\u0352\u013C\x9E\u0352\u0353\u011C\x8E\u0353c\u0354\u0355\u011E\x8F\u0355\u0356\u0128\x94\u0356\u0357\u013C\x9E\u0357\u0358\u013E\x9F\u0358\u0359\u0128\x94\u0359\u035A\u0132\x99\u035A\u035B\u011C\x8E\u035B\u035C\u013E\x9F\u035Ce\u035D\u035E\u0120\x90\u035E\u035F\u012E\x97\u035F\u0360\u013C\x9E\u0360\u0361\u0120\x90\u0361g\u0362\u0363\u0120\x90\u0363\u0364\u0132\x99\u0364\u0365\u011E\x8F\u0365i\u0366\u0367\u0120\x90\u0367\u0368\u0146\xA3\u0368\u0369\u011C\x8E\u0369\u036A\u012E\x97\u036A\u036B\u0140\xA0\u036B\u036C\u011E\x8F\u036C\u036D\u0120\x90\u036Dk\u036E\u036F\u0122\x91\u036F\u0370\u0118\x8C\u0370\u0371\u012E\x97\u0371\u0372\u013C\x9E\u0372\u0373\u0120\x90\u0373m\u0374\u0375\u0122\x91\u0375\u0376\u0134\x9A\u0376\u0377\u013A\x9D\u0377o\u0378\u0379\u0122\x91\u0379\u037A\u013A\x9D\u037A\u037B\u0134\x9A\u037B\u037C\u0130\x98\u037Cq\u037D\u037E\u0122\x91\u037E\u037F\u013A\x9D\u037F\u0380\u0134\x9A\u0380\u0381\u0130\x98\u0381\u0382\x07a\u0382\u0383\u013C\x9E\u0383\u0384\u0138\x9C\u0384\u0385\u012E\x97\u0385s\u0386\u0387\u0126\x93\u0387\u0388\u0118\x8C\u0388\u0389\u013C\x9E\u0389u\u038A\u038B\u0126\x93\u038B\u038C\u0134\x9A\u038C\u038D\u0140\xA0\u038D\u038F\u013A\x9D\u038E\u0390\u013C\x9E\u038F\u038E\u038F\u0390\u0390w\u0391\u0392\u0128\x94\u0392\u0393\u0130\x98\u0393\u0394\u0136\x9B\u0394\u0395\u0134\x9A\u0395\u0396\u013A\x9D\u0396\u0397\u013E\x9F\u0397y\u0398\u0399\u0128\x94\u0399\u039A\u013C\x9E\u039A{\u039B\u039C\u012A\x95\u039C\u039D\u013C\x9E\u039D\u039E\u0134\x9A\u039E\u039F\u0132\x99\u039F}\u03A0\u03A1\u012E\x97\u03A1\u03A2\u0118\x8C\u03A2\u03A3\u013C\x9E\u03A3\u03A4\u013E\x9F\u03A4\x7F\u03A5\u03A6\u0130\x98\u03A6\u03A7\u0118\x8C\u03A7\u03A8\u0146\xA3\u03A8\x81\u03A9\u03AA\u0130\x98\u03AA\u03AB\u0128\x94\u03AB\u03AC\u0132\x99\u03AC\x83\u03AD\u03AE\u0130\x98\u03AE\u03AF\u0128\x94\u03AF\u03B0\u0132\x99\u03B0\u03B1\u0140\xA0\u03B1\u03B2\u013E\x9F\u03B2\u03B4\u0120\x90\u03B3\u03B5\u013C\x9E\u03B4\u03B3\u03B4\u03B5\u03B5\x85\u03B6\u03B7\u0130\x98\u03B7\u03B8\u0134\x9A\u03B8\u03B9\u0132\x99\u03B9\u03BA\u013E\x9F\u03BA\u03BC\u0126\x93\u03BB\u03BD\u013C\x9E\u03BC\u03BB\u03BC\u03BD\u03BD\x87\u03BE\u03BF\u0132\x99\u03BF\u03C0\u0134\x9A\u03C0\u03C1\u013E\x9F\u03C1\x89\u03C2\u03C3\u0132\x99\u03C3\u03C4\u0134\x9A\u03C4\u03C5\u0144\xA2\u03C5\x8B\u03C6\u03C7\u0132\x99\u03C7\u03C8\u0140\xA0\u03C8\u03C9\u012E\x97\u03C9\u03CA\u012E\x97\u03CA\x8D\u03CB\u03CC\u0132\x99\u03CC\u03CD\u0140\xA0\u03CD\u03CE\u0130\x98\u03CE\u03CF\u011A\x8D\u03CF\u03D0\u0120\x90\u03D0\u03D1\u013A\x9D\u03D1\x8F\u03D2\u03D3\u0134\x9A\u03D3\u03D4\u0132\x99\u03D4\x91\u03D5\u03D6\u0134\x9A\u03D6\u03D7\u013A\x9D\u03D7\x93\u03D8\u03D9\u0136\x9B\u03D9\u03DA\u0128\x94\u03DA\u03DB\u011C\x8E\u03DB\u03DC\u012C\x96\u03DC\x95\u03DD\u03DE\x07A\u03DE\x97\u03DF\u03E0\u0138\x9C\u03E0\u03E1\u0140\xA0\u03E1\u03E2\u0118\x8C\u03E2\u03E3\u013A\x9D\u03E3\u03E4\u013E\x9F\u03E4\u03E5\u0120\x90\u03E5\u03E7\u013A\x9D\u03E6\u03E8\u013C\x9E\u03E7\u03E6\u03E7\u03E8\u03E8\x99\u03E9\u03EA\u013C\x9E\u03EA\u03EB\u0120\x90\u03EB\u03EC\u011C\x8E\u03EC\u03ED\u0134\x9A\u03ED\u03EE\u0132\x99\u03EE\u03F0\u011E\x8F\u03EF\u03F1\u013C\x9E\u03F0\u03EF\u03F0\u03F1\u03F1\x9B\u03F2\u03F3\u013C\x9E\u03F3\u03F4\u013E\x9F\u03F4\u03F5\u013A\x9D\u03F5\u03F6\u0128\x94\u03F6\u03F7\u0132\x99\u03F7\u03F8\u0124\x92\u03F8\x9D\u03F9\u03FA\u013C\x9E\u03FA\u03FB\u0140\xA0\u03FB\u03FC\u0130\x98\u03FC\x9F\u03FD\u03FE\u013E\x9F\u03FE\u03FF\u0118\x8C\u03FF\u0400\u011A\x8D\u0400\u0401\u012E\x97\u0401\u0402\u0120\x90\u0402\xA1\u0403\u0404\u013E\x9F\u0404\u0405\u0126\x93\u0405\u0406\u0120\x90\u0406\u0407\u0132\x99\u0407\xA3\u0408\u0409\u013E\x9F\u0409\u040A\u0126\x93\u040A\u040B\u0128\x94\u040B\u040C\u013C\x9E\u040C\xA5\u040D\u040E\u013E\x9F\u040E\u040F\u0128\x94\u040F\u0410\u0130\x98\u0410\u0411\u0120\x90\u0411\u0412\u013C\x9E\u0412\u0413\u013E\x9F\u0413\u0414\u0118\x8C\u0414\u0415\u0130\x98\u0415\u0416\u0136\x9B\u0416\xA7\u0417\u0418\u013E\x9F\u0418\u0419\u0134\x9A\u0419\xA9\u041A\u041B\u013E\x9F\u041B\u041C\u013A\x9D\u041C\u041D\u0140\xA0\u041D\u041E\u0120\x90\u041E\xAB\u041F\u0420\u013E\x9F\u0420\u0421\u0140\xA0\u0421\u0422\u013A\x9D\u0422\u0423\u013E\x9F\u0423\u0424\u012E\x97\u0424\u0425\u0120\x90\u0425\xAD\u0426\u0427\u0144\xA2\u0427\u0428\u0120\x90\u0428\u0429\u0120\x90\u0429\u042B\u012C\x96\u042A\u042C\u013C\x9E\u042B\u042A\u042B\u042C\u042C\xAF\u042D\u042E\u0144\xA2\u042E\u042F\u0126\x93\u042F\u0430\u0120\x90\u0430\u0431\u0132\x99\u0431\xB1\u0432\u0433\u0144\xA2\u0433\u0434\u0128\x94\u0434\u0435\u013E\x9F\u0435\u0436\u0126\x93\u0436\xB3\u0437\u0438\u0148\xA4\u0438\u0439\u0120\x90\u0439\u043A\u0118\x8C\u043A\u043C\u013A\x9D\u043B\u043D\u013C\x9E\u043C\u043B\u043C\u043D\u043D\xB5\u043E\u043F\u0140\xA0\u043F\u0440\u0132\x99\u0440\u0441\u0124\x92\u0441\u0442\u013A\x9D\u0442\u0443\u0134\x9A\u0443\u0444\u0140\xA0\u0444\u0445\u0136\x9B\u0445\u0446\u0120\x90\u0446\u0447\u011E\x8F\u0447\xB7\u0448\u0449\x07^\u0449\u044F\x07)\u044A\u044B\x07^\u044B\u044F\x07^\u044C\u044D\x07^\u044D\u044F\v\u044E\u0448\u044E\u044A\u044E\u044C\u044F\xB9\u0450\u0452	\u0451\u0450\u0452\u0453\u0453\u0458\x07)\u0454\u0457\xB8\\\u0455\u0457
\x07\u0456\u0454\u0456\u0455\u0457\u045A\u0458\u0456\u0458\u0459\u0459\u045B\u045A\u0458\u045B\u045C\x07)\u045C\xBB\u045D\u0462\x07)\u045E\u0461\xB8\\\u045F\u0461
\x07\u0460\u045E\u0460\u045F\u0461\u0464\u0462\u0460\u0462\u0463\u0463\u0465\u0464\u0462\u0465\u0466\x07)\u0466\xBD\u0467\u0468\x07(\u0468\xBF\u0469\u046A\x07/\u046A\u046B\x07@\u046B\xC1\u046C\u046D\x07?\u046D\u046E\x07@\u046E\xC3\u046F\u0470\x07*\u0470\xC5\u0471\u0472\x07+\u0472\xC7\u0473\u0474\x07]\u0474\xC9\u0475\u0476\x07_\u0476\xCB\u0477\u0478\x07}\u0478\xCD\u0479\u047A\x07\x7F\u047A\xCF\u047B\u047C\x07<\u047C\u047D\x07<\u047D\xD1\u047E\u047F\x07<\u047F\xD3\u0480\u0481\x07.\u0481\xD5\u0482\u0483\x070\u0483\xD7\u0484\u0485\x07>\u0485\xD9\u0486\u0487\x07@\u0487\xDB\u0488\u0489\x07?\u0489\xDD\u048A\u048B\x07#\u048B\u048C\x07?\u048C\xDF\u048D\u048E\x07>\u048E\u048F\x07?\u048F\xE1\u0490\u0491\x07@\u0491\u0492\x07?\u0492\xE3\u0493\u0494\x07-\u0494\xE5\u0495\u0496\x07/\u0496\xE7\u0497\u0498\x07,\u0498\xE9\u0499\u049A\x07,\u049A\u049B\x07,\u049B\xEB\u049C\u049D\x071\u049D\xED\u049E\u049F\x07~\u049F\xEF\u04A0\u04A1\x07=\u04A1\xF1\u04A2\u04A3\x07#\u04A3\u04A4\x07\x80\u04A4\xF3\u04A5\u04A6\x07\x80\u04A6\xF5\u04A7\u04A8\x07'\u04A8\xF7\u04A9\u04AA\u0116\x8B\u04AA\u04AB\u0116\x8B\u04AB\u04AC\u0116\x8B\u04AC\u04AD\u0116\x8B\u04AD\xF9\u04AE\u04AF\u0116\x8B\u04AF\u04B0\u0116\x8B\u04B0\xFB\u04B1\u04B2\x07/\u04B2\u04B5\x07Z\u04B3\u04B6\u0114\x8A\u04B4\u04B6\u0116\x8B\u04B5\u04B3\u04B5\u04B4\u04B6\u04B7\u04B7\u04B5\u04B7\u04B8\u04B8\xFD\u04B9\u04BA\x07B\u04BA\u04BB\xF8|\u04BB\u04BC\x07/\u04BC\u04BD\xFA}\u04BD\u04BE\x07/\u04BE\u04BF\xFA}\u04BF\u04C0\x07"\u04C0\u04C1\xFA}\u04C1\u04C2\x07<\u04C2\u04C5\xFA}\u04C3\u04C4\x07<\u04C4\u04C6\xFA}\u04C5\u04C3\u04C5\u04C6\u04C6\u04C8\u04C7\u04C9\xFC~\u04C8\u04C7\u04C8\u04C9\u04C9\xFF\u04CA\u04CB\x07B\u04CB\u04CC\xF8|\u04CC\u04CD\x07/\u04CD\u04CE\xFA}\u04CE\u04CF\x07/\u04CF\u04D1\xFA}\u04D0\u04D2\xFC~\u04D1\u04D0\u04D1\u04D2\u04D2\u0101\u04D3\u04D4\x07B\u04D4\u04D5\xF8|\u04D5\u04D6\x07/\u04D6\u04D7\x07S\u04D7\u04D936\u04D8\u04DA\xFC~\u04D9\u04D8\u04D9\u04DA\u04DA\u0103\u04DB\u04DC\x07B\u04DC\u04DD\xF8|\u04DD\u04DE\x07/\u04DE\u04E0\xFA}\u04DF\u04E1\xFC~\u04E0\u04DF\u04E0\u04E1\u04E1\u0105\u04E2\u04E3\x07B\u04E3\u04E4\u0144\xA2\u04E4\u04E5\u012C\x96\u04E5\u04E6\xF8|\u04E6\u04E7\x07/\u04E7\u04E8\xFA}\u04E8\u04E9\x07/\u04E9\u04EB\xFA}\u04EA\u04EC\xFC~\u04EB\u04EA\u04EB\u04EC\u04EC\u0107\u04ED\u04EE\x07B\u04EE\u04F0\xF8|\u04EF\u04F1\xFC~\u04F0\u04EF\u04F0\u04F1\u04F1\u0109\u04F2\u04F7\u0114\x8A\u04F3\u04F6\u0114\x8A\u04F4\u04F6\u0116\x8B\u04F5\u04F3\u04F5\u04F4\u04F6\u04F9\u04F7\u04F5\u04F7\u04F8\u04F8\u010B\u04F9\u04F7\u04FA\u04FC\u0116\x8B\u04FB\u04FA\u04FC\u04FD\u04FD\u04FB\u04FD\u04FE\u04FE\u04FF\u04FF\u0500\x07'\u0500\u010D\u0501\u0503\u0116\x8B\u0502\u0501\u0503\u0504\u0504\u0502\u0504\u0505\u0505\u010F\u0506\u0508\u0116\x8B\u0507\u0506\u0508\u0509\u0509\u0507\u0509\u050A\u050A\u0512\u050B\u050F\xD6k\u050C\u050E\u0116\x8B\u050D\u050C\u050E\u0511\u050F\u050D\u050F\u0510\u0510\u0513\u0511\u050F\u0512\u050B\u0512\u0513\u0513\u0526\u0514\u0516\xD6k\u0515\u0517\u0116\x8B\u0516\u0515\u0517\u0518\u0518\u0516\u0518\u0519\u0519\u0523\u051A\u051C\u0120\x90\u051B\u051D	\b\u051C\u051B\u051C\u051D\u051D\u051F\u051E\u0520\u0116\x8B\u051F\u051E\u0520\u0521\u0521\u051F\u0521\u0522\u0522\u0524\u0523\u051A\u0523\u0524\u0524\u0526\u0525\u0507\u0525\u0514\u0526\u0111\u0527\u0529\x07b\u0528\u052A
	\u0529\u0528\u052A\u052B\u052B\u0529\u052B\u052C\u052C\u052D\u052D\u052E\x07b\u052E\u0113\u052F\u0530	)\u0530\u0115\u0531\u0532	
\u0532\u0117\u0533\u0534	\v\u0534\u0119\u0535\u0536	\f\u0536\u011B\u0537\u0538	\r\u0538\u011D\u0539\u053A	\u053A\u011F\u053B\u053C	\u053C\u0121\u053D\u053E	\u053E\u0123\u053F\u0540	\u0540\u0125\u0541\u0542	\u0542\u0127\u0543\u0544	\u0544\u0129\u0545\u0546	\u0546\u012B\u0547\u0548	\u0548\u012D\u0549\u054A	\u054A\u012F\u054B\u054C	\u054C\u0131\u054D\u054E	\u054E\u0133\u054F\u0550	\u0550\u0135\u0551\u0552	\u0552\u0137\u0553\u0554	\x1B\u0554\u0139\u0555\u0556	\u0556\u013B\u0557\u0558	\u0558\u013D\u0559\u055A	\u055A\u013F\u055B\u055C	\u055C\u0141\u055D\u055E	 \u055E\u0143\u055F\u0560	!\u0560\u0145\u0561\u0562	"\u0562\u0147\u0563\u0564	#\u0564\u0149\u0565\u0566	$\u0566\u014B\u0567\u0568\x071\u0568\u0569\x07,\u0569\u056D\u056A\u056C\v\u056B\u056A\u056C\u056F\u056D\u056E\u056D\u056B\u056E\u0570\u056F\u056D\u0570\u0571\x07,\u0571\u0572\x071\u0572\u0573\u0573\u0574\b\xA6\u0574\u014D\u0575\u0576\x07/`;er._serializedATNSegment3=`\u0576\u057A\x07/\u0577\u0578\x071\u0578\u057A\x071\u0579\u0575\u0579\u0577\u057A\u057E\u057B\u057D
%\u057C\u057B\u057D\u0580\u057E\u057C\u057E\u057F\u057F\u0586\u0580\u057E\u0581\u0583\x07\u0582\u0581\u0582\u0583\u0583\u0584\u0584\u0587\x07\f\u0585\u0587\x07\u0586\u0582\u0586\u0585\u0587\u0588\u0588\u0589\b\xA7\u0589\u014F\u058A\u058B\x07\u058B\u058C\u058C\u058D\b\xA8\u058D\u0151\u058E\u058F\x07$\u058F\u0590\x07$\u0590\u0591\x07$\u0591\u0592\u0592\u0593\b\xA9\u0593\u0153\u0594\u0595\x07\x7F\u0595\u0596\x07'\u0596\u0597\u0597\u0598\b\xAA\u0598\u0155\u0599\u059B\u0116\x8B\u059A\u0599\u059B\u059C\u059C\u059A\u059C\u059D\u059D\u059F\u059E\u05A0\u0114\x8A\u059F\u059E\u05A0\u05A1\u05A1\u059F\u05A1\u05A2\u05A2\u05A7\u05A3\u05A6\u0114\x8A\u05A4\u05A6\u0116\x8B\u05A5\u05A3\u05A5\u05A4\u05A6\u05A9\u05A7\u05A5\u05A7\u05A8\u05A8\u0157\u05A9\u05A7\u05AA\u05AB\v\u05AB\u0159\u05AC\u05AD\x07^\u05AD\u05B8\v\u05AE\u05B8
&\u05AF\u05B0\x07$\u05B0\u05B8
'\u05B1\u05B2\x07$\u05B2\u05B3\x07$\u05B3\u05B4\u05B4\u05B8
'\u05B5\u05B6\x07'\u05B6\u05B8
(\u05B7\u05AC\u05B7\u05AE\u05B7\u05AF\u05B7\u05B1\u05B7\u05B5\u05B8\u015B\u05B9\u05BB\u015A\xAD\u05BA\u05B9\u05BB\u05BE\u05BC\u05BD\u05BC\u05BA\u05BD\u05BF\u05BE\u05BC\u05BF\u05C0\x07'\u05C0\u05C1\x07}\u05C1\u05C2\u05C2\u05C3\b\xAE\u05C3\u015D\u05C4\u05C6\u015A\xAD\u05C5\u05C4\u05C6\u05C9\u05C7\u05C8\u05C7\u05C5\u05C8\u05CA\u05C9\u05C7\u05CA\u05CB\x07$\u05CB\u05CC\x07$\u05CC\u05CD\x07$\u05CD\u05CE\u05CE\u05CF\b\xAF\u05CF\u015FQ\u0163\u0165\u016D\u0184\u0195\u01A7\u01C1\u01CF\u01DE\u01EE\u01FC\u0209\u0225\u0236\u0243\u0252\u025E\u026E\u0281\u0290\u029D\u02AB\u02B9\u02C7\u02D5\u02E0\u02EF\u02FA\u0307\u034D\u038F\u03B4\u03BC\u03E7\u03F0\u042B\u043C\u044E\u0451\u0456\u0458\u0460\u0462\u04B5\u04B7\u04C5\u04C8\u04D1\u04D9\u04E0\u04EB\u04F0\u04F5\u04F7\u04FD\u0504\u0509\u050F\u0512\u0518\u051C\u0521\u0523\u0525\u052B\u056D\u0579\u057E\u0582\u0586\u059C\u05A1\u05A5\u05A7\u05B7\u05BC\u05C7\x07\b\x07\x07`;er._serializedATN=q7e.join([er._serializedATNSegment0,er._serializedATNSegment1,er._serializedATNSegment2,er._serializedATNSegment3],"")});var Aoe=Ae(jt=>{"use strict";m();var X0t=jt&&jt.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Z0t=jt&&jt.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),edt=jt&&jt.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&X0t(e,n,t);return Z0t(e,n),e};Object.defineProperty(jt,"__esModule",{value:!0});jt.DefExploreEditFieldContext=jt.DefExploreRenameContext=jt.DefExplorePrimaryKeyContext=jt.DefExploreWhereContext=jt.DefJoin_stubContext=jt.DefDeclare_stubContext=jt.DefExploreMeasureContext=jt.DefExploreDimensionContext=jt.ExploreStatementContext=jt.ExplorePropertiesContext=jt.ExploreNameContext=jt.ExploreNameDefContext=jt.SQLSourceNameContext=jt.QuerySourceContext=jt.TableSourceContext=jt.NamedSourceContext=jt.ExploreSourceContext=jt.ExploreContext=jt.ExploreDefinitionContext=jt.ExploreDefinitionListContext=jt.QueryNameContext=jt.ExploreQueryNameContext=jt.FilterShortcutContext=jt.QueryPropertiesContext=jt.ExploreTableContext=jt.PipeElementContext=jt.FirstSegmentContext=jt.PipelineFromNameContext=jt.ArrowQueryContext=jt.ExploreArrowQueryContext=jt.QueryContext=jt.RefineOperatorContext=jt.TopLevelQueryDefContext=jt.TopLevelQueryDefsContext=jt.ImportURLContext=jt.ImportStatementContext=jt.SqlInterpolationContext=jt.SqlStringContext=jt.BlockSQLDefContext=jt.SqlBlockContext=jt.DefineSQLStatementContext=jt.TopLevelAnonQueryDefContext=jt.AnonymousQueryContext=jt.NamedQueries_stubContext=jt.DefineQueryContext=jt.ExploreKeywordContext=jt.DefineExploreStatementContext=jt.MalloyStatementContext=jt.MalloyDocumentContext=jt.MalloyParser=void 0;jt.IndexElementContext=jt.TopStatementContext=jt.BySpecContext=jt.LimitStatementContext=jt.OrderBySpecContext=jt.OrderingContext=jt.OrderByStatementContext=jt.ProjectStatementContext=jt.AggregateStatementContext=jt.NestDefContext=jt.NestExistingContext=jt.NestEntryContext=jt.NestedQueryListContext=jt.NestStatementContext=jt.QueryFieldDefContext=jt.QueryFieldRefContext=jt.QueryFieldEntryContext=jt.DimensionDefContext=jt.QueryFieldListContext=jt.GroupByStatementContext=jt.QueryStatementContext=jt.ExploreQueryDefContext=jt.ExploreQueryNameDefContext=jt.SubQueryDefListContext=jt.HavingStatementContext=jt.WhereStatementContext=jt.FilterClauseListContext=jt.FilterByWhereContext=jt.FilterByShortcutContext=jt.FilteredByContext=jt.FilterStatementContext=jt.JoinExpressionContext=jt.JoinOnContext=jt.JoinWithContext=jt.JoinDefContext=jt.JoinListContext=jt.DefJoinCrossContext=jt.DefJoinManyContext=jt.DefJoinOneContext=jt.JoinStatementContext=jt.DeclareStatementContext=jt.MeasureDefContext=jt.JoinNameDefContext=jt.FieldNameDefContext=jt.FieldDefContext=jt.MeasureDefListContext=jt.DimensionDefListContext=jt.ExploreRenameDefContext=jt.RenameListContext=jt.DefExploreQueryContext=void 0;jt.ExprUngroupContext=jt.ExprPickContext=jt.ExprFuncContext=jt.ExprExprContext=jt.ExprAggregateContext=jt.ExprCountDisinctContext=jt.ExprCastContext=jt.ExprLogicalContext=jt.ExprNotContext=jt.ExprApplyContext=jt.ExprCompareContext=jt.ExprLogicalTreeContext=jt.ExprForRangeContext=jt.ExprRangeContext=jt.ExprAddSubContext=jt.ExprMulDivContext=jt.ExprSafeCastContext=jt.ExprTimeTruncContext=jt.ExprDurationContext=jt.ExprMinusContext=jt.ExprLiteralContext=jt.ExprFilterContext=jt.ExprFieldPathContext=jt.FieldExprContext=jt.UngroupContext=jt.TimeframeContext=jt.IdContext=jt.TableNameContext=jt.LiteralYearContext=jt.LiteralQuarterContext=jt.LiteralMonthContext=jt.LiteralWeekContext=jt.LiteralDayContext=jt.LiteralTimestampContext=jt.DateLiteralContext=jt.ExprNowContext=jt.ExprRegexContext=jt.ExprBoolContext=jt.ExprNULLContext=jt.ExprTimeContext=jt.ExprNumberContext=jt.ExprStringContext=jt.LiteralContext=jt.CompareOpContext=jt.MalloyTypeContext=jt.AggregateContext=jt.SampleSpecContext=jt.SampleStatementContext=jt.IndexStatementContext=jt.IndexFieldsContext=void 0;jt.ConnectionNameContext=jt.NameSQLBlockContext=jt.SqlExploreNameRefContext=jt.JsonArrayContext=jt.JsonPropertyContext=jt.JsonObjectContext=jt.JsonValueContext=jt.JsonContext=jt.JustExprContext=jt.FieldNameContext=jt.JoinNameContext=jt.FieldPathContext=jt.NewMemberContext=jt.WildMemberContext=jt.NameMemberContext=jt.CollectionMemberContext=jt.FieldCollectionContext=jt.FieldNameListContext=jt.ArgumentListContext=jt.PickContext=jt.PickStatementContext=jt.PartialAllowedFieldExprContext=void 0;var n0=Dm(),tdt=bR(),ndt=PD(),wc=pR(),rdt=aC(),$r=y1(),idt=dC(),zr=Zg(),Cf=uu(),sdt=ay(),$7e=edt(Fm()),w=class extends rdt.Parser{constructor(e){super(e);this._interp=new idt.ParserATNSimulator(w._ATN,this)}get vocabulary(){return w.VOCABULARY}get grammarFileName(){return"MalloyParser.g4"}get ruleNames(){return w.ruleNames}get serializedATN(){return w._serializedATN}createFailedPredicateException(e,t){return new ndt.FailedPredicateException(this,e,t)}malloyDocument(){let e=new use(this._ctx,this.state);this.enterRule(e,0,w.RULE_malloyDocument);let t;try{this.enterOuterAlt(e,1);{for(this.state=212,this._errHandler.sync(this),t=this._input.LA(1);(t&~31)===0&&(1<<t&(1<<w.EXPLORE|1<<w.QUERY|1<<w.SOURCE|1<<w.SQL))!==0||t===w.IMPORT||t===w.SEMI;){switch(this.state=210,this._errHandler.sync(this),this._input.LA(1)){case w.EXPLORE:case w.QUERY:case w.SOURCE:case w.SQL:case w.IMPORT:this.state=208,this.malloyStatement();break;case w.SEMI:this.state=209,this.match(w.SEMI);break;default:throw new wc.NoViableAltException(this)}this.state=214,this._errHandler.sync(this),t=this._input.LA(1)}this.state=215,this.match(w.EOF)}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}malloyStatement(){let e=new MR(this._ctx,this.state);this.enterRule(e,2,w.RULE_malloyStatement);try{switch(this.state=221,this._errHandler.sync(this),this._input.LA(1)){case w.EXPLORE:case w.SOURCE:this.enterOuterAlt(e,1),this.state=217,this.defineExploreStatement();break;case w.SQL:this.enterOuterAlt(e,2),this.state=218,this.defineSQLStatement();break;case w.QUERY:this.enterOuterAlt(e,3),this.state=219,this.defineQuery();break;case w.IMPORT:this.enterOuterAlt(e,4),this.state=220,this.importStatement();break;default:throw new wc.NoViableAltException(this)}}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}defineExploreStatement(){let e=new YU(this._ctx,this.state);this.enterRule(e,4,w.RULE_defineExploreStatement);try{this.enterOuterAlt(e,1),this.state=223,this.exploreKeyword(),this.state=224,this.exploreDefinitionList()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreKeyword(){let e=new KU(this._ctx,this.state);this.enterRule(e,6,w.RULE_exploreKeyword);let t;try{this.enterOuterAlt(e,1),this.state=226,t=this._input.LA(1),t===w.EXPLORE||t===w.SOURCE?(this._input.LA(1)===Cf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}defineQuery(){let e=new JC(this._ctx,this.state);this.enterRule(e,8,w.RULE_defineQuery);try{switch(this.state=232,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,3,this._ctx)){case 1:e=new lse(e),this.enterOuterAlt(e,1),this.state=228,this.match(w.QUERY),this.state=229,this.topLevelQueryDefs();break;case 2:e=new cse(e),this.enterOuterAlt(e,2),this.state=230,this.match(w.QUERY),this.state=231,this.topLevelAnonQueryDef();break}}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}topLevelAnonQueryDef(){let e=new JU(this._ctx,this.state);this.enterRule(e,10,w.RULE_topLevelAnonQueryDef);try{this.enterOuterAlt(e,1),this.state=234,this.query()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}defineSQLStatement(){let e=new XU(this._ctx,this.state);this.enterRule(e,12,w.RULE_defineSQLStatement);let t;try{this.enterOuterAlt(e,1),this.state=236,this.match(w.SQL),this.state=240,this._errHandler.sync(this),t=this._input.LA(1),(t===w.IDENTIFIER||t===w.OBJECT_NAME_LITERAL)&&(this.state=237,this.nameSQLBlock(),this.state=238,this.match(w.IS)),this.state=242,this.sqlBlock()}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}sqlBlock(){let e=new ZU(this._ctx,this.state);this.enterRule(e,14,w.RULE_sqlBlock);let t;try{this.enterOuterAlt(e,1);{this.state=244,this.match(w.OCURLY),this.state=246,this._errHandler.sync(this),t=this._input.LA(1);do this.state=245,this.blockSQLDef(),this.state=248,this._errHandler.sync(this),t=this._input.LA(1);while(t===w.CONNECTION||t===w.SELECT);this.state=250,this.match(w.CCURLY)}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}blockSQLDef(){let e=new PR(this._ctx,this.state);this.enterRule(e,16,w.RULE_blockSQLDef);try{switch(this.state=256,this._errHandler.sync(this),this._input.LA(1)){case w.CONNECTION:this.enterOuterAlt(e,1),this.state=252,this.match(w.CONNECTION),this.state=253,this.connectionName();break;case w.SELECT:this.enterOuterAlt(e,2),this.state=254,this.match(w.SELECT),this.state=255,this.sqlString();break;default:throw new wc.NoViableAltException(this)}}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sqlString(){let e=new e$(this._ctx,this.state);this.enterRule(e,18,w.RULE_sqlString);let t;try{this.enterOuterAlt(e,1);{for(this.state=258,this.match(w.SQL_BEGIN),this.state=262,this._errHandler.sync(this),t=this._input.LA(1);t===w.OPEN_CODE;)this.state=259,this.sqlInterpolation(),this.state=264,this._errHandler.sync(this),t=this._input.LA(1);this.state=265,this.match(w.SQL_END)}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}sqlInterpolation(){let e=new BR(this._ctx,this.state);this.enterRule(e,20,w.RULE_sqlInterpolation);try{this.enterOuterAlt(e,1),this.state=267,this.match(w.OPEN_CODE),this.state=268,this.query(),this.state=269,this.match(w.CLOSE_CODE)}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}importStatement(){let e=new t$(this._ctx,this.state);this.enterRule(e,22,w.RULE_importStatement);try{this.enterOuterAlt(e,1),this.state=271,this.match(w.IMPORT),this.state=272,this.importURL()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}importURL(){let e=new n$(this._ctx,this.state);this.enterRule(e,24,w.RULE_importURL);try{this.enterOuterAlt(e,1),this.state=274,this.match(w.JSON_STRING)}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}topLevelQueryDefs(){let e=new r$(this._ctx,this.state);this.enterRule(e,26,w.RULE_topLevelQueryDefs);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=276,this.topLevelQueryDef(),this.state=283,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,9,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=278,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=277,this.match(w.COMMA)),this.state=280,this.topLevelQueryDef()),this.state=285,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,9,this._ctx);this.state=287,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=286,this.match(w.COMMA))}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}topLevelQueryDef(){let e=new jR(this._ctx,this.state);this.enterRule(e,28,w.RULE_topLevelQueryDef);try{this.enterOuterAlt(e,1),this.state=289,this.queryName(),this.state=290,this.match(w.IS),this.state=291,this.query()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}refineOperator(){let e=new oE(this._ctx,this.state);this.enterRule(e,30,w.RULE_refineOperator);try{this.enterOuterAlt(e,1),this.state=293,this.match(w.PLUS)}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}query(){let e=new Ay(this._ctx,this.state);this.enterRule(e,32,w.RULE_query);let t;try{switch(this.state=313,this._errHandler.sync(this),this._input.LA(1)){case w.FROM:case w.FROM_SQL:case w.TABLE:case w.IDENTIFIER:case w.OBJECT_NAME_LITERAL:e=new fse(e),this.enterOuterAlt(e,1),this.state=295,this.explore(),this.state=296,this.match(w.ARROW),this.state=297,this.pipelineFromName();break;case w.ARROW:for(e=new dse(e),this.enterOuterAlt(e,2),this.state=299,this.match(w.ARROW),this.state=300,this.queryName(),this.state=305,this._errHandler.sync(this),t=this._input.LA(1),(t===w.OCURLY||t===w.PLUS)&&(this.state=302,this._errHandler.sync(this),t=this._input.LA(1),t===w.PLUS&&(this.state=301,this.refineOperator()),this.state=304,this.queryProperties()),this.state=310,this._errHandler.sync(this),t=this._input.LA(1);t===w.ARROW;)this.state=307,this.pipeElement(),this.state=312,this._errHandler.sync(this),t=this._input.LA(1);break;default:throw new wc.NoViableAltException(this)}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}pipelineFromName(){let e=new XC(this._ctx,this.state);this.enterRule(e,34,w.RULE_pipelineFromName);let t;try{for(this.enterOuterAlt(e,1),this.state=315,this.firstSegment(),this.state=319,this._errHandler.sync(this),t=this._input.LA(1);t===w.ARROW;)this.state=316,this.pipeElement(),this.state=321,this._errHandler.sync(this),t=this._input.LA(1)}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}firstSegment(){let e=new i$(this._ctx,this.state);this.enterRule(e,36,w.RULE_firstSegment);let t;try{switch(this.state=330,this._errHandler.sync(this),this._input.LA(1)){case w.OCURLY:this.enterOuterAlt(e,1),this.state=322,this.queryProperties();break;case w.IDENTIFIER:case w.OBJECT_NAME_LITERAL:this.enterOuterAlt(e,2),this.state=323,this.exploreQueryName(),this.state=328,this._errHandler.sync(this),t=this._input.LA(1),(t===w.OCURLY||t===w.PLUS)&&(this.state=325,this._errHandler.sync(this),t=this._input.LA(1),t===w.PLUS&&(this.state=324,this.refineOperator()),this.state=327,this.queryProperties());break;default:throw new wc.NoViableAltException(this)}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}pipeElement(){let e=new aE(this._ctx,this.state);this.enterRule(e,38,w.RULE_pipeElement);try{this.enterOuterAlt(e,1),this.state=332,this.match(w.ARROW),this.state=333,this.queryProperties()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreTable(){let e=new s$(this._ctx,this.state);this.enterRule(e,40,w.RULE_exploreTable);try{this.enterOuterAlt(e,1),this.state=335,this.match(w.TABLE),this.state=336,this.match(w.OPAREN),this.state=337,this.tableName(),this.state=338,this.match(w.CPAREN)}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryProperties(){let e=new uE(this._ctx,this.state);this.enterRule(e,42,w.RULE_queryProperties);let t;try{switch(this.state=350,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,21,this._ctx)){case 1:this.enterOuterAlt(e,1),this.state=340,this.filterShortcut();break;case 2:this.enterOuterAlt(e,2);{for(this.state=341,this.match(w.OCURLY),this.state=346,this._errHandler.sync(this),t=this._input.LA(1);(t&~31)===0&&(1<<t&(1<<w.AGGREGATE|1<<w.DECLARE|1<<w.GROUP_BY|1<<w.HAVING|1<<w.INDEX|1<<w.JOIN_CROSS|1<<w.JOIN_ONE|1<<w.JOIN_MANY|1<<w.LIMIT|1<<w.NEST|1<<w.ORDER_BY|1<<w.PROJECT|1<<w.SAMPLE|1<<w.TOP|1<<w.WHERE))!==0||t===w.SEMI;){switch(this.state=344,this._errHandler.sync(this),this._input.LA(1)){case w.AGGREGATE:case w.DECLARE:case w.GROUP_BY:case w.HAVING:case w.INDEX:case w.JOIN_CROSS:case w.JOIN_ONE:case w.JOIN_MANY:case w.LIMIT:case w.NEST:case w.ORDER_BY:case w.PROJECT:case w.SAMPLE:case w.TOP:case w.WHERE:this.state=342,this.queryStatement();break;case w.SEMI:this.state=343,this.match(w.SEMI);break;default:throw new wc.NoViableAltException(this)}this.state=348,this._errHandler.sync(this),t=this._input.LA(1)}this.state=349,this.match(w.CCURLY)}break}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}filterShortcut(){let e=new qR(this._ctx,this.state);this.enterRule(e,44,w.RULE_filterShortcut);try{this.enterOuterAlt(e,1),this.state=352,this.match(w.OCURLY),this.state=353,this.match(w.QMARK),this.state=354,this.fieldExpr(0),this.state=355,this.match(w.CCURLY)}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreQueryName(){let e=new o$(this._ctx,this.state);this.enterRule(e,46,w.RULE_exploreQueryName);try{this.enterOuterAlt(e,1),this.state=357,this.id()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryName(){let e=new lE(this._ctx,this.state);this.enterRule(e,48,w.RULE_queryName);try{this.enterOuterAlt(e,1),this.state=359,this.id()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreDefinitionList(){let e=new a$(this._ctx,this.state);this.enterRule(e,50,w.RULE_exploreDefinitionList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=361,this.exploreDefinition(),this.state=368,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,23,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=363,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=362,this.match(w.COMMA)),this.state=365,this.exploreDefinition()),this.state=370,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,23,this._ctx);this.state=372,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=371,this.match(w.COMMA))}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreDefinition(){let e=new UR(this._ctx,this.state);this.enterRule(e,52,w.RULE_exploreDefinition);try{this.enterOuterAlt(e,1),this.state=374,this.exploreNameDef(),this.state=375,this.match(w.IS),this.state=376,this.explore()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}explore(){let e=new cE(this._ctx,this.state);this.enterRule(e,54,w.RULE_explore);let t;try{this.enterOuterAlt(e,1),this.state=378,this.exploreSource(),this.state=383,this._errHandler.sync(this),t=this._input.LA(1),(t===w.OCURLY||t===w.PLUS)&&(this.state=380,this._errHandler.sync(this),t=this._input.LA(1),t===w.PLUS&&(this.state=379,this.refineOperator()),this.state=382,this.exploreProperties())}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreSource(){let e=new x4(this._ctx,this.state);this.enterRule(e,56,w.RULE_exploreSource);try{switch(this.state=397,this._errHandler.sync(this),this._input.LA(1)){case w.IDENTIFIER:case w.OBJECT_NAME_LITERAL:e=new hse(e),this.enterOuterAlt(e,1),this.state=385,this.exploreName();break;case w.TABLE:e=new pse(e),this.enterOuterAlt(e,2),this.state=386,this.exploreTable();break;case w.FROM:e=new mse(e),this.enterOuterAlt(e,3),this.state=387,this.match(w.FROM),this.state=388,this.match(w.OPAREN),this.state=389,this.query(),this.state=390,this.match(w.CPAREN);break;case w.FROM_SQL:e=new xse(e),this.enterOuterAlt(e,4),this.state=392,this.match(w.FROM_SQL),this.state=393,this.match(w.OPAREN),this.state=394,this.sqlExploreNameRef(),this.state=395,this.match(w.CPAREN);break;default:throw new wc.NoViableAltException(this)}}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreNameDef(){let e=new u$(this._ctx,this.state);this.enterRule(e,58,w.RULE_exploreNameDef);try{this.enterOuterAlt(e,1),this.state=399,this.id()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreName(){let e=new l$(this._ctx,this.state);this.enterRule(e,60,w.RULE_exploreName);try{this.enterOuterAlt(e,1),this.state=401,this.id()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreProperties(){let e=new c$(this._ctx,this.state);this.enterRule(e,62,w.RULE_exploreProperties);let t;try{switch(this.state=413,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,30,this._ctx)){case 1:this.enterOuterAlt(e,1);{for(this.state=403,this.match(w.OCURLY),this.state=408,this._errHandler.sync(this),t=this._input.LA(1);(t&~31)===0&&(1<<t&(1<<w.ACCEPT|1<<w.DECLARE|1<<w.DIMENSION|1<<w.EXCEPT|1<<w.JOIN_CROSS|1<<w.JOIN_ONE|1<<w.JOIN_MANY|1<<w.MEASURE|1<<w.PRIMARY_KEY|1<<w.QUERY|1<<w.RENAME|1<<w.WHERE))!==0||t===w.SEMI;){switch(this.state=406,this._errHandler.sync(this),this._input.LA(1)){case w.ACCEPT:case w.DECLARE:case w.DIMENSION:case w.EXCEPT:case w.JOIN_CROSS:case w.JOIN_ONE:case w.JOIN_MANY:case w.MEASURE:case w.PRIMARY_KEY:case w.QUERY:case w.RENAME:case w.WHERE:this.state=404,this.exploreStatement();break;case w.SEMI:this.state=405,this.match(w.SEMI);break;default:throw new wc.NoViableAltException(this)}this.state=410,this._errHandler.sync(this),t=this._input.LA(1)}this.state=411,this.match(w.CCURLY)}break;case 2:this.enterOuterAlt(e,2),this.state=412,this.filterShortcut();break}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreStatement(){let e=new Eh(this._ctx,this.state);this.enterRule(e,64,w.RULE_exploreStatement);let t;try{switch(this.state=430,this._errHandler.sync(this),this._input.LA(1)){case w.DIMENSION:e=new gse(e),this.enterOuterAlt(e,1),this.state=415,this.match(w.DIMENSION),this.state=416,this.dimensionDefList();break;case w.MEASURE:e=new yse(e),this.enterOuterAlt(e,2),this.state=417,this.match(w.MEASURE),this.state=418,this.measureDefList();break;case w.DECLARE:e=new vse(e),this.enterOuterAlt(e,3),this.state=419,this.declareStatement();break;case w.JOIN_CROSS:case w.JOIN_ONE:case w.JOIN_MANY:e=new _se(e),this.enterOuterAlt(e,4),this.state=420,this.joinStatement();break;case w.WHERE:e=new Ese(e),this.enterOuterAlt(e,5),this.state=421,this.whereStatement();break;case w.PRIMARY_KEY:e=new bse(e),this.enterOuterAlt(e,6),this.state=422,this.match(w.PRIMARY_KEY),this.state=423,this.fieldName();break;case w.RENAME:e=new Sse(e),this.enterOuterAlt(e,7),this.state=424,this.match(w.RENAME),this.state=425,this.renameList();break;case w.ACCEPT:case w.EXCEPT:e=new Cse(e),this.enterOuterAlt(e,8),this.state=426,t=this._input.LA(1),t===w.ACCEPT||t===w.EXCEPT?(this._input.LA(1)===Cf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=427,this.fieldNameList();break;case w.QUERY:e=new wse(e),this.enterOuterAlt(e,9),this.state=428,this.match(w.QUERY),this.state=429,this.subQueryDefList();break;default:throw new wc.NoViableAltException(this)}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}renameList(){let e=new f$(this._ctx,this.state);this.enterRule(e,66,w.RULE_renameList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=432,this.exploreRenameDef(),this.state=439,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,33,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=434,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=433,this.match(w.COMMA)),this.state=436,this.exploreRenameDef()),this.state=441,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,33,this._ctx);this.state=443,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=442,this.match(w.COMMA))}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreRenameDef(){let e=new $R(this._ctx,this.state);this.enterRule(e,68,w.RULE_exploreRenameDef);try{this.enterOuterAlt(e,1),this.state=445,this.fieldName(),this.state=446,this.match(w.IS),this.state=447,this.fieldName()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}dimensionDefList(){let e=new d$(this._ctx,this.state);this.enterRule(e,70,w.RULE_dimensionDefList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=449,this.dimensionDef(),this.state=456,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,36,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=451,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=450,this.match(w.COMMA)),this.state=453,this.dimensionDef()),this.state=458,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,36,this._ctx);this.state=460,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=459,this.match(w.COMMA))}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}measureDefList(){let e=new h$(this._ctx,this.state);this.enterRule(e,72,w.RULE_measureDefList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=462,this.measureDef(),this.state=469,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,39,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=464,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=463,this.match(w.COMMA)),this.state=466,this.measureDef()),this.state=471,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,39,this._ctx);this.state=473,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=472,this.match(w.COMMA))}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldDef(){let e=new g4(this._ctx,this.state);this.enterRule(e,74,w.RULE_fieldDef);try{this.enterOuterAlt(e,1),this.state=475,this.fieldNameDef(),this.state=476,this.match(w.IS),this.state=477,this.fieldExpr(0)}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}fieldNameDef(){let e=new p$(this._ctx,this.state);this.enterRule(e,76,w.RULE_fieldNameDef);try{this.enterOuterAlt(e,1),this.state=479,this.id()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}joinNameDef(){let e=new zR(this._ctx,this.state);this.enterRule(e,78,w.RULE_joinNameDef);try{this.enterOuterAlt(e,1),this.state=481,this.id()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}measureDef(){let e=new HR(this._ctx,this.state);this.enterRule(e,80,w.RULE_measureDef);try{this.enterOuterAlt(e,1),this.state=483,this.fieldDef()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}declareStatement(){let e=new VR(this._ctx,this.state);this.enterRule(e,82,w.RULE_declareStatement);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=485,this.match(w.DECLARE),this.state=486,this.fieldDef(),this.state=493,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,42,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=488,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=487,this.match(w.COMMA)),this.state=490,this.fieldDef()),this.state=495,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,42,this._ctx);this.state=497,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=496,this.match(w.COMMA))}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}joinStatement(){let e=new y4(this._ctx,this.state);this.enterRule(e,84,w.RULE_joinStatement);try{switch(this.state=505,this._errHandler.sync(this),this._input.LA(1)){case w.JOIN_ONE:e=new Ase(e),this.enterOuterAlt(e,1),this.state=499,this.match(w.JOIN_ONE),this.state=500,this.joinList();break;case w.JOIN_MANY:e=new Tse(e),this.enterOuterAlt(e,2),this.state=501,this.match(w.JOIN_MANY),this.state=502,this.joinList();break;case w.JOIN_CROSS:e=new Fse(e),this.enterOuterAlt(e,3),this.state=503,this.match(w.JOIN_CROSS),this.state=504,this.joinList();break;default:throw new wc.NoViableAltException(this)}}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}joinList(){let e=new ZC(this._ctx,this.state);this.enterRule(e,86,w.RULE_joinList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=507,this.joinDef(),this.state=514,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,46,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=509,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=508,this.match(w.COMMA)),this.state=511,this.joinDef()),this.state=516,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,46,this._ctx);this.state=518,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=517,this.match(w.COMMA))}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}joinDef(){let e=new fE(this._ctx,this.state);this.enterRule(e,88,w.RULE_joinDef);let t;try{switch(this.state=537,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,51,this._ctx)){case 1:e=new Dse(e),this.enterOuterAlt(e,1),this.state=520,this.joinNameDef(),this.state=523,this._errHandler.sync(this),t=this._input.LA(1),t===w.IS&&(this.state=521,this.match(w.IS),this.state=522,this.explore()),this.state=525,this.match(w.WITH),this.state=526,this.fieldExpr(0);break;case 2:e=new Rse(e),this.enterOuterAlt(e,2),this.state=528,this.joinNameDef(),this.state=531,this._errHandler.sync(this),t=this._input.LA(1),t===w.IS&&(this.state=529,this.match(w.IS),this.state=530,this.explore()),this.state=535,this._errHandler.sync(this),t=this._input.LA(1),t===w.ON&&(this.state=533,this.match(w.ON),this.state=534,this.joinExpression());break}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}joinExpression(){let e=new m$(this._ctx,this.state);this.enterRule(e,90,w.RULE_joinExpression);try{this.enterOuterAlt(e,1),this.state=539,this.fieldExpr(0)}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}filterStatement(){let e=new Ose(this._ctx,this.state);this.enterRule(e,92,w.RULE_filterStatement);try{switch(this.state=543,this._errHandler.sync(this),this._input.LA(1)){case w.WHERE:this.enterOuterAlt(e,1),this.state=541,this.whereStatement();break;case w.HAVING:this.enterOuterAlt(e,2),this.state=542,this.havingStatement();break;default:throw new wc.NoViableAltException(this)}}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}filteredBy(){let e=new ew(this._ctx,this.state);this.enterRule(e,94,w.RULE_filteredBy);try{switch(this.state=548,this._errHandler.sync(this),this._input.LA(1)){case w.QMARK:e=new Nse(e),this.enterOuterAlt(e,1),this.state=545,this.match(w.QMARK),this.state=546,this.fieldExpr(0);break;case w.WHERE:e=new Lse(e),this.enterOuterAlt(e,2),this.state=547,this.whereStatement();break;default:throw new wc.NoViableAltException(this)}}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}filterClauseList(){let e=new WR(this._ctx,this.state);this.enterRule(e,96,w.RULE_filterClauseList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=550,this.fieldExpr(0),this.state=555,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,54,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=551,this.match(w.COMMA),this.state=552,this.fieldExpr(0)),this.state=557,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,54,this._ctx);this.state=559,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=558,this.match(w.COMMA))}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}whereStatement(){let e=new dE(this._ctx,this.state);this.enterRule(e,98,w.RULE_whereStatement);try{this.enterOuterAlt(e,1),this.state=561,this.match(w.WHERE),this.state=562,this.filterClauseList()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}havingStatement(){let e=new QR(this._ctx,this.state);this.enterRule(e,100,w.RULE_havingStatement);try{this.enterOuterAlt(e,1),this.state=564,this.match(w.HAVING),this.state=565,this.filterClauseList()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}subQueryDefList(){let e=new x$(this._ctx,this.state);this.enterRule(e,102,w.RULE_subQueryDefList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=567,this.exploreQueryDef(),this.state=574,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,57,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=569,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=568,this.match(w.COMMA)),this.state=571,this.exploreQueryDef()),this.state=576,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,57,this._ctx);this.state=578,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=577,this.match(w.COMMA))}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreQueryNameDef(){let e=new g$(this._ctx,this.state);this.enterRule(e,104,w.RULE_exploreQueryNameDef);try{this.enterOuterAlt(e,1),this.state=580,this.id()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreQueryDef(){let e=new GR(this._ctx,this.state);this.enterRule(e,106,w.RULE_exploreQueryDef);try{this.enterOuterAlt(e,1),this.state=582,this.exploreQueryNameDef(),this.state=583,this.match(w.IS),this.state=584,this.pipelineFromName()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryStatement(){let e=new YR(this._ctx,this.state);this.enterRule(e,108,w.RULE_queryStatement);try{switch(this.state=599,this._errHandler.sync(this),this._input.LA(1)){case w.GROUP_BY:this.enterOuterAlt(e,1),this.state=586,this.groupByStatement();break;case w.DECLARE:this.enterOuterAlt(e,2),this.state=587,this.declareStatement();break;case w.JOIN_CROSS:case w.JOIN_ONE:case w.JOIN_MANY:this.enterOuterAlt(e,3),this.state=588,this.joinStatement();break;case w.PROJECT:this.enterOuterAlt(e,4),this.state=589,this.projectStatement();break;case w.INDEX:this.enterOuterAlt(e,5),this.state=590,this.indexStatement();break;case w.AGGREGATE:this.enterOuterAlt(e,6),this.state=591,this.aggregateStatement();break;case w.TOP:this.enterOuterAlt(e,7),this.state=592,this.topStatement();break;case w.LIMIT:this.enterOuterAlt(e,8),this.state=593,this.limitStatement();break;case w.ORDER_BY:this.enterOuterAlt(e,9),this.state=594,this.orderByStatement();break;case w.WHERE:this.enterOuterAlt(e,10),this.state=595,this.whereStatement();break;case w.HAVING:this.enterOuterAlt(e,11),this.state=596,this.havingStatement();break;case w.NEST:this.enterOuterAlt(e,12),this.state=597,this.nestStatement();break;case w.SAMPLE:this.enterOuterAlt(e,13),this.state=598,this.sampleStatement();break;default:throw new wc.NoViableAltException(this)}}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}groupByStatement(){let e=new y$(this._ctx,this.state);this.enterRule(e,110,w.RULE_groupByStatement);try{this.enterOuterAlt(e,1),this.state=601,this.match(w.GROUP_BY),this.state=602,this.queryFieldList()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryFieldList(){let e=new KR(this._ctx,this.state);this.enterRule(e,112,w.RULE_queryFieldList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=604,this.queryFieldEntry(),this.state=611,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,61,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=606,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=605,this.match(w.COMMA)),this.state=608,this.queryFieldEntry()),this.state=613,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,61,this._ctx);this.state=615,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=614,this.match(w.COMMA))}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}dimensionDef(){let e=new tw(this._ctx,this.state);this.enterRule(e,114,w.RULE_dimensionDef);try{this.enterOuterAlt(e,1),this.state=617,this.fieldDef()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryFieldEntry(){let e=new hE(this._ctx,this.state);this.enterRule(e,116,w.RULE_queryFieldEntry);try{switch(this.state=621,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,63,this._ctx)){case 1:e=new kse(e),this.enterOuterAlt(e,1),this.state=619,this.fieldPath();break;case 2:e=new Ise(e),this.enterOuterAlt(e,2),this.state=620,this.dimensionDef();break}}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}nestStatement(){let e=new v$(this._ctx,this.state);this.enterRule(e,118,w.RULE_nestStatement);try{this.enterOuterAlt(e,1),this.state=623,this.match(w.NEST),this.state=624,this.nestedQueryList()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}nestedQueryList(){let e=new _$(this._ctx,this.state);this.enterRule(e,120,w.RULE_nestedQueryList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=626,this.nestEntry(),this.state=633,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,65,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=628,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=627,this.match(w.COMMA)),this.state=630,this.nestEntry()),this.state=635,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,65,this._ctx);this.state=637,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=636,this.match(w.COMMA))}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}nestEntry(){let e=new pE(this._ctx,this.state);this.enterRule(e,122,w.RULE_nestEntry);let t;try{switch(this.state=650,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,69,this._ctx)){case 1:e=new Mse(e),this.enterOuterAlt(e,1),this.state=639,this.queryName(),this.state=644,this._errHandler.sync(this),t=this._input.LA(1),(t===w.OCURLY||t===w.PLUS)&&(this.state=641,this._errHandler.sync(this),t=this._input.LA(1),t===w.PLUS&&(this.state=640,this.refineOperator()),this.state=643,this.queryProperties());break;case 2:e=new Pse(e),this.enterOuterAlt(e,2),this.state=646,this.queryName(),this.state=647,this.match(w.IS),this.state=648,this.pipelineFromName();break}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}aggregateStatement(){let e=new E$(this._ctx,this.state);this.enterRule(e,124,w.RULE_aggregateStatement);try{this.enterOuterAlt(e,1),this.state=652,this.match(w.AGGREGATE),this.state=653,this.queryFieldList()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}projectStatement(){let e=new b$(this._ctx,this.state);this.enterRule(e,126,w.RULE_projectStatement);try{this.enterOuterAlt(e,1),this.state=655,this.match(w.PROJECT),this.state=656,this.fieldCollection()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}orderByStatement(){let e=new S$(this._ctx,this.state);this.enterRule(e,128,w.RULE_orderByStatement);try{this.enterOuterAlt(e,1),this.state=658,this.match(w.ORDER_BY),this.state=659,this.ordering()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}ordering(){let e=new C$(this._ctx,this.state);this.enterRule(e,130,w.RULE_ordering);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=661,this.orderBySpec(),this.state=668,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,71,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=663,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=662,this.match(w.COMMA)),this.state=665,this.orderBySpec()),this.state=670,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,71,this._ctx);this.state=672,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=671,this.match(w.COMMA))}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}orderBySpec(){let e=new JR(this._ctx,this.state);this.enterRule(e,132,w.RULE_orderBySpec);let t;try{this.enterOuterAlt(e,1);{switch(this.state=676,this._errHandler.sync(this),this._input.LA(1)){case w.INTEGER_LITERAL:this.state=674,this.match(w.INTEGER_LITERAL);break;case w.IDENTIFIER:case w.OBJECT_NAME_LITERAL:this.state=675,this.fieldName();break;default:throw new wc.NoViableAltException(this)}this.state=679,this._errHandler.sync(this),t=this._input.LA(1),(t===w.ASC||t===w.DESC)&&(this.state=678,t=this._input.LA(1),t===w.ASC||t===w.DESC?(this._input.LA(1)===Cf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this))}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}limitStatement(){let e=new w$(this._ctx,this.state);this.enterRule(e,134,w.RULE_limitStatement);try{this.enterOuterAlt(e,1),this.state=681,this.match(w.LIMIT),this.state=682,this.match(w.INTEGER_LITERAL)}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}bySpec(){let e=new A$(this._ctx,this.state);this.enterRule(e,136,w.RULE_bySpec);try{switch(this.state=688,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,75,this._ctx)){case 1:this.enterOuterAlt(e,1),this.state=684,this.match(w.BY),this.state=685,this.fieldName();break;case 2:this.enterOuterAlt(e,2),this.state=686,this.match(w.BY),this.state=687,this.fieldExpr(0);break}}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}topStatement(){let e=new T$(this._ctx,this.state);this.enterRule(e,138,w.RULE_topStatement);let t;try{this.enterOuterAlt(e,1),this.state=690,this.match(w.TOP),this.state=691,this.match(w.INTEGER_LITERAL),this.state=693,this._errHandler.sync(this),t=this._input.LA(1),t===w.BY&&(this.state=692,this.bySpec())}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}indexElement(){let e=new XR(this._ctx,this.state);this.enterRule(e,140,w.RULE_indexElement);let t;try{switch(this.state=701,this._errHandler.sync(this),this._input.LA(1)){case w.IDENTIFIER:case w.OBJECT_NAME_LITERAL:this.enterOuterAlt(e,1),this.state=695,this.fieldPath(),this.state=698,this._errHandler.sync(this),t=this._input.LA(1),t===w.DOT&&(this.state=696,this.match(w.DOT),this.state=697,this.match(w.STAR));break;case w.STAR:this.enterOuterAlt(e,2),this.state=700,this.match(w.STAR);break;default:throw new wc.NoViableAltException(this)}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}indexFields(){let e=new F$(this._ctx,this.state);this.enterRule(e,142,w.RULE_indexFields);let t;try{for(this.enterOuterAlt(e,1),this.state=703,this.indexElement(),this.state=710,this._errHandler.sync(this),t=this._input.LA(1);(t-100&~31)===0&&(1<<t-100&(1<<w.COMMA-100|1<<w.STAR-100|1<<w.IDENTIFIER-100|1<<w.OBJECT_NAME_LITERAL-100))!==0;)this.state=705,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=704,this.match(w.COMMA)),this.state=707,this.indexElement(),this.state=712,this._errHandler.sync(this),t=this._input.LA(1)}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}indexStatement(){let e=new D$(this._ctx,this.state);this.enterRule(e,144,w.RULE_indexStatement);let t;try{this.enterOuterAlt(e,1),this.state=713,this.match(w.INDEX),this.state=714,this.indexFields(),this.state=717,this._errHandler.sync(this),t=this._input.LA(1),t===w.BY&&(this.state=715,this.match(w.BY),this.state=716,this.fieldName())}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}sampleStatement(){let e=new R$(this._ctx,this.state);this.enterRule(e,146,w.RULE_sampleStatement);try{this.enterOuterAlt(e,1),this.state=719,this.match(w.SAMPLE),this.state=720,this.sampleSpec()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sampleSpec(){let e=new O$(this._ctx,this.state);this.enterRule(e,148,w.RULE_sampleSpec);let t;try{this.enterOuterAlt(e,1),this.state=722,t=this._input.LA(1),t===w.FALSE||t===w.TRUE||t===w.PERCENT_LITERAL||t===w.INTEGER_LITERAL?(this._input.LA(1)===Cf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}aggregate(){let e=new N$(this._ctx,this.state);this.enterRule(e,150,w.RULE_aggregate);let t;try{this.enterOuterAlt(e,1),this.state=724,t=this._input.LA(1),(t-34&~31)===0&&(1<<t-34&(1<<w.AVG-34|1<<w.COUNT-34|1<<w.MAX-34|1<<w.MIN-34))!==0||t===w.SUM?(this._input.LA(1)===Cf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}malloyType(){let e=new ZR(this._ctx,this.state);this.enterRule(e,152,w.RULE_malloyType);let t;try{this.enterOuterAlt(e,1),this.state=726,t=this._input.LA(1),(t-35&~31)===0&&(1<<t-35&(1<<w.BOOLEAN-35|1<<w.DATE-35|1<<w.NUMBER-35))!==0||t===w.STRING||t===w.TIMESTAMP?(this._input.LA(1)===Cf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}compareOp(){let e=new eO(this._ctx,this.state);this.enterRule(e,154,w.RULE_compareOp);let t;try{this.enterOuterAlt(e,1),this.state=728,t=this._input.LA(1),(t-102&~31)===0&&(1<<t-102&(1<<w.LT-102|1<<w.GT-102|1<<w.EQ-102|1<<w.NE-102|1<<w.LTE-102|1<<w.GTE-102|1<<w.NOT_MATCH-102|1<<w.MATCH-102))!==0?(this._input.LA(1)===Cf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}literal(){let e=new Mm(this._ctx,this.state);this.enterRule(e,156,w.RULE_literal);let t;try{switch(this.state=737,this._errHandler.sync(this),this._input.LA(1)){case w.STRING_LITERAL:e=new Bse(e),this.enterOuterAlt(e,1),this.state=730,this.match(w.STRING_LITERAL);break;case w.INTEGER_LITERAL:case w.NUMERIC_LITERAL:e=new jse(e),this.enterOuterAlt(e,2),this.state=731,t=this._input.LA(1),t===w.INTEGER_LITERAL||t===w.NUMERIC_LITERAL?(this._input.LA(1)===Cf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this);break;case w.LITERAL_TIMESTAMP:case w.LITERAL_DAY:case w.LITERAL_QUARTER:case w.LITERAL_MONTH:case w.LITERAL_WEEK:case w.LITERAL_YEAR:e=new qse(e),this.enterOuterAlt(e,3),this.state=732,this.dateLiteral();break;case w.NULL:e=new Use(e),this.enterOuterAlt(e,4),this.state=733,this.match(w.NULL);break;case w.FALSE:case w.TRUE:e=new $se(e),this.enterOuterAlt(e,5),this.state=734,t=this._input.LA(1),t===w.FALSE||t===w.TRUE?(this._input.LA(1)===Cf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this);break;case w.HACKY_REGEX:e=new zse(e),this.enterOuterAlt(e,6),this.state=735,this.match(w.HACKY_REGEX);break;case w.NOW:e=new Hse(e),this.enterOuterAlt(e,7),this.state=736,this.match(w.NOW);break;default:throw new wc.NoViableAltException(this)}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}dateLiteral(){let e=new Fx(this._ctx,this.state);this.enterRule(e,158,w.RULE_dateLiteral);try{switch(this.state=745,this._errHandler.sync(this),this._input.LA(1)){case w.LITERAL_TIMESTAMP:e=new Vse(e),this.enterOuterAlt(e,1),this.state=739,this.match(w.LITERAL_TIMESTAMP);break;case w.LITERAL_DAY:e=new Wse(e),this.enterOuterAlt(e,2),this.state=740,this.match(w.LITERAL_DAY);break;case w.LITERAL_WEEK:e=new Qse(e),this.enterOuterAlt(e,3),this.state=741,this.match(w.LITERAL_WEEK);break;case w.LITERAL_MONTH:e=new Gse(e),this.enterOuterAlt(e,4),this.state=742,this.match(w.LITERAL_MONTH);break;case w.LITERAL_QUARTER:e=new Yse(e),this.enterOuterAlt(e,5),this.state=743,this.match(w.LITERAL_QUARTER);break;case w.LITERAL_YEAR:e=new Kse(e),this.enterOuterAlt(e,6),this.state=744,this.match(w.LITERAL_YEAR);break;default:throw new wc.NoViableAltException(this)}}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}tableName(){let e=new L$(this._ctx,this.state);this.enterRule(e,160,w.RULE_tableName);try{this.enterOuterAlt(e,1),this.state=747,this.match(w.STRING_LITERAL)}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}id(){let e=new Dd(this._ctx,this.state);this.enterRule(e,162,w.RULE_id);let t;try{this.enterOuterAlt(e,1),this.state=749,t=this._input.LA(1),t===w.IDENTIFIER||t===w.OBJECT_NAME_LITERAL?(this._input.LA(1)===Cf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}timeframe(){let e=new mE(this._ctx,this.state);this.enterRule(e,164,w.RULE_timeframe);let t;try{this.enterOuterAlt(e,1),this.state=751,t=this._input.LA(1),(t-42&~31)===0&&(1<<t-42&(1<<w.DAY-42|1<<w.HOUR-42|1<<w.MINUTE-42|1<<w.MONTH-42|1<<w.QUARTER-42|1<<w.SECOND-42))!==0||t===w.WEEK||t===w.YEAR?(this._input.LA(1)===Cf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}ungroup(){let e=new k$(this._ctx,this.state);this.enterRule(e,166,w.RULE_ungroup);let t;try{this.enterOuterAlt(e,1),this.state=753,t=this._input.LA(1),t===w.ALL||t===w.EXCLUDE?(this._input.LA(1)===Cf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldExpr(e){e===void 0&&(e=0);let t=this._ctx,r=this.state,i=new wi(this._ctx,r),s=i,o=168;this.enterRecursionRule(i,168,w.RULE_fieldExpr,e);let a;try{let l;this.enterOuterAlt(i,1);{switch(this.state=815,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,89,this._ctx)){case 1:i=new Jse(i),this._ctx=i,s=i,this.state=756,this.fieldPath();break;case 2:i=new Zse(i),this._ctx=i,s=i,this.state=757,this.literal();break;case 3:i=new eoe(i),this._ctx=i,s=i,this.state=758,this.match(w.MINUS),this.state=759,this.fieldExpr(20);break;case 4:i=new foe(i),this._ctx=i,s=i,this.state=760,this.match(w.NOT),this.state=761,this.fieldExpr(9);break;case 5:i=new hoe(i),this._ctx=i,s=i,this.state=762,this.match(w.CAST),this.state=763,this.match(w.OPAREN),this.state=764,this.fieldExpr(0),this.state=765,this.match(w.AS),this.state=766,this.malloyType(),this.state=767,this.match(w.CPAREN);break;case 6:i=new poe(i),this._ctx=i,s=i,this.state=769,this.match(w.COUNT),this.state=770,this.match(w.OPAREN),this.state=771,this.match(w.DISTINCT),this.state=772,this.fieldExpr(0),this.state=773,this.match(w.CPAREN);break;case 7:{switch(i=new moe(i),this._ctx=i,s=i,this.state=778,this._errHandler.sync(this),a=this._input.LA(1),(a===w.IDENTIFIER||a===w.OBJECT_NAME_LITERAL)&&(this.state=775,this.fieldPath(),this.state=776,this.match(w.DOT)),this.state=780,this.aggregate(),this.state=781,this.match(w.OPAREN),this.state=784,this._errHandler.sync(this),this._input.LA(1)){case w.ALL:case w.AVG:case w.CAST:case w.COUNT:case w.DAY:case w.EXCLUDE:case w.FALSE:case w.HOUR:case w.MAX:case w.MIN:case w.MINUTE:case w.MONTH:case w.NOT:case w.NOW:case w.NULL:case w.PICK:case w.QUARTER:case w.SECOND:case w.SUM:case w.TRUE:case w.WEEK:case w.YEAR:case w.HACKY_REGEX:case w.STRING_LITERAL:case w.OPAREN:case w.MINUS:case w.LITERAL_TIMESTAMP:case w.LITERAL_DAY:case w.LITERAL_QUARTER:case w.LITERAL_MONTH:case w.LITERAL_WEEK:case w.LITERAL_YEAR:case w.IDENTIFIER:case w.INTEGER_LITERAL:case w.NUMERIC_LITERAL:case w.OBJECT_NAME_LITERAL:this.state=782,this.fieldExpr(0);break;case w.STAR:this.state=783,this.match(w.STAR);break;case w.CPAREN:break;default:break}this.state=786,this.match(w.CPAREN)}break;case 8:i=new xoe(i),this._ctx=i,s=i,this.state=788,this.match(w.OPAREN),this.state=789,this.partialAllowedFieldExpr(),this.state=790,this.match(w.CPAREN);break;case 9:{switch(i=new goe(i),this._ctx=i,s=i,this.state=794,this._errHandler.sync(this),this._input.LA(1)){case w.IDENTIFIER:case w.OBJECT_NAME_LITERAL:this.state=792,this.id();break;case w.DAY:case w.HOUR:case w.MINUTE:case w.MONTH:case w.QUARTER:case w.SECOND:case w.WEEK:case w.YEAR:this.state=793,this.timeframe();break;default:throw new wc.NoViableAltException(this)}this.state=796,this.match(w.OPAREN),this.state=798,this._errHandler.sync(this),a=this._input.LA(1),((a-30&~31)===0&&(1<<a-30&(1<<w.ALL-30|1<<w.AVG-30|1<<w.CAST-30|1<<w.COUNT-30|1<<w.DAY-30|1<<w.EXCLUDE-30|1<<w.FALSE-30|1<<w.HOUR-30|1<<w.MAX-30|1<<w.MIN-30|1<<w.MINUTE-30|1<<w.MONTH-30))!==0||(a-62&~31)===0&&(1<<a-62&(1<<w.NOT-62|1<<w.NOW-62|1<<w.NULL-62|1<<w.PICK-62|1<<w.QUARTER-62|1<<w.SECOND-62|1<<w.SUM-62|1<<w.TRUE-62|1<<w.WEEK-62|1<<w.YEAR-62|1<<w.HACKY_REGEX-62|1<<w.STRING_LITERAL-62|1<<w.OPAREN-62))!==0||(a-109&~31)===0&&(1<<a-109&(1<<w.MINUS-109|1<<w.LITERAL_TIMESTAMP-109|1<<w.LITERAL_DAY-109|1<<w.LITERAL_QUARTER-109|1<<w.LITERAL_MONTH-109|1<<w.LITERAL_WEEK-109|1<<w.LITERAL_YEAR-109|1<<w.IDENTIFIER-109|1<<w.INTEGER_LITERAL-109|1<<w.NUMERIC_LITERAL-109|1<<w.OBJECT_NAME_LITERAL-109))!==0)&&(this.state=797,this.argumentList()),this.state=800,this.match(w.CPAREN)}break;case 10:i=new yoe(i),this._ctx=i,s=i,this.state=802,this.pickStatement();break;case 11:{for(i=new voe(i),this._ctx=i,s=i,this.state=803,this.ungroup(),this.state=804,this.match(w.OPAREN),this.state=805,this.fieldExpr(0),this.state=810,this._errHandler.sync(this),a=this._input.LA(1);a===w.COMMA;)this.state=806,this.match(w.COMMA),this.state=807,this.fieldName(),this.state=812,this._errHandler.sync(this),a=this._input.LA(1);this.state=813,this.match(w.CPAREN)}break}for(this._ctx._stop=this._input.tryLT(-1),this.state=859,this._errHandler.sync(this),l=this.interpreter.adaptivePredict(this._input,91,this._ctx);l!==2&&l!==n0.ATN.INVALID_ALT_NUMBER;){if(l===1)switch(this._parseListeners!=null&&this.triggerExitRuleEvent(),s=i,this.state=857,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,90,this._ctx)){case 1:{if(i=new ioe(new wi(t,r)),this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=817,!this.precpred(this._ctx,16))throw this.createFailedPredicateException("this.precpred(this._ctx, 16)");this.state=818,a=this._input.LA(1),(a-110&~31)===0&&(1<<a-110&(1<<w.STAR-110|1<<w.SLASH-110|1<<w.PERCENT-110))!==0?(this._input.LA(1)===Cf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=819,this.fieldExpr(17)}break;case 2:{if(i=new soe(new wi(t,r)),this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=820,!this.precpred(this._ctx,15))throw this.createFailedPredicateException("this.precpred(this._ctx, 15)");this.state=821,a=this._input.LA(1),a===w.PLUS||a===w.MINUS?(this._input.LA(1)===Cf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=822,this.fieldExpr(16)}break;case 3:{if(i=new ooe(new wi(t,r)),this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=823,!this.precpred(this._ctx,14))throw this.createFailedPredicateException("this.precpred(this._ctx, 14)");this.state=824,this.match(w.TO),this.state=825,this.fieldExpr(15)}break;case 4:{if(i=new loe(new wi(t,r)),this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=826,!this.precpred(this._ctx,11))throw this.createFailedPredicateException("this.precpred(this._ctx, 11)");this.state=827,this.compareOp(),this.state=828,this.fieldExpr(12)}break;case 5:{if(i=new doe(new wi(t,r)),this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=830,!this.precpred(this._ctx,8))throw this.createFailedPredicateException("this.precpred(this._ctx, 8)");this.state=831,a=this._input.LA(1),a===w.AND||a===w.OR?(this._input.LA(1)===Cf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=832,this.fieldExpr(9)}break;case 6:{if(i=new Xse(new wi(t,r)),this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=833,!this.precpred(this._ctx,22))throw this.createFailedPredicateException("this.precpred(this._ctx, 22)");this.state=834,this.match(w.OCURLY),this.state=835,this.filteredBy(),this.state=836,this.match(w.CCURLY)}break;case 7:{if(i=new toe(new wi(t,r)),this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=838,!this.precpred(this._ctx,19))throw this.createFailedPredicateException("this.precpred(this._ctx, 19)");this.state=839,this.timeframe()}break;case 8:{if(i=new noe(new wi(t,r)),this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=840,!this.precpred(this._ctx,18))throw this.createFailedPredicateException("this.precpred(this._ctx, 18)");this.state=841,this.match(w.DOT),this.state=842,this.timeframe()}break;case 9:{if(i=new roe(new wi(t,r)),this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=843,!this.precpred(this._ctx,17))throw this.createFailedPredicateException("this.precpred(this._ctx, 17)");this.state=844,this.match(w.DOUBLECOLON),this.state=845,this.malloyType()}break;case 10:{if(i=new aoe(new wi(t,r)),i._startAt=s,this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=846,!this.precpred(this._ctx,13))throw this.createFailedPredicateException("this.precpred(this._ctx, 13)");this.state=847,this.match(w.FOR),this.state=848,i._duration=this.fieldExpr(0),this.state=849,this.timeframe()}break;case 11:{if(i=new uoe(new wi(t,r)),this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=851,!this.precpred(this._ctx,12))throw this.createFailedPredicateException("this.precpred(this._ctx, 12)");this.state=852,a=this._input.LA(1),a===w.AMPER||a===w.BAR?(this._input.LA(1)===Cf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=853,this.partialAllowedFieldExpr()}break;case 12:{if(i=new coe(new wi(t,r)),this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=854,!this.precpred(this._ctx,10))throw this.createFailedPredicateException("this.precpred(this._ctx, 10)");this.state=855,a=this._input.LA(1),a===w.QMARK||a===w.COLON?(this._input.LA(1)===Cf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=856,this.partialAllowedFieldExpr()}break}this.state=861,this._errHandler.sync(this),l=this.interpreter.adaptivePredict(this._input,91,this._ctx)}}}catch(l){if(l instanceof zr.RecognitionException)i.exception=l,this._errHandler.reportError(this,l),this._errHandler.recover(this,l);else throw l}finally{this.unrollRecursionContexts(t)}return i}partialAllowedFieldExpr(){let e=new xE(this._ctx,this.state);this.enterRule(e,170,w.RULE_partialAllowedFieldExpr);let t;try{this.enterOuterAlt(e,1),this.state=863,this._errHandler.sync(this),t=this._input.LA(1),(t-102&~31)===0&&(1<<t-102&(1<<w.LT-102|1<<w.GT-102|1<<w.EQ-102|1<<w.NE-102|1<<w.LTE-102|1<<w.GTE-102|1<<w.NOT_MATCH-102|1<<w.MATCH-102))!==0&&(this.state=862,this.compareOp()),this.state=865,this.fieldExpr(0)}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}pickStatement(){let e=new I$(this._ctx,this.state);this.enterRule(e,172,w.RULE_pickStatement);try{let t;this.enterOuterAlt(e,1);{this.state=868,this._errHandler.sync(this),t=1;do{switch(t){case 1:this.state=867,this.pick();break;default:throw new wc.NoViableAltException(this)}this.state=870,this._errHandler.sync(this),t=this.interpreter.adaptivePredict(this._input,93,this._ctx)}while(t!==2&&t!==n0.ATN.INVALID_ALT_NUMBER);switch(this.state=874,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,94,this._ctx)){case 1:this.state=872,this.match(w.ELSE),this.state=873,e._pickElse=this.fieldExpr(0);break}}}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}pick(){let e=new tO(this._ctx,this.state);this.enterRule(e,174,w.RULE_pick);let t;try{this.enterOuterAlt(e,1),this.state=876,this.match(w.PICK),this.state=878,this._errHandler.sync(this),t=this._input.LA(1),((t-30&~31)===0&&(1<<t-30&(1<<w.ALL-30|1<<w.AVG-30|1<<w.CAST-30|1<<w.COUNT-30|1<<w.DAY-30|1<<w.EXCLUDE-30|1<<w.FALSE-30|1<<w.HOUR-30|1<<w.MAX-30|1<<w.MIN-30|1<<w.MINUTE-30|1<<w.MONTH-30))!==0||(t-62&~31)===0&&(1<<t-62&(1<<w.NOT-62|1<<w.NOW-62|1<<w.NULL-62|1<<w.PICK-62|1<<w.QUARTER-62|1<<w.SECOND-62|1<<w.SUM-62|1<<w.TRUE-62|1<<w.WEEK-62|1<<w.YEAR-62|1<<w.HACKY_REGEX-62|1<<w.STRING_LITERAL-62|1<<w.OPAREN-62))!==0||(t-109&~31)===0&&(1<<t-109&(1<<w.MINUS-109|1<<w.LITERAL_TIMESTAMP-109|1<<w.LITERAL_DAY-109|1<<w.LITERAL_QUARTER-109|1<<w.LITERAL_MONTH-109|1<<w.LITERAL_WEEK-109|1<<w.LITERAL_YEAR-109|1<<w.IDENTIFIER-109|1<<w.INTEGER_LITERAL-109|1<<w.NUMERIC_LITERAL-109|1<<w.OBJECT_NAME_LITERAL-109))!==0)&&(this.state=877,e._pickValue=this.fieldExpr(0)),this.state=880,this.match(w.WHEN),this.state=881,e._pickWhen=this.partialAllowedFieldExpr()}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}argumentList(){let e=new M$(this._ctx,this.state);this.enterRule(e,176,w.RULE_argumentList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=883,this.fieldExpr(0),this.state=888,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,96,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=884,this.match(w.COMMA),this.state=885,this.fieldExpr(0)),this.state=890,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,96,this._ctx);this.state=892,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=891,this.match(w.COMMA))}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldNameList(){let e=new P$(this._ctx,this.state);this.enterRule(e,178,w.RULE_fieldNameList);let t;try{for(this.enterOuterAlt(e,1),this.state=894,this.fieldName(),this.state=901,this._errHandler.sync(this),t=this._input.LA(1);(t-100&~31)===0&&(1<<t-100&(1<<w.COMMA-100|1<<w.IDENTIFIER-100|1<<w.OBJECT_NAME_LITERAL-100))!==0;)this.state=896,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=895,this.match(w.COMMA)),this.state=898,this.fieldName(),this.state=903,this._errHandler.sync(this),t=this._input.LA(1)}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldCollection(){let e=new B$(this._ctx,this.state);this.enterRule(e,180,w.RULE_fieldCollection);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=904,this.collectionMember(),this.state=911,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,101,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=906,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=905,this.match(w.COMMA)),this.state=908,this.collectionMember()),this.state=913,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,101,this._ctx);this.state=915,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=914,this.match(w.COMMA))}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}collectionMember(){let e=new v4(this._ctx,this.state);this.enterRule(e,182,w.RULE_collectionMember);let t;try{switch(this.state=925,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,104,this._ctx)){case 1:e=new _oe(e),this.enterOuterAlt(e,1),this.state=917,this.fieldPath();break;case 2:e=new Eoe(e),this.enterOuterAlt(e,2),this.state=921,this._errHandler.sync(this),t=this._input.LA(1),(t===w.IDENTIFIER||t===w.OBJECT_NAME_LITERAL)&&(this.state=918,this.fieldPath(),this.state=919,this.match(w.DOT)),this.state=923,t=this._input.LA(1),t===w.STAR||t===w.STARSTAR?(this._input.LA(1)===Cf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this);break;case 3:e=new boe(e),this.enterOuterAlt(e,3),this.state=924,this.fieldDef();break}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldPath(){let e=new Ty(this._ctx,this.state);this.enterRule(e,184,w.RULE_fieldPath);try{let t;for(this.enterOuterAlt(e,1),this.state=927,this.fieldName(),this.state=932,this._errHandler.sync(this),t=this.interpreter.adaptivePredict(this._input,105,this._ctx);t!==2&&t!==n0.ATN.INVALID_ALT_NUMBER;)t===1&&(this.state=928,this.match(w.DOT),this.state=929,this.fieldName()),this.state=934,this._errHandler.sync(this),t=this.interpreter.adaptivePredict(this._input,105,this._ctx)}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}joinName(){let e=new Soe(this._ctx,this.state);this.enterRule(e,186,w.RULE_joinName);try{this.enterOuterAlt(e,1),this.state=935,this.id()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}fieldName(){let e=new Rd(this._ctx,this.state);this.enterRule(e,188,w.RULE_fieldName);try{this.enterOuterAlt(e,1),this.state=937,this.id()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}justExpr(){let e=new Coe(this._ctx,this.state);this.enterRule(e,190,w.RULE_justExpr);try{this.enterOuterAlt(e,1),this.state=939,this.fieldExpr(0),this.state=940,this.match(w.EOF)}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}json(){let e=new woe(this._ctx,this.state);this.enterRule(e,192,w.RULE_json);try{this.enterOuterAlt(e,1),this.state=942,this.jsonValue()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}jsonValue(){let e=new gE(this._ctx,this.state);this.enterRule(e,194,w.RULE_jsonValue);try{switch(this.state=952,this._errHandler.sync(this),this._input.LA(1)){case w.JSON_STRING:this.enterOuterAlt(e,1),this.state=944,this.match(w.JSON_STRING);break;case w.INTEGER_LITERAL:this.enterOuterAlt(e,2),this.state=945,this.match(w.INTEGER_LITERAL);break;case w.NUMERIC_LITERAL:this.enterOuterAlt(e,3),this.state=946,this.match(w.NUMERIC_LITERAL);break;case w.OCURLY:this.enterOuterAlt(e,4),this.state=947,this.jsonObject();break;case w.OBRACK:this.enterOuterAlt(e,5),this.state=948,this.jsonArray();break;case w.TRUE:this.enterOuterAlt(e,6),this.state=949,this.match(w.TRUE);break;case w.FALSE:this.enterOuterAlt(e,7),this.state=950,this.match(w.FALSE);break;case w.NULL:this.enterOuterAlt(e,8),this.state=951,this.match(w.NULL);break;default:throw new wc.NoViableAltException(this)}}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}jsonObject(){let e=new j$(this._ctx,this.state);this.enterRule(e,196,w.RULE_jsonObject);let t;try{switch(this.state=967,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,108,this._ctx)){case 1:this.enterOuterAlt(e,1);{for(this.state=954,this.match(w.OCURLY),this.state=955,this.jsonProperty(),this.state=960,this._errHandler.sync(this),t=this._input.LA(1);t===w.COMMA;)this.state=956,this.match(w.COMMA),this.state=957,this.jsonProperty(),this.state=962,this._errHandler.sync(this),t=this._input.LA(1);this.state=963,this.match(w.CCURLY)}break;case 2:this.enterOuterAlt(e,2),this.state=965,this.match(w.OCURLY),this.state=966,this.match(w.CCURLY);break}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}jsonProperty(){let e=new nO(this._ctx,this.state);this.enterRule(e,198,w.RULE_jsonProperty);try{this.enterOuterAlt(e,1),this.state=969,this.match(w.JSON_STRING),this.state=970,this.match(w.COLON),this.state=971,this.jsonValue()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}jsonArray(){let e=new q$(this._ctx,this.state);this.enterRule(e,200,w.RULE_jsonArray);let t;try{switch(this.state=986,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,110,this._ctx)){case 1:this.enterOuterAlt(e,1);{for(this.state=973,this.match(w.OBRACK),this.state=974,this.jsonValue(),this.state=979,this._errHandler.sync(this),t=this._input.LA(1);t===w.COMMA;)this.state=975,this.match(w.COMMA),this.state=976,this.jsonValue(),this.state=981,this._errHandler.sync(this),t=this._input.LA(1);this.state=982,this.match(w.CBRACK)}break;case 2:this.enterOuterAlt(e,2),this.state=984,this.match(w.OBRACK),this.state=985,this.match(w.CBRACK);break}}catch(r){if(r instanceof zr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}sqlExploreNameRef(){let e=new U$(this._ctx,this.state);this.enterRule(e,202,w.RULE_sqlExploreNameRef);try{this.enterOuterAlt(e,1),this.state=988,this.id()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}nameSQLBlock(){let e=new $$(this._ctx,this.state);this.enterRule(e,204,w.RULE_nameSQLBlock);try{this.enterOuterAlt(e,1),this.state=990,this.id()}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}connectionName(){let e=new z$(this._ctx,this.state);this.enterRule(e,206,w.RULE_connectionName);try{this.enterOuterAlt(e,1),this.state=992,this.match(w.JSON_STRING)}catch(t){if(t instanceof zr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sempred(e,t,r){switch(t){case 84:return this.fieldExpr_sempred(e,r)}return!0}fieldExpr_sempred(e,t){switch(t){case 0:return this.precpred(this._ctx,16);case 1:return this.precpred(this._ctx,15);case 2:return this.precpred(this._ctx,14);case 3:return this.precpred(this._ctx,11);case 4:return this.precpred(this._ctx,8);case 5:return this.precpred(this._ctx,22);case 6:return this.precpred(this._ctx,19);case 7:return this.precpred(this._ctx,18);case 8:return this.precpred(this._ctx,17);case 9:return this.precpred(this._ctx,13);case 10:return this.precpred(this._ctx,12);case 11:return this.precpred(this._ctx,10)}return!0}static get _ATN(){return w.__ATN||(w.__ATN=new tdt.ATNDeserializer().deserialize($7e.toCharArray(w._serializedATN))),w.__ATN}};jt.MalloyParser=w;w.JSON_STRING=1;w.ACCEPT=2;w.AGGREGATE=3;w.CONNECTION=4;w.DECLARE=5;w.DIMENSION=6;w.EXCEPT=7;w.EXPLORE=8;w.GROUP_BY=9;w.HAVING=10;w.INDEX=11;w.JOIN_CROSS=12;w.JOIN_ONE=13;w.JOIN_MANY=14;w.LIMIT=15;w.MEASURE=16;w.NEST=17;w.ORDER_BY=18;w.PRIMARY_KEY=19;w.PROJECT=20;w.QUERY=21;w.RENAME=22;w.SAMPLE=23;w.SELECT=24;w.SOURCE=25;w.SQL=26;w.FANCYSQL=27;w.TOP=28;w.WHERE=29;w.ALL=30;w.AND=31;w.AS=32;w.ASC=33;w.AVG=34;w.BOOLEAN=35;w.BY=36;w.CASE=37;w.CAST=38;w.CONDITION=39;w.COUNT=40;w.DATE=41;w.DAY=42;w.DESC=43;w.DISTINCT=44;w.ELSE=45;w.END=46;w.EXCLUDE=47;w.FALSE=48;w.FOR=49;w.FROM=50;w.FROM_SQL=51;w.HAS=52;w.HOUR=53;w.IMPORT=54;w.IS=55;w.JSON=56;w.LAST=57;w.MAX=58;w.MIN=59;w.MINUTE=60;w.MONTH=61;w.NOT=62;w.NOW=63;w.NULL=64;w.NUMBER=65;w.ON=66;w.OR=67;w.PICK=68;w.QMARK=69;w.QUARTER=70;w.SECOND=71;w.STRING=72;w.SUM=73;w.TABLE=74;w.THEN=75;w.THIS=76;w.TIMESTAMP=77;w.TO=78;w.TRUE=79;w.TURTLE=80;w.WEEK=81;w.WHEN=82;w.WITH=83;w.YEAR=84;w.UNGROUPED=85;w.STRING_ESCAPE=86;w.HACKY_REGEX=87;w.STRING_LITERAL=88;w.AMPER=89;w.ARROW=90;w.FAT_ARROW=91;w.OPAREN=92;w.CPAREN=93;w.OBRACK=94;w.CBRACK=95;w.OCURLY=96;w.CCURLY=97;w.DOUBLECOLON=98;w.COLON=99;w.COMMA=100;w.DOT=101;w.LT=102;w.GT=103;w.EQ=104;w.NE=105;w.LTE=106;w.GTE=107;w.PLUS=108;w.MINUS=109;w.STAR=110;w.STARSTAR=111;w.SLASH=112;w.BAR=113;w.SEMI=114;w.NOT_MATCH=115;w.MATCH=116;w.PERCENT=117;w.LITERAL_TIMESTAMP=118;w.LITERAL_DAY=119;w.LITERAL_QUARTER=120;w.LITERAL_MONTH=121;w.LITERAL_WEEK=122;w.LITERAL_YEAR=123;w.IDENTIFIER=124;w.PERCENT_LITERAL=125;w.INTEGER_LITERAL=126;w.NUMERIC_LITERAL=127;w.OBJECT_NAME_LITERAL=128;w.BLOCK_COMMENT=129;w.COMMENT_TO_EOL=130;w.WHITE_SPACE=131;w.SQL_BEGIN=132;w.CLOSE_CODE=133;w.UNWATED_CHARS_TRAILING_NUMBERS=134;w.UNEXPECTED_CHAR=135;w.OPEN_CODE=136;w.SQL_END=137;w.RULE_malloyDocument=0;w.RULE_malloyStatement=1;w.RULE_defineExploreStatement=2;w.RULE_exploreKeyword=3;w.RULE_defineQuery=4;w.RULE_topLevelAnonQueryDef=5;w.RULE_defineSQLStatement=6;w.RULE_sqlBlock=7;w.RULE_blockSQLDef=8;w.RULE_sqlString=9;w.RULE_sqlInterpolation=10;w.RULE_importStatement=11;w.RULE_importURL=12;w.RULE_topLevelQueryDefs=13;w.RULE_topLevelQueryDef=14;w.RULE_refineOperator=15;w.RULE_query=16;w.RULE_pipelineFromName=17;w.RULE_firstSegment=18;w.RULE_pipeElement=19;w.RULE_exploreTable=20;w.RULE_queryProperties=21;w.RULE_filterShortcut=22;w.RULE_exploreQueryName=23;w.RULE_queryName=24;w.RULE_exploreDefinitionList=25;w.RULE_exploreDefinition=26;w.RULE_explore=27;w.RULE_exploreSource=28;w.RULE_exploreNameDef=29;w.RULE_exploreName=30;w.RULE_exploreProperties=31;w.RULE_exploreStatement=32;w.RULE_renameList=33;w.RULE_exploreRenameDef=34;w.RULE_dimensionDefList=35;w.RULE_measureDefList=36;w.RULE_fieldDef=37;w.RULE_fieldNameDef=38;w.RULE_joinNameDef=39;w.RULE_measureDef=40;w.RULE_declareStatement=41;w.RULE_joinStatement=42;w.RULE_joinList=43;w.RULE_joinDef=44;w.RULE_joinExpression=45;w.RULE_filterStatement=46;w.RULE_filteredBy=47;w.RULE_filterClauseList=48;w.RULE_whereStatement=49;w.RULE_havingStatement=50;w.RULE_subQueryDefList=51;w.RULE_exploreQueryNameDef=52;w.RULE_exploreQueryDef=53;w.RULE_queryStatement=54;w.RULE_groupByStatement=55;w.RULE_queryFieldList=56;w.RULE_dimensionDef=57;w.RULE_queryFieldEntry=58;w.RULE_nestStatement=59;w.RULE_nestedQueryList=60;w.RULE_nestEntry=61;w.RULE_aggregateStatement=62;w.RULE_projectStatement=63;w.RULE_orderByStatement=64;w.RULE_ordering=65;w.RULE_orderBySpec=66;w.RULE_limitStatement=67;w.RULE_bySpec=68;w.RULE_topStatement=69;w.RULE_indexElement=70;w.RULE_indexFields=71;w.RULE_indexStatement=72;w.RULE_sampleStatement=73;w.RULE_sampleSpec=74;w.RULE_aggregate=75;w.RULE_malloyType=76;w.RULE_compareOp=77;w.RULE_literal=78;w.RULE_dateLiteral=79;w.RULE_tableName=80;w.RULE_id=81;w.RULE_timeframe=82;w.RULE_ungroup=83;w.RULE_fieldExpr=84;w.RULE_partialAllowedFieldExpr=85;w.RULE_pickStatement=86;w.RULE_pick=87;w.RULE_argumentList=88;w.RULE_fieldNameList=89;w.RULE_fieldCollection=90;w.RULE_collectionMember=91;w.RULE_fieldPath=92;w.RULE_joinName=93;w.RULE_fieldName=94;w.RULE_justExpr=95;w.RULE_json=96;w.RULE_jsonValue=97;w.RULE_jsonObject=98;w.RULE_jsonProperty=99;w.RULE_jsonArray=100;w.RULE_sqlExploreNameRef=101;w.RULE_nameSQLBlock=102;w.RULE_connectionName=103;w.ruleNames=["malloyDocument","malloyStatement","defineExploreStatement","exploreKeyword","defineQuery","topLevelAnonQueryDef","defineSQLStatement","sqlBlock","blockSQLDef","sqlString","sqlInterpolation","importStatement","importURL","topLevelQueryDefs","topLevelQueryDef","refineOperator","query","pipelineFromName","firstSegment","pipeElement","exploreTable","queryProperties","filterShortcut","exploreQueryName","queryName","exploreDefinitionList","exploreDefinition","explore","exploreSource","exploreNameDef","exploreName","exploreProperties","exploreStatement","renameList","exploreRenameDef","dimensionDefList","measureDefList","fieldDef","fieldNameDef","joinNameDef","measureDef","declareStatement","joinStatement","joinList","joinDef","joinExpression","filterStatement","filteredBy","filterClauseList","whereStatement","havingStatement","subQueryDefList","exploreQueryNameDef","exploreQueryDef","queryStatement","groupByStatement","queryFieldList","dimensionDef","queryFieldEntry","nestStatement","nestedQueryList","nestEntry","aggregateStatement","projectStatement","orderByStatement","ordering","orderBySpec","limitStatement","bySpec","topStatement","indexElement","indexFields","indexStatement","sampleStatement","sampleSpec","aggregate","malloyType","compareOp","literal","dateLiteral","tableName","id","timeframe","ungroup","fieldExpr","partialAllowedFieldExpr","pickStatement","pick","argumentList","fieldNameList","fieldCollection","collectionMember","fieldPath","joinName","fieldName","justExpr","json","jsonValue","jsonObject","jsonProperty","jsonArray","sqlExploreNameRef","nameSQLBlock","connectionName"];w._LITERAL_NAMES=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'?'",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'&'","'->'","'=>'","'('","')'","'['","']'","'{'","'}'","'::'","':'","','","'.'","'<'","'>'","'='","'!='","'<='","'>='","'+'","'-'","'*'","'**'","'/'","'|'","';'","'!~'","'~'","'%'",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,`'"""'`,"'}%'"];w._SYMBOLIC_NAMES=[void 0,"JSON_STRING","ACCEPT","AGGREGATE","CONNECTION","DECLARE","DIMENSION","EXCEPT","EXPLORE","GROUP_BY","HAVING","INDEX","JOIN_CROSS","JOIN_ONE","JOIN_MANY","LIMIT","MEASURE","NEST","ORDER_BY","PRIMARY_KEY","PROJECT","QUERY","RENAME","SAMPLE","SELECT","SOURCE","SQL","FANCYSQL","TOP","WHERE","ALL","AND","AS","ASC","AVG","BOOLEAN","BY","CASE","CAST","CONDITION","COUNT","DATE","DAY","DESC","DISTINCT","ELSE","END","EXCLUDE","FALSE","FOR","FROM","FROM_SQL","HAS","HOUR","IMPORT","IS","JSON","LAST","MAX","MIN","MINUTE","MONTH","NOT","NOW","NULL","NUMBER","ON","OR","PICK","QMARK","QUARTER","SECOND","STRING","SUM","TABLE","THEN","THIS","TIMESTAMP","TO","TRUE","TURTLE","WEEK","WHEN","WITH","YEAR","UNGROUPED","STRING_ESCAPE","HACKY_REGEX","STRING_LITERAL","AMPER","ARROW","FAT_ARROW","OPAREN","CPAREN","OBRACK","CBRACK","OCURLY","CCURLY","DOUBLECOLON","COLON","COMMA","DOT","LT","GT","EQ","NE","LTE","GTE","PLUS","MINUS","STAR","STARSTAR","SLASH","BAR","SEMI","NOT_MATCH","MATCH","PERCENT","LITERAL_TIMESTAMP","LITERAL_DAY","LITERAL_QUARTER","LITERAL_MONTH","LITERAL_WEEK","LITERAL_YEAR","IDENTIFIER","PERCENT_LITERAL","INTEGER_LITERAL","NUMERIC_LITERAL","OBJECT_NAME_LITERAL","BLOCK_COMMENT","COMMENT_TO_EOL","WHITE_SPACE","SQL_BEGIN","CLOSE_CODE","UNWATED_CHARS_TRAILING_NUMBERS","UNEXPECTED_CHAR","OPEN_CODE","SQL_END"];w.VOCABULARY=new sdt.VocabularyImpl(w._LITERAL_NAMES,w._SYMBOLIC_NAMES,[]);w._serializedATNSegments=2;w._serializedATNSegment0=`\uC91D\uCABA\u058D\uAFBA\u4F53\u0607\uEA8B\uC241\x8B\u03E5					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r													\x1B	\x1B				 	 !	!"	"#	#$	$%	%&	&'	'(	()	)*	*+	+,	,-	-.	./	/0	01	12	23	34	45	56	67	78	89	9:	:;	;<	<=	=>	>?	?@	@A	AB	BC	CD	DE	EF	FG	GH	HI	IJ	JK	KL	LM	MN	NO	OP	PQ	QR	RS	ST	TU	UV	VW	WX	XY	YZ	Z[	[\\	\\]	]^	^_	_\`	\`a	ab	bc	cd	de	ef	fg	gh	hi	i\x07\xD5
\f\xD8\v\xE0
\xEB
\x07\x07\b\b\b\b\b\xF3
\b\b\b			\xF9
	\r		\xFA		




\u0103

\v\v\x07\v\u0107
\v\f\v\v\u010A\v\v\v\v\f\f\f\f\r\r\r\u0119
\x07\u011C
\f\u011F\v\u0122
\u0131
\u0134
\x07\u0137
\f\u013A\v\u013C
\x07\u0140
\f\u0143\v\u0148
\u014B
\u014D
\x07\u015B
\f\u015E\v\u0161
\x1B\x1B\x1B\u016E
\x1B\x1B\x07\x1B\u0171
\x1B\f\x1B\x1B\u0174\v\x1B\x1B\x1B\u0177
\x1B\u017F
\u0182
\u0190
  !!!\x07!\u0199
!\f!!\u019C\v!!!!\u01A0
!""""""""""""""""\u01B1
"###\u01B5
##\x07#\u01B8
#\f##\u01BB\v###\u01BE
#$$$$%%%\u01C6
%%\x07%\u01C9
%\f%%\u01CC\v%%%\u01CF
%&&&\u01D3
&&\x07&\u01D6
&\f&&\u01D9\v&&&\u01DC
&''''(())**++++\u01EB
++\x07+\u01EE
+\f++\u01F1\v+++\u01F4
+,,,,,,,\u01FC
,---\u0200
--\x07-\u0203
-\f--\u0206\v---\u0209
-....\u020E
........\u0216
....\u021A
..\u021C
.//000\u0222
01111\u0227
1222\x072\u022C
2\f22\u022F\v222\u0232
2333444555\u023C
55\x075\u023F
5\f55\u0242\v555\u0245
566777788888888888888\u025A
8999:::\u0261
::\x07:\u0264
:\f::\u0267\v:::\u026A
:;;<<<\u0270
<===>>>\u0277
>>\x07>\u027A
>\f>>\u027D\v>>>\u0280
>???\u0284
???\u0287
??????\u028D
?@@@AAABBBCCC\u029A
CC\x07C\u029D
C\fCC\u02A0\vCCC\u02A3
CDDD\u02A7
DDD\u02AA
DEEEFFFFF\u02B3
FGGGG\u02B8
GHHHH\u02BD
HHH\u02C0
HIII\u02C4
II\x07I\u02C7
I\fII\u02CA\vIJJJJJ\u02D0
JKKKLLMMNNOOPPPPPPPP\u02E4
PQQQQQQQ\u02EC
QRRSSTTUUVVVVVVVVVVVVVVVVVVVVVVVV\u030D
VVVVVV\u0313
VVVVVVVVVV\u031D
VVVV\u0321
VVVVVVVVV\x07V\u032B
V\fVV\u032E\vVVVV\u0332
VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\x07V\u035C
V\fVV\u035F\vVWW\u0362
WWWXX\u0367
X\rXX\u0368XXX\u036D
XYYY\u0371
YYYYZZZ\x07Z\u0379
Z\fZZ\u037C\vZZZ\u037F
Z[[[\u0383
[[\x07[\u0386
[\f[[\u0389\v[\\\\\\\u038D
\\\\\x07\\\u0390
\\\f\\\\\u0393\v\\\\\\\u0396
\\]]]]]\u039C
]]]]\u03A0
]^^^\x07^\u03A5
^\f^^\u03A8\v^__\`\`aaabbccccccccc\u03BB
cdddd\x07d\u03C1
d\fdd\u03C4\vdddddd\u03CA
deeeeffff\x07f\u03D4
f\fff\u03D7\vffffff\u03DD
fgghhiii\xAAj\b
\f "$&(*,.02468:<>@BDFHJLNPRTVXZ\\^\`bdfhjlnprtvxz|~\x80\x82\x84\x86\x88\x8A\x8C\x8E\x90\x92\x94\x96\x98\x9A\x9C\x9E\xA0\xA2\xA4\xA6\xA8\xAA\xAC\xAE\xB0\xB2\xB4\xB6\xB8\xBA\xBC\xBE\xC0\xC2\xC4\xC6\xC8\xCA\xCC\xCE\xD0

\x1B\x1B		##--22QQ\x7F\x80$$**<=KK\x07%%++CCJJOOhmuv\x80\x8122QQ~~\x82\x82\b,,77>?HISSVV  11pprrwwno!!EE[[ssGGeepq\u0426\xD6\xDF\xE1\b\xE4
\xEA\f\xEC\xEE\xF6\u0102\u0104\u010D\u0111\u0114\u0116\u0123 \u0127"\u013B$\u013D&\u014C(\u014E*\u0151,\u0160.\u01620\u01672\u01694\u016B6\u01788\u017C:\u018F<\u0191>\u0193@\u019FB\u01B0D\u01B2F\u01BFH\u01C3J\u01D0L\u01DDN\u01E1P\u01E3R\u01E5T\u01E7V\u01FBX\u01FDZ\u021B\\\u021D^\u0221\`\u0226b\u0228d\u0233f\u0236h\u0239j\u0246l\u0248n\u0259p\u025Br\u025Et\u026Bv\u026Fx\u0271z\u0274|\u028C~\u028E\x80\u0291\x82\u0294\x84\u0297\x86\u02A6\x88\u02AB\x8A\u02B2\x8C\u02B4\x8E\u02BF\x90\u02C1\x92\u02CB\x94\u02D1\x96\u02D4\x98\u02D6\x9A\u02D8\x9C\u02DA\x9E\u02E3\xA0\u02EB\xA2\u02ED\xA4\u02EF\xA6\u02F1\xA8\u02F3\xAA\u0331\xAC\u0361\xAE\u0366\xB0\u036E\xB2\u0375\xB4\u0380\xB6\u038A\xB8\u039F\xBA\u03A1\xBC\u03A9\xBE\u03AB\xC0\u03AD\xC2\u03B0\xC4\u03BA\xC6\u03C9\xC8\u03CB\xCA\u03DC\xCC\u03DE\xCE\u03E0\xD0\u03E2\xD2\xD5\xD3\xD5\x07t\xD4\xD2\xD4\xD3\xD5\xD8\xD6\xD4\xD6\xD7\xD7\xD9\xD8\xD6\xD9\xDA\x07\xDA\xDB\xE0\xDC\xE0\b\xDD\xE0
\xDE\xE0\r\xDF\xDB\xDF\xDC\xDF\xDD\xDF\xDE\xE0\xE1\xE2\b\xE2\xE34\x1B\xE3\x07\xE4\xE5	\xE5	\xE6\xE7\x07\xE7\xEB\xE8\xE9\x07\xE9\xEB\f\x07\xEA\xE6\xEA\xE8\xEB\v\xEC\xED"\xED\r\xEE\xF2\x07\xEF\xF0\xCEh\xF0\xF1\x079\xF1\xF3\xF2\xEF\xF2\xF3\xF3\xF4\xF4\xF5	\xF5\xF6\xF8\x07b\xF7\xF9
\xF8\xF7\xF9\xFA\xFA\xF8\xFA\xFB\xFB\xFC\xFC\xFD\x07c\xFD\xFE\xFF\x07\xFF\u0103\xD0i\u0100\u0101\x07\u0101\u0103\v\u0102\xFE\u0102\u0100\u0103\u0104\u0108\x07\x86\u0105\u0107\f\u0106\u0105\u0107\u010A\u0108\u0106\u0108\u0109\u0109\u010B\u010A\u0108\u010B\u010C\x07\x8B\u010C\u010D\u010E\x07\x8A\u010E\u010F"\u010F\u0110\x07\x87\u0110\u0111\u0112\x078\u0112\u0113\u0113\u0114\u0115\x07\u0115\x1B\u0116\u011D\u0117\u0119\x07f\u0118\u0117\u0118\u0119\u0119\u011A\u011A\u011C\u011B\u0118\u011C\u011F\u011D\u011B\u011D\u011E\u011E\u0121\u011F\u011D\u0120\u0122\x07f\u0121\u0120\u0121\u0122\u0122\u0123\u01242\u0124\u0125\x079\u0125\u0126"\u0126\u0127\u0128\x07n\u0128!\u0129\u012A8\u012A\u012B\x07\\\u012B\u012C$\u012C\u013C\u012D\u012E\x07\\\u012E\u01332\u012F\u0131 \u0130\u012F\u0130\u0131\u0131\u0132\u0132\u0134,\u0133\u0130\u0133\u0134\u0134\u0138\u0135\u0137(\u0136\u0135\u0137\u013A\u0138\u0136\u0138\u0139\u0139\u013C\u013A\u0138\u013B\u0129\u013B\u012D\u013C#\u013D\u0141&\u013E\u0140(\u013F\u013E\u0140\u0143\u0141\u013F\u0141\u0142\u0142%\u0143\u0141\u0144\u014D,\u0145\u014A0\u0146\u0148 \u0147\u0146\u0147\u0148\u0148\u0149\u0149\u014B,\u014A\u0147\u014A\u014B\u014B\u014D\u014C\u0144\u014C\u0145\u014D'\u014E\u014F\x07\\\u014F\u0150,\u0150)\u0151\u0152\x07L\u0152\u0153\x07^\u0153\u0154\xA2R\u0154\u0155\x07_\u0155+\u0156\u0161.\u0157\u015C\x07b\u0158\u015Bn8\u0159\u015B\x07t\u015A\u0158\u015A\u0159\u015B\u015E\u015C\u015A\u015C\u015D\u015D\u015F\u015E\u015C\u015F\u0161\x07c\u0160\u0156\u0160\u0157\u0161-\u0162\u0163\x07b\u0163\u0164\x07G\u0164\u0165\xAAV\u0165\u0166\x07c\u0166/\u0167\u0168\xA4S\u01681\u0169\u016A\xA4S\u016A3\u016B\u01726\u016C\u016E\x07f\u016D\u016C\u016D\u016E\u016E\u016F\u016F\u01716\u0170\u016D\u0171\u0174\u0172\u0170\u0172\u0173\u0173\u0176\u0174\u0172\u0175\u0177\x07f\u0176\u0175\u0176\u0177\u01775\u0178\u0179<\u0179\u017A\x079\u017A\u017B8\u017B7\u017C\u0181:\u017D\u017F \u017E\u017D\u017E\u017F\u017F\u0180\u0180\u0182@!\u0181\u017E\u0181\u0182\u01829\u0183\u0190> \u0184\u0190*\u0185\u0186\x074\u0186\u0187\x07^\u0187\u0188"\u0188\u0189\x07_\u0189\u0190\u018A\u018B\x075\u018B\u018C\x07^\u018C\u018D\xCCg\u018D\u018E\x07_\u018E\u0190\u018F\u0183\u018F\u0184\u018F\u0185\u018F\u018A\u0190;\u0191\u0192\xA4S\u0192=\u0193\u0194\xA4S\u0194?\u0195\u019A\x07b\u0196\u0199B"\u0197\u0199\x07t\u0198\u0196\u0198\u0197\u0199\u019C\u019A\u0198\u019A\u019B\u019B\u019D\u019C\u019A\u019D\u01A0\x07c\u019E\u01A0.\u019F\u0195\u019F\u019E\u01A0A\u01A1\u01A2\x07\b\u01A2\u01B1H%\u01A3\u01A4\x07\u01A4\u01B1J&\u01A5\u01B1T+\u01A6\u01B1V,\u01A7\u01B1d3\u01A8\u01A9\x07\u01A9\u01B1\xBE\`\u01AA\u01AB\x07\u01AB\u01B1D#\u01AC\u01AD	\u01AD\u01B1\xB4[\u01AE\u01AF\x07\u01AF\u01B1h5\u01B0\u01A1\u01B0\u01A3\u01B0\u01A5\u01B0\u01A6\u01B0\u01A7\u01B0\u01A8\u01B0\u01AA\u01B0\u01AC\u01B0\u01AE\u01B1C\u01B2\u01B9F$\u01B3\u01B5\x07f\u01B4\u01B3\u01B4\u01B5\u01B5\u01B6\u01B6\u01B8F$\u01B7\u01B4\u01B8\u01BB\u01B9\u01B7\u01B9\u01BA\u01BA\u01BD\u01BB\u01B9\u01BC\u01BE\x07f\u01BD\u01BC\u01BD\u01BE\u01BEE\u01BF\u01C0\xBE\`\u01C0\u01C1\x079\u01C1\u01C2\xBE\`\u01C2G\u01C3\u01CAt;\u01C4\u01C6\x07f\u01C5\u01C4\u01C5\u01C6\u01C6\u01C7\u01C7\u01C9t;\u01C8\u01C5\u01C9\u01CC\u01CA\u01C8\u01CA\u01CB\u01CB\u01CE\u01CC\u01CA\u01CD\u01CF\x07f\u01CE\u01CD\u01CE\u01CF\u01CFI\u01D0\u01D7R*\u01D1\u01D3\x07f\u01D2\u01D1\u01D2\u01D3\u01D3\u01D4\u01D4\u01D6R*\u01D5\u01D2\u01D6\u01D9\u01D7\u01D5\u01D7\u01D8\u01D8\u01DB\u01D9\u01D7\u01DA\u01DC\x07f\u01DB`;w._serializedATNSegment1="\u01DA\u01DB\u01DC\u01DCK\u01DD\u01DEN(\u01DE\u01DF\x079\u01DF\u01E0\xAAV\u01E0M\u01E1\u01E2\xA4S\u01E2O\u01E3\u01E4\xA4S\u01E4Q\u01E5\u01E6L'\u01E6S\u01E7\u01E8\x07\x07\u01E8\u01EFL'\u01E9\u01EB\x07f\u01EA\u01E9\u01EA\u01EB\u01EB\u01EC\u01EC\u01EEL'\u01ED\u01EA\u01EE\u01F1\u01EF\u01ED\u01EF\u01F0\u01F0\u01F3\u01F1\u01EF\u01F2\u01F4\x07f\u01F3\u01F2\u01F3\u01F4\u01F4U\u01F5\u01F6\x07\u01F6\u01FCX-\u01F7\u01F8\x07\u01F8\u01FCX-\u01F9\u01FA\x07\u01FA\u01FCX-\u01FB\u01F5\u01FB\u01F7\u01FB\u01F9\u01FCW\u01FD\u0204Z.\u01FE\u0200\x07f\u01FF\u01FE\u01FF\u0200\u0200\u0201\u0201\u0203Z.\u0202\u01FF\u0203\u0206\u0204\u0202\u0204\u0205\u0205\u0208\u0206\u0204\u0207\u0209\x07f\u0208\u0207\u0208\u0209\u0209Y\u020A\u020DP)\u020B\u020C\x079\u020C\u020E8\u020D\u020B\u020D\u020E\u020E\u020F\u020F\u0210\x07U\u0210\u0211\xAAV\u0211\u021C\u0212\u0215P)\u0213\u0214\x079\u0214\u02168\u0215\u0213\u0215\u0216\u0216\u0219\u0217\u0218\x07D\u0218\u021A\\/\u0219\u0217\u0219\u021A\u021A\u021C\u021B\u020A\u021B\u0212\u021C[\u021D\u021E\xAAV\u021E]\u021F\u0222d3\u0220\u0222f4\u0221\u021F\u0221\u0220\u0222_\u0223\u0224\x07G\u0224\u0227\xAAV\u0225\u0227d3\u0226\u0223\u0226\u0225\u0227a\u0228\u022D\xAAV\u0229\u022A\x07f\u022A\u022C\xAAV\u022B\u0229\u022C\u022F\u022D\u022B\u022D\u022E\u022E\u0231\u022F\u022D\u0230\u0232\x07f\u0231\u0230\u0231\u0232\u0232c\u0233\u0234\x07\u0234\u0235b2\u0235e\u0236\u0237\x07\f\u0237\u0238b2\u0238g\u0239\u0240l7\u023A\u023C\x07f\u023B\u023A\u023B\u023C\u023C\u023D\u023D\u023Fl7\u023E\u023B\u023F\u0242\u0240\u023E\u0240\u0241\u0241\u0244\u0242\u0240\u0243\u0245\x07f\u0244\u0243\u0244\u0245\u0245i\u0246\u0247\xA4S\u0247k\u0248\u0249j6\u0249\u024A\x079\u024A\u024B$\u024Bm\u024C\u025Ap9\u024D\u025AT+\u024E\u025AV,\u024F\u025A\x80A\u0250\u025A\x92J\u0251\u025A~@\u0252\u025A\x8CG\u0253\u025A\x88E\u0254\u025A\x82B\u0255\u025Ad3\u0256\u025Af4\u0257\u025Ax=\u0258\u025A\x94K\u0259\u024C\u0259\u024D\u0259\u024E\u0259\u024F\u0259\u0250\u0259\u0251\u0259\u0252\u0259\u0253\u0259\u0254\u0259\u0255\u0259\u0256\u0259\u0257\u0259\u0258\u025Ao\u025B\u025C\x07\v\u025C\u025Dr:\u025Dq\u025E\u0265v<\u025F\u0261\x07f\u0260\u025F\u0260\u0261\u0261\u0262\u0262\u0264v<\u0263\u0260\u0264\u0267\u0265\u0263\u0265\u0266\u0266\u0269\u0267\u0265\u0268\u026A\x07f\u0269\u0268\u0269\u026A\u026As\u026B\u026CL'\u026Cu\u026D\u0270\xBA^\u026E\u0270t;\u026F\u026D\u026F\u026E\u0270w\u0271\u0272\x07\u0272\u0273z>\u0273y\u0274\u027B|?\u0275\u0277\x07f\u0276\u0275\u0276\u0277\u0277\u0278\u0278\u027A|?\u0279\u0276\u027A\u027D\u027B\u0279\u027B\u027C\u027C\u027F\u027D\u027B\u027E\u0280\x07f\u027F\u027E\u027F\u0280\u0280{\u0281\u02862\u0282\u0284 \u0283\u0282\u0283\u0284\u0284\u0285\u0285\u0287,\u0286\u0283\u0286\u0287\u0287\u028D\u0288\u02892\u0289\u028A\x079\u028A\u028B$\u028B\u028D\u028C\u0281\u028C\u0288\u028D}\u028E\u028F\x07\u028F\u0290r:\u0290\x7F\u0291\u0292\x07\u0292\u0293\xB6\\\u0293\x81\u0294\u0295\x07\u0295\u0296\x84C\u0296\x83\u0297\u029E\x86D\u0298\u029A\x07f\u0299\u0298\u0299\u029A\u029A\u029B\u029B\u029D\x86D\u029C\u0299\u029D\u02A0\u029E\u029C\u029E\u029F\u029F\u02A2\u02A0\u029E\u02A1\u02A3\x07f\u02A2\u02A1\u02A2\u02A3\u02A3\x85\u02A4\u02A7\x07\x80\u02A5\u02A7\xBE`\u02A6\u02A4\u02A6\u02A5\u02A7\u02A9\u02A8\u02AA	\u02A9\u02A8\u02A9\u02AA\u02AA\x87\u02AB\u02AC\x07\u02AC\u02AD\x07\x80\u02AD\x89\u02AE\u02AF\x07&\u02AF\u02B3\xBE`\u02B0\u02B1\x07&\u02B1\u02B3\xAAV\u02B2\u02AE\u02B2\u02B0\u02B3\x8B\u02B4\u02B5\x07\u02B5\u02B7\x07\x80\u02B6\u02B8\x8AF\u02B7\u02B6\u02B7\u02B8\u02B8\x8D\u02B9\u02BC\xBA^\u02BA\u02BB\x07g\u02BB\u02BD\x07p\u02BC\u02BA\u02BC\u02BD\u02BD\u02C0\u02BE\u02C0\x07p\u02BF\u02B9\u02BF\u02BE\u02C0\x8F\u02C1\u02C8\x8EH\u02C2\u02C4\x07f\u02C3\u02C2\u02C3\u02C4\u02C4\u02C5\u02C5\u02C7\x8EH\u02C6\u02C3\u02C7\u02CA\u02C8\u02C6\u02C8\u02C9\u02C9\x91\u02CA\u02C8\u02CB\u02CC\x07\r\u02CC\u02CF\x90I\u02CD\u02CE\x07&\u02CE\u02D0\xBE`\u02CF\u02CD\u02CF\u02D0\u02D0\x93\u02D1\u02D2\x07\u02D2\u02D3\x96L\u02D3\x95\u02D4\u02D5	\u02D5\x97\u02D6\u02D7	\u02D7\x99\u02D8\u02D9	\x07\u02D9\x9B\u02DA\u02DB	\b\u02DB\x9D\u02DC\u02E4\x07Z\u02DD\u02E4		\u02DE\u02E4\xA0Q\u02DF\u02E4\x07B\u02E0\u02E4	\n\u02E1\u02E4\x07Y\u02E2\u02E4\x07A\u02E3\u02DC\u02E3\u02DD\u02E3\u02DE\u02E3\u02DF\u02E3\u02E0\u02E3\u02E1\u02E3\u02E2\u02E4\x9F\u02E5\u02EC\x07x\u02E6\u02EC\x07y\u02E7\u02EC\x07|\u02E8\u02EC\x07{\u02E9\u02EC\x07z\u02EA\u02EC\x07}\u02EB\u02E5\u02EB\u02E6\u02EB\u02E7\u02EB\u02E8\u02EB\u02E9\u02EB\u02EA\u02EC\xA1\u02ED\u02EE\x07Z\u02EE\xA3\u02EF\u02F0	\v\u02F0\xA5\u02F1\u02F2	\f\u02F2\xA7\u02F3\u02F4	\r\u02F4\xA9\u02F5\u02F6\bV\u02F6\u0332\xBA^\u02F7\u0332\x9EP\u02F8\u02F9\x07o\u02F9\u0332\xAAV\u02FA\u02FB\x07@\u02FB\u0332\xAAV\v\u02FC\u02FD\x07(\u02FD\u02FE\x07^\u02FE\u02FF\xAAV\u02FF\u0300\x07\"\u0300\u0301\x9AN\u0301\u0302\x07_\u0302\u0332\u0303\u0304\x07*\u0304\u0305\x07^\u0305\u0306\x07.\u0306\u0307\xAAV\u0307\u0308\x07_\u0308\u0332\u0309\u030A\xBA^\u030A\u030B\x07g\u030B\u030D\u030C\u0309\u030C\u030D\u030D\u030E\u030E\u030F\x98M\u030F\u0312\x07^\u0310\u0313\xAAV\u0311\u0313\x07p\u0312\u0310\u0312\u0311\u0312\u0313\u0313\u0314\u0314\u0315\x07_\u0315\u0332\u0316\u0317\x07^\u0317\u0318\xACW\u0318\u0319\x07_\u0319\u0332\u031A\u031D\xA4S\u031B\u031D\xA6T\u031C\u031A\u031C\u031B\u031D\u031E\u031E\u0320\x07^\u031F\u0321\xB2Z\u0320\u031F\u0320\u0321\u0321\u0322\u0322\u0323\x07_\u0323\u0332\u0324\u0332\xAEX\u0325\u0326\xA8U\u0326\u0327\x07^\u0327\u032C\xAAV\u0328\u0329\x07f\u0329\u032B\xBE`\u032A\u0328\u032B\u032E\u032C\u032A\u032C\u032D\u032D\u032F\u032E\u032C\u032F\u0330\x07_\u0330\u0332\u0331\u02F5\u0331\u02F7\u0331\u02F8\u0331\u02FA\u0331\u02FC\u0331\u0303\u0331\u030C\u0331\u0316\u0331\u031C\u0331\u0324\u0331\u0325\u0332\u035D\u0333\u0334\f\u0334\u0335	\u0335\u035C\xAAV\u0336\u0337\f\u0337\u0338	\u0338\u035C\xAAV\u0339\u033A\f\u033A\u033B\x07P\u033B\u035C\xAAV\u033C\u033D\f\r\u033D\u033E\x9CO\u033E\u033F\xAAV\u033F\u035C\u0340\u0341\f\n\u0341\u0342	\u0342\u035C\xAAV\v\u0343\u0344\f\u0344\u0345\x07b\u0345\u0346`1\u0346\u0347\x07c\u0347\u035C\u0348\u0349\f\u0349\u035C\xA6T\u034A\u034B\f\u034B\u034C\x07g\u034C\u035C\xA6T\u034D\u034E\f\u034E\u034F\x07d\u034F\u035C\x9AN\u0350\u0351\f\u0351\u0352\x073\u0352\u0353\xAAV\u0353\u0354\xA6T\u0354\u035C\u0355\u0356\f\u0356\u0357	\u0357\u035C\xACW\u0358\u0359\f\f\u0359\u035A	\u035A\u035C\xACW\u035B\u0333\u035B\u0336\u035B\u0339\u035B\u033C\u035B\u0340\u035B\u0343\u035B\u0348\u035B\u034A\u035B\u034D\u035B\u0350\u035B\u0355\u035B\u0358\u035C\u035F\u035D\u035B\u035D\u035E\u035E\xAB\u035F\u035D\u0360\u0362\x9CO\u0361\u0360\u0361\u0362\u0362\u0363\u0363\u0364\xAAV\u0364\xAD\u0365\u0367\xB0Y\u0366\u0365\u0367\u0368\u0368\u0366\u0368\u0369\u0369\u036C\u036A\u036B\x07/\u036B\u036D\xAAV\u036C\u036A\u036C\u036D\u036D\xAF\u036E\u0370\x07F\u036F\u0371\xAAV\u0370\u036F\u0370\u0371\u0371\u0372\u0372\u0373\x07T\u0373\u0374\xACW\u0374\xB1\u0375\u037A\xAAV\u0376\u0377\x07f\u0377\u0379\xAAV\u0378\u0376\u0379\u037C\u037A\u0378\u037A\u037B\u037B\u037E\u037C\u037A\u037D\u037F\x07f\u037E\u037D\u037E\u037F\u037F\xB3\u0380\u0387\xBE`\u0381\u0383\x07f\u0382\u0381\u0382\u0383\u0383\u0384\u0384\u0386\xBE`\u0385\u0382\u0386\u0389\u0387\u0385\u0387\u0388\u0388\xB5\u0389\u0387\u038A\u0391\xB8]\u038B\u038D\x07f\u038C\u038B\u038C\u038D\u038D\u038E\u038E\u0390\xB8]\u038F\u038C\u0390\u0393\u0391\u038F\u0391\u0392\u0392\u0395\u0393\u0391\u0394\u0396\x07f\u0395\u0394\u0395\u0396\u0396\xB7\u0397\u03A0\xBA^\u0398\u0399\xBA^\u0399\u039A\x07g\u039A\u039C\u039B\u0398\u039B\u039C\u039C\u039D\u039D\u03A0	\u039E\u03A0L'\u039F\u0397\u039F\u039B\u039F\u039E\u03A0\xB9\u03A1\u03A6\xBE`\u03A2\u03A3\x07g\u03A3\u03A5\xBE`\u03A4\u03A2\u03A5\u03A8\u03A6\u03A4\u03A6\u03A7\u03A7\xBB\u03A8\u03A6\u03A9\u03AA\xA4S\u03AA\xBD\u03AB\u03AC\xA4S\u03AC\xBF\u03AD\u03AE\xAAV\u03AE\u03AF\x07\u03AF\xC1\u03B0\u03B1\xC4c\u03B1\xC3\u03B2\u03BB\x07\u03B3\u03BB\x07\x80\u03B4\u03BB\x07\x81\u03B5\u03BB\xC6d\u03B6\u03BB\xCAf\u03B7\u03BB\x07Q\u03B8\u03BB\x072\u03B9\u03BB\x07B\u03BA\u03B2\u03BA\u03B3\u03BA\u03B4\u03BA\u03B5\u03BA\u03B6\u03BA\u03B7\u03BA\u03B8\u03BA\u03B9\u03BB\xC5\u03BC\u03BD\x07b\u03BD\u03C2\xC8e\u03BE\u03BF\x07f\u03BF\u03C1\xC8e\u03C0\u03BE\u03C1\u03C4\u03C2\u03C0\u03C2\u03C3\u03C3\u03C5\u03C4\u03C2\u03C5\u03C6\x07c\u03C6\u03CA\u03C7\u03C8\x07b\u03C8\u03CA\x07c\u03C9\u03BC\u03C9\u03C7\u03CA\xC7\u03CB\u03CC\x07\u03CC\u03CD\x07e\u03CD\u03CE\xC4c\u03CE\xC9\u03CF\u03D0\x07`\u03D0\u03D5\xC4c\u03D1\u03D2\x07f\u03D2\u03D4\xC4c\u03D3\u03D1\u03D4\u03D7\u03D5\u03D3\u03D5\u03D6\u03D6\u03D8\u03D7\u03D5\u03D8\u03D9\x07a\u03D9\u03DD\u03DA\u03DB\x07`\u03DB\u03DD\x07a\u03DC\u03CF\u03DC\u03DA\u03DD\xCB\u03DE\u03DF\xA4S\u03DF\xCD\u03E0\u03E1\xA4S\u03E1\xCF\u03E2\u03E3\x07\u03E3\xD1q\xD4\xD6\xDF\xEA\xF2\xFA\u0102\u0108\u0118\u011D\u0121\u0130\u0133\u0138\u013B\u0141\u0147\u014A\u014C\u015A\u015C\u0160\u016D\u0172\u0176\u017E\u0181\u018F\u0198\u019A\u019F\u01B0\u01B4\u01B9\u01BD\u01C5\u01CA\u01CE\u01D2\u01D7\u01DB\u01EA\u01EF\u01F3\u01FB\u01FF\u0204\u0208\u020D\u0215\u0219\u021B\u0221\u0226\u022D\u0231\u023B\u0240\u0244\u0259\u0260\u0265\u0269\u026F\u0276\u027B\u027F\u0283\u0286\u028C\u0299\u029E\u02A2\u02A6\u02A9\u02B2\u02B7\u02BC\u02BF\u02C3\u02C8\u02CF\u02E3\u02EB\u030C\u0312\u031C\u0320\u032C\u0331\u035B\u035D\u0361\u0368\u036C\u0370\u037A\u037E\u0382\u0387\u038C\u0391\u0395\u039B\u039F\u03A6\u03BA\u03C2\u03C9\u03D5\u03DC";w._serializedATN=$7e.join([w._serializedATNSegment0,w._serializedATNSegment1],"");var use=class extends $r.ParserRuleContext{EOF(){return this.getToken(w.EOF,0)}malloyStatement(e){return e===void 0?this.getRuleContexts(MR):this.getRuleContext(e,MR)}SEMI(e){return e===void 0?this.getTokens(w.SEMI):this.getToken(w.SEMI,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_malloyDocument}enterRule(e){e.enterMalloyDocument&&e.enterMalloyDocument(this)}exitRule(e){e.exitMalloyDocument&&e.exitMalloyDocument(this)}accept(e){return e.visitMalloyDocument?e.visitMalloyDocument(this):e.visitChildren(this)}};jt.MalloyDocumentContext=use;var MR=class extends $r.ParserRuleContext{defineExploreStatement(){return this.tryGetRuleContext(0,YU)}defineSQLStatement(){return this.tryGetRuleContext(0,XU)}defineQuery(){return this.tryGetRuleContext(0,JC)}importStatement(){return this.tryGetRuleContext(0,t$)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_malloyStatement}enterRule(e){e.enterMalloyStatement&&e.enterMalloyStatement(this)}exitRule(e){e.exitMalloyStatement&&e.exitMalloyStatement(this)}accept(e){return e.visitMalloyStatement?e.visitMalloyStatement(this):e.visitChildren(this)}};jt.MalloyStatementContext=MR;var YU=class extends $r.ParserRuleContext{exploreKeyword(){return this.getRuleContext(0,KU)}exploreDefinitionList(){return this.getRuleContext(0,a$)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_defineExploreStatement}enterRule(e){e.enterDefineExploreStatement&&e.enterDefineExploreStatement(this)}exitRule(e){e.exitDefineExploreStatement&&e.exitDefineExploreStatement(this)}accept(e){return e.visitDefineExploreStatement?e.visitDefineExploreStatement(this):e.visitChildren(this)}};jt.DefineExploreStatementContext=YU;var KU=class extends $r.ParserRuleContext{EXPLORE(){return this.tryGetToken(w.EXPLORE,0)}SOURCE(){return this.tryGetToken(w.SOURCE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreKeyword}enterRule(e){e.enterExploreKeyword&&e.enterExploreKeyword(this)}exitRule(e){e.exitExploreKeyword&&e.exitExploreKeyword(this)}accept(e){return e.visitExploreKeyword?e.visitExploreKeyword(this):e.visitChildren(this)}};jt.ExploreKeywordContext=KU;var JC=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_defineQuery}copyFrom(e){super.copyFrom(e)}};jt.DefineQueryContext=JC;var lse=class extends JC{QUERY(){return this.getToken(w.QUERY,0)}topLevelQueryDefs(){return this.getRuleContext(0,r$)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNamedQueries_stub&&e.enterNamedQueries_stub(this)}exitRule(e){e.exitNamedQueries_stub&&e.exitNamedQueries_stub(this)}accept(e){return e.visitNamedQueries_stub?e.visitNamedQueries_stub(this):e.visitChildren(this)}};jt.NamedQueries_stubContext=lse;var cse=class extends JC{QUERY(){return this.getToken(w.QUERY,0)}topLevelAnonQueryDef(){return this.getRuleContext(0,JU)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterAnonymousQuery&&e.enterAnonymousQuery(this)}exitRule(e){e.exitAnonymousQuery&&e.exitAnonymousQuery(this)}accept(e){return e.visitAnonymousQuery?e.visitAnonymousQuery(this):e.visitChildren(this)}};jt.AnonymousQueryContext=cse;var JU=class extends $r.ParserRuleContext{query(){return this.getRuleContext(0,Ay)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_topLevelAnonQueryDef}enterRule(e){e.enterTopLevelAnonQueryDef&&e.enterTopLevelAnonQueryDef(this)}exitRule(e){e.exitTopLevelAnonQueryDef&&e.exitTopLevelAnonQueryDef(this)}accept(e){return e.visitTopLevelAnonQueryDef?e.visitTopLevelAnonQueryDef(this):e.visitChildren(this)}};jt.TopLevelAnonQueryDefContext=JU;var XU=class extends $r.ParserRuleContext{SQL(){return this.getToken(w.SQL,0)}sqlBlock(){return this.getRuleContext(0,ZU)}nameSQLBlock(){return this.tryGetRuleContext(0,$$)}IS(){return this.tryGetToken(w.IS,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_defineSQLStatement}enterRule(e){e.enterDefineSQLStatement&&e.enterDefineSQLStatement(this)}exitRule(e){e.exitDefineSQLStatement&&e.exitDefineSQLStatement(this)}accept(e){return e.visitDefineSQLStatement?e.visitDefineSQLStatement(this):e.visitChildren(this)}};jt.DefineSQLStatementContext=XU;var ZU=class extends $r.ParserRuleContext{OCURLY(){return this.getToken(w.OCURLY,0)}CCURLY(){return this.getToken(w.CCURLY,0)}blockSQLDef(e){return e===void 0?this.getRuleContexts(PR):this.getRuleContext(e,PR)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_sqlBlock}enterRule(e){e.enterSqlBlock&&e.enterSqlBlock(this)}exitRule(e){e.exitSqlBlock&&e.exitSqlBlock(this)}accept(e){return e.visitSqlBlock?e.visitSqlBlock(this):e.visitChildren(this)}};jt.SqlBlockContext=ZU;var PR=class extends $r.ParserRuleContext{CONNECTION(){return this.tryGetToken(w.CONNECTION,0)}connectionName(){return this.tryGetRuleContext(0,z$)}SELECT(){return this.tryGetToken(w.SELECT,0)}sqlString(){return this.tryGetRuleContext(0,e$)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_blockSQLDef}enterRule(e){e.enterBlockSQLDef&&e.enterBlockSQLDef(this)}exitRule(e){e.exitBlockSQLDef&&e.exitBlockSQLDef(this)}accept(e){return e.visitBlockSQLDef?e.visitBlockSQLDef(this):e.visitChildren(this)}};jt.BlockSQLDefContext=PR;var e$=class extends $r.ParserRuleContext{SQL_BEGIN(){return this.getToken(w.SQL_BEGIN,0)}SQL_END(){return this.getToken(w.SQL_END,0)}sqlInterpolation(e){return e===void 0?this.getRuleContexts(BR):this.getRuleContext(e,BR)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_sqlString}enterRule(e){e.enterSqlString&&e.enterSqlString(this)}exitRule(e){e.exitSqlString&&e.exitSqlString(this)}accept(e){return e.visitSqlString?e.visitSqlString(this):e.visitChildren(this)}};jt.SqlStringContext=e$;var BR=class extends $r.ParserRuleContext{OPEN_CODE(){return this.getToken(w.OPEN_CODE,0)}query(){return this.getRuleContext(0,Ay)}CLOSE_CODE(){return this.getToken(w.CLOSE_CODE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_sqlInterpolation}enterRule(e){e.enterSqlInterpolation&&e.enterSqlInterpolation(this)}exitRule(e){e.exitSqlInterpolation&&e.exitSqlInterpolation(this)}accept(e){return e.visitSqlInterpolation?e.visitSqlInterpolation(this):e.visitChildren(this)}};jt.SqlInterpolationContext=BR;var t$=class extends $r.ParserRuleContext{IMPORT(){return this.getToken(w.IMPORT,0)}importURL(){return this.getRuleContext(0,n$)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_importStatement}enterRule(e){e.enterImportStatement&&e.enterImportStatement(this)}exitRule(e){e.exitImportStatement&&e.exitImportStatement(this)}accept(e){return e.visitImportStatement?e.visitImportStatement(this):e.visitChildren(this)}};jt.ImportStatementContext=t$;var n$=class extends $r.ParserRuleContext{JSON_STRING(){return this.getToken(w.JSON_STRING,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_importURL}enterRule(e){e.enterImportURL&&e.enterImportURL(this)}exitRule(e){e.exitImportURL&&e.exitImportURL(this)}accept(e){return e.visitImportURL?e.visitImportURL(this):e.visitChildren(this)}};jt.ImportURLContext=n$;var r$=class extends $r.ParserRuleContext{topLevelQueryDef(e){return e===void 0?this.getRuleContexts(jR):this.getRuleContext(e,jR)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_topLevelQueryDefs}enterRule(e){e.enterTopLevelQueryDefs&&e.enterTopLevelQueryDefs(this)}exitRule(e){e.exitTopLevelQueryDefs&&e.exitTopLevelQueryDefs(this)}accept(e){return e.visitTopLevelQueryDefs?e.visitTopLevelQueryDefs(this):e.visitChildren(this)}};jt.TopLevelQueryDefsContext=r$;var jR=class extends $r.ParserRuleContext{queryName(){return this.getRuleContext(0,lE)}IS(){return this.getToken(w.IS,0)}query(){return this.getRuleContext(0,Ay)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_topLevelQueryDef}enterRule(e){e.enterTopLevelQueryDef&&e.enterTopLevelQueryDef(this)}exitRule(e){e.exitTopLevelQueryDef&&e.exitTopLevelQueryDef(this)}accept(e){return e.visitTopLevelQueryDef?e.visitTopLevelQueryDef(this):e.visitChildren(this)}};jt.TopLevelQueryDefContext=jR;var oE=class extends $r.ParserRuleContext{PLUS(){return this.getToken(w.PLUS,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_refineOperator}enterRule(e){e.enterRefineOperator&&e.enterRefineOperator(this)}exitRule(e){e.exitRefineOperator&&e.exitRefineOperator(this)}accept(e){return e.visitRefineOperator?e.visitRefineOperator(this):e.visitChildren(this)}};jt.RefineOperatorContext=oE;var Ay=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_query}copyFrom(e){super.copyFrom(e)}};jt.QueryContext=Ay;var fse=class extends Ay{explore(){return this.getRuleContext(0,cE)}ARROW(){return this.getToken(w.ARROW,0)}pipelineFromName(){return this.getRuleContext(0,XC)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExploreArrowQuery&&e.enterExploreArrowQuery(this)}exitRule(e){e.exitExploreArrowQuery&&e.exitExploreArrowQuery(this)}accept(e){return e.visitExploreArrowQuery?e.visitExploreArrowQuery(this):e.visitChildren(this)}};jt.ExploreArrowQueryContext=fse;var dse=class extends Ay{ARROW(){return this.getToken(w.ARROW,0)}queryName(){return this.getRuleContext(0,lE)}queryProperties(){return this.tryGetRuleContext(0,uE)}pipeElement(e){return e===void 0?this.getRuleContexts(aE):this.getRuleContext(e,aE)}refineOperator(){return this.tryGetRuleContext(0,oE)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterArrowQuery&&e.enterArrowQuery(this)}exitRule(e){e.exitArrowQuery&&e.exitArrowQuery(this)}accept(e){return e.visitArrowQuery?e.visitArrowQuery(this):e.visitChildren(this)}};jt.ArrowQueryContext=dse;var XC=class extends $r.ParserRuleContext{firstSegment(){return this.getRuleContext(0,i$)}pipeElement(e){return e===void 0?this.getRuleContexts(aE):this.getRuleContext(e,aE)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_pipelineFromName}enterRule(e){e.enterPipelineFromName&&e.enterPipelineFromName(this)}exitRule(e){e.exitPipelineFromName&&e.exitPipelineFromName(this)}accept(e){return e.visitPipelineFromName?e.visitPipelineFromName(this):e.visitChildren(this)}};jt.PipelineFromNameContext=XC;var i$=class extends $r.ParserRuleContext{queryProperties(){return this.tryGetRuleContext(0,uE)}exploreQueryName(){return this.tryGetRuleContext(0,o$)}refineOperator(){return this.tryGetRuleContext(0,oE)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_firstSegment}enterRule(e){e.enterFirstSegment&&e.enterFirstSegment(this)}exitRule(e){e.exitFirstSegment&&e.exitFirstSegment(this)}accept(e){return e.visitFirstSegment?e.visitFirstSegment(this):e.visitChildren(this)}};jt.FirstSegmentContext=i$;var aE=class extends $r.ParserRuleContext{ARROW(){return this.getToken(w.ARROW,0)}queryProperties(){return this.getRuleContext(0,uE)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_pipeElement}enterRule(e){e.enterPipeElement&&e.enterPipeElement(this)}exitRule(e){e.exitPipeElement&&e.exitPipeElement(this)}accept(e){return e.visitPipeElement?e.visitPipeElement(this):e.visitChildren(this)}};jt.PipeElementContext=aE;var s$=class extends $r.ParserRuleContext{TABLE(){return this.getToken(w.TABLE,0)}OPAREN(){return this.getToken(w.OPAREN,0)}tableName(){return this.getRuleContext(0,L$)}CPAREN(){return this.getToken(w.CPAREN,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreTable}enterRule(e){e.enterExploreTable&&e.enterExploreTable(this)}exitRule(e){e.exitExploreTable&&e.exitExploreTable(this)}accept(e){return e.visitExploreTable?e.visitExploreTable(this):e.visitChildren(this)}};jt.ExploreTableContext=s$;var uE=class extends $r.ParserRuleContext{filterShortcut(){return this.tryGetRuleContext(0,qR)}OCURLY(){return this.tryGetToken(w.OCURLY,0)}CCURLY(){return this.tryGetToken(w.CCURLY,0)}queryStatement(e){return e===void 0?this.getRuleContexts(YR):this.getRuleContext(e,YR)}SEMI(e){return e===void 0?this.getTokens(w.SEMI):this.getToken(w.SEMI,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_queryProperties}enterRule(e){e.enterQueryProperties&&e.enterQueryProperties(this)}exitRule(e){e.exitQueryProperties&&e.exitQueryProperties(this)}accept(e){return e.visitQueryProperties?e.visitQueryProperties(this):e.visitChildren(this)}};jt.QueryPropertiesContext=uE;var qR=class extends $r.ParserRuleContext{OCURLY(){return this.getToken(w.OCURLY,0)}QMARK(){return this.getToken(w.QMARK,0)}fieldExpr(){return this.getRuleContext(0,wi)}CCURLY(){return this.getToken(w.CCURLY,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_filterShortcut}enterRule(e){e.enterFilterShortcut&&e.enterFilterShortcut(this)}exitRule(e){e.exitFilterShortcut&&e.exitFilterShortcut(this)}accept(e){return e.visitFilterShortcut?e.visitFilterShortcut(this):e.visitChildren(this)}};jt.FilterShortcutContext=qR;var o$=class extends $r.ParserRuleContext{id(){return this.getRuleContext(0,Dd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreQueryName}enterRule(e){e.enterExploreQueryName&&e.enterExploreQueryName(this)}exitRule(e){e.exitExploreQueryName&&e.exitExploreQueryName(this)}accept(e){return e.visitExploreQueryName?e.visitExploreQueryName(this):e.visitChildren(this)}};jt.ExploreQueryNameContext=o$;var lE=class extends $r.ParserRuleContext{id(){return this.getRuleContext(0,Dd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_queryName}enterRule(e){e.enterQueryName&&e.enterQueryName(this)}exitRule(e){e.exitQueryName&&e.exitQueryName(this)}accept(e){return e.visitQueryName?e.visitQueryName(this):e.visitChildren(this)}};jt.QueryNameContext=lE;var a$=class extends $r.ParserRuleContext{exploreDefinition(e){return e===void 0?this.getRuleContexts(UR):this.getRuleContext(e,UR)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreDefinitionList}enterRule(e){e.enterExploreDefinitionList&&e.enterExploreDefinitionList(this)}exitRule(e){e.exitExploreDefinitionList&&e.exitExploreDefinitionList(this)}accept(e){return e.visitExploreDefinitionList?e.visitExploreDefinitionList(this):e.visitChildren(this)}};jt.ExploreDefinitionListContext=a$;var UR=class extends $r.ParserRuleContext{exploreNameDef(){return this.getRuleContext(0,u$)}IS(){return this.getToken(w.IS,0)}explore(){return this.getRuleContext(0,cE)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreDefinition}enterRule(e){e.enterExploreDefinition&&e.enterExploreDefinition(this)}exitRule(e){e.exitExploreDefinition&&e.exitExploreDefinition(this)}accept(e){return e.visitExploreDefinition?e.visitExploreDefinition(this):e.visitChildren(this)}};jt.ExploreDefinitionContext=UR;var cE=class extends $r.ParserRuleContext{exploreSource(){return this.getRuleContext(0,x4)}exploreProperties(){return this.tryGetRuleContext(0,c$)}refineOperator(){return this.tryGetRuleContext(0,oE)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_explore}enterRule(e){e.enterExplore&&e.enterExplore(this)}exitRule(e){e.exitExplore&&e.exitExplore(this)}accept(e){return e.visitExplore?e.visitExplore(this):e.visitChildren(this)}};jt.ExploreContext=cE;var x4=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreSource}copyFrom(e){super.copyFrom(e)}};jt.ExploreSourceContext=x4;var hse=class extends x4{exploreName(){return this.getRuleContext(0,l$)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNamedSource&&e.enterNamedSource(this)}exitRule(e){e.exitNamedSource&&e.exitNamedSource(this)}accept(e){return e.visitNamedSource?e.visitNamedSource(this):e.visitChildren(this)}};jt.NamedSourceContext=hse;var pse=class extends x4{exploreTable(){return this.getRuleContext(0,s$)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterTableSource&&e.enterTableSource(this)}exitRule(e){e.exitTableSource&&e.exitTableSource(this)}accept(e){return e.visitTableSource?e.visitTableSource(this):e.visitChildren(this)}};jt.TableSourceContext=pse;var mse=class extends x4{FROM(){return this.getToken(w.FROM,0)}OPAREN(){return this.getToken(w.OPAREN,0)}query(){return this.getRuleContext(0,Ay)}CPAREN(){return this.getToken(w.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterQuerySource&&e.enterQuerySource(this)}exitRule(e){e.exitQuerySource&&e.exitQuerySource(this)}accept(e){return e.visitQuerySource?e.visitQuerySource(this):e.visitChildren(this)}};jt.QuerySourceContext=mse;var xse=class extends x4{FROM_SQL(){return this.getToken(w.FROM_SQL,0)}OPAREN(){return this.getToken(w.OPAREN,0)}sqlExploreNameRef(){return this.getRuleContext(0,U$)}CPAREN(){return this.getToken(w.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterSQLSourceName&&e.enterSQLSourceName(this)}exitRule(e){e.exitSQLSourceName&&e.exitSQLSourceName(this)}accept(e){return e.visitSQLSourceName?e.visitSQLSourceName(this):e.visitChildren(this)}};jt.SQLSourceNameContext=xse;var u$=class extends $r.ParserRuleContext{id(){return this.getRuleContext(0,Dd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreNameDef}enterRule(e){e.enterExploreNameDef&&e.enterExploreNameDef(this)}exitRule(e){e.exitExploreNameDef&&e.exitExploreNameDef(this)}accept(e){return e.visitExploreNameDef?e.visitExploreNameDef(this):e.visitChildren(this)}};jt.ExploreNameDefContext=u$;var l$=class extends $r.ParserRuleContext{id(){return this.getRuleContext(0,Dd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreName}enterRule(e){e.enterExploreName&&e.enterExploreName(this)}exitRule(e){e.exitExploreName&&e.exitExploreName(this)}accept(e){return e.visitExploreName?e.visitExploreName(this):e.visitChildren(this)}};jt.ExploreNameContext=l$;var c$=class extends $r.ParserRuleContext{OCURLY(){return this.tryGetToken(w.OCURLY,0)}CCURLY(){return this.tryGetToken(w.CCURLY,0)}exploreStatement(e){return e===void 0?this.getRuleContexts(Eh):this.getRuleContext(e,Eh)}SEMI(e){return e===void 0?this.getTokens(w.SEMI):this.getToken(w.SEMI,e)}filterShortcut(){return this.tryGetRuleContext(0,qR)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreProperties}enterRule(e){e.enterExploreProperties&&e.enterExploreProperties(this)}exitRule(e){e.exitExploreProperties&&e.exitExploreProperties(this)}accept(e){return e.visitExploreProperties?e.visitExploreProperties(this):e.visitChildren(this)}};jt.ExplorePropertiesContext=c$;var Eh=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreStatement}copyFrom(e){super.copyFrom(e)}};jt.ExploreStatementContext=Eh;var gse=class extends Eh{DIMENSION(){return this.getToken(w.DIMENSION,0)}dimensionDefList(){return this.getRuleContext(0,d$)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreDimension&&e.enterDefExploreDimension(this)}exitRule(e){e.exitDefExploreDimension&&e.exitDefExploreDimension(this)}accept(e){return e.visitDefExploreDimension?e.visitDefExploreDimension(this):e.visitChildren(this)}};jt.DefExploreDimensionContext=gse;var yse=class extends Eh{MEASURE(){return this.getToken(w.MEASURE,0)}measureDefList(){return this.getRuleContext(0,h$)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreMeasure&&e.enterDefExploreMeasure(this)}exitRule(e){e.exitDefExploreMeasure&&e.exitDefExploreMeasure(this)}accept(e){return e.visitDefExploreMeasure?e.visitDefExploreMeasure(this):e.visitChildren(this)}};jt.DefExploreMeasureContext=yse;var vse=class extends Eh{declareStatement(){return this.getRuleContext(0,VR)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefDeclare_stub&&e.enterDefDeclare_stub(this)}exitRule(e){e.exitDefDeclare_stub&&e.exitDefDeclare_stub(this)}accept(e){return e.visitDefDeclare_stub?e.visitDefDeclare_stub(this):e.visitChildren(this)}};jt.DefDeclare_stubContext=vse;var _se=class extends Eh{joinStatement(){return this.getRuleContext(0,y4)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoin_stub&&e.enterDefJoin_stub(this)}exitRule(e){e.exitDefJoin_stub&&e.exitDefJoin_stub(this)}accept(e){return e.visitDefJoin_stub?e.visitDefJoin_stub(this):e.visitChildren(this)}};jt.DefJoin_stubContext=_se;var Ese=class extends Eh{whereStatement(){return this.getRuleContext(0,dE)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreWhere&&e.enterDefExploreWhere(this)}exitRule(e){e.exitDefExploreWhere&&e.exitDefExploreWhere(this)}accept(e){return e.visitDefExploreWhere?e.visitDefExploreWhere(this):e.visitChildren(this)}};jt.DefExploreWhereContext=Ese;var bse=class extends Eh{PRIMARY_KEY(){return this.getToken(w.PRIMARY_KEY,0)}fieldName(){return this.getRuleContext(0,Rd)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExplorePrimaryKey&&e.enterDefExplorePrimaryKey(this)}exitRule(e){e.exitDefExplorePrimaryKey&&e.exitDefExplorePrimaryKey(this)}accept(e){return e.visitDefExplorePrimaryKey?e.visitDefExplorePrimaryKey(this):e.visitChildren(this)}};jt.DefExplorePrimaryKeyContext=bse;var Sse=class extends Eh{RENAME(){return this.getToken(w.RENAME,0)}renameList(){return this.getRuleContext(0,f$)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreRename&&e.enterDefExploreRename(this)}exitRule(e){e.exitDefExploreRename&&e.exitDefExploreRename(this)}accept(e){return e.visitDefExploreRename?e.visitDefExploreRename(this):e.visitChildren(this)}};jt.DefExploreRenameContext=Sse;var Cse=class extends Eh{fieldNameList(){return this.getRuleContext(0,P$)}ACCEPT(){return this.tryGetToken(w.ACCEPT,0)}EXCEPT(){return this.tryGetToken(w.EXCEPT,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreEditField&&e.enterDefExploreEditField(this)}exitRule(e){e.exitDefExploreEditField&&e.exitDefExploreEditField(this)}accept(e){return e.visitDefExploreEditField?e.visitDefExploreEditField(this):e.visitChildren(this)}};jt.DefExploreEditFieldContext=Cse;var wse=class extends Eh{QUERY(){return this.getToken(w.QUERY,0)}subQueryDefList(){return this.getRuleContext(0,x$)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreQuery&&e.enterDefExploreQuery(this)}exitRule(e){e.exitDefExploreQuery&&e.exitDefExploreQuery(this)}accept(e){return e.visitDefExploreQuery?e.visitDefExploreQuery(this):e.visitChildren(this)}};jt.DefExploreQueryContext=wse;var f$=class extends $r.ParserRuleContext{exploreRenameDef(e){return e===void 0?this.getRuleContexts($R):this.getRuleContext(e,$R)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_renameList}enterRule(e){e.enterRenameList&&e.enterRenameList(this)}exitRule(e){e.exitRenameList&&e.exitRenameList(this)}accept(e){return e.visitRenameList?e.visitRenameList(this):e.visitChildren(this)}};jt.RenameListContext=f$;var $R=class extends $r.ParserRuleContext{fieldName(e){return e===void 0?this.getRuleContexts(Rd):this.getRuleContext(e,Rd)}IS(){return this.getToken(w.IS,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreRenameDef}enterRule(e){e.enterExploreRenameDef&&e.enterExploreRenameDef(this)}exitRule(e){e.exitExploreRenameDef&&e.exitExploreRenameDef(this)}accept(e){return e.visitExploreRenameDef?e.visitExploreRenameDef(this):e.visitChildren(this)}};jt.ExploreRenameDefContext=$R;var d$=class extends $r.ParserRuleContext{dimensionDef(e){return e===void 0?this.getRuleContexts(tw):this.getRuleContext(e,tw)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_dimensionDefList}enterRule(e){e.enterDimensionDefList&&e.enterDimensionDefList(this)}exitRule(e){e.exitDimensionDefList&&e.exitDimensionDefList(this)}accept(e){return e.visitDimensionDefList?e.visitDimensionDefList(this):e.visitChildren(this)}};jt.DimensionDefListContext=d$;var h$=class extends $r.ParserRuleContext{measureDef(e){return e===void 0?this.getRuleContexts(HR):this.getRuleContext(e,HR)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_measureDefList}enterRule(e){e.enterMeasureDefList&&e.enterMeasureDefList(this)}exitRule(e){e.exitMeasureDefList&&e.exitMeasureDefList(this)}accept(e){return e.visitMeasureDefList?e.visitMeasureDefList(this):e.visitChildren(this)}};jt.MeasureDefListContext=h$;var g4=class extends $r.ParserRuleContext{fieldNameDef(){return this.getRuleContext(0,p$)}IS(){return this.getToken(w.IS,0)}fieldExpr(){return this.getRuleContext(0,wi)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_fieldDef}enterRule(e){e.enterFieldDef&&e.enterFieldDef(this)}exitRule(e){e.exitFieldDef&&e.exitFieldDef(this)}accept(e){return e.visitFieldDef?e.visitFieldDef(this):e.visitChildren(this)}};jt.FieldDefContext=g4;var p$=class extends $r.ParserRuleContext{id(){return this.getRuleContext(0,Dd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_fieldNameDef}enterRule(e){e.enterFieldNameDef&&e.enterFieldNameDef(this)}exitRule(e){e.exitFieldNameDef&&e.exitFieldNameDef(this)}accept(e){return e.visitFieldNameDef?e.visitFieldNameDef(this):e.visitChildren(this)}};jt.FieldNameDefContext=p$;var zR=class extends $r.ParserRuleContext{id(){return this.getRuleContext(0,Dd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_joinNameDef}enterRule(e){e.enterJoinNameDef&&e.enterJoinNameDef(this)}exitRule(e){e.exitJoinNameDef&&e.exitJoinNameDef(this)}accept(e){return e.visitJoinNameDef?e.visitJoinNameDef(this):e.visitChildren(this)}};jt.JoinNameDefContext=zR;var HR=class extends $r.ParserRuleContext{fieldDef(){return this.getRuleContext(0,g4)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_measureDef}enterRule(e){e.enterMeasureDef&&e.enterMeasureDef(this)}exitRule(e){e.exitMeasureDef&&e.exitMeasureDef(this)}accept(e){return e.visitMeasureDef?e.visitMeasureDef(this):e.visitChildren(this)}};jt.MeasureDefContext=HR;var VR=class extends $r.ParserRuleContext{DECLARE(){return this.getToken(w.DECLARE,0)}fieldDef(e){return e===void 0?this.getRuleContexts(g4):this.getRuleContext(e,g4)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_declareStatement}enterRule(e){e.enterDeclareStatement&&e.enterDeclareStatement(this)}exitRule(e){e.exitDeclareStatement&&e.exitDeclareStatement(this)}accept(e){return e.visitDeclareStatement?e.visitDeclareStatement(this):e.visitChildren(this)}};jt.DeclareStatementContext=VR;var y4=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_joinStatement}copyFrom(e){super.copyFrom(e)}};jt.JoinStatementContext=y4;var Ase=class extends y4{JOIN_ONE(){return this.getToken(w.JOIN_ONE,0)}joinList(){return this.getRuleContext(0,ZC)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoinOne&&e.enterDefJoinOne(this)}exitRule(e){e.exitDefJoinOne&&e.exitDefJoinOne(this)}accept(e){return e.visitDefJoinOne?e.visitDefJoinOne(this):e.visitChildren(this)}};jt.DefJoinOneContext=Ase;var Tse=class extends y4{JOIN_MANY(){return this.getToken(w.JOIN_MANY,0)}joinList(){return this.getRuleContext(0,ZC)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoinMany&&e.enterDefJoinMany(this)}exitRule(e){e.exitDefJoinMany&&e.exitDefJoinMany(this)}accept(e){return e.visitDefJoinMany?e.visitDefJoinMany(this):e.visitChildren(this)}};jt.DefJoinManyContext=Tse;var Fse=class extends y4{JOIN_CROSS(){return this.getToken(w.JOIN_CROSS,0)}joinList(){return this.getRuleContext(0,ZC)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoinCross&&e.enterDefJoinCross(this)}exitRule(e){e.exitDefJoinCross&&e.exitDefJoinCross(this)}accept(e){return e.visitDefJoinCross?e.visitDefJoinCross(this):e.visitChildren(this)}};jt.DefJoinCrossContext=Fse;var ZC=class extends $r.ParserRuleContext{joinDef(e){return e===void 0?this.getRuleContexts(fE):this.getRuleContext(e,fE)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_joinList}enterRule(e){e.enterJoinList&&e.enterJoinList(this)}exitRule(e){e.exitJoinList&&e.exitJoinList(this)}accept(e){return e.visitJoinList?e.visitJoinList(this):e.visitChildren(this)}};jt.JoinListContext=ZC;var fE=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_joinDef}copyFrom(e){super.copyFrom(e)}};jt.JoinDefContext=fE;var Dse=class extends fE{joinNameDef(){return this.getRuleContext(0,zR)}WITH(){return this.getToken(w.WITH,0)}fieldExpr(){return this.getRuleContext(0,wi)}IS(){return this.tryGetToken(w.IS,0)}explore(){return this.tryGetRuleContext(0,cE)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterJoinWith&&e.enterJoinWith(this)}exitRule(e){e.exitJoinWith&&e.exitJoinWith(this)}accept(e){return e.visitJoinWith?e.visitJoinWith(this):e.visitChildren(this)}};jt.JoinWithContext=Dse;var Rse=class extends fE{joinNameDef(){return this.getRuleContext(0,zR)}IS(){return this.tryGetToken(w.IS,0)}explore(){return this.tryGetRuleContext(0,cE)}ON(){return this.tryGetToken(w.ON,0)}joinExpression(){return this.tryGetRuleContext(0,m$)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterJoinOn&&e.enterJoinOn(this)}exitRule(e){e.exitJoinOn&&e.exitJoinOn(this)}accept(e){return e.visitJoinOn?e.visitJoinOn(this):e.visitChildren(this)}};jt.JoinOnContext=Rse;var m$=class extends $r.ParserRuleContext{fieldExpr(){return this.getRuleContext(0,wi)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_joinExpression}enterRule(e){e.enterJoinExpression&&e.enterJoinExpression(this)}exitRule(e){e.exitJoinExpression&&e.exitJoinExpression(this)}accept(e){return e.visitJoinExpression?e.visitJoinExpression(this):e.visitChildren(this)}};jt.JoinExpressionContext=m$;var Ose=class extends $r.ParserRuleContext{whereStatement(){return this.tryGetRuleContext(0,dE)}havingStatement(){return this.tryGetRuleContext(0,QR)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_filterStatement}enterRule(e){e.enterFilterStatement&&e.enterFilterStatement(this)}exitRule(e){e.exitFilterStatement&&e.exitFilterStatement(this)}accept(e){return e.visitFilterStatement?e.visitFilterStatement(this):e.visitChildren(this)}};jt.FilterStatementContext=Ose;var ew=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_filteredBy}copyFrom(e){super.copyFrom(e)}};jt.FilteredByContext=ew;var Nse=class extends ew{QMARK(){return this.getToken(w.QMARK,0)}fieldExpr(){return this.getRuleContext(0,wi)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterFilterByShortcut&&e.enterFilterByShortcut(this)}exitRule(e){e.exitFilterByShortcut&&e.exitFilterByShortcut(this)}accept(e){return e.visitFilterByShortcut?e.visitFilterByShortcut(this):e.visitChildren(this)}};jt.FilterByShortcutContext=Nse;var Lse=class extends ew{whereStatement(){return this.getRuleContext(0,dE)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterFilterByWhere&&e.enterFilterByWhere(this)}exitRule(e){e.exitFilterByWhere&&e.exitFilterByWhere(this)}accept(e){return e.visitFilterByWhere?e.visitFilterByWhere(this):e.visitChildren(this)}};jt.FilterByWhereContext=Lse;var WR=class extends $r.ParserRuleContext{fieldExpr(e){return e===void 0?this.getRuleContexts(wi):this.getRuleContext(e,wi)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_filterClauseList}enterRule(e){e.enterFilterClauseList&&e.enterFilterClauseList(this)}exitRule(e){e.exitFilterClauseList&&e.exitFilterClauseList(this)}accept(e){return e.visitFilterClauseList?e.visitFilterClauseList(this):e.visitChildren(this)}};jt.FilterClauseListContext=WR;var dE=class extends $r.ParserRuleContext{WHERE(){return this.getToken(w.WHERE,0)}filterClauseList(){return this.getRuleContext(0,WR)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_whereStatement}enterRule(e){e.enterWhereStatement&&e.enterWhereStatement(this)}exitRule(e){e.exitWhereStatement&&e.exitWhereStatement(this)}accept(e){return e.visitWhereStatement?e.visitWhereStatement(this):e.visitChildren(this)}};jt.WhereStatementContext=dE;var QR=class extends $r.ParserRuleContext{HAVING(){return this.getToken(w.HAVING,0)}filterClauseList(){return this.getRuleContext(0,WR)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_havingStatement}enterRule(e){e.enterHavingStatement&&e.enterHavingStatement(this)}exitRule(e){e.exitHavingStatement&&e.exitHavingStatement(this)}accept(e){return e.visitHavingStatement?e.visitHavingStatement(this):e.visitChildren(this)}};jt.HavingStatementContext=QR;var x$=class extends $r.ParserRuleContext{exploreQueryDef(e){return e===void 0?this.getRuleContexts(GR):this.getRuleContext(e,GR)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_subQueryDefList}enterRule(e){e.enterSubQueryDefList&&e.enterSubQueryDefList(this)}exitRule(e){e.exitSubQueryDefList&&e.exitSubQueryDefList(this)}accept(e){return e.visitSubQueryDefList?e.visitSubQueryDefList(this):e.visitChildren(this)}};jt.SubQueryDefListContext=x$;var g$=class extends $r.ParserRuleContext{id(){return this.getRuleContext(0,Dd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreQueryNameDef}enterRule(e){e.enterExploreQueryNameDef&&e.enterExploreQueryNameDef(this)}exitRule(e){e.exitExploreQueryNameDef&&e.exitExploreQueryNameDef(this)}accept(e){return e.visitExploreQueryNameDef?e.visitExploreQueryNameDef(this):e.visitChildren(this)}};jt.ExploreQueryNameDefContext=g$;var GR=class extends $r.ParserRuleContext{exploreQueryNameDef(){return this.getRuleContext(0,g$)}IS(){return this.getToken(w.IS,0)}pipelineFromName(){return this.getRuleContext(0,XC)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreQueryDef}enterRule(e){e.enterExploreQueryDef&&e.enterExploreQueryDef(this)}exitRule(e){e.exitExploreQueryDef&&e.exitExploreQueryDef(this)}accept(e){return e.visitExploreQueryDef?e.visitExploreQueryDef(this):e.visitChildren(this)}};jt.ExploreQueryDefContext=GR;var YR=class extends $r.ParserRuleContext{groupByStatement(){return this.tryGetRuleContext(0,y$)}declareStatement(){return this.tryGetRuleContext(0,VR)}joinStatement(){return this.tryGetRuleContext(0,y4)}projectStatement(){return this.tryGetRuleContext(0,b$)}indexStatement(){return this.tryGetRuleContext(0,D$)}aggregateStatement(){return this.tryGetRuleContext(0,E$)}topStatement(){return this.tryGetRuleContext(0,T$)}limitStatement(){return this.tryGetRuleContext(0,w$)}orderByStatement(){return this.tryGetRuleContext(0,S$)}whereStatement(){return this.tryGetRuleContext(0,dE)}havingStatement(){return this.tryGetRuleContext(0,QR)}nestStatement(){return this.tryGetRuleContext(0,v$)}sampleStatement(){return this.tryGetRuleContext(0,R$)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_queryStatement}enterRule(e){e.enterQueryStatement&&e.enterQueryStatement(this)}exitRule(e){e.exitQueryStatement&&e.exitQueryStatement(this)}accept(e){return e.visitQueryStatement?e.visitQueryStatement(this):e.visitChildren(this)}};jt.QueryStatementContext=YR;var y$=class extends $r.ParserRuleContext{GROUP_BY(){return this.getToken(w.GROUP_BY,0)}queryFieldList(){return this.getRuleContext(0,KR)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_groupByStatement}enterRule(e){e.enterGroupByStatement&&e.enterGroupByStatement(this)}exitRule(e){e.exitGroupByStatement&&e.exitGroupByStatement(this)}accept(e){return e.visitGroupByStatement?e.visitGroupByStatement(this):e.visitChildren(this)}};jt.GroupByStatementContext=y$;var KR=class extends $r.ParserRuleContext{queryFieldEntry(e){return e===void 0?this.getRuleContexts(hE):this.getRuleContext(e,hE)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_queryFieldList}enterRule(e){e.enterQueryFieldList&&e.enterQueryFieldList(this)}exitRule(e){e.exitQueryFieldList&&e.exitQueryFieldList(this)}accept(e){return e.visitQueryFieldList?e.visitQueryFieldList(this):e.visitChildren(this)}};jt.QueryFieldListContext=KR;var tw=class extends $r.ParserRuleContext{fieldDef(){return this.getRuleContext(0,g4)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_dimensionDef}enterRule(e){e.enterDimensionDef&&e.enterDimensionDef(this)}exitRule(e){e.exitDimensionDef&&e.exitDimensionDef(this)}accept(e){return e.visitDimensionDef?e.visitDimensionDef(this):e.visitChildren(this)}};jt.DimensionDefContext=tw;var hE=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_queryFieldEntry}copyFrom(e){super.copyFrom(e)}};jt.QueryFieldEntryContext=hE;var kse=class extends hE{fieldPath(){return this.getRuleContext(0,Ty)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterQueryFieldRef&&e.enterQueryFieldRef(this)}exitRule(e){e.exitQueryFieldRef&&e.exitQueryFieldRef(this)}accept(e){return e.visitQueryFieldRef?e.visitQueryFieldRef(this):e.visitChildren(this)}};jt.QueryFieldRefContext=kse;var Ise=class extends hE{dimensionDef(){return this.getRuleContext(0,tw)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterQueryFieldDef&&e.enterQueryFieldDef(this)}exitRule(e){e.exitQueryFieldDef&&e.exitQueryFieldDef(this)}accept(e){return e.visitQueryFieldDef?e.visitQueryFieldDef(this):e.visitChildren(this)}};jt.QueryFieldDefContext=Ise;var v$=class extends $r.ParserRuleContext{NEST(){return this.getToken(w.NEST,0)}nestedQueryList(){return this.getRuleContext(0,_$)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_nestStatement}enterRule(e){e.enterNestStatement&&e.enterNestStatement(this)}exitRule(e){e.exitNestStatement&&e.exitNestStatement(this)}accept(e){return e.visitNestStatement?e.visitNestStatement(this):e.visitChildren(this)}};jt.NestStatementContext=v$;var _$=class extends $r.ParserRuleContext{nestEntry(e){return e===void 0?this.getRuleContexts(pE):this.getRuleContext(e,pE)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_nestedQueryList}enterRule(e){e.enterNestedQueryList&&e.enterNestedQueryList(this)}exitRule(e){e.exitNestedQueryList&&e.exitNestedQueryList(this)}accept(e){return e.visitNestedQueryList?e.visitNestedQueryList(this):e.visitChildren(this)}};jt.NestedQueryListContext=_$;var pE=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_nestEntry}copyFrom(e){super.copyFrom(e)}};jt.NestEntryContext=pE;var Mse=class extends pE{queryName(){return this.getRuleContext(0,lE)}queryProperties(){return this.tryGetRuleContext(0,uE)}refineOperator(){return this.tryGetRuleContext(0,oE)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNestExisting&&e.enterNestExisting(this)}exitRule(e){e.exitNestExisting&&e.exitNestExisting(this)}accept(e){return e.visitNestExisting?e.visitNestExisting(this):e.visitChildren(this)}};jt.NestExistingContext=Mse;var Pse=class extends pE{queryName(){return this.getRuleContext(0,lE)}IS(){return this.getToken(w.IS,0)}pipelineFromName(){return this.getRuleContext(0,XC)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNestDef&&e.enterNestDef(this)}exitRule(e){e.exitNestDef&&e.exitNestDef(this)}accept(e){return e.visitNestDef?e.visitNestDef(this):e.visitChildren(this)}};jt.NestDefContext=Pse;var E$=class extends $r.ParserRuleContext{AGGREGATE(){return this.getToken(w.AGGREGATE,0)}queryFieldList(){return this.getRuleContext(0,KR)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_aggregateStatement}enterRule(e){e.enterAggregateStatement&&e.enterAggregateStatement(this)}exitRule(e){e.exitAggregateStatement&&e.exitAggregateStatement(this)}accept(e){return e.visitAggregateStatement?e.visitAggregateStatement(this):e.visitChildren(this)}};jt.AggregateStatementContext=E$;var b$=class extends $r.ParserRuleContext{PROJECT(){return this.getToken(w.PROJECT,0)}fieldCollection(){return this.getRuleContext(0,B$)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_projectStatement}enterRule(e){e.enterProjectStatement&&e.enterProjectStatement(this)}exitRule(e){e.exitProjectStatement&&e.exitProjectStatement(this)}accept(e){return e.visitProjectStatement?e.visitProjectStatement(this):e.visitChildren(this)}};jt.ProjectStatementContext=b$;var S$=class extends $r.ParserRuleContext{ORDER_BY(){return this.getToken(w.ORDER_BY,0)}ordering(){return this.getRuleContext(0,C$)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_orderByStatement}enterRule(e){e.enterOrderByStatement&&e.enterOrderByStatement(this)}exitRule(e){e.exitOrderByStatement&&e.exitOrderByStatement(this)}accept(e){return e.visitOrderByStatement?e.visitOrderByStatement(this):e.visitChildren(this)}};jt.OrderByStatementContext=S$;var C$=class extends $r.ParserRuleContext{orderBySpec(e){return e===void 0?this.getRuleContexts(JR):this.getRuleContext(e,JR)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_ordering}enterRule(e){e.enterOrdering&&e.enterOrdering(this)}exitRule(e){e.exitOrdering&&e.exitOrdering(this)}accept(e){return e.visitOrdering?e.visitOrdering(this):e.visitChildren(this)}};jt.OrderingContext=C$;var JR=class extends $r.ParserRuleContext{INTEGER_LITERAL(){return this.tryGetToken(w.INTEGER_LITERAL,0)}fieldName(){return this.tryGetRuleContext(0,Rd)}ASC(){return this.tryGetToken(w.ASC,0)}DESC(){return this.tryGetToken(w.DESC,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_orderBySpec}enterRule(e){e.enterOrderBySpec&&e.enterOrderBySpec(this)}exitRule(e){e.exitOrderBySpec&&e.exitOrderBySpec(this)}accept(e){return e.visitOrderBySpec?e.visitOrderBySpec(this):e.visitChildren(this)}};jt.OrderBySpecContext=JR;var w$=class extends $r.ParserRuleContext{LIMIT(){return this.getToken(w.LIMIT,0)}INTEGER_LITERAL(){return this.getToken(w.INTEGER_LITERAL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_limitStatement}enterRule(e){e.enterLimitStatement&&e.enterLimitStatement(this)}exitRule(e){e.exitLimitStatement&&e.exitLimitStatement(this)}accept(e){return e.visitLimitStatement?e.visitLimitStatement(this):e.visitChildren(this)}};jt.LimitStatementContext=w$;var A$=class extends $r.ParserRuleContext{BY(){return this.getToken(w.BY,0)}fieldName(){return this.tryGetRuleContext(0,Rd)}fieldExpr(){return this.tryGetRuleContext(0,wi)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_bySpec}enterRule(e){e.enterBySpec&&e.enterBySpec(this)}exitRule(e){e.exitBySpec&&e.exitBySpec(this)}accept(e){return e.visitBySpec?e.visitBySpec(this):e.visitChildren(this)}};jt.BySpecContext=A$;var T$=class extends $r.ParserRuleContext{TOP(){return this.getToken(w.TOP,0)}INTEGER_LITERAL(){return this.getToken(w.INTEGER_LITERAL,0)}bySpec(){return this.tryGetRuleContext(0,A$)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_topStatement}enterRule(e){e.enterTopStatement&&e.enterTopStatement(this)}exitRule(e){e.exitTopStatement&&e.exitTopStatement(this)}accept(e){return e.visitTopStatement?e.visitTopStatement(this):e.visitChildren(this)}};jt.TopStatementContext=T$;var XR=class extends $r.ParserRuleContext{fieldPath(){return this.tryGetRuleContext(0,Ty)}DOT(){return this.tryGetToken(w.DOT,0)}STAR(){return this.tryGetToken(w.STAR,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_indexElement}enterRule(e){e.enterIndexElement&&e.enterIndexElement(this)}exitRule(e){e.exitIndexElement&&e.exitIndexElement(this)}accept(e){return e.visitIndexElement?e.visitIndexElement(this):e.visitChildren(this)}};jt.IndexElementContext=XR;var F$=class extends $r.ParserRuleContext{indexElement(e){return e===void 0?this.getRuleContexts(XR):this.getRuleContext(e,XR)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_indexFields}enterRule(e){e.enterIndexFields&&e.enterIndexFields(this)}exitRule(e){e.exitIndexFields&&e.exitIndexFields(this)}accept(e){return e.visitIndexFields?e.visitIndexFields(this):e.visitChildren(this)}};jt.IndexFieldsContext=F$;var D$=class extends $r.ParserRuleContext{INDEX(){return this.getToken(w.INDEX,0)}indexFields(){return this.getRuleContext(0,F$)}BY(){return this.tryGetToken(w.BY,0)}fieldName(){return this.tryGetRuleContext(0,Rd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_indexStatement}enterRule(e){e.enterIndexStatement&&e.enterIndexStatement(this)}exitRule(e){e.exitIndexStatement&&e.exitIndexStatement(this)}accept(e){return e.visitIndexStatement?e.visitIndexStatement(this):e.visitChildren(this)}};jt.IndexStatementContext=D$;var R$=class extends $r.ParserRuleContext{SAMPLE(){return this.getToken(w.SAMPLE,0)}sampleSpec(){return this.getRuleContext(0,O$)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_sampleStatement}enterRule(e){e.enterSampleStatement&&e.enterSampleStatement(this)}exitRule(e){e.exitSampleStatement&&e.exitSampleStatement(this)}accept(e){return e.visitSampleStatement?e.visitSampleStatement(this):e.visitChildren(this)}};jt.SampleStatementContext=R$;var O$=class extends $r.ParserRuleContext{PERCENT_LITERAL(){return this.tryGetToken(w.PERCENT_LITERAL,0)}INTEGER_LITERAL(){return this.tryGetToken(w.INTEGER_LITERAL,0)}TRUE(){return this.tryGetToken(w.TRUE,0)}FALSE(){return this.tryGetToken(w.FALSE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_sampleSpec}enterRule(e){e.enterSampleSpec&&e.enterSampleSpec(this)}exitRule(e){e.exitSampleSpec&&e.exitSampleSpec(this)}accept(e){return e.visitSampleSpec?e.visitSampleSpec(this):e.visitChildren(this)}};jt.SampleSpecContext=O$;var N$=class extends $r.ParserRuleContext{SUM(){return this.tryGetToken(w.SUM,0)}COUNT(){return this.tryGetToken(w.COUNT,0)}AVG(){return this.tryGetToken(w.AVG,0)}MIN(){return this.tryGetToken(w.MIN,0)}MAX(){return this.tryGetToken(w.MAX,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_aggregate}enterRule(e){e.enterAggregate&&e.enterAggregate(this)}exitRule(e){e.exitAggregate&&e.exitAggregate(this)}accept(e){return e.visitAggregate?e.visitAggregate(this):e.visitChildren(this)}};jt.AggregateContext=N$;var ZR=class extends $r.ParserRuleContext{STRING(){return this.tryGetToken(w.STRING,0)}NUMBER(){return this.tryGetToken(w.NUMBER,0)}BOOLEAN(){return this.tryGetToken(w.BOOLEAN,0)}DATE(){return this.tryGetToken(w.DATE,0)}TIMESTAMP(){return this.tryGetToken(w.TIMESTAMP,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_malloyType}enterRule(e){e.enterMalloyType&&e.enterMalloyType(this)}exitRule(e){e.exitMalloyType&&e.exitMalloyType(this)}accept(e){return e.visitMalloyType?e.visitMalloyType(this):e.visitChildren(this)}};jt.MalloyTypeContext=ZR;var eO=class extends $r.ParserRuleContext{MATCH(){return this.tryGetToken(w.MATCH,0)}NOT_MATCH(){return this.tryGetToken(w.NOT_MATCH,0)}GT(){return this.tryGetToken(w.GT,0)}LT(){return this.tryGetToken(w.LT,0)}GTE(){return this.tryGetToken(w.GTE,0)}LTE(){return this.tryGetToken(w.LTE,0)}EQ(){return this.tryGetToken(w.EQ,0)}NE(){return this.tryGetToken(w.NE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_compareOp}enterRule(e){e.enterCompareOp&&e.enterCompareOp(this)}exitRule(e){e.exitCompareOp&&e.exitCompareOp(this)}accept(e){return e.visitCompareOp?e.visitCompareOp(this):e.visitChildren(this)}};jt.CompareOpContext=eO;var Mm=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_literal}copyFrom(e){super.copyFrom(e)}};jt.LiteralContext=Mm;var Bse=class extends Mm{STRING_LITERAL(){return this.getToken(w.STRING_LITERAL,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprString&&e.enterExprString(this)}exitRule(e){e.exitExprString&&e.exitExprString(this)}accept(e){return e.visitExprString?e.visitExprString(this):e.visitChildren(this)}};jt.ExprStringContext=Bse;var jse=class extends Mm{NUMERIC_LITERAL(){return this.tryGetToken(w.NUMERIC_LITERAL,0)}INTEGER_LITERAL(){return this.tryGetToken(w.INTEGER_LITERAL,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNumber&&e.enterExprNumber(this)}exitRule(e){e.exitExprNumber&&e.exitExprNumber(this)}accept(e){return e.visitExprNumber?e.visitExprNumber(this):e.visitChildren(this)}};jt.ExprNumberContext=jse;var qse=class extends Mm{dateLiteral(){return this.getRuleContext(0,Fx)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprTime&&e.enterExprTime(this)}exitRule(e){e.exitExprTime&&e.exitExprTime(this)}accept(e){return e.visitExprTime?e.visitExprTime(this):e.visitChildren(this)}};jt.ExprTimeContext=qse;var Use=class extends Mm{NULL(){return this.getToken(w.NULL,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNULL&&e.enterExprNULL(this)}exitRule(e){e.exitExprNULL&&e.exitExprNULL(this)}accept(e){return e.visitExprNULL?e.visitExprNULL(this):e.visitChildren(this)}};jt.ExprNULLContext=Use;var $se=class extends Mm{TRUE(){return this.tryGetToken(w.TRUE,0)}FALSE(){return this.tryGetToken(w.FALSE,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprBool&&e.enterExprBool(this)}exitRule(e){e.exitExprBool&&e.exitExprBool(this)}accept(e){return e.visitExprBool?e.visitExprBool(this):e.visitChildren(this)}};jt.ExprBoolContext=$se;var zse=class extends Mm{HACKY_REGEX(){return this.getToken(w.HACKY_REGEX,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprRegex&&e.enterExprRegex(this)}exitRule(e){e.exitExprRegex&&e.exitExprRegex(this)}accept(e){return e.visitExprRegex?e.visitExprRegex(this):e.visitChildren(this)}};jt.ExprRegexContext=zse;var Hse=class extends Mm{NOW(){return this.getToken(w.NOW,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNow&&e.enterExprNow(this)}exitRule(e){e.exitExprNow&&e.exitExprNow(this)}accept(e){return e.visitExprNow?e.visitExprNow(this):e.visitChildren(this)}};jt.ExprNowContext=Hse;var Fx=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_dateLiteral}copyFrom(e){super.copyFrom(e)}};jt.DateLiteralContext=Fx;var Vse=class extends Fx{LITERAL_TIMESTAMP(){return this.getToken(w.LITERAL_TIMESTAMP,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralTimestamp&&e.enterLiteralTimestamp(this)}exitRule(e){e.exitLiteralTimestamp&&e.exitLiteralTimestamp(this)}accept(e){return e.visitLiteralTimestamp?e.visitLiteralTimestamp(this):e.visitChildren(this)}};jt.LiteralTimestampContext=Vse;var Wse=class extends Fx{LITERAL_DAY(){return this.getToken(w.LITERAL_DAY,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralDay&&e.enterLiteralDay(this)}exitRule(e){e.exitLiteralDay&&e.exitLiteralDay(this)}accept(e){return e.visitLiteralDay?e.visitLiteralDay(this):e.visitChildren(this)}};jt.LiteralDayContext=Wse;var Qse=class extends Fx{LITERAL_WEEK(){return this.getToken(w.LITERAL_WEEK,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralWeek&&e.enterLiteralWeek(this)}exitRule(e){e.exitLiteralWeek&&e.exitLiteralWeek(this)}accept(e){return e.visitLiteralWeek?e.visitLiteralWeek(this):e.visitChildren(this)}};jt.LiteralWeekContext=Qse;var Gse=class extends Fx{LITERAL_MONTH(){return this.getToken(w.LITERAL_MONTH,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralMonth&&e.enterLiteralMonth(this)}exitRule(e){e.exitLiteralMonth&&e.exitLiteralMonth(this)}accept(e){return e.visitLiteralMonth?e.visitLiteralMonth(this):e.visitChildren(this)}};jt.LiteralMonthContext=Gse;var Yse=class extends Fx{LITERAL_QUARTER(){return this.getToken(w.LITERAL_QUARTER,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralQuarter&&e.enterLiteralQuarter(this)}exitRule(e){e.exitLiteralQuarter&&e.exitLiteralQuarter(this)}accept(e){return e.visitLiteralQuarter?e.visitLiteralQuarter(this):e.visitChildren(this)}};jt.LiteralQuarterContext=Yse;var Kse=class extends Fx{LITERAL_YEAR(){return this.getToken(w.LITERAL_YEAR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralYear&&e.enterLiteralYear(this)}exitRule(e){e.exitLiteralYear&&e.exitLiteralYear(this)}accept(e){return e.visitLiteralYear?e.visitLiteralYear(this):e.visitChildren(this)}};jt.LiteralYearContext=Kse;var L$=class extends $r.ParserRuleContext{STRING_LITERAL(){return this.getToken(w.STRING_LITERAL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_tableName}enterRule(e){e.enterTableName&&e.enterTableName(this)}exitRule(e){e.exitTableName&&e.exitTableName(this)}accept(e){return e.visitTableName?e.visitTableName(this):e.visitChildren(this)}};jt.TableNameContext=L$;var Dd=class extends $r.ParserRuleContext{IDENTIFIER(){return this.tryGetToken(w.IDENTIFIER,0)}OBJECT_NAME_LITERAL(){return this.tryGetToken(w.OBJECT_NAME_LITERAL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_id}enterRule(e){e.enterId&&e.enterId(this)}exitRule(e){e.exitId&&e.exitId(this)}accept(e){return e.visitId?e.visitId(this):e.visitChildren(this)}};jt.IdContext=Dd;var mE=class extends $r.ParserRuleContext{SECOND(){return this.tryGetToken(w.SECOND,0)}MINUTE(){return this.tryGetToken(w.MINUTE,0)}HOUR(){return this.tryGetToken(w.HOUR,0)}DAY(){return this.tryGetToken(w.DAY,0)}WEEK(){return this.tryGetToken(w.WEEK,0)}MONTH(){return this.tryGetToken(w.MONTH,0)}QUARTER(){return this.tryGetToken(w.QUARTER,0)}YEAR(){return this.tryGetToken(w.YEAR,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_timeframe}enterRule(e){e.enterTimeframe&&e.enterTimeframe(this)}exitRule(e){e.exitTimeframe&&e.exitTimeframe(this)}accept(e){return e.visitTimeframe?e.visitTimeframe(this):e.visitChildren(this)}};jt.TimeframeContext=mE;var k$=class extends $r.ParserRuleContext{ALL(){return this.tryGetToken(w.ALL,0)}EXCLUDE(){return this.tryGetToken(w.EXCLUDE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_ungroup}enterRule(e){e.enterUngroup&&e.enterUngroup(this)}exitRule(e){e.exitUngroup&&e.exitUngroup(this)}accept(e){return e.visitUngroup?e.visitUngroup(this):e.visitChildren(this)}};jt.UngroupContext=k$;var wi=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_fieldExpr}copyFrom(e){super.copyFrom(e)}};jt.FieldExprContext=wi;var Jse=class extends wi{fieldPath(){return this.getRuleContext(0,Ty)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprFieldPath&&e.enterExprFieldPath(this)}exitRule(e){e.exitExprFieldPath&&e.exitExprFieldPath(this)}accept(e){return e.visitExprFieldPath?e.visitExprFieldPath(this):e.visitChildren(this)}};jt.ExprFieldPathContext=Jse;var Xse=class extends wi{fieldExpr(){return this.getRuleContext(0,wi)}OCURLY(){return this.getToken(w.OCURLY,0)}filteredBy(){return this.getRuleContext(0,ew)}CCURLY(){return this.getToken(w.CCURLY,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprFilter&&e.enterExprFilter(this)}exitRule(e){e.exitExprFilter&&e.exitExprFilter(this)}accept(e){return e.visitExprFilter?e.visitExprFilter(this):e.visitChildren(this)}};jt.ExprFilterContext=Xse;var Zse=class extends wi{literal(){return this.getRuleContext(0,Mm)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprLiteral&&e.enterExprLiteral(this)}exitRule(e){e.exitExprLiteral&&e.exitExprLiteral(this)}accept(e){return e.visitExprLiteral?e.visitExprLiteral(this):e.visitChildren(this)}};jt.ExprLiteralContext=Zse;var eoe=class extends wi{MINUS(){return this.getToken(w.MINUS,0)}fieldExpr(){return this.getRuleContext(0,wi)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprMinus&&e.enterExprMinus(this)}exitRule(e){e.exitExprMinus&&e.exitExprMinus(this)}accept(e){return e.visitExprMinus?e.visitExprMinus(this):e.visitChildren(this)}};jt.ExprMinusContext=eoe;var toe=class extends wi{fieldExpr(){return this.getRuleContext(0,wi)}timeframe(){return this.getRuleContext(0,mE)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprDuration&&e.enterExprDuration(this)}exitRule(e){e.exitExprDuration&&e.exitExprDuration(this)}accept(e){return e.visitExprDuration?e.visitExprDuration(this):e.visitChildren(this)}};jt.ExprDurationContext=toe;var noe=class extends wi{fieldExpr(){return this.getRuleContext(0,wi)}DOT(){return this.getToken(w.DOT,0)}timeframe(){return this.getRuleContext(0,mE)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprTimeTrunc&&e.enterExprTimeTrunc(this)}exitRule(e){e.exitExprTimeTrunc&&e.exitExprTimeTrunc(this)}accept(e){return e.visitExprTimeTrunc?e.visitExprTimeTrunc(this):e.visitChildren(this)}};jt.ExprTimeTruncContext=noe;var roe=class extends wi{fieldExpr(){return this.getRuleContext(0,wi)}DOUBLECOLON(){return this.getToken(w.DOUBLECOLON,0)}malloyType(){return this.getRuleContext(0,ZR)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprSafeCast&&e.enterExprSafeCast(this)}exitRule(e){e.exitExprSafeCast&&e.exitExprSafeCast(this)}accept(e){return e.visitExprSafeCast?e.visitExprSafeCast(this):e.visitChildren(this)}};jt.ExprSafeCastContext=roe;var ioe=class extends wi{fieldExpr(e){return e===void 0?this.getRuleContexts(wi):this.getRuleContext(e,wi)}STAR(){return this.tryGetToken(w.STAR,0)}SLASH(){return this.tryGetToken(w.SLASH,0)}PERCENT(){return this.tryGetToken(w.PERCENT,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprMulDiv&&e.enterExprMulDiv(this)}exitRule(e){e.exitExprMulDiv&&e.exitExprMulDiv(this)}accept(e){return e.visitExprMulDiv?e.visitExprMulDiv(this):e.visitChildren(this)}};jt.ExprMulDivContext=ioe;var soe=class extends wi{fieldExpr(e){return e===void 0?this.getRuleContexts(wi):this.getRuleContext(e,wi)}PLUS(){return this.tryGetToken(w.PLUS,0)}MINUS(){return this.tryGetToken(w.MINUS,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprAddSub&&e.enterExprAddSub(this)}exitRule(e){e.exitExprAddSub&&e.exitExprAddSub(this)}accept(e){return e.visitExprAddSub?e.visitExprAddSub(this):e.visitChildren(this)}};jt.ExprAddSubContext=soe;var ooe=class extends wi{fieldExpr(e){return e===void 0?this.getRuleContexts(wi):this.getRuleContext(e,wi)}TO(){return this.getToken(w.TO,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprRange&&e.enterExprRange(this)}exitRule(e){e.exitExprRange&&e.exitExprRange(this)}accept(e){return e.visitExprRange?e.visitExprRange(this):e.visitChildren(this)}};jt.ExprRangeContext=ooe;var aoe=class extends wi{constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}FOR(){return this.getToken(w.FOR,0)}timeframe(){return this.getRuleContext(0,mE)}fieldExpr(e){return e===void 0?this.getRuleContexts(wi):this.getRuleContext(e,wi)}enterRule(e){e.enterExprForRange&&e.enterExprForRange(this)}exitRule(e){e.exitExprForRange&&e.exitExprForRange(this)}accept(e){return e.visitExprForRange?e.visitExprForRange(this):e.visitChildren(this)}};jt.ExprForRangeContext=aoe;var uoe=class extends wi{fieldExpr(){return this.getRuleContext(0,wi)}partialAllowedFieldExpr(){return this.getRuleContext(0,xE)}AMPER(){return this.tryGetToken(w.AMPER,0)}BAR(){return this.tryGetToken(w.BAR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprLogicalTree&&e.enterExprLogicalTree(this)}exitRule(e){e.exitExprLogicalTree&&e.exitExprLogicalTree(this)}accept(e){return e.visitExprLogicalTree?e.visitExprLogicalTree(this):e.visitChildren(this)}};jt.ExprLogicalTreeContext=uoe;var loe=class extends wi{fieldExpr(e){return e===void 0?this.getRuleContexts(wi):this.getRuleContext(e,wi)}compareOp(){return this.getRuleContext(0,eO)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprCompare&&e.enterExprCompare(this)}exitRule(e){e.exitExprCompare&&e.exitExprCompare(this)}accept(e){return e.visitExprCompare?e.visitExprCompare(this):e.visitChildren(this)}};jt.ExprCompareContext=loe;var coe=class extends wi{fieldExpr(){return this.getRuleContext(0,wi)}partialAllowedFieldExpr(){return this.getRuleContext(0,xE)}COLON(){return this.tryGetToken(w.COLON,0)}QMARK(){return this.tryGetToken(w.QMARK,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprApply&&e.enterExprApply(this)}exitRule(e){e.exitExprApply&&e.exitExprApply(this)}accept(e){return e.visitExprApply?e.visitExprApply(this):e.visitChildren(this)}};jt.ExprApplyContext=coe;var foe=class extends wi{NOT(){return this.getToken(w.NOT,0)}fieldExpr(){return this.getRuleContext(0,wi)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNot&&e.enterExprNot(this)}exitRule(e){e.exitExprNot&&e.exitExprNot(this)}accept(e){return e.visitExprNot?e.visitExprNot(this):e.visitChildren(this)}};jt.ExprNotContext=foe;var doe=class extends wi{fieldExpr(e){return e===void 0?this.getRuleContexts(wi):this.getRuleContext(e,wi)}AND(){return this.tryGetToken(w.AND,0)}OR(){return this.tryGetToken(w.OR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprLogical&&e.enterExprLogical(this)}exitRule(e){e.exitExprLogical&&e.exitExprLogical(this)}accept(e){return e.visitExprLogical?e.visitExprLogical(this):e.visitChildren(this)}};jt.ExprLogicalContext=doe;var hoe=class extends wi{CAST(){return this.getToken(w.CAST,0)}OPAREN(){return this.getToken(w.OPAREN,0)}fieldExpr(){return this.getRuleContext(0,wi)}AS(){return this.getToken(w.AS,0)}malloyType(){return this.getRuleContext(0,ZR)}CPAREN(){return this.getToken(w.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprCast&&e.enterExprCast(this)}exitRule(e){e.exitExprCast&&e.exitExprCast(this)}accept(e){return e.visitExprCast?e.visitExprCast(this):e.visitChildren(this)}};jt.ExprCastContext=hoe;var poe=class extends wi{COUNT(){return this.getToken(w.COUNT,0)}OPAREN(){return this.getToken(w.OPAREN,0)}DISTINCT(){return this.getToken(w.DISTINCT,0)}fieldExpr(){return this.getRuleContext(0,wi)}CPAREN(){return this.getToken(w.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprCountDisinct&&e.enterExprCountDisinct(this)}exitRule(e){e.exitExprCountDisinct&&e.exitExprCountDisinct(this)}accept(e){return e.visitExprCountDisinct?e.visitExprCountDisinct(this):e.visitChildren(this)}};jt.ExprCountDisinctContext=poe;var moe=class extends wi{aggregate(){return this.getRuleContext(0,N$)}OPAREN(){return this.getToken(w.OPAREN,0)}CPAREN(){return this.getToken(w.CPAREN,0)}fieldPath(){return this.tryGetRuleContext(0,Ty)}DOT(){return this.tryGetToken(w.DOT,0)}fieldExpr(){return this.tryGetRuleContext(0,wi)}STAR(){return this.tryGetToken(w.STAR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprAggregate&&e.enterExprAggregate(this)}exitRule(e){e.exitExprAggregate&&e.exitExprAggregate(this)}accept(e){return e.visitExprAggregate?e.visitExprAggregate(this):e.visitChildren(this)}};jt.ExprAggregateContext=moe;var xoe=class extends wi{OPAREN(){return this.getToken(w.OPAREN,0)}partialAllowedFieldExpr(){return this.getRuleContext(0,xE)}CPAREN(){return this.getToken(w.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprExpr&&e.enterExprExpr(this)}exitRule(e){e.exitExprExpr&&e.exitExprExpr(this)}accept(e){return e.visitExprExpr?e.visitExprExpr(this):e.visitChildren(this)}};jt.ExprExprContext=xoe;var goe=class extends wi{OPAREN(){return this.getToken(w.OPAREN,0)}CPAREN(){return this.getToken(w.CPAREN,0)}id(){return this.tryGetRuleContext(0,Dd)}timeframe(){return this.tryGetRuleContext(0,mE)}argumentList(){return this.tryGetRuleContext(0,M$)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprFunc&&e.enterExprFunc(this)}exitRule(e){e.exitExprFunc&&e.exitExprFunc(this)}accept(e){return e.visitExprFunc?e.visitExprFunc(this):e.visitChildren(this)}};jt.ExprFuncContext=goe;var yoe=class extends wi{pickStatement(){return this.getRuleContext(0,I$)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprPick&&e.enterExprPick(this)}exitRule(e){e.exitExprPick&&e.exitExprPick(this)}accept(e){return e.visitExprPick?e.visitExprPick(this):e.visitChildren(this)}};jt.ExprPickContext=yoe;var voe=class extends wi{ungroup(){return this.getRuleContext(0,k$)}OPAREN(){return this.getToken(w.OPAREN,0)}fieldExpr(){return this.getRuleContext(0,wi)}CPAREN(){return this.getToken(w.CPAREN,0)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}fieldName(e){return e===void 0?this.getRuleContexts(Rd):this.getRuleContext(e,Rd)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprUngroup&&e.enterExprUngroup(this)}exitRule(e){e.exitExprUngroup&&e.exitExprUngroup(this)}accept(e){return e.visitExprUngroup?e.visitExprUngroup(this):e.visitChildren(this)}};jt.ExprUngroupContext=voe;var xE=class extends $r.ParserRuleContext{fieldExpr(){return this.getRuleContext(0,wi)}compareOp(){return this.tryGetRuleContext(0,eO)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_partialAllowedFieldExpr}enterRule(e){e.enterPartialAllowedFieldExpr&&e.enterPartialAllowedFieldExpr(this)}exitRule(e){e.exitPartialAllowedFieldExpr&&e.exitPartialAllowedFieldExpr(this)}accept(e){return e.visitPartialAllowedFieldExpr?e.visitPartialAllowedFieldExpr(this):e.visitChildren(this)}};jt.PartialAllowedFieldExprContext=xE;var I$=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}pick(e){return e===void 0?this.getRuleContexts(tO):this.getRuleContext(e,tO)}ELSE(){return this.tryGetToken(w.ELSE,0)}fieldExpr(){return this.tryGetRuleContext(0,wi)}get ruleIndex(){return w.RULE_pickStatement}enterRule(e){e.enterPickStatement&&e.enterPickStatement(this)}exitRule(e){e.exitPickStatement&&e.exitPickStatement(this)}accept(e){return e.visitPickStatement?e.visitPickStatement(this):e.visitChildren(this)}};jt.PickStatementContext=I$;var tO=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}PICK(){return this.getToken(w.PICK,0)}WHEN(){return this.getToken(w.WHEN,0)}partialAllowedFieldExpr(){return this.getRuleContext(0,xE)}fieldExpr(){return this.tryGetRuleContext(0,wi)}get ruleIndex(){return w.RULE_pick}enterRule(e){e.enterPick&&e.enterPick(this)}exitRule(e){e.exitPick&&e.exitPick(this)}accept(e){return e.visitPick?e.visitPick(this):e.visitChildren(this)}};jt.PickContext=tO;var M$=class extends $r.ParserRuleContext{fieldExpr(e){return e===void 0?this.getRuleContexts(wi):this.getRuleContext(e,wi)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_argumentList}enterRule(e){e.enterArgumentList&&e.enterArgumentList(this)}exitRule(e){e.exitArgumentList&&e.exitArgumentList(this)}accept(e){return e.visitArgumentList?e.visitArgumentList(this):e.visitChildren(this)}};jt.ArgumentListContext=M$;var P$=class extends $r.ParserRuleContext{fieldName(e){return e===void 0?this.getRuleContexts(Rd):this.getRuleContext(e,Rd)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_fieldNameList}enterRule(e){e.enterFieldNameList&&e.enterFieldNameList(this)}exitRule(e){e.exitFieldNameList&&e.exitFieldNameList(this)}accept(e){return e.visitFieldNameList?e.visitFieldNameList(this):e.visitChildren(this)}};jt.FieldNameListContext=P$;var B$=class extends $r.ParserRuleContext{collectionMember(e){return e===void 0?this.getRuleContexts(v4):this.getRuleContext(e,v4)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_fieldCollection}enterRule(e){e.enterFieldCollection&&e.enterFieldCollection(this)}exitRule(e){e.exitFieldCollection&&e.exitFieldCollection(this)}accept(e){return e.visitFieldCollection?e.visitFieldCollection(this):e.visitChildren(this)}};jt.FieldCollectionContext=B$;var v4=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_collectionMember}copyFrom(e){super.copyFrom(e)}};jt.CollectionMemberContext=v4;var _oe=class extends v4{fieldPath(){return this.getRuleContext(0,Ty)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNameMember&&e.enterNameMember(this)}exitRule(e){e.exitNameMember&&e.exitNameMember(this)}accept(e){return e.visitNameMember?e.visitNameMember(this):e.visitChildren(this)}};jt.NameMemberContext=_oe;var Eoe=class extends v4{STAR(){return this.tryGetToken(w.STAR,0)}STARSTAR(){return this.tryGetToken(w.STARSTAR,0)}fieldPath(){return this.tryGetRuleContext(0,Ty)}DOT(){return this.tryGetToken(w.DOT,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterWildMember&&e.enterWildMember(this)}exitRule(e){e.exitWildMember&&e.exitWildMember(this)}accept(e){return e.visitWildMember?e.visitWildMember(this):e.visitChildren(this)}};jt.WildMemberContext=Eoe;var boe=class extends v4{fieldDef(){return this.getRuleContext(0,g4)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNewMember&&e.enterNewMember(this)}exitRule(e){e.exitNewMember&&e.exitNewMember(this)}accept(e){return e.visitNewMember?e.visitNewMember(this):e.visitChildren(this)}};jt.NewMemberContext=boe;var Ty=class extends $r.ParserRuleContext{fieldName(e){return e===void 0?this.getRuleContexts(Rd):this.getRuleContext(e,Rd)}DOT(e){return e===void 0?this.getTokens(w.DOT):this.getToken(w.DOT,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_fieldPath}enterRule(e){e.enterFieldPath&&e.enterFieldPath(this)}exitRule(e){e.exitFieldPath&&e.exitFieldPath(this)}accept(e){return e.visitFieldPath?e.visitFieldPath(this):e.visitChildren(this)}};jt.FieldPathContext=Ty;var Soe=class extends $r.ParserRuleContext{id(){return this.getRuleContext(0,Dd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_joinName}enterRule(e){e.enterJoinName&&e.enterJoinName(this)}exitRule(e){e.exitJoinName&&e.exitJoinName(this)}accept(e){return e.visitJoinName?e.visitJoinName(this):e.visitChildren(this)}};jt.JoinNameContext=Soe;var Rd=class extends $r.ParserRuleContext{id(){return this.getRuleContext(0,Dd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_fieldName}enterRule(e){e.enterFieldName&&e.enterFieldName(this)}exitRule(e){e.exitFieldName&&e.exitFieldName(this)}accept(e){return e.visitFieldName?e.visitFieldName(this):e.visitChildren(this)}};jt.FieldNameContext=Rd;var Coe=class extends $r.ParserRuleContext{fieldExpr(){return this.getRuleContext(0,wi)}EOF(){return this.getToken(w.EOF,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_justExpr}enterRule(e){e.enterJustExpr&&e.enterJustExpr(this)}exitRule(e){e.exitJustExpr&&e.exitJustExpr(this)}accept(e){return e.visitJustExpr?e.visitJustExpr(this):e.visitChildren(this)}};jt.JustExprContext=Coe;var woe=class extends $r.ParserRuleContext{jsonValue(){return this.getRuleContext(0,gE)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_json}enterRule(e){e.enterJson&&e.enterJson(this)}exitRule(e){e.exitJson&&e.exitJson(this)}accept(e){return e.visitJson?e.visitJson(this):e.visitChildren(this)}};jt.JsonContext=woe;var gE=class extends $r.ParserRuleContext{JSON_STRING(){return this.tryGetToken(w.JSON_STRING,0)}INTEGER_LITERAL(){return this.tryGetToken(w.INTEGER_LITERAL,0)}NUMERIC_LITERAL(){return this.tryGetToken(w.NUMERIC_LITERAL,0)}jsonObject(){return this.tryGetRuleContext(0,j$)}jsonArray(){return this.tryGetRuleContext(0,q$)}TRUE(){return this.tryGetToken(w.TRUE,0)}FALSE(){return this.tryGetToken(w.FALSE,0)}NULL(){return this.tryGetToken(w.NULL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_jsonValue}enterRule(e){e.enterJsonValue&&e.enterJsonValue(this)}exitRule(e){e.exitJsonValue&&e.exitJsonValue(this)}accept(e){return e.visitJsonValue?e.visitJsonValue(this):e.visitChildren(this)}};jt.JsonValueContext=gE;var j$=class extends $r.ParserRuleContext{OCURLY(){return this.getToken(w.OCURLY,0)}jsonProperty(e){return e===void 0?this.getRuleContexts(nO):this.getRuleContext(e,nO)}CCURLY(){return this.getToken(w.CCURLY,0)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_jsonObject}enterRule(e){e.enterJsonObject&&e.enterJsonObject(this)}exitRule(e){e.exitJsonObject&&e.exitJsonObject(this)}accept(e){return e.visitJsonObject?e.visitJsonObject(this):e.visitChildren(this)}};jt.JsonObjectContext=j$;var nO=class extends $r.ParserRuleContext{JSON_STRING(){return this.getToken(w.JSON_STRING,0)}COLON(){return this.getToken(w.COLON,0)}jsonValue(){return this.getRuleContext(0,gE)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_jsonProperty}enterRule(e){e.enterJsonProperty&&e.enterJsonProperty(this)}exitRule(e){e.exitJsonProperty&&e.exitJsonProperty(this)}accept(e){return e.visitJsonProperty?e.visitJsonProperty(this):e.visitChildren(this)}};jt.JsonPropertyContext=nO;var q$=class extends $r.ParserRuleContext{OBRACK(){return this.getToken(w.OBRACK,0)}jsonValue(e){return e===void 0?this.getRuleContexts(gE):this.getRuleContext(e,gE)}CBRACK(){return this.getToken(w.CBRACK,0)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_jsonArray}enterRule(e){e.enterJsonArray&&e.enterJsonArray(this)}exitRule(e){e.exitJsonArray&&e.exitJsonArray(this)}accept(e){return e.visitJsonArray?e.visitJsonArray(this):e.visitChildren(this)}};jt.JsonArrayContext=q$;var U$=class extends $r.ParserRuleContext{id(){return this.getRuleContext(0,Dd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_sqlExploreNameRef}enterRule(e){e.enterSqlExploreNameRef&&e.enterSqlExploreNameRef(this)}exitRule(e){e.exitSqlExploreNameRef&&e.exitSqlExploreNameRef(this)}accept(e){return e.visitSqlExploreNameRef?e.visitSqlExploreNameRef(this):e.visitChildren(this)}};jt.SqlExploreNameRefContext=U$;var $$=class extends $r.ParserRuleContext{id(){return this.getRuleContext(0,Dd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_nameSQLBlock}enterRule(e){e.enterNameSQLBlock&&e.enterNameSQLBlock(this)}exitRule(e){e.exitNameSQLBlock&&e.exitNameSQLBlock(this)}accept(e){return e.visitNameSQLBlock?e.visitNameSQLBlock(this):e.visitChildren(this)}};jt.NameSQLBlockContext=$$;var z$=class extends $r.ParserRuleContext{JSON_STRING(){return this.getToken(w.JSON_STRING,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_connectionName}enterRule(e){e.enterConnectionName&&e.enterConnectionName(this)}exitRule(e){e.exitConnectionName&&e.exitConnectionName(this)}accept(e){return e.visitConnectionName?e.visitConnectionName(this):e.visitChildren(this)}};jt.ConnectionNameContext=z$});var H7e=Ae(ql=>{"use strict";m();Object.defineProperty(ql,"__esModule",{value:!0});ql.isEquality=ql.isComparison=ql.timestampOffset=ql.dateOffset=ql.compose=ql.compressExpr=ql.errorFor=ql.isGranularResult=ql.FT=ql.isExpressionValueType=void 0;var odt=s1();function adt(n){return(0,odt.isAtomicFieldType)(n)||["null","unknown","duration","regular expression"].includes(n)}ql.isExpressionValueType=adt;var $0=class{static in(e,t){return e?t.find(i=>$0.eq(i,e))!==void 0:!1}static eq(e,t){return t!==void 0&&e.dataType===t.dataType&&e.aggregate===t.aggregate}static typeEq(e,t,r=!1){let i=e.dataType===t.dataType,s=r&&(e.dataType==="null"||t.dataType==="null");return i||s}static inspect(...e){return e.map(r=>{if(r){let i=r.dataType;return r.aggregate&&(i=`aggregate ${i}`),i}return"undefined"}).join(",")}};ql.FT=$0;$0.nullT=nw("null");$0.numberT=nw("number");$0.stringT=nw("string");$0.dateT=nw("date");$0.timestampT=nw("timestamp");$0.boolT=nw("boolean");$0.anyAtomicT=[$0.numberT,$0.stringT,$0.dateT,$0.timestampT,$0.boolT];function nw(n){return{dataType:n,aggregate:!1}}function udt(n){return n.dataType!=="date"&&n.dataType!=="timestamp"?!1:n.timeframe!==void 0}ql.isGranularResult=udt;function ldt(n){return{dataType:"unknown",aggregate:!1,value:[`_ERROR_${n.replace(/ /g,"_")}`]}}ql.errorFor=ldt;function z7e(n){return n.length>1?["(",...n,")"]:n.length===0?["__MISSING_VALUE__"]:n}function Toe(n){let e=[],t;for(let r of n.flat())typeof r=="string"?t=t?t+r:r:(t&&(e.push(t),t=void 0),e.push(r));return t&&e.push(t),e}ql.compressExpr=Toe;function cdt(n,e,t){let r=e.match(/^[A-Za-z]/),i=n.length===1&&r?" ":"",s=t.length===1&&r?" ":"",o=i+e+s;return[...z7e(n),o,...z7e(t)]}ql.compose=cdt;function fdt(n,e,t,r){let i=e==="+"?"_ADD":"_SUB",s=r.toUpperCase();return Toe([`DATE${i}(`,...n,",INTERVAL ",...t,` ${s})`])}ql.dateOffset=fdt;function ddt(n,e,t,r,i=!1){let s=["week","month","quarter","year"].includes(r),o=e==="+"?"_ADD":"_SUB",a=r.toUpperCase();if(s)return[`TIMESTAMP(DATETIME${o}(DATETIME(`,...n,"),INTERVAL ",...t,` ${a}))`];let l=i?["TIMESTAMP(",...n,")"]:n;return Toe([`TIMESTAMP${o}(`,...l,",INTERVAL ",...t,` ${a})`])}ql.timestampOffset=ddt;function hdt(n){return["~","!~","<","<=","=",">",">=","!="].includes(n)}ql.isComparison=hdt;function pdt(n){return["~","!~","=","!="].includes(n)}ql.isEquality=pdt});var W$=Ae(Do=>{"use strict";m();var mdt=Do&&Do.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),xdt=Do&&Do.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),gdt=Do&&Do.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&mdt(e,n,t);return xdt(e,n),e};Object.defineProperty(Do,"__esModule",{value:!0});Do.ExpressionFieldFromAst=Do.ReferenceField=Do.FANSPaceField=Do.QueryFieldStruct=Do.QueryFieldAST=Do.QueryField=Do.ColumnSpaceField=Do.JoinSpaceField=Do.StructSpaceField=Do.WildSpaceField=Do.RenameSpaceField=Do.SpaceField=Do.AbstractParameter=Do.DefinedParameter=Do.SpaceParam=Do.SpaceEntry=void 0;var V7e=gdt(s1()),ydt=Q$(),H$=class{};Do.SpaceEntry=H$;var rO=class extends H${constructor(){super(...arguments);this.refType="parameter"}};Do.SpaceParam=rO;var W7e=class extends rO{constructor(e){super();this.paramDef=e}parameter(){return this.paramDef}type(){return{type:this.paramDef.type}}};Do.DefinedParameter=W7e;var Q7e=class extends rO{constructor(e){super();this.astParam=e}parameter(){return this.astParam.parameter()}type(){return{type:this.astParam.type||"unknown"}}};Do.AbstractParameter=Q7e;var Dx=class extends H${constructor(){super(...arguments);this.refType="field"}fieldTypeFromFieldDef(e){let t={type:e.type};return V7e.isFieldTypeDef(e)&&e.aggregate&&(t.aggregate=!0),t}getQueryFieldDef(e){}fieldDef(){}};Do.SpaceField=Dx;var G7e=class extends Dx{constructor(e,t,r){super();this.otherField=e,this.newName=t,this.location=r}fieldDef(){let e=this.otherField.fieldDef();if(e!==void 0)return{...e,as:this.newName,location:this.location}}type(){return this.otherField.type()}};Do.RenameSpaceField=G7e;var Y7e=class extends Dx{constructor(e){super();this.wildText=e}type(){throw new Error("should never ask a wild field for its type")}getQueryFieldDef(e){return this.wildText}};Do.WildSpaceField=Y7e;var Foe=class extends Dx{constructor(e){super();this.sourceDef=e}get fieldSpace(){return this.space||(this.space=new ydt.StaticSpace(this.sourceDef)),this.space}fieldDef(){return this.sourceDef}type(){return{type:"struct"}}};Do.StructSpaceField=Foe;var K7e=class extends Foe{constructor(e,t){super(t.structDef());this.intoFS=e,this.join=t}};Do.JoinSpaceField=K7e;var J7e=class extends Dx{constructor(e){super();this.def=e}fieldDef(){return this.def}type(){return this.fieldTypeFromFieldDef(this.def)}};Do.ColumnSpaceField=J7e;var V$=class extends Dx{constructor(e){super();this.inSpace=e}type(){return{type:"turtle"}}};Do.QueryField=V$;var X7e=class extends V${constructor(e,t,r){super(e);this.turtle=t,this.name=r}getQueryFieldDef(e){let t=this.turtle.getFieldDef(e,this.nestParent);return this.renameAs&&(t.as=this.renameAs),t}fieldDef(){let e=this.turtle.getFieldDef(this.inSpace,this.nestParent);return this.renameAs&&(e.as=this.renameAs),e}};Do.QueryFieldAST=X7e;var Z7e=class extends V${constructor(e,t){super(e);this.turtleDef=t}rename(e){this.turtleDef={...this.turtleDef,as:e}}fieldDef(){return this.turtleDef}getQueryFieldDef(e){return this.fieldDef()}};Do.QueryFieldStruct=Z7e;var eSe=class extends Dx{constructor(e,t,r){super();this.ref=e,this.inSpace=t,Object.assign(this,r)}name(){return this.as||this.ref.refString}filtersPresent(){return this.filterList&&this.filterList.length>0}fieldDef(){if(this.as===void 0)return;let e=this.ref.getField(this.inSpace).found;if(e===void 0)return;let t=e.type(),r=t.type;if(V7e.isAtomicFieldType(r)){if(e instanceof rO)return{type:r,name:this.as,e:[{type:"parameter",path:this.ref.refString}],aggregate:!1};let i=[{type:"field",path:this.ref.refString}];return this.filtersPresent()&&this.filterList&&(i=[{type:"filterExpression",filterList:this.filterList,e:i}]),{type:r,name:this.as,e:i,aggregate:t.aggregate}}}getQueryFieldDef(e){let t={name:this.ref.refString};return this.filtersPresent()&&(t.filterList=this.filterList),this.as&&(t.as=this.as),t.as||t.filterList?t:this.ref.refString}type(){let e=this.ref.getField(this.inSpace).found;return(e==null?void 0:e.type())||{type:"unknown"}}};Do.FANSPaceField=eSe;var tSe=class extends Dx{constructor(e){super();this.fieldRef=e}getQueryFieldDef(e){let t=this.fieldRef.getField(e);return t.error&&this.fieldRef.log(t.error),this.fieldRef.refString}type(){return{type:"unknown"}}};Do.ReferenceField=tSe;var nSe=class extends Dx{constructor(e,t){super();this.space=e,this.exprDef=t,this.fieldName=t.defineName}get name(){return this.fieldName}fieldDef(){let e=this.exprDef.fieldDef(this.space,this.name);return this.defType=this.fieldTypeFromFieldDef(e),e}getQueryFieldDef(e){let t=this.exprDef.queryFieldDef(e,this.name);return this.defType=this.fieldTypeFromFieldDef(t),t}type(){return this.defType?this.defType:this.fieldTypeFromFieldDef(this.fieldDef())}};Do.ExpressionFieldFromAst=nSe});var rSe=Ae(rw=>{"use strict";m();Object.defineProperty(rw,"__esModule",{value:!0});rw.mergeFields=rw.nameOf=void 0;function Doe(n){return typeof n=="string"?n:n.as||n.name}rw.nameOf=Doe;function vdt(n,e){if(n==null)return e;let t=new Set(e.map(i=>Doe(i))),r=n.filter(i=>!t.has(Doe(i)));return r.push(...e),r}rw.mergeFields=vdt});var Q$=Ae(Yu=>{"use strict";m();var _dt=Yu&&Yu.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Edt=Yu&&Yu.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),bdt=Yu&&Yu.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&_dt(e,n,t);return Edt(e,n),e};Object.defineProperty(Yu,"__esModule",{value:!0});Yu.DefSpace=Yu.IndexFieldSpace=Yu.ProjectFieldSpace=Yu.ReduceFieldSpace=Yu.ResultSpace=Yu.QuerySpace=Yu.DynamicSpace=Yu.StaticSpace=void 0;var Sdt=sD(),Cdt=Tj(),Roe=bdt(s1()),S1=_4(),Ul=W$(),G$=rSe(),Y$=class{constructor(e){this.type="fieldSpace",this.fromStruct=e}whenComplete(e){e()}dialectObj(){try{return(0,Cdt.getDialect)(this.fromStruct.dialect)}catch{return}}fromFieldDef(e){return e.type==="struct"?new Ul.StructSpaceField(e):Roe.isTurtleDef(e)?new Ul.QueryFieldStruct(this,e):new Ul.ColumnSpaceField(e)}get map(){if(this.memoMap===void 0){this.memoMap={};for(let e of this.fromStruct.fields){let t=e.as||e.name;this.memoMap[t]=this.fromFieldDef(e)}if(this.fromStruct.parameters)for(let[e,t]of Object.entries(this.fromStruct.parameters)){if(this.memoMap[e])throw new Error(`In struct '${this.fromStruct.as||this.fromStruct.name}':  : Field and parameter name conflict '${e}`);this.memoMap[e]=new Ul.DefinedParameter(t)}}return this.memoMap}dropEntries(){this.memoMap={}}dropEntry(e){delete this.map[e]}entry(e){return this.map[e]}setEntry(e,t){this.map[e]=t}entries(){return Object.entries(this.map)}structDef(){return this.fromStruct}emptyStructDef(){return{...this.fromStruct,fields:[]}}lookup(e){let t=e[0],r=e.slice(1),i=this.entry(t.refString);if(!i)return{error:`'${t}' is not defined`,found:i};if(i instanceof Ul.SpaceField){let s=i.fieldDef();s&&t.addReference({type:i instanceof Ul.StructSpaceField?"joinReference":"fieldReference",definition:s,location:t.location,text:t.refString})}return r.length?i instanceof Ul.StructSpaceField?i.fieldSpace.lookup(r):{error:`'${t}' cannot contain a '${r[0]}'`,found:void 0}:{found:i,error:void 0}}};Yu.StaticSpace=Y$;function iSe(n){return n.type=="fieldSpace"}var Ooe=class{constructor(e){this.sourceSpec=e,this.spaceSpec=e}get structDef(){return iSe(this.spaceSpec)?(this.asStruct||(this.asStruct=this.spaceSpec.structDef()),this.asStruct):this.spaceSpec}get fieldSpace(){return iSe(this.spaceSpec)?this.spaceSpec:(this.asFS||(this.asFS=new Y$(this.spaceSpec)),this.asFS)}},iw=class extends Y${constructor(e){let t=new Ooe(e);super((0,Sdt.cloneDeep)(t.structDef));this.completions=[],this.complete=!1,this.final=void 0,this.source=t}static filteredFrom(e,t){let r=new iw(e);if(t){let i=t.refs.list,s=r.entries();r.dropEntries();for(let[o,a]of s){let l=!!i.find(p=>p.refString===o),f=t.edit==="accept";l===f&&r.setEntry(o,a)}}return r}whenComplete(e){this.complete?e():this.completions.push(e)}isComplete(){this.complete=!0;for(let e of this.completions)e();this.completions=[]}setEntry(e,t){if(this.final)throw new Error("Space already final");super.setEntry(e,t)}addParameters(e){for(let t of e)this.setEntry(t.name,new Ul.AbstractParameter(t));return this}newEntry(e,t,r){if(this.entry(e)){t.log(`Cannot redefine '${e}'`);return}this.setEntry(e,r)}addField(...e){for(let t of e){let r=t.log,i=t.elementType;if(t instanceof S1.FieldDeclaration){let s=new Ul.ExpressionFieldFromAst(this,t);this.newEntry(s.name,t,s)}else if(t instanceof S1.TurtleDecl){let s=t.name;this.newEntry(s,t,new Ul.QueryFieldAST(this,t,s))}else if(t instanceof S1.RenameField){if(t.oldName.refString===t.newName){t.log("Can't rename field to itself");continue}let s=t.oldName.getField(this);s.found?s.found instanceof Ul.SpaceField?(this.setEntry(t.newName,new Ul.RenameSpaceField(s.found,t.newName,t.location)),this.dropEntry(t.oldName.refString)):t.log(`'${t.oldName}' cannot be renamed`):t.log(`Can't rename '${t.oldName}', no such field`)}else t instanceof S1.Join?this.newEntry(t.name.refString,t,new Ul.JoinSpaceField(this,t)):r(`Internal error: Expected expression, query, or rename, got '${i}'`)}}addFieldDef(e){this.setEntry((0,G$.nameOf)(e),this.fromFieldDef(e))}structDef(){let e=this.fromStruct.parameters||{};if(this.final===void 0){this.final={...this.fromStruct,fields:[]};let t=[],r=[],i=[],s=[];for(let[a,l]of this.entries())l instanceof Ul.StructSpaceField?r.push([a,l]):l instanceof Ul.QueryField?i.push([a,l]):l instanceof Ul.SpaceField?t.push([a,l]):l instanceof Ul.SpaceParam&&(e[a]=l.parameter());let o=[...t,...r,...i];for(let[a,l]of o)if(l instanceof Ul.JoinSpaceField){let f=l.join.structDef();S1.ErrorFactory.isErrorStructDef(f)||(this.final.fields.push(f),s.push([l.join,f]))}else{let f=l.fieldDef();if(f)this.final.fields.push(f);else throw new Error(`'${a}' doesn't have a FieldDef`)}Object.entries(e).length>0&&(this.final.parameters=e);for(let[a,l]of s)a.fixupJoinOn(this,l)}return this.isComplete(),this.final}};Yu.DynamicSpace=iw;var Noe=class extends iw{constructor(e,t){let r=new Ooe(e);super(r.structDef);this.result=t,this.extendList=[]}extendSource(e){this.addField(e),e instanceof S1.Join?this.extendList.push(e.name.refString):this.extendList.push(e.defineName)}};Yu.QuerySpace=Noe;var iO=class extends iw{constructor(e){super(e.emptyStructDef());this.queryInputSpace=e,this.exprSpace=new Noe(e,this)}log(e){this.astEl&&this.astEl.log(e)}addMembers(e){for(let t of e)t instanceof S1.FieldReference?this.addReference(t):t instanceof S1.WildcardFieldReference?this.addWild(t):this.addField(t)}addReference(e){let t=e.outputName;this.entry(t)?e.log(`Output already has a field named '${t}'`):this.setEntry(t,new Ul.ReferenceField(e))}addWild(e){this.setEntry(e.refString,new Ul.WildSpaceField(e.refString))}checkUngroup(e,t){if(!this.entry(e.refString))if(t&&this.exprSpace.nestParent){let r=this.exprSpace.nestParent;r.whenComplete(()=>{r.result.checkUngroup(e,t)})}else{let r=t?"exclude()":"all()";e.log(`${r} '${e.refString}' is missing from query output`)}}addQueryItems(...e){for(let t of e)if(t instanceof S1.FieldReference||t instanceof S1.NestReference)this.addReference(t);else if(t instanceof S1.FieldDeclaration)this.addField(t);else if((0,S1.isNestedQuery)(t)){let r=new Ul.QueryFieldAST(this,t,t.name);r.nestParent=this.exprSpace,this.setEntry(t.name,r)}else{let r=t}}canContain(e){return!0}queryFieldDefs(){let e=[];for(let[t,r]of this.entries())if(r instanceof Ul.SpaceField){let i=r.getQueryFieldDef(this.exprSpace);if(i)this.canContain(i)?e.push(i):this.log(`'${t}' not legal in ${this.segmentType}`);else throw new Error(`'${t}' does not have a QueryFieldDef`)}return this.isComplete(),e}getQuerySegment(e){let t=this.getPipeSegment(e);if(Roe.isQuerySegment(t))return t;throw new Error("TODO NOT POSSIBLE")}getPipeSegment(e){if(this.segmentType=="index")throw new Error("INDEX FIELD PIPE SEGMENT MIS HANDLED");if(e==null?void 0:e.extendSource)for(let r of e.extendSource)this.exprSpace.addFieldDef(r);let t={type:this.segmentType,fields:this.queryFieldDefs()};if(t.fields=(0,G$.mergeFields)(e==null?void 0:e.fields,t.fields),(e==null?void 0:e.extendSource)&&(t.extendSource=e.extendSource),this.exprSpace.extendList.length>0){let r=[],i=this.exprSpace.structDef();for(let s of this.exprSpace.extendList){let o=i.fields.find(a=>(0,G$.nameOf)(a)==s);o&&r.push(o)}t.extendSource=(0,G$.mergeFields)(t.extendSource,r)}return this.isComplete(),t}};Yu.ResultSpace=iO;var sSe=class extends iO{constructor(){super(...arguments);this.segmentType="reduce"}};Yu.ReduceFieldSpace=sSe;var oSe=class extends iO{constructor(){super(...arguments);this.segmentType="project"}canContain(e){if(typeof e!="string"){if(Roe.isFilteredAliasedName(e))return!0;if(e.type==="turtle")return this.log("Cannot nest queries in project"),!1;if(e.aggregate)return this.log("Cannot add aggregate measures to project"),!1}return!0}};Yu.ProjectFieldSpace=oSe;var aSe=class extends iO{constructor(){super(...arguments);this.segmentType="index",this.fieldList=new Set}addReference(e){e.getField(this.exprSpace).found&&this.fieldList.add(e.refString)}addWild(e){this.fieldList.add(e.refString)}getPipeSegment(e){if(e&&e.fields)for(let t of e.fields)typeof t=="string"&&this.fieldList.add(t);return this.isComplete(),{type:"index",fields:Array.from(this.fieldList.values())}}};Yu.IndexFieldSpace=aSe;var uSe=class{constructor(e,t){this.realFS=e,this.circular=t,this.type="fieldSpace",this.foundCircle=!1}structDef(){return this.realFS.structDef()}emptyStructDef(){return this.realFS.emptyStructDef()}lookup(e){return e[0]&&e[0].refString===this.circular.defineName?(this.foundCircle=!0,{error:`Circular reference to '${this.circular.defineName}' in definition`,found:void 0}):this.realFS.lookup(e)}dialectObj(){return this.realFS.dialectObj()}whenComplete(e){this.realFS.whenComplete(e)}};Yu.DefSpace=uSe});var lSe=Ae(sw=>{"use strict";m();var wdt=sw&&sw.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(sw,"__esModule",{value:!0});sw.makeSQLBlock=void 0;var Adt=s1(),Tdt=wdt(Nte());function Fdt(n,e){let t={name:`md5:/${e||"$default"}//${Ddt(n)}`,select:n};return e&&(t.connection=e),t}sw.makeSQLBlock=Fdt;function Ddt(n){let e=n.map(t=>(0,Adt.isSQLFragment)(t)?t.sql:JSON.stringify(t));return(0,Tdt.default)(e.join(";"))}});var K$=Ae(z0=>{"use strict";m();Object.defineProperty(z0,"__esModule",{value:!0});z0.timeLiteral=z0.timeResult=z0.resolution=z0.castDateToTimestamp=z0.castTimestampToDate=z0.castTo=z0.timeOffset=void 0;function Rdt(n,e,t,r,i){return[{type:"dialect",function:"delta",base:{valueType:n,value:e},op:t,delta:r,units:i}]}z0.timeOffset=Rdt;function Odt(n,e,t=!1){return[{type:"dialect",function:"cast",dstType:n,expr:e,safe:t}]}z0.castTo=Odt;function Ndt(n,e=!1){return[{type:"dialect",function:"cast",dstType:"date",srcType:"timestamp",expr:n,safe:e}]}z0.castTimestampToDate=Ndt;function Ldt(n,e=!1){return[{type:"dialect",function:"cast",dstType:"timestamp",srcType:"date",expr:n,safe:e}]}z0.castDateToTimestamp=Ldt;function kdt(n){switch(n){case"hour":case"minute":case"second":case"microsecond":case"millisecond":return"timestamp"}return"date"}z0.resolution=kdt;function Idt(n,e){return e?{...n,timeframe:e}:n}z0.timeResult=Idt;function Mdt(n,e,t){return[{type:"dialect",function:"timeLiteral",literal:n,literalType:e,timezone:t}]}z0.timeLiteral=Mdt});var qSe=Ae(cr=>{"use strict";m();var Pdt=cr&&cr.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Bdt=cr&&cr.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),jdt=cr&&cr.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Pdt(e,n,t);return Bdt(e,n),e};Object.defineProperty(cr,"__esModule",{value:!0});cr.TurtleHeadedPipe=cr.ExistingQuery=cr.Index=cr.Turtles=cr.Limit=cr.Ordering=cr.OrderBy=cr.WildcardFieldReference=cr.RenameField=cr.PrimaryKey=cr.Document=cr.QOPDesc=cr.Aggregate=cr.GroupBy=cr.FieldListEdit=cr.ProjectStatement=cr.isFieldCollectionMember=cr.FieldReferences=cr.FieldReference=cr.FieldName=cr.Renames=cr.Dimensions=cr.Measures=cr.DeclareFields=cr.Filter=cr.FilterElement=cr.ExploreDesc=cr.isExploreProperty=cr.isQueryProperty=cr.Joins=cr.ExpressionJoin=cr.KeyJoin=cr.Join=cr.QuerySource=cr.SQLSource=cr.NamedSource=cr.ModelEntryReference=cr.IsValueBlock=cr.TableSource=cr.RefinedExplore=cr.DefineSourceList=cr.DefineExplore=cr.isDocStatement=cr.RunList=cr.Mallobj=cr.isExploreField=cr.Unimplemented=cr.ListOf=cr.MalloyElement=cr.ErrorFactory=void 0;cr.SampleProperty=cr.SQLStatement=cr.SQLString=cr.ConstantParameter=cr.HasParameter=cr.ImportStatement=cr.JSONStructDef=cr.JSONElement=cr.Top=cr.AnonymousQuery=cr.DefineQuery=cr.DefineQueryList=cr.isQueryElement=cr.Nests=cr.isNestedQuery=cr.NestDefinition=cr.NestRefinement=cr.NestReference=cr.TurtleDecl=cr.FullQuery=void 0;var cSe=sD(),Rx=jdt(s1()),qdt=Mte(),Ox=Q$(),yE=_4(),Udt=W$(),$dt=lSe(),zdt=V5(),Hdt=K$(),fSe={type:"struct",name:"~malformed~",dialect:"~malformed~",structSource:{type:"table",tablePath:"//undefined_error_table_path"},structRelationship:{type:"basetable",connectionName:"//undefined_error_connection"},fields:[]},Od=class{static get structDef(){return{...fSe}}static isErrorStructDef(e){return e.name.includes(fSe.name)}static get query(){return{structRef:Od.structDef,pipeline:[]}}static get reduceSegment(){return{type:"reduce",fields:[]}}static get projectSegment(){return{type:"project",fields:[]}}static get indexSegment(){return{type:"index",fields:[]}}};cr.ErrorFactory=Od;function Loe(n,e,t){if(!Od.isErrorStructDef(e))try{return qdt.Segment.nextStructDef(e,t)}catch(i){n.log(`INTERNAL ERROR model/Segment.nextStructDef: ${i.message}
QUERY: ${(0,zdt.inspect)(t,{breakLength:72,depth:1/0})}`)}return{...Od.structDef,dialect:e.dialect}}var oa=class{constructor(e){this.children={},this.parent=null,this.logged=new Set,e&&this.has(e)}has(e){for(let t in e){let r=e[t];if(r!==void 0)if(this.children[t]=r,r instanceof oa)r.parent=this;else for(let i of r)i.parent=this}}get location(){return this.codeLocation?this.codeLocation:this.parent?this.parent.location:{url:this.sourceURL,range:{start:{line:0,character:0},end:{line:0,character:0}}}}set location(e){this.codeLocation=e}namespace(){if(this instanceof Poe)return this;if(this.parent)return this.parent.namespace();throw new Error("INTERNAL ERROR: Translation without document scope")}modelEntry(e){var t;let r=e instanceof vE?e.name:e,i=(t=this.namespace())===null||t===void 0?void 0:t.getEntry(r);return e instanceof vE&&((i==null?void 0:i.entry.type)==="query"?this.addReference({type:"queryReference",text:r,definition:i.entry,location:e.location}):(i==null?void 0:i.entry.type)==="struct"&&(Rx.isSQLBlock(i.entry)?this.addReference({type:"sqlBlockReference",text:r,definition:i.entry,location:e.location}):this.addReference({type:"exploreReference",text:r,definition:i.entry,location:e.location}))),i}translator(){if(this.xlate)return this.xlate;if(this.parent)return this.parent.translator()}setTranslator(e){this.xlate=e}addReference(e){var t;(t=this.translator())===null||t===void 0||t.addReference(e)}get sourceURL(){let e=this.translator();return(e==null?void 0:e.sourceURL)||"(missing)"}errorsExist(){var e;let t=(e=this.translator())===null||e===void 0?void 0:e.root.logger;return t?t.hasErrors():!0}log(e){if(this.codeLocation){if(this.logged.has(e))return;this.logged.add(e)}let t=this.translator(),r={at:this.location,message:e},i=t==null?void 0:t.root.logger;if(i){i.log(r);return}throw new Error(`Translation error (without error reporter):
${JSON.stringify(r,null,2)}`)}toString(){return this.stringify("",0)}stringify(e,t){let r=" ".repeat(t),i=`${r}${e}<${this.elementType}>${this.varInfo()}`;for(let s of Object.keys(this.children)){let o=this.children[s];o instanceof oa?i+=`
`+o.stringify(`${s}: `,t+2):(i+=`
${r}  ${s}: [`,o.length>0&&(i+=`
`+o.map(a=>a.stringify("",t+4)).join(`
`)+`
${r}  `),i+="]")}return i}walk(e){e(this);for(let t of Object.keys(this.children)){let r=this.children[t];if(r instanceof oa)r.walk(e);else for(let i of r)i.walk(e)}}varInfo(){let e="";for(let[t,r]of Object.entries(this))t!=="elementType"&&(typeof r=="boolean"?e+=r?` ${t}`:` !${t}`:(typeof r=="string"||typeof r=="number")&&(e+=` ${t}=${r}`));return e}internalError(e){return this.log(`INTERNAL ERROR IN TRANSLATION: ${e}`),new Error(e)}};cr.MalloyElement=oa;var r0=class extends oa{constructor(e,t){super();this.elementType="genericElementList",this.elements=t,this.elementType==="genericElementList"&&(this.elementType=e),this.newContents()}newContents(){this.has({[this.elementType]:this.elements})}get list(){return this.elements}empty(){return this.elements.length===0}notEmpty(){return this.elements.length>0}push(...e){return this.elements.push(...e),this.newContents(),this.elements}};cr.ListOf=r0;var dSe=class extends oa{constructor(){super(...arguments);this.elementType="unimplemented",this.reported=!1}};cr.Unimplemented=dSe;function Vdt(n,e){return n.fields.find(t=>(t.as||t.name)===e)}function Wdt(n){return n instanceof yE.FieldDeclaration||n instanceof oO||n instanceof hO||n instanceof fO}function Qdt(n){return Wdt(n)||n instanceof Boe}cr.isExploreField=Qdt;var E4=class extends oa{structRef(){return this.structDef()}withParameters(e){let t=this.structDef();if(e){let r={...t.parameters||{}};for(let i of e){let s=i.parameter();r[s.name]=s}return{...t,parameters:r}}return t}};cr.Mallobj=E4;var hSe=class extends E4{constructor(e){super();this.fromRef=e,this.elementType="internalOnlyQueryHead"}structRef(){return this.fromRef}structDef(){if(Rx.refIsStructDef(this.fromRef))return this.fromRef;let e=new J$(this.fromRef);return this.has({exploreReference:e}),e.structDef()}},sO=class extends r0{constructor(){super(...arguments);this.execCursor=0}executeList(e){for(;this.execCursor<this.elements.length;){if(e.errorsExist())return;let t=this.elements[this.execCursor];if(pSe(t)){let r=t.execute(e);if(r)return r;this.execCursor+=1}}}};cr.RunList=sO;function pSe(n){return n.execute!==void 0}cr.isDocStatement=pSe;var mSe=class extends oa{constructor(e,t,r,i){super({explore:t});if(this.name=e,this.mallobj=t,this.exported=r,this.elementType="defineExplore",i){this.parameters=[];for(let s of i)s instanceof oz?this.parameters.push(s):this.log(`Unexpected element type in define statement: ${s.elementType}`);this.has({parameters:this.parameters})}}execute(e){if(e.modelEntry(this.name))this.log(`Cannot redefine '${this.name}'`);else{let t=this.mallobj.withParameters(this.parameters);if(Od.isErrorStructDef(t))return;e.setEntry(this.name,{entry:{...t,as:this.name,location:this.location},exported:this.exported})}}};cr.DefineExplore=mSe;var xSe=class extends sO{constructor(e){super("defineSources",e)}execute(e){return this.executeList(e)}};cr.DefineSourceList=xSe;var gSe=class extends E4{constructor(e,t){super({source:e,refinement:t});this.source=e,this.refinement=t,this.elementType="refinedExplore"}structDef(){return this.withParameters([])}withParameters(e){let t,r,i=[],s=[];for(let _ of this.refinement.list){let b=_;_ instanceof nz?(t&&(t.log("Primary key already defined"),_.log("Primary key redefined")),t=_):_ instanceof tz?(r&&(r.log("Too many accept/except statements"),_.log("Too many accept/except statements")),r=_):_ instanceof S4||_ instanceof ow||_ instanceof fO||_ instanceof X$?i.push(..._.list):_ instanceof b4?s.push(_):b.log(`Unexpected explore property: '${b.elementType}'`)}let o=(0,cSe.cloneDeep)(this.source.structDef());t&&(o.primaryKey=t.field.name);let a=Ox.DynamicSpace.filteredFrom(o,r);if(a.addField(...i),e&&a.addParameters(e),t){let _=t.field.getField(a);_.error&&t.log(_.error)}let l=a.structDef(),f=l.filterList||[],p=!1;for(let _ of s)for(let b of _.list){let R=b.filterExpression(a);R.aggregate?b.log("Can't use aggregate computations in top level filters"):(f.push(R),p=!0)}return p?{...l,filterList:f}:l}};cr.RefinedExplore=gSe;var ySe=class extends E4{constructor(e){super();this.name=e,this.elementType="tableSource"}structDef(){var e;let t=(e=this.translator())===null||e===void 0?void 0:e.root.schemaZone.getEntry(this.name),r=`Schema read failure for table '${this.name}'`;if(t){if(t.status=="present")return t.value.location=this.location,t.value.fields.forEach(i=>i.location=this.location),{...t.value,fields:t.value.fields.map(i=>({...i,location:this.location})),location:this.location};t.status=="error"&&(r=t.message)}return this.log(r),Od.structDef}};cr.TableSource=ySe;var koe=class extends oa{constructor(e){super();this.isMap=e,this.elementType="isValueBlock",this.has(e)}};cr.IsValueBlock=koe;var vE=class extends oa{constructor(e){super();this.name=e,this.elementType="modelEntryReference"}get refString(){return this.name}toString(){return this.refString}};cr.ModelEntryReference=vE;var J$=class extends E4{constructor(e,t={}){super();this.ref=e,this.elementType="namedSource",t&&Object.keys(t).length>0&&(this.isBlock=new koe(t),this.has({parameterValues:this.isBlock})),e instanceof vE&&this.has({ref:e})}get refName(){return this.ref instanceof vE?this.ref.name:this.ref}structRef(){if(this.isBlock)return this.structDef();let e=this.modelEntry(this.ref);return e&&!e.exported?this.structDef():this.refName}modelStruct(){let e=this.modelEntry(this.ref),t=e==null?void 0:e.entry;if(!t){let r=`Undefined source '${this.refName}'`;(this.ref instanceof vE?this.ref:this).log(r);return}if(t.type==="query"){this.log(`Must use 'from()' for query source '${this.refName}`);return}else if(e.sqlType){this.log(`Must use 'from_sql()' for sql source '${this.refName}`);return}return{...t}}structDef(){var e;let t=this.modelStruct();if(!t){let s=Od.structDef,o=`${this.refName}-undefined`;return s.name=s.name+o,s.dialect=s.dialect+o,s}let r={...t.parameters},i=((e=this.isBlock)===null||e===void 0?void 0:e.isMap)||{};for(let[s,o]of Object.entries(i)){let a=r[s];if(!a)this.log(`Value given for undeclared parameter '${s}`);else if(Rx.isValueParameter(a))if(a.constant)o.log(`Cannot override constant parameter ${s}`);else{let l=o.constantValue(),f=l.value;l.dataType!==a.type&&(f=(0,Hdt.castTo)(a.type,l.value,!0)),a.value=f}else a.condition=o.constantCondition(a.type).value}for(let s in t.parameters)Rx.paramHasValue(r[s])||this.log(`Value not provided for required parameter ${s}`);return t}};cr.NamedSource=J$;var vSe=class extends J${constructor(){super(...arguments);this.elementType="sqlSource"}structRef(){return this.structDef()}modelStruct(){let e=this.modelEntry(this.ref),t=e==null?void 0:e.entry;if(!t){this.log(`Undefined from_sql source '${this.refName}'`);return}if(t.type==="query"){this.log(`Cannot use 'from_sql()' to explore query '${this.refName}'`);return}else if(!e.sqlType){this.log(`Cannot use 'from_sql()' to explore '${this.refName}'`);return}return t}};cr.SQLSource=vSe;var _Se=class extends E4{constructor(e){super({query:e});this.query=e,this.elementType="querySource"}structDef(){let e=this.query.queryComp(),t=e.outputStruct;return t.structSource={type:"query",query:e.query},t}};cr.QuerySource=_Se;var oO=class extends oa{};cr.Join=oO;var ESe=class extends oO{constructor(e,t,r){super({name:e,source:t,keyExpr:r});this.name=e,this.source=t,this.keyExpr=r,this.elementType="joinOnKey"}structDef(){let e=this.source.structDef(),t={...e,structRelationship:{type:"one",onExpression:["('join fixup'='not done yet')"]},location:this.location};return e.structSource.type==="query"?t.name=this.name.refString:t.as=this.name.refString,t}fixupJoinOn(e,t){let r=this.keyExpr.getExpression(e);if(t.primaryKey){let i=t.fields.find(s=>(s.as||s.name)===t.primaryKey);if(i)if(i.type===r.dataType){t.structRelationship={type:"one",onExpression:[{type:"field",path:`${this.name}.${t.primaryKey}`},"=",...r.value]};return}else this.log(`join_one: with type mismatch with primary key: ${r.dataType}/${i.type}`);else this.log(`join_one: Primary key '${i}' not found in source`)}else this.log("join_one: Cannot use with unless source has a primary key")}};cr.KeyJoin=ESe;var bSe=class extends oO{constructor(e,t){super({name:e,source:t});this.name=e,this.source=t,this.elementType="joinOnExpr",this.joinType="one"}set joinOn(e){this.expr=e,this.has({on:e})}get joinOn(){return this.expr}fixupJoinOn(e,t){if(this.expr==null)return;let r=this.expr.getExpression(e);if(r.dataType!=="boolean"){this.log("join conditions must be boolean expressions");return}let i=t.structRelationship;Rx.isJoinOn(i)&&(i.onExpression=(0,yE.compressExpr)(r.value))}structDef(){let e=this.source.structDef(),t={...e,structRelationship:{type:this.joinType},location:this.location};return e.structSource.type==="query"?(t.name=this.name.refString,delete t.as):t.as=this.name.refString,t}};cr.ExpressionJoin=bSe;var ow=class extends r0{constructor(e){super("joinList",e)}};cr.Joins=ow;function Gdt(n){return n instanceof lO||n instanceof mO||n instanceof cO||n instanceof b4||n instanceof dO||n instanceof az||n instanceof ow||n instanceof S4||n instanceof aO||n instanceof uO||n instanceof pO||iz(n)||n instanceof aw}cr.isQueryProperty=Gdt;function Ydt(n){return n instanceof b4||n instanceof ow||n instanceof S4||n instanceof tz||n instanceof X$||n instanceof nz||n instanceof fO}cr.isExploreProperty=Ydt;var SSe=class extends r0{constructor(e){super("exploreDesc",e)}};cr.ExploreDesc=SSe;var CSe=class extends oa{constructor(e,t){super({expr:e});this.expr=e,this.exprSrc=t,this.elementType="filterElement"}filterExpression(e){let t=this.expr.getExpression(e);if(t.dataType!=="boolean")return this.expr.log("Filter expression must have boolean value"),{code:this.exprSrc,expression:["_FILTER_MUST_RETURN_BOOLEAN_"]};let r={code:this.exprSrc,expression:(0,yE.compressExpr)(t.value)};return t.aggregate&&(r.aggregate=!0),r}};cr.FilterElement=CSe;var b4=class extends r0{constructor(e=[]){super("filterElements",e);this.elementType="filter"}set having(e){this.elementType=e?"having":"where"}getFilterList(e){let t=[];for(let r of this.list){let i=r.filterExpression(e);if(this.havingClause!==void 0){if(this.havingClause){if(!i.aggregate){r.log("Aggregate expression expected in HAVING filter");continue}}else if(i.aggregate){r.log("Aggregate expression not allowed in WHERE");continue}}t.push(i)}return t}};cr.Filter=b4;var S4=class extends r0{constructor(e,t="declare"){super(t,e)}};cr.DeclareFields=S4;var Ioe=class extends S4{constructor(e){super(e,"measure");for(let t of e)t.isMeasure=!0}};cr.Measures=Ioe;var wSe=class extends S4{constructor(e){super(e,"dimension");for(let t of e)t.isMeasure=!1}};cr.Dimensions=wSe;var X$=class extends r0{constructor(e){super("renameField",e)}};cr.Renames=X$;var Z$=class extends oa{constructor(e){super();this.name=e,this.elementType="fieldName"}get refString(){return this.name}toString(){return this.refString}getField(e){return e.lookup([this])}};cr.FieldName=Z$;var ez=class extends r0{constructor(e){super("fieldReference",e);this.elementType="fieldReference"}get refString(){return this.list.map(e=>e.refString).join(".")}get outputName(){return this.list[this.list.length-1].refString}get sourceString(){if(this.list.length>1)return this.list.slice(0,-1).map(e=>e.refString).join(".")}get nameString(){return this.list[this.list.length-1].refString}getField(e){return e.lookup(this.list)}};cr.FieldReference=ez;var ASe=class extends r0{constructor(e){super("fieldReferenceList",e)}};cr.FieldReferences=ASe;function Kdt(n){return n instanceof ez||n instanceof joe||n instanceof yE.FieldDeclaration}cr.isFieldCollectionMember=Kdt;var aO=class extends r0{constructor(e){super("fieldCollection",e)}};cr.ProjectStatement=aO;var tz=class extends oa{constructor(e,t){super({refs:t});this.edit=e,this.refs=t,this.elementType="fieldListEdit"}};cr.FieldListEdit=tz;var aw=class extends r0{constructor(e){super("groupBy",e);for(let t of e)t instanceof yE.FieldDeclaration&&(t.isMeasure=!1)}};cr.GroupBy=aw;var uO=class extends r0{constructor(e){super("aggregate",e);for(let t of e)t instanceof yE.FieldDeclaration&&(t.isMeasure=!0)}};cr.Aggregate=uO;var Moe=class{constructor(e){this.filters=[],this.resultFS=this.getResultSpace(e),this.inputFS=this.resultFS.exprSpace}getResultSpace(e){return new Ox.ReduceFieldSpace(e)}execute(e){if(e instanceof aw||e instanceof uO||e instanceof pO)this.resultFS.addQueryItems(...e.list);else if(iz(e))this.resultFS.addQueryItems(e);else if(e instanceof b4)this.filters.push(...e.getFilterList(this.inputFS));else if(e instanceof mO)this.limit?e.log("Query operation already limited"):this.limit=e.limit,e.by&&(this.order?e.log("Query operation is already sorted"):this.order=e);else if(e instanceof cO)this.limit?e.log("Query operation already limited"):this.limit=e.limit;else if(e instanceof lO)this.order?e.log("Query operation already sorted"):this.order=e;else if(e instanceof ow||e instanceof S4)for(let t of e.list)this.inputFS.extendSource(t)}refineFrom(e,t){if(e&&e.type!=="index"&&(this.order||(e.orderBy?t.orderBy=e.orderBy:e.by&&(t.by=e.by)),!this.limit&&e.limit&&(t.limit=e.limit)),this.limit&&(t.limit=this.limit),this.order instanceof mO){let i=this.order.getBy(this.inputFS);i&&(t.by=i)}this.order instanceof lO&&(t.orderBy=this.order.getOrderBy(this.inputFS));let r=(e==null?void 0:e.filterList)||[];this.filters.length>0&&!r?t.filterList=this.filters:r&&(t.filterList=[...r,...this.filters])}finalize(e){let t;if(e)if(Rx.isReduceSegment(e))t=e;else return this.inputFS.result.log(`Can't refine reduce with ${e.type}`),Od.reduceSegment;let r=this.resultFS.getQuerySegment(t);return this.refineFrom(t,r),r}},TSe=class extends Moe{getResultSpace(e){return new Ox.ProjectFieldSpace(e)}execute(e){e instanceof aO?this.resultFS.addMembers(e.list):e instanceof b4&&e.elementType==="having"||e instanceof Ioe||e instanceof aw?e.log("Illegal statement in a project query operation"):super.execute(e)}finalize(e){let t;if(e)if(Rx.isProjectSegment(e))t=e;else return this.resultFS.log(`Can't refine project with ${e.type}`),Od.projectSegment;let r=this.resultFS.getQuerySegment(t);return this.refineFrom(t,r),r}},FSe=class{constructor(e){this.filters=[],this.resultFS=new Ox.IndexFieldSpace(e),this.inputFS=this.resultFS.exprSpace}execute(e){e instanceof b4?this.filters.push(...e.getFilterList(this.inputFS)):e instanceof cO?(this.limit&&this.limit.log("Ignored, too many limit: statements"),this.limit=e):e instanceof dO?(this.resultFS.addMembers(e.fields.list),e.weightBy&&(this.indexOn&&this.indexOn.log("Ignoring previous BY"),this.indexOn=e.weightBy)):e instanceof az?this.sample=e.sampling():e.log("Not legal in an index query operation")}finalize(e){if(e&&e.type!=="index")return this.resultFS.log(`Can't refine index with ${e.type}`),Od.indexSegment;let t=this.resultFS.getPipeSegment(e),r=(e==null?void 0:e.filterList)||[];return this.filters.length>0&&!r?t.filterList=this.filters:r&&(t.filterList=[...r,...this.filters]),(e==null?void 0:e.limit)&&(t.limit=e.limit),this.limit&&(t.limit=this.limit.limit),this.indexOn&&(t.weightMeasure=this.indexOn.refString),(e==null?void 0:e.sample)&&(t.sample=e.sample),this.sample&&(t.sample=this.sample),t}},DSe=class extends r0{constructor(e){super("queryOperator",e);this.opType="grouping"}computeType(){let e;this.refineThis&&(this.refineThis.type=="reduce"?e="grouping":e=this.refineThis.type);let t=!1;for(let i of this.list)i instanceof dO?(e||(e="index"),e!=="index"&&i.log(`index: not legal in ${e} query`)):i instanceof pO||iz(i)||i instanceof aw?(e||(e="grouping"),t=!0,(e==="project"||e==="index")&&i.log(`group_by: not legal in ${e} query`)):i instanceof uO?(e||(e="aggregate"),(e==="project"||e==="index")&&i.log(`aggregate: not legal in ${e} query`)):i instanceof aO&&(e||(e="project"),e!=="project"&&i.log(`project: not legal in ${e} query`));e==="aggregate"&&t&&(e="grouping"),e||this.log("Can't determine query type (group_by/aggregate/nest,project,index)");let r=e||"grouping";return this.opType=r,r}refineFrom(e){this.refineThis=e}getExecutor(e){switch(this.computeType()){case"aggregate":case"grouping":return new Moe(e);case"project":return new TSe(e);case"index":return new FSe(e)}}getOp(e,t){let r=this.getExecutor(e);(t==null?void 0:t.nestedInQuerySpace)&&(r.inputFS.nestParent=t.nestedInQuerySpace),r.resultFS.astEl=this;for(let s of this.list)r.execute(s);let i=r.finalize(this.refineThis);return{segment:i,outputSpace:()=>new Ox.DynamicSpace(Loe(this,e.structDef(),i))}}};cr.QOPDesc=DSe;var Poe=class extends oa{constructor(e){super();this.elementType="document",this.documentModel={},this.queryList=[],this.sqlBlocks=[],this.didInitModel=!1,this.statements=new sO("topLevelStatements",e),this.has({statements:e})}initModelDef(e){if(!this.didInitModel){if(this.documentModel={},this.queryList=[],this.sqlBlocks=[],e)for(let t in e.contents){let r=e.contents[t];if(r.type=="struct"){let i=e.exports.includes(t);this.setEntry(t,{entry:r,exported:i})}}this.didInitModel=!0}}compile(){let e=this.statements.executeList(this);return{modelDef:this.modelDef(),queryList:this.queryList,sqlBlocks:this.sqlBlocks,needs:e}}modelDef(){let e={name:"",exports:[],contents:{}};for(let t in this.documentModel){let r=this.documentModel[t].entry;(r.type==="struct"||r.type==="query")&&(this.documentModel[t].exported&&e.exports.push(t),e.contents[t]=(0,cSe.cloneDeep)(r))}return e}defineSQL(e,t){let r={...e,as:`$${this.sqlBlocks.length}`};if(t){if(this.getEntry(t))return!1;r.as=t,this.setEntry(t,{entry:r,sqlType:!0})}return this.sqlBlocks.push(r),!0}getEntry(e){return this.documentModel[e]}setEntry(e,t){this.documentModel[e]=t}};cr.Document=Poe;var nz=class extends oa{constructor(e){super({field:e});this.field=e,this.elementType="primary key"}};cr.PrimaryKey=nz;var Boe=class extends oa{constructor(e,t){super();this.newName=e,this.oldName=t,this.elementType="renameField",this.has({oldName:t})}};cr.RenameField=Boe;var joe=class extends oa{constructor(e,t){super();this.joinPath=e,this.star=t,this.elementType="wildcardFieldReference",this.has({joinPath:e})}getFieldDef(){throw this.internalError("fielddef request from wildcard reference")}get refString(){return this.joinPath?`${this.joinPath.refString}.${this.star}`:this.star}};cr.WildcardFieldReference=joe;var RSe=class extends oa{constructor(e,t){super();this.field=e,this.dir=t,this.elementType="orderBy",e instanceof Z$&&this.has({field:e})}get modelField(){return typeof this.field=="number"?this.field:this.field.refString}getOrderBy(e){let t={field:this.modelField};return this.dir&&(t.dir=this.dir),t}};cr.OrderBy=RSe;var lO=class extends r0{constructor(e){super("ordering",e)}getOrderBy(e){return this.list.map(t=>t.getOrderBy(e))}};cr.Ordering=lO;var cO=class extends oa{constructor(e){super();this.limit=e,this.elementType="limit"}};cr.Limit=cO;var fO=class extends r0{constructor(e){super("turtleDeclarationList",e)}};cr.Turtles=fO;var dO=class extends oa{constructor(e){super({fields:e});this.fields=e,this.elementType="index"}useWeight(e){this.has({weightBy:e}),this.weightBy=e}};cr.Index=dO;function Jdt(n){return!!(n&&typeof n!="string"&&n.type==="turtle")}var qoe=class extends oa{constructor(){super(...arguments);this.elementType="pipelineDesc",this.qops=[]}refineHead(e){this.headRefinement=e,this.has({headRefinement:e})}addSegments(...e){this.qops.push(...e),this.has({segments:this.qops})}appendOps(e,t){let r=t,i;for(let s of this.qops){let o=e.length==0,a=s.getOp(r,o?this:null);i==null&&(i=[...e]),i.push(a.segment),r=a.outputSpace()}return{opList:i||e,structDef:r.structDef()}}refinePipeline(e,t){if(!this.headRefinement)return t;let r=[];if(t.pipeHead){let{pipeline:s}=this.expandTurtle(t.pipeHead.name,e.structDef());r.push(...s)}r.push(...t.pipeline);let i=r[0];return i&&this.headRefinement.refineFrom(i),r[0]=this.headRefinement.getOp(e,this).segment,{pipeline:r}}expandTurtle(e,t){let r=Vdt(t,e);if(!r)this.log(`Query '${e}' is not defined in source`);else if(r.type!=="turtle")this.log(`'${e}' is not a query`);else return{pipeline:r.pipeline,location:r.location};return{pipeline:[],location:void 0}}getOutputStruct(e,t){for(let r of t)e=Loe(this,e,r);return e}},Uoe=class extends qoe{set head(e){this._head=e,this.has({head:e})}get head(){return this._head}queryComp(){if(!this.head)throw this.internalError("can't make query from nameless query");let e=this.modelEntry(this.head),t=e==null?void 0:e.entry,r=function(){return{outputStruct:Od.structDef,query:Od.query}};if(!t)return this.log(`Reference to undefined query '${this.head}'`),r();if(t.type!=="query")return this.log(`Illegal reference to '${this.head}', query expected`),r();let i=new hSe(t.structRef);this.has({queryHead:i});let s=i.structDef(),o=new Ox.DynamicSpace(s),a=this.refinePipeline(o,t),l=this.getOutputStruct(s,a.pipeline),f=this.appendOps(a.pipeline,new Ox.DynamicSpace(l)),p={...a,pipeline:f.opList},_={type:"query",...p,structRef:i.structRef(),location:this.location};return{outputStruct:f.structDef,query:_}}query(){return this.queryComp().query}};cr.ExistingQuery=Uoe;var rz=class extends qoe{set turtleName(e){this._turtleName=e,this.has({turtleName:e})}get turtleName(){return this._turtleName}};cr.TurtleHeadedPipe=rz;var $oe=class extends rz{constructor(e){super({explore:e});this.explore=e}queryComp(){let e=this.explore.structRef(),t={type:"query",structRef:e,pipeline:[],location:this.location},r=Rx.refIsStructDef(e)?e:this.explore.structDef(),i=new Ox.DynamicSpace(r);if(Od.isErrorStructDef(r))return{outputStruct:r,query:{structRef:e,pipeline:[]}};if(this.turtleName){let{error:o}=this.turtleName.getField(i);o&&this.log(o);let a=this.turtleName.refString,{pipeline:l,location:f}=this.expandTurtle(a,r);t.location=f;let p=this.refinePipeline(i,{pipeline:l}).pipeline;this.headRefinement?t.pipeline=p:t.pipeHead={name:a};let _=this.getOutputStruct(r,p);i=new Ox.DynamicSpace(_)}let s=this.appendOps(t.pipeline,i);return t.pipeline=s.opList,{outputStruct:s.structDef,query:t}}query(){return this.queryComp().query}};cr.FullQuery=$oe;var hO=class extends rz{constructor(e){super();this.name=e}getPipeline(e){let t={pipeline:[]};if(this.turtleName){let s=this.turtleName.getField(e),o=!0;if(s.error)this.log(s.error),o=!1;else if(s.found instanceof Udt.QueryField){let a=s.found.getQueryFieldDef(e);if(Jdt(a)){let l=this.refinePipeline(e,a);t.pipeline=[...l.pipeline],o=!1}}o&&this.log(`Expected '${this.turtleName}' to be a query`)}else if(this.headRefinement)throw this.internalError("Can't refine the head of a turtle in its definition");let r=e;if(t.pipeline.length>0){let s=r.structDef();for(let o of t.pipeline)s=Loe(this,s,o);r=new Ox.DynamicSpace(s)}let i=this.appendOps(t.pipeline,r);return t.pipeline=i.opList,t}getFieldDef(e,t){t&&(this.nestedInQuerySpace=t);let r=this.getPipeline(e);return{type:"turtle",name:this.name,...r,location:this.location}}};cr.TurtleDecl=hO;var zoe=class extends ez{constructor(e){super([e]);this.name=e,this.elementType="nestReference"}};cr.NestReference=zoe;var Hoe=class extends hO{constructor(e){super(e.refString);this.elementType="nestRefinement",this.turtleName=e}};cr.NestRefinement=Hoe;var Voe=class extends hO{constructor(e){super(e);this.elementType="nestDefinition"}};cr.NestDefinition=Voe;function iz(n){return n instanceof Hoe||n instanceof zoe||n instanceof Voe}cr.isNestedQuery=iz;var pO=class extends r0{constructor(e){super("nestedQueries",e)}};cr.Nests=pO;function OSe(n){return n instanceof $oe||n instanceof Uoe}cr.isQueryElement=OSe;var NSe=class extends sO{constructor(e){super("defineQueries",e)}execute(e){return this.executeList(e)}};cr.DefineQueryList=NSe;var LSe=class extends oa{constructor(e,t){super({queryDetails:t});this.name=e,this.queryDetails=t,this.elementType="defineQuery"}execute(e){let t={...this.queryDetails.query(),type:"query",name:this.name,location:this.location},r=!1;e.setEntry(this.name,{entry:t,exported:r})}};cr.DefineQuery=LSe;var kSe=class extends oa{constructor(e){super();this.theQuery=e,this.elementType="anonymousQuery",this.has({query:e})}execute(e){let t=this.theQuery.query();e.queryList.push(t)}};cr.AnonymousQuery=kSe;var mO=class extends oa{constructor(e,t){super();this.limit=e,this.by=t,this.elementType="top",this.has({by:t})}getBy(e){if(this.by){if(this.by instanceof Z$)return{by:"name",name:this.by.refString};{let t=this.by.getExpression(e);return t.aggregate||this.log("top by expression must be an aggregate"),{by:"expression",e:(0,yE.compressExpr)(t.value)}}}}};cr.Top=mO;var ISe=class extends oa{constructor(e){super();this.elementType="jsonElement";try{this.value=JSON.parse(e)}catch{this.log("JSON syntax error"),this.value=void 0}}};cr.JSONElement=ISe;var sz=class extends E4{constructor(e){super();this.struct=e,this.elementType="jsonStructDef"}static fromJSON(e){let t=e.value;if(t&&t.type==="struct"&&t.structRelationship&&t.structSource)return new sz(t)}structDef(){return this.struct}};cr.JSONStructDef=sz;var MSe=class extends oa{constructor(e,t){super();this.url=e,this.elementType="import statement";try{this.fullURL=decodeURI(new URL(e,t).toString())}catch{this.log("Invalid URI in import statement")}}execute(e){let t=this.translator();if(!t)this.log("Cannot import without translation context");else if(this.fullURL){let r=t.root.importZone.getEntry(this.fullURL);if(r.status==="present"){let i=t.childRequest(this.fullURL);if(i)return i;let s=t.getChildExports(this.fullURL);for(let o in s)e.setEntry(o,{entry:s[o],exported:!1})}else r.status==="error"?this.log(`import failed: '${r.message}'`):this.log(`import failed with status: '${r.status}'`)}}};cr.ImportStatement=MSe;var oz=class extends oa{constructor(e){super();this.elementType="hasParameter",this.name=e.name,this.isCondition=e.isCondition,e.type&&Rx.isAtomicFieldType(e.type)&&(this.type=e.type),e.default&&(this.default=e.default,this.has({default:this.default}))}parameter(){var e,t;let r=this.name,i=this.type||"string";if(this.isCondition){let o=((e=this.default)===null||e===void 0?void 0:e.constantCondition(i).value)||null;return{type:i,name:r,condition:o}}return{value:((t=this.default)===null||t===void 0?void 0:t.constantValue().value)||null,type:i,name:this.name,constant:!1}}};cr.HasParameter=oz;var PSe=class extends oz{constructor(e,t){super({name:e,isCondition:!1});this.value=t,this.has({value:t})}parameter(){let e=this.value.constantValue();return Rx.isAtomicFieldType(e.dataType)?{value:e.value,type:e.dataType,name:this.name,constant:!0}:(this.log(`Unexpected expression type '${e.dataType}'`),{value:["XXX-type-mismatch-error-XXX"],type:"string",name:this.name,constant:!0})}};cr.ConstantParameter=PSe;var BSe=class extends oa{constructor(){super(...arguments);this.elementType="sqlString",this.elements=[],this.containsQueries=!1}push(e){typeof e=="string"?e.length>0&&this.elements.push(e):OSe(e)?(this.elements.push(e),this.containsQueries=!0,e.parent=this):e.log("This element is not legal inside an SQL string")}sqlPhrases(){return this.elements.map(e=>typeof e=="string"?{sql:e}:e.query())}};cr.SQLString=BSe;var jSe=class extends oa{constructor(e){super();this.select=e,this.elementType="sqlStatement",this.has({select:e})}sqlBlock(){return this.requestBlock||(this.requestBlock=(0,$dt.makeSQLBlock)(this.select.sqlPhrases(),this.connection)),this.requestBlock}execute(e){var t;let r=(t=this.translator())===null||t===void 0?void 0:t.root.sqlQueryZone;if(!r){this.log("Cant't look up schema for sql block");return}let i=this.sqlBlock();r.reference(i.name,this.location);let s=r.getEntry(i.name);if(s.status=="error"){this.select.log(`'Schema error: ${s.message}`);return}if(s.status=="present"){let o=this.select.location,a={...s.value,fields:s.value.fields.map(l=>({...l,location:o})),location:this.location};this.is&&!e.defineSQL(a,this.is)&&this.log(`'${this.is}' already defined`);return}return{compileSQL:i,partialModel:this.select.containsQueries?e.modelDef():void 0}}};cr.SQLStatement=jSe;var az=class extends oa{constructor(e){super();this.sample=e,this.elementType="sampleProperty"}sampling(){return this.sample}};cr.SampleProperty=az});var HSe=Ae(uw=>{"use strict";m();Object.defineProperty(uw,"__esModule",{value:!0});uw.nullsafeNot=uw.applyBinary=void 0;var uz=s1(),wf=_4();function Xdt(n,e,t,r){if((0,wf.isEquality)(t))return tht(n,e,t,r);if((0,wf.isComparison)(t))return nht(n,e,t,r);if(Woe(t,"+","-"))return rht(n,e,t,r);if(Woe(t,"*","%"))return zSe(n,e,t,r);if(Woe(t,"/")){let i=e.getExpression(n),s=r.getExpression(n);if(i.dataType!="number")e.log("Numerator for division must be a number");else if(s.dataType!="number")r.log("Denominator for division must be a number");else{let o={type:"dialect",function:"div",numerator:i.value,denominator:s.value};return{dataType:"number",aggregate:i.aggregate||s.aggregate,value:[o]}}return(0,wf.errorFor)("divide type mismatch")}return e.log(`Canot use ${t} operator here`),(0,wf.errorFor)("applybinary bad operator")}uw.applyBinary=Xdt;function Woe(n,...e){return e.includes(n)}function Zdt(n,...e){for(let t of e)if(t.dataType!==n)return!1;return!0}function USe(n,e){if(n.dataType==="string"){if(e.dataType==="regular expression")return[{type:"dialect",function:"regexpMatch",expr:n.value,regexp:e.value[0].replace(/^r'/,"'")}]}else if(e.dataType==="string"&&n.dataType==="regular expression")return[{type:"dialect",function:"regexpMatch",expr:e.value,regexp:n.value[0].replace(/^r'/,"'")}]}function eht(n,e,t){let r=e==="!="||e==="!~";if(n.dataType==="null"||t.dataType==="null"){let i=r?" NOT":"";return n.dataType!=="null"?[...n.value,` IS${i} NULL`]:t.dataType!=="null"?[...t.value,`IS${i} NULL`]:[r?"false":"true"]}}function $Se(n,e,t){if((0,uz.isTimeFieldType)(n.dataType)&&(0,uz.isTimeFieldType)(t.dataType)&&n.dataType!==t.dataType){let r=n.value,i=t.value;return n.dataType==="timestamp"?r=(0,wf.castTimestampToDate)(r):i=(0,wf.castTimestampToDate)(i),(0,wf.compose)(r,e,i)}}function Qoe(n,e){return e===void 0||e==="!="||e==="!~"?(0,uz.mkExpr)`COALESCE(NOT(${n}),FALSE)`:n}uw.nullsafeNot=Qoe;function tht(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n),o=$Se(i,t,s)||(0,wf.compose)(i.value,t,s.value);if(i.dataType!="unknown"&&s.dataType!="unknown")switch(t){case"~":case"!~":{if(i.dataType==="string"&&s.dataType==="string")o=(0,wf.compose)(i.value,"LIKE",s.value);else{let a=USe(i,s);if(a===void 0)throw new wf.TypeMistmatch("Incompatible types for match('~') operator");o=a}o=Qoe(o,t);break}case"=":case"!=":{let a=eht(i,t,s);a?o=a:o=Qoe(USe(i,s)||(0,wf.compose)(i.value,"=",s.value),t);break}}return{dataType:"boolean",aggregate:i.aggregate||s.aggregate,value:o}}function nht(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n),o=i.aggregate||s.aggregate,a=$Se(i,t,s)||(0,wf.compose)(i.value,t,s.value);return{dataType:"boolean",aggregate:o,value:a}}function zSe(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n),o=i.aggregate||s.aggregate;return Zdt("number",i,s)?{dataType:"number",aggregate:o,value:(0,wf.compose)(i.value,t,s.value)}:(e.log(`Non numeric('${i.dataType},${s.dataType}') value with '${t}'`),(0,wf.errorFor)("numbers required"))}function rht(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n);if((0,uz.isTimeFieldType)(i.dataType)){let o=r;if(s.dataType!=="duration")if((0,wf.isGranularResult)(i))o=new wf.ExprDuration(r,i.timeframe);else if(i.dataType==="date")o=new wf.ExprDuration(r,"day");else return e.log(`Can not offset time by '${s.dataType}'`),(0,wf.errorFor)(`time plus ${s.dataType}`);return o.apply(n,t,e)}return zSe(n,e,t,r)}});var TCe=Ae(Ri=>{"use strict";m();Object.defineProperty(Ri,"__esModule",{value:!0});Ri.Pick=Ri.PickWhen=Ri.Range=Ri.TopBy=Ri.ExprCast=Ri.isCastType=Ri.ExprFilter=Ri.ExprCase=Ri.WhenClause=Ri.ExprUngroup=Ri.ExprSum=Ri.ExprAvg=Ri.ExprCount=Ri.ExprCountDistinct=Ri.ExprMax=Ri.ExprMin=Ri.ExprAlternationTree=Ri.ExprMulDiv=Ri.ExprAddSub=Ri.BinaryNumeric=Ri.ExprMinus=Ri.ExprParens=Ri.ExprNULL=Ri.ExprIdReference=Ri.ExprLogicalOp=Ri.BinaryBoolean=Ri.Boolean=Ri.ExprNot=Ri.ExprTime=Ri.ExprRegEx=Ri.ExprNumber=Ri.ExprString=Ri.TypeMistmatch=Ri.FieldDeclaration=Ri.ConstantSubExpression=Ri.ExpressionDef=void 0;var lz=s1(),cz=Q$(),ci=_4(),VSe=HSe(),WSe=W$(),iht=K$(),cu=class extends ci.MalloyElement{constructor(){super(...arguments);this.legalChildTypes=ci.FT.anyAtomicT}granular(){return!1}requestExpression(e){return this.getExpression(e)}defaultFieldName(){}typeCheck(e,t){return ci.FT.in(t,this.legalChildTypes)?!0:(e.log(`'${this.elementType}' Can't use type ${ci.FT.inspect(t)}`),!1)}apply(e,t,r){return(0,VSe.applyBinary)(e,r,t,this)}};Ri.ExpressionDef=cu;var QSe=class extends cu{constructor(e){super();this.refType=e,this.elementType="$"}getExpression(e){return{dataType:this.refType,value:[{type:"applyVal"}],aggregate:!1}}},GSe=class{constructor(){this.type="fieldSpace"}structDef(){throw new Error("ConstantFieldSpace cannot generate a structDef")}emptyStructDef(){throw new Error("ConstantFieldSpace cannot generate a structDef")}lookup(e){return{error:"Only constants allowed in parameter expressions",found:void 0}}dialectObj(){}whenComplete(e){e()}},YSe=class extends cu{constructor(e){super({expr:e});this.expr=e,this.elementType="constantExpression"}getExpression(e){return this.constantValue()}get constantFs(){return this.cfs||(this.cfs=new GSe),this.cfs}constantValue(){return this.expr.getExpression(this.constantFs)}constantCondition(e){let r=new ci.ExprCompare(new QSe(e),"=",this.expr).getExpression(this.constantFs);return{...r,value:(0,ci.compressExpr)(r.value)}}apply(e,t,r){return this.expr.apply(e,t,r)}requestExpression(e){return this.expr.requestExpression(e)}};Ri.ConstantSubExpression=YSe;var KSe=class extends ci.MalloyElement{constructor(e,t,r){super({expr:e});this.expr=e,this.defineName=t,this.exprSrc=r,this.elementType="fieldDeclaration"}fieldDef(e,t){return this.queryFieldDef(new cz.DefSpace(e,this),t)}queryFieldDef(e,t){let r;try{r=this.expr.getExpression(e)}catch(a){return this.log(`Cannot define '${t}', ${a.message}`),{name:`error_defining_${t}`,type:"string"}}let i=(0,ci.compressExpr)(r.value),s=r.dataType;if((0,lz.isAtomicFieldType)(s)){let a={name:t,type:s,location:this.location};return i.length>0&&(a.e=i),r.aggregate&&(a.aggregate=!0),this.exprSrc&&(a.code=this.exprSrc),(0,ci.isGranularResult)(r)&&a.type==="timestamp"&&(a.timeframe=r.timeframe),a}if(!(e instanceof cz.DefSpace&&e.foundCircle))if(r.dataType=="unknown")this.log(`Cannot define '${t}', value has unknown type`);else{let a=ci.FT.inspect(r);this.log(`Cannot define '${t}', unexpected type: ${a}`)}return{name:`error_defining_${t}`,type:"string"}}};Ri.FieldDeclaration=KSe;var JSe=class extends Error{};Ri.TypeMistmatch=JSe;var XSe=class extends cu{constructor(e){super();this.elementType="string literal";let r=e.slice(1,-1).replace(/\\(.)/g,"$1");this.value=r}getExpression(e){return{...ci.FT.stringT,value:[{type:"dialect",function:"stringLiteral",literal:this.value}]}}};Ri.ExprString=XSe;var ZSe=class extends cu{constructor(e){super();this.n=e,this.elementType="numeric literal"}getExpression(e){return this.constantExpression()}constantExpression(){return{...ci.FT.numberT,value:[this.n]}}};Ri.ExprNumber=ZSe;var eCe=class extends cu{constructor(e){super();this.regex=e,this.elementType="regular expression literal"}getExpression(){return{dataType:"regular expression",aggregate:!1,value:[`r'${this.regex}'`]}}};Ri.ExprRegEx=eCe;var fz=class extends cu{constructor(e,t,r=!1){super();this.elementType="timestampOrDate",this.elementType=e,this.translationValue={dataType:e,aggregate:r,value:typeof t=="string"?[t]:t}}getExpression(e){return this.translationValue}static fromValue(e,t){let r=t.value;if(e!=t.dataType){let i={type:"dialect",function:"cast",safe:!1,dstType:e,expr:t.value};(0,lz.isTimeFieldType)(t.dataType)&&(i.srcType=t.dataType),r=(0,ci.compressExpr)([i])}return new fz(e,r,t.aggregate)}};Ri.ExprTime=fz;var tCe=class extends cu{constructor(e){super({expr:e});this.expr=e}},nCe=class extends tCe{constructor(e){super(e);this.elementType="not",this.legalChildTypes=[ci.FT.boolT,ci.FT.nullT]}getExpression(e){let t=this.expr.getExpression(e);return this.typeCheck(this.expr,t)?{...t,dataType:"boolean",value:(0,VSe.nullsafeNot)(t.value)}:(0,ci.errorFor)("not requires boolean")}};Ri.ExprNot=nCe;var rCe=class extends cu{constructor(e){super();this.value=e,this.elementType="boolean literal"}getExpression(){return{...ci.FT.boolT,value:[this.value]}}};Ri.Boolean=rCe;var dz=class extends cu{constructor(e,t,r){super({left:e,right:r});this.left=e,this.op=t,this.right=r,this.elementType="abstract boolean binary",this.legalChildTypes=[ci.FT.boolT]}getExpression(e){let t=this.left.getExpression(e),r=this.right.getExpression(e);return this.typeCheck(this.left,t)&&this.typeCheck(this.right,r)?{dataType:"boolean",aggregate:t.aggregate||r.aggregate,value:(0,ci.compose)(t.value,this.op,r.value)}:(0,ci.errorFor)("logial required boolean")}};Ri.BinaryBoolean=dz;var iCe=class extends dz{constructor(){super(...arguments);this.elementType="logical operator",this.legalChildTypes=[ci.FT.boolT,{...ci.FT.boolT,aggregate:!0}]}};Ri.ExprLogicalOp=iCe;var sCe=class extends cu{constructor(e){super();this.fieldReference=e,this.elementType="ExpressionIdReference",this.has({fieldPath:e})}get refString(){return this.fieldReference.refString}getExpression(e){let t=this.fieldReference.getField(e);if(t.found){let r=t.found.type(),i=r.type,s=!!r.aggregate,o=[{type:t.found.refType,path:this.refString}];return{dataType:i,aggregate:s,value:o}}return this.log(t.error),(0,ci.errorFor)(t.error)}apply(e,t,r){let i=this.fieldReference.getField(e).found;if(i instanceof WSe.SpaceParam){let s=i.parameter();if((0,lz.isConditionParameter)(s)){let o=r.getExpression(e);return{dataType:"boolean",aggregate:o.aggregate,value:[{type:"apply",value:o.value,to:[{type:"parameter",path:this.refString}]}]}}}return super.apply(e,t,r)}};Ri.ExprIdReference=sCe;var oCe=class extends cu{constructor(){super(...arguments);this.elementType="NULL"}getExpression(){return{dataType:"null",value:["NULL"],aggregate:!1}}};Ri.ExprNULL=oCe;var aCe=class extends cu{constructor(e){super({expr:e});this.expr=e,this.elementType="(expression)"}requestExpression(e){return this.expr.requestExpression(e)}getExpression(e){let t=this.expr.getExpression(e);return{...t,value:["(",...t.value,")"]}}};Ri.ExprParens=aCe;var uCe=class extends cu{constructor(e){super({expr:e});this.expr=e,this.elementType="unary minus",this.legalChildTypes=[ci.FT.numberT]}getExpression(e){let t=this.expr.getExpression(e);return this.typeCheck(this.expr,t)?t.value.length>1?{...t,value:["-(",...t.value,")"]}:{...t,value:["-",...t.value]}:(0,ci.errorFor)("negate requires number")}};Ri.ExprMinus=uCe;var hz=class extends cu{constructor(e,t,r){super({left:e,right:r});this.left=e,this.op=t,this.right=r,this.elementType="numeric binary abstract",this.legalChildTypes=[ci.FT.numberT]}getExpression(e){return this.right.apply(e,this.op,this.left)}};Ri.BinaryNumeric=hz;var lCe=class extends hz{constructor(){super(...arguments);this.elementType="+-"}};Ri.ExprAddSub=lCe;var cCe=class extends hz{constructor(){super(...arguments);this.elementType="*/%"}};Ri.ExprMulDiv=cCe;var fCe=class extends dz{constructor(e,t,r){super(e,t,r);this.elementType="alternation",this.elementType=`${t}alternation${t}`}apply(e,t,r){let i=this.left.apply(e,t,r),s=this.right.apply(e,t,r);return{dataType:"boolean",aggregate:i.aggregate||s.aggregate,value:(0,ci.compose)(i.value,this.op==="&"?"and":"or",s.value)}}requestExpression(e){}getExpression(e){return this.log("Alternation tree has no value"),(0,ci.errorFor)("no value from alternation tree")}};Ri.ExprAlternationTree=fCe;var lw=class extends cu{constructor(e,t){super();this.func=e,this.legalChildTypes=[ci.FT.numberT],this.elementType=e,t&&(this.expr=t,this.has({expr:t}))}returns(e){return"number"}getExpression(e){var t,r;let i=(t=this.expr)===null||t===void 0?void 0:t.getExpression(e),s=(r=this.source)===null||r===void 0?void 0:r.refString;if(this.source){let o=this.source.getField(e).found;if(o){let a=o.type();if((0,lz.isAtomicFieldType)(a.type))i={dataType:a.type,aggregate:!!a.aggregate,value:[{type:"field",path:this.source.refString}]},s=this.source.sourceString;else if(!(o instanceof WSe.StructSpaceField))return this.log(`Aggregate source cannot be a ${a.type}`),(0,ci.errorFor)(`Aggregate source cannot be a ${a.type}`)}else return this.log(`Reference to undefined value ${this.source.refString}`),(0,ci.errorFor)(`Reference to undefined value ${this.source.refString}`)}if(i===void 0)return this.log("Missing expression for aggregate function"),(0,ci.errorFor)("agggregate without expression");if(this.typeCheck(this.expr||this,{...i,aggregate:!1})){let o={type:"aggregate",function:this.func,e:i.value};return s&&(o.structPath=s),{dataType:this.returns(i),aggregate:!0,value:[o]}}return(0,ci.errorFor)("aggregate type check")}},dCe=class extends lw{constructor(e){super("min",e);this.legalChildTypes=[ci.FT.numberT,ci.FT.stringT,ci.FT.dateT,ci.FT.timestampT]}returns(e){return e.dataType}};Ri.ExprMin=dCe;var hCe=class extends lw{constructor(e){super("max",e);this.legalChildTypes=[ci.FT.numberT,ci.FT.stringT,ci.FT.dateT,ci.FT.timestampT]}returns(e){return e.dataType}};Ri.ExprMax=hCe;var pCe=class extends lw{constructor(e){super("count_distinct",e);this.legalChildTypes=[ci.FT.numberT,ci.FT.stringT,ci.FT.dateT,ci.FT.timestampT]}};Ri.ExprCountDistinct=pCe;var Goe=class extends lw{constructor(e,t,r){super(e,t);this.func=e,this.expr=t,this.source=r,this.has({source:r})}defaultFieldName(){if(this.source&&this.expr===void 0){let e=this.source.nameString;switch(this.func){case"sum":return`total_${e}`;case"avg":return`avg_${e}`}}}},mCe=class extends lw{constructor(e){super("count");this.source=e,this.elementType="count",this.has({source:e})}defaultFieldName(){if(this.source)return"count_"+this.source.nameString}getExpression(e){let t={type:"aggregate",function:"count",e:[]};return this.source&&(t.structPath=this.source.refString),{dataType:"number",aggregate:!0,value:[t]}}};Ri.ExprCount=mCe;var xCe=class extends Goe{constructor(e,t){super("avg",e,t);this.has({source:t})}};Ri.ExprAvg=xCe;var gCe=class extends Goe{constructor(e,t){super("sum",e,t);this.has({source:t})}};Ri.ExprSum=gCe;var yCe=class extends cu{constructor(e,t,r){super({expr:t,fields:r});this.control=e,this.expr=t,this.fields=r,this.legalChildTypes=ci.FT.anyAtomicT,this.elementType="ungroup"}returns(e){return"number"}getExpression(e){let t=this.expr.getExpression(e);if(!t.aggregate)return this.expr.log(`${this.control}() expression must be an aggregate`),(0,ci.errorFor)("ungrouped scalar");let r={type:this.control,e:t.value};if(this.typeCheck(this.expr,{...t,aggregate:!1})){if(this.fields.length>0){let i=e;if(e instanceof cz.DefSpace&&(i=e.realFS),!(i instanceof cz.QuerySpace))return this.log(`${this.control}() must be in a query -- weird internal error`),(0,ci.errorFor)("ungroup query check");let s=i.result,o=[],a=this.control=="exclude";for(let l of this.fields)s.whenComplete(()=>{s.checkUngroup(l,a)}),o.push(l.refString);r.fields=o}return{dataType:this.returns(t),aggregate:!0,value:[r]}}return this.log(`${this.control}() incompatible type`),(0,ci.errorFor)("ungrouped type check")}};Ri.ExprUngroup=yCe;var vCe=class extends cu{constructor(e,t){super({whenThis:e,thenThis:t});this.whenThis=e,this.thenThis=t,this.elementType="when clause"}getExpression(e){throw new Error("expression did something unxpected with 'WHEN'")}};Ri.WhenClause=vCe;var _Ce=class extends cu{constructor(e,t){super({when:e});this.when=e,this.elseClause=t,this.elementType="case statement",this.has({elseClause:t})}getExpression(e){let t,r=!1,i=["CASE "];for(let s of this.when){let o=s.whenThis.getExpression(e),a=s.thenThis.getExpression(e);if(r||(r=o.aggregate||a.aggregate),a.dataType!=="null"){if(t&&!ci.FT.typeEq(t,a))return this.log(`Mismatched THEN clause types, ${ci.FT.inspect(t,a)}`),(0,ci.errorFor)("then typecheck");t=a}i.push("WHEN ",...o.value," THEN ",...a.value)}if(this.elseClause){let s=this.elseClause.getExpression(e);if(r||(r=s.aggregate),i.push(" ELSE ",...s.value),s.dataType!=="null"){if(t&&!ci.FT.typeEq(t,s))return this.log(`Mismatched ELSE clause type, ${ci.FT.inspect(t,s)}`),(0,ci.errorFor)("else typecheck");t=s}}return t===void 0?(this.log("case statement type not computable"),(0,ci.errorFor)("typeless case")):(i.push(" END"),{dataType:t.dataType,aggregate:r,value:i})}};Ri.ExprCase=_Ce;var ECe=class extends cu{constructor(e,t){super({expr:e,filter:t});this.expr=e,this.filter=t,this.elementType="filtered expression",this.legalChildTypes=ci.FT.anyAtomicT}getExpression(e){let t=this.filter.getFilterList(e),r=this.expr.getExpression(e);for(let i of t)if(i.aggregate)return this.filter.log("Cannot filter a field with an aggregate computation"),(0,ci.errorFor)("no filter on aggregate");return r.aggregate?this.typeCheck(this.expr,{...r,aggregate:!1})?{...r,value:[{type:"filterExpression",e:r.value,filterList:t}]}:(this.expr.log(`Cannot filter '${r.dataType}' data`),(0,ci.errorFor)("cannot filter type")):r}};Ri.ExprFilter=ECe;function sht(n){return["string","number","boolean","date","timestamp"].includes(n)}Ri.isCastType=sht;var bCe=class extends cu{constructor(e,t,r=!1){super({expr:e});this.expr=e,this.castType=t,this.safe=r,this.elementType="cast"}getExpression(e){let t=this.expr.getExpression(e);return{dataType:this.castType,aggregate:t.aggregate,value:(0,ci.compressExpr)((0,iht.castTo)(this.castType,t.value,this.safe))}}};Ri.ExprCast=bCe;var SCe=class extends ci.MalloyElement{constructor(e){super();this.by=e,this.elementType="topBy",e instanceof cu&&this.has({by:e})}getBy(e){if(this.by instanceof cu){let t=this.by.getExpression(e);return t.aggregate||this.log("top by expression must be an aggregate"),{by:"expression",e:(0,ci.compressExpr)(t.value)}}return{by:"name",name:this.by}}};Ri.TopBy=SCe;var CCe=class extends cu{constructor(e,t){super({first:e,last:t});this.first=e,this.last=t,this.elementType="range"}apply(e,t,r){switch(t){case"=":case"!=":{let i=t==="="?">=":"<",s=t==="="?"and":"or",o=t==="="?"<":">=",a=this.first.apply(e,i,r),l=this.last.apply(e,o,r);return{dataType:"boolean",aggregate:a.aggregate||l.aggregate,value:(0,ci.compose)(a.value,s,l.value)}}case">":return this.last.apply(e,">=",r);case">=":return this.first.apply(e,">=",r);case"<":return this.first.apply(e,"<",r);case"<=":return this.last.apply(e,"<",r)}throw new Error("mysterious error in range computation")}requestExpression(e){}getExpression(e){return(0,ci.errorFor)("a range is not a value")}};Ri.Range=CCe;var wCe=class extends ci.MalloyElement{constructor(e,t){super({when:t});this.pick=e,this.when=t,this.elementType="pickWhen",this.has({pick:e})}};Ri.PickWhen=wCe;var ACe=class extends cu{constructor(e,t){super({choices:e});this.choices=e,this.elsePick=t,this.elementType="pick",this.has({elsePick:t})}requestExpression(e){if(this.elsePick!==void 0){for(let t of this.choices){if(t.pick==null)return;let r=t.when.requestExpression(e);if(r==null||r.dataType!="boolean")return}return this.getExpression(e)}}apply(e,t,r){let i=["CASE"],s,o=!1;for(let f of this.choices){let p=f.when.apply(e,"=",r),_=f.pick?f.pick.getExpression(e):r.getExpression(e);if(o||(o=p.aggregate||_.aggregate),s){if(!ci.FT.typeEq(s,_,!0)){let b=ci.FT.inspect(_);return this.log(`pick type '${b}', expected '${s.dataType}'`),(0,ci.errorFor)("pick when type")}}else s=_;i.push(" WHEN ",...p.value," THEN ",..._.value)}let l=(this.elsePick||r).getExpression(e);if(s||(s=l),!ci.FT.typeEq(s,l,!0)){let f=this.elsePick?"else":"pick default";return this.log(`${f} type '${ci.FT.inspect(l)}', expected '${s.dataType}'`),(0,ci.errorFor)("pick else type")}return{dataType:s.dataType,aggregate:o||l.aggregate,value:(0,ci.compressExpr)([...i," ELSE ",...l.value," END"])}}getExpression(e){if(this.elsePick===void 0)return this.log("pick incomplete, missing 'else'"),(0,ci.errorFor)("no value for partial pick");let t=[];for(let a of this.choices){if(a.pick===void 0)return this.log("pick with no value can only be used with apply"),(0,ci.errorFor)("no value for partial pick");if(a.when.requestExpression(e)===void 0)return this.log("pick with partial when can only be used with apply"),(0,ci.errorFor)("partial when");t.push({pick:a.pick.getExpression(e),when:a.when.getExpression(e)})}let r=t[0].pick,i=["CASE"],s=r.aggregate;for(let a of t){if(!ci.FT.typeEq(a.when,ci.FT.boolT))return this.log(`when expression must be boolean, not '${ci.FT.inspect(a.when)}`),(0,ci.errorFor)("pick when type");if(!ci.FT.typeEq(r,a.pick,!0)){let l=ci.FT.inspect(a.pick);return this.log(`pick type '${l}', expected '${r.dataType}'`),(0,ci.errorFor)("pick value type")}s||(s=a.pick.aggregate||a.when.aggregate),i.push(" WHEN ",...a.when.value," THEN ",...a.pick.value)}let o=this.elsePick.getExpression(e);return s||(s=o.aggregate),ci.FT.typeEq(r,o,!0)?(i.push(" ELSE ",...o.value," END"),{dataType:r.dataType,aggregate:!!s,value:(0,ci.compressExpr)(i)}):(this.elsePick.log(`else type '${ci.FT.inspect(o)}', expected '${r.dataType}'`),(0,ci.errorFor)("pick value type mismatch"))}};Ri.Pick=ACe});var Iwe=Ae(ap=>{"use strict";m();Object.defineProperty(ap,"__esModule",{value:!0});function FCe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Pm(n,e,t){return e&&FCe(n.prototype,e),t&&FCe(n,t),n}function C1(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function Yoe(n){return Yoe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Yoe(n)}function pz(n,e){return pz=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},pz(n,e)}function oht(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function mz(n,e,t){return oht()?mz=Reflect.construct:mz=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),f=new l;return o&&pz(f,o.prototype),f},mz.apply(null,arguments)}function aht(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function Koe(n){var e=typeof Map=="function"?new Map:void 0;return Koe=function(r){if(r===null||!aht(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return mz(r,arguments,Yoe(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),pz(i,r)},Koe(n)}function uht(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function lht(n,e){if(!!n){if(typeof n=="string")return DCe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(t);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return DCe(n,e)}}function DCe(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function C4(n){var e=0;if(typeof Symbol=="undefined"||n[Symbol.iterator]==null){if(Array.isArray(n)||(n=lht(n)))return function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return e=n[Symbol.iterator](),e.next.bind(e)}var _E=function(n){C1(e,n);function e(){return n.apply(this,arguments)||this}return e}(Koe(Error)),cht=function(n){C1(e,n);function e(t){return n.call(this,"Invalid DateTime: "+t.toMessage())||this}return e}(_E),fht=function(n){C1(e,n);function e(t){return n.call(this,"Invalid Interval: "+t.toMessage())||this}return e}(_E),dht=function(n){C1(e,n);function e(t){return n.call(this,"Invalid Duration: "+t.toMessage())||this}return e}(_E),xO=function(n){C1(e,n);function e(){return n.apply(this,arguments)||this}return e}(_E),RCe=function(n){C1(e,n);function e(t){return n.call(this,"Invalid unit "+t)||this}return e}(_E),w1=function(n){C1(e,n);function e(){return n.apply(this,arguments)||this}return e}(_E),w4=function(n){C1(e,n);function e(){return n.call(this,"Zone is an abstract class")||this}return e}(_E),Ai="numeric",Bm="short",sp="long",xz={year:Ai,month:Ai,day:Ai},Joe={year:Ai,month:Bm,day:Ai},OCe={year:Ai,month:Bm,day:Ai,weekday:Bm},Xoe={year:Ai,month:sp,day:Ai},Zoe={year:Ai,month:sp,day:Ai,weekday:sp},eae={hour:Ai,minute:Ai},tae={hour:Ai,minute:Ai,second:Ai},nae={hour:Ai,minute:Ai,second:Ai,timeZoneName:Bm},rae={hour:Ai,minute:Ai,second:Ai,timeZoneName:sp},iae={hour:Ai,minute:Ai,hour12:!1},sae={hour:Ai,minute:Ai,second:Ai,hour12:!1},oae={hour:Ai,minute:Ai,second:Ai,hour12:!1,timeZoneName:Bm},aae={hour:Ai,minute:Ai,second:Ai,hour12:!1,timeZoneName:sp},uae={year:Ai,month:Ai,day:Ai,hour:Ai,minute:Ai},lae={year:Ai,month:Ai,day:Ai,hour:Ai,minute:Ai,second:Ai},cae={year:Ai,month:Bm,day:Ai,hour:Ai,minute:Ai},fae={year:Ai,month:Bm,day:Ai,hour:Ai,minute:Ai,second:Ai},NCe={year:Ai,month:Bm,day:Ai,weekday:Bm,hour:Ai,minute:Ai},dae={year:Ai,month:sp,day:Ai,hour:Ai,minute:Ai,timeZoneName:Bm},hae={year:Ai,month:sp,day:Ai,hour:Ai,minute:Ai,second:Ai,timeZoneName:Bm},pae={year:Ai,month:sp,day:Ai,weekday:sp,hour:Ai,minute:Ai,timeZoneName:sp},mae={year:Ai,month:sp,day:Ai,weekday:sp,hour:Ai,minute:Ai,second:Ai,timeZoneName:sp};function aa(n){return typeof n=="undefined"}function EE(n){return typeof n=="number"}function gz(n){return typeof n=="number"&&n%1===0}function hht(n){return typeof n=="string"}function pht(n){return Object.prototype.toString.call(n)==="[object Date]"}function Nx(){try{return typeof Intl!="undefined"&&Intl.DateTimeFormat}catch{return!1}}function gO(){return!aa(Intl.DateTimeFormat.prototype.formatToParts)}function LCe(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch{return!1}}function mht(n){return Array.isArray(n)?n:[n]}function kCe(n,e,t){if(n.length!==0)return n.reduce(function(r,i){var s=[e(i),i];return r&&t(r[0],s[0])===r[0]?r:s},null)[1]}function ICe(n,e){return e.reduce(function(t,r){return t[r]=n[r],t},{})}function cw(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Fy(n,e,t){return gz(n)&&n>=e&&n<=t}function xht(n,e){return n-e*Math.floor(n/e)}function fw(n,e){e===void 0&&(e=2);var t=n<0?"-":"",r=t?n*-1:n,i;return r.toString().length<e?i=("0".repeat(e)+r).slice(-e):i=r.toString(),""+t+i}function Nd(n){if(!(aa(n)||n===null||n===""))return parseInt(n,10)}function xae(n){if(!(aa(n)||n===null||n==="")){var e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function gae(n,e,t){t===void 0&&(t=!1);var r=Math.pow(10,e),i=t?Math.trunc:Math.round;return i(n*r)/r}function yO(n){return n%4===0&&(n%100!==0||n%400===0)}function vO(n){return yO(n)?366:365}function yz(n,e){var t=xht(e-1,12)+1,r=n+(e-t)/12;return t===2?yO(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function yae(n){var e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function vz(n){var e=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7,t=n-1,r=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return e===4||r===3?53:52}function vae(n){return n>99?n:n>60?1900+n:2e3+n}function MCe(n,e,t,r){r===void 0&&(r=null);var i=new Date(n),s={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);var o=Object.assign({timeZoneName:e},s),a=Nx();if(a&&gO()){var l=new Intl.DateTimeFormat(t,o).formatToParts(i).find(function(R){return R.type.toLowerCase()==="timezonename"});return l?l.value:null}else if(a){var f=new Intl.DateTimeFormat(t,s).format(i),p=new Intl.DateTimeFormat(t,o).format(i),_=p.substring(f.length),b=_.replace(/^[, \u200e]+/,"");return b}else return null}function _z(n,e){var t=parseInt(n,10);Number.isNaN(t)&&(t=0);var r=parseInt(e,10)||0,i=t<0||Object.is(t,-0)?-r:r;return t*60+i}function PCe(n){var e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new w1("Invalid unit value "+n);return e}function Ez(n,e,t){var r={};for(var i in n)if(cw(n,i)){if(t.indexOf(i)>=0)continue;var s=n[i];if(s==null)continue;r[e(i)]=PCe(s)}return r}function bz(n,e){var t=Math.trunc(Math.abs(n/60)),r=Math.trunc(Math.abs(n%60)),i=n>=0?"+":"-";switch(e){case"short":return""+i+fw(t,2)+":"+fw(r,2);case"narrow":return""+i+t+(r>0?":"+r:"");case"techie":return""+i+fw(t,2)+fw(r,2);default:throw new RangeError("Value format "+e+" is out of range for property format")}}function Sz(n){return ICe(n,["hour","minute","second","millisecond"])}var BCe=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function pl(n){return JSON.stringify(n,Object.keys(n).sort())}var ght=["January","February","March","April","May","June","July","August","September","October","November","December"],jCe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],yht=["J","F","M","A","M","J","J","A","S","O","N","D"];function qCe(n){switch(n){case"narrow":return[].concat(yht);case"short":return[].concat(jCe);case"long":return[].concat(ght);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var UCe=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],$Ce=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],vht=["M","T","W","T","F","S","S"];function zCe(n){switch(n){case"narrow":return[].concat(vht);case"short":return[].concat($Ce);case"long":return[].concat(UCe);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var HCe=["AM","PM"],_ht=["Before Christ","Anno Domini"],Eht=["BC","AD"],bht=["B","A"];function VCe(n){switch(n){case"narrow":return[].concat(bht);case"short":return[].concat(Eht);case"long":return[].concat(_ht);default:return null}}function Sht(n){return HCe[n.hour<12?0:1]}function Cht(n,e){return zCe(e)[n.weekday-1]}function wht(n,e){return qCe(e)[n.month-1]}function Aht(n,e){return VCe(e)[n.year<0?0:1]}function Tht(n,e,t,r){t===void 0&&(t="always"),r===void 0&&(r=!1);var i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&s){var o=n==="days";switch(e){case 1:return o?"tomorrow":"next "+i[n][0];case-1:return o?"yesterday":"last "+i[n][0];case 0:return o?"today":"this "+i[n][0]}}var a=Object.is(e,-0)||e<0,l=Math.abs(e),f=l===1,p=i[n],_=r?f?p[1]:p[2]||p[1]:f?i[n][0]:n;return a?l+" "+_+" ago":"in "+l+" "+_}function Fht(n){var e=ICe(n,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]),t=pl(e),r="EEEE, LLLL d, yyyy, h:mm a";switch(t){case pl(xz):return"M/d/yyyy";case pl(Joe):return"LLL d, yyyy";case pl(OCe):return"EEE, LLL d, yyyy";case pl(Xoe):return"LLLL d, yyyy";case pl(Zoe):return"EEEE, LLLL d, yyyy";case pl(eae):return"h:mm a";case pl(tae):return"h:mm:ss a";case pl(nae):return"h:mm a";case pl(rae):return"h:mm a";case pl(iae):return"HH:mm";case pl(sae):return"HH:mm:ss";case pl(oae):return"HH:mm";case pl(aae):return"HH:mm";case pl(uae):return"M/d/yyyy, h:mm a";case pl(cae):return"LLL d, yyyy, h:mm a";case pl(dae):return"LLLL d, yyyy, h:mm a";case pl(pae):return r;case pl(lae):return"M/d/yyyy, h:mm:ss a";case pl(fae):return"LLL d, yyyy, h:mm:ss a";case pl(NCe):return"EEE, d LLL yyyy, h:mm a";case pl(hae):return"LLLL d, yyyy, h:mm:ss a";case pl(mae):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return r}}function WCe(n,e){for(var t="",r=C4(n),i;!(i=r()).done;){var s=i.value;s.literal?t+=s.val:t+=e(s.val)}return t}var Dht={D:xz,DD:Joe,DDD:Xoe,DDDD:Zoe,t:eae,tt:tae,ttt:nae,tttt:rae,T:iae,TT:sae,TTT:oae,TTTT:aae,f:uae,ff:cae,fff:dae,ffff:pae,F:lae,FF:fae,FFF:hae,FFFF:mae},Lx=function(){n.create=function(r,i){return i===void 0&&(i={}),new n(r,i)},n.parseFormat=function(r){for(var i=null,s="",o=!1,a=[],l=0;l<r.length;l++){var f=r.charAt(l);f==="'"?(s.length>0&&a.push({literal:o,val:s}),i=null,s="",o=!o):o||f===i?s+=f:(s.length>0&&a.push({literal:!1,val:s}),s=f,i=f)}return s.length>0&&a.push({literal:o,val:s}),a},n.macroTokenToFormatOpts=function(r){return Dht[r]};function n(t,r){this.opts=r,this.loc=t,this.systemLoc=null}var e=n.prototype;return e.formatWithSystemDefault=function(r,i){this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem());var s=this.systemLoc.dtFormatter(r,Object.assign({},this.opts,i));return s.format()},e.formatDateTime=function(r,i){i===void 0&&(i={});var s=this.loc.dtFormatter(r,Object.assign({},this.opts,i));return s.format()},e.formatDateTimeParts=function(r,i){i===void 0&&(i={});var s=this.loc.dtFormatter(r,Object.assign({},this.opts,i));return s.formatToParts()},e.resolvedOptions=function(r,i){i===void 0&&(i={});var s=this.loc.dtFormatter(r,Object.assign({},this.opts,i));return s.resolvedOptions()},e.num=function(r,i){if(i===void 0&&(i=0),this.opts.forceSimple)return fw(r,i);var s=Object.assign({},this.opts);return i>0&&(s.padTo=i),this.loc.numberFormatter(s).format(r)},e.formatDateTimeFromString=function(r,i){var s=this,o=this.loc.listingMode()==="en",a=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory"&&gO(),l=function(L,q){return s.loc.extract(r,L,q)},f=function(L){return r.isOffsetFixed&&r.offset===0&&L.allowZ?"Z":r.isValid?r.zone.formatOffset(r.ts,L.format):""},p=function(){return o?Sht(r):l({hour:"numeric",hour12:!0},"dayperiod")},_=function(L,q){return o?wht(r,L):l(q?{month:L}:{month:L,day:"numeric"},"month")},b=function(L,q){return o?Cht(r,L):l(q?{weekday:L}:{weekday:L,month:"long",day:"numeric"},"weekday")},R=function(L){var q=n.macroTokenToFormatOpts(L);return q?s.formatWithSystemDefault(r,q):L},O=function(L){return o?Aht(r,L):l({era:L},"era")},j=function(L){switch(L){case"S":return s.num(r.millisecond);case"u":case"SSS":return s.num(r.millisecond,3);case"s":return s.num(r.second);case"ss":return s.num(r.second,2);case"m":return s.num(r.minute);case"mm":return s.num(r.minute,2);case"h":return s.num(r.hour%12===0?12:r.hour%12);case"hh":return s.num(r.hour%12===0?12:r.hour%12,2);case"H":return s.num(r.hour);case"HH":return s.num(r.hour,2);case"Z":return f({format:"narrow",allowZ:s.opts.allowZ});case"ZZ":return f({format:"short",allowZ:s.opts.allowZ});case"ZZZ":return f({format:"techie",allowZ:s.opts.allowZ});case"ZZZZ":return r.zone.offsetName(r.ts,{format:"short",locale:s.loc.locale});case"ZZZZZ":return r.zone.offsetName(r.ts,{format:"long",locale:s.loc.locale});case"z":return r.zoneName;case"a":return p();case"d":return a?l({day:"numeric"},"day"):s.num(r.day);case"dd":return a?l({day:"2-digit"},"day"):s.num(r.day,2);case"c":return s.num(r.weekday);case"ccc":return b("short",!0);case"cccc":return b("long",!0);case"ccccc":return b("narrow",!0);case"E":return s.num(r.weekday);case"EEE":return b("short",!1);case"EEEE":return b("long",!1);case"EEEEE":return b("narrow",!1);case"L":return a?l({month:"numeric",day:"numeric"},"month"):s.num(r.month);case"LL":return a?l({month:"2-digit",day:"numeric"},"month"):s.num(r.month,2);case"LLL":return _("short",!0);case"LLLL":return _("long",!0);case"LLLLL":return _("narrow",!0);case"M":return a?l({month:"numeric"},"month"):s.num(r.month);case"MM":return a?l({month:"2-digit"},"month"):s.num(r.month,2);case"MMM":return _("short",!1);case"MMMM":return _("long",!1);case"MMMMM":return _("narrow",!1);case"y":return a?l({year:"numeric"},"year"):s.num(r.year);case"yy":return a?l({year:"2-digit"},"year"):s.num(r.year.toString().slice(-2),2);case"yyyy":return a?l({year:"numeric"},"year"):s.num(r.year,4);case"yyyyyy":return a?l({year:"numeric"},"year"):s.num(r.year,6);case"G":return O("short");case"GG":return O("long");case"GGGGG":return O("narrow");case"kk":return s.num(r.weekYear.toString().slice(-2),2);case"kkkk":return s.num(r.weekYear,4);case"W":return s.num(r.weekNumber);case"WW":return s.num(r.weekNumber,2);case"o":return s.num(r.ordinal);case"ooo":return s.num(r.ordinal,3);case"q":return s.num(r.quarter);case"qq":return s.num(r.quarter,2);case"X":return s.num(Math.floor(r.ts/1e3));case"x":return s.num(r.ts);default:return R(L)}};return WCe(n.parseFormat(i),j)},e.formatDurationFromString=function(r,i){var s=this,o=function(b){switch(b[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},a=function(b){return function(R){var O=o(R);return O?s.num(b.get(O),R.length):R}},l=n.parseFormat(i),f=l.reduce(function(_,b){var R=b.literal,O=b.val;return R?_:_.concat(O)},[]),p=r.shiftTo.apply(r,f.map(o).filter(function(_){return _}));return WCe(l,a(p))},n}(),jm=function(){function n(t,r){this.reason=t,this.explanation=r}var e=n.prototype;return e.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},n}(),dw=function(){function n(){}var e=n.prototype;return e.offsetName=function(r,i){throw new w4},e.formatOffset=function(r,i){throw new w4},e.offset=function(r){throw new w4},e.equals=function(r){throw new w4},Pm(n,[{key:"type",get:function(){throw new w4}},{key:"name",get:function(){throw new w4}},{key:"universal",get:function(){throw new w4}},{key:"isValid",get:function(){throw new w4}}]),n}(),_ae=null,QCe=function(n){C1(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.offsetName=function(i,s){var o=s.format,a=s.locale;return MCe(i,o,a)},t.formatOffset=function(i,s){return bz(this.offset(i),s)},t.offset=function(i){return-new Date(i).getTimezoneOffset()},t.equals=function(i){return i.type==="local"},Pm(e,[{key:"type",get:function(){return"local"}},{key:"name",get:function(){return Nx()?new Intl.DateTimeFormat().resolvedOptions().timeZone:"local"}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return _ae===null&&(_ae=new e),_ae}}]),e}(dw),Rht=RegExp("^"+BCe.source+"$"),Cz={};function Oht(n){return Cz[n]||(Cz[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Cz[n]}var Nht={year:0,month:1,day:2,hour:3,minute:4,second:5};function Lht(n,e){var t=n.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(t),i=r[1],s=r[2],o=r[3],a=r[4],l=r[5],f=r[6];return[o,i,s,a,l,f]}function kht(n,e){for(var t=n.formatToParts(e),r=[],i=0;i<t.length;i++){var s=t[i],o=s.type,a=s.value,l=Nht[o];aa(l)||(r[l]=parseInt(a,10))}return r}var wz={},kx=function(n){C1(e,n),e.create=function(i){return wz[i]||(wz[i]=new e(i)),wz[i]},e.resetCache=function(){wz={},Cz={}},e.isValidSpecifier=function(i){return!!(i&&i.match(Rht))},e.isValidZone=function(i){try{return new Intl.DateTimeFormat("en-US",{timeZone:i}).format(),!0}catch{return!1}},e.parseGMTOffset=function(i){if(i){var s=i.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i);if(s)return-60*parseInt(s[1])}return null};function e(r){var i;return i=n.call(this)||this,i.zoneName=r,i.valid=e.isValidZone(r),i}var t=e.prototype;return t.offsetName=function(i,s){var o=s.format,a=s.locale;return MCe(i,o,a,this.name)},t.formatOffset=function(i,s){return bz(this.offset(i),s)},t.offset=function(i){var s=new Date(i);if(isNaN(s))return NaN;var o=Oht(this.name),a=o.formatToParts?kht(o,s):Lht(o,s),l=a[0],f=a[1],p=a[2],_=a[3],b=a[4],R=a[5],O=_===24?0:_,j=yae({year:l,month:f,day:p,hour:O,minute:b,second:R,millisecond:0}),$=+s,L=$%1e3;return $-=L>=0?L:1e3+L,(j-$)/(60*1e3)},t.equals=function(i){return i.type==="iana"&&i.name===this.name},Pm(e,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),e}(dw),Eae=null,op=function(n){C1(e,n),e.instance=function(i){return i===0?e.utcInstance:new e(i)},e.parseSpecifier=function(i){if(i){var s=i.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(s)return new e(_z(s[1],s[2]))}return null},Pm(e,null,[{key:"utcInstance",get:function(){return Eae===null&&(Eae=new e(0)),Eae}}]);function e(r){var i;return i=n.call(this)||this,i.fixed=r,i}var t=e.prototype;return t.offsetName=function(){return this.name},t.formatOffset=function(i,s){return bz(this.fixed,s)},t.offset=function(){return this.fixed},t.equals=function(i){return i.type==="fixed"&&i.fixed===this.fixed},Pm(e,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return this.fixed===0?"UTC":"UTC"+bz(this.fixed,"narrow")}},{key:"universal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}]),e}(dw),bae=function(n){C1(e,n);function e(r){var i;return i=n.call(this)||this,i.zoneName=r,i}var t=e.prototype;return t.offsetName=function(){return null},t.formatOffset=function(){return""},t.offset=function(){return NaN},t.equals=function(){return!1},Pm(e,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),e}(dw);function bE(n,e){var t;if(aa(n)||n===null)return e;if(n instanceof dw)return n;if(hht(n)){var r=n.toLowerCase();return r==="local"?e:r==="utc"||r==="gmt"?op.utcInstance:(t=kx.parseGMTOffset(n))!=null?op.instance(t):kx.isValidSpecifier(r)?kx.create(n):op.parseSpecifier(r)||new bae(n)}else return EE(n)?op.instance(n):typeof n=="object"&&n.offset&&typeof n.offset=="number"?n:new bae(n)}var GCe=function(){return Date.now()},Sae=null,YCe=null,KCe=null,JCe=null,XCe=!1,nc=function(){function n(){}return n.resetCaches=function(){Af.resetCache(),kx.resetCache()},Pm(n,null,[{key:"now",get:function(){return GCe},set:function(t){GCe=t}},{key:"defaultZoneName",get:function(){return n.defaultZone.name},set:function(t){t?Sae=bE(t):Sae=null}},{key:"defaultZone",get:function(){return Sae||QCe.instance}},{key:"defaultLocale",get:function(){return YCe},set:function(t){YCe=t}},{key:"defaultNumberingSystem",get:function(){return KCe},set:function(t){KCe=t}},{key:"defaultOutputCalendar",get:function(){return JCe},set:function(t){JCe=t}},{key:"throwOnInvalid",get:function(){return XCe},set:function(t){XCe=t}}]),n}(),Cae={};function wae(n,e){e===void 0&&(e={});var t=JSON.stringify([n,e]),r=Cae[t];return r||(r=new Intl.DateTimeFormat(n,e),Cae[t]=r),r}var Aae={};function Iht(n,e){e===void 0&&(e={});var t=JSON.stringify([n,e]),r=Aae[t];return r||(r=new Intl.NumberFormat(n,e),Aae[t]=r),r}var Tae={};function Mht(n,e){e===void 0&&(e={});var t=e,r=t.base,i=uht(t,["base"]),s=JSON.stringify([n,i]),o=Tae[s];return o||(o=new Intl.RelativeTimeFormat(n,e),Tae[s]=o),o}var SE=null;function Pht(){if(SE)return SE;if(Nx()){var n=new Intl.DateTimeFormat().resolvedOptions().locale;return SE=!n||n==="und"?"en-US":n,SE}else return SE="en-US",SE}function Bht(n){var e=n.indexOf("-u-");if(e===-1)return[n];var t,r=n.substring(0,e);try{t=wae(n).resolvedOptions()}catch{t=wae(r).resolvedOptions()}var i=t,s=i.numberingSystem,o=i.calendar;return[r,s,o]}function jht(n,e,t){return Nx()?((t||e)&&(n+="-u",t&&(n+="-ca-"+t),e&&(n+="-nu-"+e)),n):[]}function qht(n){for(var e=[],t=1;t<=12;t++){var r=Ac.utc(2016,t,1);e.push(n(r))}return e}function Uht(n){for(var e=[],t=1;t<=7;t++){var r=Ac.utc(2016,11,13+t);e.push(n(r))}return e}function Az(n,e,t,r,i){var s=n.listingMode(t);return s==="error"?null:s==="en"?r(e):i(e)}function $ht(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||Nx()&&new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}var zht=function(){function n(t,r,i){if(this.padTo=i.padTo||0,this.floor=i.floor||!1,!r&&Nx()){var s={useGrouping:!1};i.padTo>0&&(s.minimumIntegerDigits=i.padTo),this.inf=Iht(t,s)}}var e=n.prototype;return e.format=function(r){if(this.inf){var i=this.floor?Math.floor(r):r;return this.inf.format(i)}else{var s=this.floor?Math.floor(r):gae(r,3);return fw(s,this.padTo)}},n}(),Hht=function(){function n(t,r,i){this.opts=i,this.hasIntl=Nx();var s;if(t.zone.universal&&this.hasIntl){var o=-1*(t.offset/60),a=o>=0?"Etc/GMT+"+o:"Etc/GMT"+o,l=kx.isValidZone(a);t.offset!==0&&l?(s=a,this.dt=t):(s="UTC",i.timeZoneName?this.dt=t:this.dt=t.offset===0?t:Ac.fromMillis(t.ts+t.offset*60*1e3))}else t.zone.type==="local"?this.dt=t:(this.dt=t,s=t.zone.name);if(this.hasIntl){var f=Object.assign({},this.opts);s&&(f.timeZone=s),this.dtf=wae(r,f)}}var e=n.prototype;return e.format=function(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());var r=Fht(this.opts),i=Af.create("en-US");return Lx.create(i).formatDateTimeFromString(this.dt,r)},e.formatToParts=function(){return this.hasIntl&&gO()?this.dtf.formatToParts(this.dt.toJSDate()):[]},e.resolvedOptions=function(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}},n}(),Vht=function(){function n(t,r,i){this.opts=Object.assign({style:"long"},i),!r&&LCe()&&(this.rtf=Mht(t,i))}var e=n.prototype;return e.format=function(r,i){return this.rtf?this.rtf.format(r,i):Tht(i,r,this.opts.numeric,this.opts.style!=="long")},e.formatToParts=function(r,i){return this.rtf?this.rtf.formatToParts(r,i):[]},n}(),Af=function(){n.fromOpts=function(r){return n.create(r.locale,r.numberingSystem,r.outputCalendar,r.defaultToEN)},n.create=function(r,i,s,o){o===void 0&&(o=!1);var a=r||nc.defaultLocale,l=a||(o?"en-US":Pht()),f=i||nc.defaultNumberingSystem,p=s||nc.defaultOutputCalendar;return new n(l,f,p,a)},n.resetCache=function(){SE=null,Cae={},Aae={},Tae={}},n.fromObject=function(r){var i=r===void 0?{}:r,s=i.locale,o=i.numberingSystem,a=i.outputCalendar;return n.create(s,o,a)};function n(t,r,i,s){var o=Bht(t),a=o[0],l=o[1],f=o[2];this.locale=a,this.numberingSystem=r||l||null,this.outputCalendar=i||f||null,this.intl=jht(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}var e=n.prototype;return e.listingMode=function(r){r===void 0&&(r=!0);var i=Nx(),s=i&&gO(),o=this.isEnglish(),a=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return!s&&!(o&&a)&&!r?"error":!s||o&&a?"en":"intl"},e.clone=function(r){return!r||Object.getOwnPropertyNames(r).length===0?this:n.create(r.locale||this.specifiedLocale,r.numberingSystem||this.numberingSystem,r.outputCalendar||this.outputCalendar,r.defaultToEN||!1)},e.redefaultToEN=function(r){return r===void 0&&(r={}),this.clone(Object.assign({},r,{defaultToEN:!0}))},e.redefaultToSystem=function(r){return r===void 0&&(r={}),this.clone(Object.assign({},r,{defaultToEN:!1}))},e.months=function(r,i,s){var o=this;return i===void 0&&(i=!1),s===void 0&&(s=!0),Az(this,r,s,qCe,function(){var a=i?{month:r,day:"numeric"}:{month:r},l=i?"format":"standalone";return o.monthsCache[l][r]||(o.monthsCache[l][r]=qht(function(f){return o.extract(f,a,"month")})),o.monthsCache[l][r]})},e.weekdays=function(r,i,s){var o=this;return i===void 0&&(i=!1),s===void 0&&(s=!0),Az(this,r,s,zCe,function(){var a=i?{weekday:r,year:"numeric",month:"long",day:"numeric"}:{weekday:r},l=i?"format":"standalone";return o.weekdaysCache[l][r]||(o.weekdaysCache[l][r]=Uht(function(f){return o.extract(f,a,"weekday")})),o.weekdaysCache[l][r]})},e.meridiems=function(r){var i=this;return r===void 0&&(r=!0),Az(this,void 0,r,function(){return HCe},function(){if(!i.meridiemCache){var s={hour:"numeric",hour12:!0};i.meridiemCache=[Ac.utc(2016,11,13,9),Ac.utc(2016,11,13,19)].map(function(o){return i.extract(o,s,"dayperiod")})}return i.meridiemCache})},e.eras=function(r,i){var s=this;return i===void 0&&(i=!0),Az(this,r,i,VCe,function(){var o={era:r};return s.eraCache[r]||(s.eraCache[r]=[Ac.utc(-40,1,1),Ac.utc(2017,1,1)].map(function(a){return s.extract(a,o,"era")})),s.eraCache[r]})},e.extract=function(r,i,s){var o=this.dtFormatter(r,i),a=o.formatToParts(),l=a.find(function(f){return f.type.toLowerCase()===s});return l?l.value:null},e.numberFormatter=function(r){return r===void 0&&(r={}),new zht(this.intl,r.forceSimple||this.fastNumbers,r)},e.dtFormatter=function(r,i){return i===void 0&&(i={}),new Hht(r,this.intl,i)},e.relFormatter=function(r){return r===void 0&&(r={}),new Vht(this.intl,this.isEnglish(),r)},e.isEnglish=function(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||Nx()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},e.equals=function(r){return this.locale===r.locale&&this.numberingSystem===r.numberingSystem&&this.outputCalendar===r.outputCalendar},Pm(n,[{key:"fastNumbers",get:function(){return this.fastNumbersCached==null&&(this.fastNumbersCached=$ht(this)),this.fastNumbersCached}}]),n}();function hw(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=e.reduce(function(i,s){return i+s.source},"");return RegExp("^"+r+"$")}function CE(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return e.reduce(function(i,s){var o=i[0],a=i[1],l=i[2],f=s(r,l),p=f[0],_=f[1],b=f[2];return[Object.assign(o,p),a||_,b]},[{},null,1]).slice(0,2)}}function pw(n){if(n==null)return[null,null];for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(var i=0,s=t;i<s.length;i++){var o=s[i],a=o[0],l=o[1],f=a.exec(n);if(f)return l(f)}return[null,null]}function ZCe(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r,i){var s={},o;for(o=0;o<e.length;o++)s[e[o]]=Nd(r[i+o]);return[s,null,i+o]}}var ewe=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Fae=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,twe=RegExp(""+Fae.source+ewe.source+"?"),Dae=RegExp("(?:T"+twe.source+")?"),Wht=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Qht=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Ght=/(\d{4})-?(\d{3})/,Yht=ZCe("weekYear","weekNumber","weekDay"),Kht=ZCe("year","ordinal"),Jht=/(\d{4})-(\d\d)-(\d\d)/,nwe=RegExp(Fae.source+" ?(?:"+ewe.source+"|("+BCe.source+"))?"),Xht=RegExp("(?: "+nwe.source+")?");function mw(n,e,t){var r=n[e];return aa(r)?t:Nd(r)}function rwe(n,e){var t={year:mw(n,e),month:mw(n,e+1,1),day:mw(n,e+2,1)};return[t,null,e+3]}function wE(n,e){var t={hours:mw(n,e,0),minutes:mw(n,e+1,0),seconds:mw(n,e+2,0),milliseconds:xae(n[e+3])};return[t,null,e+4]}function xw(n,e){var t=!n[e]&&!n[e+1],r=_z(n[e+1],n[e+2]),i=t?null:op.instance(r);return[{},i,e+3]}function iwe(n,e){var t=n[e]?kx.create(n[e]):null;return[{},t,e+1]}var Zht=RegExp("^T?"+Fae.source+"$"),ept=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function tpt(n){var e=n[0],t=n[1],r=n[2],i=n[3],s=n[4],o=n[5],a=n[6],l=n[7],f=n[8],p=e[0]==="-",_=l&&l[0]==="-",b=function(O,j){return j===void 0&&(j=!1),O!==void 0&&(j||O&&p)?-O:O};return[{years:b(Nd(t)),months:b(Nd(r)),weeks:b(Nd(i)),days:b(Nd(s)),hours:b(Nd(o)),minutes:b(Nd(a)),seconds:b(Nd(l),l==="-0"),milliseconds:b(xae(f),_)}]}var npt={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Rae(n,e,t,r,i,s,o){var a={year:e.length===2?vae(Nd(e)):Nd(e),month:jCe.indexOf(t)+1,day:Nd(r),hour:Nd(i),minute:Nd(s)};return o&&(a.second=Nd(o)),n&&(a.weekday=n.length>3?UCe.indexOf(n)+1:$Ce.indexOf(n)+1),a}var rpt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function ipt(n){var e=n[1],t=n[2],r=n[3],i=n[4],s=n[5],o=n[6],a=n[7],l=n[8],f=n[9],p=n[10],_=n[11],b=Rae(e,i,r,t,s,o,a),R;return l?R=npt[l]:f?R=0:R=_z(p,_),[b,new op(R)]}function spt(n){return n.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var opt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,apt=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,upt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function swe(n){var e=n[1],t=n[2],r=n[3],i=n[4],s=n[5],o=n[6],a=n[7],l=Rae(e,i,r,t,s,o,a);return[l,op.utcInstance]}function lpt(n){var e=n[1],t=n[2],r=n[3],i=n[4],s=n[5],o=n[6],a=n[7],l=Rae(e,a,t,r,i,s,o);return[l,op.utcInstance]}var cpt=hw(Wht,Dae),fpt=hw(Qht,Dae),dpt=hw(Ght,Dae),hpt=hw(twe),ppt=CE(rwe,wE,xw),mpt=CE(Yht,wE,xw),xpt=CE(Kht,wE,xw),gpt=CE(wE,xw);function ypt(n){return pw(n,[cpt,ppt],[fpt,mpt],[dpt,xpt],[hpt,gpt])}function vpt(n){return pw(spt(n),[rpt,ipt])}function _pt(n){return pw(n,[opt,swe],[apt,swe],[upt,lpt])}function Ept(n){return pw(n,[ept,tpt])}var bpt=CE(wE);function Spt(n){return pw(n,[Zht,bpt])}var Cpt=hw(Jht,Xht),wpt=hw(nwe),Apt=CE(rwe,wE,xw,iwe),Tpt=CE(wE,xw,iwe);function Fpt(n){return pw(n,[Cpt,Apt],[wpt,Tpt])}var Dpt="Invalid Duration",owe={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Rpt=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},owe),A1=146097/400,gw=146097/4800,Opt=Object.assign({years:{quarters:4,months:12,weeks:A1/7,days:A1,hours:A1*24,minutes:A1*24*60,seconds:A1*24*60*60,milliseconds:A1*24*60*60*1e3},quarters:{months:3,weeks:A1/28,days:A1/4,hours:A1*24/4,minutes:A1*24*60/4,seconds:A1*24*60*60/4,milliseconds:A1*24*60*60*1e3/4},months:{weeks:gw/7,days:gw,hours:gw*24,minutes:gw*24*60,seconds:gw*24*60*60,milliseconds:gw*24*60*60*1e3}},owe),yw=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Npt=yw.slice(0).reverse();function AE(n,e,t){t===void 0&&(t=!1);var r={values:t?e.values:Object.assign({},n.values,e.values||{}),loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy};return new Ld(r)}function Lpt(n){return n<0?Math.floor(n):Math.ceil(n)}function awe(n,e,t,r,i){var s=n[i][t],o=e[t]/s,a=Math.sign(o)===Math.sign(r[i]),l=!a&&r[i]!==0&&Math.abs(o)<=1?Lpt(o):Math.trunc(o);r[i]+=l,e[t]-=l*s}function kpt(n,e){Npt.reduce(function(t,r){return aa(e[r])?t:(t&&awe(n,e,t,e,r),r)},null)}var Ld=function(){function n(t){var r=t.conversionAccuracy==="longterm"||!1;this.values=t.values,this.loc=t.loc||Af.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r?Opt:Rpt,this.isLuxonDuration=!0}n.fromMillis=function(r,i){return n.fromObject(Object.assign({milliseconds:r},i))},n.fromObject=function(r){if(r==null||typeof r!="object")throw new w1("Duration.fromObject: argument expected to be an object, got "+(r===null?"null":typeof r));return new n({values:Ez(r,n.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:Af.fromObject(r),conversionAccuracy:r.conversionAccuracy})},n.fromISO=function(r,i){var s=Ept(r),o=s[0];if(o){var a=Object.assign(o,i);return n.fromObject(a)}else return n.invalid("unparsable",'the input "'+r+`" can't be parsed as ISO 8601`)},n.fromISOTime=function(r,i){var s=Spt(r),o=s[0];if(o){var a=Object.assign(o,i);return n.fromObject(a)}else return n.invalid("unparsable",'the input "'+r+`" can't be parsed as ISO 8601`)},n.invalid=function(r,i){if(i===void 0&&(i=null),!r)throw new w1("need to specify a reason the Duration is invalid");var s=r instanceof jm?r:new jm(r,i);if(nc.throwOnInvalid)throw new dht(s);return new n({invalid:s})},n.normalizeUnit=function(r){var i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[r&&r.toLowerCase()];if(!i)throw new RCe(r);return i},n.isDuration=function(r){return r&&r.isLuxonDuration||!1};var e=n.prototype;return e.toFormat=function(r,i){i===void 0&&(i={});var s=Object.assign({},i,{floor:i.round!==!1&&i.floor!==!1});return this.isValid?Lx.create(this.loc,s).formatDurationFromString(this,r):Dpt},e.toObject=function(r){if(r===void 0&&(r={}),!this.isValid)return{};var i=Object.assign({},this.values);return r.includeConfig&&(i.conversionAccuracy=this.conversionAccuracy,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i},e.toISO=function(){if(!this.isValid)return null;var r="P";return this.years!==0&&(r+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(r+=this.months+this.quarters*3+"M"),this.weeks!==0&&(r+=this.weeks+"W"),this.days!==0&&(r+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(r+="T"),this.hours!==0&&(r+=this.hours+"H"),this.minutes!==0&&(r+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(r+=gae(this.seconds+this.milliseconds/1e3,3)+"S"),r==="P"&&(r+="T0S"),r},e.toISOTime=function(r){if(r===void 0&&(r={}),!this.isValid)return null;var i=this.toMillis();if(i<0||i>=864e5)return null;r=Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},r);var s=this.shiftTo("hours","minutes","seconds","milliseconds"),o=r.format==="basic"?"hhmm":"hh:mm";(!r.suppressSeconds||s.seconds!==0||s.milliseconds!==0)&&(o+=r.format==="basic"?"ss":":ss",(!r.suppressMilliseconds||s.milliseconds!==0)&&(o+=".SSS"));var a=s.toFormat(o);return r.includePrefix&&(a="T"+a),a},e.toJSON=function(){return this.toISO()},e.toString=function(){return this.toISO()},e.toMillis=function(){return this.as("milliseconds")},e.valueOf=function(){return this.toMillis()},e.plus=function(r){if(!this.isValid)return this;for(var i=TE(r),s={},o=C4(yw),a;!(a=o()).done;){var l=a.value;(cw(i.values,l)||cw(this.values,l))&&(s[l]=i.get(l)+this.get(l))}return AE(this,{values:s},!0)},e.minus=function(r){if(!this.isValid)return this;var i=TE(r);return this.plus(i.negate())},e.mapUnits=function(r){if(!this.isValid)return this;for(var i={},s=0,o=Object.keys(this.values);s<o.length;s++){var a=o[s];i[a]=PCe(r(this.values[a],a))}return AE(this,{values:i},!0)},e.get=function(r){return this[n.normalizeUnit(r)]},e.set=function(r){if(!this.isValid)return this;var i=Object.assign(this.values,Ez(r,n.normalizeUnit,[]));return AE(this,{values:i})},e.reconfigure=function(r){var i=r===void 0?{}:r,s=i.locale,o=i.numberingSystem,a=i.conversionAccuracy,l=this.loc.clone({locale:s,numberingSystem:o}),f={loc:l};return a&&(f.conversionAccuracy=a),AE(this,f)},e.as=function(r){return this.isValid?this.shiftTo(r).get(r):NaN},e.normalize=function(){if(!this.isValid)return this;var r=this.toObject();return kpt(this.matrix,r),AE(this,{values:r},!0)},e.shiftTo=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(!this.isValid)return this;if(i.length===0)return this;i=i.map(function(q){return n.normalizeUnit(q)});for(var o={},a={},l=this.toObject(),f,p=C4(yw),_;!(_=p()).done;){var b=_.value;if(i.indexOf(b)>=0){f=b;var R=0;for(var O in a)R+=this.matrix[O][b]*a[O],a[O]=0;EE(l[b])&&(R+=l[b]);var j=Math.trunc(R);o[b]=j,a[b]=R-j;for(var $ in l)yw.indexOf($)>yw.indexOf(b)&&awe(this.matrix,l,$,o,b)}else EE(l[b])&&(a[b]=l[b])}for(var L in a)a[L]!==0&&(o[f]+=L===f?a[L]:a[L]/this.matrix[f][L]);return AE(this,{values:o},!0).normalize()},e.negate=function(){if(!this.isValid)return this;for(var r={},i=0,s=Object.keys(this.values);i<s.length;i++){var o=s[i];r[o]=-this.values[o]}return AE(this,{values:r},!0)},e.equals=function(r){if(!this.isValid||!r.isValid||!this.loc.equals(r.loc))return!1;function i(l,f){return l===void 0||l===0?f===void 0||f===0:l===f}for(var s=C4(yw),o;!(o=s()).done;){var a=o.value;if(!i(this.values[a],r.values[a]))return!1}return!0},Pm(n,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return this.invalid===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),n}();function TE(n){if(EE(n))return Ld.fromMillis(n);if(Ld.isDuration(n))return n;if(typeof n=="object")return Ld.fromObject(n);throw new w1("Unknown duration argument "+n+" of type "+typeof n)}var _O="Invalid Interval";function Ipt(n,e){return!n||!n.isValid?EO.invalid("missing or invalid start"):!e||!e.isValid?EO.invalid("missing or invalid end"):e<n?EO.invalid("end before start","The end of an interval must be after its start, but you had start="+n.toISO()+" and end="+e.toISO()):null}var EO=function(){function n(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}n.invalid=function(r,i){if(i===void 0&&(i=null),!r)throw new w1("need to specify a reason the Interval is invalid");var s=r instanceof jm?r:new jm(r,i);if(nc.throwOnInvalid)throw new fht(s);return new n({invalid:s})},n.fromDateTimes=function(r,i){var s=wO(r),o=wO(i),a=Ipt(s,o);return a??new n({start:s,end:o})},n.after=function(r,i){var s=TE(i),o=wO(r);return n.fromDateTimes(o,o.plus(s))},n.before=function(r,i){var s=TE(i),o=wO(r);return n.fromDateTimes(o.minus(s),o)},n.fromISO=function(r,i){var s=(r||"").split("/",2),o=s[0],a=s[1];if(o&&a){var l,f;try{l=Ac.fromISO(o,i),f=l.isValid}catch{f=!1}var p,_;try{p=Ac.fromISO(a,i),_=p.isValid}catch{_=!1}if(f&&_)return n.fromDateTimes(l,p);if(f){var b=Ld.fromISO(a,i);if(b.isValid)return n.after(l,b)}else if(_){var R=Ld.fromISO(o,i);if(R.isValid)return n.before(p,R)}}return n.invalid("unparsable",'the input "'+r+`" can't be parsed as ISO 8601`)},n.isInterval=function(r){return r&&r.isLuxonInterval||!1};var e=n.prototype;return e.length=function(r){return r===void 0&&(r="milliseconds"),this.isValid?this.toDuration.apply(this,[r]).get(r):NaN},e.count=function(r){if(r===void 0&&(r="milliseconds"),!this.isValid)return NaN;var i=this.start.startOf(r),s=this.end.startOf(r);return Math.floor(s.diff(i,r).get(r))+1},e.hasSame=function(r){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,r):!1},e.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},e.isAfter=function(r){return this.isValid?this.s>r:!1},e.isBefore=function(r){return this.isValid?this.e<=r:!1},e.contains=function(r){return this.isValid?this.s<=r&&this.e>r:!1},e.set=function(r){var i=r===void 0?{}:r,s=i.start,o=i.end;return this.isValid?n.fromDateTimes(s||this.s,o||this.e):this},e.splitAt=function(){var r=this;if(!this.isValid)return[];for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];for(var a=s.map(wO).filter(function(R){return r.contains(R)}).sort(),l=[],f=this.s,p=0;f<this.e;){var _=a[p]||this.e,b=+_>+this.e?this.e:_;l.push(n.fromDateTimes(f,b)),f=b,p+=1}return l},e.splitBy=function(r){var i=TE(r);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];for(var s=this.s,o=1,a,l=[];s<this.e;){var f=this.start.plus(i.mapUnits(function(p){return p*o}));a=+f>+this.e?this.e:f,l.push(n.fromDateTimes(s,a)),s=a,o+=1}return l},e.divideEqually=function(r){return this.isValid?this.splitBy(this.length()/r).slice(0,r):[]},e.overlaps=function(r){return this.e>r.s&&this.s<r.e},e.abutsStart=function(r){return this.isValid?+this.e==+r.s:!1},e.abutsEnd=function(r){return this.isValid?+r.e==+this.s:!1},e.engulfs=function(r){return this.isValid?this.s<=r.s&&this.e>=r.e:!1},e.equals=function(r){return!this.isValid||!r.isValid?!1:this.s.equals(r.s)&&this.e.equals(r.e)},e.intersection=function(r){if(!this.isValid)return this;var i=this.s>r.s?this.s:r.s,s=this.e<r.e?this.e:r.e;return i>=s?null:n.fromDateTimes(i,s)},e.union=function(r){if(!this.isValid)return this;var i=this.s<r.s?this.s:r.s,s=this.e>r.e?this.e:r.e;return n.fromDateTimes(i,s)},n.merge=function(r){var i=r.sort(function(a,l){return a.s-l.s}).reduce(function(a,l){var f=a[0],p=a[1];return p?p.overlaps(l)||p.abutsStart(l)?[f,p.union(l)]:[f.concat([p]),l]:[f,l]},[[],null]),s=i[0],o=i[1];return o&&s.push(o),s},n.xor=function(r){for(var i,s=null,o=0,a=[],l=r.map(function(O){return[{time:O.s,type:"s"},{time:O.e,type:"e"}]}),f=(i=Array.prototype).concat.apply(i,l),p=f.sort(function(O,j){return O.time-j.time}),_=C4(p),b;!(b=_()).done;){var R=b.value;o+=R.type==="s"?1:-1,o===1?s=R.time:(s&&+s!=+R.time&&a.push(n.fromDateTimes(s,R.time)),s=null)}return n.merge(a)},e.difference=function(){for(var r=this,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n.xor([this].concat(s)).map(function(a){return r.intersection(a)}).filter(function(a){return a&&!a.isEmpty()})},e.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":_O},e.toISO=function(r){return this.isValid?this.s.toISO(r)+"/"+this.e.toISO(r):_O},e.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():_O},e.toISOTime=function(r){return this.isValid?this.s.toISOTime(r)+"/"+this.e.toISOTime(r):_O},e.toFormat=function(r,i){var s=i===void 0?{}:i,o=s.separator,a=o===void 0?" \u2013 ":o;return this.isValid?""+this.s.toFormat(r)+a+this.e.toFormat(r):_O},e.toDuration=function(r,i){return this.isValid?this.e.diff(this.s,r,i):Ld.invalid(this.invalidReason)},e.mapEndpoints=function(r){return n.fromDateTimes(r(this.s),r(this.e))},Pm(n,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return this.invalidReason===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),n}(),bO=function(){function n(){}return n.hasDST=function(t){t===void 0&&(t=nc.defaultZone);var r=Ac.now().setZone(t).set({month:12});return!t.universal&&r.offset!==r.set({month:6}).offset},n.isValidIANAZone=function(t){return kx.isValidSpecifier(t)&&kx.isValidZone(t)},n.normalizeZone=function(t){return bE(t,nc.defaultZone)},n.months=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,l=a===void 0?null:a,f=i.locObj,p=f===void 0?null:f,_=i.outputCalendar,b=_===void 0?"gregory":_;return(p||Af.create(o,l,b)).months(t)},n.monthsFormat=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,l=a===void 0?null:a,f=i.locObj,p=f===void 0?null:f,_=i.outputCalendar,b=_===void 0?"gregory":_;return(p||Af.create(o,l,b)).months(t,!0)},n.weekdays=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,l=a===void 0?null:a,f=i.locObj,p=f===void 0?null:f;return(p||Af.create(o,l,null)).weekdays(t)},n.weekdaysFormat=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,l=a===void 0?null:a,f=i.locObj,p=f===void 0?null:f;return(p||Af.create(o,l,null)).weekdays(t,!0)},n.meridiems=function(t){var r=t===void 0?{}:t,i=r.locale,s=i===void 0?null:i;return Af.create(s).meridiems()},n.eras=function(t,r){t===void 0&&(t="short");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s;return Af.create(o,null,"gregory").eras(t)},n.features=function(){var t=!1,r=!1,i=!1,s=!1;if(Nx()){t=!0,r=gO(),s=LCe();try{i=new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone==="America/New_York"}catch{i=!1}}return{intl:t,intlTokens:r,zones:i,relative:s}},n}();function uwe(n,e){var t=function(s){return s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},r=t(e)-t(n);return Math.floor(Ld.fromMillis(r).as("days"))}function Mpt(n,e,t){for(var r=[["years",function(j,$){return $.year-j.year}],["quarters",function(j,$){return $.quarter-j.quarter}],["months",function(j,$){return $.month-j.month+($.year-j.year)*12}],["weeks",function(j,$){var L=uwe(j,$);return(L-L%7)/7}],["days",uwe]],i={},s,o,a=0,l=r;a<l.length;a++){var f=l[a],p=f[0],_=f[1];if(t.indexOf(p)>=0){var b;s=p;var R=_(n,e);if(o=n.plus((b={},b[p]=R,b)),o>e){var O;n=n.plus((O={},O[p]=R-1,O)),R-=1}else n=o;i[p]=R}}return[n,i,o,s]}function Ppt(n,e,t,r){var i=Mpt(n,e,t),s=i[0],o=i[1],a=i[2],l=i[3],f=e-s,p=t.filter(function(O){return["hours","minutes","seconds","milliseconds"].indexOf(O)>=0});if(p.length===0){if(a<e){var _;a=s.plus((_={},_[l]=1,_))}a!==s&&(o[l]=(o[l]||0)+f/(a-s))}var b=Ld.fromObject(Object.assign(o,r));if(p.length>0){var R;return(R=Ld.fromMillis(f,r)).shiftTo.apply(R,p).plus(b)}else return b}var Oae={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},lwe={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Bpt=Oae.hanidec.replace(/[\[|\]]/g,"").split("");function jpt(n){var e=parseInt(n,10);if(isNaN(e)){e="";for(var t=0;t<n.length;t++){var r=n.charCodeAt(t);if(n[t].search(Oae.hanidec)!==-1)e+=Bpt.indexOf(n[t]);else for(var i in lwe){var s=lwe[i],o=s[0],a=s[1];r>=o&&r<=a&&(e+=r-o)}}return parseInt(e,10)}else return e}function qm(n,e){var t=n.numberingSystem;return e===void 0&&(e=""),new RegExp(""+Oae[t||"latn"]+e)}var qpt="missing Intl.DateTimeFormat.formatToParts support";function wa(n,e){return e===void 0&&(e=function(r){return r}),{regex:n,deser:function(r){var i=r[0];return e(jpt(i))}}}var Upt=String.fromCharCode(160),cwe="( |"+Upt+")",fwe=new RegExp(cwe,"g");function $pt(n){return n.replace(/\./g,"\\.?").replace(fwe,cwe)}function dwe(n){return n.replace(/\./g,"").replace(fwe," ").toLowerCase()}function Um(n,e){return n===null?null:{regex:RegExp(n.map($pt).join("|")),deser:function(r){var i=r[0];return n.findIndex(function(s){return dwe(i)===dwe(s)})+e}}}function hwe(n,e){return{regex:n,deser:function(r){var i=r[1],s=r[2];return _z(i,s)},groups:e}}function pwe(n){return{regex:n,deser:function(t){var r=t[0];return r}}}function zpt(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Hpt(n,e){var t=qm(e),r=qm(e,"{2}"),i=qm(e,"{3}"),s=qm(e,"{4}"),o=qm(e,"{6}"),a=qm(e,"{1,2}"),l=qm(e,"{1,3}"),f=qm(e,"{1,6}"),p=qm(e,"{1,9}"),_=qm(e,"{2,4}"),b=qm(e,"{4,6}"),R=function(L){return{regex:RegExp(zpt(L.val)),deser:function(P){var W=P[0];return W},literal:!0}},O=function(L){if(n.literal)return R(L);switch(L.val){case"G":return Um(e.eras("short",!1),0);case"GG":return Um(e.eras("long",!1),0);case"y":return wa(f);case"yy":return wa(_,vae);case"yyyy":return wa(s);case"yyyyy":return wa(b);case"yyyyyy":return wa(o);case"M":return wa(a);case"MM":return wa(r);case"MMM":return Um(e.months("short",!0,!1),1);case"MMMM":return Um(e.months("long",!0,!1),1);case"L":return wa(a);case"LL":return wa(r);case"LLL":return Um(e.months("short",!1,!1),1);case"LLLL":return Um(e.months("long",!1,!1),1);case"d":return wa(a);case"dd":return wa(r);case"o":return wa(l);case"ooo":return wa(i);case"HH":return wa(r);case"H":return wa(a);case"hh":return wa(r);case"h":return wa(a);case"mm":return wa(r);case"m":return wa(a);case"q":return wa(a);case"qq":return wa(r);case"s":return wa(a);case"ss":return wa(r);case"S":return wa(l);case"SSS":return wa(i);case"u":return pwe(p);case"a":return Um(e.meridiems(),0);case"kkkk":return wa(s);case"kk":return wa(_,vae);case"W":return wa(a);case"WW":return wa(r);case"E":case"c":return wa(t);case"EEE":return Um(e.weekdays("short",!1,!1),1);case"EEEE":return Um(e.weekdays("long",!1,!1),1);case"ccc":return Um(e.weekdays("short",!0,!1),1);case"cccc":return Um(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return hwe(new RegExp("([+-]"+a.source+")(?::("+r.source+"))?"),2);case"ZZZ":return hwe(new RegExp("([+-]"+a.source+")("+r.source+")?"),2);case"z":return pwe(/[a-z_+-/]{1,256}?/i);default:return R(L)}},j=O(n)||{invalidReason:qpt};return j.token=n,j}var Vpt={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function Wpt(n,e,t){var r=n.type,i=n.value;if(r==="literal")return{literal:!0,val:i};var s=t[r],o=Vpt[r];if(typeof o=="object"&&(o=o[s]),o)return{literal:!1,val:o}}function Qpt(n){var e=n.map(function(t){return t.regex}).reduce(function(t,r){return t+"("+r.source+")"},"");return["^"+e+"$",n]}function Gpt(n,e,t){var r=n.match(e);if(r){var i={},s=1;for(var o in t)if(cw(t,o)){var a=t[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(r.slice(s,s+l))),s+=l}return[r,i]}else return[r,{}]}function Ypt(n){var e=function(s){switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},t;aa(n.Z)?aa(n.z)?t=null:t=kx.create(n.z):t=new op(n.Z),aa(n.q)||(n.M=(n.q-1)*3+1),aa(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),aa(n.u)||(n.S=xae(n.u));var r=Object.keys(n).reduce(function(i,s){var o=e(s);return o&&(i[o]=n[s]),i},{});return[r,t]}var Nae=null;function Kpt(){return Nae||(Nae=Ac.fromMillis(1555555555555)),Nae}function Jpt(n,e){if(n.literal)return n;var t=Lx.macroTokenToFormatOpts(n.val);if(!t)return n;var r=Lx.create(e,t),i=r.formatDateTimeParts(Kpt()),s=i.map(function(o){return Wpt(o,e,t)});return s.includes(void 0)?n:s}function Xpt(n,e){var t;return(t=Array.prototype).concat.apply(t,n.map(function(r){return Jpt(r,e)}))}function mwe(n,e,t){var r=Xpt(Lx.parseFormat(t),n),i=r.map(function($){return Hpt($,n)}),s=i.find(function($){return $.invalidReason});if(s)return{input:e,tokens:r,invalidReason:s.invalidReason};var o=Qpt(i),a=o[0],l=o[1],f=RegExp(a,"i"),p=Gpt(e,f,l),_=p[0],b=p[1],R=b?Ypt(b):[null,null],O=R[0],j=R[1];if(cw(b,"a")&&cw(b,"H"))throw new xO("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:f,rawMatches:_,matches:b,result:O,zone:j}}function Zpt(n,e,t){var r=mwe(n,e,t),i=r.result,s=r.zone,o=r.invalidReason;return[i,s,o]}var xwe=[0,31,59,90,120,151,181,212,243,273,304,334],gwe=[0,31,60,91,121,152,182,213,244,274,305,335];function T1(n,e){return new jm("unit out of range","you specified "+e+" (of type "+typeof e+") as a "+n+", which is invalid")}function ywe(n,e,t){var r=new Date(Date.UTC(n,e-1,t)).getUTCDay();return r===0?7:r}function vwe(n,e,t){return t+(yO(n)?gwe:xwe)[e-1]}function _we(n,e){var t=yO(n)?gwe:xwe,r=t.findIndex(function(s){return s<e}),i=e-t[r];return{month:r+1,day:i}}function Lae(n){var e=n.year,t=n.month,r=n.day,i=vwe(e,t,r),s=ywe(e,t,r),o=Math.floor((i-s+10)/7),a;return o<1?(a=e-1,o=vz(a)):o>vz(e)?(a=e+1,o=1):a=e,Object.assign({weekYear:a,weekNumber:o,weekday:s},Sz(n))}function Ewe(n){var e=n.weekYear,t=n.weekNumber,r=n.weekday,i=ywe(e,1,4),s=vO(e),o=t*7+r-i-3,a;o<1?(a=e-1,o+=vO(a)):o>s?(a=e+1,o-=vO(e)):a=e;var l=_we(a,o),f=l.month,p=l.day;return Object.assign({year:a,month:f,day:p},Sz(n))}function kae(n){var e=n.year,t=n.month,r=n.day,i=vwe(e,t,r);return Object.assign({year:e,ordinal:i},Sz(n))}function bwe(n){var e=n.year,t=n.ordinal,r=_we(e,t),i=r.month,s=r.day;return Object.assign({year:e,month:i,day:s},Sz(n))}function e1t(n){var e=gz(n.weekYear),t=Fy(n.weekNumber,1,vz(n.weekYear)),r=Fy(n.weekday,1,7);return e?t?r?!1:T1("weekday",n.weekday):T1("week",n.week):T1("weekYear",n.weekYear)}function t1t(n){var e=gz(n.year),t=Fy(n.ordinal,1,vO(n.year));return e?t?!1:T1("ordinal",n.ordinal):T1("year",n.year)}function Swe(n){var e=gz(n.year),t=Fy(n.month,1,12),r=Fy(n.day,1,yz(n.year,n.month));return e?t?r?!1:T1("day",n.day):T1("month",n.month):T1("year",n.year)}function Cwe(n){var e=n.hour,t=n.minute,r=n.second,i=n.millisecond,s=Fy(e,0,23)||e===24&&t===0&&r===0&&i===0,o=Fy(t,0,59),a=Fy(r,0,59),l=Fy(i,0,999);return s?o?a?l?!1:T1("millisecond",i):T1("second",r):T1("minute",t):T1("hour",e)}var Iae="Invalid DateTime",wwe=864e13;function Tz(n){return new jm("unsupported zone",'the zone "'+n.name+'" is not supported')}function Mae(n){return n.weekData===null&&(n.weekData=Lae(n.c)),n.weekData}function SO(n,e){var t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new Ac(Object.assign({},t,e,{old:t}))}function Awe(n,e,t){var r=n-e*60*1e3,i=t.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;var s=t.offset(r);return i===s?[r,i]:[n-Math.min(i,s)*60*1e3,Math.max(i,s)]}function Twe(n,e){n+=e*60*1e3;var t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function Fz(n,e,t){return Awe(yae(n),e,t)}function Fwe(n,e){var t=n.o,r=n.c.year+Math.trunc(e.years),i=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s=Object.assign({},n.c,{year:r,month:i,day:Math.min(n.c.day,yz(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7}),o=Ld.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=yae(s),l=Awe(a,t,n.zone),f=l[0],p=l[1];return o!==0&&(f+=o,p=n.zone.offset(f)),{ts:f,o:p}}function CO(n,e,t,r,i){var s=t.setZone,o=t.zone;if(n&&Object.keys(n).length!==0){var a=e||o,l=Ac.fromObject(Object.assign(n,t,{zone:a,setZone:void 0}));return s?l:l.setZone(o)}else return Ac.invalid(new jm("unparsable",'the input "'+i+`" can't be parsed as `+r))}function vw(n,e,t){return t===void 0&&(t=!0),n.isValid?Lx.create(Af.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function Dwe(n,e){var t=e.suppressSeconds,r=t===void 0?!1:t,i=e.suppressMilliseconds,s=i===void 0?!1:i,o=e.includeOffset,a=e.includePrefix,l=a===void 0?!1:a,f=e.includeZone,p=f===void 0?!1:f,_=e.spaceZone,b=_===void 0?!1:_,R=e.format,O=R===void 0?"extended":R,j=O==="basic"?"HHmm":"HH:mm";(!r||n.second!==0||n.millisecond!==0)&&(j+=O==="basic"?"ss":":ss",(!s||n.millisecond!==0)&&(j+=".SSS")),(p||o)&&b&&(j+=" "),p?j+="z":o&&(j+=O==="basic"?"ZZZ":"ZZ");var $=vw(n,j);return l&&($="T"+$),$}var Rwe={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},n1t={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},r1t={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Owe=["year","month","day","hour","minute","second","millisecond"],i1t=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],s1t=["year","ordinal","hour","minute","second","millisecond"];function Nwe(n){var e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new RCe(n);return e}function Lwe(n,e){for(var t=C4(Owe),r;!(r=t()).done;){var i=r.value;aa(n[i])&&(n[i]=Rwe[i])}var s=Swe(n)||Cwe(n);if(s)return Ac.invalid(s);var o=nc.now(),a=e.offset(o),l=Fz(n,a,e),f=l[0],p=l[1];return new Ac({ts:f,zone:e,o:p})}function kwe(n,e,t){var r=aa(t.round)?!0:t.round,i=function(_,b){_=gae(_,r||t.calendary?0:2,!0);var R=e.loc.clone(t).relFormatter(t);return R.format(_,b)},s=function(_){return t.calendary?e.hasSame(n,_)?0:e.startOf(_).diff(n.startOf(_),_).get(_):e.diff(n,_).get(_)};if(t.unit)return i(s(t.unit),t.unit);for(var o=C4(t.units),a;!(a=o()).done;){var l=a.value,f=s(l);if(Math.abs(f)>=1)return i(f,l)}return i(n>e?-0:0,t.units[t.units.length-1])}var Ac=function(){function n(t){var r=t.zone||nc.defaultZone,i=t.invalid||(Number.isNaN(t.ts)?new jm("invalid input"):null)||(r.isValid?null:Tz(r));this.ts=aa(t.ts)?nc.now():t.ts;var s=null,o=null;if(!i){var a=t.old&&t.old.ts===this.ts&&t.old.zone.equals(r);if(a){var l=[t.old.c,t.old.o];s=l[0],o=l[1]}else{var f=r.offset(this.ts);s=Twe(this.ts,f),i=Number.isNaN(s.year)?new jm("invalid input"):null,s=i?null:s,o=i?null:f}}this._zone=r,this.loc=t.loc||Af.create(),this.invalid=i,this.weekData=null,this.c=s,this.o=o,this.isLuxonDateTime=!0}n.now=function(){return new n({})},n.local=function(r,i,s,o,a,l,f){return aa(r)?n.now():Lwe({year:r,month:i,day:s,hour:o,minute:a,second:l,millisecond:f},nc.defaultZone)},n.utc=function(r,i,s,o,a,l,f){return aa(r)?new n({ts:nc.now(),zone:op.utcInstance}):Lwe({year:r,month:i,day:s,hour:o,minute:a,second:l,millisecond:f},op.utcInstance)},n.fromJSDate=function(r,i){i===void 0&&(i={});var s=pht(r)?r.valueOf():NaN;if(Number.isNaN(s))return n.invalid("invalid input");var o=bE(i.zone,nc.defaultZone);return o.isValid?new n({ts:s,zone:o,loc:Af.fromObject(i)}):n.invalid(Tz(o))},n.fromMillis=function(r,i){if(i===void 0&&(i={}),EE(r))return r<-wwe||r>wwe?n.invalid("Timestamp out of range"):new n({ts:r,zone:bE(i.zone,nc.defaultZone),loc:Af.fromObject(i)});throw new w1("fromMillis requires a numerical input, but received a "+typeof r+" with value "+r)},n.fromSeconds=function(r,i){if(i===void 0&&(i={}),EE(r))return new n({ts:r*1e3,zone:bE(i.zone,nc.defaultZone),loc:Af.fromObject(i)});throw new w1("fromSeconds requires a numerical input")},n.fromObject=function(r){var i=bE(r.zone,nc.defaultZone);if(!i.isValid)return n.invalid(Tz(i));var s=nc.now(),o=i.offset(s),a=Ez(r,Nwe,["zone","locale","outputCalendar","numberingSystem"]),l=!aa(a.ordinal),f=!aa(a.year),p=!aa(a.month)||!aa(a.day),_=f||p,b=a.weekYear||a.weekNumber,R=Af.fromObject(r);if((_||l)&&b)throw new xO("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&l)throw new xO("Can't mix ordinal dates with month/day");var O=b||a.weekday&&!_,j,$,L=Twe(s,o);O?(j=i1t,$=n1t,L=Lae(L)):l?(j=s1t,$=r1t,L=kae(L)):(j=Owe,$=Rwe);for(var q=!1,P=C4(j),W;!(W=P()).done;){var oe=W.value,I=a[oe];aa(I)?q?a[oe]=$[oe]:a[oe]=L[oe]:q=!0}var J=O?e1t(a):l?t1t(a):Swe(a),he=J||Cwe(a);if(he)return n.invalid(he);var ye=O?Ewe(a):l?bwe(a):a,He=Fz(ye,o,i),at=He[0],ct=He[1],Ze=new n({ts:at,zone:i,o:ct,loc:R});return a.weekday&&_&&r.weekday!==Ze.weekday?n.invalid("mismatched weekday","you can't specify both a weekday of "+a.weekday+" and a date of "+Ze.toISO()):Ze},n.fromISO=function(r,i){i===void 0&&(i={});var s=ypt(r),o=s[0],a=s[1];return CO(o,a,i,"ISO 8601",r)},n.fromRFC2822=function(r,i){i===void 0&&(i={});var s=vpt(r),o=s[0],a=s[1];return CO(o,a,i,"RFC 2822",r)},n.fromHTTP=function(r,i){i===void 0&&(i={});var s=_pt(r),o=s[0],a=s[1];return CO(o,a,i,"HTTP",i)},n.fromFormat=function(r,i,s){if(s===void 0&&(s={}),aa(r)||aa(i))throw new w1("fromFormat requires an input string and a format");var o=s,a=o.locale,l=a===void 0?null:a,f=o.numberingSystem,p=f===void 0?null:f,_=Af.fromOpts({locale:l,numberingSystem:p,defaultToEN:!0}),b=Zpt(_,r,i),R=b[0],O=b[1],j=b[2];return j?n.invalid(j):CO(R,O,s,"format "+i,r)},n.fromString=function(r,i,s){return s===void 0&&(s={}),n.fromFormat(r,i,s)},n.fromSQL=function(r,i){i===void 0&&(i={});var s=Fpt(r),o=s[0],a=s[1];return CO(o,a,i,"SQL",r)},n.invalid=function(r,i){if(i===void 0&&(i=null),!r)throw new w1("need to specify a reason the DateTime is invalid");var s=r instanceof jm?r:new jm(r,i);if(nc.throwOnInvalid)throw new cht(s);return new n({invalid:s})},n.isDateTime=function(r){return r&&r.isLuxonDateTime||!1};var e=n.prototype;return e.get=function(r){return this[r]},e.resolvedLocaleOpts=function(r){r===void 0&&(r={});var i=Lx.create(this.loc.clone(r),r).resolvedOptions(this),s=i.locale,o=i.numberingSystem,a=i.calendar;return{locale:s,numberingSystem:o,outputCalendar:a}},e.toUTC=function(r,i){return r===void 0&&(r=0),i===void 0&&(i={}),this.setZone(op.instance(r),i)},e.toLocal=function(){return this.setZone(nc.defaultZone)},e.setZone=function(r,i){var s=i===void 0?{}:i,o=s.keepLocalTime,a=o===void 0?!1:o,l=s.keepCalendarTime,f=l===void 0?!1:l;if(r=bE(r,nc.defaultZone),r.equals(this.zone))return this;if(r.isValid){var p=this.ts;if(a||f){var _=r.offset(this.ts),b=this.toObject(),R=Fz(b,_,r);p=R[0]}return SO(this,{ts:p,zone:r})}else return n.invalid(Tz(r))},e.reconfigure=function(r){var i=r===void 0?{}:r,s=i.locale,o=i.numberingSystem,a=i.outputCalendar,l=this.loc.clone({locale:s,numberingSystem:o,outputCalendar:a});return SO(this,{loc:l})},e.setLocale=function(r){return this.reconfigure({locale:r})},e.set=function(r){if(!this.isValid)return this;var i=Ez(r,Nwe,[]),s=!aa(i.weekYear)||!aa(i.weekNumber)||!aa(i.weekday),o=!aa(i.ordinal),a=!aa(i.year),l=!aa(i.month)||!aa(i.day),f=a||l,p=i.weekYear||i.weekNumber;if((f||o)&&p)throw new xO("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new xO("Can't mix ordinal dates with month/day");var _;s?_=Ewe(Object.assign(Lae(this.c),i)):aa(i.ordinal)?(_=Object.assign(this.toObject(),i),aa(i.day)&&(_.day=Math.min(yz(_.year,_.month),_.day))):_=bwe(Object.assign(kae(this.c),i));var b=Fz(_,this.o,this.zone),R=b[0],O=b[1];return SO(this,{ts:R,o:O})},e.plus=function(r){if(!this.isValid)return this;var i=TE(r);return SO(this,Fwe(this,i))},e.minus=function(r){if(!this.isValid)return this;var i=TE(r).negate();return SO(this,Fwe(this,i))},e.startOf=function(r){if(!this.isValid)return this;var i={},s=Ld.normalizeUnit(r);switch(s){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(s==="weeks"&&(i.weekday=1),s==="quarters"){var o=Math.ceil(this.month/3);i.month=(o-1)*3+1}return this.set(i)},e.endOf=function(r){var i;return this.isValid?this.plus((i={},i[r]=1,i)).startOf(r).minus(1):this},e.toFormat=function(r,i){return i===void 0&&(i={}),this.isValid?Lx.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,r):Iae},e.toLocaleString=function(r){return r===void 0&&(r=xz),this.isValid?Lx.create(this.loc.clone(r),r).formatDateTime(this):Iae},e.toLocaleParts=function(r){return r===void 0&&(r={}),this.isValid?Lx.create(this.loc.clone(r),r).formatDateTimeParts(this):[]},e.toISO=function(r){return r===void 0&&(r={}),this.isValid?this.toISODate(r)+"T"+this.toISOTime(r):null},e.toISODate=function(r){var i=r===void 0?{}:r,s=i.format,o=s===void 0?"extended":s,a=o==="basic"?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(a="+"+a),vw(this,a)},e.toISOWeekDate=function(){return vw(this,"kkkk-'W'WW-c")},e.toISOTime=function(r){var i=r===void 0?{}:r,s=i.suppressMilliseconds,o=s===void 0?!1:s,a=i.suppressSeconds,l=a===void 0?!1:a,f=i.includeOffset,p=f===void 0?!0:f,_=i.includePrefix,b=_===void 0?!1:_,R=i.format,O=R===void 0?"extended":R;return Dwe(this,{suppressSeconds:l,suppressMilliseconds:o,includeOffset:p,includePrefix:b,format:O})},e.toRFC2822=function(){return vw(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},e.toHTTP=function(){return vw(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},e.toSQLDate=function(){return vw(this,"yyyy-MM-dd")},e.toSQLTime=function(r){var i=r===void 0?{}:r,s=i.includeOffset,o=s===void 0?!0:s,a=i.includeZone,l=a===void 0?!1:a;return Dwe(this,{includeOffset:o,includeZone:l,spaceZone:!0})},e.toSQL=function(r){return r===void 0&&(r={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(r):null},e.toString=function(){return this.isValid?this.toISO():Iae},e.valueOf=function(){return this.toMillis()},e.toMillis=function(){return this.isValid?this.ts:NaN},e.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},e.toJSON=function(){return this.toISO()},e.toBSON=function(){return this.toJSDate()},e.toObject=function(r){if(r===void 0&&(r={}),!this.isValid)return{};var i=Object.assign({},this.c);return r.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i},e.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},e.diff=function(r,i,s){if(i===void 0&&(i="milliseconds"),s===void 0&&(s={}),!this.isValid||!r.isValid)return Ld.invalid(this.invalid||r.invalid,"created by diffing an invalid DateTime");var o=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},s),a=mht(i).map(Ld.normalizeUnit),l=r.valueOf()>this.valueOf(),f=l?this:r,p=l?r:this,_=Ppt(f,p,a,o);return l?_.negate():_},e.diffNow=function(r,i){return r===void 0&&(r="milliseconds"),i===void 0&&(i={}),this.diff(n.now(),r,i)},e.until=function(r){return this.isValid?EO.fromDateTimes(this,r):this},e.hasSame=function(r,i){if(!this.isValid)return!1;var s=r.valueOf(),o=this.setZone(r.zone,{keepLocalTime:!0});return o.startOf(i)<=s&&s<=o.endOf(i)},e.equals=function(r){return this.isValid&&r.isValid&&this.valueOf()===r.valueOf()&&this.zone.equals(r.zone)&&this.loc.equals(r.loc)},e.toRelative=function(r){if(r===void 0&&(r={}),!this.isValid)return null;var i=r.base||n.fromObject({zone:this.zone}),s=r.padding?this<i?-r.padding:r.padding:0,o=["years","months","days","hours","minutes","seconds"],a=r.unit;return Array.isArray(r.unit)&&(o=r.unit,a=void 0),kwe(i,this.plus(s),Object.assign(r,{numeric:"always",units:o,unit:a}))},e.toRelativeCalendar=function(r){return r===void 0&&(r={}),this.isValid?kwe(r.base||n.fromObject({zone:this.zone}),this,Object.assign(r,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},n.min=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(!i.every(n.isDateTime))throw new w1("min requires all arguments be DateTimes");return kCe(i,function(o){return o.valueOf()},Math.min)},n.max=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(!i.every(n.isDateTime))throw new w1("max requires all arguments be DateTimes");return kCe(i,function(o){return o.valueOf()},Math.max)},n.fromFormatExplain=function(r,i,s){s===void 0&&(s={});var o=s,a=o.locale,l=a===void 0?null:a,f=o.numberingSystem,p=f===void 0?null:f,_=Af.fromOpts({locale:l,numberingSystem:p,defaultToEN:!0});return mwe(_,r,i)},n.fromStringExplain=function(r,i,s){return s===void 0&&(s={}),n.fromFormatExplain(r,i,s)},Pm(n,[{key:"isValid",get:function(){return this.invalid===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?Mae(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?Mae(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?Mae(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?kae(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?bO.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?bO.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?bO.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?bO.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.universal:null}},{key:"isInDST",get:function(){return this.isOffsetFixed?!1:this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset}},{key:"isInLeapYear",get:function(){return yO(this.year)}},{key:"daysInMonth",get:function(){return yz(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?vO(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?vz(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return xz}},{key:"DATE_MED",get:function(){return Joe}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return OCe}},{key:"DATE_FULL",get:function(){return Xoe}},{key:"DATE_HUGE",get:function(){return Zoe}},{key:"TIME_SIMPLE",get:function(){return eae}},{key:"TIME_WITH_SECONDS",get:function(){return tae}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return nae}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return rae}},{key:"TIME_24_SIMPLE",get:function(){return iae}},{key:"TIME_24_WITH_SECONDS",get:function(){return sae}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return oae}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return aae}},{key:"DATETIME_SHORT",get:function(){return uae}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return lae}},{key:"DATETIME_MED",get:function(){return cae}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return fae}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return NCe}},{key:"DATETIME_FULL",get:function(){return dae}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return hae}},{key:"DATETIME_HUGE",get:function(){return pae}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return mae}}]),n}();function wO(n){if(Ac.isDateTime(n))return n;if(n&&n.valueOf&&EE(n.valueOf()))return Ac.fromJSDate(n);if(n&&typeof n=="object")return Ac.fromObject(n);throw new w1("Unknown datetime argument: "+n+", of type "+typeof n)}var o1t="1.28.0";ap.DateTime=Ac;ap.Duration=Ld;ap.FixedOffsetZone=op;ap.IANAZone=kx;ap.Info=bO;ap.Interval=EO;ap.InvalidZone=bae;ap.LocalZone=QCe;ap.Settings=nc;ap.VERSION=o1t;ap.Zone=dw});var zwe=Ae(Ku=>{"use strict";m();Object.defineProperty(Ku,"__esModule",{value:!0});Ku.ExprFunc=Ku.ExprTimeExtract=Ku.ForRange=Ku.PartialCompare=Ku.Apply=Ku.ExprCompare=Ku.ExprDuration=Ku.ExprNow=Ku.GranularLiteral=Ku.ExprGranularTime=Ku.Timeframe=void 0;var FE=Iwe(),F1=s1(),si=_4(),Mwe=class extends si.MalloyElement{constructor(e){super();this.elementType="timeframe";let t=e.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1)),this.text=(0,F1.isTimestampUnit)(t)?t:"second"}};Ku.Timeframe=Mwe;var Pae=class extends si.ExpressionDef{constructor(e,t,r){super({expr:e});this.expr=e,this.units=t,this.truncate=r,this.elementType="granularTime",this.legalChildTypes=[si.FT.timestampT,si.FT.dateT]}granular(){return!0}getExpression(e){let t=this.units,r=this.expr.getExpression(e);if((0,F1.isTimeFieldType)(r.dataType)){let i={...r,dataType:r.dataType,timeframe:t};return this.truncate&&(i.value=[{type:"dialect",function:"trunc",expr:{value:r.value,valueType:r.dataType},units:t}]),i}return this.log(`Cannot do time truncation on type '${r.dataType}'`),(0,si.errorFor)("granularity typecheck")}apply(e,t,r){let i=this.getExpression(e).dataType,s=r.getExpression(e).dataType,o=(0,F1.isDateUnit)(this.units)?"date":"timestamp";return i=="date"&&o=="date"?this.dateRange(e,t,r):this.timestampRange(e,t,r)}timestampRange(e,t,r){let i=this.getExpression(e),s=si.ExprTime.fromValue("timestamp",i),o=new si.ExprTime("timestamp",(0,si.timeOffset)("timestamp",i.value,"+",(0,F1.mkExpr)`1`,this.units),i.aggregate);return new si.Range(s,o).apply(e,t,r)}dateRange(e,t,r){let i=this.getExpression(e),s=new si.ExprTime("date",i.value,i.aggregate),o=(0,si.timeOffset)("date",i.value,"+",["1"],this.units),a=new si.ExprTime("date",o,i.aggregate);return new si.Range(s,a).apply(e,t,r)}};Ku.ExprGranularTime=Pae;var Ix=class extends si.ExpressionDef{constructor(e,t,r){super();this.moment=e,this.until=t,this.units=r,this.elementType="timeLiteral"}granular(){return!0}static parse(e){let t=e.slice(1),r="yyyy",i=`${r}-LL`,s=`${i}-dd`,o=`${s} HH:mm`,a=`${o}:ss`,l=FE.DateTime.fromFormat(t,a);if(l.isValid){let O=l.plus({second:1}).toFormat(a),j=new Ix(t,O,"second");return j.timeType="timestamp",j}let f=FE.DateTime.fromFormat(t,o);if(f.isValid){let O=t+":00",j=f.plus({minute:1}).toFormat(o)+":00",$=new Ix(O,j,"minute");return $.timeType="timestamp",$}let p=t.match(/(\d{4})-[qQ](\d)$/);if(p){let O=Number.parseInt(p[2])-1,j=FE.DateTime.fromFormat(p[1],"yyyy");O>0&&(j=j.plus({quarters:O}));let $=j.plus({quarter:1});return new Ix(`${j.toFormat(s)}`,`${$.toFormat(s)}`,"quarter")}let _=FE.DateTime.fromFormat(t,s);if(_.isValid){let O=_.plus({days:1});return new Ix(`${_.toFormat(s)}`,`${O.toFormat(s)}`,"day")}let b=FE.DateTime.fromFormat(t,i);if(b.isValid){let O=b.plus({months:1});return new Ix(`${b.toFormat(s)}`,`${O.toFormat(s)}`,"month")}let R=FE.DateTime.fromFormat(t,r);if(R.isValid){let O=R.toFormat("yyyy-01-01"),j=R.plus({year:1}).toFormat("yyyy-01-01");return new Ix(O,j,"year")}if(t.startsWith("WK")){let O=FE.DateTime.fromFormat(t.slice(2),s);if(O.isValid){let j=O;O.weekday!==7&&(j=O.startOf("week").minus({day:1}));let $=j.plus({days:7});return new Ix(`${j.toFormat(s)}`,`${$.toFormat(s)}`,"week")}}}apply(e,t,r){let i=r.getExpression(e);if((0,F1.isTimeFieldType)(i.dataType)){let s="timestamp";return i.dataType==="date"&&!this.timeType&&(s="date"),new si.Range(new si.ExprTime(s,(0,si.timeLiteral)(this.moment,s,"UTC")),new si.ExprTime(s,(0,si.timeLiteral)(this.until,s,"UTC"))).apply(e,t,r)}return super.apply(e,t,r)}getExpression(e){let t=this.timeType||"date",r={dataType:t,aggregate:!1,value:(0,si.timeLiteral)(this.moment,t,"UTC")};return t=="date"&&(0,F1.isDateUnit)(this.units)&&(r.alsoTimestamp=!0),this.units!="second"?{...r,timeframe:this.units}:r}};Ku.GranularLiteral=Ix;var Pwe=class extends si.ExpressionDef{constructor(){super(...arguments);this.elementType="timestamp"}getExpression(e){return{dataType:"timestamp",aggregate:!1,value:[{type:"dialect",function:"now"}]}}};Ku.ExprNow=Pwe;var Bwe=class extends si.ExpressionDef{constructor(e,t){super({n:e});this.n=e,this.timeframe=t,this.elementType="duration",this.legalChildTypes=[si.FT.timestampT,si.FT.dateT]}apply(e,t,r){let i=r.getExpression(e);if(this.typeCheck(this,i),(0,F1.isTimeFieldType)(i.dataType)&&(t==="+"||t==="-")){let s=this.n.getExpression(e);if(!si.FT.typeEq(s,si.FT.numberT))return this.log(`Duration units needs number not '${s.dataType}`),(0,si.errorFor)("illegal unit expression");let o;if((0,si.isGranularResult)(i)&&i.timeframe==this.timeframe&&(o=i.timeframe),i.dataType==="timestamp"){let a=(0,si.timeOffset)("timestamp",i.value,t,s.value,this.timeframe);return(0,si.timeResult)({dataType:"timestamp",aggregate:i.aggregate||s.aggregate,value:a},o)}return(0,si.timeResult)({dataType:"date",aggregate:i.aggregate||s.aggregate,value:(0,si.timeOffset)("date",i.value,t,s.value,this.timeframe)},o)}return super.apply(e,t,r)}getExpression(e){return{dataType:"duration",aggregate:!1,value:["__ERROR_DURATION_IS_NOT_A_VALUE__"]}}};Ku.ExprDuration=Bwe;var Bae=class extends si.BinaryBoolean{constructor(e,t,r){super(e,t,r);this.elementType="a<=>b",this.legalChildTypes=a1t[t]}getExpression(e){if(!this.right.granular()){let t=this.right.requestExpression(e);if(t&&(0,si.isGranularResult)(t))return new Pae(this.right,t.timeframe,!1).apply(e,this.op,this.left)}return this.right.apply(e,this.op,this.left)}};Ku.ExprCompare=Bae;var jwe=class extends Bae{constructor(e,t){super(e,"=",t);this.left=e,this.right=t,this.elementType="apply"}};Ku.Apply=jwe;var a1t={"~":[si.FT.stringT],"!~":[si.FT.stringT],"<":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT],"<=":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT],"=":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT],"!=":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT],">=":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT],">":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT]},qwe=class extends si.ExpressionDef{constructor(e,t){super({right:t});this.op=e,this.right=t,this.elementType="<=> a"}granular(){return this.right.granular()}apply(e,t,r){return this.right.apply(e,this.op,r)}requestExpression(e){}getExpression(e){return this.log("Partial comparison does not have a value"),(0,si.errorFor)("no value for partial compare")}};Ku.PartialCompare=qwe;var Uwe=class extends si.ExpressionDef{constructor(e,t,r){super({from:e,duration:t,timeframe:r});this.from=e,this.duration=t,this.timeframe=r,this.elementType="forRange",this.legalChildTypes=[si.FT.timestampT,si.FT.dateT]}apply(e,t,r){let i=this.from.getExpression(e),s=r.getExpression(e);if(!this.typeCheck(r,s))return(0,si.errorFor)("no time for range");let o=this.duration.getExpression(e);if(o.dataType!=="number")return this.log(`FOR duration count must be a number, not '${o.dataType}'`),(0,si.errorFor)("FOR not number");let a=this.timeframe.text,f=(0,si.resolution)(a);if(i.dataType==="timestamp"&&(f="timestamp"),s.dataType==="date"&&f==="date"){let j=this.from,$=(0,si.timeOffset)("date",i.value,"+",o.value,a),L=new si.ExprTime("date",$);return new si.Range(j,L).apply(e,t,r)}let p=si.ExprTime.fromValue("timestamp",s),_=this.from,b=i.value;i.dataType==="date"&&((0,si.isGranularResult)(i)&&i.alsoTimestamp||(b=(0,si.castDateToTimestamp)(b)),_=new si.ExprTime("timestamp",b,i.aggregate));let R=(0,si.timeOffset)("timestamp",b,"+",o.value,a),O=new si.ExprTime("timestamp",R,i.aggregate);return new si.Range(_,O).apply(e,t,p)}requestExpression(e){}getExpression(e){return this.log("A Range is not a value"),(0,si.errorFor)("range has no value")}};Ku.ForRange=Uwe;var _w=class extends si.ExpressionDef{constructor(e,t){super({args:t});this.extractText=e,this.args=t,this.elementType="timeExtract"}static extractor(e){let t=_w.pluralMap[e];if(t)return t;if((0,F1.isExtractUnit)(e))return e}getExpression(e){let t=_w.extractor(this.extractText);if(t){if(this.args.length!==1)return this.log(`Extraction function ${t} requires one argument`),(0,si.errorFor)("{this.name} arg count");let r=this.args[0];if(r instanceof si.Range){let i=r.first.getExpression(e),s=r.last.getExpression(e);return(0,F1.isTimeFieldType)(i.dataType)?(0,F1.isTimeFieldType)(s.dataType)?(0,F1.isTimestampUnit)(t)?{dataType:"number",aggregate:i.aggregate||s.aggregate,value:[{type:"dialect",function:"timeDiff",units:t,left:{valueType:i.dataType,value:i.value},right:{valueType:s.dataType,value:s.value}}]}:(this.log(`Cannot extract ${t} from a range`),(0,si.errorFor)(`${t} bad extraction`)):(r.last.log(`Cannot extract ${t} from '${s.dataType}'`),(0,si.errorFor)(`${t} bad type ${s.dataType}`)):(r.first.log(`Can't extract ${t} from '${i.dataType}'`),(0,si.errorFor)(`${t} bad type ${i.dataType}`))}else{let i=r.getExpression(e);return(0,F1.isTimeFieldType)(i.dataType)?{dataType:"number",aggregate:i.aggregate,value:[{type:"dialect",function:"extract",expr:{value:i.value,valueType:i.dataType},units:t}]}:(this.log(`${this.extractText}() requires time type, not '${i.dataType}'`),(0,si.errorFor)(`${this.extractText} bad type ${i.dataType}`))}}throw this.internalError(`Illegal extraction unit '${this.extractText}'`)}};Ku.ExprTimeExtract=_w;_w.pluralMap={years:"year",quarters:"quarter",months:"month",weeks:"week",days:"day",hours:"hour",minutes:"minute",seconds:"second"};var $we=class extends si.ExpressionDef{constructor(e,t){super({args:t});this.name=e,this.args=t,this.elementType="function call()"}getExpression(e){var t,r,i;let s=!1,o,a=[`${this.name}(`];for(let p of this.args){let _=p.getExpression(e);_.aggregate&&(s=!0),o?a.push(","):o=_.dataType,a.push(..._.value)}a.push(")");let l=e.dialectObj();return{dataType:(i=(r=(t=l==null?void 0:l.getFunctionInfo(this.name))===null||t===void 0?void 0:t.returnType)!==null&&r!==void 0?r:o)!==null&&i!==void 0?i:"number",aggregate:s,value:(0,si.compressExpr)(a)}}};Ku.ExprFunc=$we});var _4=Ae($m=>{"use strict";m();var u1t=$m&&$m.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),AO=$m&&$m.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&u1t(e,n,t)};Object.defineProperty($m,"__esModule",{value:!0});AO(H7e(),$m);AO(qSe(),$m);AO(TCe(),$m);AO(zwe(),$m);AO(K$(),$m)});var jae=Ae(A4=>{"use strict";m();var TO=A4&&A4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},FO=A4&&A4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(A4,"__esModule",{value:!0});A4.AbstractParseTreeVisitor=void 0;var Dy=Cr(),DE=class{visit(e){return e.accept(this)}visitChildren(e){let t=this.defaultResult(),r=e.childCount;for(let i=0;i<r&&this.shouldVisitNextChild(e,t);i++){let o=e.getChild(i).accept(this);t=this.aggregateResult(t,o)}return t}visitTerminal(e){return this.defaultResult()}visitErrorNode(e){return this.defaultResult()}aggregateResult(e,t){return t}shouldVisitNextChild(e,t){return!0}};TO([Dy.Override,FO(0,Dy.NotNull)],DE.prototype,"visit",null);TO([Dy.Override,FO(0,Dy.NotNull)],DE.prototype,"visitChildren",null);TO([Dy.Override,FO(0,Dy.NotNull)],DE.prototype,"visitTerminal",null);TO([Dy.Override,FO(0,Dy.NotNull)],DE.prototype,"visitErrorNode",null);TO([FO(0,Dy.NotNull)],DE.prototype,"shouldVisitNextChild",null);A4.AbstractParseTreeVisitor=DE});var Vwe=Ae(Mx=>{"use strict";m();var l1t=Mx&&Mx.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),c1t=Mx&&Mx.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),f1t=Mx&&Mx.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&l1t(e,n,t);return c1t(e,n),e};Object.defineProperty(Mx,"__esModule",{value:!0});Mx.MalloyToAST=void 0;var d1t=jae(),mr=f1t(_4()),h1t=j0(),Hwe=class extends d1t.AbstractParseTreeVisitor{constructor(e,t){super();this.parse=e,this.msgLog=t}internalError(e,t){let r=`Internal Translator Error: ${t}`;return this.contextError(e,r),new Error(r)}astError(e,t,r="error"){this.msgLog.log({message:t,at:e.location,severity:r})}contextError(e,t,r="error"){this.msgLog.log({message:t,at:{url:this.parse.subTranslator.sourceURL,range:this.parse.subTranslator.rangeFromContext(e)},severity:r})}onlyExploreProperties(e){let t=[];for(let r of e)mr.isExploreProperty(r)?t.push(r):this.astError(r,`Expected explore property, not '${r.elementType}'`);return t}onlyJoins(e){let t=[];for(let r of e)r instanceof mr.Join?t.push(r):this.astError(r,`Expected explore property, not '${r.elementType}'`);return t}onlyDocStatements(e){let t=[];for(let r of e)mr.isDocStatement(r)?t.push(r):this.astError(r,`Expected statement, not '${r.elementType}'`);return t}onlyNestedQueries(e){let t=[];for(let r of e)mr.isNestedQuery(r)?t.push(r):this.astError(r,`Expected query, not '${r.elementType}'`);return t}onlyQueryRefs(e){let t=[];for(let r of e)r instanceof mr.FieldReference||r instanceof mr.FieldDeclaration?t.push(r):r instanceof mr.Unimplemented&&r.reported||this.astError(r,`Expected query field, not '${r.elementType}'`);return t}getNumber(e){return Number.parseInt(e.text)}optionalString(e){if(e)return this.stripQuotes(e.text)}getIdText(e){return this.stripQuotes(e.text)}getFieldName(e){return this.astAt(new mr.FieldName(this.getIdText(e)),e)}getModelEntryName(e){return this.astAt(new mr.ModelEntryReference(this.getIdText(e)),e)}stripQuotes(e){return(e[0]==="`"||e[0]==="'"||e[0]==='"')&&e[0]===e[e.length-1]?e.slice(1,-1):e}optionalText(e){if(e)return this.getIdText(e)}defaultResult(){return new mr.Unimplemented}astAt(e,t){return e.location={url:this.parse.subTranslator.sourceURL,range:this.parse.subTranslator.rangeFromContext(t)},e}getSourceCode(e){let t=e.start.startIndex,r=e.stop||e.start,i=new h1t.Interval(t,r.stopIndex);return this.parse.sourceStream.getText(i)}getFilterElement(e){let t=this.getFieldExpr(e),r=new mr.FilterElement(t,this.getSourceCode(e));return this.astAt(r,e)}getFieldDefs(e,t){let r=[];for(let i of e){let s=this.visit(i);s instanceof mr.FieldDeclaration?(this.astAt(s,i),r.push(s),t!==void 0&&(s.isMeasure=t)):this.contextError(i,"Expected field definition")}return r}getFieldExpr(e){let t=this.visit(e);if(t instanceof mr.ExpressionDef)return this.astAt(t,e);throw this.internalError(e,`expression node unknown type '${t.elementType}'`)}getSegments(e){return e.map(t=>this.visitQueryProperties(t.queryProperties()))}getFilterShortcut(e){let t=this.getFilterElement(e.fieldExpr());return new mr.Filter([t])}getExploreSource(e){let t=this.visit(e);if(t instanceof mr.Mallobj)return t;throw this.internalError(e,`'${t.elementType}': illegal explore source`)}makeSqlString(e,t){var r;for(let s of e.sqlInterpolation()){let o=s.OPEN_CODE().text;o.length>2&&t.push(o.slice(0,o.length-2)),t.push(this.visit(s.query()))}let i=(r=e.SQL_END())===null||r===void 0?void 0:r.text.slice(0,-3);t.push(i||""),this.astAt(t,e)}visitMalloyDocument(e){let t=this.onlyDocStatements(e.malloyStatement().map(r=>this.visit(r)));return new mr.Document(t)}visitDefineExploreStatement(e){let r=e.exploreDefinitionList().exploreDefinition().map(i=>this.visitExploreDefinition(i));return r.length==1?r[0]:new mr.DefineSourceList(r)}visitExploreDefinition(e){let t=new mr.DefineExplore(this.getIdText(e.exploreNameDef()),this.visitExplore(e.explore()),!0,[]);return this.astAt(t,e)}visitExplore(e){let t=this.getExploreSource(e.exploreSource()),r=e.exploreProperties();return r?this.astAt(new mr.RefinedExplore(t,this.visitExploreProperties(r)),e):t}visitExploreProperties(e){let t=e.filterShortcut(),r=e.exploreStatement().map(s=>this.visit(s)),i=new mr.ExploreDesc(this.onlyExploreProperties(r));return t&&i.push(this.getFilterShortcut(t)),i}visitExploreTable(e){let t=this.stripQuotes(e.tableName().text);return this.astAt(new mr.TableSource(t),e)}visitTableSource(e){return this.visitExploreTable(e.exploreTable())}visitSQLSourceName(e){let t=this.getModelEntryName(e.sqlExploreNameRef());return this.astAt(new mr.SQLSource(t),e)}visitQuerySource(e){let t=this.visit(e.query());if(mr.isQueryElement(t))return this.astAt(new mr.QuerySource(t),e);throw this.internalError(e,`Expect query definition, got a '${t.elementType}'`)}visitDefJoinMany(e){let t=this.getJoinList(e.joinList()),r=[];for(let i of t)i instanceof mr.Join&&(r.push(i),i instanceof mr.ExpressionJoin?(i.joinType="many",i.joinOn==null&&i.log("join_many: requires ON expression")):i instanceof mr.KeyJoin&&i.log("Foreign key join not legal in join_many:"));return new mr.Joins(r)}visitDefJoinOne(e){let t=this.getJoinList(e.joinList()),r=[];for(let i of t)i instanceof mr.Join&&(r.push(i),i instanceof mr.ExpressionJoin&&(i.joinType="one"));return new mr.Joins(r)}visitDefJoinCross(e){let t=this.getJoinList(e.joinList()),r=[];for(let i of t)i instanceof mr.Join&&(r.push(i),i instanceof mr.ExpressionJoin?i.joinType="cross":i.log("Foreign key join not legal in join_cross:"));return new mr.Joins(r)}getJoinList(e){return e.joinDef().map(t=>this.visit(t))}getJoinSource(e,t){return t?this.visitExplore(t):new mr.NamedSource(e)}visitJoinOn(e){let t=this.getModelEntryName(e.joinNameDef()),r=this.getJoinSource(t,e.explore()),i=new mr.ExpressionJoin(t,r),s=e.joinExpression();return s&&(i.joinOn=this.getFieldExpr(s)),this.astAt(i,e)}visitJoinWith(e){let t=this.getModelEntryName(e.joinNameDef()),r=this.getJoinSource(t,e.explore()),i=this.getFieldExpr(e.fieldExpr()),s=new mr.KeyJoin(t,r,i);return this.astAt(s,e)}visitFieldDef(e){let t=e.fieldExpr(),r=this.getIdText(e.fieldNameDef()),i=this.getFieldExpr(t),s=new mr.FieldDeclaration(i,r,this.getSourceCode(t));return this.astAt(s,e)}visitDefExploreDimension(e){let t=this.getFieldDefs(e.dimensionDefList().dimensionDef(),!1),r=new mr.Dimensions(t);return this.astAt(r,e)}visitDefExploreMeasure(e){let t=this.getFieldDefs(e.measureDefList().measureDef(),!0),r=new mr.Measures(t);return this.astAt(r,e)}visitDeclareStatement(e){let t=this.getFieldDefs(e.fieldDef(),!0),r=new mr.DeclareFields(t);return this.astAt(r,e)}visitExploreRenameDef(e){let t=e.fieldName(0).id(),r=e.fieldName(1).id(),i=new mr.RenameField(this.getIdText(t),this.getFieldName(r));return this.astAt(i,e)}visitDefExploreRename(e){let r=e.renameList().exploreRenameDef().map(s=>this.visitExploreRenameDef(s)),i=new mr.Renames(r);return this.astAt(i,e)}visitFilterClauseList(e){return new mr.Filter(e.fieldExpr().map(t=>this.getFilterElement(t)))}visitFilterByShortcut(e){let t=this.getFilterElement(e.fieldExpr());return this.astAt(new mr.Filter([t]),e)}visitWhereStatement(e){let t=this.visitFilterClauseList(e.filterClauseList());return t.having=!1,this.astAt(t,e)}visitHavingStatement(e){let t=this.visitFilterClauseList(e.filterClauseList());return t.having=!0,this.astAt(t,e)}visitSubQueryDefList(e){let t=e.exploreQueryDef().map(r=>this.visitExploreQueryDef(r));return new mr.Turtles(t)}visitDefExplorePrimaryKey(e){let t=new mr.PrimaryKey(this.getFieldName(e.fieldName()));return this.astAt(t,e)}visitFieldNameList(e){let t=e.fieldName().map(r=>new mr.FieldReference([this.getFieldName(r)]));return new mr.FieldReferences(t)}visitDefExploreEditField(e){let t=e.ACCEPT()?"accept":"except";return new mr.FieldListEdit(t,this.visitFieldNameList(e.fieldNameList()))}visitQueryProperties(e){let t=e.queryStatement().map(i=>this.astAt(this.visit(i),i)).filter(function(i){return mr.isQueryProperty(i)?!0:(i.log(`Unexpected statement type '${i.elementType}' in query`),!1)}),r=e.filterShortcut();return r&&t.push(this.getFilterShortcut(r)),new mr.QOPDesc(t)}visitFieldPath(e){let t=e.fieldName().map(r=>this.getFieldName(r));return this.astAt(new mr.FieldReference(t),e)}visitQueryFieldDef(e){let t=e.dimensionDef().fieldDef(),r=this.visitFieldDef(t);return this.astAt(r,t)}visitQueryFieldRef(e){return this.visitFieldPath(e.fieldPath())}getQueryItems(e){let t=e.queryFieldEntry().map(r=>this.visit(r));return this.onlyQueryRefs(t)}visitAggregateStatement(e){return new mr.Aggregate(this.getQueryItems(e.queryFieldList()))}visitGroupByStatement(e){return new mr.GroupBy(this.getQueryItems(e.queryFieldList()))}visitFieldCollection(e){let t=[];for(let r of e.collectionMember()){let i=this.visit(r);if(mr.isFieldCollectionMember(i))t.push(i);else throw this.internalError(r,`${i.elementType} is not a query field`)}return this.astAt(new mr.ProjectStatement(t),e)}visitWildMember(e){let t=e.fieldPath(),r=e.STAR()?"*":"**",i=t?this.visitFieldPath(t):void 0;return new mr.WildcardFieldReference(i,r)}visitIndexFields(e){let t=e.indexElement().map(r=>{let i=r.STAR()!=null,s=r.fieldPath();if(!s)return new mr.WildcardFieldReference(void 0,"*");let o=this.visitFieldPath(s);return i?this.astAt(new mr.WildcardFieldReference(o,"*"),e):this.astAt(o,e)});return new mr.FieldReferences(t)}visitIndexStatement(e){let t=this.visitIndexFields(e.indexFields()),r=new mr.Index(t),i=e.fieldName();return i&&r.useWeight(this.getFieldName(i)),this.astAt(r,e)}visitLimitStatement(e){return new mr.Limit(this.getNumber(e.INTEGER_LITERAL()))}visitOrderBySpec(e){let t=e.ASC()?"asc":e.DESC()?"desc":void 0,r=e.INTEGER_LITERAL();if(r)return new mr.OrderBy(this.getNumber(r),t);let i=e.fieldName();if(i)return new mr.OrderBy(this.getFieldName(i),t);throw this.internalError(e,"can't parse order_by specification")}visitOrdering(e){let t=e.orderBySpec().map(r=>this.visitOrderBySpec(r));return this.astAt(new mr.Ordering(t),e)}visitTopStatement(e){let t=e.bySpec(),r=this.getNumber(e.INTEGER_LITERAL()),i;if(t){let s=t.fieldName();if(s){let a=this.getFieldName(s);i=new mr.Top(r,a)}let o=t.fieldExpr();o&&(i=new mr.Top(r,this.getFieldExpr(o)))}return i||(i=new mr.Top(r,void 0)),this.astAt(i,e)}visitExploreName(e){let t=this.getModelEntryName(e.id());return this.astAt(new mr.NamedSource(t),e)}buildPipelineFromName(e,t){let r=t.firstSegment(),i=r.exploreQueryName();i&&(e.turtleName=this.getFieldName(i));let s=r.queryProperties();if(s){let a=this.visitQueryProperties(s);i?e.refineHead(a):e.addSegments(a)}let o=this.getSegments(t.pipeElement());e.addSegments(...o)}visitExploreArrowQuery(e){let t=this.visitExplore(e.explore()),r=new mr.FullQuery(t);return this.buildPipelineFromName(r,e.pipelineFromName()),this.astAt(r,e)}visitArrowQuery(e){let t=new mr.ExistingQuery;t.head=this.getModelEntryName(e.queryName());let r=e.queryProperties();return r&&t.refineHead(this.visitQueryProperties(r)),t.addSegments(...this.getSegments(e.pipeElement())),this.astAt(t,e)}visitTopLevelQueryDefs(e){let t=e.topLevelQueryDef().map(r=>this.visitTopLevelQueryDef(r));return t.length===1?t[0]:new mr.DefineQueryList(t)}visitTopLevelQueryDef(e){let t=this.getIdText(e.queryName()),r=this.visit(e.query());if(mr.isQueryElement(r))return this.astAt(new mr.DefineQuery(t,r),e);throw this.internalError(e,`Expect query definition, got a '${r.elementType}'`)}visitAnonymousQuery(e){let t=this.visit(e.topLevelAnonQueryDef().query());if(mr.isQueryElement(t))return new mr.AnonymousQuery(t);throw this.internalError(e,`Anonymous query matched, but ${t.elementType} found`)}visitNestedQueryList(e){let t=e.nestEntry().map(r=>this.visit(r));return t.length==1?t[0]:new mr.Nests(this.onlyNestedQueries(t))}visitNestExisting(e){let t=this.getFieldName(e.queryName()),r=e.queryProperties();if(r){let i=new mr.NestRefinement(t),s=this.visitQueryProperties(r);return i.refineHead(s),this.astAt(i,e)}return this.astAt(new mr.NestReference(t),e)}visitNestDef(e){let t=this.getIdText(e.queryName()),r=new mr.NestDefinition(t);return this.buildPipelineFromName(r,e.pipelineFromName()),this.astAt(r,e)}visitExploreQueryDef(e){let t=this.getIdText(e.exploreQueryNameDef()),r=new mr.TurtleDecl(t);return this.buildPipelineFromName(r,e.pipelineFromName()),this.astAt(r,e)}visitExprNot(e){return new mr.ExprNot(this.getFieldExpr(e.fieldExpr()))}visitExprBool(e){return new mr.Boolean(e.TRUE()?"true":"false")}allFieldExpressions(e){return e.map(t=>this.getFieldExpr(t))}visitExprLogical(e){let t=this.getFieldExpr(e.fieldExpr(0)),r=this.getFieldExpr(e.fieldExpr(1));return new mr.ExprLogicalOp(t,e.AND()?"and":"or",r)}visitExprLogicalTree(e){let t=this.getFieldExpr(e.fieldExpr()),r=this.getFieldExpr(e.partialAllowedFieldExpr());return new mr.ExprAlternationTree(t,e.AMPER()?"&":"|",r)}visitPartialAllowedFieldExpr(e){var t;let r=this.getFieldExpr(e.fieldExpr()),i=(t=e.compareOp())===null||t===void 0?void 0:t.text;if(i){if(mr.isComparison(i))return this.astAt(new mr.PartialCompare(i,r),e);throw this.internalError(e,`partial comparison '${i}' not recognized`)}return r}visitExprString(e){return new mr.ExprString(e.STRING_LITERAL().text)}visitExprRegex(e){let t=e.HACKY_REGEX().text;return new mr.ExprRegEx(this.stripQuotes(t.slice(1)))}visitExprNow(e){return new mr.ExprNow}visitExprNumber(e){var t,r;let i=((t=e.INTEGER_LITERAL())===null||t===void 0?void 0:t.text)||((r=e.NUMERIC_LITERAL())===null||r===void 0?void 0:r.text);return i?new mr.ExprNumber(i):(this.contextError(e,`'${e.text}' is not a number`),new mr.ExprNumber("42"))}visitExprFieldPath(e){let t=new mr.ExprIdReference(this.visitFieldPath(e.fieldPath()));return this.astAt(t,e)}visitExprNULL(e){return new mr.ExprNULL}visitExprExpr(e){return new mr.ExprParens(this.getFieldExpr(e.partialAllowedFieldExpr()))}visitExprMinus(e){return new mr.ExprMinus(this.getFieldExpr(e.fieldExpr()))}visitExprAddSub(e){let t=this.getFieldExpr(e.fieldExpr(0)),r=this.getFieldExpr(e.fieldExpr(1)),i=e.PLUS()?"+":"-";return new mr.ExprAddSub(t,i,r)}visitExprMulDiv(e){let t=e.STAR()?"*":e.SLASH()?"/":"%";return new mr.ExprMulDiv(this.getFieldExpr(e.fieldExpr(0)),t,this.getFieldExpr(e.fieldExpr(1)))}visitExprCompare(e){let t=e.compareOp().text;if(mr.isComparison(t))return new mr.ExprCompare(this.getFieldExpr(e.fieldExpr(0)),t,this.getFieldExpr(e.fieldExpr(1)));throw this.internalError(e,`untranslatable comparison operator '${t}'`)}visitExprCountDisinct(e){return this.astAt(new mr.ExprCountDistinct(this.getFieldExpr(e.fieldExpr())),e)}visitExprUngroup(e){let t=e.fieldName().map(i=>this.getFieldName(i)),r=this.getIdText(e.ungroup()).toLocaleLowerCase();return this.astAt(new mr.ExprUngroup(r=="all"?r:"exclude",this.getFieldExpr(e.fieldExpr()),t),e)}visitExprAggregate(e){let t=e.fieldPath(),r=t?this.visitFieldPath(t):void 0,i=t&&r?this.astAt(r,t):void 0,s=e.fieldExpr();if(e.aggregate().COUNT())return s&&this.contextError(s,"Ignored expression inside COUNT()"),new mr.ExprCount(i);e.STAR()&&this.contextError(e,"'*' is not a valid expression");let a=s?this.getFieldExpr(s):void 0;if(e.aggregate().MIN())if(r)this.contextError(e,"Path not legal for min()");else{if(a)return new mr.ExprMin(a);this.contextError(e,"Missing expression for min")}else if(e.aggregate().MAX())if(r)this.contextError(e,"Path not legal for max()");else{if(a)return new mr.ExprMax(a);this.contextError(e,"Missing expression for max")}else{if(e.aggregate().AVG())return new mr.ExprAvg(a,i);if(e.aggregate().SUM())return new mr.ExprSum(a,i)}return new mr.ExprNULL}visitExprApply(e){return e.COLON()&&this.contextError(e,"':' for apply is deprecated, use '?'","warn"),new mr.Apply(this.getFieldExpr(e.fieldExpr()),this.getFieldExpr(e.partialAllowedFieldExpr()))}visitExprRange(e){return new mr.Range(this.getFieldExpr(e.fieldExpr(0)),this.getFieldExpr(e.fieldExpr(1)))}visitExprCast(e){let t=e.malloyType().text;return mr.isCastType(t)?new mr.ExprCast(this.getFieldExpr(e.fieldExpr()),t):(this.contextError(e,`CAST to unknown type '${t}'`),new mr.ExprNULL)}visitExprSafeCast(e){let t=e.malloyType().text;return mr.isCastType(t)?new mr.ExprCast(this.getFieldExpr(e.fieldExpr()),t,!0):(this.contextError(e,`'::' cast to unknown type '${t}'`),new mr.ExprNULL)}visitExprTimeTrunc(e){return new mr.ExprGranularTime(this.getFieldExpr(e.fieldExpr()),this.visitTimeframe(e.timeframe()).text,!0)}visitTimeframe(e){return new mr.Timeframe(e.text)}visitExprForRange(e){let t=this.getFieldExpr(e._startAt),r=this.getFieldExpr(e._duration),i=this.visitTimeframe(e.timeframe());return new mr.ForRange(t,r,i)}visitExprFunc(e){let t=e.argumentList(),r=t?this.allFieldExpressions(t.fieldExpr()):[],i=e.id(),s=e.timeframe(),o;return i?o=this.getIdText(i):s?o=s.text:(this.contextError(e,"Funciton name error"),o="FUNCTION_NAME_ERROR"),mr.ExprTimeExtract.extractor(o)?this.astAt(new mr.ExprTimeExtract(o,r),e):this.astAt(new mr.ExprFunc(o,r),e)}visitExprDuration(e){return new mr.ExprDuration(this.getFieldExpr(e.fieldExpr()),this.visitTimeframe(e.timeframe()).text)}visitPickStatement(e){let t=e.pick().map(r=>{let i;return r._pickValue&&(i=this.getFieldExpr(r._pickValue)),new mr.PickWhen(i,this.getFieldExpr(r._pickWhen))});return e.ELSE()?new mr.Pick(t,this.getFieldExpr(e._pickElse)):new mr.Pick(t)}visitNamedSource(e){let t=this.getModelEntryName(e.exploreName());return this.astAt(new mr.NamedSource(t),e)}visitExprFilter(e){let t=this.visit(e.filteredBy());return new mr.ExprFilter(this.getFieldExpr(e.fieldExpr()),t)}getLiteralTime(e){let t=mr.GranularLiteral.parse(e.text);return t===void 0?(this.contextError(e,`${e.text} is not a legal day specification`),new mr.ExprNow):t}visitLiteralTimestamp(e){return this.getLiteralTime(e)}visitLiteralDay(e){return this.getLiteralTime(e)}visitLiteralWeek(e){return this.getLiteralTime(e)}visitLiteralMonth(e){return this.getLiteralTime(e)}visitLiteralQuarter(e){return this.getLiteralTime(e)}visitLiteralYear(e){return this.getLiteralTime(e)}visitImportStatement(e){let t=this.stripQuotes(e.importURL().text);return this.astAt(new mr.ImportStatement(t,this.parse.subTranslator.sourceURL),e)}visitJustExpr(e){return this.getFieldExpr(e.fieldExpr())}visitDefineSQLStatement(e){var t;let r=(t=e.nameSQLBlock())===null||t===void 0?void 0:t.text,i=e.sqlBlock().blockSQLDef(),s=new mr.SQLString,o;for(let l of i){let f=l.connectionName();f&&(o?this.contextError(f,"Cannot redefine connection"):o=this.getIdText(f));let p=l.sqlString();p&&this.makeSqlString(p,s)}let a=new mr.SQLStatement(s);return o!==void 0&&(a.connection=o),a.is=r,this.astAt(a,e)}visitSampleStatement(e){let t=e.sampleSpec().INTEGER_LITERAL();if(t)return new mr.SampleProperty({rows:this.getNumber(t)});let r=e.sampleSpec().PERCENT_LITERAL();if(r)return new mr.SampleProperty({percent:this.getNumber(r)});let i=e.sampleSpec().TRUE()!=null;return new mr.SampleProperty({enable:i})}};Mx.MalloyToAST=Hwe});var Qwe=Ae(Dz=>{"use strict";m();Object.defineProperty(Dz,"__esModule",{value:!0});Dz.MessageLog=void 0;var Wwe=class{constructor(){this.rawLog=[]}getLog(){return this.rawLog}log(e){this.rawLog.push(e)}reset(){this.rawLog.length=0}noErrors(){return!this.hasErrors()}hasErrors(){return this.rawLog.find(t=>t.severity!=="warn")!==void 0}empty(){return this.rawLog.length===0}};Dz.MessageLog=Wwe});var RE=Ae(Ew=>{"use strict";m();Object.defineProperty(Ew,"__esModule",{value:!0});Ew.ParseTreeWalker=void 0;var p1t=sC(),m1t=gy(),x1t=oC(),qae=class{walk(e,t){let r=[],i=[],s=t,o=0;for(;s;){if(s instanceof p1t.ErrorNode?e.visitErrorNode&&e.visitErrorNode(s):s instanceof m1t.TerminalNode?e.visitTerminal&&e.visitTerminal(s):this.enterRule(e,s),s.childCount>0){r.push(s),i.push(o),o=0,s=s.getChild(0);continue}do{if(s instanceof x1t.RuleNode&&this.exitRule(e,s),r.length===0){s=void 0,o=0;break}let a=r[r.length-1];if(o++,s=o<a.childCount?a.getChild(o):void 0,s)break;s=r.pop(),o=i.pop()}while(s)}}enterRule(e,t){let r=t.ruleContext;e.enterEveryRule&&e.enterEveryRule(r),r.enterRule(e)}exitRule(e,t){let r=t.ruleContext;r.exitRule(e),e.exitEveryRule&&e.exitEveryRule(r)}};Ew.ParseTreeWalker=qae;(function(n){n.DEFAULT=new n})(qae=Ew.ParseTreeWalker||(Ew.ParseTreeWalker={}))});var Ywe=Ae(Rz=>{"use strict";m();Object.defineProperty(Rz,"__esModule",{value:!0});Rz.findReferences=void 0;var g1t=RE(),Gwe=class{constructor(e,t){this.trans=e,this.tokens=t,this.needTables={},this.needImports={}}enterTableName(e){let t=this.tokens.getText(e).slice(1,-1);this.needTables[t]||(this.needTables[t]=this.trans.rangeFromContext(e))}enterImportURL(e){let t=JSON.parse(e.JSON_STRING().text);this.needImports[t]||(this.needImports[t]=this.trans.rangeFromContext(e))}};function y1t(n,e,t){let r=new Gwe(n,e),i=r;g1t.ParseTreeWalker.DEFAULT.walk(i,t);let s={};return Object.keys(r.needTables).length>0&&(s={tables:r.needTables}),Object.keys(r.needImports).length>0&&(s={...s,urls:r.needImports}),Object.keys(s).length>0?s:null}Rz.findReferences=y1t});var Jwe=Ae(Oz=>{"use strict";m();Object.defineProperty(Oz,"__esModule",{value:!0});Oz.Zone=void 0;var Kwe=class{constructor(){this.location={},this.zone=new Map}get(e){let t=this.zone.get(e);if((t==null?void 0:t.status)==="present")return t.value}getEntry(e){let t=this.zone.get(e);return t?t.firstReference||!this.location[e]?t:{...t,firstReference:this.location[e]}:{status:"error",message:"import reference failure"}}define(e,t){this.zone.set(e,{status:"present",value:t})}reference(e,t){let r=this.zone.get(e);(r==null?void 0:r.status)==null&&(this.zone.set(e,{status:"reference",firstReference:t}),this.location[e]=t)}getUndefined(){let e=[];for(let[t,r]of this.zone)r.status==="reference"&&e.push(t);return e.length>0?e:void 0}updateFrom(e,t){if(e)for(let[r,i]of Object.entries(e))i!==void 0&&this.define(r,i);if(t)for(let[r,i]of Object.entries(t))this.zone.set(r,{status:"error",message:i})}};Oz.Zone=Kwe});var Zwe=Ae(Nz=>{"use strict";m();Object.defineProperty(Nz,"__esModule",{value:!0});Nz.walkForDocumentSymbols=void 0;var v1t=RE(),Xwe=class{constructor(e,t,r,i){this.translator=e,this.tokens=t,this.scopes=r,this.symbols=i}popScope(){return this.scopes.pop()}peekScope(){return this.scopes[this.scopes.length-1]}enterTopLevelQueryDef(e){this.symbols.push({range:this.translator.rangeFromContext(e),name:e.queryName().text,type:"query",children:[]})}enterTopLevelAnonQueryDef(e){this.symbols.push({range:this.translator.rangeFromContext(e),name:"unnamed_query",type:"unnamed_query",children:[]})}enterExploreDefinition(e){this.scopes.push({range:this.translator.rangeFromContext(e),name:e.exploreNameDef().id().text,type:"explore",children:[]})}exitExploreDefinition(e){let t=this.popScope();t&&this.symbols.push(t)}enterExploreQueryDef(e){let t={range:this.translator.rangeFromContext(e),name:e.exploreQueryNameDef().id().text,type:"query",children:[]},r=this.peekScope();r&&r.children.push(t),this.scopes.push(t)}exitExploreQueryDef(e){this.popScope()}handleNestEntry(e){let t={range:this.translator.rangeFromContext(e),name:e.queryName().id().text,type:"query",children:[]},r=this.peekScope();return r&&r.children.push(t),t}enterNestExisting(e){this.handleNestEntry(e)}enterNestDef(e){let t=this.handleNestEntry(e);this.scopes.push(t)}exitNestDef(e){this.popScope()}enterFieldDef(e){let t={range:this.translator.rangeFromContext(e),name:e.fieldNameDef().id().text,type:"field",children:[]},r=this.peekScope();r&&r.children.push(t)}enterQueryFieldRef(e){let t={range:this.translator.rangeFromContext(e),name:e.fieldPath().text,type:"field",children:[]},r=this.peekScope();r&&r.children.push(t)}enterExploreRenameDef(e){let t={range:this.translator.rangeFromContext(e),name:e.fieldName()[0].text,type:"field",children:[]},r=this.peekScope();r&&r.children.push(t)}enterJoinWith(e){this.handleJoinDef(e)}enterJoinOn(e){this.handleJoinDef(e)}handleJoinDef(e){let t={range:this.translator.rangeFromContext(e),name:e.joinNameDef().id().text,type:"join",children:[]},r=this.peekScope();r&&r.children.push(t)}enterDefineSQLStatement(e){var t;let r=(t=e.nameSQLBlock())===null||t===void 0?void 0:t.text,i={range:this.translator.rangeFromContext(e),name:r||"unnamed_sql",type:r===void 0?"unnamed_sql":"sql",children:[]};this.symbols.push(i)}};function _1t(n,e,t){let r=new Xwe(n,e,[],[]),i=r;return v1t.ParseTreeWalker.DEFAULT.walk(i,t),r.symbols}Nz.walkForDocumentSymbols=_1t});var Uae=Ae(Gi=>{"use strict";m();Object.defineProperty(Gi,"__esModule",{value:!0});Gi.sortHighlights=Gi.walkForDocumentHighlights=Gi.passForHighlights=Gi.HighlightType=void 0;var E1t=RE(),_i=Aoe();Gi.HighlightType={Identifier:"identifier",Type:"type",Literal:{Date:"literal.date",Number:"literal.number",String:"literal.string",RegularExpression:"literal.regular_expression",Boolean:"literal.boolean",Null:"literal.null"},Call:{Aggregate:"call.aggregate",TimeFrame:"call.time_frame",Cast:"call.cast",Table:"call.table",From:"call.from",Function:"call.function",FromSQL:"call.from_sql"},Keyword:{AggregateModifier:{Distinct:"keyword.aggregate_modifier.distinct"},CastModifier:{As:"keyword.cast_modifier.as"},Is:"keyword.is",On:"keyword.on",Desc:"keyword.desc",Asc:"keyword.asc",Pick:"keyword.pick",When:"keyword.when",Else:"keyword.else",With:"keyword.with",JSON:"keyword.json",Turtle:"keyword.turtle",Import:"keyword.import"},Operator:{Comparison:"operator.comparison",Boolean:"operator.boolean",Date:"operator.date"},Comment:{Line:"comment.line",Block:"comment.block"},Property:{Accept:"property.accept",Aggregate:"property.aggregate",Dimension:"property.dimension",Except:"property.except",Source:"property.source",GroupBy:"property.group_by",Having:"property.having",Index:"property.index",JoinOne:"keyword.join_one",JoinMany:"keyword.join_many",JoinCross:"keyword.join_cross",Limit:"property.limit",Measure:"property.measure",Nest:"property.nest",OrderBy:"property.order_by",PrimaryKey:"property.primary_key",Project:"property.project",Query:"property.query",Rename:"property.rename",Top:"property.top",Where:"property.where",SQL:"property.sql"}};function b1t(n){let e=[],t=(r,i,s=!1)=>{var o;let a=r.startIndex-r.charPositionInLine,l=((o=r.text)===null||o===void 0?void 0:o.split(`
`))||[],f=l.length,p=l.slice(0,-1).reduce((b,R)=>b+R.length,0),_=s?1:0;e.push({type:i,range:{start:{line:r.line-1,character:r.startIndex-a},end:{line:r.line-1+f-1,character:r.stopIndex+2-(f>1?r.startIndex:a)-p-f-_}}})};for(let r=0;r<n.size;r++){let i=n.get(r);switch(i.type){case _i.MalloyParser.ACCEPT:t(i,Gi.HighlightType.Property.Accept,!0);break;case _i.MalloyParser.AGGREGATE:t(i,Gi.HighlightType.Property.Aggregate,!0);break;case _i.MalloyParser.DIMENSION:t(i,Gi.HighlightType.Property.Dimension,!0);break;case _i.MalloyParser.EXCEPT:t(i,Gi.HighlightType.Property.Except,!0);break;case _i.MalloyParser.GROUP_BY:t(i,Gi.HighlightType.Property.GroupBy,!0);break;case _i.MalloyParser.HAVING:t(i,Gi.HighlightType.Property.Having,!0);break;case _i.MalloyParser.INDEX:t(i,Gi.HighlightType.Property.Index,!0);break;case _i.MalloyParser.JOIN_CROSS:t(i,Gi.HighlightType.Property.JoinOne,!0);break;case _i.MalloyParser.JOIN_ONE:t(i,Gi.HighlightType.Property.JoinMany,!0);break;case _i.MalloyParser.JOIN_MANY:t(i,Gi.HighlightType.Property.JoinCross,!0);break;case _i.MalloyParser.LIMIT:t(i,Gi.HighlightType.Property.Limit,!0);break;case _i.MalloyParser.MEASURE:t(i,Gi.HighlightType.Property.Measure,!0);break;case _i.MalloyParser.NEST:t(i,Gi.HighlightType.Property.Nest,!0);break;case _i.MalloyParser.ORDER_BY:t(i,Gi.HighlightType.Property.OrderBy,!0);break;case _i.MalloyParser.PRIMARY_KEY:t(i,Gi.HighlightType.Property.PrimaryKey,!0);break;case _i.MalloyParser.PROJECT:t(i,Gi.HighlightType.Property.Project,!0);break;case _i.MalloyParser.QUERY:t(i,Gi.HighlightType.Property.Query,!0);break;case _i.MalloyParser.RENAME:t(i,Gi.HighlightType.Property.Rename,!0);break;case _i.MalloyParser.SOURCE:t(i,Gi.HighlightType.Property.Source,!0);break;case _i.MalloyParser.TOP:t(i,Gi.HighlightType.Property.Top,!0);break;case _i.MalloyParser.WHERE:t(i,Gi.HighlightType.Property.Where,!0);break;case _i.MalloyParser.SQL:t(i,Gi.HighlightType.Property.SQL,!0);break;case _i.MalloyParser.TABLE:t(i,Gi.HighlightType.Call.Table);break;case _i.MalloyParser.FROM:t(i,Gi.HighlightType.Call.From);break;case _i.MalloyParser.FROM_SQL:t(i,Gi.HighlightType.Call.FromSQL);break;case _i.MalloyParser.STRING_LITERAL:case _i.MalloyParser.JSON_STRING:t(i,Gi.HighlightType.Literal.String);break;case _i.MalloyParser.NUMERIC_LITERAL:case _i.MalloyParser.INTEGER_LITERAL:t(i,Gi.HighlightType.Literal.Number);break;case _i.MalloyParser.HACKY_REGEX:t(i,Gi.HighlightType.Literal.RegularExpression);break;case _i.MalloyParser.IS:t(i,Gi.HighlightType.Keyword.Is);break;case _i.MalloyParser.DISTINCT:t(i,Gi.HighlightType.Keyword.AggregateModifier.Distinct);break;case _i.MalloyParser.ON:t(i,Gi.HighlightType.Keyword.On);break;case _i.MalloyParser.DESC:t(i,Gi.HighlightType.Keyword.Desc);break;case _i.MalloyParser.ASC:t(i,Gi.HighlightType.Keyword.Asc);break;case _i.MalloyParser.CAST:t(i,Gi.HighlightType.Call.Cast);break;case _i.MalloyParser.AS:t(i,Gi.HighlightType.Keyword.CastModifier.As);break;case _i.MalloyParser.PICK:t(i,Gi.HighlightType.Keyword.Pick);break;case _i.MalloyParser.WHEN:t(i,Gi.HighlightType.Keyword.When);break;case _i.MalloyParser.WITH:t(i,Gi.HighlightType.Keyword.With);break;case _i.MalloyParser.ELSE:t(i,Gi.HighlightType.Keyword.Else);break;case _i.MalloyParser.JSON:t(i,Gi.HighlightType.Keyword.JSON);break;case _i.MalloyParser.TURTLE:t(i,Gi.HighlightType.Keyword.Turtle);break;case _i.MalloyParser.TRUE:case _i.MalloyParser.FALSE:t(i,Gi.HighlightType.Literal.Boolean);break;case _i.MalloyParser.NOW:case _i.MalloyParser.LITERAL_TIMESTAMP:case _i.MalloyParser.LITERAL_QUARTER:case _i.MalloyParser.LITERAL_MONTH:case _i.MalloyParser.LITERAL_DAY:case _i.MalloyParser.LITERAL_WEEK:case _i.MalloyParser.LITERAL_YEAR:t(i,Gi.HighlightType.Literal.Date);break;case _i.MalloyParser.NULL:t(i,Gi.HighlightType.Literal.Null);break;case _i.MalloyParser.AND:case _i.MalloyParser.OR:case _i.MalloyParser.NOT:t(i,Gi.HighlightType.Operator.Boolean);break;case _i.MalloyParser.FOR:t(i,Gi.HighlightType.Operator.Date);break;case _i.MalloyParser.COMMENT_TO_EOL:t(i,Gi.HighlightType.Comment.Line);break;case _i.MalloyParser.BLOCK_COMMENT:t(i,Gi.HighlightType.Comment.Block);break;case _i.MalloyParser.SUM:case _i.MalloyParser.COUNT:case _i.MalloyParser.AVG:case _i.MalloyParser.MIN:case _i.MalloyParser.MAX:t(i,Gi.HighlightType.Call.Aggregate);break;case _i.MalloyParser.IDENTIFIER:case _i.MalloyParser.OBJECT_NAME_LITERAL:t(i,Gi.HighlightType.Identifier);break;case _i.MalloyParser.STRING:case _i.MalloyParser.NUMBER:case _i.MalloyParser.BOOLEAN:case _i.MalloyParser.DATE:case _i.MalloyParser.TIMESTAMP:t(i,Gi.HighlightType.Type);break;case _i.MalloyParser.SECOND:case _i.MalloyParser.MINUTE:case _i.MalloyParser.HOUR:case _i.MalloyParser.DAY:case _i.MalloyParser.WEEK:case _i.MalloyParser.MONTH:case _i.MalloyParser.QUARTER:case _i.MalloyParser.YEAR:t(i,Gi.HighlightType.Call.TimeFrame);break;case _i.MalloyParser.IMPORT:t(i,Gi.HighlightType.Keyword.Import);break}}return e}Gi.passForHighlights=b1t;var e9e=class{constructor(e,t){this.tokens=e,this.highlights=t}rangeOf(e){let t=e.stop||e.start;return{start:{line:e.start.line-1,character:e.start.charPositionInLine},end:{line:t.line-1,character:t.stopIndex-(t.startIndex-t.charPositionInLine)+1}}}enterExprFunc(e){let t=e.id()||e.timeframe();t&&this.highlights.push({range:this.rangeOf(t),type:Gi.HighlightType.Call.Function})}};function S1t(n,e){let t=new e9e(n,[]),r=t;return E1t.ParseTreeWalker.DEFAULT.walk(r,e),t.highlights}Gi.walkForDocumentHighlights=S1t;function C1t(n){return n.sort((e,t)=>e.range.start.line<t.range.start.line?-1:e.range.start.line>t.range.start.line?1:e.range.start.character<t.range.start.character?-1:e.range.start.character>t.range.start.character?1:0)}Gi.sortHighlights=C1t});var n9e=Ae(Lz=>{"use strict";m();Object.defineProperty(Lz,"__esModule",{value:!0});Lz.walkForDocumentCompletions=void 0;var w1t=RE(),A1t=["dimension","measure","join_one","join_many","join_cross","where","primary_key","rename","accept","except","query","declare"],T1t=["group_by","project","index","aggregate","top","limit","order_by","where","having","nest","declare"],F1t=["source","explore","query","sql"],t9e=class{constructor(e,t,r){this.tokens=e,this.completions=t,this.position=r}rangeOf(e){let t=e.stop||e.start;return{start:{line:e.start.line-1,character:e.start.charPositionInLine},end:{line:t.line-1,character:t.stopIndex-(t.startIndex-t.charPositionInLine)+1}}}inRange(e){let{start:t,end:r}=e,i=this.position.line>t.line||this.position.line===t.line&&this.position.character>=t.character,s=this.position.line<r.line||this.position.line===r.line&&this.position.character<=r.character;return i&&s}enterExploreProperties(e){if(this.inRange(this.rangeOf(e))){let t=!1;for(let r of e.exploreStatement())this.inRange(this.rangeOf(r))&&(t=!0);if(!t)for(let r of A1t)this.completions.push({type:"explore_property",text:`${r}: `})}}enterQueryProperties(e){if(this.inRange(this.rangeOf(e))){let t=!1;for(let r of e.queryStatement())this.inRange(this.rangeOf(r))&&(t=!0);if(!t)for(let r of T1t)this.completions.push({type:"query_property",text:`${r}: `})}}enterMalloyDocument(e){if(this.inRange(this.rangeOf(e))){let t=!1;for(let r of e.malloyStatement())this.inRange(this.rangeOf(r))&&(t=!0);if(!t)for(let r of F1t)this.completions.push({type:"model_property",text:`${r}: `})}}};function D1t(n,e,t){let r=new t9e(n,[],t),i=r;return w1t.ParseTreeWalker.DEFAULT.walk(i,e),r.completions}Lz.walkForDocumentCompletions=D1t});var i9e=Ae(r9e=>{"use strict";m();Object.defineProperty(r9e,"__esModule",{value:!0})});var o9e=Ae(s9e=>{"use strict";m();Object.defineProperty(s9e,"__esModule",{value:!0})});var u9e=Ae(kz=>{"use strict";m();Object.defineProperty(kz,"__esModule",{value:!0});kz.ParseTreeProperty=void 0;var a9e=class{constructor(e="ParseTreeProperty"){this._symbol=Symbol(e)}get(e){return e[this._symbol]}set(e,t){e[this._symbol]=t}removeFrom(e){let t=e[this._symbol];return delete e[this._symbol],t}};kz.ParseTreeProperty=a9e});var c9e=Ae(l9e=>{"use strict";m();Object.defineProperty(l9e,"__esModule",{value:!0})});var d9e=Ae(f9e=>{"use strict";m();Object.defineProperty(f9e,"__esModule",{value:!0})});var p9e=Ae(h9e=>{"use strict";m();Object.defineProperty(h9e,"__esModule",{value:!0})});var m9e=Ae(Tf=>{"use strict";m();var R1t=Tf&&Tf.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),D1=Tf&&Tf.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&R1t(e,n,t)};Object.defineProperty(Tf,"__esModule",{value:!0});D1(jae(),Tf);D1(sC(),Tf);D1(i9e(),Tf);D1(o9e(),Tf);D1(u9e(),Tf);D1(c9e(),Tf);D1(RE(),Tf);D1(oC(),Tf);D1(d9e(),Tf);D1(gy(),Tf);D1(p9e(),Tf);D1(yy(),Tf)});var g9e=Ae(Iz=>{"use strict";m();Object.defineProperty(Iz,"__esModule",{value:!0});Iz.walkForDocumentHelpContext=void 0;var O1t=m9e(),x9e=class extends O1t.AbstractParseTreeVisitor{constructor(e){super();this.position=e,this.type=""}rangeOf(e){let t=e.stop||e.start;return{start:{line:e.start.line-1,character:e.start.charPositionInLine},end:{line:t.line-1,character:t.stopIndex-(t.startIndex-t.charPositionInLine)+1}}}inRange(e){return e.start.line<=this.position.line&&e.end.line>=this.position.line&&(this.position.line!==e.start.line||this.position.character>=e.start.character)&&(this.position.line!==e.end.line||this.position.character<=e.end.character)}defaultResult(){}visitChildren(e){let t=this.defaultResult();if(this.inRange(this.rangeOf(e))){t={type:this.type,token:e.start.text};let r=e.childCount;for(let i=0;i<r;i++){let o=e.getChild(i).accept(this);o&&(t=this.aggregateResult(t,o))}}return t}visitMalloyDocument(e){return this.inRange(this.rangeOf(e))?(this.type="model_property",this.visitChildren(e)):this.defaultResult()}visitExploreProperties(e){return this.inRange(this.rangeOf(e))?(this.type="explore_property",this.visitChildren(e)):this.defaultResult()}visitQueryProperties(e){return this.inRange(this.rangeOf(e))?(this.type="query_property",this.visitChildren(e)):this.defaultResult()}aggregateResult(e,t){return t}};function N1t(n,e){return new x9e(e).visit(n)}Iz.walkForDocumentHelpContext=N1t});var v9e=Ae(Mz=>{"use strict";m();Object.defineProperty(Mz,"__esModule",{value:!0});Mz.ReferenceList=void 0;var y9e=class{constructor(e){this.sourceURL=e,this.references=[]}findIndexBefore(e){let t=0,r=this.references.length;for(;t<r;){let i=Math.floor((t+r)/2),s=this.references[i].location.range.end;s.line<e.line||s.line===e.line&&s.character<e.character?t=i+1:r=i}return t}add(e){if(e.location.url!==this.sourceURL)return;let t=this.findIndexBefore(e.location.range.end);t<this.references.length&&this.isPositionEqual(e,this.references[t])||this.references.splice(t,0,e)}isPositionEqual(e,t){let r=e.location.range,i=t.location.range;return r.start.line===i.start.line&&r.start.character===i.start.character&&r.end.line===i.end.line&&r.end.character===i.end.character}find(e){let t=this.findIndexBefore(e);if(t===this.references.length)return;let r=this.references[t];if(r.location.range.start.line<=e.line&&r.location.range.end.line>=e.line&&(e.line!==r.location.range.start.line||e.character>=r.location.range.start.character)&&(e.line!==r.location.range.end.line||e.character<=r.location.range.end.character))return r}};Mz.ReferenceList=y9e});var N9e=Ae(R1=>{"use strict";m();var L1t=R1&&R1.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),k1t=R1&&R1.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),I1t=R1&&R1.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&L1t(e,n,t);return k1t(e,n),e};Object.defineProperty(R1,"__esModule",{value:!0});R1.MalloyTranslator=R1.MalloyTranslation=void 0;var _9e=j7e(),M1t=U7e(),P1t=Aoe(),Pz=I1t(_4()),B1t=Vwe(),j1t=Qwe(),q1t=Ywe(),$ae=Jwe(),U1t=Zwe(),zae=Uae(),$1t=n9e(),z1t=g9e(),H1t=v9e(),E9e=class extends M1t.MalloyLexer{popMode(){return this._modeStack.isEmpty?this._mode:super.popMode()}},b9e=class{constructor(e,t){this.translator=e,this.messages=t}syntaxError(e,t,r,i,s,o){let a={line:r-1,character:i},l=t?this.translator.rangeFromToken(t):{start:a,end:a},f={message:s,at:{url:this.translator.sourceURL,range:l}};this.messages.log(f)}};function Bz(n){return!!n&&(n.tables||n.urls||n.compileSQL)!=null}var S9e=class{step(e){if(this.response)return this.response;if(e.urlIsFullPath===void 0)try{let s=new URL(e.sourceURL);e.urlIsFullPath=!0}catch(s){let o=s instanceof Error?s.message:"";e.urlIsFullPath=!1,e.root.logger.log({message:`Could not compute full path URL: ${o}`})}if(!e.urlIsFullPath)return e.fatalErrors();let t=e.root.importZone.getEntry(e.sourceURL);if(t.status!=="present"){if(t.status==="error"){let s=t.message.includes(e.sourceURL)?`import error: ${t.message}`:`import '${e.sourceURL}' error: ${t.message}`,o=t.firstReference||e.defaultLocation();return e.root.logger.log({message:s,at:o}),this.response=e.fatalErrors(),this.response}return{urls:[e.sourceURL]}}let r=t.value==""?`
`:t.value;this.sourceInfo=this.getSourceInfo(r);let i;try{i=this.runParser(r,e)}catch(s){e.root.logger.log({message:`Malloy internal parser exception [${s.message}]`}),i=void 0}return e.root.logger.hasErrors()?this.response={parse:i,...e.fatalErrors()}:this.response={parse:i},this.response}getSourceInfo(e){let t=/\r?\n/,r={at:[],lines:[],length:e.length},i=e,s=0;for(;i!=="";){let o=i.match(t);if(o&&o.index!=null){r.lines.push(i.slice(0,o.index));let a=o.index+o[0].length;r.at.push({begin:s,end:s+a}),s+=a,i=i.slice(a)}else{r.lines.push(i),r.at.push({begin:s,end:s+i.length});break}}return r}runParser(e,t){let r=_9e.CharStreams.fromString(e),i=new E9e(r),s=new _9e.CommonTokenStream(i),o=new P1t.MalloyParser(s);o.removeErrorListeners(),o.addErrorListener(new b9e(t,t.root.logger));let a=o[t.grammarRule];if(!a)throw new Error(`No such parse rule as ${t.grammarRule}`);return{root:a.call(o),tokenStream:s,sourceStream:r,malloyVersion:"?.?.?-????",subTranslator:t}}},C9e=class{constructor(e){this.parseStep=e,this.alreadyLooked=!1}step(e){let t=this.parseStep.step(e);if(t.parse==null)return t;if(!this.alreadyLooked){this.alreadyLooked=!0;let o=(0,q1t.findReferences)(e,t.parse.tokenStream,t.parse.root);if(o==null?void 0:o.tables)for(let a in o.tables)e.root.schemaZone.reference(a,{url:e.sourceURL,range:o.tables[a]});if(o==null?void 0:o.urls)for(let a in o.urls){let l=o.urls[a];try{let f=decodeURI(new URL(a,e.sourceURL).toString());e.addChild(f),e.root.importZone.reference(f,{url:e.sourceURL,range:l})}catch{e.root.logger.log({message:`Malformed URL '${a}'"`,at:{url:e.sourceURL,range:l}})}}}if(e.root.logger.hasErrors())return null;let r={},i=e.root.schemaZone.getUndefined();i&&(r={tables:i});let s=e.root.importZone.getUndefined();if(s&&(r={...r,urls:s}),Bz(r))return r;for(let o of e.childTranslators.values()){let a=o.importsAndTablesStep.step(o);if(Bz(a))return a}return null}},w9e=class{constructor(e){this.importStep=e,this.walked=!1}step(e){if(this.response)return this.response;let t=this.importStep.step(e);if(t)return t;let r=e.parseStep.response;if(e.root.logger.hasErrors())return this.response=e.fatalErrors(),this.response;let i=r==null?void 0:r.parse;if(!i)throw new Error("TRANSLATOR INTERNAL ERROR: Translator parse response had no errors, but also no parser");let o=new B1t.MalloyToAST(i,e.root.logger).visit(i.root);if(e.root.logger.hasErrors())return this.response=e.fatalErrors(),this.response;if(o.elementType==="unimplemented")throw new Error("TRANSLATOR INTERNAL ERROR: Unimplemented AST node");let a={};if(this.walked||(o.walk(l=>{l instanceof Pz.SQLSource?(a[l.refName]||(a[l.refName]={}),a[l.refName].ref=l):l instanceof Pz.SQLStatement&&l.is?(a[l.is]||(a[l.is]={}),a[l.is].def=l):l instanceof Pz.Unimplemented&&l.log("INTERNAL COMPILER ERROR: Untranslated parse node")}),this.walked=!0),e.root.logger.hasErrors())return this.response=e.fatalErrors(),this.response;for(let l of e.childTranslators.values()){let f=l.astStep.step(l);if(Bz(f))return f}return o.setTranslator(e),this.response={...e.errors(),ast:o,final:!0},this.response}},A9e=class{constructor(e){this.parseStep=e}step(e){if(!this.response){let t=this.parseStep.step(e);if(t.parse){let r;try{r=(0,U1t.walkForDocumentSymbols)(e,t.parse.tokenStream,t.parse.root)}catch{}let i;try{i=(0,zae.walkForDocumentHighlights)(t.parse.tokenStream,t.parse.root)}catch{i=[]}this.response={symbols:r,highlights:(0,zae.sortHighlights)([...(0,zae.passForHighlights)(t.parse.tokenStream),...i]),final:!0}}else return t}return this.response}},T9e=class{constructor(e){this.parseStep=e}step(e,t){let r=this.parseStep.step(e);if(r.parse){let i=[];if(t!==void 0)try{i=(0,$1t.walkForDocumentCompletions)(r.parse.tokenStream,r.parse.root,t)}catch{}return{...r,completions:i}}else return r}},F9e=class{constructor(e){this.parseStep=e}step(e,t){let r=this.parseStep.step(e);if(r.parse){let i;if(t!==void 0)try{i=(0,z1t.walkForDocumentHelpContext)(r.parse.root,t)}catch{}return{...r,helpContext:i}}else return r}},D9e=class{constructor(e){this.astStep=e}step(e,t){if(this.response)return this.response;let r=this.astStep.step(e);if(Bz(r))return r;if(!r.ast)return this.response=r,this.response;if(e.grammarRule==="malloyDocument")if(r.ast instanceof Pz.Document){let i=r.ast;for(i.initModelDef(t);;){let s=i.compile();if(s.needs)return s.needs;e.modelDef=s.modelDef,e.queryList=s.queryList,e.sqlBlocks=s.sqlBlocks;break}}else e.root.logger.log({message:`'${e.sourceURL}' did not parse to malloy document`,at:e.defaultLocation()});return e.root.logger.hasErrors()?this.response=e.fatalErrors():this.response={translated:{modelDef:e.modelDef,queryList:e.queryList,sqlBlocks:e.sqlBlocks},...e.errors(),final:!0},this.response}},jz=class{constructor(e,t="malloyDocument"){this.sourceURL=e,this.grammarRule=t,this.queryList=[],this.sqlBlocks=[],this.childTranslators=new Map,this.modelDef={name:e,exports:[],contents:{}},this.parseStep=new S9e,this.metadataStep=new A9e(this.parseStep),this.completionsStep=new T9e(this.parseStep),this.helpContextStep=new F9e(this.parseStep),this.importsAndTablesStep=new C9e(this.parseStep),this.astStep=new w9e(this.importsAndTablesStep),this.translateStep=new D9e(this.astStep),this.references=new H1t.ReferenceList(e)}addChild(e){this.childTranslators.get(e)||this.childTranslators.set(e,new R9e(e,this.root))}addReference(e){this.references.add(e)}referenceAt(e){return this.references.find(e)}fatalErrors(){return{final:!0,errors:[...this.root.logger.getLog()]}}errors(){return{errors:[...this.root.logger.getLog()]}}getLineMap(e){var t,r;if(e==this.sourceURL)return(t=this.parseStep.sourceInfo)===null||t===void 0?void 0:t.lines;let i=this.childTranslators.get(e);if(i)return(r=i.parseStep.sourceInfo)===null||r===void 0?void 0:r.lines}prettyErrors(){let e="",t="";for(let r of this.root.logger.getLog()){let i=r.message,s=this.sourceURL;if(r.at){s=r.at.url;let o=r.at.range.start.line,a=r.at.range.start.character,l=this.getLineMap(r.at.url);if(l){let f=l[o];i=`line ${o+1}: ${r.message}
  | ${f}`,a>0&&(i=i+`
  | ${" ".repeat(a)}^`)}else i=`line ${o+1}: char ${a}: ${r.message}`}t!==s&&(i=`FILE: ${s}
`+i,t=s),e!==""?e=`${e}
${i}`:e=i}return e}childRequest(e){var t;let r=decodeURI(new URL(e,this.sourceURL).toString()),i=(t=this.childTranslators.get(r))===null||t===void 0?void 0:t.translate();if(i==null?void 0:i.compileSQL)return{compileSQL:i.compileSQL,partialModel:i.partialModel}}getChildExports(e){let t={},r=decodeURI(new URL(e,this.sourceURL).toString()),i=this.childTranslators.get(r);if(i&&i.translate().translated)for(let o of i.modelDef.exports){let a=i.modelDef.contents[o];a.type==="struct"&&(t[o]=a)}return t}translate(e){if(this.finalAnswer)return this.finalAnswer;let t=this.translateStep.step(this,e);return t.final&&(this.finalAnswer=t),t}metadata(){return this.metadataStep.step(this)}completions(e){return this.completionsStep.step(this,e)}helpContext(e){return this.helpContextStep.step(this,e)}defaultLocation(){return{url:this.sourceURL,range:{start:{line:0,character:0},end:{line:0,character:0}}}}rangeFromContext(e){return this.rangeFromTokens(e.start,e.stop||e.start)}rangeFromTokens(e,t){let r={line:e.line-1,character:e.charPositionInLine};if(this.parseStep.sourceInfo&&t.stopIndex!=-1){let i=this.parseStep.sourceInfo.lines.length-1;for(let s=e.line-1;s<=i;s++){let o=this.parseStep.sourceInfo.at[s];if(t.stopIndex>=o.begin&&t.stopIndex<=o.end)return{start:r,end:{line:s,character:t.stopIndex-o.begin+1}}}return{start:r,end:{line:i,character:this.parseStep.sourceInfo.lines[i].length}}}return{start:r,end:r}}rangeFromToken(e){return this.rangeFromTokens(e,e)}};R1.MalloyTranslation=jz;var R9e=class extends jz{constructor(e,t){super(e);this.root=t}},O9e=class extends jz{constructor(e,t=null){super(e);this.schemaZone=new $ae.Zone,this.importZone=new $ae.Zone,this.sqlQueryZone=new $ae.Zone,this.logger=new j1t.MessageLog,this.root=this,t&&this.update(t)}update(e){var t,r,i;this.schemaZone.updateFrom(e.tables,(t=e.errors)===null||t===void 0?void 0:t.tables),this.importZone.updateFrom(e.urls,(r=e.errors)===null||r===void 0?void 0:r.urls),this.sqlQueryZone.updateFrom(e.compileSQL,(i=e.errors)===null||i===void 0?void 0:i.compileSQL)}};R1.MalloyTranslator=O9e});var L9e=Ae(bw=>{"use strict";m();Object.defineProperty(bw,"__esModule",{value:!0});bw.exploreQueryWalkerBuilder=bw.ExploreQueryWalker=void 0;var V1t=RE(),Hae=class{constructor(e){this.inDocument=!1,this.exploreClauseRefs=[],this.tokens=e}exploreQueryAtOffset(e){return this.exploreClauseRefs.find(t=>t.range[0]===void 0||t.range[1]===void 0?!1:t.range[0]<=e&&t.range[1]>=e)}filterAtOffset(e){let t=this.exploreQueryAtOffset(e);if(!!t)return t.filterRefs.find(r=>r.range[0]===void 0||r.range[1]===void 0?!1:r.range[0]<=e&&r.range[1]>=e)}hasFilterListAtOffset(e){let t=this.exploreQueryAtOffset(e);return t?!!t.filterLists.find(r=>r.range[0]===void 0||r.range[1]===void 0?!1:r.range[0]<=e&&r.range[1]>=e):!1}enterMalloyDocument(){this.inDocument=!0}};bw.ExploreQueryWalker=Hae;function W1t(n,e){let t=new Hae(n),r=t;return V1t.ParseTreeWalker.DEFAULT.walk(r,e),t}bw.exploreQueryWalkerBuilder=W1t});var Vae=Ae(T4=>{"use strict";m();Object.defineProperty(T4,"__esModule",{value:!0});T4.HighlightType=T4.exploreQueryWalkerBuilder=T4.MalloyTranslator=void 0;var Q1t=N9e();Object.defineProperty(T4,"MalloyTranslator",{enumerable:!0,get:function(){return Q1t.MalloyTranslator}});var G1t=L9e();Object.defineProperty(T4,"exploreQueryWalkerBuilder",{enumerable:!0,get:function(){return G1t.exploreQueryWalkerBuilder}});var Y1t=Uae();Object.defineProperty(T4,"HighlightType",{enumerable:!0,get:function(){return Y1t.HighlightType}})});var $9e=Ae(Zr=>{"use strict";m();Object.defineProperty(Zr,"__esModule",{value:!0});Zr.CSVWriter=Zr.JSONWriter=Zr.DataWriter=Zr.DataRecord=Zr.DataArray=Zr.Result=Zr.ExploreMaterializer=Zr.SQLBlockMaterializer=Zr.PreparedResultMaterializer=Zr.QueryMaterializer=Zr.ModelMaterializer=Zr.SingleConnectionRuntime=Zr.ConnectionRuntime=Zr.Runtime=Zr.ExploreField=Zr.JoinRelationship=Zr.QueryField=Zr.Query=Zr.StringField=Zr.BooleanField=Zr.NumberField=Zr.TimestampField=Zr.DateField=Zr.TimestampTimeframe=Zr.DateTimeframe=Zr.AtomicField=Zr.AtomicFieldType=Zr.Explore=Zr.SourceRelationship=Zr.FixedConnectionMap=Zr.InMemoryURLReader=Zr.EmptyURLReader=Zr.PreparedResult=Zr.DocumentCompletion=Zr.DocumentSymbol=Zr.DocumentPosition=Zr.DocumentRange=Zr.DocumentHighlight=Zr.Parse=Zr.parseTableURI=Zr.PreparedQuery=Zr.Model=Zr.MalloyError=Zr.Malloy=void 0;var K1t=Vae(),F4=z7(),Tc=class{static get version(){return"0.0.1"}static get log(){return Tc._log||console}static setLogger(e){Tc._log=e}static _parse(e,t){t===void 0&&(t=new URL("internal://internal.malloy"));let r=new K1t.MalloyTranslator(t.toString(),{urls:{[t.toString()]:e}});return new Qae(r)}static parse({url:e,urlReader:t,source:r}){if(r!==void 0)return Tc._parse(r,e);if(t===void 0)throw new Error("Internal Error: urlReader is required.");if(e===void 0)throw new Error("Internal Error: url is required if source not present.");return t.readURL(e).then(i=>Tc._parse(i,e))}static async compile({urlReader:e,connections:t,parse:r,model:i}){let s=r._translator;for(;;){let o=s.translate(i==null?void 0:i._modelDef);if(o.final){if(o.translated)return new DO(o.translated.modelDef,o.translated.queryList,o.translated.sqlBlocks,a=>s.referenceAt(a));{let a=o.errors||[],l=s.prettyErrors();throw new Wae(`Error(s) compiling model:
${l}`,a)}}else{if(o.urls)for(let a of o.urls)try{if(a.startsWith("internal://"))throw new Error("In order to use relative imports, you must compile a file via a URL.");let l=await e.readURL(new URL(a)),f={[a]:l};s.update({urls:f})}catch(l){s.update({errors:{urls:{[a]:l.message}}})}if(o.tables){let a=new Map;for(let l of o.tables){let{connectionName:f}=k9e(l),p=a.get(f);p?p.push(l):p=[l],a.set(f,p)}for(let[l,f]of a)try{let p=await t.lookupConnection(l),{schemas:_,errors:b}=await p.fetchSchemaForTables(f);s.update({tables:_,errors:{tables:b}})}catch(p){let _={},b={};for(let R of f)b[R]=p.toString();s.update({tables:_,errors:{tables:b}})}}if(o.compileSQL){let a=o.compileSQL,l=a.connection;try{let f=await t.lookupConnection(l),p=Tc.compileSQLBlock(o.partialModel,a),_=await f.fetchSchemaForSQLBlock(p);_.error&&s.update({errors:{compileSQL:{[p.name]:_.error}}}),_.structDef&&(0,F4.isSQLBlock)(_.structDef)&&s.update({compileSQL:{[p.name]:_.structDef}})}catch(f){let p={};p[a.name]=f.toString(),s.update({errors:{compileSQL:p}})}}}}}static compileSQLBlock(e,t){let r,i=t.select.map(a=>{if((0,F4.isSQLFragment)(a))return a.sql;if(!r){if(!e)throw new Error("Internal error: Partial model missing when compiling SQL block");r=new F4.QueryModel(e)}return r.compileQuery(a).sql}),{name:s,connection:o}=t;return{type:"sqlBlock",name:s,connection:o,selectStr:i.join("")}}static async run({connections:e,preparedResult:t,sqlStruct:r,connection:i,options:s}){let o=r==null?void 0:r.structSource.sqlBlock;if(!i){if(!e)throw new Error("Internal Error: Connection or LookupConnection<Connection> must be provided.");let a=(o==null?void 0:o.connection)||(t==null?void 0:t.connectionName);i=await e.lookupConnection(a)}if(r&&o){if(r.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");let a=await i.runSQL(o.selectStr);return new Fw({structs:[r],sql:o.selectStr,result:a.rows,totalRows:a.totalRows,lastStageName:o.name,malloy:"",connectionName:r.structRelationship.connectionName,sourceExplore:"",sourceFilters:[]},{name:"empty_model",exports:[],contents:{}})}else if(t){let a=await i.runSQL(t.sql,s);return new Fw({...t._rawQuery,result:a.rows,totalRows:a.totalRows},t._modelDef)}else throw new Error("Internal error: sqlStruct or preparedResult must be provided.")}static async*runStream({connections:e,preparedResult:t,sqlStruct:r,connection:i,options:s}){let o=r==null?void 0:r.structSource.sqlBlock;if(o===void 0&&t===void 0)throw new Error("Internal error: sqlBlock or preparedResult must be provided.");let a=(o==null?void 0:o.connection)||(t==null?void 0:t.connectionName);if(i===void 0){if(e===void 0)throw new Error("Internal Error: Connection or LookupConnection<Connection> must be provided.");i=await e.lookupConnection(a)}if(!i.canStream())throw new Error(`Connection '${a}' cannot stream results.`);let l,f;if(r){if(r.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");f=new Px(r),l=r.structSource.sqlBlock.selectStr}else if(t!==void 0)f=t.resultExplore,l=t.sql;else throw new Error("Internal error: sqlStruct or preparedResult must be provided.");let p=0;for await(let _ of i.runSQLStream(l,s))yield new D4(_,p,f,void 0),p+=1}};Zr.Malloy=Tc;var Wae=class extends Error{constructor(e,t=[]){super(e);this.log=t}};Zr.MalloyError=Wae;var DO=class{constructor(e,t,r,i=()=>{}){this.modelDef=e,this.queryList=t,this.sqlBlocks=r,this._referenceAt=i}getReference(e){return this._referenceAt(e)}getPreparedQueryByName(e){let t=this.modelDef.contents[e];if(t.type==="query")return new Ry(t,this.modelDef,e);throw new Error("Given query name does not refer to a named query.")}getPreparedQueryByIndex(e){if(e<0)throw new Error(`Invalid index ${e}.`);if(e>=this.queryList.length)throw new Error(`Query index ${e} is out of bounds.`);return new Ry(this.queryList[e],this.modelDef)}getSQLBlockByName(e){let t=this.sqlBlocks.find(r=>r.as===e);if(t===void 0)throw new Error(`No SQL Block named '${e}'`);return t}getSQLBlockByIndex(e){let t=this.sqlBlocks[e];if(t===void 0)throw new Error(`No SQL Block at index ${e}`);return t}get preparedQuery(){if(this.queryList.length===0)throw new Error("Model has no queries.");return new Ry(this.queryList[this.queryList.length-1],this.modelDef)}getExploreByName(e){let t=this.modelDef.contents[e];if(t.type==="struct")return new Px(t);throw new Error("'name' is not an explore")}get explores(){let e=[];for(let t in this.modelDef.contents){let r=this.modelDef.contents[t];r.type==="struct"&&e.push(new Px(r))}return e}get exportedExplores(){return this.explores.filter(e=>this.modelDef.exports.includes(e.name))}get _modelDef(){return this.modelDef}};Zr.Model=DO;var Ry=class{constructor(e,t,r){this._query=e,this._modelDef=t,this.name=r}get preparedResult(){let t=new F4.QueryModel(this._modelDef).compileQuery(this._query);return new Uz({...t,queryName:this.name||t.queryName},this._modelDef)}get dialect(){let e=this._query.structRef,t=typeof e=="string"?this._modelDef.contents[e]:e;if(t.type!=="struct")throw new Error("Invalid source for query");return t.dialect}getFlattenedQuery(e){let t=this._query.structRef;typeof t!="string"&&(t=t.as||t.name);let r=(0,F4.flattenQuery)(this._modelDef,{...this._query,type:"query",name:"as"in this._query?this._query.as||this._query.name:e});return new Ry({...r,structRef:t,type:"query"},this._modelDef,this.name||r.as||r.name)}};Zr.PreparedQuery=Ry;function k9e(n){let e=n.match(/^([^:]*):(.*)$/);if(e){let[,t,r]=e;return{connectionName:t,tablePath:r}}else return{tablePath:n}}Zr.parseTableURI=k9e;var Qae=class{constructor(e){this.translator=e}get highlights(){return(this.translator.metadata().highlights||[]).map(e=>new Gae(e))}get symbols(){return(this.translator.metadata().symbols||[]).map(e=>new RO(e))}get _translator(){return this.translator}completions(e){return(this.translator.completions(e).completions||[]).map(t=>new Yae(t))}helpContext(e){return this.translator.helpContext(e).helpContext}};Zr.Parse=Qae;var Gae=class{constructor(e){this._range=new qz(new Sw(e.range.start.line,e.range.start.character),new Sw(e.range.end.line,e.range.end.character)),this._type=e.type}get range(){return this._range}get type(){return this._type}};Zr.DocumentHighlight=Gae;var qz=class{constructor(e,t){this._start=e,this._end=t}get start(){return this._start}get end(){return this._end}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}};Zr.DocumentRange=qz;var Sw=class{constructor(e,t){this._line=e,this._character=t}get line(){return this._line}get character(){return this._character}toJSON(){return{line:this.line,character:this.character}}};Zr.DocumentPosition=Sw;var RO=class{constructor(e){this._range=new qz(new Sw(e.range.start.line,e.range.start.character),new Sw(e.range.end.line,e.range.end.character)),this._type=e.type,this._name=e.name,this._children=e.children.map(t=>new RO(t))}get range(){return this._range}get type(){return this._type}get name(){return this._name}get children(){return this._children}};Zr.DocumentSymbol=RO;var Yae=class{constructor(e){this.type=e.type,this.text=e.text}};Zr.DocumentCompletion=Yae;var Uz=class{constructor(e,t){this.inner=e,this.modelDef=t}get connectionName(){return this.inner.connectionName}get _rawQuery(){return this.inner}get _modelDef(){return this.modelDef}get sql(){return this.inner.sql}get resultExplore(){if(this.inner.structs.length===0)throw new Error("Malformed query result.");let e=this.inner.structs[this.inner.structs.length-1],t={...e,name:this.inner.queryName||e.name};try{return new Px(t,this.sourceExplore)}catch{return new Px(t)}}get sourceExplore(){let e=this.inner.sourceExplore,t=this.modelDef.contents[e];if(t===void 0)throw new Error("Malformed query result.");if(t.type==="struct")return new Px(t);throw new Error(`'${e} is not an explore`)}get _sourceExploreName(){return this.inner.sourceExplore}get _sourceFilters(){return this.inner.sourceFilters||[]}};Zr.PreparedResult=Uz;var Kae=class{async readURL(e){throw new Error("No files.")}};Zr.EmptyURLReader=Kae;var I9e=class{constructor(e){this.files=e}async readURL(e){let t=this.files.get(e.toString());if(t!==void 0)return Promise.resolve(t);throw new Error(`File not found '${e}'`)}};Zr.InMemoryURLReader=I9e;var Cw=class{constructor(e,t){this.connections=e,this.defaultConnectionName=t}async getConnection(e){if(e===void 0)if(this.defaultConnectionName!==void 0)e=this.defaultConnectionName;else throw new Error("No default connection.");let t=this.connections.get(e);if(t!==void 0)return Promise.resolve(t);throw new Error(`No connection found with name ${e}.`)}async lookupConnection(e){return this.getConnection(e)}static fromArray(e){return new Cw(new Map(e.map(t=>[t.name,t])))}};Zr.FixedConnectionMap=Cw;var OE;(function(n){n.Nested="nested",n.BaseTable="base_table",n.Cross="cross",n.One="one",n.Many="many",n.Inline="inline"})(OE=Zr.SourceRelationship||(Zr.SourceRelationship={}));var $z=class{constructor(e,t,r){this._name=e,this._parent=t,this._source=r}get source(){return this.source}get name(){return this._name}get sourceClasses(){let e=[];return this.source&&e.push(this.source.name),e.push(this.name),e}hasParentExplore(){return this._parent!==void 0}isExplore(){return this instanceof Px}isQuery(){return this instanceof Qz}},Px=class extends $z{constructor(e,t,r){super(e.as||e.name,t,r);this._structDef=e,this._parentExplore=t,this.sourceExplore=r}get source(){return this.sourceExplore}isIntrinsic(){return(0,F4.FieldIsIntrinsic)(this._structDef)}get name(){return this.structDef.as||this.structDef.name}getQueryByName(e){let t={type:"query",structRef:this.structDef,pipeline:[{type:"reduce",fields:[e]}]};return new Ry(t,this.modelDef,e)}get modelDef(){return{name:"generated_model",exports:[],contents:{[this.structDef.name]:this.structDef}}}getSingleExploreModel(){return new DO(this.modelDef,[],[])}get fieldMap(){var e;if(this._fieldMap===void 0){let t=((e=this.source)===null||e===void 0?void 0:e.fieldMap)||new Map;this._fieldMap=new Map(this.structDef.fields.map(r=>{let i=r.as||r.name,s=t.get(r.name);if(r.type==="struct")return[i,new Gz(r,this,s)];if(r.type==="turtle")return[i,new Qz(r,this,s)];if(r.type==="string")return[i,new Wz(r,this,s)];if(r.type==="number")return[i,new OO(r,this,s)];if(r.type==="date")return r.timeframe&&["day_of_month","day_of_week","day_of_year"].includes(r.timeframe)?[i,new OO({...r,type:"number"},this,s)]:[i,new zz(r,this,s)];if(r.type==="timestamp")return[i,new Hz(r,this,s)];if(r.type==="boolean")return[i,new Vz(r,this,s)]}))}return this._fieldMap}get allFields(){return[...this.fieldMap.values()]}get intrinsicFields(){return[...this.fieldMap.values()].filter(e=>e.isIntrinsic())}getFieldByName(e){let t=this.fieldMap.get(e);if(t===void 0)throw new Error(`No such field ${e}.`);return t}getFieldByNameIfExists(e){return this.fieldMap.get(e)}get primaryKey(){return this.structDef.primaryKey}get parentExplore(){return this._parentExplore}get sourceRelationship(){switch(this.structDef.structRelationship.type){case"many":return OE.Many;case"one":return OE.One;case"cross":return OE.Cross;case"inline":return OE.Inline;case"nested":return OE.Nested;case"basetable":return OE.BaseTable}}hasParentExplore(){return this instanceof Gz}get filters(){var e;return((e=this.structDef.resultMetadata)===null||e===void 0?void 0:e.filterList)||[]}get limit(){var e;return(e=this.structDef.resultMetadata)===null||e===void 0?void 0:e.limit}get structDef(){return this._structDef}};Zr.Explore=Px;var ww;(function(n){n.String="string",n.Number="number",n.Boolean="boolean",n.Date="date",n.Timestamp="timestamp"})(ww=Zr.AtomicFieldType||(Zr.AtomicFieldType={}));var NE=class extends $z{constructor(e,t,r){super(e.as||e.name,t,r);this.fieldTypeDef=e,this.parent=t}get type(){switch(this.fieldTypeDef.type){case"string":return ww.String;case"boolean":return ww.Boolean;case"date":return ww.Date;case"timestamp":return ww.Timestamp;case"number":return ww.Number}}isIntrinsic(){return(0,F4.FieldIsIntrinsic)(this.fieldTypeDef)}isQueryField(){return!1}isExploreField(){return!1}isAtomicField(){return!0}isAggregate(){return!!this.fieldTypeDef.aggregate}get sourceField(){throw new Error}get sourceClasses(){let e=this.fieldTypeDef.name||this.fieldTypeDef.as;return e?[e]:[]}sourceWasMeasure(){var e;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="measure"}sourceWasMeasureLike(){var e,t;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="measure"||((t=this.fieldTypeDef.resultMetadata)===null||t===void 0?void 0:t.fieldKind)==="struct"}sourceWasDimension(){var e;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="dimension"}hasParentExplore(){return!0}isString(){return this instanceof Wz}isNumber(){return this instanceof OO}isDate(){return this instanceof zz}isBoolean(){return this instanceof Vz}isTimestamp(){return this instanceof Hz}get parentExplore(){return this.parent}get expression(){var e,t;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.sourceExpression)||((t=this.fieldTypeDef.resultMetadata)===null||t===void 0?void 0:t.sourceField)||this.name}};Zr.AtomicField=NE;var Aw;(function(n){n.Day="day",n.Week="week",n.Month="month",n.Quarter="quarter",n.Year="year"})(Aw=Zr.DateTimeframe||(Zr.DateTimeframe={}));var Oy;(function(n){n.Day="day",n.Week="week",n.Month="month",n.Quarter="quarter",n.Year="year",n.Second="second",n.Hour="hour",n.Minute="minute"})(Oy=Zr.TimestampTimeframe||(Zr.TimestampTimeframe={}));var zz=class extends NE{constructor(e,t,r){super(e,t,r);this.fieldDateDef=e}get timeframe(){if(this.fieldDateDef.timeframe!==void 0)switch(this.fieldDateDef.timeframe){case"day":return Aw.Day;case"week":return Aw.Week;case"month":return Aw.Month;case"quarter":return Aw.Quarter;case"year":return Aw.Year}}};Zr.DateField=zz;var Hz=class extends NE{constructor(e,t,r){super(e,t,r);this.fieldTimestampDef=e}get timeframe(){if(this.fieldTimestampDef.timeframe!==void 0)switch(this.fieldTimestampDef.timeframe){case"day":return Oy.Day;case"week":return Oy.Week;case"month":return Oy.Month;case"quarter":return Oy.Quarter;case"year":return Oy.Year;case"second":return Oy.Second;case"hour":return Oy.Hour;case"minute":return Oy.Minute}}};Zr.TimestampField=Hz;var OO=class extends NE{constructor(e,t,r){super(e,t,r);this.fieldNumberDef=e}};Zr.NumberField=OO;var Vz=class extends NE{constructor(e,t,r){super(e,t,r);this.fieldBooleanDef=e}};Zr.BooleanField=Vz;var Wz=class extends NE{constructor(e,t,r){super(e,t,r);this.fieldStringDef=e}};Zr.StringField=Wz;var Jae=class extends $z{constructor(e,t,r){super(e.as||e.name,t,r);this.turtleDef=e}get source(){return this.sourceQuery}isIntrinsic(){return!1}};Zr.Query=Jae;var Qz=class extends Jae{constructor(e,t,r){super(e,t,r);this.parent=t}isQueryField(){return!0}isExploreField(){return!1}isAtomicField(){return!1}get sourceClasses(){let e=this.turtleDef.name||this.turtleDef.as;return e?[e]:[]}hasParentExplore(){return!0}get parentExplore(){return this.parent}get expression(){return this.name}};Zr.QueryField=Qz;var NO;(function(n){n.OneToOne="one_to_one",n.OneToMany="one_to_many",n.ManyToOne="many_to_one"})(NO=Zr.JoinRelationship||(Zr.JoinRelationship={}));var Gz=class extends Px{constructor(e,t,r){super(e,t,r);this._parentExplore=t}get joinRelationship(){switch(this.structDef.structRelationship.type){case"one":return NO.OneToMany;case"many":case"cross":return NO.ManyToOne;case"inline":return NO.OneToOne;case"nested":return NO.ManyToOne;default:throw new Error("An explore field must have a join relationship.")}}isQueryField(){return!1}isExploreField(){return!0}isAtomicField(){return!1}get parentExplore(){return this._parentExplore}get sourceClasses(){let e=this.structDef.name||this.structDef.as;return e?[e]:[]}};Zr.ExploreField=Gz;var Yz=class{constructor(...e){let t,r;for(let i of e)J1t(i)?t=i:X1t(i)?r=i:r={lookupConnection:()=>Promise.resolve(i)};if(t===void 0&&(t=new Kae),r===void 0)throw new Error("A LookupConnection<Connection> or Connection is required.");this._urlReader=t,this._connections=r}get urlReader(){return this._urlReader}get connections(){return this._connections}loadModel(e){return new Kz(this,async()=>{let t=e instanceof URL?await Tc.parse({url:e,urlReader:this.urlReader}):Tc.parse({source:e});return Tc.compile({urlReader:this.urlReader,connections:this.connections,parse:t})})}_loadModelFromModelDef(e){return new Kz(this,async function(){return new DO(e,[],[])})}loadQuery(e){return this.loadModel(e).loadFinalQuery()}loadQueryByIndex(e,t){return this.loadModel(e).loadQueryByIndex(t)}loadQueryByName(e,t){return this.loadModel(e).loadQueryByName(t)}loadSQLBlockByName(e,t){return this.loadModel(e).loadSQLBlockByName(t)}loadSQLBlockByIndex(e,t){return this.loadModel(e).loadSQLBlockByIndex(t)}getModel(e){return this.loadModel(e).getModel()}getQuery(e){return this.loadQuery(e).getPreparedQuery()}getQueryByIndex(e,t){return this.loadQueryByIndex(e,t).getPreparedQuery()}getQueryByName(e,t){return this.loadQueryByName(e,t).getPreparedQuery()}getSQLBlockByName(e,t){return this.loadSQLBlockByName(e,t).getSQLBlock()}getSQLBlockByIndex(e,t){return this.loadSQLBlockByIndex(e,t).getSQLBlock()}};Zr.Runtime=Yz;var M9e=class extends Yz{constructor(e,t){if(t===void 0){let r=e;super(Cw.fromArray(r));this.rawConnections=r}else{let r=t;super(e,Cw.fromArray(r));this.rawConnections=r}}};Zr.ConnectionRuntime=M9e;var P9e=class extends Yz{constructor(e,t){if(t===void 0){let r=e;super(r);this.connection=r}else{let r=t;super(e,r);this.connection=r}}};Zr.SingleConnectionRuntime=P9e;var Tw=class{constructor(e,t){this.runtime=e,this._materialize=t}materialize(){return this.materialized===void 0?this.rematerialize():this.materialized}rematerialize(){return this.materialized=this._materialize(),this.materialized}makeQueryMaterializer(e){return new Xae(this.runtime,e)}makeExploreMaterializer(e){return new tue(this.runtime,e)}makePreparedResultMaterializer(e){return new Zae(this.runtime,e)}makeSQLBlockMaterializer(e){return new eue(this.runtime,e)}},Kz=class extends Tw{loadFinalQuery(){return this.makeQueryMaterializer(async()=>(await this.materialize()).preparedQuery)}loadQueryByIndex(e){return this.makeQueryMaterializer(async()=>(await this.materialize()).getPreparedQueryByIndex(e))}loadQueryByName(e){return this.makeQueryMaterializer(async()=>(await this.materialize()).getPreparedQueryByName(e))}loadQuery(e){return this.makeQueryMaterializer(async()=>{let t=this.runtime.urlReader,r=this.runtime.connections,i=e instanceof URL?await Tc.parse({url:e,urlReader:t}):Tc.parse({source:e}),s=await this.getModel();return(await Tc.compile({urlReader:t,connections:r,parse:i,model:s})).preparedQuery})}async search(e,t,r=1e3,i=void 0){let s=await this.materialize(),o=new F4.QueryModel(s._modelDef),a=s.getExploreByName(e).structDef;if(a.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");let l=a.structRelationship.connectionName,f=await this.runtime.connections.lookupConnection(l);return await o.searchIndex(f,e,t,r,i)}async searchValueMap(e,t=10){let i=(await this.materialize()).getExploreByName(e);if(i.structDef.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");let s="{index: *}";i.getFieldByNameIfExists("search_index")&&(s="search_index");let o=`
      query: ${e}
        -> ${s}
        -> {
          where: fieldType = 'string'
          group_by: fieldName
          aggregate: cardinality is count(distinct fieldValue)
          nest: values is {
            project: fieldValue, weight
            order_by: weight desc
            limit: ${t}
          }
          limit: 1000
        }
    `;return(await this.loadQuery(o).run({rowLimit:1e3}))._queryResult.result}loadSQLBlockByName(e){return this.makeSQLBlockMaterializer(async()=>(await this.materialize()).getSQLBlockByName(e))}loadSQLBlockByIndex(e){return this.makeSQLBlockMaterializer(async()=>(await this.materialize()).getSQLBlockByIndex(e))}getFinalQuery(){return this.loadFinalQuery().getPreparedQuery()}getQueryByIndex(e){return this.loadQueryByIndex(e).getPreparedQuery()}getQueryByName(e){return this.loadQueryByName(e).getPreparedQuery()}getQuery(e){return this.loadQuery(e).getPreparedQuery()}getSQLBlockByName(e){return this.loadSQLBlockByName(e).getSQLBlock()}getSQLBlockByIndex(e){return this.loadSQLBlockByIndex(e).getSQLBlock()}_loadQueryFromQueryDef(e){return this.makeQueryMaterializer(async()=>{let t=await this.materialize();return new Ry(e,t._modelDef)})}loadExploreByName(e){return this.makeExploreMaterializer(async()=>(await this.materialize()).getExploreByName(e))}getExploreByName(e){return this.loadExploreByName(e).getExplore()}getModel(){return this.materialize()}};Zr.ModelMaterializer=Kz;var Xae=class extends Tw{async run(e){let t=this.runtime.connections,r=await this.getPreparedResult();return Tc.run({connections:t,preparedResult:r,options:e})}async*runStream(e){let t=await this.getPreparedResult(),r=this.runtime.connections,i=Tc.runStream({connections:r,preparedResult:t,options:e});for await(let s of i)yield s}loadPreparedResult(){return this.makePreparedResultMaterializer(async()=>(await this.materialize()).preparedResult)}getPreparedResult(){return this.loadPreparedResult().getPreparedResult()}async getSQL(){return(await this.getPreparedResult()).sql}getPreparedQuery(){return this.materialize()}};Zr.QueryMaterializer=Xae;var Zae=class extends Tw{async run(e){let t=await this.getPreparedResult(),r=this.runtime.connections;return Tc.run({connections:r,preparedResult:t,options:e})}async*runStream(e){let t=await this.getPreparedResult(),r=this.runtime.connections,i=Tc.runStream({connections:r,preparedResult:t,options:e});for await(let s of i)yield s}getPreparedResult(){return this.materialize()}async getSQL(){return(await this.getPreparedResult()).sql}};Zr.PreparedResultMaterializer=Zae;var eue=class extends Tw{async run(e){let t=await this.getSQLBlock(),r=this.runtime.connections;return Tc.run({connections:r,sqlStruct:t,options:e})}async*runStream(e){let t=await this.getSQLBlock(),r=this.runtime.connections,i=Tc.runStream({connections:r,sqlStruct:t,options:e});for await(let s of i)yield s}getSQLBlock(){return this.materialize()}async getSQL(){return(await this.getSQLBlock()).structSource.sqlBlock.selectStr}};Zr.SQLBlockMaterializer=eue;var tue=class extends Tw{loadQueryByName(e){return this.makeQueryMaterializer(async()=>(await this.materialize()).getQueryByName(e))}getQueryByName(e){return this.loadQueryByName(e).getPreparedQuery()}getExplore(){return this.materialize()}};Zr.ExploreMaterializer=tue;var Fw=class extends Uz{constructor(e,t){super(e,t);this.inner=e}get _queryResult(){return this.inner}get data(){return new Dw(this.inner.result,this.resultExplore,void 0)}get totalRows(){return this.inner.totalRows}toJSON(){return{queryResult:this.inner,modelDef:this._modelDef}}static fromJSON({queryResult:e,modelDef:t}){return new Fw(e,t)}};Zr.Result=Fw;var LO=class{constructor(e){this._field=e}get field(){return this._field}isString(){return this instanceof nue}get string(){if(this.isString())return this;throw new Error("Not a string.")}isBoolean(){return this instanceof rue}get boolean(){if(this.isBoolean())return this;throw new Error("Not a boolean.")}isNumber(){return this instanceof iue}get number(){if(this.isNumber())return this;throw new Error("Not a number.")}isTimestamp(){return this instanceof sue}get timestamp(){if(this.isTimestamp())return this;throw new Error("Not a timestamp.")}isDate(){return this instanceof oue}get date(){if(this.isDate())return this;throw new Error("Not a date.")}isNull(){return this instanceof aue}isBytes(){return this instanceof B9e}get bytes(){if(this.isBytes())return this;throw new Error("Not bytes.")}isRecord(){return this instanceof D4}get record(){if(this.isRecord())return this;throw new Error("Not a record.")}isArray(){return this instanceof Dw}get array(){if(this.isArray())return this;throw new Error("Not an array.")}isArrayOrRecord(){if(this instanceof Dw||this instanceof D4)return this;throw new Error("No Array or Record")}},LE=class extends LO{constructor(e,t){super(t);this._value=e,this._field=t}get value(){return this._value}get field(){return this._field}},nue=class extends LE{constructor(e,t){super(e,t);this._field=t}get field(){return this._field}},rue=class extends LE{constructor(e,t){super(e,t);this._field=t}get field(){return this._field}},iue=class extends LE{constructor(e,t){super(e,t);this._field=t}get field(){return this._field}},sue=class extends LE{constructor(e,t){super(e,t);this._field=t}get value(){return this._value instanceof Date?this._value:typeof this._value=="number"?new Date(super.value):typeof this._value!="string"?new Date(this._value.value):new Date(super.value)}get field(){return this._field}},oue=class extends LE{constructor(e,t){super(e,t);this._field=t}get value(){return this._value instanceof Date?this._value:typeof this._value!="string"?new Date(this._value.value):new Date(super.value)}get field(){return this._field}},B9e=class extends LE{},aue=class extends LO{get value(){return null}},Dw=class extends LO{constructor(e,t,r){super(t);this.parent=r,this.queryData=e,this._field=t}get field(){return this._field}toObject(){return this.queryData}path(...e){return j9e(this,e)}row(e){return new D4(this.queryData[e],e,this.field,this)}get rowCount(){return this.queryData.length}get value(){return this.toObject()}[Symbol.iterator](){let e=0,t=this.queryData,r=i=>this.row(i);return{next(){return e<t.length?{value:r(e++),done:!1}:{value:void 0,done:!0}}}}async*inMemoryStream(){for(let e=0;e<this.queryData.length;e++)yield this.row(e)}};Zr.DataArray=Dw;function j9e(n,e){for(let t of e)typeof t=="number"?n=n.array.row(t):n=n.record.cell(t);return n}var D4=class extends LO{constructor(e,t,r,i){super(r);this.parent=i,this.queryDataRow=e,this._field=r,this.index=t}toObject(){return this.queryDataRow}path(...e){return j9e(this,e)}cell(e){let t=typeof e=="string"?e:e.name,r=this._field.getFieldByName(t),i=this.queryDataRow[t];if(i===null)return new aue(r);if(r.isAtomicField()){if(r.isBoolean())return new rue(i,r);if(r.isDate())return new oue(i,r);if(r.isTimestamp())return new sue(i,r);if(r.isNumber())return new iue(i,r);if(r.isString())return new nue(i,r)}else if(r.isExploreField())return Array.isArray(i)?new Dw(i,r,this):new D4(i,void 0,r,this);throw new Error(`Internal Error: could not construct data column for field '${t}'.`)}get value(){throw new Error("Not implemented;")}get field(){return this._field}[Symbol.iterator](){let e=!1,t=()=>this;return{next(){return e?{value:void 0,done:!0}:(e=!0,{value:t(),done:!1})}}}};Zr.DataRecord=D4;function J1t(n){return"readURL"in n}function X1t(n){return"lookupConnection"in n}var Jz=class{constructor(e){this.stream=e}};Zr.DataWriter=Jz;var q9e=class extends Jz{async process(e){this.stream.write(`[
`);for await(let t of e){t.index!==void 0&&t.index>0&&this.stream.write(`,
`);let i=JSON.stringify(t.toObject(),null,2).split(`
`);for(let s=0;s<i.length;s++){let o=i[s];this.stream.write(`  ${o}`),s<i.length-1&&this.stream.write(`
`)}}this.stream.write(`
]
`),this.stream.close()}};Zr.JSONWriter=q9e;var U9e=class extends Jz{constructor(){super(...arguments);this.columnSeparator=",",this.rowSeparator=`
`,this.quoteCharacter='"',this.includeHeader=!0}escape(e){let t=e.includes(this.quoteCharacter),r=e.includes(this.columnSeparator),i=e.includes(this.rowSeparator),s=r||t||i;return t&&(e=e.replace(new RegExp(this.quoteCharacter,"g"),this.quoteCharacter+this.quoteCharacter)),s&&(e=this.quoteCharacter+e+this.quoteCharacter),e}stringify(e){return e.isNull()?"":e.isArray()||e.isRecord()||e.isBoolean()||e.isNumber()?JSON.stringify(e.value):e.isDate()||e.isTimestamp()?e.value.toISOString():e.isString()?e.value:`${e.value}`}async process(e){let t;for await(let r of e){if(t===void 0&&(t=r.field.allFields,this.includeHeader)){for(let i=0;i<t.length;i++){let s=t[i];this.stream.write(this.escape(s.name)),i!==t.length-1&&this.stream.write(this.columnSeparator)}this.stream.write(this.rowSeparator)}for(let i=0;i<t.length;i++){let s=t[i];this.stream.write(this.escape(this.stringify(r.cell(s)))),i!==t.length-1&&this.stream.write(this.columnSeparator)}this.stream.write(this.rowSeparator)}this.stream.close()}};Zr.CSVWriter=U9e});var z9e=Ae(Xz=>{"use strict";m();Object.defineProperty(Xz,"__esModule",{value:!0});Xz.toAsyncGenerator=void 0;async function*Z1t(n){let e=!1;function t(i){let s,o=new Promise(a=>{s=a});return i(a=>{s({done:!0,isError:!0,error:a})},a=>{s({done:!1,value:a,isError:!1,next:new Promise(l=>{s=l})})},()=>{s({done:!0,isError:!1})}),o}let r=t(n);for(;!e;){let i=await r;if(i.done){if(e=!0,i.isError)throw i.error;break}else r=i.next,yield i.value}}Xz.toAsyncGenerator=Z1t});var up=Ae(Ss=>{"use strict";m();Object.defineProperty(Ss,"__esModule",{value:!0});Ss.toAsyncGenerator=Ss.DataWriter=Ss.JSONWriter=Ss.CSVWriter=Ss.QueryMaterializer=Ss.parseTableURI=Ss.Result=Ss.TimestampTimeframe=Ss.DateTimeframe=Ss.SourceRelationship=Ss.JoinRelationship=Ss.MalloyError=Ss.FixedConnectionMap=Ss.InMemoryURLReader=Ss.EmptyURLReader=Ss.SingleConnectionRuntime=Ss.ConnectionRuntime=Ss.AtomicFieldType=Ss.Runtime=Ss.Malloy=Ss.MalloyTranslator=Ss.HighlightType=Ss.flattenQuery=Ss.isFilteredAliasedName=Ss.Segment=void 0;var uue=z7();Object.defineProperty(Ss,"Segment",{enumerable:!0,get:function(){return uue.Segment}});Object.defineProperty(Ss,"isFilteredAliasedName",{enumerable:!0,get:function(){return uue.isFilteredAliasedName}});Object.defineProperty(Ss,"flattenQuery",{enumerable:!0,get:function(){return uue.flattenQuery}});var H9e=Vae();Object.defineProperty(Ss,"HighlightType",{enumerable:!0,get:function(){return H9e.HighlightType}});Object.defineProperty(Ss,"MalloyTranslator",{enumerable:!0,get:function(){return H9e.MalloyTranslator}});var Kc=$9e();Object.defineProperty(Ss,"Malloy",{enumerable:!0,get:function(){return Kc.Malloy}});Object.defineProperty(Ss,"Runtime",{enumerable:!0,get:function(){return Kc.Runtime}});Object.defineProperty(Ss,"AtomicFieldType",{enumerable:!0,get:function(){return Kc.AtomicFieldType}});Object.defineProperty(Ss,"ConnectionRuntime",{enumerable:!0,get:function(){return Kc.ConnectionRuntime}});Object.defineProperty(Ss,"SingleConnectionRuntime",{enumerable:!0,get:function(){return Kc.SingleConnectionRuntime}});Object.defineProperty(Ss,"EmptyURLReader",{enumerable:!0,get:function(){return Kc.EmptyURLReader}});Object.defineProperty(Ss,"InMemoryURLReader",{enumerable:!0,get:function(){return Kc.InMemoryURLReader}});Object.defineProperty(Ss,"FixedConnectionMap",{enumerable:!0,get:function(){return Kc.FixedConnectionMap}});Object.defineProperty(Ss,"MalloyError",{enumerable:!0,get:function(){return Kc.MalloyError}});Object.defineProperty(Ss,"JoinRelationship",{enumerable:!0,get:function(){return Kc.JoinRelationship}});Object.defineProperty(Ss,"SourceRelationship",{enumerable:!0,get:function(){return Kc.SourceRelationship}});Object.defineProperty(Ss,"DateTimeframe",{enumerable:!0,get:function(){return Kc.DateTimeframe}});Object.defineProperty(Ss,"TimestampTimeframe",{enumerable:!0,get:function(){return Kc.TimestampTimeframe}});Object.defineProperty(Ss,"Result",{enumerable:!0,get:function(){return Kc.Result}});Object.defineProperty(Ss,"parseTableURI",{enumerable:!0,get:function(){return Kc.parseTableURI}});Object.defineProperty(Ss,"QueryMaterializer",{enumerable:!0,get:function(){return Kc.QueryMaterializer}});Object.defineProperty(Ss,"CSVWriter",{enumerable:!0,get:function(){return Kc.CSVWriter}});Object.defineProperty(Ss,"JSONWriter",{enumerable:!0,get:function(){return Kc.JSONWriter}});Object.defineProperty(Ss,"DataWriter",{enumerable:!0,get:function(){return Kc.DataWriter}});var emt=z9e();Object.defineProperty(Ss,"toAsyncGenerator",{enumerable:!0,get:function(){return emt.toAsyncGenerator}})});var W9e=Ae(Zz=>{"use strict";m();Object.defineProperty(Zz,"__esModule",{value:!0});Zz.DuckDBCommon=void 0;var tmt=up(),V9e={BIGINT:"number",DOUBLE:"number",VARCHAR:"string",DATE:"date",TIMESTAMP:"timestamp",TIME:"string",DECIMAL:"number",BOOLEAN:"boolean",INTEGER:"number"},kO=class{constructor(e){this.queryOptions=e,this.schemaCache=new Map,this.sqlSchemaCache=new Map,this.name="duckdb_common"}get dialectName(){return"duckdb"}readQueryOptions(){let e=kO.DEFAULT_QUERY_OPTIONS;return this.queryOptions?this.queryOptions instanceof Function?{...e,...this.queryOptions()}:{...e,...this.queryOptions}:e}isPool(){return!1}canPersist(){return!0}async runRawSQL(e){return await this.setup(),this.runDuckDBQuery(e)}async runSQL(e,t={}){var r;let i=this.readQueryOptions(),s=(r=t.rowLimit)!==null&&r!==void 0?r:i.rowLimit,o=e.split("-- hack: split on this");for(;o.length>1;)await this.runRawSQL(o[0]),o.shift();let l=(await this.runRawSQL(o[0])).rows;return l.length>s&&(l=l.slice(0,s)),{rows:l,totalRows:l.length}}async getSQLBlockSchema(e){let t={type:"struct",dialect:"duckdb",name:e.name,structSource:{type:"sql",method:"subquery",sqlBlock:e},structRelationship:{type:"basetable",connectionName:this.name},fields:[]};return await this.schemaFromQuery(`DESCRIBE SELECT * FROM (${e.selectStr})`,t),t}splitColumns(e){let t=[],r=0,i="",s=!0;for(let o=0;o<e.length;o++){let a=e.charAt(o);s&&a===" "||(s=!1,!r&&a===","?(t.push(i),i="",s=!0):i+=a,a==="("?r+=1:a===")"&&(r-=1))}return t.push(i),t}stringToTypeMap(e){let t={},r=this.splitColumns(e);for(let i of r){let s=i.match(/^(?<name>[^\s]+) (?<type>.*)$/);if(s&&s.groups)t[s.groups.name]=s.groups.type;else throw new Error(`Badly form Structure definition ${e}`)}return t}fillStructDefFromTypeMap(e,t){for(let r in t){let i=t[r];i=i.replace(/^DECIMAL\(\d+,\d+\)/g,"DECIMAL");let s=V9e[i],o=i.match(/(?<duckDBType>.*)\[\]$/);o&&o.groups&&(i=o.groups.duckDBType);let a=i.match(/^STRUCT\((?<fields>.*)\)$/);if(a&&a.groups){let l=this.stringToTypeMap(a.groups.fields),f={type:"struct",name:r,dialect:this.dialectName,structSource:{type:o?"nested":"inline"},structRelationship:{type:o?"nested":"inline",field:r,isArray:!1},fields:[]};this.fillStructDefFromTypeMap(f,l),e.fields.push(f)}else if(o){s=V9e[i];let l={type:"struct",name:r,dialect:this.dialectName,structSource:{type:"nested"},structRelationship:{type:"nested",field:r,isArray:!0},fields:[{type:s,name:"value"}]};e.fields.push(l)}else s!==void 0?e.fields.push({type:s,name:r}):e.fields.push({name:r,type:"string",e:[`'DuckDB type "${i}" not supported by Malloy'`]})}}async schemaFromQuery(e,t){let r={},i=await this.runRawSQL(e);for(let s of i.rows)r[s.column_name]=s.column_type;this.fillStructDefFromTypeMap(t,r)}async fetchSchemaForSQLBlock(e){let t=e.name,r=this.sqlSchemaCache.get(t);if(!r){try{r={structDef:await this.getSQLBlockSchema(e)}}catch(i){r={error:i.message}}this.sqlSchemaCache.set(t,r)}return r}async fetchSchemaForTables(e){let t={},r={};for(let i of e){let s=this.schemaCache.get(i);if(!s)try{s={schema:await this.getTableSchema(i)},this.schemaCache.set(i,s)}catch(o){s={error:o.message}}s.schema!==void 0?t[i]=s.schema:r[i]=s.error}return{schemas:t,errors:r}}async getTableSchema(e){let{tablePath:t}=(0,tmt.parseTableURI)(e),r={type:"struct",name:t,dialect:"duckdb",structSource:{type:"table",tablePath:t},structRelationship:{type:"basetable",connectionName:this.name},fields:[]},s=`DESCRIBE SELECT * FROM ${t.match(/[:*/]/)?`'${t}'`:t}`;return await this.schemaFromQuery(s,r),r}canStream(){return!0}async test(){await this.runRawSQL("SELECT 1")}async manifestTemporaryTable(e){let r=`tt${await this.createHash(e)}`,i=`CREATE TEMPORARY TABLE IF NOT EXISTS ${r} AS (${e});`;return await this.runRawSQL(i),r}};Zz.DuckDBCommon=kO;kO.DEFAULT_QUERY_OPTIONS={rowLimit:10}});var Y9e=Ae(Bx=>{"use strict";m();var nmt=Bx&&Bx.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),rmt=Bx&&Bx.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),imt=Bx&&Bx.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&nmt(e,n,t);return rmt(e,n),e};Object.defineProperty(Bx,"__esModule",{value:!0});Bx.DuckDBWASMConnection=void 0;var eH=imt(hve()),smt=gj(),omt=W9e(),tH=n=>{if(n===null)return n;if(n instanceof smt.Vector)return[...n].map(tH);if(n instanceof Date)return n;if(typeof n=="bigint")return Number(n);if(typeof n=="object"){let e=n;if(e[Symbol.toPrimitive])return Number(e[Symbol.toPrimitive]());if(Array.isArray(n))return n.map(tH);{let t={};for(let r in e)t[r]=tH(e[r]);return t}}return n},Q9e=n=>tH(n.toJSON()),amt=n=>n.toArray().map(Q9e),G9e=class extends omt.DuckDBCommon{constructor(e,t="test/data/duckdb/duckdb_test.db",r="/",i){super(i);this.name=e,this.workingDirectory=r,this._connection=null,this._database=null,this.isSetup=!1,this.connecting=this.init()}async init(){let e=eH.getJsDelivrBundles(),t=await eH.selectBundle(e);if(t.mainWorker){let r=URL.createObjectURL(new Blob([`importScripts("${t.mainWorker}");`],{type:"text/javascript"})),i=new Worker(r),s=new eH.ConsoleLogger;this._database=new eH.AsyncDuckDB(s,i),await this._database.instantiate(t.mainModule,t.pthreadWorker),URL.revokeObjectURL(r),this._connection=await this._database.connect()}else throw new Error("Unable to instantiate duckdb-wasm")}get connection(){return this._connection}get database(){return this._database}async setup(){await this.connecting}async runDuckDBQuery(e){var t;let r=await((t=this.connection)===null||t===void 0?void 0:t.query(e));if((r==null?void 0:r.numRows)!=null)return{rows:amt(r),totalRows:r.numRows};throw new Error("Boom")}async*runSQLStream(e,t={}){if(!this.connection)throw new Error("duckdb-wasm not connected");await this.setup();let r=e.split("-- hack: split on this");for(;r.length>1;)await this.runDuckDBQuery(r[0]),r.shift();for await(let i of await this.connection.send(r[0]))for(let s of i.toArray())yield Q9e(s)}async createHash(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")}};Bx.DuckDBWASMConnection=G9e});var vAe=Ae((RNt,yAe)=>{"use strict";m();var Omt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";yAe.exports=Omt});var SAe=Ae((ONt,bAe)=>{"use strict";m();var Nmt=vAe();function _Ae(){}function EAe(){}EAe.resetWarningCache=_Ae;bAe.exports=function(){function n(r,i,s,o,a,l){if(l!==Nmt){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:EAe,resetWarningCache:_Ae};return t.PropTypes=t,t}});var wAe=Ae((kNt,CAe)=>{m();CAe.exports=SAe()();var NNt,LNt});var nTe={};nY(nTe,{GlobalHotKeys:()=>v2t,HotKeys:()=>ZAe,IgnoreKeys:()=>E2t,ObserveKeys:()=>S2t,configure:()=>A2t,getApplicationKeyMap:()=>T2t,recordKeyCombination:()=>F2t,withHotKeys:()=>XAe,withIgnoreKeys:()=>C2t,withObserveKeys:()=>w2t});function cH(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cH=function(e){return typeof e}:cH=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cH(n)}function Ya(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function AAe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Ka(n,e,t){return e&&AAe(n.prototype,e),t&&AAe(n,t),n}function Ff(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fH(){return fH=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fH.apply(this,arguments)}function L1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){Ff(n,i,t[i])})}return n}function jx(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&BO(n,e)}function Rc(n){return Rc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Rc(n)}function BO(n,e){return BO=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},BO(n,e)}function Lmt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function dH(n,e,t){return Lmt()?dH=Reflect.construct:dH=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),f=new l;return o&&BO(f,o.prototype),f},dH.apply(null,arguments)}function kmt(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function yue(n){var e=typeof Map=="function"?new Map:void 0;return yue=function(r){if(r===null||!kmt(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return dH(r,arguments,Rc(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),BO(i,r)},yue(n)}function Imt(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function jO(n,e){if(n==null)return{};var t=Imt(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}function Xc(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function qx(n,e){return e&&(typeof e=="object"||typeof e=="function")?e:Xc(n)}function Mmt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&(n=Rc(n),n!==null););return n}function Ly(n,e,t){return typeof Reflect!="undefined"&&Reflect.get?Ly=Reflect.get:Ly=function(i,s,o){var a=Mmt(i,s);if(!!a){var l=Object.getOwnPropertyDescriptor(a,s);return l.get?l.get.call(o):l.value}},Ly(n,e,t||n)}function kd(n){return Pmt(n)||Bmt(n)||jmt()}function Pmt(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}function Bmt(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}function jmt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function qw(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return n.reduce(function(t,r){return t[r]=e||{value:r},t},{})}function _ue(n){return FAe[n]||[n.length===1?n.toUpperCase():n]}function k1(n,e){return n.hasOwnProperty(e)}function hH(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(n).reduce(function(t,r){var i=n[r];return i.forEach(function(s){k1(t,s)||(t[s]=[]),t[s].push(r)}),e.includeOriginal&&(!k1(t,r)&&(t[r]=[]),t[r]=[].concat(kd(t[r]),kd(i))),t},{})}function pH(n){return qmt[n]||[n.length===1?n.toLowerCase():n]}function RAe(n){return typeof n=="string"}function $mt(n){return RAe(n)?n.trim().replace(/\s+/g," "):n}function OAe(n){var e=n.toLowerCase();return zmt[e]||Hmt[e]||(n.match(/^f\d+$/)?n.toUpperCase():n)}function LAe(n){return!!Vmt[n]}function Wmt(n){return Ja.option("_customKeyNamesDict")[n]}function kAe(n){return LAe(n)||String.fromCharCode(n.charCodeAt(0))===n||Wmt(n)}function MAe(n){return n.sort().join("+")}function BAe(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return n.replace(/^\+|(\s|[^+]\+)\+/,"$1plus").split("+").reduce(function(t,r){var i=OAe(r);if(e.ensureValidKeys&&!kAe(i))throw new IAe;return t[i]=!0,t},{})}function Eue(n){return Qmt[n]||[n]}function bue(n){return jAe[n]||[n]}function Sue(n){return Gmt[n]||pH(n)}function Cue(n){return qAe[n]||[n]}function Ymt(n){return DAe[n]||[n]}function Kmt(n){if(n.Shift)return n.Alt?[Cue,Sue]:[_ue,pH];if(n.Alt)return[bue,Eue];var e=function(t){return[t]};return[e,e]}function I1(n){return typeof n=="undefined"}function O4(n){return!Array.isArray(n)&&cH(n)==="object"&&n!==null}function UO(n){return O4(n)?Object.keys(n).length===0:!n||n.length===0}function $Ae(n){return O4(n)?Object.keys(n).length:n.length}function Jmt(n){return Object.keys(n).reduce(function(e,t){return Ymt(t).forEach(function(r){Kmt(n).forEach(function(i){i(r).forEach(function(s){(s!==t||t!==r)&&(e[s]=t)})})}),e},{})}function $O(n){return Array.isArray(n)?n:n?[n]:[]}function Zmt(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},r=qw($O(e));return Array.isArray(n)?n.reduce(function(i,s){return r[s]&&(t.stringifyFirst||r[s].value===s)||i.push(s),i},[]):O4(n)?Object.keys(n).reduce(function(i,s){return r[s]||(i[s]=n[s]),i},{}):n}function t2t(n,e){return[].concat(kd(n.slice(0,e)),kd(n.slice(e+1)))}function i2t(n,e){if(O4(n)){var t=n.sequence,r=n.action;return{keySequence:t,keyEventType:I1(r)?no[e.defaultKeyEvent]:no[r]}}return{keySequence:n,keyEventType:no[e.defaultKeyEvent]}}function HAe(n,e){return n[n.length-(e+1)]}function VAe(n){return n.length===1||k1(wue,n)}function o2t(n,e){var t=$Ae(e.keyDictionary);return Ja.option("allowCombinationSubmatches")||a2t(n)?n.getNumberOfKeys()>=t:n.getNumberOfKeys()===t}function a2t(n){return!!n.isKeyStillPressed("Meta")&&n.some(function(e){return VAe(e)})}function yH(n,e,t){return t.forEach(function(r){k1(n,r)&&(e[r]=n[r])}),e}function WAe(n){switch(parseInt(n,10)){case 0:return"keydown";case 1:return"keypress";default:return"keyup"}}function c2t(n){return!LAe(n)}function ME(n){return n.simulated?ky.simulated:ky.seen}function f2t(n){var e,t=n.keyCode;return"charCode"in n?(e=n.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function h2t(n){if(n.key){var e=d2t[n.key]||n.key;if(e!=="Unidentified")return e}if(n.type==="keypress"){var t=f2t(n);return t===13?"Enter":String.fromCharCode(t)}return n.type==="keydown"||n.type==="keyup"?NAe[n.keyCode]||"Unidentified":""}function Uw(n){var e=function(){var t=Ja.option("customKeyCodes"),r=n.keyCode||n.charCode;return k1(t,r)?t[r]:n.nativeEvent?n.key:h2t(n)}();return e==="+"?"plus":e}function vH(n){return n==="Meta"}function _H(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};return Array.isArray(n)||RAe(n)?t.stringifyFirst?!I1(n.find(function(r){return r.toString()===e.toString()})):n.indexOf(e)!==-1:O4(n)?k1(n,e):t.stringifyFirst?n.toString()===e.toString():n===e}function KAe(n){return n.replace(/\b\w/g,function(e){return e.toUpperCase()})}function x2t(n){return"".concat(KAe(n.slice(0,3))).concat(KAe(n.slice(3)))}function Aue(n){return!I1(n)}function JAe(n,e){var t=e.deprecatedAPI,r=t.contextTypes,i=t.childContextTypes,s=e.newAPI.contextType;if(typeof i0.default.createContext=="undefined")n.contextTypes=r,n.childContextTypes=i,n.prototype.getChildContext=function(){return this._childContext};else{var o=i0.default.createContext(s);n.contextType=o,n.prototype._originalRender=n.prototype.render,n.prototype.render=function(){var a=this._originalRender();return a?i0.default.createElement(o.Provider,{value:this._childContext},a):null}}return n}function XAe(n){function e(o,a){return L1({},i[o]||{},a[o]||{})}function t(o){return e("handlers",o)}function r(o){return e("keyMap",o)}var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=function(o){function a(l){var f;return Ya(this,a),f=qx(this,Rc(a).call(this,l)),f._handleFocus=f._handleFocus.bind(Xc(Xc(f))),f._handleBlur=f._handleBlur.bind(Xc(Xc(f))),f._handleKeyDown=f._handleKeyDown.bind(Xc(Xc(f))),f._handleKeyPress=f._handleKeyPress.bind(Xc(Xc(f))),f._handleKeyUp=f._handleKeyUp.bind(Xc(Xc(f))),f._componentIsFocused=f._componentIsFocused.bind(Xc(Xc(f))),f._id=H0.getInstance().registerKeyMap(l.keyMap),f._childContext={hotKeysParentId:f._id},f}return jx(a,o),Ka(a,[{key:"render",value:function(){var f=this.props,p=f.keyMap,_=f.handlers,b=f.allowChanges,R=f.root,O=jO(f,["keyMap","handlers","allowChanges","root"]),j={onFocus:this._wrapFunction("onFocus",this._handleFocus),onBlur:this._wrapFunction("onBlur",this._handleBlur),tabIndex:Ja.option("defaultTabIndex")};return this._shouldBindKeyListeners()&&(j.onKeyDown=this._handleKeyDown,j.onKeyPress=this._handleKeyPress,j.onKeyUp=this._handleKeyUp),i0.default.createElement(n,fH({hotKeys:j},O))}},{key:"_shouldBindKeyListeners",value:function(){var f=r(this.props);return!UO(f)||this.props.root||Ja.option("enableHardSequences")&&this._handlersIncludeHardSequences(f,t(this.props))}},{key:"_handlersIncludeHardSequences",value:function(f,p){return Object.keys(p).some(function(_){return!f[_]&&mH.isValidKeySerialization(_)})}},{key:"_wrapFunction",value:function(f,p){var _=this;return typeof this.props[f]=="function"?function(b){_.props[f](b),p(b)}:p}},{key:"_focusTreeIdsPush",value:function(f){this._focusTreeIds||(this._focusTreeIds=[]),this._focusTreeIds.push(f)}},{key:"_focusTreeIdsShift",value:function(){this._focusTreeIds&&this._focusTreeIds.shift()}},{key:"_getFocusTreeId",value:function(){if(this._focusTreeIds)return this._focusTreeIds[0]}},{key:"componentDidUpdate",value:function(){var f=H0.getInstance();if(f.reregisterKeyMap(this._id,this.props.keyMap),this._componentIsFocused()&&(this.props.allowChanges||!Ja.option("ignoreKeymapAndHandlerChangesByDefault"))){var p=this.props,_=p.keyMap,b=p.handlers;f.updateEnabledHotKeys(this._getFocusTreeId(),this._id,_,b,this._getComponentOptions())}}},{key:"_componentIsFocused",value:function(){return this._focused===!0}},{key:"componentDidMount",value:function(){var f=H0.getInstance(),p=this.context.hotKeysParentId;f.registerComponentMount(this._id,p)}},{key:"_handleFocus",value:function(){if(this.props.onFocus){var f;(f=this.props).onFocus.apply(f,arguments)}var p=H0.getInstance().enableHotKeys(this._id,r(this.props),t(this.props),this._getComponentOptions());I1(p)||this._focusTreeIdsPush(p),this._focused=!0}},{key:"componentWillUnmount",value:function(){var f=H0.getInstance();f.deregisterKeyMap(this._id),f.registerComponentUnmount(),this._handleBlur()}},{key:"_handleBlur",value:function(){if(this.props.onBlur){var f;(f=this.props).onBlur.apply(f,arguments)}var p=H0.getInstance().disableHotKeys(this._getFocusTreeId(),this._id);p||this._focusTreeIdsShift(),this._focused=!1}},{key:"_handleKeyDown",value:function(f){var p=H0.getInstance().handleKeydown(f,this._getFocusTreeId(),this._id,this._getEventOptions());p&&this._focusTreeIdsShift()}},{key:"_handleKeyPress",value:function(f){var p=H0.getInstance().handleKeyPress(f,this._getFocusTreeId(),this._id,this._getEventOptions());p&&this._focusTreeIdsShift()}},{key:"_handleKeyUp",value:function(f){var p=H0.getInstance().handleKeyUp(f,this._getFocusTreeId(),this._id,this._getEventOptions());p&&this._focusTreeIdsShift()}},{key:"_getComponentOptions",value:function(){return{defaultKeyEvent:Ja.option("defaultKeyEvent")}}},{key:"_getEventOptions",value:function(){return{ignoreEventsCondition:Ja.option("ignoreEventsCondition")}}}]),a}(i0.PureComponent);return Ff(s,"propTypes",{keyMap:wu.default.object,handlers:wu.default.object,onFocus:wu.default.func,onBlur:wu.default.func,allowChanges:wu.default.bool,root:wu.default.bool}),JAe(s,{deprecatedAPI:{contextTypes:{hotKeysParentId:wu.default.number},childContextTypes:{hotKeysParentId:wu.default.number}},newAPI:{contextType:{hotKeysParentId:void 0}}})}function EH(n){var e,t,r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{only:[],except:[]},i=2<arguments.length?arguments[2]:void 0;return t=e=function(s){function o(a){var l;return Ya(this,o),l=qx(this,Rc(o).call(this,a)),l._handleKeyEvent=l._handleKeyEvent.bind(Xc(Xc(l))),l._reloadDictionaries=l._reloadDictionaries.bind(Xc(Xc(l))),l}return jx(o,s),Ka(o,[{key:"render",value:function(){var l=this.props,f=l.only,p=l.except,_=jO(l,["only","except"]),b={onKeyDown:this._handleKeyEvent,onKeyPress:this._handleKeyEvent,onKeyUp:this._handleKeyEvent,onFocus:this._reloadDictionaries};return i0.default.createElement(n,fH({hotKeys:b},_))}},{key:"_reloadDictionaries",value:function(){var l=this.props,f=l.only,p=l.except;this._onlyDict=tTe(f),this._exceptDict=tTe(p)}},{key:"_shouldIgnoreEvent",value:function(l){var f=l.key;return UO(this._onlyDict)?!!UO(this._exceptDict)||!k1(this._exceptDict,f):UO(this._exceptDict)?k1(this._onlyDict,f):k1(this._onlyDict,f)&&!k1(this._exceptDict,f)}},{key:"_handleKeyEvent",value:function(l){this._shouldIgnoreEvent(l)&&H0.getInstance()[i](l)}}]),o}(i0.PureComponent),Ff(e,"propTypes",{only:wu.default.oneOfType([wu.default.string,wu.default.arrayOf(wu.default.string)]),except:wu.default.oneOfType([wu.default.string,wu.default.arrayOf(wu.default.string)])}),Ff(e,"defaultProps",r),t}function tTe(n){return $O(n).reduce(function(e,t){var r=OAe(t);if(!kAe(r))throw new IAe(t);return[Cue,Sue,_ue,pH,bue,Eue].forEach(function(i){e[i(r)]=!0}),e},{})}function C2t(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{only:[],except:[]};return EH(n,e,"ignoreEvent")}function w2t(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{only:[],except:[]};return EH(n,e,"observeIgnoredEvents")}function A2t(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Ja.init(n)}function T2t(){return H0.getInstance().getApplicationKeyMap()}function F2t(n){var e=H0.getInstance();return e.addKeyCombinationListener(n)}var wu,i0,TAe,qO,Ja,Hm,no,vue,FAe,qmt,Umt,DAe,zmt,Hmt,NAe,Vmt,IAe,PAe,jAe,Qmt,qAe,Gmt,mH,UAe,ky,R4,xH,zAe,Xmt,e2t,n2t,r2t,wue,gH,s2t,u2t,l2t,QAe,GAe,YAe,zO,d2t,Ju,p2t,m2t,g2t,H0,y2t,ZAe,eTe,v2t,_2t,E2t,b2t,S2t,rTe=tY(()=>{m();wu=fr(wAe()),i0=fr(Fr());TAe={logLevel:"warn",defaultKeyEvent:"keydown",defaultComponent:"div",defaultTabIndex:"-1",ignoreTags:["input","select","textarea"],enableHardSequences:!1,ignoreKeymapAndHandlerChangesByDefault:!0,ignoreEventsCondition:function(e){var t=e.target;if(t&&t.tagName){var r=t.tagName.toLowerCase();return Ja.option("_ignoreTagsDict")[r]||t.isContentEditable}return!1},ignoreRepeatedEventsWhenKeyHeldDown:!0,simulateMissingKeyPressEvents:!0,stopEventPropagationAfterHandling:!0,stopEventPropagationAfterIgnoring:!0,allowCombinationSubmatches:!1,customKeyCodes:{}},qO=L1({},TAe);qO._ignoreTagsDict=qw(qO.ignoreTags,!0);Ja=function(){function n(){Ya(this,n)}return Ka(n,null,[{key:"init",value:function(t){var r=this,i=t.ignoreTags,s=t.customKeyCodes;i&&(t._ignoreTagsDict=qw(t.ignoreTags)),s&&(t._customKeyNamesDict=qw(Object.values(t.customKeyCodes))),["verbose","debug","info"].indexOf(t.logLevel)!==-1&&console.warn("React HotKeys: You have requested log level '".concat(t.logLevel,"' but for performance reasons, logging below severity level 'warning' is disabled in production. Please use the development build for complete logs.")),Object.keys(t).forEach(function(o){r.set(o,t[o])})}},{key:"set",value:function(t,r){qO[t]=r}},{key:"reset",value:function(t){qO[t]=TAe[t]}},{key:"option",value:function(t){return qO[t]}}]),n}(),Hm=function(){function n(){var e=this,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"warn";if(Ya(this,n),Ff(this,"verbose",this.noop),Ff(this,"debug",this.noop),Ff(this,"info",this.noop),Ff(this,"warn",this.noop),Ff(this,"error",this.noop),this.logLevel=this.constructor.levels[t],this.logLevel>=this.constructor.levels.error)this.error=console.error;else return;if(this.logLevel>=this.constructor.levels.warn)this.warn=console.warn;else return;["info","debug","verbose"].some(function(r){return!(e.logLevel>=e.constructor.levels[r])||(e[r]=console.log,!1)})}return Ka(n,[{key:"noop",value:function(){}}]),n}();Ff(Hm,"logIcons",["\u{1F4D5}","\u{1F4D7}","\u{1F4D8}","\u{1F4D9}"]),Ff(Hm,"componentIcons",["\u{1F53A}","\u2B50\uFE0F","\u{1F537}","\u{1F536}","\u2B1B\uFE0F"]),Ff(Hm,"eventIcons",["\u2764\uFE0F","\u{1F49A}","\u{1F499}","\u{1F49B}","\u{1F49C}","\u{1F9E1}"]),Ff(Hm,"levels",{none:0,error:1,warn:2,info:3,debug:4,verbose:5});no={keydown:0,keypress:1,keyup:2},vue={Shift:["shiftKey"],Meta:["metaKey"],Control:["ctrlKey"],Alt:["altKey"]},FAe={"`":["~"],1:["!"],2:["@",'"'],3:["#","\xA3"],4:["$"],5:["%"],6:["^"],7:["&"],8:["*"],9:["("],0:[")"],"-":["_"],"=":["plus"],";":[":"],"'":['"',"@"],",":["<"],".":[">"],"/":["?"],"\\":["|"],"[":["{"],"]":["}"],"#":["~"]};qmt=hH(FAe);Umt={},DAe=hH(Umt,{includeOriginal:!0});zmt={tab:"Tab",capslock:"CapsLock",shift:"Shift",meta:"Meta",alt:"Alt",ctrl:"Control",space:" ",spacebar:" ",escape:"Escape",esc:"Escape",left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown",return:"Enter",del:"Delete",command:"Meta",option:"Alt",enter:"Enter",backspace:"Backspace",ins:"Insert",pageup:"PageUp",pagedown:"PageDown",end:"End",home:"Home",contextmenu:"ContextMenu",numlock:"Clear"},Hmt={cmd:"Meta"};NAe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vmt=qw(Object.values(NAe),!0);IAe=function(n){function e(){var t,r;Ya(this,e);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=qx(this,(t=Rc(e)).call.apply(t,[this].concat(s))),Ff(Xc(Xc(r)),"name","InvalidKeyNameError"),r}return jx(e,n),e}(yue(Error));PAe=function(){function n(){Ya(this,n)}return Ka(n,null,[{key:"parse",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=$mt(t),s=i.split(" ");try{var o=s.slice(0,s.length-1),a=s[s.length-1],l=o.map(function(b){var R=BAe(b,r);return MAe(Object.keys(R))}).join(" "),f=BAe(a,r),p=MAe(Object.keys(f)),_={id:p,keyDictionary:f,keyEventType:r.keyEventType,size:Object.keys(f).length};return{sequence:{prefix:l,size:o.length+1},combination:_}}catch{return{sequence:null,combination:null}}}}]),n}();jAe={"`":["`"],1:["\xA1"],2:["\u2122"],3:["\xA3"],4:["\xA2"],5:["\u221E"],6:["\xA7"],7:["\xB6"],8:["\u2022"],9:["\xAA"],0:["\xBA"],"-":["\u2013"],"=":["\u2260"],a:["\xE5"],b:["\u222B"],c:["\xE7"],d:["\u2202"],e:["\xB4"],f:["\u0192"],g:["\xA9"],h:["\u02D9"],i:["\u02C6"],j:["\u2206"],k:["\u02DA"],l:["\xAC"],m:["\xB5"],n:["\u02DC"],o:["\xF8"],p:["\u03C0"],q:["\u0153"],r:["\xAE"],s:["\xDF"],t:["\u2020"],u:["\xA8"],v:["\u221A"],w:["\u2211"],x:["\u2248"],y:["\xA5"],z:["\u03A9"],"[":["\u201C"],"]":["\u2018"],"\\":["\xAB"],"'":["\xE6"],";":["\u2026"],",":["\u2264"],".":["\u2265"],"/":["\xF7"]},Qmt=hH(jAe);qAe={"`":["`"],1:["\u2044"],2:["\u20AC"],3:["\u2039"],4:["\u203A"],5:["\uFB01"],6:["\uFB02"],7:["\u2021"],8:["\xB0"],9:["\xB7"],0:["\u201A"],"-":["\u2014"],"=":["\xB1"],a:["\xC5"],b:["\u0131"],c:["\xC7"],d:["\xCE"],e:["\xB4"],f:["\xCF"],g:["\u02DD"],h:["\xD3"],i:["\u02C6"],j:["\xD4"],k:["\uF8FF"],l:["\xD2"],m:["\xC2"],n:["\u02DC"],o:["\xD8"],p:["\u03C0"],q:["\u0152"],r:["\u2030"],s:["\xCD"],t:["\xCE"],u:["\xA8"],v:["\u25CA"],w:["\u201E"],x:["\u02DB"],y:["\xC1"],z:["\xB8"],"[":["\u201D"],"]":["\u2019"],"\\":["\xBB"],"'":["\xC6"],";":["\xDA"],",":["\xAF"],".":["\u02D8"]},Gmt=hH(qAe);mH=function(){function n(){Ya(this,n)}return Ka(n,null,[{key:"serialize",value:function(t){var r=t.Shift,i=t.Alt,s={},o=Object.keys(t).sort();return o.forEach(function(a){var l=[];if(r)if(i){var f=Sue(a),p=Cue(a);l=[].concat(kd(l),[a],kd(f),kd(p))}else{var _=pH(a),b=_ue(a);l=[].concat(kd(l),[a],kd(_),kd(b))}else if(i){var R=Eue(a),O=bue(a);l=[].concat(kd(l),[a],kd(R),kd(O))}else{l.push(a);var j=DAe[a];j&&(l=[].concat(kd(l),kd(j)))}var $=Object.keys(s);0<$.length?$.forEach(function(L){l.forEach(function(q){s[L+"+".concat(q)]=L1({},s[L],Ff({},q,!0))}),delete s[L]}):l.forEach(function(L){s[L]=Ff({},L,!0)})}),Object.values(s).map(function(a){return Object.keys(a).sort().join("+")})}},{key:"isValidKeySerialization",value:function(t){return 0<t.length&&!!PAe.parse(t,{ensureValidKeys:!0}).combination}}]),n}(),UAe={previous:0,current:1};ky={unseen:0,seen:1,simulated:2},R4=function(){function n(){Ya(this,n)}return Ka(n,null,[{key:"newRecord",value:function(t,r){var i=[ky.unseen,ky.unseen,ky.unseen];if(!I1(t))for(var s=0;s<=t;s++)i[s]=r;return i}},{key:"setBit",value:function(t,r,i){return t[r]=i,t}},{key:"clone",value:function(t){for(var r=this.newRecord(),i=0;i<t.length;i++)r[i]=t[i];return r}}]),n}();xH=function(){function n(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Ya(this,n),this._keys=e,this._includesKeyUp=!1,this._update()}return Ka(n,[{key:"getIds",value:function(){return this._ids}},{key:"getKeyAliases",value:function(){return this._keyAliases}},{key:"getNormalizedKeyName",value:function(t){var r=this._keys[t];if(r)return t;var i=this._keyAliases[t];return i||t}},{key:"getNumberOfKeys",value:function(){return $Ae(this._keys)}},{key:"any",value:function(){return 0<Object.keys(this._getKeyStates()).length}},{key:"isEnding",value:function(){return this._includesKeyUp}},{key:"hasEnded",value:function(){return UO(this.keysStillPressedDict())}},{key:"addKey",value:function(t,r){this._setKeyState(t,[R4.newRecord(),R4.newRecord(no.keydown,r)])}},{key:"setKeyState",value:function(t,r,i){var s=this._getKeyState(t);if(this.isKeyIncluded(t)){var o=R4.clone(s[1]),a=R4.clone(o);R4.setBit(a,r,i),this._setKeyState(t,[o,a])}else this.addKey(t,i);r===no.keyup&&(this._includesKeyUp=!0)}},{key:"forEachKey",value:function(t){return Object.keys(this._keys).forEach(t)}},{key:"some",value:function(t){return Object.keys(this._keys).some(t)}},{key:"getKeyDictionary",value:function(){return qw(Object.keys(this._getKeyStates()),!0)}},{key:"keysStillPressedDict",value:function(){var t=this;return Object.keys(this._keys).reduce(function(r,i){return t.isKeyStillPressed(i)&&(r[i]=t._getKeyState(i)),r},{})}},{key:"isKeyIncluded",value:function(t){return!!this._getKeyState(t)}},{key:"isKeyStillPressed",value:function(t){return this.isEventTriggered(t,no.keypress)&&!this.isKeyReleased(t)}},{key:"isKeyReleased",value:function(t){return this.isEventTriggered(t,no.keyup)}},{key:"isEventTriggered",value:function(t,r){return this._getKeyStateType(t,UAe.current,r)}},{key:"wasEventPreviouslyTriggered",value:function(t,r){return this._getKeyStateType(t,UAe.previous,r)}},{key:"isKeyPressSimulated",value:function(t){return this._isKeyEventSimulated(t,no.keypress)}},{key:"isKeyUpSimulated",value:function(t){return this._isKeyEventSimulated(t,no.keyup)}},{key:"describe",value:function(){return this.getIds()[0]}},{key:"toJSON",value:function(){return{keys:this._getKeyStates(),ids:this.getIds(),keyAliases:this.getKeyAliases()}}},{key:"_getKeyStateType",value:function(t,r,i){var s=this._getKeyState(t);return s&&s[r][i]}},{key:"_update",value:function(){this._ids=mH.serialize(this._keys),this._keyAliases=Jmt(this._keys)}},{key:"_isKeyEventSimulated",value:function(t,r){return this.isEventTriggered(t,r)===ky.simulated}},{key:"_getKeyStates",value:function(){return this._keys}},{key:"_getKeyState",value:function(t){var r=this._keys[t];if(r)return r;var i=this._keyAliases[t];if(i)return this._keys[i]}},{key:"_setKeyState",value:function(t,r){var i=this.getNormalizedKeyName(t);this._keys[i]=r,this._update()}}]),n}();zAe=function(){function n(e){var t=e.maxLength,r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;Ya(this,n),this._records=[],this._maxLength=t,r?this._push(r):this._push(new xH)}return Ka(n,[{key:"getMostRecentCombinations",value:function(t){return this._records.slice(-t,-1)}},{key:"any",value:function(){return this._records.some(function(t){return t.any()})}},{key:"getLength",value:function(){return this._records.length}},{key:"getCurrentCombination",value:function(){return this._records[this.getLength()-1]}},{key:"addKeyToCurrentCombination",value:function(t,r,i){this._ensureInitialKeyCombination(),this.getCurrentCombination().setKeyState(t,r,i)}},{key:"setMaxLength",value:function(t){this._maxLength=t,this._trimHistory()}},{key:"startNewKeyCombination",value:function(t,r){this._ensureInitialKeyCombination();var i=new xH(this.getCurrentCombination().keysStillPressedDict());i.addKey(t,r),this._push(i)}},{key:"toJSON",value:function(){return this._records.map(function(t){return t.toJSON()})}},{key:"_ensureInitialKeyCombination",value:function(){this.getLength()===0&&this._push(new xH)}},{key:"_push",value:function(t){this._trimHistory(),this._records.push(t)}},{key:"_trimHistory",value:function(){for(;this.getLength()>this._maxLength;)this._shift()}},{key:"_shift",value:function(){this._records.shift()}}]),n}(),Xmt=function(){function n(){Ya(this,n),this._registry={}}return Ka(n,[{key:"get",value:function(t){return this._registry[t]}},{key:"set",value:function(t,r){this._registry[t]=r}},{key:"remove",value:function(t){delete this._registry[t]}},{key:"toJSON",value:function(){return this._registry}}]),n}();e2t=function(n){function e(){return Ya(this,e),qx(this,Rc(e).apply(this,arguments))}return jx(e,n),Ka(e,[{key:"add",value:function(r,i){Ly(Rc(e.prototype),"set",this).call(this,r,{childIds:[],parentId:null,keyMap:i})}},{key:"update",value:function(r,i){var s=Ly(Rc(e.prototype),"get",this).call(this,r);Ly(Rc(e.prototype),"set",this).call(this,r,L1({},s,{keyMap:i}))}},{key:"setParent",value:function(r,i){this.get(r).parentId=i,this._addChildId(i,r)}},{key:"remove",value:function(r){var i=this._getParentId(r);this._removeChildId(i,r),Ly(Rc(e.prototype),"remove",this).call(this,r)}},{key:"_getParentId",value:function(r){var i=this.get(r);return i&&i.parentId}},{key:"_addChildId",value:function(r,i){this.get(r).childIds.push(i)}},{key:"_removeChildId",value:function(r,i){var s=this.get(r);s&&(s.childIds=Zmt(s.childIds,i))}}]),e}(Xmt);n2t=function(){function n(e){Ya(this,n),this._list=e,this._position=-1}return Ka(n,[{key:"getPosition",value:function(){return this._position}},{key:"getComponent",value:function(){return this._list.getAtPosition(this.getPosition())}},{key:"next",value:function(){return this.getPosition()+1<this._list.getLength()?(this._position++,this.getComponent()):null}}]),n}(),r2t=function(){function n(){Ya(this,n),this._list=[],this._idToIndex={},this._longestSequence=1,this._longestSequenceComponentId=null,this._keyMapEventRecord=R4.newRecord()}return Ka(n,[{key:"getNewIterator",value:function(){return new n2t(this)}},{key:"add",value:function(t,r,i,s){if(this.containsId(t))return this.update(t,r,i,s);var o=this._build(t,r,i,s);this._list.push(o);var a=this._getLastIndex();return this._idToIndex[t]=a}},{key:"containsId",value:function(t){return!!this.get(t)}},{key:"get",value:function(t){return this.getAtPosition(this.getIndexById(t))}},{key:"getIndexById",value:function(t){return this._idToIndex[t]}},{key:"update",value:function(t,r,i,s){var o=this._isUpdatingComponentWithLongestSequence(t),a=this.getLongestSequence(),l=this._build(t,r,i,s);o&&l.sequenceLength!==a&&(l.sequenceLength>a?this._longestSequence=l.sequenceLength:this._recalculateLongestSequence()),this._list[this.getIndexById(t)]=l}},{key:"remove",value:function(t){var r=this._isUpdatingComponentWithLongestSequence(t);this.removeAtPosition(this.getIndexById(t)),r&&this._recalculateLongestSequence()}},{key:"any",value:function(){return this.getLength()!==0}},{key:"isRoot",value:function(t){return this.getIndexById(t)>=this.getLength()-1}},{key:"getLongestSequence",value:function(){return this._longestSequence}},{key:"anyActionsForEventType",value:function(t){return!!this._keyMapEventRecord[t]}},{key:"getLength",value:function(){return this._list.length}},{key:"getAtPosition",value:function(t){return this._list[t]}},{key:"removeAtPosition",value:function(t){this._list=t2t(this._list,t);for(var r=t;r<this.getLength();)this._idToIndex[this.getAtPosition(r).componentId]=r,r++}},{key:"toJSON",value:function(){return this._list}},{key:"_getLastIndex",value:function(){return this.getLength()-1}},{key:"_build",value:function(t,r,i,s){var o=this._applyHardSequences(r,i),a=o.keyMap,l=o.handlers,f=this._buildActionDictionary(L1({},r,a),s,t);return{actions:f,handlers:l,componentId:t,options:s}}},{key:"_isUpdatingComponentWithLongestSequence",value:function(t){return t===this._getLongestSequenceComponentId()}},{key:"_getLongestSequenceComponentId",value:function(){return this._longestSequenceComponentId}},{key:"_recalculateLongestSequence",value:function(){for(var t=this.getNewIterator();t.next();){var r=t.getComponent(),i=r.longestSequence,s=r.componentId;i>this.getLongestSequence()&&(this._longestSequenceComponentId=s,this._longestSequence=i)}}},{key:"_applyHardSequences",value:function(t,r){return Ja.option("enableHardSequences")?Object.keys(r).reduce(function(i,s){var o=!!t[s];return!o&&mH.isValidKeySerialization(s)&&(i.keyMap[s]=s),i.handlers[s]=r[s],i},{keyMap:{},handlers:{}}):{keyMap:t,handlers:r}}},{key:"_buildActionDictionary",value:function(t,r,i){var s=this;return Object.keys(t).reduce(function(o,a){var l=t[a],f=function(){return O4(l)&&k1(l,"sequences")?$O(l.sequences):$O(l)}();return f.forEach(function(p){var _=i2t(p,r),b=_.keySequence,R=_.keyEventType;s._addActionOptions(o,i,a,b,R)}),o},{})}},{key:"_addActionOptions",value:function(t,r,i,s,o){var a=PAe.parse(s,{keyEventType:o}),l=a.sequence,f=a.combination;l.size>this.getLongestSequence()&&(this._longestSequence=l.size,this._longestSequenceComponentId=r),this._keyMapEventRecord[o]=ky.seen,t[i]||(t[i]=[]),t[i].push(L1({prefix:l.prefix,actionName:i,sequenceLength:l.size},f))}}]),n}();for(wue={Enter:!0,Backspace:!0,ArrowRight:!0,ArrowLeft:!0,ArrowUp:!0,ArrowDown:!0,CapsLock:!0},gH=1;13>gH;gH++)wue["F".concat(gH)]=!0;s2t=function(){function n(){Ya(this,n),this._actionConfigs={},this._order=null}return Ka(n,[{key:"addMatch",value:function(t,r){if(this._includesMatcherForCombination(t.id)){var i=t.keyEventType,s=t.actionName,o=t.id;this._addHandlerToActionConfig(o,{keyEventType:i,actionName:s,handler:r})}else this._addNewActionConfig(t,r)}},{key:"findMatch",value:function(t,r,i){this._order||this._setOrder();var s=!0,o=!1,a=void 0;try{for(var l,f=this._order[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var p=l.value,_=this._actionConfigs[p];if(this._matchesActionConfig(t,r,i,_))return _}}catch(b){o=!0,a=b}finally{try{s||f.return==null||f.return()}finally{if(o)throw a}}return null}},{key:"toJSON",value:function(){return{actionConfigs:this._actionConfigs,order:this._order}}},{key:"_matchesActionConfig",value:function(t,r,i,s){if(!o2t(t,s))return!1;var o=s.events[i];if(!o)return!1;var a=!1,l=Object.keys(s.keyDictionary).every(function(f){return!!t.isEventTriggered(f,i)&&(r&&r===t.getNormalizedKeyName(f)&&(a=!t.wasEventPreviouslyTriggered(f,i)),!0)});return l&&a}},{key:"_setOrder",value:function(){var t=Object.values(this._actionConfigs).reduce(function(r,i){var s=i.id,o=i.size;return r[o]||(r[o]=[]),r[o].push(s),r},{});this._order=Object.keys(t).sort(function(r,i){return i-r}).reduce(function(r,i){return r.concat(t[i])},[])}},{key:"_addNewActionConfig",value:function(t,r){var i=t.prefix,s=t.sequenceLength,o=t.id,a=t.keyDictionary,l=t.size,f=t.keyEventType,p=t.actionName;this._setCombinationMatcher(o,{prefix:i,sequenceLength:s,id:o,keyDictionary:a,size:l,events:{}}),this._addHandlerToActionConfig(o,{keyEventType:f,actionName:p,handler:r})}},{key:"_addHandlerToActionConfig",value:function(t,r){var i=r.keyEventType,s=r.actionName,o=r.handler,a=this._getCombinationMatcher(t);this._setCombinationMatcher(t,L1({},a,{events:L1({},a.events,Ff({},i,{actionName:s,handler:o}))}))}},{key:"_setCombinationMatcher",value:function(t,r){this._actionConfigs[t]=r}},{key:"_getCombinationMatcher",value:function(t){return this._actionConfigs[t]}},{key:"_includesMatcherForCombination",value:function(t){return!!this._getCombinationMatcher(t)}}]),n}();u2t=function(){function n(){Ya(this,n),this._combinationMatchers={},this._eventRecord=R4.newRecord()}return Ka(n,[{key:"addMatch",value:function(t,r){var i=this._getOrCreateCombinationMatcher(t.prefix);i.addMatch(t,r),R4.setBit(this._eventRecord,t.keyEventType,ky.seen),(!this._longestSequence||this._longestSequence<t.sequenceLength)&&(this._longestSequence=t.sequenceLength)}},{key:"findMatch",value:function(t,r,i){var s=this._findCombinationMatcher(t);return s?s.findMatch(t.getCurrentCombination(),t.getCurrentCombination().getNormalizedKeyName(r),i):null}},{key:"hasMatchesForEventType",value:function(t){return!!this._eventRecord[t]}},{key:"getLongestSequence",value:function(){return this._longestSequence}},{key:"toJSON",value:function(){var t=this;return Object.keys(this._combinationMatchers).reduce(function(r,i){var s=t._combinationMatchers[i];return r[i]=s.toJSON(),r},{})}},{key:"_getOrCreateCombinationMatcher",value:function(t){return this._combinationMatchers[t]||(this._combinationMatchers[t]=new s2t),this._combinationMatchers[t]}},{key:"_findCombinationMatcher",value:function(t){var r=t.getMostRecentCombinations(this.getLongestSequence());if(r.length===0)return this._combinationMatchers[""];for(var i=r.map(function(O){return O.getIds()}),s=i.map(function(O){return O.length}),o=Array(i.length).fill(0),a=!1;!a;){var l=o.map(function(O,j){return i[j][O]}),f=l.join(" ");if(this._combinationMatchers[f])return this._combinationMatchers[f];for(var p=0,_=!0;_&&p<o.length;){var b=HAe(o,p),R=(b+1)%(HAe(s,p)||1);o[o.length-(p+1)]=R,_=R==0,_&&p++}a=p===o.length}}}]),n}(),l2t=function(){function n(e){Ya(this,n),this._keyMapMatchers=[],this._unmatchedHandlerStatus=[],this._handlersDictionary={},this._keySequencesDictionary={};for(var t=e.getNewIterator();t.next();){var r=t.getComponent(),i=r.handlers;this._unmatchedHandlerStatus.push([Object.keys(i).length,{}]),this._keyMapMatchers.push(new u2t)}this._componentList=e,this._componentListIterator=e.getNewIterator()}return Ka(n,[{key:"getKeyHistoryMatcher",value:function(t){if(this._componentHasUnmatchedHandlers(t))for(;this._componentListIterator.next();)this._addHandlersFromComponent(),this._addActionsFromComponent();return this._getKeyHistoryMatcher(t)}},{key:"componentHasActionsBoundToEventType",value:function(t,r){return this.getKeyHistoryMatcher(t).hasMatchesForEventType(r)}},{key:"findMatchingKeySequenceInComponent",value:function(t,r,i,s){return this.componentHasActionsBoundToEventType(t,s)?this.getKeyHistoryMatcher(t).findMatch(r,i,s):null}},{key:"_getKeyHistoryMatcher",value:function(t){return this._keyMapMatchers[t]}},{key:"_addActionsFromComponent",value:function(){var t=this,r=this._componentListIterator.getComponent(),i=r.actions;Object.keys(i).forEach(function(s){var o=t._getHandlers(s);if(o){var a=o[0],l=t._componentList.getAtPosition(a).handlers[s],f=t._getKeyHistoryMatcher(a),p=i[s];p.forEach(function(_){var b=[_.prefix,_.id].join(" ");t._isClosestHandlerFound(b,_)||(f.addMatch(_,l),t._addKeySequence(b,[a,_.keyEventType]))}),o.forEach(function(_){var b=t._getUnmatchedHandlerStatus(_);b[1][s]||(b[1][s]=!0,b[0]--)})}})}},{key:"_getHandlers",value:function(t){return this._handlersDictionary[t]}},{key:"_addHandlersFromComponent",value:function(){var t=this,r=this._componentListIterator.getComponent(),i=r.handlers;Object.keys(i).forEach(function(s){t._addHandler(s)})}},{key:"_addHandler",value:function(t){this._handlersDictionary[t]||(this._handlersDictionary[t]=[]),this._handlersDictionary[t].push(this._componentListIterator.getPosition())}},{key:"_addKeySequence",value:function(t,r){this._keySequencesDictionary[t]||(this._keySequencesDictionary[t]=[]),this._keySequencesDictionary[t].push(r)}},{key:"_componentHasUnmatchedHandlers",value:function(t){return 0<this._getUnmatchedHandlerStatus(t)[0]}},{key:"_getUnmatchedHandlerStatus",value:function(t){return this._unmatchedHandlerStatus[t]}},{key:"_isClosestHandlerFound",value:function(t,r){return this._keySequencesDictionary[t]&&this._keySequencesDictionary[t].some(function(i){return i[1]===r.keyEventType})}}]),n}();QAe=["sequence","action"],GAe=["name","description","group"],YAe=function(){function n(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;Ya(this,n),this.logger=e.logger||new Hm("warn"),this.componentId=-1,this.keyEventManager=t,this._componentTree=new e2t,this.rootComponentId=null,this._reset(),this.resetKeyHistory()}return Ka(n,[{key:"_reset",value:function(){this.componentList=new r2t,this._initHandlerResolutionState()}},{key:"_newKeyHistory",value:function(){return new zAe({maxLength:this.componentList.getLongestSequence()})}},{key:"getKeyHistory",value:function(){return this._keyHistory?this._keyHistory:(this._keyHistory=this._newKeyHistory(),this._keyHistory)}},{key:"_initHandlerResolutionState",value:function(){this._actionResolver=null}},{key:"resetKeyHistory",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};this.keypressEventsToSimulate=[],this.keyupEventsToSimulate=[],this._keyHistory=this.getKeyHistory().any()&&!t.force?new zAe({maxLength:this.componentList.getLongestSequence()},new xH(this.getCurrentCombination().keysStillPressedDict())):this._newKeyHistory()}},{key:"getApplicationKeyMap",value:function(){return this.rootComponentId===null?{}:this._buildApplicationKeyMap([this.rootComponentId],{})}},{key:"_buildApplicationKeyMap",value:function(t,r){var i=this;return t.forEach(function(s){var o=i._componentTree.get(s),a=o.childIds,l=o.keyMap;l&&Object.keys(l).forEach(function(f){var p=l[f];r[f]={},O4(p)?k1(p,"sequences")?(yH(p,r[f],GAe),r[f].sequences=i._createSequenceFromConfig(p.sequences)):(yH(p,r[f],GAe),r[f].sequences=[yH(p,{},QAe)]):r[f].sequences=i._createSequenceFromConfig(p)}),i._buildApplicationKeyMap(a,r)}),r}},{key:"_createSequenceFromConfig",value:function(t){return $O(t).map(function(r){return O4(r)?yH(r,{},QAe):{sequence:r}})}},{key:"registerKeyMap",value:function(t){return this.componentId+=1,this._componentTree.add(this.componentId,t),this.componentId}},{key:"reregisterKeyMap",value:function(t,r){this._componentTree.update(t,r)}},{key:"registerComponentMount",value:function(t,r){I1(r)?this.rootComponentId=t:this._componentTree.setParent(t,r)}},{key:"deregisterKeyMap",value:function(t){this._componentTree.remove(t),t===this.rootComponentId&&(this.rootComponentId=null)}},{key:"_addComponent",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0;this.componentList.add(t,r,i,s),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence())}},{key:"_allKeysAreReleased",value:function(){return this.getCurrentCombination().hasEnded()}},{key:"getCurrentCombination",value:function(){return this.getKeyHistory().getCurrentCombination()}},{key:"_shouldSimulate",value:function(t,r){var i=c2t(r),s=this.getCurrentCombination();return t===no.keypress?!i||i&&s.isKeyStillPressed("Meta"):t===no.keyup&&VAe(r)&&s.isKeyReleased("Meta")}},{key:"_cloneAndMergeEvent",value:function(t,r){var i=Object.keys(vue).reduce(function(s,o){return s[o]=t[o],s},{});return L1({},i,r)}},{key:"_callClosestMatchingHandler",value:function(t,r,i,s,o){for(this._actionResolver||(this._actionResolver=new l2t(this.componentList));o<=s;){var a=this._actionResolver.getKeyHistoryMatcher(o),l=this._actionResolver.findMatchingKeySequenceInComponent(o,this.getKeyHistory(),r,i),f=this.getCurrentCombination();if(l){var p=l.events[i];if(Ja.option("allowCombinationSubmatches"))var _=mH.serialize(l.keyDictionary);return p.handler(t),this._stopEventPropagationAfterHandlingIfEnabled(t,o),!0}this._actionResolver.componentHasActionsBoundToEventType(o,i),o++}}},{key:"_stopEventPropagationAfterHandlingIfEnabled",value:function(t,r){return!!Ja.option("stopEventPropagationAfterHandling")&&(this._stopEventPropagation(t,r),!0)}},{key:"_stopEventPropagation",value:function(){throw new Error("_stopEventPropagation must be overridden by a subclass")}},{key:"_checkForModifierFlagDiscrepancies",value:function(t,r,i){var s=this;Object.keys(vue).forEach(function(o){if(r!==o||i!==no.keyup){var a=s.getCurrentCombination(),l=a.isKeyStillPressed(o);vue[o].forEach(function(f){t[f]===!1&&l&&a.setKeyState(o,no.keyup,ME(t))})}})}},{key:"_logPrefix",value:function(){}}]),n}(),zO=function(){function n(){Ya(this,n)}return Ka(n,null,[{key:"getId",value:function(){return I1(this._id)&&(this._id=0),this._id}},{key:"incrementId",value:function(){this._id=this.getId()+1}}]),n}();d2t={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"};Ju={unseen:0,ignored:1,seen:2,recorded:3,handled:4},p2t=function(){function n(e,t){var r=t.logger,i=t.logPrefix;Ya(this,n),this._componentList=e,this._previousPropagation=null,this.logger=r,this._logPrefix=i,this._reset()}return Ka(n,[{key:"_reset",value:function(){this._previousPosition=-1,this._position=-1,this._actionHandled=!1,this._ignoreEvent=!1,this._observeIgnoredEvents=!1,this._stopping=!1,this._componentId=null,this._key=null,this._type=null}},{key:"isFirstPropagationStep",value:function(){var t=this.getPreviousPosition();return t===-1||t>=this._position}},{key:"isForKey",value:function(t){return this._key===t}},{key:"isForEventType",value:function(t){return this._type===t}},{key:"startNewPropagationStep",value:function(t,r,i,s){return this._position=this._componentList.getIndexById(t),this._componentId=t,this.isFirstPropagationStep()&&(zO.incrementId(),this._key=r.key,this._type=s),!(r.repeat&&Ja.option("ignoreRepeatedEventsWhenKeyHeldDown"))||(this.ignoreEvent(r),!1)}},{key:"finishPropagationStep",value:function(){this.isStopped()||this._componentList.isRoot(this._componentId)?(this._previousPropagation=this._clone(),this._reset()):this._previousPosition=this._position}},{key:"getPreviousPropagation",value:function(){return this._previousPropagation||(this._previousPropagation=this._clone({copyState:!1})),this._previousPropagation}},{key:"getPreviousPosition",value:function(){return this._previousPosition}},{key:"observeIgnoredEvents",value:function(){this._observeIgnoredEvents=!0}},{key:"ignoreEvent",value:function(t){return this.setIgnoreEvent(!0),!!(this.isIgnoringEvent()&&Ja.option("stopEventPropagationAfterIgnoring"))&&(this.stop(t),this.finishPropagationStep(),!0)}},{key:"setIgnoreEvent",value:function(t){this._ignoreEvent=t}},{key:"isIgnoringEvent",value:function(){return!this._observeIgnoredEvents&&this._ignoreEvent}},{key:"isStopped",value:function(){return this._stopping}},{key:"stop",value:function(t){return!this.isStopped()&&(this._stopping=!0,t.simulated||t.stopPropagation(),!0)}},{key:"isPendingPropagation",value:function(){var t=this.getPreviousPosition();return t!==-1&&t+1<this._position}},{key:"isHandled",value:function(){return this._actionHandled}},{key:"setHandled",value:function(){this._actionHandled=!0}},{key:"_clone",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},r=t.copyState,i=new n(this._componentList,{logger:this.logger,logPrefix:this._logPrefix});return(r===void 0||r)&&Object.assign(i,this),i}}]),n}(),m2t=function(n){function e(){var t,r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},i=1<arguments.length?arguments[1]:void 0;return Ya(this,e),t=qx(this,Rc(e).call(this,r,i)),t.focusTreeId=0,t}return jx(e,n),Ka(e,[{key:"_reset",value:function(){Ly(Rc(e.prototype),"_reset",this).call(this),this.keypressEventsToSimulate=[],this.focusTreeId+=1,this.eventPropagator=new p2t(this.componentList,{logger:this.logger,logPrefix:this._logPrefix.bind(this)})}},{key:"enableHotKeys",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length?arguments[3]:void 0;if(this.resetOnNextFocus&&(this._reset(),this.resetOnNextFocus=!1),!this.componentList.containsId(r))return this._addComponent(r,i,s,o),this.focusTreeId}},{key:"updateEnabledHotKeys",value:function(r,i){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},a=4<arguments.length?arguments[4]:void 0;r===this.focusTreeId&&this.componentList.containsId(i)&&(this.componentList.update(i,s,o,a),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._initHandlerResolutionState())}},{key:"disableHotKeys",value:function(r,i){this.resetOnNextFocus||(this.resetOnNextFocus=!0);var s=this.eventPropagator.isPendingPropagation();return s}},{key:"handleKeydown",value:function(r,i,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},a=Uw(r);if(i!==this.focusTreeId)return this.eventPropagator.ignoreEvent(r),!0;var l=this.eventPropagator.startNewPropagationStep(s,r,a,no.keydown);if(l){var f=this._howToHandleKeyEvent(r,i,s,a,o,no.keydown);if(f===Ju.handled){var p=ME(r),_=this.getCurrentCombination();_.isKeyIncluded(a)||_.isEnding()?this._startAndLogNewKeyCombination(a,i,s,p):this._addToAndLogCurrentKeyCombination(a,no.keydown,i,s,p),this._callHandlerIfActionNotHandled(r,a,no.keydown,s,i)}return this._simulateKeyPressForNonPrintableKeys(r,a,i,s,o),this.eventPropagator.finishPropagationStep(),!1}}},{key:"_howToHandleKeyEvent",value:function(r,i,s,o,a,l){if(this.eventPropagator.isFirstPropagationStep()){if(a.ignoreEventsCondition(r)&&this.eventPropagator.ignoreEvent(r))return this._eventIsToBeIgnored(r,s,o,l);this._checkForModifierFlagDiscrepancies(r,o,l)}else if(this.eventPropagator.isIgnoringEvent())return this._eventIsToBeIgnored(r,s,o,l);return Ju.handled}},{key:"_eventIsToBeIgnored",value:function(r,i,s,o){return Ju.ignored}},{key:"handleKeyPress",value:function(r,i,s,o){var a=Uw(r),l=this.getCurrentCombination();if(l.isKeyPressSimulated(a))return this.eventPropagator.ignoreEvent(r),!0;var f=this.eventPropagator.startNewPropagationStep(s,r,a,no.keypress);if(f){var p=i!==this.focusTreeId,_=this._howToHandleKeyEvent(r,i,s,a,o,no.keypress);return this.eventPropagator.isFirstPropagationStep(s)&&l.isKeyIncluded(a)&&this._addToAndLogCurrentKeyCombination(a,no.keypress,i,s,ME(r)),_===Ju.handled&&this._callHandlerIfActionNotHandled(r,a,no.keypress,s,i),this.eventPropagator.finishPropagationStep(),p}}},{key:"handleKeyUp",value:function(r,i,s,o){var a=Uw(r),l=this.getCurrentCombination();if(l.isKeyUpSimulated(a))return this.eventPropagator.ignoreEvent(r),!0;var f=this.eventPropagator.startNewPropagationStep(s,r,a,no.keyup);if(f){var p=i!==this.focusTreeId,_=this._howToHandleKeyEvent(r,i,s,a,o,no.keyup);return this.eventPropagator.isFirstPropagationStep(s)&&l.isKeyIncluded(a)&&this._addToAndLogCurrentKeyCombination(a,no.keyup,i,s,ME(r)),_===Ju.handled&&this._callHandlerIfActionNotHandled(r,a,no.keyup,s,i),this._simulateKeyUpEventsHiddenByCmd(r,a,i,s,o),this.eventPropagator.finishPropagationStep(),p}}},{key:"closeHangingKeyCombination",value:function(r,i){var s=this.getCurrentCombination();s.isKeyIncluded(r)&&!s.isEventTriggered(r,i)&&s.setKeyState(r,i,ky.simulated)}},{key:"_simulateKeyPressForNonPrintableKeys",value:function(r,i,s,o,a){this._handleEventSimulation("keypressEventsToSimulate","simulatePendingKeyPressEvents",this._shouldSimulate(no.keypress,i),{event:r,key:i,focusTreeId:s,componentId:o,options:a})}},{key:"_simulateKeyUpEventsHiddenByCmd",value:function(r,i,s,o,a){var l=this;vH(i)&&this.getCurrentCombination().forEachKey(function(f){vH(f)||l._handleEventSimulation("keyupEventsToSimulate","simulatePendingKeyUpEvents",l._shouldSimulate(no.keyup,f),{event:r,key:f,focusTreeId:s,componentId:o,options:a})})}},{key:"_stopEventPropagation",value:function(r,i){this.eventPropagator.stop(r)}},{key:"getEventPropagator",value:function(){return this.eventPropagator}},{key:"_startAndLogNewKeyCombination",value:function(r,i,s,o){this.getKeyHistory().startNewKeyCombination(r,o)}},{key:"_addToAndLogCurrentKeyCombination",value:function(r,i,s,o,a){this.getKeyHistory().addKeyToCurrentCombination(r,i,a)}},{key:"_handleEventSimulation",value:function(r,i,s,o){var a=o.event,l=o.key,f=o.focusTreeId,p=o.componentId,_=o.options;if(s&&Ja.option("simulateMissingKeyPressEvents")){var b=this._cloneAndMergeEvent(a,{key:l,simulated:!0});this[r].push({event:b,focusTreeId:f,componentId:p,options:_})}(this.componentList.isRoot(p)||this.eventPropagator.isStopped())&&!this.keyEventManager.isGlobalListenersBound()&&this[i]()}},{key:"simulatePendingKeyPressEvents",value:function(){this._simulatePendingKeyEvents("keypressEventsToSimulate","handleKeyPress")}},{key:"simulatePendingKeyUpEvents",value:function(){this._simulatePendingKeyEvents("keyupEventsToSimulate","handleKeyUp")}},{key:"_simulatePendingKeyEvents",value:function(r,i){var s=this;0<this[r].length&&zO.incrementId(),this[r].forEach(function(o){var a=o.event,l=o.focusTreeId,f=o.componentId,p=o.options;s[i](a,l,f,p)}),this[r]=[]}},{key:"_callHandlerIfActionNotHandled",value:function(r,i,s,o,a){var l=this.getCurrentCombination().describe();if(!!this.componentList.anyActionsForEventType(s)&&!this.eventPropagator.isHandled()){var f=this.eventPropagator.getPreviousPosition(),p=this.componentList.getIndexById(o),_=this._callClosestMatchingHandler(r,i,s,p,f===-1?0:f);_&&this.eventPropagator.setHandled()}}},{key:"_logPrefix",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=Hm.logIcons,o=Hm.eventIcons,a=Hm.componentIcons,l="HotKeys (";if(i.focusTreeId!==!1){var f=I1(i.focusTreeId)?this.focusTreeId:i.focusTreeId;l+="F".concat(f).concat(s[f%s.length],"-")}if(i.eventId!==!1){var p=I1(i.eventId)?zO.getId():i.eventId;l+="E".concat(p).concat(o[p%o.length],"-")}l+="C".concat(r).concat(a[r%a.length]);var _=this.componentList.getIndexById(r);return I1(_)||(l+="-P".concat(_).concat(a[_%a.length],":")),"".concat(l,")")}}]),e}(YAe);g2t=function(n){function e(){var t,r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},i=1<arguments.length?arguments[1]:void 0;return Ya(this,e),t=qx(this,Rc(e).call(this,r,i)),t.listenersBound=!1,t.eventOptions={ignoreEventsCondition:Ja.option("ignoreEventsCondition")},t.listeners={},t}return jx(e,n),Ka(e,[{key:"enableHotKeys",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0;this.eventOptions=a,this._addComponent(r,i,s,o),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"updateEnabledHotKeys",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0;this.eventOptions=a,this.componentList.update(r,i,s,o),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"disableHotKeys",value:function(r){this.componentList.remove(r),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"_updateDocumentHandlers",value:function(){var r=this,i=this._listenersShouldBeBound();!this.listenersBound&&i?(Object.values(no).forEach(function(s){var o=WAe(s);document["on".concat(o)]=function(a){r.keyEventManager["handleGlobal".concat(x2t(o))](a)}}),this.listenersBound=!0):this.listenersBound&&!i&&(Object.values(no).forEach(function(s){var o=WAe(s);delete document["on".concat(o)]}),this.listenersBound=!1)}},{key:"_listenersShouldBeBound",value:function(){return this.componentList.any()||this.listeners.keyCombination}},{key:"handleKeydown",value:function(r){var i=Uw(r);if(r.repeat&&Ja.option("ignoreRepeatedEventsWhenKeyHeldDown"))return!0;this._checkForModifierFlagDiscrepancies(r,i,no.keydown);var s=this._howReactAppRespondedTo(r,i,no.keydown);if(!(s===Ju.unseen&&this.eventOptions.ignoreEventsCondition(r))){if(s!==Ju.ignored){var o=ME(r),a=this.getCurrentCombination();a.isKeyIncluded(i)||a.isEnding()?this._startAndLogNewKeyCombination(i,o):this._addToAndLogCurrentKeyCombination(i,no.keydown,o)}_H([Ju.ignored,Ju.handled],s)||this._callHandlerIfExists(r,i,no.keydown),this._simulateKeyPressForNonPrintableKeys(r,i)}}},{key:"_howReactAppRespondedTo",value:function(r,i,s){var o=this.keyEventManager.reactAppHistoryWithEvent(i,s);return o===Ju.handled||o===Ju.ignored||o===Ju.seen||zO.incrementId(),o}},{key:"handleKeyPress",value:function(r){var i=Uw(r);if(r.repeat&&Ja.option("ignoreRepeatedEventsWhenKeyHeldDown"))return!0;var s=this.getCurrentCombination();if(s.isKeyPressSimulated(i))return!0;var o=this._howReactAppRespondedTo(r,i,no.keypress);return s.isKeyIncluded(i)&&this._addToAndLogCurrentKeyCombination(i,no.keypress,ME(r)),o===Ju.unseen&&(this.keyEventManager.closeHangingKeyCombination(i,no.keypress),this.eventOptions.ignoreEventsCondition(r))?void 0:void(!_H([Ju.ignored,Ju.handled],o)&&this._callHandlerIfExists(r,i,no.keypress))}},{key:"handleKeyUp",value:function(r){var i=Uw(r),s=this.getCurrentCombination();if(s.isKeyUpSimulated(i))return!0;var o=this._howReactAppRespondedTo(r,i,no.keyup);s.isKeyIncluded(i)&&this._addToAndLogCurrentKeyCombination(i,no.keyup,ME(r)),o===Ju.unseen?(this.keyEventManager.closeHangingKeyCombination(i,no.keyup),this.eventOptions.ignoreEventsCondition(r)||!_H([Ju.ignored,Ju.handled],o)&&this._callHandlerIfExists(r,i,no.keyup)):!_H([Ju.ignored,Ju.handled],o)&&this._callHandlerIfExists(r,i,no.keyup),this._simulateKeyUpEventsHiddenByCmd(r,i),this.listeners.keyCombination&&this._allKeysAreReleased()&&this.listeners.keyCombination({keys:s.getKeyDictionary(),id:s.describe()})}},{key:"_simulateKeyPressForNonPrintableKeys",value:function(r,i){this.keyEventManager.simulatePendingKeyPressEvents(),this._handleEventSimulation("handleKeyPress",this._shouldSimulate(no.keypress,i),{event:r,key:i})}},{key:"_simulateKeyUpEventsHiddenByCmd",value:function(r,i){var s=this;vH(i)&&(this.keyEventManager.simulatePendingKeyUpEvents(),this.getCurrentCombination().forEachKey(function(o){vH(o)||s._handleEventSimulation("handleKeyUp",s._shouldSimulate(no.keyup,o),{event:r,key:o})}))}},{key:"_startAndLogNewKeyCombination",value:function(r,i){this.getKeyHistory().startNewKeyCombination(r,i)}},{key:"_addToAndLogCurrentKeyCombination",value:function(r,i,s){this.getKeyHistory().addKeyToCurrentCombination(r,i,s)}},{key:"_handleEventSimulation",value:function(r,i,s){var o=s.event,a=s.key;if(i&&Ja.option("simulateMissingKeyPressEvents")){var l=this._cloneAndMergeEvent(o,{key:a,simulated:!0});this[r](l)}}},{key:"_callHandlerIfExists",value:function(r,i,s){var o=this.getCurrentCombination().describe();return this.componentList.anyActionsForEventType(s)?void this._callClosestMatchingHandler(r,i,s):void 0}},{key:"_callClosestMatchingHandler",value:function(r,i,s){for(var o,a=this.componentList.getNewIterator();a.next();)if(o=Ly(Rc(e.prototype),"_callClosestMatchingHandler",this).call(this,r,i,s,a.getPosition(),0),o)return}},{key:"_stopEventPropagation",value:function(r,i){r.simulated||r.stopPropagation()}},{key:"addKeyCombinationListener",value:function(r){var i=this,s=function(){delete i.listeners.keyCombination};return this.listeners.keyCombination=function(o){r(o),s()},this._updateDocumentHandlers(),s}},{key:"_logPrefix",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=Hm.eventIcons,o=Hm.componentIcons,a="HotKeys (GLOBAL";if(i.eventId!==!1){var l=I1(i.eventId)?zO.getId():i.eventId;a="".concat(a,"-E").concat(l).concat(s[l%s.length])}return I1(r)?"".concat(a,"):"):"".concat(a,"-C").concat(r).concat(o[r%o.length],"):")}}]),e}(YAe);H0=function(){function n(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Ya(this,n),this.logger=e.logger||new Hm(Ja.option("logLevel")),this._focusOnlyEventStrategy=new m2t({configuration:e,logger:this.logger},this),this._globalEventStrategy=new g2t({configuration:e,logger:this.logger},this),this.mountedComponentsCount=0}return Ka(n,null,[{key:"getInstance",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return this.instance||(this.instance=new n(t)),this.instance}},{key:"clear",value:function(){delete this.instance}}]),Ka(n,[{key:"getApplicationKeyMap",value:function(){return Object.assign(this._globalEventStrategy.getApplicationKeyMap(),this._focusOnlyEventStrategy.getApplicationKeyMap())}},{key:"registerKeyMap",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return this._focusOnlyEventStrategy.registerKeyMap(t)}},{key:"reregisterKeyMap",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this._focusOnlyEventStrategy.reregisterKeyMap(t,r)}},{key:"deregisterKeyMap",value:function(t){this._focusOnlyEventStrategy.deregisterKeyMap(t)}},{key:"registerComponentMount",value:function(t,r){return this._incrementComponentCount(),this._focusOnlyEventStrategy.registerComponentMount(t,r)}},{key:"registerComponentUnmount",value:function(){this._decrementComponentCount()}},{key:"_incrementComponentCount",value:function(){var t=this,r=this.mountedComponentsCount;this.mountedComponentsCount+=1,r===0&&this.mountedComponentsCount===1&&(window.onblur=function(){return t._clearKeyHistory()})}},{key:"_decrementComponentCount",value:function(){var t=this.mountedComponentsCount;this.mountedComponentsCount-=1,t===1&&this.mountedComponentsCount===0&&delete window.onblur}},{key:"_clearKeyHistory",value:function(){this._focusOnlyEventStrategy.resetKeyHistory({force:!0}),this._globalEventStrategy.resetKeyHistory({force:!0})}},{key:"registerGlobalKeyMap",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return this._globalEventStrategy.registerKeyMap(t)}},{key:"registerGlobalComponentUnmount",value:function(){this._decrementComponentCount()}},{key:"registerGlobalComponentMount",value:function(t,r){return this._incrementComponentCount(),this._globalEventStrategy.registerComponentMount(t,r)}},{key:"reregisterGlobalKeyMap",value:function(t,r){this._globalEventStrategy.reregisterKeyMap(t,r)}},{key:"deregisterGlobalKeyMap",value:function(t){this._globalEventStrategy.deregisterKeyMap(t)}},{key:"addKeyCombinationListener",value:function(t){return this._globalEventStrategy.addKeyCombinationListener(t)}},{key:"enableHotKeys",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0;return this._focusOnlyEventStrategy.enableHotKeys(t,r,i,s)}},{key:"updateEnabledHotKeys",value:function(t,r){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},o=4<arguments.length?arguments[4]:void 0;return this._focusOnlyEventStrategy.updateEnabledHotKeys(t,r,i,s,o)}},{key:"disableHotKeys",value:function(t,r){return this._focusOnlyEventStrategy.disableHotKeys(t,r)}},{key:"handleKeydown",value:function(t,r,i,s){if(Aue(r))return this._focusOnlyEventStrategy.handleKeydown(t,r,i,s)}},{key:"handleKeyPress",value:function(t,r,i,s){if(Aue(r))return this._focusOnlyEventStrategy.handleKeyPress(t,r,i,s)}},{key:"handleKeyUp",value:function(t,r,i,s){if(Aue(r))return this._focusOnlyEventStrategy.handleKeyUp(t,r,i,s)}},{key:"enableGlobalHotKeys",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0;return this._globalEventStrategy.enableHotKeys(t,r,i,s,o)}},{key:"updateEnabledGlobalHotKeys",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0;return this._globalEventStrategy.updateEnabledHotKeys(t,r,i,s,o)}},{key:"disableGlobalHotKeys",value:function(t){return this._globalEventStrategy.disableHotKeys(t)}},{key:"handleGlobalKeyDown",value:function(t){return this._globalEventStrategy.handleKeydown(t)}},{key:"handleGlobalKeyPress",value:function(t){return this._globalEventStrategy.handleKeyPress(t)}},{key:"handleGlobalKeyUp",value:function(t){return this._globalEventStrategy.handleKeyUp(t)}},{key:"ignoreEvent",value:function(t){this._focusOnlyEventStrategy.getEventPropagator().ignoreEvent(t)}},{key:"observeIgnoredEvents",value:function(t){this._focusOnlyEventStrategy.getEventPropagator().observeIgnoredEvents(t)}},{key:"closeHangingKeyCombination",value:function(t,r){this._focusOnlyEventStrategy.closeHangingKeyCombination(t,r)}},{key:"reactAppHistoryWithEvent",value:function(t,r){var i=this._focusOnlyEventStrategy.eventPropagator.getPreviousPropagation();return i.isForKey(t)&&i.isForEventType(r)?i.isHandled()?Ju.handled:i.isIgnoringEvent()?Ju.ignored:Ju.seen:Ju.unseen}},{key:"simulatePendingKeyPressEvents",value:function(){this._focusOnlyEventStrategy.simulatePendingKeyPressEvents()}},{key:"simulatePendingKeyUpEvents",value:function(){this._focusOnlyEventStrategy.simulatePendingKeyUpEvents()}},{key:"isGlobalListenersBound",value:function(){return this._globalEventStrategy.listenersBound}}]),n}();y2t=function(n){function e(){return Ya(this,e),qx(this,Rc(e).apply(this,arguments))}return jx(e,n),Ka(e,[{key:"render",value:function(){var r=this.props,i=r.hotKeys,s=r.innerRef,o=r.component,a=jO(r,["hotKeys","innerRef","component"]),l=o||Ja.option("defaultComponent");return i0.default.createElement(l,L1({},i,{ref:s},a))}}]),e}(i0.Component),ZAe=XAe(y2t);ZAe.propTypes={innerRef:wu.default.oneOfType([wu.default.object,wu.default.func])};eTe=function(n){function e(t){var r;return Ya(this,e),r=qx(this,Rc(e).call(this,t)),r._id=H0.getInstance().registerGlobalKeyMap(t.keyMap),r._childContext={globalHotKeysParentId:r._id},r}return jx(e,n),Ka(e,[{key:"render",value:function(){return this.props.children||null}},{key:"componentDidUpdate",value:function(){var r=H0.getInstance();if(r.reregisterGlobalKeyMap(this._id,this.props.keyMap),this.props.allowChanges||!Ja.option("ignoreKeymapAndHandlerChangesByDefault")){var i=this.props,s=i.keyMap,o=i.handlers;r.updateEnabledGlobalHotKeys(this._id,s,o,this._getComponentOptions(),this._getEventOptions())}}},{key:"componentDidMount",value:function(){var r=this.props,i=r.keyMap,s=r.handlers,o=this.context.globalHotKeysParentId,a=H0.getInstance();a.registerGlobalComponentMount(this._id,o),a.enableGlobalHotKeys(this._id,i,s,this._getComponentOptions(),this._getEventOptions())}},{key:"componentWillUnmount",value:function(){var r=H0.getInstance();r.deregisterGlobalKeyMap(this._id),r.disableGlobalHotKeys(this._id),r.registerGlobalComponentUnmount()}},{key:"_getComponentOptions",value:function(){return{defaultKeyEvent:Ja.option("defaultKeyEvent")}}},{key:"_getEventOptions",value:function(){return{ignoreEventsCondition:Ja.option("ignoreEventsCondition")}}}]),e}(i0.Component);Ff(eTe,"propTypes",{keyMap:wu.default.object,handlers:wu.default.object,allowChanges:wu.default.bool});v2t=JAe(eTe,{deprecatedAPI:{contextTypes:{globalHotKeysParentId:wu.default.number},childContextTypes:{globalHotKeysParentId:wu.default.number}},newAPI:{contextType:{globalHotKeysParentId:void 0}}});_2t=function(n){function e(){return Ya(this,e),qx(this,Rc(e).apply(this,arguments))}return jx(e,n),Ka(e,[{key:"render",value:function(){var r=this.props,i=r.hotKeys,s=jO(r,["hotKeys"]),o=s.component||Ja.option("defaultComponent");return i0.default.createElement(o,L1({},i,s))}}]),e}(i0.Component),E2t=EH(_2t,{},"ignoreEvent"),b2t=function(n){function e(){return Ya(this,e),qx(this,Rc(e).apply(this,arguments))}return jx(e,n),Ka(e,[{key:"render",value:function(){var r=this.props,i=r.hotKeys,s=jO(r,["hotKeys"]),o=s.component||Ja.option("defaultComponent");return i0.default.createElement(o,L1({},i,s))}}]),e}(i0.Component),S2t=EH(b2t,{},"observeIgnoredEvents")});var sTe=Ae((INt,iTe)=>{"use strict";m();iTe.exports=(rTe(),vje(nTe))});var yFe=Ae((EBt,gFe)=>{m();var Jxt=typeof Element!="undefined",Xxt=typeof Map=="function",Zxt=typeof Set=="function",egt=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function BH(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var t,r,i;if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(!BH(n[r],e[r]))return!1;return!0}var s;if(Xxt&&n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=n.entries();!(r=s.next()).done;)if(!BH(r.value[1],e.get(r.value[0])))return!1;return!0}if(Zxt&&n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(egt&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(e)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(n[r]!==e[r])return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(Jxt&&n instanceof Element)return!1;for(r=t;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&n.$$typeof)&&!BH(n[i[r]],e[i[r]]))return!1;return!0}return n!==n&&e!==e}gFe.exports=function(e,t){try{return BH(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}}});var cle=Ae((lle,u9)=>{m();(function(n,e){typeof lle=="object"&&typeof u9!="undefined"?u9.exports=e():typeof define=="function"&&define.amd?define(e):n.moment=e()})(lle,function(){"use strict";var n;function e(){return n.apply(null,arguments)}function t(A){n=A}function r(A){return A instanceof Array||Object.prototype.toString.call(A)==="[object Array]"}function i(A){return A!=null&&Object.prototype.toString.call(A)==="[object Object]"}function s(A,Q){return Object.prototype.hasOwnProperty.call(A,Q)}function o(A){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(A).length===0;var Q;for(Q in A)if(s(A,Q))return!1;return!0}function a(A){return A===void 0}function l(A){return typeof A=="number"||Object.prototype.toString.call(A)==="[object Number]"}function f(A){return A instanceof Date||Object.prototype.toString.call(A)==="[object Date]"}function p(A,Q){var de=[],Pe,Ct=A.length;for(Pe=0;Pe<Ct;++Pe)de.push(Q(A[Pe],Pe));return de}function _(A,Q){for(var de in Q)s(Q,de)&&(A[de]=Q[de]);return s(Q,"toString")&&(A.toString=Q.toString),s(Q,"valueOf")&&(A.valueOf=Q.valueOf),A}function b(A,Q,de,Pe){return pn(A,Q,de,Pe,!0).utc()}function R(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function O(A){return A._pf==null&&(A._pf=R()),A._pf}var j;Array.prototype.some?j=Array.prototype.some:j=function(A){var Q=Object(this),de=Q.length>>>0,Pe;for(Pe=0;Pe<de;Pe++)if(Pe in Q&&A.call(this,Q[Pe],Pe,Q))return!0;return!1};function $(A){if(A._isValid==null){var Q=O(A),de=j.call(Q.parsedDateParts,function(Ct){return Ct!=null}),Pe=!isNaN(A._d.getTime())&&Q.overflow<0&&!Q.empty&&!Q.invalidEra&&!Q.invalidMonth&&!Q.invalidWeekday&&!Q.weekdayMismatch&&!Q.nullInput&&!Q.invalidFormat&&!Q.userInvalidated&&(!Q.meridiem||Q.meridiem&&de);if(A._strict&&(Pe=Pe&&Q.charsLeftOver===0&&Q.unusedTokens.length===0&&Q.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(A))A._isValid=Pe;else return Pe}return A._isValid}function L(A){var Q=b(NaN);return A!=null?_(O(Q),A):O(Q).userInvalidated=!0,Q}var q=e.momentProperties=[],P=!1;function W(A,Q){var de,Pe,Ct,Tn=q.length;if(a(Q._isAMomentObject)||(A._isAMomentObject=Q._isAMomentObject),a(Q._i)||(A._i=Q._i),a(Q._f)||(A._f=Q._f),a(Q._l)||(A._l=Q._l),a(Q._strict)||(A._strict=Q._strict),a(Q._tzm)||(A._tzm=Q._tzm),a(Q._isUTC)||(A._isUTC=Q._isUTC),a(Q._offset)||(A._offset=Q._offset),a(Q._pf)||(A._pf=O(Q)),a(Q._locale)||(A._locale=Q._locale),Tn>0)for(de=0;de<Tn;de++)Pe=q[de],Ct=Q[Pe],a(Ct)||(A[Pe]=Ct);return A}function oe(A){W(this,A),this._d=new Date(A._d!=null?A._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),P===!1&&(P=!0,e.updateOffset(this),P=!1)}function I(A){return A instanceof oe||A!=null&&A._isAMomentObject!=null}function J(A){e.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+A)}function he(A,Q){var de=!0;return _(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,A),de){var Pe=[],Ct,Tn,ur,$i=arguments.length;for(Tn=0;Tn<$i;Tn++){if(Ct="",typeof arguments[Tn]=="object"){Ct+=`
[`+Tn+"] ";for(ur in arguments[0])s(arguments[0],ur)&&(Ct+=ur+": "+arguments[0][ur]+", ");Ct=Ct.slice(0,-2)}else Ct=arguments[Tn];Pe.push(Ct)}J(A+`
Arguments: `+Array.prototype.slice.call(Pe).join("")+`
`+new Error().stack),de=!1}return Q.apply(this,arguments)},Q)}var ye={};function He(A,Q){e.deprecationHandler!=null&&e.deprecationHandler(A,Q),ye[A]||(J(Q),ye[A]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function at(A){return typeof Function!="undefined"&&A instanceof Function||Object.prototype.toString.call(A)==="[object Function]"}function ct(A){var Q,de;for(de in A)s(A,de)&&(Q=A[de],at(Q)?this[de]=Q:this["_"+de]=Q);this._config=A,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ze(A,Q){var de=_({},A),Pe;for(Pe in Q)s(Q,Pe)&&(i(A[Pe])&&i(Q[Pe])?(de[Pe]={},_(de[Pe],A[Pe]),_(de[Pe],Q[Pe])):Q[Pe]!=null?de[Pe]=Q[Pe]:delete de[Pe]);for(Pe in A)s(A,Pe)&&!s(Q,Pe)&&i(A[Pe])&&(de[Pe]=_({},de[Pe]));return de}function bt(A){A!=null&&this.set(A)}var Mt;Object.keys?Mt=Object.keys:Mt=function(A){var Q,de=[];for(Q in A)s(A,Q)&&de.push(Q);return de};var qe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function te(A,Q,de){var Pe=this._calendar[A]||this._calendar.sameElse;return at(Pe)?Pe.call(Q,de):Pe}function et(A,Q,de){var Pe=""+Math.abs(A),Ct=Q-Pe.length,Tn=A>=0;return(Tn?de?"+":"":"-")+Math.pow(10,Math.max(0,Ct)).toString().substr(1)+Pe}var Ee=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ke=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ce={},pe={};function Je(A,Q,de,Pe){var Ct=Pe;typeof Pe=="string"&&(Ct=function(){return this[Pe]()}),A&&(pe[A]=Ct),Q&&(pe[Q[0]]=function(){return et(Ct.apply(this,arguments),Q[1],Q[2])}),de&&(pe[de]=function(){return this.localeData().ordinal(Ct.apply(this,arguments),A)})}function lt(A){return A.match(/\[[\s\S]/)?A.replace(/^\[|\]$/g,""):A.replace(/\\/g,"")}function Ht(A){var Q=A.match(Ee),de,Pe;for(de=0,Pe=Q.length;de<Pe;de++)pe[Q[de]]?Q[de]=pe[Q[de]]:Q[de]=lt(Q[de]);return function(Ct){var Tn="",ur;for(ur=0;ur<Pe;ur++)Tn+=at(Q[ur])?Q[ur].call(Ct,A):Q[ur];return Tn}}function wt(A,Q){return A.isValid()?(Q=mn(Q,A.localeData()),Ce[Q]=Ce[Q]||Ht(Q),Ce[Q](A)):A.localeData().invalidDate()}function mn(A,Q){var de=5;function Pe(Ct){return Q.longDateFormat(Ct)||Ct}for(ke.lastIndex=0;de>=0&&ke.test(A);)A=A.replace(ke,Pe),ke.lastIndex=0,de-=1;return A}var kt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Bt(A){var Q=this._longDateFormat[A],de=this._longDateFormat[A.toUpperCase()];return Q||!de?Q:(this._longDateFormat[A]=de.match(Ee).map(function(Pe){return Pe==="MMMM"||Pe==="MM"||Pe==="DD"||Pe==="dddd"?Pe.slice(1):Pe}).join(""),this._longDateFormat[A])}var tn="Invalid date";function Et(){return this._invalidDate}var ve="%d",Le=/\d{1,2}/;function _e(A){return this._ordinal.replace("%d",A)}var ce={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function tt(A,Q,de,Pe){var Ct=this._relativeTime[de];return at(Ct)?Ct(A,Q,de,Pe):Ct.replace(/%d/i,A)}function Ke(A,Q){var de=this._relativeTime[A>0?"future":"past"];return at(de)?de(Q):de.replace(/%s/i,Q)}var re={};function Re(A,Q){var de=A.toLowerCase();re[de]=re[de+"s"]=re[Q]=A}function nt(A){return typeof A=="string"?re[A]||re[A.toLowerCase()]:void 0}function ft(A){var Q={},de,Pe;for(Pe in A)s(A,Pe)&&(de=nt(Pe),de&&(Q[de]=A[Pe]));return Q}var Rt={};function Yt(A,Q){Rt[A]=Q}function Gt(A){var Q=[],de;for(de in A)s(A,de)&&Q.push({unit:de,priority:Rt[de]});return Q.sort(function(Pe,Ct){return Pe.priority-Ct.priority}),Q}function fn(A){return A%4===0&&A%100!==0||A%400===0}function gn(A){return A<0?Math.ceil(A)||0:Math.floor(A)}function yn(A){var Q=+A,de=0;return Q!==0&&isFinite(Q)&&(de=gn(Q)),de}function Lt(A,Q){return function(de){return de!=null?(Pn(this,A,de),e.updateOffset(this,Q),this):un(this,A)}}function un(A,Q){return A.isValid()?A._d["get"+(A._isUTC?"UTC":"")+Q]():NaN}function Pn(A,Q,de){A.isValid()&&!isNaN(de)&&(Q==="FullYear"&&fn(A.year())&&A.month()===1&&A.date()===29?(de=yn(de),A._d["set"+(A._isUTC?"UTC":"")+Q](de,A.month(),zn(de,A.month()))):A._d["set"+(A._isUTC?"UTC":"")+Q](de))}function nr(A){return A=nt(A),at(this[A])?this[A]():this}function On(A,Q){if(typeof A=="object"){A=ft(A);var de=Gt(A),Pe,Ct=de.length;for(Pe=0;Pe<Ct;Pe++)this[de[Pe].unit](A[de[Pe].unit])}else if(A=nt(A),at(this[A]))return this[A](Q);return this}var Ne=/\d/,ze=/\d\d/,De=/\d{3}/,Pt=/\d{4}/,mt=/[+-]?\d{6}/,xt=/\d\d?/,rn=/\d\d\d\d?/,Qt=/\d\d\d\d\d\d?/,Fn=/\d{1,3}/,Wn=/\d{1,4}/,Zn=/[+-]?\d{1,6}/,Nn=/\d+/,rr=/[+-]?\d+/,Ye=/Z|[+-]\d\d:?\d\d/gi,vt=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[+-]?\d+(\.\d{1,3})?/,Be=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,rt;rt={};function Dt(A,Q,de){rt[A]=at(Q)?Q:function(Pe,Ct){return Pe&&de?de:Q}}function hn(A,Q){return s(rt,A)?rt[A](Q._strict,Q._locale):new RegExp(an(A))}function an(A){return dt(A.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(Q,de,Pe,Ct,Tn){return de||Pe||Ct||Tn}))}function dt(A){return A.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ie={};function Te(A,Q){var de,Pe=Q,Ct;for(typeof A=="string"&&(A=[A]),l(Q)&&(Pe=function(Tn,ur){ur[Q]=yn(Tn)}),Ct=A.length,de=0;de<Ct;de++)ie[A[de]]=Pe}function Ue(A,Q){Te(A,function(de,Pe,Ct,Tn){Ct._w=Ct._w||{},Q(de,Ct._w,Ct,Tn)})}function gt(A,Q,de){Q!=null&&s(ie,A)&&ie[A](Q,de._a,de,A)}var St=0,Ot=1,ne=2,we=3,We=4,st=5,Ut=6,sn=7,wn=8;function bn(A,Q){return(A%Q+Q)%Q}var vn;Array.prototype.indexOf?vn=Array.prototype.indexOf:vn=function(A){var Q;for(Q=0;Q<this.length;++Q)if(this[Q]===A)return Q;return-1};function zn(A,Q){if(isNaN(A)||isNaN(Q))return NaN;var de=bn(Q,12);return A+=(Q-de)/12,de===1?fn(A)?29:28:31-de%7%2}Je("M",["MM",2],"Mo",function(){return this.month()+1}),Je("MMM",0,0,function(A){return this.localeData().monthsShort(this,A)}),Je("MMMM",0,0,function(A){return this.localeData().months(this,A)}),Re("month","M"),Yt("month",8),Dt("M",xt),Dt("MM",xt,ze),Dt("MMM",function(A,Q){return Q.monthsShortRegex(A)}),Dt("MMMM",function(A,Q){return Q.monthsRegex(A)}),Te(["M","MM"],function(A,Q){Q[Ot]=yn(A)-1}),Te(["MMM","MMMM"],function(A,Q,de,Pe){var Ct=de._locale.monthsParse(A,Pe,de._strict);Ct!=null?Q[Ot]=Ct:O(de).invalidMonth=A});var Oe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),$e="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ft=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,N=Be,V=Be;function be(A,Q){return A?r(this._months)?this._months[A.month()]:this._months[(this._months.isFormat||Ft).test(Q)?"format":"standalone"][A.month()]:r(this._months)?this._months:this._months.standalone}function xe(A,Q){return A?r(this._monthsShort)?this._monthsShort[A.month()]:this._monthsShort[Ft.test(Q)?"format":"standalone"][A.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function K(A,Q,de){var Pe,Ct,Tn,ur=A.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Pe=0;Pe<12;++Pe)Tn=b([2e3,Pe]),this._shortMonthsParse[Pe]=this.monthsShort(Tn,"").toLocaleLowerCase(),this._longMonthsParse[Pe]=this.months(Tn,"").toLocaleLowerCase();return de?Q==="MMM"?(Ct=vn.call(this._shortMonthsParse,ur),Ct!==-1?Ct:null):(Ct=vn.call(this._longMonthsParse,ur),Ct!==-1?Ct:null):Q==="MMM"?(Ct=vn.call(this._shortMonthsParse,ur),Ct!==-1?Ct:(Ct=vn.call(this._longMonthsParse,ur),Ct!==-1?Ct:null)):(Ct=vn.call(this._longMonthsParse,ur),Ct!==-1?Ct:(Ct=vn.call(this._shortMonthsParse,ur),Ct!==-1?Ct:null))}function ue(A,Q,de){var Pe,Ct,Tn;if(this._monthsParseExact)return K.call(this,A,Q,de);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),Pe=0;Pe<12;Pe++){if(Ct=b([2e3,Pe]),de&&!this._longMonthsParse[Pe]&&(this._longMonthsParse[Pe]=new RegExp("^"+this.months(Ct,"").replace(".","")+"$","i"),this._shortMonthsParse[Pe]=new RegExp("^"+this.monthsShort(Ct,"").replace(".","")+"$","i")),!de&&!this._monthsParse[Pe]&&(Tn="^"+this.months(Ct,"")+"|^"+this.monthsShort(Ct,""),this._monthsParse[Pe]=new RegExp(Tn.replace(".",""),"i")),de&&Q==="MMMM"&&this._longMonthsParse[Pe].test(A))return Pe;if(de&&Q==="MMM"&&this._shortMonthsParse[Pe].test(A))return Pe;if(!de&&this._monthsParse[Pe].test(A))return Pe}}function fe(A,Q){var de;if(!A.isValid())return A;if(typeof Q=="string"){if(/^\d+$/.test(Q))Q=yn(Q);else if(Q=A.localeData().monthsParse(Q),!l(Q))return A}return de=Math.min(A.date(),zn(A.year(),Q)),A._d["set"+(A._isUTC?"UTC":"")+"Month"](Q,de),A}function Qe(A){return A!=null?(fe(this,A),e.updateOffset(this,!0),this):un(this,"Month")}function It(){return zn(this.year(),this.month())}function At(A){return this._monthsParseExact?(s(this,"_monthsRegex")||C.call(this),A?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=N),this._monthsShortStrictRegex&&A?this._monthsShortStrictRegex:this._monthsShortRegex)}function dn(A){return this._monthsParseExact?(s(this,"_monthsRegex")||C.call(this),A?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=V),this._monthsStrictRegex&&A?this._monthsStrictRegex:this._monthsRegex)}function C(){function A(ur,$i){return $i.length-ur.length}var Q=[],de=[],Pe=[],Ct,Tn;for(Ct=0;Ct<12;Ct++)Tn=b([2e3,Ct]),Q.push(this.monthsShort(Tn,"")),de.push(this.months(Tn,"")),Pe.push(this.months(Tn,"")),Pe.push(this.monthsShort(Tn,""));for(Q.sort(A),de.sort(A),Pe.sort(A),Ct=0;Ct<12;Ct++)Q[Ct]=dt(Q[Ct]),de[Ct]=dt(de[Ct]);for(Ct=0;Ct<24;Ct++)Pe[Ct]=dt(Pe[Ct]);this._monthsRegex=new RegExp("^("+Pe.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+de.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+Q.join("|")+")","i")}Je("Y",0,0,function(){var A=this.year();return A<=9999?et(A,4):"+"+A}),Je(0,["YY",2],0,function(){return this.year()%100}),Je(0,["YYYY",4],0,"year"),Je(0,["YYYYY",5],0,"year"),Je(0,["YYYYYY",6,!0],0,"year"),Re("year","y"),Yt("year",1),Dt("Y",rr),Dt("YY",xt,ze),Dt("YYYY",Wn,Pt),Dt("YYYYY",Zn,mt),Dt("YYYYYY",Zn,mt),Te(["YYYYY","YYYYYY"],St),Te("YYYY",function(A,Q){Q[St]=A.length===2?e.parseTwoDigitYear(A):yn(A)}),Te("YY",function(A,Q){Q[St]=e.parseTwoDigitYear(A)}),Te("Y",function(A,Q){Q[St]=parseInt(A,10)});function B(A){return fn(A)?366:365}e.parseTwoDigitYear=function(A){return yn(A)+(yn(A)>68?1900:2e3)};var ee=Lt("FullYear",!0);function Se(){return fn(this.year())}function ht(A,Q,de,Pe,Ct,Tn,ur){var $i;return A<100&&A>=0?($i=new Date(A+400,Q,de,Pe,Ct,Tn,ur),isFinite($i.getFullYear())&&$i.setFullYear(A)):$i=new Date(A,Q,de,Pe,Ct,Tn,ur),$i}function Tt(A){var Q,de;return A<100&&A>=0?(de=Array.prototype.slice.call(arguments),de[0]=A+400,Q=new Date(Date.UTC.apply(null,de)),isFinite(Q.getUTCFullYear())&&Q.setUTCFullYear(A)):Q=new Date(Date.UTC.apply(null,arguments)),Q}function Zt(A,Q,de){var Pe=7+Q-de,Ct=(7+Tt(A,0,Pe).getUTCDay()-Q)%7;return-Ct+Pe-1}function Xt(A,Q,de,Pe,Ct){var Tn=(7+de-Pe)%7,ur=Zt(A,Pe,Ct),$i=1+7*(Q-1)+Tn+ur,Bi,ao;return $i<=0?(Bi=A-1,ao=B(Bi)+$i):$i>B(A)?(Bi=A+1,ao=$i-B(A)):(Bi=A,ao=$i),{year:Bi,dayOfYear:ao}}function xn(A,Q,de){var Pe=Zt(A.year(),Q,de),Ct=Math.floor((A.dayOfYear()-Pe-1)/7)+1,Tn,ur;return Ct<1?(ur=A.year()-1,Tn=Ct+qn(ur,Q,de)):Ct>qn(A.year(),Q,de)?(Tn=Ct-qn(A.year(),Q,de),ur=A.year()+1):(ur=A.year(),Tn=Ct),{week:Tn,year:ur}}function qn(A,Q,de){var Pe=Zt(A,Q,de),Ct=Zt(A+1,Q,de);return(B(A)-Pe+Ct)/7}Je("w",["ww",2],"wo","week"),Je("W",["WW",2],"Wo","isoWeek"),Re("week","w"),Re("isoWeek","W"),Yt("week",5),Yt("isoWeek",5),Dt("w",xt),Dt("ww",xt,ze),Dt("W",xt),Dt("WW",xt,ze),Ue(["w","ww","W","WW"],function(A,Q,de,Pe){Q[Pe.substr(0,1)]=yn(A)});function Un(A){return xn(A,this._week.dow,this._week.doy).week}var Vn={dow:0,doy:6};function Jr(){return this._week.dow}function Wr(){return this._week.doy}function yr(A){var Q=this.localeData().week(this);return A==null?Q:this.add((A-Q)*7,"d")}function Mr(A){var Q=xn(this,1,4).week;return A==null?Q:this.add((A-Q)*7,"d")}Je("d",0,"do","day"),Je("dd",0,0,function(A){return this.localeData().weekdaysMin(this,A)}),Je("ddd",0,0,function(A){return this.localeData().weekdaysShort(this,A)}),Je("dddd",0,0,function(A){return this.localeData().weekdays(this,A)}),Je("e",0,0,"weekday"),Je("E",0,0,"isoWeekday"),Re("day","d"),Re("weekday","e"),Re("isoWeekday","E"),Yt("day",11),Yt("weekday",11),Yt("isoWeekday",11),Dt("d",xt),Dt("e",xt),Dt("E",xt),Dt("dd",function(A,Q){return Q.weekdaysMinRegex(A)}),Dt("ddd",function(A,Q){return Q.weekdaysShortRegex(A)}),Dt("dddd",function(A,Q){return Q.weekdaysRegex(A)}),Ue(["dd","ddd","dddd"],function(A,Q,de,Pe){var Ct=de._locale.weekdaysParse(A,Pe,de._strict);Ct!=null?Q.d=Ct:O(de).invalidWeekday=A}),Ue(["d","e","E"],function(A,Q,de,Pe){Q[Pe]=yn(A)});function xi(A,Q){return typeof A!="string"?A:isNaN(A)?(A=Q.weekdaysParse(A),typeof A=="number"?A:null):parseInt(A,10)}function ai(A,Q){return typeof A=="string"?Q.weekdaysParse(A)%7||7:isNaN(A)?null:A}function Xi(A,Q){return A.slice(Q,7).concat(A.slice(0,Q))}var Cs="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ts="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Aa="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xa=Be,yl=Be,Lc=Be;function fu(A,Q){var de=r(this._weekdays)?this._weekdays:this._weekdays[A&&A!==!0&&this._weekdays.isFormat.test(Q)?"format":"standalone"];return A===!0?Xi(de,this._week.dow):A?de[A.day()]:de}function du(A){return A===!0?Xi(this._weekdaysShort,this._week.dow):A?this._weekdaysShort[A.day()]:this._weekdaysShort}function Xu(A){return A===!0?Xi(this._weekdaysMin,this._week.dow):A?this._weekdaysMin[A.day()]:this._weekdaysMin}function Du(A,Q,de){var Pe,Ct,Tn,ur=A.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Pe=0;Pe<7;++Pe)Tn=b([2e3,1]).day(Pe),this._minWeekdaysParse[Pe]=this.weekdaysMin(Tn,"").toLocaleLowerCase(),this._shortWeekdaysParse[Pe]=this.weekdaysShort(Tn,"").toLocaleLowerCase(),this._weekdaysParse[Pe]=this.weekdays(Tn,"").toLocaleLowerCase();return de?Q==="dddd"?(Ct=vn.call(this._weekdaysParse,ur),Ct!==-1?Ct:null):Q==="ddd"?(Ct=vn.call(this._shortWeekdaysParse,ur),Ct!==-1?Ct:null):(Ct=vn.call(this._minWeekdaysParse,ur),Ct!==-1?Ct:null):Q==="dddd"?(Ct=vn.call(this._weekdaysParse,ur),Ct!==-1||(Ct=vn.call(this._shortWeekdaysParse,ur),Ct!==-1)?Ct:(Ct=vn.call(this._minWeekdaysParse,ur),Ct!==-1?Ct:null)):Q==="ddd"?(Ct=vn.call(this._shortWeekdaysParse,ur),Ct!==-1||(Ct=vn.call(this._weekdaysParse,ur),Ct!==-1)?Ct:(Ct=vn.call(this._minWeekdaysParse,ur),Ct!==-1?Ct:null)):(Ct=vn.call(this._minWeekdaysParse,ur),Ct!==-1||(Ct=vn.call(this._weekdaysParse,ur),Ct!==-1)?Ct:(Ct=vn.call(this._shortWeekdaysParse,ur),Ct!==-1?Ct:null))}function kc(A,Q,de){var Pe,Ct,Tn;if(this._weekdaysParseExact)return Du.call(this,A,Q,de);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),Pe=0;Pe<7;Pe++){if(Ct=b([2e3,1]).day(Pe),de&&!this._fullWeekdaysParse[Pe]&&(this._fullWeekdaysParse[Pe]=new RegExp("^"+this.weekdays(Ct,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[Pe]=new RegExp("^"+this.weekdaysShort(Ct,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[Pe]=new RegExp("^"+this.weekdaysMin(Ct,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[Pe]||(Tn="^"+this.weekdays(Ct,"")+"|^"+this.weekdaysShort(Ct,"")+"|^"+this.weekdaysMin(Ct,""),this._weekdaysParse[Pe]=new RegExp(Tn.replace(".",""),"i")),de&&Q==="dddd"&&this._fullWeekdaysParse[Pe].test(A))return Pe;if(de&&Q==="ddd"&&this._shortWeekdaysParse[Pe].test(A))return Pe;if(de&&Q==="dd"&&this._minWeekdaysParse[Pe].test(A))return Pe;if(!de&&this._weekdaysParse[Pe].test(A))return Pe}}function na(A){if(!this.isValid())return A!=null?this:NaN;var Q=this._isUTC?this._d.getUTCDay():this._d.getDay();return A!=null?(A=xi(A,this.localeData()),this.add(A-Q,"d")):Q}function Zu(A){if(!this.isValid())return A!=null?this:NaN;var Q=(this.day()+7-this.localeData()._week.dow)%7;return A==null?Q:this.add(A-Q,"d")}function rf(A){if(!this.isValid())return A!=null?this:NaN;if(A!=null){var Q=ai(A,this.localeData());return this.day(this.day()%7?Q:Q-7)}else return this.day()||7}function Ge(A){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Yn.call(this),A?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=xa),this._weekdaysStrictRegex&&A?this._weekdaysStrictRegex:this._weekdaysRegex)}function Kt(A){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Yn.call(this),A?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=yl),this._weekdaysShortStrictRegex&&A?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function jn(A){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Yn.call(this),A?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Lc),this._weekdaysMinStrictRegex&&A?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Yn(){function A(gu,Uc){return Uc.length-gu.length}var Q=[],de=[],Pe=[],Ct=[],Tn,ur,$i,Bi,ao;for(Tn=0;Tn<7;Tn++)ur=b([2e3,1]).day(Tn),$i=dt(this.weekdaysMin(ur,"")),Bi=dt(this.weekdaysShort(ur,"")),ao=dt(this.weekdays(ur,"")),Q.push($i),de.push(Bi),Pe.push(ao),Ct.push($i),Ct.push(Bi),Ct.push(ao);Q.sort(A),de.sort(A),Pe.sort(A),Ct.sort(A),this._weekdaysRegex=new RegExp("^("+Ct.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Pe.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+de.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+Q.join("|")+")","i")}function ri(){return this.hours()%12||12}function Br(){return this.hours()||24}Je("H",["HH",2],0,"hour"),Je("h",["hh",2],0,ri),Je("k",["kk",2],0,Br),Je("hmm",0,0,function(){return""+ri.apply(this)+et(this.minutes(),2)}),Je("hmmss",0,0,function(){return""+ri.apply(this)+et(this.minutes(),2)+et(this.seconds(),2)}),Je("Hmm",0,0,function(){return""+this.hours()+et(this.minutes(),2)}),Je("Hmmss",0,0,function(){return""+this.hours()+et(this.minutes(),2)+et(this.seconds(),2)});function Xr(A,Q){Je(A,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),Q)})}Xr("a",!0),Xr("A",!1),Re("hour","h"),Yt("hour",13);function As(A,Q){return Q._meridiemParse}Dt("a",As),Dt("A",As),Dt("H",xt),Dt("h",xt),Dt("k",xt),Dt("HH",xt,ze),Dt("hh",xt,ze),Dt("kk",xt,ze),Dt("hmm",rn),Dt("hmmss",Qt),Dt("Hmm",rn),Dt("Hmmss",Qt),Te(["H","HH"],we),Te(["k","kk"],function(A,Q,de){var Pe=yn(A);Q[we]=Pe===24?0:Pe}),Te(["a","A"],function(A,Q,de){de._isPm=de._locale.isPM(A),de._meridiem=A}),Te(["h","hh"],function(A,Q,de){Q[we]=yn(A),O(de).bigHour=!0}),Te("hmm",function(A,Q,de){var Pe=A.length-2;Q[we]=yn(A.substr(0,Pe)),Q[We]=yn(A.substr(Pe)),O(de).bigHour=!0}),Te("hmmss",function(A,Q,de){var Pe=A.length-4,Ct=A.length-2;Q[we]=yn(A.substr(0,Pe)),Q[We]=yn(A.substr(Pe,2)),Q[st]=yn(A.substr(Ct)),O(de).bigHour=!0}),Te("Hmm",function(A,Q,de){var Pe=A.length-2;Q[we]=yn(A.substr(0,Pe)),Q[We]=yn(A.substr(Pe))}),Te("Hmmss",function(A,Q,de){var Pe=A.length-4,Ct=A.length-2;Q[we]=yn(A.substr(0,Pe)),Q[We]=yn(A.substr(Pe,2)),Q[st]=yn(A.substr(Ct))});function fo(A){return(A+"").toLowerCase().charAt(0)==="p"}var io=/[ap]\.?m?\.?/i,us=Lt("Hours",!0);function so(A,Q,de){return A>11?de?"pm":"PM":de?"am":"AM"}var ho={calendar:qe,longDateFormat:kt,invalidDate:tn,ordinal:ve,dayOfMonthOrdinalParse:Le,relativeTime:ce,months:Oe,monthsShort:$e,week:Vn,weekdays:Cs,weekdaysMin:Aa,weekdaysShort:ts,meridiemParse:io},hi={},bi={},Wi;function Xo(A,Q){var de,Pe=Math.min(A.length,Q.length);for(de=0;de<Pe;de+=1)if(A[de]!==Q[de])return de;return Pe}function da(A){return A&&A.toLowerCase().replace("_","-")}function ha(A){for(var Q=0,de,Pe,Ct,Tn;Q<A.length;){for(Tn=da(A[Q]).split("-"),de=Tn.length,Pe=da(A[Q+1]),Pe=Pe?Pe.split("-"):null;de>0;){if(Ct=ls(Tn.slice(0,de).join("-")),Ct)return Ct;if(Pe&&Pe.length>=de&&Xo(Tn,Pe)>=de-1)break;de--}Q++}return Wi}function po(A){return A.match("^[^/\\\\]*$")!=null}function ls(A){var Q=null,de;if(hi[A]===void 0&&typeof u9!="undefined"&&u9&&u9.exports&&po(A))try{Q=Wi._abbr,de=Fk,de("./locale/"+A),ps(Q)}catch{hi[A]=null}return hi[A]}function ps(A,Q){var de;return A&&(a(Q)?de=Ps(A):de=Zi(A,Q),de?Wi=de:typeof console!="undefined"&&console.warn&&console.warn("Locale "+A+" not found. Did you forget to load it?")),Wi._abbr}function Zi(A,Q){if(Q!==null){var de,Pe=ho;if(Q.abbr=A,hi[A]!=null)He("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Pe=hi[A]._config;else if(Q.parentLocale!=null)if(hi[Q.parentLocale]!=null)Pe=hi[Q.parentLocale]._config;else if(de=ls(Q.parentLocale),de!=null)Pe=de._config;else return bi[Q.parentLocale]||(bi[Q.parentLocale]=[]),bi[Q.parentLocale].push({name:A,config:Q}),null;return hi[A]=new bt(Ze(Pe,Q)),bi[A]&&bi[A].forEach(function(Ct){Zi(Ct.name,Ct.config)}),ps(A),hi[A]}else return delete hi[A],null}function hu(A,Q){if(Q!=null){var de,Pe,Ct=ho;hi[A]!=null&&hi[A].parentLocale!=null?hi[A].set(Ze(hi[A]._config,Q)):(Pe=ls(A),Pe!=null&&(Ct=Pe._config),Q=Ze(Ct,Q),Pe==null&&(Q.abbr=A),de=new bt(Q),de.parentLocale=hi[A],hi[A]=de),ps(A)}else hi[A]!=null&&(hi[A].parentLocale!=null?(hi[A]=hi[A].parentLocale,A===ps()&&ps(A)):hi[A]!=null&&delete hi[A]);return hi[A]}function Ps(A){var Q;if(A&&A._locale&&A._locale._abbr&&(A=A._locale._abbr),!A)return Wi;if(!r(A)){if(Q=ls(A),Q)return Q;A=[A]}return ha(A)}function ga(){return Mt(hi)}function ua(A){var Q,de=A._a;return de&&O(A).overflow===-2&&(Q=de[Ot]<0||de[Ot]>11?Ot:de[ne]<1||de[ne]>zn(de[St],de[Ot])?ne:de[we]<0||de[we]>24||de[we]===24&&(de[We]!==0||de[st]!==0||de[Ut]!==0)?we:de[We]<0||de[We]>59?We:de[st]<0||de[st]>59?st:de[Ut]<0||de[Ut]>999?Ut:-1,O(A)._overflowDayOfYear&&(Q<St||Q>ne)&&(Q=ne),O(A)._overflowWeeks&&Q===-1&&(Q=sn),O(A)._overflowWeekday&&Q===-1&&(Q=wn),O(A).overflow=Q),A}var Oi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Wo=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vs=/Z|[+-]\d\d(?::?\d\d)?/,Ii=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ro=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ka=/^\/?Date\((-?\d+)/i,Xa=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Oo={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function To(A){var Q,de,Pe=A._i,Ct=Oi.exec(Pe)||Wo.exec(Pe),Tn,ur,$i,Bi,ao=Ii.length,gu=Ro.length;if(Ct){for(O(A).iso=!0,Q=0,de=ao;Q<de;Q++)if(Ii[Q][1].exec(Ct[1])){ur=Ii[Q][0],Tn=Ii[Q][2]!==!1;break}if(ur==null){A._isValid=!1;return}if(Ct[3]){for(Q=0,de=gu;Q<de;Q++)if(Ro[Q][1].exec(Ct[3])){$i=(Ct[2]||" ")+Ro[Q][0];break}if($i==null){A._isValid=!1;return}}if(!Tn&&$i!=null){A._isValid=!1;return}if(Ct[4])if(vs.exec(Ct[4]))Bi="Z";else{A._isValid=!1;return}A._f=ur+($i||"")+(Bi||""),cs(A)}else A._isValid=!1}function $a(A,Q,de,Pe,Ct,Tn){var ur=[pu(A),$e.indexOf(Q),parseInt(de,10),parseInt(Pe,10),parseInt(Ct,10)];return Tn&&ur.push(parseInt(Tn,10)),ur}function pu(A){var Q=parseInt(A,10);return Q<=49?2e3+Q:Q<=999?1900+Q:Q}function za(A){return A.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function la(A,Q,de){if(A){var Pe=ts.indexOf(A),Ct=new Date(Q[0],Q[1],Q[2]).getDay();if(Pe!==Ct)return O(de).weekdayMismatch=!0,de._isValid=!1,!1}return!0}function ca(A,Q,de){if(A)return Oo[A];if(Q)return 0;var Pe=parseInt(de,10),Ct=Pe%100,Tn=(Pe-Ct)/100;return Tn*60+Ct}function vl(A){var Q=Xa.exec(za(A._i)),de;if(Q){if(de=$a(Q[4],Q[3],Q[2],Q[5],Q[6],Q[7]),!la(Q[1],de,A))return;A._a=de,A._tzm=ca(Q[8],Q[9],Q[10]),A._d=Tt.apply(null,A._a),A._d.setUTCMinutes(A._d.getUTCMinutes()-A._tzm),O(A).rfc2822=!0}else A._isValid=!1}function Vl(A){var Q=ka.exec(A._i);if(Q!==null){A._d=new Date(+Q[1]);return}if(To(A),A._isValid===!1)delete A._isValid;else return;if(vl(A),A._isValid===!1)delete A._isValid;else return;A._strict?A._isValid=!1:e.createFromInputFallback(A)}e.createFromInputFallback=he("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(A){A._d=new Date(A._i+(A._useUTC?" UTC":""))});function ra(A,Q,de){return A??Q??de}function el(A){var Q=new Date(e.now());return A._useUTC?[Q.getUTCFullYear(),Q.getUTCMonth(),Q.getUTCDate()]:[Q.getFullYear(),Q.getMonth(),Q.getDate()]}function ui(A){var Q,de,Pe=[],Ct,Tn,ur;if(!A._d){for(Ct=el(A),A._w&&A._a[ne]==null&&A._a[Ot]==null&&rs(A),A._dayOfYear!=null&&(ur=ra(A._a[St],Ct[St]),(A._dayOfYear>B(ur)||A._dayOfYear===0)&&(O(A)._overflowDayOfYear=!0),de=Tt(ur,0,A._dayOfYear),A._a[Ot]=de.getUTCMonth(),A._a[ne]=de.getUTCDate()),Q=0;Q<3&&A._a[Q]==null;++Q)A._a[Q]=Pe[Q]=Ct[Q];for(;Q<7;Q++)A._a[Q]=Pe[Q]=A._a[Q]==null?Q===2?1:0:A._a[Q];A._a[we]===24&&A._a[We]===0&&A._a[st]===0&&A._a[Ut]===0&&(A._nextDay=!0,A._a[we]=0),A._d=(A._useUTC?Tt:ht).apply(null,Pe),Tn=A._useUTC?A._d.getUTCDay():A._d.getDay(),A._tzm!=null&&A._d.setUTCMinutes(A._d.getUTCMinutes()-A._tzm),A._nextDay&&(A._a[we]=24),A._w&&typeof A._w.d!="undefined"&&A._w.d!==Tn&&(O(A).weekdayMismatch=!0)}}function rs(A){var Q,de,Pe,Ct,Tn,ur,$i,Bi,ao;Q=A._w,Q.GG!=null||Q.W!=null||Q.E!=null?(Tn=1,ur=4,de=ra(Q.GG,A._a[St],xn(Ln(),1,4).year),Pe=ra(Q.W,1),Ct=ra(Q.E,1),(Ct<1||Ct>7)&&(Bi=!0)):(Tn=A._locale._week.dow,ur=A._locale._week.doy,ao=xn(Ln(),Tn,ur),de=ra(Q.gg,A._a[St],ao.year),Pe=ra(Q.w,ao.week),Q.d!=null?(Ct=Q.d,(Ct<0||Ct>6)&&(Bi=!0)):Q.e!=null?(Ct=Q.e+Tn,(Q.e<0||Q.e>6)&&(Bi=!0)):Ct=Tn),Pe<1||Pe>qn(de,Tn,ur)?O(A)._overflowWeeks=!0:Bi!=null?O(A)._overflowWeekday=!0:($i=Xt(de,Pe,Ct,Tn,ur),A._a[St]=$i.year,A._dayOfYear=$i.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function cs(A){if(A._f===e.ISO_8601){To(A);return}if(A._f===e.RFC_2822){vl(A);return}A._a=[],O(A).empty=!0;var Q=""+A._i,de,Pe,Ct,Tn,ur,$i=Q.length,Bi=0,ao,gu;for(Ct=mn(A._f,A._locale).match(Ee)||[],gu=Ct.length,de=0;de<gu;de++)Tn=Ct[de],Pe=(Q.match(hn(Tn,A))||[])[0],Pe&&(ur=Q.substr(0,Q.indexOf(Pe)),ur.length>0&&O(A).unusedInput.push(ur),Q=Q.slice(Q.indexOf(Pe)+Pe.length),Bi+=Pe.length),pe[Tn]?(Pe?O(A).empty=!1:O(A).unusedTokens.push(Tn),gt(Tn,Pe,A)):A._strict&&!Pe&&O(A).unusedTokens.push(Tn);O(A).charsLeftOver=$i-Bi,Q.length>0&&O(A).unusedInput.push(Q),A._a[we]<=12&&O(A).bigHour===!0&&A._a[we]>0&&(O(A).bigHour=void 0),O(A).parsedDateParts=A._a.slice(0),O(A).meridiem=A._meridiem,A._a[we]=xr(A._locale,A._a[we],A._meridiem),ao=O(A).era,ao!==null&&(A._a[St]=A._locale.erasConvertYear(ao,A._a[St])),ui(A),ua(A)}function xr(A,Q,de){var Pe;return de==null?Q:A.meridiemHour!=null?A.meridiemHour(Q,de):(A.isPM!=null&&(Pe=A.isPM(de),Pe&&Q<12&&(Q+=12),!Pe&&Q===12&&(Q=0)),Q)}function is(A){var Q,de,Pe,Ct,Tn,ur,$i=!1,Bi=A._f.length;if(Bi===0){O(A).invalidFormat=!0,A._d=new Date(NaN);return}for(Ct=0;Ct<Bi;Ct++)Tn=0,ur=!1,Q=W({},A),A._useUTC!=null&&(Q._useUTC=A._useUTC),Q._f=A._f[Ct],cs(Q),$(Q)&&(ur=!0),Tn+=O(Q).charsLeftOver,Tn+=O(Q).unusedTokens.length*10,O(Q).score=Tn,$i?Tn<Pe&&(Pe=Tn,de=Q):(Pe==null||Tn<Pe||ur)&&(Pe=Tn,de=Q,ur&&($i=!0));_(A,de||Q)}function Ie(A){if(!A._d){var Q=ft(A._i),de=Q.day===void 0?Q.date:Q.day;A._a=p([Q.year,Q.month,de,Q.hour,Q.minute,Q.second,Q.millisecond],function(Pe){return Pe&&parseInt(Pe,10)}),ui(A)}}function yt(A){var Q=new oe(ua(Jt(A)));return Q._nextDay&&(Q.add(1,"d"),Q._nextDay=void 0),Q}function Jt(A){var Q=A._i,de=A._f;return A._locale=A._locale||Ps(A._l),Q===null||de===void 0&&Q===""?L({nullInput:!0}):(typeof Q=="string"&&(A._i=Q=A._locale.preparse(Q)),I(Q)?new oe(ua(Q)):(f(Q)?A._d=Q:r(de)?is(A):de?cs(A):$t(A),$(A)||(A._d=null),A))}function $t(A){var Q=A._i;a(Q)?A._d=new Date(e.now()):f(Q)?A._d=new Date(Q.valueOf()):typeof Q=="string"?Vl(A):r(Q)?(A._a=p(Q.slice(0),function(de){return parseInt(de,10)}),ui(A)):i(Q)?Ie(A):l(Q)?A._d=new Date(Q):e.createFromInputFallback(A)}function pn(A,Q,de,Pe,Ct){var Tn={};return(Q===!0||Q===!1)&&(Pe=Q,Q=void 0),(de===!0||de===!1)&&(Pe=de,de=void 0),(i(A)&&o(A)||r(A)&&A.length===0)&&(A=void 0),Tn._isAMomentObject=!0,Tn._useUTC=Tn._isUTC=Ct,Tn._l=de,Tn._i=A,Tn._f=Q,Tn._strict=Pe,yt(Tn)}function Ln(A,Q,de,Pe){return pn(A,Q,de,Pe,!1)}var Kn=he("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var A=Ln.apply(null,arguments);return this.isValid()&&A.isValid()?A<this?this:A:L()}),$n=he("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var A=Ln.apply(null,arguments);return this.isValid()&&A.isValid()?A>this?this:A:L()});function Er(A,Q){var de,Pe;if(Q.length===1&&r(Q[0])&&(Q=Q[0]),!Q.length)return Ln();for(de=Q[0],Pe=1;Pe<Q.length;++Pe)(!Q[Pe].isValid()||Q[Pe][A](de))&&(de=Q[Pe]);return de}function wr(){var A=[].slice.call(arguments,0);return Er("isBefore",A)}function Gn(){var A=[].slice.call(arguments,0);return Er("isAfter",A)}var ar=function(){return Date.now?Date.now():+new Date},tr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function gr(A){var Q,de=!1,Pe,Ct=tr.length;for(Q in A)if(s(A,Q)&&!(vn.call(tr,Q)!==-1&&(A[Q]==null||!isNaN(A[Q]))))return!1;for(Pe=0;Pe<Ct;++Pe)if(A[tr[Pe]]){if(de)return!1;parseFloat(A[tr[Pe]])!==yn(A[tr[Pe]])&&(de=!0)}return!0}function Or(){return this._isValid}function di(){return Hi(NaN)}function ni(A){var Q=ft(A),de=Q.year||0,Pe=Q.quarter||0,Ct=Q.month||0,Tn=Q.week||Q.isoWeek||0,ur=Q.day||0,$i=Q.hour||0,Bi=Q.minute||0,ao=Q.second||0,gu=Q.millisecond||0;this._isValid=gr(Q),this._milliseconds=+gu+ao*1e3+Bi*6e4+$i*1e3*60*60,this._days=+ur+Tn*7,this._months=+Ct+Pe*3+de*12,this._data={},this._locale=Ps(),this._bubble()}function pi(A){return A instanceof ni}function ii(A){return A<0?Math.round(-1*A)*-1:Math.round(A)}function qr(A,Q,de){var Pe=Math.min(A.length,Q.length),Ct=Math.abs(A.length-Q.length),Tn=0,ur;for(ur=0;ur<Pe;ur++)(de&&A[ur]!==Q[ur]||!de&&yn(A[ur])!==yn(Q[ur]))&&Tn++;return Tn+Ct}function Ir(A,Q){Je(A,0,0,function(){var de=this.utcOffset(),Pe="+";return de<0&&(de=-de,Pe="-"),Pe+et(~~(de/60),2)+Q+et(~~de%60,2)})}Ir("Z",":"),Ir("ZZ",""),Dt("Z",vt),Dt("ZZ",vt),Te(["Z","ZZ"],function(A,Q,de){de._useUTC=!0,de._tzm=gi(vt,A)});var yi=/([\+\-]|\d\d)/gi;function gi(A,Q){var de=(Q||"").match(A),Pe,Ct,Tn;return de===null?null:(Pe=de[de.length-1]||[],Ct=(Pe+"").match(yi)||["-",0,0],Tn=+(Ct[1]*60)+yn(Ct[2]),Tn===0?0:Ct[0]==="+"?Tn:-Tn)}function os(A,Q){var de,Pe;return Q._isUTC?(de=Q.clone(),Pe=(I(A)||f(A)?A.valueOf():Ln(A).valueOf())-de.valueOf(),de._d.setTime(de._d.valueOf()+Pe),e.updateOffset(de,!1),de):Ln(A).local()}function xs(A){return-Math.round(A._d.getTimezoneOffset())}e.updateOffset=function(){};function vi(A,Q,de){var Pe=this._offset||0,Ct;if(!this.isValid())return A!=null?this:NaN;if(A!=null){if(typeof A=="string"){if(A=gi(vt,A),A===null)return this}else Math.abs(A)<16&&!de&&(A=A*60);return!this._isUTC&&Q&&(Ct=xs(this)),this._offset=A,this._isUTC=!0,Ct!=null&&this.add(Ct,"m"),Pe!==A&&(!Q||this._changeInProgress?en(this,Hi(A-Pe,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?Pe:xs(this)}function Bs(A,Q){return A!=null?(typeof A!="string"&&(A=-A),this.utcOffset(A,Q),this):-this.utcOffset()}function ss(A){return this.utcOffset(0,A)}function ya(A){return this._isUTC&&(this.utcOffset(0,A),this._isUTC=!1,A&&this.subtract(xs(this),"m")),this}function No(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var A=gi(Ye,this._i);A!=null?this.utcOffset(A):this.utcOffset(0,!0)}return this}function Ts(A){return this.isValid()?(A=A?Ln(A).utcOffset():0,(this.utcOffset()-A)%60===0):!1}function nn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Jn(){if(!a(this._isDSTShifted))return this._isDSTShifted;var A={},Q;return W(A,this),A=Jt(A),A._a?(Q=A._isUTC?b(A._a):Ln(A._a),this._isDSTShifted=this.isValid()&&qr(A._a,Q.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function En(){return this.isValid()?!this._isUTC:!1}function Yr(){return this.isValid()?this._isUTC:!1}function Ti(){return this.isValid()?this._isUTC&&this._offset===0:!1}var ns=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ms=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Hi(A,Q){var de=A,Pe=null,Ct,Tn,ur;return pi(A)?de={ms:A._milliseconds,d:A._days,M:A._months}:l(A)||!isNaN(+A)?(de={},Q?de[Q]=+A:de.milliseconds=+A):(Pe=ns.exec(A))?(Ct=Pe[1]==="-"?-1:1,de={y:0,d:yn(Pe[ne])*Ct,h:yn(Pe[we])*Ct,m:yn(Pe[We])*Ct,s:yn(Pe[st])*Ct,ms:yn(ii(Pe[Ut]*1e3))*Ct}):(Pe=ms.exec(A))?(Ct=Pe[1]==="-"?-1:1,de={y:fs(Pe[2],Ct),M:fs(Pe[3],Ct),w:fs(Pe[4],Ct),d:fs(Pe[5],Ct),h:fs(Pe[6],Ct),m:fs(Pe[7],Ct),s:fs(Pe[8],Ct)}):de==null?de={}:typeof de=="object"&&("from"in de||"to"in de)&&(ur=le(Ln(de.from),Ln(de.to)),de={},de.ms=ur.milliseconds,de.M=ur.months),Tn=new ni(de),pi(A)&&s(A,"_locale")&&(Tn._locale=A._locale),pi(A)&&s(A,"_isValid")&&(Tn._isValid=A._isValid),Tn}Hi.fn=ni.prototype,Hi.invalid=di;function fs(A,Q){var de=A&&parseFloat(A.replace(",","."));return(isNaN(de)?0:de)*Q}function mu(A,Q){var de={};return de.months=Q.month()-A.month()+(Q.year()-A.year())*12,A.clone().add(de.months,"M").isAfter(Q)&&--de.months,de.milliseconds=+Q-+A.clone().add(de.months,"M"),de}function le(A,Q){var de;return A.isValid()&&Q.isValid()?(Q=os(Q,A),A.isBefore(Q)?de=mu(A,Q):(de=mu(Q,A),de.milliseconds=-de.milliseconds,de.months=-de.months),de):{milliseconds:0,months:0}}function ut(A,Q){return function(de,Pe){var Ct,Tn;return Pe!==null&&!isNaN(+Pe)&&(He(Q,"moment()."+Q+"(period, number) is deprecated. Please use moment()."+Q+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Tn=de,de=Pe,Pe=Tn),Ct=Hi(de,Pe),en(this,Ct,A),this}}function en(A,Q,de,Pe){var Ct=Q._milliseconds,Tn=ii(Q._days),ur=ii(Q._months);!A.isValid()||(Pe=Pe??!0,ur&&fe(A,un(A,"Month")+ur*de),Tn&&Pn(A,"Date",un(A,"Date")+Tn*de),Ct&&A._d.setTime(A._d.valueOf()+Ct*de),Pe&&e.updateOffset(A,Tn||ur))}var Dn=ut(1,"add"),ir=ut(-1,"subtract");function vr(A){return typeof A=="string"||A instanceof String}function dr(A){return I(A)||f(A)||vr(A)||l(A)||_s(A)||es(A)||A===null||A===void 0}function es(A){var Q=i(A)&&!o(A),de=!1,Pe=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],Ct,Tn,ur=Pe.length;for(Ct=0;Ct<ur;Ct+=1)Tn=Pe[Ct],de=de||s(A,Tn);return Q&&de}function _s(A){var Q=r(A),de=!1;return Q&&(de=A.filter(function(Pe){return!l(Pe)&&vr(A)}).length===0),Q&&de}function Ls(A){var Q=i(A)&&!o(A),de=!1,Pe=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],Ct,Tn;for(Ct=0;Ct<Pe.length;Ct+=1)Tn=Pe[Ct],de=de||s(A,Tn);return Q&&de}function oo(A,Q){var de=A.diff(Q,"days",!0);return de<-6?"sameElse":de<-1?"lastWeek":de<0?"lastDay":de<1?"sameDay":de<2?"nextDay":de<7?"nextWeek":"sameElse"}function Za(A,Q){arguments.length===1&&(arguments[0]?dr(arguments[0])?(A=arguments[0],Q=void 0):Ls(arguments[0])&&(Q=arguments[0],A=void 0):(A=void 0,Q=void 0));var de=A||Ln(),Pe=os(de,this).startOf("day"),Ct=e.calendarFormat(this,Pe)||"sameElse",Tn=Q&&(at(Q[Ct])?Q[Ct].call(this,de):Q[Ct]);return this.format(Tn||this.localeData().calendar(Ct,this,Ln(de)))}function sc(){return new oe(this)}function sf(A,Q){var de=I(A)?A:Ln(A);return this.isValid()&&de.isValid()?(Q=nt(Q)||"millisecond",Q==="millisecond"?this.valueOf()>de.valueOf():de.valueOf()<this.clone().startOf(Q).valueOf()):!1}function Ic(A,Q){var de=I(A)?A:Ln(A);return this.isValid()&&de.isValid()?(Q=nt(Q)||"millisecond",Q==="millisecond"?this.valueOf()<de.valueOf():this.clone().endOf(Q).valueOf()<de.valueOf()):!1}function l0(A,Q,de,Pe){var Ct=I(A)?A:Ln(A),Tn=I(Q)?Q:Ln(Q);return this.isValid()&&Ct.isValid()&&Tn.isValid()?(Pe=Pe||"()",(Pe[0]==="("?this.isAfter(Ct,de):!this.isBefore(Ct,de))&&(Pe[1]===")"?this.isBefore(Tn,de):!this.isAfter(Tn,de))):!1}function G0(A,Q){var de=I(A)?A:Ln(A),Pe;return this.isValid()&&de.isValid()?(Q=nt(Q)||"millisecond",Q==="millisecond"?this.valueOf()===de.valueOf():(Pe=de.valueOf(),this.clone().startOf(Q).valueOf()<=Pe&&Pe<=this.clone().endOf(Q).valueOf())):!1}function oc(A,Q){return this.isSame(A,Q)||this.isAfter(A,Q)}function of(A,Q){return this.isSame(A,Q)||this.isBefore(A,Q)}function c0(A,Q,de){var Pe,Ct,Tn;if(!this.isValid())return NaN;if(Pe=os(A,this),!Pe.isValid())return NaN;switch(Ct=(Pe.utcOffset()-this.utcOffset())*6e4,Q=nt(Q),Q){case"year":Tn=_l(this,Pe)/12;break;case"month":Tn=_l(this,Pe);break;case"quarter":Tn=_l(this,Pe)/3;break;case"second":Tn=(this-Pe)/1e3;break;case"minute":Tn=(this-Pe)/6e4;break;case"hour":Tn=(this-Pe)/36e5;break;case"day":Tn=(this-Pe-Ct)/864e5;break;case"week":Tn=(this-Pe-Ct)/6048e5;break;default:Tn=this-Pe}return de?Tn:gn(Tn)}function _l(A,Q){if(A.date()<Q.date())return-_l(Q,A);var de=(Q.year()-A.year())*12+(Q.month()-A.month()),Pe=A.clone().add(de,"months"),Ct,Tn;return Q-Pe<0?(Ct=A.clone().add(de-1,"months"),Tn=(Q-Pe)/(Pe-Ct)):(Ct=A.clone().add(de+1,"months"),Tn=(Q-Pe)/(Ct-Pe)),-(de+Tn)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Mc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function f0(A){if(!this.isValid())return null;var Q=A!==!0,de=Q?this.clone().utc():this;return de.year()<0||de.year()>9999?wt(de,Q?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):at(Date.prototype.toISOString)?Q?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",wt(de,"Z")):wt(de,Q?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ac(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var A="moment",Q="",de,Pe,Ct,Tn;return this.isLocal()||(A=this.utcOffset()===0?"moment.utc":"moment.parseZone",Q="Z"),de="["+A+'("]',Pe=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",Ct="-MM-DD[T]HH:mm:ss.SSS",Tn=Q+'[")]',this.format(de+Pe+Ct+Tn)}function Wl(A){A||(A=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var Q=wt(this,A);return this.localeData().postformat(Q)}function Y0(A,Q){return this.isValid()&&(I(A)&&A.isValid()||Ln(A).isValid())?Hi({to:this,from:A}).locale(this.locale()).humanize(!Q):this.localeData().invalidDate()}function Th(A){return this.from(Ln(),A)}function K0(A,Q){return this.isValid()&&(I(A)&&A.isValid()||Ln(A).isValid())?Hi({from:this,to:A}).locale(this.locale()).humanize(!Q):this.localeData().invalidDate()}function J0(A){return this.to(Ln(),A)}function af(A){var Q;return A===void 0?this._locale._abbr:(Q=Ps(A),Q!=null&&(this._locale=Q),this)}var X0=he("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(A){return A===void 0?this.localeData():this.locale(A)});function Pc(){return this._locale}var d0=1e3,h0=60*d0,p0=60*h0,Uo=(365*400+97)*24*p0;function Zo(A,Q){return(A%Q+Q)%Q}function m0(A,Q,de){return A<100&&A>=0?new Date(A+400,Q,de)-Uo:new Date(A,Q,de).valueOf()}function El(A,Q,de){return A<100&&A>=0?Date.UTC(A+400,Q,de)-Uo:Date.UTC(A,Q,de)}function uf(A){var Q,de;if(A=nt(A),A===void 0||A==="millisecond"||!this.isValid())return this;switch(de=this._isUTC?El:m0,A){case"year":Q=de(this.year(),0,1);break;case"quarter":Q=de(this.year(),this.month()-this.month()%3,1);break;case"month":Q=de(this.year(),this.month(),1);break;case"week":Q=de(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":Q=de(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":Q=de(this.year(),this.month(),this.date());break;case"hour":Q=this._d.valueOf(),Q-=Zo(Q+(this._isUTC?0:this.utcOffset()*h0),p0);break;case"minute":Q=this._d.valueOf(),Q-=Zo(Q,h0);break;case"second":Q=this._d.valueOf(),Q-=Zo(Q,d0);break}return this._d.setTime(Q),e.updateOffset(this,!0),this}function qd(A){var Q,de;if(A=nt(A),A===void 0||A==="millisecond"||!this.isValid())return this;switch(de=this._isUTC?El:m0,A){case"year":Q=de(this.year()+1,0,1)-1;break;case"quarter":Q=de(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":Q=de(this.year(),this.month()+1,1)-1;break;case"week":Q=de(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":Q=de(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":Q=de(this.year(),this.month(),this.date()+1)-1;break;case"hour":Q=this._d.valueOf(),Q+=p0-Zo(Q+(this._isUTC?0:this.utcOffset()*h0),p0)-1;break;case"minute":Q=this._d.valueOf(),Q+=h0-Zo(Q,h0)-1;break;case"second":Q=this._d.valueOf(),Q+=d0-Zo(Q,d0)-1;break}return this._d.setTime(Q),e.updateOffset(this,!0),this}function Ru(){return this._d.valueOf()-(this._offset||0)*6e4}function _o(){return Math.floor(this.valueOf()/1e3)}function Fh(){return new Date(this.valueOf())}function bl(){var A=this;return[A.year(),A.month(),A.date(),A.hour(),A.minute(),A.second(),A.millisecond()]}function Is(){var A=this;return{years:A.year(),months:A.month(),date:A.date(),hours:A.hours(),minutes:A.minutes(),seconds:A.seconds(),milliseconds:A.milliseconds()}}function Sl(){return this.isValid()?this.toISOString():null}function k(){return $(this)}function Z(){return _({},O(this))}function je(){return O(this).overflow}function Nt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Je("N",0,0,"eraAbbr"),Je("NN",0,0,"eraAbbr"),Je("NNN",0,0,"eraAbbr"),Je("NNNN",0,0,"eraName"),Je("NNNNN",0,0,"eraNarrow"),Je("y",["y",1],"yo","eraYear"),Je("y",["yy",2],0,"eraYear"),Je("y",["yyy",3],0,"eraYear"),Je("y",["yyyy",4],0,"eraYear"),Dt("N",Qr),Dt("NN",Qr),Dt("NNN",Qr),Dt("NNNN",Ys),Dt("NNNNN",$o),Te(["N","NN","NNN","NNNN","NNNNN"],function(A,Q,de,Pe){var Ct=de._locale.erasParse(A,Pe,de._strict);Ct?O(de).era=Ct:O(de).invalidEra=A}),Dt("y",Nn),Dt("yy",Nn),Dt("yyy",Nn),Dt("yyyy",Nn),Dt("yo",va),Te(["y","yy","yyy","yyyy"],St),Te(["yo"],function(A,Q,de,Pe){var Ct;de._locale._eraYearOrdinalRegex&&(Ct=A.match(de._locale._eraYearOrdinalRegex)),de._locale.eraYearOrdinalParse?Q[St]=de._locale.eraYearOrdinalParse(A,Ct):Q[St]=parseInt(A,10)});function Vt(A,Q){var de,Pe,Ct,Tn=this._eras||Ps("en")._eras;for(de=0,Pe=Tn.length;de<Pe;++de){switch(typeof Tn[de].since){case"string":Ct=e(Tn[de].since).startOf("day"),Tn[de].since=Ct.valueOf();break}switch(typeof Tn[de].until){case"undefined":Tn[de].until=1/0;break;case"string":Ct=e(Tn[de].until).startOf("day").valueOf(),Tn[de].until=Ct.valueOf();break}}return Tn}function An(A,Q,de){var Pe,Ct,Tn=this.eras(),ur,$i,Bi;for(A=A.toUpperCase(),Pe=0,Ct=Tn.length;Pe<Ct;++Pe)if(ur=Tn[Pe].name.toUpperCase(),$i=Tn[Pe].abbr.toUpperCase(),Bi=Tn[Pe].narrow.toUpperCase(),de)switch(Q){case"N":case"NN":case"NNN":if($i===A)return Tn[Pe];break;case"NNNN":if(ur===A)return Tn[Pe];break;case"NNNNN":if(Bi===A)return Tn[Pe];break}else if([ur,$i,Bi].indexOf(A)>=0)return Tn[Pe]}function kn(A,Q){var de=A.since<=A.until?1:-1;return Q===void 0?e(A.since).year():e(A.since).year()+(Q-A.offset)*de}function sr(){var A,Q,de,Pe=this.localeData().eras();for(A=0,Q=Pe.length;A<Q;++A)if(de=this.clone().startOf("day").valueOf(),Pe[A].since<=de&&de<=Pe[A].until||Pe[A].until<=de&&de<=Pe[A].since)return Pe[A].name;return""}function hr(){var A,Q,de,Pe=this.localeData().eras();for(A=0,Q=Pe.length;A<Q;++A)if(de=this.clone().startOf("day").valueOf(),Pe[A].since<=de&&de<=Pe[A].until||Pe[A].until<=de&&de<=Pe[A].since)return Pe[A].narrow;return""}function Nr(){var A,Q,de,Pe=this.localeData().eras();for(A=0,Q=Pe.length;A<Q;++A)if(de=this.clone().startOf("day").valueOf(),Pe[A].since<=de&&de<=Pe[A].until||Pe[A].until<=de&&de<=Pe[A].since)return Pe[A].abbr;return""}function it(){var A,Q,de,Pe,Ct=this.localeData().eras();for(A=0,Q=Ct.length;A<Q;++A)if(de=Ct[A].since<=Ct[A].until?1:-1,Pe=this.clone().startOf("day").valueOf(),Ct[A].since<=Pe&&Pe<=Ct[A].until||Ct[A].until<=Pe&&Pe<=Ct[A].since)return(this.year()-e(Ct[A].since).year())*de+Ct[A].offset;return this.year()}function Fi(A){return s(this,"_erasNameRegex")||mo.call(this),A?this._erasNameRegex:this._erasRegex}function Qi(A){return s(this,"_erasAbbrRegex")||mo.call(this),A?this._erasAbbrRegex:this._erasRegex}function Li(A){return s(this,"_erasNarrowRegex")||mo.call(this),A?this._erasNarrowRegex:this._erasRegex}function Qr(A,Q){return Q.erasAbbrRegex(A)}function Ys(A,Q){return Q.erasNameRegex(A)}function $o(A,Q){return Q.erasNarrowRegex(A)}function va(A,Q){return Q._eraYearOrdinalRegex||Nn}function mo(){var A=[],Q=[],de=[],Pe=[],Ct,Tn,ur=this.eras();for(Ct=0,Tn=ur.length;Ct<Tn;++Ct)Q.push(dt(ur[Ct].name)),A.push(dt(ur[Ct].abbr)),de.push(dt(ur[Ct].narrow)),Pe.push(dt(ur[Ct].name)),Pe.push(dt(ur[Ct].abbr)),Pe.push(dt(ur[Ct].narrow));this._erasRegex=new RegExp("^("+Pe.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+Q.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+A.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+de.join("|")+")","i")}Je(0,["gg",2],0,function(){return this.weekYear()%100}),Je(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ia(A,Q){Je(0,[A,A.length],0,Q)}Ia("gggg","weekYear"),Ia("ggggg","weekYear"),Ia("GGGG","isoWeekYear"),Ia("GGGGG","isoWeekYear"),Re("weekYear","gg"),Re("isoWeekYear","GG"),Yt("weekYear",1),Yt("isoWeekYear",1),Dt("G",rr),Dt("g",rr),Dt("GG",xt,ze),Dt("gg",xt,ze),Dt("GGGG",Wn,Pt),Dt("gggg",Wn,Pt),Dt("GGGGG",Zn,mt),Dt("ggggg",Zn,mt),Ue(["gggg","ggggg","GGGG","GGGGG"],function(A,Q,de,Pe){Q[Pe.substr(0,2)]=yn(A)}),Ue(["gg","GG"],function(A,Q,de,Pe){Q[Pe]=e.parseTwoDigitYear(A)});function uc(A){return cf.call(this,A,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ql(A){return cf.call(this,A,this.isoWeek(),this.isoWeekday(),1,4)}function Ma(){return qn(this.year(),1,4)}function lc(){return qn(this.isoWeekYear(),1,4)}function _a(){var A=this.localeData()._week;return qn(this.year(),A.dow,A.doy)}function lf(){var A=this.localeData()._week;return qn(this.weekYear(),A.dow,A.doy)}function cf(A,Q,de,Pe,Ct){var Tn;return A==null?xn(this,Pe,Ct).year:(Tn=qn(A,Pe,Ct),Q>Tn&&(Q=Tn),tl.call(this,A,Q,de,Pe,Ct))}function tl(A,Q,de,Pe,Ct){var Tn=Xt(A,Q,de,Pe,Ct),ur=Tt(Tn.year,0,Tn.dayOfYear);return this.year(ur.getUTCFullYear()),this.month(ur.getUTCMonth()),this.date(ur.getUTCDate()),this}Je("Q",0,"Qo","quarter"),Re("quarter","Q"),Yt("quarter",7),Dt("Q",Ne),Te("Q",function(A,Q){Q[Ot]=(yn(A)-1)*3});function cc(A){return A==null?Math.ceil((this.month()+1)/3):this.month((A-1)*3+this.month()%3)}Je("D",["DD",2],"Do","date"),Re("date","D"),Yt("date",9),Dt("D",xt),Dt("DD",xt,ze),Dt("Do",function(A,Q){return A?Q._dayOfMonthOrdinalParse||Q._ordinalParse:Q._dayOfMonthOrdinalParseLenient}),Te(["D","DD"],ne),Te("Do",function(A,Q){Q[ne]=yn(A.match(xt)[0])});var W1=Lt("Date",!0);Je("DDD",["DDDD",3],"DDDo","dayOfYear"),Re("dayOfYear","DDD"),Yt("dayOfYear",4),Dt("DDD",Fn),Dt("DDDD",De),Te(["DDD","DDDD"],function(A,Q,de){de._dayOfYear=yn(A)});function Bc(A){var Q=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return A==null?Q:this.add(A-Q,"d")}Je("m",["mm",2],0,"minute"),Re("minute","m"),Yt("minute",14),Dt("m",xt),Dt("mm",xt,ze),Te(["m","mm"],We);var n2=Lt("Minutes",!1);Je("s",["ss",2],0,"second"),Re("second","s"),Yt("second",15),Dt("s",xt),Dt("ss",xt,ze),Te(["s","ss"],st);var Gl=Lt("Seconds",!1);Je("S",0,0,function(){return~~(this.millisecond()/100)}),Je(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Je(0,["SSS",3],0,"millisecond"),Je(0,["SSSS",4],0,function(){return this.millisecond()*10}),Je(0,["SSSSS",5],0,function(){return this.millisecond()*100}),Je(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),Je(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),Je(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),Je(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Re("millisecond","ms"),Yt("millisecond",16),Dt("S",Fn,Ne),Dt("SS",Fn,ze),Dt("SSS",Fn,De);var Of,jc;for(Of="SSSS";Of.length<=9;Of+="S")Dt(Of,Nn);function jr(A,Q){Q[Ut]=yn(("0."+A)*1e3)}for(Of="S";Of.length<=9;Of+="S")Te(Of,jr);jc=Lt("Milliseconds",!1),Je("z",0,0,"zoneAbbr"),Je("zz",0,0,"zoneName");function Z0(){return this._isUTC?"UTC":""}function ed(){return this._isUTC?"Coordinated Universal Time":""}var Vr=oe.prototype;Vr.add=Dn,Vr.calendar=Za,Vr.clone=sc,Vr.diff=c0,Vr.endOf=qd,Vr.format=Wl,Vr.from=Y0,Vr.fromNow=Th,Vr.to=K0,Vr.toNow=J0,Vr.get=nr,Vr.invalidAt=je,Vr.isAfter=sf,Vr.isBefore=Ic,Vr.isBetween=l0,Vr.isSame=G0,Vr.isSameOrAfter=oc,Vr.isSameOrBefore=of,Vr.isValid=k,Vr.lang=X0,Vr.locale=af,Vr.localeData=Pc,Vr.max=$n,Vr.min=Kn,Vr.parsingFlags=Z,Vr.set=On,Vr.startOf=uf,Vr.subtract=ir,Vr.toArray=bl,Vr.toObject=Is,Vr.toDate=Fh,Vr.toISOString=f0,Vr.inspect=ac,typeof Symbol!="undefined"&&Symbol.for!=null&&(Vr[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Vr.toJSON=Sl,Vr.toString=Mc,Vr.unix=_o,Vr.valueOf=Ru,Vr.creationData=Nt,Vr.eraName=sr,Vr.eraNarrow=hr,Vr.eraAbbr=Nr,Vr.eraYear=it,Vr.year=ee,Vr.isLeapYear=Se,Vr.weekYear=uc,Vr.isoWeekYear=Ql,Vr.quarter=Vr.quarters=cc,Vr.month=Qe,Vr.daysInMonth=It,Vr.week=Vr.weeks=yr,Vr.isoWeek=Vr.isoWeeks=Mr,Vr.weeksInYear=_a,Vr.weeksInWeekYear=lf,Vr.isoWeeksInYear=Ma,Vr.isoWeeksInISOWeekYear=lc,Vr.date=W1,Vr.day=Vr.days=na,Vr.weekday=Zu,Vr.isoWeekday=rf,Vr.dayOfYear=Bc,Vr.hour=Vr.hours=us,Vr.minute=Vr.minutes=n2,Vr.second=Vr.seconds=Gl,Vr.millisecond=Vr.milliseconds=jc,Vr.utcOffset=vi,Vr.utc=ss,Vr.local=ya,Vr.parseZone=No,Vr.hasAlignedHourOffset=Ts,Vr.isDST=nn,Vr.isLocal=En,Vr.isUtcOffset=Yr,Vr.isUtc=Ti,Vr.isUTC=Ti,Vr.zoneAbbr=Z0,Vr.zoneName=ed,Vr.dates=he("dates accessor is deprecated. Use date instead.",W1),Vr.months=he("months accessor is deprecated. Use month instead",Qe),Vr.years=he("years accessor is deprecated. Use year instead",ee),Vr.zone=he("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Bs),Vr.isDSTShifted=he("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Jn);function Cl(A){return Ln(A*1e3)}function Q1(){return Ln.apply(null,arguments).parseZone()}function mp(A){return A}var Eo=bt.prototype;Eo.calendar=te,Eo.longDateFormat=Bt,Eo.invalidDate=Et,Eo.ordinal=_e,Eo.preparse=mp,Eo.postformat=mp,Eo.relativeTime=tt,Eo.pastFuture=Ke,Eo.set=ct,Eo.eras=Vt,Eo.erasParse=An,Eo.erasConvertYear=kn,Eo.erasAbbrRegex=Qi,Eo.erasNameRegex=Fi,Eo.erasNarrowRegex=Li,Eo.months=be,Eo.monthsShort=xe,Eo.monthsParse=ue,Eo.monthsRegex=dn,Eo.monthsShortRegex=At,Eo.week=Un,Eo.firstDayOfYear=Wr,Eo.firstDayOfWeek=Jr,Eo.weekdays=fu,Eo.weekdaysMin=Xu,Eo.weekdaysShort=du,Eo.weekdaysParse=kc,Eo.weekdaysRegex=Ge,Eo.weekdaysShortRegex=Kt,Eo.weekdaysMinRegex=jn,Eo.isPM=fo,Eo.meridiem=so;function td(A,Q,de,Pe){var Ct=Ps(),Tn=b().set(Pe,Q);return Ct[de](Tn,A)}function Ud(A,Q,de){if(l(A)&&(Q=A,A=void 0),A=A||"",Q!=null)return td(A,Q,de,"month");var Pe,Ct=[];for(Pe=0;Pe<12;Pe++)Ct[Pe]=td(A,Pe,de,"month");return Ct}function nd(A,Q,de,Pe){typeof A=="boolean"?(l(Q)&&(de=Q,Q=void 0),Q=Q||""):(Q=A,de=Q,A=!1,l(Q)&&(de=Q,Q=void 0),Q=Q||"");var Ct=Ps(),Tn=A?Ct._week.dow:0,ur,$i=[];if(de!=null)return td(Q,(de+Tn)%7,Pe,"day");for(ur=0;ur<7;ur++)$i[ur]=td(Q,(ur+Tn)%7,Pe,"day");return $i}function ff(A,Q){return Ud(A,Q,"months")}function ng(A,Q){return Ud(A,Q,"monthsShort")}function rg(A,Q,de){return nd(A,Q,de,"weekdays")}function Dh(A,Q,de){return nd(A,Q,de,"weekdaysShort")}function df(A,Q,de){return nd(A,Q,de,"weekdaysMin")}ps("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(A){var Q=A%10,de=yn(A%100/10)===1?"th":Q===1?"st":Q===2?"nd":Q===3?"rd":"th";return A+de}}),e.lang=he("moment.lang is deprecated. Use moment.locale instead.",ps),e.langData=he("moment.langData is deprecated. Use moment.localeData instead.",Ps);var nl=Math.abs;function $d(){var A=this._data;return this._milliseconds=nl(this._milliseconds),this._days=nl(this._days),this._months=nl(this._months),A.milliseconds=nl(A.milliseconds),A.seconds=nl(A.seconds),A.minutes=nl(A.minutes),A.hours=nl(A.hours),A.months=nl(A.months),A.years=nl(A.years),this}function xp(A,Q,de,Pe){var Ct=Hi(Q,de);return A._milliseconds+=Pe*Ct._milliseconds,A._days+=Pe*Ct._days,A._months+=Pe*Ct._months,A._bubble()}function G1(A,Q){return xp(this,A,Q,1)}function rl(A,Q){return xp(this,A,Q,-1)}function rd(A){return A<0?Math.floor(A):Math.ceil(A)}function Nf(){var A=this._milliseconds,Q=this._days,de=this._months,Pe=this._data,Ct,Tn,ur,$i,Bi;return A>=0&&Q>=0&&de>=0||A<=0&&Q<=0&&de<=0||(A+=rd(gp(de)+Q)*864e5,Q=0,de=0),Pe.milliseconds=A%1e3,Ct=gn(A/1e3),Pe.seconds=Ct%60,Tn=gn(Ct/60),Pe.minutes=Tn%60,ur=gn(Tn/60),Pe.hours=ur%24,Q+=gn(ur/24),Bi=gn(wl(Q)),de+=Bi,Q-=rd(gp(Bi)),$i=gn(de/12),de%=12,Pe.days=Q,Pe.months=de,Pe.years=$i,this}function wl(A){return A*4800/146097}function gp(A){return A*146097/4800}function xu(A){if(!this.isValid())return NaN;var Q,de,Pe=this._milliseconds;if(A=nt(A),A==="month"||A==="quarter"||A==="year")switch(Q=this._days+Pe/864e5,de=this._months+wl(Q),A){case"month":return de;case"quarter":return de/3;case"year":return de/12}else switch(Q=this._days+Math.round(gp(this._months)),A){case"week":return Q/7+Pe/6048e5;case"day":return Q+Pe/864e5;case"hour":return Q*24+Pe/36e5;case"minute":return Q*1440+Pe/6e4;case"second":return Q*86400+Pe/1e3;case"millisecond":return Math.floor(Q*864e5)+Pe;default:throw new Error("Unknown unit "+A)}}function Y1(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+yn(this._months/12)*31536e6:NaN}function il(A){return function(){return this.as(A)}}var qc=il("ms"),Rh=il("s"),zd=il("m"),hf=il("h"),Oh=il("d"),yp=il("w"),Ha=il("M"),Nh=il("Q"),id=il("y");function Pa(){return Hi(this)}function Lh(A){return A=nt(A),this.isValid()?this[A+"s"]():NaN}function Ou(A){return function(){return this.isValid()?this._data[A]:NaN}}var eu=Ou("milliseconds"),kh=Ou("seconds"),Ea=Ou("minutes"),Ih=Ou("hours"),vp=Ou("days"),x0=Ou("months"),sd=Ou("years");function pf(){return gn(this.days()/7)}var Yl=Math.round,Nu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function _p(A,Q,de,Pe,Ct){return Ct.relativeTime(Q||1,!!de,A,Pe)}function sl(A,Q,de,Pe){var Ct=Hi(A).abs(),Tn=Yl(Ct.as("s")),ur=Yl(Ct.as("m")),$i=Yl(Ct.as("h")),Bi=Yl(Ct.as("d")),ao=Yl(Ct.as("M")),gu=Yl(Ct.as("w")),Uc=Yl(Ct.as("y")),kf=Tn<=de.ss&&["s",Tn]||Tn<de.s&&["ss",Tn]||ur<=1&&["m"]||ur<de.m&&["mm",ur]||$i<=1&&["h"]||$i<de.h&&["hh",$i]||Bi<=1&&["d"]||Bi<de.d&&["dd",Bi];return de.w!=null&&(kf=kf||gu<=1&&["w"]||gu<de.w&&["ww",gu]),kf=kf||ao<=1&&["M"]||ao<de.M&&["MM",ao]||Uc<=1&&["y"]||["yy",Uc],kf[2]=Q,kf[3]=+A>0,kf[4]=Pe,_p.apply(null,kf)}function Mh(A){return A===void 0?Yl:typeof A=="function"?(Yl=A,!0):!1}function Hd(A,Q){return Nu[A]===void 0?!1:Q===void 0?Nu[A]:(Nu[A]=Q,A==="s"&&(Nu.ss=Q-1),!0)}function r2(A,Q){if(!this.isValid())return this.localeData().invalidDate();var de=!1,Pe=Nu,Ct,Tn;return typeof A=="object"&&(Q=A,A=!1),typeof A=="boolean"&&(de=A),typeof Q=="object"&&(Pe=Object.assign({},Nu,Q),Q.s!=null&&Q.ss==null&&(Pe.ss=Q.s-1)),Ct=this.localeData(),Tn=sl(this,!de,Pe,Ct),de&&(Tn=Ct.pastFuture(+this,Tn)),Ct.postformat(Tn)}var Ep=Math.abs;function Lf(A){return(A>0)-(A<0)||+A}function od(){if(!this.isValid())return this.localeData().invalidDate();var A=Ep(this._milliseconds)/1e3,Q=Ep(this._days),de=Ep(this._months),Pe,Ct,Tn,ur,$i=this.asSeconds(),Bi,ao,gu,Uc;return $i?(Pe=gn(A/60),Ct=gn(Pe/60),A%=60,Pe%=60,Tn=gn(de/12),de%=12,ur=A?A.toFixed(3).replace(/\.?0+$/,""):"",Bi=$i<0?"-":"",ao=Lf(this._months)!==Lf($i)?"-":"",gu=Lf(this._days)!==Lf($i)?"-":"",Uc=Lf(this._milliseconds)!==Lf($i)?"-":"",Bi+"P"+(Tn?ao+Tn+"Y":"")+(de?ao+de+"M":"")+(Q?gu+Q+"D":"")+(Ct||Pe||A?"T":"")+(Ct?Uc+Ct+"H":"")+(Pe?Uc+Pe+"M":"")+(A?Uc+ur+"S":"")):"P0D"}var Xs=ni.prototype;Xs.isValid=Or,Xs.abs=$d,Xs.add=G1,Xs.subtract=rl,Xs.as=xu,Xs.asMilliseconds=qc,Xs.asSeconds=Rh,Xs.asMinutes=zd,Xs.asHours=hf,Xs.asDays=Oh,Xs.asWeeks=yp,Xs.asMonths=Ha,Xs.asQuarters=Nh,Xs.asYears=id,Xs.valueOf=Y1,Xs._bubble=Nf,Xs.clone=Pa,Xs.get=Lh,Xs.milliseconds=eu,Xs.seconds=kh,Xs.minutes=Ea,Xs.hours=Ih,Xs.days=vp,Xs.weeks=pf,Xs.months=x0,Xs.years=sd,Xs.humanize=r2,Xs.toISOString=od,Xs.toString=od,Xs.toJSON=od,Xs.locale=af,Xs.localeData=Pc,Xs.toIsoString=he("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",od),Xs.lang=X0,Je("X",0,0,"unix"),Je("x",0,0,"valueOf"),Dt("x",rr),Dt("X",ae),Te("X",function(A,Q,de){de._d=new Date(parseFloat(A)*1e3)}),Te("x",function(A,Q,de){de._d=new Date(yn(A))});return e.version="2.29.4",t(Ln),e.fn=Vr,e.min=wr,e.max=Gn,e.now=ar,e.utc=b,e.unix=Cl,e.months=ff,e.isDate=f,e.locale=ps,e.invalid=L,e.duration=Hi,e.isMoment=I,e.weekdays=rg,e.parseZone=Q1,e.localeData=Ps,e.isDuration=pi,e.monthsShort=ng,e.weekdaysMin=df,e.defineLocale=Zi,e.updateLocale=hu,e.locales=ga,e.weekdaysShort=Dh,e.normalizeUnits=nt,e.relativeTimeRounding=Mh,e.relativeTimeThreshold=Hd,e.calendarFormat=oo,e.prototype=Vr,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var Tu=Ae((rV,kDe)=>{m();(function(n,e){typeof rV=="object"&&typeof kDe!="undefined"?e(rV):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(rV,function(n){"use strict";function e(ie,Te,Ue){return ie.fields=Te||[],ie.fname=Ue,ie}function t(ie){return ie==null?null:ie.fname}function r(ie){return ie==null?null:ie.fields}function i(ie){return ie.length===1?s(ie[0]):o(ie)}let s=ie=>function(Te){return Te[ie]},o=ie=>{let Te=ie.length;return function(Ue){for(let gt=0;gt<Te;++gt)Ue=Ue[ie[gt]];return Ue}};function a(ie){throw Error(ie)}function l(ie){let Te=[],Ue=ie.length,gt=null,St=0,Ot="",ne,we,We;ie=ie+"";function st(){Te.push(Ot+ie.substring(ne,we)),Ot="",ne=we+1}for(ne=we=0;we<Ue;++we)if(We=ie[we],We==="\\")Ot+=ie.substring(ne,we),Ot+=ie.substring(++we,++we),ne=we;else if(We===gt)st(),gt=null,St=-1;else{if(gt)continue;ne===St&&We==='"'||ne===St&&We==="'"?(ne=we+1,gt=We):We==="."&&!St?we>ne?st():ne=we+1:We==="["?(we>ne&&st(),St=ne=we+1):We==="]"&&(St||a("Access path missing open bracket: "+ie),St>0&&st(),St=0,ne=we+1)}return St&&a("Access path missing closing bracket: "+ie),gt&&a("Access path missing closing quote: "+ie),we>ne&&(we++,st()),Te}function f(ie,Te,Ue){let gt=l(ie);return ie=gt.length===1?gt[0]:ie,e((Ue&&Ue.get||i)(gt),[ie],Te||ie)}let p=f("id"),_=e(ie=>ie,[],"identity"),b=e(()=>0,[],"zero"),R=e(()=>1,[],"one"),O=e(()=>!0,[],"true"),j=e(()=>!1,[],"false");function $(ie,Te,Ue){let gt=[Te].concat([].slice.call(Ue));console[ie].apply(console,gt)}let L=0,q=1,P=2,W=3,oe=4;function I(ie,Te,Ue=$){let gt=ie||L;return{level(St){return arguments.length?(gt=+St,this):gt},error(){return gt>=q&&Ue(Te||"error","ERROR",arguments),this},warn(){return gt>=P&&Ue(Te||"warn","WARN",arguments),this},info(){return gt>=W&&Ue(Te||"log","INFO",arguments),this},debug(){return gt>=oe&&Ue(Te||"log","DEBUG",arguments),this}}}var J=Array.isArray;function he(ie){return ie===Object(ie)}let ye=ie=>ie!=="__proto__";function He(...ie){return ie.reduce((Te,Ue)=>{for(let gt in Ue)if(gt==="signals")Te.signals=ct(Te.signals,Ue.signals);else{let St=gt==="legend"?{layout:1}:gt==="style"?!0:null;at(Te,gt,Ue[gt],St)}return Te},{})}function at(ie,Te,Ue,gt){if(!ye(Te))return;let St,Ot;if(he(Ue)&&!J(Ue)){Ot=he(ie[Te])?ie[Te]:ie[Te]={};for(St in Ue)gt&&(gt===!0||gt[St])?at(Ot,St,Ue[St]):ye(St)&&(Ot[St]=Ue[St])}else ie[Te]=Ue}function ct(ie,Te){if(ie==null)return Te;let Ue={},gt=[];function St(Ot){Ue[Ot.name]||(Ue[Ot.name]=1,gt.push(Ot))}return Te.forEach(St),ie.forEach(St),gt}function Ze(ie){return ie[ie.length-1]}function bt(ie){return ie==null||ie===""?null:+ie}let Mt=ie=>Te=>ie*Math.exp(Te),qe=ie=>Te=>Math.log(ie*Te),te=ie=>Te=>Math.sign(Te)*Math.log1p(Math.abs(Te/ie)),et=ie=>Te=>Math.sign(Te)*Math.expm1(Math.abs(Te))*ie,Ee=ie=>Te=>Te<0?-Math.pow(-Te,ie):Math.pow(Te,ie);function ke(ie,Te,Ue,gt){let St=Ue(ie[0]),Ot=Ue(Ze(ie)),ne=(Ot-St)*Te;return[gt(St-ne),gt(Ot-ne)]}function Ce(ie,Te){return ke(ie,Te,bt,_)}function pe(ie,Te){var Ue=Math.sign(ie[0]);return ke(ie,Te,qe(Ue),Mt(Ue))}function Je(ie,Te,Ue){return ke(ie,Te,Ee(Ue),Ee(1/Ue))}function lt(ie,Te,Ue){return ke(ie,Te,te(Ue),et(Ue))}function Ht(ie,Te,Ue,gt,St){let Ot=gt(ie[0]),ne=gt(Ze(ie)),we=Te!=null?gt(Te):(Ot+ne)/2;return[St(we+(Ot-we)*Ue),St(we+(ne-we)*Ue)]}function wt(ie,Te,Ue){return Ht(ie,Te,Ue,bt,_)}function mn(ie,Te,Ue){let gt=Math.sign(ie[0]);return Ht(ie,Te,Ue,qe(gt),Mt(gt))}function kt(ie,Te,Ue,gt){return Ht(ie,Te,Ue,Ee(gt),Ee(1/gt))}function Bt(ie,Te,Ue,gt){return Ht(ie,Te,Ue,te(gt),et(gt))}function tn(ie){return 1+~~(new Date(ie).getMonth()/3)}function Et(ie){return 1+~~(new Date(ie).getUTCMonth()/3)}function ve(ie){return ie!=null?J(ie)?ie:[ie]:[]}function Le(ie,Te,Ue){let gt=ie[0],St=ie[1],Ot;return St<gt&&(Ot=St,St=gt,gt=Ot),Ot=St-gt,Ot>=Ue-Te?[Te,Ue]:[gt=Math.min(Math.max(gt,Te),Ue-Ot),gt+Ot]}function _e(ie){return typeof ie=="function"}let ce="descending";function tt(ie,Te,Ue){Ue=Ue||{},Te=ve(Te)||[];let gt=[],St=[],Ot={},ne=Ue.comparator||re;return ve(ie).forEach((we,We)=>{we!=null&&(gt.push(Te[We]===ce?-1:1),St.push(we=_e(we)?we:f(we,null,Ue)),(r(we)||[]).forEach(st=>Ot[st]=1))}),St.length===0?null:e(ne(St,gt),Object.keys(Ot))}let Ke=(ie,Te)=>(ie<Te||ie==null)&&Te!=null?-1:(ie>Te||Te==null)&&ie!=null?1:(Te=Te instanceof Date?+Te:Te,(ie=ie instanceof Date?+ie:ie)!==ie&&Te===Te?-1:Te!==Te&&ie===ie?1:0),re=(ie,Te)=>ie.length===1?Re(ie[0],Te[0]):nt(ie,Te,ie.length),Re=(ie,Te)=>function(Ue,gt){return Ke(ie(Ue),ie(gt))*Te},nt=(ie,Te,Ue)=>(Te.push(0),function(gt,St){let Ot,ne=0,we=-1;for(;ne===0&&++we<Ue;)Ot=ie[we],ne=Ke(Ot(gt),Ot(St));return ne*Te[we]});function ft(ie){return _e(ie)?ie:()=>ie}function Rt(ie,Te){let Ue;return gt=>{Ue&&clearTimeout(Ue),Ue=setTimeout(()=>(Te(gt),Ue=null),ie)}}function Yt(ie){for(let Te,Ue,gt=1,St=arguments.length;gt<St;++gt){Te=arguments[gt];for(Ue in Te)ie[Ue]=Te[Ue]}return ie}function Gt(ie,Te){let Ue=0,gt,St,Ot,ne;if(ie&&(gt=ie.length))if(Te==null){for(St=ie[Ue];Ue<gt&&(St==null||St!==St);St=ie[++Ue]);for(Ot=ne=St;Ue<gt;++Ue)St=ie[Ue],St!=null&&(St<Ot&&(Ot=St),St>ne&&(ne=St))}else{for(St=Te(ie[Ue]);Ue<gt&&(St==null||St!==St);St=Te(ie[++Ue]));for(Ot=ne=St;Ue<gt;++Ue)St=Te(ie[Ue]),St!=null&&(St<Ot&&(Ot=St),St>ne&&(ne=St))}return[Ot,ne]}function fn(ie,Te){let Ue=ie.length,gt=-1,St,Ot,ne,we,We;if(Te==null){for(;++gt<Ue;)if(Ot=ie[gt],Ot!=null&&Ot>=Ot){St=ne=Ot;break}if(gt===Ue)return[-1,-1];for(we=We=gt;++gt<Ue;)Ot=ie[gt],Ot!=null&&(St>Ot&&(St=Ot,we=gt),ne<Ot&&(ne=Ot,We=gt))}else{for(;++gt<Ue;)if(Ot=Te(ie[gt],gt,ie),Ot!=null&&Ot>=Ot){St=ne=Ot;break}if(gt===Ue)return[-1,-1];for(we=We=gt;++gt<Ue;)Ot=Te(ie[gt],gt,ie),Ot!=null&&(St>Ot&&(St=Ot,we=gt),ne<Ot&&(ne=Ot,We=gt))}return[we,We]}let gn=Object.prototype.hasOwnProperty;function yn(ie,Te){return gn.call(ie,Te)}let Lt={};function un(ie){let Te={},Ue;function gt(Ot){return yn(Te,Ot)&&Te[Ot]!==Lt}let St={size:0,empty:0,object:Te,has:gt,get(Ot){return gt(Ot)?Te[Ot]:void 0},set(Ot,ne){return gt(Ot)||(++St.size,Te[Ot]===Lt&&--St.empty),Te[Ot]=ne,this},delete(Ot){return gt(Ot)&&(--St.size,++St.empty,Te[Ot]=Lt),this},clear(){St.size=St.empty=0,St.object=Te={}},test(Ot){return arguments.length?(Ue=Ot,St):Ue},clean(){let Ot={},ne=0;for(let we in Te){let We=Te[we];We!==Lt&&(!Ue||!Ue(We))&&(Ot[we]=We,++ne)}St.size=ne,St.empty=0,St.object=Te=Ot}};return ie&&Object.keys(ie).forEach(Ot=>{St.set(Ot,ie[Ot])}),St}function Pn(ie,Te,Ue,gt,St,Ot){if(!Ue&&Ue!==0)return Ot;let ne=+Ue,we=ie[0],We=Ze(ie),st;We<we&&(st=we,we=We,We=st),st=Math.abs(Te-we);let Ut=Math.abs(We-Te);return st<Ut&&st<=ne?gt:Ut<=ne?St:Ot}function nr(ie,Te,Ue){let gt=ie.prototype=Object.create(Te.prototype);return Object.defineProperty(gt,"constructor",{value:ie,writable:!0,enumerable:!0,configurable:!0}),Yt(gt,Ue)}function On(ie,Te,Ue,gt){let St=Te[0],Ot=Te[Te.length-1],ne;return St>Ot&&(ne=St,St=Ot,Ot=ne),Ue=Ue===void 0||Ue,gt=gt===void 0||gt,(Ue?St<=ie:St<ie)&&(gt?ie<=Ot:ie<Ot)}function Ne(ie){return typeof ie=="boolean"}function ze(ie){return Object.prototype.toString.call(ie)==="[object Date]"}function De(ie){return ie&&_e(ie[Symbol.iterator])}function Pt(ie){return typeof ie=="number"}function mt(ie){return Object.prototype.toString.call(ie)==="[object RegExp]"}function xt(ie){return typeof ie=="string"}function rn(ie,Te,Ue){ie&&(ie=Te?ve(ie).map(we=>we.replace(/\\(.)/g,"$1")):ve(ie));let gt=ie&&ie.length,St=Ue&&Ue.get||i,Ot=we=>St(Te?[we]:l(we)),ne;if(!gt)ne=function(){return""};else if(gt===1){let we=Ot(ie[0]);ne=function(We){return""+we(We)}}else{let we=ie.map(Ot);ne=function(We){let st=""+we[0](We),Ut=0;for(;++Ut<gt;)st+="|"+we[Ut](We);return st}}return e(ne,ie,"key")}function Qt(ie,Te){let Ue=ie[0],gt=Ze(ie),St=+Te;return St?St===1?gt:Ue+St*(gt-Ue):Ue}let Fn=1e4;function Wn(ie){ie=+ie||Fn;let Te,Ue,gt,St=()=>{Te={},Ue={},gt=0},Ot=(ne,we)=>(++gt>ie&&(Ue=Te,Te={},gt=1),Te[ne]=we);return St(),{clear:St,has:ne=>yn(Te,ne)||yn(Ue,ne),get:ne=>yn(Te,ne)?Te[ne]:yn(Ue,ne)?Ot(ne,Ue[ne]):void 0,set:(ne,we)=>yn(Te,ne)?Te[ne]=we:Ot(ne,we)}}function Zn(ie,Te,Ue,gt){let St=Te.length,Ot=Ue.length;if(!Ot)return Te;if(!St)return Ue;let ne=gt||new Te.constructor(St+Ot),we=0,We=0,st=0;for(;we<St&&We<Ot;++st)ne[st]=ie(Te[we],Ue[We])>0?Ue[We++]:Te[we++];for(;we<St;++we,++st)ne[st]=Te[we];for(;We<Ot;++We,++st)ne[st]=Ue[We];return ne}function Nn(ie,Te){let Ue="";for(;--Te>=0;)Ue+=ie;return Ue}function rr(ie,Te,Ue,gt){let St=Ue||" ",Ot=ie+"",ne=Te-Ot.length;return ne<=0?Ot:gt==="left"?Nn(St,ne)+Ot:gt==="center"?Nn(St,~~(ne/2))+Ot+Nn(St,Math.ceil(ne/2)):Ot+Nn(St,ne)}function Ye(ie){return ie&&Ze(ie)-ie[0]||0}function vt(ie){return J(ie)?"["+ie.map(vt)+"]":he(ie)||xt(ie)?JSON.stringify(ie).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):ie}function ae(ie){return ie==null||ie===""?null:!ie||ie==="false"||ie==="0"?!1:!!ie}let Be=ie=>Pt(ie)||ze(ie)?ie:Date.parse(ie);function rt(ie,Te){return Te=Te||Be,ie==null||ie===""?null:Te(ie)}function Dt(ie){return ie==null||ie===""?null:ie+""}function hn(ie){let Te={},Ue=ie.length;for(let gt=0;gt<Ue;++gt)Te[ie[gt]]=!0;return Te}function an(ie,Te,Ue,gt){let St=gt??"\u2026",Ot=ie+"",ne=Ot.length,we=Math.max(0,Te-St.length);return ne<=Te?Ot:Ue==="left"?St+Ot.slice(ne-we):Ue==="center"?Ot.slice(0,Math.ceil(we/2))+St+Ot.slice(ne-~~(we/2)):Ot.slice(0,we)+St}function dt(ie,Te,Ue){if(ie)if(Te){let gt=ie.length;for(let St=0;St<gt;++St){let Ot=Te(ie[St]);Ot&&Ue(Ot,St,ie)}}else ie.forEach(Ue)}n.Debug=oe,n.Error=q,n.Info=W,n.None=L,n.Warn=P,n.accessor=e,n.accessorFields=r,n.accessorName=t,n.array=ve,n.ascending=Ke,n.clampRange=Le,n.compare=tt,n.constant=ft,n.debounce=Rt,n.error=a,n.extend=Yt,n.extent=Gt,n.extentIndex=fn,n.falsy=j,n.fastmap=un,n.field=f,n.flush=Pn,n.hasOwnProperty=yn,n.id=p,n.identity=_,n.inherits=nr,n.inrange=On,n.isArray=J,n.isBoolean=Ne,n.isDate=ze,n.isFunction=_e,n.isIterable=De,n.isNumber=Pt,n.isObject=he,n.isRegExp=mt,n.isString=xt,n.key=rn,n.lerp=Qt,n.logger=I,n.lruCache=Wn,n.merge=Zn,n.mergeConfig=He,n.one=R,n.pad=rr,n.panLinear=Ce,n.panLog=pe,n.panPow=Je,n.panSymlog=lt,n.peek=Ze,n.quarter=tn,n.repeat=Nn,n.span=Ye,n.splitAccessPath=l,n.stringValue=vt,n.toBoolean=ae,n.toDate=rt,n.toNumber=bt,n.toSet=hn,n.toString=Dt,n.truncate=an,n.truthy=O,n.utcquarter=Et,n.visitArray=dt,n.writeConfig=at,n.zero=b,n.zoomLinear=wt,n.zoomLog=mn,n.zoomPow=kt,n.zoomSymlog=Bt,Object.defineProperty(n,"__esModule",{value:!0})})});var MDe=Ae((iV,IDe)=>{m();(function(n,e){typeof iV=="object"&&typeof IDe!="undefined"?e(iV):typeof define=="function"&&define.amd?define(["exports"],e):(n=n||self,e(n.topojson=n.topojson||{}))})(iV,function(n){"use strict";function e(P){return P}function t(P){if(P==null)return e;var W,oe,I=P.scale[0],J=P.scale[1],he=P.translate[0],ye=P.translate[1];return function(He,at){at||(W=oe=0);var ct=2,Ze=He.length,bt=new Array(Ze);for(bt[0]=(W+=He[0])*I+he,bt[1]=(oe+=He[1])*J+ye;ct<Ze;)bt[ct]=He[ct],++ct;return bt}}function r(P){var W=t(P.transform),oe,I=1/0,J=I,he=-I,ye=-I;function He(ct){ct=W(ct),ct[0]<I&&(I=ct[0]),ct[0]>he&&(he=ct[0]),ct[1]<J&&(J=ct[1]),ct[1]>ye&&(ye=ct[1])}function at(ct){switch(ct.type){case"GeometryCollection":ct.geometries.forEach(at);break;case"Point":He(ct.coordinates);break;case"MultiPoint":ct.coordinates.forEach(He);break}}P.arcs.forEach(function(ct){for(var Ze=-1,bt=ct.length,Mt;++Ze<bt;)Mt=W(ct[Ze],Ze),Mt[0]<I&&(I=Mt[0]),Mt[0]>he&&(he=Mt[0]),Mt[1]<J&&(J=Mt[1]),Mt[1]>ye&&(ye=Mt[1])});for(oe in P.objects)at(P.objects[oe]);return[I,J,he,ye]}function i(P,W){for(var oe,I=P.length,J=I-W;J<--I;)oe=P[J],P[J++]=P[I],P[I]=oe}function s(P,W){return typeof W=="string"&&(W=P.objects[W]),W.type==="GeometryCollection"?{type:"FeatureCollection",features:W.geometries.map(function(oe){return o(P,oe)})}:o(P,W)}function o(P,W){var oe=W.id,I=W.bbox,J=W.properties==null?{}:W.properties,he=a(P,W);return oe==null&&I==null?{type:"Feature",properties:J,geometry:he}:I==null?{type:"Feature",id:oe,properties:J,geometry:he}:{type:"Feature",id:oe,bbox:I,properties:J,geometry:he}}function a(P,W){var oe=t(P.transform),I=P.arcs;function J(Ze,bt){bt.length&&bt.pop();for(var Mt=I[Ze<0?~Ze:Ze],qe=0,te=Mt.length;qe<te;++qe)bt.push(oe(Mt[qe],qe));Ze<0&&i(bt,te)}function he(Ze){return oe(Ze)}function ye(Ze){for(var bt=[],Mt=0,qe=Ze.length;Mt<qe;++Mt)J(Ze[Mt],bt);return bt.length<2&&bt.push(bt[0]),bt}function He(Ze){for(var bt=ye(Ze);bt.length<4;)bt.push(bt[0]);return bt}function at(Ze){return Ze.map(He)}function ct(Ze){var bt=Ze.type,Mt;switch(bt){case"GeometryCollection":return{type:bt,geometries:Ze.geometries.map(ct)};case"Point":Mt=he(Ze.coordinates);break;case"MultiPoint":Mt=Ze.coordinates.map(he);break;case"LineString":Mt=ye(Ze.arcs);break;case"MultiLineString":Mt=Ze.arcs.map(ye);break;case"Polygon":Mt=at(Ze.arcs);break;case"MultiPolygon":Mt=Ze.arcs.map(at);break;default:return null}return{type:bt,coordinates:Mt}}return ct(W)}function l(P,W){var oe={},I={},J={},he=[],ye=-1;W.forEach(function(ct,Ze){var bt=P.arcs[ct<0?~ct:ct],Mt;bt.length<3&&!bt[1][0]&&!bt[1][1]&&(Mt=W[++ye],W[ye]=ct,W[Ze]=Mt)}),W.forEach(function(ct){var Ze=He(ct),bt=Ze[0],Mt=Ze[1],qe,te;if(qe=J[bt])if(delete J[qe.end],qe.push(ct),qe.end=Mt,te=I[Mt]){delete I[te.start];var et=te===qe?qe:qe.concat(te);I[et.start=qe.start]=J[et.end=te.end]=et}else I[qe.start]=J[qe.end]=qe;else if(qe=I[Mt])if(delete I[qe.start],qe.unshift(ct),qe.start=bt,te=J[bt]){delete J[te.end];var Ee=te===qe?qe:te.concat(qe);I[Ee.start=te.start]=J[Ee.end=qe.end]=Ee}else I[qe.start]=J[qe.end]=qe;else qe=[ct],I[qe.start=bt]=J[qe.end=Mt]=qe});function He(ct){var Ze=P.arcs[ct<0?~ct:ct],bt=Ze[0],Mt;return P.transform?(Mt=[0,0],Ze.forEach(function(qe){Mt[0]+=qe[0],Mt[1]+=qe[1]})):Mt=Ze[Ze.length-1],ct<0?[Mt,bt]:[bt,Mt]}function at(ct,Ze){for(var bt in ct){var Mt=ct[bt];delete Ze[Mt.start],delete Mt.start,delete Mt.end,Mt.forEach(function(qe){oe[qe<0?~qe:qe]=1}),he.push(Mt)}}return at(J,I),at(I,J),W.forEach(function(ct){oe[ct<0?~ct:ct]||he.push([ct])}),he}function f(P){return a(P,p.apply(this,arguments))}function p(P,W,oe){var I,J,he;if(arguments.length>1)I=_(P,W,oe);else for(J=0,I=new Array(he=P.arcs.length);J<he;++J)I[J]=J;return{type:"MultiLineString",arcs:l(P,I)}}function _(P,W,oe){var I=[],J=[],he;function ye(bt){var Mt=bt<0?~bt:bt;(J[Mt]||(J[Mt]=[])).push({i:bt,g:he})}function He(bt){bt.forEach(ye)}function at(bt){bt.forEach(He)}function ct(bt){bt.forEach(at)}function Ze(bt){switch(he=bt,bt.type){case"GeometryCollection":bt.geometries.forEach(Ze);break;case"LineString":He(bt.arcs);break;case"MultiLineString":case"Polygon":at(bt.arcs);break;case"MultiPolygon":ct(bt.arcs);break}}return Ze(W),J.forEach(oe==null?function(bt){I.push(bt[0].i)}:function(bt){oe(bt[0].g,bt[bt.length-1].g)&&I.push(bt[0].i)}),I}function b(P){for(var W=-1,oe=P.length,I,J=P[oe-1],he=0;++W<oe;)I=J,J=P[W],he+=I[0]*J[1]-I[1]*J[0];return Math.abs(he)}function R(P){return a(P,O.apply(this,arguments))}function O(P,W){var oe={},I=[],J=[];W.forEach(he);function he(at){switch(at.type){case"GeometryCollection":at.geometries.forEach(he);break;case"Polygon":ye(at.arcs);break;case"MultiPolygon":at.arcs.forEach(ye);break}}function ye(at){at.forEach(function(ct){ct.forEach(function(Ze){(oe[Ze=Ze<0?~Ze:Ze]||(oe[Ze]=[])).push(at)})}),I.push(at)}function He(at){return b(a(P,{type:"Polygon",arcs:[at]}).coordinates[0])}return I.forEach(function(at){if(!at._){var ct=[],Ze=[at];for(at._=1,J.push(ct);at=Ze.pop();)ct.push(at),at.forEach(function(bt){bt.forEach(function(Mt){oe[Mt<0?~Mt:Mt].forEach(function(qe){qe._||(qe._=1,Ze.push(qe))})})})}}),I.forEach(function(at){delete at._}),{type:"MultiPolygon",arcs:J.map(function(at){var ct=[],Ze;if(at.forEach(function(et){et.forEach(function(Ee){Ee.forEach(function(ke){oe[ke<0?~ke:ke].length<2&&ct.push(ke)})})}),ct=l(P,ct),(Ze=ct.length)>1)for(var bt=1,Mt=He(ct[0]),qe,te;bt<Ze;++bt)(qe=He(ct[bt]))>Mt&&(te=ct[0],ct[0]=ct[bt],ct[bt]=te,Mt=qe);return ct}).filter(function(at){return at.length>0})}}function j(P,W){for(var oe=0,I=P.length;oe<I;){var J=oe+I>>>1;P[J]<W?oe=J+1:I=J}return oe}function $(P){var W={},oe=P.map(function(){return[]});function I(et,Ee){et.forEach(function(ke){ke<0&&(ke=~ke);var Ce=W[ke];Ce?Ce.push(Ee):W[ke]=[Ee]})}function J(et,Ee){et.forEach(function(ke){I(ke,Ee)})}function he(et,Ee){et.type==="GeometryCollection"?et.geometries.forEach(function(ke){he(ke,Ee)}):et.type in ye&&ye[et.type](et.arcs,Ee)}var ye={LineString:I,MultiLineString:J,Polygon:J,MultiPolygon:function(et,Ee){et.forEach(function(ke){J(ke,Ee)})}};P.forEach(he);for(var He in W)for(var at=W[He],ct=at.length,Ze=0;Ze<ct;++Ze)for(var bt=Ze+1;bt<ct;++bt){var Mt=at[Ze],qe=at[bt],te;(te=oe[Mt])[He=j(te,qe)]!==qe&&te.splice(He,0,qe),(te=oe[qe])[He=j(te,Mt)]!==Mt&&te.splice(He,0,Mt)}return oe}function L(P){if(P==null)return e;var W,oe,I=P.scale[0],J=P.scale[1],he=P.translate[0],ye=P.translate[1];return function(He,at){at||(W=oe=0);var ct=2,Ze=He.length,bt=new Array(Ze),Mt=Math.round((He[0]-he)/I),qe=Math.round((He[1]-ye)/J);for(bt[0]=Mt-W,W=Mt,bt[1]=qe-oe,oe=qe;ct<Ze;)bt[ct]=He[ct],++ct;return bt}}function q(P,W){if(P.transform)throw new Error("already quantized");if(!W||!W.scale){if(!((ye=Math.floor(W))>=2))throw new Error("n must be \u22652");at=P.bbox||r(P);var oe=at[0],I=at[1],J=at[2],he=at[3],ye;W={scale:[J-oe?(J-oe)/(ye-1):1,he-I?(he-I)/(ye-1):1],translate:[oe,I]}}else at=P.bbox;var He=L(W),at,ct,Ze=P.objects,bt={};function Mt(et){return He(et)}function qe(et){var Ee;switch(et.type){case"GeometryCollection":Ee={type:"GeometryCollection",geometries:et.geometries.map(qe)};break;case"Point":Ee={type:"Point",coordinates:Mt(et.coordinates)};break;case"MultiPoint":Ee={type:"MultiPoint",coordinates:et.coordinates.map(Mt)};break;default:return et}return et.id!=null&&(Ee.id=et.id),et.bbox!=null&&(Ee.bbox=et.bbox),et.properties!=null&&(Ee.properties=et.properties),Ee}function te(et){var Ee=0,ke=1,Ce=et.length,pe,Je=new Array(Ce);for(Je[0]=He(et[0],0);++Ee<Ce;)((pe=He(et[Ee],Ee))[0]||pe[1])&&(Je[ke++]=pe);return ke===1&&(Je[ke++]=[0,0]),Je.length=ke,Je}for(ct in Ze)bt[ct]=qe(Ze[ct]);return{type:"Topology",bbox:at,transform:W,objects:bt,arcs:P.arcs.map(te)}}n.bbox=r,n.feature=s,n.merge=R,n.mergeArcs=O,n.mesh=f,n.meshArcs=p,n.neighbors=$,n.quantize=q,n.transform=t,n.untransform=L,Object.defineProperty(n,"__esModule",{value:!0})})});var m9=Ae((sV,PDe)=>{m();(function(n,e){typeof sV=="object"&&typeof PDe!="undefined"?e(sV,Tu()):typeof define=="function"&&define.amd?define(["exports","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega))})(sV,function(n,e){"use strict";let t="year",r="quarter",i="month",s="week",o="date",a="day",l="dayofyear",f="hours",p="minutes",_="seconds",b="milliseconds",R=[t,r,i,s,o,a,l,f,p,_,b],O=R.reduce((N,V,be)=>(N[V]=1+be,N),{});function j(N){let V=e.array(N).slice(),be={};return V.length||e.error("Missing time unit."),V.forEach(K=>{e.hasOwnProperty(O,K)?be[K]=1:e.error(`Invalid time unit: ${K}.`)}),(be[s]||be[a]?1:0)+(be[r]||be[i]||be[o]?1:0)+(be[l]?1:0)>1&&e.error(`Incompatible time units: ${N}`),V.sort((K,ue)=>O[K]-O[ue]),V}let $={[t]:"%Y ",[r]:"Q%q ",[i]:"%b ",[o]:"%d ",[s]:"W%U ",[a]:"%a ",[l]:"%j ",[f]:"%H:00",[p]:"00:%M",[_]:":%S",[b]:".%L",[`${t}-${i}`]:"%Y-%m ",[`${t}-${i}-${o}`]:"%Y-%m-%d ",[`${f}-${p}`]:"%H:%M"};function L(N,V){let be=e.extend({},$,V),xe=j(N),K=xe.length,ue="",fe=0,Qe,It;for(fe=0;fe<K;)for(Qe=xe.length;Qe>fe;--Qe)if(It=xe.slice(fe,Qe).join("-"),be[It]!=null){ue+=be[It],fe=Qe;break}return ue.trim()}var q=new Date,P=new Date;function W(N,V,be,xe){function K(ue){return N(ue=arguments.length===0?new Date:new Date(+ue)),ue}return K.floor=function(ue){return N(ue=new Date(+ue)),ue},K.ceil=function(ue){return N(ue=new Date(ue-1)),V(ue,1),N(ue),ue},K.round=function(ue){var fe=K(ue),Qe=K.ceil(ue);return ue-fe<Qe-ue?fe:Qe},K.offset=function(ue,fe){return V(ue=new Date(+ue),fe==null?1:Math.floor(fe)),ue},K.range=function(ue,fe,Qe){var It=[],At;if(ue=K.ceil(ue),Qe=Qe==null?1:Math.floor(Qe),!(ue<fe)||!(Qe>0))return It;do It.push(At=new Date(+ue)),V(ue,Qe),N(ue);while(At<ue&&ue<fe);return It},K.filter=function(ue){return W(function(fe){if(fe>=fe)for(;N(fe),!ue(fe);)fe.setTime(fe-1)},function(fe,Qe){if(fe>=fe)if(Qe<0)for(;++Qe<=0;)for(;V(fe,-1),!ue(fe););else for(;--Qe>=0;)for(;V(fe,1),!ue(fe););})},be&&(K.count=function(ue,fe){return q.setTime(+ue),P.setTime(+fe),N(q),N(P),Math.floor(be(q,P))},K.every=function(ue){return ue=Math.floor(ue),!isFinite(ue)||!(ue>0)?null:ue>1?K.filter(xe?function(fe){return xe(fe)%ue===0}:function(fe){return K.count(0,fe)%ue===0}):K}),K}var oe=W(function(){},function(N,V){N.setTime(+N+V)},function(N,V){return V-N});oe.every=function(N){return N=Math.floor(N),!isFinite(N)||!(N>0)?null:N>1?W(function(V){V.setTime(Math.floor(V/N)*N)},function(V,be){V.setTime(+V+be*N)},function(V,be){return(be-V)/N}):oe};var I=oe;let J=1e3,he=J*60,ye=he*60,He=ye*24,at=He*7;var ct=W(function(N){N.setTime(N-N.getMilliseconds())},function(N,V){N.setTime(+N+V*J)},function(N,V){return(V-N)/J},function(N){return N.getUTCSeconds()}),Ze=ct,bt=W(function(N){N.setTime(N-N.getMilliseconds()-N.getSeconds()*J)},function(N,V){N.setTime(+N+V*he)},function(N,V){return(V-N)/he},function(N){return N.getMinutes()}),Mt=bt,qe=W(function(N){N.setTime(N-N.getMilliseconds()-N.getSeconds()*J-N.getMinutes()*he)},function(N,V){N.setTime(+N+V*ye)},function(N,V){return(V-N)/ye},function(N){return N.getHours()}),te=qe,et=W(N=>N.setHours(0,0,0,0),(N,V)=>N.setDate(N.getDate()+V),(N,V)=>(V-N-(V.getTimezoneOffset()-N.getTimezoneOffset())*he)/He,N=>N.getDate()-1),Ee=et;function ke(N){return W(function(V){V.setDate(V.getDate()-(V.getDay()+7-N)%7),V.setHours(0,0,0,0)},function(V,be){V.setDate(V.getDate()+be*7)},function(V,be){return(be-V-(be.getTimezoneOffset()-V.getTimezoneOffset())*he)/at})}var Ce=ke(0);ke(1),ke(2),ke(3),ke(4),ke(5),ke(6);var pe=W(function(N){N.setDate(1),N.setHours(0,0,0,0)},function(N,V){N.setMonth(N.getMonth()+V)},function(N,V){return V.getMonth()-N.getMonth()+(V.getFullYear()-N.getFullYear())*12},function(N){return N.getMonth()}),Je=pe,lt=W(function(N){N.setMonth(0,1),N.setHours(0,0,0,0)},function(N,V){N.setFullYear(N.getFullYear()+V)},function(N,V){return V.getFullYear()-N.getFullYear()},function(N){return N.getFullYear()});lt.every=function(N){return!isFinite(N=Math.floor(N))||!(N>0)?null:W(function(V){V.setFullYear(Math.floor(V.getFullYear()/N)*N),V.setMonth(0,1),V.setHours(0,0,0,0)},function(V,be){V.setFullYear(V.getFullYear()+be*N)})};var Ht=lt,wt=W(function(N){N.setUTCSeconds(0,0)},function(N,V){N.setTime(+N+V*he)},function(N,V){return(V-N)/he},function(N){return N.getUTCMinutes()}),mn=wt,kt=W(function(N){N.setUTCMinutes(0,0,0)},function(N,V){N.setTime(+N+V*ye)},function(N,V){return(V-N)/ye},function(N){return N.getUTCHours()}),Bt=kt,tn=W(function(N){N.setUTCHours(0,0,0,0)},function(N,V){N.setUTCDate(N.getUTCDate()+V)},function(N,V){return(V-N)/He},function(N){return N.getUTCDate()-1}),Et=tn;function ve(N){return W(function(V){V.setUTCDate(V.getUTCDate()-(V.getUTCDay()+7-N)%7),V.setUTCHours(0,0,0,0)},function(V,be){V.setUTCDate(V.getUTCDate()+be*7)},function(V,be){return(be-V)/at})}var Le=ve(0);ve(1),ve(2),ve(3),ve(4),ve(5),ve(6);var _e=W(function(N){N.setUTCDate(1),N.setUTCHours(0,0,0,0)},function(N,V){N.setUTCMonth(N.getUTCMonth()+V)},function(N,V){return V.getUTCMonth()-N.getUTCMonth()+(V.getUTCFullYear()-N.getUTCFullYear())*12},function(N){return N.getUTCMonth()}),ce=_e,tt=W(function(N){N.setUTCMonth(0,1),N.setUTCHours(0,0,0,0)},function(N,V){N.setUTCFullYear(N.getUTCFullYear()+V)},function(N,V){return V.getUTCFullYear()-N.getUTCFullYear()},function(N){return N.getUTCFullYear()});tt.every=function(N){return!isFinite(N=Math.floor(N))||!(N>0)?null:W(function(V){V.setUTCFullYear(Math.floor(V.getUTCFullYear()/N)*N),V.setUTCMonth(0,1),V.setUTCHours(0,0,0,0)},function(V,be){V.setUTCFullYear(V.getUTCFullYear()+be*N)})};var Ke=tt;function re(N,V){return N==null||V==null?NaN:N<V?-1:N>V?1:N>=V?0:NaN}function Re(N){let V=N,be=N,xe=N;N.length!==2&&(V=(Qe,It)=>N(Qe)-It,be=re,xe=(Qe,It)=>re(N(Qe),It));function K(Qe,It,At=0,dn=Qe.length){if(At<dn){if(be(It,It)!==0)return dn;do{let C=At+dn>>>1;xe(Qe[C],It)<0?At=C+1:dn=C}while(At<dn)}return At}function ue(Qe,It,At=0,dn=Qe.length){if(At<dn){if(be(It,It)!==0)return dn;do{let C=At+dn>>>1;xe(Qe[C],It)<=0?At=C+1:dn=C}while(At<dn)}return At}function fe(Qe,It,At=0,dn=Qe.length){let C=K(Qe,It,At,dn-1);return C>At&&V(Qe[C-1],It)>-V(Qe[C],It)?C-1:C}return{left:K,center:fe,right:ue}}var nt=Math.sqrt(50),ft=Math.sqrt(10),Rt=Math.sqrt(2);function Yt(N,V,be){var xe=Math.abs(V-N)/Math.max(0,be),K=Math.pow(10,Math.floor(Math.log(xe)/Math.LN10)),ue=xe/K;return ue>=nt?K*=10:ue>=ft?K*=5:ue>=Rt&&(K*=2),V<N?-K:K}let Gt=new Date;function fn(N){return Gt.setFullYear(N),Gt.setMonth(0),Gt.setDate(1),Gt.setHours(0,0,0,0),Gt}function gn(N){return Lt(new Date(N))}function yn(N){return un(new Date(N))}function Lt(N){return Ee.count(fn(N.getFullYear())-1,N)}function un(N){return Ce.count(fn(N.getFullYear())-1,N)}function Pn(N){return fn(N).getDay()}function nr(N,V,be,xe,K,ue,fe){if(0<=N&&N<100){let Qe=new Date(-1,V,be,xe,K,ue,fe);return Qe.setFullYear(N),Qe}return new Date(N,V,be,xe,K,ue,fe)}function On(N){return ze(new Date(N))}function Ne(N){return De(new Date(N))}function ze(N){let V=Date.UTC(N.getUTCFullYear(),0,1);return Et.count(V-1,N)}function De(N){let V=Date.UTC(N.getUTCFullYear(),0,1);return Le.count(V-1,N)}function Pt(N){return Gt.setTime(Date.UTC(N,0,1)),Gt.getUTCDay()}function mt(N,V,be,xe,K,ue,fe){if(0<=N&&N<100){let Qe=new Date(Date.UTC(-1,V,be,xe,K,ue,fe));return Qe.setUTCFullYear(be.y),Qe}return new Date(Date.UTC(N,V,be,xe,K,ue,fe))}function xt(N,V,be,xe,K){let ue=V||1,fe=e.peek(N),Qe=(Zt,Xt,xn)=>(xn=xn||Zt,rn(be[xn],xe[xn],Zt===fe&&ue,Xt)),It=new Date,At=e.toSet(N),dn=At[t]?Qe(t):e.constant(2012),C=At[i]?Qe(i):At[r]?Qe(r):e.zero,B=At[s]&&At[a]?Qe(a,1,s+a):At[s]?Qe(s,1):At[a]?Qe(a,1):At[o]?Qe(o,1):At[l]?Qe(l,1):e.one,ee=At[f]?Qe(f):e.zero,Se=At[p]?Qe(p):e.zero,ht=At[_]?Qe(_):e.zero,Tt=At[b]?Qe(b):e.zero;return function(Zt){It.setTime(+Zt);let Xt=dn(It);return K(Xt,C(It),B(It,Xt),ee(It),Se(It),ht(It),Tt(It))}}function rn(N,V,be,xe){let K=be<=1?N:xe?(ue,fe)=>xe+be*Math.floor((N(ue,fe)-xe)/be):(ue,fe)=>be*Math.floor(N(ue,fe)/be);return V?(ue,fe)=>V(K(ue,fe),fe):K}function Qt(N,V,be){return V+N*7-(be+6)%7}let Fn={[t]:N=>N.getFullYear(),[r]:N=>Math.floor(N.getMonth()/3),[i]:N=>N.getMonth(),[o]:N=>N.getDate(),[f]:N=>N.getHours(),[p]:N=>N.getMinutes(),[_]:N=>N.getSeconds(),[b]:N=>N.getMilliseconds(),[l]:N=>Lt(N),[s]:N=>un(N),[s+a]:(N,V)=>Qt(un(N),N.getDay(),Pn(V)),[a]:(N,V)=>Qt(1,N.getDay(),Pn(V))},Wn={[r]:N=>3*N,[s]:(N,V)=>Qt(N,0,Pn(V))};function Zn(N,V){return xt(N,V||1,Fn,Wn,nr)}let Nn={[t]:N=>N.getUTCFullYear(),[r]:N=>Math.floor(N.getUTCMonth()/3),[i]:N=>N.getUTCMonth(),[o]:N=>N.getUTCDate(),[f]:N=>N.getUTCHours(),[p]:N=>N.getUTCMinutes(),[_]:N=>N.getUTCSeconds(),[b]:N=>N.getUTCMilliseconds(),[l]:N=>ze(N),[s]:N=>De(N),[a]:(N,V)=>Qt(1,N.getUTCDay(),Pt(V)),[s+a]:(N,V)=>Qt(De(N),N.getUTCDay(),Pt(V))},rr={[r]:N=>3*N,[s]:(N,V)=>Qt(N,0,Pt(V))};function Ye(N,V){return xt(N,V||1,Nn,rr,mt)}let vt={[t]:Ht,[r]:Je.every(3),[i]:Je,[s]:Ce,[o]:Ee,[a]:Ee,[l]:Ee,[f]:te,[p]:Mt,[_]:Ze,[b]:I},ae={[t]:Ke,[r]:ce.every(3),[i]:ce,[s]:Le,[o]:Et,[a]:Et,[l]:Et,[f]:Bt,[p]:mn,[_]:Ze,[b]:I};function Be(N){return vt[N]}function rt(N){return ae[N]}function Dt(N,V,be){return N?N.offset(V,be):void 0}function hn(N,V,be){return Dt(Be(N),V,be)}function an(N,V,be){return Dt(rt(N),V,be)}function dt(N,V,be,xe){return N?N.range(V,be,xe):void 0}function ie(N,V,be,xe){return dt(Be(N),V,be,xe)}function Te(N,V,be,xe){return dt(rt(N),V,be,xe)}let Ue=1e3,gt=Ue*60,St=gt*60,Ot=St*24,ne=Ot*7,we=Ot*30,We=Ot*365,st=[t,i,o,f,p,_,b],Ut=st.slice(0,-1),sn=Ut.slice(0,-1),wn=sn.slice(0,-1),bn=wn.slice(0,-1),vn=[t,s],zn=[t,i],Oe=[t],$e=[[Ut,1,Ue],[Ut,5,5*Ue],[Ut,15,15*Ue],[Ut,30,30*Ue],[sn,1,gt],[sn,5,5*gt],[sn,15,15*gt],[sn,30,30*gt],[wn,1,St],[wn,3,3*St],[wn,6,6*St],[wn,12,12*St],[bn,1,Ot],[vn,1,ne],[zn,1,we],[zn,3,3*we],[Oe,1,We]];function Ft(N){let V=N.extent,be=N.maxbins||40,xe=Math.abs(e.span(V))/be,K=Re(Qe=>Qe[2]).right($e,xe),ue,fe;return K===$e.length?(ue=Oe,fe=Yt(V[0]/We,V[1]/We,be)):K?(K=$e[xe/$e[K-1][2]<$e[K][2]/xe?K-1:K],ue=K[0],fe=K[1]):(ue=st,fe=Math.max(Yt(V[0],V[1],be),1)),{units:ue,step:fe}}n.DATE=o,n.DAY=a,n.DAYOFYEAR=l,n.HOURS=f,n.MILLISECONDS=b,n.MINUTES=p,n.MONTH=i,n.QUARTER=r,n.SECONDS=_,n.TIME_UNITS=R,n.WEEK=s,n.YEAR=t,n.dayofyear=gn,n.timeBin=Ft,n.timeFloor=Zn,n.timeInterval=Be,n.timeOffset=hn,n.timeSequence=ie,n.timeUnitSpecifier=L,n.timeUnits=j,n.utcFloor=Ye,n.utcInterval=rt,n.utcOffset=an,n.utcSequence=Te,n.utcdayofyear=On,n.utcweek=Ne,n.week=yn,Object.defineProperty(n,"__esModule",{value:!0})})});var vN=Ae((oV,BDe)=>{m();(function(n,e){typeof oV=="object"&&typeof BDe!="undefined"?e(oV,m9(),Tu()):typeof define=="function"&&define.amd?define(["exports","vega-time","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(oV,function(n,e,t){"use strict";function r(Ge){let Kt={};return jn=>Kt[jn]||(Kt[jn]=Ge(jn))}var i=Math.sqrt(50),s=Math.sqrt(10),o=Math.sqrt(2);function a(Ge,Kt,jn){var Yn=Math.abs(Kt-Ge)/Math.max(0,jn),ri=Math.pow(10,Math.floor(Math.log(Yn)/Math.LN10)),Br=Yn/ri;return Br>=i?ri*=10:Br>=s?ri*=5:Br>=o&&(ri*=2),Kt<Ge?-ri:ri}function l(Ge){return Math.abs(Ge=Math.round(Ge))>=1e21?Ge.toLocaleString("en").replace(/,/g,""):Ge.toString(10)}function f(Ge,Kt){if((jn=(Ge=Kt?Ge.toExponential(Kt-1):Ge.toExponential()).indexOf("e"))<0)return null;var jn,Yn=Ge.slice(0,jn);return[Yn.length>1?Yn[0]+Yn.slice(2):Yn,+Ge.slice(jn+1)]}function p(Ge){return Ge=f(Math.abs(Ge)),Ge?Ge[1]:NaN}function _(Ge,Kt){return function(jn,Yn){for(var ri=jn.length,Br=[],Xr=0,As=Ge[0],fo=0;ri>0&&As>0&&(fo+As+1>Yn&&(As=Math.max(1,Yn-fo)),Br.push(jn.substring(ri-=As,ri+As)),!((fo+=As+1)>Yn));)As=Ge[Xr=(Xr+1)%Ge.length];return Br.reverse().join(Kt)}}function b(Ge){return function(Kt){return Kt.replace(/[0-9]/g,function(jn){return Ge[+jn]})}}var R=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function O(Ge){if(!(Kt=R.exec(Ge)))throw new Error("invalid format: "+Ge);var Kt;return new j({fill:Kt[1],align:Kt[2],sign:Kt[3],symbol:Kt[4],zero:Kt[5],width:Kt[6],comma:Kt[7],precision:Kt[8]&&Kt[8].slice(1),trim:Kt[9],type:Kt[10]})}O.prototype=j.prototype;function j(Ge){this.fill=Ge.fill===void 0?" ":Ge.fill+"",this.align=Ge.align===void 0?">":Ge.align+"",this.sign=Ge.sign===void 0?"-":Ge.sign+"",this.symbol=Ge.symbol===void 0?"":Ge.symbol+"",this.zero=!!Ge.zero,this.width=Ge.width===void 0?void 0:+Ge.width,this.comma=!!Ge.comma,this.precision=Ge.precision===void 0?void 0:+Ge.precision,this.trim=!!Ge.trim,this.type=Ge.type===void 0?"":Ge.type+""}j.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $(Ge){e:for(var Kt=Ge.length,jn=1,Yn=-1,ri;jn<Kt;++jn)switch(Ge[jn]){case".":Yn=ri=jn;break;case"0":Yn===0&&(Yn=jn),ri=jn;break;default:if(!+Ge[jn])break e;Yn>0&&(Yn=0);break}return Yn>0?Ge.slice(0,Yn)+Ge.slice(ri+1):Ge}var L;function q(Ge,Kt){var jn=f(Ge,Kt);if(!jn)return Ge+"";var Yn=jn[0],ri=jn[1],Br=ri-(L=Math.max(-8,Math.min(8,Math.floor(ri/3)))*3)+1,Xr=Yn.length;return Br===Xr?Yn:Br>Xr?Yn+new Array(Br-Xr+1).join("0"):Br>0?Yn.slice(0,Br)+"."+Yn.slice(Br):"0."+new Array(1-Br).join("0")+f(Ge,Math.max(0,Kt+Br-1))[0]}function P(Ge,Kt){var jn=f(Ge,Kt);if(!jn)return Ge+"";var Yn=jn[0],ri=jn[1];return ri<0?"0."+new Array(-ri).join("0")+Yn:Yn.length>ri+1?Yn.slice(0,ri+1)+"."+Yn.slice(ri+1):Yn+new Array(ri-Yn.length+2).join("0")}var W={"%":(Ge,Kt)=>(Ge*100).toFixed(Kt),b:Ge=>Math.round(Ge).toString(2),c:Ge=>Ge+"",d:l,e:(Ge,Kt)=>Ge.toExponential(Kt),f:(Ge,Kt)=>Ge.toFixed(Kt),g:(Ge,Kt)=>Ge.toPrecision(Kt),o:Ge=>Math.round(Ge).toString(8),p:(Ge,Kt)=>P(Ge*100,Kt),r:P,s:q,X:Ge=>Math.round(Ge).toString(16).toUpperCase(),x:Ge=>Math.round(Ge).toString(16)};function oe(Ge){return Ge}var I=Array.prototype.map,J=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function he(Ge){var Kt=Ge.grouping===void 0||Ge.thousands===void 0?oe:_(I.call(Ge.grouping,Number),Ge.thousands+""),jn=Ge.currency===void 0?"":Ge.currency[0]+"",Yn=Ge.currency===void 0?"":Ge.currency[1]+"",ri=Ge.decimal===void 0?".":Ge.decimal+"",Br=Ge.numerals===void 0?oe:b(I.call(Ge.numerals,String)),Xr=Ge.percent===void 0?"%":Ge.percent+"",As=Ge.minus===void 0?"\u2212":Ge.minus+"",fo=Ge.nan===void 0?"NaN":Ge.nan+"";function io(so){so=O(so);var ho=so.fill,hi=so.align,bi=so.sign,Wi=so.symbol,Xo=so.zero,da=so.width,ha=so.comma,po=so.precision,ls=so.trim,ps=so.type;ps==="n"?(ha=!0,ps="g"):W[ps]||(po===void 0&&(po=12),ls=!0,ps="g"),(Xo||ho==="0"&&hi==="=")&&(Xo=!0,ho="0",hi="=");var Zi=Wi==="$"?jn:Wi==="#"&&/[boxX]/.test(ps)?"0"+ps.toLowerCase():"",hu=Wi==="$"?Yn:/[%p]/.test(ps)?Xr:"",Ps=W[ps],ga=/[defgprs%]/.test(ps);po=po===void 0?6:/[gprs]/.test(ps)?Math.max(1,Math.min(21,po)):Math.max(0,Math.min(20,po));function ua(Oi){var Wo=Zi,vs=hu,Ii,Ro,ka;if(ps==="c")vs=Ps(Oi)+vs,Oi="";else{Oi=+Oi;var Xa=Oi<0||1/Oi<0;if(Oi=isNaN(Oi)?fo:Ps(Math.abs(Oi),po),ls&&(Oi=$(Oi)),Xa&&+Oi==0&&bi!=="+"&&(Xa=!1),Wo=(Xa?bi==="("?bi:As:bi==="-"||bi==="("?"":bi)+Wo,vs=(ps==="s"?J[8+L/3]:"")+vs+(Xa&&bi==="("?")":""),ga){for(Ii=-1,Ro=Oi.length;++Ii<Ro;)if(ka=Oi.charCodeAt(Ii),48>ka||ka>57){vs=(ka===46?ri+Oi.slice(Ii+1):Oi.slice(Ii))+vs,Oi=Oi.slice(0,Ii);break}}}ha&&!Xo&&(Oi=Kt(Oi,1/0));var Oo=Wo.length+Oi.length+vs.length,To=Oo<da?new Array(da-Oo+1).join(ho):"";switch(ha&&Xo&&(Oi=Kt(To+Oi,To.length?da-vs.length:1/0),To=""),hi){case"<":Oi=Wo+Oi+vs+To;break;case"=":Oi=Wo+To+Oi+vs;break;case"^":Oi=To.slice(0,Oo=To.length>>1)+Wo+Oi+vs+To.slice(Oo);break;default:Oi=To+Wo+Oi+vs;break}return Br(Oi)}return ua.toString=function(){return so+""},ua}function us(so,ho){var hi=io((so=O(so),so.type="f",so)),bi=Math.max(-8,Math.min(8,Math.floor(p(ho)/3)))*3,Wi=Math.pow(10,-bi),Xo=J[8+bi/3];return function(da){return hi(Wi*da)+Xo}}return{format:io,formatPrefix:us}}var ye,He,at;ct({thousands:",",grouping:[3],currency:["$",""]});function ct(Ge){return ye=he(Ge),He=ye.format,at=ye.formatPrefix,ye}function Ze(Ge){return Math.max(0,-p(Math.abs(Ge)))}function bt(Ge,Kt){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(p(Kt)/3)))*3-p(Math.abs(Ge)))}function Mt(Ge,Kt){return Ge=Math.abs(Ge),Kt=Math.abs(Kt)-Ge,Math.max(0,p(Kt)-p(Ge))+1}function qe(Ge,Kt){return jn=>{let Yn=Ge(jn),ri=Yn.indexOf(Kt);if(ri<0)return Yn;let Br=te(Yn,ri),Xr=Br<Yn.length?Yn.slice(Br):"";for(;--Br>ri;)if(Yn[Br]!=="0"){++Br;break}return Yn.slice(0,Br)+Xr}}function te(Ge,Kt){let jn=Ge.lastIndexOf("e"),Yn;if(jn>0)return jn;for(jn=Ge.length;--jn>Kt;)if(Yn=Ge.charCodeAt(jn),Yn>=48&&Yn<=57)return jn+1}function et(Ge){let Kt=r(Ge.format),jn=Ge.formatPrefix;return{format:Kt,formatPrefix:jn,formatFloat(Yn){let ri=O(Yn||",");if(ri.precision==null){switch(ri.precision=12,ri.type){case"%":ri.precision-=2;break;case"e":ri.precision-=1;break}return qe(Kt(ri),Kt(".1f")(1)[1])}else return Kt(ri)},formatSpan(Yn,ri,Br,Xr){Xr=O(Xr??",f");let As=a(Yn,ri,Br),fo=Math.max(Math.abs(Yn),Math.abs(ri)),io;if(Xr.precision==null)switch(Xr.type){case"s":return isNaN(io=bt(As,fo))||(Xr.precision=io),jn(Xr,fo);case"":case"e":case"g":case"p":case"r":{isNaN(io=Mt(As,fo))||(Xr.precision=io-(Xr.type==="e"));break}case"f":case"%":{isNaN(io=Ze(As))||(Xr.precision=io-(Xr.type==="%")*2);break}}return Kt(Xr)}}}let Ee;ke();function ke(){return Ee=et({format:He,formatPrefix:at})}function Ce(Ge){return et(he(Ge))}function pe(Ge){return arguments.length?Ee=Ce(Ge):Ee}var Je=new Date,lt=new Date;function Ht(Ge,Kt,jn,Yn){function ri(Br){return Ge(Br=arguments.length===0?new Date:new Date(+Br)),Br}return ri.floor=function(Br){return Ge(Br=new Date(+Br)),Br},ri.ceil=function(Br){return Ge(Br=new Date(Br-1)),Kt(Br,1),Ge(Br),Br},ri.round=function(Br){var Xr=ri(Br),As=ri.ceil(Br);return Br-Xr<As-Br?Xr:As},ri.offset=function(Br,Xr){return Kt(Br=new Date(+Br),Xr==null?1:Math.floor(Xr)),Br},ri.range=function(Br,Xr,As){var fo=[],io;if(Br=ri.ceil(Br),As=As==null?1:Math.floor(As),!(Br<Xr)||!(As>0))return fo;do fo.push(io=new Date(+Br)),Kt(Br,As),Ge(Br);while(io<Br&&Br<Xr);return fo},ri.filter=function(Br){return Ht(function(Xr){if(Xr>=Xr)for(;Ge(Xr),!Br(Xr);)Xr.setTime(Xr-1)},function(Xr,As){if(Xr>=Xr)if(As<0)for(;++As<=0;)for(;Kt(Xr,-1),!Br(Xr););else for(;--As>=0;)for(;Kt(Xr,1),!Br(Xr););})},jn&&(ri.count=function(Br,Xr){return Je.setTime(+Br),lt.setTime(+Xr),Ge(Je),Ge(lt),Math.floor(jn(Je,lt))},ri.every=function(Br){return Br=Math.floor(Br),!isFinite(Br)||!(Br>0)?null:Br>1?ri.filter(Yn?function(Xr){return Yn(Xr)%Br===0}:function(Xr){return ri.count(0,Xr)%Br===0}):ri}),ri}let mn=1e3*60,Bt=mn*60*24,tn=Bt*7;var Et=Ht(Ge=>Ge.setHours(0,0,0,0),(Ge,Kt)=>Ge.setDate(Ge.getDate()+Kt),(Ge,Kt)=>(Kt-Ge-(Kt.getTimezoneOffset()-Ge.getTimezoneOffset())*mn)/Bt,Ge=>Ge.getDate()-1),ve=Et;function Le(Ge){return Ht(function(Kt){Kt.setDate(Kt.getDate()-(Kt.getDay()+7-Ge)%7),Kt.setHours(0,0,0,0)},function(Kt,jn){Kt.setDate(Kt.getDate()+jn*7)},function(Kt,jn){return(jn-Kt-(jn.getTimezoneOffset()-Kt.getTimezoneOffset())*mn)/tn})}var _e=Le(0),ce=Le(1);Le(2),Le(3);var tt=Le(4);Le(5),Le(6);var Ke=Ht(function(Ge){Ge.setMonth(0,1),Ge.setHours(0,0,0,0)},function(Ge,Kt){Ge.setFullYear(Ge.getFullYear()+Kt)},function(Ge,Kt){return Kt.getFullYear()-Ge.getFullYear()},function(Ge){return Ge.getFullYear()});Ke.every=function(Ge){return!isFinite(Ge=Math.floor(Ge))||!(Ge>0)?null:Ht(function(Kt){Kt.setFullYear(Math.floor(Kt.getFullYear()/Ge)*Ge),Kt.setMonth(0,1),Kt.setHours(0,0,0,0)},function(Kt,jn){Kt.setFullYear(Kt.getFullYear()+jn*Ge)})};var re=Ke,Re=Ht(function(Ge){Ge.setUTCHours(0,0,0,0)},function(Ge,Kt){Ge.setUTCDate(Ge.getUTCDate()+Kt)},function(Ge,Kt){return(Kt-Ge)/Bt},function(Ge){return Ge.getUTCDate()-1}),nt=Re;function ft(Ge){return Ht(function(Kt){Kt.setUTCDate(Kt.getUTCDate()-(Kt.getUTCDay()+7-Ge)%7),Kt.setUTCHours(0,0,0,0)},function(Kt,jn){Kt.setUTCDate(Kt.getUTCDate()+jn*7)},function(Kt,jn){return(jn-Kt)/tn})}var Rt=ft(0),Yt=ft(1);ft(2),ft(3);var Gt=ft(4);ft(5),ft(6);var fn=Ht(function(Ge){Ge.setUTCMonth(0,1),Ge.setUTCHours(0,0,0,0)},function(Ge,Kt){Ge.setUTCFullYear(Ge.getUTCFullYear()+Kt)},function(Ge,Kt){return Kt.getUTCFullYear()-Ge.getUTCFullYear()},function(Ge){return Ge.getUTCFullYear()});fn.every=function(Ge){return!isFinite(Ge=Math.floor(Ge))||!(Ge>0)?null:Ht(function(Kt){Kt.setUTCFullYear(Math.floor(Kt.getUTCFullYear()/Ge)*Ge),Kt.setUTCMonth(0,1),Kt.setUTCHours(0,0,0,0)},function(Kt,jn){Kt.setUTCFullYear(Kt.getUTCFullYear()+jn*Ge)})};var gn=fn;function yn(Ge){if(0<=Ge.y&&Ge.y<100){var Kt=new Date(-1,Ge.m,Ge.d,Ge.H,Ge.M,Ge.S,Ge.L);return Kt.setFullYear(Ge.y),Kt}return new Date(Ge.y,Ge.m,Ge.d,Ge.H,Ge.M,Ge.S,Ge.L)}function Lt(Ge){if(0<=Ge.y&&Ge.y<100){var Kt=new Date(Date.UTC(-1,Ge.m,Ge.d,Ge.H,Ge.M,Ge.S,Ge.L));return Kt.setUTCFullYear(Ge.y),Kt}return new Date(Date.UTC(Ge.y,Ge.m,Ge.d,Ge.H,Ge.M,Ge.S,Ge.L))}function un(Ge,Kt,jn){return{y:Ge,m:Kt,d:jn,H:0,M:0,S:0,L:0}}function Pn(Ge){var Kt=Ge.dateTime,jn=Ge.date,Yn=Ge.time,ri=Ge.periods,Br=Ge.days,Xr=Ge.shortDays,As=Ge.months,fo=Ge.shortMonths,io=mt(ri),us=xt(ri),so=mt(Br),ho=xt(Br),hi=mt(Xr),bi=xt(Xr),Wi=mt(As),Xo=xt(As),da=mt(fo),ha=xt(fo),po={a:Xa,A:Oo,b:To,B:$a,c:null,d:St,e:St,f:st,g:V,G:xe,H:Ot,I:ne,j:we,L:We,m:Ut,M:sn,p:pu,q:za,Q:Mr,s:xi,S:wn,u:bn,U:vn,V:Oe,w:$e,W:Ft,x:null,X:null,y:N,Y:be,Z:K,"%":yr},ls={a:la,A:ca,b:vl,B:Vl,c:null,d:ue,e:ue,f:dn,g:Un,G:Jr,H:fe,I:Qe,j:It,L:At,m:C,M:B,p:ra,q:el,Q:Mr,s:xi,S:ee,u:Se,U:ht,V:Zt,w:Xt,W:xn,x:null,X:null,y:qn,Y:Vn,Z:Wr,"%":yr},ps={a:ua,A:Oi,b:Wo,B:vs,c:Ii,d:Be,e:Be,f:ie,g:rr,G:Nn,H:Dt,I:Dt,j:rt,L:dt,m:ae,M:hn,p:ga,q:vt,Q:Ue,s:gt,S:an,u:Qt,U:Fn,V:Wn,w:rn,W:Zn,x:Ro,X:ka,y:rr,Y:Nn,Z:Ye,"%":Te};po.x=Zi(jn,po),po.X=Zi(Yn,po),po.c=Zi(Kt,po),ls.x=Zi(jn,ls),ls.X=Zi(Yn,ls),ls.c=Zi(Kt,ls);function Zi(ui,rs){return function(cs){var xr=[],is=-1,Ie=0,yt=ui.length,Jt,$t,pn;for(cs instanceof Date||(cs=new Date(+cs));++is<yt;)ui.charCodeAt(is)===37&&(xr.push(ui.slice(Ie,is)),($t=nr[Jt=ui.charAt(++is)])!=null?Jt=ui.charAt(++is):$t=Jt==="e"?" ":"0",(pn=rs[Jt])&&(Jt=pn(cs,$t)),xr.push(Jt),Ie=is+1);return xr.push(ui.slice(Ie,is)),xr.join("")}}function hu(ui,rs){return function(cs){var xr=un(1900,void 0,1),is=Ps(xr,ui,cs+="",0),Ie,yt;if(is!=cs.length)return null;if("Q"in xr)return new Date(xr.Q);if("s"in xr)return new Date(xr.s*1e3+("L"in xr?xr.L:0));if(rs&&!("Z"in xr)&&(xr.Z=0),"p"in xr&&(xr.H=xr.H%12+xr.p*12),xr.m===void 0&&(xr.m="q"in xr?xr.q:0),"V"in xr){if(xr.V<1||xr.V>53)return null;"w"in xr||(xr.w=1),"Z"in xr?(Ie=Lt(un(xr.y,0,1)),yt=Ie.getUTCDay(),Ie=yt>4||yt===0?Yt.ceil(Ie):Yt(Ie),Ie=nt.offset(Ie,(xr.V-1)*7),xr.y=Ie.getUTCFullYear(),xr.m=Ie.getUTCMonth(),xr.d=Ie.getUTCDate()+(xr.w+6)%7):(Ie=yn(un(xr.y,0,1)),yt=Ie.getDay(),Ie=yt>4||yt===0?ce.ceil(Ie):ce(Ie),Ie=ve.offset(Ie,(xr.V-1)*7),xr.y=Ie.getFullYear(),xr.m=Ie.getMonth(),xr.d=Ie.getDate()+(xr.w+6)%7)}else("W"in xr||"U"in xr)&&("w"in xr||(xr.w="u"in xr?xr.u%7:"W"in xr?1:0),yt="Z"in xr?Lt(un(xr.y,0,1)).getUTCDay():yn(un(xr.y,0,1)).getDay(),xr.m=0,xr.d="W"in xr?(xr.w+6)%7+xr.W*7-(yt+5)%7:xr.w+xr.U*7-(yt+6)%7);return"Z"in xr?(xr.H+=xr.Z/100|0,xr.M+=xr.Z%100,Lt(xr)):yn(xr)}}function Ps(ui,rs,cs,xr){for(var is=0,Ie=rs.length,yt=cs.length,Jt,$t;is<Ie;){if(xr>=yt)return-1;if(Jt=rs.charCodeAt(is++),Jt===37){if(Jt=rs.charAt(is++),$t=ps[Jt in nr?rs.charAt(is++):Jt],!$t||(xr=$t(ui,cs,xr))<0)return-1}else if(Jt!=cs.charCodeAt(xr++))return-1}return xr}function ga(ui,rs,cs){var xr=io.exec(rs.slice(cs));return xr?(ui.p=us.get(xr[0].toLowerCase()),cs+xr[0].length):-1}function ua(ui,rs,cs){var xr=hi.exec(rs.slice(cs));return xr?(ui.w=bi.get(xr[0].toLowerCase()),cs+xr[0].length):-1}function Oi(ui,rs,cs){var xr=so.exec(rs.slice(cs));return xr?(ui.w=ho.get(xr[0].toLowerCase()),cs+xr[0].length):-1}function Wo(ui,rs,cs){var xr=da.exec(rs.slice(cs));return xr?(ui.m=ha.get(xr[0].toLowerCase()),cs+xr[0].length):-1}function vs(ui,rs,cs){var xr=Wi.exec(rs.slice(cs));return xr?(ui.m=Xo.get(xr[0].toLowerCase()),cs+xr[0].length):-1}function Ii(ui,rs,cs){return Ps(ui,Kt,rs,cs)}function Ro(ui,rs,cs){return Ps(ui,jn,rs,cs)}function ka(ui,rs,cs){return Ps(ui,Yn,rs,cs)}function Xa(ui){return Xr[ui.getDay()]}function Oo(ui){return Br[ui.getDay()]}function To(ui){return fo[ui.getMonth()]}function $a(ui){return As[ui.getMonth()]}function pu(ui){return ri[+(ui.getHours()>=12)]}function za(ui){return 1+~~(ui.getMonth()/3)}function la(ui){return Xr[ui.getUTCDay()]}function ca(ui){return Br[ui.getUTCDay()]}function vl(ui){return fo[ui.getUTCMonth()]}function Vl(ui){return As[ui.getUTCMonth()]}function ra(ui){return ri[+(ui.getUTCHours()>=12)]}function el(ui){return 1+~~(ui.getUTCMonth()/3)}return{format:function(ui){var rs=Zi(ui+="",po);return rs.toString=function(){return ui},rs},parse:function(ui){var rs=hu(ui+="",!1);return rs.toString=function(){return ui},rs},utcFormat:function(ui){var rs=Zi(ui+="",ls);return rs.toString=function(){return ui},rs},utcParse:function(ui){var rs=hu(ui+="",!0);return rs.toString=function(){return ui},rs}}}var nr={"-":"",_:" ","0":"0"},On=/^\s*\d+/,Ne=/^%/,ze=/[\\^$*+?|[\]().{}]/g;function De(Ge,Kt,jn){var Yn=Ge<0?"-":"",ri=(Yn?-Ge:Ge)+"",Br=ri.length;return Yn+(Br<jn?new Array(jn-Br+1).join(Kt)+ri:ri)}function Pt(Ge){return Ge.replace(ze,"\\$&")}function mt(Ge){return new RegExp("^(?:"+Ge.map(Pt).join("|")+")","i")}function xt(Ge){return new Map(Ge.map((Kt,jn)=>[Kt.toLowerCase(),jn]))}function rn(Ge,Kt,jn){var Yn=On.exec(Kt.slice(jn,jn+1));return Yn?(Ge.w=+Yn[0],jn+Yn[0].length):-1}function Qt(Ge,Kt,jn){var Yn=On.exec(Kt.slice(jn,jn+1));return Yn?(Ge.u=+Yn[0],jn+Yn[0].length):-1}function Fn(Ge,Kt,jn){var Yn=On.exec(Kt.slice(jn,jn+2));return Yn?(Ge.U=+Yn[0],jn+Yn[0].length):-1}function Wn(Ge,Kt,jn){var Yn=On.exec(Kt.slice(jn,jn+2));return Yn?(Ge.V=+Yn[0],jn+Yn[0].length):-1}function Zn(Ge,Kt,jn){var Yn=On.exec(Kt.slice(jn,jn+2));return Yn?(Ge.W=+Yn[0],jn+Yn[0].length):-1}function Nn(Ge,Kt,jn){var Yn=On.exec(Kt.slice(jn,jn+4));return Yn?(Ge.y=+Yn[0],jn+Yn[0].length):-1}function rr(Ge,Kt,jn){var Yn=On.exec(Kt.slice(jn,jn+2));return Yn?(Ge.y=+Yn[0]+(+Yn[0]>68?1900:2e3),jn+Yn[0].length):-1}function Ye(Ge,Kt,jn){var Yn=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Kt.slice(jn,jn+6));return Yn?(Ge.Z=Yn[1]?0:-(Yn[2]+(Yn[3]||"00")),jn+Yn[0].length):-1}function vt(Ge,Kt,jn){var Yn=On.exec(Kt.slice(jn,jn+1));return Yn?(Ge.q=Yn[0]*3-3,jn+Yn[0].length):-1}function ae(Ge,Kt,jn){var Yn=On.exec(Kt.slice(jn,jn+2));return Yn?(Ge.m=Yn[0]-1,jn+Yn[0].length):-1}function Be(Ge,Kt,jn){var Yn=On.exec(Kt.slice(jn,jn+2));return Yn?(Ge.d=+Yn[0],jn+Yn[0].length):-1}function rt(Ge,Kt,jn){var Yn=On.exec(Kt.slice(jn,jn+3));return Yn?(Ge.m=0,Ge.d=+Yn[0],jn+Yn[0].length):-1}function Dt(Ge,Kt,jn){var Yn=On.exec(Kt.slice(jn,jn+2));return Yn?(Ge.H=+Yn[0],jn+Yn[0].length):-1}function hn(Ge,Kt,jn){var Yn=On.exec(Kt.slice(jn,jn+2));return Yn?(Ge.M=+Yn[0],jn+Yn[0].length):-1}function an(Ge,Kt,jn){var Yn=On.exec(Kt.slice(jn,jn+2));return Yn?(Ge.S=+Yn[0],jn+Yn[0].length):-1}function dt(Ge,Kt,jn){var Yn=On.exec(Kt.slice(jn,jn+3));return Yn?(Ge.L=+Yn[0],jn+Yn[0].length):-1}function ie(Ge,Kt,jn){var Yn=On.exec(Kt.slice(jn,jn+6));return Yn?(Ge.L=Math.floor(Yn[0]/1e3),jn+Yn[0].length):-1}function Te(Ge,Kt,jn){var Yn=Ne.exec(Kt.slice(jn,jn+1));return Yn?jn+Yn[0].length:-1}function Ue(Ge,Kt,jn){var Yn=On.exec(Kt.slice(jn));return Yn?(Ge.Q=+Yn[0],jn+Yn[0].length):-1}function gt(Ge,Kt,jn){var Yn=On.exec(Kt.slice(jn));return Yn?(Ge.s=+Yn[0],jn+Yn[0].length):-1}function St(Ge,Kt){return De(Ge.getDate(),Kt,2)}function Ot(Ge,Kt){return De(Ge.getHours(),Kt,2)}function ne(Ge,Kt){return De(Ge.getHours()%12||12,Kt,2)}function we(Ge,Kt){return De(1+ve.count(re(Ge),Ge),Kt,3)}function We(Ge,Kt){return De(Ge.getMilliseconds(),Kt,3)}function st(Ge,Kt){return We(Ge,Kt)+"000"}function Ut(Ge,Kt){return De(Ge.getMonth()+1,Kt,2)}function sn(Ge,Kt){return De(Ge.getMinutes(),Kt,2)}function wn(Ge,Kt){return De(Ge.getSeconds(),Kt,2)}function bn(Ge){var Kt=Ge.getDay();return Kt===0?7:Kt}function vn(Ge,Kt){return De(_e.count(re(Ge)-1,Ge),Kt,2)}function zn(Ge){var Kt=Ge.getDay();return Kt>=4||Kt===0?tt(Ge):tt.ceil(Ge)}function Oe(Ge,Kt){return Ge=zn(Ge),De(tt.count(re(Ge),Ge)+(re(Ge).getDay()===4),Kt,2)}function $e(Ge){return Ge.getDay()}function Ft(Ge,Kt){return De(ce.count(re(Ge)-1,Ge),Kt,2)}function N(Ge,Kt){return De(Ge.getFullYear()%100,Kt,2)}function V(Ge,Kt){return Ge=zn(Ge),De(Ge.getFullYear()%100,Kt,2)}function be(Ge,Kt){return De(Ge.getFullYear()%1e4,Kt,4)}function xe(Ge,Kt){var jn=Ge.getDay();return Ge=jn>=4||jn===0?tt(Ge):tt.ceil(Ge),De(Ge.getFullYear()%1e4,Kt,4)}function K(Ge){var Kt=Ge.getTimezoneOffset();return(Kt>0?"-":(Kt*=-1,"+"))+De(Kt/60|0,"0",2)+De(Kt%60,"0",2)}function ue(Ge,Kt){return De(Ge.getUTCDate(),Kt,2)}function fe(Ge,Kt){return De(Ge.getUTCHours(),Kt,2)}function Qe(Ge,Kt){return De(Ge.getUTCHours()%12||12,Kt,2)}function It(Ge,Kt){return De(1+nt.count(gn(Ge),Ge),Kt,3)}function At(Ge,Kt){return De(Ge.getUTCMilliseconds(),Kt,3)}function dn(Ge,Kt){return At(Ge,Kt)+"000"}function C(Ge,Kt){return De(Ge.getUTCMonth()+1,Kt,2)}function B(Ge,Kt){return De(Ge.getUTCMinutes(),Kt,2)}function ee(Ge,Kt){return De(Ge.getUTCSeconds(),Kt,2)}function Se(Ge){var Kt=Ge.getUTCDay();return Kt===0?7:Kt}function ht(Ge,Kt){return De(Rt.count(gn(Ge)-1,Ge),Kt,2)}function Tt(Ge){var Kt=Ge.getUTCDay();return Kt>=4||Kt===0?Gt(Ge):Gt.ceil(Ge)}function Zt(Ge,Kt){return Ge=Tt(Ge),De(Gt.count(gn(Ge),Ge)+(gn(Ge).getUTCDay()===4),Kt,2)}function Xt(Ge){return Ge.getUTCDay()}function xn(Ge,Kt){return De(Yt.count(gn(Ge)-1,Ge),Kt,2)}function qn(Ge,Kt){return De(Ge.getUTCFullYear()%100,Kt,2)}function Un(Ge,Kt){return Ge=Tt(Ge),De(Ge.getUTCFullYear()%100,Kt,2)}function Vn(Ge,Kt){return De(Ge.getUTCFullYear()%1e4,Kt,4)}function Jr(Ge,Kt){var jn=Ge.getUTCDay();return Ge=jn>=4||jn===0?Gt(Ge):Gt.ceil(Ge),De(Ge.getUTCFullYear()%1e4,Kt,4)}function Wr(){return"+0000"}function yr(){return"%"}function Mr(Ge){return+Ge}function xi(Ge){return Math.floor(+Ge/1e3)}var ai,Xi,Cs,ts,Aa;xa({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xa(Ge){return ai=Pn(Ge),Xi=ai.format,Cs=ai.parse,ts=ai.utcFormat,Aa=ai.utcParse,ai}function yl(Ge,Kt,jn){jn=jn||{},t.isObject(jn)||t.error(`Invalid time multi-format specifier: ${jn}`);let Yn=Kt(e.SECONDS),ri=Kt(e.MINUTES),Br=Kt(e.HOURS),Xr=Kt(e.DATE),As=Kt(e.WEEK),fo=Kt(e.MONTH),io=Kt(e.QUARTER),us=Kt(e.YEAR),so=Ge(jn[e.MILLISECONDS]||".%L"),ho=Ge(jn[e.SECONDS]||":%S"),hi=Ge(jn[e.MINUTES]||"%I:%M"),bi=Ge(jn[e.HOURS]||"%I %p"),Wi=Ge(jn[e.DATE]||jn[e.DAY]||"%a %d"),Xo=Ge(jn[e.WEEK]||"%b %d"),da=Ge(jn[e.MONTH]||"%B"),ha=Ge(jn[e.QUARTER]||"%B"),po=Ge(jn[e.YEAR]||"%Y");return ls=>(Yn(ls)<ls?so:ri(ls)<ls?ho:Br(ls)<ls?hi:Xr(ls)<ls?bi:fo(ls)<ls?As(ls)<ls?Wi:Xo:us(ls)<ls?io(ls)<ls?da:ha:po)(ls)}function Lc(Ge){let Kt=r(Ge.format),jn=r(Ge.utcFormat);return{timeFormat:Yn=>t.isString(Yn)?Kt(Yn):yl(Kt,e.timeInterval,Yn),utcFormat:Yn=>t.isString(Yn)?jn(Yn):yl(jn,e.utcInterval,Yn),timeParse:r(Ge.parse),utcParse:r(Ge.utcParse)}}let fu;du();function du(){return fu=Lc({format:Xi,parse:Cs,utcFormat:ts,utcParse:Aa})}function Xu(Ge){return Lc(Pn(Ge))}function Du(Ge){return arguments.length?fu=Xu(Ge):fu}let kc=(Ge,Kt)=>t.extend({},Ge,Kt);function na(Ge,Kt){let jn=Ge?Ce(Ge):pe(),Yn=Kt?Xu(Kt):Du();return kc(jn,Yn)}function Zu(Ge,Kt){let jn=arguments.length;return jn&&jn!==2&&t.error("defaultLocale expects either zero or two arguments."),jn?kc(pe(Ge),Du(Kt)):kc(pe(),Du())}function rf(){return ke(),du(),Zu()}n.defaultLocale=Zu,n.locale=na,n.numberFormatDefaultLocale=pe,n.numberFormatLocale=Ce,n.resetDefaultLocale=rf,n.resetNumberFormatDefaultLocale=ke,n.resetTimeFormatDefaultLocale=du,n.timeFormatDefaultLocale=Du,n.timeFormatLocale=Xu,Object.defineProperty(n,"__esModule",{value:!0})})});var uV=Ae((aV,jDe)=>{m();(function(n,e){typeof aV=="object"&&typeof jDe!="undefined"?e(aV,Tu(),MDe(),vN()):typeof define=="function"&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.topojson,n.vega))})(aV,function(n,e,t,r){"use strict";let i=/^(data:|([A-Za-z]+:)?\/\/)/,s=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,o=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,a="file://";function l(_e,ce){return tt=>({options:tt||{},sanitize:p,load:f,fileAccess:!!ce,file:_(ce),http:R(_e)})}async function f(_e,ce){let tt=await this.sanitize(_e,ce),Ke=tt.href;return tt.localFile?this.file(Ke):this.http(Ke,ce)}async function p(_e,ce){ce=e.extend({},this.options,ce);let tt=this.fileAccess,Ke={href:null},re,Re,nt,ft=s.test(_e.replace(o,""));(_e==null||typeof _e!="string"||!ft)&&e.error("Sanitize failure, invalid URI: "+e.stringValue(_e));let Rt=i.test(_e);return(nt=ce.baseURL)&&!Rt&&(!_e.startsWith("/")&&!nt.endsWith("/")&&(_e="/"+_e),_e=nt+_e),Re=(re=_e.startsWith(a))||ce.mode==="file"||ce.mode!=="http"&&!Rt&&tt,re?_e=_e.slice(a.length):_e.startsWith("//")&&(ce.defaultProtocol==="file"?(_e=_e.slice(2),Re=!0):_e=(ce.defaultProtocol||"http")+":"+_e),Object.defineProperty(Ke,"localFile",{value:!!Re}),Ke.href=_e,ce.target&&(Ke.target=ce.target+""),ce.rel&&(Ke.rel=ce.rel+""),ce.context==="image"&&ce.crossOrigin&&(Ke.crossOrigin=ce.crossOrigin+""),Ke}function _(_e){return _e?ce=>new Promise((tt,Ke)=>{_e.readFile(ce,(re,Re)=>{re?Ke(re):tt(Re)})}):b}async function b(){e.error("No file system access.")}function R(_e){return _e?async function(ce,tt){let Ke=e.extend({},this.options.http,tt),re=tt&&tt.response,Re=await _e(ce,Ke);return Re.ok?e.isFunction(Re[re])?Re[re]():Re.text():e.error(Re.status+""+Re.statusText)}:O}async function O(){e.error("No HTTP fetch method available.")}let j=_e=>_e!=null&&_e===_e,$=_e=>_e==="true"||_e==="false"||_e===!0||_e===!1,L=_e=>!Number.isNaN(Date.parse(_e)),q=_e=>!Number.isNaN(+_e)&&!(_e instanceof Date),P=_e=>q(_e)&&Number.isInteger(+_e),W={boolean:e.toBoolean,integer:e.toNumber,number:e.toNumber,date:e.toDate,string:e.toString,unknown:e.identity},oe=[$,P,q,L],I=["boolean","integer","number","date"];function J(_e,ce){if(!_e||!_e.length)return"unknown";let tt=_e.length,Ke=oe.length,re=oe.map((Re,nt)=>nt+1);for(let Re=0,nt=0,ft,Rt;Re<tt;++Re)for(Rt=ce?_e[Re][ce]:_e[Re],ft=0;ft<Ke;++ft)if(re[ft]&&j(Rt)&&!oe[ft](Rt)&&(re[ft]=0,++nt,nt===oe.length))return"string";return I[re.reduce((Re,nt)=>Re===0?nt:Re,0)-1]}function he(_e,ce){return ce.reduce((tt,Ke)=>(tt[Ke]=J(_e,Ke),tt),{})}var ye={},He={},at=34,ct=10,Ze=13;function bt(_e){return new Function("d","return {"+_e.map(function(ce,tt){return JSON.stringify(ce)+": d["+tt+'] || ""'}).join(",")+"}")}function Mt(_e,ce){var tt=bt(_e);return function(Ke,re){return ce(tt(Ke),re,_e)}}function qe(_e){var ce=Object.create(null),tt=[];return _e.forEach(function(Ke){for(var re in Ke)re in ce||tt.push(ce[re]=re)}),tt}function te(_e,ce){var tt=_e+"",Ke=tt.length;return Ke<ce?new Array(ce-Ke+1).join(0)+tt:tt}function et(_e){return _e<0?"-"+te(-_e,6):_e>9999?"+"+te(_e,6):te(_e,4)}function Ee(_e){var ce=_e.getUTCHours(),tt=_e.getUTCMinutes(),Ke=_e.getUTCSeconds(),re=_e.getUTCMilliseconds();return isNaN(_e)?"Invalid Date":et(_e.getUTCFullYear())+"-"+te(_e.getUTCMonth()+1,2)+"-"+te(_e.getUTCDate(),2)+(re?"T"+te(ce,2)+":"+te(tt,2)+":"+te(Ke,2)+"."+te(re,3)+"Z":Ke?"T"+te(ce,2)+":"+te(tt,2)+":"+te(Ke,2)+"Z":tt||ce?"T"+te(ce,2)+":"+te(tt,2)+"Z":"")}function ke(_e){var ce=new RegExp('["'+_e+`
\r]`),tt=_e.charCodeAt(0);function Ke(fn,gn){var yn,Lt,un=re(fn,function(Pn,nr){if(yn)return yn(Pn,nr-1);Lt=Pn,yn=gn?Mt(Pn,gn):bt(Pn)});return un.columns=Lt||[],un}function re(fn,gn){var yn=[],Lt=fn.length,un=0,Pn=0,nr,On=Lt<=0,Ne=!1;fn.charCodeAt(Lt-1)===ct&&--Lt,fn.charCodeAt(Lt-1)===Ze&&--Lt;function ze(){if(On)return He;if(Ne)return Ne=!1,ye;var Pt,mt=un,xt;if(fn.charCodeAt(mt)===at){for(;un++<Lt&&fn.charCodeAt(un)!==at||fn.charCodeAt(++un)===at;);return(Pt=un)>=Lt?On=!0:(xt=fn.charCodeAt(un++))===ct?Ne=!0:xt===Ze&&(Ne=!0,fn.charCodeAt(un)===ct&&++un),fn.slice(mt+1,Pt-1).replace(/""/g,'"')}for(;un<Lt;){if((xt=fn.charCodeAt(Pt=un++))===ct)Ne=!0;else if(xt===Ze)Ne=!0,fn.charCodeAt(un)===ct&&++un;else if(xt!==tt)continue;return fn.slice(mt,Pt)}return On=!0,fn.slice(mt,Lt)}for(;(nr=ze())!==He;){for(var De=[];nr!==ye&&nr!==He;)De.push(nr),nr=ze();gn&&(De=gn(De,Pn++))==null||yn.push(De)}return yn}function Re(fn,gn){return fn.map(function(yn){return gn.map(function(Lt){return Gt(yn[Lt])}).join(_e)})}function nt(fn,gn){return gn==null&&(gn=qe(fn)),[gn.map(Gt).join(_e)].concat(Re(fn,gn)).join(`
`)}function ft(fn,gn){return gn==null&&(gn=qe(fn)),Re(fn,gn).join(`
`)}function Rt(fn){return fn.map(Yt).join(`
`)}function Yt(fn){return fn.map(Gt).join(_e)}function Gt(fn){return fn==null?"":fn instanceof Date?Ee(fn):ce.test(fn+="")?'"'+fn.replace(/"/g,'""')+'"':fn}return{parse:Ke,parseRows:re,format:nt,formatBody:ft,formatRows:Rt,formatRow:Yt,formatValue:Gt}}function Ce(_e){let ce=function(tt,Ke){let re={delimiter:_e};return pe(tt,Ke?e.extend(Ke,re):re)};return ce.responseType="text",ce}function pe(_e,ce){return ce.header&&(_e=ce.header.map(e.stringValue).join(ce.delimiter)+`
`+_e),ke(ce.delimiter).parse(_e+"")}pe.responseType="text";function Je(_e){return typeof Buffer=="function"&&e.isFunction(Buffer.isBuffer)?Buffer.isBuffer(_e):!1}function lt(_e,ce){let tt=ce&&ce.property?e.field(ce.property):e.identity;return e.isObject(_e)&&!Je(_e)?Ht(tt(_e),ce):tt(JSON.parse(_e))}lt.responseType="json";function Ht(_e,ce){return!e.isArray(_e)&&e.isIterable(_e)&&(_e=[..._e]),ce&&ce.copy?JSON.parse(JSON.stringify(_e)):_e}let wt={interior:(_e,ce)=>_e!==ce,exterior:(_e,ce)=>_e===ce};function mn(_e,ce){let tt,Ke,re,Re;return _e=lt(_e,ce),ce&&ce.feature?(tt=t.feature,re=ce.feature):ce&&ce.mesh?(tt=t.mesh,re=ce.mesh,Re=wt[ce.filter]):e.error("Missing TopoJSON feature or mesh parameter."),Ke=(Ke=_e.objects[re])?tt(_e,Ke,Re):e.error("Invalid TopoJSON object: "+re),Ke&&Ke.features||[Ke]}mn.responseType="json";let kt={dsv:pe,csv:Ce(","),tsv:Ce("	"),json:lt,topojson:mn};function Bt(_e,ce){return arguments.length>1?(kt[_e]=ce,this):e.hasOwnProperty(kt,_e)?kt[_e]:null}function tn(_e){let ce=Bt(_e);return ce&&ce.responseType||"text"}function Et(_e,ce,tt,Ke){ce=ce||{};let re=Bt(ce.type||"json");return re||e.error("Unknown data format type: "+ce.type),_e=re(_e,ce),ce.parse&&ve(_e,ce.parse,tt,Ke),e.hasOwnProperty(_e,"columns")&&delete _e.columns,_e}function ve(_e,ce,tt,Ke){if(!_e.length)return;let re=r.timeFormatDefaultLocale();tt=tt||re.timeParse,Ke=Ke||re.utcParse;let Re=_e.columns||Object.keys(_e[0]),nt,ft,Rt,Yt,Gt,fn;ce==="auto"&&(ce=he(_e,Re)),Re=Object.keys(ce);let gn=Re.map(yn=>{let Lt=ce[yn],un,Pn;if(Lt&&(Lt.startsWith("date:")||Lt.startsWith("utc:")))return un=Lt.split(/:(.+)?/,2),Pn=un[1],(Pn[0]==="'"&&Pn[Pn.length-1]==="'"||Pn[0]==='"'&&Pn[Pn.length-1]==='"')&&(Pn=Pn.slice(1,-1)),(un[0]==="utc"?Ke:tt)(Pn);if(!W[Lt])throw Error("Illegal format pattern: "+yn+":"+Lt);return W[Lt]});for(Rt=0,Gt=_e.length,fn=Re.length;Rt<Gt;++Rt)for(nt=_e[Rt],Yt=0;Yt<fn;++Yt)ft=Re[Yt],nt[ft]=gn[Yt](nt[ft])}let Le=l(typeof fetch!="undefined"&&fetch,null);n.format=kt,n.formats=Bt,n.inferType=J,n.inferTypes=he,n.loader=Le,n.read=Et,n.responseType=tn,n.typeParsers=W,Object.defineProperty(n,"__esModule",{value:!0})})});var o0=Ae((lV,qDe)=>{m();(function(n,e){typeof lV=="object"&&typeof qDe!="undefined"?e(lV,Tu(),uV(),vN()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega))})(lV,function(n,e,t,r){"use strict";function i(Ye){let vt=Ye||e.identity,ae=[],Be={};return ae.add=rt=>{let Dt=vt(rt);return Be[Dt]||(Be[Dt]=1,ae.push(rt)),ae},ae.remove=rt=>{let Dt=vt(rt);if(Be[Dt]){Be[Dt]=0;let hn=ae.indexOf(rt);hn>=0&&ae.splice(hn,1)}return ae},ae}async function s(Ye,vt){try{await vt(Ye)}catch(ae){Ye.error(ae)}}let o=Symbol("vega_id"),a=1;function l(Ye){return!!(Ye&&f(Ye))}function f(Ye){return Ye[o]}function p(Ye,vt){return Ye[o]=vt,Ye}function _(Ye){let vt=Ye===Object(Ye)?Ye:{data:Ye};return f(vt)?vt:p(vt,a++)}function b(Ye){return R(Ye,_({}))}function R(Ye,vt){for(let ae in Ye)vt[ae]=Ye[ae];return vt}function O(Ye,vt){return p(vt,f(Ye))}function j(Ye,vt){return Ye?vt?(ae,Be)=>Ye(ae,Be)||f(vt(ae))-f(vt(Be)):(ae,Be)=>Ye(ae,Be)||f(ae)-f(Be):null}function $(Ye){return Ye&&Ye.constructor===L}function L(){let Ye=[],vt=[],ae=[],Be=[],rt=[],Dt=null,hn=!1;return{constructor:L,insert(an){let dt=e.array(an),ie=dt.length;for(let Te=0;Te<ie;++Te)Ye.push(dt[Te]);return this},remove(an){let dt=e.isFunction(an)?Be:vt,ie=e.array(an),Te=ie.length;for(let Ue=0;Ue<Te;++Ue)dt.push(ie[Ue]);return this},modify(an,dt,ie){let Te={field:dt,value:e.constant(ie)};return e.isFunction(an)?(Te.filter=an,rt.push(Te)):(Te.tuple=an,ae.push(Te)),this},encode(an,dt){return e.isFunction(an)?rt.push({filter:an,field:dt}):ae.push({tuple:an,field:dt}),this},clean(an){return Dt=an,this},reflow(){return hn=!0,this},pulse(an,dt){let ie={},Te={},Ue,gt,St,Ot,ne,we;for(Ue=0,gt=dt.length;Ue<gt;++Ue)ie[f(dt[Ue])]=1;for(Ue=0,gt=vt.length;Ue<gt;++Ue)ne=vt[Ue],ie[f(ne)]=-1;for(Ue=0,gt=Be.length;Ue<gt;++Ue)Ot=Be[Ue],dt.forEach(st=>{Ot(st)&&(ie[f(st)]=-1)});for(Ue=0,gt=Ye.length;Ue<gt;++Ue)ne=Ye[Ue],we=f(ne),ie[we]?ie[we]=1:an.add.push(_(Ye[Ue]));for(Ue=0,gt=dt.length;Ue<gt;++Ue)ne=dt[Ue],ie[f(ne)]<0&&an.rem.push(ne);function We(st,Ut,sn){sn?st[Ut]=sn(st):an.encode=Ut,hn||(Te[f(st)]=st)}for(Ue=0,gt=ae.length;Ue<gt;++Ue)St=ae[Ue],ne=St.tuple,Ot=St.field,we=ie[f(ne)],we>0&&(We(ne,Ot,St.value),an.modifies(Ot));for(Ue=0,gt=rt.length;Ue<gt;++Ue)St=rt[Ue],Ot=St.filter,dt.forEach(st=>{Ot(st)&&ie[f(st)]>0&&We(st,St.field,St.value)}),an.modifies(St.field);if(hn)an.mod=vt.length||Be.length?dt.filter(st=>ie[f(st)]>0):dt.slice();else for(we in Te)an.mod.push(Te[we]);return(Dt||Dt==null&&(vt.length||Be.length))&&an.clean(!0),an}}}let q="_:mod:_";function P(){Object.defineProperty(this,q,{writable:!0,value:{}})}P.prototype={set(Ye,vt,ae,Be){let rt=this,Dt=rt[Ye],hn=rt[q];return vt!=null&&vt>=0?(Dt[vt]!==ae||Be)&&(Dt[vt]=ae,hn[vt+":"+Ye]=-1,hn[Ye]=-1):(Dt!==ae||Be)&&(rt[Ye]=ae,hn[Ye]=e.isArray(ae)?1+ae.length:-1),rt},modified(Ye,vt){let ae=this[q];if(arguments.length){if(e.isArray(Ye)){for(let Be=0;Be<Ye.length;++Be)if(ae[Ye[Be]])return!0;return!1}}else{for(let Be in ae)if(ae[Be])return!0;return!1}return vt!=null&&vt>=0?vt+1<ae[Ye]||!!ae[vt+":"+Ye]:!!ae[Ye]},clear(){return this[q]={},this}};let W=0,oe="pulse",I=new P,J=1,he=2;function ye(Ye,vt,ae,Be){this.id=++W,this.value=Ye,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,vt&&(this._update=vt),ae&&this.parameters(ae,Be)}function He(Ye){return function(vt){let ae=this.flags;return arguments.length===0?!!(ae&Ye):(this.flags=vt?ae|Ye:ae&~Ye,this)}}ye.prototype={targets(){return this._targets||(this._targets=i(e.id))},set(Ye){return this.value!==Ye?(this.value=Ye,1):0},skip:He(J),modified:He(he),parameters(Ye,vt,ae){vt=vt!==!1;let Be=this._argval=this._argval||new P,rt=this._argops=this._argops||[],Dt=[],hn,an,dt,ie,Te=(Ue,gt,St)=>{St instanceof ye?(St!==this&&(vt&&St.targets().add(this),Dt.push(St)),rt.push({op:St,name:Ue,index:gt})):Be.set(Ue,gt,St)};for(hn in Ye)if(an=Ye[hn],hn===oe)e.array(an).forEach(Ue=>{Ue instanceof ye?Ue!==this&&(Ue.targets().add(this),Dt.push(Ue)):e.error("Pulse parameters must be operator instances.")}),this.source=an;else if(e.isArray(an))for(Be.set(hn,-1,Array(dt=an.length)),ie=0;ie<dt;++ie)Te(hn,ie,an[ie]);else Te(hn,-1,an);return this.marshall().clear(),ae&&(rt.initonly=!0),Dt},marshall(Ye){let vt=this._argval||I,ae=this._argops,Be,rt,Dt,hn;if(ae){let an=ae.length;for(rt=0;rt<an;++rt)Be=ae[rt],Dt=Be.op,hn=Dt.modified()&&Dt.stamp===Ye,vt.set(Be.name,Be.index,Dt.value,hn);if(ae.initonly){for(rt=0;rt<an;++rt)Be=ae[rt],Be.op.targets().remove(this);this._argops=null,this._update=null}}return vt},detach(){let Ye=this._argops,vt,ae,Be,rt;if(Ye)for(vt=0,ae=Ye.length;vt<ae;++vt)Be=Ye[vt],rt=Be.op,rt._targets&&rt._targets.remove(this);this.pulse=null,this.source=null},evaluate(Ye){let vt=this._update;if(vt){let ae=this.marshall(Ye.stamp),Be=vt.call(this,ae,Ye);if(ae.clear(),Be!==this.value)this.value=Be;else if(!this.modified())return Ye.StopPropagation}},run(Ye){if(Ye.stamp<this.stamp)return Ye.StopPropagation;let vt;return this.skip()?(this.skip(!1),vt=0):vt=this.evaluate(Ye),this.pulse=vt||Ye}};function at(Ye,vt,ae,Be){let rt=1,Dt;return Ye instanceof ye?Dt=Ye:Ye&&Ye.prototype instanceof ye?Dt=new Ye:e.isFunction(Ye)?Dt=new ye(null,Ye):(rt=0,Dt=new ye(Ye,vt)),this.rank(Dt),rt&&(Be=ae,ae=vt),ae&&this.connect(Dt,Dt.parameters(ae,Be)),this.touch(Dt),Dt}function ct(Ye,vt){let ae=Ye.rank,Be=vt.length;for(let rt=0;rt<Be;++rt)if(ae<vt[rt].rank){this.rerank(Ye);return}}let Ze=0;function bt(Ye,vt,ae){this.id=++Ze,this.value=null,ae&&(this.receive=ae),Ye&&(this._filter=Ye),vt&&(this._apply=vt)}function Mt(Ye,vt,ae){return new bt(Ye,vt,ae)}bt.prototype={_filter:e.truthy,_apply:e.identity,targets(){return this._targets||(this._targets=i(e.id))},consume(Ye){return arguments.length?(this._consume=!!Ye,this):!!this._consume},receive(Ye){if(this._filter(Ye)){let vt=this.value=this._apply(Ye),ae=this._targets,Be=ae?ae.length:0;for(let rt=0;rt<Be;++rt)ae[rt].receive(vt);this._consume&&(Ye.preventDefault(),Ye.stopPropagation())}},filter(Ye){let vt=Mt(Ye);return this.targets().add(vt),vt},apply(Ye){let vt=Mt(null,Ye);return this.targets().add(vt),vt},merge(){let Ye=Mt();this.targets().add(Ye);for(let vt=0,ae=arguments.length;vt<ae;++vt)arguments[vt].targets().add(Ye);return Ye},throttle(Ye){let vt=-1;return this.filter(()=>{let ae=Date.now();return ae-vt>Ye?(vt=ae,1):0})},debounce(Ye){let vt=Mt();return this.targets().add(Mt(null,null,e.debounce(Ye,ae=>{let Be=ae.dataflow;vt.receive(ae),Be&&Be.run&&Be.run()}))),vt},between(Ye,vt){let ae=!1;return Ye.targets().add(Mt(null,null,()=>ae=!0)),vt.targets().add(Mt(null,null,()=>ae=!1)),this.filter(()=>ae)},detach(){this._filter=e.truthy,this._targets=null}};function qe(Ye,vt,ae,Be){let rt=this,Dt=Mt(ae,Be),hn=function(ie){ie.dataflow=rt;try{Dt.receive(ie)}catch(Te){rt.error(Te)}finally{rt.run()}},an;typeof Ye=="string"&&typeof document!="undefined"?an=document.querySelectorAll(Ye):an=e.array(Ye);let dt=an.length;for(let ie=0;ie<dt;++ie)an[ie].addEventListener(vt,hn);return Dt}function te(Ye,vt){let ae=this.locale();return t.read(Ye,vt,ae.timeParse,ae.utcParse)}function et(Ye,vt,ae){return vt=this.parse(vt,ae),this.pulse(Ye,this.changeset().insert(vt))}async function Ee(Ye,vt){let ae=this,Be=0,rt;try{rt=await ae.loader().load(Ye,{context:"dataflow",response:t.responseType(vt&&vt.type)});try{rt=ae.parse(rt,vt)}catch(Dt){Be=-2,ae.warn("Data ingestion failed",Ye,Dt)}}catch(Dt){Be=-1,ae.warn("Loading failed",Ye,Dt)}return{data:rt,status:Be}}async function ke(Ye,vt,ae){let Be=this,rt=Be._pending||Ce(Be);rt.requests+=1;let Dt=await Be.request(vt,ae);return Be.pulse(Ye,Be.changeset().remove(e.truthy).insert(Dt.data||[])),rt.done(),Dt}function Ce(Ye){let vt,ae=new Promise(Be=>vt=Be);return ae.requests=0,ae.done=()=>{--ae.requests===0&&(Ye._pending=null,vt(Ye))},Ye._pending=ae}let pe={skip:!0};function Je(Ye,vt,ae,Be,rt){return(Ye instanceof ye?Ht:lt)(this,Ye,vt,ae,Be,rt),this}function lt(Ye,vt,ae,Be,rt,Dt){let hn=e.extend({},Dt,pe),an,dt;e.isFunction(ae)||(ae=e.constant(ae)),Be===void 0?an=ie=>Ye.touch(ae(ie)):e.isFunction(Be)?(dt=new ye(null,Be,rt,!1),an=ie=>{dt.evaluate(ie);let Te=ae(ie),Ue=dt.value;$(Ue)?Ye.pulse(Te,Ue,Dt):Ye.update(Te,Ue,hn)}):an=ie=>Ye.update(ae(ie),Be,hn),vt.apply(an)}function Ht(Ye,vt,ae,Be,rt,Dt){if(Be===void 0)vt.targets().add(ae);else{let hn=Dt||{},an=new ye(null,wt(ae,Be),rt,!1);an.modified(hn.force),an.rank=vt.rank,vt.targets().add(an),ae&&(an.skip(!0),an.value=ae.value,an.targets().add(ae),Ye.connect(ae,[an]))}}function wt(Ye,vt){return vt=e.isFunction(vt)?vt:e.constant(vt),Ye?function(ae,Be){let rt=vt(ae,Be);return Ye.skip()||(Ye.skip(rt!==this.value).value=rt),rt}:vt}function mn(Ye){Ye.rank=++this._rank}function kt(Ye){let vt=[Ye],ae,Be,rt;for(;vt.length;)if(this.rank(ae=vt.pop()),Be=ae._targets)for(rt=Be.length;--rt>=0;)vt.push(ae=Be[rt]),ae===Ye&&e.error("Cycle detected in dataflow graph.")}let Bt={},tn=1<<0,Et=1<<1,ve=1<<2,Le=tn|Et,_e=tn|ve,ce=tn|Et|ve,tt=1<<3,Ke=1<<4,re=1<<5,Re=1<<6;function nt(Ye,vt,ae){this.dataflow=Ye,this.stamp=vt??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=ae||null}function ft(Ye,vt){let ae=[];return e.visitArray(Ye,vt,Be=>ae.push(Be)),ae}function Rt(Ye,vt){let ae={};return Ye.visit(vt,Be=>{ae[f(Be)]=1}),Be=>ae[f(Be)]?null:Be}function Yt(Ye,vt){return Ye?(ae,Be)=>Ye(ae,Be)&&vt(ae,Be):vt}nt.prototype={StopPropagation:Bt,ADD:tn,REM:Et,MOD:ve,ADD_REM:Le,ADD_MOD:_e,ALL:ce,REFLOW:tt,SOURCE:Ke,NO_SOURCE:re,NO_FIELDS:Re,fork(Ye){return new nt(this.dataflow).init(this,Ye)},clone(){let Ye=this.fork(ce);return Ye.add=Ye.add.slice(),Ye.rem=Ye.rem.slice(),Ye.mod=Ye.mod.slice(),Ye.source&&(Ye.source=Ye.source.slice()),Ye.materialize(ce|Ke)},addAll(){let Ye=this;return!Ye.source||Ye.add===Ye.rem||!Ye.rem.length&&Ye.source.length===Ye.add.length||(Ye=new nt(this.dataflow).init(this),Ye.add=Ye.source,Ye.rem=[]),Ye},init(Ye,vt){let ae=this;return ae.stamp=Ye.stamp,ae.encode=Ye.encode,Ye.fields&&!(vt&Re)&&(ae.fields=Ye.fields),vt&tn?(ae.addF=Ye.addF,ae.add=Ye.add):(ae.addF=null,ae.add=[]),vt&Et?(ae.remF=Ye.remF,ae.rem=Ye.rem):(ae.remF=null,ae.rem=[]),vt&ve?(ae.modF=Ye.modF,ae.mod=Ye.mod):(ae.modF=null,ae.mod=[]),vt&re?(ae.srcF=null,ae.source=null):(ae.srcF=Ye.srcF,ae.source=Ye.source,Ye.cleans&&(ae.cleans=Ye.cleans)),ae},runAfter(Ye){this.dataflow.runAfter(Ye)},changed(Ye){let vt=Ye||ce;return vt&tn&&this.add.length||vt&Et&&this.rem.length||vt&ve&&this.mod.length},reflow(Ye){if(Ye)return this.fork(ce).reflow();let vt=this.add.length,ae=this.source&&this.source.length;return ae&&ae!==vt&&(this.mod=this.source,vt&&this.filter(ve,Rt(this,tn))),this},clean(Ye){return arguments.length?(this.cleans=!!Ye,this):this.cleans},modifies(Ye){let vt=this.fields||(this.fields={});return e.isArray(Ye)?Ye.forEach(ae=>vt[ae]=!0):vt[Ye]=!0,this},modified(Ye,vt){let ae=this.fields;return(vt||this.mod.length)&&ae?arguments.length?e.isArray(Ye)?Ye.some(Be=>ae[Be]):ae[Ye]:!!ae:!1},filter(Ye,vt){let ae=this;return Ye&tn&&(ae.addF=Yt(ae.addF,vt)),Ye&Et&&(ae.remF=Yt(ae.remF,vt)),Ye&ve&&(ae.modF=Yt(ae.modF,vt)),Ye&Ke&&(ae.srcF=Yt(ae.srcF,vt)),ae},materialize(Ye){Ye=Ye||ce;let vt=this;return Ye&tn&&vt.addF&&(vt.add=ft(vt.add,vt.addF),vt.addF=null),Ye&Et&&vt.remF&&(vt.rem=ft(vt.rem,vt.remF),vt.remF=null),Ye&ve&&vt.modF&&(vt.mod=ft(vt.mod,vt.modF),vt.modF=null),Ye&Ke&&vt.srcF&&(vt.source=vt.source.filter(vt.srcF),vt.srcF=null),vt},visit(Ye,vt){let ae=this,Be=vt;if(Ye&Ke)return e.visitArray(ae.source,ae.srcF,Be),ae;Ye&tn&&e.visitArray(ae.add,ae.addF,Be),Ye&Et&&e.visitArray(ae.rem,ae.remF,Be),Ye&ve&&e.visitArray(ae.mod,ae.modF,Be);let rt=ae.source;if(Ye&tt&&rt){let Dt=ae.add.length+ae.mod.length;Dt===rt.length||(Dt?e.visitArray(rt,Rt(ae,_e),Be):e.visitArray(rt,ae.srcF,Be))}return ae}};function Gt(Ye,vt,ae,Be){let rt=this,Dt=ae.length,hn=0;this.dataflow=Ye,this.stamp=vt,this.fields=null,this.encode=Be||null,this.pulses=ae;for(let an=0;an<Dt;++an){let dt=ae[an];if(dt.stamp===vt){if(dt.fields){let ie=rt.fields||(rt.fields={});for(let Te in dt.fields)ie[Te]=1}dt.changed(rt.ADD)&&(hn|=rt.ADD),dt.changed(rt.REM)&&(hn|=rt.REM),dt.changed(rt.MOD)&&(hn|=rt.MOD)}}this.changes=hn}e.inherits(Gt,nt,{fork(Ye){let vt=new nt(this.dataflow).init(this,Ye&this.NO_FIELDS);return Ye!==void 0&&(Ye&vt.ADD&&this.visit(vt.ADD,ae=>vt.add.push(ae)),Ye&vt.REM&&this.visit(vt.REM,ae=>vt.rem.push(ae)),Ye&vt.MOD&&this.visit(vt.MOD,ae=>vt.mod.push(ae))),vt},changed(Ye){return this.changes&Ye},modified(Ye){let vt=this,ae=vt.fields;return ae&&vt.changes&vt.MOD?e.isArray(Ye)?Ye.some(Be=>ae[Be]):ae[Ye]:0},filter(){e.error("MultiPulse does not support filtering.")},materialize(){e.error("MultiPulse does not support materialization.")},visit(Ye,vt){let ae=this,Be=ae.pulses,rt=Be.length,Dt=0;if(Ye&ae.SOURCE)for(;Dt<rt;++Dt)Be[Dt].visit(Ye,vt);else for(;Dt<rt;++Dt)Be[Dt].stamp===ae.stamp&&Be[Dt].visit(Ye,vt);return ae}});async function fn(Ye,vt,ae){let Be=this,rt=[];if(Be._pulse)return un(Be);if(Be._pending&&await Be._pending,vt&&await s(Be,vt),!Be._touched.length)return Be.debug("Dataflow invoked, but nothing to do."),Be;let Dt=++Be._clock;Be._pulse=new nt(Be,Dt,Ye),Be._touched.forEach(Te=>Be._enqueue(Te,!0)),Be._touched=i(e.id);let hn=0,an,dt,ie;try{for(;Be._heap.size()>0;){if(an=Be._heap.pop(),an.rank!==an.qrank){Be._enqueue(an,!0);continue}dt=an.run(Be._getPulse(an,Ye)),dt.then?dt=await dt:dt.async&&(rt.push(dt.async),dt=Bt),dt!==Bt&&an._targets&&an._targets.forEach(Te=>Be._enqueue(Te)),++hn}}catch(Te){Be._heap.clear(),ie=Te}if(Be._input={},Be._pulse=null,Be.debug(`Pulse ${Dt}: ${hn} operators`),ie&&(Be._postrun=[],Be.error(ie)),Be._postrun.length){let Te=Be._postrun.sort((Ue,gt)=>gt.priority-Ue.priority);Be._postrun=[];for(let Ue=0;Ue<Te.length;++Ue)await s(Be,Te[Ue].callback)}return ae&&await s(Be,ae),rt.length&&Promise.all(rt).then(Te=>Be.runAsync(null,()=>{Te.forEach(Ue=>{try{Ue(Be)}catch(gt){Be.error(gt)}})})),Be}async function gn(Ye,vt,ae){for(;this._running;)await this._running;let Be=()=>this._running=null;return(this._running=this.evaluate(Ye,vt,ae)).then(Be,Be),this._running}function yn(Ye,vt,ae){return this._pulse?un(this):(this.evaluate(Ye,vt,ae),this)}function Lt(Ye,vt,ae){if(this._pulse||vt)this._postrun.push({priority:ae||0,callback:Ye});else try{Ye(this)}catch(Be){this.error(Be)}}function un(Ye){return Ye.error("Dataflow already running. Use runAsync() to chain invocations."),Ye}function Pn(Ye,vt){let ae=Ye.stamp<this._clock;ae&&(Ye.stamp=this._clock),(ae||vt)&&(Ye.qrank=Ye.rank,this._heap.push(Ye))}function nr(Ye,vt){let ae=Ye.source,Be=this._clock;return ae&&e.isArray(ae)?new Gt(this,Be,ae.map(rt=>rt.pulse),vt):this._input[Ye.id]||On(this._pulse,ae&&ae.pulse)}function On(Ye,vt){return vt&&vt.stamp===Ye.stamp?vt:(Ye=Ye.fork(),vt&&vt!==Bt&&(Ye.source=vt.source),Ye)}let Ne={skip:!1,force:!1};function ze(Ye,vt){let ae=vt||Ne;return this._pulse?this._enqueue(Ye):this._touched.add(Ye),ae.skip&&Ye.skip(!0),this}function De(Ye,vt,ae){let Be=ae||Ne;return(Ye.set(vt)||Be.force)&&this.touch(Ye,Be),this}function Pt(Ye,vt,ae){this.touch(Ye,ae||Ne);let Be=new nt(this,this._clock+(this._pulse?0:1)),rt=Ye.pulse&&Ye.pulse.source||[];return Be.target=Ye,this._input[Ye.id]=vt.pulse(Be,rt),this}function mt(Ye){let vt=[];return{clear:()=>vt=[],size:()=>vt.length,peek:()=>vt[0],push:ae=>(vt.push(ae),xt(vt,0,vt.length-1,Ye)),pop:()=>{let ae=vt.pop(),Be;return vt.length?(Be=vt[0],vt[0]=ae,rn(vt,0,Ye)):Be=ae,Be}}}function xt(Ye,vt,ae,Be){let rt,Dt,hn=Ye[ae];for(;ae>vt;){if(Dt=ae-1>>1,rt=Ye[Dt],Be(hn,rt)<0){Ye[ae]=rt,ae=Dt;continue}break}return Ye[ae]=hn}function rn(Ye,vt,ae){let Be=vt,rt=Ye.length,Dt=Ye[vt],hn=(vt<<1)+1,an;for(;hn<rt;)an=hn+1,an<rt&&ae(Ye[hn],Ye[an])>=0&&(hn=an),Ye[vt]=Ye[hn],vt=hn,hn=(vt<<1)+1;return Ye[vt]=Dt,xt(Ye,Be,vt,ae)}function Qt(){this.logger(e.logger()),this.logLevel(e.Error),this._clock=0,this._rank=0,this._locale=r.defaultLocale();try{this._loader=t.loader()}catch{}this._touched=i(e.id),this._input={},this._pulse=null,this._heap=mt((Ye,vt)=>Ye.qrank-vt.qrank),this._postrun=[]}function Fn(Ye){return function(){return this._log[Ye].apply(this,arguments)}}Qt.prototype={stamp(){return this._clock},loader(Ye){return arguments.length?(this._loader=Ye,this):this._loader},locale(Ye){return arguments.length?(this._locale=Ye,this):this._locale},logger(Ye){return arguments.length?(this._log=Ye,this):this._log},error:Fn("error"),warn:Fn("warn"),info:Fn("info"),debug:Fn("debug"),logLevel:Fn("level"),cleanThreshold:1e4,add:at,connect:ct,rank:mn,rerank:kt,pulse:Pt,touch:ze,update:De,changeset:L,ingest:et,parse:te,preload:ke,request:Ee,events:qe,on:Je,evaluate:fn,run:yn,runAsync:gn,runAfter:Lt,_enqueue:Pn,_getPulse:nr};function Wn(Ye,vt){ye.call(this,Ye,null,vt)}e.inherits(Wn,ye,{run(Ye){if(Ye.stamp<this.stamp)return Ye.StopPropagation;let vt;return this.skip()?this.skip(!1):vt=this.evaluate(Ye),vt=vt||Ye,vt.then?vt=vt.then(ae=>this.pulse=ae):vt!==Ye.StopPropagation&&(this.pulse=vt),vt},evaluate(Ye){let vt=this.marshall(Ye.stamp),ae=this.transform(vt,Ye);return vt.clear(),ae},transform(){}});let Zn={};function Nn(Ye){let vt=rr(Ye);return vt&&vt.Definition||null}function rr(Ye){return Ye=Ye&&Ye.toLowerCase(),e.hasOwnProperty(Zn,Ye)?Zn[Ye]:null}n.Dataflow=Qt,n.EventStream=bt,n.MultiPulse=Gt,n.Operator=ye,n.Parameters=P,n.Pulse=nt,n.Transform=Wn,n.UniqueList=i,n.asyncCallback=s,n.changeset=L,n.definition=Nn,n.derive=b,n.ingest=_,n.isChangeSet=$,n.isTuple=l,n.rederive=R,n.replace=O,n.stableCompare=j,n.transform=rr,n.transforms=Zn,n.tupleid=f,Object.defineProperty(n,"__esModule",{value:!0})})});var mb=Ae((cV,UDe)=>{m();(function(n,e){typeof cV=="object"&&typeof UDe!="undefined"?e(cV):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(cV,function(n){"use strict";function*e(Ne,ze){if(ze==null)for(let De of Ne)De!=null&&De!==""&&(De=+De)>=De&&(yield De);else{let De=-1;for(let Pt of Ne)Pt=ze(Pt,++De,Ne),Pt!=null&&Pt!==""&&(Pt=+Pt)>=Pt&&(yield Pt)}}function t(Ne,ze){return Ne==null||ze==null?NaN:Ne<ze?-1:Ne>ze?1:Ne>=ze?0:NaN}function r(Ne){return Ne===null?NaN:+Ne}function*i(Ne,ze){if(ze===void 0)for(let De of Ne)De!=null&&(De=+De)>=De&&(yield De);else{let De=-1;for(let Pt of Ne)(Pt=ze(Pt,++De,Ne))!=null&&(Pt=+Pt)>=Pt&&(yield Pt)}}function s(Ne,ze){let De=0,Pt,mt=0,xt=0;if(ze===void 0)for(let rn of Ne)rn!=null&&(rn=+rn)>=rn&&(Pt=rn-mt,mt+=Pt/++De,xt+=Pt*(rn-mt));else{let rn=-1;for(let Qt of Ne)(Qt=ze(Qt,++rn,Ne))!=null&&(Qt=+Qt)>=Qt&&(Pt=Qt-mt,mt+=Pt/++De,xt+=Pt*(Qt-mt))}if(De>1)return xt/(De-1)}function o(Ne,ze){let De=s(Ne,ze);return De&&Math.sqrt(De)}function a(Ne=t){if(Ne===t)return l;if(typeof Ne!="function")throw new TypeError("compare is not a function");return(ze,De)=>{let Pt=Ne(ze,De);return Pt||Pt===0?Pt:(Ne(De,De)===0)-(Ne(ze,ze)===0)}}function l(Ne,ze){return(Ne==null||!(Ne>=Ne))-(ze==null||!(ze>=ze))||(Ne<ze?-1:Ne>ze?1:0)}function f(Ne,ze){let De;if(ze===void 0)for(let Pt of Ne)Pt!=null&&(De<Pt||De===void 0&&Pt>=Pt)&&(De=Pt);else{let Pt=-1;for(let mt of Ne)(mt=ze(mt,++Pt,Ne))!=null&&(De<mt||De===void 0&&mt>=mt)&&(De=mt)}return De}function p(Ne,ze){let De;if(ze===void 0)for(let Pt of Ne)Pt!=null&&(De>Pt||De===void 0&&Pt>=Pt)&&(De=Pt);else{let Pt=-1;for(let mt of Ne)(mt=ze(mt,++Pt,Ne))!=null&&(De>mt||De===void 0&&mt>=mt)&&(De=mt)}return De}function _(Ne,ze,De=0,Pt=Ne.length-1,mt){for(mt=mt===void 0?l:a(mt);Pt>De;){if(Pt-De>600){let Fn=Pt-De+1,Wn=ze-De+1,Zn=Math.log(Fn),Nn=.5*Math.exp(2*Zn/3),rr=.5*Math.sqrt(Zn*Nn*(Fn-Nn)/Fn)*(Wn-Fn/2<0?-1:1),Ye=Math.max(De,Math.floor(ze-Wn*Nn/Fn+rr)),vt=Math.min(Pt,Math.floor(ze+(Fn-Wn)*Nn/Fn+rr));_(Ne,ze,Ye,vt,mt)}let xt=Ne[ze],rn=De,Qt=Pt;for(b(Ne,De,ze),mt(Ne[Pt],xt)>0&&b(Ne,De,Pt);rn<Qt;){for(b(Ne,rn,Qt),++rn,--Qt;mt(Ne[rn],xt)<0;)++rn;for(;mt(Ne[Qt],xt)>0;)--Qt}mt(Ne[De],xt)===0?b(Ne,De,Qt):(++Qt,b(Ne,Qt,Pt)),Qt<=ze&&(De=Qt+1),ze<=Qt&&(Pt=Qt-1)}return Ne}function b(Ne,ze,De){let Pt=Ne[ze];Ne[ze]=Ne[De],Ne[De]=Pt}function R(Ne,ze,De){if(Ne=Float64Array.from(i(Ne,De)),!!(Pt=Ne.length)){if((ze=+ze)<=0||Pt<2)return p(Ne);if(ze>=1)return f(Ne);var Pt,mt=(Pt-1)*ze,xt=Math.floor(mt),rn=f(_(Ne,xt).subarray(0,xt+1)),Qt=p(Ne.subarray(xt+1));return rn+(Qt-rn)*(mt-xt)}}function O(Ne,ze,De=r){if(!!(Pt=Ne.length)){if((ze=+ze)<=0||Pt<2)return+De(Ne[0],0,Ne);if(ze>=1)return+De(Ne[Pt-1],Pt-1,Ne);var Pt,mt=(Pt-1)*ze,xt=Math.floor(mt),rn=+De(Ne[xt],xt,Ne),Qt=+De(Ne[xt+1],xt+1,Ne);return rn+(Qt-rn)*(mt-xt)}}function j(Ne,ze){return R(Ne,.5,ze)}function $(Ne,ze,De){let Pt=Float64Array.from(e(Ne,De));return Pt.sort(t),ze.map(mt=>O(Pt,mt))}function L(Ne,ze){return $(Ne,[.25,.5,.75],ze)}function q(Ne,ze){let De=Ne.length,Pt=o(Ne,ze),mt=L(Ne,ze),xt=(mt[2]-mt[0])/1.34,rn=Math.min(Pt,xt)||Pt||Math.abs(mt[0])||1;return 1.06*rn*Math.pow(De,-.2)}function P(Ne){let ze=Ne.maxbins||20,De=Ne.base||10,Pt=Math.log(De),mt=Ne.divide||[5,2],xt=Ne.extent[0],rn=Ne.extent[1],Qt,Fn,Wn,Zn,Nn,rr,Ye=Ne.span||rn-xt||Math.abs(xt)||1;if(Ne.step)Qt=Ne.step;else if(Ne.steps){for(Zn=Ye/ze,Nn=0,rr=Ne.steps.length;Nn<rr&&Ne.steps[Nn]<Zn;++Nn);Qt=Ne.steps[Math.max(0,Nn-1)]}else{for(Fn=Math.ceil(Math.log(ze)/Pt),Wn=Ne.minstep||0,Qt=Math.max(Wn,Math.pow(De,Math.round(Math.log(Ye)/Pt)-Fn));Math.ceil(Ye/Qt)>ze;)Qt*=De;for(Nn=0,rr=mt.length;Nn<rr;++Nn)Zn=Qt/mt[Nn],Zn>=Wn&&Ye/Zn<=ze&&(Qt=Zn)}Zn=Math.log(Qt);let vt=Zn>=0?0:~~(-Zn/Pt)+1,ae=Math.pow(De,-vt-1);return(Ne.nice||Ne.nice===void 0)&&(Zn=Math.floor(xt/Qt+ae)*Qt,xt=xt<Zn?Zn-Qt:Zn,rn=Math.ceil(rn/Qt)*Qt),{start:xt,stop:rn===xt?xt+Qt:rn,step:Qt}}n.random=Math.random;function W(Ne){n.random=Ne}function oe(Ne,ze,De,Pt){if(!Ne.length)return[void 0,void 0];let mt=Float64Array.from(e(Ne,Pt)),xt=mt.length,rn=ze,Qt,Fn,Wn,Zn;for(Wn=0,Zn=Array(rn);Wn<rn;++Wn){for(Qt=0,Fn=0;Fn<xt;++Fn)Qt+=mt[~~(n.random()*xt)];Zn[Wn]=Qt/xt}return Zn.sort(t),[R(Zn,De/2),R(Zn,1-De/2)]}function I(Ne,ze,De,Pt){Pt=Pt||(rr=>rr);let mt=Ne.length,xt=new Float64Array(mt),rn=0,Qt=1,Fn=Pt(Ne[0]),Wn=Fn,Zn=Fn+ze,Nn;for(;Qt<mt;++Qt){if(Nn=Pt(Ne[Qt]),Nn>=Zn){for(Wn=(Fn+Wn)/2;rn<Qt;++rn)xt[rn]=Wn;Zn=Nn+ze,Fn=Nn}Wn=Nn}for(Wn=(Fn+Wn)/2;rn<Qt;++rn)xt[rn]=Wn;return De?J(xt,ze+ze/4):xt}function J(Ne,ze){let De=Ne.length,Pt=0,mt=1,xt,rn;for(;Ne[Pt]===Ne[mt];)++mt;for(;mt<De;){for(xt=mt+1;Ne[mt]===Ne[xt];)++xt;if(Ne[mt]-Ne[mt-1]<ze){for(rn=mt+(Pt+xt-mt-mt>>1);rn<mt;)Ne[rn++]=Ne[mt];for(;rn>mt;)Ne[rn--]=Ne[Pt]}Pt=mt,mt=xt}return Ne}function he(Ne){return function(){return Ne=(1103515245*Ne+12345)%2147483647,Ne/2147483647}}function ye(Ne,ze){ze==null&&(ze=Ne,Ne=0);let De,Pt,mt,xt={min(rn){return arguments.length?(De=rn||0,mt=Pt-De,xt):De},max(rn){return arguments.length?(Pt=rn||0,mt=Pt-De,xt):Pt},sample(){return De+Math.floor(mt*n.random())},pdf(rn){return rn===Math.floor(rn)&&rn>=De&&rn<Pt?1/mt:0},cdf(rn){let Qt=Math.floor(rn);return Qt<De?0:Qt>=Pt?1:(Qt-De+1)/mt},icdf(rn){return rn>=0&&rn<=1?De-1+Math.floor(rn*mt):NaN}};return xt.min(Ne).max(ze)}let He=Math.sqrt(2*Math.PI),at=Math.SQRT2,ct=NaN;function Ze(Ne,ze){Ne=Ne||0,ze=ze??1;let De=0,Pt=0,mt,xt;if(ct===ct)De=ct,ct=NaN;else{do De=n.random()*2-1,Pt=n.random()*2-1,mt=De*De+Pt*Pt;while(mt===0||mt>1);xt=Math.sqrt(-2*Math.log(mt)/mt),De*=xt,ct=Pt*xt}return Ne+De*ze}function bt(Ne,ze,De){De=De??1;let Pt=(Ne-(ze||0))/De;return Math.exp(-.5*Pt*Pt)/(De*He)}function Mt(Ne,ze,De){ze=ze||0,De=De??1;let Pt=(Ne-ze)/De,mt=Math.abs(Pt),xt;if(mt>37)xt=0;else{let rn=Math.exp(-mt*mt/2),Qt;mt<7.07106781186547?(Qt=.0352624965998911*mt+.700383064443688,Qt=Qt*mt+6.37396220353165,Qt=Qt*mt+33.912866078383,Qt=Qt*mt+112.079291497871,Qt=Qt*mt+221.213596169931,Qt=Qt*mt+220.206867912376,xt=rn*Qt,Qt=.0883883476483184*mt+1.75566716318264,Qt=Qt*mt+16.064177579207,Qt=Qt*mt+86.7807322029461,Qt=Qt*mt+296.564248779674,Qt=Qt*mt+637.333633378831,Qt=Qt*mt+793.826512519948,Qt=Qt*mt+440.413735824752,xt=xt/Qt):(Qt=mt+.65,Qt=mt+4/Qt,Qt=mt+3/Qt,Qt=mt+2/Qt,Qt=mt+1/Qt,xt=rn/Qt/2.506628274631)}return Pt>0?1-xt:xt}function qe(Ne,ze,De){return Ne<0||Ne>1?NaN:(ze||0)+(De??1)*at*te(2*Ne-1)}function te(Ne){let ze=-Math.log((1-Ne)*(1+Ne)),De;return ze<6.25?(ze-=3.125,De=-364441206401782e-35,De=-16850591381820166e-35+De*ze,De=128584807152564e-32+De*ze,De=11157877678025181e-33+De*ze,De=-1333171662854621e-31+De*ze,De=20972767875968562e-33+De*ze,De=6637638134358324e-30+De*ze,De=-4054566272975207e-29+De*ze,De=-8151934197605472e-29+De*ze,De=26335093153082323e-28+De*ze,De=-12975133253453532e-27+De*ze,De=-5415412054294628e-26+De*ze,De=10512122733215323e-25+De*ze,De=-4112633980346984e-24+De*ze,De=-29070369957882005e-24+De*ze,De=42347877827932404e-23+De*ze,De=-13654692000834679e-22+De*ze,De=-13882523362786469e-21+De*ze,De=.00018673420803405714+De*ze,De=-.000740702534166267+De*ze,De=-.006033670871430149+De*ze,De=.24015818242558962+De*ze,De=1.6536545626831027+De*ze):ze<16?(ze=Math.sqrt(ze)-3.25,De=22137376921775787e-25,De=9075656193888539e-23+De*ze,De=-27517406297064545e-23+De*ze,De=18239629214389228e-24+De*ze,De=15027403968909828e-22+De*ze,De=-4013867526981546e-21+De*ze,De=29234449089955446e-22+De*ze,De=12475304481671779e-21+De*ze,De=-47318229009055734e-21+De*ze,De=6828485145957318e-20+De*ze,De=24031110387097894e-21+De*ze,De=-.0003550375203628475+De*ze,De=.0009532893797373805+De*ze,De=-.0016882755560235047+De*ze,De=.002491442096107851+De*ze,De=-.003751208507569241+De*ze,De=.005370914553590064+De*ze,De=1.0052589676941592+De*ze,De=3.0838856104922208+De*ze):Number.isFinite(ze)?(ze=Math.sqrt(ze)-5,De=-27109920616438573e-27,De=-2555641816996525e-25+De*ze,De=15076572693500548e-25+De*ze,De=-3789465440126737e-24+De*ze,De=761570120807834e-23+De*ze,De=-1496002662714924e-23+De*ze,De=2914795345090108e-23+De*ze,De=-6771199775845234e-23+De*ze,De=22900482228026655e-23+De*ze,De=-99298272942317e-20+De*ze,De=4526062597223154e-21+De*ze,De=-1968177810553167e-20+De*ze,De=7599527703001776e-20+De*ze,De=-.00021503011930044477+De*ze,De=-.00013871931833623122+De*ze,De=1.0103004648645344+De*ze,De=4.849906401408584+De*ze):De=1/0,De*Ne}function et(Ne,ze){let De,Pt,mt={mean(xt){return arguments.length?(De=xt||0,mt):De},stdev(xt){return arguments.length?(Pt=xt??1,mt):Pt},sample:()=>Ze(De,Pt),pdf:xt=>bt(xt,De,Pt),cdf:xt=>Mt(xt,De,Pt),icdf:xt=>qe(xt,De,Pt)};return mt.mean(Ne).stdev(ze)}function Ee(Ne,ze){let De=et(),Pt=0,mt={data(xt){return arguments.length?(Ne=xt,Pt=xt?xt.length:0,mt.bandwidth(ze)):Ne},bandwidth(xt){return arguments.length?(ze=xt,!ze&&Ne&&(ze=q(Ne)),mt):ze},sample(){return Ne[~~(n.random()*Pt)]+ze*De.sample()},pdf(xt){let rn=0,Qt=0;for(;Qt<Pt;++Qt)rn+=De.pdf((xt-Ne[Qt])/ze);return rn/ze/Pt},cdf(xt){let rn=0,Qt=0;for(;Qt<Pt;++Qt)rn+=De.cdf((xt-Ne[Qt])/ze);return rn/Pt},icdf(){throw Error("KDE icdf not supported.")}};return mt.data(Ne)}function ke(Ne,ze){return Ne=Ne||0,ze=ze??1,Math.exp(Ne+Ze()*ze)}function Ce(Ne,ze,De){if(Ne<=0)return 0;ze=ze||0,De=De??1;let Pt=(Math.log(Ne)-ze)/De;return Math.exp(-.5*Pt*Pt)/(De*He*Ne)}function pe(Ne,ze,De){return Mt(Math.log(Ne),ze,De)}function Je(Ne,ze,De){return Math.exp(qe(Ne,ze,De))}function lt(Ne,ze){let De,Pt,mt={mean(xt){return arguments.length?(De=xt||0,mt):De},stdev(xt){return arguments.length?(Pt=xt??1,mt):Pt},sample:()=>ke(De,Pt),pdf:xt=>Ce(xt,De,Pt),cdf:xt=>pe(xt,De,Pt),icdf:xt=>Je(xt,De,Pt)};return mt.mean(Ne).stdev(ze)}function Ht(Ne,ze){let De=0,Pt;function mt(rn){let Qt=[],Fn=0,Wn;for(Wn=0;Wn<De;++Wn)Fn+=Qt[Wn]=rn[Wn]==null?1:+rn[Wn];for(Wn=0;Wn<De;++Wn)Qt[Wn]/=Fn;return Qt}let xt={weights(rn){return arguments.length?(Pt=mt(ze=rn||[]),xt):ze},distributions(rn){return arguments.length?(rn?(De=rn.length,Ne=rn):(De=0,Ne=[]),xt.weights(ze)):Ne},sample(){let rn=n.random(),Qt=Ne[De-1],Fn=Pt[0],Wn=0;for(;Wn<De-1;Fn+=Pt[++Wn])if(rn<Fn){Qt=Ne[Wn];break}return Qt.sample()},pdf(rn){let Qt=0,Fn=0;for(;Fn<De;++Fn)Qt+=Pt[Fn]*Ne[Fn].pdf(rn);return Qt},cdf(rn){let Qt=0,Fn=0;for(;Fn<De;++Fn)Qt+=Pt[Fn]*Ne[Fn].cdf(rn);return Qt},icdf(){throw Error("Mixture icdf not supported.")}};return xt.distributions(Ne).weights(ze)}function wt(Ne,ze){return ze==null&&(ze=Ne??1,Ne=0),Ne+(ze-Ne)*n.random()}function mn(Ne,ze,De){return De==null&&(De=ze??1,ze=0),Ne>=ze&&Ne<=De?1/(De-ze):0}function kt(Ne,ze,De){return De==null&&(De=ze??1,ze=0),Ne<ze?0:Ne>De?1:(Ne-ze)/(De-ze)}function Bt(Ne,ze,De){return De==null&&(De=ze??1,ze=0),Ne>=0&&Ne<=1?ze+Ne*(De-ze):NaN}function tn(Ne,ze){let De,Pt,mt={min(xt){return arguments.length?(De=xt||0,mt):De},max(xt){return arguments.length?(Pt=xt??1,mt):Pt},sample:()=>wt(De,Pt),pdf:xt=>mn(xt,De,Pt),cdf:xt=>kt(xt,De,Pt),icdf:xt=>Bt(xt,De,Pt)};return ze==null&&(ze=Ne??1,Ne=0),mt.min(Ne).max(ze)}function Et(Ne,ze,De,Pt){let mt=Pt-Ne*Ne,xt=Math.abs(mt)<1e-24?0:(De-Ne*ze)/mt;return[ze-xt*Ne,xt]}function ve(Ne,ze,De,Pt){Ne=Ne.filter(Ye=>{let vt=ze(Ye),ae=De(Ye);return vt!=null&&(vt=+vt)>=vt&&ae!=null&&(ae=+ae)>=ae}),Pt&&Ne.sort((Ye,vt)=>ze(Ye)-ze(vt));let mt=Ne.length,xt=new Float64Array(mt),rn=new Float64Array(mt),Qt=0,Fn=0,Wn=0,Zn,Nn,rr;for(rr of Ne)xt[Qt]=Zn=+ze(rr),rn[Qt]=Nn=+De(rr),++Qt,Fn+=(Zn-Fn)/Qt,Wn+=(Nn-Wn)/Qt;for(Qt=0;Qt<mt;++Qt)xt[Qt]-=Fn,rn[Qt]-=Wn;return[xt,rn,Fn,Wn]}function Le(Ne,ze,De,Pt){let mt=-1,xt,rn;for(let Qt of Ne)xt=ze(Qt),rn=De(Qt),xt!=null&&(xt=+xt)>=xt&&rn!=null&&(rn=+rn)>=rn&&Pt(xt,rn,++mt)}function _e(Ne,ze,De,Pt,mt){let xt=0,rn=0;return Le(Ne,ze,De,(Qt,Fn)=>{let Wn=Fn-mt(Qt),Zn=Fn-Pt;xt+=Wn*Wn,rn+=Zn*Zn}),1-xt/rn}function ce(Ne,ze,De){let Pt=0,mt=0,xt=0,rn=0,Qt=0;Le(Ne,ze,De,(Zn,Nn)=>{++Qt,Pt+=(Zn-Pt)/Qt,mt+=(Nn-mt)/Qt,xt+=(Zn*Nn-xt)/Qt,rn+=(Zn*Zn-rn)/Qt});let Fn=Et(Pt,mt,xt,rn),Wn=Zn=>Fn[0]+Fn[1]*Zn;return{coef:Fn,predict:Wn,rSquared:_e(Ne,ze,De,mt,Wn)}}function tt(Ne,ze,De){let Pt=0,mt=0,xt=0,rn=0,Qt=0;Le(Ne,ze,De,(Zn,Nn)=>{++Qt,Zn=Math.log(Zn),Pt+=(Zn-Pt)/Qt,mt+=(Nn-mt)/Qt,xt+=(Zn*Nn-xt)/Qt,rn+=(Zn*Zn-rn)/Qt});let Fn=Et(Pt,mt,xt,rn),Wn=Zn=>Fn[0]+Fn[1]*Math.log(Zn);return{coef:Fn,predict:Wn,rSquared:_e(Ne,ze,De,mt,Wn)}}function Ke(Ne,ze,De){let[Pt,mt,xt,rn]=ve(Ne,ze,De),Qt=0,Fn=0,Wn=0,Zn=0,Nn=0,rr,Ye,vt;Le(Ne,ze,De,(Dt,hn)=>{rr=Pt[Nn++],Ye=Math.log(hn),vt=rr*hn,Qt+=(hn*Ye-Qt)/Nn,Fn+=(vt-Fn)/Nn,Wn+=(vt*Ye-Wn)/Nn,Zn+=(rr*vt-Zn)/Nn});let[ae,Be]=Et(Fn/rn,Qt/rn,Wn/rn,Zn/rn),rt=Dt=>Math.exp(ae+Be*(Dt-xt));return{coef:[Math.exp(ae-Be*xt),Be],predict:rt,rSquared:_e(Ne,ze,De,rn,rt)}}function re(Ne,ze,De){let Pt=0,mt=0,xt=0,rn=0,Qt=0,Fn=0;Le(Ne,ze,De,(Nn,rr)=>{let Ye=Math.log(Nn),vt=Math.log(rr);++Fn,Pt+=(Ye-Pt)/Fn,mt+=(vt-mt)/Fn,xt+=(Ye*vt-xt)/Fn,rn+=(Ye*Ye-rn)/Fn,Qt+=(rr-Qt)/Fn});let Wn=Et(Pt,mt,xt,rn),Zn=Nn=>Wn[0]*Math.pow(Nn,Wn[1]);return Wn[0]=Math.exp(Wn[0]),{coef:Wn,predict:Zn,rSquared:_e(Ne,ze,De,Qt,Zn)}}function Re(Ne,ze,De){let[Pt,mt,xt,rn]=ve(Ne,ze,De),Qt=Pt.length,Fn=0,Wn=0,Zn=0,Nn=0,rr=0,Ye,vt,ae,Be;for(Ye=0;Ye<Qt;)vt=Pt[Ye],ae=mt[Ye++],Be=vt*vt,Fn+=(Be-Fn)/Ye,Wn+=(Be*vt-Wn)/Ye,Zn+=(Be*Be-Zn)/Ye,Nn+=(vt*ae-Nn)/Ye,rr+=(Be*ae-rr)/Ye;let rt=Zn-Fn*Fn,Dt=Fn*rt-Wn*Wn,hn=(rr*Fn-Nn*Wn)/Dt,an=(Nn*rt-rr*Wn)/Dt,dt=-hn*Fn,ie=Te=>(Te=Te-xt,hn*Te*Te+an*Te+dt+rn);return{coef:[dt-an*xt+hn*xt*xt+rn,an-2*hn*xt,hn],predict:ie,rSquared:_e(Ne,ze,De,rn,ie)}}function nt(Ne,ze,De,Pt){if(Pt===1)return ce(Ne,ze,De);if(Pt===2)return Re(Ne,ze,De);let[mt,xt,rn,Qt]=ve(Ne,ze,De),Fn=mt.length,Wn=[],Zn=[],Nn=Pt+1,rr,Ye,vt,ae,Be;for(rr=0;rr<Nn;++rr){for(vt=0,ae=0;vt<Fn;++vt)ae+=Math.pow(mt[vt],rr)*xt[vt];for(Wn.push(ae),Be=new Float64Array(Nn),Ye=0;Ye<Nn;++Ye){for(vt=0,ae=0;vt<Fn;++vt)ae+=Math.pow(mt[vt],rr+Ye);Be[Ye]=ae}Zn.push(Be)}Zn.push(Wn);let rt=Rt(Zn),Dt=hn=>{hn-=rn;let an=Qt+rt[0]+rt[1]*hn+rt[2]*hn*hn;for(rr=3;rr<Nn;++rr)an+=rt[rr]*Math.pow(hn,rr);return an};return{coef:ft(Nn,rt,-rn,Qt),predict:Dt,rSquared:_e(Ne,ze,De,Qt,Dt)}}function ft(Ne,ze,De,Pt){let mt=Array(Ne),xt,rn,Qt,Fn;for(xt=0;xt<Ne;++xt)mt[xt]=0;for(xt=Ne-1;xt>=0;--xt)for(Qt=ze[xt],Fn=1,mt[xt]+=Qt,rn=1;rn<=xt;++rn)Fn*=(xt+1-rn)/rn,mt[xt-rn]+=Qt*Math.pow(De,rn)*Fn;return mt[0]+=Pt,mt}function Rt(Ne){let ze=Ne.length-1,De=[],Pt,mt,xt,rn,Qt;for(Pt=0;Pt<ze;++Pt){for(rn=Pt,mt=Pt+1;mt<ze;++mt)Math.abs(Ne[Pt][mt])>Math.abs(Ne[Pt][rn])&&(rn=mt);for(xt=Pt;xt<ze+1;++xt)Qt=Ne[xt][Pt],Ne[xt][Pt]=Ne[xt][rn],Ne[xt][rn]=Qt;for(mt=Pt+1;mt<ze;++mt)for(xt=ze;xt>=Pt;xt--)Ne[xt][mt]-=Ne[xt][Pt]*Ne[Pt][mt]/Ne[Pt][Pt]}for(mt=ze-1;mt>=0;--mt){for(Qt=0,xt=mt+1;xt<ze;++xt)Qt+=Ne[xt][mt]*De[xt];De[mt]=(Ne[ze][mt]-Qt)/Ne[mt][mt]}return De}let Yt=2,Gt=1e-12;function fn(Ne,ze,De,Pt){let[mt,xt,rn,Qt]=ve(Ne,ze,De,!0),Fn=mt.length,Wn=Math.max(2,~~(Pt*Fn)),Zn=new Float64Array(Fn),Nn=new Float64Array(Fn),rr=new Float64Array(Fn).fill(1);for(let Ye=-1;++Ye<=Yt;){let vt=[0,Wn-1];for(let Be=0;Be<Fn;++Be){let rt=mt[Be],Dt=vt[0],hn=vt[1],an=rt-mt[Dt]>mt[hn]-rt?Dt:hn,dt=0,ie=0,Te=0,Ue=0,gt=0,St=1/Math.abs(mt[an]-rt||1);for(let we=Dt;we<=hn;++we){let We=mt[we],st=xt[we],Ut=gn(Math.abs(rt-We)*St)*rr[we],sn=We*Ut;dt+=Ut,ie+=sn,Te+=st*Ut,Ue+=st*sn,gt+=We*sn}let[Ot,ne]=Et(ie/dt,Te/dt,Ue/dt,gt/dt);Zn[Be]=Ot+ne*rt,Nn[Be]=Math.abs(xt[Be]-Zn[Be]),yn(mt,Be+1,vt)}if(Ye===Yt)break;let ae=j(Nn);if(Math.abs(ae)<Gt)break;for(let Be=0,rt,Dt;Be<Fn;++Be)rt=Nn[Be]/(6*ae),rr[Be]=rt>=1?Gt:(Dt=1-rt*rt)*Dt}return Lt(mt,Zn,rn,Qt)}function gn(Ne){return(Ne=1-Ne*Ne*Ne)*Ne*Ne}function yn(Ne,ze,De){let Pt=Ne[ze],mt=De[0],xt=De[1]+1;if(!(xt>=Ne.length))for(;ze>mt&&Ne[xt]-Pt<=Pt-Ne[mt];)De[0]=++mt,De[1]=xt,++xt}function Lt(Ne,ze,De,Pt){let mt=Ne.length,xt=[],rn=0,Qt=0,Fn=[],Wn;for(;rn<mt;++rn)Wn=Ne[rn]+De,Fn[0]===Wn?Fn[1]+=(ze[rn]-Fn[1])/++Qt:(Qt=0,Fn[1]+=Pt,Fn=[Wn,ze[rn]],xt.push(Fn));return Fn[1]+=Pt,xt}let un=.5*Math.PI/180;function Pn(Ne,ze,De,Pt){De=De||25,Pt=Math.max(De,Pt||200);let mt=ae=>[ae,Ne(ae)],xt=ze[0],rn=ze[1],Qt=rn-xt,Fn=Qt/Pt,Wn=[mt(xt)],Zn=[];if(De===Pt){for(let ae=1;ae<Pt;++ae)Wn.push(mt(xt+ae/De*Qt));return Wn.push(mt(rn)),Wn}else{Zn.push(mt(rn));for(let ae=De;--ae>0;)Zn.push(mt(xt+ae/De*Qt))}let Nn=Wn[0],rr=Zn[Zn.length-1],Ye=1/Qt,vt=nr(Nn[1],Zn);for(;rr;){let ae=mt((Nn[0]+rr[0])/2);ae[0]-Nn[0]>=Fn&&On(Nn,ae,rr,Ye,vt)>un?Zn.push(ae):(Nn=rr,Wn.push(rr),Zn.pop()),rr=Zn[Zn.length-1]}return Wn}function nr(Ne,ze){let De=Ne,Pt=Ne,mt=ze.length;for(let xt=0;xt<mt;++xt){let rn=ze[xt][1];rn<De&&(De=rn),rn>Pt&&(Pt=rn)}return 1/(Pt-De)}function On(Ne,ze,De,Pt,mt){let xt=Math.atan2(mt*(De[1]-Ne[1]),Pt*(De[0]-Ne[0])),rn=Math.atan2(mt*(ze[1]-Ne[1]),Pt*(ze[0]-Ne[0]));return Math.abs(xt-rn)}n.bandwidthNRD=q,n.bin=P,n.bootstrapCI=oe,n.cumulativeLogNormal=pe,n.cumulativeNormal=Mt,n.cumulativeUniform=kt,n.densityLogNormal=Ce,n.densityNormal=bt,n.densityUniform=mn,n.dotbin=I,n.quantileLogNormal=Je,n.quantileNormal=qe,n.quantileUniform=Bt,n.quantiles=$,n.quartiles=L,n.randomInteger=ye,n.randomKDE=Ee,n.randomLCG=he,n.randomLogNormal=lt,n.randomMixture=Ht,n.randomNormal=et,n.randomUniform=tn,n.regressionExp=Ke,n.regressionLinear=ce,n.regressionLoess=fn,n.regressionLog=tt,n.regressionPoly=nt,n.regressionPow=re,n.regressionQuad=Re,n.sampleCurve=Pn,n.sampleLogNormal=ke,n.sampleNormal=Ze,n.sampleUniform=wt,n.setRandom=W,Object.defineProperty(n,"__esModule",{value:!0})})});var zDe=Ae((fV,$De)=>{m();(function(n,e){typeof fV=="object"&&typeof $De!="undefined"?e(fV,Tu(),o0(),mb(),m9()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega))})(fV,function(n,e,t,r,i){"use strict";function s(C){return B=>{let ee=C.length,Se=1,ht=String(C[0](B));for(;Se<ee;++Se)ht+="|"+C[Se](B);return ht}}function o(C){return!C||!C.length?function(){return""}:C.length===1?C[0]:s(C)}function a(C,B,ee){return ee||C+(B?"_"+B:"")}let l=()=>{},f={init:l,add:l,rem:l,idx:0},p={values:{init:C=>C.cell.store=!0,value:C=>C.cell.data.values(),idx:-1},count:{value:C=>C.cell.num},__count__:{value:C=>C.missing+C.valid},missing:{value:C=>C.missing},valid:{value:C=>C.valid},sum:{init:C=>C.sum=0,value:C=>C.sum,add:(C,B)=>C.sum+=+B,rem:(C,B)=>C.sum-=B},product:{init:C=>C.product=1,value:C=>C.valid?C.product:void 0,add:(C,B)=>C.product*=B,rem:(C,B)=>C.product/=B},mean:{init:C=>C.mean=0,value:C=>C.valid?C.mean:void 0,add:(C,B)=>(C.mean_d=B-C.mean,C.mean+=C.mean_d/C.valid),rem:(C,B)=>(C.mean_d=B-C.mean,C.mean-=C.valid?C.mean_d/C.valid:C.mean)},average:{value:C=>C.valid?C.mean:void 0,req:["mean"],idx:1},variance:{init:C=>C.dev=0,value:C=>C.valid>1?C.dev/(C.valid-1):void 0,add:(C,B)=>C.dev+=C.mean_d*(B-C.mean),rem:(C,B)=>C.dev-=C.mean_d*(B-C.mean),req:["mean"],idx:1},variancep:{value:C=>C.valid>1?C.dev/C.valid:void 0,req:["variance"],idx:2},stdev:{value:C=>C.valid>1?Math.sqrt(C.dev/(C.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:C=>C.valid>1?Math.sqrt(C.dev/C.valid):void 0,req:["variance"],idx:2},stderr:{value:C=>C.valid>1?Math.sqrt(C.dev/(C.valid*(C.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:C=>C.cell.data.distinct(C.get),req:["values"],idx:3},ci0:{value:C=>C.cell.data.ci0(C.get),req:["values"],idx:3},ci1:{value:C=>C.cell.data.ci1(C.get),req:["values"],idx:3},median:{value:C=>C.cell.data.q2(C.get),req:["values"],idx:3},q1:{value:C=>C.cell.data.q1(C.get),req:["values"],idx:3},q3:{value:C=>C.cell.data.q3(C.get),req:["values"],idx:3},min:{init:C=>C.min=void 0,value:C=>C.min=Number.isNaN(C.min)?C.cell.data.min(C.get):C.min,add:(C,B)=>{(B<C.min||C.min===void 0)&&(C.min=B)},rem:(C,B)=>{B<=C.min&&(C.min=NaN)},req:["values"],idx:4},max:{init:C=>C.max=void 0,value:C=>C.max=Number.isNaN(C.max)?C.cell.data.max(C.get):C.max,add:(C,B)=>{(B>C.max||C.max===void 0)&&(C.max=B)},rem:(C,B)=>{B>=C.max&&(C.max=NaN)},req:["values"],idx:4},argmin:{init:C=>C.argmin=void 0,value:C=>C.argmin||C.cell.data.argmin(C.get),add:(C,B,ee)=>{B<C.min&&(C.argmin=ee)},rem:(C,B)=>{B<=C.min&&(C.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:C=>C.argmax=void 0,value:C=>C.argmax||C.cell.data.argmax(C.get),add:(C,B,ee)=>{B>C.max&&(C.argmax=ee)},rem:(C,B)=>{B>=C.max&&(C.argmax=void 0)},req:["max","values"],idx:3}},_=Object.keys(p);function b(C,B){return ee=>e.extend({name:C,out:ee||C},f,B)}_.forEach(C=>{p[C]=b(C,p[C])});function R(C,B){return p[C](B)}function O(C,B){return C.idx-B.idx}function j(C){let B={};C.forEach(Se=>B[Se.name]=Se);let ee=Se=>{!Se.req||Se.req.forEach(ht=>{B[ht]||ee(B[ht]=p[ht]())})};return C.forEach(ee),Object.values(B).sort(O)}function $(){this.valid=0,this.missing=0,this._ops.forEach(C=>C.init(this))}function L(C,B){if(C==null||C===""){++this.missing;return}C===C&&(++this.valid,this._ops.forEach(ee=>ee.add(this,C,B)))}function q(C,B){if(C==null||C===""){--this.missing;return}C===C&&(--this.valid,this._ops.forEach(ee=>ee.rem(this,C,B)))}function P(C){return this._out.forEach(B=>C[B.out]=B.value(this)),C}function W(C,B){let ee=B||e.identity,Se=j(C),ht=C.slice().sort(O);function Tt(Zt){this._ops=Se,this._out=ht,this.cell=Zt,this.init()}return Tt.prototype.init=$,Tt.prototype.add=L,Tt.prototype.rem=q,Tt.prototype.set=P,Tt.prototype.get=ee,Tt.fields=C.map(Zt=>Zt.out),Tt}function oe(C){this._key=C?e.field(C):t.tupleid,this.reset()}let I=oe.prototype;I.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},I.add=function(C){this._add.push(C)},I.rem=function(C){this._rem.push(C)},I.values=function(){if(this._get=null,this._rem.length===0)return this._add;let C=this._add,B=this._rem,ee=this._key,Se=C.length,ht=B.length,Tt=Array(Se-ht),Zt={},Xt,xn,qn;for(Xt=0;Xt<ht;++Xt)Zt[ee(B[Xt])]=1;for(Xt=0,xn=0;Xt<Se;++Xt)Zt[ee(qn=C[Xt])]?Zt[ee(qn)]=0:Tt[xn++]=qn;return this._rem=[],this._add=Tt},I.distinct=function(C){let B=this.values(),ee={},Se=B.length,ht=0,Tt;for(;--Se>=0;)Tt=C(B[Se])+"",e.hasOwnProperty(ee,Tt)||(ee[Tt]=1,++ht);return ht},I.extent=function(C){if(this._get!==C||!this._ext){let B=this.values(),ee=e.extentIndex(B,C);this._ext=[B[ee[0]],B[ee[1]]],this._get=C}return this._ext},I.argmin=function(C){return this.extent(C)[0]||{}},I.argmax=function(C){return this.extent(C)[1]||{}},I.min=function(C){let B=this.extent(C)[0];return B!=null?C(B):void 0},I.max=function(C){let B=this.extent(C)[1];return B!=null?C(B):void 0},I.quartile=function(C){return(this._get!==C||!this._q)&&(this._q=r.quartiles(this.values(),C),this._get=C),this._q},I.q1=function(C){return this.quartile(C)[0]},I.q2=function(C){return this.quartile(C)[1]},I.q3=function(C){return this.quartile(C)[2]},I.ci=function(C){return(this._get!==C||!this._ci)&&(this._ci=r.bootstrapCI(this.values(),1e3,.05,C),this._get=C),this._ci},I.ci0=function(C){return this.ci(C)[0]},I.ci1=function(C){return this.ci(C)[1]};function J(C){t.Transform.call(this,null,C),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}J.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:_},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},e.inherits(J,t.Transform,{transform(C,B){let ee=this,Se=B.fork(B.NO_SOURCE|B.NO_FIELDS),ht=C.modified();return ee.stamp=Se.stamp,ee.value&&(ht||B.modified(ee._inputs,!0))?(ee._prev=ee.value,ee.value=ht?ee.init(C):{},B.visit(B.SOURCE,Tt=>ee.add(Tt))):(ee.value=ee.value||ee.init(C),B.visit(B.REM,Tt=>ee.rem(Tt)),B.visit(B.ADD,Tt=>ee.add(Tt))),Se.modifies(ee._outputs),ee._drop=C.drop!==!1,C.cross&&ee._dims.length>1&&(ee._drop=!1,ee.cross()),B.clean()&&ee._drop&&Se.clean(!0).runAfter(()=>this.clean()),ee.changes(Se)},cross(){let C=this,B=C.value,ee=C._dnames,Se=ee.map(()=>({})),ht=ee.length;function Tt(Xt){let xn,qn,Un,Vn;for(xn in Xt)for(Un=Xt[xn].tuple,qn=0;qn<ht;++qn)Se[qn][Vn=Un[ee[qn]]]=Vn}Tt(C._prev),Tt(B);function Zt(Xt,xn,qn){let Un=ee[qn],Vn=Se[qn++];for(let Jr in Vn){let Wr=Xt?Xt+"|"+Jr:Jr;xn[Un]=Vn[Jr],qn<ht?Zt(Wr,xn,qn):B[Wr]||C.cell(Wr,xn)}}Zt("",{},0)},init(C){let B=this._inputs=[],ee=this._outputs=[],Se={};function ht(xi){let ai=e.array(e.accessorFields(xi)),Xi=ai.length,Cs=0,ts;for(;Cs<Xi;++Cs)Se[ts=ai[Cs]]||(Se[ts]=1,B.push(ts))}this._dims=e.array(C.groupby),this._dnames=this._dims.map(xi=>{let ai=e.accessorName(xi);return ht(xi),ee.push(ai),ai}),this.cellkey=C.key?C.key:o(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];let Tt=C.fields||[null],Zt=C.ops||["count"],Xt=C.as||[],xn=Tt.length,qn={},Un,Vn,Jr,Wr,yr,Mr;for(xn!==Zt.length&&e.error("Unmatched number of fields and aggregate ops."),Mr=0;Mr<xn;++Mr){if(Un=Tt[Mr],Vn=Zt[Mr],Un==null&&Vn!=="count"&&e.error("Null aggregate field specified."),Wr=e.accessorName(Un),yr=a(Vn,Wr,Xt[Mr]),ee.push(yr),Vn==="count"){this._counts.push(yr);continue}Jr=qn[Wr],Jr||(ht(Un),Jr=qn[Wr]=[],Jr.field=Un,this._measures.push(Jr)),Vn!=="count"&&(this._countOnly=!1),Jr.push(R(Vn,yr))}return this._measures=this._measures.map(xi=>W(xi,xi.field)),{}},cellkey:o(),cell(C,B){let ee=this.value[C];return ee?ee.num===0&&this._drop&&ee.stamp<this.stamp?(ee.stamp=this.stamp,this._adds[this._alen++]=ee):ee.stamp<this.stamp&&(ee.stamp=this.stamp,this._mods[this._mlen++]=ee):(ee=this.value[C]=this.newcell(C,B),this._adds[this._alen++]=ee),ee},newcell(C,B){let ee={key:C,num:0,agg:null,tuple:this.newtuple(B,this._prev&&this._prev[C]),stamp:this.stamp,store:!1};if(!this._countOnly){let Se=this._measures,ht=Se.length;ee.agg=Array(ht);for(let Tt=0;Tt<ht;++Tt)ee.agg[Tt]=new Se[Tt](ee)}return ee.store&&(ee.data=new oe),ee},newtuple(C,B){let ee=this._dnames,Se=this._dims,ht=Se.length,Tt={};for(let Zt=0;Zt<ht;++Zt)Tt[ee[Zt]]=Se[Zt](C);return B?t.replace(B.tuple,Tt):t.ingest(Tt)},clean(){let C=this.value;for(let B in C)C[B].num===0&&delete C[B]},add(C){let B=this.cellkey(C),ee=this.cell(B,C);if(ee.num+=1,this._countOnly)return;ee.store&&ee.data.add(C);let Se=ee.agg;for(let ht=0,Tt=Se.length;ht<Tt;++ht)Se[ht].add(Se[ht].get(C),C)},rem(C){let B=this.cellkey(C),ee=this.cell(B,C);if(ee.num-=1,this._countOnly)return;ee.store&&ee.data.rem(C);let Se=ee.agg;for(let ht=0,Tt=Se.length;ht<Tt;++ht)Se[ht].rem(Se[ht].get(C),C)},celltuple(C){let B=C.tuple,ee=this._counts;C.store&&C.data.values();for(let Se=0,ht=ee.length;Se<ht;++Se)B[ee[Se]]=C.num;if(!this._countOnly){let Se=C.agg;for(let ht=0,Tt=Se.length;ht<Tt;++ht)Se[ht].set(B)}return B},changes(C){let B=this._adds,ee=this._mods,Se=this._prev,ht=this._drop,Tt=C.add,Zt=C.rem,Xt=C.mod,xn,qn,Un,Vn;if(Se)for(qn in Se)xn=Se[qn],(!ht||xn.num)&&Zt.push(xn.tuple);for(Un=0,Vn=this._alen;Un<Vn;++Un)Tt.push(this.celltuple(B[Un])),B[Un]=null;for(Un=0,Vn=this._mlen;Un<Vn;++Un)xn=ee[Un],(xn.num===0&&ht?Zt:Xt).push(this.celltuple(xn)),ee[Un]=null;return this._alen=this._mlen=0,this._prev=null,C}});let he=1e-14;function ye(C){t.Transform.call(this,null,C)}ye.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},e.inherits(ye,t.Transform,{transform(C,B){let ee=C.interval!==!1,Se=this._bins(C),ht=Se.start,Tt=Se.step,Zt=C.as||["bin0","bin1"],Xt=Zt[0],xn=Zt[1],qn;return C.modified()?(B=B.reflow(!0),qn=B.SOURCE):qn=B.modified(e.accessorFields(C.field))?B.ADD_MOD:B.ADD,B.visit(qn,ee?Un=>{let Vn=Se(Un);Un[Xt]=Vn,Un[xn]=Vn==null?null:ht+Tt*(1+(Vn-ht)/Tt)}:Un=>Un[Xt]=Se(Un)),B.modifies(ee?Zt:Xt)},_bins(C){if(this.value&&!C.modified())return this.value;let B=C.field,ee=r.bin(C),Se=ee.step,ht=ee.start,Tt=ht+Math.ceil((ee.stop-ht)/Se)*Se,Zt,Xt;(Zt=C.anchor)!=null&&(Xt=Zt-(ht+Se*Math.floor((Zt-ht)/Se)),ht+=Xt,Tt+=Xt);let xn=function(qn){let Un=e.toNumber(B(qn));return Un==null?null:Un<ht?-1/0:Un>Tt?1/0:(Un=Math.max(ht,Math.min(Un,Tt-Se)),ht+Se*Math.floor(he+(Un-ht)/Se))};return xn.start=ht,xn.stop=ee.stop,xn.step=Se,this.value=e.accessor(xn,e.accessorFields(B),C.name||"bin_"+e.accessorName(B))}});function He(C,B,ee){let Se=C,ht=B||[],Tt=ee||[],Zt={},Xt=0;return{add:xn=>Tt.push(xn),remove:xn=>Zt[Se(xn)]=++Xt,size:()=>ht.length,data:(xn,qn)=>(Xt&&(ht=ht.filter(Un=>!Zt[Se(Un)]),Zt={},Xt=0),qn&&xn&&ht.sort(xn),Tt.length&&(ht=xn?e.merge(xn,ht,Tt.sort(xn)):ht.concat(Tt),Tt=[]),ht)}}function at(C){t.Transform.call(this,[],C)}at.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},e.inherits(at,t.Transform,{transform(C,B){let ee=B.fork(B.ALL),Se=He(t.tupleid,this.value,ee.materialize(ee.ADD).add),ht=C.sort,Tt=B.changed()||ht&&(C.modified("sort")||B.modified(ht.fields));return ee.visit(ee.REM,Se.remove),this.modified(Tt),this.value=ee.source=Se.data(t.stableCompare(ht),Tt),B.source&&B.source.root&&(this.value.root=B.source.root),ee}});function ct(C){t.Operator.call(this,null,Ze,C)}e.inherits(ct,t.Operator);function Ze(C){return this.value&&!C.modified()?this.value:e.compare(C.fields,C.orders)}function bt(C){t.Transform.call(this,null,C)}bt.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function Mt(C,B,ee){switch(B){case"upper":C=C.toUpperCase();break;case"lower":C=C.toLowerCase();break}return C.match(ee)}e.inherits(bt,t.Transform,{transform(C,B){let ee=Vn=>Jr=>{for(var Wr=Mt(Xt(Jr),C.case,Tt)||[],yr,Mr=0,xi=Wr.length;Mr<xi;++Mr)Zt.test(yr=Wr[Mr])||Vn(yr)},Se=this._parameterCheck(C,B),ht=this._counts,Tt=this._match,Zt=this._stop,Xt=C.field,xn=C.as||["text","count"],qn=ee(Vn=>ht[Vn]=1+(ht[Vn]||0)),Un=ee(Vn=>ht[Vn]-=1);return Se?B.visit(B.SOURCE,qn):(B.visit(B.ADD,qn),B.visit(B.REM,Un)),this._finish(B,xn)},_parameterCheck(C,B){let ee=!1;return(C.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(C.stopwords||"")+"$","i"),ee=!0),(C.modified("pattern")||!this._match)&&(this._match=new RegExp(C.pattern||"[\\w']+","g"),ee=!0),(C.modified("field")||B.modified(C.field.fields))&&(ee=!0),ee&&(this._counts={}),ee},_finish(C,B){let ee=this._counts,Se=this._tuples||(this._tuples={}),ht=B[0],Tt=B[1],Zt=C.fork(C.NO_SOURCE|C.NO_FIELDS),Xt,xn,qn;for(Xt in ee)xn=Se[Xt],qn=ee[Xt]||0,!xn&&qn?(Se[Xt]=xn=t.ingest({}),xn[ht]=Xt,xn[Tt]=qn,Zt.add.push(xn)):qn===0?(xn&&Zt.rem.push(xn),ee[Xt]=null,Se[Xt]=null):xn[Tt]!==qn&&(xn[Tt]=qn,Zt.mod.push(xn));return Zt.modifies(B)}});function qe(C){t.Transform.call(this,null,C)}qe.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},e.inherits(qe,t.Transform,{transform(C,B){let ee=B.fork(B.NO_SOURCE),Se=C.as||["a","b"],ht=Se[0],Tt=Se[1],Zt=!this.value||B.changed(B.ADD_REM)||C.modified("as")||C.modified("filter"),Xt=this.value;return Zt?(Xt&&(ee.rem=Xt),Xt=B.materialize(B.SOURCE).source,ee.add=this.value=te(Xt,ht,Tt,C.filter||e.truthy)):ee.mod=Xt,ee.source=this.value,ee.modifies(Se)}});function te(C,B,ee,Se){for(var ht=[],Tt={},Zt=C.length,Xt=0,xn,qn;Xt<Zt;++Xt)for(Tt[B]=qn=C[Xt],xn=0;xn<Zt;++xn)Tt[ee]=C[xn],Se(Tt)&&(ht.push(t.ingest(Tt)),Tt={},Tt[B]=qn);return ht}let et={kde:r.randomKDE,mixture:r.randomMixture,normal:r.randomNormal,lognormal:r.randomLogNormal,uniform:r.randomUniform},Ee="distributions",ke="function",Ce="field";function pe(C,B){let ee=C[ke];e.hasOwnProperty(et,ee)||e.error("Unknown distribution function: "+ee);let Se=et[ee]();for(let ht in C)ht===Ce?Se.data((C.from||B()).map(C[ht])):ht===Ee?Se[ht](C[ht].map(Tt=>pe(Tt,B))):typeof Se[ht]===ke&&Se[ht](C[ht]);return Se}function Je(C){t.Transform.call(this,null,C)}let lt=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Ht={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:lt},{name:"weights",type:"number",array:!0}]};Je.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:lt.concat(Ht)},{name:"as",type:"string",array:!0,default:["value","density"]}]},e.inherits(Je,t.Transform,{transform(C,B){let ee=B.fork(B.NO_SOURCE|B.NO_FIELDS);if(!this.value||B.changed()||C.modified()){let Se=pe(C.distribution,wt(B)),ht=C.steps||C.minsteps||25,Tt=C.steps||C.maxsteps||200,Zt=C.method||"pdf";Zt!=="pdf"&&Zt!=="cdf"&&e.error("Invalid density method: "+Zt),!C.extent&&!Se.data&&e.error("Missing density extent parameter."),Zt=Se[Zt];let Xt=C.as||["value","density"],xn=C.extent||e.extent(Se.data()),qn=r.sampleCurve(Zt,xn,ht,Tt).map(Un=>{let Vn={};return Vn[Xt[0]]=Un[0],Vn[Xt[1]]=Un[1],t.ingest(Vn)});this.value&&(ee.rem=this.value),this.value=ee.add=ee.source=qn}return ee}});function wt(C){return()=>C.materialize(C.SOURCE).source}function mn(C,B){return C?C.map((ee,Se)=>B[Se]||e.accessorName(ee)):null}function kt(C,B,ee){let Se=[],ht=Vn=>Vn(xn),Tt,Zt,Xt,xn,qn,Un;if(B==null)Se.push(C.map(ee));else for(Tt={},Zt=0,Xt=C.length;Zt<Xt;++Zt)xn=C[Zt],qn=B.map(ht),Un=Tt[qn],Un||(Tt[qn]=Un=[],Un.dims=qn,Se.push(Un)),Un.push(ee(xn));return Se}let Bt="bin";function tn(C){t.Transform.call(this,null,C)}tn.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:Bt}]};let Et=(C,B)=>e.span(e.extent(C,B))/30;e.inherits(tn,t.Transform,{transform(C,B){if(this.value&&!(C.modified()||B.changed()))return B;let ee=B.materialize(B.SOURCE).source,Se=kt(B.source,C.groupby,e.identity),ht=C.smooth||!1,Tt=C.field,Zt=C.step||Et(ee,Tt),Xt=t.stableCompare((yr,Mr)=>Tt(yr)-Tt(Mr)),xn=C.as||Bt,qn=Se.length,Un=1/0,Vn=-1/0,Jr=0,Wr;for(;Jr<qn;++Jr){let yr=Se[Jr].sort(Xt);Wr=-1;for(let Mr of r.dotbin(yr,Zt,ht,Tt))Mr<Un&&(Un=Mr),Mr>Vn&&(Vn=Mr),yr[++Wr][xn]=Mr}return this.value={start:Un,stop:Vn,step:Zt},B.reflow(!0).modifies(xn)}});function ve(C){t.Operator.call(this,null,Le,C),this.modified(!0)}e.inherits(ve,t.Operator);function Le(C){let B=C.expr;return this.value&&!C.modified("expr")?this.value:e.accessor(ee=>B(ee,C),e.accessorFields(B),e.accessorName(B))}function _e(C){t.Transform.call(this,[void 0,void 0],C)}_e.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},e.inherits(_e,t.Transform,{transform(C,B){let ee=this.value,Se=C.field,ht=B.changed()||B.modified(Se.fields)||C.modified("field"),Tt=ee[0],Zt=ee[1];if((ht||Tt==null)&&(Tt=1/0,Zt=-1/0),B.visit(ht?B.SOURCE:B.ADD,Xt=>{let xn=e.toNumber(Se(Xt));xn!=null&&(xn<Tt&&(Tt=xn),xn>Zt&&(Zt=xn))}),!Number.isFinite(Tt)||!Number.isFinite(Zt)){let Xt=e.accessorName(Se);Xt&&(Xt=` for field "${Xt}"`),B.dataflow.warn(`Infinite extent${Xt}: [${Tt}, ${Zt}]`),Tt=Zt=void 0}this.value=[Tt,Zt]}});function ce(C,B){t.Operator.call(this,C),this.parent=B,this.count=0}e.inherits(ce,t.Operator,{connect(C){return this.detachSubflow=C.detachSubflow,this.targets().add(C),C.source=this},add(C){this.count+=1,this.value.add.push(C)},rem(C){this.count-=1,this.value.rem.push(C)},mod(C){this.value.mod.push(C)},init(C){this.value.init(C,C.NO_SOURCE)},evaluate(){return this.value}});function tt(C){t.Transform.call(this,{},C),this._keys=e.fastmap();let B=this._targets=[];B.active=0,B.forEach=ee=>{for(let Se=0,ht=B.active;Se<ht;++Se)ee(B[Se],Se,B)}}e.inherits(tt,t.Transform,{activate(C){this._targets[this._targets.active++]=C},subflow(C,B,ee,Se){let ht=this.value,Tt=e.hasOwnProperty(ht,C)&&ht[C],Zt,Xt;return Tt?Tt.value.stamp<ee.stamp&&(Tt.init(ee),this.activate(Tt)):(Xt=Se||(Xt=this._group[C])&&Xt.tuple,Zt=ee.dataflow,Tt=new ce(ee.fork(ee.NO_SOURCE),this),Zt.add(Tt).connect(B(Zt,C,Xt)),ht[C]=Tt,this.activate(Tt)),Tt},clean(){let C=this.value,B=0;for(let ee in C)if(C[ee].count===0){let Se=C[ee].detachSubflow;Se&&Se(),delete C[ee],++B}if(B){let ee=this._targets.filter(Se=>Se&&Se.count>0);this.initTargets(ee)}},initTargets(C){let B=this._targets,ee=B.length,Se=C?C.length:0,ht=0;for(;ht<Se;++ht)B[ht]=C[ht];for(;ht<ee&&B[ht]!=null;++ht)B[ht]=null;B.active=Se},transform(C,B){let ee=B.dataflow,Se=C.key,ht=C.subflow,Tt=this._keys,Zt=C.modified("key"),Xt=xn=>this.subflow(xn,ht,B);return this._group=C.group||{},this.initTargets(),B.visit(B.REM,xn=>{let qn=t.tupleid(xn),Un=Tt.get(qn);Un!==void 0&&(Tt.delete(qn),Xt(Un).rem(xn))}),B.visit(B.ADD,xn=>{let qn=Se(xn);Tt.set(t.tupleid(xn),qn),Xt(qn).add(xn)}),Zt||B.modified(Se.fields)?B.visit(B.MOD,xn=>{let qn=t.tupleid(xn),Un=Tt.get(qn),Vn=Se(xn);Un===Vn?Xt(Vn).mod(xn):(Tt.set(qn,Vn),Xt(Un).rem(xn),Xt(Vn).add(xn))}):B.changed(B.MOD)&&B.visit(B.MOD,xn=>{Xt(Tt.get(t.tupleid(xn))).mod(xn)}),Zt&&B.visit(B.REFLOW,xn=>{let qn=t.tupleid(xn),Un=Tt.get(qn),Vn=Se(xn);Un!==Vn&&(Tt.set(qn,Vn),Xt(Un).rem(xn),Xt(Vn).add(xn))}),B.clean()?ee.runAfter(()=>{this.clean(),Tt.clean()}):Tt.empty>ee.cleanThreshold&&ee.runAfter(Tt.clean),B}});function Ke(C){t.Operator.call(this,null,re,C)}e.inherits(Ke,t.Operator);function re(C){return this.value&&!C.modified()?this.value:e.isArray(C.name)?e.array(C.name).map(B=>e.field(B)):e.field(C.name,C.as)}function Re(C){t.Transform.call(this,e.fastmap(),C)}Re.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},e.inherits(Re,t.Transform,{transform(C,B){let ee=B.dataflow,Se=this.value,ht=B.fork(),Tt=ht.add,Zt=ht.rem,Xt=ht.mod,xn=C.expr,qn=!0;B.visit(B.REM,Vn=>{let Jr=t.tupleid(Vn);Se.has(Jr)?Se.delete(Jr):Zt.push(Vn)}),B.visit(B.ADD,Vn=>{xn(Vn,C)?Tt.push(Vn):Se.set(t.tupleid(Vn),1)});function Un(Vn){let Jr=t.tupleid(Vn),Wr=xn(Vn,C),yr=Se.get(Jr);Wr&&yr?(Se.delete(Jr),Tt.push(Vn)):!Wr&&!yr?(Se.set(Jr,1),Zt.push(Vn)):qn&&Wr&&!yr&&Xt.push(Vn)}return B.visit(B.MOD,Un),C.modified()&&(qn=!1,B.visit(B.REFLOW,Un)),Se.empty>ee.cleanThreshold&&ee.runAfter(Se.clean),ht}});function nt(C){t.Transform.call(this,[],C)}nt.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},e.inherits(nt,t.Transform,{transform(C,B){let ee=B.fork(B.NO_SOURCE),Se=C.fields,ht=mn(Se,C.as||[]),Tt=C.index||null,Zt=ht.length;return ee.rem=this.value,B.visit(B.SOURCE,Xt=>{let xn=Se.map(yr=>yr(Xt)),qn=xn.reduce((yr,Mr)=>Math.max(yr,Mr.length),0),Un=0,Vn,Jr,Wr;for(;Un<qn;++Un){for(Jr=t.derive(Xt),Vn=0;Vn<Zt;++Vn)Jr[ht[Vn]]=(Wr=xn[Vn][Un])==null?null:Wr;Tt&&(Jr[Tt]=Un),ee.add.push(Jr)}}),this.value=ee.source=ee.add,Tt&&ee.modifies(Tt),ee.modifies(ht)}});function ft(C){t.Transform.call(this,[],C)}ft.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},e.inherits(ft,t.Transform,{transform(C,B){let ee=B.fork(B.NO_SOURCE),Se=C.fields,ht=Se.map(e.accessorName),Tt=C.as||["key","value"],Zt=Tt[0],Xt=Tt[1],xn=Se.length;return ee.rem=this.value,B.visit(B.SOURCE,qn=>{for(let Un=0,Vn;Un<xn;++Un)Vn=t.derive(qn),Vn[Zt]=ht[Un],Vn[Xt]=Se[Un](qn),ee.add.push(Vn)}),this.value=ee.source=ee.add,ee.modifies(Tt)}});function Rt(C){t.Transform.call(this,null,C)}Rt.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},e.inherits(Rt,t.Transform,{transform(C,B){let ee=C.expr,Se=C.as,ht=C.modified(),Tt=C.initonly?B.ADD:ht?B.SOURCE:B.modified(ee.fields)||B.modified(Se)?B.ADD_MOD:B.ADD;return ht&&(B=B.materialize().reflow(!0)),C.initonly||B.modifies(Se),B.visit(Tt,Zt=>Zt[Se]=ee(Zt,C))}});function Yt(C){t.Transform.call(this,[],C)}e.inherits(Yt,t.Transform,{transform(C,B){let ee=B.fork(B.ALL),Se=C.generator,ht=this.value,Tt=C.size-ht.length,Zt,Xt,xn;if(Tt>0){for(Zt=[];--Tt>=0;)Zt.push(xn=t.ingest(Se(C))),ht.push(xn);ee.add=ee.add.length?ee.materialize(ee.ADD).add.concat(Zt):Zt}else Xt=ht.slice(0,-Tt),ee.rem=ee.rem.length?ee.materialize(ee.REM).rem.concat(Xt):Xt,ht=ht.slice(-Tt);return ee.source=this.value=ht,ee}});function Gt(C,B){return C==null||B==null?NaN:C<B?-1:C>B?1:C>=B?0:NaN}function fn(C){let B=C,ee=C,Se=C;C.length!==2&&(B=(Xt,xn)=>C(Xt)-xn,ee=Gt,Se=(Xt,xn)=>Gt(C(Xt),xn));function ht(Xt,xn,qn=0,Un=Xt.length){if(qn<Un){if(ee(xn,xn)!==0)return Un;do{let Vn=qn+Un>>>1;Se(Xt[Vn],xn)<0?qn=Vn+1:Un=Vn}while(qn<Un)}return qn}function Tt(Xt,xn,qn=0,Un=Xt.length){if(qn<Un){if(ee(xn,xn)!==0)return Un;do{let Vn=qn+Un>>>1;Se(Xt[Vn],xn)<=0?qn=Vn+1:Un=Vn}while(qn<Un)}return qn}function Zt(Xt,xn,qn=0,Un=Xt.length){let Vn=ht(Xt,xn,qn,Un-1);return Vn>qn&&B(Xt[Vn-1],xn)>-B(Xt[Vn],xn)?Vn-1:Vn}return{left:ht,center:Zt,right:Tt}}function*gn(C,B){if(B===void 0)for(let ee of C)ee!=null&&(ee=+ee)>=ee&&(yield ee);else{let ee=-1;for(let Se of C)(Se=B(Se,++ee,C))!=null&&(Se=+Se)>=Se&&(yield Se)}}function yn(C=Gt){if(C===Gt)return Lt;if(typeof C!="function")throw new TypeError("compare is not a function");return(B,ee)=>{let Se=C(B,ee);return Se||Se===0?Se:(C(ee,ee)===0)-(C(B,B)===0)}}function Lt(C,B){return(C==null||!(C>=C))-(B==null||!(B>=B))||(C<B?-1:C>B?1:0)}function un(C,B){let ee;if(B===void 0)for(let Se of C)Se!=null&&(ee<Se||ee===void 0&&Se>=Se)&&(ee=Se);else{let Se=-1;for(let ht of C)(ht=B(ht,++Se,C))!=null&&(ee<ht||ee===void 0&&ht>=ht)&&(ee=ht)}return ee}function Pn(C,B){let ee;if(B===void 0)for(let Se of C)Se!=null&&(ee>Se||ee===void 0&&Se>=Se)&&(ee=Se);else{let Se=-1;for(let ht of C)(ht=B(ht,++Se,C))!=null&&(ee>ht||ee===void 0&&ht>=ht)&&(ee=ht)}return ee}function nr(C,B,ee=0,Se=C.length-1,ht){for(ht=ht===void 0?Lt:yn(ht);Se>ee;){if(Se-ee>600){let xn=Se-ee+1,qn=B-ee+1,Un=Math.log(xn),Vn=.5*Math.exp(2*Un/3),Jr=.5*Math.sqrt(Un*Vn*(xn-Vn)/xn)*(qn-xn/2<0?-1:1),Wr=Math.max(ee,Math.floor(B-qn*Vn/xn+Jr)),yr=Math.min(Se,Math.floor(B+(xn-qn)*Vn/xn+Jr));nr(C,B,Wr,yr,ht)}let Tt=C[B],Zt=ee,Xt=Se;for(On(C,ee,B),ht(C[Se],Tt)>0&&On(C,ee,Se);Zt<Xt;){for(On(C,Zt,Xt),++Zt,--Xt;ht(C[Zt],Tt)<0;)++Zt;for(;ht(C[Xt],Tt)>0;)--Xt}ht(C[ee],Tt)===0?On(C,ee,Xt):(++Xt,On(C,Xt,Se)),Xt<=B&&(ee=Xt+1),B<=Xt&&(Se=Xt-1)}return C}function On(C,B,ee){let Se=C[B];C[B]=C[ee],C[ee]=Se}function Ne(C,B,ee){if(C=Float64Array.from(gn(C,ee)),!!(Se=C.length)){if((B=+B)<=0||Se<2)return Pn(C);if(B>=1)return un(C);var Se,ht=(Se-1)*B,Tt=Math.floor(ht),Zt=un(nr(C,Tt).subarray(0,Tt+1)),Xt=Pn(C.subarray(Tt+1));return Zt+(Xt-Zt)*(ht-Tt)}}function ze(C,B){let ee=0,Se=0;if(B===void 0)for(let ht of C)ht!=null&&(ht=+ht)>=ht&&(++ee,Se+=ht);else{let ht=-1;for(let Tt of C)(Tt=B(Tt,++ht,C))!=null&&(Tt=+Tt)>=Tt&&(++ee,Se+=Tt)}if(ee)return Se/ee}function De(C,B){return Ne(C,.5,B)}function Pt(C,B,ee){C=+C,B=+B,ee=(ht=arguments.length)<2?(B=C,C=0,1):ht<3?1:+ee;for(var Se=-1,ht=Math.max(0,Math.ceil((B-C)/ee))|0,Tt=new Array(ht);++Se<ht;)Tt[Se]=C+Se*ee;return Tt}let mt={value:"value",median:De,mean:ze,min:Pn,max:un},xt=[];function rn(C){t.Transform.call(this,[],C)}rn.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function Qt(C){var B=C.method||mt.value,ee;if(mt[B]==null)e.error("Unrecognized imputation method: "+B);else return B===mt.value?(ee=C.value!==void 0?C.value:0,()=>ee):mt[B]}function Fn(C){let B=C.field;return ee=>ee?B(ee):NaN}e.inherits(rn,t.Transform,{transform(C,B){var ee=B.fork(B.ALL),Se=Qt(C),ht=Fn(C),Tt=e.accessorName(C.field),Zt=e.accessorName(C.key),Xt=(C.groupby||[]).map(e.accessorName),xn=Wn(B.source,C.groupby,C.key,C.keyvals),qn=[],Un=this.value,Vn=xn.domain.length,Jr,Wr,yr,Mr,xi,ai,Xi,Cs,ts,Aa;for(xi=0,Cs=xn.length;xi<Cs;++xi)for(Jr=xn[xi],yr=Jr.values,Wr=NaN,Xi=0;Xi<Vn;++Xi)if(Jr[Xi]==null){for(Mr=xn.domain[Xi],Aa={_impute:!0},ai=0,ts=yr.length;ai<ts;++ai)Aa[Xt[ai]]=yr[ai];Aa[Zt]=Mr,Aa[Tt]=Number.isNaN(Wr)?Wr=Se(Jr,ht):Wr,qn.push(t.ingest(Aa))}return qn.length&&(ee.add=ee.materialize(ee.ADD).add.concat(qn)),Un.length&&(ee.rem=ee.materialize(ee.REM).rem.concat(Un)),this.value=qn,ee}});function Wn(C,B,ee,Se){var ht=ai=>ai(xi),Tt=[],Zt=Se?Se.slice():[],Xt={},xn={},qn,Un,Vn,Jr,Wr,yr,Mr,xi;for(Zt.forEach((ai,Xi)=>Xt[ai]=Xi+1),Jr=0,Mr=C.length;Jr<Mr;++Jr)xi=C[Jr],yr=ee(xi),Wr=Xt[yr]||(Xt[yr]=Zt.push(yr)),Un=(qn=B?B.map(ht):xt)+"",(Vn=xn[Un])||(Vn=xn[Un]=[],Tt.push(Vn),Vn.values=qn),Vn[Wr-1]=xi;return Tt.domain=Zt,Tt}function Zn(C){J.call(this,C)}Zn.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:_},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},e.inherits(Zn,J,{transform(C,B){let ee=this,Se=C.modified(),ht;return ee.value&&(Se||B.modified(ee._inputs,!0))?(ht=ee.value=Se?ee.init(C):{},B.visit(B.SOURCE,Tt=>ee.add(Tt))):(ht=ee.value=ee.value||this.init(C),B.visit(B.REM,Tt=>ee.rem(Tt)),B.visit(B.ADD,Tt=>ee.add(Tt))),ee.changes(),B.visit(B.SOURCE,Tt=>{e.extend(Tt,ht[ee.cellkey(Tt)].tuple)}),B.reflow(Se).modifies(this._outputs)},changes(){let C=this._adds,B=this._mods,ee,Se;for(ee=0,Se=this._alen;ee<Se;++ee)this.celltuple(C[ee]),C[ee]=null;for(ee=0,Se=this._mlen;ee<Se;++ee)this.celltuple(B[ee]),B[ee]=null;this._alen=this._mlen=0}});function Nn(C){t.Transform.call(this,null,C)}Nn.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},e.inherits(Nn,t.Transform,{transform(C,B){let ee=B.fork(B.NO_SOURCE|B.NO_FIELDS);if(!this.value||B.changed()||C.modified()){let Se=B.materialize(B.SOURCE).source,ht=kt(Se,C.groupby,C.field),Tt=(C.groupby||[]).map(e.accessorName),Zt=C.bandwidth,Xt=C.cumulative?"cdf":"pdf",xn=C.as||["value","density"],qn=[],Un=C.extent,Vn=C.steps||C.minsteps||25,Jr=C.steps||C.maxsteps||200;Xt!=="pdf"&&Xt!=="cdf"&&e.error("Invalid density method: "+Xt),C.resolve==="shared"&&(Un||(Un=e.extent(Se,C.field)),Vn=Jr=C.steps||Jr),ht.forEach(Wr=>{let yr=r.randomKDE(Wr,Zt)[Xt],Mr=C.counts?Wr.length:1,xi=Un||e.extent(Wr);r.sampleCurve(yr,xi,Vn,Jr).forEach(ai=>{let Xi={};for(let Cs=0;Cs<Tt.length;++Cs)Xi[Tt[Cs]]=Wr.dims[Cs];Xi[xn[0]]=ai[0],Xi[xn[1]]=ai[1]*Mr,qn.push(t.ingest(Xi))})}),this.value&&(ee.rem=this.value),this.value=ee.add=ee.source=qn}return ee}});function rr(C){t.Operator.call(this,null,Ye,C)}e.inherits(rr,t.Operator);function Ye(C){return this.value&&!C.modified()?this.value:e.key(C.fields,C.flat)}function vt(C){t.Transform.call(this,[],C),this._pending=null}e.inherits(vt,t.Transform,{transform(C,B){let ee=B.dataflow;return this._pending?Be(this,B,this._pending):ae(C)?B.StopPropagation:C.values?Be(this,B,ee.parse(C.values,C.format)):C.async?{async:ee.request(C.url,C.format).then(ht=>(this._pending=e.array(ht.data),Tt=>Tt.touch(this)))}:ee.request(C.url,C.format).then(Se=>Be(this,B,e.array(Se.data)))}});function ae(C){return C.modified("async")&&!(C.modified("values")||C.modified("url")||C.modified("format"))}function Be(C,B,ee){ee.forEach(t.ingest);let Se=B.fork(B.NO_FIELDS&B.NO_SOURCE);return Se.rem=C.value,C.value=Se.source=Se.add=ee,C._pending=null,Se.rem.length&&Se.clean(!0),Se}function rt(C){t.Transform.call(this,{},C)}rt.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},e.inherits(rt,t.Transform,{transform(C,B){let ee=C.fields,Se=C.index,ht=C.values,Tt=C.default==null?null:C.default,Zt=C.modified(),Xt=ee.length,xn=Zt?B.SOURCE:B.ADD,qn=B,Un=C.as,Vn,Jr,Wr;return ht?(Jr=ht.length,Xt>1&&!Un&&e.error('Multi-field lookup requires explicit "as" parameter.'),Un&&Un.length!==Xt*Jr&&e.error('The "as" parameter has too few output field names.'),Un=Un||ht.map(e.accessorName),Vn=function(yr){for(var Mr=0,xi=0,ai,Xi;Mr<Xt;++Mr)if(Xi=Se.get(ee[Mr](yr)),Xi==null)for(ai=0;ai<Jr;++ai,++xi)yr[Un[xi]]=Tt;else for(ai=0;ai<Jr;++ai,++xi)yr[Un[xi]]=ht[ai](Xi)}):(Un||e.error("Missing output field names."),Vn=function(yr){for(var Mr=0,xi;Mr<Xt;++Mr)xi=Se.get(ee[Mr](yr)),yr[Un[Mr]]=xi??Tt}),Zt?qn=B.reflow(!0):(Wr=ee.some(yr=>B.modified(yr.fields)),xn|=Wr?B.MOD:0),B.visit(xn,Vn),qn.modifies(Un)}});function Dt(C){t.Operator.call(this,null,hn,C)}e.inherits(Dt,t.Operator);function hn(C){if(this.value&&!C.modified())return this.value;let B=C.extents,ee=B.length,Se=1/0,ht=-1/0,Tt,Zt;for(Tt=0;Tt<ee;++Tt)Zt=B[Tt],Zt[0]<Se&&(Se=Zt[0]),Zt[1]>ht&&(ht=Zt[1]);return[Se,ht]}function an(C){t.Operator.call(this,null,dt,C)}e.inherits(an,t.Operator);function dt(C){return this.value&&!C.modified()?this.value:C.values.reduce((B,ee)=>B.concat(ee),[])}function ie(C){t.Transform.call(this,null,C)}e.inherits(ie,t.Transform,{transform(C,B){return this.modified(C.modified()),this.value=C,B.fork(B.NO_SOURCE|B.NO_FIELDS)}});function Te(C){J.call(this,C)}Te.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:_,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},e.inherits(Te,J,{_transform:J.prototype.transform,transform(C,B){return this._transform(Ue(C,B),B)}});function Ue(C,B){let ee=C.field,Se=C.value,ht=(C.op==="count"?"__count__":C.op)||"sum",Tt=e.accessorFields(ee).concat(e.accessorFields(Se)),Zt=St(ee,C.limit||0,B);return B.changed()&&C.set("__pivot__",null,null,!0),{key:C.key,groupby:C.groupby,ops:Zt.map(()=>ht),fields:Zt.map(Xt=>gt(Xt,ee,Se,Tt)),as:Zt.map(Xt=>Xt+""),modified:C.modified.bind(C)}}function gt(C,B,ee,Se){return e.accessor(ht=>B(ht)===C?ee(ht):NaN,Se,C+"")}function St(C,B,ee){let Se={},ht=[];return ee.visit(ee.SOURCE,Tt=>{let Zt=C(Tt);Se[Zt]||(Se[Zt]=1,ht.push(Zt))}),ht.sort(e.ascending),B?ht.slice(0,B):ht}function Ot(C){tt.call(this,C)}e.inherits(Ot,tt,{transform(C,B){let ee=C.subflow,Se=C.field,ht=Tt=>this.subflow(t.tupleid(Tt),ee,B,Tt);return(C.modified("field")||Se&&B.modified(e.accessorFields(Se)))&&e.error("PreFacet does not support field modification."),this.initTargets(),Se?(B.visit(B.MOD,Tt=>{let Zt=ht(Tt);Se(Tt).forEach(Xt=>Zt.mod(Xt))}),B.visit(B.ADD,Tt=>{let Zt=ht(Tt);Se(Tt).forEach(Xt=>Zt.add(t.ingest(Xt)))}),B.visit(B.REM,Tt=>{let Zt=ht(Tt);Se(Tt).forEach(Xt=>Zt.rem(Xt))})):(B.visit(B.MOD,Tt=>ht(Tt).mod(Tt)),B.visit(B.ADD,Tt=>ht(Tt).add(Tt)),B.visit(B.REM,Tt=>ht(Tt).rem(Tt))),B.clean()&&B.runAfter(()=>this.clean()),B}});function ne(C){t.Transform.call(this,null,C)}ne.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},e.inherits(ne,t.Transform,{transform(C,B){let ee=B.fork(B.NO_SOURCE),Se=C.fields,ht=mn(C.fields,C.as||[]),Tt=Se?(Xt,xn)=>we(Xt,xn,Se,ht):t.rederive,Zt;return this.value?Zt=this.value:(B=B.addAll(),Zt=this.value={}),B.visit(B.REM,Xt=>{let xn=t.tupleid(Xt);ee.rem.push(Zt[xn]),Zt[xn]=null}),B.visit(B.ADD,Xt=>{let xn=Tt(Xt,t.ingest({}));Zt[t.tupleid(Xt)]=xn,ee.add.push(xn)}),B.visit(B.MOD,Xt=>{ee.mod.push(Tt(Xt,Zt[t.tupleid(Xt)]))}),ee}});function we(C,B,ee,Se){for(let ht=0,Tt=ee.length;ht<Tt;++ht)B[Se[ht]]=ee[ht](C);return B}function We(C){t.Transform.call(this,null,C)}e.inherits(We,t.Transform,{transform(C,B){return this.value=C.value,C.modified("value")?B.fork(B.NO_SOURCE|B.NO_FIELDS):B.StopPropagation}});function st(C){t.Transform.call(this,null,C)}st.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};let Ut=1e-14;e.inherits(st,t.Transform,{transform(C,B){let ee=B.fork(B.NO_SOURCE|B.NO_FIELDS),Se=C.as||["prob","value"];if(this.value&&!C.modified()&&!B.changed())return ee.source=this.value,ee;let ht=B.materialize(B.SOURCE).source,Tt=kt(ht,C.groupby,C.field),Zt=(C.groupby||[]).map(e.accessorName),Xt=[],xn=C.step||.01,qn=C.probs||Pt(xn/2,1-Ut,xn),Un=qn.length;return Tt.forEach(Vn=>{let Jr=r.quantiles(Vn,qn);for(let Wr=0;Wr<Un;++Wr){let yr={};for(let Mr=0;Mr<Zt.length;++Mr)yr[Zt[Mr]]=Vn.dims[Mr];yr[Se[0]]=qn[Wr],yr[Se[1]]=Jr[Wr],Xt.push(t.ingest(yr))}}),this.value&&(ee.rem=this.value),this.value=ee.add=ee.source=Xt,ee}});function sn(C){t.Transform.call(this,null,C)}e.inherits(sn,t.Transform,{transform(C,B){let ee,Se;return this.value?Se=this.value:(ee=B=B.addAll(),Se=this.value={}),C.derive&&(ee=B.fork(B.NO_SOURCE),B.visit(B.REM,ht=>{let Tt=t.tupleid(ht);ee.rem.push(Se[Tt]),Se[Tt]=null}),B.visit(B.ADD,ht=>{let Tt=t.derive(ht);Se[t.tupleid(ht)]=Tt,ee.add.push(Tt)}),B.visit(B.MOD,ht=>{let Tt=Se[t.tupleid(ht)];for(let Zt in ht)Tt[Zt]=ht[Zt],ee.modifies(Zt);ee.mod.push(Tt)})),ee}});function wn(C){t.Transform.call(this,[],C),this.count=0}wn.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},e.inherits(wn,t.Transform,{transform(C,B){let ee=B.fork(B.NO_SOURCE),Se=C.modified("size"),ht=C.size,Tt=this.value.reduce((Un,Vn)=>(Un[t.tupleid(Vn)]=1,Un),{}),Zt=this.value,Xt=this.count,xn=0;function qn(Un){let Vn,Jr;Zt.length<ht?Zt.push(Un):(Jr=~~((Xt+1)*r.random()),Jr<Zt.length&&Jr>=xn&&(Vn=Zt[Jr],Tt[t.tupleid(Vn)]&&ee.rem.push(Vn),Zt[Jr]=Un)),++Xt}if(B.rem.length&&(B.visit(B.REM,Un=>{let Vn=t.tupleid(Un);Tt[Vn]&&(Tt[Vn]=-1,ee.rem.push(Un)),--Xt}),Zt=Zt.filter(Un=>Tt[t.tupleid(Un)]!==-1)),(B.rem.length||Se)&&Zt.length<ht&&B.source&&(xn=Xt=Zt.length,B.visit(B.SOURCE,Un=>{Tt[t.tupleid(Un)]||qn(Un)}),xn=-1),Se&&Zt.length>ht){let Un=Zt.length-ht;for(let Vn=0;Vn<Un;++Vn)Tt[t.tupleid(Zt[Vn])]=-1,ee.rem.push(Zt[Vn]);Zt=Zt.slice(Un)}return B.mod.length&&B.visit(B.MOD,Un=>{Tt[t.tupleid(Un)]&&ee.mod.push(Un)}),B.add.length&&B.visit(B.ADD,qn),(B.add.length||xn<0)&&(ee.add=Zt.filter(Un=>!Tt[t.tupleid(Un)])),this.count=Xt,this.value=ee.source=Zt,ee}});function bn(C){t.Transform.call(this,null,C)}bn.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},e.inherits(bn,t.Transform,{transform(C,B){if(this.value&&!C.modified())return;let ee=B.materialize().fork(B.MOD),Se=C.as||"data";return ee.rem=this.value?B.rem.concat(this.value):B.rem,this.value=Pt(C.start,C.stop,C.step||1).map(ht=>{let Tt={};return Tt[Se]=ht,t.ingest(Tt)}),ee.add=B.add.concat(this.value),ee}});function vn(C){t.Transform.call(this,null,C),this.modified(!0)}e.inherits(vn,t.Transform,{transform(C,B){return this.value=B.source,B.changed()?B.fork(B.NO_SOURCE|B.NO_FIELDS):B.StopPropagation}});function zn(C){t.Transform.call(this,null,C)}let Oe=["unit0","unit1"];zn.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:i.TIME_UNITS,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:Oe}]},e.inherits(zn,t.Transform,{transform(C,B){let ee=C.field,Se=C.interval!==!1,ht=C.timezone==="utc",Tt=this._floor(C,B),Zt=(ht?i.utcInterval:i.timeInterval)(Tt.unit).offset,Xt=C.as||Oe,xn=Xt[0],qn=Xt[1],Un=Tt.step,Vn=Tt.start||1/0,Jr=Tt.stop||-1/0,Wr=B.ADD;return(C.modified()||B.changed(B.REM)||B.modified(e.accessorFields(ee)))&&(B=B.reflow(!0),Wr=B.SOURCE,Vn=1/0,Jr=-1/0),B.visit(Wr,yr=>{let Mr=ee(yr),xi,ai;Mr==null?(yr[xn]=null,Se&&(yr[qn]=null)):(yr[xn]=xi=ai=Tt(Mr),Se&&(yr[qn]=ai=Zt(xi,Un)),xi<Vn&&(Vn=xi),ai>Jr&&(Jr=ai))}),Tt.start=Vn,Tt.stop=Jr,B.modifies(Se?Xt:xn)},_floor(C,B){let ee=C.timezone==="utc",{units:Se,step:ht}=C.units?{units:C.units,step:C.step||1}:i.timeBin({extent:C.extent||e.extent(B.materialize(B.SOURCE).source,C.field),maxbins:C.maxbins}),Tt=i.timeUnits(Se),Zt=this.value||{},Xt=(ee?i.utcFloor:i.timeFloor)(Tt,ht);return Xt.unit=e.peek(Tt),Xt.units=Tt,Xt.step=ht,Xt.start=Zt.start,Xt.stop=Zt.stop,this.value=Xt}});function $e(C){t.Transform.call(this,e.fastmap(),C)}e.inherits($e,t.Transform,{transform(C,B){let ee=B.dataflow,Se=C.field,ht=this.value,Tt=Xt=>ht.set(Se(Xt),Xt),Zt=!0;return C.modified("field")||B.modified(Se.fields)?(ht.clear(),B.visit(B.SOURCE,Tt)):B.changed()?(B.visit(B.REM,Xt=>ht.delete(Se(Xt))),B.visit(B.ADD,Tt)):Zt=!1,this.modified(Zt),ht.empty>ee.cleanThreshold&&ee.runAfter(ht.clean),B.fork()}});function Ft(C){t.Transform.call(this,null,C)}e.inherits(Ft,t.Transform,{transform(C,B){(!this.value||C.modified("field")||C.modified("sort")||B.changed()||C.sort&&B.modified(C.sort.fields))&&(this.value=(C.sort?B.source.slice().sort(t.stableCompare(C.sort)):B.source).map(C.field))}});function N(C,B,ee,Se){let ht=V[C](B,ee);return{init:ht.init||e.zero,update:function(Tt,Zt){Zt[Se]=ht.next(Tt)}}}let V={row_number:function(){return{next:C=>C.index+1}},rank:function(){let C;return{init:()=>C=1,next:B=>{let ee=B.index,Se=B.data;return ee&&B.compare(Se[ee-1],Se[ee])?C=ee+1:C}}},dense_rank:function(){let C;return{init:()=>C=1,next:B=>{let ee=B.index,Se=B.data;return ee&&B.compare(Se[ee-1],Se[ee])?++C:C}}},percent_rank:function(){let C=V.rank(),B=C.next;return{init:C.init,next:ee=>(B(ee)-1)/(ee.data.length-1)}},cume_dist:function(){let C;return{init:()=>C=0,next:B=>{let ee=B.data,Se=B.compare,ht=B.index;if(C<ht){for(;ht+1<ee.length&&!Se(ee[ht],ee[ht+1]);)++ht;C=ht}return(1+C)/ee.length}}},ntile:function(C,B){B=+B,B>0||e.error("ntile num must be greater than zero.");let ee=V.cume_dist(),Se=ee.next;return{init:ee.init,next:ht=>Math.ceil(B*Se(ht))}},lag:function(C,B){return B=+B||1,{next:ee=>{let Se=ee.index-B;return Se>=0?C(ee.data[Se]):null}}},lead:function(C,B){return B=+B||1,{next:ee=>{let Se=ee.index+B,ht=ee.data;return Se<ht.length?C(ht[Se]):null}}},first_value:function(C){return{next:B=>C(B.data[B.i0])}},last_value:function(C){return{next:B=>C(B.data[B.i1-1])}},nth_value:function(C,B){return B=+B,B>0||e.error("nth_value nth must be greater than zero."),{next:ee=>{let Se=ee.i0+(B-1);return Se<ee.i1?C(ee.data[Se]):null}}},prev_value:function(C){let B;return{init:()=>B=null,next:ee=>{let Se=C(ee.data[ee.index]);return Se!=null?B=Se:B}}},next_value:function(C){let B,ee;return{init:()=>(B=null,ee=-1),next:Se=>{let ht=Se.data;return Se.index<=ee?B:(ee=be(C,ht,Se.index))<0?(ee=ht.length,B=null):B=C(ht[ee])}}}};function be(C,B,ee){for(let Se=B.length;ee<Se;++ee)if(C(B[ee])!=null)return ee;return-1}let xe=Object.keys(V);function K(C){let B=e.array(C.ops),ee=e.array(C.fields),Se=e.array(C.params),ht=e.array(C.as),Tt=this.outputs=[],Zt=this.windows=[],Xt={},xn={},qn=[],Un=[],Vn=!0;function Jr(Wr){e.array(e.accessorFields(Wr)).forEach(yr=>Xt[yr]=1)}Jr(C.sort),B.forEach((Wr,yr)=>{let Mr=ee[yr],xi=e.accessorName(Mr),ai=a(Wr,xi,ht[yr]);if(Jr(Mr),Tt.push(ai),e.hasOwnProperty(V,Wr))Zt.push(N(Wr,ee[yr],Se[yr],ai));else{if(Mr==null&&Wr!=="count"&&e.error("Null aggregate field specified."),Wr==="count"){qn.push(ai);return}Vn=!1;let Xi=xn[xi];Xi||(Xi=xn[xi]=[],Xi.field=Mr,Un.push(Xi)),Xi.push(R(Wr,ai))}}),(qn.length||Un.length)&&(this.cell=fe(Un,qn,Vn)),this.inputs=Object.keys(Xt)}let ue=K.prototype;ue.init=function(){this.windows.forEach(C=>C.init()),this.cell&&this.cell.init()},ue.update=function(C,B){let ee=this.cell,Se=this.windows,ht=C.data,Tt=Se&&Se.length,Zt;if(ee){for(Zt=C.p0;Zt<C.i0;++Zt)ee.rem(ht[Zt]);for(Zt=C.p1;Zt<C.i1;++Zt)ee.add(ht[Zt]);ee.set(B)}for(Zt=0;Zt<Tt;++Zt)Se[Zt].update(C,B)};function fe(C,B,ee){C=C.map(xn=>W(xn,xn.field));let Se={num:0,agg:null,store:!1,count:B};if(!ee)for(var ht=C.length,Tt=Se.agg=Array(ht),Zt=0;Zt<ht;++Zt)Tt[Zt]=new C[Zt](Se);if(Se.store)var Xt=Se.data=new oe;return Se.add=function(xn){if(Se.num+=1,!ee){Xt&&Xt.add(xn);for(let qn=0;qn<ht;++qn)Tt[qn].add(Tt[qn].get(xn),xn)}},Se.rem=function(xn){if(Se.num-=1,!ee){Xt&&Xt.rem(xn);for(let qn=0;qn<ht;++qn)Tt[qn].rem(Tt[qn].get(xn),xn)}},Se.set=function(xn){let qn,Un;for(Xt&&Xt.values(),qn=0,Un=B.length;qn<Un;++qn)xn[B[qn]]=Se.num;if(!ee)for(qn=0,Un=Tt.length;qn<Un;++qn)Tt[qn].set(xn)},Se.init=function(){Se.num=0,Xt&&Xt.reset();for(let xn=0;xn<ht;++xn)Tt[xn].init()},Se}function Qe(C){t.Transform.call(this,{},C),this._mlen=0,this._mods=[]}Qe.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:xe.concat(_)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},e.inherits(Qe,t.Transform,{transform(C,B){this.stamp=B.stamp;let ee=C.modified(),Se=t.stableCompare(C.sort),ht=o(C.groupby),Tt=Xt=>this.group(ht(Xt)),Zt=this.state;(!Zt||ee)&&(Zt=this.state=new K(C)),ee||B.modified(Zt.inputs)?(this.value={},B.visit(B.SOURCE,Xt=>Tt(Xt).add(Xt))):(B.visit(B.REM,Xt=>Tt(Xt).remove(Xt)),B.visit(B.ADD,Xt=>Tt(Xt).add(Xt)));for(let Xt=0,xn=this._mlen;Xt<xn;++Xt)It(this._mods[Xt],Zt,Se,C);return this._mlen=0,this._mods=[],B.reflow(ee).modifies(Zt.outputs)},group(C){let B=this.value[C];return B||(B=this.value[C]=He(t.tupleid),B.stamp=-1),B.stamp<this.stamp&&(B.stamp=this.stamp,this._mods[this._mlen++]=B),B}});function It(C,B,ee,Se){let ht=Se.sort,Tt=ht&&!Se.ignorePeers,Zt=Se.frame||[null,0],Xt=C.data(ee),xn=Xt.length,qn=Tt?fn(ht):null,Un={i0:0,i1:0,p0:0,p1:0,index:0,data:Xt,compare:ht||e.constant(-1)};B.init();for(let Vn=0;Vn<xn;++Vn)At(Un,Zt,Vn,xn),Tt&&dn(Un,qn),B.update(Un,Xt[Vn])}function At(C,B,ee,Se){C.p0=C.i0,C.p1=C.i1,C.i0=B[0]==null?0:Math.max(0,ee-Math.abs(B[0])),C.i1=B[1]==null?Se:Math.min(Se,ee+Math.abs(B[1])+1),C.index=ee}function dn(C,B){let ee=C.i0,Se=C.i1-1,ht=C.compare,Tt=C.data,Zt=Tt.length-1;ee>0&&!ht(Tt[ee],Tt[ee-1])&&(C.i0=B.left(Tt,Tt[ee])),Se<Zt&&!ht(Tt[Se],Tt[Se+1])&&(C.i1=B.right(Tt,Tt[Se]))}n.aggregate=J,n.bin=ye,n.collect=at,n.compare=ct,n.countpattern=bt,n.cross=qe,n.density=Je,n.dotbin=tn,n.expression=ve,n.extent=_e,n.facet=tt,n.field=Ke,n.filter=Re,n.flatten=nt,n.fold=ft,n.formula=Rt,n.generate=Yt,n.impute=rn,n.joinaggregate=Zn,n.kde=Nn,n.key=rr,n.load=vt,n.lookup=rt,n.multiextent=Dt,n.multivalues=an,n.params=ie,n.pivot=Te,n.prefacet=Ot,n.project=ne,n.proxy=We,n.quantile=st,n.relay=sn,n.sample=wn,n.sequence=bn,n.sieve=vn,n.subflow=ce,n.timeunit=zn,n.tupleindex=$e,n.values=Ft,n.window=Qe,Object.defineProperty(n,"__esModule",{value:!0})})});var _N=Ae((dV,HDe)=>{m();(function(n,e){typeof dV=="object"&&typeof HDe!="undefined"?e(dV):typeof define=="function"&&define.amd?define(["exports"],e):e((n=typeof globalThis!="undefined"?globalThis:n||self).vega={})})(dV,function(n){"use strict";function e(t,r){if(typeof document!="undefined"&&document.createElement){let i=document.createElement("canvas");if(i&&i.getContext)return i.width=t,i.height=r,i}return null}n.canvas=e,n.domCanvas=e,n.image=()=>typeof Image!="undefined"?Image:null,Object.defineProperty(n,"__esModule",{value:!0})})});var xb=Ae((hV,VDe)=>{m();(function(n,e){typeof hV=="object"&&typeof VDe!="undefined"?e(hV,Tu(),m9()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-time"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(hV,function(n,e,t){"use strict";function r(x,T,z){let X=x-T+z*2;return x?X>0?X:1:0}let i="identity",s="linear",o="log",a="pow",l="sqrt",f="symlog",p="time",_="utc",b="sequential",R="diverging",O="quantile",j="quantize",$="threshold",L="ordinal",q="point",P="band",W="bin-ordinal",oe="continuous",I="discrete",J="discretizing",he="interpolating",ye="temporal";function He(x){return function(T){let z=T[0],X=T[1],ge;return X<z&&(ge=z,z=X,X=ge),[x.invert(z),x.invert(X)]}}function at(x){return function(T){let z=x.range(),X=T[0],ge=T[1],Fe=-1,ot,zt,Cn,Sn;for(ge<X&&(zt=X,X=ge,ge=zt),Cn=0,Sn=z.length;Cn<Sn;++Cn)z[Cn]>=X&&z[Cn]<=ge&&(Fe<0&&(Fe=Cn),ot=Cn);if(!(Fe<0))return X=x.invertExtent(z[Fe]),ge=x.invertExtent(z[ot]),[X[0]===void 0?X[1]:X[0],ge[1]===void 0?ge[0]:ge[1]]}}function ct(x,T){return x==null||T==null?NaN:x<T?-1:x>T?1:x>=T?0:NaN}function Ze(x){let T=x,z=x,X=x;x.length!==2&&(T=(zt,Cn)=>x(zt)-Cn,z=ct,X=(zt,Cn)=>ct(x(zt),Cn));function ge(zt,Cn,Sn=0,Bn=zt.length){if(Sn<Bn){if(z(Cn,Cn)!==0)return Bn;do{let Hn=Sn+Bn>>>1;X(zt[Hn],Cn)<0?Sn=Hn+1:Bn=Hn}while(Sn<Bn)}return Sn}function Fe(zt,Cn,Sn=0,Bn=zt.length){if(Sn<Bn){if(z(Cn,Cn)!==0)return Bn;do{let Hn=Sn+Bn>>>1;X(zt[Hn],Cn)<=0?Sn=Hn+1:Bn=Hn}while(Sn<Bn)}return Sn}function ot(zt,Cn,Sn=0,Bn=zt.length){let Hn=ge(zt,Cn,Sn,Bn-1);return Hn>Sn&&T(zt[Hn-1],Cn)>-T(zt[Hn],Cn)?Hn-1:Hn}return{left:ge,center:ot,right:Fe}}function bt(x){return x===null?NaN:+x}let qe=Ze(ct).right;Ze(bt).center;var te=qe;class et extends Map{constructor(T,z=pe){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:z}}),T!=null)for(let[X,ge]of T)this.set(X,ge)}get(T){return super.get(Ee(this,T))}has(T){return super.has(Ee(this,T))}set(T,z){return super.set(ke(this,T),z)}delete(T){return super.delete(Ce(this,T))}}function Ee({_intern:x,_key:T},z){let X=T(z);return x.has(X)?x.get(X):z}function ke({_intern:x,_key:T},z){let X=T(z);return x.has(X)?x.get(X):(x.set(X,z),z)}function Ce({_intern:x,_key:T},z){let X=T(z);return x.has(X)&&(z=x.get(X),x.delete(X)),z}function pe(x){return x!==null&&typeof x=="object"?x.valueOf():x}var Je=Math.sqrt(50),lt=Math.sqrt(10),Ht=Math.sqrt(2);function wt(x,T,z){var X,ge=-1,Fe,ot,zt;if(T=+T,x=+x,z=+z,x===T&&z>0)return[x];if((X=T<x)&&(Fe=x,x=T,T=Fe),(zt=mn(x,T,z))===0||!isFinite(zt))return[];if(zt>0){let Cn=Math.round(x/zt),Sn=Math.round(T/zt);for(Cn*zt<x&&++Cn,Sn*zt>T&&--Sn,ot=new Array(Fe=Sn-Cn+1);++ge<Fe;)ot[ge]=(Cn+ge)*zt}else{zt=-zt;let Cn=Math.round(x*zt),Sn=Math.round(T*zt);for(Cn/zt<x&&++Cn,Sn/zt>T&&--Sn,ot=new Array(Fe=Sn-Cn+1);++ge<Fe;)ot[ge]=(Cn+ge)/zt}return X&&ot.reverse(),ot}function mn(x,T,z){var X=(T-x)/Math.max(0,z),ge=Math.floor(Math.log(X)/Math.LN10),Fe=X/Math.pow(10,ge);return ge>=0?(Fe>=Je?10:Fe>=lt?5:Fe>=Ht?2:1)*Math.pow(10,ge):-Math.pow(10,-ge)/(Fe>=Je?10:Fe>=lt?5:Fe>=Ht?2:1)}function kt(x,T,z){var X=Math.abs(T-x)/Math.max(0,z),ge=Math.pow(10,Math.floor(Math.log(X)/Math.LN10)),Fe=X/ge;return Fe>=Je?ge*=10:Fe>=lt?ge*=5:Fe>=Ht&&(ge*=2),T<x?-ge:ge}function Bt(x,T,z=bt){if(!!(X=x.length)){if((T=+T)<=0||X<2)return+z(x[0],0,x);if(T>=1)return+z(x[X-1],X-1,x);var X,ge=(X-1)*T,Fe=Math.floor(ge),ot=+z(x[Fe],Fe,x),zt=+z(x[Fe+1],Fe+1,x);return ot+(zt-ot)*(ge-Fe)}}function tn(x,T,z){x=+x,T=+T,z=(ge=arguments.length)<2?(T=x,x=0,1):ge<3?1:+z;for(var X=-1,ge=Math.max(0,Math.ceil((T-x)/z))|0,Fe=new Array(ge);++X<ge;)Fe[X]=x+X*z;return Fe}function Et(x,T){switch(arguments.length){case 0:break;case 1:this.range(x);break;default:this.range(T).domain(x);break}return this}function ve(x,T){switch(arguments.length){case 0:break;case 1:{typeof x=="function"?this.interpolator(x):this.range(x);break}default:{this.domain(x),typeof T=="function"?this.interpolator(T):this.range(T);break}}return this}let Le=Symbol("implicit");function _e(){var x=new et,T=[],z=[],X=Le;function ge(Fe){let ot=x.get(Fe);if(ot===void 0){if(X!==Le)return X;x.set(Fe,ot=T.push(Fe)-1)}return z[ot%z.length]}return ge.domain=function(Fe){if(!arguments.length)return T.slice();T=[],x=new et;for(let ot of Fe)x.has(ot)||x.set(ot,T.push(ot)-1);return ge},ge.range=function(Fe){return arguments.length?(z=Array.from(Fe),ge):z.slice()},ge.unknown=function(Fe){return arguments.length?(X=Fe,ge):X},ge.copy=function(){return _e(T,z).unknown(X)},Et.apply(ge,arguments),ge}function ce(x,T,z){x.prototype=T.prototype=z,z.constructor=x}function tt(x,T){var z=Object.create(x.prototype);for(var X in T)z[X]=T[X];return z}function Ke(){}var re=.7,Re=1/re,nt="\\s*([+-]?\\d+)\\s*",ft="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yt=/^#([0-9a-f]{3,8})$/,Gt=new RegExp("^rgb\\("+[nt,nt,nt]+"\\)$"),fn=new RegExp("^rgb\\("+[Rt,Rt,Rt]+"\\)$"),gn=new RegExp("^rgba\\("+[nt,nt,nt,ft]+"\\)$"),yn=new RegExp("^rgba\\("+[Rt,Rt,Rt,ft]+"\\)$"),Lt=new RegExp("^hsl\\("+[ft,Rt,Rt]+"\\)$"),un=new RegExp("^hsla\\("+[ft,Rt,Rt,ft]+"\\)$"),Pn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ce(Ke,ze,{copy:function(x){return Object.assign(new this.constructor,this,x)},displayable:function(){return this.rgb().displayable()},hex:nr,formatHex:nr,formatHsl:On,formatRgb:Ne,toString:Ne});function nr(){return this.rgb().formatHex()}function On(){return Nn(this).formatHsl()}function Ne(){return this.rgb().formatRgb()}function ze(x){var T,z;return x=(x+"").trim().toLowerCase(),(T=Yt.exec(x))?(z=T[1].length,T=parseInt(T[1],16),z===6?De(T):z===3?new rn(T>>8&15|T>>4&240,T>>4&15|T&240,(T&15)<<4|T&15,1):z===8?Pt(T>>24&255,T>>16&255,T>>8&255,(T&255)/255):z===4?Pt(T>>12&15|T>>8&240,T>>8&15|T>>4&240,T>>4&15|T&240,((T&15)<<4|T&15)/255):null):(T=Gt.exec(x))?new rn(T[1],T[2],T[3],1):(T=fn.exec(x))?new rn(T[1]*255/100,T[2]*255/100,T[3]*255/100,1):(T=gn.exec(x))?Pt(T[1],T[2],T[3],T[4]):(T=yn.exec(x))?Pt(T[1]*255/100,T[2]*255/100,T[3]*255/100,T[4]):(T=Lt.exec(x))?Zn(T[1],T[2]/100,T[3]/100,1):(T=un.exec(x))?Zn(T[1],T[2]/100,T[3]/100,T[4]):Pn.hasOwnProperty(x)?De(Pn[x]):x==="transparent"?new rn(NaN,NaN,NaN,0):null}function De(x){return new rn(x>>16&255,x>>8&255,x&255,1)}function Pt(x,T,z,X){return X<=0&&(x=T=z=NaN),new rn(x,T,z,X)}function mt(x){return x instanceof Ke||(x=ze(x)),x?(x=x.rgb(),new rn(x.r,x.g,x.b,x.opacity)):new rn}function xt(x,T,z,X){return arguments.length===1?mt(x):new rn(x,T,z,X??1)}function rn(x,T,z,X){this.r=+x,this.g=+T,this.b=+z,this.opacity=+X}ce(rn,xt,tt(Ke,{brighter:function(x){return x=x==null?Re:Math.pow(Re,x),new rn(this.r*x,this.g*x,this.b*x,this.opacity)},darker:function(x){return x=x==null?re:Math.pow(re,x),new rn(this.r*x,this.g*x,this.b*x,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qt,formatHex:Qt,formatRgb:Fn,toString:Fn}));function Qt(){return"#"+Wn(this.r)+Wn(this.g)+Wn(this.b)}function Fn(){var x=this.opacity;return x=isNaN(x)?1:Math.max(0,Math.min(1,x)),(x===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(x===1?")":", "+x+")")}function Wn(x){return x=Math.max(0,Math.min(255,Math.round(x)||0)),(x<16?"0":"")+x.toString(16)}function Zn(x,T,z,X){return X<=0?x=T=z=NaN:z<=0||z>=1?x=T=NaN:T<=0&&(x=NaN),new Ye(x,T,z,X)}function Nn(x){if(x instanceof Ye)return new Ye(x.h,x.s,x.l,x.opacity);if(x instanceof Ke||(x=ze(x)),!x)return new Ye;if(x instanceof Ye)return x;x=x.rgb();var T=x.r/255,z=x.g/255,X=x.b/255,ge=Math.min(T,z,X),Fe=Math.max(T,z,X),ot=NaN,zt=Fe-ge,Cn=(Fe+ge)/2;return zt?(T===Fe?ot=(z-X)/zt+(z<X)*6:z===Fe?ot=(X-T)/zt+2:ot=(T-z)/zt+4,zt/=Cn<.5?Fe+ge:2-Fe-ge,ot*=60):zt=Cn>0&&Cn<1?0:ot,new Ye(ot,zt,Cn,x.opacity)}function rr(x,T,z,X){return arguments.length===1?Nn(x):new Ye(x,T,z,X??1)}function Ye(x,T,z,X){this.h=+x,this.s=+T,this.l=+z,this.opacity=+X}ce(Ye,rr,tt(Ke,{brighter:function(x){return x=x==null?Re:Math.pow(Re,x),new Ye(this.h,this.s,this.l*x,this.opacity)},darker:function(x){return x=x==null?re:Math.pow(re,x),new Ye(this.h,this.s,this.l*x,this.opacity)},rgb:function(){var x=this.h%360+(this.h<0)*360,T=isNaN(x)||isNaN(this.s)?0:this.s,z=this.l,X=z+(z<.5?z:1-z)*T,ge=2*z-X;return new rn(vt(x>=240?x-240:x+120,ge,X),vt(x,ge,X),vt(x<120?x+240:x-120,ge,X),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var x=this.opacity;return x=isNaN(x)?1:Math.max(0,Math.min(1,x)),(x===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(x===1?")":", "+x+")")}}));function vt(x,T,z){return(x<60?T+(z-T)*x/60:x<180?z:x<240?T+(z-T)*(240-x)/60:T)*255}let ae=Math.PI/180,Be=180/Math.PI,rt=18,Dt=.96422,hn=1,an=.82521,dt=4/29,ie=6/29,Te=3*ie*ie,Ue=ie*ie*ie;function gt(x){if(x instanceof Ot)return new Ot(x.l,x.a,x.b,x.opacity);if(x instanceof wn)return bn(x);x instanceof rn||(x=mt(x));var T=st(x.r),z=st(x.g),X=st(x.b),ge=ne((.2225045*T+.7168786*z+.0606169*X)/hn),Fe,ot;return T===z&&z===X?Fe=ot=ge:(Fe=ne((.4360747*T+.3850649*z+.1430804*X)/Dt),ot=ne((.0139322*T+.0971045*z+.7141733*X)/an)),new Ot(116*ge-16,500*(Fe-ge),200*(ge-ot),x.opacity)}function St(x,T,z,X){return arguments.length===1?gt(x):new Ot(x,T,z,X??1)}function Ot(x,T,z,X){this.l=+x,this.a=+T,this.b=+z,this.opacity=+X}ce(Ot,St,tt(Ke,{brighter:function(x){return new Ot(this.l+rt*(x??1),this.a,this.b,this.opacity)},darker:function(x){return new Ot(this.l-rt*(x??1),this.a,this.b,this.opacity)},rgb:function(){var x=(this.l+16)/116,T=isNaN(this.a)?x:x+this.a/500,z=isNaN(this.b)?x:x-this.b/200;return T=Dt*we(T),x=hn*we(x),z=an*we(z),new rn(We(3.1338561*T-1.6168667*x-.4906146*z),We(-.9787684*T+1.9161415*x+.033454*z),We(.0719453*T-.2289914*x+1.4052427*z),this.opacity)}}));function ne(x){return x>Ue?Math.pow(x,1/3):x/Te+dt}function we(x){return x>ie?x*x*x:Te*(x-dt)}function We(x){return 255*(x<=.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function st(x){return(x/=255)<=.04045?x/12.92:Math.pow((x+.055)/1.055,2.4)}function Ut(x){if(x instanceof wn)return new wn(x.h,x.c,x.l,x.opacity);if(x instanceof Ot||(x=gt(x)),x.a===0&&x.b===0)return new wn(NaN,0<x.l&&x.l<100?0:NaN,x.l,x.opacity);var T=Math.atan2(x.b,x.a)*Be;return new wn(T<0?T+360:T,Math.sqrt(x.a*x.a+x.b*x.b),x.l,x.opacity)}function sn(x,T,z,X){return arguments.length===1?Ut(x):new wn(x,T,z,X??1)}function wn(x,T,z,X){this.h=+x,this.c=+T,this.l=+z,this.opacity=+X}function bn(x){if(isNaN(x.h))return new Ot(x.l,0,0,x.opacity);var T=x.h*ae;return new Ot(x.l,Math.cos(T)*x.c,Math.sin(T)*x.c,x.opacity)}ce(wn,sn,tt(Ke,{brighter:function(x){return new wn(this.h,this.c,this.l+rt*(x??1),this.opacity)},darker:function(x){return new wn(this.h,this.c,this.l-rt*(x??1),this.opacity)},rgb:function(){return bn(this).rgb()}}));var vn=-.14861,zn=1.78277,Oe=-.29227,$e=-.90649,Ft=1.97294,N=Ft*$e,V=Ft*zn,be=zn*Oe-$e*vn;function xe(x){if(x instanceof ue)return new ue(x.h,x.s,x.l,x.opacity);x instanceof rn||(x=mt(x));var T=x.r/255,z=x.g/255,X=x.b/255,ge=(be*X+N*T-V*z)/(be+N-V),Fe=X-ge,ot=(Ft*(z-ge)-Oe*Fe)/$e,zt=Math.sqrt(ot*ot+Fe*Fe)/(Ft*ge*(1-ge)),Cn=zt?Math.atan2(ot,Fe)*Be-120:NaN;return new ue(Cn<0?Cn+360:Cn,zt,ge,x.opacity)}function K(x,T,z,X){return arguments.length===1?xe(x):new ue(x,T,z,X??1)}function ue(x,T,z,X){this.h=+x,this.s=+T,this.l=+z,this.opacity=+X}ce(ue,K,tt(Ke,{brighter:function(x){return x=x==null?Re:Math.pow(Re,x),new ue(this.h,this.s,this.l*x,this.opacity)},darker:function(x){return x=x==null?re:Math.pow(re,x),new ue(this.h,this.s,this.l*x,this.opacity)},rgb:function(){var x=isNaN(this.h)?0:(this.h+120)*ae,T=+this.l,z=isNaN(this.s)?0:this.s*T*(1-T),X=Math.cos(x),ge=Math.sin(x);return new rn(255*(T+z*(vn*X+zn*ge)),255*(T+z*(Oe*X+$e*ge)),255*(T+z*(Ft*X)),this.opacity)}}));function fe(x,T,z,X,ge){var Fe=x*x,ot=Fe*x;return((1-3*x+3*Fe-ot)*T+(4-6*Fe+3*ot)*z+(1+3*x+3*Fe-3*ot)*X+ot*ge)/6}function Qe(x){var T=x.length-1;return function(z){var X=z<=0?z=0:z>=1?(z=1,T-1):Math.floor(z*T),ge=x[X],Fe=x[X+1],ot=X>0?x[X-1]:2*ge-Fe,zt=X<T-1?x[X+2]:2*Fe-ge;return fe((z-X/T)*T,ot,ge,Fe,zt)}}function It(x){var T=x.length;return function(z){var X=Math.floor(((z%=1)<0?++z:z)*T),ge=x[(X+T-1)%T],Fe=x[X%T],ot=x[(X+1)%T],zt=x[(X+2)%T];return fe((z-X/T)*T,ge,Fe,ot,zt)}}var At=x=>()=>x;function dn(x,T){return function(z){return x+z*T}}function C(x,T,z){return x=Math.pow(x,z),T=Math.pow(T,z)-x,z=1/z,function(X){return Math.pow(x+X*T,z)}}function B(x,T){var z=T-x;return z?dn(x,z>180||z<-180?z-360*Math.round(z/360):z):At(isNaN(x)?T:x)}function ee(x){return(x=+x)==1?Se:function(T,z){return z-T?C(T,z,x):At(isNaN(T)?z:T)}}function Se(x,T){var z=T-x;return z?dn(x,z):At(isNaN(x)?T:x)}var ht=function x(T){var z=ee(T);function X(ge,Fe){var ot=z((ge=xt(ge)).r,(Fe=xt(Fe)).r),zt=z(ge.g,Fe.g),Cn=z(ge.b,Fe.b),Sn=Se(ge.opacity,Fe.opacity);return function(Bn){return ge.r=ot(Bn),ge.g=zt(Bn),ge.b=Cn(Bn),ge.opacity=Sn(Bn),ge+""}}return X.gamma=x,X}(1);function Tt(x){return function(T){var z=T.length,X=new Array(z),ge=new Array(z),Fe=new Array(z),ot,zt;for(ot=0;ot<z;++ot)zt=xt(T[ot]),X[ot]=zt.r||0,ge[ot]=zt.g||0,Fe[ot]=zt.b||0;return X=x(X),ge=x(ge),Fe=x(Fe),zt.opacity=1,function(Cn){return zt.r=X(Cn),zt.g=ge(Cn),zt.b=Fe(Cn),zt+""}}}var Zt=Tt(Qe),Xt=Tt(It);function xn(x,T){T||(T=[]);var z=x?Math.min(T.length,x.length):0,X=T.slice(),ge;return function(Fe){for(ge=0;ge<z;++ge)X[ge]=x[ge]*(1-Fe)+T[ge]*Fe;return X}}function qn(x){return ArrayBuffer.isView(x)&&!(x instanceof DataView)}function Un(x,T){return(qn(T)?xn:Vn)(x,T)}function Vn(x,T){var z=T?T.length:0,X=x?Math.min(z,x.length):0,ge=new Array(X),Fe=new Array(z),ot;for(ot=0;ot<X;++ot)ge[ot]=ts(x[ot],T[ot]);for(;ot<z;++ot)Fe[ot]=T[ot];return function(zt){for(ot=0;ot<X;++ot)Fe[ot]=ge[ot](zt);return Fe}}function Jr(x,T){var z=new Date;return x=+x,T=+T,function(X){return z.setTime(x*(1-X)+T*X),z}}function Wr(x,T){return x=+x,T=+T,function(z){return x*(1-z)+T*z}}function yr(x,T){var z={},X={},ge;(x===null||typeof x!="object")&&(x={}),(T===null||typeof T!="object")&&(T={});for(ge in T)ge in x?z[ge]=ts(x[ge],T[ge]):X[ge]=T[ge];return function(Fe){for(ge in z)X[ge]=z[ge](Fe);return X}}var Mr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xi=new RegExp(Mr.source,"g");function ai(x){return function(){return x}}function Xi(x){return function(T){return x(T)+""}}function Cs(x,T){var z=Mr.lastIndex=xi.lastIndex=0,X,ge,Fe,ot=-1,zt=[],Cn=[];for(x=x+"",T=T+"";(X=Mr.exec(x))&&(ge=xi.exec(T));)(Fe=ge.index)>z&&(Fe=T.slice(z,Fe),zt[ot]?zt[ot]+=Fe:zt[++ot]=Fe),(X=X[0])===(ge=ge[0])?zt[ot]?zt[ot]+=ge:zt[++ot]=ge:(zt[++ot]=null,Cn.push({i:ot,x:Wr(X,ge)})),z=xi.lastIndex;return z<T.length&&(Fe=T.slice(z),zt[ot]?zt[ot]+=Fe:zt[++ot]=Fe),zt.length<2?Cn[0]?Xi(Cn[0].x):ai(T):(T=Cn.length,function(Sn){for(var Bn=0,Hn;Bn<T;++Bn)zt[(Hn=Cn[Bn]).i]=Hn.x(Sn);return zt.join("")})}function ts(x,T){var z=typeof T,X;return T==null||z==="boolean"?At(T):(z==="number"?Wr:z==="string"?(X=ze(T))?(T=X,ht):Cs:T instanceof ze?ht:T instanceof Date?Jr:qn(T)?xn:Array.isArray(T)?Vn:typeof T.valueOf!="function"&&typeof T.toString!="function"||isNaN(T)?yr:Wr)(x,T)}function Aa(x){var T=x.length;return function(z){return x[Math.max(0,Math.min(T-1,Math.floor(z*T)))]}}function xa(x,T){var z=B(+x,+T);return function(X){var ge=z(X);return ge-360*Math.floor(ge/360)}}function yl(x,T){return x=+x,T=+T,function(z){return Math.round(x*(1-z)+T*z)}}var Lc=180/Math.PI,fu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function du(x,T,z,X,ge,Fe){var ot,zt,Cn;return(ot=Math.sqrt(x*x+T*T))&&(x/=ot,T/=ot),(Cn=x*z+T*X)&&(z-=x*Cn,X-=T*Cn),(zt=Math.sqrt(z*z+X*X))&&(z/=zt,X/=zt,Cn/=zt),x*X<T*z&&(x=-x,T=-T,Cn=-Cn,ot=-ot),{translateX:ge,translateY:Fe,rotate:Math.atan2(T,x)*Lc,skewX:Math.atan(Cn)*Lc,scaleX:ot,scaleY:zt}}var Xu;function Du(x){let T=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(x+"");return T.isIdentity?fu:du(T.a,T.b,T.c,T.d,T.e,T.f)}function kc(x){return x==null||(Xu||(Xu=document.createElementNS("http://www.w3.org/2000/svg","g")),Xu.setAttribute("transform",x),!(x=Xu.transform.baseVal.consolidate()))?fu:(x=x.matrix,du(x.a,x.b,x.c,x.d,x.e,x.f))}function na(x,T,z,X){function ge(Sn){return Sn.length?Sn.pop()+" ":""}function Fe(Sn,Bn,Hn,or,Rr,Kr){if(Sn!==Hn||Bn!==or){var Lr=Rr.push("translate(",null,T,null,z);Kr.push({i:Lr-4,x:Wr(Sn,Hn)},{i:Lr-2,x:Wr(Bn,or)})}else(Hn||or)&&Rr.push("translate("+Hn+T+or+z)}function ot(Sn,Bn,Hn,or){Sn!==Bn?(Sn-Bn>180?Bn+=360:Bn-Sn>180&&(Sn+=360),or.push({i:Hn.push(ge(Hn)+"rotate(",null,X)-2,x:Wr(Sn,Bn)})):Bn&&Hn.push(ge(Hn)+"rotate("+Bn+X)}function zt(Sn,Bn,Hn,or){Sn!==Bn?or.push({i:Hn.push(ge(Hn)+"skewX(",null,X)-2,x:Wr(Sn,Bn)}):Bn&&Hn.push(ge(Hn)+"skewX("+Bn+X)}function Cn(Sn,Bn,Hn,or,Rr,Kr){if(Sn!==Hn||Bn!==or){var Lr=Rr.push(ge(Rr)+"scale(",null,",",null,")");Kr.push({i:Lr-4,x:Wr(Sn,Hn)},{i:Lr-2,x:Wr(Bn,or)})}else(Hn!==1||or!==1)&&Rr.push(ge(Rr)+"scale("+Hn+","+or+")")}return function(Sn,Bn){var Hn=[],or=[];return Sn=x(Sn),Bn=x(Bn),Fe(Sn.translateX,Sn.translateY,Bn.translateX,Bn.translateY,Hn,or),ot(Sn.rotate,Bn.rotate,Hn,or),zt(Sn.skewX,Bn.skewX,Hn,or),Cn(Sn.scaleX,Sn.scaleY,Bn.scaleX,Bn.scaleY,Hn,or),Sn=Bn=null,function(Rr){for(var Kr=-1,Lr=or.length,Ei;++Kr<Lr;)Hn[(Ei=or[Kr]).i]=Ei.x(Rr);return Hn.join("")}}}var Zu=na(Du,"px, ","px)","deg)"),rf=na(kc,", ",")",")"),Ge=1e-12;function Kt(x){return((x=Math.exp(x))+1/x)/2}function jn(x){return((x=Math.exp(x))-1/x)/2}function Yn(x){return((x=Math.exp(2*x))-1)/(x+1)}var ri=function x(T,z,X){function ge(Fe,ot){var zt=Fe[0],Cn=Fe[1],Sn=Fe[2],Bn=ot[0],Hn=ot[1],or=ot[2],Rr=Bn-zt,Kr=Hn-Cn,Lr=Rr*Rr+Kr*Kr,Ei,ki;if(Lr<Ge)ki=Math.log(or/Sn)/T,Ei=function(Ki){return[zt+Ki*Rr,Cn+Ki*Kr,Sn*Math.exp(T*Ki*ki)]};else{var Rs=Math.sqrt(Lr),ds=(or*or-Sn*Sn+X*Lr)/(2*Sn*z*Rs),Zs=(or*or-Sn*Sn-X*Lr)/(2*or*z*Rs),gs=Math.log(Math.sqrt(ds*ds+1)-ds),Gr=Math.log(Math.sqrt(Zs*Zs+1)-Zs);ki=(Gr-gs)/T,Ei=function(Ki){var Ba=Ki*ki,tu=Kt(gs),Iu=Sn/(z*Rs)*(tu*Yn(T*Ba+gs)-jn(gs));return[zt+Iu*Rr,Cn+Iu*Kr,Sn*tu/Kt(T*Ba+gs)]}}return Ei.duration=ki*1e3*T/Math.SQRT2,Ei}return ge.rho=function(Fe){var ot=Math.max(.001,+Fe),zt=ot*ot,Cn=zt*zt;return x(ot,zt,Cn)},ge}(Math.SQRT2,2,4);function Br(x){return function(T,z){var X=x((T=rr(T)).h,(z=rr(z)).h),ge=Se(T.s,z.s),Fe=Se(T.l,z.l),ot=Se(T.opacity,z.opacity);return function(zt){return T.h=X(zt),T.s=ge(zt),T.l=Fe(zt),T.opacity=ot(zt),T+""}}}var Xr=Br(B),As=Br(Se);function fo(x,T){var z=Se((x=St(x)).l,(T=St(T)).l),X=Se(x.a,T.a),ge=Se(x.b,T.b),Fe=Se(x.opacity,T.opacity);return function(ot){return x.l=z(ot),x.a=X(ot),x.b=ge(ot),x.opacity=Fe(ot),x+""}}function io(x){return function(T,z){var X=x((T=sn(T)).h,(z=sn(z)).h),ge=Se(T.c,z.c),Fe=Se(T.l,z.l),ot=Se(T.opacity,z.opacity);return function(zt){return T.h=X(zt),T.c=ge(zt),T.l=Fe(zt),T.opacity=ot(zt),T+""}}}var us=io(B),so=io(Se);function ho(x){return function T(z){z=+z;function X(ge,Fe){var ot=x((ge=K(ge)).h,(Fe=K(Fe)).h),zt=Se(ge.s,Fe.s),Cn=Se(ge.l,Fe.l),Sn=Se(ge.opacity,Fe.opacity);return function(Bn){return ge.h=ot(Bn),ge.s=zt(Bn),ge.l=Cn(Math.pow(Bn,z)),ge.opacity=Sn(Bn),ge+""}}return X.gamma=T,X}(1)}var hi=ho(B),bi=ho(Se);function Wi(x,T){T===void 0&&(T=x,x=ts);for(var z=0,X=T.length-1,ge=T[0],Fe=new Array(X<0?0:X);z<X;)Fe[z]=x(ge,ge=T[++z]);return function(ot){var zt=Math.max(0,Math.min(X-1,Math.floor(ot*=X)));return Fe[zt](ot-zt)}}function Xo(x,T){for(var z=new Array(T),X=0;X<T;++X)z[X]=x(X/(T-1));return z}var da=Object.freeze({__proto__:null,interpolate:ts,interpolateArray:Un,interpolateBasis:Qe,interpolateBasisClosed:It,interpolateDate:Jr,interpolateDiscrete:Aa,interpolateHue:xa,interpolateNumber:Wr,interpolateNumberArray:xn,interpolateObject:yr,interpolateRound:yl,interpolateString:Cs,interpolateTransformCss:Zu,interpolateTransformSvg:rf,interpolateZoom:ri,interpolateRgb:ht,interpolateRgbBasis:Zt,interpolateRgbBasisClosed:Xt,interpolateHsl:Xr,interpolateHslLong:As,interpolateLab:fo,interpolateHcl:us,interpolateHclLong:so,interpolateCubehelix:hi,interpolateCubehelixLong:bi,piecewise:Wi,quantize:Xo});function ha(x){return function(){return x}}function po(x){return+x}var ls=[0,1];function ps(x){return x}function Zi(x,T){return(T-=x=+x)?function(z){return(z-x)/T}:ha(isNaN(T)?NaN:.5)}function hu(x,T){var z;return x>T&&(z=x,x=T,T=z),function(X){return Math.max(x,Math.min(T,X))}}function Ps(x,T,z){var X=x[0],ge=x[1],Fe=T[0],ot=T[1];return ge<X?(X=Zi(ge,X),Fe=z(ot,Fe)):(X=Zi(X,ge),Fe=z(Fe,ot)),function(zt){return Fe(X(zt))}}function ga(x,T,z){var X=Math.min(x.length,T.length)-1,ge=new Array(X),Fe=new Array(X),ot=-1;for(x[X]<x[0]&&(x=x.slice().reverse(),T=T.slice().reverse());++ot<X;)ge[ot]=Zi(x[ot],x[ot+1]),Fe[ot]=z(T[ot],T[ot+1]);return function(zt){var Cn=te(x,zt,1,X)-1;return Fe[Cn](ge[Cn](zt))}}function ua(x,T){return T.domain(x.domain()).range(x.range()).interpolate(x.interpolate()).clamp(x.clamp()).unknown(x.unknown())}function Oi(){var x=ls,T=ls,z=ts,X,ge,Fe,ot=ps,zt,Cn,Sn;function Bn(){var or=Math.min(x.length,T.length);return ot!==ps&&(ot=hu(x[0],x[or-1])),zt=or>2?ga:Ps,Cn=Sn=null,Hn}function Hn(or){return or==null||isNaN(or=+or)?Fe:(Cn||(Cn=zt(x.map(X),T,z)))(X(ot(or)))}return Hn.invert=function(or){return ot(ge((Sn||(Sn=zt(T,x.map(X),Wr)))(or)))},Hn.domain=function(or){return arguments.length?(x=Array.from(or,po),Bn()):x.slice()},Hn.range=function(or){return arguments.length?(T=Array.from(or),Bn()):T.slice()},Hn.rangeRound=function(or){return T=Array.from(or),z=yl,Bn()},Hn.clamp=function(or){return arguments.length?(ot=or?!0:ps,Bn()):ot!==ps},Hn.interpolate=function(or){return arguments.length?(z=or,Bn()):z},Hn.unknown=function(or){return arguments.length?(Fe=or,Hn):Fe},function(or,Rr){return X=or,ge=Rr,Bn()}}function Wo(){return Oi()(ps,ps)}function vs(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)}function Ii(x,T){if((z=(x=T?x.toExponential(T-1):x.toExponential()).indexOf("e"))<0)return null;var z,X=x.slice(0,z);return[X.length>1?X[0]+X.slice(2):X,+x.slice(z+1)]}function Ro(x){return x=Ii(Math.abs(x)),x?x[1]:NaN}function ka(x,T){return function(z,X){for(var ge=z.length,Fe=[],ot=0,zt=x[0],Cn=0;ge>0&&zt>0&&(Cn+zt+1>X&&(zt=Math.max(1,X-Cn)),Fe.push(z.substring(ge-=zt,ge+zt)),!((Cn+=zt+1)>X));)zt=x[ot=(ot+1)%x.length];return Fe.reverse().join(T)}}function Xa(x){return function(T){return T.replace(/[0-9]/g,function(z){return x[+z]})}}var Oo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function To(x){if(!(T=Oo.exec(x)))throw new Error("invalid format: "+x);var T;return new $a({fill:T[1],align:T[2],sign:T[3],symbol:T[4],zero:T[5],width:T[6],comma:T[7],precision:T[8]&&T[8].slice(1),trim:T[9],type:T[10]})}To.prototype=$a.prototype;function $a(x){this.fill=x.fill===void 0?" ":x.fill+"",this.align=x.align===void 0?">":x.align+"",this.sign=x.sign===void 0?"-":x.sign+"",this.symbol=x.symbol===void 0?"":x.symbol+"",this.zero=!!x.zero,this.width=x.width===void 0?void 0:+x.width,this.comma=!!x.comma,this.precision=x.precision===void 0?void 0:+x.precision,this.trim=!!x.trim,this.type=x.type===void 0?"":x.type+""}$a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pu(x){e:for(var T=x.length,z=1,X=-1,ge;z<T;++z)switch(x[z]){case".":X=ge=z;break;case"0":X===0&&(X=z),ge=z;break;default:if(!+x[z])break e;X>0&&(X=0);break}return X>0?x.slice(0,X)+x.slice(ge+1):x}var za;function la(x,T){var z=Ii(x,T);if(!z)return x+"";var X=z[0],ge=z[1],Fe=ge-(za=Math.max(-8,Math.min(8,Math.floor(ge/3)))*3)+1,ot=X.length;return Fe===ot?X:Fe>ot?X+new Array(Fe-ot+1).join("0"):Fe>0?X.slice(0,Fe)+"."+X.slice(Fe):"0."+new Array(1-Fe).join("0")+Ii(x,Math.max(0,T+Fe-1))[0]}function ca(x,T){var z=Ii(x,T);if(!z)return x+"";var X=z[0],ge=z[1];return ge<0?"0."+new Array(-ge).join("0")+X:X.length>ge+1?X.slice(0,ge+1)+"."+X.slice(ge+1):X+new Array(ge-X.length+2).join("0")}var vl={"%":(x,T)=>(x*100).toFixed(T),b:x=>Math.round(x).toString(2),c:x=>x+"",d:vs,e:(x,T)=>x.toExponential(T),f:(x,T)=>x.toFixed(T),g:(x,T)=>x.toPrecision(T),o:x=>Math.round(x).toString(8),p:(x,T)=>ca(x*100,T),r:ca,s:la,X:x=>Math.round(x).toString(16).toUpperCase(),x:x=>Math.round(x).toString(16)};function Vl(x){return x}var ra=Array.prototype.map,el=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function ui(x){var T=x.grouping===void 0||x.thousands===void 0?Vl:ka(ra.call(x.grouping,Number),x.thousands+""),z=x.currency===void 0?"":x.currency[0]+"",X=x.currency===void 0?"":x.currency[1]+"",ge=x.decimal===void 0?".":x.decimal+"",Fe=x.numerals===void 0?Vl:Xa(ra.call(x.numerals,String)),ot=x.percent===void 0?"%":x.percent+"",zt=x.minus===void 0?"\u2212":x.minus+"",Cn=x.nan===void 0?"NaN":x.nan+"";function Sn(Hn){Hn=To(Hn);var or=Hn.fill,Rr=Hn.align,Kr=Hn.sign,Lr=Hn.symbol,Ei=Hn.zero,ki=Hn.width,Rs=Hn.comma,ds=Hn.precision,Zs=Hn.trim,gs=Hn.type;gs==="n"?(Rs=!0,gs="g"):vl[gs]||(ds===void 0&&(ds=12),Zs=!0,gs="g"),(Ei||or==="0"&&Rr==="=")&&(Ei=!0,or="0",Rr="=");var Gr=Lr==="$"?z:Lr==="#"&&/[boxX]/.test(gs)?"0"+gs.toLowerCase():"",Ki=Lr==="$"?X:/[%p]/.test(gs)?ot:"",Ba=vl[gs],tu=/[defgprs%]/.test(gs);ds=ds===void 0?6:/[gprs]/.test(gs)?Math.max(1,Math.min(21,ds)):Math.max(0,Math.min(20,ds));function Iu(Es){var Ta=Gr,Va=Ki,Dl,Qd,ol;if(gs==="c")Va=Ba(Es)+Va,Es="";else{Es=+Es;var v0=Es<0||1/Es<0;if(Es=isNaN(Es)?Cn:Ba(Math.abs(Es),ds),Zs&&(Es=pu(Es)),v0&&+Es==0&&Kr!=="+"&&(v0=!1),Ta=(v0?Kr==="("?Kr:zt:Kr==="-"||Kr==="("?"":Kr)+Ta,Va=(gs==="s"?el[8+za/3]:"")+Va+(v0&&Kr==="("?")":""),tu){for(Dl=-1,Qd=Es.length;++Dl<Qd;)if(ol=Es.charCodeAt(Dl),48>ol||ol>57){Va=(ol===46?ge+Es.slice(Dl+1):Es.slice(Dl))+Va,Es=Es.slice(0,Dl);break}}}Rs&&!Ei&&(Es=T(Es,1/0));var ba=Ta.length+Es.length+Va.length,dc=ba<ki?new Array(ki-ba+1).join(or):"";switch(Rs&&Ei&&(Es=T(dc+Es,dc.length?ki-Va.length:1/0),dc=""),Rr){case"<":Es=Ta+Es+Va+dc;break;case"=":Es=Ta+dc+Es+Va;break;case"^":Es=dc.slice(0,ba=dc.length>>1)+Ta+Es+Va+dc.slice(ba);break;default:Es=dc+Ta+Es+Va;break}return Fe(Es)}return Iu.toString=function(){return Hn+""},Iu}function Bn(Hn,or){var Rr=Sn((Hn=To(Hn),Hn.type="f",Hn)),Kr=Math.max(-8,Math.min(8,Math.floor(Ro(or)/3)))*3,Lr=Math.pow(10,-Kr),Ei=el[8+Kr/3];return function(ki){return Rr(Lr*ki)+Ei}}return{format:Sn,formatPrefix:Bn}}var rs,cs,xr;is({thousands:",",grouping:[3],currency:["$",""]});function is(x){return rs=ui(x),cs=rs.format,xr=rs.formatPrefix,rs}function Ie(x){return Math.max(0,-Ro(Math.abs(x)))}function yt(x,T){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ro(T)/3)))*3-Ro(Math.abs(x)))}function Jt(x,T){return x=Math.abs(x),T=Math.abs(T)-x,Math.max(0,Ro(T)-Ro(x))+1}function $t(x,T,z,X){var ge=kt(x,T,z),Fe;switch(X=To(X??",f"),X.type){case"s":{var ot=Math.max(Math.abs(x),Math.abs(T));return X.precision==null&&!isNaN(Fe=yt(ge,ot))&&(X.precision=Fe),xr(X,ot)}case"":case"e":case"g":case"p":case"r":{X.precision==null&&!isNaN(Fe=Jt(ge,Math.max(Math.abs(x),Math.abs(T))))&&(X.precision=Fe-(X.type==="e"));break}case"f":case"%":{X.precision==null&&!isNaN(Fe=Ie(ge))&&(X.precision=Fe-(X.type==="%")*2);break}}return cs(X)}function pn(x){var T=x.domain;return x.ticks=function(z){var X=T();return wt(X[0],X[X.length-1],z??10)},x.tickFormat=function(z,X){var ge=T();return $t(ge[0],ge[ge.length-1],z??10,X)},x.nice=function(z){z==null&&(z=10);var X=T(),ge=0,Fe=X.length-1,ot=X[ge],zt=X[Fe],Cn,Sn,Bn=10;for(zt<ot&&(Sn=ot,ot=zt,zt=Sn,Sn=ge,ge=Fe,Fe=Sn);Bn-- >0;){if(Sn=mn(ot,zt,z),Sn===Cn)return X[ge]=ot,X[Fe]=zt,T(X);if(Sn>0)ot=Math.floor(ot/Sn)*Sn,zt=Math.ceil(zt/Sn)*Sn;else if(Sn<0)ot=Math.ceil(ot*Sn)/Sn,zt=Math.floor(zt*Sn)/Sn;else break;Cn=Sn}return x},x}function Ln(){var x=Wo();return x.copy=function(){return ua(x,Ln())},Et.apply(x,arguments),pn(x)}function Kn(x){var T;function z(X){return X==null||isNaN(X=+X)?T:X}return z.invert=z,z.domain=z.range=function(X){return arguments.length?(x=Array.from(X,po),z):x.slice()},z.unknown=function(X){return arguments.length?(T=X,z):T},z.copy=function(){return Kn(x).unknown(T)},x=arguments.length?Array.from(x,po):[0,1],pn(z)}function $n(x,T){x=x.slice();var z=0,X=x.length-1,ge=x[z],Fe=x[X],ot;return Fe<ge&&(ot=z,z=X,X=ot,ot=ge,ge=Fe,Fe=ot),x[z]=T.floor(ge),x[X]=T.ceil(Fe),x}function Er(x){return Math.log(x)}function wr(x){return Math.exp(x)}function Gn(x){return-Math.log(-x)}function ar(x){return-Math.exp(-x)}function tr(x){return isFinite(x)?+("1e"+x):x<0?0:x}function gr(x){return x===10?tr:x===Math.E?Math.exp:T=>Math.pow(x,T)}function Or(x){return x===Math.E?Math.log:x===10&&Math.log10||x===2&&Math.log2||(x=Math.log(x),T=>Math.log(T)/x)}function di(x){return(T,z)=>-x(-T,z)}function ni(x){let T=x(Er,wr),z=T.domain,X=10,ge,Fe;function ot(){return ge=Or(X),Fe=gr(X),z()[0]<0?(ge=di(ge),Fe=di(Fe),x(Gn,ar)):x(Er,wr),T}return T.base=function(zt){return arguments.length?(X=+zt,ot()):X},T.domain=function(zt){return arguments.length?(z(zt),ot()):z()},T.ticks=zt=>{let Cn=z(),Sn=Cn[0],Bn=Cn[Cn.length-1],Hn=Bn<Sn;Hn&&([Sn,Bn]=[Bn,Sn]);let or=ge(Sn),Rr=ge(Bn),Kr,Lr,Ei=zt==null?10:+zt,ki=[];if(!(X%1)&&Rr-or<Ei){if(or=Math.floor(or),Rr=Math.ceil(Rr),Sn>0){for(;or<=Rr;++or)for(Kr=1;Kr<X;++Kr)if(Lr=or<0?Kr/Fe(-or):Kr*Fe(or),!(Lr<Sn)){if(Lr>Bn)break;ki.push(Lr)}}else for(;or<=Rr;++or)for(Kr=X-1;Kr>=1;--Kr)if(Lr=or>0?Kr/Fe(-or):Kr*Fe(or),!(Lr<Sn)){if(Lr>Bn)break;ki.push(Lr)}ki.length*2<Ei&&(ki=wt(Sn,Bn,Ei))}else ki=wt(or,Rr,Math.min(Rr-or,Ei)).map(Fe);return Hn?ki.reverse():ki},T.tickFormat=(zt,Cn)=>{if(zt==null&&(zt=10),Cn==null&&(Cn=X===10?"s":","),typeof Cn!="function"&&(!(X%1)&&(Cn=To(Cn)).precision==null&&(Cn.trim=!0),Cn=cs(Cn)),zt===1/0)return Cn;let Sn=Math.max(1,X*zt/T.ticks().length);return Bn=>{let Hn=Bn/Fe(Math.round(ge(Bn)));return Hn*X<X-.5&&(Hn*=X),Hn<=Sn?Cn(Bn):""}},T.nice=()=>z($n(z(),{floor:zt=>Fe(Math.floor(ge(zt))),ceil:zt=>Fe(Math.ceil(ge(zt)))})),T}function pi(){let x=ni(Oi()).domain([1,10]);return x.copy=()=>ua(x,pi()).base(x.base()),Et.apply(x,arguments),x}function ii(x){return function(T){return Math.sign(T)*Math.log1p(Math.abs(T/x))}}function qr(x){return function(T){return Math.sign(T)*Math.expm1(Math.abs(T))*x}}function Ir(x){var T=1,z=x(ii(T),qr(T));return z.constant=function(X){return arguments.length?x(ii(T=+X),qr(T)):T},pn(z)}function yi(){var x=Ir(Oi());return x.copy=function(){return ua(x,yi()).constant(x.constant())},Et.apply(x,arguments)}function gi(x){return function(T){return T<0?-Math.pow(-T,x):Math.pow(T,x)}}function os(x){return x<0?-Math.sqrt(-x):Math.sqrt(x)}function xs(x){return x<0?-x*x:x*x}function vi(x){var T=x(ps,ps),z=1;function X(){return z===1?x(ps,ps):z===.5?x(os,xs):x(gi(z),gi(1/z))}return T.exponent=function(ge){return arguments.length?(z=+ge,X()):z},pn(T)}function Bs(){var x=vi(Oi());return x.copy=function(){return ua(x,Bs()).exponent(x.exponent())},Et.apply(x,arguments),x}function ss(){return Bs.apply(null,arguments).exponent(.5)}function ya(){var x=[],T=[],z=[],X;function ge(){var ot=0,zt=Math.max(1,T.length);for(z=new Array(zt-1);++ot<zt;)z[ot-1]=Bt(x,ot/zt);return Fe}function Fe(ot){return ot==null||isNaN(ot=+ot)?X:T[te(z,ot)]}return Fe.invertExtent=function(ot){var zt=T.indexOf(ot);return zt<0?[NaN,NaN]:[zt>0?z[zt-1]:x[0],zt<z.length?z[zt]:x[x.length-1]]},Fe.domain=function(ot){if(!arguments.length)return x.slice();x=[];for(let zt of ot)zt!=null&&!isNaN(zt=+zt)&&x.push(zt);return x.sort(ct),ge()},Fe.range=function(ot){return arguments.length?(T=Array.from(ot),ge()):T.slice()},Fe.unknown=function(ot){return arguments.length?(X=ot,Fe):X},Fe.quantiles=function(){return z.slice()},Fe.copy=function(){return ya().domain(x).range(T).unknown(X)},Et.apply(Fe,arguments)}function No(){var x=0,T=1,z=1,X=[.5],ge=[0,1],Fe;function ot(Cn){return Cn!=null&&Cn<=Cn?ge[te(X,Cn,0,z)]:Fe}function zt(){var Cn=-1;for(X=new Array(z);++Cn<z;)X[Cn]=((Cn+1)*T-(Cn-z)*x)/(z+1);return ot}return ot.domain=function(Cn){return arguments.length?([x,T]=Cn,x=+x,T=+T,zt()):[x,T]},ot.range=function(Cn){return arguments.length?(z=(ge=Array.from(Cn)).length-1,zt()):ge.slice()},ot.invertExtent=function(Cn){var Sn=ge.indexOf(Cn);return Sn<0?[NaN,NaN]:Sn<1?[x,X[0]]:Sn>=z?[X[z-1],T]:[X[Sn-1],X[Sn]]},ot.unknown=function(Cn){return arguments.length&&(Fe=Cn),ot},ot.thresholds=function(){return X.slice()},ot.copy=function(){return No().domain([x,T]).range(ge).unknown(Fe)},Et.apply(pn(ot),arguments)}function Ts(){var x=[.5],T=[0,1],z,X=1;function ge(Fe){return Fe!=null&&Fe<=Fe?T[te(x,Fe,0,X)]:z}return ge.domain=function(Fe){return arguments.length?(x=Array.from(Fe),X=Math.min(x.length,T.length-1),ge):x.slice()},ge.range=function(Fe){return arguments.length?(T=Array.from(Fe),X=Math.min(x.length,T.length-1),ge):T.slice()},ge.invertExtent=function(Fe){var ot=T.indexOf(Fe);return[x[ot-1],x[ot]]},ge.unknown=function(Fe){return arguments.length?(z=Fe,ge):z},ge.copy=function(){return Ts().domain(x).range(T).unknown(z)},Et.apply(ge,arguments)}var nn=new Date,Jn=new Date;function En(x,T,z,X){function ge(Fe){return x(Fe=arguments.length===0?new Date:new Date(+Fe)),Fe}return ge.floor=function(Fe){return x(Fe=new Date(+Fe)),Fe},ge.ceil=function(Fe){return x(Fe=new Date(Fe-1)),T(Fe,1),x(Fe),Fe},ge.round=function(Fe){var ot=ge(Fe),zt=ge.ceil(Fe);return Fe-ot<zt-Fe?ot:zt},ge.offset=function(Fe,ot){return T(Fe=new Date(+Fe),ot==null?1:Math.floor(ot)),Fe},ge.range=function(Fe,ot,zt){var Cn=[],Sn;if(Fe=ge.ceil(Fe),zt=zt==null?1:Math.floor(zt),!(Fe<ot)||!(zt>0))return Cn;do Cn.push(Sn=new Date(+Fe)),T(Fe,zt),x(Fe);while(Sn<Fe&&Fe<ot);return Cn},ge.filter=function(Fe){return En(function(ot){if(ot>=ot)for(;x(ot),!Fe(ot);)ot.setTime(ot-1)},function(ot,zt){if(ot>=ot)if(zt<0)for(;++zt<=0;)for(;T(ot,-1),!Fe(ot););else for(;--zt>=0;)for(;T(ot,1),!Fe(ot););})},z&&(ge.count=function(Fe,ot){return nn.setTime(+Fe),Jn.setTime(+ot),x(nn),x(Jn),Math.floor(z(nn,Jn))},ge.every=function(Fe){return Fe=Math.floor(Fe),!isFinite(Fe)||!(Fe>0)?null:Fe>1?ge.filter(X?function(ot){return X(ot)%Fe===0}:function(ot){return ge.count(0,ot)%Fe===0}):ge}),ge}var Yr=En(function(){},function(x,T){x.setTime(+x+T)},function(x,T){return T-x});Yr.every=function(x){return x=Math.floor(x),!isFinite(x)||!(x>0)?null:x>1?En(function(T){T.setTime(Math.floor(T/x)*x)},function(T,z){T.setTime(+T+z*x)},function(T,z){return(z-T)/x}):Yr};var Ti=Yr;let ns=1e3,ms=ns*60,Hi=ms*60,fs=Hi*24,mu=fs*7,le=fs*30,ut=fs*365;var en=En(function(x){x.setTime(x-x.getMilliseconds())},function(x,T){x.setTime(+x+T*ns)},function(x,T){return(T-x)/ns},function(x){return x.getUTCSeconds()}),Dn=en,ir=En(function(x){x.setTime(x-x.getMilliseconds()-x.getSeconds()*ns)},function(x,T){x.setTime(+x+T*ms)},function(x,T){return(T-x)/ms},function(x){return x.getMinutes()}),vr=ir,dr=En(function(x){x.setTime(x-x.getMilliseconds()-x.getSeconds()*ns-x.getMinutes()*ms)},function(x,T){x.setTime(+x+T*Hi)},function(x,T){return(T-x)/Hi},function(x){return x.getHours()}),es=dr,_s=En(x=>x.setHours(0,0,0,0),(x,T)=>x.setDate(x.getDate()+T),(x,T)=>(T-x-(T.getTimezoneOffset()-x.getTimezoneOffset())*ms)/fs,x=>x.getDate()-1),Ls=_s;function oo(x){return En(function(T){T.setDate(T.getDate()-(T.getDay()+7-x)%7),T.setHours(0,0,0,0)},function(T,z){T.setDate(T.getDate()+z*7)},function(T,z){return(z-T-(z.getTimezoneOffset()-T.getTimezoneOffset())*ms)/mu})}var Za=oo(0),sc=oo(1);oo(2),oo(3);var sf=oo(4);oo(5),oo(6);var Ic=En(function(x){x.setDate(1),x.setHours(0,0,0,0)},function(x,T){x.setMonth(x.getMonth()+T)},function(x,T){return T.getMonth()-x.getMonth()+(T.getFullYear()-x.getFullYear())*12},function(x){return x.getMonth()}),l0=Ic,G0=En(function(x){x.setMonth(0,1),x.setHours(0,0,0,0)},function(x,T){x.setFullYear(x.getFullYear()+T)},function(x,T){return T.getFullYear()-x.getFullYear()},function(x){return x.getFullYear()});G0.every=function(x){return!isFinite(x=Math.floor(x))||!(x>0)?null:En(function(T){T.setFullYear(Math.floor(T.getFullYear()/x)*x),T.setMonth(0,1),T.setHours(0,0,0,0)},function(T,z){T.setFullYear(T.getFullYear()+z*x)})};var oc=G0,of=En(function(x){x.setUTCSeconds(0,0)},function(x,T){x.setTime(+x+T*ms)},function(x,T){return(T-x)/ms},function(x){return x.getUTCMinutes()}),c0=of,_l=En(function(x){x.setUTCMinutes(0,0,0)},function(x,T){x.setTime(+x+T*Hi)},function(x,T){return(T-x)/Hi},function(x){return x.getUTCHours()}),Mc=_l,f0=En(function(x){x.setUTCHours(0,0,0,0)},function(x,T){x.setUTCDate(x.getUTCDate()+T)},function(x,T){return(T-x)/fs},function(x){return x.getUTCDate()-1}),ac=f0;function Wl(x){return En(function(T){T.setUTCDate(T.getUTCDate()-(T.getUTCDay()+7-x)%7),T.setUTCHours(0,0,0,0)},function(T,z){T.setUTCDate(T.getUTCDate()+z*7)},function(T,z){return(z-T)/mu})}var Y0=Wl(0),Th=Wl(1);Wl(2),Wl(3);var K0=Wl(4);Wl(5),Wl(6);var J0=En(function(x){x.setUTCDate(1),x.setUTCHours(0,0,0,0)},function(x,T){x.setUTCMonth(x.getUTCMonth()+T)},function(x,T){return T.getUTCMonth()-x.getUTCMonth()+(T.getUTCFullYear()-x.getUTCFullYear())*12},function(x){return x.getUTCMonth()}),af=J0,X0=En(function(x){x.setUTCMonth(0,1),x.setUTCHours(0,0,0,0)},function(x,T){x.setUTCFullYear(x.getUTCFullYear()+T)},function(x,T){return T.getUTCFullYear()-x.getUTCFullYear()},function(x){return x.getUTCFullYear()});X0.every=function(x){return!isFinite(x=Math.floor(x))||!(x>0)?null:En(function(T){T.setUTCFullYear(Math.floor(T.getUTCFullYear()/x)*x),T.setUTCMonth(0,1),T.setUTCHours(0,0,0,0)},function(T,z){T.setUTCFullYear(T.getUTCFullYear()+z*x)})};var Pc=X0;function d0(x,T,z,X,ge,Fe){let ot=[[Dn,1,ns],[Dn,5,5*ns],[Dn,15,15*ns],[Dn,30,30*ns],[Fe,1,ms],[Fe,5,5*ms],[Fe,15,15*ms],[Fe,30,30*ms],[ge,1,Hi],[ge,3,3*Hi],[ge,6,6*Hi],[ge,12,12*Hi],[X,1,fs],[X,2,2*fs],[z,1,mu],[T,1,le],[T,3,3*le],[x,1,ut]];function zt(Sn,Bn,Hn){let or=Bn<Sn;or&&([Sn,Bn]=[Bn,Sn]);let Rr=Hn&&typeof Hn.range=="function"?Hn:Cn(Sn,Bn,Hn),Kr=Rr?Rr.range(Sn,+Bn+1):[];return or?Kr.reverse():Kr}function Cn(Sn,Bn,Hn){let or=Math.abs(Bn-Sn)/Hn,Rr=Ze(([,,Ei])=>Ei).right(ot,or);if(Rr===ot.length)return x.every(kt(Sn/ut,Bn/ut,Hn));if(Rr===0)return Ti.every(Math.max(kt(Sn,Bn,Hn),1));let[Kr,Lr]=ot[or/ot[Rr-1][2]<ot[Rr][2]/or?Rr-1:Rr];return Kr.every(Lr)}return[zt,Cn]}let[h0,p0]=d0(Pc,af,Y0,ac,Mc,c0),[Uo,Zo]=d0(oc,l0,Za,Ls,es,vr);function m0(x){if(0<=x.y&&x.y<100){var T=new Date(-1,x.m,x.d,x.H,x.M,x.S,x.L);return T.setFullYear(x.y),T}return new Date(x.y,x.m,x.d,x.H,x.M,x.S,x.L)}function El(x){if(0<=x.y&&x.y<100){var T=new Date(Date.UTC(-1,x.m,x.d,x.H,x.M,x.S,x.L));return T.setUTCFullYear(x.y),T}return new Date(Date.UTC(x.y,x.m,x.d,x.H,x.M,x.S,x.L))}function uf(x,T,z){return{y:x,m:T,d:z,H:0,M:0,S:0,L:0}}function qd(x){var T=x.dateTime,z=x.date,X=x.time,ge=x.periods,Fe=x.days,ot=x.shortDays,zt=x.months,Cn=x.shortMonths,Sn=k(ge),Bn=Z(ge),Hn=k(Fe),or=Z(Fe),Rr=k(ot),Kr=Z(ot),Lr=k(zt),Ei=Z(zt),ki=k(Cn),Rs=Z(Cn),ds={a:v0,A:ba,b:dc,B:Gd,c:null,d:Ma,e:Ma,f:tl,g:Vr,G:Q1,H:lc,I:_a,j:lf,L:cf,m:cc,M:W1,p:em,q:Cp,Q:qc,s:Rh,S:Bc,u:n2,U:Gl,V:jc,w:jr,W:Z0,x:null,X:null,y:ed,Y:Cl,Z:mp,"%":il},Zs={a:_0,A:i2,b:u3,B:og,c:null,d:Eo,e:Eo,f:ng,g:wl,G:xu,H:td,I:Ud,j:nd,L:ff,m:rg,M:Dh,p:ag,q:tm,Q:qc,s:Rh,S:df,u:nl,U:$d,V:G1,w:rl,W:rd,x:null,X:null,y:Nf,Y:gp,Z:Y1,"%":il},gs={a:Iu,A:Es,b:Ta,B:Va,c:Dl,d:Qi,e:Qi,f:mo,g:hr,G:sr,H:Qr,I:Qr,j:Li,L:va,m:Fi,M:Ys,p:tu,q:it,Q:uc,s:Ql,S:$o,u:Nt,U:Vt,V:An,w:je,W:kn,x:Qd,X:ol,y:hr,Y:sr,Z:Nr,"%":Ia};ds.x=Gr(z,ds),ds.X=Gr(X,ds),ds.c=Gr(T,ds),Zs.x=Gr(z,Zs),Zs.X=Gr(X,Zs),Zs.c=Gr(T,Zs);function Gr(Dr,js){return function(bo){var Ur=[],xf=-1,br=0,al=Dr.length,So,hc,l3;for(bo instanceof Date||(bo=new Date(+bo));++xf<al;)Dr.charCodeAt(xf)===37&&(Ur.push(Dr.slice(br,xf)),(hc=Ru[So=Dr.charAt(++xf)])!=null?So=Dr.charAt(++xf):hc=So==="e"?" ":"0",(l3=js[So])&&(So=l3(bo,hc)),Ur.push(So),br=xf+1);return Ur.push(Dr.slice(br,xf)),Ur.join("")}}function Ki(Dr,js){return function(bo){var Ur=uf(1900,void 0,1),xf=Ba(Ur,Dr,bo+="",0),br,al;if(xf!=bo.length)return null;if("Q"in Ur)return new Date(Ur.Q);if("s"in Ur)return new Date(Ur.s*1e3+("L"in Ur?Ur.L:0));if(js&&!("Z"in Ur)&&(Ur.Z=0),"p"in Ur&&(Ur.H=Ur.H%12+Ur.p*12),Ur.m===void 0&&(Ur.m="q"in Ur?Ur.q:0),"V"in Ur){if(Ur.V<1||Ur.V>53)return null;"w"in Ur||(Ur.w=1),"Z"in Ur?(br=El(uf(Ur.y,0,1)),al=br.getUTCDay(),br=al>4||al===0?Th.ceil(br):Th(br),br=ac.offset(br,(Ur.V-1)*7),Ur.y=br.getUTCFullYear(),Ur.m=br.getUTCMonth(),Ur.d=br.getUTCDate()+(Ur.w+6)%7):(br=m0(uf(Ur.y,0,1)),al=br.getDay(),br=al>4||al===0?sc.ceil(br):sc(br),br=Ls.offset(br,(Ur.V-1)*7),Ur.y=br.getFullYear(),Ur.m=br.getMonth(),Ur.d=br.getDate()+(Ur.w+6)%7)}else("W"in Ur||"U"in Ur)&&("w"in Ur||(Ur.w="u"in Ur?Ur.u%7:"W"in Ur?1:0),al="Z"in Ur?El(uf(Ur.y,0,1)).getUTCDay():m0(uf(Ur.y,0,1)).getDay(),Ur.m=0,Ur.d="W"in Ur?(Ur.w+6)%7+Ur.W*7-(al+5)%7:Ur.w+Ur.U*7-(al+6)%7);return"Z"in Ur?(Ur.H+=Ur.Z/100|0,Ur.M+=Ur.Z%100,El(Ur)):m0(Ur)}}function Ba(Dr,js,bo,Ur){for(var xf=0,br=js.length,al=bo.length,So,hc;xf<br;){if(Ur>=al)return-1;if(So=js.charCodeAt(xf++),So===37){if(So=js.charAt(xf++),hc=gs[So in Ru?js.charAt(xf++):So],!hc||(Ur=hc(Dr,bo,Ur))<0)return-1}else if(So!=bo.charCodeAt(Ur++))return-1}return Ur}function tu(Dr,js,bo){var Ur=Sn.exec(js.slice(bo));return Ur?(Dr.p=Bn.get(Ur[0].toLowerCase()),bo+Ur[0].length):-1}function Iu(Dr,js,bo){var Ur=Rr.exec(js.slice(bo));return Ur?(Dr.w=Kr.get(Ur[0].toLowerCase()),bo+Ur[0].length):-1}function Es(Dr,js,bo){var Ur=Hn.exec(js.slice(bo));return Ur?(Dr.w=or.get(Ur[0].toLowerCase()),bo+Ur[0].length):-1}function Ta(Dr,js,bo){var Ur=ki.exec(js.slice(bo));return Ur?(Dr.m=Rs.get(Ur[0].toLowerCase()),bo+Ur[0].length):-1}function Va(Dr,js,bo){var Ur=Lr.exec(js.slice(bo));return Ur?(Dr.m=Ei.get(Ur[0].toLowerCase()),bo+Ur[0].length):-1}function Dl(Dr,js,bo){return Ba(Dr,T,js,bo)}function Qd(Dr,js,bo){return Ba(Dr,z,js,bo)}function ol(Dr,js,bo){return Ba(Dr,X,js,bo)}function v0(Dr){return ot[Dr.getDay()]}function ba(Dr){return Fe[Dr.getDay()]}function dc(Dr){return Cn[Dr.getMonth()]}function Gd(Dr){return zt[Dr.getMonth()]}function em(Dr){return ge[+(Dr.getHours()>=12)]}function Cp(Dr){return 1+~~(Dr.getMonth()/3)}function _0(Dr){return ot[Dr.getUTCDay()]}function i2(Dr){return Fe[Dr.getUTCDay()]}function u3(Dr){return Cn[Dr.getUTCMonth()]}function og(Dr){return zt[Dr.getUTCMonth()]}function ag(Dr){return ge[+(Dr.getUTCHours()>=12)]}function tm(Dr){return 1+~~(Dr.getUTCMonth()/3)}return{format:function(Dr){var js=Gr(Dr+="",ds);return js.toString=function(){return Dr},js},parse:function(Dr){var js=Ki(Dr+="",!1);return js.toString=function(){return Dr},js},utcFormat:function(Dr){var js=Gr(Dr+="",Zs);return js.toString=function(){return Dr},js},utcParse:function(Dr){var js=Ki(Dr+="",!0);return js.toString=function(){return Dr},js}}}var Ru={"-":"",_:" ","0":"0"},_o=/^\s*\d+/,Fh=/^%/,bl=/[\\^$*+?|[\]().{}]/g;function Is(x,T,z){var X=x<0?"-":"",ge=(X?-x:x)+"",Fe=ge.length;return X+(Fe<z?new Array(z-Fe+1).join(T)+ge:ge)}function Sl(x){return x.replace(bl,"\\$&")}function k(x){return new RegExp("^(?:"+x.map(Sl).join("|")+")","i")}function Z(x){return new Map(x.map((T,z)=>[T.toLowerCase(),z]))}function je(x,T,z){var X=_o.exec(T.slice(z,z+1));return X?(x.w=+X[0],z+X[0].length):-1}function Nt(x,T,z){var X=_o.exec(T.slice(z,z+1));return X?(x.u=+X[0],z+X[0].length):-1}function Vt(x,T,z){var X=_o.exec(T.slice(z,z+2));return X?(x.U=+X[0],z+X[0].length):-1}function An(x,T,z){var X=_o.exec(T.slice(z,z+2));return X?(x.V=+X[0],z+X[0].length):-1}function kn(x,T,z){var X=_o.exec(T.slice(z,z+2));return X?(x.W=+X[0],z+X[0].length):-1}function sr(x,T,z){var X=_o.exec(T.slice(z,z+4));return X?(x.y=+X[0],z+X[0].length):-1}function hr(x,T,z){var X=_o.exec(T.slice(z,z+2));return X?(x.y=+X[0]+(+X[0]>68?1900:2e3),z+X[0].length):-1}function Nr(x,T,z){var X=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(T.slice(z,z+6));return X?(x.Z=X[1]?0:-(X[2]+(X[3]||"00")),z+X[0].length):-1}function it(x,T,z){var X=_o.exec(T.slice(z,z+1));return X?(x.q=X[0]*3-3,z+X[0].length):-1}function Fi(x,T,z){var X=_o.exec(T.slice(z,z+2));return X?(x.m=X[0]-1,z+X[0].length):-1}function Qi(x,T,z){var X=_o.exec(T.slice(z,z+2));return X?(x.d=+X[0],z+X[0].length):-1}function Li(x,T,z){var X=_o.exec(T.slice(z,z+3));return X?(x.m=0,x.d=+X[0],z+X[0].length):-1}function Qr(x,T,z){var X=_o.exec(T.slice(z,z+2));return X?(x.H=+X[0],z+X[0].length):-1}function Ys(x,T,z){var X=_o.exec(T.slice(z,z+2));return X?(x.M=+X[0],z+X[0].length):-1}function $o(x,T,z){var X=_o.exec(T.slice(z,z+2));return X?(x.S=+X[0],z+X[0].length):-1}function va(x,T,z){var X=_o.exec(T.slice(z,z+3));return X?(x.L=+X[0],z+X[0].length):-1}function mo(x,T,z){var X=_o.exec(T.slice(z,z+6));return X?(x.L=Math.floor(X[0]/1e3),z+X[0].length):-1}function Ia(x,T,z){var X=Fh.exec(T.slice(z,z+1));return X?z+X[0].length:-1}function uc(x,T,z){var X=_o.exec(T.slice(z));return X?(x.Q=+X[0],z+X[0].length):-1}function Ql(x,T,z){var X=_o.exec(T.slice(z));return X?(x.s=+X[0],z+X[0].length):-1}function Ma(x,T){return Is(x.getDate(),T,2)}function lc(x,T){return Is(x.getHours(),T,2)}function _a(x,T){return Is(x.getHours()%12||12,T,2)}function lf(x,T){return Is(1+Ls.count(oc(x),x),T,3)}function cf(x,T){return Is(x.getMilliseconds(),T,3)}function tl(x,T){return cf(x,T)+"000"}function cc(x,T){return Is(x.getMonth()+1,T,2)}function W1(x,T){return Is(x.getMinutes(),T,2)}function Bc(x,T){return Is(x.getSeconds(),T,2)}function n2(x){var T=x.getDay();return T===0?7:T}function Gl(x,T){return Is(Za.count(oc(x)-1,x),T,2)}function Of(x){var T=x.getDay();return T>=4||T===0?sf(x):sf.ceil(x)}function jc(x,T){return x=Of(x),Is(sf.count(oc(x),x)+(oc(x).getDay()===4),T,2)}function jr(x){return x.getDay()}function Z0(x,T){return Is(sc.count(oc(x)-1,x),T,2)}function ed(x,T){return Is(x.getFullYear()%100,T,2)}function Vr(x,T){return x=Of(x),Is(x.getFullYear()%100,T,2)}function Cl(x,T){return Is(x.getFullYear()%1e4,T,4)}function Q1(x,T){var z=x.getDay();return x=z>=4||z===0?sf(x):sf.ceil(x),Is(x.getFullYear()%1e4,T,4)}function mp(x){var T=x.getTimezoneOffset();return(T>0?"-":(T*=-1,"+"))+Is(T/60|0,"0",2)+Is(T%60,"0",2)}function Eo(x,T){return Is(x.getUTCDate(),T,2)}function td(x,T){return Is(x.getUTCHours(),T,2)}function Ud(x,T){return Is(x.getUTCHours()%12||12,T,2)}function nd(x,T){return Is(1+ac.count(Pc(x),x),T,3)}function ff(x,T){return Is(x.getUTCMilliseconds(),T,3)}function ng(x,T){return ff(x,T)+"000"}function rg(x,T){return Is(x.getUTCMonth()+1,T,2)}function Dh(x,T){return Is(x.getUTCMinutes(),T,2)}function df(x,T){return Is(x.getUTCSeconds(),T,2)}function nl(x){var T=x.getUTCDay();return T===0?7:T}function $d(x,T){return Is(Y0.count(Pc(x)-1,x),T,2)}function xp(x){var T=x.getUTCDay();return T>=4||T===0?K0(x):K0.ceil(x)}function G1(x,T){return x=xp(x),Is(K0.count(Pc(x),x)+(Pc(x).getUTCDay()===4),T,2)}function rl(x){return x.getUTCDay()}function rd(x,T){return Is(Th.count(Pc(x)-1,x),T,2)}function Nf(x,T){return Is(x.getUTCFullYear()%100,T,2)}function wl(x,T){return x=xp(x),Is(x.getUTCFullYear()%100,T,2)}function gp(x,T){return Is(x.getUTCFullYear()%1e4,T,4)}function xu(x,T){var z=x.getUTCDay();return x=z>=4||z===0?K0(x):K0.ceil(x),Is(x.getUTCFullYear()%1e4,T,4)}function Y1(){return"+0000"}function il(){return"%"}function qc(x){return+x}function Rh(x){return Math.floor(+x/1e3)}var zd,hf,Oh;yp({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yp(x){return zd=qd(x),hf=zd.format,Oh=zd.utcFormat,zd}function Ha(x){return new Date(x)}function Nh(x){return x instanceof Date?+x:+new Date(+x)}function id(x,T,z,X,ge,Fe,ot,zt,Cn,Sn){var Bn=Wo(),Hn=Bn.invert,or=Bn.domain,Rr=Sn(".%L"),Kr=Sn(":%S"),Lr=Sn("%I:%M"),Ei=Sn("%I %p"),ki=Sn("%a %d"),Rs=Sn("%b %d"),ds=Sn("%B"),Zs=Sn("%Y");function gs(Gr){return(Cn(Gr)<Gr?Rr:zt(Gr)<Gr?Kr:ot(Gr)<Gr?Lr:Fe(Gr)<Gr?Ei:X(Gr)<Gr?ge(Gr)<Gr?ki:Rs:z(Gr)<Gr?ds:Zs)(Gr)}return Bn.invert=function(Gr){return new Date(Hn(Gr))},Bn.domain=function(Gr){return arguments.length?or(Array.from(Gr,Nh)):or().map(Ha)},Bn.ticks=function(Gr){var Ki=or();return x(Ki[0],Ki[Ki.length-1],Gr??10)},Bn.tickFormat=function(Gr,Ki){return Ki==null?gs:Sn(Ki)},Bn.nice=function(Gr){var Ki=or();return(!Gr||typeof Gr.range!="function")&&(Gr=T(Ki[0],Ki[Ki.length-1],Gr??10)),Gr?or($n(Ki,Gr)):Bn},Bn.copy=function(){return ua(Bn,id(x,T,z,X,ge,Fe,ot,zt,Cn,Sn))},Bn}function Pa(){return Et.apply(id(Uo,Zo,oc,l0,Za,Ls,es,vr,Dn,hf).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Lh(){return Et.apply(id(h0,p0,Pc,af,Y0,ac,Mc,c0,Dn,Oh).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ou(){var x=0,T=1,z,X,ge,Fe,ot=ps,zt=!1,Cn;function Sn(Hn){return Hn==null||isNaN(Hn=+Hn)?Cn:ot(ge===0?.5:(Hn=(Fe(Hn)-z)*ge,zt?Math.max(0,Math.min(1,Hn)):Hn))}Sn.domain=function(Hn){return arguments.length?([x,T]=Hn,z=Fe(x=+x),X=Fe(T=+T),ge=z===X?0:1/(X-z),Sn):[x,T]},Sn.clamp=function(Hn){return arguments.length?(zt=!!Hn,Sn):zt},Sn.interpolator=function(Hn){return arguments.length?(ot=Hn,Sn):ot};function Bn(Hn){return function(or){var Rr,Kr;return arguments.length?([Rr,Kr]=or,ot=Hn(Rr,Kr),Sn):[ot(0),ot(1)]}}return Sn.range=Bn(ts),Sn.rangeRound=Bn(yl),Sn.unknown=function(Hn){return arguments.length?(Cn=Hn,Sn):Cn},function(Hn){return Fe=Hn,z=Hn(x),X=Hn(T),ge=z===X?0:1/(X-z),Sn}}function eu(x,T){return T.domain(x.domain()).interpolator(x.interpolator()).clamp(x.clamp()).unknown(x.unknown())}function kh(){var x=pn(Ou()(ps));return x.copy=function(){return eu(x,kh())},ve.apply(x,arguments)}function Ea(){var x=ni(Ou()).domain([1,10]);return x.copy=function(){return eu(x,Ea()).base(x.base())},ve.apply(x,arguments)}function Ih(){var x=Ir(Ou());return x.copy=function(){return eu(x,Ih()).constant(x.constant())},ve.apply(x,arguments)}function vp(){var x=vi(Ou());return x.copy=function(){return eu(x,vp()).exponent(x.exponent())},ve.apply(x,arguments)}function x0(){return vp.apply(null,arguments).exponent(.5)}function sd(){var x=0,T=.5,z=1,X=1,ge,Fe,ot,zt,Cn,Sn=ps,Bn,Hn=!1,or;function Rr(Lr){return isNaN(Lr=+Lr)?or:(Lr=.5+((Lr=+Bn(Lr))-Fe)*(X*Lr<X*Fe?zt:Cn),Sn(Hn?Math.max(0,Math.min(1,Lr)):Lr))}Rr.domain=function(Lr){return arguments.length?([x,T,z]=Lr,ge=Bn(x=+x),Fe=Bn(T=+T),ot=Bn(z=+z),zt=ge===Fe?0:.5/(Fe-ge),Cn=Fe===ot?0:.5/(ot-Fe),X=Fe<ge?-1:1,Rr):[x,T,z]},Rr.clamp=function(Lr){return arguments.length?(Hn=!!Lr,Rr):Hn},Rr.interpolator=function(Lr){return arguments.length?(Sn=Lr,Rr):Sn};function Kr(Lr){return function(Ei){var ki,Rs,ds;return arguments.length?([ki,Rs,ds]=Ei,Sn=Wi(Lr,[ki,Rs,ds]),Rr):[Sn(0),Sn(.5),Sn(1)]}}return Rr.range=Kr(ts),Rr.rangeRound=Kr(yl),Rr.unknown=function(Lr){return arguments.length?(or=Lr,Rr):or},function(Lr){return Bn=Lr,ge=Lr(x),Fe=Lr(T),ot=Lr(z),zt=ge===Fe?0:.5/(Fe-ge),Cn=Fe===ot?0:.5/(ot-Fe),X=Fe<ge?-1:1,Rr}}function pf(){var x=pn(sd()(ps));return x.copy=function(){return eu(x,pf())},ve.apply(x,arguments)}function Yl(){var x=ni(sd()).domain([.1,1,10]);return x.copy=function(){return eu(x,Yl()).base(x.base())},ve.apply(x,arguments)}function Nu(){var x=Ir(sd());return x.copy=function(){return eu(x,Nu()).constant(x.constant())},ve.apply(x,arguments)}function _p(){var x=vi(sd());return x.copy=function(){return eu(x,_p()).exponent(x.exponent())},ve.apply(x,arguments)}function sl(){return _p.apply(null,arguments).exponent(.5)}function Mh(){let x=_e().unknown(void 0),T=x.domain,z=x.range,X=[0,1],ge,Fe,ot=!1,zt=0,Cn=0,Sn=.5;delete x.unknown;function Bn(){let Hn=T().length,or=X[1]<X[0],Rr=X[1-or],Kr=r(Hn,zt,Cn),Lr=X[or-0];ge=(Rr-Lr)/(Kr||1),ot&&(ge=Math.floor(ge)),Lr+=(Rr-Lr-ge*(Hn-zt))*Sn,Fe=ge*(1-zt),ot&&(Lr=Math.round(Lr),Fe=Math.round(Fe));let Ei=tn(Hn).map(ki=>Lr+ge*ki);return z(or?Ei.reverse():Ei)}return x.domain=function(Hn){return arguments.length?(T(Hn),Bn()):T()},x.range=function(Hn){return arguments.length?(X=[+Hn[0],+Hn[1]],Bn()):X.slice()},x.rangeRound=function(Hn){return X=[+Hn[0],+Hn[1]],ot=!0,Bn()},x.bandwidth=function(){return Fe},x.step=function(){return ge},x.round=function(Hn){return arguments.length?(ot=!!Hn,Bn()):ot},x.padding=function(Hn){return arguments.length?(Cn=Math.max(0,Math.min(1,Hn)),zt=Cn,Bn()):zt},x.paddingInner=function(Hn){return arguments.length?(zt=Math.max(0,Math.min(1,Hn)),Bn()):zt},x.paddingOuter=function(Hn){return arguments.length?(Cn=Math.max(0,Math.min(1,Hn)),Bn()):Cn},x.align=function(Hn){return arguments.length?(Sn=Math.max(0,Math.min(1,Hn)),Bn()):Sn},x.invertRange=function(Hn){if(Hn[0]==null||Hn[1]==null)return;let or=X[1]<X[0],Rr=or?z().reverse():z(),Kr=Rr.length-1,Lr=+Hn[0],Ei=+Hn[1],ki,Rs,ds;if(!(Lr!==Lr||Ei!==Ei)&&(Ei<Lr&&(ds=Lr,Lr=Ei,Ei=ds),!(Ei<Rr[0]||Lr>X[1-or])))return ki=Math.max(0,qe(Rr,Lr)-1),Rs=Lr===Ei?ki:qe(Rr,Ei)-1,Lr-Rr[ki]>Fe+1e-10&&++ki,or&&(ds=ki,ki=Kr-Rs,Rs=Kr-ds),ki>Rs?void 0:T().slice(ki,Rs+1)},x.invert=function(Hn){let or=x.invertRange([Hn,Hn]);return or&&or[0]},x.copy=function(){return Mh().domain(T()).range(X).round(ot).paddingInner(zt).paddingOuter(Cn).align(Sn)},Bn()}function Hd(x){let T=x.copy;return x.padding=x.paddingOuter,delete x.paddingInner,x.copy=function(){return Hd(T())},x}function r2(){return Hd(Mh().paddingInner(1))}var Ep=Array.prototype.map;function Lf(x){return Ep.call(x,e.toNumber)}let od=Array.prototype.slice;function Xs(){let x=[],T=[];function z(X){return X==null||X!==X?void 0:T[(te(x,X)-1)%T.length]}return z.domain=function(X){return arguments.length?(x=Lf(X),z):x.slice()},z.range=function(X){return arguments.length?(T=od.call(X),z):T.slice()},z.tickFormat=function(X,ge){return $t(x[0],e.peek(x),X??10,ge)},z.copy=function(){return Xs().domain(z.domain()).range(z.range())},z}let A={};function Q(x,T,z){let X=function(){let Fe=T();return Fe.invertRange||(Fe.invertRange=Fe.invert?He(Fe):Fe.invertExtent?at(Fe):void 0),Fe.type=x,Fe};return X.metadata=e.toSet(e.array(z)),X}function de(x,T,z){return arguments.length>1?(A[x]=Q(x,T,z),this):Pe(x)?A[x]:void 0}de(i,Kn),de(s,Ln,oe),de(o,pi,[oe,o]),de(a,Bs,oe),de(l,ss,oe),de(f,yi,oe),de(p,Pa,[oe,ye]),de(_,Lh,[oe,ye]),de(b,kh,[oe,he]),de(`${b}-${s}`,kh,[oe,he]),de(`${b}-${o}`,Ea,[oe,he,o]),de(`${b}-${a}`,vp,[oe,he]),de(`${b}-${l}`,x0,[oe,he]),de(`${b}-${f}`,Ih,[oe,he]),de(`${R}-${s}`,pf,[oe,he]),de(`${R}-${o}`,Yl,[oe,he,o]),de(`${R}-${a}`,_p,[oe,he]),de(`${R}-${l}`,sl,[oe,he]),de(`${R}-${f}`,Nu,[oe,he]),de(O,ya,[J,O]),de(j,No,J),de($,Ts,J),de(W,Xs,[I,J]),de(L,_e,I),de(P,Mh,I),de(q,r2,I);function Pe(x){return e.hasOwnProperty(A,x)}function Ct(x,T){let z=A[x];return z&&z.metadata[T]}function Tn(x){return Ct(x,oe)}function ur(x){return Ct(x,I)}function $i(x){return Ct(x,J)}function Bi(x){return Ct(x,o)}function ao(x){return Ct(x,ye)}function gu(x){return Ct(x,he)}function Uc(x){return Ct(x,O)}let kf=["clamp","base","constant","exponent"];function Tb(x,T){let z=T[0],X=e.peek(T)-z;return function(ge){return x(z+ge*X)}}function i3(x,T,z){return Wi(Lu(T||"rgb",z),x)}function Y4(x,T){let z=new Array(T),X=T+1;for(let ge=0;ge<T;)z[ge]=x(++ge/X);return z}function s3(x){let T=x.type,z=x.copy();return z.type=T,z}function ad(x,T,z){let X=z-T,ge,Fe,ot;return!X||!Number.isFinite(X)?e.constant(.5):(ge=(Fe=x.type).indexOf("-"),Fe=ge<0?Fe:Fe.slice(ge+1),ot=de(Fe)().domain([T,z]).range([0,1]),kf.forEach(zt=>x[zt]?ot[zt](x[zt]()):0),ot)}function Lu(x,T){let z=da[K4(x)];return T!=null&&z&&z.gamma?z.gamma(T):z}function K4(x){return"interpolate"+x.toLowerCase().split("-").map(T=>T[0].toUpperCase()+T.slice(1)).join("")}let Ph={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},Fs={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function g0(x){let T=x.length/6|0,z=new Array(T);for(let X=0;X<T;)z[X]="#"+x.slice(X*6,++X*6);return z}function Al(x,T){for(let z in x)ku(z,T(x[z]))}let bp={};Al(Fs,g0),Al(Ph,x=>i3(g0(x)));function ku(x,T){return x=x&&x.toLowerCase(),arguments.length>1?(bp[x]=T,this):bp[x]}let K1="symbol",J1="discrete",Tl="gradient",o3=x=>e.isArray(x)?x.map(T=>String(T)):String(x),Vd=(x,T)=>x[1]-T[1],Bh=(x,T)=>T[1]-x[1];function a3(x,T,z){let X;return e.isNumber(T)&&(x.bins&&(T=Math.max(T,x.bins.length)),z!=null&&(T=Math.min(T,Math.floor(e.span(x.domain())/z||1)))),e.isObject(T)&&(X=T.step,T=T.interval),e.isString(T)&&(T=x.type===p?t.timeInterval(T):x.type==_?t.utcInterval(T):e.error("Only time and utc scales accept interval strings."),X&&(T=T.every(X))),T}function If(x,T,z){let X=x.range(),ge=X[0],Fe=e.peek(X),ot=Vd;if(ge>Fe&&(X=Fe,Fe=ge,ge=X,ot=Bh),ge=Math.floor(ge),Fe=Math.ceil(Fe),T=T.map(zt=>[zt,x(zt)]).filter(zt=>ge<=zt[1]&&zt[1]<=Fe).sort(ot).map(zt=>zt[0]),z>0&&T.length>1){let zt=[T[0],e.peek(T)];for(;T.length>z&&T.length>=3;)T=T.filter((Cn,Sn)=>!(Sn%2));T.length<3&&(T=zt)}return T}function Fl(x,T){return x.bins?If(x,x.bins):x.ticks?x.ticks(T):x.domain()}function Mf(x,T,z,X,ge,Fe){let ot=T.type,zt=o3;if(ot===p||ge===p)zt=x.timeFormat(X);else if(ot===_||ge===_)zt=x.utcFormat(X);else if(Bi(ot)){let Cn=x.formatFloat(X);if(Fe||T.bins)zt=Cn;else{let Sn=X1(T,z,!1);zt=Bn=>Sn(Bn)?Cn(Bn):""}}else if(T.tickFormat){let Cn=T.domain();zt=x.formatSpan(Cn[0],Cn[Cn.length-1],z,X)}else X&&(zt=x.format(X));return zt}function X1(x,T,z){let X=Fl(x,T),ge=x.base(),Fe=Math.log(ge),ot=Math.max(1,ge*T/X.length),zt=Cn=>{let Sn=Cn/Math.pow(ge,Math.round(Math.log(Cn)/Fe));return Sn*ge<ge-.5&&(Sn*=ge),Sn<=ot};return z?X.filter(zt):zt}let Sp={[O]:"quantiles",[j]:"thresholds",[$]:"domain"},Wd={[O]:"quantiles",[j]:"domain"};function Z1(x,T){return x.bins?sg(x.bins):x.type===o?X1(x,T,!0):Sp[x.type]?ig(x[Sp[x.type]]()):Fl(x,T)}function mf(x,T,z){let X=T[Wd[T.type]](),ge=X.length,Fe=ge>1?X[1]-X[0]:X[0],ot;for(ot=1;ot<ge;++ot)Fe=Math.min(Fe,X[ot]-X[ot-1]);return x.formatSpan(0,Fe,3*10,z)}function ig(x){let T=[-1/0].concat(x);return T.max=1/0,T}function sg(x){let T=x.slice(0,-1);return T.max=e.peek(x),T}let fc=x=>Sp[x.type]||x.bins;function y0(x,T,z,X,ge,Fe,ot){let zt=Wd[T.type]&&Fe!==p&&Fe!==_?mf(x,T,ge):Mf(x,T,z,ge,Fe,ot);return X===K1&&fc(T)?J4(zt):X===J1?y(zt):F(zt)}let J4=x=>(T,z,X)=>{let ge=ud(X[z+1],ud(X.max,1/0)),Fe=H(T,x),ot=H(ge,x);return Fe&&ot?Fe+" \u2013 "+ot:ot?"< "+ot:"\u2265 "+Fe},ud=(x,T)=>x??T,y=x=>(T,z)=>z?x(T):null,F=x=>T=>x(T),H=(x,T)=>Number.isFinite(x)?T(x):null;function Y(x){let T=x.domain(),z=T.length-1,X=+T[0],ge=+e.peek(T),Fe=ge-X;if(x.type===$){let ot=z?Fe/z:.1;X-=ot,ge+=ot,Fe=ge-X}return ot=>(ot-X)/Fe}function Me(x,T,z,X){let ge=X||T.type;return e.isString(z)&&ao(ge)&&(z=z.replace(/%a/g,"%A").replace(/%b/g,"%B")),!z&&ge===p?x.timeFormat("%A, %d %B %Y, %X"):!z&&ge===_?x.utcFormat("%A, %d %B %Y, %X UTC"):y0(x,T,5,null,z,X,!0)}function _t(x,T,z){z=z||{};let X=Math.max(3,z.maxlen||7),ge=Me(x,T,z.format,z.formatType);if($i(T.type)){let Fe=Z1(T).slice(1).map(ge),ot=Fe.length;return`${ot} boundar${ot===1?"y":"ies"}: ${Fe.join(", ")}`}else if(ur(T.type)){let Fe=T.domain(),ot=Fe.length,zt=ot>X?Fe.slice(0,X-2).map(ge).join(", ")+", ending with "+Fe.slice(-1).map(ge):Fe.map(ge).join(", ");return`${ot} value${ot===1?"":"s"}: ${zt}`}else{let Fe=T.domain();return`values from ${ge(Fe[0])} to ${ge(e.peek(Fe))}`}}n.Band=P,n.BinOrdinal=W,n.DiscreteLegend=J1,n.Diverging=R,n.GradientLegend=Tl,n.Identity=i,n.Linear=s,n.Log=o,n.Ordinal=L,n.Point=q,n.Pow=a,n.Quantile=O,n.Quantize=j,n.Sequential=b,n.Sqrt=l,n.SymbolLegend=K1,n.Symlog=f,n.Threshold=$,n.Time=p,n.UTC=_,n.bandSpace=r,n.domainCaption=_t,n.interpolate=Lu,n.interpolateColors=i3,n.interpolateRange=Tb,n.isContinuous=Tn,n.isDiscrete=ur,n.isDiscretizing=$i,n.isInterpolating=gu,n.isLogarithmic=Bi,n.isQuantile=Uc,n.isTemporal=ao,n.isValidScaleType=Pe,n.labelFormat=y0,n.labelFraction=Y,n.labelValues=Z1,n.quantizeInterpolator=Y4,n.scale=de,n.scaleCopy=s3,n.scaleFraction=ad,n.scaleImplicit=Le,n.scheme=ku,n.tickCount=a3,n.tickFormat=Mf,n.tickValues=Fl,n.validTicks=If,Object.defineProperty(n,"__esModule",{value:!0})})});var x9=Ae((pV,WDe)=>{m();(function(n,e){typeof pV=="object"&&typeof WDe!="undefined"?e(pV,Tu(),_N(),uV(),xb()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega))})(pV,function(n,e,t,r,i){"use strict";let s=0;function o(){s=0}let a="p_";function l(y){return y&&y.gradient}function f(y,F,H){let Y=y.gradient,Me=y.id,_t=Y==="radial"?a:"";return Me||(Me=y.id="gradient_"+s++,Y==="radial"?(y.x1=p(y.x1,.5),y.y1=p(y.y1,.5),y.r1=p(y.r1,0),y.x2=p(y.x2,.5),y.y2=p(y.y2,.5),y.r2=p(y.r2,.5),_t=a):(y.x1=p(y.x1,0),y.y1=p(y.y1,0),y.x2=p(y.x2,1),y.y2=p(y.y2,0))),F[Me]=y,"url("+(H||"")+"#"+_t+Me+")"}function p(y,F){return y??F}function _(y,F){var H=[],Y;return Y={gradient:"linear",x1:y?y[0]:0,y1:y?y[1]:0,x2:F?F[0]:1,y2:F?F[1]:0,stops:H,stop:function(Me,_t){return H.push({offset:Me,color:_t}),Y}}}let b=Math.PI,R=2*b,O=1e-6,j=R-O;function $(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function L(){return new $}$.prototype=L.prototype={constructor:$,moveTo:function(y,F){this._+="M"+(this._x0=this._x1=+y)+","+(this._y0=this._y1=+F)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(y,F){this._+="L"+(this._x1=+y)+","+(this._y1=+F)},quadraticCurveTo:function(y,F,H,Y){this._+="Q"+ +y+","+ +F+","+(this._x1=+H)+","+(this._y1=+Y)},bezierCurveTo:function(y,F,H,Y,Me,_t){this._+="C"+ +y+","+ +F+","+ +H+","+ +Y+","+(this._x1=+Me)+","+(this._y1=+_t)},arcTo:function(y,F,H,Y,Me){y=+y,F=+F,H=+H,Y=+Y,Me=+Me;var _t=this._x1,x=this._y1,T=H-y,z=Y-F,X=_t-y,ge=x-F,Fe=X*X+ge*ge;if(Me<0)throw new Error("negative radius: "+Me);if(this._x1===null)this._+="M"+(this._x1=y)+","+(this._y1=F);else if(Fe>O)if(!(Math.abs(ge*T-z*X)>O)||!Me)this._+="L"+(this._x1=y)+","+(this._y1=F);else{var ot=H-_t,zt=Y-x,Cn=T*T+z*z,Sn=ot*ot+zt*zt,Bn=Math.sqrt(Cn),Hn=Math.sqrt(Fe),or=Me*Math.tan((b-Math.acos((Cn+Fe-Sn)/(2*Bn*Hn)))/2),Rr=or/Hn,Kr=or/Bn;Math.abs(Rr-1)>O&&(this._+="L"+(y+Rr*X)+","+(F+Rr*ge)),this._+="A"+Me+","+Me+",0,0,"+ +(ge*ot>X*zt)+","+(this._x1=y+Kr*T)+","+(this._y1=F+Kr*z)}},arc:function(y,F,H,Y,Me,_t){y=+y,F=+F,H=+H,_t=!!_t;var x=H*Math.cos(Y),T=H*Math.sin(Y),z=y+x,X=F+T,ge=1^_t,Fe=_t?Y-Me:Me-Y;if(H<0)throw new Error("negative radius: "+H);this._x1===null?this._+="M"+z+","+X:(Math.abs(this._x1-z)>O||Math.abs(this._y1-X)>O)&&(this._+="L"+z+","+X),!!H&&(Fe<0&&(Fe=Fe%R+R),Fe>j?this._+="A"+H+","+H+",0,1,"+ge+","+(y-x)+","+(F-T)+"A"+H+","+H+",0,1,"+ge+","+(this._x1=z)+","+(this._y1=X):Fe>O&&(this._+="A"+H+","+H+",0,"+ +(Fe>=b)+","+ge+","+(this._x1=y+H*Math.cos(Me))+","+(this._y1=F+H*Math.sin(Me))))},rect:function(y,F,H,Y){this._+="M"+(this._x0=this._x1=+y)+","+(this._y0=this._y1=+F)+"h"+ +H+"v"+ +Y+"h"+-H+"Z"},toString:function(){return this._}};function q(y){return function(){return y}}let P=Math.abs,W=Math.atan2,oe=Math.cos,I=Math.max,J=Math.min,he=Math.sin,ye=Math.sqrt,He=1e-12,at=Math.PI,ct=at/2,Ze=2*at;function bt(y){return y>1?0:y<-1?at:Math.acos(y)}function Mt(y){return y>=1?ct:y<=-1?-ct:Math.asin(y)}function qe(y){return y.innerRadius}function te(y){return y.outerRadius}function et(y){return y.startAngle}function Ee(y){return y.endAngle}function ke(y){return y&&y.padAngle}function Ce(y,F,H,Y,Me,_t,x,T){var z=H-y,X=Y-F,ge=x-Me,Fe=T-_t,ot=Fe*z-ge*X;if(!(ot*ot<He))return ot=(ge*(F-_t)-Fe*(y-Me))/ot,[y+ot*z,F+ot*X]}function pe(y,F,H,Y,Me,_t,x){var T=y-H,z=F-Y,X=(x?_t:-_t)/ye(T*T+z*z),ge=X*z,Fe=-X*T,ot=y+ge,zt=F+Fe,Cn=H+ge,Sn=Y+Fe,Bn=(ot+Cn)/2,Hn=(zt+Sn)/2,or=Cn-ot,Rr=Sn-zt,Kr=or*or+Rr*Rr,Lr=Me-_t,Ei=ot*Sn-Cn*zt,ki=(Rr<0?-1:1)*ye(I(0,Lr*Lr*Kr-Ei*Ei)),Rs=(Ei*Rr-or*ki)/Kr,ds=(-Ei*or-Rr*ki)/Kr,Zs=(Ei*Rr+or*ki)/Kr,gs=(-Ei*or+Rr*ki)/Kr,Gr=Rs-Bn,Ki=ds-Hn,Ba=Zs-Bn,tu=gs-Hn;return Gr*Gr+Ki*Ki>Ba*Ba+tu*tu&&(Rs=Zs,ds=gs),{cx:Rs,cy:ds,x01:-ge,y01:-Fe,x11:Rs*(Me/Lr-1),y11:ds*(Me/Lr-1)}}function Je(){var y=qe,F=te,H=q(0),Y=null,Me=et,_t=Ee,x=ke,T=null;function z(){var X,ge,Fe=+y.apply(this,arguments),ot=+F.apply(this,arguments),zt=Me.apply(this,arguments)-ct,Cn=_t.apply(this,arguments)-ct,Sn=P(Cn-zt),Bn=Cn>zt;if(T||(T=X=L()),ot<Fe&&(ge=ot,ot=Fe,Fe=ge),!(ot>He))T.moveTo(0,0);else if(Sn>Ze-He)T.moveTo(ot*oe(zt),ot*he(zt)),T.arc(0,0,ot,zt,Cn,!Bn),Fe>He&&(T.moveTo(Fe*oe(Cn),Fe*he(Cn)),T.arc(0,0,Fe,Cn,zt,Bn));else{var Hn=zt,or=Cn,Rr=zt,Kr=Cn,Lr=Sn,Ei=Sn,ki=x.apply(this,arguments)/2,Rs=ki>He&&(Y?+Y.apply(this,arguments):ye(Fe*Fe+ot*ot)),ds=J(P(ot-Fe)/2,+H.apply(this,arguments)),Zs=ds,gs=ds,Gr,Ki;if(Rs>He){var Ba=Mt(Rs/Fe*he(ki)),tu=Mt(Rs/ot*he(ki));(Lr-=Ba*2)>He?(Ba*=Bn?1:-1,Rr+=Ba,Kr-=Ba):(Lr=0,Rr=Kr=(zt+Cn)/2),(Ei-=tu*2)>He?(tu*=Bn?1:-1,Hn+=tu,or-=tu):(Ei=0,Hn=or=(zt+Cn)/2)}var Iu=ot*oe(Hn),Es=ot*he(Hn),Ta=Fe*oe(Kr),Va=Fe*he(Kr);if(ds>He){var Dl=ot*oe(or),Qd=ot*he(or),ol=Fe*oe(Rr),v0=Fe*he(Rr),ba;if(Sn<at&&(ba=Ce(Iu,Es,ol,v0,Dl,Qd,Ta,Va))){var dc=Iu-ba[0],Gd=Es-ba[1],em=Dl-ba[0],Cp=Qd-ba[1],_0=1/he(bt((dc*em+Gd*Cp)/(ye(dc*dc+Gd*Gd)*ye(em*em+Cp*Cp)))/2),i2=ye(ba[0]*ba[0]+ba[1]*ba[1]);Zs=J(ds,(Fe-i2)/(_0-1)),gs=J(ds,(ot-i2)/(_0+1))}}Ei>He?gs>He?(Gr=pe(ol,v0,Iu,Es,ot,gs,Bn),Ki=pe(Dl,Qd,Ta,Va,ot,gs,Bn),T.moveTo(Gr.cx+Gr.x01,Gr.cy+Gr.y01),gs<ds?T.arc(Gr.cx,Gr.cy,gs,W(Gr.y01,Gr.x01),W(Ki.y01,Ki.x01),!Bn):(T.arc(Gr.cx,Gr.cy,gs,W(Gr.y01,Gr.x01),W(Gr.y11,Gr.x11),!Bn),T.arc(0,0,ot,W(Gr.cy+Gr.y11,Gr.cx+Gr.x11),W(Ki.cy+Ki.y11,Ki.cx+Ki.x11),!Bn),T.arc(Ki.cx,Ki.cy,gs,W(Ki.y11,Ki.x11),W(Ki.y01,Ki.x01),!Bn))):(T.moveTo(Iu,Es),T.arc(0,0,ot,Hn,or,!Bn)):T.moveTo(Iu,Es),!(Fe>He)||!(Lr>He)?T.lineTo(Ta,Va):Zs>He?(Gr=pe(Ta,Va,Dl,Qd,Fe,-Zs,Bn),Ki=pe(Iu,Es,ol,v0,Fe,-Zs,Bn),T.lineTo(Gr.cx+Gr.x01,Gr.cy+Gr.y01),Zs<ds?T.arc(Gr.cx,Gr.cy,Zs,W(Gr.y01,Gr.x01),W(Ki.y01,Ki.x01),!Bn):(T.arc(Gr.cx,Gr.cy,Zs,W(Gr.y01,Gr.x01),W(Gr.y11,Gr.x11),!Bn),T.arc(0,0,Fe,W(Gr.cy+Gr.y11,Gr.cx+Gr.x11),W(Ki.cy+Ki.y11,Ki.cx+Ki.x11),Bn),T.arc(Ki.cx,Ki.cy,Zs,W(Ki.y11,Ki.x11),W(Ki.y01,Ki.x01),!Bn))):T.arc(0,0,Fe,Kr,Rr,Bn)}if(T.closePath(),X)return T=null,X+""||null}return z.centroid=function(){var X=(+y.apply(this,arguments)+ +F.apply(this,arguments))/2,ge=(+Me.apply(this,arguments)+ +_t.apply(this,arguments))/2-at/2;return[oe(ge)*X,he(ge)*X]},z.innerRadius=function(X){return arguments.length?(y=typeof X=="function"?X:q(+X),z):y},z.outerRadius=function(X){return arguments.length?(F=typeof X=="function"?X:q(+X),z):F},z.cornerRadius=function(X){return arguments.length?(H=typeof X=="function"?X:q(+X),z):H},z.padRadius=function(X){return arguments.length?(Y=X==null?null:typeof X=="function"?X:q(+X),z):Y},z.startAngle=function(X){return arguments.length?(Me=typeof X=="function"?X:q(+X),z):Me},z.endAngle=function(X){return arguments.length?(_t=typeof X=="function"?X:q(+X),z):_t},z.padAngle=function(X){return arguments.length?(x=typeof X=="function"?X:q(+X),z):x},z.context=function(X){return arguments.length?(T=X??null,z):T},z}function lt(y){return typeof y=="object"&&"length"in y?y:Array.from(y)}function Ht(y){this._context=y}Ht.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;default:this._context.lineTo(y,F);break}}};function wt(y){return new Ht(y)}function mn(y){return y[0]}function kt(y){return y[1]}function Bt(y,F){var H=q(!0),Y=null,Me=wt,_t=null;y=typeof y=="function"?y:y===void 0?mn:q(y),F=typeof F=="function"?F:F===void 0?kt:q(F);function x(T){var z,X=(T=lt(T)).length,ge,Fe=!1,ot;for(Y==null&&(_t=Me(ot=L())),z=0;z<=X;++z)!(z<X&&H(ge=T[z],z,T))===Fe&&((Fe=!Fe)?_t.lineStart():_t.lineEnd()),Fe&&_t.point(+y(ge,z,T),+F(ge,z,T));if(ot)return _t=null,ot+""||null}return x.x=function(T){return arguments.length?(y=typeof T=="function"?T:q(+T),x):y},x.y=function(T){return arguments.length?(F=typeof T=="function"?T:q(+T),x):F},x.defined=function(T){return arguments.length?(H=typeof T=="function"?T:q(!!T),x):H},x.curve=function(T){return arguments.length?(Me=T,Y!=null&&(_t=Me(Y)),x):Me},x.context=function(T){return arguments.length?(T==null?Y=_t=null:_t=Me(Y=T),x):Y},x}function tn(y,F,H){var Y=null,Me=q(!0),_t=null,x=wt,T=null;y=typeof y=="function"?y:y===void 0?mn:q(+y),F=typeof F=="function"?F:q(F===void 0?0:+F),H=typeof H=="function"?H:H===void 0?kt:q(+H);function z(ge){var Fe,ot,zt,Cn=(ge=lt(ge)).length,Sn,Bn=!1,Hn,or=new Array(Cn),Rr=new Array(Cn);for(_t==null&&(T=x(Hn=L())),Fe=0;Fe<=Cn;++Fe){if(!(Fe<Cn&&Me(Sn=ge[Fe],Fe,ge))===Bn)if(Bn=!Bn)ot=Fe,T.areaStart(),T.lineStart();else{for(T.lineEnd(),T.lineStart(),zt=Fe-1;zt>=ot;--zt)T.point(or[zt],Rr[zt]);T.lineEnd(),T.areaEnd()}Bn&&(or[Fe]=+y(Sn,Fe,ge),Rr[Fe]=+F(Sn,Fe,ge),T.point(Y?+Y(Sn,Fe,ge):or[Fe],H?+H(Sn,Fe,ge):Rr[Fe]))}if(Hn)return T=null,Hn+""||null}function X(){return Bt().defined(Me).curve(x).context(_t)}return z.x=function(ge){return arguments.length?(y=typeof ge=="function"?ge:q(+ge),Y=null,z):y},z.x0=function(ge){return arguments.length?(y=typeof ge=="function"?ge:q(+ge),z):y},z.x1=function(ge){return arguments.length?(Y=ge==null?null:typeof ge=="function"?ge:q(+ge),z):Y},z.y=function(ge){return arguments.length?(F=typeof ge=="function"?ge:q(+ge),H=null,z):F},z.y0=function(ge){return arguments.length?(F=typeof ge=="function"?ge:q(+ge),z):F},z.y1=function(ge){return arguments.length?(H=ge==null?null:typeof ge=="function"?ge:q(+ge),z):H},z.lineX0=z.lineY0=function(){return X().x(y).y(F)},z.lineY1=function(){return X().x(y).y(H)},z.lineX1=function(){return X().x(Y).y(F)},z.defined=function(ge){return arguments.length?(Me=typeof ge=="function"?ge:q(!!ge),z):Me},z.curve=function(ge){return arguments.length?(x=ge,_t!=null&&(T=x(_t)),z):x},z.context=function(ge){return arguments.length?(ge==null?_t=T=null:T=x(_t=ge),z):_t},z}var Et={draw(y,F){let H=ye(F/at);y.moveTo(H,0),y.arc(0,0,H,0,Ze)}};function ve(y,F){let H=null;y=typeof y=="function"?y:q(y||Et),F=typeof F=="function"?F:q(F===void 0?64:+F);function Y(){let Me;if(H||(H=Me=L()),y.apply(this,arguments).draw(H,+F.apply(this,arguments)),Me)return H=null,Me+""||null}return Y.type=function(Me){return arguments.length?(y=typeof Me=="function"?Me:q(Me),Y):y},Y.size=function(Me){return arguments.length?(F=typeof Me=="function"?Me:q(+Me),Y):F},Y.context=function(Me){return arguments.length?(H=Me??null,Y):H},Y}function Le(){}function _e(y,F,H){y._context.bezierCurveTo((2*y._x0+y._x1)/3,(2*y._y0+y._y1)/3,(y._x0+2*y._x1)/3,(y._y0+2*y._y1)/3,(y._x0+4*y._x1+F)/6,(y._y0+4*y._y1+H)/6)}function ce(y){this._context=y}ce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_e(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_e(this,y,F);break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=F}};function tt(y){return new ce(y)}function Ke(y){this._context=y}Ke.prototype={areaStart:Le,areaEnd:Le,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._x2=y,this._y2=F;break;case 1:this._point=2,this._x3=y,this._y3=F;break;case 2:this._point=3,this._x4=y,this._y4=F,this._context.moveTo((this._x0+4*this._x1+y)/6,(this._y0+4*this._y1+F)/6);break;default:_e(this,y,F);break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=F}};function re(y){return new Ke(y)}function Re(y){this._context=y}Re.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var H=(this._x0+4*this._x1+y)/6,Y=(this._y0+4*this._y1+F)/6;this._line?this._context.lineTo(H,Y):this._context.moveTo(H,Y);break;case 3:this._point=4;default:_e(this,y,F);break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=F}};function nt(y){return new Re(y)}function ft(y,F){this._basis=new ce(y),this._beta=F}ft.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var y=this._x,F=this._y,H=y.length-1;if(H>0)for(var Y=y[0],Me=F[0],_t=y[H]-Y,x=F[H]-Me,T=-1,z;++T<=H;)z=T/H,this._basis.point(this._beta*y[T]+(1-this._beta)*(Y+z*_t),this._beta*F[T]+(1-this._beta)*(Me+z*x));this._x=this._y=null,this._basis.lineEnd()},point:function(y,F){this._x.push(+y),this._y.push(+F)}};var Rt=function y(F){function H(Y){return F===1?new ce(Y):new ft(Y,F)}return H.beta=function(Y){return y(+Y)},H}(.85);function Yt(y,F,H){y._context.bezierCurveTo(y._x1+y._k*(y._x2-y._x0),y._y1+y._k*(y._y2-y._y0),y._x2+y._k*(y._x1-F),y._y2+y._k*(y._y1-H),y._x2,y._y2)}function Gt(y,F){this._context=y,this._k=(1-F)/6}Gt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Yt(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2,this._x1=y,this._y1=F;break;case 2:this._point=3;default:Yt(this,y,F);break}this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var fn=function y(F){function H(Y){return new Gt(Y,F)}return H.tension=function(Y){return y(+Y)},H}(0);function gn(y,F){this._context=y,this._k=(1-F)/6}gn.prototype={areaStart:Le,areaEnd:Le,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._x3=y,this._y3=F;break;case 1:this._point=2,this._context.moveTo(this._x4=y,this._y4=F);break;case 2:this._point=3,this._x5=y,this._y5=F;break;default:Yt(this,y,F);break}this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var yn=function y(F){function H(Y){return new gn(Y,F)}return H.tension=function(Y){return y(+Y)},H}(0);function Lt(y,F){this._context=y,this._k=(1-F)/6}Lt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Yt(this,y,F);break}this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var un=function y(F){function H(Y){return new Lt(Y,F)}return H.tension=function(Y){return y(+Y)},H}(0);function Pn(y,F,H){var Y=y._x1,Me=y._y1,_t=y._x2,x=y._y2;if(y._l01_a>He){var T=2*y._l01_2a+3*y._l01_a*y._l12_a+y._l12_2a,z=3*y._l01_a*(y._l01_a+y._l12_a);Y=(Y*T-y._x0*y._l12_2a+y._x2*y._l01_2a)/z,Me=(Me*T-y._y0*y._l12_2a+y._y2*y._l01_2a)/z}if(y._l23_a>He){var X=2*y._l23_2a+3*y._l23_a*y._l12_a+y._l12_2a,ge=3*y._l23_a*(y._l23_a+y._l12_a);_t=(_t*X+y._x1*y._l23_2a-F*y._l12_2a)/ge,x=(x*X+y._y1*y._l23_2a-H*y._l12_2a)/ge}y._context.bezierCurveTo(Y,Me,_t,x,y._x2,y._y2)}function nr(y,F){this._context=y,this._alpha=F}nr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){if(y=+y,F=+F,this._point){var H=this._x2-y,Y=this._y2-F;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(H*H+Y*Y,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;break;case 2:this._point=3;default:Pn(this,y,F);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var On=function y(F){function H(Y){return F?new nr(Y,F):new Gt(Y,0)}return H.alpha=function(Y){return y(+Y)},H}(.5);function Ne(y,F){this._context=y,this._alpha=F}Ne.prototype={areaStart:Le,areaEnd:Le,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(y,F){if(y=+y,F=+F,this._point){var H=this._x2-y,Y=this._y2-F;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(H*H+Y*Y,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=y,this._y3=F;break;case 1:this._point=2,this._context.moveTo(this._x4=y,this._y4=F);break;case 2:this._point=3,this._x5=y,this._y5=F;break;default:Pn(this,y,F);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var ze=function y(F){function H(Y){return F?new Ne(Y,F):new gn(Y,0)}return H.alpha=function(Y){return y(+Y)},H}(.5);function De(y,F){this._context=y,this._alpha=F}De.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){if(y=+y,F=+F,this._point){var H=this._x2-y,Y=this._y2-F;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(H*H+Y*Y,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Pn(this,y,F);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var Pt=function y(F){function H(Y){return F?new De(Y,F):new Lt(Y,0)}return H.alpha=function(Y){return y(+Y)},H}(.5);function mt(y){this._context=y}mt.prototype={areaStart:Le,areaEnd:Le,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(y,F){y=+y,F=+F,this._point?this._context.lineTo(y,F):(this._point=1,this._context.moveTo(y,F))}};function xt(y){return new mt(y)}function rn(y){return y<0?-1:1}function Qt(y,F,H){var Y=y._x1-y._x0,Me=F-y._x1,_t=(y._y1-y._y0)/(Y||Me<0&&-0),x=(H-y._y1)/(Me||Y<0&&-0),T=(_t*Me+x*Y)/(Y+Me);return(rn(_t)+rn(x))*Math.min(Math.abs(_t),Math.abs(x),.5*Math.abs(T))||0}function Fn(y,F){var H=y._x1-y._x0;return H?(3*(y._y1-y._y0)/H-F)/2:F}function Wn(y,F,H){var Y=y._x0,Me=y._y0,_t=y._x1,x=y._y1,T=(_t-Y)/3;y._context.bezierCurveTo(Y+T,Me+T*F,_t-T,x-T*H,_t,x)}function Zn(y){this._context=y}Zn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wn(this,this._t0,Fn(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){var H=NaN;if(y=+y,F=+F,!(y===this._x1&&F===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;break;case 2:this._point=3,Wn(this,Fn(this,H=Qt(this,y,F)),H);break;default:Wn(this,this._t0,H=Qt(this,y,F));break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=F,this._t0=H}}};function Nn(y){this._context=new rr(y)}(Nn.prototype=Object.create(Zn.prototype)).point=function(y,F){Zn.prototype.point.call(this,F,y)};function rr(y){this._context=y}rr.prototype={moveTo:function(y,F){this._context.moveTo(F,y)},closePath:function(){this._context.closePath()},lineTo:function(y,F){this._context.lineTo(F,y)},bezierCurveTo:function(y,F,H,Y,Me,_t){this._context.bezierCurveTo(F,y,Y,H,_t,Me)}};function Ye(y){return new Zn(y)}function vt(y){return new Nn(y)}function ae(y){this._context=y}ae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var y=this._x,F=this._y,H=y.length;if(H)if(this._line?this._context.lineTo(y[0],F[0]):this._context.moveTo(y[0],F[0]),H===2)this._context.lineTo(y[1],F[1]);else for(var Y=Be(y),Me=Be(F),_t=0,x=1;x<H;++_t,++x)this._context.bezierCurveTo(Y[0][_t],Me[0][_t],Y[1][_t],Me[1][_t],y[x],F[x]);(this._line||this._line!==0&&H===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(y,F){this._x.push(+y),this._y.push(+F)}};function Be(y){var F,H=y.length-1,Y,Me=new Array(H),_t=new Array(H),x=new Array(H);for(Me[0]=0,_t[0]=2,x[0]=y[0]+2*y[1],F=1;F<H-1;++F)Me[F]=1,_t[F]=4,x[F]=4*y[F]+2*y[F+1];for(Me[H-1]=2,_t[H-1]=7,x[H-1]=8*y[H-1]+y[H],F=1;F<H;++F)Y=Me[F]/_t[F-1],_t[F]-=Y,x[F]-=Y*x[F-1];for(Me[H-1]=x[H-1]/_t[H-1],F=H-2;F>=0;--F)Me[F]=(x[F]-Me[F+1])/_t[F];for(_t[H-1]=(y[H]+Me[H-1])/2,F=0;F<H-1;++F)_t[F]=2*y[F+1]-Me[F+1];return[Me,_t]}function rt(y){return new ae(y)}function Dt(y,F){this._context=y,this._t=F}Dt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,F),this._context.lineTo(y,F);else{var H=this._x*(1-this._t)+y*this._t;this._context.lineTo(H,this._y),this._context.lineTo(H,F)}break}}this._x=y,this._y=F}};function hn(y){return new Dt(y,.5)}function an(y){return new Dt(y,0)}function dt(y){return new Dt(y,1)}let ie={basis:{curve:tt},"basis-closed":{curve:re},"basis-open":{curve:nt},bundle:{curve:Rt,tension:"beta",value:.85},cardinal:{curve:fn,tension:"tension",value:0},"cardinal-open":{curve:un,tension:"tension",value:0},"cardinal-closed":{curve:yn,tension:"tension",value:0},"catmull-rom":{curve:On,tension:"alpha",value:.5},"catmull-rom-closed":{curve:ze,tension:"alpha",value:.5},"catmull-rom-open":{curve:Pt,tension:"alpha",value:.5},linear:{curve:wt},"linear-closed":{curve:xt},monotone:{horizontal:vt,vertical:Ye},natural:{curve:rt},step:{curve:hn},"step-after":{curve:dt},"step-before":{curve:an}};function Te(y,F,H){var Y=e.hasOwnProperty(ie,y)&&ie[y],Me=null;return Y&&(Me=Y.curve||Y[F||"vertical"],Y.tension&&H!=null&&(Me=Me[Y.tension](H))),Me}let Ue={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},gt=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,St=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,Ot=/^((\s+,?\s*)|(,\s*))/,ne=/^[01]/;function we(y){let F=[];return(y.match(gt)||[]).forEach(Y=>{let Me=Y[0],_t=Me.toLowerCase(),x=Ue[_t],T=We(_t,x,Y.slice(1).trim()),z=T.length;if(z<x||z&&z%x!==0)throw Error("Invalid SVG path, incorrect parameter count");if(F.push([Me,...T.slice(0,x)]),z!==x){_t==="m"&&(Me=Me==="M"?"L":"l");for(let X=x;X<z;X+=x)F.push([Me,...T.slice(X,X+x)])}}),F}function We(y,F,H){let Y=[];for(let Me=0;F&&Me<H.length;)for(let _t=0;_t<F;++_t){let x=y==="a"&&(_t===3||_t===4)?ne:St,T=H.slice(Me).match(x);if(T===null)throw Error("Invalid SVG path, incorrect parameter type");Me+=T[0].length,Y.push(+T[0]);let z=H.slice(Me).match(Ot);z!==null&&(Me+=z[0].length)}return Y}let st=Math.PI/180,Ut=1e-14,sn=Math.PI/2,wn=Math.PI*2,bn=Math.sqrt(3)/2;var vn={},zn={},Oe=[].join;function $e(y,F,H,Y,Me,_t,x,T,z){let X=Oe.call(arguments);if(vn[X])return vn[X];let ge=x*st,Fe=Math.sin(ge),ot=Math.cos(ge);H=Math.abs(H),Y=Math.abs(Y);let zt=ot*(T-y)*.5+Fe*(z-F)*.5,Cn=ot*(z-F)*.5-Fe*(T-y)*.5,Sn=zt*zt/(H*H)+Cn*Cn/(Y*Y);Sn>1&&(Sn=Math.sqrt(Sn),H*=Sn,Y*=Sn);let Bn=ot/H,Hn=Fe/H,or=-Fe/Y,Rr=ot/Y,Kr=Bn*T+Hn*z,Lr=or*T+Rr*z,Ei=Bn*y+Hn*F,ki=or*y+Rr*F,Rs=(Ei-Kr)*(Ei-Kr)+(ki-Lr)*(ki-Lr),ds=1/Rs-.25;ds<0&&(ds=0);let Zs=Math.sqrt(ds);_t==Me&&(Zs=-Zs);let gs=.5*(Kr+Ei)-Zs*(ki-Lr),Gr=.5*(Lr+ki)+Zs*(Ei-Kr),Ki=Math.atan2(Lr-Gr,Kr-gs),tu=Math.atan2(ki-Gr,Ei-gs)-Ki;tu<0&&_t===1?tu+=wn:tu>0&&_t===0&&(tu-=wn);let Iu=Math.ceil(Math.abs(tu/(sn+.001))),Es=[];for(let Ta=0;Ta<Iu;++Ta){let Va=Ki+Ta*tu/Iu,Dl=Ki+(Ta+1)*tu/Iu;Es[Ta]=[gs,Gr,Va,Dl,H,Y,Fe,ot]}return vn[X]=Es}function Ft(y){let F=Oe.call(y);if(zn[F])return zn[F];var H=y[0],Y=y[1],Me=y[2],_t=y[3],x=y[4],T=y[5],z=y[6],X=y[7];let ge=X*x,Fe=-z*T,ot=z*x,zt=X*T,Cn=Math.cos(Me),Sn=Math.sin(Me),Bn=Math.cos(_t),Hn=Math.sin(_t),or=.5*(_t-Me),Rr=Math.sin(or*.5),Kr=8/3*Rr*Rr/Math.sin(or),Lr=H+Cn-Kr*Sn,Ei=Y+Sn+Kr*Cn,ki=H+Bn,Rs=Y+Hn,ds=ki+Kr*Hn,Zs=Rs-Kr*Bn;return zn[F]=[ge*Lr+Fe*Ei,ot*Lr+zt*Ei,ge*ds+Fe*Zs,ot*ds+zt*Zs,ge*ki+Fe*Rs,ot*ki+zt*Rs]}let N=["l",0,0,0,0,0,0,0];function V(y,F,H){let Y=N[0]=y[0];if(Y==="a"||Y==="A")N[1]=F*y[1],N[2]=H*y[2],N[3]=y[3],N[4]=y[4],N[5]=y[5],N[6]=F*y[6],N[7]=H*y[7];else if(Y==="h"||Y==="H")N[1]=F*y[1];else if(Y==="v"||Y==="V")N[1]=H*y[1];else for(var Me=1,_t=y.length;Me<_t;++Me)N[Me]=(Me%2==1?F:H)*y[Me];return N}function be(y,F,H,Y,Me,_t){var x,T=null,z=0,X=0,ge=0,Fe=0,ot,zt,Cn,Sn,Bn=0,Hn=0;H==null&&(H=0),Y==null&&(Y=0),Me==null&&(Me=1),_t==null&&(_t=Me),y.beginPath&&y.beginPath();for(var or=0,Rr=F.length;or<Rr;++or){switch(x=F[or],(Me!==1||_t!==1)&&(x=V(x,Me,_t)),x[0]){case"l":z+=x[1],X+=x[2],y.lineTo(z+H,X+Y);break;case"L":z=x[1],X=x[2],y.lineTo(z+H,X+Y);break;case"h":z+=x[1],y.lineTo(z+H,X+Y);break;case"H":z=x[1],y.lineTo(z+H,X+Y);break;case"v":X+=x[1],y.lineTo(z+H,X+Y);break;case"V":X=x[1],y.lineTo(z+H,X+Y);break;case"m":z+=x[1],X+=x[2],Bn=z,Hn=X,y.moveTo(z+H,X+Y);break;case"M":z=x[1],X=x[2],Bn=z,Hn=X,y.moveTo(z+H,X+Y);break;case"c":ot=z+x[5],zt=X+x[6],ge=z+x[3],Fe=X+x[4],y.bezierCurveTo(z+x[1]+H,X+x[2]+Y,ge+H,Fe+Y,ot+H,zt+Y),z=ot,X=zt;break;case"C":z=x[5],X=x[6],ge=x[3],Fe=x[4],y.bezierCurveTo(x[1]+H,x[2]+Y,ge+H,Fe+Y,z+H,X+Y);break;case"s":ot=z+x[3],zt=X+x[4],ge=2*z-ge,Fe=2*X-Fe,y.bezierCurveTo(ge+H,Fe+Y,z+x[1]+H,X+x[2]+Y,ot+H,zt+Y),ge=z+x[1],Fe=X+x[2],z=ot,X=zt;break;case"S":ot=x[3],zt=x[4],ge=2*z-ge,Fe=2*X-Fe,y.bezierCurveTo(ge+H,Fe+Y,x[1]+H,x[2]+Y,ot+H,zt+Y),z=ot,X=zt,ge=x[1],Fe=x[2];break;case"q":ot=z+x[3],zt=X+x[4],ge=z+x[1],Fe=X+x[2],y.quadraticCurveTo(ge+H,Fe+Y,ot+H,zt+Y),z=ot,X=zt;break;case"Q":ot=x[3],zt=x[4],y.quadraticCurveTo(x[1]+H,x[2]+Y,ot+H,zt+Y),z=ot,X=zt,ge=x[1],Fe=x[2];break;case"t":ot=z+x[1],zt=X+x[2],T[0].match(/[QqTt]/)===null?(ge=z,Fe=X):T[0]==="t"?(ge=2*z-Cn,Fe=2*X-Sn):T[0]==="q"&&(ge=2*z-ge,Fe=2*X-Fe),Cn=ge,Sn=Fe,y.quadraticCurveTo(ge+H,Fe+Y,ot+H,zt+Y),z=ot,X=zt,ge=z+x[1],Fe=X+x[2];break;case"T":ot=x[1],zt=x[2],ge=2*z-ge,Fe=2*X-Fe,y.quadraticCurveTo(ge+H,Fe+Y,ot+H,zt+Y),z=ot,X=zt;break;case"a":xe(y,z+H,X+Y,[x[1],x[2],x[3],x[4],x[5],x[6]+z+H,x[7]+X+Y]),z+=x[6],X+=x[7];break;case"A":xe(y,z+H,X+Y,[x[1],x[2],x[3],x[4],x[5],x[6]+H,x[7]+Y]),z=x[6],X=x[7];break;case"z":case"Z":z=Bn,X=Hn,y.closePath();break}T=x}}function xe(y,F,H,Y){let Me=$e(Y[5],Y[6],Y[0],Y[1],Y[3],Y[4],Y[2],F,H);for(let _t=0;_t<Me.length;++_t){let x=Ft(Me[_t]);y.bezierCurveTo(x[0],x[1],x[2],x[3],x[4],x[5])}}let K=.5773502691896257,ue={circle:{draw:function(y,F){let H=Math.sqrt(F)/2;y.moveTo(H,0),y.arc(0,0,H,0,wn)}},cross:{draw:function(y,F){var H=Math.sqrt(F)/2,Y=H/2.5;y.moveTo(-H,-Y),y.lineTo(-H,Y),y.lineTo(-Y,Y),y.lineTo(-Y,H),y.lineTo(Y,H),y.lineTo(Y,Y),y.lineTo(H,Y),y.lineTo(H,-Y),y.lineTo(Y,-Y),y.lineTo(Y,-H),y.lineTo(-Y,-H),y.lineTo(-Y,-Y),y.closePath()}},diamond:{draw:function(y,F){let H=Math.sqrt(F)/2;y.moveTo(-H,0),y.lineTo(0,-H),y.lineTo(H,0),y.lineTo(0,H),y.closePath()}},square:{draw:function(y,F){var H=Math.sqrt(F),Y=-H/2;y.rect(Y,Y,H,H)}},arrow:{draw:function(y,F){var H=Math.sqrt(F)/2,Y=H/7,Me=H/2.5,_t=H/8;y.moveTo(-Y,H),y.lineTo(Y,H),y.lineTo(Y,-_t),y.lineTo(Me,-_t),y.lineTo(0,-H),y.lineTo(-Me,-_t),y.lineTo(-Y,-_t),y.closePath()}},wedge:{draw:function(y,F){var H=Math.sqrt(F)/2,Y=bn*H,Me=Y-H*K,_t=H/4;y.moveTo(0,-Y-Me),y.lineTo(-_t,Y-Me),y.lineTo(_t,Y-Me),y.closePath()}},triangle:{draw:function(y,F){var H=Math.sqrt(F)/2,Y=bn*H,Me=Y-H*K;y.moveTo(0,-Y-Me),y.lineTo(-H,Y-Me),y.lineTo(H,Y-Me),y.closePath()}},"triangle-up":{draw:function(y,F){var H=Math.sqrt(F)/2,Y=bn*H;y.moveTo(0,-Y),y.lineTo(-H,Y),y.lineTo(H,Y),y.closePath()}},"triangle-down":{draw:function(y,F){var H=Math.sqrt(F)/2,Y=bn*H;y.moveTo(0,Y),y.lineTo(-H,-Y),y.lineTo(H,-Y),y.closePath()}},"triangle-right":{draw:function(y,F){var H=Math.sqrt(F)/2,Y=bn*H;y.moveTo(Y,0),y.lineTo(-Y,-H),y.lineTo(-Y,H),y.closePath()}},"triangle-left":{draw:function(y,F){var H=Math.sqrt(F)/2,Y=bn*H;y.moveTo(-Y,0),y.lineTo(Y,-H),y.lineTo(Y,H),y.closePath()}},stroke:{draw:function(y,F){let H=Math.sqrt(F)/2;y.moveTo(-H,0),y.lineTo(H,0)}}};function fe(y){return e.hasOwnProperty(ue,y)?ue[y]:It(y)}var Qe={};function It(y){if(!e.hasOwnProperty(Qe,y)){let F=we(y);Qe[y]={draw:function(H,Y){be(H,F,0,0,Math.sqrt(Y)/2)}}}return Qe[y]}let At=.448084975506;function dn(y){return y.x}function C(y){return y.y}function B(y){return y.width}function ee(y){return y.height}function Se(y){return typeof y=="function"?y:()=>+y}function ht(y,F,H){return Math.max(F,Math.min(y,H))}function Tt(){var y=dn,F=C,H=B,Y=ee,Me=Se(0),_t=Me,x=Me,T=Me,z=null;function X(ge,Fe,ot){var zt,Cn=Fe??+y.call(this,ge),Sn=ot??+F.call(this,ge),Bn=+H.call(this,ge),Hn=+Y.call(this,ge),or=Math.min(Bn,Hn)/2,Rr=ht(+Me.call(this,ge),0,or),Kr=ht(+_t.call(this,ge),0,or),Lr=ht(+x.call(this,ge),0,or),Ei=ht(+T.call(this,ge),0,or);if(z||(z=zt=L()),Rr<=0&&Kr<=0&&Lr<=0&&Ei<=0)z.rect(Cn,Sn,Bn,Hn);else{var ki=Cn+Bn,Rs=Sn+Hn;z.moveTo(Cn+Rr,Sn),z.lineTo(ki-Kr,Sn),z.bezierCurveTo(ki-At*Kr,Sn,ki,Sn+At*Kr,ki,Sn+Kr),z.lineTo(ki,Rs-Ei),z.bezierCurveTo(ki,Rs-At*Ei,ki-At*Ei,Rs,ki-Ei,Rs),z.lineTo(Cn+Lr,Rs),z.bezierCurveTo(Cn+At*Lr,Rs,Cn,Rs-At*Lr,Cn,Rs-Lr),z.lineTo(Cn,Sn+Rr),z.bezierCurveTo(Cn,Sn+At*Rr,Cn+At*Rr,Sn,Cn+Rr,Sn),z.closePath()}if(zt)return z=null,zt+""||null}return X.x=function(ge){return arguments.length?(y=Se(ge),X):y},X.y=function(ge){return arguments.length?(F=Se(ge),X):F},X.width=function(ge){return arguments.length?(H=Se(ge),X):H},X.height=function(ge){return arguments.length?(Y=Se(ge),X):Y},X.cornerRadius=function(ge,Fe,ot,zt){return arguments.length?(Me=Se(ge),_t=Fe!=null?Se(Fe):Me,T=ot!=null?Se(ot):Me,x=zt!=null?Se(zt):_t,X):Me},X.context=function(ge){return arguments.length?(z=ge??null,X):z},X}function Zt(){var y,F,H,Y,Me=null,_t,x,T,z;function X(Fe,ot,zt){let Cn=zt/2;if(_t){var Sn=T-ot,Bn=Fe-x;if(Sn||Bn){var Hn=Math.sqrt(Sn*Sn+Bn*Bn),or=(Sn/=Hn)*z,Rr=(Bn/=Hn)*z,Kr=Math.atan2(Bn,Sn);Me.moveTo(x-or,T-Rr),Me.lineTo(Fe-Sn*Cn,ot-Bn*Cn),Me.arc(Fe,ot,Cn,Kr-Math.PI,Kr),Me.lineTo(x+or,T+Rr),Me.arc(x,T,z,Kr,Kr+Math.PI)}else Me.arc(Fe,ot,Cn,0,wn);Me.closePath()}else _t=1;x=Fe,T=ot,z=Cn}function ge(Fe){var ot,zt=Fe.length,Cn,Sn=!1,Bn;for(Me==null&&(Me=Bn=L()),ot=0;ot<=zt;++ot)!(ot<zt&&Y(Cn=Fe[ot],ot,Fe))===Sn&&(Sn=!Sn)&&(_t=0),Sn&&X(+y(Cn,ot,Fe),+F(Cn,ot,Fe),+H(Cn,ot,Fe));if(Bn)return Me=null,Bn+""||null}return ge.x=function(Fe){return arguments.length?(y=Fe,ge):y},ge.y=function(Fe){return arguments.length?(F=Fe,ge):F},ge.size=function(Fe){return arguments.length?(H=Fe,ge):H},ge.defined=function(Fe){return arguments.length?(Y=Fe,ge):Y},ge.context=function(Fe){return arguments.length?(Fe==null?Me=null:Me=Fe,ge):Me},ge}function Xt(y,F){return y??F}let xn=y=>y.x||0,qn=y=>y.y||0,Un=y=>y.width||0,Vn=y=>y.height||0,Jr=y=>(y.x||0)+(y.width||0),Wr=y=>(y.y||0)+(y.height||0),yr=y=>y.startAngle||0,Mr=y=>y.endAngle||0,xi=y=>y.padAngle||0,ai=y=>y.innerRadius||0,Xi=y=>y.outerRadius||0,Cs=y=>y.cornerRadius||0,ts=y=>Xt(y.cornerRadiusTopLeft,y.cornerRadius)||0,Aa=y=>Xt(y.cornerRadiusTopRight,y.cornerRadius)||0,xa=y=>Xt(y.cornerRadiusBottomRight,y.cornerRadius)||0,yl=y=>Xt(y.cornerRadiusBottomLeft,y.cornerRadius)||0,Lc=y=>Xt(y.size,64),fu=y=>y.size||1,du=y=>y.defined!==!1,Xu=y=>fe(y.shape||"circle"),Du=Je().startAngle(yr).endAngle(Mr).padAngle(xi).innerRadius(ai).outerRadius(Xi).cornerRadius(Cs),kc=tn().x(xn).y1(qn).y0(Wr).defined(du),na=tn().y(qn).x1(xn).x0(Jr).defined(du),Zu=Bt().x(xn).y(qn).defined(du),rf=Tt().x(xn).y(qn).width(Un).height(Vn).cornerRadius(ts,Aa,xa,yl),Ge=ve().type(Xu).size(Lc),Kt=Zt().x(xn).y(qn).defined(du).size(fu);function jn(y){return y.cornerRadius||y.cornerRadiusTopLeft||y.cornerRadiusTopRight||y.cornerRadiusBottomRight||y.cornerRadiusBottomLeft}function Yn(y,F){return Du.context(y)(F)}function ri(y,F){let H=F[0],Y=H.interpolate||"linear";return(H.orient==="horizontal"?na:kc).curve(Te(Y,H.orient,H.tension)).context(y)(F)}function Br(y,F){let H=F[0],Y=H.interpolate||"linear";return Zu.curve(Te(Y,H.orient,H.tension)).context(y)(F)}function Xr(y,F,H,Y){return rf.context(y)(F,H,Y)}function As(y,F){return(F.mark.shape||F.shape).context(y)(F)}function fo(y,F){return Ge.context(y)(F)}function io(y,F){return Kt.context(y)(F)}var us=1;function so(){us=1}function ho(y,F,H){var Y=F.clip,Me=y._defs,_t=F.clip_id||(F.clip_id="clip"+us++),x=Me.clipping[_t]||(Me.clipping[_t]={id:_t});return e.isFunction(Y)?x.path=Y(null):jn(H)?x.path=Xr(null,H,0,0):(x.width=H.width||0,x.height=H.height||0),"url(#"+_t+")"}function hi(y){this.clear(),y&&this.union(y)}hi.prototype={clone(){return new hi(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(y){return this.x1===y.x1&&this.y1===y.y1&&this.x2===y.x2&&this.y2===y.y2},set(y,F,H,Y){return H<y?(this.x2=y,this.x1=H):(this.x1=y,this.x2=H),Y<F?(this.y2=F,this.y1=Y):(this.y1=F,this.y2=Y),this},add(y,F){return y<this.x1&&(this.x1=y),F<this.y1&&(this.y1=F),y>this.x2&&(this.x2=y),F>this.y2&&(this.y2=F),this},expand(y){return this.x1-=y,this.y1-=y,this.x2+=y,this.y2+=y,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(y){return this.x1*=y,this.y1*=y,this.x2*=y,this.y2*=y,this},translate(y,F){return this.x1+=y,this.x2+=y,this.y1+=F,this.y2+=F,this},rotate(y,F,H){let Y=this.rotatedPoints(y,F,H);return this.clear().add(Y[0],Y[1]).add(Y[2],Y[3]).add(Y[4],Y[5]).add(Y[6],Y[7])},rotatedPoints(y,F,H){var{x1:Y,y1:Me,x2:_t,y2:x}=this,T=Math.cos(y),z=Math.sin(y),X=F-F*T+H*z,ge=H-F*z-H*T;return[T*Y-z*Me+X,z*Y+T*Me+ge,T*Y-z*x+X,z*Y+T*x+ge,T*_t-z*Me+X,z*_t+T*Me+ge,T*_t-z*x+X,z*_t+T*x+ge]},union(y){return y.x1<this.x1&&(this.x1=y.x1),y.y1<this.y1&&(this.y1=y.y1),y.x2>this.x2&&(this.x2=y.x2),y.y2>this.y2&&(this.y2=y.y2),this},intersect(y){return y.x1>this.x1&&(this.x1=y.x1),y.y1>this.y1&&(this.y1=y.y1),y.x2<this.x2&&(this.x2=y.x2),y.y2<this.y2&&(this.y2=y.y2),this},encloses(y){return y&&this.x1<=y.x1&&this.x2>=y.x2&&this.y1<=y.y1&&this.y2>=y.y2},alignsWith(y){return y&&(this.x1==y.x1||this.x2==y.x2||this.y1==y.y1||this.y2==y.y2)},intersects(y){return y&&!(this.x2<y.x1||this.x1>y.x2||this.y2<y.y1||this.y1>y.y2)},contains(y,F){return!(y<this.x1||y>this.x2||F<this.y1||F>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function bi(y){this.mark=y,this.bounds=this.bounds||new hi}function Wi(y){bi.call(this,y),this.items=this.items||[]}e.inherits(Wi,bi);function Xo(y){this._pending=0,this._loader=y||r.loader()}function da(y){y._pending+=1}function ha(y){y._pending-=1}Xo.prototype={pending(){return this._pending},sanitizeURL(y){let F=this;return da(F),F._loader.sanitize(y,{context:"href"}).then(H=>(ha(F),H)).catch(()=>(ha(F),null))},loadImage(y){let F=this,H=t.image();return da(F),F._loader.sanitize(y,{context:"image"}).then(Y=>{let Me=Y.href;if(!Me||!H)throw{url:Me};let _t=new H,x=e.hasOwnProperty(Y,"crossOrigin")?Y.crossOrigin:"anonymous";return x!=null&&(_t.crossOrigin=x),_t.onload=()=>ha(F),_t.onerror=()=>ha(F),_t.src=Me,_t}).catch(Y=>(ha(F),{complete:!1,width:0,height:0,src:Y&&Y.url||""}))},ready(){let y=this;return new Promise(F=>{function H(Y){y.pending()?setTimeout(()=>{H(!0)},10):F(Y)}H(!1)})}};function po(y,F,H){if(F.stroke&&F.opacity!==0&&F.strokeOpacity!==0){let Y=F.strokeWidth!=null?+F.strokeWidth:1;y.expand(Y+(H?ls(F,Y):0))}return y}function ls(y,F){return y.strokeJoin&&y.strokeJoin!=="miter"?0:F}let ps=wn-1e-8,Zi,hu,Ps,ga,ua,Oi,Wo,vs,Ii=(y,F)=>Zi.add(y,F),Ro=(y,F)=>Ii(hu=y,Ps=F),ka=y=>Ii(y,Zi.y1),Xa=y=>Ii(Zi.x1,y),Oo=(y,F)=>ua*y+Wo*F,To=(y,F)=>Oi*y+vs*F,$a=(y,F)=>Ii(Oo(y,F),To(y,F)),pu=(y,F)=>Ro(Oo(y,F),To(y,F));function za(y,F){return Zi=y,F?(ga=F*st,ua=vs=Math.cos(ga),Oi=Math.sin(ga),Wo=-Oi):(ua=vs=1,ga=Oi=Wo=0),la}let la={beginPath(){},closePath(){},moveTo:pu,lineTo:pu,rect(y,F,H,Y){ga?($a(y+H,F),$a(y+H,F+Y),$a(y,F+Y),pu(y,F)):(Ii(y+H,F+Y),Ro(y,F))},quadraticCurveTo(y,F,H,Y){let Me=Oo(y,F),_t=To(y,F),x=Oo(H,Y),T=To(H,Y);ca(hu,Me,x,ka),ca(Ps,_t,T,Xa),Ro(x,T)},bezierCurveTo(y,F,H,Y,Me,_t){let x=Oo(y,F),T=To(y,F),z=Oo(H,Y),X=To(H,Y),ge=Oo(Me,_t),Fe=To(Me,_t);vl(hu,x,z,ge,ka),vl(Ps,T,X,Fe,Xa),Ro(ge,Fe)},arc(y,F,H,Y,Me,_t){if(Y+=ga,Me+=ga,hu=H*Math.cos(Me)+y,Ps=H*Math.sin(Me)+F,Math.abs(Me-Y)>ps)Ii(y-H,F-H),Ii(y+H,F+H);else{let x=X=>Ii(H*Math.cos(X)+y,H*Math.sin(X)+F),T,z;if(x(Y),x(Me),Me!==Y)if(Y=Y%wn,Y<0&&(Y+=wn),Me=Me%wn,Me<0&&(Me+=wn),Me<Y&&(_t=!_t,T=Y,Y=Me,Me=T),_t)for(Me-=wn,T=Y-Y%sn,z=0;z<4&&T>Me;++z,T-=sn)x(T);else for(T=Y-Y%sn+sn,z=0;z<4&&T<Me;++z,T=T+sn)x(T)}}};function ca(y,F,H,Y){let Me=(y-F)/(y+H-2*F);0<Me&&Me<1&&Y(y+(F-y)*Me)}function vl(y,F,H,Y,Me){let _t=Y-y+3*F-3*H,x=y+H-2*F,T=y-F,z=0,X=0,ge;Math.abs(_t)>Ut?(ge=x*x+T*_t,ge>=0&&(ge=Math.sqrt(ge),z=(-x+ge)/_t,X=(-x-ge)/_t)):z=.5*T/x,0<z&&z<1&&Me(Vl(z,y,F,H,Y)),0<X&&X<1&&Me(Vl(X,y,F,H,Y))}function Vl(y,F,H,Y,Me){let _t=1-y,x=_t*_t,T=y*y;return x*_t*F+3*x*y*H+3*_t*T*Y+T*y*Me}var ra=(ra=t.canvas(1,1))?ra.getContext("2d"):null;let el=new hi;function ui(y){return function(F,H){if(!ra)return!0;y(ra,F),el.clear().union(F.bounds).intersect(H).round();let{x1:Y,y1:Me,x2:_t,y2:x}=el;for(let T=Me;T<=x;++T)for(let z=Y;z<=_t;++z)if(ra.isPointInPath(z,T))return!0;return!1}}function rs(y,F){return F.contains(y.x||0,y.y||0)}function cs(y,F){let H=y.x||0,Y=y.y||0,Me=y.width||0,_t=y.height||0;return F.intersects(el.set(H,Y,H+Me,Y+_t))}function xr(y,F){let H=y.x||0,Y=y.y||0,Me=y.x2!=null?y.x2:H,_t=y.y2!=null?y.y2:Y;return is(F,H,Y,Me,_t)}function is(y,F,H,Y,Me){let{x1:_t,y1:x,x2:T,y2:z}=y,X=Y-F,ge=Me-H,Fe=0,ot=1,zt,Cn,Sn,Bn;for(Bn=0;Bn<4;++Bn){if(Bn===0&&(zt=-X,Cn=-(_t-F)),Bn===1&&(zt=X,Cn=T-F),Bn===2&&(zt=-ge,Cn=-(x-H)),Bn===3&&(zt=ge,Cn=z-H),Math.abs(zt)<1e-10&&Cn<0)return!1;if(Sn=Cn/zt,zt<0){if(Sn>ot)return!1;Sn>Fe&&(Fe=Sn)}else if(zt>0){if(Sn<Fe)return!1;Sn<ot&&(ot=Sn)}}return!0}function Ie(y,F){y.globalCompositeOperation=F.blend||"source-over"}function yt(y,F){return y??F}function Jt(y,F){let H=F.length;for(let Y=0;Y<H;++Y)y.addColorStop(F[Y].offset,F[Y].color);return y}function $t(y,F,H){let Y=H.width(),Me=H.height(),_t;if(F.gradient==="radial")_t=y.createRadialGradient(H.x1+yt(F.x1,.5)*Y,H.y1+yt(F.y1,.5)*Me,Math.max(Y,Me)*yt(F.r1,0),H.x1+yt(F.x2,.5)*Y,H.y1+yt(F.y2,.5)*Me,Math.max(Y,Me)*yt(F.r2,.5));else{let x=yt(F.x1,0),T=yt(F.y1,0),z=yt(F.x2,1),X=yt(F.y2,0);if(x===z||T===X||Y===Me)_t=y.createLinearGradient(H.x1+x*Y,H.y1+T*Me,H.x1+z*Y,H.y1+X*Me);else{let ge=t.canvas(Math.ceil(Y),Math.ceil(Me)),Fe=ge.getContext("2d");return Fe.scale(Y,Me),Fe.fillStyle=Jt(Fe.createLinearGradient(x,T,z,X),F.stops),Fe.fillRect(0,0,Y,Me),y.createPattern(ge,"no-repeat")}}return Jt(_t,F.stops)}function pn(y,F,H){return l(H)?$t(y,H,F.bounds):H}function Ln(y,F,H){return H*=F.fillOpacity==null?1:F.fillOpacity,H>0?(y.globalAlpha=H,y.fillStyle=pn(y,F,F.fill),!0):!1}var Kn=[];function $n(y,F,H){var Y=(Y=F.strokeWidth)!=null?Y:1;return Y<=0?!1:(H*=F.strokeOpacity==null?1:F.strokeOpacity,H>0?(y.globalAlpha=H,y.strokeStyle=pn(y,F,F.stroke),y.lineWidth=Y,y.lineCap=F.strokeCap||"butt",y.lineJoin=F.strokeJoin||"miter",y.miterLimit=F.strokeMiterLimit||10,y.setLineDash&&(y.setLineDash(F.strokeDash||Kn),y.lineDashOffset=F.strokeDashOffset||0),!0):!1)}function Er(y,F){return y.zindex-F.zindex||y.index-F.index}function wr(y){if(!y.zdirty)return y.zitems;var F=y.items,H=[],Y,Me,_t;for(Me=0,_t=F.length;Me<_t;++Me)Y=F[Me],Y.index=Me,Y.zindex&&H.push(Y);return y.zdirty=!1,y.zitems=H.sort(Er)}function Gn(y,F){var H=y.items,Y,Me;if(!H||!H.length)return;let _t=wr(y);if(_t&&_t.length){for(Y=0,Me=H.length;Y<Me;++Y)H[Y].zindex||F(H[Y]);H=_t}for(Y=0,Me=H.length;Y<Me;++Y)F(H[Y])}function ar(y,F){var H=y.items,Y,Me;if(!H||!H.length)return null;let _t=wr(y);for(_t&&_t.length&&(H=_t),Me=H.length;--Me>=0;)if(Y=F(H[Me]))return Y;if(H===_t){for(H=y.items,Me=H.length;--Me>=0;)if(!H[Me].zindex&&(Y=F(H[Me])))return Y}return null}function tr(y){return function(F,H,Y){Gn(H,Me=>{(!Y||Y.intersects(Me.bounds))&&Or(y,F,Me,Me)})}}function gr(y){return function(F,H,Y){H.items.length&&(!Y||Y.intersects(H.bounds))&&Or(y,F,H.items[0],H.items)}}function Or(y,F,H,Y){var Me=H.opacity==null?1:H.opacity;Me!==0&&(y(F,Y)||(Ie(F,H),H.fill&&Ln(F,H,Me)&&F.fill(),H.stroke&&$n(F,H,Me)&&F.stroke()))}function di(y){return y=y||e.truthy,function(F,H,Y,Me,_t,x){return Y*=F.pixelRatio,Me*=F.pixelRatio,ar(H,T=>{let z=T.bounds;if(!(z&&!z.contains(_t,x)||!z)&&y(F,T,Y,Me,_t,x))return T})}}function ni(y,F){return function(H,Y,Me,_t){var x=Array.isArray(Y)?Y[0]:Y,T=F??x.fill,z=x.stroke&&H.isPointInStroke,X,ge;return z&&(X=x.strokeWidth,ge=x.strokeCap,H.lineWidth=X??1,H.lineCap=ge??"butt"),y(H,Y)?!1:T&&H.isPointInPath(Me,_t)||z&&H.isPointInStroke(Me,_t)}}function pi(y){return di(ni(y))}function ii(y,F){return"translate("+y+","+F+")"}function qr(y){return"rotate("+y+")"}function Ir(y,F){return"scale("+y+","+F+")"}function yi(y){return ii(y.x||0,y.y||0)}function gi(y){return ii(y.x||0,y.y||0)+(y.angle?" "+qr(y.angle):"")}function os(y){return ii(y.x||0,y.y||0)+(y.angle?" "+qr(y.angle):"")+(y.scaleX||y.scaleY?" "+Ir(y.scaleX||1,y.scaleY||1):"")}function xs(y,F,H){function Y(x,T){x("transform",gi(T)),x("d",F(null,T))}function Me(x,T){return F(za(x,T.angle),T),po(x,T).translate(T.x||0,T.y||0)}function _t(x,T){var z=T.x||0,X=T.y||0,ge=T.angle||0;x.translate(z,X),ge&&x.rotate(ge*=st),x.beginPath(),F(x,T),ge&&x.rotate(-ge),x.translate(-z,-X)}return{type:y,tag:"path",nested:!1,attr:Y,bound:Me,draw:tr(_t),pick:pi(_t),isect:H||ui(_t)}}var vi=xs("arc",Yn);function Bs(y,F){for(var H=y[0].orient==="horizontal"?F[1]:F[0],Y=y[0].orient==="horizontal"?"y":"x",Me=y.length,_t=1/0,x,T;--Me>=0;)y[Me].defined!==!1&&(T=Math.abs(y[Me][Y]-H),T<_t&&(_t=T,x=y[Me]));return x}function ss(y,F){for(var H=Math.pow(y[0].strokeWidth||1,2),Y=y.length,Me,_t,x;--Y>=0;)if(y[Y].defined!==!1&&(Me=y[Y].x-F[0],_t=y[Y].y-F[1],x=Me*Me+_t*_t,x<H))return y[Y];return null}function ya(y,F){for(var H=y.length,Y,Me,_t;--H>=0;)if(y[H].defined!==!1&&(Y=y[H].x-F[0],Me=y[H].y-F[1],_t=Y*Y+Me*Me,Y=y[H].size||1,_t<Y*Y))return y[H];return null}function No(y,F,H){function Y(z,X){var ge=X.mark.items;ge.length&&z("d",F(null,ge))}function Me(z,X){var ge=X.items;return ge.length===0?z:(F(za(z),ge),po(z,ge[0]))}function _t(z,X){z.beginPath(),F(z,X)}let x=ni(_t);function T(z,X,ge,Fe,ot,zt){var Cn=X.items,Sn=X.bounds;return!Cn||!Cn.length||Sn&&!Sn.contains(ot,zt)?null:(ge*=z.pixelRatio,Fe*=z.pixelRatio,x(z,Cn,ge,Fe)?Cn[0]:null)}return{type:y,tag:"path",nested:!0,attr:Y,bound:Me,draw:gr(_t),pick:T,isect:rs,tip:H}}var Ts=No("area",ri,Bs);function nn(y,F){var H=F.clip;y.save(),e.isFunction(H)?(y.beginPath(),H(y),y.clip()):Jn(y,F.group)}function Jn(y,F){y.beginPath(),jn(F)?Xr(y,F,0,0):y.rect(0,0,F.width||0,F.height||0),y.clip()}function En(y){let F=yt(y.strokeWidth,1);return y.strokeOffset!=null?y.strokeOffset:y.stroke&&F>.5&&F<1.5?.5-Math.abs(F-1):0}function Yr(y,F){y("transform",yi(F))}function Ti(y,F){let H=En(F);y("d",Xr(null,F,H,H))}function ns(y,F){y("class","background"),y("aria-hidden",!0),Ti(y,F)}function ms(y,F){y("class","foreground"),y("aria-hidden",!0),F.strokeForeground?Ti(y,F):y("d","")}function Hi(y,F,H){let Y=F.clip?ho(H,F,F):null;y("clip-path",Y)}function fs(y,F){if(!F.clip&&F.items){let H=F.items,Y=H.length;for(let Me=0;Me<Y;++Me)y.union(H[Me].bounds)}return(F.clip||F.width||F.height)&&!F.noBound&&y.add(0,0).add(F.width||0,F.height||0),po(y,F),y.translate(F.x||0,F.y||0)}function mu(y,F,H,Y){let Me=En(F);y.beginPath(),Xr(y,F,(H||0)+Me,(Y||0)+Me)}let le=ni(mu),ut=ni(mu,!1),en=ni(mu,!0);function Dn(y,F,H){Gn(F,Y=>{let Me=Y.x||0,_t=Y.y||0,x=Y.strokeForeground,T=Y.opacity==null?1:Y.opacity;(Y.stroke||Y.fill)&&T&&(mu(y,Y,Me,_t),Ie(y,Y),Y.fill&&Ln(y,Y,T)&&y.fill(),Y.stroke&&!x&&$n(y,Y,T)&&y.stroke()),y.save(),y.translate(Me,_t),Y.clip&&Jn(y,Y),H&&H.translate(-Me,-_t),Gn(Y,z=>{this.draw(y,z,H)}),H&&H.translate(Me,_t),y.restore(),x&&Y.stroke&&T&&(mu(y,Y,Me,_t),Ie(y,Y),$n(y,Y,T)&&y.stroke())})}function ir(y,F,H,Y,Me,_t){if(F.bounds&&!F.bounds.contains(Me,_t)||!F.items)return null;let x=H*y.pixelRatio,T=Y*y.pixelRatio;return ar(F,z=>{let X,ge,Fe,ot=z.bounds;if(ot&&!ot.contains(Me,_t))return;ge=z.x||0,Fe=z.y||0;let zt=ge+(z.width||0),Cn=Fe+(z.height||0),Sn=z.clip;if(Sn&&(Me<ge||Me>zt||_t<Fe||_t>Cn))return;if(y.save(),y.translate(ge,Fe),ge=Me-ge,Fe=_t-Fe,Sn&&jn(z)&&!en(y,z,x,T))return y.restore(),null;let Bn=z.strokeForeground,Hn=F.interactive!==!1;return Hn&&Bn&&z.stroke&&ut(y,z,x,T)?(y.restore(),z):(X=ar(z,or=>vr(or,ge,Fe)?this.pick(or,H,Y,ge,Fe):null),!X&&Hn&&(z.fill||!Bn&&z.stroke)&&le(y,z,x,T)&&(X=z),y.restore(),X||null)})}function vr(y,F,H){return(y.interactive!==!1||y.marktype==="group")&&y.bounds&&y.bounds.contains(F,H)}var dr={type:"group",tag:"g",nested:!1,attr:Yr,bound:fs,draw:Dn,pick:ir,isect:cs,content:Hi,background:ns,foreground:ms},es={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function _s(y,F){var H=y.image;return(!H||y.url&&y.url!==H.url)&&(H={complete:!1,width:0,height:0},F.loadImage(y.url).then(Y=>{y.image=Y,y.image.url=y.url})),H}function Ls(y,F){return y.width!=null?y.width:!F||!F.width?0:y.aspect!==!1&&y.height?y.height*F.width/F.height:F.width}function oo(y,F){return y.height!=null?y.height:!F||!F.height?0:y.aspect!==!1&&y.width?y.width*F.height/F.width:F.height}function Za(y,F){return y==="center"?F/2:y==="right"?F:0}function sc(y,F){return y==="middle"?F/2:y==="bottom"?F:0}function sf(y,F,H){let Y=_s(F,H),Me=Ls(F,Y),_t=oo(F,Y),x=(F.x||0)-Za(F.align,Me),T=(F.y||0)-sc(F.baseline,_t),z=!Y.src&&Y.toDataURL?Y.toDataURL():Y.src||"";y("href",z,es["xmlns:xlink"],"xlink:href"),y("transform",ii(x,T)),y("width",Me),y("height",_t),y("preserveAspectRatio",F.aspect===!1?"none":"xMidYMid")}function Ic(y,F){let H=F.image,Y=Ls(F,H),Me=oo(F,H),_t=(F.x||0)-Za(F.align,Y),x=(F.y||0)-sc(F.baseline,Me);return y.set(_t,x,_t+Y,x+Me)}function l0(y,F,H){Gn(F,Y=>{if(H&&!H.intersects(Y.bounds))return;let Me=_s(Y,this),_t=Ls(Y,Me),x=oo(Y,Me);if(_t===0||x===0)return;let T=(Y.x||0)-Za(Y.align,_t),z=(Y.y||0)-sc(Y.baseline,x),X,ge,Fe,ot;Y.aspect!==!1&&(ge=Me.width/Me.height,Fe=Y.width/Y.height,ge===ge&&Fe===Fe&&ge!==Fe&&(Fe<ge?(ot=_t/ge,z+=(x-ot)/2,x=ot):(ot=x*ge,T+=(_t-ot)/2,_t=ot))),(Me.complete||Me.toDataURL)&&(Ie(y,Y),y.globalAlpha=(X=Y.opacity)!=null?X:1,y.imageSmoothingEnabled=Y.smooth!==!1,y.drawImage(Me,T,z,_t,x))})}var G0={type:"image",tag:"image",nested:!1,attr:sf,bound:Ic,draw:l0,pick:di(),isect:e.truthy,get:_s,xOffset:Za,yOffset:sc},oc=No("line",Br,ss);function of(y,F){var H=F.scaleX||1,Y=F.scaleY||1;(H!==1||Y!==1)&&y("vector-effect","non-scaling-stroke"),y("transform",os(F)),y("d",F.path)}function c0(y,F){var H=F.path;if(H==null)return!0;var Y=F.x||0,Me=F.y||0,_t=F.scaleX||1,x=F.scaleY||1,T=(F.angle||0)*st,z=F.pathCache;(!z||z.path!==H)&&((F.pathCache=z=we(H)).path=H),T&&y.rotate&&y.translate?(y.translate(Y,Me),y.rotate(T),be(y,z,0,0,_t,x),y.rotate(-T),y.translate(-Y,-Me)):be(y,z,Y,Me,_t,x)}function _l(y,F){return c0(za(y,F.angle),F)?y.set(0,0,0,0):po(y,F,!0)}var Mc={type:"path",tag:"path",nested:!1,attr:of,bound:_l,draw:tr(c0),pick:pi(c0),isect:ui(c0)};function f0(y,F){y("d",Xr(null,F))}function ac(y,F){var H,Y;return po(y.set(H=F.x||0,Y=F.y||0,H+F.width||0,Y+F.height||0),F)}function Wl(y,F){y.beginPath(),Xr(y,F)}var Y0={type:"rect",tag:"path",nested:!1,attr:f0,bound:ac,draw:tr(Wl),pick:pi(Wl),isect:cs};function Th(y,F){y("transform",yi(F)),y("x2",F.x2!=null?F.x2-(F.x||0):0),y("y2",F.y2!=null?F.y2-(F.y||0):0)}function K0(y,F){var H,Y;return po(y.set(H=F.x||0,Y=F.y||0,F.x2!=null?F.x2:H,F.y2!=null?F.y2:Y),F)}function J0(y,F,H){var Y,Me,_t,x;return F.stroke&&$n(y,F,H)?(Y=F.x||0,Me=F.y||0,_t=F.x2!=null?F.x2:Y,x=F.y2!=null?F.y2:Me,y.beginPath(),y.moveTo(Y,Me),y.lineTo(_t,x),!0):!1}function af(y,F,H){Gn(F,Y=>{if(!(H&&!H.intersects(Y.bounds))){var Me=Y.opacity==null?1:Y.opacity;Me&&J0(y,Y,Me)&&(Ie(y,Y),y.stroke())}})}function X0(y,F,H,Y){return y.isPointInStroke?J0(y,F,1)&&y.isPointInStroke(H,Y):!1}var Pc={type:"rule",tag:"line",nested:!1,attr:Th,bound:K0,draw:af,pick:di(X0),isect:xr},d0=xs("shape",As),h0=xs("symbol",fo,rs);let p0=e.lruCache();var Uo={height:Ru,measureWidth:uf,estimateWidth:m0,width:m0,canvas:Zo};Zo(!0);function Zo(y){Uo.width=y&&ra?uf:m0}function m0(y,F){return El(Sl(y,F),Ru(y))}function El(y,F){return~~(.8*y.length*F)}function uf(y,F){return Ru(y)<=0||!(F=Sl(y,F))?0:qd(F,Nt(y))}function qd(y,F){let H=`(${F}) ${y}`,Y=p0.get(H);return Y===void 0&&(ra.font=F,Y=ra.measureText(y).width,p0.set(H,Y)),Y}function Ru(y){return y.fontSize!=null?+y.fontSize||0:11}function _o(y){return y.lineHeight!=null?y.lineHeight:Ru(y)+2}function Fh(y){return e.isArray(y)?y.length>1?y:y[0]:y}function bl(y){return Fh(y.lineBreak&&y.text&&!e.isArray(y.text)?y.text.split(y.lineBreak):y.text)}function Is(y){let F=bl(y);return(e.isArray(F)?F.length-1:0)*_o(y)}function Sl(y,F){let H=F==null?"":(F+"").trim();return y.limit>0&&H.length?Z(y,H):H}function k(y){if(Uo.width===uf){let F=Nt(y);return H=>qd(H,F)}else{let F=Ru(y);return H=>El(H,F)}}function Z(y,F){var H=+y.limit,Y=k(y);if(Y(F)<H)return F;var Me=y.ellipsis||"\u2026",_t=y.dir==="rtl",x=0,T=F.length,z;if(H-=Y(Me),_t){for(;x<T;)z=x+T>>>1,Y(F.slice(z))>H?x=z+1:T=z;return Me+F.slice(x)}else{for(;x<T;)z=1+(x+T>>>1),Y(F.slice(0,z))<H?x=z:T=z-1;return F.slice(0,x)+Me}}function je(y,F){var H=y.font;return(F&&H?String(H).replace(/"/g,"'"):H)||"sans-serif"}function Nt(y,F){return(y.fontStyle?y.fontStyle+" ":"")+(y.fontVariant?y.fontVariant+" ":"")+(y.fontWeight?y.fontWeight+" ":"")+Ru(y)+"px "+je(y,F)}function Vt(y){var F=y.baseline,H=Ru(y);return Math.round(F==="top"?.79*H:F==="middle"?.3*H:F==="bottom"?-.21*H:F==="line-top"?.29*H+.5*_o(y):F==="line-bottom"?.29*H-.5*_o(y):0)}let An={left:"start",center:"middle",right:"end"},kn=new hi;function sr(y){var F=y.x||0,H=y.y||0,Y=y.radius||0,Me;return Y&&(Me=(y.theta||0)-sn,F+=Y*Math.cos(Me),H+=Y*Math.sin(Me)),kn.x1=F,kn.y1=H,kn}function hr(y,F){var H=F.dx||0,Y=(F.dy||0)+Vt(F),Me=sr(F),_t=Me.x1,x=Me.y1,T=F.angle||0,z;y("text-anchor",An[F.align]||"start"),T?(z=ii(_t,x)+" "+qr(T),(H||Y)&&(z+=" "+ii(H,Y))):z=ii(_t+H,x+Y),y("transform",z)}function Nr(y,F,H){var Y=Uo.height(F),Me=F.align,_t=sr(F),x=_t.x1,T=_t.y1,z=F.dx||0,X=(F.dy||0)+Vt(F)-Math.round(.8*Y),ge=bl(F),Fe;if(e.isArray(ge)?(Y+=_o(F)*(ge.length-1),Fe=ge.reduce((ot,zt)=>Math.max(ot,Uo.width(F,zt)),0)):Fe=Uo.width(F,ge),Me==="center"?z-=Fe/2:Me==="right"&&(z-=Fe),y.set(z+=x,X+=T,z+Fe,X+Y),F.angle&&!H)y.rotate(F.angle*st,x,T);else if(H===2)return y.rotatedPoints(F.angle*st,x,T);return y}function it(y,F,H){Gn(F,Y=>{var Me=Y.opacity==null?1:Y.opacity,_t,x,T,z,X,ge,Fe;if(!(H&&!H.intersects(Y.bounds)||Me===0||Y.fontSize<=0||Y.text==null||Y.text.length===0)){if(y.font=Nt(Y),y.textAlign=Y.align||"left",_t=sr(Y),x=_t.x1,T=_t.y1,Y.angle&&(y.save(),y.translate(x,T),y.rotate(Y.angle*st),x=T=0),x+=Y.dx||0,T+=(Y.dy||0)+Vt(Y),ge=bl(Y),Ie(y,Y),e.isArray(ge))for(X=_o(Y),z=0;z<ge.length;++z)Fe=Sl(Y,ge[z]),Y.fill&&Ln(y,Y,Me)&&y.fillText(Fe,x,T),Y.stroke&&$n(y,Y,Me)&&y.strokeText(Fe,x,T),T+=X;else Fe=Sl(Y,ge),Y.fill&&Ln(y,Y,Me)&&y.fillText(Fe,x,T),Y.stroke&&$n(y,Y,Me)&&y.strokeText(Fe,x,T);Y.angle&&y.restore()}})}function Fi(y,F,H,Y,Me,_t){if(F.fontSize<=0)return!1;if(!F.angle)return!0;var x=sr(F),T=x.x1,z=x.y1,X=Nr(kn,F,1),ge=-F.angle*st,Fe=Math.cos(ge),ot=Math.sin(ge),zt=Fe*Me-ot*_t+(T-Fe*T+ot*z),Cn=ot*Me+Fe*_t+(z-ot*T-Fe*z);return X.contains(zt,Cn)}function Qi(y,F){let H=Nr(kn,y,2);return is(F,H[0],H[1],H[2],H[3])||is(F,H[0],H[1],H[4],H[5])||is(F,H[4],H[5],H[6],H[7])||is(F,H[2],H[3],H[6],H[7])}var Li={type:"text",tag:"text",nested:!1,attr:hr,bound:Nr,draw:it,pick:di(Fi),isect:Qi},Qr=No("trail",io,ya),Ys={arc:vi,area:Ts,group:dr,image:G0,line:oc,path:Mc,rect:Y0,rule:Pc,shape:d0,symbol:h0,text:Li,trail:Qr};function $o(y,F,H){var Y=Ys[y.mark.marktype],Me=F||Y.bound;return Y.nested&&(y=y.mark),Me(y.bounds||(y.bounds=new hi),y,H)}var va={mark:null};function mo(y,F,H){var Y=Ys[y.marktype],Me=Y.bound,_t=y.items,x=_t&&_t.length,T,z,X,ge;if(Y.nested)return x?X=_t[0]:(va.mark=y,X=va),ge=$o(X,Me,H),F=F&&F.union(ge)||ge,F;if(F=F||y.bounds&&y.bounds.clear()||new hi,x)for(T=0,z=_t.length;T<z;++T)F.union($o(_t[T],Me,H));return y.bounds=F}let Ia=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function uc(y,F){return JSON.stringify(y,Ia,F)}function Ql(y){let F=typeof y=="string"?JSON.parse(y):y;return Ma(F)}function Ma(y){var F=y.marktype,H=y.items,Y,Me,_t;if(H)for(Me=0,_t=H.length;Me<_t;++Me)Y=F?"mark":"group",H[Me][Y]=y,H[Me].zindex&&(H[Me][Y].zdirty=!0),(F||Y)==="group"&&Ma(H[Me]);return F&&mo(y),y}function lc(y){arguments.length?this.root=Ql(y):(this.root=_a({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Wi(this.root)])}lc.prototype={toJSON(y){return uc(this.root,y||0)},mark(y,F,H){F=F||this.root.items[0];let Y=_a(y,F);return F.items[H]=Y,Y.zindex&&(Y.group.zdirty=!0),Y}};function _a(y,F){let H={bounds:new hi,clip:!!y.clip,group:F,interactive:y.interactive!==!1,items:[],marktype:y.marktype,name:y.name||void 0,role:y.role||void 0,zindex:y.zindex||0};return y.aria!=null&&(H.aria=y.aria),y.description&&(H.description=y.description),H}function lf(y,F,H){return!y&&typeof document!="undefined"&&document.createElement&&(y=document),y?H?y.createElementNS(H,F):y.createElement(F):null}function cf(y,F){F=F.toLowerCase();for(var H=y.childNodes,Y=0,Me=H.length;Y<Me;++Y)if(H[Y].tagName.toLowerCase()===F)return H[Y]}function tl(y,F,H,Y){var Me=y.childNodes[F],_t;return(!Me||Me.tagName.toLowerCase()!==H.toLowerCase())&&(_t=Me||null,Me=lf(y.ownerDocument,H,Y),y.insertBefore(Me,_t)),Me}function cc(y,F){for(var H=y.childNodes,Y=H.length;Y>F;)y.removeChild(H[--Y]);return y}function W1(y){return"mark-"+y.marktype+(y.role?" role-"+y.role:"")+(y.name?" "+y.name:"")}function Bc(y,F){let H=F.getBoundingClientRect();return[y.clientX-H.left-(F.clientLeft||0),y.clientY-H.top-(F.clientTop||0)]}function n2(y,F,H,Y){var Me=y&&y.mark,_t,x;if(Me&&(_t=Ys[Me.marktype]).tip){for(x=Bc(F,H),x[0]-=Y[0],x[1]-=Y[1];y=y.mark.group;)x[0]-=y.x||0,x[1]-=y.y||0;y=_t.tip(Me.items,x)}return y}function Gl(y,F){this._active=null,this._handlers={},this._loader=y||r.loader(),this._tooltip=F||Of}function Of(y,F,H,Y){y.element().setAttribute("title",Y||"")}Gl.prototype={initialize(y,F,H){return this._el=y,this._obj=H||null,this.origin(F)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(y){return arguments.length?(this._origin=y||[0,0],this):this._origin.slice()},scene(y){return arguments.length?(this._scene=y,this):this._scene},on(){},off(){},_handlerIndex(y,F,H){for(let Y=y?y.length:0;--Y>=0;)if(y[Y].type===F&&(!H||y[Y].handler===H))return Y;return-1},handlers(y){let F=this._handlers,H=[];if(y)H.push(...F[this.eventName(y)]);else for(let Y in F)H.push(...F[Y]);return H},eventName(y){let F=y.indexOf(".");return F<0?y:y.slice(0,F)},handleHref(y,F,H){this._loader.sanitize(H,{context:"href"}).then(Y=>{let Me=new MouseEvent(y.type,y),_t=lf(null,"a");for(let x in Y)_t.setAttribute(x,Y[x]);_t.dispatchEvent(Me)}).catch(()=>{})},handleTooltip(y,F,H){if(F&&F.tooltip!=null){F=n2(F,y,this.canvas(),this._origin);let Y=H&&F&&F.tooltip||null;this._tooltip.call(this._obj,this,y,F,Y)}},getItemBoundingClientRect(y){let F=this.canvas();if(!F)return;let H=F.getBoundingClientRect(),Y=this._origin,Me=y.bounds,_t=Me.width(),x=Me.height(),T=Me.x1+Y[0]+H.left,z=Me.y1+Y[1]+H.top;for(;y.mark&&(y=y.mark.group);)T+=y.x||0,z+=y.y||0;return{x:T,y:z,width:_t,height:x,left:T,top:z,right:T+_t,bottom:z+x}}};function jc(y){this._el=null,this._bgcolor=null,this._loader=new Xo(y)}jc.prototype={initialize(y,F,H,Y,Me){return this._el=y,this.resize(F,H,Y,Me)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(y){return arguments.length===0?this._bgcolor:(this._bgcolor=y,this)},resize(y,F,H,Y){return this._width=y,this._height=F,this._origin=H||[0,0],this._scale=Y||1,this},dirty(){},render(y){let F=this;return F._call=function(){F._render(y)},F._call(),F._call=null,F},_render(){},renderAsync(y){let F=this.render(y);return this._ready?this._ready.then(()=>F):Promise.resolve(F)},_load(y,F){var H=this,Y=H._loader[y](F);if(!H._ready){let Me=H._call;H._ready=H._loader.ready().then(_t=>{_t&&Me(),H._ready=null})}return Y},sanitizeURL(y){return this._load("sanitizeURL",y)},loadImage(y){return this._load("loadImage",y)}};let jr="keydown",Z0="keypress",ed="keyup",Vr="dragenter",Cl="dragleave",Q1="dragover",mp="mousedown",Eo="mouseup",td="mousemove",Ud="mouseout",nd="mouseover",ff="click",ng="dblclick",rg="wheel",Dh="mousewheel",df="touchstart",nl="touchmove",$d="touchend",xp=[jr,Z0,ed,Vr,Cl,Q1,mp,Eo,td,Ud,nd,ff,ng,rg,Dh,df,nl,$d],G1=td,rl=Ud,rd=ff;function Nf(y,F){Gl.call(this,y,F),this._down=null,this._touch=null,this._first=!0,this._events={}}let wl=y=>y===df||y===nl||y===$d?[df,nl,$d]:[y];function gp(y,F){wl(F).forEach(H=>xu(y,H))}function xu(y,F){let H=y.canvas();H&&!y._events[F]&&(y._events[F]=1,H.addEventListener(F,y[F]?Y=>y[F](Y):Y=>y.fire(F,Y)))}function Y1(y,F,H){return function(Y){let Me=this._active,_t=this.pickEvent(Y);_t===Me?this.fire(y,Y):((!Me||!Me.exit)&&this.fire(H,Y),this._active=_t,this.fire(F,Y),this.fire(y,Y))}}function il(y){return function(F){this.fire(y,F),this._active=null}}e.inherits(Nf,Gl,{initialize(y,F,H){return this._canvas=y&&cf(y,"canvas"),[ff,mp,td,Ud,Cl].forEach(Y=>gp(this,Y)),Gl.prototype.initialize.call(this,y,F,H)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:xp,DOMMouseScroll(y){this.fire(Dh,y)},mousemove:Y1(td,nd,Ud),dragover:Y1(Q1,Vr,Cl),mouseout:il(Ud),dragleave:il(Cl),mousedown(y){this._down=this._active,this.fire(mp,y)},click(y){this._down===this._active&&(this.fire(ff,y),this._down=null)},touchstart(y){this._touch=this.pickEvent(y.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(df,y,!0)},touchmove(y){this.fire(nl,y,!0)},touchend(y){this.fire($d,y,!0),this._touch=null},fire(y,F,H){let Y=H?this._touch:this._active,Me=this._handlers[y];if(F.vegaType=y,y===rd&&Y&&Y.href?this.handleHref(F,Y,Y.href):(y===G1||y===rl)&&this.handleTooltip(F,Y,y!==rl),Me)for(let _t=0,x=Me.length;_t<x;++_t)Me[_t].handler.call(this._obj,F,Y)},on(y,F){let H=this.eventName(y),Y=this._handlers;return this._handlerIndex(Y[H],y,F)<0&&(gp(this,y),(Y[H]||(Y[H]=[])).push({type:y,handler:F})),this},off(y,F){let H=this.eventName(y),Y=this._handlers[H],Me=this._handlerIndex(Y,y,F);return Me>=0&&Y.splice(Me,1),this},pickEvent(y){let F=Bc(y,this._canvas),H=this._origin;return this.pick(this._scene,F[0],F[1],F[0]-H[0],F[1]-H[1])},pick(y,F,H,Y,Me){let _t=this.context();return Ys[y.marktype].pick.call(this,_t,y,F,H,Y,Me)}});function qc(){return typeof window!="undefined"&&window.devicePixelRatio||1}var Rh=qc();function zd(y,F,H,Y,Me,_t){let x=typeof HTMLElement!="undefined"&&y instanceof HTMLElement&&y.parentNode!=null,T=y.getContext("2d"),z=x?Rh:Me;y.width=F*z,y.height=H*z;for(let X in _t)T[X]=_t[X];return x&&z!==1&&(y.style.width=F+"px",y.style.height=H+"px"),T.pixelRatio=z,T.setTransform(z,0,0,z,z*Y[0],z*Y[1]),y}function hf(y){jc.call(this,y),this._options={},this._redraw=!1,this._dirty=new hi,this._tempb=new hi}let Oh=jc.prototype,yp=(y,F,H)=>new hi().set(0,0,F,H).translate(-y[0],-y[1]);function Ha(y,F,H){return F.expand(1).round(),y.pixelRatio%1&&F.scale(y.pixelRatio).round().scale(1/y.pixelRatio),F.translate(-(H[0]%1),-(H[1]%1)),y.beginPath(),y.rect(F.x1,F.y1,F.width(),F.height()),y.clip(),F}e.inherits(hf,jc,{initialize(y,F,H,Y,Me,_t){return this._options=_t||{},this._canvas=this._options.externalContext?null:t.canvas(1,1,this._options.type),y&&this._canvas&&(cc(y,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),Oh.initialize.call(this,y,F,H,Y,Me)},resize(y,F,H,Y){if(Oh.resize.call(this,y,F,H,Y),this._canvas)zd(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{let Me=this._options.externalContext;Me||e.error("CanvasRenderer is missing a valid canvas or context"),Me.scale(this._scale,this._scale),Me.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(y){let F=this._tempb.clear().union(y.bounds),H=y.mark.group;for(;H;)F.translate(H.x||0,H.y||0),H=H.mark.group;this._dirty.union(F)},_render(y){let F=this.context(),H=this._origin,Y=this._width,Me=this._height,_t=this._dirty,x=yp(H,Y,Me);F.save();let T=this._redraw||_t.empty()?(this._redraw=!1,x.expand(1)):Ha(F,x.intersect(_t),H);return this.clear(-H[0],-H[1],Y,Me),this.draw(F,y,T),F.restore(),_t.clear(),this},draw(y,F,H){let Y=Ys[F.marktype];F.clip&&nn(y,F),Y.draw.call(this,y,F,H),F.clip&&y.restore()},clear(y,F,H,Y){let Me=this._options,_t=this.context();Me.type!=="pdf"&&!Me.externalContext&&_t.clearRect(y,F,H,Y),this._bgcolor!=null&&(_t.fillStyle=this._bgcolor,_t.fillRect(y,F,H,Y))}});function Nh(y,F){Gl.call(this,y,F);let H=this;H._hrefHandler=id(H,(Y,Me)=>{Me&&Me.href&&H.handleHref(Y,Me,Me.href)}),H._tooltipHandler=id(H,(Y,Me)=>{H.handleTooltip(Y,Me,Y.type!==rl)})}let id=(y,F)=>H=>{let Y=H.target.__data__;Y=Array.isArray(Y)?Y[0]:Y,H.vegaType=H.type,F.call(y._obj,H,Y)};e.inherits(Nh,Gl,{initialize(y,F,H){let Y=this._svg;return Y&&(Y.removeEventListener(rd,this._hrefHandler),Y.removeEventListener(G1,this._tooltipHandler),Y.removeEventListener(rl,this._tooltipHandler)),this._svg=Y=y&&cf(y,"svg"),Y&&(Y.addEventListener(rd,this._hrefHandler),Y.addEventListener(G1,this._tooltipHandler),Y.addEventListener(rl,this._tooltipHandler)),Gl.prototype.initialize.call(this,y,F,H)},canvas(){return this._svg},on(y,F){let H=this.eventName(y),Y=this._handlers;if(this._handlerIndex(Y[H],y,F)<0){let _t={type:y,handler:F,listener:id(this,F)};(Y[H]||(Y[H]=[])).push(_t),this._svg&&this._svg.addEventListener(H,_t.listener)}return this},off(y,F){let H=this.eventName(y),Y=this._handlers[H],Me=this._handlerIndex(Y,y,F);return Me>=0&&(this._svg&&this._svg.removeEventListener(H,Y[Me].listener),Y.splice(Me,1)),this}});let Pa="aria-hidden",Lh="aria-label",Ou="role",eu="aria-roledescription",kh="graphics-object",Ea="graphics-symbol",Ih=(y,F,H)=>({[Ou]:y,[eu]:F,[Lh]:H||void 0}),vp=e.toSet(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),x0={axis:{desc:"axis",caption:Mh},legend:{desc:"legend",caption:Hd},"title-text":{desc:"title",caption:y=>`Title text '${sl(y)}'`},"title-subtitle":{desc:"subtitle",caption:y=>`Subtitle text '${sl(y)}'`}},sd={ariaRole:Ou,ariaRoleDescription:eu,description:Lh};function pf(y,F){let H=F.aria===!1;if(y(Pa,H||void 0),H||F.description==null)for(let Y in sd)y(sd[Y],void 0);else{let Y=F.mark.marktype;y(Lh,F.description),y(Ou,F.ariaRole||(Y==="group"?kh:Ea)),y(eu,F.ariaRoleDescription||`${Y} mark`)}}function Yl(y){return y.aria===!1?{[Pa]:!0}:vp[y.role]?null:x0[y.role]?_p(y,x0[y.role]):Nu(y)}function Nu(y){let F=y.marktype,H=F==="group"||F==="text"||y.items.some(Y=>Y.description!=null&&Y.aria!==!1);return Ih(H?kh:Ea,`${F} mark container`,y.description)}function _p(y,F){try{let H=y.items[0],Y=F.caption||(()=>"");return Ih(F.role||Ea,F.desc,H.description||Y(H))}catch{return null}}function sl(y){return e.array(y.text).join(" ")}function Mh(y){let F=y.datum,H=y.orient,Y=F.title?r2(y):null,Me=y.context,_t=Me.scales[F.scale].value,x=Me.dataflow.locale(),T=_t.type;return`${H==="left"||H==="right"?"Y":"X"}-axis`+(Y?` titled '${Y}'`:"")+` for a ${i.isDiscrete(T)?"discrete":T} scale with ${i.domainCaption(x,_t,y)}`}function Hd(y){let F=y.datum,H=F.title?r2(y):null,Y=`${F.type||""} legend`.trim(),Me=F.scales,_t=Object.keys(Me),x=y.context,T=x.scales[Me[_t[0]]].value,z=x.dataflow.locale();return Lf(Y)+(H?` titled '${H}'`:"")+` for ${Ep(_t)} with ${i.domainCaption(z,T,y)}`}function r2(y){try{return e.array(e.peek(y.items).items[0].text).join(" ")}catch{return null}}function Ep(y){return y=y.map(F=>F+(F==="fill"||F==="stroke"?" color":"")),y.length<2?y[0]:y.slice(0,-1).join(", ")+" and "+e.peek(y)}function Lf(y){return y.length?y[0].toUpperCase()+y.slice(1):y}let od=y=>(y+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Xs=y=>od(y).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function A(){let y="",F="",H="",Y=[],Me=()=>F=H="",_t=z=>{F&&(y+=`${F}>${H}`,Me()),Y.push(z)},x=(z,X)=>(X!=null&&(F+=` ${z}="${Xs(X)}"`),T),T={open(z,...X){_t(z),F="<"+z;for(let ge of X)for(let Fe in ge)x(Fe,ge[Fe]);return T},close(){let z=Y.pop();return F?y+=F+(H?`>${H}</${z}>`:"/>"):y+=`</${z}>`,Me(),T},attr:x,text:z=>(H+=od(z),T),toString:()=>y};return T}let Q=y=>de(A(),y)+"";function de(y,F){if(y.open(F.tagName),F.hasAttributes()){let H=F.attributes,Y=H.length;for(let Me=0;Me<Y;++Me)y.attr(H[Me].name,H[Me].value)}if(F.hasChildNodes()){let H=F.childNodes;for(let Y of H)Y.nodeType===3?y.text(Y.nodeValue):de(y,Y)}return y.close()}let Pe={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},Ct={blend:"mix-blend-mode"},Tn={fill:"none","stroke-miterlimit":10},ur=0,$i="http://www.w3.org/2000/xmlns/",Bi=es.xmlns;function ao(y){jc.call(this,y),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}let gu=jc.prototype;e.inherits(ao,jc,{initialize(y,F,H,Y,Me){return this._defs={},this._clearDefs(),y&&(this._svg=tl(y,0,"svg",Bi),this._svg.setAttributeNS($i,"xmlns",Bi),this._svg.setAttributeNS($i,"xmlns:xlink",es["xmlns:xlink"]),this._svg.setAttribute("version",es.version),this._svg.setAttribute("class","marks"),cc(y,1),this._root=tl(this._svg,ur,"g",Bi),g0(this._root,Tn),cc(this._svg,ur+1)),this.background(this._bgcolor),gu.initialize.call(this,y,F,H,Y,Me)},background(y){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",y),gu.background.apply(this,arguments)},resize(y,F,H,Y){return gu.resize.call(this,y,F,H,Y),this._svg&&(g0(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){let y=this._svg,F=this._bgcolor;if(!y)return null;let H;F&&(y.removeAttribute("style"),H=tl(y,ur,"rect",Bi),g0(H,{width:this._width,height:this._height,fill:F}));let Y=Q(y);return F&&(y.removeChild(H),this._svg.style.setProperty("background-color",F)),Y},_render(y){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,y),cc(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(y){y.dirty!==this._dirtyID&&(y.dirty=this._dirtyID,this._dirty.push(y))},isDirty(y){return this._dirtyAll||!y._svg||!y._svg.ownerSVGElement||y.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;let y=this._dirty;if(!y.length||!this._dirtyID)return!0;let F=++this._dirtyID,H,Y,Me,_t,x,T,z;for(x=0,T=y.length;x<T;++x)if(H=y[x],Y=H.mark,Y.marktype!==Me&&(Me=Y.marktype,_t=Ys[Me]),Y.zdirty&&Y.dirty!==F&&(this._dirtyAll=!1,Uc(H,F),Y.items.forEach(X=>{X.dirty=F})),!Y.zdirty){if(H.exit){_t.nested&&Y.items.length?(z=Y.items[0],z._svg&&this._update(_t,z._svg,z)):H._svg&&(z=H._svg.parentNode,z&&z.removeChild(H._svg)),H._svg=null;continue}H=_t.nested?Y.items[0]:H,H._update!==F&&(!H._svg||!H._svg.ownerSVGElement?(this._dirtyAll=!1,Uc(H,F)):this._update(_t,H._svg,H),H._update=F)}return!this._dirtyAll},mark(y,F,H){if(!this.isDirty(F))return F._svg;let Y=this._svg,Me=Ys[F.marktype],_t=F.interactive===!1?"none":null,x=Me.tag==="g",T=Y4(F,y,H,"g",Y);T.setAttribute("class",W1(F));let z=Yl(F);for(let ot in z)Al(T,ot,z[ot]);x||Al(T,"pointer-events",_t),Al(T,"clip-path",F.clip?ho(this,F,F.group):null);let X=null,ge=0,Fe=ot=>{let zt=this.isDirty(ot),Cn=Y4(ot,T,X,Me.tag,Y);zt&&(this._update(Me,Cn,ot),x&&i3(this,Cn,ot)),X=Cn,++ge};return Me.nested?F.items.length&&Fe(F.items[0]):Gn(F,Fe),cc(T,ge),T},_update(y,F,H){ad=F,Lu=F.__values__,pf(Ph,H),y.attr(Ph,H,this);let Y=K4[y.type];Y&&Y.call(this,y,F,H),ad&&this.style(ad,H)},style(y,F){if(F!=null){for(let H in Pe){let Y=H==="font"?je(F):F[H];if(Y===Lu[H])continue;let Me=Pe[H];Y==null?y.removeAttribute(Me):(l(Y)&&(Y=f(Y,this._defs.gradient,ku())),y.setAttribute(Me,Y+"")),Lu[H]=Y}for(let H in Ct)Fs(y,Ct[H],F[H])}},defs(){let y=this._svg,F=this._defs,H=F.el,Y=0;for(let Me in F.gradient)H||(F.el=H=tl(y,ur+1,"defs",Bi)),Y=kf(H,F.gradient[Me],Y);for(let Me in F.clipping)H||(F.el=H=tl(y,ur+1,"defs",Bi)),Y=Tb(H,F.clipping[Me],Y);H&&(Y===0?(y.removeChild(H),F.el=null):cc(H,Y))},_clearDefs(){let y=this._defs;y.gradient={},y.clipping={}}});function Uc(y,F){for(;y&&y.dirty!==F;y=y.mark.group)if(y.dirty=F,y.mark&&y.mark.dirty!==F)y.mark.dirty=F;else return}function kf(y,F,H){let Y,Me,_t;if(F.gradient==="radial"){let x=tl(y,H++,"pattern",Bi);g0(x,{id:a+F.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),x=tl(x,0,"rect",Bi),g0(x,{width:1,height:1,fill:`url(${ku()}#${F.id})`}),y=tl(y,H++,"radialGradient",Bi),g0(y,{id:F.id,fx:F.x1,fy:F.y1,fr:F.r1,cx:F.x2,cy:F.y2,r:F.r2})}else y=tl(y,H++,"linearGradient",Bi),g0(y,{id:F.id,x1:F.x1,x2:F.x2,y1:F.y1,y2:F.y2});for(Y=0,Me=F.stops.length;Y<Me;++Y)_t=tl(y,Y,"stop",Bi),_t.setAttribute("offset",F.stops[Y].offset),_t.setAttribute("stop-color",F.stops[Y].color);return cc(y,Y),H}function Tb(y,F,H){let Y;return y=tl(y,H,"clipPath",Bi),y.setAttribute("id",F.id),F.path?(Y=tl(y,0,"path",Bi),Y.setAttribute("d",F.path)):(Y=tl(y,0,"rect",Bi),g0(Y,{x:0,y:0,width:F.width,height:F.height})),cc(y,1),H+1}function i3(y,F,H){F=F.lastChild.previousSibling;let Y,Me=0;Gn(H,_t=>{Y=y.mark(F,_t,Y),++Me}),cc(F,1+Me)}function Y4(y,F,H,Y,Me){let _t=y._svg,x;if(!_t&&(x=F.ownerDocument,_t=lf(x,Y,Bi),y._svg=_t,y.mark&&(_t.__data__=y,_t.__values__={fill:"default"},Y==="g"))){let T=lf(x,"path",Bi);_t.appendChild(T),T.__data__=y;let z=lf(x,"g",Bi);_t.appendChild(z),z.__data__=y;let X=lf(x,"path",Bi);_t.appendChild(X),X.__data__=y,X.__values__={fill:"default"}}return(_t.ownerSVGElement!==Me||s3(_t,H))&&F.insertBefore(_t,H?H.nextSibling:F.firstChild),_t}function s3(y,F){return y.parentNode&&y.parentNode.childNodes.length>1&&y.previousSibling!=F}let ad=null,Lu=null,K4={group(y,F,H){let Y=ad=F.childNodes[2];Lu=Y.__values__,y.foreground(Ph,H,this),Lu=F.__values__,ad=F.childNodes[1],y.content(Ph,H,this);let Me=ad=F.childNodes[0];y.background(Ph,H,this);let _t=H.mark.interactive===!1?"none":null;if(_t!==Lu.events&&(Al(Y,"pointer-events",_t),Al(Me,"pointer-events",_t),Lu.events=_t),H.strokeForeground&&H.stroke){let x=H.fill;Al(Y,"display",null),this.style(Me,H),Al(Me,"stroke",null),x&&(H.fill=null),Lu=Y.__values__,this.style(Y,H),x&&(H.fill=x),ad=null}else Al(Y,"display","none")},image(y,F,H){H.smooth===!1?(Fs(F,"image-rendering","optimizeSpeed"),Fs(F,"image-rendering","pixelated")):Fs(F,"image-rendering",null)},text(y,F,H){let Y=bl(H),Me,_t,x,T;e.isArray(Y)?(_t=Y.map(z=>Sl(H,z)),Me=_t.join(`
`),Me!==Lu.text&&(cc(F,0),x=F.ownerDocument,T=_o(H),_t.forEach((z,X)=>{let ge=lf(x,"tspan",Bi);ge.__data__=H,ge.textContent=z,X&&(ge.setAttribute("x",0),ge.setAttribute("dy",T)),F.appendChild(ge)}),Lu.text=Me)):(_t=Sl(H,Y),_t!==Lu.text&&(F.textContent=_t,Lu.text=_t)),Al(F,"font-family",je(H)),Al(F,"font-size",Ru(H)+"px"),Al(F,"font-style",H.fontStyle),Al(F,"font-variant",H.fontVariant),Al(F,"font-weight",H.fontWeight)}};function Ph(y,F,H){F!==Lu[y]&&(H?bp(ad,y,F,H):Al(ad,y,F),Lu[y]=F)}function Fs(y,F,H){H!==Lu[F]&&(H==null?y.style.removeProperty(F):y.style.setProperty(F,H+""),Lu[F]=H)}function g0(y,F){for(let H in F)Al(y,H,F[H])}function Al(y,F,H){H!=null?y.setAttribute(F,H):y.removeAttribute(F)}function bp(y,F,H,Y){H!=null?y.setAttributeNS(Y,F,H):y.removeAttributeNS(Y,F)}function ku(){let y;return typeof window=="undefined"?"":(y=window.location).hash?y.href.slice(0,-y.hash.length):y.href}function K1(y){jc.call(this,y),this._text=null,this._defs={gradient:{},clipping:{}}}e.inherits(K1,jc,{svg(){return this._text},_render(y){let F=A();F.open("svg",e.extend({},es,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));let H=this._bgcolor;return H&&H!=="transparent"&&H!=="none"&&F.open("rect",{width:this._width,height:this._height,fill:H}).close(),F.open("g",Tn,{transform:"translate("+this._origin+")"}),this.mark(F,y),F.close(),this.defs(F),this._text=F.close()+"",this},mark(y,F){let H=Ys[F.marktype],Y=H.tag,Me=[pf,H.attr];y.open("g",{class:W1(F),"clip-path":F.clip?ho(this,F,F.group):null},Yl(F),{"pointer-events":Y!=="g"&&F.interactive===!1?"none":null});let _t=x=>{let T=this.href(x);if(T&&y.open("a",T),y.open(Y,this.attr(F,x,Me,Y!=="g"?Y:null)),Y==="text"){let z=bl(x);if(e.isArray(z)){let X={x:0,dy:_o(x)};for(let ge=0;ge<z.length;++ge)y.open("tspan",ge?X:null).text(Sl(x,z[ge])).close()}else y.text(Sl(x,z))}else if(Y==="g"){let z=x.strokeForeground,X=x.fill,ge=x.stroke;z&&ge&&(x.stroke=null),y.open("path",this.attr(F,x,H.background,"bgrect")).close(),y.open("g",this.attr(F,x,H.content)),Gn(x,Fe=>this.mark(y,Fe)),y.close(),z&&ge?(X&&(x.fill=null),x.stroke=ge,y.open("path",this.attr(F,x,H.foreground,"bgrect")).close(),X&&(x.fill=X)):y.open("path",this.attr(F,x,H.foreground,"bgfore")).close()}y.close(),T&&y.close()};return H.nested?F.items&&F.items.length&&_t(F.items[0]):Gn(F,_t),y.close()},href(y){let F=y.href,H;if(F){if(H=this._hrefs&&this._hrefs[F])return H;this.sanitizeURL(F).then(Y=>{Y["xlink:href"]=Y.href,Y.href=null,(this._hrefs||(this._hrefs={}))[F]=Y})}return null},attr(y,F,H,Y){let Me={},_t=(x,T,z,X)=>{Me[X||x]=T};return Array.isArray(H)?H.forEach(x=>x(_t,F,this)):H(_t,F,this),Y&&J1(Me,F,y,Y,this._defs),Me},defs(y){let F=this._defs.gradient,H=this._defs.clipping;if(Object.keys(F).length+Object.keys(H).length!==0){y.open("defs");for(let Me in F){let _t=F[Me],x=_t.stops;_t.gradient==="radial"?(y.open("pattern",{id:a+Me,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),y.open("rect",{width:"1",height:"1",fill:"url(#"+Me+")"}).close(),y.close(),y.open("radialGradient",{id:Me,fx:_t.x1,fy:_t.y1,fr:_t.r1,cx:_t.x2,cy:_t.y2,r:_t.r2})):y.open("linearGradient",{id:Me,x1:_t.x1,x2:_t.x2,y1:_t.y1,y2:_t.y2});for(let T=0;T<x.length;++T)y.open("stop",{offset:x[T].offset,"stop-color":x[T].color}).close();y.close()}for(let Me in H){let _t=H[Me];y.open("clipPath",{id:Me}),_t.path?y.open("path",{d:_t.path}).close():y.open("rect",{x:0,y:0,width:_t.width,height:_t.height}).close(),y.close()}y.close()}}});function J1(y,F,H,Y,Me){let _t;if(F==null||(Y==="bgrect"&&H.interactive===!1&&(y["pointer-events"]="none"),Y==="bgfore"&&(H.interactive===!1&&(y["pointer-events"]="none"),y.display="none",F.fill!==null)))return y;Y==="image"&&F.smooth===!1&&(_t=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),Y==="text"&&(y["font-family"]=je(F),y["font-size"]=Ru(F)+"px",y["font-style"]=F.fontStyle,y["font-variant"]=F.fontVariant,y["font-weight"]=F.fontWeight);for(let x in Pe){let T=F[x],z=Pe[x];T==="transparent"&&(z==="fill"||z==="stroke")||T!=null&&(l(T)&&(T=f(T,Me.gradient,"")),y[z]=T)}for(let x in Ct){let T=F[x];T!=null&&(_t=_t||[],_t.push(`${Ct[x]}: ${T};`))}return _t&&(y.style=_t.join(" ")),y}let Tl="canvas",o3="png",Vd="svg",Bh="none",a3={Canvas:Tl,PNG:o3,SVG:Vd,None:Bh},If={};If[Tl]=If[o3]={renderer:hf,headless:hf,handler:Nf},If[Vd]={renderer:ao,headless:K1,handler:Nh},If[Bh]={};function Fl(y,F){return y=String(y||"").toLowerCase(),arguments.length>1?(If[y]=F,this):If[y]}function Mf(y,F,H){let Y=[],Me=new hi().union(F),_t=y.marktype;return _t?X1(y,Me,H,Y):_t==="group"?Wd(y,Me,H,Y):e.error("Intersect scene must be mark node or group item.")}function X1(y,F,H,Y){if(Sp(y,F,H)){let Me=y.items,_t=y.marktype,x=Me.length,T=0;if(_t==="group")for(;T<x;++T)Wd(Me[T],F,H,Y);else for(let z=Ys[_t].isect;T<x;++T){let X=Me[T];Z1(X,F,z)&&Y.push(X)}}return Y}function Sp(y,F,H){return y.bounds&&F.intersects(y.bounds)&&(y.marktype==="group"||y.interactive!==!1&&(!H||H(y)))}function Wd(y,F,H,Y){H&&H(y.mark)&&Z1(y,F,Ys.group.isect)&&Y.push(y);let Me=y.items,_t=Me&&Me.length;if(_t){let x=y.x||0,T=y.y||0;F.translate(-x,-T);for(let z=0;z<_t;++z)X1(Me[z],F,H,Y);F.translate(x,T)}return Y}function Z1(y,F,H){let Y=y.bounds;return F.encloses(Y)||F.intersects(Y)&&H(y,F)}let mf=new hi;function ig(y){let F=y.clip;if(e.isFunction(F))F(za(mf.clear()));else if(F)mf.set(0,0,y.group.width,y.group.height);else return;y.bounds.intersect(mf)}let sg=1e-9;function fc(y,F,H){return y===F?!0:H==="path"?y0(y,F):y instanceof Date&&F instanceof Date?+y==+F:e.isNumber(y)&&e.isNumber(F)?Math.abs(y-F)<=sg:!y||!F||!e.isObject(y)&&!e.isObject(F)?y==F:J4(y,F)}function y0(y,F){return fc(we(y),we(F))}function J4(y,F){var H=Object.keys(y),Y=Object.keys(F),Me,_t;if(H.length!==Y.length)return!1;for(H.sort(),Y.sort(),_t=H.length-1;_t>=0;_t--)if(H[_t]!=Y[_t])return!1;for(_t=H.length-1;_t>=0;_t--)if(Me=H[_t],!fc(y[Me],F[Me],Me))return!1;return typeof y==typeof F}function ud(){so(),o()}n.Bounds=hi,n.CanvasHandler=Nf,n.CanvasRenderer=hf,n.Gradient=_,n.GroupItem=Wi,n.Handler=Gl,n.Item=bi,n.Marks=Ys,n.RenderType=a3,n.Renderer=jc,n.ResourceLoader=Xo,n.SVGHandler=Nh,n.SVGRenderer=ao,n.SVGStringRenderer=K1,n.Scenegraph=lc,n.boundClip=ig,n.boundContext=za,n.boundItem=$o,n.boundMark=mo,n.boundStroke=po,n.domChild=tl,n.domClear=cc,n.domCreate=lf,n.domFind=cf,n.font=Nt,n.fontFamily=je,n.fontSize=Ru,n.intersect=Mf,n.intersectBoxLine=is,n.intersectPath=ui,n.intersectPoint=rs,n.intersectRule=xr,n.lineHeight=_o,n.markup=A,n.multiLineOffset=Is,n.path=L,n.pathCurves=Te,n.pathEqual=y0,n.pathParse=we,n.pathRectangle=Tt,n.pathRender=be,n.pathSymbols=fe,n.pathTrail=Zt,n.point=Bc,n.renderModule=Fl,n.resetSVGClipId=so,n.resetSVGDefIds=ud,n.sceneEqual=fc,n.sceneFromJSON=Ql,n.scenePickVisit=ar,n.sceneToJSON=uc,n.sceneVisit=Gn,n.sceneZOrder=wr,n.serializeXML=Q,n.textMetrics=Uo,Object.defineProperty(n,"__esModule",{value:!0})})});var GDe=Ae((mV,QDe)=>{m();(function(n,e){typeof mV=="object"&&typeof QDe!="undefined"?e(mV,o0(),x9(),Tu()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega))})(mV,function(n,e,t,r){"use strict";let i="top",s="left",o="right",a="bottom",l="top-left",f="top-right",p="bottom-left",_="bottom-right",b="start",R="middle",O="end",j="x",$="y",L="group",q="axis",P="title",W="frame",oe="scope",I="legend",J="row-header",he="row-footer",ye="row-title",He="column-header",at="column-footer",ct="column-title",Ze="padding",bt="symbol",Mt="fit",qe="fit-x",te="fit-y",et="pad",Ee="none",ke="all",Ce="each",pe="flush",Je="column",lt="row";function Ht(dt){e.Transform.call(this,null,dt)}r.inherits(Ht,e.Transform,{transform(dt,ie){let Te=ie.dataflow,Ue=dt.mark,gt=Ue.marktype,St=t.Marks[gt],Ot=St.bound,ne=Ue.bounds,we;if(St.nested)Ue.items.length&&Te.dirty(Ue.items[0]),ne=wt(Ue,Ot),Ue.items.forEach(We=>{We.bounds.clear().union(ne)});else if(gt===L||dt.modified())switch(ie.visit(ie.MOD,We=>Te.dirty(We)),ne.clear(),Ue.items.forEach(We=>ne.union(wt(We,Ot))),Ue.role){case q:case I:case P:ie.reflow()}else we=ie.changed(ie.REM),ie.visit(ie.ADD,We=>{ne.union(wt(We,Ot))}),ie.visit(ie.MOD,We=>{we=we||ne.alignsWith(We.bounds),Te.dirty(We),ne.union(wt(We,Ot))}),we&&(ne.clear(),Ue.items.forEach(We=>ne.union(We.bounds)));return t.boundClip(Ue),ie.modifies("bounds")}});function wt(dt,ie,Te){return ie(dt.bounds.clear(),dt,Te)}let mn=":vega_identifier:";function kt(dt){e.Transform.call(this,0,dt)}kt.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},r.inherits(kt,e.Transform,{transform(dt,ie){let Te=Bt(ie.dataflow),Ue=dt.as,gt=Te.value;return ie.visit(ie.ADD,St=>St[Ue]=St[Ue]||++gt),Te.set(this.value=gt),ie}});function Bt(dt){return dt._signals[mn]||(dt._signals[mn]=dt.add(0))}function tn(dt){e.Transform.call(this,null,dt)}r.inherits(tn,e.Transform,{transform(dt,ie){let Te=this.value;Te||(Te=ie.dataflow.scenegraph().mark(dt.markdef,Et(dt),dt.index),Te.group.context=dt.context,dt.context.group||(dt.context.group=Te.group),Te.source=this.source,Te.clip=dt.clip,Te.interactive=dt.interactive,this.value=Te);let Ue=Te.marktype===L?t.GroupItem:t.Item;return ie.visit(ie.ADD,gt=>Ue.call(gt,Te)),(dt.modified("clip")||dt.modified("interactive"))&&(Te.clip=dt.clip,Te.interactive=!!dt.interactive,Te.zdirty=!0,ie.reflow()),Te.items=ie.source,ie}});function Et(dt){let ie=dt.groups,Te=dt.parent;return ie&&ie.size===1?ie.get(Object.keys(ie.object)[0]):ie&&Te?ie.lookup(Te):null}function ve(dt){e.Transform.call(this,null,dt)}let Le={parity:dt=>dt.filter((ie,Te)=>Te%2?ie.opacity=0:1),greedy:(dt,ie)=>{let Te;return dt.filter((Ue,gt)=>!gt||!_e(Te.bounds,Ue.bounds,ie)?(Te=Ue,1):Ue.opacity=0)}},_e=(dt,ie,Te)=>Te>Math.max(ie.x1-dt.x2,dt.x1-ie.x2,ie.y1-dt.y2,dt.y1-ie.y2),ce=(dt,ie)=>{for(var Te=1,Ue=dt.length,gt=dt[0].bounds,St;Te<Ue;gt=St,++Te)if(_e(gt,St=dt[Te].bounds,ie))return!0},tt=dt=>{let ie=dt.bounds;return ie.width()>1&&ie.height()>1},Ke=(dt,ie,Te)=>{var Ue=dt.range(),gt=new t.Bounds;return ie===i||ie===a?gt.set(Ue[0],-1/0,Ue[1],1/0):gt.set(-1/0,Ue[0],1/0,Ue[1]),gt.expand(Te||1),St=>gt.encloses(St.bounds)},re=dt=>(dt.forEach(ie=>ie.opacity=1),dt),Re=(dt,ie)=>dt.reflow(ie.modified()).modifies("opacity");r.inherits(ve,e.Transform,{transform(dt,ie){let Te=Le[dt.method]||Le.parity,Ue=dt.separation||0,gt=ie.materialize(ie.SOURCE).source,St,Ot;if(!gt||!gt.length)return;if(!dt.method)return dt.modified("method")&&(re(gt),ie=Re(ie,dt)),ie;if(gt=gt.filter(tt),!gt.length)return;if(dt.sort&&(gt=gt.slice().sort(dt.sort)),St=re(gt),ie=Re(ie,dt),St.length>=3&&ce(St,Ue)){do St=Te(St,Ue);while(St.length>=3&&ce(St,Ue));St.length<3&&!r.peek(gt).opacity&&(St.length>1&&(r.peek(St).opacity=0),r.peek(gt).opacity=1)}dt.boundScale&&dt.boundTolerance>=0&&(Ot=Ke(dt.boundScale,dt.boundOrient,+dt.boundTolerance),gt.forEach(we=>{Ot(we)||(we.opacity=0)}));let ne=St[0].mark.bounds.clear();return gt.forEach(we=>{we.opacity&&ne.union(we.bounds)}),ie}});function nt(dt){e.Transform.call(this,null,dt)}r.inherits(nt,e.Transform,{transform(dt,ie){let Te=ie.dataflow;if(ie.visit(ie.ALL,Ue=>Te.dirty(Ue)),ie.fields&&ie.fields.zindex){let Ue=ie.source&&ie.source[0];Ue&&(Ue.mark.zdirty=!0)}}});let ft=new t.Bounds;function Rt(dt,ie,Te){return dt[ie]===Te?0:(dt[ie]=Te,1)}function Yt(dt){var ie=dt.items[0].orient;return ie===s||ie===o}function Gt(dt){let ie=+dt.grid;return[dt.ticks?ie++:-1,dt.labels?ie++:-1,ie+ +dt.domain]}function fn(dt,ie,Te,Ue){var gt=ie.items[0],St=gt.datum,Ot=gt.translate!=null?gt.translate:.5,ne=gt.orient,we=Gt(St),We=gt.range,st=gt.offset,Ut=gt.position,sn=gt.minExtent,wn=gt.maxExtent,bn=St.title&&gt.items[we[2]].items[0],vn=gt.titlePadding,zn=gt.bounds,Oe=bn&&t.multiLineOffset(bn),$e=0,Ft=0,N,V;switch(ft.clear().union(zn),zn.clear(),(N=we[0])>-1&&zn.union(gt.items[N].bounds),(N=we[1])>-1&&zn.union(gt.items[N].bounds),ne){case i:$e=Ut||0,Ft=-st,V=Math.max(sn,Math.min(wn,-zn.y1)),zn.add(0,-V).add(We,0),bn&&gn(dt,bn,V,vn,Oe,0,-1,zn);break;case s:$e=-st,Ft=Ut||0,V=Math.max(sn,Math.min(wn,-zn.x1)),zn.add(-V,0).add(0,We),bn&&gn(dt,bn,V,vn,Oe,1,-1,zn);break;case o:$e=Te+st,Ft=Ut||0,V=Math.max(sn,Math.min(wn,zn.x2)),zn.add(0,0).add(V,We),bn&&gn(dt,bn,V,vn,Oe,1,1,zn);break;case a:$e=Ut||0,Ft=Ue+st,V=Math.max(sn,Math.min(wn,zn.y2)),zn.add(0,0).add(We,V),bn&&gn(dt,bn,V,vn,0,0,1,zn);break;default:$e=gt.x,Ft=gt.y}return t.boundStroke(zn.translate($e,Ft),gt),Rt(gt,"x",$e+Ot)|Rt(gt,"y",Ft+Ot)&&(gt.bounds=ft,dt.dirty(gt),gt.bounds=zn,dt.dirty(gt)),gt.mark.bounds.clear().union(zn)}function gn(dt,ie,Te,Ue,gt,St,Ot,ne){let we=ie.bounds;if(ie.auto){let We=Ot*(Te+gt+Ue),st=0,Ut=0;dt.dirty(ie),St?st=(ie.x||0)-(ie.x=We):Ut=(ie.y||0)-(ie.y=We),ie.mark.bounds.clear().union(we.translate(-st,-Ut)),dt.dirty(ie)}ne.union(we)}let yn=(dt,ie)=>Math.floor(Math.min(dt,ie)),Lt=(dt,ie)=>Math.ceil(Math.max(dt,ie));function un(dt){var ie=dt.items,Te=ie.length,Ue=0,gt,St;let Ot={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;Ue<Te;++Ue)if(gt=ie[Ue],St=gt.items,gt.marktype===L)switch(gt.role){case q:case I:case P:break;case J:Ot.rowheaders.push(...St);break;case he:Ot.rowfooters.push(...St);break;case He:Ot.colheaders.push(...St);break;case at:Ot.colfooters.push(...St);break;case ye:Ot.rowtitle=St[0];break;case ct:Ot.coltitle=St[0];break;default:Ot.marks.push(...St)}return Ot}function Pn(dt){return new t.Bounds().set(0,0,dt.width||0,dt.height||0)}function nr(dt){let ie=dt.bounds.clone();return ie.empty()?ie.set(0,0,0,0):ie.translate(-(dt.x||0),-(dt.y||0))}function On(dt,ie,Te){let Ue=r.isObject(dt)?dt[ie]:dt;return Ue??(Te!==void 0?Te:0)}function Ne(dt){return dt<0?Math.ceil(-dt):0}function ze(dt,ie,Te){var Ue=!Te.nodirty,gt=Te.bounds===pe?Pn:nr,St=ft.set(0,0,0,0),Ot=On(Te.align,Je),ne=On(Te.align,lt),we=On(Te.padding,Je),We=On(Te.padding,lt),st=Te.columns||ie.length,Ut=st<=0?1:Math.ceil(ie.length/st),sn=ie.length,wn=Array(sn),bn=Array(st),vn=0,zn=Array(sn),Oe=Array(Ut),$e=0,Ft=Array(sn),N=Array(sn),V=Array(sn),be,xe,K,ue,fe,Qe,It,At,dn,C,B;for(xe=0;xe<st;++xe)bn[xe]=0;for(xe=0;xe<Ut;++xe)Oe[xe]=0;for(xe=0;xe<sn;++xe)Qe=ie[xe],fe=V[xe]=gt(Qe),Qe.x=Qe.x||0,Ft[xe]=0,Qe.y=Qe.y||0,N[xe]=0,K=xe%st,ue=~~(xe/st),vn=Math.max(vn,It=Math.ceil(fe.x2)),$e=Math.max($e,At=Math.ceil(fe.y2)),bn[K]=Math.max(bn[K],It),Oe[ue]=Math.max(Oe[ue],At),wn[xe]=we+Ne(fe.x1),zn[xe]=We+Ne(fe.y1),Ue&&dt.dirty(ie[xe]);for(xe=0;xe<sn;++xe)xe%st===0&&(wn[xe]=0),xe<st&&(zn[xe]=0);if(Ot===Ce)for(K=1;K<st;++K){for(B=0,xe=K;xe<sn;xe+=st)B<wn[xe]&&(B=wn[xe]);for(xe=K;xe<sn;xe+=st)wn[xe]=B+bn[K-1]}else if(Ot===ke){for(B=0,xe=0;xe<sn;++xe)xe%st&&B<wn[xe]&&(B=wn[xe]);for(xe=0;xe<sn;++xe)xe%st&&(wn[xe]=B+vn)}else for(Ot=!1,K=1;K<st;++K)for(xe=K;xe<sn;xe+=st)wn[xe]+=bn[K-1];if(ne===Ce)for(ue=1;ue<Ut;++ue){for(B=0,xe=ue*st,be=xe+st;xe<be;++xe)B<zn[xe]&&(B=zn[xe]);for(xe=ue*st;xe<be;++xe)zn[xe]=B+Oe[ue-1]}else if(ne===ke){for(B=0,xe=st;xe<sn;++xe)B<zn[xe]&&(B=zn[xe]);for(xe=st;xe<sn;++xe)zn[xe]=B+$e}else for(ne=!1,ue=1;ue<Ut;++ue)for(xe=ue*st,be=xe+st;xe<be;++xe)zn[xe]+=Oe[ue-1];for(dn=0,xe=0;xe<sn;++xe)dn=wn[xe]+(xe%st?dn:0),Ft[xe]+=dn-ie[xe].x;for(K=0;K<st;++K)for(C=0,xe=K;xe<sn;xe+=st)C+=zn[xe],N[xe]+=C-ie[xe].y;if(Ot&&On(Te.center,Je)&&Ut>1)for(xe=0;xe<sn;++xe)fe=Ot===ke?vn:bn[xe%st],dn=fe-V[xe].x2-ie[xe].x-Ft[xe],dn>0&&(Ft[xe]+=dn/2);if(ne&&On(Te.center,lt)&&st!==1)for(xe=0;xe<sn;++xe)fe=ne===ke?$e:Oe[~~(xe/st)],C=fe-V[xe].y2-ie[xe].y-N[xe],C>0&&(N[xe]+=C/2);for(xe=0;xe<sn;++xe)St.union(V[xe].translate(Ft[xe],N[xe]));switch(dn=On(Te.anchor,j),C=On(Te.anchor,$),On(Te.anchor,Je)){case O:dn-=St.width();break;case R:dn-=St.width()/2}switch(On(Te.anchor,lt)){case O:C-=St.height();break;case R:C-=St.height()/2}for(dn=Math.round(dn),C=Math.round(C),St.clear(),xe=0;xe<sn;++xe)ie[xe].mark.bounds.clear();for(xe=0;xe<sn;++xe)Qe=ie[xe],Qe.x+=Ft[xe]+=dn,Qe.y+=N[xe]+=C,St.union(Qe.mark.bounds.union(Qe.bounds.translate(Ft[xe],N[xe]))),Ue&&dt.dirty(Qe);return St}function De(dt,ie,Te){var Ue=un(ie),gt=Ue.marks,St=Te.bounds===pe?Pt:mt,Ot=Te.offset,ne=Te.columns||gt.length,we=ne<=0?1:Math.ceil(gt.length/ne),We=we*ne,st,Ut,sn,wn,bn,vn,zn;let Oe=ze(dt,gt,Te);Oe.empty()&&Oe.set(0,0,0,0),Ue.rowheaders&&(vn=On(Te.headerBand,lt,null),st=xt(dt,Ue.rowheaders,gt,ne,we,-On(Ot,"rowHeader"),yn,0,St,"x1",0,ne,1,vn)),Ue.colheaders&&(vn=On(Te.headerBand,Je,null),Ut=xt(dt,Ue.colheaders,gt,ne,ne,-On(Ot,"columnHeader"),yn,1,St,"y1",0,1,ne,vn)),Ue.rowfooters&&(vn=On(Te.footerBand,lt,null),sn=xt(dt,Ue.rowfooters,gt,ne,we,On(Ot,"rowFooter"),Lt,0,St,"x2",ne-1,ne,1,vn)),Ue.colfooters&&(vn=On(Te.footerBand,Je,null),wn=xt(dt,Ue.colfooters,gt,ne,ne,On(Ot,"columnFooter"),Lt,1,St,"y2",We-ne,1,ne,vn)),Ue.rowtitle&&(bn=On(Te.titleAnchor,lt),zn=On(Ot,"rowTitle"),zn=bn===O?sn+zn:st-zn,vn=On(Te.titleBand,lt,.5),rn(dt,Ue.rowtitle,zn,0,Oe,vn)),Ue.coltitle&&(bn=On(Te.titleAnchor,Je),zn=On(Ot,"columnTitle"),zn=bn===O?wn+zn:Ut-zn,vn=On(Te.titleBand,Je,.5),rn(dt,Ue.coltitle,zn,1,Oe,vn))}function Pt(dt,ie){return ie==="x1"?dt.x||0:ie==="y1"?dt.y||0:ie==="x2"?(dt.x||0)+(dt.width||0):ie==="y2"?(dt.y||0)+(dt.height||0):void 0}function mt(dt,ie){return dt.bounds[ie]}function xt(dt,ie,Te,Ue,gt,St,Ot,ne,we,We,st,Ut,sn,wn){var bn=Te.length,vn=0,zn=0,Oe,$e,Ft,N,V,be,xe,K,ue;if(!bn)return vn;for(Oe=st;Oe<bn;Oe+=Ut)Te[Oe]&&(vn=Ot(vn,we(Te[Oe],We)));if(!ie.length)return vn;for(ie.length>gt&&(dt.warn("Grid headers exceed limit: "+gt),ie=ie.slice(0,gt)),vn+=St,$e=0,N=ie.length;$e<N;++$e)dt.dirty(ie[$e]),ie[$e].mark.bounds.clear();for(Oe=st,$e=0,N=ie.length;$e<N;++$e,Oe+=Ut){for(be=ie[$e],V=be.mark.bounds,Ft=Oe;Ft>=0&&(xe=Te[Ft])==null;Ft-=sn);ne?(K=wn==null?xe.x:Math.round(xe.bounds.x1+wn*xe.bounds.width()),ue=vn):(K=vn,ue=wn==null?xe.y:Math.round(xe.bounds.y1+wn*xe.bounds.height())),V.union(be.bounds.translate(K-(be.x||0),ue-(be.y||0))),be.x=K,be.y=ue,dt.dirty(be),zn=Ot(zn,V[We])}return zn}function rn(dt,ie,Te,Ue,gt,St){if(!!ie){dt.dirty(ie);var Ot=Te,ne=Te;Ue?Ot=Math.round(gt.x1+St*gt.width()):ne=Math.round(gt.y1+St*gt.height()),ie.bounds.translate(Ot-(ie.x||0),ne-(ie.y||0)),ie.mark.bounds.clear().union(ie.bounds),ie.x=Ot,ie.y=ne,dt.dirty(ie)}}function Qt(dt,ie){let Te=dt[ie]||{};return(Ue,gt)=>Te[Ue]!=null?Te[Ue]:dt[Ue]!=null?dt[Ue]:gt}function Fn(dt,ie){let Te=-1/0;return dt.forEach(Ue=>{Ue.offset!=null&&(Te=Math.max(Te,Ue.offset))}),Te>-1/0?Te:ie}function Wn(dt,ie,Te,Ue,gt,St,Ot){let ne=Qt(Te,ie),we=Fn(dt,ne("offset",0)),We=ne("anchor",b),st=We===O?1:We===R?.5:0,Ut={align:Ce,bounds:ne("bounds",pe),columns:ne("direction")==="vertical"?1:dt.length,padding:ne("margin",8),center:ne("center"),nodirty:!0};switch(ie){case s:Ut.anchor={x:Math.floor(Ue.x1)-we,column:O,y:st*(Ot||Ue.height()+2*Ue.y1),row:We};break;case o:Ut.anchor={x:Math.ceil(Ue.x2)+we,y:st*(Ot||Ue.height()+2*Ue.y1),row:We};break;case i:Ut.anchor={y:Math.floor(gt.y1)-we,row:O,x:st*(St||gt.width()+2*gt.x1),column:We};break;case a:Ut.anchor={y:Math.ceil(gt.y2)+we,x:st*(St||gt.width()+2*gt.x1),column:We};break;case l:Ut.anchor={x:we,y:we};break;case f:Ut.anchor={x:St-we,y:we,column:O};break;case p:Ut.anchor={x:we,y:Ot-we,row:O};break;case _:Ut.anchor={x:St-we,y:Ot-we,column:O,row:O};break}return Ut}function Zn(dt,ie){var Te=ie.items[0],Ue=Te.datum,gt=Te.orient,St=Te.bounds,Ot=Te.x,ne=Te.y,we,We;return Te._bounds?Te._bounds.clear().union(St):Te._bounds=St.clone(),St.clear(),rr(dt,Te,Te.items[0].items[0]),St=Nn(Te,St),we=2*Te.padding,We=2*Te.padding,St.empty()||(we=Math.ceil(St.width()+we),We=Math.ceil(St.height()+We)),Ue.type===bt&&ae(Te.items[0].items[0].items[0].items),gt!==Ee&&(Te.x=Ot=0,Te.y=ne=0),Te.width=we,Te.height=We,t.boundStroke(St.set(Ot,ne,Ot+we,ne+We),Te),Te.mark.bounds.clear().union(St),Te}function Nn(dt,ie){return dt.items.forEach(Te=>ie.union(Te.bounds)),ie.x1=dt.padding,ie.y1=dt.padding,ie}function rr(dt,ie,Te){var Ue=ie.padding,gt=Ue-Te.x,St=Ue-Te.y;if(!ie.datum.title)(gt||St)&&vt(dt,Te,gt,St);else{var Ot=ie.items[1].items[0],ne=Ot.anchor,we=ie.titlePadding||0,We=Ue-Ot.x,st=Ue-Ot.y;switch(Ot.orient){case s:gt+=Math.ceil(Ot.bounds.width())+we;break;case o:case a:break;default:St+=Ot.bounds.height()+we}switch((gt||St)&&vt(dt,Te,gt,St),Ot.orient){case s:st+=Ye(ie,Te,Ot,ne,1,1);break;case o:We+=Ye(ie,Te,Ot,O,0,0)+we,st+=Ye(ie,Te,Ot,ne,1,1);break;case a:We+=Ye(ie,Te,Ot,ne,0,0),st+=Ye(ie,Te,Ot,O,-1,0,1)+we;break;default:We+=Ye(ie,Te,Ot,ne,0,0)}(We||st)&&vt(dt,Ot,We,st),(We=Math.round(Ot.bounds.x1-Ue))<0&&(vt(dt,Te,-We,0),vt(dt,Ot,-We,0))}}function Ye(dt,ie,Te,Ue,gt,St,Ot){let ne=dt.datum.type!=="symbol",we=Te.datum.vgrad,We=ne&&(St||!we)&&!Ot?ie.items[0]:ie,st=We.bounds[gt?"y2":"x2"]-dt.padding,Ut=we&&St?st:0,sn=we&&St?0:st,wn=gt<=0?0:t.multiLineOffset(Te);return Math.round(Ue===b?Ut:Ue===O?sn-wn:.5*(st-wn))}function vt(dt,ie,Te,Ue){ie.x+=Te,ie.y+=Ue,ie.bounds.translate(Te,Ue),ie.mark.bounds.translate(Te,Ue),dt.dirty(ie)}function ae(dt){let ie=dt.reduce((Te,Ue)=>(Te[Ue.column]=Math.max(Ue.bounds.x2-Ue.x,Te[Ue.column]||0),Te),{});dt.forEach(Te=>{Te.width=ie[Te.column],Te.height=Te.bounds.y2-Te.y})}function Be(dt,ie,Te,Ue,gt){var St=ie.items[0],Ot=St.frame,ne=St.orient,we=St.anchor,We=St.offset,st=St.padding,Ut=St.items[0].items[0],sn=St.items[1]&&St.items[1].items[0],wn=ne===s||ne===o?Ue:Te,bn=0,vn=0,zn=0,Oe=0,$e=0,Ft;if(Ot!==L?ne===s?(bn=gt.y2,wn=gt.y1):ne===o?(bn=gt.y1,wn=gt.y2):(bn=gt.x1,wn=gt.x2):ne===s&&(bn=Ue,wn=0),Ft=we===b?bn:we===O?wn:(bn+wn)/2,sn&&sn.text){switch(ne){case i:case a:$e=Ut.bounds.height()+st;break;case s:Oe=Ut.bounds.width()+st;break;case o:Oe=-Ut.bounds.width()-st;break}ft.clear().union(sn.bounds),ft.translate(Oe-(sn.x||0),$e-(sn.y||0)),Rt(sn,"x",Oe)|Rt(sn,"y",$e)&&(dt.dirty(sn),sn.bounds.clear().union(ft),sn.mark.bounds.clear().union(ft),dt.dirty(sn)),ft.clear().union(sn.bounds)}else ft.clear();switch(ft.union(Ut.bounds),ne){case i:vn=Ft,zn=gt.y1-ft.height()-We;break;case s:vn=gt.x1-ft.width()-We,zn=Ft;break;case o:vn=gt.x2+ft.width()+We,zn=Ft;break;case a:vn=Ft,zn=gt.y2+We;break;default:vn=St.x,zn=St.y}return Rt(St,"x",vn)|Rt(St,"y",zn)&&(ft.translate(vn,zn),dt.dirty(St),St.bounds.clear().union(ft),ie.bounds.clear().union(ft),dt.dirty(St)),St.bounds}function rt(dt){e.Transform.call(this,null,dt)}r.inherits(rt,e.Transform,{transform(dt,ie){let Te=ie.dataflow;return dt.mark.items.forEach(Ue=>{dt.layout&&De(Te,Ue,dt.layout),hn(Te,Ue,dt)}),Dt(dt.mark.group)?ie.reflow():ie}});function Dt(dt){return dt&&dt.mark.role!=="legend-entry"}function hn(dt,ie,Te){var Ue=ie.items,gt=Math.max(0,ie.width||0),St=Math.max(0,ie.height||0),Ot=new t.Bounds().set(0,0,gt,St),ne=Ot.clone(),we=Ot.clone(),We=[],st,Ut,sn,wn,bn,vn;for(bn=0,vn=Ue.length;bn<vn;++bn)switch(Ut=Ue[bn],Ut.role){case q:wn=Yt(Ut)?ne:we,wn.union(fn(dt,Ut,gt,St));break;case P:st=Ut;break;case I:We.push(Zn(dt,Ut));break;case W:case oe:case J:case he:case ye:case He:case at:case ct:ne.union(Ut.bounds),we.union(Ut.bounds);break;default:Ot.union(Ut.bounds)}if(We.length){let zn={};We.forEach(Oe=>{sn=Oe.orient||o,sn!==Ee&&(zn[sn]||(zn[sn]=[])).push(Oe)});for(let Oe in zn){let $e=zn[Oe];ze(dt,$e,Wn($e,Oe,Te.legends,ne,we,gt,St))}We.forEach(Oe=>{let $e=Oe.bounds;if($e.equals(Oe._bounds)||(Oe.bounds=Oe._bounds,dt.dirty(Oe),Oe.bounds=$e,dt.dirty(Oe)),Te.autosize&&Te.autosize.type===Mt)switch(Oe.orient){case s:case o:Ot.add($e.x1,0).add($e.x2,0);break;case i:case a:Ot.add(0,$e.y1).add(0,$e.y2)}else Ot.union($e)})}Ot.union(ne).union(we),st&&Ot.union(Be(dt,st,gt,St,Ot)),ie.clip&&Ot.set(0,0,ie.width||0,ie.height||0),an(dt,ie,Ot,Te)}function an(dt,ie,Te,Ue){let gt=Ue.autosize||{},St=gt.type;if(dt._autosize<1||!St)return;let Ot=dt._width,ne=dt._height,we=Math.max(0,ie.width||0),We=Math.max(0,Math.ceil(-Te.x1)),st=Math.max(0,ie.height||0),Ut=Math.max(0,Math.ceil(-Te.y1)),sn=Math.max(0,Math.ceil(Te.x2-we)),wn=Math.max(0,Math.ceil(Te.y2-st));if(gt.contains===Ze){let bn=dt.padding();Ot-=bn.left+bn.right,ne-=bn.top+bn.bottom}St===Ee?(We=0,Ut=0,we=Ot,st=ne):St===Mt?(we=Math.max(0,Ot-We-sn),st=Math.max(0,ne-Ut-wn)):St===qe?(we=Math.max(0,Ot-We-sn),ne=st+Ut+wn):St===te?(Ot=we+We+sn,st=Math.max(0,ne-Ut-wn)):St===et&&(Ot=we+We+sn,ne=st+Ut+wn),dt._resizeView(Ot,ne,we,st,[We,Ut],gt.resize)}n.bound=Ht,n.identifier=kt,n.mark=tn,n.overlap=ve,n.render=nt,n.viewlayout=rt,Object.defineProperty(n,"__esModule",{value:!0})})});var KDe=Ae((xV,YDe)=>{m();(function(n,e){typeof xV=="object"&&typeof YDe!="undefined"?e(xV,o0(),xb(),Tu()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega))})(xV,function(n,e,t,r){"use strict";function i(N){e.Transform.call(this,null,N)}r.inherits(i,e.Transform,{transform(N,V){if(this.value&&!N.modified())return V.StopPropagation;var be=V.dataflow.locale(),xe=V.fork(V.NO_SOURCE|V.NO_FIELDS),K=this.value,ue=N.scale,fe=N.count==null?N.values?N.values.length:10:N.count,Qe=t.tickCount(ue,fe,N.minstep),It=N.format||t.tickFormat(be,ue,Qe,N.formatSpecifier,N.formatType,!!N.values),At=N.values?t.validTicks(ue,N.values,Qe):t.tickValues(ue,Qe);return K&&(xe.rem=K),K=At.map((dn,C)=>e.ingest({index:C/(At.length-1||1),value:dn,label:It(dn)})),N.extra&&K.length&&K.push(e.ingest({index:-1,extra:{value:K[0].value},label:""})),xe.source=K,xe.add=K,this.value=K,xe}});function s(N){e.Transform.call(this,null,N)}function o(){return e.ingest({})}function a(N){let V=r.fastmap().test(be=>be.exit);return V.lookup=be=>V.get(N(be)),V}r.inherits(s,e.Transform,{transform(N,V){var be=V.dataflow,xe=V.fork(V.NO_SOURCE|V.NO_FIELDS),K=N.item||o,ue=N.key||e.tupleid,fe=this.value;return r.isArray(xe.encode)&&(xe.encode=null),fe&&(N.modified("key")||V.modified(ue))&&r.error("DataJoin does not support modified key function or fields."),fe||(V=V.addAll(),this.value=fe=a(ue)),V.visit(V.ADD,Qe=>{let It=ue(Qe),At=fe.get(It);At?At.exit?(fe.empty--,xe.add.push(At)):xe.mod.push(At):(At=K(Qe),fe.set(It,At),xe.add.push(At)),At.datum=Qe,At.exit=!1}),V.visit(V.MOD,Qe=>{let It=ue(Qe),At=fe.get(It);At&&(At.datum=Qe,xe.mod.push(At))}),V.visit(V.REM,Qe=>{let It=ue(Qe),At=fe.get(It);Qe===At.datum&&!At.exit&&(xe.rem.push(At),At.exit=!0,++fe.empty)}),V.changed(V.ADD_MOD)&&xe.modifies("datum"),(V.clean()||N.clean&&fe.empty>be.cleanThreshold)&&be.runAfter(fe.clean),xe}});function l(N){e.Transform.call(this,null,N)}r.inherits(l,e.Transform,{transform(N,V){var be=V.fork(V.ADD_REM),xe=N.mod||!1,K=N.encoders,ue=V.encode;if(r.isArray(ue))if(be.changed()||ue.every(C=>K[C]))ue=ue[0],be.encode=null;else return V.StopPropagation;var fe=ue==="enter",Qe=K.update||r.falsy,It=K.enter||r.falsy,At=K.exit||r.falsy,dn=(ue&&!fe?K[ue]:Qe)||r.falsy;if(V.changed(V.ADD)&&(V.visit(V.ADD,C=>{It(C,N),Qe(C,N)}),be.modifies(It.output),be.modifies(Qe.output),dn!==r.falsy&&dn!==Qe&&(V.visit(V.ADD,C=>{dn(C,N)}),be.modifies(dn.output))),V.changed(V.REM)&&At!==r.falsy&&(V.visit(V.REM,C=>{At(C,N)}),be.modifies(At.output)),fe||dn!==r.falsy){let C=V.MOD|(N.modified()?V.REFLOW:0);fe?(V.visit(C,B=>{let ee=It(B,N)||xe;(dn(B,N)||ee)&&be.mod.push(B)}),be.mod.length&&be.modifies(It.output)):V.visit(C,B=>{(dn(B,N)||xe)&&be.mod.push(B)}),be.mod.length&&be.modifies(dn.output)}return be.changed()?be:V.StopPropagation}});function f(N){e.Transform.call(this,[],N)}r.inherits(f,e.Transform,{transform(N,V){if(this.value!=null&&!N.modified())return V.StopPropagation;var be=V.dataflow.locale(),xe=V.fork(V.NO_SOURCE|V.NO_FIELDS),K=this.value,ue=N.type||t.SymbolLegend,fe=N.scale,Qe=+N.limit,It=t.tickCount(fe,N.count==null?5:N.count,N.minstep),At=!!N.values||ue===t.SymbolLegend,dn=N.format||t.labelFormat(be,fe,It,ue,N.formatSpecifier,N.formatType,At),C=N.values||t.labelValues(fe,It),B,ee,Se,ht,Tt;return K&&(xe.rem=K),ue===t.SymbolLegend?(Qe&&C.length>Qe?(V.dataflow.warn("Symbol legend count exceeds limit, filtering items."),K=C.slice(0,Qe-1),Tt=!0):K=C,r.isFunction(Se=N.size)?(!N.values&&fe(K[0])===0&&(K=K.slice(1)),ht=K.reduce((Zt,Xt)=>Math.max(Zt,Se(Xt,N)),0)):Se=r.constant(ht=Se||8),K=K.map((Zt,Xt)=>e.ingest({index:Xt,label:dn(Zt,Xt,K),value:Zt,offset:ht,size:Se(Zt,N)})),Tt&&(Tt=C[K.length],K.push(e.ingest({index:K.length,label:`\u2026${C.length-K.length} entries`,value:Tt,offset:ht,size:Se(Tt,N)})))):ue===t.GradientLegend?(B=fe.domain(),ee=t.scaleFraction(fe,B[0],r.peek(B)),C.length<3&&!N.values&&B[0]!==r.peek(B)&&(C=[B[0],r.peek(B)]),K=C.map((Zt,Xt)=>e.ingest({index:Xt,label:dn(Zt,Xt,C),value:Zt,perc:ee(Zt)}))):(Se=C.length-1,ee=t.labelFraction(fe),K=C.map((Zt,Xt)=>e.ingest({index:Xt,label:dn(Zt,Xt,C),value:Zt,perc:Xt?ee(Zt):0,perc2:Xt===Se?1:ee(C[Xt+1])}))),xe.source=K,xe.add=K,this.value=K,xe}});let p=N=>N.source.x,_=N=>N.source.y,b=N=>N.target.x,R=N=>N.target.y;function O(N){e.Transform.call(this,{},N)}O.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},r.inherits(O,e.Transform,{transform(N,V){var be=N.sourceX||p,xe=N.sourceY||_,K=N.targetX||b,ue=N.targetY||R,fe=N.as||"path",Qe=N.orient||"vertical",It=N.shape||"line",At=at.get(It+"-"+Qe)||at.get(It);return At||r.error("LinkPath unsupported type: "+N.shape+(N.orient?"-"+N.orient:"")),V.visit(V.SOURCE,dn=>{dn[fe]=At(be(dn),xe(dn),K(dn),ue(dn))}),V.reflow(N.modified()).modifies(fe)}});let j=(N,V,be,xe)=>"M"+N+","+V+"L"+be+","+xe,$=(N,V,be,xe)=>j(V*Math.cos(N),V*Math.sin(N),xe*Math.cos(be),xe*Math.sin(be)),L=(N,V,be,xe)=>{var K=be-N,ue=xe-V,fe=Math.sqrt(K*K+ue*ue)/2,Qe=180*Math.atan2(ue,K)/Math.PI;return"M"+N+","+V+"A"+fe+","+fe+" "+Qe+" 0 1 "+be+","+xe},q=(N,V,be,xe)=>L(V*Math.cos(N),V*Math.sin(N),xe*Math.cos(be),xe*Math.sin(be)),P=(N,V,be,xe)=>{let K=be-N,ue=xe-V,fe=.2*(K+ue),Qe=.2*(ue-K);return"M"+N+","+V+"C"+(N+fe)+","+(V+Qe)+" "+(be+Qe)+","+(xe-fe)+" "+be+","+xe},W=(N,V,be,xe)=>P(V*Math.cos(N),V*Math.sin(N),xe*Math.cos(be),xe*Math.sin(be)),oe=(N,V,be,xe)=>"M"+N+","+V+"V"+xe+"H"+be,I=(N,V,be,xe)=>"M"+N+","+V+"H"+be+"V"+xe,J=(N,V,be,xe)=>{let K=Math.cos(N),ue=Math.sin(N),fe=Math.cos(be),Qe=Math.sin(be),It=Math.abs(be-N)>Math.PI?be<=N:be>N;return"M"+V*K+","+V*ue+"A"+V+","+V+" 0 0,"+(It?1:0)+" "+V*fe+","+V*Qe+"L"+xe*fe+","+xe*Qe},he=(N,V,be,xe)=>{let K=(N+be)/2;return"M"+N+","+V+"C"+K+","+V+" "+K+","+xe+" "+be+","+xe},ye=(N,V,be,xe)=>{let K=(V+xe)/2;return"M"+N+","+V+"C"+N+","+K+" "+be+","+K+" "+be+","+xe},He=(N,V,be,xe)=>{let K=Math.cos(N),ue=Math.sin(N),fe=Math.cos(be),Qe=Math.sin(be),It=(V+xe)/2;return"M"+V*K+","+V*ue+"C"+It*K+","+It*ue+" "+It*fe+","+It*Qe+" "+xe*fe+","+xe*Qe},at=r.fastmap({line:j,"line-radial":$,arc:L,"arc-radial":q,curve:P,"curve-radial":W,"orthogonal-horizontal":oe,"orthogonal-vertical":I,"orthogonal-radial":J,"diagonal-horizontal":he,"diagonal-vertical":ye,"diagonal-radial":He});function ct(N,V,be){N=+N,V=+V,be=(K=arguments.length)<2?(V=N,N=0,1):K<3?1:+be;for(var xe=-1,K=Math.max(0,Math.ceil((V-N)/be))|0,ue=new Array(K);++xe<K;)ue[xe]=N+xe*be;return ue}function Ze(N,V){let be=0;if(V===void 0)for(let xe of N)(xe=+xe)&&(be+=xe);else{let xe=-1;for(let K of N)(K=+V(K,++xe,N))&&(be+=K)}return be}function bt(N){e.Transform.call(this,null,N)}bt.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},r.inherits(bt,e.Transform,{transform(N,V){var be=N.as||["startAngle","endAngle"],xe=be[0],K=be[1],ue=N.field||r.one,fe=N.startAngle||0,Qe=N.endAngle!=null?N.endAngle:2*Math.PI,It=V.source,At=It.map(ue),dn=At.length,C=fe,B=(Qe-fe)/Ze(At),ee=ct(dn),Se,ht,Tt;for(N.sort&&ee.sort((Zt,Xt)=>At[Zt]-At[Xt]),Se=0;Se<dn;++Se)Tt=At[ee[Se]],ht=It[ee[Se]],ht[xe]=C,ht[K]=C+=Tt*B;return this.value=At,V.reflow(N.modified()).modifies(be)}});function Mt(N,V,be){N.prototype=V.prototype=be,be.constructor=N}function qe(N,V){var be=Object.create(N.prototype);for(var xe in V)be[xe]=V[xe];return be}function te(){}var et=.7,Ee=1/et,ke="\\s*([+-]?\\d+)\\s*",Ce="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",pe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Je=/^#([0-9a-f]{3,8})$/,lt=new RegExp("^rgb\\("+[ke,ke,ke]+"\\)$"),Ht=new RegExp("^rgb\\("+[pe,pe,pe]+"\\)$"),wt=new RegExp("^rgba\\("+[ke,ke,ke,Ce]+"\\)$"),mn=new RegExp("^rgba\\("+[pe,pe,pe,Ce]+"\\)$"),kt=new RegExp("^hsl\\("+[Ce,pe,pe]+"\\)$"),Bt=new RegExp("^hsla\\("+[Ce,pe,pe,Ce]+"\\)$"),tn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mt(te,_e,{copy:function(N){return Object.assign(new this.constructor,this,N)},displayable:function(){return this.rgb().displayable()},hex:Et,formatHex:Et,formatHsl:ve,formatRgb:Le,toString:Le});function Et(){return this.rgb().formatHex()}function ve(){return Gt(this).formatHsl()}function Le(){return this.rgb().formatRgb()}function _e(N){var V,be;return N=(N+"").trim().toLowerCase(),(V=Je.exec(N))?(be=V[1].length,V=parseInt(V[1],16),be===6?ce(V):be===3?new Re(V>>8&15|V>>4&240,V>>4&15|V&240,(V&15)<<4|V&15,1):be===8?tt(V>>24&255,V>>16&255,V>>8&255,(V&255)/255):be===4?tt(V>>12&15|V>>8&240,V>>8&15|V>>4&240,V>>4&15|V&240,((V&15)<<4|V&15)/255):null):(V=lt.exec(N))?new Re(V[1],V[2],V[3],1):(V=Ht.exec(N))?new Re(V[1]*255/100,V[2]*255/100,V[3]*255/100,1):(V=wt.exec(N))?tt(V[1],V[2],V[3],V[4]):(V=mn.exec(N))?tt(V[1]*255/100,V[2]*255/100,V[3]*255/100,V[4]):(V=kt.exec(N))?Yt(V[1],V[2]/100,V[3]/100,1):(V=Bt.exec(N))?Yt(V[1],V[2]/100,V[3]/100,V[4]):tn.hasOwnProperty(N)?ce(tn[N]):N==="transparent"?new Re(NaN,NaN,NaN,0):null}function ce(N){return new Re(N>>16&255,N>>8&255,N&255,1)}function tt(N,V,be,xe){return xe<=0&&(N=V=be=NaN),new Re(N,V,be,xe)}function Ke(N){return N instanceof te||(N=_e(N)),N?(N=N.rgb(),new Re(N.r,N.g,N.b,N.opacity)):new Re}function re(N,V,be,xe){return arguments.length===1?Ke(N):new Re(N,V,be,xe??1)}function Re(N,V,be,xe){this.r=+N,this.g=+V,this.b=+be,this.opacity=+xe}Mt(Re,re,qe(te,{brighter:function(N){return N=N==null?Ee:Math.pow(Ee,N),new Re(this.r*N,this.g*N,this.b*N,this.opacity)},darker:function(N){return N=N==null?et:Math.pow(et,N),new Re(this.r*N,this.g*N,this.b*N,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nt,formatHex:nt,formatRgb:ft,toString:ft}));function nt(){return"#"+Rt(this.r)+Rt(this.g)+Rt(this.b)}function ft(){var N=this.opacity;return N=isNaN(N)?1:Math.max(0,Math.min(1,N)),(N===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(N===1?")":", "+N+")")}function Rt(N){return N=Math.max(0,Math.min(255,Math.round(N)||0)),(N<16?"0":"")+N.toString(16)}function Yt(N,V,be,xe){return xe<=0?N=V=be=NaN:be<=0||be>=1?N=V=NaN:V<=0&&(N=NaN),new gn(N,V,be,xe)}function Gt(N){if(N instanceof gn)return new gn(N.h,N.s,N.l,N.opacity);if(N instanceof te||(N=_e(N)),!N)return new gn;if(N instanceof gn)return N;N=N.rgb();var V=N.r/255,be=N.g/255,xe=N.b/255,K=Math.min(V,be,xe),ue=Math.max(V,be,xe),fe=NaN,Qe=ue-K,It=(ue+K)/2;return Qe?(V===ue?fe=(be-xe)/Qe+(be<xe)*6:be===ue?fe=(xe-V)/Qe+2:fe=(V-be)/Qe+4,Qe/=It<.5?ue+K:2-ue-K,fe*=60):Qe=It>0&&It<1?0:fe,new gn(fe,Qe,It,N.opacity)}function fn(N,V,be,xe){return arguments.length===1?Gt(N):new gn(N,V,be,xe??1)}function gn(N,V,be,xe){this.h=+N,this.s=+V,this.l=+be,this.opacity=+xe}Mt(gn,fn,qe(te,{brighter:function(N){return N=N==null?Ee:Math.pow(Ee,N),new gn(this.h,this.s,this.l*N,this.opacity)},darker:function(N){return N=N==null?et:Math.pow(et,N),new gn(this.h,this.s,this.l*N,this.opacity)},rgb:function(){var N=this.h%360+(this.h<0)*360,V=isNaN(N)||isNaN(this.s)?0:this.s,be=this.l,xe=be+(be<.5?be:1-be)*V,K=2*be-xe;return new Re(yn(N>=240?N-240:N+120,K,xe),yn(N,K,xe),yn(N<120?N+240:N-120,K,xe),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var N=this.opacity;return N=isNaN(N)?1:Math.max(0,Math.min(1,N)),(N===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(N===1?")":", "+N+")")}}));function yn(N,V,be){return(N<60?V+(be-V)*N/60:N<180?be:N<240?V+(be-V)*(240-N)/60:V)*255}var Lt=N=>()=>N;function un(N,V){return function(be){return N+be*V}}function Pn(N,V,be){return N=Math.pow(N,be),V=Math.pow(V,be)-N,be=1/be,function(xe){return Math.pow(N+xe*V,be)}}function nr(N){return(N=+N)==1?On:function(V,be){return be-V?Pn(V,be,N):Lt(isNaN(V)?be:V)}}function On(N,V){var be=V-N;return be?un(N,be):Lt(isNaN(N)?V:N)}var Ne=function N(V){var be=nr(V);function xe(K,ue){var fe=be((K=re(K)).r,(ue=re(ue)).r),Qe=be(K.g,ue.g),It=be(K.b,ue.b),At=On(K.opacity,ue.opacity);return function(dn){return K.r=fe(dn),K.g=Qe(dn),K.b=It(dn),K.opacity=At(dn),K+""}}return xe.gamma=N,xe}(1);function ze(N,V){V||(V=[]);var be=N?Math.min(V.length,N.length):0,xe=V.slice(),K;return function(ue){for(K=0;K<be;++K)xe[K]=N[K]*(1-ue)+V[K]*ue;return xe}}function De(N){return ArrayBuffer.isView(N)&&!(N instanceof DataView)}function Pt(N,V){var be=V?V.length:0,xe=N?Math.min(be,N.length):0,K=new Array(xe),ue=new Array(be),fe;for(fe=0;fe<xe;++fe)K[fe]=rr(N[fe],V[fe]);for(;fe<be;++fe)ue[fe]=V[fe];return function(Qe){for(fe=0;fe<xe;++fe)ue[fe]=K[fe](Qe);return ue}}function mt(N,V){var be=new Date;return N=+N,V=+V,function(xe){return be.setTime(N*(1-xe)+V*xe),be}}function xt(N,V){return N=+N,V=+V,function(be){return N*(1-be)+V*be}}function rn(N,V){var be={},xe={},K;(N===null||typeof N!="object")&&(N={}),(V===null||typeof V!="object")&&(V={});for(K in V)K in N?be[K]=rr(N[K],V[K]):xe[K]=V[K];return function(ue){for(K in be)xe[K]=be[K](ue);return xe}}var Qt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fn=new RegExp(Qt.source,"g");function Wn(N){return function(){return N}}function Zn(N){return function(V){return N(V)+""}}function Nn(N,V){var be=Qt.lastIndex=Fn.lastIndex=0,xe,K,ue,fe=-1,Qe=[],It=[];for(N=N+"",V=V+"";(xe=Qt.exec(N))&&(K=Fn.exec(V));)(ue=K.index)>be&&(ue=V.slice(be,ue),Qe[fe]?Qe[fe]+=ue:Qe[++fe]=ue),(xe=xe[0])===(K=K[0])?Qe[fe]?Qe[fe]+=K:Qe[++fe]=K:(Qe[++fe]=null,It.push({i:fe,x:xt(xe,K)})),be=Fn.lastIndex;return be<V.length&&(ue=V.slice(be),Qe[fe]?Qe[fe]+=ue:Qe[++fe]=ue),Qe.length<2?It[0]?Zn(It[0].x):Wn(V):(V=It.length,function(At){for(var dn=0,C;dn<V;++dn)Qe[(C=It[dn]).i]=C.x(At);return Qe.join("")})}function rr(N,V){var be=typeof V,xe;return V==null||be==="boolean"?Lt(V):(be==="number"?xt:be==="string"?(xe=_e(V))?(V=xe,Ne):Nn:V instanceof _e?Ne:V instanceof Date?mt:De(V)?ze:Array.isArray(V)?Pt:typeof V.valueOf!="function"&&typeof V.toString!="function"||isNaN(V)?rn:xt)(N,V)}function Ye(N,V){return N=+N,V=+V,function(be){return Math.round(N*(1-be)+V*be)}}let vt=5;function ae(N){let V=N.type;return!N.bins&&(V===t.Linear||V===t.Pow||V===t.Sqrt)}function Be(N){return t.isContinuous(N)&&N!==t.Sequential}let rt=r.toSet(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Dt(N){e.Transform.call(this,null,N),this.modified(!0)}r.inherits(Dt,e.Transform,{transform(N,V){var be=V.dataflow,xe=this.value,K=hn(N);(!xe||K!==xe.type)&&(this.value=xe=t.scale(K)());for(K in N)if(!rt[K]){if(K==="padding"&&Be(xe.type))continue;r.isFunction(xe[K])?xe[K](N[K]):be.warn("Unsupported scale property: "+K)}return St(xe,N,gt(xe,N,dt(xe,N,be))),V.fork(V.NO_SOURCE|V.NO_FIELDS)}});function hn(N){var V=N.type,be="",xe;return V===t.Sequential?t.Sequential+"-"+t.Linear:(an(N)&&(xe=N.rawDomain?N.rawDomain.length:N.domain?N.domain.length+ +(N.domainMid!=null):0,be=xe===2?t.Sequential+"-":xe===3?t.Diverging+"-":""),(be+V||t.Linear).toLowerCase())}function an(N){let V=N.type;return t.isContinuous(V)&&V!==t.Time&&V!==t.UTC&&(N.scheme||N.range&&N.range.length&&N.range.every(r.isString))}function dt(N,V,be){let xe=ie(N,V.domainRaw,be);if(xe>-1)return xe;var K=V.domain,ue=N.type,fe=V.zero||V.zero===void 0&&ae(N),Qe,It;if(!K)return 0;if(Be(ue)&&V.padding&&K[0]!==r.peek(K)&&(K=Te(ue,K,V.range,V.padding,V.exponent,V.constant)),(fe||V.domainMin!=null||V.domainMax!=null||V.domainMid!=null)&&(Qe=(K=K.slice()).length-1||1,fe&&(K[0]>0&&(K[0]=0),K[Qe]<0&&(K[Qe]=0)),V.domainMin!=null&&(K[0]=V.domainMin),V.domainMax!=null&&(K[Qe]=V.domainMax),V.domainMid!=null)){It=V.domainMid;let At=It>K[Qe]?Qe+1:It<K[0]?0:Qe;At!==Qe&&be.warn("Scale domainMid exceeds domain min or max.",It),K.splice(At,0,It)}return N.domain(Ue(ue,K,be)),ue===t.Ordinal&&N.unknown(V.domainImplicit?t.scaleImplicit:void 0),V.nice&&N.nice&&N.nice(V.nice!==!0&&t.tickCount(N,V.nice)||null),K.length}function ie(N,V,be){return V?(N.domain(Ue(N.type,V,be)),V.length):-1}function Te(N,V,be,xe,K,ue){var fe=Math.abs(r.peek(be)-be[0]),Qe=fe/(fe-2*xe),It=N===t.Log?r.zoomLog(V,null,Qe):N===t.Sqrt?r.zoomPow(V,null,Qe,.5):N===t.Pow?r.zoomPow(V,null,Qe,K||1):N===t.Symlog?r.zoomSymlog(V,null,Qe,ue||1):r.zoomLinear(V,null,Qe);return V=V.slice(),V[0]=It[0],V[V.length-1]=It[1],V}function Ue(N,V,be){if(t.isLogarithmic(N)){var xe=Math.abs(V.reduce((K,ue)=>K+(ue<0?-1:ue>0?1:0),0));xe!==V.length&&be.warn("Log scale domain includes zero: "+r.stringValue(V))}return V}function gt(N,V,be){let xe=V.bins;if(xe&&!r.isArray(xe)){let K=N.domain(),ue=K[0],fe=r.peek(K),Qe=xe.step,It=xe.start==null?ue:xe.start,At=xe.stop==null?fe:xe.stop;Qe||r.error("Scale bins parameter missing step property."),It<ue&&(It=Qe*Math.ceil(ue/Qe)),At>fe&&(At=Qe*Math.floor(fe/Qe)),xe=ct(It,At+Qe/2,Qe)}return xe?N.bins=xe:N.bins&&delete N.bins,N.type===t.BinOrdinal&&(xe?!V.domain&&!V.domainRaw&&(N.domain(xe),be=xe.length):N.bins=N.domain()),be}function St(N,V,be){var xe=N.type,K=V.round||!1,ue=V.range;if(V.rangeStep!=null)ue=Ot(xe,V,be);else if(V.scheme&&(ue=ne(xe,V,be),r.isFunction(ue))){if(N.interpolator)return N.interpolator(ue);r.error(`Scale type ${xe} does not support interpolating color schemes.`)}if(ue&&t.isInterpolating(xe))return N.interpolator(t.interpolateColors(We(ue,V.reverse),V.interpolate,V.interpolateGamma));ue&&V.interpolate&&N.interpolate?N.interpolate(t.interpolate(V.interpolate,V.interpolateGamma)):r.isFunction(N.round)?N.round(K):r.isFunction(N.rangeRound)&&N.interpolate(K?Ye:rr),ue&&N.range(We(ue,V.reverse))}function Ot(N,V,be){N!==t.Band&&N!==t.Point&&r.error("Only band and point scales support rangeStep.");var xe=(V.paddingOuter!=null?V.paddingOuter:V.padding)||0,K=N===t.Point?1:(V.paddingInner!=null?V.paddingInner:V.padding)||0;return[0,V.rangeStep*t.bandSpace(be,K,xe)]}function ne(N,V,be){var xe=V.schemeExtent,K,ue;return r.isArray(V.scheme)?ue=t.interpolateColors(V.scheme,V.interpolate,V.interpolateGamma):(K=V.scheme.toLowerCase(),ue=t.scheme(K),ue||r.error(`Unrecognized scheme name: ${V.scheme}`)),be=N===t.Threshold?be+1:N===t.BinOrdinal?be-1:N===t.Quantile||N===t.Quantize?+V.schemeCount||vt:be,t.isInterpolating(N)?we(ue,xe,V.reverse):r.isFunction(ue)?t.quantizeInterpolator(we(ue,xe),be):N===t.Ordinal?ue:ue.slice(0,be)}function we(N,V,be){return r.isFunction(N)&&(V||be)?t.interpolateRange(N,We(V||[0,1],be)):N}function We(N,V){return V?N.slice().reverse():N}function st(N){e.Transform.call(this,null,N)}r.inherits(st,e.Transform,{transform(N,V){let be=N.modified("sort")||V.changed(V.ADD)||V.modified(N.sort.fields)||V.modified("datum");return be&&V.source.sort(e.stableCompare(N.sort)),this.modified(be),V}});let Ut="zero",sn="center",wn="normalize",bn=["y0","y1"];function vn(N){e.Transform.call(this,null,N)}vn.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:Ut,values:[Ut,sn,wn]},{name:"as",type:"string",array:!0,length:2,default:bn}]},r.inherits(vn,e.Transform,{transform(N,V){var be=N.as||bn,xe=be[0],K=be[1],ue=e.stableCompare(N.sort),fe=N.field||r.one,Qe=N.offset===sn?zn:N.offset===wn?Oe:$e,It,At,dn,C;for(It=Ft(V.source,N.groupby,ue,fe),At=0,dn=It.length,C=It.max;At<dn;++At)Qe(It[At],C,fe,xe,K);return V.reflow(N.modified()).modifies(be)}});function zn(N,V,be,xe,K){for(var ue=(V-N.sum)/2,fe=N.length,Qe=0,It;Qe<fe;++Qe)It=N[Qe],It[xe]=ue,It[K]=ue+=Math.abs(be(It))}function Oe(N,V,be,xe,K){for(var ue=1/N.sum,fe=0,Qe=N.length,It=0,At=0,dn;It<Qe;++It)dn=N[It],dn[xe]=fe,dn[K]=fe=ue*(At+=Math.abs(be(dn)))}function $e(N,V,be,xe,K){for(var ue=0,fe=0,Qe=N.length,It=0,At,dn;It<Qe;++It)dn=N[It],At=+be(dn),At<0?(dn[xe]=fe,dn[K]=fe+=At):(dn[xe]=ue,dn[K]=ue+=At)}function Ft(N,V,be,xe){var K=[],ue=ht=>ht(dn),fe,Qe,It,At,dn,C,B,ee,Se;if(V==null)K.push(N.slice());else for(fe={},Qe=0,It=N.length;Qe<It;++Qe)dn=N[Qe],C=V.map(ue),B=fe[C],B||(fe[C]=B=[],K.push(B)),B.push(dn);for(C=0,Se=0,At=K.length;C<At;++C){for(B=K[C],Qe=0,ee=0,It=B.length;Qe<It;++Qe)ee+=Math.abs(xe(B[Qe]));B.sum=ee,ee>Se&&(Se=ee),be&&B.sort(be)}return K.max=Se,K}n.axisticks=i,n.datajoin=s,n.encode=l,n.legendentries=f,n.linkpath=O,n.pie=bt,n.scale=Dt,n.sortitems=st,n.stack=vn,Object.defineProperty(n,"__esModule",{value:!0})})});var Rle=Ae((gV,JDe)=>{m();(function(n,e){typeof gV=="object"&&typeof JDe!="undefined"?e(gV):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(gV,function(n){"use strict";class e{constructor(){this._partials=new Float64Array(32),this._n=0}add(yt){let Jt=this._partials,$t=0;for(let pn=0;pn<this._n&&pn<32;pn++){let Ln=Jt[pn],Kn=yt+Ln,$n=Math.abs(yt)<Math.abs(Ln)?yt-(Kn-Ln):Ln-(Kn-yt);$n&&(Jt[$t++]=$n),yt=Kn}return Jt[$t]=yt,this._n=$t+1,this}valueOf(){let yt=this._partials,Jt=this._n,$t,pn,Ln,Kn=0;if(Jt>0){for(Kn=yt[--Jt];Jt>0&&($t=Kn,pn=yt[--Jt],Kn=$t+pn,Ln=pn-(Kn-$t),!Ln););Jt>0&&(Ln<0&&yt[Jt-1]<0||Ln>0&&yt[Jt-1]>0)&&(pn=Ln*2,$t=Kn+pn,pn==$t-Kn&&(Kn=$t))}return Kn}}function*t(Ie){for(let yt of Ie)yield*yt}function r(Ie){return Array.from(t(Ie))}var i=1e-6,s=1e-12,o=Math.PI,a=o/2,l=o/4,f=o*2,p=180/o,_=o/180,b=Math.abs,R=Math.atan,O=Math.atan2,j=Math.cos,$=Math.exp,L=Math.log,q=Math.pow,P=Math.sin,W=Math.sign||function(Ie){return Ie>0?1:Ie<0?-1:0},oe=Math.sqrt,I=Math.tan;function J(Ie){return Ie>1?0:Ie<-1?o:Math.acos(Ie)}function he(Ie){return Ie>1?a:Ie<-1?-a:Math.asin(Ie)}function ye(){}function He(Ie,yt){Ie&&ct.hasOwnProperty(Ie.type)&&ct[Ie.type](Ie,yt)}var at={Feature:function(Ie,yt){He(Ie.geometry,yt)},FeatureCollection:function(Ie,yt){for(var Jt=Ie.features,$t=-1,pn=Jt.length;++$t<pn;)He(Jt[$t].geometry,yt)}},ct={Sphere:function(Ie,yt){yt.sphere()},Point:function(Ie,yt){Ie=Ie.coordinates,yt.point(Ie[0],Ie[1],Ie[2])},MultiPoint:function(Ie,yt){for(var Jt=Ie.coordinates,$t=-1,pn=Jt.length;++$t<pn;)Ie=Jt[$t],yt.point(Ie[0],Ie[1],Ie[2])},LineString:function(Ie,yt){Ze(Ie.coordinates,yt,0)},MultiLineString:function(Ie,yt){for(var Jt=Ie.coordinates,$t=-1,pn=Jt.length;++$t<pn;)Ze(Jt[$t],yt,0)},Polygon:function(Ie,yt){bt(Ie.coordinates,yt)},MultiPolygon:function(Ie,yt){for(var Jt=Ie.coordinates,$t=-1,pn=Jt.length;++$t<pn;)bt(Jt[$t],yt)},GeometryCollection:function(Ie,yt){for(var Jt=Ie.geometries,$t=-1,pn=Jt.length;++$t<pn;)He(Jt[$t],yt)}};function Ze(Ie,yt,Jt){var $t=-1,pn=Ie.length-Jt,Ln;for(yt.lineStart();++$t<pn;)Ln=Ie[$t],yt.point(Ln[0],Ln[1],Ln[2]);yt.lineEnd()}function bt(Ie,yt){var Jt=-1,$t=Ie.length;for(yt.polygonStart();++Jt<$t;)Ze(Ie[Jt],yt,1);yt.polygonEnd()}function Mt(Ie,yt){Ie&&at.hasOwnProperty(Ie.type)?at[Ie.type](Ie,yt):He(Ie,yt)}function qe(Ie){return[O(Ie[1],Ie[0]),he(Ie[2])]}function te(Ie){var yt=Ie[0],Jt=Ie[1],$t=j(Jt);return[$t*j(yt),$t*P(yt),P(Jt)]}function et(Ie,yt){return Ie[0]*yt[0]+Ie[1]*yt[1]+Ie[2]*yt[2]}function Ee(Ie,yt){return[Ie[1]*yt[2]-Ie[2]*yt[1],Ie[2]*yt[0]-Ie[0]*yt[2],Ie[0]*yt[1]-Ie[1]*yt[0]]}function ke(Ie,yt){Ie[0]+=yt[0],Ie[1]+=yt[1],Ie[2]+=yt[2]}function Ce(Ie,yt){return[Ie[0]*yt,Ie[1]*yt,Ie[2]*yt]}function pe(Ie){var yt=oe(Ie[0]*Ie[0]+Ie[1]*Ie[1]+Ie[2]*Ie[2]);Ie[0]/=yt,Ie[1]/=yt,Ie[2]/=yt}function Je(Ie,yt){function Jt($t,pn){return $t=Ie($t,pn),yt($t[0],$t[1])}return Ie.invert&&yt.invert&&(Jt.invert=function($t,pn){return $t=yt.invert($t,pn),$t&&Ie.invert($t[0],$t[1])}),Jt}function lt(Ie,yt){return[b(Ie)>o?Ie+Math.round(-Ie/f)*f:Ie,yt]}lt.invert=lt;function Ht(Ie,yt,Jt){return(Ie%=f)?yt||Jt?Je(mn(Ie),kt(yt,Jt)):mn(Ie):yt||Jt?kt(yt,Jt):lt}function wt(Ie){return function(yt,Jt){return yt+=Ie,[yt>o?yt-f:yt<-o?yt+f:yt,Jt]}}function mn(Ie){var yt=wt(Ie);return yt.invert=wt(-Ie),yt}function kt(Ie,yt){var Jt=j(Ie),$t=P(Ie),pn=j(yt),Ln=P(yt);function Kn($n,Er){var wr=j(Er),Gn=j($n)*wr,ar=P($n)*wr,tr=P(Er),gr=tr*Jt+Gn*$t;return[O(ar*pn-gr*Ln,Gn*Jt-tr*$t),he(gr*pn+ar*Ln)]}return Kn.invert=function($n,Er){var wr=j(Er),Gn=j($n)*wr,ar=P($n)*wr,tr=P(Er),gr=tr*pn-ar*Ln;return[O(ar*pn+tr*Ln,Gn*Jt+gr*$t),he(gr*Jt-Gn*$t)]},Kn}function Bt(Ie){Ie=Ht(Ie[0]*_,Ie[1]*_,Ie.length>2?Ie[2]*_:0);function yt(Jt){return Jt=Ie(Jt[0]*_,Jt[1]*_),Jt[0]*=p,Jt[1]*=p,Jt}return yt.invert=function(Jt){return Jt=Ie.invert(Jt[0]*_,Jt[1]*_),Jt[0]*=p,Jt[1]*=p,Jt},yt}function tn(Ie,yt,Jt,$t,pn,Ln){if(!!Jt){var Kn=j(yt),$n=P(yt),Er=$t*Jt;pn==null?(pn=yt+$t*f,Ln=yt-Er/2):(pn=Et(Kn,pn),Ln=Et(Kn,Ln),($t>0?pn<Ln:pn>Ln)&&(pn+=$t*f));for(var wr,Gn=pn;$t>0?Gn>Ln:Gn<Ln;Gn-=Er)wr=qe([Kn,-$n*j(Gn),-$n*P(Gn)]),Ie.point(wr[0],wr[1])}}function Et(Ie,yt){yt=te(yt),yt[0]-=Ie,pe(yt);var Jt=J(-yt[1]);return((-yt[2]<0?-Jt:Jt)+f-i)%f}function ve(){var Ie=[],yt;return{point:function(Jt,$t,pn){yt.push([Jt,$t,pn])},lineStart:function(){Ie.push(yt=[])},lineEnd:ye,rejoin:function(){Ie.length>1&&Ie.push(Ie.pop().concat(Ie.shift()))},result:function(){var Jt=Ie;return Ie=[],yt=null,Jt}}}function Le(Ie,yt){return b(Ie[0]-yt[0])<i&&b(Ie[1]-yt[1])<i}function _e(Ie,yt,Jt,$t){this.x=Ie,this.z=yt,this.o=Jt,this.e=$t,this.v=!1,this.n=this.p=null}function ce(Ie,yt,Jt,$t,pn){var Ln=[],Kn=[],$n,Er;if(Ie.forEach(function(Or){if(!((di=Or.length-1)<=0)){var di,ni=Or[0],pi=Or[di],ii;if(Le(ni,pi)){if(!ni[2]&&!pi[2]){for(pn.lineStart(),$n=0;$n<di;++$n)pn.point((ni=Or[$n])[0],ni[1]);pn.lineEnd();return}pi[0]+=2*i}Ln.push(ii=new _e(ni,Or,null,!0)),Kn.push(ii.o=new _e(ni,null,ii,!1)),Ln.push(ii=new _e(pi,Or,null,!1)),Kn.push(ii.o=new _e(pi,null,ii,!0))}}),!!Ln.length){for(Kn.sort(yt),tt(Ln),tt(Kn),$n=0,Er=Kn.length;$n<Er;++$n)Kn[$n].e=Jt=!Jt;for(var wr=Ln[0],Gn,ar;;){for(var tr=wr,gr=!0;tr.v;)if((tr=tr.n)===wr)return;Gn=tr.z,pn.lineStart();do{if(tr.v=tr.o.v=!0,tr.e){if(gr)for($n=0,Er=Gn.length;$n<Er;++$n)pn.point((ar=Gn[$n])[0],ar[1]);else $t(tr.x,tr.n.x,1,pn);tr=tr.n}else{if(gr)for(Gn=tr.p.z,$n=Gn.length-1;$n>=0;--$n)pn.point((ar=Gn[$n])[0],ar[1]);else $t(tr.x,tr.p.x,-1,pn);tr=tr.p}tr=tr.o,Gn=tr.z,gr=!gr}while(!tr.v);pn.lineEnd()}}}function tt(Ie){if(!!(yt=Ie.length)){for(var yt,Jt=0,$t=Ie[0],pn;++Jt<yt;)$t.n=pn=Ie[Jt],pn.p=$t,$t=pn;$t.n=pn=Ie[0],pn.p=$t}}function Ke(Ie){return b(Ie[0])<=o?Ie[0]:W(Ie[0])*((b(Ie[0])+o)%f-o)}function re(Ie,yt){var Jt=Ke(yt),$t=yt[1],pn=P($t),Ln=[P(Jt),-j(Jt),0],Kn=0,$n=0,Er=new e;pn===1?$t=a+i:pn===-1&&($t=-a-i);for(var wr=0,Gn=Ie.length;wr<Gn;++wr)if(!!(tr=(ar=Ie[wr]).length))for(var ar,tr,gr=ar[tr-1],Or=Ke(gr),di=gr[1]/2+l,ni=P(di),pi=j(di),ii=0;ii<tr;++ii,Or=Ir,ni=gi,pi=os,gr=qr){var qr=ar[ii],Ir=Ke(qr),yi=qr[1]/2+l,gi=P(yi),os=j(yi),xs=Ir-Or,vi=xs>=0?1:-1,Bs=vi*xs,ss=Bs>o,ya=ni*gi;if(Er.add(O(ya*vi*P(Bs),pi*os+ya*j(Bs))),Kn+=ss?xs+vi*f:xs,ss^Or>=Jt^Ir>=Jt){var No=Ee(te(gr),te(qr));pe(No);var Ts=Ee(Ln,No);pe(Ts);var nn=(ss^xs>=0?-1:1)*he(Ts[2]);($t>nn||$t===nn&&(No[0]||No[1]))&&($n+=ss^xs>=0?1:-1)}}return(Kn<-i||Kn<i&&Er<-s)^$n&1}function Re(Ie,yt,Jt,$t){return function(pn){var Ln=yt(pn),Kn=ve(),$n=yt(Kn),Er=!1,wr,Gn,ar,tr={point:gr,lineStart:di,lineEnd:ni,polygonStart:function(){tr.point=pi,tr.lineStart=ii,tr.lineEnd=qr,Gn=[],wr=[]},polygonEnd:function(){tr.point=gr,tr.lineStart=di,tr.lineEnd=ni,Gn=r(Gn);var Ir=re(wr,$t);Gn.length?(Er||(pn.polygonStart(),Er=!0),ce(Gn,ft,Ir,Jt,pn)):Ir&&(Er||(pn.polygonStart(),Er=!0),pn.lineStart(),Jt(null,null,1,pn),pn.lineEnd()),Er&&(pn.polygonEnd(),Er=!1),Gn=wr=null},sphere:function(){pn.polygonStart(),pn.lineStart(),Jt(null,null,1,pn),pn.lineEnd(),pn.polygonEnd()}};function gr(Ir,yi){Ie(Ir,yi)&&pn.point(Ir,yi)}function Or(Ir,yi){Ln.point(Ir,yi)}function di(){tr.point=Or,Ln.lineStart()}function ni(){tr.point=gr,Ln.lineEnd()}function pi(Ir,yi){ar.push([Ir,yi]),$n.point(Ir,yi)}function ii(){$n.lineStart(),ar=[]}function qr(){pi(ar[0][0],ar[0][1]),$n.lineEnd();var Ir=$n.clean(),yi=Kn.result(),gi,os=yi.length,xs,vi,Bs;if(ar.pop(),wr.push(ar),ar=null,!!os){if(Ir&1){if(vi=yi[0],(xs=vi.length-1)>0){for(Er||(pn.polygonStart(),Er=!0),pn.lineStart(),gi=0;gi<xs;++gi)pn.point((Bs=vi[gi])[0],Bs[1]);pn.lineEnd()}return}os>1&&Ir&2&&yi.push(yi.pop().concat(yi.shift())),Gn.push(yi.filter(nt))}}return tr}}function nt(Ie){return Ie.length>1}function ft(Ie,yt){return((Ie=Ie.x)[0]<0?Ie[1]-a-i:a-Ie[1])-((yt=yt.x)[0]<0?yt[1]-a-i:a-yt[1])}var Rt=Re(function(){return!0},Yt,fn,[-o,-a]);function Yt(Ie){var yt=NaN,Jt=NaN,$t=NaN,pn;return{lineStart:function(){Ie.lineStart(),pn=1},point:function(Ln,Kn){var $n=Ln>0?o:-o,Er=b(Ln-yt);b(Er-o)<i?(Ie.point(yt,Jt=(Jt+Kn)/2>0?a:-a),Ie.point($t,Jt),Ie.lineEnd(),Ie.lineStart(),Ie.point($n,Jt),Ie.point(Ln,Jt),pn=0):$t!==$n&&Er>=o&&(b(yt-$t)<i&&(yt-=$t*i),b(Ln-$n)<i&&(Ln-=$n*i),Jt=Gt(yt,Jt,Ln,Kn),Ie.point($t,Jt),Ie.lineEnd(),Ie.lineStart(),Ie.point($n,Jt),pn=0),Ie.point(yt=Ln,Jt=Kn),$t=$n},lineEnd:function(){Ie.lineEnd(),yt=Jt=NaN},clean:function(){return 2-pn}}}function Gt(Ie,yt,Jt,$t){var pn,Ln,Kn=P(Ie-Jt);return b(Kn)>i?R((P(yt)*(Ln=j($t))*P(Jt)-P($t)*(pn=j(yt))*P(Ie))/(pn*Ln*Kn)):(yt+$t)/2}function fn(Ie,yt,Jt,$t){var pn;if(Ie==null)pn=Jt*a,$t.point(-o,pn),$t.point(0,pn),$t.point(o,pn),$t.point(o,0),$t.point(o,-pn),$t.point(0,-pn),$t.point(-o,-pn),$t.point(-o,0),$t.point(-o,pn);else if(b(Ie[0]-yt[0])>i){var Ln=Ie[0]<yt[0]?o:-o;pn=Jt*Ln/2,$t.point(-Ln,pn),$t.point(0,pn),$t.point(Ln,pn)}else $t.point(yt[0],yt[1])}function gn(Ie){var yt=j(Ie),Jt=6*_,$t=yt>0,pn=b(yt)>i;function Ln(Gn,ar,tr,gr){tn(gr,Ie,Jt,tr,Gn,ar)}function Kn(Gn,ar){return j(Gn)*j(ar)>yt}function $n(Gn){var ar,tr,gr,Or,di;return{lineStart:function(){Or=gr=!1,di=1},point:function(ni,pi){var ii=[ni,pi],qr,Ir=Kn(ni,pi),yi=$t?Ir?0:wr(ni,pi):Ir?wr(ni+(ni<0?o:-o),pi):0;if(!ar&&(Or=gr=Ir)&&Gn.lineStart(),Ir!==gr&&(qr=Er(ar,ii),(!qr||Le(ar,qr)||Le(ii,qr))&&(ii[2]=1)),Ir!==gr)di=0,Ir?(Gn.lineStart(),qr=Er(ii,ar),Gn.point(qr[0],qr[1])):(qr=Er(ar,ii),Gn.point(qr[0],qr[1],2),Gn.lineEnd()),ar=qr;else if(pn&&ar&&$t^Ir){var gi;!(yi&tr)&&(gi=Er(ii,ar,!0))&&(di=0,$t?(Gn.lineStart(),Gn.point(gi[0][0],gi[0][1]),Gn.point(gi[1][0],gi[1][1]),Gn.lineEnd()):(Gn.point(gi[1][0],gi[1][1]),Gn.lineEnd(),Gn.lineStart(),Gn.point(gi[0][0],gi[0][1],3)))}Ir&&(!ar||!Le(ar,ii))&&Gn.point(ii[0],ii[1]),ar=ii,gr=Ir,tr=yi},lineEnd:function(){gr&&Gn.lineEnd(),ar=null},clean:function(){return di|(Or&&gr)<<1}}}function Er(Gn,ar,tr){var gr=te(Gn),Or=te(ar),di=[1,0,0],ni=Ee(gr,Or),pi=et(ni,ni),ii=ni[0],qr=pi-ii*ii;if(!qr)return!tr&&Gn;var Ir=yt*pi/qr,yi=-yt*ii/qr,gi=Ee(di,ni),os=Ce(di,Ir),xs=Ce(ni,yi);ke(os,xs);var vi=gi,Bs=et(os,vi),ss=et(vi,vi),ya=Bs*Bs-ss*(et(os,os)-1);if(!(ya<0)){var No=oe(ya),Ts=Ce(vi,(-Bs-No)/ss);if(ke(Ts,os),Ts=qe(Ts),!tr)return Ts;var nn=Gn[0],Jn=ar[0],En=Gn[1],Yr=ar[1],Ti;Jn<nn&&(Ti=nn,nn=Jn,Jn=Ti);var ns=Jn-nn,ms=b(ns-o)<i,Hi=ms||ns<i;if(!ms&&Yr<En&&(Ti=En,En=Yr,Yr=Ti),Hi?ms?En+Yr>0^Ts[1]<(b(Ts[0]-nn)<i?En:Yr):En<=Ts[1]&&Ts[1]<=Yr:ns>o^(nn<=Ts[0]&&Ts[0]<=Jn)){var fs=Ce(vi,(-Bs+No)/ss);return ke(fs,os),[Ts,qe(fs)]}}}function wr(Gn,ar){var tr=$t?Ie:o-Ie,gr=0;return Gn<-tr?gr|=1:Gn>tr&&(gr|=2),ar<-tr?gr|=4:ar>tr&&(gr|=8),gr}return Re(Kn,$n,Ln,$t?[0,-Ie]:[-o,Ie-o])}function yn(Ie,yt,Jt,$t,pn,Ln){var Kn=Ie[0],$n=Ie[1],Er=yt[0],wr=yt[1],Gn=0,ar=1,tr=Er-Kn,gr=wr-$n,Or;if(Or=Jt-Kn,!(!tr&&Or>0)){if(Or/=tr,tr<0){if(Or<Gn)return;Or<ar&&(ar=Or)}else if(tr>0){if(Or>ar)return;Or>Gn&&(Gn=Or)}if(Or=pn-Kn,!(!tr&&Or<0)){if(Or/=tr,tr<0){if(Or>ar)return;Or>Gn&&(Gn=Or)}else if(tr>0){if(Or<Gn)return;Or<ar&&(ar=Or)}if(Or=$t-$n,!(!gr&&Or>0)){if(Or/=gr,gr<0){if(Or<Gn)return;Or<ar&&(ar=Or)}else if(gr>0){if(Or>ar)return;Or>Gn&&(Gn=Or)}if(Or=Ln-$n,!(!gr&&Or<0)){if(Or/=gr,gr<0){if(Or>ar)return;Or>Gn&&(Gn=Or)}else if(gr>0){if(Or<Gn)return;Or<ar&&(ar=Or)}return Gn>0&&(Ie[0]=Kn+Gn*tr,Ie[1]=$n+Gn*gr),ar<1&&(yt[0]=Kn+ar*tr,yt[1]=$n+ar*gr),!0}}}}}var Lt=1e9,un=-Lt;function Pn(Ie,yt,Jt,$t){function pn(wr,Gn){return Ie<=wr&&wr<=Jt&&yt<=Gn&&Gn<=$t}function Ln(wr,Gn,ar,tr){var gr=0,Or=0;if(wr==null||(gr=Kn(wr,ar))!==(Or=Kn(Gn,ar))||Er(wr,Gn)<0^ar>0)do tr.point(gr===0||gr===3?Ie:Jt,gr>1?$t:yt);while((gr=(gr+ar+4)%4)!==Or);else tr.point(Gn[0],Gn[1])}function Kn(wr,Gn){return b(wr[0]-Ie)<i?Gn>0?0:3:b(wr[0]-Jt)<i?Gn>0?2:1:b(wr[1]-yt)<i?Gn>0?1:0:Gn>0?3:2}function $n(wr,Gn){return Er(wr.x,Gn.x)}function Er(wr,Gn){var ar=Kn(wr,1),tr=Kn(Gn,1);return ar!==tr?ar-tr:ar===0?Gn[1]-wr[1]:ar===1?wr[0]-Gn[0]:ar===2?wr[1]-Gn[1]:Gn[0]-wr[0]}return function(wr){var Gn=wr,ar=ve(),tr,gr,Or,di,ni,pi,ii,qr,Ir,yi,gi,os={point:xs,lineStart:ya,lineEnd:No,polygonStart:Bs,polygonEnd:ss};function xs(nn,Jn){pn(nn,Jn)&&Gn.point(nn,Jn)}function vi(){for(var nn=0,Jn=0,En=gr.length;Jn<En;++Jn)for(var Yr=gr[Jn],Ti=1,ns=Yr.length,ms=Yr[0],Hi,fs,mu=ms[0],le=ms[1];Ti<ns;++Ti)Hi=mu,fs=le,ms=Yr[Ti],mu=ms[0],le=ms[1],fs<=$t?le>$t&&(mu-Hi)*($t-fs)>(le-fs)*(Ie-Hi)&&++nn:le<=$t&&(mu-Hi)*($t-fs)<(le-fs)*(Ie-Hi)&&--nn;return nn}function Bs(){Gn=ar,tr=[],gr=[],gi=!0}function ss(){var nn=vi(),Jn=gi&&nn,En=(tr=r(tr)).length;(Jn||En)&&(wr.polygonStart(),Jn&&(wr.lineStart(),Ln(null,null,1,wr),wr.lineEnd()),En&&ce(tr,$n,nn,Ln,wr),wr.polygonEnd()),Gn=wr,tr=gr=Or=null}function ya(){os.point=Ts,gr&&gr.push(Or=[]),yi=!0,Ir=!1,ii=qr=NaN}function No(){tr&&(Ts(di,ni),pi&&Ir&&ar.rejoin(),tr.push(ar.result())),os.point=xs,Ir&&Gn.lineEnd()}function Ts(nn,Jn){var En=pn(nn,Jn);if(gr&&Or.push([nn,Jn]),yi)di=nn,ni=Jn,pi=En,yi=!1,En&&(Gn.lineStart(),Gn.point(nn,Jn));else if(En&&Ir)Gn.point(nn,Jn);else{var Yr=[ii=Math.max(un,Math.min(Lt,ii)),qr=Math.max(un,Math.min(Lt,qr))],Ti=[nn=Math.max(un,Math.min(Lt,nn)),Jn=Math.max(un,Math.min(Lt,Jn))];yn(Yr,Ti,Ie,yt,Jt,$t)?(Ir||(Gn.lineStart(),Gn.point(Yr[0],Yr[1])),Gn.point(Ti[0],Ti[1]),En||Gn.lineEnd(),gi=!1):En&&(Gn.lineStart(),Gn.point(nn,Jn),gi=!1)}ii=nn,qr=Jn,Ir=En}return os}}var nr=Ie=>Ie,On=new e,Ne=new e,ze,De,Pt,mt,xt={point:ye,lineStart:ye,lineEnd:ye,polygonStart:function(){xt.lineStart=rn,xt.lineEnd=Wn},polygonEnd:function(){xt.lineStart=xt.lineEnd=xt.point=ye,On.add(b(Ne)),Ne=new e},result:function(){var Ie=On/2;return On=new e,Ie}};function rn(){xt.point=Qt}function Qt(Ie,yt){xt.point=Fn,ze=Pt=Ie,De=mt=yt}function Fn(Ie,yt){Ne.add(mt*Ie-Pt*yt),Pt=Ie,mt=yt}function Wn(){Fn(ze,De)}var Zn=xt,Nn=1/0,rr=Nn,Ye=-Nn,vt=Ye,ae={point:Be,lineStart:ye,lineEnd:ye,polygonStart:ye,polygonEnd:ye,result:function(){var Ie=[[Nn,rr],[Ye,vt]];return Ye=vt=-(rr=Nn=1/0),Ie}};function Be(Ie,yt){Ie<Nn&&(Nn=Ie),Ie>Ye&&(Ye=Ie),yt<rr&&(rr=yt),yt>vt&&(vt=yt)}var rt=ae,Dt=0,hn=0,an=0,dt=0,ie=0,Te=0,Ue=0,gt=0,St=0,Ot,ne,we,We,st={point:Ut,lineStart:sn,lineEnd:vn,polygonStart:function(){st.lineStart=zn,st.lineEnd=Oe},polygonEnd:function(){st.point=Ut,st.lineStart=sn,st.lineEnd=vn},result:function(){var Ie=St?[Ue/St,gt/St]:Te?[dt/Te,ie/Te]:an?[Dt/an,hn/an]:[NaN,NaN];return Dt=hn=an=dt=ie=Te=Ue=gt=St=0,Ie}};function Ut(Ie,yt){Dt+=Ie,hn+=yt,++an}function sn(){st.point=wn}function wn(Ie,yt){st.point=bn,Ut(we=Ie,We=yt)}function bn(Ie,yt){var Jt=Ie-we,$t=yt-We,pn=oe(Jt*Jt+$t*$t);dt+=pn*(we+Ie)/2,ie+=pn*(We+yt)/2,Te+=pn,Ut(we=Ie,We=yt)}function vn(){st.point=Ut}function zn(){st.point=$e}function Oe(){Ft(Ot,ne)}function $e(Ie,yt){st.point=Ft,Ut(Ot=we=Ie,ne=We=yt)}function Ft(Ie,yt){var Jt=Ie-we,$t=yt-We,pn=oe(Jt*Jt+$t*$t);dt+=pn*(we+Ie)/2,ie+=pn*(We+yt)/2,Te+=pn,pn=We*Ie-we*yt,Ue+=pn*(we+Ie),gt+=pn*(We+yt),St+=pn*3,Ut(we=Ie,We=yt)}var N=st;function V(Ie){this._context=Ie}V.prototype={_radius:4.5,pointRadius:function(Ie){return this._radius=Ie,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Ie,yt){switch(this._point){case 0:{this._context.moveTo(Ie,yt),this._point=1;break}case 1:{this._context.lineTo(Ie,yt);break}default:{this._context.moveTo(Ie+this._radius,yt),this._context.arc(Ie,yt,this._radius,0,f);break}}},result:ye};var be=new e,xe,K,ue,fe,Qe,It={point:ye,lineStart:function(){It.point=At},lineEnd:function(){xe&&dn(K,ue),It.point=ye},polygonStart:function(){xe=!0},polygonEnd:function(){xe=null},result:function(){var Ie=+be;return be=new e,Ie}};function At(Ie,yt){It.point=dn,K=fe=Ie,ue=Qe=yt}function dn(Ie,yt){fe-=Ie,Qe-=yt,be.add(oe(fe*fe+Qe*Qe)),fe=Ie,Qe=yt}var C=It;function B(){this._string=[]}B.prototype={_radius:4.5,_circle:ee(4.5),pointRadius:function(Ie){return(Ie=+Ie)!==this._radius&&(this._radius=Ie,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Ie,yt){switch(this._point){case 0:{this._string.push("M",Ie,",",yt),this._point=1;break}case 1:{this._string.push("L",Ie,",",yt);break}default:{this._circle==null&&(this._circle=ee(this._radius)),this._string.push("M",Ie,",",yt,this._circle);break}}},result:function(){if(this._string.length){var Ie=this._string.join("");return this._string=[],Ie}else return null}};function ee(Ie){return"m0,"+Ie+"a"+Ie+","+Ie+" 0 1,1 0,"+-2*Ie+"a"+Ie+","+Ie+" 0 1,1 0,"+2*Ie+"z"}function Se(Ie,yt){var Jt=4.5,$t,pn;function Ln(Kn){return Kn&&(typeof Jt=="function"&&pn.pointRadius(+Jt.apply(this,arguments)),Mt(Kn,$t(pn))),pn.result()}return Ln.area=function(Kn){return Mt(Kn,$t(Zn)),Zn.result()},Ln.measure=function(Kn){return Mt(Kn,$t(C)),C.result()},Ln.bounds=function(Kn){return Mt(Kn,$t(rt)),rt.result()},Ln.centroid=function(Kn){return Mt(Kn,$t(N)),N.result()},Ln.projection=function(Kn){return arguments.length?($t=Kn==null?(Ie=null,nr):(Ie=Kn).stream,Ln):Ie},Ln.context=function(Kn){return arguments.length?(pn=Kn==null?(yt=null,new B):new V(yt=Kn),typeof Jt!="function"&&pn.pointRadius(Jt),Ln):yt},Ln.pointRadius=function(Kn){return arguments.length?(Jt=typeof Kn=="function"?Kn:(pn.pointRadius(+Kn),+Kn),Ln):Jt},Ln.projection(Ie).context(yt)}function ht(Ie){return function(yt){var Jt=new Tt;for(var $t in Ie)Jt[$t]=Ie[$t];return Jt.stream=yt,Jt}}function Tt(){}Tt.prototype={constructor:Tt,point:function(Ie,yt){this.stream.point(Ie,yt)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Zt(Ie,yt,Jt){var $t=Ie.clipExtent&&Ie.clipExtent();return Ie.scale(150).translate([0,0]),$t!=null&&Ie.clipExtent(null),Mt(Jt,Ie.stream(rt)),yt(rt.result()),$t!=null&&Ie.clipExtent($t),Ie}function Xt(Ie,yt,Jt){return Zt(Ie,function($t){var pn=yt[1][0]-yt[0][0],Ln=yt[1][1]-yt[0][1],Kn=Math.min(pn/($t[1][0]-$t[0][0]),Ln/($t[1][1]-$t[0][1])),$n=+yt[0][0]+(pn-Kn*($t[1][0]+$t[0][0]))/2,Er=+yt[0][1]+(Ln-Kn*($t[1][1]+$t[0][1]))/2;Ie.scale(150*Kn).translate([$n,Er])},Jt)}function xn(Ie,yt,Jt){return Xt(Ie,[[0,0],yt],Jt)}function qn(Ie,yt,Jt){return Zt(Ie,function($t){var pn=+yt,Ln=pn/($t[1][0]-$t[0][0]),Kn=(pn-Ln*($t[1][0]+$t[0][0]))/2,$n=-Ln*$t[0][1];Ie.scale(150*Ln).translate([Kn,$n])},Jt)}function Un(Ie,yt,Jt){return Zt(Ie,function($t){var pn=+yt,Ln=pn/($t[1][1]-$t[0][1]),Kn=-Ln*$t[0][0],$n=(pn-Ln*($t[1][1]+$t[0][1]))/2;Ie.scale(150*Ln).translate([Kn,$n])},Jt)}var Vn=16,Jr=j(30*_);function Wr(Ie,yt){return+yt?Mr(Ie,yt):yr(Ie)}function yr(Ie){return ht({point:function(yt,Jt){yt=Ie(yt,Jt),this.stream.point(yt[0],yt[1])}})}function Mr(Ie,yt){function Jt($t,pn,Ln,Kn,$n,Er,wr,Gn,ar,tr,gr,Or,di,ni){var pi=wr-$t,ii=Gn-pn,qr=pi*pi+ii*ii;if(qr>4*yt&&di--){var Ir=Kn+tr,yi=$n+gr,gi=Er+Or,os=oe(Ir*Ir+yi*yi+gi*gi),xs=he(gi/=os),vi=b(b(gi)-1)<i||b(Ln-ar)<i?(Ln+ar)/2:O(yi,Ir),Bs=Ie(vi,xs),ss=Bs[0],ya=Bs[1],No=ss-$t,Ts=ya-pn,nn=ii*No-pi*Ts;(nn*nn/qr>yt||b((pi*No+ii*Ts)/qr-.5)>.3||Kn*tr+$n*gr+Er*Or<Jr)&&(Jt($t,pn,Ln,Kn,$n,Er,ss,ya,vi,Ir/=os,yi/=os,gi,di,ni),ni.point(ss,ya),Jt(ss,ya,vi,Ir,yi,gi,wr,Gn,ar,tr,gr,Or,di,ni))}}return function($t){var pn,Ln,Kn,$n,Er,wr,Gn,ar,tr,gr,Or,di,ni={point:pi,lineStart:ii,lineEnd:Ir,polygonStart:function(){$t.polygonStart(),ni.lineStart=yi},polygonEnd:function(){$t.polygonEnd(),ni.lineStart=ii}};function pi(xs,vi){xs=Ie(xs,vi),$t.point(xs[0],xs[1])}function ii(){ar=NaN,ni.point=qr,$t.lineStart()}function qr(xs,vi){var Bs=te([xs,vi]),ss=Ie(xs,vi);Jt(ar,tr,Gn,gr,Or,di,ar=ss[0],tr=ss[1],Gn=xs,gr=Bs[0],Or=Bs[1],di=Bs[2],Vn,$t),$t.point(ar,tr)}function Ir(){ni.point=pi,$t.lineEnd()}function yi(){ii(),ni.point=gi,ni.lineEnd=os}function gi(xs,vi){qr(pn=xs,vi),Ln=ar,Kn=tr,$n=gr,Er=Or,wr=di,ni.point=qr}function os(){Jt(ar,tr,Gn,gr,Or,di,Ln,Kn,pn,$n,Er,wr,Vn,$t),ni.lineEnd=Ir,Ir()}return ni}}var xi=ht({point:function(Ie,yt){this.stream.point(Ie*_,yt*_)}});function ai(Ie){return ht({point:function(yt,Jt){var $t=Ie(yt,Jt);return this.stream.point($t[0],$t[1])}})}function Xi(Ie,yt,Jt,$t,pn){function Ln(Kn,$n){return Kn*=$t,$n*=pn,[yt+Ie*Kn,Jt-Ie*$n]}return Ln.invert=function(Kn,$n){return[(Kn-yt)/Ie*$t,(Jt-$n)/Ie*pn]},Ln}function Cs(Ie,yt,Jt,$t,pn,Ln){if(!Ln)return Xi(Ie,yt,Jt,$t,pn);var Kn=j(Ln),$n=P(Ln),Er=Kn*Ie,wr=$n*Ie,Gn=Kn/Ie,ar=$n/Ie,tr=($n*Jt-Kn*yt)/Ie,gr=($n*yt+Kn*Jt)/Ie;function Or(di,ni){return di*=$t,ni*=pn,[Er*di-wr*ni+yt,Jt-wr*di-Er*ni]}return Or.invert=function(di,ni){return[$t*(Gn*di-ar*ni+tr),pn*(gr-ar*di-Gn*ni)]},Or}function ts(Ie){return Aa(function(){return Ie})()}function Aa(Ie){var yt,Jt=150,$t=480,pn=250,Ln=0,Kn=0,$n=0,Er=0,wr=0,Gn,ar=0,tr=1,gr=1,Or=null,di=Rt,ni=null,pi,ii,qr,Ir=nr,yi=.5,gi,os,xs,vi,Bs;function ss(nn){return xs(nn[0]*_,nn[1]*_)}function ya(nn){return nn=xs.invert(nn[0],nn[1]),nn&&[nn[0]*p,nn[1]*p]}ss.stream=function(nn){return vi&&Bs===nn?vi:vi=xi(ai(Gn)(di(gi(Ir(Bs=nn)))))},ss.preclip=function(nn){return arguments.length?(di=nn,Or=void 0,Ts()):di},ss.postclip=function(nn){return arguments.length?(Ir=nn,ni=pi=ii=qr=null,Ts()):Ir},ss.clipAngle=function(nn){return arguments.length?(di=+nn?gn(Or=nn*_):(Or=null,Rt),Ts()):Or*p},ss.clipExtent=function(nn){return arguments.length?(Ir=nn==null?(ni=pi=ii=qr=null,nr):Pn(ni=+nn[0][0],pi=+nn[0][1],ii=+nn[1][0],qr=+nn[1][1]),Ts()):ni==null?null:[[ni,pi],[ii,qr]]},ss.scale=function(nn){return arguments.length?(Jt=+nn,No()):Jt},ss.translate=function(nn){return arguments.length?($t=+nn[0],pn=+nn[1],No()):[$t,pn]},ss.center=function(nn){return arguments.length?(Ln=nn[0]%360*_,Kn=nn[1]%360*_,No()):[Ln*p,Kn*p]},ss.rotate=function(nn){return arguments.length?($n=nn[0]%360*_,Er=nn[1]%360*_,wr=nn.length>2?nn[2]%360*_:0,No()):[$n*p,Er*p,wr*p]},ss.angle=function(nn){return arguments.length?(ar=nn%360*_,No()):ar*p},ss.reflectX=function(nn){return arguments.length?(tr=nn?-1:1,No()):tr<0},ss.reflectY=function(nn){return arguments.length?(gr=nn?-1:1,No()):gr<0},ss.precision=function(nn){return arguments.length?(gi=Wr(os,yi=nn*nn),Ts()):oe(yi)},ss.fitExtent=function(nn,Jn){return Xt(ss,nn,Jn)},ss.fitSize=function(nn,Jn){return xn(ss,nn,Jn)},ss.fitWidth=function(nn,Jn){return qn(ss,nn,Jn)},ss.fitHeight=function(nn,Jn){return Un(ss,nn,Jn)};function No(){var nn=Cs(Jt,0,0,tr,gr,ar).apply(null,yt(Ln,Kn)),Jn=Cs(Jt,$t-nn[0],pn-nn[1],tr,gr,ar);return Gn=Ht($n,Er,wr),os=Je(yt,Jn),xs=Je(Gn,os),gi=Wr(os,yi),Ts()}function Ts(){return vi=Bs=null,ss}return function(){return yt=Ie.apply(this,arguments),ss.invert=yt.invert&&ya,No()}}function xa(Ie){var yt=0,Jt=o/3,$t=Aa(Ie),pn=$t(yt,Jt);return pn.parallels=function(Ln){return arguments.length?$t(yt=Ln[0]*_,Jt=Ln[1]*_):[yt*p,Jt*p]},pn}function yl(Ie){var yt=j(Ie);function Jt($t,pn){return[$t*yt,P(pn)/yt]}return Jt.invert=function($t,pn){return[$t/yt,he(pn*yt)]},Jt}function Lc(Ie,yt){var Jt=P(Ie),$t=(Jt+P(yt))/2;if(b($t)<i)return yl(Ie);var pn=1+Jt*(2*$t-Jt),Ln=oe(pn)/$t;function Kn($n,Er){var wr=oe(pn-2*$t*P(Er))/$t;return[wr*P($n*=$t),Ln-wr*j($n)]}return Kn.invert=function($n,Er){var wr=Ln-Er,Gn=O($n,b(wr))*W(wr);return wr*$t<0&&(Gn-=o*W($n)*W(wr)),[Gn/$t,he((pn-($n*$n+wr*wr)*$t*$t)/(2*$t))]},Kn}function fu(){return xa(Lc).scale(155.424).center([0,33.6442])}function du(){return fu().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Xu(Ie){var yt=Ie.length;return{point:function(Jt,$t){for(var pn=-1;++pn<yt;)Ie[pn].point(Jt,$t)},sphere:function(){for(var Jt=-1;++Jt<yt;)Ie[Jt].sphere()},lineStart:function(){for(var Jt=-1;++Jt<yt;)Ie[Jt].lineStart()},lineEnd:function(){for(var Jt=-1;++Jt<yt;)Ie[Jt].lineEnd()},polygonStart:function(){for(var Jt=-1;++Jt<yt;)Ie[Jt].polygonStart()},polygonEnd:function(){for(var Jt=-1;++Jt<yt;)Ie[Jt].polygonEnd()}}}function Du(){var Ie,yt,Jt=du(),$t,pn=fu().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Ln,Kn=fu().rotate([157,0]).center([-3,19.9]).parallels([8,18]),$n,Er,wr={point:function(tr,gr){Er=[tr,gr]}};function Gn(tr){var gr=tr[0],Or=tr[1];return Er=null,$t.point(gr,Or),Er||(Ln.point(gr,Or),Er)||($n.point(gr,Or),Er)}Gn.invert=function(tr){var gr=Jt.scale(),Or=Jt.translate(),di=(tr[0]-Or[0])/gr,ni=(tr[1]-Or[1])/gr;return(ni>=.12&&ni<.234&&di>=-.425&&di<-.214?pn:ni>=.166&&ni<.234&&di>=-.214&&di<-.115?Kn:Jt).invert(tr)},Gn.stream=function(tr){return Ie&&yt===tr?Ie:Ie=Xu([Jt.stream(yt=tr),pn.stream(tr),Kn.stream(tr)])},Gn.precision=function(tr){return arguments.length?(Jt.precision(tr),pn.precision(tr),Kn.precision(tr),ar()):Jt.precision()},Gn.scale=function(tr){return arguments.length?(Jt.scale(tr),pn.scale(tr*.35),Kn.scale(tr),Gn.translate(Jt.translate())):Jt.scale()},Gn.translate=function(tr){if(!arguments.length)return Jt.translate();var gr=Jt.scale(),Or=+tr[0],di=+tr[1];return $t=Jt.translate(tr).clipExtent([[Or-.455*gr,di-.238*gr],[Or+.455*gr,di+.238*gr]]).stream(wr),Ln=pn.translate([Or-.307*gr,di+.201*gr]).clipExtent([[Or-.425*gr+i,di+.12*gr+i],[Or-.214*gr-i,di+.234*gr-i]]).stream(wr),$n=Kn.translate([Or-.205*gr,di+.212*gr]).clipExtent([[Or-.214*gr+i,di+.166*gr+i],[Or-.115*gr-i,di+.234*gr-i]]).stream(wr),ar()},Gn.fitExtent=function(tr,gr){return Xt(Gn,tr,gr)},Gn.fitSize=function(tr,gr){return xn(Gn,tr,gr)},Gn.fitWidth=function(tr,gr){return qn(Gn,tr,gr)},Gn.fitHeight=function(tr,gr){return Un(Gn,tr,gr)};function ar(){return Ie=yt=null,Gn}return Gn.scale(1070)}function kc(Ie){return function(yt,Jt){var $t=j(yt),pn=j(Jt),Ln=Ie($t*pn);return Ln===1/0?[2,0]:[Ln*pn*P(yt),Ln*P(Jt)]}}function na(Ie){return function(yt,Jt){var $t=oe(yt*yt+Jt*Jt),pn=Ie($t),Ln=P(pn),Kn=j(pn);return[O(yt*Ln,$t*Kn),he($t&&Jt*Ln/$t)]}}var Zu=kc(function(Ie){return oe(2/(1+Ie))});Zu.invert=na(function(Ie){return 2*he(Ie/2)});function rf(){return ts(Zu).scale(124.75).clipAngle(180-.001)}var Ge=kc(function(Ie){return(Ie=J(Ie))&&Ie/P(Ie)});Ge.invert=na(function(Ie){return Ie});function Kt(){return ts(Ge).scale(79.4188).clipAngle(180-.001)}function jn(Ie,yt){return[Ie,L(I((a+yt)/2))]}jn.invert=function(Ie,yt){return[Ie,2*R($(yt))-a]};function Yn(){return ri(jn).scale(961/f)}function ri(Ie){var yt=ts(Ie),Jt=yt.center,$t=yt.scale,pn=yt.translate,Ln=yt.clipExtent,Kn=null,$n,Er,wr;yt.scale=function(ar){return arguments.length?($t(ar),Gn()):$t()},yt.translate=function(ar){return arguments.length?(pn(ar),Gn()):pn()},yt.center=function(ar){return arguments.length?(Jt(ar),Gn()):Jt()},yt.clipExtent=function(ar){return arguments.length?(ar==null?Kn=$n=Er=wr=null:(Kn=+ar[0][0],$n=+ar[0][1],Er=+ar[1][0],wr=+ar[1][1]),Gn()):Kn==null?null:[[Kn,$n],[Er,wr]]};function Gn(){var ar=o*$t(),tr=yt(Bt(yt.rotate()).invert([0,0]));return Ln(Kn==null?[[tr[0]-ar,tr[1]-ar],[tr[0]+ar,tr[1]+ar]]:Ie===jn?[[Math.max(tr[0]-ar,Kn),$n],[Math.min(tr[0]+ar,Er),wr]]:[[Kn,Math.max(tr[1]-ar,$n)],[Er,Math.min(tr[1]+ar,wr)]])}return Gn()}function Br(Ie){return I((a+Ie)/2)}function Xr(Ie,yt){var Jt=j(Ie),$t=Ie===yt?P(Ie):L(Jt/j(yt))/L(Br(yt)/Br(Ie)),pn=Jt*q(Br(Ie),$t)/$t;if(!$t)return jn;function Ln(Kn,$n){pn>0?$n<-a+i&&($n=-a+i):$n>a-i&&($n=a-i);var Er=pn/q(Br($n),$t);return[Er*P($t*Kn),pn-Er*j($t*Kn)]}return Ln.invert=function(Kn,$n){var Er=pn-$n,wr=W($t)*oe(Kn*Kn+Er*Er),Gn=O(Kn,b(Er))*W(Er);return Er*$t<0&&(Gn-=o*W(Kn)*W(Er)),[Gn/$t,2*R(q(pn/wr,1/$t))-a]},Ln}function As(){return xa(Xr).scale(109.5).parallels([30,30])}function fo(Ie,yt){return[Ie,yt]}fo.invert=fo;function io(){return ts(fo).scale(152.63)}function us(Ie,yt){var Jt=j(Ie),$t=Ie===yt?P(Ie):(Jt-j(yt))/(yt-Ie),pn=Jt/$t+Ie;if(b($t)<i)return fo;function Ln(Kn,$n){var Er=pn-$n,wr=$t*Kn;return[Er*P(wr),pn-Er*j(wr)]}return Ln.invert=function(Kn,$n){var Er=pn-$n,wr=O(Kn,b(Er))*W(Er);return Er*$t<0&&(wr-=o*W(Kn)*W(Er)),[wr/$t,pn-W($t)*oe(Kn*Kn+Er*Er)]},Ln}function so(){return xa(us).scale(131.154).center([0,13.9389])}var ho=1.340264,hi=-.081106,bi=893e-6,Wi=.003796,Xo=oe(3)/2,da=12;function ha(Ie,yt){var Jt=he(Xo*P(yt)),$t=Jt*Jt,pn=$t*$t*$t;return[Ie*j(Jt)/(Xo*(ho+3*hi*$t+pn*(7*bi+9*Wi*$t))),Jt*(ho+hi*$t+pn*(bi+Wi*$t))]}ha.invert=function(Ie,yt){for(var Jt=yt,$t=Jt*Jt,pn=$t*$t*$t,Ln=0,Kn,$n,Er;Ln<da&&($n=Jt*(ho+hi*$t+pn*(bi+Wi*$t))-yt,Er=ho+3*hi*$t+pn*(7*bi+9*Wi*$t),Jt-=Kn=$n/Er,$t=Jt*Jt,pn=$t*$t*$t,!(b(Kn)<s));++Ln);return[Xo*Ie*(ho+3*hi*$t+pn*(7*bi+9*Wi*$t))/j(Jt),he(P(Jt)/Xo)]};function po(){return ts(ha).scale(177.158)}function ls(Ie,yt){var Jt=j(yt),$t=j(Ie)*Jt;return[Jt*P(Ie)/$t,P(yt)/$t]}ls.invert=na(R);function ps(){return ts(ls).scale(144.049).clipAngle(60)}function Zi(){var Ie=1,yt=0,Jt=0,$t=1,pn=1,Ln=0,Kn,$n,Er=null,wr,Gn,ar,tr=1,gr=1,Or=ht({point:function(Ir,yi){var gi=qr([Ir,yi]);this.stream.point(gi[0],gi[1])}}),di=nr,ni,pi;function ii(){return tr=Ie*$t,gr=Ie*pn,ni=pi=null,qr}function qr(Ir){var yi=Ir[0]*tr,gi=Ir[1]*gr;if(Ln){var os=gi*Kn-yi*$n;yi=yi*Kn+gi*$n,gi=os}return[yi+yt,gi+Jt]}return qr.invert=function(Ir){var yi=Ir[0]-yt,gi=Ir[1]-Jt;if(Ln){var os=gi*Kn+yi*$n;yi=yi*Kn-gi*$n,gi=os}return[yi/tr,gi/gr]},qr.stream=function(Ir){return ni&&pi===Ir?ni:ni=Or(di(pi=Ir))},qr.postclip=function(Ir){return arguments.length?(di=Ir,Er=wr=Gn=ar=null,ii()):di},qr.clipExtent=function(Ir){return arguments.length?(di=Ir==null?(Er=wr=Gn=ar=null,nr):Pn(Er=+Ir[0][0],wr=+Ir[0][1],Gn=+Ir[1][0],ar=+Ir[1][1]),ii()):Er==null?null:[[Er,wr],[Gn,ar]]},qr.scale=function(Ir){return arguments.length?(Ie=+Ir,ii()):Ie},qr.translate=function(Ir){return arguments.length?(yt=+Ir[0],Jt=+Ir[1],ii()):[yt,Jt]},qr.angle=function(Ir){return arguments.length?(Ln=Ir%360*_,$n=P(Ln),Kn=j(Ln),ii()):Ln*p},qr.reflectX=function(Ir){return arguments.length?($t=Ir?-1:1,ii()):$t<0},qr.reflectY=function(Ir){return arguments.length?(pn=Ir?-1:1,ii()):pn<0},qr.fitExtent=function(Ir,yi){return Xt(qr,Ir,yi)},qr.fitSize=function(Ir,yi){return xn(qr,Ir,yi)},qr.fitWidth=function(Ir,yi){return qn(qr,Ir,yi)},qr.fitHeight=function(Ir,yi){return Un(qr,Ir,yi)},qr}function hu(Ie,yt){var Jt=yt*yt,$t=Jt*Jt;return[Ie*(.8707-.131979*Jt+$t*(-.013791+$t*(.003971*Jt-.001529*$t))),yt*(1.007226+Jt*(.015085+$t*(-.044475+.028874*Jt-.005916*$t)))]}hu.invert=function(Ie,yt){var Jt=yt,$t=25,pn;do{var Ln=Jt*Jt,Kn=Ln*Ln;Jt-=pn=(Jt*(1.007226+Ln*(.015085+Kn*(-.044475+.028874*Ln-.005916*Kn)))-yt)/(1.007226+Ln*(.015085*3+Kn*(-.044475*7+.028874*9*Ln-.005916*11*Kn)))}while(b(pn)>i&&--$t>0);return[Ie/(.8707+(Ln=Jt*Jt)*(-.131979+Ln*(-.013791+Ln*Ln*Ln*(.003971-.001529*Ln)))),Jt]};function Ps(){return ts(hu).scale(175.295)}function ga(Ie,yt){return[j(yt)*P(Ie),P(yt)]}ga.invert=na(he);function ua(){return ts(ga).scale(249.5).clipAngle(90+i)}function Oi(Ie,yt){var Jt=j(yt),$t=1+j(Ie)*Jt;return[Jt*P(Ie)/$t,P(yt)/$t]}Oi.invert=na(function(Ie){return 2*R(Ie)});function Wo(){return ts(Oi).scale(250).clipAngle(142)}function vs(Ie,yt){return[L(I((a+yt)/2)),-Ie]}vs.invert=function(Ie,yt){return[-yt,2*R($(Ie))-a]};function Ii(){var Ie=ri(vs),yt=Ie.center,Jt=Ie.rotate;return Ie.center=function($t){return arguments.length?yt([-$t[1],$t[0]]):($t=yt(),[$t[1],-$t[0]])},Ie.rotate=function($t){return arguments.length?Jt([$t[0],$t[1],$t.length>2?$t[2]+90:90]):($t=Jt(),[$t[0],$t[1],$t[2]-90])},Jt([0,0,90]).scale(159.155)}var Ro=Math.abs,ka=Math.cos,Xa=Math.sin,Oo=1e-6,To=Math.PI,$a=To/2,pu=la(2);function za(Ie){return Ie>1?$a:Ie<-1?-$a:Math.asin(Ie)}function la(Ie){return Ie>0?Math.sqrt(Ie):0}function ca(Ie,yt){var Jt=Ie*Xa(yt),$t=30,pn;do yt-=pn=(yt+Xa(yt)-Jt)/(1+ka(yt));while(Ro(pn)>Oo&&--$t>0);return yt/2}function vl(Ie,yt,Jt){function $t(pn,Ln){return[Ie*pn*ka(Ln=ca(Jt,Ln)),yt*Xa(Ln)]}return $t.invert=function(pn,Ln){return Ln=za(Ln/yt),[pn/(Ie*ka(Ln)),za((2*Ln+Xa(2*Ln))/Jt)]},$t}var Vl=vl(pu/$a,pu,To);function ra(){return ts(Vl).scale(169.529)}let el=Se(),ui=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function rs(Ie,yt){return function Jt(){let $t=yt();return $t.type=Ie,$t.path=Se().projection($t),$t.copy=$t.copy||function(){let pn=Jt();return ui.forEach(Ln=>{$t[Ln]&&pn[Ln]($t[Ln]())}),pn.path.pointRadius($t.path.pointRadius()),pn},$t}}function cs(Ie,yt){if(!Ie||typeof Ie!="string")throw new Error("Projection type must be a name string.");return Ie=Ie.toLowerCase(),arguments.length>1?(is[Ie]=rs(Ie,yt),this):is[Ie]||null}function xr(Ie){return Ie&&Ie.path||el}let is={albers:du,albersusa:Du,azimuthalequalarea:rf,azimuthalequidistant:Kt,conicconformal:As,conicequalarea:fu,conicequidistant:so,equalEarth:po,equirectangular:io,gnomonic:ps,identity:Zi,mercator:Yn,mollweide:ra,naturalEarth1:Ps,orthographic:ua,stereographic:Wo,transversemercator:Ii};for(let Ie in is)cs(Ie,is[Ie]);n.getProjectionPath=xr,n.projection=cs,n.projectionProperties=ui,Object.defineProperty(n,"__esModule",{value:!0})})});var ZDe=Ae((yV,XDe)=>{m();(function(n,e){typeof yV=="object"&&typeof XDe!="undefined"?e(yV,o0(),Tu(),mb(),Rle(),_N()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util","vega-statistics","vega-projection","vega-canvas"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega,n.vega))})(yV,function(n,e,t,r,i,s){"use strict";var o=Math.sqrt(50),a=Math.sqrt(10),l=Math.sqrt(2);function f(ne,we,We){var st=Math.abs(we-ne)/Math.max(0,We),Ut=Math.pow(10,Math.floor(Math.log(st)/Math.LN10)),sn=st/Ut;return sn>=o?Ut*=10:sn>=a?Ut*=5:sn>=l&&(Ut*=2),we<ne?-Ut:Ut}function p(ne,we){let We;if(we===void 0)for(let st of ne)st!=null&&(We<st||We===void 0&&st>=st)&&(We=st);else{let st=-1;for(let Ut of ne)(Ut=we(Ut,++st,ne))!=null&&(We<Ut||We===void 0&&Ut>=Ut)&&(We=Ut)}return We}function _(ne,we,We){ne=+ne,we=+we,We=(Ut=arguments.length)<2?(we=ne,ne=0,1):Ut<3?1:+We;for(var st=-1,Ut=Math.max(0,Math.ceil((we-ne)/We))|0,sn=new Array(Ut);++st<Ut;)sn[st]=ne+st*We;return sn}function b(ne,we){let We=0;if(we===void 0)for(let st of ne)(st=+st)&&(We+=st);else{let st=-1;for(let Ut of ne)(Ut=+we(Ut,++st,ne))&&(We+=Ut)}return We}function R(){}let O=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function j(){var ne=1,we=1,We=bn;function st(vn,zn){return zn.map(Oe=>Ut(vn,Oe))}function Ut(vn,zn){var Oe=[],$e=[];return sn(vn,zn,Ft=>{We(Ft,vn,zn),$(Ft)>0?Oe.push([Ft]):$e.push(Ft)}),$e.forEach(Ft=>{for(var N=0,V=Oe.length,be;N<V;++N)if(L((be=Oe[N])[0],Ft)!==-1){be.push(Ft);return}}),{type:"MultiPolygon",value:zn,coordinates:Oe}}function sn(vn,zn,Oe){var $e=new Array,Ft=new Array,N,V,be,xe,K,ue;for(N=V=-1,xe=vn[0]>=zn,O[xe<<1].forEach(fe);++N<ne-1;)be=xe,xe=vn[N+1]>=zn,O[be|xe<<1].forEach(fe);for(O[xe<<0].forEach(fe);++V<we-1;){for(N=-1,xe=vn[V*ne+ne]>=zn,K=vn[V*ne]>=zn,O[xe<<1|K<<2].forEach(fe);++N<ne-1;)be=xe,xe=vn[V*ne+ne+N+1]>=zn,ue=K,K=vn[V*ne+N+1]>=zn,O[be|xe<<1|K<<2|ue<<3].forEach(fe);O[xe|K<<3].forEach(fe)}for(N=-1,K=vn[V*ne]>=zn,O[K<<2].forEach(fe);++N<ne-1;)ue=K,K=vn[V*ne+N+1]>=zn,O[K<<2|ue<<3].forEach(fe);O[K<<3].forEach(fe);function fe(Qe){var It=[Qe[0][0]+N,Qe[0][1]+V],At=[Qe[1][0]+N,Qe[1][1]+V],dn=wn(It),C=wn(At),B,ee;(B=Ft[dn])?(ee=$e[C])?(delete Ft[B.end],delete $e[ee.start],B===ee?(B.ring.push(At),Oe(B.ring)):$e[B.start]=Ft[ee.end]={start:B.start,end:ee.end,ring:B.ring.concat(ee.ring)}):(delete Ft[B.end],B.ring.push(At),Ft[B.end=C]=B):(B=$e[C])?(ee=Ft[dn])?(delete $e[B.start],delete Ft[ee.end],B===ee?(B.ring.push(At),Oe(B.ring)):$e[ee.start]=Ft[B.end]={start:ee.start,end:B.end,ring:ee.ring.concat(B.ring)}):(delete $e[B.start],B.ring.unshift(It),$e[B.start=dn]=B):$e[dn]=Ft[C]={start:dn,end:C,ring:[It,At]}}}function wn(vn){return vn[0]*2+vn[1]*(ne+1)*4}function bn(vn,zn,Oe){vn.forEach($e=>{var Ft=$e[0],N=$e[1],V=Ft|0,be=N|0,xe,K=zn[be*ne+V];Ft>0&&Ft<ne&&V===Ft&&(xe=zn[be*ne+V-1],$e[0]=Ft+(Oe-xe)/(K-xe)-.5),N>0&&N<we&&be===N&&(xe=zn[(be-1)*ne+V],$e[1]=N+(Oe-xe)/(K-xe)-.5)})}return st.contour=Ut,st.size=function(vn){if(!arguments.length)return[ne,we];var zn=Math.floor(vn[0]),Oe=Math.floor(vn[1]);return zn>=0&&Oe>=0||t.error("invalid size"),ne=zn,we=Oe,st},st.smooth=function(vn){return arguments.length?(We=vn?bn:R,st):We===bn},st}function $(ne){for(var we=0,We=ne.length,st=ne[We-1][1]*ne[0][0]-ne[We-1][0]*ne[0][1];++we<We;)st+=ne[we-1][1]*ne[we][0]-ne[we-1][0]*ne[we][1];return st}function L(ne,we){for(var We=-1,st=we.length,Ut;++We<st;)if(Ut=q(ne,we[We]))return Ut;return 0}function q(ne,we){for(var We=we[0],st=we[1],Ut=-1,sn=0,wn=ne.length,bn=wn-1;sn<wn;bn=sn++){var vn=ne[sn],zn=vn[0],Oe=vn[1],$e=ne[bn],Ft=$e[0],N=$e[1];if(P(vn,$e,we))return 0;Oe>st!=N>st&&We<(Ft-zn)*(st-Oe)/(N-Oe)+zn&&(Ut=-Ut)}return Ut}function P(ne,we,We){var st;return W(ne,we,We)&&oe(ne[st=+(ne[0]===we[0])],We[st],we[st])}function W(ne,we,We){return(we[0]-ne[0])*(We[1]-ne[1])===(We[0]-ne[0])*(we[1]-ne[1])}function oe(ne,we,We){return ne<=we&&we<=We||We<=we&&we<=ne}function I(ne,we,We){return function(st){var Ut=t.extent(st),sn=We?Math.min(Ut[0],0):Ut[0],wn=Ut[1],bn=wn-sn,vn=we?f(sn,wn,ne):bn/(ne+1);return _(sn+vn,wn,vn)}}function J(ne){e.Transform.call(this,null,ne)}J.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},t.inherits(J,e.Transform,{transform(ne,we){if(this.value&&!we.changed()&&!ne.modified())return we.StopPropagation;var We=we.fork(we.NO_SOURCE|we.NO_FIELDS),st=we.materialize(we.SOURCE).source,Ut=ne.field||t.identity,sn=j().smooth(ne.smooth!==!1),wn=ne.thresholds||he(st,Ut,ne),bn=ne.as===null?null:ne.as||"contour",vn=[];return st.forEach(zn=>{let Oe=Ut(zn),$e=sn.size([Oe.width,Oe.height])(Oe.values,t.isArray(wn)?wn:wn(Oe.values));ye($e,Oe,zn,ne),$e.forEach(Ft=>{vn.push(e.rederive(zn,e.ingest(bn!=null?{[bn]:Ft}:Ft)))})}),this.value&&(We.rem=this.value),this.value=We.source=We.add=vn,We}});function he(ne,we,We){let st=I(We.levels||10,We.nice,We.zero!==!1);return We.resolve!=="shared"?st:st(ne.map(Ut=>p(we(Ut).values)))}function ye(ne,we,We,st){let Ut=st.scale||we.scale,sn=st.translate||we.translate;if(t.isFunction(Ut)&&(Ut=Ut(We,st)),t.isFunction(sn)&&(sn=sn(We,st)),(Ut===1||Ut==null)&&!sn)return;let wn=(t.isNumber(Ut)?Ut:Ut[0])||1,bn=(t.isNumber(Ut)?Ut:Ut[1])||1,vn=sn&&sn[0]||0,zn=sn&&sn[1]||0;ne.forEach(He(we,wn,bn,vn,zn))}function He(ne,we,We,st,Ut){let sn=ne.x1||0,wn=ne.y1||0,bn=we*We<0;function vn($e){$e.forEach(zn)}function zn($e){bn&&$e.reverse(),$e.forEach(Oe)}function Oe($e){$e[0]=($e[0]-sn)*we+st,$e[1]=($e[1]-wn)*We+Ut}return function($e){return $e.coordinates.forEach(vn),$e}}function at(ne,we,We){let st=ne>=0?ne:r.bandwidthNRD(we,We);return Math.round((Math.sqrt(4*st*st+1)-1)/2)}function ct(ne){return t.isFunction(ne)?ne:t.constant(+ne)}function Ze(){var ne=vn=>vn[0],we=vn=>vn[1],We=t.one,st=[-1,-1],Ut=960,sn=500,wn=2;function bn(vn,zn){let Oe=at(st[0],vn,ne)>>wn,$e=at(st[1],vn,we)>>wn,Ft=Oe?Oe+2:0,N=$e?$e+2:0,V=2*Ft+(Ut>>wn),be=2*N+(sn>>wn),xe=new Float32Array(V*be),K=new Float32Array(V*be),ue=xe;vn.forEach(Qe=>{let It=Ft+(+ne(Qe)>>wn),At=N+(+we(Qe)>>wn);It>=0&&It<V&&At>=0&&At<be&&(xe[It+At*V]+=+We(Qe))}),Oe>0&&$e>0?(bt(V,be,xe,K,Oe),Mt(V,be,K,xe,$e),bt(V,be,xe,K,Oe),Mt(V,be,K,xe,$e),bt(V,be,xe,K,Oe),Mt(V,be,K,xe,$e)):Oe>0?(bt(V,be,xe,K,Oe),bt(V,be,K,xe,Oe),bt(V,be,xe,K,Oe),ue=K):$e>0&&(Mt(V,be,xe,K,$e),Mt(V,be,K,xe,$e),Mt(V,be,xe,K,$e),ue=K);let fe=zn?Math.pow(2,-2*wn):1/b(ue);for(let Qe=0,It=V*be;Qe<It;++Qe)ue[Qe]*=fe;return{values:ue,scale:1<<wn,width:V,height:be,x1:Ft,y1:N,x2:Ft+(Ut>>wn),y2:N+(sn>>wn)}}return bn.x=function(vn){return arguments.length?(ne=ct(vn),bn):ne},bn.y=function(vn){return arguments.length?(we=ct(vn),bn):we},bn.weight=function(vn){return arguments.length?(We=ct(vn),bn):We},bn.size=function(vn){if(!arguments.length)return[Ut,sn];var zn=+vn[0],Oe=+vn[1];return zn>=0&&Oe>=0||t.error("invalid size"),Ut=zn,sn=Oe,bn},bn.cellSize=function(vn){return arguments.length?((vn=+vn)>=1||t.error("invalid cell size"),wn=Math.floor(Math.log(vn)/Math.LN2),bn):1<<wn},bn.bandwidth=function(vn){return arguments.length?(vn=t.array(vn),vn.length===1&&(vn=[+vn[0],+vn[0]]),vn.length!==2&&t.error("invalid bandwidth"),st=vn,bn):st},bn}function bt(ne,we,We,st,Ut){let sn=(Ut<<1)+1;for(let wn=0;wn<we;++wn)for(let bn=0,vn=0;bn<ne+Ut;++bn)bn<ne&&(vn+=We[bn+wn*ne]),bn>=Ut&&(bn>=sn&&(vn-=We[bn-sn+wn*ne]),st[bn-Ut+wn*ne]=vn/Math.min(bn+1,ne-1+sn-bn,sn))}function Mt(ne,we,We,st,Ut){let sn=(Ut<<1)+1;for(let wn=0;wn<ne;++wn)for(let bn=0,vn=0;bn<we+Ut;++bn)bn<we&&(vn+=We[wn+bn*ne]),bn>=Ut&&(bn>=sn&&(vn-=We[wn+(bn-sn)*ne]),st[wn+(bn-Ut)*ne]=vn/Math.min(bn+1,we-1+sn-bn,sn))}function qe(ne){e.Transform.call(this,null,ne)}qe.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};let te=["x","y","weight","size","cellSize","bandwidth"];function et(ne,we){return te.forEach(We=>we[We]!=null?ne[We](we[We]):0),ne}t.inherits(qe,e.Transform,{transform(ne,we){if(this.value&&!we.changed()&&!ne.modified())return we.StopPropagation;var We=we.fork(we.NO_SOURCE|we.NO_FIELDS),st=we.materialize(we.SOURCE).source,Ut=Ee(st,ne.groupby),sn=(ne.groupby||[]).map(t.accessorName),wn=et(Ze(),ne),bn=ne.as||"grid",vn=[];function zn(Oe,$e){for(let Ft=0;Ft<sn.length;++Ft)Oe[sn[Ft]]=$e[Ft];return Oe}return vn=Ut.map(Oe=>e.ingest(zn({[bn]:wn(Oe,ne.counts)},Oe.dims))),this.value&&(We.rem=this.value),this.value=We.source=We.add=vn,We}});function Ee(ne,we){var We=[],st=Oe=>Oe(bn),Ut,sn,wn,bn,vn,zn;if(we==null)We.push(ne);else for(Ut={},sn=0,wn=ne.length;sn<wn;++sn)bn=ne[sn],vn=we.map(st),zn=Ut[vn],zn||(Ut[vn]=zn=[],zn.dims=vn,We.push(zn)),zn.push(bn);return We}function ke(ne){e.Transform.call(this,null,ne)}ke.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},t.inherits(ke,e.Transform,{transform(ne,we){if(this.value&&!we.changed()&&!ne.modified())return we.StopPropagation;var We=we.fork(we.NO_SOURCE|we.NO_FIELDS),st=j().smooth(ne.smooth!==!1),Ut=ne.values,sn=ne.thresholds||I(ne.count||10,ne.nice,!!Ut),wn=ne.size,bn,vn;return Ut||(Ut=we.materialize(we.SOURCE).source,bn=et(Ze(),ne)(Ut,!0),vn=He(bn,bn.scale||1,bn.scale||1,0,0),wn=[bn.width,bn.height],Ut=bn.values),sn=t.isArray(sn)?sn:sn(Ut),Ut=st.size(wn)(Ut,sn),vn&&Ut.forEach(vn),this.value&&(We.rem=this.value),this.value=We.source=We.add=(Ut||[]).map(e.ingest),We}});let Ce="Feature",pe="FeatureCollection",Je="MultiPoint";function lt(ne){e.Transform.call(this,null,ne)}lt.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},t.inherits(lt,e.Transform,{transform(ne,we){var We=this._features,st=this._points,Ut=ne.fields,sn=Ut&&Ut[0],wn=Ut&&Ut[1],bn=ne.geojson||!Ut&&t.identity,vn=we.ADD,zn;zn=ne.modified()||we.changed(we.REM)||we.modified(t.accessorFields(bn))||sn&&we.modified(t.accessorFields(sn))||wn&&we.modified(t.accessorFields(wn)),(!this.value||zn)&&(vn=we.SOURCE,this._features=We=[],this._points=st=[]),bn&&we.visit(vn,Oe=>We.push(bn(Oe))),sn&&wn&&(we.visit(vn,Oe=>{var $e=sn(Oe),Ft=wn(Oe);$e!=null&&Ft!=null&&($e=+$e)===$e&&(Ft=+Ft)===Ft&&st.push([$e,Ft])}),We=We.concat({type:Ce,geometry:{type:Je,coordinates:st}})),this.value={type:pe,features:We}}});function Ht(ne){e.Transform.call(this,null,ne)}Ht.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},t.inherits(Ht,e.Transform,{transform(ne,we){var We=we.fork(we.ALL),st=this.value,Ut=ne.field||t.identity,sn=ne.as||"path",wn=We.SOURCE;!st||ne.modified()?(this.value=st=i.getProjectionPath(ne.projection),We.materialize().reflow()):wn=Ut===t.identity||we.modified(Ut.fields)?We.ADD_MOD:We.ADD;let bn=wt(st,ne.pointRadius);return We.visit(wn,vn=>vn[sn]=st(Ut(vn))),st.pointRadius(bn),We.modifies(sn)}});function wt(ne,we){let We=ne.pointRadius();return ne.context(null),we!=null&&ne.pointRadius(we),We}function mn(ne){e.Transform.call(this,null,ne)}mn.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},t.inherits(mn,e.Transform,{transform(ne,we){var We=ne.projection,st=ne.fields[0],Ut=ne.fields[1],sn=ne.as||["x","y"],wn=sn[0],bn=sn[1],vn;function zn(Oe){let $e=We([st(Oe),Ut(Oe)]);$e?(Oe[wn]=$e[0],Oe[bn]=$e[1]):(Oe[wn]=void 0,Oe[bn]=void 0)}return ne.modified()?we=we.materialize().reflow(!0).visit(we.SOURCE,zn):(vn=we.modified(st.fields)||we.modified(Ut.fields),we.visit(vn?we.ADD_MOD:we.ADD,zn)),we.modifies(sn)}});function kt(ne){e.Transform.call(this,null,ne)}kt.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},t.inherits(kt,e.Transform,{transform(ne,we){var We=we.fork(we.ALL),st=this.value,Ut=ne.as||"shape",sn=We.ADD;return(!st||ne.modified())&&(this.value=st=Bt(i.getProjectionPath(ne.projection),ne.field||t.field("datum"),ne.pointRadius),We.materialize().reflow(),sn=We.SOURCE),We.visit(sn,wn=>wn[Ut]=st),We.modifies(Ut)}});function Bt(ne,we,We){let st=We==null?Ut=>ne(we(Ut)):Ut=>{var sn=ne.pointRadius(),wn=ne.pointRadius(We)(we(Ut));return ne.pointRadius(sn),wn};return st.context=Ut=>(ne.context(Ut),st),st}var tn=1e-6,Et=Math.abs,ve=Math.ceil;function Le(ne,we,We){var st=_(ne,we-tn,We).concat(we);return function(Ut){return st.map(function(sn){return[Ut,sn]})}}function _e(ne,we,We){var st=_(ne,we-tn,We).concat(we);return function(Ut){return st.map(function(sn){return[sn,Ut]})}}function ce(){var ne,we,We,st,Ut,sn,wn,bn,vn=10,zn=vn,Oe=90,$e=360,Ft,N,V,be,xe=2.5;function K(){return{type:"MultiLineString",coordinates:ue()}}function ue(){return _(ve(st/Oe)*Oe,We,Oe).map(V).concat(_(ve(bn/$e)*$e,wn,$e).map(be)).concat(_(ve(we/vn)*vn,ne,vn).filter(function(fe){return Et(fe%Oe)>tn}).map(Ft)).concat(_(ve(sn/zn)*zn,Ut,zn).filter(function(fe){return Et(fe%$e)>tn}).map(N))}return K.lines=function(){return ue().map(function(fe){return{type:"LineString",coordinates:fe}})},K.outline=function(){return{type:"Polygon",coordinates:[V(st).concat(be(wn).slice(1),V(We).reverse().slice(1),be(bn).reverse().slice(1))]}},K.extent=function(fe){return arguments.length?K.extentMajor(fe).extentMinor(fe):K.extentMinor()},K.extentMajor=function(fe){return arguments.length?(st=+fe[0][0],We=+fe[1][0],bn=+fe[0][1],wn=+fe[1][1],st>We&&(fe=st,st=We,We=fe),bn>wn&&(fe=bn,bn=wn,wn=fe),K.precision(xe)):[[st,bn],[We,wn]]},K.extentMinor=function(fe){return arguments.length?(we=+fe[0][0],ne=+fe[1][0],sn=+fe[0][1],Ut=+fe[1][1],we>ne&&(fe=we,we=ne,ne=fe),sn>Ut&&(fe=sn,sn=Ut,Ut=fe),K.precision(xe)):[[we,sn],[ne,Ut]]},K.step=function(fe){return arguments.length?K.stepMajor(fe).stepMinor(fe):K.stepMinor()},K.stepMajor=function(fe){return arguments.length?(Oe=+fe[0],$e=+fe[1],K):[Oe,$e]},K.stepMinor=function(fe){return arguments.length?(vn=+fe[0],zn=+fe[1],K):[vn,zn]},K.precision=function(fe){return arguments.length?(xe=+fe,Ft=Le(sn,Ut,90),N=_e(we,ne,xe),V=Le(bn,wn,90),be=_e(st,We,xe),K):xe},K.extentMajor([[-180,-90+tn],[180,90-tn]]).extentMinor([[-180,-80-tn],[180,80+tn]])}function tt(ne){e.Transform.call(this,[],ne),this.generator=ce()}tt.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},t.inherits(tt,e.Transform,{transform(ne,we){var We=this.value,st=this.generator,Ut;if(!We.length||ne.modified())for(let sn in ne)t.isFunction(st[sn])&&st[sn](ne[sn]);return Ut=st(),We.length?we.mod.push(e.replace(We[0],Ut)):we.add.push(e.ingest(Ut)),We[0]=Ut,we}});function Ke(ne,we,We){ne.prototype=we.prototype=We,We.constructor=ne}function re(ne,we){var We=Object.create(ne.prototype);for(var st in we)We[st]=we[st];return We}function Re(){}var nt=.7,ft=1/nt,Rt="\\s*([+-]?\\d+)\\s*",Yt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fn=/^#([0-9a-f]{3,8})$/,gn=new RegExp("^rgb\\("+[Rt,Rt,Rt]+"\\)$"),yn=new RegExp("^rgb\\("+[Gt,Gt,Gt]+"\\)$"),Lt=new RegExp("^rgba\\("+[Rt,Rt,Rt,Yt]+"\\)$"),un=new RegExp("^rgba\\("+[Gt,Gt,Gt,Yt]+"\\)$"),Pn=new RegExp("^hsl\\("+[Yt,Gt,Gt]+"\\)$"),nr=new RegExp("^hsla\\("+[Yt,Gt,Gt,Yt]+"\\)$"),On={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ke(Re,Pt,{copy:function(ne){return Object.assign(new this.constructor,this,ne)},displayable:function(){return this.rgb().displayable()},hex:Ne,formatHex:Ne,formatHsl:ze,formatRgb:De,toString:De});function Ne(){return this.rgb().formatHex()}function ze(){return Ye(this).formatHsl()}function De(){return this.rgb().formatRgb()}function Pt(ne){var we,We;return ne=(ne+"").trim().toLowerCase(),(we=fn.exec(ne))?(We=we[1].length,we=parseInt(we[1],16),We===6?mt(we):We===3?new Fn(we>>8&15|we>>4&240,we>>4&15|we&240,(we&15)<<4|we&15,1):We===8?xt(we>>24&255,we>>16&255,we>>8&255,(we&255)/255):We===4?xt(we>>12&15|we>>8&240,we>>8&15|we>>4&240,we>>4&15|we&240,((we&15)<<4|we&15)/255):null):(we=gn.exec(ne))?new Fn(we[1],we[2],we[3],1):(we=yn.exec(ne))?new Fn(we[1]*255/100,we[2]*255/100,we[3]*255/100,1):(we=Lt.exec(ne))?xt(we[1],we[2],we[3],we[4]):(we=un.exec(ne))?xt(we[1]*255/100,we[2]*255/100,we[3]*255/100,we[4]):(we=Pn.exec(ne))?rr(we[1],we[2]/100,we[3]/100,1):(we=nr.exec(ne))?rr(we[1],we[2]/100,we[3]/100,we[4]):On.hasOwnProperty(ne)?mt(On[ne]):ne==="transparent"?new Fn(NaN,NaN,NaN,0):null}function mt(ne){return new Fn(ne>>16&255,ne>>8&255,ne&255,1)}function xt(ne,we,We,st){return st<=0&&(ne=we=We=NaN),new Fn(ne,we,We,st)}function rn(ne){return ne instanceof Re||(ne=Pt(ne)),ne?(ne=ne.rgb(),new Fn(ne.r,ne.g,ne.b,ne.opacity)):new Fn}function Qt(ne,we,We,st){return arguments.length===1?rn(ne):new Fn(ne,we,We,st??1)}function Fn(ne,we,We,st){this.r=+ne,this.g=+we,this.b=+We,this.opacity=+st}Ke(Fn,Qt,re(Re,{brighter:function(ne){return ne=ne==null?ft:Math.pow(ft,ne),new Fn(this.r*ne,this.g*ne,this.b*ne,this.opacity)},darker:function(ne){return ne=ne==null?nt:Math.pow(nt,ne),new Fn(this.r*ne,this.g*ne,this.b*ne,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wn,formatHex:Wn,formatRgb:Zn,toString:Zn}));function Wn(){return"#"+Nn(this.r)+Nn(this.g)+Nn(this.b)}function Zn(){var ne=this.opacity;return ne=isNaN(ne)?1:Math.max(0,Math.min(1,ne)),(ne===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(ne===1?")":", "+ne+")")}function Nn(ne){return ne=Math.max(0,Math.min(255,Math.round(ne)||0)),(ne<16?"0":"")+ne.toString(16)}function rr(ne,we,We,st){return st<=0?ne=we=We=NaN:We<=0||We>=1?ne=we=NaN:we<=0&&(ne=NaN),new ae(ne,we,We,st)}function Ye(ne){if(ne instanceof ae)return new ae(ne.h,ne.s,ne.l,ne.opacity);if(ne instanceof Re||(ne=Pt(ne)),!ne)return new ae;if(ne instanceof ae)return ne;ne=ne.rgb();var we=ne.r/255,We=ne.g/255,st=ne.b/255,Ut=Math.min(we,We,st),sn=Math.max(we,We,st),wn=NaN,bn=sn-Ut,vn=(sn+Ut)/2;return bn?(we===sn?wn=(We-st)/bn+(We<st)*6:We===sn?wn=(st-we)/bn+2:wn=(we-We)/bn+4,bn/=vn<.5?sn+Ut:2-sn-Ut,wn*=60):bn=vn>0&&vn<1?0:wn,new ae(wn,bn,vn,ne.opacity)}function vt(ne,we,We,st){return arguments.length===1?Ye(ne):new ae(ne,we,We,st??1)}function ae(ne,we,We,st){this.h=+ne,this.s=+we,this.l=+We,this.opacity=+st}Ke(ae,vt,re(Re,{brighter:function(ne){return ne=ne==null?ft:Math.pow(ft,ne),new ae(this.h,this.s,this.l*ne,this.opacity)},darker:function(ne){return ne=ne==null?nt:Math.pow(nt,ne),new ae(this.h,this.s,this.l*ne,this.opacity)},rgb:function(){var ne=this.h%360+(this.h<0)*360,we=isNaN(ne)||isNaN(this.s)?0:this.s,We=this.l,st=We+(We<.5?We:1-We)*we,Ut=2*We-st;return new Fn(Be(ne>=240?ne-240:ne+120,Ut,st),Be(ne,Ut,st),Be(ne<120?ne+240:ne-120,Ut,st),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var ne=this.opacity;return ne=isNaN(ne)?1:Math.max(0,Math.min(1,ne)),(ne===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(ne===1?")":", "+ne+")")}}));function Be(ne,we,We){return(ne<60?we+(We-we)*ne/60:ne<180?We:ne<240?we+(We-we)*(240-ne)/60:we)*255}function rt(ne){e.Transform.call(this,null,ne)}rt.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},t.inherits(rt,e.Transform,{transform(ne,we){if(!we.changed()&&!ne.modified())return we.StopPropagation;var We=we.materialize(we.SOURCE).source,st=ne.resolve==="shared",Ut=ne.field||t.identity,sn=hn(ne.opacity,ne),wn=Dt(ne.color,ne),bn=ne.as||"image",vn={$x:0,$y:0,$value:0,$max:st?p(We.map(zn=>p(Ut(zn).values))):0};return We.forEach(zn=>{let Oe=Ut(zn),$e=t.extend({},zn,vn);st||($e.$max=p(Oe.values||[])),zn[bn]=dt(Oe,$e,wn.dep?wn:t.constant(wn($e)),sn.dep?sn:t.constant(sn($e)))}),we.reflow(!0).modifies(bn)}});function Dt(ne,we){let We;return t.isFunction(ne)?(We=st=>Qt(ne(st,we)),We.dep=an(ne)):We=t.constant(Qt(ne||"#888")),We}function hn(ne,we){let We;return t.isFunction(ne)?(We=st=>ne(st,we),We.dep=an(ne)):ne?We=t.constant(ne):(We=st=>st.$value/st.$max||0,We.dep=!0),We}function an(ne){if(!t.isFunction(ne))return!1;let we=t.toSet(t.accessorFields(ne));return we.$x||we.$y||we.$value||we.$max}function dt(ne,we,We,st){let Ut=ne.width,sn=ne.height,wn=ne.x1||0,bn=ne.y1||0,vn=ne.x2||Ut,zn=ne.y2||sn,Oe=ne.values,$e=Oe?xe=>Oe[xe]:t.zero,Ft=s.canvas(vn-wn,zn-bn),N=Ft.getContext("2d"),V=N.getImageData(0,0,vn-wn,zn-bn),be=V.data;for(let xe=bn,K=0;xe<zn;++xe){we.$y=xe-bn;for(let ue=wn,fe=xe*Ut;ue<vn;++ue,K+=4){we.$x=ue-wn,we.$value=$e(ue+fe);let Qe=We(we);be[K+0]=Qe.r,be[K+1]=Qe.g,be[K+2]=Qe.b,be[K+3]=~~(255*st(we))}}return N.putImageData(V,0,0),Ft}function ie(ne){e.Transform.call(this,null,ne),this.modified(!0)}t.inherits(ie,e.Transform,{transform(ne,we){let We=this.value;return!We||ne.modified("type")?(this.value=We=Ue(ne.type),i.projectionProperties.forEach(st=>{ne[st]!=null&&gt(We,st,ne[st])})):i.projectionProperties.forEach(st=>{ne.modified(st)&&gt(We,st,ne[st])}),ne.pointRadius!=null&&We.path.pointRadius(ne.pointRadius),ne.fit&&Te(We,ne),we.fork(we.NO_SOURCE|we.NO_FIELDS)}});function Te(ne,we){let We=St(we.fit);we.extent?ne.fitExtent(we.extent,We):we.size&&ne.fitSize(we.size,We)}function Ue(ne){let we=i.projection((ne||"mercator").toLowerCase());return we||t.error("Unrecognized projection type: "+ne),we()}function gt(ne,we,We){t.isFunction(ne[we])&&ne[we](We)}function St(ne){return ne=t.array(ne),ne.length===1?ne[0]:{type:pe,features:ne.reduce((we,We)=>we.concat(Ot(We)),[])}}function Ot(ne){return ne.type===pe?ne.features:t.array(ne).filter(we=>we!=null).map(we=>we.type===Ce?we:{type:Ce,geometry:we})}n.contour=ke,n.geojson=lt,n.geopath=Ht,n.geopoint=mn,n.geoshape=kt,n.graticule=tt,n.heatmap=rt,n.isocontour=J,n.kde2d=qe,n.projection=ie,Object.defineProperty(n,"__esModule",{value:!0})})});var tRe=Ae((vV,eRe)=>{m();(function(n,e){typeof vV=="object"&&typeof eRe!="undefined"?e(vV,o0(),Tu()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega))})(vV,function(n,e,t){"use strict";function r(ae,Be){var rt,Dt=1;ae==null&&(ae=0),Be==null&&(Be=0);function hn(){var an,dt=rt.length,ie,Te=0,Ue=0;for(an=0;an<dt;++an)ie=rt[an],Te+=ie.x,Ue+=ie.y;for(Te=(Te/dt-ae)*Dt,Ue=(Ue/dt-Be)*Dt,an=0;an<dt;++an)ie=rt[an],ie.x-=Te,ie.y-=Ue}return hn.initialize=function(an){rt=an},hn.x=function(an){return arguments.length?(ae=+an,hn):ae},hn.y=function(an){return arguments.length?(Be=+an,hn):Be},hn.strength=function(an){return arguments.length?(Dt=+an,hn):Dt},hn}function i(ae){let Be=+this._x.call(null,ae),rt=+this._y.call(null,ae);return s(this.cover(Be,rt),Be,rt,ae)}function s(ae,Be,rt,Dt){if(isNaN(Be)||isNaN(rt))return ae;var hn,an=ae._root,dt={data:Dt},ie=ae._x0,Te=ae._y0,Ue=ae._x1,gt=ae._y1,St,Ot,ne,we,We,st,Ut,sn;if(!an)return ae._root=dt,ae;for(;an.length;)if((We=Be>=(St=(ie+Ue)/2))?ie=St:Ue=St,(st=rt>=(Ot=(Te+gt)/2))?Te=Ot:gt=Ot,hn=an,!(an=an[Ut=st<<1|We]))return hn[Ut]=dt,ae;if(ne=+ae._x.call(null,an.data),we=+ae._y.call(null,an.data),Be===ne&&rt===we)return dt.next=an,hn?hn[Ut]=dt:ae._root=dt,ae;do hn=hn?hn[Ut]=new Array(4):ae._root=new Array(4),(We=Be>=(St=(ie+Ue)/2))?ie=St:Ue=St,(st=rt>=(Ot=(Te+gt)/2))?Te=Ot:gt=Ot;while((Ut=st<<1|We)===(sn=(we>=Ot)<<1|ne>=St));return hn[sn]=an,hn[Ut]=dt,ae}function o(ae){var Be,rt,Dt=ae.length,hn,an,dt=new Array(Dt),ie=new Array(Dt),Te=1/0,Ue=1/0,gt=-1/0,St=-1/0;for(rt=0;rt<Dt;++rt)isNaN(hn=+this._x.call(null,Be=ae[rt]))||isNaN(an=+this._y.call(null,Be))||(dt[rt]=hn,ie[rt]=an,hn<Te&&(Te=hn),hn>gt&&(gt=hn),an<Ue&&(Ue=an),an>St&&(St=an));if(Te>gt||Ue>St)return this;for(this.cover(Te,Ue).cover(gt,St),rt=0;rt<Dt;++rt)s(this,dt[rt],ie[rt],ae[rt]);return this}function a(ae,Be){if(isNaN(ae=+ae)||isNaN(Be=+Be))return this;var rt=this._x0,Dt=this._y0,hn=this._x1,an=this._y1;if(isNaN(rt))hn=(rt=Math.floor(ae))+1,an=(Dt=Math.floor(Be))+1;else{for(var dt=hn-rt||1,ie=this._root,Te,Ue;rt>ae||ae>=hn||Dt>Be||Be>=an;)switch(Ue=(Be<Dt)<<1|ae<rt,Te=new Array(4),Te[Ue]=ie,ie=Te,dt*=2,Ue){case 0:hn=rt+dt,an=Dt+dt;break;case 1:rt=hn-dt,an=Dt+dt;break;case 2:hn=rt+dt,Dt=an-dt;break;case 3:rt=hn-dt,Dt=an-dt;break}this._root&&this._root.length&&(this._root=ie)}return this._x0=rt,this._y0=Dt,this._x1=hn,this._y1=an,this}function l(){var ae=[];return this.visit(function(Be){if(!Be.length)do ae.push(Be.data);while(Be=Be.next)}),ae}function f(ae){return arguments.length?this.cover(+ae[0][0],+ae[0][1]).cover(+ae[1][0],+ae[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function p(ae,Be,rt,Dt,hn){this.node=ae,this.x0=Be,this.y0=rt,this.x1=Dt,this.y1=hn}function _(ae,Be,rt){var Dt,hn=this._x0,an=this._y0,dt,ie,Te,Ue,gt=this._x1,St=this._y1,Ot=[],ne=this._root,we,We;for(ne&&Ot.push(new p(ne,hn,an,gt,St)),rt==null?rt=1/0:(hn=ae-rt,an=Be-rt,gt=ae+rt,St=Be+rt,rt*=rt);we=Ot.pop();)if(!(!(ne=we.node)||(dt=we.x0)>gt||(ie=we.y0)>St||(Te=we.x1)<hn||(Ue=we.y1)<an))if(ne.length){var st=(dt+Te)/2,Ut=(ie+Ue)/2;Ot.push(new p(ne[3],st,Ut,Te,Ue),new p(ne[2],dt,Ut,st,Ue),new p(ne[1],st,ie,Te,Ut),new p(ne[0],dt,ie,st,Ut)),(We=(Be>=Ut)<<1|ae>=st)&&(we=Ot[Ot.length-1],Ot[Ot.length-1]=Ot[Ot.length-1-We],Ot[Ot.length-1-We]=we)}else{var sn=ae-+this._x.call(null,ne.data),wn=Be-+this._y.call(null,ne.data),bn=sn*sn+wn*wn;if(bn<rt){var vn=Math.sqrt(rt=bn);hn=ae-vn,an=Be-vn,gt=ae+vn,St=Be+vn,Dt=ne.data}}return Dt}function b(ae){if(isNaN(gt=+this._x.call(null,ae))||isNaN(St=+this._y.call(null,ae)))return this;var Be,rt=this._root,Dt,hn,an,dt=this._x0,ie=this._y0,Te=this._x1,Ue=this._y1,gt,St,Ot,ne,we,We,st,Ut;if(!rt)return this;if(rt.length)for(;;){if((we=gt>=(Ot=(dt+Te)/2))?dt=Ot:Te=Ot,(We=St>=(ne=(ie+Ue)/2))?ie=ne:Ue=ne,Be=rt,!(rt=rt[st=We<<1|we]))return this;if(!rt.length)break;(Be[st+1&3]||Be[st+2&3]||Be[st+3&3])&&(Dt=Be,Ut=st)}for(;rt.data!==ae;)if(hn=rt,!(rt=rt.next))return this;return(an=rt.next)&&delete rt.next,hn?(an?hn.next=an:delete hn.next,this):Be?(an?Be[st]=an:delete Be[st],(rt=Be[0]||Be[1]||Be[2]||Be[3])&&rt===(Be[3]||Be[2]||Be[1]||Be[0])&&!rt.length&&(Dt?Dt[Ut]=rt:this._root=rt),this):(this._root=an,this)}function R(ae){for(var Be=0,rt=ae.length;Be<rt;++Be)this.remove(ae[Be]);return this}function O(){return this._root}function j(){var ae=0;return this.visit(function(Be){if(!Be.length)do++ae;while(Be=Be.next)}),ae}function $(ae){var Be=[],rt,Dt=this._root,hn,an,dt,ie,Te;for(Dt&&Be.push(new p(Dt,this._x0,this._y0,this._x1,this._y1));rt=Be.pop();)if(!ae(Dt=rt.node,an=rt.x0,dt=rt.y0,ie=rt.x1,Te=rt.y1)&&Dt.length){var Ue=(an+ie)/2,gt=(dt+Te)/2;(hn=Dt[3])&&Be.push(new p(hn,Ue,gt,ie,Te)),(hn=Dt[2])&&Be.push(new p(hn,an,gt,Ue,Te)),(hn=Dt[1])&&Be.push(new p(hn,Ue,dt,ie,gt)),(hn=Dt[0])&&Be.push(new p(hn,an,dt,Ue,gt))}return this}function L(ae){var Be=[],rt=[],Dt;for(this._root&&Be.push(new p(this._root,this._x0,this._y0,this._x1,this._y1));Dt=Be.pop();){var hn=Dt.node;if(hn.length){var an,dt=Dt.x0,ie=Dt.y0,Te=Dt.x1,Ue=Dt.y1,gt=(dt+Te)/2,St=(ie+Ue)/2;(an=hn[0])&&Be.push(new p(an,dt,ie,gt,St)),(an=hn[1])&&Be.push(new p(an,gt,ie,Te,St)),(an=hn[2])&&Be.push(new p(an,dt,St,gt,Ue)),(an=hn[3])&&Be.push(new p(an,gt,St,Te,Ue))}rt.push(Dt)}for(;Dt=rt.pop();)ae(Dt.node,Dt.x0,Dt.y0,Dt.x1,Dt.y1);return this}function q(ae){return ae[0]}function P(ae){return arguments.length?(this._x=ae,this):this._x}function W(ae){return ae[1]}function oe(ae){return arguments.length?(this._y=ae,this):this._y}function I(ae,Be,rt){var Dt=new J(Be??q,rt??W,NaN,NaN,NaN,NaN);return ae==null?Dt:Dt.addAll(ae)}function J(ae,Be,rt,Dt,hn,an){this._x=ae,this._y=Be,this._x0=rt,this._y0=Dt,this._x1=hn,this._y1=an,this._root=void 0}function he(ae){for(var Be={data:ae.data},rt=Be;ae=ae.next;)rt=rt.next={data:ae.data};return Be}var ye=I.prototype=J.prototype;ye.copy=function(){var ae=new J(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Be=this._root,rt,Dt;if(!Be)return ae;if(!Be.length)return ae._root=he(Be),ae;for(rt=[{source:Be,target:ae._root=new Array(4)}];Be=rt.pop();)for(var hn=0;hn<4;++hn)(Dt=Be.source[hn])&&(Dt.length?rt.push({source:Dt,target:Be.target[hn]=new Array(4)}):Be.target[hn]=he(Dt));return ae},ye.add=i,ye.addAll=o,ye.cover=a,ye.data=l,ye.extent=f,ye.find=_,ye.remove=b,ye.removeAll=R,ye.root=O,ye.size=j,ye.visit=$,ye.visitAfter=L,ye.x=P,ye.y=oe;function He(ae){return function(){return ae}}function at(ae){return(ae()-.5)*1e-6}function ct(ae){return ae.x+ae.vx}function Ze(ae){return ae.y+ae.vy}function bt(ae){var Be,rt,Dt,hn=1,an=1;typeof ae!="function"&&(ae=He(ae==null?1:+ae));function dt(){for(var Ue,gt=Be.length,St,Ot,ne,we,We,st,Ut=0;Ut<an;++Ut)for(St=I(Be,ct,Ze).visitAfter(ie),Ue=0;Ue<gt;++Ue)Ot=Be[Ue],We=rt[Ot.index],st=We*We,ne=Ot.x+Ot.vx,we=Ot.y+Ot.vy,St.visit(sn);function sn(wn,bn,vn,zn,Oe){var $e=wn.data,Ft=wn.r,N=We+Ft;if($e){if($e.index>Ot.index){var V=ne-$e.x-$e.vx,be=we-$e.y-$e.vy,xe=V*V+be*be;xe<N*N&&(V===0&&(V=at(Dt),xe+=V*V),be===0&&(be=at(Dt),xe+=be*be),xe=(N-(xe=Math.sqrt(xe)))/xe*hn,Ot.vx+=(V*=xe)*(N=(Ft*=Ft)/(st+Ft)),Ot.vy+=(be*=xe)*N,$e.vx-=V*(N=1-N),$e.vy-=be*N)}return}return bn>ne+N||zn<ne-N||vn>we+N||Oe<we-N}}function ie(Ue){if(Ue.data)return Ue.r=rt[Ue.data.index];for(var gt=Ue.r=0;gt<4;++gt)Ue[gt]&&Ue[gt].r>Ue.r&&(Ue.r=Ue[gt].r)}function Te(){if(!!Be){var Ue,gt=Be.length,St;for(rt=new Array(gt),Ue=0;Ue<gt;++Ue)St=Be[Ue],rt[St.index]=+ae(St,Ue,Be)}}return dt.initialize=function(Ue,gt){Be=Ue,Dt=gt,Te()},dt.iterations=function(Ue){return arguments.length?(an=+Ue,dt):an},dt.strength=function(Ue){return arguments.length?(hn=+Ue,dt):hn},dt.radius=function(Ue){return arguments.length?(ae=typeof Ue=="function"?Ue:He(+Ue),Te(),dt):ae},dt}function Mt(ae){return ae.index}function qe(ae,Be){var rt=ae.get(Be);if(!rt)throw new Error("node not found: "+Be);return rt}function te(ae){var Be=Mt,rt=St,Dt,hn=He(30),an,dt,ie,Te,Ue,gt=1;ae==null&&(ae=[]);function St(st){return 1/Math.min(ie[st.source.index],ie[st.target.index])}function Ot(st){for(var Ut=0,sn=ae.length;Ut<gt;++Ut)for(var wn=0,bn,vn,zn,Oe,$e,Ft,N;wn<sn;++wn)bn=ae[wn],vn=bn.source,zn=bn.target,Oe=zn.x+zn.vx-vn.x-vn.vx||at(Ue),$e=zn.y+zn.vy-vn.y-vn.vy||at(Ue),Ft=Math.sqrt(Oe*Oe+$e*$e),Ft=(Ft-an[wn])/Ft*st*Dt[wn],Oe*=Ft,$e*=Ft,zn.vx-=Oe*(N=Te[wn]),zn.vy-=$e*N,vn.vx+=Oe*(N=1-N),vn.vy+=$e*N}function ne(){if(!!dt){var st,Ut=dt.length,sn=ae.length,wn=new Map(dt.map((vn,zn)=>[Be(vn,zn,dt),vn])),bn;for(st=0,ie=new Array(Ut);st<sn;++st)bn=ae[st],bn.index=st,typeof bn.source!="object"&&(bn.source=qe(wn,bn.source)),typeof bn.target!="object"&&(bn.target=qe(wn,bn.target)),ie[bn.source.index]=(ie[bn.source.index]||0)+1,ie[bn.target.index]=(ie[bn.target.index]||0)+1;for(st=0,Te=new Array(sn);st<sn;++st)bn=ae[st],Te[st]=ie[bn.source.index]/(ie[bn.source.index]+ie[bn.target.index]);Dt=new Array(sn),we(),an=new Array(sn),We()}}function we(){if(!!dt)for(var st=0,Ut=ae.length;st<Ut;++st)Dt[st]=+rt(ae[st],st,ae)}function We(){if(!!dt)for(var st=0,Ut=ae.length;st<Ut;++st)an[st]=+hn(ae[st],st,ae)}return Ot.initialize=function(st,Ut){dt=st,Ue=Ut,ne()},Ot.links=function(st){return arguments.length?(ae=st,ne(),Ot):ae},Ot.id=function(st){return arguments.length?(Be=st,Ot):Be},Ot.iterations=function(st){return arguments.length?(gt=+st,Ot):gt},Ot.strength=function(st){return arguments.length?(rt=typeof st=="function"?st:He(+st),we(),Ot):rt},Ot.distance=function(st){return arguments.length?(hn=typeof st=="function"?st:He(+st),We(),Ot):hn},Ot}var et={value:()=>{}};function Ee(){for(var ae=0,Be=arguments.length,rt={},Dt;ae<Be;++ae){if(!(Dt=arguments[ae]+"")||Dt in rt||/[\s.]/.test(Dt))throw new Error("illegal type: "+Dt);rt[Dt]=[]}return new ke(rt)}function ke(ae){this._=ae}function Ce(ae,Be){return ae.trim().split(/^|\s+/).map(function(rt){var Dt="",hn=rt.indexOf(".");if(hn>=0&&(Dt=rt.slice(hn+1),rt=rt.slice(0,hn)),rt&&!Be.hasOwnProperty(rt))throw new Error("unknown type: "+rt);return{type:rt,name:Dt}})}ke.prototype=Ee.prototype={constructor:ke,on:function(ae,Be){var rt=this._,Dt=Ce(ae+"",rt),hn,an=-1,dt=Dt.length;if(arguments.length<2){for(;++an<dt;)if((hn=(ae=Dt[an]).type)&&(hn=pe(rt[hn],ae.name)))return hn;return}if(Be!=null&&typeof Be!="function")throw new Error("invalid callback: "+Be);for(;++an<dt;)if(hn=(ae=Dt[an]).type)rt[hn]=Je(rt[hn],ae.name,Be);else if(Be==null)for(hn in rt)rt[hn]=Je(rt[hn],ae.name,null);return this},copy:function(){var ae={},Be=this._;for(var rt in Be)ae[rt]=Be[rt].slice();return new ke(ae)},call:function(ae,Be){if((hn=arguments.length-2)>0)for(var rt=new Array(hn),Dt=0,hn,an;Dt<hn;++Dt)rt[Dt]=arguments[Dt+2];if(!this._.hasOwnProperty(ae))throw new Error("unknown type: "+ae);for(an=this._[ae],Dt=0,hn=an.length;Dt<hn;++Dt)an[Dt].value.apply(Be,rt)},apply:function(ae,Be,rt){if(!this._.hasOwnProperty(ae))throw new Error("unknown type: "+ae);for(var Dt=this._[ae],hn=0,an=Dt.length;hn<an;++hn)Dt[hn].value.apply(Be,rt)}};function pe(ae,Be){for(var rt=0,Dt=ae.length,hn;rt<Dt;++rt)if((hn=ae[rt]).name===Be)return hn.value}function Je(ae,Be,rt){for(var Dt=0,hn=ae.length;Dt<hn;++Dt)if(ae[Dt].name===Be){ae[Dt]=et,ae=ae.slice(0,Dt).concat(ae.slice(Dt+1));break}return rt!=null&&ae.push({name:Be,value:rt}),ae}var lt=0,Ht=0,wt=0,mn=1e3,kt,Bt,tn=0,Et=0,ve=0,Le=typeof performance=="object"&&performance.now?performance:Date,_e=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(ae){setTimeout(ae,17)};function ce(){return Et||(_e(tt),Et=Le.now()+ve)}function tt(){Et=0}function Ke(){this._call=this._time=this._next=null}Ke.prototype=re.prototype={constructor:Ke,restart:function(ae,Be,rt){if(typeof ae!="function")throw new TypeError("callback is not a function");rt=(rt==null?ce():+rt)+(Be==null?0:+Be),!this._next&&Bt!==this&&(Bt?Bt._next=this:kt=this,Bt=this),this._call=ae,this._time=rt,Yt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yt())}};function re(ae,Be,rt){var Dt=new Ke;return Dt.restart(ae,Be,rt),Dt}function Re(){ce(),++lt;for(var ae=kt,Be;ae;)(Be=Et-ae._time)>=0&&ae._call.call(void 0,Be),ae=ae._next;--lt}function nt(){Et=(tn=Le.now())+ve,lt=Ht=0;try{Re()}finally{lt=0,Rt(),Et=0}}function ft(){var ae=Le.now(),Be=ae-tn;Be>mn&&(ve-=Be,tn=ae)}function Rt(){for(var ae,Be=kt,rt,Dt=1/0;Be;)Be._call?(Dt>Be._time&&(Dt=Be._time),ae=Be,Be=Be._next):(rt=Be._next,Be._next=null,Be=ae?ae._next=rt:kt=rt);Bt=ae,Yt(Dt)}function Yt(ae){if(!lt){Ht&&(Ht=clearTimeout(Ht));var Be=ae-Et;Be>24?(ae<1/0&&(Ht=setTimeout(nt,ae-Le.now()-ve)),wt&&(wt=clearInterval(wt))):(wt||(tn=Le.now(),wt=setInterval(ft,mn)),lt=1,_e(nt))}}let Gt=1664525,fn=1013904223,gn=4294967296;function yn(){let ae=1;return()=>(ae=(Gt*ae+fn)%gn)/gn}function Lt(ae){return ae.x}function un(ae){return ae.y}var Pn=10,nr=Math.PI*(3-Math.sqrt(5));function On(ae){var Be,rt=1,Dt=.001,hn=1-Math.pow(Dt,1/300),an=0,dt=.6,ie=new Map,Te=re(St),Ue=Ee("tick","end"),gt=yn();ae==null&&(ae=[]);function St(){Ot(),Ue.call("tick",Be),rt<Dt&&(Te.stop(),Ue.call("end",Be))}function Ot(We){var st,Ut=ae.length,sn;We===void 0&&(We=1);for(var wn=0;wn<We;++wn)for(rt+=(an-rt)*hn,ie.forEach(function(bn){bn(rt)}),st=0;st<Ut;++st)sn=ae[st],sn.fx==null?sn.x+=sn.vx*=dt:(sn.x=sn.fx,sn.vx=0),sn.fy==null?sn.y+=sn.vy*=dt:(sn.y=sn.fy,sn.vy=0);return Be}function ne(){for(var We=0,st=ae.length,Ut;We<st;++We){if(Ut=ae[We],Ut.index=We,Ut.fx!=null&&(Ut.x=Ut.fx),Ut.fy!=null&&(Ut.y=Ut.fy),isNaN(Ut.x)||isNaN(Ut.y)){var sn=Pn*Math.sqrt(.5+We),wn=We*nr;Ut.x=sn*Math.cos(wn),Ut.y=sn*Math.sin(wn)}(isNaN(Ut.vx)||isNaN(Ut.vy))&&(Ut.vx=Ut.vy=0)}}function we(We){return We.initialize&&We.initialize(ae,gt),We}return ne(),Be={tick:Ot,restart:function(){return Te.restart(St),Be},stop:function(){return Te.stop(),Be},nodes:function(We){return arguments.length?(ae=We,ne(),ie.forEach(we),Be):ae},alpha:function(We){return arguments.length?(rt=+We,Be):rt},alphaMin:function(We){return arguments.length?(Dt=+We,Be):Dt},alphaDecay:function(We){return arguments.length?(hn=+We,Be):+hn},alphaTarget:function(We){return arguments.length?(an=+We,Be):an},velocityDecay:function(We){return arguments.length?(dt=1-We,Be):1-dt},randomSource:function(We){return arguments.length?(gt=We,ie.forEach(we),Be):gt},force:function(We,st){return arguments.length>1?(st==null?ie.delete(We):ie.set(We,we(st)),Be):ie.get(We)},find:function(We,st,Ut){var sn=0,wn=ae.length,bn,vn,zn,Oe,$e;for(Ut==null?Ut=1/0:Ut*=Ut,sn=0;sn<wn;++sn)Oe=ae[sn],bn=We-Oe.x,vn=st-Oe.y,zn=bn*bn+vn*vn,zn<Ut&&($e=Oe,Ut=zn);return $e},on:function(We,st){return arguments.length>1?(Ue.on(We,st),Be):Ue.on(We)}}}function Ne(){var ae,Be,rt,Dt,hn=He(-30),an,dt=1,ie=1/0,Te=.81;function Ue(ne){var we,We=ae.length,st=I(ae,Lt,un).visitAfter(St);for(Dt=ne,we=0;we<We;++we)Be=ae[we],st.visit(Ot)}function gt(){if(!!ae){var ne,we=ae.length,We;for(an=new Array(we),ne=0;ne<we;++ne)We=ae[ne],an[We.index]=+hn(We,ne,ae)}}function St(ne){var we=0,We,st,Ut=0,sn,wn,bn;if(ne.length){for(sn=wn=bn=0;bn<4;++bn)(We=ne[bn])&&(st=Math.abs(We.value))&&(we+=We.value,Ut+=st,sn+=st*We.x,wn+=st*We.y);ne.x=sn/Ut,ne.y=wn/Ut}else{We=ne,We.x=We.data.x,We.y=We.data.y;do we+=an[We.data.index];while(We=We.next)}ne.value=we}function Ot(ne,we,We,st){if(!ne.value)return!0;var Ut=ne.x-Be.x,sn=ne.y-Be.y,wn=st-we,bn=Ut*Ut+sn*sn;if(wn*wn/Te<bn)return bn<ie&&(Ut===0&&(Ut=at(rt),bn+=Ut*Ut),sn===0&&(sn=at(rt),bn+=sn*sn),bn<dt&&(bn=Math.sqrt(dt*bn)),Be.vx+=Ut*ne.value*Dt/bn,Be.vy+=sn*ne.value*Dt/bn),!0;if(ne.length||bn>=ie)return;(ne.data!==Be||ne.next)&&(Ut===0&&(Ut=at(rt),bn+=Ut*Ut),sn===0&&(sn=at(rt),bn+=sn*sn),bn<dt&&(bn=Math.sqrt(dt*bn)));do ne.data!==Be&&(wn=an[ne.data.index]*Dt/bn,Be.vx+=Ut*wn,Be.vy+=sn*wn);while(ne=ne.next)}return Ue.initialize=function(ne,we){ae=ne,rt=we,gt()},Ue.strength=function(ne){return arguments.length?(hn=typeof ne=="function"?ne:He(+ne),gt(),Ue):hn},Ue.distanceMin=function(ne){return arguments.length?(dt=ne*ne,Ue):Math.sqrt(dt)},Ue.distanceMax=function(ne){return arguments.length?(ie=ne*ne,Ue):Math.sqrt(ie)},Ue.theta=function(ne){return arguments.length?(Te=ne*ne,Ue):Math.sqrt(Te)},Ue}function ze(ae){var Be=He(.1),rt,Dt,hn;typeof ae!="function"&&(ae=He(ae==null?0:+ae));function an(ie){for(var Te=0,Ue=rt.length,gt;Te<Ue;++Te)gt=rt[Te],gt.vx+=(hn[Te]-gt.x)*Dt[Te]*ie}function dt(){if(!!rt){var ie,Te=rt.length;for(Dt=new Array(Te),hn=new Array(Te),ie=0;ie<Te;++ie)Dt[ie]=isNaN(hn[ie]=+ae(rt[ie],ie,rt))?0:+Be(rt[ie],ie,rt)}}return an.initialize=function(ie){rt=ie,dt()},an.strength=function(ie){return arguments.length?(Be=typeof ie=="function"?ie:He(+ie),dt(),an):Be},an.x=function(ie){return arguments.length?(ae=typeof ie=="function"?ie:He(+ie),dt(),an):ae},an}function De(ae){var Be=He(.1),rt,Dt,hn;typeof ae!="function"&&(ae=He(ae==null?0:+ae));function an(ie){for(var Te=0,Ue=rt.length,gt;Te<Ue;++Te)gt=rt[Te],gt.vy+=(hn[Te]-gt.y)*Dt[Te]*ie}function dt(){if(!!rt){var ie,Te=rt.length;for(Dt=new Array(Te),hn=new Array(Te),ie=0;ie<Te;++ie)Dt[ie]=isNaN(hn[ie]=+ae(rt[ie],ie,rt))?0:+Be(rt[ie],ie,rt)}}return an.initialize=function(ie){rt=ie,dt()},an.strength=function(ie){return arguments.length?(Be=typeof ie=="function"?ie:He(+ie),dt(),an):Be},an.y=function(ie){return arguments.length?(ae=typeof ie=="function"?ie:He(+ie),dt(),an):ae},an}let Pt={center:r,collide:bt,nbody:Ne,link:te,x:ze,y:De},mt="forces",xt=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],rn=["static","iterations"],Qt=["x","y","vx","vy"];function Fn(ae){e.Transform.call(this,null,ae)}Fn.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:Qt}]},t.inherits(Fn,e.Transform,{transform(ae,Be){var rt=this.value,Dt=Be.changed(Be.ADD_REM),hn=ae.modified(xt),an=ae.iterations||300;if(rt?(Dt&&(Be.modifies("index"),rt.nodes(Be.source)),(hn||Be.changed(Be.MOD))&&Nn(rt,ae,0,Be)):(this.value=rt=Zn(Be.source,ae),rt.on("tick",Wn(Be.dataflow,this)),ae.static||(Dt=!0,rt.tick()),Be.modifies("index")),hn||Dt||ae.modified(rn)||Be.changed()&&ae.restart){if(rt.alpha(Math.max(rt.alpha(),ae.alpha||1)).alphaDecay(1-Math.pow(rt.alphaMin(),1/an)),ae.static)for(rt.stop();--an>=0;)rt.tick();else if(rt.stopped()&&rt.restart(),!Dt)return Be.StopPropagation}return this.finish(ae,Be)},finish(ae,Be){let rt=Be.dataflow;for(let ie=this._argops,Te=0,Ue=ie.length,gt;Te<Ue;++Te)if(gt=ie[Te],!(gt.name!==mt||gt.op._argval.force!=="link")){for(var Dt=gt.op._argops,hn=0,an=Dt.length,dt;hn<an;++hn)if(Dt[hn].name==="links"&&(dt=Dt[hn].op.source)){rt.pulse(dt,rt.changeset().reflow());break}}return Be.reflow(ae.modified()).modifies(Qt)}});function Wn(ae,Be){return()=>ae.touch(Be).run()}function Zn(ae,Be){let rt=On(ae),Dt=rt.stop,hn=rt.restart,an=!1;return rt.stopped=()=>an,rt.restart=()=>(an=!1,hn()),rt.stop=()=>(an=!0,Dt()),Nn(rt,Be,!0).on("end",()=>an=!0)}function Nn(ae,Be,rt,Dt){var hn=t.array(Be.forces),an,dt,ie,Te;for(an=0,dt=xt.length;an<dt;++an)ie=xt[an],ie!==mt&&Be.modified(ie)&&ae[ie](Be[ie]);for(an=0,dt=hn.length;an<dt;++an)Te=mt+an,ie=rt||Be.modified(mt,an)?Ye(hn[an]):Dt&&rr(hn[an],Dt)?ae.force(Te):null,ie&&ae.force(Te,ie);for(dt=ae.numForces||0;an<dt;++an)ae.force(mt+an,null);return ae.numForces=hn.length,ae}function rr(ae,Be){var rt,Dt;for(rt in ae)if(t.isFunction(Dt=ae[rt])&&Be.modified(t.accessorFields(Dt)))return 1;return 0}function Ye(ae){var Be,rt;t.hasOwnProperty(Pt,ae.force)||t.error("Unrecognized force: "+ae.force),Be=Pt[ae.force]();for(rt in ae)t.isFunction(Be[rt])&&vt(Be[rt],ae[rt],ae);return Be}function vt(ae,Be,rt){ae(t.isFunction(Be)?Dt=>Be(Dt,rt):Be)}n.force=Fn,Object.defineProperty(n,"__esModule",{value:!0})})});var rRe=Ae((_V,nRe)=>{m();(function(n,e){typeof _V=="object"&&typeof nRe!="undefined"?e(_V,o0(),Tu()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(_V,function(n,e,t){"use strict";function r(Oe,$e,Ft){let N={};return Oe.each(V=>{let be=V.data;Ft(be)&&(N[$e(be)]=V)}),Oe.lookup=N,Oe}function i(Oe,$e){return Oe.parent===$e.parent?1:2}function s(Oe){return Oe.reduce(o,0)/Oe.length}function o(Oe,$e){return Oe+$e.x}function a(Oe){return 1+Oe.reduce(l,0)}function l(Oe,$e){return Math.max(Oe,$e.y)}function f(Oe){for(var $e;$e=Oe.children;)Oe=$e[0];return Oe}function p(Oe){for(var $e;$e=Oe.children;)Oe=$e[$e.length-1];return Oe}function _(){var Oe=i,$e=1,Ft=1,N=!1;function V(be){var xe,K=0;be.eachAfter(function(At){var dn=At.children;dn?(At.x=s(dn),At.y=a(dn)):(At.x=xe?K+=Oe(At,xe):0,At.y=0,xe=At)});var ue=f(be),fe=p(be),Qe=ue.x-Oe(ue,fe)/2,It=fe.x+Oe(fe,ue)/2;return be.eachAfter(N?function(At){At.x=(At.x-be.x)*$e,At.y=(be.y-At.y)*Ft}:function(At){At.x=(At.x-Qe)/(It-Qe)*$e,At.y=(1-(be.y?At.y/be.y:1))*Ft})}return V.separation=function(be){return arguments.length?(Oe=be,V):Oe},V.size=function(be){return arguments.length?(N=!1,$e=+be[0],Ft=+be[1],V):N?null:[$e,Ft]},V.nodeSize=function(be){return arguments.length?(N=!0,$e=+be[0],Ft=+be[1],V):N?[$e,Ft]:null},V}function b(Oe){var $e=0,Ft=Oe.children,N=Ft&&Ft.length;if(!N)$e=1;else for(;--N>=0;)$e+=Ft[N].value;Oe.value=$e}function R(){return this.eachAfter(b)}function O(Oe,$e){let Ft=-1;for(let N of this)Oe.call($e,N,++Ft,this);return this}function j(Oe,$e){for(var Ft=this,N=[Ft],V,be,xe=-1;Ft=N.pop();)if(Oe.call($e,Ft,++xe,this),V=Ft.children)for(be=V.length-1;be>=0;--be)N.push(V[be]);return this}function $(Oe,$e){for(var Ft=this,N=[Ft],V=[],be,xe,K,ue=-1;Ft=N.pop();)if(V.push(Ft),be=Ft.children)for(xe=0,K=be.length;xe<K;++xe)N.push(be[xe]);for(;Ft=V.pop();)Oe.call($e,Ft,++ue,this);return this}function L(Oe,$e){let Ft=-1;for(let N of this)if(Oe.call($e,N,++Ft,this))return N}function q(Oe){return this.eachAfter(function($e){for(var Ft=+Oe($e.data)||0,N=$e.children,V=N&&N.length;--V>=0;)Ft+=N[V].value;$e.value=Ft})}function P(Oe){return this.eachBefore(function($e){$e.children&&$e.children.sort(Oe)})}function W(Oe){for(var $e=this,Ft=oe($e,Oe),N=[$e];$e!==Ft;)$e=$e.parent,N.push($e);for(var V=N.length;Oe!==Ft;)N.splice(V,0,Oe),Oe=Oe.parent;return N}function oe(Oe,$e){if(Oe===$e)return Oe;var Ft=Oe.ancestors(),N=$e.ancestors(),V=null;for(Oe=Ft.pop(),$e=N.pop();Oe===$e;)V=Oe,Oe=Ft.pop(),$e=N.pop();return V}function I(){for(var Oe=this,$e=[Oe];Oe=Oe.parent;)$e.push(Oe);return $e}function J(){return Array.from(this)}function he(){var Oe=[];return this.eachBefore(function($e){$e.children||Oe.push($e)}),Oe}function ye(){var Oe=this,$e=[];return Oe.each(function(Ft){Ft!==Oe&&$e.push({source:Ft.parent,target:Ft})}),$e}function*He(){var Oe=this,$e,Ft=[Oe],N,V,be;do for($e=Ft.reverse(),Ft=[];Oe=$e.pop();)if(yield Oe,N=Oe.children)for(V=0,be=N.length;V<be;++V)Ft.push(N[V]);while(Ft.length)}function at(Oe,$e){Oe instanceof Map?(Oe=[void 0,Oe],$e===void 0&&($e=bt)):$e===void 0&&($e=Ze);for(var Ft=new te(Oe),N,V=[Ft],be,xe,K,ue;N=V.pop();)if((xe=$e(N.data))&&(ue=(xe=Array.from(xe)).length))for(N.children=xe,K=ue-1;K>=0;--K)V.push(be=xe[K]=new te(xe[K])),be.parent=N,be.depth=N.depth+1;return Ft.eachBefore(qe)}function ct(){return at(this).eachBefore(Mt)}function Ze(Oe){return Oe.children}function bt(Oe){return Array.isArray(Oe)?Oe[1]:null}function Mt(Oe){Oe.data.value!==void 0&&(Oe.value=Oe.data.value),Oe.data=Oe.data.data}function qe(Oe){var $e=0;do Oe.height=$e;while((Oe=Oe.parent)&&Oe.height<++$e)}function te(Oe){this.data=Oe,this.depth=this.height=0,this.parent=null}te.prototype=at.prototype={constructor:te,count:R,each:O,eachAfter:$,eachBefore:j,find:L,sum:q,sort:P,path:W,ancestors:I,descendants:J,leaves:he,links:ye,copy:ct,[Symbol.iterator]:He};function et(Oe){return typeof Oe=="object"&&"length"in Oe?Oe:Array.from(Oe)}function Ee(Oe){for(var $e=Oe.length,Ft,N;$e;)N=Math.random()*$e--|0,Ft=Oe[$e],Oe[$e]=Oe[N],Oe[N]=Ft;return Oe}function ke(Oe){for(var $e=0,Ft=(Oe=Ee(Array.from(Oe))).length,N=[],V,be;$e<Ft;)V=Oe[$e],be&&Je(be,V)?++$e:(be=Ht(N=Ce(N,V)),$e=0);return be}function Ce(Oe,$e){var Ft,N;if(lt($e,Oe))return[$e];for(Ft=0;Ft<Oe.length;++Ft)if(pe($e,Oe[Ft])&&lt(mn(Oe[Ft],$e),Oe))return[Oe[Ft],$e];for(Ft=0;Ft<Oe.length-1;++Ft)for(N=Ft+1;N<Oe.length;++N)if(pe(mn(Oe[Ft],Oe[N]),$e)&&pe(mn(Oe[Ft],$e),Oe[N])&&pe(mn(Oe[N],$e),Oe[Ft])&&lt(kt(Oe[Ft],Oe[N],$e),Oe))return[Oe[Ft],Oe[N],$e];throw new Error}function pe(Oe,$e){var Ft=Oe.r-$e.r,N=$e.x-Oe.x,V=$e.y-Oe.y;return Ft<0||Ft*Ft<N*N+V*V}function Je(Oe,$e){var Ft=Oe.r-$e.r+Math.max(Oe.r,$e.r,1)*1e-9,N=$e.x-Oe.x,V=$e.y-Oe.y;return Ft>0&&Ft*Ft>N*N+V*V}function lt(Oe,$e){for(var Ft=0;Ft<$e.length;++Ft)if(!Je(Oe,$e[Ft]))return!1;return!0}function Ht(Oe){switch(Oe.length){case 1:return wt(Oe[0]);case 2:return mn(Oe[0],Oe[1]);case 3:return kt(Oe[0],Oe[1],Oe[2])}}function wt(Oe){return{x:Oe.x,y:Oe.y,r:Oe.r}}function mn(Oe,$e){var Ft=Oe.x,N=Oe.y,V=Oe.r,be=$e.x,xe=$e.y,K=$e.r,ue=be-Ft,fe=xe-N,Qe=K-V,It=Math.sqrt(ue*ue+fe*fe);return{x:(Ft+be+ue/It*Qe)/2,y:(N+xe+fe/It*Qe)/2,r:(It+V+K)/2}}function kt(Oe,$e,Ft){var N=Oe.x,V=Oe.y,be=Oe.r,xe=$e.x,K=$e.y,ue=$e.r,fe=Ft.x,Qe=Ft.y,It=Ft.r,At=N-xe,dn=N-fe,C=V-K,B=V-Qe,ee=ue-be,Se=It-be,ht=N*N+V*V-be*be,Tt=ht-xe*xe-K*K+ue*ue,Zt=ht-fe*fe-Qe*Qe+It*It,Xt=dn*C-At*B,xn=(C*Zt-B*Tt)/(Xt*2)-N,qn=(B*ee-C*Se)/Xt,Un=(dn*Tt-At*Zt)/(Xt*2)-V,Vn=(At*Se-dn*ee)/Xt,Jr=qn*qn+Vn*Vn-1,Wr=2*(be+xn*qn+Un*Vn),yr=xn*xn+Un*Un-be*be,Mr=-(Jr?(Wr+Math.sqrt(Wr*Wr-4*Jr*yr))/(2*Jr):yr/Wr);return{x:N+xn+qn*Mr,y:V+Un+Vn*Mr,r:Mr}}function Bt(Oe,$e,Ft){var N=Oe.x-$e.x,V,be,xe=Oe.y-$e.y,K,ue,fe=N*N+xe*xe;fe?(be=$e.r+Ft.r,be*=be,ue=Oe.r+Ft.r,ue*=ue,be>ue?(V=(fe+ue-be)/(2*fe),K=Math.sqrt(Math.max(0,ue/fe-V*V)),Ft.x=Oe.x-V*N-K*xe,Ft.y=Oe.y-V*xe+K*N):(V=(fe+be-ue)/(2*fe),K=Math.sqrt(Math.max(0,be/fe-V*V)),Ft.x=$e.x+V*N-K*xe,Ft.y=$e.y+V*xe+K*N)):(Ft.x=$e.x+Ft.r,Ft.y=$e.y)}function tn(Oe,$e){var Ft=Oe.r+$e.r-1e-6,N=$e.x-Oe.x,V=$e.y-Oe.y;return Ft>0&&Ft*Ft>N*N+V*V}function Et(Oe){var $e=Oe._,Ft=Oe.next._,N=$e.r+Ft.r,V=($e.x*Ft.r+Ft.x*$e.r)/N,be=($e.y*Ft.r+Ft.y*$e.r)/N;return V*V+be*be}function ve(Oe){this._=Oe,this.next=null,this.previous=null}function Le(Oe){if(!(V=(Oe=et(Oe)).length))return 0;var $e,Ft,N,V,be,xe,K,ue,fe,Qe,It;if($e=Oe[0],$e.x=0,$e.y=0,!(V>1))return $e.r;if(Ft=Oe[1],$e.x=-Ft.r,Ft.x=$e.r,Ft.y=0,!(V>2))return $e.r+Ft.r;Bt(Ft,$e,N=Oe[2]),$e=new ve($e),Ft=new ve(Ft),N=new ve(N),$e.next=N.previous=Ft,Ft.next=$e.previous=N,N.next=Ft.previous=$e;e:for(K=3;K<V;++K){Bt($e._,Ft._,N=Oe[K]),N=new ve(N),ue=Ft.next,fe=$e.previous,Qe=Ft._.r,It=$e._.r;do if(Qe<=It){if(tn(ue._,N._)){Ft=ue,$e.next=Ft,Ft.previous=$e,--K;continue e}Qe+=ue._.r,ue=ue.next}else{if(tn(fe._,N._)){$e=fe,$e.next=Ft,Ft.previous=$e,--K;continue e}It+=fe._.r,fe=fe.previous}while(ue!==fe.next);for(N.previous=$e,N.next=Ft,$e.next=Ft.previous=Ft=N,be=Et($e);(N=N.next)!==Ft;)(xe=Et(N))<be&&($e=N,be=xe);Ft=$e.next}for($e=[Ft._],N=Ft;(N=N.next)!==Ft;)$e.push(N._);for(N=ke($e),K=0;K<V;++K)$e=Oe[K],$e.x-=N.x,$e.y-=N.y;return N.r}function _e(Oe){return Oe==null?null:ce(Oe)}function ce(Oe){if(typeof Oe!="function")throw new Error;return Oe}function tt(){return 0}function Ke(Oe){return function(){return Oe}}function re(Oe){return Math.sqrt(Oe.value)}function Re(){var Oe=null,$e=1,Ft=1,N=tt;function V(be){return be.x=$e/2,be.y=Ft/2,Oe?be.eachBefore(nt(Oe)).eachAfter(ft(N,.5)).eachBefore(Rt(1)):be.eachBefore(nt(re)).eachAfter(ft(tt,1)).eachAfter(ft(N,be.r/Math.min($e,Ft))).eachBefore(Rt(Math.min($e,Ft)/(2*be.r))),be}return V.radius=function(be){return arguments.length?(Oe=_e(be),V):Oe},V.size=function(be){return arguments.length?($e=+be[0],Ft=+be[1],V):[$e,Ft]},V.padding=function(be){return arguments.length?(N=typeof be=="function"?be:Ke(+be),V):N},V}function nt(Oe){return function($e){$e.children||($e.r=Math.max(0,+Oe($e)||0))}}function ft(Oe,$e){return function(Ft){if(N=Ft.children){var N,V,be=N.length,xe=Oe(Ft)*$e||0,K;if(xe)for(V=0;V<be;++V)N[V].r+=xe;if(K=Le(N),xe)for(V=0;V<be;++V)N[V].r-=xe;Ft.r=K+xe}}}function Rt(Oe){return function($e){var Ft=$e.parent;$e.r*=Oe,Ft&&($e.x=Ft.x+Oe*$e.x,$e.y=Ft.y+Oe*$e.y)}}function Yt(Oe){Oe.x0=Math.round(Oe.x0),Oe.y0=Math.round(Oe.y0),Oe.x1=Math.round(Oe.x1),Oe.y1=Math.round(Oe.y1)}function Gt(Oe,$e,Ft,N,V){for(var be=Oe.children,xe,K=-1,ue=be.length,fe=Oe.value&&(N-$e)/Oe.value;++K<ue;)xe=be[K],xe.y0=Ft,xe.y1=V,xe.x0=$e,xe.x1=$e+=xe.value*fe}function fn(){var Oe=1,$e=1,Ft=0,N=!1;function V(xe){var K=xe.height+1;return xe.x0=xe.y0=Ft,xe.x1=Oe,xe.y1=$e/K,xe.eachBefore(be($e,K)),N&&xe.eachBefore(Yt),xe}function be(xe,K){return function(ue){ue.children&&Gt(ue,ue.x0,xe*(ue.depth+1)/K,ue.x1,xe*(ue.depth+2)/K);var fe=ue.x0,Qe=ue.y0,It=ue.x1-Ft,At=ue.y1-Ft;It<fe&&(fe=It=(fe+It)/2),At<Qe&&(Qe=At=(Qe+At)/2),ue.x0=fe,ue.y0=Qe,ue.x1=It,ue.y1=At}}return V.round=function(xe){return arguments.length?(N=!!xe,V):N},V.size=function(xe){return arguments.length?(Oe=+xe[0],$e=+xe[1],V):[Oe,$e]},V.padding=function(xe){return arguments.length?(Ft=+xe,V):Ft},V}var gn={depth:-1},yn={},Lt={};function un(Oe){return Oe.id}function Pn(Oe){return Oe.parentId}function nr(){var Oe=un,$e=Pn,Ft;function N(V){var be=Array.from(V),xe=Oe,K=$e,ue,fe,Qe,It,At,dn,C,B,ee=new Map;if(Ft!=null){let Se=be.map((Zt,Xt)=>On(Ft(Zt,Xt,V))),ht=Se.map(Ne),Tt=new Set(Se).add("");for(let Zt of ht)Tt.has(Zt)||(Tt.add(Zt),Se.push(Zt),ht.push(Ne(Zt)),be.push(Lt));xe=(Zt,Xt)=>Se[Xt],K=(Zt,Xt)=>ht[Xt]}for(Qe=0,ue=be.length;Qe<ue;++Qe)fe=be[Qe],dn=be[Qe]=new te(fe),(C=xe(fe,Qe,V))!=null&&(C+="")&&(B=dn.id=C,ee.set(B,ee.has(B)?yn:dn)),(C=K(fe,Qe,V))!=null&&(C+="")&&(dn.parent=C);for(Qe=0;Qe<ue;++Qe)if(dn=be[Qe],C=dn.parent){if(At=ee.get(C),!At)throw new Error("missing: "+C);if(At===yn)throw new Error("ambiguous: "+C);At.children?At.children.push(dn):At.children=[dn],dn.parent=At}else{if(It)throw new Error("multiple roots");It=dn}if(!It)throw new Error("no root");if(Ft!=null){for(;It.data===Lt&&It.children.length===1;)It=It.children[0],--ue;for(let Se=be.length-1;Se>=0&&(dn=be[Se],dn.data===Lt);--Se)dn.data=null}if(It.parent=gn,It.eachBefore(function(Se){Se.depth=Se.parent.depth+1,--ue}).eachBefore(qe),It.parent=null,ue>0)throw new Error("cycle");return It}return N.id=function(V){return arguments.length?(Oe=_e(V),N):Oe},N.parentId=function(V){return arguments.length?($e=_e(V),N):$e},N.path=function(V){return arguments.length?(Ft=_e(V),N):Ft},N}function On(Oe){Oe=`${Oe}`;let $e=Oe.length;return ze(Oe,$e-1)&&!ze(Oe,$e-2)&&(Oe=Oe.slice(0,-1)),Oe[0]==="/"?Oe:`/${Oe}`}function Ne(Oe){let $e=Oe.length;if($e<2)return"";for(;--$e>1&&!ze(Oe,$e););return Oe.slice(0,$e)}function ze(Oe,$e){if(Oe[$e]==="/"){let Ft=0;for(;$e>0&&Oe[--$e]==="\\";)++Ft;if((Ft&1)===0)return!0}return!1}function De(Oe,$e){return Oe.parent===$e.parent?1:2}function Pt(Oe){var $e=Oe.children;return $e?$e[0]:Oe.t}function mt(Oe){var $e=Oe.children;return $e?$e[$e.length-1]:Oe.t}function xt(Oe,$e,Ft){var N=Ft/($e.i-Oe.i);$e.c-=N,$e.s+=Ft,Oe.c+=N,$e.z+=Ft,$e.m+=Ft}function rn(Oe){for(var $e=0,Ft=0,N=Oe.children,V=N.length,be;--V>=0;)be=N[V],be.z+=$e,be.m+=$e,$e+=be.s+(Ft+=be.c)}function Qt(Oe,$e,Ft){return Oe.a.parent===$e.parent?Oe.a:Ft}function Fn(Oe,$e){this._=Oe,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=$e}Fn.prototype=Object.create(te.prototype);function Wn(Oe){for(var $e=new Fn(Oe,0),Ft,N=[$e],V,be,xe,K;Ft=N.pop();)if(be=Ft._.children)for(Ft.children=new Array(K=be.length),xe=K-1;xe>=0;--xe)N.push(V=Ft.children[xe]=new Fn(be[xe],xe)),V.parent=Ft;return($e.parent=new Fn(null,0)).children=[$e],$e}function Zn(){var Oe=De,$e=1,Ft=1,N=null;function V(fe){var Qe=Wn(fe);if(Qe.eachAfter(be),Qe.parent.m=-Qe.z,Qe.eachBefore(xe),N)fe.eachBefore(ue);else{var It=fe,At=fe,dn=fe;fe.eachBefore(function(ht){ht.x<It.x&&(It=ht),ht.x>At.x&&(At=ht),ht.depth>dn.depth&&(dn=ht)});var C=It===At?1:Oe(It,At)/2,B=C-It.x,ee=$e/(At.x+C+B),Se=Ft/(dn.depth||1);fe.eachBefore(function(ht){ht.x=(ht.x+B)*ee,ht.y=ht.depth*Se})}return fe}function be(fe){var Qe=fe.children,It=fe.parent.children,At=fe.i?It[fe.i-1]:null;if(Qe){rn(fe);var dn=(Qe[0].z+Qe[Qe.length-1].z)/2;At?(fe.z=At.z+Oe(fe._,At._),fe.m=fe.z-dn):fe.z=dn}else At&&(fe.z=At.z+Oe(fe._,At._));fe.parent.A=K(fe,At,fe.parent.A||It[0])}function xe(fe){fe._.x=fe.z+fe.parent.m,fe.m+=fe.parent.m}function K(fe,Qe,It){if(Qe){for(var At=fe,dn=fe,C=Qe,B=At.parent.children[0],ee=At.m,Se=dn.m,ht=C.m,Tt=B.m,Zt;C=mt(C),At=Pt(At),C&&At;)B=Pt(B),dn=mt(dn),dn.a=fe,Zt=C.z+ht-At.z-ee+Oe(C._,At._),Zt>0&&(xt(Qt(C,fe,It),fe,Zt),ee+=Zt,Se+=Zt),ht+=C.m,ee+=At.m,Tt+=B.m,Se+=dn.m;C&&!mt(dn)&&(dn.t=C,dn.m+=ht-Se),At&&!Pt(B)&&(B.t=At,B.m+=ee-Tt,It=fe)}return It}function ue(fe){fe.x*=$e,fe.y=fe.depth*Ft}return V.separation=function(fe){return arguments.length?(Oe=fe,V):Oe},V.size=function(fe){return arguments.length?(N=!1,$e=+fe[0],Ft=+fe[1],V):N?null:[$e,Ft]},V.nodeSize=function(fe){return arguments.length?(N=!0,$e=+fe[0],Ft=+fe[1],V):N?[$e,Ft]:null},V}function Nn(Oe,$e,Ft,N,V){for(var be=Oe.children,xe,K=-1,ue=be.length,fe=Oe.value&&(V-Ft)/Oe.value;++K<ue;)xe=be[K],xe.x0=$e,xe.x1=N,xe.y0=Ft,xe.y1=Ft+=xe.value*fe}var rr=(1+Math.sqrt(5))/2;function Ye(Oe,$e,Ft,N,V,be){for(var xe=[],K=$e.children,ue,fe,Qe=0,It=0,At=K.length,dn,C,B=$e.value,ee,Se,ht,Tt,Zt,Xt,xn;Qe<At;){dn=V-Ft,C=be-N;do ee=K[It++].value;while(!ee&&It<At);for(Se=ht=ee,Xt=Math.max(C/dn,dn/C)/(B*Oe),xn=ee*ee*Xt,Zt=Math.max(ht/xn,xn/Se);It<At;++It){if(ee+=fe=K[It].value,fe<Se&&(Se=fe),fe>ht&&(ht=fe),xn=ee*ee*Xt,Tt=Math.max(ht/xn,xn/Se),Tt>Zt){ee-=fe;break}Zt=Tt}xe.push(ue={value:ee,dice:dn<C,children:K.slice(Qe,It)}),ue.dice?Gt(ue,Ft,N,V,B?N+=C*ee/B:be):Nn(ue,Ft,N,B?Ft+=dn*ee/B:V,be),B-=ee,Qe=It}return xe}var vt=function Oe($e){function Ft(N,V,be,xe,K){Ye($e,N,V,be,xe,K)}return Ft.ratio=function(N){return Oe((N=+N)>1?N:1)},Ft}(rr);function ae(){var Oe=vt,$e=!1,Ft=1,N=1,V=[0],be=tt,xe=tt,K=tt,ue=tt,fe=tt;function Qe(At){return At.x0=At.y0=0,At.x1=Ft,At.y1=N,At.eachBefore(It),V=[0],$e&&At.eachBefore(Yt),At}function It(At){var dn=V[At.depth],C=At.x0+dn,B=At.y0+dn,ee=At.x1-dn,Se=At.y1-dn;ee<C&&(C=ee=(C+ee)/2),Se<B&&(B=Se=(B+Se)/2),At.x0=C,At.y0=B,At.x1=ee,At.y1=Se,At.children&&(dn=V[At.depth+1]=be(At)/2,C+=fe(At)-dn,B+=xe(At)-dn,ee-=K(At)-dn,Se-=ue(At)-dn,ee<C&&(C=ee=(C+ee)/2),Se<B&&(B=Se=(B+Se)/2),Oe(At,C,B,ee,Se))}return Qe.round=function(At){return arguments.length?($e=!!At,Qe):$e},Qe.size=function(At){return arguments.length?(Ft=+At[0],N=+At[1],Qe):[Ft,N]},Qe.tile=function(At){return arguments.length?(Oe=ce(At),Qe):Oe},Qe.padding=function(At){return arguments.length?Qe.paddingInner(At).paddingOuter(At):Qe.paddingInner()},Qe.paddingInner=function(At){return arguments.length?(be=typeof At=="function"?At:Ke(+At),Qe):be},Qe.paddingOuter=function(At){return arguments.length?Qe.paddingTop(At).paddingRight(At).paddingBottom(At).paddingLeft(At):Qe.paddingTop()},Qe.paddingTop=function(At){return arguments.length?(xe=typeof At=="function"?At:Ke(+At),Qe):xe},Qe.paddingRight=function(At){return arguments.length?(K=typeof At=="function"?At:Ke(+At),Qe):K},Qe.paddingBottom=function(At){return arguments.length?(ue=typeof At=="function"?At:Ke(+At),Qe):ue},Qe.paddingLeft=function(At){return arguments.length?(fe=typeof At=="function"?At:Ke(+At),Qe):fe},Qe}function Be(Oe,$e,Ft,N,V){var be=Oe.children,xe,K=be.length,ue,fe=new Array(K+1);for(fe[0]=ue=xe=0;xe<K;++xe)fe[xe+1]=ue+=be[xe].value;Qe(0,K,Oe.value,$e,Ft,N,V);function Qe(It,At,dn,C,B,ee,Se){if(It>=At-1){var ht=be[It];ht.x0=C,ht.y0=B,ht.x1=ee,ht.y1=Se;return}for(var Tt=fe[It],Zt=dn/2+Tt,Xt=It+1,xn=At-1;Xt<xn;){var qn=Xt+xn>>>1;fe[qn]<Zt?Xt=qn+1:xn=qn}Zt-fe[Xt-1]<fe[Xt]-Zt&&It+1<Xt&&--Xt;var Un=fe[Xt]-Tt,Vn=dn-Un;if(ee-C>Se-B){var Jr=dn?(C*Vn+ee*Un)/dn:ee;Qe(It,Xt,Un,C,B,Jr,Se),Qe(Xt,At,Vn,Jr,B,ee,Se)}else{var Wr=dn?(B*Vn+Se*Un)/dn:Se;Qe(It,Xt,Un,C,B,ee,Wr),Qe(Xt,At,Vn,C,Wr,ee,Se)}}}function rt(Oe,$e,Ft,N,V){(Oe.depth&1?Nn:Gt)(Oe,$e,Ft,N,V)}var Dt=function Oe($e){function Ft(N,V,be,xe,K){if((ue=N._squarify)&&ue.ratio===$e)for(var ue,fe,Qe,It,At=-1,dn,C=ue.length,B=N.value;++At<C;){for(fe=ue[At],Qe=fe.children,It=fe.value=0,dn=Qe.length;It<dn;++It)fe.value+=Qe[It].value;fe.dice?Gt(fe,V,be,xe,B?be+=(K-be)*fe.value/B:K):Nn(fe,V,be,B?V+=(xe-V)*fe.value/B:xe,K),B-=fe.value}else N._squarify=ue=Ye($e,N,V,be,xe,K),ue.ratio=$e}return Ft.ratio=function(N){return Oe((N=+N)>1?N:1)},Ft}(rr);function hn(Oe){e.Transform.call(this,null,Oe)}hn.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};let an=Oe=>Oe.values;t.inherits(hn,e.Transform,{transform(Oe,$e){$e.source||t.error("Nest transform requires an upstream data source.");var Ft=Oe.generate,N=Oe.modified(),V=$e.clone(),be=this.value;return(!be||N||$e.changed())&&(be&&be.each(xe=>{xe.children&&e.isTuple(xe.data)&&V.rem.push(xe.data)}),this.value=be=at({values:t.array(Oe.keys).reduce((xe,K)=>(xe.key(K),xe),dt()).entries(V.source)},an),Ft&&be.each(xe=>{xe.children&&(xe=e.ingest(xe.data),V.add.push(xe),V.source.push(xe))}),r(be,e.tupleid,e.tupleid)),V.source.root=be,V}});function dt(){let Oe=[],$e={entries:V=>N(Ft(V,0),0),key:V=>(Oe.push(V),$e)};function Ft(V,be){if(be>=Oe.length)return V;let xe=V.length,K=Oe[be++],ue={},fe={},Qe=-1,It,At,dn;for(;++Qe<xe;)It=K(At=V[Qe])+"",(dn=ue[It])?dn.push(At):ue[It]=[At];for(It in ue)fe[It]=Ft(ue[It],be);return fe}function N(V,be){if(++be>Oe.length)return V;let xe=[];for(let K in V)xe.push({key:K,values:N(V[K],be)});return xe}return $e}function ie(Oe){e.Transform.call(this,null,Oe)}let Te=(Oe,$e)=>Oe.parent===$e.parent?1:2;t.inherits(ie,e.Transform,{transform(Oe,$e){(!$e.source||!$e.source.root)&&t.error(this.constructor.name+" transform requires a backing tree data source.");let Ft=this.layout(Oe.method),N=this.fields,V=$e.source.root,be=Oe.as||N;Oe.field?V.sum(Oe.field):V.count(),Oe.sort&&V.sort(e.stableCompare(Oe.sort,xe=>xe.data)),Ue(Ft,this.params,Oe),Ft.separation&&Ft.separation(Oe.separation!==!1?Te:t.one);try{this.value=Ft(V)}catch(xe){t.error(xe)}return V.each(xe=>gt(xe,N,be)),$e.reflow(Oe.modified()).modifies(be).modifies("leaf")}});function Ue(Oe,$e,Ft){for(let N,V=0,be=$e.length;V<be;++V)N=$e[V],N in Ft&&Oe[N](Ft[N])}function gt(Oe,$e,Ft){let N=Oe.data,V=$e.length-1;for(let be=0;be<V;++be)N[Ft[be]]=Oe[$e[be]];N[Ft[V]]=Oe.children?Oe.children.length:0}let St=["x","y","r","depth","children"];function Ot(Oe){ie.call(this,Oe)}Ot.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:St.length,default:St}]},t.inherits(Ot,ie,{layout:Re,params:["radius","size","padding"],fields:St});let ne=["x0","y0","x1","y1","depth","children"];function we(Oe){ie.call(this,Oe)}we.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:ne.length,default:ne}]},t.inherits(we,ie,{layout:fn,params:["size","round","padding"],fields:ne});function We(Oe){e.Transform.call(this,null,Oe)}We.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},t.inherits(We,e.Transform,{transform(Oe,$e){$e.source||t.error("Stratify transform requires an upstream data source.");let Ft=this.value,N=Oe.modified(),V=$e.fork($e.ALL).materialize($e.SOURCE),be=!Ft||N||$e.changed($e.ADD_REM)||$e.modified(Oe.key.fields)||$e.modified(Oe.parentKey.fields);return V.source=V.source.slice(),be&&(Ft=V.source.length?r(nr().id(Oe.key).parentId(Oe.parentKey)(V.source),Oe.key,t.truthy):r(nr()([{}]),Oe.key,Oe.key)),V.source.root=this.value=Ft,V}});let st={tidy:Zn,cluster:_},Ut=["x","y","depth","children"];function sn(Oe){ie.call(this,Oe)}sn.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:Ut.length,default:Ut}]},t.inherits(sn,ie,{layout(Oe){let $e=Oe||"tidy";if(t.hasOwnProperty(st,$e))return st[$e]();t.error("Unrecognized Tree layout method: "+$e)},params:["size","nodeSize"],fields:Ut});function wn(Oe){e.Transform.call(this,[],Oe)}wn.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},t.inherits(wn,e.Transform,{transform(Oe,$e){let Ft=this.value,N=$e.source&&$e.source.root,V=$e.fork($e.NO_SOURCE),be={};return N||t.error("TreeLinks transform requires a tree data source."),$e.changed($e.ADD_REM)?(V.rem=Ft,$e.visit($e.SOURCE,xe=>be[e.tupleid(xe)]=1),N.each(xe=>{let K=xe.data,ue=xe.parent&&xe.parent.data;ue&&be[e.tupleid(K)]&&be[e.tupleid(ue)]&&V.add.push(e.ingest({source:ue,target:K}))}),this.value=V.add):$e.changed($e.MOD)&&($e.visit($e.MOD,xe=>be[e.tupleid(xe)]=1),Ft.forEach(xe=>{(be[e.tupleid(xe.source)]||be[e.tupleid(xe.target)])&&V.mod.push(xe)})),V}});let bn={binary:Be,dice:Gt,slice:Nn,slicedice:rt,squarify:vt,resquarify:Dt},vn=["x0","y0","x1","y1","depth","children"];function zn(Oe){ie.call(this,Oe)}zn.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:vn.length,default:vn}]},t.inherits(zn,ie,{layout(){let Oe=ae();return Oe.ratio=$e=>{let Ft=Oe.tile();Ft.ratio&&Oe.tile(Ft.ratio($e))},Oe.method=$e=>{t.hasOwnProperty(bn,$e)?Oe.tile(bn[$e]):t.error("Unrecognized Treemap layout method: "+$e)},Oe},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:vn}),n.nest=hn,n.pack=Ot,n.partition=we,n.stratify=We,n.tree=sn,n.treelinks=wn,n.treemap=zn,Object.defineProperty(n,"__esModule",{value:!0})})});var sRe=Ae((EV,iRe)=>{m();(function(n,e){typeof EV=="object"&&typeof iRe!="undefined"?e(EV,x9(),_N(),o0(),Tu()):typeof define=="function"&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega))})(EV,function(n,e,t,r,i){"use strict";let s=4278190080;function o(Bt,tn){let Et=Bt.bitmap();return(tn||[]).forEach(ve=>Et.set(Bt(ve.boundary[0]),Bt(ve.boundary[3]))),[Et,void 0]}function a(Bt,tn,Et,ve,Le){let _e=Bt.width,ce=Bt.height,tt=ve||Le,Ke=t.canvas(_e,ce).getContext("2d"),re=t.canvas(_e,ce).getContext("2d"),Re=tt&&t.canvas(_e,ce).getContext("2d");Et.forEach(Ne=>f(Ke,Ne,!1)),f(re,tn,!1),tt&&f(Re,tn,!0);let nt=l(Ke,_e,ce),ft=l(re,_e,ce),Rt=tt&&l(Re,_e,ce),Yt=Bt.bitmap(),Gt=tt&&Bt.bitmap(),fn,gn,yn,Lt,un,Pn,nr,On;for(gn=0;gn<ce;++gn)for(fn=0;fn<_e;++fn)un=gn*_e+fn,Pn=nt[un]&s,On=ft[un]&s,nr=tt&&Rt[un]&s,(Pn||nr||On)&&(yn=Bt(fn),Lt=Bt(gn),!Le&&(Pn||On)&&Yt.set(yn,Lt),tt&&(Pn||nr)&&Gt.set(yn,Lt));return[Yt,Gt]}function l(Bt,tn,Et){return new Uint32Array(Bt.getImageData(0,0,tn,Et).data.buffer)}function f(Bt,tn,Et){if(!tn.length)return;let ve=tn[0].mark.marktype;ve==="group"?tn.forEach(Le=>{Le.items.forEach(_e=>f(Bt,_e.items,Et))}):e.Marks[ve].draw(Bt,{items:Et?tn.map(p):tn})}function p(Bt){let tn=r.rederive(Bt,{});return tn.stroke&&tn.strokeOpacity!==0||tn.fill&&tn.fillOpacity!==0?{...tn,strokeOpacity:1,stroke:"#000",fillOpacity:0}:tn}let _=5,b=31,R=32,O=new Uint32Array(R+1),j=new Uint32Array(R+1);j[0]=0,O[0]=~j[0];for(let Bt=1;Bt<=R;++Bt)j[Bt]=j[Bt-1]<<1|1,O[Bt]=~j[Bt];function $(Bt,tn){let Et=new Uint32Array(~~((Bt*tn+R)/R));function ve(_e,ce){Et[_e]|=ce}function Le(_e,ce){Et[_e]&=ce}return{array:Et,get:(_e,ce)=>{let tt=ce*Bt+_e;return Et[tt>>>_]&1<<(tt&b)},set:(_e,ce)=>{let tt=ce*Bt+_e;ve(tt>>>_,1<<(tt&b))},clear:(_e,ce)=>{let tt=ce*Bt+_e;Le(tt>>>_,~(1<<(tt&b)))},getRange:(_e,ce,tt,Ke)=>{let re=Ke,Re,nt,ft,Rt;for(;re>=ce;--re)if(Re=re*Bt+_e,nt=re*Bt+tt,ft=Re>>>_,Rt=nt>>>_,ft===Rt){if(Et[ft]&O[Re&b]&j[(nt&b)+1])return!0}else{if(Et[ft]&O[Re&b]||Et[Rt]&j[(nt&b)+1])return!0;for(let Yt=ft+1;Yt<Rt;++Yt)if(Et[Yt])return!0}return!1},setRange:(_e,ce,tt,Ke)=>{let re,Re,nt,ft,Rt;for(;ce<=Ke;++ce)if(re=ce*Bt+_e,Re=ce*Bt+tt,nt=re>>>_,ft=Re>>>_,nt===ft)ve(nt,O[re&b]&j[(Re&b)+1]);else for(ve(nt,O[re&b]),ve(ft,j[(Re&b)+1]),Rt=nt+1;Rt<ft;++Rt)ve(Rt,4294967295)},clearRange:(_e,ce,tt,Ke)=>{let re,Re,nt,ft,Rt;for(;ce<=Ke;++ce)if(re=ce*Bt+_e,Re=ce*Bt+tt,nt=re>>>_,ft=Re>>>_,nt===ft)Le(nt,j[re&b]|O[(Re&b)+1]);else for(Le(nt,j[re&b]),Le(ft,O[(Re&b)+1]),Rt=nt+1;Rt<ft;++Rt)Le(Rt,0)},outOfBounds:(_e,ce,tt,Ke)=>_e<0||ce<0||Ke>=tn||tt>=Bt}}function L(Bt,tn,Et){let ve=Math.max(1,Math.sqrt(Bt*tn/1e6)),Le=~~((Bt+2*Et+ve)/ve),_e=~~((tn+2*Et+ve)/ve),ce=tt=>~~((tt+Et)/ve);return ce.invert=tt=>tt*ve-Et,ce.bitmap=()=>$(Le,_e),ce.ratio=ve,ce.padding=Et,ce.width=Bt,ce.height=tn,ce}function q(Bt,tn,Et,ve){let Le=Bt.width,_e=Bt.height;return function(ce){let tt=ce.datum.datum.items[ve].items,Ke=tt.length,re=ce.datum.fontSize,Re=e.textMetrics.width(ce.datum,ce.datum.text),nt=0,ft,Rt,Yt,Gt,fn,gn,yn;for(let Lt=0;Lt<Ke;++Lt)ft=tt[Lt].x,Yt=tt[Lt].y,Rt=tt[Lt].x2===void 0?ft:tt[Lt].x2,Gt=tt[Lt].y2===void 0?Yt:tt[Lt].y2,fn=(ft+Rt)/2,gn=(Yt+Gt)/2,yn=Math.abs(Rt-ft+Gt-Yt),yn>=nt&&(nt=yn,ce.x=fn,ce.y=gn);return fn=Re/2,gn=re/2,ft=ce.x-fn,Rt=ce.x+fn,Yt=ce.y-gn,Gt=ce.y+gn,ce.align="center",ft<0&&Rt<=Le?ce.align="left":0<=ft&&Le<Rt&&(ce.align="right"),ce.baseline="middle",Yt<0&&Gt<=_e?ce.baseline="top":0<=Yt&&_e<Gt&&(ce.baseline="bottom"),!0}}function P(Bt,tn,Et,ve,Le,_e){let ce=Et/2;return Bt-ce<0||Bt+ce>Le||tn-(ce=ve/2)<0||tn+ce>_e}function W(Bt,tn,Et,ve,Le,_e,ce,tt){let Ke=Le*_e/(ve*2),re=Bt(tn-Ke),Re=Bt(tn+Ke),nt=Bt(Et-(_e=_e/2)),ft=Bt(Et+_e);return ce.outOfBounds(re,nt,Re,ft)||ce.getRange(re,nt,Re,ft)||tt&&tt.getRange(re,nt,Re,ft)}function oe(Bt,tn,Et,ve){let Le=Bt.width,_e=Bt.height,ce=tn[0],tt=tn[1];function Ke(re,Re,nt,ft,Rt){let Yt=Bt.invert(re),Gt=Bt.invert(Re),fn=nt,gn=_e,yn;if(!P(Yt,Gt,ft,Rt,Le,_e)&&!W(Bt,Yt,Gt,Rt,ft,fn,ce,tt)&&!W(Bt,Yt,Gt,Rt,ft,Rt,ce,null)){for(;gn-fn>=1;)yn=(fn+gn)/2,W(Bt,Yt,Gt,Rt,ft,yn,ce,tt)?gn=yn:fn=yn;if(fn>nt)return[Yt,Gt,fn,!0]}}return function(re){let Re=re.datum.datum.items[ve].items,nt=Re.length,ft=re.datum.fontSize,Rt=e.textMetrics.width(re.datum,re.datum.text),Yt=Et?ft:0,Gt=!1,fn=!1,gn=0,yn,Lt,un,Pn,nr,On,Ne,ze,De,Pt,mt,xt,rn,Qt,Fn,Wn,Zn;for(let Nn=0;Nn<nt;++Nn){for(yn=Re[Nn].x,un=Re[Nn].y,Lt=Re[Nn].x2===void 0?yn:Re[Nn].x2,Pn=Re[Nn].y2===void 0?un:Re[Nn].y2,yn>Lt&&(Zn=yn,yn=Lt,Lt=Zn),un>Pn&&(Zn=un,un=Pn,Pn=Zn),De=Bt(yn),mt=Bt(Lt),Pt=~~((De+mt)/2),xt=Bt(un),Qt=Bt(Pn),rn=~~((xt+Qt)/2),Ne=Pt;Ne>=De;--Ne)for(ze=rn;ze>=xt;--ze)Wn=Ke(Ne,ze,Yt,Rt,ft),Wn&&([re.x,re.y,Yt,Gt]=Wn);for(Ne=Pt;Ne<=mt;++Ne)for(ze=rn;ze<=Qt;++ze)Wn=Ke(Ne,ze,Yt,Rt,ft),Wn&&([re.x,re.y,Yt,Gt]=Wn);!Gt&&!Et&&(Fn=Math.abs(Lt-yn+Pn-un),nr=(yn+Lt)/2,On=(un+Pn)/2,Fn>=gn&&!P(nr,On,Rt,ft,Le,_e)&&!W(Bt,nr,On,ft,Rt,ft,ce,null)&&(gn=Fn,re.x=nr,re.y=On,fn=!0))}return Gt||fn?(nr=Rt/2,On=ft/2,ce.setRange(Bt(re.x-nr),Bt(re.y-On),Bt(re.x+nr),Bt(re.y+On)),re.align="center",re.baseline="middle",!0):!1}}let I=[-1,-1,1,1],J=[-1,1,-1,1];function he(Bt,tn,Et,ve){let Le=Bt.width,_e=Bt.height,ce=tn[0],tt=tn[1],Ke=Bt.bitmap();return function(re){let Re=re.datum.datum.items[ve].items,nt=Re.length,ft=re.datum.fontSize,Rt=e.textMetrics.width(re.datum,re.datum.text),Yt=[],Gt=Et?ft:0,fn=!1,gn=!1,yn=0,Lt,un,Pn,nr,On,Ne,ze,De,Pt,mt,xt,rn;for(let Qt=0;Qt<nt;++Qt){for(Lt=Re[Qt].x,Pn=Re[Qt].y,un=Re[Qt].x2===void 0?Lt:Re[Qt].x2,nr=Re[Qt].y2===void 0?Pn:Re[Qt].y2,Yt.push([Bt((Lt+un)/2),Bt((Pn+nr)/2)]);Yt.length;)if([ze,De]=Yt.pop(),!(ce.get(ze,De)||tt.get(ze,De)||Ke.get(ze,De))){Ke.set(ze,De);for(let Fn=0;Fn<4;++Fn)On=ze+I[Fn],Ne=De+J[Fn],Ke.outOfBounds(On,Ne,On,Ne)||Yt.push([On,Ne]);if(On=Bt.invert(ze),Ne=Bt.invert(De),Pt=Gt,mt=_e,!P(On,Ne,Rt,ft,Le,_e)&&!W(Bt,On,Ne,ft,Rt,Pt,ce,tt)&&!W(Bt,On,Ne,ft,Rt,ft,ce,null)){for(;mt-Pt>=1;)xt=(Pt+mt)/2,W(Bt,On,Ne,ft,Rt,xt,ce,tt)?mt=xt:Pt=xt;Pt>Gt&&(re.x=On,re.y=Ne,Gt=Pt,fn=!0)}}!fn&&!Et&&(rn=Math.abs(un-Lt+nr-Pn),On=(Lt+un)/2,Ne=(Pn+nr)/2,rn>=yn&&!P(On,Ne,Rt,ft,Le,_e)&&!W(Bt,On,Ne,ft,Rt,ft,ce,null)&&(yn=rn,re.x=On,re.y=Ne,gn=!0))}return fn||gn?(On=Rt/2,Ne=ft/2,ce.setRange(Bt(re.x-On),Bt(re.y-Ne),Bt(re.x+On),Bt(re.y+Ne)),re.align="center",re.baseline="middle",!0):!1}}let ye=["right","center","left"],He=["bottom","middle","top"];function at(Bt,tn,Et,ve){let Le=Bt.width,_e=Bt.height,ce=tn[0],tt=tn[1],Ke=ve.length;return function(re){let Re=re.boundary,nt=re.datum.fontSize;if(Re[2]<0||Re[5]<0||Re[0]>Le||Re[3]>_e)return!1;let ft=re.textWidth??0,Rt,Yt,Gt,fn,gn,yn,Lt,un,Pn,nr,On,Ne,ze,De,Pt;for(let mt=0;mt<Ke;++mt){if(Rt=(Et[mt]&3)-1,Yt=(Et[mt]>>>2&3)-1,Gt=Rt===0&&Yt===0||ve[mt]<0,fn=Rt&&Yt?Math.SQRT1_2:1,gn=ve[mt]<0?-1:1,yn=Re[1+Rt]+ve[mt]*Rt*fn,On=Re[4+Yt]+gn*nt*Yt/2+ve[mt]*Yt*fn,un=On-nt/2,Pn=On+nt/2,Ne=Bt(yn),De=Bt(un),Pt=Bt(Pn),!ft)if(ct(Ne,Ne,De,Pt,ce,tt,yn,yn,un,Pn,Re,Gt))ft=e.textMetrics.width(re.datum,re.datum.text);else continue;if(nr=yn+gn*ft*Rt/2,yn=nr-ft/2,Lt=nr+ft/2,Ne=Bt(yn),ze=Bt(Lt),ct(Ne,ze,De,Pt,ce,tt,yn,Lt,un,Pn,Re,Gt))return re.x=Rt?Rt*gn<0?Lt:yn:nr,re.y=Yt?Yt*gn<0?Pn:un:On,re.align=ye[Rt*gn+1],re.baseline=He[Yt*gn+1],ce.setRange(Ne,De,ze,Pt),!0}return!1}}function ct(Bt,tn,Et,ve,Le,_e,ce,tt,Ke,re,Re,nt){return!(Le.outOfBounds(Bt,Et,tn,ve)||(nt&&_e||Le).getRange(Bt,Et,tn,ve))}let Ze=0,bt=4,Mt=8,qe=0,te=1,et=2,Ee={"top-left":Ze+qe,top:Ze+te,"top-right":Ze+et,left:bt+qe,middle:bt+te,right:bt+et,"bottom-left":Mt+qe,bottom:Mt+te,"bottom-right":Mt+et},ke={naive:q,"reduced-search":oe,floodfill:he};function Ce(Bt,tn,Et,ve,Le,_e,ce,tt,Ke,re,Re){if(!Bt.length)return Bt;let nt=Math.max(ve.length,Le.length),ft=pe(ve,nt),Rt=Je(Le,nt),Yt=lt(Bt[0].datum),Gt=Yt==="group"&&Bt[0].datum.items[Ke].marktype,fn=Gt==="area",gn=Ht(Yt,Gt,tt,Ke),yn=re===null||re===1/0,Lt=fn&&Re==="naive",un=-1,Pn=-1,nr=Bt.map(De=>{let Pt=yn?e.textMetrics.width(De,De.text):void 0;return un=Math.max(un,Pt),Pn=Math.max(Pn,De.fontSize),{datum:De,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:gn(De),textWidth:Pt}});re=re===null||re===1/0?Math.max(un,Pn)+Math.max(...ve):re;let On=L(tn[0],tn[1],re),Ne;if(!Lt){Et&&nr.sort((mt,xt)=>Et(mt.datum,xt.datum));let De=!1;for(let mt=0;mt<Rt.length&&!De;++mt)De=Rt[mt]===5||ft[mt]<0;let Pt=(Yt&&ce||fn)&&Bt.map(mt=>mt.datum);Ne=_e.length||Pt?a(On,Pt||[],_e,De,fn):o(On,ce&&nr)}let ze=fn?ke[Re](On,Ne,ce,Ke):at(On,Ne,Rt,ft);return nr.forEach(De=>De.opacity=+ze(De)),nr}function pe(Bt,tn){let Et=new Float64Array(tn),ve=Bt.length;for(let Le=0;Le<ve;++Le)Et[Le]=Bt[Le]||0;for(let Le=ve;Le<tn;++Le)Et[Le]=Et[ve-1];return Et}function Je(Bt,tn){let Et=new Int8Array(tn),ve=Bt.length;for(let Le=0;Le<ve;++Le)Et[Le]|=Ee[Bt[Le]];for(let Le=ve;Le<tn;++Le)Et[Le]=Et[ve-1];return Et}function lt(Bt){return Bt&&Bt.mark&&Bt.mark.marktype}function Ht(Bt,tn,Et,ve){let Le=_e=>[_e.x,_e.x,_e.x,_e.y,_e.y,_e.y];return Bt?Bt==="line"||Bt==="area"?_e=>Le(_e.datum):tn==="line"?_e=>{let ce=_e.datum.items[ve].items;return Le(ce.length?ce[Et==="start"?0:ce.length-1]:{x:NaN,y:NaN})}:_e=>{let ce=_e.datum.bounds;return[ce.x1,(ce.x1+ce.x2)/2,ce.x2,ce.y1,(ce.y1+ce.y2)/2,ce.y2]}:Le}let wt=["x","y","opacity","align","baseline"],mn=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function kt(Bt){r.Transform.call(this,null,Bt)}kt.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:mn},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:wt.length,default:wt}]},i.inherits(kt,r.Transform,{transform(Bt,tn){function Et(_e){let ce=Bt[_e];return i.isFunction(ce)&&tn.modified(ce.fields)}let ve=Bt.modified();if(!(ve||tn.changed(tn.ADD_REM)||Et("sort")))return;(!Bt.size||Bt.size.length!==2)&&i.error("Size parameter should be specified as a [width, height] array.");let Le=Bt.as||wt;return Ce(tn.materialize(tn.SOURCE).source||[],Bt.size,Bt.sort,i.array(Bt.offset==null?1:Bt.offset),i.array(Bt.anchor||mn),Bt.avoidMarks||[],Bt.avoidBaseMark!==!1,Bt.lineAnchor||"end",Bt.markIndex||0,Bt.padding===void 0?0:Bt.padding,Bt.method||"naive").forEach(_e=>{let ce=_e.datum;ce[Le[0]]=_e.x,ce[Le[1]]=_e.y,ce[Le[2]]=_e.opacity,ce[Le[3]]=_e.align,ce[Le[4]]=_e.baseline}),tn.reflow(ve).modifies(Le)}}),n.label=kt,Object.defineProperty(n,"__esModule",{value:!0})})});var aRe=Ae((bV,oRe)=>{m();(function(n,e){typeof bV=="object"&&typeof oRe!="undefined"?e(bV,mb(),o0(),Tu()):typeof define=="function"&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega))})(bV,function(n,e,t,r){"use strict";function i(f,p){var _=[],b=function(P){return P($)},R,O,j,$,L,q;if(p==null)_.push(f);else for(R={},O=0,j=f.length;O<j;++O)$=f[O],L=p.map(b),q=R[L],q||(R[L]=q=[],q.dims=L,_.push(q)),q.push($);return _}function s(f){t.Transform.call(this,null,f)}s.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},r.inherits(s,t.Transform,{transform(f,p){let _=p.fork(p.NO_SOURCE|p.NO_FIELDS);if(!this.value||p.changed()||f.modified()){let b=p.materialize(p.SOURCE).source,R=i(b,f.groupby),O=(f.groupby||[]).map(r.accessorName),j=O.length,$=f.as||[r.accessorName(f.x),r.accessorName(f.y)],L=[];R.forEach(q=>{e.regressionLoess(q,f.x,f.y,f.bandwidth||.3).forEach(P=>{let W={};for(let oe=0;oe<j;++oe)W[O[oe]]=q.dims[oe];W[$[0]]=P[0],W[$[1]]=P[1],L.push(t.ingest(W))})}),this.value&&(_.rem=this.value),this.value=_.add=_.source=L}return _}});let o={linear:e.regressionLinear,log:e.regressionLog,exp:e.regressionExp,pow:e.regressionPow,quad:e.regressionQuad,poly:e.regressionPoly},a=(f,p)=>f==="poly"?p:f==="quad"?2:1;function l(f){t.Transform.call(this,null,f)}l.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(o)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},r.inherits(l,t.Transform,{transform(f,p){let _=p.fork(p.NO_SOURCE|p.NO_FIELDS);if(!this.value||p.changed()||f.modified()){let b=p.materialize(p.SOURCE).source,R=i(b,f.groupby),O=(f.groupby||[]).map(r.accessorName),j=f.method||"linear",$=f.order||3,L=a(j,$),q=f.as||[r.accessorName(f.x),r.accessorName(f.y)],P=o[j],W=[],oe=f.extent;r.hasOwnProperty(o,j)||r.error("Invalid regression method: "+j),oe!=null&&j==="log"&&oe[0]<=0&&(p.dataflow.warn("Ignoring extent with values <= 0 for log regression."),oe=null),R.forEach(I=>{if(I.length<=L){p.dataflow.warn("Skipping regression with more parameters than data points.");return}let he=P(I,f.x,f.y,$);if(f.params){W.push(t.ingest({keys:I.dims,coef:he.coef,rSquared:he.rSquared}));return}let ye=oe||r.extent(I,f.x),He=at=>{let ct={};for(let Ze=0;Ze<O.length;++Ze)ct[O[Ze]]=I.dims[Ze];ct[q[0]]=at[0],ct[q[1]]=at[1],W.push(t.ingest(ct))};j==="linear"?ye.forEach(at=>He([at,he.predict(at)])):e.sampleCurve(he.predict,ye,25,200).forEach(He)}),this.value&&(_.rem=this.value),this.value=_.add=_.source=W}return _}}),n.loess=s,n.regression=l,Object.defineProperty(n,"__esModule",{value:!0})})});var lRe=Ae((SV,uRe)=>{m();(function(n,e){typeof SV=="object"&&typeof uRe!="undefined"?e(SV,o0(),Tu()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega))})(SV,function(n,e,t){"use strict";let r=11102230246251565e-32,i=134217729,s=(3+8*r)*r;function o(Et,ve,Le,_e,ce){let tt,Ke,re,Re,nt=ve[0],ft=_e[0],Rt=0,Yt=0;ft>nt==ft>-nt?(tt=nt,nt=ve[++Rt]):(tt=ft,ft=_e[++Yt]);let Gt=0;if(Rt<Et&&Yt<Le)for(ft>nt==ft>-nt?(Ke=nt+tt,re=tt-(Ke-nt),nt=ve[++Rt]):(Ke=ft+tt,re=tt-(Ke-ft),ft=_e[++Yt]),tt=Ke,re!==0&&(ce[Gt++]=re);Rt<Et&&Yt<Le;)ft>nt==ft>-nt?(Ke=tt+nt,Re=Ke-tt,re=tt-(Ke-Re)+(nt-Re),nt=ve[++Rt]):(Ke=tt+ft,Re=Ke-tt,re=tt-(Ke-Re)+(ft-Re),ft=_e[++Yt]),tt=Ke,re!==0&&(ce[Gt++]=re);for(;Rt<Et;)Ke=tt+nt,Re=Ke-tt,re=tt-(Ke-Re)+(nt-Re),nt=ve[++Rt],tt=Ke,re!==0&&(ce[Gt++]=re);for(;Yt<Le;)Ke=tt+ft,Re=Ke-tt,re=tt-(Ke-Re)+(ft-Re),ft=_e[++Yt],tt=Ke,re!==0&&(ce[Gt++]=re);return(tt!==0||Gt===0)&&(ce[Gt++]=tt),Gt}function a(Et,ve){let Le=ve[0];for(let _e=1;_e<Et;_e++)Le+=ve[_e];return Le}function l(Et){return new Float64Array(Et)}let f=(3+16*r)*r,p=(2+12*r)*r,_=(9+64*r)*r*r,b=l(4),R=l(8),O=l(12),j=l(16),$=l(4);function L(Et,ve,Le,_e,ce,tt,Ke){let re,Re,nt,ft,Rt,Yt,Gt,fn,gn,yn,Lt,un,Pn,nr,On,Ne,ze,De,Pt=Et-ce,mt=Le-ce,xt=ve-tt,rn=_e-tt;nr=Pt*rn,Yt=i*Pt,Gt=Yt-(Yt-Pt),fn=Pt-Gt,Yt=i*rn,gn=Yt-(Yt-rn),yn=rn-gn,On=fn*yn-(nr-Gt*gn-fn*gn-Gt*yn),Ne=xt*mt,Yt=i*xt,Gt=Yt-(Yt-xt),fn=xt-Gt,Yt=i*mt,gn=Yt-(Yt-mt),yn=mt-gn,ze=fn*yn-(Ne-Gt*gn-fn*gn-Gt*yn),Lt=On-ze,Rt=On-Lt,b[0]=On-(Lt+Rt)+(Rt-ze),un=nr+Lt,Rt=un-nr,Pn=nr-(un-Rt)+(Lt-Rt),Lt=Pn-Ne,Rt=Pn-Lt,b[1]=Pn-(Lt+Rt)+(Rt-Ne),De=un+Lt,Rt=De-un,b[2]=un-(De-Rt)+(Lt-Rt),b[3]=De;let Qt=a(4,b),Fn=p*Ke;if(Qt>=Fn||-Qt>=Fn||(Rt=Et-Pt,re=Et-(Pt+Rt)+(Rt-ce),Rt=Le-mt,nt=Le-(mt+Rt)+(Rt-ce),Rt=ve-xt,Re=ve-(xt+Rt)+(Rt-tt),Rt=_e-rn,ft=_e-(rn+Rt)+(Rt-tt),re===0&&Re===0&&nt===0&&ft===0)||(Fn=_*Ke+s*Math.abs(Qt),Qt+=Pt*ft+rn*re-(xt*nt+mt*Re),Qt>=Fn||-Qt>=Fn))return Qt;nr=re*rn,Yt=i*re,Gt=Yt-(Yt-re),fn=re-Gt,Yt=i*rn,gn=Yt-(Yt-rn),yn=rn-gn,On=fn*yn-(nr-Gt*gn-fn*gn-Gt*yn),Ne=Re*mt,Yt=i*Re,Gt=Yt-(Yt-Re),fn=Re-Gt,Yt=i*mt,gn=Yt-(Yt-mt),yn=mt-gn,ze=fn*yn-(Ne-Gt*gn-fn*gn-Gt*yn),Lt=On-ze,Rt=On-Lt,$[0]=On-(Lt+Rt)+(Rt-ze),un=nr+Lt,Rt=un-nr,Pn=nr-(un-Rt)+(Lt-Rt),Lt=Pn-Ne,Rt=Pn-Lt,$[1]=Pn-(Lt+Rt)+(Rt-Ne),De=un+Lt,Rt=De-un,$[2]=un-(De-Rt)+(Lt-Rt),$[3]=De;let Wn=o(4,b,4,$,R);nr=Pt*ft,Yt=i*Pt,Gt=Yt-(Yt-Pt),fn=Pt-Gt,Yt=i*ft,gn=Yt-(Yt-ft),yn=ft-gn,On=fn*yn-(nr-Gt*gn-fn*gn-Gt*yn),Ne=xt*nt,Yt=i*xt,Gt=Yt-(Yt-xt),fn=xt-Gt,Yt=i*nt,gn=Yt-(Yt-nt),yn=nt-gn,ze=fn*yn-(Ne-Gt*gn-fn*gn-Gt*yn),Lt=On-ze,Rt=On-Lt,$[0]=On-(Lt+Rt)+(Rt-ze),un=nr+Lt,Rt=un-nr,Pn=nr-(un-Rt)+(Lt-Rt),Lt=Pn-Ne,Rt=Pn-Lt,$[1]=Pn-(Lt+Rt)+(Rt-Ne),De=un+Lt,Rt=De-un,$[2]=un-(De-Rt)+(Lt-Rt),$[3]=De;let Zn=o(Wn,R,4,$,O);nr=re*ft,Yt=i*re,Gt=Yt-(Yt-re),fn=re-Gt,Yt=i*ft,gn=Yt-(Yt-ft),yn=ft-gn,On=fn*yn-(nr-Gt*gn-fn*gn-Gt*yn),Ne=Re*nt,Yt=i*Re,Gt=Yt-(Yt-Re),fn=Re-Gt,Yt=i*nt,gn=Yt-(Yt-nt),yn=nt-gn,ze=fn*yn-(Ne-Gt*gn-fn*gn-Gt*yn),Lt=On-ze,Rt=On-Lt,$[0]=On-(Lt+Rt)+(Rt-ze),un=nr+Lt,Rt=un-nr,Pn=nr-(un-Rt)+(Lt-Rt),Lt=Pn-Ne,Rt=Pn-Lt,$[1]=Pn-(Lt+Rt)+(Rt-Ne),De=un+Lt,Rt=De-un,$[2]=un-(De-Rt)+(Lt-Rt),$[3]=De;let Nn=o(Zn,O,4,$,j);return j[Nn-1]}function q(Et,ve,Le,_e,ce,tt){let Ke=(ve-tt)*(Le-ce),re=(Et-ce)*(_e-tt),Re=Ke-re;if(Ke===0||re===0||Ke>0!=re>0)return Re;let nt=Math.abs(Ke+re);return Math.abs(Re)>=f*nt?Re:-L(Et,ve,Le,_e,ce,tt,nt)}let P=Math.pow(2,-52),W=new Uint32Array(512);class oe{static from(ve,Le=Ze,_e=bt){let ce=ve.length,tt=new Float64Array(ce*2);for(let Ke=0;Ke<ce;Ke++){let re=ve[Ke];tt[2*Ke]=Le(re),tt[2*Ke+1]=_e(re)}return new oe(tt)}constructor(ve){let Le=ve.length>>1;if(Le>0&&typeof ve[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=ve;let _e=Math.max(2*Le-5,0);this._triangles=new Uint32Array(_e*3),this._halfedges=new Int32Array(_e*3),this._hashSize=Math.ceil(Math.sqrt(Le)),this._hullPrev=new Uint32Array(Le),this._hullNext=new Uint32Array(Le),this._hullTri=new Uint32Array(Le),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(Le),this._dists=new Float64Array(Le),this.update()}update(){let{coords:ve,_hullPrev:Le,_hullNext:_e,_hullTri:ce,_hullHash:tt}=this,Ke=ve.length>>1,re=1/0,Re=1/0,nt=-1/0,ft=-1/0;for(let mt=0;mt<Ke;mt++){let xt=ve[2*mt],rn=ve[2*mt+1];xt<re&&(re=xt),rn<Re&&(Re=rn),xt>nt&&(nt=xt),rn>ft&&(ft=rn),this._ids[mt]=mt}let Rt=(re+nt)/2,Yt=(Re+ft)/2,Gt=1/0,fn,gn,yn;for(let mt=0;mt<Ke;mt++){let xt=J(Rt,Yt,ve[2*mt],ve[2*mt+1]);xt<Gt&&(fn=mt,Gt=xt)}let Lt=ve[2*fn],un=ve[2*fn+1];Gt=1/0;for(let mt=0;mt<Ke;mt++){if(mt===fn)continue;let xt=J(Lt,un,ve[2*mt],ve[2*mt+1]);xt<Gt&&xt>0&&(gn=mt,Gt=xt)}let Pn=ve[2*gn],nr=ve[2*gn+1],On=1/0;for(let mt=0;mt<Ke;mt++){if(mt===fn||mt===gn)continue;let xt=ye(Lt,un,Pn,nr,ve[2*mt],ve[2*mt+1]);xt<On&&(yn=mt,On=xt)}let Ne=ve[2*yn],ze=ve[2*yn+1];if(On===1/0){for(let rn=0;rn<Ke;rn++)this._dists[rn]=ve[2*rn]-ve[0]||ve[2*rn+1]-ve[1];at(this._ids,this._dists,0,Ke-1);let mt=new Uint32Array(Ke),xt=0;for(let rn=0,Qt=-1/0;rn<Ke;rn++){let Fn=this._ids[rn];this._dists[Fn]>Qt&&(mt[xt++]=Fn,Qt=this._dists[Fn])}this.hull=mt.subarray(0,xt),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(q(Lt,un,Pn,nr,Ne,ze)<0){let mt=gn,xt=Pn,rn=nr;gn=yn,Pn=Ne,nr=ze,yn=mt,Ne=xt,ze=rn}let De=He(Lt,un,Pn,nr,Ne,ze);this._cx=De.x,this._cy=De.y;for(let mt=0;mt<Ke;mt++)this._dists[mt]=J(ve[2*mt],ve[2*mt+1],De.x,De.y);at(this._ids,this._dists,0,Ke-1),this._hullStart=fn;let Pt=3;_e[fn]=Le[yn]=gn,_e[gn]=Le[fn]=yn,_e[yn]=Le[gn]=fn,ce[fn]=0,ce[gn]=1,ce[yn]=2,tt.fill(-1),tt[this._hashKey(Lt,un)]=fn,tt[this._hashKey(Pn,nr)]=gn,tt[this._hashKey(Ne,ze)]=yn,this.trianglesLen=0,this._addTriangle(fn,gn,yn,-1,-1,-1);for(let mt=0,xt,rn;mt<this._ids.length;mt++){let Qt=this._ids[mt],Fn=ve[2*Qt],Wn=ve[2*Qt+1];if(mt>0&&Math.abs(Fn-xt)<=P&&Math.abs(Wn-rn)<=P||(xt=Fn,rn=Wn,Qt===fn||Qt===gn||Qt===yn))continue;let Zn=0;for(let ae=0,Be=this._hashKey(Fn,Wn);ae<this._hashSize&&(Zn=tt[(Be+ae)%this._hashSize],!(Zn!==-1&&Zn!==_e[Zn]));ae++);Zn=Le[Zn];let Nn=Zn,rr;for(;rr=_e[Nn],q(Fn,Wn,ve[2*Nn],ve[2*Nn+1],ve[2*rr],ve[2*rr+1])>=0;)if(Nn=rr,Nn===Zn){Nn=-1;break}if(Nn===-1)continue;let Ye=this._addTriangle(Nn,Qt,_e[Nn],-1,-1,ce[Nn]);ce[Qt]=this._legalize(Ye+2),ce[Nn]=Ye,Pt++;let vt=_e[Nn];for(;rr=_e[vt],q(Fn,Wn,ve[2*vt],ve[2*vt+1],ve[2*rr],ve[2*rr+1])<0;)Ye=this._addTriangle(vt,Qt,rr,ce[Qt],-1,ce[vt]),ce[Qt]=this._legalize(Ye+2),_e[vt]=vt,Pt--,vt=rr;if(Nn===Zn)for(;rr=Le[Nn],q(Fn,Wn,ve[2*rr],ve[2*rr+1],ve[2*Nn],ve[2*Nn+1])<0;)Ye=this._addTriangle(rr,Qt,Nn,-1,ce[Nn],ce[rr]),this._legalize(Ye+2),ce[rr]=Ye,_e[Nn]=Nn,Pt--,Nn=rr;this._hullStart=Le[Qt]=Nn,_e[Nn]=Le[vt]=Qt,_e[Qt]=vt,tt[this._hashKey(Fn,Wn)]=Qt,tt[this._hashKey(ve[2*Nn],ve[2*Nn+1])]=Nn}this.hull=new Uint32Array(Pt);for(let mt=0,xt=this._hullStart;mt<Pt;mt++)this.hull[mt]=xt,xt=_e[xt];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(ve,Le){return Math.floor(I(ve-this._cx,Le-this._cy)*this._hashSize)%this._hashSize}_legalize(ve){let{_triangles:Le,_halfedges:_e,coords:ce}=this,tt=0,Ke=0;for(;;){let re=_e[ve],Re=ve-ve%3;if(Ke=Re+(ve+2)%3,re===-1){if(tt===0)break;ve=W[--tt];continue}let nt=re-re%3,ft=Re+(ve+1)%3,Rt=nt+(re+2)%3,Yt=Le[Ke],Gt=Le[ve],fn=Le[ft],gn=Le[Rt];if(he(ce[2*Yt],ce[2*Yt+1],ce[2*Gt],ce[2*Gt+1],ce[2*fn],ce[2*fn+1],ce[2*gn],ce[2*gn+1])){Le[ve]=gn,Le[re]=Yt;let Lt=_e[Rt];if(Lt===-1){let Pn=this._hullStart;do{if(this._hullTri[Pn]===Rt){this._hullTri[Pn]=ve;break}Pn=this._hullPrev[Pn]}while(Pn!==this._hullStart)}this._link(ve,Lt),this._link(re,_e[Ke]),this._link(Ke,Rt);let un=nt+(re+1)%3;tt<W.length&&(W[tt++]=un)}else{if(tt===0)break;ve=W[--tt]}}return Ke}_link(ve,Le){this._halfedges[ve]=Le,Le!==-1&&(this._halfedges[Le]=ve)}_addTriangle(ve,Le,_e,ce,tt,Ke){let re=this.trianglesLen;return this._triangles[re]=ve,this._triangles[re+1]=Le,this._triangles[re+2]=_e,this._link(re,ce),this._link(re+1,tt),this._link(re+2,Ke),this.trianglesLen+=3,re}}function I(Et,ve){let Le=Et/(Math.abs(Et)+Math.abs(ve));return(ve>0?3-Le:1+Le)/4}function J(Et,ve,Le,_e){let ce=Et-Le,tt=ve-_e;return ce*ce+tt*tt}function he(Et,ve,Le,_e,ce,tt,Ke,re){let Re=Et-Ke,nt=ve-re,ft=Le-Ke,Rt=_e-re,Yt=ce-Ke,Gt=tt-re,fn=Re*Re+nt*nt,gn=ft*ft+Rt*Rt,yn=Yt*Yt+Gt*Gt;return Re*(Rt*yn-gn*Gt)-nt*(ft*yn-gn*Yt)+fn*(ft*Gt-Rt*Yt)<0}function ye(Et,ve,Le,_e,ce,tt){let Ke=Le-Et,re=_e-ve,Re=ce-Et,nt=tt-ve,ft=Ke*Ke+re*re,Rt=Re*Re+nt*nt,Yt=.5/(Ke*nt-re*Re),Gt=(nt*ft-re*Rt)*Yt,fn=(Ke*Rt-Re*ft)*Yt;return Gt*Gt+fn*fn}function He(Et,ve,Le,_e,ce,tt){let Ke=Le-Et,re=_e-ve,Re=ce-Et,nt=tt-ve,ft=Ke*Ke+re*re,Rt=Re*Re+nt*nt,Yt=.5/(Ke*nt-re*Re),Gt=Et+(nt*ft-re*Rt)*Yt,fn=ve+(Ke*Rt-Re*ft)*Yt;return{x:Gt,y:fn}}function at(Et,ve,Le,_e){if(_e-Le<=20)for(let ce=Le+1;ce<=_e;ce++){let tt=Et[ce],Ke=ve[tt],re=ce-1;for(;re>=Le&&ve[Et[re]]>Ke;)Et[re+1]=Et[re--];Et[re+1]=tt}else{let ce=Le+_e>>1,tt=Le+1,Ke=_e;ct(Et,ce,tt),ve[Et[Le]]>ve[Et[_e]]&&ct(Et,Le,_e),ve[Et[tt]]>ve[Et[_e]]&&ct(Et,tt,_e),ve[Et[Le]]>ve[Et[tt]]&&ct(Et,Le,tt);let re=Et[tt],Re=ve[re];for(;;){do tt++;while(ve[Et[tt]]<Re);do Ke--;while(ve[Et[Ke]]>Re);if(Ke<tt)break;ct(Et,tt,Ke)}Et[Le+1]=Et[Ke],Et[Ke]=re,_e-tt+1>=Ke-Le?(at(Et,ve,tt,_e),at(Et,ve,Le,Ke-1)):(at(Et,ve,Le,Ke-1),at(Et,ve,tt,_e))}}function ct(Et,ve,Le){let _e=Et[ve];Et[ve]=Et[Le],Et[Le]=_e}function Ze(Et){return Et[0]}function bt(Et){return Et[1]}let Mt=1e-6;class qe{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(ve,Le){this._+=`M${this._x0=this._x1=+ve},${this._y0=this._y1=+Le}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(ve,Le){this._+=`L${this._x1=+ve},${this._y1=+Le}`}arc(ve,Le,_e){ve=+ve,Le=+Le,_e=+_e;let ce=ve+_e,tt=Le;if(_e<0)throw new Error("negative radius");this._x1===null?this._+=`M${ce},${tt}`:(Math.abs(this._x1-ce)>Mt||Math.abs(this._y1-tt)>Mt)&&(this._+="L"+ce+","+tt),!!_e&&(this._+=`A${_e},${_e},0,1,1,${ve-_e},${Le}A${_e},${_e},0,1,1,${this._x1=ce},${this._y1=tt}`)}rect(ve,Le,_e,ce){this._+=`M${this._x0=this._x1=+ve},${this._y0=this._y1=+Le}h${+_e}v${+ce}h${-_e}Z`}value(){return this._||null}}class te{constructor(){this._=[]}moveTo(ve,Le){this._.push([ve,Le])}closePath(){this._.push(this._[0].slice())}lineTo(ve,Le){this._.push([ve,Le])}value(){return this._.length?this._:null}}class et{constructor(ve,[Le,_e,ce,tt]=[0,0,960,500]){if(!((ce=+ce)>=(Le=+Le))||!((tt=+tt)>=(_e=+_e)))throw new Error("invalid bounds");this.delaunay=ve,this._circumcenters=new Float64Array(ve.points.length*2),this.vectors=new Float64Array(ve.points.length*2),this.xmax=ce,this.xmin=Le,this.ymax=tt,this.ymin=_e,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:ve,hull:Le,triangles:_e},vectors:ce}=this,tt=this.circumcenters=this._circumcenters.subarray(0,_e.length/3*2);for(let Gt=0,fn=0,gn=_e.length,yn,Lt;Gt<gn;Gt+=3,fn+=2){let un=_e[Gt]*2,Pn=_e[Gt+1]*2,nr=_e[Gt+2]*2,On=ve[un],Ne=ve[un+1],ze=ve[Pn],De=ve[Pn+1],Pt=ve[nr],mt=ve[nr+1],xt=ze-On,rn=De-Ne,Qt=Pt-On,Fn=mt-Ne,Wn=(xt*Fn-rn*Qt)*2;if(Math.abs(Wn)<1e-9){let Zn=1e9,Nn=_e[0]*2;Zn*=Math.sign((ve[Nn]-On)*Fn-(ve[Nn+1]-Ne)*Qt),yn=(On+Pt)/2-Zn*Fn,Lt=(Ne+mt)/2+Zn*Qt}else{let Zn=1/Wn,Nn=xt*xt+rn*rn,rr=Qt*Qt+Fn*Fn;yn=On+(Fn*Nn-rn*rr)*Zn,Lt=Ne+(xt*rr-Qt*Nn)*Zn}tt[fn]=yn,tt[fn+1]=Lt}let Ke=Le[Le.length-1],re,Re=Ke*4,nt,ft=ve[2*Ke],Rt,Yt=ve[2*Ke+1];ce.fill(0);for(let Gt=0;Gt<Le.length;++Gt)Ke=Le[Gt],re=Re,nt=ft,Rt=Yt,Re=Ke*4,ft=ve[2*Ke],Yt=ve[2*Ke+1],ce[re+2]=ce[Re]=Rt-Yt,ce[re+3]=ce[Re+1]=ft-nt}render(ve){let Le=ve==null?ve=new qe:void 0,{delaunay:{halfedges:_e,inedges:ce,hull:tt},circumcenters:Ke,vectors:re}=this;if(tt.length<=1)return null;for(let ft=0,Rt=_e.length;ft<Rt;++ft){let Yt=_e[ft];if(Yt<ft)continue;let Gt=Math.floor(ft/3)*2,fn=Math.floor(Yt/3)*2,gn=Ke[Gt],yn=Ke[Gt+1],Lt=Ke[fn],un=Ke[fn+1];this._renderSegment(gn,yn,Lt,un,ve)}let Re,nt=tt[tt.length-1];for(let ft=0;ft<tt.length;++ft){Re=nt,nt=tt[ft];let Rt=Math.floor(ce[nt]/3)*2,Yt=Ke[Rt],Gt=Ke[Rt+1],fn=Re*4,gn=this._project(Yt,Gt,re[fn+2],re[fn+3]);gn&&this._renderSegment(Yt,Gt,gn[0],gn[1],ve)}return Le&&Le.value()}renderBounds(ve){let Le=ve==null?ve=new qe:void 0;return ve.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),Le&&Le.value()}renderCell(ve,Le){let _e=Le==null?Le=new qe:void 0,ce=this._clip(ve);if(ce===null||!ce.length)return;Le.moveTo(ce[0],ce[1]);let tt=ce.length;for(;ce[0]===ce[tt-2]&&ce[1]===ce[tt-1]&&tt>1;)tt-=2;for(let Ke=2;Ke<tt;Ke+=2)(ce[Ke]!==ce[Ke-2]||ce[Ke+1]!==ce[Ke-1])&&Le.lineTo(ce[Ke],ce[Ke+1]);return Le.closePath(),_e&&_e.value()}*cellPolygons(){let{delaunay:{points:ve}}=this;for(let Le=0,_e=ve.length/2;Le<_e;++Le){let ce=this.cellPolygon(Le);ce&&(ce.index=Le,yield ce)}}cellPolygon(ve){let Le=new te;return this.renderCell(ve,Le),Le.value()}_renderSegment(ve,Le,_e,ce,tt){let Ke,re=this._regioncode(ve,Le),Re=this._regioncode(_e,ce);re===0&&Re===0?(tt.moveTo(ve,Le),tt.lineTo(_e,ce)):(Ke=this._clipSegment(ve,Le,_e,ce,re,Re))&&(tt.moveTo(Ke[0],Ke[1]),tt.lineTo(Ke[2],Ke[3]))}contains(ve,Le,_e){return Le=+Le,Le!==Le||(_e=+_e,_e!==_e)?!1:this.delaunay._step(ve,Le,_e)===ve}*neighbors(ve){let Le=this._clip(ve);if(Le)for(let _e of this.delaunay.neighbors(ve)){let ce=this._clip(_e);if(ce)e:for(let tt=0,Ke=Le.length;tt<Ke;tt+=2)for(let re=0,Re=ce.length;re<Re;re+=2)if(Le[tt]==ce[re]&&Le[tt+1]==ce[re+1]&&Le[(tt+2)%Ke]==ce[(re+Re-2)%Re]&&Le[(tt+3)%Ke]==ce[(re+Re-1)%Re]){yield _e;break e}}}_cell(ve){let{circumcenters:Le,delaunay:{inedges:_e,halfedges:ce,triangles:tt}}=this,Ke=_e[ve];if(Ke===-1)return null;let re=[],Re=Ke;do{let nt=Math.floor(Re/3);if(re.push(Le[nt*2],Le[nt*2+1]),Re=Re%3===2?Re-2:Re+1,tt[Re]!==ve)break;Re=ce[Re]}while(Re!==Ke&&Re!==-1);return re}_clip(ve){if(ve===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let Le=this._cell(ve);if(Le===null)return null;let{vectors:_e}=this,ce=ve*4;return _e[ce]||_e[ce+1]?this._clipInfinite(ve,Le,_e[ce],_e[ce+1],_e[ce+2],_e[ce+3]):this._clipFinite(ve,Le)}_clipFinite(ve,Le){let _e=Le.length,ce=null,tt,Ke,re=Le[_e-2],Re=Le[_e-1],nt,ft=this._regioncode(re,Re),Rt,Yt=0;for(let Gt=0;Gt<_e;Gt+=2)if(tt=re,Ke=Re,re=Le[Gt],Re=Le[Gt+1],nt=ft,ft=this._regioncode(re,Re),nt===0&&ft===0)Rt=Yt,Yt=0,ce?ce.push(re,Re):ce=[re,Re];else{let fn,gn,yn,Lt,un;if(nt===0){if((fn=this._clipSegment(tt,Ke,re,Re,nt,ft))===null)continue;[gn,yn,Lt,un]=fn}else{if((fn=this._clipSegment(re,Re,tt,Ke,ft,nt))===null)continue;[Lt,un,gn,yn]=fn,Rt=Yt,Yt=this._edgecode(gn,yn),Rt&&Yt&&this._edge(ve,Rt,Yt,ce,ce.length),ce?ce.push(gn,yn):ce=[gn,yn]}Rt=Yt,Yt=this._edgecode(Lt,un),Rt&&Yt&&this._edge(ve,Rt,Yt,ce,ce.length),ce?ce.push(Lt,un):ce=[Lt,un]}if(ce)Rt=Yt,Yt=this._edgecode(ce[0],ce[1]),Rt&&Yt&&this._edge(ve,Rt,Yt,ce,ce.length);else if(this.contains(ve,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return ce}_clipSegment(ve,Le,_e,ce,tt,Ke){for(;;){if(tt===0&&Ke===0)return[ve,Le,_e,ce];if(tt&Ke)return null;let re,Re,nt=tt||Ke;nt&8?(re=ve+(_e-ve)*(this.ymax-Le)/(ce-Le),Re=this.ymax):nt&4?(re=ve+(_e-ve)*(this.ymin-Le)/(ce-Le),Re=this.ymin):nt&2?(Re=Le+(ce-Le)*(this.xmax-ve)/(_e-ve),re=this.xmax):(Re=Le+(ce-Le)*(this.xmin-ve)/(_e-ve),re=this.xmin),tt?(ve=re,Le=Re,tt=this._regioncode(ve,Le)):(_e=re,ce=Re,Ke=this._regioncode(_e,ce))}}_clipInfinite(ve,Le,_e,ce,tt,Ke){let re=Array.from(Le),Re;if((Re=this._project(re[0],re[1],_e,ce))&&re.unshift(Re[0],Re[1]),(Re=this._project(re[re.length-2],re[re.length-1],tt,Ke))&&re.push(Re[0],Re[1]),re=this._clipFinite(ve,re))for(let nt=0,ft=re.length,Rt,Yt=this._edgecode(re[ft-2],re[ft-1]);nt<ft;nt+=2)Rt=Yt,Yt=this._edgecode(re[nt],re[nt+1]),Rt&&Yt&&(nt=this._edge(ve,Rt,Yt,re,nt),ft=re.length);else this.contains(ve,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(re=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return re}_edge(ve,Le,_e,ce,tt){for(;Le!==_e;){let Ke,re;switch(Le){case 5:Le=4;continue;case 4:Le=6,Ke=this.xmax,re=this.ymin;break;case 6:Le=2;continue;case 2:Le=10,Ke=this.xmax,re=this.ymax;break;case 10:Le=8;continue;case 8:Le=9,Ke=this.xmin,re=this.ymax;break;case 9:Le=1;continue;case 1:Le=5,Ke=this.xmin,re=this.ymin;break}(ce[tt]!==Ke||ce[tt+1]!==re)&&this.contains(ve,Ke,re)&&(ce.splice(tt,0,Ke,re),tt+=2)}if(ce.length>4)for(let Ke=0;Ke<ce.length;Ke+=2){let re=(Ke+2)%ce.length,Re=(Ke+4)%ce.length;(ce[Ke]===ce[re]&&ce[re]===ce[Re]||ce[Ke+1]===ce[re+1]&&ce[re+1]===ce[Re+1])&&(ce.splice(re,2),Ke-=2)}return tt}_project(ve,Le,_e,ce){let tt=1/0,Ke,re,Re;if(ce<0){if(Le<=this.ymin)return null;(Ke=(this.ymin-Le)/ce)<tt&&(Re=this.ymin,re=ve+(tt=Ke)*_e)}else if(ce>0){if(Le>=this.ymax)return null;(Ke=(this.ymax-Le)/ce)<tt&&(Re=this.ymax,re=ve+(tt=Ke)*_e)}if(_e>0){if(ve>=this.xmax)return null;(Ke=(this.xmax-ve)/_e)<tt&&(re=this.xmax,Re=Le+(tt=Ke)*ce)}else if(_e<0){if(ve<=this.xmin)return null;(Ke=(this.xmin-ve)/_e)<tt&&(re=this.xmin,Re=Le+(tt=Ke)*ce)}return[re,Re]}_edgecode(ve,Le){return(ve===this.xmin?1:ve===this.xmax?2:0)|(Le===this.ymin?4:Le===this.ymax?8:0)}_regioncode(ve,Le){return(ve<this.xmin?1:ve>this.xmax?2:0)|(Le<this.ymin?4:Le>this.ymax?8:0)}}let Ee=2*Math.PI,ke=Math.pow;function Ce(Et){return Et[0]}function pe(Et){return Et[1]}function Je(Et){let{triangles:ve,coords:Le}=Et;for(let _e=0;_e<ve.length;_e+=3){let ce=2*ve[_e],tt=2*ve[_e+1],Ke=2*ve[_e+2];if((Le[Ke]-Le[ce])*(Le[tt+1]-Le[ce+1])-(Le[tt]-Le[ce])*(Le[Ke+1]-Le[ce+1])>1e-10)return!1}return!0}function lt(Et,ve,Le){return[Et+Math.sin(Et+ve)*Le,ve+Math.cos(Et-ve)*Le]}class Ht{static from(ve,Le=Ce,_e=pe,ce){return new Ht("length"in ve?wt(ve,Le,_e,ce):Float64Array.from(mn(ve,Le,_e,ce)))}constructor(ve){this._delaunator=new oe(ve),this.inedges=new Int32Array(ve.length/2),this._hullIndex=new Int32Array(ve.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let ve=this._delaunator,Le=this.points;if(ve.hull&&ve.hull.length>2&&Je(ve)){this.collinear=Int32Array.from({length:Le.length/2},(Yt,Gt)=>Gt).sort((Yt,Gt)=>Le[2*Yt]-Le[2*Gt]||Le[2*Yt+1]-Le[2*Gt+1]);let Re=this.collinear[0],nt=this.collinear[this.collinear.length-1],ft=[Le[2*Re],Le[2*Re+1],Le[2*nt],Le[2*nt+1]],Rt=1e-8*Math.hypot(ft[3]-ft[1],ft[2]-ft[0]);for(let Yt=0,Gt=Le.length/2;Yt<Gt;++Yt){let fn=lt(Le[2*Yt],Le[2*Yt+1],Rt);Le[2*Yt]=fn[0],Le[2*Yt+1]=fn[1]}this._delaunator=new oe(Le)}else delete this.collinear;let _e=this.halfedges=this._delaunator.halfedges,ce=this.hull=this._delaunator.hull,tt=this.triangles=this._delaunator.triangles,Ke=this.inedges.fill(-1),re=this._hullIndex.fill(-1);for(let Re=0,nt=_e.length;Re<nt;++Re){let ft=tt[Re%3===2?Re-2:Re+1];(_e[Re]===-1||Ke[ft]===-1)&&(Ke[ft]=Re)}for(let Re=0,nt=ce.length;Re<nt;++Re)re[ce[Re]]=Re;ce.length<=2&&ce.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=ce[0],Ke[ce[0]]=1,ce.length===2&&(Ke[ce[1]]=0,this.triangles[1]=ce[1],this.triangles[2]=ce[1]))}voronoi(ve){return new et(this,ve)}*neighbors(ve){let{inedges:Le,hull:_e,_hullIndex:ce,halfedges:tt,triangles:Ke,collinear:re}=this;if(re){let Rt=re.indexOf(ve);Rt>0&&(yield re[Rt-1]),Rt<re.length-1&&(yield re[Rt+1]);return}let Re=Le[ve];if(Re===-1)return;let nt=Re,ft=-1;do{if(yield ft=Ke[nt],nt=nt%3===2?nt-2:nt+1,Ke[nt]!==ve)return;if(nt=tt[nt],nt===-1){let Rt=_e[(ce[ve]+1)%_e.length];Rt!==ft&&(yield Rt);return}}while(nt!==Re)}find(ve,Le,_e=0){if(ve=+ve,ve!==ve||(Le=+Le,Le!==Le))return-1;let ce=_e,tt;for(;(tt=this._step(_e,ve,Le))>=0&&tt!==_e&&tt!==ce;)_e=tt;return tt}_step(ve,Le,_e){let{inedges:ce,hull:tt,_hullIndex:Ke,halfedges:re,triangles:Re,points:nt}=this;if(ce[ve]===-1||!nt.length)return(ve+1)%(nt.length>>1);let ft=ve,Rt=ke(Le-nt[ve*2],2)+ke(_e-nt[ve*2+1],2),Yt=ce[ve],Gt=Yt;do{let fn=Re[Gt],gn=ke(Le-nt[fn*2],2)+ke(_e-nt[fn*2+1],2);if(gn<Rt&&(Rt=gn,ft=fn),Gt=Gt%3===2?Gt-2:Gt+1,Re[Gt]!==ve)break;if(Gt=re[Gt],Gt===-1){if(Gt=tt[(Ke[ve]+1)%tt.length],Gt!==fn&&ke(Le-nt[Gt*2],2)+ke(_e-nt[Gt*2+1],2)<Rt)return Gt;break}}while(Gt!==Yt);return ft}render(ve){let Le=ve==null?ve=new qe:void 0,{points:_e,halfedges:ce,triangles:tt}=this;for(let Ke=0,re=ce.length;Ke<re;++Ke){let Re=ce[Ke];if(Re<Ke)continue;let nt=tt[Ke]*2,ft=tt[Re]*2;ve.moveTo(_e[nt],_e[nt+1]),ve.lineTo(_e[ft],_e[ft+1])}return this.renderHull(ve),Le&&Le.value()}renderPoints(ve,Le){Le===void 0&&(!ve||typeof ve.moveTo!="function")&&(Le=ve,ve=null),Le=Le==null?2:+Le;let _e=ve==null?ve=new qe:void 0,{points:ce}=this;for(let tt=0,Ke=ce.length;tt<Ke;tt+=2){let re=ce[tt],Re=ce[tt+1];ve.moveTo(re+Le,Re),ve.arc(re,Re,Le,0,Ee)}return _e&&_e.value()}renderHull(ve){let Le=ve==null?ve=new qe:void 0,{hull:_e,points:ce}=this,tt=_e[0]*2,Ke=_e.length;ve.moveTo(ce[tt],ce[tt+1]);for(let re=1;re<Ke;++re){let Re=2*_e[re];ve.lineTo(ce[Re],ce[Re+1])}return ve.closePath(),Le&&Le.value()}hullPolygon(){let ve=new te;return this.renderHull(ve),ve.value()}renderTriangle(ve,Le){let _e=Le==null?Le=new qe:void 0,{points:ce,triangles:tt}=this,Ke=tt[ve*=3]*2,re=tt[ve+1]*2,Re=tt[ve+2]*2;return Le.moveTo(ce[Ke],ce[Ke+1]),Le.lineTo(ce[re],ce[re+1]),Le.lineTo(ce[Re],ce[Re+1]),Le.closePath(),_e&&_e.value()}*trianglePolygons(){let{triangles:ve}=this;for(let Le=0,_e=ve.length/3;Le<_e;++Le)yield this.trianglePolygon(Le)}trianglePolygon(ve){let Le=new te;return this.renderTriangle(ve,Le),Le.value()}}function wt(Et,ve,Le,_e){let ce=Et.length,tt=new Float64Array(ce*2);for(let Ke=0;Ke<ce;++Ke){let re=Et[Ke];tt[Ke*2]=ve.call(_e,re,Ke,Et),tt[Ke*2+1]=Le.call(_e,re,Ke,Et)}return tt}function*mn(Et,ve,Le,_e){let ce=0;for(let tt of Et)yield ve.call(_e,tt,ce,Et),yield Le.call(_e,tt,ce,Et),++ce}function kt(Et){e.Transform.call(this,null,Et)}kt.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};let Bt=[-1e5,-1e5,1e5,1e5];t.inherits(kt,e.Transform,{transform(Et,ve){let Le=Et.as||"path",_e=ve.source;if(!_e||!_e.length)return ve;let ce=Et.size;ce=ce?[0,0,ce[0],ce[1]]:(ce=Et.extent)?[ce[0][0],ce[0][1],ce[1][0],ce[1][1]]:Bt;let tt=this.value=Ht.from(_e,Et.x,Et.y).voronoi(ce);for(let Ke=0,re=_e.length;Ke<re;++Ke){let Re=tt.cellPolygon(Ke);_e[Ke][Le]=Re?tn(Re):null}return ve.reflow(Et.modified()).modifies(Le)}});function tn(Et){let ve=Et[0][0],Le=Et[0][1],_e=Et.length-1;for(;Et[_e][0]===ve&&Et[_e][1]===Le;--_e);return"M"+Et.slice(0,_e+1).join("L")+"Z"}n.voronoi=kt,Object.defineProperty(n,"__esModule",{value:!0})})});var fRe=Ae((CV,cRe)=>{m();(function(n,e){typeof CV=="object"&&typeof cRe!="undefined"?e(CV,_N(),o0(),Tu(),xb(),mb()):typeof define=="function"&&define.amd?define(["exports","vega-canvas","vega-dataflow","vega-util","vega-scale","vega-statistics"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega,n.vega))})(CV,function(n,e,t,r,i,s){"use strict";var o=Math.PI/180,a=1<<11>>5,l=1<<11;function f(){var I=[256,256],J,he,ye,He,at,ct,Ze,bt=O,Mt=[],qe=Math.random,te={};te.layout=function(){for(var ke=et(e.canvas()),Ce=$((I[0]>>5)*I[1]),pe=null,Je=Mt.length,lt=-1,Ht=[],wt=Mt.map(kt=>({text:J(kt),font:he(kt),style:He(kt),weight:at(kt),rotate:ct(kt),size:~~(ye(kt)+1e-14),padding:Ze(kt),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:kt})).sort((kt,Bt)=>Bt.size-kt.size);++lt<Je;){var mn=wt[lt];mn.x=I[0]*(qe()+.5)>>1,mn.y=I[1]*(qe()+.5)>>1,p(ke,mn,wt,lt),mn.hasText&&Ee(Ce,mn,pe)&&(Ht.push(mn),pe?b(pe,mn):pe=[{x:mn.x+mn.x0,y:mn.y+mn.y0},{x:mn.x+mn.x1,y:mn.y+mn.y1}],mn.x-=I[0]>>1,mn.y-=I[1]>>1)}return Ht};function et(ke){ke.width=ke.height=1;var Ce=Math.sqrt(ke.getContext("2d").getImageData(0,0,1,1).data.length>>2);ke.width=(a<<5)/Ce,ke.height=l/Ce;var pe=ke.getContext("2d");return pe.fillStyle=pe.strokeStyle="red",pe.textAlign="center",{context:pe,ratio:Ce}}function Ee(ke,Ce,pe){for(var Je=Ce.x,lt=Ce.y,Ht=Math.sqrt(I[0]*I[0]+I[1]*I[1]),wt=bt(I),mn=qe()<.5?1:-1,kt=-mn,Bt,tn,Et;(Bt=wt(kt+=mn))&&(tn=~~Bt[0],Et=~~Bt[1],!(Math.min(Math.abs(tn),Math.abs(Et))>=Ht));)if(Ce.x=Je+tn,Ce.y=lt+Et,!(Ce.x+Ce.x0<0||Ce.y+Ce.y0<0||Ce.x+Ce.x1>I[0]||Ce.y+Ce.y1>I[1])&&(!pe||!_(Ce,ke,I[0]))&&(!pe||R(Ce,pe))){for(var ve=Ce.sprite,Le=Ce.width>>5,_e=I[0]>>5,ce=Ce.x-(Le<<4),tt=ce&127,Ke=32-tt,re=Ce.y1-Ce.y0,Re=(Ce.y+Ce.y0)*_e+(ce>>5),nt,ft=0;ft<re;ft++){nt=0;for(var Rt=0;Rt<=Le;Rt++)ke[Re+Rt]|=nt<<Ke|(Rt<Le?(nt=ve[ft*Le+Rt])>>>tt:0);Re+=_e}return Ce.sprite=null,!0}return!1}return te.words=function(ke){return arguments.length?(Mt=ke,te):Mt},te.size=function(ke){return arguments.length?(I=[+ke[0],+ke[1]],te):I},te.font=function(ke){return arguments.length?(he=L(ke),te):he},te.fontStyle=function(ke){return arguments.length?(He=L(ke),te):He},te.fontWeight=function(ke){return arguments.length?(at=L(ke),te):at},te.rotate=function(ke){return arguments.length?(ct=L(ke),te):ct},te.text=function(ke){return arguments.length?(J=L(ke),te):J},te.spiral=function(ke){return arguments.length?(bt=q[ke]||ke,te):bt},te.fontSize=function(ke){return arguments.length?(ye=L(ke),te):ye},te.padding=function(ke){return arguments.length?(Ze=L(ke),te):Ze},te.random=function(ke){return arguments.length?(qe=ke,te):qe},te}function p(I,J,he,ye){if(!J.sprite){var He=I.context,at=I.ratio;He.clearRect(0,0,(a<<5)/at,l/at);var ct=0,Ze=0,bt=0,Mt=he.length,qe,te,et,Ee,ke;for(--ye;++ye<Mt;){if(J=he[ye],He.save(),He.font=J.style+" "+J.weight+" "+~~((J.size+1)/at)+"px "+J.font,qe=He.measureText(J.text+"m").width*at,et=J.size<<1,J.rotate){var Ce=Math.sin(J.rotate*o),pe=Math.cos(J.rotate*o),Je=qe*pe,lt=qe*Ce,Ht=et*pe,wt=et*Ce;qe=Math.max(Math.abs(Je+wt),Math.abs(Je-wt))+31>>5<<5,et=~~Math.max(Math.abs(lt+Ht),Math.abs(lt-Ht))}else qe=qe+31>>5<<5;if(et>bt&&(bt=et),ct+qe>=a<<5&&(ct=0,Ze+=bt,bt=0),Ze+et>=l)break;He.translate((ct+(qe>>1))/at,(Ze+(et>>1))/at),J.rotate&&He.rotate(J.rotate*o),He.fillText(J.text,0,0),J.padding&&(He.lineWidth=2*J.padding,He.strokeText(J.text,0,0)),He.restore(),J.width=qe,J.height=et,J.xoff=ct,J.yoff=Ze,J.x1=qe>>1,J.y1=et>>1,J.x0=-J.x1,J.y0=-J.y1,J.hasText=!0,ct+=qe}for(var mn=He.getImageData(0,0,(a<<5)/at,l/at).data,kt=[];--ye>=0;)if(J=he[ye],!!J.hasText){for(qe=J.width,te=qe>>5,et=J.y1-J.y0,Ee=0;Ee<et*te;Ee++)kt[Ee]=0;if(ct=J.xoff,ct==null)return;Ze=J.yoff;var Bt=0,tn=-1;for(ke=0;ke<et;ke++){for(Ee=0;Ee<qe;Ee++){var Et=te*ke+(Ee>>5),ve=mn[(Ze+ke)*(a<<5)+(ct+Ee)<<2]?1<<31-Ee%32:0;kt[Et]|=ve,Bt|=ve}Bt?tn=ke:(J.y0++,et--,ke--,Ze++)}J.y1=J.y0+tn,J.sprite=kt.slice(0,(J.y1-J.y0)*te)}}}function _(I,J,he){he>>=5;for(var ye=I.sprite,He=I.width>>5,at=I.x-(He<<4),ct=at&127,Ze=32-ct,bt=I.y1-I.y0,Mt=(I.y+I.y0)*he+(at>>5),qe,te=0;te<bt;te++){qe=0;for(var et=0;et<=He;et++)if((qe<<Ze|(et<He?(qe=ye[te*He+et])>>>ct:0))&J[Mt+et])return!0;Mt+=he}return!1}function b(I,J){var he=I[0],ye=I[1];J.x+J.x0<he.x&&(he.x=J.x+J.x0),J.y+J.y0<he.y&&(he.y=J.y+J.y0),J.x+J.x1>ye.x&&(ye.x=J.x+J.x1),J.y+J.y1>ye.y&&(ye.y=J.y+J.y1)}function R(I,J){return I.x+I.x1>J[0].x&&I.x+I.x0<J[1].x&&I.y+I.y1>J[0].y&&I.y+I.y0<J[1].y}function O(I){var J=I[0]/I[1];return function(he){return[J*(he*=.1)*Math.cos(he),he*Math.sin(he)]}}function j(I){var J=4,he=J*I[0]/I[1],ye=0,He=0;return function(at){var ct=at<0?-1:1;switch(Math.sqrt(1+4*ct*at)-ct&3){case 0:ye+=he;break;case 1:He+=J;break;case 2:ye-=he;break;default:He-=J;break}return[ye,He]}}function $(I){for(var J=[],he=-1;++he<I;)J[he]=0;return J}function L(I){return typeof I=="function"?I:function(){return I}}var q={archimedean:O,rectangular:j};let P=["x","y","font","fontSize","fontStyle","fontWeight","angle"],W=["text","font","rotate","fontSize","fontStyle","fontWeight"];function oe(I){t.Transform.call(this,f(),I)}oe.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:P}]},r.inherits(oe,t.Transform,{transform(I,J){I.size&&!(I.size[0]&&I.size[1])&&r.error("Wordcloud size dimensions must be non-zero.");function he(ke){let Ce=I[ke];return r.isFunction(Ce)&&J.modified(Ce.fields)}let ye=I.modified();if(!(ye||J.changed(J.ADD_REM)||W.some(he)))return;let He=J.materialize(J.SOURCE).source,at=this.value,ct=I.as||P,Ze=I.fontSize||14,bt;if(r.isFunction(Ze)?bt=I.fontSizeRange:Ze=r.constant(Ze),bt){let ke=Ze,Ce=i.scale("sqrt")().domain(r.extent(He,ke)).range(bt);Ze=pe=>Ce(ke(pe))}He.forEach(ke=>{ke[ct[0]]=NaN,ke[ct[1]]=NaN,ke[ct[3]]=0});let Mt=at.words(He).text(I.text).size(I.size||[500,500]).padding(I.padding||1).spiral(I.spiral||"archimedean").rotate(I.rotate||0).font(I.font||"sans-serif").fontStyle(I.fontStyle||"normal").fontWeight(I.fontWeight||"normal").fontSize(Ze).random(s.random).layout(),qe=at.size(),te=qe[0]>>1,et=qe[1]>>1,Ee=Mt.length;for(let ke=0,Ce,pe;ke<Ee;++ke)Ce=Mt[ke],pe=Ce.datum,pe[ct[0]]=Ce.x+te,pe[ct[1]]=Ce.y+et,pe[ct[2]]=Ce.font,pe[ct[3]]=Ce.size,pe[ct[4]]=Ce.style,pe[ct[5]]=Ce.weight,pe[ct[6]]=Ce.rotate;return J.reflow(ye).modifies(ct)}}),n.wordcloud=oe,Object.defineProperty(n,"__esModule",{value:!0})})});var hRe=Ae((wV,dRe)=>{m();(function(n,e){typeof wV=="object"&&typeof dRe!="undefined"?e(wV,o0(),Tu()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega))})(wV,function(n,e,t){"use strict";let r=I=>new Uint8Array(I),i=I=>new Uint16Array(I),s=I=>new Uint32Array(I);function o(){let I=8,J=[],he=s(0),ye=l(0,I),He=l(0,I);return{data:()=>J,seen:()=>he=a(he,J.length),add(at){for(let ct=0,Ze=J.length,bt=at.length,Mt;ct<bt;++ct)Mt=at[ct],Mt._index=Ze++,J.push(Mt)},remove(at,ct){let Ze=J.length,bt=Array(Ze-at),Mt=J,qe,te,et;for(te=0;!ct[te]&&te<Ze;++te)bt[te]=J[te],Mt[te]=te;for(et=te;te<Ze;++te)qe=J[te],ct[te]?Mt[te]=-1:(Mt[te]=et,ye[et]=ye[te],He[et]=He[te],bt[et]=qe,qe._index=et++),ye[te]=0;return J=bt,Mt},size:()=>J.length,curr:()=>ye,prev:()=>He,reset:at=>He[at]=ye[at],all:()=>I<257?255:I<65537?65535:4294967295,set(at,ct){ye[at]|=ct},clear(at,ct){ye[at]&=~ct},resize(at,ct){let Ze=ye.length;(at>Ze||ct>I)&&(I=Math.max(ct,I),ye=l(at,I,ye),He=l(at,I))}}}function a(I,J,he){return I.length>=J?I:(he=he||new I.constructor(J),he.set(I),he)}function l(I,J,he){let ye=(J<257?r:J<65537?i:s)(I);return he&&ye.set(he),ye}function f(I,J,he){let ye=1<<J;return{one:ye,zero:~ye,range:he.slice(),bisect:I.bisect,index:I.index,size:I.size,onAdd(He,at){let ct=this,Ze=ct.bisect(ct.range,He.value),bt=He.index,Mt=Ze[0],qe=Ze[1],te=bt.length,et;for(et=0;et<Mt;++et)at[bt[et]]|=ye;for(et=qe;et<te;++et)at[bt[et]]|=ye;return ct}}}function p(I,J){return I==null||J==null?NaN:I<J?-1:I>J?1:I>=J?0:NaN}function _(I){let J=I,he=I,ye=I;I.length!==2&&(J=(Ze,bt)=>I(Ze)-bt,he=p,ye=(Ze,bt)=>p(I(Ze),bt));function He(Ze,bt,Mt=0,qe=Ze.length){if(Mt<qe){if(he(bt,bt)!==0)return qe;do{let te=Mt+qe>>>1;ye(Ze[te],bt)<0?Mt=te+1:qe=te}while(Mt<qe)}return Mt}function at(Ze,bt,Mt=0,qe=Ze.length){if(Mt<qe){if(he(bt,bt)!==0)return qe;do{let te=Mt+qe>>>1;ye(Ze[te],bt)<=0?Mt=te+1:qe=te}while(Mt<qe)}return Mt}function ct(Ze,bt,Mt=0,qe=Ze.length){let te=He(Ze,bt,Mt,qe-1);return te>Mt&&J(Ze[te-1],bt)>-J(Ze[te],bt)?te-1:te}return{left:He,center:ct,right:at}}function b(I){return I===null?NaN:+I}let R=_(p),O=R.right,j=R.left;_(b).center;function $(I,J){return Array.from(J,he=>I[he])}function L(){let I=s(0),J=[],he=0;function ye(Ze,bt,Mt){if(!bt.length)return[];let qe=he,te=bt.length,et=s(te),Ee=Array(te),ke,Ce,pe;for(pe=0;pe<te;++pe)Ee[pe]=Ze(bt[pe]),et[pe]=pe;if(Ee=q(Ee,et),qe)ke=J,Ce=I,J=Array(qe+te),I=s(qe+te),P(Mt,ke,Ce,qe,Ee,et,te,J,I);else{if(Mt>0)for(pe=0;pe<te;++pe)et[pe]+=Mt;J=Ee,I=et}return he=qe+te,{index:et,value:Ee}}function He(Ze,bt){let Mt=he,qe,te,et;for(te=0;!bt[I[te]]&&te<Mt;++te);for(et=te;te<Mt;++te)bt[qe=I[te]]||(I[et]=qe,J[et]=J[te],++et);he=Mt-Ze}function at(Ze){for(let bt=0,Mt=he;bt<Mt;++bt)I[bt]=Ze[I[bt]]}function ct(Ze,bt){let Mt;return bt?Mt=bt.length:(bt=J,Mt=he),[j(bt,Ze[0],0,Mt),O(bt,Ze[1],0,Mt)]}return{insert:ye,remove:He,bisect:ct,reindex:at,index:()=>I,size:()=>he}}function q(I,J){return I.sort.call(J,(he,ye)=>{let He=I[he],at=I[ye];return He<at?-1:He>at?1:0}),$(I,J)}function P(I,J,he,ye,He,at,ct,Ze,bt){let Mt=0,qe=0,te;for(te=0;Mt<ye&&qe<ct;++te)J[Mt]<He[qe]?(Ze[te]=J[Mt],bt[te]=he[Mt++]):(Ze[te]=He[qe],bt[te]=at[qe++]+I);for(;Mt<ye;++Mt,++te)Ze[te]=J[Mt],bt[te]=he[Mt];for(;qe<ct;++qe,++te)Ze[te]=He[qe],bt[te]=at[qe]+I}function W(I){e.Transform.call(this,o(),I),this._indices=null,this._dims=null}W.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},t.inherits(W,e.Transform,{transform(I,J){if(this._dims){var he=I.modified("fields")||I.fields.some(ye=>J.modified(ye.fields));return he?this.reinit(I,J):this.eval(I,J)}else return this.init(I,J)},init(I,J){let he=I.fields,ye=I.query,He=this._indices={},at=this._dims=[],ct=ye.length,Ze=0,bt,Mt;for(;Ze<ct;++Ze)bt=he[Ze].fname,Mt=He[bt]||(He[bt]=L()),at.push(f(Mt,Ze,ye[Ze]));return this.eval(I,J)},reinit(I,J){let he=J.materialize().fork(),ye=I.fields,He=I.query,at=this._indices,ct=this._dims,Ze=this.value,bt=Ze.curr(),Mt=Ze.prev(),qe=Ze.all(),te=he.rem=he.add,et=he.mod,Ee=He.length,ke={},Ce,pe,Je,lt,Ht,wt,mn,kt,Bt;if(Mt.set(bt),J.rem.length&&(Ht=this.remove(I,J,he)),J.add.length&&Ze.add(J.add),J.mod.length)for(wt={},lt=J.mod,mn=0,kt=lt.length;mn<kt;++mn)wt[lt[mn]._index]=1;for(mn=0;mn<Ee;++mn)Bt=ye[mn],(!ct[mn]||I.modified("fields",mn)||J.modified(Bt.fields))&&(Je=Bt.fname,(Ce=ke[Je])||(at[Je]=pe=L(),ke[Je]=Ce=pe.insert(Bt,J.source,0)),ct[mn]=f(pe,mn,He[mn]).onAdd(Ce,bt));for(mn=0,kt=Ze.data().length;mn<kt;++mn)Ht[mn]||(Mt[mn]!==bt[mn]?te.push(mn):wt[mn]&&bt[mn]!==qe&&et.push(mn));return Ze.mask=(1<<Ee)-1,he},eval(I,J){let he=J.materialize().fork(),ye=this._dims.length,He=0;return J.rem.length&&(this.remove(I,J,he),He|=(1<<ye)-1),I.modified("query")&&!I.modified("fields")&&(He|=this.update(I,J,he)),J.add.length&&(this.insert(I,J,he),He|=(1<<ye)-1),J.mod.length&&(this.modify(J,he),He|=(1<<ye)-1),this.value.mask=He,he},insert(I,J,he){let ye=J.add,He=this.value,at=this._dims,ct=this._indices,Ze=I.fields,bt={},Mt=he.add,qe=He.size()+ye.length,te=at.length,et=He.size(),Ee,ke,Ce;He.resize(qe,te),He.add(ye);let pe=He.curr(),Je=He.prev(),lt=He.all();for(Ee=0;Ee<te;++Ee)ke=Ze[Ee].fname,Ce=bt[ke]||(bt[ke]=ct[ke].insert(Ze[Ee],ye,et)),at[Ee].onAdd(Ce,pe);for(;et<qe;++et)Je[et]=lt,pe[et]!==lt&&Mt.push(et)},modify(I,J){let he=J.mod,ye=this.value,He=ye.curr(),at=ye.all(),ct=I.mod,Ze,bt,Mt;for(Ze=0,bt=ct.length;Ze<bt;++Ze)Mt=ct[Ze]._index,He[Mt]!==at&&he.push(Mt)},remove(I,J,he){let ye=this._indices,He=this.value,at=He.curr(),ct=He.prev(),Ze=He.all(),bt={},Mt=he.rem,qe=J.rem,te,et,Ee,ke;for(te=0,et=qe.length;te<et;++te)Ee=qe[te]._index,bt[Ee]=1,ct[Ee]=ke=at[Ee],at[Ee]=Ze,ke!==Ze&&Mt.push(Ee);for(Ee in ye)ye[Ee].remove(et,bt);return this.reindex(J,et,bt),bt},reindex(I,J,he){let ye=this._indices,He=this.value;I.runAfter(()=>{let at=He.remove(J,he);for(let ct in ye)ye[ct].reindex(at)})},update(I,J,he){let ye=this._dims,He=I.query,at=J.stamp,ct=ye.length,Ze=0,bt,Mt;for(he.filters=0,Mt=0;Mt<ct;++Mt)I.modified("query",Mt)&&(bt=Mt,++Ze);if(Ze===1)Ze=ye[bt].one,this.incrementOne(ye[bt],He[bt],he.add,he.rem);else for(Mt=0,Ze=0;Mt<ct;++Mt)!I.modified("query",Mt)||(Ze|=ye[Mt].one,this.incrementAll(ye[Mt],He[Mt],at,he.add),he.rem=he.add);return Ze},incrementAll(I,J,he,ye){let He=this.value,at=He.seen(),ct=He.curr(),Ze=He.prev(),bt=I.index(),Mt=I.bisect(I.range),qe=I.bisect(J),te=qe[0],et=qe[1],Ee=Mt[0],ke=Mt[1],Ce=I.one,pe,Je,lt;if(te<Ee)for(pe=te,Je=Math.min(Ee,et);pe<Je;++pe)lt=bt[pe],at[lt]!==he&&(Ze[lt]=ct[lt],at[lt]=he,ye.push(lt)),ct[lt]^=Ce;else if(te>Ee)for(pe=Ee,Je=Math.min(te,ke);pe<Je;++pe)lt=bt[pe],at[lt]!==he&&(Ze[lt]=ct[lt],at[lt]=he,ye.push(lt)),ct[lt]^=Ce;if(et>ke)for(pe=Math.max(te,ke),Je=et;pe<Je;++pe)lt=bt[pe],at[lt]!==he&&(Ze[lt]=ct[lt],at[lt]=he,ye.push(lt)),ct[lt]^=Ce;else if(et<ke)for(pe=Math.max(Ee,et),Je=ke;pe<Je;++pe)lt=bt[pe],at[lt]!==he&&(Ze[lt]=ct[lt],at[lt]=he,ye.push(lt)),ct[lt]^=Ce;I.range=J.slice()},incrementOne(I,J,he,ye){let He=this.value,at=He.curr(),ct=I.index(),Ze=I.bisect(I.range),bt=I.bisect(J),Mt=bt[0],qe=bt[1],te=Ze[0],et=Ze[1],Ee=I.one,ke,Ce,pe;if(Mt<te)for(ke=Mt,Ce=Math.min(te,qe);ke<Ce;++ke)pe=ct[ke],at[pe]^=Ee,he.push(pe);else if(Mt>te)for(ke=te,Ce=Math.min(Mt,et);ke<Ce;++ke)pe=ct[ke],at[pe]^=Ee,ye.push(pe);if(qe>et)for(ke=Math.max(Mt,et),Ce=qe;ke<Ce;++ke)pe=ct[ke],at[pe]^=Ee,he.push(pe);else if(qe<et)for(ke=Math.max(te,qe),Ce=et;ke<Ce;++ke)pe=ct[ke],at[pe]^=Ee,ye.push(pe);I.range=J.slice()}});function oe(I){e.Transform.call(this,null,I)}oe.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},t.inherits(oe,e.Transform,{transform(I,J){let he=~(I.ignore||0),ye=I.filter,He=ye.mask;if((He&he)===0)return J.StopPropagation;let at=J.fork(J.ALL),ct=ye.data(),Ze=ye.curr(),bt=ye.prev(),Mt=qe=>Ze[qe]&he?null:ct[qe];return at.filter(at.MOD,Mt),He&He-1?(at.filter(at.ADD,qe=>{let te=Ze[qe]&he;return!te&&te^bt[qe]&he?ct[qe]:null}),at.filter(at.REM,qe=>{let te=Ze[qe]&he;return te&&!(te^(te^bt[qe]&he))?ct[qe]:null})):(at.filter(at.ADD,Mt),at.filter(at.REM,qe=>(Ze[qe]&he)===He?ct[qe]:null)),at.filter(at.SOURCE,qe=>Mt(qe._index))}}),n.crossfilter=W,n.resolvefilter=oe,Object.defineProperty(n,"__esModule",{value:!0})})});var TV=Ae((AV,pRe)=>{m();(function(n,e){typeof AV=="object"&&typeof pRe!="undefined"?e(AV,Tu()):typeof define=="function"&&define.amd?define(["exports","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega))})(AV,function(n,e){"use strict";let t="RawCode",r="Literal",i="Property",s="Identifier",o="ArrayExpression",a="BinaryExpression",l="CallExpression",f="ConditionalExpression",p="LogicalExpression",_="MemberExpression",b="ObjectExpression",R="UnaryExpression";function O(C){this.type=C}O.prototype.visit=function(C){let B,ee,Se;if(C(this))return 1;for(B=j(this),ee=0,Se=B.length;ee<Se;++ee)if(B[ee].visit(C))return 1};function j(C){switch(C.type){case o:return C.elements;case a:case p:return[C.left,C.right];case l:return[C.callee].concat(C.arguments);case f:return[C.test,C.consequent,C.alternate];case _:return[C.object,C.property];case b:return C.properties;case i:return[C.key,C.value];case R:return[C.argument];case s:case r:case t:default:return[]}}var $,L,q,P,W,oe=1,I=2,J=3,he=4,ye=5,He=6,at=7,ct=8,Ze=9;$={},$[oe]="Boolean",$[I]="<end>",$[J]="Identifier",$[he]="Keyword",$[ye]="Null",$[He]="Numeric",$[at]="Punctuator",$[ct]="String",$[Ze]="RegularExpression";var bt="ArrayExpression",Mt="BinaryExpression",qe="CallExpression",te="ConditionalExpression",et="Identifier",Ee="Literal",ke="LogicalExpression",Ce="MemberExpression",pe="ObjectExpression",Je="Property",lt="UnaryExpression",Ht="Unexpected token %0",wt="Unexpected number",mn="Unexpected string",kt="Unexpected identifier",Bt="Unexpected reserved word",tn="Unexpected end of input",Et="Invalid regular expression",ve="Invalid regular expression: missing /",Le="Octal literals are not allowed in strict mode.",_e="Duplicate data property in object literal not allowed in strict mode",ce="ILLEGAL",tt="Disabled.",Ke=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),re=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Re(C,B){if(!C)throw new Error("ASSERT: "+B)}function nt(C){return C>=48&&C<=57}function ft(C){return"0123456789abcdefABCDEF".indexOf(C)>=0}function Rt(C){return"01234567".indexOf(C)>=0}function Yt(C){return C===32||C===9||C===11||C===12||C===160||C>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(C)>=0}function Gt(C){return C===10||C===13||C===8232||C===8233}function fn(C){return C===36||C===95||C>=65&&C<=90||C>=97&&C<=122||C===92||C>=128&&Ke.test(String.fromCharCode(C))}function gn(C){return C===36||C===95||C>=65&&C<=90||C>=97&&C<=122||C>=48&&C<=57||C===92||C>=128&&re.test(String.fromCharCode(C))}let yn={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function Lt(){for(;q<P;){let C=L.charCodeAt(q);if(Yt(C)||Gt(C))++q;else break}}function un(C){var B,ee,Se,ht=0;for(ee=C==="u"?4:2,B=0;B<ee;++B)q<P&&ft(L[q])?(Se=L[q++],ht=ht*16+"0123456789abcdef".indexOf(Se.toLowerCase())):Ue({},Ht,ce);return String.fromCharCode(ht)}function Pn(){var C,B,ee,Se;for(C=L[q],B=0,C==="}"&&Ue({},Ht,ce);q<P&&(C=L[q++],!!ft(C));)B=B*16+"0123456789abcdef".indexOf(C.toLowerCase());return(B>1114111||C!=="}")&&Ue({},Ht,ce),B<=65535?String.fromCharCode(B):(ee=(B-65536>>10)+55296,Se=(B-65536&1023)+56320,String.fromCharCode(ee,Se))}function nr(){var C,B;for(C=L.charCodeAt(q++),B=String.fromCharCode(C),C===92&&(L.charCodeAt(q)!==117&&Ue({},Ht,ce),++q,C=un("u"),(!C||C==="\\"||!fn(C.charCodeAt(0)))&&Ue({},Ht,ce),B=C);q<P&&(C=L.charCodeAt(q),!!gn(C));)++q,B+=String.fromCharCode(C),C===92&&(B=B.substr(0,B.length-1),L.charCodeAt(q)!==117&&Ue({},Ht,ce),++q,C=un("u"),(!C||C==="\\"||!gn(C.charCodeAt(0)))&&Ue({},Ht,ce),B+=C);return B}function On(){var C,B;for(C=q++;q<P;){if(B=L.charCodeAt(q),B===92)return q=C,nr();if(gn(B))++q;else break}return L.slice(C,q)}function Ne(){var C,B,ee;return C=q,B=L.charCodeAt(q)===92?nr():On(),B.length===1?ee=J:yn.hasOwnProperty(B)?ee=he:B==="null"?ee=ye:B==="true"||B==="false"?ee=oe:ee=J,{type:ee,value:B,start:C,end:q}}function ze(){var C=q,B=L.charCodeAt(q),ee,Se=L[q],ht,Tt,Zt;switch(B){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++q,{type:at,value:String.fromCharCode(B),start:C,end:q};default:if(ee=L.charCodeAt(q+1),ee===61)switch(B){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return q+=2,{type:at,value:String.fromCharCode(B)+String.fromCharCode(ee),start:C,end:q};case 33:case 61:return q+=2,L.charCodeAt(q)===61&&++q,{type:at,value:L.slice(C,q),start:C,end:q}}}if(Zt=L.substr(q,4),Zt===">>>=")return q+=4,{type:at,value:Zt,start:C,end:q};if(Tt=Zt.substr(0,3),Tt===">>>"||Tt==="<<="||Tt===">>=")return q+=3,{type:at,value:Tt,start:C,end:q};if(ht=Tt.substr(0,2),Se===ht[1]&&"+-<>&|".indexOf(Se)>=0||ht==="=>")return q+=2,{type:at,value:ht,start:C,end:q};if(ht==="//"&&Ue({},Ht,ce),"<>=!+-*%&|^/".indexOf(Se)>=0)return++q,{type:at,value:Se,start:C,end:q};Ue({},Ht,ce)}function De(C){let B="";for(;q<P&&ft(L[q]);)B+=L[q++];return B.length===0&&Ue({},Ht,ce),fn(L.charCodeAt(q))&&Ue({},Ht,ce),{type:He,value:parseInt("0x"+B,16),start:C,end:q}}function Pt(C){let B="0"+L[q++];for(;q<P&&Rt(L[q]);)B+=L[q++];return(fn(L.charCodeAt(q))||nt(L.charCodeAt(q)))&&Ue({},Ht,ce),{type:He,value:parseInt(B,8),octal:!0,start:C,end:q}}function mt(){var C,B,ee;if(ee=L[q],Re(nt(ee.charCodeAt(0))||ee===".","Numeric literal must start with a decimal digit or a decimal point"),B=q,C="",ee!=="."){if(C=L[q++],ee=L[q],C==="0"){if(ee==="x"||ee==="X")return++q,De(B);if(Rt(ee))return Pt(B);ee&&nt(ee.charCodeAt(0))&&Ue({},Ht,ce)}for(;nt(L.charCodeAt(q));)C+=L[q++];ee=L[q]}if(ee==="."){for(C+=L[q++];nt(L.charCodeAt(q));)C+=L[q++];ee=L[q]}if(ee==="e"||ee==="E")if(C+=L[q++],ee=L[q],(ee==="+"||ee==="-")&&(C+=L[q++]),nt(L.charCodeAt(q)))for(;nt(L.charCodeAt(q));)C+=L[q++];else Ue({},Ht,ce);return fn(L.charCodeAt(q))&&Ue({},Ht,ce),{type:He,value:parseFloat(C),start:B,end:q}}function xt(){var C="",B,ee,Se,ht,Tt=!1;for(B=L[q],Re(B==="'"||B==='"',"String literal must starts with a quote"),ee=q,++q;q<P;)if(Se=L[q++],Se===B){B="";break}else if(Se==="\\")if(Se=L[q++],!Se||!Gt(Se.charCodeAt(0)))switch(Se){case"u":case"x":L[q]==="{"?(++q,C+=Pn()):C+=un(Se);break;case"n":C+=`
`;break;case"r":C+="\r";break;case"t":C+="	";break;case"b":C+="\b";break;case"f":C+="\f";break;case"v":C+="\v";break;default:Rt(Se)?(ht="01234567".indexOf(Se),ht!==0&&(Tt=!0),q<P&&Rt(L[q])&&(Tt=!0,ht=ht*8+"01234567".indexOf(L[q++]),"0123".indexOf(Se)>=0&&q<P&&Rt(L[q])&&(ht=ht*8+"01234567".indexOf(L[q++]))),C+=String.fromCharCode(ht)):C+=Se;break}else Se==="\r"&&L[q]===`
`&&++q;else{if(Gt(Se.charCodeAt(0)))break;C+=Se}return B!==""&&Ue({},Ht,ce),{type:ct,value:C,octal:Tt,start:ee,end:q}}function rn(C,B){let ee=C;B.indexOf("u")>=0&&(ee=ee.replace(/\\u\{([0-9a-fA-F]+)\}/g,(Se,ht)=>{if(parseInt(ht,16)<=1114111)return"x";Ue({},Et)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(ee)}catch{Ue({},Et)}try{return new RegExp(C,B)}catch{return null}}function Qt(){var C,B,ee,Se,ht;for(C=L[q],Re(C==="/","Regular expression literal must start with a slash"),B=L[q++],ee=!1,Se=!1;q<P;)if(C=L[q++],B+=C,C==="\\")C=L[q++],Gt(C.charCodeAt(0))&&Ue({},ve),B+=C;else if(Gt(C.charCodeAt(0)))Ue({},ve);else if(ee)C==="]"&&(ee=!1);else if(C==="/"){Se=!0;break}else C==="["&&(ee=!0);return Se||Ue({},ve),ht=B.substr(1,B.length-2),{value:ht,literal:B}}function Fn(){var C,B,ee;for(B="",ee="";q<P&&(C=L[q],!!gn(C.charCodeAt(0)));)++q,C==="\\"&&q<P?Ue({},Ht,ce):(ee+=C,B+=C);return ee.search(/[^gimuy]/g)>=0&&Ue({},Et,ee),{value:ee,literal:B}}function Wn(){var C,B,ee,Se;return W=null,Lt(),C=q,B=Qt(),ee=Fn(),Se=rn(B.value,ee.value),{literal:B.literal+ee.literal,value:Se,regex:{pattern:B.value,flags:ee.value},start:C,end:q}}function Zn(C){return C.type===J||C.type===he||C.type===oe||C.type===ye}function Nn(){if(Lt(),q>=P)return{type:I,start:q,end:q};let C=L.charCodeAt(q);return fn(C)?Ne():C===40||C===41||C===59?ze():C===39||C===34?xt():C===46?nt(L.charCodeAt(q+1))?mt():ze():nt(C)?mt():ze()}function rr(){let C=W;return q=C.end,W=Nn(),q=C.end,C}function Ye(){let C=q;W=Nn(),q=C}function vt(C){let B=new O(bt);return B.elements=C,B}function ae(C,B,ee){let Se=new O(C==="||"||C==="&&"?ke:Mt);return Se.operator=C,Se.left=B,Se.right=ee,Se}function Be(C,B){let ee=new O(qe);return ee.callee=C,ee.arguments=B,ee}function rt(C,B,ee){let Se=new O(te);return Se.test=C,Se.consequent=B,Se.alternate=ee,Se}function Dt(C){let B=new O(et);return B.name=C,B}function hn(C){let B=new O(Ee);return B.value=C.value,B.raw=L.slice(C.start,C.end),C.regex&&(B.raw==="//"&&(B.raw="/(?:)/"),B.regex=C.regex),B}function an(C,B,ee){let Se=new O(Ce);return Se.computed=C==="[",Se.object=B,Se.property=ee,Se.computed||(ee.member=!0),Se}function dt(C){let B=new O(pe);return B.properties=C,B}function ie(C,B,ee){let Se=new O(Je);return Se.key=B,Se.value=ee,Se.kind=C,Se}function Te(C,B){let ee=new O(lt);return ee.operator=C,ee.argument=B,ee.prefix=!0,ee}function Ue(C,B){var ee,Se=Array.prototype.slice.call(arguments,2),ht=B.replace(/%(\d)/g,(Tt,Zt)=>(Re(Zt<Se.length,"Message reference must be in range"),Se[Zt]));throw ee=new Error(ht),ee.index=q,ee.description=ht,ee}function gt(C){C.type===I&&Ue(C,tn),C.type===He&&Ue(C,wt),C.type===ct&&Ue(C,mn),C.type===J&&Ue(C,kt),C.type===he&&Ue(C,Bt),Ue(C,Ht,C.value)}function St(C){let B=rr();(B.type!==at||B.value!==C)&&gt(B)}function Ot(C){return W.type===at&&W.value===C}function ne(C){return W.type===he&&W.value===C}function we(){let C=[];for(q=W.start,St("[");!Ot("]");)Ot(",")?(rr(),C.push(null)):(C.push(K()),Ot("]")||St(","));return rr(),vt(C)}function We(){q=W.start;let C=rr();return C.type===ct||C.type===He?(C.octal&&Ue(C,Le),hn(C)):Dt(C.value)}function st(){var C,B,ee,Se;if(q=W.start,C=W,C.type===J)return ee=We(),St(":"),Se=K(),ie("init",ee,Se);if(C.type===I||C.type===at)gt(C);else return B=We(),St(":"),Se=K(),ie("init",B,Se)}function Ut(){var C=[],B,ee,Se,ht={},Tt=String;for(q=W.start,St("{");!Ot("}");)B=st(),B.key.type===et?ee=B.key.name:ee=Tt(B.key.value),Se="$"+ee,Object.prototype.hasOwnProperty.call(ht,Se)?Ue({},_e):ht[Se]=!0,C.push(B),Ot("}")||St(",");return St("}"),dt(C)}function sn(){St("(");let C=ue();return St(")"),C}let wn={if:1};function bn(){var C,B,ee;if(Ot("("))return sn();if(Ot("["))return we();if(Ot("{"))return Ut();if(C=W.type,q=W.start,C===J||wn[W.value])ee=Dt(rr().value);else if(C===ct||C===He)W.octal&&Ue(W,Le),ee=hn(rr());else{if(C===he)throw new Error(tt);C===oe?(B=rr(),B.value=B.value==="true",ee=hn(B)):C===ye?(B=rr(),B.value=null,ee=hn(B)):Ot("/")||Ot("/=")?(ee=hn(Wn()),Ye()):gt(rr())}return ee}function vn(){let C=[];if(St("("),!Ot(")"))for(;q<P&&(C.push(K()),!Ot(")"));)St(",");return St(")"),C}function zn(){q=W.start;let C=rr();return Zn(C)||gt(C),Dt(C.value)}function Oe(){return St("."),zn()}function $e(){St("[");let C=ue();return St("]"),C}function Ft(){var C,B,ee;for(C=bn();;)if(Ot("."))ee=Oe(),C=an(".",C,ee);else if(Ot("("))B=vn(),C=Be(C,B);else if(Ot("["))ee=$e(),C=an("[",C,ee);else break;return C}function N(){let C=Ft();if(W.type===at&&(Ot("++")||Ot("--")))throw new Error(tt);return C}function V(){var C,B;if(W.type!==at&&W.type!==he)B=N();else{if(Ot("++")||Ot("--"))throw new Error(tt);if(Ot("+")||Ot("-")||Ot("~")||Ot("!"))C=rr(),B=V(),B=Te(C.value,B);else{if(ne("delete")||ne("void")||ne("typeof"))throw new Error(tt);B=N()}}return B}function be(C){let B=0;if(C.type!==at&&C.type!==he)return 0;switch(C.value){case"||":B=1;break;case"&&":B=2;break;case"|":B=3;break;case"^":B=4;break;case"&":B=5;break;case"==":case"!=":case"===":case"!==":B=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":B=7;break;case"<<":case">>":case">>>":B=8;break;case"+":case"-":B=9;break;case"*":case"/":case"%":B=11;break}return B}function xe(){var C,B,ee,Se,ht,Tt,Zt,Xt,xn,qn;if(C=W,xn=V(),Se=W,ht=be(Se),ht===0)return xn;for(Se.prec=ht,rr(),B=[C,W],Zt=V(),Tt=[xn,Se,Zt];(ht=be(W))>0;){for(;Tt.length>2&&ht<=Tt[Tt.length-2].prec;)Zt=Tt.pop(),Xt=Tt.pop().value,xn=Tt.pop(),B.pop(),ee=ae(Xt,xn,Zt),Tt.push(ee);Se=rr(),Se.prec=ht,Tt.push(Se),B.push(W),ee=V(),Tt.push(ee)}for(qn=Tt.length-1,ee=Tt[qn],B.pop();qn>1;)B.pop(),ee=ae(Tt[qn-1].value,Tt[qn-2],ee),qn-=2;return ee}function K(){var C,B,ee;return C=xe(),Ot("?")&&(rr(),B=K(),St(":"),ee=K(),C=rt(C,B,ee)),C}function ue(){let C=K();if(Ot(","))throw new Error(tt);return C}function fe(C){L=C,q=0,P=L.length,W=null,Ye();let B=ue();if(W.type!==I)throw new Error("Unexpect token after expression.");return B}var Qe={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function It(C){function B(Zt,Xt,xn,qn){let Un=C(Xt[0]);return xn&&(Un=xn+"("+Un+")",xn.lastIndexOf("new ",0)===0&&(Un="("+Un+")")),Un+"."+Zt+(qn<0?"":qn===0?"()":"("+Xt.slice(1).map(C).join(",")+")")}function ee(Zt,Xt,xn){return qn=>B(Zt,qn,Xt,xn)}let Se="new Date",ht="String",Tt="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(Zt){Zt.length<3&&e.error("Missing arguments to clamp function."),Zt.length>3&&e.error("Too many arguments to clamp function.");let Xt=Zt.map(C);return"Math.max("+Xt[1]+", Math.min("+Xt[2]+","+Xt[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:Se,date:ee("getDate",Se,0),day:ee("getDay",Se,0),year:ee("getFullYear",Se,0),month:ee("getMonth",Se,0),hours:ee("getHours",Se,0),minutes:ee("getMinutes",Se,0),seconds:ee("getSeconds",Se,0),milliseconds:ee("getMilliseconds",Se,0),time:ee("getTime",Se,0),timezoneoffset:ee("getTimezoneOffset",Se,0),utcdate:ee("getUTCDate",Se,0),utcday:ee("getUTCDay",Se,0),utcyear:ee("getUTCFullYear",Se,0),utcmonth:ee("getUTCMonth",Se,0),utchours:ee("getUTCHours",Se,0),utcminutes:ee("getUTCMinutes",Se,0),utcseconds:ee("getUTCSeconds",Se,0),utcmilliseconds:ee("getUTCMilliseconds",Se,0),length:ee("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:ee("toUpperCase",ht,0),lower:ee("toLowerCase",ht,0),substring:ee("substring",ht),split:ee("split",ht),trim:ee("trim",ht,0),regexp:Tt,test:ee("test",Tt),if:function(Zt){Zt.length<3&&e.error("Missing arguments to if function."),Zt.length>3&&e.error("Too many arguments to if function.");let Xt=Zt.map(C);return"("+Xt[0]+"?"+Xt[1]+":"+Xt[2]+")"}}}function At(C){let B=C&&C.length-1;return B&&(C[0]==='"'&&C[B]==='"'||C[0]==="'"&&C[B]==="'")?C.slice(1,-1):C}function dn(C){C=C||{};let B=C.allowed?e.toSet(C.allowed):{},ee=C.forbidden?e.toSet(C.forbidden):{},Se=C.constants||Qe,ht=(C.functions||It)(Vn),Tt=C.globalvar,Zt=C.fieldvar,Xt=e.isFunction(Tt)?Tt:yr=>`${Tt}["${yr}"]`,xn={},qn={},Un=0;function Vn(yr){if(e.isString(yr))return yr;let Mr=Jr[yr.type];return Mr==null&&e.error("Unsupported type: "+yr.type),Mr(yr)}let Jr={Literal:yr=>yr.raw,Identifier:yr=>{let Mr=yr.name;return Un>0?Mr:e.hasOwnProperty(ee,Mr)?e.error("Illegal identifier: "+Mr):e.hasOwnProperty(Se,Mr)?Se[Mr]:e.hasOwnProperty(B,Mr)?Mr:(xn[Mr]=1,Xt(Mr))},MemberExpression:yr=>{let Mr=!yr.computed,xi=Vn(yr.object);Mr&&(Un+=1);let ai=Vn(yr.property);return xi===Zt&&(qn[At(ai)]=1),Mr&&(Un-=1),xi+(Mr?"."+ai:"["+ai+"]")},CallExpression:yr=>{yr.callee.type!=="Identifier"&&e.error("Illegal callee type: "+yr.callee.type);let Mr=yr.callee.name,xi=yr.arguments,ai=e.hasOwnProperty(ht,Mr)&&ht[Mr];return ai||e.error("Unrecognized function: "+Mr),e.isFunction(ai)?ai(xi):ai+"("+xi.map(Vn).join(",")+")"},ArrayExpression:yr=>"["+yr.elements.map(Vn).join(",")+"]",BinaryExpression:yr=>"("+Vn(yr.left)+" "+yr.operator+" "+Vn(yr.right)+")",UnaryExpression:yr=>"("+yr.operator+Vn(yr.argument)+")",ConditionalExpression:yr=>"("+Vn(yr.test)+"?"+Vn(yr.consequent)+":"+Vn(yr.alternate)+")",LogicalExpression:yr=>"("+Vn(yr.left)+yr.operator+Vn(yr.right)+")",ObjectExpression:yr=>"{"+yr.properties.map(Vn).join(",")+"}",Property:yr=>{Un+=1;let Mr=Vn(yr.key);return Un-=1,Mr+":"+Vn(yr.value)}};function Wr(yr){let Mr={code:Vn(yr),globals:Object.keys(xn),fields:Object.keys(qn)};return xn={},qn={},Mr}return Wr.functions=ht,Wr.constants=Se,Wr}n.ASTNode=O,n.ArrayExpression=o,n.BinaryExpression=a,n.CallExpression=l,n.ConditionalExpression=f,n.Identifier=s,n.Literal=r,n.LogicalExpression=p,n.MemberExpression=_,n.ObjectExpression=b,n.Property=i,n.RawCode=t,n.UnaryExpression=R,n.codegenExpression=dn,n.constants=Qe,n.functions=It,n.parseExpression=fe,Object.defineProperty(n,"__esModule",{value:!0})})});var xRe=Ae((FV,mRe)=>{m();(function(n,e){typeof FV=="object"&&typeof mRe!="undefined"?e(FV,Tu(),TV()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-expression"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(FV,function(n,e,t){"use strict";function r(Je,lt){return Je==null||lt==null?NaN:Je<lt?-1:Je>lt?1:Je>=lt?0:NaN}function i(Je){let lt=Je,Ht=Je,wt=Je;Je.length!==2&&(lt=(tn,Et)=>Je(tn)-Et,Ht=r,wt=(tn,Et)=>r(Je(tn),Et));function mn(tn,Et,ve=0,Le=tn.length){if(ve<Le){if(Ht(Et,Et)!==0)return Le;do{let _e=ve+Le>>>1;wt(tn[_e],Et)<0?ve=_e+1:Le=_e}while(ve<Le)}return ve}function kt(tn,Et,ve=0,Le=tn.length){if(ve<Le){if(Ht(Et,Et)!==0)return Le;do{let _e=ve+Le>>>1;wt(tn[_e],Et)<=0?ve=_e+1:Le=_e}while(ve<Le)}return ve}function Bt(tn,Et,ve=0,Le=tn.length){let _e=mn(tn,Et,ve,Le-1);return _e>ve&&lt(tn[_e-1],Et)>-lt(tn[_e],Et)?_e-1:_e}return{left:mn,center:Bt,right:kt}}class s extends Set{constructor(lt,Ht=f){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Ht}}),lt!=null)for(let wt of lt)this.add(wt)}has(lt){return super.has(o(this,lt))}add(lt){return super.add(a(this,lt))}delete(lt){return super.delete(l(this,lt))}}function o({_intern:Je,_key:lt},Ht){let wt=lt(Ht);return Je.has(wt)?Je.get(wt):Ht}function a({_intern:Je,_key:lt},Ht){let wt=lt(Ht);return Je.has(wt)?Je.get(wt):(Je.set(wt,Ht),Ht)}function l({_intern:Je,_key:lt},Ht){let wt=lt(Ht);return Je.has(wt)&&(Ht=Je.get(wt),Je.delete(wt)),Ht}function f(Je){return Je!==null&&typeof Je=="object"?Je.valueOf():Je}function p(Je,...lt){Je=new s(Je),lt=lt.map(_);e:for(let Ht of Je)for(let wt of lt)if(!wt.has(Ht)){Je.delete(Ht);continue e}return Je}function _(Je){return Je instanceof s?Je:new s(Je)}function b(...Je){let lt=new s;for(let Ht of Je)for(let wt of Ht)lt.add(wt);return lt}let R="intersect",O="union",j="vlMulti",$="vlPoint",L="or",q="and",P="_vgsid_",W=e.field(P),oe="E",I="R",J="R-E",he="R-LE",ye="R-RE",He="index:unit";function at(Je,lt){for(var Ht=lt.fields,wt=lt.values,mn=Ht.length,kt=0,Bt,tn;kt<mn;++kt)if(tn=Ht[kt],tn.getter=e.field.getter||e.field(tn.field),Bt=tn.getter(Je),e.isDate(Bt)&&(Bt=e.toNumber(Bt)),e.isDate(wt[kt])&&(wt[kt]=e.toNumber(wt[kt])),e.isDate(wt[kt][0])&&(wt[kt]=wt[kt].map(e.toNumber)),tn.type===oe){if(e.isArray(wt[kt])?wt[kt].indexOf(Bt)<0:Bt!==wt[kt])return!1}else if(tn.type===I){if(!e.inrange(Bt,wt[kt]))return!1}else if(tn.type===ye){if(!e.inrange(Bt,wt[kt],!0,!1))return!1}else if(tn.type===J){if(!e.inrange(Bt,wt[kt],!1,!1))return!1}else if(tn.type===he&&!e.inrange(Bt,wt[kt],!1,!0))return!1;return!0}function ct(Je,lt,Ht){for(var wt=this.context.data[Je],mn=wt?wt.values.value:[],kt=wt?wt[He]&&wt[He].value:void 0,Bt=Ht===R,tn=mn.length,Et=0,ve,Le,_e,ce,tt;Et<tn;++Et)if(ve=mn[Et],kt&&Bt){if(Le=Le||{},_e=Le[ce=ve.unit]||0,_e===-1)continue;if(tt=at(lt,ve),Le[ce]=tt?-1:++_e,tt&&kt.size===1)return!0;if(!tt&&_e===kt.get(ce).count)return!1}else if(tt=at(lt,ve),Bt^tt)return tt;return tn&&Bt}let Ze=i(W),bt=Ze.left,Mt=Ze.right;function qe(Je,lt,Ht){let wt=this.context.data[Je],mn=wt?wt.values.value:[],kt=wt?wt[He]&&wt[He].value:void 0,Bt=Ht===R,tn=W(lt),Et=bt(mn,tn);if(Et===mn.length||W(mn[Et])!==tn)return!1;if(kt&&Bt){if(kt.size===1)return!0;if(Mt(mn,tn)-Et<kt.size)return!1}return!0}function te(Je,lt){return Je.map(Ht=>e.extend(lt.fields?{values:lt.fields.map(wt=>(wt.getter||(wt.getter=e.field(wt.field)))(Ht.datum))}:{[P]:W(Ht.datum)},lt))}function et(Je,lt,Ht,wt){for(var mn=this.context.data[Je],kt=mn?mn.values.value:[],Bt={},tn={},Et={},ve,Le,_e,ce,tt,Ke,re,Re,nt,ft,Rt=kt.length,Yt=0,Gt,fn;Yt<Rt;++Yt)if(ve=kt[Yt],ce=ve.unit,Le=ve.fields,_e=ve.values,Le&&_e){for(Gt=0,fn=Le.length;Gt<fn;++Gt)tt=Le[Gt],re=Bt[tt.field]||(Bt[tt.field]={}),Re=re[ce]||(re[ce]=[]),Et[tt.field]=nt=tt.type.charAt(0),ft=Ee[`${nt}_union`],re[ce]=ft(Re,e.array(_e[Gt]));Ht&&(Re=tn[ce]||(tn[ce]=[]),Re.push(e.array(_e).reduce((gn,yn,Lt)=>(gn[Le[Lt].field]=yn,gn),{})))}else tt=P,Ke=W(ve),re=Bt[tt]||(Bt[tt]={}),Re=re[ce]||(re[ce]=[]),Re.push(Ke),Ht&&(Re=tn[ce]||(tn[ce]=[]),Re.push({[P]:Ke}));if(lt=lt||O,Bt[P]?Bt[P]=Ee[`${P}_${lt}`](...Object.values(Bt[P])):Object.keys(Bt).forEach(gn=>{Bt[gn]=Object.keys(Bt[gn]).map(yn=>Bt[gn][yn]).reduce((yn,Lt)=>yn===void 0?Lt:Ee[`${Et[gn]}_${lt}`](yn,Lt))}),kt=Object.keys(tn),Ht&&kt.length){let gn=wt?$:j;Bt[gn]=lt===O?{[L]:kt.reduce((yn,Lt)=>(yn.push(...tn[Lt]),yn),[])}:{[q]:kt.map(yn=>({[L]:tn[yn]}))}}return Bt}var Ee={[`${P}_union`]:b,[`${P}_intersect`]:p,E_union:function(Je,lt){if(!Je.length)return lt;for(var Ht=0,wt=lt.length;Ht<wt;++Ht)Je.indexOf(lt[Ht])<0&&Je.push(lt[Ht]);return Je},E_intersect:function(Je,lt){return Je.length?Je.filter(Ht=>lt.indexOf(Ht)>=0):lt},R_union:function(Je,lt){var Ht=e.toNumber(lt[0]),wt=e.toNumber(lt[1]);return Ht>wt&&(Ht=lt[1],wt=lt[0]),Je.length?(Je[0]>Ht&&(Je[0]=Ht),Je[1]<wt&&(Je[1]=wt),Je):[Ht,wt]},R_intersect:function(Je,lt){var Ht=e.toNumber(lt[0]),wt=e.toNumber(lt[1]);return Ht>wt&&(Ht=lt[1],wt=lt[0]),Je.length?wt<Je[0]||Je[1]<Ht?[]:(Je[0]<Ht&&(Je[0]=Ht),Je[1]>wt&&(Je[1]=wt),Je):[Ht,wt]}};let ke=":",Ce="@";function pe(Je,lt,Ht,wt){lt[0].type!==t.Literal&&e.error("First argument to selection functions must be a string literal.");let mn=lt[0].value,kt=lt.length>=2&&e.peek(lt).value,Bt="unit",tn=Ce+Bt,Et=ke+mn;kt===R&&!e.hasOwnProperty(wt,tn)&&(wt[tn]=Ht.getData(mn).indataRef(Ht,Bt)),e.hasOwnProperty(wt,Et)||(wt[Et]=Ht.getData(mn).tuplesRef())}n.selectionIdTest=qe,n.selectionResolve=et,n.selectionTest=ct,n.selectionTuples=te,n.selectionVisitor=pe,Object.defineProperty(n,"__esModule",{value:!0})})});var RV=Ae((DV,gRe)=>{m();(function(n,e){typeof DV=="object"&&typeof gRe!="undefined"?e(DV,Tu(),TV(),o0(),xb(),x9(),xRe(),mb(),m9()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-expression","vega-dataflow","vega-scale","vega-scenegraph","vega-selections","vega-statistics","vega-time"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega,n.vega,n.vega,n.vega))})(DV,function(n,e,t,r,i,s,o,a,l){"use strict";function f(le){let ut=this.context.data[le];return ut?ut.values.value:[]}function p(le,ut,en){let Dn=this.context.data[le]["index:"+ut],ir=Dn?Dn.value.get(en):void 0;return ir&&ir.count}function _(le,ut){let en=this.context.dataflow,Dn=this.context.data[le],ir=Dn.input;return en.pulse(ir,en.changeset().remove(e.truthy).insert(ut)),1}function b(le,ut,en){if(le){let Dn=this.context.dataflow,ir=le.mark.source;Dn.pulse(ir,Dn.changeset().encode(le,ut))}return en!==void 0?en:le}let R=le=>function(ut,en){return this.context.dataflow.locale()[le](en)(ut)},O=R("format"),j=R("timeFormat"),$=R("utcFormat"),L=R("timeParse"),q=R("utcParse"),P=new Date(2e3,0,1);function W(le,ut,en){return!Number.isInteger(le)||!Number.isInteger(ut)?"":(P.setYear(2e3),P.setMonth(le),P.setDate(ut),j.call(this,P,en))}function oe(le){return W.call(this,le,1,"%B")}function I(le){return W.call(this,le,1,"%b")}function J(le){return W.call(this,0,2+le,"%A")}function he(le){return W.call(this,0,2+le,"%a")}let ye=":",He="@",at="%",ct="$";function Ze(le,ut,en,Dn){ut[0].type!==t.Literal&&e.error("First argument to data functions must be a string literal.");let ir=ut[0].value,vr=ye+ir;if(!e.hasOwnProperty(vr,Dn))try{Dn[vr]=en.getData(ir).tuplesRef()}catch{}}function bt(le,ut,en,Dn){ut[0].type!==t.Literal&&e.error("First argument to indata must be a string literal."),ut[1].type!==t.Literal&&e.error("Second argument to indata must be a string literal.");let ir=ut[0].value,vr=ut[1].value,dr=He+vr;e.hasOwnProperty(dr,Dn)||(Dn[dr]=en.getData(ir).indataRef(en,vr))}function Mt(le,ut,en,Dn){if(ut[0].type===t.Literal)qe(en,Dn,ut[0].value);else for(le in en.scales)qe(en,Dn,le)}function qe(le,ut,en){let Dn=at+en;if(!e.hasOwnProperty(ut,Dn))try{ut[Dn]=le.scaleRef(en)}catch{}}function te(le,ut){let en;return e.isFunction(le)?le:e.isString(le)?(en=ut.scales[le])&&en.value:void 0}function et(le,ut,en){ut.__bandwidth=ir=>ir&&ir.bandwidth?ir.bandwidth():0,en._bandwidth=Mt,en._range=Mt,en._scale=Mt;let Dn=ir=>"_["+(ir.type===t.Literal?e.stringValue(at+ir.value):e.stringValue(at)+"+"+le(ir))+"]";return{_bandwidth:ir=>`this.__bandwidth(${Dn(ir[0])})`,_range:ir=>`${Dn(ir[0])}.range()`,_scale:ir=>`${Dn(ir[0])}(${le(ir[1])})`}}class Ee{constructor(){this._partials=new Float64Array(32),this._n=0}add(ut){let en=this._partials,Dn=0;for(let ir=0;ir<this._n&&ir<32;ir++){let vr=en[ir],dr=ut+vr,es=Math.abs(ut)<Math.abs(vr)?ut-(dr-vr):vr-(dr-ut);es&&(en[Dn++]=es),ut=dr}return en[Dn]=ut,this._n=Dn+1,this}valueOf(){let ut=this._partials,en=this._n,Dn,ir,vr,dr=0;if(en>0){for(dr=ut[--en];en>0&&(Dn=dr,ir=ut[--en],dr=Dn+ir,vr=ir-(dr-Dn),!vr););en>0&&(vr<0&&ut[en-1]<0||vr>0&&ut[en-1]>0)&&(ir=vr*2,Dn=dr+ir,ir==Dn-dr&&(dr=Dn))}return dr}}function ke(le,ut,en){le=+le,ut=+ut,en=(ir=arguments.length)<2?(ut=le,le=0,1):ir<3?1:+en;for(var Dn=-1,ir=Math.max(0,Math.ceil((ut-le)/en))|0,vr=new Array(ir);++Dn<ir;)vr[Dn]=le+Dn*en;return vr}var Ce=1e-6,pe=1e-12,Je=Math.PI,lt=Je/2,Ht=Je/4,wt=Je*2,mn=180/Je,kt=Je/180,Bt=Math.abs,tn=Math.atan2,Et=Math.cos,ve=Math.hypot,Le=Math.sin,_e=Math.sqrt;function ce(le){return le>1?lt:le<-1?-lt:Math.asin(le)}function tt(){}function Ke(le,ut){le&&Re.hasOwnProperty(le.type)&&Re[le.type](le,ut)}var re={Feature:function(le,ut){Ke(le.geometry,ut)},FeatureCollection:function(le,ut){for(var en=le.features,Dn=-1,ir=en.length;++Dn<ir;)Ke(en[Dn].geometry,ut)}},Re={Sphere:function(le,ut){ut.sphere()},Point:function(le,ut){le=le.coordinates,ut.point(le[0],le[1],le[2])},MultiPoint:function(le,ut){for(var en=le.coordinates,Dn=-1,ir=en.length;++Dn<ir;)le=en[Dn],ut.point(le[0],le[1],le[2])},LineString:function(le,ut){nt(le.coordinates,ut,0)},MultiLineString:function(le,ut){for(var en=le.coordinates,Dn=-1,ir=en.length;++Dn<ir;)nt(en[Dn],ut,0)},Polygon:function(le,ut){ft(le.coordinates,ut)},MultiPolygon:function(le,ut){for(var en=le.coordinates,Dn=-1,ir=en.length;++Dn<ir;)ft(en[Dn],ut)},GeometryCollection:function(le,ut){for(var en=le.geometries,Dn=-1,ir=en.length;++Dn<ir;)Ke(en[Dn],ut)}};function nt(le,ut,en){var Dn=-1,ir=le.length-en,vr;for(ut.lineStart();++Dn<ir;)vr=le[Dn],ut.point(vr[0],vr[1],vr[2]);ut.lineEnd()}function ft(le,ut){var en=-1,Dn=le.length;for(ut.polygonStart();++en<Dn;)nt(le[en],ut,1);ut.polygonEnd()}function Rt(le,ut){le&&re.hasOwnProperty(le.type)?re[le.type](le,ut):Ke(le,ut)}var Yt=new Ee,Gt=new Ee,fn,gn,yn,Lt,un,Pn={point:tt,lineStart:tt,lineEnd:tt,polygonStart:function(){Yt=new Ee,Pn.lineStart=nr,Pn.lineEnd=On},polygonEnd:function(){var le=+Yt;Gt.add(le<0?wt+le:le),this.lineStart=this.lineEnd=this.point=tt},sphere:function(){Gt.add(wt)}};function nr(){Pn.point=Ne}function On(){ze(fn,gn)}function Ne(le,ut){Pn.point=ze,fn=le,gn=ut,le*=kt,ut*=kt,yn=le,Lt=Et(ut=ut/2+Ht),un=Le(ut)}function ze(le,ut){le*=kt,ut*=kt,ut=ut/2+Ht;var en=le-yn,Dn=en>=0?1:-1,ir=Dn*en,vr=Et(ut),dr=Le(ut),es=un*dr,_s=Lt*vr+es*Et(ir),Ls=es*Dn*Le(ir);Yt.add(tn(Ls,_s)),yn=le,Lt=vr,un=dr}function De(le){return Gt=new Ee,Rt(le,Pn),Gt*2}function Pt(le){return[tn(le[1],le[0]),ce(le[2])]}function mt(le){var ut=le[0],en=le[1],Dn=Et(en);return[Dn*Et(ut),Dn*Le(ut),Le(en)]}function xt(le,ut){return[le[1]*ut[2]-le[2]*ut[1],le[2]*ut[0]-le[0]*ut[2],le[0]*ut[1]-le[1]*ut[0]]}function rn(le){var ut=_e(le[0]*le[0]+le[1]*le[1]+le[2]*le[2]);le[0]/=ut,le[1]/=ut,le[2]/=ut}var Qt,Fn,Wn,Zn,Nn,rr,Ye,vt,ae,Be,rt,Dt={point:hn,lineStart:dt,lineEnd:ie,polygonStart:function(){Dt.point=Te,Dt.lineStart=Ue,Dt.lineEnd=gt,ae=new Ee,Pn.polygonStart()},polygonEnd:function(){Pn.polygonEnd(),Dt.point=hn,Dt.lineStart=dt,Dt.lineEnd=ie,Yt<0?(Qt=-(Wn=180),Fn=-(Zn=90)):ae>Ce?Zn=90:ae<-Ce&&(Fn=-90),rt[0]=Qt,rt[1]=Wn},sphere:function(){Qt=-(Wn=180),Fn=-(Zn=90)}};function hn(le,ut){Be.push(rt=[Qt=le,Wn=le]),ut<Fn&&(Fn=ut),ut>Zn&&(Zn=ut)}function an(le,ut){var en=mt([le*kt,ut*kt]);if(vt){var Dn=xt(vt,en),ir=[Dn[1],-Dn[0],0],vr=xt(ir,Dn);rn(vr),vr=Pt(vr);var dr=le-Nn,es=dr>0?1:-1,_s=vr[0]*mn*es,Ls,oo=Bt(dr)>180;oo^(es*Nn<_s&&_s<es*le)?(Ls=vr[1]*mn,Ls>Zn&&(Zn=Ls)):(_s=(_s+360)%360-180,oo^(es*Nn<_s&&_s<es*le)?(Ls=-vr[1]*mn,Ls<Fn&&(Fn=Ls)):(ut<Fn&&(Fn=ut),ut>Zn&&(Zn=ut))),oo?le<Nn?St(Qt,le)>St(Qt,Wn)&&(Wn=le):St(le,Wn)>St(Qt,Wn)&&(Qt=le):Wn>=Qt?(le<Qt&&(Qt=le),le>Wn&&(Wn=le)):le>Nn?St(Qt,le)>St(Qt,Wn)&&(Wn=le):St(le,Wn)>St(Qt,Wn)&&(Qt=le)}else Be.push(rt=[Qt=le,Wn=le]);ut<Fn&&(Fn=ut),ut>Zn&&(Zn=ut),vt=en,Nn=le}function dt(){Dt.point=an}function ie(){rt[0]=Qt,rt[1]=Wn,Dt.point=hn,vt=null}function Te(le,ut){if(vt){var en=le-Nn;ae.add(Bt(en)>180?en+(en>0?360:-360):en)}else rr=le,Ye=ut;Pn.point(le,ut),an(le,ut)}function Ue(){Pn.lineStart()}function gt(){Te(rr,Ye),Pn.lineEnd(),Bt(ae)>Ce&&(Qt=-(Wn=180)),rt[0]=Qt,rt[1]=Wn,vt=null}function St(le,ut){return(ut-=le)<0?ut+360:ut}function Ot(le,ut){return le[0]-ut[0]}function ne(le,ut){return le[0]<=le[1]?le[0]<=ut&&ut<=le[1]:ut<le[0]||le[1]<ut}function we(le){var ut,en,Dn,ir,vr,dr,es;if(Zn=Wn=-(Qt=Fn=1/0),Be=[],Rt(le,Dt),en=Be.length){for(Be.sort(Ot),ut=1,Dn=Be[0],vr=[Dn];ut<en;++ut)ir=Be[ut],ne(Dn,ir[0])||ne(Dn,ir[1])?(St(Dn[0],ir[1])>St(Dn[0],Dn[1])&&(Dn[1]=ir[1]),St(ir[0],Dn[1])>St(Dn[0],Dn[1])&&(Dn[0]=ir[0])):vr.push(Dn=ir);for(dr=-1/0,en=vr.length-1,ut=0,Dn=vr[en];ut<=en;Dn=ir,++ut)ir=vr[ut],(es=St(Dn[1],ir[0]))>dr&&(dr=es,Qt=ir[0],Wn=Dn[1])}return Be=rt=null,Qt===1/0||Fn===1/0?[[NaN,NaN],[NaN,NaN]]:[[Qt,Fn],[Wn,Zn]]}var We,st,Ut,sn,wn,bn,vn,zn,Oe,$e,Ft,N,V,be,xe,K,ue={sphere:tt,point:fe,lineStart:It,lineEnd:C,polygonStart:function(){ue.lineStart=B,ue.lineEnd=ee},polygonEnd:function(){ue.lineStart=It,ue.lineEnd=C}};function fe(le,ut){le*=kt,ut*=kt;var en=Et(ut);Qe(en*Et(le),en*Le(le),Le(ut))}function Qe(le,ut,en){++We,Ut+=(le-Ut)/We,sn+=(ut-sn)/We,wn+=(en-wn)/We}function It(){ue.point=At}function At(le,ut){le*=kt,ut*=kt;var en=Et(ut);be=en*Et(le),xe=en*Le(le),K=Le(ut),ue.point=dn,Qe(be,xe,K)}function dn(le,ut){le*=kt,ut*=kt;var en=Et(ut),Dn=en*Et(le),ir=en*Le(le),vr=Le(ut),dr=tn(_e((dr=xe*vr-K*ir)*dr+(dr=K*Dn-be*vr)*dr+(dr=be*ir-xe*Dn)*dr),be*Dn+xe*ir+K*vr);st+=dr,bn+=dr*(be+(be=Dn)),vn+=dr*(xe+(xe=ir)),zn+=dr*(K+(K=vr)),Qe(be,xe,K)}function C(){ue.point=fe}function B(){ue.point=Se}function ee(){ht(N,V),ue.point=fe}function Se(le,ut){N=le,V=ut,le*=kt,ut*=kt,ue.point=ht;var en=Et(ut);be=en*Et(le),xe=en*Le(le),K=Le(ut),Qe(be,xe,K)}function ht(le,ut){le*=kt,ut*=kt;var en=Et(ut),Dn=en*Et(le),ir=en*Le(le),vr=Le(ut),dr=xe*vr-K*ir,es=K*Dn-be*vr,_s=be*ir-xe*Dn,Ls=ve(dr,es,_s),oo=ce(Ls),Za=Ls&&-oo/Ls;Oe.add(Za*dr),$e.add(Za*es),Ft.add(Za*_s),st+=oo,bn+=oo*(be+(be=Dn)),vn+=oo*(xe+(xe=ir)),zn+=oo*(K+(K=vr)),Qe(be,xe,K)}function Tt(le){We=st=Ut=sn=wn=bn=vn=zn=0,Oe=new Ee,$e=new Ee,Ft=new Ee,Rt(le,ue);var ut=+Oe,en=+$e,Dn=+Ft,ir=ve(ut,en,Dn);return ir<pe&&(ut=bn,en=vn,Dn=zn,st<Ce&&(ut=Ut,en=sn,Dn=wn),ir=ve(ut,en,Dn),ir<pe)?[NaN,NaN]:[tn(en,ut)*mn,ce(Dn/ir)*mn]}function Zt(le,ut){return function(en,Dn,ir){if(en){let vr=te(en,(ir||this).context);return vr&&vr.path[le](Dn)}else return ut(Dn)}}let Xt=Zt("area",De),xn=Zt("bounds",we),qn=Zt("centroid",Tt);function Un(le){let ut=this.context.group,en=!1;if(ut)for(;le;){if(le===ut){en=!0;break}le=le.mark.group}return en}function Vn(le,ut,en){try{le[ut].apply(le,["EXPRESSION"].concat([].slice.call(en)))}catch(Dn){le.warn(Dn)}return en[en.length-1]}function Jr(){return Vn(this.context.dataflow,"warn",arguments)}function Wr(){return Vn(this.context.dataflow,"info",arguments)}function yr(){return Vn(this.context.dataflow,"debug",arguments)}function Mr(le,ut,en){le.prototype=ut.prototype=en,en.constructor=le}function xi(le,ut){var en=Object.create(le.prototype);for(var Dn in ut)en[Dn]=ut[Dn];return en}function ai(){}var Xi=.7,Cs=1/Xi,ts="\\s*([+-]?\\d+)\\s*",Aa="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",xa="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yl=/^#([0-9a-f]{3,8})$/,Lc=new RegExp("^rgb\\("+[ts,ts,ts]+"\\)$"),fu=new RegExp("^rgb\\("+[xa,xa,xa]+"\\)$"),du=new RegExp("^rgba\\("+[ts,ts,ts,Aa]+"\\)$"),Xu=new RegExp("^rgba\\("+[xa,xa,xa,Aa]+"\\)$"),Du=new RegExp("^hsl\\("+[Aa,xa,xa]+"\\)$"),kc=new RegExp("^hsla\\("+[Aa,xa,xa,Aa]+"\\)$"),na={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mr(ai,Kt,{copy:function(le){return Object.assign(new this.constructor,this,le)},displayable:function(){return this.rgb().displayable()},hex:Zu,formatHex:Zu,formatHsl:rf,formatRgb:Ge,toString:Ge});function Zu(){return this.rgb().formatHex()}function rf(){return so(this).formatHsl()}function Ge(){return this.rgb().formatRgb()}function Kt(le){var ut,en;return le=(le+"").trim().toLowerCase(),(ut=yl.exec(le))?(en=ut[1].length,ut=parseInt(ut[1],16),en===6?jn(ut):en===3?new Xr(ut>>8&15|ut>>4&240,ut>>4&15|ut&240,(ut&15)<<4|ut&15,1):en===8?Yn(ut>>24&255,ut>>16&255,ut>>8&255,(ut&255)/255):en===4?Yn(ut>>12&15|ut>>8&240,ut>>8&15|ut>>4&240,ut>>4&15|ut&240,((ut&15)<<4|ut&15)/255):null):(ut=Lc.exec(le))?new Xr(ut[1],ut[2],ut[3],1):(ut=fu.exec(le))?new Xr(ut[1]*255/100,ut[2]*255/100,ut[3]*255/100,1):(ut=du.exec(le))?Yn(ut[1],ut[2],ut[3],ut[4]):(ut=Xu.exec(le))?Yn(ut[1]*255/100,ut[2]*255/100,ut[3]*255/100,ut[4]):(ut=Du.exec(le))?us(ut[1],ut[2]/100,ut[3]/100,1):(ut=kc.exec(le))?us(ut[1],ut[2]/100,ut[3]/100,ut[4]):na.hasOwnProperty(le)?jn(na[le]):le==="transparent"?new Xr(NaN,NaN,NaN,0):null}function jn(le){return new Xr(le>>16&255,le>>8&255,le&255,1)}function Yn(le,ut,en,Dn){return Dn<=0&&(le=ut=en=NaN),new Xr(le,ut,en,Dn)}function ri(le){return le instanceof ai||(le=Kt(le)),le?(le=le.rgb(),new Xr(le.r,le.g,le.b,le.opacity)):new Xr}function Br(le,ut,en,Dn){return arguments.length===1?ri(le):new Xr(le,ut,en,Dn??1)}function Xr(le,ut,en,Dn){this.r=+le,this.g=+ut,this.b=+en,this.opacity=+Dn}Mr(Xr,Br,xi(ai,{brighter:function(le){return le=le==null?Cs:Math.pow(Cs,le),new Xr(this.r*le,this.g*le,this.b*le,this.opacity)},darker:function(le){return le=le==null?Xi:Math.pow(Xi,le),new Xr(this.r*le,this.g*le,this.b*le,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:As,formatHex:As,formatRgb:fo,toString:fo}));function As(){return"#"+io(this.r)+io(this.g)+io(this.b)}function fo(){var le=this.opacity;return le=isNaN(le)?1:Math.max(0,Math.min(1,le)),(le===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(le===1?")":", "+le+")")}function io(le){return le=Math.max(0,Math.min(255,Math.round(le)||0)),(le<16?"0":"")+le.toString(16)}function us(le,ut,en,Dn){return Dn<=0?le=ut=en=NaN:en<=0||en>=1?le=ut=NaN:ut<=0&&(le=NaN),new hi(le,ut,en,Dn)}function so(le){if(le instanceof hi)return new hi(le.h,le.s,le.l,le.opacity);if(le instanceof ai||(le=Kt(le)),!le)return new hi;if(le instanceof hi)return le;le=le.rgb();var ut=le.r/255,en=le.g/255,Dn=le.b/255,ir=Math.min(ut,en,Dn),vr=Math.max(ut,en,Dn),dr=NaN,es=vr-ir,_s=(vr+ir)/2;return es?(ut===vr?dr=(en-Dn)/es+(en<Dn)*6:en===vr?dr=(Dn-ut)/es+2:dr=(ut-en)/es+4,es/=_s<.5?vr+ir:2-vr-ir,dr*=60):es=_s>0&&_s<1?0:dr,new hi(dr,es,_s,le.opacity)}function ho(le,ut,en,Dn){return arguments.length===1?so(le):new hi(le,ut,en,Dn??1)}function hi(le,ut,en,Dn){this.h=+le,this.s=+ut,this.l=+en,this.opacity=+Dn}Mr(hi,ho,xi(ai,{brighter:function(le){return le=le==null?Cs:Math.pow(Cs,le),new hi(this.h,this.s,this.l*le,this.opacity)},darker:function(le){return le=le==null?Xi:Math.pow(Xi,le),new hi(this.h,this.s,this.l*le,this.opacity)},rgb:function(){var le=this.h%360+(this.h<0)*360,ut=isNaN(le)||isNaN(this.s)?0:this.s,en=this.l,Dn=en+(en<.5?en:1-en)*ut,ir=2*en-Dn;return new Xr(bi(le>=240?le-240:le+120,ir,Dn),bi(le,ir,Dn),bi(le<120?le+240:le-120,ir,Dn),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var le=this.opacity;return le=isNaN(le)?1:Math.max(0,Math.min(1,le)),(le===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(le===1?")":", "+le+")")}}));function bi(le,ut,en){return(le<60?ut+(en-ut)*le/60:le<180?en:le<240?ut+(en-ut)*(240-le)/60:ut)*255}let Wi=Math.PI/180,Xo=180/Math.PI,da=18,ha=.96422,po=1,ls=.82521,ps=4/29,Zi=6/29,hu=3*Zi*Zi,Ps=Zi*Zi*Zi;function ga(le){if(le instanceof Oi)return new Oi(le.l,le.a,le.b,le.opacity);if(le instanceof Oo)return To(le);le instanceof Xr||(le=ri(le));var ut=Ro(le.r),en=Ro(le.g),Dn=Ro(le.b),ir=Wo((.2225045*ut+.7168786*en+.0606169*Dn)/po),vr,dr;return ut===en&&en===Dn?vr=dr=ir:(vr=Wo((.4360747*ut+.3850649*en+.1430804*Dn)/ha),dr=Wo((.0139322*ut+.0971045*en+.7141733*Dn)/ls)),new Oi(116*ir-16,500*(vr-ir),200*(ir-dr),le.opacity)}function ua(le,ut,en,Dn){return arguments.length===1?ga(le):new Oi(le,ut,en,Dn??1)}function Oi(le,ut,en,Dn){this.l=+le,this.a=+ut,this.b=+en,this.opacity=+Dn}Mr(Oi,ua,xi(ai,{brighter:function(le){return new Oi(this.l+da*(le??1),this.a,this.b,this.opacity)},darker:function(le){return new Oi(this.l-da*(le??1),this.a,this.b,this.opacity)},rgb:function(){var le=(this.l+16)/116,ut=isNaN(this.a)?le:le+this.a/500,en=isNaN(this.b)?le:le-this.b/200;return ut=ha*vs(ut),le=po*vs(le),en=ls*vs(en),new Xr(Ii(3.1338561*ut-1.6168667*le-.4906146*en),Ii(-.9787684*ut+1.9161415*le+.033454*en),Ii(.0719453*ut-.2289914*le+1.4052427*en),this.opacity)}}));function Wo(le){return le>Ps?Math.pow(le,1/3):le/hu+ps}function vs(le){return le>Zi?le*le*le:hu*(le-ps)}function Ii(le){return 255*(le<=.0031308?12.92*le:1.055*Math.pow(le,1/2.4)-.055)}function Ro(le){return(le/=255)<=.04045?le/12.92:Math.pow((le+.055)/1.055,2.4)}function ka(le){if(le instanceof Oo)return new Oo(le.h,le.c,le.l,le.opacity);if(le instanceof Oi||(le=ga(le)),le.a===0&&le.b===0)return new Oo(NaN,0<le.l&&le.l<100?0:NaN,le.l,le.opacity);var ut=Math.atan2(le.b,le.a)*Xo;return new Oo(ut<0?ut+360:ut,Math.sqrt(le.a*le.a+le.b*le.b),le.l,le.opacity)}function Xa(le,ut,en,Dn){return arguments.length===1?ka(le):new Oo(le,ut,en,Dn??1)}function Oo(le,ut,en,Dn){this.h=+le,this.c=+ut,this.l=+en,this.opacity=+Dn}function To(le){if(isNaN(le.h))return new Oi(le.l,0,0,le.opacity);var ut=le.h*Wi;return new Oi(le.l,Math.cos(ut)*le.c,Math.sin(ut)*le.c,le.opacity)}Mr(Oo,Xa,xi(ai,{brighter:function(le){return new Oo(this.h,this.c,this.l+da*(le??1),this.opacity)},darker:function(le){return new Oo(this.h,this.c,this.l-da*(le??1),this.opacity)},rgb:function(){return To(this).rgb()}}));function $a(le){let ut=le/255;return ut<=.03928?ut/12.92:Math.pow((ut+.055)/1.055,2.4)}function pu(le){let ut=Br(le),en=$a(ut.r),Dn=$a(ut.g),ir=$a(ut.b);return .2126*en+.7152*Dn+.0722*ir}function za(le,ut){let en=pu(le),Dn=pu(ut),ir=Math.max(en,Dn),vr=Math.min(en,Dn);return(ir+.05)/(vr+.05)}function la(){let le=[].slice.call(arguments);return le.unshift({}),e.extend(...le)}function ca(le,ut){return le===ut||le!==le&&ut!==ut?!0:e.isArray(le)?e.isArray(ut)&&le.length===ut.length?vl(le,ut):!1:e.isObject(le)&&e.isObject(ut)?Vl(le,ut):!1}function vl(le,ut){for(let en=0,Dn=le.length;en<Dn;++en)if(!ca(le[en],ut[en]))return!1;return!0}function Vl(le,ut){for(let en in le)if(!ca(le[en],ut[en]))return!1;return!0}function ra(le){return ut=>Vl(le,ut)}function el(le,ut,en,Dn,ir,vr){let dr=this.context.dataflow,es=this.context.data[le],_s=es.input,Ls=dr.stamp(),oo=es.changes,Za,sc;if(dr._trigger===!1||!(_s.value.length||ut||Dn))return 0;if((!oo||oo.stamp<Ls)&&(es.changes=oo=dr.changeset(),oo.stamp=Ls,dr.runAfter(()=>{es.modified=!0,dr.pulse(_s,oo).run()},!0,1)),en&&(Za=en===!0?e.truthy:e.isArray(en)||r.isTuple(en)?en:ra(en),oo.remove(Za)),ut&&oo.insert(ut),Dn&&(Za=ra(Dn),_s.value.some(Za)?oo.remove(Za):oo.insert(Dn)),ir)for(sc in vr)oo.modify(ir,sc,vr[sc]);return 1}function ui(le){let ut=le.touches,en=ut[0].clientX-ut[1].clientX,Dn=ut[0].clientY-ut[1].clientY;return Math.sqrt(en*en+Dn*Dn)}function rs(le){let ut=le.touches;return Math.atan2(ut[0].clientY-ut[1].clientY,ut[0].clientX-ut[1].clientX)}let cs={};function xr(le,ut){let en=cs[ut]||(cs[ut]=e.field(ut));return e.isArray(le)?le.map(en):en(le)}function is(le){return e.isArray(le)||ArrayBuffer.isView(le)?le:null}function Ie(le){return is(le)||(e.isString(le)?le:null)}function yt(le,...ut){return is(le).join(...ut)}function Jt(le,...ut){return Ie(le).indexOf(...ut)}function $t(le,...ut){return Ie(le).lastIndexOf(...ut)}function pn(le,...ut){return Ie(le).slice(...ut)}function Ln(le,ut,en){return e.isFunction(en)&&e.error("Function argument passed to replace."),String(le).replace(ut,en)}function Kn(le){return is(le).slice().reverse()}function $n(le,ut,en){return i.bandSpace(le||0,ut||0,en||0)}function Er(le,ut){let en=te(le,(ut||this).context);return en&&en.bandwidth?en.bandwidth():0}function wr(le,ut){let en=te(le,(ut||this).context);return en?en.copy():void 0}function Gn(le,ut){let en=te(le,(ut||this).context);return en?en.domain():[]}function ar(le,ut,en){let Dn=te(le,(en||this).context);return Dn?e.isArray(ut)?(Dn.invertRange||Dn.invert)(ut):(Dn.invert||Dn.invertExtent)(ut):void 0}function tr(le,ut){let en=te(le,(ut||this).context);return en&&en.range?en.range():[]}function gr(le,ut,en){let Dn=te(le,(en||this).context);return Dn?Dn(ut):void 0}function Or(le,ut,en,Dn,ir){le=te(le,(ir||this).context);let vr=s.Gradient(ut,en),dr=le.domain(),es=dr[0],_s=e.peek(dr),Ls=e.identity;return _s-es?Ls=i.scaleFraction(le,es,_s):le=(le.interpolator?i.scale("sequential")().interpolator(le.interpolator()):i.scale("linear")().interpolate(le.interpolate()).range(le.range())).domain([es=0,_s=1]),le.ticks&&(dr=le.ticks(+Dn||15),es!==dr[0]&&dr.unshift(es),_s!==e.peek(dr)&&dr.push(_s)),dr.forEach(oo=>vr.stop(Ls(oo),le(oo))),vr}function di(le,ut,en){let Dn=te(le,(en||this).context);return function(ir){return Dn?Dn.path.context(ir)(ut):""}}function ni(le){let ut=null;return function(en){return en?s.pathRender(en,ut=ut||s.pathParse(le)):le}}let pi=le=>le.data;function ii(le,ut){let en=f.call(ut,le);return en.root&&en.root.lookup||{}}function qr(le,ut,en){let Dn=ii(le,this),ir=Dn[ut],vr=Dn[en];return ir&&vr?ir.path(vr).map(pi):void 0}function Ir(le,ut){let en=ii(le,this)[ut];return en?en.ancestors().map(pi):void 0}let yi=()=>typeof window!="undefined"&&window||null;function gi(){let le=yi();return le?le.screen:{}}function os(){let le=yi();return le?[le.innerWidth,le.innerHeight]:[void 0,void 0]}function xs(){let le=this.context.dataflow,ut=le.container&&le.container();return ut?[ut.clientWidth,ut.clientHeight]:[void 0,void 0]}function vi(le,ut,en){if(!le)return[];let[Dn,ir]=le,vr=new s.Bounds().set(Dn[0],Dn[1],ir[0],ir[1]),dr=en||this.context.dataflow.scenegraph().root;return s.intersect(dr,vr,Bs(ut))}function Bs(le){let ut=null;if(le){let en=e.array(le.marktype),Dn=e.array(le.markname);ut=ir=>(!en.length||en.some(vr=>ir.marktype===vr))&&(!Dn.length||Dn.some(vr=>ir.name===vr))}return ut}function ss(le,ut,en,Dn=5){let ir=le[le.length-1];return ir===void 0||Math.sqrt((ir[0]-ut)**2+(ir[1]-en)**2)>Dn?(le.push([ut,en]),[...le]):le}function ya(le){return(le??[]).reduce((ut,[en,Dn],ir)=>ut+=ir==0?`M ${en},${Dn} `:ir===le.length-1?" Z":`L ${en},${Dn} `,"")}function No(le,ut,en){let{x:Dn,y:ir,mark:vr}=en,dr=new s.Bounds().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(let[_s,Ls]of ut)_s<dr.x1&&(dr.x1=_s),_s>dr.x2&&(dr.x2=_s),Ls<dr.y1&&(dr.y1=Ls),Ls>dr.y2&&(dr.y2=Ls);return dr.translate(Dn,ir),vi([[dr.x1,dr.y1],[dr.x2,dr.y2]],le,vr).filter(_s=>Ts(_s.x,_s.y,ut))}function Ts(le,ut,en){let Dn=0;for(let ir=0,vr=en.length-1;ir<en.length;vr=ir++){let[dr,es]=en[vr],[_s,Ls]=en[ir];Ls>ut!=es>ut&&le<(dr-_s)*(ut-Ls)/(es-Ls)+_s&&Dn++}return Dn&1}let nn={random(){return a.random()},cumulativeNormal:a.cumulativeNormal,cumulativeLogNormal:a.cumulativeLogNormal,cumulativeUniform:a.cumulativeUniform,densityNormal:a.densityNormal,densityLogNormal:a.densityLogNormal,densityUniform:a.densityUniform,quantileNormal:a.quantileNormal,quantileLogNormal:a.quantileLogNormal,quantileUniform:a.quantileUniform,sampleNormal:a.sampleNormal,sampleLogNormal:a.sampleLogNormal,sampleUniform:a.sampleUniform,isArray:e.isArray,isBoolean:e.isBoolean,isDate:e.isDate,isDefined(le){return le!==void 0},isNumber:e.isNumber,isObject:e.isObject,isRegExp:e.isRegExp,isString:e.isString,isTuple:r.isTuple,isValid(le){return le!=null&&le===le},toBoolean:e.toBoolean,toDate(le){return e.toDate(le)},toNumber:e.toNumber,toString:e.toString,indexof:Jt,join:yt,lastindexof:$t,replace:Ln,reverse:Kn,slice:pn,flush:e.flush,lerp:e.lerp,merge:la,pad:e.pad,peek:e.peek,pluck:xr,span:e.span,inrange:e.inrange,truncate:e.truncate,rgb:Br,lab:ua,hcl:Xa,hsl:ho,luminance:pu,contrast:za,sequence:ke,format:O,utcFormat:$,utcParse:q,utcOffset:l.utcOffset,utcSequence:l.utcSequence,timeFormat:j,timeParse:L,timeOffset:l.timeOffset,timeSequence:l.timeSequence,timeUnitSpecifier:l.timeUnitSpecifier,monthFormat:oe,monthAbbrevFormat:I,dayFormat:J,dayAbbrevFormat:he,quarter:e.quarter,utcquarter:e.utcquarter,week:l.week,utcweek:l.utcweek,dayofyear:l.dayofyear,utcdayofyear:l.utcdayofyear,warn:Jr,info:Wr,debug:yr,extent(le){return e.extent(le)},inScope:Un,intersect:vi,clampRange:e.clampRange,pinchDistance:ui,pinchAngle:rs,screen:gi,containerSize:xs,windowSize:os,bandspace:$n,setdata:_,pathShape:ni,panLinear:e.panLinear,panLog:e.panLog,panPow:e.panPow,panSymlog:e.panSymlog,zoomLinear:e.zoomLinear,zoomLog:e.zoomLog,zoomPow:e.zoomPow,zoomSymlog:e.zoomSymlog,encode:b,modify:el,lassoAppend:ss,lassoPath:ya,intersectLasso:No},Jn=["view","item","group","xy","x","y"],En="event.vega.",Yr="this.",Ti={},ns={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:le=>`_[${e.stringValue(ct+le)}]`,functions:Hi,constants:t.constants,visitors:Ti},ms=t.codegenExpression(ns);function Hi(le){let ut=t.functions(le);Jn.forEach(en=>ut[en]=En+en);for(let en in nn)ut[en]=Yr+en;return e.extend(ut,et(le,nn,Ti)),ut}function fs(le,ut,en){return arguments.length===1?nn[le]:(nn[le]=ut,en&&(Ti[le]=en),ms&&(ms.functions[le]=Yr+le),this)}fs("bandwidth",Er,Mt),fs("copy",wr,Mt),fs("domain",Gn,Mt),fs("range",tr,Mt),fs("invert",ar,Mt),fs("scale",gr,Mt),fs("gradient",Or,Mt),fs("geoArea",Xt,Mt),fs("geoBounds",xn,Mt),fs("geoCentroid",qn,Mt),fs("geoShape",di,Mt),fs("indata",p,bt),fs("data",f,Ze),fs("treePath",qr,Ze),fs("treeAncestors",Ir,Ze),fs("vlSelectionTest",o.selectionTest,o.selectionVisitor),fs("vlSelectionIdTest",o.selectionIdTest,o.selectionVisitor),fs("vlSelectionResolve",o.selectionResolve,o.selectionVisitor),fs("vlSelectionTuples",o.selectionTuples);function mu(le,ut){let en={},Dn;try{le=e.isString(le)?le:e.stringValue(le)+"",Dn=t.parseExpression(le)}catch{e.error("Expression parse error: "+le)}Dn.visit(vr=>{if(vr.type!==t.CallExpression)return;let dr=vr.callee.name,es=ns.visitors[dr];es&&es(dr,vr.arguments,ut,en)});let ir=ms(Dn);return ir.globals.forEach(vr=>{let dr=ct+vr;!e.hasOwnProperty(en,dr)&&ut.getSignal(vr)&&(en[dr]=ut.signalRef(vr))}),{$expr:e.extend({code:ir.code},ut.options.ast?{ast:Dn}:null),$fields:ir.fields,$params:en}}n.DataPrefix=ye,n.IndexPrefix=He,n.ScalePrefix=at,n.SignalPrefix=ct,n.bandspace=$n,n.bandwidth=Er,n.codeGenerator=ms,n.codegenParams=ns,n.containerSize=xs,n.contrast=za,n.copy=wr,n.data=f,n.dataVisitor=Ze,n.dayAbbrevFormat=he,n.dayFormat=J,n.debug=yr,n.domain=Gn,n.encode=b,n.expressionFunction=fs,n.format=O,n.functionContext=nn,n.geoArea=Xt,n.geoBounds=xn,n.geoCentroid=qn,n.geoShape=di,n.inScope=Un,n.indata=p,n.indataVisitor=bt,n.indexof=Jt,n.info=Wr,n.invert=ar,n.join=yt,n.lastindexof=$t,n.luminance=pu,n.merge=la,n.modify=el,n.monthAbbrevFormat=I,n.monthFormat=oe,n.parseExpression=mu,n.pathShape=ni,n.pinchAngle=rs,n.pinchDistance=ui,n.pluck=xr,n.range=tr,n.replace=Ln,n.reverse=Kn,n.scale=gr,n.scaleGradient=Or,n.scaleVisitor=Mt,n.screen=gi,n.setdata=_,n.slice=pn,n.timeFormat=j,n.timeParse=L,n.treeAncestors=Ir,n.treePath=qr,n.utcFormat=$,n.utcParse=q,n.warn=Jr,n.windowSize=os,Object.defineProperty(n,"__esModule",{value:!0})})});var Ole=Ae((OV,yRe)=>{m();(function(n,e){typeof OV=="object"&&typeof yRe!="undefined"?e(OV,Tu(),o0()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-dataflow"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(OV,function(n,e,t){"use strict";function r(Ee){let ke=this,Ce=Ee.operators||[];return Ee.background&&(ke.background=Ee.background),Ee.eventConfig&&(ke.eventConfig=Ee.eventConfig),Ee.locale&&(ke.locale=Ee.locale),Ce.forEach(pe=>ke.parseOperator(pe)),Ce.forEach(pe=>ke.parseOperatorParameters(pe)),(Ee.streams||[]).forEach(pe=>ke.parseStream(pe)),(Ee.updates||[]).forEach(pe=>ke.parseUpdate(pe)),ke.resolve()}let i=e.toSet(["rule"]),s=e.toSet(["group","image","rect"]);function o(Ee,ke){let Ce="";return i[ke]||(Ee.x2&&(Ee.x?(s[ke]&&(Ce+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),Ce+="o.width=o.x2-o.x;"):Ce+="o.x=o.x2-(o.width||0);"),Ee.xc&&(Ce+="o.x=o.xc-(o.width||0)/2;"),Ee.y2&&(Ee.y?(s[ke]&&(Ce+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),Ce+="o.height=o.y2-o.y;"):Ce+="o.y=o.y2-(o.height||0);"),Ee.yc&&(Ce+="o.y=o.yc-(o.height||0)/2;")),Ce}function a(Ee){return(Ee+"").toLowerCase()}function l(Ee){return a(Ee)==="operator"}function f(Ee){return a(Ee)==="collect"}function p(Ee,ke,Ce){Ce[Ce.length-1]!==";"&&(Ce="return("+Ce+");");let pe=Function(...ke.concat(Ce));return Ee&&Ee.functions?pe.bind(Ee.functions):pe}function _(Ee,ke,Ce,pe){return`((u = ${Ee}) < (v = ${ke}) || u == null) && v != null ? ${Ce}
  : (u > v || v == null) && u != null ? ${pe}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${Ce}
  : v !== v && u === u ? ${pe} : `}var b={operator:(Ee,ke)=>p(Ee,["_"],ke.code),parameter:(Ee,ke)=>p(Ee,["datum","_"],ke.code),event:(Ee,ke)=>p(Ee,["event"],ke.code),handler:(Ee,ke)=>{let Ce=`var datum=event.item&&event.item.datum;return ${ke.code};`;return p(Ee,["_","event"],Ce)},encode:(Ee,ke)=>{let{marktype:Ce,channels:pe}=ke,Je="var o=item,datum=o.datum,m=0,$;";for(let lt in pe){let Ht="o["+e.stringValue(lt)+"]";Je+=`$=${pe[lt].code};if(${Ht}!==$)${Ht}=$,m=1;`}return Je+=o(pe,Ce),Je+="return m;",p(Ee,["item","_"],Je)},codegen:{get(Ee){let ke=`[${Ee.map(e.stringValue).join("][")}]`,Ce=Function("_",`return _${ke};`);return Ce.path=ke,Ce},comparator(Ee,ke){let Ce,pe=(lt,Ht)=>{let wt=ke[Ht],mn,kt;return lt.path?(mn=`a${lt.path}`,kt=`b${lt.path}`):((Ce=Ce||{})["f"+Ht]=lt,mn=`this.f${Ht}(a)`,kt=`this.f${Ht}(b)`),_(mn,kt,-wt,wt)},Je=Function("a","b","var u, v; return "+Ee.map(pe).join("")+"0;");return Ce?Je.bind(Ce):Je}}};function R(Ee){let ke=this;l(Ee.type)||!Ee.type?ke.operator(Ee,Ee.update?ke.operatorExpression(Ee.update):null):ke.transform(Ee,Ee.type)}function O(Ee){let ke=this;if(Ee.params){let Ce=ke.get(Ee.id);Ce||e.error("Invalid operator id: "+Ee.id),ke.dataflow.connect(Ce,Ce.parameters(ke.parseParameters(Ee.params),Ee.react,Ee.initonly))}}function j(Ee,ke){ke=ke||{};let Ce=this;for(let pe in Ee){let Je=Ee[pe];ke[pe]=e.isArray(Je)?Je.map(lt=>$(lt,Ce,ke)):$(Je,Ce,ke)}return ke}function $(Ee,ke,Ce){if(!Ee||!e.isObject(Ee))return Ee;for(let pe=0,Je=L.length,lt;pe<Je;++pe)if(lt=L[pe],e.hasOwnProperty(Ee,lt.key))return lt.parse(Ee,ke,Ce);return Ee}var L=[{key:"$ref",parse:q},{key:"$key",parse:W},{key:"$expr",parse:P},{key:"$field",parse:oe},{key:"$encode",parse:J},{key:"$compare",parse:I},{key:"$context",parse:he},{key:"$subflow",parse:ye},{key:"$tupleid",parse:He}];function q(Ee,ke){return ke.get(Ee.$ref)||e.error("Operator not defined: "+Ee.$ref)}function P(Ee,ke,Ce){Ee.$params&&ke.parseParameters(Ee.$params,Ce);let pe="e:"+Ee.$expr.code+"_"+Ee.$name;return ke.fn[pe]||(ke.fn[pe]=e.accessor(ke.parameterExpression(Ee.$expr),Ee.$fields,Ee.$name))}function W(Ee,ke){let Ce="k:"+Ee.$key+"_"+!!Ee.$flat;return ke.fn[Ce]||(ke.fn[Ce]=e.key(Ee.$key,Ee.$flat,ke.expr.codegen))}function oe(Ee,ke){if(!Ee.$field)return null;let Ce="f:"+Ee.$field+"_"+Ee.$name;return ke.fn[Ce]||(ke.fn[Ce]=e.field(Ee.$field,Ee.$name,ke.expr.codegen))}function I(Ee,ke){let Ce="c:"+Ee.$compare+"_"+Ee.$order,pe=e.array(Ee.$compare).map(Je=>Je&&Je.$tupleid?t.tupleid:Je);return ke.fn[Ce]||(ke.fn[Ce]=e.compare(pe,Ee.$order,ke.expr.codegen))}function J(Ee,ke){let Ce=Ee.$encode,pe={};for(let Je in Ce){let lt=Ce[Je];pe[Je]=e.accessor(ke.encodeExpression(lt.$expr),lt.$fields),pe[Je].output=lt.$output}return pe}function he(Ee,ke){return ke}function ye(Ee,ke){let Ce=Ee.$subflow;return function(pe,Je,lt){let Ht=ke.fork().parse(Ce),wt=Ht.get(Ce.operators[0].id),mn=Ht.signals.parent;return mn&&mn.set(lt),wt.detachSubflow=()=>ke.detach(Ht),wt}}function He(){return t.tupleid}function at(Ee){var ke=this,Ce=Ee.filter!=null?ke.eventExpression(Ee.filter):void 0,pe=Ee.stream!=null?ke.get(Ee.stream):void 0,Je;Ee.source?pe=ke.events(Ee.source,Ee.type,Ce):Ee.merge&&(Je=Ee.merge.map(lt=>ke.get(lt)),pe=Je[0].merge.apply(Je[0],Je.slice(1))),Ee.between&&(Je=Ee.between.map(lt=>ke.get(lt)),pe=pe.between(Je[0],Je[1])),Ee.filter&&(pe=pe.filter(Ce)),Ee.throttle!=null&&(pe=pe.throttle(+Ee.throttle)),Ee.debounce!=null&&(pe=pe.debounce(+Ee.debounce)),pe==null&&e.error("Invalid stream definition: "+JSON.stringify(Ee)),Ee.consume&&pe.consume(!0),ke.stream(Ee,pe)}function ct(Ee){var ke=this,Ce=e.isObject(Ce=Ee.source)?Ce.$ref:Ce,pe=ke.get(Ce),Je=null,lt=Ee.update,Ht=void 0;pe||e.error("Source not defined: "+Ee.source),Je=Ee.target&&Ee.target.$expr?ke.eventExpression(Ee.target.$expr):ke.get(Ee.target),lt&&lt.$expr&&(lt.$params&&(Ht=ke.parseParameters(lt.$params)),lt=ke.handlerExpression(lt.$expr)),ke.update(Ee,pe,Je,lt,Ht)}let Ze={skip:!0};function bt(Ee){var ke=this,Ce={};if(Ee.signals){var pe=Ce.signals={};Object.keys(ke.signals).forEach(lt=>{let Ht=ke.signals[lt];Ee.signals(lt,Ht)&&(pe[lt]=Ht.value)})}if(Ee.data){var Je=Ce.data={};Object.keys(ke.data).forEach(lt=>{let Ht=ke.data[lt];Ee.data(lt,Ht)&&(Je[lt]=Ht.input.value)})}return ke.subcontext&&Ee.recurse!==!1&&(Ce.subcontext=ke.subcontext.map(lt=>lt.getState(Ee))),Ce}function Mt(Ee){var ke=this,Ce=ke.dataflow,pe=Ee.data,Je=Ee.signals;Object.keys(Je||{}).forEach(lt=>{Ce.update(ke.signals[lt],Je[lt],Ze)}),Object.keys(pe||{}).forEach(lt=>{Ce.pulse(ke.data[lt].input,Ce.changeset().remove(e.truthy).insert(pe[lt]))}),(Ee.subcontext||[]).forEach((lt,Ht)=>{let wt=ke.subcontext[Ht];wt&&wt.setState(lt)})}function qe(Ee,ke,Ce,pe){return new te(Ee,ke,Ce,pe)}function te(Ee,ke,Ce,pe){this.dataflow=Ee,this.transforms=ke,this.events=Ee.events.bind(Ee),this.expr=pe||b,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},Ce&&(this.functions=Object.create(Ce),this.functions.context=this)}function et(Ee){this.dataflow=Ee.dataflow,this.transforms=Ee.transforms,this.events=Ee.events,this.expr=Ee.expr,this.signals=Object.create(Ee.signals),this.scales=Object.create(Ee.scales),this.nodes=Object.create(Ee.nodes),this.data=Object.create(Ee.data),this.fn=Object.create(Ee.fn),Ee.functions&&(this.functions=Object.create(Ee.functions),this.functions.context=this)}te.prototype=et.prototype={fork(){let Ee=new et(this);return(this.subcontext||(this.subcontext=[])).push(Ee),Ee},detach(Ee){this.subcontext=this.subcontext.filter(Ce=>Ce!==Ee);let ke=Object.keys(Ee.nodes);for(let Ce of ke)Ee.nodes[Ce]._targets=null;for(let Ce of ke)Ee.nodes[Ce].detach();Ee.nodes=null},get(Ee){return this.nodes[Ee]},set(Ee,ke){return this.nodes[Ee]=ke},add(Ee,ke){let Ce=this,pe=Ce.dataflow,Je=Ee.value;if(Ce.set(Ee.id,ke),f(Ee.type)&&Je&&(Je.$ingest?pe.ingest(ke,Je.$ingest,Je.$format):Je.$request?pe.preload(ke,Je.$request,Je.$format):pe.pulse(ke,pe.changeset().insert(Je))),Ee.root&&(Ce.root=ke),Ee.parent){let lt=Ce.get(Ee.parent.$ref);lt?(pe.connect(lt,[ke]),ke.targets().add(lt)):(Ce.unresolved=Ce.unresolved||[]).push(()=>{lt=Ce.get(Ee.parent.$ref),pe.connect(lt,[ke]),ke.targets().add(lt)})}if(Ee.signal&&(Ce.signals[Ee.signal]=ke),Ee.scale&&(Ce.scales[Ee.scale]=ke),Ee.data)for(let lt in Ee.data){let Ht=Ce.data[lt]||(Ce.data[lt]={});Ee.data[lt].forEach(wt=>Ht[wt]=ke)}},resolve(){return(this.unresolved||[]).forEach(Ee=>Ee()),delete this.unresolved,this},operator(Ee,ke){this.add(Ee,this.dataflow.add(Ee.value,ke))},transform(Ee,ke){this.add(Ee,this.dataflow.add(this.transforms[a(ke)]))},stream(Ee,ke){this.set(Ee.id,ke)},update(Ee,ke,Ce,pe,Je){this.dataflow.on(ke,Ce,pe,Je,Ee.options)},operatorExpression(Ee){return this.expr.operator(this,Ee)},parameterExpression(Ee){return this.expr.parameter(this,Ee)},eventExpression(Ee){return this.expr.event(this,Ee)},handlerExpression(Ee){return this.expr.handler(this,Ee)},encodeExpression(Ee){return this.expr.encode(this,Ee)},parse:r,parseOperator:R,parseOperatorParameters:O,parseParameters:j,parseStream:at,parseUpdate:ct,getState:bt,setState:Mt},n.context=qe,Object.defineProperty(n,"__esModule",{value:!0})})});var _Re=Ae((NV,vRe)=>{m();(function(n,e){typeof NV=="object"&&typeof vRe!="undefined"?e(NV,Tu(),o0(),x9(),RV(),Ole(),vN()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-dataflow","vega-scenegraph","vega-functions","vega-runtime","vega-format"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega,n.vega))})(NV,function(n,e,t,r,i,s,o){"use strict";function a(K){let ue=K.container();ue&&(ue.setAttribute("role","graphics-document"),ue.setAttribute("aria-roleDescription","visualization"),l(ue,K.description()))}function l(K,ue){K&&(ue==null?K.removeAttribute("aria-label"):K.setAttribute("aria-label",ue))}function f(K){K.add(null,ue=>(K._background=ue.bg,K._resize=1,ue.bg),{bg:K._signals.background})}let p="default";function _(K){let ue=K._signals.cursor||(K._signals.cursor=K.add({user:p,item:null}));K.on(K.events("view","mousemove"),ue,(fe,Qe)=>{let It=ue.value,At=It?e.isString(It)?It:It.user:p,dn=Qe.item&&Qe.item.cursor||null;return It&&At===It.user&&dn==It.item?It:{user:At,item:dn}}),K.add(null,function(fe){let Qe=fe.cursor,It=this.value;return e.isString(Qe)||(It=Qe.item,Qe=Qe.user),b(K,Qe&&Qe!==p?Qe:It||Qe),It},{cursor:ue})}function b(K,ue){let fe=K.globalCursor()?typeof document!="undefined"&&document.body:K.container();if(fe)return ue==null?fe.style.removeProperty("cursor"):fe.style.cursor=ue}function R(K,ue){var fe=K._runtime.data;return e.hasOwnProperty(fe,ue)||e.error("Unrecognized data set: "+ue),fe[ue]}function O(K,ue){return arguments.length<2?R(this,K).values.value:j.call(this,K,t.changeset().remove(e.truthy).insert(ue))}function j(K,ue){t.isChangeSet(ue)||e.error("Second argument to changes must be a changeset.");let fe=R(this,K);return fe.modified=!0,this.pulse(fe.input,ue)}function $(K,ue){return j.call(this,K,t.changeset().insert(ue))}function L(K,ue){return j.call(this,K,t.changeset().remove(ue))}function q(K){var ue=K.padding();return Math.max(0,K._viewWidth+ue.left+ue.right)}function P(K){var ue=K.padding();return Math.max(0,K._viewHeight+ue.top+ue.bottom)}function W(K){var ue=K.padding(),fe=K._origin;return[ue.left+fe[0],ue.top+fe[1]]}function oe(K){var ue=W(K),fe=q(K),Qe=P(K);K._renderer.background(K.background()),K._renderer.resize(fe,Qe,ue),K._handler.origin(ue),K._resizeListeners.forEach(It=>{try{It(fe,Qe)}catch(At){K.error(At)}})}function I(K,ue,fe){var Qe=K._renderer,It=Qe&&Qe.canvas(),At,dn,C;return It&&(C=W(K),dn=ue.changedTouches?ue.changedTouches[0]:ue,At=r.point(dn,It),At[0]-=C[0],At[1]-=C[1]),ue.dataflow=K,ue.item=fe,ue.vega=J(K,fe,At),ue}function J(K,ue,fe){let Qe=ue?ue.mark.marktype==="group"?ue:ue.mark.group:null;function It(dn){var C=Qe,B;if(dn){for(B=ue;B;B=B.mark.group)if(B.mark.name===dn){C=B;break}}return C&&C.mark&&C.mark.interactive?C:{}}function At(dn){if(!dn)return fe;e.isString(dn)&&(dn=It(dn));let C=fe.slice();for(;dn;)C[0]-=dn.x||0,C[1]-=dn.y||0,dn=dn.mark&&dn.mark.group;return C}return{view:e.constant(K),item:e.constant(ue||{}),group:It,xy:At,x:dn=>At(dn)[0],y:dn=>At(dn)[1]}}let he="view",ye="timer",He="window",at={trap:!1};function ct(K){let ue=e.extend({defaults:{}},K),fe=(Qe,It)=>{It.forEach(At=>{e.isArray(Qe[At])&&(Qe[At]=e.toSet(Qe[At]))})};return fe(ue.defaults,["prevent","allow"]),fe(ue,["view","window","selector"]),ue}function Ze(K,ue,fe,Qe){K._eventListeners.push({type:fe,sources:e.array(ue),handler:Qe})}function bt(K,ue){var fe=K._eventConfig.defaults,Qe=fe.prevent,It=fe.allow;return Qe===!1||It===!0?!1:Qe===!0||It===!1?!0:Qe?Qe[ue]:It?!It[ue]:K.preventDefault()}function Mt(K,ue,fe){let Qe=K._eventConfig&&K._eventConfig[ue];return Qe===!1||e.isObject(Qe)&&!Qe[fe]?(K.warn(`Blocked ${ue} ${fe} event listener.`),!1):!0}function qe(K,ue,fe){var Qe=this,It=new t.EventStream(fe),At=function(ee,Se){Qe.runAsync(null,()=>{K===he&&bt(Qe,ue)&&ee.preventDefault(),It.receive(I(Qe,ee,Se))})},dn;if(K===ye)Mt(Qe,"timer",ue)&&Qe.timer(At,ue);else if(K===he)Mt(Qe,"view",ue)&&Qe.addEventListener(ue,At,at);else if(K===He?Mt(Qe,"window",ue)&&typeof window!="undefined"&&(dn=[window]):typeof document!="undefined"&&Mt(Qe,"selector",ue)&&(dn=document.querySelectorAll(K)),!dn)Qe.warn("Can not resolve event source: "+K);else{for(var C=0,B=dn.length;C<B;++C)dn[C].addEventListener(ue,At);Ze(Qe,dn,ue,At)}return It}function te(K){return K.item}function et(K){return K.item.mark.source}function Ee(K){return function(ue,fe){return fe.vega.view().changeset().encode(fe.item,K)}}function ke(K,ue){return K=[K||"hover"],ue=[ue||"update",K[0]],this.on(this.events("view","mouseover",te),et,Ee(K)),this.on(this.events("view","mouseout",te),et,Ee(ue)),this}function Ce(){var K=this._tooltip,ue=this._timers,fe=this._eventListeners,Qe,It,At;for(Qe=ue.length;--Qe>=0;)ue[Qe].stop();for(Qe=fe.length;--Qe>=0;)for(At=fe[Qe],It=At.sources.length;--It>=0;)At.sources[It].removeEventListener(At.type,At.handler);return K&&K.call(this,this._handler,null,null,null),this}function pe(K,ue,fe){let Qe=document.createElement(K);for(let It in ue)Qe.setAttribute(It,ue[It]);return fe!=null&&(Qe.textContent=fe),Qe}var Je=Math.sqrt(50),lt=Math.sqrt(10),Ht=Math.sqrt(2);function wt(K,ue,fe){var Qe=Math.abs(ue-K)/Math.max(0,fe),It=Math.pow(10,Math.floor(Math.log(Qe)/Math.LN10)),At=Qe/It;return At>=Je?It*=10:At>=lt?It*=5:At>=Ht&&(It*=2),ue<K?-It:It}let mn="vega-bind",kt="vega-bind-name",Bt="vega-bind-radio";function tn(K,ue,fe){if(!ue)return;let Qe=fe.param,It=fe.state;return It||(It=fe.state={elements:null,active:!1,set:null,update:dn=>{dn!=K.signal(Qe.signal)&&K.runAsync(null,()=>{It.source=!0,K.signal(Qe.signal,dn)})}},Qe.debounce&&(It.update=e.debounce(Qe.debounce,It.update))),(Qe.input==null&&Qe.element?Et:Le)(It,ue,Qe,K),It.active||(K.on(K._signals[Qe.signal],null,()=>{It.source?It.source=!1:It.set(K.signal(Qe.signal))}),It.active=!0),It}function Et(K,ue,fe,Qe){let It=fe.event||"input",At=()=>K.update(ue.value);Qe.signal(fe.signal,ue.value),ue.addEventListener(It,At),Ze(Qe,ue,It,At),K.set=dn=>{ue.value=dn,ue.dispatchEvent(ve(It))}}function ve(K){return typeof Event!="undefined"?new Event(K):{type:K}}function Le(K,ue,fe,Qe){let It=Qe.signal(fe.signal),At=pe("div",{class:mn}),dn=fe.input==="radio"?At:At.appendChild(pe("label"));dn.appendChild(pe("span",{class:kt},fe.name||fe.signal)),ue.appendChild(At);let C=_e;switch(fe.input){case"checkbox":C=ce;break;case"select":C=tt;break;case"radio":C=Ke;break;case"range":C=re;break}C(K,dn,fe,It)}function _e(K,ue,fe,Qe){let It=pe("input");for(let At in fe)At!=="signal"&&At!=="element"&&It.setAttribute(At==="input"?"type":At,fe[At]);It.setAttribute("name",fe.signal),It.value=Qe,ue.appendChild(It),It.addEventListener("input",()=>K.update(It.value)),K.elements=[It],K.set=At=>It.value=At}function ce(K,ue,fe,Qe){let It={type:"checkbox",name:fe.signal};Qe&&(It.checked=!0);let At=pe("input",It);ue.appendChild(At),At.addEventListener("change",()=>K.update(At.checked)),K.elements=[At],K.set=dn=>At.checked=!!dn||null}function tt(K,ue,fe,Qe){let It=pe("select",{name:fe.signal}),At=fe.labels||[];fe.options.forEach((dn,C)=>{let B={value:dn};Re(dn,Qe)&&(B.selected=!0),It.appendChild(pe("option",B,(At[C]||dn)+""))}),ue.appendChild(It),It.addEventListener("change",()=>{K.update(fe.options[It.selectedIndex])}),K.elements=[It],K.set=dn=>{for(let C=0,B=fe.options.length;C<B;++C)if(Re(fe.options[C],dn)){It.selectedIndex=C;return}}}function Ke(K,ue,fe,Qe){let It=pe("span",{class:Bt}),At=fe.labels||[];ue.appendChild(It),K.elements=fe.options.map((dn,C)=>{let B={type:"radio",name:fe.signal,value:dn};Re(dn,Qe)&&(B.checked=!0);let ee=pe("input",B);ee.addEventListener("change",()=>K.update(dn));let Se=pe("label",{},(At[C]||dn)+"");return Se.prepend(ee),It.appendChild(Se),ee}),K.set=dn=>{let C=K.elements,B=C.length;for(let ee=0;ee<B;++ee)Re(C[ee].value,dn)&&(C[ee].checked=!0)}}function re(K,ue,fe,Qe){Qe=Qe!==void 0?Qe:(+fe.max+ +fe.min)/2;let It=fe.max!=null?fe.max:Math.max(100,+Qe)||100,At=fe.min||Math.min(0,It,+Qe)||0,dn=fe.step||wt(At,It,100),C=pe("input",{type:"range",name:fe.signal,min:At,max:It,step:dn});C.value=Qe;let B=pe("span",{},+Qe);ue.appendChild(C),ue.appendChild(B);let ee=()=>{B.textContent=C.value,K.update(+C.value)};C.addEventListener("input",ee),C.addEventListener("change",ee),K.elements=[C],K.set=Se=>{C.value=Se,B.textContent=Se}}function Re(K,ue){return K===ue||K+""==ue+""}function nt(K,ue,fe,Qe,It,At){return ue=ue||new Qe(K.loader()),ue.initialize(fe,q(K),P(K),W(K),It,At).background(K.background())}function ft(K,ue){return ue?function(){try{ue.apply(this,arguments)}catch(fe){K.error(fe)}}:null}function Rt(K,ue,fe,Qe){let It=new Qe(K.loader(),ft(K,K.tooltip())).scene(K.scenegraph().root).initialize(fe,W(K),K);return ue&&ue.handlers().forEach(At=>{It.on(At.type,At.handler)}),It}function Yt(K,ue){let fe=this,Qe=fe._renderType,It=fe._eventConfig.bind,At=r.renderModule(Qe);K=fe._el=K?Gt(fe,K,!0):null,a(fe),At||fe.error("Unrecognized renderer type: "+Qe);let dn=At.handler||r.CanvasHandler,C=K?At.renderer:At.headless;return fe._renderer=C?nt(fe,fe._renderer,K,C):null,fe._handler=Rt(fe,fe._handler,K,dn),fe._redraw=!0,K&&It!=="none"&&(ue=ue?fe._elBind=Gt(fe,ue,!0):K.appendChild(pe("form",{class:"vega-bindings"})),fe._bind.forEach(B=>{B.param.element&&It!=="container"&&(B.element=Gt(fe,B.param.element,!!B.param.input))}),fe._bind.forEach(B=>{tn(fe,B.element||ue,B)})),fe}function Gt(K,ue,fe){if(typeof ue=="string")if(typeof document!="undefined"){if(ue=document.querySelector(ue),!ue)return K.error("Signal bind element not found: "+ue),null}else return K.error("DOM document instance not found."),null;if(ue&&fe)try{ue.textContent=""}catch(Qe){ue=null,K.error(Qe)}return ue}let fn=K=>+K||0,gn=K=>({top:K,bottom:K,left:K,right:K});function yn(K){return e.isObject(K)?{top:fn(K.top),bottom:fn(K.bottom),left:fn(K.left),right:fn(K.right)}:gn(fn(K))}async function Lt(K,ue,fe,Qe){let It=r.renderModule(ue),At=It&&It.headless;return At||e.error("Unrecognized renderer type: "+ue),await K.runAsync(),nt(K,null,null,At,fe,Qe).renderAsync(K._scenegraph.root)}async function un(K,ue){K!==r.RenderType.Canvas&&K!==r.RenderType.SVG&&K!==r.RenderType.PNG&&e.error("Unrecognized image type: "+K);let fe=await Lt(this,K,ue);return K===r.RenderType.SVG?Pn(fe.svg(),"image/svg+xml"):fe.canvas().toDataURL("image/png")}function Pn(K,ue){let fe=new Blob([K],{type:ue});return window.URL.createObjectURL(fe)}async function nr(K,ue){return(await Lt(this,r.RenderType.Canvas,K,ue)).canvas()}async function On(K){return(await Lt(this,r.RenderType.SVG,K)).svg()}function Ne(K,ue,fe){return s.context(K,t.transforms,i.functionContext,fe).parse(ue)}function ze(K){var ue=this._runtime.scales;return e.hasOwnProperty(ue,K)||e.error("Unrecognized scale or projection: "+K),ue[K].value}var De="width",Pt="height",mt="padding",xt={skip:!0};function rn(K,ue){var fe=K.autosize(),Qe=K.padding();return ue-(fe&&fe.contains===mt?Qe.left+Qe.right:0)}function Qt(K,ue){var fe=K.autosize(),Qe=K.padding();return ue-(fe&&fe.contains===mt?Qe.top+Qe.bottom:0)}function Fn(K){var ue=K._signals,fe=ue[De],Qe=ue[Pt],It=ue[mt];function At(){K._autosize=K._resize=1}K._resizeWidth=K.add(null,C=>{K._width=C.size,K._viewWidth=rn(K,C.size),At()},{size:fe}),K._resizeHeight=K.add(null,C=>{K._height=C.size,K._viewHeight=Qt(K,C.size),At()},{size:Qe});let dn=K.add(null,At,{pad:It});K._resizeWidth.rank=fe.rank+1,K._resizeHeight.rank=Qe.rank+1,dn.rank=It.rank+1}function Wn(K,ue,fe,Qe,It,At){this.runAfter(dn=>{let C=0;dn._autosize=0,dn.width()!==fe&&(C=1,dn.signal(De,fe,xt),dn._resizeWidth.skip(!0)),dn.height()!==Qe&&(C=1,dn.signal(Pt,Qe,xt),dn._resizeHeight.skip(!0)),dn._viewWidth!==K&&(dn._resize=1,dn._viewWidth=K),dn._viewHeight!==ue&&(dn._resize=1,dn._viewHeight=ue),(dn._origin[0]!==It[0]||dn._origin[1]!==It[1])&&(dn._resize=1,dn._origin=It),C&&dn.run("enter"),At&&dn.runAfter(B=>B.resize())},!1,1)}function Zn(K){return this._runtime.getState(K||{data:Nn,signals:rr,recurse:!0})}function Nn(K,ue){return ue.modified&&e.isArray(ue.input.value)&&K.indexOf("_:vega:_")}function rr(K,ue){return!(K==="parent"||ue instanceof t.transforms.proxy)}function Ye(K){return this.runAsync(null,ue=>{ue._trigger=!1,ue._runtime.setState(K)},ue=>{ue._trigger=!0}),this}var vt=0,ae=0,Be=0,rt=1e3,Dt,hn,an=0,dt=0,ie=0,Te=typeof performance=="object"&&performance.now?performance:Date,Ue=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(K){setTimeout(K,17)};function gt(){return dt||(Ue(St),dt=Te.now()+ie)}function St(){dt=0}function Ot(){this._call=this._time=this._next=null}Ot.prototype={constructor:Ot,restart:function(K,ue,fe){if(typeof K!="function")throw new TypeError("callback is not a function");fe=(fe==null?gt():+fe)+(ue==null?0:+ue),!this._next&&hn!==this&&(hn?hn._next=this:Dt=this,hn=this),this._call=K,this._time=fe,Ut()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ut())}};function ne(){gt(),++vt;for(var K=Dt,ue;K;)(ue=dt-K._time)>=0&&K._call.call(void 0,ue),K=K._next;--vt}function we(){dt=(an=Te.now())+ie,vt=ae=0;try{ne()}finally{vt=0,st(),dt=0}}function We(){var K=Te.now(),ue=K-an;ue>rt&&(ie-=ue,an=K)}function st(){for(var K,ue=Dt,fe,Qe=1/0;ue;)ue._call?(Qe>ue._time&&(Qe=ue._time),K=ue,ue=ue._next):(fe=ue._next,ue._next=null,ue=K?K._next=fe:Dt=fe);hn=K,Ut(Qe)}function Ut(K){if(!vt){ae&&(ae=clearTimeout(ae));var ue=K-dt;ue>24?(K<1/0&&(ae=setTimeout(we,K-Te.now()-ie)),Be&&(Be=clearInterval(Be))):(Be||(an=Te.now(),Be=setInterval(We,rt)),vt=1,Ue(we))}}function sn(K,ue,fe){var Qe=new Ot,It=ue;return ue==null?(Qe.restart(K,ue,fe),Qe):(Qe._restart=Qe.restart,Qe.restart=function(At,dn,C){dn=+dn,C=C==null?gt():+C,Qe._restart(function B(ee){ee+=It,Qe._restart(B,It+=dn,C),At(ee)},dn,C)},Qe.restart(K,ue,fe),Qe)}function wn(K,ue){function fe(Qe){K({timestamp:Date.now(),elapsed:Qe})}this._timers.push(sn(fe,ue))}function bn(K,ue,fe,Qe){let It=K.element();It&&It.setAttribute("title",vn(Qe))}function vn(K){return K==null?"":e.isArray(K)?Oe(K):e.isObject(K)&&!e.isDate(K)?zn(K):K+""}function zn(K){return Object.keys(K).map(ue=>{let fe=K[ue];return ue+": "+(e.isArray(fe)?Oe(fe):$e(fe))}).join(`
`)}function Oe(K){return"["+K.map($e).join(", ")+"]"}function $e(K){return e.isArray(K)?"[\u2026]":e.isObject(K)&&!e.isDate(K)?"{\u2026}":K}function Ft(K,ue){let fe=this;if(ue=ue||{},t.Dataflow.call(fe),ue.loader&&fe.loader(ue.loader),ue.logger&&fe.logger(ue.logger),ue.logLevel!=null&&fe.logLevel(ue.logLevel),ue.locale||K.locale){let At=e.extend({},K.locale,ue.locale);fe.locale(o.locale(At.number,At.time))}fe._el=null,fe._elBind=null,fe._renderType=ue.renderer||r.RenderType.Canvas,fe._scenegraph=new r.Scenegraph;let Qe=fe._scenegraph.root;fe._renderer=null,fe._tooltip=ue.tooltip||bn,fe._redraw=!0,fe._handler=new r.CanvasHandler().scene(Qe),fe._globalCursor=!1,fe._preventDefault=!1,fe._timers=[],fe._eventListeners=[],fe._resizeListeners=[],fe._eventConfig=ct(K.eventConfig),fe.globalCursor(fe._eventConfig.globalCursor);let It=Ne(fe,K,ue.expr);fe._runtime=It,fe._signals=It.signals,fe._bind=(K.bindings||[]).map(At=>({state:null,param:e.extend({},At)})),It.root&&It.root.set(Qe),Qe.source=It.data.root.input,fe.pulse(It.data.root.input,fe.changeset().insert(Qe.items)),fe._width=fe.width(),fe._height=fe.height(),fe._viewWidth=rn(fe,fe._width),fe._viewHeight=Qt(fe,fe._height),fe._origin=[0,0],fe._resize=0,fe._autosize=1,Fn(fe),f(fe),_(fe),fe.description(K.description),ue.hover&&fe.hover(),ue.container&&fe.initialize(ue.container,ue.bind)}function N(K,ue){return e.hasOwnProperty(K._signals,ue)?K._signals[ue]:e.error("Unrecognized signal name: "+e.stringValue(ue))}function V(K,ue){let fe=(K._targets||[]).filter(Qe=>Qe._update&&Qe._update.handler===ue);return fe.length?fe[0]:null}function be(K,ue,fe,Qe){let It=V(fe,Qe);return It||(It=ft(K,()=>Qe(ue,fe.value)),It.handler=Qe,K.on(fe,null,It)),K}function xe(K,ue,fe){let Qe=V(ue,fe);return Qe&&ue._targets.remove(Qe),K}e.inherits(Ft,t.Dataflow,{async evaluate(K,ue,fe){if(await t.Dataflow.prototype.evaluate.call(this,K,ue),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,oe(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(Qe){this.error(Qe)}return fe&&t.asyncCallback(this,fe),this},dirty(K){this._redraw=!0,this._renderer&&this._renderer.dirty(K)},description(K){if(arguments.length){let ue=K!=null?K+"":null;return ue!==this._desc&&l(this._el,this._desc=ue),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(K,ue,fe){let Qe=N(this,K);return arguments.length===1?Qe.value:this.update(Qe,ue,fe)},width(K){return arguments.length?this.signal("width",K):this.signal("width")},height(K){return arguments.length?this.signal("height",K):this.signal("height")},padding(K){return arguments.length?this.signal("padding",yn(K)):yn(this.signal("padding"))},autosize(K){return arguments.length?this.signal("autosize",K):this.signal("autosize")},background(K){return arguments.length?this.signal("background",K):this.signal("background")},renderer(K){return arguments.length?(r.renderModule(K)||e.error("Unrecognized renderer type: "+K),K!==this._renderType&&(this._renderType=K,this._resetRenderer()),this):this._renderType},tooltip(K){return arguments.length?(K!==this._tooltip&&(this._tooltip=K,this._resetRenderer()),this):this._tooltip},loader(K){return arguments.length?(K!==this._loader&&(t.Dataflow.prototype.loader.call(this,K),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(N(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:Wn,addEventListener(K,ue,fe){let Qe=ue;return fe&&fe.trap===!1||(Qe=ft(this,ue),Qe.raw=ue),this._handler.on(K,Qe),this},removeEventListener(K,ue){for(var fe=this._handler.handlers(K),Qe=fe.length,It,At;--Qe>=0;)if(At=fe[Qe].type,It=fe[Qe].handler,K===At&&(ue===It||ue===It.raw)){this._handler.off(At,It);break}return this},addResizeListener(K){let ue=this._resizeListeners;return ue.indexOf(K)<0&&ue.push(K),this},removeResizeListener(K){var ue=this._resizeListeners,fe=ue.indexOf(K);return fe>=0&&ue.splice(fe,1),this},addSignalListener(K,ue){return be(this,K,N(this,K),ue)},removeSignalListener(K,ue){return xe(this,N(this,K),ue)},addDataListener(K,ue){return be(this,K,R(this,K).values,ue)},removeDataListener(K,ue){return xe(this,R(this,K).values,ue)},globalCursor(K){if(arguments.length){if(this._globalCursor!==!!K){let ue=b(this,null);this._globalCursor=!!K,ue&&b(this,ue)}return this}else return this._globalCursor},preventDefault(K){return arguments.length?(this._preventDefault=K,this):this._preventDefault},timer:wn,events:qe,finalize:Ce,hover:ke,data:O,change:j,insert:$,remove:L,scale:ze,initialize:Yt,toImageURL:un,toCanvas:nr,toSVG:On,getState:Zn,setState:Ye}),n.View=Ft,Object.defineProperty(n,"__esModule",{value:!0})})});var Nle=Ae((LV,ERe)=>{m();(function(n,e){typeof LV=="object"&&typeof ERe!="undefined"?e(LV):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(LV,function(n){"use strict";let e="view",t="[",r="]",i="{",s="}",o=":",a=",",l="@",f=">",p=/[[\]{}]/,_={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},b,R;function O(I,J,he){return b=J||e,R=he||_,L(I.trim()).map(q)}function j(I){return R[I]}function $(I,J,he,ye,He){let at=I.length,ct=0,Ze;for(;J<at;++J){if(Ze=I[J],!ct&&Ze===he)return J;He&&He.indexOf(Ze)>=0?--ct:ye&&ye.indexOf(Ze)>=0&&++ct}return J}function L(I){let J=[],he=I.length,ye=0,He=0;for(;He<he;)He=$(I,He,a,t+i,r+s),J.push(I.substring(ye,He).trim()),ye=++He;if(J.length===0)throw"Empty event selector: "+I;return J}function q(I){return I[0]==="["?P(I):W(I)}function P(I){let J=I.length,he=1,ye;if(he=$(I,he,r,t,r),he===J)throw"Empty between selector: "+I;if(ye=L(I.substring(1,he)),ye.length!==2)throw"Between selector must have two elements: "+I;if(I=I.slice(he+1).trim(),I[0]!==f)throw"Expected '>' after between selector: "+I;ye=ye.map(q);let He=q(I.slice(1).trim());return He.between?{between:ye,stream:He}:(He.between=ye,He)}function W(I){let J={source:b},he=[],ye=[0,0],He=0,at=0,ct=I.length,Ze=0,bt,Mt;if(I[ct-1]===s){if(Ze=I.lastIndexOf(i),Ze>=0){try{ye=oe(I.substring(Ze+1,ct-1))}catch{throw"Invalid throttle specification: "+I}I=I.slice(0,Ze).trim(),ct=I.length}else throw"Unmatched right brace: "+I;Ze=0}if(!ct)throw I;if(I[0]===l&&(He=++Ze),bt=$(I,Ze,o),bt<ct&&(he.push(I.substring(at,bt).trim()),at=Ze=++bt),Ze=$(I,Ze,t),Ze===ct)he.push(I.substring(at,ct).trim());else if(he.push(I.substring(at,Ze).trim()),Mt=[],at=++Ze,at===ct)throw"Unmatched left bracket: "+I;for(;Ze<ct;){if(Ze=$(I,Ze,r),Ze===ct)throw"Unmatched left bracket: "+I;if(Mt.push(I.substring(at,Ze).trim()),Ze<ct-1&&I[++Ze]!==t)throw"Expected left bracket: "+I;at=++Ze}if(!(ct=he.length)||p.test(he[ct-1]))throw"Invalid event selector: "+I;return ct>1?(J.type=he[1],He?J.markname=he[0].slice(1):j(he[0])?J.marktype=he[0]:J.source=he[0]):J.type=he[0],J.type.slice(-1)==="!"&&(J.consume=!0,J.type=J.type.slice(0,-1)),Mt!=null&&(J.filter=Mt),ye[0]&&(J.throttle=ye[0]),ye[1]&&(J.debounce=ye[1]),J}function oe(I){let J=I.split(a);if(!I.length||J.length>2)throw I;return J.map(he=>{let ye=+he;if(ye!==ye)throw I;return ye})}n.parseSelector=O,Object.defineProperty(n,"__esModule",{value:!0})})});var SRe=Ae((kV,bRe)=>{m();(function(n,e){typeof kV=="object"&&typeof bRe!="undefined"?e(kV,Tu(),RV(),Nle(),xb(),o0()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-functions","vega-event-selector","vega-scale","vega-dataflow"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega))})(kV,function(n,e,t,r,i,s){"use strict";function o(k){return e.isObject(k)?k:{type:k||"pad"}}let a=k=>+k||0,l=k=>({top:k,bottom:k,left:k,right:k});function f(k){return e.isObject(k)?k.signal?k:{top:a(k.top),bottom:a(k.bottom),left:a(k.left),right:a(k.right)}:l(a(k))}let p=k=>e.isObject(k)&&!e.isArray(k)?e.extend({},k):{value:k};function _(k,Z,je,Nt){return je!=null?(e.isObject(je)&&!e.isArray(je)||e.isArray(je)&&je.length&&e.isObject(je[0])?k.update[Z]=je:k[Nt||"enter"][Z]={value:je},1):0}function b(k,Z,je){for(let Nt in Z)_(k,Nt,Z[Nt]);for(let Nt in je)_(k,Nt,je[Nt],"update")}function R(k,Z,je){for(let Nt in Z)je&&e.hasOwnProperty(je,Nt)||(k[Nt]=e.extend(k[Nt]||{},Z[Nt]));return k}function O(k,Z){return Z&&(Z.enter&&Z.enter[k]||Z.update&&Z.update[k])}let j="mark",$="frame",L="scope",q="axis",P="axis-domain",W="axis-grid",oe="axis-label",I="axis-tick",J="axis-title",he="legend",ye="legend-band",He="legend-entry",at="legend-gradient",ct="legend-label",Ze="legend-symbol",bt="legend-title",Mt="title",qe="title-text",te="title-subtitle";function et(k,Z,je,Nt,Vt){let An={},kn={},sr,hr,Nr,it;hr="lineBreak",Z==="text"&&Vt[hr]!=null&&!O(hr,k)&&Ee(An,hr,Vt[hr]),(je=="legend"||String(je).startsWith("axis"))&&(je=null),it=je===$?Vt.group:je===j?e.extend({},Vt.mark,Vt[Z]):null;for(hr in it)Nr=O(hr,k)||(hr==="fill"||hr==="stroke")&&(O("fill",k)||O("stroke",k)),Nr||Ee(An,hr,it[hr]);e.array(Nt).forEach(Fi=>{let Qi=Vt.style&&Vt.style[Fi];for(let Li in Qi)O(Li,k)||Ee(An,Li,Qi[Li])}),k=e.extend({},k);for(hr in An)it=An[hr],it.signal?(sr=sr||{})[hr]=it:kn[hr]=it;return k.enter=e.extend(kn,k.enter),sr&&(k.update=e.extend(sr,k.update)),k}function Ee(k,Z,je){k[Z]=je&&je.signal?{signal:je.signal}:{value:je}}let ke=k=>e.isString(k)?e.stringValue(k):k.signal?`(${k.signal})`:wt(k);function Ce(k){if(k.gradient!=null)return lt(k);let Z=k.signal?`(${k.signal})`:k.color?Je(k.color):k.field!=null?wt(k.field):k.value!==void 0?e.stringValue(k.value):void 0;return k.scale!=null&&(Z=kt(k,Z)),Z===void 0&&(Z=null),k.exponent!=null&&(Z=`pow(${Z},${Ht(k.exponent)})`),k.mult!=null&&(Z+=`*${Ht(k.mult)}`),k.offset!=null&&(Z+=`+${Ht(k.offset)}`),k.round&&(Z=`round(${Z})`),Z}let pe=(k,Z,je,Nt)=>`(${k}(${[Z,je,Nt].map(Ce).join(",")})+'')`;function Je(k){return k.c?pe("hcl",k.h,k.c,k.l):k.h||k.s?pe("hsl",k.h,k.s,k.l):k.l||k.a?pe("lab",k.l,k.a,k.b):k.r||k.g||k.b?pe("rgb",k.r,k.g,k.b):null}function lt(k){let Z=[k.start,k.stop,k.count].map(je=>je==null?null:e.stringValue(je));for(;Z.length&&e.peek(Z)==null;)Z.pop();return Z.unshift(ke(k.gradient)),`gradient(${Z.join(",")})`}function Ht(k){return e.isObject(k)?"("+Ce(k)+")":k}function wt(k){return mn(e.isObject(k)?k:{datum:k})}function mn(k){let Z,je,Nt;if(k.signal)Z="datum",Nt=k.signal;else if(k.group||k.parent){for(je=Math.max(1,k.level||1),Z="item";je-- >0;)Z+=".mark.group";k.parent?(Nt=k.parent,Z+=".datum"):Nt=k.group}else k.datum?(Z="datum",Nt=k.datum):e.error("Invalid field reference: "+e.stringValue(k));return k.signal||(Nt=e.isString(Nt)?e.splitAccessPath(Nt).map(e.stringValue).join("]["):mn(Nt)),Z+"["+Nt+"]"}function kt(k,Z){let je=ke(k.scale);return k.range!=null?Z=`lerp(_range(${je}), ${+k.range})`:(Z!==void 0&&(Z=`_scale(${je}, ${Z})`),k.band&&(Z=(Z?Z+"+":"")+`_bandwidth(${je})`+(+k.band==1?"":"*"+Ht(k.band)),k.extra&&(Z=`(datum.extra ? _scale(${je}, datum.extra.value) : ${Z})`)),Z==null&&(Z="0")),Z}function Bt(k){let Z="";return k.forEach(je=>{let Nt=Ce(je);Z+=je.test?`(${je.test})?${Nt}:`:Nt}),e.peek(Z)===":"&&(Z+="null"),Z}function tn(k,Z,je,Nt,Vt,An){let kn={};An=An||{},An.encoders={$encode:kn},k=et(k,Z,je,Nt,Vt.config);for(let sr in k)kn[sr]=Et(k[sr],Z,An,Vt);return An}function Et(k,Z,je,Nt){let Vt={},An={};for(let kn in k)k[kn]!=null&&(Vt[kn]=Le(ve(k[kn]),Nt,je,An));return{$expr:{marktype:Z,channels:Vt},$fields:Object.keys(An),$output:Object.keys(k)}}function ve(k){return e.isArray(k)?Bt(k):Ce(k)}function Le(k,Z,je,Nt){let Vt=t.parseExpression(k,Z);return Vt.$fields.forEach(An=>Nt[An]=1),e.extend(je,Vt.$params),Vt.$expr}let _e="outer",ce=["value","update","init","react","bind"];function tt(k,Z){e.error(k+' for "outer" push: '+e.stringValue(Z))}function Ke(k,Z){let je=k.name;if(k.push===_e)Z.signals[je]||tt("No prior signal definition",je),ce.forEach(Nt=>{k[Nt]!==void 0&&tt("Invalid property ",Nt)});else{let Nt=Z.addSignal(je,k.value);k.react===!1&&(Nt.react=!1),k.bind&&Z.addBinding(je,k.bind)}}function re(k,Z,je,Nt){this.id=-1,this.type=k,this.value=Z,this.params=je,Nt&&(this.parent=Nt)}function Re(k,Z,je,Nt){return new re(k,Z,je,Nt)}function nt(k,Z){return Re("operator",k,Z)}function ft(k){let Z={$ref:k.id};return k.id<0&&(k.refs=k.refs||[]).push(Z),Z}function Rt(k,Z){return Z?{$field:k,$name:Z}:{$field:k}}let Yt=Rt("key");function Gt(k,Z){return{$compare:k,$order:Z}}function fn(k,Z){let je={$key:k};return Z&&(je.$flat=!0),je}let gn="ascending",yn="descending";function Lt(k){return e.isObject(k)?(k.order===yn?"-":"+")+un(k.op,k.field):""}function un(k,Z){return(k&&k.signal?"$"+k.signal:k||"")+(k&&Z?"_":"")+(Z&&Z.signal?"$"+Z.signal:Z||"")}let Pn="scope",nr="view";function On(k){return k&&k.signal}function Ne(k){return k&&k.expr}function ze(k){if(On(k))return!0;if(e.isObject(k)){for(let Z in k)if(ze(k[Z]))return!0}return!1}function De(k,Z){return k??Z}function Pt(k){return k&&k.signal||k}let mt="timer";function xt(k,Z){return(k.merge?Qt:k.stream?Fn:k.type?Wn:e.error("Invalid stream specification: "+e.stringValue(k)))(k,Z)}function rn(k){return k===Pn?nr:k||nr}function Qt(k,Z){let je=k.merge.map(Vt=>xt(Vt,Z)),Nt=Zn({merge:je},k,Z);return Z.addStream(Nt).id}function Fn(k,Z){let je=xt(k.stream,Z),Nt=Zn({stream:je},k,Z);return Z.addStream(Nt).id}function Wn(k,Z){let je;k.type===mt?(je=Z.event(mt,k.throttle),k={between:k.between,filter:k.filter}):je=Z.event(rn(k.source),k.type);let Nt=Zn({stream:je},k,Z);return Object.keys(Nt).length===1?je:Z.addStream(Nt).id}function Zn(k,Z,je){let Nt=Z.between;return Nt&&(Nt.length!==2&&e.error('Stream "between" parameter must have 2 entries: '+e.stringValue(Z)),k.between=[xt(Nt[0],je),xt(Nt[1],je)]),Nt=Z.filter?[].concat(Z.filter):[],(Z.marktype||Z.markname||Z.markrole)&&Nt.push(Nn(Z.marktype,Z.markname,Z.markrole)),Z.source===Pn&&Nt.push("inScope(event.item)"),Nt.length&&(k.filter=t.parseExpression("("+Nt.join(")&&(")+")",je).$expr),(Nt=Z.throttle)!=null&&(k.throttle=+Nt),(Nt=Z.debounce)!=null&&(k.debounce=+Nt),Z.consume&&(k.consume=!0),k}function Nn(k,Z,je){let Nt="event.item";return Nt+(k&&k!=="*"?"&&"+Nt+".mark.marktype==='"+k+"'":"")+(je?"&&"+Nt+".mark.role==='"+je+"'":"")+(Z?"&&"+Nt+".mark.name==='"+Z+"'":"")}let rr={code:"_.$value",ast:{type:"Identifier",value:"value"}};function Ye(k,Z,je){let Nt=k.encode,Vt={target:je},An=k.events,kn=k.update,sr=[];An||e.error("Signal update missing events specification."),e.isString(An)&&(An=r.parseSelector(An,Z.isSubscope()?Pn:nr)),An=e.array(An).filter(hr=>hr.signal||hr.scale?(sr.push(hr),0):1),sr.length>1&&(sr=[ae(sr)]),An.length&&sr.push(An.length>1?{merge:An}:An[0]),Nt!=null&&(kn&&e.error("Signal encode and update are mutually exclusive."),kn="encode(item(),"+e.stringValue(Nt)+")"),Vt.update=e.isString(kn)?t.parseExpression(kn,Z):kn.expr!=null?t.parseExpression(kn.expr,Z):kn.value!=null?kn.value:kn.signal!=null?{$expr:rr,$params:{$value:Z.signalRef(kn.signal)}}:e.error("Invalid signal update specification."),k.force&&(Vt.options={force:!0}),sr.forEach(hr=>Z.addUpdate(e.extend(vt(hr,Z),Vt)))}function vt(k,Z){return{source:k.signal?Z.signalRef(k.signal):k.scale?Z.scaleRef(k.scale):xt(k,Z)}}function ae(k){return{signal:"["+k.map(Z=>Z.scale?'scale("'+Z.scale+'")':Z.signal)+"]"}}function Be(k,Z){let je=Z.getSignal(k.name),Nt=k.update;k.init&&(Nt?e.error("Signals can not include both init and update expressions."):(Nt=k.init,je.initonly=!0)),Nt&&(Nt=t.parseExpression(Nt,Z),je.update=Nt.$expr,je.params=Nt.$params),k.on&&k.on.forEach(Vt=>Ye(Vt,Z,je.id))}let rt=k=>(Z,je,Nt)=>Re(k,je,Z||void 0,Nt),Dt=rt("aggregate"),hn=rt("axisticks"),an=rt("bound"),dt=rt("collect"),ie=rt("compare"),Te=rt("datajoin"),Ue=rt("encode"),gt=rt("expression"),St=rt("facet"),Ot=rt("field"),ne=rt("key"),we=rt("legendentries"),We=rt("load"),st=rt("mark"),Ut=rt("multiextent"),sn=rt("multivalues"),wn=rt("overlap"),bn=rt("params"),vn=rt("prefacet"),zn=rt("projection"),Oe=rt("proxy"),$e=rt("relay"),Ft=rt("render"),N=rt("scale"),V=rt("sieve"),be=rt("sortitems"),xe=rt("viewlayout"),K=rt("values"),ue=0,fe={min:"min",max:"max",count:"sum"};function Qe(k,Z){let je=k.type||"linear";i.isValidScaleType(je)||e.error("Unrecognized scale type: "+e.stringValue(je)),Z.addScale(k.name,{type:je,domain:void 0})}function It(k,Z){let je=Z.getScale(k.name).params,Nt;je.domain=B(k.domain,k,Z),k.range!=null&&(je.range=Wr(k,Z,je)),k.interpolate!=null&&Jr(k.interpolate,je),k.nice!=null&&(je.nice=Vn(k.nice)),k.bins!=null&&(je.bins=Un(k.bins,Z));for(Nt in k)e.hasOwnProperty(je,Nt)||Nt==="name"||(je[Nt]=At(k[Nt],Z))}function At(k,Z){return e.isObject(k)?k.signal?Z.signalRef(k.signal):e.error("Unsupported object: "+e.stringValue(k)):k}function dn(k,Z){return k.signal?Z.signalRef(k.signal):k.map(je=>At(je,Z))}function C(k){e.error("Can not find data set: "+e.stringValue(k))}function B(k,Z,je){if(!k){(Z.domainMin!=null||Z.domainMax!=null)&&e.error("No scale domain defined for domainMin/domainMax to override.");return}return k.signal?je.signalRef(k.signal):(e.isArray(k)?ee:k.fields?ht:Se)(k,Z,je)}function ee(k,Z,je){return k.map(Nt=>At(Nt,je))}function Se(k,Z,je){let Nt=je.getData(k.data);return Nt||C(k.data),i.isDiscrete(Z.type)?Nt.valuesRef(je,k.field,Xt(k.sort,!1)):i.isQuantile(Z.type)?Nt.domainRef(je,k.field):Nt.extentRef(je,k.field)}function ht(k,Z,je){let Nt=k.data,Vt=k.fields.reduce((An,kn)=>(kn=e.isString(kn)?{data:Nt,field:kn}:e.isArray(kn)||kn.signal?Tt(kn,je):kn,An.push(kn),An),[]);return(i.isDiscrete(Z.type)?Zt:i.isQuantile(Z.type)?xn:qn)(k,je,Vt)}function Tt(k,Z){let je="_:vega:_"+ue++,Nt=dt({});if(e.isArray(k))Nt.value={$ingest:k};else if(k.signal){let Vt="setdata("+e.stringValue(je)+","+k.signal+")";Nt.params.input=Z.signalRef(Vt)}return Z.addDataPipeline(je,[Nt,V({})]),{data:je,field:"data"}}function Zt(k,Z,je){let Nt=Xt(k.sort,!0),Vt,An,kn=je.map(Nr=>{let it=Z.getData(Nr.data);return it||C(Nr.data),it.countsRef(Z,Nr.field,Nt)}),sr={groupby:Yt,pulse:kn};Nt&&(Vt=Nt.op||"count",An=Nt.field?un(Vt,Nt.field):"count",sr.ops=[fe[Vt]],sr.fields=[Z.fieldRef(An)],sr.as=[An]),Vt=Z.add(Dt(sr));let hr=Z.add(dt({pulse:ft(Vt)}));return An=Z.add(K({field:Yt,sort:Z.sortRef(Nt),pulse:ft(hr)})),ft(An)}function Xt(k,Z){return k&&(!k.field&&!k.op?e.isObject(k)?k.field="key":k={field:"key"}:!k.field&&k.op!=="count"?e.error("No field provided for sort aggregate op: "+k.op):Z&&k.field&&k.op&&!fe[k.op]&&e.error("Multiple domain scales can not be sorted using "+k.op)),k}function xn(k,Z,je){let Nt=je.map(Vt=>{let An=Z.getData(Vt.data);return An||C(Vt.data),An.domainRef(Z,Vt.field)});return ft(Z.add(sn({values:Nt})))}function qn(k,Z,je){let Nt=je.map(Vt=>{let An=Z.getData(Vt.data);return An||C(Vt.data),An.extentRef(Z,Vt.field)});return ft(Z.add(Ut({extents:Nt})))}function Un(k,Z){return k.signal||e.isArray(k)?dn(k,Z):Z.objectProperty(k)}function Vn(k){return e.isObject(k)?{interval:At(k.interval),step:At(k.step)}:At(k)}function Jr(k,Z){Z.interpolate=At(k.type||k),k.gamma!=null&&(Z.interpolateGamma=At(k.gamma))}function Wr(k,Z,je){let Nt=Z.config.range,Vt=k.range;if(Vt.signal)return Z.signalRef(Vt.signal);if(e.isString(Vt)){if(Nt&&e.hasOwnProperty(Nt,Vt))return k=e.extend({},k,{range:Nt[Vt]}),Wr(k,Z,je);Vt==="width"?Vt=[0,{signal:"width"}]:Vt==="height"?Vt=i.isDiscrete(k.type)?[0,{signal:"height"}]:[{signal:"height"},0]:e.error("Unrecognized scale range value: "+e.stringValue(Vt))}else if(Vt.scheme){je.scheme=e.isArray(Vt.scheme)?dn(Vt.scheme,Z):At(Vt.scheme,Z),Vt.extent&&(je.schemeExtent=dn(Vt.extent,Z)),Vt.count&&(je.schemeCount=At(Vt.count,Z));return}else if(Vt.step){je.rangeStep=At(Vt.step,Z);return}else{if(i.isDiscrete(k.type)&&!e.isArray(Vt))return B(Vt,k,Z);e.isArray(Vt)||e.error("Unsupported range type: "+e.stringValue(Vt))}return Vt.map(An=>(e.isArray(An)?dn:At)(An,Z))}function yr(k,Z){let je=Z.config.projection||{},Nt={};for(let Vt in k)Vt!=="name"&&(Nt[Vt]=Mr(k[Vt],Vt,Z));for(let Vt in je)Nt[Vt]==null&&(Nt[Vt]=Mr(je[Vt],Vt,Z));Z.addProjection(k.name,Nt)}function Mr(k,Z,je){return e.isArray(k)?k.map(Nt=>Mr(Nt,Z,je)):e.isObject(k)?k.signal?je.signalRef(k.signal):Z==="fit"?k:e.error("Unsupported parameter object: "+e.stringValue(k)):k}let xi="top",ai="left",Xi="right",Cs="bottom",ts="center",Aa="vertical",xa="start",yl="middle",Lc="end",fu="index",du="label",Xu="offset",Du="perc",kc="perc2",na="value",Zu="guide-label",rf="guide-title",Ge="group-title",Kt="group-subtitle",jn="symbol",Yn="gradient",ri="discrete",Br="size",ho=[Br,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],hi={name:1,style:1,interactive:1},bi={value:0},Wi={value:1},Xo="group",da="rect",ha="rule",po="symbol",ls="text";function ps(k){return k.type=Xo,k.interactive=k.interactive||!1,k}function Zi(k,Z){let je=(Nt,Vt)=>De(k[Nt],De(Z[Nt],Vt));return je.isVertical=Nt=>Aa===De(k.direction,Z.direction||(Nt?Z.symbolDirection:Z.gradientDirection)),je.gradientLength=()=>De(k.gradientLength,Z.gradientLength||Z.gradientWidth),je.gradientThickness=()=>De(k.gradientThickness,Z.gradientThickness||Z.gradientHeight),je.entryColumns=()=>De(k.columns,De(Z.columns,+je.isVertical(!0))),je}function hu(k,Z){let je=Z&&(Z.update&&Z.update[k]||Z.enter&&Z.enter[k]);return je&&je.signal?je:je?je.value:null}function Ps(k,Z,je){let Nt=Z.config.style[je];return Nt&&Nt[k]}function ga(k,Z,je){return`item.anchor === '${xa}' ? ${k} : item.anchor === '${Lc}' ? ${Z} : ${je}`}let ua=ga(e.stringValue(ai),e.stringValue(Xi),e.stringValue(ts));function Oi(k){let Z=k("tickBand"),je=k("tickOffset"),Nt,Vt;return Z?Z.signal?(Nt={signal:`(${Z.signal}) === 'extent' ? 1 : 0.5`},Vt={signal:`(${Z.signal}) === 'extent'`},e.isObject(je)||(je={signal:`(${Z.signal}) === 'extent' ? 0 : ${je}`})):Z==="extent"?(Nt=1,Vt=!0,je=0):(Nt=.5,Vt=!1):(Nt=k("bandPosition"),Vt=k("tickExtra")),{extra:Vt,band:Nt,offset:je}}function Wo(k,Z){return Z?k?e.isObject(k)?Object.assign({},k,{offset:Wo(k.offset,Z)}):{value:k,offset:Z}:Z:k}function vs(k,Z){return Z?(k.name=Z.name,k.style=Z.style||k.style,k.interactive=!!Z.interactive,k.encode=R(k.encode,Z,hi)):k.interactive=!1,k}function Ii(k,Z,je,Nt){let Vt=Zi(k,je),An=Vt.isVertical(),kn=Vt.gradientThickness(),sr=Vt.gradientLength(),hr,Nr,it,Fi,Qi;An?(Nr=[0,1],it=[0,0],Fi=kn,Qi=sr):(Nr=[0,0],it=[1,0],Fi=sr,Qi=kn);let Li={enter:hr={opacity:bi,x:bi,y:bi,width:p(Fi),height:p(Qi)},update:e.extend({},hr,{opacity:Wi,fill:{gradient:Z,start:Nr,stop:it}}),exit:{opacity:bi}};return b(Li,{stroke:Vt("gradientStrokeColor"),strokeWidth:Vt("gradientStrokeWidth")},{opacity:Vt("gradientOpacity")}),vs({type:da,role:at,encode:Li},Nt)}function Ro(k,Z,je,Nt,Vt){let An=Zi(k,je),kn=An.isVertical(),sr=An.gradientThickness(),hr=An.gradientLength(),Nr,it,Fi,Qi,Li="";kn?(Nr="y",Fi="y2",it="x",Qi="width",Li="1-"):(Nr="x",Fi="x2",it="y",Qi="height");let Qr={opacity:bi,fill:{scale:Z,field:na}};Qr[Nr]={signal:Li+"datum."+Du,mult:hr},Qr[it]=bi,Qr[Fi]={signal:Li+"datum."+kc,mult:hr},Qr[Qi]=p(sr);let Ys={enter:Qr,update:e.extend({},Qr,{opacity:Wi}),exit:{opacity:bi}};return b(Ys,{stroke:An("gradientStrokeColor"),strokeWidth:An("gradientStrokeWidth")},{opacity:An("gradientOpacity")}),vs({type:da,role:ye,key:na,from:Vt,encode:Ys},Nt)}let ka=`datum.${Du}<=0?"${ai}":datum.${Du}>=1?"${Xi}":"${ts}"`,Xa=`datum.${Du}<=0?"${Cs}":datum.${Du}>=1?"${xi}":"${yl}"`;function Oo(k,Z,je,Nt){let Vt=Zi(k,Z),An=Vt.isVertical(),kn=p(Vt.gradientThickness()),sr=Vt.gradientLength(),hr=Vt("labelOverlap"),Nr,it,Fi,Qi,Li="",Qr={enter:Nr={opacity:bi},update:it={opacity:Wi,text:{field:du}},exit:{opacity:bi}};return b(Qr,{fill:Vt("labelColor"),fillOpacity:Vt("labelOpacity"),font:Vt("labelFont"),fontSize:Vt("labelFontSize"),fontStyle:Vt("labelFontStyle"),fontWeight:Vt("labelFontWeight"),limit:De(k.labelLimit,Z.gradientLabelLimit)}),An?(Nr.align={value:"left"},Nr.baseline=it.baseline={signal:Xa},Fi="y",Qi="x",Li="1-"):(Nr.align=it.align={signal:ka},Nr.baseline={value:"top"},Fi="x",Qi="y"),Nr[Fi]=it[Fi]={signal:Li+"datum."+Du,mult:sr},Nr[Qi]=it[Qi]=kn,kn.offset=De(k.labelOffset,Z.gradientLabelOffset)||0,hr=hr?{separation:Vt("labelSeparation"),method:hr,order:"datum."+fu}:void 0,vs({type:ls,role:ct,style:Zu,key:na,from:Nt,encode:Qr,overlap:hr},je)}function To(k,Z,je,Nt,Vt){let An=Zi(k,Z),kn=je.entries,sr=!!(kn&&kn.interactive),hr=kn?kn.name:void 0,Nr=An("clipHeight"),it=An("symbolOffset"),Fi={data:"value"},Qi=`(${Vt}) ? datum.${Xu} : datum.${Br}`,Li=Nr?p(Nr):{field:Br},Qr=`datum.${fu}`,Ys=`max(1, ${Vt})`,$o,va,mo,Ia,uc;Li.mult=.5,$o={enter:va={opacity:bi,x:{signal:Qi,mult:.5,offset:it},y:Li},update:mo={opacity:Wi,x:va.x,y:va.y},exit:{opacity:bi}};let Ql=null,Ma=null;k.fill||(Ql=Z.symbolBaseFillColor,Ma=Z.symbolBaseStrokeColor),b($o,{fill:An("symbolFillColor",Ql),shape:An("symbolType"),size:An("symbolSize"),stroke:An("symbolStrokeColor",Ma),strokeDash:An("symbolDash"),strokeDashOffset:An("symbolDashOffset"),strokeWidth:An("symbolStrokeWidth")},{opacity:An("symbolOpacity")}),ho.forEach(cf=>{k[cf]&&(mo[cf]=va[cf]={scale:k[cf],field:na})});let lc=vs({type:po,role:Ze,key:na,from:Fi,clip:Nr?!0:void 0,encode:$o},je.symbols),_a=p(it);_a.offset=An("labelOffset"),$o={enter:va={opacity:bi,x:{signal:Qi,offset:_a},y:Li},update:mo={opacity:Wi,text:{field:du},x:va.x,y:va.y},exit:{opacity:bi}},b($o,{align:An("labelAlign"),baseline:An("labelBaseline"),fill:An("labelColor"),fillOpacity:An("labelOpacity"),font:An("labelFont"),fontSize:An("labelFontSize"),fontStyle:An("labelFontStyle"),fontWeight:An("labelFontWeight"),limit:An("labelLimit")});let lf=vs({type:ls,role:ct,style:Zu,key:na,from:Fi,encode:$o},je.labels);return $o={enter:{noBound:{value:!Nr},width:bi,height:Nr?p(Nr):bi,opacity:bi},exit:{opacity:bi},update:mo={opacity:Wi,row:{signal:null},column:{signal:null}}},An.isVertical(!0)?(Ia=`ceil(item.mark.items.length / ${Ys})`,mo.row.signal=`${Qr}%${Ia}`,mo.column.signal=`floor(${Qr} / ${Ia})`,uc={field:["row",Qr]}):(mo.row.signal=`floor(${Qr} / ${Ys})`,mo.column.signal=`${Qr} % ${Ys}`,uc={field:Qr}),mo.column.signal=`(${Vt})?${mo.column.signal}:${Qr}`,Nt={facet:{data:Nt,name:"value",groupby:fu}},ps({role:L,from:Nt,encode:R($o,kn,hi),marks:[lc,lf],name:hr,interactive:sr,sort:uc})}function $a(k,Z){let je=Zi(k,Z);return{align:je("gridAlign"),columns:je.entryColumns(),center:{row:!0,column:!1},padding:{row:je("rowPadding"),column:je("columnPadding")}}}let pu='item.orient === "left"',za='item.orient === "right"',la=`(${pu} || ${za})`,ca=`datum.vgrad && ${la}`,vl=ga('"top"','"bottom"','"middle"'),Vl=ga('"right"','"left"','"center"'),ra=`datum.vgrad && ${za} ? (${Vl}) : (${la} && !(datum.vgrad && ${pu})) ? "left" : ${ua}`,el=`item._anchor || (${la} ? "middle" : "start")`,ui=`${ca} ? (${pu} ? -90 : 90) : 0`,rs=`${la} ? (datum.vgrad ? (${za} ? "bottom" : "top") : ${vl}) : "top"`;function cs(k,Z,je,Nt){let Vt=Zi(k,Z),An={enter:{opacity:bi},update:{opacity:Wi,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:bi}};return b(An,{orient:Vt("titleOrient"),_anchor:Vt("titleAnchor"),anchor:{signal:el},angle:{signal:ui},align:{signal:ra},baseline:{signal:rs},text:k.title,fill:Vt("titleColor"),fillOpacity:Vt("titleOpacity"),font:Vt("titleFont"),fontSize:Vt("titleFontSize"),fontStyle:Vt("titleFontStyle"),fontWeight:Vt("titleFontWeight"),limit:Vt("titleLimit"),lineHeight:Vt("titleLineHeight")},{align:Vt("titleAlign"),baseline:Vt("titleBaseline")}),vs({type:ls,role:bt,style:rf,from:Nt,encode:An},je)}function xr(k,Z){let je;return e.isObject(k)&&(k.signal?je=k.signal:k.path?je="pathShape("+is(k.path)+")":k.sphere&&(je="geoShape("+is(k.sphere)+', {type: "Sphere"})')),je?Z.signalRef(je):!!k}function is(k){return e.isObject(k)&&k.signal?k.signal:e.stringValue(k)}function Ie(k){let Z=k.role||"";return!Z.indexOf("axis")||!Z.indexOf("legend")||!Z.indexOf("title")?Z:k.type===Xo?L:Z||j}function yt(k){return{marktype:k.type,name:k.name||void 0,role:k.role||Ie(k),zindex:+k.zindex||void 0,aria:k.aria,description:k.description}}function Jt(k,Z){return k&&k.signal?Z.signalRef(k.signal):k!==!1}function $t(k,Z){let je=s.definition(k.type);je||e.error("Unrecognized transform type: "+e.stringValue(k.type));let Nt=Re(je.type.toLowerCase(),null,pn(je,k,Z));return k.signal&&Z.addSignal(k.signal,Z.proxy(Nt)),Nt.metadata=je.metadata||{},Nt}function pn(k,Z,je){let Nt={},Vt=k.params.length;for(let An=0;An<Vt;++An){let kn=k.params[An];Nt[kn.name]=Ln(kn,Z,je)}return Nt}function Ln(k,Z,je){let Nt=k.type,Vt=Z[k.name];if(Nt==="index")return $n(k,Z,je);if(Vt===void 0){k.required&&e.error("Missing required "+e.stringValue(Z.type)+" parameter: "+e.stringValue(k.name));return}else{if(Nt==="param")return Er(k,Z,je);if(Nt==="projection")return je.projectionRef(Z[k.name])}return k.array&&!On(Vt)?Vt.map(An=>Kn(k,An,je)):Kn(k,Vt,je)}function Kn(k,Z,je){let Nt=k.type;if(On(Z))return gr(Nt)?e.error("Expression references can not be signals."):Or(Nt)?je.fieldRef(Z):di(Nt)?je.compareRef(Z):je.signalRef(Z.signal);{let Vt=k.expr||Or(Nt);return Vt&&Gn(Z)?je.exprRef(Z.expr,Z.as):Vt&&ar(Z)?Rt(Z.field,Z.as):gr(Nt)?t.parseExpression(Z,je):tr(Nt)?ft(je.getData(Z).values):Or(Nt)?Rt(Z):di(Nt)?je.compareRef(Z):Z}}function $n(k,Z,je){return e.isString(Z.from)||e.error('Lookup "from" parameter must be a string literal.'),je.getData(Z.from).lookupRef(je,Z.key)}function Er(k,Z,je){let Nt=Z[k.name];return k.array?(e.isArray(Nt)||e.error("Expected an array of sub-parameters. Instead: "+e.stringValue(Nt)),Nt.map(Vt=>wr(k,Vt,je))):wr(k,Nt,je)}function wr(k,Z,je){let Nt=k.params.length,Vt;for(let kn=0;kn<Nt;++kn){Vt=k.params[kn];for(let sr in Vt.key)if(Vt.key[sr]!==Z[sr]){Vt=null;break}if(Vt)break}Vt||e.error("Unsupported parameter: "+e.stringValue(Z));let An=e.extend(pn(Vt,Z,je),Vt.key);return ft(je.add(bn(An)))}let Gn=k=>k&&k.expr,ar=k=>k&&k.field,tr=k=>k==="data",gr=k=>k==="expr",Or=k=>k==="field",di=k=>k==="compare";function ni(k,Z,je){let Nt,Vt,An,kn,sr;return k?(Nt=k.facet)&&(Z||e.error("Only group marks can be faceted."),Nt.field!=null?kn=sr=pi(Nt,je):(k.data?sr=ft(je.getData(k.data).aggregate):(An=$t(e.extend({type:"aggregate",groupby:e.array(Nt.groupby)},Nt.aggregate),je),An.params.key=je.keyRef(Nt.groupby),An.params.pulse=pi(Nt,je),kn=sr=ft(je.add(An))),Vt=je.keyRef(Nt.groupby,!0))):kn=ft(je.add(dt(null,[{}]))),kn||(kn=pi(k,je)),{key:Vt,pulse:kn,parent:sr}}function pi(k,Z){return k.$ref?k:k.data&&k.data.$ref?k.data:ft(Z.getData(k.data).output)}function ii(k,Z,je,Nt,Vt){this.scope=k,this.input=Z,this.output=je,this.values=Nt,this.aggregate=Vt,this.index={}}ii.fromEntries=function(k,Z){let je=Z.length,Nt=Z[je-1],Vt=Z[je-2],An=Z[0],kn=null,sr=1;for(An&&An.type==="load"&&(An=Z[1]),k.add(Z[0]);sr<je;++sr)Z[sr].params.pulse=ft(Z[sr-1]),k.add(Z[sr]),Z[sr].type==="aggregate"&&(kn=Z[sr]);return new ii(k,An,Vt,Nt,kn)};function qr(k){return e.isString(k)?k:null}function Ir(k,Z,je){let Nt=un(je.op,je.field),Vt;if(Z.ops){for(let An=0,kn=Z.as.length;An<kn;++An)if(Z.as[An]===Nt)return}else Z.ops=["count"],Z.fields=[null],Z.as=["count"];je.op&&(Z.ops.push((Vt=je.op.signal)?k.signalRef(Vt):je.op),Z.fields.push(k.fieldRef(je.field)),Z.as.push(Nt))}function yi(k,Z,je,Nt,Vt,An,kn){let sr=Z[je]||(Z[je]={}),hr=Lt(An),Nr=qr(Vt),it,Fi;if(Nr!=null&&(k=Z.scope,Nr=Nr+(hr?"|"+hr:""),it=sr[Nr]),!it){let Qi=An?{field:Yt,pulse:Z.countsRef(k,Vt,An)}:{field:k.fieldRef(Vt),pulse:ft(Z.output)};hr&&(Qi.sort=k.sortRef(An)),Fi=k.add(Re(Nt,void 0,Qi)),kn&&(Z.index[Vt]=Fi),it=ft(Fi),Nr!=null&&(sr[Nr]=it)}return it}ii.prototype={countsRef(k,Z,je){let Nt=this,Vt=Nt.counts||(Nt.counts={}),An=qr(Z),kn,sr,hr;return An!=null&&(k=Nt.scope,kn=Vt[An]),kn?je&&je.field&&Ir(k,kn.agg.params,je):(hr={groupby:k.fieldRef(Z,"key"),pulse:ft(Nt.output)},je&&je.field&&Ir(k,hr,je),sr=k.add(Dt(hr)),kn=k.add(dt({pulse:ft(sr)})),kn={agg:sr,ref:ft(kn)},An!=null&&(Vt[An]=kn)),kn.ref},tuplesRef(){return ft(this.values)},extentRef(k,Z){return yi(k,this,"extent","extent",Z,!1)},domainRef(k,Z){return yi(k,this,"domain","values",Z,!1)},valuesRef(k,Z,je){return yi(k,this,"vals","values",Z,je||!0)},lookupRef(k,Z){return yi(k,this,"lookup","tupleindex",Z,!1)},indataRef(k,Z){return yi(k,this,"indata","tupleindex",Z,!0,!0)}};function gi(k,Z,je){let Nt=k.from.facet,Vt=Nt.name,An=pi(Nt,Z),kn;Nt.name||e.error("Facet must have a name: "+e.stringValue(Nt)),Nt.data||e.error("Facet must reference a data set: "+e.stringValue(Nt)),Nt.field?kn=Z.add(vn({field:Z.fieldRef(Nt.field),pulse:An})):Nt.groupby?kn=Z.add(St({key:Z.keyRef(Nt.groupby),group:ft(Z.proxy(je.parent)),pulse:An})):e.error("Facet must specify groupby or field: "+e.stringValue(Nt));let sr=Z.fork(),hr=sr.add(dt()),Nr=sr.add(V({pulse:ft(hr)}));sr.addData(Vt,new ii(sr,hr,hr,Nr)),sr.addSignal("parent",null),kn.params.subflow={$subflow:sr.parse(k).toRuntime()}}function os(k,Z,je){let Nt=Z.add(vn({pulse:je.pulse})),Vt=Z.fork();Vt.add(V()),Vt.addSignal("parent",null),Nt.params.subflow={$subflow:Vt.parse(k).toRuntime()}}function xs(k,Z,je){let Nt=k.remove,Vt=k.insert,An=k.toggle,kn=k.modify,sr=k.values,hr=Z.add(nt()),Nr="if("+k.trigger+',modify("'+je+'",'+[Vt,Nt,An,kn,sr].map(Fi=>Fi??"null").join(",")+"),0)",it=t.parseExpression(Nr,Z);hr.update=it.$expr,hr.params=it.$params}function vi(k,Z){let je=Ie(k),Nt=k.type===Xo,Vt=k.from&&k.from.facet,An=k.overlap,kn=k.layout||je===L||je===$,sr,hr,Nr,it,Fi,Qi,Li,Qr=je===j||kn||Vt,Ys=ni(k.from,Nt,Z);hr=Z.add(Te({key:Ys.key||(k.key?Rt(k.key):void 0),pulse:Ys.pulse,clean:!Nt}));let $o=ft(hr);hr=Nr=Z.add(dt({pulse:$o})),hr=Z.add(st({markdef:yt(k),interactive:Jt(k.interactive,Z),clip:xr(k.clip,Z),context:{$context:!0},groups:Z.lookup(),parent:Z.signals.parent?Z.signalRef("parent"):null,index:Z.markpath(),pulse:ft(hr)}));let va=ft(hr);hr=it=Z.add(Ue(tn(k.encode,k.type,je,k.style,Z,{mod:!1,pulse:va}))),hr.params.parent=Z.encode(),k.transform&&k.transform.forEach(Ma=>{let lc=$t(Ma,Z),_a=lc.metadata;(_a.generates||_a.changes)&&e.error("Mark transforms should not generate new data."),_a.nomod||(it.params.mod=!0),lc.params.pulse=ft(hr),Z.add(hr=lc)}),k.sort&&(hr=Z.add(be({sort:Z.compareRef(k.sort),pulse:ft(hr)})));let mo=ft(hr);(Vt||kn)&&(kn=Z.add(xe({layout:Z.objectProperty(k.layout),legends:Z.legends,mark:va,pulse:mo})),Qi=ft(kn));let Ia=Z.add(an({mark:va,pulse:Qi||mo}));Li=ft(Ia),Nt&&(Qr&&(sr=Z.operators,sr.pop(),kn&&sr.pop()),Z.pushState(mo,Qi||Li,$o),Vt?gi(k,Z,Ys):Qr?os(k,Z,Ys):Z.parse(k),Z.popState(),Qr&&(kn&&sr.push(kn),sr.push(Ia))),An&&(Li=Bs(An,Li,Z));let uc=Z.add(Ft({pulse:Li})),Ql=Z.add(V({pulse:ft(uc)},void 0,Z.parent()));k.name!=null&&(Fi=k.name,Z.addData(Fi,new ii(Z,Nr,uc,Ql)),k.on&&k.on.forEach(Ma=>{(Ma.insert||Ma.remove||Ma.toggle)&&e.error("Marks only support modify triggers."),xs(Ma,Z,Fi)}))}function Bs(k,Z,je){let Nt=k.method,Vt=k.bound,An=k.separation,kn={separation:On(An)?je.signalRef(An.signal):An,method:On(Nt)?je.signalRef(Nt.signal):Nt,pulse:Z};if(k.order&&(kn.sort=je.compareRef({field:k.order})),Vt){let sr=Vt.tolerance;kn.boundTolerance=On(sr)?je.signalRef(sr.signal):+sr,kn.boundScale=je.scaleRef(Vt.scale),kn.boundOrient=Vt.orient}return ft(je.add(wn(kn)))}function ss(k,Z){let je=Z.config.legend,Nt=k.encode||{},Vt=Zi(k,je),An=Nt.legend||{},kn=An.name||void 0,sr=An.interactive,hr=An.style,Nr={},it=0,Fi,Qi,Li;ho.forEach(Ia=>k[Ia]?(Nr[Ia]=k[Ia],it=it||k[Ia]):0),it||e.error("Missing valid scale for legend.");let Qr=ya(k,Z.scaleType(it)),Ys={title:k.title!=null,scales:Nr,type:Qr,vgrad:Qr!=="symbol"&&Vt.isVertical()},$o=ft(Z.add(dt(null,[Ys]))),va={enter:{x:{value:0},y:{value:0}}},mo=ft(Z.add(we(Qi={type:Qr,scale:Z.scaleRef(it),count:Z.objectProperty(Vt("tickCount")),limit:Z.property(Vt("symbolLimit")),values:Z.objectProperty(k.values),minstep:Z.property(k.tickMinStep),formatType:Z.property(k.formatType),formatSpecifier:Z.property(k.format)})));return Qr===Yn?(Li=[Ii(k,it,je,Nt.gradient),Oo(k,je,Nt.labels,mo)],Qi.count=Qi.count||Z.signalRef(`max(2,2*floor((${Pt(Vt.gradientLength())})/100))`)):Qr===ri?Li=[Ro(k,it,je,Nt.gradient,mo),Oo(k,je,Nt.labels,mo)]:(Fi=$a(k,je),Li=[To(k,je,Nt,mo,Pt(Fi.columns))],Qi.size=nn(k,Z,Li[0].marks)),Li=[ps({role:He,from:$o,encode:va,marks:Li,layout:Fi,interactive:sr})],Ys.title&&Li.push(cs(k,je,Nt.title,$o)),vi(ps({role:he,from:$o,encode:R(Ts(Vt,k,je),An,hi),marks:Li,aria:Vt("aria"),description:Vt("description"),zindex:Vt("zindex"),name:kn,interactive:sr,style:hr}),Z)}function ya(k,Z){let je=k.type||jn;return!k.type&&No(k)===1&&(k.fill||k.stroke)&&(je=i.isContinuous(Z)?Yn:i.isDiscretizing(Z)?ri:jn),je!==Yn?je:i.isDiscretizing(Z)?ri:Yn}function No(k){return ho.reduce((Z,je)=>Z+(k[je]?1:0),0)}function Ts(k,Z,je){let Nt={enter:{},update:{}};return b(Nt,{orient:k("orient"),offset:k("offset"),padding:k("padding"),titlePadding:k("titlePadding"),cornerRadius:k("cornerRadius"),fill:k("fillColor"),stroke:k("strokeColor"),strokeWidth:je.strokeWidth,strokeDash:je.strokeDash,x:k("legendX"),y:k("legendY"),format:Z.format,formatType:Z.formatType}),Nt}function nn(k,Z,je){let Nt=Pt(Jn("size",k,je)),Vt=Pt(Jn("strokeWidth",k,je)),An=Pt(En(je[1].encode,Z,Zu));return t.parseExpression(`max(ceil(sqrt(${Nt})+${Vt}),${An})`,Z)}function Jn(k,Z,je){return Z[k]?`scale("${Z[k]}",datum)`:hu(k,je[0].encode)}function En(k,Z,je){return hu("fontSize",k)||Ps("fontSize",Z,je)}let Yr=`item.orient==="${ai}"?-90:item.orient==="${Xi}"?90:0`;function Ti(k,Z){k=e.isString(k)?{text:k}:k;let je=Zi(k,Z.config.title),Nt=k.encode||{},Vt=Nt.group||{},An=Vt.name||void 0,kn=Vt.interactive,sr=Vt.style,hr=[],Nr={},it=ft(Z.add(dt(null,[Nr])));return hr.push(Hi(k,je,ns(k),it)),k.subtitle&&hr.push(fs(k,je,Nt.subtitle,it)),vi(ps({role:Mt,from:it,encode:ms(je,Vt),marks:hr,aria:je("aria"),description:je("description"),zindex:je("zindex"),name:An,interactive:kn,style:sr}),Z)}function ns(k){let Z=k.encode;return Z&&Z.title||e.extend({name:k.name,interactive:k.interactive,style:k.style},Z)}function ms(k,Z){let je={enter:{},update:{}};return b(je,{orient:k("orient"),anchor:k("anchor"),align:{signal:ua},angle:{signal:Yr},limit:k("limit"),frame:k("frame"),offset:k("offset")||0,padding:k("subtitlePadding")}),R(je,Z,hi)}function Hi(k,Z,je,Nt){let Vt={value:0},An=k.text,kn={enter:{opacity:Vt},update:{opacity:{value:1}},exit:{opacity:Vt}};return b(kn,{text:An,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Z("dx"),dy:Z("dy"),fill:Z("color"),font:Z("font"),fontSize:Z("fontSize"),fontStyle:Z("fontStyle"),fontWeight:Z("fontWeight"),lineHeight:Z("lineHeight")},{align:Z("align"),angle:Z("angle"),baseline:Z("baseline")}),vs({type:ls,role:qe,style:Ge,from:Nt,encode:kn},je)}function fs(k,Z,je,Nt){let Vt={value:0},An=k.subtitle,kn={enter:{opacity:Vt},update:{opacity:{value:1}},exit:{opacity:Vt}};return b(kn,{text:An,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Z("dx"),dy:Z("dy"),fill:Z("subtitleColor"),font:Z("subtitleFont"),fontSize:Z("subtitleFontSize"),fontStyle:Z("subtitleFontStyle"),fontWeight:Z("subtitleFontWeight"),lineHeight:Z("subtitleLineHeight")},{align:Z("align"),angle:Z("angle"),baseline:Z("baseline")}),vs({type:ls,role:te,style:Kt,from:Nt,encode:kn},je)}function mu(k,Z){let je=[];k.transform&&k.transform.forEach(Nt=>{je.push($t(Nt,Z))}),k.on&&k.on.forEach(Nt=>{xs(Nt,Z,k.name)}),Z.addDataPipeline(k.name,le(k,Z,je))}function le(k,Z,je){let Nt=[],Vt=null,An=!1,kn=!1,sr,hr,Nr,it,Fi;for(k.values?On(k.values)||ze(k.format)?(Nt.push(en(Z,k)),Nt.push(Vt=ut())):Nt.push(Vt=ut({$ingest:k.values,$format:k.format})):k.url?ze(k.url)||ze(k.format)?(Nt.push(en(Z,k)),Nt.push(Vt=ut())):Nt.push(Vt=ut({$request:k.url,$format:k.format})):k.source&&(Vt=sr=e.array(k.source).map(Qi=>ft(Z.getData(Qi).output)),Nt.push(null)),hr=0,Nr=je.length;hr<Nr;++hr)it=je[hr],Fi=it.metadata,!Vt&&!Fi.source&&Nt.push(Vt=ut()),Nt.push(it),Fi.generates&&(kn=!0),Fi.modifies&&!kn&&(An=!0),Fi.source?Vt=it:Fi.changes&&(Vt=null);return sr&&(Nr=sr.length-1,Nt[0]=$e({derive:An,pulse:Nr?sr:sr[0]}),(An||Nr)&&Nt.splice(1,0,ut())),Vt||Nt.push(ut()),Nt.push(V({})),Nt}function ut(k){let Z=dt({},k);return Z.metadata={source:!0},Z}function en(k,Z){return We({url:Z.url?k.property(Z.url):void 0,async:Z.async?k.property(Z.async):void 0,values:Z.values?k.property(Z.values):void 0,format:k.objectProperty(Z.format)})}let Dn=k=>k===Cs||k===xi,ir=(k,Z,je)=>On(k)?Za(k.signal,Z,je):k===ai||k===xi?Z:je,vr=(k,Z,je)=>On(k)?Ls(k.signal,Z,je):Dn(k)?Z:je,dr=(k,Z,je)=>On(k)?oo(k.signal,Z,je):Dn(k)?je:Z,es=(k,Z,je)=>On(k)?sc(k.signal,Z,je):k===xi?{value:Z}:{value:je},_s=(k,Z,je)=>On(k)?sf(k.signal,Z,je):k===Xi?{value:Z}:{value:je},Ls=(k,Z,je)=>Ic(`${k} === '${xi}' || ${k} === '${Cs}'`,Z,je),oo=(k,Z,je)=>Ic(`${k} !== '${xi}' && ${k} !== '${Cs}'`,Z,je),Za=(k,Z,je)=>G0(`${k} === '${ai}' || ${k} === '${xi}'`,Z,je),sc=(k,Z,je)=>G0(`${k} === '${xi}'`,Z,je),sf=(k,Z,je)=>G0(`${k} === '${Xi}'`,Z,je),Ic=(k,Z,je)=>(Z=Z!=null?p(Z):Z,je=je!=null?p(je):je,l0(Z)&&l0(je)?(Z=Z?Z.signal||e.stringValue(Z.value):null,je=je?je.signal||e.stringValue(je.value):null,{signal:`${k} ? (${Z}) : (${je})`}):[e.extend({test:k},Z)].concat(je||[])),l0=k=>k==null||Object.keys(k).length===1,G0=(k,Z,je)=>({signal:`${k} ? (${of(Z)}) : (${of(je)})`}),oc=(k,Z,je,Nt,Vt)=>({signal:(Nt!=null?`${k} === '${ai}' ? (${of(Nt)}) : `:"")+(je!=null?`${k} === '${Cs}' ? (${of(je)}) : `:"")+(Vt!=null?`${k} === '${Xi}' ? (${of(Vt)}) : `:"")+(Z!=null?`${k} === '${xi}' ? (${of(Z)}) : `:"")+"(null)"}),of=k=>On(k)?k.signal:k==null?null:e.stringValue(k),c0=(k,Z)=>Z===0?0:On(k)?{signal:`(${k.signal}) * ${Z}`}:{value:k*Z},_l=(k,Z)=>{let je=k.signal;return je&&je.endsWith("(null)")?{signal:je.slice(0,-6)+Z.signal}:k};function Mc(k,Z,je,Nt){let Vt;if(Z&&e.hasOwnProperty(Z,k))return Z[k];if(e.hasOwnProperty(je,k))return je[k];if(k.startsWith("title")){switch(k){case"titleColor":Vt="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":Vt=k[5].toLowerCase()+k.slice(6)}return Nt[rf][Vt]}else if(k.startsWith("label")){switch(k){case"labelColor":Vt="fill";break;case"labelFont":case"labelFontSize":Vt=k[5].toLowerCase()+k.slice(6)}return Nt[Zu][Vt]}return null}function f0(k){let Z={};for(let je of k)if(!!je)for(let Nt in je)Z[Nt]=1;return Object.keys(Z)}function ac(k,Z){var je=Z.config,Nt=je.style,Vt=je.axis,An=Z.scaleType(k.scale)==="band"&&je.axisBand,kn=k.orient,sr,hr,Nr;if(On(kn)){let Fi=f0([je.axisX,je.axisY]),Qi=f0([je.axisTop,je.axisBottom,je.axisLeft,je.axisRight]);sr={};for(Nr of Fi)sr[Nr]=vr(kn,Mc(Nr,je.axisX,Vt,Nt),Mc(Nr,je.axisY,Vt,Nt));hr={};for(Nr of Qi)hr[Nr]=oc(kn.signal,Mc(Nr,je.axisTop,Vt,Nt),Mc(Nr,je.axisBottom,Vt,Nt),Mc(Nr,je.axisLeft,Vt,Nt),Mc(Nr,je.axisRight,Vt,Nt))}else sr=kn===xi||kn===Cs?je.axisX:je.axisY,hr=je["axis"+kn[0].toUpperCase()+kn.slice(1)];return sr||hr||An?e.extend({},Vt,sr,hr,An):Vt}function Wl(k,Z,je,Nt){let Vt=Zi(k,Z),An=k.orient,kn,sr,hr={enter:kn={opacity:bi},update:sr={opacity:Wi},exit:{opacity:bi}};b(hr,{stroke:Vt("domainColor"),strokeCap:Vt("domainCap"),strokeDash:Vt("domainDash"),strokeDashOffset:Vt("domainDashOffset"),strokeWidth:Vt("domainWidth"),strokeOpacity:Vt("domainOpacity")});let Nr=Y0(k,0),it=Y0(k,1);return kn.x=sr.x=vr(An,Nr,bi),kn.x2=sr.x2=vr(An,it),kn.y=sr.y=dr(An,Nr,bi),kn.y2=sr.y2=dr(An,it),vs({type:ha,role:P,from:Nt,encode:hr},je)}function Y0(k,Z){return{scale:k.scale,range:Z}}function Th(k,Z,je,Nt,Vt){let An=Zi(k,Z),kn=k.orient,sr=k.gridScale,hr=ir(kn,1,-1),Nr=K0(k.offset,hr),it,Fi,Qi,Li={enter:it={opacity:bi},update:Qi={opacity:Wi},exit:Fi={opacity:bi}};b(Li,{stroke:An("gridColor"),strokeCap:An("gridCap"),strokeDash:An("gridDash"),strokeDashOffset:An("gridDashOffset"),strokeOpacity:An("gridOpacity"),strokeWidth:An("gridWidth")});let Qr={scale:k.scale,field:na,band:Vt.band,extra:Vt.extra,offset:Vt.offset,round:An("tickRound")},Ys=vr(kn,{signal:"height"},{signal:"width"}),$o=sr?{scale:sr,range:0,mult:hr,offset:Nr}:{value:0,offset:Nr},va=sr?{scale:sr,range:1,mult:hr,offset:Nr}:e.extend(Ys,{mult:hr,offset:Nr});return it.x=Qi.x=vr(kn,Qr,$o),it.y=Qi.y=dr(kn,Qr,$o),it.x2=Qi.x2=dr(kn,va),it.y2=Qi.y2=vr(kn,va),Fi.x=vr(kn,Qr),Fi.y=dr(kn,Qr),vs({type:ha,role:W,key:na,from:Nt,encode:Li},je)}function K0(k,Z){if(Z!==1)if(!e.isObject(k))k=On(Z)?{signal:`(${Z.signal}) * (${k||0})`}:Z*(k||0);else{let je=k=e.extend({},k);for(;je.mult!=null;)if(e.isObject(je.mult))je=je.mult=e.extend({},je.mult);else return je.mult=On(Z)?{signal:`(${je.mult}) * (${Z.signal})`}:je.mult*Z,k;je.mult=Z}return k}function J0(k,Z,je,Nt,Vt,An){let kn=Zi(k,Z),sr=k.orient,hr=ir(sr,-1,1),Nr,it,Fi,Qi={enter:Nr={opacity:bi},update:Fi={opacity:Wi},exit:it={opacity:bi}};b(Qi,{stroke:kn("tickColor"),strokeCap:kn("tickCap"),strokeDash:kn("tickDash"),strokeDashOffset:kn("tickDashOffset"),strokeOpacity:kn("tickOpacity"),strokeWidth:kn("tickWidth")});let Li=p(Vt);Li.mult=hr;let Qr={scale:k.scale,field:na,band:An.band,extra:An.extra,offset:An.offset,round:kn("tickRound")};return Fi.y=Nr.y=vr(sr,bi,Qr),Fi.y2=Nr.y2=vr(sr,Li),it.x=vr(sr,Qr),Fi.x=Nr.x=dr(sr,bi,Qr),Fi.x2=Nr.x2=dr(sr,Li),it.y=dr(sr,Qr),vs({type:ha,role:I,key:na,from:Nt,encode:Qi},je)}function af(k,Z,je,Nt,Vt){return{signal:'flush(range("'+k+'"), scale("'+k+'", datum.value), '+Z+","+je+","+Nt+","+Vt+")"}}function X0(k,Z,je,Nt,Vt,An){let kn=Zi(k,Z),sr=k.orient,hr=k.scale,Nr=ir(sr,-1,1),it=Pt(kn("labelFlush")),Fi=Pt(kn("labelFlushOffset")),Qi=kn("labelAlign"),Li=kn("labelBaseline"),Qr=it===0||!!it,Ys,$o=p(Vt);$o.mult=Nr,$o.offset=p(kn("labelPadding")||0),$o.offset.mult=Nr;let va={scale:hr,field:na,band:.5,offset:Wo(An.offset,kn("labelOffset"))},mo=vr(sr,Qr?af(hr,it,'"left"','"right"','"center"'):{value:"center"},_s(sr,"left","right")),Ia=vr(sr,es(sr,"bottom","top"),Qr?af(hr,it,'"top"','"bottom"','"middle"'):{value:"middle"}),uc=af(hr,it,`-(${Fi})`,Fi,0);Qr=Qr&&Fi;let Ql={opacity:bi,x:vr(sr,va,$o),y:dr(sr,va,$o)},Ma={enter:Ql,update:Ys={opacity:Wi,text:{field:du},x:Ql.x,y:Ql.y,align:mo,baseline:Ia},exit:{opacity:bi,x:Ql.x,y:Ql.y}};b(Ma,{dx:!Qi&&Qr?vr(sr,uc):null,dy:!Li&&Qr?dr(sr,uc):null}),b(Ma,{angle:kn("labelAngle"),fill:kn("labelColor"),fillOpacity:kn("labelOpacity"),font:kn("labelFont"),fontSize:kn("labelFontSize"),fontWeight:kn("labelFontWeight"),fontStyle:kn("labelFontStyle"),limit:kn("labelLimit"),lineHeight:kn("labelLineHeight")},{align:Qi,baseline:Li});let lc=kn("labelBound"),_a=kn("labelOverlap");return _a=_a||lc?{separation:kn("labelSeparation"),method:_a,order:"datum.index",bound:lc?{scale:hr,orient:sr,tolerance:lc}:null}:void 0,Ys.align!==mo&&(Ys.align=_l(Ys.align,mo)),Ys.baseline!==Ia&&(Ys.baseline=_l(Ys.baseline,Ia)),vs({type:ls,role:oe,style:Zu,key:na,from:Nt,encode:Ma,overlap:_a},je)}function Pc(k,Z,je,Nt){let Vt=Zi(k,Z),An=k.orient,kn=ir(An,-1,1),sr,hr,Nr={enter:sr={opacity:bi,anchor:p(Vt("titleAnchor",null)),align:{signal:ua}},update:hr=e.extend({},sr,{opacity:Wi,text:p(k.title)}),exit:{opacity:bi}},it={signal:`lerp(range("${k.scale}"), ${ga(0,1,.5)})`};return hr.x=vr(An,it),hr.y=dr(An,it),sr.angle=vr(An,bi,c0(kn,90)),sr.baseline=vr(An,es(An,Cs,xi),{value:Cs}),hr.angle=sr.angle,hr.baseline=sr.baseline,b(Nr,{fill:Vt("titleColor"),fillOpacity:Vt("titleOpacity"),font:Vt("titleFont"),fontSize:Vt("titleFontSize"),fontStyle:Vt("titleFontStyle"),fontWeight:Vt("titleFontWeight"),limit:Vt("titleLimit"),lineHeight:Vt("titleLineHeight")},{align:Vt("titleAlign"),angle:Vt("titleAngle"),baseline:Vt("titleBaseline")}),d0(Vt,An,Nr,je),Nr.update.align=_l(Nr.update.align,sr.align),Nr.update.angle=_l(Nr.update.angle,sr.angle),Nr.update.baseline=_l(Nr.update.baseline,sr.baseline),vs({type:ls,role:J,style:rf,from:Nt,encode:Nr},je)}function d0(k,Z,je,Nt){let Vt=(sr,hr)=>sr!=null?(je.update[hr]=_l(p(sr),je.update[hr]),!1):!O(hr,Nt),An=Vt(k("titleX"),"x"),kn=Vt(k("titleY"),"y");je.enter.auto=kn===An?p(kn):vr(Z,p(kn),p(An))}function h0(k,Z){let je=ac(k,Z),Nt=k.encode||{},Vt=Nt.axis||{},An=Vt.name||void 0,kn=Vt.interactive,sr=Vt.style,hr=Zi(k,je),Nr=Oi(hr),it={scale:k.scale,ticks:!!hr("ticks"),labels:!!hr("labels"),grid:!!hr("grid"),domain:!!hr("domain"),title:k.title!=null},Fi=ft(Z.add(dt({},[it]))),Qi=ft(Z.add(hn({scale:Z.scaleRef(k.scale),extra:Z.property(Nr.extra),count:Z.objectProperty(k.tickCount),values:Z.objectProperty(k.values),minstep:Z.property(k.tickMinStep),formatType:Z.property(k.formatType),formatSpecifier:Z.property(k.format)}))),Li=[],Qr;return it.grid&&Li.push(Th(k,je,Nt.grid,Qi,Nr)),it.ticks&&(Qr=hr("tickSize"),Li.push(J0(k,je,Nt.ticks,Qi,Qr,Nr))),it.labels&&(Qr=it.ticks?Qr:0,Li.push(X0(k,je,Nt.labels,Qi,Qr,Nr))),it.domain&&Li.push(Wl(k,je,Nt.domain,Fi)),it.title&&Li.push(Pc(k,je,Nt.title,Fi)),vi(ps({role:q,from:Fi,encode:R(p0(hr,k),Vt,hi),marks:Li,aria:hr("aria"),description:hr("description"),zindex:hr("zindex"),name:An,interactive:kn,style:sr}),Z)}function p0(k,Z){let je={enter:{},update:{}};return b(je,{orient:k("orient"),offset:k("offset")||0,position:De(Z.position,0),titlePadding:k("titlePadding"),minExtent:k("minExtent"),maxExtent:k("maxExtent"),range:{signal:`abs(span(range("${Z.scale}")))`},translate:k("translate"),format:Z.format,formatType:Z.formatType}),je}function Uo(k,Z,je){let Nt=e.array(k.signals),Vt=e.array(k.scales);return je||Nt.forEach(An=>Ke(An,Z)),e.array(k.projections).forEach(An=>yr(An,Z)),Vt.forEach(An=>Qe(An,Z)),e.array(k.data).forEach(An=>mu(An,Z)),Vt.forEach(An=>It(An,Z)),(je||Nt).forEach(An=>Be(An,Z)),e.array(k.axes).forEach(An=>h0(An,Z)),e.array(k.marks).forEach(An=>vi(An,Z)),e.array(k.legends).forEach(An=>ss(An,Z)),k.title&&Ti(k.title,Z),Z.parseLambdas(),Z}let Zo=k=>R({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},k);function m0(k,Z){let je=Z.config,Nt=ft(Z.root=Z.add(nt())),Vt=uf(k,je);Vt.forEach(Nr=>Ke(Nr,Z)),Z.description=k.description||je.description,Z.eventConfig=je.events,Z.legends=Z.objectProperty(je.legend&&je.legend.layout),Z.locale=je.locale;let An=Z.add(dt()),kn=Z.add(Ue(tn(Zo(k.encode),Xo,$,k.style,Z,{pulse:ft(An)}))),sr=Z.add(xe({layout:Z.objectProperty(k.layout),legends:Z.legends,autosize:Z.signalRef("autosize"),mark:Nt,pulse:ft(kn)}));Z.operators.pop(),Z.pushState(ft(kn),ft(sr),null),Uo(k,Z,Vt),Z.operators.push(sr);let hr=Z.add(an({mark:Nt,pulse:ft(sr)}));return hr=Z.add(Ft({pulse:ft(hr)})),hr=Z.add(V({pulse:ft(hr)})),Z.addData("root",new ii(Z,An,An,hr)),Z}function El(k,Z){return Z&&Z.signal?{name:k,update:Z.signal}:{name:k,value:Z}}function uf(k,Z){let je=kn=>De(k[kn],Z[kn]),Nt=[El("background",je("background")),El("autosize",o(je("autosize"))),El("padding",f(je("padding"))),El("width",je("width")||0),El("height",je("height")||0)],Vt=Nt.reduce((kn,sr)=>(kn[sr.name]=sr,kn),{}),An={};return e.array(k.signals).forEach(kn=>{e.hasOwnProperty(Vt,kn.name)?kn=e.extend(Vt[kn.name],kn):Nt.push(kn),An[kn.name]=kn}),e.array(Z.signals).forEach(kn=>{!e.hasOwnProperty(An,kn.name)&&!e.hasOwnProperty(Vt,kn.name)&&Nt.push(kn)}),Nt}function qd(k,Z){this.config=k||{},this.options=Z||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function Ru(k){this.config=k.config,this.options=k.options,this.legends=k.legends,this.field=Object.create(k.field),this.signals=Object.create(k.signals),this.lambdas=Object.create(k.lambdas),this.scales=Object.create(k.scales),this.events=Object.create(k.events),this.data=Object.create(k.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++k._nextsub[0],this._nextsub=k._nextsub,this._parent=k._parent.slice(),this._encode=k._encode.slice(),this._lookup=k._lookup.slice(),this._markpath=k._markpath}qd.prototype=Ru.prototype={parse(k){return Uo(k,this)},fork(){return new Ru(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(k){return this.operators.push(k),k.id=this.id(),k.refs&&(k.refs.forEach(Z=>{Z.$ref=k.id}),k.refs=null),k},proxy(k){let Z=k instanceof re?ft(k):k;return this.add(Oe({value:Z}))},addStream(k){return this.streams.push(k),k.id=this.id(),k},addUpdate(k){return this.updates.push(k),k},finish(){let k,Z;this.root&&(this.root.root=!0);for(k in this.signals)this.signals[k].signal=k;for(k in this.scales)this.scales[k].scale=k;function je(Nt,Vt,An){let kn,sr;Nt&&(kn=Nt.data||(Nt.data={}),sr=kn[Vt]||(kn[Vt]=[]),sr.push(An))}for(k in this.data){Z=this.data[k],je(Z.input,k,"input"),je(Z.output,k,"output"),je(Z.values,k,"values");for(let Nt in Z.index)je(Z.index[Nt],k,"index:"+Nt)}return this},pushState(k,Z,je){this._encode.push(ft(this.add(V({pulse:k})))),this._parent.push(Z),this._lookup.push(je?ft(this.proxy(je)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return e.peek(this._parent)},encode(){return e.peek(this._encode)},lookup(){return e.peek(this._lookup)},markpath(){let k=this._markpath;return++k[k.length-1]},fieldRef(k,Z){if(e.isString(k))return Rt(k,Z);k.signal||e.error("Unsupported field reference: "+e.stringValue(k));let je=k.signal,Nt=this.field[je];if(!Nt){let Vt={name:this.signalRef(je)};Z&&(Vt.as=Z),this.field[je]=Nt=ft(this.add(Ot(Vt)))}return Nt},compareRef(k){let Z=!1,je=An=>On(An)?(Z=!0,this.signalRef(An.signal)):Ne(An)?(Z=!0,this.exprRef(An.expr)):An,Nt=e.array(k.field).map(je),Vt=e.array(k.order).map(je);return Z?ft(this.add(ie({fields:Nt,orders:Vt}))):Gt(Nt,Vt)},keyRef(k,Z){let je=!1,Nt=An=>On(An)?(je=!0,ft(Vt[An.signal])):An,Vt=this.signals;return k=e.array(k).map(Nt),je?ft(this.add(ne({fields:k,flat:Z}))):fn(k,Z)},sortRef(k){if(!k)return k;let Z=un(k.op,k.field),je=k.order||gn;return je.signal?ft(this.add(ie({fields:Z,orders:this.signalRef(je.signal)}))):Gt(Z,je)},event(k,Z){let je=k+":"+Z;if(!this.events[je]){let Nt=this.id();this.streams.push({id:Nt,source:k,type:Z}),this.events[je]=Nt}return this.events[je]},hasOwnSignal(k){return e.hasOwnProperty(this.signals,k)},addSignal(k,Z){this.hasOwnSignal(k)&&e.error("Duplicate signal name: "+e.stringValue(k));let je=Z instanceof re?Z:this.add(nt(Z));return this.signals[k]=je},getSignal(k){return this.signals[k]||e.error("Unrecognized signal name: "+e.stringValue(k)),this.signals[k]},signalRef(k){return this.signals[k]?ft(this.signals[k]):(e.hasOwnProperty(this.lambdas,k)||(this.lambdas[k]=this.add(nt(null))),ft(this.lambdas[k]))},parseLambdas(){let k=Object.keys(this.lambdas);for(let Z=0,je=k.length;Z<je;++Z){let Nt=k[Z],Vt=t.parseExpression(Nt,this),An=this.lambdas[Nt];An.params=Vt.$params,An.update=Vt.$expr}},property(k){return k&&k.signal?this.signalRef(k.signal):k},objectProperty(k){return!k||!e.isObject(k)?k:this.signalRef(k.signal||_o(k))},exprRef(k,Z){let je={expr:t.parseExpression(k,this)};return Z&&(je.expr.$name=Z),ft(this.add(gt(je)))},addBinding(k,Z){this.bindings||e.error("Nested signals do not support binding: "+e.stringValue(k)),this.bindings.push(e.extend({signal:k},Z))},addScaleProj(k,Z){e.hasOwnProperty(this.scales,k)&&e.error("Duplicate scale or projection name: "+e.stringValue(k)),this.scales[k]=this.add(Z)},addScale(k,Z){this.addScaleProj(k,N(Z))},addProjection(k,Z){this.addScaleProj(k,zn(Z))},getScale(k){return this.scales[k]||e.error("Unrecognized scale name: "+e.stringValue(k)),this.scales[k]},scaleRef(k){return ft(this.getScale(k))},scaleType(k){return this.getScale(k).params.type},projectionRef(k){return this.scaleRef(k)},projectionType(k){return this.scaleType(k)},addData(k,Z){return e.hasOwnProperty(this.data,k)&&e.error("Duplicate data set name: "+e.stringValue(k)),this.data[k]=Z},getData(k){return this.data[k]||e.error("Undefined data set name: "+e.stringValue(k)),this.data[k]},addDataPipeline(k,Z){return e.hasOwnProperty(this.data,k)&&e.error("Duplicate data set name: "+e.stringValue(k)),this.addData(k,ii.fromEntries(this,Z))}};function _o(k){return(e.isArray(k)?Fh:bl)(k)}function Fh(k){let Z=k.length,je="[";for(let Nt=0;Nt<Z;++Nt){let Vt=k[Nt];je+=(Nt>0?",":"")+(e.isObject(Vt)?Vt.signal||_o(Vt):e.stringValue(Vt))}return je+"]"}function bl(k){let Z="{",je=0,Nt,Vt;for(Nt in k)Vt=k[Nt],Z+=(++je>1?",":"")+e.stringValue(Nt)+":"+(e.isObject(Vt)?Vt.signal||_o(Vt):e.stringValue(Vt));return Z+"}"}function Is(){let k="sans-serif",Z=30,je=2,Nt="#4c78a8",Vt="#000",An="#888",kn="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:Nt},area:{fill:Nt},image:null,line:{stroke:Nt,strokeWidth:je},path:{stroke:Nt},rect:{fill:Nt},rule:{stroke:Vt},shape:{stroke:Nt},symbol:{fill:Nt,size:64},text:{fill:Vt,font:k,fontSize:11},trail:{fill:Nt,size:je},style:{"guide-label":{fill:Vt,font:k,fontSize:10},"guide-title":{fill:Vt,font:k,fontSize:11,fontWeight:"bold"},"group-title":{fill:Vt,font:k,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:Vt,font:k,fontSize:12},point:{size:Z,strokeWidth:je,shape:"circle"},circle:{size:Z,strokeWidth:je},square:{size:Z,strokeWidth:je,shape:"square"},cell:{fill:"transparent",stroke:kn}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:An,grid:!1,gridWidth:1,gridColor:kn,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:An,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:kn,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:An,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function Sl(k,Z,je){return e.isObject(k)||e.error("Input Vega specification must be an object."),Z=e.mergeConfig(Is(),Z,k.config),m0(k,new qd(Z,je)).toRuntime()}n.AxisDomainRole=P,n.AxisGridRole=W,n.AxisLabelRole=oe,n.AxisRole=q,n.AxisTickRole=I,n.AxisTitleRole=J,n.DataScope=ii,n.FrameRole=$,n.LegendEntryRole=He,n.LegendLabelRole=ct,n.LegendRole=he,n.LegendSymbolRole=Ze,n.LegendTitleRole=bt,n.MarkRole=j,n.Scope=qd,n.ScopeRole=L,n.config=Is,n.parse=Sl,n.signal=Ke,n.signalUpdates=Be,n.stream=xt,Object.defineProperty(n,"__esModule",{value:!0})})});var kle=Ae(Gs=>{"use strict";m();Object.defineProperty(Gs,"__esModule",{value:!0});var Lle=Tu(),Pd=o0(),o3t=zDe(),a3t=GDe(),u3t=KDe(),l3t=ZDe(),c3t=tRe(),f3t=rRe(),d3t=sRe(),h3t=aRe(),p3t=lRe(),m3t=fRe(),x3t=hRe(),CRe=mb(),wRe=m9(),ARe=uV(),TRe=x9(),g9=xb(),g3t=Rle(),y3t=_Re(),EN=vN(),v3t=RV(),_3t=SRe(),E3t=Ole(),FRe=TV(),b3t=Nle();function Xm(n){if(n&&n.__esModule)return n;var e=Object.create(null);return n&&Object.keys(n).forEach(function(t){if(t!=="default"){var r=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:function(){return n[t]}})}}),e.default=n,Object.freeze(e)}var S3t=Xm(o3t),C3t=Xm(a3t),w3t=Xm(u3t),A3t=Xm(l3t),T3t=Xm(c3t),F3t=Xm(f3t),D3t=Xm(d3t),R3t=Xm(h3t),O3t=Xm(p3t),N3t=Xm(m3t),L3t=Xm(x3t),k3t="5.22.1";Lle.extend(Pd.transforms,S3t,C3t,w3t,A3t,T3t,D3t,F3t,R3t,O3t,N3t,L3t);Object.defineProperty(Gs,"Dataflow",{enumerable:!0,get:function(){return Pd.Dataflow}});Object.defineProperty(Gs,"EventStream",{enumerable:!0,get:function(){return Pd.EventStream}});Object.defineProperty(Gs,"MultiPulse",{enumerable:!0,get:function(){return Pd.MultiPulse}});Object.defineProperty(Gs,"Operator",{enumerable:!0,get:function(){return Pd.Operator}});Object.defineProperty(Gs,"Parameters",{enumerable:!0,get:function(){return Pd.Parameters}});Object.defineProperty(Gs,"Pulse",{enumerable:!0,get:function(){return Pd.Pulse}});Object.defineProperty(Gs,"Transform",{enumerable:!0,get:function(){return Pd.Transform}});Object.defineProperty(Gs,"changeset",{enumerable:!0,get:function(){return Pd.changeset}});Object.defineProperty(Gs,"definition",{enumerable:!0,get:function(){return Pd.definition}});Object.defineProperty(Gs,"ingest",{enumerable:!0,get:function(){return Pd.ingest}});Object.defineProperty(Gs,"isTuple",{enumerable:!0,get:function(){return Pd.isTuple}});Object.defineProperty(Gs,"transform",{enumerable:!0,get:function(){return Pd.transform}});Object.defineProperty(Gs,"transforms",{enumerable:!0,get:function(){return Pd.transforms}});Object.defineProperty(Gs,"tupleid",{enumerable:!0,get:function(){return Pd.tupleid}});Object.defineProperty(Gs,"interpolate",{enumerable:!0,get:function(){return g9.interpolate}});Object.defineProperty(Gs,"interpolateColors",{enumerable:!0,get:function(){return g9.interpolateColors}});Object.defineProperty(Gs,"interpolateRange",{enumerable:!0,get:function(){return g9.interpolateRange}});Object.defineProperty(Gs,"quantizeInterpolator",{enumerable:!0,get:function(){return g9.quantizeInterpolator}});Object.defineProperty(Gs,"scale",{enumerable:!0,get:function(){return g9.scale}});Object.defineProperty(Gs,"scheme",{enumerable:!0,get:function(){return g9.scheme}});Object.defineProperty(Gs,"projection",{enumerable:!0,get:function(){return g3t.projection}});Object.defineProperty(Gs,"View",{enumerable:!0,get:function(){return y3t.View}});Object.defineProperty(Gs,"defaultLocale",{enumerable:!0,get:function(){return EN.defaultLocale}});Object.defineProperty(Gs,"formatLocale",{enumerable:!0,get:function(){return EN.numberFormatDefaultLocale}});Object.defineProperty(Gs,"locale",{enumerable:!0,get:function(){return EN.locale}});Object.defineProperty(Gs,"resetDefaultLocale",{enumerable:!0,get:function(){return EN.resetDefaultLocale}});Object.defineProperty(Gs,"timeFormatLocale",{enumerable:!0,get:function(){return EN.timeFormatDefaultLocale}});Object.defineProperty(Gs,"expressionFunction",{enumerable:!0,get:function(){return v3t.expressionFunction}});Object.defineProperty(Gs,"parse",{enumerable:!0,get:function(){return _3t.parse}});Object.defineProperty(Gs,"runtimeContext",{enumerable:!0,get:function(){return E3t.context}});Object.defineProperty(Gs,"codegenExpression",{enumerable:!0,get:function(){return FRe.codegenExpression}});Object.defineProperty(Gs,"parseExpression",{enumerable:!0,get:function(){return FRe.parseExpression}});Object.defineProperty(Gs,"parseSelector",{enumerable:!0,get:function(){return b3t.parseSelector}});Gs.version=k3t;Object.keys(Lle).forEach(function(n){n!=="default"&&!Gs.hasOwnProperty(n)&&Object.defineProperty(Gs,n,{enumerable:!0,get:function(){return Lle[n]}})});Object.keys(CRe).forEach(function(n){n!=="default"&&!Gs.hasOwnProperty(n)&&Object.defineProperty(Gs,n,{enumerable:!0,get:function(){return CRe[n]}})});Object.keys(wRe).forEach(function(n){n!=="default"&&!Gs.hasOwnProperty(n)&&Object.defineProperty(Gs,n,{enumerable:!0,get:function(){return wRe[n]}})});Object.keys(ARe).forEach(function(n){n!=="default"&&!Gs.hasOwnProperty(n)&&Object.defineProperty(Gs,n,{enumerable:!0,get:function(){return ARe[n]}})});Object.keys(TRe).forEach(function(n){n!=="default"&&!Gs.hasOwnProperty(n)&&Object.defineProperty(Gs,n,{enumerable:!0,get:function(){return TRe[n]}})})});var RRe=Ae((IV,DRe)=>{m();(function(n,e){typeof IV=="object"&&typeof DRe!="undefined"?e(IV,kle()):typeof define=="function"&&define.amd?define(["exports","vega"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vegaLite={},n.vega))})(IV,function(n,e){"use strict";var t="vega-lite",r='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',i="5.5.0",s=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],o="https://vega.github.io/vega-lite/",a="Vega-Lite is a concise high-level language for interactive visualization.",l=["vega","chart","visualization"],f="build/vega-lite.js",p="build/vega-lite.min.js",_="build/vega-lite.min.js",b="build/src/index",R="build/src/index.d.ts",O={vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2pdf:"./bin/vl2pdf",vl2vg:"./bin/vl2vg"},j=["bin","build","src","vega-lite*","tsconfig.json"],$={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.js","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json","predeploy:site":"yarn presite","deploy:site":"gh-pages -d site",data:"rsync -r node_modules/vega-datasets/data/* site/data",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",eslintbase:"eslint .",format:"yarn eslintbase --fix && yarn prettierbase --write",lint:"yarn eslintbase && yarn prettierbase --check",jest:"NODE_OPTIONS=--experimental-vm-modules npx jest",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk --experimental-vm-modules ./node_modules/.bin/jest --runInBand test","test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"yarn run prebuild && yarn build && yarn shipit",shipit:"auto shipit"},L={type:"git",url:"https://github.com/vega/vega-lite.git"},q="BSD-3-Clause",P={url:"https://github.com/vega/vega-lite/issues"},W={"@auto-it/conventional-commits":"^10.37.6","@auto-it/first-time-contributor":"^10.37.6","@babel/core":"^7.19.1","@babel/preset-env":"^7.19.1","@babel/preset-typescript":"^7.18.6","@rollup/plugin-alias":"^4.0.0","@rollup/plugin-babel":"^6.0.0","@rollup/plugin-commonjs":"^23.0.0","@rollup/plugin-json":"^4.1.0","@types/jest":"^27.4.1","@rollup/plugin-node-resolve":"^14.1.0","@types/chai":"^4.3.3","@types/d3":"^7.4.0","@types/mkdirp":"^1.0.2","@types/pako":"^2.0.0","@typescript-eslint/eslint-plugin":"^5.38.0","@typescript-eslint/parser":"^5.38.0",ajv:"^8.11.0","ajv-formats":"^2.1.1",auto:"^10.37.6",chai:"^4.3.6",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^2.2.2",d3:"^7.6.1","del-cli":"^5.0.0",eslint:"^8.23.1","eslint-config-prettier":"^8.5.0","eslint-plugin-jest":"^27.0.4","eslint-plugin-prettier":"^4.2.1","gh-pages":"^4.0.0",jest:"^27.5.1","highlight.js":"^11.6.0","jest-dev-server":"^6.1.1",mkdirp:"^1.0.4",pako:"^2.0.4",prettier:"^2.7.1",puppeteer:"^15.0.0",rollup:"^2.79.1","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-sourcemaps":"^0.6.3","rollup-plugin-terser":"^7.0.2",serve:"^14.0.1",terser:"^5.15.0","ts-jest":"^29.0.1","ts-json-schema-generator":"^1.1.1","vega-cli":"^5.22.1",typescript:"~4.8.3","vega-datasets":"~2.5.1","vega-embed":"^6.21.0","vega-tooltip":"^0.28.0","yaml-front-matter":"^4.1.1"},oe={"@types/clone":"~2.1.1",clone:"~2.1.2","fast-deep-equal":"~3.1.3","fast-json-stable-stringify":"~2.1.0","json-stringify-pretty-compact":"~3.0.0",tslib:"~2.4.0","vega-event-selector":"~3.0.0","vega-expression":"~5.0.0","vega-util":"~1.17.0",yargs:"~17.6.0"},I={vega:"^5.22.0"},J={node:">=12"},he={name:t,author:r,version:i,collaborators:s,homepage:o,description:a,keywords:l,main:f,unpkg:p,jsdelivr:_,module:b,types:R,bin:O,files:j,scripts:$,repository:L,license:q,bugs:P,devDependencies:W,dependencies:oe,peerDependencies:I,engines:J},ye={exports:{}};(function(u){var c=function(){function d(on,Mn){return Mn!=null&&on instanceof Mn}var g;try{g=Map}catch{g=function(){}}var E;try{E=Set}catch{E=function(){}}var D;try{D=Promise}catch{D=function(){}}function M(on,Mn,Xn,lr,pr){typeof Mn=="object"&&(Xn=Mn.depth,lr=Mn.prototype,pr=Mn.includeNonEnumerable,Mn=Mn.circular);var kr=[],Ni=[],Ui=typeof Buffer!="undefined";typeof Mn=="undefined"&&(Mn=!0),typeof Xn=="undefined"&&(Xn=1/0);function Os(ji,ia){if(ji===null)return null;if(ia===0)return ji;var as,ll;if(typeof ji!="object")return ji;if(d(ji,g))as=new g;else if(d(ji,E))as=new E;else if(d(ji,D))as=new D(function(h2,A3){ji.then(function(T3){h2(Os(T3,ia-1))},function(T3){A3(Os(T3,ia-1))})});else if(M.__isArray(ji))as=[];else if(M.__isRegExp(ji))as=new RegExp(ji.source,qt(ji)),ji.lastIndex&&(as.lastIndex=ji.lastIndex);else if(M.__isDate(ji))as=new Date(ji.getTime());else{if(Ui&&Buffer.isBuffer(ji))return Buffer.allocUnsafe?as=Buffer.allocUnsafe(ji.length):as=new Buffer(ji.length),ji.copy(as),as;d(ji,Error)?as=Object.create(ji):typeof lr=="undefined"?(ll=Object.getPrototypeOf(ji),as=Object.create(ll)):(as=Object.create(lr),ll=lr)}if(Mn){var Rl=kr.indexOf(ji);if(Rl!=-1)return Ni[Rl];kr.push(ji),Ni.push(as)}d(ji,g)&&ji.forEach(function(h2,A3){var T3=Os(A3,ia-1),Ck=Os(h2,ia-1);as.set(T3,Ck)}),d(ji,E)&&ji.forEach(function(h2){var A3=Os(h2,ia-1);as.add(A3)});for(var xc in ji){var pg;ll&&(pg=Object.getOwnPropertyDescriptor(ll,xc)),!(pg&&pg.set==null)&&(as[xc]=Os(ji[xc],ia-1))}if(Object.getOwnPropertySymbols)for(var mg=Object.getOwnPropertySymbols(ji),xc=0;xc<mg.length;xc++){var xg=mg[xc],lm=Object.getOwnPropertyDescriptor(ji,xg);lm&&!lm.enumerable&&!pr||(as[xg]=Os(ji[xg],ia-1),lm.enumerable||Object.defineProperty(as,xg,{enumerable:!1}))}if(pr)for(var gg=Object.getOwnPropertyNames(ji),xc=0;xc<gg.length;xc++){var yg=gg[xc],lm=Object.getOwnPropertyDescriptor(ji,yg);lm&&lm.enumerable||(as[yg]=Os(ji[yg],ia-1),Object.defineProperty(as,yg,{enumerable:!1}))}return as}return Os(on,Xn)}M.clonePrototype=function(Mn){if(Mn===null)return null;var Xn=function(){};return Xn.prototype=Mn,new Xn};function G(on){return Object.prototype.toString.call(on)}M.__objToStr=G;function se(on){return typeof on=="object"&&G(on)==="[object Date]"}M.__isDate=se;function Ve(on){return typeof on=="object"&&G(on)==="[object Array]"}M.__isArray=Ve;function Xe(on){return typeof on=="object"&&G(on)==="[object RegExp]"}M.__isRegExp=Xe;function qt(on){var Mn="";return on.global&&(Mn+="g"),on.ignoreCase&&(Mn+="i"),on.multiline&&(Mn+="m"),Mn}return M.__getRegExpFlags=qt,M}();u.exports&&(u.exports=c)})(ye);var He=ye.exports,at=function u(c,d){if(c===d)return!0;if(c&&d&&typeof c=="object"&&typeof d=="object"){if(c.constructor!==d.constructor)return!1;var g,E,D;if(Array.isArray(c)){if(g=c.length,g!=d.length)return!1;for(E=g;E--!==0;)if(!u(c[E],d[E]))return!1;return!0}if(c.constructor===RegExp)return c.source===d.source&&c.flags===d.flags;if(c.valueOf!==Object.prototype.valueOf)return c.valueOf()===d.valueOf();if(c.toString!==Object.prototype.toString)return c.toString()===d.toString();if(D=Object.keys(c),g=D.length,g!==Object.keys(d).length)return!1;for(E=g;E--!==0;)if(!Object.prototype.hasOwnProperty.call(d,D[E]))return!1;for(E=g;E--!==0;){var M=D[E];if(!u(c[M],d[M]))return!1}return!0}return c!==c&&d!==d},ct=function(u,c){c||(c={}),typeof c=="function"&&(c={cmp:c});var d=typeof c.cycles=="boolean"?c.cycles:!1,g=c.cmp&&function(D){return function(M){return function(G,se){var Ve={key:G,value:M[G]},Xe={key:se,value:M[se]};return D(Ve,Xe)}}}(c.cmp),E=[];return function D(M){if(M&&M.toJSON&&typeof M.toJSON=="function"&&(M=M.toJSON()),M!==void 0){if(typeof M=="number")return isFinite(M)?""+M:"null";if(typeof M!="object")return JSON.stringify(M);var G,se;if(Array.isArray(M)){for(se="[",G=0;G<M.length;G++)G&&(se+=","),se+=D(M[G])||"null";return se+"]"}if(M===null)return"null";if(E.indexOf(M)!==-1){if(d)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var Ve=E.push(M)-1,Xe=Object.keys(M).sort(g&&g(M));for(se="",G=0;G<Xe.length;G++){var qt=Xe[G],on=D(M[qt]);!on||(se&&(se+=","),se+=JSON.stringify(qt)+":"+on)}return E.splice(Ve,1),"{"+se+"}"}}(u)};function Ze(u){return!!u.or}function bt(u){return!!u.and}function Mt(u){return!!u.not}function qe(u,c){if(Mt(u))qe(u.not,c);else if(bt(u))for(let d of u.and)qe(d,c);else if(Ze(u))for(let d of u.or)qe(d,c);else c(u)}function te(u,c){return Mt(u)?{not:te(u.not,c)}:bt(u)?{and:u.and.map(d=>te(d,c))}:Ze(u)?{or:u.or.map(d=>te(d,c))}:c(u)}let et=at,Ee=He;function ke(u){throw new Error(u)}function Ce(u,c){let d={};for(let g of c)e.hasOwnProperty(u,g)&&(d[g]=u[g]);return d}function pe(u,c){let d={...u};for(let g of c)delete d[g];return d}Set.prototype.toJSON=function(){return`Set(${[...this].map(u=>ct(u)).join(",")})`};let Je=ct;function lt(u){if(e.isNumber(u))return u;let c=e.isString(u)?u:ct(u);if(c.length<250)return c;let d=0;for(let g=0;g<c.length;g++){let E=c.charCodeAt(g);d=(d<<5)-d+E,d=d&d}return d}function Ht(u){return u===!1||u===null}function wt(u,c){return u.includes(c)}function mn(u,c){let d=0;for(let[g,E]of u.entries())if(c(E,g,d++))return!0;return!1}function kt(u,c){let d=0;for(let[g,E]of u.entries())if(!c(E,g,d++))return!1;return!0}function Bt(u){for(var c=arguments.length,d=new Array(c>1?c-1:0),g=1;g<c;g++)d[g-1]=arguments[g];for(let E of d)tn(u,E??{});return u}function tn(u,c){for(let d of re(c))e.writeConfig(u,d,c[d],!0)}function Et(u,c){let d=[],g={},E;for(let D of u)E=c(D),!(E in g)&&(g[E]=1,d.push(D));return d}function ve(u,c){let d=re(u),g=re(c);if(d.length!==g.length)return!1;for(let E of d)if(u[E]!==c[E])return!1;return!0}function Le(u,c){if(u.size!==c.size)return!1;for(let d of u)if(!c.has(d))return!1;return!0}function _e(u,c){for(let d of u)if(c.has(d))return!0;return!1}function ce(u){let c=new Set;for(let d of u){let E=e.splitAccessPath(d).map((M,G)=>G===0?M:`[${M}]`),D=E.map((M,G)=>E.slice(0,G+1).join(""));for(let M of D)c.add(M)}return c}function tt(u,c){return u===void 0||c===void 0?!0:_e(ce(u),ce(c))}function Ke(u){return re(u).length===0}let re=Object.keys,Re=Object.values,nt=Object.entries;function ft(u){return u===!0||u===!1}function Rt(u){let c=u.replace(/\W/g,"_");return(u.match(/^\d+/)?"_":"")+c}function Yt(u,c){return Mt(u)?`!(${Yt(u.not,c)})`:bt(u)?`(${u.and.map(d=>Yt(d,c)).join(") && (")})`:Ze(u)?`(${u.or.map(d=>Yt(d,c)).join(") || (")})`:c(u)}function Gt(u,c){if(c.length===0)return!0;let d=c.shift();return d in u&&Gt(u[d],c)&&delete u[d],Ke(u)}function fn(u){return u.charAt(0).toUpperCase()+u.substr(1)}function gn(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"datum",d=e.splitAccessPath(u),g=[];for(let E=1;E<=d.length;E++){let D=`[${d.slice(0,E).map(e.stringValue).join("][")}]`;g.push(`${c}${D}`)}return g.join(" && ")}function yn(u){return`${arguments.length>1&&arguments[1]!==void 0?arguments[1]:"datum"}[${e.stringValue(e.splitAccessPath(u).join("."))}]`}function Lt(u){return u.replace(/(\[|\]|\.|'|")/g,"\\$1")}function un(u){return`${e.splitAccessPath(u).map(Lt).join("\\.")}`}function Pn(u,c,d){return u.replace(new RegExp(c.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),d)}function nr(u){return`${e.splitAccessPath(u).join(".")}`}function On(u){return u?e.splitAccessPath(u).length:0}function Ne(){for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];for(let g of c)if(g!==void 0)return g}let ze=42;function De(u){let c=++ze;return u?String(u)+c:c}function Pt(){ze=42}function mt(u){return xt(u)?u:`__${u}`}function xt(u){return u.startsWith("__")}function rn(u){if(u!==void 0)return(u%360+360)%360}function Qt(u){return e.isNumber(u)?!0:!isNaN(u)&&!isNaN(parseFloat(u))}let Fn="row",Wn="column",Zn="facet",Nn="x",rr="y",Ye="x2",vt="y2",ae="xOffset",Be="yOffset",rt="radius",Dt="radius2",hn="theta",an="theta2",dt="latitude",ie="longitude",Te="latitude2",Ue="longitude2",gt="color",St="fill",Ot="stroke",ne="shape",we="size",We="angle",st="opacity",Ut="fillOpacity",sn="strokeOpacity",wn="strokeWidth",bn="strokeDash",vn="text",zn="order",Oe="detail",$e="key",Ft="tooltip",N="href",V="url",be="description",xe={x:1,y:1,x2:1,y2:1},K={theta:1,theta2:1,radius:1,radius2:1};function ue(u){return u in K}let fe={longitude:1,longitude2:1,latitude:1,latitude2:1};function Qe(u){switch(u){case dt:return"y";case Te:return"y2";case ie:return"x";case Ue:return"x2"}}function It(u){return u in fe}let At=re(fe),dn={...xe,...K,...fe,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function C(u){return u===gt||u===St||u===Ot}let B={row:1,column:1,facet:1},ee=re(B),Se={...dn,...B},ht=re(Se),{order:Tt,detail:Zt,tooltip:Xt,...xn}=Se,{row:qn,column:Un,facet:Vn,...Jr}=xn;function Wr(u){return!!Jr[u]}function yr(u){return!!Se[u]}let Mr=[Ye,vt,Te,Ue,an,Dt];function xi(u){return ai(u)!==u}function ai(u){switch(u){case Ye:return Nn;case vt:return rr;case Te:return dt;case Ue:return ie;case an:return hn;case Dt:return rt}return u}function Xi(u){if(ue(u))switch(u){case hn:return"startAngle";case an:return"endAngle";case rt:return"outerRadius";case Dt:return"innerRadius"}return u}function Cs(u){switch(u){case Nn:return Ye;case rr:return vt;case dt:return Te;case ie:return Ue;case hn:return an;case rt:return Dt}}function ts(u){switch(u){case Nn:case Ye:return"width";case rr:case vt:return"height"}}function Aa(u){switch(u){case Nn:return"xOffset";case rr:return"yOffset";case Ye:return"x2Offset";case vt:return"y2Offset";case hn:return"thetaOffset";case rt:return"radiusOffset";case an:return"theta2Offset";case Dt:return"radius2Offset"}}function xa(u){switch(u){case Nn:return"xOffset";case rr:return"yOffset"}}function yl(u){switch(u){case"xOffset":return"x";case"yOffset":return"y"}}let Lc=re(dn),{x:fu,y:du,x2:Xu,y2:Du,xOffset:kc,yOffset:na,latitude:Zu,longitude:rf,latitude2:Ge,longitude2:Kt,theta:jn,theta2:Yn,radius:ri,radius2:Br,...Xr}=dn,As=re(Xr),fo={x:1,y:1},io=re(fo);function us(u){return u in fo}let so={theta:1,radius:1},ho=re(so);function hi(u){return u==="width"?Nn:rr}let bi={xOffset:1,yOffset:1};function Wi(u){return u in bi}let{text:Xo,tooltip:da,href:ha,url:po,description:ls,detail:ps,key:Zi,order:hu,...Ps}=Xr,ga=re(Ps);function ua(u){return!!Xr[u]}function Oi(u){switch(u){case gt:case St:case Ot:case we:case ne:case st:case wn:case bn:return!0;case Ut:case sn:case We:return!1}}let Wo={...fo,...so,...bi,...Ps},vs=re(Wo);function Ii(u){return!!Wo[u]}function Ro(u,c){return To(u)[c]}let ka={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:Xa,...Oo}=ka;function To(u){switch(u){case gt:case St:case Ot:case be:case Oe:case $e:case Ft:case N:case zn:case st:case Ut:case sn:case wn:case Zn:case Fn:case Wn:return ka;case Nn:case rr:case ae:case Be:case dt:case ie:return Oo;case Ye:case vt:case Te:case Ue:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case we:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case bn:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case ne:return{point:"always",geoshape:"always"};case vn:return{text:"always"};case We:return{point:"always",square:"always",text:"always"};case V:return{image:"always"};case hn:return{text:"always",arc:"always"};case rt:return{text:"always",arc:"always"};case an:case Dt:return{arc:"always"}}}function $a(u){switch(u){case Nn:case rr:case hn:case rt:case ae:case Be:case we:case We:case wn:case st:case Ut:case sn:case Ye:case vt:case an:case Dt:return;case Zn:case Fn:case Wn:case ne:case bn:case vn:case Ft:case N:case V:case be:return"discrete";case gt:case St:case Ot:return"flexible";case dt:case ie:case Te:case Ue:case Oe:case $e:case zn:return}}let pu={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},za={count:1,min:1,max:1};function la(u){return!!u&&!!u.argmin}function ca(u){return!!u&&!!u.argmax}function vl(u){return e.isString(u)&&!!pu[u]}let Vl=new Set(["count","valid","missing","distinct"]);function ra(u){return e.isString(u)&&Vl.has(u)}function el(u){return e.isString(u)&&wt(["min","max"],u)}let ui=new Set(["count","sum","distinct","valid","missing"]),rs=new Set(["mean","average","median","q1","q3","min","max"]);function cs(u){return e.isBoolean(u)&&(u=e_(u,void 0)),"bin"+re(u).map(c=>yt(u[c])?Rt(`_${c}_${nt(u[c])}`):Rt(`_${c}_${u[c]}`)).join("")}function xr(u){return u===!0||Ie(u)&&!u.binned}function is(u){return u==="binned"||Ie(u)&&u.binned===!0}function Ie(u){return e.isObject(u)}function yt(u){return u==null?void 0:u.param}function Jt(u){switch(u){case Fn:case Wn:case we:case gt:case St:case Ot:case wn:case st:case Ut:case sn:case ne:return 6;case bn:return 4;default:return 10}}function $t(u){return!!(u!=null&&u.expr)}function pn(u){let c=re(u||{}),d={};for(let g of c)d[g]=pi(u[g]);return d}function Ln(u){let{anchor:c,frame:d,offset:g,orient:E,angle:D,limit:M,color:G,subtitleColor:se,subtitleFont:Ve,subtitleFontSize:Xe,subtitleFontStyle:qt,subtitleFontWeight:on,subtitleLineHeight:Mn,subtitlePadding:Xn,...lr}=u,pr={...lr,...G?{fill:G}:{}},kr={...c?{anchor:c}:{},...d?{frame:d}:{},...g?{offset:g}:{},...E?{orient:E}:{},...D!==void 0?{angle:D}:{},...M!==void 0?{limit:M}:{}},Ni={...se?{subtitleColor:se}:{},...Ve?{subtitleFont:Ve}:{},...Xe?{subtitleFontSize:Xe}:{},...qt?{subtitleFontStyle:qt}:{},...on?{subtitleFontWeight:on}:{},...Mn?{subtitleLineHeight:Mn}:{},...Xn?{subtitlePadding:Xn}:{}},Ui=Ce(u,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:pr,subtitleMarkConfig:Ui,nonMarkTitleProperties:kr,subtitle:Ni}}function Kn(u){return e.isString(u)||e.isArray(u)&&e.isString(u[0])}function $n(u){return!!(u!=null&&u.signal)}function Er(u){return!!u.step}function wr(u){return e.isArray(u)?!1:"fields"in u&&!("data"in u)}function Gn(u){return e.isArray(u)?!1:"fields"in u&&"data"in u}function ar(u){return e.isArray(u)?!1:"field"in u&&"data"in u}let gr=re({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),Or={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},di=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function ni(u){let c=e.isArray(u.condition)?u.condition.map(ii):ii(u.condition);return{...pi(u),condition:c}}function pi(u){if($t(u)){let{expr:c,...d}=u;return{signal:c,...d}}return u}function ii(u){if($t(u)){let{expr:c,...d}=u;return{signal:c,...d}}return u}function qr(u){if($t(u)){let{expr:c,...d}=u;return{signal:c,...d}}return $n(u)?u:u!==void 0?{value:u}:void 0}function Ir(u){return $n(u)?u.signal:e.stringValue(u)}function yi(u){return $n(u)?u.signal:e.stringValue(u.value)}function gi(u){return $n(u)?u.signal:u==null?null:e.stringValue(u)}function os(u,c,d){for(let g of d){let E=Bs(g,c.markDef,c.config);E!==void 0&&(u[g]=qr(E))}return u}function xs(u){return[].concat(u.type,u.style??[])}function vi(u,c,d){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},{vgChannel:E,ignoreVgConfig:D}=g;return E&&c[E]!==void 0?c[E]:c[u]!==void 0?c[u]:D&&(!E||E===u)?void 0:Bs(u,c,d,g)}function Bs(u,c,d){let{vgChannel:g}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Ne(g?ss(u,c,d.style):void 0,ss(u,c,d.style),g?d[c.type][g]:void 0,d[c.type][u],g?d.mark[g]:d.mark[u])}function ss(u,c,d){return ya(u,xs(c),d)}function ya(u,c,d){c=e.array(c);let g;for(let E of c){let D=d[E];D&&D[u]!==void 0&&(g=D[u])}return g}function No(u,c){return e.array(u).reduce((d,g)=>(d.field.push(fi(g,c)),d.order.push(g.sort??"ascending"),d),{field:[],order:[]})}function Ts(u,c){let d=[...u];return c.forEach(g=>{for(let E of d)if(et(E,g))return;d.push(g)}),d}function nn(u,c){return et(u,c)||!c?u:u?[...e.array(u),...e.array(c)].join(", "):c}function Jn(u,c){let d=u.value,g=c.value;if(d==null||g===null)return{explicit:u.explicit,value:null};if((Kn(d)||$n(d))&&(Kn(g)||$n(g)))return{explicit:u.explicit,value:nn(d,g)};if(Kn(d)||$n(d))return{explicit:u.explicit,value:d};if(Kn(g)||$n(g))return{explicit:u.explicit,value:g};if(!Kn(d)&&!$n(d)&&!Kn(g)&&!$n(g))return{explicit:u.explicit,value:Ts(d,g)};throw new Error("It should never reach here")}function En(u,c,d){return c in u?Object.defineProperty(u,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[c]=d,u}function Yr(u,c){var d=ns(u,c,"get");return ms(u,d)}function Ti(u,c,d){var g=ns(u,c,"set");return Hi(u,g,d),d}function ns(u,c,d){if(!c.has(u))throw new TypeError("attempted to "+d+" private field on non-instance");return c.get(u)}function ms(u,c){return c.get?c.get.call(u):c.value}function Hi(u,c,d){if(c.set)c.set.call(u,d);else{if(!c.writable)throw new TypeError("attempted to set read only private field");c.value=d}}function fs(u,c){if(c.has(u))throw new TypeError("Cannot initialize the same private elements twice on an object")}function mu(u,c,d){fs(u,c),c.set(u,d)}function le(u){return`Invalid specification ${Je(u)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}let ut='Autosize "fit" only works for single views and layered views.';function en(u){return`${u=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function Dn(u){let c=u=="width"?"Width":"Height",d=u=="width"?"x":"y";return`${c} "container" only works well with autosize "fit" or "fit-${d}".`}function ir(u){return u?`Dropping "fit-${u}" because spec has discrete ${ts(u)}.`:'Dropping "fit" because spec has discrete size.'}function vr(u){return`Unknown field for ${u}. Cannot calculate view size.`}function dr(u){return`Cannot project a selection on encoding channel "${u}", which has no field.`}function es(u,c){return`Cannot project a selection on encoding channel "${u}" as it uses an aggregate function ("${c}").`}function _s(u){return`The "nearest" transform is not supported for ${u} marks.`}function Ls(u){return`Selection not supported for ${u} yet.`}function oo(u){return`Cannot find a selection named "${u}".`}let Za="Scale bindings are currently only supported for scales with unbinned, continuous domains.",sc="Legend bindings are only supported for selections over an individual field or encoding channel.";function sf(u){return`Lookups can only be performed on selection parameters. "${u}" is a variable parameter.`}function Ic(u){return`Cannot define and lookup the "${u}" selection in the same view. Try moving the lookup into a second, layered view?`}let l0="The same selection must be used to override scale domains in a layered view.",G0='Interval selections should be initialized using "x" and/or "y" keys.';function oc(u){return`Unknown repeated value "${u}".`}function of(u){return`The "columns" property cannot be used when "${u}" has nested row/column.`}let c0="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function _l(u){return`Unrecognized parse "${u}".`}function Mc(u,c,d){return`An ancestor parsed field "${u}" as ${d} but a child wants to parse the field as ${c}.`}let f0="Attempt to add the same child twice.";function ac(u){return`Ignoring an invalid transform: ${Je(u)}.`}let Wl='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function Y0(u){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${u} are dropped.`}function Th(u){let{parentProjection:c,projection:d}=u;return`Layer's shared projection ${Je(c)} is overridden by a child projection ${Je(d)}.`}let K0="Arc marks uses theta channel rather than angle, replacing angle with theta.";function J0(u){return`${u}Offset dropped because ${u} is continuous`}function af(u){return`There is no ${u} encoding. Replacing ${u}Offset encoding as ${u}.`}function X0(u,c,d){return`Channel ${u} is a ${c}. Converted to {value: ${Je(d)}}.`}function Pc(u){return`Invalid field type "${u}".`}function d0(u,c){return`Invalid field type "${u}" for aggregate: "${c}", using "quantitative" instead.`}function h0(u){return`Invalid aggregation operator "${u}".`}function p0(u,c){let{fill:d,stroke:g}=c;return`Dropping color ${u} as the plot also has ${d&&g?"fill and stroke":d?"fill":"stroke"}.`}function Uo(u){return`Position range does not support relative band size for ${u}.`}function Zo(u,c){return`Dropping ${Je(u)} from channel "${c}" since it does not contain any data field, datum, value, or signal.`}let m0="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function El(u,c,d){return`${u} dropped as it is incompatible with "${c}"${d?` when ${d}`:""}.`}function uf(u){return`${u} encoding has no scale, so specified scale is ignored.`}function qd(u){return`${u}-encoding is dropped as ${u} is not a valid encoding channel.`}function Ru(u){return`${u} encoding should be discrete (ordinal / nominal / binned).`}function _o(u){return`${u} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function Fh(u){return`Facet encoding dropped as ${u.join(" and ")} ${u.length>1?"are":"is"} also specified.`}function bl(u,c){return`Using discrete channel "${u}" to encode "${c}" field can be misleading as it does not encode ${c==="ordinal"?"order":"magnitude"}.`}function Is(u){return`The ${u} for range marks cannot be an expression`}function Sl(u,c){return`Line mark is for continuous lines and thus cannot be used with ${u&&c?"x2 and y2":u?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function k(u,c){return`Specified orient "${u}" overridden with "${c}".`}function Z(u){return`Cannot use the scale property "${u}" with non-color channel.`}function je(u){return`Cannot use the relative band size with ${u} scale.`}function Nt(u){return`Using unaggregated domain with raw field has no effect (${Je(u)}).`}function Vt(u){return`Unaggregated domain not applicable for "${u}" since it produces values outside the origin domain of the source data.`}function An(u){return`Unaggregated domain is currently unsupported for log scale (${Je(u)}).`}function kn(u){return`Cannot apply size to non-oriented mark "${u}".`}function sr(u,c,d){return`Channel "${u}" does not work with "${c}" scale. We are using "${d}" scale instead.`}function hr(u,c){return`FieldDef does not work with "${u}" scale. We are using "${c}" scale instead.`}function Nr(u,c,d){return`${d}-scale's "${c}" is dropped as it does not work with ${u} scale.`}function it(u){return`The step for "${u}" is dropped because the ${u==="width"?"x":"y"} is continuous.`}function Fi(u,c,d,g){return`Conflicting ${c.toString()} property "${u.toString()}" (${Je(d)} and ${Je(g)}). Using ${Je(d)}.`}function Qi(u,c,d,g){return`Conflicting ${c.toString()} property "${u.toString()}" (${Je(d)} and ${Je(g)}). Using the union of the two domains.`}function Li(u){return`Setting the scale to be independent for "${u}" means we also have to set the guide (axis or legend) to be independent.`}function Qr(u){return`Dropping sort property ${Je(u)} as unioned domains only support boolean or op "count", "min", and "max".`}let Ys="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",$o="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",va="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",mo="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function Ia(u){return`Cannot stack "${u}" if there is already "${u}2".`}function uc(u){return`Cannot stack non-linear scale (${u}).`}function Ql(u){return`Stacking is applied even though the aggregate function is non-summative ("${u}").`}function Ma(u,c){return`Invalid ${u}: ${Je(c)}.`}function lc(u){return`Dropping day from datetime ${Je(u)} as day cannot be combined with other units.`}function _a(u,c){return`${c?"extent ":""}${c&&u?"and ":""}${u?"center ":""}${c&&u?"are ":"is "}not needed when data are aggregated.`}function lf(u,c,d){return`${u} is not usually used with ${c} for ${d}.`}function cf(u,c){return`Continuous axis should not have customized aggregation function ${u}; ${c} already agregates the axis.`}function tl(u){return`1D error band does not support ${u}.`}function cc(u){return`Channel ${u} is required for "binned" bin.`}function W1(u){return`Channel ${u} should not be used with "binned" bin.`}function Bc(u){return`Domain for ${u} is required for threshold scale.`}let n2=e.logger(e.Warn),Gl=n2;function Of(u){return Gl=u,Gl}function jc(){return Gl=n2,Gl}function jr(){Gl.warn(...arguments)}function Z0(){Gl.debug(...arguments)}function ed(u){if(u&&e.isObject(u)){for(let c of df)if(c in u)return!0}return!1}let Vr=["january","february","march","april","may","june","july","august","september","october","november","december"],Cl=Vr.map(u=>u.substr(0,3)),Q1=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],mp=Q1.map(u=>u.substr(0,3));function Eo(u){if(Qt(u)&&(u=+u),e.isNumber(u))return u>4&&jr(Ma("quarter",u)),u-1;throw new Error(Ma("quarter",u))}function td(u){if(Qt(u)&&(u=+u),e.isNumber(u))return u-1;{let c=u.toLowerCase(),d=Vr.indexOf(c);if(d!==-1)return d;let g=c.substr(0,3),E=Cl.indexOf(g);if(E!==-1)return E;throw new Error(Ma("month",u))}}function Ud(u){if(Qt(u)&&(u=+u),e.isNumber(u))return u%7;{let c=u.toLowerCase(),d=Q1.indexOf(c);if(d!==-1)return d;let g=c.substr(0,3),E=mp.indexOf(g);if(E!==-1)return E;throw new Error(Ma("day",u))}}function nd(u,c){let d=[];if(c&&u.day!==void 0&&re(u).length>1&&(jr(lc(u)),u=Ee(u),delete u.day),u.year!==void 0?d.push(u.year):d.push(2012),u.month!==void 0){let g=c?td(u.month):u.month;d.push(g)}else if(u.quarter!==void 0){let g=c?Eo(u.quarter):u.quarter;d.push(e.isNumber(g)?g*3:`${g}*3`)}else d.push(0);if(u.date!==void 0)d.push(u.date);else if(u.day!==void 0){let g=c?Ud(u.day):u.day;d.push(e.isNumber(g)?g+1:`${g}+1`)}else d.push(1);for(let g of["hours","minutes","seconds","milliseconds"]){let E=u[g];d.push(typeof E=="undefined"?0:E)}return d}function ff(u){let d=nd(u,!0).join(", ");return u.utc?`utc(${d})`:`datetime(${d})`}function ng(u){let d=nd(u,!1).join(", ");return u.utc?`utc(${d})`:`datetime(${d})`}function rg(u){let c=nd(u,!0);return u.utc?+new Date(Date.UTC(...c)):+new Date(...c)}let Dh={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},df=re(Dh);function nl(u){return!!Dh[u]}function $d(u){return u.startsWith("utc")}function xp(u){return u.substr(3)}let G1={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function rl(u){return df.filter(c=>rd(u,c))}function rd(u,c){let d=u.indexOf(c);return!(d<0||d>0&&c==="seconds"&&u.charAt(d-1)==="i"||u.length>d+3&&c==="day"&&u.charAt(d+3)==="o"||d>0&&c==="year"&&u.charAt(d-1)==="f")}function Nf(u,c){let{end:d}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{end:!1},g=gn(c),E=$d(u)?"utc":"";function D(se){return se==="quarter"?`(${E}quarter(${g})-1)`:`${E}${se}(${g})`}let M,G={};for(let se of df)rd(u,se)&&(G[se]=D(se),M=se);return d&&(G[M]+="+1"),ng(G)}function wl(u){if(!u)return;let c=rl(u);return`timeUnitSpecifier(${Je(c)}, ${Je(G1)})`}function gp(u,c,d){if(!u)return;let g=wl(u);return`${d||$d(u)?"utc":"time"}Format(${c}, ${g})`}function xu(u){if(!u)return;let c;return e.isString(u)?c={unit:u}:e.isObject(u)&&(c={...u,...u.unit?{unit:u.unit}:{}}),$d(c.unit)&&(c.utc=!0,c.unit=xp(c.unit)),c}function Y1(u){let{utc:c,...d}=xu(u);return d.unit?(c?"utc":"")+re(d).map(g=>Rt(`${g==="unit"?"":`_${g}_`}${d[g]}`)).join(""):(c?"utc":"")+"timeunit"+re(d).map(g=>Rt(`_${g}_${d[g]}`)).join("")}function il(u){return u==null?void 0:u.param}function qc(u){return!!(u!=null&&u.field)&&u.equal!==void 0}function Rh(u){return!!(u!=null&&u.field)&&u.lt!==void 0}function zd(u){return!!(u!=null&&u.field)&&u.lte!==void 0}function hf(u){return!!(u!=null&&u.field)&&u.gt!==void 0}function Oh(u){return!!(u!=null&&u.field)&&u.gte!==void 0}function yp(u){if(u!=null&&u.field){if(e.isArray(u.range)&&u.range.length===2)return!0;if($n(u.range))return!0}return!1}function Ha(u){return!!(u!=null&&u.field)&&(e.isArray(u.oneOf)||e.isArray(u.in))}function Nh(u){return!!(u!=null&&u.field)&&u.valid!==void 0}function id(u){return Ha(u)||qc(u)||yp(u)||Rh(u)||hf(u)||zd(u)||Oh(u)}function Pa(u,c){return Nb(u,{timeUnit:c,wrapTime:!0})}function Lh(u,c){return u.map(d=>Pa(d,c))}function Ou(u){var c;let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,{field:g}=u,E=(c=xu(u.timeUnit))===null||c===void 0?void 0:c.unit,D=E?`time(${Nf(E,g)})`:fi(u,{expr:"datum"});if(qc(u))return`${D}===${Pa(u.equal,E)}`;if(Rh(u)){let M=u.lt;return`${D}<${Pa(M,E)}`}else if(hf(u)){let M=u.gt;return`${D}>${Pa(M,E)}`}else if(zd(u)){let M=u.lte;return`${D}<=${Pa(M,E)}`}else if(Oh(u)){let M=u.gte;return`${D}>=${Pa(M,E)}`}else{if(Ha(u))return`indexof([${Lh(u.oneOf,E).join(",")}], ${D}) !== -1`;if(Nh(u))return eu(D,u.valid);if(yp(u)){let{range:M}=u,G=$n(M)?{signal:`${M.signal}[0]`}:M[0],se=$n(M)?{signal:`${M.signal}[1]`}:M[1];if(G!==null&&se!==null&&d)return"inrange("+D+", ["+Pa(G,E)+", "+Pa(se,E)+"])";let Ve=[];return G!==null&&Ve.push(`${D} >= ${Pa(G,E)}`),se!==null&&Ve.push(`${D} <= ${Pa(se,E)}`),Ve.length>0?Ve.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${Je(u)}`)}function eu(u){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?`isValid(${u}) && isFinite(+${u})`:`!isValid(${u}) || !isFinite(+${u})`}function kh(u){if(id(u)&&u.timeUnit){var c;return{...u,timeUnit:(c=xu(u.timeUnit))===null||c===void 0?void 0:c.unit}}return u}let Ea={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function Ih(u){return u==="quantitative"||u==="temporal"}function vp(u){return u==="ordinal"||u==="nominal"}let x0=Ea.quantitative,sd=Ea.ordinal,pf=Ea.temporal,Yl=Ea.nominal,Nu=Ea.geojson;function _p(u){if(u)switch(u=u.toLowerCase(),u){case"q":case x0:return"quantitative";case"t":case pf:return"temporal";case"o":case sd:return"ordinal";case"n":case Yl:return"nominal";case Nu:return"geojson"}}let sl={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Mh={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function Hd(u,c){let d=Mh[u],g=Mh[c];return d===g||d==="ordinal-position"&&g==="time"||g==="ordinal-position"&&d==="time"}let r2={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function Ep(u){return r2[u]}let Lf=new Set(["linear","log","pow","sqrt","symlog"]),od=new Set([...Lf,"time","utc"]);function Xs(u){return Lf.has(u)}let A=new Set(["quantile","quantize","threshold"]),Q=new Set([...od,...A,"sequential","identity"]),de=new Set(["ordinal","bin-ordinal","point","band"]);function Pe(u){return de.has(u)}function Ct(u){return Q.has(u)}function Tn(u){return od.has(u)}function ur(u){return A.has(u)}let $i={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function Bi(u){return!e.isString(u)&&!!u.name}function ao(u){return u==null?void 0:u.param}function gu(u){return u==null?void 0:u.unionWith}function Uc(u){return e.isObject(u)&&"field"in u}let kf={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:Tb,domain:i3,range:Y4,rangeMax:s3,rangeMin:ad,scheme:Lu,...K4}=kf,Ph=re(K4);function Fs(u,c){switch(c){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(u);case"bins":return!["point","band","identity","ordinal"].includes(u);case"round":return Tn(u)||u==="band"||u==="point";case"padding":case"rangeMin":case"rangeMax":return Tn(u)||["point","band"].includes(u);case"paddingOuter":case"align":return["point","band"].includes(u);case"paddingInner":return u==="band";case"domainMax":case"domainMid":case"domainMin":case"clamp":return Tn(u);case"nice":return Tn(u)||u==="quantize"||u==="threshold";case"exponent":return u==="pow";case"base":return u==="log";case"constant":return u==="symlog";case"zero":return Ct(u)&&!wt(["log","time","utc","threshold","quantile"],u)}}function g0(u,c){switch(c){case"interpolate":case"scheme":case"domainMid":return C(u)?void 0:Z(c);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function Al(u,c){return wt([sd,Yl],c)?u===void 0||Pe(u):c===pf?wt([sl.TIME,sl.UTC,void 0],u):c===x0?Xs(u)||ur(u)||u===void 0:!0}function bp(u,c){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!Ii(u))return!1;switch(u){case Nn:case rr:case ae:case Be:case hn:case rt:return Tn(c)||c==="band"?!0:c==="point"?!d:!1;case we:case wn:case st:case Ut:case sn:case We:return Tn(c)||ur(c)||wt(["band","point","ordinal"],c);case gt:case St:case Ot:return c!=="band";case bn:case ne:return c==="ordinal"||ur(c)}}let ku={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},K1=ku.arc,J1=ku.area,Tl=ku.bar,o3=ku.image,Vd=ku.line,Bh=ku.point,a3=ku.rect,If=ku.rule,Fl=ku.text,Mf=ku.tick,X1=ku.trail,Sp=ku.circle,Wd=ku.square,Z1=ku.geoshape;function mf(u){return["line","area","trail"].includes(u)}function ig(u){return["rect","bar","image","arc"].includes(u)}let sg=new Set(re(ku));function fc(u){return u.type}let y0=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],J4=["fill","fillOpacity"],ud=[...y0,...J4],F=re({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),H={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]},Y={color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},_t=re({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1});function x(u){return u&&u.band!=null}let T={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},z=5,X={binSpacing:1,continuousBandSize:z,timeUnitBandPosition:.5},ge={binSpacing:0,continuousBandSize:z,timeUnitBandPosition:.5},Fe={thickness:1};function ot(u){return fc(u)?u.type:u}function zt(u){let{channel:c,channelDef:d,markDef:g,scale:E,config:D}=u,M=Kr(u);return br(d)&&!ra(d.aggregate)&&E&&Tn(E.get("type"))?Cn({fieldDef:d,channel:c,markDef:g,ref:M,config:D}):M}function Cn(u){let{fieldDef:c,channel:d,markDef:g,ref:E,config:D}=u;return mf(g.type)?E:vi("invalid",g,D)===null?[Sn(c,d),E]:E}function Sn(u,c){let d=Bn(u,!0),E=ai(c)==="y"?{field:{group:"height"}}:{value:0};return{test:d,...E}}function Bn(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return eu(e.isString(u)?u:fi(u,{expr:"datum"}),!c)}function Hn(u){let{datum:c}=u;return ed(c)?ff(c):`${Je(c)}`}function or(u,c,d,g){let E={};if(c&&(E.scale=c),So(u)){let{datum:D}=u;ed(D)?E.signal=ff(D):$n(D)?E.signal=D.signal:$t(D)?E.signal=D.expr:E.value=D}else E.field=fi(u,d);if(g){let{offset:D,band:M}=g;D&&(E.offset=D),M&&(E.band=M)}return E}function Rr(u){let{scaleName:c,fieldOrDatumDef:d,fieldOrDatumDef2:g,offset:E,startSuffix:D,bandPosition:M=.5}=u,G=0<M&&M<1?"datum":void 0,se=fi(d,{expr:G,suffix:D}),Ve=g!==void 0?fi(g,{expr:G}):fi(d,{suffix:"end",expr:G}),Xe={};if(M===0||M===1){Xe.scale=c;let qt=M===0?se:Ve;Xe.field=qt}else{let qt=$n(M)?`${M.signal} * ${se} + (1-${M.signal}) * ${Ve}`:`${M} * ${se} + ${1-M} * ${Ve}`;Xe.signal=`scale("${c}", ${qt})`}return E&&(Xe.offset=E),Xe}function Kr(u){let{channel:c,channelDef:d,channel2Def:g,markDef:E,config:D,scaleName:M,scale:G,stack:se,offset:Ve,defaultRef:Xe,bandPosition:qt}=u;if(d){if(ks(d)){let on=G==null?void 0:G.get("type");if(Yd(d)){qt??=ag({fieldDef:d,fieldDef2:g,markDef:E,config:D});let{bin:Mn,timeUnit:Xn,type:lr}=d;if(xr(Mn)||qt&&Xn&&lr===pf)return se!=null&&se.impute?or(d,M,{binSuffix:"mid"},{offset:Ve}):qt&&!Pe(on)?Rr({scaleName:M,fieldOrDatumDef:d,bandPosition:qt,offset:Ve}):or(d,M,t_(d,c)?{binSuffix:"range"}:{},{offset:Ve});if(is(Mn)){if(br(g))return Rr({scaleName:M,fieldOrDatumDef:d,fieldOrDatumDef2:g,bandPosition:qt,offset:Ve});jr(cc(c===Nn?Ye:vt))}}return or(d,M,Pe(on)?{binSuffix:"range"}:{},{offset:Ve,band:on==="band"?qt??d.bandPosition??.5:void 0})}else if(Kd(d)){let on=d.value,Mn=Ve?{offset:Ve}:{};return{...Lr(c,on),...Mn}}}return e.isFunction(Xe)&&(Xe=Xe()),Xe&&{...Xe,...Ve?{offset:Ve}:{}}}function Lr(u,c){return wt(["x","x2"],u)&&c==="width"?{field:{group:"width"}}:wt(["y","y2"],u)&&c==="height"?{field:{group:"height"}}:qr(c)}function Ei(u){return u&&u!=="number"&&u!=="time"}function ki(u,c,d){return`${u}(${c}${d?`, ${Je(d)}`:""})`}let Rs=" \u2013 ";function ds(u){let{fieldOrDatumDef:c,format:d,formatType:g,expr:E,normalizeStack:D,config:M}=u;if(Ei(g))return gs({fieldOrDatumDef:c,format:d,formatType:g,expr:E,config:M});let G=Zs(c,E,D),se=al(c);if(d===void 0&&g===void 0&&M.customFormatTypes){if(se==="quantitative"){if(D&&M.normalizedNumberFormatType)return gs({fieldOrDatumDef:c,format:M.normalizedNumberFormat,formatType:M.normalizedNumberFormatType,expr:E,config:M});if(M.numberFormatType)return gs({fieldOrDatumDef:c,format:M.numberFormat,formatType:M.numberFormatType,expr:E,config:M})}if(se==="temporal"&&M.timeFormatType&&br(c)&&c.timeUnit===void 0)return gs({fieldOrDatumDef:c,format:M.timeFormat,formatType:M.timeFormatType,expr:E,config:M})}if(p3(c)){var Ve,Xe;let qt=Va({field:G,timeUnit:br(c)?(Ve=xu(c.timeUnit))===null||Ve===void 0?void 0:Ve.unit:void 0,format:d,formatType:M.timeFormatType,rawTimeFormat:M.timeFormat,isUTCScale:ug(c)&&((Xe=c.scale)===null||Xe===void 0?void 0:Xe.type)===sl.UTC});return qt?{signal:qt}:void 0}if(d=Ba({type:se,specifiedFormat:d,config:M,normalizeStack:D}),br(c)&&xr(c.bin)){let qt=fi(c,{expr:E,binSuffix:"end"});return{signal:Ta(G,qt,d,g,M)}}else return d||al(c)==="quantitative"?{signal:`${Iu(G,d)}`}:{signal:`isValid(${G}) ? ${G} : ""+${G}`}}function Zs(u,c,d){return br(u)?d?`${fi(u,{expr:c,suffix:"end"})}-${fi(u,{expr:c,suffix:"start"})}`:fi(u,{expr:c}):Hn(u)}function gs(u){let{fieldOrDatumDef:c,format:d,formatType:g,expr:E,normalizeStack:D,config:M,field:G}=u;if(G??=Zs(c,E,D),G!=="datum.value"&&br(c)&&xr(c.bin)){let se=fi(c,{expr:E,binSuffix:"end"});return{signal:Ta(G,se,d,g,M)}}return{signal:ki(g,G,d)}}function Gr(u,c,d,g,E,D){if(!Ei(g)&&!(d===void 0&&g===void 0&&E.customFormatTypes&&al(u)==="quantitative"&&(E.normalizedNumberFormatType&&c3(u)&&u.stack==="normalize"||E.numberFormatType))){if(c3(u)&&u.stack==="normalize"&&E.normalizedNumberFormat)return Ba({type:"quantitative",config:E,normalizeStack:!0});if(p3(u)){var M;let G=br(u)?(M=xu(u.timeUnit))===null||M===void 0?void 0:M.unit:void 0;return G===void 0&&E.customFormatTypes&&E.timeFormatType?void 0:tu({specifiedFormat:d,timeUnit:G,config:E,omitTimeFormatConfig:D})}return Ba({type:c,specifiedFormat:d,config:E})}}function Ki(u,c,d){if(u&&($n(u)||u==="number"||u==="time"))return u;if(p3(c)&&d!=="time"&&d!=="utc"){var g;return br(c)&&(g=xu(c==null?void 0:c.timeUnit))!==null&&g!==void 0&&g.utc?"utc":"time"}}function Ba(u){let{type:c,specifiedFormat:d,config:g,normalizeStack:E}=u;if(e.isString(d))return d;if(c===x0)return E?g.normalizedNumberFormat:g.numberFormat}function tu(u){let{specifiedFormat:c,timeUnit:d,config:g,omitTimeFormatConfig:E}=u;return c||(d?{signal:wl(d)}:E?void 0:g.timeFormat)}function Iu(u,c){return`format(${u}, "${c||""}")`}function Es(u,c,d,g){return Ei(d)?ki(d,u,c):Iu(u,(e.isString(c)?c:void 0)??g.numberFormat)}function Ta(u,c,d,g,E){if(d===void 0&&g===void 0&&E.customFormatTypes&&E.numberFormatType)return Ta(u,c,E.numberFormat,E.numberFormatType,E);let D=Es(u,d,g,E),M=Es(c,d,g,E);return`${eu(u,!1)} ? "null" : ${D} + "${Rs}" + ${M}`}function Va(u){let{field:c,timeUnit:d,format:g,formatType:E,rawTimeFormat:D,isUTCScale:M}=u;return!d||g?!d&&E?`${E}(${c}, '${g}')`:(g=e.isString(g)?g:D,`${M?"utc":"time"}Format(${c}, '${g}')`):gp(d,c,M)}let Dl="min",Qd={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function ol(u){return u in Qd}function v0(u){return!!(u!=null&&u.encoding)}function ba(u){return u&&(u.op==="count"||!!u.field)}function dc(u){return u&&e.isArray(u)}function Gd(u){return"row"in u||"column"in u}function em(u){return!!u&&"header"in u}function Cp(u){return"facet"in u}function _0(u){return u.param}function i2(u){return u&&!e.isString(u)&&"repeat"in u}function u3(u){let{field:c,timeUnit:d,bin:g,aggregate:E}=u;return{...d?{timeUnit:d}:{},...g?{bin:g}:{},...E?{aggregate:E}:{},field:c}}function og(u){return"sort"in u}function ag(u){let{fieldDef:c,fieldDef2:d,markDef:g,config:E}=u;if(ks(c)&&c.bandPosition!==void 0)return c.bandPosition;if(br(c)){let{timeUnit:D,bin:M}=c;if(D&&!d)return ig(g.type)?0:Bs("timeUnitBandPosition",g,E);if(xr(M))return .5}}function tm(u){let{channel:c,fieldDef:d,fieldDef2:g,markDef:E,config:D,scaleType:M,useVlSizeChannel:G}=u,se=ts(c),Ve=vi(G?"size":se,E,D,{vgChannel:se});if(Ve!==void 0)return Ve;if(br(d)){let{timeUnit:Mn,bin:Xn}=d;if(Mn&&!g)return{band:Bs("timeUnitBandSize",E,D)};if(xr(Xn)&&!Pe(M))return{band:1}}if(ig(E.type)){var Xe;if(M)if(Pe(M)){var qt;return((qt=D[E.type])===null||qt===void 0?void 0:qt.discreteBandSize)||{band:1}}else{var on;return(on=D[E.type])===null||on===void 0?void 0:on.continuousBandSize}return(Xe=D[E.type])===null||Xe===void 0?void 0:Xe.discreteBandSize}}function Dr(u,c,d,g){return xr(u.bin)||u.timeUnit&&Yd(u)&&u.type==="temporal"?ag({fieldDef:u,fieldDef2:c,markDef:d,config:g})!==void 0:!1}function js(u){return u&&"condition"in u}function bo(u){let c=u==null?void 0:u.condition;return!!c&&!e.isArray(c)&&br(c)}function Ur(u){let c=u==null?void 0:u.condition;return!!c&&!e.isArray(c)&&ks(c)}function xf(u){let c=u==null?void 0:u.condition;return!!c&&(e.isArray(c)||Kd(c))}function br(u){return u&&(!!u.field||u.aggregate==="count")}function al(u){return u==null?void 0:u.type}function So(u){return u&&"datum"in u}function hc(u){return Yd(u)&&!f3(u)||l3(u)}function l3(u){return So(u)&&e.isNumber(u.datum)}function ks(u){return br(u)||So(u)}function Yd(u){return u&&("field"in u||u.aggregate==="count")&&"type"in u}function Kd(u){return u&&"value"in u&&"value"in u}function ug(u){return u&&("scale"in u||"sort"in u)}function c3(u){return u&&("axis"in u||"stack"in u||"impute"in u)}function IN(u){return u&&"legend"in u}function wp(u){return u&&("format"in u||"formatType"in u)}function Pf(u){return pe(u,["legend","axis","header","scale"])}function D9(u){return"op"in u}function fi(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=u.field,g=c.prefix,E=c.suffix,D="";if(UW(u))d=mt("count");else{let M;if(!c.nofn)if(D9(u))M=u.op;else{let{bin:G,aggregate:se,timeUnit:Ve}=u;xr(G)?(M=cs(G),E=(c.binSuffix??"")+(c.suffix??"")):se?ca(se)?(D=`["${d}"]`,d=`argmax_${se.argmax}`):la(se)?(D=`["${d}"]`,d=`argmin_${se.argmin}`):M=String(se):Ve&&(M=Y1(Ve),E=(!["range","mid"].includes(c.binSuffix)&&c.binSuffix||"")+(c.suffix??""))}M&&(d=d?`${M}_${d}`:M)}return E&&(d=`${d}_${E}`),g&&(d=`${g}_${d}`),c.forAs?nr(d):c.expr?yn(d,c.expr)+D:un(d)+D}function f3(u){switch(u.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return br(u)&&!!u.bin;case"temporal":return!1}throw new Error(Pc(u.type))}function qW(u){var c;return ug(u)&&ur((c=u.scale)===null||c===void 0?void 0:c.type)}function UW(u){return u.aggregate==="count"}function X4(u,c){let{field:d,bin:g,timeUnit:E,aggregate:D}=u;if(D==="count")return c.countTitle;if(xr(g))return`${d} (binned)`;if(E){var M;let G=(M=xu(E))===null||M===void 0?void 0:M.unit;if(G)return`${d} (${rl(G).join("-")})`}else if(D)return ca(D)?`${d} for max ${D.argmax}`:la(D)?`${d} for min ${D.argmin}`:`${fn(D)} of ${d}`;return d}function MN(u){let{aggregate:c,bin:d,timeUnit:g,field:E}=u;if(ca(c))return`${E} for argmax(${c.argmax})`;if(la(c))return`${E} for argmin(${c.argmin})`;let D=xu(g),M=c||(D==null?void 0:D.unit)||(D==null?void 0:D.maxbins)&&"timeunit"||xr(d)&&"bin";return M?`${M.toUpperCase()}(${E})`:E}let R9=(u,c)=>{switch(c.fieldTitle){case"plain":return u.field;case"functional":return MN(u);default:return X4(u,c)}},PN=R9;function BN(u){PN=u}function $W(){BN(R9)}function d3(u,c,d){var g;let{allowDisabling:E,includeDefault:D=!0}=d,M=(g=Fb(u))===null||g===void 0?void 0:g.title;if(!br(u))return M??u.title;let G=u,se=D?Db(G,c):void 0;return E?Ne(M,G.title,se):M??G.title??se}function Fb(u){if(c3(u)&&u.axis)return u.axis;if(IN(u)&&u.legend)return u.legend;if(em(u)&&u.header)return u.header}function Db(u,c){return PN(u,c)}function Rb(u){if(wp(u)){let{format:c,formatType:d}=u;return{format:c,formatType:d}}else{let c=Fb(u)??{},{format:d,formatType:g}=c;return{format:d,formatType:g}}}function O9(u,c){var d;switch(c){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(og(u)&&e.isArray(u.sort))return"ordinal";let{aggregate:g,bin:E,timeUnit:D}=u;if(D)return"temporal";if(E||g&&!ca(g)&&!la(g))return"quantitative";if(ug(u)&&(d=u.scale)!==null&&d!==void 0&&d.type)switch(Mh[u.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function jh(u){if(br(u))return u;if(bo(u))return u.condition}function yu(u){if(ks(u))return u;if(Ur(u))return u.condition}function Ob(u,c,d){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(e.isString(u)||e.isNumber(u)||e.isBoolean(u)){let E=e.isString(u)?"string":e.isNumber(u)?"number":"boolean";return jr(X0(c,E,u)),{value:u}}return ks(u)?Z4(u,c,d,g):Ur(u)?{...u,condition:Z4(u.condition,c,d,g)}:u}function Z4(u,c,d,g){if(wp(u)){let{format:E,formatType:D,...M}=u;if(Ei(D)&&!d.customFormatTypes)return jr(Y0(c)),Z4(M,c,d,g)}else{let E=c3(u)?"axis":IN(u)?"legend":em(u)?"header":null;if(E&&u[E]){let{format:D,formatType:M,...G}=u[E];if(Ei(M)&&!d.customFormatTypes)return jr(Y0(c)),Z4({...u,[E]:G},c,d,g)}}return br(u)?h3(u,c,g):jN(u)}function jN(u){let c=u.type;if(c)return u;let{datum:d}=u;return c=e.isNumber(d)?"quantitative":e.isString(d)?"nominal":ed(d)?"temporal":void 0,{...u,type:c}}function h3(u,c){let{compositeMark:d=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{aggregate:g,timeUnit:E,bin:D,field:M}=u,G={...u};if(!d&&g&&!vl(g)&&!ca(g)&&!la(g)&&(jr(h0(g)),delete G.aggregate),E&&(G.timeUnit=xu(E)),M&&(G.field=`${M}`),xr(D)&&(G.bin=e_(D,c)),is(D)&&!us(c)&&jr(W1(c)),Yd(G)){let{type:se}=G,Ve=_p(se);se!==Ve&&(G.type=Ve),se!=="quantitative"&&ra(g)&&(jr(d0(se,g)),G.type="quantitative")}else if(!xi(c)){let se=O9(G,c);G.type=se}if(Yd(G)){let{compatible:se,warning:Ve}=lg(G,c)||{};se===!1&&jr(Ve)}if(og(G)&&e.isString(G.sort)){let{sort:se}=G;if(ol(se))return{...G,sort:{encoding:se}};let Ve=se.substr(1);if(se.charAt(0)==="-"&&ol(Ve))return{...G,sort:{encoding:Ve,order:"descending"}}}if(em(G)){let{header:se}=G;if(se){let{orient:Ve,...Xe}=se;if(Ve)return{...G,header:{...Xe,labelOrient:se.labelOrient||Ve,titleOrient:se.titleOrient||Ve}}}}return G}function e_(u,c){return e.isBoolean(u)?{maxbins:Jt(c)}:u==="binned"?{binned:!0}:!u.maxbins&&!u.step?{...u,maxbins:Jt(c)}:u}let Bf={compatible:!0};function lg(u,c){let d=u.type;if(d==="geojson"&&c!=="shape")return{compatible:!1,warning:`Channel ${c} should not be used with a geojson data.`};switch(c){case Fn:case Wn:case Zn:return f3(u)?Bf:{compatible:!1,warning:Ru(c)};case Nn:case rr:case ae:case Be:case gt:case St:case Ot:case vn:case Oe:case $e:case Ft:case N:case V:case We:case hn:case rt:case be:return Bf;case ie:case Ue:case dt:case Te:return d!==x0?{compatible:!1,warning:`Channel ${c} should be used with a quantitative field only, not ${u.type} field.`}:Bf;case st:case Ut:case sn:case wn:case we:case an:case Dt:case Ye:case vt:return d==="nominal"&&!u.sort?{compatible:!1,warning:`Channel ${c} should not be used with an unsorted discrete field.`}:Bf;case ne:case bn:return!f3(u)&&!qW(u)?{compatible:!1,warning:_o(c)}:Bf;case zn:return u.type==="nominal"&&!("sort"in u)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:Bf}}function p3(u){let{formatType:c}=Rb(u);return c==="time"||!c&&qN(u)}function qN(u){return u&&(u.type==="temporal"||br(u)&&!!u.timeUnit)}function Nb(u,c){var d;let{timeUnit:g,type:E,wrapTime:D,undefinedIfExprNotRequired:M}=c,G=g&&((d=xu(g))===null||d===void 0?void 0:d.unit),se=G||E==="temporal",Ve;return $t(u)?Ve=u.expr:$n(u)?Ve=u.signal:ed(u)?(se=!0,Ve=ff(u)):(e.isString(u)||e.isNumber(u))&&se&&(Ve=`datetime(${Je(u)})`,nl(G)&&(e.isNumber(u)&&u<1e4||e.isString(u)&&isNaN(Date.parse(u)))&&(Ve=ff({[G]:u}))),Ve?D&&se?`time(${Ve})`:Ve:M?void 0:Je(u)}function UN(u,c){let{type:d}=u;return c.map(g=>{let E=Nb(g,{timeUnit:br(u)?u.timeUnit:void 0,type:d,undefinedIfExprNotRequired:!0});return E!==void 0?{signal:E}:g})}function t_(u,c){return xr(u.bin)?Ii(c)&&["ordinal","nominal"].includes(u.type):(console.warn("Only call this method for binned field defs."),!1)}let $N={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function n_(u){return u==null?void 0:u.condition}let zN=["domain","grid","labels","ticks","title"],zW={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},HN={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},HW={...HN,style:1,labelExpr:1,encoding:1};function VN(u){return!!HW[u]}let N9=re({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});function Ap(u){return"mark"in u}class r_{constructor(c,d){this.name=c,this.run=d}hasMatchingType(c){return Ap(c)?ot(c.mark)===this.name:!1}}function cg(u,c){let d=u&&u[c];return d?e.isArray(d)?mn(d,g=>!!g.field):br(d)||bo(d):!1}function WN(u,c){let d=u&&u[c];return d?e.isArray(d)?mn(d,g=>!!g.field):br(d)||So(d)||Ur(d):!1}function L9(u,c){if(us(c)){let d=u[c];if((br(d)||So(d))&&vp(d.type)){let g=xa(c);return WN(u,g)}}return!1}function Lb(u){return mn(ht,c=>{if(cg(u,c)){let d=u[c];if(e.isArray(d))return mn(d,g=>!!g.aggregate);{let g=jh(d);return g&&!!g.aggregate}}return!1})}function QN(u,c){let d=[],g=[],E=[],D=[],M={};return k9(u,(G,se)=>{if(br(G)){let{field:Ve,aggregate:Xe,bin:qt,timeUnit:on,...Mn}=G;if(Xe||on||qt){let Xn=Fb(G),lr=Xn==null?void 0:Xn.title,pr=fi(G,{forAs:!0}),kr={...lr?[]:{title:d3(G,c,{allowDisabling:!0})},...Mn,field:pr};if(Xe){let Ni;if(ca(Xe)?(Ni="argmax",pr=fi({op:"argmax",field:Xe.argmax},{forAs:!0}),kr.field=`${pr}.${Ve}`):la(Xe)?(Ni="argmin",pr=fi({op:"argmin",field:Xe.argmin},{forAs:!0}),kr.field=`${pr}.${Ve}`):Xe!=="boxplot"&&Xe!=="errorbar"&&Xe!=="errorband"&&(Ni=Xe),Ni){let Ui={op:Ni,as:pr};Ve&&(Ui.field=Ve),D.push(Ui)}}else if(d.push(pr),Yd(G)&&xr(qt)){if(g.push({bin:qt,field:Ve,as:pr}),d.push(fi(G,{binSuffix:"end"})),t_(G,se)&&d.push(fi(G,{binSuffix:"range"})),us(se)){let Ni={field:`${pr}_end`};M[`${se}2`]=Ni}kr.bin="binned",xi(se)||(kr.type=x0)}else if(on){E.push({timeUnit:on,field:Ve,as:pr});let Ni=Yd(G)&&G.type!==pf&&"time";Ni&&(se===vn||se===Ft?kr.formatType=Ni:ua(se)?kr.legend={formatType:Ni,...kr.legend}:us(se)&&(kr.axis={formatType:Ni,...kr.axis}))}M[se]=kr}else d.push(Ve),M[se]=u[se]}else M[se]=u[se]}),{bins:g,timeUnits:E,aggregate:D,groupby:d,encoding:M}}function VW(u,c,d){let g=Ro(c,d);if(g){if(g==="binned"){let E=u[c===Ye?Nn:rr];return!!(br(E)&&br(u[c])&&is(E.bin))}}else return!1;return!0}function WW(u,c,d,g){let E={};for(let D of re(u))yr(D)||jr(qd(D));for(let D of Lc){if(!u[D])continue;let M=u[D];if(Wi(D)){let G=yl(D),se=E[G];if(br(se)){if(Ih(se.type)&&br(M)){jr(J0(G));continue}}else D=G,jr(af(G))}if(D==="angle"&&c==="arc"&&!u.theta&&(jr(K0),D=hn),!VW(u,D,c)){jr(El(D,c));continue}if(D===we&&c==="line"){let G=jh(u[D]);if(G!=null&&G.aggregate){jr(m0);continue}}if(D===gt&&(d?"fill"in u:"stroke"in u)){jr(p0("encoding",{fill:"fill"in u,stroke:"stroke"in u}));continue}if(D===Oe||D===zn&&!e.isArray(M)&&!Kd(M)||D===Ft&&e.isArray(M))M&&(E[D]=e.array(M).reduce((G,se)=>(br(se)?G.push(h3(se,D)):jr(Zo(se,D)),G),[]));else{if(D===Ft&&M===null)E[D]=null;else if(!br(M)&&!So(M)&&!Kd(M)&&!js(M)&&!$n(M)){jr(Zo(M,D));continue}E[D]=Ob(M,D,g)}}return E}function kb(u,c){let d={};for(let g of re(u)){let E=Ob(u[g],g,c,{compositeMark:!0});d[g]=E}return d}function QW(u){let c=[];for(let d of re(u))if(cg(u,d)){let g=u[d],E=e.array(g);for(let D of E)br(D)?c.push(D):bo(D)&&c.push(D.condition)}return c}function k9(u,c,d){if(!!u)for(let g of re(u)){let E=u[g];if(e.isArray(E))for(let D of E)c.call(d,D,g);else c.call(d,E,g)}}function Jd(u,c,d,g){return u?re(u).reduce((E,D)=>{let M=u[D];return e.isArray(M)?M.reduce((G,se)=>c.call(g,G,se,D),E):c.call(g,E,M,D)},d):d}function GN(u,c){return re(c).reduce((d,g)=>{switch(g){case Nn:case rr:case N:case be:case V:case Ye:case vt:case ae:case Be:case hn:case an:case rt:case Dt:case dt:case ie:case Te:case Ue:case vn:case ne:case We:case Ft:return d;case zn:if(u==="line"||u==="trail")return d;case Oe:case $e:{let E=c[g];if(e.isArray(E)||br(E))for(let D of e.array(E))D.aggregate||d.push(fi(D,{}));return d}case we:if(u==="trail")return d;case gt:case St:case Ot:case st:case Ut:case sn:case bn:case wn:{let E=jh(c[g]);return E&&!E.aggregate&&d.push(fi(E,{})),d}}},[])}function GW(u){let{tooltip:c,...d}=u;if(!c)return{filteredEncoding:d};let g,E;if(e.isArray(c)){for(let D of c)D.aggregate?(g||(g=[]),g.push(D)):(E||(E=[]),E.push(D));g&&(d.tooltip=g)}else c.aggregate?d.tooltip=c:E=c;return e.isArray(E)&&E.length===1&&(E=E[0]),{customTooltipWithoutAggregatedField:E,filteredEncoding:d}}function I9(u,c,d){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if("tooltip"in d)return{tooltip:d.tooltip};let E=u.map(M=>{let{fieldPrefix:G,titlePrefix:se}=M,Ve=g?` of ${Ib(c)}`:"";return{field:G+c.field,type:c.type,title:$n(se)?{signal:`${se}"${escape(Ve)}"`}:se+Ve}}),D=QW(d).map(Pf);return{tooltip:[...E,...Et(D,lt)]}}function Ib(u){let{title:c,field:d}=u;return Ne(c,d)}function M9(u,c,d,g,E){let{scale:D,axis:M}=d;return G=>{let{partName:se,mark:Ve,positionPrefix:Xe,endPositionPrefix:qt=void 0,extraEncoding:on={}}=G,Mn=Ib(d);return YN(u,se,E,{mark:Ve,encoding:{[c]:{field:`${Xe}_${d.field}`,type:d.type,...Mn!==void 0?{title:Mn}:{},...D!==void 0?{scale:D}:{},...M!==void 0?{axis:M}:{}},...e.isString(qt)?{[`${c}2`]:{field:`${qt}_${d.field}`}}:{},...g,...on}})}}function YN(u,c,d,g){let{clip:E,color:D,opacity:M}=u,G=u.type;return u[c]||u[c]===void 0&&d[c]?[{...g,mark:{...d[c],...E?{clip:E}:{},...D?{color:D}:{},...M?{opacity:M}:{},...fc(g.mark)?g.mark:{type:g.mark},style:`${G}-${String(c)}`,...e.isBoolean(u[c])?{}:u[c]}}]:[]}function KN(u,c,d){let{encoding:g}=u,E=c==="vertical"?"y":"x",D=g[E],M=g[`${E}2`],G=g[`${E}Error`],se=g[`${E}Error2`];return{continuousAxisChannelDef:Mb(D,d),continuousAxisChannelDef2:Mb(M,d),continuousAxisChannelDefError:Mb(G,d),continuousAxisChannelDefError2:Mb(se,d),continuousAxis:E}}function Mb(u,c){if(u!=null&&u.aggregate){let{aggregate:d,...g}=u;return d!==c&&jr(cf(d,c)),g}else return u}function Pb(u,c){let{mark:d,encoding:g}=u,{x:E,y:D}=g;if(fc(d)&&d.orient)return d.orient;if(hc(E)){if(hc(D)){let M=br(E)&&E.aggregate,G=br(D)&&D.aggregate;if(!M&&G===c)return"vertical";if(!G&&M===c)return"horizontal";if(M===c&&G===c)throw new Error("Both x and y cannot have aggregate");return p3(D)&&!p3(E)?"horizontal":"vertical"}return"horizontal"}else{if(hc(D))return"vertical";throw new Error(`Need a valid continuous axis for ${c}s`)}}let Bb="boxplot",YW=["box","median","outliers","rule","ticks"],KW=new r_(Bb,XN);function JN(u){return e.isNumber(u)?"tukey":u}function XN(u,c){let{config:d}=c;u={...u,encoding:kb(u.encoding,d)};let{mark:g,encoding:E,params:D,projection:M,...G}=u,se=fc(g)?g:{type:g};D&&jr(Ls("boxplot"));let Ve=se.extent??d.boxplot.extent,Xe=vi("size",se,d),qt=se.invalid,on=JN(Ve),{bins:Mn,timeUnits:Xn,transform:lr,continuousAxisChannelDef:pr,continuousAxis:kr,groupby:Ni,aggregate:Ui,encodingWithoutContinuousAxis:Os,ticksOrient:ji,boxOrient:ia,customTooltipWithoutAggregatedField:as}=JW(u,Ve,d),{color:ll,size:Rl,...xc}=Os,pg=hje=>M9(se,kr,pr,hje,d.boxplot),mg=pg(xc),xg=pg(Os),lm=pg({...xc,...Rl?{size:Rl}:{}}),gg=I9([{fieldPrefix:on==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:on==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],pr,Os),yg={type:"tick",color:"black",opacity:1,orient:ji,invalid:qt,aria:!1},h2=on==="min-max"?gg:I9([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],pr,Os),A3=[...mg({partName:"rule",mark:{type:"rule",invalid:qt,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:h2}),...mg({partName:"rule",mark:{type:"rule",invalid:qt,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:h2}),...mg({partName:"ticks",mark:yg,positionPrefix:"lower_whisker",extraEncoding:h2}),...mg({partName:"ticks",mark:yg,positionPrefix:"upper_whisker",extraEncoding:h2})],T3=[...on!=="tukey"?A3:[],...xg({partName:"box",mark:{type:"bar",...Xe?{size:Xe}:{},orient:ia,invalid:qt,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:gg}),...lm({partName:"median",mark:{type:"tick",invalid:qt,...e.isObject(d.boxplot.median)&&d.boxplot.median.color?{color:d.boxplot.median.color}:{},...Xe?{size:Xe}:{},orient:ji,aria:!1},positionPrefix:"mid_box",extraEncoding:gg})];if(on==="min-max")return{...G,transform:(G.transform??[]).concat(lr),layer:T3};let Ck=`datum["lower_box_${pr.field}"]`,Zfe=`datum["upper_box_${pr.field}"]`,e0e=`(${Zfe} - ${Ck})`,t0e=`${Ck} - ${Ve} * ${e0e}`,n0e=`${Zfe} + ${Ve} * ${e0e}`,wk=`datum["${pr.field}"]`,cje={joinaggregate:ZN(pr.field),groupby:Ni},r0e={transform:[{filter:`(${t0e} <= ${wk}) && (${wk} <= ${n0e})`},{aggregate:[{op:"min",field:pr.field,as:`lower_whisker_${pr.field}`},{op:"max",field:pr.field,as:`upper_whisker_${pr.field}`},{op:"min",field:`lower_box_${pr.field}`,as:`lower_box_${pr.field}`},{op:"max",field:`upper_box_${pr.field}`,as:`upper_box_${pr.field}`},...Ui],groupby:Ni}],layer:A3},{tooltip:h8t,...fje}=xc,{scale:i0e,axis:dje}=pr,s0e=Ib(pr),o0e=pe(dje,["title"]),a0e=YN(se,"outliers",d.boxplot,{transform:[{filter:`(${wk} < ${t0e}) || (${wk} > ${n0e})`}],mark:"point",encoding:{[kr]:{field:pr.field,type:pr.type,...s0e!==void 0?{title:s0e}:{},...i0e!==void 0?{scale:i0e}:{},...Ke(o0e)?{}:{axis:o0e}},...fje,...ll?{color:ll}:{},...as?{tooltip:as}:{}}})[0],Ak,u0e=[...Mn,...Xn,cje];return a0e?Ak={transform:u0e,layer:[a0e,r0e]}:(Ak=r0e,Ak.transform.unshift(...u0e)),{...G,layer:[Ak,{transform:lr,layer:T3}]}}function ZN(u){return[{op:"q1",field:u,as:`lower_box_${u}`},{op:"q3",field:u,as:`upper_box_${u}`}]}function JW(u,c,d){let g=Pb(u,Bb),{continuousAxisChannelDef:E,continuousAxis:D}=KN(u,g,Bb),M=E.field,G=JN(c),se=[...ZN(M),{op:"median",field:M,as:`mid_box_${M}`},{op:"min",field:M,as:(G==="min-max"?"lower_whisker_":"min_")+M},{op:"max",field:M,as:(G==="min-max"?"upper_whisker_":"max_")+M}],Ve=G==="min-max"||G==="tukey"?[]:[{calculate:`datum["upper_box_${M}"] - datum["lower_box_${M}"]`,as:`iqr_${M}`},{calculate:`min(datum["upper_box_${M}"] + datum["iqr_${M}"] * ${c}, datum["max_${M}"])`,as:`upper_whisker_${M}`},{calculate:`max(datum["lower_box_${M}"] - datum["iqr_${M}"] * ${c}, datum["min_${M}"])`,as:`lower_whisker_${M}`}],{[D]:Xe,...qt}=u.encoding,{customTooltipWithoutAggregatedField:on,filteredEncoding:Mn}=GW(qt),{bins:Xn,timeUnits:lr,aggregate:pr,groupby:kr,encoding:Ni}=QN(Mn,d),Ui=g==="vertical"?"horizontal":"vertical",Os=g,ji=[...Xn,...lr,{aggregate:[...pr,...se],groupby:kr},...Ve];return{bins:Xn,timeUnits:lr,transform:ji,groupby:kr,aggregate:pr,continuousAxisChannelDef:E,continuousAxis:D,encodingWithoutContinuousAxis:Ni,ticksOrient:Ui,boxOrient:Os,customTooltipWithoutAggregatedField:on}}let P9="errorbar",XW=["ticks","rule"],ZW=new r_(P9,eL);function eL(u,c){let{config:d}=c;u={...u,encoding:kb(u.encoding,d)};let{transform:g,continuousAxisChannelDef:E,continuousAxis:D,encodingWithoutContinuousAxis:M,ticksOrient:G,markDef:se,outerSpec:Ve,tooltipEncoding:Xe}=tL(u,P9,d);delete M.size;let qt=M9(se,D,E,M,d.errorbar),on=se.thickness,Mn=se.size,Xn={type:"tick",orient:G,aria:!1,...on!==void 0?{thickness:on}:{},...Mn!==void 0?{size:Mn}:{}},lr=[...qt({partName:"ticks",mark:Xn,positionPrefix:"lower",extraEncoding:Xe}),...qt({partName:"ticks",mark:Xn,positionPrefix:"upper",extraEncoding:Xe}),...qt({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...on!==void 0?{size:on}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Xe})];return{...Ve,transform:g,...lr.length>1?{layer:lr}:{...lr[0]}}}function eQ(u,c){let{encoding:d}=u;if(tQ(d))return{orient:Pb(u,c),inputType:"raw"};let g=nQ(d),E=rQ(d),D=d.x,M=d.y;if(g){if(E)throw new Error(`${c} cannot be both type aggregated-upper-lower and aggregated-error`);let G=d.x2,se=d.y2;if(ks(G)&&ks(se))throw new Error(`${c} cannot have both x2 and y2`);if(ks(G)){if(hc(D))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${c}`)}else if(ks(se)){if(hc(M))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${c}`)}throw new Error("No ranged axis")}else{let G=d.xError,se=d.xError2,Ve=d.yError,Xe=d.yError2;if(ks(se)&&!ks(G))throw new Error(`${c} cannot have xError2 without xError`);if(ks(Xe)&&!ks(Ve))throw new Error(`${c} cannot have yError2 without yError`);if(ks(G)&&ks(Ve))throw new Error(`${c} cannot have both xError and yError with both are quantiative`);if(ks(G)){if(hc(D))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(ks(Ve)){if(hc(M))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function tQ(u){return(ks(u.x)||ks(u.y))&&!ks(u.x2)&&!ks(u.y2)&&!ks(u.xError)&&!ks(u.xError2)&&!ks(u.yError)&&!ks(u.yError2)}function nQ(u){return ks(u.x2)||ks(u.y2)}function rQ(u){return ks(u.xError)||ks(u.xError2)||ks(u.yError)||ks(u.yError2)}function tL(u,c,d){let{mark:g,encoding:E,params:D,projection:M,...G}=u,se=fc(g)?g:{type:g};D&&jr(Ls(c));let{orient:Ve,inputType:Xe}=eQ(u,c),{continuousAxisChannelDef:qt,continuousAxisChannelDef2:on,continuousAxisChannelDefError:Mn,continuousAxisChannelDefError2:Xn,continuousAxis:lr}=KN(u,Ve,c),{errorBarSpecificAggregate:pr,postAggregateCalculates:kr,tooltipSummary:Ni,tooltipTitleWithFieldName:Ui}=iQ(se,qt,on,Mn,Xn,Xe,c,d),{[lr]:Os,[lr==="x"?"x2":"y2"]:ji,[lr==="x"?"xError":"yError"]:ia,[lr==="x"?"xError2":"yError2"]:as,...ll}=E,{bins:Rl,timeUnits:xc,aggregate:pg,groupby:mg,encoding:xg}=QN(ll,d),lm=[...pg,...pr],gg=Xe!=="raw"?[]:mg,yg=I9(Ni,qt,xg,Ui);return{transform:[...G.transform??[],...Rl,...xc,...lm.length===0?[]:[{aggregate:lm,groupby:gg}],...kr],groupby:gg,continuousAxisChannelDef:qt,continuousAxis:lr,encodingWithoutContinuousAxis:xg,ticksOrient:Ve==="vertical"?"horizontal":"vertical",markDef:se,outerSpec:G,tooltipEncoding:yg}}function iQ(u,c,d,g,E,D,M,G){let se=[],Ve=[],Xe=c.field,qt,on=!1;if(D==="raw"){let Mn=u.center?u.center:u.extent?u.extent==="iqr"?"median":"mean":G.errorbar.center,Xn=u.extent?u.extent:Mn==="mean"?"stderr":"iqr";if(Mn==="median"!=(Xn==="iqr")&&jr(lf(Mn,Xn,M)),Xn==="stderr"||Xn==="stdev")se=[{op:Xn,field:Xe,as:`extent_${Xe}`},{op:Mn,field:Xe,as:`center_${Xe}`}],Ve=[{calculate:`datum["center_${Xe}"] + datum["extent_${Xe}"]`,as:`upper_${Xe}`},{calculate:`datum["center_${Xe}"] - datum["extent_${Xe}"]`,as:`lower_${Xe}`}],qt=[{fieldPrefix:"center_",titlePrefix:fn(Mn)},{fieldPrefix:"upper_",titlePrefix:nL(Mn,Xn,"+")},{fieldPrefix:"lower_",titlePrefix:nL(Mn,Xn,"-")}],on=!0;else{let lr,pr,kr;Xn==="ci"?(lr="mean",pr="ci0",kr="ci1"):(lr="median",pr="q1",kr="q3"),se=[{op:pr,field:Xe,as:`lower_${Xe}`},{op:kr,field:Xe,as:`upper_${Xe}`},{op:lr,field:Xe,as:`center_${Xe}`}],qt=[{fieldPrefix:"upper_",titlePrefix:d3({field:Xe,aggregate:kr,type:"quantitative"},G,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:d3({field:Xe,aggregate:pr,type:"quantitative"},G,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:d3({field:Xe,aggregate:lr,type:"quantitative"},G,{allowDisabling:!1})}]}}else{(u.center||u.extent)&&jr(_a(u.center,u.extent)),D==="aggregated-upper-lower"?(qt=[],Ve=[{calculate:`datum["${d.field}"]`,as:`upper_${Xe}`},{calculate:`datum["${Xe}"]`,as:`lower_${Xe}`}]):D==="aggregated-error"&&(qt=[{fieldPrefix:"",titlePrefix:Xe}],Ve=[{calculate:`datum["${Xe}"] + datum["${g.field}"]`,as:`upper_${Xe}`}],E?Ve.push({calculate:`datum["${Xe}"] + datum["${E.field}"]`,as:`lower_${Xe}`}):Ve.push({calculate:`datum["${Xe}"] - datum["${g.field}"]`,as:`lower_${Xe}`}));for(let Mn of Ve)qt.push({fieldPrefix:Mn.as.substring(0,6),titlePrefix:Pn(Pn(Mn.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:Ve,errorBarSpecificAggregate:se,tooltipSummary:qt,tooltipTitleWithFieldName:on}}function nL(u,c,d){return`${fn(u)} ${d} ${c}`}let B9="errorband",sQ=["band","borders"],j9=new r_(B9,q9);function q9(u,c){let{config:d}=c;u={...u,encoding:kb(u.encoding,d)};let{transform:g,continuousAxisChannelDef:E,continuousAxis:D,encodingWithoutContinuousAxis:M,markDef:G,outerSpec:se,tooltipEncoding:Ve}=tL(u,B9,d),Xe=G,qt=M9(Xe,D,E,M,d.errorband),on=u.encoding.x!==void 0&&u.encoding.y!==void 0,Mn={type:on?"area":"rect"},Xn={type:on?"line":"rule"},lr={...Xe.interpolate?{interpolate:Xe.interpolate}:{},...Xe.tension&&Xe.interpolate?{tension:Xe.tension}:{}};return on?(Mn={...Mn,...lr,ariaRoleDescription:"errorband"},Xn={...Xn,...lr,aria:!1}):Xe.interpolate?jr(tl("interpolate")):Xe.tension&&jr(tl("tension")),{...se,transform:g,layer:[...qt({partName:"band",mark:Mn,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Ve}),...qt({partName:"borders",mark:Xn,positionPrefix:"lower",extraEncoding:Ve}),...qt({partName:"borders",mark:Xn,positionPrefix:"upper",extraEncoding:Ve})]}}let rL={};function U9(u,c,d){let g=new r_(u,c);rL[u]={normalizer:g,parts:d}}function oQ(){return re(rL)}U9(Bb,XN,YW),U9(P9,eL,XW),U9(B9,q9,sQ);let aQ=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],iL={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},sL={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},uQ=re(iL),lQ=re(sL),oL=re({header:1,headerRow:1,headerColumn:1,headerFacet:1}),i_=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],fQ={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},dQ={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Tp="_vgsid_",hQ={point:{on:"click",fields:[Tp],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function $9(u){return u==="legend"||!!(u!=null&&u.legend)}function z9(u){return $9(u)&&e.isObject(u)}function H9(u){return!!(u!=null&&u.select)}function aL(u){let c=[];for(let d of u||[]){if(H9(d))continue;let{expr:g,bind:E,...D}=d;if(E&&g){let M={...D,bind:E,init:g};c.push(M)}else{let M={...D,...g?{update:g}:{},...E?{bind:E}:{}};c.push(M)}}return c}function pQ(u){return jb(u)||W9(u)||V9(u)}function V9(u){return"concat"in u}function jb(u){return"vconcat"in u}function W9(u){return"hconcat"in u}function uL(u){let{step:c,offsetIsDiscrete:d}=u;return d?c.for??"offset":"position"}function Fp(u){return e.isObject(u)&&u.step!==void 0}function lL(u){return u.view||u.width||u.height}let cL=20,fL=re({align:1,bounds:1,center:1,columns:1,spacing:1});function xQ(u,c,d){let g=d[c],E={},{spacing:D,columns:M}=g;D!==void 0&&(E.spacing=D),M!==void 0&&(Cp(u)&&!Gd(u.facet)||V9(u))&&(E.columns=M),jb(u)&&(E.columns=1);for(let G of fL)if(u[G]!==void 0)if(G==="spacing"){let se=u[G];E[G]=e.isNumber(se)?se:{row:se.row??D,column:se.column??D}}else E[G]=u[G];return E}function Q9(u,c){return u[c]??u[c==="width"?"continuousWidth":"continuousHeight"]}function qb(u,c){let d=Ub(u,c);return Fp(d)?d.step:s_}function Ub(u,c){let d=u[c]??u[c==="width"?"discreteWidth":"discreteHeight"];return Ne(d,{step:u.step})}let s_=20,gQ={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:s_},mark:Y,arc:{},area:{},bar:X,circle:{},geoshape:{},image:{},line:{},point:{},rect:ge,rule:{color:"black"},square:{},text:{color:"black"},tick:Fe,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:$i,projection:{},legend:fQ,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:hQ,style:{},title:{},facet:{spacing:cL},concat:{spacing:cL},normalizedNumberFormat:".0%"},nm=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],dL={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},hL={blue:nm[0],orange:nm[1],red:nm[2],teal:nm[3],green:nm[4],yellow:nm[5],purple:nm[6],pink:nm[7],brown:nm[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function yQ(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{signals:[{name:"color",value:e.isObject(u)?{...hL,...u}:hL}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function vQ(u){return{signals:[{name:"fontSize",value:e.isObject(u)?{...dL,...u}:dL}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function _Q(u){return{text:{font:u},style:{"guide-label":{font:u},"guide-title":{font:u},"group-title":{font:u},"group-subtitle":{font:u}}}}function pL(u){let c=re(u||{}),d={};for(let g of c){let E=u[g];d[g]=n_(E)?ni(E):pi(E)}return d}function EQ(u){let c=re(u),d={};for(let g of c)d[g]=pL(u[g]);return d}let bQ=[..._t,...N9,...oL,"background","padding","legend","lineBreak","scale","style","title","view"];function o_(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{color:c,font:d,fontSize:g,selection:E,...D}=u,M=e.mergeConfig({},Ee(gQ),d?_Q(d):{},c?yQ(c):{},g?vQ(g):{},D||{});E&&e.writeConfig(M,"selection",E,!0);let G=pe(M,bQ);for(let se of["background","lineBreak","padding"])M[se]&&(G[se]=pi(M[se]));for(let se of _t)M[se]&&(G[se]=pn(M[se]));for(let se of N9)M[se]&&(G[se]=pL(M[se]));for(let se of oL)M[se]&&(G[se]=pn(M[se]));return M.legend&&(G.legend=pn(M.legend)),M.scale&&(G.scale=pn(M.scale)),M.style&&(G.style=EQ(M.style)),M.title&&(G.title=pn(M.title)),M.view&&(G.view=pn(M.view)),G}let SQ=new Set(["view",...sg]),mL=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],xL={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...H};function G9(u){u=Ee(u);for(let c of mL)delete u[c];if(u.axis)for(let c in u.axis)n_(u.axis[c])&&delete u.axis[c];if(u.legend)for(let c of aQ)delete u.legend[c];if(u.mark){for(let c of F)delete u.mark[c];u.mark.tooltip&&e.isObject(u.mark.tooltip)&&delete u.mark.tooltip}u.params&&(u.signals=(u.signals||[]).concat(aL(u.params)),delete u.params);for(let c of SQ){for(let g of F)delete u[c][g];let d=xL[c];if(d)for(let g of d)delete u[c][g];yL(u,c)}for(let c of oQ())delete u[c];gL(u);for(let c in u)e.isObject(u[c])&&Ke(u[c])&&delete u[c];return Ke(u)?void 0:u}function gL(u){let{titleMarkConfig:c,subtitleMarkConfig:d,subtitle:g}=Ln(u.title);Ke(c)||(u.style["group-title"]={...u.style["group-title"],...c}),Ke(d)||(u.style["group-subtitle"]={...u.style["group-subtitle"],...d}),Ke(g)?delete u.title:u.title=g}function yL(u,c,d,g){let E=g?u[c][g]:u[c];c==="view"&&(d="cell");let D={...E,...u.style[d??c]};Ke(D)||(u.style[d??c]=D),g||delete u[c]}function a_(u){return"layer"in u}function vL(u){return"repeat"in u}function CQ(u){return!e.isArray(u.repeat)&&u.repeat.layer}class Y9{map(c,d){return Cp(c)?this.mapFacet(c,d):vL(c)?this.mapRepeat(c,d):W9(c)?this.mapHConcat(c,d):jb(c)?this.mapVConcat(c,d):V9(c)?this.mapConcat(c,d):this.mapLayerOrUnit(c,d)}mapLayerOrUnit(c,d){if(a_(c))return this.mapLayer(c,d);if(Ap(c))return this.mapUnit(c,d);throw new Error(le(c))}mapLayer(c,d){return{...c,layer:c.layer.map(g=>this.mapLayerOrUnit(g,d))}}mapHConcat(c,d){return{...c,hconcat:c.hconcat.map(g=>this.map(g,d))}}mapVConcat(c,d){return{...c,vconcat:c.vconcat.map(g=>this.map(g,d))}}mapConcat(c,d){let{concat:g,...E}=c;return{...E,concat:g.map(D=>this.map(D,d))}}mapFacet(c,d){return{...c,spec:this.map(c.spec,d)}}mapRepeat(c,d){return{...c,spec:this.map(c.spec,d)}}}let wQ={zero:1,center:1,normalize:1};function $b(u){return u in wQ}let zb=new Set([K1,Tl,J1,If,Bh,Sp,Wd,Vd,Fl,Mf]),AQ=new Set([Tl,J1,K1]);function m3(u){return br(u)&&al(u)==="quantitative"&&!u.bin}function Hb(u,c){let d=c==="x"?"y":"radius",g=u[c],E=u[d];if(br(g)&&br(E))if(m3(g)&&m3(E)){if(g.stack)return c;if(E.stack)return d;let G=br(g)&&!!g.aggregate,se=br(E)&&!!E.aggregate;if(G!==se)return G?c:d;{var D,M;let Ve=(D=g.scale)===null||D===void 0?void 0:D.type,Xe=(M=E.scale)===null||M===void 0?void 0:M.type;if(Ve&&Ve!=="linear")return d;if(Xe&&Xe!=="linear")return c}}else{if(m3(g))return c;if(m3(E))return d}else{if(m3(g))return c;if(m3(E))return d}}function _L(u){switch(u){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function EL(u,c){var d,g;let E=fc(u)?u.type:u;if(!zb.has(E))return null;let D=Hb(c,"x")||Hb(c,"theta");if(!D)return null;let M=c[D],G=br(M)?fi(M,{}):void 0,se=_L(D),Ve=[],Xe=new Set;if(c[se]){let Mn=c[se],Xn=br(Mn)?fi(Mn,{}):void 0;Xn&&Xn!==G&&(Ve.push(se),Xe.add(Xn));let lr=se==="x"?"xOffset":"yOffset",pr=c[lr],kr=br(pr)?fi(pr,{}):void 0;kr&&kr!==G&&(Ve.push(lr),Xe.add(kr))}let qt=As.reduce((Mn,Xn)=>{if(Xn!=="tooltip"&&cg(c,Xn)){let lr=c[Xn];for(let pr of e.array(lr)){let kr=jh(pr);if(kr.aggregate)continue;let Ni=fi(kr,{});(!Ni||!Xe.has(Ni))&&Mn.push({channel:Xn,fieldDef:kr})}}return Mn},[]),on;return M.stack!==void 0?e.isBoolean(M.stack)?on=M.stack?"zero":null:on=M.stack:AQ.has(E)&&(on="zero"),!on||!$b(on)||Lb(c)&&qt.length===0?null:M!=null&&(d=M.scale)!==null&&d!==void 0&&d.type&&(M==null||(g=M.scale)===null||g===void 0?void 0:g.type)!==sl.LINEAR?(jr(uc(M.scale.type)),null):ks(c[Cs(D)])?(M.stack!==void 0&&jr(Ia(D)),null):(br(M)&&M.aggregate&&!ui.has(M.aggregate)&&jr(Ql(M.aggregate)),{groupbyChannels:Ve,groupbyFields:Xe,fieldChannel:D,impute:M.impute===null?!1:mf(E),stackBy:qt,offset:on})}function TQ(u){let{point:c,line:d,...g}=u;return re(g).length>1?g:g.type}function FQ(u){for(let c of["line","area","rule","trail"])u[c]&&(u={...u,[c]:pe(u[c],["point","line"])});return u}function K9(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=arguments.length>2?arguments[2]:void 0;return u.point==="transparent"?{opacity:0}:u.point?e.isObject(u.point)?u.point:{}:u.point!==void 0?null:c.point||d.shape?e.isObject(c.point)?c.point:{}:void 0}function bL(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return u.line?u.line===!0?{}:u.line:u.line!==void 0?null:c.line?c.line===!0?{}:c.line:void 0}class DQ{constructor(){En(this,"name","path-overlay")}hasMatchingType(c,d){if(Ap(c)){let{mark:g,encoding:E}=c,D=fc(g)?g:{type:g};switch(D.type){case"line":case"rule":case"trail":return!!K9(D,d[D.type],E);case"area":return!!K9(D,d[D.type],E)||!!bL(D,d[D.type])}}return!1}run(c,d,g){let{config:E}=d,{params:D,projection:M,mark:G,encoding:se,...Ve}=c,Xe=kb(se,E),qt=fc(G)?G:{type:G},on=K9(qt,E[qt.type],Xe),Mn=qt.type==="area"&&bL(qt,E[qt.type]),Xn=[{...D?{params:D}:{},mark:TQ({...qt.type==="area"&&qt.opacity===void 0&&qt.fillOpacity===void 0?{opacity:.7}:{},...qt}),encoding:pe(Xe,["shape"])}],lr=EL(qt,Xe),pr=Xe;if(lr){let{fieldChannel:kr,offset:Ni}=lr;pr={...Xe,[kr]:{...Xe[kr],...Ni?{stack:Ni}:{}}}}return pr=pe(pr,["y2","x2"]),Mn&&Xn.push({...M?{projection:M}:{},mark:{type:"line",...Ce(qt,["clip","interpolate","tension","tooltip"]),...Mn},encoding:pr}),on&&Xn.push({...M?{projection:M}:{},mark:{type:"point",opacity:1,filled:!0,...Ce(qt,["clip","tooltip"]),...on},encoding:pr}),g({...Ve,layer:Xn},{...d,config:FQ(E)})}}function RQ(u,c){return c?Gd(u)?Xd(u,c):SL(u,c):u}function J9(u,c){return c?Xd(u,c):u}function X9(u,c,d){let g=c[u];if(i2(g)){if(g.repeat in d)return{...c,[u]:d[g.repeat]};jr(oc(g.repeat));return}return c}function SL(u,c){if(u=X9("field",u,c),u!==void 0){if(u===null)return null;if(og(u)&&ba(u.sort)){let d=X9("field",u.sort,c);u={...u,...d?{sort:d}:{}}}return u}}function CL(u,c){if(br(u))return SL(u,c);{let d=X9("datum",u,c);return d!==u&&!d.type&&(d.type="nominal"),d}}function wL(u,c){if(ks(u)){let d=CL(u,c);if(d)return d;if(js(u))return{condition:u.condition}}else{if(Ur(u)){let d=CL(u.condition,c);if(d)return{...u,condition:d};{let{condition:g,...E}=u;return E}}return u}}function Xd(u,c){let d={};for(let g in u)if(e.hasOwnProperty(u,g)){let E=u[g];if(e.isArray(E))d[g]=E.map(D=>wL(D,c)).filter(D=>D);else{let D=wL(E,c);D!==void 0&&(d[g]=D)}}return d}class OQ{constructor(){En(this,"name","RuleForRangedLine")}hasMatchingType(c){if(Ap(c)){let{encoding:d,mark:g}=c;if(g==="line"||fc(g)&&g.type==="line")for(let E of Mr){let D=ai(E),M=d[D];if(d[E]&&(br(M)&&!is(M.bin)||So(M)))return!0}}return!1}run(c,d,g){let{encoding:E,mark:D}=c;return jr(Sl(!!E.x2,!!E.y2)),g({...c,mark:e.isObject(D)?{...D,type:"rule"}:"rule"},d)}}class NQ extends Y9{constructor(){super(...arguments);En(this,"nonFacetUnitNormalizers",[KW,ZW,j9,new DQ,new OQ])}map(c,d){if(Ap(c)){let g=cg(c.encoding,Fn),E=cg(c.encoding,Wn),D=cg(c.encoding,Zn);if(g||E||D)return this.mapFacetedUnit(c,d)}return super.map(c,d)}mapUnit(c,d){let{parentEncoding:g,parentProjection:E}=d,D=J9(c.encoding,d.repeater),M={...c,...D?{encoding:D}:{}};if(g||E)return this.mapUnitWithParentEncodingOrProjection(M,d);let G=this.mapLayerOrUnit.bind(this);for(let se of this.nonFacetUnitNormalizers)if(se.hasMatchingType(M,d.config))return se.run(M,d,G);return M}mapRepeat(c,d){return CQ(c)?this.mapLayerRepeat(c,d):this.mapNonLayerRepeat(c,d)}mapLayerRepeat(c,d){let{repeat:g,spec:E,...D}=c,{row:M,column:G,layer:se}=g,{repeater:Ve={},repeaterPrefix:Xe=""}=d;return M||G?this.mapRepeat({...c,repeat:{...M?{row:M}:{},...G?{column:G}:{}},spec:{repeat:{layer:se},spec:E}},d):{...D,layer:se.map(qt=>{let on={...Ve,layer:qt},Mn=`${(E.name||"")+Xe}child__layer_${Rt(qt)}`,Xn=this.mapLayerOrUnit(E,{...d,repeater:on,repeaterPrefix:Mn});return Xn.name=Mn,Xn})}}mapNonLayerRepeat(c,d){let{repeat:g,spec:E,data:D,...M}=c;!e.isArray(g)&&c.columns&&(c=pe(c,["columns"]),jr(of("repeat")));let G=[],{repeater:se={},repeaterPrefix:Ve=""}=d,Xe=!e.isArray(g)&&g.row||[se?se.row:null],qt=!e.isArray(g)&&g.column||[se?se.column:null],on=e.isArray(g)&&g||[se?se.repeat:null];for(let Xn of on)for(let lr of Xe)for(let pr of qt){let kr={repeat:Xn,row:lr,column:pr,layer:se.layer},Ni=(E.name||"")+Ve+"child__"+(e.isArray(g)?`${Rt(Xn)}`:(g.row?`row_${Rt(lr)}`:"")+(g.column?`column_${Rt(pr)}`:"")),Ui=this.map(E,{...d,repeater:kr,repeaterPrefix:Ni});Ui.name=Ni,G.push(pe(Ui,["data"]))}let Mn=e.isArray(g)?c.columns:g.column?g.column.length:1;return{data:E.data??D,align:"all",...M,columns:Mn,concat:G}}mapFacet(c,d){let{facet:g}=c;return Gd(g)&&c.columns&&(c=pe(c,["columns"]),jr(of("facet"))),super.mapFacet(c,d)}mapUnitWithParentEncodingOrProjection(c,d){let{encoding:g,projection:E}=c,{parentEncoding:D,parentProjection:M,config:G}=d,se=qs({parentProjection:M,projection:E}),Ve=s2({parentEncoding:D,encoding:J9(g,d.repeater)});return this.mapUnit({...c,...se?{projection:se}:{},...Ve?{encoding:Ve}:{}},{config:G})}mapFacetedUnit(c,d){let{row:g,column:E,facet:D,...M}=c.encoding,{mark:G,width:se,projection:Ve,height:Xe,view:qt,params:on,encoding:Mn,...Xn}=c,{facetMapping:lr,layout:pr}=this.getFacetMappingAndLayout({row:g,column:E,facet:D},d),kr=J9(M,d.repeater);return this.mapFacet({...Xn,...pr,facet:lr,spec:{...se?{width:se}:{},...Xe?{height:Xe}:{},...qt?{view:qt}:{},...Ve?{projection:Ve}:{},mark:G,encoding:kr,...on?{params:on}:{}}},d)}getFacetMappingAndLayout(c,d){let{row:g,column:E,facet:D}=c;if(g||E){D&&jr(Fh([...g?[Fn]:[],...E?[Wn]:[]]));let M={},G={};for(let se of[Fn,Wn]){let Ve=c[se];if(Ve){let{align:Xe,center:qt,spacing:on,columns:Mn,...Xn}=Ve;M[se]=Xn;for(let lr of["align","center","spacing"])Ve[lr]!==void 0&&(G[lr]??={},G[lr][se]=Ve[lr])}}return{facetMapping:M,layout:G}}else{let{align:M,center:G,spacing:se,columns:Ve,...Xe}=D;return{facetMapping:RQ(Xe,d.repeater),layout:{...M?{align:M}:{},...G?{center:G}:{},...se?{spacing:se}:{},...Ve?{columns:Ve}:{}}}}}mapLayer(c,d){let{parentEncoding:g,parentProjection:E,...D}=d,{encoding:M,projection:G,...se}=c,Ve={...D,parentEncoding:s2({parentEncoding:g,encoding:M,layer:!0}),parentProjection:qs({parentProjection:E,projection:G})};return super.mapLayer(se,Ve)}}function s2(u){let{parentEncoding:c,encoding:d={},layer:g}=u,E={};if(c){let D=new Set([...re(c),...re(d)]);for(let M of D){let G=d[M],se=c[M];if(ks(G)){let Ve={...se,...G};E[M]=Ve}else Ur(G)?E[M]={...G,condition:{...se,...G.condition}}:G||G===null?E[M]=G:(g||Kd(se)||$n(se)||ks(se)||e.isArray(se))&&(E[M]=se)}}else E=d;return!E||Ke(E)?void 0:E}function qs(u){let{parentProjection:c,projection:d}=u;return c&&d&&jr(Th({parentProjection:c,projection:d})),d??c}function Z9(u){return"filter"in u}function E0(u){return(u==null?void 0:u.stop)!==void 0}function Mu(u){return"lookup"in u}function LQ(u){return"data"in u}function o2(u){return"param"in u}function kQ(u){return"pivot"in u}function IQ(u){return"density"in u}function MQ(u){return"quantile"in u}function PQ(u){return"regression"in u}function BQ(u){return"loess"in u}function eA(u){return"sample"in u}function jQ(u){return"window"in u}function rm(u){return"joinaggregate"in u}function AL(u){return"flatten"in u}function Vb(u){return"calculate"in u}function nu(u){return"bin"in u}function Pu(u){return"impute"in u}function TL(u){return"timeUnit"in u}function qQ(u){return"aggregate"in u}function UQ(u){return"stack"in u}function $Q(u){return"fold"in u}function zQ(u){return u.map(c=>Z9(c)?{filter:te(c.filter,kh)}:c)}class HQ extends Y9{map(c,d){return d.emptySelections??={},d.selectionPredicates??={},c=FL(c,d),super.map(c,d)}mapLayerOrUnit(c,d){if(c=FL(c,d),c.encoding){let g={};for(let[E,D]of nt(c.encoding))g[E]=tA(D,d);c={...c,encoding:g}}return super.mapLayerOrUnit(c,d)}mapUnit(c,d){let{selection:g,...E}=c;return g?{...E,params:nt(g).map(D=>{let[M,G]=D,{init:se,bind:Ve,empty:Xe,...qt}=G;qt.type==="single"?(qt.type="point",qt.toggle=!1):qt.type==="multi"&&(qt.type="point"),d.emptySelections[M]=Xe!=="none";for(let on of Re(d.selectionPredicates[M]??{}))on.empty=Xe!=="none";return{name:M,value:se,select:qt,bind:Ve}})}:c}}function FL(u,c){let{transform:d,...g}=u;if(d){let E=d.map(D=>{if(Z9(D))return{filter:u_(D,c)};if(nu(D)&&Ie(D.bin))return{...D,bin:x3(D.bin)};if(Mu(D)){let{selection:M,...G}=D.from;return M?{...D,from:{param:M,...G}}:D}return D});return{...g,transform:E}}return u}function tA(u,c){var d,g;let E=Ee(u);if(br(E)&&Ie(E.bin)&&(E.bin=x3(E.bin)),ug(E)&&(d=E.scale)!==null&&d!==void 0&&(g=d.domain)!==null&&g!==void 0&&g.selection){let{selection:D,...M}=E.scale.domain;E.scale.domain={...M,...D?{param:D}:{}}}if(js(E))if(e.isArray(E.condition))E.condition=E.condition.map(D=>{let{selection:M,param:G,test:se,...Ve}=D;return G?D:{...Ve,test:u_(D,c)}});else{let{selection:D,param:M,test:G,...se}=tA(E.condition,c);E.condition=M?E.condition:{...se,test:u_(E.condition,c)}}return E}function x3(u){let c=u.extent;if(c!=null&&c.selection){let{selection:d,...g}=c;return{...u,extent:{...g,param:d}}}return u}function u_(u,c){let d=g=>te(g,E=>{let D=c.emptySelections[E]??!0,M={param:E,empty:D};return c.selectionPredicates[E]??=[],c.selectionPredicates[E].push(M),M});return u.selection?d(u.selection):te(u.test||u.filter,g=>g.selection?d(g.selection):g)}class nA extends Y9{map(c,d){let g=d.selections??[];if(c.params&&!Ap(c)){let E=[];for(let D of c.params)H9(D)?g.push(D):E.push(D);c.params=E}return d.selections=g,super.map(c,rA(c,d))}mapUnit(c,d){let g=d.selections;if(!g||!g.length)return c;let E=(d.path??[]).concat(c.name),D=[];for(let M of g)if(!M.views||!M.views.length)D.push(M);else for(let G of M.views)(e.isString(G)&&(G===c.name||E.indexOf(G)>=0)||e.isArray(G)&&G.map(se=>E.indexOf(se)).every((se,Ve,Xe)=>se!==-1&&(Ve===0||se>Xe[Ve-1])))&&D.push(M);return D.length&&(c.params=D),c}}for(let u of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){let c=nA.prototype[u];nA.prototype[u]=function(d,g){return c.call(this,d,rA(d,g))}}function rA(u,c){return u.name?{...c,path:(c.path??[]).concat(u.name)}:c}function l_(u,c){c===void 0&&(c=o_(u.config));let d=WQ(u,c),{width:g,height:E}=u,D=QQ(d,{width:g,height:E,autosize:u.autosize},c);return{...d,...D?{autosize:D}:{}}}let ld=new NQ,g3=new HQ,VQ=new nA;function WQ(u){let d={config:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}};return VQ.map(ld.map(g3.map(u,d),d),d)}function DL(u){return e.isString(u)?{type:u}:u??{}}function QQ(u,c,d){let{width:g,height:E}=c,D=Ap(u)||a_(u),M={};D?g=="container"&&E=="container"?(M.type="fit",M.contains="padding"):g=="container"?(M.type="fit-x",M.contains="padding"):E=="container"&&(M.type="fit-y",M.contains="padding"):(g=="container"&&(jr(en("width")),g=void 0),E=="container"&&(jr(en("height")),E=void 0));let G={type:"pad",...M,...d?DL(d.autosize):{},...DL(u.autosize)};if(G.type==="fit"&&!D&&(jr(ut),G.type="pad"),g=="container"&&!(G.type=="fit"||G.type=="fit-x")&&jr(Dn("width")),E=="container"&&!(G.type=="fit"||G.type=="fit-y")&&jr(Dn("height")),!et(G,{type:"pad"}))return G}function GQ(u){return u==="fit"||u==="fit-x"||u==="fit-y"}function RL(u){return u?`fit-${hi(u)}`:"fit"}let im=["background","padding"];function eo(u,c){let d={};for(let g of im)u&&u[g]!==void 0&&(d[g]=pi(u[g]));return c&&(d.params=u.params),d}class Dp{constructor(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.explicit=c,this.implicit=d}clone(){return new Dp(Ee(this.explicit),Ee(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(c){return Ne(this.explicit[c],this.implicit[c])}getWithExplicit(c){return this.explicit[c]!==void 0?{explicit:!0,value:this.explicit[c]}:this.implicit[c]!==void 0?{explicit:!1,value:this.implicit[c]}:{explicit:!1,value:void 0}}setWithExplicit(c,d){let{value:g,explicit:E}=d;g!==void 0&&this.set(c,g,E)}set(c,d,g){return delete this[g?"implicit":"explicit"][c],this[g?"explicit":"implicit"][c]=d,this}copyKeyFromSplit(c,d){let{explicit:g,implicit:E}=d;g[c]!==void 0?this.set(c,g[c],!0):E[c]!==void 0&&this.set(c,E[c],!1)}copyKeyFromObject(c,d){d[c]!==void 0&&this.set(c,d[c],!0)}copyAll(c){for(let d of re(c.combine())){let g=c.getWithExplicit(d);this.setWithExplicit(d,g)}}}function ul(u){return{explicit:!0,value:u}}function b0(u){return{explicit:!1,value:u}}function OL(u){return(c,d,g,E)=>{let D=u(c.value,d.value);return D>0?c:D<0?d:Qo(c,d,g,E)}}function Qo(u,c,d,g){return u.explicit&&c.explicit&&jr(Fi(d,g,u.value,c.value)),u}function a2(u,c,d,g){let E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Qo;return u===void 0||u.value===void 0?c:u.explicit&&!c.explicit?u:c.explicit&&!u.explicit?c:et(u.value,c.value)?u:E(u,c,d,g)}class NL extends Dp{constructor(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;super(c,d);this.explicit=c,this.implicit=d,this.parseNothing=g}clone(){let c=super.clone();return c.parseNothing=this.parseNothing,c}}function sm(u){return"url"in u}function c_(u){return"values"in u}function LL(u){return"name"in u&&!sm(u)&&!c_(u)&&!u2(u)}function u2(u){return u&&(kL(u)||IL(u)||iA(u))}function kL(u){return"sequence"in u}function IL(u){return"sphere"in u}function iA(u){return"graticule"in u}let ja;(function(u){u[u.Raw=0]="Raw",u[u.Main=1]="Main",u[u.Row=2]="Row",u[u.Column=3]="Column",u[u.Lookup=4]="Lookup"})(ja||(ja={}));function fg(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.identity;if(e.isArray(u)){let g=u.map(E=>fg(E,c,d));return c?`[${g.join(", ")}]`:g}else if(ed(u))return d(c?ff(u):rg(u));return c?d(Je(u)):u}function YQ(u,c){for(let d of Re(u.component.selection??{})){let g=d.name,E=`${g}${f2}, ${d.resolve==="global"?"true":`{unit: ${b3(u)}}`}`;for(let D of E3)!D.defined(d)||(D.signals&&(c=D.signals(u,d,c)),D.modifyExpr&&(E=D.modifyExpr(u,d,E)));c.push({name:g+hA,on:[{events:{signal:d.name+f2},update:`modify(${e.stringValue(d.name+dg)}, ${E})`}]})}return f_(c)}function KQ(u,c){if(u.component.selection&&re(u.component.selection).length){let d=e.stringValue(u.getName("cell"));c.unshift({name:"facet",value:{},on:[{events:e.parseSelector("mousemove","scope"),update:`isTuple(facet) ? facet : group(${d}).datum`}]})}return f_(c)}function JQ(u,c){let d=!1;for(let g of Re(u.component.selection??{})){let E=g.name,D=e.stringValue(E+dg);if(c.filter(G=>G.name===E).length===0){let G=g.resolve==="global"?"union":g.resolve,se=g.type==="point"?", true, true)":")";c.push({name:g.name,update:`${ek}(${D}, ${e.stringValue(G)}${se}`})}d=!0;for(let G of E3)G.defined(g)&&G.topLevelSignals&&(c=G.topLevelSignals(u,g,c))}return d&&c.filter(E=>E.name==="unit").length===0&&c.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),f_(c)}function XQ(u,c){let d=[...c],g=b3(u,{escape:!1});for(let E of Re(u.component.selection??{})){let D={name:E.name+dg};if(E.project.hasSelectionId&&(D.transform=[{type:"collect",sort:{field:Tp}}]),E.init){let G=E.project.items.map(se=>{let{signals:Ve,...Xe}=se;return Xe});D.values=E.project.hasSelectionId?E.init.map(se=>({unit:g,[Tp]:fg(se,!1)[0]})):E.init.map(se=>({unit:g,fields:G,values:fg(se,!1)}))}d.filter(G=>G.name===E.name+dg).length||d.push(D)}return d}function ML(u,c){for(let d of Re(u.component.selection??{}))for(let g of E3)g.defined(d)&&g.marks&&(c=g.marks(u,d,c));return c}function sA(u,c){for(let d of u.children)mc(d)&&(c=ML(d,c));return c}function ZQ(u,c,d,g){let E=ik(u,c.param,c);return{signal:Ct(d.get("type"))&&e.isArray(g)&&g[0]>g[1]?`isValid(${E}) && reverse(${E})`:E}}function f_(u){return u.map(c=>(c.on&&!c.on.length&&delete c.on,c))}class Sa{constructor(c,d){this.debugName=d,En(this,"_children",[]),En(this,"_parent",null),En(this,"_hash",void 0),c&&(this.parent=c)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(c){this._parent=c,c&&c.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(c,d){if(this._children.includes(c)){jr(f0);return}d!==void 0?this._children.splice(d,0,c):this._children.push(c)}removeChild(c){let d=this._children.indexOf(c);return this._children.splice(d,1),d}remove(){let c=this._parent.removeChild(this);for(let d of this._children)d._parent=this._parent,this._parent.addChild(d,c++)}insertAsParentOf(c){let d=c.parent;d.removeChild(this),this.parent=d,c.parent=this}swapWithParent(){let c=this._parent,d=c.parent;for(let E of this._children)E.parent=c;this._children=[],c.removeChild(this);let g=c.parent.removeChild(c);this._parent=d,d.addChild(this,g),c.parent=this}}class jf extends Sa{clone(){let c=new this.constructor;return c.debugName=`clone_${this.debugName}`,c._source=this._source,c._name=`clone_${this._name}`,c.type=this.type,c.refCounts=this.refCounts,c.refCounts[c._name]=0,c}constructor(c,d,g,E){super(c,d);this.type=g,this.refCounts=E,En(this,"_source",void 0),En(this,"_name",void 0),this._source=this._name=d,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${De()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(c){this._source=c}}class Rp extends Sa{clone(){return new Rp(null,Ee(this.formula))}constructor(c,d){super(c);this.formula=d}static makeFromEncoding(c,d){let g=d.reduceFieldDef((E,D)=>{let{field:M,timeUnit:G}=D;if(G){let se=fi(D,{forAs:!0});E[lt({as:se,field:M,timeUnit:G})]={as:se,field:M,timeUnit:G}}return E},{});return Ke(g)?null:new Rp(c,g)}static makeFromTransform(c,d){let{timeUnit:g,...E}={...d},D=xu(g),M={...E,timeUnit:D};return new Rp(c,{[lt(M)]:M})}merge(c){this.formula={...this.formula};for(let d in c.formula)this.formula[d]||(this.formula[d]=c.formula[d]);for(let d of c.children)c.removeChild(d),d.parent=this;c.remove()}removeFormulas(c){let d={};for(let[g,E]of nt(this.formula))c.has(E.as)||(d[g]=E);this.formula=d}producedFields(){return new Set(Re(this.formula).map(c=>c.as))}dependentFields(){return new Set(Re(this.formula).map(c=>c.field))}hash(){return`TimeUnit ${lt(this.formula)}`}assemble(){let c=[];for(let d of Re(this.formula)){let{field:g,as:E,timeUnit:D}=d,{unit:M,utc:G,...se}=xu(D);c.push({field:un(g),type:"timeunit",...M?{units:rl(M)}:{},...G?{timezone:"utc"}:{},...se,as:[E,`${E}_end`]})}return c}}let Bu="_tuple_fields";class S0{constructor(){En(this,"hasChannel",void 0),En(this,"hasField",void 0),En(this,"hasSelectionId",void 0),En(this,"timeUnit",void 0),En(this,"items",void 0);for(var c=arguments.length,d=new Array(c),g=0;g<c;g++)d[g]=arguments[g];this.items=d,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}let eG={defined:()=>!0,parse:(u,c,d)=>{let g=c.name,E=c.project??=new S0,D={},M={},G=new Set,se=(Xn,lr)=>{let pr=lr==="visual"?Xn.channel:Xn.field,kr=Rt(`${g}_${pr}`);for(let Ni=1;G.has(kr);Ni++)kr=Rt(`${g}_${pr}_${Ni}`);return G.add(kr),{[lr]:kr}},Ve=c.type,Xe=u.config.selection[Ve],qt=d.value!==void 0?e.array(d.value):null,{fields:on,encodings:Mn}=e.isObject(d.select)?d.select:{};if(!on&&!Mn&&qt){for(let Xn of qt)if(!!e.isObject(Xn))for(let lr of re(Xn))Wr(lr)?(Mn||(Mn=[])).push(lr):Ve==="interval"?(jr(G0),Mn=Xe.encodings):(on||(on=[])).push(lr)}!on&&!Mn&&(Mn=Xe.encodings,"fields"in Xe&&(on=Xe.fields));for(let Xn of Mn??[]){let lr=u.fieldDef(Xn);if(lr){let pr=lr.field;if(lr.aggregate){jr(es(Xn,lr.aggregate));continue}else if(!pr){jr(dr(Xn));continue}if(lr.timeUnit){pr=u.vgField(Xn);let kr={timeUnit:lr.timeUnit,as:pr,field:lr.field};M[lt(kr)]=kr}if(!D[pr]){let kr="E";if(Ve==="interval"){let Ui=u.getScaleComponent(Xn).get("type");Ct(Ui)&&(kr="R")}else lr.bin&&(kr="R-RE");let Ni={field:pr,channel:Xn,type:kr};Ni.signals={...se(Ni,"data"),...se(Ni,"visual")},E.items.push(D[pr]=Ni),E.hasField[pr]=E.hasChannel[Xn]=D[pr],E.hasSelectionId=E.hasSelectionId||pr===Tp}}else jr(dr(Xn))}for(let Xn of on??[]){if(E.hasField[Xn])continue;let lr={type:"E",field:Xn};lr.signals={...se(lr,"data")},E.items.push(lr),E.hasField[Xn]=lr,E.hasSelectionId=E.hasSelectionId||Xn===Tp}qt&&(c.init=qt.map(Xn=>E.items.map(lr=>e.isObject(Xn)?Xn[lr.channel]!==void 0?Xn[lr.channel]:Xn[lr.field]:Xn))),Ke(M)||(E.timeUnit=new Rp(null,M))},signals:(u,c,d)=>{let g=c.name+Bu;return d.filter(D=>D.name===g).length>0||c.project.hasSelectionId?d:d.concat({name:g,value:c.project.items.map(D=>{let{signals:M,hasLegend:G,...se}=D;return se.field=un(se.field),se})})}},l2={defined:u=>u.type==="interval"&&u.resolve==="global"&&u.bind&&u.bind==="scales",parse:(u,c)=>{let d=c.scales=[];for(let g of c.project.items){let E=g.channel;if(!Ii(E))continue;let D=u.getScaleComponent(E),M=D?D.get("type"):void 0;if(!D||!Ct(M)){jr(Za);continue}D.set("selectionExtent",{param:c.name,field:g.field},!0),d.push(g)}},topLevelSignals:(u,c,d)=>{let g=c.scales.filter(M=>d.filter(G=>G.name===M.signals.data).length===0);if(!u.parent||aA(u)||g.length===0)return d;let E=d.filter(M=>M.name===c.name)[0],D=E.update;if(D.indexOf(ek)>=0)E.update=`{${g.map(M=>`${e.stringValue(un(M.field))}: ${M.signals.data}`).join(", ")}}`;else{for(let M of g){let G=`${e.stringValue(un(M.field))}: ${M.signals.data}`;D.includes(G)||(D=`${D.substring(0,D.length-1)}, ${G}}`)}E.update=D}return d.concat(g.map(M=>({name:M.signals.data})))},signals:(u,c,d)=>{if(u.parent&&!aA(u))for(let g of c.scales){let E=d.filter(D=>D.name===g.signals.data)[0];E.push="outer",delete E.value,delete E.update}return d}};function oA(u,c){return`domain(${e.stringValue(u.scaleName(c))})`}function aA(u){return u.parent&&r8(u.parent)&&!u.parent.parent}let y3="_brush",uA="_scale_trigger",tG={defined:u=>u.type==="interval",signals:(u,c,d)=>{let g=c.name,E=g+Bu,D=l2.defined(c),M=c.init?c.init[0]:null,G=[],se=[];if(c.translate&&!D){let Xe=`!event.item || event.item.mark.name !== ${e.stringValue(g+y3)}`;BL(c,(qt,on)=>{let Mn=e.array(on.between[0].filter??=[]);return Mn.includes(Xe)||Mn.push(Xe),qt})}c.project.items.forEach((Xe,qt)=>{let on=Xe.channel;if(on!==Nn&&on!==rr){jr("Interval selections only support x and y encoding channels.");return}let Mn=M?M[qt]:null,Xn=PL(u,c,Xe,Mn),lr=Xe.signals.data,pr=Xe.signals.visual,kr=e.stringValue(u.scaleName(on)),Ni=u.getScaleComponent(on).get("type"),Ui=Ct(Ni)?"+":"";d.push(...Xn),G.push(lr),se.push({scaleName:u.scaleName(on),expr:`(!isArray(${lr}) || (${Ui}invert(${kr}, ${pr})[0] === ${Ui}${lr}[0] && ${Ui}invert(${kr}, ${pr})[1] === ${Ui}${lr}[1]))`})}),!D&&se.length&&d.push({name:g+uA,value:{},on:[{events:se.map(Xe=>({scale:Xe.scaleName})),update:`${se.map(Xe=>Xe.expr).join(" && ")} ? ${g+uA} : {}`}]});let Ve=`unit: ${b3(u)}, fields: ${E}, values`;return d.concat({name:g+f2,...M?{init:`{${Ve}: ${fg(M)}}`}:{},...G.length?{on:[{events:[{signal:G.join(" || ")}],update:`${G.join(" && ")} ? {${Ve}: [${G}]} : null`}]}:{}})},marks:(u,c,d)=>{let g=c.name,{x:E,y:D}=c.project.hasChannel,M=E==null?void 0:E.signals.visual,G=D==null?void 0:D.signals.visual,se=`data(${e.stringValue(c.name+dg)})`;if(l2.defined(c)||!E&&!D)return d;let Ve={x:E!==void 0?{signal:`${M}[0]`}:{value:0},y:D!==void 0?{signal:`${G}[0]`}:{value:0},x2:E!==void 0?{signal:`${M}[1]`}:{field:{group:"width"}},y2:D!==void 0?{signal:`${G}[1]`}:{field:{group:"height"}}};if(c.resolve==="global")for(let lr of re(Ve))Ve[lr]=[{test:`${se}.length && ${se}[0].unit === ${b3(u)}`,...Ve[lr]},{value:0}];let{fill:Xe,fillOpacity:qt,cursor:on,...Mn}=c.mark,Xn=re(Mn).reduce((lr,pr)=>(lr[pr]=[{test:[E!==void 0&&`${M}[0] !== ${M}[1]`,D!==void 0&&`${G}[0] !== ${G}[1]`].filter(kr=>kr).join(" && "),value:Mn[pr]},{value:null}],lr),{});return[{name:`${g+y3}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:Xe},fillOpacity:{value:qt}},update:Ve}},...d,{name:g+y3,type:"rect",clip:!0,encode:{enter:{...on?{cursor:{value:on}}:{},fill:{value:"transparent"}},update:{...Ve,...Xn}}}]}};function PL(u,c,d,g){let E=d.channel,D=d.signals.visual,M=d.signals.data,G=l2.defined(c),se=e.stringValue(u.scaleName(E)),Ve=u.getScaleComponent(E),Xe=Ve?Ve.get("type"):void 0,qt=lr=>`scale(${se}, ${lr})`,on=u.getSizeSignalRef(E===Nn?"width":"height").signal,Mn=`${E}(unit)`,Xn=BL(c,(lr,pr)=>[...lr,{events:pr.between[0],update:`[${Mn}, ${Mn}]`},{events:pr,update:`[${D}[0], clamp(${Mn}, 0, ${on})]`}]);return Xn.push({events:{signal:c.name+uA},update:Ct(Xe)?`[${qt(`${M}[0]`)}, ${qt(`${M}[1]`)}]`:"[0, 0]"}),G?[{name:M,on:[]}]:[{name:D,...g?{init:fg(g,!0,qt)}:{value:[]},on:Xn},{name:M,...g?{init:fg(g)}:{},on:[{events:{signal:D},update:`${D}[0] === ${D}[1] ? null : invert(${se}, ${D})`}]}]}function BL(u,c){return u.events.reduce((d,g)=>g.between?c(d,g):(jr(`${g} is not an ordered event stream for interval selections.`),d),[])}let nG={defined:u=>u.type==="point",signals:(u,c,d)=>{let g=c.name,E=g+Bu,D=c.project,M="(item().isVoronoi ? datum.datum : datum)",G=Re(u.component.selection??{}).reduce((qt,on)=>on.type==="interval"?qt.concat(on.name+y3):qt,[]).map(qt=>`indexof(item().mark.name, '${qt}') < 0`).join(" && "),se=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${G?` && ${G}`:""}`,Ve=`unit: ${b3(u)}, `;if(c.project.hasSelectionId)Ve+=`${Tp}: ${M}[${e.stringValue(Tp)}]`;else{let qt=D.items.map(on=>{let Mn=u.fieldDef(on.channel);return Mn!=null&&Mn.bin?`[${M}[${e.stringValue(u.vgField(on.channel,{}))}], ${M}[${e.stringValue(u.vgField(on.channel,{binSuffix:"end"}))}]]`:`${M}[${e.stringValue(on.field)}]`}).join(", ");Ve+=`fields: ${E}, values: [${qt}]`}let Xe=c.events;return d.concat([{name:g+f2,on:Xe?[{events:Xe,update:`${se} ? {${Ve}} : null`,force:!0}]:[]}])}};function v3(u,c,d,g){let E=js(c)&&c.condition,D=g(c);if(E){let G=e.array(E).map(se=>{let Ve=g(se);if(_0(se)){let{param:Xe,empty:qt}=se;return{test:Zb(u,{param:Xe,empty:qt}),...Ve}}else return{test:e8(u,se.test),...Ve}});return{[d]:[...G,...D!==void 0?[D]:[]]}}else return D!==void 0?{[d]:D}:{}}function Wb(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"text",d=u.encoding[c];return v3(u,d,c,g=>d_(g,u.config))}function d_(u,c){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"datum";if(u){if(Kd(u))return qr(u.value);if(ks(u)){let{format:g,formatType:E}=Rb(u);return ds({fieldOrDatumDef:u,format:g,formatType:E,expr:d,config:c})}}}function jL(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{encoding:d,markDef:g,config:E,stack:D}=u,M=d.tooltip;if(e.isArray(M))return{tooltip:UL({tooltip:M},D,E,c)};{let G=c.reactiveGeom?"datum.datum":"datum";return v3(u,M,"tooltip",se=>{let Ve=d_(se,E,G);if(Ve)return Ve;if(se===null)return;let Xe=vi("tooltip",g,E);if(Xe===!0&&(Xe={content:"encoding"}),e.isString(Xe))return{value:Xe};if(e.isObject(Xe))return $n(Xe)?Xe:Xe.content==="encoding"?UL(d,D,E,c):{signal:G}})}}function qL(u,c,d){let{reactiveGeom:g}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},E={},D=g?"datum.datum":"datum",M=[];function G(Ve,Xe){let qt=ai(Xe),on=Yd(Ve)?Ve:{...Ve,type:u[qt].type},Mn=on.title||Db(on,d),Xn=e.array(Mn).join(", "),lr;if(us(Xe)){let pr=Xe==="x"?"x2":"y2",kr=jh(u[pr]);if(is(on.bin)&&kr){let Ni=fi(on,{expr:D}),Ui=fi(kr,{expr:D}),{format:Os,formatType:ji}=Rb(on);lr=Ta(Ni,Ui,Os,ji,d),E[pr]=!0}}if((us(Xe)||Xe===hn||Xe===rt)&&c&&c.fieldChannel===Xe&&c.offset==="normalize"){let{format:pr,formatType:kr}=Rb(on);lr=ds({fieldOrDatumDef:on,format:pr,formatType:kr,expr:D,config:d,normalizeStack:!0}).signal}lr??=d_(on,d,D).signal,M.push({channel:Xe,key:Xn,value:lr})}k9(u,(Ve,Xe)=>{br(Ve)?G(Ve,Xe):bo(Ve)&&G(Ve.condition,Xe)});let se={};for(let{channel:Ve,key:Xe,value:qt}of M)!E[Ve]&&!se[Xe]&&(se[Xe]=qt);return se}function UL(u,c,d){let{reactiveGeom:g}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},E=qL(u,c,d,{reactiveGeom:g}),D=nt(E).map(M=>{let[G,se]=M;return`"${G}": ${se}`});return D.length>0?{signal:`{${D.join(", ")}}`}:void 0}function rG(u){let{markDef:c,config:d}=u,g=vi("aria",c,d);return g===!1?{}:{...g?{aria:g}:{},..._3(u),...iG(u)}}function _3(u){let{mark:c,markDef:d,config:g}=u;if(g.aria===!1)return{};let E=vi("ariaRoleDescription",d,g);return E!=null?{ariaRoleDescription:{value:E}}:c in Or?{}:{ariaRoleDescription:{value:c}}}function iG(u){let{encoding:c,markDef:d,config:g,stack:E}=u,D=c.description;if(D)return v3(u,D,"description",se=>d_(se,u.config));let M=vi("description",d,g);if(M!=null)return{description:qr(M)};if(g.aria===!1)return{};let G=qL(c,E,g);if(!Ke(G))return{description:{signal:nt(G).map((se,Ve)=>{let[Xe,qt]=se;return`"${Ve>0?"; ":""}${Xe}: " + (${qt})`}).join(" + ")}}}function pc(u,c){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{markDef:g,encoding:E,config:D}=c,{vgChannel:M}=d,{defaultRef:G,defaultValue:se}=d;G===void 0&&(se??=vi(u,g,D,{vgChannel:M,ignoreVgConfig:!0}),se!==void 0&&(G=qr(se)));let Ve=E[u];return v3(c,Ve,M??u,Xe=>Kr({channel:u,channelDef:Xe,markDef:g,config:D,scaleName:c.scaleName(u),scale:c.getScaleComponent(u),stack:null,defaultRef:G}))}function $L(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{filled:void 0},{markDef:d,encoding:g,config:E}=u,{type:D}=d,M=c.filled??vi("filled",d,E),G=wt(["bar","point","circle","square","geoshape"],D)?"transparent":void 0,se=vi(M===!0?"color":void 0,d,E,{vgChannel:"fill"})??E.mark[M===!0&&"color"]??G,Ve=vi(M===!1?"color":void 0,d,E,{vgChannel:"stroke"})??E.mark[M===!1&&"color"],Xe=M?"fill":"stroke",qt={...se?{fill:qr(se)}:{},...Ve?{stroke:qr(Ve)}:{}};return d.color&&(M?d.fill:d.stroke)&&jr(p0("property",{fill:"fill"in d,stroke:"stroke"in d})),{...qt,...pc("color",u,{vgChannel:Xe,defaultValue:M?se:Ve}),...pc("fill",u,{defaultValue:g.fill?se:void 0}),...pc("stroke",u,{defaultValue:g.stroke?Ve:void 0})}}function sG(u){let{encoding:c,mark:d}=u,g=c.order;return!mf(d)&&Kd(g)?v3(u,g,"zindex",E=>qr(E.value)):{}}function h_(u){let{channel:c,markDef:d,encoding:g={},model:E,bandPosition:D}=u,M=`${c}Offset`,G=d[M],se=g[M];if((M==="xOffset"||M==="yOffset")&&se){let Xe=Kr({channel:M,channelDef:se,markDef:d,config:E==null?void 0:E.config,scaleName:E.scaleName(M),scale:E.getScaleComponent(M),stack:null,defaultRef:qr(G),bandPosition:D});return{offsetType:"encoding",offset:Xe}}let Ve=d[M];return Ve?{offsetType:"visual",offset:Ve}:{}}function $c(u,c,d){let{defaultPos:g,vgChannel:E}=d,{encoding:D,markDef:M,config:G,stack:se}=c,Ve=D[u],Xe=D[Cs(u)],qt=c.scaleName(u),on=c.getScaleComponent(u),{offset:Mn,offsetType:Xn}=h_({channel:u,markDef:M,encoding:D,model:c,bandPosition:.5}),lr=lA({model:c,defaultPos:g,channel:u,scaleName:qt,scale:on}),pr=!Ve&&us(u)&&(D.latitude||D.longitude)?{field:c.getName(u)}:zL({channel:u,channelDef:Ve,channel2Def:Xe,markDef:M,config:G,scaleName:qt,scale:on,stack:se,offset:Mn,defaultRef:lr,bandPosition:Xn==="encoding"?0:void 0});return pr?{[E||u]:pr}:void 0}function zL(u){let{channel:c,channelDef:d,scaleName:g,stack:E,offset:D,markDef:M}=u;if(ks(d)&&E&&c===E.fieldChannel){if(br(d)){let G=d.bandPosition;if(G===void 0&&M.type==="text"&&(c==="radius"||c==="theta")&&(G=.5),G!==void 0)return Rr({scaleName:g,fieldOrDatumDef:d,startSuffix:"start",bandPosition:G,offset:D})}return or(d,g,{suffix:"end"},{offset:D})}return zt(u)}function lA(u){let{model:c,defaultPos:d,channel:g,scaleName:E,scale:D}=u,{markDef:M,config:G}=c;return()=>{let se=ai(g),Ve=Xi(g),Xe=vi(g,M,G,{vgChannel:Ve});if(Xe!==void 0)return Lr(g,Xe);switch(d){case"zeroOrMin":case"zeroOrMax":if(E){let qt=D.get("type");if(!wt([sl.LOG,sl.TIME,sl.UTC],qt)){if(D.domainDefinitelyIncludesZero())return{scale:E,value:0}}}if(d==="zeroOrMin")return se==="y"?{field:{group:"height"}}:{value:0};switch(se){case"radius":return{signal:`min(${c.width.signal},${c.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":return{...c[ts(g)],mult:.5}}}}let oG={left:"x",center:"xc",right:"x2"},aG={top:"y",middle:"yc",bottom:"y2"};function HL(u,c,d){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle";if(u==="radius"||u==="theta")return Xi(u);let E=u==="x"?"align":"baseline",D=vi(E,c,d),M;return $n(D)?(jr(Is(E)),M=void 0):M=D,u==="x"?oG[M||(g==="top"?"left":"center")]:aG[M||g]}function Qb(u,c,d){let{defaultPos:g,defaultPos2:E,range:D}=d;return D?VL(u,c,{defaultPos:g,defaultPos2:E}):$c(u,c,{defaultPos:g})}function VL(u,c,d){let{defaultPos:g,defaultPos2:E}=d,{markDef:D,config:M}=c,G=Cs(u),se=ts(u),Ve=uG(c,E,G),Xe=Ve[se]?HL(u,D,M):Xi(u);return{...$c(u,c,{defaultPos:g,vgChannel:Xe}),...Ve}}function uG(u,c,d){let{encoding:g,mark:E,markDef:D,stack:M,config:G}=u,se=ai(d),Ve=ts(d),Xe=Xi(d),qt=g[se],on=u.scaleName(se),Mn=u.getScaleComponent(se),{offset:Xn}=d in g||d in D?h_({channel:d,markDef:D,encoding:g,model:u}):h_({channel:se,markDef:D,encoding:g,model:u});if(!qt&&(d==="x2"||d==="y2")&&(g.latitude||g.longitude)){let pr=ts(d),kr=u.markDef[pr];return kr!=null?{[pr]:{value:kr}}:{[Xe]:{field:u.getName(d)}}}let lr=lG({channel:d,channelDef:qt,channel2Def:g[d],markDef:D,config:G,scaleName:on,scale:Mn,stack:M,offset:Xn,defaultRef:void 0});return lr!==void 0?{[Xe]:lr}:Gb(d,D)||Gb(d,{[d]:ss(d,D,G.style),[Ve]:ss(Ve,D,G.style)})||Gb(d,G[E])||Gb(d,G.mark)||{[Xe]:lA({model:u,defaultPos:c,channel:d,scaleName:on,scale:Mn})()}}function lG(u){let{channel:c,channelDef:d,channel2Def:g,markDef:E,config:D,scaleName:M,scale:G,stack:se,offset:Ve,defaultRef:Xe}=u;return ks(d)&&se&&c.charAt(0)===se.fieldChannel.charAt(0)?or(d,M,{suffix:"start"},{offset:Ve}):zt({channel:c,channelDef:g,scaleName:M,scale:G,stack:se,markDef:E,config:D,offset:Ve,defaultRef:Xe})}function Gb(u,c){let d=ts(u),g=Xi(u);if(c[g]!==void 0)return{[g]:Lr(u,c[g])};if(c[u]!==void 0)return{[g]:Lr(u,c[u])};if(c[d]){let E=c[d];if(x(E))jr(Uo(d));else return{[d]:Lr(u,E)}}}function c2(u,c){let{config:d,encoding:g,markDef:E}=u,D=E.type,M=Cs(c),G=ts(c),se=g[c],Ve=g[M],Xe=u.getScaleComponent(c),qt=Xe?Xe.get("type"):void 0,on=E.orient,Mn=g[G]??g.size??vi("size",E,d,{vgChannel:G}),Xn=D==="bar"&&(c==="x"?on==="vertical":on==="horizontal");return br(se)&&(xr(se.bin)||is(se.bin)||se.timeUnit&&!Ve)&&!(Mn&&!x(Mn))&&!Pe(qt)?dG({fieldDef:se,fieldDef2:Ve,channel:c,model:u}):(ks(se)&&Pe(qt)||Xn)&&!Ve?fG(se,c,u):VL(c,u,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function cG(u,c,d,g,E){if(x(E))if(d){let M=d.get("type");if(M==="band"){let G=`bandwidth('${c}')`;return E.band!==1&&(G=`${E.band} * ${G}`),{signal:`max(0.25, ${G})`}}else E.band!==1&&(jr(je(M)),E=void 0)}else return{mult:E.band,field:{group:u}};else{if($n(E))return E;if(E)return{value:E}}if(d){let M=d.get("range");if(Er(M)&&e.isNumber(M.step))return{value:M.step-2}}return{value:qb(g.view,u)-2}}function fG(u,c,d){let{markDef:g,encoding:E,config:D,stack:M}=d,G=g.orient,se=d.scaleName(c),Ve=d.getScaleComponent(c),Xe=ts(c),qt=Cs(c),on=Aa(c),Mn=d.scaleName(on),Xn=G==="horizontal"&&c==="y"||G==="vertical"&&c==="x",lr;(E.size||g.size)&&(Xn?lr=pc("size",d,{vgChannel:Xe,defaultRef:qr(g.size)}):jr(kn(g.type)));let pr=!!lr,kr=tm({channel:c,fieldDef:u,markDef:g,config:D,scaleType:Ve==null?void 0:Ve.get("type"),useVlSizeChannel:Xn});lr=lr||{[Xe]:cG(Xe,Mn||se,Ve,D,kr)};let Ni=(Ve==null?void 0:Ve.get("type"))==="band"&&x(kr)&&!pr?"top":"middle",Ui=HL(c,g,D,Ni),Os=Ui==="xc"||Ui==="yc",{offset:ji,offsetType:ia}=h_({channel:c,markDef:g,encoding:E,model:d,bandPosition:Os?.5:0}),as=zt({channel:c,channelDef:u,markDef:g,config:D,scaleName:se,scale:Ve,stack:M,offset:ji,defaultRef:lA({model:d,defaultPos:"mid",channel:c,scaleName:se,scale:Ve}),bandPosition:Os?ia==="encoding"?0:.5:$n(kr)?{signal:`(1-${kr})/2`}:x(kr)?(1-kr.band)/2:0});if(Xe)return{[Ui]:as,...lr};{let ll=Xi(qt),Rl=lr[Xe],xc=ji?{...Rl,offset:ji}:Rl;return{[Ui]:as,[ll]:e.isArray(as)?[as[0],{...as[1],offset:xc}]:{...as,offset:xc}}}}function p_(u,c,d,g,E){if(ue(u))return 0;let D=u==="x"||u==="y2"?-c/2:c/2;if($n(d)||$n(E)||$n(g)){let M=gi(d),G=gi(E),se=gi(g),Ve=se?`${se} + `:"",Xe=M?`(${M} ? -1 : 1) * `:"",qt=G?`(${G} + ${D})`:D;return{signal:Ve+Xe+qt}}else return E=E||0,g+(d?-E-D:+E+D)}function dG(u){var c;let{fieldDef:d,fieldDef2:g,channel:E,model:D}=u,{config:M,markDef:G,encoding:se}=D,Ve=D.getScaleComponent(E),Xe=D.scaleName(E),qt=Ve?Ve.get("type"):void 0,on=Ve.get("reverse"),Mn=tm({channel:E,fieldDef:d,markDef:G,config:M,scaleType:qt}),Xn=(c=D.component.axes[E])===null||c===void 0?void 0:c[0],lr=(Xn==null?void 0:Xn.get("translate"))??.5,pr=us(E)?vi("binSpacing",G,M)??0:0,kr=Cs(E),Ni=Xi(E),Ui=Xi(kr),{offset:Os}=h_({channel:E,markDef:G,encoding:se,model:D,bandPosition:0}),ji=$n(Mn)?{signal:`(1-${Mn.signal})/2`}:x(Mn)?(1-Mn.band)/2:.5;if(xr(d.bin)||d.timeUnit)return{[Ui]:WL({fieldDef:d,scaleName:Xe,bandPosition:ji,offset:p_(kr,pr,on,lr,Os)}),[Ni]:WL({fieldDef:d,scaleName:Xe,bandPosition:$n(ji)?{signal:`1-${ji.signal}`}:1-ji,offset:p_(E,pr,on,lr,Os)})};if(is(d.bin)){let ia=or(d,Xe,{},{offset:p_(kr,pr,on,lr,Os)});if(br(g))return{[Ui]:ia,[Ni]:or(g,Xe,{},{offset:p_(E,pr,on,lr,Os)})};if(Ie(d.bin)&&d.bin.step)return{[Ui]:ia,[Ni]:{signal:`scale("${Xe}", ${fi(d,{expr:"datum"})} + ${d.bin.step})`,offset:p_(E,pr,on,lr,Os)}}}jr(cc(kr))}function WL(u){let{fieldDef:c,scaleName:d,bandPosition:g,offset:E}=u;return Rr({scaleName:d,fieldOrDatumDef:c,bandPosition:g,offset:E})}let hG=new Set(["aria","width","height"]);function Zd(u,c){let{fill:d=void 0,stroke:g=void 0}=c.color==="include"?$L(u):{};return{...pG(u.markDef,c),...QL(u,"fill",d),...QL(u,"stroke",g),...pc("opacity",u),...pc("fillOpacity",u),...pc("strokeOpacity",u),...pc("strokeWidth",u),...pc("strokeDash",u),...sG(u),...jL(u),...Wb(u,"href"),...rG(u)}}function QL(u,c,d){let{config:g,mark:E,markDef:D}=u;if(vi("invalid",D,g)==="hide"&&d&&!mf(E)){let G=mG(u,{invalid:!0,channels:vs});if(G)return{[c]:[{test:G,value:null},...e.array(d)]}}return d?{[c]:d}:{}}function pG(u,c){return gr.reduce((d,g)=>(!hG.has(g)&&u[g]!==void 0&&c[g]!=="ignore"&&(d[g]=qr(u[g])),d),{})}function mG(u,c){let{invalid:d=!1,channels:g}=c,E=g.reduce((M,G)=>{let se=u.getScaleComponent(G);if(se){let Ve=se.get("type"),Xe=u.vgField(G,{expr:"datum"});Xe&&Ct(Ve)&&(M[Xe]=!0)}return M},{}),D=re(E);if(D.length>0){let M=d?"||":"&&";return D.map(G=>Bn(G,d)).join(` ${M} `)}}function cA(u){let{config:c,markDef:d}=u;if(vi("invalid",d,c)){let E=xG(u,{channels:io});if(E)return{defined:{signal:E}}}return{}}function xG(u,c){let{invalid:d=!1,channels:g}=c,E=g.reduce((M,G)=>{let se=u.getScaleComponent(G);if(se){var Ve;let Xe=se.get("type"),qt=u.vgField(G,{expr:"datum",binSuffix:(Ve=u.stack)!==null&&Ve!==void 0&&Ve.impute?"mid":void 0});qt&&Ct(Xe)&&(M[qt]=!0)}return M},{}),D=re(E);if(D.length>0){let M=d?"||":"&&";return D.map(G=>Bn(G,d)).join(` ${M} `)}}function GL(u,c){if(c!==void 0)return{[u]:qr(c)}}let fA="voronoi",YL={defined:u=>u.type==="point"&&u.nearest,parse:(u,c)=>{if(c.events)for(let d of c.events)d.markname=u.getName(fA)},marks:(u,c,d)=>{let{x:g,y:E}=c.project.hasChannel,D=u.mark;if(mf(D))return jr(_s(D)),d;let M={name:u.getName(fA),type:"path",interactive:!0,from:{data:u.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...jL(u,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:g||!E?"datum.datum.x || 0":"0"},y:{expr:E||!g?"datum.datum.y || 0":"0"},size:[u.getSizeSignalRef("width"),u.getSizeSignalRef("height")]}]},G=0,se=!1;return d.forEach((Ve,Xe)=>{let qt=Ve.name??"";qt===u.component.mark[0].name?G=Xe:qt.indexOf(fA)>=0&&(se=!0)}),se||d.splice(G+1,0,M),d}},Yb={defined:u=>u.type==="point"&&u.resolve==="global"&&u.bind&&u.bind!=="scales"&&!$9(u.bind),parse:(u,c,d)=>tk(c,d),topLevelSignals:(u,c,d)=>{let g=c.name,E=c.project,D=c.bind,M=c.init&&c.init[0],G=YL.defined(c)?"(item().isVoronoi ? datum.datum : datum)":"datum";return E.items.forEach((se,Ve)=>{let Xe=Rt(`${g}_${se.field}`);d.filter(on=>on.name===Xe).length||d.unshift({name:Xe,...M?{init:fg(M[Ve])}:{value:null},on:c.events?[{events:c.events,update:`datum && item().mark.marktype !== 'group' ? ${G}[${e.stringValue(se.field)}] : null`}]:[],bind:D[se.field]??D[se.channel]??D})}),d},signals:(u,c,d)=>{let g=c.name,E=c.project,D=d.filter(Ve=>Ve.name===g+f2)[0],M=g+Bu,G=E.items.map(Ve=>Rt(`${g}_${Ve.field}`)),se=G.map(Ve=>`${Ve} !== null`).join(" && ");return G.length&&(D.update=`${se} ? {fields: ${M}, values: [${G.join(", ")}]} : null`),delete D.value,delete D.on,d}},m_="_toggle",dA={defined:u=>u.type==="point"&&!!u.toggle,signals:(u,c,d)=>d.concat({name:c.name+m_,value:!1,on:[{events:c.events,update:c.toggle}]}),modifyExpr:(u,c)=>{let d=c.name+f2,g=c.name+m_;return`${g} ? null : ${d}, `+(c.resolve==="global"?`${g} ? null : true, `:`${g} ? null : {unit: ${b3(u)}}, `)+`${g} ? ${d} : null`}},gG={defined:u=>u.clear!==void 0&&u.clear!==!1,parse:(u,c)=>{c.clear&&(c.clear=e.isString(c.clear)?e.parseSelector(c.clear,"view"):c.clear)},topLevelSignals:(u,c,d)=>{if(Yb.defined(c))for(let g of c.project.items){let E=d.findIndex(D=>D.name===Rt(`${c.name}_${g.field}`));E!==-1&&d[E].on.push({events:c.clear,update:"null"})}return d},signals:(u,c,d)=>{function g(E,D){E!==-1&&d[E].on&&d[E].on.push({events:c.clear,update:D})}if(c.type==="interval")for(let E of c.project.items){let D=d.findIndex(M=>M.name===E.signals.visual);if(g(D,"[0, 0]"),D===-1){let M=d.findIndex(G=>G.name===E.signals.data);g(M,"null")}}else{let E=d.findIndex(D=>D.name===c.name+f2);g(E,"null"),dA.defined(c)&&(E=d.findIndex(D=>D.name===c.name+m_),g(E,"false"))}return d}},KL={defined:u=>{let c=u.resolve==="global"&&u.bind&&$9(u.bind),d=u.project.items.length===1&&u.project.items[0].field!==Tp;return c&&!d&&jr(sc),c&&d},parse:(u,c,d)=>{let g=Ee(d);if(g.select=e.isString(g.select)?{type:g.select,toggle:c.toggle}:{...g.select,toggle:c.toggle},tk(c,g),e.isObject(d.select)&&(d.select.on||d.select.clear)){let M='event.item && indexof(event.item.mark.role, "legend") < 0';for(let G of c.events)G.filter=e.array(G.filter??[]),G.filter.includes(M)||G.filter.push(M)}let E=z9(c.bind)?c.bind.legend:"click",D=e.isString(E)?e.parseSelector(E,"view"):e.array(E);c.bind={legend:{merge:D}}},topLevelSignals:(u,c,d)=>{let g=c.name,E=z9(c.bind)&&c.bind.legend,D=M=>G=>{let se=Ee(G);return se.markname=M,se};for(let M of c.project.items){if(!M.hasLegend)continue;let G=`${Rt(M.field)}_legend`,se=`${g}_${G}`;if(d.filter(Xe=>Xe.name===se).length===0){let Xe=E.merge.map(D(`${G}_symbols`)).concat(E.merge.map(D(`${G}_labels`))).concat(E.merge.map(D(`${G}_entries`)));d.unshift({name:se,...c.init?{}:{value:null},on:[{events:Xe,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:E.merge,update:`!event.item || !datum ? null : ${se}`,force:!0}]})}}return d},signals:(u,c,d)=>{let g=c.name,E=c.project,D=d.find(on=>on.name===g+f2),M=g+Bu,G=E.items.filter(on=>on.hasLegend).map(on=>Rt(`${g}_${Rt(on.field)}_legend`)),Ve=`${G.map(on=>`${on} !== null`).join(" && ")} ? {fields: ${M}, values: [${G.join(", ")}]} : null`;c.events&&G.length>0?D.on.push({events:G.map(on=>({signal:on})),update:Ve}):G.length>0&&(D.update=Ve,delete D.value,delete D.on);let Xe=d.find(on=>on.name===g+m_),qt=z9(c.bind)&&c.bind.legend;return Xe&&(c.events?Xe.on.push({...Xe.on[0],events:qt}):Xe.on[0].events=qt),d}};function yG(u,c,d){var g;let E=(g=u.fieldDef(c))===null||g===void 0?void 0:g.field;for(let D of Re(u.component.selection??{})){let M=D.project.hasField[E]??D.project.hasChannel[c];if(M&&KL.defined(D)){let G=d.get("selections")??[];G.push(D.name),d.set("selections",G,!1),M.hasLegend=!0}}}let Kb="_translate_anchor",JL="_translate_delta",vG={defined:u=>u.type==="interval"&&u.translate,signals:(u,c,d)=>{let g=c.name,E=l2.defined(c),D=g+Kb,{x:M,y:G}=c.project.hasChannel,se=e.parseSelector(c.translate,"scope");return E||(se=se.map(Ve=>(Ve.between[0].markname=g+y3,Ve))),d.push({name:D,value:{},on:[{events:se.map(Ve=>Ve.between[0]),update:"{x: x(unit), y: y(unit)"+(M!==void 0?`, extent_x: ${E?oA(u,Nn):`slice(${M.signals.visual})`}`:"")+(G!==void 0?`, extent_y: ${E?oA(u,rr):`slice(${G.signals.visual})`}`:"")+"}"}]},{name:g+JL,value:{},on:[{events:se,update:`{x: ${D}.x - x(unit), y: ${D}.y - y(unit)}`}]}),M!==void 0&&XL(u,c,M,"width",d),G!==void 0&&XL(u,c,G,"height",d),d}};function XL(u,c,d,g,E){let D=c.name,M=D+Kb,G=D+JL,se=d.channel,Ve=l2.defined(c),Xe=E.filter(ji=>ji.name===d.signals[Ve?"data":"visual"])[0],qt=u.getSizeSignalRef(g).signal,on=u.getScaleComponent(se),Mn=on.get("type"),Xn=on.get("reverse"),lr=Ve?se===Nn?Xn?"":"-":Xn?"-":"":"",pr=`${M}.extent_${se}`,kr=`${lr}${G}.${se} / ${Ve?`${qt}`:`span(${pr})`}`,Ni=Ve?Mn==="log"?"panLog":Mn==="symlog"?"panSymlog":Mn==="pow"?"panPow":"panLinear":"panLinear",Ui=Ve?Mn==="pow"?`, ${on.get("exponent")??1}`:Mn==="symlog"?`, ${on.get("constant")??1}`:"":"",Os=`${Ni}(${pr}, ${kr}${Ui})`;Xe.on.push({events:{signal:G},update:Ve?Os:`clampRange(${Os}, 0, ${qt})`})}let qf="_zoom_anchor",Jb="_zoom_delta",_G={defined:u=>u.type==="interval"&&u.zoom,signals:(u,c,d)=>{let g=c.name,E=l2.defined(c),D=g+Jb,{x:M,y:G}=c.project.hasChannel,se=e.stringValue(u.scaleName(Nn)),Ve=e.stringValue(u.scaleName(rr)),Xe=e.parseSelector(c.zoom,"scope");return E||(Xe=Xe.map(qt=>(qt.markname=g+y3,qt))),d.push({name:g+qf,on:[{events:Xe,update:E?"{"+[se?`x: invert(${se}, x(unit))`:"",Ve?`y: invert(${Ve}, y(unit))`:""].filter(qt=>!!qt).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:D,on:[{events:Xe,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),M!==void 0&&ZL(u,c,M,"width",d),G!==void 0&&ZL(u,c,G,"height",d),d}};function ZL(u,c,d,g,E){let D=c.name,M=d.channel,G=l2.defined(c),se=E.filter(Ni=>Ni.name===d.signals[G?"data":"visual"])[0],Ve=u.getSizeSignalRef(g).signal,Xe=u.getScaleComponent(M),qt=Xe.get("type"),on=G?oA(u,M):se.name,Mn=D+Jb,Xn=`${D}${qf}.${M}`,lr=G?qt==="log"?"zoomLog":qt==="symlog"?"zoomSymlog":qt==="pow"?"zoomPow":"zoomLinear":"zoomLinear",pr=G?qt==="pow"?`, ${Xe.get("exponent")??1}`:qt==="symlog"?`, ${Xe.get("constant")??1}`:"":"",kr=`${lr}(${on}, ${Xn}, ${Mn}${pr})`;se.on.push({events:{signal:Mn},update:G?kr:`clampRange(${kr}, 0, ${Ve})`})}let dg="_store",f2="_tuple",hA="_modify",ek="vlSelectionResolve",E3=[nG,tG,eG,dA,Yb,l2,KL,gG,vG,_G,YL];function EG(u){let c=u.parent;for(;c&&!um(c);)c=c.parent;return c}function b3(u){let{escape:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{escape:!0},d=c?e.stringValue(u.name):u.name,g=EG(u);if(g){let{facet:E}=g;for(let D of ee)E[D]&&(d+=` + '__facet_${D}_' + (facet[${e.stringValue(g.vgField(D))}])`)}return d}function pA(u){return Re(u.component.selection??{}).reduce((c,d)=>c||d.project.hasSelectionId,!1)}function tk(u,c){(e.isString(c.select)||!c.select.on)&&delete u.events,(e.isString(c.select)||!c.select.clear)&&delete u.clear,(e.isString(c.select)||!c.select.toggle)&&delete u.toggle}function Xb(u){let c=[];return u.type==="Identifier"?[u.name]:u.type==="Literal"?[u.value]:(u.type==="MemberExpression"&&(c.push(...Xb(u.object)),c.push(...Xb(u.property))),c)}function nk(u){return u.object.type==="MemberExpression"?nk(u.object):u.object.name==="datum"}function rk(u){let c=e.parseExpression(u),d=new Set;return c.visit(g=>{g.type==="MemberExpression"&&nk(g)&&d.add(Xb(g).slice(1).join("."))}),d}class S3 extends Sa{clone(){return new S3(null,this.model,Ee(this.filter))}constructor(c,d,g){super(c);this.model=d,this.filter=g,En(this,"expr",void 0),En(this,"_dependentFields",void 0),this.expr=e8(this.model,this.filter,this),this._dependentFields=rk(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function mA(u,c){let d={},g=u.config.selection;if(!c||!c.length)return d;for(let E of c){let D=Rt(E.name),M=E.select,G=e.isString(M)?M:M.type,se=e.isObject(M)?Ee(M):{type:G},Ve=g[G];for(let qt in Ve)qt==="fields"||qt==="encodings"||(qt==="mark"&&(se[qt]={...Ve[qt],...se[qt]}),(se[qt]===void 0||se[qt]===!0)&&(se[qt]=Ve[qt]??se[qt]));let Xe=d[D]={...se,name:D,type:G,init:E.value,bind:E.bind,events:e.isString(se.on)?e.parseSelector(se.on,"scope"):e.array(Ee(se.on))};for(let qt of E3)qt.defined(Xe)&&qt.parse&&qt.parse(u,Xe,E)}return d}function Zb(u,c,d){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"datum",E=e.isString(c)?c:c.param,D=Rt(E),M=e.stringValue(D+dg),G;try{G=u.getSelectionComponent(D,E)}catch{return`!!${D}`}if(G.project.timeUnit){let on=d??u.component.data.raw,Mn=G.project.timeUnit.clone();on.parent?Mn.insertAsParentOf(on):on.parent=Mn}let se=G.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",Ve=G.resolve==="global"?")":`, ${e.stringValue(G.resolve)})`,Xe=`${se}${M}, ${g}${Ve}`,qt=`length(data(${M}))`;return c.empty===!1?`${qt} && ${Xe}`:`!${qt} || ${Xe}`}function ik(u,c,d){let g=Rt(c),E=d.encoding,D=d.field,M;try{M=u.getSelectionComponent(g,c)}catch{return g}if(!E&&!D)D=M.project.items[0].field,M.project.items.length>1&&jr(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${e.stringValue(D)}.`);else if(E&&!D){let G=M.project.items.filter(se=>se.channel===E);!G.length||G.length>1?(D=M.project.items[0].field,jr((G.length?"Multiple ":"No ")+`matching ${e.stringValue(E)} encoding found for selection ${e.stringValue(d.param)}. Using "field": ${e.stringValue(D)}.`)):D=G[0].field}return`${M.name}[${e.stringValue(un(D))}]`}function bG(u,c){for(let[d,g]of nt(u.component.selection??{})){let E=u.getName(`lookup_${d}`);u.component.data.outputNodes[E]=g.materialized=new jf(new S3(c,u,{param:d}),E,ja.Lookup,u.component.data.outputNodeRefCounts)}}function e8(u,c,d){return Yt(c,g=>e.isString(g)?g:il(g)?Zb(u,g,d):Ou(g))}function SG(u,c){if(!!u)return e.isArray(u)&&!Kn(u)?u.map(d=>Db(d,c)).join(", "):u}function xA(u,c,d,g){u.encode??={},u.encode[c]??={},u.encode[c].update??={},u.encode[c].update[d]=g}function x_(u,c,d){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{header:!1},{disable:E,orient:D,scale:M,labelExpr:G,title:se,zindex:Ve,...Xe}=u.combine();if(!E){for(let Mn in Xe){let Xn=zW[Mn],lr=Xe[Mn];if(Xn&&Xn!==c&&Xn!=="both")delete Xe[Mn];else if(n_(lr)){let{condition:pr,...kr}=lr,Ni=e.array(pr),Ui=$N[Mn];if(Ui){let{vgProp:Os,part:ji}=Ui,ia=[...Ni.map(as=>{let{test:ll,...Rl}=as;return{test:e8(null,ll),...Rl}}),kr];xA(Xe,ji,Os,ia),delete Xe[Mn]}else if(Ui===null){let Os={signal:Ni.map(ji=>{let{test:ia,...as}=ji;return`${e8(null,ia)} ? ${yi(as)} : `}).join("")+yi(kr)};Xe[Mn]=Os}}else if($n(lr)){let pr=$N[Mn];if(pr){let{vgProp:kr,part:Ni}=pr;xA(Xe,Ni,kr,lr),delete Xe[Mn]}}wt(["labelAlign","labelBaseline"],Mn)&&Xe[Mn]===null&&delete Xe[Mn]}if(c==="grid"){if(!Xe.grid)return;if(Xe.encode){let{grid:Mn}=Xe.encode;Xe.encode={...Mn?{grid:Mn}:{}},Ke(Xe.encode)&&delete Xe.encode}return{scale:M,orient:D,...Xe,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Ne(Ve,0)}}else{if(!g.header&&u.mainExtracted)return;if(G!==void 0){var qt,on;let Xn=G;(qt=Xe.encode)!==null&&qt!==void 0&&(on=qt.labels)!==null&&on!==void 0&&on.update&&$n(Xe.encode.labels.update.text)&&(Xn=Pn(G,"datum.label",Xe.encode.labels.update.text.signal)),xA(Xe,"labels","text",{signal:Xn})}if(Xe.labelAlign===null&&delete Xe.labelAlign,Xe.encode){for(let Xn of zN)u.hasAxisPart(Xn)||delete Xe.encode[Xn];Ke(Xe.encode)&&delete Xe.encode}let Mn=SG(se,d);return{scale:M,orient:D,grid:!1,...Mn?{title:Mn}:{},...Xe,...d.aria===!1?{aria:!1}:{},zindex:Ne(Ve,0)}}}}function sk(u){let{axes:c}=u.component,d=[];for(let g of io)if(c[g]){for(let E of c[g])if(!E.get("disable")&&!E.get("gridScale")){let D=g==="x"?"height":"width",M=u.getSizeSignalRef(D).signal;D!==M&&d.push({name:D,update:M})}}return d}function CG(u,c){let{x:d=[],y:g=[]}=u;return[...d.map(E=>x_(E,"grid",c)),...g.map(E=>x_(E,"grid",c)),...d.map(E=>x_(E,"main",c)),...g.map(E=>x_(E,"main",c))].filter(E=>E)}function ok(u,c,d,g){return Object.assign.apply(null,[{},...u.map(E=>{if(E==="axisOrient"){let D=d==="x"?"bottom":"left",M=c[d==="x"?"axisBottom":"axisLeft"]||{},G=c[d==="x"?"axisTop":"axisRight"]||{},se=new Set([...re(M),...re(G)]),Ve={};for(let Xe of se.values())Ve[Xe]={signal:`${g.signal} === "${D}" ? ${gi(M[Xe])} : ${gi(G[Xe])}`};return Ve}return c[E]})])}function wG(u,c,d,g){let E=c==="band"?["axisDiscrete","axisBand"]:c==="point"?["axisDiscrete","axisPoint"]:Xs(c)?["axisQuantitative"]:c==="time"||c==="utc"?["axisTemporal"]:[],D=u==="x"?"axisX":"axisY",M=$n(d)?"axisOrient":`axis${fn(d)}`,G=[...E,...E.map(Ve=>D+Ve.substr(4))],se=["axis",M,D];return{vlOnlyAxisConfig:ok(G,g,u,d),vgAxisConfig:ok(se,g,u,d),axisConfigStyle:AG([...se,...G],g)}}function AG(u,c){let d=[{}];for(let E of u){var g;let D=(g=c[E])===null||g===void 0?void 0:g.style;if(D){D=e.array(D);for(let M of D)d.push(c.style[M])}}return Object.assign.apply(null,d)}function gA(u,c,d){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},E=ya(u,d,c);if(E!==void 0)return{configFrom:"style",configValue:E};for(let M of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var D;if(((D=g[M])===null||D===void 0?void 0:D[u])!==void 0)return{configFrom:M,configValue:g[M][u]}}return{}}let ak={scale:u=>{let{model:c,channel:d}=u;return c.scaleName(d)},format:u=>{let{fieldOrDatumDef:c,config:d,axis:g}=u,{format:E,formatType:D}=g;return Gr(c,c.type,E,D,d,!0)},formatType:u=>{let{axis:c,fieldOrDatumDef:d,scaleType:g}=u,{formatType:E}=c;return Ki(E,d,g)},grid:u=>{let{fieldOrDatumDef:c,axis:d,scaleType:g}=u;return d.grid??TG(g,c)},gridScale:u=>{let{model:c,channel:d}=u;return FG(c,d)},labelAlign:u=>{let{axis:c,labelAngle:d,orient:g,channel:E}=u;return c.labelAlign||lk(d,g,E)},labelAngle:u=>{let{labelAngle:c}=u;return c},labelBaseline:u=>{let{axis:c,labelAngle:d,orient:g,channel:E}=u;return c.labelBaseline||uk(d,g,E)},labelFlush:u=>{let{axis:c,fieldOrDatumDef:d,channel:g}=u;return c.labelFlush??RG(d.type,g)},labelOverlap:u=>{let{axis:c,fieldOrDatumDef:d,scaleType:g}=u;return c.labelOverlap??OG(d.type,g,br(d)&&!!d.timeUnit,br(d)?d.sort:void 0)},orient:u=>{let{orient:c}=u;return c},tickCount:u=>{let{channel:c,model:d,axis:g,fieldOrDatumDef:E,scaleType:D}=u,M=c==="x"?"width":c==="y"?"height":void 0,G=M?d.getSizeSignalRef(M):void 0;return g.tickCount??S({fieldOrDatumDef:E,scaleType:D,size:G,values:g.values})},title:u=>{let{axis:c,model:d,channel:g}=u;if(c.title!==void 0)return c.title;let E=U(d,g);if(E!==void 0)return E;let D=d.typedFieldDef(g),M=g==="x"?"x2":"y2",G=d.fieldDef(M);return Ts(D?[u3(D)]:[],br(G)?[u3(G)]:[])},values:u=>{let{axis:c,fieldOrDatumDef:d}=u;return me(c,d)},zindex:u=>{let{axis:c,fieldOrDatumDef:d,mark:g}=u;return c.zindex??pt(g,d)}};function TG(u,c){return!Pe(u)&&br(c)&&!xr(c==null?void 0:c.bin)&&!is(c==null?void 0:c.bin)}function FG(u,c){let d=c==="x"?"y":"x";if(u.getScaleComponent(d))return u.scaleName(d)}function DG(u,c,d,g,E){let D=c==null?void 0:c.labelAngle;if(D!==void 0)return $n(D)?D:rn(D);{let{configValue:M}=gA("labelAngle",g,c==null?void 0:c.style,E);return M!==void 0?rn(M):d===Nn&&wt([Yl,sd],u.type)&&!(br(u)&&u.timeUnit)?270:void 0}}function yA(u){return`(((${u.signal} % 360) + 360) % 360)`}function uk(u,c,d,g){if(u!==void 0)if(d==="x"){if($n(u)){let E=yA(u),D=$n(c)?`(${c.signal} === "top")`:c==="top";return{signal:`(45 < ${E} && ${E} < 135) || (225 < ${E} && ${E} < 315) ? "middle" :(${E} <= 45 || 315 <= ${E}) === ${D} ? "bottom" : "top"`}}if(45<u&&u<135||225<u&&u<315)return"middle";if($n(c)){let E=u<=45||315<=u?"===":"!==";return{signal:`${c.signal} ${E} "top" ? "bottom" : "top"`}}return(u<=45||315<=u)==(c==="top")?"bottom":"top"}else{if($n(u)){let E=yA(u),D=$n(c)?`(${c.signal} === "left")`:c==="left";return{signal:`${E} <= 45 || 315 <= ${E} || (135 <= ${E} && ${E} <= 225) ? ${g?'"middle"':"null"} : (45 <= ${E} && ${E} <= 135) === ${D} ? "top" : "bottom"`}}if(u<=45||315<=u||135<=u&&u<=225)return g?"middle":null;if($n(c)){let E=45<=u&&u<=135?"===":"!==";return{signal:`${c.signal} ${E} "left" ? "top" : "bottom"`}}return(45<=u&&u<=135)==(c==="left")?"top":"bottom"}}function lk(u,c,d){if(u===void 0)return;let g=d==="x",E=g?0:90,D=g?"bottom":"left";if($n(u)){let M=yA(u),G=$n(c)?`(${c.signal} === "${D}")`:c===D;return{signal:`(${E?`(${M} + 90)`:M} % 180 === 0) ? ${g?null:'"center"'} :(${E} < ${M} && ${M} < ${180+E}) === ${G} ? "left" : "right"`}}if((u+E)%180===0)return g?null:"center";if($n(c)){let M=E<u&&u<180+E?"===":"!==";return{signal:`${`${c.signal} ${M} "${D}"`} ? "left" : "right"`}}return(E<u&&u<180+E)==(c===D)?"left":"right"}function RG(u,c){if(c==="x"&&wt(["quantitative","temporal"],u))return!0}function OG(u,c,d,g){if(d&&!e.isObject(g)||u!=="nominal"&&u!=="ordinal")return c==="log"||c==="symlog"?"greedy":!0}function h(u){return u==="x"?"bottom":"left"}function S(u){let{fieldOrDatumDef:c,scaleType:d,size:g,values:E}=u;if(!E&&!Pe(d)&&d!=="log"){if(br(c)){var D;if(xr(c.bin))return{signal:`ceil(${g.signal}/10)`};if(c.timeUnit&&wt(["month","hours","day","quarter"],(D=xu(c.timeUnit))===null||D===void 0?void 0:D.unit))return}return{signal:`ceil(${g.signal}/40)`}}}function U(u,c){let d=c==="x"?"x2":"y2",g=u.fieldDef(c),E=u.fieldDef(d),D=g?g.title:void 0,M=E?E.title:void 0;if(D&&M)return nn(D,M);if(D)return D;if(M)return M;if(D!==void 0)return D;if(M!==void 0)return M}function me(u,c){let d=u.values;if(e.isArray(d))return UN(c,d);if($n(d))return d}function pt(u,c){return u==="rect"&&f3(c)?1:0}class Wt extends Sa{clone(){return new Wt(null,Ee(this.transform))}constructor(c,d){super(c);this.transform=d,En(this,"_dependentFields",void 0),this._dependentFields=rk(this.transform.calculate)}static parseAllForSortIndex(c,d){return d.forEachFieldDef((g,E)=>{if(!!ug(g)&&dc(g.sort)){let{field:D,timeUnit:M}=g,G=g.sort,se=G.map((Ve,Xe)=>`${Ou({field:D,timeUnit:M,equal:Ve})} ? ${Xe} : `).join("")+G.length;c=new Wt(c,{calculate:se,as:_n(g,E,{forAs:!0})})}}),c}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${lt(this.transform)}`}}function _n(u,c,d){return fi(u,{prefix:c,suffix:"sort_index",...d??{}})}function Rn(u,c){return wt(["top","bottom"],c)?"column":wt(["left","right"],c)||u==="row"?"row":"column"}function Qn(u,c,d,g){let E=g==="row"?d.headerRow:g==="column"?d.headerColumn:d.headerFacet;return Ne((c||{})[u],E[u],d.header[u])}function Sr(u,c,d,g){let E={};for(let D of u){let M=Qn(D,c||{},d,g);M!==void 0&&(E[D]=M)}return E}let Tr=["row","column"],Pr=["header","footer"];function Ci(u,c){let d=u.component.layoutHeaders[c].title,g=u.config?u.config:void 0,E=u.component.layoutHeaders[c].facetFieldDef?u.component.layoutHeaders[c].facetFieldDef:void 0,{titleAnchor:D,titleAngle:M,titleOrient:G}=Sr(["titleAnchor","titleAngle","titleOrient"],E.header,g,c),se=Rn(c,G),Ve=rn(M);return{name:`${c}-title`,type:"group",role:`${se}-title`,title:{text:d,...c==="row"?{orient:"left"}:{},style:"guide-title",...ys(Ve,se),...Ji(se,Ve,D),...ju(g,E,c,uQ,iL)}}}function Ji(u,c){switch(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"middle"){case"start":return{align:"left"};case"end":return{align:"right"}}let g=lk(c,u==="row"?"left":"top",u==="row"?"y":"x");return g?{align:g}:{}}function ys(u,c){let d=uk(u,c==="row"?"left":"top",c==="row"?"y":"x",!0);return d?{baseline:d}:{}}function xo(u,c){let d=u.component.layoutHeaders[c],g=[];for(let E of Pr)if(d[E])for(let D of d[E]){let M=Mo(u,c,E,d,D);M!=null&&g.push(M)}return g}function bs(u,c){let{sort:d}=u;return ba(d)?{field:fi(d,{expr:"datum"}),order:d.order??"ascending"}:e.isArray(d)?{field:_n(u,c,{expr:"datum"}),order:"ascending"}:{field:fi(u,{expr:"datum"}),order:d??"ascending"}}function Co(u,c,d){let{format:g,formatType:E,labelAngle:D,labelAnchor:M,labelOrient:G,labelExpr:se}=Sr(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],u.header,d,c),Ve=ds({fieldOrDatumDef:u,format:g,formatType:E,expr:"parent",config:d}).signal,Xe=Rn(c,G);return{text:{signal:se?Pn(Pn(se,"datum.label",Ve),"datum.value",fi(u,{expr:"parent"})):Ve},...c==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...ys(D,Xe),...Ji(Xe,D,M),...ju(d,u,c,lQ,sL)}}function Mo(u,c,d,g,E){if(E){let D=null,{facetFieldDef:M}=g,G=u.config?u.config:void 0;if(M&&E.labels){let{labelOrient:qt}=Sr(["labelOrient"],M.header,G,c);(c==="row"&&!wt(["top","bottom"],qt)||c==="column"&&!wt(["left","right"],qt))&&(D=Co(M,c,G))}let se=um(u)&&!Gd(u.facet),Ve=E.axes,Xe=(Ve==null?void 0:Ve.length)>0;if(D||Xe){let qt=c==="row"?"height":"width";return{name:u.getName(`${c}_${d}`),type:"group",role:`${c}-${d}`,...g.facetFieldDef?{from:{data:u.getName(`${c}_domain`)},sort:bs(M,c)}:{},...Xe&&se?{from:{data:u.getName(`facet_domain_${c}`)}}:{},...D?{title:D}:{},...E.sizeSignal?{encode:{update:{[qt]:E.sizeSignal}}}:{},...Xe?{axes:Ve}:{}}}}return null}let cd={column:{start:0,end:1},row:{start:1,end:0}};function Uf(u,c){return cd[c][u]}function fd(u,c){let d={};for(let g of ee){let E=u[g];if(E!=null&&E.facetFieldDef){let{titleAnchor:D,titleOrient:M}=Sr(["titleAnchor","titleOrient"],E.facetFieldDef.header,c,g),G=Rn(g,M),se=Uf(D,G);se!==void 0&&(d[G]=se)}}return Ke(d)?void 0:d}function ju(u,c,d,g,E){let D={};for(let M of g){if(!E[M])continue;let G=Qn(M,c==null?void 0:c.header,u,d);G!==void 0&&(D[E[M]]=G)}return D}function dd(u){return[...eh(u,"width"),...eh(u,"height"),...eh(u,"childWidth"),...eh(u,"childHeight")]}function eh(u,c){let d=c==="width"?"x":"y",g=u.component.layoutSize.get(c);if(!g||g==="merged")return[];let E=u.getSizeSignalRef(c).signal;if(g==="step"){let D=u.getScaleComponent(d);if(D){let M=D.get("type"),G=D.get("range");if(Pe(M)&&Er(G)){let se=u.scaleName(d);return um(u.parent)&&u.parent.component.resolve.scale[d]==="independent"?[vA(se,G)]:[vA(se,G),{name:E,update:sfe(se,D,`domain('${se}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(g=="container"){let D=E.endsWith("width"),M=D?"containerSize()[0]":"containerSize()[1]",G=Q9(u.config.view,D?"width":"height"),se=`isFinite(${M}) ? ${M} : ${G}`;return[{name:E,init:se,on:[{update:se,events:"window:resize"}]}]}else return[{name:E,value:g}]}function vA(u,c){let d=`${u}_step`;return $n(c.step)?{name:d,update:c.step.signal}:{name:d,value:c.step}}function sfe(u,c,d){let g=c.get("type"),E=c.get("padding"),D=Ne(c.get("paddingOuter"),E),M=c.get("paddingInner");return M=g==="band"?M!==void 0?M:E:1,`bandspace(${d}, ${gi(M)}, ${gi(D)}) * ${u}_step`}function ofe(u){return u==="childWidth"?"width":u==="childHeight"?"height":u}function afe(u,c){return re(u).reduce((d,g)=>{let E=u[g];return{...d,...v3(c,E,g,D=>qr(D.value))}},{})}function ufe(u,c){if(um(c))return u==="theta"?"independent":"shared";if(r8(c))return"shared";if(WG(c))return us(u)||u==="theta"||u==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function NG(u,c){let d=u.scale[c],g=us(c)?"axis":"legend";return d==="independent"?(u[g][c]==="shared"&&jr(Li(c)),"independent"):u[g][c]||"shared"}let TMe={...dQ,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},lfe=re(TMe);class FMe extends Dp{}let cfe={symbols:DMe,gradient:RMe,labels:OMe,entries:NMe};function DMe(u,c){let{fieldOrDatumDef:d,model:g,channel:E,legendCmpt:D,legendType:M}=c;if(M!=="symbol")return;let{markDef:G,encoding:se,config:Ve,mark:Xe}=g,qt=G.filled&&Xe!=="trail",on={...os({},g,ud),...$L(g,{filled:qt})},Mn=D.get("symbolOpacity")??Ve.legend.symbolOpacity,Xn=D.get("symbolFillColor")??Ve.legend.symbolFillColor,lr=D.get("symbolStrokeColor")??Ve.legend.symbolStrokeColor,pr=Mn===void 0?ffe(se.opacity)??G.opacity:void 0;if(on.fill){if(E==="fill"||qt&&E===gt)delete on.fill;else if(on.fill.field)Xn?delete on.fill:(on.fill=qr(Ve.legend.symbolBaseFillColor??"black"),on.fillOpacity=qr(pr??1));else if(e.isArray(on.fill)){let kr=LG(se.fill??se.color)??G.fill??(qt&&G.color);kr&&(on.fill=qr(kr))}}if(on.stroke){if(E==="stroke"||!qt&&E===gt)delete on.stroke;else if(on.stroke.field||lr)delete on.stroke;else if(e.isArray(on.stroke)){let kr=Ne(LG(se.stroke||se.color),G.stroke,qt?G.color:void 0);kr&&(on.stroke={value:kr})}}if(E!==st){let kr=br(d)&&hfe(g,D,d);kr?on.opacity=[{test:kr,...qr(pr??1)},qr(Ve.legend.unselectedOpacity)]:pr&&(on.opacity=qr(pr))}return on={...on,...u},Ke(on)?void 0:on}function RMe(u,c){let{model:d,legendType:g,legendCmpt:E}=c;if(g!=="gradient")return;let{config:D,markDef:M,encoding:G}=d,se={},Xe=(E.get("gradientOpacity")??D.legend.gradientOpacity)===void 0?ffe(G.opacity)||M.opacity:void 0;return Xe&&(se.opacity=qr(Xe)),se={...se,...u},Ke(se)?void 0:se}function OMe(u,c){let{fieldOrDatumDef:d,model:g,channel:E,legendCmpt:D}=c,M=g.legend(E)||{},G=g.config,se=br(d)?hfe(g,D,d):void 0,Ve=se?[{test:se,value:1},{value:G.legend.unselectedOpacity}]:void 0,{format:Xe,formatType:qt}=M,on;Ei(qt)?on=gs({fieldOrDatumDef:d,field:"datum.value",format:Xe,formatType:qt,config:G}):Xe===void 0&&qt===void 0&&G.customFormatTypes&&(d.type==="quantitative"&&G.numberFormatType?on=gs({fieldOrDatumDef:d,field:"datum.value",format:G.numberFormat,formatType:G.numberFormatType,config:G}):d.type==="temporal"&&G.timeFormatType&&br(d)&&d.timeUnit===void 0&&(on=gs({fieldOrDatumDef:d,field:"datum.value",format:G.timeFormat,formatType:G.timeFormatType,config:G})));let Mn={...Ve?{opacity:Ve}:{},...on?{text:on}:{},...u};return Ke(Mn)?void 0:Mn}function NMe(u,c){let{legendCmpt:d}=c,g=d.get("selections");return g!=null&&g.length?{...u,fill:{value:"transparent"}}:u}function ffe(u){return dfe(u,(c,d)=>Math.max(c,d.value))}function LG(u){return dfe(u,(c,d)=>Ne(c,d.value))}function dfe(u,c){if(xf(u))return e.array(u.condition).reduce(c,u.value);if(Kd(u))return u.value}function hfe(u,c,d){let g=c.get("selections");if(!(g!=null&&g.length))return;let E=e.stringValue(d.field);return g.map(D=>`(!length(data(${e.stringValue(Rt(D)+dg)})) || (${D}[${E}] && indexof(${D}[${E}], datum.value) >= 0))`).join(" || ")}let pfe={direction:u=>{let{direction:c}=u;return c},format:u=>{let{fieldOrDatumDef:c,legend:d,config:g}=u,{format:E,formatType:D}=d;return Gr(c,c.type,E,D,g,!1)},formatType:u=>{let{legend:c,fieldOrDatumDef:d,scaleType:g}=u,{formatType:E}=c;return Ki(E,d,g)},gradientLength:u=>{let{legend:c,legendConfig:d}=u;return c.gradientLength??d.gradientLength??jMe(u)},labelOverlap:u=>{let{legend:c,legendConfig:d,scaleType:g}=u;return c.labelOverlap??d.labelOverlap??qMe(g)},symbolType:u=>{let{legend:c,markDef:d,channel:g,encoding:E}=u;return c.symbolType??kMe(d.type,g,E.shape,d.shape)},title:u=>{let{fieldOrDatumDef:c,config:d}=u;return d3(c,d,{allowDisabling:!0})},type:u=>{let{legendType:c,scaleType:d,channel:g}=u;if(C(g)&&Tn(d)){if(c==="gradient")return}else if(c==="symbol")return;return c},values:u=>{let{fieldOrDatumDef:c,legend:d}=u;return LMe(d,c)}};function LMe(u,c){let d=u.values;if(e.isArray(d))return UN(c,d);if($n(d))return d}function kMe(u,c,d,g){if(c!=="shape"){let E=LG(d)??g;if(E)return E}switch(u){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function IMe(u){let{legend:c}=u;return Ne(c.type,MMe(u))}function MMe(u){let{channel:c,timeUnit:d,scaleType:g}=u;if(C(c)){if(wt(["quarter","month","day"],d))return"symbol";if(Tn(g))return"gradient"}return"symbol"}function PMe(u){let{legendConfig:c,legendType:d,orient:g,legend:E}=u;return E.direction??c[d?"gradientDirection":"symbolDirection"]??BMe(g,d)}function BMe(u,c){switch(u){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return c==="gradient"?"horizontal":void 0}}function jMe(u){let{legendConfig:c,model:d,direction:g,orient:E,scaleType:D}=u,{gradientHorizontalMaxLength:M,gradientHorizontalMinLength:G,gradientVerticalMaxLength:se,gradientVerticalMinLength:Ve}=c;if(Tn(D))return g==="horizontal"?E==="top"||E==="bottom"?mfe(d,"width",G,M):G:mfe(d,"height",Ve,se)}function mfe(u,c,d,g){return{signal:`clamp(${u.getSizeSignalRef(c).signal}, ${d}, ${g})`}}function qMe(u){if(wt(["quantile","threshold","log","symlog"],u))return"greedy"}function xfe(u){let c=mc(u)?UMe(u):VMe(u);return u.component.legends=c,c}function UMe(u){let{encoding:c}=u,d={};for(let g of[gt,...i_]){let E=yu(c[g]);!E||!u.getScaleComponent(g)||g===ne&&br(E)&&E.type===Nu||(d[g]=HMe(u,g))}return d}function $Me(u,c){let d=u.scaleName(c);if(u.mark==="trail"){if(c==="color")return{stroke:d};if(c==="size")return{strokeWidth:d}}return c==="color"?u.markDef.filled?{fill:d}:{stroke:d}:{[c]:d}}function zMe(u,c,d,g){switch(c){case"disable":return d!==void 0;case"values":return!!(d!=null&&d.values);case"title":if(c==="title"&&u===(g==null?void 0:g.title))return!0}return u===(d||{})[c]}function HMe(u,c){var d,g;let E=u.legend(c),{markDef:D,encoding:M,config:G}=u,se=G.legend,Ve=new FMe({},$Me(u,c));yG(u,c,Ve);let Xe=E!==void 0?!E:se.disable;if(Ve.set("disable",Xe,E!==void 0),Xe)return Ve;E=E||{};let qt=u.getScaleComponent(c).get("type"),on=yu(M[c]),Mn=br(on)?(d=xu(on.timeUnit))===null||d===void 0?void 0:d.unit:void 0,Xn=E.orient||G.legend.orient||"right",lr=IMe({legend:E,channel:c,timeUnit:Mn,scaleType:qt}),pr=PMe({legend:E,legendType:lr,orient:Xn,legendConfig:se}),kr={legend:E,channel:c,model:u,markDef:D,encoding:M,fieldOrDatumDef:on,legendConfig:se,config:G,scaleType:qt,orient:Xn,legendType:lr,direction:pr};for(let as of lfe){if(lr==="gradient"&&as.startsWith("symbol")||lr==="symbol"&&as.startsWith("gradient"))continue;let ll=as in pfe?pfe[as](kr):E[as];if(ll!==void 0){let Rl=zMe(ll,as,E,u.fieldDef(c));(Rl||G.legend[as]===void 0)&&Ve.set(as,ll,Rl)}}let Ni=((g=E)===null||g===void 0?void 0:g.encoding)??{},Ui=Ve.get("selections"),Os={},ji={fieldOrDatumDef:on,model:u,channel:c,legendCmpt:Ve,legendType:lr};for(let as of["labels","legend","title","symbols","gradient","entries"]){let ll=afe(Ni[as]??{},u),Rl=as in cfe?cfe[as](ll,ji):ll;Rl!==void 0&&!Ke(Rl)&&(Os[as]={...Ui!=null&&Ui.length&&br(on)?{name:`${Rt(on.field)}_legend_${as}`}:{},...Ui!=null&&Ui.length?{interactive:!!Ui}:{},update:Rl})}if(!Ke(Os)){var ia;Ve.set("encode",Os,!!((ia=E)!==null&&ia!==void 0&&ia.encoding))}return Ve}function VMe(u){let{legends:c,resolve:d}=u.component;for(let g of u.children){xfe(g);for(let E of re(g.component.legends))d.legend[E]=NG(u.component.resolve,E),d.legend[E]==="shared"&&(c[E]=gfe(c[E],g.component.legends[E]),c[E]||(d.legend[E]="independent",delete c[E]))}for(let g of re(c))for(let E of u.children)!E.component.legends[g]||d.legend[g]==="shared"&&delete E.component.legends[g];return c}function gfe(u,c){if(!u)return c.clone();let d=u.getWithExplicit("orient"),g=c.getWithExplicit("orient");if(d.explicit&&g.explicit&&d.value!==g.value)return;let E=!1;for(let Ve of lfe){let Xe=a2(u.getWithExplicit(Ve),c.getWithExplicit(Ve),Ve,"legend",(qt,on)=>{switch(Ve){case"symbolType":return WMe(qt,on);case"title":return Jn(qt,on);case"type":return E=!0,b0("symbol")}return Qo(qt,on,Ve,"legend")});u.setWithExplicit(Ve,Xe)}if(E){var D,M,G,se;(D=u.implicit)!==null&&D!==void 0&&(M=D.encode)!==null&&M!==void 0&&M.gradient&&Gt(u.implicit,["encode","gradient"]),(G=u.explicit)!==null&&G!==void 0&&(se=G.encode)!==null&&se!==void 0&&se.gradient&&Gt(u.explicit,["encode","gradient"])}return u}function WMe(u,c){return c.value==="circle"?c:u}function QMe(u,c,d,g){u.encode??={},u.encode[c]??={},u.encode[c].update??={},u.encode[c].update[d]=g}function yfe(u){let c=u.component.legends,d={};for(let E of re(c)){let D=u.getScaleComponent(E),M=Je(D.get("domains"));if(d[M])for(let G of d[M])gfe(G,c[E])||d[M].push(c[E]);else d[M]=[c[E].clone()]}return Re(d).flat().map(E=>GMe(E,u.config)).filter(E=>E!==void 0)}function GMe(u,c){var d;let{disable:g,labelExpr:E,selections:D,...M}=u.combine();if(!g){if(c.aria===!1&&M.aria==null&&(M.aria=!1),(d=M.encode)!==null&&d!==void 0&&d.symbols){let Ve=M.encode.symbols.update;Ve.fill&&Ve.fill.value!=="transparent"&&!Ve.stroke&&!M.stroke&&(Ve.stroke={value:"transparent"});for(let Xe of i_)M[Xe]&&delete Ve[Xe]}if(M.title||delete M.title,E!==void 0){var G,se;let Ve=E;(G=M.encode)!==null&&G!==void 0&&(se=G.labels)!==null&&se!==void 0&&se.update&&$n(M.encode.labels.update.text)&&(Ve=Pn(E,"datum.label",M.encode.labels.update.text.signal)),QMe(M,"labels","text",{signal:Ve})}return M}}function YMe(u){return r8(u)||WG(u)?KMe(u):vfe(u)}function KMe(u){return u.children.reduce((c,d)=>c.concat(d.assembleProjections()),vfe(u))}function vfe(u){let c=u.component.projection;if(!c||c.merged)return[];let d=c.combine(),{name:g}=d;if(c.data){let E={signal:`[${c.size.map(M=>M.signal).join(", ")}]`},D=c.data.reduce((M,G)=>{let se=$n(G)?G.signal:`data('${u.lookupDataSource(G)}')`;return wt(M,se)||M.push(se),M},[]);if(D.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:g,size:E,fit:{signal:D.length>1?`[${D.join(", ")}]`:D[0]},...d}]}else return[{name:g,translate:{signal:"[width / 2, height / 2]"},...d}]}let JMe=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class _fe extends Dp{constructor(c,d,g,E){super({...d},{name:c});this.specifiedProjection=d,this.size=g,this.data=E,En(this,"merged",!1)}get isFit(){return!!this.data}}function Efe(u){u.component.projection=mc(u)?XMe(u):tPe(u)}function XMe(u){if(u.hasProjection){let c=pn(u.specifiedProjection),d=!(c&&(c.scale!=null||c.translate!=null)),g=d?[u.getSizeSignalRef("width"),u.getSizeSignalRef("height")]:void 0,E=d?ZMe(u):void 0,D=new _fe(u.projectionName(!0),{...pn(u.config.projection)??{},...c??{}},g,E);return D.get("type")||D.set("type","equalEarth",!1),D}}function ZMe(u){let c=[],{encoding:d}=u;for(let g of[[ie,dt],[Ue,Te]])(yu(d[g[0]])||yu(d[g[1]]))&&c.push({signal:u.getName(`geojson_${c.length}`)});return u.channelHasField(ne)&&u.typedFieldDef(ne).type===Nu&&c.push({signal:u.getName(`geojson_${c.length}`)}),c.length===0&&c.push(u.requestDataName(ja.Main)),c}function ePe(u,c){let d=kt(JMe,E=>!!(!e.hasOwnProperty(u.explicit,E)&&!e.hasOwnProperty(c.explicit,E)||e.hasOwnProperty(u.explicit,E)&&e.hasOwnProperty(c.explicit,E)&&et(u.get(E),c.get(E))));if(et(u.size,c.size)){if(d)return u;if(et(u.explicit,{}))return c;if(et(c.explicit,{}))return u}return null}function tPe(u){if(u.children.length===0)return;let c;for(let g of u.children)Efe(g);let d=kt(u.children,g=>{let E=g.component.projection;if(E)if(c){let D=ePe(c,E);return D&&(c=D),!!D}else return c=E,!0;else return!0});if(c&&d){let g=u.projectionName(!0),E=new _fe(g,c.specifiedProjection,c.size,Ee(c.data));for(let D of u.children){let M=D.component.projection;M&&(M.isFit&&E.data.push(...D.component.projection.data),D.renameProjection(M.get("name"),g),M.merged=!0)}return E}}function nPe(u,c,d,g){if(t_(c,d)){let E=mc(u)?u.axis(d)??u.legend(d)??{}:{},D=fi(c,{expr:"datum"}),M=fi(c,{expr:"datum",binSuffix:"end"});return{formulaAs:fi(c,{binSuffix:"range",forAs:!0}),formula:Ta(D,M,E.format,E.formatType,g)}}return{}}function bfe(u,c){return`${cs(u)}_${c}`}function rPe(u,c){return{signal:u.getName(`${c}_bins`),extentSignal:u.getName(`${c}_extent`)}}function kG(u,c,d){let g=e_(d,void 0)??{},E=bfe(g,c);return u.getName(`${E}_bins`)}function iPe(u){return"as"in u}function Sfe(u,c,d){let g,E;iPe(u)?g=e.isString(u.as)?[u.as,`${u.as}_end`]:[u.as[0],u.as[1]]:g=[fi(u,{forAs:!0}),fi(u,{binSuffix:"end",forAs:!0})];let D={...e_(c,void 0)},M=bfe(D,u.field),{signal:G,extentSignal:se}=rPe(d,M);if(yt(D.extent)){let Xe=D.extent;E=ik(d,Xe.param,Xe),delete D.extent}let Ve={bin:D,field:u.field,as:[g],...G?{signal:G}:{},...se?{extentSignal:se}:{},...E?{span:E}:{}};return{key:M,binComponent:Ve}}class d2 extends Sa{clone(){return new d2(null,Ee(this.bins))}constructor(c,d){super(c);this.bins=d}static makeFromEncoding(c,d){let g=d.reduceFieldDef((E,D,M)=>{if(Yd(D)&&xr(D.bin)){let{key:G,binComponent:se}=Sfe(D,D.bin,d);E[G]={...se,...E[G],...nPe(d,D,M,d.config)}}return E},{});return Ke(g)?null:new d2(c,g)}static makeFromTransform(c,d,g){let{key:E,binComponent:D}=Sfe(d,d.bin,g);return new d2(c,{[E]:D})}merge(c,d){for(let g of re(c.bins))g in this.bins?(d(c.bins[g].signal,this.bins[g].signal),this.bins[g].as=Et([...this.bins[g].as,...c.bins[g].as],lt)):this.bins[g]=c.bins[g];for(let g of c.children)c.removeChild(g),g.parent=this;c.remove()}producedFields(){return new Set(Re(this.bins).map(c=>c.as).flat(2))}dependentFields(){return new Set(Re(this.bins).map(c=>c.field))}hash(){return`Bin ${lt(this.bins)}`}assemble(){return Re(this.bins).flatMap(c=>{let d=[],[g,...E]=c.as,{extent:D,...M}=c.bin,G={type:"bin",field:un(c.field),as:g,signal:c.signal,...yt(D)?{extent:null}:{extent:D},...c.span?{span:{signal:`span(${c.span})`}}:{},...M};!D&&c.extentSignal&&(d.push({type:"extent",field:un(c.field),signal:c.extentSignal}),G.extent={signal:c.extentSignal}),d.push(G);for(let se of E)for(let Ve=0;Ve<2;Ve++)d.push({type:"formula",expr:fi({field:g[Ve]},{expr:"datum"}),as:se[Ve]});return c.formula&&d.push({type:"formula",expr:c.formula,as:c.formulaAs}),d})}}function sPe(u,c,d,g){var E;let D=mc(g)?g.encoding[Cs(c)]:void 0;if(Yd(d)&&mc(g)&&Dr(d,D,g.markDef,g.config))u.add(fi(d,{})),u.add(fi(d,{suffix:"end"})),d.bin&&t_(d,c)&&u.add(fi(d,{binSuffix:"range"}));else if(It(c)){let M=Qe(c);u.add(g.getName(M))}else u.add(fi(d));return ug(d)&&Uc((E=d.scale)===null||E===void 0?void 0:E.range)&&u.add(d.scale.range.field),u}function oPe(u,c){for(let d of re(c)){let g=c[d];for(let E of re(g))d in u?u[d][E]=new Set([...u[d][E]??[],...g[E]]):u[d]={[E]:g[E]}}}class om extends Sa{clone(){return new om(null,new Set(this.dimensions),Ee(this.measures))}constructor(c,d,g){super(c);this.dimensions=d,this.measures=g}get groupBy(){return this.dimensions}static makeFromEncoding(c,d){let g=!1;d.forEachFieldDef(M=>{M.aggregate&&(g=!0)});let E={},D=new Set;return!g||(d.forEachFieldDef((M,G)=>{let{aggregate:se,field:Ve}=M;if(se)if(se==="count")E["*"]??={},E["*"].count=new Set([fi(M,{forAs:!0})]);else{if(la(se)||ca(se)){let Xe=la(se)?"argmin":"argmax",qt=se[Xe];E[qt]??={},E[qt][Xe]=new Set([fi({op:Xe,field:qt},{forAs:!0})])}else E[Ve]??={},E[Ve][se]=new Set([fi(M,{forAs:!0})]);Ii(G)&&d.scaleDomain(G)==="unaggregated"&&(E[Ve]??={},E[Ve].min=new Set([fi({field:Ve,aggregate:"min"},{forAs:!0})]),E[Ve].max=new Set([fi({field:Ve,aggregate:"max"},{forAs:!0})]))}else sPe(D,G,M,d)}),D.size+re(E).length===0)?null:new om(c,D,E)}static makeFromTransform(c,d){let g=new Set,E={};for(let D of d.aggregate){let{op:M,field:G,as:se}=D;M&&(M==="count"?(E["*"]??={},E["*"].count=new Set([se||fi(D,{forAs:!0})])):(E[G]??={},E[G][M]=new Set([se||fi(D,{forAs:!0})])))}for(let D of d.groupby??[])g.add(D);return g.size+re(E).length===0?null:new om(c,g,E)}merge(c){return Le(this.dimensions,c.dimensions)?(oPe(this.measures,c.measures),!0):(Z0("different dimensions, cannot merge"),!1)}addDimensions(c){c.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...re(this.measures)])}producedFields(){let c=new Set;for(let d of re(this.measures))for(let g of re(this.measures[d])){let E=this.measures[d][g];E.size===0?c.add(`${g}_${d}`):E.forEach(c.add,c)}return c}hash(){return`Aggregate ${lt({dimensions:this.dimensions,measures:this.measures})}`}assemble(){let c=[],d=[],g=[];for(let D of re(this.measures))for(let M of re(this.measures[D]))for(let G of this.measures[D][M])g.push(G),c.push(M),d.push(D==="*"?null:un(D));return{type:"aggregate",groupby:[...this.dimensions].map(un),ops:c,fields:d,as:g}}}class t8 extends Sa{constructor(c,d,g,E){super(c);this.model=d,this.name=g,this.data=E,En(this,"column",void 0),En(this,"row",void 0),En(this,"facet",void 0),En(this,"childModel",void 0);for(let D of ee){let M=d.facet[D];if(M){let{bin:G,sort:se}=M;this[D]={name:d.getName(`${D}_domain`),fields:[fi(M),...xr(G)?[fi(M,{binSuffix:"end"})]:[]],...ba(se)?{sortField:se}:e.isArray(se)?{sortIndexField:_n(M,D)}:{}}}}this.childModel=d.child}hash(){let c="Facet";for(let d of ee)this[d]&&(c+=` ${d.charAt(0)}:${lt(this[d])}`);return c}get fields(){let c=[];for(let g of ee){var d;(d=this[g])!==null&&d!==void 0&&d.fields&&c.push(...this[g].fields)}return c}dependentFields(){let c=new Set(this.fields);for(let d of ee)this[d]&&(this[d].sortField&&c.add(this[d].sortField.field),this[d].sortIndexField&&c.add(this[d].sortIndexField));return c}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){let c={};for(let d of io){let g=this.childModel.component.scales[d];if(g&&!g.merged){let E=g.get("type"),D=g.get("range");if(Pe(E)&&Er(D)){let M=dk(this.childModel,d),G=HG(M);G?c[d]=G:jr(vr(d))}}}return c}assembleRowColumnHeaderData(c,d,g){let E={row:"y",column:"x",facet:void 0}[c],D=[],M=[],G=[];E&&g&&g[E]&&(d?(D.push(`distinct_${g[E]}`),M.push("max")):(D.push(g[E]),M.push("distinct")),G.push(`distinct_${g[E]}`));let{sortField:se,sortIndexField:Ve}=this[c];if(se){let{op:Xe=Dl,field:qt}=se;D.push(qt),M.push(Xe),G.push(fi(se,{forAs:!0}))}else Ve&&(D.push(Ve),M.push("max"),G.push(Ve));return{name:this[c].name,source:d??this.data,transform:[{type:"aggregate",groupby:this[c].fields,...D.length?{fields:D,ops:M,as:G}:{}}]}}assembleFacetHeaderData(c){let{columns:d}=this.model.layout,{layoutHeaders:g}=this.model.component,E=[],D={};for(let Ve of Tr){for(let Xe of Pr){let qt=(g[Ve]&&g[Ve][Xe])??[];for(let on of qt){var M;if(((M=on.axes)===null||M===void 0?void 0:M.length)>0){D[Ve]=!0;break}}}if(D[Ve]){let Xe=`length(data("${this.facet.name}"))`,qt=Ve==="row"?d?{signal:`ceil(${Xe} / ${d})`}:1:d?{signal:`min(${Xe}, ${d})`}:{signal:Xe};E.push({name:`${this.facet.name}_${Ve}`,transform:[{type:"sequence",start:0,stop:qt}]})}}let{row:G,column:se}=D;return(G||se)&&E.unshift(this.assembleRowColumnHeaderData("facet",null,c)),E}assemble(){let c=[],d=null,g=this.getChildIndependentFieldsWithStep(),{column:E,row:D,facet:M}=this;if(E&&D&&(g.x||g.y)){d=`cross_${this.column.name}_${this.row.name}`;let G=[].concat(g.x??[],g.y??[]),se=G.map(()=>"distinct");c.push({name:d,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:G,ops:se}]})}for(let G of[Wn,Fn])this[G]&&c.push(this.assembleRowColumnHeaderData(G,d,g));if(M){let G=this.assembleFacetHeaderData(g);G&&c.push(...G)}return c}}function Cfe(u){return u.startsWith("'")&&u.endsWith("'")||u.startsWith('"')&&u.endsWith('"')?u.slice(1,-1):u}function aPe(u,c){let d=gn(u);if(c==="number")return`toNumber(${d})`;if(c==="boolean")return`toBoolean(${d})`;if(c==="string")return`toString(${d})`;if(c==="date")return`toDate(${d})`;if(c==="flatten")return d;if(c.startsWith("date:")){let g=Cfe(c.slice(5,c.length));return`timeParse(${d},'${g}')`}else if(c.startsWith("utc:")){let g=Cfe(c.slice(4,c.length));return`utcParse(${d},'${g}')`}else return jr(_l(c)),null}function uPe(u){let c={};return qe(u.filter,d=>{if(id(d)){let g=null;qc(d)?g=pi(d.equal):zd(d)?g=pi(d.lte):Rh(d)?g=pi(d.lt):hf(d)?g=pi(d.gt):Oh(d)?g=pi(d.gte):yp(d)?g=d.range[0]:Ha(d)&&(g=(d.oneOf??d.in)[0]),g&&(ed(g)?c[d.field]="date":e.isNumber(g)?c[d.field]="number":e.isString(g)&&(c[d.field]="string")),d.timeUnit&&(c[d.field]="date")}}),c}function lPe(u){let c={};function d(g){p3(g)?c[g.field]="date":g.type==="quantitative"&&el(g.aggregate)?c[g.field]="number":On(g.field)>1?g.field in c||(c[g.field]="flatten"):ug(g)&&ba(g.sort)&&On(g.sort.field)>1&&(g.sort.field in c||(c[g.sort.field]="flatten"))}if((mc(u)||um(u))&&u.forEachFieldDef((g,E)=>{if(Yd(g))d(g);else{let D=ai(E),M=u.fieldDef(D);d({...g,type:M.type})}}),mc(u)){let{mark:g,markDef:E,encoding:D}=u;if(mf(g)&&!u.encoding.order){let M=E.orient==="horizontal"?"y":"x",G=D[M];br(G)&&G.type==="quantitative"&&!(G.field in c)&&(c[G.field]="number")}}return c}function cPe(u){let c={};if(mc(u)&&u.component.selection)for(let d of re(u.component.selection)){let g=u.component.selection[d];for(let E of g.project.items)!E.channel&&On(E.field)>1&&(c[E.field]="flatten")}return c}class C0 extends Sa{clone(){return new C0(null,Ee(this._parse))}constructor(c,d){super(c);En(this,"_parse",void 0),this._parse=d}hash(){return`Parse ${lt(this._parse)}`}static makeExplicit(c,d,g){var E;let D={},M=d.data;return!u2(M)&&M!==null&&M!==void 0&&(E=M.format)!==null&&E!==void 0&&E.parse&&(D=M.format.parse),this.makeWithAncestors(c,D,{},g)}static makeWithAncestors(c,d,g,E){for(let G of re(g)){let se=E.getWithExplicit(G);se.value!==void 0&&(se.explicit||se.value===g[G]||se.value==="derived"||g[G]==="flatten"?delete g[G]:jr(Mc(G,g[G],se.value)))}for(let G of re(d)){let se=E.get(G);se!==void 0&&(se===d[G]?delete d[G]:jr(Mc(G,d[G],se)))}let D=new Dp(d,g);E.copyAll(D);let M={};for(let G of re(D.combine())){let se=D.get(G);se!==null&&(M[G]=se)}return re(M).length===0||E.parseNothing?null:new C0(c,M)}get parse(){return this._parse}merge(c){this._parse={...this._parse,...c.parse},c.remove()}assembleFormatParse(){let c={};for(let d of re(this._parse)){let g=this._parse[d];On(d)===1&&(c[d]=g)}return c}producedFields(){return new Set(re(this._parse))}dependentFields(){return new Set(re(this._parse))}assembleTransforms(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return re(this._parse).filter(d=>c?On(d)>1:!0).map(d=>{let g=aPe(d,this._parse[d]);return g?{type:"formula",expr:g,as:nr(d)}:null}).filter(d=>d!==null)}}class C3 extends Sa{clone(){return new C3(null)}constructor(c){super(c)}dependentFields(){return new Set}producedFields(){return new Set([Tp])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Tp}}}class _A extends Sa{clone(){return new _A(null,this.params)}constructor(c,d){super(c);this.params=d}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${lt(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class EA extends Sa{clone(){return new EA(null,this.params)}constructor(c,d){super(c);this.params=d}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${lt(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class g_ extends Sa{constructor(c){super(null);En(this,"_data",void 0),En(this,"_name",void 0),En(this,"_generator",void 0),c??={name:"source"};let d;if(u2(c)||(d=c.format?{...pe(c.format,["parse"])}:{}),c_(c))this._data={values:c.values};else if(sm(c)){if(this._data={url:c.url},!d.type){let g=/(?:\.([^.]+))?$/.exec(c.url)[1];wt(["json","csv","tsv","dsv","topojson"],g)||(g="json"),d.type=g}}else IL(c)?this._data={values:[{type:"Sphere"}]}:(LL(c)||u2(c))&&(this._data={});this._generator=u2(c),c.name&&(this._name=c.name),d&&!Ke(d)&&(this._data.format=d)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(c){this._name=c}set parent(c){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}function IG(u){return u instanceof g_||u instanceof _A||u instanceof EA}var ck=new WeakMap;class MG{constructor(){mu(this,ck,{writable:!0,value:void 0}),Ti(this,ck,!1)}setModified(){Ti(this,ck,!0)}get modifiedFlag(){return Yr(this,ck)}}class y_ extends MG{getNodeDepths(c,d,g){g.set(c,d);for(let E of c.children)this.getNodeDepths(E,d+1,g);return g}optimize(c){let g=[...this.getNodeDepths(c,0,new Map).entries()].sort((E,D)=>D[1]-E[1]);for(let E of g)this.run(E[0]);return this.modifiedFlag}}class PG extends MG{optimize(c){this.run(c);for(let d of c.children)this.optimize(d);return this.modifiedFlag}}class fPe extends PG{mergeNodes(c,d){let g=d.shift();for(let E of d)c.removeChild(E),E.parent=g,E.remove()}run(c){let d=c.children.map(E=>E.hash()),g={};for(let E=0;E<d.length;E++)g[d[E]]===void 0?g[d[E]]=[c.children[E]]:g[d[E]].push(c.children[E]);for(let E of re(g))g[E].length>1&&(this.setModified(),this.mergeNodes(c,g[E]))}}class dPe extends PG{constructor(c){super();En(this,"requiresSelectionId",void 0),this.requiresSelectionId=c&&pA(c)}run(c){c instanceof C3&&(this.requiresSelectionId&&(IG(c.parent)||c.parent instanceof om||c.parent instanceof C0)||(this.setModified(),c.remove()))}}class hPe extends MG{optimize(c){return this.run(c,new Set),this.modifiedFlag}run(c,d){let g=new Set;c instanceof Rp&&(g=c.producedFields(),_e(g,d)&&(this.setModified(),c.removeFormulas(d),c.producedFields.length===0&&c.remove()));for(let E of c.children)this.run(E,new Set([...d,...g]))}}class pPe extends PG{constructor(){super()}run(c){c instanceof jf&&!c.isRequired()&&(this.setModified(),c.remove())}}class mPe extends y_{run(c){if(!IG(c)&&!(c.numChildren()>1)){for(let d of c.children)if(d instanceof C0)if(c instanceof C0)this.setModified(),c.merge(d);else{if(tt(c.producedFields(),d.dependentFields()))continue;this.setModified(),d.swapWithParent()}}}}class xPe extends y_{run(c){let d=[...c.children],g=c.children.filter(E=>E instanceof C0);if(c.numChildren()>1&&g.length>=1){let E={},D=new Set;for(let M of g){let G=M.parse;for(let se of re(G))se in E?E[se]!==G[se]&&D.add(se):E[se]=G[se]}for(let M of D)delete E[M];if(!Ke(E)){this.setModified();let M=new C0(c,E);for(let G of d){if(G instanceof C0)for(let se of re(E))delete G.parse[se];c.removeChild(G),G.parent=M,G instanceof C0&&re(G.parse).length===0&&G.remove()}}}}}class gPe extends y_{run(c){c instanceof jf||c.numChildren()>0||c instanceof t8||c instanceof g_||(this.setModified(),c.remove())}}class yPe extends y_{run(c){let d=c.children.filter(E=>E instanceof Rp),g=d.pop();for(let E of d)this.setModified(),g.merge(E)}}class vPe extends y_{run(c){let d=c.children.filter(E=>E instanceof om),g={};for(let E of d){let D=lt(E.groupBy);D in g||(g[D]=[]),g[D].push(E)}for(let E of re(g)){let D=g[E];if(D.length>1){let M=D.pop();for(let G of D)M.merge(G)&&(c.removeChild(G),G.parent=M,G.remove(),this.setModified())}}}}class _Pe extends y_{constructor(c){super();this.model=c}run(c){let d=!(IG(c)||c instanceof S3||c instanceof C0||c instanceof C3),g=[],E=[];for(let D of c.children)D instanceof d2&&(d&&!tt(c.producedFields(),D.dependentFields())?g.push(D):E.push(D));if(g.length>0){let D=g.pop();for(let M of g)D.merge(M,this.model.renameSignal.bind(this.model));this.setModified(),c instanceof d2?c.merge(D,this.model.renameSignal.bind(this.model)):D.swapWithParent()}if(E.length>1){let D=E.pop();for(let M of E)D.merge(M,this.model.renameSignal.bind(this.model));this.setModified()}}}class EPe extends y_{run(c){let d=[...c.children];if(!mn(d,M=>M instanceof jf)||c.numChildren()<=1)return;let E=[],D;for(let M of d)if(M instanceof jf){let G=M;for(;G.numChildren()===1;){let[se]=G.children;if(se instanceof jf)G=se;else break}E.push(...G.children),D?(c.removeChild(M),M.parent=D.parent,D.parent.removeChild(D),D.parent=G,this.setModified()):D=G}else E.push(M);if(E.length){this.setModified();for(let M of E)M.parent.removeChild(M),M.parent=D}}}class v_ extends Sa{clone(){return new v_(null,Ee(this.transform))}constructor(c,d){super(c);this.transform=d}addDimensions(c){this.transform.groupby=Et(this.transform.groupby.concat(c),d=>d)}dependentFields(){let c=new Set;return this.transform.groupby&&this.transform.groupby.forEach(c.add,c),this.transform.joinaggregate.map(d=>d.field).filter(d=>d!==void 0).forEach(c.add,c),c}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(c){return c.as??fi(c)}hash(){return`JoinAggregateTransform ${lt(this.transform)}`}assemble(){let c=[],d=[],g=[];for(let D of this.transform.joinaggregate)d.push(D.op),g.push(this.getDefaultName(D)),c.push(D.field===void 0?null:D.field);let E=this.transform.groupby;return{type:"joinaggregate",as:g,ops:d,fields:c,...E!==void 0?{groupby:E}:{}}}}function bPe(u){return u.stack.stackBy.reduce((c,d)=>{let g=d.fieldDef,E=fi(g);return E&&c.push(E),c},[])}function SPe(u){return e.isArray(u)&&u.every(c=>e.isString(c))&&u.length>1}class hg extends Sa{clone(){return new hg(null,Ee(this._stack))}constructor(c,d){super(c);En(this,"_stack",void 0),this._stack=d}static makeFromTransform(c,d){let{stack:g,groupby:E,as:D,offset:M="zero"}=d,G=[],se=[];if(d.sort!==void 0)for(let qt of d.sort)G.push(qt.field),se.push(Ne(qt.order,"ascending"));let Ve={field:G,order:se},Xe;return SPe(D)?Xe=D:e.isString(D)?Xe=[D,`${D}_end`]:Xe=[`${d.stack}_start`,`${d.stack}_end`],new hg(c,{dimensionFieldDefs:[],stackField:g,groupby:E,offset:M,sort:Ve,facetby:[],as:Xe})}static makeFromEncoding(c,d){let g=d.stack,{encoding:E}=d;if(!g)return null;let{groupbyChannels:D,fieldChannel:M,offset:G,impute:se}=g,Ve=D.map(Mn=>{let Xn=E[Mn];return jh(Xn)}).filter(Mn=>!!Mn),Xe=bPe(d),qt=d.encoding.order,on;return e.isArray(qt)||br(qt)?on=No(qt):on=Xe.reduce((Mn,Xn)=>(Mn.field.push(Xn),Mn.order.push(M==="y"?"descending":"ascending"),Mn),{field:[],order:[]}),new hg(c,{dimensionFieldDefs:Ve,stackField:d.vgField(M),facetby:[],stackby:Xe,sort:on,offset:G,impute:se,as:[d.vgField(M,{suffix:"start",forAs:!0}),d.vgField(M,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(c){this._stack.facetby.push(...c)}dependentFields(){let c=new Set;return c.add(this._stack.stackField),this.getGroupbyFields().forEach(c.add,c),this._stack.facetby.forEach(c.add,c),this._stack.sort.field.forEach(c.add,c),c}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${lt(this._stack)}`}getGroupbyFields(){let{dimensionFieldDefs:c,impute:d,groupby:g}=this._stack;return c.length>0?c.map(E=>E.bin?d?[fi(E,{binSuffix:"mid"})]:[fi(E,{}),fi(E,{binSuffix:"end"})]:[fi(E)]).flat():g??[]}assemble(){let c=[],{facetby:d,dimensionFieldDefs:g,stackField:E,stackby:D,sort:M,offset:G,impute:se,as:Ve}=this._stack;if(se)for(let Xe of g){let{bandPosition:qt=.5,bin:on}=Xe;if(on){let Mn=fi(Xe,{expr:"datum"}),Xn=fi(Xe,{expr:"datum",binSuffix:"end"});c.push({type:"formula",expr:`${qt}*${Mn}+${1-qt}*${Xn}`,as:fi(Xe,{binSuffix:"mid",forAs:!0})})}c.push({type:"impute",field:E,groupby:[...D,...d],key:fi(Xe,{binSuffix:"mid"}),method:"value",value:0})}return c.push({type:"stack",groupby:[...this.getGroupbyFields(),...d],field:E,sort:M,as:Ve,offset:G}),c}}class n8 extends Sa{clone(){return new n8(null,Ee(this.transform))}constructor(c,d){super(c);this.transform=d}addDimensions(c){this.transform.groupby=Et(this.transform.groupby.concat(c),d=>d)}dependentFields(){let c=new Set;return(this.transform.groupby??[]).forEach(c.add,c),(this.transform.sort??[]).forEach(d=>c.add(d.field)),this.transform.window.map(d=>d.field).filter(d=>d!==void 0).forEach(c.add,c),c}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(c){return c.as??fi(c)}hash(){return`WindowTransform ${lt(this.transform)}`}assemble(){let c=[],d=[],g=[],E=[];for(let qt of this.transform.window)d.push(qt.op),g.push(this.getDefaultName(qt)),E.push(qt.param===void 0?null:qt.param),c.push(qt.field===void 0?null:qt.field);let D=this.transform.frame,M=this.transform.groupby;if(D&&D[0]===null&&D[1]===null&&d.every(qt=>vl(qt)))return{type:"joinaggregate",as:g,ops:d,fields:c,...M!==void 0?{groupby:M}:{}};let G=[],se=[];if(this.transform.sort!==void 0)for(let qt of this.transform.sort)G.push(qt.field),se.push(qt.order??"ascending");let Ve={field:G,order:se},Xe=this.transform.ignorePeers;return{type:"window",params:E,as:g,ops:d,fields:c,sort:Ve,...Xe!==void 0?{ignorePeers:Xe}:{},...M!==void 0?{groupby:M}:{},...D!==void 0?{frame:D}:{}}}}function CPe(u){function c(d){if(!(d instanceof t8)){let g=d.clone();if(g instanceof jf){let E=jG+g.getSource();g.setSource(E),u.model.component.data.outputNodes[E]=g}else(g instanceof om||g instanceof hg||g instanceof n8||g instanceof v_)&&g.addDimensions(u.fields);for(let E of d.children.flatMap(c))E.parent=g;return[g]}return d.children.flatMap(c)}return c}function BG(u){if(u instanceof t8)if(u.numChildren()===1&&!(u.children[0]instanceof jf)){let c=u.children[0];(c instanceof om||c instanceof hg||c instanceof n8||c instanceof v_)&&c.addDimensions(u.fields),c.swapWithParent(),BG(u)}else{let c=u.model.component.data.main;wfe(c);let d=CPe(u),g=u.children.map(d).flat();for(let E of g)E.parent=c}else u.children.map(BG)}function wfe(u){if(u instanceof jf&&u.type===ja.Main&&u.numChildren()===1){let c=u.children[0];c instanceof t8||(c.swapWithParent(),wfe(u))}}let jG="scale_",fk=5;function qG(u){for(let c of u){for(let d of c.children)if(d.parent!==c)return!1;if(!qG(c.children))return!1}return!0}function am(u,c){let d=!1;for(let g of c)d=u.optimize(g)||d;return d}function Afe(u,c,d){let g=u.sources,E=!1;return E=am(new pPe,g)||E,E=am(new dPe(c),g)||E,g=g.filter(D=>D.numChildren()>0),E=am(new gPe,g)||E,g=g.filter(D=>D.numChildren()>0),d||(E=am(new mPe,g)||E,E=am(new _Pe(c),g)||E,E=am(new hPe,g)||E,E=am(new xPe,g)||E,E=am(new vPe,g)||E,E=am(new yPe,g)||E,E=am(new fPe,g)||E,E=am(new EPe,g)||E),u.sources=g,E}function wPe(u,c){qG(u.sources);let d=0,g=0;for(let E=0;E<fk&&Afe(u,c,!0);E++)d++;u.sources.map(BG);for(let E=0;E<fk&&Afe(u,c,!1);E++)g++;qG(u.sources),Math.max(d,g)===fk&&jr(`Maximum optimization runs(${fk}) reached.`)}class th{constructor(c){En(this,"signal",void 0),Object.defineProperty(this,"signal",{enumerable:!0,get:c})}static fromName(c,d){return new th(()=>c(d))}}function Tfe(u){mc(u)?APe(u):TPe(u)}function APe(u){let c=u.component.scales;for(let d of re(c)){let g=DPe(u,d);if(c[d].setWithExplicit("domains",g),OPe(u,d),u.component.data.isFaceted){let D=u;for(;!um(D)&&D.parent;)D=D.parent;if(D.component.resolve.scale[d]==="shared")for(let G of g.value)ar(G)&&(G.data=jG+G.data.replace(jG,""))}}}function TPe(u){for(let d of u.children)Tfe(d);let c=u.component.scales;for(let d of re(c)){let g,E=null;for(let D of u.children){let M=D.component.scales[d];if(M){g===void 0?g=M.getWithExplicit("domains"):g=a2(g,M.getWithExplicit("domains"),"domains","scale",zG);let G=M.get("selectionExtent");E&&G&&E.param!==G.param&&jr(l0),E=G}}c[d].setWithExplicit("domains",g),E&&c[d].set("selectionExtent",E,!0)}}function FPe(u,c,d,g){if(u==="unaggregated"){let{valid:E,reason:D}=Ffe(c,d);if(!E){jr(D);return}}else if(u===void 0&&g.useUnaggregatedDomain){let{valid:E}=Ffe(c,d);if(E)return"unaggregated"}return u}function DPe(u,c){let d=u.getScaleComponent(c).get("type"),{encoding:g}=u,E=FPe(u.scaleDomain(c),u.typedFieldDef(c),d,u.config.scale);return E!==u.scaleDomain(c)&&(u.specifiedScales[c]={...u.specifiedScales[c],domain:E}),c==="x"&&yu(g.x2)?yu(g.x)?a2(w3(d,E,u,"x"),w3(d,E,u,"x2"),"domain","scale",zG):w3(d,E,u,"x2"):c==="y"&&yu(g.y2)?yu(g.y)?a2(w3(d,E,u,"y"),w3(d,E,u,"y2"),"domain","scale",zG):w3(d,E,u,"y2"):w3(d,E,u,c)}function RPe(u,c,d){return u.map(g=>({signal:`{data: ${Nb(g,{timeUnit:d,type:c})}}`}))}function UG(u,c,d){var g;let E=(g=xu(d))===null||g===void 0?void 0:g.unit;return c==="temporal"||E?RPe(u,c,E):[u]}function w3(u,c,d,g){let{encoding:E}=d,D=yu(E[g]),{type:M}=D,G=D.timeUnit;if(gu(c)){let qt=w3(u,void 0,d,g),on=UG(c.unionWith,M,G);return ul([...on,...qt.value])}else{if($n(c))return ul([c]);if(c&&c!=="unaggregated"&&!ao(c))return ul(UG(c,M,G))}let se=d.stack;if(se&&g===se.fieldChannel){if(se.offset==="normalize")return b0([[0,1]]);let qt=d.requestDataName(ja.Main);return b0([{data:qt,field:d.vgField(g,{suffix:"start"})},{data:qt,field:d.vgField(g,{suffix:"end"})}])}let Ve=Ii(g)&&br(D)?NPe(d,g,u):void 0;if(So(D)){let qt=UG([D.datum],M,G);return b0(qt)}let Xe=D;if(c==="unaggregated"){let qt=d.requestDataName(ja.Main),{field:on}=D;return b0([{data:qt,field:fi({field:on,aggregate:"min"})},{data:qt,field:fi({field:on,aggregate:"max"})}])}else if(xr(Xe.bin)){if(Pe(u))return b0(u==="bin-ordinal"?[]:[{data:ft(Ve)?d.requestDataName(ja.Main):d.requestDataName(ja.Raw),field:d.vgField(g,t_(Xe,g)?{binSuffix:"range"}:{}),sort:Ve===!0||!e.isObject(Ve)?{field:d.vgField(g,{}),op:"min"}:Ve}]);{let{bin:qt}=Xe;if(xr(qt)){let on=kG(d,Xe.field,qt);return b0([new th(()=>{let Mn=d.getSignalName(on);return`[${Mn}.start, ${Mn}.stop]`})])}else return b0([{data:d.requestDataName(ja.Main),field:d.vgField(g,{})}])}}else if(Xe.timeUnit&&wt(["time","utc"],u)&&Dr(Xe,mc(d)?d.encoding[Cs(g)]:void 0,d.markDef,d.config)){let qt=d.requestDataName(ja.Main);return b0([{data:qt,field:d.vgField(g)},{data:qt,field:d.vgField(g,{suffix:"end"})}])}else return b0(Ve?[{data:ft(Ve)?d.requestDataName(ja.Main):d.requestDataName(ja.Raw),field:d.vgField(g),sort:Ve}]:[{data:d.requestDataName(ja.Main),field:d.vgField(g)}])}function $G(u,c){let{op:d,field:g,order:E}=u;return{op:d??(c?"sum":Dl),...g?{field:un(g)}:{},...E?{order:E}:{}}}function OPe(u,c){var d;let g=u.component.scales[c],E=u.specifiedScales[c].domain,D=(d=u.fieldDef(c))===null||d===void 0?void 0:d.bin,M=ao(E)&&E,G=Ie(D)&&yt(D.extent)&&D.extent;(M||G)&&g.set("selectionExtent",M??G,!0)}function NPe(u,c,d){if(!Pe(d))return;let g=u.fieldDef(c),E=g.sort;if(dc(E))return{op:"min",field:_n(g,c),order:"ascending"};let{stack:D}=u,M=D?new Set([...D.groupbyFields,...D.stackBy.map(G=>G.fieldDef.field)]):void 0;if(ba(E)){let G=D&&!M.has(E.field);return $G(E,G)}else if(v0(E)){let{encoding:G,order:se}=E,Ve=u.fieldDef(G),{aggregate:Xe,field:qt}=Ve,on=D&&!M.has(qt);if(la(Xe)||ca(Xe))return $G({field:fi(Ve),order:se},on);if(vl(Xe)||!Xe)return $G({op:Xe,field:qt,order:se},on)}else{if(E==="descending")return{op:"min",field:u.vgField(c),order:"descending"};if(wt(["ascending",void 0],E))return!0}}function Ffe(u,c){let{aggregate:d,type:g}=u;return d?e.isString(d)&&!rs.has(d)?{valid:!1,reason:Vt(d)}:g==="quantitative"&&c==="log"?{valid:!1,reason:An(u)}:{valid:!0}:{valid:!1,reason:Nt(u)}}function zG(u,c,d,g){return u.explicit&&c.explicit&&jr(Qi(d,g,u.value,c.value)),{explicit:u.explicit,value:[...u.value,...c.value]}}function LPe(u){let c=Et(u.map(M=>{if(ar(M)){let{sort:G,...se}=M;return se}return M}),lt),d=Et(u.map(M=>{if(ar(M)){let G=M.sort;return G!==void 0&&!ft(G)&&("op"in G&&G.op==="count"&&delete G.field,G.order==="ascending"&&delete G.order),G}}).filter(M=>M!==void 0),lt);if(c.length===0)return;if(c.length===1){let M=u[0];if(ar(M)&&d.length>0){let G=d[0];if(d.length>1)jr(Ys),G=!0;else if(e.isObject(G)&&"field"in G){let se=G.field;M.field===se&&(G=G.order?{order:G.order}:!0)}return{...M,sort:G}}return M}let g=Et(d.map(M=>ft(M)||!("op"in M)||e.isString(M.op)&&M.op in za?M:(jr(Qr(M)),!0)),lt),E;g.length===1?E=g[0]:g.length>1&&(jr(Ys),E=!0);let D=Et(u.map(M=>ar(M)?M.data:null),M=>M);return D.length===1&&D[0]!==null?{data:D[0],fields:c.map(G=>G.field),...E?{sort:E}:{}}:{fields:c,...E?{sort:E}:{}}}function HG(u){if(ar(u)&&e.isString(u.field))return u.field;if(wr(u)){let c;for(let d of u.fields)if(ar(d)&&e.isString(d.field)){if(!c)c=d.field;else if(c!==d.field)return jr($o),c}return jr(va),c}else if(Gn(u)){jr(mo);let c=u.fields[0];return e.isString(c)?c:void 0}}function dk(u,c){let g=u.component.scales[c].get("domains").map(E=>(ar(E)&&(E.data=u.lookupDataSource(E.data)),E));return LPe(g)}function Dfe(u){return r8(u)||WG(u)?u.children.reduce((c,d)=>c.concat(Dfe(d)),Rfe(u)):Rfe(u)}function Rfe(u){return re(u.component.scales).reduce((c,d)=>{let g=u.component.scales[d];if(g.merged)return c;let E=g.combine(),{name:D,type:M,selectionExtent:G,domains:se,range:Ve,reverse:Xe,...qt}=E,on=kPe(E.range,D,d,u),Mn=dk(u,d),Xn=G?ZQ(u,G,g,Mn):null;return c.push({name:D,type:M,...Mn?{domain:Mn}:{},...Xn?{domainRaw:Xn}:{},range:on,...Xe!==void 0?{reverse:Xe}:{},...qt}),c},[])}function kPe(u,c,d,g){if(us(d)){if(Er(u))return{step:{signal:`${c}_step`}}}else if(e.isObject(u)&&ar(u))return{...u,data:g.lookupDataSource(u.data)};return u}class Ofe extends Dp{constructor(c,d){super({},{name:c});En(this,"merged",!1),this.setWithExplicit("type",d)}domainDefinitelyIncludesZero(){return this.get("zero")!==!1?!0:mn(this.get("domains"),c=>e.isArray(c)&&c.length===2&&c[0]<=0&&c[1]>=0)}}let IPe=["range","scheme"];function MPe(u){let c=u.component.scales;for(let d of vs){let g=c[d];if(!g)continue;let E=PPe(d,u);g.setWithExplicit("range",E)}}function Nfe(u,c){let d=u.fieldDef(c);if(d!=null&&d.bin){let{bin:g,field:E}=d,D=ts(c),M=u.getName(D);if(e.isObject(g)&&g.binned&&g.step!==void 0)return new th(()=>{let G=u.scaleName(c),se=`(domain("${G}")[1] - domain("${G}")[0]) / ${g.step}`;return`${u.getSignalName(M)} / (${se})`});if(xr(g)){let G=kG(u,E,g);return new th(()=>{let se=u.getSignalName(G),Ve=`(${se}.stop - ${se}.start) / ${se}.step`;return`${u.getSignalName(M)} / (${Ve})`})}}}function PPe(u,c){let d=c.specifiedScales[u],{size:g}=c,D=c.getScaleComponent(u).get("type");for(let qt of IPe)if(d[qt]!==void 0){let on=Fs(D,qt),Mn=g0(u,qt);if(!on)jr(Nr(D,qt,u));else if(Mn)jr(Mn);else switch(qt){case"range":{let Xn=d.range;if(e.isArray(Xn)){if(us(u))return ul(Xn.map(lr=>{if(lr==="width"||lr==="height"){let pr=c.getName(lr),kr=c.getSignalName.bind(c);return th.fromName(kr,pr)}return lr}))}else if(e.isObject(Xn))return ul({data:c.requestDataName(ja.Main),field:Xn.field,sort:{op:"min",field:c.vgField(u)}});return ul(Xn)}case"scheme":return ul(BPe(d[qt]))}}let M=u===Nn||u==="xOffset"?"width":"height",G=g[M];if(Fp(G)){if(us(u))if(Pe(D)){let qt=Lfe(G,c,u);if(qt)return ul({step:qt})}else jr(it(M));else if(Wi(u)){let qt=u===ae?"x":"y";if(c.getScaleComponent(qt).get("type")==="band"){let Xn=kfe(G,D);if(Xn)return ul(Xn)}}}let{rangeMin:se,rangeMax:Ve}=d,Xe=jPe(u,c);return(se!==void 0||Ve!==void 0)&&Fs(D,"rangeMin")&&e.isArray(Xe)&&Xe.length===2?ul([se??Xe[0],Ve??Xe[1]]):b0(Xe)}function BPe(u){return Bi(u)?{scheme:u.name,...pe(u,["name"])}:{scheme:u}}function jPe(u,c){let{size:d,config:g,mark:E,encoding:D}=c,M=c.getSignalName.bind(c),{type:G}=yu(D[u]),Ve=c.getScaleComponent(u).get("type"),{domain:Xe,domainMid:qt}=c.specifiedScales[u];switch(u){case Nn:case rr:{if(wt(["point","band"],Ve)){let Xn=Ife(u,d,g.view);if(Fp(Xn))return{step:Lfe(Xn,c,u)}}let on=ts(u),Mn=c.getName(on);return u===rr&&Ct(Ve)?[th.fromName(M,Mn),0]:[0,th.fromName(M,Mn)]}case ae:case Be:return qPe(u,c,Ve);case we:{let on=c.component.scales[u].get("zero"),Mn=Mfe(E,on,g),Xn=zPe(E,d,c,g);return ur(Ve)?$Pe(Mn,Xn,UPe(Ve,g,Xe,u)):[Mn,Xn]}case hn:return[0,Math.PI*2];case We:return[0,360];case rt:return[0,new th(()=>{let on=c.getSignalName("width"),Mn=c.getSignalName("height");return`min(${on},${Mn})/2`})];case wn:return[g.scale.minStrokeWidth,g.scale.maxStrokeWidth];case bn:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case ne:return"symbol";case gt:case St:case Ot:return Ve==="ordinal"?G==="nominal"?"category":"ordinal":qt!==void 0?"diverging":E==="rect"||E==="geoshape"?"heatmap":"ramp";case st:case Ut:case sn:return[g.scale.minOpacity,g.scale.maxOpacity]}}function Lfe(u,c,d){let{encoding:g}=c,E=c.getScaleComponent(d),D=xa(d),M=g[D];if(uL({step:u,offsetIsDiscrete:ks(M)&&vp(M.type)})==="offset"&&WN(g,D)){let se=c.getScaleComponent(D),Xe=`domain('${c.scaleName(D)}').length`;if(se.get("type")==="band"){let on=se.get("paddingInner")??se.get("padding")??0,Mn=se.get("paddingOuter")??se.get("padding")??0;Xe=`bandspace(${Xe}, ${on}, ${Mn})`}let qt=E.get("paddingInner")??E.get("padding");return{signal:`${u.step} * ${Xe} / (1-${Ir(qt)})`}}else return u.step}function kfe(u,c){if(uL({step:u,offsetIsDiscrete:Pe(c)})==="offset")return{step:u.step}}function qPe(u,c,d){let g=u===ae?"x":"y",D=c.getScaleComponent(g).get("type"),M=c.scaleName(g);if(D==="band"){let G=Ife(g,c.size,c.config.view);if(Fp(G)){let se=kfe(G,d);if(se)return se}return[0,{signal:`bandwidth('${M}')`}]}else return ke(`Cannot use ${u} scale if ${g} scale is not discrete.`)}function Ife(u,c,d){let g=u===Nn?"width":"height",E=c[g];return E||Ub(d,g)}function UPe(u,c,d,g){switch(u){case"quantile":return c.scale.quantileCount;case"quantize":return c.scale.quantizeCount;case"threshold":return d!==void 0&&e.isArray(d)?d.length+1:(jr(Bc(g)),3)}}function $Pe(u,c,d){let g=()=>{let E=gi(c),D=gi(u),M=`(${E} - ${D}) / (${d} - 1)`;return`sequence(${D}, ${E} + ${M}, ${M})`};return $n(c)?new th(g):{signal:g()}}function Mfe(u,c,d){if(c)return $n(c)?{signal:`${c.signal} ? 0 : ${Mfe(u,!1,d)}`}:0;switch(u){case"bar":case"tick":return d.scale.minBandSize;case"line":case"trail":case"rule":return d.scale.minStrokeWidth;case"text":return d.scale.minFontSize;case"point":case"square":case"circle":return d.scale.minSize}throw new Error(El("size",u))}let Pfe=.95;function zPe(u,c,d,g){let E={x:Nfe(d,"x"),y:Nfe(d,"y")};switch(u){case"bar":case"tick":{if(g.scale.maxBandSize!==void 0)return g.scale.maxBandSize;let D=Bfe(c,E,g.view);return e.isNumber(D)?D-1:new th(()=>`${D.signal} - 1`)}case"line":case"trail":case"rule":return g.scale.maxStrokeWidth;case"text":return g.scale.maxFontSize;case"point":case"square":case"circle":{if(g.scale.maxSize)return g.scale.maxSize;let D=Bfe(c,E,g.view);return e.isNumber(D)?Math.pow(Pfe*D,2):new th(()=>`pow(${Pfe} * ${D.signal}, 2)`)}}throw new Error(El("size",u))}function Bfe(u,c,d){let g=Fp(u.width)?u.width.step:qb(d,"width"),E=Fp(u.height)?u.height.step:qb(d,"height");return c.x||c.y?new th(()=>`min(${[c.x?c.x.signal:g,c.y?c.y.signal:E].join(", ")})`):Math.min(g,E)}function jfe(u,c){mc(u)?HPe(u,c):$fe(u,c)}function HPe(u,c){let d=u.component.scales,{config:g,encoding:E,markDef:D,specifiedScales:M}=u;for(let G of re(d)){let se=M[G],Ve=d[G],Xe=u.getScaleComponent(G),qt=yu(E[G]),on=se[c],Mn=Xe.get("type"),Xn=Xe.get("padding"),lr=Xe.get("paddingInner"),pr=Fs(Mn,c),kr=g0(G,c);if(on!==void 0&&(pr?kr&&jr(kr):jr(Nr(Mn,c,G))),pr&&kr===void 0)if(on!==void 0){let Ni=qt.timeUnit,Ui=qt.type;switch(c){case"domainMax":case"domainMin":ed(se[c])||Ui==="temporal"||Ni?Ve.set(c,{signal:Nb(se[c],{type:Ui,timeUnit:Ni})},!0):Ve.set(c,se[c],!0);break;default:Ve.copyKeyFromObject(c,se)}}else{let Ni=c in qfe?qfe[c]({model:u,channel:G,fieldOrDatumDef:qt,scaleType:Mn,scalePadding:Xn,scalePaddingInner:lr,domain:se.domain,domainMin:se.domainMin,domainMax:se.domainMax,markDef:D,config:g,hasNestedOffsetScale:L9(E,G),hasSecondaryRangeChannel:!!E[Cs(G)]}):g.scale[c];Ni!==void 0&&Ve.set(c,Ni,!1)}}}let qfe={bins:u=>{let{model:c,fieldOrDatumDef:d}=u;return br(d)?VPe(c,d):void 0},interpolate:u=>{let{channel:c,fieldOrDatumDef:d}=u;return WPe(c,d.type)},nice:u=>{let{scaleType:c,channel:d,domain:g,domainMin:E,domainMax:D,fieldOrDatumDef:M}=u;return QPe(c,d,g,E,D,M)},padding:u=>{let{channel:c,scaleType:d,fieldOrDatumDef:g,markDef:E,config:D}=u;return GPe(c,d,D.scale,g,E,D.bar)},paddingInner:u=>{let{scalePadding:c,channel:d,markDef:g,scaleType:E,config:D,hasNestedOffsetScale:M}=u;return YPe(c,d,g.type,E,D.scale,M)},paddingOuter:u=>{let{scalePadding:c,channel:d,scaleType:g,scalePaddingInner:E,config:D,hasNestedOffsetScale:M}=u;return KPe(c,d,g,E,D.scale,M)},reverse:u=>{let{fieldOrDatumDef:c,scaleType:d,channel:g,config:E}=u,D=br(c)?c.sort:void 0;return JPe(d,D,g,E.scale)},zero:u=>{let{channel:c,fieldOrDatumDef:d,domain:g,markDef:E,scaleType:D,config:M,hasSecondaryRangeChannel:G}=u;return XPe(c,d,g,E,D,M.scale,G)}};function Ufe(u){mc(u)?MPe(u):$fe(u,"range")}function $fe(u,c){let d=u.component.scales;for(let g of u.children)c==="range"?Ufe(g):jfe(g,c);for(let g of re(d)){let E;for(let D of u.children){let M=D.component.scales[g];if(M){let G=M.getWithExplicit(c);E=a2(E,G,c,"scale",OL((se,Ve)=>{switch(c){case"range":return se.step&&Ve.step?se.step-Ve.step:0}return 0}))}}d[g].setWithExplicit(c,E)}}function VPe(u,c){let d=c.bin;if(xr(d)){let g=kG(u,c.field,d);return new th(()=>u.getSignalName(g))}else if(is(d)&&Ie(d)&&d.step!==void 0)return{step:d.step}}function WPe(u,c){if(wt([gt,St,Ot],u)&&c!=="nominal")return"hcl"}function QPe(u,c,d,g,E,D){var M;if(!((M=jh(D))!==null&&M!==void 0&&M.bin||e.isArray(d)||E!=null||g!=null||wt([sl.TIME,sl.UTC],u)))return us(c)?!0:void 0}function GPe(u,c,d,g,E,D){if(us(u)){if(Tn(c)){if(d.continuousPadding!==void 0)return d.continuousPadding;let{type:M,orient:G}=E;if(M==="bar"&&!(br(g)&&(g.bin||g.timeUnit))&&(G==="vertical"&&u==="x"||G==="horizontal"&&u==="y"))return D.continuousBandSize}if(c===sl.POINT)return d.pointPadding}}function YPe(u,c,d,g,E){let D=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(u===void 0){if(us(c)){let{bandPaddingInner:M,barBandPaddingInner:G,rectBandPaddingInner:se,bandWithNestedOffsetPaddingInner:Ve}=E;return D?Ve:Ne(M,d==="bar"?G:se)}else if(Wi(c)&&g===sl.BAND)return E.offsetBandPaddingInner}}function KPe(u,c,d,g,E){let D=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(u===void 0){if(us(c)){let{bandPaddingOuter:M,bandWithNestedOffsetPaddingOuter:G}=E;if(D)return G;if(d===sl.BAND)return Ne(M,$n(g)?{signal:`${g.signal}/2`}:g/2)}else if(Wi(c)){if(d===sl.POINT)return .5;if(d===sl.BAND)return E.offsetBandPaddingOuter}}}function JPe(u,c,d,g){if(d==="x"&&g.xReverse!==void 0)return Ct(u)&&c==="descending"?$n(g.xReverse)?{signal:`!${g.xReverse.signal}`}:!g.xReverse:g.xReverse;if(Ct(u)&&c==="descending")return!0}function XPe(u,c,d,g,E,D,M){if(!!d&&d!=="unaggregated"&&Ct(E)){if(e.isArray(d)){let se=d[0],Ve=d[d.length-1];if(se<=0&&Ve>=0)return!0}return!1}if(u==="size"&&c.type==="quantitative"&&!ur(E))return!0;if(!(br(c)&&c.bin)&&wt([...io,...ho],u)){let{orient:se,type:Ve}=g;return wt(["bar","area","line","trail"],Ve)&&(se==="horizontal"&&u==="y"||se==="vertical"&&u==="x")?!1:wt(["bar","area"],Ve)&&!M?!0:D==null?void 0:D.zero}return!1}function ZPe(u,c,d,g){let E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,D=eBe(c,d,g,E),{type:M}=u;return Ii(c)?M!==void 0?bp(c,M)?br(d)&&!Al(M,d.type)?(jr(hr(M,D)),D):M:(jr(sr(c,M,D)),D):D:null}function eBe(u,c,d,g){switch(c.type){case"nominal":case"ordinal":{var E;if(C(u)||$a(u)==="discrete")return u==="shape"&&c.type==="ordinal"&&jr(bl(u,"ordinal")),"ordinal";if(us(u)||Wi(u)){if(wt(["rect","bar","image","rule"],d.type)||g)return"band"}else if(d.type==="arc"&&u in so)return"band";let D=d[ts(u)];return x(D)||c3(c)&&(E=c.axis)!==null&&E!==void 0&&E.tickBand?"band":"point"}case"temporal":return C(u)?"time":$a(u)==="discrete"?(jr(bl(u,"temporal")),"ordinal"):br(c)&&c.timeUnit&&xu(c.timeUnit).utc?"utc":"time";case"quantitative":return C(u)?br(c)&&xr(c.bin)?"bin-ordinal":"linear":$a(u)==="discrete"?(jr(bl(u,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(Pc(c.type))}function tBe(u){let{ignoreRange:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};zfe(u),Tfe(u);for(let d of Ph)jfe(u,d);c||Ufe(u)}function zfe(u){mc(u)?u.component.scales=nBe(u):u.component.scales=iBe(u)}function nBe(u){let{encoding:c,mark:d,markDef:g}=u,E={};for(let D of vs){let M=yu(c[D]);if(M&&d===Z1&&D===ne&&M.type===Nu)continue;let G=M&&M.scale;if(Wi(D)){let se=yl(D);if(!L9(c,se)){G&&jr(uf(D));continue}}if(M&&G!==null&&G!==!1){G??={};let se=L9(c,D),Ve=ZPe(G,D,M,g,se);E[D]=new Ofe(u.scaleName(`${D}`,!0),{value:Ve,explicit:G.type===Ve})}}return E}let rBe=OL((u,c)=>Ep(u)-Ep(c));function iBe(u){let c=u.component.scales={},d={},g=u.component.resolve;for(let E of u.children){zfe(E);for(let D of re(E.component.scales))if(g.scale[D]??=ufe(D,u),g.scale[D]==="shared"){let M=d[D],G=E.component.scales[D].getWithExplicit("type");M?Hd(M.value,G.value)?d[D]=a2(M,G,"type","scale",rBe):(g.scale[D]="independent",delete d[D]):d[D]=G}}for(let E of re(d)){let D=u.scaleName(E,!0),M=d[E];c[E]=new Ofe(D,M);for(let G of u.children){let se=G.component.scales[E];se&&(G.renameScale(se.get("name"),D),se.merged=!0)}}return c}class VG{constructor(){En(this,"nameMap",void 0),this.nameMap={}}rename(c,d){this.nameMap[c]=d}has(c){return this.nameMap[c]!==void 0}get(c){for(;this.nameMap[c]&&c!==this.nameMap[c];)c=this.nameMap[c];return c}}function mc(u){return(u==null?void 0:u.type)==="unit"}function um(u){return(u==null?void 0:u.type)==="facet"}function WG(u){return(u==null?void 0:u.type)==="concat"}function r8(u){return(u==null?void 0:u.type)==="layer"}class QG{constructor(c,d,g,E,D,M,G){this.type=d,this.parent=g,this.config=D,En(this,"name",void 0),En(this,"size",void 0),En(this,"title",void 0),En(this,"description",void 0),En(this,"data",void 0),En(this,"transforms",void 0),En(this,"layout",void 0),En(this,"scaleNameMap",void 0),En(this,"projectionNameMap",void 0),En(this,"signalNameMap",void 0),En(this,"component",void 0),En(this,"view",void 0),En(this,"children",void 0),En(this,"correctDataNames",se=>{var Ve,Xe,qt;return(Ve=se.from)!==null&&Ve!==void 0&&Ve.data&&(se.from.data=this.lookupDataSource(se.from.data)),(Xe=se.from)!==null&&Xe!==void 0&&(qt=Xe.facet)!==null&&qt!==void 0&&qt.data&&(se.from.facet.data=this.lookupDataSource(se.from.facet.data)),se}),this.parent=g,this.config=D,this.view=pn(G),this.name=c.name??E,this.title=Kn(c.title)?{text:c.title}:c.title?pn(c.title):void 0,this.scaleNameMap=g?g.scaleNameMap:new VG,this.projectionNameMap=g?g.projectionNameMap:new VG,this.signalNameMap=g?g.signalNameMap:new VG,this.data=c.data,this.description=c.description,this.transforms=zQ(c.transform??[]),this.layout=d==="layer"||d==="unit"?{}:xQ(c,d,D),this.component={data:{sources:g?g.component.data.sources:[],outputNodes:g?g.component.data.outputNodes:{},outputNodeRefCounts:g?g.component.data.outputNodeRefCounts:{},isFaceted:Cp(c)||(g==null?void 0:g.component.data.isFaceted)&&c.data===void 0},layoutSize:new Dp,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...M?Ee(M):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){tBe(this)}parseProjection(){Efe(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){xfe(this)}assembleEncodeFromView(c){let{style:d,...g}=c,E={};for(let D of re(g)){let M=g[D];M!==void 0&&(E[D]=qr(M))}return E}assembleGroupEncodeEntry(c){let d={};return this.view&&(d=this.assembleEncodeFromView(this.view)),!c&&(this.description&&(d.description=qr(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...d??{}}:Ke(d)?void 0:d}assembleLayout(){if(!this.layout)return;let{spacing:c,...d}=this.layout,{component:g,config:E}=this,D=fd(g.layoutHeaders,E);return{padding:c,...this.assembleDefaultLayout(),...d,...D?{titleBand:D}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){let{layoutHeaders:c}=this.component,d=[];for(let g of ee)c[g].title&&d.push(Ci(this,g));for(let g of Tr)d=d.concat(xo(this,g));return d}assembleAxes(){return CG(this.component.axes,this.config)}assembleLegends(){return yfe(this)}assembleProjections(){return YMe(this)}assembleTitle(){let{encoding:c,...d}=this.title??{},g={...Ln(this.config.title).nonMarkTitleProperties,...d,...c?{encode:{update:c}}:{}};if(g.text)return wt(["unit","layer"],this.type)?wt(["middle",void 0],g.anchor)&&(g.frame??="group"):g.anchor??="start",Ke(g)?void 0:g}assembleGroup(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d={};c=c.concat(this.assembleSignals()),c.length>0&&(d.signals=c);let g=this.assembleLayout();g&&(d.layout=g),d.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());let E=!this.parent||um(this.parent)?Dfe(this):[];E.length>0&&(d.scales=E);let D=this.assembleAxes();D.length>0&&(d.axes=D);let M=this.assembleLegends();return M.length>0&&(d.legends=M),d}getName(c){return Rt((this.name?`${this.name}_`:"")+c)}getDataName(c){return this.getName(ja[c].toLowerCase())}requestDataName(c){let d=this.getDataName(c),g=this.component.data.outputNodeRefCounts;return g[d]=(g[d]||0)+1,d}getSizeSignalRef(c){if(um(this.parent)){let d=ofe(c),g=hi(d),E=this.component.scales[g];if(E&&!E.merged){let D=E.get("type"),M=E.get("range");if(Pe(D)&&Er(M)){let G=E.get("name"),se=dk(this,g),Ve=HG(se);if(Ve){let Xe=fi({aggregate:"distinct",field:Ve},{expr:"datum"});return{signal:sfe(G,E,Xe)}}else return jr(vr(g)),null}}}return{signal:this.signalNameMap.get(this.getName(c))}}lookupDataSource(c){let d=this.component.data.outputNodes[c];return d?d.getSource():c}getSignalName(c){return this.signalNameMap.get(c)}renameSignal(c,d){this.signalNameMap.rename(c,d)}renameScale(c,d){this.scaleNameMap.rename(c,d)}renameProjection(c,d){this.projectionNameMap.rename(c,d)}scaleName(c,d){if(d)return this.getName(c);if(yr(c)&&Ii(c)&&this.component.scales[c]||this.scaleNameMap.has(this.getName(c)))return this.scaleNameMap.get(this.getName(c))}projectionName(c){if(c)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(c){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");let d=this.component.scales[c];return d&&!d.merged?d:this.parent?this.parent.getScaleComponent(c):void 0}getSelectionComponent(c,d){let g=this.component.selection[c];if(!g&&this.parent&&(g=this.parent.getSelectionComponent(c,d)),!g)throw new Error(oo(d));return g}hasAxisOrientSignalRef(){var c,d;return((c=this.component.axes.x)===null||c===void 0?void 0:c.some(g=>g.hasOrientSignalRef()))||((d=this.component.axes.y)===null||d===void 0?void 0:d.some(g=>g.hasOrientSignalRef()))}}class Hfe extends QG{vgField(c){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=this.fieldDef(c);if(!!g)return fi(g,d)}reduceFieldDef(c,d){return Jd(this.getMapping(),(g,E,D)=>{let M=jh(E);return M?c(g,M,D):g},d)}forEachFieldDef(c,d){k9(this.getMapping(),(g,E)=>{let D=jh(g);D&&c(D,E)},d)}}class hk extends Sa{clone(){return new hk(null,Ee(this.transform))}constructor(c,d){super(c);this.transform=d,this.transform=Ee(d);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??"value",g[1]??"density"],d.groupby&&d.minsteps==null&&d.maxsteps==null&&d.steps==null&&(this.transform.steps=200)}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${lt(this.transform)}`}assemble(){let{density:c,...d}=this.transform;return{type:"kde",field:c,...d}}}class bA extends Sa{clone(){return new bA(null,{...this.filter})}constructor(c,d){super(c);this.filter=d}static make(c,d){let{config:g,mark:E,markDef:D}=d;if(vi("invalid",D,g)!=="filter")return null;let G=d.reduceFieldDef((se,Ve,Xe)=>{let qt=Ii(Xe)&&d.getScaleComponent(Xe);if(qt){let on=qt.get("type");Ct(on)&&Ve.aggregate!=="count"&&!mf(E)&&(se[Ve.field]=Ve)}return se},{});return re(G).length?new bA(c,G):null}dependentFields(){return new Set(re(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${lt(this.filter)}`}assemble(){let c=re(this.filter).reduce((d,g)=>{let E=this.filter[g],D=fi(E,{expr:"datum"});return E!==null&&(E.type==="temporal"?d.push(`(isDate(${D}) || (isValid(${D}) && isFinite(+${D})))`):E.type==="quantitative"&&(d.push(`isValid(${D})`),d.push(`isFinite(+${D})`))),d},[]);return c.length>0?{type:"filter",expr:c.join(" && ")}:null}}class pk extends Sa{clone(){return new pk(this.parent,Ee(this.transform))}constructor(c,d){super(c);this.transform=d,this.transform=Ee(d);let{flatten:g,as:E=[]}=this.transform;this.transform.as=g.map((D,M)=>E[M]??D)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${lt(this.transform)}`}assemble(){let{flatten:c,as:d}=this.transform;return{type:"flatten",fields:c,as:d}}}class mk extends Sa{clone(){return new mk(null,Ee(this.transform))}constructor(c,d){super(c);this.transform=d,this.transform=Ee(d);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??"key",g[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${lt(this.transform)}`}assemble(){let{fold:c,as:d}=this.transform;return{type:"fold",fields:c,as:d}}}class i8 extends Sa{clone(){return new i8(null,Ee(this.fields),this.geojson,this.signal)}static parseAll(c,d){if(d.component.projection&&!d.component.projection.isFit)return c;let g=0;for(let E of[[ie,dt],[Ue,Te]]){let D=E.map(M=>{let G=yu(d.encoding[M]);return br(G)?G.field:So(G)?{expr:`${G.datum}`}:Kd(G)?{expr:`${G.value}`}:void 0});(D[0]||D[1])&&(c=new i8(c,D,null,d.getName(`geojson_${g++}`)))}if(d.channelHasField(ne)){let E=d.typedFieldDef(ne);E.type===Nu&&(c=new i8(c,null,E.field,d.getName(`geojson_${g++}`)))}return c}constructor(c,d,g,E){super(c);this.fields=d,this.geojson=g,this.signal=E}dependentFields(){let c=(this.fields??[]).filter(e.isString);return new Set([...this.geojson?[this.geojson]:[],...c])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${lt(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class SA extends Sa{clone(){return new SA(null,this.projection,Ee(this.fields),Ee(this.as))}constructor(c,d,g,E){super(c);this.projection=d,this.fields=g,this.as=E}static parseAll(c,d){if(!d.projectionName())return c;for(let g of[[ie,dt],[Ue,Te]]){let E=g.map(M=>{let G=yu(d.encoding[M]);return br(G)?G.field:So(G)?{expr:`${G.datum}`}:Kd(G)?{expr:`${G.value}`}:void 0}),D=g[0]===Ue?"2":"";(E[0]||E[1])&&(c=new SA(c,d.projectionName(),E,[d.getName(`x${D}`),d.getName(`y${D}`)]))}return c}dependentFields(){return new Set(this.fields.filter(e.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${lt(this.fields)} ${lt(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class __ extends Sa{clone(){return new __(null,Ee(this.transform))}constructor(c,d){super(c);this.transform=d}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(c){let{start:d=0,stop:g,step:E}=c;return{signal:`sequence(${[d,g,...E?[E]:[]].join(",")})`}}static makeFromTransform(c,d){return new __(c,d)}static makeFromEncoding(c,d){let g=d.encoding,E=g.x,D=g.y;if(br(E)&&br(D)){let M=E.impute?E:D.impute?D:void 0;if(M===void 0)return;let G=E.impute?D:D.impute?E:void 0,{method:se,value:Ve,frame:Xe,keyvals:qt}=M.impute,on=GN(d.mark,g);return new __(c,{impute:M.field,key:G.field,...se?{method:se}:{},...Ve!==void 0?{value:Ve}:{},...Xe?{frame:Xe}:{},...qt!==void 0?{keyvals:qt}:{},...on.length?{groupby:on}:{}})}return null}hash(){return`Impute ${lt(this.transform)}`}assemble(){let{impute:c,key:d,keyvals:g,method:E,groupby:D,value:M,frame:G=[null,null]}=this.transform,se={type:"impute",field:c,key:d,...g?{keyvals:E0(g)?this.processSequence(g):g}:{},method:"value",...D?{groupby:D}:{},value:!E||E==="value"?M:null};if(E&&E!=="value"){let Ve={type:"window",as:[`imputed_${c}_value`],ops:[E],fields:[c],frame:G,ignorePeers:!1,...D?{groupby:D}:{}},Xe={type:"formula",expr:`datum.${c} === null ? datum.imputed_${c}_value : datum.${c}`,as:c};return[se,Ve,Xe]}else return[se]}}class xk extends Sa{clone(){return new xk(null,Ee(this.transform))}constructor(c,d){super(c);this.transform=d,this.transform=Ee(d);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??d.on,g[1]??d.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${lt(this.transform)}`}assemble(){let{loess:c,on:d,...g}=this.transform;return{type:"loess",x:d,y:c,...g}}}class CA extends Sa{clone(){return new CA(null,Ee(this.transform),this.secondary)}constructor(c,d,g){super(c);this.transform=d,this.secondary=g}static make(c,d,g,E){let D=d.component.data.sources,{from:M}=g,G=null;if(LQ(M)){let se=Gfe(M.data,D);se||(se=new g_(M.data),D.push(se));let Ve=d.getName(`lookup_${E}`);G=new jf(se,Ve,ja.Lookup,d.component.data.outputNodeRefCounts),d.component.data.outputNodes[Ve]=G}else if(o2(M)){let se=M.param;g={as:se,...g};let Ve;try{Ve=d.getSelectionComponent(Rt(se),se)}catch{throw new Error(sf(se))}if(G=Ve.materialized,!G)throw new Error(Ic(se))}return new CA(c,g,G.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?e.array(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${lt({transform:this.transform,secondary:this.secondary})}`}assemble(){let c;if(this.transform.from.fields)c={values:this.transform.from.fields,...this.transform.as?{as:e.array(this.transform.as)}:{}};else{let d=this.transform.as;e.isString(d)||(jr(Wl),d="_lookup"),c={as:[d]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...c,...this.transform.default?{default:this.transform.default}:{}}}}class gk extends Sa{clone(){return new gk(null,Ee(this.transform))}constructor(c,d){super(c);this.transform=d,this.transform=Ee(d);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??"prob",g[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${lt(this.transform)}`}assemble(){let{quantile:c,...d}=this.transform;return{type:"quantile",field:c,...d}}}class yk extends Sa{clone(){return new yk(null,Ee(this.transform))}constructor(c,d){super(c);this.transform=d,this.transform=Ee(d);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??d.on,g[1]??d.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${lt(this.transform)}`}assemble(){let{regression:c,on:d,...g}=this.transform;return{type:"regression",x:d,y:c,...g}}}class vk extends Sa{clone(){return new vk(null,Ee(this.transform))}constructor(c,d){super(c);this.transform=d}addDimensions(c){this.transform.groupby=Et((this.transform.groupby??[]).concat(c),d=>d)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${lt(this.transform)}`}assemble(){let{pivot:c,value:d,groupby:g,limit:E,op:D}=this.transform;return{type:"pivot",field:c,value:d,...E!==void 0?{limit:E}:{},...D!==void 0?{op:D}:{},...g!==void 0?{groupby:g}:{}}}}class _k extends Sa{clone(){return new _k(null,Ee(this.transform))}constructor(c,d){super(c);this.transform=d}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${lt(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function Vfe(u){let c=0;function d(g,E){if(g instanceof g_&&!g.isGenerator&&!sm(g.data)&&(u.push(E),E={name:null,source:E.name,transform:[]}),g instanceof C0&&(g.parent instanceof g_&&!E.source?(E.format={...E.format??{},parse:g.assembleFormatParse()},E.transform.push(...g.assembleTransforms(!0))):E.transform.push(...g.assembleTransforms())),g instanceof t8){E.name||(E.name=`data_${c++}`),!E.source||E.transform.length>0?(u.push(E),g.data=E.name):g.data=E.source,u.push(...g.assemble());return}switch((g instanceof _A||g instanceof EA||g instanceof bA||g instanceof S3||g instanceof Wt||g instanceof SA||g instanceof om||g instanceof CA||g instanceof n8||g instanceof v_||g instanceof mk||g instanceof pk||g instanceof hk||g instanceof xk||g instanceof gk||g instanceof yk||g instanceof C3||g instanceof _k||g instanceof vk)&&E.transform.push(g.assemble()),(g instanceof d2||g instanceof Rp||g instanceof __||g instanceof hg||g instanceof i8)&&E.transform.push(...g.assemble()),g instanceof jf&&(E.source&&E.transform.length===0?g.setSource(E.source):g.parent instanceof jf?g.setSource(E.name):(E.name||(E.name=`data_${c++}`),g.setSource(E.name),g.numChildren()===1&&(u.push(E),E={name:null,source:E.name,transform:[]}))),g.numChildren()){case 0:g instanceof jf&&(!E.source||E.transform.length>0)&&u.push(E);break;case 1:d(g.children[0],E);break;default:{E.name||(E.name=`data_${c++}`);let D=E.name;!E.source||E.transform.length>0?u.push(E):D=E.source;for(let M of g.children)d(M,{name:null,source:D,transform:[]});break}}}return d}function sBe(u){let c=[],d=Vfe(c);for(let g of u.children)d(g,{source:u.name,name:null,transform:[]});return c}function oBe(u,c){let d=[],g=Vfe(d),E=0;for(let M of u.sources){M.hasName()||(M.dataName=`source_${E++}`);let G=M.assemble();g(M,G)}for(let M of d)M.transform.length===0&&delete M.transform;let D=0;for(let[M,G]of d.entries())(G.transform??[]).length===0&&!G.source&&d.splice(D++,0,d.splice(M,1)[0]);for(let M of d)for(let G of M.transform??[])G.type==="lookup"&&(G.from=u.outputNodes[G.from].getSource());for(let M of d)M.name in c&&(M.values=c[M.name]);return d}function aBe(u){return u==="top"||u==="left"||$n(u)?"header":"footer"}function uBe(u){for(let c of ee)lBe(u,c);Qfe(u,"x"),Qfe(u,"y")}function lBe(u,c){let{facet:d,config:g,child:E,component:D}=u;if(u.channelHasField(c)){var M;let G=d[c],se=Qn("title",null,g,c),Ve=d3(G,g,{allowDisabling:!0,includeDefault:se===void 0||!!se});E.component.layoutHeaders[c].title&&(Ve=e.isArray(Ve)?Ve.join(", "):Ve,Ve+=` / ${E.component.layoutHeaders[c].title}`,E.component.layoutHeaders[c].title=null);let Xe=Qn("labelOrient",G.header,g,c),qt=G.header!==null?Ne((M=G.header)===null||M===void 0?void 0:M.labels,g.header.labels,!0):!1,on=wt(["bottom","right"],Xe)?"footer":"header";D.layoutHeaders[c]={title:G.header!==null?Ve:null,facetFieldDef:G,[on]:c==="facet"?[]:[Wfe(u,c,qt)]}}}function Wfe(u,c,d){let g=c==="row"?"height":"width";return{labels:d,sizeSignal:u.child.component.layoutSize.get(g)?u.child.getSizeSignalRef(g):void 0,axes:[]}}function Qfe(u,c){let{child:d}=u;if(d.component.axes[c]){let{layoutHeaders:g,resolve:E}=u.component;if(E.axis[c]=NG(E,c),E.axis[c]==="shared"){let D=c==="x"?"column":"row",M=g[D];for(let G of d.component.axes[c]){let se=aBe(G.get("orient"));M[se]??=[Wfe(u,D,!1)];let Ve=x_(G,"main",u.config,{header:!0});Ve&&M[se][0].axes.push(Ve),G.mainExtracted=!0}}}}function cBe(u){GG(u),Ek(u,"width"),Ek(u,"height")}function fBe(u){GG(u);let c=u.layout.columns===1?"width":"childWidth",d=u.layout.columns===void 0?"height":"childHeight";Ek(u,c),Ek(u,d)}function GG(u){for(let c of u.children)c.parseLayoutSize()}function Ek(u,c){let d=ofe(c),g=hi(d),E=u.component.resolve,D=u.component.layoutSize,M;for(let G of u.children){let se=G.component.layoutSize.getWithExplicit(d),Ve=E.scale[g]??ufe(g,u);if(Ve==="independent"&&se.value==="step"){M=void 0;break}if(M){if(Ve==="independent"&&M.value!==se.value){M=void 0;break}M=a2(M,se,d,"")}else M=se}if(M){for(let G of u.children)u.renameSignal(G.getName(d),u.getName(c)),G.component.layoutSize.set(d,"merged",!1);D.setWithExplicit(c,M)}else D.setWithExplicit(c,{explicit:!1,value:void 0})}function dBe(u){let{size:c,component:d}=u;for(let g of io){let E=ts(g);if(c[E]){let D=c[E];d.layoutSize.set(E,Fp(D)?"step":D,!0)}else{let D=hBe(u,E);d.layoutSize.set(E,D,!1)}}}function hBe(u,c){let d=c==="width"?"x":"y",g=u.config,E=u.getScaleComponent(d);if(E){let D=E.get("type"),M=E.get("range");if(Pe(D)){let G=Ub(g.view,c);return Er(M)||Fp(G)?"step":G}else return Q9(g.view,c)}else{if(u.hasProjection||u.mark==="arc")return Q9(g.view,c);{let D=Ub(g.view,c);return Fp(D)?D.step:D}}}function YG(u,c,d){return fi(c,{suffix:`by_${fi(u)}`,...d??{}})}class wA extends Hfe{constructor(c,d,g,E){super(c,"facet",d,g,E,c.resolve);En(this,"facet",void 0),En(this,"child",void 0),En(this,"children",void 0),this.child=eY(c.spec,this,this.getName("child"),void 0,E),this.children=[this.child],this.facet=this.initFacet(c.facet)}initFacet(c){if(!Gd(c))return{facet:this.initFacetFieldDef(c,"facet")};let d=re(c),g={};for(let E of d){if(![Fn,Wn].includes(E)){jr(El(E,"facet"));break}let D=c[E];if(D.field===void 0){jr(Zo(D,E));break}g[E]=this.initFacetFieldDef(D,E)}return g}initFacetFieldDef(c,d){let g=h3(c,d);return g.header?g.header=pn(g.header):g.header===null&&(g.header=null),g}channelHasField(c){return!!this.facet[c]}fieldDef(c){return this.facet[c]}parseData(){this.component.data=bk(this),this.child.parseData()}parseLayoutSize(){GG(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),uBe(this)}assembleSelectionTopLevelSignals(c){return this.child.assembleSelectionTopLevelSignals(c)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(c){return this.child.assembleSelectionData(c)}getHeaderLayoutMixins(){let c={};for(let d of ee)for(let g of Pr){let E=this.component.layoutHeaders[d],D=E[g],{facetFieldDef:M}=E;if(M){let G=Qn("titleOrient",M.header,this.config,d);if(["right","bottom"].includes(G)){let se=Rn(d,G);c.titleAnchor??={},c.titleAnchor[se]="end"}}if(D!=null&&D[0]){let G=d==="row"?"height":"width",se=g==="header"?"headerBand":"footerBand";d!=="facet"&&!this.child.component.layoutSize.get(G)&&(c[se]??={},c[se][d]=.5),E.title&&(c.offset??={},c.offset[d==="row"?"rowTitle":"columnTitle"]=10)}}return c}assembleDefaultLayout(){let{column:c,row:d}=this.facet,g=c?this.columnDistinctSignal():d?1:void 0,E="all";return(!d&&this.component.resolve.scale.x==="independent"||!c&&this.component.resolve.scale.y==="independent")&&(E="none"),{...this.getHeaderLayoutMixins(),...g?{columns:g}:{},bounds:"full",align:E}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof wA))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(c){return this.parent&&this.parent instanceof wA?{...this.channelHasField("column")?{encode:{update:{columns:{field:fi(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(c)}:super.assembleGroup(c)}getCardinalityAggregateForChild(){let c=[],d=[],g=[];if(this.child instanceof wA){if(this.child.channelHasField("column")){let E=fi(this.child.facet.column);c.push(E),d.push("distinct"),g.push(`distinct_${E}`)}}else for(let E of io){let D=this.child.component.scales[E];if(D&&!D.merged){let M=D.get("type"),G=D.get("range");if(Pe(M)&&Er(G)){let se=dk(this.child,E),Ve=HG(se);Ve?(c.push(Ve),d.push("distinct"),g.push(`distinct_${Ve}`)):jr(vr(E))}}}return{fields:c,ops:d,as:g}}assembleFacet(){let{name:c,data:d}=this.component.data.facetRoot,{row:g,column:E}=this.facet,{fields:D,ops:M,as:G}=this.getCardinalityAggregateForChild(),se=[];for(let Xe of ee){let qt=this.facet[Xe];if(qt){se.push(fi(qt));let{bin:on,sort:Mn}=qt;if(xr(on)&&se.push(fi(qt,{binSuffix:"end"})),ba(Mn)){let{field:Xn,op:lr=Dl}=Mn,pr=YG(qt,Mn);g&&E?(D.push(pr),M.push("max"),G.push(pr)):(D.push(Xn),M.push(lr),G.push(pr))}else if(e.isArray(Mn)){let Xn=_n(qt,Xe);D.push(Xn),M.push("max"),G.push(Xn)}}}let Ve=!!g&&!!E;return{name:c,data:d,groupby:se,...Ve||D.length>0?{aggregate:{...Ve?{cross:Ve}:{},...D.length?{fields:D,ops:M,as:G}:{}}}:{}}}facetSortFields(c){let{facet:d}=this,g=d[c];return g?ba(g.sort)?[YG(g,g.sort,{expr:"datum"})]:e.isArray(g.sort)?[_n(g,c,{expr:"datum"})]:[fi(g,{expr:"datum"})]:[]}facetSortOrder(c){let{facet:d}=this,g=d[c];if(g){let{sort:E}=g;return[(ba(E)?E.order:!e.isArray(E)&&E)||"ascending"]}return[]}assembleLabelTitle(){let{facet:c,config:d}=this;if(c.facet)return Co(c.facet,"facet",d);let g={row:["top","bottom"],column:["left","right"]};for(let D of Tr)if(c[D]){var E;let M=Qn("labelOrient",(E=c[D])===null||E===void 0?void 0:E.header,d,D);if(g[D].includes(M))return Co(c[D],D,d)}}assembleMarks(){let{child:c}=this,d=this.component.data.facetRoot,g=sBe(d),E=c.assembleGroupEncodeEntry(!1),D=this.assembleLabelTitle()||c.assembleTitle(),M=c.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...D?{title:D}:{},...M?{style:M}:{},from:{facet:this.assembleFacet()},sort:{field:ee.map(se=>this.facetSortFields(se)).flat(),order:ee.map(se=>this.facetSortOrder(se)).flat()},...g.length>0?{data:g}:{},...E?{encode:{update:E}}:{},...c.assembleGroup(KQ(this,[]))}]}getMapping(){return this.facet}}function pBe(u,c){let{row:d,column:g}=c;if(d&&g){let E=null;for(let D of[d,g])if(ba(D.sort)){let{field:M,op:G=Dl}=D.sort;u=E=new v_(u,{joinaggregate:[{op:G,field:M,as:YG(D,D.sort,{forAs:!0})}],groupby:[fi(D)]})}return E}return null}function Gfe(u,c){for(let M of c){var d,g,E,D;let G=M.data;if(u.name&&M.hasName()&&u.name!==M.dataName)continue;let se=(d=u.format)===null||d===void 0?void 0:d.mesh,Ve=(g=G.format)===null||g===void 0?void 0:g.feature;if(se&&Ve)continue;let Xe=(E=u.format)===null||E===void 0?void 0:E.feature;if((Xe||Ve)&&Xe!==Ve)continue;let qt=(D=G.format)===null||D===void 0?void 0:D.mesh;if(!((se||qt)&&se!==qt)){if(c_(u)&&c_(G)){if(et(u.values,G.values))return M}else if(sm(u)&&sm(G)){if(u.url===G.url)return M}else if(LL(u)&&u.name===M.dataName)return M}}return null}function mBe(u,c){if(u.data||!u.parent){if(u.data===null){let g=new g_({values:[]});return c.push(g),g}let d=Gfe(u.data,c);if(d)return u2(u.data)||(d.data.format=Bt({},u.data.format,d.data.format)),!d.hasName()&&u.data.name&&(d.dataName=u.data.name),d;{let g=new g_(u.data);return c.push(g),g}}else return u.parent.component.data.facetRoot?u.parent.component.data.facetRoot:u.parent.component.data.main}function xBe(u,c,d){let g=0;for(let E of c.transforms){let D,M;if(Vb(E))M=u=new Wt(u,E),D="derived";else if(Z9(E)){let G=uPe(E);M=u=C0.makeWithAncestors(u,{},G,d)??u,u=new S3(u,c,E.filter)}else if(nu(E))M=u=d2.makeFromTransform(u,E,c),D="number";else if(TL(E))D="date",d.getWithExplicit(E.field).value===void 0&&(u=new C0(u,{[E.field]:D}),d.set(E.field,D,!1)),M=u=Rp.makeFromTransform(u,E);else if(qQ(E))M=u=om.makeFromTransform(u,E),D="number",pA(c)&&(u=new C3(u));else if(Mu(E))M=u=CA.make(u,c,E,g++),D="derived";else if(jQ(E))M=u=new n8(u,E),D="number";else if(rm(E))M=u=new v_(u,E),D="number";else if(UQ(E))M=u=hg.makeFromTransform(u,E),D="derived";else if($Q(E))M=u=new mk(u,E),D="derived";else if(AL(E))M=u=new pk(u,E),D="derived";else if(kQ(E))M=u=new vk(u,E),D="derived";else if(eA(E))u=new _k(u,E);else if(Pu(E))M=u=__.makeFromTransform(u,E),D="derived";else if(IQ(E))M=u=new hk(u,E),D="derived";else if(MQ(E))M=u=new gk(u,E),D="derived";else if(PQ(E))M=u=new yk(u,E),D="derived";else if(BQ(E))M=u=new xk(u,E),D="derived";else{jr(ac(E));continue}if(M&&D!==void 0)for(let G of M.producedFields()??[])d.set(G,D,!1)}return u}function bk(u){var c;let d=mBe(u,u.component.data.sources),{outputNodes:g,outputNodeRefCounts:E}=u.component.data,D=u.data,G=!(D&&(u2(D)||sm(D)||c_(D)))&&u.parent?u.parent.component.data.ancestorParse.clone():new NL;u2(D)?(kL(D)?d=new EA(d,D.sequence):iA(D)&&(d=new _A(d,D.graticule)),G.parseNothing=!0):(D==null||(c=D.format)===null||c===void 0?void 0:c.parse)===null&&(G.parseNothing=!0),d=C0.makeExplicit(d,u,G)??d,d=new C3(d);let se=u.parent&&r8(u.parent);(mc(u)||um(u))&&se&&(d=d2.makeFromEncoding(d,u)??d),u.transforms.length>0&&(d=xBe(d,u,G));let Ve=cPe(u),Xe=lPe(u);d=C0.makeWithAncestors(d,{},{...Ve,...Xe},G)??d,mc(u)&&(d=i8.parseAll(d,u),d=SA.parseAll(d,u)),(mc(u)||um(u))&&(se||(d=d2.makeFromEncoding(d,u)??d),d=Rp.makeFromEncoding(d,u)??d,d=Wt.parseAllForSortIndex(d,u));let qt=u.getDataName(ja.Raw),on=new jf(d,qt,ja.Raw,E);if(g[qt]=on,d=on,mc(u)){let pr=om.makeFromEncoding(d,u);pr&&(d=pr,pA(u)&&(d=new C3(d))),d=__.makeFromEncoding(d,u)??d,d=hg.makeFromEncoding(d,u)??d}mc(u)&&(d=bA.make(d,u)??d);let Mn=u.getDataName(ja.Main),Xn=new jf(d,Mn,ja.Main,E);g[Mn]=Xn,d=Xn,mc(u)&&bG(u,Xn);let lr=null;if(um(u)){let pr=u.getName("facet");d=pBe(d,u.facet)??d,lr=new t8(d,u,pr,Xn.getSource()),g[pr]=lr}return{...u.component.data,outputNodes:g,outputNodeRefCounts:E,raw:on,main:Xn,facetRoot:lr,ancestorParse:G}}class gBe extends QG{constructor(c,d,g,E){var D,M,G,se;super(c,"concat",d,g,E,c.resolve);En(this,"children",void 0),(((D=c.resolve)===null||D===void 0||(M=D.axis)===null||M===void 0?void 0:M.x)==="shared"||((G=c.resolve)===null||G===void 0||(se=G.axis)===null||se===void 0?void 0:se.y)==="shared")&&jr(c0),this.children=this.getChildren(c).map((Ve,Xe)=>eY(Ve,this,this.getName(`concat_${Xe}`),void 0,E))}parseData(){this.component.data=bk(this);for(let c of this.children)c.parseData()}parseSelections(){this.component.selection={};for(let c of this.children){c.parseSelections();for(let d of re(c.component.selection))this.component.selection[d]=c.component.selection[d]}}parseMarkGroup(){for(let c of this.children)c.parseMarkGroup()}parseAxesAndHeaders(){for(let c of this.children)c.parseAxesAndHeaders()}getChildren(c){return jb(c)?c.vconcat:W9(c)?c.hconcat:c.concat}parseLayoutSize(){fBe(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(c){return this.children.reduce((d,g)=>g.assembleSelectionTopLevelSignals(d),c)}assembleSignals(){return this.children.forEach(c=>c.assembleSignals()),[]}assembleLayoutSignals(){let c=dd(this);for(let d of this.children)c.push(...d.assembleLayoutSignals());return c}assembleSelectionData(c){return this.children.reduce((d,g)=>g.assembleSelectionData(d),c)}assembleMarks(){return this.children.map(c=>{let d=c.assembleTitle(),g=c.assembleGroupStyle(),E=c.assembleGroupEncodeEntry(!1);return{type:"group",name:c.getName("group"),...d?{title:d}:{},...g?{style:g}:{},...E?{encode:{update:E}}:{},...c.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){let c=this.layout.columns;return{...c!=null?{columns:c}:{},bounds:"full",align:"each"}}}function yBe(u){return u===!1||u===null}let vBe={disable:1,gridScale:1,scale:1,...HN,labelExpr:1,encode:1},Yfe=re(vBe);class KG extends Dp{constructor(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;super();this.explicit=c,this.implicit=d,this.mainExtracted=g}clone(){return new KG(Ee(this.explicit),Ee(this.implicit),this.mainExtracted)}hasAxisPart(c){return c==="axis"?!0:c==="grid"||c==="title"?!!this.get(c):!yBe(this.get(c))}hasOrientSignalRef(){return $n(this.explicit.orient)}}function _Be(u,c,d){let{encoding:g,config:E}=u,D=yu(g[c])??yu(g[Cs(c)]),M=u.axis(c)||{},{format:G,formatType:se}=M;if(Ei(se))return{text:gs({fieldOrDatumDef:D,field:"datum.value",format:G,formatType:se,config:E}),...d};if(G===void 0&&se===void 0&&E.customFormatTypes){if(al(D)==="quantitative"){if(c3(D)&&D.stack==="normalize"&&E.normalizedNumberFormatType)return{text:gs({fieldOrDatumDef:D,field:"datum.value",format:E.normalizedNumberFormat,formatType:E.normalizedNumberFormatType,config:E}),...d};if(E.numberFormatType)return{text:gs({fieldOrDatumDef:D,field:"datum.value",format:E.numberFormat,formatType:E.numberFormatType,config:E}),...d}}if(al(D)==="temporal"&&E.timeFormatType&&br(D)&&!D.timeUnit)return{text:gs({fieldOrDatumDef:D,field:"datum.value",format:E.timeFormat,formatType:E.timeFormatType,config:E}),...d}}return d}function EBe(u){return io.reduce((c,d)=>(u.component.scales[d]&&(c[d]=[FBe(d,u)]),c),{})}let bBe={bottom:"top",top:"bottom",left:"right",right:"left"};function SBe(u){let{axes:c,resolve:d}=u.component,g={top:0,bottom:0,right:0,left:0};for(let E of u.children){E.parseAxesAndHeaders();for(let D of re(E.component.axes))d.axis[D]=NG(u.component.resolve,D),d.axis[D]==="shared"&&(c[D]=CBe(c[D],E.component.axes[D]),c[D]||(d.axis[D]="independent",delete c[D]))}for(let E of io){for(let D of u.children)if(!!D.component.axes[E]){if(d.axis[E]==="independent"){c[E]=(c[E]??[]).concat(D.component.axes[E]);for(let M of D.component.axes[E]){let{value:G,explicit:se}=M.getWithExplicit("orient");if(!$n(G)){if(g[G]>0&&!se){let Ve=bBe[G];g[G]>g[Ve]&&M.set("orient",Ve,!1)}g[G]++}}}delete D.component.axes[E]}if(d.axis[E]==="independent"&&c[E]&&c[E].length>1)for(let D of c[E])!!D.get("grid")&&!D.explicit.grid&&(D.implicit.grid=!1)}}function CBe(u,c){if(u){if(u.length!==c.length)return;let d=u.length;for(let g=0;g<d;g++){let E=u[g],D=c[g];if(!!E!=!!D)return;if(E&&D){let M=E.getWithExplicit("orient"),G=D.getWithExplicit("orient");if(M.explicit&&G.explicit&&M.value!==G.value)return;u[g]=wBe(E,D)}}}else return c.map(d=>d.clone());return u}function wBe(u,c){for(let d of Yfe){let g=a2(u.getWithExplicit(d),c.getWithExplicit(d),d,"axis",(E,D)=>{switch(d){case"title":return Jn(E,D);case"gridScale":return{explicit:E.explicit,value:Ne(E.value,D.value)}}return Qo(E,D,d,"axis")});u.setWithExplicit(d,g)}return u}function ABe(u,c,d,g,E){if(c==="disable")return d!==void 0;switch(d=d||{},c){case"titleAngle":case"labelAngle":return u===($n(d.labelAngle)?d.labelAngle:rn(d.labelAngle));case"values":return!!d.values;case"encode":return!!d.encoding||!!d.labelAngle;case"title":if(u===U(g,E))return!0}return u===d[c]}let TBe=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function FBe(u,c){var d,g,E,D;let M=c.axis(u),G=new KG,se=yu(c.encoding[u]),{mark:Ve,config:Xe}=c,qt=((d=M)===null||d===void 0?void 0:d.orient)||((g=Xe[u==="x"?"axisX":"axisY"])===null||g===void 0?void 0:g.orient)||((E=Xe.axis)===null||E===void 0?void 0:E.orient)||h(u),on=c.getScaleComponent(u).get("type"),Mn=wG(u,on,qt,c.config),Xn=M!==void 0?!M:gA("disable",Xe.style,(D=M)===null||D===void 0?void 0:D.style,Mn).configValue;if(G.set("disable",Xn,M!==void 0),Xn)return G;M=M||{};let lr=DG(se,M,u,Xe.style,Mn),pr={fieldOrDatumDef:se,axis:M,channel:u,model:c,scaleType:on,orient:qt,labelAngle:lr,mark:Ve,config:Xe};for(let Ui of Yfe){let Os=Ui in ak?ak[Ui](pr):VN(Ui)?M[Ui]:void 0,ji=Os!==void 0,ia=ABe(Os,Ui,M,c,u);if(ji&&ia)G.set(Ui,Os,ia);else{let{configValue:as=void 0,configFrom:ll=void 0}=VN(Ui)&&Ui!=="values"?gA(Ui,Xe.style,M.style,Mn):{},Rl=as!==void 0;ji&&!Rl?G.set(Ui,Os,ia):(ll!=="vgAxisConfig"||TBe.has(Ui)&&Rl||n_(as)||$n(as))&&G.set(Ui,as,!1)}}let kr=M.encoding??{},Ni=zN.reduce((Ui,Os)=>{if(!G.hasAxisPart(Os))return Ui;let ji=afe(kr[Os]??{},c),ia=Os==="labels"?_Be(c,u,ji):ji;return ia!==void 0&&!Ke(ia)&&(Ui[Os]={update:ia}),Ui},{});return Ke(Ni)||G.set("encode",Ni,!!M.encoding||M.labelAngle!==void 0),G}function DBe(u){let{encoding:c,size:d}=u;for(let g of io){let E=ts(g);Fp(d[E])&&hc(c[g])&&(delete d[E],jr(it(E)))}return d}function RBe(u,c,d){let g=pn(u),E=vi("orient",g,d);if(g.orient=kBe(g.type,c,E),E!==void 0&&E!==g.orient&&jr(k(g.orient,E)),g.type==="bar"&&g.orient){let G=vi("cornerRadiusEnd",g,d);if(G!==void 0){let se=g.orient==="horizontal"&&c.x2||g.orient==="vertical"&&c.y2?["cornerRadius"]:T[g.orient];for(let Ve of se)g[Ve]=G;g.cornerRadiusEnd!==void 0&&delete g.cornerRadiusEnd}}return vi("opacity",g,d)===void 0&&(g.opacity=NBe(g.type,c)),vi("cursor",g,d)===void 0&&(g.cursor=OBe(g,c,d)),g}function OBe(u,c,d){return c.href||u.href||vi("href",u,d)?"pointer":u.cursor}function NBe(u,c){if(wt([Bh,Mf,Sp,Wd],u)&&!Lb(c))return .7}function LBe(u,c,d){let{graticule:g}=d;if(g)return!1;let E=Bs("filled",u,c),D=u.type;return Ne(E,D!==Bh&&D!==Vd&&D!==If)}function kBe(u,c,d){switch(u){case Bh:case Sp:case Wd:case Fl:case a3:case o3:return}let{x:g,y:E,x2:D,y2:M}=c;switch(u){case Tl:if(br(g)&&(is(g.bin)||br(E)&&E.aggregate&&!g.aggregate))return"vertical";if(br(E)&&(is(E.bin)||br(g)&&g.aggregate&&!E.aggregate))return"horizontal";if(M||D){if(d)return d;if(!D)return(br(g)&&g.type===x0&&!xr(g.bin)||l3(g))&&br(E)&&is(E.bin)?"horizontal":"vertical";if(!M)return(br(E)&&E.type===x0&&!xr(E.bin)||l3(E))&&br(g)&&is(g.bin)?"vertical":"horizontal"}case If:if(D&&!(br(g)&&is(g.bin))&&M&&!(br(E)&&is(E.bin)))return;case J1:if(M)return br(E)&&is(E.bin)?"horizontal":"vertical";if(D)return br(g)&&is(g.bin)?"vertical":"horizontal";if(u===If){if(g&&!E)return"vertical";if(E&&!g)return"horizontal"}case Vd:case Mf:{let G=hc(g),se=hc(E);if(d)return d;if(G&&!se)return u!=="tick"?"horizontal":"vertical";if(!G&&se)return u!=="tick"?"vertical":"horizontal";if(G&&se){let Ve=g,Xe=E,qt=Ve.type===pf,on=Xe.type===pf;return qt&&!on?u!=="tick"?"vertical":"horizontal":!qt&&on?u!=="tick"?"horizontal":"vertical":!Ve.aggregate&&Xe.aggregate?u!=="tick"?"vertical":"horizontal":Ve.aggregate&&!Xe.aggregate&&u!=="tick"?"horizontal":"vertical"}else return}}return"vertical"}let IBe={vgMark:"arc",encodeEntry:u=>({...Zd(u,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...$c("x",u,{defaultPos:"mid"}),...$c("y",u,{defaultPos:"mid"}),...c2(u,"radius"),...c2(u,"theta")})},MBe={vgMark:"area",encodeEntry:u=>({...Zd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...Qb("x",u,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:u.markDef.orient==="horizontal"}),...Qb("y",u,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:u.markDef.orient==="vertical"}),...cA(u)})},PBe={vgMark:"rect",encodeEntry:u=>({...Zd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...c2(u,"x"),...c2(u,"y")})},BBe={vgMark:"shape",encodeEntry:u=>({...Zd(u,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:u=>{let{encoding:c}=u,d=c.shape;return[{type:"geoshape",projection:u.projectionName(),...d&&br(d)&&d.type===Nu?{field:fi(d,{expr:"datum"})}:{}}]}},jBe={vgMark:"image",encodeEntry:u=>({...Zd(u,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...c2(u,"x"),...c2(u,"y"),...Wb(u,"url")})},qBe={vgMark:"line",encodeEntry:u=>({...Zd(u,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...$c("x",u,{defaultPos:"mid"}),...$c("y",u,{defaultPos:"mid"}),...pc("size",u,{vgChannel:"strokeWidth"}),...cA(u)})},UBe={vgMark:"trail",encodeEntry:u=>({...Zd(u,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...$c("x",u,{defaultPos:"mid"}),...$c("y",u,{defaultPos:"mid"}),...pc("size",u),...cA(u)})};function JG(u,c){let{config:d}=u;return{...Zd(u,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...$c("x",u,{defaultPos:"mid"}),...$c("y",u,{defaultPos:"mid"}),...pc("size",u),...pc("angle",u),...$Be(u,d,c)}}function $Be(u,c,d){return d?{shape:{value:d}}:pc("shape",u)}let zBe={vgMark:"symbol",encodeEntry:u=>JG(u)},HBe={vgMark:"symbol",encodeEntry:u=>JG(u,"circle")},VBe={vgMark:"symbol",encodeEntry:u=>JG(u,"square")},WBe={vgMark:"rect",encodeEntry:u=>({...Zd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...c2(u,"x"),...c2(u,"y")})},QBe={vgMark:"rule",encodeEntry:u=>{let{markDef:c}=u,d=c.orient;return!u.encoding.x&&!u.encoding.y&&!u.encoding.latitude&&!u.encoding.longitude?{}:{...Zd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Qb("x",u,{defaultPos:d==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:d!=="vertical"}),...Qb("y",u,{defaultPos:d==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:d!=="horizontal"}),...pc("size",u,{vgChannel:"strokeWidth"})}}},GBe={vgMark:"text",encodeEntry:u=>{let{config:c,encoding:d}=u;return{...Zd(u,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...$c("x",u,{defaultPos:"mid"}),...$c("y",u,{defaultPos:"mid"}),...Wb(u),...pc("size",u,{vgChannel:"fontSize"}),...pc("angle",u),...GL("align",YBe(u.markDef,d,c)),...GL("baseline",KBe(u.markDef,d,c)),...$c("radius",u,{defaultPos:null}),...$c("theta",u,{defaultPos:null})}}};function YBe(u,c,d){if(vi("align",u,d)===void 0)return"center"}function KBe(u,c,d){if(vi("baseline",u,d)===void 0)return"middle"}let JBe={vgMark:"rect",encodeEntry:u=>{let{config:c,markDef:d}=u,g=d.orient,E=g==="horizontal"?"width":"height",D=g==="horizontal"?"height":"width";return{...Zd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...$c("x",u,{defaultPos:"mid",vgChannel:"xc"}),...$c("y",u,{defaultPos:"mid",vgChannel:"yc"}),...pc("size",u,{defaultValue:XBe(u),vgChannel:E}),[D]:qr(vi("thickness",d,c))}}};function XBe(u){let{config:c,markDef:d}=u,{orient:g}=d,E=g==="horizontal"?"width":"height",D=u.getScaleComponent(g==="horizontal"?"x":"y"),M=vi("size",d,c,{vgChannel:E})??c.tick.bandSize;if(M!==void 0)return M;{let G=D?D.get("range"):void 0;return G&&Er(G)&&e.isNumber(G.step)?G.step*3/4:qb(c.view,E)*3/4}}let Sk={arc:IBe,area:MBe,bar:PBe,circle:HBe,geoshape:BBe,image:jBe,line:qBe,point:zBe,rect:WBe,rule:QBe,square:VBe,text:GBe,tick:JBe,trail:UBe};function ZBe(u){if(wt([Vd,J1,X1],u.mark)){let c=GN(u.mark,u.encoding);if(c.length>0)return eje(u,c)}else if(u.mark===Tl){let c=di.some(d=>vi(d,u.markDef,u.config));if(u.stack&&!u.fieldDef("size")&&c)return tje(u)}return XG(u)}let Kfe="faceted_path_";function eje(u,c){return[{name:u.getName("pathgroup"),type:"group",from:{facet:{name:Kfe+u.requestDataName(ja.Main),data:u.requestDataName(ja.Main),groupby:c}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:XG(u,{fromPrefix:Kfe})}]}let Jfe="stack_group_";function tje(u){var c;let[d]=XG(u,{fromPrefix:Jfe}),g=u.scaleName(u.stack.fieldChannel),E=function(){let Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return u.vgField(u.stack.fieldChannel,Xe)},D=(Xe,qt)=>{let on=[E({prefix:"min",suffix:"start",expr:qt}),E({prefix:"max",suffix:"start",expr:qt}),E({prefix:"min",suffix:"end",expr:qt}),E({prefix:"max",suffix:"end",expr:qt})];return`${Xe}(${on.map(Mn=>`scale('${g}',${Mn})`).join(",")})`},M,G;u.stack.fieldChannel==="x"?(M={...Ce(d.encode.update,["y","yc","y2","height",...di]),x:{signal:D("min","datum")},x2:{signal:D("max","datum")},clip:{value:!0}},G={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},d.encode.update={...pe(d.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(M={...Ce(d.encode.update,["x","xc","x2","width"]),y:{signal:D("min","datum")},y2:{signal:D("max","datum")},clip:{value:!0}},G={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},d.encode.update={...pe(d.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(let Xe of di){let qt=Bs(Xe,u.markDef,u.config);d.encode.update[Xe]?(M[Xe]=d.encode.update[Xe],delete d.encode.update[Xe]):qt&&(M[Xe]=qr(qt)),qt&&(d.encode.update[Xe]={value:0})}let se=[];if(((c=u.stack.groupbyChannels)===null||c===void 0?void 0:c.length)>0)for(let Xe of u.stack.groupbyChannels){let qt=u.fieldDef(Xe),on=fi(qt);on&&se.push(on),(qt!=null&&qt.bin||qt!=null&&qt.timeUnit)&&se.push(fi(qt,{binSuffix:"end"}))}return M=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((Xe,qt)=>{if(d.encode.update[qt])return{...Xe,[qt]:d.encode.update[qt]};{let on=Bs(qt,u.markDef,u.config);return on!==void 0?{...Xe,[qt]:qr(on)}:Xe}},M),M.stroke&&(M.strokeForeground={value:!0},M.strokeOffset={value:0}),[{type:"group",from:{facet:{data:u.requestDataName(ja.Main),name:Jfe+u.requestDataName(ja.Main),groupby:se,aggregate:{fields:[E({suffix:"start"}),E({suffix:"start"}),E({suffix:"end"}),E({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:M},marks:[{type:"group",encode:{update:G},marks:[d]}]}]}function nje(u){let{encoding:c,stack:d,mark:g,markDef:E,config:D}=u,M=c.order;if(!(!e.isArray(M)&&Kd(M)&&Ht(M.value)||!M&&Ht(vi("order",E,D)))){if((e.isArray(M)||br(M))&&!d)return No(M,{expr:"datum"});if(mf(g)){let se=E.orient==="horizontal"?"y":"x",Ve=c[se];if(br(Ve)){let Xe=Ve.sort;if(e.isArray(Xe))return{field:fi(Ve,{prefix:se,suffix:"sort_index",expr:"datum"})};if(ba(Xe))return{field:fi({aggregate:Lb(u.encoding)?Xe.op:void 0,field:Xe.field},{expr:"datum"})};if(v0(Xe)){let qt=u.fieldDef(Xe.encoding);return{field:fi(qt,{expr:"datum"}),order:Xe.order}}else{if(Xe===null)return;var G;return{field:fi(Ve,{binSuffix:(G=u.stack)!==null&&G!==void 0&&G.impute?"mid":void 0,expr:"datum"})}}}return}}}function XG(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fromPrefix:""},{mark:d,markDef:g,encoding:E,config:D}=u,M=Ne(g.clip,rje(u),ije(u)),G=xs(g),se=E.key,Ve=nje(u),Xe=sje(u),qt=vi("aria",g,D),on=Sk[d].postEncodingTransform?Sk[d].postEncodingTransform(u):null;return[{name:u.getName("marks"),type:Sk[d].vgMark,...M?{clip:!0}:{},...G?{style:G}:{},...se?{key:se.field}:{},...Ve?{sort:Ve}:{},...Xe||{},...qt===!1?{aria:qt}:{},from:{data:c.fromPrefix+u.requestDataName(ja.Main)},encode:{update:Sk[d].encodeEntry(u)},...on?{transform:on}:{}}]}function rje(u){let c=u.getScaleComponent("x"),d=u.getScaleComponent("y");return c!=null&&c.get("selectionExtent")||d!=null&&d.get("selectionExtent")?!0:void 0}function ije(u){let c=u.component.projection;return c&&!c.isFit?!0:void 0}function sje(u){if(!u.component.selection)return null;let c=re(u.component.selection).length,d=c,g=u.parent;for(;g&&d===0;)d=re(g.component.selection).length,g=g.parent;return d?{interactive:c>0||!!u.encoding.tooltip}:null}class Xfe extends Hfe{constructor(c,d,g){let E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},D=arguments.length>4?arguments[4]:void 0;super(c,"unit",d,g,D,void 0,lL(c)?c.view:void 0);En(this,"markDef",void 0),En(this,"encoding",void 0),En(this,"specifiedScales",{}),En(this,"stack",void 0),En(this,"specifiedAxes",{}),En(this,"specifiedLegends",{}),En(this,"specifiedProjection",{}),En(this,"selection",[]),En(this,"children",[]);let M=fc(c.mark)?{...c.mark}:{type:c.mark},G=M.type;M.filled===void 0&&(M.filled=LBe(M,D,{graticule:c.data&&iA(c.data)}));let se=this.encoding=WW(c.encoding||{},G,M.filled,D);this.markDef=RBe(M,se,D),this.size=DBe({encoding:se,size:lL(c)?{...E,...c.width?{width:c.width}:{},...c.height?{height:c.height}:{}}:E}),this.stack=EL(G,se),this.specifiedScales=this.initScales(G,se),this.specifiedAxes=this.initAxes(se),this.specifiedLegends=this.initLegends(se),this.specifiedProjection=c.projection,this.selection=(c.params??[]).filter(Ve=>H9(Ve))}get hasProjection(){let{encoding:c}=this,d=this.mark===Z1,g=c&&At.some(E=>ks(c[E]));return d||g}scaleDomain(c){let d=this.specifiedScales[c];return d?d.domain:void 0}axis(c){return this.specifiedAxes[c]}legend(c){return this.specifiedLegends[c]}initScales(c,d){return vs.reduce((g,E)=>{let D=yu(d[E]);return D&&(g[E]=this.initScale(D.scale??{})),g},{})}initScale(c){let{domain:d,range:g}=c,E=pn(c);return e.isArray(d)&&(E.domain=d.map(pi)),e.isArray(g)&&(E.range=g.map(pi)),E}initAxes(c){return io.reduce((d,g)=>{let E=c[g];if(ks(E)||g===Nn&&ks(c.x2)||g===rr&&ks(c.y2)){let D=ks(E)?E.axis:void 0;d[g]=D&&this.initAxis({...D})}return d},{})}initAxis(c){let d=re(c),g={};for(let E of d){let D=c[E];g[E]=n_(D)?ni(D):pi(D)}return g}initLegends(c){return ga.reduce((d,g)=>{let E=yu(c[g]);if(E&&Oi(g)){let D=E.legend;d[g]=D&&pn(D)}return d},{})}parseData(){this.component.data=bk(this)}parseLayoutSize(){dBe(this)}parseSelections(){this.component.selection=mA(this,this.selection)}parseMarkGroup(){this.component.mark=ZBe(this)}parseAxesAndHeaders(){this.component.axes=EBe(this)}assembleSelectionTopLevelSignals(c){return JQ(this,c)}assembleSignals(){return[...sk(this),...YQ(this,[])]}assembleSelectionData(c){return XQ(this,c)}assembleLayout(){return null}assembleLayoutSignals(){return dd(this)}assembleMarks(){let c=this.component.mark??[];return(!this.parent||!r8(this.parent))&&(c=ML(this,c)),c.map(this.correctDataNames)}assembleGroupStyle(){let{style:c}=this.view||{};if(c!==void 0)return c;if(this.encoding.x||this.encoding.y)return"cell"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(c){return cg(this.encoding,c)}fieldDef(c){let d=this.encoding[c];return jh(d)}typedFieldDef(c){let d=this.fieldDef(c);return Yd(d)?d:null}}class ZG extends QG{constructor(c,d,g,E,D){super(c,"layer",d,g,D,c.resolve,c.view);En(this,"children",void 0);let M={...E,...c.width?{width:c.width}:{},...c.height?{height:c.height}:{}};this.children=c.layer.map((G,se)=>{if(a_(G))return new ZG(G,this,this.getName(`layer_${se}`),M,D);if(Ap(G))return new Xfe(G,this,this.getName(`layer_${se}`),M,D);throw new Error(le(G))})}parseData(){this.component.data=bk(this);for(let c of this.children)c.parseData()}parseLayoutSize(){cBe(this)}parseSelections(){this.component.selection={};for(let c of this.children){c.parseSelections();for(let d of re(c.component.selection))this.component.selection[d]=c.component.selection[d]}}parseMarkGroup(){for(let c of this.children)c.parseMarkGroup()}parseAxesAndHeaders(){SBe(this)}assembleSelectionTopLevelSignals(c){return this.children.reduce((d,g)=>g.assembleSelectionTopLevelSignals(d),c)}assembleSignals(){return this.children.reduce((c,d)=>c.concat(d.assembleSignals()),sk(this))}assembleLayoutSignals(){return this.children.reduce((c,d)=>c.concat(d.assembleLayoutSignals()),dd(this))}assembleSelectionData(c){return this.children.reduce((d,g)=>g.assembleSelectionData(d),c)}assembleGroupStyle(){let c=new Set;for(let g of this.children)for(let E of e.array(g.assembleGroupStyle()))c.add(E);let d=Array.from(c);return d.length>1?d:d.length===1?d[0]:void 0}assembleTitle(){let c=super.assembleTitle();if(c)return c;for(let d of this.children)if(c=d.assembleTitle(),c)return c}assembleLayout(){return null}assembleMarks(){return sA(this,this.children.flatMap(c=>c.assembleMarks()))}assembleLegends(){return this.children.reduce((c,d)=>c.concat(d.assembleLegends()),yfe(this))}}function eY(u,c,d,g,E){if(Cp(u))return new wA(u,c,d,E);if(a_(u))return new ZG(u,c,d,g,E);if(Ap(u))return new Xfe(u,c,d,g,E);if(pQ(u))return new gBe(u,c,d,E);throw new Error(le(u))}function oje(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c.logger&&Of(c.logger),c.fieldTitle&&BN(c.fieldTitle);try{let d=o_(e.mergeConfig(c.config,u.config)),g=l_(u,d),E=eY(g,null,"",void 0,d);return E.parse(),wPe(E.component.data,E),{spec:uje(E,aje(u,g.autosize,d,E),u.datasets,u.usermeta),normalized:g}}finally{c.logger&&jc(),c.fieldTitle&&$W()}}function aje(u,c,d,g){let E=g.component.layoutSize.get("width"),D=g.component.layoutSize.get("height");if(c===void 0?(c={type:"pad"},g.hasAxisOrientSignalRef()&&(c.resize=!0)):e.isString(c)&&(c={type:c}),E&&D&&GQ(c.type)){if(E==="step"&&D==="step")jr(ir()),c.type="pad";else if(E==="step"||D==="step"){let M=E==="step"?"width":"height";jr(ir(hi(M)));let G=M==="width"?"height":"width";c.type=RL(G)}}return{...re(c).length===1&&c.type?c.type==="pad"?{}:{autosize:c.type}:{autosize:c},...eo(d,!1),...eo(u,!0)}}function uje(u,c){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments.length>3?arguments[3]:void 0,E=u.config?G9(u.config):void 0,D=[].concat(u.assembleSelectionData([]),oBe(u.component.data,d)),M=u.assembleProjections(),G=u.assembleTitle(),se=u.assembleGroupStyle(),Ve=u.assembleGroupEncodeEntry(!0),Xe=u.assembleLayoutSignals();Xe=Xe.filter(Mn=>(Mn.name==="width"||Mn.name==="height")&&Mn.value!==void 0?(c[Mn.name]=+Mn.value,!1):!0);let{params:qt,...on}=c;return{$schema:"https://vega.github.io/schema/vega/v5.json",...u.description?{description:u.description}:{},...on,...G?{title:G}:{},...se?{style:se}:{},...Ve?{encode:{update:Ve}}:{},data:D,...M.length>0?{projections:M}:{},...u.assembleGroup([...Xe,...u.assembleSelectionTopLevelSignals([]),...aL(qt)]),...E?{config:E}:{},...g?{usermeta:g}:{}}}let lje=he.version;n.accessPathDepth=On,n.accessPathWithDatum=gn,n.compile=oje,n.contains=wt,n.deepEqual=et,n.deleteNestedProperty=Gt,n.duplicate=Ee,n.entries=nt,n.every=kt,n.fieldIntersection=tt,n.flatAccessWithDatum=yn,n.getFirstDefined=Ne,n.hasIntersection=_e,n.hash=lt,n.internalField=mt,n.isBoolean=ft,n.isEmpty=Ke,n.isEqual=ve,n.isInternalField=xt,n.isNullOrFalse=Ht,n.isNumeric=Qt,n.keys=re,n.logicalExpr=Yt,n.mergeDeep=Bt,n.never=ke,n.normalize=l_,n.normalizeAngle=rn,n.omit=pe,n.pick=Ce,n.prefixGenerator=ce,n.removePathFromField=nr,n.replaceAll=Pn,n.replacePathInField=un,n.resetIdCounter=Pt,n.setEqual=Le,n.some=mn,n.stringify=Je,n.titleCase=fn,n.unique=Et,n.uniqueId=De,n.vals=Re,n.varName=Rt,n.version=lje,Object.defineProperty(n,"__esModule",{value:!0})})});var y9=Ae(eg=>{"use strict";m();var I3t=eg&&eg.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),M3t=eg&&eg.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),ORe=eg&&eg.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&I3t(e,n,t);return M3t(e,n),e};Object.defineProperty(eg,"__esModule",{value:!0});eg.HTMLChartRenderer=void 0;var P3t=ORe(RRe()),NRe=ORe(kle()),LRe=class{constructor(e,t,r={}){this.document=e,this.styleDefaults=t,this.size=r.size||this.styleDefaults.size||"medium"}mapData(e){let t=[];for(let r of e){let i={};for(let s of e.field.intrinsicFields)i[s.name]=this.getDataValue(r.cell(s));t.push(i)}return t}getSize(){return this.size==="large"?{height:350,width:500}:{height:175,width:250}}async render(e){if(!e.isArray())throw new Error("Invalid type for chart renderer");let t=this.getVegaLiteSpec(e),r=P3t.compile(t,{logger:{level(o){return o!==void 0?this:0},info(){return this},error(){return this},warn(){return this},debug(){return this}}}).spec,i=new NRe.View(NRe.parse(r),{renderer:"none"});i.logger().level(-1);let s=this.document.createElement("div");return s.innerHTML=await i.toSVG(),s}};eg.HTMLChartRenderer=LRe});var W0=Ae(wh=>{"use strict";m();Object.defineProperty(wh,"__esModule",{value:!0});wh.createDrillIcon=wh.createNullElement=wh.createErrorElement=wh.yieldTask=wh.timeToString=wh.getColorScale=void 0;var hp=up();function B3t(n,e,t=!1){if(n!==void 0)switch(n){case"ordinal":return{range:["#C2D5EE","#1A73E8"]};case"temporal":case"quantitative":return e?t?{range:["#6BA4EE","#EEA361"]}:{range:["#1A73E8","#E8710A"]}:{range:["#C2D5EE","#1A73E8"]};case"nominal":return t?{range:["#6BA4EE","#66CEDC","#EC72B8","#EEA361","#F9C85B","#AACD85","#B87CED","#ACB0B3"]}:{range:["#1A73E8","#12B5CB","#E52592","#E8710A","#F9AB00","#7CB342","#9334E6","#80868B"]}}}wh.getColorScale=B3t;function Fu(n,e){return n.toString().padStart(e,"0")}function j3t(n,e){switch(e){case hp.TimestampTimeframe.Year:case hp.DateTimeframe.Year:return`${Fu(n.getUTCFullYear(),4)}`;case hp.TimestampTimeframe.Quarter:case hp.DateTimeframe.Quarter:{let t=Fu(n.getUTCFullYear(),4),r=Math.floor(n.getUTCMonth()/3)+1;return`${t}-Q${r}`}case hp.TimestampTimeframe.Month:case hp.DateTimeframe.Month:{let t=Fu(n.getUTCFullYear(),2),r=Fu(n.getUTCMonth()+1,2);return`${t}-${r}`}case hp.TimestampTimeframe.Week:case hp.DateTimeframe.Week:{let t=Fu(n.getUTCFullYear(),2),r=Fu(n.getUTCMonth()+1,2),i=Fu(n.getUTCDate(),2);return`WK${t}-${r}-${i}`}case hp.DateTimeframe.Day:case hp.TimestampTimeframe.Day:{let t=Fu(n.getUTCFullYear(),2),r=Fu(n.getUTCMonth()+1,2),i=Fu(n.getUTCDate(),2);return`${t}-${r}-${i}`}case hp.TimestampTimeframe.Hour:{let t=Fu(n.getUTCFullYear(),2),r=Fu(n.getUTCMonth()+1,2),i=Fu(n.getUTCDate(),2),s=Fu(n.getUTCHours(),2);return`${t}-${r}-${i} ${s}:00 for 1 hour`}case hp.TimestampTimeframe.Minute:{let t=Fu(n.getUTCFullYear(),2),r=Fu(n.getUTCMonth()+1,2),i=Fu(n.getUTCDate(),2),s=Fu(n.getUTCHours(),2),o=Fu(n.getUTCMinutes(),2);return`${t}-${r}-${i} ${s}:${o}`}case hp.TimestampTimeframe.Second:{let t=Fu(n.getUTCFullYear(),2),r=Fu(n.getUTCMonth()+1,2),i=Fu(n.getUTCDate(),2),s=Fu(n.getUTCHours(),2),o=Fu(n.getUTCMinutes(),2),a=Fu(n.getUTCSeconds(),2);return`${t}-${r}-${i} ${s}:${o}:${a}`}default:throw new Error("Unknown timeframe.")}}wh.timeToString=j3t;async function q3t(){return new Promise(n=>{setTimeout(n,0)})}wh.yieldTask=q3t;function U3t(n,e){let t=n.createElement("span");return t.classList.add("error"),t.appendChild(n.createTextNode(typeof e=="string"?e:e.message)),t}wh.createErrorElement=U3t;function $3t(n){let e=n.createElement("span");return e.appendChild(n.createTextNode("\u2205")),e.classList.add("value-null"),e}wh.createNullElement=$3t;function z3t(n){let e=n.createElement("div");e.style.borderRadius="20px",e.style.backgroundColor="var(--malloy-border-color, #efefef)",e.style.width="27px",e.style.height="14px",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.gap="2px";for(let t=0;t<3;t++){let r=n.createElement("div");r.style.backgroundColor="var(--malloy-title-color, rgb(181 181 181))",r.style.borderRadius="5px",r.style.width="4px",r.style.height="4px",e.appendChild(r)}return e}wh.createDrillIcon=z3t});var $le=Ae(nf=>{"use strict";m();Object.defineProperty(nf,"__esModule",{value:!0});nf.HTMLVegaSpecRenderer=nf.isDataContainer=nf.vegaSpecs=nf.DEFAULT_SPEC=void 0;var H3t=y9(),V3t=sD(),Zm=W0();nf.DEFAULT_SPEC={$schema:"https://vega.github.io/schema/vega-lite/v5.json",config:{params:[{name:"defaultFont",value:"var(--malloy-font-family, 'Roboto')"},{name:"titleColor",value:"var(--malloy-title-color, #505050)"},{name:"labelColor",value:"var(--malloy-label-color, #505050)"}],background:void 0,color:{expr:"titleColor"},header:{labelFont:{expr:"defaultFont"},titleFont:{expr:"defaultFont"},titleFontWeight:500},text:{font:{expr:"defaultFont"},color:{expr:"labelColor"}},mark:{font:{expr:"defaultFont"},color:{expr:"labelColor"}},title:{font:{expr:"defaultFont"},subtitleFont:{expr:"defaultFont"},fontWeight:500},axis:{labelColor:{expr:"labelColor"},labelFont:{expr:"defaultFont"},titleFont:{expr:"defaultFont"},titleFontWeight:500,titleColor:{expr:"titleColor"},titleFontSize:12},legend:{titleFontWeight:500,titleColor:{expr:"titleColor"},titleFontSize:12,labelColor:{expr:"labelColor"},labelFont:{expr:"defaultFont"},titleFont:{expr:"defaultFont"}}}};var Ile={height:80,width:150},kRe={width:150},W3t={height:{step:13}},Mle={...kRe,...W3t},Ple={...kRe},Ble={height:150,width:200},IRe={},e2={...nf.DEFAULT_SPEC,encoding:{y:{field:"#{1}",type:"nominal",axis:null,sort:null}},layer:[{mark:{type:"bar",color:"#aec7e8"},encoding:{x:{field:"#{2}",type:"quantitative",sort:null},color:{value:"#4285F4"}}},{mark:{type:"text",align:"left",x:5},encoding:{text:{field:"#{1}"}}}]},bN={...nf.DEFAULT_SPEC,mark:"bar",data:[],encoding:{x:{field:"#{1}",type:"nominal",sort:null},y:{field:"#{2}",type:"quantitative",sort:null},color:{value:"#4285F4"}}},Q3t={...bN,encoding:{...bN.encoding,color:{field:"#{3}",type:"quantitative",scale:(0,Zm.getColorScale)("quantitative",!0,!0)}}},G3t={...bN,encoding:{...bN.encoding,color:{field:"#{3}",scale:(0,Zm.getColorScale)("nominal",!0,!0)}}},jle={...e2,layer:[{...e2.layer[0],encoding:{...e2.layer[0].encoding,color:{field:"#{3}",scale:(0,Zm.getColorScale)("nominal",!0,!0)}}},e2.layer[1]]},qle={...e2,layer:[{...e2.layer[0],encoding:{...e2.layer[0].encoding,color:{field:"#{3}",type:"quantitative",scale:(0,Zm.getColorScale)("quantitative",!0,!0)}}},e2.layer[1]]},z4={...nf.DEFAULT_SPEC,mark:"bar",data:[],encoding:{x:{field:"#{1}",type:"nominal",sort:null},y:{field:"#{2}",type:"quantitative",sort:null},color:{value:"#4285F4"}}},MV={...z4,encoding:{...z4.encoding,color:{field:"#{3}",type:"nominal",scale:(0,Zm.getColorScale)("nominal",!0)}}},PV={...z4,encoding:{...z4.encoding,color:{field:"#{3}",type:"quantitative",scale:(0,Zm.getColorScale)("quantitative",!0)}}};nf.vegaSpecs={bar_SM:e2,bar_SM_small:{...e2,...Mle},bar_SM_medium:{...e2,...Ple},bar_SM_large:bN,bar_SMS:jle,bar_SMS_small:{...jle,...Mle},bar_SMS_medium:{...jle,...Ple},bar_SMS_large:G3t,bar_SMM:qle,bar_SMM_small:{...qle,...Mle},bar_SMM_medium:{...qle,...Ple},bar_SMM_large:Q3t,bar_NM:z4,bar_NM_small:{...z4,...Ile},bar_NM_medium:{...z4,...Ble},bar_NM_large:{...z4},bar_NMS:MV,bar_NMS_small:{...MV,...Ile},bar_NMS_medium:{...MV,...Ble},bar_NMS_large:{...MV,...IRe},bar_NMM:PV,bar_NMM_small:{...PV,...Ile},bar_NMM_medium:{...PV,...Ble},bar_NMM_large:{...PV,...IRe},bar_SSMMM:{...nf.DEFAULT_SPEC,repeat:["#{3}","#{4}","#{5}"],spec:{description:"A simple bar chart with embedded data.",encoding:{y:{field:"#{1}",type:"nominal",axis:null,sort:null}},layer:[{mark:{type:"bar"},encoding:{x:{field:{repeat:"repeat"},type:"quantitative",sort:null},color:{field:"#{2}",scale:(0,Zm.getColorScale)("nominal",!0,!0)}}},{mark:{type:"text",align:"left",x:5},encoding:{text:{field:"#{1}"},detail:{aggregate:"count"}}}]}},bubble_NNM:{...nf.DEFAULT_SPEC,data:[],mark:"circle",width:400,encoding:{y:{field:"#{1}",type:"ordinal",sort:null},x:{field:"#{2}",type:"ordinal",sort:null},size:{field:"#{3}",type:"quantitative"},color:{value:"#4285F4"}}},heat_NNM:{...nf.DEFAULT_SPEC,data:[],mark:"bar",width:400,encoding:{y:{field:"#{1}",type:"ordinal",sort:null},x:{field:"#{2}",type:"ordinal",sort:null},color:{field:"#{3}",type:"quantitative",scale:(0,Zm.getColorScale)("quantitative",!1)}}},heat_SNM:{...nf.DEFAULT_SPEC,data:[],mark:"bar",width:400,encoding:{y:{field:"#{1}",type:"nominal",sort:null},x:{field:"#{2}",type:"ordinal",sort:null},color:{field:"#{3}",type:"quantitative",scale:(0,Zm.getColorScale)("quantitative",!1)}}},stacked_line_STM:{...nf.DEFAULT_SPEC,height:50,data:[],mark:"area",encoding:{x:{field:"#{2}",type:"temporal",axis:{grid:!1},sort:null},y:{field:"#{3}",type:"quantitative",axis:{grid:!1},title:null,sort:null},color:{field:"#{1}",type:"nominal",legend:null,scale:(0,Zm.getColorScale)("nominal",!1)},row:{field:"#{1}",type:"nominal"}}},grid_line_SSTM:{...nf.DEFAULT_SPEC,height:50,data:[],mark:"area",encoding:{x:{field:"#{3}",type:"temporal",axis:{grid:!1},sort:null},y:{field:"#{4}",type:"quantitative",axis:{grid:!1},title:null,sort:null},color:{field:"#{1}",type:"nominal",legend:null,scale:(0,Zm.getColorScale)("nominal",!1)},row:{field:"#{1}",type:"nominal"},column:{field:"#{2}",type:"nominal"}}}};function Ule(n){return Array.isArray(n)||n!==null&&typeof n=="object"}nf.isDataContainer=Ule;var MRe=class extends H3t.HTMLChartRenderer{constructor(e,t,r){super(e,t);this.spec=r}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for vega chart.")}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp()||e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for vega chart.")}translateField(e,t){let r=t.match(/#\{(?<fieldnum>\d+)\}/);return r&&r.groups?e.intrinsicFields[parseInt(r.groups.fieldnum)-1].name:t}translateFields(e,t){if(Array.isArray(e))for(let r of e)Ule(r)&&this.translateFields(r,t);else if(e&&typeof e=="object")for(let[r,i]of Object.entries(e))if(r==="field"&&typeof i=="string")e[r]=this.translateField(t,i);else if(r==="repeat"&&Array.isArray(i))for(let s of i.keys()){let o=i[s];typeof o=="string"&&(i[s]=this.translateField(t,o))}else Ule(i)&&this.translateFields(i,t)}getVegaLiteSpec(e){if(e.isNull()||!e.isArray())throw new Error("Expected struct value not to be null.");let t=(0,V3t.cloneDeep)(this.spec);this.translateFields(t,e.field);let r={values:this.mapData(e)};return t.data=r,t}};nf.HTMLVegaSpecRenderer=MRe});var jV=Ae(BV=>{"use strict";m();Object.defineProperty(BV,"__esModule",{value:!0});BV.HTMLCartesianChartRenderer=void 0;var Y3t=y9(),K3t=W0(),J3t=$le(),PRe=class extends Y3t.HTMLChartRenderer{getVegaLiteSpec(e){let t=e.field.intrinsicFields,r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=this.getDataType(r),f=this.getDataType(i),p=s?this.getDataType(s):void 0,_=o?this.getDataType(o):void 0,b=a?this.getDataType(a):void 0,R=this.getMark(),O=s!==void 0?{field:s.name,type:p,axis:{title:s.name},scale:(0,K3t.getColorScale)(p,R==="bar")}:{value:"#4285F4"},j=o?{field:o.name,type:_,axis:{title:o.name}}:void 0,$=a?{field:a.name,type:b,axis:{title:a.name}}:void 0,L=l==="nominal"?null:void 0,q=f==="nominal"?null:void 0,P={field:r.name,type:l,sort:L,axis:{title:r.name}},W={field:i.name,type:f,sort:q,axis:{title:i.name}};return{...J3t.DEFAULT_SPEC,...this.getSize(),data:{values:this.mapData(e)},mark:R,encoding:{x:P,y:W,size:j,color:O,shape:$},background:"transparent"}}};BV.HTMLCartesianChartRenderer=PRe});var jRe=Ae(qV=>{"use strict";m();Object.defineProperty(qV,"__esModule",{value:!0});qV.HTMLBarChartRenderer=void 0;var X3t=jV(),BRe=class extends X3t.HTMLCartesianChartRenderer{getMark(){return"bar"}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp()||e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for bar chart.")}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for bar chart.")}};qV.HTMLBarChartRenderer=BRe});var gb=Ae(UV=>{"use strict";m();Object.defineProperty(UV,"__esModule",{value:!0});UV.HTMLTextRenderer=void 0;var Z3t=W0(),qRe=class{constructor(e){this.document=e}getText(e){return`${e.value}`}async render(e){let t=this.getText(e);if(t===null)return(0,Z3t.createNullElement)(this.document);let r=this.document.createElement("span");return r.appendChild(this.document.createTextNode(t)),r}};UV.HTMLTextRenderer=qRe});var $Re=Ae($V=>{"use strict";m();Object.defineProperty($V,"__esModule",{value:!0});$V.HTMLBooleanRenderer=void 0;var e5t=gb(),URe=class extends e5t.HTMLTextRenderer{getText(e){return e.isNull()?null:`${e.boolean.value}`}};$V.HTMLBooleanRenderer=URe});var HRe=Ae(zV=>{"use strict";m();Object.defineProperty(zV,"__esModule",{value:!0});zV.HTMLJSONRenderer=void 0;var t5t=W0(),zRe=class{constructor(e){this.document=e}async render(e){!e.isArray()&&!e.isRecord()&&(0,t5t.createErrorElement)(this.document,"Invalid data for chart renderer.");let t=this.document.createElement("pre");return t.appendChild(this.document.createTextNode(JSON.stringify(e.value,void 0,2))),t}};zV.HTMLJSONRenderer=zRe});var WRe=Ae(HV=>{"use strict";m();Object.defineProperty(HV,"__esModule",{value:!0});HV.HTMLBytesRenderer=void 0;var n5t=gb(),VRe=class extends n5t.HTMLTextRenderer{getText(e){return e.isNull()?null:e.bytes.value.toString("base64")}};HV.HTMLBytesRenderer=VRe});var GRe=Ae(VV=>{"use strict";m();Object.defineProperty(VV,"__esModule",{value:!0});VV.HTMLCurrencyRenderer=void 0;var r5t=gb(),QRe=class extends r5t.HTMLTextRenderer{getText(e){if(e.isNull())return null;let t="$",r=e.number.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return`${t}${r}`}};VV.HTMLCurrencyRenderer=QRe});var QV=Ae(WV=>{"use strict";m();Object.defineProperty(WV,"__esModule",{value:!0});WV.HTMLNumberRenderer=void 0;var i5t=gb(),YRe=class extends i5t.HTMLTextRenderer{getNumber(e){return e.isNull()?null:e.number.value}getText(e){let t=this.getNumber(e);return t===null?t:t.toLocaleString()}};WV.HTMLNumberRenderer=YRe});var JRe=Ae(GV=>{"use strict";m();Object.defineProperty(GV,"__esModule",{value:!0});GV.HTMLPercentRenderer=void 0;var s5t=QV(),KRe=class extends s5t.HTMLNumberRenderer{getText(e){let t=this.getNumber(e);return t===null?t:(t*100).toLocaleString("en",{maximumFractionDigits:2})+"%"}};GV.HTMLPercentRenderer=KRe});var Hle=Ae(v9=>{"use strict";m();Object.defineProperty(v9,"__esModule",{value:!0});v9.getDrillQuery=v9.getDrillFilters=void 0;var zle=up(),o5t=W0();function a5t(n){return`'${n.replace("'","\\'")}'`}function u5t(n,e,t){let r=t===zle.TimestampTimeframe.Minute?zle.TimestampTimeframe.Second:t||zle.TimestampTimeframe.Second,i="@"+(0,o5t.timeToString)(e,r);return{key:n,value:i}}function l5t(n){let e=[];for(let t of n.field.filters||[])t.aggregate||e.push({key:t.code,value:void 0});return e}function c5t(n){let e=[],t=n.field.intrinsicFields.filter(r=>r.isAtomicField()&&r.sourceWasDimension());for(let r of t){let i=n.cell(r),s=r.isAtomicField()||r.isQueryField()?r.expression:void 0;s&&!i.isArray()&&(i.isNull()?e.push({key:s,value:"null"}):i.isString()?e.push({key:s,value:a5t(i.value)}):i.isNumber()||i.isBoolean()?e.push({key:s,value:i.value.toString()}):(i.isTimestamp()||i.isDate())&&e.push(u5t(s,i.value,i.field.timeframe)))}return e}function XRe(n){return n.isRecord()?c5t(n):l5t(n)}function ZRe(n){let e=[],t=n;for(;t.parent;)e.push(...XRe(t)),t=t.parent;e.push(...XRe(t));let r=t.field.parentExplore,i=[];for(let{key:o,value:a}of e)a!==void 0?i.push(`${o}: ${a}`):i.push(o);return{formattedFilters:i.filter((o,a)=>i.find((l,f)=>l===o&&a<f)===void 0),source:r}}v9.getDrillFilters=ZRe;function f5t(n){let{formattedFilters:e,source:t}=ZRe(n),r=`query: ${(t==null?void 0:t.name)||'"unable to compute source"'} `;return e.length&&(r+=`{ 
  where: 
    ${e.join(`,
    `)}
  
}
`),{drillQuery:r+"-> ",drillFilters:e}}v9.getDrillQuery=f5t});var tOe=Ae(YV=>{"use strict";m();Object.defineProperty(YV,"__esModule",{value:!0});YV.RenderTree=void 0;var eOe=class{constructor(e,t){this.document=e,this.options=t}};YV.RenderTree=eOe});var SN=Ae(KV=>{"use strict";m();Object.defineProperty(KV,"__esModule",{value:!0});KV.ContainerRenderer=void 0;var d5t=tOe(),h5t=Vle(),nOe=class extends d5t.RenderTree{constructor(){super(...arguments);this.childRenderers={}}makeChildRenderers(e,t,r){let i={};e.intrinsicFields.forEach(s=>{i[s.name]=(0,h5t.makeRenderer)(s,t,r,this.childrenStyleDefaults)}),this.childRenderers=i}static make(e,t,r,i){let s=new e(t,{isDrillingEnabled:i.isDrillingEnabled,onDrill:i.onDrill});return s.makeChildRenderers(r,t,i),s}};KV.ContainerRenderer=nOe});var oOe=Ae(XV=>{"use strict";m();Object.defineProperty(XV,"__esModule",{value:!0});XV.HTMLDashboardRenderer=void 0;var p5t=Hle(),m5t=SN(),x5t=gb(),Wle=W0(),JV=class extends m5t.ContainerRenderer{constructor(){super(...arguments);this.childrenStyleDefaults={size:"medium"}}async render(e){if(!e.isArrayOrRecord())return(0,Wle.createErrorElement)(this.document,"Invalid data for dashboard renderer.");let t=e.field.intrinsicFields,r=t.filter(o=>o.isAtomicField()&&o.sourceWasDimension()),i=t.filter(o=>!o.isAtomicField()||o.sourceWasMeasureLike()),s=this.document.createElement("div");for(let o of e){let a=this.document.createElement("div");a.classList.add("dimensions"),a.style.display="flex",a.style.flexWrap="wrap";let l=this.document.createElement("div");l.style.position="relative";for(let _ of r){let R=await this.childRenderers[_.name].render(o.cell(_)),O=this.document.createElement("div");O.style.cssText=b5t;let j=this.document.createElement("div");j.style.cssText=S5t,j.appendChild(this.document.createTextNode(_.name));let $=this.document.createElement("div");$.style.cssText=Qle,$.appendChild(R),O.appendChild(j),O.appendChild($),a.appendChild(O)}if(r.length>0){let _=this.document.createElement("div");_.classList.add("row-separator-outer"),_.style.cssText=g5t;let b=this.document.createElement("div");b.style.cssText=_5t,_.appendChild(b),a.appendChild(_)}let f=this.document.createElement("div");f.style.cssText=E5t;for(let _ of i){let b=this.childRenderers[_.name];await(0,Wle.yieldTask)();let R=await b.render(o.cell(_));if(b instanceof JV)f.appendChild(R);else if(b instanceof x5t.HTMLTextRenderer){let O=this.document.createElement("div");O.style.cssText=iOe;let j=this.document.createElement("div");j.style.cssText=sOe,j.appendChild(this.document.createTextNode(_.name));let $=this.document.createElement("div");$.style.cssText=Qle;let L=this.document.createElement("div");L.style.cssText=C5t,L.appendChild(R),$.appendChild(L),O.appendChild(j),O.appendChild($),f.appendChild(O)}else{let O=this.document.createElement("div");O.style.cssText=iOe;let j=this.document.createElement("div");j.style.cssText=sOe,j.appendChild(this.document.createTextNode(_.name));let $=this.document.createElement("div");$.style.cssText=Qle;let L=this.document.createElement("div");L.style.cssText=w5t,L.appendChild(R),$.appendChild(L),O.appendChild(j),O.appendChild($),f.appendChild(O)}}if(l.appendChild(a),r.length>0&&this.options.isDrillingEnabled){let _=this.document.createElement("span"),b=(0,Wle.createDrillIcon)(this.document);_.appendChild(b),_.style.cssText="padding: 8px; vertical-align: top; width: 25px; cursor: pointer; position: absolute; top: 5px; right: 5px;",_.onclick=()=>{if(this.options.onDrill){let{drillQuery:R,drillFilters:O}=(0,p5t.getDrillQuery)(o);this.options.onDrill(R,b,O)}},l.appendChild(_)}let p=this.document.createElement("div");if(p.classList.add("dashboard-outer"),p.style.cssText=y5t,r.length>0){let _=this.document.createElement("div");_.style.cssText=v5t,p.appendChild(_)}p.appendChild(f),l.appendChild(p),s.appendChild(l)}return s}};XV.HTMLDashboardRenderer=JV;var g5t=`
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  flex: 1 0 auto;
`,y5t=`
  display: flex;
  flex-direction: row;
  font-size: 11px;
`,rOe=`
  background-color: var(--malloy-tile-background-color, #f7f7f7);
  border: 1px solid var(--malloy-border-color, #e9e9e9);
`,v5t=`
  ${rOe}
  min-height: 100%;
  min-width: 11px;
  margin: 6px;
  border-radius: 4px;
`,_5t=`
  ${rOe}
  min-height: 11px;
  max-height: 11px;
  margin: 6px;
  flex: 1 0 auto;
  border-radius: 4px;
`,E5t=`
  display: flex;
  flex-wrap: wrap;
`,b5t=`
  background-color: var(--malloy-tile-background-color, #f7f7f7);
  border: 1px solid var(--malloy-border-color, #e9e9e9);
  margin: 6px;
  border-radius: 5px;
  padding: 10px;
  box-shadow: 0 1px 5px 0 var(--malloy-border-color, #f3f3f3);
`,iOe=`
  margin: 6px;
  border-radius: 5px;
  border: 1px solid var(--malloy-border-color, #e9e9e9);
  padding: 10px;
  flex: 1 0 auto;
  box-shadow: 0 1px 5px 0 var(--malloy-tile-background-color, #f3f3f3);
  max-width: calc(100% - 11px);
  display: flex;
  flex-direction: column;
  overflow: hidden;
`,S5t=`
  font-size: 12px;
  font-weight: 500;
  color: var(--malloy-title-color, #505050);
  margin-bottom: 5px;
  font-family: var(--malloy-font-family, "Roboto");
`,sOe=`
  font-size: 11px;
  font-family: var(--malloy-font-family, "Roboto");
  font-weight: 500;
  color: #var(--malloy-title-color, #505050);
`,C5t=`
  font-size: 20px;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 5px;
`,Qle=`
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex: 1 0 auto;
`,w5t=`
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
`});var lOe=Ae(ZV=>{"use strict";m();Object.defineProperty(ZV,"__esModule",{value:!0});ZV.HTMLImageRenderer=void 0;var aOe=W0(),uOe=class{constructor(e){this.document=e}async render(e){if(!e.isString())return(0,aOe.createErrorElement)(this.document,"Invalid field for Image renderer");if(e.isNull())return(0,aOe.createNullElement)(this.document);let t=this.document.createElement("img");return t.src=e.value,t}};ZV.HTMLImageRenderer=uOe});var dOe=Ae(eW=>{"use strict";m();Object.defineProperty(eW,"__esModule",{value:!0});eW.HTMLDateRenderer=void 0;var cOe=up(),Gle=W0(),fOe=class{constructor(e){this.document=e}async render(e){if(e.isNull())return(0,Gle.createNullElement)(this.document);if(!e.isDate()&&!e.isTimestamp())return(0,Gle.createErrorElement)(this.document,"Invalid field for date renderer");let t=e.field.timeframe||(e.isTimestamp()?cOe.TimestampTimeframe.Second:cOe.DateTimeframe.Day),r=(0,Gle.timeToString)(e.value,t),i=this.document.createElement("span");return i.appendChild(this.document.createTextNode(r)),i}};eW.HTMLDateRenderer=fOe});var pOe=Ae(tW=>{"use strict";m();Object.defineProperty(tW,"__esModule",{value:!0});tW.HTMLLineChartRenderer=void 0;var A5t=jV(),hOe=class extends A5t.HTMLCartesianChartRenderer{getMark(){return"line"}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp())return"temporal";if(e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for line chart.")}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for line chart.")}};tW.HTMLLineChartRenderer=hOe});var gOe=Ae(nW=>{"use strict";m();Object.defineProperty(nW,"__esModule",{value:!0});nW.HTMLLinkRenderer=void 0;var mOe=W0(),xOe=class{constructor(e){this.document=e}async render(e){if(e.isNull())return(0,mOe.createNullElement)(this.document);if(!e.isString())return(0,mOe.createErrorElement)(this.document,"Invalid type for link renderer.");let t=document.createElement("a");return t.href=e.value,t.target="_blank",t.appendChild(this.document.createTextNode(e.value.replace(/\//g,"/\u200C"))),t}};nW.HTMLLinkRenderer=xOe});var Yle=Ae(rW=>{"use strict";m();Object.defineProperty(rW,"__esModule",{value:!0});rW.HTMLListRenderer=void 0;var T5t=SN(),yOe=W0(),vOe=class extends T5t.ContainerRenderer{constructor(){super(...arguments);this.childrenStyleDefaults={size:"small"}}getValueField(e){return e.intrinsicFields[0]}getDetailField(e){}async render(e){if(!e.isArray())return(0,yOe.createErrorElement)(this.document,"Invalid data for chart renderer.");if(e.rowCount===0)return this.document.createElement("span");let t=this.getValueField(e.field),r=this.getDetailField(e.field),i=this.document.createElement("span"),s=!0;for(let o of e){s||i.appendChild(this.document.createTextNode(", ")),s=!1;let l=await this.childRenderers[t.name].render(o.cell(t));if(i.appendChild(l),r){let f=this.childRenderers[r.name];await(0,yOe.yieldTask)();let p=await f.render(o.cell(r));i.appendChild(this.document.createTextNode("(")),i.appendChild(p),i.appendChild(this.document.createTextNode(")"))}}return i}};rW.HTMLListRenderer=vOe});var EOe=Ae(iW=>{"use strict";m();Object.defineProperty(iW,"__esModule",{value:!0});iW.HTMLListDetailRenderer=void 0;var F5t=Yle(),_Oe=class extends F5t.HTMLListRenderer{getDetailField(e){return e.intrinsicFields[1]}};iW.HTMLListDetailRenderer=_Oe});var sW=Ae((jQt,D5t)=>{D5t.exports={type:"Topology",bbox:[-179.14733999999999,-14.552548999999999,179.77847,71.352561],transform:{scale:[.003589293992939929,.0008590596905969058],translate:[-179.14733999999999,-14.552548999999999]},objects:{states:{type:"GeometryCollection",geometries:[{type:"MultiPolygon",arcs:[[[0]],[[1,2,3,4,5]]],id:"01",properties:{name:"Alabama"}},{type:"MultiPolygon",arcs:[[[6]],[[7]],[[8]],[[9]],[[10]],[[11]],[[12]],[[13]],[[14]],[[15]],[[16]],[[17]],[[18]],[[19]],[[20]],[[21]],[[22]],[[23]],[[24]],[[25]],[[26]],[[27]],[[28]],[[29]],[[30]],[[31]],[[32]],[[33]],[[34]],[[35]],[[36]],[[37]],[[38]],[[39]],[[40]],[[41]],[[42]],[[43]],[[44]],[[45]],[[46]],[[47]],[[48]],[[49]],[[50]],[[51]],[[52]],[[53]],[[54]],[[55]],[[56]],[[57]],[[58]],[[59]],[[60]],[[61]],[[62]],[[63]],[[64]],[[65]],[[66]],[[67]],[[68]],[[69]],[[70]],[[71]],[[72]],[[73]],[[74]],[[75]],[[76]],[[77]],[[78]],[[79]],[[80]],[[81]],[[82]],[[83]],[[84]],[[85]],[[86]],[[87]],[[88]],[[89]],[[90]],[[91]],[[92]],[[93]],[[94]],[[95]],[[96]],[[97]],[[98]],[[99]],[[100]],[[101]],[[102]],[[103]],[[104]],[[105]],[[106]],[[107]],[[108]],[[109]],[[110]],[[111]],[[112]],[[113]],[[114]],[[115]],[[116]],[[117]],[[118]],[[119]],[[120]],[[121]],[[122]],[[123]],[[124]],[[125]],[[126]],[[127]],[[128]],[[129]],[[130]],[[131]],[[132]],[[133]],[[134]],[[135]],[[136]],[[137]],[[138]],[[139]],[[140]],[[141]],[[142]]],id:"02",properties:{name:"Alaska"}},{type:"Polygon",arcs:[[143,144,145,146,147]],id:"04",properties:{name:"Arizona"}},{type:"Polygon",arcs:[[148,149,150,151,152,153]],id:"08",properties:{name:"Colorado"}},{type:"MultiPolygon",arcs:[[[154]],[[155]],[[156]],[[157]],[[158]],[[159]],[[160]],[[161]],[[162]],[[163,164,-4]]],id:"12",properties:{name:"Florida"}},{type:"Polygon",arcs:[[165,166,167,168,-164,-3]],id:"13",properties:{name:"Georgia"}},{type:"Polygon",arcs:[[169,170,171,172,173]],id:"18",properties:{name:"Indiana"}},{type:"Polygon",arcs:[[174,175,176,-151]],id:"20",properties:{name:"Kansas"}},{type:"MultiPolygon",arcs:[[[177]],[[178]],[[179]],[[180]],[[181]],[[182]],[[183]],[[184,185]]],id:"23",properties:{name:"Maine"}},{type:"MultiPolygon",arcs:[[[186]],[[187]],[[188,189,190,191,192,193,194,195]]],id:"25",properties:{name:"Massachusetts"}},{type:"Polygon",arcs:[[196,197,198,199,200]],id:"27",properties:{name:"Minnesota"}},{type:"Polygon",arcs:[[201,202,203,204,205,206,207,208]],id:"34",properties:{name:"New Jersey"}},{type:"MultiPolygon",arcs:[[[209]],[[210]],[[211,212,213,-167,214]]],id:"37",properties:{name:"North Carolina"}},{type:"Polygon",arcs:[[215,-201,216,217]],id:"38",properties:{name:"North Dakota"}},{type:"Polygon",arcs:[[-152,-177,218,219,220,221]],id:"40",properties:{name:"Oklahoma"}},{type:"Polygon",arcs:[[222,223,-204,224,225,226,227]],id:"42",properties:{name:"Pennsylvania"}},{type:"Polygon",arcs:[[228,-217,-200,229,230,231]],id:"46",properties:{name:"South Dakota"}},{type:"Polygon",arcs:[[-221,232,233,234,235,236,237]],id:"48",properties:{name:"Texas"}},{type:"Polygon",arcs:[[-232,238,-149,239,240,241]],id:"56",properties:{name:"Wyoming"}},{type:"Polygon",arcs:[[-195,242,243,244]],id:"09",properties:{name:"Connecticut"}},{type:"Polygon",arcs:[[245,246,247,248,249,250,251,-219,-176,252]],id:"29",properties:{name:"Missouri"}},{type:"Polygon",arcs:[[253,-227,254,255,256]],id:"54",properties:{name:"West Virginia"}},{type:"Polygon",arcs:[[257,258,259,-174,260,-247]],id:"17",properties:{name:"Illinois"}},{type:"Polygon",arcs:[[-153,-222,-238,261,-147]],id:"35",properties:{name:"New Mexico"}},{type:"Polygon",arcs:[[-252,262,263,264,-235,233,-233,-220]],id:"05",properties:{name:"Arkansas"}},{type:"MultiPolygon",arcs:[[[265]],[[266]],[[267]],[[268]],[[269]],[[270]],[[271]],[[272]],[[273,274,275,-144,276]]],id:"06",properties:{name:"California"}},{type:"MultiPolygon",arcs:[[[-209,277]],[[-225,-203,278,279]]],id:"10",properties:{name:"Delaware"}},{type:"Polygon",arcs:[[280,281]],id:"11",properties:{name:"District of Columbia"}},{type:"MultiPolygon",arcs:[[[282]],[[283]],[[284]],[[285]],[[286]],[[287]],[[288]],[[289]]],id:"15",properties:{name:"Hawaii"}},{type:"Polygon",arcs:[[-199,290,-258,-246,291,-230]],id:"19",properties:{name:"Iowa"}},{type:"MultiPolygon",arcs:[[[-261,-173,292,-257,293,294,-248]],[[295,-250]]],id:"21",properties:{name:"Kentucky"}},{type:"MultiPolygon",arcs:[[[296,297]],[[298]],[[299]],[[-226,-280,300,301,302,303,-281,304,-255]]],id:"24",properties:{name:"Maryland"}},{type:"MultiPolygon",arcs:[[[305]],[[306]],[[307]],[[308]],[[309]],[[310]],[[311]],[[312]],[[313]],[[314,315,-171]],[[316]],[[317,318,319,320,321,322]]],id:"26",properties:{name:"Michigan"}},{type:"MultiPolygon",arcs:[[[323]],[[324]],[[325]],[[326]],[[-264,327,-6,328,329]]],id:"28",properties:{name:"Mississippi"}},{type:"Polygon",arcs:[[330,-218,-229,-242,331]],id:"30",properties:{name:"Montana"}},{type:"Polygon",arcs:[[332,-185,333,-190,334]],id:"33",properties:{name:"New Hampshire"}},{type:"MultiPolygon",arcs:[[[335]],[[336]],[[337]],[[338,-207]],[[339]],[[340]],[[341,342,-196,-245,343,-205,-224]]],id:"36",properties:{name:"New York"}},{type:"MultiPolygon",arcs:[[[344]],[[345]],[[-316,346,-228,-254,-293,-172]]],id:"39",properties:{name:"Ohio"}},{type:"Polygon",arcs:[[347,348,349,274,-275,-274,350]],id:"41",properties:{name:"Oregon"}},{type:"Polygon",arcs:[[-251,-296,-249,-295,351,-215,-166,-2,-328,-263]],id:"47",properties:{name:"Tennessee"}},{type:"Polygon",arcs:[[352,-240,-154,-146,353]],id:"49",properties:{name:"Utah"}},{type:"MultiPolygon",arcs:[[[354]],[[-302,355]],[[356,-297]],[[-256,-305,-282,-304,357,-212,-352,-294]]],id:"51",properties:{name:"Virginia"}},{type:"MultiPolygon",arcs:[[[358]],[[359]],[[360]],[[361]],[[362]],[[363]],[[364]],[[365]],[[366]],[[367]],[[368,-348,369]]],id:"53",properties:{name:"Washington"}},{type:"MultiPolygon",arcs:[[[370]],[[371]],[[372]],[[373]],[[374]],[[375]],[[376]],[[377]],[[378]],[[379]],[[380,-323,321,-321,319,-319,381,-259,-291,-198]]],id:"55",properties:{name:"Wisconsin"}},{type:"MultiPolygon",arcs:[[[382]],[[383]],[[384]]],id:"60",properties:{name:"American Samoa"}},{type:"MultiPolygon",arcs:[[[385]]],id:"66",properties:{name:"Guam"}},{type:"MultiPolygon",arcs:[[[386]],[[387]],[[388]],[[389]],[[390]],[[391]],[[392]],[[393]]],id:"69",properties:{name:"Commonwealth of the Northern Mariana Islands"}},{type:"Polygon",arcs:[[-231,-292,-253,-175,-150,-239]],id:"31",properties:{name:"Nebraska"}},{type:"Polygon",arcs:[[-214,394,-168]],id:"45",properties:{name:"South Carolina"}},{type:"MultiPolygon",arcs:[[[395]],[[396]],[[397]],[[398]],[[399]]],id:"72",properties:{name:"Puerto Rico"}},{type:"MultiPolygon",arcs:[[[400]],[[401]],[[402]]],id:"78",properties:{name:"United States Virgin Islands"}},{type:"Polygon",arcs:[[-369,403,-332,-241,-353,404,-349]],id:"16",properties:{name:"Idaho"}},{type:"Polygon",arcs:[[-275,-350,-405,-354,-145,-276]],id:"32",properties:{name:"Nevada"}},{type:"Polygon",arcs:[[405,-335,-189,-343]],id:"50",properties:{name:"Vermont"}},{type:"MultiPolygon",arcs:[[[406]],[[407]],[[408]],[[409]],[[410]],[[411]],[[412]],[[-265,-330,413,-236]]],id:"22",properties:{name:"Louisiana"}},{type:"MultiPolygon",arcs:[[[-192,414]],[[415]],[[416]],[[417]],[[-243,-194,418]]],id:"44",properties:{name:"Rhode Island"}}]},nation:{type:"GeometryCollection",geometries:[{type:"MultiPolygon",arcs:[[[0]],[[164,4,328,413,236,261,147,276,350,369,403,330,215,196,380,317,381,259,169,314,346,222,341,405,332,185,333,190,414,192,418,243,343,205,338,207,277,201,278,300,355,302,357,212,394,168]],[[6]],[[7]],[[8]],[[9]],[[10]],[[11]],[[12]],[[13]],[[14]],[[15]],[[16]],[[17]],[[18]],[[19]],[[20]],[[21]],[[22]],[[23]],[[24]],[[25]],[[26]],[[27]],[[28]],[[29]],[[30]],[[31]],[[32]],[[33]],[[34]],[[35]],[[36]],[[37]],[[38]],[[39]],[[40]],[[41]],[[42]],[[43]],[[44]],[[45]],[[46]],[[47]],[[48]],[[49]],[[50]],[[51]],[[52]],[[53]],[[54]],[[55]],[[56]],[[57]],[[58]],[[59]],[[60]],[[61]],[[62]],[[63]],[[64]],[[65]],[[66]],[[67]],[[68]],[[69]],[[70]],[[71]],[[72]],[[73]],[[74]],[[75]],[[76]],[[77]],[[78]],[[79]],[[80]],[[81]],[[82]],[[83]],[[84]],[[85]],[[86]],[[87]],[[88]],[[89]],[[90]],[[91]],[[92]],[[93]],[[94]],[[95]],[[96]],[[97]],[[98]],[[99]],[[100]],[[101]],[[102]],[[103]],[[104]],[[105]],[[106]],[[107]],[[108]],[[109]],[[110]],[[111]],[[112]],[[113]],[[114]],[[115]],[[116]],[[117]],[[118]],[[119]],[[120]],[[121]],[[122]],[[123]],[[124]],[[125]],[[126]],[[127]],[[128]],[[129]],[[130]],[[131]],[[132]],[[133]],[[134]],[[135]],[[136]],[[137]],[[138]],[[139]],[[140]],[[141]],[[142]],[[154]],[[155]],[[156]],[[157]],[[158]],[[159]],[[160]],[[161]],[[162]],[[177]],[[178]],[[179]],[[180]],[[181]],[[182]],[[183]],[[186]],[[187]],[[209]],[[210]],[[265]],[[266]],[[267]],[[268]],[[269]],[[270]],[[271]],[[272]],[[282]],[[283]],[[284]],[[285]],[[286]],[[287]],[[288]],[[289]],[[297,356]],[[298]],[[299]],[[305]],[[306]],[[307]],[[308]],[[309]],[[310]],[[311]],[[312]],[[313]],[[316]],[[323]],[[324]],[[325]],[[326]],[[335]],[[336]],[[337]],[[339]],[[340]],[[344]],[[345]],[[354]],[[358]],[[359]],[[360]],[[361]],[[362]],[[363]],[[364]],[[365]],[[366]],[[367]],[[370]],[[371]],[[372]],[[373]],[[374]],[[375]],[[376]],[[377]],[[378]],[[379]],[[382]],[[383]],[[384]],[[385]],[[386]],[[387]],[[388]],[[389]],[[390]],[[391]],[[392]],[[393]],[[395]],[[396]],[[397]],[[398]],[[399]],[[400]],[[401]],[[402]],[[406]],[[407]],[[408]],[[409]],[[410]],[[411]],[[412]],[[415]],[[416]],[[417]]]}]}},arcs:[[[25302,52136],[56,31],[1,25],[14,-40],[-9,-28],[-10,16],[-18,-2],[-20,-17],[-14,15]],[[25338,57677],[0,15],[150,-6],[63,0],[160,-13],[93,-2],[37,2],[159,-4],[61,-5]],[[26061,57664],[15,-321],[23,-443],[18,-379],[13,-294],[15,-311],[33,-713],[9,-32],[-4,-36],[13,-45],[5,-149],[10,-72],[17,-69],[3,-82],[9,-36],[-10,-117],[18,-28],[12,-40],[-10,-52],[-11,0],[2,-24],[-14,-21],[-13,-52],[3,-56],[-2,-86],[-7,-86],[-14,-72],[-3,-45],[6,-124],[-2,-44],[19,-87],[3,-120],[-7,-57],[2,-43],[-8,-80],[1,-79],[-7,-21],[5,-51],[-3,-54],[20,-91],[7,-64],[2,-61]],[[26229,53027],[-67,0],[-71,-5],[-110,-4],[-174,0],[-135,7],[-166,-2],[3,-38],[-13,-115],[2,-23],[23,-79],[3,-41],[36,-80],[3,-69],[-15,-102],[3,-55],[20,-51],[-18,-35],[-8,-82],[-9,-15],[7,-24],[-15,-26]],[[25528,52188],[-38,-35],[-40,-24],[-56,-4],[18,41],[12,-26],[35,27],[3,34],[-15,48],[-7,43],[-20,47],[-7,90],[9,74],[-3,76],[-7,48],[-20,32],[-15,-46],[2,-38],[-9,-57],[1,-41],[-6,-32],[-1,-144],[-8,-66],[-15,-4],[1,36],[-20,40],[-15,-16],[-5,23],[-18,-22]],[[25284,52292],[-3,222],[-3,357],[-6,423],[-10,773],[9,283],[21,710],[5,212],[33,1120],[6,160],[19,643],[12,362],[-16,35],[-13,85]],[[8053,88108],[6,38],[18,-11],[-20,-43],[-4,16]],[[7905,86007],[29,90],[15,-17],[-1,-46],[-28,-74],[-15,19],[0,28]],[[7695,85792],[26,-14],[-3,-36],[-23,50]],[[7642,85774],[22,-17],[-7,-33],[-14,14],[-1,36]],[[7602,85813],[20,-2],[-5,-34],[-15,36]],[[7594,84711],[8,45],[20,-13],[-8,-73],[-15,-17],[-5,58]],[[7543,85532],[12,28],[21,-40],[-33,-2],[0,14]],[[7540,87187],[29,79],[8,112],[31,-29],[-28,-64],[-9,-49],[5,-24],[-36,-25]],[[7464,85521],[14,55],[18,-28],[23,-4],[-33,-33],[-22,10]],[[7385,86976],[17,6],[5,-88],[-22,82]],[[7168,84530],[29,89],[15,6],[26,-66],[5,20],[-21,65],[6,54],[9,10],[27,-25],[21,19],[-29,54],[16,56],[29,-31],[15,4],[-14,56],[12,17],[20,-20],[14,45],[-18,6],[-13,33],[20,3],[22,67],[34,18],[-12,35],[-3,68],[27,66],[7,-31],[53,51],[7,-7],[-12,-118],[-13,-18],[-26,-103],[5,-84],[36,11],[2,69],[22,-9],[21,-71],[20,48],[12,-33],[-17,-117],[9,-22],[9,72],[27,47],[7,-25],[-3,-115],[-30,-89],[-32,23],[-11,81],[-21,-26],[13,-99],[-22,-20],[-39,13],[-16,-54],[-8,36],[2,74],[-10,2],[-9,-114],[-8,-24],[-31,-17],[2,-37],[-16,-22],[-45,-13],[-86,76],[-21,-13],[-15,29]],[[7129,86075],[41,28],[18,-43],[-5,-48],[-13,-16],[-29,-3],[-16,59],[4,23]],[[6962,82933],[31,45],[8,-48],[-37,-9],[-2,12]],[[6905,82759],[20,62],[19,20],[11,-11],[25,17],[5,-40],[19,-37],[36,16],[-2,-37],[-19,-31],[-46,-6],[-32,-13],[-32,25],[-4,35]],[[6789,83718],[20,17],[4,76],[18,75],[25,34],[5,44],[15,-8],[34,70],[33,36],[39,-15],[29,1],[0,-112],[26,-57],[4,45],[17,53],[-18,48],[6,25],[53,-14],[-3,35],[-52,44],[-19,-4],[-1,127],[31,61],[29,29],[20,-12],[22,-56],[6,-133],[15,13],[9,77],[-5,55],[35,-38],[7,47],[-37,36],[-21,58],[7,44],[17,-6],[51,-87],[9,4],[30,-41],[11,10],[-31,75],[-20,34],[-7,44],[17,0],[30,-58],[29,12],[41,-29],[7,49],[36,15],[-8,-63],[-39,-106],[-7,-83],[19,-36],[0,95],[16,43],[16,-49],[5,46],[17,32],[5,41],[14,10],[10,-31],[22,72],[17,8],[-4,-45],[28,-16],[-11,-38],[-11,20],[-18,-15],[19,-36],[-5,-49],[19,22],[11,-51],[27,1],[-24,-53],[-16,33],[-24,2],[-15,-48],[16,-9],[-8,-53],[26,-8],[-26,-89],[23,17],[13,47],[5,-35],[47,-4],[-3,-41],[-36,-78],[-13,-110],[-38,13],[-2,39],[-10,-41],[-23,42],[-17,-6],[-23,49],[-15,-13],[-24,19],[-8,-46],[27,1],[15,-17],[45,-87],[-8,-70],[-23,-52],[-11,36],[-19,-50],[-19,30],[-6,38],[-21,18],[-20,-12],[-17,-37],[29,2],[20,-49],[-38,-53],[-34,12],[-4,-20],[25,-34],[14,13],[35,1],[22,-43],[-11,-28],[-24,-8],[-34,-33],[-8,11],[-19,-29],[3,-49],[-27,-50],[-13,20],[7,34],[-23,50],[7,47],[27,62],[-8,24],[-15,-21],[-34,-105],[-3,-24],[-22,32],[-22,-10],[-5,-35],[26,-6],[10,-63],[-16,-61],[-25,-20],[1,-70],[-25,-41],[-12,13],[-23,-82],[-19,-30],[-18,21],[-31,-20],[22,116],[11,11],[26,71],[24,31],[-2,37],[-33,-23],[3,52],[22,102],[29,52],[-7,30],[-15,-45],[-34,-61],[-26,-112],[-24,-59],[-14,-11],[-5,-44],[-19,-30],[-4,84],[-26,58],[-33,27],[3,100],[-4,106],[-13,83],[-11,32],[-23,20],[-27,5],[14,30],[-15,37],[5,23]],[[6782,82633],[27,101],[51,97],[21,-4],[16,-54],[-12,-23],[-55,-73],[-29,-79],[-19,35]],[[6519,81925],[26,41],[5,38],[13,22],[8,-32],[-6,-43],[5,-68],[-7,-33],[-36,13],[-8,62]],[[6240,82171],[5,47],[14,25],[13,-59],[-13,-63],[-19,50]],[[6225,82357],[9,35],[3,-82],[-10,-1],[-2,48]],[[6080,82757],[21,48],[48,-3],[25,-54],[-35,23],[-16,-26],[-43,-6],[0,18]],[[5919,82533],[19,25],[11,-57],[-9,-11],[-21,43]],[[5642,81925],[8,64],[19,12],[27,-58],[-8,-18],[-21,37],[-25,-37]],[[5573,81984],[16,-49],[-27,12],[11,37]],[[5524,80844],[-1,36],[13,24],[20,-25],[-9,-59],[-19,-15],[-4,39]],[[5506,81836],[8,67],[10,10],[11,-62],[-29,-15]],[[5485,80904],[12,85],[-11,46],[31,-2],[4,-99],[-27,-38],[-9,8]],[[5445,80747],[10,13],[16,-42],[-1,-34],[-23,-4],[-2,67]],[[5429,81185],[17,-21],[5,49],[17,46],[5,-22],[-8,-58],[9,-13],[1,-44],[-10,-61],[13,-30],[-7,-19],[-17,22],[-2,-21],[-20,8],[-3,164]],[[5385,80755],[21,25],[11,-30],[-20,-26],[-12,31]],[[5377,81028],[9,39],[23,41],[5,-36],[-23,-38],[-9,-58],[-5,52]],[[5303,81352],[14,11],[5,-42],[-19,31]],[[5265,80882],[33,98],[15,27],[-5,18],[-22,0],[-4,76],[22,50],[27,-44],[-1,38],[-13,52],[30,-13],[18,114],[12,-23],[-2,-43],[-9,-2],[-5,-75],[12,-18],[0,33],[13,1],[-4,-60],[-11,-37],[-22,12],[-1,-45],[-28,-71],[-18,-24],[-31,-141],[-6,77]],[[5246,85264],[5,41],[14,-83],[-7,-25],[-12,67]],[[5238,81460],[22,42],[36,-14],[-1,-78],[-50,12],[-7,38]],[[5213,85252],[8,77],[5,-57],[-13,-20]],[[5096,81334],[16,74],[25,25],[18,-23],[-2,-46],[10,5],[12,47],[15,-32],[26,-26],[26,25],[7,-66],[-9,-60],[-14,40],[-22,3],[-14,23],[-3,40],[-10,-12],[0,-69],[11,-20],[11,-87],[-11,-60],[-36,35],[-10,59],[-18,-18],[-18,-90],[4,58],[-10,43],[0,104],[-4,28]],[[5033,85142],[7,131],[39,52],[21,6],[39,76],[5,-2],[-55,-273],[-22,-32],[-32,-4],[-2,46]],[[4937,81216],[27,3],[-4,-71],[-26,47],[3,21]],[[4863,81217],[10,31],[36,8],[-9,-51],[-37,-10],[0,22]],[[4804,81100],[4,51],[17,20],[25,-19],[12,-29],[35,-42],[6,-41],[-30,44],[-23,-57],[-28,74],[-11,-38],[-7,37]],[[4656,80881],[30,66],[26,-27],[0,-83],[-11,-53],[-13,-21],[-27,58],[-5,60]],[[4587,90956],[19,44],[21,16],[24,-17],[22,6],[9,-37],[-1,-50],[-75,-13],[-18,19],[-1,32]],[[4545,80324],[1,51],[68,-54],[19,-39],[26,0],[18,-28],[-20,-23],[-10,-33],[-22,40],[-17,-9],[-31,37],[-18,-29],[-22,57],[8,30]],[[4451,81463],[14,-1],[-5,-38],[-9,39]],[[3979,80040],[12,22],[16,-18],[-21,-37],[-7,33]],[[3880,79918],[22,34],[33,-11],[24,18],[5,-24],[-9,-45],[-26,-13],[-47,27],[-2,14]],[[3807,79887],[60,24],[9,-35],[-15,-32],[-13,37],[-34,-4],[-7,10]],[[3781,79848],[17,29],[7,-36],[-18,-14],[-6,21]],[[3751,80090],[13,56],[14,-15],[18,18],[12,-21],[-22,-33],[13,-48],[30,0],[1,-41],[-23,3],[-18,-79],[-23,24],[-2,78],[16,35],[-9,20],[-16,-21],[-4,24]],[[3635,79967],[5,36],[28,54],[30,-6],[3,-58],[20,6],[14,-15],[8,-44],[13,13],[-2,-41],[-26,-36],[-12,11],[-18,-45],[-6,28],[-25,1],[-17,-20],[-18,91],[3,25]],[[3608,79782],[7,15],[27,-33],[-32,-11],[-2,29]],[[3261,87028],[35,25],[57,0],[22,-20],[23,10],[9,-24],[21,10],[10,30],[-8,38],[34,68],[37,-11],[0,37],[25,46],[33,-40],[24,32],[23,9],[15,54],[19,-132],[27,-10],[29,34],[29,-20],[27,-40],[-12,-65],[11,-44],[-11,-40],[13,-11],[4,-65],[-13,-38],[21,-54],[2,-58],[21,10],[-11,-34],[2,-48],[-71,-21],[-6,-34],[-20,19],[-26,-18],[-28,-58],[8,-64],[-26,-8],[-23,71],[-38,47],[-57,-4],[-14,35],[-28,18],[-27,58],[-35,42],[-40,19],[-32,72],[-25,10],[-2,70],[-28,97]],[[3147,79003],[17,23],[22,53],[25,5],[37,40],[9,27],[28,-21],[14,19],[8,44],[22,-19],[3,72],[24,-11],[-17,106],[20,32],[8,-16],[15,18],[-18,35],[4,39],[17,23],[29,-1],[9,-68],[15,7],[-7,50],[13,31],[-53,47],[-14,-21],[-32,81],[0,46],[31,92],[42,50],[36,32],[6,-15],[23,13],[16,-63],[-16,-42],[7,-35],[17,-18],[14,53],[6,-33],[15,29],[-1,41],[18,63],[15,-58],[11,26],[20,-62],[-8,-56],[-23,-13],[-24,-70],[-40,-70],[2,-39],[34,54],[58,64],[4,22],[22,22],[7,-19],[-5,-72],[-16,-51],[-26,-34],[-6,-23],[-45,-51],[-30,-20],[12,-46],[-16,-1],[-4,-61],[-16,17],[-7,-70],[-20,25],[-4,-76],[-36,-13],[-22,30],[-10,-31],[-12,23],[-21,-37],[-6,11],[-44,-73],[-3,-31],[-23,4],[-16,-23],[-13,-60],[-28,23],[-9,-45],[-49,40],[-15,36]],[[3070,93368],[7,34],[34,50],[123,108],[63,74],[48,74],[45,56],[42,64],[84,105],[55,56],[146,167],[172,154],[133,90],[87,45],[135,15],[52,-11],[34,-31],[-41,-11],[7,-38],[-10,-71],[-31,-77],[1,-70],[12,-56],[-21,-59],[-49,-33],[-4,-20],[49,7],[42,-151],[40,-3],[36,32],[42,-1],[49,-30],[47,21],[69,15],[32,-58],[50,21],[18,-34],[52,32],[18,26],[84,-65],[18,59],[26,44],[37,150],[18,26],[40,-9],[8,-39],[32,-12],[31,27],[26,0],[-32,110],[-71,55],[-45,24],[-48,-1],[-60,-60],[13,112],[-3,83],[-62,114],[-22,91],[-26,35],[-59,14],[-8,56],[-32,90],[7,50],[27,18],[10,43],[16,-37],[24,28],[27,-89],[36,-91],[24,-10],[-19,-101],[3,-55],[28,-50],[57,-123],[53,-68],[39,18],[30,28],[9,49],[-45,2],[-10,45],[-56,70],[-53,112],[10,52],[0,60],[14,23],[1,57],[33,93],[30,-32],[22,3],[1,28],[-38,55],[-25,-8],[-28,57],[-87,-29],[-32,-37],[-34,0],[-39,-19],[-34,17],[-20,43],[-17,-16],[-21,23],[-4,-51],[-36,39],[-91,42],[-54,31],[-48,15],[-22,30],[1,98],[-22,163],[-52,216],[-20,58],[-36,62],[-91,101],[-145,228],[-21,24],[-51,87],[-50,49],[-54,37],[-51,23],[-29,35],[-19,70],[-54,84],[-45,40],[-81,41],[-42,-6],[37,40],[92,59],[20,46],[3,57],[19,76],[11,236],[-8,117],[179,-31],[68,6],[144,42],[79,28],[77,15],[77,63],[41,65],[29,30],[53,87],[81,192],[21,92],[7,79],[-2,186],[39,233],[84,183],[65,179],[37,77],[129,162],[96,-35],[69,-3],[68,40],[64,53],[93,104],[74,108],[44,86],[114,188],[33,31],[99,63],[7,-47],[55,-44],[82,-12],[68,15],[13,24],[32,-3],[61,17],[73,51],[74,85],[71,121],[36,88],[86,185],[68,76],[12,-68],[47,-38],[39,-2],[39,-20],[16,-82],[27,41],[99,-49],[15,-98],[-54,-71],[-35,-63],[-41,-4],[12,-146],[81,-15],[44,59],[-7,76],[16,8],[31,67],[23,12],[19,-48],[4,63],[-27,43],[35,55],[21,-47],[-3,65],[15,22],[71,-74],[45,-66],[13,-42],[-11,-33],[1,-109],[9,-49],[61,10],[35,-37],[16,-40],[48,62],[30,75],[112,0],[69,42],[53,-11],[40,-34],[84,-2],[61,-32],[45,-35],[9,-34],[-26,-11],[-26,-83],[-26,-30],[14,-93],[25,5],[19,-24],[45,-6],[10,-28],[69,-20],[33,9],[-17,-43],[9,-25],[-53,-26],[-8,-24],[20,-25],[89,6],[72,-41],[14,-33],[28,5],[44,86],[57,15],[24,-18],[10,34],[40,7],[29,-27],[15,-59],[42,27],[38,8],[58,83],[13,-22],[45,20],[21,-15],[34,26],[12,-30],[66,-8],[62,-72],[28,-1],[19,-24],[26,31],[24,-8],[37,-73],[0,-45],[35,-19],[41,51],[1,-63],[26,57],[81,-77],[14,-67],[24,-23],[49,1],[43,-15],[29,36],[23,-73],[48,-10],[29,45],[43,-12],[62,12],[66,-10],[49,-38],[50,-3],[17,28],[65,-95],[28,-8],[32,-54],[45,-16],[20,-30],[45,-12],[17,-26],[27,32],[66,-20],[45,77],[48,6],[9,20],[84,49],[18,24],[86,30],[42,-25],[48,32],[9,-18],[79,-73],[53,-37],[70,-80],[26,-67],[37,-11],[87,-97],[68,-40],[52,-62],[27,-47],[61,-13],[58,-45],[0,-9012],[2,-971],[-1,-889],[130,-95],[17,100],[135,-145],[81,180],[170,20],[1,-39],[-33,-272],[47,-112],[66,-76],[26,-22],[11,-116],[29,-80],[266,-580],[30,-299],[-8,-93],[22,4],[51,108],[111,158],[11,23],[68,8],[32,139],[-2,209],[30,-19],[18,19],[19,71],[-1,39],[-32,47],[45,48],[68,28],[131,158],[62,-115],[28,-88],[11,-2],[24,-70],[0,-104],[-12,-24],[1,-37],[16,-47],[-5,-42],[18,-76],[73,-38],[5,-66],[32,-73],[24,0],[29,-108],[-6,-69],[26,-20],[-6,-46],[22,-71],[114,-152],[32,-119],[46,-120],[50,-110],[-23,-49],[33,-134],[47,-140],[28,-176],[57,-182],[32,-161],[30,-111],[25,-123],[53,-180],[32,-155],[-33,-140],[89,-52],[-21,-205],[71,-81],[-8,-61],[11,-57],[7,-119],[71,14],[33,-77],[82,-115],[23,-48],[85,-47],[44,-115],[44,-33],[11,-116],[23,-15],[27,-36],[40,23],[28,-143],[-3,-90],[-20,-107],[-18,-67],[1,-60],[10,-38],[-5,-118],[12,-104],[11,-46],[6,-133],[12,-63],[-32,-100],[-24,-122],[-1,-33],[-20,-90],[-23,-77],[-37,-97],[-27,-55],[-19,-14],[3,-46],[-19,-23],[-12,40],[-1,56],[-13,24],[-1,-44],[-12,-22],[-18,18],[-13,52],[-4,108],[3,57],[-17,33],[8,103],[-9,6],[-16,56],[-6,64],[30,63],[17,63],[15,-8],[-3,75],[-11,82],[14,122],[-9,190],[-10,67],[-43,164],[-22,55],[-12,48],[-7,-34],[23,-62],[25,-85],[7,-72],[22,-90],[10,-131],[-16,-43],[-2,-79],[7,-92],[11,-62],[-9,-28],[-11,96],[-8,12],[3,-70],[-4,-74],[-36,-102],[-14,-5],[-24,49],[19,73],[11,73],[-3,38],[-25,-10],[10,-72],[-8,-42],[-33,-56],[-7,1],[-23,108],[-11,-45],[-25,54],[-17,18],[-12,50],[-28,68],[0,76],[31,31],[22,51],[-20,47],[7,75],[-9,39],[23,44],[3,24],[-18,1],[-3,74],[7,43],[-41,-17],[6,-45],[11,-16],[-1,-37],[-13,-85],[-1,-60],[-19,-73],[-18,13],[7,-93],[-10,-43],[-24,52],[-25,22],[-9,30],[-12,132],[-16,70],[21,-29],[7,75],[27,37],[12,147],[-8,102],[10,57],[6,-21],[12,42],[7,92],[-21,-11],[-4,-58],[-19,-30],[-21,-61],[13,-113],[-8,-42],[-33,3],[-12,-43],[3,-30],[-17,-14],[-7,34],[4,67],[-19,23],[-12,128],[-32,-17],[0,-48],[-28,118],[-3,123],[8,25],[25,1],[7,66],[13,49],[30,12],[16,-72],[7,63],[-15,168],[9,3],[30,-45],[4,-59],[11,-32],[6,23],[-9,77],[-22,35],[-19,48],[-3,53],[-11,13],[-12,-25],[-10,49],[-23,32],[-5,57],[12,23],[-4,64],[-22,28],[-37,66],[-13,69],[-15,33],[-13,79],[29,43],[-11,58],[-18,-47],[-19,18],[-2,-27],[-23,58],[-31,8],[-11,56],[-27,-28],[-54,76],[-8,75],[15,73],[18,-22],[33,4],[9,48],[-22,3],[-32,36],[2,35],[-18,125],[13,81],[-24,-10],[-15,19],[-16,53],[7,103],[20,2],[16,-36],[33,-24],[63,-89],[5,15],[-25,58],[-20,19],[-66,130],[-3,95],[-17,-15],[-2,-65],[-20,3],[-39,166],[-55,147],[-11,140],[9,65],[-2,52],[27,41],[-13,100],[-8,-2],[-9,-85],[-20,-30],[0,-42],[12,-22],[-13,-57],[-10,10],[-22,-20],[-25,11],[-36,34],[-7,-15],[-35,36],[-40,174],[-4,110],[-42,140],[-13,79],[19,1],[-11,174],[-19,-56],[1,-58],[-35,132],[-8,177],[-8,92],[-21,135],[-32,116],[-36,37],[-5,-16],[28,-38],[4,-41],[17,-39],[20,-131],[-15,11],[-34,140],[-22,36],[-22,10],[41,-92],[13,-85],[17,-29],[-7,-97],[9,-88],[13,-23],[-5,-24],[27,-124],[3,-55],[25,-139],[2,-32],[-14,11],[27,-204],[9,-85],[1,-69],[-12,8],[-1,-61],[12,-64],[-29,23],[-19,32],[-14,-4],[-18,43],[-15,66],[-10,84],[-22,-16],[-33,50],[-27,-37],[-50,-19],[3,81],[-25,16],[-4,19],[30,39],[-10,69],[5,53],[-28,109],[0,36],[-22,84],[13,24],[-2,90],[-19,64],[-12,10],[15,-131],[-12,-125],[-27,-5],[-42,70],[-26,30],[-15,150],[-11,-68],[-13,-22],[-44,54],[-14,-20],[-10,50],[-12,-18],[-3,-54],[45,-35],[7,7],[45,-44],[33,-66],[30,-104],[-11,-44],[-24,-44],[6,-11],[33,44],[7,30],[27,1],[7,-105],[26,-78],[16,-157],[-19,-44],[-43,-32],[-11,10],[9,47],[-18,16],[-12,-17],[7,-39],[-10,-37],[-43,22],[-11,-23],[5,-60],[-8,-35],[-29,5],[-8,78],[-36,35],[3,15],[-28,74],[-17,19],[-29,-19],[-35,70],[-16,15],[-56,107],[-51,75],[-2,50],[-30,70],[-37,64],[-5,28],[4,75],[-15,48],[-55,121],[-30,47],[-96,89],[-36,71],[-43,66],[-98,104],[-42,49],[-91,144],[-30,39],[5,29],[31,89],[24,-14],[-9,-27],[24,3],[0,43],[21,70],[-22,7],[2,77],[-14,116],[7,35],[22,41],[-5,34],[16,30],[-13,56],[-19,-51],[-2,-59],[-25,-21],[-21,-72],[-1,-49],[-107,-100],[-12,-28],[-28,-28],[-95,22],[-67,36],[-26,32],[-123,125],[-17,56],[18,-10],[34,24],[11,71],[-33,131],[3,42],[-20,-17],[-31,44],[6,-50],[45,-120],[-10,-21],[-54,-51],[-39,0],[-49,55],[-61,24],[-32,23],[-81,40],[-45,11],[-59,-4],[-63,-33],[-77,-12],[-80,-28],[-54,-48],[-39,39],[-45,-26],[-64,-120],[-46,-115],[6,65],[36,103],[62,117],[46,2],[-16,66],[-49,48],[-8,25],[-10,-82],[-26,84],[-26,30],[-17,-9],[-16,27],[-71,19],[9,28],[38,23],[-42,33],[-19,-6],[-2,25],[37,156],[-15,15],[-13,-36],[-29,-22],[-1,-57],[-20,-66],[-39,12],[-70,97],[1,31],[-26,36],[-39,26],[-41,-35],[-22,27],[13,29],[31,32],[25,74],[-14,10],[-18,-49],[-79,-93],[-29,-23],[-38,5],[1,-54],[60,27],[11,-24],[2,-53],[-17,2],[-28,-37],[-18,6],[-41,-38],[-41,-77],[-12,2],[-12,48],[47,77],[-37,-12],[-17,11],[-1,54],[23,83],[13,27],[18,2],[20,-31],[24,17],[22,41],[38,13],[57,58],[42,20],[-9,25],[-19,-2],[1,71],[-11,-49],[-19,-20],[1,30],[25,65],[1,21],[-33,-58],[-45,-47],[-19,-3],[-4,30],[63,112],[-6,38],[-29,-60],[-38,-14],[-12,26],[-15,-49],[-20,-14],[-54,13],[-10,58],[27,19],[11,-9],[18,25],[40,16],[29,28],[23,65],[-25,2],[-14,-46],[-23,-19],[-45,-2],[-18,68],[-12,3],[-17,-69],[-21,-8],[-4,59],[16,26],[17,-6],[-11,44],[-3,55],[13,34],[26,114],[96,6],[-7,38],[-91,-5],[-21,-63],[-27,-26],[-21,-77],[-31,-48],[-23,12],[20,36],[-10,113],[-12,53],[18,30],[-22,10],[-14,-23],[-1,-51],[12,-63],[-14,-63],[1,-41],[-13,-15],[-26,48],[-2,-67],[-27,-45],[-21,22],[0,52],[-11,19],[-7,-73],[-9,15],[4,129],[9,62],[-15,11],[-17,-130],[9,-111],[-4,-29],[-19,-9],[1,49],[-27,34],[-7,-46],[16,-65],[-13,-8],[-38,16],[-34,-48],[-28,9],[-5,31],[14,95],[42,151],[1,53],[49,123],[16,81],[-6,18],[-73,-211],[-1,-35],[-18,-58],[-8,8],[-8,69],[-12,-1],[-3,-81],[-11,-54],[-18,-42],[-3,-64],[-16,-68],[-21,27],[-7,-44],[24,-28],[-5,-91],[10,-8],[19,85],[37,6],[11,-22],[4,-91],[-14,-45],[-31,-32],[-22,-76],[1,-63],[21,20],[17,75],[30,44],[30,-89],[0,-44],[10,-43],[-23,-192],[-26,0],[-9,52],[-19,9],[1,-36],[-27,-44],[0,-17],[28,14],[23,-27],[61,-124],[26,-85],[-15,-77],[-13,-26],[-34,-35],[-17,16],[-14,-18],[-29,-6],[9,51],[-26,67],[9,60],[-17,63],[-16,-126],[0,-62],[-12,-41],[-19,69],[-9,-8],[-7,-59],[-18,-33],[-34,50],[-29,-40],[-15,52],[-27,-21],[-22,5],[-9,28],[24,74],[-9,14],[-27,-38],[-29,-175],[-30,-42],[-9,18],[14,55],[13,84],[-15,172],[-16,5],[-5,-28],[1,-81],[13,-53],[-10,-4],[-10,-72],[-17,11],[-8,-20],[-5,-68],[-11,-17],[4,-47],[25,-31],[-6,-74],[-27,32],[-12,127],[8,37],[-11,78],[-17,6],[6,-52],[-8,-49],[5,-196],[-5,-64],[-27,74],[-1,43],[-16,28],[-34,31],[3,-40],[24,-36],[-1,-63],[-69,-158],[-32,-91],[0,-36],[-16,-10],[-9,-86],[-12,2],[-3,70],[34,211],[0,29],[-26,-65],[-19,-111],[-12,11],[-9,142],[-13,-52],[-11,2],[16,-62],[-5,-80],[-39,0],[-8,-61],[-18,-24],[-22,-55],[7,-43],[-15,-41],[-16,-10],[0,54],[-16,36],[-13,-45],[-1,-53],[-22,-17],[-24,31],[-9,-23],[-21,38],[-7,43],[-12,-36],[-21,-27],[6,-35],[-20,0],[-5,-39],[-41,-7],[-6,76],[-22,-14],[-21,22],[3,22],[-21,8],[-3,70],[8,36],[16,18],[5,71],[32,31],[9,-11],[29,51],[33,3],[0,45],[33,21],[34,62],[31,-9],[-11,69],[22,26],[3,32],[37,102],[-13,15],[-24,-22],[-60,-109],[-30,-20],[-18,-39],[-39,16],[-43,67],[-15,40],[-5,46],[18,117],[13,45],[15,133],[27,79],[17,33],[35,99],[11,98],[0,71],[23,32],[5,156],[4,27],[-18,44],[-22,163],[39,35],[5,27],[63,27],[89,164],[92,118],[51,-161],[41,-16],[13,-27],[34,112],[30,8],[36,-45],[19,10],[63,-48],[65,-20],[30,-55],[-1,27],[-22,63],[-29,36],[-38,-14],[-51,63],[-24,-1],[-40,42],[-25,68],[-39,66],[-29,28],[18,55],[24,9],[31,124],[23,18],[8,60],[46,27],[30,45],[-32,50],[-20,4],[-43,-64],[-11,-49],[-19,-14],[-12,-70],[0,-70],[-18,-31],[-25,19],[-36,7],[-74,-17],[-26,43],[-28,16],[-14,-52],[-87,-84],[-39,-154],[-36,-12],[-19,-31],[-33,2],[-39,-63],[-48,-109],[-1,-29],[26,-124],[-2,-23],[-38,25],[-19,-18],[-30,-52],[-21,-92],[-27,-29],[-32,-74],[-6,-73],[8,-34],[19,-24],[-40,-56],[-9,-67],[-13,-4],[-28,-70],[-19,-7],[-9,28],[-25,-11],[4,-68],[16,-13],[-3,-30],[25,-42],[8,-35],[-12,-73],[-19,-47],[-7,-62],[-25,-21],[-4,-22],[-39,-2],[-15,12],[-40,-31],[-18,3],[-19,-60],[23,16],[15,-20],[15,30],[19,1],[7,-50],[-16,-116],[-19,-16],[-26,-51],[-28,37],[5,-34],[-13,-18],[-18,18],[7,35],[2,75],[-22,71],[3,-119],[-9,-55],[-18,-15],[-13,25],[-6,-35],[16,-28],[-9,-53],[-49,-10],[17,-93],[-8,-32],[-27,-21],[-10,8],[-24,-45],[-12,13],[-36,-37],[5,-26],[20,-18],[-23,-32],[-7,-43],[2,-61],[-12,-44],[-24,-35],[24,-26],[-6,-59],[10,-60],[27,63],[59,-23],[16,22],[12,-22],[15,25],[22,-78],[19,-27],[19,13],[23,-34],[18,-53],[8,-53],[15,-22],[-28,-14],[-14,-118],[-12,-39],[-30,-25],[-11,-55],[-24,-33],[-48,0],[-15,-17],[-4,-94],[-12,-33],[-27,1],[-5,-20],[10,-79],[11,-32],[-27,-36],[-20,15],[-2,-45],[20,-46],[-11,-81],[-21,-30],[-6,-33],[9,-24],[-23,0],[-14,-52],[-26,66],[-9,-7],[5,-57],[-4,-40],[-21,-3],[-12,-43],[-17,16],[0,27],[-20,-1],[-4,-39],[-22,-24],[-23,31],[-28,-17],[-35,-69],[15,-52],[-9,-51],[-40,-44],[-28,-2],[1,-53],[14,-25],[-6,-40],[-20,-16],[-36,59],[-10,30],[-20,-20],[-5,-63],[1,-69],[-26,-27],[-3,-97],[-65,-7],[-21,24],[-2,-74],[8,-71],[-20,0],[-12,37],[-21,3],[-4,-39],[-32,-27],[-39,-92],[-15,-12],[-5,-44],[13,-11],[47,64],[4,-50],[-6,-53],[-15,-7],[0,-31],[18,-38],[-10,-38],[-18,-26],[-2,-49],[-26,-44],[-8,-32],[2,-42],[-32,14],[-31,-28],[-4,-70],[-12,-12],[-19,75],[-8,-53],[-27,-42],[-11,-53],[-24,-6],[5,-50],[-17,-27],[-25,43],[-24,67],[-22,-16],[0,-51],[11,-5],[1,-36],[-29,-10],[-13,-67],[6,-32],[18,-6],[5,-52],[-36,-4],[-24,-15],[-17,77],[-51,-38],[-18,-51],[-16,-3],[-9,-49],[19,-1],[27,25],[20,-17],[6,-54],[-16,-47],[-43,44],[-23,11],[-5,-70],[-33,6],[-23,21],[-20,-33],[-27,-88],[2,-44],[47,-20],[32,-36],[-3,-29],[-32,-42],[1,-23],[18,-4],[25,31],[16,-7],[-55,-78],[-23,-63],[1,-52],[-13,50],[-10,-17],[16,-66],[-6,-50],[-7,39],[-10,-2],[-2,-53],[-25,80],[0,95],[-19,-60],[8,-73],[-4,-67],[-24,-6],[3,58],[-35,1],[-16,-80],[-25,-9],[-75,-43],[-29,-22],[-7,-22],[-3,-74],[-17,46],[5,80],[-23,-19],[10,-30],[1,-104],[-16,-71],[6,-46],[-24,-81],[-32,-30],[2,52],[24,4],[-1,40],[-10,4],[2,111],[18,72],[-29,39],[-28,12],[-13,-18],[3,-45],[-12,-21],[-13,22],[-25,-13],[-9,-82],[-35,-74],[-26,-20],[-37,28],[-6,-29],[11,-44],[-20,-81],[1,-31],[-21,-37],[-12,105],[-10,13],[-14,-37],[-11,14],[-18,-31],[31,-13],[-2,-68],[-32,-10],[-16,25],[5,39],[-13,24],[-22,-22],[-19,-90],[-61,-85],[-26,2],[-11,29],[-26,-29],[-13,4],[10,156],[29,96],[1,46],[-15,16],[-31,-2],[-24,-29],[-24,-101],[4,-129],[-40,-140],[-7,-12],[-14,-85],[-21,36],[-19,-12],[13,-65],[10,-17],[1,-56],[-25,-38],[-19,33],[0,45],[-16,15],[-13,-60],[10,-49],[-17,-47],[-14,27],[-32,-8],[-16,18],[-14,74],[32,6],[-21,47],[-8,104],[-21,56],[-11,7],[-16,-33],[-10,-65],[7,-27],[14,0],[18,-70],[-11,-46],[14,-95],[0,-52],[-22,30],[-20,-19],[3,-26],[-17,-30],[-18,-7],[-22,28],[-16,59],[4,36],[-13,56],[-21,37],[-31,-25],[-10,-56],[49,-85],[4,-31],[-50,-111],[-24,-21],[-20,-33],[16,-56],[27,2],[9,24],[22,-50],[13,-83],[-26,6],[8,34],[-17,6],[-10,-28],[-16,22],[-17,62],[-25,-39],[2,-69],[-18,-1],[-28,-50],[-23,18],[-37,10],[-45,-5],[-34,-14],[-41,-40],[-29,-71],[-4,-69],[-29,-53],[-51,-33],[-29,3],[-28,28],[-9,30],[-9,74],[-10,30],[-1,55],[8,29],[44,41],[14,25],[23,110],[19,110],[-1,29],[22,54],[14,13],[25,-46],[38,39],[25,49],[25,0],[37,81],[34,20],[36,-14],[31,5],[1,-37],[28,-72],[9,-61],[-5,-50],[27,24],[-8,52],[2,37],[30,-30],[-15,42],[2,77],[-10,109],[32,46],[26,21],[42,-15],[21,14],[10,69],[-16,4],[4,28],[18,10],[7,38],[18,-4],[26,99],[3,-32],[15,-20],[21,48],[-5,83],[-20,-9],[27,68],[64,206],[33,52],[23,62],[19,13],[27,42],[25,68],[27,14],[35,39],[37,20],[89,70],[30,-9],[10,18],[45,5],[10,-10],[-20,-27],[-1,-47],[14,-2],[-3,-49],[-29,-18],[-3,-85],[38,-98],[11,22],[27,-39],[4,19],[-29,53],[-3,85],[-6,32],[26,-28],[57,3],[7,-86],[23,7],[26,-36],[7,22],[-14,40],[27,15],[-56,89],[-32,36],[1,58],[-16,-7],[39,166],[15,123],[11,56],[23,44],[36,96],[18,13],[40,74],[30,81],[82,96],[41,74],[35,39],[68,106],[17,42],[29,-68],[19,-14],[31,19],[8,59],[-13,47],[-2,46],[15,122],[29,108],[41,130],[24,62],[22,37],[40,41],[21,52],[22,87],[14,15],[26,62],[30,25],[8,-74],[18,-15],[4,41],[-10,105],[-23,-2],[-6,34],[2,95],[9,59],[25,409],[14,42],[38,16],[12,53],[-20,-9],[-34,77],[-3,62],[9,97],[20,106],[27,33],[29,101],[49,102],[4,57],[19,93],[-5,45],[13,33],[-3,43],[13,38],[-20,0],[-11,-32],[0,-38],[-21,-53],[-28,-31],[-38,-27],[-21,-31],[-29,-22],[-5,-21],[-41,-28],[-44,-61],[-79,-73],[-26,5],[-28,53],[-5,73],[-20,49],[-40,38],[2,46],[11,17],[9,167],[-12,-3],[-25,-101],[-41,-54],[-6,-58],[5,-58],[-8,-37],[-14,-12],[-3,-32],[9,-80],[16,-91],[19,-76],[-26,-87],[-28,-21],[-42,32],[-39,161],[-47,208],[-26,73],[-23,42],[-31,13],[16,65],[-16,44],[-25,-9],[-6,-87],[-15,7],[1,-65],[-29,-30],[-24,79],[3,26],[-19,19],[-11,-30],[-16,6],[-1,59],[-22,-18],[-25,61],[18,47],[-17,89],[-44,-52],[-46,-72],[-31,-62],[-20,-95],[-13,57],[-36,-33],[-94,-124],[-10,-41],[0,-49],[-41,-38],[-8,-26],[-22,-10],[-15,-44],[-20,-15],[-4,55],[-29,45],[-54,-20],[-29,33],[49,47],[15,-39],[18,12],[5,50],[25,77],[3,60],[-8,85],[1,81],[-16,74],[5,21],[-16,20],[-29,97],[-20,139],[29,128],[21,23],[24,79],[24,26],[-15,77],[-18,44],[-15,64],[-10,107],[-50,162],[-3,74],[-25,67],[-10,63],[-30,85],[-10,44],[-22,9],[-11,-37],[-2,-74],[6,-37],[-8,-56],[-12,-21],[-27,-10],[-18,21],[-19,-54],[-36,-29],[-50,-68],[-73,-48],[-88,-28],[-75,10],[-51,38],[-13,32],[-13,99],[23,18],[-18,69],[-54,62],[-32,108],[-5,34],[-33,51],[-18,62],[-42,8],[-31,42],[-47,110],[23,32],[24,55],[-2,36],[-24,6],[-38,-54],[-48,10],[-16,51],[11,32],[32,1],[57,128],[10,-4],[17,45],[-16,34],[-4,41],[32,24],[-27,7],[5,70],[27,78],[-17,3],[-18,-48],[-40,42],[-6,40],[22,49],[27,-6],[19,23],[0,45],[-17,-21],[-30,32],[-16,54],[2,23],[-20,7],[-13,35],[-10,-14],[-12,-99],[-14,-6],[-38,16],[-10,21],[-10,66],[1,129],[-11,19],[-43,10],[-18,37],[-10,98],[42,44],[6,38],[-17,46],[-30,31],[-45,-27],[0,-46],[-21,23],[-9,88],[8,147],[6,11],[-2,-107],[92,47],[0,19],[-35,20],[-20,28],[-24,82],[2,18],[36,19],[55,-8],[33,25],[-29,134],[-4,46],[3,84],[21,77],[101,278],[4,29],[27,77],[29,61],[5,70],[18,67],[21,34],[19,-4],[9,23],[-11,115],[26,188],[18,70],[38,61],[-18,24],[4,22],[58,133],[60,46],[48,11],[42,-45],[43,-11],[32,-84],[24,-6],[6,-26],[54,-88],[73,24],[61,124],[4,47],[44,29],[63,172],[23,89],[23,39],[-9,58],[14,5],[28,-28],[22,-5],[13,-77],[52,0],[45,20],[26,-20],[77,28],[48,38],[9,51],[56,128],[38,135],[0,71],[-12,81],[-23,95],[-17,121],[-1,118],[-5,52],[-71,157],[-9,32],[-41,28],[-27,1],[10,97],[27,33],[14,-25],[35,-20],[51,7],[-10,45],[31,10],[41,81],[2,114],[-42,122],[-47,68],[-25,48],[-1,-32],[-27,-48],[-20,-86],[-42,-30],[-42,42],[-59,-93],[-81,-34],[-18,-71],[-85,-103],[-21,-70],[-5,-99],[-44,-70],[-4,93],[-15,110],[-23,50],[-28,-3],[4,34],[-32,46],[-9,36],[-38,-60],[16,-45],[21,-7],[16,-39],[24,11],[2,-48],[-22,-81],[-19,-11],[-22,82],[-55,76],[-41,33],[-64,13],[-41,-27],[-27,12],[-52,3],[-45,-22],[-108,-112],[-58,-17],[-111,74],[-94,45],[-47,14],[-88,40],[-49,79],[-20,96],[1,74],[20,36],[-6,64],[-28,63],[-45,56],[-1,59],[-46,64],[-10,56],[39,-33],[33,3],[9,27],[24,15],[16,32],[-3,55],[35,61],[-38,63],[-19,9],[-29,-16],[-39,15],[-64,52],[-104,21],[-49,52],[-38,63],[-55,60],[-46,30],[-15,93]],[[2812,78476],[27,27],[-1,59],[18,0],[10,36],[0,57],[21,33],[5,57],[-10,16],[11,87],[46,106],[16,-26],[27,16],[28,-3],[-9,65],[-12,5],[9,77],[-6,26],[18,76],[40,67],[54,37],[29,-53],[31,1],[2,-23],[-21,-74],[5,-60],[-55,-95],[-65,-72],[-19,-66],[-1,-36],[-28,-81],[-15,-58],[-25,-10],[-28,-71],[-15,-17],[-4,-51],[-15,21],[-27,-49],[-54,-69],[13,45]],[[2752,78371],[29,49],[-1,-45],[-26,-25],[-2,21]],[[2615,78610],[4,50],[19,16],[4,-44],[-9,-45],[-12,-8],[-6,31]],[[2607,82847],[50,-13],[29,5],[10,-14],[-27,-68],[-23,4],[-9,46],[-20,10],[-10,30]],[[2611,78728],[8,-39],[-15,13],[7,26]],[[2547,78457],[17,17],[23,-3],[-2,19],[27,23],[19,-10],[10,-25],[-17,-105],[-30,50],[-25,-29],[-19,14],[-3,49]],[[2517,78521],[8,26],[23,-16],[1,-31],[-14,-31],[-13,16],[-5,36]],[[2497,78313],[4,72],[33,-18],[-7,-57],[-30,3]],[[2431,83489],[9,43],[22,15],[12,-10],[29,22],[-2,-56],[-32,-62],[-5,31],[-33,17]],[[2316,78170],[5,42],[40,72],[31,-27],[1,-27],[-13,-58],[-19,2],[-17,-26],[-15,-48],[-15,21],[2,49]],[[2228,78152],[9,-32],[-16,2],[7,30]],[[2183,78046],[17,42],[16,-37],[-12,-55],[-19,-1],[-2,51]],[[2036,90914],[2,37],[25,87],[-3,75],[8,18],[-5,57],[21,3],[8,-42],[-4,-48],[12,-34],[64,-57],[77,-48],[55,-20],[58,87],[58,58],[58,-14],[29,-69],[23,-15],[15,-104],[-2,-38],[53,-56],[56,-14],[22,-32],[9,-35],[36,-20],[88,-20],[14,6],[102,-55],[-27,-131],[-22,-43],[-51,35],[-43,-1],[-50,-29],[-44,-89],[-10,-61],[1,-53],[-20,-46],[-30,22],[3,24],[-26,119],[-32,62],[-50,60],[-39,-5],[-11,69],[-17,55],[-54,80],[-86,69],[-65,11],[-47,-44],[-18,-58],[-36,-34],[-28,33],[-49,36],[-24,83],[-7,56],[3,73]],[[1818,77819],[15,59],[33,49],[12,-2],[27,-39],[-1,-41],[-28,-51],[-32,-27],[-22,-1],[-4,53]],[[1695,87369],[6,69],[25,52],[11,-3],[-4,-58],[12,-54],[33,-70],[48,-63],[22,-14],[25,13],[57,-94],[-21,-19],[-9,37],[-51,8],[-26,-17],[-33,46],[-58,136],[-37,31]],[[1687,87598],[8,-5],[5,-84],[-20,42],[7,47]],[[1421,77626],[35,0],[33,-31],[9,30],[14,-2],[33,27],[25,-1],[-6,-28],[10,-29],[8,15],[31,-24],[23,16],[10,-11],[32,11],[5,-12],[41,-7],[-25,-23],[-16,6],[-14,-22],[-44,-1],[-22,-35],[-8,16],[-16,-19],[-19,4],[-18,25],[-52,3],[-9,-15],[-29,19],[-10,49],[-11,-1],[-10,40]],[[1064,77503],[55,37],[11,-28],[25,50],[3,-22],[19,38],[5,29],[18,-29],[27,8],[8,34],[6,-24],[35,37],[1,42],[44,10],[-13,41],[43,-5],[13,34],[-1,36],[-32,7],[-23,29],[5,26],[21,-16],[12,36],[-2,39],[38,46],[33,-32],[22,-76],[1,-31],[-21,-85],[-34,8],[-4,-43],[33,-79],[-3,-24],[-15,21],[-17,-10],[-4,-27],[-16,-4],[-20,23],[-19,-95],[-25,31],[-64,-55],[-13,29],[-29,12],[-23,-6],[-13,-35],[-22,-8],[-33,6],[-32,25]],[[1013,77451],[17,17],[7,-29],[-22,-4],[-2,16]],[[1005,77685],[16,-19],[-11,-12],[-5,31]],[[949,77433],[5,9],[40,-3],[1,-26],[-19,3],[-22,-24],[-5,41]],[[890,77452],[11,14],[28,-1],[15,-90],[-16,5],[-17,49],[-21,23]],[[821,77563],[14,45],[26,-9],[23,-80],[-20,-38],[15,-56],[-13,-34],[-18,-2],[-18,22],[3,57],[-7,2],[-8,77],[3,16]],[[811,77269],[5,56],[12,10],[10,-27],[19,10],[-12,22],[34,30],[10,-23],[-2,-55],[-23,0],[13,-52],[-29,29],[2,-40],[-12,12],[-5,-39],[-7,45],[-15,22]],[[601,77040],[11,67],[15,16],[7,36],[-13,66],[4,27],[32,7],[7,59],[-13,69],[10,45],[15,4],[18,-20],[19,59],[9,-14],[3,-74],[-20,-29],[-2,-50],[13,-20],[19,4],[31,26],[30,5],[7,-64],[-7,-88],[-15,-12],[-36,18],[-13,-52],[-18,-12],[-13,-41],[-23,31],[-6,-25],[6,-48],[-11,17],[-13,-26],[-4,55],[-14,29],[-19,-108],[-14,11],[-2,32]],[[469,77371],[13,9],[2,-26],[-14,-17],[-1,34]],[[402,77131],[18,33],[24,-17],[26,34],[50,39],[21,43],[2,128],[12,16],[16,-10],[15,-44],[-26,-98],[5,-86],[-7,-38],[-33,-31],[-36,61],[-27,-33],[-40,-10],[-1,-43],[-10,5],[-9,51]],[[257,77332],[8,29],[29,17],[39,-5],[11,-42],[-2,-30],[19,-32],[15,17],[18,-17],[33,34],[-10,-40],[-41,-32],[-12,-71],[4,-31],[-12,-31],[-8,16],[-9,-44],[8,-57],[-8,-5],[-9,56],[-14,-24],[-16,48],[-13,8],[4,28],[41,25],[-3,64],[-20,1],[-13,34],[-39,66],[0,18]],[[130,77016],[32,-12],[-3,-18],[-27,7],[-2,23]],[[81,76979],[27,-17],[7,-23],[-25,5],[-9,35]],[[77,77233],[14,52],[20,-35],[0,-61],[-19,-10],[-15,54]],[[43,76751],[8,25],[10,-22],[5,-50],[-12,-2],[-10,-32],[-1,81]],[[3,76640],[12,18],[6,-59],[-18,-25],[0,66]],[[99917,77451],[12,-2],[12,35],[26,14],[31,-61],[-9,-68],[-24,-42],[-12,-5],[-25,29],[-11,29],[0,71]],[[99678,77049],[5,24],[26,-29],[19,3],[27,-24],[4,-31],[24,-42],[27,-78],[25,-26],[11,-57],[44,-11],[21,-33],[-18,-19],[-9,14],[-29,-16],[-15,41],[-41,72],[-30,101],[-30,43],[-17,-8],[-22,25],[-22,51]],[[99628,77446],[9,11],[20,-16],[11,-33],[-14,-49],[-10,-4],[-16,91]],[[99570,77271],[19,-7],[21,-67],[-22,15],[-18,59]],[[99530,77510],[7,22],[17,-22],[3,-34],[-17,-20],[-10,54]],[[99282,77351],[24,27],[15,50],[39,26],[6,63],[16,96],[11,18],[20,-52],[-12,-32],[-8,-57],[-20,-53],[21,-18],[0,-35],[-13,-10],[-42,17],[-17,-31],[-4,-70],[-11,2],[-25,40],[0,19]],[[98911,77903],[26,-13],[-18,-27],[-8,40]],[[98408,78327],[22,-8],[3,-26],[-24,15],[-1,19]],[[98376,78346],[14,-8],[0,-29],[-14,37]],[[98352,78374],[20,-27],[-12,-2],[-8,29]],[[98210,77943],[6,31],[19,27],[23,-6],[26,67],[41,5],[-17,-40],[-5,-37],[10,-104],[-21,0],[-17,52],[-35,-19],[-30,24]],[[97960,78551],[47,86],[33,11],[100,-20],[29,-63],[24,-15],[35,-94],[2,-18],[-35,-8],[-21,38],[-17,-71],[-9,-13],[-38,15],[-26,-41],[-27,32],[-12,40],[-3,63],[-32,56],[-35,-24],[-15,26]],[[13347,81071],[9,23],[10,-28],[-5,-52],[-16,34],[2,23]],[[13279,80906],[61,56],[7,-80],[13,-14],[-20,-68],[-24,-1],[-33,63],[-4,44]],[[13241,80901],[26,65],[8,-25],[-26,-58],[-8,18]],[[13234,81005],[16,62],[-2,43],[13,20],[-14,43],[-2,70],[5,39],[11,9],[19,-32],[5,-35],[13,-7],[17,-40],[0,-165],[-9,-34],[-27,-2],[-13,32],[-23,-36],[-9,33]],[[13172,81388],[4,66],[6,1],[52,-135],[-12,-28],[-1,-68],[-15,-111],[-23,74],[-9,113],[-2,88]],[[12999,82714],[4,48],[9,-30],[-13,-18]],[[12979,82569],[2,29],[21,40],[21,-38],[-1,-22],[-24,-37],[-19,28]],[[12954,82690],[20,33],[17,52],[-5,-50],[-18,-75],[-14,40]],[[12888,80934],[18,6],[-4,-53],[-14,47]],[[12850,82395],[7,53],[10,-24],[22,-97],[10,-68],[-13,-15],[-21,61],[-9,4],[-6,86]],[[12838,82543],[18,86],[21,30],[30,-20],[24,22],[28,-42],[4,-36],[-18,-53],[6,-82],[-16,-19],[-44,-22],[-23,65],[-24,29],[-6,42]],[[12768,81460],[21,27],[-2,-46],[-16,-11],[-3,30]],[[12700,80811],[9,0],[10,-128],[-15,29],[-4,99]],[[12674,81692],[9,23],[1,61],[20,-30],[1,-32],[-22,-72],[-9,50]],[[12659,81749],[12,9],[-1,-36],[-11,27]],[[12637,81497],[8,92],[8,25],[32,-9],[10,-16],[-2,-35],[-16,-42],[8,-16],[20,40],[5,43],[13,-19],[19,68],[19,-2],[16,-39],[-5,-60],[-15,-35],[-19,15],[-13,-35],[17,-22],[-2,-37],[-22,-21],[-22,-50],[-9,-97],[-23,78],[17,61],[-1,78],[-29,51],[-14,-16]],[[12629,82086],[11,22],[24,102],[28,10],[11,20],[-22,13],[-1,47],[15,-22],[9,34],[-36,62],[14,29],[-10,86],[23,49],[45,-24],[71,-17],[24,-82],[11,-73],[-5,-69],[14,-6],[13,-68],[17,-48],[17,5],[57,-119],[12,-52],[33,-111],[3,-126],[29,-29],[8,-82],[8,-32],[31,-50],[13,-58],[-10,-6],[-19,46],[-75,98],[-3,-31],[-23,-74],[11,-8],[14,47],[8,-19],[23,10],[5,-37],[20,-13],[10,-29],[-38,-14],[8,-36],[32,21],[14,-52],[16,-14],[11,-87],[8,-9],[-12,-49],[-20,9],[2,-32],[22,-22],[11,8],[3,46],[14,36],[9,-21],[5,-91],[-15,-34],[4,-36],[-22,-94],[-29,-40],[18,-23],[27,59],[15,-10],[0,-203],[7,-72],[-20,-105],[-37,-9],[-26,48],[-14,-19],[-17,38],[-1,37],[-38,-2],[17,53],[27,-10],[1,39],[-19,42],[-19,13],[-35,78],[9,38],[10,115],[-15,9],[-11,-58],[7,101],[8,28],[-11,39],[-5,-55],[-27,-21],[14,-103],[-18,-58],[-47,56],[-4,35],[17,58],[-18,100],[-20,-5],[-10,50],[-21,3],[12,-78],[18,-65],[6,-72],[-7,-36],[15,-17],[20,-145],[24,-26],[-4,58],[24,18],[28,-65],[4,-124],[-14,-16],[-18,74],[-7,-7],[23,-170],[-29,0],[-26,32],[-2,60],[-20,40],[-49,177],[-10,22],[-2,84],[-12,10],[-8,61],[29,8],[-27,33],[3,119],[-33,-28],[-10,26],[-18,-19],[-9,42],[6,84],[33,30],[11,-63],[17,20],[-13,29],[6,39],[14,20],[14,-14],[22,44],[-29,96],[14,12],[-16,32],[4,66],[-24,-21],[-49,87],[-4,28],[16,-1],[-9,50],[3,35],[-27,18],[6,-57],[-10,-13],[-32,39],[-16,58],[12,52],[28,14],[37,-54],[28,35],[-17,67],[-18,16],[-12,-20],[-9,17],[8,30],[-2,42],[7,63],[-5,16],[-13,-47],[-27,-65],[-22,-33],[-23,38],[-5,45]],[[12611,83642],[15,25],[14,-33],[-27,-31],[-2,39]],[[12594,82026],[14,28],[11,-6],[4,-52],[-8,-48],[-10,3],[-11,75]],[[12476,82024],[28,22],[1,-43],[31,33],[8,75],[7,-2],[-9,-101],[-22,-24],[-20,-56],[-18,17],[8,30],[-14,49]],[[12463,83115],[17,52],[16,17],[7,33],[33,-1],[1,26],[28,-40],[11,-83],[18,-54],[31,-2],[9,-21],[10,26],[-29,44],[-13,80],[-2,55],[-35,79],[11,53],[34,26],[51,-37],[25,-9],[47,-44],[31,-20],[7,14],[57,-11],[30,-74],[14,-82],[3,-56],[9,-23],[23,-11],[16,-48],[5,-46],[33,-52],[9,-64],[15,-34],[-31,-38],[-20,-42],[-26,-24],[-16,16],[-31,4],[-43,24],[5,-48],[-23,-51],[-40,25],[-19,29],[-12,-47],[-15,-20],[-25,-2],[-17,15],[-3,87],[-11,32],[-30,-64],[13,-29],[-2,-90],[-23,-3],[-2,-31],[10,-51],[-11,-51],[-2,-62],[-17,-50],[4,-39],[-9,-64],[-10,-11],[-25,15],[-14,-103],[-15,19],[-12,52],[-7,63],[-1,109],[-10,87],[2,75],[14,48],[-3,57],[15,101],[-12,28],[-22,-1],[5,77],[-20,56],[-8,75],[2,43],[-5,91]],[[12311,84926],[43,-96],[7,-47],[14,-9],[8,-130],[19,1],[21,38],[11,-23],[20,-2],[21,-29],[54,13],[-3,-89],[25,-75],[2,-52],[21,-52],[14,-87],[17,-55],[2,-142],[21,-60],[4,-65],[-9,-2],[-5,47],[-38,120],[-10,115],[-19,37],[-9,53],[-21,0],[26,-101],[4,-34],[-13,-23],[35,-121],[23,-49],[-2,-62],[24,-113],[-19,6],[15,-102],[0,-27],[-25,-62],[-20,26],[-17,-1],[4,-34],[-21,-104],[-38,-83],[-24,-25],[-2,-33],[-31,-65],[-29,3],[-9,89],[-4,135],[21,80],[15,23],[-16,31],[-1,69],[14,6],[12,-39],[6,23],[-40,141],[-1,58],[-18,60],[-5,82],[-11,43],[8,125],[-12,81],[-3,95],[-11,91],[4,44],[-20,93],[-17,45],[-9,77],[-6,101],[3,42]],[[12292,85061],[35,-45],[27,-125],[-10,-5],[-22,115],[-23,19],[-7,41]],[[12202,85643],[15,-71],[0,-46],[-10,29],[-5,88]],[[12106,83714],[16,11],[1,26],[28,65],[-4,68],[36,64],[18,-12],[25,-85],[15,10],[18,-58],[23,-24],[38,4],[22,-14],[12,-79],[-2,-49],[-20,35],[-19,-2],[-1,-22],[21,-25],[11,-46],[29,-278],[-1,-71],[12,-56],[0,-58],[18,-142],[5,-107],[-5,-112],[-11,1],[8,-81],[3,-240],[-9,-111],[-11,6],[-28,70],[-10,86],[-21,59],[-40,212],[4,48],[22,23],[-18,30],[-26,-31],[-14,88],[-11,-15],[-17,42],[-12,55],[2,34],[-14,-22],[-10,24],[-30,2],[-19,96],[19,3],[10,-29],[10,13],[-3,105],[19,53],[6,38],[-39,86],[24,63],[-4,22],[14,35],[4,53],[-33,16],[-21,-28],[-14,79],[-26,72]],[[12097,84881],[16,18],[19,-7],[16,-52],[-29,-6],[-22,47]],[[12062,83572],[4,48],[-3,66],[25,9],[34,-62],[15,-74],[12,-19],[17,30],[23,-10],[-16,-82],[-24,-14],[-27,-161],[-12,6],[-40,-30],[-9,8],[3,102],[25,47],[1,50],[-22,4],[2,29],[-13,31],[5,22]],[[11978,85151],[9,14],[7,-59],[-16,45]],[[11978,84786],[30,41],[3,-53],[-16,-19],[-17,31]],[[11861,84371],[5,174],[16,33],[8,-9],[29,60],[3,51],[-12,92],[32,-2],[0,-54],[12,-60],[28,61],[29,-6],[17,-20],[17,49],[36,50],[14,-55],[41,-30],[25,-53],[-12,-78],[-31,-76],[4,-49],[12,-5],[8,60],[32,108],[15,12],[34,-55],[46,-10],[11,-32],[29,-16],[15,-79],[-4,-67],[-22,-44],[-37,49],[-10,-8],[12,-40],[18,-18],[33,-75],[-21,-29],[-25,-2],[4,-28],[21,-13],[23,24],[7,-95],[14,-69],[12,-143],[-14,-42],[-42,-11],[-17,12],[-44,95],[-65,99],[-27,50],[-22,-26],[-9,29],[-4,-32],[30,-55],[22,-8],[-21,-31],[6,-25],[0,-72],[-9,-50],[-31,-87],[-51,47],[-1,38],[-42,85],[-20,90],[-12,-38],[-19,43],[-10,79],[4,25],[-18,86],[2,24],[-16,57],[-26,30],[-7,49],[-25,36]],[[9331,87212],[28,-14],[12,-44],[-27,-9],[-13,67]],[[9232,87245],[16,14],[58,-26],[-3,-31],[-21,-10],[-50,53]],[[8867,87809],[26,35],[27,3],[15,-16],[-18,-53],[-50,31]],[[8817,87545],[4,86],[28,16],[21,-89],[-11,-44],[-37,-10],[-5,41]],[[8816,87079],[2,14],[43,47],[1,-36],[-40,-59],[-6,34]],[[8698,86532],[8,21],[3,71],[23,12],[-3,42],[21,54],[16,7],[-3,41],[30,34],[9,30],[43,75],[22,118],[27,44],[-3,40],[10,71],[27,34],[4,-43],[24,2],[-17,-51],[9,-17],[24,28],[8,-22],[-11,-37],[-62,-118],[-49,-129],[-8,-80],[-33,-60],[30,-57],[-19,-42],[-23,-8],[-22,15],[-17,-57],[-9,6],[-45,-47],[-14,23]],[[8692,87068],[44,270],[11,-41],[12,13],[-4,66],[44,84],[0,-54],[-12,-32],[-3,-82],[-20,-37],[20,-42],[-24,-97],[2,-46],[-17,-104],[-24,45],[-3,25],[-25,7],[-1,25]],[[8672,87628],[15,31],[17,-19],[17,-48],[-24,-45],[-25,81]],[[17950,55027],[5,31],[24,-13],[25,26],[-2,40],[18,63],[1,79],[-15,136],[-16,8],[-7,-13],[-13,25],[-3,-17],[-14,68],[7,67],[2,142],[-15,41],[9,65],[-8,51],[19,9],[28,138],[9,24],[-4,46],[4,110],[8,12],[-2,74],[-7,64],[1,51],[6,6],[-2,55],[-7,20],[28,116],[0,69],[8,28],[23,29],[10,40],[17,21],[1,19],[25,65],[-1,49],[-11,54],[-14,19],[-31,100],[-13,7],[2,58],[-26,239],[-23,63],[-7,69],[-16,57],[1,147]],[[17974,57684],[6,95],[-10,22],[21,43],[0,72],[-9,178],[-6,65],[-11,47],[-4,58],[6,36],[0,103],[-9,38],[3,39],[-7,31],[3,51],[-5,59],[4,56],[9,24],[-10,31],[-12,97],[4,43],[-7,80],[25,31],[9,29],[5,-14],[12,25],[17,-1],[2,-25],[24,19],[13,-3],[18,-71],[-2,-28],[21,-51],[24,11],[24,183],[5,15],[1,230],[-2,272],[0,437]],[[18136,60011],[200,0],[222,0],[313,1],[97,1],[160,2],[6,-7],[235,0],[162,1]],[[19531,60009],[0,-1691],[-1,-237],[1,-30],[0,-925],[-1,-608],[1,-145],[-1,-113],[0,-2847]],[[19530,53413],[-64,2],[-201,-1],[-128,-1],[-172,0],[-359,476],[-212,269],[-102,136],[-368,471],[5,66],[-5,17],[1,60],[8,16],[17,103]],[[19530,64667],[242,0],[154,2],[327,0],[66,-5],[137,-1],[242,1],[7,2],[217,2]],[[20922,64668],[282,1],[135,0],[140,0],[0,-1163]],[[21479,63506],[1,-381],[0,-434],[1,-193],[0,-1270],[1,-137],[0,-1089]],[[21482,60002],[-183,3],[-22,5],[-62,1]],[[21215,60011],[-204,-3],[-169,-5],[-184,0],[-34,2],[-301,-1],[-186,-2],[-2,9],[-152,-1],[-230,-1],[-222,0]],[[19531,60009],[0,583],[1,36],[0,738],[-5,129],[0,517],[2,216],[0,1857],[1,46],[0,536]],[[27414,45876],[14,60],[5,-33],[-14,-44],[-5,17]],[[27386,45813],[9,39],[11,4],[-5,-33],[-15,-10]],[[27310,45701],[52,90],[6,-30],[-45,-80],[-13,20]],[[27118,45540],[19,106],[20,46],[25,43],[3,23],[36,66],[38,-67],[4,-52],[14,-43],[-4,-11],[-40,-48],[-3,27],[-27,-5],[-3,-24],[-46,-73],[-36,-15],[0,27]],[[27062,45510],[39,24],[-10,-43],[-17,-14],[-13,8],[1,25]],[[27020,45533],[6,35],[12,-10],[-5,-41],[-13,16]],[[26992,48019],[5,-18],[19,-211],[8,-28],[17,-26],[7,17],[14,-21],[-14,-31],[-9,-1],[-21,50],[-7,28],[-13,115],[-6,76],[0,50]],[[26806,45614],[15,13],[4,-23],[-20,-10],[1,20]],[[26322,51623],[29,47],[0,-29],[-16,-37],[-11,-6],[-2,25]],[[26229,53027],[6,-79],[11,-52],[2,-83],[6,-75],[14,-48],[136,-25],[261,-56],[206,-51],[135,-34],[-5,-14],[2,-57],[7,-26],[-3,-71],[11,-76],[37,13],[0,75],[6,47],[3,119],[-12,91],[4,60],[-1,49],[8,16],[-4,24],[12,-8],[9,59],[15,-7],[7,-33],[17,-3],[18,-28],[7,-25],[33,-19],[17,-18],[14,15],[13,-19]],[[27221,52688],[4,-13],[-4,-113],[3,-92],[-4,-22],[10,-25],[4,-95],[1,-113],[23,-389],[13,-129],[0,-51],[28,-302],[32,-288],[29,-229],[65,-412],[38,-200],[4,-63],[10,-83],[-18,-57],[-4,-54],[-1,-87],[5,-130],[6,-96],[16,-145],[35,-269],[15,-166],[5,-84],[5,-29],[11,-140],[17,-152],[9,-66],[6,-94],[13,-109],[17,-258],[-1,-235],[-7,-175],[-5,-210],[-3,-37],[-8,-286],[0,-169],[-3,-80],[-7,-81],[0,-44],[-6,23],[3,51],[-5,20],[-16,-25],[-10,-102],[-6,-17],[-1,-64],[-8,-40],[-2,-78],[5,-33],[-2,-46],[6,-16],[-8,-53],[-8,-13],[-1,-49],[21,39],[25,194],[7,41],[0,-41],[-8,-83],[-34,-222],[-9,-82],[-25,-93],[-34,-139],[-24,-66],[-3,12],[34,122],[14,40],[7,53],[3,81],[5,32],[-6,23],[-9,-11],[-7,26],[-6,-18],[-34,-22],[-14,-41],[-9,-6],[-18,45],[-18,-13],[-7,-41],[-27,-18],[-23,-6],[-17,52],[-8,68],[2,79],[6,60],[6,-3],[-2,49],[-12,97],[-11,47],[2,34],[-8,62],[-11,32],[-5,85],[-6,18],[-11,-15],[-9,101],[-24,31],[-1,16],[-21,38],[-21,55],[-11,-13],[-8,-39],[-16,126],[-15,148],[-5,173],[-7,109],[-7,57],[-28,113],[-11,9],[-1,52],[-12,23],[0,-64],[-14,-11],[-1,66],[-8,113],[-12,51],[3,24],[13,-3],[9,-39],[11,159],[-2,86],[-8,14],[0,40],[8,10],[-4,31],[-12,-4],[-5,-33],[-11,-11],[8,-148],[-9,-20],[-20,-11],[-5,-50],[0,75],[-6,50],[-17,94],[-26,177],[-9,94],[-19,140],[-27,149],[-14,56],[-4,58],[-10,61],[10,-19],[1,-30],[15,30],[10,72],[12,28],[13,98],[13,34],[-2,23],[14,26],[11,84],[-5,75],[-22,21],[5,-113],[-22,30],[6,34],[-1,65],[-5,39],[-38,71],[1,-65],[-11,-28],[11,-37],[16,-6],[11,-110],[-10,-42],[0,-62],[-4,-27],[-21,-6],[-3,-32],[7,-38],[-9,-30],[-4,40],[2,83],[-14,85],[-9,26],[-8,58],[6,182],[-5,66],[-4,164],[9,1],[0,-93],[4,-89],[9,-7],[-4,153],[9,37],[1,41],[8,44],[0,38],[7,50],[0,39],[9,47],[1,91],[5,83],[-6,66],[2,56],[-13,29],[4,42],[-9,109],[12,64],[-21,110],[3,31],[-8,55],[-10,3],[5,33],[-1,49],[-7,13],[-47,23],[-9,-51],[-7,-4],[-9,100],[3,45],[-14,32],[-12,9],[-2,63],[-7,58],[-11,45],[-15,6],[-5,44],[-24,48],[0,111],[-4,67],[-12,7],[-10,38],[-13,17],[-13,61],[0,42],[-9,35],[-5,51],[-14,44],[-28,62],[-40,72],[-26,75],[-11,-2],[-26,-33],[-31,29],[-1,-35],[-26,-69],[9,-99],[-3,-28],[-10,-7],[-15,15],[-5,26],[-24,-22],[-31,-73],[-65,-132],[-6,2],[7,44],[-10,12],[-7,-39],[-15,-41],[-36,1],[13,-49],[2,-38],[16,-22],[30,53],[29,40],[27,84],[3,-13],[-24,-82],[-28,-43],[-35,-66],[-12,-14],[-10,33],[-16,22],[-23,51],[-19,7],[-17,-28],[-13,94],[-5,119],[8,42],[0,-105],[6,-91],[7,-22],[10,39],[1,97],[-17,105],[-18,60],[-17,13],[-15,40],[-16,71],[-27,47],[-22,69],[-41,95],[-47,76],[-58,70],[-31,20],[-62,18],[-33,-5],[-47,-25],[-65,-49],[-32,-15],[-7,10],[-63,-51]],[[26061,57664],[39,-2],[136,6],[183,1]],[[26419,57669],[196,-2],[-1,6],[143,10]],[[26757,57683],[-3,-72],[-31,-68],[-26,-105],[1,-36],[-8,-26],[3,-64],[30,-82],[17,-7],[23,-104],[23,-51],[28,16],[8,-12],[8,-64],[3,-64],[12,-30],[3,-50],[11,-52],[0,-51],[7,-68],[12,-24],[8,-67],[14,-48],[11,-101],[9,-1],[19,-72],[29,-52],[29,-98],[4,-61],[9,-41],[1,-40],[13,-38],[12,-2],[17,-37],[18,-93],[15,-26],[4,-24],[-7,-43],[4,-39],[-4,-32],[28,-82],[-4,-30],[13,-42],[11,5],[-2,-41],[8,-45],[27,-55],[9,1],[16,-58],[19,-43],[-5,-67],[12,-64],[2,-49],[9,-15],[0,-85],[4,-32],[-5,-45],[6,-8],[4,-48],[-5,-41],[12,-48],[25,-26],[0,-23],[23,-81],[-4,-34],[15,-105],[4,4],[6,-76],[-10,-44],[11,-67],[-4,-26],[5,-62],[21,-34],[11,17],[22,-71],[9,-4]],[[27376,54230],[12,-12],[-5,-64],[-14,-29],[-10,15],[-6,-48],[10,-8],[-16,-60],[-21,23],[-3,-56],[11,-11],[-9,-59],[-17,-54],[-17,13],[-3,-16],[12,-33],[8,5],[-1,-84],[-7,-62],[-28,-26],[0,-22],[17,10],[6,-24],[-23,-131],[-6,-91],[7,-13],[-5,-30],[-5,-97],[-13,-22],[-8,-59],[-9,-3],[0,-71],[-7,-69],[-7,2],[-12,-44],[13,-24],[11,24],[1,-81],[-16,-161],[5,-70]],[[25527,65491],[15,-41],[12,20],[7,-15],[-6,-40],[27,-23],[29,1],[28,25],[52,75],[31,59]],[[25722,65552],[90,-1],[198,-1],[187,1],[87,1],[0,-75]],[[26284,65477],[1,-242],[0,-1380],[-3,-437],[0,-441],[-2,-278],[0,-238]],[[26280,62461],[-19,-45],[-2,-20],[16,-71],[2,-31],[-11,-38],[3,-37],[17,-7],[4,-25],[-13,-46],[6,-44],[-22,3],[-16,-23],[-9,5],[-35,-63],[-14,-39],[-19,10],[-10,43],[-26,-7],[-16,7],[-12,-33],[4,-125],[6,-71],[-16,-40],[-7,-44],[-30,-34],[-19,-161],[-19,-39],[-14,24],[-10,-13],[-6,-63],[-16,-72],[1,-87],[-5,-70],[-8,-24],[-23,-18],[-4,-36],[-13,58],[-22,1],[-26,55],[-1,94],[-21,67],[-8,-2],[1,-34],[13,-12],[-1,-25],[-13,-2],[-8,-29],[-8,23],[-9,-29],[9,-17],[-6,-42],[-18,-9],[-2,-94],[5,-38],[-23,-9],[-2,-63],[-11,-29],[-7,24],[5,51],[-10,10],[-10,-25],[-10,22],[-12,89],[-17,-2],[-14,-52],[-29,-27],[-10,-30],[-5,-97],[-7,-27],[-11,-3],[-8,62],[-18,13],[-22,57],[-22,44],[-20,6],[-14,-37],[-14,19],[-6,49],[-8,6],[-7,-66],[11,-64],[-13,-40],[-11,3],[3,56],[-5,30],[-42,-31],[-11,52],[-9,4],[-10,-40],[10,-91],[-12,-47],[-23,32]],[[25386,60941],[-11,2],[-4,34],[12,-9],[-16,92],[24,-8],[-15,29],[15,67],[1,60],[-8,26],[19,19],[2,38],[-12,-19],[22,73],[-14,60],[-4,59],[9,-10],[9,68],[5,-35],[7,41],[8,-33],[13,102],[8,9],[13,84],[-2,38],[24,42],[0,66],[9,83],[7,32],[14,12],[14,76],[-1,42],[-15,94],[11,111],[-18,40],[1,79],[-16,55],[-3,73],[19,60],[-9,50],[2,60],[6,32],[13,9],[0,347],[-1,0],[0,397],[1,12],[0,294],[1,247],[0,1196],[1,254]],[[21479,63506],[257,-1],[104,0],[263,-1],[273,1],[163,0],[279,-1],[263,-1],[144,0],[133,0]],[[23358,63503],[16,-60],[13,-11],[1,-43],[13,6],[5,-36],[26,-14],[8,41],[24,-13],[-4,-28],[7,-33],[11,-11],[-4,-42],[-9,-1],[3,-36],[12,16],[-1,-49],[-10,-6],[-13,24],[-5,-75],[-15,-19],[-7,-41],[2,-41],[-17,-24],[1,-48],[15,-41],[1,-29],[16,-31],[12,-61],[14,0],[5,-21],[-9,-25],[6,-79],[18,-52],[-3,-28],[15,-13],[5,-31],[14,-11],[9,16],[5,-31],[20,-3],[-5,-41],[0,-444],[-1,-120],[0,-696],[-1,-52],[0,-779],[-1,-97],[0,-281]],[[23550,60009],[-249,1],[-196,-1],[-169,0],[-218,0],[-208,-1],[-258,2],[-103,0],[-154,3],[-149,-4],[-209,-4],[-155,-3]],[[30863,68384],[14,7],[-7,-35],[-7,28]],[[30827,68345],[7,83],[6,-34],[19,-55],[-15,-45],[-5,34],[-12,17]],[[30819,68560],[3,42],[11,-71],[-14,29]],[[30732,68434],[14,2],[3,-41],[-17,39]],[[30712,67988],[8,37],[1,-75],[-9,38]],[[30703,68290],[8,41],[25,45],[11,-50],[-9,-8],[14,-78],[-11,-39],[-18,-13],[-12,24],[5,25],[-3,50],[-10,3]],[[30697,68452],[13,68],[2,64],[9,25],[6,-26],[-9,-35],[1,-36],[-8,-70],[-10,-29],[-4,39]],[[30213,67064],[-35,81],[0,69],[6,42],[-41,128],[-9,53],[8,101],[-4,10],[6,88],[-6,23],[-5,313],[0,89],[-11,861],[-15,757]],[[30107,69679],[21,15],[0,33],[25,-41],[-1,-38],[7,-43],[11,-15],[13,85],[2,86],[-6,28],[12,36],[8,-3],[12,-44],[21,-9],[1,39],[-24,83],[-1,32],[22,107],[14,27],[11,43],[8,-1],[15,41],[24,38],[-9,71],[21,66],[23,45],[5,56],[-7,28],[-14,0],[0,66],[10,38],[-8,14],[15,51],[5,46],[-15,44],[16,115],[8,18],[-1,37],[17,32],[14,59],[11,8],[17,324],[215,890],[13,-3],[27,-38],[11,4],[-3,-58],[1,-141],[4,-18],[37,-73],[25,43],[26,30],[28,2],[11,52],[30,11],[25,-12],[0,62],[16,23],[25,-6],[23,-36],[4,-32],[33,-68],[36,-132],[0,-15],[28,-51],[0,-545],[3,-693],[-1,-71],[9,-30],[-15,-39],[14,-70],[-15,-34],[1,-136],[23,-18],[3,20],[10,-57],[19,-28],[30,-23],[14,19],[8,-62],[1,-56],[-13,8],[-11,-22],[7,-68],[16,-63],[-9,-73],[-10,-41],[23,-116],[0,-23],[18,-40],[13,28],[1,46],[18,-30],[19,-3],[13,-56],[6,-51],[-8,-14],[10,-32],[12,-98],[15,-38],[1,-118],[-12,-50],[-10,2],[-4,-32],[-32,-113],[-24,-25],[4,-22],[-15,-8],[6,42],[-4,85],[-27,-30],[12,-58],[-12,-43],[-11,13],[-13,-58],[-13,18],[-10,-12],[2,-35],[16,-40],[-22,-57],[-13,46],[-6,57],[-13,-10],[-3,-38],[-8,3],[-7,59],[-7,-62],[-9,-14],[-8,-74],[-7,19],[-6,-48],[-4,42],[-20,-51],[-5,27],[-12,-92],[-16,39],[0,36],[-10,-21],[-11,9],[2,-66],[-16,-71],[11,-33],[-35,-16],[-23,32],[-16,107],[6,29],[22,27],[-9,45],[-13,-35],[2,44],[-10,-3],[1,-68],[-5,0],[0,64],[-24,-56],[5,-35],[-6,-43],[14,-67],[-3,-45],[-23,-77],[9,-11],[-12,-31],[11,-56],[-5,-69],[-16,-10],[-3,85],[6,4],[-3,55],[-17,45],[-4,64],[15,51],[-19,40],[6,26],[-10,10],[-18,-21],[1,113],[11,44],[1,50],[-7,14],[-7,-46],[-14,-40],[-11,33],[-7,-32],[-15,-4],[14,-81],[-3,-48],[-12,-23],[-10,-71],[-4,-72],[-13,-78],[19,-30],[-13,-28],[10,-57],[-10,-38],[-27,4],[-13,-72],[-15,-1],[-2,-58],[-11,-9],[0,52],[7,37],[-9,15],[-3,-30],[-12,-13],[5,65],[-18,-9],[1,-52],[-16,-37],[-5,-50],[-12,51],[-2,-47],[-15,-32],[-12,26],[-3,-66],[-13,51],[-13,-92],[-23,-27],[-5,-19],[-5,83],[-16,5],[-15,-42],[-5,-39],[-20,4],[-7,-49],[-20,4],[-10,-49],[-3,-50],[5,-29],[-8,-32],[-13,29],[-22,-31],[-9,-46],[6,-67],[-8,-43],[-10,-15],[3,-33],[-14,-24],[-14,4],[-10,-25],[-11,-98],[5,-19],[-14,-80],[1,-22],[-14,-74],[-9,-13]],[[30332,65028],[13,-24],[29,5],[18,17],[12,70],[16,-105],[-1,-30],[-10,-16],[-33,4],[-41,60],[-3,19]],[[30177,65078],[18,0],[19,90],[27,60],[11,-15],[7,-70],[15,-27],[10,40],[-1,-84],[-41,1],[-31,-9],[-18,-47],[-16,61]],[[29500,66699],[224,-22]],[[29724,66677],[199,-23],[126,-12],[10,46],[21,1],[-1,62],[15,36],[19,-18],[9,62],[36,32],[15,-30],[8,13]],[[30181,66846],[2,-72],[9,-136],[25,-47],[12,42],[14,-34],[-16,-90],[-23,-7],[-38,-35],[12,-50],[-18,-50],[-7,9],[-5,-59],[-4,41],[-11,-53],[11,-74],[-13,10],[-5,-28],[8,-26],[-5,-27],[14,-14],[6,36],[14,8],[9,-47],[24,-28],[12,-42],[2,-46],[21,-93],[-1,-50],[-7,-39],[-12,-5],[3,-24],[21,-51],[12,8],[8,-24],[8,-83],[-5,-50],[13,-48],[23,-35],[34,-12],[9,-23],[19,44],[19,8],[27,33],[6,25],[-1,79],[-6,61],[-13,-31],[0,97],[-5,55],[-15,34],[-9,-7],[-5,-39],[-11,59],[13,11],[21,-18],[23,-58],[18,-123],[9,-119],[2,-137],[-15,-129],[-2,-44],[-7,9],[12,112],[-7,23],[-26,-5],[-43,-40],[-30,8],[-7,-28],[-17,-7],[-15,-62],[-33,-10],[-34,-66],[-16,-47],[-21,-28],[-23,-15],[6,26],[35,34],[16,47],[24,49],[5,40],[-2,117],[6,41],[-26,26],[0,-59],[-7,14],[-4,-50],[-14,3],[2,-32],[-31,-11],[-7,-49],[2,-44],[-6,-29],[-25,-23],[-12,17],[-10,-14]],[[30097,65246],[-3,189],[-18,18]],[[30076,65453],[-8,41]],[[30068,65494],[-10,48],[-19,33],[-5,56],[2,81],[-12,-6],[0,147],[-116,-13]],[[29908,65840],[-1,18],[-202,13],[-22,-4],[-42,6],[-3,-39],[-14,-6],[1,45],[-54,3],[-118,14],[-15,-1]],[[29438,65889],[-6,42],[34,395],[34,373]],[[22823,73980],[83,-1],[266,0],[229,-1],[0,449],[27,-37],[28,20],[29,-53],[8,-35],[14,-202],[7,-25],[18,-251],[-6,-69],[4,-54],[14,-43],[29,-45],[24,-12],[8,19],[44,-11],[11,-58],[61,-7],[48,-21],[8,-66],[-3,-49],[6,-12],[42,2],[5,15],[22,-2],[23,20],[-1,48],[33,46],[39,18],[9,-22],[53,0],[72,-98],[26,4],[1,-49],[-19,-7],[-4,-37],[16,-31],[41,13],[15,-54],[-6,-34],[6,-49],[24,-127],[25,27],[-8,84],[13,45],[15,-11],[42,16],[16,-44],[-2,-65],[17,-41],[14,9],[9,-36],[41,-9],[5,-67],[-4,-31],[20,-21],[23,13],[-3,-75],[22,28],[14,-22],[19,24],[34,17],[46,113],[17,13],[13,32],[25,30],[14,-13],[0,-67],[17,-17],[-6,-26],[10,-48],[16,-3],[35,29],[6,-29],[25,15],[26,-18],[19,13],[48,8],[29,-28],[9,-66],[34,-53],[15,35],[20,9],[13,-20],[23,6],[11,-18],[25,22],[-27,-56],[-10,20],[-4,-34],[-17,-15],[-26,-58],[-37,-34],[-14,-37],[-52,-44],[-48,-54],[-15,-6],[-42,-45],[-4,-14],[-51,-77],[-37,-79],[-72,-183],[-17,-69],[-55,-178],[-26,-72],[-26,-41],[-26,-88],[-11,-11],[-28,-83],[-10,-10],[-61,-134],[-9,-25],[8,-50],[14,-46]],[[24276,71309],[-21,50],[-14,-11],[-3,-29],[-16,-14],[9,-19],[-11,-43],[-22,16],[0,-685],[-10,-10],[-6,-59],[-24,7],[-10,-56],[-14,13],[-8,-38],[-25,-23],[-20,-47],[-20,-148],[-22,-49],[-7,-114],[1,-53],[21,-21],[10,9],[14,-32],[-1,-31],[23,-85],[-1,-50],[-15,-47],[1,-29],[-17,-49],[2,-91],[-4,-32],[6,-91],[-16,-58],[11,-34],[-2,-65],[6,-41],[-7,-42],[3,-75],[-12,-80],[5,-36],[16,-27],[31,-87],[-1,-24],[14,-16],[9,-44],[50,-9],[12,-17],[10,-78],[14,-38],[50,-51],[22,-39],[14,-40],[0,-53],[8,-15],[5,-84],[17,-45],[27,-41],[3,-29],[36,-90],[39,-29],[15,-55],[30,-136],[9,-75],[-8,-113],[2,-71],[10,-37],[-4,-44],[8,-53]],[[24498,67577],[-204,0],[-224,0],[-116,-1],[-223,0],[-180,1],[-313,0],[-199,0]],[[23039,67577],[0,1215],[1,101],[-1,302],[0,479],[-10,65],[-36,59],[-18,4],[-14,55],[-9,73],[-26,98],[5,46],[25,62],[22,39],[12,63],[14,46],[4,128]],[[23008,70412],[-4,106],[6,37],[-11,188],[-1,129],[-13,27],[-20,98],[-5,49],[-4,119],[-11,57],[-2,39],[5,68],[-6,112],[5,17],[6,117],[-6,-11],[-11,51],[1,171],[-5,92],[-2,114],[3,50],[-7,103],[1,217],[-5,3],[-7,89],[-11,92],[-8,17],[-11,101],[-3,58],[-11,34],[-5,121],[-16,101],[-3,110],[7,53],[-8,93],[3,52],[-1,107],[-7,59],[7,76],[9,24],[3,62],[-15,80],[-8,124],[-6,24],[-11,98],[3,40]],[[28860,63072],[14,65]],[[28874,63137],[9,32],[5,61],[12,42]],[[28900,63272],[17,44],[38,25],[25,45],[0,69],[16,25],[7,33],[34,72],[18,15],[12,51],[10,-8],[17,39],[-14,71],[-20,41],[-7,52],[-21,54],[-7,68],[-25,19],[-4,45],[2,95],[-10,37],[-17,-5],[-9,14],[-2,83],[7,30],[-8,22],[9,100],[11,-5],[23,113],[-24,120],[13,48],[18,29],[16,56],[-4,24],[17,35],[11,49],[14,124],[22,69],[16,13]],[[29101,65083],[88,-173],[132,-246],[3,-19],[-20,-187],[-12,-65],[-4,-65],[-6,-22]],[[29282,64306],[-7,-34]],[[29275,64272],[-37,-35],[-4,-84],[-9,-16],[-3,-50]],[[29222,64087],[0,-43],[19,-28],[16,18],[24,-44],[14,-9],[4,44],[4,-90],[-3,-107],[-14,-182],[-13,-247],[-5,-173],[-40,-241],[-11,-48],[-9,-9],[3,-32],[-10,-55],[-20,-63],[-1,-19],[-31,-55],[-32,-108],[-21,-118],[-22,-149],[-20,-60],[-19,-14],[-11,14],[6,88],[15,97],[3,69],[-21,37],[-18,4],[-6,25],[-18,-3],[-7,-36],[-9,24],[-2,47],[-18,37],[-3,30],[-10,-12],[-15,68],[-7,-8],[-18,58],[-10,56],[-19,25],[6,140],[-12,29]],[[28861,63044],[-1,28]],[[28814,58772],[18,-19],[12,-74],[1,-47],[-15,9],[2,45],[-18,86]],[[28734,57762],[8,60],[8,0],[47,86],[15,12],[14,33],[12,2],[16,35],[13,10],[5,74],[11,252],[0,54],[-8,95],[-6,105],[3,-2],[11,-106],[5,-95],[-3,-136],[-15,-286],[-24,-8],[-50,-64],[-43,-78],[-19,-43]],[[27156,59531],[84,-16],[55,-3],[95,-15],[37,4],[114,-21],[48,-2],[170,-2],[279,0],[74,4],[264,0],[106,-1],[0,10],[31,-2],[120,0],[142,0]],[[28775,59487],[2,-58],[17,-245],[16,-158],[23,-156],[35,-271],[-9,14],[-18,146],[-14,80],[-13,11],[-9,174],[-16,155],[-8,23],[3,39],[-5,89],[-10,30],[-4,48],[-25,13],[-1,40],[-13,-20],[6,-61],[16,-48],[11,10],[0,-67],[15,-135],[9,-61],[-1,-26],[11,-75],[0,-47],[-19,64],[1,37],[-13,61],[-3,38],[-12,12],[6,-38],[-3,-28],[14,-39],[-31,25],[-32,118],[-15,12],[19,-97],[10,-17],[6,-52],[-9,-23],[-24,-14],[-21,71],[7,-63],[10,-27],[-7,-14],[-31,45],[-13,5],[-5,29],[-18,24],[23,-73],[21,-23],[-7,-19],[-24,-8],[-13,-62],[-16,-22],[-17,1],[-8,31],[-20,12],[-12,121],[0,61],[12,78],[-5,13],[-14,-76],[-2,-76],[8,-94],[11,-77],[-5,-42],[8,-34],[40,10],[37,47],[9,-49],[13,6],[13,30],[26,24],[32,-1],[14,-41],[0,-43],[-14,-78],[3,-55],[2,-164],[9,5],[7,115],[3,150],[14,40],[-6,33],[14,20],[25,-21],[16,-94],[7,-65],[-4,-52],[7,-98],[-8,-25],[4,-54],[-13,-54],[-17,-10],[-6,18],[-10,-16],[-6,-40],[-10,-9],[-3,-43],[-7,-11],[-7,-71],[-13,-15],[-3,-46],[-17,-25],[-3,-24],[-26,25],[-29,-4],[-26,18],[-5,25],[-10,-14],[-15,45],[-13,115],[31,3],[5,45],[-28,-25],[-12,11],[-9,-33],[9,-57],[6,-86],[-7,0],[-29,47],[-14,-10],[-20,34],[-31,30],[-23,48],[-1,-29],[17,-61],[21,-5],[63,-102],[46,-28],[8,-31],[1,-40],[-7,-56],[-13,-54],[1,-28],[-9,-53],[-15,-42],[-50,-112],[-50,112],[1,-65],[24,-55],[36,-43],[36,80],[13,2],[27,30],[4,62],[11,-14],[3,-66],[8,-31],[18,-5],[-9,75],[20,-29],[2,-85],[-17,-75],[-18,-13],[0,-34],[-11,-20],[-14,-84],[-7,-71],[-17,20],[1,80],[-10,19],[1,-82],[-16,-7],[42,-64],[23,123],[33,120],[24,75],[47,176],[8,-21],[-28,-83],[-26,-96],[-22,-62],[-21,-78],[-18,-82],[-21,-115],[-3,-32],[-4,67],[-35,55],[-39,1],[-60,-38],[-29,-33],[-20,-32],[-32,-81],[-39,-75],[-26,-63],[-37,-113],[-14,-55],[-25,-128],[-14,-111],[-10,-112],[-9,-69],[-4,-69],[-13,7],[-3,34],[-21,21],[-23,9],[-28,-2],[-30,-12],[-35,-42],[-8,-17]],[[28030,56345],[-93,330],[-104,362],[-31,116],[-88,302],[-61,1],[-74,7],[-178,10],[4,135],[-42,199],[-30,-73],[-5,21],[7,48],[-2,53],[-55,13],[-105,16],[-188,29],[-23,-20],[-5,39],[-12,-52],[-7,9],[-20,-27],[-6,5],[-29,-47],[-28,-60],[-7,21],[-91,-99]],[[26419,57669],[9,275],[22,48],[3,-26],[28,4],[22,63],[-5,57],[9,25],[-4,44],[17,62],[13,15],[8,48],[16,8],[15,45],[80,7],[11,50],[22,32],[5,26],[10,-7],[16,48],[4,35],[16,4],[8,40],[21,29],[24,-18],[26,115],[-3,63],[10,30],[15,-36],[20,98],[33,70],[10,-40],[-5,-70],[15,-20],[28,62],[15,93],[15,35],[17,21],[12,-5],[9,33],[19,-12],[4,-50],[15,0],[14,28],[33,200],[21,53],[11,12],[8,-23],[17,0],[-10,74],[7,65],[6,12],[-4,80],[9,60]],[[20923,73979],[188,-1],[322,0],[212,0],[92,0],[193,1],[160,-1],[135,0],[141,1],[256,1],[201,0]],[[23008,70412],[-210,-1],[-186,1],[-119,1],[-252,4],[-192,2],[-179,2],[-253,1],[-123,0],[-292,1],[-173,0],[-105,0]],[[20924,70423],[0,2828],[-1,17],[0,711]],[[23550,60009],[0,-581]],[[23550,59428],[6,-130],[7,-206],[6,-127],[14,-355],[4,-82],[15,-387],[-2,-319],[-3,-261],[-1,-235],[-2,-170],[-2,-417],[-5,-642]],[[23587,56097],[-9,-25],[-19,73],[-16,-13],[-1,23],[-17,-1],[-18,79],[-15,-16],[-12,5],[-21,78],[-7,58],[-22,2],[-23,85],[-27,28],[-7,-68],[-11,-32],[-13,-7],[-34,4],[0,15],[-21,-7],[-7,61],[-10,3],[-24,-52],[-20,3],[1,-45],[-13,9],[-9,-31],[-29,61],[-1,-30],[-30,-29],[-15,13],[1,-20],[-14,8],[-8,-90],[-14,-14],[-19,19],[-7,-81],[-12,-3],[-1,22],[-17,79],[-21,-6],[-8,57],[-11,-4],[-16,30],[12,58],[-25,16],[-8,-86],[-18,-9],[-4,42],[-13,14],[-6,-33],[-9,25],[-6,95],[-5,11],[-14,-27],[-6,15],[3,-73],[-16,-57],[-13,19],[11,-42],[-13,-22],[3,-64],[-11,-31],[-11,14],[-12,94],[10,30],[-2,66],[-9,28],[-10,-19],[-2,-42],[-13,19],[-9,-7],[-11,-64],[-20,5],[-5,30],[1,63],[-12,19],[-16,-27],[-11,25],[3,41],[-19,42],[-9,-3],[-12,-58],[-29,-92],[-12,-9],[-16,34],[-9,3],[4,65],[-5,-1],[7,60],[-7,20],[-13,-14],[-19,11],[-10,91],[8,35],[-4,50],[-17,-47],[-20,22],[-15,0],[-19,28],[-11,-40],[-3,-44],[-20,-26],[-24,96],[-21,23],[-12,-37],[-21,4],[-13,26],[-13,3],[-17,24],[-19,46],[-16,-27],[-9,15],[-12,-11],[-2,20],[-18,-3],[-5,140],[-18,56],[4,22],[-16,5],[-18,57],[-4,-92],[-12,-4],[-22,47],[-17,2],[-6,-49],[-30,15],[-24,78],[-37,143],[-20,-19],[0,2257],[-123,0],[-179,0],[-150,0],[-175,1],[-210,0]],[[21214,59429],[1,119],[0,463]],[[27478,65805],[48,61],[45,74],[9,24],[10,60],[13,3],[3,-28],[36,72],[47,74]],[[27689,66145],[0,-314],[1,-2],[247,-1],[77,3],[167,-2],[243,1],[105,3],[111,-4],[169,-1],[107,2],[14,-59],[5,4],[8,-100],[15,4],[27,-34],[10,-49],[-8,-32],[14,-21],[2,-159],[-8,-12],[25,-113],[1,-34],[11,5],[15,-33],[-2,-18],[25,3],[3,-22],[16,8],[-1,-30],[13,-55]],[[28900,63272],[-23,37],[-22,6],[-24,-20],[-15,-34],[-20,-82]],[[28796,63179],[-217,-1],[-118,-1],[-151,0],[-236,3],[-305,-2]],[[27769,63178],[-167,0],[-124,0],[0,1068]],[[27478,64246],[0,1559]],[[20920,69320],[5,4],[0,872],[-1,227]],[[23039,67577],[-40,0],[5,-22],[-7,-37],[22,-64],[-1,-110],[-14,-5],[8,-52],[-3,-31],[24,-3],[2,-83],[9,-35],[-7,-66],[-14,-16],[5,-56],[-8,-28],[6,-21],[-12,-46],[0,-80],[-11,-16],[-3,-52],[-11,-26],[1,-76],[15,-27],[17,-60],[10,-87],[-4,-45],[13,-31]],[[23041,66402],[-17,-7],[-5,30],[-24,-5],[-7,53],[-21,66],[7,52],[-11,16],[-21,3],[-1,40],[-28,35],[-12,-17],[-8,48],[-43,13],[-5,28],[-18,20],[-1,38],[-25,25],[-15,-14],[-15,13],[-7,-23],[-18,14],[-16,-13],[-16,11],[-18,-17],[-25,9],[-20,21],[-8,-11],[-9,-74],[-12,-29],[-19,-9],[-31,69],[-36,62],[-58,85],[-9,59],[-112,0],[-186,-1],[-153,1],[-214,-1],[-206,-2],[-62,4],[-178,0],[-143,1],[-293,1]],[[20922,66996],[0,345],[-1,8],[0,1828],[-1,143]],[[23587,56097],[8,8],[0,-54],[11,-25],[9,6],[-2,-36],[10,-9],[5,27],[8,-18],[3,29],[21,-27],[11,46],[12,-17],[5,-30],[6,21],[16,-22]],[[23710,55996],[0,0]],[[23710,55996],[1,-11],[0,-608]],[[23711,55377],[0,-1196],[8,-12],[11,-72],[18,-31],[9,-83],[15,-55],[-2,-34],[8,-56],[-7,-42],[3,-45],[-7,-28],[6,-51],[9,-32],[13,-6],[3,-35],[-6,-27],[14,-36],[-1,-32],[8,-15],[3,-49],[-6,-53],[12,-47],[6,2],[6,-113],[19,12],[-6,-102],[8,-31],[2,-54],[-13,-21],[-1,-33],[12,-55],[-9,-22],[-3,-38],[4,-63],[-9,-33],[-9,-63],[-3,-73],[-12,-25],[-2,-68],[-14,-30],[-3,-40],[7,-24],[5,-91],[-13,-51],[-6,-74],[16,-52],[1,-53],[-5,-39],[9,-79],[-12,-70],[9,-19],[-11,-51],[-14,-39],[-7,-78],[-13,-74],[-17,-45],[-2,-25],[9,-30],[17,-94]],[[23768,51502],[0,-14],[-46,3],[-37,-40],[-128,-208],[-28,-61],[-10,-54],[-15,7],[22,71],[9,47],[13,-1],[9,19],[8,46],[9,-16],[11,8],[-15,55],[-54,-54],[-8,26],[17,90],[4,80],[0,74],[-12,5],[-5,23],[-17,-29],[-10,-41],[-4,-50],[-15,-24],[-6,46],[-18,-45],[-2,-35],[9,-32],[-10,-50],[10,-55],[20,-17],[-6,-54],[11,-20],[2,-78],[-2,-67],[-8,-31],[-9,10],[-19,-71],[-22,-65],[-3,26],[-13,-8],[-2,-88],[6,-26],[13,44],[26,65],[3,19],[32,99],[15,23],[0,45],[26,-15],[-20,-61],[-62,-153],[-24,-69],[-4,-25],[-32,-91],[-40,-143],[-15,-8],[-69,-146],[-35,-80],[-53,-89],[-61,-112],[-34,-87],[-13,-42],[-15,-74],[-53,-111],[-24,-68],[-47,-155],[-32,-143],[-11,-83],[-14,-59],[-33,-221],[-24,-197],[-11,-127],[-10,-192],[-2,-108],[1,-103],[8,-205],[14,-207],[12,-134],[16,-229],[11,-260],[-7,47],[-5,147],[-12,189],[-11,152],[-24,16],[18,27],[-9,83],[-6,87],[-9,88],[-3,106],[1,138],[-1,122],[11,276],[16,180],[19,148],[14,70],[10,87],[8,35],[-2,47],[13,86],[18,38],[9,45],[18,127],[28,58],[8,53],[16,2],[35,105],[23,49],[24,23],[-4,43],[9,29],[-9,16],[-16,-41],[-20,-35],[-11,-40],[-17,-5],[-6,40],[0,60],[-18,12],[-6,-31],[0,-84],[-5,-25],[6,-41],[-4,-36],[-20,-56],[-17,-61],[-8,-1],[-18,30],[-3,43],[-32,-61],[-17,-67],[21,-22],[24,57],[8,-74],[-7,-23],[-38,-223],[-12,-2],[-6,55],[-21,-10],[-4,18],[-32,-11],[-11,12],[-6,-38],[12,-32],[15,-1],[11,17],[-4,-64],[7,-48],[15,-34],[17,-18],[-19,-146],[-13,-185],[-12,-106],[-20,-27],[-7,-27],[-11,18],[14,21],[3,59],[-8,3],[-6,-31],[-29,-75],[4,-32],[24,-16],[25,38],[8,2],[-5,-116],[3,-4],[-4,-202],[-6,-207],[-4,-3],[10,-230],[8,-65],[1,-84],[9,-1],[23,-215],[5,-29],[-9,-47],[4,-34],[-1,-62],[8,-72],[20,-11],[1,-35],[12,18],[2,-127],[-23,7],[-13,-8],[0,-19],[-21,-12],[-6,-99],[-20,11],[-7,40],[-15,3],[-6,55],[-11,4],[-18,98],[-31,12],[-11,33],[-17,-9],[-7,16],[-23,-17],[-4,18],[-13,-1],[-3,-29],[-10,31],[-20,-14],[-8,22],[-6,-22],[-14,20],[-8,30],[3,25],[-16,1],[-3,44],[-15,-1],[-21,75],[-9,-11],[-25,48],[-19,-22],[-13,35],[-15,69],[-10,8],[-2,33],[-8,12],[-18,-15],[-21,47],[-12,-3],[-8,20],[-12,-19],[-9,44],[6,50],[-10,56],[-11,13],[-3,98],[-6,42],[-3,79],[-8,25],[-1,49],[-7,64],[-17,43],[2,31],[-13,26],[-7,37],[5,20],[-11,46],[-9,7],[-1,52],[6,31],[-3,66],[4,29],[-4,86],[-16,25],[1,37],[-12,11],[9,30],[5,86],[-3,31],[4,60],[-13,10],[5,76],[-12,58],[-7,-14],[-7,46],[-9,-18],[-9,39],[-10,-6],[-18,90],[-9,11],[-3,38],[-8,-9],[-10,38],[0,50],[-7,26],[3,41],[-13,48],[2,47],[-17,16],[-7,81],[-10,23],[-8,70],[-35,53],[-4,53],[-7,-2],[-13,59],[2,38],[-17,100],[3,47],[-9,39],[9,29],[-12,11],[-9,47],[4,39],[-14,28],[1,33],[-15,28],[-4,51],[2,41],[-8,26],[-4,73],[-6,1],[-9,88],[-8,1],[-6,47],[1,76],[-7,106],[-18,46],[-10,40],[3,14],[-9,71],[-23,41],[-2,30],[-17,46],[-18,25],[-13,84],[0,21],[-26,21],[-6,44],[-23,7],[3,57],[-2,65],[-5,5],[-6,-67],[-6,27],[2,53],[-17,27],[-13,108],[-8,-4],[-9,32],[-13,-25],[-7,44],[-8,-27],[-37,-13],[-19,31],[-6,-8],[-15,22],[-22,-14],[-12,24],[-17,-7],[-4,-22],[-26,21],[-11,50],[-13,-3],[-20,40],[-14,-18],[-10,-111],[-34,19],[-9,-37],[-7,11],[-22,-32],[-7,10],[-8,-54],[2,-23],[-13,-40],[0,-50],[-7,0],[-2,-59],[-11,-30],[1,-33],[-7,-58],[2,-52],[-5,-48],[-10,-5],[-3,-72],[-5,-37],[10,-22],[-5,-38],[-18,-38],[-10,8],[-7,-67],[-17,-43],[-7,-36],[-4,-84],[-14,-8],[-17,15],[-15,-11],[-14,46],[-27,24],[-27,111],[-24,33],[-10,-8],[-22,38],[-18,77],[-13,24],[-39,21],[-17,28],[-19,61],[-11,12],[-19,81],[0,24],[-14,47],[-21,7],[-12,27],[-5,34],[-30,78],[-9,43],[-7,110],[-12,56],[-7,60],[-13,63],[0,59],[-7,57],[6,72],[-3,54],[2,55],[-7,68],[-11,30],[-3,44],[-13,39],[-1,30],[-13,34],[2,33],[-13,177],[-7,40],[-12,4],[-11,91],[-15,0],[-14,66],[-12,10],[-3,24],[-15,34],[-12,-4],[-7,28],[-31,39],[0,39],[-44,118],[-13,107],[-12,37],[-18,26],[-9,33],[-9,2],[-2,36],[-24,106],[-20,35],[-4,54],[-14,32],[-21,7],[-35,78],[-11,88],[-10,24],[-6,68],[-13,89],[-9,41],[-19,38],[-11,-19],[-11,41]],[[20232,53938],[-5,28],[-16,20],[1,23],[-10,25],[-3,38],[7,18],[1,101],[331,0],[250,-1],[226,0],[183,1],[0,1212],[2,254],[0,149],[2,417],[2,232],[0,1518],[1,434],[0,809],[-1,213],[11,0]],[[20922,66996],[0,-2328]],[[19530,64667],[-136,-2],[-143,-1],[-52,-3],[-133,1],[-93,2],[0,442],[1,219],[-1,508]],[[18973,65833],[0,676],[1,163],[0,1090],[-1,26],[0,516],[-1,267],[1,140]],[[18973,68711],[-2,175],[-1,282],[1,156],[75,2],[22,-12],[85,2],[11,8],[45,-5],[25,8],[87,-2],[194,5],[11,-7],[221,0],[316,0],[14,-4],[144,-2],[178,-1],[23,7],[132,0],[251,-2],[115,-1]],[[29908,65840],[0,-107],[3,-222],[0,-150],[-3,-209],[-12,-8],[3,-76],[-8,-29]],[[29891,65039],[-7,19],[-17,2],[-21,-24],[-18,3],[-13,-24],[-16,28],[-6,-37],[-49,-35],[-3,20],[-15,0],[-27,-33],[-6,21],[-26,1],[-7,-26],[-18,23],[-40,-27],[-3,60],[-9,-17],[-19,-82],[-12,0],[-22,-73],[-13,23],[-24,-58],[-7,13],[-23,-28],[5,-22],[-10,-32],[-29,-11],[-22,-54],[-9,15],[-15,-35]],[[29390,64649],[1,33],[-20,102],[68,130],[-19,97],[4,161],[5,295],[9,422]],[[23231,64184],[167,-9],[159,-8],[156,3],[130,8],[62,0],[197,12],[152,13],[101,14],[12,-38],[1,-33],[18,-14],[-1,-36],[16,-57],[10,-2],[1,-56],[11,-31],[19,-7]],[[24442,63943],[-8,-18],[-17,-144],[-2,-71],[6,-165],[14,-99],[7,-28],[-8,-66],[5,-38],[15,-34],[4,-28],[-3,-61],[26,-77],[15,-57],[11,-14],[10,-69],[13,-8],[11,-76],[16,-54],[59,-137],[20,-90],[3,-90],[8,-78],[-9,-36],[11,-85],[3,-65],[22,-69],[11,7],[11,32],[9,66],[19,4],[27,-45],[16,-5],[38,-82],[-2,-60],[-12,-29],[-13,-59],[10,-92],[-2,-37],[-22,-96],[-6,-99],[-17,-68],[-7,-52],[-1,-78],[5,-70],[18,-50],[20,-89],[25,-37],[11,-54],[8,0],[17,-60],[16,7],[3,-27],[-12,-24],[6,-50],[20,-5],[10,31],[13,-28],[1,-29],[15,-12],[23,-70],[-2,-40],[14,-3],[9,-42],[19,-24],[0,-57],[11,-68],[-13,-8],[2,-50],[26,-161],[-4,-62],[-15,-12],[-8,-56],[17,-53],[-1,-47],[13,-87],[11,-46],[-1,-53],[24,-56],[10,27],[-15,45],[14,12],[17,-56],[8,-53],[11,14]],[[25079,59990],[9,-21],[-5,-90],[-6,-46],[-10,-9],[-1,-38],[17,-37],[-3,-28],[-16,3],[-4,-44],[11,-58],[-8,-29],[-7,-71],[-13,-18],[-18,78],[-13,-13],[-13,-142]],[[24999,59427],[-8,-40],[-13,7],[2,31]],[[24980,59425],[6,38],[-5,49],[-21,2],[-4,-30],[9,-58]],[[24965,59426],[6,-22],[-7,-64],[10,-59],[-5,-37],[-24,-1],[0,-37],[21,-39],[1,-27],[-15,-15],[-30,16],[-3,-21],[28,-74],[1,-61],[-22,-40],[-3,-75],[-12,-23]],[[24911,58847],[-179,-6],[16,110],[23,58],[0,23],[15,53],[16,28],[3,43],[9,7],[5,133],[-22,44],[3,15],[-5,71],[-349,-1],[-323,1],[-141,0],[-222,1],[-210,1]],[[23358,63503],[-31,56],[8,79],[-24,76],[-2,77],[-20,19],[1,32],[-18,26],[-12,110],[1,39],[-11,34],[-1,40],[13,42],[-11,18],[-1,-33],[-20,3],[1,63]],[[26900,61666],[18,-20],[35,40],[23,11],[5,49],[3,98],[12,28],[16,-7],[6,30],[-3,101],[-10,105],[21,52],[0,67],[14,88],[12,27],[6,37],[13,-40],[11,-1],[12,-79],[-8,-40],[11,-20],[9,22],[3,42],[9,20],[9,-25],[4,111],[-10,29],[-3,43],[19,19],[-3,96],[8,41],[10,12],[3,55],[31,-7],[3,83],[25,76],[17,-19],[6,-52],[11,3],[21,47],[17,8],[11,54],[11,8],[8,48],[16,57],[30,89],[16,9],[4,83],[10,26],[-11,50],[12,48],[0,57],[10,23],[-4,60],[13,-11],[-2,52],[7,20],[0,122],[9,30],[0,58],[10,48],[5,61],[10,23],[5,65],[-3,95],[4,71],[-9,84],[-11,44],[9,50],[14,-1],[18,27]],[[27769,63178],[-3,-600],[10,7],[33,103],[12,-1],[10,67],[31,60],[13,75],[11,-2],[28,-36],[11,54],[38,158],[13,-10],[-13,-14],[13,-18],[2,-26],[20,-34],[17,1],[7,-18],[28,-4],[14,38],[-7,49],[13,-1],[-11,32],[14,-11],[9,37],[19,-23],[28,87],[24,-20],[17,-49],[8,-40],[18,20],[17,-23],[14,4],[0,-37],[-16,-15],[12,-69],[19,-41],[-2,-33],[9,-12],[5,-43],[-6,-63],[10,-14]],[[28258,62713],[-9,-45],[-21,-175],[-78,209],[-66,179],[-4,-62],[5,-28],[-6,-36],[7,-11],[-23,-106],[6,-15],[-11,-54],[10,-36],[-16,-62],[-7,-7],[-24,-88],[6,-16],[-14,-63],[-7,21],[-15,-66],[-10,-24],[0,36],[-23,-71],[-20,-130],[-35,101],[-9,-69],[-17,-82],[-1,-71],[-8,1],[-10,-57],[-15,-138],[-28,-94],[-46,53],[-17,109],[-31,47],[-14,-121],[3,-65],[-12,-60],[-22,-87],[6,-44],[-12,-21],[-25,-81],[-7,-56],[6,-29],[-8,-30],[-6,-60],[-10,-51],[-18,-51],[-30,-104],[-21,-112],[2,-36],[-12,-39],[4,-41],[17,-34],[-12,-40],[-18,-34],[-1,-32],[13,-4],[-4,-29],[-49,-99],[-10,68],[-12,-9],[-19,-47],[-41,-71],[-4,26],[-21,38],[-7,-51],[9,-43],[-19,-47],[-17,-5],[-37,-27],[-31,-51],[-27,75],[-11,45],[-8,-21],[-8,-55],[-23,-17],[-2,-30],[-13,-29],[-34,-7],[-19,48],[0,24],[-12,25],[-18,3],[-7,52],[-14,31],[-2,90],[-15,22],[-1,33],[18,34],[-11,29]],[[27075,60636],[-14,-4],[-28,30],[-3,37],[-8,1],[-7,40],[-9,-2],[-7,42],[-15,11],[-13,134],[-10,19],[-13,61],[1,34],[-15,19],[-8,39],[11,55],[-15,22],[-9,80],[-10,45],[-15,37],[0,38],[8,0],[3,55],[-4,20],[11,33],[1,58],[-8,36],[1,90]],[[24442,63943],[12,16],[-2,50],[4,90],[-11,35],[13,69],[31,43],[18,-1],[18,41],[1,61],[6,49],[1,67],[10,27],[14,66],[11,19],[6,106],[-1,98],[-13,75],[-13,6],[-20,85],[11,77],[2,74],[6,55],[19,21],[13,-15],[23,40],[31,-6],[24,17],[16,56],[10,13],[26,-1],[18,57],[16,21],[-1,66],[9,59],[0,52],[9,29],[28,49],[-1,41],[8,72],[-3,58],[7,61],[-7,37],[1,89],[-13,41],[-47,73],[-15,74],[3,60],[-16,63],[-22,37],[-2,26],[-22,35],[0,47]],[[24658,66423],[45,-2],[227,-2],[51,-5],[194,-11],[41,4],[152,1],[82,-5]],[[25450,66403],[-2,-124],[-8,-97],[10,-109],[21,-117],[12,-37],[3,-54],[13,-139],[4,-75],[14,-93],[8,-20],[2,-47]],[[25386,60941],[-8,-66],[-17,-35],[-11,-56],[7,-105],[20,-68],[-6,-50],[-48,-19],[-12,-11],[-18,-52],[-14,26],[-18,-44],[-2,-55],[-9,-65],[2,-25],[17,-65],[7,-66],[-10,-89],[-15,-10],[-13,13],[-19,52],[-35,40],[-14,39],[-31,42],[-19,5],[-13,-21],[-13,-42],[-9,-65],[-16,-52],[-4,-55],[14,-52]],[[20232,53938],[-214,0],[-254,0],[0,-524],[-234,-1]],[[24911,58847],[4,-38],[18,-49],[0,-45],[-24,23],[-9,-49],[20,-36],[-11,-33],[-11,-1],[-9,-52],[-17,-22],[-9,21],[-15,-41],[6,-68],[9,-17],[12,23],[3,-38],[-26,-42],[1,-53],[9,-10],[-3,-40],[-22,56],[-9,-9],[-5,-58],[9,-42],[-11,-75],[-8,88],[-23,-67],[-3,-46],[12,-6],[2,43],[15,-35],[-9,-47],[0,-45],[-16,-10],[4,-47],[15,-7],[6,-29],[-12,-43],[15,-58],[-10,-25],[-12,21],[-9,-26],[-9,-100],[-25,13],[-3,-49]],[[24751,57677],[17,-55],[0,-45],[-18,-44],[-31,-44],[-4,59],[-11,2],[-2,-29],[8,-44],[-5,-25],[6,-72],[-14,-19],[-5,34],[2,57],[-10,-27],[2,-35],[-7,-14],[6,-40],[20,-2],[2,-31],[-14,-50],[-11,18],[1,49],[-10,-21],[0,-64],[12,-61],[1,-27],[-13,-51],[6,-83],[-25,-57],[0,-63],[-10,1],[3,54],[-19,-1],[-5,-27],[8,-45],[-7,-30],[-19,-15],[-4,-71],[-16,43],[-9,-29],[14,-43],[20,1],[2,-25],[-13,-28],[-16,33],[-12,-32],[9,-51],[11,3],[3,-24],[-8,-61],[-24,-6],[7,-45],[-11,-16],[-5,43],[-16,-23],[-3,-29],[22,-34],[-18,-78],[7,-55],[16,-26],[-10,-34],[-8,18],[-24,-2],[-1,-59],[10,-26],[13,14],[8,-50],[-12,-18],[-16,22],[-7,35],[-17,-16],[-2,-28],[25,-51],[2,-33],[-28,-41],[13,-63],[-14,-80],[18,16],[-1,51],[14,-27],[-4,-54],[-17,-10],[-3,-19],[10,-24],[17,14],[10,73],[5,-32],[-23,-90],[0,-64],[12,-68],[3,42],[10,13],[2,-23],[-13,-52],[2,-75],[-3,-23],[-14,-8],[-11,14],[-5,-39],[23,-62],[-13,-59]],[[24512,55359],[-219,4],[-154,5],[-157,7],[-86,0],[-185,2]],[[16868,55911],[16,-5],[28,-53],[21,-22],[1,-25],[16,-61],[-5,-43],[-13,25],[-26,7],[-6,35],[0,74],[-20,16],[-12,52]],[[16867,55390],[9,4],[22,-117],[40,-130],[-10,4],[-11,-22],[-17,44],[-13,72],[-14,119],[-6,26]],[[16741,55926],[8,7],[1,-41],[-11,7],[2,27]],[[16637,56552],[8,-17],[11,14],[0,-30],[-17,-4],[-9,21],[7,16]],[[16596,55679],[14,7],[20,-35],[8,-31],[-13,-15],[-20,21],[-9,53]],[[16501,56608],[18,-7],[13,-22],[15,5],[19,-43],[19,-4],[7,39],[20,-20],[-11,-43],[-28,-11],[-17,-31],[-42,24],[-1,61],[-12,52]],[[16410,56520],[22,8],[9,21],[13,-8],[13,19],[0,-48],[18,-13],[1,-48],[-41,-54],[-16,37],[-19,86]],[[16354,56562],[16,17],[6,28],[6,-35],[13,-26],[-21,-6],[-20,22]],[[15305,65829],[155,-4],[9,6],[77,-1],[56,12],[28,-8],[115,2],[37,5],[95,-1],[45,-5],[154,-8],[114,-4],[197,0],[92,2]],[[16479,65825],[0,-1]],[[16479,65824],[0,-1448],[1,-34],[0,-756],[-1,-393],[-1,-13],[0,-457],[-1,-122],[2,-263],[26,-77],[115,-330],[114,-336],[63,-182],[99,-298],[125,-377],[62,-186],[127,-394],[313,-989],[234,-759],[70,-234],[147,-492]],[[17950,55027],[-416,-126],[-254,-89],[-3,98],[-9,62],[-8,20],[-14,-23],[-3,66],[1,71],[-8,41],[9,61],[-9,161],[-13,127],[-9,54],[-40,193],[-25,61],[-10,51],[-15,37],[-9,-2],[-19,95],[-26,59],[-14,15],[-20,57],[-25,88],[-24,39],[-2,-47],[-21,-23],[-18,14],[-10,25],[-15,6],[-4,38],[9,34],[1,43],[-14,116],[-11,64],[-17,50],[-35,1],[-22,-8],[-16,-36],[-14,38],[-28,16],[-37,59],[-12,2],[-24,53],[-17,141],[-10,10],[-17,53],[-4,-3],[-20,65],[-21,25],[-6,20],[-32,4],[-16,-24],[-18,25],[-22,-10],[-37,60],[-23,0],[-15,15],[-44,-7],[-48,-22],[-1,31],[-13,66],[-16,30],[-12,-4],[-6,32],[13,143],[-11,60],[8,119],[-17,54],[9,115],[1,140],[-18,56],[-14,7],[-3,-21],[-27,55],[-11,48],[10,131],[-2,50],[-11,53],[-27,14],[-27,102],[-18,101],[-24,25],[-17,66],[-5,81],[-16,47],[-7,37],[-14,35],[-6,99],[-5,35],[-20,29],[-15,104],[-25,94],[-33,64],[-11,45],[-8,80],[1,42],[-11,101],[2,92],[-11,16],[10,74],[18,-38],[9,30],[7,61],[8,141],[-21,149],[-12,43],[-10,11],[-9,-28],[-37,2],[-28,68],[-22,102],[-14,18],[-2,31],[-17,60],[-4,62],[5,129],[-12,89],[-2,52],[-12,14],[-6,33],[-1,64],[5,27],[2,77],[-6,134],[14,28],[16,8],[6,-24],[7,-88],[-9,-9],[11,-107],[-2,-27],[27,-23],[27,-80],[8,5],[14,-63],[12,3],[-6,40],[-12,19],[-10,87],[-7,109],[-21,54],[-2,46],[-22,26],[9,74],[-7,68],[-15,-1],[-14,68],[8,-9],[9,26],[0,40],[19,-2],[10,39],[-10,71],[-26,44],[-13,-30],[-14,-6],[2,-47],[-5,-46],[15,-51],[-12,-25],[-4,-44],[19,-56],[-7,-14],[-11,29],[7,-71],[-15,-16],[-9,38],[-26,61],[-13,-12],[-23,67],[-10,53],[-17,33],[-16,8],[-20,-33],[14,127],[3,48],[-12,92],[7,20],[-16,70],[-11,-10],[-1,67],[-17,106],[-20,51],[-14,19],[-22,64],[-37,176],[-14,29],[-8,41],[-31,90],[-24,116],[14,78],[-1,42],[-14,126],[-16,123],[-7,105],[3,99],[13,132],[-5,52],[0,65],[-14,92],[-4,108],[-16,36],[-6,55],[-35,133],[-7,6],[0,43],[-8,43],[-22,32],[-49,151],[4,63],[-4,70],[-13,74],[9,98],[14,109],[42,265],[11,95],[7,119],[-12,37],[-1,97],[4,2],[11,99],[12,244],[-5,126],[-15,128],[-8,96],[-9,-4],[-17,54],[10,74],[5,110],[-3,67]],[[28861,63044],[-1,28]],[[28874,63137],[-6,7],[-22,-81],[2,-39],[11,-31],[1,-49],[-8,-28],[0,-41],[14,-52],[7,-58],[21,-62],[10,-68],[3,-58],[-5,-35],[2,-126],[16,-48],[7,-43],[2,-74],[34,-137],[16,-29],[10,24],[4,-36],[5,-129],[4,-244]],[[29002,61700],[-105,1],[-74,9],[-2,72],[-25,1311],[0,86]],[[28426,62262],[21,70],[37,-118],[-36,-118]],[[28448,62096],[0,93],[-22,73]],[[6433,39922],[2,44],[19,76],[12,7],[13,93],[16,52],[3,58],[-17,94],[-4,45],[-1,105],[8,37],[18,-9],[18,-32],[3,-32],[22,-44],[15,-47],[12,6],[25,-32],[39,-77],[13,-19],[22,-61],[16,-57],[17,-76],[-3,-47],[1,-90],[8,-10],[16,12],[7,-57],[-1,-57],[22,-82],[22,-39],[5,-21],[-4,-44],[-13,-51],[-17,-47],[-14,-56],[-23,-38],[-20,-47],[-20,-18],[-16,15],[-9,-9],[-18,-66],[-16,-25],[-13,-48],[-14,-16],[-12,-59],[1,-33],[-8,-37],[-5,-59],[-20,-63],[-15,61],[-22,52],[-22,29],[-10,95],[5,113],[4,151],[-10,106],[1,46],[-9,12],[-5,114],[-7,66],[-9,8],[-8,108]],[[6254,41293],[5,69],[11,56],[14,6],[13,-33],[10,-78],[10,-50],[24,29],[18,35],[26,-21],[0,-16],[17,-51],[10,-15],[5,-40],[31,-37],[5,-32],[0,-52],[-8,-43],[-13,-40],[-6,3],[-17,-36],[-14,10],[-30,-53],[-21,-9],[-17,26],[-7,210],[-7,20],[-14,-24],[-26,50],[-13,58],[-6,58]],[[6253,40841],[7,29],[28,57],[10,-30],[-4,-44],[5,-17],[-13,-19],[-5,15],[-18,-23],[-10,32]],[[6153,41274],[7,27],[13,5],[26,-19],[17,-60],[8,-51],[-9,-65],[-19,-29],[-17,-5],[-7,60],[-3,73],[-14,32],[-2,32]],[[6084,41504],[6,52],[9,29],[-2,58],[17,-2],[3,-14],[54,-29],[10,34],[4,-42],[22,-13],[27,18],[17,-25],[-8,-55],[-18,-51],[-20,-21],[-35,32],[-26,31],[-15,-14],[-29,-5],[-16,17]],[[5814,42059],[43,9],[13,49],[4,35],[13,48],[14,15],[6,-27],[6,-70],[20,-84],[4,-52],[-4,-15],[3,-47],[18,-55],[3,57],[12,-2],[-4,-64],[8,-24],[-1,-29],[17,-70],[-12,-37],[-11,18],[-21,-29],[-6,26],[-17,31],[-25,11],[-30,-20],[-7,4],[-7,84],[-11,34],[-1,31],[-14,67],[0,61],[-13,45]],[[5394,42585],[1,40],[11,38],[4,49],[33,72],[8,26],[23,-18],[3,25],[16,-11],[8,14],[15,-20],[10,-37],[5,-45],[0,-46],[-11,-63],[1,-106],[-4,-28],[-28,-78],[-8,15],[-36,12],[-18,71],[-24,29],[-9,61]],[[5266,42374],[4,43],[12,44],[19,45],[2,38],[11,9],[2,-31],[-5,-57],[2,-36],[-20,-28],[-16,-97],[-12,30],[1,40]],[[24498,67577],[-5,-52],[10,-50],[-1,-74],[27,-41],[13,-76],[-18,-60],[-6,-52],[-9,-24],[1,-108],[8,-88],[0,-68],[12,-25],[13,-169],[33,-64],[47,-37],[17,-20],[18,-109],[0,-37]],[[23231,64184],[4,28],[-10,56],[-13,16],[-15,58],[2,37],[13,35],[-4,83],[10,51],[-7,27],[2,66],[-9,20],[1,42],[-7,30],[5,27],[-5,93],[12,17],[-24,24],[4,37],[-5,63],[13,41],[-20,27],[7,29],[-1,116],[-20,10],[2,77],[-9,1],[-2,-37],[-15,28],[3,56],[-11,39],[7,39],[-8,41],[11,18],[-6,54],[8,20],[3,46],[-12,23],[-1,38],[-14,61],[6,11],[3,66],[-16,6],[1,30],[-15,11],[5,16],[-15,25],[1,83],[-22,56],[-3,48],[10,25],[-14,103],[-11,29],[0,76],[9,44],[-4,44],[-14,8]],[[26280,62461],[18,48],[7,-2],[15,-54],[21,-28],[14,29],[14,-3],[8,29],[8,-8],[4,-69],[29,-32],[10,-84],[16,-83],[0,-66],[5,-26],[40,-41],[33,19],[29,-46],[3,-34],[15,-26],[5,-50],[28,-29],[14,66],[26,22],[15,-32],[28,-20],[11,-24],[5,-43],[13,24],[30,-1],[10,53],[18,34],[9,39],[15,0],[21,32],[7,-33],[-3,-44],[9,-111],[13,-37],[21,-6],[21,-79],[13,-35],[2,-44]],[[27075,60636],[-108,-317],[-37,-39],[-22,-41],[-19,-49],[-25,-45],[0,-86],[-16,-39],[-12,-2],[-12,-33],[3,-59],[-6,-45],[-25,-36],[-29,-4],[-16,-80],[-2,-50],[-16,-4],[-33,-35],[-39,-52],[-21,2],[-33,-49],[-8,-27]],[[26599,59546],[-4,-21],[-83,8],[-79,2],[-76,5],[-83,11],[-51,16],[-74,9],[-55,-14],[-96,8],[-56,10],[-83,22],[-49,4],[-16,-22],[-7,22],[-146,-12],[-92,-2],[-114,-8],[1,35],[-61,17],[10,-147],[-6,-64],[-137,6],[-126,0],[-84,6],[-33,-10]],[[24980,59425],[-15,1]],[[28739,61120],[-14,0]],[[28725,61120],[-1,72],[8,28],[11,-40],[-4,-60]],[[28711,61320],[2,79],[11,13],[7,-30],[5,-118],[-15,21],[4,27],[-14,8]],[[28627,62072],[5,20],[5,-46],[-10,26]],[[29002,61700],[-1,-43],[-9,-105],[-5,-15],[-20,-211],[-18,-120]],[[28949,61206],[-107,-38],[-6,-55],[-6,4]],[[28830,61117],[-13,30],[-19,-4],[-22,-64],[-9,-1],[-1,67],[7,70],[17,28],[-17,2],[2,45],[11,40],[-21,9],[-12,-33],[-4,28],[5,58],[26,27],[-6,39],[-9,-13],[-4,36],[15,112],[-15,-24],[-7,-47],[0,-60],[-8,-1],[-11,77],[11,9],[-1,53],[-8,10],[-4,-49],[-9,-33],[6,-27],[-9,-62],[-4,29],[-17,-23],[-9,12],[-16,83],[-9,13],[2,43],[-24,151],[20,14],[5,39],[-8,-7],[-9,51],[8,40],[12,22],[6,-25],[12,26],[1,-36],[22,-9],[13,-39],[4,10],[-16,69],[-17,14],[-8,42],[-7,-3],[-16,77],[-5,-28],[-12,20],[-1,-59],[-7,8],[3,101],[18,92],[14,-45],[8,10],[-3,124],[-8,17],[-17,-47],[-12,4],[1,-48],[-12,-17],[4,104],[16,101],[7,-51],[21,-11],[11,31],[-6,54],[11,55],[-16,-9],[-3,-52],[4,-31],[-12,17],[3,63],[-6,59],[-7,14],[16,136],[12,42],[-2,24],[14,25],[7,37],[30,-6],[-11,24],[18,70],[-10,6],[12,122],[-35,-24],[-6,-48],[12,-24],[4,-32],[-12,-14],[-34,-97],[-7,31],[7,54],[-8,28],[0,-44],[-9,-51],[8,-34],[-7,-46],[-6,96],[-15,14],[6,-103],[-8,8],[-6,-42],[12,-22],[-21,-44],[-7,-28],[-13,8],[-2,26],[-22,46],[3,-46],[9,-13],[2,-41],[27,-54],[2,-67],[-5,-25],[13,-48],[-23,-45],[7,-37],[-3,-40],[-9,4],[-7,-55],[6,-53],[-17,-58],[9,-50],[-2,-54],[6,-73],[-2,-89],[7,-65],[22,-80],[8,-62],[-9,-45],[-14,7],[9,-42],[9,22],[8,-14],[-7,-47],[4,-48],[18,-92],[-5,-22],[5,-97],[-9,19],[-11,58],[-8,4],[-5,64],[-8,-9],[-2,-57],[-7,38],[-8,-3],[-5,48],[-12,45],[-23,23],[-35,3],[-8,129],[-8,13],[-4,-31],[10,-68],[-2,-22],[-22,43],[-2,34],[-13,31],[-12,114],[-20,-44],[-33,-56],[-12,27],[-7,115],[11,82],[15,57],[20,30],[-5,10]],[[28423,61914],[-1,45],[7,27],[18,25],[1,85]],[[28426,62262],[-9,37],[-20,6],[-8,17],[1,48],[-26,42],[-34,15],[-6,39],[-10,13],[1,58],[9,18],[7,49],[-23,43],[-6,45],[-15,-1],[-16,25],[-13,-3]],[[26327,70327],[8,17],[9,-60],[65,-63],[-17,-58],[-23,18],[-14,61],[-28,85]],[[26120,70229],[5,40],[7,-20],[-12,-20]],[[26084,70289],[21,-39],[-4,-36],[-19,38],[2,37]],[[26055,70019],[7,48],[3,69],[6,15],[1,57],[18,-7],[-1,-85],[4,-83],[-19,-44],[-19,30]],[[26035,70180],[13,8],[-5,-54],[-7,1],[-1,45]],[[25984,69839],[13,-17],[1,-59],[-14,76]],[[25933,69486],[6,23],[19,-25],[-6,-96],[-17,52],[-2,46]],[[25908,69335],[11,44],[6,-47],[-17,3]],[[25759,70041],[20,-64],[-8,-22],[-4,36],[-14,43],[6,7]],[[25722,65552],[30,68],[27,87],[37,261],[34,146],[19,134],[10,99],[10,176],[-1,58],[6,87],[-1,163],[-6,182],[-11,120],[-35,230],[-11,94],[-12,138],[-17,119],[0,48],[22,102],[7,50],[1,77],[-9,134],[-14,90],[4,32],[20,51],[24,151],[21,112],[4,124],[9,134],[-11,112],[1,33],[27,43],[20,15],[6,93],[-2,74],[10,36],[13,-18],[16,80],[18,-35],[17,13],[8,32],[9,86],[10,16],[15,94],[11,47],[9,-7],[12,35],[3,-39],[-19,-32],[-3,-42],[12,-81],[-23,-81],[13,19],[0,-74],[-6,-7],[-8,-84],[7,-95],[8,-2],[19,145],[3,98],[13,20],[-8,-158],[-15,-44],[-6,-67],[14,-14],[8,65],[7,13],[22,135],[5,78],[-1,56],[4,82],[-6,85],[5,94],[17,49],[10,3],[18,48],[18,16],[25,-7],[26,14],[12,20],[-1,33],[-33,17],[-14,47],[-8,114],[16,75],[13,14],[20,69],[-2,31],[-18,27],[60,-15],[7,49],[61,-102],[26,-58],[13,20],[11,-16],[13,10],[32,-34],[24,-85],[3,-57],[17,-27],[33,4],[8,-9],[29,-77],[23,-7],[34,-71],[29,6],[21,-78],[11,-25],[-9,-27],[15,-96],[11,-30],[14,-133],[-20,21],[-16,34],[-15,-41],[4,-110],[12,-44],[21,-26],[5,-59],[1,-98],[7,-37],[-4,-71],[-8,-67],[2,-65],[-5,-111],[-1,-121],[-12,-15],[-14,-64],[-24,2],[-8,-30],[-8,-108],[-4,-115],[-19,-5],[-8,-19],[0,-49],[-42,-6],[-13,-35],[-9,-76],[-5,-124],[-8,-42],[13,-91],[16,-32],[9,33],[5,-38],[20,-21],[13,-38],[10,16],[28,120],[14,0],[7,25],[-7,51],[9,44],[9,87],[4,-50],[19,31],[5,29],[-21,31],[24,-3],[11,24],[5,41],[23,10],[34,28],[9,45],[31,30],[11,-30],[23,-25],[15,-39],[17,-123],[10,-37],[7,-97],[5,-208],[17,-178],[4,-247],[10,-143],[18,-110],[2,-48],[-11,-46],[-7,-145],[4,-47],[-12,-113],[-4,-67],[-18,-66],[-15,4],[-12,-42],[1,66],[-9,27],[10,16],[15,62],[-14,26],[-15,-5],[-19,-34],[-7,-32],[9,-27],[2,-45],[-15,4],[-11,-52],[1,-84],[-7,-77],[-17,-53],[-30,-25],[-18,-97],[2,-127],[-3,-44],[-15,-25],[-1,-70],[-16,-39],[-6,-39],[-13,-4],[-7,-65],[-11,-11],[-17,-72],[5,-79],[-8,-9]],[[26661,65520],[-86,-11],[-167,-20],[-124,-12]],[[25045,72671],[21,69],[95,141],[7,-2],[43,98],[31,42],[6,-11],[28,29],[-1,-28],[-12,-16],[-30,-80],[0,-30],[-25,-55],[-51,-53],[-42,-66],[2,-20],[23,0],[-59,-73],[-18,3],[-18,52]],[[24721,71146],[19,40],[12,3],[39,49],[38,34],[31,77],[19,64],[16,27],[33,17],[15,-17],[29,27],[22,-3],[52,75],[30,94],[22,5],[29,23],[10,39],[5,51],[25,65],[14,16],[30,82],[23,23],[21,56],[11,54],[20,52],[58,85],[56,25],[50,-7],[23,-39],[1,-45],[-11,5],[-17,-24],[-19,13],[-21,-10],[5,-47],[-32,-57],[-30,-95],[-19,-20],[-5,-74],[-7,9],[-7,-52],[-14,-26],[-5,-67],[-12,-48],[-9,-6],[-12,-164],[6,-52],[-9,-35],[11,3],[20,87],[3,44],[7,-13],[29,80],[28,43],[-12,-55],[-12,-24],[-15,-77],[30,84],[26,18],[14,-13],[37,1],[15,-30],[8,8],[17,-35],[8,-39],[15,11],[22,-63],[3,-61],[17,-49],[6,-47],[14,-49],[19,-15],[-2,-79],[11,-28],[26,-15],[42,10],[25,43],[11,-8],[14,-72],[12,-27],[19,-4],[8,46],[16,-7],[9,-38],[4,69],[-7,53],[16,20],[7,-32],[-6,-56],[17,-26],[26,72],[40,62],[59,110],[11,-21],[61,42],[46,-16],[35,-3],[30,7],[62,85],[24,12],[30,-7],[32,14],[-22,-84],[-2,-135],[2,-45],[-8,-19],[9,-51],[16,-8],[9,16],[6,-26],[15,3],[17,-28],[34,49],[13,-4],[11,-46],[-1,-35],[25,28],[7,-7],[10,65],[19,24],[23,-19],[11,9],[8,39],[27,-5],[5,-30],[-10,-100],[7,-120],[1,-95],[-29,-2],[-8,-65],[15,-12],[5,21],[15,-4],[8,-38],[19,-19],[-13,-40],[24,-75],[12,-1],[20,-45],[8,38],[14,-35],[8,26],[-16,100],[14,-15],[41,13],[12,-15],[14,-91],[16,-31],[-10,-64],[-14,-20],[-27,39],[-31,-16],[-31,42],[-11,-12],[-27,1],[-27,23],[-60,-26],[-13,-28],[-37,69],[-15,48],[-13,-7],[-13,30],[-10,-41],[2,-51],[-15,-32],[1,-45],[9,-63],[-12,-20],[-24,42],[-3,31],[-21,37],[-5,30],[-22,64],[-38,46],[-13,-7],[-33,49],[-18,-5],[-13,23],[-5,-20],[-19,11],[-25,-75],[-17,-73],[-9,-8],[-32,23],[-23,-15],[-8,-22],[2,-34],[-23,37],[-21,17],[-24,-14],[-10,11],[-23,-24],[-13,-42],[-2,-63],[-9,-72],[-14,4],[-7,-39],[-22,-15],[-6,-46],[-13,-3],[0,-45],[-12,-9],[4,-61],[-20,32],[-9,40],[12,27],[1,34],[11,31],[1,40],[13,-4],[15,87],[-3,43],[-12,10],[-18,-75],[-38,24],[3,-51],[-13,-47],[-5,-56],[-30,-31],[-5,-27],[-6,39],[3,55],[-4,67],[-8,32],[-10,-19],[-5,-120],[3,-12],[-31,-55],[-26,-129],[-17,-146],[-19,-65],[-20,-112],[-41,-174],[6,-33]],[[25508,69434],[-19,14],[-8,47],[-13,28],[-2,29],[15,118],[11,48],[-2,34],[-11,25],[-16,-47],[-27,-10]],[[25436,69720],[0,0]],[[25436,69720],[-7,47],[7,24],[-3,38],[13,34],[6,40],[-3,47],[8,69],[-14,75],[12,13],[-8,44],[-13,18],[-6,33],[-24,4],[-9,43],[-21,-18],[-18,45],[17,52],[-7,21],[0,47],[-40,48],[-14,-14],[-24,47],[-12,-15],[-21,21],[-2,25],[-27,-2],[-3,-32],[-14,0],[-4,29],[-17,16],[-12,-13],[-86,142],[-287,231],[1,27],[-28,167],[-27,16],[-10,24]],[[24739,71113],[0,0]],[[24739,71113],[-12,-6],[-6,39]],[[25252,52115],[30,-13],[-14,-20],[-12,9],[-4,24]],[[25179,52148],[16,13],[30,-29],[6,-15],[-24,5],[-28,26]],[[25119,52114],[15,7],[15,31],[-4,-29],[-21,-27],[-5,18]],[[25071,52140],[21,-1],[8,13],[-5,-43],[-10,-7],[-17,26],[3,12]],[[24751,57677],[229,-2],[156,1],[202,1]],[[25284,52292],[-4,-32],[-7,15],[-10,-40],[-18,27],[-13,-15],[-5,30],[-18,7],[-18,-23],[-23,49],[-2,-28],[-21,38],[-22,-3],[-31,-27],[-28,-42],[-30,-33],[4,54],[-10,30],[-14,-27],[9,-17],[1,-40],[-25,-57],[-8,-80],[-9,10],[-13,-16]],[[24969,52072],[-12,0],[-13,50],[-4,66],[0,69],[-15,77],[0,54],[-10,43],[-11,19],[-4,39],[-10,34],[-4,95],[-8,14],[10,88],[-4,36],[7,25],[9,125],[7,19],[-1,45],[7,22],[-7,36],[-165,-2],[-134,-1],[-226,0],[13,21],[7,58],[-16,50],[-1,28],[10,46],[-3,41],[-12,30],[1,38],[18,-7],[17,20],[2,43],[-12,37],[-1,45],[-7,16],[9,39],[4,-50],[8,-29],[9,7],[0,29],[-13,75],[-1,74],[20,18],[12,35],[-4,32],[-18,-13],[-9,30],[5,38],[10,-28],[18,0],[1,106],[11,35],[23,5],[4,18],[-29,11],[7,94],[12,11],[2,-43],[7,-17],[5,28],[-6,21],[24,78],[-2,50],[7,25],[19,14],[0,50],[-19,26],[5,25],[13,-39],[5,36],[12,22],[9,69],[-15,24],[2,-62],[-32,11],[2,79],[27,20],[7,27],[14,-31],[5,42],[-2,53],[12,-8],[16,79],[-4,18],[-6,-40],[-23,17],[0,58],[8,20],[-8,35],[-10,-20],[-23,49],[3,58],[5,1],[17,-48],[10,7],[-5,26],[-21,50],[14,31],[8,37],[-7,37],[-6,-46],[-20,-26],[-6,14],[-3,52],[9,38],[16,33],[2,27],[-31,30],[1,71],[5,37],[21,52],[2,39],[-9,72],[-11,-4],[1,-67],[-14,-26],[-9,22],[3,48],[10,50]],[[17580,73980],[234,-2],[232,3],[190,-5],[190,2],[348,-2],[211,0],[232,2],[328,0],[141,0],[292,0],[227,1],[143,-1],[294,0],[114,0],[167,1]],[[18973,68711],[-21,23],[-6,49],[-24,59],[2,43],[-28,117],[-17,36],[-8,-52],[-20,-3],[5,-33],[-16,-98],[15,-64],[-32,26],[-9,-16],[-24,13],[-3,-19],[-30,-40],[-13,63],[-22,-8],[-13,-25],[-10,13],[-21,-30],[-8,22],[-14,-8],[-12,35],[-16,7],[-9,-35],[-9,0],[-2,-61],[-8,-45],[-24,38],[-8,-20],[-11,24],[-33,2],[-17,22],[-17,-23],[-15,-72],[6,-53],[-9,-22],[-11,44],[-18,24],[-15,40],[-6,53],[5,34],[-21,81],[9,48],[-5,50],[-18,109],[-32,58],[-26,-44],[-4,40],[-28,53],[-11,97],[14,13],[2,55],[-4,61],[-19,39],[2,26],[-17,15],[-7,73],[-24,73],[-1,35],[-14,54],[2,70],[-8,19],[-6,57],[6,30],[-1,46],[-19,0],[7,95],[-15,25],[-12,-2],[2,26],[-10,44],[-15,26],[-9,-13],[2,-41],[-15,-35],[-19,-82],[-19,-26],[-13,12],[-3,-58],[-24,-42],[-5,36],[-14,22],[-13,60],[-25,0],[4,53],[-8,36],[18,37],[1,48],[-19,74],[18,89],[25,1],[7,44],[-13,54],[6,49],[-19,27],[-4,54],[9,58],[-17,33],[2,49],[19,7],[-1,79],[-6,30],[13,24],[1,116],[13,65],[-7,69],[12,3],[10,123],[-3,58],[-8,10],[-26,-23],[-4,-21],[-22,15],[-19,-5],[-8,39],[6,39],[-7,30],[-14,9],[-4,-30],[-15,-21],[-6,17],[6,55],[-34,58],[-16,59],[4,71],[-20,60],[-13,-1],[-6,60],[-19,82],[-17,54],[-12,13],[-5,37],[-11,7],[2,38],[-9,41],[-24,10],[-32,45],[-7,54],[-47,87],[-11,-2],[12,36],[22,8],[3,22],[-16,7],[-5,57],[-11,5],[2,34],[13,32],[-12,55],[2,63],[-13,24],[-7,47],[-8,-6],[-8,88],[-15,21],[-39,152],[-1,279],[1,109],[0,804]],[[29991,69339],[3,68],[18,64],[-3,15],[11,74],[-13,36],[18,11],[4,26],[22,42],[15,-61],[28,-5],[13,70]],[[30213,67064],[-30,-174],[-2,-44]],[[29724,66677],[-9,53],[-6,-10],[-12,102],[9,73],[1,57],[13,10],[8,45],[-6,52],[9,33],[-5,65],[4,138],[12,64],[-6,60],[10,135],[-5,35],[5,74],[15,33],[6,109],[9,44],[19,43],[6,44],[-1,64],[19,67],[0,85],[12,44],[12,69],[0,47],[-10,68],[6,57],[-6,34],[10,61],[35,32],[10,-13],[16,21],[5,52],[24,14],[14,39],[7,45],[16,22],[-6,59],[11,13],[2,73],[-10,38],[-11,102],[15,52],[4,64],[18,75],[-13,89],[11,30]],[[29842,64964],[3,18],[27,22],[-21,-43],[-9,3]],[[29812,64781],[5,20],[11,-16],[0,-50],[-6,35],[-10,11]],[[29792,64880],[16,16],[-12,-43],[-4,27]],[[29275,64272],[5,-67],[-9,-39],[-38,-78],[-11,-1]],[[28633,68013],[16,50],[-5,-45],[-11,-5]],[[28611,68032],[12,40],[9,-5],[-21,-35]],[[27689,66145],[33,53],[53,111],[29,91],[30,50],[26,25],[11,70],[13,36],[4,52],[36,56],[19,54],[-4,80],[-13,40],[2,43],[-7,37],[-23,35],[1,92],[-18,15],[9,77],[-5,125],[-3,13],[28,22],[38,42],[56,47],[40,20],[33,2],[38,-9],[36,8],[86,-42],[23,-19],[15,-47],[23,-46],[12,-10],[40,49],[35,1],[43,12],[21,-19],[23,-1],[14,25],[30,20],[18,40],[9,1],[19,80],[30,64],[10,8],[19,54],[14,5],[20,-15],[17,19],[9,53],[2,87],[-9,180],[-20,40],[11,50],[14,11],[2,-33],[21,41],[-3,43],[-19,47],[-22,-15],[5,29],[-15,51],[-15,1],[1,80],[16,115],[19,5],[23,42],[0,48],[18,22],[27,55],[9,-5],[16,29],[25,75],[4,46],[12,51],[41,121],[31,100],[56,141],[-1,12],[68,109],[26,62],[18,0],[22,37],[27,-29],[19,10],[91,-8],[53,-1],[107,14],[24,-1],[93,10]],[[29478,69336],[1,-109],[-7,-30],[-4,-63],[13,-57],[-10,-55],[-2,-92],[-4,-31],[4,-70],[19,-88],[4,-69],[-12,-80],[7,-114],[-4,-36],[-19,-63],[-5,-89],[-8,-79],[9,-27],[-1,-103],[10,-67],[-5,-64],[12,-57],[-16,-97],[-7,-114],[10,-26],[7,66],[19,0],[2,-53],[13,-29],[-2,-343],[-6,-422],[0,-74],[-4,-37],[8,-65]],[[29390,64649],[-7,-42],[-21,-42],[-2,-79],[-13,2],[9,-60],[18,87],[11,-15],[10,42],[21,27],[18,2],[4,33],[22,-30],[2,41],[9,-28],[20,-8],[18,-23],[23,28],[2,43],[17,8],[10,-12],[75,3],[39,20],[14,18],[30,63],[9,40],[12,13],[13,50],[21,21],[12,-2],[-18,-52],[-9,-6],[15,-31],[5,-44],[17,-12],[11,25],[16,-72],[15,17],[23,48],[2,28],[17,11],[12,-12],[-5,-21],[-67,-94],[-78,-123],[-50,-62],[-81,-93],[-53,-78],[-43,-41],[-27,-12],[-6,15],[-64,-60],[-61,10],[-46,-55],[3,38],[-23,-2],[3,25],[-11,39],[7,35],[-8,36]],[[26861,65369],[16,17],[-2,-36],[-14,19]],[[26831,65420],[6,90],[11,-35],[-3,-35],[-14,-42],[0,22]],[[26661,65520],[1,-26],[21,-28],[13,17],[37,-82],[25,-20],[11,-21],[18,-66],[19,-29],[18,23],[2,50],[7,13],[14,-55],[19,2],[-1,-37],[29,-96],[16,-33],[22,-21],[41,57],[22,4],[17,35],[51,60],[37,-38],[19,15],[20,-9],[29,61],[29,86],[8,10],[16,58],[44,102],[10,1],[67,108],[30,17],[24,34],[65,69],[17,24]],[[15490,70789],[21,10],[13,-45],[-1,-55],[17,-42],[25,-1],[32,51],[14,-4],[59,-119],[7,-61],[18,-81],[1,-57],[7,-52],[-3,-67],[10,-88],[-4,-41],[3,-50],[33,-54],[46,-35],[11,-19],[17,14],[13,-32],[18,-5],[23,39],[23,7],[54,83],[12,45],[15,16],[21,-15],[29,12],[28,26],[19,-30],[17,-9],[18,14],[34,-40],[9,-75],[14,4],[19,50],[34,4],[13,-16],[11,34],[47,51],[15,35],[21,-9],[21,-51],[22,6],[34,26],[20,5],[11,42],[28,27],[29,46],[46,27],[37,10],[13,57],[14,23],[24,-22],[64,39],[17,-14],[19,6],[28,42],[11,36],[163,1],[250,-3],[164,-3]],[[17338,70482],[16,-107],[11,-27],[16,-75],[18,5],[10,-47],[19,-2],[16,-48],[0,-53],[13,-49],[7,-54],[-24,-108],[-1,-55],[-10,-23],[-24,-150],[1,-36],[-9,-51],[-7,-116],[-13,-40],[-6,-53],[-14,-44],[-3,-51],[7,-58],[-9,-68],[-18,-76],[0,-21],[-32,-49],[-14,-93],[-8,-97],[-10,-66],[-18,-48],[3,-66],[-8,-36],[15,-69],[-8,-56],[13,-35],[19,25],[16,-59],[20,12],[2,-53],[18,-17],[1,-31],[-10,-62],[-12,-17],[1,-42],[11,-32],[-1,-43],[-12,-81],[0,-54],[-11,-11],[-2,-59],[0,-2105]],[[17307,65831],[-166,-2],[-273,-5],[-26,-3],[-143,2],[-220,2]],[[15305,65829],[-21,55],[-15,55],[-7,69],[2,33],[-14,81],[2,32],[-7,63],[-2,126],[13,147],[-7,107],[-17,87],[-11,2],[-11,123],[15,90],[12,96],[6,83],[0,52],[9,80],[6,99],[-6,42],[17,53],[8,43],[16,132],[15,193],[15,283],[7,225],[4,188],[-2,8],[10,197],[-1,69],[7,184],[0,92],[-5,39],[8,91],[12,227],[8,117],[4,157],[-3,66],[3,109],[-4,69],[5,24],[5,176],[-1,76],[-11,41],[6,87],[-2,83],[-7,45],[16,36],[1,109],[-19,193],[27,-79],[14,-14],[-3,38],[23,10],[7,17],[11,-28],[12,31],[15,0],[20,51]],[[26599,59546],[33,-4],[78,1],[5,-5],[157,-1],[61,3],[151,-2],[3,26],[77,-5],[-8,-28]],[[18139,65823],[61,-6],[262,13],[192,2],[5,-5],[196,3],[118,3]],[[18136,60011],[0,880],[1,11],[-1,272],[1,173],[-1,298],[1,318],[0,1661],[1,149],[0,628],[1,266],[0,1156]],[[28738,60998],[7,-15],[-7,-27],[0,42]],[[28949,61206],[-16,-79],[-15,-98],[-8,-27],[-5,21],[-15,-7],[-19,-78],[-12,-70],[-11,-126],[1,-64],[-23,-128],[7,-14],[-18,-91],[-12,-79],[-9,-11],[1,-57],[-11,-86],[-18,-64],[-16,2],[4,-35],[-9,-5],[-1,84],[-10,55],[-4,61],[2,70],[9,59],[3,89],[10,105],[4,76],[16,79],[18,110],[-4,34],[21,17],[15,65],[1,28],[-20,21],[25,54]],[[28739,61120],[-11,-44],[-3,44]],[[28423,61914],[-20,-21],[-13,21],[0,-52],[-18,-113],[-4,-52],[2,-76],[15,-59],[29,15],[6,26],[15,0],[12,38],[9,-30],[-6,-74],[19,-64],[0,-49],[35,-59],[25,-2],[7,-28],[6,21],[24,-9],[4,-44],[16,-39],[8,-59],[13,-15],[15,-54],[20,-23],[30,-68],[-5,-65],[-15,-24],[-2,-107],[4,-29],[-11,-46],[13,-23],[-19,-30],[-31,64],[-11,-27],[-7,25],[0,41],[-13,81],[-19,32],[-8,35],[-12,12],[-21,103],[-11,11],[-4,45],[-13,30],[-2,-30],[28,-89],[20,-114],[15,-24],[1,-25],[16,-14],[10,-96],[11,-53],[30,-4],[7,-36],[31,-24],[-14,-29],[-1,-37],[13,-8],[4,22],[8,-41],[5,-110],[-8,-90],[-18,63],[-21,45],[-9,-42],[11,-39],[7,-55],[9,-14],[-22,-24],[-18,-4],[6,-39],[22,11],[-2,-76],[14,12],[4,-31],[12,-20],[6,-49],[-9,-97],[-4,15],[-16,-18],[-15,-34],[-10,68],[-29,61],[-14,45],[4,48],[-13,71],[-22,-9],[-8,-25],[-10,46],[-18,11],[-4,23],[-21,-35],[11,-33],[12,8],[18,-13],[15,-55],[9,-2],[8,58],[8,-119],[1,-67],[22,-19],[25,-82],[1,-65],[27,4],[9,27],[1,-33],[9,-11],[-3,86],[17,6],[13,-29],[35,-36],[17,27],[11,-11],[8,-128],[12,-140],[9,-71],[7,-94]],[[15775,72069],[4,105],[10,72],[12,-52],[-2,-58],[19,-32],[-18,-27],[-5,-26],[-18,-12],[-2,30]],[[15740,73454],[0,40],[20,-41],[-17,-26],[-3,27]],[[15720,73667],[6,14],[26,-115],[-18,42],[-14,59]],[[15715,73495],[8,29],[12,-47],[-15,-33],[-5,51]],[[15707,73080],[13,89],[14,59],[2,55],[16,11],[7,-19],[0,-49],[19,-38],[3,-26],[-15,-19],[-17,15],[-1,-29],[-13,-34],[-14,-7],[3,-24],[23,10],[11,-42],[8,-84],[-4,-14],[10,-100],[8,27],[-5,67],[10,-3],[16,-57],[16,-13],[7,-94],[-8,-58],[-14,13],[-12,86],[-21,-25],[2,30],[-19,44],[3,93],[-5,56],[-18,-4],[-3,30],[-22,54]],[[15649,73739],[11,-4],[34,-53],[-8,-8],[-22,20],[-15,45]],[[15623,73630],[17,26],[2,-33],[-19,7]],[[15618,73982],[15,0],[4,-29],[-17,-2],[-2,31]],[[15586,73509],[7,30],[20,1],[2,-29],[15,-33],[17,-9],[-18,69],[37,108],[12,-2],[37,-58],[-19,-50],[11,-66],[-2,-62],[-11,-25],[4,-69],[-20,-12],[-15,50],[-9,-12],[-22,11],[-31,62],[-6,76],[-9,20]],[[15577,73617],[18,-10],[18,-54],[-30,41],[-6,23]],[[17306,73978],[-1,-290],[0,-441],[-2,-286],[0,-702],[1,-52],[0,-1247],[-7,-48],[20,-76],[8,-54],[0,-63],[12,-40],[-17,-93],[7,-11],[11,-93]],[[15490,70789],[-34,9],[-3,34],[-12,6],[-10,-31],[-13,10],[-19,-51],[-9,7],[-21,74],[-10,8],[-7,-47],[-10,-10],[6,139],[1,124],[-4,165],[13,-61],[-2,-100],[4,-137],[17,0],[1,37],[-10,40],[0,61],[12,-37],[14,83],[-19,116],[11,42],[25,53],[-17,37],[-6,-27],[-18,-2],[4,-23],[-16,4],[-20,44],[-1,55],[-11,130],[8,8],[6,-52],[11,31],[52,63],[-10,27],[-34,23],[-2,45],[-27,14],[-8,-24],[8,-90],[-16,-21],[3,38],[-4,206],[-14,176],[-24,80],[-9,207],[-5,77],[-15,162],[-14,36],[-4,55],[-14,23],[-5,31],[-19,29],[-12,110],[-8,101],[1,53],[-11,56],[12,58],[9,138],[-19,46],[3,22],[17,1],[40,-55],[32,-64],[10,-1],[25,-39],[6,12],[41,-55],[-1,-20],[35,-41],[56,-11],[21,13],[31,-37],[9,19],[10,-18],[24,7],[12,-32],[41,2],[32,71],[-3,-24],[22,-42],[7,-45],[17,17],[17,-5],[-3,-32],[14,-20],[1,-59],[10,6],[3,53],[-14,34],[0,40],[12,28],[21,10],[3,-31],[-15,-34],[10,-50],[7,6],[2,48],[10,14],[8,-100],[-15,-10],[11,-42],[8,-78],[13,-21],[-8,-25],[-16,2],[2,-42],[-17,-36],[-9,-113],[-14,-9],[11,113],[-6,17],[-19,-101],[-4,-53],[-21,-70],[-38,-183],[-13,-119],[12,8],[23,-13],[12,27],[21,17],[3,38],[-44,-62],[-17,27],[42,226],[31,74],[29,28],[3,73],[16,73],[31,68],[-9,97],[22,-40],[14,-187],[-22,0],[3,-40],[11,-14],[-4,-56],[7,-19],[0,-53],[-14,-38],[-1,-38],[15,-16],[-10,-48],[-6,-87],[4,-21],[-10,-57],[7,-49],[-15,-79],[-27,78],[8,96],[-16,-42],[-6,-63],[30,-83],[-10,-16],[1,-48],[-11,-26],[-16,46],[-20,105],[12,37],[1,61],[-7,25],[0,-51],[-12,-57],[7,-72],[-6,-48],[13,14],[11,-66],[27,-22],[11,37],[0,33],[13,16],[8,79],[10,53],[-2,30],[25,-58],[10,25],[-4,36],[27,34],[0,50],[-8,58],[-8,11],[6,35],[-10,40],[-7,71],[22,38],[-24,58],[16,82],[-6,91],[15,46],[9,119],[22,25],[-1,69],[-14,23],[-23,86],[1,74],[-10,49],[-15,4],[3,-24],[-11,-28],[10,-67],[18,-50],[1,-35],[-26,85],[-12,4],[-7,58],[2,77],[18,24],[16,-22],[10,42],[-10,45],[-28,45],[-13,48],[1,39],[-29,-33],[-7,33],[4,45],[-13,-17],[3,39],[24,28],[13,-15],[9,-49],[19,7],[-10,108],[17,6],[5,34],[-21,66],[-5,66],[8,44],[-13,30],[-17,-6],[-11,-41],[9,-44],[-19,40],[8,57],[-10,25],[-9,-14],[-1,65],[-21,54],[11,21],[-5,36],[-13,16],[16,54],[184,0],[97,-6],[145,5],[143,-2],[190,0],[169,0],[165,1],[178,0],[325,-2]],[[25685,69733],[6,80],[31,-17],[-23,-128],[-14,65]],[[25568,69555],[12,14],[2,-63],[-14,23],[0,26]],[[24707,71654],[8,83],[12,4],[-5,-75],[-15,-12]],[[24691,71507],[21,33],[-14,-47],[-7,14]],[[24655,71564],[5,21],[30,29],[5,-13],[-11,-48],[-24,-11],[-5,22]],[[24625,71464],[3,27],[20,41],[1,-19],[-24,-49]],[[24631,71609],[14,-54],[-13,-3],[-8,37],[7,20]],[[24621,71679],[35,36],[11,-55],[14,34],[2,-44],[-16,-9],[-17,-49],[-11,42],[-16,20],[-2,25]],[[24616,71401],[17,18],[32,86],[14,-32],[-30,-33],[5,-35],[-17,-4],[-20,-37],[-1,37]],[[24563,71635],[15,17],[-1,-44],[-14,27]],[[24276,71309],[20,-30],[34,11],[49,52],[19,27],[18,0],[48,70],[25,27],[6,26],[17,-22],[7,33],[25,10],[22,70],[14,-12],[14,35],[10,-4],[24,-81],[-14,-76],[-24,-78],[9,-73],[-16,-35],[-11,-77],[13,-16],[42,73],[5,54],[42,-108],[13,-22],[9,10],[25,-27]],[[25508,69434],[-10,-58],[-1,-80],[-37,-13],[-21,-40],[3,-47],[-11,-59],[-9,-15],[-11,-83],[-12,-42],[-7,-104],[3,-25],[-13,-50],[20,-42],[12,7],[7,53],[26,64],[10,3],[15,63],[0,36],[31,133],[26,36],[11,-7],[11,34],[15,-32],[-6,46],[12,97],[27,109],[7,100],[12,-5],[21,32],[1,59],[17,60],[22,-3],[-2,-87],[-16,-5],[-2,-142],[-12,-40],[-8,4],[-5,-53],[-14,-52],[5,-43],[-13,-39],[4,-26],[-18,-33],[-13,-62],[-8,-87],[-17,-107],[-9,-26],[-9,-62],[-21,-268],[9,-94],[-2,-71],[-12,-41],[-23,-46],[-3,-62],[-8,-37],[-14,-162],[2,-82],[8,-50],[-2,-102],[-21,-118],[-7,-136],[-20,-107],[-9,-156],[8,-76],[-5,-38],[8,-85],[-7,-57],[14,-62],[0,-85],[6,-63],[16,-59],[-4,-89],[-11,-107],[6,-145]],[[2682,386],[26,11],[1,-51],[-9,8],[-8,-28],[-10,60]],[[2636,452],[21,8],[-4,-21],[-13,-12],[-4,25]],[[2313,271],[13,35],[16,2],[19,68],[4,-20],[27,2],[4,-44],[-7,13],[-29,-30],[-23,-89],[-11,47],[-13,16]],[[90204,32599],[5,15],[34,16],[21,137],[6,65],[7,-11],[7,-43],[14,-11],[-10,-88],[-32,-109],[-9,-44],[-2,-111],[-12,-56],[-18,30],[-7,101],[8,50],[-12,59]],[[90597,35570],[10,43],[4,-16],[-8,-45],[-6,18]],[[90537,37432],[5,20],[1,-49],[-6,29]],[[90507,37973],[14,53],[0,59],[11,0],[0,-66],[-9,-13],[-10,-55],[-6,22]],[[90501,34555],[4,28],[2,101],[9,-12],[20,67],[5,-22],[-14,-80],[4,-63],[-13,7],[0,-73],[-12,18],[-5,29]],[[90487,38800],[6,39],[11,-28],[-1,-51],[-8,-23],[-7,25],[-1,38]],[[90486,35993],[20,2],[3,-36],[-19,-8],[-4,42]],[[90472,34420],[4,45],[13,54],[5,-54],[-4,-24],[7,-40],[-2,-61],[-9,-29],[-14,109]],[[90343,33382],[11,51],[21,35],[15,-9],[-2,-35],[-12,-13],[-8,-39],[-11,-6],[-5,23],[-9,-7]],[[28030,56345],[-13,-8],[-36,-51],[-27,-66],[-35,-121],[-18,-79],[-7,-45],[-16,-58],[-14,-93],[-13,-174],[3,-55],[-7,-48],[-14,-47],[-23,-41],[-9,-97],[-17,10],[-17,-16],[-11,39],[-16,-33],[-10,-63],[3,-31],[8,10],[0,-33],[-15,-20],[-18,-45],[-9,-52],[-34,-59],[-10,38],[-11,-7],[-1,-32],[17,-22],[-5,-59],[-25,-52],[-7,-40],[-10,5],[-24,-22],[-17,-59],[-6,18],[-36,-90],[-8,21],[-15,-28],[-2,30],[-13,-1],[-4,-42],[15,-83],[-7,-74],[-32,-62],[-19,-20],[-2,41],[-19,40],[-11,-22],[-2,-31],[12,-15],[14,-59],[-15,-65],[-25,-59],[-9,0],[-17,-67],[5,-21]],[[31708,38299],[11,-21],[12,13],[9,-36],[-17,-36],[-12,19],[-3,61]],[[31642,38028],[49,54],[35,-32],[-18,-26],[-21,-7],[-11,-24],[-8,12],[-17,-17],[-9,40]],[[31637,38350],[7,-14],[0,-44],[-7,58]],[[31170,38320],[15,18],[17,49],[-4,63],[7,32],[14,12],[20,-6],[17,-25],[50,2],[20,-22],[24,26],[18,-5],[25,-25],[8,20],[28,0],[27,-20],[16,1],[7,-19],[6,24],[37,-35],[4,19],[18,-18],[6,7],[31,-33],[14,-49],[7,13],[5,-27],[10,-6],[14,22],[-5,-40],[3,-84],[13,-30],[-7,-43],[-11,19],[3,-28],[-10,2],[-7,-32],[-13,1],[-11,-59],[-7,-83],[-8,-6],[-1,-44],[-25,-46],[-15,-9],[-12,12],[-7,-27],[-10,13],[-21,-43],[-10,9],[-9,-29],[-8,9],[-18,66],[-12,-10],[-7,-34],[-21,60],[-8,0],[-25,-33],[-14,24],[-12,-19],[-25,47],[-7,-39],[-14,-27],[-21,-3],[-12,-18],[-8,41],[-21,8],[-11,-32],[-19,19],[-12,-12],[1,53],[10,31],[-11,12],[3,65],[5,15],[1,75],[7,31],[-10,101],[-13,21],[-9,78]],[[30985,38023],[20,12],[5,-43],[-15,-38],[-12,32],[2,37]],[[31858,38286],[13,39],[11,-4],[15,-28],[-13,-4],[1,-49],[-9,20],[-13,-5],[-5,31]],[[31828,37522],[7,36],[-4,40],[7,30],[10,-13],[8,22],[17,3],[6,-29],[39,5],[2,-18],[-32,-48],[-41,-30],[-19,2]],[[31779,38288],[6,50],[10,-23],[12,26],[19,-21],[33,6],[-2,-23],[-14,-4],[9,-42],[-16,-11],[-15,23],[-7,-20],[-12,49],[-23,-10]],[[17306,73978],[171,1],[103,1]],[[18139,65823],[-119,3],[-36,-2],[-58,9],[-63,-7],[-79,0],[-293,0],[-184,5]],[[29478,69336],[71,5],[115,0],[40,-9],[62,-5],[57,2],[168,10]],[[25149,51924],[13,-63],[5,-76],[-3,-101],[-10,-105],[-4,3],[8,90],[4,100],[-1,46],[-12,106]],[[25020,51931],[11,38],[32,81],[2,-14],[-13,-63],[2,-28],[13,-33],[-15,-50],[-3,47],[-10,-10],[-17,10],[-2,22]],[[24941,51321],[17,10],[-9,-42],[-8,32]],[[24732,50824],[7,27],[13,-65],[-8,-14],[-12,52]],[[24681,50807],[39,-33],[-19,-8],[-20,41]],[[24628,50763],[25,19],[2,-17],[-26,-20],[-1,18]],[[24275,51386],[10,27],[12,-5],[3,26],[22,-6],[23,-61],[9,7],[6,-29],[-15,-36],[-1,-40],[-14,-19],[-59,115],[4,21]],[[24969,52072],[-17,-35],[-8,7],[-17,-56],[-2,-38],[-12,-15],[3,-40],[-28,17],[-11,-45],[5,-68],[18,-10],[13,25],[-4,-59],[8,-34],[15,-19],[13,11],[6,29],[5,101],[-2,13],[24,54],[3,44],[18,-34],[13,6],[0,-21],[-17,-34],[0,-34],[15,-17],[3,-61],[15,14],[11,82],[16,-25],[-4,-55],[-13,0],[-12,-44],[22,2],[-3,-29],[-31,-22],[13,-66],[11,22],[-7,-59],[-9,26],[-14,11],[-12,-55],[-1,-99],[-9,-5],[-6,86],[-11,1],[-2,-66],[13,-58],[-13,33],[-14,5],[-8,-17],[-15,6],[18,-39],[0,-32],[-23,49],[0,-25],[12,-32],[-12,-14],[1,-34],[11,-36],[20,-11],[-1,-22],[12,-24],[-1,-34],[7,-46],[9,30],[5,-21],[22,-2],[16,-34],[3,30],[20,-91],[11,44],[24,-111],[0,-59],[6,-13],[18,28],[7,-41],[-24,-15],[-2,-33],[16,-3],[-8,-52],[-11,24],[-12,-96],[2,-44],[-21,36],[-2,55],[-8,16],[-31,-138],[-15,-41],[7,67],[9,29],[5,48],[9,21],[0,54],[9,23],[-1,51],[-10,24],[-4,-62],[-16,-29],[-12,29],[-14,77],[-34,43],[-10,45],[-56,33],[-12,-14],[-48,-143],[-46,-115],[-7,10],[4,41],[-12,16],[-2,41],[6,3],[-12,100],[-11,27],[-9,-1],[1,-28],[-8,-36],[2,76],[-10,56],[-13,-64],[-14,14],[-7,-22],[-7,31],[-6,-27],[10,-63],[-12,4],[-7,-27],[-4,-54],[-8,7],[-5,-57],[-8,12],[-19,-33],[-6,-76],[-16,16],[5,21],[-13,67],[-18,57],[-11,-13],[-26,21],[-10,33],[-25,12],[-16,25],[-16,60],[12,14],[7,58],[8,-12],[12,-52],[7,22],[-1,-68],[15,-17],[-4,104],[-23,64],[0,42],[-11,7],[-9,-41],[-13,-13],[2,41],[-10,-7],[3,39],[9,28],[-10,40],[-29,-50],[-10,80],[-10,-8],[-6,118],[-26,1],[6,33],[1,85],[-32,16],[-13,-10],[-20,-38],[-7,57],[8,41],[8,-3],[-2,46],[-16,8],[-14,-22],[-9,20],[-2,-40],[-24,-36],[-14,-34],[-6,32],[-18,-16],[0,-32],[9,-30],[18,-8],[-9,-30],[8,-63],[20,21],[5,-18],[-13,-14],[6,-20],[-32,-6],[-26,-49],[-20,-9],[-82,63],[-35,42],[-57,101],[-23,32],[-41,40],[-33,5],[-14,-14],[-36,7],[-58,-25],[-17,-13],[-26,-53]],[[30097,65246],[-20,-46],[-6,102],[2,64],[-10,22],[2,-159],[-17,2],[-2,-35],[-10,-7],[-1,55],[16,95],[8,68],[17,46]],[[30029,65436],[5,7],[11,-52],[-5,-7],[-11,52]],[[30019,65203],[6,51],[-4,23],[5,57],[4,-20],[0,-85],[-11,-26]],[[29960,64853],[11,80],[5,-14],[1,-76],[-17,10]],[[30068,65494],[-3,-45],[-14,-41],[-6,42],[4,35],[-19,54],[-8,40],[5,-129],[-22,17],[12,-39],[1,-75],[-12,-11],[8,-53],[0,-72],[-10,-45],[-8,-73],[-12,6],[-27,-18],[-27,-34],[-38,-30],[-1,16]]]}});var COe=Ae(_9=>{"use strict";m();var R5t=_9&&_9.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(_9,"__esModule",{value:!0});_9.HTMLPointMapRenderer=void 0;var O5t=up(),N5t=R5t(sW()),L5t=y9(),bOe=W0(),SOe=class extends L5t.HTMLChartRenderer{getDataValue(e){if(e.isNumber()||e.isString())return e.value;if(e.isTimestamp()||e.isDate())return(0,bOe.timeToString)(e.value,e.field.timeframe||O5t.TimestampTimeframe.Second);throw new Error("Invalid field type for point map chart.")}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp()||e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for point map.")}getVegaLiteSpec(e){if(e.isNull())throw new Error("Expected struct value not to be null.");let t=e.field.intrinsicFields,r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=s?this.getDataType(s):void 0,f=o?this.getDataType(o):void 0,p=a?this.getDataType(a):void 0,_=s!==void 0?{field:s.name,type:l,axis:{title:s.name},scale:(0,bOe.getColorScale)(l,!1)}:void 0,b=o?{field:o.name,type:f,axis:{title:o.name}}:{value:5},R=a?{field:a.name,type:p,axis:{title:a.name}}:{value:"circle"};return{...this.getSize(),data:{values:this.mapData(e)},projection:{type:"albersUsa"},layer:[{data:{values:N5t.default,format:{type:"topojson",feature:"states"}},mark:{type:"geoshape",fill:"#efefef",stroke:"white"}},{mark:"point",encoding:{latitude:{field:r.name,type:"quantitative"},longitude:{field:i.name,type:"quantitative"},size:b,color:_,shape:R}}],background:"transparent",config:{axis:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},legend:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},header:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500},mark:{font:"var(--malloy-Roboto"},title:{font:"var(--malloy-font-family, Roboto)",subtitleFont:"var(--malloy-font-family, Roboto)",fontWeight:500}}}}};_9.HTMLPointMapRenderer=SOe});var AOe=Ae(oW=>{"use strict";m();Object.defineProperty(oW,"__esModule",{value:!0});oW.HTMLScatterChartRenderer=void 0;var k5t=jV(),wOe=class extends k5t.HTMLCartesianChartRenderer{getMark(){return"point"}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp())return"temporal";if(e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for scatter chart.")}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for scatter chart.")}};oW.HTMLScatterChartRenderer=wOe});var FOe=Ae(E9=>{"use strict";m();var I5t=E9&&E9.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(E9,"__esModule",{value:!0});E9.HTMLSegmentMapRenderer=void 0;var M5t=I5t(sW()),P5t=y9(),B5t=W0(),TOe=class extends P5t.HTMLChartRenderer{getDataValue(e){if(e.isNull()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for segment map.")}getDataType(e){if(e.isAtomicField()){if(e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for segment map.")}getVegaLiteSpec(e){if(e.isNull())throw new Error("Expected struct value not to be null.");let t=e.field.intrinsicFields,r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=a?this.getDataType(a):void 0,f=a!==void 0?{field:a.name,type:l,axis:{title:a.name},scale:(0,B5t.getColorScale)(l,!1)}:void 0;return{...this.getSize(),data:{values:this.mapData(e)},projection:{type:"albersUsa"},layer:[{data:{values:M5t.default,format:{type:"topojson",feature:"states"}},mark:{type:"geoshape",fill:"lightgray",stroke:"white"}},{mark:"line",encoding:{latitude:{field:r.name,type:"quantitative"},longitude:{field:i.name,type:"quantitative"},latitude2:{field:s.name,type:"quantitative"},longitude2:{field:o.name,type:"quantitative"},color:f}}],background:"transparent",config:{axis:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},legend:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},header:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500},mark:{font:"var(--malloy-font-family, Roboto)"},title:{font:"var(--malloy-font-family, Roboto)",subtitleFont:"var(--malloy-font-family, Roboto)",fontWeight:500}}}}};E9.HTMLSegmentMapRenderer=TOe});var DOe=Ae(aW=>{"use strict";m();Object.defineProperty(aW,"__esModule",{value:!0});aW.STATE_CODES=void 0;aW.STATE_CODES={AL:"01",Alabama:"01",AK:"02",Alaska:"02",AZ:"04",Arizona:"04",AR:"05",Arkansas:"05",CA:"06",California:"06",CO:"08",Colorado:"08",CT:"09",Connecticut:"09",DE:"10",Delaware:"10",DC:"11","District of Columbia":"11",FL:"12",Florida:"12",GA:"13",Georgia:"13",HI:"15",Hawaii:"12",ID:"16",Idaho:"16",IL:"17",Illinois:"17",IN:"18",Indiana:"18",IA:"19",Iowa:"19",KS:"20",Kansas:"20",KY:"21",Kentucky:"21",LA:"22",Louisiana:"22",ME:"23",Maine:"23",MD:"24",Maryland:"24",MA:"25",Massachusetts:"25",MI:"26",Michigan:"26",MN:"27",Minnesota:"27",MS:"28",Mississippi:"28",MO:"29",Missouri:"29",MT:"30",Montana:"30",NE:"31",Nebraska:"31",NV:"32",Nevada:"32",NH:"33","New Hampshire":"33",NJ:"34","New Jersey":"34",NM:"35","New Mexico":"35",NY:"36","New York":"36",NC:"37","North Carolina":"37",ND:"38","North Dakota":"38",OH:"39",Ohio:"39",OK:"40",Oklahoma:"40",OR:"41",Oregon:"41",PA:"42",Pennsylvania:"42",RI:"44","Rhode Island":"44",SC:"45","South Carolina":"45",SD:"46","South Dakota":"46",TN:"47",Tennessee:"47",TX:"48",Texas:"48",UT:"49",Utah:"49",VT:"50",Vermont:"50",VA:"51",Virginia:"51",WA:"53",Washington:"53",WV:"54","West Virginia":"54",WI:"55",Wisconsin:"55",WY:"56",Wyoming:"56",PR:"72","Puerto Rico":"72",VI:"78",AS:"60",MP:"69",GU:"66"}});var NOe=Ae(b9=>{"use strict";m();var j5t=b9&&b9.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(b9,"__esModule",{value:!0});b9.HTMLShapeMapRenderer=void 0;var ROe=j5t(sW()),q5t=y9(),U5t=DOe(),$5t=W0(),OOe=class extends q5t.HTMLChartRenderer{getRegionField(e){return e.intrinsicFields[0]}getColorField(e){return e.intrinsicFields[1]}getDataValue(e){if(e.isNumber())return e.value;if(e.isString())if(e.field===this.getRegionField(e.field.parentExplore)){let t=U5t.STATE_CODES[e.value];return t===void 0?void 0:t}else return e.value;else{if(e.isNull())return;throw new Error("Invalid field type for shape map.")}}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp())return"nominal";if(e.isString())return e===this.getRegionField(e.parentExplore)?"quantitative":"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for shape map.")}getVegaLiteSpec(e){if(e.isNull())throw new Error("Expected struct value not to be null.");if(!e.isArray())throw new Error("Invalid data for shape map");let t=this.getRegionField(e.field),r=this.getColorField(e.field),i=r?this.getDataType(r):void 0,s=r!==void 0?{field:r.name,type:i,axis:{title:r.name},scale:(0,$5t.getColorScale)(i,!1)}:void 0,o=this.mapData(e).filter(a=>a[t.name]!==void 0);return{...this.getSize(),data:{values:o},projection:{type:"albersUsa"},layer:[{data:{values:ROe.default,format:{type:"topojson",feature:"states"}},mark:{type:"geoshape",fill:"#efefef",stroke:"white"}},{transform:[{lookup:t.name,from:{data:{values:ROe.default,format:{type:"topojson",feature:"states"}},key:"id"},as:"geo"}],mark:"geoshape",encoding:{shape:{field:"geo",type:"geojson"},color:s}}],background:"transparent",config:{axis:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},legend:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},header:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500},mark:{font:"var(--malloy-font-family, Roboto)"},title:{font:"var(--malloy-font-family, Roboto)",subtitleFont:"var(--malloy-font-family, Roboto)",fontWeight:500}}}}};b9.HTMLShapeMapRenderer=OOe});var IOe=Ae(lW=>{"use strict";m();Object.defineProperty(lW,"__esModule",{value:!0});lW.HTMLTableRenderer=void 0;var z5t=Hle(),H5t=SN(),LOe=QV(),kOe=W0(),uW=class extends H5t.ContainerRenderer{constructor(){super(...arguments);this.childrenStyleDefaults={size:"medium"}}async render(e){if(!e.isArray()&&!e.isRecord())throw new Error("Invalid type for Table Renderer");let t=this.document.createElement("tr");if(e.field.intrinsicFields.forEach(o=>{let a=o.name,f=this.childRenderers[a]instanceof LOe.HTMLNumberRenderer,p=this.document.createElement("th");p.style.cssText=`
        padding: 8px;
        color: var(--malloy-title-color, #505050);
        border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
        text-align: ${f?"right":"left"};
      `,p.innerHTML=a.replace(/_/g,"_&#8203;"),t.appendChild(p)}),this.options.isDrillingEnabled){let o=this.document.createElement("th");o.style.cssText=`
        padding: 8px;
        color: var(--malloy-title-color, #505050);
        border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
        width: 25px;
      `,t.appendChild(o)}let r=this.document.createElement("tbody");for(let o of e){let a=this.document.createElement("tr");for(let l of e.field.intrinsicFields){let f=this.childRenderers[l.name],p=f instanceof LOe.HTMLNumberRenderer;await(0,kOe.yieldTask)();let _=await f.render(o.cell(l)),b=this.document.createElement("td");b.style.cssText=`
          padding: ${f instanceof uW?"0":"8px"};
          vertical-align: top;
          border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
          ${p?"text-align: right;":""}
        `,b.appendChild(_),a.appendChild(b)}if(this.options.isDrillingEnabled){let l=this.document.createElement("td"),f=(0,kOe.createDrillIcon)(this.document);l.appendChild(f),l.style.cssText=`
          padding: 8px;
          vertical-align: top;
          border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
          width: 25px;
          cursor: pointer
        `,l.onclick=()=>{if(this.options.onDrill){let{drillQuery:p,drillFilters:_}=(0,z5t.getDrillQuery)(o);this.options.onDrill(p,f,_)}},a.appendChild(l)}r.appendChild(a)}let i=this.document.createElement("table");i.style.cssText=`
      border: 1px solid var(--malloy-border-color, #eaeaea);
      vertical-align: top;
      border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
      border-collapse: collapse;
      width: 100%;
    `;let s=this.document.createElement("thead");return s.appendChild(t),i.appendChild(s),i.appendChild(r),i}};lW.HTMLTableRenderer=uW});var Vle=Ae(H4=>{"use strict";m();Object.defineProperty(H4,"__esModule",{value:!0});H4.makeRenderer=H4.JSONView=H4.HTMLView=void 0;var cW=up(),MOe=jRe(),V5t=$Re(),POe=HRe(),W5t=WRe(),Q5t=GRe(),G5t=JRe(),Y5t=oOe(),K5t=lOe(),J5t=dOe(),X5t=pOe(),Z5t=gOe(),evt=Yle(),tvt=EOe(),nvt=QV(),rvt=COe(),ivt=AOe(),svt=FOe(),ovt=NOe(),avt=IOe(),uvt=gb(),BOe=$le(),fW=SN(),dW=W0(),jOe=class{constructor(e){this.document=e}async render(e,t){let r=UOe(e.field,this.document,t,{size:"large"});try{return await r.render(e)}catch(i){return i instanceof Error?(0,dW.createErrorElement)(this.document,i):(0,dW.createErrorElement)(this.document,"Internal error - Exception not an Error object.")}}};H4.HTMLView=jOe;var qOe=class{constructor(e){this.document=e}async render(e){let t=new POe.HTMLJSONRenderer(this.document);try{return await t.render(e)}catch(r){return r instanceof Error?(0,dW.createErrorElement)(this.document,r):(0,dW.createErrorElement)(this.document,"Internal error - Exception not an Error object.")}}};H4.JSONView=qOe;function lvt(n,e){let t=e[n.name];if(!t)for(let r of n.sourceClasses)t||(t=e[r]);return t}function hW(n){if(n.isExplore())return n;throw new Error(`${n.name} does not contain fields and cannot be rendered this way`)}function UOe(n,e,t,r){let i=lvt(n,t.dataStyles)||{};if(i.renderer==="shape_map"||n.name.endsWith("_shape_map"))return new ovt.HTMLShapeMapRenderer(e,r,i);if(i.renderer==="point_map"||n.name.endsWith("_point_map"))return new rvt.HTMLPointMapRenderer(e,r);if(i.renderer==="image"||n.name.endsWith("_image"))return new K5t.HTMLImageRenderer(e);if(i.renderer==="segment_map"||n.name.endsWith("_segment_map"))return new svt.HTMLSegmentMapRenderer(e,r,i);if(i.renderer==="dashboard"||n.name.endsWith("_dashboard"))return fW.ContainerRenderer.make(Y5t.HTMLDashboardRenderer,e,hW(n),t);if(i.renderer==="json"||n.name.endsWith("_json"))return new POe.HTMLJSONRenderer(e);if(i.renderer==="line_chart"||n.name.endsWith("_line_chart"))return new X5t.HTMLLineChartRenderer(e,r,i);if(i.renderer==="scatter_chart"||n.name.endsWith("_scatter_chart"))return new ivt.HTMLScatterChartRenderer(e,r);if(i.renderer==="bar_chart")return new MOe.HTMLBarChartRenderer(e,r,i);if(n.name.endsWith("_bar_chart"))return new MOe.HTMLBarChartRenderer(e,r,{});if(i.renderer==="vega"){let s=i.spec;if(s)return new BOe.HTMLVegaSpecRenderer(e,r,s);if(i.spec_name){let o=t.dataStyles[i.spec_name];if(o!==void 0&&o.renderer==="vega"){if(o.spec)return new BOe.HTMLVegaSpecRenderer(e,r,o.spec);throw new Error(`No spec defined on ${i.spec_name}`)}else throw new Error(`No Vega renderer named ${i.spec_name}`)}else throw new Error(`No top level vega spec defined for ${n.name}`)}else return i.renderer==="time"||n.hasParentExplore()&&n.isAtomicField()&&(n.type===cW.AtomicFieldType.Date||n.type===cW.AtomicFieldType.Timestamp)?new J5t.HTMLDateRenderer(e):i.renderer==="currency"?new Q5t.HTMLCurrencyRenderer(e):i.renderer==="percent"?new G5t.HTMLPercentRenderer(e):i.renderer==="number"||n.hasParentExplore()&&n.isAtomicField()&&n.type===cW.AtomicFieldType.Number?new nvt.HTMLNumberRenderer(e):i.renderer==="bytes"?new W5t.HTMLBytesRenderer(e):i.renderer==="boolean"||n.hasParentExplore()&&n.isAtomicField()&&n.type===cW.AtomicFieldType.Boolean?new V5t.HTMLBooleanRenderer(e):i.renderer==="link"||n.name.endsWith("_url")?new Z5t.HTMLLinkRenderer(e):i.renderer==="list"||n.name.endsWith("_list")?fW.ContainerRenderer.make(evt.HTMLListRenderer,e,hW(n),t):i.renderer==="list_detail"||n.name.endsWith("_list_detail")?fW.ContainerRenderer.make(tvt.HTMLListDetailRenderer,e,hW(n),t):i.renderer==="table"||!n.hasParentExplore()||n.isExploreField()?fW.ContainerRenderer.make(avt.HTMLTableRenderer,e,hW(n),t):new uvt.HTMLTextRenderer(e)}H4.makeRenderer=UOe});var zOe=Ae(S9=>{"use strict";m();Object.defineProperty(S9,"__esModule",{value:!0});S9.JSONView=S9.HTMLView=void 0;var $Oe=Vle();Object.defineProperty(S9,"HTMLView",{enumerable:!0,get:function(){return $Oe.HTMLView}});Object.defineProperty(S9,"JSONView",{enumerable:!0,get:function(){return $Oe.JSONView}})});var XOe=Ae((fYt,JOe)=>{m();JOe.exports=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}});var aNe=Ae((dYt,oNe)=>{"use strict";m();var xW=Object.prototype.hasOwnProperty,ZOe=Object.prototype.toString,eNe=Object.defineProperty,tNe=Object.getOwnPropertyDescriptor,nNe=function(e){return typeof Array.isArray=="function"?Array.isArray(e):ZOe.call(e)==="[object Array]"},rNe=function(e){if(!e||ZOe.call(e)!=="[object Object]")return!1;var t=xW.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&xW.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!r)return!1;var i;for(i in e);return typeof i=="undefined"||xW.call(e,i)},iNe=function(e,t){eNe&&t.name==="__proto__"?eNe(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},sNe=function(e,t){if(t==="__proto__")if(xW.call(e,t)){if(tNe)return tNe(e,t).value}else return;return e[t]};oNe.exports=function n(){var e,t,r,i,s,o,a=arguments[0],l=1,f=arguments.length,p=!1;for(typeof a=="boolean"&&(p=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<f;++l)if(e=arguments[l],e!=null)for(t in e)r=sNe(a,t),i=sNe(e,t),a!==i&&(p&&i&&(rNe(i)||(s=nNe(i)))?(s?(s=!1,o=r&&nNe(r)?r:[]):o=r&&rNe(r)?r:{},iNe(a,{name:t,newValue:n(p,o,i)})):typeof i!="undefined"&&iNe(a,{name:t,newValue:i}));return a}});var cNe=Ae((mYt,lNe)=>{m();lNe.exports=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}});var tLe=Ae((KXt,eLe)=>{"use strict";m();var c_t={}.hasOwnProperty;eLe.exports=c_t});var rLe=Ae((JXt,nLe)=>{"use strict";m();var f_t=[].splice;nLe.exports=f_t});var sLe=Ae((XXt,iLe)=>{"use strict";m();var Oce=rLe();function d_t(n,e,t,r){var i=n.length,s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(e,t),Oce.apply(n,o);else for(t&&Oce.apply(n,[e,t]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),Oce.apply(n,o),s+=1e4,e+=1e4}iLe.exports=d_t});var aLe=Ae((ZXt,oLe)=>{"use strict";m();function h_t(n){return n==null?[]:"length"in n?n:[n]}oLe.exports=h_t});var cLe=Ae((eZt,lLe)=>{"use strict";m();var uLe=tLe(),p_t=sLe(),m_t=aLe();function x_t(n){for(var e={},t=-1;++t<n.length;)g_t(e,n[t]);return e}function g_t(n,e){var t,r,i,s;for(t in e){r=uLe.call(n,t)?n[t]:n[t]={},i=e[t];for(s in i)r[s]=y_t(m_t(i[s]),uLe.call(r,s)?r[s]:[])}}function y_t(n,e){for(var t=-1,r=[];++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);return p_t(e,0,0,r),e}lLe.exports=x_t});var dLe=Ae((tZt,fLe)=>{"use strict";m();var v_t=String.fromCharCode;fLe.exports=v_t});var NN=Ae((nZt,hLe)=>{"use strict";m();var __t=dLe();function E_t(n){return e;function e(t){return n.test(__t(t))}}hLe.exports=E_t});var mLe=Ae((rZt,pLe)=>{"use strict";m();var b_t=NN(),S_t=b_t(/[A-Za-z]/);pLe.exports=S_t});var gLe=Ae((iZt,xLe)=>{"use strict";m();var C_t=NN(),w_t=C_t(/[\dA-Za-z]/);xLe.exports=w_t});var vLe=Ae((sZt,yLe)=>{"use strict";m();function A_t(n){return n<32||n===127}yLe.exports=A_t});var ELe=Ae((oZt,_Le)=>{"use strict";m();function T_t(n){return n<-2}_Le.exports=T_t});var SLe=Ae((aZt,bLe)=>{"use strict";m();var F_t=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;bLe.exports=F_t});var wLe=Ae((uZt,CLe)=>{"use strict";m();var D_t=SLe(),R_t=NN(),O_t=R_t(D_t);CLe.exports=O_t});var TLe=Ae((lZt,ALe)=>{"use strict";m();var N_t=NN(),L_t=N_t(/\s/);ALe.exports=L_t});var zLe=Ae($Le=>{m();var FLe=mLe(),DLe=gLe(),RLe=vLe(),k_t=ELe(),OLe=wLe(),NLe=TLe(),I_t={tokenize:j_t,partial:!0},LLe={tokenize:q_t,partial:!0},kLe={tokenize:U_t,partial:!0},T9={tokenize:z_t,partial:!0},ILe={tokenize:$_t,partial:!0},MLe={tokenize:P_t,previous:qLe},PLe={tokenize:B_t,previous:Lce},t3={tokenize:M_t,previous:ULe},tg={};$Le.text=tg;var bb=48;for(;bb<123;)tg[bb]=t3,bb++,bb===58?bb=65:bb===91&&(bb=97);tg[43]=t3;tg[45]=t3;tg[46]=t3;tg[95]=t3;tg[72]=[t3,PLe];tg[104]=[t3,PLe];tg[87]=[t3,MLe];tg[119]=[t3,MLe];function M_t(n,e,t){var r=this,i;return s;function s(b){return!jLe(b)||!ULe(r.previous)||kce(r.events)?t(b):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),o(b))}function o(b){return jLe(b)?(n.consume(b),o):b===64?(n.consume(b),a):t(b)}function a(b){return b===46?n.check(T9,_,l)(b):b===45||b===95?n.check(T9,t,f)(b):DLe(b)?(n.consume(b),a):_(b)}function l(b){return n.consume(b),i=!0,a}function f(b){return n.consume(b),p}function p(b){return b===46?n.check(T9,t,l)(b):a(b)}function _(b){return i?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),e(b)):t(b)}}function P_t(n,e,t){var r=this;return i;function i(o){return o!==87&&o-32!==87||!qLe(r.previous)||kce(r.events)?t(o):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(I_t,n.attempt(LLe,n.attempt(kLe,s),t),t)(o))}function s(o){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),e(o)}}function B_t(n,e,t){var r=this;return i;function i(O){return O!==72&&O-32!==72||!Lce(r.previous)||kce(r.events)?t(O):(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),n.consume(O),s)}function s(O){return O===84||O-32===84?(n.consume(O),o):t(O)}function o(O){return O===84||O-32===84?(n.consume(O),a):t(O)}function a(O){return O===80||O-32===80?(n.consume(O),l):t(O)}function l(O){return O===83||O-32===83?(n.consume(O),f):f(O)}function f(O){return O===58?(n.consume(O),p):t(O)}function p(O){return O===47?(n.consume(O),_):t(O)}function _(O){return O===47?(n.consume(O),b):t(O)}function b(O){return RLe(O)||NLe(O)||OLe(O)?t(O):n.attempt(LLe,n.attempt(kLe,R),t)(O)}function R(O){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),e(O)}}function j_t(n,e,t){return r;function r(l){return n.consume(l),i}function i(l){return l===87||l-32===87?(n.consume(l),s):t(l)}function s(l){return l===87||l-32===87?(n.consume(l),o):t(l)}function o(l){return l===46?(n.consume(l),a):t(l)}function a(l){return l===null||k_t(l)?t(l):e(l)}}function q_t(n,e,t){var r,i;return s;function s(l){return l===38?n.check(ILe,a,o)(l):l===46||l===95?n.check(T9,a,o)(l):RLe(l)||NLe(l)||l!==45&&OLe(l)?a(l):(n.consume(l),s)}function o(l){return l===46?(i=r,r=void 0,n.consume(l),s):(l===95&&(r=!0),n.consume(l),s)}function a(l){return!i&&!r?e(l):t(l)}}function U_t(n,e){var t=0;return r;function r(o){return o===38?n.check(ILe,e,i)(o):(o===40&&t++,o===41?n.check(T9,s,i)(o):Nce(o)?e(o):BLe(o)?n.check(T9,e,i)(o):(n.consume(o),r))}function i(o){return n.consume(o),r}function s(o){return t--,t<0?e(o):i(o)}}function $_t(n,e,t){return r;function r(o){return n.consume(o),i}function i(o){return FLe(o)?(n.consume(o),i):o===59?(n.consume(o),s):t(o)}function s(o){return Nce(o)?e(o):t(o)}}function z_t(n,e,t){return r;function r(s){return n.consume(s),i}function i(s){return BLe(s)?(n.consume(s),i):Nce(s)?e(s):t(s)}}function BLe(n){return n===33||n===34||n===39||n===41||n===42||n===44||n===46||n===58||n===59||n===60||n===63||n===95||n===126}function Nce(n){return n===null||n<0||n===32||n===60}function jLe(n){return n===43||n===45||n===46||n===95||DLe(n)}function qLe(n){return n===null||n<0||n===32||n===40||n===42||n===95||n===126}function Lce(n){return n===null||!FLe(n)}function ULe(n){return n!==47&&Lce(n)}function kce(n){for(var e=n.length;e--;)if((n[e][1].type==="labelLink"||n[e][1].type==="labelImage")&&!n[e][1]._balanced)return!0}});var VLe=Ae((fZt,HLe)=>{m();HLe.exports=zLe()});var QLe=Ae((dZt,WLe)=>{"use strict";m();function H_t(n){return n<0||n===32}WLe.exports=H_t});var YLe=Ae((hZt,GLe)=>{"use strict";m();var V_t=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;GLe.exports=V_t});var JLe=Ae((pZt,KLe)=>{"use strict";m();var W_t=String.fromCharCode;KLe.exports=W_t});var Ice=Ae((mZt,XLe)=>{"use strict";m();var Q_t=JLe();function G_t(n){return e;function e(t){return n.test(Q_t(t))}}XLe.exports=G_t});var eke=Ae((xZt,ZLe)=>{"use strict";m();var Y_t=YLe(),K_t=Ice(),J_t=K_t(Y_t);ZLe.exports=J_t});var nke=Ae((gZt,tke)=>{"use strict";m();var X_t=Ice(),Z_t=X_t(/\s/);tke.exports=Z_t});var ike=Ae((yZt,rke)=>{"use strict";m();var e6t=QLe(),t6t=eke(),n6t=nke();function r6t(n){if(n===null||e6t(n)||n6t(n))return 1;if(t6t(n))return 2}rke.exports=r6t});var oke=Ae((vZt,ske)=>{"use strict";m();var i6t=[].splice;ske.exports=i6t});var uke=Ae((_Zt,ake)=>{"use strict";m();var Mce=oke();function s6t(n,e,t,r){var i=n.length,s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(e,t),Mce.apply(n,o);else for(t&&Mce.apply(n,[e,t]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),Mce.apply(n,o),s+=1e4,e+=1e4}ake.exports=s6t});var cke=Ae((EZt,lke)=>{"use strict";m();function o6t(n,e,t){for(var r=[],i=-1,s;++i<n.length;)s=n[i].resolveAll,s&&r.indexOf(s)<0&&(e=s(e,t),r.push(s));return e}lke.exports=o6t});var dke=Ae((bZt,fke)=>{"use strict";m();var a6t=Object.assign;fke.exports=a6t});var pke=Ae((SZt,hke)=>{"use strict";m();var u6t=dke();function l6t(n){return u6t({},n)}hke.exports=l6t});var gke=Ae((CZt,xke)=>{m();xke.exports=f6t;var mke=ike(),Pce=uke(),c6t=cke(),FW=pke();function f6t(n){var e=n||{},t=e.singleTilde,r={tokenize:o,resolveAll:i};return t==null&&(t=!0),{text:{126:r},insideSpan:{null:r}};function i(a,l){for(var f=-1,p,_,b,R;++f<a.length;)if(a[f][0]==="enter"&&a[f][1].type==="strikethroughSequenceTemporary"&&a[f][1]._close){for(b=f;b--;)if(a[b][0]==="exit"&&a[b][1].type==="strikethroughSequenceTemporary"&&a[b][1]._open&&a[f][1].end.offset-a[f][1].start.offset===a[b][1].end.offset-a[b][1].start.offset){a[f][1].type="strikethroughSequence",a[b][1].type="strikethroughSequence",p={type:"strikethrough",start:FW(a[b][1].start),end:FW(a[f][1].end)},_={type:"strikethroughText",start:FW(a[b][1].end),end:FW(a[f][1].start)},R=[["enter",p,l],["enter",a[b][1],l],["exit",a[b][1],l],["enter",_,l]],Pce(R,R.length,0,c6t(l.parser.constructs.insideSpan.null,a.slice(b+1,f),l)),Pce(R,R.length,0,[["exit",_,l],["enter",a[f][1],l],["exit",a[f][1],l],["exit",p,l]]),Pce(a,b-1,f-b+3,R),f=b+R.length-2;break}}return s(a)}function s(a){for(var l=-1,f=a.length;++l<f;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function o(a,l,f){var p=this.previous,_=this.events,b=0;return R;function R(j){return j!==126||p===126&&_[_.length-1][1].type!=="characterEscape"?f(j):(a.enter("strikethroughSequenceTemporary"),O(j))}function O(j){var $=mke(p),L,q;return j===126?b>1?f(j):(a.consume(j),b++,O):b<2&&!t?f(j):(L=a.exit("strikethroughSequenceTemporary"),q=mke(j),L._open=!q||q===2&&$,L._close=!$||$===2&&q,l(j))}}}});var vke=Ae((wZt,yke)=>{"use strict";m();function d6t(n){return n===-2||n===-1||n===32}yke.exports=d6t});var bke=Ae((AZt,Eke)=>{"use strict";m();var _ke=vke();function h6t(n,e,t,r){var i=r?r-1:1/0,s=0;return o;function o(l){return _ke(l)?(n.enter(t),a(l)):e(l)}function a(l){return _ke(l)&&s++<i?(n.consume(l),a):(n.exit(t),e(l))}}Eke.exports=h6t});var wke=Ae(Cke=>{m();Cke.flow={null:{tokenize:x6t,resolve:m6t,interruptible:!0}};var Bce=bke(),p6t={tokenize:g6t,partial:!0},Ske={tokenize:y6t,partial:!0};function m6t(n,e){for(var t=n.length,r=-1,i,s,o,a,l,f,p,_,b,R;++r<t;)i=n[r][1],a&&(i.type==="temporaryTableCellContent"&&(_=_||r,b=r),(i.type==="tableCellDivider"||i.type==="tableRow")&&b&&(f={type:"tableContent",start:n[_][1].start,end:n[b][1].end},p={type:"chunkText",start:f.start,end:f.end,contentType:"text"},n.splice(_,b-_+1,["enter",f,e],["enter",p,e],["exit",p,e],["exit",f,e]),r-=b-_-3,t=n.length,_=void 0,b=void 0)),n[r][0]==="exit"&&R&&R+1<r&&(i.type==="tableCellDivider"||i.type==="tableRow"&&(R+3<r||n[R][1].type!=="whitespace"))&&(l={type:o?"tableDelimiter":s?"tableHeader":"tableData",start:n[R][1].start,end:n[r][1].end},n.splice(r+(i.type==="tableCellDivider"?1:0),0,["exit",l,e]),n.splice(R,0,["enter",l,e]),r+=2,t=n.length,R=r+1),i.type==="tableRow"&&(a=n[r][0]==="enter",a&&(R=r+1)),i.type==="tableDelimiterRow"&&(o=n[r][0]==="enter",o&&(R=r+1)),i.type==="tableHead"&&(s=n[r][0]==="enter");return n}function x6t(n,e,t){var r=[],i=0,s,o;return a;function a(te){return te===null||te===-5||te===-4||te===-3?t(te):(n.enter("table")._align=r,n.enter("tableHead"),n.enter("tableRow"),te===124?l(te):(i++,n.enter("temporaryTableCellContent"),_(te)))}function l(te){return n.enter("tableCellDivider"),n.consume(te),n.exit("tableCellDivider"),s=!0,f}function f(te){return te===null||te===-5||te===-4||te===-3?R(te):te===-2||te===-1||te===32?(n.enter("whitespace"),n.consume(te),p):(s&&(s=void 0,i++),te===124?l(te):(n.enter("temporaryTableCellContent"),_(te)))}function p(te){return te===-2||te===-1||te===32?(n.consume(te),p):(n.exit("whitespace"),f(te))}function _(te){return te===null||te<0||te===32||te===124?(n.exit("temporaryTableCellContent"),f(te)):(n.consume(te),te===92?b:_)}function b(te){return te===92||te===124?(n.consume(te),_):_(te)}function R(te){return te===null?t(te):(n.exit("tableRow"),n.exit("tableHead"),n.enter("lineEnding"),n.consume(te),n.exit("lineEnding"),n.check(p6t,t,Bce(n,O,"linePrefix",4)))}function O(te){return te===null||te<0||te===32?t(te):(n.enter("tableDelimiterRow"),j(te))}function j(te){return te===null||te===-5||te===-4||te===-3?W(te):te===-2||te===-1||te===32?(n.enter("whitespace"),n.consume(te),$):te===45?(n.enter("tableDelimiterFiller"),n.consume(te),o=!0,r.push(null),L):te===58?(n.enter("tableDelimiterAlignment"),n.consume(te),n.exit("tableDelimiterAlignment"),r.push("left"),q):te===124?(n.enter("tableCellDivider"),n.consume(te),n.exit("tableCellDivider"),j):t(te)}function $(te){return te===-2||te===-1||te===32?(n.consume(te),$):(n.exit("whitespace"),j(te))}function L(te){return te===45?(n.consume(te),L):(n.exit("tableDelimiterFiller"),te===58?(n.enter("tableDelimiterAlignment"),n.consume(te),n.exit("tableDelimiterAlignment"),r[r.length-1]=r[r.length-1]==="left"?"center":"right",P):j(te))}function q(te){return te===45?(n.enter("tableDelimiterFiller"),n.consume(te),o=!0,L):t(te)}function P(te){return te===null||te===-5||te===-4||te===-3?W(te):te===-2||te===-1||te===32?(n.enter("whitespace"),n.consume(te),$):te===124?(n.enter("tableCellDivider"),n.consume(te),n.exit("tableCellDivider"),j):t(te)}function W(te){return n.exit("tableDelimiterRow"),!o||i!==r.length?t(te):te===null?oe(te):n.check(Ske,oe,I)(te)}function oe(te){return n.exit("table"),e(te)}function I(te){return n.enter("lineEnding"),n.consume(te),n.exit("lineEnding"),Bce(n,J,"linePrefix",4)}function J(te){return n.enter("tableBody"),he(te)}function he(te){return n.enter("tableRow"),te===124?ye(te):(n.enter("temporaryTableCellContent"),ct(te))}function ye(te){return n.enter("tableCellDivider"),n.consume(te),n.exit("tableCellDivider"),He}function He(te){return te===null||te===-5||te===-4||te===-3?bt(te):te===-2||te===-1||te===32?(n.enter("whitespace"),n.consume(te),at):te===124?ye(te):(n.enter("temporaryTableCellContent"),ct(te))}function at(te){return te===-2||te===-1||te===32?(n.consume(te),at):(n.exit("whitespace"),He(te))}function ct(te){return te===null||te<0||te===32||te===124?(n.exit("temporaryTableCellContent"),He(te)):(n.consume(te),te===92?Ze:ct)}function Ze(te){return te===92||te===124?(n.consume(te),ct):ct(te)}function bt(te){return n.exit("tableRow"),te===null?Mt(te):n.check(Ske,Mt,qe)(te)}function Mt(te){return n.exit("tableBody"),oe(te)}function qe(te){return n.enter("lineEnding"),n.consume(te),n.exit("lineEnding"),Bce(n,he,"linePrefix",4)}}function g6t(n,e,t){return r;function r(o){return o!==45?t(o):(n.enter("setextUnderline"),i(o))}function i(o){return o===45?(n.consume(o),i):s(o)}function s(o){return o===-2||o===-1||o===32?(n.consume(o),s):o===null||o===-5||o===-4||o===-3?e(o):t(o)}}function y6t(n,e,t){var r=0;return i;function i(o){return n.enter("check"),n.consume(o),s}function s(o){return o===-1||o===32?(n.consume(o),r++,r===4?e:s):o===null||o<0?e(o):t(o)}}});var Tke=Ae((FZt,Ake)=>{m();Ake.exports=wke()});var Dke=Ae((DZt,Fke)=>{"use strict";m();function v6t(n){return n<0||n===32}Fke.exports=v6t});var Oke=Ae((RZt,Rke)=>{"use strict";m();function _6t(n){return n===-2||n===-1||n===32}Rke.exports=_6t});var kke=Ae((OZt,Lke)=>{"use strict";m();var Nke=Oke();function E6t(n,e,t,r){var i=r?r-1:1/0,s=0;return o;function o(l){return Nke(l)?(n.enter(t),a(l)):e(l)}function a(l){return Nke(l)&&s++<i?(n.consume(l),a):(n.exit(t),e(l))}}Lke.exports=E6t});var Mke=Ae((NZt,Ike)=>{"use strict";m();function b6t(n){for(var e=-1,t=0;++e<n.length;)t+=typeof n[e]=="string"?n[e].length:1;return t}Ike.exports=b6t});var Bke=Ae((LZt,Pke)=>{"use strict";m();var S6t=Mke();function C6t(n,e){var t=n[n.length-1];return!t||t[1].type!==e?0:S6t(t[2].sliceStream(t[1]))}Pke.exports=C6t});var qke=Ae(jke=>{m();var w6t=Dke(),A6t=kke(),T6t=Bke(),F6t={tokenize:D6t};jke.text={91:F6t};function D6t(n,e,t){var r=this;return i;function i(a){return a!==91||r.previous!==null||!r._gfmTasklistFirstContentOfListItem?t(a):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(a),n.exit("taskListCheckMarker"),s)}function s(a){return a===-2||a===32?(n.enter("taskListCheckValueUnchecked"),n.consume(a),n.exit("taskListCheckValueUnchecked"),o):a===88||a===120?(n.enter("taskListCheckValueChecked"),n.consume(a),n.exit("taskListCheckValueChecked"),o):t(a)}function o(a){return a===93?(n.enter("taskListCheckMarker"),n.consume(a),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),n.check({tokenize:R6t},e,t)):t(a)}}function R6t(n,e,t){var r=this;return A6t(n,i,"whitespace");function i(s){return T6t(r.events,"whitespace")&&s!==null&&!w6t(s)?e(s):t(s)}}});var $ke=Ae((IZt,Uke)=>{m();Uke.exports=qke()});var Hke=Ae((MZt,zke)=>{m();var O6t=cLe(),N6t=VLe(),L6t=gke(),k6t=Tke(),I6t=$ke();zke.exports=M6t;function M6t(n){return O6t([N6t,L6t(n),k6t,I6t])}});var Wke=Ae((PZt,Vke)=>{m();Vke.exports=Hke()});var Gke=Ae((BZt,Qke)=>{"use strict";m();Qke.exports=P6t;function P6t(n,e){var t=String(n),r=0,i;if(typeof e!="string")throw new Error("Expected character");for(i=t.indexOf(e);i!==-1;)r++,i=t.indexOf(e,i+e.length);return r}});var jce=Ae((jZt,Kke)=>{"use strict";m();Kke.exports=Yke;function Yke(n){if(n==null)return U6t;if(typeof n=="string")return q6t(n);if(typeof n=="object")return"length"in n?j6t(n):B6t(n);if(typeof n=="function")return n;throw new Error("Expected function, string, or object as test")}function B6t(n){return e;function e(t){var r;for(r in n)if(t[r]!==n[r])return!1;return!0}}function j6t(n){for(var e=[],t=-1;++t<n.length;)e[t]=Yke(n[t]);return r;function r(){for(var i=-1;++i<e.length;)if(e[i].apply(this,arguments))return!0;return!1}}function q6t(n){return e;function e(t){return Boolean(t&&t.type===n)}}function U6t(){return!0}});var Xke=Ae((qZt,Jke)=>{m();Jke.exports=$6t;function $6t(n){return n}});var nIe=Ae((UZt,tIe)=>{"use strict";m();tIe.exports=DW;var z6t=jce(),H6t=Xke(),Zke=!0,eIe="skip",qce=!1;DW.CONTINUE=Zke;DW.SKIP=eIe;DW.EXIT=qce;function DW(n,e,t,r){var i,s;typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null),s=z6t(e),i=r?-1:1,o(n,null,[])();function o(a,l,f){var p=typeof a=="object"&&a!==null?a:{},_;return typeof p.type=="string"&&(_=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0,b.displayName="node ("+H6t(p.type+(_?"<"+_+">":""))+")"),b;function b(){var R=f.concat(a),O=[],j,$;if((!e||s(a,l,f[f.length-1]||null))&&(O=V6t(t(a,f)),O[0]===qce))return O;if(a.children&&O[0]!==eIe)for($=(r?a.children.length:-1)+i;$>-1&&$<a.children.length;){if(j=o(a.children[$],$,R)(),j[0]===qce)return j;$=typeof j[1]=="number"?j[1]:$+i}return O}}}function V6t(n){return n!==null&&typeof n=="object"&&"length"in n?n:typeof n=="number"?[Zke,n]:[n]}});var iIe=Ae(($Zt,rIe)=>{"use strict";m();rIe.exports=n=>{if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}});var lIe=Ae((zZt,uIe)=>{"use strict";m();uIe.exports=K6t;var W6t=nIe(),Q6t=jce(),G6t=iIe(),Y6t=[].splice;function K6t(n,e,t,r){var i,s;return typeof e=="string"||e&&typeof e.exec=="function"?s=[[e,t]]:(s=e,r=t),i=r||{},sIe(n,i,o(J6t(s))),n;function o(a){var l=a[0];return f;function f(p,_){var b=l[0],R=l[1],O=[],j=0,$=_.children.indexOf(p),L,q,P,W;for(b.lastIndex=0,q=b.exec(p.value);q&&(L=q.index,W=R.apply(null,[].concat(q,{index:q.index,input:q.input})),W!==!1&&(j!==L&&O.push({type:"text",value:p.value.slice(j,L)}),typeof W=="string"&&W.length>0&&(W={type:"text",value:W}),W&&(O=[].concat(O,W)),j=L+q[0].length),!!b.global);)q=b.exec(p.value);if(L===void 0?(O=[p],$--):(j<p.value.length&&O.push({type:"text",value:p.value.slice(j)}),O.unshift($,1),Y6t.apply(_.children,O)),a.length>1)for(P=o(a.slice(1)),L=-1;++L<O.length;)p=O[L],p.type==="text"?P(p,_):sIe(p,i,P);return $+O.length+1}}}function sIe(n,e,t){var r=Q6t(e.ignore||[]),i=[];return W6t(n,"text",s),i;function s(o,a){for(var l=-1,f,p;++l<a.length;){if(f=a[l],r(f,p?p.children.indexOf(f):void 0,p))return;p=f}return t(o,p)}}function J6t(n){var e=[],t,r;if(typeof n!="object")throw new Error("Expected array or object as schema");if("length"in n)for(r=-1;++r<n.length;)e.push([oIe(n[r][0]),aIe(n[r][1])]);else for(t in n)e.push([oIe(t),aIe(n[t])]);return e}function oIe(n){return typeof n=="string"?new RegExp(G6t(n),"g"):n}function aIe(n){return typeof n=="function"?n:e;function e(){return n}}});var fIe=Ae((HZt,cIe)=>{"use strict";m();var X6t=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;cIe.exports=X6t});var hIe=Ae((VZt,dIe)=>{"use strict";m();var Z6t=String.fromCharCode;dIe.exports=Z6t});var Uce=Ae((WZt,pIe)=>{"use strict";m();var eEt=hIe();function tEt(n){return e;function e(t){return n.test(eEt(t))}}pIe.exports=tEt});var xIe=Ae((QZt,mIe)=>{"use strict";m();var nEt=fIe(),rEt=Uce(),iEt=rEt(nEt);mIe.exports=iEt});var yIe=Ae((GZt,gIe)=>{"use strict";m();var sEt=Uce(),oEt=sEt(/\s/);gIe.exports=oEt});var EIe=Ae(RW=>{m();var vIe=Gke(),aEt=lIe(),uEt=xIe(),lEt=yIe();RW.transforms=[mEt];RW.enter={literalAutolink:cEt,literalAutolinkEmail:$ce,literalAutolinkHttp:$ce,literalAutolinkWww:$ce};RW.exit={literalAutolink:pEt,literalAutolinkEmail:hEt,literalAutolinkHttp:fEt,literalAutolinkWww:dEt};function cEt(n){this.enter({type:"link",title:null,url:"",children:[]},n)}function $ce(n){this.config.enter.autolinkProtocol.call(this,n)}function fEt(n){this.config.exit.autolinkProtocol.call(this,n)}function dEt(n){this.config.exit.data.call(this,n),this.stack[this.stack.length-1].url="http://"+this.sliceSerialize(n)}function hEt(n){this.config.exit.autolinkEmail.call(this,n)}function pEt(n){this.exit(n)}function mEt(n){aEt(n,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/i,xEt],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/,gEt]],{ignore:["link","linkReference"]})}function xEt(n,e,t,r,i){var s="",o,a;return!_Ie(i)||(/^w/i.test(e)&&(t=e+t,e="",s="http://"),!yEt(t))||(o=vEt(t+r),!o[0])?!1:(a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]},o[1]&&(a=[a,{type:"text",value:o[1]}]),a)}function gEt(n,e,t,r){return!_Ie(r,!0)||/[_-]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+t,children:[{type:"text",value:e+"@"+t}]}}function yEt(n){var e=n.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function vEt(n){var e=/[!"&'),.:;<>?\]}]+$/.exec(n),t,r,i;if(e)for(n=n.slice(0,e.index),e=e[0],t=e.indexOf(")"),r=vIe(n,"("),i=vIe(n,")");t!==-1&&r>i;)n+=e.slice(0,t+1),e=e.slice(t+1),t=e.indexOf(")"),i++;return[n,e]}function _Ie(n,e){var t=n.input.charCodeAt(n.index-1);return(t!==t||lEt(t)||uEt(t))&&(!e||t!==47)}});var bIe=Ae(OW=>{m();OW.canContainEols=["delete"];OW.enter={strikethrough:_Et};OW.exit={strikethrough:EEt};function _Et(n){this.enter({type:"delete",children:[]},n)}function EEt(n){this.exit(n)}});var CIe=Ae(Hce=>{m();Hce.enter={table:bEt,tableData:SIe,tableHeader:SIe,tableRow:CEt};Hce.exit={codeText:wEt,table:SEt,tableData:zce,tableHeader:zce,tableRow:zce};function bEt(n){this.enter({type:"table",align:n._align,children:[]},n),this.setData("inTable",!0)}function SEt(n){this.exit(n),this.setData("inTable")}function CEt(n){this.enter({type:"tableRow",children:[]},n)}function zce(n){this.exit(n)}function SIe(n){this.enter({type:"tableCell",children:[]},n)}function wEt(n){var e=this.resume();this.getData("inTable")&&(e=e.replace(/\\([\\|])/g,AEt)),this.stack[this.stack.length-1].value=e,this.exit(n)}function AEt(n,e){return e==="|"?e:n}});var TIe=Ae(AIe=>{m();AIe.exit={taskListCheckValueChecked:wIe,taskListCheckValueUnchecked:wIe,paragraph:TEt};function wIe(n){this.stack[this.stack.length-2].checked=n.type==="taskListCheckValueChecked"}function TEt(n){var e=this.stack[this.stack.length-2],t=this.stack[this.stack.length-1],r=e.children,i=t.children[0],s=-1,o;if(e&&e.type==="listItem"&&typeof e.checked=="boolean"&&i&&i.type==="text"){for(;++s<r.length;)if(r[s].type==="paragraph"){o=r[s];break}o===t&&(i.value=i.value.slice(1),i.value.length===0?t.children.shift():(i.position.start.column++,i.position.start.offset++,t.position.start=Object.assign({},i.position.start)))}this.exit(n)}});var DIe=Ae((ZZt,FIe)=>{m();var FEt=EIe(),DEt=bIe(),REt=CIe(),OEt=TIe(),NEt={}.hasOwnProperty;FIe.exports=LEt([FEt,DEt,REt,OEt]);function LEt(n){for(var e={transforms:[],canContainEols:[]},t=n.length,r=-1;++r<t;)kEt(e,n[r]);return e}function kEt(n,e){var t,r,i;for(t in e)r=NEt.call(n,t)?n[t]:n[t]={},i=e[t],t==="canContainEols"||t==="transforms"?n[t]=[].concat(r,i):Object.assign(r,i)}});var OIe=Ae(RIe=>{m();var Vce="phrasing",Wce=["autolink","link","image","label"];RIe.unsafe=[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Vce,notInConstruct:Wce},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Vce,notInConstruct:Wce},{character:":",before:"[ps]",after:"\\/",inConstruct:Vce,notInConstruct:Wce}]});var LIe=Ae((ten,NIe)=>{m();NIe.exports=IEt;function IEt(n,e,t){for(var r=n.children||[],i=[],s=-1,o=t.before,a,l,f;++s<r.length;)f=r[s],s+1<r.length?(l=e.handle.handlers[r[s+1].type],l&&l.peek&&(l=l.peek),a=l?l(r[s+1],n,e,{before:"",after:""}).charAt(0):""):a=t.after,i.length>0&&(o==="\r"||o===`
`)&&f.type==="html"&&(i[i.length-1]=i[i.length-1].replace(/(\r?\n|\r)$/," "),o=" "),i.push(e.handle(f,n,e,{before:o,after:a})),o=i[i.length-1].slice(-1);return i.join("")}});var IIe=Ae(Qce=>{m();var MEt=LIe();Qce.unsafe=[{character:"~",inConstruct:"phrasing"}];Qce.handlers={delete:kIe};kIe.peek=PEt;function kIe(n,e,t){var r=t.enter("emphasis"),i=MEt(n,t,{before:"~",after:"~"});return r(),"~~"+i+"~~"}function PEt(){return"~"}});var PIe=Ae((ren,MIe)=>{m();MIe.exports=BEt;function BEt(n,e,t){for(var r=n.children||[],i=[],s=-1,o=t.before,a,l,f;++s<r.length;)f=r[s],s+1<r.length?(l=e.handle.handlers[r[s+1].type],l&&l.peek&&(l=l.peek),a=l?l(r[s+1],n,e,{before:"",after:""}).charAt(0):""):a=t.after,i.length>0&&(o==="\r"||o===`
`)&&f.type==="html"&&(i[i.length-1]=i[i.length-1].replace(/(\r?\n|\r)$/," "),o=" "),i.push(e.handle(f,n,e,{before:o,after:a})),o=i[i.length-1].slice(-1);return i.join("")}});var jIe=Ae((ien,BIe)=>{m();BIe.exports=jEt;function jEt(n){var e,t;return n._compiled||(e=n.before?"(?:"+n.before+")":"",t=n.after?"(?:"+n.after+")":"",n.atBreak&&(e="[\\r\\n][\\t ]*"+e),n._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(n.character)?"\\":"")+n.character+(t||""),"g")),n._compiled}});var $Ie=Ae((sen,UIe)=>{m();UIe.exports=qIe;qIe.peek=UEt;var qEt=jIe();function qIe(n,e,t){for(var r=n.value||"",i="`",s=-1,o,a,l,f;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/[ \r\n`]/.test(r.charAt(0))||/[ \r\n`]/.test(r.charAt(r.length-1)))&&(r=" "+r+" ");++s<t.unsafe.length;)if(o=t.unsafe[s],!!o.atBreak)for(a=qEt(o);l=a.exec(r);)f=l.index,r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(l.index+1);return i+r+i}function UEt(){return"`"}});var NW=Ae((oen,zIe)=>{"use strict";m();var n3="",Gce;zIe.exports=$Et;function $Et(n,e){if(typeof n!="string")throw new TypeError("expected a string");if(e===1)return n;if(e===2)return n+n;var t=n.length*e;if(Gce!==n||typeof Gce=="undefined")Gce=n,n3="";else if(n3.length>=t)return n3.substr(0,t);for(;t>n3.length&&e>1;)e&1&&(n3+=n),e>>=1,n+=n;return n3+=n,n3=n3.substr(0,t),n3}});var GIe=Ae((aen,QIe)=>{"use strict";m();var F9=NW();QIe.exports=YEt;var zEt=/ +$/,Sb=" ",HEt=`
`,VEt="-",LW=":",HIe="|",VIe=0,WEt=67,QEt=76,GEt=82,kW=99,Yce=108,IW=114;function YEt(n,e){for(var t=e||{},r=t.padding!==!1,i=t.delimiterStart!==!1,s=t.delimiterEnd!==!1,o=(t.align||[]).concat(),a=t.alignDelimiters!==!1,l=[],f=t.stringLength||JEt,p=-1,_=n.length,b=[],R=[],O=[],j=[],$=[],L=0,q,P,W,oe,I,J,he,ye,He,at,ct;++p<_;){for(q=n[p],P=-1,W=q.length,O=[],j=[],W>L&&(L=W);++P<W;)J=KEt(q[P]),a===!0&&(I=f(J),j[P]=I,oe=$[P],(oe===void 0||I>oe)&&($[P]=I)),O.push(J);b[p]=O,R[p]=j}if(P=-1,W=L,typeof o=="object"&&"length"in o)for(;++P<W;)l[P]=WIe(o[P]);else for(ct=WIe(o);++P<W;)l[P]=ct;for(P=-1,W=L,O=[],j=[];++P<W;)ct=l[P],He="",at="",ct===Yce?He=LW:ct===IW?at=LW:ct===kW&&(He=LW,at=LW),I=a?Math.max(1,$[P]-He.length-at.length):1,J=He+F9(VEt,I)+at,a===!0&&(I=He.length+I+at.length,I>$[P]&&($[P]=I),j[P]=I),O[P]=J;for(b.splice(1,0,O),R.splice(1,0,j),p=-1,_=b.length,he=[];++p<_;){for(O=b[p],j=R[p],P=-1,W=L,ye=[];++P<W;)J=O[P]||"",He="",at="",a===!0&&(I=$[P]-(j[P]||0),ct=l[P],ct===IW?He=F9(Sb,I):ct===kW?I%2===0?(He=F9(Sb,I/2),at=He):(He=F9(Sb,I/2+.5),at=F9(Sb,I/2-.5)):at=F9(Sb,I)),i===!0&&P===0&&ye.push(HIe),r===!0&&!(a===!1&&J==="")&&(i===!0||P!==0)&&ye.push(Sb),a===!0&&ye.push(He),ye.push(J),a===!0&&ye.push(at),r===!0&&ye.push(Sb),(s===!0||P!==W-1)&&ye.push(HIe);ye=ye.join(""),s===!1&&(ye=ye.replace(zEt,"")),he.push(ye)}return he.join(HEt)}function KEt(n){return n==null?"":String(n)}function JEt(n){return n.length}function WIe(n){var e=typeof n=="string"?n.charCodeAt(0):VIe;return e===QEt||e===Yce?Yce:e===GEt||e===IW?IW:e===WEt||e===kW?kW:VIe}});var KIe=Ae((uen,YIe)=>{m();var XEt=PIe(),ZEt=$Ie(),ebt=GIe();YIe.exports=tbt;function tbt(n){var e=n||{},t=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:o,tableRow:a,tableCell:l,inlineCode:b}};function o(R,O,j){return f(p(R,j),R.align)}function a(R,O,j){var $=_(R,j),L=f([$]);return L.slice(0,L.indexOf(`
`))}function l(R,O,j){var $=j.enter("tableCell"),L=XEt(R,j,{before:s,after:s});return $(),L}function f(R,O){return ebt(R,{align:O,alignDelimiters:r,padding:t,stringLength:i})}function p(R,O){for(var j=R.children,$=-1,L=j.length,q=[],P=O.enter("table");++$<L;)q[$]=_(j[$],O);return P(),q}function _(R,O){for(var j=R.children,$=-1,L=j.length,q=[],P=O.enter("tableRow");++$<L;)q[$]=l(j[$],R,O);return P(),q}function b(R,O,j){var $=ZEt(R,O,j);return j.stack.indexOf("tableCell")!==-1&&($=$.replace(/\|/g,"\\$&")),$}}});var XIe=Ae((len,JIe)=>{m();JIe.exports=nbt;function nbt(n){var e=n.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}});var eMe=Ae((cen,ZIe)=>{m();ZIe.exports=rbt;function rbt(n){var e=n.options.listItemIndent||"tab";if(e===1||e==="1")return"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}});var nMe=Ae((fen,tMe)=>{m();tMe.exports=sbt;var ibt=NW();function sbt(n,e){for(var t=n.children||[],r=[],i=-1,s;++i<t.length;)s=t[i],r.push(e.handle(s,n,e,{before:`
`,after:`
`})),i+1<t.length&&r.push(o(s,t[i+1]));return r.join("");function o(a,l){for(var f=-1,p;++f<e.join.length&&(p=e.join[f](a,l,n,e),!(p===!0||p===1));){if(typeof p=="number")return ibt(`
`,1+Number(p));if(p===!1)return`

<!---->

`}return`

`}}});var iMe=Ae((den,rMe)=>{m();rMe.exports=abt;var obt=/\r?\n|\r/g;function abt(n,e){for(var t=[],r=0,i=0,s;s=obt.exec(n);)o(n.slice(r,s.index)),t.push(s[0]),r=s.index+s[0].length,i++;return o(n.slice(r)),t.join("");function o(a){t.push(e(a,i,!a))}}});var aMe=Ae((hen,oMe)=>{m();oMe.exports=dbt;var sMe=NW(),ubt=XIe(),lbt=eMe(),cbt=nMe(),fbt=iMe();function dbt(n,e,t){var r=ubt(t),i=lbt(t),s,o,a;return e&&e.ordered&&(r=(e.start>-1?e.start:1)+(t.options.incrementListMarker===!1?0:e.children.indexOf(n))+"."),s=r.length+1,(i==="tab"||i==="mixed"&&(e&&e.spread||n.spread))&&(s=Math.ceil(s/4)*4),a=t.enter("listItem"),o=fbt(cbt(n,t),l),a(),o;function l(f,p,_){return p?(_?"":sMe(" ",s))+f:(_?r:r+sMe(" ",s-r.length))+f}}});var uMe=Ae(Kce=>{m();var hbt=aMe();Kce.unsafe=[{atBreak:!0,character:"-",after:"[:|-]"}];Kce.handlers={listItem:pbt};function pbt(n,e,t){var r=hbt(n,e,t),i=n.children[0];return typeof n.checked=="boolean"&&i&&i.type==="paragraph"&&(r=r.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,s)),r;function s(o){return o+"["+(n.checked?"x":" ")+"] "}}});var fMe=Ae((men,cMe)=>{m();cMe.exports=lMe;function lMe(n,e){var t=-1,r;if(e.extensions)for(;++t<e.extensions.length;)lMe(n,e.extensions[t]);for(r in e)r==="extensions"||(r==="unsafe"||r==="join"?n[r]=n[r].concat(e[r]||[]):r==="handlers"?n[r]=Object.assign(n[r],e[r]||{}):n.options[r]=e[r]);return n}});var hMe=Ae((xen,dMe)=>{m();var mbt=OIe(),xbt=IIe(),gbt=KIe(),ybt=uMe(),vbt=fMe();dMe.exports=_bt;function _bt(n){var e=vbt({handlers:{},join:[],unsafe:[],options:{}},{extensions:[mbt,xbt,gbt(n),ybt]});return Object.assign(e.options,{handlers:e.handlers,join:e.join,unsafe:e.unsafe})}});var xMe=Ae((gen,mMe)=>{"use strict";m();var Ebt=Wke(),bbt=DIe(),Sbt=hMe(),pMe;mMe.exports=Cbt;function Cbt(n){var e=this.data();!pMe&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(pMe=!0,console.warn("[remark-gfm] Warning: please upgrade to remark 13 to use this plugin")),t("micromarkExtensions",Ebt(n)),t("fromMarkdownExtensions",bbt),t("toMarkdownExtensions",Sbt(n));function t(r,i){e[r]?e[r].push(i):e[r]=[i]}}});m();var r3=fr(Fr()),AMe=fr(zI());m();var OUe=n=>{n&&n instanceof Function&&Promise.resolve().then(()=>(Ipe(),kpe)).then(({getCLS:e,getFID:t,getFCP:r,getLCP:i,getTTFB:s})=>{e(n),t(n),r(n),i(n),s(n)})},Mpe=OUe;m();m();m();m();m();m();function DT(n,e){return DT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DT(n,e)}function $h(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,DT(n,e)}m();var jp=function(){function n(){this.listeners=[]}var e=n.prototype;return e.subscribe=function(r){var i=this,s=r||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==s}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},n}();m();m();function $s(){return $s=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$s.apply(this,arguments)}var M_=typeof window=="undefined";function cl(){}function Ppe(n,e){return typeof n=="function"?n(e):n}function RT(n){return typeof n=="number"&&n>=0&&n!==1/0}function OT(n){return Array.isArray(n)?n:[n]}function QI(n,e){return Math.max(n+(e||0)-Date.now(),0)}function B8(n,e,t){return kT(n)?typeof e=="function"?$s({},t,{queryKey:n,queryFn:e}):$s({},e,{queryKey:n}):n}function Bpe(n,e,t){return kT(n)?typeof e=="function"?$s({},t,{mutationKey:n,mutationFn:e}):$s({},e,{mutationKey:n}):typeof n=="function"?$s({},e,{mutationFn:n}):$s({},n)}function E2(n,e,t){return kT(n)?[$s({},e,{queryKey:n}),t]:[n||{},e]}function NUe(n,e){if(n===!0&&e===!0||n==null&&e==null)return"all";if(n===!1&&e===!1)return"none";var t=n??!e;return t?"active":"inactive"}function SJ(n,e){var t=n.active,r=n.exact,i=n.fetching,s=n.inactive,o=n.predicate,a=n.queryKey,l=n.stale;if(kT(a)){if(r){if(e.queryHash!==NT(a,e.options))return!1}else if(!LT(e.queryKey,a))return!1}var f=NUe(t,s);if(f==="none")return!1;if(f!=="all"){var p=e.isActive();if(f==="active"&&!p||f==="inactive"&&p)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof i=="boolean"&&e.isFetching()!==i||o&&!o(e))}function CJ(n,e){var t=n.exact,r=n.fetching,i=n.predicate,s=n.mutationKey;if(kT(s)){if(!e.options.mutationKey)return!1;if(t){if(J3(e.options.mutationKey)!==J3(s))return!1}else if(!LT(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function NT(n,e){var t=(e==null?void 0:e.queryKeyHashFn)||J3;return t(n)}function J3(n){var e=OT(n);return LUe(e)}function LUe(n){return JSON.stringify(n,function(e,t){return wJ(t)?Object.keys(t).sort().reduce(function(r,i){return r[i]=t[i],r},{}):t})}function LT(n,e){return jpe(OT(n),OT(e))}function jpe(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(function(t){return!jpe(n[t],e[t])}):!1}function j8(n,e){if(n===e)return n;var t=Array.isArray(n)&&Array.isArray(e);if(t||wJ(n)&&wJ(e)){for(var r=t?n.length:Object.keys(n).length,i=t?e:Object.keys(e),s=i.length,o=t?[]:{},a=0,l=0;l<s;l++){var f=t?l:i[l];o[f]=j8(n[f],e[f]),o[f]===n[f]&&a++}return r===s&&a===r?n:o}return e}function qpe(n,e){if(n&&!e||e&&!n)return!1;for(var t in n)if(n[t]!==e[t])return!1;return!0}function wJ(n){if(!Upe(n))return!1;var e=n.constructor;if(typeof e=="undefined")return!0;var t=e.prototype;return!(!Upe(t)||!t.hasOwnProperty("isPrototypeOf"))}function Upe(n){return Object.prototype.toString.call(n)==="[object Object]"}function kT(n){return typeof n=="string"||Array.isArray(n)}function $pe(n){return new Promise(function(e){setTimeout(e,n)})}function AJ(n){Promise.resolve().then(n).catch(function(e){return setTimeout(function(){throw e})})}function GI(){if(typeof AbortController=="function")return new AbortController}var kUe=function(n){$h(e,n);function e(){var r;return r=n.call(this)||this,r.setup=function(i){var s;if(!M_&&((s=window)==null?void 0:s.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},t.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},t.setFocused=function(i){this.focused=i,i&&this.onFocus()},t.onFocus=function(){this.listeners.forEach(function(i){i()})},t.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document=="undefined"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(jp),X3=new kUe;m();var IUe=function(n){$h(e,n);function e(){var r;return r=n.call(this)||this,r.setup=function(i){var s;if(!M_&&((s=window)==null?void 0:s.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},t.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},t.setOnline=function(i){this.online=i,i&&this.onOnline()},t.onOnline=function(){this.listeners.forEach(function(i){i()})},t.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator=="undefined"||typeof navigator.onLine=="undefined"?!0:navigator.onLine},e}(jp),q8=new IUe;function MUe(n){return Math.min(1e3*Math.pow(2,n),3e4)}function IT(n){return typeof(n==null?void 0:n.cancel)=="function"}var zpe=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function U8(n){return n instanceof zpe}var YI=function(e){var t=this,r=!1,i,s,o,a;this.abort=e.abort,this.cancel=function(b){return i==null?void 0:i(b)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(b,R){o=b,a=R});var l=function(R){t.isResolved||(t.isResolved=!0,e.onSuccess==null||e.onSuccess(R),s==null||s(),o(R))},f=function(R){t.isResolved||(t.isResolved=!0,e.onError==null||e.onError(R),s==null||s(),a(R))},p=function(){return new Promise(function(R){s=R,t.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){s=void 0,t.isPaused=!1,e.onContinue==null||e.onContinue()})},_=function b(){if(!t.isResolved){var R;try{R=e.fn()}catch(O){R=Promise.reject(O)}i=function(j){if(!t.isResolved&&(f(new zpe(j)),t.abort==null||t.abort(),IT(R)))try{R.cancel()}catch{}},t.isTransportCancelable=IT(R),Promise.resolve(R).then(l).catch(function(O){var j,$;if(!t.isResolved){var L=(j=e.retry)!=null?j:3,q=($=e.retryDelay)!=null?$:MUe,P=typeof q=="function"?q(t.failureCount,O):q,W=L===!0||typeof L=="number"&&t.failureCount<L||typeof L=="function"&&L(t.failureCount,O);if(r||!W){f(O);return}t.failureCount++,e.onFail==null||e.onFail(t.failureCount,O),$pe(P).then(function(){if(!X3.isFocused()||!q8.isOnline())return p()}).then(function(){r?f(O):b()})}})}};_()};m();m();m();var PUe=function(){function n(){this.queue=[],this.transactions=0,this.notifyFn=function(t){t()},this.batchNotifyFn=function(t){t()}}var e=n.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):AJ(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];i.schedule(function(){r.apply(void 0,o)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&AJ(function(){r.batchNotifyFn(function(){i.forEach(function(s){r.notifyFn(s)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},n}(),Go=new PUe;m();var Hpe=console;function P_(){return Hpe}function TJ(n){Hpe=n}var Vpe=function(){function n(t){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=t.meta,this.scheduleGc()}var e=n.prototype;return e.setOptions=function(r){var i;this.options=$s({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),RT(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var s,o,a=this.state.data,l=Ppe(r,a);return((s=(o=this.options).isDataEqual)==null?void 0:s.call(o,a,l))?l=a:this.options.structuralSharing!==!1&&(l=j8(a,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),l},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(r),s?s.then(cl).catch(cl):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!QI(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var s=this,o,a,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i==null?void 0:i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var f;return(f=this.retryer)==null||f.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var p=this.observers.find(function(q){return q.options.queryFn});p&&this.setOptions(p.options)}var _=OT(this.queryKey),b=GI(),R={queryKey:_,pageParam:void 0,meta:this.meta};Object.defineProperty(R,"signal",{enumerable:!0,get:function(){if(b)return s.abortSignalConsumed=!0,b.signal}});var O=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(R)):Promise.reject("Missing queryFn")},j={fetchOptions:i,options:this.options,queryKey:_,state:this.state,fetchFn:O,meta:this.meta};if((o=this.options.behavior)==null?void 0:o.onFetch){var $;($=this.options.behavior)==null||$.onFetch(j)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=j.fetchOptions)==null?void 0:a.meta)){var L;this.dispatch({type:"fetch",meta:(L=j.fetchOptions)==null?void 0:L.meta})}return this.retryer=new YI({fn:j.fetchFn,abort:b==null||(l=b.abort)==null?void 0:l.bind(b),onSuccess:function(P){s.setData(P),s.cache.config.onSuccess==null||s.cache.config.onSuccess(P,s),s.cacheTime===0&&s.optionalRemove()},onError:function(P){U8(P)&&P.silent||s.dispatch({type:"error",error:P}),U8(P)||(s.cache.config.onError==null||s.cache.config.onError(P,s),P_().error(P)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:j.options.retry,retryDelay:j.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),Go.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof r.initialData!="undefined",o=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof i!="undefined";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,i){var s,o;switch(i.type){case"failed":return $s({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return $s({},r,{isPaused:!0});case"continue":return $s({},r,{isPaused:!1});case"fetch":return $s({},r,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return $s({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return U8(a)&&a.revert&&this.revertState?$s({},this.revertState):$s({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return $s({},r,{isInvalidated:!0});case"setState":return $s({},r,i.state);default:return r}},n}();var Wpe=function(n){$h(e,n);function e(r){var i;return i=n.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var t=e.prototype;return t.build=function(i,s,o){var a,l=s.queryKey,f=(a=s.queryHash)!=null?a:NT(l,s),p=this.get(f);return p||(p=new Vpe({cache:this,queryKey:l,queryHash:f,options:i.defaultQueryOptions(s),state:o,defaultOptions:i.getQueryDefaults(l),meta:s.meta}),this.add(p)),p},t.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},t.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},t.clear=function(){var i=this;Go.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},t.get=function(i){return this.queriesMap[i]},t.getAll=function(){return this.queries},t.find=function(i,s){var o=E2(i,s),a=o[0];return typeof a.exact=="undefined"&&(a.exact=!0),this.queries.find(function(l){return SJ(a,l)})},t.findAll=function(i,s){var o=E2(i,s),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(l){return SJ(a,l)}):this.queries},t.notify=function(i){var s=this;Go.batch(function(){s.listeners.forEach(function(o){o(i)})})},t.onFocus=function(){var i=this;Go.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},t.onOnline=function(){var i=this;Go.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},e}(jp);m();m();m();var Qpe=function(){function n(t){this.options=$s({},t.defaultOptions,t.options),this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.observers=[],this.state=t.state||FJ(),this.meta=t.meta}var e=n.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(cl).catch(cl)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,s=this.state.status==="loading",o=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(a){i=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),P_().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,i;return this.retryer=new YI({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=BUe(this.state,r),Go.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(r)}),i.mutationCache.notify(i)})},n}();function FJ(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function BUe(n,e){switch(e.type){case"failed":return $s({},n,{failureCount:n.failureCount+1});case"pause":return $s({},n,{isPaused:!0});case"continue":return $s({},n,{isPaused:!1});case"loading":return $s({},n,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return $s({},n,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return $s({},n,{data:void 0,error:e.error,failureCount:n.failureCount+1,isPaused:!1,status:"error"});case"setState":return $s({},n,e.state);default:return n}}var Gpe=function(n){$h(e,n);function e(r){var i;return i=n.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var t=e.prototype;return t.build=function(i,s,o){var a=new Qpe({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:o,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(a),a},t.add=function(i){this.mutations.push(i),this.notify(i)},t.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},t.clear=function(){var i=this;Go.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},t.getAll=function(){return this.mutations},t.find=function(i){return typeof i.exact=="undefined"&&(i.exact=!0),this.mutations.find(function(s){return CJ(i,s)})},t.findAll=function(i){return this.mutations.filter(function(s){return CJ(i,s)})},t.notify=function(i){var s=this;Go.batch(function(){s.listeners.forEach(function(o){o(i)})})},t.onFocus=function(){this.resumePausedMutations()},t.onOnline=function(){this.resumePausedMutations()},t.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return Go.batch(function(){return i.reduce(function(s,o){return s.then(function(){return o.continue().catch(cl)})},Promise.resolve())})},e}(jp);m();function Ype(){return{onFetch:function(e){e.fetchFn=function(){var t,r,i,s,o,a,l=(t=e.fetchOptions)==null||(r=t.meta)==null?void 0:r.refetchPage,f=(i=e.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,p=f==null?void 0:f.pageParam,_=(f==null?void 0:f.direction)==="forward",b=(f==null?void 0:f.direction)==="backward",R=((o=e.state.data)==null?void 0:o.pages)||[],O=((a=e.state.data)==null?void 0:a.pageParams)||[],j=GI(),$=j==null?void 0:j.signal,L=O,q=!1,P=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},W=function(bt,Mt,qe,te){return L=te?[Mt].concat(L):[].concat(L,[Mt]),te?[qe].concat(bt):[].concat(bt,[qe])},oe=function(bt,Mt,qe,te){if(q)return Promise.reject("Cancelled");if(typeof qe=="undefined"&&!Mt&&bt.length)return Promise.resolve(bt);var et={queryKey:e.queryKey,signal:$,pageParam:qe,meta:e.meta},Ee=P(et),ke=Promise.resolve(Ee).then(function(pe){return W(bt,qe,pe,te)});if(IT(Ee)){var Ce=ke;Ce.cancel=Ee.cancel}return ke},I;if(!R.length)I=oe([]);else if(_){var J=typeof p!="undefined",he=J?p:Kpe(e.options,R);I=oe(R,J,he)}else if(b){var ye=typeof p!="undefined",He=ye?p:jUe(e.options,R);I=oe(R,ye,He,!0)}else(function(){L=[];var Ze=typeof e.options.getNextPageParam=="undefined",bt=l&&R[0]?l(R[0],0,R):!0;I=bt?oe([],Ze,O[0]):Promise.resolve(W([],O[0],R[0]));for(var Mt=function(et){I=I.then(function(Ee){var ke=l&&R[et]?l(R[et],et,R):!0;if(ke){var Ce=Ze?O[et]:Kpe(e.options,Ee);return oe(Ee,Ze,Ce)}return Promise.resolve(W(Ee,O[et],R[et]))})},qe=1;qe<R.length;qe++)Mt(qe)})();var at=I.then(function(Ze){return{pages:Ze,pageParams:L}}),ct=at;return ct.cancel=function(){q=!0,j==null||j.abort(),IT(I)&&I.cancel()},at}}}}function Kpe(n,e){return n.getNextPageParam==null?void 0:n.getNextPageParam(e[e.length-1],e)}function jUe(n,e){return n.getPreviousPageParam==null?void 0:n.getPreviousPageParam(e[0],e)}var DJ=function(){function n(t){t===void 0&&(t={}),this.queryCache=t.queryCache||new Wpe,this.mutationCache=t.mutationCache||new Gpe,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=n.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=X3.subscribe(function(){X3.isFocused()&&q8.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=q8.subscribe(function(){X3.isFocused()&&q8.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var s=E2(r,i),o=s[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(r){return this.mutationCache.findAll($s({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var s=i.queryKey,o=i.state,a=o.data;return[s,a]})},e.setQueryData=function(r,i,s){var o=B8(r),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(i,s)},e.setQueriesData=function(r,i,s){var o=this;return Go.batch(function(){return o.getQueryCache().findAll(r).map(function(a){var l=a.queryKey;return[l,o.setQueryData(l,i,s)]})})},e.getQueryState=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state},e.removeQueries=function(r,i){var s=E2(r,i),o=s[0],a=this.queryCache;Go.batch(function(){a.findAll(o).forEach(function(l){a.remove(l)})})},e.resetQueries=function(r,i,s){var o=this,a=E2(r,i,s),l=a[0],f=a[1],p=this.queryCache,_=$s({},l,{active:!0});return Go.batch(function(){return p.findAll(l).forEach(function(b){b.reset()}),o.refetchQueries(_,f)})},e.cancelQueries=function(r,i,s){var o=this,a=E2(r,i,s),l=a[0],f=a[1],p=f===void 0?{}:f;typeof p.revert=="undefined"&&(p.revert=!0);var _=Go.batch(function(){return o.queryCache.findAll(l).map(function(b){return b.cancel(p)})});return Promise.all(_).then(cl).catch(cl)},e.invalidateQueries=function(r,i,s){var o,a,l,f=this,p=E2(r,i,s),_=p[0],b=p[1],R=$s({},_,{active:(o=(a=_.refetchActive)!=null?a:_.active)!=null?o:!0,inactive:(l=_.refetchInactive)!=null?l:!1});return Go.batch(function(){return f.queryCache.findAll(_).forEach(function(O){O.invalidate()}),f.refetchQueries(R,b)})},e.refetchQueries=function(r,i,s){var o=this,a=E2(r,i,s),l=a[0],f=a[1],p=Go.batch(function(){return o.queryCache.findAll(l).map(function(b){return b.fetch(void 0,$s({},f,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),_=Promise.all(p).then(cl);return(f==null?void 0:f.throwOnError)||(_=_.catch(cl)),_},e.fetchQuery=function(r,i,s){var o=B8(r,i,s),a=this.defaultQueryOptions(o);typeof a.retry=="undefined"&&(a.retry=!1);var l=this.queryCache.build(this,a);return l.isStaleByTime(a.staleTime)?l.fetch(a):Promise.resolve(l.state.data)},e.prefetchQuery=function(r,i,s){return this.fetchQuery(r,i,s).then(cl).catch(cl)},e.fetchInfiniteQuery=function(r,i,s){var o=B8(r,i,s);return o.behavior=Ype(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(r,i,s){return this.fetchInfiniteQuery(r,i,s).then(cl).catch(cl)},e.cancelMutations=function(){var r=this,i=Go.batch(function(){return r.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(cl).catch(cl)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var s=this.queryDefaults.find(function(o){return J3(r)===J3(o.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(s){return LT(r,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var s=this.mutationDefaults.find(function(o){return J3(r)===J3(o.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(s){return LT(r,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r==null?void 0:r._defaulted)return r;var i=$s({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=NT(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return(r==null?void 0:r._defaulted)?r:$s({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},n}();m();var RJ=function(n){$h(e,n);function e(r,i){var s;return s=n.call(this)||this,s.client=r,s.options=i,s.trackedProps=[],s.selectError=null,s.bindMethods(),s.setOptions(i),s}var t=e.prototype;return t.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},t.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Jpe(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},t.onUnsubscribe=function(){this.listeners.length||this.destroy()},t.shouldFetchOnReconnect=function(){return OJ(this.currentQuery,this.options,this.options.refetchOnReconnect)},t.shouldFetchOnWindowFocus=function(){return OJ(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},t.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},t.setOptions=function(i,s){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled!="undefined"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var l=this.hasListeners();l&&Xpe(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(s),l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var f=this.computeRefetchInterval();l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||f!==this.currentRefetchInterval)&&this.updateRefetchInterval(f)},t.getOptimisticResult=function(i){var s=this.client.defaultQueryObserverOptions(i),o=this.client.getQueryCache().build(this.client,s);return this.createResult(o,s)},t.getCurrentResult=function(){return this.currentResult},t.trackResult=function(i,s){var o=this,a={},l=function(p){o.trackedProps.includes(p)||o.trackedProps.push(p)};return Object.keys(i).forEach(function(f){Object.defineProperty(a,f,{configurable:!1,enumerable:!0,get:function(){return l(f),i[f]}})}),(s.useErrorBoundary||s.suspense)&&l("error"),a},t.getNextResult=function(i){var s=this;return new Promise(function(o,a){var l=s.subscribe(function(f){f.isFetching||(l(),f.isError&&(i==null?void 0:i.throwOnError)?a(f.error):o(f))})})},t.getCurrentQuery=function(){return this.currentQuery},t.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},t.refetch=function(i){return this.fetch($s({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},t.fetchOptimistic=function(i){var s=this,o=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return s.createResult(a,o)})},t.fetch=function(i){var s=this;return this.executeFetch(i).then(function(){return s.updateResult(),s.currentResult})},t.executeFetch=function(i){this.updateQuery();var s=this.currentQuery.fetch(this.options,i);return(i==null?void 0:i.throwOnError)||(s=s.catch(cl)),s},t.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(M_||this.currentResult.isStale||!RT(this.options.staleTime))){var s=QI(this.currentResult.dataUpdatedAt,this.options.staleTime),o=s+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},o)}},t.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},t.updateRefetchInterval=function(i){var s=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(M_||this.options.enabled===!1||!RT(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(s.options.refetchIntervalInBackground||X3.isFocused())&&s.executeFetch()},this.currentRefetchInterval))},t.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},t.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},t.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},t.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},t.createResult=function(i,s){var o=this.currentQuery,a=this.options,l=this.currentResult,f=this.currentResultState,p=this.currentResultOptions,_=i!==o,b=_?i.state:this.currentQueryInitialState,R=_?this.currentResult:this.previousQueryResult,O=i.state,j=O.dataUpdatedAt,$=O.error,L=O.errorUpdatedAt,q=O.isFetching,P=O.status,W=!1,oe=!1,I;if(s.optimisticResults){var J=this.hasListeners(),he=!J&&Jpe(i,s),ye=J&&Xpe(i,o,s,a);(he||ye)&&(q=!0,j||(P="loading"))}if(s.keepPreviousData&&!O.dataUpdateCount&&(R==null?void 0:R.isSuccess)&&P!=="error")I=R.data,j=R.dataUpdatedAt,P=R.status,W=!0;else if(s.select&&typeof O.data!="undefined")if(l&&O.data===(f==null?void 0:f.data)&&s.select===this.selectFn)I=this.selectResult;else try{this.selectFn=s.select,I=s.select(O.data),s.structuralSharing!==!1&&(I=j8(l==null?void 0:l.data,I)),this.selectResult=I,this.selectError=null}catch(ct){P_().error(ct),this.selectError=ct}else I=O.data;if(typeof s.placeholderData!="undefined"&&typeof I=="undefined"&&(P==="loading"||P==="idle")){var He;if((l==null?void 0:l.isPlaceholderData)&&s.placeholderData===(p==null?void 0:p.placeholderData))He=l.data;else if(He=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof He!="undefined")try{He=s.select(He),s.structuralSharing!==!1&&(He=j8(l==null?void 0:l.data,He)),this.selectError=null}catch(ct){P_().error(ct),this.selectError=ct}typeof He!="undefined"&&(P="success",I=He,oe=!0)}this.selectError&&($=this.selectError,I=this.selectResult,L=Date.now(),P="error");var at={status:P,isLoading:P==="loading",isSuccess:P==="success",isError:P==="error",isIdle:P==="idle",data:I,dataUpdatedAt:j,error:$,errorUpdatedAt:L,failureCount:O.fetchFailureCount,errorUpdateCount:O.errorUpdateCount,isFetched:O.dataUpdateCount>0||O.errorUpdateCount>0,isFetchedAfterMount:O.dataUpdateCount>b.dataUpdateCount||O.errorUpdateCount>b.errorUpdateCount,isFetching:q,isRefetching:q&&P!=="loading",isLoadingError:P==="error"&&O.dataUpdatedAt===0,isPlaceholderData:oe,isPreviousData:W,isRefetchError:P==="error"&&O.dataUpdatedAt!==0,isStale:NJ(i,s),refetch:this.refetch,remove:this.remove};return at},t.shouldNotifyListeners=function(i,s){if(!s)return!0;var o=this.options,a=o.notifyOnChangeProps,l=o.notifyOnChangePropsExclusions;if(!a&&!l||a==="tracked"&&!this.trackedProps.length)return!0;var f=a==="tracked"?this.trackedProps:a;return Object.keys(i).some(function(p){var _=p,b=i[_]!==s[_],R=f==null?void 0:f.some(function(j){return j===p}),O=l==null?void 0:l.some(function(j){return j===p});return b&&!O&&(!f||R)})},t.updateResult=function(i){var s=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!qpe(this.currentResult,s)){var o={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,s)&&(o.listeners=!0),this.notify($s({},o,i))}},t.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var s=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),i.addObserver(this))}},t.onQueryUpdate=function(i){var s={};i.type==="success"?s.onSuccess=!0:i.type==="error"&&!U8(i.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()},t.notify=function(i){var s=this;Go.batch(function(){i.onSuccess?(s.options.onSuccess==null||s.options.onSuccess(s.currentResult.data),s.options.onSettled==null||s.options.onSettled(s.currentResult.data,null)):i.onError&&(s.options.onError==null||s.options.onError(s.currentResult.error),s.options.onSettled==null||s.options.onSettled(void 0,s.currentResult.error)),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)}),i.cache&&s.client.getQueryCache().notify({query:s.currentQuery,type:"observerResultsUpdated"})})},e}(jp);function qUe(n,e){return e.enabled!==!1&&!n.state.dataUpdatedAt&&!(n.state.status==="error"&&e.retryOnMount===!1)}function Jpe(n,e){return qUe(n,e)||n.state.dataUpdatedAt>0&&OJ(n,e,e.refetchOnMount)}function OJ(n,e,t){if(e.enabled!==!1){var r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&NJ(n,e)}return!1}function Xpe(n,e,t,r){return t.enabled!==!1&&(n!==e||r.enabled===!1)&&(!t.suspense||n.state.status!=="error")&&NJ(n,t)}function NJ(n,e){return n.isStaleByTime(e.staleTime)}m();var Zpe=function(n){$h(e,n);function e(r,i){var s;return s=n.call(this)||this,s.client=r,s.setOptions(i),s.bindMethods(),s.updateResult(),s}var t=e.prototype;return t.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},t.setOptions=function(i){this.options=this.client.defaultMutationOptions(i)},t.onUnsubscribe=function(){if(!this.listeners.length){var i;(i=this.currentMutation)==null||i.removeObserver(this)}},t.onMutationUpdate=function(i){this.updateResult();var s={listeners:!0};i.type==="success"?s.onSuccess=!0:i.type==="error"&&(s.onError=!0),this.notify(s)},t.getCurrentResult=function(){return this.currentResult},t.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},t.mutate=function(i,s){return this.mutateOptions=s,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,$s({},this.options,{variables:typeof i!="undefined"?i:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},t.updateResult=function(){var i=this.currentMutation?this.currentMutation.state:FJ(),s=$s({},i,{isLoading:i.status==="loading",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=s},t.notify=function(i){var s=this;Go.batch(function(){s.mutateOptions&&(i.onSuccess?(s.mutateOptions.onSuccess==null||s.mutateOptions.onSuccess(s.currentResult.data,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(s.currentResult.data,null,s.currentResult.variables,s.currentResult.context)):i.onError&&(s.mutateOptions.onError==null||s.mutateOptions.onError(s.currentResult.error,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(void 0,s.currentResult.error,s.currentResult.variables,s.currentResult.context))),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)})})},e}(jp);m();m();m();var e1e=fr(zI()),t1e=e1e.default.unstable_batchedUpdates;Go.setBatchNotifyFunction(t1e);m();m();var n1e=console;TJ(n1e);m();var Z3=fr(Fr()),r1e=Z3.default.createContext(void 0),i1e=Z3.default.createContext(!1);function s1e(n){return n&&typeof window!="undefined"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=r1e),window.ReactQueryClientContext):r1e}var MT=function(){var e=Z3.default.useContext(s1e(Z3.default.useContext(i1e)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},LJ=function(e){var t=e.client,r=e.contextSharing,i=r===void 0?!1:r,s=e.children;Z3.default.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var o=s1e(i);return Z3.default.createElement(i1e.Provider,{value:i},Z3.default.createElement(o.Provider,{value:t},s))};m();var kJ=fr(Fr());function UUe(){var n=!1;return{clearReset:function(){n=!1},reset:function(){n=!0},isReset:function(){return n}}}var $Ue=kJ.default.createContext(UUe()),o1e=function(){return kJ.default.useContext($Ue)};m();var $8=fr(Fr());m();function KI(n,e,t){return typeof e=="function"?e.apply(void 0,t):typeof e=="boolean"?e:!!n}function IJ(n,e,t){var r=$8.default.useRef(!1),i=$8.default.useState(0),s=i[1],o=Bpe(n,e,t),a=MT(),l=$8.default.useRef();l.current?l.current.setOptions(o):l.current=new Zpe(a,o);var f=l.current.getCurrentResult();$8.default.useEffect(function(){r.current=!0;var _=l.current.subscribe(Go.batchCalls(function(){r.current&&s(function(b){return b+1})}));return function(){r.current=!1,_()}},[]);var p=$8.default.useCallback(function(_,b){l.current.mutate(_,b).catch(cl)},[]);if(f.error&&KI(void 0,l.current.options.useErrorBoundary,[f.error]))throw f.error;return $s({},f,{mutate:p,mutateAsync:f.mutate})}m();m();var z8=fr(Fr());function a1e(n,e){var t=z8.default.useRef(!1),r=z8.default.useState(0),i=r[1],s=MT(),o=o1e(),a=s.defaultQueryObserverOptions(n);a.optimisticResults=!0,a.onError&&(a.onError=Go.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Go.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Go.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(o.isReset()||(a.retryOnMount=!1));var l=z8.default.useState(function(){return new e(s,a)}),f=l[0],p=f.getOptimisticResult(a);if(z8.default.useEffect(function(){t.current=!0,o.clearReset();var _=f.subscribe(Go.batchCalls(function(){t.current&&i(function(b){return b+1})}));return f.updateResult(),function(){t.current=!1,_()}},[o,f]),z8.default.useEffect(function(){f.setOptions(a,{listeners:!1})},[a,f]),a.suspense&&p.isLoading)throw f.fetchOptimistic(a).then(function(_){var b=_.data;a.onSuccess==null||a.onSuccess(b),a.onSettled==null||a.onSettled(b,null)}).catch(function(_){o.clearReset(),a.onError==null||a.onError(_),a.onSettled==null||a.onSettled(void 0,_)});if(p.isError&&!o.isReset()&&!p.isFetching&&KI(a.suspense,a.useErrorBoundary,[p.error,f.getCurrentQuery()]))throw p.error;return a.notifyOnChangeProps==="tracked"&&(p=f.trackResult(p,a)),p}function Tg(n,e,t){var r=B8(n,e,t);return a1e(r,RJ)}m();var md=fr(Fr());m();m();function fl(){return fl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fl.apply(this,arguments)}var Ll;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ll||(Ll={}));var u1e="popstate";function l1e(n){n===void 0&&(n={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=zh(i.location.hash.substr(1));return B_("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,f=l.indexOf("#");a=f===-1?l:l.slice(0,f)}return a+"#"+(typeof s=="string"?s:oh(s))}function r(i,s){zUe(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return VUe(e,t,r,n)}function zUe(n,e){if(!n){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch{}}}function HUe(){return Math.random().toString(36).substr(2,8)}function c1e(n){return{usr:n.state,key:n.key}}function B_(n,e,t,r){return t===void 0&&(t=null),fl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?zh(e):e,{state:t,key:e&&e.key||r||HUe()})}function oh(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function PT(n){let e=typeof window!="undefined"&&typeof window.location!="undefined"&&window.location.origin!=="null"?window.location.origin:"unknown://unknown",t=typeof n=="string"?n:oh(n);return new URL(t,e)}function VUe(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ll.Pop,l=null;function f(){a=Ll.Pop,l&&l({action:a,location:b.location})}function p(R,O){a=Ll.Push;let j=B_(b.location,R,O);t&&t(j,R);let $=c1e(j),L=b.createHref(j);try{o.pushState($,"",L)}catch{i.location.assign(L)}s&&l&&l({action:a,location:b.location})}function _(R,O){a=Ll.Replace;let j=B_(b.location,R,O);t&&t(j,R);let $=c1e(j),L=b.createHref(j);o.replaceState($,"",L),s&&l&&l({action:a,location:b.location})}let b={get action(){return a},get location(){return n(i,o)},listen(R){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(u1e,f),l=R,()=>{i.removeEventListener(u1e,f),l=null}},createHref(R){return e(i,R)},encodeLocation(R){let O=PT(oh(R));return fl({},R,{pathname:O.pathname,search:O.search,hash:O.hash})},push:p,replace:_,go(R){return o.go(R)}};return b}var Vf;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Vf||(Vf={}));function WUe(n){return n.index===!0}function f1e(n,e,t){return e===void 0&&(e=[]),t===void 0&&(t=new Set),n.map((r,i)=>{let s=[...e,i],o=typeof r.id=="string"?r.id:s.join("-");return Lo(r.index!==!0||!r.children,"Cannot specify children on an index route"),Lo(!t.has(o),'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),t.add(o),WUe(r)?fl({},r,{id:o}):fl({},r,{id:o,children:r.children?f1e(r.children,s,t):void 0})})}function e5(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?zh(e):e,i=MJ(r.pathname||"/",t);if(i==null)return null;let s=d1e(n);QUe(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=n$e(s[a],i$e(i));return o}function d1e(n,e,t,r){return e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r=""),n.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(Lo(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let a=hm([r,o.relativePath]),l=t.concat(o);i.children&&i.children.length>0&&(Lo(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),d1e(i.children,e,l,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:e$e(a,i.index),routesMeta:l})}),e}function QUe(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:t$e(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var GUe=/^:\w+$/,YUe=3,KUe=2,JUe=1,XUe=10,ZUe=-2,h1e=n=>n==="*";function e$e(n,e){let t=n.split("/"),r=t.length;return t.some(h1e)&&(r+=ZUe),e&&(r+=KUe),t.filter(i=>!h1e(i)).reduce((i,s)=>i+(GUe.test(s)?YUe:s===""?JUe:XUe),r)}function t$e(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function n$e(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,f=i==="/"?e:e.slice(i.length)||"/",p=JI({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},f);if(!p)return null;Object.assign(r,p.params);let _=a.route;s.push({params:r,pathname:hm([i,p.pathname]),pathnameBase:a$e(hm([i,p.pathnameBase])),route:_}),p.pathnameBase!=="/"&&(i=hm([i,p.pathnameBase]))}return s}function JI(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=r$e(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((f,p,_)=>{if(p==="*"){let b=a[_]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}return f[p]=s$e(a[_]||"",p),f},{}),pathname:s,pathnameBase:o,pattern:n}}function r$e(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),PJ(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return n.endsWith("*")?(r.push("*"),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function i$e(n){try{return decodeURI(n)}catch(e){return PJ(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function s$e(n,e){try{return decodeURIComponent(n)}catch(t){return PJ(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function MJ(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Lo(n,e){if(n===!1||n===null||typeof n=="undefined")throw new Error(e)}function PJ(n,e){if(!n){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch{}}}function BJ(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?zh(n):n;return{pathname:t?t.startsWith("/")?t:o$e(t,e):e,search:u$e(r),hash:l$e(i)}}function o$e(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function jJ(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function XI(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=zh(n):(i=fl({},n),Lo(!i.pathname||!i.pathname.includes("?"),jJ("?","pathname","search",i)),Lo(!i.pathname||!i.pathname.includes("#"),jJ("#","pathname","hash",i)),Lo(!i.search||!i.search.includes("#"),jJ("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=t;else{let _=e.length-1;if(o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),_-=1;i.pathname=b.join("/")}a=_>=0?e[_]:"/"}let l=BJ(i,a),f=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(f||p)&&(l.pathname+="/"),l}var hm=n=>n.join("/").replace(/\/\/+/g,"/"),a$e=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),u$e=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,l$e=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;var H8=class extends Error{},p1e=class{constructor(e){this.pendingKeys=new Set,this.subscriber=void 0,Lo(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let t;this.abortPromise=new Promise((i,s)=>t=s),this.controller=new AbortController;let r=()=>t(new H8("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",r),this.controller.signal.addEventListener("abort",r),this.data=Object.entries(e).reduce((i,s)=>{let[o,a]=s;return Object.assign(i,{[o]:this.trackPromise(o,a)})},{})}trackPromise(e,t){if(!(t instanceof Promise))return t;this.pendingKeys.add(e);let r=Promise.race([t,this.abortPromise]).then(i=>this.onSettle(r,e,null,i),i=>this.onSettle(r,e,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,t,r,i){if(this.controller.signal.aborted&&r instanceof H8)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r);this.pendingKeys.delete(t),this.done&&this.unlistenAbortSignal();let s=this.subscriber;return r?(Object.defineProperty(e,"_error",{get:()=>r}),s&&s(!1),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>i}),s&&s(!1),i)}subscribe(e){this.subscriber=e}cancel(){this.controller.abort(),this.pendingKeys.forEach((t,r)=>this.pendingKeys.delete(r));let e=this.subscriber;e&&e(!0)}async resolveData(e){let t=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),t=await new Promise(i=>{this.subscribe(s=>{e.removeEventListener("abort",r),(s||this.done)&&i(s)})})}return t}get done(){return this.pendingKeys.size===0}get unwrappedData(){return Lo(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,t)=>{let[r,i]=t;return Object.assign(e,{[r]:f$e(i)})},{})}};function c$e(n){return n instanceof Promise&&n._tracked===!0}function f$e(n){if(!c$e(n))return n;if(n._error)throw n._error;return n._data}var j_=class{constructor(e,t,r){this.status=e,this.statusText=t||"",this.data=r}};function jT(n){return n instanceof j_}var qJ={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},d$e={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},h$e=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",p$e=!h$e;function UJ(n){Lo(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=f1e(n.routes),t=null,r=new Set,i=null,s=null,o=null,a=!1,l=e5(e,n.history.location,n.basename),f=null;if(l==null){let{matches:re,route:Re,error:nt}=E1e(e);l=re,f={[Re.id]:nt}}let p=!l.some(re=>re.route.loader)||n.hydrationData!=null,_,b={historyAction:n.history.action,location:n.history.location,matches:l,initialized:p,navigation:qJ,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||f,fetchers:new Map},R=Ll.Pop,O=!1,j,$=!1,L=!1,q=[],P=[],W=new Map,oe=0,I=-1,J=new Map,he=new Set,ye=new Map,He=new Map;function at(){return t=n.history.listen(re=>{let{action:Re,location:nt}=re;return et(Re,nt)}),b.initialized||et(Ll.Pop,b.location),_}function ct(){t&&t(),r.clear(),j&&j.abort(),b.fetchers.forEach((re,Re)=>Bt(Re))}function Ze(re){return r.add(re),()=>r.delete(re)}function bt(re){b=fl({},b,re),r.forEach(Re=>Re(b))}function Mt(re,Re){var nt;let ft=b.actionData!=null&&b.navigation.formMethod!=null&&b.navigation.state==="loading"&&((nt=b.navigation.formAction)==null?void 0:nt.split("?")[0])===re.pathname,Rt=Re.loaderData?{loaderData:zJ(b.loaderData,Re.loaderData,Re.matches||[])}:{};bt(fl({},ft?{}:{actionData:null},Re,Rt,{historyAction:R,location:re,initialized:!0,navigation:qJ,revalidation:"idle",restoreScrollPosition:b.navigation.formData?!1:Ke(re,Re.matches||b.matches),preventScrollReset:O})),$||R===Ll.Pop||(R===Ll.Push?n.history.push(re,re.state):R===Ll.Replace&&n.history.replace(re,re.state)),R=Ll.Pop,O=!1,$=!1,L=!1,q=[],P=[]}async function qe(re,Re){if(typeof re=="number"){n.history.go(re);return}let{path:nt,submission:ft,error:Rt}=m1e(re,Re),Yt=B_(b.location,nt,Re&&Re.state);Yt=n.history.encodeLocation(Yt);let Gt=(Re&&Re.replace)===!0||ft!=null?Ll.Replace:Ll.Push,fn=Re&&"preventScrollReset"in Re?Re.preventScrollReset===!0:void 0;return await et(Gt,Yt,{submission:ft,pendingError:Rt,preventScrollReset:fn,replace:Re&&Re.replace})}function te(){if(mn(),bt({revalidation:"loading"}),b.navigation.state!=="submitting"){if(b.navigation.state==="idle"){et(b.historyAction,b.location,{startUninterruptedRevalidation:!0});return}et(R||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation})}}async function et(re,Re,nt){j&&j.abort(),j=null,R=re,$=(nt&&nt.startUninterruptedRevalidation)===!0,tt(b.location,b.matches),O=(nt&&nt.preventScrollReset)===!0;let ft=nt&&nt.overrideNavigation,Rt=e5(e,Re,n.basename);if(!Rt){let{matches:un,route:Pn,error:nr}=E1e(e);_e(),Mt(Re,{matches:un,loaderData:{},errors:{[Pn.id]:nr}});return}if(_$e(b.location,Re)){Mt(Re,{matches:Rt});return}j=new AbortController;let Yt=UT(Re,j.signal,nt&&nt.submission),Gt,fn;if(nt&&nt.pendingError)fn={[V8(Rt).route.id]:nt.pendingError};else if(nt&&nt.submission){let un=await Ee(Yt,Re,nt.submission,Rt,{replace:nt.replace});if(un.shortCircuited)return;Gt=un.pendingActionData,fn=un.pendingActionError,ft=fl({state:"loading",location:Re},nt.submission)}let{shortCircuited:gn,loaderData:yn,errors:Lt}=await ke(Yt,Re,Rt,ft,nt&&nt.submission,nt&&nt.replace,Gt,fn);gn||(j=null,Mt(Re,{matches:Rt,loaderData:yn,errors:Lt}))}async function Ee(re,Re,nt,ft,Rt){mn();let Yt=fl({state:"submitting",location:Re},nt);bt({navigation:Yt});let Gt,fn=D1e(ft,Re);if(!fn.route.action)Gt=b1e(Re);else if(Gt=await qT("action",re,fn,ft,_.basename),re.signal.aborted)return{shortCircuited:!0};if(W8(Gt)){let gn=fl({state:"loading",location:B_(b.location,Gt.location)},nt);return await Ht(Gt,gn,Rt&&Rt.replace),{shortCircuited:!0}}if($T(Gt)){let gn=V8(ft,fn.route.id);return(Rt&&Rt.replace)!==!0&&(R=Ll.Push),{pendingActionError:{[gn.route.id]:Gt.error}}}if(q_(Gt))throw new Error("defer() is not supported in actions");return{pendingActionData:{[fn.route.id]:Gt.data}}}async function ke(re,Re,nt,ft,Rt,Yt,Gt,fn){let gn=ft;gn||(gn={state:"loading",location:Re,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0});let[yn,Lt]=x1e(b,nt,Rt,Re,L,q,P,Gt,fn,ye);if(_e(Pt=>!(nt&&nt.some(mt=>mt.route.id===Pt))||yn&&yn.some(mt=>mt.route.id===Pt)),yn.length===0&&Lt.length===0)return Mt(Re,{matches:nt,loaderData:zJ(b.loaderData,{},nt),errors:fn||null,actionData:Gt||null}),{shortCircuited:!0};$||(Lt.forEach(Pt=>{let[mt]=Pt,xt=b.fetchers.get(mt),rn={state:"loading",data:xt&&xt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};b.fetchers.set(mt,rn)}),bt(fl({navigation:gn,actionData:Gt||b.actionData||null},Lt.length>0?{fetchers:new Map(b.fetchers)}:{}))),I=++oe,Lt.forEach(Pt=>{let[mt]=Pt;return W.set(mt,j)});let{results:un,loaderResults:Pn,fetcherResults:nr}=await wt(b.matches,nt,yn,Lt,re);if(re.signal.aborted)return{shortCircuited:!0};Lt.forEach(Pt=>{let[mt]=Pt;return W.delete(mt)});let On=S1e(un);if(On){let Pt=$J(b,On);return await Ht(On,Pt,Yt),{shortCircuited:!0}}let{loaderData:Ne,errors:ze}=_1e(b,nt,yn,Pn,fn,Lt,nr,He);He.forEach((Pt,mt)=>{Pt.subscribe(xt=>{(xt||Pt.done)&&He.delete(mt)})}),ve();let De=Le(I);return fl({loaderData:Ne,errors:ze},De||Lt.length>0?{fetchers:new Map(b.fetchers)}:{})}function Ce(re){return b.fetchers.get(re)||d$e}function pe(re,Re,nt,ft){if(p$e)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");W.has(re)&&tn(re);let Rt=e5(e,nt,n.basename);if(!Rt){kt(re,Re,new j_(404,"Not Found",null));return}let{path:Yt,submission:Gt}=m1e(nt,ft,!0),fn=D1e(Rt,Yt);if(Gt){Je(re,Re,Yt,fn,Rt,Gt);return}ye.set(re,[Yt,fn,Rt]),lt(re,Re,Yt,fn,Rt)}async function Je(re,Re,nt,ft,Rt,Yt){if(mn(),ye.delete(re),!ft.route.action){let{error:Nn}=b1e(nt);kt(re,Re,Nn);return}let Gt=b.fetchers.get(re),fn=fl({state:"submitting"},Yt,{data:Gt&&Gt.data});b.fetchers.set(re,fn),bt({fetchers:new Map(b.fetchers)});let gn=new AbortController,yn=UT(nt,gn.signal,Yt);W.set(re,gn);let Lt=await qT("action",yn,ft,Rt,_.basename);if(yn.signal.aborted){W.get(re)===gn&&W.delete(re);return}if(W8(Lt)){W.delete(re),he.add(re);let Nn=fl({state:"loading"},Yt,{data:void 0});b.fetchers.set(re,Nn),bt({fetchers:new Map(b.fetchers)});let rr=fl({state:"loading",location:B_(b.location,Lt.location)},Yt);await Ht(Lt,rr);return}if($T(Lt)){kt(re,Re,Lt.error);return}q_(Lt)&&Lo(!1,"defer() is not supported in actions");let un=b.navigation.location||b.location,Pn=UT(un,gn.signal),nr=b.navigation.state!=="idle"?e5(e,b.navigation.location,n.basename):b.matches;Lo(nr,"Didn't find any matches after fetcher action");let On=++oe;J.set(re,On);let Ne=fl({state:"loading",data:Lt.data},Yt);b.fetchers.set(re,Ne);let[ze,De]=x1e(b,nr,Yt,un,L,q,P,{[ft.route.id]:Lt.data},void 0,ye);De.filter(Nn=>{let[rr]=Nn;return rr!==re}).forEach(Nn=>{let[rr]=Nn,Ye=b.fetchers.get(rr),vt={state:"loading",data:Ye&&Ye.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};b.fetchers.set(rr,vt),W.set(rr,gn)}),bt({fetchers:new Map(b.fetchers)});let{results:Pt,loaderResults:mt,fetcherResults:xt}=await wt(b.matches,nr,ze,De,Pn);if(gn.signal.aborted)return;J.delete(re),W.delete(re),De.forEach(Nn=>{let[rr]=Nn;return W.delete(rr)});let rn=S1e(Pt);if(rn){let Nn=$J(b,rn);await Ht(rn,Nn);return}let{loaderData:Qt,errors:Fn}=_1e(b,b.matches,ze,mt,void 0,De,xt,He),Wn={state:"idle",data:Lt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};b.fetchers.set(re,Wn);let Zn=Le(On);b.navigation.state==="loading"&&On>I?(Lo(R,"Expected pending action"),j&&j.abort(),Mt(b.navigation.location,{matches:nr,loaderData:Qt,errors:Fn,fetchers:new Map(b.fetchers)})):(bt(fl({errors:Fn,loaderData:zJ(b.loaderData,Qt,nr)},Zn?{fetchers:new Map(b.fetchers)}:{})),L=!1)}async function lt(re,Re,nt,ft,Rt){let Yt=b.fetchers.get(re),Gt={state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,data:Yt&&Yt.data};b.fetchers.set(re,Gt),bt({fetchers:new Map(b.fetchers)});let fn=new AbortController,gn=UT(nt,fn.signal);W.set(re,fn);let yn=await qT("loader",gn,ft,Rt,_.basename);if(q_(yn)&&(yn=await A1e(yn,gn.signal,!0)||yn),W.get(re)===fn&&W.delete(re),gn.signal.aborted)return;if(W8(yn)){let un=$J(b,yn);await Ht(yn,un);return}if($T(yn)){let un=V8(b.matches,Re);b.fetchers.delete(re),bt({fetchers:new Map(b.fetchers),errors:{[un.route.id]:yn.error}});return}Lo(!q_(yn),"Unhandled fetcher deferred data");let Lt={state:"idle",data:yn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};b.fetchers.set(re,Lt),bt({fetchers:new Map(b.fetchers)})}async function Ht(re,Re,nt){re.revalidate&&(L=!0),Lo(Re.location,"Expected a location on the redirect navigation"),j=null;let ft=nt===!0?Ll.Replace:Ll.Push;await et(ft,Re.location,{overrideNavigation:Re})}async function wt(re,Re,nt,ft,Rt){let Yt=await Promise.all([...nt.map(gn=>qT("loader",Rt,gn,Re,_.basename)),...ft.map(gn=>{let[,yn,Lt,un]=gn;return qT("loader",UT(yn,Rt.signal),Lt,un,_.basename)})]),Gt=Yt.slice(0,nt.length),fn=Yt.slice(nt.length);return await Promise.all([w1e(re,nt,Gt,Rt.signal,!1,b.loaderData),w1e(re,ft.map(gn=>{let[,,yn]=gn;return yn}),fn,Rt.signal,!0)]),{results:Yt,loaderResults:Gt,fetcherResults:fn}}function mn(){L=!0,q.push(..._e()),ye.forEach((re,Re)=>{W.has(Re)&&(P.push(Re),tn(Re))})}function kt(re,Re,nt){let ft=V8(b.matches,Re);Bt(re),bt({errors:{[ft.route.id]:nt},fetchers:new Map(b.fetchers)})}function Bt(re){W.has(re)&&tn(re),ye.delete(re),J.delete(re),he.delete(re),b.fetchers.delete(re)}function tn(re){let Re=W.get(re);Lo(Re,"Expected fetch controller: "+re),Re.abort(),W.delete(re)}function Et(re){for(let Re of re){let nt=Ce(Re),ft={state:"idle",data:nt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};b.fetchers.set(Re,ft)}}function ve(){let re=[];for(let Re of he){let nt=b.fetchers.get(Re);Lo(nt,"Expected fetcher: "+Re),nt.state==="loading"&&(he.delete(Re),re.push(Re))}Et(re)}function Le(re){let Re=[];for(let[nt,ft]of J)if(ft<re){let Rt=b.fetchers.get(nt);Lo(Rt,"Expected fetcher: "+nt),Rt.state==="loading"&&(tn(nt),J.delete(nt),Re.push(nt))}return Et(Re),Re.length>0}function _e(re){let Re=[];return He.forEach((nt,ft)=>{(!re||re(ft))&&(nt.cancel(),Re.push(ft),He.delete(ft))}),Re}function ce(re,Re,nt){if(i=re,o=Re,s=nt||(ft=>ft.key),!a&&b.navigation===qJ){a=!0;let ft=Ke(b.location,b.matches);ft!=null&&bt({restoreScrollPosition:ft})}return()=>{i=null,o=null,s=null}}function tt(re,Re){if(i&&s&&o){let nt=Re.map(Rt=>F1e(Rt,b.loaderData)),ft=s(re,nt)||re.key;i[ft]=o()}}function Ke(re,Re){if(i&&s&&o){let nt=Re.map(Yt=>F1e(Yt,b.loaderData)),ft=s(re,nt)||re.key,Rt=i[ft];if(typeof Rt=="number")return Rt}return null}return _={get basename(){return n.basename},get state(){return b},get routes(){return e},initialize:at,subscribe:Ze,enableScrollRestoration:ce,navigate:qe,fetch:pe,revalidate:te,createHref:re=>n.history.createHref(re),getFetcher:Ce,deleteFetcher:Bt,dispose:ct,_internalFetchControllers:W,_internalActiveDeferreds:He},_}var m$e=new Set(["POST","PUT","PATCH","DELETE"]),NSt=new Set(["GET","HEAD",...m$e]);function m1e(n,e,t){t===void 0&&(t=!1);let r=typeof n=="string"?n:oh(n);if(!e||!("formMethod"in e)&&!("formData"in e))return{path:r};if(e.formMethod!=null&&e.formMethod!=="get")return{path:r,submission:{formMethod:e.formMethod,formAction:C1e(r),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData}};if(!e.formData)return{path:r};let i=zh(r);try{let s=v1e(e.formData);t&&i.search&&T1e(i.search)&&s.append("index",""),i.search="?"+s}catch{return{path:r,error:new j_(400,"Bad Request","Cannot submit binary form data using GET")}}return{path:oh(i)}}function $J(n,e){let{formMethod:t,formAction:r,formEncType:i,formData:s}=n.navigation;return{state:"loading",location:B_(n.location,e.location),formMethod:t||void 0,formAction:r||void 0,formEncType:i||void 0,formData:s||void 0}}function x$e(n,e){let t=n;if(e){let r=n.findIndex(i=>i.route.id===e);r>=0&&(t=n.slice(0,r))}return t}function x1e(n,e,t,r,i,s,o,a,l,f){let p=l?Object.values(l)[0]:a?Object.values(a)[0]:null,_=l?Object.keys(l)[0]:void 0,R=x$e(e,_).filter((j,$)=>j.route.loader!=null&&(g$e(n.loaderData,n.matches[$],j)||s.some(L=>L===j.route.id)||y1e(n.location,n.matches[$],t,r,j,i,p))),O=[];return f&&f.forEach((j,$)=>{let[L,q,P]=j;o.includes($)?O.push([$,L,q,P]):i&&y1e(L,q,t,L,q,i,p)&&O.push([$,L,q,P])}),[R,O]}function g$e(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function g1e(n,e){let t=n.route.path;return n.pathname!==e.pathname||t&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function y1e(n,e,t,r,i,s,o){let a=PT(n),l=e.params,f=PT(r),p=i.params,_=g1e(e,i)||a.toString()===f.toString()||a.search!==f.search||s;if(i.route.shouldRevalidate){let b=i.route.shouldRevalidate(fl({currentUrl:a,currentParams:l,nextUrl:f,nextParams:p},t,{actionResult:o,defaultShouldRevalidate:_}));if(typeof b=="boolean")return b}return _}async function qT(n,e,t,r,i,s,o){s===void 0&&(s=!1),o===void 0&&(o=!1);let a,l,f,p=new Promise((b,R)=>f=R),_=()=>f();e.signal.addEventListener("abort",_);try{let b=t.route[n];Lo(b,"Could not find the "+n+' to run on the "'+t.route.id+'" route'),l=await Promise.race([b({request:e,params:t.params}),p])}catch(b){a=Vf.error,l=b}finally{e.signal.removeEventListener("abort",_)}if(l instanceof Response){let b=l.status;if(b>=300&&b<=399){let j=l.headers.get("Location");Lo(j,"Redirects returned/thrown from loaders/actions must have a Location header");let $=r.slice(0,r.indexOf(t)+1),L=BT($).map(W=>W.pathnameBase),q=PT(e.url).pathname,P=XI(j,L,q);if(Lo(oh(P),"Unable to resolve redirect location: "+l.headers.get("Location")),i){let W=P.pathname;P.pathname=W==="/"?i:hm([i,W])}if(j=oh(P),s)throw l.headers.set("Location",j),l;return{type:Vf.redirect,status:b,location:j,revalidate:l.headers.get("X-Remix-Revalidate")!==null}}if(o)throw{type:a||Vf.data,response:l};let R,O=l.headers.get("Content-Type");return O&&O.startsWith("application/json")?R=await l.json():R=await l.text(),a===Vf.error?{type:a,error:new j_(b,l.statusText,R),headers:l.headers}:{type:Vf.data,data:R,statusCode:l.status,headers:l.headers}}return a===Vf.error?{type:a,error:l}:l instanceof p1e?{type:Vf.deferred,deferredData:l}:{type:Vf.data,data:l}}function UT(n,e,t){let r=PT(C1e(n)).toString(),i={signal:e};if(t){let{formMethod:s,formEncType:o,formData:a}=t;i.method=s.toUpperCase(),i.body=o==="application/x-www-form-urlencoded"?v1e(a):a}return new Request(r,i)}function v1e(n){let e=new URLSearchParams;for(let[t,r]of n.entries())Lo(typeof r=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),e.append(t,r);return e}function y$e(n,e,t,r,i){let s={},o=null,a,l=!1,f={};return t.forEach((p,_)=>{let b=e[_].route.id;if(Lo(!W8(p),"Cannot handle redirect results in processLoaderData"),$T(p)){let R=V8(n,b),O=p.error;r&&(O=Object.values(r)[0],r=void 0),o=Object.assign(o||{},{[R.route.id]:O}),l||(l=!0,a=jT(p.error)?p.error.status:500),p.headers&&(f[b]=p.headers)}else q_(p)?(i&&i.set(b,p.deferredData),s[b]=p.deferredData.data):(s[b]=p.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(f[b]=p.headers))}),r&&(o=r),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:f}}function _1e(n,e,t,r,i,s,o,a){let{loaderData:l,errors:f}=y$e(e,t,r,i,a);for(let p=0;p<s.length;p++){let[_,,b]=s[p];Lo(o!==void 0&&o[p]!==void 0,"Did not find corresponding fetcher result");let R=o[p];if($T(R)){let O=V8(n.matches,b.route.id);f&&f[O.route.id]||(f=fl({},f,{[O.route.id]:R.error})),n.fetchers.delete(_)}else{if(W8(R))throw new Error("Unhandled fetcher revalidation redirect");if(q_(R))throw new Error("Unhandled fetcher deferred data");{let O={state:"idle",data:R.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};n.fetchers.set(_,O)}}}return{loaderData:l,errors:f}}function zJ(n,e,t){let r=fl({},e);return t.forEach(i=>{let s=i.route.id;e[s]===void 0&&n[s]!==void 0&&(r[s]=n[s])}),r}function V8(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function v$e(n,e,t){let r=n.find(i=>i.index||!i.path||i.path==="/")||{id:"__shim-"+e+"-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:r}],route:r,error:new j_(e,t,null)}}function E1e(n){return v$e(n,404,"Not Found")}function b1e(n){let e=typeof n=="string"?n:oh(n);return console.warn("You're trying to submit to a route that does not have an action.  To fix this, please add an `action` function to the route for "+("["+e+"]")),{type:Vf.error,error:new j_(405,"Method Not Allowed","")}}function S1e(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(W8(t))return t}}function C1e(n){let e=typeof n=="string"?zh(n):n;return oh(fl({},e,{hash:""}))}function _$e(n,e){return n.pathname===e.pathname&&n.search===e.search&&n.hash!==e.hash}function q_(n){return n.type===Vf.deferred}function $T(n){return n.type===Vf.error}function W8(n){return(n&&n.type)===Vf.redirect}async function w1e(n,e,t,r,i,s){for(let o=0;o<t.length;o++){let a=t[o],l=e[o],f=n.find(_=>_.route.id===l.route.id),p=f!=null&&!g1e(f,l)&&(s&&s[l.route.id])!==void 0;q_(a)&&(i||p)&&await A1e(a,r,i).then(_=>{_&&(t[o]=_||t[o])})}}async function A1e(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Vf.data,data:n.deferredData.unwrappedData}}catch(i){return{type:Vf.error,error:i}}return{type:Vf.data,data:n.deferredData.data}}}function T1e(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function F1e(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function D1e(n,e){let t=typeof e=="string"?zh(e).search:e.search;if(n[n.length-1].route.index&&T1e(t||""))return n[n.length-1];let r=BT(n);return r[r.length-1]}var Mi=fr(Fr());function ZI(){return ZI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ZI.apply(this,arguments)}function w$e(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var A$e=typeof Object.is=="function"?Object.is:w$e,{useState:T$e,useEffect:F$e,useLayoutEffect:D$e,useDebugValue:R$e}=Mi;function O$e(n,e,t){let r=e(),[{inst:i},s]=T$e({inst:{value:r,getSnapshot:e}});return D$e(()=>{i.value=r,i.getSnapshot=e,HJ(i)&&s({inst:i})},[n,r,e]),F$e(()=>(HJ(i)&&s({inst:i}),n(()=>{HJ(i)&&s({inst:i})})),[n]),R$e(r),r}function HJ(n){let e=n.getSnapshot,t=n.value;try{let r=e();return!A$e(t,r)}catch{return!0}}function N$e(n,e,t){return e()}var L$e=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",k$e=!L$e,I$e=k$e?N$e:O$e,M$e="useSyncExternalStore"in Mi?(n=>n.useSyncExternalStore)(Mi):I$e,R1e=Mi.createContext(null),eM=Mi.createContext(null),zT=Mi.createContext(null);var HT=Mi.createContext(null),VT=Mi.createContext(null),t5=Mi.createContext({outlet:null,matches:[]}),O1e=Mi.createContext(null);function VJ(n,e){let{relative:t}=e===void 0?{}:e;Q8()||Lo(!1);let{basename:r,navigator:i}=Mi.useContext(HT),{hash:s,pathname:o,search:a}=tM(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:hm([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Q8(){return Mi.useContext(VT)!=null}function U_(){return Q8()||Lo(!1),Mi.useContext(VT).location}function n5(){Q8()||Lo(!1);let{basename:n,navigator:e}=Mi.useContext(HT),{matches:t}=Mi.useContext(t5),{pathname:r}=U_(),i=JSON.stringify(BT(t).map(a=>a.pathnameBase)),s=Mi.useRef(!1);return Mi.useEffect(()=>{s.current=!0}),Mi.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let f=XI(a,JSON.parse(i),r,l.relative==="path");n!=="/"&&(f.pathname=f.pathname==="/"?n:hm([n,f.pathname])),(l.replace?e.replace:e.push)(f,l.state,l)},[n,e,i,r])}function WJ(){let{matches:n}=Mi.useContext(t5),e=n[n.length-1];return e?e.params:{}}function tM(n,e){let{relative:t}=e===void 0?{}:e,{matches:r}=Mi.useContext(t5),{pathname:i}=U_(),s=JSON.stringify(BT(r).map(o=>o.pathnameBase));return Mi.useMemo(()=>XI(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function N1e(n,e){Q8()||Lo(!1);let t=Mi.useContext(zT),{matches:r}=Mi.useContext(t5),i=r[r.length-1],s=i?i.params:{},o=i?i.pathname:"/",a=i?i.pathnameBase:"/",l=i&&i.route,f=U_(),p;if(e){var _;let $=typeof e=="string"?zh(e):e;a==="/"||((_=$.pathname)==null?void 0:_.startsWith(a))||Lo(!1),p=$}else p=f;let b=p.pathname||"/",R=a==="/"?b:b.slice(a.length)||"/",O=e5(n,{pathname:R}),j=j$e(O&&O.map($=>Object.assign({},$,{params:Object.assign({},s,$.params),pathname:hm([a,$.pathname]),pathnameBase:$.pathnameBase==="/"?a:hm([a,$.pathnameBase])})),r,t||void 0);return e&&j?Mi.createElement(VT.Provider,{value:{location:ZI({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Ll.Pop}},j):j}function P$e(){let n=nM(),e=jT(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r};return Mi.createElement(Mi.Fragment,null,Mi.createElement("h2",null,"Unhandled Thrown Error!"),Mi.createElement("h3",{style:{fontStyle:"italic"}},e),t?Mi.createElement("pre",{style:i},t):null,Mi.createElement("p",null,"\u{1F4BF} Hey developer \u{1F44B}"),Mi.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xA0",Mi.createElement("code",{style:s},"errorElement")," props on\xA0",Mi.createElement("code",{style:s},"<Route>")))}var L1e=class extends Mi.Component{constructor(e){super(e);this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?Mi.createElement(O1e.Provider,{value:this.state.error,children:this.props.component}):this.props.children}};function B$e(n){let{routeContext:e,match:t,children:r}=n,i=Mi.useContext(R1e);return i&&t.route.errorElement&&(i._deepestRenderedBoundaryId=t.route.id),Mi.createElement(t5.Provider,{value:e},r)}function j$e(n,e,t){if(e===void 0&&(e=[]),n==null)if(t!=null&&t.errors)n=t.matches;else return null;let r=n,i=t==null?void 0:t.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Lo(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,f=t?o.route.errorElement||Mi.createElement(P$e,null):null,p=()=>Mi.createElement(B$e,{match:o,routeContext:{outlet:s,matches:e.concat(r.slice(0,a+1))}},l?f:o.route.element!==void 0?o.route.element:s);return t&&(o.route.errorElement||a===0)?Mi.createElement(L1e,{location:t.location,component:f,error:l,children:p()}):p()},null)}var k1e;(function(n){n.UseRevalidator="useRevalidator"})(k1e||(k1e={}));var QJ;(function(n){n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(QJ||(QJ={}));function q$e(n){let e=Mi.useContext(zT);return e||Lo(!1),e}function nM(){var n;let e=Mi.useContext(O1e),t=q$e(QJ.UseRouteError),r=Mi.useContext(t5),i=r.matches[r.matches.length-1];return e||(r||Lo(!1),i.route.id||Lo(!1),(n=t.errors)==null?void 0:n[i.route.id])}function GJ(n){let{fallbackElement:e,router:t}=n,r=M$e(t.subscribe,()=>t.state,()=>t.state),i=Mi.useMemo(()=>({createHref:t.createHref,go:o=>t.navigate(o),push:(o,a,l)=>t.navigate(o,{state:a,preventScrollReset:l==null?void 0:l.preventScrollReset}),replace:(o,a,l)=>t.navigate(o,{replace:!0,state:a,preventScrollReset:l==null?void 0:l.preventScrollReset})}),[t]),s=t.basename||"/";return Mi.createElement(eM.Provider,{value:{router:t,navigator:i,static:!1,basename:s}},Mi.createElement(zT.Provider,{value:r},Mi.createElement(YJ,{basename:t.basename,location:t.state.location,navigationType:t.state.historyAction,navigator:i},t.state.initialized?Mi.createElement(M1e,null):e)))}function I1e(n){Lo(!1)}function YJ(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Ll.Pop,navigator:s,static:o=!1}=n;Q8()&&Lo(!1);let a=e.replace(/^\/*/,"/"),l=Mi.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=zh(r));let{pathname:f="/",search:p="",hash:_="",state:b=null,key:R="default"}=r,O=Mi.useMemo(()=>{let j=MJ(f,a);return j==null?null:{pathname:j,search:p,hash:_,state:b,key:R}},[a,f,p,_,b,R]);return O==null?null:Mi.createElement(HT.Provider,{value:l},Mi.createElement(VT.Provider,{children:t,value:{location:O,navigationType:i}}))}function M1e(n){let{children:e,location:t}=n,r=Mi.useContext(eM),i=r&&!e?r.router.routes:WT(e);return N1e(i,t)}var P1e;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(P1e||(P1e={}));var PSt=new Promise(()=>{});function WT(n,e){e===void 0&&(e=[]);let t=[];return Mi.Children.forEach(n,(r,i)=>{if(!Mi.isValidElement(r))return;if(r.type===Mi.Fragment){t.push.apply(t,WT(r.props.children,e));return}r.type!==I1e&&Lo(!1),!r.props.index||!r.props.children||Lo(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=WT(r.props.children,s)),t.push(o)}),t}function rM(n){return n.map(e=>{let t=ZI({},e);return t.hasErrorBoundary==null&&(t.hasErrorBoundary=t.errorElement!=null),t.children&&(t.children=rM(t.children)),t})}function KJ(){return KJ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},KJ.apply(this,arguments)}function z$e(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function H$e(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function V$e(n,e){return n.button===0&&(!e||e==="_self")&&!H$e(n)}function JJ(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function W$e(n,e){let t=JJ(n);for(let r of e.keys())t.has(r)||e.getAll(r).forEach(i=>{t.append(r,i)});return t}var Q$e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function B1e(n,e){var t;return UJ({basename:e==null?void 0:e.basename,history:l1e({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||((t=window)==null?void 0:t.__staticRouterHydrationData),routes:rM(n)}).initialize()}var j1e=md.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:f,preventScrollReset:p}=e,_=z$e(e,Q$e),b=VJ(f,{relative:i}),R=G$e(f,{replace:o,state:a,target:l,preventScrollReset:p,relative:i});function O(j){r&&r(j),j.defaultPrevented||R(j)}return md.createElement("a",KJ({},_,{href:b,onClick:s?r:O,ref:t,target:l}))});var q1e;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(q1e||(q1e={}));var U1e;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(U1e||(U1e={}));function G$e(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=n5(),l=U_(),f=tM(n,{relative:o});return md.useCallback(p=>{if(V$e(p,t)){p.preventDefault();let _=r!==void 0?r:oh(l)===oh(f);a(n,{replace:_,state:i,preventScrollReset:s,relative:o})}},[l,a,f,r,i,t,n,s,o])}function $1e(n){let e=md.useRef(JJ(n)),t=U_(),r=md.useMemo(()=>W$e(t.search,e.current),[t.search]),i=n5(),s=md.useCallback((o,a)=>{let l=JJ(typeof o=="function"?o(r):o);i("?"+l,a)},[i,r]);return[r,s]}m();m();m();var Ab=fr(Fr());m();var CM=fr(W1e()),Uu=fr(Fr()),pme=fr(G1e());m();function J$e(n){function e(pe,Je,lt,Ht,wt){for(var mn=0,kt=0,Bt=0,tn=0,Et,ve,Le=0,_e=0,ce,tt=ce=Et=0,Ke=0,re=0,Re=0,nt=0,ft=lt.length,Rt=ft-1,Yt,Gt="",fn="",gn="",yn="",Lt;Ke<ft;){if(ve=lt.charCodeAt(Ke),Ke===Rt&&kt+tn+Bt+mn!==0&&(kt!==0&&(ve=kt===47?10:47),tn=Bt=mn=0,ft++,Rt++),kt+tn+Bt+mn===0){if(Ke===Rt&&(0<re&&(Gt=Gt.replace(b,"")),0<Gt.trim().length)){switch(ve){case 32:case 9:case 59:case 13:case 10:break;default:Gt+=lt.charAt(Ke)}ve=59}switch(ve){case 123:for(Gt=Gt.trim(),Et=Gt.charCodeAt(0),ce=1,nt=++Ke;Ke<ft;){switch(ve=lt.charCodeAt(Ke)){case 123:ce++;break;case 125:ce--;break;case 47:switch(ve=lt.charCodeAt(Ke+1)){case 42:case 47:e:{for(tt=Ke+1;tt<Rt;++tt)switch(lt.charCodeAt(tt)){case 47:if(ve===42&&lt.charCodeAt(tt-1)===42&&Ke+2!==tt){Ke=tt+1;break e}break;case 10:if(ve===47){Ke=tt+1;break e}}Ke=tt}}break;case 91:ve++;case 40:ve++;case 34:case 39:for(;Ke++<Rt&&lt.charCodeAt(Ke)!==ve;);}if(ce===0)break;Ke++}switch(ce=lt.substring(nt,Ke),Et===0&&(Et=(Gt=Gt.replace(_,"").trim()).charCodeAt(0)),Et){case 64:switch(0<re&&(Gt=Gt.replace(b,"")),ve=Gt.charCodeAt(1),ve){case 100:case 109:case 115:case 45:re=Je;break;default:re=qe}if(ce=e(Je,re,ce,ve,wt+1),nt=ce.length,0<et&&(re=t(qe,Gt,Re),Lt=a(3,ce,re,Je,Ze,ct,nt,ve,wt,Ht),Gt=re.join(""),Lt!==void 0&&(nt=(ce=Lt.trim()).length)===0&&(ve=0,ce="")),0<nt)switch(ve){case 115:Gt=Gt.replace(I,o);case 100:case 109:case 45:ce=Gt+"{"+ce+"}";break;case 107:Gt=Gt.replace(q,"$1 $2"),ce=Gt+"{"+ce+"}",ce=Mt===1||Mt===2&&s("@"+ce,3)?"@-webkit-"+ce+"@"+ce:"@"+ce;break;default:ce=Gt+ce,Ht===112&&(ce=(fn+=ce,""))}else ce="";break;default:ce=e(Je,t(Je,Gt,Re),ce,Ht,wt+1)}gn+=ce,ce=Re=re=tt=Et=0,Gt="",ve=lt.charCodeAt(++Ke);break;case 125:case 59:if(Gt=(0<re?Gt.replace(b,""):Gt).trim(),1<(nt=Gt.length))switch(tt===0&&(Et=Gt.charCodeAt(0),Et===45||96<Et&&123>Et)&&(nt=(Gt=Gt.replace(" ",":")).length),0<et&&(Lt=a(1,Gt,Je,pe,Ze,ct,fn.length,Ht,wt,Ht))!==void 0&&(nt=(Gt=Lt.trim()).length)===0&&(Gt="\0\0"),Et=Gt.charCodeAt(0),ve=Gt.charCodeAt(1),Et){case 0:break;case 64:if(ve===105||ve===99){yn+=Gt+lt.charAt(Ke);break}default:Gt.charCodeAt(nt-1)!==58&&(fn+=i(Gt,Et,ve,Gt.charCodeAt(2)))}Re=re=tt=Et=0,Gt="",ve=lt.charCodeAt(++Ke)}}switch(ve){case 13:case 10:kt===47?kt=0:1+Et===0&&Ht!==107&&0<Gt.length&&(re=1,Gt+="\0"),0<et*ke&&a(0,Gt,Je,pe,Ze,ct,fn.length,Ht,wt,Ht),ct=1,Ze++;break;case 59:case 125:if(kt+tn+Bt+mn===0){ct++;break}default:switch(ct++,Yt=lt.charAt(Ke),ve){case 9:case 32:if(tn+mn+kt===0)switch(Le){case 44:case 58:case 9:case 32:Yt="";break;default:ve!==32&&(Yt=" ")}break;case 0:Yt="\\0";break;case 12:Yt="\\f";break;case 11:Yt="\\v";break;case 38:tn+kt+mn===0&&(re=Re=1,Yt="\f"+Yt);break;case 108:if(tn+kt+mn+bt===0&&0<tt)switch(Ke-tt){case 2:Le===112&&lt.charCodeAt(Ke-3)===58&&(bt=Le);case 8:_e===111&&(bt=_e)}break;case 58:tn+kt+mn===0&&(tt=Ke);break;case 44:kt+Bt+tn+mn===0&&(re=1,Yt+="\r");break;case 34:case 39:kt===0&&(tn=tn===ve?0:tn===0?ve:tn);break;case 91:tn+kt+Bt===0&&mn++;break;case 93:tn+kt+Bt===0&&mn--;break;case 41:tn+kt+mn===0&&Bt--;break;case 40:if(tn+kt+mn===0){if(Et===0)switch(2*Le+3*_e){case 533:break;default:Et=1}Bt++}break;case 64:kt+Bt+tn+mn+tt+ce===0&&(ce=1);break;case 42:case 47:if(!(0<tn+mn+Bt))switch(kt){case 0:switch(2*ve+3*lt.charCodeAt(Ke+1)){case 235:kt=47;break;case 220:nt=Ke,kt=42}break;case 42:ve===47&&Le===42&&nt+2!==Ke&&(lt.charCodeAt(nt+2)===33&&(fn+=lt.substring(nt,Ke+1)),Yt="",kt=0)}}kt===0&&(Gt+=Yt)}_e=Le,Le=ve,Ke++}if(nt=fn.length,0<nt){if(re=Je,0<et&&(Lt=a(2,fn,re,pe,Ze,ct,nt,Ht,wt,Ht),Lt!==void 0&&(fn=Lt).length===0))return yn+fn+gn;if(fn=re.join(",")+"{"+fn+"}",Mt*bt!==0){switch(Mt!==2||s(fn,2)||(bt=0),bt){case 111:fn=fn.replace(W,":-moz-$1")+fn;break;case 112:fn=fn.replace(P,"::-webkit-input-$1")+fn.replace(P,"::-moz-$1")+fn.replace(P,":-ms-input-$1")+fn}bt=0}}return yn+fn+gn}function t(pe,Je,lt){var Ht=Je.trim().split($);Je=Ht;var wt=Ht.length,mn=pe.length;switch(mn){case 0:case 1:var kt=0;for(pe=mn===0?"":pe[0]+" ";kt<wt;++kt)Je[kt]=r(pe,Je[kt],lt).trim();break;default:var Bt=kt=0;for(Je=[];kt<wt;++kt)for(var tn=0;tn<mn;++tn)Je[Bt++]=r(pe[tn]+" ",Ht[kt],lt).trim()}return Je}function r(pe,Je,lt){var Ht=Je.charCodeAt(0);switch(33>Ht&&(Ht=(Je=Je.trim()).charCodeAt(0)),Ht){case 38:return Je.replace(L,"$1"+pe.trim());case 58:return pe.trim()+Je.replace(L,"$1"+pe.trim());default:if(0<1*lt&&0<Je.indexOf("\f"))return Je.replace(L,(pe.charCodeAt(0)===58?"":"$1")+pe.trim())}return pe+Je}function i(pe,Je,lt,Ht){var wt=pe+";",mn=2*Je+3*lt+4*Ht;if(mn===944){pe=wt.indexOf(":",9)+1;var kt=wt.substring(pe,wt.length-1).trim();return kt=wt.substring(0,pe).trim()+kt+";",Mt===1||Mt===2&&s(kt,1)?"-webkit-"+kt+kt:kt}if(Mt===0||Mt===2&&!s(wt,1))return wt;switch(mn){case 1015:return wt.charCodeAt(10)===97?"-webkit-"+wt+wt:wt;case 951:return wt.charCodeAt(3)===116?"-webkit-"+wt+wt:wt;case 963:return wt.charCodeAt(5)===110?"-webkit-"+wt+wt:wt;case 1009:if(wt.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+wt+wt;case 978:return"-webkit-"+wt+"-moz-"+wt+wt;case 1019:case 983:return"-webkit-"+wt+"-moz-"+wt+"-ms-"+wt+wt;case 883:if(wt.charCodeAt(8)===45)return"-webkit-"+wt+wt;if(0<wt.indexOf("image-set(",11))return wt.replace(at,"$1-webkit-$2")+wt;break;case 932:if(wt.charCodeAt(4)===45)switch(wt.charCodeAt(5)){case 103:return"-webkit-box-"+wt.replace("-grow","")+"-webkit-"+wt+"-ms-"+wt.replace("grow","positive")+wt;case 115:return"-webkit-"+wt+"-ms-"+wt.replace("shrink","negative")+wt;case 98:return"-webkit-"+wt+"-ms-"+wt.replace("basis","preferred-size")+wt}return"-webkit-"+wt+"-ms-"+wt+wt;case 964:return"-webkit-"+wt+"-ms-flex-"+wt+wt;case 1023:if(wt.charCodeAt(8)!==99)break;return kt=wt.substring(wt.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+kt+"-webkit-"+wt+"-ms-flex-pack"+kt+wt;case 1005:return O.test(wt)?wt.replace(R,":-webkit-")+wt.replace(R,":-moz-")+wt:wt;case 1e3:switch(kt=wt.substring(13).trim(),Je=kt.indexOf("-")+1,kt.charCodeAt(0)+kt.charCodeAt(Je)){case 226:kt=wt.replace(oe,"tb");break;case 232:kt=wt.replace(oe,"tb-rl");break;case 220:kt=wt.replace(oe,"lr");break;default:return wt}return"-webkit-"+wt+"-ms-"+kt+wt;case 1017:if(wt.indexOf("sticky",9)===-1)break;case 975:switch(Je=(wt=pe).length-10,kt=(wt.charCodeAt(Je)===33?wt.substring(0,Je):wt).substring(pe.indexOf(":",7)+1).trim(),mn=kt.charCodeAt(0)+(kt.charCodeAt(7)|0)){case 203:if(111>kt.charCodeAt(8))break;case 115:wt=wt.replace(kt,"-webkit-"+kt)+";"+wt;break;case 207:case 102:wt=wt.replace(kt,"-webkit-"+(102<mn?"inline-":"")+"box")+";"+wt.replace(kt,"-webkit-"+kt)+";"+wt.replace(kt,"-ms-"+kt+"box")+";"+wt}return wt+";";case 938:if(wt.charCodeAt(5)===45)switch(wt.charCodeAt(6)){case 105:return kt=wt.replace("-items",""),"-webkit-"+wt+"-webkit-box-"+kt+"-ms-flex-"+kt+wt;case 115:return"-webkit-"+wt+"-ms-flex-item-"+wt.replace(he,"")+wt;default:return"-webkit-"+wt+"-ms-flex-line-pack"+wt.replace("align-content","").replace(he,"")+wt}break;case 973:case 989:if(wt.charCodeAt(3)!==45||wt.charCodeAt(4)===122)break;case 931:case 953:if(He.test(pe)===!0)return(kt=pe.substring(pe.indexOf(":")+1)).charCodeAt(0)===115?i(pe.replace("stretch","fill-available"),Je,lt,Ht).replace(":fill-available",":stretch"):wt.replace(kt,"-webkit-"+kt)+wt.replace(kt,"-moz-"+kt.replace("fill-",""))+wt;break;case 962:if(wt="-webkit-"+wt+(wt.charCodeAt(5)===102?"-ms-"+wt:"")+wt,lt+Ht===211&&wt.charCodeAt(13)===105&&0<wt.indexOf("transform",10))return wt.substring(0,wt.indexOf(";",27)+1).replace(j,"$1-webkit-$2")+wt}return wt}function s(pe,Je){var lt=pe.indexOf(Je===1?":":"{"),Ht=pe.substring(0,Je!==3?lt:10);return lt=pe.substring(lt+1,pe.length-1),Ee(Je!==2?Ht:Ht.replace(ye,"$1"),lt,Je)}function o(pe,Je){var lt=i(Je,Je.charCodeAt(0),Je.charCodeAt(1),Je.charCodeAt(2));return lt!==Je+";"?lt.replace(J," or ($1)").substring(4):"("+Je+")"}function a(pe,Je,lt,Ht,wt,mn,kt,Bt,tn,Et){for(var ve=0,Le=Je,_e;ve<et;++ve)switch(_e=te[ve].call(p,pe,Le,lt,Ht,wt,mn,kt,Bt,tn,Et)){case void 0:case!1:case!0:case null:break;default:Le=_e}if(Le!==Je)return Le}function l(pe){switch(pe){case void 0:case null:et=te.length=0;break;default:if(typeof pe=="function")te[et++]=pe;else if(typeof pe=="object")for(var Je=0,lt=pe.length;Je<lt;++Je)l(pe[Je]);else ke=!!pe|0}return l}function f(pe){return pe=pe.prefix,pe!==void 0&&(Ee=null,pe?typeof pe!="function"?Mt=1:(Mt=2,Ee=pe):Mt=0),f}function p(pe,Je){var lt=pe;if(33>lt.charCodeAt(0)&&(lt=lt.trim()),Ce=lt,lt=[Ce],0<et){var Ht=a(-1,Je,lt,lt,Ze,ct,0,0,0,0);Ht!==void 0&&typeof Ht=="string"&&(Je=Ht)}var wt=e(qe,lt,Je,0,0);return 0<et&&(Ht=a(-2,wt,lt,lt,Ze,ct,wt.length,0,0,0),Ht!==void 0&&(wt=Ht)),Ce="",bt=0,ct=Ze=1,wt}var _=/^\0+/g,b=/[\0\r\f]/g,R=/: */g,O=/zoo|gra/,j=/([,: ])(transform)/g,$=/,\r+?/g,L=/([\t\r\n ])*\f?&/g,q=/@(k\w+)\s*(\S*)\s*/,P=/::(place)/g,W=/:(read-only)/g,oe=/[svh]\w+-[tblr]{2}/,I=/\(\s*(.*)\s*\)/g,J=/([\s\S]*?);/g,he=/-self|flex-/g,ye=/[^]*?(:[rp][el]a[\w-]+)[^]*/,He=/stretch|:\s*\w+\-(?:conte|avail)/,at=/([^-])(image-set\()/,ct=1,Ze=1,bt=0,Mt=1,qe=[],te=[],et=0,Ee=null,ke=0,Ce="";return p.use=l,p.set=f,n!==void 0&&f(n),p}var Y1e=J$e;m();var X$e={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},K1e=X$e;var aX=fr(nme()),mme=fr(hme());function b2(){return(b2=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}var xme=function(n,e){for(var t=[n[0]],r=0,i=e.length;r<i;r+=1)t.push(e[r],n[r+1]);return t},uX=function(n){return n!==null&&typeof n=="object"&&(n.toString?n.toString():Object.prototype.toString.call(n))==="[object Object]"&&!(0,CM.typeOf)(n)},wM=Object.freeze([]),r5=Object.freeze({});function QT(n){return typeof n=="function"}function gme(n){return n.displayName||n.name||"Component"}function lX(n){return n&&typeof n.styledComponentId=="string"}var i5=typeof process!="undefined"&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled";var cX=typeof window!="undefined"&&"HTMLElement"in window,gze=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process!="undefined"&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==""?process.env.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&process.env.REACT_APP_SC_DISABLE_SPEEDY:typeof process!="undefined"&&process.env.SC_DISABLE_SPEEDY!==void 0&&process.env.SC_DISABLE_SPEEDY!==""?process.env.SC_DISABLE_SPEEDY!=="false"&&process.env.SC_DISABLE_SPEEDY:!1);function Fg(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+n+" for more information."+(t.length>0?" Args: "+t.join(", "):""))}var yze=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=n.prototype;return e.indexOfGroup=function(t){for(var r=0,i=0;i<t;i++)r+=this.groupSizes[i];return r},e.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,o=s;t>=o;)(o<<=1)<0&&Fg(16,""+t);this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(t+1),f=0,p=r.length;f<p;f++)this.tag.insertRule(l,r[f])&&(this.groupSizes[t]++,l++)},e.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],i=this.indexOfGroup(t),s=i+r;this.groupSizes[t]=0;for(var o=i;o<s;o++)this.tag.deleteRule(i)}},e.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var i=this.groupSizes[t],s=this.indexOfGroup(t),o=s+i,a=s;a<o;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},n}(),AM=new Map,TM=new Map,GT=1,FM=function(n){if(AM.has(n))return AM.get(n);for(;TM.has(GT);)GT++;var e=GT++;return AM.set(n,e),TM.set(e,n),e},vze=function(n){return TM.get(n)},_ze=function(n,e){e>=GT&&(GT=e+1),AM.set(n,e),TM.set(e,n)},Eze="style["+i5+'][data-styled-version="5.3.6"]',bze=new RegExp("^"+i5+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Sze=function(n,e,t){for(var r,i=t.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&n.registerName(e,r)},Cze=function(n,e){for(var t=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,s=t.length;i<s;i++){var o=t[i].trim();if(o){var a=o.match(bze);if(a){var l=0|parseInt(a[1],10),f=a[2];l!==0&&(_ze(f,l),Sze(n,f,a[3]),n.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},fX=function(){return typeof __webpack_nonce__!="undefined"?__webpack_nonce__:null},yme=function(n){var e=document.head,t=n||e,r=document.createElement("style"),i=function(a){for(var l=a.childNodes,f=l.length;f>=0;f--){var p=l[f];if(p&&p.nodeType===1&&p.hasAttribute(i5))return p}}(t),s=i!==void 0?i.nextSibling:null;r.setAttribute(i5,"active"),r.setAttribute("data-styled-version","5.3.6");var o=fX();return o&&r.setAttribute("nonce",o),t.insertBefore(r,s),r},wze=function(){function n(t){var r=this.element=yme(t);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var l=s[o];if(l.ownerNode===i)return l}Fg(17)}(r),this.length=0}var e=n.prototype;return e.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var r=this.sheet.cssRules[t];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},n}(),Aze=function(){function n(t){var r=this.element=yme(t);this.nodes=r.childNodes,this.length=0}var e=n.prototype;return e.insertRule=function(t,r){if(t<=this.length&&t>=0){var i=document.createTextNode(r),s=this.nodes[t];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),Tze=function(){function n(t){this.rules=[],this.length=0}var e=n.prototype;return e.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),vme=cX,Fze={isServer:!cX,useCSSOMInjection:!gze},YT=function(){function n(t,r,i){t===void 0&&(t=r5),r===void 0&&(r={}),this.options=b2({},Fze,{},t),this.gs=r,this.names=new Map(i),this.server=!!t.isServer,!this.server&&cX&&vme&&(vme=!1,function(s){for(var o=document.querySelectorAll(Eze),a=0,l=o.length;a<l;a++){var f=o[a];f&&f.getAttribute(i5)!=="active"&&(Cze(s,f),f.parentNode&&f.parentNode.removeChild(f))}}(this))}n.registerId=function(t){return FM(t)};var e=n.prototype;return e.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new n(b2({},this.options,{},t),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,s=r.useCSSOMInjection,o=r.target,t=i?new Tze(o):s?new wze(o):new Aze(o),new yze(t)));var t,r,i,s,o},e.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.registerName=function(t,r){if(FM(t),this.names.has(t))this.names.get(t).add(r);else{var i=new Set;i.add(r),this.names.set(t,i)}},e.insertRules=function(t,r,i){this.registerName(t,r),this.getTag().insertRules(FM(t),i)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(FM(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var r=t.getTag(),i=r.length,s="",o=0;o<i;o++){var a=vze(o);if(a!==void 0){var l=t.names.get(a),f=r.getGroup(o);if(l&&f&&l.size){var p=i5+".g"+o+'[id="'+a+'"]',_="";l!==void 0&&l.forEach(function(b){b.length>0&&(_+=b+",")}),s+=""+f+p+'{content:"'+_+`"}/*!sc*/
`}}}return s}(this)},n}(),Dze=/(a)(d)/gi,_me=function(n){return String.fromCharCode(n+(n>25?39:97))};function dX(n){var e,t="";for(e=Math.abs(n);e>52;e=e/52|0)t=_me(e%52)+t;return(_me(e%52)+t).replace(Dze,"$1-$2")}var G8=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},Eme=function(n){return G8(5381,n)};function bme(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(QT(t)&&!lX(t))return!1}return!0}var Rze=Eme("5.3.6"),Oze=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&bme(e),this.componentId=t,this.baseHash=G8(Rze,t),this.baseStyle=r,YT.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var o=$_(this.rules,e,t,r).join(""),a=dX(G8(this.baseHash,o)>>>0);if(!t.hasNameForId(i,a)){var l=r(o,"."+a,void 0,i);t.insertRules(i,a,l)}s.push(a),this.staticRulesId=a}else{for(var f=this.rules.length,p=G8(this.baseHash,r.hash),_="",b=0;b<f;b++){var R=this.rules[b];if(typeof R=="string")_+=R;else if(R){var O=$_(R,e,t,r),j=Array.isArray(O)?O.join(""):O;p=G8(p,j+b),_+=j}}if(_){var $=dX(p>>>0);if(!t.hasNameForId(i,$)){var L=r(_,"."+$,void 0,i);t.insertRules(i,$,L)}s.push($)}}return s.join(" ")},n}(),Nze=/^\s*\/\/.*$/gm,Lze=[":","[",".","#"];function Sme(n){var e,t,r,i,s=n===void 0?r5:n,o=s.options,a=o===void 0?r5:o,l=s.plugins,f=l===void 0?wM:l,p=new Y1e(a),_=[],b=function(j){function $(L){if(L)try{j(L+"}")}catch{}}return function(L,q,P,W,oe,I,J,he,ye,He){switch(L){case 1:if(ye===0&&q.charCodeAt(0)===64)return j(q+";"),"";break;case 2:if(he===0)return q+"/*|*/";break;case 3:switch(he){case 102:case 112:return j(P[0]+q),"";default:return q+(He===0?"/*|*/":"")}case-2:q.split("/*|*/}").forEach($)}}}(function(j){_.push(j)}),R=function(j,$,L){return $===0&&Lze.indexOf(L[t.length])!==-1||L.match(i)?j:"."+e};function O(j,$,L,q){q===void 0&&(q="&");var P=j.replace(Nze,""),W=$&&L?L+" "+$+" { "+P+" }":P;return e=q,t=$,r=new RegExp("\\"+t+"\\b","g"),i=new RegExp("(\\"+t+"\\b){2,}"),p(L||!$?"":$,W)}return p.use([].concat(f,[function(j,$,L){j===2&&L.length&&L[0].lastIndexOf(t)>0&&(L[0]=L[0].replace(r,R))},b,function(j){if(j===-2){var $=_;return _=[],$}}])),O.hash=f.length?f.reduce(function(j,$){return $.name||Fg(15),G8(j,$.name)},5381).toString():"",O}var hX=Uu.default.createContext(),SCt=hX.Consumer,pX=Uu.default.createContext(),kze=(pX.Consumer,new YT),mX=Sme();function Cme(){return(0,Uu.useContext)(hX)||kze}function Ize(){return(0,Uu.useContext)(pX)||mX}function Mze(n){var e=(0,Uu.useState)(n.stylisPlugins),t=e[0],r=e[1],i=Cme(),s=(0,Uu.useMemo)(function(){var a=i;return n.sheet?a=n.sheet:n.target&&(a=a.reconstructWithOptions({target:n.target},!1)),n.disableCSSOMInjection&&(a=a.reconstructWithOptions({useCSSOMInjection:!1})),a},[n.disableCSSOMInjection,n.sheet,n.target]),o=(0,Uu.useMemo)(function(){return Sme({options:{prefix:!n.disableVendorPrefixes},plugins:t})},[n.disableVendorPrefixes,t]);return(0,Uu.useEffect)(function(){(0,pme.default)(t,n.stylisPlugins)||r(n.stylisPlugins)},[n.stylisPlugins]),Uu.default.createElement(hX.Provider,{value:s},Uu.default.createElement(pX.Provider,{value:o},n.children))}var wme=function(){function n(e,t){var r=this;this.inject=function(i,s){s===void 0&&(s=mX);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.toString=function(){return Fg(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return n.prototype.getName=function(e){return e===void 0&&(e=mX),this.name+e.hash},n}(),Pze=/([A-Z])/,Bze=/([A-Z])/g,jze=/^ms-/,qze=function(n){return"-"+n.toLowerCase()};function Ame(n){return Pze.test(n)?n.replace(Bze,qze).replace(jze,"-ms-"):n}var Tme=function(n){return n==null||n===!1||n===""};function $_(n,e,t,r){if(Array.isArray(n)){for(var i,s=[],o=0,a=n.length;o<a;o+=1)(i=$_(n[o],e,t,r))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if(Tme(n))return"";if(lX(n))return"."+n.styledComponentId;if(QT(n)){if(typeof(f=n)!="function"||f.prototype&&f.prototype.isReactComponent||!e)return n;var l=n(e);return $_(l,e,t,r)}var f;return n instanceof wme?t?(n.inject(t,r),n.getName(r)):n:uX(n)?function p(_,b){var R,O,j=[];for(var $ in _)_.hasOwnProperty($)&&!Tme(_[$])&&(Array.isArray(_[$])&&_[$].isCss||QT(_[$])?j.push(Ame($)+":",_[$],";"):uX(_[$])?j.push.apply(j,p(_[$],$)):j.push(Ame($)+": "+(R=$,(O=_[$])==null||typeof O=="boolean"||O===""?"":typeof O!="number"||O===0||R in K1e?String(O).trim():O+"px")+";"));return b?[b+" {"].concat(j,["}"]):j}(n):n.toString()}var Fme=function(n){return Array.isArray(n)&&(n.isCss=!0),n};function Dme(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return QT(n)||uX(n)?Fme($_(xme(wM,[n].concat(t)))):t.length===0&&n.length===1&&typeof n[0]=="string"?n:Fme($_(xme(n,t)))}var Uze=function(n,e,t){return t===void 0&&(t=r5),n.theme!==t.theme&&n.theme||e||t.theme},$ze=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,zze=/(^-|-$)/g;function xX(n){return n.replace($ze,"-").replace(zze,"")}var Rme=function(n){return dX(Eme(n)>>>0)};function DM(n){return typeof n=="string"&&!0}var gX=function(n){return typeof n=="function"||typeof n=="object"&&n!==null&&!Array.isArray(n)},Hze=function(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"};function Vze(n,e,t){var r=n[t];gX(e)&&gX(r)?Ome(r,e):n[t]=e}function Ome(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(var i=0,s=t;i<s.length;i++){var o=s[i];if(gX(o))for(var a in o)Hze(a)&&Vze(n,o[a],a)}return n}var Nme=Uu.default.createContext(),CCt=Nme.Consumer;var yX={};function Lme(n,e,t){var r=lX(n),i=!DM(n),s=e.attrs,o=s===void 0?wM:s,a=e.componentId,l=a===void 0?function(q,P){var W=typeof q!="string"?"sc":xX(q);yX[W]=(yX[W]||0)+1;var oe=W+"-"+Rme("5.3.6"+W+yX[W]);return P?P+"-"+oe:oe}(e.displayName,e.parentComponentId):a,f=e.displayName,p=f===void 0?function(q){return DM(q)?"styled."+q:"Styled("+gme(q)+")"}(n):f,_=e.displayName&&e.componentId?xX(e.displayName)+"-"+e.componentId:e.componentId||l,b=r&&n.attrs?Array.prototype.concat(n.attrs,o).filter(Boolean):o,R=e.shouldForwardProp;r&&n.shouldForwardProp&&(R=e.shouldForwardProp?function(q,P,W){return n.shouldForwardProp(q,P,W)&&e.shouldForwardProp(q,P,W)}:n.shouldForwardProp);var O,j=new Oze(t,_,r?n.componentStyle:void 0),$=j.isStatic&&o.length===0,L=function(q,P){return function(W,oe,I,J){var he=W.attrs,ye=W.componentStyle,He=W.defaultProps,at=W.foldedComponentIds,ct=W.shouldForwardProp,Ze=W.styledComponentId,bt=W.target,Mt=function(Ht,wt,mn){Ht===void 0&&(Ht=r5);var kt=b2({},wt,{theme:Ht}),Bt={};return mn.forEach(function(tn){var Et,ve,Le,_e=tn;for(Et in QT(_e)&&(_e=_e(kt)),_e)kt[Et]=Bt[Et]=Et==="className"?(ve=Bt[Et],Le=_e[Et],ve&&Le?ve+" "+Le:ve||Le):_e[Et]}),[kt,Bt]}(Uze(oe,(0,Uu.useContext)(Nme),He)||r5,oe,he),qe=Mt[0],te=Mt[1],et=function(Ht,wt,mn,kt){var Bt=Cme(),tn=Ize(),Et=wt?Ht.generateAndInjectStyles(r5,Bt,tn):Ht.generateAndInjectStyles(mn,Bt,tn);return Et}(ye,J,qe,void 0),Ee=I,ke=te.$as||oe.$as||te.as||oe.as||bt,Ce=DM(ke),pe=te!==oe?b2({},oe,{},te):oe,Je={};for(var lt in pe)lt[0]!=="$"&&lt!=="as"&&(lt==="forwardedAs"?Je.as=pe[lt]:(ct?ct(lt,aX.default,ke):!Ce||(0,aX.default)(lt))&&(Je[lt]=pe[lt]));return oe.style&&te.style!==oe.style&&(Je.style=b2({},oe.style,{},te.style)),Je.className=Array.prototype.concat(at,Ze,et!==Ze?et:null,oe.className,te.className).filter(Boolean).join(" "),Je.ref=Ee,(0,Uu.createElement)(ke,Je)}(O,q,P,$)};return L.displayName=p,(O=Uu.default.forwardRef(L)).attrs=b,O.componentStyle=j,O.displayName=p,O.shouldForwardProp=R,O.foldedComponentIds=r?Array.prototype.concat(n.foldedComponentIds,n.styledComponentId):wM,O.styledComponentId=_,O.target=r?n.target:n,O.withComponent=function(q){var P=e.componentId,W=function(I,J){if(I==null)return{};var he,ye,He={},at=Object.keys(I);for(ye=0;ye<at.length;ye++)he=at[ye],J.indexOf(he)>=0||(He[he]=I[he]);return He}(e,["componentId"]),oe=P&&P+"-"+(DM(q)?q:xX(gme(q)));return Lme(q,b2({},W,{attrs:b,componentId:oe}),t)},Object.defineProperty(O,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(q){this._foldedDefaultProps=r?Ome({},n.defaultProps,q):q}}),O.toString=function(){return"."+O.styledComponentId},i&&(0,mme.default)(O,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),O}var vX=function(n){return function e(t,r,i){if(i===void 0&&(i=r5),!(0,CM.isValidElementType)(r))return Fg(1,String(r));var s=function(){return t(r,i,Dme.apply(void 0,arguments))};return s.withConfig=function(o){return e(t,r,b2({},i,{},o))},s.attrs=function(o){return e(t,r,b2({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s}(Lme,n)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(n){vX[n]=vX(n)});var wCt=function(){function n(t,r){this.rules=t,this.componentId=r,this.isStatic=bme(t),YT.registerId(this.componentId+1)}var e=n.prototype;return e.createStyles=function(t,r,i,s){var o=s($_(this.rules,r,i,s).join(""),""),a=this.componentId+t;i.insertRules(a,a,o)},e.removeStyles=function(t,r){r.clearRules(this.componentId+t)},e.renderStyles=function(t,r,i,s){t>2&&YT.registerId(this.componentId+t),this.removeStyles(t,i),this.createStyles(t,r,i,s)},n}();function kme(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=Dme.apply(void 0,[n].concat(t)).join(""),s=Rme(i);return new wme(s,i)}var ACt=function(){function n(){var t=this;this._emitSheetCSS=function(){var r=t.instance.toString();if(!r)return"";var i=fX();return"<style "+[i&&'nonce="'+i+'"',i5+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+r+"</style>"},this.getStyleTags=function(){return t.sealed?Fg(2):t._emitSheetCSS()},this.getStyleElement=function(){var r;if(t.sealed)return Fg(2);var i=((r={})[i5]="",r["data-styled-version"]="5.3.6",r.dangerouslySetInnerHTML={__html:t.instance.toString()},r),s=fX();return s&&(i.nonce=s),[Uu.default.createElement("style",b2({},i,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new YT({isServer:!0}),this.sealed=!1}var e=n.prototype;return e.collectStyles=function(t){return this.sealed?Fg(2):Uu.default.createElement(Mze,{sheet:this.instance},t)},e.interleaveWithNodeStream=function(t){return Fg(3)},n}();var In=vX;m();m();m();var s5=fr(Ime()),RM=fr(Mme());var CX=[{id:"abap",scopeName:"source.abap",path:"abap.tmLanguage.json",samplePath:"abap.sample"},{id:"actionscript-3",scopeName:"source.actionscript.3",path:"actionscript-3.tmLanguage.json",samplePath:"actionscript-3.sample"},{id:"ada",scopeName:"source.ada",path:"ada.tmLanguage.json",samplePath:"ada.sample"},{id:"apache",scopeName:"source.apacheconf",path:"apache.tmLanguage.json"},{id:"apex",scopeName:"source.apex",path:"apex.tmLanguage.json",samplePath:"apex.sample"},{id:"apl",scopeName:"source.apl",path:"apl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","json"]},{id:"applescript",scopeName:"source.applescript",path:"applescript.tmLanguage.json",samplePath:"applescript.sample"},{id:"asm",scopeName:"source.asm.x86_64",path:"asm.tmLanguage.json",samplePath:"asm.sample"},{id:"astro",scopeName:"text.html.astro",path:"astro.tmLanguage.json",samplePath:"astro.sample",embeddedLangs:["css","javascript","less","sass","scss","stylus","typescript","tsx"]},{id:"awk",scopeName:"source.awk",path:"awk.tmLanguage.json",samplePath:"awk.sample"},{id:"ballerina",scopeName:"source.ballerina",path:"ballerina.tmLanguage.json",samplePath:"ballerina.sample"},{id:"bat",scopeName:"source.batchfile",path:"bat.tmLanguage.json",samplePath:"bat.sample",aliases:["batch"]},{id:"berry",scopeName:"source.berry",path:"berry.tmLanguage.json",samplePath:"berry.sample",aliases:["be"]},{id:"bibtex",scopeName:"text.bibtex",path:"bibtex.tmLanguage.json"},{id:"bicep",scopeName:"source.bicep",path:"bicep.tmLanguage.json",samplePath:"bicep.sample"},{id:"c",scopeName:"source.c",path:"c.tmLanguage.json",samplePath:"c.sample"},{id:"clojure",scopeName:"source.clojure",path:"clojure.tmLanguage.json",samplePath:"clojure.sample",aliases:["clj"]},{id:"cobol",scopeName:"source.cobol",path:"cobol.tmLanguage.json",samplePath:"cobol.sample",embeddedLangs:["sql","html","java"]},{id:"codeql",scopeName:"source.ql",path:"codeql.tmLanguage.json",samplePath:"codeql.sample",aliases:["ql"]},{id:"coffee",scopeName:"source.coffee",path:"coffee.tmLanguage.json",samplePath:"coffee.sample",embeddedLangs:["javascript"]},{id:"cpp",scopeName:"source.cpp",path:"cpp.tmLanguage.json",samplePath:"cpp.sample",embeddedLangs:["sql"]},{id:"crystal",scopeName:"source.crystal",path:"crystal.tmLanguage.json",samplePath:"crystal.sample",embeddedLangs:["html","sql","css","c","javascript","shellscript"]},{id:"csharp",scopeName:"source.cs",path:"csharp.tmLanguage.json",samplePath:"csharp.sample",aliases:["c#"]},{id:"css",scopeName:"source.css",path:"css.tmLanguage.json",samplePath:"css.sample"},{id:"cue",scopeName:"source.cue",path:"cue.tmLanguage.json",samplePath:"cue.sample"},{id:"d",scopeName:"source.d",path:"d.tmLanguage.json",samplePath:"d.sample"},{id:"dart",scopeName:"source.dart",path:"dart.tmLanguage.json",samplePath:"dart.sample"},{id:"diff",scopeName:"source.diff",path:"diff.tmLanguage.json",samplePath:"diff.sample"},{id:"docker",scopeName:"source.dockerfile",path:"docker.tmLanguage.json",samplePath:"docker.sample"},{id:"dream-maker",scopeName:"source.dm",path:"dream-maker.tmLanguage.json"},{id:"elixir",scopeName:"source.elixir",path:"elixir.tmLanguage.json",samplePath:"elixir.sample",embeddedLangs:["html"]},{id:"elm",scopeName:"source.elm",path:"elm.tmLanguage.json",samplePath:"elm.sample"},{id:"erb",scopeName:"text.html.erb",path:"erb.tmLanguage.json",samplePath:"erb.sample",embeddedLangs:["html","ruby"]},{id:"erlang",scopeName:"source.erlang",path:"erlang.tmLanguage.json",samplePath:"erlang.sample"},{id:"fish",scopeName:"source.fish",path:"fish.tmLanguage.json",samplePath:"fish.sample"},{id:"fsharp",scopeName:"source.fsharp",path:"fsharp.tmLanguage.json",samplePath:"fsharp.sample",aliases:["f#"],embeddedLangs:["markdown"]},{id:"gherkin",scopeName:"text.gherkin.feature",path:"gherkin.tmLanguage.json"},{id:"git-commit",scopeName:"text.git-commit",path:"git-commit.tmLanguage.json",embeddedLangs:["diff"]},{id:"git-rebase",scopeName:"text.git-rebase",path:"git-rebase.tmLanguage.json",embeddedLangs:["shellscript"]},{id:"gnuplot",scopeName:"source.gnuplot",path:"gnuplot.tmLanguage.json"},{id:"go",scopeName:"source.go",path:"go.tmLanguage.json",samplePath:"go.sample"},{id:"graphql",scopeName:"source.graphql",path:"graphql.tmLanguage.json",embeddedLangs:["javascript","typescript","jsx","tsx"]},{id:"groovy",scopeName:"source.groovy",path:"groovy.tmLanguage.json"},{id:"hack",scopeName:"source.hack",path:"hack.tmLanguage.json",embeddedLangs:["html","sql"]},{id:"haml",scopeName:"text.haml",path:"haml.tmLanguage.json",embeddedLangs:["ruby","javascript","sass","coffee","markdown","css"]},{id:"handlebars",scopeName:"text.html.handlebars",path:"handlebars.tmLanguage.json",aliases:["hbs"],embeddedLangs:["html","css","javascript","yaml"]},{id:"haskell",scopeName:"source.haskell",path:"haskell.tmLanguage.json"},{id:"hcl",scopeName:"source.hcl",path:"hcl.tmLanguage.json"},{id:"hlsl",scopeName:"source.hlsl",path:"hlsl.tmLanguage.json"},{id:"html",scopeName:"text.html.basic",path:"html.tmLanguage.json",samplePath:"html.sample",embeddedLangs:["javascript","css"]},{id:"ini",scopeName:"source.ini",path:"ini.tmLanguage.json"},{id:"java",scopeName:"source.java",path:"java.tmLanguage.json",samplePath:"java.sample"},{id:"javascript",scopeName:"source.js",path:"javascript.tmLanguage.json",samplePath:"javascript.sample",aliases:["js"]},{id:"jinja-html",scopeName:"text.html.jinja",path:"jinja-html.tmLanguage.json",embeddedLangs:["html"]},{id:"json",scopeName:"source.json",path:"json.tmLanguage.json"},{id:"jsonc",scopeName:"source.json.comments",path:"jsonc.tmLanguage.json"},{id:"jsonnet",scopeName:"source.jsonnet",path:"jsonnet.tmLanguage.json"},{id:"jssm",scopeName:"source.jssm",path:"jssm.tmLanguage.json",samplePath:"jssm.sample",aliases:["fsl"]},{id:"jsx",scopeName:"source.js.jsx",path:"jsx.tmLanguage.json"},{id:"julia",scopeName:"source.julia",path:"julia.tmLanguage.json",embeddedLangs:["cpp","python","javascript","r","sql"]},{id:"jupyter",scopeName:"source.jupyter",path:"jupyter.tmLanguage.json",embeddedLangs:["json"]},{id:"kotlin",scopeName:"source.kotlin",path:"kotlin.tmLanguage.json"},{id:"latex",scopeName:"text.tex.latex",path:"latex.tmLanguage.json",embeddedLangs:["tex","css","html","java","javascript","typescript","lua","python","julia","ruby","xml","yaml","cpp","haskell","scala","gnuplot"]},{id:"less",scopeName:"source.css.less",path:"less.tmLanguage.json",embeddedLangs:["css"]},{id:"lisp",scopeName:"source.lisp",path:"lisp.tmLanguage.json"},{id:"logo",scopeName:"source.logo",path:"logo.tmLanguage.json"},{id:"lua",scopeName:"source.lua",path:"lua.tmLanguage.json",embeddedLangs:["c"]},{id:"make",scopeName:"source.makefile",path:"make.tmLanguage.json",aliases:["makefile"]},{id:"markdown",scopeName:"text.html.markdown",path:"markdown.tmLanguage.json",aliases:["md"],embeddedLangs:["css","html","ini","java","lua","make","perl","r","ruby","php","sql","vb","xml","xsl","yaml","bat","clojure","coffee","c","cpp","diff","docker","git-commit","git-rebase","go","groovy","pug","javascript","json","jsonc","less","objective-c","swift","scss","raku","powershell","python","rust","scala","shellscript","typescript","tsx","csharp","fsharp","dart","handlebars","erlang","elixir","latex","bibtex"]},{id:"marko",scopeName:"text.marko",path:"marko.tmLanguage.json",samplePath:"marko.sample",embeddedLangs:["css","less","scss","javascript"]},{id:"matlab",scopeName:"source.matlab",path:"matlab.tmLanguage.json"},{id:"mdx",scopeName:"text.html.markdown.jsx",path:"mdx.tmLanguage.json",embeddedLangs:["jsx","markdown"]},{id:"nginx",scopeName:"source.nginx",path:"nginx.tmLanguage.json",embeddedLangs:["lua"]},{id:"nim",scopeName:"source.nim",path:"nim.tmLanguage.json",embeddedLangs:["c","html","xml","javascript","css","markdown"]},{id:"nix",scopeName:"source.nix",path:"nix.tmLanguage.json"},{id:"objective-c",scopeName:"source.objc",path:"objective-c.tmLanguage.json",aliases:["objc"]},{id:"objective-cpp",scopeName:"source.objcpp",path:"objective-cpp.tmLanguage.json"},{id:"ocaml",scopeName:"source.ocaml",path:"ocaml.tmLanguage.json"},{id:"pascal",scopeName:"source.pascal",path:"pascal.tmLanguage.json"},{id:"perl",scopeName:"source.perl",path:"perl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","sql"]},{id:"php",scopeName:"source.php",path:"php.tmLanguage.json",embeddedLangs:["html","xml","sql","javascript","json","css"]},{id:"plsql",scopeName:"source.plsql.oracle",path:"plsql.tmLanguage.json"},{id:"postcss",scopeName:"source.css.postcss",path:"postcss.tmLanguage.json"},{id:"powershell",scopeName:"source.powershell",path:"powershell.tmLanguage.json",aliases:["ps","ps1"]},{id:"prisma",scopeName:"source.prisma",path:"prisma.tmLanguage.json",samplePath:"prisma.sample"},{id:"prolog",scopeName:"source.prolog",path:"prolog.tmLanguage.json"},{id:"pug",scopeName:"text.pug",path:"pug.tmLanguage.json",aliases:["jade"],embeddedLangs:["javascript","css","sass","stylus","coffee","html"]},{id:"puppet",scopeName:"source.puppet",path:"puppet.tmLanguage.json"},{id:"purescript",scopeName:"source.purescript",path:"purescript.tmLanguage.json"},{id:"python",scopeName:"source.python",path:"python.tmLanguage.json",samplePath:"python.sample",aliases:["py"]},{id:"r",scopeName:"source.r",path:"r.tmLanguage.json"},{id:"raku",scopeName:"source.perl.6",path:"raku.tmLanguage.json",aliases:["perl6"]},{id:"razor",scopeName:"text.aspnetcorerazor",path:"razor.tmLanguage.json",embeddedLangs:["html","csharp"]},{id:"rel",scopeName:"source.rel",path:"rel.tmLanguage.json",samplePath:"rel.sample"},{id:"riscv",scopeName:"source.riscv",path:"riscv.tmLanguage.json"},{id:"ruby",scopeName:"source.ruby",path:"ruby.tmLanguage.json",samplePath:"ruby.sample",aliases:["rb"],embeddedLangs:["html","xml","sql","css","c","javascript","shellscript","lua"]},{id:"rust",scopeName:"source.rust",path:"rust.tmLanguage.json",aliases:["rs"]},{id:"sas",scopeName:"source.sas",path:"sas.tmLanguage.json",embeddedLangs:["sql"]},{id:"sass",scopeName:"source.sass",path:"sass.tmLanguage.json"},{id:"scala",scopeName:"source.scala",path:"scala.tmLanguage.json"},{id:"scheme",scopeName:"source.scheme",path:"scheme.tmLanguage.json"},{id:"scss",scopeName:"source.css.scss",path:"scss.tmLanguage.json",embeddedLangs:["css"]},{id:"shaderlab",scopeName:"source.shaderlab",path:"shaderlab.tmLanguage.json",aliases:["shader"],embeddedLangs:["hlsl"]},{id:"shellscript",scopeName:"source.shell",path:"shellscript.tmLanguage.json",aliases:["shell","bash","sh","zsh"],embeddedLangs:["ruby","python","applescript","html","markdown"]},{id:"smalltalk",scopeName:"source.smalltalk",path:"smalltalk.tmLanguage.json"},{id:"solidity",scopeName:"source.solidity",path:"solidity.tmLanguage.json"},{id:"sparql",scopeName:"source.sparql",path:"sparql.tmLanguage.json",samplePath:"sparql.sample",embeddedLangs:["turtle"]},{id:"sql",scopeName:"source.sql",path:"sql.tmLanguage.json"},{id:"ssh-config",scopeName:"source.ssh-config",path:"ssh-config.tmLanguage.json"},{id:"stata",scopeName:"source.stata",path:"stata.tmLanguage.json",samplePath:"stata.sample",embeddedLangs:["sql"]},{id:"stylus",scopeName:"source.stylus",path:"stylus.tmLanguage.json",aliases:["styl"]},{id:"svelte",scopeName:"source.svelte",path:"svelte.tmLanguage.json",embeddedLangs:["javascript","typescript","coffee","stylus","sass","css","scss","less","postcss","pug","markdown"]},{id:"swift",scopeName:"source.swift",path:"swift.tmLanguage.json"},{id:"system-verilog",scopeName:"source.systemverilog",path:"system-verilog.tmLanguage.json"},{id:"tasl",scopeName:"source.tasl",path:"tasl.tmLanguage.json",samplePath:"tasl.sample"},{id:"tcl",scopeName:"source.tcl",path:"tcl.tmLanguage.json"},{id:"tex",scopeName:"text.tex",path:"tex.tmLanguage.json",embeddedLangs:["r"]},{id:"toml",scopeName:"source.toml",path:"toml.tmLanguage.json"},{id:"tsx",scopeName:"source.tsx",path:"tsx.tmLanguage.json",samplePath:"tsx.sample"},{id:"turtle",scopeName:"source.turtle",path:"turtle.tmLanguage.json",samplePath:"turtle.sample"},{id:"twig",scopeName:"text.html.twig",path:"twig.tmLanguage.json",embeddedLangs:["css","javascript","php","python","ruby"]},{id:"typescript",scopeName:"source.ts",path:"typescript.tmLanguage.json",aliases:["ts"]},{id:"vb",scopeName:"source.asp.vb.net",path:"vb.tmLanguage.json",aliases:["cmd"]},{id:"verilog",scopeName:"source.verilog",path:"verilog.tmLanguage.json"},{id:"vhdl",scopeName:"source.vhdl",path:"vhdl.tmLanguage.json"},{id:"viml",scopeName:"source.viml",path:"viml.tmLanguage.json",aliases:["vim","vimscript"]},{id:"vue-html",scopeName:"text.html.vue-html",path:"vue-html.tmLanguage.json",embeddedLangs:["vue","javascript"]},{id:"vue",scopeName:"source.vue",path:"vue.tmLanguage.json",embeddedLangs:["json","markdown","pug","haml","vue-html","sass","scss","less","stylus","postcss","css","typescript","coffee","javascript"]},{id:"wasm",scopeName:"source.wat",path:"wasm.tmLanguage.json"},{id:"wenyan",scopeName:"source.wenyan",path:"wenyan.tmLanguage.json",aliases:["\u6587\u8A00"]},{id:"xml",scopeName:"text.xml",path:"xml.tmLanguage.json",embeddedLangs:["java"]},{id:"xsl",scopeName:"text.xml.xsl",path:"xsl.tmLanguage.json",embeddedLangs:["xml"]},{id:"yaml",scopeName:"source.yaml",path:"yaml.tmLanguage.json"},{id:"zenscript",scopeName:"source.zenscript",path:"zenscript.tmLanguage.json",samplePath:"zenscript.sample"}],Y8;(function(n){n[n.NotSet=-1]="NotSet",n[n.None=0]="None",n[n.Italic=1]="Italic",n[n.Bold=2]="Bold",n[n.Underline=4]="Underline"})(Y8||(Y8={}));var ah=class{static toBinaryStr(e){let t=e.toString(2);for(;t.length<32;)t="0"+t;return t}static printMetadata(e){let t=ah.getLanguageId(e),r=ah.getTokenType(e),i=ah.getFontStyle(e),s=ah.getForeground(e),o=ah.getBackground(e);console.log({languageId:t,tokenType:r,fontStyle:i,foreground:s,background:o})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&1792)>>>8}static getFontStyle(e){return(e&14336)>>>11}static getForeground(e){return(e&8372224)>>>14}static getBackground(e){return(e&4286578688)>>>23}static set(e,t,r,i,s,o){let a=ah.getLanguageId(e),l=ah.getTokenType(e),f=ah.getFontStyle(e),p=ah.getForeground(e),_=ah.getBackground(e);return t!==0&&(a=t),r!==0&&(l=r===8?0:r),i!==Y8.NotSet&&(f=i),s!==0&&(p=s),o!==0&&(_=o),(a<<0|l<<8|f<<11|p<<14|_<<23)>>>0}};function Wze(n){return n.endsWith("/")||n.endsWith("\\")?n.slice(0,-1):n}function Qze(n){return n.startsWith("./")?n.slice(2):n}function Gze(n){let e=n.split(/[\/\\]/g);return e[e.length-2]}function Yze(...n){return n.map(Wze).map(Qze).join("/")}function Kze(n,e){let t=new Map;for(let r of n){let i=e(r);t.has(i)?t.get(i).push(r):t.set(i,[r])}return t}function Jze(n,e){e===void 0&&(e=!1);var t=n.length,r=0,i="",s=0,o=16,a=0,l=0,f=0,p=0,_=0;function b(P,W){for(var oe=0,I=0;oe<P||!W;){var J=n.charCodeAt(r);if(J>=48&&J<=57)I=I*16+J-48;else if(J>=65&&J<=70)I=I*16+J-65+10;else if(J>=97&&J<=102)I=I*16+J-97+10;else break;r++,oe++}return oe<P&&(I=-1),I}function R(P){r=P,i="",s=0,o=16,_=0}function O(){var P=r;if(n.charCodeAt(r)===48)r++;else for(r++;r<n.length&&K8(n.charCodeAt(r));)r++;if(r<n.length&&n.charCodeAt(r)===46)if(r++,r<n.length&&K8(n.charCodeAt(r)))for(r++;r<n.length&&K8(n.charCodeAt(r));)r++;else return _=3,n.substring(P,r);var W=r;if(r<n.length&&(n.charCodeAt(r)===69||n.charCodeAt(r)===101))if(r++,(r<n.length&&n.charCodeAt(r)===43||n.charCodeAt(r)===45)&&r++,r<n.length&&K8(n.charCodeAt(r))){for(r++;r<n.length&&K8(n.charCodeAt(r));)r++;W=r}else _=3;return n.substring(P,W)}function j(){for(var P="",W=r;;){if(r>=t){P+=n.substring(W,r),_=2;break}var oe=n.charCodeAt(r);if(oe===34){P+=n.substring(W,r),r++;break}if(oe===92){if(P+=n.substring(W,r),r++,r>=t){_=2;break}var I=n.charCodeAt(r++);switch(I){case 34:P+='"';break;case 92:P+="\\";break;case 47:P+="/";break;case 98:P+="\b";break;case 102:P+="\f";break;case 110:P+=`
`;break;case 114:P+="\r";break;case 116:P+="	";break;case 117:var J=b(4,!0);J>=0?P+=String.fromCharCode(J):_=4;break;default:_=5}W=r;continue}if(oe>=0&&oe<=31)if(XT(oe)){P+=n.substring(W,r),_=2;break}else _=6;r++}return P}function $(){if(i="",_=0,s=r,l=a,p=f,r>=t)return s=t,o=17;var P=n.charCodeAt(r);if(wX(P)){do r++,i+=String.fromCharCode(P),P=n.charCodeAt(r);while(wX(P));return o=15}if(XT(P))return r++,i+=String.fromCharCode(P),P===13&&n.charCodeAt(r)===10&&(r++,i+=`
`),a++,f=r,o=14;switch(P){case 123:return r++,o=1;case 125:return r++,o=2;case 91:return r++,o=3;case 93:return r++,o=4;case 58:return r++,o=6;case 44:return r++,o=5;case 34:return r++,i=j(),o=10;case 47:var W=r-1;if(n.charCodeAt(r+1)===47){for(r+=2;r<t&&!XT(n.charCodeAt(r));)r++;return i=n.substring(W,r),o=12}if(n.charCodeAt(r+1)===42){r+=2;for(var oe=t-1,I=!1;r<oe;){var J=n.charCodeAt(r);if(J===42&&n.charCodeAt(r+1)===47){r+=2,I=!0;break}r++,XT(J)&&(J===13&&n.charCodeAt(r)===10&&r++,a++,f=r)}return I||(r++,_=1),i=n.substring(W,r),o=13}return i+=String.fromCharCode(P),r++,o=16;case 45:if(i+=String.fromCharCode(P),r++,r===t||!K8(n.charCodeAt(r)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=O(),o=11;default:for(;r<t&&L(P);)r++,P=n.charCodeAt(r);if(s!==r){switch(i=n.substring(s,r),i){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return i+=String.fromCharCode(P),r++,o=16}}function L(P){if(wX(P)||XT(P))return!1;switch(P){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function q(){var P;do P=$();while(P>=12&&P<=15);return P}return{setPosition:R,getPosition:function(){return r},scan:e?q:$,getToken:function(){return o},getTokenValue:function(){return i},getTokenOffset:function(){return s},getTokenLength:function(){return r-s},getTokenStartLine:function(){return l},getTokenStartCharacter:function(){return s-p},getTokenError:function(){return _}}}function wX(n){return n===32||n===9||n===11||n===12||n===160||n===5760||n>=8192&&n<=8203||n===8239||n===8287||n===12288||n===65279}function XT(n){return n===10||n===13||n===8232||n===8233}function K8(n){return n>=48&&n<=57}var OM;(function(n){n.DEFAULT={allowTrailingComma:!1}})(OM||(OM={}));function Xze(n,e,t){e===void 0&&(e=[]),t===void 0&&(t=OM.DEFAULT);var r=null,i=[],s=[];function o(l){Array.isArray(i)?i.push(l):r!==null&&(i[r]=l)}var a={onObjectBegin:function(){var l={};o(l),s.push(i),i=l,r=null},onObjectProperty:function(l){r=l},onObjectEnd:function(){i=s.pop()},onArrayBegin:function(){var l=[];o(l),s.push(i),i=l,r=null},onArrayEnd:function(){i=s.pop()},onLiteralValue:o,onError:function(l,f,p){e.push({error:l,offset:f,length:p})}};return Zze(n,a,t),i[0]}function Zze(n,e,t){t===void 0&&(t=OM.DEFAULT);var r=Jze(n,!1);function i(ye){return ye?function(){return ye(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:function(){return!0}}function s(ye){return ye?function(He){return ye(He,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:function(){return!0}}var o=i(e.onObjectBegin),a=s(e.onObjectProperty),l=i(e.onObjectEnd),f=i(e.onArrayBegin),p=i(e.onArrayEnd),_=s(e.onLiteralValue),b=s(e.onSeparator),R=i(e.onComment),O=s(e.onError),j=t&&t.disallowComments,$=t&&t.allowTrailingComma;function L(){for(;;){var ye=r.scan();switch(r.getTokenError()){case 4:q(14);break;case 5:q(15);break;case 3:q(13);break;case 1:j||q(11);break;case 2:q(12);break;case 6:q(16);break}switch(ye){case 12:case 13:j?q(10):R();break;case 16:q(1);break;case 15:case 14:break;default:return ye}}}function q(ye,He,at){if(He===void 0&&(He=[]),at===void 0&&(at=[]),O(ye),He.length+at.length>0)for(var ct=r.getToken();ct!==17;){if(He.indexOf(ct)!==-1){L();break}else if(at.indexOf(ct)!==-1)break;ct=L()}}function P(ye){var He=r.getTokenValue();return ye?_(He):a(He),L(),!0}function W(){switch(r.getToken()){case 11:var ye=r.getTokenValue(),He=Number(ye);isNaN(He)&&(q(2),He=0),_(He);break;case 7:_(null);break;case 8:_(!0);break;case 9:_(!1);break;default:return!1}return L(),!0}function oe(){return r.getToken()!==10?(q(3,[],[2,5]),!1):(P(!1),r.getToken()===6?(b(":"),L(),he()||q(4,[],[2,5])):q(5,[],[2,5]),!0)}function I(){o(),L();for(var ye=!1;r.getToken()!==2&&r.getToken()!==17;){if(r.getToken()===5){if(ye||q(4,[],[]),b(","),L(),r.getToken()===2&&$)break}else ye&&q(6,[],[]);oe()||q(4,[],[2,5]),ye=!0}return l(),r.getToken()!==2?q(7,[2],[]):L(),!0}function J(){f(),L();for(var ye=!1;r.getToken()!==4&&r.getToken()!==17;){if(r.getToken()===5){if(ye||q(4,[],[]),b(","),L(),r.getToken()===4&&$)break}else ye&&q(6,[],[]);he()||q(4,[],[4,5]),ye=!0}return p(),r.getToken()!==4?q(8,[4],[]):L(),!0}function he(){switch(r.getToken()){case 3:return J();case 1:return I();case 10:return P(!0);default:return W()}}return L(),r.getToken()===17?t.allowEmptyContent?!0:(q(4,[],[]),!1):he()?(r.getToken()!==17&&q(9,[],[]),!0):(q(4,[],[]),!1)}var eHe=Xze,tHe=typeof self!="undefined"&&typeof self.WorkerGlobalScope!="undefined",AX=tHe||typeof window!="undefined"&&typeof window.document!="undefined"&&typeof fetch!="undefined",TX="",Pme="";function Bme(n){TX=n}var FX=null;async function nHe(){if(!FX){let n;if(AX)typeof Pme=="string"?n=(0,s5.loadWASM)({data:await fetch(jme("dist/onig.wasm")).then(e=>e.arrayBuffer())}):n=(0,s5.loadWASM)(Pme);else{let t=bX().join(Fk.resolve("vscode-oniguruma"),"../onig.wasm"),i=SX().readFileSync(t).buffer;n=(0,s5.loadWASM)(i)}FX=n.then(()=>({createOnigScanner(e){return(0,s5.createOnigScanner)(e)},createOnigString(e){return(0,s5.createOnigString)(e)}}))}return FX}function jme(n){if(AX)return TX||console.warn("[Shiki] no CDN provider found, use `setCDN()` to specify the CDN for loading the resources before calling `getHighlighter()`"),`${TX}${n}`;{let e=bX();return e.isAbsolute(n)?n:e.resolve(__dirname,"..",n)}}async function rHe(n){let e=jme(n);return AX?await fetch(e).then(t=>t.text()):await SX().promises.readFile(e,"utf-8")}async function qme(n){let e=[],t=eHe(await rHe(n),e,{allowTrailingComma:!0});if(e.length)throw e[0];return t}async function Ume(n){let e=await qme(n),t=$me(e);if(t.include){let r=await Ume(Yze(Gze(n),t.include));r.settings&&(t.settings=r.settings.concat(t.settings)),r.bg&&!t.bg&&(t.bg=r.bg),r.colors&&(t.colors=Object.assign(Object.assign({},r.colors),t.colors)),delete t.include}return t}async function iHe(n){return await qme(n)}function sHe(n){n.settings||(n.settings=[]),!(n.settings[0]&&n.settings[0].settings&&!n.settings[0].scope)&&n.settings.unshift({settings:{foreground:n.fg,background:n.bg}})}function $me(n){let e=n.type||"dark",t=Object.assign(Object.assign({name:n.name,type:e},n),oHe(n));return n.include&&(t.include=n.include),n.tokenColors&&(t.settings=n.tokenColors,delete t.tokenColors),sHe(t),t}var zme={light:"#333333",dark:"#bbbbbb"},Hme={light:"#fffffe",dark:"#1e1e1e"};function oHe(n){var e,t,r,i,s,o;let a,l,f=n.settings?n.settings:n.tokenColors,p=f?f.find(_=>!_.name&&!_.scope):void 0;return((e=p==null?void 0:p.settings)===null||e===void 0?void 0:e.foreground)&&(a=p.settings.foreground),((t=p==null?void 0:p.settings)===null||t===void 0?void 0:t.background)&&(l=p.settings.background),!a&&((i=(r=n)===null||r===void 0?void 0:r.colors)===null||i===void 0?void 0:i["editor.foreground"])&&(a=n.colors["editor.foreground"]),!l&&((o=(s=n)===null||s===void 0?void 0:s.colors)===null||o===void 0?void 0:o["editor.background"])&&(l=n.colors["editor.background"]),a||(a=n.type==="light"?zme.light:zme.dark),l||(l=n.type==="light"?Hme.light:Hme.dark),{fg:a,bg:l}}var Vme=class{constructor(e,t){this.languagesPath="languages/",this.languageMap={},this.scopeToLangMap={},this._onigLibPromise=e,this._onigLibName=t}get onigLib(){return this._onigLibPromise}getOnigLibName(){return this._onigLibName}getLangRegistration(e){return this.languageMap[e]}async loadGrammar(e){let t=this.scopeToLangMap[e];if(!t)return null;if(t.grammar)return t.grammar;let r=await iHe(CX.includes(t)?`${this.languagesPath}${t.path}`:t.path);return t.grammar=r,r}addLanguage(e){this.languageMap[e.id]=e,e.aliases&&e.aliases.forEach(t=>{this.languageMap[t]=e}),this.scopeToLangMap[e.scopeName]=e}};function aHe(n,e,t,r,i){let s=t.split(/\r\n|\r|\n/),o=RM.INITIAL,a=[],l=[];for(let f=0,p=s.length;f<p;f++){let _=s[f];if(_===""){a=[],l.push([]);continue}let b,R,O;i.includeExplanation&&(b=r.tokenizeLine(_,o),R=b.tokens,O=0);let j=r.tokenizeLine2(_,o),$=j.tokens.length/2;for(let L=0;L<$;L++){let q=j.tokens[2*L],P=L+1<$?j.tokens[2*L+2]:_.length;if(q===P)continue;let W=j.tokens[2*L+1],oe=ah.getForeground(W),I=e[oe],J=ah.getFontStyle(W),he=[];if(i.includeExplanation){let ye=0;for(;q+ye<P;){let He=R[O],at=_.substring(He.startIndex,He.endIndex);ye+=at.length,he.push({content:at,scopes:uHe(n,He.scopes)}),O++}}a.push({content:_.substring(q,P),color:I,fontStyle:J,explanation:he})}l.push(a),a=[],o=j.ruleStack}return l}function uHe(n,e){let t=[];for(let r=0,i=e.length;r<i;r++){let s=e.slice(0,r),o=e[r];t[r]={scopeName:o,themeMatches:cHe(n,o,s)}}return t}function Wme(n,e){let t=n+".";return n===e||e.substring(0,t.length)===t}function lHe(n,e,t,r){if(!Wme(n,t))return!1;let i=e.length-1,s=r.length-1;for(;i>=0&&s>=0;)Wme(e[i],r[s])&&i--,s--;return i===-1}function cHe(n,e,t){let r=[],i=0;for(let s=0,o=n.settings.length;s<o;s++){let a=n.settings[s],l;if(typeof a.scope=="string")l=a.scope.split(/,/).map(f=>f.trim());else if(Array.isArray(a.scope))l=a.scope;else continue;for(let f=0,p=l.length;f<p;f++){let b=l[f].split(/ /),R=b[b.length-1],O=b.slice(0,b.length-1);lHe(R,O,e,t)&&(r[i++]=a,f=p)}}return r}function fHe(n,e={}){var t;let r=e.bg||"#fff",i=Kze((t=e.lineOptions)!==null&&t!==void 0?t:[],o=>o.line),s="";return s+=`<pre class="shiki" style="background-color: ${r}">`,e.langId&&(s+=`<div class="language-id">${e.langId}</div>`),s+="<code>",n.forEach((o,a)=>{var l;let f=a+1,p=(l=i.get(f))!==null&&l!==void 0?l:[];s+=`<span class="${pHe(p).join(" ")}">`,o.forEach(b=>{let R=[`color: ${b.color||e.fg}`];b.fontStyle&Y8.Italic&&R.push("font-style: italic"),b.fontStyle&Y8.Bold&&R.push("font-weight: bold"),b.fontStyle&Y8.Underline&&R.push("text-decoration: underline"),s+=`<span style="${R.join("; ")}">${hHe(b.content)}</span>`}),s+=`</span>
`}),s=s.replace(/\n*$/,""),s+="</code></pre>",s}var dHe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function hHe(n){return n.replace(/[&<>"']/g,e=>dHe[e])}function pHe(n){var e;let t=new Set(["line"]);for(let r of n)for(let i of(e=r.classes)!==null&&e!==void 0?e:[])t.add(i);return Array.from(t)}var Qme=class extends RM.Registry{constructor(e){super(e);this._resolver=e,this.themesPath="themes/",this._resolvedThemes={},this._resolvedGrammars={}}getTheme(e){return typeof e=="string"?this._resolvedThemes[e]:e}async loadTheme(e){return typeof e=="string"?(this._resolvedThemes[e]||(this._resolvedThemes[e]=await Ume(`${this.themesPath}${e}.json`)),this._resolvedThemes[e]):(e=$me(e),e.name&&(this._resolvedThemes[e.name]=e),e)}async loadThemes(e){return await Promise.all(e.map(t=>this.loadTheme(t)))}getLoadedThemes(){return Object.keys(this._resolvedThemes)}getGrammar(e){return this._resolvedGrammars[e]}async loadLanguage(e){let t=await this.loadGrammar(e.scopeName);this._resolvedGrammars[e.id]=t,e.aliases&&e.aliases.forEach(r=>{this._resolvedGrammars[r]=t})}async loadLanguages(e){for(let t of e)this._resolver.addLanguage(t);for(let t of e)await this.loadLanguage(t)}getLoadedLanguages(){return Object.keys(this._resolvedGrammars)}};function Gme(n){return typeof n=="string"?CX.find(e=>{var t;return e.id===n||((t=e.aliases)===null||t===void 0?void 0:t.includes(n))}):n}function mHe(n){var e;let t=CX,r=n.themes||[];return((e=n.langs)===null||e===void 0?void 0:e.length)&&(t=n.langs.map(Gme)),n.theme&&r.unshift(n.theme),r.length||(r=["nord"]),{_languages:t,_themes:r}}async function Yme(n){var e,t;let{_languages:r,_themes:i}=mHe(n),s=new Vme(nHe(),"vscode-oniguruma"),o=new Qme(s);((e=n.paths)===null||e===void 0?void 0:e.themes)&&(o.themesPath=n.paths.themes),((t=n.paths)===null||t===void 0?void 0:t.languages)&&(s.languagesPath=n.paths.languages);let l=(await o.loadThemes(i))[0],f;await o.loadLanguages(r);let p={"#000001":"var(--shiki-color-text)","#000002":"var(--shiki-color-background)","#000004":"var(--shiki-token-constant)","#000005":"var(--shiki-token-string)","#000006":"var(--shiki-token-comment)","#000007":"var(--shiki-token-keyword)","#000008":"var(--shiki-token-parameter)","#000009":"var(--shiki-token-function)","#000010":"var(--shiki-token-string-expression)","#000011":"var(--shiki-token-punctuation)","#000012":"var(--shiki-token-link)"};function _(I,J){I.bg=p[I.bg]||I.bg,I.fg=p[I.fg]||I.fg,J.forEach((he,ye)=>{J[ye]=p[he]||he})}function b(I){let J=I?o.getTheme(I):l;if(!J)throw Error(`No theme registration for ${I}`);(!f||f.name!==J.name)&&(o.setTheme(J),f=J);let he=o.getColorMap();return J.name==="css-variables"&&_(J,he),{_theme:J,_colorMap:he}}function R(I){let J=o.getGrammar(I);if(!J)throw Error(`No language registration for ${I}`);return{_grammar:J}}function O(I,J="text",he,ye={includeExplanation:!0}){if(xHe(J))return[...I.split(/\r\n|\r|\n/).map(bt=>[{content:bt}])];let{_grammar:He}=R(J),{_theme:at,_colorMap:ct}=b(he);return aHe(at,ct,I,He,ye)}function j(I,J="text",he){let ye;typeof J=="object"?ye=J:ye={lang:J,theme:he};let He=O(I,ye.lang,ye.theme,{includeExplanation:!1}),{_theme:at}=b(ye.theme);return fHe(He,{fg:at.fg,bg:at.bg,lineOptions:ye==null?void 0:ye.lineOptions})}async function $(I){await o.loadTheme(I)}async function L(I){let J=Gme(I);s.addLanguage(J),await o.loadLanguage(J)}function q(){return o.getLoadedThemes()}function P(){return o.getLoadedLanguages()}function W(I){let{_theme:J}=b(I);return J.bg}function oe(I){let{_theme:J}=b(I);return J.fg}return{codeToThemedTokens:O,codeToHtml:j,getTheme:I=>b(I)._theme,loadTheme:$,loadLanguage:L,getBackgroundColor:W,getForegroundColor:oe,getLoadedThemes:q,getLoadedLanguages:P}}function xHe(n){return!n||["plaintext","txt","text"].includes(n)}m();var Kme={scopeName:"source.malloy",patterns:[{include:"#sql-statement"},{include:"#comments"},{include:"#strings"},{include:"#numbers"},{include:"#keywords"},{include:"#properties"},{include:"#functions"},{include:"#dates"},{include:"#identifiers-quoted"},{include:"#types"},{include:"#constants"},{include:"#timeframes"},{include:"#identifiers-unquoted"}],repository:{"sql-statement":{begin:"\\|\\|",end:";;",beginCaptures:{"0":{name:"punctuation.sql-block.open"}},endCaptures:{"0":{name:"punctuation.sql-block.close"}},name:"source.sql",patterns:[{include:"source.sql"}]},functions:{patterns:[{match:"(?i)\\b(count)(\\s*\\()(distinct)",captures:{"1":{name:"entity.name.function"},"3":{name:"entity.name.function.modifier"}}},{match:"(?i)\\b(AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE|TABLE|FROM|FROM_SQL|UNGROUPED)(\\s*\\()",captures:{"1":{name:"entity.name.function"}}},{match:"(?i)\\b([a-zA-Z]*)(\\s*\\()",captures:{"1":{name:"entity.name.function"}}}]},dates:{patterns:[{match:"(?i)@[0-9A-Z-]*(\\s[0-9A-Z-][0-9A-Z-](:[0-9A-Z-][0-9A-Z-])?(:[0-9A-Z-][0-9A-Z-])?)?",name:"constant.numeric.date"}]},"identifiers-quoted":{patterns:[{match:"(?i)`[A-z_][A-z_0-9]*`",name:"variable.other.quoted"}]},"identifiers-unquoted":{patterns:[{match:"(?i)\\b[A-z_][A-z_0-9]*\\b",name:"variable.other"}]},timeframes:{patterns:[{match:"(?i)\\b((year|quarter|month|week|day|hour|minute|second)s?)\\b",name:"keyword.other.timeframe"},{match:"(?i)\\b(day_of_year|day_of_month)\\b",name:"keyword.other.timeframe"}]},comments:{patterns:[{begin:"/\\*",end:"\\*/",beginCaptures:{"0":{name:"punctuation.definition.comment.begin"}},endCaptures:{"0":{name:"punctuation.definition.comment.end"}},name:"comment.block"},{begin:"//",end:"\\n",beginCaptures:{"0":{name:"punctuation.definition.comment"}},name:"comment.line.double-slash"},{begin:"--",end:"\\n",beginCaptures:{"0":{name:"punctuation.definition.comment"}},name:"comment.line.double-hyphen"}]},strings:{patterns:[{begin:"'",end:"'",beginCaptures:{"0":{name:"punctuation.definition.string.begin"}},endCaptures:{"0":{name:"punctuation.definition.string.end"}},name:"string.unquoted.single",patterns:[{include:"#escapes"}]},{begin:'"',end:'"',beginCaptures:{"0":{name:"punctuation.definition.string.begin"}},endCaptures:{"0":{name:"punctuation.definition.string.end"}},name:"string.unquoted.double",patterns:[{include:"#escapes"}]},{begin:"(?i)[r|/]'",end:"'",name:"string.regexp",patterns:[{include:"#escapes"}]}],repository:{escapes:{name:"constant.character.escape",match:"\\\\(x\\h{2}|[0-2][0-7]{0,2}|3[0-6][0-7]|37[0-7]?|[4-7][0-7]?|.)",captures:{"0":{name:"constant.character.escape"}}}}},numbers:{match:"\\b((0|[1-9][0-9]*)(\\.[0-9]*)?| \\.[0-9]+)\\b",name:"constant.numeric"},constants:{patterns:[{match:"(?i)\\bnull\\b",name:"constant.language.null"},{match:"(?i)\\btrue\\b",name:"constant.language.true"},{match:"(?i)\\bfalse\\b",name:"constant.language.false"}]},types:{patterns:[{match:"(?i)\\bstring\\b",name:"entity.name.type.string"},{match:"(?i)\\bnumber\\b",name:"entity.name.type.number"},{match:"(?i)\\bdate\\b",name:"entity.name.type.date"},{match:"(?i)\\btimestamp\\b",name:"entity.name.type.timestamp"},{match:"(?i)\\bboolean\\b",name:"entity.name.type.boolean"}]},properties:{patterns:[{match:"(?i)\\baccept\\b",name:"keyword.control.accept"},{match:"(?i)\\bsql\\b",name:"keyword.control.sql"},{match:"(?i)\\baggregate\\b",name:"keyword.control.aggregate"},{match:"(?i)\\bdimension\\b",name:"keyword.control.dimension"},{match:"(?i)\\bexcept\\b",name:"keyword.control.except"},{match:"(?i)\\bexplore\\b",name:"keyword.control.explore"},{match:"(?i)\\bgroup_by\\b",name:"keyword.control.group_by"},{match:"(?i)\\bhaving\\b",name:"keyword.control.having"},{match:"(?i)\\bindex\\b",name:"keyword.control.index"},{match:"(?i)\\bjoin_one\\b",name:"keyword.control.join_one"},{match:"(?i)\\bwith\\b",name:"keyword.control.with"},{match:"(?i)\\bjoin_many\\b",name:"keyword.control.join_many"},{match:"(?i)\\bjoin_cross\\b",name:"keyword.control.join_cross"},{match:"(?i)\\blimit\\b",name:"keyword.control.limit"},{match:"(?i)\\bmeasure\\b",name:"keyword.control.measure"},{match:"(?i)\\bnest\\b",name:"keyword.control.nest"},{match:"(?i)\\border_by\\b",name:"keyword.control.order_by"},{match:"(?i)\\bprimary_key\\b",name:"keyword.control.primary_key"},{match:"(?i)\\bproject\\b",name:"keyword.control.project"},{match:"(?i)\\bquery\\b",name:"keyword.control.query"},{match:"(?i)\\brename\\b",name:"keyword.control.rename"},{match:"(?i)\\btop\\b",name:"keyword.control.top"},{match:"(?i)\\bwhere\\b",name:"keyword.control.where"},{match:"(?i)\\bdeclare\\b",name:"keyword.control.declare"}]},keywords:{patterns:[{match:"(?i)\\bis\\b",name:"keyword.control.is"},{match:"(?i)\\bon\\b",name:"keyword.control.on"},{match:"(?i)\\bnot\\b",name:"keyword.other.not"},{match:"(?i)\\bor\\b",name:"keyword.other.or"},{match:"(?i)\\bdesc\\b",name:"keyword.control.desc"},{match:"(?i)\\bby\\b",name:"keyword.control.by"},{match:"(?i)\\band\\b",name:"keyword.other.and"},{match:"(?i)\\basc\\b",name:"keyword.control.asc"},{match:"(?i)\\bfor\\b",name:"keyword.other.for"},{match:"(?i)\\belse\\b",name:"keyword.other.else"},{match:"(?i)\\bto\\b",name:"keyword.other.to"},{match:"(?i)\\bwhen\\b",name:"keyword.other.when"},{match:"(?i)\\bpick\\b",name:"keyword.other.pick"},{match:"(?i)\\bimport\\b",name:"keyword.control.import"}]}}};Bme("https://unpkg.com/shiki/");function pm(n){return n.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}function S2(){return!0}var NM;function yHe(){return NM!==void 0||(NM=Yme({theme:"light-plus",langs:["sql","json","md",{id:"malloy",scopeName:"source.malloy",embeddedLangs:["sql"],grammar:Kme}]})),NM}async function vHe(n,e){let t=await yHe();return t.getLoadedLanguages().includes(e)||(e="txt"),t.codeToHtml(n,{lang:e})}async function z_(n,e){let t=await vHe(n,e),r=document.createElement("div");return r.innerHTML=t,r}function Vh(n){return n.type==="struct"?"source":n.type==="turtle"?"query":n.type}function DX(n){return n.type==="struct"||n.type==="turtle"?"string":n.type}function Up(n){return n.type==="struct"?"source":n.type==="turtle"?"query":n.aggregate?"measure":"dimension"}function LM(n){return n!==void 0}function R0(n,e){let t=Up(n);if(n.type==="struct"||t==="source")throw new Error("Cannot make a summary item from a struct.");return{type:"field",field:n,path:e,saveDefinition:void 0,isRefined:!1,name:n.as||n.name,isRenamed:!1,fieldIndex:-1,kind:t}}function ZT(n){return n.type!=="struct"&&n.type!=="turtle"&&!!n.aggregate}function eF(n){return n.type!=="struct"&&n.type!=="turtle"&&!n.aggregate}function kM(n){return n.type==="turtle"}function Wf(n,e=[]){return n.fields.flatMap(t=>t.type==="struct"?Wf(t,[...e,t.as||t.name]):[{field:t,path:[...e,t.as||t.name].join(".")}])}function _He(n){let e=n.split(".");return e.map((t,r)=>e.slice(r).join("."))}function O0(n,e){return[..._He(e).reverse(),n.name,Up(n),Vh(n)]}function N0(n){let e=n.split(".");return e[e.length-2]}function IM(n){return n<1e3?n.toLocaleString():n<1e4?(n/1e3).toFixed(1)+"K":n<1e6?Math.floor(n/1e3).toLocaleString()+"K":n<1e7?(n/1e6).toFixed(1)+"M":Math.floor(n/1e3).toLocaleString()+"M"}function RX(n,e,t,r){let i=document.createElement("a"),s=new Blob([n],{type:e}),o=URL.createObjectURL(s);i.setAttribute("href",o),r?i.setAttribute("target","_blank"):i.setAttribute("download",t),i.click()}function Jme(n,e){return`<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>${e}</title>
    <meta
  </head>
  <body>${n}</body>
</html>
  `}var EHe=/Error\(s\) compiling model:\nFILE: internal:\/\/internal.malloy\nline 1: (.*)\n/;function Xme(n){let e=n.toString();if(n.message){e=n.message;let t=e.match(EHe);t&&(e=t[1])}return e}function OX(n,e=2){return n.split(`
`).map(t=>" ".repeat(e)+t).join(`
`)}function Zme(n){navigator.clipboard.writeText(n)}m();var J9e=fr(Y9e()),Rw=fr(up());m();var umt=Object.create,K9e=Object.defineProperty,lmt=Object.getOwnPropertyDescriptor,cmt=Object.getOwnPropertyNames,fmt=Object.getPrototypeOf,dmt=Object.prototype.hasOwnProperty,hmt=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),pmt=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of cmt(e))!dmt.call(n,i)&&i!==t&&K9e(n,i,{get:()=>e[i],enumerable:!(r=lmt(e,i))||r.enumerable});return n},mmt=(n,e,t)=>(t=n!=null?umt(fmt(n)):{},pmt(e||!n||!n.__esModule?K9e(t,"default",{value:n,enumerable:!0}):t,n)),xmt=hmt((n,e)=>{e.exports=Worker}),gmt=(n=>(n[n.NONE=0]="NONE",n[n.DEBUG=1]="DEBUG",n[n.INFO=2]="INFO",n[n.WARNING=3]="WARNING",n[n.ERROR=4]="ERROR",n))(gmt||{}),ymt=(n=>(n[n.NONE=0]="NONE",n[n.CONNECT=1]="CONNECT",n[n.DISCONNECT=2]="DISCONNECT",n[n.OPEN=3]="OPEN",n[n.QUERY=4]="QUERY",n[n.INSTANTIATE=5]="INSTANTIATE",n))(ymt||{}),vmt=(n=>(n[n.NONE=0]="NONE",n[n.OK=1]="OK",n[n.ERROR=2]="ERROR",n[n.START=3]="START",n[n.RUN=4]="RUN",n[n.CAPTURE=5]="CAPTURE",n))(vmt||{}),_mt=(n=>(n[n.NONE=0]="NONE",n[n.WEB_WORKER=1]="WEB_WORKER",n[n.NODE_WORKER=2]="NODE_WORKER",n[n.BINDINGS=3]="BINDINGS",n[n.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",n))(_mt||{});var Emt=(n=>(n[n.SUCCESS=0]="SUCCESS",n))(Emt||{});var COt=class{constructor(n,e,t){this.db=n,this.conn=e,this.header=t,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let n;return this._inFlight!=null?(n=await this._inFlight,this._inFlight=null):n=await this.db.fetchQueryResults(this.conn),this._depleted=n.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:n}}[Symbol.asyncIterator](){return this}};var bmt=(n=>(n.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",n.CLOSE_PREPARED="CLOSE_PREPARED",n.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",n.CONNECT="CONNECT",n.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",n.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",n.CREATE_PREPARED="CREATE_PREPARED",n.DISCONNECT="DISCONNECT",n.DROP_FILE="DROP_FILE",n.DROP_FILES="DROP_FILES",n.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",n.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",n.FLUSH_FILES="FLUSH_FILES",n.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",n.GET_TABLE_NAMES="GET_TABLE_NAMES",n.GET_VERSION="GET_VERSION",n.GLOB_FILE_INFOS="GLOB_FILE_INFOS",n.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",n.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",n.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",n.INSTANTIATE="INSTANTIATE",n.OPEN="OPEN",n.PING="PING",n.POLL_PENDING_QUERY="POLL_PENDING_QUERY",n.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",n.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",n.REGISTER_FILE_URL="REGISTER_FILE_URL",n.RESET="RESET",n.RUN_PREPARED="RUN_PREPARED",n.RUN_QUERY="RUN_QUERY",n.SEND_PREPARED="SEND_PREPARED",n.START_PENDING_QUERY="START_PENDING_QUERY",n.TOKENIZE="TOKENIZE",n))(bmt||{}),Smt=(n=>(n.CONNECTION_INFO="CONNECTION_INFO",n.ERROR="ERROR",n.FEATURE_FLAGS="FEATURE_FLAGS",n.FILE_BUFFER="FILE_BUFFER",n.FILE_INFOS="FILE_INFOS",n.FILE_SIZE="FILE_SIZE",n.FILE_STATISTICS="FILE_STATISTICS",n.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",n.LOG="LOG",n.OK="OK",n.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",n.QUERY_PLAN="QUERY_PLAN",n.QUERY_RESULT="QUERY_RESULT",n.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",n.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",n.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",n.REGISTERED_FILE="REGISTERED_FILE",n.SCRIPT_TOKENS="SCRIPT_TOKENS",n.SUCCESS="SUCCESS",n.TABLE_NAMES="TABLE_NAMES",n.VERSION_STRING="VERSION_STRING",n))(Smt||{});var wOt=new TextEncoder;var lue={name:"@duckdb/duckdb-wasm",version:"1.20.0",description:"DuckDB powered by WebAssembly",license:"MPL-2.0",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^9.0.0"},devDependencies:{"@types/emscripten":"^1.39.6","@types/jasmine":"^4.3.0","@typescript-eslint/eslint-plugin":"^5.40.1","@typescript-eslint/parser":"^5.40.0",esbuild:"^0.15.12",eslint:"^8.26.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.31.10","fast-glob":"^3.2.12",jasmine:"^4.4.0","jasmine-core":"^4.3.0","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.9.0",karma:"^6.4.1","karma-chrome-launcher":"^3.1.1","karma-coverage":"^2.2.0","karma-firefox-launcher":"^2.1.2","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.0.0","karma-sourcemap-loader":"^0.3.8","karma-spec-reporter":"^0.0.34","make-dir":"^3.1.0",nyc:"^15.1.0",prettier:"^2.7.1",puppeteer:"^19.2.0",rimraf:"^3.0.2",s3rver:"^3.7.1",typedoc:"^0.23.20",typescript:"^4.8.4","wasm-feature-detect":"^1.2.11","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-blocking":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.mjs":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.cjs":"./dist/duckdb-browser-blocking.cjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{browser:{types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},AOt=lue.name,TOt=lue.version,cue=lue.version.split("."),FOt=cue[0],DOt=cue[1],ROt=cue[2];var OOt=mmt(xmt());function Cmt(){let n=new TextDecoder;return e=>(typeof SharedArrayBuffer<"u"&&e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),n.decode(e))}var NOt=Cmt(),fue=(n=>(n[n.BUFFER=0]="BUFFER",n[n.NODE_FS=1]="NODE_FS",n[n.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",n[n.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",n[n.HTTP=4]="HTTP",n[n.S3=5]="S3",n))(fue||{});m();function wmt(n){try{return JSON.parse(n)}catch(e){throw new Error(`Error compiling data styles: ${e.message}`)}}async function Amt(n,e,t){let r="--! styles ",i={};for(let s of e.split(`
`))if(s.startsWith(r)){let o=s.trimEnd().substring(r.length),a;try{a=await t.readURL(new URL(o,n))}catch(l){console.error(`Error loading data style '${o}': ${l}`),a="{}"}i={...i,...wmt(a)}}return i}var due=class{constructor(e){this.dataStyles={};this.urlReader=e}async readURL(e){let t=await this.urlReader.readURL(e);return this.dataStyles={...this.dataStyles,...await Amt(e.toString(),t,this.urlReader)},t}getHackyAccumulatedDataStyles(){return this.dataStyles}};var X9e=class{constructor(){this.connection=new J9e.DuckDBWASMConnection("duckdb")}async lookupConnection(e){return await this.connection.connecting,this.connection}},Tmt=async n=>(await fetch(n)).text(),Z9e=class{constructor(){this.contents={}}setContents(e,t){this.contents[e]=t}async readURL(e){let t=e.toString();return t in this.contents?this.contents[t]:Tmt(e)}},kE=new Z9e,nH=new X9e,rH=new Rw.Runtime(kE,nH);async function eAe(){let n=window.location.href,e=new URL("composer.json",n),t=await kE.readURL(e),r=JSON.parse(t);if("apps"in r){let i=r.readme&&await kE.readURL(new URL(r.readme,n));return{...r,readme:i}}return{apps:[{id:"default",path:"composer.json"}]}}async function tAe(n){let e=window.location.href,t=new URL(n,e),r=await kE.readURL(t),i=JSON.parse(r),s=i.title,o=i.readme&&await kE.readURL(new URL(i.readme,t)),a=await Promise.all(i.models.map(async l=>{let f=await nH.lookupConnection("duckdb");await Promise.all(l.tables.map($=>{let L,q;return typeof $=="string"?(L=$,q=new URL(L,t).toString()):(L=$.name,q=$.url),f.database?.registerFileURL(L,q,fue.HTTP,!0)}));let p=new URL(l.path,t),_=new due(kE),R=await new Rw.Runtime(_,nH).getModel(p),O=_.getHackyAccumulatedDataStyles(),j=l.sources||Object.values(R._modelDef.contents).filter($=>$.type==="struct").map($=>({title:pm($.as||$.name),sourceName:$.as||$.name,description:`Source ${$.as} in ${l.id}`}));return{id:l.id,model:R._modelDef,path:l.path,readme:o,styles:O,sources:j}}));return{readme:o,linkedReadmes:i.linkedReadmes,title:s,models:a}}async function nAe(n,e,t){let r=await rH._loadModelFromModelDef(t).getModel(),i=await Rw.Malloy.compile({urlReader:kE,connections:nH,model:r,parse:Rw.Malloy.parse({source:n})}),s=rH._loadModelFromModelDef(i._modelDef).loadQueryByName(e),o=(await s.getPreparedResult()).resultExplore.limit;return s.run({rowLimit:o})}async function rAe(n,e,t,r){let i=e.as||e.name;return rH._loadModelFromModelDef(n).search(i,t,void 0,r)}async function iAe(n,e){let t=e.as||e.name;return rH._loadModelFromModelDef(n).searchValueMap(t)}function hue(n){let{data:e}=Tg(["datasets",n?n.id??"default":"empty"],async()=>n===void 0?void 0:S2()?tAe(n.path):(await(await fetch("api/datasets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({app:n})})).json()).datasets,{refetchOnWindowFocus:!1});return e}m();m();var MO=fr(Fr()),sAe=n=>MO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},MO.createElement("title",null,"chevron_left"),MO.createElement("g",{id:"chevron_left",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},MO.createElement("path",{d:"M52.9466923,41.3127809 C54.0529774,40.2742275 55.7502198,40.2309545 56.9057514,41.1829617 L57.0533077,41.3127809 L81.5533077,64.3127809 C82.7612755,65.4467914 82.8212296,67.34534 81.6872191,68.5533077 C80.5968243,69.7148152 78.7995712,69.8149195 77.5890551,68.8127704 L77.4466923,68.6872191 L54.9999906,47.615 L32.5533077,68.6872191 C31.3918003,69.7776139 29.5918121,69.7641211 28.4469384,68.6875913 L28.3127809,68.5533077 C27.2223861,67.3918003 27.2358789,65.5918121 28.3124087,64.4469384 L28.4466923,64.3127809 L52.9466923,41.3127809 Z",id:"Path",fill:"#979797",fillRule:"nonzero",transform:"translate(55.000000, 55.000005) rotate(-90.000000) translate(-55.000000, -55.000005) "})));m();var PO=fr(Fr()),iH=n=>PO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},PO.createElement("title",null,"chevron_right"),PO.createElement("g",{id:"chevron_right",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},PO.createElement("path",{d:"M52.9466923,41.3127809 C54.0529774,40.2742275 55.7502198,40.2309545 56.9057514,41.1829617 L57.0533077,41.3127809 L81.5533077,64.3127809 C82.7612755,65.4467914 82.8212296,67.34534 81.6872191,68.5533077 C80.5968243,69.7148152 78.7995712,69.8149195 77.5890551,68.8127704 L77.4466923,68.6872191 L54.9999906,47.615 L32.5533077,68.6872191 C31.3918003,69.7776139 29.5918121,69.7641211 28.4469384,68.6875913 L28.3127809,68.5533077 C27.2223861,67.3918003 27.2358789,65.5918121 28.3124087,64.4469384 L28.4466923,64.3127809 L52.9466923,41.3127809 Z",id:"Path",fill:"#979797",fillRule:"nonzero",transform:"translate(55.000000, 55.000005) rotate(-270.000000) translate(-55.000000, -55.000005) "})));m();var mi={dimension:{fillLight:"rgb(240,246,255)",fillMedium:"#c3d7f7",fillStrong:"#4285f4"},measure:{fillStrong:"#ea8600",fillMedium:"#f3cfa1",fillLight:"#fff3e8"},filter:{fillStrong:"#8166da",fillMedium:"#d4d6d8",fillLight:"#f8f6ff"},query:{fillStrong:"rgb(56,169,86)",fillMedium:"#bce0c5",fillLight:"#f3fbf5"},source:{fillStrong:"rgb(56,169,86)",fillMedium:"#bce0c5",fillLight:"#f3fbf5"},other:{fillStrong:"#9aa0a6",fillMedium:"#d4d6d8",fillLight:"#f7f8f8"},error:{fillStrong:"#9aa0a6",fillMedium:"#d4d6d8",fillLight:"#f7f8f8"},mainBackground:"rgb(247, 249, 252)"};var KOt=In.div`
  text-transform: uppercase;
  color: #939393;
  font-family: "Google Sans";
  display: flex;
  justify-content: space-between;
  align-items: center;
  min-height: 22px;
  padding: 7px 10px 6px 20px;
  border-bottom: 1px solid #efefef;
  font-size: 11pt;
  font-weight: 500;
`,sH=In.div`
  display: flex;
  font-weight: normal;
  font-family: "Roboto Mono";
  gap: 5px;
  margin-top: -3px;
  align-items: center;
  user-select: none;
`,lp=In.label`
  font-size: 12px;
  color: #505050;
  font-family: Roboto;
  font-family: Roboto;
  text-transform: none;
  color: #9aa0a6;
  font-weight: normal;
`,Ga=In.button`
  padding: 5.5px 10px;
  font-family: Google Sans;
  border-radius: 5px;
  cursor: pointer;
  min-width: 80px;

  ${({color:n="primary",outline:e=!1})=>`
    ${n==="primary"&&!e?`
        border: 1px solid #4285F4;
        background-color: #4285F4;
        color: white;

        &:active {
          background-color: #175cb7;
        }
      `:n==="primary"&&e?`
        border: 1px solid #d8dade;
        background-color: white;
        color: #4285F4;

        &:active {
          background-color: #efefef;
        }
      `:n==="secondary"&&!e?`
        border: 0;
        background-color: transparent;
        color: #343434;

        &:active {
          background-color: #adadad;
        }
      `:`
        border: 1px solid #343434;
        background-color: white;
        color: #343434;

        &:active {
          background-color: #343434;
          color: white;
        }
      `}
  `}
`,bh=In.div`
  display: flex;
  justify-content: flex-end;
  gap: 5px;
  margin-top: 15px;
`,oH=In.form`
  display: flex;
  justify-content: space-between;
  gap: 5px;
`,oAe=({onClick:n})=>v.createElement(sAe,{width:"22px",height:"22px",style:{cursor:"pointer"},onClick:n}),aAe=({onClick:n})=>v.createElement(iH,{width:"22px",height:"22px",style:{cursor:"pointer"},onClick:n}),Jc=In.div`
  color: #969696;
  text-align: center;
  margin-top: 30px;
  margin-bottom: 30px;
  font-family: Roboto;
  text-transform: none;
  font-size: 16px;
  font-weight: normal;
`,Fc=In.div`
  font-family: Google Sans;
  font-size: 14px;
  color: #505050;
  text-transform: none;
  margin-bottom: 15px;
  user-select: none;
  display: flex;
  gap: 10px;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
`,Dc=In.div`
  padding: 15px;
`,$l=In.div`
  padding: 10px;
`,O1=In.div`
  border-bottom: 1px solid #efefef;
  padding: 10px;
`,N1=In.div`
  display: flex;
  flex-direction: column;
`,Sh=In.div`
  display: flex;
  flex-direction: column;
  gap: 15px;
`,rc=In.div`
  overflow-y: auto;
  max-height: 400px;
`,pue=In.div`
  text-overflow: ellipsis;
  text-transform: none;
  color: #505050;
  overflow: hidden;
  white-space: nowrap;
`,aH=In(pue)`
  font-size: 12px;
`,Ow=In.div`
  flex-shrink: 0;
  align-items: center;
  justify-content: center;
  display: flex;

  ${({color:n})=>`
      svg .primaryfill {
        fill: ${mi[n].fillStrong};
      }
      svg .primarystroke {
        stroke: ${mi[n].fillStrong};
      }
    `}
`,zm=In.div`
  display: flex;
  flex-direction: column;
  gap: 10px;
`,Fmt=In.div`
  background: #ffdddd;
  display: flex;
  padding: 6px;
  margin-top: 10px;
  border-radius: 3px;
`,uH=({error:n})=>{if(n){let e=Xme(n);return v.createElement(Fmt,null,e)}else return null},lH=In.div`
  overflow: hidden;
  width: 100%;
  height: 40px;
  display: flex;
  flex-direction: row;
  overflow: hidden;
  background-color: ${mi.mainBackground};
  flex-shrink: 0;
`,IE=In.div`
  overflow: hidden;
  background-color: white;
  border-radius: 5px;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row;
  overflow: hidden;
`;m();m();m();m();m();var Nw=fr(Fr()),uAe=n=>Nw.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Nw.createElement("title",null,"channel_about"),Nw.createElement("g",{id:"channel_about",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},Nw.createElement("g",{id:"article_FILL0_wght400_GRAD0_opsz48",transform:"translate(4.250000, 4.250000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},Nw.createElement("path",{d:"M19.9520833,71.29375 L54.9,71.29375 L54.9,63.66875 L19.9520833,63.66875 L19.9520833,71.29375 Z M19.9520833,49.5625 L71.5479167,49.5625 L71.5479167,41.9375 L19.9520833,41.9375 L19.9520833,49.5625 Z M19.9520833,27.83125 L71.5479167,27.83125 L71.5479167,20.20625 L19.9520833,20.20625 L19.9520833,27.83125 Z M7.625,91.5 C5.59166667,91.5 3.8125,90.7375 2.2875,89.2125 C0.7625,87.6875 0,85.9083333 0,83.875 L0,7.625 C0,5.59166667 0.7625,3.8125 2.2875,2.2875 C3.8125,0.7625 5.59166667,0 7.625,0 L83.875,0 C85.9083333,0 87.6875,0.7625 89.2125,2.2875 C90.7375,3.8125 91.5,5.59166667 91.5,7.625 L91.5,83.875 C91.5,85.9083333 90.7375,87.6875 89.2125,89.2125 C87.6875,90.7375 85.9083333,91.5 83.875,91.5 L7.625,91.5 Z M7.625,83.875 L83.875,83.875 L83.875,7.625 L7.625,7.625 L7.625,83.875 Z M7.625,7.625 L7.625,83.875 L7.625,7.625 Z",id:"Shape"}))));m();var Lw=fr(Fr()),lAe=n=>Lw.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Lw.createElement("title",null,"channel_feedback"),Lw.createElement("g",{id:"channel_feedback",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},Lw.createElement("g",{id:"chat_FILL0_wght400_GRAD0_opsz48",transform:"translate(4.000000, 4.000000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},Lw.createElement("path",{d:"M18.4,55.315 L54.395,55.315 L54.395,48.415 L18.4,48.415 L18.4,55.315 Z M18.4,40.365 L73.6,40.365 L73.6,33.465 L18.4,33.465 L18.4,40.365 Z M18.4,25.415 L73.6,25.415 L73.6,18.515 L18.4,18.515 L18.4,25.415 Z M0,92 L0,6.9 C0,5.13666667 0.69,3.54583333 2.07,2.1275 C3.45,0.709166667 5.06,0 6.9,0 L85.1,0 C86.8633333,0 88.4541667,0.709166667 89.8725,2.1275 C91.2908333,3.54583333 92,5.13666667 92,6.9 L92,66.7 C92,68.4633333 91.2908333,70.0541667 89.8725,71.4725 C88.4541667,72.8908333 86.8633333,73.6 85.1,73.6 L18.4,73.6 L0,92 Z M6.9,75.325 L15.525,66.7 L85.1,66.7 L85.1,6.9 L6.9,6.9 L6.9,75.325 Z M6.9,6.9 L6.9,75.325 L6.9,6.9 Z",id:"Shape"}))));m();var kw=fr(Fr()),cAe=n=>kw.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},kw.createElement("title",null,"channel_help"),kw.createElement("g",{id:"channel_help",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},kw.createElement("g",{id:"help_FILL0_wght400_GRAD0_opsz48",transform:"translate(3.750000, 3.750000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},kw.createElement("path",{d:"M46.7125,73.190625 C47.9458333,73.190625 48.9864583,72.7666667 49.834375,71.91875 C50.6822917,71.0708333 51.10625,70.0302083 51.10625,68.796875 C51.10625,67.5635417 50.6822917,66.5229167 49.834375,65.675 C48.9864583,64.8270833 47.9458333,64.403125 46.7125,64.403125 C45.4791667,64.403125 44.4385417,64.8270833 43.590625,65.675 C42.7427083,66.5229167 42.31875,67.5635417 42.31875,68.796875 C42.31875,70.0302083 42.7427083,71.0708333 43.590625,71.91875 C44.4385417,72.7666667 45.4791667,73.190625 46.7125,73.190625 Z M42.665625,56.309375 L49.4875,56.309375 C49.4875,54.3052083 49.7380208,52.4744792 50.2390625,50.8171875 C50.7401042,49.1598958 52.3010417,47.2520833 54.921875,45.09375 C57.3114583,43.0895833 59.0072917,41.1239583 60.009375,39.196875 C61.0114583,37.2697917 61.5125,35.15 61.5125,32.8375 C61.5125,28.7520833 60.1828125,25.4760417 57.5234375,23.009375 C54.8640625,20.5427083 51.3375,19.309375 46.94375,19.309375 C43.1666667,19.309375 39.8328125,20.2536458 36.9421875,22.1421875 C34.0515625,24.0307292 31.9510417,26.6322917 30.640625,29.946875 L36.76875,32.259375 C37.6166667,30.1010417 38.8885417,28.4244792 40.584375,27.2296875 C42.2802083,26.0348958 44.284375,25.4375 46.596875,25.4375 C49.2177083,25.4375 51.3375,26.1505208 52.95625,27.5765625 C54.575,29.0026042 55.384375,30.8333333 55.384375,33.06875 C55.384375,34.7645833 54.8833333,36.3640625 53.88125,37.8671875 C52.8791667,39.3703125 51.4145833,40.93125 49.4875,42.55 C47.175,44.5541667 45.4598958,46.5390625 44.3421875,48.5046875 C43.2244792,50.4703125 42.665625,53.071875 42.665625,56.309375 L42.665625,56.309375 Z M46.25,92.5 C39.9291667,92.5 33.9552083,91.2859375 28.328125,88.8578125 C22.7010417,86.4296875 17.7869792,83.1151042 13.5859375,78.9140625 C9.38489583,74.7130208 6.0703125,69.7989583 3.6421875,64.171875 C1.2140625,58.5447917 0,52.5708333 0,46.25 C0,39.8520833 1.2140625,33.8395833 3.6421875,28.2125 C6.0703125,22.5854167 9.38489583,17.690625 13.5859375,13.528125 C17.7869792,9.365625 22.7010417,6.0703125 28.328125,3.6421875 C33.9552083,1.2140625 39.9291667,0 46.25,0 C52.6479167,0 58.6604167,1.2140625 64.2875,3.6421875 C69.9145833,6.0703125 74.809375,9.365625 78.971875,13.528125 C83.134375,17.690625 86.4296875,22.5854167 88.8578125,28.2125 C91.2859375,33.8395833 92.5,39.8520833 92.5,46.25 C92.5,52.5708333 91.2859375,58.5447917 88.8578125,64.171875 C86.4296875,69.7989583 83.134375,74.7130208 78.971875,78.9140625 C74.809375,83.1151042 69.9145833,86.4296875 64.2875,88.8578125 C58.6604167,91.2859375 52.6479167,92.5 46.25,92.5 Z M46.25,85.5625 C57.1958333,85.5625 66.484375,81.7276042 74.115625,74.0578125 C81.746875,66.3880208 85.5625,57.11875 85.5625,46.25 C85.5625,35.3041667 81.746875,26.015625 74.115625,18.384375 C66.484375,10.753125 57.1958333,6.9375 46.25,6.9375 C35.38125,6.9375 26.1119792,10.753125 18.4421875,18.384375 C10.7723958,26.015625 6.9375,35.3041667 6.9375,46.25 C6.9375,57.11875 10.7723958,66.3880208 18.4421875,74.0578125 C26.1119792,81.7276042 35.38125,85.5625 46.25,85.5625 Z",id:"Shape"}))));m();var Iw=fr(Fr()),fAe=n=>Iw.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Iw.createElement("title",null,"channel_preview"),Iw.createElement("g",{id:"channel_preview",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},Iw.createElement("g",{id:"analytics_FILL0_wght400_GRAD0_opsz48",transform:"translate(3.750000, 3.750000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},Iw.createElement("path",{d:"M21.0694444,72.3298611 L28.7777778,72.3298611 L28.7777778,45.9930556 L21.0694444,45.9930556 L21.0694444,72.3298611 Z M63.7222222,72.3298611 L71.4305556,72.3298611 L71.4305556,18.3715278 L63.7222222,18.3715278 L63.7222222,72.3298611 Z M42.3958333,72.3298611 L50.1041667,72.3298611 L50.1041667,57.1701389 L42.3958333,57.1701389 L42.3958333,72.3298611 Z M42.3958333,45.9930556 L50.1041667,45.9930556 L50.1041667,38.2847222 L42.3958333,38.2847222 L42.3958333,45.9930556 Z M7.70833333,92.5 C5.65277778,92.5 3.85416667,91.7291667 2.3125,90.1875 C0.770833333,88.6458333 0,86.8472222 0,84.7916667 L0,7.70833333 C0,5.65277778 0.770833333,3.85416667 2.3125,2.3125 C3.85416667,0.770833333 5.65277778,0 7.70833333,0 L84.7916667,0 C86.8472222,0 88.6458333,0.770833333 90.1875,2.3125 C91.7291667,3.85416667 92.5,5.65277778 92.5,7.70833333 L92.5,84.7916667 C92.5,86.8472222 91.7291667,88.6458333 90.1875,90.1875 C88.6458333,91.7291667 86.8472222,92.5 84.7916667,92.5 L7.70833333,92.5 Z M7.70833333,84.7916667 L84.7916667,84.7916667 L84.7916667,7.70833333 L7.70833333,7.70833333 L7.70833333,84.7916667 Z M7.70833333,7.70833333 L7.70833333,84.7916667 L7.70833333,7.70833333 Z",id:"Shape"}))));m();var Mw=fr(Fr()),dAe=n=>Mw.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Mw.createElement("title",null,"channel_query"),Mw.createElement("g",{id:"channel_query",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},Mw.createElement("g",{id:"travel_explore_FILL0_wght400_GRAD0_opsz48",transform:"translate(2.685232, 3.500000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},Mw.createElement("path",{d:"M43.9974969,93 C37.8673342,92.689612 32.1251564,91.2540676 26.7709637,88.6933667 C21.416771,86.1326658 16.7609512,82.7765957 12.8035044,78.6251564 C8.84605757,74.4737171 5.72277847,69.6433041 3.43366708,64.1339174 C1.14455569,58.6245307 0,52.7659574 0,46.5581977 C0,40.1176471 1.22215269,34.0650814 3.66645807,28.4005006 C6.11076345,22.7359199 9.42803504,17.8085106 13.6182728,13.6182728 C17.8085106,9.42803504 22.7359199,6.11076345 28.4005006,3.66645807 C34.0650814,1.22215269 40.1176471,0 46.5581977,0 C58.1201502,0 68.1689612,3.64705882 76.7046308,10.9411765 C85.2403004,18.2352941 90.4780976,27.3917397 92.4180225,38.4105131 L85.3178974,38.4105131 C83.9987484,31.8923655 81.2440551,26.0725907 77.0538173,20.951189 C72.8635795,15.8297872 67.6257822,11.9887359 61.3404255,9.42803504 L61.3404255,11.5231539 C61.3404255,14.2390488 60.4092616,16.6057572 58.5469337,18.6232791 C56.6846058,20.640801 54.3954944,21.649562 51.6795995,21.649562 L41.5531915,21.649562 L41.5531915,31.77597 C41.5531915,33.0951189 41.0294118,34.1814768 39.9818523,35.0350438 C38.9342929,35.8886108 37.7509387,36.3153942 36.4317897,36.3153942 L26.7709637,36.3153942 L26.7709637,46.5581977 L39.5744681,46.5581977 L39.5744681,61.1076345 L31.77597,61.1076345 L8.03128911,37.3629537 C7.64330413,38.9148936 7.37171464,40.4474343 7.21652065,41.9605757 C7.06132666,43.4737171 6.98372966,45.0062578 6.98372966,46.5581977 C6.98372966,57.0337922 10.514393,66.0738423 17.5757196,73.6783479 C24.6370463,81.2828536 33.4443054,85.3954944 43.9974969,86.0162703 L43.9974969,93 Z M89.6245307,89.9737171 L74.0275344,74.3767209 C72.3979975,75.5406758 70.6326658,76.4330413 68.7315394,77.0538173 C66.830413,77.6745932 64.8710889,77.9849812 62.853567,77.9849812 C57.3441802,77.9849812 52.6689612,76.0644556 48.8279099,72.2234043 C44.9868586,68.3823529 43.0663329,63.7071339 43.0663329,58.1977472 C43.0663329,52.6883605 44.9868586,48.0131414 48.8279099,44.1720901 C52.6689612,40.3310388 57.3441802,38.4105131 62.853567,38.4105131 C68.3629537,38.4105131 73.0381727,40.3310388 76.879224,44.1720901 C80.7202753,48.0131414 82.640801,52.6883605 82.640801,58.1977472 C82.640801,60.2152691 82.3110138,62.1745932 81.6514393,64.0757196 C80.9918648,65.9768461 80.1188986,67.7809762 79.0325407,69.4881101 L94.6295369,84.9687109 L89.6245307,89.9737171 Z M62.853567,71.0012516 C66.4230288,71.0012516 69.4493116,69.7596996 71.9324155,67.2765957 C74.4155194,64.7934919 75.6570713,61.767209 75.6570713,58.1977472 C75.6570713,54.6282854 74.4155194,51.6020025 71.9324155,49.1188986 C69.4493116,46.6357947 66.4230288,45.3942428 62.853567,45.3942428 C59.2841051,45.3942428 56.2578223,46.6357947 53.7747184,49.1188986 C51.2916145,51.6020025 50.0500626,54.6282854 50.0500626,58.1977472 C50.0500626,61.767209 51.2916145,64.7934919 53.7747184,67.2765957 C56.2578223,69.7596996 59.2841051,71.0012516 62.853567,71.0012516 Z",id:"Shape"}))));m();var Ny=fr(Fr()),hAe=n=>Ny.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Ny.createElement("title",null,"channel_samples"),Ny.createElement("g",{id:"channel_samples",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},Ny.createElement("g",{id:"Group",transform:"translate(5.000000, 5.000000)",fill:"#4285F4",className:"primary-fill"},Ny.createElement("path",{d:"M20.25,6.75 L83.25,6.75 L83.25,70.875 L20.25,70.875 L20.25,6.75 Z M20.25,0 C18.45,0 16.875,0.675 15.525,2.025 C14.175,3.375 13.5,4.95 13.5,6.75 L13.5,69.75 C13.5,71.55 14.175,73.125 15.525,74.475 C16.875,75.825 18.45,76.5 20.25,76.5 L83.25,76.5 C85.05,76.5 86.625,75.825 87.975,74.475 C89.325,73.125 90,71.55 90,69.75 L90,6.75 C90,4.95 89.325,3.375 87.975,2.025 C86.625,0.675 85.05,0 83.25,0 L20.25,0 Z M6.75,90 C4.95,90 3.375,89.325 2.025,87.975 C0.675,86.625 0,85.05 0,83.25 L0,13.5 L6.75,13.5 L6.75,83.25 L76.5,83.25 L76.5,90 L6.75,90 Z",id:"Shape",fillRule:"nonzero"}),Ny.createElement("rect",{id:"Rectangle",x:30.1571655,y:21.9026527,width:42.7656174,height:6.46202087}),Ny.createElement("rect",{id:"Rectangle-Copy",x:30.1571655,y:36.2815933,width:42.7656174,height:6.46202087}),Ny.createElement("rect",{id:"Rectangle-Copy-2",x:30.1571655,y:50.2489586,width:22.6109238,height:6.46202087}))));m();var Pw=fr(Fr()),pAe=n=>Pw.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Pw.createElement("title",null,"channel_settings"),Pw.createElement("g",{id:"channel_settings",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},Pw.createElement("g",{id:"settings_FILL0_wght400_GRAD0_opsz48",transform:"translate(3.750000, 3.750000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},Pw.createElement("path",{d:"M35.6125,92.5 L33.3,77.93125 C31.8354167,77.3916667 30.29375,76.659375 28.675,75.734375 C27.05625,74.809375 25.6302083,73.8458333 24.396875,72.84375 L10.753125,79.0875 L0,60.125 L12.4875,50.990625 C12.3333333,50.296875 12.2369792,49.5067708 12.1984375,48.6203125 C12.1598958,47.7338542 12.140625,46.94375 12.140625,46.25 C12.140625,45.55625 12.1598958,44.7661458 12.1984375,43.8796875 C12.2369792,42.9932292 12.3333333,42.203125 12.4875,41.509375 L0,32.375 L10.753125,13.4125 L24.396875,19.65625 C25.6302083,18.6541667 27.05625,17.690625 28.675,16.765625 C30.29375,15.840625 31.8354167,15.146875 33.3,14.684375 L35.6125,0 L56.8875,0 L59.2,14.56875 C60.6645833,15.1083333 62.2255208,15.8213542 63.8828125,16.7078125 C65.5401042,17.5942708 66.946875,18.5770833 68.103125,19.65625 L81.746875,13.4125 L92.5,32.375 L80.0125,41.278125 C80.1666667,42.0489583 80.2630208,42.8776042 80.3015625,43.7640625 C80.3401042,44.6505208 80.359375,45.4791667 80.359375,46.25 C80.359375,47.0208333 80.3401042,47.8302083 80.3015625,48.678125 C80.2630208,49.5260417 80.1666667,50.3354167 80.0125,51.10625 L92.5,60.125 L81.746875,79.0875 L68.103125,72.84375 C66.8697917,73.8458333 65.4630208,74.8286458 63.8828125,75.7921875 C62.3026042,76.7557292 60.7416667,77.46875 59.2,77.93125 L56.8875,92.5 L35.6125,92.5 Z M46.25,61.28125 C50.4125,61.28125 53.9583333,59.8166667 56.8875,56.8875 C59.8166667,53.9583333 61.28125,50.4125 61.28125,46.25 C61.28125,42.0875 59.8166667,38.5416667 56.8875,35.6125 C53.9583333,32.6833333 50.4125,31.21875 46.25,31.21875 C42.0875,31.21875 38.5416667,32.6833333 35.6125,35.6125 C32.6833333,38.5416667 31.21875,42.0875 31.21875,46.25 C31.21875,50.4125 32.6833333,53.9583333 35.6125,56.8875 C38.5416667,59.8166667 42.0875,61.28125 46.25,61.28125 Z M46.25,54.34375 C44.0145833,54.34375 42.1067708,53.5536458 40.5265625,51.9734375 C38.9463542,50.3932292 38.15625,48.4854167 38.15625,46.25 C38.15625,44.0145833 38.9463542,42.1067708 40.5265625,40.5265625 C42.1067708,38.9463542 44.0145833,38.15625 46.25,38.15625 C48.4854167,38.15625 50.3932292,38.9463542 51.9734375,40.5265625 C53.5536458,42.1067708 54.34375,44.0145833 54.34375,46.25 C54.34375,48.4854167 53.5536458,50.3932292 51.9734375,51.9734375 C50.3932292,53.5536458 48.4854167,54.34375 46.25,54.34375 Z M41.1625,85.5625 L51.3375,85.5625 L52.95625,72.6125 C55.5,71.9958333 57.9088542,71.0322917 60.1828125,69.721875 C62.4567708,68.4114583 64.51875,66.83125 66.36875,64.98125 L78.625,70.3 L83.25,61.975 L72.38125,53.996875 C72.6895833,52.6864583 72.9401042,51.3953125 73.1328125,50.1234375 C73.3255208,48.8515625 73.421875,47.5604167 73.421875,46.25 C73.421875,44.9395833 73.3447917,43.6484375 73.190625,42.3765625 C73.0364583,41.1046875 72.7666667,39.8135417 72.38125,38.503125 L83.25,30.525 L78.625,22.2 L66.36875,27.51875 C64.5958333,25.5145833 62.5916667,23.8380208 60.35625,22.4890625 C58.1208333,21.1401042 55.6541667,20.2729167 52.95625,19.8875 L51.3375,6.9375 L41.1625,6.9375 L39.54375,19.8875 C36.9229167,20.4270833 34.4755208,21.3520833 32.2015625,22.6625 C29.9276042,23.9729167 27.9041667,25.5916667 26.13125,27.51875 L13.875,22.2 L9.25,30.525 L20.11875,38.503125 C19.8104167,39.8135417 19.5598958,41.1046875 19.3671875,42.3765625 C19.1744792,43.6484375 19.078125,44.9395833 19.078125,46.25 C19.078125,47.5604167 19.1744792,48.8515625 19.3671875,50.1234375 C19.5598958,51.3953125 19.8104167,52.6864583 20.11875,53.996875 L9.25,61.975 L13.875,70.3 L26.13125,64.98125 C27.98125,66.83125 30.0432292,68.4114583 32.3171875,69.721875 C34.5911458,71.0322917 37,71.9958333 39.54375,72.6125 L41.1625,85.5625 Z",id:"Shape"}))));m();var Bw=fr(Fr()),mAe=n=>Bw.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Bw.createElement("title",null,"channel_source"),Bw.createElement("g",{id:"channel_source",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},Bw.createElement("g",{id:"account_tree_FILL0_wght400_GRAD0_opsz48",transform:"translate(50.000000, 50.000000) scale(-1, -1) translate(-50.000000, -50.000000) translate(3.333333, 8.000000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},Bw.createElement("path",{d:"M61.1333333,84 L61.1333333,69.4166667 L43.1666667,69.4166667 L43.1666667,21.5833333 L32.3166667,21.5833333 L32.3166667,36.75 L0,36.75 L0,0 L32.3166667,0 L32.3166667,14.5833333 L61.1333333,14.5833333 L61.1333333,0 L93.3333333,0 L93.3333333,36.75 L61.1333333,36.75 L61.1333333,21.5833333 L50.1666667,21.5833333 L50.1666667,62.4166667 L61.1333333,62.4166667 L61.1333333,47.25 L93.3333333,47.25 L93.3333333,84 L61.1333333,84 Z M7,7 L7,29.75 L7,7 Z M68.1333333,54.25 L68.1333333,77 L68.1333333,54.25 Z M68.1333333,7 L68.1333333,29.75 L68.1333333,7 Z M68.1333333,29.75 L86.3333333,29.75 L86.3333333,7 L68.1333333,7 L68.1333333,29.75 Z M68.1333333,77 L86.3333333,77 L86.3333333,54.25 L68.1333333,54.25 L68.1333333,77 Z M7,29.75 L25.3166667,29.75 L25.3166667,7 L7,7 L7,29.75 Z",id:"Shape"}))));m();var mue=fr(Fr()),xAe=n=>mue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100px",height:"100px",viewBox:"5 5 38 38",role:"img",...n},mue.createElement("path",{className:"primary-fill",d:"M11 39h7.5V26.5h11V39H37V19.5L24 9.75 11 19.5Zm-3 3V18L24 6l16 12v24H26.5V29.5h-5V42Zm16-17.65Z"}));var xue=({name:n})=>{let e={width:"18px",height:"18px"};switch(n){case"about":return v.createElement(uAe,{...e});case"feedback":return v.createElement(lAe,{...e});case"help":return v.createElement(cAe,{...e});case"preview":return v.createElement(fAe,{...e});case"query":return v.createElement(dAe,{...e});case"samples":return v.createElement(hAe,{...e});case"settings":return v.createElement(pAe,{...e});case"source":return v.createElement(mAe,{...e});case"home":return v.createElement(xAe,{...e})}};var jw=({icon:n,text:e,onClick:t,selected:r,disabled:i=!1})=>v.createElement(Dmt,{onClick:t,selected:r,disabled:i},v.createElement(xue,{name:n}),e),Dmt=In.button`
  outline: none;
  border: none;
  color: ${mi.dimension.fillStrong};
  display: flex;
  flex-direction: column;
  background-color: transparent;
  gap: 8px;
  align-items: center;
  justify-content: center;
  padding: 10px;
  font-weight: 600;

  ${({selected:n,disabled:e})=>(e?`
      .primary-fill {
        fill: ${mi.other.fillMedium};
      }

      color: ${mi.other.fillMedium};
    `:`
      cursor: pointer;

      &:hover {
        background-color: ${mi.other.fillLight};
      }

      .primary-fill {
        fill: ${mi.other.fillStrong};
      }

      color: ${mi.other.fillStrong};
    `)+(n?`
      color: ${mi.dimension.fillStrong};

      &:hover {
        background-color: ${mi.dimension.fillLight};
      }

      .primary-fill {
        fill: ${mi.dimension.fillStrong};
      }
      `:"")}
`;m();m();var gAe=In.div`
  padding: 5px;
  background-color: #fbb;
  font-family: "Google Sans", sans-serif;
  font-size: 12px;
  color: #4b4c50;
  border-radius: 5px;
`,Rmt=In(gAe)`
  white-space: pre-wrap;
  font-family: "Roboto Mono", monospace;
`,gue=({error:n})=>{if(n){let{message:e}=n;return e.split(`
`).length>1?v.createElement(Rmt,null,e):v.createElement(gAe,null,e)}return null};var SMe=fr(sTe());m();async function D2t(n,e,t){return t===void 0||n===void 0?void 0:S2()?iAe(n,t):(await(await fetch("api/top_values",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({modelPath:e,source:t})})).json()).result}function oTe(n,e,t){let{data:r}=Tg(["top_values",e,t?.name],()=>D2t(n,e,t),{refetchOnWindowFocus:!1});return r}m();m();var aTe=fr(Fr());function M1(n,e){(0,aTe.useEffect)(()=>{let t=Array.isArray(n)?n:[n],r=!1,i=(l,f)=>!l.current||f.target instanceof Element&&l.current.contains(f.target),s=l=>t.some(f=>i(f,l)),o=l=>{!r||s(l)||(e(l),r=!1)},a=l=>{s(l)||(r=!0)};return document.addEventListener("mouseup",o),document.addEventListener("mousedown",a),()=>{document.removeEventListener("mouseup",o),document.removeEventListener("mousedown",a)}},[n,e])}m();var bH=fr(Fr());function SH(n){let e=(0,bH.useRef)();return(0,bH.useEffect)(()=>{e.current=n}),e.current}m();var I4=fr(Fr());m();m();function CH(n,e){if(n===void 0)return{stageIndex:e.stageIndex};if(e.fieldIndex===void 0)throw new Error("Invalid push to stage path");return{stageIndex:e.stageIndex,parts:[...n.parts||[],{stageIndex:n.stageIndex,fieldIndex:e.fieldIndex}]}}function wH(n){if(n.parts&&n.parts.length>0){let e=n.parts[0];return{stageIndex:e.stageIndex,fieldIndex:e.fieldIndex,stagePath:{stageIndex:n.stageIndex,parts:n.parts.slice(1)}}}return{stageIndex:n.stageIndex}}function uTe(n){return n.parts?{stagePath:{stageIndex:n.parts[0].stageIndex,parts:n.parts?.slice(1)},stageIndex:n.stageIndex,fieldIndex:n.parts[0].fieldIndex}:{stagePath:void 0,fieldIndex:void 0,stageIndex:n.stageIndex}}var V0=fr(up());m();m();m();var lTe=["accept","aggregate","declare","dimension","except","explore","group_by","having","index","join_cross","join_one","join_many","limit","measure","nest","order_by","primary_key","project","query","rename","sample","source","sql","turduck","top","where","all","as","asc","avg","boolean","by","case","cast","condition","count","date","day","days","desc","distinct","else","end","exclude","false","for","from","from_sql","has","hour","hours","import","is","json","last","max","min","minute","minutes","month","months","not","now","null","number","on","or","pick","quarter","quarters","second","seconds","string","sum","table","then","this","timestamp","to","true","turtle","week","weeks","when","with","year","years","ungrouped"];var Ux=n=>n.split(".").map(e=>e.replace(/(^`|`$)/g,"")).join(".");function R2t(n){let e=!n.match(/^[A-Za-z_][A-Za-z_0-9]*$/),t=lTe.includes(n.toLowerCase());return e||t}function zl(n){let e=n.split(".");for(let t=0;t<e.length;t++)R2t(e[t])&&(e[t]=`\`${e[t]}\``);return e.join(".")}function $x(n,e){if(e.length===0)throw new Error("Alternation must have some values");return e.join(" "+n+" ")}function Tue(n,e){let t=zl(n);switch(e.type){case"is_equal_to":return e.values.length===0?"true":`${t} = ${$x("|",e.values.map(r=>r.toString()))}`;case"is_not_equal_to":return e.values.length===0?"true":`${t} != ${$x("&",e.values.map(r=>r.toString()))}`;case"is_between":return`${t}: ${e.lowerBound} to ${e.upperBound}`;case"is_greater_than":return`${t} > ${e.value}`;case"is_less_than":return`${t} < ${e.value}`;case"is_greater_than_or_equal_to":return`${t} >= ${e.value}`;case"is_less_than_or_equal_to":return`${t} <= ${e.value}`;case"is_null":return`${t} = null`;case"is_not_null":return`${t} != null`;case"custom":return`${t}: ${e.partial}`}}function PE(n,e){let t=zl(n);switch(e.type){case"is_equal_to":return e.values.length===0?"true":`${t} = ${$x("|",e.values.map(N4))}`;case"is_not_equal_to":return e.values.length===0?"true":`${t} != ${$x("&",e.values.map(N4))}`;case"contains":return e.values.length===0?"true":`${t} ~ ${$x("|",e.values.map($w).map(r=>`%${r}%`).map(N4))}`;case"does_not_contain":return e.values.length===0?"true":`${t} !~ ${$x("&",e.values.map($w).map(r=>`%${r}%`).map(N4))}`;case"starts_with":return e.values.length===0?"true":`${t} ~ ${$x("|",e.values.map($w).map(r=>`${r}%`).map(N4))}`;case"does_not_start_with":return e.values.length===0?"true":`${t} !~ ${$x("&",e.values.map($w).map(r=>`${r}%`).map(N4))}`;case"ends_with":return e.values.length===0?"true":`${t} ~ ${$x("|",e.values.map($w).map(r=>`%${r}`).map(N4))}`;case"does_not_end_with":return e.values.length===0?"true":`${t} !~ ${$x("&",e.values.map($w).map(r=>`%${r}`).map(N4))}`;case"is_null":return`${t} = null`;case"is_not_null":return`${t} != null`;case"is_blank":return`${t} = ''`;case"is_not_blank":return`${t} != ''`;case"custom":return`${t}: ${e.partial}`}}function Fue(n,e){let t=zl(n);switch(e.type){case"is_false":return`not ${t}`;case"is_true":return`${t}`;case"is_true_or_null":return`${t}: true | null`;case"is_false_or_null":return`${t}: false | null`;case"is_null":return`${t} = null`;case"is_not_null":return`${t} != null`;case"custom":return`${t}: ${e.partial}`}}function Due(n,e){let t=zl(n);switch(e.type){case"is_in_the_past":return`${t}: now - ${e.amount} ${e.unit} for ${e.amount} ${e.unit}`;case"is_last":return`${t}.${e.period} = now.${e.period} - 1 ${e.period}`;case"is_this":return`${t}.${e.period} = now.${e.period}`;case"is_on":return`${t}.${e.granularity} = ${HO(e.date,e.granularity)}`;case"is_after":return`${t}.${e.granularity} > ${HO(e.date,e.granularity)}`;case"is_before":return`${t}.${e.granularity} < ${HO(e.date,e.granularity)}`;case"is_between":return`${t}.${e.granularity}: ${HO(e.start,e.granularity)} to ${HO(e.end,e.granularity)}`;case"is_null":return`${t} = null`;case"is_not_null":return`${t} != null`;case"custom":return`${t}: ${e.partial}`}}function $w(n){return n.replace(/%/g,"%%")}function N4(n){return`'${n.replace(/\\/g,"\\\\").replace(/'/g,"\\'")}'`}function HO(n,e){switch(e){case"year":return`@${Au(n.getUTCFullYear(),4)}`;case"quarter":{let t=Au(n.getUTCFullYear(),4),r=Math.floor(n.getUTCMonth()/3)+1;return`@${t}-Q${r}`}case"month":{let t=Au(n.getUTCFullYear(),2),r=Au(n.getUTCMonth()+1,2);return`@${t}-${r}`}case"week":{let t=Au(n.getUTCFullYear(),2),r=Au(n.getUTCMonth()+1,2),i=Au(n.getUTCDate(),2);return`@WK${t}-${r}-${i}`}case"day":{let t=Au(n.getUTCFullYear(),2),r=Au(n.getUTCMonth()+1,2),i=Au(n.getUTCDate(),2);return`@${t}-${r}-${i}`}case"hour":{let t=Au(n.getUTCFullYear(),2),r=Au(n.getUTCMonth()+1,2),i=Au(n.getUTCDate(),2),s=Au(n.getUTCHours(),2);return`@${t}-${r}-${i} ${s}:00`}case"minute":{let t=Au(n.getUTCFullYear(),2),r=Au(n.getUTCMonth()+1,2),i=Au(n.getUTCDate(),2),s=Au(n.getUTCHours(),2),o=Au(n.getUTCMinutes(),2);return`@${t}-${r}-${i} ${s}:${o}`}case"second":{let t=Au(n.getUTCFullYear(),2),r=Au(n.getUTCMonth()+1,2),i=Au(n.getUTCDate(),2),s=Au(n.getUTCHours(),2),o=Au(n.getUTCMinutes(),2),a=Au(n.getUTCSeconds(),2);return`@${t}-${r}-${i} ${s}:${o}:${a}`}default:throw new Error("Unknown timeframe.")}}function Au(n,e){return n.toString().padStart(e,"0")}function cTe(n,e){switch(e){case"is_equal_to":case"is_not_equal_to":case"starts_with":case"does_not_start_with":case"contains":case"does_not_contain":case"ends_with":case"does_not_end_with":return{type:e,values:"values"in n?n.values:[]};case"is_blank":case"is_not_blank":case"is_null":case"is_not_null":return{type:e};case"custom":return{type:e,partial:""}}}function fTe(n,e){switch(e){case"is_equal_to":case"is_not_equal_to":return{type:e,values:"values"in n?n.values:"value"in n?[n.value]:"lowerBound"in n?[n.lowerBound]:[]};case"is_greater_than":case"is_less_than":case"is_greater_than_or_equal_to":case"is_less_than_or_equal_to":return{type:e,value:"value"in n?n.value:"values"in n&&n.values[0]||0};case"is_between":return{type:e,lowerBound:"value"in n?n.value:"values"in n&&n.values[0]||0,upperBound:0};case"is_null":case"is_not_null":return{type:e};case"custom":return{type:e,partial:""}}}function dTe(n,e){switch(e){case"is_in_the_past":return{type:e,unit:"days",amount:7};case"is_last":case"is_this":return{type:e,period:"day",amount:1};case"is_on":case"is_after":case"is_before":return{type:e,granularity:"granularity"in n?n.granularity:"day",date:"date"in n?n.date:"start"in n?n.start:new Date};case"is_between":return{type:e,granularity:"granularity"in n?n.granularity:"day",start:"date"in n?n.date:new Date,end:new Date};case"is_null":case"is_not_null":return{type:e};case"custom":return{type:e,partial:""}}}function hTe(n,e){switch(e){case"custom":return{type:e,partial:""};default:return{type:e}}}var AH="[a-zA-Z_]",zw="[0-9]",pTe=`${AH}(?:${AH}|${zw})*`,mTe=`\`${AH}(?:${AH}|${zw}|\\s)*\``,O2t=`(?:${pTe}|${mTe})(?:\\.(?:${pTe}|${mTe}))*`,ma=`(?:${O2t})`,N2t=new RegExp(`^not (${ma})$`),L2t=new RegExp(`^(${ma})$`),k2t=new RegExp(`^(${ma}):\\s*true\\s*\\|\\s*null$`),I2t=new RegExp(`^(${ma}):\\s*false\\s*\\|\\s*null$`),M2t=new RegExp(`^(${ma})\\s*=\\s*null$`),P2t=new RegExp(`^(${ma})\\s*!=\\s*null$`),B2t=new RegExp(`^(${ma}):\\s*(.*)$`);function zx(n,e){return`${e}(?:\\s*\\${n}\\s*${e}\\s*)*`}var TH="(?:\\\\\\')|(?:\\\\\\\\)|(?:\\\\.)",xTe=`\\'(?:${TH}|[^\\\\\\\\'])*\\'`,gTe=`\\'%(?:${TH}|[^\\\\\\\\'])*%\\'`,yTe=`\\'(?:${TH}|[^\\\\\\\\'])*%\\'`,vTe=`\\'%(?:${TH}|[^\\\\\\\\'])*\\'`,j2t=new RegExp(`^(${ma})\\s*=\\s\\'\\'$`),q2t=new RegExp(`^(${ma})\\s*!=\\s\\'\\'$`),U2t=new RegExp(`^(${ma})\\s*=\\s*(${zx("|",xTe)})$`),$2t=new RegExp(`^(${ma})\\s*!=\\s*(${zx("&",xTe)})$`),z2t=new RegExp(`^(${ma})\\s*~\\s*(${zx("|",gTe)})$`),H2t=new RegExp(`^(${ma})\\s*!~\\s*(${zx("&",gTe)})$`),V2t=new RegExp(`^(${ma})\\s*~\\s*(${zx("|",yTe)})$`),W2t=new RegExp(`^(${ma})\\s*~\\s*(${zx("|",vTe)})$`),Q2t=new RegExp(`^(${ma})\\s*!~\\s*(${zx("&",yTe)})$`),G2t=new RegExp(`^(${ma})\\s*!~\\s*(${zx("&",vTe)})$`),Hx=`${zw}+(?:\\.${zw}*)?`,Y2t=new RegExp(`^(${ma})\\s*=\\s*(${zx("|",Hx)})$`),K2t=new RegExp(`^(${ma})\\s*!=\\s*(${zx("&",Hx)})$`),J2t=new RegExp(`^(${ma})\\s*:\\s*(${Hx})\\s*to\\s*(${Hx})$`),X2t=new RegExp(`^(${ma})\\s*>\\s*(${Hx})$`),Z2t=new RegExp(`^(${ma})\\s*<\\s*(${Hx})$`),ext=new RegExp(`^(${ma})\\s*>=\\s*(${Hx})$`),txt=new RegExp(`^(${ma})\\s*<=\\s*(${Hx})$`),Vm="(?:year|quarter|month|week|day|hour|minute|second)",nxt=new RegExp(`^(${ma})\\s*:\\s*now\\s*-\\s*(${Hx})\\s*(${Vm})s?\\s*for\\s*\\s*(${Hx})\\s*(${Vm})s?$`),rxt=new RegExp(`^(${ma})\\.(${Vm})\\s*=\\s*now\\.(${Vm})\\s*-\\s*1\\s*(${Vm})$`),ixt=new RegExp(`^(${ma})\\.(${Vm})\\s*=\\s*now\\.(${Vm})$`),Rue=`${zw}{4}`,BE=`${zw}{2}`,_Te=`@${Rue}(?:-${BE}(?:-${BE}(?: ${BE}:${BE}(?::${BE})?)?)?)?`,ETe=`@${Rue}-Q[1234]`,bTe=`@WK${Rue}-${BE}-${BE}`,VO=`(?:${_Te}|${ETe}|${bTe})`,sxt=new RegExp(`^(${ma})\\.(${Vm})\\s*=\\s*(${VO})$`),oxt=new RegExp(`^(${ma})\\.(${Vm})\\s*>\\s*(${VO})$`),axt=new RegExp(`^(${ma})\\.(${Vm})\\s*<\\s*(${VO})$`),uxt=new RegExp(`^(${ma})\\.(${Vm})\\s*:\\s*(${VO})\\s*to\\s*(${VO})$`);function Ds(n){return Ux(n)}function STe(n){return lxt(n)??dxt(n)??hxt(n)??pxt(n)??cxt(n)}function lxt(n){let e=n.match(N2t);if(e)return{field:Ds(e[1]),filter:{type:"is_false"}};let t=n.match(L2t);if(t)return{field:Ds(t[1]),filter:{type:"is_true"}};let r=n.match(k2t);if(r)return{field:Ds(r[1]),filter:{type:"is_true_or_null"}};let i=n.match(I2t);if(i)return{field:Ds(i[1]),filter:{type:"is_false_or_null"}}}function cxt(n){let e=n.match(M2t);if(e)return{field:Ds(e[1]),filter:{type:"is_null"}};let t=n.match(P2t);if(t)return{field:Ds(t[1]),filter:{type:"is_not_null"}};let r=n.match(B2t);if(r)return{field:Ds(r[1]),filter:{type:"custom",partial:r[2]}}}function L4(n){return n.replace(/\\(.)/g,"$1")}function k4(n){return n.substring(1,n.length-1)}function CTe(n){return n.substring(1,n.length-1)}function wTe(n){return n.substring(0,n.length-1)}function ATe(n){return n.substring(1)}function Iy(n){return parseFloat(n)}function Vx(n,e){return e.split(new RegExp(`\\s*\\${n}\\s*`))}function fxt(n){if(["year","quarter","month","week","day","hour","minute","second"].includes(n))return n+"s";throw new Error(`Invalid time unit '${n}'`)}function Hw(n){if(["year","quarter","month","week","day","hour","minute","second"].includes(n))return n;throw new Error(`Invalid time period '${n}'`)}function WO(n){let e=n.match(new RegExp(`^${_Te}$`)),t=n.match(new RegExp(`^${bTe}$`));if(e||t){let r=e?n.substring(1):n.substring(3);return r.length===4?new Date(parseInt(n.substring(0,4)),0,1):r.length===7?new Date(parseInt(r.substring(0,4)),parseInt(r.substring(5,7))-1,1):r.length===10?new Date(parseInt(r.substring(0,4)),parseInt(r.substring(5,7))-1,parseInt(r.substring(8,10))):r.length===16?new Date(parseInt(r.substring(0,4)),parseInt(r.substring(5,7))-1,parseInt(r.substring(8,10)),parseInt(r.substring(11,13)),parseInt(r.substring(14,16))):new Date(parseInt(r.substring(0,4)),parseInt(r.substring(5,7))-1,parseInt(r.substring(8,10)),parseInt(r.substring(11,13)),parseInt(r.substring(14,16)),parseInt(r.substring(17,19)))}else if(n.match(new RegExp(`^${ETe}$`)))return new Date(parseInt(n.substring(1,5)),3*parseInt(n.substring(7,8))-1,1);throw new Error(`Invalid Malloy date: ${n}`)}function dxt(n){let e=n.match(j2t);if(e)return{field:Ds(e[1]),filter:{type:"is_blank"}};let t=n.match(q2t);if(t)return{field:Ds(t[1]),filter:{type:"is_not_blank"}};let r=n.match(U2t);if(r)return{field:Ds(r[1]),filter:{type:"is_equal_to",values:Vx("|",r[2]).map(k4).map(L4)}};let i=n.match($2t);if(i)return{field:Ds(i[1]),filter:{type:"is_not_equal_to",values:Vx("&",i[2]).map(k4).map(L4)}};let s=n.match(z2t);if(s)return{field:Ds(s[1]),filter:{type:"contains",values:Vx("|",s[2]).map(k4).map(L4).map(CTe)}};let o=n.match(H2t);if(o)return{field:Ds(o[1]),filter:{type:"does_not_contain",values:Vx("&",o[2]).map(k4).map(L4).map(CTe)}};let a=n.match(V2t);if(a)return{field:Ds(a[1]),filter:{type:"starts_with",values:Vx("|",a[2]).map(k4).map(L4).map(wTe)}};let l=n.match(W2t);if(l)return{field:Ds(l[1]),filter:{type:"ends_with",values:Vx("|",l[2]).map(k4).map(L4).map(ATe)}};let f=n.match(Q2t);if(f)return{field:Ds(f[1]),filter:{type:"does_not_start_with",values:Vx("&",f[2]).map(k4).map(L4).map(wTe)}};let p=n.match(G2t);if(p)return{field:Ds(p[1]),filter:{type:"does_not_end_with",values:Vx("&",p[2]).map(k4).map(L4).map(ATe)}}}function hxt(n){let e=n.match(Y2t);if(e)return{field:Ds(e[1]),filter:{type:"is_equal_to",values:Vx("|",e[2]).map(Iy)}};let t=n.match(K2t);if(t)return{field:Ds(t[1]),filter:{type:"is_not_equal_to",values:Vx("&",t[2]).map(Iy)}};let r=n.match(X2t);if(r)return{field:Ds(r[1]),filter:{type:"is_greater_than",value:Iy(Ds(r[2]))}};let i=n.match(Z2t);if(i)return{field:Ds(i[1]),filter:{type:"is_less_than",value:Iy(Ds(i[2]))}};let s=n.match(txt);if(s)return{field:Ds(s[1]),filter:{type:"is_greater_than_or_equal_to",value:Iy(Ds(s[2]))}};let o=n.match(ext);if(o)return{field:Ds(o[1]),filter:{type:"is_less_than_or_equal_to",value:Iy(Ds(o[2]))}};let a=n.match(J2t);if(a)return{field:Ds(a[1]),filter:{type:"is_between",lowerBound:Iy(Ds(a[2])),upperBound:Iy(Ds(a[3]))}}}function pxt(n){let e=n.match(nxt);if(e)return{field:Ds(e[1]),filter:{type:"is_in_the_past",amount:Iy(Ds(e[2])),unit:fxt(Ds(e[3]))}};let t=n.match(rxt);if(t)return{field:Ds(t[1]),filter:{type:"is_last",period:Hw(Ds(t[2]))}};let r=n.match(ixt);if(r)return{field:Ds(r[1]),filter:{type:"is_this",period:Hw(Ds(r[2]))}};let i=n.match(sxt);if(i)return{field:Ds(i[1]),filter:{type:"is_on",granularity:Hw(Ds(i[2])),date:WO(Ds(i[3]))}};let s=n.match(oxt);if(s)return{field:Ds(s[1]),filter:{type:"is_after",granularity:Hw(Ds(s[2])),date:WO(Ds(s[3]))}};let o=n.match(axt);if(o)return{field:Ds(o[1]),filter:{type:"is_before",granularity:Hw(Ds(o[2])),date:WO(Ds(o[3]))}};let a=n.match(uxt);if(a)return{field:Ds(a[1]),filter:{type:"is_between",granularity:Hw(Ds(a[2])),start:WO(Ds(a[3])),end:WO(Ds(a[4]))}}}var Oue=class{constructor(e){this._source=e}updateSource(e){this._source=e}getSource(){return this._source}fieldDefForQueryFieldDef(e,t){return typeof e=="string"?this.getField(t,e):(0,V0.isFilteredAliasedName)(e)?this.getField(t,e.name):e}getField(e,t){let r=t.split("."),i=e;for(;r.length>1;){let o=r[0],a=i.fields.find(l=>(l.as||l.name)===o);if(a===void 0)throw new Error(`Could not find (inner) ${o}`);if(a.type==="struct")i=a,r=r.slice(1);else if(a.type==="turtle"){let l=this.getSource();for(let f of a.pipeline)l=this.modifySourceForStage(f,l);i=l,r=r.slice(1)}else throw new Error("Inner segment in path is not a source")}let s=i.fields.find(o=>(o.as||o.name)===r[0]);if(s===void 0)throw new Error(`Could not find ${r[0]}`);return s}modifySourceForStage(e,t){return V0.Segment.nextStructDef(t,e)}},Nue={pipeline:[{type:"reduce",fields:[]}],name:"new_query",type:"turtle"},Lue=class extends Error{constructor(e,t){super(e);this.field=t}},kue=class extends Oue{constructor(e){super(e);this.query=JSON.parse(JSON.stringify(Nue))}getWriter(){return new TTe(this.query,this._source)}getQuerySummary(e){return this._source===void 0?void 0:this.getWriter().getQuerySummary(e)}getQueryStringForModel(){return this._source===void 0?void 0:this.getWriter().getQueryStringForModel()}getQueryStringForSource(e){return this._source===void 0?void 0:this.getWriter().getQueryStringForSource(e)}getQueryStringForMarkdown(e,t){return this._source===void 0?void 0:this.getWriter().getQueryStringForMarkdown(e,t)}getQueryStrings(e,t){let r=this.getWriter();return{model:r.getQueryStringForModel(),source:r.getQueryStringForSource(this.query.name),markdown:r.getQueryStringForMarkdown(e,t),isRunnable:this.canRun()}}getName(){return this.query.name}isEmpty(){return JSON.stringify(this.query)===JSON.stringify(Nue)}clearQuery(){this.query=JSON.parse(JSON.stringify(Nue))}setQuery(e){this.query={pipeline:e.pipeline,name:e.as||e.name,type:"turtle"}}autoExpandStageAtPath(e){try{return this.stageAtPath(e)}catch(t){if(t instanceof Lue){let{stagePath:r,fieldIndex:i}=wH(e);if(this.fieldDefForQueryFieldDef(t.field,this.sourceForStageAtPath(r)).type==="turtle")return this.replaceWithDefinition(r,i),this.stageAtPath(e)}throw t}}stageAtPath(e){let t=this.query.pipeline;for(;;){let{stagePath:r,stageIndex:i,fieldIndex:s}=wH(e);if(s!==void 0){let o=t[i].fields[s];if(typeof o=="string"||(0,V0.isFilteredAliasedName)(o)||o.type!=="turtle")throw new Lue("Path does not refer to a stage correctly",o);if(t=o.pipeline,r===void 0)throw new Error("Invalid stage path");e=r}else return t[i]}}sourceForStageAtPath(e){let t=this.query.pipeline,r=this.getSource();for(;;){let{stagePath:i,stageIndex:s,fieldIndex:o}=wH(e);for(let a=0;a<s;a++)r=this.modifySourceForStage(t[a],r);if(o!==void 0){let a=t[s].fields[o];if(typeof a=="string"||(0,V0.isFilteredAliasedName)(a)||a.type!=="turtle")throw new Error("Path does not refer to a stage correctly");if(t=a.pipeline,i===void 0)throw new Error("Invalid stage path");e=i}else return r}}sortOrder(e){return e.type==="struct"?3:e.type==="turtle"?2:e.aggregate?1:0}getIndexToInsertNewField(e,t){let r=this.stageAtPath(e),i=this.sourceForStageAtPath(e),s=this.fieldDefForQueryFieldDef(t,i),o=this.sortOrder(s);for(let a=0;a<r.fields.length;a++){let l=r.fields[a];try{let f=this.fieldDefForQueryFieldDef(l,i);if(this.sortOrder(f)>o)return a}catch(f){console.log(f)}}return r.fields.length}insertField(e,t){let r=this.autoExpandStageAtPath(e),i=this.getIndexToInsertNewField(e,t);r.fields.splice(i,0,t)}addField(e,t){this.insertField(e,t)}loadQuery(e){let t=this.getField(this.getSource(),e);if(t.type!=="turtle")throw new Error("Path does not refer to query.");t.pipeline.forEach((r,i)=>{if(this.query.pipeline[i]===void 0)this.query.pipeline[i]=JSON.parse(JSON.stringify(r));else{let s=this.query.pipeline[i];if(s.type!=="reduce"||r.type!=="reduce")throw new Error("Cannot load query with non-reduce stages");r.by&&(s.by={...r.by},s.orderBy=void 0),r.filterList&&(s.filterList=(s.filterList||[]).concat(...r.filterList.filter(o=>!s.filterList?.find(a=>a.code===o.code)))),r.limit&&(s.limit=r.limit),r.orderBy&&(s.orderBy=r.orderBy,s.by=void 0),s.fields=r.fields.map(o=>JSON.parse(JSON.stringify(o))).concat(s.fields.filter(o=>!r.fields.find(a=>this.nameOf(a)===this.nameOf(o))))}}),this.query.name=t.as||t.name}replaceQuery(e){let t=this.query.pipeline.length===1&&this.query.pipeline[0].fields.length===0?this.query.pipeline[0].filterList||[]:[],r=JSON.parse(JSON.stringify(e.pipeline));r[0].filterList=[...t,...r[0].filterList||[]],this.query={pipeline:r,name:e.as||e.name,type:"turtle"}}nameOf(e){return typeof e=="string"?e:e.as||e.name}replaceSavedField(e,t,r){this.stageAtPath(e).fields.splice(t,1,r)}removeField(e,t){let r=this.stageAtPath(e);if(r.type==="reduce"&&r.orderBy){let i=r.orderBy.findIndex(s=>{let o=r.fields[t];return s.field===this.nameOf(o)});i!==-1&&r.orderBy.splice(i,1)}r.fields.splice(t,1)}getFieldIndex(e,t){let i=this.stageAtPath(e).fields.findIndex(s=>s===t);return i===-1?void 0:i}hasField(e,t){return this.getFieldIndex(e,t)!==void 0}reorderFields(e,t){let r=this.stageAtPath(e),i=t.map(s=>r.fields[s]);r.fields=i}toggleField(e,t){this.autoExpandStageAtPath(e);let r=this.getFieldIndex(e,t);r!==void 0?this.removeField(e,r):this.addField(e,t)}getQuery(){return this.query}addFilter(e,t){let r=this.autoExpandStageAtPath(e);r.filterList=[...r.filterList||[],t]}editFilter(e,t,r,i){let s=this.stageAtPath(e);if(t===void 0){if(s.filterList===void 0)throw new Error("Stage has no filters.");s.filterList[r]=i}else{let o=s.fields[t];if(!(0,V0.isFilteredAliasedName)(o))throw new Error("Cannot edit filter on non FAN.");if(o.filterList===void 0)throw new Error("Field has no filters");o.filterList[r]=i}}removeFilter(e,t,r){let i=this.stageAtPath(e);if(r===void 0)i.filterList&&i.filterList.splice(t,1);else{let s=i.fields[r];(0,V0.isFilteredAliasedName)(s)&&s.filterList?.splice(r,1)}}hasLimit(e){let t=this.stageAtPath(e);if(t.type!=="reduce")throw new Error("Don't know how to handle this yet");return t.limit!==void 0}addLimit(e,t,r,i){let s=this.autoExpandStageAtPath(e);if(s.type!=="reduce")throw new Error("Don't know how to handle this yet");s.limit=t,r&&(s.orderBy=[{field:r.path,dir:i}])}addOrderBy(e,t,r){let i=this.autoExpandStageAtPath(e);if(i.type!=="reduce")throw new Error("Don't know how to handle this yet");i.orderBy=i.orderBy||[];let s=i.fields[t],o=typeof s=="string"?s:s.as||s.name;i.orderBy.push({field:o,dir:r})}editOrderBy(e,t,r){let i=this.stageAtPath(e);if(i.type!=="reduce")throw new Error("Don't know how to handle this yet");i.orderBy=i.orderBy||[],i.orderBy[t]={field:i.orderBy[t].field,dir:r}}removeLimit(e){let t=this.stageAtPath(e);t.limit=void 0}addStage(e,t){let r;if(e!==void 0){let i=this.stageAtPath(e);if(t===void 0)throw new Error("fieldIndex must be provided if stagePath is");let s=i.fields[t];if(this.fieldDefForQueryFieldDef(s,this.sourceForStageAtPath(e)).type==="turtle")typeof s=="string"||(0,V0.isFilteredAliasedName)(s)?(this.replaceWithDefinition(e,t),r=i.fields[t]):r=s;else throw new Error("Invalid field to add stage to.")}else r=this.query;r.pipeline.push({type:"reduce",fields:[]})}removeStage(e){let{stagePath:t,fieldIndex:r,stageIndex:i}=uTe(e),s;if(t!==void 0){let o=this.stageAtPath(t);if(r===void 0)throw new Error("Invalid stage path");let a=o.fields[r];if(typeof a!="string"&&!(0,V0.isFilteredAliasedName)(a)&&a.type==="turtle")s=a;else throw new Error("Invalid field to add stage to.")}else s=this.query;s.pipeline.splice(i,1),s.pipeline.length===0&&s.pipeline.push({type:"reduce",fields:[]})}removeOrderBy(e,t){let r=this.stageAtPath(e);if(r.type!=="reduce")throw new Error("Don't know how to handle this yet");r.orderBy&&r.orderBy.splice(t,1)}canRun(){return this.query.pipeline[0].fields.length>0}renameField(e,t,r){let i=this.stageAtPath(e);if(i.type!=="reduce")throw new Error("Don't know how to handle this yet");let s=i.fields[t],o=this.nameOf(s);i.orderBy&&i.orderBy.forEach(a=>{a.field===o&&(a.field=r)}),typeof s=="string"?i.fields[t]={name:s,as:r}:((0,V0.isFilteredAliasedName)(s),s.as=r)}addFilterToField(e,t,r,i){i!==void 0&&this.renameField(e,t,i);let s=this.stageAtPath(e);if(s.type!=="reduce")throw new Error("Don't know how to handle this yet");let o=s.fields[t];if(typeof o=="string"){if(i===void 0)throw new Error("As must be specified if field is not already renamed.")}else(0,V0.isFilteredAliasedName)(o)&&(o.filterList=[...o.filterList||[],r])}addNewNestedQuery(e,t){let r={name:t,type:"turtle",pipeline:[{type:"reduce",fields:[]}]};this.insertField(e,r)}addNewField(e,t){this.insertField(e,t)}editFieldDefinition(e,t,r){let i=this.stageAtPath(e);i.fields[t]=r}replaceWithDefinition(e,t,r){r===void 0&&(r=this._source);let i=this.stageAtPath(e),s=i.fields[t];if(typeof s!="string")throw new Error("Don't deal with this yet");let o=r.fields.find(a=>(a.as||a.name)===s);if(o===void 0)throw new Error("Field is not defined..");i.fields[t]=JSON.parse(JSON.stringify(o))}setName(e){this.query.name=e}},TTe=class extends Oue{constructor(e,t){super(t);this.query=e}getQueryStringForMarkdown(e,t){let r=this.getMalloyString(!1,this.query.name);return`<!-- malloy-query
  name="${pm(this.query.name)}"
  description="Add a description here." ${e?`
  renderer="${e}"`:""}
  model="${t}"
-->
\`\`\`malloy
${r}
\`\`\``}getQueryStringForSource(e){return this.getMalloyString(!0,e)}getQueryStringForModel(){return this.getMalloyString(!1,this.query.name)}getFiltersString(e){let t=[];e.length===1?t.push(" "):t.push(My,Vw);for(let r=0;r<e.length;r++){let i=e[r];t.push(i.code),r!==e.length-1&&t.push(","),t.push(My)}return e.length>1&&t.push(Ww),t}codeInfoForField(e,t,r){try{if(typeof e=="string"){let i=this.getField(t,e);if(i.type==="struct")throw new Error("Don't know how to deal with this");return{property:i.type==="turtle"?"nest":i.aggregate?"aggregate":"group_by",malloy:[zl(e)]}}else if((0,V0.isFilteredAliasedName)(e)){let i=this.getField(t,e.name);if(i.type==="struct")throw new Error("Don't know how to deal with this");let s=i.type==="turtle"?"nest":i.aggregate?"aggregate":"group_by",o=[],a=e.as===void 0?"":`${zl(e.as)} is `;return o.push(`${a}${zl(e.name)}`),e.filterList&&e.filterList.length>0&&(o.push(" {",Vw,"where:"),o.push(...this.getFiltersString(e.filterList||[])),o.push(Ww,"}")),{property:s,malloy:o}}else if(e.type==="turtle"){let i=[];i.push(`${zl(e.as||e.name)} is`);let s=t,o=!0;for(let a of e.pipeline)o||i.push("->"),i.push(...this.getMalloyStringForStage(a,s,r+"  ")),s=this.modifySourceForStage(a,s),o=!1;return{property:"nest",malloy:i}}else{let i=e.aggregate?"aggregate":"group_by",s=[`${zl(e.as||e.name)} is ${e.code}`];return{property:i,malloy:s}}}catch(i){console.log(i)}}writeMalloyForPropertyValues(e,t){return t.length===0?[]:t.length===1?[e,": ",...t[0],My]:[e,": ",My,Vw,...t.flatMap(r=>[...r,My]),Ww]}getMalloyStringForStage(e,t,r=""){let i=[];i.push(" {",My,Vw),e.filterList&&e.filterList.length>0&&i.push("where:",...this.getFiltersString(e.filterList));let s,o=[];for(let a of e.fields){let l=this.codeInfoForField(a,t,r);l&&(s!==void 0&&l.property!==s&&(i.push(...this.writeMalloyForPropertyValues(s,o)),o=[]),s=l.property,o.push(l.malloy))}return s&&i.push(...this.writeMalloyForPropertyValues(s,o)),e.limit&&i.push(`limit: ${e.limit}`,My),e.type==="reduce"&&e.orderBy&&e.orderBy.length>0&&(i.push("order_by: "),i.push(e.orderBy.map(a=>{let l;if(typeof a.field=="string"){let f=a.field.split(".");l=f[f.length-1]}else l=a.field;return`${typeof l=="string"?zl(l):l}${a.dir?" "+a.dir:""}`}).join(", "),My)),i.push(Ww,"}"),i}getMalloyString(e,t){if(this.getSource()===void 0)return"";let r=[];r.push("query:"),t!==void 0&&r.push(`${zl(t)} is`),e||r.push(zl(this.getSource().as||this.getSource().name));let i=[r.join(" ")],s=this.getSource();for(let o of this.query.pipeline)e||i.push(" ->"),i.push(...this.getMalloyStringForStage(o,s)),s=this.modifySourceForStage(o,s);return FTe(i)}getSummaryItemsForFilterList(e,t){let r=[];for(let i=0;i<t.length;i++){let s=t[i],o=STe(s.code);r.push({type:"filter",filterSource:s.code,filterIndex:i,fieldPath:o&&o.field,field:o&&this.getField(e,o.field),parsed:o&&o.filter})}return r}getQuerySummary(e){let t=this.query.name,r=this.getSource();return{stages:this.query.pipeline.map((s,o)=>{let a=this.getStageSummary(s,r,e);if(r=this.modifySourceForStage(s,r),o===this.query.pipeline.length-1){let l=this.getStyleItemForName(t,"query",e);l&&a.items.push(l)}return a})}}nameOf(e){return typeof e=="string"?e:e.as||e.name}getStyleItem(e,t,r){let i,s;if(typeof e=="string"){i=e;let o=this.getField(t,e);if(o.type==="struct")throw new Error("Don't know how to deal with this");s=o.type==="turtle"?"query":o.aggregate?"measure":"dimension"}else if(i=e.as||e.name,(0,V0.isFilteredAliasedName)(e)){let o=this.getField(t,e.name);if(o.type==="struct")throw new Error("Don't know how to deal with this");s=o.type==="turtle"?"query":o.aggregate?"measure":"dimension"}else s=e.type==="turtle"?"query":e.aggregate?"measure":"dimension";return this.getStyleItemForName(i,s,r)}getStyleItemForName(e,t,r){let i=r[e];if(!(i===void 0||i.renderer===void 0))return{type:"data_style",renderer:i.renderer,styleKey:e,canRemove:e in r,allowedRenderers:t==="query"||t==="source"?["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]:["number","boolean","currency","image","link","percent","text","time"]}}getStageSummary(e,t,r){let i=[],s=[];e.filterList&&i.push(...this.getSummaryItemsForFilterList(t,e.filterList));for(let o=0;o<e.fields.length;o++){let a=e.fields[o];try{let l=[],f=this.fieldDefForQueryFieldDef(a,t);if(f.type==="turtle"){let b=t;for(let R of f.pipeline)l.push(this.getStageSummary(R,b,r)),b=this.modifySourceForStage(R,b)}let p=this.getStyleItem(a,t,r),_=p?[p]:[];if(typeof a=="string"){if(f.type==="struct")throw new Error("Don't know how to deal with this");i.push({type:"field",field:f,saveDefinition:void 0,fieldIndex:o,isRefined:!1,styles:_.filter(b=>b.canRemove),isRenamed:!1,path:a,kind:f.type==="turtle"?"query":f.aggregate?"measure":"dimension",name:f.as||f.name,stages:l}),f.type!=="turtle"&&s.push({name:a,fieldIndex:o,type:f.type})}else if((0,V0.isFilteredAliasedName)(a)){if(f.type==="struct")throw new Error("Don't know how to deal with this");f.type!=="turtle"&&s.push({name:a.as||a.name,fieldIndex:o,type:f.type}),i.push({type:"field",field:f,saveDefinition:t===this.getSource()&&f.type!=="turtle"?this.fanToDef(a,f):void 0,fieldIndex:o,filters:this.getSummaryItemsForFilterList(t,a.filterList||[]),styles:_.filter(b=>b.canRemove),isRefined:!0,path:a.name,isRenamed:a.as!==void 0,name:a.as||a.name,kind:f.type==="turtle"?"query":f.aggregate?"measure":"dimension",stages:l})}else a.type==="turtle"?i.push({type:"nested_query_definition",name:a.as||a.name,fieldIndex:o,saveDefinition:t===this.getSource()?a:void 0,stages:l,styles:_}):(i.push({type:"field_definition",name:a.as||a.name,fieldIndex:o,field:a,saveDefinition:t===this.getSource()?a:void 0,source:a.code,kind:a.aggregate?"measure":"dimension",styles:_}),s.push({name:a.as||a.name,fieldIndex:o,type:a.type}))}catch(l){i.push({type:"error_field",field:a,name:this.nameOf(a),error:l.message,fieldIndex:o})}}if(e.limit&&i.push({type:"limit",limit:e.limit}),e.type==="reduce"&&e.orderBy)for(let o=0;o<e.orderBy.length;o++){let a=e.orderBy[o],l;typeof a.field=="string"?l=e.fields.findIndex(p=>this.nameOf(p)===a.field):l=a.field-1;let f=e.fields[l];if(f!==void 0){let p;if(typeof f=="string"?p=this.getField(t,f):(0,V0.isFilteredAliasedName)(f)?p=this.getField(t,f.as||f.name):p=f,p.type==="struct"||p.type==="turtle")continue;i.push({type:"order_by",byField:{type:p.type,fieldIndex:l,name:this.nameOf(p)},direction:a.dir,orderByIndex:o})}}return{items:i,orderByFields:s,inputSource:t}}fanToDef(e,t){let r=[e.name];e.filterList&&e.filterList.length>0&&(r.push(" {",Vw,"where:"),r.push(...this.getFiltersString(e.filterList||[])),r.push(Ww,"}"));let i=FTe(r);return{type:t.type,name:e.as||e.name,e:["ignore"],aggregate:t.aggregate,code:i}}},Vw=Symbol("indent"),My=Symbol("newline"),Ww=Symbol("outdent"),mxt=2;function FTe(n){let e="",t=0,r=!0;for(let i of n)i===My?(e+=`
`,r=!0):i===Ww?t--:i===Vw?t++:(r&&(e+=" ".repeat(t*mxt),r=!1),e+=i);return e}m();var DTe=fr(up());async function xxt(n,e,t,r){if(S2()){let s=await nAe(n,r,e);if(s instanceof Error)throw s;return s}let i=await(await fetch("api/run_query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:n,modelPath:t,queryName:r})})).json();return DTe.Result.fromJSON(i.result)}function RTe(n,e,t){let{data:r,mutateAsync:i,isLoading:s,reset:o}=IJ(({query:l,queryName:f})=>xxt(l,e,t,f),{onError:n});return{result:r,runQuery:(l,f)=>{o(),i({query:l,queryName:f})},isRunning:s,clearResult:o}}function Iue(n,e,t,r){let i=(0,I4.useRef)(new kue(void 0)),[s,o]=(0,I4.useState)(),[a,l]=(0,I4.useState)(!1),[,f]=(0,I4.useState)(0),p=(0,I4.useRef)({size:0,position:0}),_=n5(),b=(0,I4.useRef)({}),R=re=>{i.current.updateSource(re)},O=i.current.getQuery()?.name,{result:j,runQuery:$,isRunning:L,clearResult:q}=RTe(o,n,e),P=()=>{let re=i.current.getQuerySummary({...r,...b.current}),Re={stageIndex:re?re.stages.length-1:0};o(void 0),i.current?.hasLimit(Re)||W(ft=>ft.addLimit(Re,10),!0);let nt=i.current.getQuery();if(i.current?.canRun()){let ft=i.current.getQueryStringForModel();$(ft,nt.name),l(!1)}},W=(re,Re=!1)=>{let nt=JSON.parse(JSON.stringify(i.current.getQuery()));if(re(i.current),f(ft=>ft+1),i.current?.canRun())try{let ft=i.current.getQueryStringForModel();Re||t({run:Re,query:ft,styles:b.current}),l(!0),o(void 0)}catch(ft){i.current.setQuery(nt),console.error(ft),o(ft)}else l(!0);if(!Re){let ft=p.current.position+1;p.current.position=ft,p.current.size=ft}},oe=()=>{p.current.position>0&&(p.current.position--,_(-1))},I=()=>{p.current.position<p.current.size&&(p.current.position++,_(1))},J=()=>{p.current.position=0,p.current.size=0},he=(re=!1)=>{i.current.isEmpty()||(W(Re=>{Re.clearQuery(),b.current={}},re),q(),t({run:!1,query:void 0,styles:{}}))},ye=(re,Re)=>{W(nt=>nt.toggleField(re,Re))},He=(re,Re)=>{W(nt=>nt.removeField(re,Re))},at=(re,Re)=>{W(nt=>nt.addFilter(re,Re))},ct=(re,Re,nt,ft)=>{W(Rt=>Rt.editFilter(re,Re,nt,ft))},Ze=(re,Re,nt)=>{W(ft=>ft.removeFilter(re,Re,nt))},bt=(re,Re)=>{W(nt=>nt.addLimit(re,Re))},Mt=(re,Re)=>{W(nt=>nt.addStage(re,Re))},qe=re=>{W(Re=>Re.removeStage(re))},te=(re,Re,nt)=>{W(ft=>ft.addOrderBy(re,Re,nt))},et=(re,Re,nt)=>{W(ft=>ft.editOrderBy(re,Re,nt))},Ee=(re,Re)=>{W(nt=>nt.removeOrderBy(re,Re))},ke=re=>{W(Re=>Re.removeLimit(re))},Ce=(re,Re,nt)=>{W(ft=>ft.renameField(re,Re,nt))},pe=(re,Re,nt,ft)=>{W(Rt=>Rt.addFilterToField(re,Re,nt,ft))},Je=(re,Re)=>{W(nt=>nt.addNewNestedQuery(re,Re))},lt=(re,Re)=>{W(nt=>nt.addNewField(re,Re))},Ht=(re,Re=!1)=>{W(nt=>nt.setQuery(re),Re)},wt=(re,Re,nt)=>{W(ft=>ft.editFieldDefinition(re,Re,nt))},mn=(re,Re,nt)=>{W(ft=>ft.editFieldDefinition(re,Re,nt))},kt=(re,Re)=>{W(nt=>nt.reorderFields(re,Re))},Bt=(re,Re)=>{W(nt=>nt.replaceWithDefinition(re,Re))},tn=re=>{W(Re=>Re.loadQuery(re))},Et=re=>{W(Re=>Re.replaceQuery(re))},ve=lt,Le=re=>{W(Re=>{Re.clearQuery();for(let nt of re)Re.addFilter({stageIndex:0},nt)})},_e=(re,Re,nt=!1)=>{let ft={...b.current};return Re===void 0?re in ft&&delete ft[re]:ft[re]={renderer:Re},W(()=>{b.current=ft},nt),ft},ce=(re,Re=!1)=>{W(()=>{b.current=re},Re)},tt={...r,...b.current},Ke=i.current.getQuerySummary(tt);return{dirty:a,queryBuilder:i,queryMalloy:i.current.getQueryStrings(b.current[O]?.renderer,e),queryName:O,clearQuery:he,runQuery:P,isRunning:L,clearResult:q,source:i.current.getSource(),querySummary:Ke,dataStyles:tt,result:j,error:s,canUndo:p.current.position>0,canRedo:p.current.position<p.current.size,setError:o,registerNewSource:R,undo:oe,redo:I,resetUndoHistory:J,isQueryEmpty:i.current.isEmpty(),canQueryRun:i.current.canRun(),queryModifiers:{setDataStyles:ce,setQuery:Ht,addFilter:at,toggleField:ye,addLimit:bt,addOrderBy:te,addNewNestedQuery:Je,addNewDimension:lt,addNewMeasure:ve,setDataStyle:_e,addStage:Mt,loadQuery:tn,replaceQuery:Et,updateFieldOrder:kt,removeField:He,removeFilter:Ze,removeLimit:ke,removeOrderBy:Ee,renameField:Ce,addFilterToField:pe,editLimit:bt,editFilter:ct,replaceWithDefinition:Bt,editDimension:wt,editMeasure:mn,editOrderBy:et,removeStage:qe,clearQuery:he,onDrill:Le}}}m();m();var tce=fr(Fr());m();m();m();var QO=fr(Fr()),OTe=n=>QO.createElement("svg",{width:"110px",height:"110px",viewBox:"6 6 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},QO.createElement("title",null,"insert_group_by"),QO.createElement("g",{id:"insert_group_by",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},QO.createElement("path",{d:"M31.7463881,49.3114698 C32.6824928,49.3083801 33.6154932,49.1963884 34.5261904,48.9793527 L45.0010173,67.8024842 L45.0010173,67.8032565 C43.2956473,70.2493007 42.5480527,73.2367133 42.8986175,76.1988173 C43.2492613,79.1601303 44.6742783,81.890304 46.9033203,83.870708 C49.1330544,85.851903 52.0117188,86.9463056 54.9937928,86.9463056 C57.9758669,86.9463056 60.8545313,85.8518634 63.0834745,83.870708 C65.3132086,81.890304 66.7382058,79.1601303 67.0889682,76.1988173 C67.4396121,73.2369111 66.6919779,70.2493007 64.9865684,67.8032565 L75.4613953,48.980125 L75.4613953,48.9793527 C78.5099046,49.699958 81.7183727,49.2180056 84.4200741,47.6338999 C87.1225664,46.0505653 89.1106817,43.4862425 89.9717699,40.4749053 C90.8328581,37.4635681 90.5008399,34.235723 89.0449384,31.4630387 C87.5882658,28.6903544 85.1197206,26.584791 82.151685,25.5847028 C79.1834516,24.5837248 75.9441385,24.7652355 73.1066007,26.0913707 C70.2688652,27.4167347 68.0507969,29.7848559 66.9138836,32.7028673 L43.0841815,32.7028673 C42.0044302,29.9371034 39.9514417,27.6601133 37.310837,26.3015513 C34.6702324,24.9429696 31.623898,24.5961814 28.7454313,25.32606 C25.8669647,26.0559385 23.3534966,27.8122421 21.6791694,30.2652067 C20.0046839,32.7173803 19.284138,35.6972794 19.6532888,38.644554 C20.021708,41.5910378 21.4544362,44.3012413 23.6819162,46.2662229 C25.9086844,48.2303345 28.776474,49.3139413 31.7460915,49.3115686 L31.7463881,49.3114698 Z M54.9987359,80.3146003 C53.5304767,80.3146003 52.1224442,79.7314725 51.0836021,78.6934213 C50.0455509,77.6545989 49.4624231,76.2465862 49.4624231,74.7782874 C49.4624231,73.3099887 50.0455509,71.9019957 51.0836021,70.8639445 C52.1224245,69.8251221 53.5304372,69.2419944 54.9987359,69.2419944 C56.4670347,69.2419944 57.8750277,69.8251221 58.9138698,70.8639445 C59.951921,71.9019957 60.5350488,73.3099887 60.5350488,74.7782874 C60.5350488,76.2465862 59.951921,77.6545792 58.9138698,78.6934213 C57.8750474,79.7314725 56.4670347,80.3146003 54.9987359,80.3146003 Z M78.2510838,31.5953952 C79.7193431,31.5953952 81.1273755,32.1785229 82.1654268,33.2165742 C83.203478,34.2553966 83.7873769,35.6634093 83.7873769,37.131708 C83.7873769,38.6000068 83.203478,40.0079998 82.1654268,41.046051 C81.1273755,42.0848734 79.7193826,42.6680011 78.2510838,42.6680011 C76.7828246,42.6680011 75.3740012,42.0848734 74.33595,41.046051 C73.2978987,40.0079998 72.714771,38.6000068 72.714771,37.131708 C72.714771,35.6634093 73.2978987,34.2554163 74.33595,33.2165742 C75.3740012,32.1785229 76.7827851,31.5953952 78.2510838,31.5953952 Z M43.7166018,39.3459801 L66.2808701,39.3459801 C66.7149337,41.7696815 67.8734779,44.0047541 69.6028318,45.75738 L59.7591401,63.5727121 C56.7137943,62.2774614 53.2720118,62.2774614 50.2258752,63.5727121 L40.3380911,45.75738 C42.0882652,44.0118524 43.2661865,41.7758109 43.7156132,39.3459801 L43.7166018,39.3459801 Z M31.7465858,31.5953952 C33.214845,31.5953952 34.6236684,32.1785229 35.6617196,33.2165742 C36.6997709,34.2553966 37.2828986,35.6634093 37.2828986,37.131708 C37.2828986,38.6000068 36.6997709,40.0079998 35.6617196,41.046051 C34.6236684,42.0848734 33.2148846,42.6680011 31.7465858,42.6680011 C30.2783266,42.6680011 28.8702941,42.0848734 27.8322428,41.046051 C26.7941916,40.0079998 26.2102927,38.6000068 26.2102927,37.131708 C26.2102927,35.6634093 26.7941916,34.2554163 27.8322428,33.2165742 C28.8702941,32.1785229 30.278287,31.5953952 31.7465858,31.5953952 L31.7465858,31.5953952 Z",id:"Shape-Copy-3",fill:"#4285F4",fillRule:"nonzero",className:"primaryfill"})));m();var Wx=fr(Fr()),NTe=n=>Wx.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Wx.createElement("title",null,"insert_measure"),Wx.createElement("g",{id:"insert_measure",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Wx.createElement("path",{d:"M64.4079772,43.4952662 C64.4079772,65.775216 64.4079772,77.6781315 64.4079772,79.2040126 C64.4079772,81.4928343 72.4309475,81.4935567 72.4309475,79.2040126 C72.4309475,77.6776499 72.4309475,65.7747344 72.4309475,43.4952662 L82.1242499,53.5032288 C82.9082803,54.3127101 83.9390395,54.7167092 84.9596343,54.7167092 C85.980229,54.7167092 87.0118722,54.3119686 87.7950187,53.5032288 C89.3623612,51.8850077 89.3623612,49.2552488 87.7950187,47.6371608 L71.2655269,30.5703346 C70.8943747,30.1871342 70.4404886,29.8781937 69.9456129,29.6650532 C69.9247535,29.6546561 69.9046123,29.6546561 69.883753,29.6435167 C69.4298852,29.4519166 68.9350096,29.3457171 68.4192709,29.3457171 C67.9035322,29.3457171 67.4086565,29.4519147 66.9547887,29.6435167 C66.9339294,29.6539139 66.9137882,29.6539139 66.8929288,29.6650532 C66.3980532,29.8781937 65.9441854,30.1863928 65.5730149,30.5703346 L49.0328429,47.6474271 C47.4655004,49.2656482 47.4655004,51.8954071 49.0328429,53.5134951 C50.6001855,55.1205753 53.1472623,55.1205753 54.714476,53.5023554 L64.4079772,43.4952662 Z",id:"Path-Copy-3",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero",transform:"translate(68.413931, 55.133308) rotate(-270.000000) translate(-68.413931, -55.133308) "}),Wx.createElement("rect",{id:"Rectangle-Copy-50",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero",transform:"translate(32.019040, 39.025784) rotate(-90.000000) translate(-32.019040, -39.025784) ",x:24.0122609,y:34.8667243,width:16.0135574,height:8.31811859}),Wx.createElement("rect",{id:"Rectangle-Copy-51",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero",transform:"translate(32.019040, 72.330197) rotate(-90.000000) translate(-32.019040, -72.330197) ",x:24.0122609,y:68.1711376,width:16.0135574,height:8.31811859}),Wx.createElement("circle",{id:"Oval-Copy-16",className:"primarystroke",stroke:"#4285F4",strokeWidth:7,fillRule:"nonzero",transform:"translate(32.019040, 88.946306) rotate(-180.000000) translate(-32.019040, -88.946306) ",cx:32.0190396,cy:88.9463056,r:9.09652528}),Wx.createElement("circle",{id:"Oval-Copy-20",className:"primarystroke",stroke:"#4285F4",strokeWidth:7,fillRule:"nonzero",transform:"translate(32.019040, 55.133308) rotate(-90.000000) translate(-32.019040, -55.133308) ",cx:32.0190396,cy:55.1333084,r:9.09652528}),Wx.createElement("circle",{id:"Oval-Copy-21",className:"primarystroke",stroke:"#4285F4",strokeWidth:7,fillRule:"nonzero",cx:32.0190396,cy:23.2007668,r:9.09652528})));m();var GO=fr(Fr()),LTe=n=>GO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},GO.createElement("title",null,"insert_filter"),GO.createElement("g",{id:"insert_filter",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},GO.createElement("path",{d:"M87.3843313,20.5 C88.0702245,20.5 88.6794354,20.684137 89.1839151,20.9924545 C89.72968,21.3260038 90.1536978,21.8060023 90.4194477,22.364077 C90.6824778,22.9164401 90.7905536,23.5453405 90.7077209,24.1843828 C90.641307,24.6967561 90.4522801,25.21669 90.1181537,25.7073778 L89.9660074,25.9157747 L65.9667297,54.9330833 L65.9667297,86.0952768 C65.9667297,87.3578277 65.3421199,88.3687734 64.46847,88.9512067 C64.0000984,89.2634544 63.4591929,89.4523731 62.9014864,89.49211 C62.4335638,89.5254497 61.9536386,89.4542406 61.4987219,89.2647425 L61.3053966,89.1762469 L45.2981054,81.501442 C44.7448345,81.2248066 44.1940182,80.794047 43.8075879,80.2144017 C43.516589,79.7779032 43.3168206,79.2579753 43.2760203,78.6543848 L43.268304,78.4241163 L43.268304,54.9330833 L19.2778986,25.9265022 C18.8405281,25.4244753 18.5999563,24.8470099 18.5253334,24.2601464 C18.4451968,23.6299215 18.5577673,22.9877736 18.8297244,22.4166636 C19.0989541,21.8512813 19.5239716,21.3563425 20.06756,21.0111708 C20.5069962,20.7321343 21.0239609,20.5500465 21.6001779,20.5088845 L21.8507024,20.5 L87.3843313,20.5 Z M80.4108174,26.9794004 L28.8312662,26.9794004 L49.2106529,51.6044926 L49.3557497,51.8317181 C49.767411,52.5135117 49.9668805,53.1962297 49.9668805,53.8764024 L49.9668805,53.8764024 L49.9668805,76.3587304 L59.2681532,80.9104171 L59.2681532,53.6572264 L59.2765596,53.4785743 C59.3429907,52.7639199 59.7932531,52.0547544 60.2732157,51.568472 L60.2732157,51.568472 L80.4108174,26.9794004 Z",id:"Shape-Copy-2",stroke:"#4285F4",fill:"#4285F4",className:"primaryfill primarystroke",fillRule:"nonzero"})));m();var Py=fr(Fr()),kTe=n=>Py.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Py.createElement("title",null,"insert_limit"),Py.createElement("g",{id:"insert_limit",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Py.createElement("rect",{id:"Rectangle-Copy-46",className:"primaryfill",fill:"#4285F4",x:24,y:23,width:61.9377906,height:8,rx:4}),Py.createElement("rect",{id:"Rectangle-Copy-47",className:"primaryfill",fill:"#4285F4",x:24,y:39,width:61.9377906,height:8,rx:4}),Py.createElement("rect",{id:"Rectangle-Copy-48",className:"primaryfill",fill:"#4285F4",x:24,y:55,width:53.5,height:8,rx:4}),Py.createElement("rect",{id:"Rectangle-Copy-49",className:"primaryfill",fill:"#4285F4",x:24,y:71.1904762,width:40,height:7.61904762,rx:3.80952381}),Py.createElement("path",{d:"M77.1113683,65.3807638 L87.6203313,83.396129 C87.8986116,83.8731809 87.7374754,84.4854986 87.2604234,84.7637789 C87.1074874,84.8529916 86.933607,84.9 86.7565524,84.9 L65.7386264,84.9 C65.1863417,84.9 64.7386264,84.4522847 64.7386264,83.9 C64.7386264,83.7229454 64.7856348,83.549065 64.8748475,83.396129 L75.3838105,65.3807638 C75.6620908,64.9037119 76.2744085,64.7425757 76.7514604,65.020856 C76.9004641,65.1077747 77.0244495,65.2317602 77.1113683,65.3807638 Z",id:"Triangle-Copy-2",fill:"#4285F4",className:"primaryfill",transform:"translate(76.247589, 74.400000) rotate(-90.000000) translate(-76.247589, -74.400000) "})));m();var YO=fr(Fr()),ITe=n=>YO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},YO.createElement("title",null,"insert_nest"),YO.createElement("g",{id:"insert_nest",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},YO.createElement("path",{d:"M27.3181186,27 C29.5272576,27 31.3181186,28.790861 31.3181186,31 L31.318,59.317 L72.9431634,59.317258 L62.9360743,49.6237568 C61.3178543,48.0565431 61.3178543,45.5094664 62.9249345,43.9421238 C64.5430225,42.3747812 67.1727815,42.3747812 68.7910025,43.9421238 L68.7910025,43.9421238 L85.8680951,60.4822957 C86.2520369,60.8534663 86.560236,61.307334 86.7733764,61.8022097 C86.7845158,61.823069 86.7845158,61.8432103 86.7949129,61.8640696 C86.986515,62.3179374 87.0927126,62.812813 87.0927126,63.3285517 C87.0927126,63.8442904 86.9865131,64.3391661 86.7949129,64.7930338 C86.7837736,64.8138932 86.7837736,64.8340344 86.7733764,64.8548938 C86.560236,65.3497694 86.2512954,65.8036556 85.8680951,66.1748077 L85.8680951,66.1748077 L68.8012688,82.7042995 C67.1831809,84.2716421 64.5534219,84.2716421 62.9352009,82.7042995 C62.1264611,81.921153 61.7217204,80.8895099 61.7217204,79.8689151 C61.7217204,78.8483204 62.1257196,77.8175611 62.9352009,77.0335308 L62.9352009,77.0335308 L72.9431634,67.3402284 L27.234417,67.3402284 C25.2840646,67.3402284 23.6511005,66.037955 23.2100653,64.2817501 C23.0737364,63.8793045 23,63.4482633 23,63 L23,31 C23,28.790861 24.790861,27 27,27 L27.3181186,27 Z",id:"Combined-Shape-Copy",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"})));m();var Qw=fr(Fr()),MTe=n=>Qw.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Qw.createElement("title",null,"insert_order_by"),Qw.createElement("g",{id:"insert_order_by",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Qw.createElement("path",{d:"M30.5506412,37.7046734 L30.5506412,81.9762916 C30.5506412,84.1931505 32.3445678,85.9877768 34.5621264,85.9877768 C36.7789852,85.9877768 38.5736115,84.1938502 38.5736115,81.9762916 L38.5736115,37.7046734 L48.2669139,47.3979757 C49.0509443,48.1820061 50.0817035,48.5733031 51.1022983,48.5733031 C52.122893,48.5733031 53.1545362,48.1812879 53.9376827,47.3979757 C55.5050252,45.8306331 55.5050252,43.2835564 53.9376827,41.7163427 L37.4081909,25.1861143 C37.0370387,24.8149622 36.5831526,24.515735 36.0882769,24.3092959 C36.0674175,24.2992257 36.0472763,24.2992257 36.026417,24.2884366 C35.5725492,24.1028605 35.0776736,24 34.5619349,24 C34.0461961,24 33.5513205,24.1028586 33.0974527,24.2884366 C33.0765934,24.2985068 33.0564522,24.2985068 33.0355928,24.3092959 C32.5407172,24.515735 32.0868494,24.814244 31.7156789,25.1861143 L15.1755069,41.7262862 C13.6081644,43.2936288 13.6081644,45.8407055 15.1755069,47.4079192 C16.7428495,48.9644712 19.2899263,48.9644712 20.85714,47.3971298 L30.5506412,37.7046734 Z",id:"Path-Copy",fill:"#4285F4",fillRule:"nonzero",className:"primaryfill"}),Qw.createElement("path",{d:"M79.9439284,72.2964315 L79.9439284,28.0137648 C79.9439284,25.796906 78.1500018,24.0022797 75.9324432,24.0022797 C73.7155844,24.0022797 71.920958,25.7962062 71.920958,28.0137648 L71.920958,72.2853831 L62.2276557,62.5920808 C60.6603131,61.0247382 58.1233641,61.0247382 56.5460227,62.5920808 C54.9786801,64.1594234 54.9786801,66.7065001 56.5460227,68.2737138 L73.0861946,84.8138857 C73.4573467,85.1850378 73.9112329,85.484265 74.4061086,85.6907041 C74.4269679,85.7007743 74.4471091,85.7007743 74.4679685,85.7115634 C74.9218362,85.8971395 75.4167119,86 75.9324506,86 C76.4481893,86 76.943065,85.8971414 77.3969327,85.7115634 C77.4177921,85.7014932 77.4379333,85.7014932 77.4587926,85.6907041 C77.9536683,85.484265 78.407536,85.185756 78.7787066,84.8138857 L95.3188785,68.2737138 C96.8862211,66.7063712 96.8862211,64.1592945 95.3188785,62.5920808 C93.7515359,61.0355288 91.2044592,61.0355288 89.6372455,62.6028702 L79.9439284,72.2964315 Z",id:"Path-Copy-2",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero"})));m();var jE=fr(Fr()),PTe=n=>jE.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},jE.createElement("title",null,"item_rename"),jE.createElement("g",{id:"item_rename",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},jE.createElement("g",{id:"noun-rename-3187972",transform:"translate(19.000000, 29.000000)",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"},jE.createElement("path",{d:"M70.5666667,14.4545455 L48.6666667,14.4545455 L48.6666667,4.81818182 L51.1,4.81818182 C51.9695899,4.81818182 52.7728819,4.35895403 53.2074057,3.61363636 C53.6419295,2.8683187 53.6419295,1.94984935 53.2074057,1.20454545 C52.7728819,0.459241558 51.9695621,0 51.1,0 L41.3666667,0 C40.4970768,0 39.6937848,0.459227792 39.259261,1.20454545 C38.8247371,1.94986312 38.8247371,2.86833247 39.259261,3.61363636 C39.6937848,4.35894026 40.4971046,4.81818182 41.3666667,4.81818182 L43.8,4.81818182 L43.8,14.4545455 L2.43333333,14.4545455 C1.78806895,14.4545455 1.1688621,14.7083673 0.712619048,15.1600649 C0.256376,15.6117626 0,16.2248005 0,16.8636364 L0,36.1363636 C0,36.7751995 0.256376,37.3882374 0.712619048,37.8399351 C1.1688621,38.2916327 1.78806895,38.5454545 2.43333333,38.5454545 L43.8,38.5454545 L43.8,48.1818182 L41.3666667,48.1818182 C40.4970768,48.1818182 39.6937848,48.641046 39.259261,49.3863636 C38.8247371,50.1316813 38.8247371,51.0501506 39.259261,51.7954545 C39.6937848,52.5407584 40.4971046,53 41.3666667,53 L51.1,53 C51.9695899,53 52.7728819,52.5407722 53.2074057,51.7954545 C53.6419295,51.0501369 53.6419295,50.1316675 53.2074057,49.3863636 C52.7728819,48.6410597 51.9695621,48.1818182 51.1,48.1818182 L48.6666667,48.1818182 L48.6666667,38.5454545 L70.5666667,38.5454545 C71.211931,38.5454545 71.8311379,38.2916327 72.287381,37.8399351 C72.743624,37.3882374 73,36.7751995 73,36.1363636 L73,16.8636364 C73,16.2248005 72.743624,15.6117626 72.287381,15.1600649 C71.8311379,14.7083673 71.211931,14.4545455 70.5666667,14.4545455 Z M4.86666667,33.7272727 L4.86666667,19.2727273 L43.8,19.2727273 L43.8,33.7272727 L4.86666667,33.7272727 Z M68.1333333,33.7272727 L48.6666667,33.7272727 L48.6666667,19.2727273 L68.1333333,19.2727273 L68.1333333,33.7272727 Z",id:"Shape"}),jE.createElement("path",{d:"M36.5833621,24 L12.4166379,24 C11.553002,24 10.7552101,24.4765571 10.3236615,25.25 C9.89211284,26.0234429 9.89211284,26.9765714 10.3236615,27.75 C10.7552101,28.5234286 11.5530297,29 12.4166379,29 L36.5833621,29 C37.446998,29 38.2447899,28.5234429 38.6763385,27.75 C39.1078872,26.9765571 39.1078872,26.0234286 38.6763385,25.25 C38.2447899,24.4765714 37.4469703,24 36.5833621,24 Z",id:"Path"}))));m();var qE=fr(Fr()),BTe=n=>qE.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},qE.createElement("title",null,"item_edit"),qE.createElement("g",{id:"item_edit",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},qE.createElement("g",{id:"noun-edit-1269277",transform:"translate(24.000000, 19.000000)",fill:"#4285F4",fillRule:"nonzero",stroke:"#4285F4",className:"primaryfill primarystroke"},qE.createElement("path",{d:"M3.59891474,39.407072 L3.06867736,55.867955 C3.03311545,56.9719519 3.89925313,57.8957468 5.00325002,57.9313087 C5.0461704,57.9326913 5.08912418,57.9326911 5.13204455,57.9313083 L21.5822973,57.4013025 C22.0903599,57.3849333 22.5731262,57.1757204 22.9324738,56.8161862 L59.5846859,20.1449445 C60.3655318,19.3636932 60.3652031,18.0973633 59.5839519,17.3165174 C59.5834627,17.3160285 59.5829732,17.3155398 59.5824835,17.3150514 L43.6370127,1.4108896 C42.8555349,0.631436244 41.5903551,0.632410128 40.8100781,1.41306566 L4.18332144,38.057592 C3.82420961,38.416878 3.61526942,38.8993513 3.59891474,39.407072 Z M19.6812157,53.0009522 L9.73874131,53.3226566 C8.63474957,53.358378 7.71082953,52.4923738 7.67510814,51.388382 C7.67371403,51.3452961 7.6737133,51.3021764 7.67510597,51.2590905 L7.99671088,41.3093667 C8.01311902,40.8017362 8.22204313,40.3193622 8.58108638,39.9601325 L30.3814317,18.1484685 C31.1612436,17.3682518 32.4255308,17.3667397 33.2072068,18.1450889 L42.8519496,27.7487844 C43.634662,28.5281657 43.6373624,29.7944927 42.8579812,30.5772051 C42.8571049,30.5780852 42.8562277,30.5789644 42.8553498,30.5798429 L21.0311311,52.4158307 C20.6718495,52.7753061 20.1891879,52.984516 19.6812157,53.0009522 Z M46.0079854,24.5968587 L36.3860729,14.9699505 C35.6062481,14.1882519 35.6062481,12.922488 36.3860729,12.1407894 L40.8083468,7.71621952 C41.5884586,6.93423458 42.8547885,6.93390593 43.6360397,7.71475178 C43.6362845,7.7149964 43.6365292,7.71524109 43.6360397,7.71621952 L53.2579523,17.3431277 C54.0377771,18.1248263 54.0377771,19.3905902 53.2579523,20.1722888 L48.8356784,24.5968587 C48.0555666,25.3788436 46.7892367,25.3791723 46.0079854,24.5983264 C46.0077407,24.5980818 46.007496,24.5978371 46.0079854,24.5968587 Z",id:"Shape"}),qE.createElement("path",{d:"M2,64 L60,64 C61.1045695,64 62,64.8954305 62,66 C62,67.1045695 61.1045695,68 60,68 L2,68 C0.8954305,68 1.3527075e-16,67.1045695 0,66 C-1.3527075e-16,64.8954305 0.8954305,64 2,64 Z",id:"Path"}))));m();var Gw=fr(Fr()),Yw=n=>Gw.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Gw.createElement("title",null,"query_clear_hover"),Gw.createElement("g",{id:"query_clear_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Gw.createElement("circle",{className:"circle hoverfill",fill:"transparent",cx:55,cy:55,r:55}),Gw.createElement("path",{d:"M78.1428571,25 L85,31.8571429 L61.857,55 L85,78.1428571 L78.1428571,85 L55,61.857 L31.8571429,85 L25,78.1428571 L48.142,55 L25,31.8571429 L31.8571429,25 L55,48.143 L78.1428571,25 Z",className:"cross primaryfill",fill:"#4285F4"})));m();var Kw=fr(Fr()),jTe=n=>Kw.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Kw.createElement("title",null,"query_add_hover"),Kw.createElement("g",{id:"query_add_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Kw.createElement("circle",{id:"Oval",className:"hoverfill",fill:"transparent",cx:55,cy:55,r:55}),Kw.createElement("path",{d:"M75.8285714,28 L82,34.1714286 L61.171,55 L82,75.8285714 L75.8285714,82 L54.999,61.171 L34.1714286,82 L28,75.8285714 L48.828,55 L28,34.1714286 L34.1714286,28 L55,48.829 L75.8285714,28 Z",id:"Combined-Shape-Copy",fill:"#4285F4",className:"primaryfill",transform:"translate(55.000000, 55.000000) rotate(-315.000000) translate(-55.000000, -55.000000) "})));m();var Jw=fr(Fr()),qTe=n=>Jw.createElement("svg",{width:"112px",height:"112px",viewBox:"0 0 112 112",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Jw.createElement("title",null,"query_run_hover"),Jw.createElement("g",{id:"query_run_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Jw.createElement("circle",{id:"Oval-Copy-2",className:"hoverfill",fill:"#EAF2FF",cx:56,cy:56,r:55.5}),Jw.createElement("path",{d:"M62,32.5734278 L89.4027789,80.75 L34.5972211,80.75 L62,32.5734278 Z",id:"Triangle",className:"primarystroke",stroke:"#4285F4",strokeWidth:6.5,transform:"translate(62.000000, 55.000000) rotate(-270.000000) translate(-62.000000, -55.000000) "})));m();var M4=fr(Fr()),UTe=n=>M4.createElement("svg",{width:"112px",height:"112px",viewBox:"0 0 112 112",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},M4.createElement("title",null,"query_save_hover"),M4.createElement("g",{id:"query_save_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M4.createElement("circle",{id:"Oval-Copy-2",className:"hoverfill",fill:"#EAF2FF",cx:56,cy:56,r:55.5}),M4.createElement("path",{d:"M55.9991771,28.3532333 L55.9991771,34.8532333 L32.864,34.8532333 L32.864,80.1272333 L53.9292984,65.9165518 L74.994,80.1272333 L74.9931771,54.8692333 L81.4941771,54.8692333 L81.4944197,92.3532333 L53.9292984,73.7573595 L26.3641771,92.3532333 L26.3641771,28.3532333 L55.9991771,28.3532333 Z",id:"Combined-Shape-Copy",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero"}),M4.createElement("rect",{id:"Rectangle-Copy-2",className:"primaryfill",fill:"#4285F4",x:75.006375,y:19.6467667,width:6.48804474,height:24}),M4.createElement("rect",{id:"Rectangle-Copy-3",className:"primaryfill",fill:"#4285F4",transform:"translate(78.250397, 31.646767) rotate(-270.000000) translate(-78.250397, -31.646767) ",x:75.006375,y:19.6467667,width:6.48804474,height:24})));m();var KO=fr(Fr()),FH=n=>KO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},KO.createElement("title",null,"cahevron_down"),KO.createElement("g",{id:"cahevron_down",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},KO.createElement("path",{d:"M52.9466923,41.3127809 C54.0529774,40.2742275 55.7502198,40.2309545 56.9057514,41.1829617 L57.0533077,41.3127809 L81.5533077,64.3127809 C82.7612755,65.4467914 82.8212296,67.34534 81.6872191,68.5533077 C80.5968243,69.7148152 78.7995712,69.8149195 77.5890551,68.8127704 L77.4466923,68.6872191 L54.9999906,47.615 L32.5533077,68.6872191 C31.3918003,69.7776139 29.5918121,69.7641211 28.4469384,68.6875913 L28.3127809,68.5533077 C27.2223861,67.3918003 27.2358789,65.5918121 28.3124087,64.4469384 L28.4466923,64.3127809 L52.9466923,41.3127809 Z",id:"Path",fill:"#979797",fillRule:"nonzero",transform:"translate(55.000000, 55.000005) rotate(-180.000000) translate(-55.000000, -55.000005) "})));m();var Xw=fr(Fr()),Mue=n=>Xw.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Xw.createElement("title",null,"item_duplicate"),Xw.createElement("g",{id:"item_duplicate",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Xw.createElement("rect",{id:"Rectangle",stroke:"#4285F4",className:"primarystroke",strokeWidth:6,x:29.4307692,y:24,width:30.0923077,height:41.7692308,rx:5}),Xw.createElement("rect",{id:"Rectangle-Copy",stroke:"#4285F4",className:"primarystroke",strokeWidth:6,fill:"none",x:47.4769231,y:45.2307692,width:30.0923077,height:41.7692308,rx:5})));m();var UE=fr(Fr()),DH=n=>UE.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},UE.createElement("title",null,"viz_scatter"),UE.createElement("g",{id:"viz_scatter",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},UE.createElement("path",{d:"M29.1340462,83.93 C36.5885775,83.93 42.6340462,77.8857969 42.6340462,70.43 C42.6340462,62.9742031 36.5885775,56.93 29.1340462,56.93 C21.679515,56.93 15.6340462,62.9742031 15.6340462,70.43 C15.6340462,77.8857969 21.679515,83.93 29.1340462,83.93 Z",id:"Path-Copy-3",stroke:"#9aa0a6",className:"primarystroke",strokeWidth:7,fillRule:"nonzero"}),UE.createElement("path",{d:"M68.2840462,92.63 C73.6709212,92.63 78.0340462,88.264925 78.0340462,82.88 C78.0340462,77.495075 73.6709212,73.13 68.2840462,73.13 C62.8971712,73.13 58.5340462,77.495075 58.5340462,82.88 C58.5340462,88.264925 62.8971712,92.63 68.2840462,92.63 Z",id:"Path-Copy-2",stroke:"#9aa0a6",className:"primarystroke",strokeWidth:7,fillRule:"nonzero",transform:"translate(68.284046, 82.880000) rotate(-360.000000) translate(-68.284046, -82.880000) "}),UE.createElement("path",{d:"M67.8242963,57.43 C78.8701296,57.43 87.8242963,48.4758333 87.8242963,37.43 C87.8242963,26.3842917 78.8701296,17.43 67.8242963,17.43 C56.7784629,17.43 47.8242963,26.3842917 47.8242963,37.43 C47.8242963,48.4758333 56.7784629,57.43 67.8242963,57.43 Z",id:"Path-Copy",stroke:"#9aa0a6",className:"primarystroke",strokeWidth:7,fillRule:"nonzero"})));m();var $E=fr(Fr()),$Te=n=>$E.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},$E.createElement("title",null,"alert_outline"),$E.createElement("g",{id:"alert_outline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},$E.createElement("path",{d:"M54.0787732,20.8756898 C55.4385401,20.5119661 56.9370629,20.666976 58.2520419,21.4269314 C59.0865559,21.9092155 59.7796762,22.6023358 60.2619602,23.4368497 L60.2619602,23.4368497 L90.6657826,76.0457109 C91.425738,77.3606899 91.5807479,78.8592127 91.2170242,80.2189797 C90.8533006,81.5787466 89.9708433,82.7997576 88.6558643,83.559713 C87.8192733,84.0431974 86.8700737,84.2977528 85.9038224,84.2977528 L85.9038224,84.2977528 L25.0961776,84.2977528 C23.5773946,84.2977528 22.2023946,83.6821443 21.2070903,82.6868401 C20.2117861,81.6915359 19.5961776,80.3165359 19.5961776,78.7977528 C19.5961776,77.8315015 19.850733,76.8823018 20.3342174,76.0457109 L20.3342174,76.0457109 L50.7380398,23.4368497 C51.4979952,22.1218707 52.7190062,21.2394134 54.0787732,20.8756898 Z",id:"Triangle",stroke:"#EA4335",strokeWidth:7}),$E.createElement("polygon",{id:"Path",fill:"#EA4335",fillRule:"nonzero",points:"50.4640684 39.8293463 60.4640684 39.8293463 60.4640684 60.8293463 50.4640684 60.8293463"}),$E.createElement("path",{d:"M60.464247,71.3304517 C60.464247,74.092878 58.2250065,76.331047 55.4636517,76.331047 C52.7022969,76.331047 50.4630564,74.0929673 50.4630564,71.3304517 C50.4630564,68.5691861 52.7022969,66.331047 55.4636517,66.331047 C58.2250065,66.331047 60.464247,68.5691266 60.464247,71.3304517",id:"Path",fill:"#EA4335",fillRule:"nonzero"})));m();var JO=fr(Fr()),zTe=n=>JO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},JO.createElement("title",null,"pipeline"),JO.createElement("g",{id:"pipeline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},JO.createElement("path",{d:"M27,28 C27.5522847,28 28,28.4477153 28,29 L28,30.416 L54.4420782,30.4163284 C56.5842736,30.4163284 58.3331571,32.1002969 58.4371829,34.2166881 L58.4420782,34.4163284 L58.442,72.416 L82,72.416 L82,71 C82,70.4477153 82.4477153,70 83,70 L87,70 C87.5522847,70 88,70.4477153 88,71 L88,82 C88,82.5522847 87.5522847,83 87,83 L83,83 C82.4477153,83 82,82.5522847 82,82 L82,80.416 L54.4420782,80.4163284 C52.2998828,80.4163284 50.5509993,78.73236 50.4469735,76.6159688 L50.4420782,76.4163284 L50.442,38.416 L28,38.416 L28,40 C28,40.5522847 27.5522847,41 27,41 L23,41 C22.4477153,41 22,40.5522847 22,40 L22,29 C22,28.4477153 22.4477153,28 23,28 L27,28 Z",id:"Combined-Shape",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero"})));m();var XO=fr(Fr()),RH=n=>XO.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},XO.createElement("title",null,"type-icon-projection"),XO.createElement("g",{id:"type-icon-projection",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},XO.createElement("path",{d:"M11.3362588,4 L11.3362588,12 L8,9.90676786 L4.6637412,12 L4.6637412,4 L11.3362588,4 Z M10.336,5 L5.663,5 L5.663,10.191 L8,8.72623637 L10.336,10.191 L10.336,5 Z",id:"Rectangle",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"})));m();var zE=fr(Fr()),HTe=n=>zE.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},zE.createElement("title",null,"move_icon_outline"),zE.createElement("g",{id:"move_icon_outline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},zE.createElement("g",{id:"Group",transform:"translate(25.000000, 17.000000)",fillRule:"nonzero",stroke:"#979797",className:"primarystroke",strokeWidth:6},zE.createElement("path",{d:"M32.8776058,2.98037748 L53.4553591,24.2930505 C54.9898149,25.8823083 54.9453892,28.4145786 53.3561313,29.9490344 C52.6104198,30.6690317 51.6143254,31.0714286 50.5777533,31.0714286 L9.42224672,31.0714286 C7.21310772,31.0714286 5.42224672,29.2805676 5.42224672,27.0714286 C5.42224672,26.0348564 5.82464355,25.038762 6.54464088,24.2930505 L27.1223942,2.98037748 C28.65685,1.39111966 31.1891202,1.34669386 32.7783781,2.88114969 C32.8120317,2.91364284 32.8451127,2.94672386 32.8776058,2.98037748 Z",id:"Triangle"}),zE.createElement("path",{d:"M32.8776058,47.9803775 L53.4553591,69.2930505 C54.9898149,70.8823083 54.9453892,73.4145786 53.3561313,74.9490344 C52.6104198,75.6690317 51.6143254,76.0714286 50.5777533,76.0714286 L9.42224672,76.0714286 C7.21310772,76.0714286 5.42224672,74.2805676 5.42224672,72.0714286 C5.42224672,71.0348564 5.82464355,70.038762 6.54464088,69.2930505 L27.1223942,47.9803775 C28.65685,46.3911197 31.1891202,46.3466939 32.7783781,47.8811497 C32.8120317,47.9136428 32.8451127,47.9467239 32.8776058,47.9803775 Z",id:"Triangle-Copy",transform:"translate(30.000000, 60.535714) rotate(-180.000000) translate(-30.000000, -60.535714) "}))));m();var Pue=fr(Fr()),VTe=n=>Pue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px.0",viewBox:"-2 -2 24 24",width:"24px.0",fill:"#9aa0a6",className:"primaryfill",role:"img",...n},Pue.createElement("path",{d:"M19.6 21.0 13.3 14.7Q12.55 15.3 11.575 15.65Q10.6 16.0 9.5 16.0Q6.775 16.0 4.8875 14.1125Q3.0 12.225 3.0 9.5Q3.0 6.775 4.8875 4.8875Q6.775 3.0 9.5 3.0Q12.225 3.0 14.1125 4.8875Q16.0 6.775 16.0 9.5Q16.0 10.6 15.65 11.575Q15.3 12.55 14.7 13.3L21.0 19.6ZM9.5 14.0Q11.375 14.0 12.6875 12.6875Q14.0 11.375 14.0 9.5Q14.0 7.625 12.6875 6.3125Q11.375 5.0 9.5 5.0Q7.625 5.0 6.3125 6.3125Q5.0 7.625 5.0 9.5Q5.0 11.375 6.3125 12.6875Q7.625 14.0 9.5 14.0Z"}));m();var ZO=fr(Fr()),WTe=n=>ZO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},ZO.createElement("title",null,"project_folder"),ZO.createElement("g",{id:"project_folder",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},ZO.createElement("path",{d:"M24.1875,84 C22.7375,84 21.46875,83.4411458 20.38125,82.3234375 C19.29375,81.2057292 18.75,79.9520833 18.75,78.5625 L18.75,31.4375 C18.75,30.0479167 19.29375,28.7942708 20.38125,27.6765625 C21.46875,26.5588542 22.7375,26 24.1875,26 L49.5625,26 L55,31.4375 L85.8125,31.4375 C87.2020833,31.4375 88.4557292,31.9963542 89.5734375,33.1140625 C90.6911458,34.2317708 91.25,35.4854167 91.25,36.875 L91.25,78.5625 C91.25,79.9520833 90.6911458,81.2057292 89.5734375,82.3234375 C88.4557292,83.4411458 87.2020833,84 85.8125,84 L24.1875,84 Z M24.1875,31.4375 L24.1875,78.5625 L85.8125,78.5625 L85.8125,36.875 L52.734375,36.875 L47.296875,31.4375 L24.1875,31.4375 Z M24.1875,31.4375 L24.1875,78.5625 L24.1875,31.4375 Z",id:"Shape",fill:"#606368",fillRule:"nonzero"})));m();var By=fr(Fr()),QTe=n=>By.createElement("svg",{width:"15px",height:"14px",viewBox:"-2 -2 18 17",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},By.createElement("title",null,"panel_icon_query"),By.createElement("g",{id:"window-org",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},By.createElement("g",{id:"z",transform:"translate(-76.000000, -86.000000)",fill:"#939BA5",className:"primaryfill primarystroke",fillRule:"nonzero",stroke:"#939BA5",strokeWidth:.25},By.createElement("g",{id:"noun_explore_2232152-copy",transform:"translate(77.058375, 86.177891)"},By.createElement("path",{d:"M1.89319474,1.8964973 C0.960203984,2.8308601 0.313970678,4.05198036 0.0958154857,5.35679538 C-0.0112040426,5.99754051 -0.0331567664,6.6465179 0.0532820834,7.29137916 C0.142465024,7.96642542 0.327691131,8.61128668 0.614448585,9.22870704 C1.17698713,10.4429671 2.14839516,11.4761171 3.3173777,12.1264666 C4.44794297,12.7562353 5.77471072,13.0416207 7.06443324,12.9153926 C7.7092945,12.8522785 8.33769122,12.7054697 8.93590294,12.4543854 C9.58350829,12.1840925 10.1734877,11.8218725 10.7072133,11.3636094 C11.7101784,10.501965 12.4373624,9.31651793 12.7529328,8.03228359 C13.0602709,6.77960629 12.9944127,5.42814173 12.5388937,4.21936988 C12.0518177,2.92964736 11.1737087,1.82240685 10.0239348,1.06092175 C8.94139112,0.34334209 7.62834383,-0.0284821691 6.32901699,0.00170282605 C5.02557402,0.0318878212 3.72761922,0.457221844 2.67526053,1.23105536 C2.39810739,1.43411805 2.13604675,1.65364529 1.89319474,1.8964973 C1.74089772,2.04879432 1.72992136,2.32869155 1.89319474,2.47824448 C2.05784017,2.62916945 2.31166854,2.64014581 2.47494192,2.47824448 C2.61763463,2.33555177 2.76718756,2.19971929 2.92222867,2.07211909 C2.95790185,2.04330614 2.99494707,2.01449319 3.03062024,1.98568024 C3.08550205,1.94177479 2.9414373,2.05291045 3.02650411,1.98979637 C3.04296865,1.97744797 3.05806115,1.9664716 3.07452569,1.9541232 C3.15410432,1.89512525 3.23368294,1.8388714 3.31600565,1.78398959 C3.6329481,1.57269462 3.97047123,1.39158465 4.32171481,1.24340376 C4.28878573,1.25712422 4.25585664,1.27084467 4.22292755,1.28456512 C4.71411975,1.07875834 5.2313808,0.937437677 5.75961822,0.864719279 C5.722573,0.87020746 5.68689982,0.874323596 5.6498546,0.879811777 C6.19318451,0.807093379 6.7447467,0.807093379 7.28807661,0.879811777 C7.25103139,0.874323596 7.21535821,0.87020746 7.17831299,0.864719279 C7.70655041,0.937437677 8.22381146,1.07875834 8.71500366,1.28456512 C8.68207457,1.27084467 8.64914549,1.25712422 8.6162164,1.24340376 C8.8892534,1.35865556 9.15405813,1.493116 9.4078865,1.64815711 C9.53685875,1.72636369 9.66171487,1.8086864 9.7838269,1.8964973 C9.81538394,1.91982207 9.84831302,1.94314683 9.87987006,1.9664716 C9.90593892,1.98568024 10.0019821,2.06388682 9.89084642,1.97470388 C9.95258846,2.0240975 10.0157025,2.07349113 10.0760725,2.12562885 C10.3134364,2.32457541 10.5343356,2.5427306 10.7387704,2.77597829 C10.786792,2.8308601 10.8348135,2.88711396 10.8814631,2.94473986 C10.9061599,2.97492485 10.9308567,3.00648189 10.9555535,3.03803893 C10.9953428,3.08743256 10.9281126,3.00236576 10.9281126,3.00236576 C10.9445772,3.02294644 10.9596697,3.04489916 10.9761342,3.06547984 C11.0666892,3.18621982 11.151756,3.31107593 11.2327067,3.4373041 C11.4124446,3.71994541 11.5688577,4.01905128 11.699202,4.32776145 C11.6854816,4.29483237 11.6717611,4.26190328 11.6580407,4.2289742 C11.8638475,4.72016639 12.0051681,5.23742745 12.0778865,5.76566486 C12.0723983,5.72861964 12.0682822,5.69294646 12.062794,5.65590124 C12.1355124,6.19923116 12.1355124,6.75079334 12.062794,7.29412325 C12.0682822,7.25707803 12.0723983,7.22140486 12.0778865,7.18435964 C12.0051681,7.71259705 11.8638475,8.2298581 11.6580407,8.7210503 C11.6717611,8.68812121 11.6854816,8.65519213 11.699202,8.62226304 C11.5839502,8.89530004 11.4494898,9.16010477 11.2944487,9.41393314 C11.2162421,9.5429054 11.1339194,9.66776151 11.0461085,9.78987354 C11.0227837,9.82143058 10.999459,9.85435966 10.9761342,9.8859167 C10.9569256,9.91198556 10.878719,10.0080287 10.9679019,9.89689307 C10.9185083,9.9586351 10.8691147,10.0217492 10.816977,10.0821192 C10.6180304,10.319483 10.3998752,10.5403823 10.1666275,10.744817 C10.1117457,10.7928386 10.0554919,10.8408602 9.99786595,10.8875097 C9.96768096,10.9122065 9.93612392,10.9369034 9.90456688,10.9616002 C9.85517325,11.0013895 9.94024005,10.9341593 9.94024005,10.9341593 C9.91965937,10.9506238 9.89770665,10.9657163 9.87712597,10.9821808 C9.75638599,11.0727358 9.63152987,11.1578026 9.50530171,11.2387533 C9.22266039,11.4184912 8.92355453,11.5749044 8.61484435,11.7052487 C8.64777344,11.6915282 8.68070253,11.6778078 8.71363161,11.6640873 C8.22243942,11.8698941 7.70517836,12.0112148 7.17694095,12.0839332 C7.21398617,12.078445 7.24965934,12.0743289 7.28670457,12.0688407 C6.74337465,12.1415591 6.19181247,12.1415591 5.64848255,12.0688407 C5.68552778,12.0743289 5.72120095,12.078445 5.75824617,12.0839332 C5.23000876,12.0112148 4.7127477,11.8698941 4.22155551,11.6640873 C4.2544846,11.6778078 4.28741368,11.6915282 4.32034277,11.7052487 C4.04730576,11.5899969 3.78250103,11.4555365 3.52867267,11.3004953 C3.39970041,11.2222888 3.2748443,11.139966 3.15273227,11.0521552 C3.12117523,11.0288304 3.08824614,11.0055056 3.0566891,10.9821808 C3.03062024,10.9629722 2.93457708,10.8847656 3.04571274,10.9739486 C2.98397071,10.9245549 2.92085663,10.8751613 2.86048664,10.8230236 C2.62312281,10.624077 2.40222353,10.4059218 2.19778879,10.1726742 C2.1497672,10.1177923 2.10174562,10.0615385 2.05509608,10.0039126 C2.03039927,9.9737276 2.00570245,9.94217056 1.98100564,9.91061352 C1.94121633,9.86121989 2.00844654,9.94628669 2.00844654,9.94628669 C1.991982,9.92570602 1.9768895,9.90375329 1.96042496,9.88317261 C1.86986998,9.76243263 1.78480317,9.63757652 1.7038525,9.51134835 C1.52411458,9.22870704 1.36770142,8.92960118 1.23735712,8.620891 C1.25107757,8.65382008 1.26479803,8.68674917 1.27851848,8.71967825 C1.07271169,8.22848606 0.931391034,7.71122501 0.858672637,7.18298759 C0.864160818,7.22003281 0.868276953,7.25570599 0.873765134,7.29275121 C0.801046737,6.7494213 0.801046737,6.19785911 0.873765134,5.6545292 C0.868276953,5.69157442 0.864160818,5.72724759 0.858672637,5.76429282 C0.931391034,5.2360554 1.07271169,4.71879435 1.27851848,4.22760215 C1.26479803,4.26053124 1.25107757,4.29346032 1.23735712,4.32638941 C1.38553801,3.97514583 1.56664798,3.6376227 1.77794294,3.32068025 C1.83282475,3.23835754 1.88907861,3.15877891 1.94807655,3.07920029 C1.96042496,3.06273575 1.97140132,3.04764325 1.98374973,3.03117871 C2.04686381,2.94748395 1.93572815,3.0915487 1.97963359,3.03529484 C2.00844654,2.99824962 2.03725949,2.96257644 2.06607244,2.92690327 C2.19367265,2.77049011 2.32950513,2.62230923 2.47219783,2.47961652 C2.62449486,2.3273195 2.63684326,2.04742227 2.47219783,1.89786934 C2.3102965,1.74557232 2.05509608,1.73322391 1.89319474,1.8964973 Z",id:"Path"}),By.createElement("path",{d:"M6.16836964,6.17066644 C6.09118278,6.2541117 6.04424482,6.35633213 6.04320176,6.47211242 C6.04320176,6.58372045 6.08909665,6.69428542 6.16836964,6.77355841 C6.33004482,6.93731972 6.60854336,6.93731972 6.77126161,6.77355841 C6.93397986,6.60875403 6.93606599,6.33547082 6.77126161,6.17066644 C6.69198862,6.09139345 6.58142365,6.04549856 6.46981562,6.04549856 C6.35403533,6.04654162 6.25285796,6.09347958 6.16836964,6.17066644 C6.11100103,6.22386279 6.07657986,6.31460951 6.07657986,6.39179637 C6.07657986,6.46898323 6.11100103,6.55972994 6.16836964,6.61292629 C6.29770979,6.73183578 6.48233241,6.73183578 6.61062949,6.61292629 C6.61480176,6.60875403 6.62001708,6.60458177 6.62418935,6.60145257 C6.60332803,6.61814162 6.58246672,6.63378761 6.56056234,6.65047666 C6.5678638,6.64526133 6.57516526,6.64108907 6.58350978,6.63795987 C6.55847621,6.64839053 6.53344263,6.65882118 6.50840905,6.66925184 C6.51675358,6.66612264 6.52509811,6.66403651 6.53344263,6.66195038 C6.50527986,6.66612264 6.47816015,6.66925184 6.44999738,6.6734241 C6.4614711,6.67238104 6.47294482,6.67238104 6.48441854,6.6734241 C6.45625577,6.66925184 6.42913606,6.66612264 6.40097329,6.66195038 C6.41036088,6.66403651 6.41766234,6.66612264 6.42600687,6.66925184 C6.40097329,6.65882118 6.37593971,6.64839053 6.35090614,6.63795987 C6.35925066,6.64213213 6.36655212,6.6463044 6.37385358,6.65047666 C6.35299227,6.63378761 6.33213095,6.61814162 6.31022657,6.60145257 C6.32065723,6.60875403 6.32795869,6.61709856 6.33630322,6.62752921 C6.31961416,6.6066679 6.30396818,6.58580659 6.28727913,6.56390221 C6.29249446,6.57120367 6.29666672,6.57850513 6.29979592,6.58684965 C6.28936526,6.56181607 6.2789346,6.5367825 6.26850395,6.51174892 C6.27163314,6.52009345 6.27371927,6.52843797 6.27580541,6.5367825 C6.27163314,6.50861972 6.26850395,6.48150002 6.26433168,6.45333724 C6.26537475,6.46481096 6.26537475,6.47628469 6.26433168,6.48775841 C6.26850395,6.45959564 6.27163314,6.43247593 6.27580541,6.40431315 C6.27371927,6.41370075 6.27163314,6.42100221 6.26850395,6.42934673 C6.2789346,6.40431315 6.28936526,6.37927958 6.29979592,6.354246 C6.29562365,6.36259053 6.29145139,6.36989199 6.28727913,6.37719345 C6.30396818,6.35633213 6.31961416,6.33547082 6.33630322,6.31356644 C6.32900176,6.3239971 6.32065723,6.33129856 6.31022657,6.33964308 C6.33108789,6.32295403 6.3519492,6.30730805 6.37385358,6.29061899 C6.36655212,6.29583432 6.35925066,6.30000659 6.35090614,6.30313578 C6.37593971,6.29270513 6.40097329,6.28227447 6.42600687,6.27184381 C6.41766234,6.27497301 6.40931781,6.27705914 6.40097329,6.27914527 C6.42913606,6.27497301 6.45625577,6.27184381 6.48441854,6.26767155 C6.47294482,6.26871461 6.4614711,6.26871461 6.44999738,6.26767155 C6.47816015,6.27184381 6.50527986,6.27497301 6.53344263,6.27914527 C6.52405504,6.27705914 6.51675358,6.27497301 6.50840905,6.27184381 C6.53344263,6.28227447 6.55847621,6.29270513 6.58350978,6.30313578 C6.57516526,6.29896352 6.5678638,6.29479126 6.56056234,6.29061899 C6.58142365,6.30730805 6.60228497,6.32295403 6.62418935,6.33964308 C6.61375869,6.33234162 6.60645723,6.3239971 6.5981127,6.31356644 C6.61480176,6.33442775 6.63044774,6.35528907 6.64713679,6.37719345 C6.64192146,6.36989199 6.6377492,6.36259053 6.63462,6.354246 C6.64505066,6.37927958 6.65548132,6.40431315 6.66591197,6.42934673 C6.66278278,6.42100221 6.66069665,6.41265768 6.65861051,6.40431315 C6.66278278,6.43247593 6.66591197,6.45959564 6.67008424,6.48775841 C6.66904117,6.47628469 6.66904117,6.46481096 6.67008424,6.45333724 C6.66591197,6.48150002 6.66278278,6.50861972 6.65861051,6.5367825 C6.66069665,6.52739491 6.66278278,6.52009345 6.66591197,6.51174892 C6.65548132,6.5367825 6.64505066,6.56181607 6.63462,6.58684965 C6.63879227,6.57850513 6.64296453,6.57120367 6.64713679,6.56390221 C6.63044774,6.58476352 6.61480176,6.60562483 6.5981127,6.62752921 C6.6012419,6.62231388 6.60541416,6.61814162 6.60958643,6.61396936 C6.66591197,6.55347155 6.70137621,6.47628469 6.70137621,6.39283943 C6.70137621,6.31565257 6.66695504,6.22490586 6.60958643,6.17170951 C6.55013168,6.11747009 6.47190176,6.07679053 6.3884565,6.07991972 C6.30918351,6.08304892 6.22573825,6.11016863 6.16836964,6.17066644 Z",id:"Path"}),By.createElement("path",{d:"M3.68710555,9.70849202 C3.82738583,9.65557928 3.96889665,9.60389707 4.10917694,9.55098433 C4.44634184,9.42547039 4.78350674,9.29995644 5.12067165,9.1744425 C5.52551563,9.02308746 5.93159015,8.87296294 6.33643414,8.72160789 C6.68221275,8.59240236 7.02676082,8.46442736 7.37253943,8.33522183 C7.53004712,8.27615645 7.68878534,8.21955212 7.8450625,8.15925621 C7.84629303,8.15925621 7.84629303,8.15925621 7.84752356,8.15802568 C7.92504688,8.12726246 7.98780385,8.09280765 8.03948606,8.02512856 C8.07024928,7.98575164 8.08747668,7.94637472 8.10593462,7.89961462 C8.10716514,7.89592304 8.10839567,7.89346198 8.1096262,7.88977039 C8.11700938,7.8688514 8.12562308,7.84916294 8.13300625,7.82824395 C8.16746106,7.73841534 8.20068534,7.64981727 8.23514014,7.55998866 C8.3569625,7.24128169 8.47755433,6.92134419 8.59937668,6.60263722 C8.75196226,6.20025429 8.90577836,5.79787136 9.05836394,5.3942579 C9.19618317,5.03248242 9.3340024,4.67070694 9.47182163,4.30770093 C9.54688389,4.11081632 9.62194615,3.91270118 9.69700841,3.71581656 C9.70069999,3.70720286 9.70439158,3.69735863 9.70685264,3.68874493 C9.80283389,3.43648651 9.50504591,3.13869853 9.2527875,3.23467978 C9.11373774,3.28759252 8.97591851,3.34050526 8.83686875,3.393418 C8.50339543,3.52016248 8.16992212,3.64690695 7.8364488,3.77365142 C7.43283534,3.92746752 7.02799135,4.08128363 6.62437789,4.23509973 C6.27367717,4.36799685 5.92297645,4.50212449 5.57227573,4.63502161 C5.39877116,4.70147016 5.2252666,4.76545766 5.05176203,4.83313675 C5.04930097,4.83436728 5.04560939,4.83559781 5.04314833,4.83682834 C4.99638823,4.85528627 4.95701131,4.87251367 4.91763439,4.90327689 C4.85118583,4.9549591 4.81550049,5.01771608 4.78473727,5.09523939 C4.78473727,5.09646992 4.78473727,5.09646992 4.78350674,5.09770045 C4.7773541,5.1124668 4.77243198,5.12846367 4.76627934,5.14323002 C4.73551612,5.22444492 4.70598343,5.30689035 4.67522021,5.38810526 C4.55955049,5.69942905 4.44265025,6.01075285 4.32698054,6.32330718 C4.17685602,6.72569011 4.02673151,7.12807304 3.87660699,7.53045597 C3.74001829,7.89592304 3.60466011,8.2613901 3.46807141,8.62685717 C3.39300915,8.82743337 3.31917742,9.02677904 3.24411516,9.22735524 C3.24042358,9.23719947 3.23673199,9.24581318 3.23427093,9.25565741 C3.20227718,9.3405639 3.22688776,9.46484731 3.2711868,9.53990957 C3.31548584,9.61620236 3.40408391,9.69003409 3.49145146,9.70972255 C3.70064136,9.75771317 3.8729154,9.64573505 3.9455166,9.45131149 C3.99719881,9.31349226 4.04888103,9.1744425 4.10056324,9.03662327 C4.22361612,8.70684154 4.346669,8.37582928 4.46972189,8.04604755 C4.61984641,7.64489515 4.7687404,7.24374275 4.91886492,6.84135982 C5.04807044,6.49558121 5.17604544,6.14980261 5.30525097,5.80525453 C5.36800794,5.63667208 5.43568703,5.46932016 5.49352188,5.29827665 C5.49475241,5.29581559 5.49475241,5.29335454 5.49598294,5.29089348 C5.40984592,5.3770305 5.3237089,5.46316752 5.23757189,5.54930454 C5.37785217,5.4963918 5.51690193,5.44347905 5.65718222,5.38933579 C5.99065554,5.26259132 6.32535938,5.13584684 6.6588327,5.00787185 C7.06490722,4.85405574 7.47098173,4.69900911 7.87705625,4.545193 C8.22775697,4.41229589 8.57968822,4.27816824 8.93038894,4.14527113 C9.10020192,4.08128363 9.27247596,4.02098771 9.44105841,3.95084757 C9.44351947,3.94961704 9.44598052,3.94838651 9.44844158,3.94838651 C9.29708653,3.79703146 9.14573149,3.64567642 8.99437644,3.49432137 C8.9414637,3.63460166 8.88855096,3.77365142 8.83440769,3.9139317 C8.70766322,4.24740502 8.58091875,4.58210887 8.45294375,4.91558218 C8.29912764,5.3216567 8.14408101,5.72773122 7.9902649,6.13380574 C7.85736779,6.48450645 7.72324015,6.8364377 7.59034303,7.18713842 C7.52635553,7.3569514 7.45621539,7.52553385 7.39591947,7.69780789 C7.39468895,7.70026895 7.39345842,7.70273001 7.39345842,7.70519107 C7.47959544,7.61905405 7.56573245,7.53291703 7.65186947,7.44678001 C7.51405024,7.49846222 7.37500048,7.55014443 7.23718125,7.60182664 C6.90739952,7.72487953 6.57638727,7.84793241 6.24660554,7.9709853 C5.84545313,8.12110981 5.44430073,8.2700038 5.0419178,8.42012832 C4.6961392,8.54933385 4.35036059,8.67730885 4.00581252,8.80651438 C3.83723006,8.86927135 3.66741708,8.93079779 3.49883463,8.99478529 C3.49637358,8.99601582 3.49391252,8.99601582 3.49145146,8.99724635 C3.3991618,9.03170116 3.32163848,9.07969178 3.2711868,9.16705933 C3.2244267,9.24581318 3.20473824,9.36271342 3.23427093,9.45131149 C3.29087526,9.62850765 3.49391252,9.78109322 3.68710555,9.70849202 Z",id:"Path"})))));m();var HE=fr(Fr()),GTe=n=>HE.createElement("svg",{width:"112px",height:"112px",viewBox:"0 0 112 112",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},HE.createElement("title",null,"query_redo_hover copy"),HE.createElement("g",{id:"query_redo_hover-copy",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},HE.createElement("g",{id:"Group",transform:"translate(0.500000, 0.500000)"},HE.createElement("circle",{id:"Oval-Copy",className:"hoverfill",fill:"#EAF2FF",cx:55.5,cy:55.5,r:55.5}),HE.createElement("path",{className:"primaryfill",d:"M64.8866667,87.5 L34.1666667,87.5 L34.1666667,81.1 L64.9933333,81.1 C69.9711111,81.1 74.2555556,79.4466667 77.8466667,76.14 C81.4377778,72.8333333 83.2333333,68.7266667 83.2333333,63.82 C83.2333333,58.9133333 81.4377778,54.8066667 77.8466667,51.5 C74.2555556,48.1933333 69.9711111,46.54 64.9933333,46.54 L33.5266667,46.54 L45.6866667,58.7 L41.2066667,63.18 L21.3666667,43.34 L41.2066667,23.5 L45.6866667,27.98 L33.5266667,40.14 L64.8866667,40.14 C71.6422222,40.14 77.4555556,42.4155556 82.3266667,46.9666667 C87.1977778,51.5177778 89.6333333,57.1355556 89.6333333,63.82 C89.6333333,70.5044444 87.1977778,76.1222222 82.3266667,80.6733333 C77.4555556,85.2244444 71.6422222,87.5 64.8866667,87.5 Z",id:"Path",fill:"#4285F4",fillRule:"nonzero",transform:"translate(55.500000, 55.500000) scale(-1, 1) translate(-55.500000, -55.500000) "}))));m();var VE=fr(Fr()),YTe=n=>VE.createElement("svg",{width:"112px",height:"112px",viewBox:"0 0 112 112",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},VE.createElement("title",null,"query_undo_hover"),VE.createElement("g",{id:"query_undo_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},VE.createElement("g",{id:"Group",transform:"translate(0.500000, 0.500000)"},VE.createElement("circle",{id:"Oval-Copy",className:"hoverfill",fill:"#EAF2FF",cx:55.5,cy:55.5,r:55.5}),VE.createElement("path",{d:"M64.8866667,87.5 L34.1666667,87.5 L34.1666667,81.1 L64.9933333,81.1 C69.9711111,81.1 74.2555556,79.4466667 77.8466667,76.14 C81.4377778,72.8333333 83.2333333,68.7266667 83.2333333,63.82 C83.2333333,58.9133333 81.4377778,54.8066667 77.8466667,51.5 C74.2555556,48.1933333 69.9711111,46.54 64.9933333,46.54 L33.5266667,46.54 L45.6866667,58.7 L41.2066667,63.18 L21.3666667,43.34 L41.2066667,23.5 L45.6866667,27.98 L33.5266667,40.14 L64.8866667,40.14 C71.6422222,40.14 77.4555556,42.4155556 82.3266667,46.9666667 C87.1977778,51.5177778 89.6333333,57.1355556 89.6333333,63.82 C89.6333333,70.5044444 87.1977778,76.1222222 82.3266667,80.6733333 C77.4555556,85.2244444 71.6422222,87.5 64.8866667,87.5 Z",id:"Path",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero"}))));var ta=({action:n,onClick:e,color:t})=>{let s={...{width:"22px",height:"22px"},...{onClick:e,style:{cursor:e?"pointer":"unset"}}};return v.createElement(gxt,{color:t,doHover:e!==void 0},n==="group_by"?v.createElement(OTe,{...s}):n==="aggregate"?v.createElement(NTe,{...s}):n==="filter"?v.createElement(LTe,{...s}):n==="limit"?v.createElement(kTe,{...s}):n==="nest"?v.createElement(ITe,{...s}):n==="order_by"?v.createElement(MTe,{...s}):n==="remove"?v.createElement(Yw,{...s}):n==="rename"?v.createElement(PTe,{...s}):n==="add"?v.createElement(jTe,{...s}):n==="save"?v.createElement(UTe,{...s}):n==="container-open"?v.createElement(FH,{...s}):n==="container-closed"?v.createElement(iH,{...s}):n==="duplicate"?v.createElement(Mue,{...s}):n==="copy"?v.createElement(Mue,{...s}):n==="style"?v.createElement(DH,{...s}):n==="stage"?v.createElement(zTe,{...s}):n==="error"?v.createElement($Te,{...s}):n==="load"?v.createElement(RH,{...s}):n==="move"?v.createElement(HTe,{...s}):n==="edit"?v.createElement(BTe,{...s}):n==="search"?v.createElement(VTe,{...s}):n==="open-directory"?v.createElement(WTe,{...s}):n==="run"?v.createElement(qTe,{...s}):n==="analysis"?v.createElement(QTe,{...s}):n==="undo"?v.createElement(YTe,{...s}):n==="redo"?v.createElement(GTe,{...s}):null)},gxt=In.div`
  display: flex;
  ${({color:n,doHover:e})=>n===void 0?"":`
      svg .hoverfill {
        fill: transparent;
      }
      ${n!==void 0&&`
        svg .primaryfill {
          fill: ${mi[n].fillStrong};
        }
        svg .primarystroke {
          stroke: ${mi[n].fillStrong};
        }
      `}
      ${n!==void 0&&e&&`
        svg:hover .hoverfill {
          fill: ${mi[n].fillLight};
        }
      `}
    `}
`;m();m();var eb=fr(Fr());m();m();var OH=fr(Fr());var Bue=function(e){return e.reduce(function(t,r){var i=r[0],s=r[1];return t[i]=s,t},{})},jue=typeof window!="undefined"&&window.document&&window.document.createElement?OH.useLayoutEffect:OH.useEffect;m();var j4=fr(Fr()),vFe=fr(zI());m();m();var Hl="top",Zc="bottom",Oc="right",ic="left",NH="auto",P4=[Hl,Zc,Oc,ic],jy="start",WE="end",KTe="clippingParents",LH="viewport",Zw="popper",JTe="reference",que=P4.reduce(function(n,e){return n.concat([e+"-"+jy,e+"-"+WE])},[]),kH=[].concat(P4,[NH]).reduce(function(n,e){return n.concat([e,e+"-"+jy,e+"-"+WE])},[]),yxt="beforeRead",vxt="read",_xt="afterRead",Ext="beforeMain",bxt="main",Sxt="afterMain",Cxt="beforeWrite",wxt="write",Axt="afterWrite",XTe=[yxt,vxt,_xt,Ext,bxt,Sxt,Cxt,wxt,Axt];m();m();function Df(n){return n?(n.nodeName||"").toLowerCase():null}m();m();function ml(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function P1(n){var e=ml(n).Element;return n instanceof e||n instanceof Element}function ef(n){var e=ml(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function e9(n){if(typeof ShadowRoot=="undefined")return!1;var e=ml(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function Txt(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!ef(s)||!Df(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Fxt(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),a=o.reduce(function(l,f){return l[f]="",l},{});!ef(i)||!Df(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var ZTe={name:"applyStyles",enabled:!0,phase:"write",fn:Txt,effect:Fxt,requires:["computeStyles"]};m();m();function Rf(n){return n.split("-")[0]}m();m();m();var Wm=Math.max,QE=Math.min,qy=Math.round;m();m();function t9(){var n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function eN(){return!/^((?!chrome|android).)*safari/i.test(t9())}function B1(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&ef(n)&&(i=n.offsetWidth>0&&qy(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&qy(r.height)/n.offsetHeight||1);var o=P1(n)?ml(n):window,a=o.visualViewport,l=!eN()&&t,f=(r.left+(l&&a?a.offsetLeft:0))/i,p=(r.top+(l&&a?a.offsetTop:0))/s,_=r.width/i,b=r.height/s;return{width:_,height:b,top:p,right:f+_,bottom:p+b,left:f,x:f,y:p}}function GE(n){var e=B1(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}m();function tN(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&e9(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}m();m();function Id(n){return ml(n).getComputedStyle(n)}m();function Uue(n){return["table","td","th"].indexOf(Df(n))>=0}m();m();function s0(n){return((P1(n)?n.ownerDocument:n.document)||window.document).documentElement}function Uy(n){return Df(n)==="html"?n:n.assignedSlot||n.parentNode||(e9(n)?n.host:null)||s0(n)}function eFe(n){return!ef(n)||Id(n).position==="fixed"?null:n.offsetParent}function Dxt(n){var e=/firefox/i.test(t9()),t=/Trident/i.test(t9());if(t&&ef(n)){var r=Id(n);if(r.position==="fixed")return null}var i=Uy(n);for(e9(i)&&(i=i.host);ef(i)&&["html","body"].indexOf(Df(i))<0;){var s=Id(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Qm(n){for(var e=ml(n),t=eFe(n);t&&Uue(t)&&Id(t).position==="static";)t=eFe(t);return t&&(Df(t)==="html"||Df(t)==="body"&&Id(t).position==="static")?e:t||Dxt(n)||e}m();function YE(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}m();function KE(n,e,t){return Wm(n,QE(e,t))}function tFe(n,e,t){var r=KE(n,e,t);return r>t?t:r}m();m();function nN(){return{top:0,right:0,bottom:0,left:0}}function rN(n){return Object.assign({},nN(),n)}m();function iN(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var Rxt=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,rN(typeof e!="number"?e:iN(e,P4))};function Oxt(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,o=t.modifiersData.popperOffsets,a=Rf(t.placement),l=YE(a),f=[ic,Oc].indexOf(a)>=0,p=f?"height":"width";if(!(!s||!o)){var _=Rxt(i.padding,t),b=GE(s),R=l==="y"?Hl:ic,O=l==="y"?Zc:Oc,j=t.rects.reference[p]+t.rects.reference[l]-o[l]-t.rects.popper[p],$=o[l]-t.rects.reference[l],L=Qm(s),q=L?l==="y"?L.clientHeight||0:L.clientWidth||0:0,P=j/2-$/2,W=_[R],oe=q-b[p]-_[O],I=q/2-b[p]/2+P,J=KE(W,I,oe),he=l;t.modifiersData[r]=(e={},e[he]=J,e.centerOffset=J-I,e)}}function Nxt(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!tN(e.elements.popper,i)||(e.elements.arrow=i))}var nFe={name:"arrow",enabled:!0,phase:"main",fn:Oxt,effect:Nxt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};m();m();function j1(n){return n.split("-")[1]}var Lxt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function kxt(n){var e=n.x,t=n.y,r=window,i=r.devicePixelRatio||1;return{x:qy(e*i)/i||0,y:qy(t*i)/i||0}}function rFe(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,f=n.adaptive,p=n.roundOffsets,_=n.isFixed,b=o.x,R=b===void 0?0:b,O=o.y,j=O===void 0?0:O,$=typeof p=="function"?p({x:R,y:j}):{x:R,y:j};R=$.x,j=$.y;var L=o.hasOwnProperty("x"),q=o.hasOwnProperty("y"),P=ic,W=Hl,oe=window;if(f){var I=Qm(t),J="clientHeight",he="clientWidth";if(I===ml(t)&&(I=s0(t),Id(I).position!=="static"&&a==="absolute"&&(J="scrollHeight",he="scrollWidth")),I=I,i===Hl||(i===ic||i===Oc)&&s===WE){W=Zc;var ye=_&&I===oe&&oe.visualViewport?oe.visualViewport.height:I[J];j-=ye-r.height,j*=l?1:-1}if(i===ic||(i===Hl||i===Zc)&&s===WE){P=Oc;var He=_&&I===oe&&oe.visualViewport?oe.visualViewport.width:I[he];R-=He-r.width,R*=l?1:-1}}var at=Object.assign({position:a},f&&Lxt),ct=p===!0?kxt({x:R,y:j}):{x:R,y:j};if(R=ct.x,j=ct.y,l){var Ze;return Object.assign({},at,(Ze={},Ze[W]=q?"0":"",Ze[P]=L?"0":"",Ze.transform=(oe.devicePixelRatio||1)<=1?"translate("+R+"px, "+j+"px)":"translate3d("+R+"px, "+j+"px, 0)",Ze))}return Object.assign({},at,(e={},e[W]=q?j+"px":"",e[P]=L?R+"px":"",e.transform="",e))}function Ixt(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,o=s===void 0?!0:s,a=t.roundOffsets,l=a===void 0?!0:a;if(!1)var f;var p={placement:Rf(e.placement),variation:j1(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,rFe(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,rFe(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var iFe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ixt,data:{}};m();var IH={passive:!0};function Mxt(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=ml(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&f.forEach(function(p){p.addEventListener("scroll",t.update,IH)}),a&&l.addEventListener("resize",t.update,IH),function(){s&&f.forEach(function(p){p.removeEventListener("scroll",t.update,IH)}),a&&l.removeEventListener("resize",t.update,IH)}}var sFe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Mxt,data:{}};m();m();var Pxt={left:"right",right:"left",bottom:"top",top:"bottom"};function n9(n){return n.replace(/left|right|bottom|top/g,function(e){return Pxt[e]})}m();var Bxt={start:"end",end:"start"};function MH(n){return n.replace(/start|end/g,function(e){return Bxt[e]})}m();m();m();m();m();function JE(n){var e=ml(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function XE(n){return B1(s0(n)).left+JE(n).scrollLeft}function $ue(n,e){var t=ml(n),r=s0(n),i=t.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var f=eN();(f||!f&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+XE(n),y:l}}m();function zue(n){var e,t=s0(n),r=JE(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=Wm(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Wm(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+XE(n),l=-r.scrollTop;return Id(i||t).direction==="rtl"&&(a+=Wm(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}m();m();m();function ZE(n){var e=Id(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function PH(n){return["html","body","#document"].indexOf(Df(n))>=0?n.ownerDocument.body:ef(n)&&ZE(n)?n:PH(Uy(n))}function B4(n,e){var t;e===void 0&&(e=[]);var r=PH(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=ml(r),o=i?[s].concat(s.visualViewport||[],ZE(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(B4(Uy(o)))}m();function r9(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function jxt(n,e){var t=B1(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function oFe(n,e,t){return e===LH?r9($ue(n,t)):P1(e)?jxt(e,t):r9(zue(s0(n)))}function qxt(n){var e=B4(Uy(n)),t=["absolute","fixed"].indexOf(Id(n).position)>=0,r=t&&ef(n)?Qm(n):n;return P1(r)?e.filter(function(i){return P1(i)&&tN(i,r)&&Df(i)!=="body"}):[]}function Hue(n,e,t,r){var i=e==="clippingParents"?qxt(n):[].concat(e),s=[].concat(i,[t]),o=s[0],a=s.reduce(function(l,f){var p=oFe(n,f,r);return l.top=Wm(p.top,l.top),l.right=QE(p.right,l.right),l.bottom=QE(p.bottom,l.bottom),l.left=Wm(p.left,l.left),l},oFe(n,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}m();function sN(n){var e=n.reference,t=n.element,r=n.placement,i=r?Rf(r):null,s=r?j1(r):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(i){case Hl:l={x:o,y:e.y-t.height};break;case Zc:l={x:o,y:e.y+e.height};break;case Oc:l={x:e.x+e.width,y:a};break;case ic:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var f=i?YE(i):null;if(f!=null){var p=f==="y"?"height":"width";switch(s){case jy:l[f]=l[f]-(e[p]/2-t[p]/2);break;case WE:l[f]=l[f]+(e[p]/2-t[p]/2);break;default:}}return l}function Gm(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,o=s===void 0?n.strategy:s,a=t.boundary,l=a===void 0?KTe:a,f=t.rootBoundary,p=f===void 0?LH:f,_=t.elementContext,b=_===void 0?Zw:_,R=t.altBoundary,O=R===void 0?!1:R,j=t.padding,$=j===void 0?0:j,L=rN(typeof $!="number"?$:iN($,P4)),q=b===Zw?JTe:Zw,P=n.rects.popper,W=n.elements[O?q:b],oe=Hue(P1(W)?W:W.contextElement||s0(n.elements.popper),l,p,o),I=B1(n.elements.reference),J=sN({reference:I,element:P,strategy:"absolute",placement:i}),he=r9(Object.assign({},P,J)),ye=b===Zw?he:I,He={top:oe.top-ye.top+L.top,bottom:ye.bottom-oe.bottom+L.bottom,left:oe.left-ye.left+L.left,right:ye.right-oe.right+L.right},at=n.modifiersData.offset;if(b===Zw&&at){var ct=at[i];Object.keys(He).forEach(function(Ze){var bt=[Oc,Zc].indexOf(Ze)>=0?1:-1,Mt=[Hl,Zc].indexOf(Ze)>=0?"y":"x";He[Ze]+=ct[Mt]*bt})}return He}m();function Vue(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,f=l===void 0?kH:l,p=j1(r),_=p?a?que:que.filter(function(O){return j1(O)===p}):P4,b=_.filter(function(O){return f.indexOf(O)>=0});b.length===0&&(b=_);var R=b.reduce(function(O,j){return O[j]=Gm(n,{placement:j,boundary:i,rootBoundary:s,padding:o})[Rf(j)],O},{});return Object.keys(R).sort(function(O,j){return R[O]-R[j]})}function Uxt(n){if(Rf(n)===NH)return[];var e=n9(n);return[MH(n),e,MH(e)]}function $xt(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,a=o===void 0?!0:o,l=t.fallbackPlacements,f=t.padding,p=t.boundary,_=t.rootBoundary,b=t.altBoundary,R=t.flipVariations,O=R===void 0?!0:R,j=t.allowedAutoPlacements,$=e.options.placement,L=Rf($),q=L===$,P=l||(q||!O?[n9($)]:Uxt($)),W=[$].concat(P).reduce(function(lt,Ht){return lt.concat(Rf(Ht)===NH?Vue(e,{placement:Ht,boundary:p,rootBoundary:_,padding:f,flipVariations:O,allowedAutoPlacements:j}):Ht)},[]),oe=e.rects.reference,I=e.rects.popper,J=new Map,he=!0,ye=W[0],He=0;He<W.length;He++){var at=W[He],ct=Rf(at),Ze=j1(at)===jy,bt=[Hl,Zc].indexOf(ct)>=0,Mt=bt?"width":"height",qe=Gm(e,{placement:at,boundary:p,rootBoundary:_,altBoundary:b,padding:f}),te=bt?Ze?Oc:ic:Ze?Zc:Hl;oe[Mt]>I[Mt]&&(te=n9(te));var et=n9(te),Ee=[];if(s&&Ee.push(qe[ct]<=0),a&&Ee.push(qe[te]<=0,qe[et]<=0),Ee.every(function(lt){return lt})){ye=at,he=!1;break}J.set(at,Ee)}if(he)for(var ke=O?3:1,Ce=function(Ht){var wt=W.find(function(mn){var kt=J.get(mn);if(kt)return kt.slice(0,Ht).every(function(Bt){return Bt})});if(wt)return ye=wt,"break"},pe=ke;pe>0;pe--){var Je=Ce(pe);if(Je==="break")break}e.placement!==ye&&(e.modifiersData[r]._skip=!0,e.placement=ye,e.reset=!0)}}var aFe={name:"flip",enabled:!0,phase:"main",fn:$xt,requiresIfExists:["offset"],data:{_skip:!1}};m();function uFe(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function lFe(n){return[Hl,Oc,Zc,ic].some(function(e){return n[e]>=0})}function zxt(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Gm(e,{elementContext:"reference"}),a=Gm(e,{altBoundary:!0}),l=uFe(o,r),f=uFe(a,i,s),p=lFe(l),_=lFe(f);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:f,isReferenceHidden:p,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":_})}var cFe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:zxt};m();function Hxt(n,e,t){var r=Rf(n),i=[ic,Hl].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[ic,Oc].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Vxt(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,o=kH.reduce(function(p,_){return p[_]=Hxt(_,e.rects,s),p},{}),a=o[e.placement],l=a.x,f=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=o}var fFe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Vxt};m();function Wxt(n){var e=n.state,t=n.name;e.modifiersData[t]=sN({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var dFe={name:"popperOffsets",enabled:!0,phase:"read",fn:Wxt,data:{}};m();m();function Wue(n){return n==="x"?"y":"x"}function Qxt(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,a=o===void 0?!1:o,l=t.boundary,f=t.rootBoundary,p=t.altBoundary,_=t.padding,b=t.tether,R=b===void 0?!0:b,O=t.tetherOffset,j=O===void 0?0:O,$=Gm(e,{boundary:l,rootBoundary:f,padding:_,altBoundary:p}),L=Rf(e.placement),q=j1(e.placement),P=!q,W=YE(L),oe=Wue(W),I=e.modifiersData.popperOffsets,J=e.rects.reference,he=e.rects.popper,ye=typeof j=="function"?j(Object.assign({},e.rects,{placement:e.placement})):j,He=typeof ye=="number"?{mainAxis:ye,altAxis:ye}:Object.assign({mainAxis:0,altAxis:0},ye),at=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ct={x:0,y:0};if(!!I){if(s){var Ze,bt=W==="y"?Hl:ic,Mt=W==="y"?Zc:Oc,qe=W==="y"?"height":"width",te=I[W],et=te+$[bt],Ee=te-$[Mt],ke=R?-he[qe]/2:0,Ce=q===jy?J[qe]:he[qe],pe=q===jy?-he[qe]:-J[qe],Je=e.elements.arrow,lt=R&&Je?GE(Je):{width:0,height:0},Ht=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:nN(),wt=Ht[bt],mn=Ht[Mt],kt=KE(0,J[qe],lt[qe]),Bt=P?J[qe]/2-ke-kt-wt-He.mainAxis:Ce-kt-wt-He.mainAxis,tn=P?-J[qe]/2+ke+kt+mn+He.mainAxis:pe+kt+mn+He.mainAxis,Et=e.elements.arrow&&Qm(e.elements.arrow),ve=Et?W==="y"?Et.clientTop||0:Et.clientLeft||0:0,Le=(Ze=at==null?void 0:at[W])!=null?Ze:0,_e=te+Bt-Le-ve,ce=te+tn-Le,tt=KE(R?QE(et,_e):et,te,R?Wm(Ee,ce):Ee);I[W]=tt,ct[W]=tt-te}if(a){var Ke,re=W==="x"?Hl:ic,Re=W==="x"?Zc:Oc,nt=I[oe],ft=oe==="y"?"height":"width",Rt=nt+$[re],Yt=nt-$[Re],Gt=[Hl,ic].indexOf(L)!==-1,fn=(Ke=at==null?void 0:at[oe])!=null?Ke:0,gn=Gt?Rt:nt-J[ft]-he[ft]-fn+He.altAxis,yn=Gt?nt+J[ft]+he[ft]-fn-He.altAxis:Yt,Lt=R&&Gt?tFe(gn,nt,yn):KE(R?gn:Rt,nt,R?yn:Yt);I[oe]=Lt,ct[oe]=Lt-nt}e.modifiersData[r]=ct}}var hFe={name:"preventOverflow",enabled:!0,phase:"main",fn:Qxt,requiresIfExists:["offset"]};m();m();m();m();function Que(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Gue(n){return n===ml(n)||!ef(n)?JE(n):Que(n)}function Gxt(n){var e=n.getBoundingClientRect(),t=qy(e.width)/n.offsetWidth||1,r=qy(e.height)/n.offsetHeight||1;return t!==1||r!==1}function Yue(n,e,t){t===void 0&&(t=!1);var r=ef(e),i=ef(e)&&Gxt(e),s=s0(e),o=B1(n,i,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!t)&&((Df(e)!=="body"||ZE(s))&&(a=Gue(e)),ef(e)?(l=B1(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=XE(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}m();function Yxt(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function Kue(n){var e=Yxt(n);return XTe.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}m();function Jue(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}m();function Xue(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var pFe={placement:"bottom",modifiers:[],strategy:"absolute"};function mFe(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function xFe(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?pFe:i;return function(a,l,f){f===void 0&&(f=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},pFe,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},_=[],b=!1,R={state:p,setOptions:function(L){var q=typeof L=="function"?L(p.options):L;j(),p.options=Object.assign({},s,p.options,q),p.scrollParents={reference:P1(a)?B4(a):a.contextElement?B4(a.contextElement):[],popper:B4(l)};var P=Kue(Xue([].concat(r,p.options.modifiers)));if(p.orderedModifiers=P.filter(function(at){return at.enabled}),!1){var W;if(getBasePlacement(p.options.placement)===auto)var oe;var I,J,he,ye,He}return O(),R.update()},forceUpdate:function(){if(!b){var L=p.elements,q=L.reference,P=L.popper;if(!!mFe(q,P)){p.rects={reference:Yue(q,Qm(P),p.options.strategy==="fixed"),popper:GE(P)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(at){return p.modifiersData[at.name]=Object.assign({},at.data)});for(var W=0,oe=0;oe<p.orderedModifiers.length;oe++){if(p.reset===!0){p.reset=!1,oe=-1;continue}var I=p.orderedModifiers[oe],J=I.fn,he=I.options,ye=he===void 0?{}:he,He=I.name;typeof J=="function"&&(p=J({state:p,options:ye,name:He,instance:R})||p)}}}},update:Jue(function(){return new Promise(function($){R.forceUpdate(),$(p)})}),destroy:function(){j(),b=!0}};if(!mFe(a,l))return R;R.setOptions(f).then(function($){!b&&f.onFirstUpdate&&f.onFirstUpdate($)});function O(){p.orderedModifiers.forEach(function($){var L=$.name,q=$.options,P=q===void 0?{}:q,W=$.effect;if(typeof W=="function"){var oe=W({state:p,name:L,instance:R,options:P}),I=function(){};_.push(oe||I)}})}function j(){_.forEach(function($){return $()}),_=[]}return R}}m();var Kxt=[sFe,dFe,iFe,ZTe,fFe,aFe,hFe,nFe,cFe],Zue=xFe({defaultModifiers:Kxt});var _Fe=fr(yFe());var tgt=[],ele=function(e,t,r){r===void 0&&(r={});var i=j4.useRef(null),s={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||tgt},o=j4.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=o[0],l=o[1],f=j4.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(R){var O=R.state,j=Object.keys(O.elements);vFe.flushSync(function(){l({styles:Bue(j.map(function($){return[$,O.styles[$]||{}]})),attributes:Bue(j.map(function($){return[$,O.attributes[$]]}))})})},requires:["computeStyles"]}},[]),p=j4.useMemo(function(){var b={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[f,{name:"applyStyles",enabled:!1}])};return(0,_Fe.default)(i.current,b)?i.current||b:(i.current=b,b)},[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,f]),_=j4.useRef();return jue(function(){_.current&&_.current.setOptions(p)},[p]),jue(function(){if(!(e==null||t==null)){var b=r.createPopper||Zue,R=b(e,t,p);return _.current=R,function(){R.destroy(),_.current=null}}},[e,t,r.createPopper]),{state:_.current?_.current.state:null,styles:a.styles,attributes:a.attributes,update:_.current?_.current.update:null,forceUpdate:_.current?_.current.forceUpdate:null}};var ngt=In.div`
  border: 1px solid #ececed;
  border-radius: 4px;
  position: fixed;
  box-shadow: 0px 1px 5px 1px #0000001a;
  background-color: white;
  font-size: 14px;
  ${({width:n,zIndex:e})=>`
    width: ${n}px;
    z-index: ${e};
  `}
`,rgt=In.div`
  position: relative;
`,q1=({open:n,setOpen:e,children:t,width:r=350,placement:i="right-start",referenceDiv:s,zIndex:o=10,xOffset:a=0,yOffset:l=10,disabled:f=!1})=>{let p=(0,eb.useRef)(null),[_,b]=(0,eb.useState)(null),{styles:R,attributes:O}=ele(s?.current||p.current,_,{placement:i,modifiers:[{name:"offset",options:{offset:[a,l]}},{name:"preventOverflow",options:{altAxis:!0,padding:20,boundary:document.getElementsByTagName("body")[0]}},{name:"flip",options:{flipVariations:!1}}]});return M1(p,()=>e(!1)),eb.default.createElement(rgt,{ref:p},n&&!f&&eb.default.createElement(ngt,{width:r,ref:b,style:{...R.popper,position:"fixed"},...O.popper,zIndex:o},t))};m();m();var Zx=fr(Fr());m();m();var Ho=({icon:n,name:e,onClick:t,canRemove:r,onRemove:i,unsaved:s=!1,color:o,active:a=!1,disableHover:l=!1,detail:f,fullDetail:p=!1})=>v.createElement(agt,{onClick:t,color:o,active:a,disableHover:l},v.createElement(sgt,null,v.createElement(Ow,{color:o},n),v.createElement(pue,null,e),s?v.createElement(igt,{color:o}):""),r&&v.createElement(jH,{className:"back"},v.createElement(qH,{color:o,width:"20px",height:"20px",className:"close",onClick:()=>i&&i()})),!r&&f!==void 0&&v.createElement(ogt,{style:{color:mi[o].fillStrong,opacity:.8},noShrink:p},f)),igt=In.div`
  width: 8px;
  margin-top: 3px;
  height: 8px;
  min-width: 8px;
  min-height: 8px;
  border-radius: 100px;

  ${({color:n})=>`
    background-color: ${mi[n].fillStrong};
    `}
`,sgt=In.div`
  display: flex;
  gap: 10px;
  justify-content: flex-start;
  align-items: center;
  overflow: hidden;
`,jH=In.div`
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  align-items: center;
  overflow: hidden;
  flex-shrink: 0;
`,ogt=In.div`
  gap: 10px;
  justify-content: flex-end;
  align-items: center;
  overflow: hidden;
  ${({noShrink:n})=>`flex-shrink: ${n?0:4};`}
  font-size: 12px;
  font-weight: normal;
  text-transform: none;
  margin-right: 5px;
  justify-content: start;
  text-overflow: ellipsis;
  color: #9aa0a6;
`,agt=In.div`
  border: none;
  background-color: transparent;
  border-radius: 50px;
  padding: 4px 7px;
  text-align: left;
  cursor: pointer;
  display: flex;
  color: #353535;
  user-select: none;
  font-size: 14px;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
  font-family: "Roboto Mono";

  ${({active:n,color:e})=>n?`
        background-color: ${mi[e].fillLight};
        .back {
          display: flex;
        }
      `:""}

  &:hover {
    .back {
      display: flex;
    }
  }

  .back {
    display: none;
  }

  ${({color:n,disableHover:e})=>{if(!e)return`
        &:hover {
          background-color: ${mi[n].fillLight};
        }
      `}}
`,qH=In(Yw)`
  cursor: pointer;
  ${({color:n})=>`
      .cross {
        fill: ${mi[n].fillMedium};
      }
      .circle {
        fill: transparent;
      }
      &:hover .cross {
        fill: ${mi[n].fillStrong};
      }
      &:hover .circle {
        fill: ${mi[n].fillMedium};
      }
    `}
`;m();m();m();m();var ule=fr(Fr());m();var Qx=fr(up());var tle=class{async readURL(){return""}},nle=class{constructor(){this.name="dummy"}runSQL(){throw new Error("Dummy connection cannot run SQL.")}runSQLBlockAndFetchResultSchema(){throw new Error("Dummy connection cannot run SQL blocks.")}fetchSchemaForSQLBlock(){throw new Error("Dummy connection cannot fetch schemas.")}fetchSchemaForSQLBlocks(){throw new Error("Dummy connection cannot fetch schemas.")}fetchSchemaForTables(){throw new Error("Dummy connection cannot fetch schemas.")}isPool(){return!1}canPersist(){return!1}canStream(){return!1}};async function rle(n,e){let r=await new Qx.Runtime(new tle,new nle)._loadModelFromModelDef(n).getModel();return await Qx.Malloy.compile({urlReader:new tle,connections:new Qx.FixedConnectionMap(new Map([["dummy",new nle]]),"dummy"),model:r,parse:Qx.Malloy.parse({source:e})})}async function UH(n,e){return(await rle(n,e))._modelDef}function $H(n){return{name:"model",exports:[],contents:{[n.as||n.name]:n}}}async function Gx(n,e){let t=`query: the_query is ${n.as||n.name} -> { group_by: one is 1; where: ${e}}`,r=$H(n),s=(await UH(r,t)).contents.the_query;if(s.type!=="query")throw new Error("Expected the_query to be a query");let o=s.pipeline[0].filterList;if(o===void 0)throw new Error("Expected a filter list");return o[0]}async function EFe(n,e,t){let r=zl(e),i=t?`${r} is ${t}`:r,s=`query: the_query is ${zl(n.as||n.name)} -> { group_by: ${i} }`,o=$H(n),l=(await UH(o,s)).contents.the_query;if(l.type!=="query")throw new Error("Expected the_query to be a query");let f=l.pipeline[0].fields;if(f===void 0)throw new Error("Expected a field list");return f[0]}async function bFe(n,e,t){let r=`query: the_query is ${n.as||n.name} -> { group_by: ${e} is ${t} }`,i=$H(n),o=(await UH(i,r)).contents.the_query;if(o.type!=="query")throw new Error("Expected the_query to be a query");let a=o.pipeline[0].fields[0];if(typeof a=="string")throw new Error("Expected field definition, not reference");if((0,Qx.isFilteredAliasedName)(a))throw new Error("Expected field definition, not filtered aliased name");return a}async function SFe(n,e,t){let r=`query: the_query is ${n.as||n.name} -> { aggregate: ${e} is ${t} }`,i=$H(n),o=(await UH(i,r)).contents.the_query;if(o.type!=="query")throw new Error("Expected the_query to be a query");let a=o.pipeline[0].fields[0];if(typeof a=="string")throw new Error("Expected field definiton, not reference");if((0,Qx.isFilteredAliasedName)(a))throw new Error("Expected field definition, not filtered aliased name");return a}var CFe="new_query";async function wFe(n,e){let t=await rle(n,e),r=/\s*query\s*:\s*([^\s]*)\s*is/,i=e.match(r),s=i?t.getPreparedQueryByName(i[1]):t.preparedQuery;return s._query.pipeHead&&(s=s.getFlattenedQuery(CFe)),s}async function AFe(n,e){return(await wFe(n,e)).preparedResult.sql}async function ile(n,e){let t=await wFe(n,e),r="as"in t._query?t._query.as||t._query.name:CFe;return{...t._query,type:"query",name:r}}async function sle(n,e){let t=await rle(n,e),r=/\s*query\s*:\s*([^\s]*)\s*is/,i=e.match(r);return(i?t.getPreparedQueryByName(i[1]):t.preparedQuery).preparedResult._sourceExploreName}m();m();async function ugt(n,e,t,r,i){if(t===void 0)return;if(S2()){let o=await rAe(n,t,r,i);if(o instanceof Error)throw o;return o}return(await(await fetch("api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({modelPath:e,searchTerm:r,source:t,fieldPath:i})})).json()).result||[]}function tb(n,e,t,r,i){let{data:s,isLoading:o}=Tg([t,r,i],()=>ugt(n,e,t,r,i),{refetchOnWindowFocus:!0});return{searchResults:s,isLoading:o}}m();m();var cp=({value:n,setValue:e,placeholder:t,autoFocus:r,onTab:i})=>v.createElement(lgt,null,v.createElement(cgt,null,v.createElement(ta,{action:"search",color:"other"})),v.createElement(fgt,{type:"text",placeholder:t,value:n,onChange:o=>e(o.target.value),autoFocus:r,tabIndex:1,onKeyDown:o=>{o.key==="Tab"&&(i&&i(),o.stopPropagation(),o.preventDefault())}})),lgt=In.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  position: relative;
`,cgt=In.div`
  position: fixed;
  left: 15px;
  top: 9px;
  pointer-events: none;
`,fgt=In.input`
  font-family: "Roboto Mono";
  font-size: 14px;
  border-radius: 5px;
  border: none;
  padding: 3px 10px 1px 38px;
  outline: none;
  width: calc(100% - 22px);

  &:focus {
    border-color: #4285f4;
  }
`;m();m();m();m();var q4=({fieldPath:n,topValues:e,filterExpression:t,definition:r})=>{let i=e?.find(s=>s.fieldName===n);return v.createElement(rc,null,v.createElement(dgt,null,v.createElement(pgt,null,n&&v.createElement(zH,null,v.createElement("div",null,"Path"),v.createElement(ole,null,n.length<=32?n:v.createElement(TFe,{path:n.split(".")}))),r&&v.createElement(zH,null,v.createElement("div",null,"Definition"),v.createElement(ole,null,r)),t&&v.createElement(zH,null,v.createElement("div",null,"Filter"),v.createElement(ole,null,t)),i&&v.createElement(zH,null,v.createElement("div",null,"Top Values"),i.values.slice(0,8).map(s=>v.createElement(vgt,{key:s.fieldValue},v.createElement(xgt,null,v.createElement(ygt,null,s.fieldValue===null?v.createElement(hgt,null,"\u2205"):s.fieldValue)),v.createElement(ggt,null,IM(s.weight))))))))},dgt=In(Dc)`
  padding: 20px;
  background-color: rgb(248, 248, 248);
`,hgt=In.span``,ole=In.div`
  color: #505050;
  font-weight: normal;
  font-family: Roboto Mono;
  font-weight: normal;
  font-size: 14px;
  text-transform: none;
  overflow-wrap: break-word;
  padding: 4px 0px;
`,pgt=In.div`
  display: flex;
  gap: 15px;
  flex-direction: column;
`,zH=In.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`,TFe=({path:n,top:e=!0})=>v.createElement("div",null,e?"":".",n[0],n.length>1&&v.createElement(mgt,null,v.createElement(TFe,{path:n.slice(1),top:!1}))),mgt=In.div`
  margin-left: 10px;
`,xgt=In.div`
  display: flex;
  gap: 10px;
  justify-content: flex-start;
  align-items: center;
  overflow: hidden;
  text-overflow: ellipsis;
  color: #505050;
`,ggt=In.div`
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  align-items: center;
  overflow: hidden;
  flex-shrink: 0;
  color: #9aa0a6;
`,ygt=In.div`
  text-overflow: ellipsis;
  text-transform: none;
  color: #505050;
  overflow: hidden;
  white-space: nowrap;
`,vgt=In.div`
  border: none;
  background-color: transparent;
  border-radius: 50px;
  padding: 4px 0px;
  text-align: left;
  display: flex;
  color: #353535;
  user-select: none;
  font-size: 14px;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
  font-family: "Roboto"
  font-weight: normal;;
`;m();m();var nb=fr(Fr());var U4=({popoverContent:n,content:e,width:t,enabled:r=!0,zIndex:i=11})=>{let[s,o]=(0,nb.useState)(!1),a=(0,nb.useRef)(!1),l=(0,nb.useRef)(null),f=()=>{a.current=!0,o(!1)};return(0,nb.useEffect)(()=>{a.current=!1},[s]),v.createElement(_gt,{onMouseEnter:()=>!a.current&&o(!0),onMouseLeave:f},v.createElement("div",{ref:l},e({isOpen:s,closeMenu:f})),(()=>{let p=n({setOpen:o,closeMenu:f});return v.createElement(q1,{open:r&&s&&p!==null,setOpen:o,referenceDiv:l,zIndex:i,width:t},p)})())},_gt=In.div`
  position: relative;
`;m();m();m();var $y=fr(Fr()),FFe=n=>$y.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},$y.createElement("title",null,"type-icon-on-off"),$y.createElement("g",{id:"type-icon-on-off",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},$y.createElement("g",{id:"Group-Copy",transform:"translate(4.295444, 4.604157)",fill:"#4285f4",fillRule:"nonzero"},$y.createElement("path",{d:"M1.61912392,3.08712961 L5.78998715,3.08712961 C6.6842046,3.08712961 7.40911107,2.39605211 7.40911107,1.54356481 C7.40911107,0.691077503 6.6842046,0 5.78998715,0 L1.61912392,0 C0.724906472,0 0,0.691077503 0,1.54356481 C0,2.39605211 0.724906472,3.08712961 1.61912392,3.08712961 Z M1.61912392,0.617425922 L5.78998715,0.617425922 C6.32651762,0.617425922 6.7614615,1.03207242 6.7614615,1.54356481 C6.7614615,2.05505719 6.32651762,2.46970369 5.78998715,2.46970369 L1.61912392,2.46970369 C1.08259345,2.46970369 0.647649569,2.05505719 0.647649569,1.54356481 C0.647649569,1.03207242 1.08259345,0.617425922 1.61912392,0.617425922 Z",id:"Shape-Copy-20"}),$y.createElement("path",{d:"M1.83745135,2.13685198 C2.08762004,2.13888594 2.31428875,1.98975367 2.4114368,1.75920941 C2.50858486,1.52866515 2.45700749,1.2622842 2.28082919,1.08466199 C2.10465088,0.907039785 1.83869956,0.853289683 1.60736972,0.948552441 C1.37603988,1.0438152 1.22505383,1.26925874 1.22505383,1.51943543 C1.22505383,1.85847446 1.49842318,2.13409557 1.83745135,2.13685198 L1.83745135,2.13685198 Z",id:"Path-Copy-14"}),$y.createElement("path",{d:"M5.78998714,3.70455553 L1.6191239,3.70455553 C0.724906454,3.70455553 0,4.39563305 0,5.24812034 C0,6.10060763 0.724906454,6.79168514 1.6191239,6.79168514 L5.78998714,6.79168514 C6.68420459,6.79168514 7.40911107,6.10060764 7.40911107,5.24812034 C7.40911107,4.39563304 6.68420459,3.70455553 5.78998714,3.70455553 L5.78998714,3.70455553 Z M5.78998714,6.17425922 L1.6191239,6.17425922 C1.08259342,6.17425922 0.647649538,5.75961272 0.647649538,5.24812034 C0.647649538,4.73662796 1.08259342,4.32198146 1.6191239,4.32198146 L5.78998714,4.32198146 C6.32651761,4.32198146 6.7614615,4.73662796 6.7614615,5.24812034 C6.7614615,5.75961272 6.32651761,6.17425922 5.78998714,6.17425922 L5.78998714,6.17425922 Z",id:"Shape-Copy-21"}),$y.createElement("path",{d:"M5.54392378,4.67774545 C5.2937551,4.6757115 5.06708639,4.82484377 4.96993833,5.05538803 C4.87279028,5.28593228 4.92436765,5.55231324 5.10054595,5.72993544 C5.27672426,5.90755765 5.54267558,5.96130775 5.77400542,5.86604499 C6.00533526,5.77078224 6.15632131,5.5453387 6.15632131,5.295162 C6.15632131,4.95612297 5.88295196,4.68050187 5.54392378,4.67774545 Z",id:"Path-Copy-15"}))));m();var i9=fr(Fr()),ale=n=>i9.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},i9.createElement("title",null,"type-icon-date"),i9.createElement("g",{id:"type-icon-date",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i9.createElement("g",{id:"Group-Copy-22",transform:"translate(4.753763, 4.094719)",fill:"#4285f4",fillRule:"nonzero"},i9.createElement("path",{d:"M5.84322609,0.649247344 L5.51860242,0.649247344 L5.51860242,0 L4.86935508,0 L4.86935508,0.649247344 L1.62311836,0.649247344 L1.62311836,0 L0.973871015,0 L0.973871015,0.649247344 L0.649247344,0.649247344 C0.292161305,0.649247344 0,0.941408648 0,1.29849469 L0,6.49247344 C0,6.84955947 0.292161305,7.14172078 0.649247344,7.14172078 L5.84322609,7.14172078 C6.20031213,7.14172078 6.49247344,6.84955947 6.49247344,6.49247344 L6.49247344,1.29849469 C6.49247344,0.941408648 6.20031213,0.649247344 5.84322609,0.649247344 Z M5.84322609,6.49247344 L0.649247344,6.49247344 L0.649247344,2.2723657 L5.84322609,2.2723657 L5.84322609,6.49247344 Z",id:"Shape"}))));m();var oN=fr(Fr()),DFe=n=>oN.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},oN.createElement("title",null,"type-icon-number"),oN.createElement("g",{id:"type-icon-number",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},oN.createElement("path",{d:"M12,7 L12,6 L10,6 L10,4 L9,4 L9,6 L7,6 L7,4 L6,4 L6,6 L4,6 L4,7 L6,7 L6,9 L4,9 L4,10 L6,10 L6,12 L7,12 L7,10 L9,10 L9,12 L10,12 L10,10 L12,10 L12,9 L10,9 L10,7 L12,7 Z M9,9 L7,9 L7,7 L9,7 L9,9 Z",id:"Shape-Copy-21",fill:"#4285f4",fillRule:"nonzero"})));m();var aN=fr(Fr()),RFe=n=>aN.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},aN.createElement("title",null,"type-icon-string"),aN.createElement("g",{id:"type-icon-string",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},aN.createElement("path",{d:"M4.8045,10.45 L5.2245,9.253 L7.1425,9.253 L7.5625,10.45 L8.6055,10.45 L6.7225,5.438 L5.6375,5.438 L3.7615,10.45 L4.8045,10.45 Z M6.8345,8.385 L5.5255,8.385 L5.9735,7.125 L6.1555,6.523 L6.2115,6.523 L6.3935,7.125 L6.8345,8.385 Z M10.2505,10.562 C10.4791667,10.562 10.681,10.5176667 10.856,10.429 C11.031,10.3403333 11.1721667,10.226 11.2795,10.086 L11.2795,10.086 L11.3355,10.086 L11.3355,10.45 L12.2385,10.45 L12.2385,8.252 C12.2385,7.76666667 12.0961667,7.398 11.8115,7.146 C11.5268333,6.894 11.1115,6.768 10.5655,6.768 C10.2575,6.768 9.97283333,6.82866667 9.7115,6.95 C9.45016667,7.07133333 9.23316667,7.244 9.0605,7.468 L9.0605,7.468 L9.6485,7.93 C9.75116667,7.804 9.88066667,7.7025 10.037,7.6255 C10.1933333,7.5485 10.3555,7.51 10.5235,7.51 C10.7708333,7.51 10.968,7.57066667 11.115,7.692 C11.262,7.81333333 11.3355,7.972 11.3355,8.168 L11.3355,8.168 L11.3355,8.322 C11.0741667,8.21466667 10.7591667,8.161 10.3905,8.161 C10.1245,8.161 9.88183333,8.21 9.6625,8.308 C9.44316667,8.406 9.2705,8.546 9.1445,8.728 C9.0185,8.91 8.9555,9.12 8.9555,9.358 C8.9555,9.71733333 9.07683333,10.0078333 9.3195,10.2295 C9.56216667,10.4511667 9.8725,10.562 10.2505,10.562 Z M10.4675,9.848 C10.2761667,9.848 10.1291667,9.8025 10.0265,9.7115 C9.92383333,9.6205 9.8725,9.50266667 9.8725,9.358 C9.8725,9.00333333 10.1105,8.826 10.5865,8.826 C10.8478333,8.826 11.0975,8.882 11.3355,8.994 C11.3355,9.22266667 11.2573333,9.42216667 11.101,9.5925 C10.9446667,9.76283333 10.7335,9.848 10.4675,9.848 Z",id:"Aa-Copy",fill:"#4285f4",fillRule:"nonzero"})));m();var uN=fr(Fr()),OFe=n=>uN.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},uN.createElement("title",null,"type-icon-projection"),uN.createElement("g",{id:"type-icon-projection",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},uN.createElement("path",{d:"M11.3362588,4 L11.3362588,12 L8,9.90676786 L4.6637412,12 L4.6637412,4 L11.3362588,4 Z M10.336,5 L5.663,5 L5.663,10.191 L8,8.72623637 L10.336,10.191 L10.336,5 Z",id:"Rectangle",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"})));m();var lN=fr(Fr()),NFe=n=>lN.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},lN.createElement("title",null,"type-icon-number"),lN.createElement("g",{id:"type-icon-number",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},lN.createElement("path",{d:"M12,7 L12,6 L10,6 L10,4 L9,4 L9,6 L7,6 L7,4 L6,4 L6,6 L4,6 L4,7 L6,7 L6,9 L4,9 L4,10 L6,10 L6,12 L7,12 L7,10 L9,10 L9,12 L10,12 L10,10 L12,10 L12,9 L10,9 L10,7 L12,7 Z M9,9 L7,9 L7,7 L9,7 L9,9 Z",id:"Shape-Copy-21",fill:"#ea8600",fillRule:"nonzero"})));var Md=({type:n,kind:e})=>{let t={width:"22px",height:"22px"};if(e==="measure")return v.createElement(NFe,{...t});if(n==="string")return v.createElement(RFe,{...t});if(n==="boolean")return v.createElement(FFe,{...t});if(n==="number")return v.createElement(DFe,{...t});if(n==="date")return v.createElement(ale,{...t});if(n==="timestamp")return v.createElement(ale,{...t});if(n==="query")return v.createElement(OFe,{...t});if(n==="source")return v.createElement(RH,{...t});throw new Error("Invalid icon type")};var s9=({searchTerm:n,items:e,topValues:t})=>{let r=e.map(s=>({item:s,rank:bgt(s.terms,n)})).filter(({rank:s})=>s>0).sort(({rank:s},{rank:o})=>o-s);return{searchList:v.createElement(Egt,null,r.map(({item:s})=>{if(s.item.type==="field"){let o=s.item,a=Vh(s.item.field);return v.createElement(U4,{width:300,key:s.key,content:()=>v.createElement(Ho,{icon:v.createElement(Md,{type:a,kind:o.kind}),onClick:s.select,name:o.name,color:o.kind,detail:s.detail}),popoverContent:()=>v.createElement(q4,{fieldPath:o.path,topValues:t})})}else return v.createElement("div",null)}),r.length===0&&v.createElement(Jc,null,"No results")),count:r.length}},zy=n=>{let{searchList:e}=s9(n);return e},Egt=In.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`;function bgt(n,e){let t=e.split(" ").map(i=>i.trim()).filter(i=>i.length>0),r=0;for(let i of t)for(let s=0;s<n.length;s++){let o=n[s],a=n.length-s,l=o.split("_");o.toLowerCase().includes(i.toLowerCase())&&(r+=a),o.toLowerCase()===i.toLowerCase()&&(r+=a*10),o.toLowerCase().startsWith(i.toLowerCase())&&(r+=a*6),l.some(f=>f.toLowerCase().startsWith(i.toLowerCase()))&&(r+=a)}return r}m();m();var o9=fr(Fr());m();var Hy=fr(Fr()),LFe=n=>Hy.createElement("svg",{width:"25px",height:"25px",viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Hy.createElement("title",null,"malloy-icon-status-progress"),Hy.createElement("defs",null,Hy.createElement("circle",{id:"path-1",cx:7.5,cy:7.5,r:7.5}),Hy.createElement("mask",{id:"mask-2",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox",x:0,y:0,width:15,height:15,fill:"white"},Hy.createElement("use",{xlinkHref:"#path-1"}))),Hy.createElement("g",{id:"malloy-icon-status-progress",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeDasharray:16},Hy.createElement("use",{id:"Oval-Copy-3",stroke:"#4285F4",className:"primarystroke",mask:"url(#mask-2)",strokeWidth:3,transform:"translate(7.500000, 7.500000) rotate(-240.000000) translate(-7.500000, -7.500000) ",xlinkHref:"#path-1"})));var fp=({text:n})=>o9.default.createElement(Agt,null,o9.default.createElement(Tgt,null,o9.default.createElement(wgt,null,n),o9.default.createElement(kFe,{size:25}))),kFe=({size:n,color:e})=>o9.default.createElement(Cgt,{size:n,color:e||"dimension",width:n+"px",height:n+"px"}),Sgt=kme`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,Cgt=In(LFe)`
  ${({size:n,color:e})=>`
    width: ${n}px;
    height: ${n}px;

    .primarystroke {
      stroke: ${mi[e].fillStrong}
    }
  `}
  animation: ${Sgt} 2s infinite linear;
`,wgt=In.div`
  margin-bottom: 10px;
  color: #505050;
  font-size: 15px;
`,Agt=In.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex: 1 0 auto;
  width: 100%;
  height: 100%;
`,Tgt=In.div`
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
`;var tf=({model:n,modelPath:e,actions:t,closeMenu:r,searchItems:i,valueSearchSource:s,topValues:o,addFilter:a})=>{let[l,f]=(0,ule.useState)(t.length===1&&t[0].kind==="sub_menu"?t[0]:void 0),[p,_]=(0,ule.useState)(""),{searchResults:b,isLoading:R}=tb(n,e,s,p),O=b&&b.filter(oe=>oe.fieldType==="string").slice(0,100),j=i!==void 0,{searchList:$,count:L}=s9({searchTerm:p,items:i||[],topValues:o}),q=O?.length||0,P=L>0,W=q>0||R;return v.createElement(Dgt,null,l===void 0&&v.createElement(v.Fragment,null,j&&v.createElement(O1,null,v.createElement(cp,{value:p,setValue:_,placeholder:"Search",autoFocus:!0})),v.createElement(IFe,null,p===""&&v.createElement($l,null,v.createElement(Ngt,null,t.filter(oe=>oe.isEnabled!==!1).flatMap(oe=>{let I=[v.createElement(Rgt,{key:oe.id,color:oe.iconColor,onClick:()=>{oe.kind==="one_click"?(oe.onClick(),r()):f(oe)}},v.createElement(ta,{action:oe.iconName,color:oe.iconColor}),v.createElement(Ogt,null,oe.label))];return oe.divider&&I.push(v.createElement(Fgt,{key:oe.id+"/divider"})),I}))),p!==""&&v.createElement(v.Fragment,null,P&&v.createElement(rc,{style:{borderBottom:P?"1px solid #efefef":"",maxHeight:W?"200px":"300px"}},v.createElement($l,null,$)),W&&s&&v.createElement(rc,{style:{borderBottom:"1px solid #efefef",maxHeight:P?"200px":"300px"}},v.createElement($l,null,O&&O.length>0&&O.map((oe,I)=>v.createElement(Ho,{key:I,name:oe.fieldValue,detail:oe.fieldName,icon:v.createElement(ta,{action:"filter"}),color:"filter",onClick:()=>{Gx(s,PE(oe.fieldName,{type:"is_equal_to",values:[oe.fieldValue]})).then(J=>{a&&a(J),r()})}})),O!==void 0&&O.length===0&&v.createElement(Jc,null,"No value results"),R&&v.createElement(Jc,null,v.createElement(fp,{text:"Loading value results..."})))),!W&&!P&&v.createElement(Jc,null,"No results")))),l!==void 0&&v.createElement(v.Fragment,null,v.createElement(IFe,null,l.Component({onComplete:()=>{l.closeOnComplete?r():f(void 0)}}))))},Fgt=In.div`
  width: calc(100% + 20px);
  margin: 5px -10px;
  border-bottom: 1px solid #efefef;
`,Dgt=In.div``,Rgt=In.button`
  border: none;
  background-color: transparent;
  border-radius: 50px;
  padding: 4px 7px;
  text-align: left;
  font-size: 14px;
  cursor: pointer;
  width: 100%;
  display: flex;
  justify-content: flex-start;
  gap: 10px;
  align-items: center;
  font-family: "Roboto Mono";
  color: #353535;

  ${({color:n})=>`
    &:hover {
      background-color: ${mi[n].fillLight};
    }
  `}
`,Ogt=In.div``,Ngt=In.div`
  display: flex;
  flex-direction: column;
  gap: 2px;
`,IFe=In.div`
  flex-direction: column;
  display: flex;
`;m();m();var rb=fr(Fr());m();m();var a9=fr(Fr());var xl=({value:n,setValue:e,placeholder:t,label:r,autoFocus:i,autoSelect:s})=>{let o=(0,a9.useRef)(null);return(0,a9.useEffect)(()=>{s&&o.current&&o.current.select()},[s]),v.createElement(zm,null,r&&v.createElement(lp,null,r),v.createElement(Lgt,{ref:o,placeholder:t,value:n,onChange:a=>e(a.target.value),autoFocus:i,type:"text"}))},Lgt=In.input`
  font-family: "Roboto Mono";
  font-size: 14px;
  border-radius: 5px;
  border: 1px solid #efefef;
  padding: 5px 10px;
  outline: none;
  width: calc(100% - 22px);

  &:focus {
    border-color: #4285f4;
  }
`,cN=({value:n,setValue:e,placeholder:t,label:r,autoFocus:i,autoSelect:s,rows:o=1,cols:a})=>{let l=(0,a9.useRef)(null);return(0,a9.useEffect)(()=>{s&&l.current&&l.current.select()},[s]),v.createElement(zm,null,r&&v.createElement(lp,null,r),v.createElement(kgt,{ref:l,placeholder:t,value:n,onChange:f=>e(f.target.value),autoFocus:i,rows:o,cols:a}))},kgt=In.textarea`
  font-family: "Roboto Mono";
  font-size: 14px;
  border-radius: 5px;
  border: 1px solid #efefef;
  min-height: calc(1em + 5px);
  padding: 5px 10px;
  outline: none;
  resize: vertical;
  width: calc(100% - 22px);

  &:focus {
    border-color: #4285f4;
  }
`;m();var $Fe=fr(Fr());m();var Vy=fr(Fr());var Ym=({values:n,setValues:e,autoFocus:t,placeholder:r,type:i="text",value:s,setValue:o,focusElement:a})=>{let[l,f]=(0,Vy.useState)(""),[p,_]=(0,Vy.useState)(!1),b=(0,Vy.useRef)(null),R=(0,Vy.useRef)(null),[O,j]=(0,Vy.useState)(void 0),$=s||l,L=o||f;(0,Vy.useEffect)(()=>{let P=W=>{if(W.key==="Backspace"){if(O!==void 0){let oe=[...n];oe.splice(O,1),e(oe),O===0?n.length===1?(j(void 0),b.current?.focus()):j(0):j(O-1)}}else W.key==="ArrowRight"?O===n.length-1?(j(void 0),b.current?.focus()):O!==void 0&&j(O+1):W.key==="ArrowLeft"?O!==void 0&&O>0&&j(O-1):b.current?.focus()};return window.addEventListener("keyup",P),()=>window.removeEventListener("keyup",P)});let q=()=>{$.length>0&&(e([...n,$]),L(""))};return M1(a?[R,a]:R,()=>{_(!1),q()}),v.createElement(Igt,{onClick:()=>b.current?.focus(),isFocused:p||O!==void 0,ref:R},n.map((P,W)=>v.createElement(Mgt,{key:W,isSelected:O===W,onClick:oe=>{j(W),oe.stopPropagation()}},P)),v.createElement(Pgt,{ref:b,type:i,placeholder:n.length===0?r:"",value:$,size:1,onChange:P=>{L(P.target.value)},onKeyDown:P=>{P.key==="Enter"&&$!==""&&(q(),P.stopPropagation(),P.preventDefault())},onKeyUp:P=>{P.key==="Backspace"?$===""&&n.length>0&&(q(),b.current?.blur(),j(n.length-1)):P.key==="ArrowLeft"&&(b.current?.selectionStart===0||b.current?.selectionStart===null)&&(q(),b.current?.blur(),j(n.length-1),P.preventDefault(),P.stopPropagation())},onFocus:()=>{_(!0),j(void 0)},autoFocus:t}))},Igt=In.div`
  font-family: Roboto;
  font-size: 14px;
  font-weight: normal;
  border-radius: 5px;
  border: 1px solid #efefef;
  padding: 2px 3px;
  outline: none;
  display: flex;
  overflow: hidden;
  gap: 3px;
  flex-wrap: wrap;

  ${({isFocused:n})=>n?"border-color: #4285F4;":""}
`,Mgt=In.div`
  ${({isSelected:n})=>`
    border: 1px solid ${n?mi.dimension.fillStrong:mi.dimension.fillMedium};
    background-color: ${n?mi.dimension.fillMedium:mi.dimension.fillLight};
  `}

  border-radius: 5px;
  color: ${mi.dimension.fillStrong};
  display: flex;
  align-items: center;
  gap: 5px;
  padding: 1px 5px;
  text-transform: none;
  cursor: pointer;
  height: 20px;
`,Pgt=In.input`
  border: none;
  outline: none;
  font-family: Roboto;
  font-size: 14px;
  min-width: 95px;
  padding: 3.75px 7px;
  flex-grow: 1;
`,Mqt=In(Yw)`
  cursor: pointer;
  ${({color:n})=>`
      .cross {
        fill: ${mi[n].fillStrong};
      }
    `}
`;m();m();var VH=fr(Fr());m();var HH=fr(Fr()),MFe=n=>HH.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,role:"img",...n},HH.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),HH.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}));var Bgt=In.div`
  position: relative;
`,jgt=In.button`
  background-color: transparent;
  font-size: 14px;
  border: 1px solid #efefef;
  border-radius: 4px;
  padding: 3px 10px;
  cursor: pointer;
  color: #5f6368;
  display: flex;
  justify-content: space-between;
  text-transform: none;
  align-items: center;
  font-family: Arial;
  &:hover {
    border: 1px solid #ececed;
  }
  :focus {
    box-shadow: none;
    border: 1px solid #4285f4;
    outline: none;
  }
  &[disabled] {
    cursor: default;
    background-color: #f6f6f6;
  }
  width: 100%;
`,PFe=In.label`
  padding: 0px 10px;
  height: 30px;
  cursor: pointer;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  color: #5f6368;
  display: flex;
  align-items: center;
  &:hover {
    background-color: ${mi.dimension.fillLight};
  }
`,BFe=In.span`
  margin-left: 8px;
`,qgt=In(MFe)`
  vertical-align: text-top;
  width: 20px;
  min-width: 20px;
  opacity: 70%;
  visibility: hidden;

  &.selected {
    visibility: visible;
  }
`,gl=({autoFocus:n,value:e,onChange:t,options:r,placeholder:i="Select",disabled:s=!1,valueEqual:o=(l,f)=>l===f,width:a=200})=>{let[l,f]=(0,VH.useState)(!1),p=(0,VH.useRef)(null),_=e!==void 0&&r.find(R=>o(R.value,e))?.label||i,b=R=>{t&&t(R),f(!1)};return M1(p,()=>{f(!1)}),v.createElement(Bgt,{ref:p},v.createElement(jgt,{type:"button",autoFocus:n,onClick:R=>{R.preventDefault(),R.stopPropagation(),s||f(!0)}},_,v.createElement(FH,{width:"22px",height:"22px"})),v.createElement(q1,{open:l,setOpen:f,placement:"bottom-start",width:a,maxHeight:500},v.createElement(WH,{options:r,value:e,valueEqual:o,onChange:b})))};function WH({options:n,value:e,onChange:t,valueEqual:r=(i,s)=>i===s}){return v.createElement(qFe,null,n.reduce((i,s,o)=>{let a=e!==void 0&&r(e,s.value);return s.divider&&i.push(v.createElement(UFe,{key:"divider"+o})),i.push(v.createElement(PFe,{key:o,onClick:()=>t(s.value),className:a?"selected":""},v.createElement(Ugt,{type:"radio",defaultChecked:a}),v.createElement(qgt,{className:a?"selected":""}),v.createElement(BFe,null,s.label))),i},[]))}function jFe({options:n}){return v.createElement(qFe,null,n.reduce((e,t,r)=>(t.divider&&e.push(v.createElement(UFe,{key:"divider"+r})),e.push(v.createElement(PFe,{key:r,onClick:i=>t.onSelect(i)},v.createElement(BFe,null,t.label))),e),[]))}var Ugt=In.input`
  width: 0;
  height: 0;
`,qFe=In.div`
  font-size: 14px;
  font-family: Roboto;
  text-transform: none;
  font-weight: normal;
  width: 100%;
  padding: 10px 0;
  overflow-y: auto;
  max-height: 400px;
`,UFe=In.div`
  border-top: 1px solid #ececec;
  width: 100%;
  margin: 0 10px;
  margin: 5px 0;
`;var zFe=({model:n,modelPath:e,source:t,filter:r,setFilter:i,fieldPath:s})=>{let o=$=>{i(cTe(r,$))},a=Hgt(n,e,t,r,i,s),l=Vgt(r,i),f=Wgt(r,i),p=Qgt(r,i),_=Ggt(r,i),b=Ygt(r,i),R=Kgt(r,i),O=Jgt(r,i),j=!!(a.util||l.util||f.util||p.util||_.util||b.util||R.util||O.util);return v.createElement("div",null,v.createElement($gt,null,v.createElement(gl,{value:r.type,onChange:o,options:[{value:"is_equal_to",label:"Is"},{value:"starts_with",label:"Starts with"},{value:"ends_with",label:"Ends with"},{value:"contains",label:"Contains"},{value:"is_blank",label:"Blank"},{value:"is_null",label:"Null"},{value:"is_not_equal_to",label:"Is not"},{value:"does_not_start_with",label:"Does not start with"},{value:"does_not_end_with",label:"Does not end with"},{value:"does_not_contain",label:"Does not contain"},{value:"is_not_blank",label:"Not blank"},{value:"is_not_null",label:"Not null"},{value:"custom",label:"Custom"}]}),a.builder,l.builder,f.builder,p.builder,_.builder,b.builder,R.builder,O.builder),j&&v.createElement(zgt,null,a.util,l.util,f.util,p.util,_.util,b.util,R.util,O.util))},$gt=In.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  padding: 0 15px;
`,zgt=In.div`
  margin-top: 15px;
  border-top: 1px solid #efefef;
  border-bottom: 1px solid #efefef;
`;function Hgt(n,e,t,r,i,s){let[o,a]=(0,$Fe.useState)(""),{searchResults:l,isLoading:f}=tb(n,e,t,o,s);if(r.type!=="is_equal_to"&&r.type!=="is_not_equal_to")return{builder:null,util:null};let p=v.createElement(Ym,{values:r.values,setValues:b=>i({...r,values:b}),placeholder:"Values...",value:o,setValue:a}),_=v.createElement(rc,null,v.createElement($l,null,l&&l.length>0&&l.map((b,R)=>v.createElement(Ho,{key:R,name:b.fieldValue,detail:IM(b.weight),icon:v.createElement(ta,{action:"filter"}),color:"filter",onClick:()=>{i({...r,values:[...r.values,b.fieldValue]}),a("")},fullDetail:!0})),l!==void 0&&l.length===0&&v.createElement(Jc,null,"No value results"),f&&v.createElement(Jc,null,v.createElement(fp,{text:"Loading value results..."}))));return{builder:p,util:_}}function Vgt(n,e){return n.type!=="contains"?{builder:null,util:null}:{builder:v.createElement(Ym,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function Wgt(n,e){return n.type!=="does_not_contain"?{builder:null,util:null}:{builder:v.createElement(Ym,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function Qgt(n,e){return n.type!=="starts_with"?{builder:null,util:null}:{builder:v.createElement(Ym,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function Ggt(n,e){return n.type!=="does_not_start_with"?{builder:null,util:null}:{builder:v.createElement(Ym,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function Ygt(n,e){return n.type!=="ends_with"?{builder:null,util:null}:{builder:v.createElement(Ym,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function Kgt(n,e){return n.type!=="does_not_end_with"?{builder:null,util:null}:{builder:v.createElement(Ym,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function Jgt(n,e){return n.type!=="custom"?{builder:null,util:null}:{builder:v.createElement(xl,{value:n.partial,setValue:i=>e({type:"custom",partial:i}),placeholder:"!= null"}),util:null}}m();m();m();var QH=fr(Fr());var U1=({value:n,setValue:e,placeholder:t,label:r,autoFocus:i})=>{let[s,o]=(0,QH.useState)(n.toString());return(0,QH.useEffect)(()=>{o(n.toString())},[n]),v.createElement(zm,null,r&&v.createElement(lp,null,r),v.createElement(Xgt,{type:"number",placeholder:t,value:s,size:1,onChange:a=>{let l=a.target.value;o(l);let f=parseFloat(l);Number.isNaN(f)||e(f)},autoFocus:i}))},Xgt=In.input`
  font-family: Roboto;
  font-size: 14px;
  border-radius: 5px;
  border: 1px solid #efefef;
  padding: 5.75px 10px;
  outline: none;
  width: calc(100% - 22px);

  &:focus {
    border-color: #4285f4;
    background-color: ${mi.dimension.fillLight};
  }
`;var HFe=({filter:n,setFilter:e})=>{let t=R=>{e(fTe(n,R))},r=v.createElement(gl,{value:n.type,onChange:t,options:[{value:"is_equal_to",label:"Equal to"},{value:"is_greater_than",label:"Greater than"},{value:"is_less_than",label:"Less than"},{value:"is_greater_than_or_equal_to",label:"Greater than or equal to"},{value:"is_less_than_or_equal_to",label:"Less than or equal to"},{value:"is_between",label:"Between"},{value:"is_null",label:"Null"},{value:"is_not_equal_to",label:"Not equal to"},{value:"is_not_null",label:"Not null"},{value:"custom",label:"Custom"}]}),i=eyt(n,e,r),s=tyt(n,e,r),o=nyt(n,e,r),a=ryt(n,e,r),l=iyt(n,e,r),f=syt(n,e,r),p=oyt(n,e,r),_=ayt(n,e,r),b=n.type==="is_null"||n.type==="is_not_null"?v.createElement("div",{style:{width:"100%"}},r):null;return v.createElement(Zgt,null,i.builder,s.builder,o.builder,a.builder,l.builder,f.builder,p.builder,_.builder,b)},Zgt=In.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  padding: 0 15px;
  width: calc(100% - 30px);
`,fN=In.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  width: 100%;
`,GH=In.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  width: 100%;
`;function eyt(n,e,t){return n.type!=="is_equal_to"?{builder:null,util:null}:{builder:v.createElement(GH,null,t,v.createElement(Ym,{values:n.values.map(i=>i.toString()),setValues:i=>e({...n,values:i.map(s=>parseFloat(s))}),placeholder:"Values...",type:"number"}))}}function tyt(n,e,t){return n.type!=="is_not_equal_to"?{builder:null,util:null}:{builder:v.createElement(GH,null,t,v.createElement(Ym,{values:n.values.map(i=>i.toString()),setValues:i=>e({...n,values:i.map(s=>parseFloat(s))}),placeholder:"Values...",type:"number"}))}}function nyt(n,e,t){return n.type!=="is_greater_than"?{builder:null,util:null}:{builder:v.createElement(fN,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},t),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(U1,{value:n.value,setValue:i=>e({...n,value:i})})))}}function ryt(n,e,t){return n.type!=="is_less_than"?{builder:null,util:null}:{builder:v.createElement(fN,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},t),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(U1,{value:n.value,setValue:i=>e({...n,value:i})})))}}function iyt(n,e,t){return n.type!=="is_greater_than_or_equal_to"?{builder:null,util:null}:{builder:v.createElement(fN,null,v.createElement("div",{style:{width:"80%",flexShrink:1}},t),v.createElement("div",{style:{width:"20%",flexShrink:1}},v.createElement(U1,{value:n.value,setValue:i=>e({...n,value:i})})))}}function syt(n,e,t){return n.type!=="is_less_than_or_equal_to"?{builder:null,util:null}:{builder:v.createElement(fN,null,v.createElement("div",{style:{width:"70%",flexShrink:1}},t),v.createElement("div",{style:{width:"30%",flexShrink:1}},v.createElement(U1,{value:n.value,setValue:i=>e({...n,value:i})})))}}function oyt(n,e,t){return n.type!=="is_between"?{builder:null,util:null}:{builder:v.createElement(GH,null,t,v.createElement(fN,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(U1,{value:n.lowerBound,setValue:i=>e({...n,lowerBound:i})})),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(U1,{value:n.upperBound,setValue:i=>e({...n,upperBound:i})}))))}}function ayt(n,e,t){return n.type!=="custom"?{builder:null,util:null}:{builder:v.createElement(GH,null,t,v.createElement(xl,{value:n.partial,setValue:i=>e({type:"custom",partial:i}),placeholder:"!= null"}))}}m();var Wy=fr(Fr());m();m();var YH=fr(cle()),KH=fr(Fr());var dN=({value:n,setValue:e,placeholder:t,label:r,autoFocus:i,granularity:s,onFocus:o,onBlur:a,isActive:l})=>{let f=s==="year"?"YYYY":s==="month"?"YYYY-MM":s==="quarter"?"YYYY-[Q]Q":s==="week"?"[WK]YYYY-MM-DD":s==="day"?"YYYY-MM-DD":s==="hour"?"YYYY-MM-DD HH:00":s==="minute"?"YYYY-MM-DD HH:mm":"YYYY-MM-DD HH:mm:ss",[p,_]=(0,KH.useState)((0,YH.default)(n).format(f));return(0,KH.useEffect)(()=>{_((0,YH.default)(n).format(f))},[n,f]),v.createElement(zm,null,r&&v.createElement(lp,null,r),v.createElement(uyt,{type:"text",placeholder:t||f,value:p,onFocus:o,onBlur:a,isActive:l,onChange:b=>{let R=b.target.value;_(R);let O=s==="year"?/\d\d\d\d/:s==="month"?/\d\d-\d\d\d\d/:s==="quarter"?/\d\d\d\d-Q\d/:s==="week"?/WK\d\d-\d\d-\d\d\d\d/:s==="day"?/\d\d-\d\d-\d\d\d\d/:s==="hour"?/\d\d-\d\d-\d\d\d\d \d\d:00/:s==="minute"?/\d\d-\d\d-\d\d\d\d \d\d:\d\d/:/\d\d-\d\d-\d\d\d\d \d\d:\d\d:\d\d/;if(R.match(O)){let j=(0,YH.default)(R,f);j.isValid()&&e(j.toDate())}},autoFocus:i}))},uyt=In.input`
  font-family: Roboto;
  font-size: 14px;
  border-radius: 5px;
  padding: 5.75px 10px;
  outline: none;
  width: calc(100% - 22px);

  ${({isActive:n})=>`
    border: 1px solid ${n?mi.dimension.fillStrong:"#efefef"};
    background-color: ${n?mi.dimension.fillLight:"white"};
    color: ${n?mi.dimension.fillStrong:"#505050"};
  `}

  &:focus {
    border-color: #4285f4;
    background-color: ${mi.dimension.fillLight};
  }
`;m();m();var l9=fr(Fr()),Vo=fr(cle());function VFe(n){return["year","quarter","month","week","day","hour","minute","second"].indexOf(n)}function lyt(n){return["January","February","March","April","May","June","July","August","September","October","November","December"][n]}var JH=({value:n,setValue:e,maxLevel:t})=>{let[r,i]=(0,l9.useState)(n),s=wyt(r),[o,a]=(0,l9.useState)(t),l=Math.floor((0,Vo.default)(r).year()/10)*10;(0,l9.useEffect)(()=>{(VFe(t)<VFe(o)||o==="quarter"&&t!=="quarter"||o==="week"&&t!=="week")&&a(t)},[t,o]),(0,l9.useEffect)(()=>{i(n)},[n]);let f=L=>{let q=(0,Vo.default)(r).year(L).toDate();i(q),e(q),t!=="year"&&a(t==="quarter"?"quarter":"month")},p=L=>{let q=()=>f(l+L);return L===-1||L===10?v.createElement(_yt,{onClick:q,isSelected:!1},l+L):v.createElement(QFe,{onClick:q,isSelected:(0,Vo.default)(r).year()===l+L},l+L)},_=L=>{let q=(0,Vo.default)(r).month(L).toDate();i(q),e(q),t!=="month"&&a(t==="week"?"week":"day")},b=L=>{i(L),e(L),t!=="day"&&a(t)},R=L=>{i(L),e(L),t!=="week"&&a("day")},O=L=>{let q=(0,Vo.default)(r).quarter(L+1).toDate();i(q),e(q)},j=L=>v.createElement(yyt,{onClick:()=>_(L),isSelected:(0,Vo.default)(r).month()===L&&(0,Vo.default)(r).year()===(0,Vo.default)(n).year()},lyt(L)),$=L=>v.createElement(gyt,{onClick:()=>O(L),isSelected:(0,Vo.default)(r).quarter()-1===L&&(0,Vo.default)(r).year()===(0,Vo.default)(n).year()},"Q",L+1);return v.createElement(cyt,null,v.createElement(fyt,null,v.createElement(WFe,null,v.createElement(oAe,{onClick:()=>{o==="day"||o==="week"?i((0,Vo.default)(r).subtract(1,"month").toDate()):o==="month"||o==="quarter"?i((0,Vo.default)(r).subtract(1,"year").toDate()):o==="year"?i((0,Vo.default)(r).subtract(10,"years").toDate()):b((0,Vo.default)(r).subtract(1,"days").toDate())}})),v.createElement(dyt,{onClick:()=>{o==="day"||o==="week"?a("month"):o==="month"||o==="quarter"?a("year"):(o==="hour"||o==="minute"||o==="second")&&a("day")}},(o==="day"||o==="week")&&(0,Vo.default)(r).format("MMMM YYYY"),(o==="month"||o==="quarter")&&(0,Vo.default)(r).format("YYYY"),o==="year"&&v.createElement(v.Fragment,null,l,"-",l+9),(o==="hour"||o==="minute"||o==="second")&&v.createElement(v.Fragment,null,(0,Vo.default)(r).format("MMMM D, YYYY"))),v.createElement(WFe,null,v.createElement(aAe,{onClick:()=>{o==="day"||o==="week"?i((0,Vo.default)(r).add(1,"month").toDate()):o==="month"||o==="quarter"?i((0,Vo.default)(r).add(1,"year").toDate()):o==="year"?i((0,Vo.default)(r).add(10,"years").toDate()):b((0,Vo.default)(r).add(1,"days").toDate())}}))),o==="day"&&v.createElement(GFe,null,v.createElement(YFe,null,v.createElement(Ch,null,"S"),v.createElement(Ch,null,"M"),v.createElement(Ch,null,"T"),v.createElement(Ch,null,"W"),v.createElement(Ch,null,"T"),v.createElement(Ch,null,"F"),v.createElement(Ch,null,"S")),s.map((L,q)=>v.createElement(Eyt,{key:q},L.map(P=>v.createElement(Cyt,{key:P.number,isCurrentMonth:P.isCurrentMonth,onClick:()=>{b(P.date)},isSelected:n.getTime()===P.date.valueOf()},P.number))))),o==="month"&&v.createElement(hyt,null,v.createElement(XH,null,j(0),j(1),j(2)),v.createElement(XH,null,j(3),j(4),j(5)),v.createElement(XH,null,j(6),j(7),j(8)),v.createElement(XH,null,j(9),j(10),j(11))),o==="year"&&v.createElement(vyt,null,v.createElement(ZH,null,p(-1),p(0),p(1)),v.createElement(ZH,null,p(2),p(3),p(4)),v.createElement(ZH,null,p(5),p(6),p(7)),v.createElement(ZH,null,p(8),p(9),p(10))),o==="quarter"&&v.createElement(xyt,null,$(0),$(1),$(2),$(3)),o==="week"&&v.createElement(GFe,null,v.createElement(YFe,null,v.createElement(Ch,null,"S"),v.createElement(Ch,null,"M"),v.createElement(Ch,null,"T"),v.createElement(Ch,null,"W"),v.createElement(Ch,null,"T"),v.createElement(Ch,null,"F"),v.createElement(Ch,null,"S")),s.map((L,q)=>v.createElement(byt,{key:q,onClick:()=>{R(L[0].date)},isSelected:n.getTime()===L[0].date.valueOf()},L.map(P=>v.createElement(Syt,{key:P.number,isCurrentMonth:P.isCurrentMonth},P.number))))),(o==="hour"||o==="minute"||o==="second")&&v.createElement(pyt,null,v.createElement(myt,null,v.createElement(Sh,null,v.createElement(U1,{label:"Hours",value:parseInt((0,Vo.default)(r).format("hh")),setValue:L=>{let q=(0,Vo.default)(r).hour()>=12?"PM":"AM",P=parseInt((0,Vo.default)(`${L} ${q}`,["hh A"]).format("H"));e((0,Vo.default)(r).hour(P).toDate())}})),(t==="minute"||t==="second")&&v.createElement(Sh,null,v.createElement(U1,{label:"Minutes",value:(0,Vo.default)(r).minutes(),setValue:L=>{e((0,Vo.default)(r).minute(L).toDate())}})),t==="second"&&v.createElement(Sh,null,v.createElement(U1,{label:"Seconds",value:(0,Vo.default)(r).seconds(),setValue:L=>{e((0,Vo.default)(r).second(L).toDate())}})),v.createElement("div",{style:{display:"flex",justifyContent:"flex-end",flexDirection:"column"}},v.createElement(gl,{value:(0,Vo.default)(r).hour()>=12?"PM":"AM",onChange:L=>{let q=parseInt((0,Vo.default)(r).format("h")),P=parseInt((0,Vo.default)(`${q} ${L}`,["hh A"]).format("H"));e((0,Vo.default)(r).hour(P).toDate())},options:[{value:"AM",label:"AM"},{value:"PM",label:"PM"}]})))))},cyt=In.div`
  user-select: none;
  font-size: 14px;
  font-family: Roboto;
`,fyt=In.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  gap: 5px;
  margin-bottom: 5px;
`,WFe=In.div`
  border-radius: 5px;
  padding-top: 2px;
  padding-left: 4px;
  padding-right: 4px;
  cursor: pointer;

  &:hover {
    background-color: #efefef;
  }
`,dyt=In.div`
  border-radius: 5px;
  padding: 4px;
  padding-top: 5px;
  flex-grow: 1;
  text-align: center;
  cursor: pointer;
  text-transform: none;
  font-weight: normal;

  &:hover {
    background-color: #efefef;
  }
`,hyt=In.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 209.5px;
`,pyt=In.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 90px;
`,myt=In.div`
  display: flex;
  flex-direction: row;
  user-select: none;
  justify-content: space-around;
  gap: 10px;
`,xyt=In.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 209.5px;
`,XH=In.div`
  display: flex;
  flex-direction: row;
  gap: 2px;
  justify-content: space-between;
`,gyt=In.div`
  width: calc(100% - 22px);
  padding: 5px 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #efefef;
  color: #505050;
  cursor: pointer;
  text-transform: none;
  border-radius: 5px;
  font-weight: normal;

  &:hover {
    background-color: ${mi.dimension.fillLight};
    border-color: ${mi.dimension.fillMedium};
  }

  ${({isSelected:n})=>n?`
      background-color: ${mi.dimension.fillLight};
      border-color: ${mi.dimension.fillMedium};
    `:""}
`,yyt=In.div`
  width: 60px;
  min-width: 60px;
  max-width: 60px;
  padding: 5px 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #efefef;
  color: #505050;
  cursor: pointer;
  text-transform: none;
  border-radius: 5px;
  font-weight: normal;

  &:hover {
    background-color: ${mi.dimension.fillLight};
    border-color: ${mi.dimension.fillMedium};
  }

  ${({isSelected:n})=>n?`
      background-color: ${mi.dimension.fillLight};
      border-color: ${mi.dimension.fillMedium};
    `:""}
`,vyt=In.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 209.5px;
`,ZH=In.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  gap: 2px;
`,QFe=In.div`
  width: 60px;
  min-width: 60px;
  max-width: 60px;
  padding: 5px 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #efefef;
  color: #505050;
  font-weight: normal;
  cursor: pointer;
  text-transform: none;
  border-radius: 5px;

  &:hover {
    background-color: ${mi.dimension.fillLight};
    border-color: ${mi.dimension.fillMedium};
  }

  ${({isSelected:n})=>n?`
      background-color: ${mi.dimension.fillLight};
      border-color: ${mi.dimension.fillMedium};
    `:""}
`,_yt=In(QFe)`
  color: #909090;
`,GFe=In.div`
  display: flex;
  flex-direction: column;
  gap: 2px;
  user-select: none;
`,YFe=In.div`
  display: flex;
  flex-direction: row;
  gap: 2px;
  justify-content: space-between;
`,Eyt=In.div`
  display: flex;
  flex-direction: row;
  gap: 2px;
  justify-content: space-between;
`,byt=In.div`
  display: flex;
  cursor: pointer;
  flex-direction: row;
  gap: 2px;
  border-radius: 50px;
  justify-content: space-between;
  border: 1px solid transparent;

  ${({isSelected:n})=>n?`
    background-color: ${mi.dimension.fillLight};
    color:  ${mi.dimension.fillStrong};
    border-color: ${mi.dimension.fillMedium};
  `:`
    &:hover {
      background-color: ${mi.dimension.fillLight};
    }
  `}
`,fle=In.div`
  width: 16.5px;
  height: 16.5px;
  min-width: 16.5px;
  max-width: 16.5px;
  padding: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
`,Ch=In(fle)`
  font-weight: bold;
  color: #505050;
`,Syt=In(fle)`
  cursor: pointer;
  border-radius: 50px;
  font-size: 12px;
  ${({isCurrentMonth:n})=>`
    color: ${n?"#505050":"#909090"};
  `}
`,Cyt=In(fle)`
  cursor: pointer;
  border-radius: 50px;
  font-size: 12px;
  border: 1px solid transparent;
  ${({isCurrentMonth:n,isSelected:e})=>`
    color: ${n?"#505050":"#909090"};
    ${e?`
      background-color: ${mi.dimension.fillLight};
      color:  ${mi.dimension.fillStrong};
      border-color: ${mi.dimension.fillMedium};
    `:`
      &:hover {
        background-color: ${mi.dimension.fillLight};
      }
    `}
  `}
`;function wyt(n){let e=(0,Vo.default)(n).date(1),t=e.day(),r=e.daysInMonth(),i=e.clone().subtract(1,"day").daysInMonth(),s=[];for(let o=0;o<6;o++){let a=[];for(let l=0;l<7;l++)if(o===0&&l<t){let f=t-l;a.push({number:i-f+1,date:e.clone().subtract(f,"days").toDate(),isCurrentMonth:!1})}else{let f=o*7+l-t;f<r?a.push({number:f+1,date:e.clone().add(f,"days").toDate(),isCurrentMonth:!0}):a.push({number:f-r+1,date:e.clone().add(f,"days").toDate(),isCurrentMonth:!1})}s.push(a)}return s}var KFe=({filter:n,setFilter:e,type:t})=>{let r=b=>{e(dTe(n,b))},i=v.createElement(gl,{value:n.type,onChange:r,options:[{value:"is_in_the_past",label:"Past"},{value:"is_last",label:"Last"},{value:"is_this",label:"This"},{value:"is_on",label:"On"},{value:"is_after",label:"After"},{value:"is_before",label:"Before"},{value:"is_between",label:"Between"},{value:"is_null",label:"Null"},{value:"is_not_null",label:"Not null"},{value:"custom",label:"Custom"}]}),s=Fyt(n,e,t,i),o=Oyt(n,e,t,i),a=Dyt(n,e,t,i),l=Ryt(n,e,t,i),f=Nyt(n,e,i),p=n.type==="is_null"||n.type==="is_not_null"?v.createElement("div",{style:{width:"100%"}},i):null,_=s.util||l.util||f.util||a.util||o.util;return v.createElement("div",null,v.createElement(Ayt,null,s.builder,l.builder,f.builder,a.builder,o.builder,p),_&&v.createElement(Tyt,null,s.util,l.util,f.util,a.util,o.util))},Ayt=In.div`
  padding: 0 15px;
`,Tyt=In.div`
  border-top: 1px solid #efefef;
  padding: 15px;
  margin-top: 10px;
  padding-bottom: 0;
`,c9=In.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  width: 100%;
`,dle=In.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  width: 100%;
`;function Fyt(n,e,t,r){if(n.type!=="is_in_the_past")return{builder:null,util:null};let i=[{value:"years",label:"Years"},{value:"quarters",label:"Quarters"},{value:"months",label:"Months"},{value:"weeks",label:"Weeks"},{value:"days",label:"Days"}];return t==="timestamp"&&i.push({value:"hours",label:"Hours"},{value:"minutes",label:"Minutes"},{value:"seconds",label:"Seconds"}),{builder:v.createElement(c9,null,v.createElement("div",{style:{width:"30%",flexShrink:1}},r),v.createElement("div",{style:{width:"30%",flexShrink:1}},v.createElement(xl,{value:n.amount.toString(),setValue:a=>e({...n,amount:parseFloat(a)})})),v.createElement("div",{style:{width:"40%",flexShrink:1}},v.createElement(gl,{value:n.unit,options:i,onChange:a=>e({...n,unit:a})}))),util:null}}function Dyt(n,e,t,r){if(n.type!=="is_this"&&n.type!=="is_last")return{builder:null,util:null};let i=[{value:"year",label:"Year"},{value:"quarter",label:"Quarter"},{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}];return t==="timestamp"&&i.push({value:"hour",label:"Hour"},{value:"minute",label:"Minute"},{value:"second",label:"Second"}),{builder:v.createElement(c9,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},r),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(gl,{value:n.period,options:i,onChange:a=>e({...n,period:a})}))),util:null}}function Ryt(n,e,t,r){let[i,s]=(0,Wy.useState)(!1),o=(0,Wy.useRef)(null),a=(0,Wy.useRef)(null);if(M1([o,a],()=>s(!1)),n.type!=="is_on"&&n.type!=="is_after"&&n.type!=="is_before")return{builder:null,util:null};let l=[{value:"year",label:"Year"},{value:"quarter",label:"Quarter"},{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}];t==="timestamp"&&l.push({value:"hour",label:"Hour"},{value:"minute",label:"Minute"},{value:"second",label:"Second"});let f=t==="date"&&(n.granularity==="second"||n.granularity==="minute"||n.granularity==="hour")?"day":n.granularity,p=v.createElement(dle,null,v.createElement(c9,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},r),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(gl,{value:n.granularity,options:l,onChange:b=>e({...n,granularity:b})}))),v.createElement(c9,null,v.createElement("div",{ref:o,style:{width:"100%",flexShrink:1}},v.createElement(dN,{value:n.date,setValue:b=>e({...n,date:b}),granularity:f,onFocus:()=>s(!0),isActive:i})))),_=i?v.createElement("div",{ref:a},v.createElement(JH,{value:n.date,setValue:b=>e({...n,date:b}),maxLevel:f})):null;return{builder:p,util:_}}function Oyt(n,e,t,r){let[i,s]=(0,Wy.useState)(void 0),o=(0,Wy.useRef)(null),a=(0,Wy.useRef)(null),l=(0,Wy.useRef)(null);if(M1([o,a,l],()=>{s(void 0)}),n.type!=="is_between")return{builder:null,util:null};let f=[{value:"year",label:"Year"},{value:"quarter",label:"Quarter"},{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}];t==="timestamp"&&f.push({value:"hour",label:"Hour"},{value:"minute",label:"Minute"},{value:"second",label:"Second"});let p=t==="date"&&(n.granularity==="second"||n.granularity==="minute"||n.granularity==="hour")?"day":n.granularity,_=v.createElement(dle,null,v.createElement(c9,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},r),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(gl,{value:n.granularity,options:f,onChange:R=>e({...n,granularity:R})}))),v.createElement(c9,null,v.createElement("div",{ref:o},v.createElement(dN,{value:n.start,setValue:R=>e({...n,start:R}),granularity:p,onFocus:()=>s({key:"start",date:n.start,setValue:R=>e({...n,start:R})}),isActive:i?.key==="start"})),v.createElement("div",{ref:a},v.createElement(dN,{value:n.end,setValue:R=>e({...n,end:R}),granularity:p,onFocus:()=>s({key:"end",date:n.end,setValue:R=>e({...n,end:R})}),isActive:i?.key==="end"})))),b=i?v.createElement("div",{ref:l},v.createElement(JH,{key:i.key,value:i.date,setValue:i.setValue,maxLevel:p})):null;return{builder:_,util:b}}function Nyt(n,e,t){return n.type!=="custom"?{builder:null,util:null}:{builder:v.createElement(dle,null,t,v.createElement(xl,{value:n.partial,setValue:s=>e({type:"custom",partial:s}),placeholder:"!= null"})),util:null}}m();var JFe=({filter:n,setFilter:e})=>{let t=o=>{e(hTe(n,o))},r=v.createElement(gl,{value:n.type,onChange:t,options:[{value:"is_true",label:"True"},{value:"is_false",label:"False"},{value:"is_null",label:"Null"},{value:"is_not_null",label:"Not null"},{value:"is_true_or_null",label:"True or null"},{value:"is_false_or_null",label:"False or null"},{value:"custom",label:"Custom"}]}),i=Iyt(n,e,r),s=n.type!=="custom"?v.createElement("div",{style:{width:"100%"}},r):null;return v.createElement(Lyt,null,i.builder,s)},Lyt=In.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  padding: 0 15px;
  width: calc(100% - 30px);
`,kyt=In.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  width: 100%;
`;function Iyt(n,e,t){return n.type!=="custom"?{builder:null,util:null}:{builder:v.createElement(kyt,null,t,v.createElement(xl,{value:n.partial,setValue:i=>e({type:"custom",partial:i}),placeholder:"!= null"}))}}var ib=({model:n,modelPath:e,source:t,field:r,addFilter:i,needsRename:s,onComplete:o,fieldPath:a,initial:l})=>{let f=Vh(r),p=Up(r),[_,b]=(0,rb.useState)((f==="string"&&l)??{type:"is_equal_to",values:[]}),[R,O]=(0,rb.useState)((f==="number"&&l)??{type:"is_equal_to",values:[]}),[j,$]=(0,rb.useState)(((f==="date"||f==="timestamp")&&l)??{type:"is_on",date:new Date,granularity:"day"}),[L,q]=(0,rb.useState)((f==="boolean"&&l)??{type:"is_true"}),[P,W]=(0,rb.useState)(f==="string"?PE(a,_):f==="number"?Tue(a,R):f==="date"||f==="timestamp"?Due(a,j):f==="boolean"?Fue(a,L):""),[oe,I]=(0,rb.useState)("");return v.createElement("div",null,v.createElement("form",null,v.createElement(Fc,{style:{padding:"15px",paddingBottom:0}},"Filter",v.createElement(sH,null,v.createElement(Ow,{color:"dimension"},v.createElement(Md,{type:f,kind:p})),v.createElement(aH,null,r.name))),s&&v.createElement(Myt,null,v.createElement(Sh,null,v.createElement(xl,{value:oe,setValue:I,placeholder:"field name",label:"Field Name",autoFocus:!0}),v.createElement(lp,null,"Filter"))),f==="string"&&v.createElement(zFe,{modelPath:e,model:n,source:t,fieldPath:a,filter:_,setFilter:J=>{b(J),W(PE(a,J))}}),f==="boolean"&&v.createElement(JFe,{filter:L,setFilter:J=>{q(J),W(Fue(a,J))}}),f==="number"&&v.createElement(HFe,{filter:R,setFilter:J=>{O(J),W(Tue(a,J))}}),(f==="date"||f==="timestamp")&&v.createElement(KFe,{type:f,filter:j,setFilter:J=>{$(J),W(Due(a,J))}}),v.createElement(bh,{style:{padding:"0 15px 15px 15px"}},v.createElement(Ga,{type:"button",color:"secondary",onClick:o},"Cancel"),v.createElement(Ga,{onClick:J=>{Gx(t,P).then(he=>{i(he,oe||void 0),o()}).catch(console.log),J.stopPropagation(),J.preventDefault()}},"Save"))))},Myt=In.div`
  margin: 15px;
  margin-top: 0;
  margin-bottom: 10px;
`;m();m();var eV=fr(Fr());var hN=({source:n,addDimension:e,onComplete:t,initialCode:r,initialName:i})=>{let[s,o]=(0,eV.useState)(r||""),[a,l]=(0,eV.useState)(i||""),[f,p]=(0,eV.useState)(),_=r===void 0;return v.createElement(Dc,null,v.createElement(Fc,null,_?"New":"Edit"," Dimension"),v.createElement("form",null,v.createElement(Sh,null,_&&v.createElement(xl,{value:a,setValue:l,placeholder:"field name",label:"Field Name",autoFocus:!0}),v.createElement(xl,{value:s,setValue:o,placeholder:"some_field * 10",label:_?"Definition":void 0})),v.createElement(uH,{error:f}),v.createElement(bh,null,v.createElement(Ga,{type:"button",color:"secondary",onClick:t},"Cancel"),v.createElement(Ga,{onClick:b=>{b.stopPropagation(),b.preventDefault(),bFe(n,a,s).then(R=>{e(R),t()}).catch(p)}},"Save"))))};m();m();m();m();var pN=fr(Fr()),XFe=n=>pN.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},pN.createElement("title",null,"viz_table"),pN.createElement("g",{id:"viz_table",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},pN.createElement("path",{d:"M81.0526316,23 L28.9473684,23 C25.1263158,23 22,26.1662162 22,30.036036 L22,79.2882883 C22,83.1581081 25.1263158,86.3243243 28.9473684,86.3243243 L81.0526316,86.3243243 C84.8736842,86.3243243 88,83.1581081 88,79.2882883 L88,30.036036 C88,26.1662162 84.8736842,23 81.0526316,23 Z M80.8648649,30.1351351 L80.8648649,40.8378378 L28.2432432,40.8378378 L28.2432432,30.1351351 L80.8648649,30.1351351 Z M63.9189189,79.1891892 L46.0810811,79.1891892 L46.0810811,47.972973 L63.9189189,47.972973 L63.9189189,79.1891892 Z M28.2432432,47.972973 L38.9459459,47.972973 L38.9459459,79.1891892 L28.2432432,79.1891892 L28.2432432,47.972973 Z M71.0540541,79.1891892 L71.0540541,47.972973 L81.7567568,47.972973 L81.7567568,79.1891892 L71.0540541,79.1891892 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"})));m();var sb=fr(Fr()),ZFe=n=>sb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},sb.createElement("title",null,"viz_dashboard"),sb.createElement("g",{id:"viz_dashboard",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},sb.createElement("g",{id:"dashboard_black_24dp",transform:"translate(13.000000, 13.000000)"},sb.createElement("path",{d:"M5,0 L80,0 C82.7614237,-5.07265313e-16 85,2.23857625 85,5 L85,80 C85,82.7614237 82.7614237,85 80,85 L5,85 C2.23857625,85 3.38176876e-16,82.7614237 0,80 L0,5 C-3.38176876e-16,2.23857625 2.23857625,5.07265313e-16 5,0 Z",id:"Path"}),sb.createElement("path",{d:"M67,18 L67,25 L53,25 L53,18 L67,18 M32,18 L32,39 L18,39 L18,18 L32,18 M67,46 L67,67 L53,67 L53,46 L67,46 M32,60 L32,67 L18,67 L18,60 L32,60 M69,11 L51,11 C48.2385763,11 46,13.2385763 46,16 L46,27 C46,29.7614237 48.2385763,32 51,32 L69,32 C71.7614237,32 74,29.7614237 74,27 L74,16 C74,13.2385763 71.7614237,11 69,11 Z M34,11 L16,11 C13.2385763,11 11,13.2385763 11,16 L11,41 C11,43.7614237 13.2385763,46 16,46 L34,46 C36.7614237,46 39,43.7614237 39,41 L39,16 C39,13.2385763 36.7614237,11 34,11 Z M69,39 L51,39 C48.2385763,39 46,41.2385763 46,44 L46,69 C46,71.7614237 48.2385763,74 51,74 L69,74 C71.7614237,74 74,71.7614237 74,69 L74,44 C74,41.2385763 71.7614237,39 69,39 Z M34,53 L16,53 C13.2385763,53 11,55.2385763 11,58 L11,69 C11,71.7614237 13.2385763,74 16,74 L34,74 C36.7614237,74 39,71.7614237 39,69 L39,58 C39,55.2385763 36.7614237,53 34,53 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"}))));m();var Qy=fr(Fr()),eDe=n=>Qy.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Qy.createElement("title",null,"viz_text"),Qy.createElement("g",{id:"viz_text",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Qy.createElement("rect",{id:"Rectangle-Copy",stroke:"#9aa0a6",strokeWidth:6,x:15.5,y:35,width:79,height:40,rx:5}),Qy.createElement("g",{id:"abc",transform:"translate(33.090000, 44.134000)",fill:"#9aa0a6",fillRule:"nonzero"},Qy.createElement("path",{d:"M4.81,19.032 C3.406,19.032 2.25333333,18.6203333 1.352,17.797 C0.450666667,16.9736667 0,15.8946667 0,14.56 C0,13.676 0.234,12.896 0.702,12.22 C1.17,11.544 1.81133333,11.024 2.626,10.66 C3.44066667,10.296 4.342,10.114 5.33,10.114 C6.69933333,10.114 7.86933333,10.3133333 8.84,10.712 L8.84,10.14 C8.84,9.412 8.567,8.82266667 8.021,8.372 C7.475,7.92133333 6.74266667,7.696 5.824,7.696 C5.2,7.696 4.59766667,7.839 4.017,8.125 C3.43633333,8.411 2.95533333,8.788 2.574,9.256 L0.39,7.54 C1.03133333,6.708 1.83733333,6.06666667 2.808,5.616 C3.77866667,5.16533333 4.836,4.94 5.98,4.94 C8.008,4.94 9.55066667,5.408 10.608,6.344 C11.6653333,7.28 12.194,8.64933333 12.194,10.452 L12.194,18.616 L8.84,18.616 L8.84,17.264 L8.632,17.264 C8.23333333,17.784 7.709,18.2086667 7.059,18.538 C6.409,18.8673333 5.65933333,19.032 4.81,19.032 Z M5.616,16.38 C6.604,16.38 7.38833333,16.0636667 7.969,15.431 C8.54966667,14.7983333 8.84,14.0573333 8.84,13.208 C7.956,12.792 7.02866667,12.584 6.058,12.584 C4.29,12.584 3.406,13.2426667 3.406,14.56 C3.406,15.0973333 3.59666667,15.535 3.978,15.873 C4.35933333,16.211 4.90533333,16.38 5.616,16.38 Z",id:"Shape"}),Qy.createElement("path",{d:"M22.724,19.032 C21.8226667,19.032 21.021,18.8413333 20.319,18.46 C19.617,18.0786667 19.0926667,17.602 18.746,17.03 L18.538,17.03 L18.538,18.616 L15.34,18.616 L15.34,0 L18.746,0 L18.746,5.096 L18.538,6.968 L18.746,6.968 C19.11,6.396 19.6386667,5.915 20.332,5.525 C21.0253333,5.135 21.8226667,4.94 22.724,4.94 C23.92,4.94 25.0076667,5.239 25.987,5.837 C26.9663333,6.435 27.7333333,7.27133333 28.288,8.346 C28.8426667,9.42066667 29.12,10.634 29.12,11.986 C29.12,13.3553333 28.8426667,14.573 28.288,15.639 C27.7333333,16.705 26.9663333,17.537 25.987,18.135 C25.0076667,18.733 23.92,19.032 22.724,19.032 Z M22.126,15.886 C22.7673333,15.886 23.3653333,15.7213333 23.92,15.392 C24.4746667,15.0626667 24.9166667,14.6033333 25.246,14.014 C25.5753333,13.4246667 25.74,12.7486667 25.74,11.986 C25.74,11.2233333 25.5753333,10.5473333 25.246,9.958 C24.9166667,9.36866667 24.4746667,8.91366667 23.92,8.593 C23.3653333,8.27233333 22.7673333,8.112 22.126,8.112 C21.502,8.112 20.9126667,8.27233333 20.358,8.593 C19.8033333,8.91366667 19.3613333,9.36866667 19.032,9.958 C18.7026667,10.5473333 18.538,11.2233333 18.538,11.986 C18.538,12.7486667 18.7026667,13.4246667 19.032,14.014 C19.3613333,14.6033333 19.8033333,15.0626667 20.358,15.392 C20.9126667,15.7213333 21.502,15.886 22.126,15.886 Z",id:"Shape"}),Qy.createElement("path",{d:"M37.986,19.032 C36.6513333,19.032 35.4553333,18.733 34.398,18.135 C33.3406667,17.537 32.513,16.7006667 31.915,15.626 C31.317,14.5513333 31.018,13.338 31.018,11.986 C31.018,10.634 31.317,9.425 31.915,8.359 C32.513,7.293 33.3406667,6.45666667 34.398,5.85 C35.4553333,5.24333333 36.6513333,4.94 37.986,4.94 C39.4593333,4.94 40.7246667,5.25633333 41.782,5.889 C42.8393333,6.52166667 43.602,7.41866667 44.07,8.58 L40.95,9.88 C40.3953333,8.70133333 39.4073333,8.112 37.986,8.112 C36.946,8.112 36.0923333,8.46733333 35.425,9.178 C34.7576667,9.88866667 34.424,10.8246667 34.424,11.986 C34.424,13.1646667 34.7576667,14.1093333 35.425,14.82 C36.0923333,15.5306667 36.946,15.886 37.986,15.886 C39.4246667,15.886 40.4646667,15.262 41.106,14.014 L44.2,15.366 C43.628,16.5273333 42.8133333,17.4286667 41.756,18.07 C40.6986667,18.7113333 39.442,19.032 37.986,19.032 Z",id:"Path"}))));m();var Yx=fr(Fr()),tDe=n=>Yx.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Yx.createElement("title",null,"viz_currency"),Yx.createElement("g",{id:"viz_currency",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Yx.createElement("g",{id:"Group",transform:"translate(19.000000, 19.000000)"},Yx.createElement("circle",{id:"Oval",stroke:"#9aa0a6",strokeWidth:7,cx:36,cy:36,r:32.5}),Yx.createElement("path",{d:"M35.7525,20.06 C38.5425,20.06 40.7775,20.7425 42.4575,22.1075 C44.1375,23.4725 45.2775,25.01 45.8775,26.72 L41.4225,28.61 C41.1225,27.53 40.4925,26.6 39.5325,25.82 C38.5725,25.04 37.3275,24.65 35.7975,24.65 C34.3275,24.65 33.0825,25.04 32.0625,25.82 C31.0425,26.6 30.5325,27.59 30.5325,28.79 C30.5325,29.9 30.99,30.8225 31.905,31.5575 C32.759,32.2435 34.0507333,32.8968333 35.7802,33.5175 L38.2275,34.37 C40.9875,35.33 43.1175,36.575 44.6175,38.105 C46.1175,39.635 46.8675,41.675 46.8675,44.225 C46.8675,46.325 46.335,48.0875 45.27,49.5125 C44.205,50.9375 42.84,51.995 41.175,52.685 C39.51,53.375 37.8075,53.72 36.0675,53.72 C33.3975,53.72 30.9975,52.94 28.8675,51.38 C26.7375,49.82 25.2525,47.63 24.4125,44.81 L29.0925,42.92 C29.5725,44.72 30.4275,46.19 31.6575,47.33 C32.8875,48.47 34.3725,49.04 36.1125,49.04 C37.7325,49.04 39.105,48.62 40.23,47.78 C41.355,46.94 41.9175,45.785 41.9175,44.315 C41.9175,42.965 41.4225,41.8475 40.4325,40.9625 C39.4975,40.1266667 37.9202778,39.3109028 35.7008333,38.5152083 L33.2775,37.655 C31.0875,36.875 29.265,35.7875 27.81,34.3925 C26.355,32.9975 25.6275,31.145 25.6275,28.835 C25.6275,27.245 26.055,25.775 26.91,24.425 C27.765,23.075 28.965,22.01 30.51,21.23 C32.055,20.45 33.8025,20.06 35.7525,20.06 Z",id:"Path",fill:"#9aa0a6",fillRule:"nonzero"}),Yx.createElement("line",{x1:36,y1:14,x2:36,y2:21,id:"Line-Copy-4",stroke:"#9aa0a6",strokeWidth:5}),Yx.createElement("line",{x1:36,y1:52,x2:36,y2:59,id:"Line-Copy-5",stroke:"#9aa0a6",strokeWidth:5})),Yx.createElement("g",{id:"S",transform:"translate(43.412500, 37.060000)"})));m();var mN=fr(Fr()),nDe=n=>mN.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},mN.createElement("title",null,"viz_image"),mN.createElement("g",{id:"viz_image",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},mN.createElement("path",{d:"M81.4444444,28.5555556 L81.4444444,81.4444444 L28.5555556,81.4444444 L28.5555556,28.5555556 L81.4444444,28.5555556 M81.4444444,21 L28.5555556,21 C24.4,21 21,24.4 21,28.5555556 L21,81.4444444 C21,85.6 24.4,89 28.5555556,89 L81.4444444,89 C85.6,89 89,85.6 89,81.4444444 L89,28.5555556 C89,24.4 85.6,21 81.4444444,21 Z M63.0844444,54.4711111 L51.7511111,69.0911111 L43.6666667,59.3066667 L32.3333333,73.8888889 L77.6666667,73.8888889 L63.0844444,54.4711111 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"})));m();var ob=fr(Fr()),rDe=n=>ob.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},ob.createElement("title",null,"viz_time"),ob.createElement("g",{id:"viz_time",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},ob.createElement("g",{id:"Group-Copy-19",transform:"translate(51.307692, 36.538462)",fill:"#9aa0a6",fillRule:"nonzero"},ob.createElement("polygon",{id:"Path",points:"5.30769231 0 0 0 0 21.7906683 18.5769231 33.2307692 21.2307692 28.7636822 5.30769231 19.0668348"})),ob.createElement("circle",{id:"Oval",stroke:"#9aa0a6",strokeWidth:7,cx:55,cy:55,r:32.5})));m();var ab=fr(Fr()),iDe=n=>ab.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},ab.createElement("title",null,"viz_json"),ab.createElement("g",{id:"viz_json",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},ab.createElement("g",{id:"{;}",transform:"translate(24.000000, 22.000000)",fill:"#9aa0a6",fillRule:"nonzero"},ab.createElement("path",{d:"M17.0296296,66 C13.2765432,66 10.3209877,64.871179 8.16296296,62.6135371 C6.00493827,60.3558952 4.92592593,57.3296943 4.92592593,53.5349345 L4.92592593,41.6462882 C4.92592593,39.9170306 4.45679012,38.5840611 3.51851852,37.6473799 C2.58024691,36.7106987 1.40740741,36.2423581 0,36.2423581 L0,29.7576419 C1.40740741,29.7576419 2.58024691,29.2893013 3.51851852,28.3526201 C4.45679012,27.4159389 4.92592593,26.0829694 4.92592593,24.3537118 L4.92592593,12.4650655 C4.92592593,8.67030568 6.00493827,5.6441048 8.16296296,3.38646288 C10.3209877,1.12882096 13.2765432,0 17.0296296,0 L19,0 L19,6.41266376 L17.7333333,6.41266376 C16.091358,6.41266376 14.7425926,6.98908297 13.687037,8.1419214 C12.6314815,9.29475983 12.1037037,10.8318777 12.1037037,12.7532751 L12.1037037,24.3537118 C12.1037037,26.7074236 11.7166667,28.5687773 10.9425926,29.9377729 C10.1685185,31.3067686 8.93703704,32.2554585 7.24814815,32.7838428 L7.24814815,33.2161572 C8.93703704,33.7445415 10.1685185,34.6812227 10.9425926,36.0262009 C11.7166667,37.371179 12.1037037,39.2445415 12.1037037,41.6462882 L12.1037037,53.2467249 C12.1037037,55.1681223 12.6314815,56.7052402 13.687037,57.8580786 C14.7425926,59.010917 16.091358,59.5873362 17.7333333,59.5873362 L19,59.5873362 L19,66 L17.0296296,66 Z",id:"Path"}),ab.createElement("path",{d:"M44,59.5873362 L45.4074074,59.5873362 C47.0493827,59.5873362 48.3864198,59.010917 49.4185185,57.8580786 C50.4506173,56.7052402 50.9666667,55.1681223 50.9666667,53.2467249 L50.9666667,41.6462882 C50.9666667,39.2445415 51.3537037,37.371179 52.1277778,36.0262009 C52.9018519,34.6812227 54.1333333,33.7445415 55.8222222,33.2161572 L55.8222222,32.7838428 C54.1333333,32.2554585 52.9018519,31.3067686 52.1277778,29.9377729 C51.3537037,28.5687773 50.9666667,26.7074236 50.9666667,24.3537118 L50.9666667,12.7532751 C50.9666667,10.8318777 50.4506173,9.29475983 49.4185185,8.1419214 C48.3864198,6.98908297 47.0493827,6.41266376 45.4074074,6.41266376 L44,6.41266376 L44,0 L46.0407407,0 C49.7938272,0 52.7493827,1.12882096 54.9074074,3.38646288 C57.0654321,5.6441048 58.1444444,8.67030568 58.1444444,12.4650655 L58.1444444,24.3537118 C58.1444444,26.0829694 58.6018519,27.4159389 59.5166667,28.3526201 C60.4314815,29.2893013 61.5925926,29.7576419 63,29.7576419 L63,36.2423581 C61.5925926,36.2423581 60.4314815,36.7106987 59.5166667,37.6473799 C58.6018519,38.5840611 58.1444444,39.9170306 58.1444444,41.6462882 L58.1444444,53.5349345 C58.1444444,57.3296943 57.0654321,60.3558952 54.9074074,62.6135371 C52.7493827,64.871179 49.7938272,66 46.0407407,66 L44,66 L44,59.5873362 Z",id:"Path"}))));m();var $4=fr(Fr()),sDe=n=>$4.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},$4.createElement("title",null,"viz_list"),$4.createElement("g",{id:"viz_list",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},$4.createElement("rect",{id:"Rectangle-Copy-58",fill:"#9aa0a6",x:24.1587742,y:27,width:61.9377906,height:8,rx:4}),$4.createElement("rect",{id:"Rectangle-Copy-61",fill:"#9aa0a6",x:24.1587742,y:43,width:61.9377906,height:8,rx:4}),$4.createElement("rect",{id:"Rectangle-Copy-64",fill:"#9aa0a6",x:24.1587742,y:59,width:62,height:8,rx:4}),$4.createElement("rect",{id:"Rectangle-Copy-65",fill:"#9aa0a6",x:24.1587742,y:75.1904762,width:62,height:7.61904762,rx:3.80952381})));m();var $1=fr(Fr()),oDe=n=>$1.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},$1.createElement("title",null,"viz_list_detail"),$1.createElement("g",{id:"viz_list_detail",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},$1.createElement("rect",{id:"Rectangle-Copy-58",fill:"#9aa0a6",x:22.1587742,y:27,width:15.983946,height:8,rx:4}),$1.createElement("rect",{id:"Rectangle-Copy-59",fill:"#9aa0a6",x:44.1587742,y:27,width:43.9558514,height:8,rx:4}),$1.createElement("rect",{id:"Rectangle-Copy-61",fill:"#9aa0a6",x:22.1587742,y:43,width:15.983946,height:8,rx:4}),$1.createElement("rect",{id:"Rectangle-Copy-62",fill:"#9aa0a6",x:44.1587742,y:43,width:43.9558514,height:8,rx:4}),$1.createElement("rect",{id:"Rectangle-Copy-64",fill:"#9aa0a6",x:22.1587742,y:59,width:16,height:8,rx:4}),$1.createElement("rect",{id:"Rectangle-Copy-66",fill:"#9aa0a6",x:44.1587742,y:59,width:44,height:8,rx:4}),$1.createElement("rect",{id:"Rectangle-Copy-65",fill:"#9aa0a6",x:22.1587742,y:75.1904762,width:16,height:7.61904762,rx:3.80952381}),$1.createElement("rect",{id:"Rectangle-Copy-67",fill:"#9aa0a6",x:44.1587742,y:75.1904762,width:44,height:7.61904762,rx:3.80952381})));m();var Kx=fr(Fr()),aDe=n=>Kx.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Kx.createElement("title",null,"viz_bar_chart"),Kx.createElement("g",{id:"viz_bar_chart",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Kx.createElement("g",{id:"Group-3",transform:"translate(20.000000, 24.000000)",fill:"#9aa0a6"},Kx.createElement("g",{id:"Group-2",transform:"translate(34.500000, 31.000000) rotate(-270.000000) translate(-34.500000, -31.000000) translate(3.500000, -3.500000)"},Kx.createElement("path",{d:"M-26.056314,30.056314 L34.943686,30.056314 C37.152825,30.056314 38.943686,31.847175 38.943686,34.056314 L38.943686,34.943686 C38.943686,37.152825 37.152825,38.943686 34.943686,38.943686 L-26.056314,38.943686 C-28.265453,38.943686 -30.056314,37.152825 -30.056314,34.943686 L-30.056314,34.056314 C-30.056314,31.847175 -28.265453,30.056314 -26.056314,30.056314 Z",id:"Rectangle-Copy-59",transform:"translate(4.443686, 34.500000) rotate(-90.000000) translate(-4.443686, -34.500000) "}),Kx.createElement("path",{d:"M-0.491247385,37.8466366 L44.9281075,37.8466366 C47.1372465,37.8466366 48.9281075,39.6374976 48.9281075,41.8466366 L48.9281075,42.7340086 C48.9281075,44.9431476 47.1372465,46.7340086 44.9281075,46.7340086 L-0.491247385,46.7340086 C-2.70038638,46.7340086 -4.49124739,44.9431476 -4.49124739,42.7340086 L-4.49124739,41.8466366 C-4.49124739,39.6374976 -2.70038638,37.8466366 -0.491247385,37.8466366 Z",id:"Rectangle-Copy-62",transform:"translate(22.218430, 42.290323) rotate(-90.000000) translate(-22.218430, -42.290323) "}),Kx.createElement("path",{d:"M23.3837854,43.9469253 L56.6025627,43.9469253 C58.8117017,43.9469253 60.6025627,45.7377863 60.6025627,47.9469253 L60.6025627,48.8342973 C60.6025627,51.0434363 58.8117017,52.8342973 56.6025627,52.8342973 L23.3837854,52.8342973 C21.1746464,52.8342973 19.3837854,51.0434363 19.3837854,48.8342973 L19.3837854,47.9469253 C19.3837854,45.7377863 21.1746464,43.9469253 23.3837854,43.9469253 Z",id:"Rectangle-Copy-66",transform:"translate(39.993174, 48.390611) rotate(-90.000000) translate(-39.993174, -48.390611) "}),Kx.createElement("path",{d:"M46.7286345,49.7286345 L68.8072017,49.7286345 C71.0163407,49.7286345 72.8072017,51.5194955 72.8072017,53.7286345 L72.8072017,54.1927983 C72.8072017,56.4019373 71.0163407,58.1927983 68.8072017,58.1927983 L46.7286345,58.1927983 C44.5194955,58.1927983 42.7286345,56.4019373 42.7286345,54.1927983 L42.7286345,53.7286345 C42.7286345,51.5194955 44.5194955,49.7286345 46.7286345,49.7286345 Z",id:"Rectangle-Copy-67",transform:"translate(57.767918, 53.960716) rotate(-90.000000) translate(-57.767918, -53.960716) "})))));m();var xN=fr(Fr()),uDe=n=>xN.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},xN.createElement("title",null,"viz_line"),xN.createElement("g",{id:"viz_line",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},xN.createElement("path",{d:"M88.1848681,33.1583406 C89.7542734,31.6035859 92.2869054,31.6154626 93.8416601,33.1848679 C95.3445896,34.7019597 95.3835892,37.1191334 93.9668812,38.6829968 L93.8151328,38.84166 L66.2578818,66.14166 C64.8378618,67.5484238 62.6084032,67.6843587 61.0319068,66.4919462 L60.8595019,66.3539866 L45.2420004,53.1430003 L21.844917,76.8176775 C20.3437446,78.336508 17.927116,78.4009733 16.3484126,77.0008213 L16.1881594,76.850753 C14.6693289,75.3495806 14.6048635,72.932952 16.0050156,71.3542486 L16.1550839,71.1939954 L42.1550839,44.8881592 C43.5729843,43.4535802 45.8262314,43.3057778 47.4155704,44.5116324 L47.583248,44.646014 L63.2290004,57.8810003 L88.1848681,33.1583406 Z",id:"Path-10",fill:"#9aa0a6",fillRule:"nonzero"})));m();var ub=fr(Fr()),lDe=n=>ub.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},ub.createElement("title",null,"viz_map_points"),ub.createElement("g",{id:"viz_map_points",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},ub.createElement("g",{id:"Group-Copy-36",transform:"translate(30.000000, 19.000000)",fill:"#9aa0a6",fillRule:"nonzero"},ub.createElement("path",{d:"M25,0 C11.1785714,0 0,11.268 0,25.2 C0,44.1 25,72 25,72 C25,72 50,44.1 50,25.2 C50,11.268 38.8214286,0 25,0 Z M7.14285714,25.2 C7.14285714,15.264 15.1428571,7.2 25,7.2 C34.8571429,7.2 42.8571429,15.264 42.8571429,25.2 C42.8571429,35.568 32.5714286,51.084 25,60.768 C17.5714286,51.156 7.14285714,35.46 7.14285714,25.2 Z",id:"Shape"}),ub.createElement("path",{d:"M25,34 C29.97052,34 34,29.97052 34,25 C34,20.029444 29.97052,16 25,16 C20.02948,16 16,20.029444 16,25 C16,29.97052 20.02948,34 25,34 Z",id:"Path"}))));m();var Km=fr(Fr()),cDe=n=>Km.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Km.createElement("title",null,"viz_map_segment"),Km.createElement("g",{id:"viz_map_segment",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Km.createElement("g",{id:"Group-Copy-36",transform:"translate(11.000000, 27.000000)",fillRule:"nonzero"},Km.createElement("path",{d:"M17,0 C7.60142857,0 0,7.6685 0,17.15 C0,30.0125 17,49 17,49 C17,49 34,30.0125 34,17.15 C34,7.6685 26.3985714,0 17,0 Z M4.85714286,17.15 C4.85714286,10.388 10.2971429,4.9 17,4.9 C23.7028571,4.9 29.1428571,10.388 29.1428571,17.15 C29.1428571,24.206 22.1485714,34.7655 17,41.356 C11.9485714,34.8145 4.85714286,24.1325 4.85714286,17.15 Z",id:"Shape",fill:"#9aa0a6"}),Km.createElement("path",{d:"M17,24 C20.31368,24 23,21.31368 23,18 C23,14.686296 20.31368,12 17,12 C13.68632,12 11,14.686296 11,18 C11,21.31368 13.68632,24 17,24 Z",id:"Path",fill:"#9aa0a6"})),Km.createElement("g",{id:"Group-Copy-37",transform:"translate(62.000000, 27.000000)",fillRule:"nonzero"},Km.createElement("path",{d:"M17,0 C7.60142857,0 0,7.6685 0,17.15 C0,30.0125 17,49 17,49 C17,49 34,30.0125 34,17.15 C34,7.6685 26.3985714,0 17,0 Z M4.85714286,17.15 C4.85714286,10.388 10.2971429,4.9 17,4.9 C23.7028571,4.9 29.1428571,10.388 29.1428571,17.15 C29.1428571,24.206 22.1485714,34.7655 17,41.356 C11.9485714,34.8145 4.85714286,24.1325 4.85714286,17.15 Z",id:"Shape",fill:"#9aa0a6"}),Km.createElement("path",{d:"M17,24 C20.31368,24 23,21.31368 23,18 C23,14.686296 20.31368,12 17,12 C13.68632,12 11,14.686296 11,18 C11,21.31368 13.68632,24 17,24 Z",id:"Path",fill:"#9aa0a6"})),Km.createElement("line",{x1:28.5,y1:81.5,x2:79.5,y2:81.5,id:"Line-3",stroke:"#9aa0a6",strokeWidth:5,strokeLinecap:"round",strokeDasharray:"5,10"})));m();var Jx=fr(Fr()),fDe=n=>Jx.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Jx.createElement("title",null,"viz_map_shape"),Jx.createElement("g",{id:"viz_map_shape",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Jx.createElement("g",{id:"noun-world-4667432-2",transform:"translate(19.000000, 19.000000)",fill:"#9aa0a6",fillRule:"nonzero"},Jx.createElement("g",{id:"noun-world-4667432"},Jx.createElement("path",{d:"M36,5 C18.8798665,5 5,18.8793071 5,36 C5,53.1206929 18.8793071,67 36,67 C53.1206929,67 67,53.1206929 67,36 C67,18.8793071 53.1206929,5 36,5 Z M0,36 C0,16.1177143 16.1177143,0 36,0 C55.8822857,0 72,16.1177143 72,36 C72,55.8822857 55.8822857,72 36,72 C16.1177143,72 0,55.8822857 0,36 Z",id:"Shape"}),Jx.createElement("path",{d:"M37.2848685,1.50131372 C37.8999474,1.48477633 38.4631152,1.71654937 38.8767996,2.10376364 C39.2928262,2.49317029 39.5578301,3.03960333 39.57434,3.65023916 L39.57434,3.65023916 L40.0344656,20.7428771 C40.0487121,21.2893502 39.8586306,21.8212062 39.4992535,22.2375953 L39.4992535,22.2375953 L32.1172188,30.7832284 C31.7924232,31.1592888 31.3490374,31.4169308 30.8586892,31.5134813 L30.8586892,31.5134813 L24.6865498,32.7324332 L28.0628423,42.7359018 C28.4533111,43.8925701 28.4513039,45.0197005 28.1633304,46.0321806 C27.8503264,47.132665 27.1975708,48.0987342 26.3338575,48.8190181 C25.4716664,49.5380326 24.3999821,50.0114808 23.2508211,50.1317463 C22.1949716,50.2422462 21.0728206,50.0558305 19.9867908,49.4837618 L19.9867908,49.4837618 L1.68382097,39.8433672 C1.13885361,39.5565384 0.764084629,39.078393 0.597525292,38.5380041 C0.430427538,37.9958684 0.472619244,37.3906551 0.763987861,36.8508084 C1.05393693,36.3139129 1.53648052,35.9433066 2.08313472,35.7791188 C2.62798313,35.6154734 3.2361363,35.657153 3.77860632,35.9426925 L3.77860632,35.9426925 L22.0816454,45.5831236 C22.3171919,45.7071442 22.5603781,45.7498863 22.7897862,45.7258621 C23.0398735,45.6996723 23.2725259,45.5956093 23.4599703,45.4392842 C23.6458558,45.2842591 23.7880139,45.0772117 23.8554593,44.8399997 C23.9169381,44.6237728 23.9147045,44.383346 23.8314444,44.1367864 L23.8314444,44.1367864 L19.6527943,31.7569079 C19.4493668,31.1542234 19.517516,30.4944328 19.8403231,29.9450638 C20.1614725,29.3985413 20.7046793,29.014044 21.3323155,28.8900909 L21.3323155,28.8900909 L29.2286003,27.3302661 L35.5513871,20.0108413 L35.1144494,3.7686887 C35.0979491,3.15801867 35.3331708,2.59836837 35.7276711,2.18746751 C36.1199426,1.77888802 36.6699139,1.51752889 37.2848685,1.50131372 Z",id:"Path",stroke:"#9aa0a6"}),Jx.createElement("path",{d:"M42.2538467,56.3169014 C42.834665,56.3169014 43.3919278,56.5473051 43.8025756,56.957964 L43.8025756,56.957964 L50.5634819,63.7190531 C50.990585,64.1465338 51.2042254,64.7070592 51.2042254,65.267637 C51.2042254,65.8282064 50.9905908,66.3887389 50.5631792,66.8165562 C50.1353619,67.244019 49.5748515,67.4577465 49.0143336,67.4577465 C48.453827,67.4577465 47.893307,67.2440267 47.4652769,66.8163886 L47.4652769,66.8163886 L41.3467145,60.697095 L29.639469,60.697095 L23.5207389,66.8165562 C23.0929158,67.2440249 22.5323953,67.4577465 21.9719658,67.4577465 C21.4114352,67.4577465 20.8509999,67.2439558 20.4235838,66.8165562 C19.995665,66.388992 19.7816901,65.8283383 19.7816901,65.2676696 C19.7816901,64.7070094 19.9956592,64.1463486 20.4234173,63.7189168 L20.4234173,63.7189168 L27.1839229,56.9576493 C27.5952192,56.5470739 28.1516855,56.3169014 28.7323368,56.3169014 L28.7323368,56.3169014 Z",id:"Path",stroke:"#9aa0a6"}),Jx.createElement("path",{d:"M63.9378166,21.2379048 C64.4225216,20.8714311 65.0086399,20.7379975 65.5642349,20.8181856 C66.1191803,20.8982799 66.6440521,21.191578 67.006552,21.6798365 C67.3682973,22.1662502 67.5006358,22.75458 67.4216695,23.3126471 C67.3426278,23.8712474 67.0519787,24.3991735 66.5692317,24.7645164 L66.5692317,24.7645164 L53.5947929,34.5837331 L50.8571888,42.8725775 L63.4236834,55.5534973 C63.8498746,55.9835692 64.0634024,56.5474048 64.0634024,57.111468 C64.0634024,57.6755228 63.8498803,58.2393656 63.4235328,58.6696236 C62.9952729,59.1014133 62.434079,59.3169014 61.8731786,59.3169014 C61.3121772,59.3169014 60.7510686,59.1013441 60.3230649,58.6694716 L60.3230649,58.6694716 L46.8022881,45.0255804 C46.5094233,44.730049 46.31189,44.3642735 46.2203738,43.9732706 C46.1289585,43.5826987 46.1433461,43.1669732 46.2741073,42.7711741 L46.2741073,42.7711741 L49.6544877,32.5388634 C49.7943202,32.1133276 50.0607882,31.7409505 50.416846,31.4711161 L50.416846,31.4711161 Z",id:"Path",stroke:"#9aa0a6"})))));m();var Gy=fr(Fr()),dDe=n=>Gy.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Gy.createElement("title",null,"viz_number"),Gy.createElement("g",{id:"viz_number",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Gy.createElement("g",{id:"Group",transform:"translate(20.000000, 20.000000)",fill:"#9aa0a6"},Gy.createElement("path",{d:"M-10.5,30.5 L51.5,30.5 C53.709139,30.5 55.5,32.290861 55.5,34.5 L55.5,35.5 C55.5,37.709139 53.709139,39.5 51.5,39.5 L-10.5,39.5 C-12.709139,39.5 -14.5,37.709139 -14.5,35.5 L-14.5,34.5 C-14.5,32.290861 -12.709139,30.5 -10.5,30.5 Z",id:"Rectangle-Copy-60",transform:"translate(20.500000, 35.000000) rotate(-90.000000) translate(-20.500000, -35.000000) "}),Gy.createElement("path",{d:"M19.5,30.5 L81.5,30.5 C83.709139,30.5 85.5,32.290861 85.5,34.5 L85.5,35.5 C85.5,37.709139 83.709139,39.5 81.5,39.5 L19.5,39.5 C17.290861,39.5 15.5,37.709139 15.5,35.5 L15.5,34.5 C15.5,32.290861 17.290861,30.5 19.5,30.5 Z",id:"Rectangle-Copy-61",transform:"translate(50.500000, 35.000000) rotate(-90.000000) translate(-50.500000, -35.000000) "}),Gy.createElement("path",{d:"M4,14 L66,14 C68.209139,14 70,15.790861 70,18 L70,19 C70,21.209139 68.209139,23 66,23 L4,23 C1.790861,23 2.705415e-16,21.209139 0,19 L0,18 C-2.705415e-16,15.790861 1.790861,14 4,14 Z",id:"Rectangle-Copy-63",transform:"translate(35.000000, 18.500000) rotate(-360.000000) translate(-35.000000, -18.500000) "}),Gy.createElement("path",{d:"M4,44 L66,44 C68.209139,44 70,45.790861 70,48 L70,49 C70,51.209139 68.209139,53 66,53 L4,53 C1.790861,53 2.705415e-16,51.209139 0,49 L0,48 C-2.705415e-16,45.790861 1.790861,44 4,44 Z",id:"Rectangle-Copy-62",transform:"translate(35.000000, 48.500000) rotate(-360.000000) translate(-35.000000, -48.500000) "}))));m();var f9=fr(Fr()),hDe=n=>f9.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},f9.createElement("title",null,"viz_percent"),f9.createElement("g",{id:"viz_percent",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},f9.createElement("g",{id:"%-copy-5",transform:"translate(19.000000, 22.000000)",fill:"#9aa0a6",fillRule:"nonzero"},f9.createElement("path",{d:"M16.1194226,31.5251397 C19.1010499,31.5251397 21.8186789,30.8184358 24.2723097,29.4050279 C26.7259405,27.9916201 28.6671041,26.0712291 30.0958005,23.6438547 C31.5244969,21.2164804 32.2388451,18.5893855 32.2388451,15.7625698 C32.2388451,12.9357542 31.5244969,10.3086592 30.0958005,7.88128492 C28.6671041,5.45391061 26.7259405,3.53351955 24.2723097,2.12011173 C21.8186789,0.706703911 19.1010499,0 16.1194226,0 C13.1377953,0 10.4201662,0.706703911 7.96653543,2.12011173 C5.51290464,3.53351955 3.57174103,5.45391061 2.14304462,7.88128492 C0.714348206,10.3086592 0,12.9357542 0,15.7625698 C0,18.5893855 0.714348206,21.2164804 2.14304462,23.6438547 C3.57174103,26.0712291 5.51290464,27.9916201 7.96653543,29.4050279 C10.4201662,30.8184358 13.1377953,31.5251397 16.1194226,31.5251397 Z M19.9645575,62.4787112 L57.1929452,7.56550735 C58.3200259,5.90302296 57.8859954,3.64163362 56.223511,2.5145529 C56.2107419,2.50589603 56.1979177,2.49732049 56.1850394,2.48882682 C54.4804105,1.3645685 52.1887314,1.81914062 51.0422905,3.50893047 L13.7228276,58.5157377 C12.6107181,60.1549252 13.0379992,62.3852921 14.6771866,63.4974016 C14.7072768,63.5178164 14.7376757,63.5377723 14.7683727,63.5572626 C16.507245,64.6613129 18.8087263,64.1836036 19.9645575,62.4787112 Z M16.1194226,24.150838 C13.8832021,24.150838 12.0041557,23.3519553 10.4822835,21.7541899 C8.9604112,20.1564246 8.19947507,18.1592179 8.19947507,15.7625698 C8.19947507,13.3044693 8.9604112,11.2918994 10.4822835,9.72486034 C12.0041557,8.15782123 13.8832021,7.37430168 16.1194226,7.37430168 C18.4177603,7.37430168 20.3278653,8.15782123 21.8497375,9.72486034 C23.3716098,11.2918994 24.1325459,13.3044693 24.1325459,15.7625698 C24.1325459,18.2206704 23.3716098,20.2332402 21.8497375,21.8002793 C20.3278653,23.3673184 18.4177603,24.150838 16.1194226,24.150838 Z M54.8805774,66 C57.8622047,66 60.5798338,65.2932961 63.0334646,63.8798883 C65.4870954,62.4664804 67.428259,60.5460894 68.8569554,58.1187151 C70.2856518,55.6913408 71,53.0642458 71,50.2374302 C71,47.4106145 70.2856518,44.7835196 68.8569554,42.3561453 C67.428259,39.9287709 65.4870954,38.0083799 63.0334646,36.5949721 C60.5798338,35.1815642 57.8622047,34.4748603 54.8805774,34.4748603 C51.8989501,34.4748603 49.1813211,35.1815642 46.7276903,36.5949721 C44.2740595,38.0083799 42.3328959,39.9287709 40.9041995,42.3561453 C39.4755031,44.7835196 38.7611549,47.4106145 38.7611549,50.2374302 C38.7611549,53.0642458 39.4755031,55.6913408 40.9041995,58.1187151 C42.3328959,60.5460894 44.2740595,62.4664804 46.7276903,63.8798883 C49.1813211,65.2932961 51.8989501,66 54.8805774,66 Z M54.8805774,58.6256983 C52.644357,58.6256983 50.7653106,57.8268156 49.2434383,56.2290503 C47.7215661,54.6312849 46.9606299,52.6340782 46.9606299,50.2374302 C46.9606299,47.7793296 47.7215661,45.7667598 49.2434383,44.1997207 C50.7653106,42.6326816 52.644357,41.849162 54.8805774,41.849162 C57.1789151,41.849162 59.0890201,42.6326816 60.6108924,44.1997207 C62.1327647,45.7667598 62.8937008,47.7793296 62.8937008,50.2374302 C62.8937008,52.6340782 62.1172353,54.6312849 60.5643045,56.2290503 C59.0113736,57.8268156 57.1167979,58.6256983 54.8805774,58.6256983 Z",id:"%-copy-2"}))));m();var Xx=fr(Fr()),pDe=n=>Xx.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Xx.createElement("title",null,"viz_boolean"),Xx.createElement("g",{id:"viz_boolean",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Xx.createElement("g",{id:"noun_switch_3350414-2",transform:"translate(20.000000, 22.000000)",fill:"#9aa0a6",fillRule:"nonzero"},Xx.createElement("g",{id:"noun_switch_3350414"},Xx.createElement("path",{d:"M15.2972028,30.8 L54.7027972,30.8 C63.151209,30.8 70,23.9051851 70,15.4 C70,6.89481485 63.151209,0 54.7027972,0 L15.2972028,0 C6.84879098,0 0,6.89481485 0,15.4 C0,23.9051851 6.84879098,30.8 15.2972028,30.8 Z M15.2972028,6.16 L54.7027972,6.16 C59.7718443,6.16 63.8811189,10.2968889 63.8811189,15.4 C63.8811189,20.5031111 59.7718443,24.64 54.7027972,24.64 L15.2972028,24.64 C10.2281557,24.64 6.11888112,20.5031111 6.11888112,15.4 C6.11888112,10.2968889 10.2281557,6.16 15.2972028,6.16 Z",id:"Shape"}),Xx.createElement("path",{d:"M19.6340542,21.9997804 C22.2930484,22.0215224 24.7022661,20.4273668 25.7348338,17.9629544 C26.7674016,15.4985421 26.2191958,12.6510518 24.3466309,10.7523518 C22.474066,8.85365189 19.6473211,8.27908795 17.1885612,9.29740315 C14.7298014,10.3157183 13.125,12.7256064 13.125,15.3998806 C13.125,19.0240523 16.0305897,21.9703156 19.6340542,21.9997804 L19.6340542,21.9997804 Z",id:"Path"}),Xx.createElement("path",{d:"M54.7027971,35.2 L15.2972025,35.2 C6.84879081,35.2 0,42.094815 0,50.6 C0,59.105185 6.84879081,66 15.2972025,66 L54.7027971,66 C63.151209,66 70,59.1051851 70,50.6 C70,42.0948149 63.151209,35.2 54.7027971,35.2 L54.7027971,35.2 Z M54.7027971,59.84 L15.2972025,59.84 C10.2281554,59.84 6.11888082,55.7031111 6.11888082,50.6 C6.11888082,45.4968889 10.2281554,41.36 15.2972025,41.36 L54.7027971,41.36 C59.7718442,41.36 63.8811189,45.4968889 63.8811189,50.6 C63.8811189,55.7031111 59.7718442,59.84 54.7027971,59.84 L54.7027971,59.84 Z",id:"Shape"}),Xx.createElement("path",{d:"M50.3659458,44.0002196 C47.7069516,43.9784776 45.2977339,45.5726332 44.2651662,48.0370456 C43.2325984,50.5014579 43.7808042,53.3489482 45.6533691,55.2476482 C47.525934,57.1463481 50.3526789,57.720912 52.8114388,56.7025969 C55.2701986,55.6842817 56.875,53.2743936 56.875,50.6001194 C56.875,46.9759477 53.9694103,44.0296844 50.3659458,44.0002196 Z",id:"Path"})))));m();var gN=fr(Fr()),mDe=n=>gN.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},gN.createElement("title",null,"viz_sparkline"),gN.createElement("g",{id:"viz_sparkline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},gN.createElement("polyline",{id:"Path-11",stroke:"#9aa0a6",strokeWidth:6,points:"10 54.8274509 25.9215088 61.0844803 40.1501567 54.8274509 53.3907166 68.7215958 69.5925598 42 83.3327332 64.4487228 100.431152 57.8274509"})));m();var lb=fr(Fr()),xDe=n=>lb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},lb.createElement("title",null,"viz_link"),lb.createElement("g",{id:"viz_link",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},lb.createElement("g",{id:"link_black_24dp",transform:"translate(5.000000, 5.000000)"},lb.createElement("path",{d:"M5,0 L96,0 C98.7614237,-5.07265313e-16 101,2.23857625 101,5 L101,96 C101,98.7614237 98.7614237,101 96,101 L5,101 C2.23857625,101 3.38176876e-16,98.7614237 0,96 L0,5 C-3.38176876e-16,2.23857625 2.23857625,5.07265313e-16 5,0 Z",id:"Path"}),lb.createElement("path",{d:"M71,30 L58.4,30 C56.0804041,30 54.2,31.8804041 54.2,34.2 C54.2,36.5195959 56.0804041,38.4 58.4,38.4 L71,38.4 L71,38.4 C77.93,38.4 83.6,44.07 83.6,51 C83.6,57.93 77.93,63.6 71,63.6 L58.4,63.6 C56.0804041,63.6 54.2,65.4804041 54.2,67.8 C54.2,70.1195959 56.0804041,72 58.4,72 L71,72 L71,72 C82.592,72 92,62.592 92,51 C92,39.408 82.592,30 71,30 Z M41.6,63.6 L29,63.6 L29,63.6 C22.07,63.6 16.4,57.93 16.4,51 C16.4,44.07 22.07,38.4 29,38.4 L41.6,38.4 C43.9195959,38.4 45.8,36.5195959 45.8,34.2 C45.8,31.8804041 43.9195959,30 41.6,30 L29,30 L29,30 C17.408,30 8,39.408 8,51 C8,62.592 17.408,72 29,72 L41.6,72 C43.9195959,72 45.8,70.1195959 45.8,67.8 C45.8,65.4804041 43.9195959,63.6 41.6,63.6 Z M37.4,46.8 L62.6,46.8 C64.9195959,46.8 66.8,48.6804041 66.8,51 C66.8,53.3195959 64.9195959,55.2 62.6,55.2 L37.4,55.2 C35.0804041,55.2 33.2,53.3195959 33.2,51 C33.2,48.6804041 35.0804041,46.8 37.4,46.8 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"}))));var tV=({renderer:n})=>{let e={width:"22px",height:"22px"};return n==="table"?v.createElement(XFe,{...e}):n==="dashboard"?v.createElement(ZFe,{...e}):n==="text"?v.createElement(eDe,{...e}):n==="currency"?v.createElement(tDe,{...e}):n==="image"?v.createElement(nDe,{...e}):n==="time"?v.createElement(rDe,{...e}):n==="json"?v.createElement(iDe,{...e}):n==="list"?v.createElement(sDe,{...e}):n==="list_detail"?v.createElement(oDe,{...e}):n==="bar_chart"?v.createElement(aDe,{...e}):n==="scatter_chart"?v.createElement(DH,{...e}):n==="line_chart"?v.createElement(uDe,{...e}):n==="point_map"?v.createElement(lDe,{...e}):n==="segment_map"?v.createElement(cDe,{...e}):n==="shape_map"?v.createElement(fDe,{...e}):n==="number"?v.createElement(dDe,{...e}):n==="percent"?v.createElement(hDe,{...e}):n==="boolean"?v.createElement(pDe,{...e}):n==="spark_line"?v.createElement(mDe,{...e}):n==="link"?v.createElement(xDe,{...e}):null};var dp=({setDataStyle:n,onComplete:e,allowedRenderers:t})=>v.createElement(N1,null,v.createElement(rc,null,v.createElement($l,null,v.createElement(Pyt,null,t.map(r=>v.createElement(Ho,{icon:v.createElement(tV,{renderer:r}),key:r,onClick:()=>{n(r),e()},name:r,color:"other"})))))),Pyt=In.div`
  overflow: hidden;
  display: flex;
  gap: 2px;
  flex-direction: column;
`;m();m();var gDe=fr(Fr());var Yy=({byField:n,addOrderBy:e,onComplete:t,initialDirection:r})=>{let[i,s]=(0,gDe.useState)(r||"asc");return v.createElement(Dc,null,v.createElement(Fc,null,"Order By",v.createElement(sH,null,v.createElement(Ow,{color:"dimension"},v.createElement(Md,{type:Vh(n),kind:Up(n)})),v.createElement(aH,null,n.name))),v.createElement("form",null,v.createElement(Sh,null,v.createElement(Byt,null,v.createElement(WH,{options:[{value:"asc",label:"Ascending"},{value:"desc",label:"Descending"}],value:i,onChange:s}))),v.createElement(bh,null,v.createElement(Ga,{type:"button",color:"secondary",onClick:t},"Cancel"),v.createElement(Ga,{onClick:()=>{n!==void 0&&(e(n.fieldIndex,i),t())}},"Save"))))},Byt=In.div`
  display: flex;
  border: 1px solid #efefef;
  border-radius: 5px;
  overflow: hidden;
`;m();m();var yDe=fr(Fr());var cb=({rename:n,onComplete:e})=>{let[t,r]=(0,yDe.useState)("");return v.createElement(Dc,null,v.createElement(Fc,null,"Rename"),v.createElement(oH,null,v.createElement(xl,{value:t,setValue:r,placeholder:"new_name",autoFocus:!0}),v.createElement(Ga,{type:"button",color:"secondary",onClick:e},"Cancel"),v.createElement(Ga,{onClick:()=>{n(t),e()}},"Save")))};var hle=({source:n,model:e,modelPath:t,rename:r,name:i,closeMenu:s,setDataStyle:o,fieldIndex:a,beginReorderingField:l,isEditable:f,editDimension:p,definition:_,filterField:b,filterFieldPath:R,addFilter:O,stagePath:j,addOrderBy:$,orderByField:L})=>v.createElement(tf,{closeMenu:s,actions:[{kind:"sub_menu",id:"rename",iconName:"rename",label:"Rename",iconColor:"other",closeOnComplete:!0,Component:({onComplete:q})=>v.createElement(cb,{rename:r,onComplete:q})},{kind:"sub_menu",id:"filter_on",iconName:"filter",label:"Filter By",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:q})=>b&&R?v.createElement(ib,{model:e,modelPath:t,onComplete:q,source:n,field:b,fieldPath:R,needsRename:!1,addFilter:P=>O(j,P)}):v.createElement("div",null)},{kind:"sub_menu",id:"order_by",iconName:"order_by",label:"Order By",iconColor:"other",closeOnComplete:!0,Component:({onComplete:q})=>v.createElement(Yy,{byField:L,addOrderBy:(P,W)=>$(j,P,W),onComplete:q})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:q})=>v.createElement(dp,{setDataStyle:o,onComplete:q,allowedRenderers:["number","boolean","currency","image","link","percent","text","time"]})},{kind:"sub_menu",id:"edit_definition",label:"Edit Definition",iconName:"edit",isEnabled:f,iconColor:"other",closeOnComplete:!0,Component:({onComplete:q})=>v.createElement(hN,{source:n,addDimension:P=>p(a,P),onComplete:q,initialCode:_,initialName:i})},{kind:"one_click",id:"move",iconName:"move",iconColor:"other",label:"Move",onClick:l}]});m();m();m();m();var ple=fr(Fr());m();m();var vDe=fr(Fr());m();m();var d9=({children:n})=>v.createElement(jyt,null,v.createElement(qyt,null),v.createElement(Uyt,null,n)),jyt=In.div`
  margin-top: 5px;
  display: flex;
  flex-direction: row;
  gap: 2px;
  margin-left: 13px;
`,qyt=In.div`
  width: 6px;
  min-width: 6px;
  padding: 5px 0px;
  margin: 0 1px;
  background-color: #efefef;
  border-radius: 100px;
`,Uyt=In.div`
  width: calc(100% - 10px);
`;var z1=({fields:n,selectField:e,filter:t,showNested:r,path:i=[],topValues:s})=>v.createElement($yt,null,n.filter(o=>t(o)||r&&o.type==="struct").map(o=>{if(t(o)){let a=Vh(o),l=Up(o),f=[...i,o.as||o.name].join(".");return v.createElement(U4,{width:300,key:o.as||o.name,content:()=>v.createElement(Ho,{icon:v.createElement(Md,{type:a,kind:l}),onClick:()=>e(f,o),name:o.as||o.name,color:l}),popoverContent:()=>v.createElement(q4,{fieldPath:f,topValues:s})})}else return o.type==="struct"&&_De(o,t)?v.createElement(zyt,{key:o.as||o.name,source:o,filter:t,selectField:e,path:[...i,o.as||o.name],topValues:s}):null})),$yt=In.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`;function _De(n,e){return n.fields.some(e)||n.fields.some(t=>t.type==="struct"&&_De(t,e))}var zyt=({source:n,filter:e,selectField:t,path:r,topValues:i})=>{let[s,o]=(0,vDe.useState)(!1);return v.createElement("div",null,v.createElement(Ho,{icon:v.createElement(ta,{action:s?"container-open":"container-closed",color:"other"}),onClick:()=>o(!s),name:n.as||n.name,color:"other"}),s&&v.createElement(d9,null,v.createElement(z1,{filter:e,selectField:t,fields:n.fields,showNested:!0,path:r,topValues:i})))};var Ky=({model:n,modelPath:e,source:t,addFilter:r,onComplete:i,needsRename:s,topValues:o})=>{let[a,l]=(0,ple.useState)(""),[f,p]=(0,ple.useState)(),{searchResults:_,isLoading:b}=tb(n,e,t,a),R=_&&_.filter(W=>W.fieldType==="string").slice(0,100),O=Wf(t).filter(({field:W})=>eF(W)).map(({field:W,path:oe})=>({item:R0(W,oe),terms:O0(W,oe),key:Hyt(oe),select:()=>p({path:oe,def:W})})),{searchList:j,count:$}=s9({searchTerm:a,items:O||[],topValues:o}),L=R?.length||0,q=$>0,P=L>0||b;return v.createElement("div",null,!f&&v.createElement(O1,null,v.createElement(cp,{placeholder:"Search",value:a,setValue:l,autoFocus:!0})),v.createElement("div",null,f&&v.createElement(ib,{model:n,modelPath:e,source:t,fieldPath:f.path,field:f.def,addFilter:r,onComplete:i,needsRename:s}),!f&&v.createElement(v.Fragment,null,a===""&&v.createElement(rc,null,v.createElement($l,null,v.createElement(z1,{fields:t.fields,filter:eF,showNested:!0,selectField:(W,oe)=>p({path:W,def:oe}),topValues:o}))),a!==""&&v.createElement(v.Fragment,null,q&&v.createElement(rc,{style:{borderBottom:q?"1px solid #efefef":"",maxHeight:P?"200px":"300px"}},v.createElement($l,null,j)),P&&t&&v.createElement(rc,{style:{borderBottom:"1px solid #efefef",maxHeight:q?"200px":"300px"}},v.createElement($l,null,R&&R.length>0&&R.map((W,oe)=>v.createElement(Ho,{key:oe,name:W.fieldValue,detail:W.fieldName,icon:v.createElement(ta,{action:"filter"}),color:"filter",onClick:()=>{Gx(t,PE(W.fieldName,{type:"is_equal_to",values:[W.fieldValue]})).then(I=>{r&&r(I),i()})}})),R!==void 0&&R.length===0&&v.createElement(Jc,null,"No value results"),b&&v.createElement(Jc,null,v.createElement(fp,{text:"Loading value results..."}))))),!q&&!P&&v.createElement(Jc,null,"No results"))))};function Hyt(n){return"field/"+n}m();m();var Jm=fr(Fr());m();var EDe=fr(up());function bDe(n,e){let t=zl(e);switch(n){case"count_distinct":return`count(distinct ${t})`;case"avg":case"sum":return`${t}.${n}()`;case"min":case"max":return`${n}(${t})`;case"percent":return`100 * ${t} / all(${t})`}}function h9(n,e){let t=(s,o)=>EDe.Segment.nextStructDef(o,s),r=(s,o)=>{let a=s.find(l=>(l.as||l.name)===o[0]);if(a)if(o.length>1){if(a.type==="struct")return r(a.fields,o.slice(1));if(a.type==="turtle"){let l=n;for(let f of a.pipeline)l=t(f,l);return r(l.fields,o.slice(1))}else return}else return a;else return},i=Ux(e).split(".");return r(n.fields,i)}var Vyt=/^count\(\)$/,Wyt=/^count\(distinct (.*)\)$/,Qyt=/^(.*)\.avg\(\)$/,Gyt=/^(.*)\.sum\(\)$/,Yyt=/^min\((.*)\)/,Kyt=/^max\((.*)\)/,Jyt=/^100 \* (.*) \/ all\((.*)\)$/;function SDe(n,e){let t;return t=Vyt.exec(e),t?{measureType:"count",path:"",field:void 0}:(t=Wyt.exec(e),t?{measureType:"count_distinct",path:Ux(t[1]),field:h9(n,t[1])}:(t=Qyt.exec(e),t?{measureType:"avg",path:Ux(t[1]),field:h9(n,t[1])}:(t=Gyt.exec(e),t?{measureType:"sum",path:Ux(t[1]),field:h9(n,t[1])}:(t=Yyt.exec(e),t?{measureType:"min",path:Ux(t[1]),field:h9(n,t[1])}:(t=Kyt.exec(e),t?{measureType:"max",path:Ux(t[1]),field:h9(n,t[1])}:(t=Jyt.exec(e),t&&t[1]===t[2]?{measureType:"percent",path:Ux(t[1]),field:h9(n,t[1])}:{measureType:"custom",path:"",field:void 0}))))))}function CDe(n){return n.type==="struct"?3:n.type==="turtle"?2:n.aggregate?1:0}function wDe(n){return n.sort((e,t)=>{let r=CDe(e.field),i=CDe(t.field);return r===i?e.field.name.localeCompare(t.field.name):i-r})}var Xyt={string:["count_distinct"],number:["count_distinct","avg","sum","min","max"],date:["count_distinct","min","max"],timestamp:["count_distinct","min","max"]},Zyt=[{label:"Count Distinct",value:"count_distinct"},{label:"Sum",value:"sum"},{label:"Average",value:"avg"},{label:"Max",value:"max"},{label:"Min",value:"min"},{label:"Percent of All",value:"percent"}];var yN=({source:n,addMeasure:e,onComplete:t,initialCode:r,initialName:i})=>{let s=0,o,a;if(r){let{measureType:I,field:J,path:he}=SDe(n,r);s=I==="custom"?2:I==="count"?1:0,J&&(o={field:J,path:he}),a=I}let[l,f]=(0,Jm.useState)(s),[p,_]=(0,Jm.useState)(r||""),[b,R]=(0,Jm.useState)(i||""),[O,j]=(0,Jm.useState)(a),[$,L]=(0,Jm.useState)(o),[q,P]=(0,Jm.useState)();(0,Jm.useEffect)(()=>{if(l===0&&$&&O){let I=bDe(O,$.path);I&&_(I)}else l===1&&_("count()")},[l,O,$]);let W=(0,Jm.useMemo)(()=>wDe(Wf(n)).reduce((I,{path:J,field:he})=>{let ye=Vh(he),He=Up(he);if(["dimension","measure"].includes(He)){let at=v.createElement(Ho,{name:he.name,icon:v.createElement(Md,{type:ye,kind:He}),color:He,detail:N0(J),disableHover:!0});I.push({label:at,value:{field:he,path:J}})}return I},[]),[n]),oe=r===void 0;return v.createElement(Dc,null,v.createElement(Fc,null,oe?"New":"Edit"," measure"),v.createElement("form",null,v.createElement(Sh,null,v.createElement(zm,null,v.createElement(lp,null,"Type"),v.createElement(gl,{autoFocus:!0,value:l,options:[{label:"From a field",value:0},{label:"Count",value:1},{label:"Custom",value:2}],onChange:I=>f(I),width:300})),l==0&&v.createElement(zm,null,v.createElement(lp,null,"Field"),v.createElement(gl,{value:$,valueEqual:(I,J)=>I.path===J.path,options:W,onChange:I=>L(I),width:300})),l==0&&v.createElement(zm,null,v.createElement(lp,null,"Type"),v.createElement(gl,{value:O,options:$?Zyt.filter(({value:I})=>ZT($.field)?I==="percent":Xyt[$.field.type].includes(I)):[],onChange:I=>j(I),width:300})),l===2&&v.createElement(cN,{autoFocus:!!i,value:p,setValue:_,placeholder:"count() * items_per_count",label:oe?"Definition":void 0,rows:3}),oe&&v.createElement(xl,{value:b,setValue:R,placeholder:"new_measure",label:"Name"})),v.createElement(uH,{error:q}),v.createElement(bh,null,v.createElement(Ga,{type:"button",color:"secondary",onClick:t},"Cancel"),v.createElement(Ga,{onClick:I=>{if(I.preventDefault(),I.stopPropagation(),!b)return P(new Error("Enter a name"));if(l===2){if(!p)return P(new Error("Enter a definition"))}else if(l===0&&!$)return P(new Error("Select a field"));SFe(n,b,p).then(J=>{e(J),t()}).catch(J=>{P(J)})}},"Save"))))};var mle=({model:n,modelPath:e,source:t,addFilter:r,rename:i,closeMenu:s,setDataStyle:o,beginReorderingField:a,isRenamed:l,editMeasure:f,name:p,definition:_,isEditable:b,fieldIndex:R,topValues:O,addOrderBy:j,orderByField:$,stagePath:L})=>v.createElement(tf,{closeMenu:s,actions:[{kind:"sub_menu",id:"filter",iconName:"filter",iconColor:"filter",label:"Filter",closeOnComplete:!0,Component:({onComplete:q})=>v.createElement(Ky,{model:n,modelPath:e,source:t,addFilter:r,onComplete:q,needsRename:!l,topValues:O})},{kind:"sub_menu",id:"rename",iconName:"rename",iconColor:"other",label:"Rename",closeOnComplete:!0,Component:({onComplete:q})=>v.createElement(cb,{rename:i,onComplete:q})},{kind:"sub_menu",id:"order_by",iconName:"order_by",label:"Order By",iconColor:"other",closeOnComplete:!0,Component:({onComplete:q})=>v.createElement(Yy,{byField:$,addOrderBy:(P,W)=>j(L,P,W),onComplete:q})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:q})=>v.createElement(dp,{setDataStyle:o,onComplete:q,allowedRenderers:["number","boolean","currency","image","link","percent","text","time"]})},{kind:"sub_menu",id:"edit_definition",label:"Edit Definition",iconName:"edit",iconColor:"other",isEnabled:b,closeOnComplete:!0,Component:({onComplete:q})=>v.createElement(yN,{source:t,addMeasure:P=>f(R,P),onComplete:q,initialCode:_,initialName:p})},{kind:"one_click",id:"move",iconName:"move",iconColor:"other",label:"Move",onClick:a}]});m();m();m();m();var ADe=fr(Fr());var Jy=({existing:n,addLimit:e,onComplete:t})=>{let[r,i]=(0,ADe.useState)(n?.toString()||"10");return v.createElement(Dc,null,v.createElement(Fc,null,"Limit"),v.createElement(oH,null,v.createElement(xl,{value:r,setValue:i,autoFocus:!0,autoSelect:!0})," ",v.createElement(Ga,{type:"button",color:"secondary",onClick:t},"Cancel"),v.createElement(Ga,{onClick:()=>{let s=parseInt(r);Number.isNaN(s)||(e(s),t())}},"Save")))};var xle=({limit:n,editLimit:e,closeMenu:t})=>v.createElement(tf,{closeMenu:t,actions:[{id:"edit",label:"Change limit",iconName:"limit",iconColor:"other",kind:"sub_menu",closeOnComplete:!0,Component:({onComplete:r})=>v.createElement(Jy,{addLimit:e,onComplete:r,existing:n})}]});m();m();m();m();var gle=fr(Fr());var fb=({source:n,selectField:e,addNewMeasure:t,onComplete:r})=>{let[i,s]=(0,gle.useState)(!1),[o,a]=(0,gle.useState)("");return v.createElement(N1,null,!i&&v.createElement(v.Fragment,null,v.createElement(O1,null,v.createElement(cp,{placeholder:"Search",value:o,setValue:a,autoFocus:!0})),v.createElement(rc,null,v.createElement($l,null,o===""&&v.createElement(v.Fragment,null,v.createElement(Ho,{icon:v.createElement(ta,{action:"add"}),onClick:()=>s(!0),name:"New Measure",color:"other"}),v.createElement(z1,{fields:n.fields,filter:ZT,showNested:!0,selectField:e,topValues:void 0})),o!==""&&v.createElement(v.Fragment,null,v.createElement(zy,{topValues:void 0,searchTerm:o,items:Wf(n).filter(({field:l})=>ZT(l)).map(({field:l,path:f})=>({item:R0(l,f),terms:[...O0(l,f),"aggregate"],detail:N0(f),key:e3t(f),select:()=>e(f)}))}))))),i&&v.createElement(yN,{addMeasure:t,source:n,onComplete:r}))};function e3t(n){return"aggregate/"+n}m();m();var p9=fr(Fr());m();m();var TDe=fr(Fr());var yle=({field:n,path:e,addGroupBy:t,onComplete:r})=>{let[i,s]=(0,TDe.useState)("year"),o=Vh(n),a=Up(n);return v.createElement(Dc,null,v.createElement(Fc,null,"Group by",v.createElement(Ho,{name:n.name,icon:v.createElement(Md,{type:o,kind:a}),color:a,disableHover:!0})),v.createElement("form",null,v.createElement(Sh,null,v.createElement(gl,{value:i,options:[{label:"Year",value:"year"},{label:"Quarter",value:"quarter"},{label:"Month",value:"month"},{label:"Week",value:"week"},{label:"Day",value:"day"},{label:"Hour",value:"hour"},{label:"Minute",value:"minute"},{label:"Seconds",value:"seconds"},{label:v.createElement(Xy,{detail:"(1-366)"},"Day of year"),value:"extract_day_of_year",divider:!0},{label:v.createElement(Xy,{detail:"(1-31)"},"Day of month"),value:"extract_day"},{label:v.createElement(Xy,{detail:"(1-7)"},"Day of week"),value:"extract_day_of_week"},{label:v.createElement(Xy,{detail:"(1-53)"},"Week in year"),value:"extract_week"},{label:v.createElement(Xy,{detail:"(1-12)"},"Month in year"),value:"extract_month"},{label:v.createElement(Xy,{detail:"(1-4)"},"Quarter in year"),value:"extract_quarter"},{label:v.createElement(Xy,{detail:"(0-23)"},"Hour of day"),value:"extract_hour"},{label:v.createElement(Xy,{detail:"(0-59)"},"Minute of hour"),value:"extract_minute"},{label:v.createElement(Xy,{detail:"(0-59)"},"Seconds of minute"),value:"extract_seconds"},{label:"Field values",value:"",divider:!0}],width:300,onChange:s})),v.createElement(bh,null,v.createElement(Ga,{type:"button",color:"secondary",onClick:r},"Cancel"),v.createElement(Ga,{type:"submit",onClick:l=>{if(l.stopPropagation(),l.preventDefault(),i)if(i.startsWith("extract_")){let f=i.substring("extract_".length);t(`${e}_${f}`,`${f}(${zl(e)})`)}else t(`${e}_${i}`,`${zl(e)}.${i}`);else t(e);r()}},"Save"))))},Xy=({children:n,detail:e})=>v.createElement("span",null,n," ",v.createElement(t3t,null,e)),t3t=In.span`
  color: #939393;
`;var db=({source:n,toggleField:e,addNewDimension:t,onComplete:r,topValues:i})=>{let[s,o]=(0,p9.useState)(!1),[a,l]=(0,p9.useState)(),[f,p]=(0,p9.useState)(""),_=(0,p9.useCallback)((b,R)=>{R.type==="date"?l({field:R,path:b}):R.type==="timestamp"?l({field:R,path:b}):e(b)},[e]);return v.createElement(N1,null,!s&&!a&&v.createElement(v.Fragment,null,v.createElement(O1,null,v.createElement(cp,{placeholder:"Search",value:f,setValue:p,autoFocus:!0})),v.createElement(rc,null,v.createElement($l,null,f===""&&v.createElement(v.Fragment,null,v.createElement(Ho,{icon:v.createElement(ta,{action:"add"}),onClick:()=>o(!0),name:"New Dimension",color:"other"}),v.createElement(z1,{fields:n.fields,filter:b=>b.type!=="turtle"&&b.type!=="struct"&&!b.aggregate,showNested:!0,selectField:_,topValues:i})),f!==""&&v.createElement(v.Fragment,null,v.createElement(zy,{topValues:i,searchTerm:f,items:Wf(n).filter(({field:b})=>eF(b)).map(({field:b,path:R})=>({item:R0(b,R),terms:[...O0(b,R),"group_by"],detail:N0(R),key:n3t(R),select:()=>_(R,b)}))}))))),s&&v.createElement(hN,{addDimension:t,source:n,onComplete:r}),a&&v.createElement(yle,{field:a.field,path:a.path,source:n,addGroupBy:async(b,R)=>{let O=await EFe(n,b,R);t(O)},onComplete:r}))};function n3t(n){return"group_by/"+n}m();m();var _le=fr(Fr());m();m();var FDe=fr(Fr());var vle=({addNest:n,onComplete:e})=>{let[t,r]=(0,FDe.useState)("");return v.createElement(Dc,null,v.createElement(Fc,null,"New Nested Query"),v.createElement("form",null,v.createElement(xl,{value:t,setValue:r,placeholder:"query_name",autoFocus:!0}),v.createElement(bh,null,v.createElement(Ga,{type:"button",color:"secondary",onClick:e},"Cancel"),v.createElement(Ga,{onClick:()=>{n(t),e()}},"Save"))))};var hb=({source:n,selectField:e,selectNewNest:t,onComplete:r})=>{let[i,s]=(0,_le.useState)(!1),[o,a]=(0,_le.useState)("");return v.createElement(N1,null,!i&&v.createElement(v.Fragment,null,v.createElement(O1,null,v.createElement(cp,{placeholder:"Search",value:o,setValue:a,autoFocus:!0})),v.createElement(rc,null,v.createElement($l,null,o===""&&v.createElement(v.Fragment,null,v.createElement(Ho,{icon:v.createElement(ta,{action:"add"}),onClick:()=>s(!0),name:"New Nested Query",color:"other"}),v.createElement(z1,{fields:n.fields,filter:l=>l.type==="turtle",showNested:!0,selectField:e,topValues:void 0})),o!==""&&v.createElement(v.Fragment,null,v.createElement(zy,{topValues:void 0,searchTerm:o,items:Wf(n).filter(({field:l})=>kM(l)).map(({field:l,path:f})=>({item:R0(l,f),terms:[...O0(l,f),"nest"],detail:N0(f),key:r3t(f),select:()=>e(f)}))}))))),i&&v.createElement(vle,{addNest:t,onComplete:r}))};function r3t(n){return"nest/"+n}m();m();var DDe=fr(Fr());var pb=({addOrderBy:n,orderByFields:e,onComplete:t})=>{let[r,i]=(0,DDe.useState)();return e.length===0?v.createElement(Dc,null,v.createElement(Fc,null,"Order By"),v.createElement(Jc,null,"You must add some fields first.")):v.createElement("div",null,r===void 0&&v.createElement(N1,null,v.createElement($l,null,v.createElement(i3t,null,e.map(s=>v.createElement(Ho,{icon:v.createElement(Md,{type:s.type,kind:"dimension"}),key:s.name,onClick:()=>i(s),name:s.name,color:"dimension"}))))),r!==void 0&&v.createElement(Yy,{addOrderBy:n,onComplete:t,byField:r}))},i3t=In.div`
  overflow: hidden;
  display: flex;
  gap: 2px;
  flex-direction: column;
`;var Ele=({model:n,modelPath:e,source:t,toggleField:r,addFilter:i,addLimit:s,addOrderBy:o,addNewNestedQuery:a,stagePath:l,orderByFields:f,addNewDimension:p,addNewMeasure:_,closeMenu:b,setDataStyle:R,beginReorderingField:O,addStage:j,topValues:$,rename:L,isExpanded:q,replaceWithDefinition:P})=>v.createElement(tf,{topValues:$,model:n,modelPath:e,valueSearchSource:t,addFilter:W=>i(l,W),closeMenu:b,actions:[{kind:"sub_menu",id:"filter",label:"Filter",iconName:"filter",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:W})=>v.createElement(Ky,{modelPath:e,model:n,source:t,addFilter:(oe,I)=>i(l,oe,I),onComplete:W,needsRename:!1,topValues:$})},{kind:"sub_menu",id:"nest",label:"Nest",iconName:"nest",iconColor:"query",closeOnComplete:!0,divider:!0,Component:({onComplete:W})=>v.createElement(hb,{source:t,selectField:oe=>r(l,oe),selectNewNest:oe=>a(l,oe),onComplete:W})},{kind:"sub_menu",id:"group_by",label:"Group By",iconColor:"dimension",iconName:"group_by",closeOnComplete:!0,Component:({onComplete:W})=>v.createElement(db,{source:t,toggleField:oe=>r(l,oe),addNewDimension:oe=>p(l,oe),onComplete:W,topValues:$})},{kind:"sub_menu",id:"aggregate",label:"Aggregate",iconName:"aggregate",iconColor:"measure",closeOnComplete:!0,Component:({onComplete:W})=>v.createElement(fb,{source:t,selectField:oe=>r(l,oe),addNewMeasure:oe=>_(l,oe),onComplete:W})},{kind:"sub_menu",id:"limit",label:"Limit",iconName:"limit",iconColor:"other",closeOnComplete:!0,Component:({onComplete:W})=>v.createElement(Jy,{addLimit:oe=>s(l,oe),onComplete:W})},{kind:"sub_menu",id:"order_by",label:"Order By",iconName:"order_by",iconColor:"other",closeOnComplete:!0,Component:({onComplete:W})=>v.createElement(pb,{addOrderBy:(oe,I)=>o(l,oe,I),orderByFields:f,onComplete:W})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:W})=>v.createElement(dp,{setDataStyle:R,onComplete:W,allowedRenderers:["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]})},{kind:"sub_menu",id:"rename",iconName:"rename",iconColor:"other",label:"Rename",closeOnComplete:!0,Component:({onComplete:W})=>v.createElement(cb,{rename:L,onComplete:W})},{kind:"one_click",id:"add_stage",label:"Add stage",iconName:"stage",iconColor:"other",onClick:j},{kind:"one_click",id:"expand_definition",label:"Duplicate",iconName:"duplicate",iconColor:"other",isEnabled:!q,onClick:P},{kind:"one_click",id:"move",iconName:"move",iconColor:"other",label:"Move",onClick:O}],searchItems:Wf(t).map(({field:W,path:oe})=>({item:R0(W,oe),terms:O0(W,oe),detail:N0(oe),key:oe,select:()=>r(l,oe)}))});m();m();m();m();var RDe=fr(Fr());var ble=({existing:n,editFilter:e,source:t,onComplete:r})=>{let[i,s]=(0,RDe.useState)(n);return v.createElement(Dc,null,v.createElement(Fc,null,"Edit Filter"),v.createElement("form",null,v.createElement(cN,{value:i,setValue:s,placeholder:"filter_expression",autoFocus:!0,rows:3}),v.createElement(bh,null,v.createElement(Ga,{type:"button",color:"secondary",onClick:r},"Cancel"),v.createElement(Ga,{onClick:()=>{Gx(t,i).then(o=>{e(o),r()})}},"Save"))))};var Sle=({filterSource:n,editFilter:e,closeMenu:t,source:r,filterField:i,parsedFilter:s,model:o,modelPath:a,fieldPath:l})=>v.createElement(tf,{closeMenu:t,actions:[{id:"edit",label:"Change filter",iconName:"filter",iconColor:"filter",kind:"sub_menu",closeOnComplete:!0,Component:({onComplete:f})=>i&&s?v.createElement(ib,{model:o,source:r,field:i,addFilter:e,fieldPath:l,needsRename:!1,onComplete:f,modelPath:a,initial:s}):v.createElement(ble,{editFilter:e,onComplete:f,existing:n,source:r})}]});m();m();var Cle=({closeMenu:n,editOrderBy:e,orderByField:t,existingDirection:r})=>v.createElement(tf,{closeMenu:n,actions:[{kind:"sub_menu",id:"edit",iconName:"order_by",iconColor:"other",label:"Edit Order By",closeOnComplete:!0,Component:({onComplete:i})=>v.createElement(Yy,{addOrderBy:(s,o)=>e(o),onComplete:i,byField:t,initialDirection:r})}]});m();m();var wle=({onComplete:n,setDataStyle:e,allowedRenderers:t})=>v.createElement(dp,{onComplete:n,setDataStyle:e,allowedRenderers:t});m();m();var nV=({source:n,toggleField:e,addFilter:t,addLimit:r,addOrderBy:i,addNewNestedQuery:s,stagePath:o,orderByFields:a,addNewDimension:l,addNewMeasure:f,closeMenu:p,setDataStyle:_,isLastStage:b,topValues:R,model:O,modelPath:j})=>v.createElement(tf,{topValues:R,closeMenu:p,actions:[{kind:"sub_menu",id:"filter",label:"Filter",iconName:"filter",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:$})=>v.createElement(Ky,{model:O,modelPath:j,source:n,addFilter:(L,q)=>t(o,L,q),onComplete:$,needsRename:!1,topValues:R})},{kind:"sub_menu",id:"nest",label:"Nest",iconName:"nest",iconColor:"query",closeOnComplete:!0,divider:!0,Component:({onComplete:$})=>v.createElement(hb,{source:n,selectField:L=>e(o,L),selectNewNest:L=>s(o,L),onComplete:$})},{kind:"sub_menu",id:"group_by",label:"Group By",iconName:"group_by",iconColor:"dimension",closeOnComplete:!0,Component:({onComplete:$})=>v.createElement(db,{source:n,toggleField:L=>e(o,L),addNewDimension:L=>l(o,L),onComplete:$,topValues:R})},{kind:"sub_menu",id:"aggregate",label:"Aggregate",iconName:"aggregate",iconColor:"measure",closeOnComplete:!0,Component:({onComplete:$})=>v.createElement(fb,{source:n,selectField:L=>e(o,L),addNewMeasure:L=>f(o,L),onComplete:$})},{kind:"sub_menu",id:"limit",label:"Limit",iconName:"limit",iconColor:"other",closeOnComplete:!0,Component:({onComplete:$})=>v.createElement(Jy,{addLimit:L=>r(o,L),onComplete:$})},{kind:"sub_menu",id:"order_by",label:"Order By",iconName:"order_by",iconColor:"other",closeOnComplete:!0,Component:({onComplete:$})=>v.createElement(pb,{addOrderBy:(L,q)=>i(o,L,q),orderByFields:a,onComplete:$})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,isEnabled:b,Component:({onComplete:$})=>v.createElement(dp,{setDataStyle:_,onComplete:$,allowedRenderers:["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]})}],searchItems:Wf(n).map(({field:$,path:L})=>({item:R0($,L),terms:O0($,L),detail:N0(L),key:L,select:()=>e(o,L)}))});m();m();var Ale=({remove:n,closeMenu:e})=>v.createElement(tf,{closeMenu:e,actions:[{kind:"one_click",id:"remove",iconName:"remove",iconColor:"other",label:"Remove",onClick:n}]});var Tle=({model:n,modelPath:e,querySummary:t,stagePath:r,queryName:i,topValues:s,queryModifiers:o})=>t.stages[0].items.length===0&&t.stages.length===1&&(!r||!r.parts||r.parts.length===0)?v.createElement(Jc,null,v.createElement("div",null,"Add fields to the query"),v.createElement("div",null,"with the \u201C+\u201D button")):v.createElement(Fle,null,t.stages.map((a,l)=>{let f=CH(r,{stageIndex:l,fieldIndex:0});return v.createElement("div",{key:"stage/"+l},t.stages.length>1&&v.createElement(Dle,{popoverContent:({closeMenu:p})=>v.createElement(nV,{model:n,modelPath:e,source:a.inputSource,toggleField:o.toggleField,addFilter:o.addFilter,addLimit:o.addLimit,addOrderBy:o.addOrderBy,addNewNestedQuery:o.addNewNestedQuery,stagePath:f,remove:()=>o.removeStage(f),orderByFields:a.orderByFields,addNewDimension:o.addNewDimension,addNewMeasure:o.addNewMeasure,closeMenu:p,isLastStage:l===t.stages.length-1,setDataStyle:_=>o.setDataStyle(i,_),stageSummary:a.items,updateFieldOrder:o.updateFieldOrder,topValues:s}),content:({isOpen:p})=>v.createElement(LDe,{active:p},"Stage ",l+1,v.createElement(jH,{className:"back"},v.createElement(qH,{color:"other",width:"20px",height:"20px",className:"close",onClick:()=>o.removeStage(f)})))}),v.createElement(ODe,{model:n,modelPath:e,stage:a,queryModifiers:o,stagePath:f,key:"stage/"+l,source:a.inputSource,topValues:s}))})),ODe=({model:n,modelPath:e,stage:t,topValues:r,queryModifiers:i,source:s,stagePath:o})=>{let[a,l]=(0,Zx.useState)(),f=_=>{l(_)},p=t.items.map(_=>"fieldIndex"in _?_.fieldIndex:void 0).filter(LM);return(0,Zx.useEffect)(()=>{let _=b=>{let R=p.findIndex($=>$===a),O=b.key==="ArrowUp"?-1:b.key==="ArrowDown"?1:0,j=R+O;if(R>-1&&O!==0&&j>=0&&j<p.length){let $=[...p],L=$[R];$[R]=$[j],$[j]=L,i.updateFieldOrder(o,$),l(j)}};return window.addEventListener("keyup",_),()=>window.removeEventListener("keyup",_)}),v.createElement(Fle,null,t.items.map((_,b)=>v.createElement(NDe,{model:n,modelPath:e,key:`${_.type}/${b}`,item:_,stageSummary:t.items,beginReorderingField:f,isSelected:"fieldIndex"in _&&_.fieldIndex===a,deselect:()=>l(void 0),topValues:r,queryModifiers:i,source:s,stagePath:o})))},Fle=In.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`,Dle=({popoverContent:n,content:e})=>{let[t,r]=(0,Zx.useState)(!1),i=(0,Zx.useRef)(!1),s=(0,Zx.useRef)(null),o=()=>{i.current=!0,r(!1)};return(0,Zx.useEffect)(()=>{i.current=!1},[t]),v.createElement(v.Fragment,null,v.createElement(s3t,{onClick:()=>!i.current&&r(!0)},v.createElement("div",{ref:s,key:t?"open":"closed"},e({isOpen:t,closeMenu:o})),v.createElement(q1,{open:t,setOpen:r,referenceDiv:s},n({setOpen:r,closeMenu:o}))))},s3t=In.div`
  position: relative;
`,NDe=({model:n,modelPath:e,item:t,source:r,stagePath:i,fieldIndex:s,stageSummary:o,isSelected:a,beginReorderingField:l,deselect:f,topValues:p,queryModifiers:_})=>{let b=(0,Zx.useRef)(null),R=[];return"styles"in t&&t.styles&&R.push(...t.styles.map(O=>({childItem:O}))),"filters"in t&&t.filters&&R.push(...t.filters.map(O=>({childItem:O,fieldIndex:t.fieldIndex}))),M1(b,()=>a&&f()),v.createElement("div",{ref:b},v.createElement(Dle,{popoverContent:({closeMenu:O})=>{if((t.type==="field"||t.type==="field_definition")&&t.kind!=="query"){if(t.kind==="dimension")return v.createElement(hle,{model:n,modelPath:e,source:r,removeField:()=>_.removeField(i,t.fieldIndex),rename:j=>{_.renameField(i,t.fieldIndex,j)},closeMenu:O,setDataStyle:j=>_.setDataStyle(t.name,j),stagePath:i,stageSummary:o,updateFieldOrder:_.updateFieldOrder,fieldIndex:t.fieldIndex,beginReorderingField:()=>{l(t.fieldIndex),O()},filterField:t.type==="field"?t.field:void 0,filterFieldPath:t.type==="field"?t.path:void 0,name:t.name,isEditable:t.type==="field_definition",definition:t.type==="field_definition"?t.source:void 0,addFilter:_.addFilter,editDimension:(j,$)=>_.editDimension(i,j,$),addOrderBy:_.addOrderBy,orderByField:{name:t.name,fieldIndex:t.fieldIndex,type:DX(t.field)}});if(t.kind==="measure"){let j=t.type==="field_definition"||t.kind==="measure"&&t.isRenamed;return v.createElement(mle,{model:n,modelPath:e,stagePath:i,source:r,removeField:()=>_.removeField(i,t.fieldIndex),addFilter:($,L)=>_.addFilterToField(i,t.fieldIndex,$,L),rename:$=>{_.renameField(i,t.fieldIndex,$)},closeMenu:O,setDataStyle:$=>_.setDataStyle(t.name,$),isRenamed:j,beginReorderingField:()=>{l(t.fieldIndex),O()},fieldIndex:t.fieldIndex,name:t.name,isEditable:t.type==="field_definition",definition:t.type==="field_definition"?t.source:void 0,editMeasure:($,L)=>_.editMeasure(i,$,L),topValues:p,addOrderBy:_.addOrderBy,orderByField:{name:t.name,fieldIndex:t.fieldIndex,type:DX(t.field)}})}}else{if(t.type==="filter")return v.createElement(Sle,{model:n,modelPath:e,source:r,filterSource:t.filterSource,filterField:t.field,fieldPath:t.fieldPath,parsedFilter:t.parsed,removeFilter:()=>_.removeFilter(i,t.filterIndex),editFilter:j=>_.editFilter(i,s,t.filterIndex,j),closeMenu:O});if(t.type==="limit")return v.createElement(xle,{removeLimit:()=>_.removeLimit(i),editLimit:j=>_.editLimit(i,j),closeMenu:O,limit:t.limit});if(t.type==="order_by")return v.createElement(Cle,{removeOrderBy:()=>_.removeOrderBy(i,t.orderByIndex),closeMenu:O,orderByField:t.byField,orderByIndex:t.orderByIndex,existingDirection:t.direction,editOrderBy:j=>_.editOrderBy(i,t.orderByIndex,j)});if(t.type==="data_style")return v.createElement(wle,{onComplete:O,setDataStyle:j=>_.setDataStyle(t.styleKey,j),allowedRenderers:t.allowedRenderers});if(t.type==="nested_query_definition"||t.type==="field"&&t.kind==="query"){let j=CH(i,{fieldIndex:t.fieldIndex,stageIndex:0});return v.createElement(Ele,{model:n,modelPath:e,source:r,toggleField:_.toggleField,addFilter:_.addFilter,addLimit:_.addLimit,addOrderBy:_.addOrderBy,addNewNestedQuery:_.addNewNestedQuery,stagePath:j,remove:()=>_.removeField(i,t.fieldIndex),orderByFields:t.stages[0].orderByFields,addNewDimension:_.addNewDimension,addNewMeasure:_.addNewMeasure,closeMenu:O,setDataStyle:$=>_.setDataStyle(t.name,$),addStage:()=>_.addStage(i,t.fieldIndex),stageSummary:t.stages[0].items,updateFieldOrder:_.updateFieldOrder,topValues:p,rename:$=>{_.renameField(i,t.fieldIndex,$)},beginReorderingField:()=>{l(t.fieldIndex),O()},isExpanded:t.type==="nested_query_definition",replaceWithDefinition:()=>_.replaceWithDefinition(i,t.fieldIndex)})}else return t.type==="error_field"?v.createElement(Ale,{remove:()=>_.removeField(i,t.fieldIndex),closeMenu:O}):v.createElement("div",null)}},content:({isOpen:O,closeMenu:j})=>{if(t.type==="field"||t.type==="field_definition"){let $=t.type==="field"&&!t.isRefined,L;return t.kind==="dimension"?L=v.createElement(Ho,{icon:v.createElement(ta,{action:"group_by"}),name:t.name,unsaved:!$,canRemove:!0,onRemove:()=>{_.removeField(i,t.fieldIndex),j()},color:"dimension",active:O||a}):t.kind==="measure"?L=v.createElement(Ho,{icon:v.createElement(ta,{action:"aggregate"}),name:t.name,canRemove:!0,unsaved:!$,onRemove:()=>{_.removeField(i,t.fieldIndex),j()},color:"measure",active:O||a}):L=v.createElement(Ho,{icon:v.createElement(ta,{action:"nest"}),name:t.name,canRemove:!0,onRemove:()=>{_.removeField(i,t.fieldIndex),j()},color:"query",active:O||a}),v.createElement(U4,{width:300,enabled:!O,content:()=>L,zIndex:9,popoverContent:()=>v.createElement(q4,{fieldPath:t.type==="field"?t.path:void 0,definition:t.type!=="field"?t.source:void 0,topValues:void 0})})}else return t.type==="filter"?v.createElement(U4,{width:300,enabled:!O,zIndex:9,content:()=>v.createElement(Ho,{icon:v.createElement(ta,{action:"filter"}),name:t.filterSource,canRemove:!0,onRemove:()=>{_.removeFilter(i,t.filterIndex,s),j()},color:"filter",active:O||a}),popoverContent:()=>v.createElement(q4,{filterExpression:t.filterSource,topValues:void 0})}):t.type==="limit"?v.createElement(Ho,{icon:v.createElement(ta,{action:"limit"}),name:`limit: ${t.limit}`,canRemove:!0,onRemove:()=>{_.removeLimit(i),j()},color:"other",active:O||a}):t.type==="order_by"?v.createElement(Ho,{icon:v.createElement(ta,{action:"order_by"}),name:`${t.byField.name} ${t.direction||""}`,canRemove:!0,onRemove:()=>{_.removeOrderBy(i,t.orderByIndex),j()},color:"other",active:O||a}):t.type==="data_style"?v.createElement(Ho,{icon:v.createElement(tV,{renderer:t.renderer}),name:t.renderer,color:"other",canRemove:t.canRemove,onRemove:()=>{_.setDataStyle(t.styleKey,void 0),j()},active:O||a}):t.type==="nested_query_definition"?v.createElement(Ho,{icon:v.createElement(ta,{action:"nest"}),name:t.name,unsaved:!0,canRemove:!0,onRemove:()=>{_.removeField(i,t.fieldIndex),j()},color:"query",active:O||a}):t.type==="error_field"?v.createElement(Ho,{icon:v.createElement(ta,{action:"error"}),name:t.name,unsaved:!1,canRemove:!0,onRemove:()=>{_.removeField(i,t.fieldIndex),j()},color:"error",active:O||a}):v.createElement("div",null)}}),t.type==="nested_query_definition"&&(t.stages[0].items.length>0||t.stages.length>1)&&t.stages.map((O,j)=>{let $=CH(i,{fieldIndex:t.fieldIndex,stageIndex:j});return v.createElement(d9,{key:"stage/"+j},t.stages.length>1&&v.createElement(Dle,{popoverContent:({closeMenu:L})=>v.createElement(nV,{model:n,modelPath:e,source:O.inputSource,toggleField:_.toggleField,addFilter:_.addFilter,addLimit:_.addLimit,addOrderBy:_.addOrderBy,addNewNestedQuery:_.addNewNestedQuery,stagePath:$,remove:()=>_.removeStage($),orderByFields:O.orderByFields,addNewDimension:_.addNewDimension,addNewMeasure:_.addNewMeasure,closeMenu:L,setDataStyle:q=>_.setDataStyle(t.name,q),isLastStage:j===t.stages.length-1,stageSummary:O.items,updateFieldOrder:_.updateFieldOrder,topValues:p}),content:({isOpen:L})=>v.createElement(LDe,{active:L},"Stage ",j+1,v.createElement(jH,{className:"back"},v.createElement(qH,{color:"other",width:"20px",height:"20px",className:"close",onClick:()=>_.removeStage($)})))}),v.createElement(ODe,{model:n,modelPath:e,stage:O,stagePath:$,source:r,topValues:p,queryModifiers:_}))}),R.length>0&&v.createElement(d9,null,v.createElement(Fle,null,R.map(({childItem:O,fieldIndex:j},$)=>v.createElement(NDe,{model:n,modelPath:e,key:"child:"+$,item:O,source:r,stagePath:i,fieldIndex:j,stageSummary:o,isSelected:!1,beginReorderingField:()=>{},deselect:()=>{},topValues:p,queryModifiers:_})))))},LDe=In.div`
  text-transform: uppercase;
  font-size: 12px;
  border: none;
  overflow: hidden;
  background-color: transparent;
  border-radius: 50px;
  padding: 5px 7px 5px 10px;
  text-align: left;
  margin-bottom: 2px;
  user-select: none;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
  font-family: "Google Sans";
  color: #9aa0a6;

  &:hover {
    .back {
      visibility: visible;
    }
  }

  .back {
    visibility: hidden;
  }

  &:hover {
    background-color: #f7f8f8;
  }

  ${({active:n})=>n?`
      background-color: #f7f8f8;
      .back {
        visibility: visible;
      }
    `:""}
`;m();m();var a0=fr(Fr()),VOe=fr(zOe());m();m();var H1=fr(Fr());m();var V4=fr(Fr()),HOe=n=>V4.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},V4.createElement("title",null,"download_hover"),V4.createElement("g",{id:"download_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},V4.createElement("circle",{id:"Oval",fill:"#EAF2FF",className:"hoverfill",cx:55,cy:55,r:55}),V4.createElement("g",{id:"download_black_24dp",transform:"translate(8.000000, 9.133308)"},V4.createElement("rect",{id:"Rectangle",x:0,y:0,width:94,height:94}),V4.createElement("path",{d:"M19.5833333,78.3333333 L74.4166667,78.3333333 L74.4166667,70.5 L19.5833333,70.5 L19.5833333,78.3333333 Z M74.4166667,35.25 L58.75,35.25 L58.75,11.75 L35.25,11.75 L35.25,35.25 L19.5833333,35.25 L47,62.6666667 L74.4166667,35.25 Z",id:"Shape",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"}))));var Kle=({onDownloadHTML:n,onDownloadJSON:e,disabled:t=!1})=>{let[r,i]=(0,H1.useState)(!1),s=(0,H1.useRef)(),o=a=>l=>{if(!t){let f=l.metaKey;a(s.current?.checked?!f:f),i(!1)}};return H1.default.createElement(fvt,null,H1.default.createElement(cvt,{disabled:t,onClick:()=>!t&&i(!0),width:"26px",height:"26px"}),H1.default.createElement(q1,{open:r,setOpen:i,placement:"bottom-start",width:200,maxHeight:500,yOffset:25},H1.default.createElement(jFe,{options:[{label:"Download HTML",onSelect:o(n)},{label:"Download JSON",onSelect:o(e)}]}),H1.default.createElement(dvt,null,H1.default.createElement(hvt,{type:"checkbox",ref:s,id:"new-tab-check"}),H1.default.createElement(pvt,{htmlFor:"new-tab-check"},"Open in new tab"))))},cvt=In(HOe)`
  cursor: pointer;

  .hoverfill {
    fill: transparent;
  }

  ${({disabled:n})=>`
    .primaryfill {
      fill: ${n?mi.other.fillMedium:mi.other.fillStrong};
    }

    &:hover {
      .hoverfill {
        fill: ${n?"transparent":mi.dimension.fillLight};
      }

      .primaryfill {
        fill: ${n?mi.other.fillMedium:mi.dimension.fillStrong};
      }
    }
  `}
`,fvt=In.div`
  display: flex;
  align-items: center;
  user-select: none;
`,dvt=In.div`
  border-top: 1px solid #ececec;
  font-family: Roboto;
  padding: 10px 15px;
`,hvt=In.input``,pvt=In.label`
  margin-left: 8px;
  color: #5f6368;
`;m();m();var pW=fr(Fr()),Zy=({element:n})=>{let e=(0,pW.useRef)(null);return(0,pW.useEffect)(()=>{let t=e.current;t&&(t.innerHTML="",t.appendChild(n))},[n]),v.createElement("div",{ref:e})};var Jle=({model:n,source:e,result:t,dataStyles:r,malloy:i,onDrill:s,isRunning:o})=>{let[a,l]=(0,a0.useState)(),[f,p]=(0,a0.useState)(),[_,b]=(0,a0.useState)(),[R,O]=(0,a0.useState)(),[j,$]=(0,a0.useState)(),[L,q]=(0,a0.useState)("html"),[P,W]=(0,a0.useState)(!1),[oe,I]=(0,a0.useState)(!1),[J,he]=(0,a0.useState)("source"),[ye,He]=(0,a0.useState)(!1),at=(0,a0.useRef)(0),ct=SH(t),Ze=SH(r);return(0,a0.useEffect)(()=>{z_(i.markdown,"md").then(O).catch(console.log),z_(OX(i.source),"malloy").then(p).catch(console.log),z_(i.model,"malloy").then(b).catch(console.log)},[i]),(0,a0.useEffect)(()=>{let bt=!1;return(async()=>{let qe=t?.sql;if(qe===void 0){if(n===void 0||i.model===void 0||i.model===""||!i.isRunnable)return;try{qe=await AFe(n,i.model)}catch(et){console.error(et)}}if(qe===void 0)return;let te=await z_(qe,"sql");bt||$(te)})(),()=>{bt=!0}},[t,i,n]),(0,a0.useEffect)(()=>{t===ct&&JSON.stringify(r)===JSON.stringify(Ze)||(I(!1),He(!1),l(void 0),t!==void 0&&setTimeout(async()=>{I(!0),console.log(t.sql);let bt=++at.current,Mt=await new VOe.HTMLView(document).render(t.data,{dataStyles:r,isDrillingEnabled:!0,onDrill:(qe,te,et)=>{Promise.all(et.map(Ee=>Gx(e,Ee).catch(ke=>{console.log(ke)}))).then(Ee=>{let ke=Ee.filter(LM);ke.length>0&&s(ke)})}});setTimeout(()=>{at.current===bt&&(I(!1),He(!0),setTimeout(()=>{at.current===bt&&l(Mt)},0))},0)}))},[t,r,Ze,ct]),v.createElement(gvt,null,v.createElement(vvt,null,v.createElement(QOe,null,v.createElement(Xle,{onClick:()=>q("malloy"),selected:L==="malloy"},"Malloy"),v.createElement(Xle,{onClick:()=>q("sql"),selected:L==="sql"},"SQL"),v.createElement(Xle,{onClick:()=>q("html"),selected:L==="html"},"Results")),v.createElement(QOe,null,v.createElement(Kle,{disabled:!t||a===void 0||oe,onDownloadHTML:bt=>RX(a?Jme(a.outerHTML,"Malloy Download"):"","text/html","result.html",bt),onDownloadJSON:bt=>RX(JSON.stringify(t?.data.toObject()||{},null,2),"application/json","result.json",bt)}))),v.createElement(yvt,null,o&&L!=="malloy"&&v.createElement(fp,{text:"Running"}),L==="html"&&v.createElement(v.Fragment,null,t!==void 0&&oe&&v.createElement(fp,{text:"Rendering"}),!a&&ye&&v.createElement(fp,{text:"Displaying"}),a&&ye&&v.createElement(xvt,null,v.createElement(Zy,{element:a}))),j!==void 0&&L==="sql"&&v.createElement(WOe,null,j&&v.createElement(Zy,{element:j})),L==="malloy"&&v.createElement(WOe,{style:{marginLeft:J==="source"?"-2ch":""}},J==="source"&&f&&v.createElement(Zy,{element:f}),J==="model"&&_&&v.createElement(Zy,{element:_}),J==="markdown"&&R&&v.createElement(Zy,{element:R}),v.createElement(mvt,null,v.createElement(ta,{action:"copy",onClick:()=>{let bt=i[J];J==="source"&&(bt=OX(bt)),Zme(bt),W(!0)},color:P?"other":"dimension"}),v.createElement(gl,{value:J,onChange:bt=>{he(bt),W(!1)},options:[{value:"source",label:"Source"},{value:"model",label:"Model"},{value:"markdown",label:"Markdown"}]})))))},mvt=In.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  position: absolute;
  top: 0;
  right: 0;
  background-color: white;
  border-radius: 4px;
  width: 140px;
  justify-content: flex-end;
  align-items: center;
`,xvt=In.div`
  font-size: 14px;
  font-family: "Roboto Mono";
`,gvt=In.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  overflow: hidden;
`,yvt=In(IE)`
  padding: 20px;
  overflow: auto;
  width: auto;
`,vvt=In(lH)`
  gap: 10px;
  justify-content: space-between;
  padding: 0px 20px;
  flex-direction: row;
  width: auto;
`,Xle=In.div`
  padding: 8px;
  cursor: pointer;
  text-transform: uppercase;
  color: #939393;
  font-family: "Google Sans";
  border-top: 1px solid transparent;
  font-size: 11pt;
  ${({selected:n})=>`border-bottom: 1px solid ${n?"#4285F4":"transparent"}`}
`,WOe=In.div`
  padding: 0 15px;
  font-family: "Roboto Mono";
  font-size: 14px;
  position: relative;
  width: 100%;
`,QOe=In.div`
  display: flex;
  align-items: center;
  font-size: 11pt;
  color: #4d4d4d;
`;m();m();var Zle=({source:n,stagePath:e,orderByFields:t,closeMenu:r,queryName:i,topValues:s,queryModifiers:o,model:a,modelPath:l})=>v.createElement(tf,{topValues:s,valueSearchSource:n,addFilter:f=>o.addFilter(e,f),closeMenu:r,model:a,modelPath:l,actions:[{kind:"sub_menu",id:"filter",label:"Filter",iconName:"filter",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:f})=>v.createElement(Ky,{modelPath:l,model:a,topValues:s,source:n,addFilter:(p,_)=>o.addFilter(e,p,_),onComplete:f,needsRename:!1})},{kind:"sub_menu",id:"nest",label:"Nest",iconName:"nest",iconColor:"query",closeOnComplete:!0,divider:!0,Component:({onComplete:f})=>v.createElement(hb,{source:n,selectField:p=>o.toggleField(e,p),selectNewNest:p=>o.addNewNestedQuery(e,p),onComplete:f})},{kind:"sub_menu",id:"group_by",label:"Group By",iconName:"group_by",iconColor:"dimension",closeOnComplete:!0,Component:({onComplete:f})=>v.createElement(db,{topValues:s,source:n,addNewDimension:p=>o.addNewDimension(e,p),toggleField:p=>o.toggleField(e,p),onComplete:f})},{kind:"sub_menu",id:"aggregate",label:"Aggregate",iconColor:"measure",iconName:"aggregate",closeOnComplete:!0,Component:({onComplete:f})=>v.createElement(fb,{source:n,selectField:p=>o.toggleField(e,p),addNewMeasure:p=>o.addNewMeasure(e,p),onComplete:f})},{kind:"sub_menu",id:"limit",label:"Limit",iconName:"limit",iconColor:"other",closeOnComplete:!0,Component:({onComplete:f})=>v.createElement(Jy,{addLimit:p=>o.addLimit(e,p),onComplete:f})},{kind:"sub_menu",id:"order_by",label:"Order By",iconName:"order_by",iconColor:"other",closeOnComplete:!0,Component:({onComplete:f})=>v.createElement(pb,{addOrderBy:(p,_)=>o.addOrderBy(e,p,_),orderByFields:t,onComplete:f})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:f})=>v.createElement(dp,{setDataStyle:p=>o.setDataStyle(i,p),onComplete:f,allowedRenderers:["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]})},{kind:"one_click",id:"add_stage",label:"Add Stage",iconName:"stage",iconColor:"other",onClick:()=>o.addStage(void 0)}],searchItems:Wf(n).map(({field:f,path:p})=>({item:R0(f,p),terms:O0(f,p),detail:N0(p),key:p,select:()=>o.toggleField(e,p)}))});m();var W4=fr(Fr()),mW=n=>W4.createElement("svg",{width:"357px",height:"110px",viewBox:"0 0 357 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},W4.createElement("title",null,"query_run_wide"),W4.createElement("g",{id:"query_run_wide",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},W4.createElement("path",{d:"M55.5,5.0735362 L287.5,5.0735362 C297.517605,5.0735362 306.301251,7.17877912 313.56051,11.0988368 C320.819769,15.0188946 326.554642,20.7537671 330.474699,28.0130264 C334.394757,35.2722856 336.5,44.0559316 336.5,54.0735362 C336.5,64.0911408 334.394757,72.8747868 330.474699,80.134046 C326.554642,87.3933053 320.819769,93.1281778 313.56051,97.0482355 C306.301251,100.968293 297.517605,103.073536 287.5,103.073536 L55.5,103.073536 C45.4823954,103.073536 36.6987494,100.968293 29.4394902,97.0482355 C22.1802309,93.1281778 16.4453584,87.3933053 12.5253006,80.134046 C8.60524292,72.8747868 6.5,64.0911408 6.5,54.0735362 C6.5,44.0559316 8.60524292,35.2722856 12.5253006,28.0130264 C16.4453584,20.7537671 22.1802309,15.0188946 29.4394902,11.0988368 C36.6987494,7.17877912 45.4823954,5.0735362 55.5,5.0735362 Z",id:"Rectangle",className:"backgroundfill",fill:"#4285F4"}),W4.createElement("text",{id:"RUN-Copy",fontFamily:"GoogleSans-Medium, Google Sans",fontSize:59,fontWeight:400,fill:"#FFFFFF",className:"foregroundfill"},W4.createElement("tspan",{x:152.764,y:74.5},"RUN")),W4.createElement("path",{d:"M110,33.0734278 L135.127584,77.25 L84.8724165,77.25 L110,33.0734278 Z",id:"Triangle-Copy-2",className:"foregroundstroke",stroke:"#FFFFFF",strokeWidth:6.5,transform:"translate(110.000000, 53.500000) rotate(-270.000000) translate(-110.000000, -53.500000) "})));m();m();var GOe=fr(up()),YOe=fr(Fr());var ece=({model:n,source:e,selectField:t,onComplete:r})=>{let[i,s]=(0,YOe.useState)(""),o=n&&e?bvt(n,e):[],a=[...e.fields,...o];return v.createElement(N1,null,v.createElement(O1,null,v.createElement(cp,{placeholder:"Search",value:i,setValue:s,autoFocus:!0})),v.createElement(rc,null,v.createElement($l,null,i===""&&v.createElement(z1,{fields:a,filter:l=>l.type==="turtle",showNested:!0,selectField:(l,f)=>{t(f),r()},topValues:void 0}),i!==""&&v.createElement(v.Fragment,null,v.createElement(zy,{topValues:void 0,searchTerm:i,items:a.map(l=>({field:l,path:l.as||l.name})).filter(({field:l})=>kM(l)).map(({field:l,path:f})=>({item:R0(l,f),terms:[...O0(l,f),"query"],detail:N0(f),key:_vt(f),select:()=>{t(l),r()}}))})))))};function _vt(n){return"load/"+n}function Evt(n){return n.type==="query"}function bvt(n,e){return Object.values(n.contents).filter(Evt).filter(t=>t.structRef===(e.as||e.name)).flatMap(t=>{try{return[(0,GOe.flattenQuery)(n,t)]}catch(r){return console.error(r),[]}})}var nce=({dirty:n,model:e,modelPath:t,source:r,queryName:i,topValues:s,runQuery:o,querySummary:a,result:l,dataStyles:f,isRunning:p,queryMalloy:_,queryModifiers:b,undo:R,canUndo:O,isQueryEmpty:j,canQueryRun:$})=>{let[L,q]=(0,tce.useState)(!1),[P,W]=(0,tce.useState)(!1);return v.createElement(Svt,null,v.createElement(Cvt,null,v.createElement(Tvt,null,r&&v.createElement(v.Fragment,null,v.createElement("div",null,v.createElement(ta,{action:"add",onClick:()=>q(!0),color:"dimension"}),v.createElement(q1,{open:L,setOpen:q},v.createElement(Zle,{model:e,modelPath:t,source:r,queryModifiers:b,stagePath:{stageIndex:0},orderByFields:a?.stages[0].orderByFields||[],closeMenu:()=>q(!1),queryName:i,stageSummary:a?.stages[0].items||[],isOnlyStage:a?.stages.length===1,topValues:s}))),v.createElement("div",null,v.createElement(ta,{action:"load",onClick:()=>W(!0),color:"query"}),v.createElement(q1,{open:P,setOpen:W},v.createElement(ece,{model:e,source:r,selectField:b.replaceQuery,onComplete:()=>W(!1)}))),v.createElement(ta,{action:"undo",onClick:()=>R(),color:O?"dimension":"other"}),v.createElement(ta,{action:"remove",onClick:()=>b.clearQuery(),color:j?"other":"dimension"}),v.createElement(Fvt,{width:"80px",onClick:()=>o(),className:p?"running":j||!$?"blank":n?"dirty":"clean"}))),v.createElement(wvt,null,v.createElement(Avt,null,a&&v.createElement(Tle,{model:e,modelPath:t,source:r,querySummary:a,queryModifiers:b,stagePath:void 0,queryName:i,topValues:s})))),v.createElement(Jle,{model:e,source:r,result:l,dataStyles:f,malloy:_,onDrill:b.onDrill,isRunning:p}))},Svt=In.div`
  overflow: hidden;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row;
  overflow: hidden;
  gap: 10px;
`,Cvt=In.div`
  width: 300px;
  min-width: 300px;
  height: 100%;
  display: flex;
  flex-direction: column;
`,wvt=In(IE)`
  display: flex;
  overflow-y: auto;
  flex-direction: column;
`,Avt=In.div`
  padding: 10px;
`,Tvt=In(lH)`
  gap: 20px;
  justify-content: center;
  align-items: center;
`,Fvt=In(mW)`
  cursor: pointer;
  &.running,
  &.clean,
  &.blank {
    .backgroundfill {
      fill: #e9e9e9;
    }
    .foregroundstroke {
      stroke: #a7a7a7;
    }
    .foregroundfill {
      fill: #a7a7a7;
    }
  }
`;m();m();var KOe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAAB3RJTUUH5gscFQQblTLmegAANntJREFUeNrtvXmcVNW1+Ptd51T1CA10093MzrMmijhrRHAER9Q4MagI5N3P7/7eez9pMpjcIaMK3ndz3+/mBYwDgyZqonEAx0aNs4JDEocYjYpAQwNNM/VUdc56f5xT1Y0CPZzuOrVhf/9wgKpVa6+zz9prD2ttsFgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxWKxWCwWi2VvRuJWYF/gCE6XxquvkNZTDha/sj/SrwhaUjhbm5EvGrTkJ/9bV/GSxq1nLtAtBdL6bFq2fepLeiuoQqI/FA4WLTt1hMpRX+4TdsgXrAPoI6pr7kt4w8v298tLD8RxRuM6R2nSrdCkmxTXAV8Vz0/h+RtwnT8j8q60ef8oLRiw6stLj/bj1r83afyV9G/byqHpHXqAuJyIxwFemn6kcRUQl5Q4NAIfqcd7biH/UJ9Ph/2U5rh139uxDqCXqfrp7yu9qrJvaWnhJVqUOAnX2Z+EW9DpF5UW0E/xeRXhUVF5teGSEzfH3Z6e0vowiW2fcGi6hYu8Vs5Wj2PVoxzF6eSraRzqBN6RBMscl2fcIr6ouoW9yinmC9YB9BKVP/pduT9swGU6oGSalhSeSMIpVAnM27mRFZDgn6oATSiviOo9jjhLN150wta429dVvMcS0vBh+rB0E9P9Nq7004xCM80C6cQYX/mcJw5/F5ffSZLFFYfyWeFk7BShF7EOICLDZyx0Ww8bdKZf2W+2lhWPI+kWqkgkw+7kCGAZylzXcVZsnDgmr0fB9bfS39vBVZpmtp/iUNXADO3/6KYd2p2BistfnQL+M1HCQ1XfZ1vcbd1bsA4gAlU331vm7V85w68s+1+UFg5Tp6sjftdQgOAt+gz4mavO/RsvGpOX8+J1P2Y/r4Uf+SmuUZ8S6Hy077IdNJQlNLlJHkiU8uOqW/g87jbvDVgH0EOGzFlS2Xbg4B/p4P4ztLigCMJRu7d6fQfCiGAb8EtB5jZcmF9Tgrp/4RivjXma5lzVno/4nRlBCaIBJ8GLif5SU32Lroi77aZjHUAPqK5ZMjh94OB5fnXZdVqYTPS5ERVUQFTbgF+Jo//aMOGkvHACdf/CsV4L/60+p/aR/9vZFOFvOEneTpbJ/6j6vr4Wtw1MprMVWctXqPrnu8vS+5X/q19dNjknLz+ABJ5aRQqAf1Jfaqqefa8oblvU3cJBXgv/kauXH4LfUAU/xejUNv3PDbdzdNx2MBnrALrBYaNvcf39B8/0q8pmaGHSzXX4lHUCIv8z1dZ2zeDHXostglv/Uwb6Hj9Vn7Ny9fJn7ZBxAm2cmNrKzzfeIYPjsoPpWAfQDRouPXacX9V/tpYWFsb15gmgUIZyi+cmTohDB20R8Vr4ju9xRa5f/qwdQifgtTIxvU3/r9QTJOKwhelYB9BFKv/veyu9qv41OqCkOm5dgvdND0L5X+VPrOif69+vn6en+Cn+h/ok4nj5s3YQUB8n3cyMze9xWnyamIt1AF3gKBC/uuwaLe83Vl2n/VRLjGjw4l2oohfl8ne33CX9vVZuVo/hcdsgawuPqnQz/7z1V9Ivbl1MwzqALrBh9qKDdGDpdEoKkkA8Me9XEAQVLQW+U750Rc6iktYNepHfxgVxhf5fs0P7ouD5LVsZH7c+pmEdQCcMveB21+9fdJ0OLDlaRfJi9G9HAE5WdFIufm3rnQxNN/FP6lEcd8u/inqU+imd0fpYsixuXUzCOoBO8A+tPFL7FV5HSUFgq3wY9kKCBUFNAjcNWvrWqL7+vZaNXO63clK+jP5ZO2SigFbObNvsnRO3PiZhHcAeGPI/FyX9gsT12r/4EHWdvDw1Fep0LHBNX/5Ow38yIrWD6/10vAt/e8Jro5/Xyk36ZrI8bl1MwTqAPeAl9HhNOldpWd5FvB0QVNUBrq9YuuKwvvqVtkYu91s5Nu7W7tYKAuqB16Jnphr1wrj1MQXrAHbDkJrFRaA3UZQcTlEybnX2TDAkH+6j00Y9/VGvP9O6f2NkuoVp6uPm6+ifIbVNi9XTGanlyaFx62IC1gHsBt/3Twcu1eICyPmZv+4hZFNnr92W3v7NXrdFK9/WNN+Iu51d0rUF/BQnoVwRty4mYB3ALqicvai/wiyUCi1Kok7+myk8HLQf6E0VS9/uvAJRF6n7IQerx/Wq+T/6A/hp8Fs1CTo9XZs8MG598p3879lxoHo2cB4CJNxsMk5eI9ko4HIf76TeENn8Xzheminqc1TczesyPvgpAI5R1eu8lYNsH98D1jhfoermReXATFT7IwKuOSYSBEWrgZnlS98qiSpv0xqOVI/JqogJoz8ETlA9IOjbU7Rx+xFx65TPmNO7c4TChcDY8L/NQrJKX6hhG3pKXQ0J9ZiKYnIYfYiqXq+1SZsotBusA+hA5exFQ0BnqBLk2quCb5YbEBFUGQjMGvzkygE9lZNWjgOuIs8O/XTefpBMrw7mRFd5qqPj1itfsQ6gI6qXAydLOIyKgqS9bDkqc1CA8Z765/fk22tmUwhMB0bl/+LHV3DASZKtHwaMVJieXl5QGLdq+Yh1ACFVNy/cH5iOaiIYRsKVv9YUYmQUoKUoswY9ubKyu9/34RTgsrxKe+hq211wCtq9lgaNuExVT41bt3zEOgCg+gf3i8K1wDf1K0OeNLeBn9fVuHdJ2IrT8PXS7nyv7nuUADNRqkwK/TO4heB0GOuD1UutRHWW93xBadz65RvWAQDaljoCmKaqztc6fVMbtKXjVrH7BA0pAJ1R/uSKkV39WtpjHDDBwMEfgER/Qdyd/0yD4gkX+L5v04W/wj7vACpnL0qoMg04dJcfSHnI1pa41ewRYfh7vKpe1ZXPr57NQJTvKAwwbfTPZCgmB0r7ImBI2JYylFnp2oKBceuaT+zzDkBUjwOu1t1sdovnI5t3IL4athAYrgWAg3JD+bK3Duns8woTgLPi1runuMVQMDC4QeTrbVOAs1B/Ytx65hP7tAOonrO4UMPV7l1e5pW5269xBzS3BX9mmBeQQN8jVZk6+oUPd/u8v5xDFcHcv8SwwT9LQbng7ub4kwRHJYsVZqZrE7HXdcwX9mkH4Psarnbrns/6NqeQjcF1dGra2yHZqcB1nzftOGb3xmASweq/cagGW39FQwVxdv+AQt99sio5qaBkAvusA6ies6QU1ZlA1R7f/rAMmLN+S7AjAOZFAcG/DlDVGwc/8+7XTsWtrmEUMF2VAuP2/UMKKoTkwD0rH26PFgDTU88V7Be3zvnAPusAfM8/C5gQzP278IXtrcj6LcF/m/aSBB0f4Eo/nT6x419t+RdElauB44xrF+2jf8lIwUkInZ5dCI5LHwv+1VpbamCLe5d90gFUzV40EHSWKgO6lOWSiQLWbUF2tGZv7TWQoao6Y/DTb2evFdvWxKHANNV8r3qwewqrhIJB4XpNJ40IE6ZcYFqatj6roGQK+6QDUNUJwLjuxvKyoxWnrhFRRQ3bJ5P2KOBi3/O/BVBfg6swFTAyY041OPhTMlIQtwuj/84cgeo0/9mifTpRaJ9zAFU1i6qAWUBJt3JcMzsC67fAtvBcgGFRQNjaclWdySttpWnlG8C1JqX7ZsiYvmiIkBzQtdE/aweRzLbgNb6ke72Ckknscw5AfS4HTunRyyuCtKRw1jYG5wJMe2vCKEDh3P03vnyxKDcC+5vWjAyJYige4SBOt0f/zLbgfgrTveeT+2yi0D7lAKpnLx4FepOiySg5rrJhK7K1Ofgf06IAERTpP6Ct8d82FAy81rxMx/ZTf0XDhET/TLt6ICf41yTf4+S42xQX+5QD8FWvgYilrUWQtjSyZjPi+eZFAYCgrC+sOvTFijPKhexhIaNw+0HxcCeYu/RQ/7B2QjXojPTywn0yUWifcQBVNy88DPR6VRzphf0u2bQN2bwj7mb1THeUJreYPwy7lPWFgzsUEsp/MqN/8XAhkXllIz1OBZiI742Nu21xsE84gOo5i51gtVsP75UBWwRJeUEUkPaMeXk6NAAHn7/2P5Jnqs4JamcY1IhEGRQPcQiOOUa0RHCv2ECFWanlBT2uoGQq+4QDUE8zq929imzegWzaHnfzeqa7Km1OkkeGXsSXxcONiAJUg3JfJSMd3MxlTb3g0MPj3ePx/QvibmOu2esdwNAf/C6p6HRg/14VLIJ4Ps6azUhbOjwcFHdru6e/g/JJ6UEsHXIBvogRUUDBICiqDjP+eknfcEpYAsxML090u4KSyez1DsBrazsJuEL7arN7SzOyYVswghq2HiiqeOLyePUEPi09EIf89WGqQbmv4pFOe8mvXrR3GB2epj6Xxt3WXLJXO4BhNYuKNUj4GdInPyCC+D7O2s3QEtxGYdS2oAQHY1eVjOSRoReREjevo4DCCqGwMnzre3s6F9yvVgDMSNUmu1xByXT2ageQVh0LXNhno3+GbS3ZRCHTtgWDM3HCU1Xn8kHZ4XkZBWQTfkYFCT+h4n3FaLpYQWlvYK91ANWzFw1QZZbCoD59JTOJQnWNSFNr8GcmRQFhesz6wip+P/QyWpxkXkYBhVVCQXkfO9fgpKQL3JCuTXZaQWlvYK91AL7qecDZ2Y3jPkaa2nDqtoCJiUIEkcDyyjN5Z+CxeRUFZBN+RgQJP7mxBkeq6pT08tK99v3IsFc2cMjNSyqBWQqlOclyCfaSkfVbkO0mRgHBgmBDspyHhk1ih1ucH1FAqENhdefFPnrNDu0VlCbjtx0TVV6+s1c6AA/vUuC0XL+E0tyGs3azsYlCDj4vl5/C6+Un5kUUoASFPktGhKW+cqaQAByg6I3e8oJkzGboU/Y6B1A9e9EI4CZVLcxpjmsmXdjkRCFVtiX689Cwy2hM9kdiTBTKmK54qJAo6/OFv53t0B4FXKnqnxCTCXLCXucA/GAF9/hYyluJIK1pZK2hiUJhFPDWwDH8qeJ04k4USpRGT/jpuSkE0KGqzGh7rqA4ssA8Za9yAJWzFx4M3AC4vZHw01Nk4zaksSn4HwOjgCa3mIeGTWJjQUUsR4R3Svjpl1Es97YIH93Fgn4r97+eG/YaB3DgD5c4KFOBo2J96bKJQg1BopChUcCfy47m2apxsSUKJfpD8bDeSfjpuSkElHLQWV5tYVk8WvQte40D2NbsHQ1M1vZroWNFGnYgDWG6sIFRQJtTwMNDL2Ft0dCcRgF9lfDTY32Clp/j458XnxZ9x17hAEb98LcJYDrKAXnw7ndIFGpAUmljo4C/9TuEpdXn5y5RKPyN5MBg6y8f6q+HawH9UJ2Zfj45OG59epu9wgG0tKROAK7Mu9v7GoNEIRPJJAo9NnQin5Xsn5MoQAkSfkpGOrh5VKUvvF34DPX14rh16W2MdwBV31tSpKozgKF5Vdo2myjUiLSm8s01dU1/lC+KR/Ho0AtJ93GiUGaWVFhBmPCTP88y7FaFKDPTtYnhcevTmxjvADTlnwFcovk6z97ajKzfakTBja8iqvji8GTVuXzU/9A+PxzkJIMqv04yf17+DGG9hzGqcmXcuvQmRjuAqprF/UFnoZTn0YDRTodEISNvFw6jgLVFQ3l46CW09lGiUHb0HywUVOTjg8zcKKYu6I3p2oID49antzDaAaiv5wDnqihx7vt3yo5WZF3mRqG4lekeEr6dz1WO470Bx/RZFOAUQPHIDum++csxqv4U1QvzXtGuYKwDqJq9qAJ0pir98/pJdLhXkB0GJgqFUcCmgiBRqMkt6tUoIHvDT3X7/X75SocbhaZ4tU8dFbc+vYGxDkBVLwLOlGDtOG51OiVIFzb0XkEUQflTxWm8MeiEXo8C3KLwfj/HBLsIKAcp3OAvLzb+XkEjHUBVzeJhwAxVLcqHQz+dkr1XcCsYmSgURDFbE2U8OGwSWxL9eiUK2GXCT54TrgUAXO37qePj1icqRjoA9f0rAeOytKQ1FaQLG5wo9OagMbxUcVqvRQGJUigeIWbdThocER6mMCO9vCCPTix0H+McQNXsRQcBN6Ikjes0gGzYrrK1pSVudXrUBFWa3BIeGj6JjQWDcCJ4gI4JP26pQc+RnaKAS9XX0+PWJwpGOYChcxY7qnodcHTenfrrAgpIKr1emlp/LbAlb88u7I4wCniv7BieG3xWdHEunxYNcT4xypFnTSEoVIDOSj9X1C+6xHgwygGkfT0SmAw4xnWaTJKSyGNuMvFzoDavty53g6jS6hTy8LBLqCuq7nHREBE8TfPLZD/5JZA2zRcCmUWM8yB9dtyq9BRjHMDQ796fQPV64BCzTtMEhHsVXwJ3198wbgPIAoTNpkYBH/Y/nCerzu1RunDY5DdJ85AUOA8Bb0peFCHsrikEVMsUZqWXJ8vj1qcnGOMA0unUaOCq4IUxbeTUjMoPJjTxNkCywHkReNy4SIYgCkhLgj8OvYgvSkZ165hzOPdvBRaM/CXr3DPa1iMsAGkxzhm2t/tM9fXCuHXpCUY4gKE3LykEZiiMMPGFQQWBvyPcW/cf16UA6s8Z3SLCAmCdcR0/jAL+UXoAjw2ZiCdOd6OAF0V4rF2c8zjwohFbul8zhYBqMTAzXZscGrc+3cUIB5DGPw241MjQXxUEH1iULHA+6Ph3bsJ9E3gIA1OFRIMbhZZWn8/H/Q7p0rZgOPpvA+aPmEtD5s8T49oagPkC24xzhoAG4d2JqnpF3Lp0l7x3AFU1i/qFCT+DTVw0C/mzI3Lf2p9P8Tv+4YZzR6dA7hbhc+O6fXhEeHXxcB4eejGtTqLzKCB4fM+I8OxX/8qBZ4GnTIzwgmMBmgRuTD2XPCBufbpD3jsA9XU8cL6R237BnYQp4O7186Z+tqvPDOif/DNwnyCGnQ5sTxR6tmo8fyk7eo9RQBAIsYlg9P9alRT37PT2cEq00cQoIHRb3wC9TjedaYwXy2sHUFmzaBAwC7TMxJEh5E1H5Pe7+8vPv/VNX0QWAR8YNwcOo4ANBYP5/bDLaHILd70t2H4726MIL+1enPMy8Gi4x24YgioOMNV799Uj4tamq+S1A8DXicBYA3tDcFWYSAtw5/p5U+v29NGGCWM+BhYCnmmjXyZR6MWK01kx8HjCOr47myL411oRfjNyLrs9BemOa2tB5DfAGtOioQ6tPURVr/f+VObGrUlXyFsHUHnzwiEoM1AtNm5kJHtN+J9E5ImufN4R57fAO+ZtcQb6NiYH8tCwSWxNlO4UAnS4m/VBV1jRmTTXdVYCDwrZ1FtjkPZZ3NV+qvm4uPXpCnnrAIBJCCcb+fKrIrANYX79vKmbuvKdTROO/xL4jQhtJkYBDj6vlZ/IK+Wn7KpTfSrCPUNvJ9WZLGdsawrkHoRPDHv/s9YARqJ6kz6XLIhbm87ISwdQOXvR/sB0Vc17A+6KcL3iGdeRZ7v5vUeAVzsOJWYQOOkdbikPDZ9EQ3JAdi0gnM7f57q832VpieT7wBIRUbPssFMUcJmHnhq3Pp2Rdw5gv5895KB6jcKxJi78haN3gwjz190+tVs1wRsmjKkn2A9vMqvbt0cB7ww4ltrKsXSo6/u+wOKht+J1VVZibJMvwn3AX+NuV49sEVxmVKUwM7U8WRK3Pnsi7xxA8+bmw4FpqOadbl0hdFqPuq77Uk++74jzJFBr4NEgBKXFKeQPwy6jrrASUTzg7hHz+KS70hLj058AdyOSNm1KBNkt0gko4+LWZU/k1UtWXXN/QlWnAYeZtxiWzRFfK8iddbdN7lHO/6YJx28R+LWKbM5INYfgiPAH/Q/n6apzAFaI8GDPpcmDoQzzCJQegOp3vNqCgXGrszvyygH4fupY4GpFTVz7y/Cgi9vpaveeOLB1zYtl6W0vZI7bmoQQJAo9MuwSnq4+e/GIuazpqazE2am1wAKQVgODgMxawFm++hPi1mV35I0DqJ69sBCYDjrKxCO/wUk3+RSRe+vuuK7T1e498cbzl5b++KOfVAxu2xQ6AJN6fzAV+LTkAGqO+nk1b6QiPUxBHgNeMjNdGFAtIUgUqo5bn12RNw5A4RRgkpGePnhNfeC+4uLCv0SVV1fIZWdufOmk8RueD+Wb5RCFoPKxIteVb3zvmCiyEmenNiEyH2S7aTsCkHXdp6B6Wdy67Iq8cABVc5aUqjJDocrElf+w2scHjjhLVv3kKj+KqNU1jFKYnvTThZPqHmVYS52ZUUCg7oGK3jDi6Xcils+WZ4BnjSukSjZduEBhero2sV/c+nyVvHAA6vlnARNN9fCCpIF71s2d3O3V7o5s/z6iylXAcQoctv1jJqx/KjwTZ1jnl+yW6LebPC9SBefk+LatwAKBBvN6SNZ1H6fK1fpaeV49yNgdQFXN4oFhuu8AE0d/CSb/KwXnQYk4UW1McyhwvSoJFXBVuWTdExzQ9IWBUUC2ysEwVZ0xeNnKoiiyHHgReMI8K4QFRFVdYFq6afthcevTkdgdgPr+BcA48x5rqHFQ3urO+jumrI4ia933cFWZAhwh0l4i5IAdX3Bx3RO46hkYBWSPxV3s458RRZR7drpZkDuBOhMjxZDDwZ+qr5bkTaJQrA6gcvbCKmAWUGLkvl9Qn/AlER6NKirt8Q3gOu3wlmvoCCauf4rDtn+Mb2AUELqyClVmVSxd2T+SKDfxJvB7405Kk4kCEJRr082pb8atT4Z4IwBlEnCqcU+TTMKPbAcW1M+btjGKrLVzKFBlOrB/x0E+87oPa1nHpLWPUuCnjIsCOrys5/nouVFkJc5qbhO4G+Qf5jnCzLYg+6E63VtemBd5LrE5gKrZi0YB01FNmjb6BymuAsKzgvN0VHm+z4nA5e3FgzsQ/sE5G5bzza1/wccxruuHZ+P7gc6qWPpWRRRZTrLoL8D9JiYKQfa06OWq3slx6wIxOYAzfvWOqOpVwGjzHiGEo89mgQX1d0zZGkXSmu9SojATGLK7wV2ByrYGrlj7CCVeU0cdDCE7dTnDh4ujSHLO3O6BLAY+ULPGjcASQRhQrcoMvzYRe6JQLA7g43/85RDgelU174YfyJzzftwR58WoonyPM4EL9/Q+azCC8q1NL3NC48owCjDLbhKUzCoCZlQsWzEsiqyE6/wduFeQtEluMIMGnmuip4yNW5ecO4Bh313i+qpTgCONTPgJwvT1CHeumzelOYqs1XMoIxj9B+3JFJnxc2BqG1eufZiydCboMLH7c4KPXhlFgJzVqmGS0dti4DQgnBINAmama4sGxKlLzh1A2vOPASYHFXPjbHrPCHV+qKhQ3ogqS5XzgHO60oc1PGt8UsNbnL7p1bASn1kGDM/GJ1BuLF+28sAoshLj06uAuxBpNTFdOFy/OFvVOy9ONXLqAKpqlhSo6o3A/iaG/mFH+0Lgri9/NjVSws+aGgajzARKu2IKCf/Rz2vmyrWPUNHWEDgAEzs/HKOqkys++Gu0RCEnqKBkXk/KrgWUgs5K1RYMjkuP3EYAvncicKWZHpvM8H9fUTL558imUC4GzuiuKXzg2C3vMW7jC4FapjnSQF9RdIr/ecuRUUQlxqU2CMxHZIeJfSpU+XTUvzQuHXLmAKpvXlSsMAPd/Wp3fqMIfAgsXHXrtdESfuYwHJipUNjd91cFivwUl6/9I0Nb1hkaBSjAwajeUPX029FOxYn7FFBr4nwyjAIKgBnp2uSIOHTImQNQdCxwkYpiXL5/sPHvA/duuGPax1FEffFjRH2uAo7vyRqeEEQBR2z7iPPrn8mm3ppF1mldnfa846NISoxv3QLMBxoNjgKOR/UqfaUg5w8yJw6gqmZxmcJMlEG5bmBvEC62vY0jv4sqy9nGwcD1KIkev7cCCfW5tO5x9mtaFRwRNqzzh2tAw1WZUf3Mu4XRpLkvCDxh6hFhUFfh+nSzHpLr38+JA1DV84FzgqRWs0arcLeiDbhrw9ypq6LIWvsjXJTrgKOjmkGBA5s+4+J1S3HVNzAKyJ6KuzSVSp8WRU7y7NYmEe4EWW/o1iiqHAU62V/eL6eJQn3uACpnLxqMarjabV4nDTV+1RHn4aiy/BaOAiZrL+zfqYCjQaLQodv/jo9j3PAXXIjKYEVnDn56ZWkUWY64rwMPh0k3hiEET5TrfL/16Fz+ct9HAKqXAKcb+FTCZD9pAu5cP29KfRRZa75HUpUbgIN6ww1mDgeNaF7LZXWPBYlCBjrYMAq4wEv746PIcca1tolwF7DKyCggmAocqOgNqeXFOUsU6lMHUFWzaDgwA9VC41ZpFcK6VstFZFlUcb7HGODbgVPpJRVDOedtqOXobe8bGQWErqwMmDVo6YpIa0RuSdG7wG9NjAKCM1IAXCmaHpOr3+1TB6C+XgWMMWzaH+gerFdsQWR+/bypjVFkrfkuxSg3AcN60w8K4AtUtW7kirWPUOS3GBcFBAt3AjAWdGIkWads90SchcDfjIwCghdlmKrO8J4vKM7FL/aZA6isWXQQcAOqrnln/rPD9FJxnOVRpfkepwOX9MWolJkKjN34J8Y0vm1kFBA4gaB8dvmyFUOiyHL3G/8RyEJEzLtqvb2O4sXq+9/KxW/2iQMY9cMHBV+nAEeb9QgCwiut64H59bdPbooia81s+hNUParoq8HZFxiU2sqVax6mX3p7GAWYaHlOQvXyKALk4CcV4X6Bdw0LhgL9g2dXrsqstucKyvr69/rEATQ3txwNTMkWzjCJ9vvs/+CKvB5VnA/nAuf25euYORx0asPrnNbwmqGJQoKG5bPLl63YP4qs5PjUF8GCoBh31TqQ8d3niESroNQVet0BDJlzXwL0RoUDTXv3IbMqLasQfrNu3tS2KLJWz6GCIN23f1+bQrOJQg8zKNWYbY1JhGdEvqHotce++n40k4k8DLxuYh8MR6B+qM5K1yYjVVDqjF53AL7njQG+bVrnC8geVPrtgNLi9yJLUy4CvpULU2SigNGN73LWxheNjAKCYwHqokxd1dh8RBRRiXGp9SIsAGkyMggIdD4DNFIFpc7oVQcw/LuLixSdgTLMtBN/EK5GCx8L3PvJv3+7y/fZ74rVcxhKcNtRUa5MoQLFfhuXr/0j1a31ZiYKBTsCh6nqtMHPrIx0o5Coswx4wcQoIKydUKjKjNRzyUgVlPZErzqAVFqD1W4jR38QQYGF9XdM+yiqLPW5Ajgxl3daZqKAo7Z9yHn1zxmZKNRhJfxqL+UfG0WWe3bbZpD5wFYT+2T47E4kYgWlPdFrDqDq5kX9NLjhp8K4hT/IzFjeQ7g/qqjVNRwATEdJ5DoQUoECP82ldY8zsnm1kVFAcJ8eo4Dpg55aEe1UnCRrgWUGvv9B11Fc4Mb0c4lIFZR2R685AA1qvp9npKcNCv2lgbs2zJv2eRRZW25BNEj4+UYclshEAQfv+IQL1z2JY2iiUOiRJ4nPKVGkJMc37QAWiMhGw/xgYIXg0R2jcF3r6xW9/iB7xQFUzV5UAcxStL+Jc/9Q49dxnN9HlbWtjSOAqarx7YBm7hW8aN0yDt7xqZGHg8KV8CpVnVmxdGWk8tmuI68ADxuZLgxo4AamOtu3RqqgtCt6xQGoavtqt2HvfzD6S7PAgg1zp6yLIqvueyTChJ+c53V3JHMMaGTzai6re5ykGpooFLytE338cVHkOONSbQK/AVabuDsVTgUOBr3Bf64g4lXrX7FNVAFVsxcNA2aoUmTi3D/U+AUVnogqy/M4Drha2w8TxUbmXsHz6p/lqK0fGBkFhP1pADCrfOmKSOWzXaf4beB3JiYKEV4QD1zt40eqoPRVIjsAVb0SOJFcLnf3EuGhn60o8zfMm7Y5iqzVNRRqkPAzIh/cYCYKqG7dwBVr/2hkohBko4Bxik6IZI9x2zwRuQf4xMQoINweGa5wU/r5wkhXrXckkgOounnxgcCNoAkj5/7BlOUpHKc2qixVTgUuy6dpUOZGobM2vsjoxneNjQKUIFFo0LK3qqLIcse9/CEii0y8V7BDdseleF6kCkod6bEDOOZ/vyWKfx3KMXEbpyeEc/+NwPwN86ZsjyLryxpKCWoeVubTfXWZOjPlqS1cufZh+nk7jIwCwuDyFJTLIsmRkxSRJUDksu7xGCJTQYmZ6ecS/XpDZI8dwPrPPzwSmKrZ2aY5dJijP+I67qvRBTIemJBHg3+WzLbgaQ2vc3LDG0ZGAQSJQoXA9IplK0ZFEZUc1/YZcDciaePMAKgoKOcrRKqglKFHDmD47PtdVb0eONjAAYUw33+1CHetmzu5JYqk1XMYBMxCKctXW6hA//QOvr32YQamtpgZBQQ6j/ZVr9r/pWiJQiI8BLxpoBmCS1ahDJiVWl4Yucp2jxxAG6nRwNX0Zn2rHKFkN+gfcBLuysjyfCYCZ+XzYJKJAsY0vs2Zm14Kk4TyWeNdo6oucP2Wbc2RtlkT49N1CHcCLSamCwcn1hmL710YVVa3HcCQm+8rRLlJYYRpLz+Q6fefINy77tbJ6Sii1tRQTTD3L8730UQFir1Wrlz7MJVtG4OpgIFOADgC1anlT70bqXy2iPMY8Kc8f2y7Ux7QYmBmujYZqYJStx2AR/pUYFLmnmyjCI7nKbAo4SQ/iCrOV64ATs6nhb/dkYkCjtn6PufU14Y7ywYo3rEN7QUEr1Mv/Y0oshLj2hpE+DUi20yMAsI6iier6hVR5HTLAQyds6gUmKWqg0089BPOff8swn11t0e7329NDfsB01VJmmKJTKLQpLpHGd681tipALA/6PTBUROF3MSzwNOxn9rqAYHKmgCmp59L7t9TOd1yAGlfxwMXxN34nhAGLGkR7q6fN+0fUeX5yrXAsSYNopko4NDtnzCh/il11DcuCsjkbAOXe56eFEVUYmzLdkTmC2wyOAr4pqLX9vSymS47gKo5iwahzFLVMhNH/1Djt4CHospaVcPhwLTg1jCzCBKFfMZvePHZBF6ki07jIoxbhgAzyp98K1KikAgvA48a9yDJ1k4QYFp6eeLwnsjoegTg60RgrHkT/2y6b6vAnfXzptVFkbX+FhxRpgGHmdhpUFBh7VHbPvz3FqfoTgHPxBTu8HDQhficGUVOYlyqJbxXcK2JUUBwUpJDUa73Xq/u9ppel75QVbNoiCozQEtM7PThMeU/Cc5jUWWl2jgWuNbAvtLhugMeGvGJvuHiPwi8Y2AaR6YdgxRmlj+5MlL5bMdxVwAPmJkoROZg1zW6veG4bre9S/J9nQScbKZxAGE7sGD9HVM2RRG17gckVZkOjDIwEMq8/58h3C1/xGuccPwq4C5E2ox8tEGHPEdVz4sixzmrNU2QKPQPIxdFgznRSEVv8mq7d69gpw6g6uaF+wE3qmqBiXP/8EV9BkeeiSoqneJk4AoTd0A7jP6Lywbz16x5HHkYeNXEKCAMf0tRnVWxbOXgKLIShZV/BRabWTQkmy48ydd0tyoo7dEBjP6PxaKEq90GEo4QDSIyf8PcqVujyFpdQ4kqs4BIGWmxEWRsvI+weMB3yW6BNlwwpl5gAcIOE+fA4dt6hh/cQt1z85y+VhFZDPJXI6OAwLtXgc70apNdXhjdowNYvVbD1W51TRv9tb3G/2MO8lJkecpYYGI+FPvovi0A8IB7Rs7lk699QORJYDkGDn9hFFAAOqN82YrhUWQlx6c+Be4WEc88O2Qf3URftcsVlHbrAEbd8ltXVYPV7rhb1xOCkHetIHeumzelOYqoNXMYAHxHlYGmvfwdWCnwu139RcOEMY0g8wUazer2IYHSY1T1qqiiRHgQWGGiHYJsYR0AzErVJgd25Tu7dQAtraljgWsUA4c8yK52O4nkW1FFqXIBvZR+mWvC9Yo24M4R81izu885rvs8sDS8oy9utbtFuB/uAjeUL11xcBRZifHpNcCdImbeKxiu5YxD6VIFpV06gCE1iwpU9SZglIGvPqqKIJ8Kcs+6265JRZG1poaqcO5v5BZoyMvi8Mc9fWDT+cc1icidQH3cyvaI4OEcpejk6ufejlTpSkQeBV4ybdqbsYMqJaAz088XdrpetUtDeb6eBFwWOECzjBDeSKzAfa60r3b3FF+5FDjVwMEgc9PxDmDBiNvZ2NnHJZF4DXjYxI4f3KSlAkxOtXlHRZGVGJ/aGN4otMPI5x7MiU5R3+u0gtLXHEDV7PuTwBTQagP7QYb3EZbUzZsa7X6/GiqBKSgFJtoizFKsBZ7qyuc3nXtspnz2l2YuhAvAQap8u/K5P0eKAhzhaeBZMXB/NHDgWoAyJb28YI9RwNeMpJo6Eoh0sCI+FAlu+Lm3PNnvk8jSlLOA483rAtm5/2aE+SPnsaWr3+tX5L4L/Jag9JRRhFEAwKVeWypS6TB3fGorwe3Cm03bEYDsjsBo9fWsPX1uV17yXGAUJiS577rRbwvywN9+cXmkp/bl9ygELoL8L/axB5aK8EJ3vrBq/GgPuBfkYwO7QGbCeqiqjo0uzXkReMK4jEmy26PFoBf7tcnC3baw4/9UzlncDzg7kBB3E7qHBsU+WoE76++YujqyQI9RwCkGOv/M3H8dwdy/qbtf/ybHfAQsFPCNWwkP9sMLQMcNXrYyUv385Pi2JmCBCOtMTJgKR8STPWW/3X1k5wjA8w8EjjDuobfzsrjyx16SdQwwIu4GdZcO67Z/QHijJzJemFikiNwP/Nm8BcFskZMTPfUjHQ8GcBzeBB4SFQNdgACMQHS31ZN2dgAiBwNDTXvkYamvHQjz62+f2ulqd9dkcjxQaFz/D3rp5wh3jZxLW0/FbJ4w5nOQ3wApQweE6rA/R8Idl24TuBvhM9MWRcK+W4Ayenef2dkBqB4KJIw7+BPo+ywiT/eGuPp/JQEcYtbj3um+g/sTvXL5hfwBeMO4/hCMfKVhf45OIvkX4D7z7hMiMw04xH++LLmrv846gOo5S1xgZNz6drt9gVfeDCyImvCTIdVEf6DSMIef4UMRFg2dS6QtUIDNE49fh7BAoNmoKCDYwUgCw3pDXGJssyewGJEPTXMBobaVvtfcf1d/3x4B+L4DVMatcHcJE36WCvJib8lUpZTgVlpzCEZ/D+He8nJ6rdSXI84TwAsmRQHSvg5Q3lsyXQb8HbhXEM+0qQAwQKF0V3+RdQCqvoS1xo0hHP3XCyyov2Nqt1e790ACiFZxNue2AOAdgQdKvt97PXTTBcdvBuYLbDVp9As1LRz+9PuR7g/IIGdvUpAHEN42alswsw4Q9Omv0e4ARDAv60cA/uAUFPRotXt3hPU+jLFFOPdvA+4aMZcvelu+SHCaUEVMG/zETSSiSwlJnp1aBdwlYE4FpUDR3V7enXUAEuQRRbolN7ftUgS+ALlr3S+u6fFq964Is+cipRDnkvDZvi7wSF/Ib5hwwvYwXXijYfvhTavGHxZ5LaQjTmDjV40ZHQJaRHWXSXFZB+A4rg+dJ4zkBUG2nwL3l0rRe70tXhyagF5ZUOx7WwBCMzB/xDzW99XPiPAK8IiYcJdI+27I5t4W7Z6drgcWAE0GLYxuFWSXU+SsA1h3+3Ue8FncmnaF0OwfAQs/n/ftXvXwAOVFbAHWGzQhWi7Csr78gYYJY1qB34CsyfcoIIx624Av+0K+iLMMqDWhf4QHudY5A4t3mQ+y0zkAQT4l3w9+BBNeD7i3KtGvTy62KP4xPvD3uJvaFVMgbAHmj5hLY1//XpEUrgR+J5Lvp+IUoAmRPnmGifFtW0SYD7Ilr9+Vdj6RMVt3OVDu5ABU9O+w+6oxeYEIAu8g8sD7t0VL+OnkZ1YALQY83mWusDwXP1Q34RueA/cAn+T/PIA1IvppXwkXx32BsIJSvhL6plYJbsTaJTtHACKfAR9Kni6Ah962DeGuDfOm9vpq91d4nzzOiw9X/usF7hw2lx25+t3yxMgPgMX52kcgO/9/E5xI90DsCfes1h2ILADq8zcKUIAvEXl/d5/YyQHUz53aBDyTr882fLCviUifrHbvZBiXVcArcbd5V7SX+OcRx+XVXP72388boogsAf6Sjx0/0ElagNqGC45v7dPfEvd14OF8LaYcvi+vqFOwanefcXbxreeAL/Lt4YYPtglYUD93ap+tdmcYdisp4AkRmvLMFAHClwJ3DbuNPu3ku2LzhDH/QLhLRPL1XsGPRaKXgu+MgnEtrSLcBbIq36ZEHd6XJ5Jn7djtNvnXHEBJovAj8nJuIwDLHcfp09XunXB4AXgjnyzR4Vai36nwTlx6OMhDwFv5VDimw10Qf/BcN3pNiC7gJhPvAr/N03sF3xSRF/b0ga85gC9uvSotIouA1fkSBQTFPmgUkV+vnzulMVe/O/J2NgH3IDTniSkyfCRw78i5pONSYNOEMWuB+SI0500UoALCB4I8uOW84/zoAjtHvtWSFpGFwIdxNz9rhiA9vhm4Jyhwunt2WTjRFVkBLJY8qIgYNgbgARGnNte/Lw6PA0/nxQGYYPLfBvx/ww+Lv8MJ8gjwlGSVi9E0wSCRAu7sN7job7n8bXfEyR8BvxKhLW5n2OF9eUaczm/D3qUDqJs7xUNkPvCKkhfFIf8qIv+1fu7kllz/8IjbaUSYC3wepxlUMwMcT4vD/TIj/qfSMHHMFhG5A+QLjXEq0CH0f9IRZ8mqk47OqW3ksJdU4LfAk2heXKzyhSBzE+PaGjv74G5LJ2+YN/ULEX4syGpiCgTCGv+bEX5cP2/qB7EoARS4vA7MFYmnTnxm1V+CXP9/60qN/1whqq8Bt0mcl4sGBvqbID/ZNOH4WGyTODu9CeTfRfggrl2BcPRvApmLlLzWle/ssXa6FDjLgX8D2ZzrhxuGdE0ItyUSPJrTH/8K1bfii8u9wH+LkI5l7BXqBH7YPxnfwt+u2DTxBD+RcBcShMCpXHf8sNOvE/h+w8QxK2I1RsvgdwV+CLIWcls+KLRDGvhvx3XuTYzf0qU1kD06gPU/n+IJsgT4iYg05mw6EIz8zcD/4+L8v3W3TuvVbL+eMOI2msThNoKrtHPW0VVBlHrgB+Lw6ICfxx/6f5UN541uclx+AfIbEdK5mgeHnb4e4fuJoqJO57t9TfLCOhXHfQz4voislxzVEOu4/oHIre5ZrV0+GNaliVvV7IVFqtwI/ItCdZ/N9kL/IsH59rki8sv6eVPzKkV5dQ2DVLkF+D9U+/C+wPbTPl8A30d5aOQd8a36d4XyZSsGqeoPgH9SKOkz02hYkkP4HOSHBZJ8YP2EY/PGNqnaZEJUr1C4FXQ/VemzShvh+kcT8GtH+Kk7Pt2tDMguq1U9Z3HS9/R80J8o+s1wlO7NlqCiCPKxwM9cVx6ou31qzg+5dIW1cyjxfG4EvguM6FCMM7oZwhFDBB94DeFfnAQvDP8FOdnWisrgpStLPfwbgTmojlB6t/OHftEHXhP4kZfQF7ecd2Le2carTTqKnqnKj4FTFXX2UJej+3bInAcR1gC3iZO4KzGupdtVsbqtT+XNCw8H/k/gGoUBtK/A9rAhGW8uO4DHEO7wXeedTbdNybuH2pFV3yUhPiej1ADnKhRJhzO63bdD8O/wZakHlgD/NXJe71f46WsqnnjLVeFUhTnA2QpF9Nw0oX3CfiZsIKjN998NE8fkvW3SzyX2U/hnYDJodebC3Z46xQ7vSyvwjMBcR/U15xyvRxFQj9QYNntxUUp1LOhNBDcJDcgsEobKddoIws9JUIXoZYG7cXiqfu60bVEMnmtW11CuyoXADcDJQFGHqcye6bCkEn52A/AM8BtJ8uqIX/S8rn8+ULFs5SBV/1JFp4GcCBRn+0k4fO3ZNtoxytwIPElweenrmyeeYIxt0suLk/ipUxVuIrh6r6rj2kBn/eQrNmsB3gC5xxEed8enGqLoFikiGXLz4n4+OkbRi4EzgYPoWjXd7QTFR14GHhdHXq2fO7XLF1jmI6vnMFh9TgcuAU4C9ge6UmS1AfiYoKjHUl95e9Q8cn7eoS+pWPbmYF/lDIK7Fk8G9gNKumibvwO1IE84Iu9umnC8MaXavor3fLJIfT0uHDDGAYcCg+j8PWwGPgfeBPkjIq8kx7dt6A2demVKUjX7fkfxqsA/HOVI4BBgFDAQKARaCUpsfQl8ArwvjnzsFLtr1/34ul6v6BMna35Iwm9jBD5HAEcCBxPUpy8jqMzaQlCq6gvgb8AHInwsBWwa/rP8W+HvTaqfWZloS+tIlENBjwptMxzoDxQoNAs07mQbRz4euX/1xveOGLnX2Mb7U4mQbqtQn0M16COHEbwv5aBFqKQRtgJ1BA7wAxH5yJHEl8645l5d7Oz1tcnDfrZWtmxZLp76rqg6wQqoIuA7uF5ZcVL/9pOr9pqHuSdW/RxxG3FUcYFsGR0RfHHwht1mxsJeXzB82cfSzHYH9VyVwDaK4Ai+4zrexvNG7zO2SS8vdvA9F3wnXA1HRVQc8dyk58sZ3j7xvlgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxWKxWCwWi8VisVgsFovFYrFYLBaLxdLX/P8dR38DnYZsegAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0xMS0yOFQyMDo0NjoyNCswMDowMN2l/+IAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMTEtMjhUMjA6NDY6MjQrMDA6MDCs+EdeAAAAAElFTkSuQmCC";var rce=()=>v.createElement(j1e,{to:"/"},v.createElement("img",{src:KOe,alt:"Malloy",style:{height:"30px",marginRight:"12px"}}));m();m();var MW=fr(Fr());m();m();m();m();function ice(n){if(n)throw n}var gNe=fr(XOe(),1),lce=fr(aNe(),1);m();function CN(n){if(typeof n!="object"||n===null)return!1;let e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}m();function uNe(){let n=[],e={run:t,use:r};return e;function t(...i){let s=-1,o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...f){let p=n[++s],_=-1;if(l){o(l);return}for(;++_<i.length;)(f[_]===null||f[_]===void 0)&&(f[_]=i[_]);i=f,p?Rvt(p,a)(...f):o(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return n.push(i),e}}function Rvt(n,e){let t;return r;function r(...o){let a=n.length>o.length,l;a&&o.push(i);try{l=n.apply(this,o)}catch(f){let p=f;if(a&&t)throw p;return i(p)}a||(l instanceof Promise?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){t||(t=!0,e(o,...a))}function s(o){i(null,o)}}m();m();var mNe=fr(cNe(),1);m();m();function yb(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?fNe(n.position):"start"in n||"end"in n?fNe(n):"line"in n||"column"in n?sce(n):""}function sce(n){return dNe(n&&n.line)+":"+dNe(n&&n.column)}function fNe(n){return sce(n&&n.start)+"-"+sce(n&&n.end)}function dNe(n){return n&&typeof n=="number"?n:1}var Ah=class extends Error{constructor(e,t,r){let i=[null,null],s={start:{line:null,column:null},end:{line:null,column:null}};super();if(typeof t=="string"&&(r=t,t=void 0),typeof r=="string"){let o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}t&&("type"in t||"position"in t?t.position&&(s=t.position):"start"in t||"end"in t?s=t:("line"in t||"column"in t)&&(s.start=t)),this.name=yb(t)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack=typeof e=="object"?e.stack:"",this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.source=i[0],this.ruleId=i[1],this.position=s,this.actual,this.expected,this.file,this.url,this.note}};Ah.prototype.file="";Ah.prototype.name="";Ah.prototype.reason="";Ah.prototype.message="";Ah.prototype.stack="";Ah.prototype.fatal=null;Ah.prototype.column=null;Ah.prototype.line=null;Ah.prototype.source=null;Ah.prototype.ruleId=null;Ah.prototype.position=null;m();var t2={basename:Ovt,dirname:Nvt,extname:Lvt,join:kvt,sep:"/"};function Ovt(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');wN(n);let t=0,r=-1,i=n.length,s;if(e===void 0||e.length===0||e.length>n.length){for(;i--;)if(n.charCodeAt(i)===47){if(s){t=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":n.slice(t,r)}if(e===n)return"";let o=-1,a=e.length-1;for(;i--;)if(n.charCodeAt(i)===47){if(s){t=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(n.charCodeAt(i)===e.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return t===r?r=o:r<0&&(r=n.length),n.slice(t,r)}function Nvt(n){if(wN(n),n.length===0)return".";let e=-1,t=n.length,r;for(;--t;)if(n.charCodeAt(t)===47){if(r){e=t;break}}else r||(r=!0);return e<0?n.charCodeAt(0)===47?"/":".":e===1&&n.charCodeAt(0)===47?"//":n.slice(0,e)}function Lvt(n){wN(n);let e=n.length,t=-1,r=0,i=-1,s=0,o;for(;e--;){let a=n.charCodeAt(e);if(a===47){if(o){r=e+1;break}continue}t<0&&(o=!0,t=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||t<0||s===0||s===1&&i===t-1&&i===r+1?"":n.slice(i,t)}function kvt(...n){let e=-1,t;for(;++e<n.length;)wN(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":Ivt(t)}function Ivt(n){wN(n);let e=n.charCodeAt(0)===47,t=Mvt(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.charCodeAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function Mvt(n,e){let t="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=n.length;){if(o<n.length)a=n.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(l=t.lastIndexOf("/"),l!==t.length-1){l<0?(t="",r=0):(t=t.slice(0,l),r=t.length-1-t.lastIndexOf("/")),i=o,s=0;continue}}else if(t.length>0){t="",r=0,i=o,s=0;continue}}e&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+n.slice(i+1,o):t=n.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return t}function wN(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}m();var hNe={cwd:Pvt};function Pvt(){return"/"}m();m();function C9(n){return n!==null&&typeof n=="object"&&n.href&&n.origin}function pNe(n){if(typeof n=="string")n=new URL(n);else if(!C9(n)){let e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){let e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Bvt(n)}function Bvt(n){if(n.hostname!==""){let r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}let e=n.pathname,t=-1;for(;++t<e.length;)if(e.charCodeAt(t)===37&&e.charCodeAt(t+1)===50){let r=e.charCodeAt(t+2);if(r===70||r===102){let i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}var oce=["history","path","basename","stem","extname","dirname"],gW=class{constructor(e){let t;e?typeof e=="string"||(0,mNe.default)(e)?t={value:e}:C9(e)?t={path:e}:t=e:t={},this.data={},this.messages=[],this.history=[],this.cwd=hNe.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<oce.length;){let s=oce[r];s in t&&t[s]!==void 0&&(this[s]=s==="history"?[...t[s]]:t[s])}let i;for(i in t)oce.includes(i)||(this[i]=t[i])}get path(){return this.history[this.history.length-1]}set path(e){C9(e)&&(e=pNe(e)),uce(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?t2.dirname(this.path):void 0}set dirname(e){xNe(this.basename,"dirname"),this.path=t2.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?t2.basename(this.path):void 0}set basename(e){uce(e,"basename"),ace(e,"basename"),this.path=t2.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?t2.extname(this.path):void 0}set extname(e){if(ace(e,"extname"),xNe(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=t2.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?t2.basename(this.path,this.extname):void 0}set stem(e){uce(e,"stem"),ace(e,"stem"),this.path=t2.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e)}message(e,t,r){let i=new Ah(e,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,t,r){let i=this.message(e,t,r);return i.fatal=null,i}fail(e,t,r){let i=this.message(e,t,r);throw i.fatal=!0,i}};function ace(n,e){if(n&&n.includes(t2.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+t2.sep+"`")}function uce(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function xNe(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}var cce=vNe().freeze(),yNe={}.hasOwnProperty;function vNe(){let n=uNe(),e=[],t={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=e,s.use=l,s.parse=f,s.stringify=p,s.run=_,s.runSync=b,s.process=R,s.processSync=O,s;function s(){let j=vNe(),$=-1;for(;++$<e.length;)j.use(...e[$]);return j.data((0,lce.default)(!0,{},t)),j}function o(j,$){return typeof j=="string"?arguments.length===2?(hce("data",r),t[j]=$,s):yNe.call(t,j)&&t[j]||null:j?(hce("data",r),t=j,s):t}function a(){if(r)return s;for(;++i<e.length;){let[j,...$]=e[i];if($[0]===!1)continue;$[0]===!0&&($[0]=void 0);let L=j.call(s,...$);typeof L=="function"&&n.use(L)}return r=!0,i=Number.POSITIVE_INFINITY,s}function l(j,...$){let L;if(hce("use",r),j!=null)if(typeof j=="function")oe(j,...$);else if(typeof j=="object")Array.isArray(j)?W(j):P(j);else throw new TypeError("Expected usable value, not `"+j+"`");return L&&(t.settings=Object.assign(t.settings||{},L)),s;function q(I){if(typeof I=="function")oe(I);else if(typeof I=="object")if(Array.isArray(I)){let[J,...he]=I;oe(J,...he)}else P(I);else throw new TypeError("Expected usable value, not `"+I+"`")}function P(I){W(I.plugins),I.settings&&(L=Object.assign(L||{},I.settings))}function W(I){let J=-1;if(I!=null)if(Array.isArray(I))for(;++J<I.length;){let he=I[J];q(he)}else throw new TypeError("Expected a list of plugins, not `"+I+"`")}function oe(I,J){let he=-1,ye;for(;++he<e.length;)if(e[he][0]===I){ye=e[he];break}ye?(CN(ye[1])&&CN(J)&&(J=(0,lce.default)(!0,ye[1],J)),ye[1]=J):e.push([...arguments])}}function f(j){s.freeze();let $=AN(j),L=s.Parser;return fce("parse",L),_Ne(L,"parse")?new L(String($),$).parse():L(String($),$)}function p(j,$){s.freeze();let L=AN($),q=s.Compiler;return dce("stringify",q),ENe(j),_Ne(q,"compile")?new q(j,L).compile():q(j,L)}function _(j,$,L){if(ENe(j),s.freeze(),!L&&typeof $=="function"&&(L=$,$=void 0),!L)return new Promise(q);q(null,L);function q(P,W){n.run(j,AN($),oe);function oe(I,J,he){J=J||j,I?W(I):P?P(J):L(null,J,he)}}}function b(j,$){let L,q;return s.run(j,$,P),bNe("runSync","run",q),L;function P(W,oe){ice(W),L=oe,q=!0}}function R(j,$){if(s.freeze(),fce("process",s.Parser),dce("process",s.Compiler),!$)return new Promise(L);L(null,$);function L(q,P){let W=AN(j);s.run(s.parse(W),W,(I,J,he)=>{if(I||!J||!he)oe(I);else{let ye=s.stringify(J,he);ye==null||(Uvt(ye)?he.value=ye:he.result=ye),oe(I,he)}});function oe(I,J){I||!J?P(I):q?q(J):$(null,J)}}}function O(j){let $;s.freeze(),fce("processSync",s.Parser),dce("processSync",s.Compiler);let L=AN(j);return s.process(L,q),bNe("processSync","process",$),L;function q(P){$=!0,ice(P)}}}function _Ne(n,e){return typeof n=="function"&&n.prototype&&(jvt(n.prototype)||e in n.prototype)}function jvt(n){let e;for(e in n)if(yNe.call(n,e))return!0;return!1}function fce(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `Parser`")}function dce(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `Compiler`")}function hce(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ENe(n){if(!CN(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function bNe(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function AN(n){return qvt(n)?n:new gW(n)}function qvt(n){return Boolean(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function Uvt(n){return typeof n=="string"||(0,gNe.default)(n)}m();m();m();m();m();function SNe(n,e){var{includeImageAlt:t=!0}=e||{};return CNe(n,t)}function CNe(n,e){return n&&typeof n=="object"&&(n.value||(e?n.alt:"")||"children"in n&&wNe(n.children,e)||Array.isArray(n)&&wNe(n,e))||""}function wNe(n,e){for(var t=[],r=-1;++r<n.length;)t[r]=CNe(n[r],e);return t.join("")}m();m();m();function u0(n,e,t,r){let i=n.length,s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(e,t),[].splice.apply(n,o);else for(t&&[].splice.apply(n,[e,t]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),[].splice.apply(n,o),s+=1e4,e+=1e4}function Bd(n,e){return n.length>0?(u0(n,n.length,0,e),n):e}var ANe={}.hasOwnProperty;function TNe(n){let e={},t=-1;for(;++t<n.length;)$vt(e,n[t]);return e}function $vt(n,e){let t;for(t in e){let i=(ANe.call(n,t)?n[t]:void 0)||(n[t]={}),s=e[t],o;for(o in s){ANe.call(i,o)||(i[o]=[]);let a=s[o];zvt(i[o],Array.isArray(a)?a:a?[a]:[])}}}function zvt(n,e){let t=-1,r=[];for(;++t<e.length;)(e[t].add==="after"?n:r).push(e[t]);u0(n,0,0,r)}m();m();m();m();var FNe=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var pp=Q4(/[A-Za-z]/),TN=Q4(/\d/),DNe=Q4(/[\dA-Fa-f]/),jd=Q4(/[\dA-Za-z]/),RNe=Q4(/[!-/:-@[-`{-~]/),pce=Q4(/[#-'*+\--9=?A-Z^-~]/);function FN(n){return n!==null&&(n<32||n===127)}function Nc(n){return n!==null&&(n<0||n===32)}function Yi(n){return n!==null&&n<-2}function La(n){return n===-2||n===-1||n===32}var ONe=Q4(/\s/),NNe=Q4(FNe);function Q4(n){return e;function e(t){return t!==null&&n.test(String.fromCharCode(t))}}function ro(n,e,t,r){let i=r?r-1:Number.POSITIVE_INFINITY,s=0;return o;function o(l){return La(l)?(n.enter(t),a(l)):e(l)}function a(l){return La(l)&&s++<i?(n.consume(l),a):(n.exit(t),e(l))}}var LNe={tokenize:Hvt};function Hvt(n){let e=n.attempt(this.parser.constructs.contentInitial,r,i),t;return e;function r(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),ro(n,e,"linePrefix")}function i(a){return n.enter("paragraph"),s(a)}function s(a){let l=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=l),t=l,o(a)}function o(a){if(a===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(a);return}return Yi(a)?(n.consume(a),n.exit("chunkText"),s):(n.consume(a),o)}}m();var kNe={tokenize:Vvt},INe={tokenize:Wvt};function Vvt(n){let e=this,t=[],r=0,i,s,o;return a;function a(P){if(r<t.length){let W=t[r];return e.containerState=W[1],n.attempt(W[0].continuation,l,f)(P)}return f(P)}function l(P){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&q();let W=e.events.length,oe=W,I;for(;oe--;)if(e.events[oe][0]==="exit"&&e.events[oe][1].type==="chunkFlow"){I=e.events[oe][1].end;break}L(r);let J=W;for(;J<e.events.length;)e.events[J][1].end=Object.assign({},I),J++;return u0(e.events,oe+1,0,e.events.slice(W)),e.events.length=J,f(P)}return a(P)}function f(P){if(r===t.length){if(!i)return b(P);if(i.currentConstruct&&i.currentConstruct.concrete)return O(P);e.interrupt=Boolean(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(INe,p,_)(P)}function p(P){return i&&q(),L(r),b(P)}function _(P){return e.parser.lazy[e.now().line]=r!==t.length,o=e.now().offset,O(P)}function b(P){return e.containerState={},n.attempt(INe,R,O)(P)}function R(P){return r++,t.push([e.currentConstruct,e.containerState]),b(P)}function O(P){if(P===null){i&&q(),L(0),n.consume(P);return}return i=i||e.parser.flow(e.now()),n.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),j(P)}function j(P){if(P===null){$(n.exit("chunkFlow"),!0),L(0),n.consume(P);return}return Yi(P)?(n.consume(P),$(n.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(n.consume(P),j)}function $(P,W){let oe=e.sliceStream(P);if(W&&oe.push(null),P.previous=s,s&&(s.next=P),s=P,i.defineSkip(P.start),i.write(oe),e.parser.lazy[P.start.line]){let I=i.events.length;for(;I--;)if(i.events[I][1].start.offset<o&&(!i.events[I][1].end||i.events[I][1].end.offset>o))return;let J=e.events.length,he=J,ye,He;for(;he--;)if(e.events[he][0]==="exit"&&e.events[he][1].type==="chunkFlow"){if(ye){He=e.events[he][1].end;break}ye=!0}for(L(r),I=J;I<e.events.length;)e.events[I][1].end=Object.assign({},He),I++;u0(e.events,he+1,0,e.events.slice(J)),e.events.length=I}}function L(P){let W=t.length;for(;W-- >P;){let oe=t[W];e.containerState=oe[1],oe[0].exit.call(e,n)}t.length=P}function q(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Wvt(n,e,t){return ro(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}m();m();m();m();function mce(n){if(n===null||Nc(n)||ONe(n))return 1;if(NNe(n))return 2}m();function w9(n,e,t){let r=[],i=-1;for(;++i<n.length;){let s=n[i].resolveAll;s&&!r.includes(s)&&(e=s(e,t),r.push(s))}return e}var DN={name:"attention",tokenize:Gvt,resolveAll:Qvt};function Qvt(n,e){let t=-1,r,i,s,o,a,l,f,p;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&e.sliceSerialize(n[r][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;l=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;let _=Object.assign({},n[r][1].end),b=Object.assign({},n[t][1].start);MNe(_,-l),MNe(b,l),o={type:l>1?"strongSequence":"emphasisSequence",start:_,end:Object.assign({},n[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},n[t][1].start),end:b},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},n[r][1].end),end:Object.assign({},n[t][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},n[r][1].end=Object.assign({},o.start),n[t][1].start=Object.assign({},a.end),f=[],n[r][1].end.offset-n[r][1].start.offset&&(f=Bd(f,[["enter",n[r][1],e],["exit",n[r][1],e]])),f=Bd(f,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),f=Bd(f,w9(e.parser.constructs.insideSpan.null,n.slice(r+1,t),e)),f=Bd(f,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),n[t][1].end.offset-n[t][1].start.offset?(p=2,f=Bd(f,[["enter",n[t][1],e],["exit",n[t][1],e]])):p=0,u0(n,r-1,t-r+3,f),t=r+f.length-p-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function Gvt(n,e){let t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=mce(r),s;return o;function o(l){return n.enter("attentionSequence"),s=l,a(l)}function a(l){if(l===s)return n.consume(l),a;let f=n.exit("attentionSequence"),p=mce(l),_=!p||p===2&&i||t.includes(l),b=!i||i===2&&p||t.includes(r);return f._open=Boolean(s===42?_:_&&(i||!b)),f._close=Boolean(s===42?b:b&&(p||!_)),e(l)}}function MNe(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}m();var xce={name:"autolink",tokenize:Yvt};function Yvt(n,e,t){let r=1;return i;function i(O){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(O),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(O){return pp(O)?(n.consume(O),o):pce(O)?f(O):t(O)}function o(O){return O===43||O===45||O===46||jd(O)?a(O):f(O)}function a(O){return O===58?(n.consume(O),l):(O===43||O===45||O===46||jd(O))&&r++<32?(n.consume(O),a):f(O)}function l(O){return O===62?(n.exit("autolinkProtocol"),R(O)):O===null||O===32||O===60||FN(O)?t(O):(n.consume(O),l)}function f(O){return O===64?(n.consume(O),r=0,p):pce(O)?(n.consume(O),f):t(O)}function p(O){return jd(O)?_(O):t(O)}function _(O){return O===46?(n.consume(O),r=0,p):O===62?(n.exit("autolinkProtocol").type="autolinkEmail",R(O)):b(O)}function b(O){return(O===45||jd(O))&&r++<63?(n.consume(O),O===45?b:_):t(O)}function R(O){return n.enter("autolinkMarker"),n.consume(O),n.exit("autolinkMarker"),n.exit("autolink"),e}}m();var G4={tokenize:Kvt,partial:!0};function Kvt(n,e,t){return ro(n,r,"linePrefix");function r(i){return i===null||Yi(i)?e(i):t(i)}}m();var yW={name:"blockQuote",tokenize:Jvt,continuation:{tokenize:Xvt},exit:Zvt};function Jvt(n,e,t){let r=this;return i;function i(o){if(o===62){let a=r.containerState;return a.open||(n.enter("blockQuote",{_container:!0}),a.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(o),n.exit("blockQuoteMarker"),s}return t(o)}function s(o){return La(o)?(n.enter("blockQuotePrefixWhitespace"),n.consume(o),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(o))}}function Xvt(n,e,t){return ro(n,n.attempt(yW,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Zvt(n){n.exit("blockQuote")}m();var vW={name:"characterEscape",tokenize:e4t};function e4t(n,e,t){return r;function r(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),i}function i(s){return RNe(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(s)}}m();m();var PNe=document.createElement("i");function A9(n){let e="&"+n+";";PNe.innerHTML=e;let t=PNe.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}var _W={name:"characterReference",tokenize:t4t};function t4t(n,e,t){let r=this,i=0,s,o;return a;function a(_){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(_),n.exit("characterReferenceMarker"),l}function l(_){return _===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(_),n.exit("characterReferenceMarkerNumeric"),f):(n.enter("characterReferenceValue"),s=31,o=jd,p(_))}function f(_){return _===88||_===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(_),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,o=DNe,p):(n.enter("characterReferenceValue"),s=7,o=TN,p(_))}function p(_){let b;return _===59&&i?(b=n.exit("characterReferenceValue"),o===jd&&!A9(r.sliceSerialize(b))?t(_):(n.enter("characterReferenceMarker"),n.consume(_),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)):o(_)&&i++<s?(n.consume(_),p):t(_)}}m();var EW={name:"codeFenced",tokenize:n4t,concrete:!0};function n4t(n,e,t){let r=this,i={tokenize:oe,partial:!0},s={tokenize:W,partial:!0},o=this.events[this.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0,f;return p;function p(I){return n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),f=I,_(I)}function _(I){return I===f?(n.consume(I),l++,_):(n.exit("codeFencedFenceSequence"),l<3?t(I):ro(n,b,"whitespace")(I))}function b(I){return I===null||Yi(I)?$(I):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),R(I))}function R(I){return I===null||Nc(I)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),ro(n,O,"whitespace")(I)):I===96&&I===f?t(I):(n.consume(I),R)}function O(I){return I===null||Yi(I)?$(I):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),j(I))}function j(I){return I===null||Yi(I)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),$(I)):I===96&&I===f?t(I):(n.consume(I),j)}function $(I){return n.exit("codeFencedFence"),r.interrupt?e(I):L(I)}function L(I){return I===null?P(I):Yi(I)?n.attempt(s,n.attempt(i,P,a?ro(n,L,"linePrefix",a+1):L),P)(I):(n.enter("codeFlowValue"),q(I))}function q(I){return I===null||Yi(I)?(n.exit("codeFlowValue"),L(I)):(n.consume(I),q)}function P(I){return n.exit("codeFenced"),e(I)}function W(I,J,he){let ye=this;return He;function He(ct){return I.enter("lineEnding"),I.consume(ct),I.exit("lineEnding"),at}function at(ct){return ye.parser.lazy[ye.now().line]?he(ct):J(ct)}}function oe(I,J,he){let ye=0;return ro(I,He,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function He(Ze){return I.enter("codeFencedFence"),I.enter("codeFencedFenceSequence"),at(Ze)}function at(Ze){return Ze===f?(I.consume(Ze),ye++,at):ye<l?he(Ze):(I.exit("codeFencedFenceSequence"),ro(I,ct,"whitespace")(Ze))}function ct(Ze){return Ze===null||Yi(Ze)?(I.exit("codeFencedFence"),J(Ze)):he(Ze)}}}m();var RN={name:"codeIndented",tokenize:i4t},r4t={tokenize:s4t,partial:!0};function i4t(n,e,t){let r=this;return i;function i(f){return n.enter("codeIndented"),ro(n,s,"linePrefix",4+1)(f)}function s(f){let p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?o(f):t(f)}function o(f){return f===null?l(f):Yi(f)?n.attempt(r4t,o,l)(f):(n.enter("codeFlowValue"),a(f))}function a(f){return f===null||Yi(f)?(n.exit("codeFlowValue"),o(f)):(n.consume(f),a)}function l(f){return n.exit("codeIndented"),e(f)}}function s4t(n,e,t){let r=this;return i;function i(o){return r.parser.lazy[r.now().line]?t(o):Yi(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),i):ro(n,s,"linePrefix",4+1)(o)}function s(o){let a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):Yi(o)?i(o):t(o)}}m();var gce={name:"codeText",tokenize:u4t,resolve:o4t,previous:a4t};function o4t(n){let e=n.length-4,t=3,r,i;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)i===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(i=r):(r===e||n[r][1].type==="lineEnding")&&(n[i][1].type="codeTextData",r!==i+2&&(n[i][1].end=n[r-1][1].end,n.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return n}function a4t(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function u4t(n,e,t){let r=this,i=0,s,o;return a;function a(b){return n.enter("codeText"),n.enter("codeTextSequence"),l(b)}function l(b){return b===96?(n.consume(b),i++,l):(n.exit("codeTextSequence"),f(b))}function f(b){return b===null?t(b):b===96?(o=n.enter("codeTextSequence"),s=0,_(b)):b===32?(n.enter("space"),n.consume(b),n.exit("space"),f):Yi(b)?(n.enter("lineEnding"),n.consume(b),n.exit("lineEnding"),f):(n.enter("codeTextData"),p(b))}function p(b){return b===null||b===32||b===96||Yi(b)?(n.exit("codeTextData"),f(b)):(n.consume(b),p)}function _(b){return b===96?(n.consume(b),s++,_):s===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(b)):(o.type="codeTextData",p(b))}}m();m();function bW(n){let e={},t=-1,r,i,s,o,a,l,f;for(;++t<n.length;){for(;t in e;)t=e[t];if(r=n[t],t&&r[1].type==="chunkFlow"&&n[t-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,l4t(n,t)),t=e[t],f=!0);else if(r[1]._container){for(s=t,i=void 0;s--&&(o=n[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(n[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},n[i][1].start),a=n.slice(i,t),a.unshift(r),u0(n,i,t-i+1,a))}}return!f}function l4t(n,e){let t=n[e][1],r=n[e][2],i=e-1,s=[],o=t._tokenizer||r.parser[t.contentType](t.start),a=o.events,l=[],f={},p,_,b=-1,R=t,O=0,j=0,$=[j];for(;R;){for(;n[++i][1]!==R;);s.push(i),R._tokenizer||(p=r.sliceStream(R),R.next||p.push(null),_&&o.defineSkip(R.start),R._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(p),R._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),_=R,R=R.next}for(R=t;++b<a.length;)a[b][0]==="exit"&&a[b-1][0]==="enter"&&a[b][1].type===a[b-1][1].type&&a[b][1].start.line!==a[b][1].end.line&&(j=b+1,$.push(j),R._tokenizer=void 0,R.previous=void 0,R=R.next);for(o.events=[],R?(R._tokenizer=void 0,R.previous=void 0):$.pop(),b=$.length;b--;){let L=a.slice($[b],$[b+1]),q=s.pop();l.unshift([q,q+L.length-1]),u0(n,q,2,L)}for(b=-1;++b<l.length;)f[O+l[b][0]]=O+l[b][1],O+=l[b][1]-l[b][0]-1;return f}var yce={tokenize:d4t,resolve:f4t},c4t={tokenize:h4t,partial:!0};function f4t(n){return bW(n),n}function d4t(n,e){let t;return r;function r(a){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Yi(a)?n.check(c4t,o,s)(a):(n.consume(a),i)}function s(a){return n.exit("chunkContent"),n.exit("content"),e(a)}function o(a){return n.consume(a),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function h4t(n,e,t){let r=this;return i;function i(o){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),ro(n,s,"linePrefix")}function s(o){if(o===null||Yi(o))return t(o);let a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):n.interrupt(r.parser.constructs.flow,t,e)(o)}}m();m();function SW(n,e,t,r,i,s,o,a,l){let f=l||Number.POSITIVE_INFINITY,p=0;return _;function _(L){return L===60?(n.enter(r),n.enter(i),n.enter(s),n.consume(L),n.exit(s),b):L===null||L===41||FN(L)?t(L):(n.enter(r),n.enter(o),n.enter(a),n.enter("chunkString",{contentType:"string"}),j(L))}function b(L){return L===62?(n.enter(s),n.consume(L),n.exit(s),n.exit(i),n.exit(r),e):(n.enter(a),n.enter("chunkString",{contentType:"string"}),R(L))}function R(L){return L===62?(n.exit("chunkString"),n.exit(a),b(L)):L===null||L===60||Yi(L)?t(L):(n.consume(L),L===92?O:R)}function O(L){return L===60||L===62||L===92?(n.consume(L),R):R(L)}function j(L){return L===40?++p>f?t(L):(n.consume(L),j):L===41?p--?(n.consume(L),j):(n.exit("chunkString"),n.exit(a),n.exit(o),n.exit(r),e(L)):L===null||Nc(L)?p?t(L):(n.exit("chunkString"),n.exit(a),n.exit(o),n.exit(r),e(L)):FN(L)?t(L):(n.consume(L),L===92?$:j)}function $(L){return L===40||L===41||L===92?(n.consume(L),j):j(L)}}m();function CW(n,e,t,r,i,s){let o=this,a=0,l;return f;function f(R){return n.enter(r),n.enter(i),n.consume(R),n.exit(i),n.enter(s),p}function p(R){return R===null||R===91||R===93&&!l||R===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs||a>999?t(R):R===93?(n.exit(s),n.enter(i),n.consume(R),n.exit(i),n.exit(r),e):Yi(R)?(n.enter("lineEnding"),n.consume(R),n.exit("lineEnding"),p):(n.enter("chunkString",{contentType:"string"}),_(R))}function _(R){return R===null||R===91||R===93||Yi(R)||a++>999?(n.exit("chunkString"),p(R)):(n.consume(R),l=l||!La(R),R===92?b:_)}function b(R){return R===91||R===92||R===93?(n.consume(R),a++,_):_(R)}}m();function wW(n,e,t,r,i,s){let o;return a;function a(b){return n.enter(r),n.enter(i),n.consume(b),n.exit(i),o=b===40?41:b,l}function l(b){return b===o?(n.enter(i),n.consume(b),n.exit(i),n.exit(r),e):(n.enter(s),f(b))}function f(b){return b===o?(n.exit(s),l(o)):b===null?t(b):Yi(b)?(n.enter("lineEnding"),n.consume(b),n.exit("lineEnding"),ro(n,f,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===o||b===null||Yi(b)?(n.exit("chunkString"),f(b)):(n.consume(b),b===92?_:p)}function _(b){return b===o||b===92?(n.consume(b),p):p(b)}}m();function vb(n,e){let t;return r;function r(i){return Yi(i)?(n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),t=!0,r):La(i)?ro(n,r,t?"linePrefix":"lineSuffix")(i):e(i)}}m();function e3(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var vce={name:"definition",tokenize:m4t},p4t={tokenize:x4t,partial:!0};function m4t(n,e,t){let r=this,i;return s;function s(l){return n.enter("definition"),CW.call(r,n,o,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(l)}function o(l){return i=e3(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),l===58?(n.enter("definitionMarker"),n.consume(l),n.exit("definitionMarker"),vb(n,SW(n,n.attempt(p4t,ro(n,a,"whitespace"),ro(n,a,"whitespace")),t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):t(l)}function a(l){return l===null||Yi(l)?(n.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),e(l)):t(l)}}function x4t(n,e,t){return r;function r(o){return Nc(o)?vb(n,i)(o):t(o)}function i(o){return o===34||o===39||o===40?wW(n,ro(n,s,"whitespace"),t,"definitionTitle","definitionTitleMarker","definitionTitleString")(o):t(o)}function s(o){return o===null||Yi(o)?e(o):t(o)}}m();var _ce={name:"hardBreakEscape",tokenize:g4t};function g4t(n,e,t){return r;function r(s){return n.enter("hardBreakEscape"),n.enter("escapeMarker"),n.consume(s),i}function i(s){return Yi(s)?(n.exit("escapeMarker"),n.exit("hardBreakEscape"),e(s)):t(s)}}m();var Ece={name:"headingAtx",tokenize:v4t,resolve:y4t};function y4t(n,e){let t=n.length-2,r=3,i,s;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},s={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},u0(n,r,t-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),n}function v4t(n,e,t){let r=this,i=0;return s;function s(p){return n.enter("atxHeading"),n.enter("atxHeadingSequence"),o(p)}function o(p){return p===35&&i++<6?(n.consume(p),o):p===null||Nc(p)?(n.exit("atxHeadingSequence"),r.interrupt?e(p):a(p)):t(p)}function a(p){return p===35?(n.enter("atxHeadingSequence"),l(p)):p===null||Yi(p)?(n.exit("atxHeading"),e(p)):La(p)?ro(n,a,"whitespace")(p):(n.enter("atxHeadingText"),f(p))}function l(p){return p===35?(n.consume(p),l):(n.exit("atxHeadingSequence"),a(p))}function f(p){return p===null||p===35||Nc(p)?(n.exit("atxHeadingText"),a(p)):(n.consume(p),f)}}m();m();var BNe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],bce=["pre","script","style","textarea"];var Sce={name:"htmlFlow",tokenize:b4t,resolveTo:E4t,concrete:!0},_4t={tokenize:S4t,partial:!0};function E4t(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function b4t(n,e,t){let r=this,i,s,o,a,l;return f;function f(pe){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(pe),p}function p(pe){return pe===33?(n.consume(pe),_):pe===47?(n.consume(pe),O):pe===63?(n.consume(pe),i=3,r.interrupt?e:Ee):pp(pe)?(n.consume(pe),o=String.fromCharCode(pe),s=!0,j):t(pe)}function _(pe){return pe===45?(n.consume(pe),i=2,b):pe===91?(n.consume(pe),i=5,o="CDATA[",a=0,R):pp(pe)?(n.consume(pe),i=4,r.interrupt?e:Ee):t(pe)}function b(pe){return pe===45?(n.consume(pe),r.interrupt?e:Ee):t(pe)}function R(pe){return pe===o.charCodeAt(a++)?(n.consume(pe),a===o.length?r.interrupt?e:at:R):t(pe)}function O(pe){return pp(pe)?(n.consume(pe),o=String.fromCharCode(pe),j):t(pe)}function j(pe){return pe===null||pe===47||pe===62||Nc(pe)?pe!==47&&s&&bce.includes(o.toLowerCase())?(i=1,r.interrupt?e(pe):at(pe)):BNe.includes(o.toLowerCase())?(i=6,pe===47?(n.consume(pe),$):r.interrupt?e(pe):at(pe)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(pe):s?q(pe):L(pe)):pe===45||jd(pe)?(n.consume(pe),o+=String.fromCharCode(pe),j):t(pe)}function $(pe){return pe===62?(n.consume(pe),r.interrupt?e:at):t(pe)}function L(pe){return La(pe)?(n.consume(pe),L):ye(pe)}function q(pe){return pe===47?(n.consume(pe),ye):pe===58||pe===95||pp(pe)?(n.consume(pe),P):La(pe)?(n.consume(pe),q):ye(pe)}function P(pe){return pe===45||pe===46||pe===58||pe===95||jd(pe)?(n.consume(pe),P):W(pe)}function W(pe){return pe===61?(n.consume(pe),oe):La(pe)?(n.consume(pe),W):q(pe)}function oe(pe){return pe===null||pe===60||pe===61||pe===62||pe===96?t(pe):pe===34||pe===39?(n.consume(pe),l=pe,I):La(pe)?(n.consume(pe),oe):(l=null,J(pe))}function I(pe){return pe===null||Yi(pe)?t(pe):pe===l?(n.consume(pe),he):(n.consume(pe),I)}function J(pe){return pe===null||pe===34||pe===39||pe===60||pe===61||pe===62||pe===96||Nc(pe)?W(pe):(n.consume(pe),J)}function he(pe){return pe===47||pe===62||La(pe)?q(pe):t(pe)}function ye(pe){return pe===62?(n.consume(pe),He):t(pe)}function He(pe){return La(pe)?(n.consume(pe),He):pe===null||Yi(pe)?at(pe):t(pe)}function at(pe){return pe===45&&i===2?(n.consume(pe),Mt):pe===60&&i===1?(n.consume(pe),qe):pe===62&&i===4?(n.consume(pe),ke):pe===63&&i===3?(n.consume(pe),Ee):pe===93&&i===5?(n.consume(pe),et):Yi(pe)&&(i===6||i===7)?n.check(_4t,ke,ct)(pe):pe===null||Yi(pe)?ct(pe):(n.consume(pe),at)}function ct(pe){return n.exit("htmlFlowData"),Ze(pe)}function Ze(pe){return pe===null?Ce(pe):Yi(pe)?n.attempt({tokenize:bt,partial:!0},Ze,Ce)(pe):(n.enter("htmlFlowData"),at(pe))}function bt(pe,Je,lt){return Ht;function Ht(mn){return pe.enter("lineEnding"),pe.consume(mn),pe.exit("lineEnding"),wt}function wt(mn){return r.parser.lazy[r.now().line]?lt(mn):Je(mn)}}function Mt(pe){return pe===45?(n.consume(pe),Ee):at(pe)}function qe(pe){return pe===47?(n.consume(pe),o="",te):at(pe)}function te(pe){return pe===62&&bce.includes(o.toLowerCase())?(n.consume(pe),ke):pp(pe)&&o.length<8?(n.consume(pe),o+=String.fromCharCode(pe),te):at(pe)}function et(pe){return pe===93?(n.consume(pe),Ee):at(pe)}function Ee(pe){return pe===62?(n.consume(pe),ke):pe===45&&i===2?(n.consume(pe),Ee):at(pe)}function ke(pe){return pe===null||Yi(pe)?(n.exit("htmlFlowData"),Ce(pe)):(n.consume(pe),ke)}function Ce(pe){return n.exit("htmlFlow"),e(pe)}}function S4t(n,e,t){return r;function r(i){return n.exit("htmlFlowData"),n.enter("lineEndingBlank"),n.consume(i),n.exit("lineEndingBlank"),n.attempt(G4,e,t)}}m();var Cce={name:"htmlText",tokenize:C4t};function C4t(n,e,t){let r=this,i,s,o,a;return l;function l(Ce){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(Ce),f}function f(Ce){return Ce===33?(n.consume(Ce),p):Ce===47?(n.consume(Ce),J):Ce===63?(n.consume(Ce),oe):pp(Ce)?(n.consume(Ce),He):t(Ce)}function p(Ce){return Ce===45?(n.consume(Ce),_):Ce===91?(n.consume(Ce),s="CDATA[",o=0,$):pp(Ce)?(n.consume(Ce),W):t(Ce)}function _(Ce){return Ce===45?(n.consume(Ce),b):t(Ce)}function b(Ce){return Ce===null||Ce===62?t(Ce):Ce===45?(n.consume(Ce),R):O(Ce)}function R(Ce){return Ce===null||Ce===62?t(Ce):O(Ce)}function O(Ce){return Ce===null?t(Ce):Ce===45?(n.consume(Ce),j):Yi(Ce)?(a=O,et(Ce)):(n.consume(Ce),O)}function j(Ce){return Ce===45?(n.consume(Ce),ke):O(Ce)}function $(Ce){return Ce===s.charCodeAt(o++)?(n.consume(Ce),o===s.length?L:$):t(Ce)}function L(Ce){return Ce===null?t(Ce):Ce===93?(n.consume(Ce),q):Yi(Ce)?(a=L,et(Ce)):(n.consume(Ce),L)}function q(Ce){return Ce===93?(n.consume(Ce),P):L(Ce)}function P(Ce){return Ce===62?ke(Ce):Ce===93?(n.consume(Ce),P):L(Ce)}function W(Ce){return Ce===null||Ce===62?ke(Ce):Yi(Ce)?(a=W,et(Ce)):(n.consume(Ce),W)}function oe(Ce){return Ce===null?t(Ce):Ce===63?(n.consume(Ce),I):Yi(Ce)?(a=oe,et(Ce)):(n.consume(Ce),oe)}function I(Ce){return Ce===62?ke(Ce):oe(Ce)}function J(Ce){return pp(Ce)?(n.consume(Ce),he):t(Ce)}function he(Ce){return Ce===45||jd(Ce)?(n.consume(Ce),he):ye(Ce)}function ye(Ce){return Yi(Ce)?(a=ye,et(Ce)):La(Ce)?(n.consume(Ce),ye):ke(Ce)}function He(Ce){return Ce===45||jd(Ce)?(n.consume(Ce),He):Ce===47||Ce===62||Nc(Ce)?at(Ce):t(Ce)}function at(Ce){return Ce===47?(n.consume(Ce),ke):Ce===58||Ce===95||pp(Ce)?(n.consume(Ce),ct):Yi(Ce)?(a=at,et(Ce)):La(Ce)?(n.consume(Ce),at):ke(Ce)}function ct(Ce){return Ce===45||Ce===46||Ce===58||Ce===95||jd(Ce)?(n.consume(Ce),ct):Ze(Ce)}function Ze(Ce){return Ce===61?(n.consume(Ce),bt):Yi(Ce)?(a=Ze,et(Ce)):La(Ce)?(n.consume(Ce),Ze):at(Ce)}function bt(Ce){return Ce===null||Ce===60||Ce===61||Ce===62||Ce===96?t(Ce):Ce===34||Ce===39?(n.consume(Ce),i=Ce,Mt):Yi(Ce)?(a=bt,et(Ce)):La(Ce)?(n.consume(Ce),bt):(n.consume(Ce),i=void 0,te)}function Mt(Ce){return Ce===i?(n.consume(Ce),qe):Ce===null?t(Ce):Yi(Ce)?(a=Mt,et(Ce)):(n.consume(Ce),Mt)}function qe(Ce){return Ce===62||Ce===47||Nc(Ce)?at(Ce):t(Ce)}function te(Ce){return Ce===null||Ce===34||Ce===39||Ce===60||Ce===61||Ce===96?t(Ce):Ce===62||Nc(Ce)?at(Ce):(n.consume(Ce),te)}function et(Ce){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(Ce),n.exit("lineEnding"),ro(n,Ee,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ee(Ce){return n.enter("htmlTextData"),a(Ce)}function ke(Ce){return Ce===62?(n.consume(Ce),n.exit("htmlTextData"),n.exit("htmlText"),e):t(Ce)}}m();var _b={name:"labelEnd",tokenize:R4t,resolveTo:D4t,resolveAll:F4t},w4t={tokenize:O4t},A4t={tokenize:N4t},T4t={tokenize:L4t};function F4t(n){let e=-1,t;for(;++e<n.length;)t=n[e][1],(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(n.splice(e+1,t.type==="labelImage"?4:2),t.type="data",e++);return n}function D4t(n,e){let t=n.length,r=0,i,s,o,a;for(;t--;)if(i=n[t][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;n[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(n[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=t);let l={type:n[s][1].type==="labelLink"?"link":"image",start:Object.assign({},n[s][1].start),end:Object.assign({},n[n.length-1][1].end)},f={type:"label",start:Object.assign({},n[s][1].start),end:Object.assign({},n[o][1].end)},p={type:"labelText",start:Object.assign({},n[s+r+2][1].end),end:Object.assign({},n[o-2][1].start)};return a=[["enter",l,e],["enter",f,e]],a=Bd(a,n.slice(s+1,s+r+3)),a=Bd(a,[["enter",p,e]]),a=Bd(a,w9(e.parser.constructs.insideSpan.null,n.slice(s+r+4,o-3),e)),a=Bd(a,[["exit",p,e],n[o-2],n[o-1],["exit",f,e]]),a=Bd(a,n.slice(o+1)),a=Bd(a,[["exit",l,e]]),u0(n,s,n.length,a),n}function R4t(n,e,t){let r=this,i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(p){return s?s._inactive?f(p):(o=r.parser.defined.includes(e3(r.sliceSerialize({start:s.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(p),n.exit("labelMarker"),n.exit("labelEnd"),l):t(p)}function l(p){return p===40?n.attempt(w4t,e,o?e:f)(p):p===91?n.attempt(A4t,e,o?n.attempt(T4t,e,f):f)(p):o?e(p):f(p)}function f(p){return s._balanced=!0,t(p)}}function O4t(n,e,t){return r;function r(l){return n.enter("resource"),n.enter("resourceMarker"),n.consume(l),n.exit("resourceMarker"),vb(n,i)}function i(l){return l===41?a(l):SW(n,s,t,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(l)}function s(l){return Nc(l)?vb(n,o)(l):a(l)}function o(l){return l===34||l===39||l===40?wW(n,vb(n,a),t,"resourceTitle","resourceTitleMarker","resourceTitleString")(l):a(l)}function a(l){return l===41?(n.enter("resourceMarker"),n.consume(l),n.exit("resourceMarker"),n.exit("resource"),e):t(l)}}function N4t(n,e,t){let r=this;return i;function i(o){return CW.call(r,n,s,t,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(e3(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):t(o)}}function L4t(n,e,t){return r;function r(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),i}function i(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),e):t(s)}}m();var wce={name:"labelStartImage",tokenize:k4t,resolveAll:_b.resolveAll};function k4t(n,e,t){let r=this;return i;function i(a){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(a),n.exit("labelImageMarker"),s}function s(a){return a===91?(n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelImage"),o):t(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(a):e(a)}}m();var Ace={name:"labelStartLink",tokenize:I4t,resolveAll:_b.resolveAll};function I4t(n,e,t){let r=this;return i;function i(o){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(o):e(o)}}m();var ON={name:"lineEnding",tokenize:M4t};function M4t(n,e){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),ro(n,e,"linePrefix")}}m();m();var Eb={name:"thematicBreak",tokenize:P4t};function P4t(n,e,t){let r=0,i;return s;function s(l){return n.enter("thematicBreak"),i=l,o(l)}function o(l){return l===i?(n.enter("thematicBreakSequence"),a(l)):La(l)?ro(n,o,"whitespace")(l):r<3||l!==null&&!Yi(l)?t(l):(n.exit("thematicBreak"),e(l))}function a(l){return l===i?(n.consume(l),r++,a):(n.exit("thematicBreakSequence"),o(l))}}var Q0={name:"list",tokenize:q4t,continuation:{tokenize:U4t},exit:z4t},B4t={tokenize:H4t,partial:!0},j4t={tokenize:$4t,partial:!0};function q4t(n,e,t){let r=this,i=r.events[r.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(R){let O=r.containerState.type||(R===42||R===43||R===45?"listUnordered":"listOrdered");if(O==="listUnordered"?!r.containerState.marker||R===r.containerState.marker:TN(R)){if(r.containerState.type||(r.containerState.type=O,n.enter(O,{_container:!0})),O==="listUnordered")return n.enter("listItemPrefix"),R===42||R===45?n.check(Eb,t,f)(R):f(R);if(!r.interrupt||R===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),l(R)}return t(R)}function l(R){return TN(R)&&++o<10?(n.consume(R),l):(!r.interrupt||o<2)&&(r.containerState.marker?R===r.containerState.marker:R===41||R===46)?(n.exit("listItemValue"),f(R)):t(R)}function f(R){return n.enter("listItemMarker"),n.consume(R),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||R,n.check(G4,r.interrupt?t:p,n.attempt(B4t,b,_))}function p(R){return r.containerState.initialBlankLine=!0,s++,b(R)}function _(R){return La(R)?(n.enter("listItemPrefixWhitespace"),n.consume(R),n.exit("listItemPrefixWhitespace"),b):t(R)}function b(R){return r.containerState.size=s+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(R)}}function U4t(n,e,t){let r=this;return r.containerState._closeFlow=void 0,n.check(G4,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ro(n,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!La(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(j4t,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,ro(n,n.attempt(Q0,e,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function $4t(n,e,t){let r=this;return ro(n,i,"listItemIndent",r.containerState.size+1);function i(s){let o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):t(s)}}function z4t(n){n.exit(this.containerState.type)}function H4t(n,e,t){let r=this;return ro(n,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(s){let o=r.events[r.events.length-1];return!La(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):t(s)}}m();var AW={name:"setextUnderline",tokenize:W4t,resolveTo:V4t};function V4t(n,e){let t=n.length,r,i,s;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(i=t)}else n[t][1].type==="content"&&n.splice(t,1),!s&&n[t][1].type==="definition"&&(s=t);let o={type:"setextHeading",start:Object.assign({},n[i][1].start),end:Object.assign({},n[n.length-1][1].end)};return n[i][1].type="setextHeadingText",s?(n.splice(i,0,["enter",o,e]),n.splice(s+1,0,["exit",n[r][1],e]),n[r][1].end=Object.assign({},n[s][1].end)):n[r][1]=o,n.push(["exit",o,e]),n}function W4t(n,e,t){let r=this,i=r.events.length,s,o;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){o=r.events[i][1].type==="paragraph";break}return a;function a(p){return!r.parser.lazy[r.now().line]&&(r.interrupt||o)?(n.enter("setextHeadingLine"),n.enter("setextHeadingLineSequence"),s=p,l(p)):t(p)}function l(p){return p===s?(n.consume(p),l):(n.exit("setextHeadingLineSequence"),ro(n,f,"lineSuffix")(p))}function f(p){return p===null||Yi(p)?(n.exit("setextHeadingLine"),e(p)):t(p)}}var jNe={tokenize:Q4t};function Q4t(n){let e=this,t=n.attempt(G4,r,n.attempt(this.parser.constructs.flowInitial,i,ro(n,n.attempt(this.parser.constructs.flow,i,n.attempt(yce,i)),"linePrefix")));return t;function r(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function i(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),e.currentConstruct=void 0,t}}m();var qNe={resolveAll:HNe()},UNe=zNe("string"),$Ne=zNe("text");function zNe(n){return{tokenize:e,resolveAll:HNe(n==="text"?G4t:void 0)};function e(t){let r=this,i=this.parser.constructs[n],s=t.attempt(i,o,a);return o;function o(p){return f(p)?s(p):a(p)}function a(p){if(p===null){t.consume(p);return}return t.enter("data"),t.consume(p),l}function l(p){return f(p)?(t.exit("data"),s(p)):(t.consume(p),l)}function f(p){if(p===null)return!0;let _=i[p],b=-1;if(_)for(;++b<_.length;){let R=_[b];if(!R.previous||R.previous.call(r,r.previous))return!0}return!1}}}function HNe(n){return e;function e(t,r){let i=-1,s;for(;++i<=t.length;)s===void 0?t[i]&&t[i][1].type==="data"&&(s=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),i=s+2),s=void 0);return n?n(t,r):t}}function G4t(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){let r=n[t-1][1],i=e.sliceStream(r),s=i.length,o=-1,a=0,l;for(;s--;){let f=i[s];if(typeof f=="string"){for(o=f.length;f.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(f===-2)l=!0,a++;else if(f!==-1){s++;break}}if(a){let f={type:t===n.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},f.start),r.start.offset===r.end.offset?Object.assign(r,f):(n.splice(t,0,["enter",f,e],["exit",f,e]),t+=2)}t++}return n}m();function VNe(n,e,t){let r=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),i={},s=[],o=[],a=[],l=!0,f={consume:W,enter:oe,exit:I,attempt:ye(J),check:ye(he),interrupt:ye(he,{interrupt:!0})},p={previous:null,code:null,containerState:{},events:[],parser:n,sliceStream:j,sliceSerialize:O,now:$,defineSkip:L,write:R},_=e.tokenize.call(p,f),b;return e.resolveAll&&s.push(e),p;function R(Ze){return o=Bd(o,Ze),q(),o[o.length-1]!==null?[]:(He(e,0),p.events=w9(s,p.events,p),p.events)}function O(Ze,bt){return K4t(j(Ze),bt)}function j(Ze){return Y4t(o,Ze)}function $(){return Object.assign({},r)}function L(Ze){i[Ze.line]=Ze.column,ct()}function q(){let Ze;for(;r._index<o.length;){let bt=o[r._index];if(typeof bt=="string")for(Ze=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Ze&&r._bufferIndex<bt.length;)P(bt.charCodeAt(r._bufferIndex));else P(bt)}}function P(Ze){l=void 0,b=Ze,_=_(Ze)}function W(Ze){Yi(Ze)?(r.line++,r.column=1,r.offset+=Ze===-3?2:1,ct()):Ze!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=Ze,l=!0}function oe(Ze,bt){let Mt=bt||{};return Mt.type=Ze,Mt.start=$(),p.events.push(["enter",Mt,p]),a.push(Mt),Mt}function I(Ze){let bt=a.pop();return bt.end=$(),p.events.push(["exit",bt,p]),bt}function J(Ze,bt){He(Ze,bt.from)}function he(Ze,bt){bt.restore()}function ye(Ze,bt){return Mt;function Mt(qe,te,et){let Ee,ke,Ce,pe;return Array.isArray(qe)?lt(qe):"tokenize"in qe?lt([qe]):Je(qe);function Je(kt){return Bt;function Bt(tn){let Et=tn!==null&&kt[tn],ve=tn!==null&&kt.null,Le=[...Array.isArray(Et)?Et:Et?[Et]:[],...Array.isArray(ve)?ve:ve?[ve]:[]];return lt(Le)(tn)}}function lt(kt){return Ee=kt,ke=0,kt.length===0?et:Ht(kt[ke])}function Ht(kt){return Bt;function Bt(tn){return pe=at(),Ce=kt,kt.partial||(p.currentConstruct=kt),kt.name&&p.parser.constructs.disable.null.includes(kt.name)?mn(tn):kt.tokenize.call(bt?Object.assign(Object.create(p),bt):p,f,wt,mn)(tn)}}function wt(kt){return l=!0,Ze(Ce,pe),te}function mn(kt){return l=!0,pe.restore(),++ke<Ee.length?Ht(Ee[ke]):et}}}function He(Ze,bt){Ze.resolveAll&&!s.includes(Ze)&&s.push(Ze),Ze.resolve&&u0(p.events,bt,p.events.length-bt,Ze.resolve(p.events.slice(bt),p)),Ze.resolveTo&&(p.events=Ze.resolveTo(p.events,p))}function at(){let Ze=$(),bt=p.previous,Mt=p.currentConstruct,qe=p.events.length,te=Array.from(a);return{restore:et,from:qe};function et(){r=Ze,p.previous=bt,p.currentConstruct=Mt,p.events.length=qe,a=te,ct()}}function ct(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Y4t(n,e){let t=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex,o;return t===i?o=[n[t].slice(r,s)]:(o=n.slice(t,i),r>-1&&(o[0]=o[0].slice(r)),s>0&&o.push(n[i].slice(0,s))),o}function K4t(n,e){let t=-1,r=[],i;for(;++t<n.length;){let s=n[t],o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}var Tce={};nY(Tce,{attentionMarkers:()=>i_t,contentInitial:()=>X4t,disable:()=>s_t,document:()=>J4t,flow:()=>e_t,flowInitial:()=>Z4t,insideSpan:()=>r_t,string:()=>t_t,text:()=>n_t});m();var J4t={[42]:Q0,[43]:Q0,[45]:Q0,[48]:Q0,[49]:Q0,[50]:Q0,[51]:Q0,[52]:Q0,[53]:Q0,[54]:Q0,[55]:Q0,[56]:Q0,[57]:Q0,[62]:yW},X4t={[91]:vce},Z4t={[-2]:RN,[-1]:RN,[32]:RN},e_t={[35]:Ece,[42]:Eb,[45]:[AW,Eb],[60]:Sce,[61]:AW,[95]:Eb,[96]:EW,[126]:EW},t_t={[38]:_W,[92]:vW},n_t={[-5]:ON,[-4]:ON,[-3]:ON,[33]:wce,[38]:_W,[42]:DN,[60]:[xce,Cce],[91]:Ace,[92]:[_ce,vW],[93]:_b,[95]:DN,[96]:gce},r_t={null:[DN,qNe]},i_t={null:[42,95]},s_t={null:[]};function WNe(n={}){let e=TNe([Tce].concat(n.extensions||[])),t={defined:[],lazy:{},constructs:e,content:r(LNe),document:r(kNe),flow:r(jNe),string:r(UNe),text:r($Ne)};return t;function r(i){return s;function s(o){return VNe(t,i,o)}}}m();var QNe=/[\0\t\n\r]/g;function GNe(){let n=1,e="",t=!0,r;return i;function i(s,o,a){let l=[],f,p,_,b,R;for(s=e+s.toString(o),_=0,e="",t&&(s.charCodeAt(0)===65279&&_++,t=void 0);_<s.length;){if(QNe.lastIndex=_,f=QNe.exec(s),b=f&&f.index!==void 0?f.index:s.length,R=s.charCodeAt(b),!f){e=s.slice(_);break}if(R===10&&_===b&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),_<b&&(l.push(s.slice(_,b)),n+=b-_),R){case 0:{l.push(65533),n++;break}case 9:{for(p=Math.ceil(n/4)*4,l.push(-2);n++<p;)l.push(-1);break}case 10:{l.push(-4),n=1;break}default:r=!0,n=1}_=b+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}m();function YNe(n){for(;!bW(n););return n}m();function TW(n,e){let t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"\uFFFD":String.fromCharCode(t)}m();var o_t=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function KNe(n){return n.replace(o_t,a_t)}function a_t(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){let i=t.charCodeAt(1),s=i===120||i===88;return TW(t.slice(s?2:1),s?16:10)}return A9(t)||n}var Fce={}.hasOwnProperty,Dce=function(n,e,t){return typeof e!="string"&&(t=e,e=void 0),u_t(t)(YNe(WNe(t).document().write(GNe()(n,e,!0))))};function u_t(n={}){let e=JNe({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(ft),autolinkProtocol:ct,autolinkEmail:ct,atxHeading:l(Ke),blockQuote:l(ve),characterEscape:ct,characterReference:ct,codeFenced:l(Le),codeFencedFenceInfo:f,codeFencedFenceMeta:f,codeIndented:l(Le,f),codeText:l(_e,f),codeTextData:ct,data:ct,codeFlowValue:ct,definition:l(ce),definitionDestinationString:f,definitionLabelString:f,definitionTitleString:f,emphasis:l(tt),hardBreakEscape:l(re),hardBreakTrailing:l(re),htmlFlow:l(Re,f),htmlFlowData:ct,htmlText:l(Re,f),htmlTextData:ct,image:l(nt),label:f,link:l(ft),listItem:l(Yt),listItemValue:j,listOrdered:l(Rt,O),listUnordered:l(Rt),paragraph:l(Gt),reference:wt,referenceString:f,resourceDestinationString:f,resourceTitleString:f,setextHeading:l(Ke),strong:l(fn),thematicBreak:l(yn)},exit:{atxHeading:_(),atxHeadingSequence:he,autolink:_(),autolinkEmail:Et,autolinkProtocol:tn,blockQuote:_(),characterEscapeValue:Ze,characterReferenceMarkerHexadecimal:kt,characterReferenceMarkerNumeric:kt,characterReferenceValue:Bt,codeFenced:_(P),codeFencedFence:q,codeFencedFenceInfo:$,codeFencedFenceMeta:L,codeFlowValue:Ze,codeIndented:_(W),codeText:_(et),codeTextData:Ze,data:Ze,definition:_(),definitionDestinationString:J,definitionLabelString:oe,definitionTitleString:I,emphasis:_(),hardBreakEscape:_(Mt),hardBreakTrailing:_(Mt),htmlFlow:_(qe),htmlFlowData:Ze,htmlText:_(te),htmlTextData:Ze,image:_(ke),label:pe,labelText:Ce,lineEnding:bt,link:_(Ee),listItem:_(),listOrdered:_(),listUnordered:_(),paragraph:_(),referenceString:mn,resourceDestinationString:Je,resourceTitleString:lt,resource:Ht,setextHeading:_(at),setextHeadingLineSequence:He,setextHeadingText:ye,strong:_(),thematicBreak:_()}},n.mdastExtensions||[]),t={};return r;function r(Lt){let un={type:"root",children:[]},Pn=[un],nr=[],On=[],Ne={stack:Pn,tokenStack:nr,config:e,enter:p,exit:b,buffer:f,resume:R,setData:s,getData:o},ze=-1;for(;++ze<Lt.length;)if(Lt[ze][1].type==="listOrdered"||Lt[ze][1].type==="listUnordered")if(Lt[ze][0]==="enter")On.push(ze);else{let De=On.pop();ze=i(Lt,De,ze)}for(ze=-1;++ze<Lt.length;){let De=e[Lt[ze][0]];Fce.call(De,Lt[ze][1].type)&&De[Lt[ze][1].type].call(Object.assign({sliceSerialize:Lt[ze][2].sliceSerialize},Ne),Lt[ze][1])}if(nr.length>0){let De=nr[nr.length-1];(De[1]||XNe).call(Ne,void 0,De[0])}for(un.position={start:a(Lt.length>0?Lt[0][1].start:{line:1,column:1,offset:0}),end:a(Lt.length>0?Lt[Lt.length-2][1].end:{line:1,column:1,offset:0})},ze=-1;++ze<e.transforms.length;)un=e.transforms[ze](un)||un;return un}function i(Lt,un,Pn){let nr=un-1,On=-1,Ne=!1,ze,De,Pt,mt;for(;++nr<=Pn;){let xt=Lt[nr];if(xt[1].type==="listUnordered"||xt[1].type==="listOrdered"||xt[1].type==="blockQuote"?(xt[0]==="enter"?On++:On--,mt=void 0):xt[1].type==="lineEndingBlank"?xt[0]==="enter"&&(ze&&!mt&&!On&&!Pt&&(Pt=nr),mt=void 0):xt[1].type==="linePrefix"||xt[1].type==="listItemValue"||xt[1].type==="listItemMarker"||xt[1].type==="listItemPrefix"||xt[1].type==="listItemPrefixWhitespace"||(mt=void 0),!On&&xt[0]==="enter"&&xt[1].type==="listItemPrefix"||On===-1&&xt[0]==="exit"&&(xt[1].type==="listUnordered"||xt[1].type==="listOrdered")){if(ze){let rn=nr;for(De=void 0;rn--;){let Qt=Lt[rn];if(Qt[1].type==="lineEnding"||Qt[1].type==="lineEndingBlank"){if(Qt[0]==="exit")continue;De&&(Lt[De][1].type="lineEndingBlank",Ne=!0),Qt[1].type="lineEnding",De=rn}else if(!(Qt[1].type==="linePrefix"||Qt[1].type==="blockQuotePrefix"||Qt[1].type==="blockQuotePrefixWhitespace"||Qt[1].type==="blockQuoteMarker"||Qt[1].type==="listItemIndent"))break}Pt&&(!De||Pt<De)&&(ze._spread=!0),ze.end=Object.assign({},De?Lt[De][1].start:xt[1].end),Lt.splice(De||nr,0,["exit",ze,xt[2]]),nr++,Pn++}xt[1].type==="listItemPrefix"&&(ze={type:"listItem",_spread:!1,start:Object.assign({},xt[1].start)},Lt.splice(nr,0,["enter",ze,xt[2]]),nr++,Pn++,Pt=void 0,mt=!0)}}return Lt[un][1]._spread=Ne,Pn}function s(Lt,un){t[Lt]=un}function o(Lt){return t[Lt]}function a(Lt){return{line:Lt.line,column:Lt.column,offset:Lt.offset}}function l(Lt,un){return Pn;function Pn(nr){p.call(this,Lt(nr),nr),un&&un.call(this,nr)}}function f(){this.stack.push({type:"fragment",children:[]})}function p(Lt,un,Pn){return this.stack[this.stack.length-1].children.push(Lt),this.stack.push(Lt),this.tokenStack.push([un,Pn]),Lt.position={start:a(un.start)},Lt}function _(Lt){return un;function un(Pn){Lt&&Lt.call(this,Pn),b.call(this,Pn)}}function b(Lt,un){let Pn=this.stack.pop(),nr=this.tokenStack.pop();if(nr)nr[0].type!==Lt.type&&(un?un.call(this,Lt,nr[0]):(nr[1]||XNe).call(this,Lt,nr[0]));else throw new Error("Cannot close `"+Lt.type+"` ("+yb({start:Lt.start,end:Lt.end})+"): it\u2019s not open");return Pn.position.end=a(Lt.end),Pn}function R(){return SNe(this.stack.pop())}function O(){s("expectingFirstListItemValue",!0)}function j(Lt){if(o("expectingFirstListItemValue")){let un=this.stack[this.stack.length-2];un.start=Number.parseInt(this.sliceSerialize(Lt),10),s("expectingFirstListItemValue")}}function $(){let Lt=this.resume(),un=this.stack[this.stack.length-1];un.lang=Lt}function L(){let Lt=this.resume(),un=this.stack[this.stack.length-1];un.meta=Lt}function q(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function P(){let Lt=this.resume(),un=this.stack[this.stack.length-1];un.value=Lt.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function W(){let Lt=this.resume(),un=this.stack[this.stack.length-1];un.value=Lt.replace(/(\r?\n|\r)$/g,"")}function oe(Lt){let un=this.resume(),Pn=this.stack[this.stack.length-1];Pn.label=un,Pn.identifier=e3(this.sliceSerialize(Lt)).toLowerCase()}function I(){let Lt=this.resume(),un=this.stack[this.stack.length-1];un.title=Lt}function J(){let Lt=this.resume(),un=this.stack[this.stack.length-1];un.url=Lt}function he(Lt){let un=this.stack[this.stack.length-1];if(!un.depth){let Pn=this.sliceSerialize(Lt).length;un.depth=Pn}}function ye(){s("setextHeadingSlurpLineEnding",!0)}function He(Lt){let un=this.stack[this.stack.length-1];un.depth=this.sliceSerialize(Lt).charCodeAt(0)===61?1:2}function at(){s("setextHeadingSlurpLineEnding")}function ct(Lt){let un=this.stack[this.stack.length-1],Pn=un.children[un.children.length-1];(!Pn||Pn.type!=="text")&&(Pn=gn(),Pn.position={start:a(Lt.start)},un.children.push(Pn)),this.stack.push(Pn)}function Ze(Lt){let un=this.stack.pop();un.value+=this.sliceSerialize(Lt),un.position.end=a(Lt.end)}function bt(Lt){let un=this.stack[this.stack.length-1];if(o("atHardBreak")){let Pn=un.children[un.children.length-1];Pn.position.end=a(Lt.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(un.type)&&(ct.call(this,Lt),Ze.call(this,Lt))}function Mt(){s("atHardBreak",!0)}function qe(){let Lt=this.resume(),un=this.stack[this.stack.length-1];un.value=Lt}function te(){let Lt=this.resume(),un=this.stack[this.stack.length-1];un.value=Lt}function et(){let Lt=this.resume(),un=this.stack[this.stack.length-1];un.value=Lt}function Ee(){let Lt=this.stack[this.stack.length-1];o("inReference")?(Lt.type+="Reference",Lt.referenceType=o("referenceType")||"shortcut",delete Lt.url,delete Lt.title):(delete Lt.identifier,delete Lt.label),s("referenceType")}function ke(){let Lt=this.stack[this.stack.length-1];o("inReference")?(Lt.type+="Reference",Lt.referenceType=o("referenceType")||"shortcut",delete Lt.url,delete Lt.title):(delete Lt.identifier,delete Lt.label),s("referenceType")}function Ce(Lt){let un=this.stack[this.stack.length-2],Pn=this.sliceSerialize(Lt);un.label=KNe(Pn),un.identifier=e3(Pn).toLowerCase()}function pe(){let Lt=this.stack[this.stack.length-1],un=this.resume(),Pn=this.stack[this.stack.length-1];s("inReference",!0),Pn.type==="link"?Pn.children=Lt.children:Pn.alt=un}function Je(){let Lt=this.resume(),un=this.stack[this.stack.length-1];un.url=Lt}function lt(){let Lt=this.resume(),un=this.stack[this.stack.length-1];un.title=Lt}function Ht(){s("inReference")}function wt(){s("referenceType","collapsed")}function mn(Lt){let un=this.resume(),Pn=this.stack[this.stack.length-1];Pn.label=un,Pn.identifier=e3(this.sliceSerialize(Lt)).toLowerCase(),s("referenceType","full")}function kt(Lt){s("characterReferenceType",Lt.type)}function Bt(Lt){let un=this.sliceSerialize(Lt),Pn=o("characterReferenceType"),nr;Pn?(nr=TW(un,Pn==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):nr=A9(un);let On=this.stack.pop();On.value+=nr,On.position.end=a(Lt.end)}function tn(Lt){Ze.call(this,Lt);let un=this.stack[this.stack.length-1];un.url=this.sliceSerialize(Lt)}function Et(Lt){Ze.call(this,Lt);let un=this.stack[this.stack.length-1];un.url="mailto:"+this.sliceSerialize(Lt)}function ve(){return{type:"blockquote",children:[]}}function Le(){return{type:"code",lang:null,meta:null,value:""}}function _e(){return{type:"inlineCode",value:""}}function ce(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function tt(){return{type:"emphasis",children:[]}}function Ke(){return{type:"heading",depth:void 0,children:[]}}function re(){return{type:"break"}}function Re(){return{type:"html",value:""}}function nt(){return{type:"image",title:null,url:"",alt:null}}function ft(){return{type:"link",title:null,url:"",children:[]}}function Rt(Lt){return{type:"list",ordered:Lt.type==="listOrdered",start:null,spread:Lt._spread,children:[]}}function Yt(Lt){return{type:"listItem",spread:Lt._spread,checked:null,children:[]}}function Gt(){return{type:"paragraph",children:[]}}function fn(){return{type:"strong",children:[]}}function gn(){return{type:"text",value:""}}function yn(){return{type:"thematicBreak"}}}function JNe(n,e){let t=-1;for(;++t<e.length;){let r=e[t];Array.isArray(r)?JNe(n,r):l_t(n,r)}return n}function l_t(n,e){let t;for(t in e)if(Fce.call(e,t)){let r=t==="canContainEols"||t==="transforms",s=(Fce.call(n,t)?n[t]:void 0)||(n[t]=r?[]:{}),o=e[t];o&&(r?n[t]=[...s,...o]:Object.assign(s,o))}}function XNe(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+yb({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+yb({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+yb({start:e.start,end:e.end})+") is still open")}function Rce(n){Object.assign(this,{Parser:t=>{let r=this.data("settings");return Dce(t,Object.assign({},r,n,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var ZNe=Rce;var yMe=fr(xMe());m();var Jce=/\s*([a-zA-Z\d-]+)(\s+([\s\S]*))?\s*/,wbt=new RegExp("(\\s*\\/\\*"+Jce.source+"\\*\\/\\s*)"),Abt=new RegExp("(\\s*<!--"+Jce.source+"-->\\s*)");function gMe(n){if(Fbt(n)&&(n.type==="html"||n.type==="comment"||n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")){let e=2,t;if(n.type==="comment"?(t=n.value.match(Jce),e=1):n.type==="html"?t=n.value.match(Abt):(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")&&(t=n.value.match(wbt)),t&&t[0].length===n.value.length){let r=Tbt(t[e+1]||"");if(r)return{name:t[e],attributes:(t[e+2]||"").trim(),parameters:r,node:n}}}return null}function Tbt(n){let e={};return n.replace(/\s+([-\w]+)(?:=(?:"((?:\\[\s\S]|[^"])+)"|'((?:\\[\s\S]|[^'])+)'|((?:\\[\s\S]|[^"'\s])+)))?/gi,t).replace(/\s+/g,"")?null:e;function t(r,i,s,o,a){let l=s||o||a||"";return l==="true"||l===""?l=!0:l==="false"?l=!1:Number.isNaN(Number(l))||(l=Number(l)),e[i]=l,""}}function Fbt(n){return Boolean(n&&typeof n=="object"&&"type"in n)}function vMe(n){let e=cce().use(ZNe).use(yMe.default).use(Dbt),t=e.parse(n);return e.runSync(t)}function V1(n,e){return n.parameters?.[e]?.toString()}var Dbt=()=>{let n,e;function t(r){function i(s){let o=s;if(o.type==="html"){let a=gMe(o);if(a)if(a.name==="malloy-set-model")e=V1(a,"model");else if(a.name==="malloy-query")n=a;else{if(a.name==="malloy-source")return{source:V1(a,"source"),description:V1(a,"description"),model:V1(a,"model"),title:V1(a,"title"),type:"malloySourceLink"};if(a.name==="malloy-app")return{name:V1(a,"name"),description:V1(a,"description"),appId:V1(a,"app"),type:"malloyAppLink"}}return o}else{if("children"in o)return{...o,children:o.children.map(a=>i(a))};if(o.type==="code"){let a=n;return a?(n=void 0,{model:V1(a,"model")||e,query:o.value,name:V1(a,"name"),description:V1(a,"description"),renderer:V1(a,"renderer"),type:"malloyQueryLink"}):o}else return o}}return i(r)}return t};m();var Cb=fr(Fr()),_Me=n=>Cb.createElement("svg",{width:"357px",height:"110px",viewBox:"0 0 357 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Cb.createElement("title",null,"source_view"),Cb.createElement("g",{id:"source_view",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Cb.createElement("path",{d:"M55.5,5.0735362 L287.5,5.0735362 C297.517605,5.0735362 306.301251,7.17877912 313.56051,11.0988368 C320.819769,15.0188946 326.554642,20.7537671 330.474699,28.0130264 C334.394757,35.2722856 336.5,44.0559316 336.5,54.0735362 C336.5,64.0911408 334.394757,72.8747868 330.474699,80.134046 C326.554642,87.3933053 320.819769,93.1281778 313.56051,97.0482355 C306.301251,100.968293 297.517605,103.073536 287.5,103.073536 L55.5,103.073536 C45.4823954,103.073536 36.6987494,100.968293 29.4394902,97.0482355 C22.1802309,93.1281778 16.4453584,87.3933053 12.5253006,80.134046 C8.60524292,72.8747868 6.5,64.0911408 6.5,54.0735362 C6.5,44.0559316 8.60524292,35.2722856 12.5253006,28.0130264 C16.4453584,20.7537671 22.1802309,15.0188946 29.4394902,11.0988368 C36.6987494,7.17877912 45.4823954,5.0735362 55.5,5.0735362 Z",id:"Rectangle",fill:"#4285F4"}),Cb.createElement("text",{id:"VIEW",fontFamily:"GoogleSans-Medium, Google Sans",fontSize:59,fontWeight:400,fill:"#FFFFFF"},Cb.createElement("tspan",{x:75.312,y:74.5},"QUERY"))));m();var wb=fr(Fr()),EMe=n=>wb.createElement("svg",{width:"357px",height:"110px",viewBox:"0 0 357 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},wb.createElement("title",null,"source_view"),wb.createElement("g",{id:"source_view",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},wb.createElement("path",{d:"M55.5,5.0735362 L287.5,5.0735362 C297.517605,5.0735362 306.301251,7.17877912 313.56051,11.0988368 C320.819769,15.0188946 326.554642,20.7537671 330.474699,28.0130264 C334.394757,35.2722856 336.5,44.0559316 336.5,54.0735362 C336.5,64.0911408 334.394757,72.8747868 330.474699,80.134046 C326.554642,87.3933053 320.819769,93.1281778 313.56051,97.0482355 C306.301251,100.968293 297.517605,103.073536 287.5,103.073536 L55.5,103.073536 C45.4823954,103.073536 36.6987494,100.968293 29.4394902,97.0482355 C22.1802309,93.1281778 16.4453584,87.3933053 12.5253006,80.134046 C8.60524292,72.8747868 6.5,64.0911408 6.5,54.0735362 C6.5,44.0559316 8.60524292,35.2722856 12.5253006,28.0130264 C16.4453584,20.7537671 22.1802309,15.0188946 29.4394902,11.0988368 C36.6987494,7.17877912 45.4823954,5.0735362 55.5,5.0735362 Z",id:"Rectangle",fill:"#4285F4"}),wb.createElement("text",{id:"VIEW",fontFamily:"GoogleSans-Medium, Google Sans",fontSize:59,fontWeight:400,fill:"#FFFFFF"},wb.createElement("tspan",{x:98.312,y:74.5},"VIEW"))));var LN=({content:n,loadQueryLink:e,loadApp:t,loadSource:r})=>{let i=vMe(n);return v.createElement(bMe,{node:i,loadQueryLink:e,loadApp:t,loadSource:r})},bMe=({node:n,loadQueryLink:e,loadApp:t,loadSource:r})=>{let i=s=>v.createElement(Rbt,{nodes:s.children,loadQueryLink:e,loadApp:t,loadSource:r});switch(n.type){case"root":return v.createElement(qbt,null,v.createElement(Ubt,null,i(n)));case"heading":switch(n.depth){case 1:return v.createElement(kbt,null,i(n));case 2:return v.createElement(Ibt,null,i(n));case 3:return v.createElement(Mbt,null,i(n));case 4:return v.createElement(Pbt,null,i(n));case 5:return v.createElement(Bbt,null,i(n));case 6:return v.createElement(jbt,null,i(n))}return v.createElement("div",null);case"text":return v.createElement("span",null,n.value);case"strong":return v.createElement("b",null,i(n));case"paragraph":return v.createElement(zbt,null,i(n));case"link":return v.createElement($bt,{href:n.url},i(n),n.title);case"emphasis":return v.createElement("i",null,i(n));case"blockquote":return v.createElement("blockquote",null,i(n));case"break":return v.createElement("br",null);case"code":return v.createElement(Obt,{code:n.value,language:n.lang});case"delete":return v.createElement("del",null,i(n));case"html":return v.createElement("span",null);case"image":return v.createElement("img",{src:n.url,alt:n.alt,title:n.title??void 0});case"inlineCode":return v.createElement("code",null,n.value);case"listItem":return v.createElement("li",null,i(n));case"list":return v.createElement("ul",null,i(n));case"table":return v.createElement(Nbt,{align:n.align},v.createElement("tbody",null,i(n)));case"tableRow":return v.createElement("tr",null,i(n));case"tableCell":return v.createElement(Lbt,null,i(n));case"thematicBreak":return v.createElement("hr",null);case"malloyQueryLink":return v.createElement(Zce,{onClick:()=>{e(n.model,n.query,n.name,n.renderer)}},v.createElement(Xce,null,v.createElement(efe,null,n.name),v.createElement(tfe,null,n.description)),v.createElement(mW,{width:"80",height:"22"}));case"malloyAppLink":return v.createElement(Zce,{onClick:()=>{t(n.appId)}},v.createElement(Xce,null,v.createElement(efe,null,n.name),v.createElement(tfe,null,n.description)),v.createElement(EMe,{width:"80",height:"22"}));case"malloySourceLink":return v.createElement(Zce,{onClick:()=>{r(n.model,n.source)}},v.createElement(Xce,null,v.createElement(efe,null,n.title),v.createElement(tfe,null,n.description)),v.createElement(_Me,{width:"80",height:"22"}))}},Rbt=({nodes:n,loadQueryLink:e,loadApp:t,loadSource:r})=>v.createElement(v.Fragment,null,n.map((i,s)=>v.createElement(bMe,{node:i,key:s,loadQueryLink:e,loadApp:t,loadSource:r}))),Obt=({code:n,language:e})=>{let[t,r]=(0,MW.useState)();return(0,MW.useEffect)(()=>{z_(n,e).then(r)},[n,e]),t?v.createElement(Hbt,null,v.createElement(Zy,{element:t})):v.createElement("pre",null,n)},Nbt=In.table`
  border: 1px solid #eaeaea;
  vertical-align: top;
  border-bottom: 1px solid #eaeaea;
  border-collapse: collapse;
  width: 100%;

  tr:first-child {
    font-weight: 500;
  }

  ${({align:n})=>n.map((e,t)=>`
        tr td:nth-child(${t+1}) {
          text-align: ${e??"left"};
        }
      `).join(`
`)}
`,Lbt=In.td`
  padding: 8px;
  vertical-align: top;
  border-bottom: 1px solid #eaeaea;
`,kbt=In.h1`
  font-size: 21px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,Ibt=In.h2`
  font-size: 19px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,Mbt=In.h3`
  font-size: 17px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,Pbt=In.h4`
  font-size: 15px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,Bbt=In.h5`
  font-size: 14px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,jbt=In.h6`
  font-size: 14px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,qbt=In.div`
  padding: 10px 30px 30px 30px;
  width: 100%;
  font-family: Google Sans;
  overflow-y: auto;
`,Ubt=In.div`
  max-width: 900px;
`,$bt=In.a`
  color: ${mi.dimension.fillStrong};
`,zbt=In.p`
  font-size: 14px;
  margin-block-start: 8px;
  color: #4b4c50;
`,Hbt=In.div`
  pre {
    font-size: 14px;
    border: 1px solid #efefef;
    border-radius: 5px;
    padding: 10px;
    background-color: #fbfbfb;
  }
`,Xce=In.div`
  width: 100%;
  gap: 5px;
  display: flex;
  flex-direction: column;
`,Zce=In.div`
  border: 1px solid #d7d7d7;
  border-radius: 7px;
  padding: 15px;
  background-color: white;
  display: flex;
  flex-direction: row;
  gap: 2px;
  margin-bottom: 15px;
  align-items: center;
  cursor: pointer;
  font-size: 15px;
  color: #595959;

  &:hover {
    background-color: #f0f6ff;
    border-color: #4285f4;
  }
`,efe=In.div`
  display: flex;
  gap: 10px;
  align-items: center;
  justify-content: space-between;
  font-weight: bold;
`,tfe=In.div`
  color: #929292;
  font-size: 14px;
`;m();function PW(){let{data:n}=Tg(["apps"],async()=>S2()?eAe():await(await fetch("api/apps")).json(),{refetchOnWindowFocus:!1});return n}m();m();var BW=()=>{let n=PW(),e=n5();return v.createElement(LN,{content:n?.readme||Vbt(n),loadApp:t=>e(`/${t}`)})};function Vbt(n){let e=`# Welcome to Malloy Composer

`;e+=`Select one of the following datasets to get started!

`;for(let t of n.apps){let r=t.id||"default",i=pm(t.path);e+=`
<!-- malloy-app 
  app="${r}" 
  name="${i}" 
  description="Generated from ${pm(t.path)}" 
-->`}return e}var Wbt="https://malloydata.github.io/malloy/documentation/",Qbt={REMOVE_FIELDS:"command+k",RUN_QUERY:"command+enter",UNDO:"command+z",REDO:"shift+command+z"},kN=()=>{let n=PW(),{appId:e}=WJ(),t=n&&n.apps&&n.apps[0]?.id===void 0,r=t?n.apps[0]:n?.apps?.find(tn=>tn.id===e),i=hue(r),[s,o]=$1e(),a=i?.models.find(tn=>tn.id===s.get("model")),l=s.get("source"),f=(0,Ab.useRef)(""),[p,_]=(0,Ab.useState)(0),b=(tn,Et)=>{f.current=tn.toString(),o(tn,Et)};(0,Ab.useEffect)(()=>{i&&(document.title=i.title||"Malloy Composer")},[i]);let R=({run:tn,query:Et,styles:ve})=>{let Le=s.get("query")||void 0,_e=JSON.stringify(ve);_e==="{}"&&(_e=void 0);let ce=s.get("styles")||void 0;Le===Et&&ce===_e||(Et===void 0?s.delete("query"):(s.set("query",Et),s.delete("name")),tn?s.set("run","true"):s.delete("run"),_e===void 0?s.delete("styles"):s.set("styles",_e),b(s))},O=a?.model,j=a&&r?new URL(a?.path,new URL(r.path,window.location.href)).pathname:void 0,$=O&&l?O.contents[l]:void 0,{queryMalloy:L,queryName:q,clearQuery:P,clearResult:W,runQuery:oe,isRunning:I,queryModifiers:J,querySummary:he,dataStyles:ye,result:He,registerNewSource:at,error:ct,setError:Ze,dirty:bt,canUndo:Mt,undo:qe,redo:te,resetUndoHistory:et,isQueryEmpty:Ee,canQueryRun:ke}=Iue(O,j,R,a?.styles),Ce=s.get("page")||"datasets";t&&Ce==="datasets"&&(Ce="about");let pe=tn=>{s.set("page",tn),tn!=="query"&&(s.delete("query"),s.delete("run"),s.delete("name"),s.delete("styles"),P(!0),et(),Ze(void 0)),b(s)},Je=(tn,Et,ve=!1)=>{at(tn.model.contents[Et]),ve||(s.set("source",Et),s.set("model",tn.id),s.set("page","query"),s.delete("query"),s.delete("run"),s.delete("name"),s.delete("styles"),P(!0),b(s))};(0,Ab.useEffect)(()=>{(async()=>{let Et=s.get("model"),ve=s.get("query")?.replace(/->\s*{\n}/g,""),Le=s.get("source"),_e=s.get("styles"),ce=s.get("page");if(Et&&(ve||Le)&&i){if(s.toString()===f.current)return;let tt=i.models.find(Ke=>Ke.id===Et);if(tt===void 0)throw new Error("Bad model");try{_(re=>++re);let Ke=Le||await sle(tt.model,ve);if(at(tt.model.contents[Ke]),ve){if(ce!=="query")return;W();let re=await ile(tt.model,ve);J.setDataStyles(_e?JSON.parse(_e):{},!0),J.setQuery(re,!0),s.has("run")&&s.get("page")==="query"&&oe()}else s.delete("query"),s.delete("run"),s.delete("name"),s.delete("styles"),P(!0);f.current=s.toString()}catch(Ke){console.error(Ke),Ze(Ke)}finally{_(Ke=>--Ke)}}else i&&!a&&!ce&&(s.set("page","about"),b(s,{replace:!0}))})()},[s,i]);let lt=tn=>{let Et=window.location.href,ve=new URL(tn,new URL(r.path,Et)).href,Le=i?.models.find(_e=>new URL(_e.path,new URL(r.path,Et)).href===ve);if(Le===void 0)throw new Error(`Bad model '${tn}' referenced in Markdown link. Options are: ${i.models.map(_e=>`'${_e.path}'`).join(", ")}.`);return Le},Ht=async(tn,Et)=>{try{_(Le=>++Le);let ve=lt(tn);Je(ve,Et),s.set("page","query"),b(s,{replace:!0})}catch(ve){console.error(ve),Ze(ve)}finally{_(ve=>--ve)}},wt=async(tn,Et,ve,Le)=>{try{_(Ke=>++Ke);let _e=lt(tn),ce=await sle(_e.model,Et);s.set("model",_e.id),s.set("source",ce),s.set("query",Et),s.set("page","query"),s.set("run","true"),s.set("name",ve),at(_e.model.contents[ce]);let tt=await ile(_e.model,Et);if(J.setQuery(tt,!0),Le){let Ke=J.setDataStyle(tt.name,Le,!0);s.delete("renderer"),s.set("styles",JSON.stringify(Ke))}oe(),b(s)}catch(_e){console.error(_e),Ze(_e)}finally{_(_e=>--_e)}},mn=()=>{oe(),s.set("run","true"),b(s,{replace:!0})},kt={REMOVE_FIELDS:()=>P(),RUN_QUERY:mn,UNDO:qe,REDO:te},Bt=oTe(O,j,$);return(p||e&&!i)&&(Ce="loading"),v.createElement(Gbt,{handlers:kt,keyMap:Qbt},v.createElement(e8t,null,v.createElement(t8t,null,v.createElement(rce,null),i&&v.createElement("span",null,i.title||"Malloy",l&&Ce==="query"&&v.createElement("span",null," \u203A"," ",pm(l),(s.get("name")||q)&&Ce==="query"&&v.createElement("span",null," \u203A"," ",s.get("name")||pm(q)))))),v.createElement(Kbt,null,v.createElement(CMe,null,v.createElement(Jbt,null,v.createElement(Xbt,null,!t&&v.createElement(jw,{onClick:()=>pe("datasets"),text:"Home",icon:"home",selected:Ce==="datasets",disabled:n===void 0}),v.createElement(jw,{onClick:()=>pe("about"),text:"Dataset",icon:"about",selected:Ce==="about",disabled:i===void 0}),v.createElement(jw,{onClick:()=>pe("query"),text:"Query",icon:"query",selected:Ce==="query",disabled:$===void 0})),v.createElement(Zbt,null,v.createElement(jw,{onClick:()=>window.open(Wbt,"_blank"),text:"Docs",icon:"help",selected:!1,disabled:!1}))),v.createElement(n8t,null,v.createElement(Ybt,null,Ce==="query"&&v.createElement(nce,{dirty:bt,model:O,modelPath:j,source:$,queryModifiers:J,topValues:Bt,queryName:q,querySummary:he,queryMalloy:L,dataStyles:ye,result:He,isRunning:I,runQuery:mn,canUndo:Mt,undo:qe,isQueryEmpty:Ee,canQueryRun:ke}),Ce==="about"&&v.createElement(IE,null,i&&v.createElement(LN,{content:i.readme||s8t(i),loadQueryLink:wt,loadSource:Ht})),Ce==="datasets"&&n&&v.createElement(IE,null,v.createElement(BW,null)),v.createElement(gue,{error:ct}),Ce==="loading"&&v.createElement(Jc,null,v.createElement(fp,{text:"Loading Data..."})))),v.createElement(r8t,null))),v.createElement(i8t,null))},Gbt=In(SMe.HotKeys)`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  outline: none;
  background-color: ${mi.mainBackground};
`,Ybt=In.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  width: 100%;
  gap: 10px;
`,Kbt=In.div`
  display: flex;
  flex-direction: row;
  height: 100%;
  overflow: hidden;
`,CMe=In.div`
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row;
  height: 100%;
  overflow: hidden;
  background-color: ${mi.mainBackground};
`,Jbt=In.div`
  width: 70px;
  min-width: 70px;
  height: 100%;
  display: flex;
  flex-direction: column;
  background-color: ${mi.mainBackground};
  justify-content: space-between;
  align-items: center;
`,Xbt=In.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
`,Zbt=In.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
`,e8t=In.div`
  height: 40px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 5px 10px 5px 20px;
  background-color: ${mi.mainBackground};
`,t8t=In.div`
  display: flex;
  align-items: center;
  gap: 5px;
`,n8t=In(CMe)`
  margin-top: 10px;
  height: unset;
`,r8t=In.div`
  width: 10px;
  min-width: 10px;
  height: 100%;
  display: flex;
  flex-direction: column;
  background-color: ${mi.mainBackground};
`,i8t=In.div`
  width: 100%;
  min-height: 10px;
  height: 10px;
  display: flex;
  flex-direction: column;
  background-color: ${mi.mainBackground};
`;function s8t(n){let e="";e+=`# ${n.title||"Malloy"}

`,e+=n.title?`Welcome to the Malloy Composer for the ${n.title} dataset!

`:`Welcome to the Malloy Composer. See below for a list of available sources.

`,e+=`## Sources

`;for(let r of n.models)for(let i of r.sources)e+=`
<!-- malloy-source
title="${pm(i.sourceName)}"
description="${i.description}"
source="${i.sourceName}"
model="${r.path}"
-->
      `;return e}m();m();m();m();var wMe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKYAAAB0CAYAAAAPfklTAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAApqADAAQAAAABAAAAdAAAAAB8rXcYAAAz90lEQVR4Ae2dB3xVRfb45973kgAJkIRQRILYCyoKCeC6FsRC/dmxQsC+7KpAAq6660b/uxYggL0LoYiiLqIUURHbWiAs9rY2EFBISEILKe/d+X/PffeFl/Be8vLyXgjIfD63zZw50849c+bMmRml9rv9NdAMa8BohnnaZ7K0fpxK9xiqQ5xSazrnqaJ9pmBNUJD9hBmlSl43QXWxvCrDNFUvrVUGaHtxtXfQW0qrh1u41O3tJ6ptUUpyn0bj3qdLF6PCaaWMDePUCdpQA7lONgyI0VIdeSqIMpgzlaFuLLfUkQSeEwxgv1/NGtjPMWvWR8ivNX9VKS6POgvOJ8Q4AMBOIYArqdTPLaUKeK4Cfh1EeRWwFwk8hHt+1zz1coi4+72dGtjPMesghXXj1BGWoYZBWAMMj+oLM3TxHuiEP37GtUKI0KtVwfbW6vPuuaoyEOjLXLWszXbVH78U01Bn89xPmIEVFOR9P2HWqpSfxqjkOLe6BIrL4jqpJh3awMX4vQ6BLqmsVEsPuV9trIVit08h1F9yVIUTIMS839VTA/sJkwrSFyvXum7qHLrZLIjuXCgnIaDehJBW4b+E55ID18AdX1DegPB6X3+8WXUEyO764cBf1RthP4D6XRPm2gmqs2Gpm9bBHZEFO9Xijt9BkTNdlpp54BT1S2NoBQ7c0x/f1Oq//vf9z9A18LskzA3Z6ihY3nhlqSupmviA6imFGJ83lcrvMll9GODfqFcGSz0dorfMJPVpo5D9TiL/rgiTwUxf7VK3MEg5l/YNZJCvQzzPeBPVgoNzVXm0256E/Bzzm865qiza+PdFfL8LwvxlvBpEV30L3PBUnn7n4eU5pMWJ6VPV537PWDwNrXpC+OL2d+NhVvA+TZhrslUv1DNTIcZTAupjB+9Pu7SawjThmgD/mLyK/lN7VDdBDoHuJ8wwa3mfJMxfxqoD6bLvhkkNF3pw6kLmqh8y4tRDXe5Rm8Osn0aDGV6V6Ueizf2E6a+L+p77FGH+lqMSq2RQwwU1tnIKXwZpTo7TamKnyUq4ZZM6Rv39nV+jkjwUNGnie3Fi+wRhIjYa67PVCIjybtqis9MeIk3ONkx1W5eJTAvuKWcwjelzH+yJH2NPFbux6e71hLnhFtV1naWeQY6UKT/bwS3ft0w1tuvEPcuhfr1VtfdUqRMkU8iXb/hyt/8eTg3s1YT5S7a6xutVUyhoa7uwhvqRrvOWLnnqxXAKH2uYqkp1JhZHtoxruZjG3O/CroG9kjBlcIM5xVOUUqx8xFn02w9gaHFbl6lqp89rz9/RCJzlaKeK01vtH/g0pEX2OsJcl41xhaHup5BtnYL+wPeorpPUew0peFPAQpR++XKZkcs8034Xdg3sNYQpVj9ut5pBY8usjThhRg/HKfXXTpOafrRt56COGzrUYwjuYoPo/d14HVUVNGivIMy1OepYBLX5lOAwKQUDiZ/pyq9itL08aKmagSdLLC6xfx1+IMOlXmtMltLGzswwXNZ5SpsMpHQRYutXlV7vE6XTRpU2Bm9zjmsL5s05g+vGq4sxR5tOHhOdfM5OKFN/6vCI2t6c84395Xfk73Cud9Mnq9MiyuvF81xpXcseghBv2D2+sUUra0JR3sgndg/b+30wpGmeTmwkGXXfB1HOI4dClB440BgaeXhzJ0rM6WQxmhClcPe58ozEQZQvBhClGBq/D0ZnXl+3JeyxDuPyxUJqn3PNkjDX3arare+GYa6hJjg1vgkC7Z+eZw96mn0jmJa6zMmkB6O6FyLJcMdxM/pDeOc5cZdWea1OhXlZpxTmjTjeslQf/NdzGWIVJV19JGk05zjNjjDtQUOlKoAQz7IrTmMxzpJYFnC925wr0p83nauwBUa+9LnXI52Xt0wzx4dCb0ywWp4fKE9unpq1wrSsgYSLaizOMPXsLmPntfTB7xv3ZkWYa7NVJrq/d+EC3Zzqfbq8Up26R6cUG9jO67ZjWqfQs/pcxN04yykP9aEwXlo3ddhuutmNU0d9HtCjHFnp2jnVSXOfeDSbUfm6HHUGnGYBtZrEpan0m9MnqQf3wlr2y3w7GaS9HHH+DZUso3pD6d2I0o+zcPKIh9uPmzkUoLPpYa5PG5e/vmhK1v/zhzfVs/346Ydb2pVuWFaSS+lN5fHx326594qSxqTfLDgm6iBZALaYgghReriu3BuJkhmpVPJ+OZe4+Y0apGm11odGSZcdwiFieuNGEPiDADD9eVda9oyxIYCj6t3pxmfap+XkT2qfnb9WWeZ3ptbLDMNYYBnmh/FVnkL832mfM2OYaMsiSXiPEybqoBHkXOa2E7jKqdzzGXk/G0lh9ngcl7qWPNiyHnP2jeL2htbPSXnoOo5pnzPz6lBl23T/5RtdXutMwtcJDAOmKR1y8nPlPVYuLTv/Gm+860c0DiIHpwdJx4UfqwWM5ztkz/zogOw5BwWBqdMrImquE2MDAtH13QT4NC7Jx1a6o6F7yyCndjHtJcAHqZ/wT4eaVqBB6FMbpiHfHXNmJmpLfwW/6Uq8bRDf8b9NG/VzKBxpE2YdaXittwm3lwlD0s+ZhnnNxskjomqD2iF7xmR+luzqfBjS0+kXtdf8XJve7cpwdaY7P522HAmMj2gNVai1HojOdVV1vHpe9hhhMuc9lkoXyyBxhS52u+g8ae81dKA8F1Eev2roimhwfbpD6cZFxJFf953CpJ/OULm5IefcO42Z3s3rNhfzYxxtx1HqC+0yLyqaOPxb57tRj/Y5+X8Bt90TIHqtYaB62abJWR8GQ3rYjQ8kbE1oezsE+jfChc7WK9PKKJw06rdg8LX99khXTiMOpxHznMysY/3NqXszUdrlYLDmlOfXjVurCbR2fTfoG73lEkbnT9uRtDotbdsh0sghnXBUb4WrL1TwigN0LFx0FQSeFTJSmAEdxs84FKL0M5Lv3ZXezFBEKSi/f/CmCsLvQNPqF0MO1JbxaJjJqSYnTEbfgyHKZ8ig/EWFsvSARWHfhJvh5gi3YTyrIJX6o+SN56MZTyiM6aPj4tpU3MTI/CvBxvNORt7X14W5+MErt27KG3EeBHEbcDKQlFmzGe2zZ8xNHjM9ua64dYZZ5p2Ex3F5TMM4/7cHryqsE94JLJw8crpW+jH5lAmDdtnTq9dA1RW/SQlz/Xh1Mg0n3Z2oqbZhRDmwyxR7TrmuPDb7MMpxgZPJCnZPeDyaGd6Qe32ZYZhDwPmr4GVw+AgqoovrTsPQEMQ9KN5PB+4XH6xxaZzL/IxZotPqjrt7qC3vKn2RHaJ1PnLrF7tDhfZxV1p38MeWCQT7MWaFhtwV0mSEiSrlOBpwIUnLqLUCTnn+QXls07cPOMr1HsX4DZZwB+t6NkW7SBDCT8z0nAPeUi4Ylp6dloP+sh63adLI/zCVeTxgzzug6RDrW+3H5d+rrntcuF9YzmvpfgAmCLBmlimsSAFAwl21oV/3eZkiN9frpDuNufvpr6qb26M+IKEDuCzUDJfsyeUPaQv+29njso6E+xxJdg6CD7UmX63Rw7W2tE7Cfyd/+Fb8uSx5FtM1fmMp86stK3r9pHL5rfaAQ847GTlN1g7Jz82GInp0uNZFHcbNGKENQwYubeysa/1fRteXoZD/zv6u44aMKvKzaE9UYmur5c+5o8rrAA8axMDpFur0XgKtwrUtsSAY5g0K6HjGnDD/d6Nq0yJBrSS9IyRNEryBfYGi2t05ZQn+mPdlfHLijr6oTvprbfHnGycAKIQYqdtJIb7m91qF2dlrpmm9WTyoL8TbNK5dzswzUGbPJzUfgSl1f2Hrrjkqt5/Ik3U6uuSDLUvPIv8nO4A7+OFuFDmwrojoRe9idP13YHYwIJNJkAY7Wxer9VMSMU7Ftd+Qd3lRXUhiSpgaKmCwI5V4rmRCCoee8p91ZSgaYV3mfdByR2IchrVsmmWo08HpX2MeDP02POkiDZ56GwOMHXCWliyEaENcaXz/FaquIAj9IXBLmAGZUzI0Y22wRKLp12HcrB7asBaB0z8nv5z+/VK6/PrFCLHxTN95G73CP4jvsvNlGDMTvC1uCDYnL+EymySKe3kvbN0yQeUOq5T3hjg4dg71Ook4mh8pvr4fKVRlNyTNkLAQ5a0Q590CQELPwSkvCwkchYDUhSv+YBnGVaQlgwM/R/Fjlq4DqyX9PgL419plfFulzW+3D+pZ7+hSCH17UtxREO0xCFnd6Y2Oo0SngK+tH7nzpIvX6B1dj5es7Lk4ll1+2phZB2DVLjNmf3DS/o2yX7F58oi3auUp6CfETV1Zz1JXBzkAn/FjXVg4dfj3tSPAMc+Hqfxb/E1tnbRxyqiPasPU9y1aAersUuB+get2rQ8+ZoS5PkedSSstJQMmnOvLOEP1idWC/3YLV57JhqjS1Zxao8CG2sBs8gvIUm8aRtW7Ue1yly93p5S37oukN5ASDqCMPWukrdRaKndasZH8iBp0eEWtsOh85s6LT9tePo3pyz85CKly4+7C1ul31seRBL7tX+ekxHs8s8n7IF98YwucceSmvOEvO/jsR8otj7d1e1pI1yvalPshrDGB4fW9p944u40r3qIn0W1FL1s4ZeQ19cWJCWHKJgSs915F4mlcWxkqZMZCLWQTpKnuomJPCigo1jh6PiqW/OIVvd6MJdcKSFOlLfr4CI8yr6eLlE1g2wWErdXauKO0oNesWOXFNpbQxpOkafcSNOoKbZlXBON+AflyXrXB4OZ2CPpOPERLIxLYbRgky0Cl2qE/fZmyiUhWzvTo0XVNj1ZHcl5Qb92NLHurfMJ5z2DAtbw2TO3vqBMmg50EBjuiPhFFKj2nuiDapzSkvVZwAIQ/DfTDAgpUQo3er3XCA1uGHF8S4N+0r4v/l5CiSi7CgCGHhE8ISPwLLIjHbh6S+WaAX9ReZWbGsow5NKh/jn47JHZz4ZSsZ8JJpEP2LNbAW88CK8wEOlJPbmrTdbSf89KdH09bfiJBXKuRaU8JZx4+LWfGYHqtV4jDDKZ6a1NeVn/e63VRJ0xM2B4D6fV2yqgHMGaw/5R6cxIOQK42U3oXjKbC/wW4T4Y07J3bphjK+1BUu+pw8lMXDGwyZXGByFQy2DukGlTrR+PjEsZvPKfHjmq/aL3kLne33/bLP/hhpc59Axut5scnqGvX35O1ub5k2o+ddRjz2cjIvvVKPJdql+fioolXywBRYcBxJ2LRHfKO+xSZ9KLQXFkbEPv1qLQeAFZ0piXoUDPRrf4gketzUSVMZ4NUGS1Kf/Bm+hqOIWngRvqhMpy09NMO8Z6KuVTMGQ4MM5tqRlWFNX7bBX3qrfRQeGPuX1AQl7JJX0+F3ElaqXZ6Wn3PQCqreEhv0e1G3bXPnvlHWmAWiLs5yDfArrI2Ts6ql1sfeGt+O07jeJl44LDdRx53+YCS+67fAk6jw7iZs6n4y52wKp75yKUvWq6qz62dCduN+Cqsi1ynQ5DXEXaiA7cDFde5G6eMXOZ81/uIGmH+cItqG+9VX5KiqDCK+EW6R2sWJGVJwR8RCp6ncTv7SmR8RR3dUDKkl4gMe4XziR+2QYZ/5sOiU/x7yaBMW2sR7UKkTXi6tWHFPUS9jXBwQyvGvYVt0u/wd8+h0hTLoC3xbWcS7hOVDFVQ6Xaf7bNK10Za9qy/82MJ5/Rx5VCIbH8Du03jgk1Thn9aJ1itwKgRJkttn6airxL8/FGXsmXL87XSiugzeeHKMQjdov+SESHI9aMlZYlj1LDuDdal2fH38C114crr6E3yqCtbUc30Yn5xB/NalZEh3CfqjunHS5hgf5yK86u23qW7vqRe87PcXLP99kOmBxD2JyjGz/IrxsX+0/RYd9DWMiBKDJLx79FbPpxcUfqoWBoFCa/TKyqEySKycyCe15yU/o0t4oV1phpmYMrilffCJW9xwJHJjOtKBmeIgL5Xu7aLCw6la3uVQhxtF8RQb1tWwgWxGrSJnabHZT5HY/sHRp+i8gkcmAWvTyHOrd2egLCvdgA+Ze799MAVm8JdS93JzKzpdODkZ9tkuYwvG2sD2mjCdKYcvyBD6Vybq6pU93BOC3MKGvwhg5zMgocJvMEB+NEwvEMZ3HwVPMLe55s8f3WyGV/1UoDM/I1b6X6Fg3v/FovStBn7VGqCGbce3C24voMwsRMIx9F158x6OEBX+mFc6/IzxeopnNiRwpiRRvTHQzU0mXchSnE3NZooQZKSsUrkGx9Ropx3eVyn7EtEKRVVev6JpcUdzQGoYPzqnKM8yni9zWsf+AZIAhRF18J03wY6IUqRtf5mP8O6Gbpo8vA/AzrdAT+pclvCHCzpG007dSXfKOTrJqh+IL/WSWBBNJYTpC5ecS1KtCsEJ7LYSk+ldVrRuT03OGnsWw/kytIhmVej7M1zCnac6Y1b0n75l7b8Ga3Cdho7ozuc+WYfPv1G4ZQRLzQMN/ada1tey0+0QOKJwW/a9oPvaxiOhkFHTJg6V6ZNOarE50q8HvWnhiUdHJoK9KsifnR7Kvo3a1VQ8CI02Ld0SO8cuNiTEhHZqrenrOwVhVVUgxGFiOA1jUcIcoO7EvXqX0KA1e2NmVp8m3JpG5nREwV8Tl2rN+tGVn9oxDImivRRRLa7IZ5jMdCYVn9y9UOkLFz5Hq0jOrTPSozk3q3Li5PiWrh6oevI4E/NgLt0Iywg37oczvoFFbUaOWh1m6Sy1T/369dge8H6cxZjCJ9cLQO7SyQl1DEDiwf39g8oI05cNt1i5Cw6TXF3I1ve7nuN7I4aqrPhdX9M7C5c5YY2+zZUFRROygENHA64D2ZDrmrFQs3v+DqQ64etSeqY7rXO6A4fW03IlIUFt/A73uv4enmGoSurgQNFsJprafOpLUN62X93jdDm/OFTxufRZR6lKt3DRA5tTHYdC6RPwNGBn3dNfOvyY6IxaJFNvExT/wecwtW/Uztb9ip8ZNj2xuS1dtyICBNuiYIV4wkcnOriLtHcjN827C1bBP4za2VWiPRrUmRkbnnsMOz8yUAy7OXEXcr3GrFWszNEzpZBvd6q4ft7+GDpRPukFsupm5OluBD7UIwnFkar6BiO3IT4cb+N21CziyZnDY8WbsHTYMKUs7fj4tT3xBUB/QMGPHbBBVnUHIJQ8sIV52EocKI2zV/ZE+fTFtr8ZMPQjJAqCpmyjPN4ekO0V5KP87gSAvIzF1XMuFipYgLSaR6vQpStE56geUdKhhCDJrIEw68PjloeMSCeLwMhB+HFiAkvRgt5gwmT+fDHKel1kgEi/yGaxydHq1Ct//1xu7gEVxYNIvKUX/1CF29eWTK4V9S4RrTyG008dvdtWi/4OSVt9NamtS3Prm+NTSR58M2ra6ahjY6kVxin447xzwxFgi8wToMI8+cJ6miXZZ9UK3LfC3DLYYHImtt761cL0uJMPRFZaCR5k7IiDhh/YfboseaW18bmx1agG/F/QldyM4yjvYNveXy8ujgcy6JI02dvogtgAC9JfMS6ZzdNyboiUlyB8RpEmMiWM4iQBYIqy6uOOmiq+jEQWXN9dyzcRXeXbOdRq7tLhmQKN93LnDZSb5zTWsVVto1D2rEMVzrz3j2Q9U6AGIfw61WvbeJnnFS0tuWtseCUtSsNQ+Pn8fMxKTaULZw6qtHahLAJ0zn06ScyEEeh87tOtrlQ7Tw22+/U11Z0115jCRlMtzNpGKNLBmU82hwyLLsBV5rlp1rKOgaZ7SDmnFNQfSWj5mEpgv0ztSWf8lOJDWp9uud3sXv8F3aPrzdV2WRLQnZ/Y2BqW+7/xA7I3UMtbAs3T+ETZo6aCNLxghjCPA7ClPnxvcrJenKv2/semT6Eq4qFZf33pOmcyIOm2/oHI+Ys8uObLmx4jXrReX6LeuJjCPvRzXmjVjYcReNjMEofBee29dpga7S+NCzCdAw1fiFB+WOXIFs6i5caX6CmxpCyqOA4fq0PSTeRBt1kuswTigZk/NqU+eic+3irqm0tbucPHxPY/Tp5KMKvkDDRx8pVChfdAtGVYsFVim0j73oLMKVs+fdrUqLnq0g2IGhIeWVbGcOwhivtuje0xbpSdOnvgPdUiKrScpnHN8bCyGfjWE8uE1owCtfOQifTto2sJ0bzDWbg83nq4pUj4VKyerKD5dX/IrdXNVWOZR+gqm2yVY4+HeISxwJPY67S1nyPslYUT7lKGEDYrihsyMgAnVH+fIY2KcqwMlTucq7gmyu4LD2a6c/V9Kjxptd6hBT7R5Zq/fKKKriOUxFY1CQJUI+rmvNpZOFWQvGgTNG3zRJ4KjEr+dWPe4QbtzFw7UfPS7IsCzkXosSR9jKm9HqyO9uVm6aMfKmhRNmYvIQb13B5MTJWKQ58D9YU5YSK+9vUkV9SpmkSzvMM9JyXhYKtz78+QVp1amtvUiDzovJrT6oP4d4SbrhtHafMqZvKNCc3Sb5b7sxnYHOKpAWXnMOo+ZxYzDNHqywQFqofY6iDr8r31P/oOPYZkdGDOpdhLwO2uT5lnCJryoMC1uNZL2HS5Y12cPyU/nPzOAe8njKFFVx8Tm8qz5gqwPQEZ8qoPayIEQKxE8WpRL1AopPe3E2tfxzRFKqcCLOrOtz8bEd2LHnAif8LW9KczbuXq4XlcosRd1AnS3qRhe0eFoBOrjiviEoNdnUS5rpx9kZYfQQrlflktFY8NjiXMYrgVpZUvGWj96pLY5QMaFH8GEae4Kceiyvi3H+ua8vq2OUjfMyWu/IxumPfrJllXVc0edTbxH7IxqD1AFGsh8LGTsLzKekiO9xQozuOm943FGwo/zoJE7ue4U5EbbrUnFBI9lZ/mTtnZP625J/p+ZgRZofs2ecidGXY6WD80tgzcARPLJ1sWcif5J8Df8qvMPdWuu4gXVuDwWzPNBnIhcqHW7n+TNgOLhNDmicbsh+n4Aw5KudvMdZphzC1ervzfdXnzki8fciZcyHLM2Blh8kgqHRon0+jXTh2uLjaxokaqDCpZeOU+uzWltqpMtF06UQzztsKZpyIkQszPkai1zRbmRxCXRFnvhMp8aeOeyZdGyY9CaSHqZxyecb560O20UbuzIZoxW403avZKVhVLxb0g9nPX/OuWAMsVmj2LnHHdmjT4u+blBL4sBw9S3CHscZp5OxtCaUjGsVy3Bnyvq+51KUr0rXHWCvlgmuOLB2SkR/NMjo2kTIY4GAOYyoj8OqGDpUOJ42dYFjG+RDGiRDcEcAlcbWisRLxiw8Vb5c/yyfyRp696zvcN1kzPvMN0ulPDNnep3+wfYY6ZOcvIx9nAFPlVa4TivOu/CpoCvxE7bvufJ8w6co9kHrfcI9UCckxIUp/N17W0lD2JH3QxJuDJwa2SZvjUhKqPO3Ymo+NBIytRWmqKJy12sVnZ65jKxfpchIR2o+MdnEMtzWCunQJXsPyTq8Lf+qE2V1cXu9kpN5hNPxuTAO/sBw7I/8YFmAtIHb9vREuJEQp7oFgRCkBXmX92aXMT8lPvEt56QH06WR39+yxHENPmDWSkzM+IVoLfsw5dP+9wtnzaLfCS8LMi7ekKn/jVYb6zzLTExWLEcEdDZe6+KM2luU+n918+8HleoPzKK7aZRH1xrdU9IfatOaUDsx8F4LdvfIASlm08r88TqRB5xcPyggp1APTYMdsyDdEOpLcFRROzsoMhUB2+/VqvZxCHOTAVPAujf81hL2NPczLENd2MIfeClyXANOtFi6L78XKsh4unDpyaVBCqRUh8JP0j2Wb75X4QUD6q1atda+6ZpQol4y2bxMc5PHaorysp+Q9mAs0KiY8H7vNkcHgAv1qN6Ydtna8uoQmfE4+YOcD2K2Ngu55l7Jk1fHMkNxKTYhg3tC5ZbprY442q54oHXjSz4GlYbePF+CWF9Hg/2XLll6BYY15d/ZMl64MfqJHo0QPKl/Kdi6mx/0FIlNXgWUHi0fNKvedchyffItzNrz6G68ySEsQP8dtpot82u3VjzZka0B/ZHmKEUm5uXMlxNCdiwVrqi+7xK0OhKn9LnEqzJ2f438oVyknox1TNG24PTCqDSvf7Kcks12D5Z38jqNLt1V18h3MBe3KIcohDnBh+lr1ZrCITelnW6d7K++HGwin2PUz2Ruzqo9o0FUIRBto0WIChaPIsXldeQr3EVlIRo80ur7VsNw3py4uuKN4+4/T1DDfBvUQpejnou7YyP8qB2l5paUZZAV3HFQ6AY7oI0pptMlZ1Y1mE4BRfi9ygKxCjduFwYC76YfZrP/5ujjbLvjQbxDYw0KUAsEJHLfShddJlAIn1kPsB38dO4os4zMZEUpUSRdKWDAXH6+z2KxLFrEdSpc+mT0zv2UZ8eJgsOK3q5EdCNiy7Jsu3XgHQudwCu6VTtAeeaQteL+1150gMsohTgYqyFc+3fKskgG9/hOqe/ZntuPSTxMrqyrOB05k5jO5TAmj4AUs27i6ZGCvz5IXrXyR7wsp+4rSwZl9JLyxTlQpdI1Sj0n86CENaDtnP5tWpavWkCFG1mop3dwAf9p2mKp6lW8ZPIgT8eRZDDoejpYVEQOZ0ZT7YRs750Jy1DRMKbjIY8PUurUfN+Mp6vZq8SbWcAyFZ9cCqf5sN2bm0agdP+SHaovnVo6I+aN97no1xK4Xu5F2faKkGm9vHdfB9tPV+xEFgjTpuxXX4joS9BPlTLaKOYzu9vqSgRnv10eUklHZh7JkSO/ZJYMzz4Gzii7R5gY0RgYceEXqohUDIEp7pMvTI3Gi4SCeYeCR0TQ0p58JhbPKqLzcIUqys0udIpyySnneIp6PKA3jNTSC3UU+ixpRjpshPyOqIdv9XOGt4ucNnyglVpWlc3isk3dEkIdSbplpc375ru02TxvxNXUsvZ70UG2wQFrWcex0rL12d7sRJpXj/2M1/UaTGZvunjWfD5sqHOmE/QZxZbFVjF0JoeDr8i8dlLm6pNX23lT+rcCVcyVgYTSfbr+HL54RMe7d0tXV3fjPG6dkCYEFd5Zti0kW1Jebp2at8ANVGjvvp6l9jabVQ4VJPw5mh7b/+cMb+5TT1SAkES/QGBhbWPg3dOvUa4obilc22OJQgiziUQTd1l2ln8UCyR0KD+qypciYo214loBYpvmWqMdqw++GAK5iEyaprI7W/pa1E23Qt6H9jdEJW0pkIetVHW9+WHJWxpYG4fED9+vnKVHq3uSFBR8zSF+Ed0s4lv2XU2YR5utxslPu7DM5wT4DGdKNfFrKPPLnCXHm5/61NVT04ah8/iiIGEjMCMWFnJFwT4FjY9V8eYpDMc0GD/6td4xFhVOG3xQKhy9Gw+5sWz0emfw+YsHA1A7DtAZvnDTyi4Zh2QUtJ2Wk5eTnwWtzwHhyh22/TESZHlJfK4dmUUZAjcfAkmZY5jLy1I+pzM/8WGtwTDEIJuAkO3DXtoJ+2D3y9FjGdBL+1Ze4Rh5ieUSl3sTGCLOTl3zYLdJMoUhfbpl6KARQUY3DstZXvwd5SRs/qyejy2+YyXmdfutuiPIuwB7AdG05gn0RKpQN7Ee5VHmNp53oOs5wzwiCyvbysquwE+a1POZsPxzGE9nO+04I9qpoEaWcD0Qe3+NnmQh+Icoi8n62HO3nTzvSZ9HW8tvgmTYeOOJYjhS8vC5cQpzAXwMM4y2VSp5eFLNAf5wahMnObaJc9XPR1/xAe/K5bWhGkdfynkYelnBVOnmJRxS6ghH26uTFBaI6ishtGdh7GYUdJZ2QOMM0Lva97X6Hu/UxLC1d8hFOqBD01lqQB9DcZyP7niL+oF0mU3O1YHyfzIrAYa6wPwzjDb+qRZbEEs/OBw0sB4rCfCJ12iDfB0OMWVxvwdlFvrY5Oc/v2EP9JMzuPogUe414T1xfpd0ekavt/DJany6nuNWAqfUhBxdQ1usd78N1y7JJfpAahMkvdJYTsDU9UUZPTe/WZKtemKL+m6uIDWEvkxxsHdr3f8iXg1paRgpdECoJ5BifAJ2MfnB+6qKVuQIXiSsanDmXLiXfiTsQXODf3ZHuAyJDUUeVEMz1nBDWhoFIW5bHptHg/fhRbibWU1S0qES2c+3EgPWfu2Py+TBVdzZvB8gXcfzpq8oKe4demzkgKkz3Qdd/l1kjLH6Gs1fRExDha1yfwN1L0Qz8SOwZXP24yD77DRnqTtRMPepaJgFcgx2HCGxgpzUxWCmjTPEQ53zh0nUhshXzhu98d9rhAj+sZLTaQQzoxuyR62vM9gysDmiCF1RUJ1GYv5NUYLoPkA9p8N1c8qIVpzJTw5IEe1925HhjALM2EQ3WZCZJa/dXkMiBJPRr21bbDwncmMtnS2m8Y2cCAuTsRYi0LoekfvELZl32lhDOc2BghGpsSWzt7eTXRTItuIgyDSIsrBPEOH/nCMhN9JBn1pkjDDI4CSzfo62nYm0pT56GQPwvkx8GVupXt3KfFLLnAMA5p+h5O/+mdYQM8qo5piyhIMAeBVLIVTZQE9z4GU7nEqMA6VL8RCmn3z5YXmETatBclA7u/a7LNNgBTkvXQa+op7dd+FlKUOB6POUYFvD4f4ADtpQlnV8zivmH6u+yVs9Uv4d8ITt1nC4r+kminivR4fjz/EQpJ5AR00dg2reJQMgkCGAAMRYC+KwWUf7KiOs9gudRJgYkOguYHkV5Iw7elDfyH7EmSsmv7JFEe94g77gDPMqzFJGig+8zyJ0ux+/rtuJtcc3uMsTzgCR1LKEJ8o4gKnPHMXNk2liXrQbAV24nkZMDEpIu8DG2y54czs7EsrqR6cRrqfgFwjlNs+IW4v81AF/Yr8UrM+azvfYvREgnf6N4zvVHphtPIA1xVmEhXXQjnceoYkMq35Sq17Ce9KNzeRKGkHa8/W2YL/n9gz0ZZF2F/xQJI2uIF2oy7ZYPUXwXDN63T0XwkFj4SheNpVJnfo47wX8kIsW77cbm90cltj5IetJDiNv5a97laxWidzXHZD1PL1+YzX9jwjHXj1Ppa9kpjm77B2pzMRXqJ0rOMFT/MuJUN7ru8eEQpT+v7Mj7Cu/v2N9ajfD7N/gpZ5AbaqbEIy/9xRzOjwPZR0QccaYjG/q+Iri3y55+FASUI1EhpmW1lOUXOSh/K2z9o/QgQZ19jo9RfbT2L1j79EDevT00UQZFE3NPuDTHKeppTkJHmqZ6j/JnBiaMSJPF90jHD2ZAn4Gr5phwhJ62Dxv8d87DQDRK7stcFd92hzqXxrgajnwWjV79M5DEZvynVbnVg4feZ6+hjjRV0UeexnWAnAixZVDGD5Eg8nq9+S7TJVzcZPIP+c/eX14Vbt/5RvvWLTbz3Y7rCY4SOTOSNdMyQoZziOzVkqsK0hQObzvCZArzHOfz33UvvRADXYO2M7Zg5SdbsnzjxGvQo8OCjzpWuFyJ8VguxWonPA40HQvxlZGx27gOZuXfR3wLI/kZopWBUU8ucZsZSE7wvQYQJgTSS1gFLirckvVCPSxTjTS2q+EQvDRotSOZ9yHSZ+iz5nXKs83vq8MieWH6bzkFtqO6LOMwXiIiTBn9YwL3LfGPZDR1fHVeRBWSPeNGOOcc/LpgX/gl8t2r6DJfw5L8zXCOoRMuB+HNJ77IlzjjDrq76rpmxm0Q9S8Ey2DeeEmewZxM4cHaz5IwRIypsmQ2GFxQP+xWUzda5xP/GtqgD39GG6k1DiUQ07+ttBNmgnqhS3ue3jz0D8G63KBo6/MUbk59raH+7gM2maufHceRj3j/jjHC5evvGSk/v+1sjqlzlXvdduVriAjlS7HhNFzqDLAOpoBydfXRuZOSwjBEq5lM4j9z4EQqIIrOrd07OHvbxojtZSBHbngqhjQOhCk2lAEOhfBc/nQR4KVyE6jk82jP81DpyA4UP/H9BpX7RoVV9Vbg1J5wSZYg3ICsNQacPvnRPlq55um29GB+NVXR5jUt3glIusYri69G2UIAEwPuKu8jNQJDfXCEdXJZ0u1qo/4TExQda7WLP1Yb/DPRwWZaRtwdEOo8JjduEj2yH6AxT1GoUxcvW5YeR72dAK6DYYZf073/h7p7hOMEdwTitwlzTZk6nHF9CwkwzPAHPj/9VXVzValBEP5gop5Bxds4AhLwELYY1f4z6UlqkZEbPSOJgDRkmaPDhWgyyygPDGv4u8HggearRZiChz//fmwnX+BkiRy2abkAmIMc/AdDlNfxfh1n6Sh0iWsZ2JXynQaXZAAAWfIBPCNO4+/MF0904tmPbrnTW+zYZtehsMEFdY3o4ad092BS+t3fHryqMBBPqPeUstb3Az86IHwt76+Ch2VdGs6omVo1jiSTJ+F/KhfkoC5zmfoMZtiuLhmSIaJSo50zWRDW4NQmTLcWYwbHUeP+18An05UJLVqqHlB5JhtMy1zuSZDZUXYdBQKKctnAhtNSi6o86tWGDGRqomnAl2H1daC1qnKtbkDM3UARvdmgynZtxQ50+zk9RB1V7USJzMc4uUSHyJThmVQZsrPZjwZuK4AQZVcecvmdUPoStCK3o6P7xO/pf+7cbops6ZuO0/pFv3/tpyjRtdd7jPhrZS6tHR76W1/mCzM+hRj/VrKy5+JQZ6enLVkpI+hbWRmQBfmzIatewKTDJcWDM0OKF6HTjTzEJsyqRPWNe7sqBk0qFXgXMy6baJwdVLoIpplcGVzHQmxx9r/KRy33PfEWISct2t5avdM9t3rqsBZYDD6pQbW44GofZuOzxm6or7VVTndmo3NVVQqx1CDMwBI4o2BRzzyimGLscNDO3shvfUxLH4NA0RLux5nhxicY0X5M3VB3xoF0+wdgB7pRe6yNm3eUb1LIr16tLvSlqEoLd1QuC0wj8J2BjhCw7VjZ1gDCVBuJlAI5HwzvviA1s6CCxn7DQVXjUTQw81s8RqKG+zfVkM97MrTwLMQ5BOIMGqcGgih9OPXBNEOOksZ9Kky8IhgXwF3e4ddd1GWKfYJFmFGjC4bFEYpc/ahgpeGvLR6cEW4ZgmaE8yv/QpkelEDWkHUrHdxzTVDAMDx9yw8wblD6z4BDGEFdCb7yA8i+o7MYEI0ICoUns0LzyNTFvK5HrOgSCq62f+rCAkzc9Lwa/gZLZ+I4wbgOK63Uxav68qO+SbxErl+xhT1KJiNq4InRR/VAgb3Un6HQY0hne620hGMsFk4K8P95DHUAusYuXOdxWsXUPUmUya+uPJ1GnyL5pVG/a9Nq22x5b4yjz60mIKYpI24EkRsrzLIF5Oxv5KcaZ5C8SVic7W+w10koJ0fk+WeFGmgnWzwk4wU6ljP4cWeAXn4EqbBLVRWqq3nzRJ4M6ooH9fpIW2w/6HMH8KP+MyhgDDztrlzwwjo1hxXfvyFbzaEb6ktDY2CsvmiWGx1QmcmtDhmNPeVEsi4DLhZQmZcHzm9LmSJyWvuISKvtjTkNt2yb626q9CzJA3W5DFO2SchuP9GttzIsV0dGaR0J6mCZbKyvVUf2vfwWhTQDkuCu49aDeqMA8OetId24jVDM/HhZLscBenaWPWkTplanpyR2mwCl3hM8VVaZDe0zn17kFeD/j2t0+0Ur7o6VzjMwD9WE6fdEuV7E+0L/d3N5yqZXnO5zJKZpPe1KVfpQJ2/MqxsXR/GwqeNsvGbk4omsetRe7ZN7WRJRtKbFkLpH2vXXMvutD7ZJHIYRnxD5AsHCft23q+XLh6eUJR1Mqn1gSaNVLkbDMvMVwrF19m1sE/5/BLu8ypCB1NQQoFHzru7Ko4YxBoj4YydQMV+g0ngJorydJPxE+blpqdOjpc7otnw5a6r99orGW5EWxfDEnULcNnZ8bd3TWKKEIKVDu9LJzzt+S/lI86ew4mcQZItA4OjSrleBDG5DuuIBvb8kcLUAQL1CmDF3ewVhIh/5FdNSIV4GXVgj6atKdvx04uahmSuiVUsl5Ykng8unz7UMEfojcqiF2vojapdLRsSNcuhFRc7r5iDJbxQyJzLW8z/68TDXfqD/PdSTP+MVCePZAw4bc7rZrSsPlbE96V86OOOfbHbwitdTtbPNTmvdumF/2BmL/JjaHOB0lxUtfKZjESXDT/O9KNXFGR59Eo9v7Y8IbrLRAYQ+yYn6Q9vKLc8VRoCndhRTu1nr5Ou9TdOotz4ZFNoTD+CJT+7zUVdmD36ujTOa3zGn/GhlVtZ/y1x2rIhS1p9DlKPs/Br67bqOB6yvTI7F0BcOrrs6jZnerb44wcLtRW2m9TZhMhWKWlSN+f7BmyrkvfHOXl4saKA5y5fXupAaeo0/2FBxXfzvsXruFRwzVoUPxFvhqcCwwWgnfszi+OWvQJAGvWME8i+MdJ8lUrrXZX7Gsges7THgNdVnm5JafqNyhzE9GdrJCbcs01oARGcbShv3FE0ZEZVBabtXV8oI/1obr6HeCWdJNOJTK7QLvqx4vNuc15g9fP1NzNDvJYjlOOaN+nty25VrNeuLZMar0a7GLhc1sVXx+S2N/RnS2meYE33OyHcdXTbLZFxH0SgXQcQXAGO3D0T+aNHk4X/m008bNbGF84Wgnrp05THYEgyGR95FlAQuL5ZZfbcM7lNQHwrOkb+U3MwVOPav7+rbKry+WJGH7+eY1F3KRiuH6haiZDbSXm8deY0GxNyUl/UI5l4fw4mZnbLtO1s7waJQP5ax9rEQCTtxIJUKyUGlPnMPB4pFXeRoAvrNh1UjbKDbvlrQ01xcsIA+O7ALxrZGXxsOUdq5McR20v5PKou9KTLpElP3uydMaTQo4k67ltntrXj7zy9Gs8Yx91oFvmsx/L2+/ZZDD4EzHg8hHs8OIzxtU8NDCLdbPCBdGl6/YNF9b546Yn2Af0SvmJb1JuIuotTqS36Ev5QO7f122AgN42x+InH/UYMOj5KcGzr12hUSGnIfDOky74OWOxLjhHCO5trJqLzX5iG9vm7Kosoif51YcQSGH+215TW8Ztza4rXx3zZe9xlQisX/S0jWJZfJNtheZX7S0MmINq9+dDiW/aJZgF70bSWDe4ecKQpItVGvv1/CxHg2tSzpeZiAyHJ0pcZNTNvZxhuNqtF9MDK74T0FochMlkebnsNr7y8aiyLvNeqiqBZeLLp3JM31EyVd1OLSwb0eimoa+wgymQqGKP2GHHObgiil6n53hCnTjik7k57F1vAih3aWt2SuXUY9+wgtRa8Y876MZypYVF4y81aJqBPzLtyf+d/V4EdO3t1SZusWj3Uq4B22nRnSGGW6vyL3uScWXClJZfn0Jsc7ZftbU8rfvw/CtM3kDr4RSfJeKln0d4jxemm8K+HCDef0QCWz39WoAQZLKap0BkR5qfjTlbxZujIjrwZMjD/27cEPXVFq4s4RLHO9hfHkYU5dVqJXvBUj2Kn7u+/dqcs5z30OIcfZoVq9705sNdA2l9sdPGY++x5hwh1Tkw7NxBB3AArla/jfAyxnjK9QyVwei9PPYtZCTYS43cJVR7MEWlYwXs7l70lfd7dqdWFTE6UUOaqEmbx45YkgbCWIm8Jpr4ozTd3B0mZHFNcdZVtsBjX9Sdtn6b0rE6x81PeWdjTnhHMo1a5owd/sAwviEvyyV3Cg5uyLYSs/bgqbtsoqyO6oys7mBz4mIMsVgNxePLDXlD3Vq0SNMFMXr5wq1i8BhdvTr5gcqg9ZJ39/8YoMtlwJbaHdkIx2frWgFZr4NcRJa0i8vQS2CoKY7bG894gl157Ms59l78k8RCdt1ujA/9dj7P0u3PN1q8L9ZmOX8kYnY80eiwz+3oGpvG6a3hfDsTRqihJFjWNKZpu6Kze9qoqNSAsTDdfGplT52Bu9KpdvcNAUrRSDNDhzq6Sq3Ni47fzexXuqu45Bsfaj3F8Dsa2B/w/+nZ+5EEN/ZwAAAABJRU5ErkJggg==";var nfe=()=>v.createElement(a8t,{src:wMe,alt:"Oops"}),a8t=In.img`
  width: 160px;
  height: 110px;
  padding: 5px;
`;var jW=()=>{let n=nM();return console.error(n),v.createElement(c8t,null,v.createElement(nfe,null),v.createElement(u8t,null,"Oops!"),v.createElement(l8t,null,v.createElement("div",null,"Something went wrong."),v.createElement("div",null,"Please reload.")))},u8t=In.div`
  font-weight: bold;
  font-size: 18pt;
  line-height: 1.6em;
`,l8t=In.div`
  font-size: 14pt;
  display: flex;
  flex-direction: column;
  align-items: center;
`,c8t=In.div`
  display: flex;
  width: 100vw;
  height: 100vh;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  color: #5f6368;
`;var f8t=new DJ,d8t=B1e([{path:"/:appId",element:r3.default.createElement(kN,null),errorElement:r3.default.createElement(jW,null)},{path:"*",element:r3.default.createElement(kN,null),errorElement:r3.default.createElement(jW,null)}]);AMe.default.render(r3.default.createElement(r3.default.StrictMode,null,r3.default.createElement(LJ,{client:f8t},r3.default.createElement(GJ,{router:d8t}))),document.getElementById("root"));Mpe();})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**
 * @remix-run/router v1.0.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/**
 * React Router DOM v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/**
 * React Router v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! moment.js
//! momentjs.com
//! version : 2.29.4
