(()=>{var ZBe=Object.create;var Sk=Object.defineProperty;var eje=Object.getOwnPropertyDescriptor;var tje=Object.getOwnPropertyNames;var nje=Object.getPrototypeOf,rje=Object.prototype.hasOwnProperty;var r0e=n=>Sk(n,"__esModule",{value:!0});var wk=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var KG=(n,e)=>()=>(n&&(e=n(n=0)),e);var Ae=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),JG=(n,e)=>{for(var t in e)Sk(n,t,{get:e[t],enumerable:!0})},i0e=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of tje(e))!rje.call(n,i)&&(t||i!=="default")&&Sk(n,i,{get:()=>e[i],enumerable:!(r=eje(e,i))||r.enumerable});return n},fr=(n,e)=>i0e(r0e(Sk(n!=null?ZBe(nje(n)):{},"default",!e&&n&&n.__esModule?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n),ije=(n=>(e,t)=>n&&n.get(e)||(t=i0e(r0e({}),e,1),n&&n.set(e,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var XG=Ae((DEt,o0e)=>{"use strict";m();var s0e=Object.getOwnPropertySymbols,sje=Object.prototype.hasOwnProperty,oje=Object.prototype.propertyIsEnumerable;function aje(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function uje(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}o0e.exports=uje()?Object.assign:function(n,e){for(var t,r=aje(n),i,s=1;s<arguments.length;s++){t=Object(arguments[s]);for(var o in t)sje.call(t,o)&&(r[o]=t[o]);if(s0e){i=s0e(t);for(var a=0;a<i.length;a++)oje.call(t,i[a])&&(r[i[a]]=t[i[a]])}}return r}});var E0e=Ae(sa=>{"use strict";m();var ZG=XG(),n7=60103,a0e=60106;sa.Fragment=60107;sa.StrictMode=60108;sa.Profiler=60114;var u0e=60109,l0e=60110,c0e=60112;sa.Suspense=60113;var f0e=60115,d0e=60116;typeof Symbol=="function"&&Symbol.for&&(Rp=Symbol.for,n7=Rp("react.element"),a0e=Rp("react.portal"),sa.Fragment=Rp("react.fragment"),sa.StrictMode=Rp("react.strict_mode"),sa.Profiler=Rp("react.profiler"),u0e=Rp("react.provider"),l0e=Rp("react.context"),c0e=Rp("react.forward_ref"),sa.Suspense=Rp("react.suspense"),f0e=Rp("react.memo"),d0e=Rp("react.lazy"));var Rp,h0e=typeof Symbol=="function"&&Symbol.iterator;function lje(n){return n===null||typeof n!="object"?null:(n=h0e&&n[h0e]||n["@@iterator"],typeof n=="function"?n:null)}function SA(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p0e={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m0e={};function r7(n,e,t){this.props=n,this.context=e,this.refs=m0e,this.updater=t||p0e}r7.prototype.isReactComponent={};r7.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error(SA(85));this.updater.enqueueSetState(this,n,e,"setState")};r7.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function x0e(){}x0e.prototype=r7.prototype;function eY(n,e,t){this.props=n,this.context=e,this.refs=m0e,this.updater=t||p0e}var tY=eY.prototype=new x0e;tY.constructor=eY;ZG(tY,r7.prototype);tY.isPureReactComponent=!0;var nY={current:null},g0e=Object.prototype.hasOwnProperty,y0e={key:!0,ref:!0,__self:!0,__source:!0};function v0e(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)g0e.call(e,r)&&!y0e.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),f=0;f<a;f++)l[f]=arguments[f+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:n7,type:n,key:s,ref:o,props:i,_owner:nY.current}}function cje(n,e){return{$$typeof:n7,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function rY(n){return typeof n=="object"&&n!==null&&n.$$typeof===n7}function fje(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var _0e=/\/+/g;function iY(n,e){return typeof n=="object"&&n!==null&&n.key!=null?fje(""+n.key):e.toString(36)}function Ck(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case n7:case a0e:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+iY(o,0):r,Array.isArray(i)?(t="",n!=null&&(t=n.replace(_0e,"$&/")+"/"),Ck(i,e,t,"",function(f){return f})):i!=null&&(rY(i)&&(i=cje(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(_0e,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+iY(s,a);o+=Ck(s,e,t,l,i)}else if(l=lje(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+iY(s,a++),o+=Ck(s,e,t,l,i);else if(s==="object")throw e=""+n,Error(SA(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e));return o}function Ak(n,e,t){if(n==null)return n;var r=[],i=0;return Ck(n,r,"","",function(s){return e.call(t,s,i++)}),r}function dje(n){if(n._status===-1){var e=n._result;e=e(),n._status=0,n._result=e,e.then(function(t){n._status===0&&(t=t.default,n._status=1,n._result=t)},function(t){n._status===0&&(n._status=2,n._result=t)})}if(n._status===1)return n._result;throw n._result}var b0e={current:null};function xg(){var n=b0e.current;if(n===null)throw Error(SA(321));return n}var hje={ReactCurrentDispatcher:b0e,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:nY,IsSomeRendererActing:{current:!1},assign:ZG};sa.Children={map:Ak,forEach:function(n,e,t){Ak(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Ak(n,function(){e++}),e},toArray:function(n){return Ak(n,function(e){return e})||[]},only:function(n){if(!rY(n))throw Error(SA(143));return n}};sa.Component=r7;sa.PureComponent=eY;sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hje;sa.cloneElement=function(n,e,t){if(n==null)throw Error(SA(267,n));var r=ZG({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=nY.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)g0e.call(e,l)&&!y0e.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var f=0;f<l;f++)a[f]=arguments[f+2];r.children=a}return{$$typeof:n7,type:n.type,key:i,ref:s,props:r,_owner:o}};sa.createContext=function(n,e){return e===void 0&&(e=null),n={$$typeof:l0e,_calculateChangedBits:e,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider={$$typeof:u0e,_context:n},n.Consumer=n};sa.createElement=v0e;sa.createFactory=function(n){var e=v0e.bind(null,n);return e.type=n,e};sa.createRef=function(){return{current:null}};sa.forwardRef=function(n){return{$$typeof:c0e,render:n}};sa.isValidElement=rY;sa.lazy=function(n){return{$$typeof:d0e,_payload:{_status:-1,_result:n},_init:dje}};sa.memo=function(n,e){return{$$typeof:f0e,type:n,compare:e===void 0?null:e}};sa.useCallback=function(n,e){return xg().useCallback(n,e)};sa.useContext=function(n,e){return xg().useContext(n,e)};sa.useDebugValue=function(){};sa.useEffect=function(n,e){return xg().useEffect(n,e)};sa.useImperativeHandle=function(n,e,t){return xg().useImperativeHandle(n,e,t)};sa.useLayoutEffect=function(n,e){return xg().useLayoutEffect(n,e)};sa.useMemo=function(n,e){return xg().useMemo(n,e)};sa.useReducer=function(n,e,t){return xg().useReducer(n,e,t)};sa.useRef=function(n){return xg().useRef(n)};sa.useState=function(n){return xg().useState(n)};sa.version="17.0.2"});var Fr=Ae((REt,S0e)=>{"use strict";m();S0e.exports=E0e()});var v,m=KG(()=>{v=fr(Fr())});var D0e=Ae(wa=>{"use strict";m();var i7,wA,Tk,sY;typeof performance=="object"&&typeof performance.now=="function"?(w0e=performance,wa.unstable_now=function(){return w0e.now()}):(oY=Date,C0e=oY.now(),wa.unstable_now=function(){return oY.now()-C0e});var w0e,oY,C0e;typeof window=="undefined"||typeof MessageChannel!="function"?(s7=null,aY=null,uY=function(){if(s7!==null)try{var n=wa.unstable_now();s7(!0,n),s7=null}catch(e){throw setTimeout(uY,0),e}},i7=function(n){s7!==null?setTimeout(i7,0,n):(s7=n,setTimeout(uY,0))},wA=function(n,e){aY=setTimeout(n,e)},Tk=function(){clearTimeout(aY)},wa.unstable_shouldYield=function(){return!1},sY=wa.unstable_forceFrameRate=function(){}):(A0e=window.setTimeout,T0e=window.clearTimeout,typeof console!="undefined"&&(F0e=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof F0e!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),CA=!1,AA=null,Fk=-1,lY=5,cY=0,wa.unstable_shouldYield=function(){return wa.unstable_now()>=cY},sY=function(){},wa.unstable_forceFrameRate=function(n){0>n||125<n?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):lY=0<n?Math.floor(1e3/n):5},fY=new MessageChannel,Dk=fY.port2,fY.port1.onmessage=function(){if(AA!==null){var n=wa.unstable_now();cY=n+lY;try{AA(!0,n)?Dk.postMessage(null):(CA=!1,AA=null)}catch(e){throw Dk.postMessage(null),e}}else CA=!1},i7=function(n){AA=n,CA||(CA=!0,Dk.postMessage(null))},wA=function(n,e){Fk=A0e(function(){n(wa.unstable_now())},e)},Tk=function(){T0e(Fk),Fk=-1});var s7,aY,uY,A0e,T0e,F0e,CA,AA,Fk,lY,cY,fY,Dk;function dY(n,e){var t=n.length;n.push(e);e:for(;;){var r=t-1>>>1,i=n[r];if(i!==void 0&&0<Rk(i,e))n[r]=e,n[t]=i,t=r;else break e}}function um(n){return n=n[0],n===void 0?null:n}function Ok(n){var e=n[0];if(e!==void 0){var t=n.pop();if(t!==e){n[0]=t;e:for(var r=0,i=n.length;r<i;){var s=2*(r+1)-1,o=n[s],a=s+1,l=n[a];if(o!==void 0&&0>Rk(o,t))l!==void 0&&0>Rk(l,o)?(n[r]=l,n[a]=t,r=a):(n[r]=o,n[s]=t,r=s);else if(l!==void 0&&0>Rk(l,t))n[r]=l,n[a]=t,r=a;else break e}}return e}return null}function Rk(n,e){var t=n.sortIndex-e.sortIndex;return t!==0?t:n.id-e.id}var h2=[],T3=[],pje=1,Np=null,w0=3,Nk=!1,v_=!1,TA=!1;function hY(n){for(var e=um(T3);e!==null;){if(e.callback===null)Ok(T3);else if(e.startTime<=n)Ok(T3),e.sortIndex=e.expirationTime,dY(h2,e);else break;e=um(T3)}}function pY(n){if(TA=!1,hY(n),!v_)if(um(h2)!==null)v_=!0,i7(mY);else{var e=um(T3);e!==null&&wA(pY,e.startTime-n)}}function mY(n,e){v_=!1,TA&&(TA=!1,Tk()),Nk=!0;var t=w0;try{for(hY(e),Np=um(h2);Np!==null&&(!(Np.expirationTime>e)||n&&!wa.unstable_shouldYield());){var r=Np.callback;if(typeof r=="function"){Np.callback=null,w0=Np.priorityLevel;var i=r(Np.expirationTime<=e);e=wa.unstable_now(),typeof i=="function"?Np.callback=i:Np===um(h2)&&Ok(h2),hY(e)}else Ok(h2);Np=um(h2)}if(Np!==null)var s=!0;else{var o=um(T3);o!==null&&wA(pY,o.startTime-e),s=!1}return s}finally{Np=null,w0=t,Nk=!1}}var mje=sY;wa.unstable_IdlePriority=5;wa.unstable_ImmediatePriority=1;wa.unstable_LowPriority=4;wa.unstable_NormalPriority=3;wa.unstable_Profiling=null;wa.unstable_UserBlockingPriority=2;wa.unstable_cancelCallback=function(n){n.callback=null};wa.unstable_continueExecution=function(){v_||Nk||(v_=!0,i7(mY))};wa.unstable_getCurrentPriorityLevel=function(){return w0};wa.unstable_getFirstCallbackNode=function(){return um(h2)};wa.unstable_next=function(n){switch(w0){case 1:case 2:case 3:var e=3;break;default:e=w0}var t=w0;w0=e;try{return n()}finally{w0=t}};wa.unstable_pauseExecution=function(){};wa.unstable_requestPaint=mje;wa.unstable_runWithPriority=function(n,e){switch(n){case 1:case 2:case 3:case 4:case 5:break;default:n=3}var t=w0;w0=n;try{return e()}finally{w0=t}};wa.unstable_scheduleCallback=function(n,e,t){var r=wa.unstable_now();switch(typeof t=="object"&&t!==null?(t=t.delay,t=typeof t=="number"&&0<t?r+t:r):t=r,n){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=t+i,n={id:pje++,callback:e,priorityLevel:n,startTime:t,expirationTime:i,sortIndex:-1},t>r?(n.sortIndex=t,dY(T3,n),um(h2)===null&&n===um(T3)&&(TA?Tk():TA=!0,wA(pY,t-r))):(n.sortIndex=i,dY(h2,n),v_||Nk||(v_=!0,i7(mY))),n};wa.unstable_wrapCallback=function(n){var e=w0;return function(){var t=w0;w0=e;try{return n.apply(this,arguments)}finally{w0=t}}}});var R0e=Ae((kEt,O0e)=>{"use strict";m();O0e.exports=D0e()});var gpe=Ae(Bp=>{"use strict";m();var Lk=Fr(),qu=XG(),xf=R0e();function oi(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Lk)throw Error(oi(227));var N0e=new Set,FA={};function __(n,e){o7(n,e),o7(n+"Capture",e)}function o7(n,e){for(FA[n]=e,n=0;n<e.length;n++)N0e.add(e[n])}var gg=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),xje=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,L0e=Object.prototype.hasOwnProperty,k0e={},I0e={};function gje(n){return L0e.call(I0e,n)?!0:L0e.call(k0e,n)?!1:xje.test(n)?I0e[n]=!0:(k0e[n]=!0,!1)}function yje(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function vje(n,e,t,r){if(e===null||typeof e=="undefined"||yje(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dd(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var $f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){$f[n]=new dd(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];$f[e]=new dd(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){$f[n]=new dd(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){$f[n]=new dd(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){$f[n]=new dd(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){$f[n]=new dd(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){$f[n]=new dd(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){$f[n]=new dd(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){$f[n]=new dd(n,5,!1,n.toLowerCase(),null,!1,!1)});var xY=/[\-:]([a-z])/g;function gY(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(xY,gY);$f[e]=new dd(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(xY,gY);$f[e]=new dd(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(xY,gY);$f[e]=new dd(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){$f[n]=new dd(n,1,!1,n.toLowerCase(),null,!1,!1)});$f.xlinkHref=new dd("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){$f[n]=new dd(n,1,!1,n.toLowerCase(),null,!0,!0)});function yY(n,e,t,r){var i=$f.hasOwnProperty(e)?$f[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(vje(e,t,i,r)&&(t=null),r||i===null?gje(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var b_=Lk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,DA=60103,E_=60106,F3=60107,vY=60108,OA=60114,_Y=60109,bY=60110,kk=60112,RA=60113,Ik=60120,Mk=60115,EY=60116,SY=60121,wY=60128,M0e=60129,CY=60130,AY=60131;typeof Symbol=="function"&&Symbol.for&&($c=Symbol.for,DA=$c("react.element"),E_=$c("react.portal"),F3=$c("react.fragment"),vY=$c("react.strict_mode"),OA=$c("react.profiler"),_Y=$c("react.provider"),bY=$c("react.context"),kk=$c("react.forward_ref"),RA=$c("react.suspense"),Ik=$c("react.suspense_list"),Mk=$c("react.memo"),EY=$c("react.lazy"),SY=$c("react.block"),$c("react.scope"),wY=$c("react.opaque.id"),M0e=$c("react.debug_trace_mode"),CY=$c("react.offscreen"),AY=$c("react.legacy_hidden"));var $c,P0e=typeof Symbol=="function"&&Symbol.iterator;function NA(n){return n===null||typeof n!="object"?null:(n=P0e&&n[P0e]||n["@@iterator"],typeof n=="function"?n:null)}var TY;function LA(n){if(TY===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);TY=e&&e[1]||""}return`
`+TY+n}var FY=!1;function Pk(n,e){if(!n||FY)return"";FY=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(n,[],e)}else{try{e.call()}catch(l){r=l}n.call(e.prototype)}else{try{throw Error()}catch(l){r=l}n()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=a);break}}}finally{FY=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?LA(n):""}function _je(n){switch(n.tag){case 5:return LA(n.type);case 16:return LA("Lazy");case 13:return LA("Suspense");case 19:return LA("SuspenseList");case 0:case 2:case 15:return n=Pk(n.type,!1),n;case 11:return n=Pk(n.type.render,!1),n;case 22:return n=Pk(n.type._render,!1),n;case 1:return n=Pk(n.type,!0),n;default:return""}}function a7(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case F3:return"Fragment";case E_:return"Portal";case OA:return"Profiler";case vY:return"StrictMode";case RA:return"Suspense";case Ik:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case bY:return(n.displayName||"Context")+".Consumer";case _Y:return(n._context.displayName||"Context")+".Provider";case kk:var e=n.render;return e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Mk:return a7(n.type);case SY:return a7(n._render);case EY:e=n._payload,n=n._init;try{return a7(n(e))}catch{}}return null}function D3(n){switch(typeof n){case"boolean":case"number":case"object":case"string":case"undefined":return n;default:return""}}function B0e(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bje(n){var e=B0e(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Bk(n){n._valueTracker||(n._valueTracker=bje(n))}function j0e(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=B0e(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function jk(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch{return n.body}}function DY(n,e){var t=e.checked;return qu({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function q0e(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=D3(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function U0e(n,e){e=e.checked,e!=null&&yY(n,"checked",e,!1)}function OY(n,e){U0e(n,e);var t=D3(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?RY(n,e.type,t):e.hasOwnProperty("defaultValue")&&RY(n,e.type,D3(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function $0e(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function RY(n,e,t){(e!=="number"||jk(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}function Eje(n){var e="";return Lk.Children.forEach(n,function(t){t!=null&&(e+=t)}),e}function NY(n,e){return n=qu({children:void 0},e),(e=Eje(e.children))&&(n.children=e),n}function u7(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+D3(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function LY(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oi(91));return qu({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function z0e(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(oi(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(oi(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:D3(t)}}function H0e(n,e){var t=D3(e.value),r=D3(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function V0e(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}var kY={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function W0e(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function IY(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?W0e(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var qk,Q0e=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!==kY.svg||"innerHTML"in n)n.innerHTML=e;else{for(qk=qk||document.createElement("div"),qk.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qk.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function kA(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var IA={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sje=["Webkit","ms","Moz","O"];Object.keys(IA).forEach(function(n){Sje.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),IA[e]=IA[n]})});function G0e(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||IA.hasOwnProperty(n)&&IA[n]?(""+e).trim():e+"px"}function Y0e(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=G0e(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var wje=qu({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function MY(n,e){if(e){if(wje[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oi(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oi(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(oi(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oi(62))}}function PY(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function BY(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var jY=null,l7=null,c7=null;function K0e(n){if(n=ZA(n)){if(typeof jY!="function")throw Error(oi(280));var e=n.stateNode;e&&(e=aI(e),jY(n.stateNode,n.type,e))}}function J0e(n){l7?c7?c7.push(n):c7=[n]:l7=n}function X0e(){if(l7){var n=l7,e=c7;if(c7=l7=null,K0e(n),e)for(n=0;n<e.length;n++)K0e(e[n])}}function qY(n,e){return n(e)}function Z0e(n,e,t,r,i){return n(e,t,r,i)}function UY(){}var ede=qY,S_=!1,$Y=!1;function zY(){(l7!==null||c7!==null)&&(UY(),X0e())}function Cje(n,e,t){if($Y)return n(e,t);$Y=!0;try{return ede(n,e,t)}finally{$Y=!1,zY()}}function MA(n,e){var t=n.stateNode;if(t===null)return null;var r=aI(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(oi(231,e,typeof t));return t}var HY=!1;if(gg)try{f7={},Object.defineProperty(f7,"passive",{get:function(){HY=!0}}),window.addEventListener("test",f7,f7),window.removeEventListener("test",f7,f7)}catch{HY=!1}var f7;function Aje(n,e,t,r,i,s,o,a,l){var f=Array.prototype.slice.call(arguments,3);try{e.apply(t,f)}catch(p){this.onError(p)}}var PA=!1,Uk=null,$k=!1,VY=null,Tje={onError:function(n){PA=!0,Uk=n}};function Fje(n,e,t,r,i,s,o,a,l){PA=!1,Uk=null,Aje.apply(Tje,arguments)}function Dje(n,e,t,r,i,s,o,a,l){if(Fje.apply(this,arguments),PA){if(PA){var f=Uk;PA=!1,Uk=null}else throw Error(oi(198));$k||($k=!0,VY=f)}}function w_(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&1026)!==0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function tde(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function nde(n){if(w_(n)!==n)throw Error(oi(188))}function Oje(n){var e=n.alternate;if(!e){if(e=w_(n),e===null)throw Error(oi(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return nde(i),n;if(s===r)return nde(i),e;s=s.sibling}throw Error(oi(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(oi(189))}}if(t.alternate!==r)throw Error(oi(190))}if(t.tag!==3)throw Error(oi(188));return t.stateNode.current===t?n:e}function rde(n){if(n=Oje(n),!n)return null;for(var e=n;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===n)break;for(;!e.sibling;){if(!e.return||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function ide(n,e){for(var t=n.alternate;e!==null;){if(e===n||e===t)return!0;e=e.return}return!1}var sde,WY,ode,ade,QY=!1,p2=[],O3=null,R3=null,N3=null,BA=new Map,jA=new Map,qA=[],ude="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function GY(n,e,t,r,i){return{blockedOn:n,domEventName:e,eventSystemFlags:t|16,nativeEvent:i,targetContainers:[r]}}function lde(n,e){switch(n){case"focusin":case"focusout":O3=null;break;case"dragenter":case"dragleave":R3=null;break;case"mouseover":case"mouseout":N3=null;break;case"pointerover":case"pointerout":BA.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jA.delete(e.pointerId)}}function UA(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n=GY(e,t,r,i,s),e!==null&&(e=ZA(e),e!==null&&WY(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function Rje(n,e,t,r,i){switch(e){case"focusin":return O3=UA(O3,n,e,t,r,i),!0;case"dragenter":return R3=UA(R3,n,e,t,r,i),!0;case"mouseover":return N3=UA(N3,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return BA.set(s,UA(BA.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,jA.set(s,UA(jA.get(s)||null,n,e,t,r,i)),!0}return!1}function Nje(n){var e=C_(n.target);if(e!==null){var t=w_(e);if(t!==null){if(e=t.tag,e===13){if(e=tde(t),e!==null){n.blockedOn=e,ade(n.lanePriority,function(){xf.unstable_runWithPriority(n.priority,function(){ode(t)})});return}}else if(e===3&&t.stateNode.hydrate){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function zk(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=eK(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null)return e=ZA(t),e!==null&&WY(e),n.blockedOn=t,!1;e.shift()}return!0}function cde(n,e,t){zk(n)&&t.delete(e)}function Lje(){for(QY=!1;0<p2.length;){var n=p2[0];if(n.blockedOn!==null){n=ZA(n.blockedOn),n!==null&&sde(n);break}for(var e=n.targetContainers;0<e.length;){var t=eK(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null){n.blockedOn=t;break}e.shift()}n.blockedOn===null&&p2.shift()}O3!==null&&zk(O3)&&(O3=null),R3!==null&&zk(R3)&&(R3=null),N3!==null&&zk(N3)&&(N3=null),BA.forEach(cde),jA.forEach(cde)}function $A(n,e){n.blockedOn===e&&(n.blockedOn=null,QY||(QY=!0,xf.unstable_scheduleCallback(xf.unstable_NormalPriority,Lje)))}function fde(n){function e(i){return $A(i,n)}if(0<p2.length){$A(p2[0],n);for(var t=1;t<p2.length;t++){var r=p2[t];r.blockedOn===n&&(r.blockedOn=null)}}for(O3!==null&&$A(O3,n),R3!==null&&$A(R3,n),N3!==null&&$A(N3,n),BA.forEach(e),jA.forEach(e),t=0;t<qA.length;t++)r=qA[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<qA.length&&(t=qA[0],t.blockedOn===null);)Nje(t),t.blockedOn===null&&qA.shift()}function Hk(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var d7={animationend:Hk("Animation","AnimationEnd"),animationiteration:Hk("Animation","AnimationIteration"),animationstart:Hk("Animation","AnimationStart"),transitionend:Hk("Transition","TransitionEnd")},YY={},dde={};gg&&(dde=document.createElement("div").style,"AnimationEvent"in window||(delete d7.animationend.animation,delete d7.animationiteration.animation,delete d7.animationstart.animation),"TransitionEvent"in window||delete d7.transitionend.transition);function Vk(n){if(YY[n])return YY[n];if(!d7[n])return n;var e=d7[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in dde)return YY[n]=e[t];return n}var hde=Vk("animationend"),pde=Vk("animationiteration"),mde=Vk("animationstart"),xde=Vk("transitionend"),gde=new Map,KY=new Map,kje=["abort","abort",hde,"animationEnd",pde,"animationIteration",mde,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",xde,"transitionEnd","waiting","waiting"];function JY(n,e){for(var t=0;t<n.length;t+=2){var r=n[t],i=n[t+1];i="on"+(i[0].toUpperCase()+i.slice(1)),KY.set(r,e),gde.set(r,i),__(i,[r])}}var Ije=xf.unstable_now;Ije();var ru=8;function h7(n){if((1&n)!==0)return ru=15,1;if((2&n)!==0)return ru=14,2;if((4&n)!==0)return ru=13,4;var e=24&n;return e!==0?(ru=12,e):(n&32)!==0?(ru=11,32):(e=192&n,e!==0?(ru=10,e):(n&256)!==0?(ru=9,256):(e=3584&n,e!==0?(ru=8,e):(n&4096)!==0?(ru=7,4096):(e=4186112&n,e!==0?(ru=6,e):(e=62914560&n,e!==0?(ru=5,e):n&67108864?(ru=4,67108864):(n&134217728)!==0?(ru=3,134217728):(e=805306368&n,e!==0?(ru=2,e):(1073741824&n)!==0?(ru=1,1073741824):(ru=8,n))))))}function Mje(n){switch(n){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Pje(n){switch(n){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(oi(358,n))}}function zA(n,e){var t=n.pendingLanes;if(t===0)return ru=0;var r=0,i=0,s=n.expiredLanes,o=n.suspendedLanes,a=n.pingedLanes;if(s!==0)r=s,i=ru=15;else if(s=t&134217727,s!==0){var l=s&~o;l!==0?(r=h7(l),i=ru):(a&=s,a!==0&&(r=h7(a),i=ru))}else s=t&~o,s!==0?(r=h7(s),i=ru):a!==0&&(r=h7(a),i=ru);if(r===0)return 0;if(r=31-L3(r),r=t&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&o)===0){if(h7(e),i<=ru)return e;ru=i}if(e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-L3(e),i=1<<t,r|=n[t],e&=~i;return r}function yde(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Wk(n,e){switch(n){case 15:return 1;case 14:return 2;case 12:return n=p7(24&~e),n===0?Wk(10,e):n;case 10:return n=p7(192&~e),n===0?Wk(8,e):n;case 8:return n=p7(3584&~e),n===0&&(n=p7(4186112&~e),n===0&&(n=512)),n;case 2:return e=p7(805306368&~e),e===0&&(e=268435456),e}throw Error(oi(358,n))}function p7(n){return n&-n}function XY(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Qk(n,e,t){n.pendingLanes|=e;var r=e-1;n.suspendedLanes&=r,n.pingedLanes&=r,n=n.eventTimes,e=31-L3(e),n[e]=t}var L3=Math.clz32?Math.clz32:qje,Bje=Math.log,jje=Math.LN2;function qje(n){return n===0?32:31-(Bje(n)/jje|0)|0}var Uje=xf.unstable_UserBlockingPriority,$je=xf.unstable_runWithPriority,Gk=!0;function zje(n,e,t,r){S_||UY();var i=ZY,s=S_;S_=!0;try{Z0e(i,n,e,t,r)}finally{(S_=s)||zY()}}function Hje(n,e,t,r){$je(Uje,ZY.bind(null,n,e,t,r))}function ZY(n,e,t,r){if(Gk){var i;if((i=(e&4)===0)&&0<p2.length&&-1<ude.indexOf(n))n=GY(null,n,e,t,r),p2.push(n);else{var s=eK(n,e,t,r);if(s===null)i&&lde(n,r);else{if(i){if(-1<ude.indexOf(n)){n=GY(s,n,e,t,r),p2.push(n);return}if(Rje(s,n,e,t,r))return;lde(n,r)}Wde(n,e,r,null,t)}}}}function eK(n,e,t,r){var i=BY(r);if(i=C_(i),i!==null){var s=w_(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=tde(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Wde(n,e,r,i,t),null}var k3=null,tK=null,Yk=null;function vde(){if(Yk)return Yk;var n,e=tK,t=e.length,r,i="value"in k3?k3.value:k3.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return Yk=i.slice(n,1<r?1-r:void 0)}function Kk(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Jk(){return!0}function _de(){return!1}function qh(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Jk:_de,this.isPropagationStopped=_de,this}return qu(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Jk)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Jk)},persist:function(){},isPersistent:Jk}),e}var m7={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nK=qh(m7),HA=qu({},m7,{view:0,detail:0}),Vje=qh(HA),rK,iK,VA,Xk=qu({},HA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oK,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==VA&&(VA&&n.type==="mousemove"?(rK=n.screenX-VA.screenX,iK=n.screenY-VA.screenY):iK=rK=0,VA=n),rK)},movementY:function(n){return"movementY"in n?n.movementY:iK}}),bde=qh(Xk),Wje=qu({},Xk,{dataTransfer:0}),Qje=qh(Wje),Gje=qu({},HA,{relatedTarget:0}),sK=qh(Gje),Yje=qu({},m7,{animationName:0,elapsedTime:0,pseudoElement:0}),Kje=qh(Yje),Jje=qu({},m7,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Xje=qh(Jje),Zje=qu({},m7,{data:0}),Ede=qh(Zje),eqe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tqe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nqe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rqe(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=nqe[n])?!!e[n]:!1}function oK(){return rqe}var iqe=qu({},HA,{key:function(n){if(n.key){var e=eqe[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Kk(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?tqe[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oK,charCode:function(n){return n.type==="keypress"?Kk(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Kk(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),sqe=qh(iqe),oqe=qu({},Xk,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sde=qh(oqe),aqe=qu({},HA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oK}),uqe=qh(aqe),lqe=qu({},m7,{propertyName:0,elapsedTime:0,pseudoElement:0}),cqe=qh(lqe),fqe=qu({},Xk,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),dqe=qh(fqe),hqe=[9,13,27,32],aK=gg&&"CompositionEvent"in window,WA=null;gg&&"documentMode"in document&&(WA=document.documentMode);var pqe=gg&&"TextEvent"in window&&!WA,wde=gg&&(!aK||WA&&8<WA&&11>=WA),Cde=String.fromCharCode(32),Ade=!1;function Tde(n,e){switch(n){case"keyup":return hqe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fde(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var x7=!1;function mqe(n,e){switch(n){case"compositionend":return Fde(e);case"keypress":return e.which!==32?null:(Ade=!0,Cde);case"textInput":return n=e.data,n===Cde&&Ade?null:n;default:return null}}function xqe(n,e){if(x7)return n==="compositionend"||!aK&&Tde(n,e)?(n=vde(),Yk=tK=k3=null,x7=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wde&&e.locale!=="ko"?null:e.data;default:return null}}var gqe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dde(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!gqe[n.type]:e==="textarea"}function Ode(n,e,t,r){J0e(r),e=rI(e,"onChange"),0<e.length&&(t=new nK("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var QA=null,GA=null;function yqe(n){Ude(n,0)}function Zk(n){var e=b7(n);if(j0e(e))return n}function vqe(n,e){if(n==="change")return e}var Rde=!1;gg&&(gg?(tI="oninput"in document,tI||(uK=document.createElement("div"),uK.setAttribute("oninput","return;"),tI=typeof uK.oninput=="function"),eI=tI):eI=!1,Rde=eI&&(!document.documentMode||9<document.documentMode));var eI,tI,uK;function Nde(){QA&&(QA.detachEvent("onpropertychange",Lde),GA=QA=null)}function Lde(n){if(n.propertyName==="value"&&Zk(GA)){var e=[];if(Ode(e,GA,n,BY(n)),n=yqe,S_)n(e);else{S_=!0;try{qY(n,e)}finally{S_=!1,zY()}}}}function _qe(n,e,t){n==="focusin"?(Nde(),QA=e,GA=t,QA.attachEvent("onpropertychange",Lde)):n==="focusout"&&Nde()}function bqe(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Zk(GA)}function Eqe(n,e){if(n==="click")return Zk(e)}function Sqe(n,e){if(n==="input"||n==="change")return Zk(e)}function wqe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Lp=typeof Object.is=="function"?Object.is:wqe,Cqe=Object.prototype.hasOwnProperty;function YA(n,e){if(Lp(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!Cqe.call(e,t[r])||!Lp(n[t[r]],e[t[r]]))return!1;return!0}function kde(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ide(n,e){var t=kde(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=kde(t)}}function Mde(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Mde(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Pde(){for(var n=window,e=jk();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=jk(n.document)}return e}function lK(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}var Aqe=gg&&"documentMode"in document&&11>=document.documentMode,g7=null,cK=null,KA=null,fK=!1;function Bde(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;fK||g7==null||g7!==jk(r)||(r=g7,"selectionStart"in r&&lK(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),KA&&YA(KA,r)||(KA=r,r=rI(cK,"onSelect"),0<r.length&&(e=new nK("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=g7)))}JY("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);JY("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);JY(kje,2);for(dK="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),nI=0;nI<dK.length;nI++)KY.set(dK[nI],0);var dK,nI;o7("onMouseEnter",["mouseout","mouseover"]);o7("onMouseLeave",["mouseout","mouseover"]);o7("onPointerEnter",["pointerout","pointerover"]);o7("onPointerLeave",["pointerout","pointerover"]);__("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));__("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));__("onBeforeInput",["compositionend","keypress","textInput","paste"]);__("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));__("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));__("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var JA="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jde=new Set("cancel close invalid load scroll toggle".split(" ").concat(JA));function qde(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,Dje(r,e,void 0,n),n.currentTarget=null}function Ude(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,f=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;qde(i,a,f),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,f=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;qde(i,a,f),s=l}}}if($k)throw n=VY,$k=!1,VY=null,n}function vu(n,e){var t=Xde(e),r=n+"__bubble";t.has(r)||(Vde(e,n,2,!1),t.add(r))}var $de="_reactListening"+Math.random().toString(36).slice(2);function zde(n){n[$de]||(n[$de]=!0,N0e.forEach(function(e){jde.has(e)||Hde(e,!1,n,null),Hde(e,!0,n,null)}))}function Hde(n,e,t,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=t;if(n==="selectionchange"&&t.nodeType!==9&&(s=t.ownerDocument),r!==null&&!e&&jde.has(n)){if(n!=="scroll")return;i|=2,s=r}var o=Xde(s),a=n+"__"+(e?"capture":"bubble");o.has(a)||(e&&(i|=4),Vde(s,n,i,e),o.add(a))}function Vde(n,e,t,r){var i=KY.get(e);switch(i===void 0?2:i){case 0:i=zje;break;case 1:i=Hje;break;default:i=ZY}t=i.bind(null,e,t,n),i=void 0,!HY||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Wde(n,e,t,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=C_(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Cje(function(){var f=s,p=BY(t),_=[];e:{var E=gde.get(n);if(E!==void 0){var O=nK,R=n;switch(n){case"keypress":if(Kk(t)===0)break e;case"keydown":case"keyup":O=sqe;break;case"focusin":R="focus",O=sK;break;case"focusout":R="blur",O=sK;break;case"beforeblur":case"afterblur":O=sK;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=bde;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=Qje;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=uqe;break;case hde:case pde:case mde:O=Kje;break;case xde:O=cqe;break;case"scroll":O=Vje;break;case"wheel":O=dqe;break;case"copy":case"cut":case"paste":O=Xje;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=Sde}var q=(e&4)!==0,z=!q&&n==="scroll",L=q?E!==null?E+"Capture":null:E;q=[];for(var B=f,P;B!==null;){P=B;var G=P.stateNode;if(P.tag===5&&G!==null&&(P=G,L!==null&&(G=MA(B,L),G!=null&&q.push(XA(B,G,P)))),z)break;B=B.return}0<q.length&&(E=new O(E,R,null,t,p),_.push({event:E,listeners:q}))}}if((e&7)===0){e:{if(E=n==="mouseover"||n==="pointerover",O=n==="mouseout"||n==="pointerout",E&&(e&16)===0&&(R=t.relatedTarget||t.fromElement)&&(C_(R)||R[_7]))break e;if((O||E)&&(E=p.window===p?p:(E=p.ownerDocument)?E.defaultView||E.parentWindow:window,O?(R=t.relatedTarget||t.toElement,O=f,R=R?C_(R):null,R!==null&&(z=w_(R),R!==z||R.tag!==5&&R.tag!==6)&&(R=null)):(O=null,R=f),O!==R)){if(q=bde,G="onMouseLeave",L="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(q=Sde,G="onPointerLeave",L="onPointerEnter",B="pointer"),z=O==null?E:b7(O),P=R==null?E:b7(R),E=new q(G,B+"leave",O,t,p),E.target=z,E.relatedTarget=P,G=null,C_(p)===f&&(q=new q(L,B+"enter",R,t,p),q.target=P,q.relatedTarget=z,G=q),z=G,O&&R)t:{for(q=O,L=R,B=0,P=q;P;P=y7(P))B++;for(P=0,G=L;G;G=y7(G))P++;for(;0<B-P;)q=y7(q),B--;for(;0<P-B;)L=y7(L),P--;for(;B--;){if(q===L||L!==null&&q===L.alternate)break t;q=y7(q),L=y7(L)}q=null}else q=null;O!==null&&Qde(_,E,O,q,!1),R!==null&&z!==null&&Qde(_,z,R,q,!0)}}e:{if(E=f?b7(f):window,O=E.nodeName&&E.nodeName.toLowerCase(),O==="select"||O==="input"&&E.type==="file")var ue=vqe;else if(Dde(E))if(Rde)ue=Sqe;else{ue=bqe;var I=_qe}else(O=E.nodeName)&&O.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(ue=Eqe);if(ue&&(ue=ue(n,f))){Ode(_,ue,t,p);break e}I&&I(n,E,f),n==="focusout"&&(I=E._wrapperState)&&I.controlled&&E.type==="number"&&RY(E,"number",E.value)}switch(I=f?b7(f):window,n){case"focusin":(Dde(I)||I.contentEditable==="true")&&(g7=I,cK=f,KA=null);break;case"focusout":KA=cK=g7=null;break;case"mousedown":fK=!0;break;case"contextmenu":case"mouseup":case"dragend":fK=!1,Bde(_,t,p);break;case"selectionchange":if(Aqe)break;case"keydown":case"keyup":Bde(_,t,p)}var J;if(aK)e:{switch(n){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else x7?Tde(n,t)&&(he="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(he="onCompositionStart");he&&(wde&&t.locale!=="ko"&&(x7||he!=="onCompositionStart"?he==="onCompositionEnd"&&x7&&(J=vde()):(k3=p,tK="value"in k3?k3.value:k3.textContent,x7=!0)),I=rI(f,he),0<I.length&&(he=new Ede(he,n,null,t,p),_.push({event:he,listeners:I}),J?he.data=J:(J=Fde(t),J!==null&&(he.data=J)))),(J=pqe?mqe(n,t):xqe(n,t))&&(f=rI(f,"onBeforeInput"),0<f.length&&(p=new Ede("onBeforeInput","beforeinput",null,t,p),_.push({event:p,listeners:f}),p.data=J))}Ude(_,e)})}function XA(n,e,t){return{instance:n,listener:e,currentTarget:t}}function rI(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=MA(n,t),s!=null&&r.unshift(XA(n,s,i)),s=MA(n,e),s!=null&&r.push(XA(n,s,i))),n=n.return}return r}function y7(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Qde(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,f=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&f!==null&&(a=f,i?(l=MA(t,s),l!=null&&o.unshift(XA(t,l,a))):i||(l=MA(t,s),l!=null&&o.push(XA(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}function iI(){}var hK=null,pK=null;function Gde(n,e){switch(n){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function mK(n,e){return n==="textarea"||n==="option"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yde=typeof setTimeout=="function"?setTimeout:void 0,Tqe=typeof clearTimeout=="function"?clearTimeout:void 0;function xK(n){n.nodeType===1?n.textContent="":n.nodeType===9&&(n=n.body,n!=null&&(n.textContent=""))}function v7(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break}return n}function Kde(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var gK=0;function Fqe(n){return{$$typeof:wY,toString:n,valueOf:n}}var sI=Math.random().toString(36).slice(2),I3="__reactFiber$"+sI,oI="__reactProps$"+sI,_7="__reactContainer$"+sI,Jde="__reactEvents$"+sI;function C_(n){var e=n[I3];if(e)return e;for(var t=n.parentNode;t;){if(e=t[_7]||t[I3]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Kde(n);n!==null;){if(t=n[I3])return t;n=Kde(n)}return e}n=t,t=n.parentNode}return null}function ZA(n){return n=n[I3]||n[_7],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function b7(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(oi(33))}function aI(n){return n[oI]||null}function Xde(n){var e=n[Jde];return e===void 0&&(e=n[Jde]=new Set),e}var yK=[],E7=-1;function M3(n){return{current:n}}function _u(n){0>E7||(n.current=yK[E7],yK[E7]=null,E7--)}function Rl(n,e){E7++,yK[E7]=n.current,n.current=e}var P3={},C0=M3(P3),th=M3(!1),A_=P3;function S7(n,e){var t=n.type.contextTypes;if(!t)return P3;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function nh(n){return n=n.childContextTypes,n!=null}function uI(){_u(th),_u(C0)}function Zde(n,e,t){if(C0.current!==P3)throw Error(oi(168));Rl(C0,e),Rl(th,t)}function ehe(n,e,t){var r=n.stateNode;if(n=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in n))throw Error(oi(108,a7(e)||"Unknown",i));return qu({},t,r)}function lI(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||P3,A_=C0.current,Rl(C0,n),Rl(th,th.current),!0}function the(n,e,t){var r=n.stateNode;if(!r)throw Error(oi(169));t?(n=ehe(n,e,A_),r.__reactInternalMemoizedMergedChildContext=n,_u(th),_u(C0),Rl(C0,n)):_u(th),Rl(th,t)}var vK=null,T_=null,Dqe=xf.unstable_runWithPriority,_K=xf.unstable_scheduleCallback,bK=xf.unstable_cancelCallback,Oqe=xf.unstable_shouldYield,nhe=xf.unstable_requestPaint,EK=xf.unstable_now,Rqe=xf.unstable_getCurrentPriorityLevel,cI=xf.unstable_ImmediatePriority,rhe=xf.unstable_UserBlockingPriority,ihe=xf.unstable_NormalPriority,she=xf.unstable_LowPriority,ohe=xf.unstable_IdlePriority,SK={},Nqe=nhe!==void 0?nhe:function(){},yg=null,fI=null,wK=!1,ahe=EK(),A0=1e4>ahe?EK:function(){return EK()-ahe};function w7(){switch(Rqe()){case cI:return 99;case rhe:return 98;case ihe:return 97;case she:return 96;case ohe:return 95;default:throw Error(oi(332))}}function uhe(n){switch(n){case 99:return cI;case 98:return rhe;case 97:return ihe;case 96:return she;case 95:return ohe;default:throw Error(oi(332))}}function F_(n,e){return n=uhe(n),Dqe(n,e)}function eT(n,e,t){return n=uhe(n),_K(n,e,t)}function m2(){if(fI!==null){var n=fI;fI=null,bK(n)}lhe()}function lhe(){if(!wK&&yg!==null){wK=!0;var n=0;try{var e=yg;F_(99,function(){for(;n<e.length;n++){var t=e[n];do t=t(!0);while(t!==null)}}),yg=null}catch(t){throw yg!==null&&(yg=yg.slice(n+1)),_K(cI,m2),t}finally{wK=!1}}}var Lqe=b_.ReactCurrentBatchConfig;function lm(n,e){if(n&&n.defaultProps){e=qu({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var dI=M3(null),hI=null,C7=null,pI=null;function CK(){pI=C7=hI=null}function AK(n){var e=dI.current;_u(dI),n.type._context._currentValue=e}function che(n,e){for(;n!==null;){var t=n.alternate;if((n.childLanes&e)===e){if(t===null||(t.childLanes&e)===e)break;t.childLanes|=e}else n.childLanes|=e,t!==null&&(t.childLanes|=e);n=n.return}}function A7(n,e){hI=n,pI=C7=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!==0&&(cm=!0),n.firstContext=null)}function kp(n,e){if(pI!==n&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(pI=n,e=1073741823),e={context:n,observedBits:e,next:null},C7===null){if(hI===null)throw Error(oi(308));C7=e,hI.dependencies={lanes:0,firstContext:e,responders:null}}else C7=C7.next=e;return n._currentValue}var B3=!1;function TK(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function fhe(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function j3(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function q3(n,e){if(n=n.updateQueue,n!==null){n=n.shared;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}}function dhe(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function tT(n,e,t,r){var i=n.updateQueue;B3=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,f=l.next;l.next=null,o===null?s=f:o.next=f,o=l;var p=n.alternate;if(p!==null){p=p.updateQueue;var _=p.lastBaseUpdate;_!==o&&(_===null?p.firstBaseUpdate=f:_.next=f,p.lastBaseUpdate=l)}}if(s!==null){_=i.baseState,o=0,p=f=l=null;do{a=s.lane;var E=s.eventTime;if((r&a)===a){p!==null&&(p=p.next={eventTime:E,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var O=n,R=s;switch(a=e,E=t,R.tag){case 1:if(O=R.payload,typeof O=="function"){_=O.call(E,_,a);break e}_=O;break e;case 3:O.flags=O.flags&-4097|64;case 0:if(O=R.payload,a=typeof O=="function"?O.call(E,_,a):O,a==null)break e;_=qu({},_,a);break e;case 2:B3=!0}}s.callback!==null&&(n.flags|=32,a=i.effects,a===null?i.effects=[s]:a.push(s))}else E={eventTime:E,lane:a,tag:s.tag,payload:s.payload,callback:s.callback,next:null},p===null?(f=p=E,l=_):p=p.next=E,o|=a;if(s=s.next,s===null){if(a=i.shared.pending,a===null)break;s=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);p===null&&(l=_),i.baseState=l,i.firstBaseUpdate=f,i.lastBaseUpdate=p,hT|=o,n.lanes=o,n.memoizedState=_}}function hhe(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(oi(191,i));i.call(r)}}}var phe=new Lk.Component().refs;function mI(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:qu({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var xI={isMounted:function(n){return(n=n._reactInternals)?w_(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Uh(),i=z3(n),s=j3(r,i);s.payload=e,t!=null&&(s.callback=t),q3(n,s),H3(n,i,r)},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Uh(),i=z3(n),s=j3(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),q3(n,s),H3(n,i,r)},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Uh(),r=z3(n),i=j3(t,r);i.tag=2,e!=null&&(i.callback=e),q3(n,i),H3(n,r,t)}};function mhe(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!YA(t,r)||!YA(i,s):!0}function xhe(n,e,t){var r=!1,i=P3,s=e.contextType;return typeof s=="object"&&s!==null?s=kp(s):(i=nh(e)?A_:C0.current,r=e.contextTypes,s=(r=r!=null)?S7(n,i):P3),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xI,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function ghe(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&xI.enqueueReplaceState(e,e.state,null)}function FK(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=phe,TK(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=kp(s):(s=nh(e)?A_:C0.current,i.context=S7(n,s)),tT(n,t,i,r),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(mI(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xI.enqueueReplaceState(i,i.state,null),tT(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4)}var gI=Array.isArray;function nT(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(oi(309));var r=t.stateNode}if(!r)throw Error(oi(147,n));var i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===phe&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof n!="string")throw Error(oi(284));if(!t._owner)throw Error(oi(290,n))}return n}function yI(n,e){if(n.type!=="textarea")throw Error(oi(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function yhe(n){function e(z,L){if(n){var B=z.lastEffect;B!==null?(B.nextEffect=L,z.lastEffect=L):z.firstEffect=z.lastEffect=L,L.nextEffect=null,L.flags=8}}function t(z,L){if(!n)return null;for(;L!==null;)e(z,L),L=L.sibling;return null}function r(z,L){for(z=new Map;L!==null;)L.key!==null?z.set(L.key,L):z.set(L.index,L),L=L.sibling;return z}function i(z,L){return z=Q3(z,L),z.index=0,z.sibling=null,z}function s(z,L,B){return z.index=B,n?(B=z.alternate,B!==null?(B=B.index,B<L?(z.flags=2,L):B):(z.flags=2,L)):L}function o(z){return n&&z.alternate===null&&(z.flags=2),z}function a(z,L,B,P){return L===null||L.tag!==6?(L=cJ(B,z.mode,P),L.return=z,L):(L=i(L,B),L.return=z,L)}function l(z,L,B,P){return L!==null&&L.elementType===B.type?(P=i(L,B.props),P.ref=nT(z,L,B),P.return=z,P):(P=MI(B.type,B.key,B.props,null,z.mode,P),P.ref=nT(z,L,B),P.return=z,P)}function f(z,L,B,P){return L===null||L.tag!==4||L.stateNode.containerInfo!==B.containerInfo||L.stateNode.implementation!==B.implementation?(L=fJ(B,z.mode,P),L.return=z,L):(L=i(L,B.children||[]),L.return=z,L)}function p(z,L,B,P,G){return L===null||L.tag!==7?(L=k7(B,z.mode,P,G),L.return=z,L):(L=i(L,B),L.return=z,L)}function _(z,L,B){if(typeof L=="string"||typeof L=="number")return L=cJ(""+L,z.mode,B),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case DA:return B=MI(L.type,L.key,L.props,null,z.mode,B),B.ref=nT(z,null,L),B.return=z,B;case E_:return L=fJ(L,z.mode,B),L.return=z,L}if(gI(L)||NA(L))return L=k7(L,z.mode,B,null),L.return=z,L;yI(z,L)}return null}function E(z,L,B,P){var G=L!==null?L.key:null;if(typeof B=="string"||typeof B=="number")return G!==null?null:a(z,L,""+B,P);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case DA:return B.key===G?B.type===F3?p(z,L,B.props.children,P,G):l(z,L,B,P):null;case E_:return B.key===G?f(z,L,B,P):null}if(gI(B)||NA(B))return G!==null?null:p(z,L,B,P,null);yI(z,B)}return null}function O(z,L,B,P,G){if(typeof P=="string"||typeof P=="number")return z=z.get(B)||null,a(L,z,""+P,G);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case DA:return z=z.get(P.key===null?B:P.key)||null,P.type===F3?p(L,z,P.props.children,G,P.key):l(L,z,P,G);case E_:return z=z.get(P.key===null?B:P.key)||null,f(L,z,P,G)}if(gI(P)||NA(P))return z=z.get(B)||null,p(L,z,P,G,null);yI(L,P)}return null}function R(z,L,B,P){for(var G=null,ue=null,I=L,J=L=0,he=null;I!==null&&J<B.length;J++){I.index>J?(he=I,I=null):he=I.sibling;var ye=E(z,I,B[J],P);if(ye===null){I===null&&(I=he);break}n&&I&&ye.alternate===null&&e(z,I),L=s(ye,L,J),ue===null?G=ye:ue.sibling=ye,ue=ye,I=he}if(J===B.length)return t(z,I),G;if(I===null){for(;J<B.length;J++)I=_(z,B[J],P),I!==null&&(L=s(I,L,J),ue===null?G=I:ue.sibling=I,ue=I);return G}for(I=r(z,I);J<B.length;J++)he=O(I,z,J,B[J],P),he!==null&&(n&&he.alternate!==null&&I.delete(he.key===null?J:he.key),L=s(he,L,J),ue===null?G=he:ue.sibling=he,ue=he);return n&&I.forEach(function(He){return e(z,He)}),G}function q(z,L,B,P){var G=NA(B);if(typeof G!="function")throw Error(oi(150));if(B=G.call(B),B==null)throw Error(oi(151));for(var ue=G=null,I=L,J=L=0,he=null,ye=B.next();I!==null&&!ye.done;J++,ye=B.next()){I.index>J?(he=I,I=null):he=I.sibling;var He=E(z,I,ye.value,P);if(He===null){I===null&&(I=he);break}n&&I&&He.alternate===null&&e(z,I),L=s(He,L,J),ue===null?G=He:ue.sibling=He,ue=He,I=he}if(ye.done)return t(z,I),G;if(I===null){for(;!ye.done;J++,ye=B.next())ye=_(z,ye.value,P),ye!==null&&(L=s(ye,L,J),ue===null?G=ye:ue.sibling=ye,ue=ye);return G}for(I=r(z,I);!ye.done;J++,ye=B.next())ye=O(I,z,J,ye.value,P),ye!==null&&(n&&ye.alternate!==null&&I.delete(ye.key===null?J:ye.key),L=s(ye,L,J),ue===null?G=ye:ue.sibling=ye,ue=ye);return n&&I.forEach(function(at){return e(z,at)}),G}return function(z,L,B,P){var G=typeof B=="object"&&B!==null&&B.type===F3&&B.key===null;G&&(B=B.props.children);var ue=typeof B=="object"&&B!==null;if(ue)switch(B.$$typeof){case DA:e:{for(ue=B.key,G=L;G!==null;){if(G.key===ue){switch(G.tag){case 7:if(B.type===F3){t(z,G.sibling),L=i(G,B.props.children),L.return=z,z=L;break e}break;default:if(G.elementType===B.type){t(z,G.sibling),L=i(G,B.props),L.ref=nT(z,G,B),L.return=z,z=L;break e}}t(z,G);break}else e(z,G);G=G.sibling}B.type===F3?(L=k7(B.props.children,z.mode,P,B.key),L.return=z,z=L):(P=MI(B.type,B.key,B.props,null,z.mode,P),P.ref=nT(z,L,B),P.return=z,z=P)}return o(z);case E_:e:{for(G=B.key;L!==null;){if(L.key===G)if(L.tag===4&&L.stateNode.containerInfo===B.containerInfo&&L.stateNode.implementation===B.implementation){t(z,L.sibling),L=i(L,B.children||[]),L.return=z,z=L;break e}else{t(z,L);break}else e(z,L);L=L.sibling}L=fJ(B,z.mode,P),L.return=z,z=L}return o(z)}if(typeof B=="string"||typeof B=="number")return B=""+B,L!==null&&L.tag===6?(t(z,L.sibling),L=i(L,B),L.return=z,z=L):(t(z,L),L=cJ(B,z.mode,P),L.return=z,z=L),o(z);if(gI(B))return R(z,L,B,P);if(NA(B))return q(z,L,B,P);if(ue&&yI(z,B),typeof B=="undefined"&&!G)switch(z.tag){case 1:case 22:case 0:case 11:case 15:throw Error(oi(152,a7(z.type)||"Component"))}return t(z,L)}}var vI=yhe(!0),vhe=yhe(!1),rT={},x2=M3(rT),iT=M3(rT),sT=M3(rT);function D_(n){if(n===rT)throw Error(oi(174));return n}function DK(n,e){switch(Rl(sT,e),Rl(iT,n),Rl(x2,rT),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:IY(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=IY(e,n)}_u(x2),Rl(x2,e)}function T7(){_u(x2),_u(iT),_u(sT)}function _he(n){D_(sT.current);var e=D_(x2.current),t=IY(e,n.type);e!==t&&(Rl(iT,n),Rl(x2,t))}function OK(n){iT.current===n&&(_u(x2),_u(iT))}var Nl=M3(0);function _I(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vg=null,U3=null,g2=!1;function bhe(n,e){var t=Pp(5,null,null,0);t.elementType="DELETED",t.type="DELETED",t.stateNode=e,t.return=n,t.flags=8,n.lastEffect!==null?(n.lastEffect.nextEffect=t,n.lastEffect=t):n.firstEffect=n.lastEffect=t}function Ehe(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function RK(n){if(g2){var e=U3;if(e){var t=e;if(!Ehe(n,e)){if(e=v7(t.nextSibling),!e||!Ehe(n,e)){n.flags=n.flags&-1025|2,g2=!1,vg=n;return}bhe(vg,t)}vg=n,U3=v7(e.firstChild)}else n.flags=n.flags&-1025|2,g2=!1,vg=n}}function She(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;vg=n}function bI(n){if(n!==vg)return!1;if(!g2)return She(n),g2=!0,!1;var e=n.type;if(n.tag!==5||e!=="head"&&e!=="body"&&!mK(e,n.memoizedProps))for(e=U3;e;)bhe(n,e),e=v7(e.nextSibling);if(She(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(oi(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){U3=v7(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}U3=null}}else U3=vg?v7(n.stateNode.nextSibling):null;return!0}function NK(){U3=vg=null,g2=!1}var F7=[];function LK(){for(var n=0;n<F7.length;n++)F7[n]._workInProgressVersionPrimary=null;F7.length=0}var oT=b_.ReactCurrentDispatcher,Ip=b_.ReactCurrentBatchConfig,aT=0,Yl=null,T0=null,zf=null,EI=!1,uT=!1;function rh(){throw Error(oi(321))}function kK(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Lp(n[t],e[t]))return!1;return!0}function IK(n,e,t,r,i,s){if(aT=s,Yl=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oT.current=n===null||n.memoizedState===null?Iqe:Mqe,n=t(r,i),uT){s=0;do{if(uT=!1,!(25>s))throw Error(oi(301));s+=1,zf=T0=null,e.updateQueue=null,oT.current=Pqe,n=t(r,i)}while(uT)}if(oT.current=AI,e=T0!==null&&T0.next!==null,aT=0,zf=T0=Yl=null,EI=!1,e)throw Error(oi(300));return n}function O_(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zf===null?Yl.memoizedState=zf=n:zf=zf.next=n,zf}function R_(){if(T0===null){var n=Yl.alternate;n=n!==null?n.memoizedState:null}else n=T0.next;var e=zf===null?Yl.memoizedState:zf.next;if(e!==null)zf=e,T0=n;else{if(n===null)throw Error(oi(310));T0=n,n={memoizedState:T0.memoizedState,baseState:T0.baseState,baseQueue:T0.baseQueue,queue:T0.queue,next:null},zf===null?Yl.memoizedState=zf=n:zf=zf.next=n}return zf}function y2(n,e){return typeof e=="function"?e(n):e}function lT(n){var e=R_(),t=e.queue;if(t===null)throw Error(oi(311));t.lastRenderedReducer=n;var r=T0,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=o=s=null,l=i;do{var f=l.lane;if((aT&f)===f)a!==null&&(a=a.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===n?l.eagerState:n(r,l.action);else{var p={lane:f,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};a===null?(o=a=p,s=r):a=a.next=p,Yl.lanes|=f,hT|=f}l=l.next}while(l!==null&&l!==i);a===null?s=r:a.next=o,Lp(r,e.memoizedState)||(cm=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,t.lastRenderedState=r}return[e.memoizedState,t.dispatch]}function cT(n){var e=R_(),t=e.queue;if(t===null)throw Error(oi(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Lp(s,e.memoizedState)||(cm=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function whe(n,e,t){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?n=i===r:(n=n.mutableReadLanes,(n=(aT&n)===n)&&(e._workInProgressVersionPrimary=r,F7.push(e))),n)return t(e._source);throw F7.push(e),Error(oi(350))}function Che(n,e,t,r){var i=hd;if(i===null)throw Error(oi(349));var s=e._getVersion,o=s(e._source),a=oT.current,l=a.useState(function(){return whe(i,e,t)}),f=l[1],p=l[0];l=zf;var _=n.memoizedState,E=_.refs,O=E.getSnapshot,R=_.source;_=_.subscribe;var q=Yl;return n.memoizedState={refs:E,source:e,subscribe:r},a.useEffect(function(){E.getSnapshot=t,E.setSnapshot=f;var z=s(e._source);if(!Lp(o,z)){z=t(e._source),Lp(p,z)||(f(z),z=z3(q),i.mutableReadLanes|=z&i.pendingLanes),z=i.mutableReadLanes,i.entangledLanes|=z;for(var L=i.entanglements,B=z;0<B;){var P=31-L3(B),G=1<<P;L[P]|=z,B&=~G}}},[t,e,r]),a.useEffect(function(){return r(e._source,function(){var z=E.getSnapshot,L=E.setSnapshot;try{L(z(e._source));var B=z3(q);i.mutableReadLanes|=B&i.pendingLanes}catch(P){L(function(){throw P})}})},[e,r]),Lp(O,t)&&Lp(R,e)&&Lp(_,r)||(n={pending:null,dispatch:null,lastRenderedReducer:y2,lastRenderedState:p},n.dispatch=f=jK.bind(null,Yl,n),l.queue=n,l.baseQueue=null,p=whe(i,e,t),l.memoizedState=l.baseState=p),p}function Ahe(n,e,t){var r=R_();return Che(r,n,e,t)}function fT(n){var e=O_();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n=e.queue={pending:null,dispatch:null,lastRenderedReducer:y2,lastRenderedState:n},n=n.dispatch=jK.bind(null,Yl,n),[e.memoizedState,n]}function SI(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Yl.updateQueue,e===null?(e={lastEffect:null},Yl.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function The(n){var e=O_();return n={current:n},e.memoizedState=n}function wI(){return R_().memoizedState}function MK(n,e,t,r){var i=O_();Yl.flags|=n,i.memoizedState=SI(1|e,t,void 0,r===void 0?null:r)}function PK(n,e,t,r){var i=R_();r=r===void 0?null:r;var s=void 0;if(T0!==null){var o=T0.memoizedState;if(s=o.destroy,r!==null&&kK(r,o.deps)){SI(e,t,s,r);return}}Yl.flags|=n,i.memoizedState=SI(1|e,t,s,r)}function Fhe(n,e){return MK(516,4,n,e)}function CI(n,e){return PK(516,4,n,e)}function Dhe(n,e){return PK(4,2,n,e)}function Ohe(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Rhe(n,e,t){return t=t!=null?t.concat([n]):null,PK(4,2,Ohe.bind(null,e,n),t)}function BK(){}function Nhe(n,e){var t=R_();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&kK(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function Lhe(n,e){var t=R_();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&kK(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function kqe(n,e){var t=w7();F_(98>t?98:t,function(){n(!0)}),F_(97<t?97:t,function(){var r=Ip.transition;Ip.transition=1;try{n(!1),e()}finally{Ip.transition=r}})}function jK(n,e,t){var r=Uh(),i=z3(n),s={lane:i,action:t,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=n.alternate,n===Yl||o!==null&&o===Yl)uT=EI=!0;else{if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,t);if(s.eagerReducer=o,s.eagerState=l,Lp(l,a))return}catch{}finally{}H3(n,i,r)}}var AI={readContext:kp,useCallback:rh,useContext:rh,useEffect:rh,useImperativeHandle:rh,useLayoutEffect:rh,useMemo:rh,useReducer:rh,useRef:rh,useState:rh,useDebugValue:rh,useDeferredValue:rh,useTransition:rh,useMutableSource:rh,useOpaqueIdentifier:rh,unstable_isNewReconciler:!1},Iqe={readContext:kp,useCallback:function(n,e){return O_().memoizedState=[n,e===void 0?null:e],n},useContext:kp,useEffect:Fhe,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,MK(4,2,Ohe.bind(null,e,n),t)},useLayoutEffect:function(n,e){return MK(4,2,n,e)},useMemo:function(n,e){var t=O_();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=O_();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n=r.queue={pending:null,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},n=n.dispatch=jK.bind(null,Yl,n),[r.memoizedState,n]},useRef:The,useState:fT,useDebugValue:BK,useDeferredValue:function(n){var e=fT(n),t=e[0],r=e[1];return Fhe(function(){var i=Ip.transition;Ip.transition=1;try{r(n)}finally{Ip.transition=i}},[n]),t},useTransition:function(){var n=fT(!1),e=n[0];return n=kqe.bind(null,n[1]),The(n),[n,e]},useMutableSource:function(n,e,t){var r=O_();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:n,subscribe:t},Che(r,n,e,t)},useOpaqueIdentifier:function(){if(g2){var n=!1,e=Fqe(function(){throw n||(n=!0,t("r:"+(gK++).toString(36))),Error(oi(355))}),t=fT(e)[1];return(Yl.mode&2)===0&&(Yl.flags|=516,SI(5,function(){t("r:"+(gK++).toString(36))},void 0,null)),e}return e="r:"+(gK++).toString(36),fT(e),e},unstable_isNewReconciler:!1},Mqe={readContext:kp,useCallback:Nhe,useContext:kp,useEffect:CI,useImperativeHandle:Rhe,useLayoutEffect:Dhe,useMemo:Lhe,useReducer:lT,useRef:wI,useState:function(){return lT(y2)},useDebugValue:BK,useDeferredValue:function(n){var e=lT(y2),t=e[0],r=e[1];return CI(function(){var i=Ip.transition;Ip.transition=1;try{r(n)}finally{Ip.transition=i}},[n]),t},useTransition:function(){var n=lT(y2)[0];return[wI().current,n]},useMutableSource:Ahe,useOpaqueIdentifier:function(){return lT(y2)[0]},unstable_isNewReconciler:!1},Pqe={readContext:kp,useCallback:Nhe,useContext:kp,useEffect:CI,useImperativeHandle:Rhe,useLayoutEffect:Dhe,useMemo:Lhe,useReducer:cT,useRef:wI,useState:function(){return cT(y2)},useDebugValue:BK,useDeferredValue:function(n){var e=cT(y2),t=e[0],r=e[1];return CI(function(){var i=Ip.transition;Ip.transition=1;try{r(n)}finally{Ip.transition=i}},[n]),t},useTransition:function(){var n=cT(y2)[0];return[wI().current,n]},useMutableSource:Ahe,useOpaqueIdentifier:function(){return cT(y2)[0]},unstable_isNewReconciler:!1},Bqe=b_.ReactCurrentOwner,cm=!1;function ih(n,e,t,r){e.child=n===null?vhe(e,null,t,r):vI(e,n.child,t,r)}function khe(n,e,t,r,i){t=t.render;var s=e.ref;return A7(e,i),r=IK(n,e,t,r,s,i),n!==null&&!cm?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,_g(n,e,i)):(e.flags|=1,ih(n,e,r,i),e.child)}function Ihe(n,e,t,r,i,s){if(n===null){var o=t.type;return typeof o=="function"&&!uJ(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,Mhe(n,e,o,r,i,s)):(n=MI(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}return o=n.child,(i&s)===0&&(i=o.memoizedProps,t=t.compare,t=t!==null?t:YA,t(i,r)&&n.ref===e.ref)?_g(n,e,s):(e.flags|=1,n=Q3(o,r),n.ref=e.ref,n.return=e,e.child=n)}function Mhe(n,e,t,r,i,s){if(n!==null&&YA(n.memoizedProps,r)&&n.ref===e.ref)if(cm=!1,(s&i)!==0)(n.flags&16384)!==0&&(cm=!0);else return e.lanes=n.lanes,_g(n,e,s);return UK(n,e,t,r,s)}function qK(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},II(e,t);else if((t&1073741824)!==0)e.memoizedState={baseLanes:0},II(e,s!==null?s.baseLanes:t);else return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n},II(e,n),null;else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,II(e,r);return ih(n,e,i,t),e.child}function Phe(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=128)}function UK(n,e,t,r,i){var s=nh(t)?A_:C0.current;return s=S7(e,s),A7(e,i),t=IK(n,e,t,r,s,i),n!==null&&!cm?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,_g(n,e,i)):(e.flags|=1,ih(n,e,t,i),e.child)}function Bhe(n,e,t,r,i){if(nh(t)){var s=!0;lI(e)}else s=!1;if(A7(e,i),e.stateNode===null)n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),xhe(e,t,r),FK(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,f=t.contextType;typeof f=="object"&&f!==null?f=kp(f):(f=nh(t)?A_:C0.current,f=S7(e,f));var p=t.getDerivedStateFromProps,_=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";_||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==f)&&ghe(e,o,r,f),B3=!1;var E=e.memoizedState;o.state=E,tT(e,r,o,i),l=e.memoizedState,a!==r||E!==l||th.current||B3?(typeof p=="function"&&(mI(e,t,p,r),l=e.memoizedState),(a=B3||mhe(e,t,a,r,E,l,f))?(_||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=f,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,fhe(n,e),a=e.memoizedProps,f=e.type===e.elementType?a:lm(e.type,a),o.props=f,_=e.pendingProps,E=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=kp(l):(l=nh(t)?A_:C0.current,l=S7(e,l));var O=t.getDerivedStateFromProps;(p=typeof O=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==_||E!==l)&&ghe(e,o,r,l),B3=!1,E=e.memoizedState,o.state=E,tT(e,r,o,i);var R=e.memoizedState;a!==_||E!==R||th.current||B3?(typeof O=="function"&&(mI(e,t,O,r),R=e.memoizedState),(f=B3||mhe(e,t,f,r,E,R,l))?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,R,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,R,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&E===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&E===n.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=R),o.props=r,o.state=R,o.context=l,r=f):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&E===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&E===n.memoizedState||(e.flags|=256),r=!1)}return $K(n,e,t,r,s,i)}function $K(n,e,t,r,i,s){Phe(n,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&the(e,t,!1),_g(n,e,s);r=e.stateNode,Bqe.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=vI(e,n.child,null,s),e.child=vI(e,null,a,s)):ih(n,e,a,s),e.memoizedState=r.state,i&&the(e,t,!0),e.child}function jhe(n){var e=n.stateNode;e.pendingContext?Zde(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Zde(n,e.context,!1),DK(n,e.containerInfo)}var TI={dehydrated:null,retryLane:0};function qhe(n,e,t){var r=e.pendingProps,i=Nl.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=n!==null&&n.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):n!==null&&n.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),Rl(Nl,i&1),n===null?(r.fallback!==void 0&&RK(e),n=r.children,i=r.fallback,s?(n=Uhe(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=TI,n):typeof r.unstable_expectedLoadTime=="number"?(n=Uhe(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=TI,e.lanes=33554432,n):(t=lJ({mode:"visible",children:n},e.mode,t,null),t.return=e,e.child=t)):n.memoizedState!==null?s?(r=zhe(n,e,r.children,r.fallback,t),s=e.child,i=n.child.memoizedState,s.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},s.childLanes=n.childLanes&~t,e.memoizedState=TI,r):(t=$he(n,e,r.children,t),e.memoizedState=null,t):s?(r=zhe(n,e,r.children,r.fallback,t),s=e.child,i=n.child.memoizedState,s.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},s.childLanes=n.childLanes&~t,e.memoizedState=TI,r):(t=$he(n,e,r.children,t),e.memoizedState=null,t)}function Uhe(n,e,t,r){var i=n.mode,s=n.child;return e={mode:"hidden",children:e},(i&2)===0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=lJ(e,i,0,null),t=k7(t,i,r,null),s.return=n,t.return=n,s.sibling=t,n.child=s,t}function $he(n,e,t,r){var i=n.child;return n=i.sibling,t=Q3(i,{mode:"visible",children:t}),(e.mode&2)===0&&(t.lanes=r),t.return=e,t.sibling=null,n!==null&&(n.nextEffect=null,n.flags=8,e.firstEffect=e.lastEffect=n),e.child=t}function zhe(n,e,t,r,i){var s=e.mode,o=n.child;n=o.sibling;var a={mode:"hidden",children:t};return(s&2)===0&&e.child!==o?(t=e.child,t.childLanes=0,t.pendingProps=a,o=t.lastEffect,o!==null?(e.firstEffect=t.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):t=Q3(o,a),n!==null?r=Q3(n,r):(r=k7(r,s,i,null),r.flags|=2),r.return=e,t.return=e,t.sibling=r,e.child=t,r}function Hhe(n,e){n.lanes|=e;var t=n.alternate;t!==null&&(t.lanes|=e),che(n.return,e)}function zK(n,e,t,r,i,s){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i,o.lastEffect=s)}function Vhe(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ih(n,e,r.children,t),r=Nl.current,(r&2)!==0)r=r&1|2,e.flags|=64;else{if(n!==null&&(n.flags&64)!==0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Hhe(n,t);else if(n.tag===19)Hhe(n,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Rl(Nl,r),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&_I(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),zK(e,!1,i,t,s,e.lastEffect);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&_I(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}zK(e,!0,t,null,s,e.lastEffect);break;case"together":zK(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function _g(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),hT|=e.lanes,(t&e.childLanes)!==0){if(n!==null&&e.child!==n.child)throw Error(oi(153));if(e.child!==null){for(n=e.child,t=Q3(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Q3(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}return null}var Whe,HK,Qhe,Ghe;Whe=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};HK=function(){};Qhe=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,D_(x2.current);var s=null;switch(t){case"input":i=DY(n,i),r=DY(n,r),s=[];break;case"option":i=NY(n,i),r=NY(n,r),s=[];break;case"select":i=qu({},i,{value:void 0}),r=qu({},r,{value:void 0}),s=[];break;case"textarea":i=LY(n,i),r=LY(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=iI)}MY(t,r);var o;t=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var a=i[f];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(FA.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(a=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&l!==a&&(l!=null||a!=null))if(f==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(f,t)),t=l;else f==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(f,l)):f==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(f,""+l):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(FA.hasOwnProperty(f)?(l!=null&&f==="onScroll"&&vu("scroll",n),s||a===l||(s=[])):typeof l=="object"&&l!==null&&l.$$typeof===wY?l.toString():(s=s||[]).push(f,l))}t&&(s=s||[]).push("style",t);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};Ghe=function(n,e,t,r){t!==r&&(e.flags|=4)};function dT(n,e){if(!g2)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function jqe(n,e,t){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return nh(e.type)&&uI(),null;case 3:return T7(),_u(th),_u(C0),LK(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(bI(e)?e.flags|=4:r.hydrate||(e.flags|=256)),HK(e),null;case 5:OK(e);var i=D_(sT.current);if(t=e.type,n!==null&&e.stateNode!=null)Qhe(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(oi(166));return null}if(n=D_(x2.current),bI(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[I3]=e,r[oI]=s,t){case"dialog":vu("cancel",r),vu("close",r);break;case"iframe":case"object":case"embed":vu("load",r);break;case"video":case"audio":for(n=0;n<JA.length;n++)vu(JA[n],r);break;case"source":vu("error",r);break;case"img":case"image":case"link":vu("error",r),vu("load",r);break;case"details":vu("toggle",r);break;case"input":q0e(r,s),vu("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},vu("invalid",r);break;case"textarea":z0e(r,s),vu("invalid",r)}MY(t,s),n=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(n=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(n=["children",""+i]):FA.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&vu("scroll",r));switch(t){case"input":Bk(r),$0e(r,s,!0);break;case"textarea":Bk(r),V0e(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=iI)}r=n,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,n===kY.html&&(n=W0e(t)),n===kY.html?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[I3]=e,n[oI]=r,Whe(n,e,!1,!1),e.stateNode=n,o=PY(t,r),t){case"dialog":vu("cancel",n),vu("close",n),i=r;break;case"iframe":case"object":case"embed":vu("load",n),i=r;break;case"video":case"audio":for(i=0;i<JA.length;i++)vu(JA[i],n);i=r;break;case"source":vu("error",n),i=r;break;case"img":case"image":case"link":vu("error",n),vu("load",n),i=r;break;case"details":vu("toggle",n),i=r;break;case"input":q0e(n,r),i=DY(n,r),vu("invalid",n);break;case"option":i=NY(n,r);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=qu({},r,{value:void 0}),vu("invalid",n);break;case"textarea":z0e(n,r),i=LY(n,r),vu("invalid",n);break;default:i=r}MY(t,i);var a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Y0e(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Q0e(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&kA(n,l):typeof l=="number"&&kA(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(FA.hasOwnProperty(s)?l!=null&&s==="onScroll"&&vu("scroll",n):l!=null&&yY(n,s,l,o))}switch(t){case"input":Bk(n),$0e(n,r,!1);break;case"textarea":Bk(n),V0e(n);break;case"option":r.value!=null&&n.setAttribute("value",""+D3(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?u7(n,!!r.multiple,s,!1):r.defaultValue!=null&&u7(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=iI)}Gde(t,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(n&&e.stateNode!=null)Ghe(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oi(166));t=D_(sT.current),D_(x2.current),bI(e)?(r=e.stateNode,t=e.memoizedProps,r[I3]=e,r.nodeValue!==t&&(e.flags|=4)):(r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[I3]=e,e.stateNode=r)}return null;case 13:return _u(Nl),r=e.memoizedState,(e.flags&64)!==0?(e.lanes=t,e):(r=r!==null,t=!1,n===null?e.memoizedProps.fallback!==void 0&&bI(e):t=n.memoizedState!==null,r&&!t&&(e.mode&2)!==0&&(n===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(Nl.current&1)!==0?Hf===0&&(Hf=3):((Hf===0||Hf===3)&&(Hf=4),hd===null||(hT&134217727)===0&&(O7&134217727)===0||N7(hd,F0))),(r||t)&&(e.flags|=4),null);case 4:return T7(),HK(e),n===null&&zde(e.stateNode.containerInfo),null;case 10:return AK(e),null;case 17:return nh(e.type)&&uI(),null;case 19:if(_u(Nl),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)dT(r,!1);else{if(Hf!==0||n!==null&&(n.flags&64)!==0)for(n=e.child;n!==null;){if(o=_I(n),o!==null){for(e.flags|=64,dT(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Rl(Nl,Nl.current&1|2),e.child}n=n.sibling}r.tail!==null&&A0()>tJ&&(e.flags|=64,s=!0,dT(r,!1),e.lanes=33554432)}else{if(!s)if(n=_I(o),n!==null){if(e.flags|=64,s=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),dT(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!g2)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*A0()-r.renderingStartTime>tJ&&t!==1073741824&&(e.flags|=64,s=!0,dT(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(t=r.last,t!==null?t.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=A0(),t.sibling=null,e=Nl.current,Rl(Nl,s?e&1|2:e&1),t):null;case 23:case 24:return aJ(),n!==null&&n.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(oi(156,e.tag))}function qqe(n){switch(n.tag){case 1:nh(n.type)&&uI();var e=n.flags;return e&4096?(n.flags=e&-4097|64,n):null;case 3:if(T7(),_u(th),_u(C0),LK(),e=n.flags,(e&64)!==0)throw Error(oi(285));return n.flags=e&-4097|64,n;case 5:return OK(n),null;case 13:return _u(Nl),e=n.flags,e&4096?(n.flags=e&-4097|64,n):null;case 19:return _u(Nl),null;case 4:return T7(),null;case 10:return AK(n),null;case 23:case 24:return aJ(),null;default:return null}}function VK(n,e){try{var t="",r=e;do t+=_je(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i}}function WK(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Uqe=typeof WeakMap=="function"?WeakMap:Map;function Yhe(n,e,t){t=j3(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){OI||(OI=!0,nJ=r),WK(n,e)},t}function Khe(n,e,t){t=j3(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return WK(n,e),r(i)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){typeof r!="function"&&(v2===null?v2=new Set([this]):v2.add(this),WK(n,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}var $qe=typeof WeakSet=="function"?WeakSet:Set;function Jhe(n){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(t){W3(n,t)}else e.current=null}function zqe(n,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&n!==null){var t=n.memoizedProps,r=n.memoizedState;n=e.stateNode,e=n.getSnapshotBeforeUpdate(e.elementType===e.type?t:lm(e.type,t),r),n.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&xK(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(oi(163))}function Hqe(n,e,t){switch(t.tag){case 0:case 11:case 15:case 22:if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{if((n.tag&3)===3){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{var i=n;r=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(dpe(t,n),Xqe(t,n)),n=r}while(n!==e)}return;case 1:n=t.stateNode,t.flags&4&&(e===null?n.componentDidMount():(r=t.elementType===t.type?e.memoizedProps:lm(t.type,e.memoizedProps),n.componentDidUpdate(r,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate))),e=t.updateQueue,e!==null&&hhe(t,e,n);return;case 3:if(e=t.updateQueue,e!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}hhe(t,e,n)}return;case 5:n=t.stateNode,e===null&&t.flags&4&&Gde(t.type,t.memoizedProps)&&n.focus();return;case 6:return;case 4:return;case 12:return;case 13:t.memoizedState===null&&(t=t.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&fde(t))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(oi(163))}function Xhe(n,e){for(var t=n;;){if(t.tag===5){var r=t.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=t.stateNode;var i=t.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=G0e("display",i)}}else if(t.tag===6)t.stateNode.nodeValue=e?"":t.memoizedProps;else if((t.tag!==23&&t.tag!==24||t.memoizedState===null||t===n)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function Zhe(n,e){if(T_&&typeof T_.onCommitFiberUnmount=="function")try{T_.onCommitFiberUnmount(vK,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null)){var t=n=n.next;do{var r=t,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!==0)dpe(e,t);else{r=e;try{i()}catch(s){W3(r,s)}}t=t.next}while(t!==n)}break;case 1:if(Jhe(e),n=e.stateNode,typeof n.componentWillUnmount=="function")try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(s){W3(e,s)}break;case 5:Jhe(e);break;case 4:rpe(n,e)}}function epe(n){n.alternate=null,n.child=null,n.dependencies=null,n.firstEffect=null,n.lastEffect=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.return=null,n.updateQueue=null}function tpe(n){return n.tag===5||n.tag===3||n.tag===4}function npe(n){e:{for(var e=n.return;e!==null;){if(tpe(e))break e;e=e.return}throw Error(oi(160))}var t=e;switch(e=t.stateNode,t.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(oi(161))}t.flags&16&&(kA(e,""),t.flags&=-17);e:t:for(t=n;;){for(;t.sibling===null;){if(t.return===null||tpe(t.return)){t=null;break e}t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2)){t=t.stateNode;break e}}r?QK(n,t,e):GK(n,t,e)}function QK(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=iI));else if(r!==4&&(n=n.child,n!==null))for(QK(n,e,t),n=n.sibling;n!==null;)QK(n,e,t),n=n.sibling}function GK(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(GK(n,e,t),n=n.sibling;n!==null;)GK(n,e,t),n=n.sibling}function rpe(n,e){for(var t=e,r=!1,i,s;;){if(!r){r=t.return;e:for(;;){if(r===null)throw Error(oi(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(t.tag===5||t.tag===6){e:for(var o=n,a=t,l=a;;)if(Zhe(o,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}s?(o=i,a=t.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):i.removeChild(t.stateNode)}else if(t.tag===4){if(t.child!==null){i=t.stateNode.containerInfo,s=!0,t.child.return=t,t=t.child;continue}}else if(Zhe(n,t),t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return,t.tag===4&&(r=!1)}t.sibling.return=t.return,t=t.sibling}}function YK(n,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var t=e.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do(r.tag&3)===3&&(n=r.destroy,r.destroy=void 0,n!==void 0&&n()),r=r.next;while(r!==t)}return;case 1:return;case 5:if(t=e.stateNode,t!=null){r=e.memoizedProps;var i=n!==null?n.memoizedProps:r;n=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(t[oI]=r,n==="input"&&r.type==="radio"&&r.name!=null&&U0e(t,r),PY(n,i),e=PY(n,r),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];o==="style"?Y0e(t,a):o==="dangerouslySetInnerHTML"?Q0e(t,a):o==="children"?kA(t,a):yY(t,o,a,e)}switch(n){case"input":OY(t,r);break;case"textarea":H0e(t,r);break;case"select":n=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?u7(t,!!r.multiple,s,!1):n!==!!r.multiple&&(r.defaultValue!=null?u7(t,!!r.multiple,r.defaultValue,!0):u7(t,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(oi(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:t=e.stateNode,t.hydrate&&(t.hydrate=!1,fde(t.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(eJ=A0(),Xhe(e.child,!0)),ipe(e);return;case 19:ipe(e);return;case 17:return;case 23:case 24:Xhe(e,e.memoizedState!==null);return}throw Error(oi(163))}function ipe(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new $qe),e.forEach(function(r){var i=tUe.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Vqe(n,e){return n!==null&&(n=n.memoizedState,n===null||n.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var Wqe=Math.ceil,FI=b_.ReactCurrentDispatcher,KK=b_.ReactCurrentOwner,Us=0,hd=null,zc=null,F0=0,N_=0,JK=M3(0),Hf=0,DI=null,D7=0,hT=0,O7=0,XK=0,ZK=null,eJ=0,tJ=1/0;function R7(){tJ=A0()+500}var Vi=null,OI=!1,nJ=null,v2=null,$3=!1,pT=null,mT=90,rJ=[],iJ=[],bg=null,xT=0,sJ=null,RI=-1,Eg=0,NI=0,gT=null,LI=!1;function Uh(){return(Us&48)!==0?A0():RI!==-1?RI:RI=A0()}function z3(n){if(n=n.mode,(n&2)===0)return 1;if((n&4)===0)return w7()===99?1:2;if(Eg===0&&(Eg=D7),Lqe.transition!==0){NI!==0&&(NI=ZK!==null?ZK.pendingLanes:0),n=Eg;var e=4186112&~NI;return e&=-e,e===0&&(n=4186112&~n,e=n&-n,e===0&&(e=8192)),e}return n=w7(),(Us&4)!==0&&n===98?n=Wk(12,Eg):(n=Mje(n),n=Wk(n,Eg)),n}function H3(n,e,t){if(50<xT)throw xT=0,sJ=null,Error(oi(185));if(n=kI(n,e),n===null)return null;Qk(n,e,t),n===hd&&(O7|=e,Hf===4&&N7(n,F0));var r=w7();e===1?(Us&8)!==0&&(Us&48)===0?oJ(n):(Mp(n,t),Us===0&&(R7(),m2())):((Us&4)===0||r!==98&&r!==99||(bg===null?bg=new Set([n]):bg.add(n)),Mp(n,t)),ZK=n}function kI(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}function Mp(n,e){for(var t=n.callbackNode,r=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,o=n.pendingLanes;0<o;){var a=31-L3(o),l=1<<a,f=s[a];if(f===-1){if((l&r)===0||(l&i)!==0){f=e,h7(l);var p=ru;s[a]=10<=p?f+250:6<=p?f+5e3:-1}}else f<=e&&(n.expiredLanes|=l);o&=~l}if(r=zA(n,n===hd?F0:0),e=ru,r===0)t!==null&&(t!==SK&&bK(t),n.callbackNode=null,n.callbackPriority=0);else{if(t!==null){if(n.callbackPriority===e)return;t!==SK&&bK(t)}e===15?(t=oJ.bind(null,n),yg===null?(yg=[t],fI=_K(cI,lhe)):yg.push(t),t=SK):e===14?t=eT(99,oJ.bind(null,n)):(t=Pje(e),t=eT(t,spe.bind(null,n))),n.callbackPriority=e,n.callbackNode=t}}function spe(n){if(RI=-1,NI=Eg=0,(Us&48)!==0)throw Error(oi(327));var e=n.callbackNode;if(V3()&&n.callbackNode!==e)return null;var t=zA(n,n===hd?F0:0);if(t===0)return null;var r=t,i=Us;Us|=16;var s=lpe();(hd!==n||F0!==r)&&(R7(),L7(n,r));do try{Yqe();break}catch(a){upe(n,a)}while(1);if(CK(),FI.current=s,Us=i,zc!==null?r=0:(hd=null,F0=0,r=Hf),(D7&O7)!==0)L7(n,0);else if(r!==0){if(r===2&&(Us|=64,n.hydrate&&(n.hydrate=!1,xK(n.containerInfo)),t=yde(n),t!==0&&(r=yT(n,t))),r===1)throw e=DI,L7(n,0),N7(n,t),Mp(n,A0()),e;switch(n.finishedWork=n.current.alternate,n.finishedLanes=t,r){case 0:case 1:throw Error(oi(345));case 2:L_(n);break;case 3:if(N7(n,t),(t&62914560)===t&&(r=eJ+500-A0(),10<r)){if(zA(n,0)!==0)break;if(i=n.suspendedLanes,(i&t)!==t){Uh(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Yde(L_.bind(null,n),r);break}L_(n);break;case 4:if(N7(n,t),(t&4186112)===t)break;for(r=n.eventTimes,i=-1;0<t;){var o=31-L3(t);s=1<<o,o=r[o],o>i&&(i=o),t&=~s}if(t=i,t=A0()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*Wqe(t/1960))-t,10<t){n.timeoutHandle=Yde(L_.bind(null,n),t);break}L_(n);break;case 5:L_(n);break;default:throw Error(oi(329))}}return Mp(n,A0()),n.callbackNode===e?spe.bind(null,n):null}function N7(n,e){for(e&=~XK,e&=~O7,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-L3(e),r=1<<t;n[t]=-1,e&=~r}}function oJ(n){if((Us&48)!==0)throw Error(oi(327));if(V3(),n===hd&&(n.expiredLanes&F0)!==0){var e=F0,t=yT(n,e);(D7&O7)!==0&&(e=zA(n,e),t=yT(n,e))}else e=zA(n,0),t=yT(n,e);if(n.tag!==0&&t===2&&(Us|=64,n.hydrate&&(n.hydrate=!1,xK(n.containerInfo)),e=yde(n),e!==0&&(t=yT(n,e))),t===1)throw t=DI,L7(n,0),N7(n,e),Mp(n,A0()),t;return n.finishedWork=n.current.alternate,n.finishedLanes=e,L_(n),Mp(n,A0()),null}function Qqe(){if(bg!==null){var n=bg;bg=null,n.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Mp(e,A0())})}m2()}function ope(n,e){var t=Us;Us|=1;try{return n(e)}finally{Us=t,Us===0&&(R7(),m2())}}function ape(n,e){var t=Us;Us&=-2,Us|=8;try{return n(e)}finally{Us=t,Us===0&&(R7(),m2())}}function II(n,e){Rl(JK,N_),N_|=e,D7|=e}function aJ(){N_=JK.current,_u(JK)}function L7(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Tqe(t)),zc!==null)for(t=zc.return;t!==null;){var r=t;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&uI();break;case 3:T7(),_u(th),_u(C0),LK();break;case 5:OK(r);break;case 4:T7();break;case 13:_u(Nl);break;case 19:_u(Nl);break;case 10:AK(r);break;case 23:case 24:aJ()}t=t.return}hd=n,zc=Q3(n.current,null),F0=N_=D7=e,Hf=0,DI=null,XK=O7=hT=0}function upe(n,e){do{var t=zc;try{if(CK(),oT.current=AI,EI){for(var r=Yl.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}EI=!1}if(aT=0,zf=T0=Yl=null,uT=!1,KK.current=null,t===null||t.return===null){Hf=1,DI=e,zc=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=F0,a.flags|=2048,a.firstEffect=a.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var f=l;if((a.mode&2)===0){var p=a.alternate;p?(a.updateQueue=p.updateQueue,a.memoizedState=p.memoizedState,a.lanes=p.lanes):(a.updateQueue=null,a.memoizedState=null)}var _=(Nl.current&1)!==0,E=o;do{var O;if(O=E.tag===13){var R=E.memoizedState;if(R!==null)O=R.dehydrated!==null;else{var q=E.memoizedProps;O=q.fallback===void 0?!1:q.unstable_avoidThisFallback!==!0?!0:!_}}if(O){var z=E.updateQueue;if(z===null){var L=new Set;L.add(f),E.updateQueue=L}else z.add(f);if((E.mode&2)===0){if(E.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var B=j3(-1,1);B.tag=2,q3(a,B)}a.lanes|=1;break e}l=void 0,a=e;var P=s.pingCache;if(P===null?(P=s.pingCache=new Uqe,l=new Set,P.set(f,l)):(l=P.get(f),l===void 0&&(l=new Set,P.set(f,l))),!l.has(a)){l.add(a);var G=eUe.bind(null,s,f,a);f.then(G,G)}E.flags|=4096,E.lanes=e;break e}E=E.return}while(E!==null);l=Error((a7(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Hf!==5&&(Hf=2),l=VK(l,a),E=o;do{switch(E.tag){case 3:s=l,E.flags|=4096,e&=-e,E.lanes|=e;var ue=Yhe(E,s,e);dhe(E,ue);break e;case 1:s=l;var I=E.type,J=E.stateNode;if((E.flags&64)===0&&(typeof I.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(v2===null||!v2.has(J)))){E.flags|=4096,e&=-e,E.lanes|=e;var he=Khe(E,s,e);dhe(E,he);break e}}E=E.return}while(E!==null)}fpe(t)}catch(ye){e=ye,zc===t&&t!==null&&(zc=t=t.return);continue}break}while(1)}function lpe(){var n=FI.current;return FI.current=AI,n===null?AI:n}function yT(n,e){var t=Us;Us|=16;var r=lpe();hd===n&&F0===e||L7(n,e);do try{Gqe();break}catch(i){upe(n,i)}while(1);if(CK(),Us=t,FI.current=r,zc!==null)throw Error(oi(261));return hd=null,F0=0,Hf}function Gqe(){for(;zc!==null;)cpe(zc)}function Yqe(){for(;zc!==null&&!Oqe();)cpe(zc)}function cpe(n){var e=ppe(n.alternate,n,N_);n.memoizedProps=n.pendingProps,e===null?fpe(n):zc=e,KK.current=null}function fpe(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&2048)===0){if(t=jqe(t,e,N_),t!==null){zc=t;return}if(t=e,t.tag!==24&&t.tag!==23||t.memoizedState===null||(N_&1073741824)!==0||(t.mode&4)===0){for(var r=0,i=t.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;t.childLanes=r}n!==null&&(n.flags&2048)===0&&(n.firstEffect===null&&(n.firstEffect=e.firstEffect),e.lastEffect!==null&&(n.lastEffect!==null&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.flags&&(n.lastEffect!==null?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(t=qqe(e),t!==null){t.flags&=2047,zc=t;return}n!==null&&(n.firstEffect=n.lastEffect=null,n.flags|=2048)}if(e=e.sibling,e!==null){zc=e;return}zc=e=n}while(e!==null);Hf===0&&(Hf=5)}function L_(n){var e=w7();return F_(99,Kqe.bind(null,n,e)),null}function Kqe(n,e){do V3();while(pT!==null);if((Us&48)!==0)throw Error(oi(327));var t=n.finishedWork;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(oi(177));n.callbackNode=null;var r=t.lanes|t.childLanes,i=r,s=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;for(var o=n.eventTimes,a=n.expirationTimes;0<s;){var l=31-L3(s),f=1<<l;i[l]=0,o[l]=-1,a[l]=-1,s&=~f}if(bg!==null&&(r&24)===0&&bg.has(n)&&bg.delete(n),n===hd&&(zc=hd=null,F0=0),1<t.flags?t.lastEffect!==null?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,r!==null){if(i=Us,Us|=32,KK.current=null,hK=Gk,o=Pde(),lK(o)){if("selectionStart"in o)a={start:o.selectionStart,end:o.selectionEnd};else e:if(a=(a=o.ownerDocument)&&a.defaultView||window,(f=a.getSelection&&a.getSelection())&&f.rangeCount!==0){a=f.anchorNode,s=f.anchorOffset,l=f.focusNode,f=f.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var p=0,_=-1,E=-1,O=0,R=0,q=o,z=null;t:for(;;){for(var L;q!==a||s!==0&&q.nodeType!==3||(_=p+s),q!==l||f!==0&&q.nodeType!==3||(E=p+f),q.nodeType===3&&(p+=q.nodeValue.length),(L=q.firstChild)!==null;)z=q,q=L;for(;;){if(q===o)break t;if(z===a&&++O===s&&(_=p),z===l&&++R===f&&(E=p),(L=q.nextSibling)!==null)break;q=z,z=q.parentNode}q=L}a=_===-1||E===-1?null:{start:_,end:E}}else a=null;a=a||{start:0,end:0}}else a=null;pK={focusedElem:o,selectionRange:a},Gk=!1,gT=null,LI=!1,Vi=r;do try{Jqe()}catch(ye){if(Vi===null)throw Error(oi(330));W3(Vi,ye),Vi=Vi.nextEffect}while(Vi!==null);gT=null,Vi=r;do try{for(o=n;Vi!==null;){var B=Vi.flags;if(B&16&&kA(Vi.stateNode,""),B&128){var P=Vi.alternate;if(P!==null){var G=P.ref;G!==null&&(typeof G=="function"?G(null):G.current=null)}}switch(B&1038){case 2:npe(Vi),Vi.flags&=-3;break;case 6:npe(Vi),Vi.flags&=-3,YK(Vi.alternate,Vi);break;case 1024:Vi.flags&=-1025;break;case 1028:Vi.flags&=-1025,YK(Vi.alternate,Vi);break;case 4:YK(Vi.alternate,Vi);break;case 8:a=Vi,rpe(o,a);var ue=a.alternate;epe(a),ue!==null&&epe(ue)}Vi=Vi.nextEffect}}catch(ye){if(Vi===null)throw Error(oi(330));W3(Vi,ye),Vi=Vi.nextEffect}while(Vi!==null);if(G=pK,P=Pde(),B=G.focusedElem,o=G.selectionRange,P!==B&&B&&B.ownerDocument&&Mde(B.ownerDocument.documentElement,B)){for(o!==null&&lK(B)&&(P=o.start,G=o.end,G===void 0&&(G=P),"selectionStart"in B?(B.selectionStart=P,B.selectionEnd=Math.min(G,B.value.length)):(G=(P=B.ownerDocument||document)&&P.defaultView||window,G.getSelection&&(G=G.getSelection(),a=B.textContent.length,ue=Math.min(o.start,a),o=o.end===void 0?ue:Math.min(o.end,a),!G.extend&&ue>o&&(a=o,o=ue,ue=a),a=Ide(B,ue),s=Ide(B,o),a&&s&&(G.rangeCount!==1||G.anchorNode!==a.node||G.anchorOffset!==a.offset||G.focusNode!==s.node||G.focusOffset!==s.offset)&&(P=P.createRange(),P.setStart(a.node,a.offset),G.removeAllRanges(),ue>o?(G.addRange(P),G.extend(s.node,s.offset)):(P.setEnd(s.node,s.offset),G.addRange(P)))))),P=[],G=B;G=G.parentNode;)G.nodeType===1&&P.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<P.length;B++)G=P[B],G.element.scrollLeft=G.left,G.element.scrollTop=G.top}Gk=!!hK,pK=hK=null,n.current=t,Vi=r;do try{for(B=n;Vi!==null;){var I=Vi.flags;if(I&36&&Hqe(B,Vi.alternate,Vi),I&128){P=void 0;var J=Vi.ref;if(J!==null){var he=Vi.stateNode;switch(Vi.tag){case 5:P=he;break;default:P=he}typeof J=="function"?J(P):J.current=P}}Vi=Vi.nextEffect}}catch(ye){if(Vi===null)throw Error(oi(330));W3(Vi,ye),Vi=Vi.nextEffect}while(Vi!==null);Vi=null,Nqe(),Us=i}else n.current=t;if($3)$3=!1,pT=n,mT=e;else for(Vi=r;Vi!==null;)e=Vi.nextEffect,Vi.nextEffect=null,Vi.flags&8&&(I=Vi,I.sibling=null,I.stateNode=null),Vi=e;if(r=n.pendingLanes,r===0&&(v2=null),r===1?n===sJ?xT++:(xT=0,sJ=n):xT=0,t=t.stateNode,T_&&typeof T_.onCommitFiberRoot=="function")try{T_.onCommitFiberRoot(vK,t,void 0,(t.current.flags&64)===64)}catch{}if(Mp(n,A0()),OI)throw OI=!1,n=nJ,nJ=null,n;return(Us&8)!==0||m2(),null}function Jqe(){for(;Vi!==null;){var n=Vi.alternate;LI||gT===null||((Vi.flags&8)!==0?ide(Vi,gT)&&(LI=!0):Vi.tag===13&&Vqe(n,Vi)&&ide(Vi,gT)&&(LI=!0));var e=Vi.flags;(e&256)!==0&&zqe(n,Vi),(e&512)===0||$3||($3=!0,eT(97,function(){return V3(),null})),Vi=Vi.nextEffect}}function V3(){if(mT!==90){var n=97<mT?97:mT;return mT=90,F_(n,Zqe)}return!1}function Xqe(n,e){rJ.push(e,n),$3||($3=!0,eT(97,function(){return V3(),null}))}function dpe(n,e){iJ.push(e,n),$3||($3=!0,eT(97,function(){return V3(),null}))}function Zqe(){if(pT===null)return!1;var n=pT;if(pT=null,(Us&48)!==0)throw Error(oi(331));var e=Us;Us|=32;var t=iJ;iJ=[];for(var r=0;r<t.length;r+=2){var i=t[r],s=t[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(l){if(s===null)throw Error(oi(330));W3(s,l)}}for(t=rJ,rJ=[],r=0;r<t.length;r+=2){i=t[r],s=t[r+1];try{var a=i.create;i.destroy=a()}catch(l){if(s===null)throw Error(oi(330));W3(s,l)}}for(a=n.current.firstEffect;a!==null;)n=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=n;return Us=e,m2(),!0}function hpe(n,e,t){e=VK(t,e),e=Yhe(n,e,1),q3(n,e),e=Uh(),n=kI(n,1),n!==null&&(Qk(n,1,e),Mp(n,e))}function W3(n,e){if(n.tag===3)hpe(n,n,e);else for(var t=n.return;t!==null;){if(t.tag===3){hpe(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(v2===null||!v2.has(r))){n=VK(e,n);var i=Khe(t,n,1);if(q3(t,i),i=Uh(),t=kI(t,1),t!==null)Qk(t,1,i),Mp(t,i);else if(typeof r.componentDidCatch=="function"&&(v2===null||!v2.has(r)))try{r.componentDidCatch(e,n)}catch{}break}}t=t.return}}function eUe(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Uh(),n.pingedLanes|=n.suspendedLanes&t,hd===n&&(F0&t)===t&&(Hf===4||Hf===3&&(F0&62914560)===F0&&500>A0()-eJ?L7(n,0):XK|=t),Mp(n,e)}function tUe(n,e){var t=n.stateNode;t!==null&&t.delete(e),e=0,e===0&&(e=n.mode,(e&2)===0?e=1:(e&4)===0?e=w7()===99?1:2:(Eg===0&&(Eg=D7),e=p7(62914560&~Eg),e===0&&(e=4194304))),t=Uh(),n=kI(n,e),n!==null&&(Qk(n,e,t),Mp(n,t))}var ppe;ppe=function(n,e,t){var r=e.lanes;if(n!==null)if(n.memoizedProps!==e.pendingProps||th.current)cm=!0;else if((t&r)!==0)cm=(n.flags&16384)!==0;else{switch(cm=!1,e.tag){case 3:jhe(e),NK();break;case 5:_he(e);break;case 1:nh(e.type)&&lI(e);break;case 4:DK(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;Rl(dI,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(t&e.child.childLanes)!==0?qhe(n,e,t):(Rl(Nl,Nl.current&1),e=_g(n,e,t),e!==null?e.sibling:null);Rl(Nl,Nl.current&1);break;case 19:if(r=(t&e.childLanes)!==0,(n.flags&64)!==0){if(r)return Vhe(n,e,t);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rl(Nl,Nl.current),r)break;return null;case 23:case 24:return e.lanes=0,qK(n,e,t)}return _g(n,e,t)}else cm=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,i=S7(e,C0.current),A7(e,t),i=IK(null,e,r,n,i,t),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,nh(r)){var s=!0;lI(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,TK(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&mI(e,r,o,n),i.updater=xI,e.stateNode=i,i._reactInternals=e,FK(e,r,n,t),e=$K(null,e,r,!0,s,t)}else e.tag=0,ih(null,e,i,t),e=e.child;return e;case 16:i=e.elementType;e:{switch(n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=rUe(i),n=lm(i,n),s){case 0:e=UK(null,e,i,n,t);break e;case 1:e=Bhe(null,e,i,n,t);break e;case 11:e=khe(null,e,i,n,t);break e;case 14:e=Ihe(null,e,i,lm(i.type,n),r,t);break e}throw Error(oi(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lm(r,i),UK(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lm(r,i),Bhe(n,e,r,i,t);case 3:if(jhe(e),r=e.updateQueue,n===null||r===null)throw Error(oi(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,fhe(n,e),tT(e,r,null,t),r=e.memoizedState.element,r===i)NK(),e=_g(n,e,t);else{if(i=e.stateNode,(s=i.hydrate)&&(U3=v7(e.stateNode.containerInfo.firstChild),vg=e,s=g2=!0),s){if(n=i.mutableSourceEagerHydrationData,n!=null)for(i=0;i<n.length;i+=2)s=n[i],s._workInProgressVersionPrimary=n[i+1],F7.push(s);for(t=vhe(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|1024,t=t.sibling}else ih(n,e,r,t),NK();e=e.child}return e;case 5:return _he(e),n===null&&RK(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,mK(r,i)?o=null:s!==null&&mK(r,s)&&(e.flags|=16),Phe(n,e),ih(n,e,o,t),e.child;case 6:return n===null&&RK(e),null;case 13:return qhe(n,e,t);case 4:return DK(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=vI(e,null,r,t):ih(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lm(r,i),khe(n,e,r,i,t);case 7:return ih(n,e,e.pendingProps,t),e.child;case 8:return ih(n,e,e.pendingProps.children,t),e.child;case 12:return ih(n,e,e.pendingProps.children,t),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var a=e.type._context;if(Rl(dI,a._currentValue),a._currentValue=s,o!==null)if(a=o.value,s=Lp(a,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,s):1073741823)|0,s===0){if(o.children===i.children&&!th.current){e=_g(n,e,t);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var f=l.firstContext;f!==null;){if(f.context===r&&(f.observedBits&s)!==0){a.tag===1&&(f=j3(-1,t&-t),f.tag=2,q3(a,f)),a.lanes|=t,f=a.alternate,f!==null&&(f.lanes|=t),che(a.return,t),l.lanes|=t;break}f=f.next}}else o=a.tag===10&&a.type===e.type?null:a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ih(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,A7(e,t),i=kp(i,s.unstable_observedBits),r=r(i),e.flags|=1,ih(n,e,r,t),e.child;case 14:return i=e.type,s=lm(i,e.pendingProps),s=lm(i.type,s),Ihe(n,e,i,s,r,t);case 15:return Mhe(n,e,e.type,e.pendingProps,r,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lm(r,i),n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,nh(r)?(n=!0,lI(e)):n=!1,A7(e,t),xhe(e,r,i),FK(e,r,i,t),$K(null,e,r,!0,n,t);case 19:return Vhe(n,e,t);case 23:return qK(n,e,t);case 24:return qK(n,e,t)}throw Error(oi(156,e.tag))};function nUe(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Pp(n,e,t,r){return new nUe(n,e,t,r)}function uJ(n){return n=n.prototype,!(!n||!n.isReactComponent)}function rUe(n){if(typeof n=="function")return uJ(n)?1:0;if(n!=null){if(n=n.$$typeof,n===kk)return 11;if(n===Mk)return 14}return 2}function Q3(n,e){var t=n.alternate;return t===null?(t=Pp(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function MI(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")uJ(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case F3:return k7(t.children,i,s,e);case M0e:o=8,i|=16;break;case vY:o=8,i|=1;break;case OA:return n=Pp(12,t,e,i|8),n.elementType=OA,n.type=OA,n.lanes=s,n;case RA:return n=Pp(13,t,e,i),n.type=RA,n.elementType=RA,n.lanes=s,n;case Ik:return n=Pp(19,t,e,i),n.elementType=Ik,n.lanes=s,n;case CY:return lJ(t,i,s,e);case AY:return n=Pp(24,t,e,i),n.elementType=AY,n.lanes=s,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case _Y:o=10;break e;case bY:o=9;break e;case kk:o=11;break e;case Mk:o=14;break e;case EY:o=16,r=null;break e;case SY:o=22;break e}throw Error(oi(130,n==null?n:typeof n,""))}return e=Pp(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function k7(n,e,t,r){return n=Pp(7,n,r,e),n.lanes=t,n}function lJ(n,e,t,r){return n=Pp(23,n,r,e),n.elementType=CY,n.lanes=t,n}function cJ(n,e,t){return n=Pp(6,n,null,e),n.lanes=t,n}function fJ(n,e,t){return e=Pp(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function iUe(n,e,t){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=XY(0),this.expirationTimes=XY(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=XY(0),this.mutableSourceEagerHydrationData=null}function sUe(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E_,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function PI(n,e,t,r){var i=e.current,s=Uh(),o=z3(i);e:if(t){t=t._reactInternals;t:{if(w_(t)!==t||t.tag!==1)throw Error(oi(170));var a=t;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(nh(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(oi(171))}if(t.tag===1){var l=t.type;if(nh(l)){t=ehe(t,l,a);break e}}t=a}else t=P3;return e.context===null?e.context=t:e.pendingContext=t,e=j3(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),q3(i,e),H3(i,o,s),o}function dJ(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function mpe(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function hJ(n,e){mpe(n,e),(n=n.alternate)&&mpe(n,e)}function oUe(){return null}function pJ(n,e,t){var r=t!=null&&t.hydrationOptions!=null&&t.hydrationOptions.mutableSources||null;if(t=new iUe(n,e,t!=null&&t.hydrate===!0),e=Pp(3,null,null,e===2?7:e===1?3:0),t.current=e,e.stateNode=t,TK(e),n[_7]=t.current,zde(n.nodeType===8?n.parentNode:n),r)for(n=0;n<r.length;n++){e=r[n];var i=e._getVersion;i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=t}pJ.prototype.render=function(n){PI(n,this._internalRoot,null,null)};pJ.prototype.unmount=function(){var n=this._internalRoot,e=n.containerInfo;PI(null,n,null,function(){e[_7]=null})};function vT(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function aUe(n,e){if(e||(e=n?n.nodeType===9?n.documentElement:n.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var t;t=n.lastChild;)n.removeChild(t);return new pJ(n,0,e?{hydrate:!0}:void 0)}function BI(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var a=i;i=function(){var f=dJ(o);a.call(f)}}PI(e,o,n,i)}else{if(s=t._reactRootContainer=aUe(t,r),o=s._internalRoot,typeof i=="function"){var l=i;i=function(){var f=dJ(o);l.call(f)}}ape(function(){PI(e,o,n,i)})}return dJ(o)}sde=function(n){if(n.tag===13){var e=Uh();H3(n,4,e),hJ(n,4)}};WY=function(n){if(n.tag===13){var e=Uh();H3(n,67108864,e),hJ(n,67108864)}};ode=function(n){if(n.tag===13){var e=Uh(),t=z3(n);H3(n,t,e),hJ(n,t)}};ade=function(n,e){return e()};jY=function(n,e,t){switch(e){case"input":if(OY(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=aI(r);if(!i)throw Error(oi(90));j0e(r),OY(r,i)}}}break;case"textarea":H0e(n,t);break;case"select":e=t.value,e!=null&&u7(n,!!t.multiple,e,!1)}};qY=ope;Z0e=function(n,e,t,r,i){var s=Us;Us|=4;try{return F_(98,n.bind(null,e,t,r,i))}finally{Us=s,Us===0&&(R7(),m2())}};UY=function(){(Us&49)===0&&(Qqe(),V3())};ede=function(n,e){var t=Us;Us|=2;try{return n(e)}finally{Us=t,Us===0&&(R7(),m2())}};function xpe(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vT(e))throw Error(oi(200));return sUe(n,e,null,t)}var uUe={Events:[ZA,b7,aI,J0e,X0e,V3,{current:!1}]},_T={findFiberByHostInstance:C_,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lUe={bundleType:_T.bundleType,version:_T.version,rendererPackageName:_T.rendererPackageName,rendererConfig:_T.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b_.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=rde(n),n===null?null:n.stateNode},findFiberByHostInstance:_T.findFiberByHostInstance||oUe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(bT=__REACT_DEVTOOLS_GLOBAL_HOOK__,!bT.isDisabled&&bT.supportsFiber))try{vK=bT.inject(lUe),T_=bT}catch{}var bT;Bp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uUe;Bp.createPortal=xpe;Bp.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(oi(188)):Error(oi(268,Object.keys(n)));return n=rde(e),n=n===null?null:n.stateNode,n};Bp.flushSync=function(n,e){var t=Us;if((t&48)!==0)return n(e);Us|=1;try{if(n)return F_(99,n.bind(null,e))}finally{Us=t,m2()}};Bp.hydrate=function(n,e,t){if(!vT(e))throw Error(oi(200));return BI(null,n,e,!0,t)};Bp.render=function(n,e,t){if(!vT(e))throw Error(oi(200));return BI(null,n,e,!1,t)};Bp.unmountComponentAtNode=function(n){if(!vT(n))throw Error(oi(40));return n._reactRootContainer?(ape(function(){BI(null,null,n,!1,function(){n._reactRootContainer=null,n[_7]=null})}),!0):!1};Bp.unstable_batchedUpdates=ope;Bp.unstable_createPortal=function(n,e){return xpe(n,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Bp.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!vT(t))throw Error(oi(200));if(n==null||n._reactInternals===void 0)throw Error(oi(38));return BI(n,e,t,!1,r)};Bp.version="17.0.2"});var jI=Ae((MEt,vpe)=>{"use strict";m();function ype(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ype)}catch(n){console.error(n)}}ype(),vpe.exports=gpe()});var Fpe={};JG(Fpe,{getCLS:()=>cUe,getFCP:()=>Spe,getFID:()=>hUe,getLCP:()=>pUe,getTTFB:()=>mUe});var G3,ET,_pe,qI,Sg,UI,$I,ST,Y3,wT,bpe,Epe,mJ,Spe,wpe,xJ,cUe,CT,fUe,Cpe,Ape,dUe,Tpe,hUe,gJ,pUe,mUe,Dpe=KG(()=>{m();Sg=function(n,e){return{name:n,value:e===void 0?-1:e,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},UI=function(n,e){try{if(PerformanceObserver.supportedEntryTypes.includes(n)){if(n==="first-input"&&!("PerformanceEventTiming"in self))return;var t=new PerformanceObserver(function(r){return r.getEntries().map(e)});return t.observe({type:n,buffered:!0}),t}}catch{}},$I=function(n,e){var t=function r(i){i.type!=="pagehide"&&document.visibilityState!=="hidden"||(n(i),e&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},ST=function(n){addEventListener("pageshow",function(e){e.persisted&&n(e)},!0)},Y3=function(n,e,t){var r;return function(i){e.value>=0&&(i||t)&&(e.delta=e.value-(r||0),(e.delta||r===void 0)&&(r=e.value,n(e)))}},wT=-1,bpe=function(){return document.visibilityState==="hidden"?0:1/0},Epe=function(){$I(function(n){var e=n.timeStamp;wT=e},!0)},mJ=function(){return wT<0&&(wT=bpe(),Epe(),ST(function(){setTimeout(function(){wT=bpe(),Epe()},0)})),{get firstHiddenTime(){return wT}}},Spe=function(n,e){var t,r=mJ(),i=Sg("FCP"),s=function(l){l.name==="first-contentful-paint"&&(a&&a.disconnect(),l.startTime<r.firstHiddenTime&&(i.value=l.startTime,i.entries.push(l),t(!0)))},o=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],a=o?null:UI("paint",s);(o||a)&&(t=Y3(n,i,e),o&&s(o),ST(function(l){i=Sg("FCP"),t=Y3(n,i,e),requestAnimationFrame(function(){requestAnimationFrame(function(){i.value=performance.now()-l.timeStamp,t(!0)})})}))},wpe=!1,xJ=-1,cUe=function(n,e){wpe||(Spe(function(f){xJ=f.value}),wpe=!0);var t,r=function(f){xJ>-1&&n(f)},i=Sg("CLS",0),s=0,o=[],a=function(f){if(!f.hadRecentInput){var p=o[0],_=o[o.length-1];s&&f.startTime-_.startTime<1e3&&f.startTime-p.startTime<5e3?(s+=f.value,o.push(f)):(s=f.value,o=[f]),s>i.value&&(i.value=s,i.entries=o,t())}},l=UI("layout-shift",a);l&&(t=Y3(r,i,e),$I(function(){l.takeRecords().map(a),t(!0)}),ST(function(){s=0,xJ=-1,i=Sg("CLS",0),t=Y3(r,i,e)}))},CT={passive:!0,capture:!0},fUe=new Date,Cpe=function(n,e){G3||(G3=e,ET=n,_pe=new Date,Tpe(removeEventListener),Ape())},Ape=function(){if(ET>=0&&ET<_pe-fUe){var n={entryType:"first-input",name:G3.type,target:G3.target,cancelable:G3.cancelable,startTime:G3.timeStamp,processingStart:G3.timeStamp+ET};qI.forEach(function(e){e(n)}),qI=[]}},dUe=function(n){if(n.cancelable){var e=(n.timeStamp>1e12?new Date:performance.now())-n.timeStamp;n.type=="pointerdown"?function(t,r){var i=function(){Cpe(t,r),o()},s=function(){o()},o=function(){removeEventListener("pointerup",i,CT),removeEventListener("pointercancel",s,CT)};addEventListener("pointerup",i,CT),addEventListener("pointercancel",s,CT)}(e,n):Cpe(e,n)}},Tpe=function(n){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return n(e,dUe,CT)})},hUe=function(n,e){var t,r=mJ(),i=Sg("FID"),s=function(a){a.startTime<r.firstHiddenTime&&(i.value=a.processingStart-a.startTime,i.entries.push(a),t(!0))},o=UI("first-input",s);t=Y3(n,i,e),o&&$I(function(){o.takeRecords().map(s),o.disconnect()},!0),o&&ST(function(){var a;i=Sg("FID"),t=Y3(n,i,e),qI=[],ET=-1,G3=null,Tpe(addEventListener),a=s,qI.push(a),Ape()})},gJ={},pUe=function(n,e){var t,r=mJ(),i=Sg("LCP"),s=function(l){var f=l.startTime;f<r.firstHiddenTime&&(i.value=f,i.entries.push(l),t())},o=UI("largest-contentful-paint",s);if(o){t=Y3(n,i,e);var a=function(){gJ[i.id]||(o.takeRecords().map(s),o.disconnect(),gJ[i.id]=!0,t(!0))};["keydown","click"].forEach(function(l){addEventListener(l,a,{once:!0,capture:!0})}),$I(a,!0),ST(function(l){i=Sg("LCP"),t=Y3(n,i,e),requestAnimationFrame(function(){requestAnimationFrame(function(){i.value=performance.now()-l.timeStamp,gJ[i.id]=!0,t(!0)})})})}},mUe=function(n){var e,t=Sg("TTFB");e=function(){try{var r=performance.getEntriesByType("navigation")[0]||function(){var i=performance.timing,s={entryType:"navigation",startTime:0};for(var o in i)o!=="navigationStart"&&o!=="toJSON"&&(s[o]=Math.max(i[o]-i.navigationStart,0));return s}();if(t.value=t.delta=r.responseStart,t.value<0||t.value>performance.now())return;t.entries=[r],n(t)}catch{}},document.readyState==="complete"?setTimeout(e,0):addEventListener("load",function(){return setTimeout(e,0)})}});var B1e=Ae(Fa=>{"use strict";m();var QJ=Symbol.for("react.element"),GJ=Symbol.for("react.portal"),eM=Symbol.for("react.fragment"),tM=Symbol.for("react.strict_mode"),nM=Symbol.for("react.profiler"),rM=Symbol.for("react.provider"),iM=Symbol.for("react.context"),k$e=Symbol.for("react.server_context"),sM=Symbol.for("react.forward_ref"),oM=Symbol.for("react.suspense"),aM=Symbol.for("react.suspense_list"),uM=Symbol.for("react.memo"),lM=Symbol.for("react.lazy"),I$e=Symbol.for("react.offscreen"),P1e;P1e=Symbol.for("react.module.reference");function qp(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case QJ:switch(n=n.type,n){case eM:case nM:case tM:case oM:case aM:return n;default:switch(n=n&&n.$$typeof,n){case k$e:case iM:case sM:case lM:case uM:case rM:return n;default:return e}}case GJ:return e}}}Fa.ContextConsumer=iM;Fa.ContextProvider=rM;Fa.Element=QJ;Fa.ForwardRef=sM;Fa.Fragment=eM;Fa.Lazy=lM;Fa.Memo=uM;Fa.Portal=GJ;Fa.Profiler=nM;Fa.StrictMode=tM;Fa.Suspense=oM;Fa.SuspenseList=aM;Fa.isAsyncMode=function(){return!1};Fa.isConcurrentMode=function(){return!1};Fa.isContextConsumer=function(n){return qp(n)===iM};Fa.isContextProvider=function(n){return qp(n)===rM};Fa.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===QJ};Fa.isForwardRef=function(n){return qp(n)===sM};Fa.isFragment=function(n){return qp(n)===eM};Fa.isLazy=function(n){return qp(n)===lM};Fa.isMemo=function(n){return qp(n)===uM};Fa.isPortal=function(n){return qp(n)===GJ};Fa.isProfiler=function(n){return qp(n)===nM};Fa.isStrictMode=function(n){return qp(n)===tM};Fa.isSuspense=function(n){return qp(n)===oM};Fa.isSuspenseList=function(n){return qp(n)===aM};Fa.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===eM||n===nM||n===tM||n===oM||n===aM||n===I$e||typeof n=="object"&&n!==null&&(n.$$typeof===lM||n.$$typeof===uM||n.$$typeof===rM||n.$$typeof===iM||n.$$typeof===sM||n.$$typeof===P1e||n.getModuleId!==void 0)};Fa.typeOf=qp});var q1e=Ae((ESt,j1e)=>{"use strict";m();j1e.exports=B1e()});var $1e=Ae((SSt,U1e)=>{m();U1e.exports=function(e,t,r,i){var s=r?r.call(i,e,t):void 0;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),f=0;f<o.length;f++){var p=o[f];if(!l(p))return!1;var _=e[p],E=t[p];if(s=r?r.call(i,_,E,p):void 0,s===!1||s===void 0&&_!==E)return!1}return!0}});var V1e=Ae(YJ=>{"use strict";m();Object.defineProperty(YJ,"__esModule",{value:!0});function B$e(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}YJ.default=B$e});var Q1e=Ae((TSt,W1e)=>{"use strict";m();W1e.exports=V1e()});var G1e=Ae(KJ=>{"use strict";m();Object.defineProperty(KJ,"__esModule",{value:!0});var j$e=Q1e();function q$e(n){return n&&n.__esModule?n:{default:n}}var U$e=q$e(j$e),$$e=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,z$e=U$e.default(function(n){return $$e.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});KJ.default=z$e});var K1e=Ae((DSt,Y1e)=>{"use strict";m();Y1e.exports=G1e()});var X1e=Ae(Da=>{"use strict";m();var gf=typeof Symbol=="function"&&Symbol.for,JJ=gf?Symbol.for("react.element"):60103,XJ=gf?Symbol.for("react.portal"):60106,cM=gf?Symbol.for("react.fragment"):60107,fM=gf?Symbol.for("react.strict_mode"):60108,dM=gf?Symbol.for("react.profiler"):60114,hM=gf?Symbol.for("react.provider"):60109,pM=gf?Symbol.for("react.context"):60110,ZJ=gf?Symbol.for("react.async_mode"):60111,mM=gf?Symbol.for("react.concurrent_mode"):60111,xM=gf?Symbol.for("react.forward_ref"):60112,gM=gf?Symbol.for("react.suspense"):60113,H$e=gf?Symbol.for("react.suspense_list"):60120,yM=gf?Symbol.for("react.memo"):60115,vM=gf?Symbol.for("react.lazy"):60116,V$e=gf?Symbol.for("react.block"):60121,W$e=gf?Symbol.for("react.fundamental"):60117,Q$e=gf?Symbol.for("react.responder"):60118,G$e=gf?Symbol.for("react.scope"):60119;function Hh(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case JJ:switch(n=n.type,n){case ZJ:case mM:case cM:case dM:case fM:case gM:return n;default:switch(n=n&&n.$$typeof,n){case pM:case xM:case vM:case yM:case hM:return n;default:return e}}case XJ:return e}}}function J1e(n){return Hh(n)===mM}Da.AsyncMode=ZJ;Da.ConcurrentMode=mM;Da.ContextConsumer=pM;Da.ContextProvider=hM;Da.Element=JJ;Da.ForwardRef=xM;Da.Fragment=cM;Da.Lazy=vM;Da.Memo=yM;Da.Portal=XJ;Da.Profiler=dM;Da.StrictMode=fM;Da.Suspense=gM;Da.isAsyncMode=function(n){return J1e(n)||Hh(n)===ZJ};Da.isConcurrentMode=J1e;Da.isContextConsumer=function(n){return Hh(n)===pM};Da.isContextProvider=function(n){return Hh(n)===hM};Da.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===JJ};Da.isForwardRef=function(n){return Hh(n)===xM};Da.isFragment=function(n){return Hh(n)===cM};Da.isLazy=function(n){return Hh(n)===vM};Da.isMemo=function(n){return Hh(n)===yM};Da.isPortal=function(n){return Hh(n)===XJ};Da.isProfiler=function(n){return Hh(n)===dM};Da.isStrictMode=function(n){return Hh(n)===fM};Da.isSuspense=function(n){return Hh(n)===gM};Da.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===cM||n===mM||n===dM||n===fM||n===gM||n===H$e||typeof n=="object"&&n!==null&&(n.$$typeof===vM||n.$$typeof===yM||n.$$typeof===hM||n.$$typeof===pM||n.$$typeof===xM||n.$$typeof===W$e||n.$$typeof===Q$e||n.$$typeof===G$e||n.$$typeof===V$e)};Da.typeOf=Hh});var eme=Ae((RSt,Z1e)=>{"use strict";m();Z1e.exports=X1e()});var ame=Ae((NSt,ome)=>{"use strict";m();var eX=eme(),Y$e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},K$e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},J$e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},tme={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},tX={};tX[eX.ForwardRef]=J$e;tX[eX.Memo]=tme;function nme(n){return eX.isMemo(n)?tme:tX[n.$$typeof]||Y$e}var X$e=Object.defineProperty,Z$e=Object.getOwnPropertyNames,rme=Object.getOwnPropertySymbols,eze=Object.getOwnPropertyDescriptor,tze=Object.getPrototypeOf,ime=Object.prototype;function sme(n,e,t){if(typeof e!="string"){if(ime){var r=tze(e);r&&r!==ime&&sme(n,r,t)}var i=Z$e(e);rme&&(i=i.concat(rme(e)));for(var s=nme(n),o=nme(e),a=0;a<i.length;++a){var l=i[a];if(!K$e[l]&&!(t&&t[l])&&!(o&&o[l])&&!(s&&s[l])){var f=eze(e,l);try{X$e(n,l,f)}catch{}}}}return n}ome.exports=sme});var Dme=Ae((QT,mX)=>{m();(function(n,e){typeof QT=="object"&&typeof mX=="object"?mX.exports=e():typeof define=="function"&&define.amd?define([],e):typeof QT=="object"?QT.onig=e():n.onig=e()})(QT,function(){return n={770:function(t,r,i){"use strict";var s=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(r,"__esModule",{value:!0}),r.setDefaultDebugCall=r.createOnigScanner=r.createOnigString=r.loadWASM=r.OnigScanner=r.OnigString=void 0;let o=s(i(418)),a=null,l=!1;class f{constructor(q){let z=q.length,L=f._utf8ByteLength(q),B=L!==z,P=B?new Uint32Array(z+1):null;B&&(P[z]=L);let G=B?new Uint32Array(L+1):null;B&&(G[L]=z);let ue=new Uint8Array(L),I=0;for(let J=0;J<z;J++){let he=q.charCodeAt(J),ye=he,He=!1;if(he>=55296&&he<=56319&&J+1<z){let at=q.charCodeAt(J+1);at>=56320&&at<=57343&&(ye=65536+(he-55296<<10)|at-56320,He=!0)}B&&(P[J]=I,He&&(P[J+1]=I),ye<=127?G[I+0]=J:ye<=2047?(G[I+0]=J,G[I+1]=J):ye<=65535?(G[I+0]=J,G[I+1]=J,G[I+2]=J):(G[I+0]=J,G[I+1]=J,G[I+2]=J,G[I+3]=J)),ye<=127?ue[I++]=ye:ye<=2047?(ue[I++]=192|(1984&ye)>>>6,ue[I++]=128|(63&ye)>>>0):ye<=65535?(ue[I++]=224|(61440&ye)>>>12,ue[I++]=128|(4032&ye)>>>6,ue[I++]=128|(63&ye)>>>0):(ue[I++]=240|(1835008&ye)>>>18,ue[I++]=128|(258048&ye)>>>12,ue[I++]=128|(4032&ye)>>>6,ue[I++]=128|(63&ye)>>>0),He&&J++}this.utf16Length=z,this.utf8Length=L,this.utf16Value=q,this.utf8Value=ue,this.utf16OffsetToUtf8=P,this.utf8OffsetToUtf16=G}static _utf8ByteLength(q){let z=0;for(let L=0,B=q.length;L<B;L++){let P=q.charCodeAt(L),G=P,ue=!1;if(P>=55296&&P<=56319&&L+1<B){let I=q.charCodeAt(L+1);I>=56320&&I<=57343&&(G=65536+(P-55296<<10)|I-56320,ue=!0)}z+=G<=127?1:G<=2047?2:G<=65535?3:4,ue&&L++}return z}createString(q){let z=q._omalloc(this.utf8Length);return q.HEAPU8.set(this.utf8Value,z),z}}class p{constructor(q){if(this.id=++p.LAST_ID,!a)throw new Error("Must invoke loadWASM first.");this._onigBinding=a,this.content=q;let z=new f(q);this.utf16Length=z.utf16Length,this.utf8Length=z.utf8Length,this.utf16OffsetToUtf8=z.utf16OffsetToUtf8,this.utf8OffsetToUtf16=z.utf8OffsetToUtf16,this.utf8Length<1e4&&!p._sharedPtrInUse?(p._sharedPtr||(p._sharedPtr=a._omalloc(1e4)),p._sharedPtrInUse=!0,a.HEAPU8.set(z.utf8Value,p._sharedPtr),this.ptr=p._sharedPtr):this.ptr=z.createString(a)}convertUtf8OffsetToUtf16(q){return this.utf8OffsetToUtf16?q<0?0:q>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[q]:q}convertUtf16OffsetToUtf8(q){return this.utf16OffsetToUtf8?q<0?0:q>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[q]:q}dispose(){this.ptr===p._sharedPtr?p._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}r.OnigString=p,p.LAST_ID=0,p._sharedPtr=0,p._sharedPtrInUse=!1;class _{constructor(q){if(!a)throw new Error("Must invoke loadWASM first.");let z=[],L=[];for(let ue=0,I=q.length;ue<I;ue++){let J=new f(q[ue]);z[ue]=J.createString(a),L[ue]=J.utf8Length}let B=a._omalloc(4*q.length);a.HEAPU32.set(z,B/4);let P=a._omalloc(4*q.length);a.HEAPU32.set(L,P/4);let G=a._createOnigScanner(B,P,q.length);for(let ue=0,I=q.length;ue<I;ue++)a._ofree(z[ue]);a._ofree(P),a._ofree(B),G===0&&function(ue){throw new Error(ue.UTF8ToString(ue._getLastOnigError()))}(a),this._onigBinding=a,this._ptr=G}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(q,z,L){let B=l,P=0;if(typeof L=="number"?(8&L&&(B=!0),P=L):typeof L=="boolean"&&(B=L),typeof q=="string"){q=new p(q);let G=this._findNextMatchSync(q,z,B,P);return q.dispose(),G}return this._findNextMatchSync(q,z,B,P)}_findNextMatchSync(q,z,L,B){let P=this._onigBinding,G;if(G=L?P._findNextOnigScannerMatchDbg(this._ptr,q.id,q.ptr,q.utf8Length,q.convertUtf16OffsetToUtf8(z),B):P._findNextOnigScannerMatch(this._ptr,q.id,q.ptr,q.utf8Length,q.convertUtf16OffsetToUtf8(z),B),G===0)return null;let ue=P.HEAPU32,I=G/4,J=ue[I++],he=ue[I++],ye=[];for(let He=0;He<he;He++){let at=q.convertUtf8OffsetToUtf16(ue[I++]),ct=q.convertUtf8OffsetToUtf16(ue[I++]);ye[He]={start:at,end:ct,length:ct-at}}return{index:J,captureIndices:ye}}}r.OnigScanner=_;let E=!1,O=null;r.loadWASM=function(R){if(E)return O;let q,z,L,B;if(E=!0,function(P){return typeof P.instantiator=="function"}(R))q=R.instantiator,z=R.print;else{let P;(function(G){return G.data!==void 0})(R)?(P=R.data,z=R.print):P=R,q=function(G){return typeof Response!="undefined"&&G instanceof Response}(P)?typeof WebAssembly.instantiateStreaming=="function"?function(G){return ue=>WebAssembly.instantiateStreaming(G,ue)}(P):function(G){return async ue=>{let I=await G.arrayBuffer();return WebAssembly.instantiate(I,ue)}}(P):function(G){return ue=>WebAssembly.instantiate(G,ue)}(P)}return O=new Promise((P,G)=>{L=P,B=G}),function(P,G,ue,I){o.default({print:G,instantiateWasm:(J,he)=>{if(typeof performance=="undefined"){let ye=()=>Date.now();J.env.emscripten_get_now=ye,J.wasi_snapshot_preview1.emscripten_get_now=ye}return P(J).then(ye=>he(ye.instance),I),{}}}).then(J=>{a=J,ue()})}(q,z,L,B),O},r.createOnigString=function(R){return new p(R)},r.createOnigScanner=function(R){return new _(R)},r.setDefaultDebugCall=function(R){l=R}},418:t=>{var r=(typeof document!="undefined"&&document.currentScript&&document.currentScript.src,function(i){var s,o,a=(i=i||{})!==void 0?i:{};a.ready=new Promise(function(Ne,ze){s=Ne,o=ze});var l,f={};for(l in a)a.hasOwnProperty(l)&&(f[l]=a[l]);var p,_=[],E=!1,O=!1,R=!0,q="";function z(Ne){return a.locateFile?a.locateFile(Ne,q):q+Ne}R&&(p=function(Ne){var ze;return typeof readbuffer=="function"?new Uint8Array(readbuffer(Ne)):(J(typeof(ze=read(Ne,"binary"))=="object"),ze)},typeof scriptArgs!="undefined"?_=scriptArgs:arguments!==void 0&&(_=arguments),typeof onig_print!="undefined"&&(typeof console=="undefined"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr!="undefined"?printErr:onig_print));var L=a.print||console.log.bind(console),B=a.printErr||console.warn.bind(console);for(l in f)f.hasOwnProperty(l)&&(a[l]=f[l]);f=null,a.arguments&&(_=a.arguments),a.thisProgram&&a.thisProgram,a.quit&&a.quit;var P,G,ue=function(Ne){};a.wasmBinary&&(P=a.wasmBinary),a.noExitRuntime,typeof WebAssembly!="object"&&ve("no native wasm support detected");var I=!1;function J(Ne,ze){Ne||ve("Assertion failed: "+ze)}var he,ye,He,at=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function ct(Ne,ze,De){for(var Pt=ze+De,mt=ze;Ne[mt]&&!(mt>=Pt);)++mt;if(mt-ze>16&&Ne.subarray&&at)return at.decode(Ne.subarray(ze,mt));for(var xt="";ze<mt;){var rn=Ne[ze++];if(128&rn){var Qt=63&Ne[ze++];if((224&rn)!=192){var Fn=63&Ne[ze++];if((rn=(240&rn)==224?(15&rn)<<12|Qt<<6|Fn:(7&rn)<<18|Qt<<12|Fn<<6|63&Ne[ze++])<65536)xt+=String.fromCharCode(rn);else{var Wn=rn-65536;xt+=String.fromCharCode(55296|Wn>>10,56320|1023&Wn)}}else xt+=String.fromCharCode((31&rn)<<6|Qt)}else xt+=String.fromCharCode(rn)}return xt}function Ze(Ne,ze){return Ne?ct(ye,Ne,ze):""}function Et(Ne,ze){return Ne%ze>0&&(Ne+=ze-Ne%ze),Ne}function Mt(Ne){he=Ne,a.HEAP8=new Int8Array(Ne),a.HEAP16=new Int16Array(Ne),a.HEAP32=He=new Int32Array(Ne),a.HEAPU8=ye=new Uint8Array(Ne),a.HEAPU16=new Uint16Array(Ne),a.HEAPU32=new Uint32Array(Ne),a.HEAPF32=new Float32Array(Ne),a.HEAPF64=new Float64Array(Ne)}typeof TextDecoder!="undefined"&&new TextDecoder("utf-16le"),a.INITIAL_MEMORY;var qe,te=[],et=[],be=[],ke=[];function we(){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)Ht(a.preRun.shift());ft(te)}function pe(){ft(et)}function Je(){ft(be)}function lt(){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)Ct(a.postRun.shift());ft(ke)}function Ht(Ne){te.unshift(Ne)}function Ct(Ne){ke.unshift(Ne)}et.push({func:function(){tr()}});var mn=0,kt=null,Bt=null;function tn(Ne){mn++,a.monitorRunDependencies&&a.monitorRunDependencies(mn)}function bt(Ne){if(mn--,a.monitorRunDependencies&&a.monitorRunDependencies(mn),mn==0&&(kt!==null&&(clearInterval(kt),kt=null),Bt)){var ze=Bt;Bt=null,ze()}}function ve(Ne){a.onAbort&&a.onAbort(Ne),B(Ne+=""),I=!0,Ne="abort("+Ne+"). Build with -s ASSERTIONS=1 for more info.";var ze=new WebAssembly.RuntimeError(Ne);throw o(ze),ze}function Le(Ne,ze){return String.prototype.startsWith?Ne.startsWith(ze):Ne.indexOf(ze)===0}a.preloadedImages={},a.preloadedAudios={};var _e="data:application/octet-stream;base64,";function ce(Ne){return Le(Ne,_e)}var tt,Ke="onig.wasm";function re(Ne){try{if(Ne==Ke&&P)return new Uint8Array(P);if(p)return p(Ne);throw"both async and sync fetching of the wasm failed"}catch(ze){ve(ze)}}function Oe(){return P||!E&&!O||typeof fetch!="function"?Promise.resolve().then(function(){return re(Ke)}):fetch(Ke,{credentials:"same-origin"}).then(function(Ne){if(!Ne.ok)throw"failed to load wasm binary file at '"+Ke+"'";return Ne.arrayBuffer()}).catch(function(){return re(Ke)})}function nt(){var Ne={env:Mn,wasi_snapshot_preview1:Mn};function ze(mt,xt){var rn=mt.exports;a.asm=rn,Mt((G=a.asm.memory).buffer),qe=a.asm.__indirect_function_table,bt()}function De(mt){ze(mt.instance)}function Pt(mt){return Oe().then(function(xt){return WebAssembly.instantiate(xt,Ne)}).then(mt,function(xt){B("failed to asynchronously prepare wasm: "+xt),ve(xt)})}if(tn(),a.instantiateWasm)try{return a.instantiateWasm(Ne,ze)}catch(mt){return B("Module.instantiateWasm callback failed with error: "+mt),!1}return(P||typeof WebAssembly.instantiateStreaming!="function"||ce(Ke)||typeof fetch!="function"?Pt(De):fetch(Ke,{credentials:"same-origin"}).then(function(mt){return WebAssembly.instantiateStreaming(mt,Ne).then(De,function(xt){return B("wasm streaming compile failed: "+xt),B("falling back to ArrayBuffer instantiation"),Pt(De)})})).catch(o),{}}function ft(Ne){for(;Ne.length>0;){var ze=Ne.shift();if(typeof ze!="function"){var De=ze.func;typeof De=="number"?ze.arg===void 0?qe.get(De)():qe.get(De)(ze.arg):De(ze.arg===void 0?null:ze.arg)}else ze(a)}}function Ot(Ne,ze,De){ye.copyWithin(Ne,ze,ze+De)}function Yt(){return ye.length}function Gt(Ne){try{return G.grow(Ne-he.byteLength+65535>>>16),Mt(G.buffer),1}catch{}}function fn(Ne){var ze=Yt(),De=2147483648;if(Ne>De)return!1;for(var Pt=1;Pt<=4;Pt*=2){var mt=ze*(1+.2/Pt);if(mt=Math.min(mt,Ne+100663296),Gt(Math.min(De,Et(Math.max(Ne,mt),65536))))return!0}return!1}ce(Ke)||(Ke=z(Ke)),tt=typeof dateNow!="undefined"?dateNow:function(){return performance.now()};var gn={mappings:{},buffers:[null,[],[]],printChar:function(Ne,ze){var De=gn.buffers[Ne];ze===0||ze===10?((Ne===1?L:B)(ct(De,0)),De.length=0):De.push(ze)},varargs:void 0,get:function(){return gn.varargs+=4,He[gn.varargs-4>>2]},getStr:function(Ne){return Ze(Ne)},get64:function(Ne,ze){return Ne}};function yn(Ne,ze,De,Pt){for(var mt=0,xt=0;xt<De;xt++){for(var rn=He[ze+8*xt>>2],Qt=He[ze+(8*xt+4)>>2],Fn=0;Fn<Qt;Fn++)gn.printChar(Ne,ye[rn+Fn]);mt+=Qt}return He[Pt>>2]=mt,0}function Lt(Ne){ue(0|Ne)}var un,Mn={emscripten_get_now:tt,emscripten_memcpy_big:Ot,emscripten_resize_heap:fn,fd_write:yn,setTempRet0:Lt},tr=(nt(),a.___wasm_call_ctors=function(){return(tr=a.___wasm_call_ctors=a.asm.__wasm_call_ctors).apply(null,arguments)});function Rn(Ne){function ze(){un||(un=!0,a.calledRun=!0,I||(pe(),Je(),s(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),lt()))}Ne=Ne||_,mn>0||(we(),mn>0||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),ze()},1)):ze()))}if(a.___errno_location=function(){return(a.___errno_location=a.asm.__errno_location).apply(null,arguments)},a._omalloc=function(){return(a._omalloc=a.asm.omalloc).apply(null,arguments)},a._ofree=function(){return(a._ofree=a.asm.ofree).apply(null,arguments)},a._getLastOnigError=function(){return(a._getLastOnigError=a.asm.getLastOnigError).apply(null,arguments)},a._createOnigScanner=function(){return(a._createOnigScanner=a.asm.createOnigScanner).apply(null,arguments)},a._freeOnigScanner=function(){return(a._freeOnigScanner=a.asm.freeOnigScanner).apply(null,arguments)},a._findNextOnigScannerMatch=function(){return(a._findNextOnigScannerMatch=a.asm.findNextOnigScannerMatch).apply(null,arguments)},a._findNextOnigScannerMatchDbg=function(){return(a._findNextOnigScannerMatchDbg=a.asm.findNextOnigScannerMatchDbg).apply(null,arguments)},a.stackSave=function(){return(a.stackSave=a.asm.stackSave).apply(null,arguments)},a.stackRestore=function(){return(a.stackRestore=a.asm.stackRestore).apply(null,arguments)},a.stackAlloc=function(){return(a.stackAlloc=a.asm.stackAlloc).apply(null,arguments)},a.dynCall_jiji=function(){return(a.dynCall_jiji=a.asm.dynCall_jiji).apply(null,arguments)},a.UTF8ToString=Ze,Bt=function Ne(){un||Rn(),un||(Bt=Ne)},a.run=Rn,a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return Rn(),i.ready});t.exports=r}},e={},function t(r){var i=e[r];if(i!==void 0)return i.exports;var s=e[r]={exports:{}};return n[r].call(s.exports,s,s.exports,t),s.exports}(770);var n,e})});var Ome=Ae((GT,xX)=>{m();(function(n,e){typeof GT=="object"&&typeof xX=="object"?xX.exports=e():typeof define=="function"&&define.amd?define([],e):typeof GT=="object"?GT.vscodetextmate=e():n.vscodetextmate=e()})(GT,function(){return function(n){var e={};function t(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=n,t.c=e,t.d=function(r,i,s){t.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:s})},t.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,i){if(1&i&&(r=t(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var o in r)t.d(s,o,function(a){return r[a]}.bind(null,o));return s},t.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(i,"a",i),i},t.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},t.p="",t(t.s=3)}([function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(1),i=t(5),s=t(6),o=t(2),a=typeof performance=="undefined"?function(){return Date.now()}:function(){return performance.now()};e.createGrammar=function(qe,te,et,be,ke,we){return new P(qe,te,et,be,ke,we)};var l=function(qe){this.scopeName=qe};e.FullScopeDependency=l;var f=function(){function qe(te,et){this.scopeName=te,this.include=et}return qe.prototype.toKey=function(){return this.scopeName+"#"+this.include},qe}();e.PartialScopeDependency=f;var p=function(){function qe(){this.full=[],this.partial=[],this.visitedRule=new Set,this._seenFull=new Set,this._seenPartial=new Set}return qe.prototype.add=function(te){te instanceof l?this._seenFull.has(te.scopeName)||(this._seenFull.add(te.scopeName),this.full.push(te)):this._seenPartial.has(te.toKey())||(this._seenPartial.add(te.toKey()),this.partial.push(te))},qe}();function _(qe,te,et,be,ke){for(var we=0,pe=be;we<pe.length;we++){var Je=pe[we];if(!qe.visitedRule.has(Je)){qe.visitedRule.add(Je);var lt=Je.repository?r.mergeObjects({},ke,Je.repository):ke;Array.isArray(Je.patterns)&&_(qe,te,et,Je.patterns,lt);var Ht=Je.include;if(Ht)if(Ht==="$base"||Ht===te.scopeName)O(qe,te,te);else if(Ht==="$self"||Ht===et.scopeName)O(qe,te,et);else if(Ht.charAt(0)==="#")E(qe,te,et,Ht.substring(1),lt);else{var Ct=Ht.indexOf("#");if(Ct>=0){var mn=Ht.substring(0,Ct),kt=Ht.substring(Ct+1);mn===te.scopeName?E(qe,te,te,kt,lt):mn===et.scopeName?E(qe,te,et,kt,lt):qe.add(new f(mn,Ht.substring(Ct+1)))}else qe.add(new l(Ht))}}}}function E(qe,te,et,be,ke){ke===void 0&&(ke=et.repository),ke&&ke[be]&&_(qe,te,et,[ke[be]],ke)}function O(qe,te,et){if(et.patterns&&Array.isArray(et.patterns)&&_(qe,te,et,et.patterns,et.repository),et.injections){var be=[];for(var ke in et.injections)be.push(et.injections[ke]);_(qe,te,et,be,et.repository)}}function R(qe,te){if(!qe)return!1;if(qe===te)return!0;var et=te.length;return qe.length>et&&qe.substr(0,et)===te&&qe[et]==="."}function q(qe,te){if(te.length<qe.length)return!1;var et=0;return qe.every(function(be){for(var ke=et;ke<te.length;ke++)if(R(te[ke],be))return et=ke+1,!0;return!1})}function z(qe,te,et,be,ke){for(var we=s.createMatchers(te,q),pe=i.RuleFactory.getCompiledRuleId(et,be,ke.repository),Je=0,lt=we;Je<lt.length;Je++){var Ht=lt[Je];qe.push({matcher:Ht.matcher,ruleId:pe,grammar:ke,priority:Ht.priority})}}e.ScopeDependencyCollector=p,e.collectSpecificDependencies=E,e.collectDependencies=O;var L=function(qe,te,et,be){this.scopeName=qe,this.languageId=te,this.tokenType=et,this.themeData=be};e.ScopeMetadata=L;var B=function(){function qe(te,et,be){if(this._initialLanguage=te,this._themeProvider=et,this._cache=new Map,this._defaultMetaData=new L("",this._initialLanguage,0,[this._themeProvider.getDefaults()]),this._embeddedLanguages=Object.create(null),be)for(var ke=Object.keys(be),we=0,pe=ke.length;we<pe;we++){var Je=ke[we],lt=be[Je];typeof lt=="number"&&lt!==0?this._embeddedLanguages[Je]=lt:console.warn("Invalid embedded language found at scope "+Je+": <<"+lt+">>")}var Ht=Object.keys(this._embeddedLanguages).map(function(Ct){return qe._escapeRegExpCharacters(Ct)});Ht.length===0?this._embeddedLanguagesRegex=null:(Ht.sort(),Ht.reverse(),this._embeddedLanguagesRegex=new RegExp("^(("+Ht.join(")|(")+"))($|\\.)",""))}return qe.prototype.onDidChangeTheme=function(){this._cache=new Map,this._defaultMetaData=new L("",this._initialLanguage,0,[this._themeProvider.getDefaults()])},qe.prototype.getDefaultMetadata=function(){return this._defaultMetaData},qe._escapeRegExpCharacters=function(te){return te.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},qe.prototype.getMetadataForScope=function(te){if(te===null)return qe._NULL_SCOPE_METADATA;var et=this._cache.get(te);return et||(et=this._doGetMetadataForScope(te),this._cache.set(te,et),et)},qe.prototype._doGetMetadataForScope=function(te){var et=this._scopeToLanguage(te),be=this._toStandardTokenType(te),ke=this._themeProvider.themeMatch(te);return new L(te,et,be,ke)},qe.prototype._scopeToLanguage=function(te){if(!te||!this._embeddedLanguagesRegex)return 0;var et=te.match(this._embeddedLanguagesRegex);if(!et)return 0;var be=this._embeddedLanguages[et[1]]||0;return be||0},qe.prototype._toStandardTokenType=function(te){var et=te.match(qe.STANDARD_TOKEN_TYPE_REGEXP);if(!et)return 0;switch(et[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"meta.embedded":return 8}throw new Error("Unexpected match for standard token type!")},qe._NULL_SCOPE_METADATA=new L("",0,0,null),qe.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/,qe}(),P=function(){function qe(te,et,be,ke,we,pe){if(this._scopeMetadataProvider=new B(et,we,be),this._onigLib=pe,this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=we,this._grammar=ue(te,null),this._injections=null,this._tokenTypeMatchers=[],ke)for(var Je=0,lt=Object.keys(ke);Je<lt.length;Je++)for(var Ht=lt[Je],Ct=0,mn=s.createMatchers(Ht,q);Ct<mn.length;Ct++){var kt=mn[Ct];this._tokenTypeMatchers.push({matcher:kt.matcher,type:ke[Ht]})}}return qe.prototype.dispose=function(){for(var te=0,et=this._ruleId2desc;te<et.length;te++){var be=et[te];be&&be.dispose()}},qe.prototype.createOnigScanner=function(te){return this._onigLib.createOnigScanner(te)},qe.prototype.createOnigString=function(te){return this._onigLib.createOnigString(te)},qe.prototype.onDidChangeTheme=function(){this._scopeMetadataProvider.onDidChangeTheme()},qe.prototype.getMetadataForScope=function(te){return this._scopeMetadataProvider.getMetadataForScope(te)},qe.prototype.getInjections=function(){var te=this;if(this._injections===null){this._injections=[];var et=this._grammar.injections;if(et)for(var be in et)z(this._injections,be,et[be],this,this._grammar);if(this._grammarRepository){var ke=this._grammarRepository.injections(this._grammar.scopeName);ke&&ke.forEach(function(we){var pe=te.getExternalGrammar(we);if(pe){var Je=pe.injectionSelector;Je&&z(te._injections,Je,pe,te,pe)}})}this._injections.sort(function(we,pe){return we.priority-pe.priority})}return this._injections},qe.prototype.registerRule=function(te){var et=++this._lastRuleId,be=te(et);return this._ruleId2desc[et]=be,be},qe.prototype.getRule=function(te){return this._ruleId2desc[te]},qe.prototype.getExternalGrammar=function(te,et){if(this._includedGrammars[te])return this._includedGrammars[te];if(this._grammarRepository){var be=this._grammarRepository.lookup(te);if(be)return this._includedGrammars[te]=ue(be,et&&et.$base),this._includedGrammars[te]}return null},qe.prototype.tokenizeLine=function(te,et){var be=this._tokenize(te,et,!1);return{tokens:be.lineTokens.getResult(be.ruleStack,be.lineLength),ruleStack:be.ruleStack}},qe.prototype.tokenizeLine2=function(te,et){var be=this._tokenize(te,et,!0);return{tokens:be.lineTokens.getBinaryResult(be.ruleStack,be.lineLength),ruleStack:be.ruleStack}},qe.prototype._tokenize=function(te,et,be){var ke;if(this._rootId===-1&&(this._rootId=i.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository)),et&&et!==ct.NULL)ke=!1,et.reset();else{ke=!0;var we=this._scopeMetadataProvider.getDefaultMetadata(),pe=we.themeData[0],Je=He.set(0,we.languageId,we.tokenType,pe.fontStyle,pe.foreground,pe.background),lt=this.getRule(this._rootId).getName(null,null),Ht=this._scopeMetadataProvider.getMetadataForScope(lt),Ct=at.mergeMetadata(Je,null,Ht),mn=new at(null,lt===null?"unknown":lt,Ct);et=new ct(null,this._rootId,-1,-1,!1,null,mn,mn)}te+=`
`;var kt=this.createOnigString(te),Bt=kt.content.length,tn=new Et(be,te,this._tokenTypeMatchers),bt=ye(this,kt,ke,0,et,tn,!0);return G(kt),{lineLength:Bt,lineTokens:tn,ruleStack:bt}},qe}();function G(qe){typeof qe.dispose=="function"&&qe.dispose()}function ue(qe,te){return(qe=r.clone(qe)).repository=qe.repository||{},qe.repository.$self={$vscodeTextmateLocation:qe.$vscodeTextmateLocation,patterns:qe.patterns,name:qe.scopeName},qe.repository.$base=te||qe.repository.$self,qe}function I(qe,te,et,be,ke,we,pe){if(we.length!==0){for(var Je=te.content,lt=Math.min(we.length,pe.length),Ht=[],Ct=pe[0].end,mn=0;mn<lt;mn++){var kt=we[mn];if(kt!==null){var Bt=pe[mn];if(Bt.length!==0){if(Bt.start>Ct)break;for(;Ht.length>0&&Ht[Ht.length-1].endPos<=Bt.start;)ke.produceFromScopes(Ht[Ht.length-1].scopes,Ht[Ht.length-1].endPos),Ht.pop();if(Ht.length>0?ke.produceFromScopes(Ht[Ht.length-1].scopes,Bt.start):ke.produce(be,Bt.start),kt.retokenizeCapturedWithRuleId){var tn=kt.getName(Je,pe),bt=be.contentNameScopesList.push(qe,tn),ve=kt.getContentName(Je,pe),Le=bt.push(qe,ve),_e=be.push(kt.retokenizeCapturedWithRuleId,Bt.start,-1,!1,null,bt,Le),ce=qe.createOnigString(Je.substring(0,Bt.end));ye(qe,ce,et&&Bt.start===0,Bt.start,_e,ke,!1),G(ce)}else{var tt=kt.getName(Je,pe);if(tt!==null){var Ke=(Ht.length>0?Ht[Ht.length-1].scopes:be.contentNameScopesList).push(qe,tt);Ht.push(new Ze(Ke,Bt.end))}}}}}for(;Ht.length>0;)ke.produceFromScopes(Ht[Ht.length-1].scopes,Ht[Ht.length-1].endPos),Ht.pop()}}function J(qe){for(var te=[],et=0,be=qe.rules.length;et<be;et++)te.push("   - "+qe.rules[et]+": "+qe.debugRegExps[et]);return te.join(`
`)}function he(qe,te,et,be,ke,we){var pe=function(mn,kt,Bt,tn,bt,ve){var Le=bt.getRule(mn),_e=Le.compile(mn,bt.endRule,Bt,tn===ve),ce=0;o.DebugFlags.InDebugMode&&(ce=a());var tt=_e.scanner.findNextMatchSync(kt,tn);if(o.DebugFlags.InDebugMode){var Ke=a()-ce;Ke>5&&console.warn("Rule "+Le.debugName+" ("+Le.id+") matching took "+Ke+" against '"+kt+"'"),tt&&console.log("matched rule id: "+_e.rules[tt.index]+" from "+tt.captureIndices[0].start+" to "+tt.captureIndices[0].end)}return tt?{captureIndices:tt.captureIndices,matchedRuleId:_e.rules[tt.index]}:null}(qe,te,et,be,ke,we),Je=qe.getInjections();if(Je.length===0)return pe;var lt=function(mn,kt,Bt,tn,bt,ve,Le){for(var _e,ce=Number.MAX_VALUE,tt=null,Ke=0,re=ve.contentNameScopesList.generateScopes(),Oe=0,nt=mn.length;Oe<nt;Oe++){var ft=mn[Oe];if(ft.matcher(re)){var Ot=kt.getRule(ft.ruleId).compile(kt,null,tn,bt===Le),Yt=Ot.scanner.findNextMatchSync(Bt,bt);if(o.DebugFlags.InDebugMode&&(console.log("  scanning for injections"),console.log(J(Ot))),Yt){var Gt=Yt.captureIndices[0].start;if(!(Gt>=ce)&&(ce=Gt,tt=Yt.captureIndices,_e=Ot.rules[Yt.index],Ke=ft.priority,ce===bt))break}}}return tt?{priorityMatch:Ke===-1,captureIndices:tt,matchedRuleId:_e}:null}(Je,qe,te,et,be,ke,we);if(!lt)return pe;if(!pe)return lt;var Ht=pe.captureIndices[0].start,Ct=lt.captureIndices[0].start;return Ct<Ht||lt.priorityMatch&&Ct===Ht?lt:pe}function ye(qe,te,et,be,ke,we,pe){var Je=te.content.length,lt=!1,Ht=-1;if(pe){var Ct=function(kt,Bt,tn,bt,ve,Le){for(var _e=ve.beginRuleCapturedEOL?0:-1,ce=[],tt=ve;tt;tt=tt.pop()){var Ke=tt.getRule(kt);Ke instanceof i.BeginWhileRule&&ce.push({rule:Ke,stack:tt})}for(var re=ce.pop();re;re=ce.pop()){var Oe=re.rule.compileWhile(kt,re.stack.endRule,tn,_e===bt),nt=Oe.scanner.findNextMatchSync(Bt,bt);if(o.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(J(Oe))),!nt){o.DebugFlags.InDebugMode&&console.log("  popping "+re.rule.debugName+" - "+re.rule.debugWhileRegExp),ve=re.stack.pop();break}if(Oe.rules[nt.index]!==-2){ve=re.stack.pop();break}nt.captureIndices&&nt.captureIndices.length&&(Le.produce(re.stack,nt.captureIndices[0].start),I(kt,Bt,tn,re.stack,Le,re.rule.whileCaptures,nt.captureIndices),Le.produce(re.stack,nt.captureIndices[0].end),_e=nt.captureIndices[0].end,nt.captureIndices[0].end>bt&&(bt=nt.captureIndices[0].end,tn=!1))}return{stack:ve,linePos:bt,anchorPosition:_e,isFirstLine:tn}}(qe,te,et,be,ke,we);ke=Ct.stack,be=Ct.linePos,et=Ct.isFirstLine,Ht=Ct.anchorPosition}for(;!lt;)mn();function mn(){o.DebugFlags.InDebugMode&&(console.log(""),console.log("@@scanNext "+be+": |"+te.content.substr(be).replace(/\n$/,"\\n")+"|"));var kt=he(qe,te,et,be,ke,Ht);if(!kt)return o.DebugFlags.InDebugMode&&console.log("  no more matches."),we.produce(ke,Je),void(lt=!0);var Bt=kt.captureIndices,tn=kt.matchedRuleId,bt=!!(Bt&&Bt.length>0)&&Bt[0].end>be;if(tn===-1){var ve=ke.getRule(qe);o.DebugFlags.InDebugMode&&console.log("  popping "+ve.debugName+" - "+ve.debugEndRegExp),we.produce(ke,Bt[0].start),ke=ke.setContentNameScopesList(ke.nameScopesList),I(qe,te,et,ke,we,ve.endCaptures,Bt),we.produce(ke,Bt[0].end);var Le=ke;if(ke=ke.pop(),Ht=Le.getAnchorPos(),!bt&&Le.getEnterPos()===be)return o.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),ke=Le,we.produce(ke,Je),void(lt=!0)}else{var _e=qe.getRule(tn);we.produce(ke,Bt[0].start);var ce=ke,tt=_e.getName(te.content,Bt),Ke=ke.contentNameScopesList.push(qe,tt);if(ke=ke.push(tn,be,Ht,Bt[0].end===Je,null,Ke,Ke),_e instanceof i.BeginEndRule){var re=_e;o.DebugFlags.InDebugMode&&console.log("  pushing "+re.debugName+" - "+re.debugBeginRegExp),I(qe,te,et,ke,we,re.beginCaptures,Bt),we.produce(ke,Bt[0].end),Ht=Bt[0].end;var Oe=re.getContentName(te.content,Bt),nt=Ke.push(qe,Oe);if(ke=ke.setContentNameScopesList(nt),re.endHasBackReferences&&(ke=ke.setEndRule(re.getEndWithResolvedBackReferences(te.content,Bt))),!bt&&ce.hasSameRuleAs(ke))return o.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),ke=ke.pop(),we.produce(ke,Je),void(lt=!0)}else if(_e instanceof i.BeginWhileRule){if(re=_e,o.DebugFlags.InDebugMode&&console.log("  pushing "+re.debugName),I(qe,te,et,ke,we,re.beginCaptures,Bt),we.produce(ke,Bt[0].end),Ht=Bt[0].end,Oe=re.getContentName(te.content,Bt),nt=Ke.push(qe,Oe),ke=ke.setContentNameScopesList(nt),re.whileHasBackReferences&&(ke=ke.setEndRule(re.getWhileWithResolvedBackReferences(te.content,Bt))),!bt&&ce.hasSameRuleAs(ke))return o.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),ke=ke.pop(),we.produce(ke,Je),void(lt=!0)}else{var ft=_e;if(o.DebugFlags.InDebugMode&&console.log("  matched "+ft.debugName+" - "+ft.debugMatchRegExp),I(qe,te,et,ke,we,ft.captures,Bt),we.produce(ke,Bt[0].end),ke=ke.pop(),!bt)return o.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),ke=ke.safePop(),we.produce(ke,Je),void(lt=!0)}}Bt[0].end>be&&(be=Bt[0].end,et=!1)}return ke}e.Grammar=P;var He=function(){function qe(){}return qe.toBinaryStr=function(te){for(var et=te.toString(2);et.length<32;)et="0"+et;return et},qe.printMetadata=function(te){var et=qe.getLanguageId(te),be=qe.getTokenType(te),ke=qe.getFontStyle(te),we=qe.getForeground(te),pe=qe.getBackground(te);console.log({languageId:et,tokenType:be,fontStyle:ke,foreground:we,background:pe})},qe.getLanguageId=function(te){return(255&te)>>>0},qe.getTokenType=function(te){return(1792&te)>>>8},qe.getFontStyle=function(te){return(14336&te)>>>11},qe.getForeground=function(te){return(8372224&te)>>>14},qe.getBackground=function(te){return(4286578688&te)>>>23},qe.set=function(te,et,be,ke,we,pe){var Je=qe.getLanguageId(te),lt=qe.getTokenType(te),Ht=qe.getFontStyle(te),Ct=qe.getForeground(te),mn=qe.getBackground(te);return et!==0&&(Je=et),be!==0&&(lt=be===8?0:be),ke!==-1&&(Ht=ke),we!==0&&(Ct=we),pe!==0&&(mn=pe),(Je<<0|lt<<8|Ht<<11|Ct<<14|mn<<23)>>>0},qe}();e.StackElementMetadata=He;var at=function(){function qe(te,et,be){this.parent=te,this.scope=et,this.metadata=be}return qe._equals=function(te,et){for(;;){if(te===et||!te&&!et)return!0;if(!te||!et||te.scope!==et.scope||te.metadata!==et.metadata)return!1;te=te.parent,et=et.parent}},qe.prototype.equals=function(te){return qe._equals(this,te)},qe._matchesScope=function(te,et,be){return et===te||te.substring(0,be.length)===be},qe._matches=function(te,et){if(et===null)return!0;for(var be=et.length,ke=0,we=et[ke],pe=we+".";te;){if(this._matchesScope(te.scope,we,pe)){if(++ke===be)return!0;pe=(we=et[ke])+"."}te=te.parent}return!1},qe.mergeMetadata=function(te,et,be){if(be===null)return te;var ke=-1,we=0,pe=0;if(be.themeData!==null)for(var Je=0,lt=be.themeData.length;Je<lt;Je++){var Ht=be.themeData[Je];if(this._matches(et,Ht.parentScopes)){ke=Ht.fontStyle,we=Ht.foreground,pe=Ht.background;break}}return He.set(te,be.languageId,be.tokenType,ke,we,pe)},qe._push=function(te,et,be){for(var ke=0,we=be.length;ke<we;ke++){var pe=be[ke],Je=et.getMetadataForScope(pe),lt=qe.mergeMetadata(te.metadata,te,Je);te=new qe(te,pe,lt)}return te},qe.prototype.push=function(te,et){return et===null?this:et.indexOf(" ")>=0?qe._push(this,te,et.split(/ /g)):qe._push(this,te,[et])},qe._generateScopes=function(te){for(var et=[],be=0;te;)et[be++]=te.scope,te=te.parent;return et.reverse(),et},qe.prototype.generateScopes=function(){return qe._generateScopes(this)},qe}();e.ScopeListElement=at;var ct=function(){function qe(te,et,be,ke,we,pe,Je,lt){this.parent=te,this.depth=this.parent?this.parent.depth+1:1,this.ruleId=et,this._enterPos=be,this._anchorPos=ke,this.beginRuleCapturedEOL=we,this.endRule=pe,this.nameScopesList=Je,this.contentNameScopesList=lt}return qe._structuralEquals=function(te,et){for(;;){if(te===et||!te&&!et)return!0;if(!te||!et||te.depth!==et.depth||te.ruleId!==et.ruleId||te.endRule!==et.endRule)return!1;te=te.parent,et=et.parent}},qe._equals=function(te,et){return te===et||!!this._structuralEquals(te,et)&&te.contentNameScopesList.equals(et.contentNameScopesList)},qe.prototype.clone=function(){return this},qe.prototype.equals=function(te){return te!==null&&qe._equals(this,te)},qe._reset=function(te){for(;te;)te._enterPos=-1,te._anchorPos=-1,te=te.parent},qe.prototype.reset=function(){qe._reset(this)},qe.prototype.pop=function(){return this.parent},qe.prototype.safePop=function(){return this.parent?this.parent:this},qe.prototype.push=function(te,et,be,ke,we,pe,Je){return new qe(this,te,et,be,ke,we,pe,Je)},qe.prototype.getEnterPos=function(){return this._enterPos},qe.prototype.getAnchorPos=function(){return this._anchorPos},qe.prototype.getRule=function(te){return te.getRule(this.ruleId)},qe.prototype._writeString=function(te,et){return this.parent&&(et=this.parent._writeString(te,et)),te[et++]="("+this.ruleId+", TODO-"+this.nameScopesList+", TODO-"+this.contentNameScopesList+")",et},qe.prototype.toString=function(){var te=[];return this._writeString(te,0),"["+te.join(",")+"]"},qe.prototype.setContentNameScopesList=function(te){return this.contentNameScopesList===te?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,te)},qe.prototype.setEndRule=function(te){return this.endRule===te?this:new qe(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,te,this.nameScopesList,this.contentNameScopesList)},qe.prototype.hasSameRuleAs=function(te){return this.ruleId===te.ruleId},qe.NULL=new qe(null,0,0,0,!1,null,null,null),qe}();e.StackElement=ct;var Ze=function(qe,te){this.scopes=qe,this.endPos=te};e.LocalStackElement=Ze;var Et=function(){function qe(te,et,be){this._emitBinaryTokens=te,this._tokenTypeOverrides=be,o.DebugFlags.InDebugMode?this._lineText=et:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}return qe.prototype.produce=function(te,et){this.produceFromScopes(te.contentNameScopesList,et)},qe.prototype.produceFromScopes=function(te,et){if(!(this._lastTokenEndIndex>=et)){if(this._emitBinaryTokens){for(var be=te.metadata,ke=0,we=this._tokenTypeOverrides;ke<we.length;ke++){var pe=we[ke];pe.matcher(te.generateScopes())&&(be=He.set(be,0,Mt(pe.type),-1,0,0))}return this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===be||(this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(be)),void(this._lastTokenEndIndex=et)}var Je=te.generateScopes();if(o.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,et).replace(/\n$/,"\\n")+"|");for(var lt=0;lt<Je.length;lt++)console.log("      * "+Je[lt])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:et,scopes:Je}),this._lastTokenEndIndex=et}},qe.prototype.getResult=function(te,et){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===et-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(te,et),this._tokens[this._tokens.length-1].startIndex=0),this._tokens},qe.prototype.getBinaryResult=function(te,et){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===et-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(te,et),this._binaryTokens[this._binaryTokens.length-2]=0);for(var be=new Uint32Array(this._binaryTokens.length),ke=0,we=this._binaryTokens.length;ke<we;ke++)be[ke]=this._binaryTokens[ke];return be},qe}();function Mt(qe){switch(qe){case 4:return 4;case 2:return 2;case 1:return 1;case 0:default:return 8}}},function(n,e,t){"use strict";function r(o){return Array.isArray(o)?function(a){for(var l=[],f=0,p=a.length;f<p;f++)l[f]=r(a[f]);return l}(o):typeof o=="object"?function(a){var l={};for(var f in a)l[f]=r(a[f]);return l}(o):o}Object.defineProperty(e,"__esModule",{value:!0}),e.clone=function(o){return r(o)},e.mergeObjects=function(o){for(var a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];return a.forEach(function(f){for(var p in f)o[p]=f[p]}),o},e.basename=function o(a){var l=~a.lastIndexOf("/")||~a.lastIndexOf("\\");return l===0?a:~l==a.length-1?o(a.substring(0,a.length-1)):a.substr(1+~l)};var i=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/,s=function(){function o(){}return o.hasCaptures=function(a){return a!==null&&i.test(a)},o.replaceCaptures=function(a,l,f){return a.replace(i,function(p,_,E,O){var R=f[parseInt(_||E,10)];if(!R)return p;for(var q=l.substring(R.start,R.end);q[0]===".";)q=q.substring(1);switch(O){case"downcase":return q.toLowerCase();case"upcase":return q.toUpperCase();default:return q}})},o}();e.RegexSource=s},function(n,e,t){"use strict";(function(r){Object.defineProperty(e,"__esModule",{value:!0}),e.DebugFlags={InDebugMode:r!==void 0&&!!r.env.VSCODE_TEXTMATE_DEBUG}}).call(this,t(7))},function(n,e,t){"use strict";var r=this&&this.__awaiter||function(p,_,E,O){return new(E||(E=Promise))(function(R,q){function z(P){try{B(O.next(P))}catch(G){q(G)}}function L(P){try{B(O.throw(P))}catch(G){q(G)}}function B(P){var G;P.done?R(P.value):(G=P.value,G instanceof E?G:new E(function(ue){ue(G)})).then(z,L)}B((O=O.apply(p,_||[])).next())})},i=this&&this.__generator||function(p,_){var E,O,R,q,z={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return q={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(q[Symbol.iterator]=function(){return this}),q;function L(B){return function(P){return function(G){if(E)throw new TypeError("Generator is already executing.");for(;z;)try{if(E=1,O&&(R=2&G[0]?O.return:G[0]?O.throw||((R=O.return)&&R.call(O),0):O.next)&&!(R=R.call(O,G[1])).done)return R;switch(O=0,R&&(G=[2&G[0],R.value]),G[0]){case 0:case 1:R=G;break;case 4:return z.label++,{value:G[1],done:!1};case 5:z.label++,O=G[1],G=[0];continue;case 7:G=z.ops.pop(),z.trys.pop();continue;default:if(R=z.trys,!((R=R.length>0&&R[R.length-1])||G[0]!==6&&G[0]!==2)){z=0;continue}if(G[0]===3&&(!R||G[1]>R[0]&&G[1]<R[3])){z.label=G[1];break}if(G[0]===6&&z.label<R[1]){z.label=R[1],R=G;break}if(R&&z.label<R[2]){z.label=R[2],z.ops.push(G);break}R[2]&&z.ops.pop(),z.trys.pop();continue}G=_.call(p,z)}catch(ue){G=[6,ue],O=0}finally{E=R=0}if(5&G[0])throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}([B,P])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=t(4),o=t(8),a=t(11),l=t(0),f=function(){function p(_){this._options=_,this._syncRegistry=new s.SyncRegistry(a.Theme.createFromRawTheme(_.theme,_.colorMap),_.onigLib),this._ensureGrammarCache=new Map}return p.prototype.dispose=function(){this._syncRegistry.dispose()},p.prototype.setTheme=function(_,E){this._syncRegistry.setTheme(a.Theme.createFromRawTheme(_,E))},p.prototype.getColorMap=function(){return this._syncRegistry.getColorMap()},p.prototype.loadGrammarWithEmbeddedLanguages=function(_,E,O){return this.loadGrammarWithConfiguration(_,E,{embeddedLanguages:O})},p.prototype.loadGrammarWithConfiguration=function(_,E,O){return this._loadGrammar(_,E,O.embeddedLanguages,O.tokenTypes)},p.prototype.loadGrammar=function(_){return this._loadGrammar(_,0,null,null)},p.prototype._doLoadSingleGrammar=function(_){return r(this,void 0,void 0,function(){var E,O;return i(this,function(R){switch(R.label){case 0:return[4,this._options.loadGrammar(_)];case 1:return(E=R.sent())&&(O=typeof this._options.getInjections=="function"?this._options.getInjections(_):void 0,this._syncRegistry.addGrammar(E,O)),[2]}})})},p.prototype._loadSingleGrammar=function(_){return r(this,void 0,void 0,function(){return i(this,function(E){return this._ensureGrammarCache.has(_)||this._ensureGrammarCache.set(_,this._doLoadSingleGrammar(_)),[2,this._ensureGrammarCache.get(_)]})})},p.prototype._collectDependenciesForDep=function(_,E,O){var R=this._syncRegistry.lookup(O.scopeName);if(R){O instanceof l.FullScopeDependency?l.collectDependencies(E,this._syncRegistry.lookup(_),R):l.collectSpecificDependencies(E,this._syncRegistry.lookup(_),R,O.include);var q=this._syncRegistry.injections(O.scopeName);if(q)for(var z=0,L=q;z<L.length;z++){var B=L[z];E.add(new l.FullScopeDependency(B))}}else if(O.scopeName===_)throw new Error("No grammar provided for <"+_+">")},p.prototype._loadGrammar=function(_,E,O,R){return r(this,void 0,void 0,function(){var q,z,L,B,P,G,ue,I,J,he,ye,He,at=this;return i(this,function(ct){switch(ct.label){case 0:q=new Set,z=new Set,q.add(_),L=[new l.FullScopeDependency(_)],ct.label=1;case 1:return L.length>0?(B=L,L=[],[4,Promise.all(B.map(function(Ze){return at._loadSingleGrammar(Ze.scopeName)}))]):[3,3];case 2:for(ct.sent(),P=new l.ScopeDependencyCollector,G=0,ue=B;G<ue.length;G++)He=ue[G],this._collectDependenciesForDep(_,P,He);for(I=0,J=P.full;I<J.length;I++)He=J[I],q.has(He.scopeName)||(q.add(He.scopeName),L.push(He));for(he=0,ye=P.partial;he<ye.length;he++)He=ye[he],q.has(He.scopeName)||z.has(He.toKey())||(z.add(He.toKey()),L.push(He));return[3,1];case 3:return[2,this.grammarForScopeName(_,E,O,R)]}})})},p.prototype.addGrammar=function(_,E,O,R){return E===void 0&&(E=[]),O===void 0&&(O=0),R===void 0&&(R=null),r(this,void 0,void 0,function(){return i(this,function(q){switch(q.label){case 0:return this._syncRegistry.addGrammar(_,E),[4,this.grammarForScopeName(_.scopeName,O,R)];case 1:return[2,q.sent()]}})})},p.prototype.grammarForScopeName=function(_,E,O,R){return E===void 0&&(E=0),O===void 0&&(O=null),R===void 0&&(R=null),this._syncRegistry.grammarForScopeName(_,E,O,R)},p}();e.Registry=f,e.INITIAL=l.StackElement.NULL,e.parseRawGrammar=o.parseRawGrammar},function(n,e,t){"use strict";var r=this&&this.__awaiter||function(a,l,f,p){return new(f||(f=Promise))(function(_,E){function O(z){try{q(p.next(z))}catch(L){E(L)}}function R(z){try{q(p.throw(z))}catch(L){E(L)}}function q(z){var L;z.done?_(z.value):(L=z.value,L instanceof f?L:new f(function(B){B(L)})).then(O,R)}q((p=p.apply(a,l||[])).next())})},i=this&&this.__generator||function(a,l){var f,p,_,E,O={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return E={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function R(q){return function(z){return function(L){if(f)throw new TypeError("Generator is already executing.");for(;O;)try{if(f=1,p&&(_=2&L[0]?p.return:L[0]?p.throw||((_=p.return)&&_.call(p),0):p.next)&&!(_=_.call(p,L[1])).done)return _;switch(p=0,_&&(L=[2&L[0],_.value]),L[0]){case 0:case 1:_=L;break;case 4:return O.label++,{value:L[1],done:!1};case 5:O.label++,p=L[1],L=[0];continue;case 7:L=O.ops.pop(),O.trys.pop();continue;default:if(_=O.trys,!((_=_.length>0&&_[_.length-1])||L[0]!==6&&L[0]!==2)){O=0;continue}if(L[0]===3&&(!_||L[1]>_[0]&&L[1]<_[3])){O.label=L[1];break}if(L[0]===6&&O.label<_[1]){O.label=_[1],_=L;break}if(_&&O.label<_[2]){O.label=_[2],O.ops.push(L);break}_[2]&&O.ops.pop(),O.trys.pop();continue}L=l.call(a,O)}catch(B){L=[6,B],p=0}finally{f=_=0}if(5&L[0])throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}([q,z])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=t(0),o=function(){function a(l,f){this._theme=l,this._grammars={},this._rawGrammars={},this._injectionGrammars={},this._onigLibPromise=f}return a.prototype.dispose=function(){for(var l in this._grammars)this._grammars.hasOwnProperty(l)&&this._grammars[l].dispose()},a.prototype.setTheme=function(l){var f=this;this._theme=l,Object.keys(this._grammars).forEach(function(p){f._grammars[p].onDidChangeTheme()})},a.prototype.getColorMap=function(){return this._theme.getColorMap()},a.prototype.addGrammar=function(l,f){this._rawGrammars[l.scopeName]=l,f&&(this._injectionGrammars[l.scopeName]=f)},a.prototype.lookup=function(l){return this._rawGrammars[l]},a.prototype.injections=function(l){return this._injectionGrammars[l]},a.prototype.getDefaults=function(){return this._theme.getDefaults()},a.prototype.themeMatch=function(l){return this._theme.match(l)},a.prototype.grammarForScopeName=function(l,f,p,_){return r(this,void 0,void 0,function(){var E,O,R,q,z;return i(this,function(L){switch(L.label){case 0:return this._grammars[l]?[3,2]:(E=this._rawGrammars[l])?(O=this._grammars,R=l,q=s.createGrammar,z=[E,f,p,_,this],[4,this._onigLibPromise]):[2,null];case 1:O[R]=q.apply(void 0,z.concat([L.sent()])),L.label=2;case 2:return[2,this._grammars[l]]}})})},a}();e.SyncRegistry=o},function(n,e,t){"use strict";var r,i=this&&this.__extends||(r=function(B,P){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,ue){G.__proto__=ue}||function(G,ue){for(var I in ue)ue.hasOwnProperty(I)&&(G[I]=ue[I])})(B,P)},function(B,P){function G(){this.constructor=B}r(B,P),B.prototype=P===null?Object.create(P):(G.prototype=P.prototype,new G)});Object.defineProperty(e,"__esModule",{value:!0});var s=t(1),o=/\\(\d+)/,a=/\\(\d+)/g,l=function(){function B(P,G,ue){this.debugRegExps=G,this.rules=ue,this.scanner=P.createOnigScanner(G)}return B.prototype.dispose=function(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()},B}();e.CompiledRule=l;var f=function(){function B(P,G,ue,I){this.$location=P,this.id=G,this._name=ue||null,this._nameIsCapturing=s.RegexSource.hasCaptures(this._name),this._contentName=I||null,this._contentNameIsCapturing=s.RegexSource.hasCaptures(this._contentName)}return Object.defineProperty(B.prototype,"debugName",{get:function(){var P=this.$location?s.basename(this.$location.filename)+":"+this.$location.line:"unknown";return this.constructor.name+"#"+this.id+" @ "+P},enumerable:!0,configurable:!0}),B.prototype.getName=function(P,G){return this._nameIsCapturing&&this._name!==null&&P!==null&&G!==null?s.RegexSource.replaceCaptures(this._name,P,G):this._name},B.prototype.getContentName=function(P,G){return this._contentNameIsCapturing&&this._contentName!==null?s.RegexSource.replaceCaptures(this._contentName,P,G):this._contentName},B}();e.Rule=f;var p=function(B){function P(G,ue,I,J,he){var ye=B.call(this,G,ue,I,J)||this;return ye.retokenizeCapturedWithRuleId=he,ye}return i(P,B),P.prototype.dispose=function(){},P.prototype.collectPatternsRecursive=function(G,ue,I){throw new Error("Not supported!")},P.prototype.compile=function(G,ue,I,J){throw new Error("Not supported!")},P}(f);e.CaptureRule=p;var _=function(){function B(P,G,ue){if(ue===void 0&&(ue=!0),ue)if(P){for(var I=P.length,J=0,he=[],ye=!1,He=0;He<I;He++)if(P.charAt(He)==="\\"&&He+1<I){var at=P.charAt(He+1);at==="z"?(he.push(P.substring(J,He)),he.push("$(?!\\n)(?<!\\n)"),J=He+2):at!=="A"&&at!=="G"||(ye=!0),He++}this.hasAnchor=ye,J===0?this.source=P:(he.push(P.substring(J,I)),this.source=he.join(""))}else this.hasAnchor=!1,this.source=P;else this.hasAnchor=!1,this.source=P;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=G,this.hasBackReferences=o.test(this.source)}return B.prototype.clone=function(){return new B(this.source,this.ruleId,!0)},B.prototype.setSource=function(P){this.source!==P&&(this.source=P,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))},B.prototype.resolveBackReferences=function(P,G){var ue=G.map(function(I){return P.substring(I.start,I.end)});return a.lastIndex=0,this.source.replace(a,function(I,J){return(ue[parseInt(J,10)]||"").replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")})},B.prototype._buildAnchorCache=function(){var P,G,ue,I,J=[],he=[],ye=[],He=[];for(P=0,G=this.source.length;P<G;P++)ue=this.source.charAt(P),J[P]=ue,he[P]=ue,ye[P]=ue,He[P]=ue,ue==="\\"&&P+1<G&&((I=this.source.charAt(P+1))==="A"?(J[P+1]="\uFFFF",he[P+1]="\uFFFF",ye[P+1]="A",He[P+1]="A"):I==="G"?(J[P+1]="\uFFFF",he[P+1]="G",ye[P+1]="\uFFFF",He[P+1]="G"):(J[P+1]=I,he[P+1]=I,ye[P+1]=I,He[P+1]=I),P++);return{A0_G0:J.join(""),A0_G1:he.join(""),A1_G0:ye.join(""),A1_G1:He.join("")}},B.prototype.resolveAnchors=function(P,G){return this.hasAnchor&&this._anchorCache?P?G?this._anchorCache.A1_G1:this._anchorCache.A1_G0:G?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source},B}();e.RegExpSource=_;var E=function(){function B(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}return B.prototype.dispose=function(){this._disposeCaches()},B.prototype._disposeCaches=function(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)},B.prototype.push=function(P){this._items.push(P),this._hasAnchors=this._hasAnchors||P.hasAnchor},B.prototype.unshift=function(P){this._items.unshift(P),this._hasAnchors=this._hasAnchors||P.hasAnchor},B.prototype.length=function(){return this._items.length},B.prototype.setSource=function(P,G){this._items[P].source!==G&&(this._disposeCaches(),this._items[P].setSource(G))},B.prototype.compile=function(P,G,ue){if(this._hasAnchors)return G?ue?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(P,G,ue)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(P,G,ue)),this._anchorCache.A1_G0):ue?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(P,G,ue)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(P,G,ue)),this._anchorCache.A0_G0);if(!this._cached){var I=this._items.map(function(J){return J.source});this._cached=new l(P,I,this._items.map(function(J){return J.ruleId}))}return this._cached},B.prototype._resolveAnchors=function(P,G,ue){var I=this._items.map(function(J){return J.resolveAnchors(G,ue)});return new l(P,I,this._items.map(function(J){return J.ruleId}))},B}();e.RegExpSourceList=E;var O=function(B){function P(G,ue,I,J,he){var ye=B.call(this,G,ue,I,null)||this;return ye._match=new _(J,ye.id),ye.captures=he,ye._cachedCompiledPatterns=null,ye}return i(P,B),P.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(P.prototype,"debugMatchRegExp",{get:function(){return""+this._match.source},enumerable:!0,configurable:!0}),P.prototype.collectPatternsRecursive=function(G,ue,I){ue.push(this._match)},P.prototype.compile=function(G,ue,I,J){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new E,this.collectPatternsRecursive(G,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(G,I,J)},P}(f);e.MatchRule=O;var R=function(B){function P(G,ue,I,J,he){var ye=B.call(this,G,ue,I,J)||this;return ye.patterns=he.patterns,ye.hasMissingPatterns=he.hasMissingPatterns,ye._cachedCompiledPatterns=null,ye}return i(P,B),P.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},P.prototype.collectPatternsRecursive=function(G,ue,I){var J,he;for(J=0,he=this.patterns.length;J<he;J++)G.getRule(this.patterns[J]).collectPatternsRecursive(G,ue,!1)},P.prototype.compile=function(G,ue,I,J){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new E,this.collectPatternsRecursive(G,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(G,I,J)},P}(f);e.IncludeOnlyRule=R;var q=function(B){function P(G,ue,I,J,he,ye,He,at,ct,Ze){var Et=B.call(this,G,ue,I,J)||this;return Et._begin=new _(he,Et.id),Et.beginCaptures=ye,Et._end=new _(He||"\uFFFF",-1),Et.endHasBackReferences=Et._end.hasBackReferences,Et.endCaptures=at,Et.applyEndPatternLast=ct||!1,Et.patterns=Ze.patterns,Et.hasMissingPatterns=Ze.hasMissingPatterns,Et._cachedCompiledPatterns=null,Et}return i(P,B),P.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(P.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"debugEndRegExp",{get:function(){return""+this._end.source},enumerable:!0,configurable:!0}),P.prototype.getEndWithResolvedBackReferences=function(G,ue){return this._end.resolveBackReferences(G,ue)},P.prototype.collectPatternsRecursive=function(G,ue,I){if(I){var J,he=void 0;for(he=0,J=this.patterns.length;he<J;he++)G.getRule(this.patterns[he]).collectPatternsRecursive(G,ue,!1)}else ue.push(this._begin)},P.prototype.compile=function(G,ue,I,J){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new E,this.collectPatternsRecursive(G,this._cachedCompiledPatterns,!0),this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)),this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,ue):this._cachedCompiledPatterns.setSource(0,ue)),this._cachedCompiledPatterns.compile(G,I,J)},P}(f);e.BeginEndRule=q;var z=function(B){function P(G,ue,I,J,he,ye,He,at,ct){var Ze=B.call(this,G,ue,I,J)||this;return Ze._begin=new _(he,Ze.id),Ze.beginCaptures=ye,Ze.whileCaptures=at,Ze._while=new _(He,-2),Ze.whileHasBackReferences=Ze._while.hasBackReferences,Ze.patterns=ct.patterns,Ze.hasMissingPatterns=ct.hasMissingPatterns,Ze._cachedCompiledPatterns=null,Ze._cachedCompiledWhilePatterns=null,Ze}return i(P,B),P.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)},Object.defineProperty(P.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"debugWhileRegExp",{get:function(){return""+this._while.source},enumerable:!0,configurable:!0}),P.prototype.getWhileWithResolvedBackReferences=function(G,ue){return this._while.resolveBackReferences(G,ue)},P.prototype.collectPatternsRecursive=function(G,ue,I){if(I){var J,he=void 0;for(he=0,J=this.patterns.length;he<J;he++)G.getRule(this.patterns[he]).collectPatternsRecursive(G,ue,!1)}else ue.push(this._begin)},P.prototype.compile=function(G,ue,I,J){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new E,this.collectPatternsRecursive(G,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(G,I,J)},P.prototype.compileWhile=function(G,ue,I,J){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new E,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,ue||"\uFFFF"),this._cachedCompiledWhilePatterns.compile(G,I,J)},P}(f);e.BeginWhileRule=z;var L=function(){function B(){}return B.createCaptureRule=function(P,G,ue,I,J){return P.registerRule(function(he){return new p(G,he,ue,I,J)})},B.getCompiledRuleId=function(P,G,ue){return P.id||G.registerRule(function(I){if(P.id=I,P.match)return new O(P.$vscodeTextmateLocation,P.id,P.name,P.match,B._compileCaptures(P.captures,G,ue));if(P.begin===void 0){P.repository&&(ue=s.mergeObjects({},ue,P.repository));var J=P.patterns;return J===void 0&&P.include&&(J=[{include:P.include}]),new R(P.$vscodeTextmateLocation,P.id,P.name,P.contentName,B._compilePatterns(J,G,ue))}return P.while?new z(P.$vscodeTextmateLocation,P.id,P.name,P.contentName,P.begin,B._compileCaptures(P.beginCaptures||P.captures,G,ue),P.while,B._compileCaptures(P.whileCaptures||P.captures,G,ue),B._compilePatterns(P.patterns,G,ue)):new q(P.$vscodeTextmateLocation,P.id,P.name,P.contentName,P.begin,B._compileCaptures(P.beginCaptures||P.captures,G,ue),P.end,B._compileCaptures(P.endCaptures||P.captures,G,ue),P.applyEndPatternLast,B._compilePatterns(P.patterns,G,ue))}),P.id},B._compileCaptures=function(P,G,ue){var I=[];if(P){var J=0;for(var he in P)he!=="$vscodeTextmateLocation"&&(He=parseInt(he,10))>J&&(J=He);for(var ye=0;ye<=J;ye++)I[ye]=null;for(var he in P)if(he!=="$vscodeTextmateLocation"){var He=parseInt(he,10),at=0;P[he].patterns&&(at=B.getCompiledRuleId(P[he],G,ue)),I[He]=B.createCaptureRule(G,P[he].$vscodeTextmateLocation,P[he].name,P[he].contentName,at)}}return I},B._compilePatterns=function(P,G,ue){var I=[];if(P)for(var J=0,he=P.length;J<he;J++){var ye=P[J],He=-1;if(ye.include)if(ye.include.charAt(0)==="#"){var at=ue[ye.include.substr(1)];at&&(He=B.getCompiledRuleId(at,G,ue))}else if(ye.include==="$base"||ye.include==="$self")He=B.getCompiledRuleId(ue[ye.include],G,ue);else{var ct=null,Ze=null,Et=ye.include.indexOf("#");Et>=0?(ct=ye.include.substring(0,Et),Ze=ye.include.substring(Et+1)):ct=ye.include;var Mt=G.getExternalGrammar(ct,ue);if(Mt)if(Ze){var qe=Mt.repository[Ze];qe&&(He=B.getCompiledRuleId(qe,G,Mt.repository))}else He=B.getCompiledRuleId(Mt.repository.$self,G,Mt.repository)}else He=B.getCompiledRuleId(ye,G,ue);if(He!==-1){var te=G.getRule(He),et=!1;if((te instanceof R||te instanceof q||te instanceof z)&&te.hasMissingPatterns&&te.patterns.length===0&&(et=!0),et)continue;I.push(He)}}return{patterns:I,hasMissingPatterns:(P?P.length:0)!==I.length}},B}();e.RuleFactory=L},function(n,e,t){"use strict";function r(i){return!!i&&!!i.match(/[\w\.:]+/)}Object.defineProperty(e,"__esModule",{value:!0}),e.createMatchers=function(i,s){for(var o,a,l,f=[],p=(l=(a=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g).exec(o=i),{next:function(){if(!l)return null;var z=l[0];return l=a.exec(o),z}}),_=p.next();_!==null;){var E=0;if(_.length===2&&_.charAt(1)===":"){switch(_.charAt(0)){case"R":E=1;break;case"L":E=-1;break;default:console.log("Unknown priority "+_+" in scope selector")}_=p.next()}var O=q();if(f.push({matcher:O,priority:E}),_!==",")break;_=p.next()}return f;function R(){if(_==="-"){_=p.next();var z=R();return function(P){return!!z&&!z(P)}}if(_==="("){_=p.next();var L=function(){for(var P=[],G=q();G&&(P.push(G),_==="|"||_===",");){do _=p.next();while(_==="|"||_===",");G=q()}return function(ue){return P.some(function(I){return I(ue)})}}();return _===")"&&(_=p.next()),L}if(r(_)){var B=[];do B.push(_),_=p.next();while(r(_));return function(P){return s(B,P)}}return null}function q(){for(var z=[],L=R();L;)z.push(L),L=R();return function(B){return z.every(function(P){return P(B)})}}}},function(n,e){var t,r,i=n.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(z){if(t===setTimeout)return setTimeout(z,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(z,0);try{return t(z,0)}catch{try{return t.call(null,z,0)}catch{return t.call(this,z,0)}}}(function(){try{t=typeof setTimeout=="function"?setTimeout:s}catch{t=s}try{r=typeof clearTimeout=="function"?clearTimeout:o}catch{r=o}})();var l,f=[],p=!1,_=-1;function E(){p&&l&&(p=!1,l.length?f=l.concat(f):_=-1,f.length&&O())}function O(){if(!p){var z=a(E);p=!0;for(var L=f.length;L;){for(l=f,f=[];++_<L;)l&&l[_].run();_=-1,L=f.length}l=null,p=!1,function(B){if(r===clearTimeout)return clearTimeout(B);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(B);try{r(B)}catch{try{return r.call(null,B)}catch{return r.call(this,B)}}}(z)}}function R(z,L){this.fun=z,this.array=L}function q(){}i.nextTick=function(z){var L=new Array(arguments.length-1);if(arguments.length>1)for(var B=1;B<arguments.length;B++)L[B-1]=arguments[B];f.push(new R(z,L)),f.length!==1||p||a(O)},R.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=q,i.addListener=q,i.once=q,i.off=q,i.removeListener=q,i.removeAllListeners=q,i.emit=q,i.prependListener=q,i.prependOnceListener=q,i.listeners=function(z){return[]},i.binding=function(z){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(z){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(9),i=t(2),s=t(10);e.parseRawGrammar=function(o,a){return a===void 0&&(a=null),a!==null&&/\.json$/.test(a)?function(l,f){return i.DebugFlags.InDebugMode?s.parse(l,f,!0):JSON.parse(l)}(o,a):function(l,f){return i.DebugFlags.InDebugMode?r.parseWithLocation(l,f,"$vscodeTextmateLocation"):r.parse(l)}(o,a)}},function(n,e,t){"use strict";function r(i,s,o){var a=i.length,l=0,f=1,p=0;function _(kt){if(o===null)l+=kt;else for(;kt>0;)i.charCodeAt(l)===10?(l++,f++,p=0):(l++,p++),kt--}function E(kt){o===null?l=kt:_(kt-l)}function O(){for(;l<a;){var kt=i.charCodeAt(l);if(kt!==32&&kt!==9&&kt!==13&&kt!==10)break;_(1)}}function R(kt){return i.substr(l,kt.length)===kt&&(_(kt.length),!0)}function q(kt){var Bt=i.indexOf(kt,l);E(Bt!==-1?Bt+kt.length:a)}function z(kt){var Bt=i.indexOf(kt,l);if(Bt!==-1){var tn=i.substring(l,Bt);return E(Bt+kt.length),tn}return tn=i.substr(l),E(a),tn}a>0&&i.charCodeAt(0)===65279&&(l=1);var L=0,B=null,P=[],G=[],ue=null;function I(kt,Bt){P.push(L),G.push(B),L=kt,B=Bt}function J(){if(P.length===0)return he("illegal state stack");L=P.pop(),B=G.pop()}function he(kt){throw new Error("Near offset "+l+": "+kt+" ~~~"+i.substr(l,50)+"~~~")}var ye,He,at,ct=function(){if(ue===null)return he("missing <key>");var kt={};o!==null&&(kt[o]={filename:s,line:f,char:p}),B[ue]=kt,ue=null,I(1,kt)},Ze=function(){if(ue===null)return he("missing <key>");var kt=[];B[ue]=kt,ue=null,I(2,kt)},Et=function(){var kt={};o!==null&&(kt[o]={filename:s,line:f,char:p}),B.push(kt),I(1,kt)},Mt=function(){var kt=[];B.push(kt),I(2,kt)};function qe(){if(L!==1)return he("unexpected </dict>");J()}function te(){return L===1||L!==2?he("unexpected </array>"):void J()}function et(kt){if(L===1){if(ue===null)return he("missing <key>");B[ue]=kt,ue=null}else L===2?B.push(kt):B=kt}function be(kt){if(isNaN(kt))return he("cannot parse float");if(L===1){if(ue===null)return he("missing <key>");B[ue]=kt,ue=null}else L===2?B.push(kt):B=kt}function ke(kt){if(isNaN(kt))return he("cannot parse integer");if(L===1){if(ue===null)return he("missing <key>");B[ue]=kt,ue=null}else L===2?B.push(kt):B=kt}function we(kt){if(L===1){if(ue===null)return he("missing <key>");B[ue]=kt,ue=null}else L===2?B.push(kt):B=kt}function pe(kt){if(L===1){if(ue===null)return he("missing <key>");B[ue]=kt,ue=null}else L===2?B.push(kt):B=kt}function Je(kt){if(L===1){if(ue===null)return he("missing <key>");B[ue]=kt,ue=null}else L===2?B.push(kt):B=kt}function lt(kt){if(kt.isClosed)return"";var Bt=z("</");return q(">"),Bt.replace(/&#([0-9]+);/g,function(tn,bt){return String.fromCodePoint(parseInt(bt,10))}).replace(/&#x([0-9a-f]+);/g,function(tn,bt){return String.fromCodePoint(parseInt(bt,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(tn){switch(tn){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return tn})}for(;l<a&&(O(),!(l>=a));){var Ht=i.charCodeAt(l);if(_(1),Ht!==60)return he("expected <");if(l>=a)return he("unexpected end of input");var Ct=i.charCodeAt(l);if(Ct!==63)if(Ct!==33){if(Ct===47){if(_(1),O(),R("plist")){q(">");continue}if(R("dict")){q(">"),qe();continue}if(R("array")){q(">"),te();continue}return he("unexpected closed tag")}var mn=(He=void 0,at=void 0,He=z(">"),at=!1,He.charCodeAt(He.length-1)===47&&(at=!0,He=He.substring(0,He.length-1)),{name:He.trim(),isClosed:at});switch(mn.name){case"dict":L===1?ct():L===2?Et():(B={},o!==null&&(B[o]={filename:s,line:f,char:p}),I(1,B)),mn.isClosed&&qe();continue;case"array":L===1?Ze():L===2?Mt():I(2,B=[]),mn.isClosed&&te();continue;case"key":ye=lt(mn),L!==1?he("unexpected <key>"):ue!==null?he("too many <key>"):ue=ye;continue;case"string":et(lt(mn));continue;case"real":be(parseFloat(lt(mn)));continue;case"integer":ke(parseInt(lt(mn),10));continue;case"date":we(new Date(lt(mn)));continue;case"data":pe(lt(mn));continue;case"true":lt(mn),Je(!0);continue;case"false":lt(mn),Je(!1);continue}if(!/^plist/.test(mn.name))return he("unexpected opened tag "+mn.name)}else{if(_(1),R("--")){q("-->");continue}q(">")}else _(1),q("?>")}return B}Object.defineProperty(e,"__esModule",{value:!0}),e.parseWithLocation=function(i,s,o){return r(i,s,o)},e.parse=function(i){return r(i,null,null)}},function(n,e,t){"use strict";function r(a,l){throw new Error("Near offset "+a.pos+": "+l+" ~~~"+a.source.substr(a.pos,50)+"~~~")}Object.defineProperty(e,"__esModule",{value:!0}),e.parse=function(a,l,f){var p=new i(a),_=new s,E=0,O=null,R=[],q=[];function z(){R.push(E),q.push(O)}function L(){E=R.pop(),O=q.pop()}function B(I){r(p,I)}for(;o(p,_);){if(E===0){if(O!==null&&B("too many constructs in root"),_.type===3){O={},f&&(O.$vscodeTextmateLocation=_.toLocation(l)),z(),E=1;continue}if(_.type===2){O=[],z(),E=4;continue}B("unexpected token in root")}if(E===2){if(_.type===5){L();continue}if(_.type===7){E=3;continue}B("expected , or }")}if(E===1||E===3){if(E===1&&_.type===5){L();continue}if(_.type===1){var P=_.value;if(o(p,_)&&_.type===6||B("expected colon"),o(p,_)||B("expected value"),E=2,_.type===1){O[P]=_.value;continue}if(_.type===8){O[P]=null;continue}if(_.type===9){O[P]=!0;continue}if(_.type===10){O[P]=!1;continue}if(_.type===11){O[P]=parseFloat(_.value);continue}if(_.type===2){var G=[];O[P]=G,z(),E=4,O=G;continue}if(_.type===3){var ue={};f&&(ue.$vscodeTextmateLocation=_.toLocation(l)),O[P]=ue,z(),E=1,O=ue;continue}}B("unexpected token in dict")}if(E===5){if(_.type===4){L();continue}if(_.type===7){E=6;continue}B("expected , or ]")}if(E===4||E===6){if(E===4&&_.type===4){L();continue}if(E=5,_.type===1){O.push(_.value);continue}if(_.type===8){O.push(null);continue}if(_.type===9){O.push(!0);continue}if(_.type===10){O.push(!1);continue}if(_.type===11){O.push(parseFloat(_.value));continue}if(_.type===2){G=[],O.push(G),z(),E=4,O=G;continue}if(_.type===3){ue={},f&&(ue.$vscodeTextmateLocation=_.toLocation(l)),O.push(ue),z(),E=1,O=ue;continue}B("unexpected token in array")}B("unknown state")}return q.length!==0&&B("unclosed constructs"),O};var i=function(a){this.source=a,this.pos=0,this.len=a.length,this.line=1,this.char=0},s=function(){function a(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}return a.prototype.toLocation=function(l){return{filename:l,line:this.line,char:this.char}},a}();function o(a,l){l.value=null,l.type=0,l.offset=-1,l.len=-1,l.line=-1,l.char=-1;for(var f,p=a.source,_=a.pos,E=a.len,O=a.line,R=a.char;;){if(_>=E)return!1;if((f=p.charCodeAt(_))!==32&&f!==9&&f!==13){if(f!==10)break;_++,O++,R=0}else _++,R++}if(l.offset=_,l.line=O,l.char=R,f===34){for(l.type=1,_++,R++;;){if(_>=E)return!1;if(f=p.charCodeAt(_),_++,R++,f!==92){if(f===34)break}else _++,R++}l.value=p.substring(l.offset+1,_-1).replace(/\\u([0-9A-Fa-f]{4})/g,function(q,z){return String.fromCodePoint(parseInt(z,16))}).replace(/\\(.)/g,function(q,z){switch(z){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:r(a,"invalid escape sequence")}throw new Error("unreachable")})}else if(f===91)l.type=2,_++,R++;else if(f===123)l.type=3,_++,R++;else if(f===93)l.type=4,_++,R++;else if(f===125)l.type=5,_++,R++;else if(f===58)l.type=6,_++,R++;else if(f===44)l.type=7,_++,R++;else if(f===110){if(l.type=8,_++,R++,(f=p.charCodeAt(_))!==117||(_++,R++,(f=p.charCodeAt(_))!==108)||(_++,R++,(f=p.charCodeAt(_))!==108))return!1;_++,R++}else if(f===116){if(l.type=9,_++,R++,(f=p.charCodeAt(_))!==114||(_++,R++,(f=p.charCodeAt(_))!==117)||(_++,R++,(f=p.charCodeAt(_))!==101))return!1;_++,R++}else if(f===102){if(l.type=10,_++,R++,(f=p.charCodeAt(_))!==97||(_++,R++,(f=p.charCodeAt(_))!==108)||(_++,R++,(f=p.charCodeAt(_))!==115)||(_++,R++,(f=p.charCodeAt(_))!==101))return!1;_++,R++}else for(l.type=11;;){if(_>=E)return!1;if(!((f=p.charCodeAt(_))===46||f>=48&&f<=57||f===101||f===69||f===45||f===43))break;_++,R++}return l.len=_-l.offset,l.value===null&&(l.value=p.substr(l.offset,l.len)),a.pos=_,a.line=O,a.char=R,!0}},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(O,R,q,z,L,B){this.scope=O,this.parentScopes=R,this.index=q,this.fontStyle=z,this.foreground=L,this.background=B};function i(O){return!!/^#[0-9a-f]{6}$/i.test(O)||!!/^#[0-9a-f]{8}$/i.test(O)||!!/^#[0-9a-f]{3}$/i.test(O)||!!/^#[0-9a-f]{4}$/i.test(O)}function s(O){if(!O)return[];if(!O.settings||!Array.isArray(O.settings))return[];for(var R=O.settings,q=[],z=0,L=0,B=R.length;L<B;L++){var P=R[L];if(P.settings){var G=void 0;typeof P.scope=="string"?G=P.scope.replace(/^[,]+/,"").replace(/[,]+$/,"").split(","):G=Array.isArray(P.scope)?P.scope:[""];var ue=-1;if(typeof P.settings.fontStyle=="string"){ue=0;for(var I=0,J=(He=P.settings.fontStyle.split(" ")).length;I<J;I++)switch(He[I]){case"italic":ue|=1;break;case"bold":ue|=2;break;case"underline":ue|=4}}var he=null;typeof P.settings.foreground=="string"&&i(P.settings.foreground)&&(he=P.settings.foreground);var ye=null;for(typeof P.settings.background=="string"&&i(P.settings.background)&&(ye=P.settings.background),I=0,J=G.length;I<J;I++){var He,at=(He=G[I].trim().split(" "))[He.length-1],ct=null;He.length>1&&(ct=He.slice(0,He.length-1)).reverse(),q[z++]=new r(at,ct,L,ue,he,ye)}}}return q}function o(O,R){O.sort(function(ye,He){var at=f(ye.scope,He.scope);return at!==0||(at=p(ye.parentScopes,He.parentScopes))!==0?at:ye.index-He.index});for(var q=0,z="#000000",L="#ffffff";O.length>=1&&O[0].scope==="";){var B=O.shift();B.fontStyle!==-1&&(q=B.fontStyle),B.foreground!==null&&(z=B.foreground),B.background!==null&&(L=B.background)}for(var P=new a(R),G=new _(0,null,q,P.getId(z),P.getId(L)),ue=new E(new _(0,null,-1,0,0),[]),I=0,J=O.length;I<J;I++){var he=O[I];ue.insert(0,he.scope,he.parentScopes,he.fontStyle,P.getId(he.foreground),P.getId(he.background))}return new l(P,G,ue)}e.ParsedThemeRule=r,e.parseTheme=s;var a=function(){function O(R){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(R)){this._isFrozen=!0;for(var q=0,z=R.length;q<z;q++)this._color2id[R[q]]=q,this._id2color[q]=R[q]}else this._isFrozen=!1}return O.prototype.getId=function(R){if(R===null)return 0;R=R.toUpperCase();var q=this._color2id[R];if(q)return q;if(this._isFrozen)throw new Error("Missing color in color map - "+R);return q=++this._lastColorId,this._color2id[R]=q,this._id2color[q]=R,q},O.prototype.getColorMap=function(){return this._id2color.slice(0)},O}();e.ColorMap=a;var l=function(){function O(R,q,z){this._colorMap=R,this._root=z,this._defaults=q,this._cache={}}return O.createFromRawTheme=function(R,q){return this.createFromParsedTheme(s(R),q)},O.createFromParsedTheme=function(R,q){return o(R,q)},O.prototype.getColorMap=function(){return this._colorMap.getColorMap()},O.prototype.getDefaults=function(){return this._defaults},O.prototype.match=function(R){return this._cache.hasOwnProperty(R)||(this._cache[R]=this._root.match(R)),this._cache[R]},O}();function f(O,R){return O<R?-1:O>R?1:0}function p(O,R){if(O===null&&R===null)return 0;if(!O)return-1;if(!R)return 1;var q=O.length,z=R.length;if(q===z){for(var L=0;L<q;L++){var B=f(O[L],R[L]);if(B!==0)return B}return 0}return q-z}e.Theme=l,e.strcmp=f,e.strArrCmp=p;var _=function(){function O(R,q,z,L,B){this.scopeDepth=R,this.parentScopes=q,this.fontStyle=z,this.foreground=L,this.background=B}return O.prototype.clone=function(){return new O(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)},O.cloneArr=function(R){for(var q=[],z=0,L=R.length;z<L;z++)q[z]=R[z].clone();return q},O.prototype.acceptOverwrite=function(R,q,z,L){this.scopeDepth>R?console.log("how did this happen?"):this.scopeDepth=R,q!==-1&&(this.fontStyle=q),z!==0&&(this.foreground=z),L!==0&&(this.background=L)},O}();e.ThemeTrieElementRule=_;var E=function(){function O(R,q,z){q===void 0&&(q=[]),z===void 0&&(z={}),this._mainRule=R,this._rulesWithParentScopes=q,this._children=z}return O._sortBySpecificity=function(R){return R.length===1||R.sort(this._cmpBySpecificity),R},O._cmpBySpecificity=function(R,q){if(R.scopeDepth===q.scopeDepth){var z=R.parentScopes,L=q.parentScopes,B=z===null?0:z.length,P=L===null?0:L.length;if(B===P)for(var G=0;G<B;G++){var ue=z[G].length,I=L[G].length;if(ue!==I)return I-ue}return P-B}return q.scopeDepth-R.scopeDepth},O.prototype.match=function(R){if(R==="")return O._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));var q,z,L=R.indexOf(".");return L===-1?(q=R,z=""):(q=R.substring(0,L),z=R.substring(L+1)),this._children.hasOwnProperty(q)?this._children[q].match(z):O._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))},O.prototype.insert=function(R,q,z,L,B,P){if(q!==""){var G,ue,I,J=q.indexOf(".");J===-1?(G=q,ue=""):(G=q.substring(0,J),ue=q.substring(J+1)),this._children.hasOwnProperty(G)?I=this._children[G]:(I=new O(this._mainRule.clone(),_.cloneArr(this._rulesWithParentScopes)),this._children[G]=I),I.insert(R+1,ue,z,L,B,P)}else this._doInsertHere(R,z,L,B,P)},O.prototype._doInsertHere=function(R,q,z,L,B){if(q!==null){for(var P=0,G=this._rulesWithParentScopes.length;P<G;P++){var ue=this._rulesWithParentScopes[P];if(p(ue.parentScopes,q)===0)return void ue.acceptOverwrite(R,z,L,B)}z===-1&&(z=this._mainRule.fontStyle),L===0&&(L=this._mainRule.foreground),B===0&&(B=this._mainRule.background),this._rulesWithParentScopes.push(new _(R,q,z,L,B))}else this._mainRule.acceptOverwrite(R,z,L,B)},O}();e.ThemeTrieElement=E}])})});var gX=Ae(()=>{m()});var yX=Ae(()=>{m()});var hs=Ae((YSt,kM)=>{m();var Gme,Yme,Kme,Jme,Xme,Zme,e2e,t2e,n2e,NM,TX,r2e,i2e,s2e,G7,o2e,a2e,u2e,l2e,c2e,f2e,d2e,h2e,p2e,LM;(function(n){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){n(t(e,t(r)))}):typeof kM=="object"&&typeof kM.exports=="object"?n(t(e,t(kM.exports))):n(t(e));function t(r,i){return r!==e&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(s,o){return r[s]=i?i(s,o):o}}})(function(n){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])};Gme=function(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(r,i);function s(){this.constructor=r}r.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)},Yme=Object.assign||function(r){for(var i,s=1,o=arguments.length;s<o;s++){i=arguments[s];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])}return r},Kme=function(r,i){var s={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&i.indexOf(o)<0&&(s[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(r);a<o.length;a++)i.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(r,o[a])&&(s[o[a]]=r[o[a]]);return s},Jme=function(r,i,s,o){var a=arguments.length,l=a<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,s):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(r,i,s,o);else for(var p=r.length-1;p>=0;p--)(f=r[p])&&(l=(a<3?f(l):a>3?f(i,s,l):f(i,s))||l);return a>3&&l&&Object.defineProperty(i,s,l),l},Xme=function(r,i){return function(s,o){i(s,o,r)}},Zme=function(r,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,i)},e2e=function(r,i,s,o){function a(l){return l instanceof s?l:new s(function(f){f(l)})}return new(s||(s=Promise))(function(l,f){function p(O){try{E(o.next(O))}catch(R){f(R)}}function _(O){try{E(o.throw(O))}catch(R){f(R)}}function E(O){O.done?l(O.value):a(O.value).then(p,_)}E((o=o.apply(r,i||[])).next())})},t2e=function(r,i){var s={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},o,a,l,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(E){return function(O){return _([E,O])}}function _(E){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,a&&(l=E[0]&2?a.return:E[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,E[1])).done)return l;switch(a=0,l&&(E=[E[0]&2,l.value]),E[0]){case 0:case 1:l=E;break;case 4:return s.label++,{value:E[1],done:!1};case 5:s.label++,a=E[1],E=[0];continue;case 7:E=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(E[0]===6||E[0]===2)){s=0;continue}if(E[0]===3&&(!l||E[1]>l[0]&&E[1]<l[3])){s.label=E[1];break}if(E[0]===6&&s.label<l[1]){s.label=l[1],l=E;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(E);break}l[2]&&s.ops.pop(),s.trys.pop();continue}E=i.call(r,s)}catch(O){E=[6,O],a=0}finally{o=l=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},n2e=function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&LM(i,r,s)},LM=Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]},NM=function(r){var i=typeof Symbol=="function"&&Symbol.iterator,s=i&&r[i],o=0;if(s)return s.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},TX=function(r,i){var s=typeof Symbol=="function"&&r[Symbol.iterator];if(!s)return r;var o=s.call(r),a,l=[],f;try{for(;(i===void 0||i-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(p){f={error:p}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(f)throw f.error}}return l},r2e=function(){for(var r=[],i=0;i<arguments.length;i++)r=r.concat(TX(arguments[i]));return r},i2e=function(){for(var r=0,i=0,s=arguments.length;i<s;i++)r+=arguments[i].length;for(var o=Array(r),a=0,i=0;i<s;i++)for(var l=arguments[i],f=0,p=l.length;f<p;f++,a++)o[a]=l[f];return o},s2e=function(r,i,s){if(s||arguments.length===2)for(var o=0,a=i.length,l;o<a;o++)(l||!(o in i))&&(l||(l=Array.prototype.slice.call(i,0,o)),l[o]=i[o]);return r.concat(l||Array.prototype.slice.call(i))},G7=function(r){return this instanceof G7?(this.v=r,this):new G7(r)},o2e=function(r,i,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s.apply(r,i||[]),a,l=[];return a={},f("next"),f("throw"),f("return"),a[Symbol.asyncIterator]=function(){return this},a;function f(q){o[q]&&(a[q]=function(z){return new Promise(function(L,B){l.push([q,z,L,B])>1||p(q,z)})})}function p(q,z){try{_(o[q](z))}catch(L){R(l[0][3],L)}}function _(q){q.value instanceof G7?Promise.resolve(q.value.v).then(E,O):R(l[0][2],q)}function E(q){p("next",q)}function O(q){p("throw",q)}function R(q,z){q(z),l.shift(),l.length&&p(l[0][0],l[0][1])}},a2e=function(r){var i,s;return i={},o("next"),o("throw",function(a){throw a}),o("return"),i[Symbol.iterator]=function(){return this},i;function o(a,l){i[a]=r[a]?function(f){return(s=!s)?{value:G7(r[a](f)),done:a==="return"}:l?l(f):f}:l}},u2e=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r[Symbol.asyncIterator],s;return i?i.call(r):(r=typeof NM=="function"?NM(r):r[Symbol.iterator](),s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s);function o(l){s[l]=r[l]&&function(f){return new Promise(function(p,_){f=r[l](f),a(p,_,f.done,f.value)})}}function a(l,f,p,_){Promise.resolve(_).then(function(E){l({value:E,done:p})},f)}},l2e=function(r,i){return Object.defineProperty?Object.defineProperty(r,"raw",{value:i}):r.raw=i,r};var t=Object.create?function(r,i){Object.defineProperty(r,"default",{enumerable:!0,value:i})}:function(r,i){r.default=i};c2e=function(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var s in r)s!=="default"&&Object.prototype.hasOwnProperty.call(r,s)&&LM(i,r,s);return t(i,r),i},f2e=function(r){return r&&r.__esModule?r:{default:r}},d2e=function(r,i,s,o){if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?r!==i||!o:!i.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?o:s==="a"?o.call(r):o?o.value:i.get(r)},h2e=function(r,i,s,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?r!==i||!a:!i.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(r,s):a?a.value=s:i.set(r,s),s},p2e=function(r,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?i===r:r.has(i)},n("__extends",Gme),n("__assign",Yme),n("__rest",Kme),n("__decorate",Jme),n("__param",Xme),n("__metadata",Zme),n("__awaiter",e2e),n("__generator",t2e),n("__exportStar",n2e),n("__createBinding",LM),n("__values",NM),n("__read",TX),n("__spread",r2e),n("__spreadArrays",i2e),n("__spreadArray",s2e),n("__await",G7),n("__asyncGenerator",o2e),n("__asyncDelegator",a2e),n("__asyncValues",u2e),n("__makeTemplateObject",l2e),n("__importStar",c2e),n("__importDefault",f2e),n("__classPrivateFieldGet",d2e),n("__classPrivateFieldSet",h2e),n("__classPrivateFieldIn",p2e)})});var $_=Ae(Y7=>{"use strict";m();Object.defineProperty(Y7,"__esModule",{value:!0});Y7.encodeUtf8=Y7.decodeUtf8=void 0;var aHe=new TextDecoder("utf-8"),uHe=n=>aHe.decode(n);Y7.decodeUtf8=uHe;var lHe=new TextEncoder,cHe=n=>lHe.encode(n);Y7.encodeUtf8=cHe});var S2=Ae(zi=>{"use strict";m();Object.defineProperty(zi,"__esModule",{value:!0});zi.isFlatbuffersByteBuffer=zi.isReadableNodeStream=zi.isWritableNodeStream=zi.isReadableDOMStream=zi.isWritableDOMStream=zi.isFetchResponse=zi.isFSReadStream=zi.isFileHandle=zi.isUnderlyingSink=zi.isIteratorResult=zi.isArrayLike=zi.isArrowJSON=zi.isAsyncIterable=zi.isIterable=zi.isObservable=zi.isPromise=zi.isObject=zi.BigUint64ArrayAvailable=zi.BigUint64Array=zi.BigInt64ArrayAvailable=zi.BigInt64Array=zi.BigIntAvailable=zi.BigInt=void 0;var[fHe,dHe]=(()=>{let n=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw n()}return e.asIntN=()=>{throw n()},e.asUintN=()=>{throw n()},typeof BigInt!="undefined"?[BigInt,!0]:[e,!1]})();zi.BigInt=fHe;zi.BigIntAvailable=dHe;var[hHe,pHe]=(()=>{let n=()=>{throw new Error("BigInt64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw n()}static from(){throw n()}constructor(){throw n()}}return typeof BigInt64Array!="undefined"?[BigInt64Array,!0]:[e,!1]})();zi.BigInt64Array=hHe;zi.BigInt64ArrayAvailable=pHe;var[mHe,xHe]=(()=>{let n=()=>{throw new Error("BigUint64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw n()}static from(){throw n()}constructor(){throw n()}}return typeof BigUint64Array!="undefined"?[BigUint64Array,!0]:[e,!1]})();zi.BigUint64Array=mHe;zi.BigUint64ArrayAvailable=xHe;var FX=n=>typeof n=="number",m2e=n=>typeof n=="boolean",$u=n=>typeof n=="function",gHe=n=>n!=null&&Object(n)===n;zi.isObject=gHe;var yHe=n=>(0,zi.isObject)(n)&&$u(n.then);zi.isPromise=yHe;var vHe=n=>(0,zi.isObject)(n)&&$u(n.subscribe);zi.isObservable=vHe;var _He=n=>(0,zi.isObject)(n)&&$u(n[Symbol.iterator]);zi.isIterable=_He;var bHe=n=>(0,zi.isObject)(n)&&$u(n[Symbol.asyncIterator]);zi.isAsyncIterable=bHe;var EHe=n=>(0,zi.isObject)(n)&&(0,zi.isObject)(n.schema);zi.isArrowJSON=EHe;var SHe=n=>(0,zi.isObject)(n)&&FX(n.length);zi.isArrayLike=SHe;var wHe=n=>(0,zi.isObject)(n)&&"done"in n&&"value"in n;zi.isIteratorResult=wHe;var CHe=n=>(0,zi.isObject)(n)&&$u(n.abort)&&$u(n.close)&&$u(n.start)&&$u(n.write);zi.isUnderlyingSink=CHe;var AHe=n=>(0,zi.isObject)(n)&&$u(n.stat)&&FX(n.fd);zi.isFileHandle=AHe;var THe=n=>(0,zi.isReadableNodeStream)(n)&&FX(n.bytesRead);zi.isFSReadStream=THe;var FHe=n=>(0,zi.isObject)(n)&&(0,zi.isReadableDOMStream)(n.body);zi.isFetchResponse=FHe;var IM=n=>"_getDOMStream"in n&&"_getNodeStream"in n,DHe=n=>(0,zi.isObject)(n)&&$u(n.abort)&&$u(n.getWriter)&&!IM(n);zi.isWritableDOMStream=DHe;var OHe=n=>(0,zi.isObject)(n)&&$u(n.cancel)&&$u(n.getReader)&&!IM(n);zi.isReadableDOMStream=OHe;var RHe=n=>(0,zi.isObject)(n)&&$u(n.end)&&$u(n.write)&&m2e(n.writable)&&!IM(n);zi.isWritableNodeStream=RHe;var NHe=n=>(0,zi.isObject)(n)&&$u(n.read)&&$u(n.pipe)&&m2e(n.readable)&&!IM(n);zi.isReadableNodeStream=NHe;var LHe=n=>(0,zi.isObject)(n)&&$u(n.clear)&&$u(n.bytes)&&$u(n.position)&&$u(n.setPosition)&&$u(n.capacity)&&$u(n.getBufferIdentifier)&&$u(n.createLong);zi.isFlatbuffersByteBuffer=LHe});var Qf=Ae(Di=>{"use strict";m();Object.defineProperty(Di,"__esModule",{value:!0});Di.compareArrayLike=Di.rebaseValueOffsets=Di.toUint8ClampedArrayAsyncIterator=Di.toFloat64ArrayAsyncIterator=Di.toFloat32ArrayAsyncIterator=Di.toUint32ArrayAsyncIterator=Di.toUint16ArrayAsyncIterator=Di.toUint8ArrayAsyncIterator=Di.toInt32ArrayAsyncIterator=Di.toInt16ArrayAsyncIterator=Di.toInt8ArrayAsyncIterator=Di.toArrayBufferViewAsyncIterator=Di.toUint8ClampedArrayIterator=Di.toFloat64ArrayIterator=Di.toFloat32ArrayIterator=Di.toUint32ArrayIterator=Di.toUint16ArrayIterator=Di.toUint8ArrayIterator=Di.toInt32ArrayIterator=Di.toInt16ArrayIterator=Di.toInt8ArrayIterator=Di.toArrayBufferViewIterator=Di.toUint8ClampedArray=Di.toFloat64Array=Di.toFloat32Array=Di.toBigUint64Array=Di.toUint32Array=Di.toUint16Array=Di.toUint8Array=Di.toBigInt64Array=Di.toInt32Array=Di.toInt16Array=Di.toInt8Array=Di.toArrayBufferView=Di.joinUint8Arrays=Di.memcpy=void 0;var gc=hs(),kHe=$_(),s5=S2(),DX=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:ArrayBuffer;function IHe(n){let e=n[0]?[n[0]]:[],t,r,i,s;for(let o,a,l=0,f=0,p=n.length;++l<p;){if(o=e[f],a=n[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(e[++f]=a);continue}if({byteOffset:t,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,t+i<r||r+s<t){a&&(e[++f]=a);continue}e[f]=new Uint8Array(o.buffer,t,r-t+s)}return e}function OX(n,e,t=0,r=e.byteLength){let i=n.byteLength,s=new Uint8Array(n.buffer,n.byteOffset,i),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(r,i));return s.set(o,t),n}Di.memcpy=OX;function MHe(n,e){let t=IHe(n),r=t.reduce((p,_)=>p+_.byteLength,0),i,s,o,a=0,l=-1,f=Math.min(e||Number.POSITIVE_INFINITY,r);for(let p=t.length;++l<p;){if(i=t[l],s=i.subarray(0,Math.min(i.length,f-a)),f<=a+s.length){s.length<i.length?t[l]=i.subarray(s.length):s.length===i.length&&l++,o?OX(o,s,a):o=s;break}OX(o||(o=new Uint8Array(f)),s,a),a+=s.length}return[o||new Uint8Array(0),t.slice(l),r-(o?o.byteLength:0)]}Di.joinUint8Arrays=MHe;function md(n,e){let t=(0,s5.isIteratorResult)(e)?e.value:e;return t instanceof n?n===Uint8Array?new n(t.buffer,t.byteOffset,t.byteLength):t:t?(typeof t=="string"&&(t=(0,kHe.encodeUtf8)(t)),t instanceof ArrayBuffer?new n(t):t instanceof DX?new n(t):(0,s5.isFlatbuffersByteBuffer)(t)?md(n,t.bytes()):ArrayBuffer.isView(t)?t.byteLength<=0?new n(0):new n(t.buffer,t.byteOffset,t.byteLength/n.BYTES_PER_ELEMENT):n.from(t)):new n(0)}Di.toArrayBufferView=md;var PHe=n=>md(Int8Array,n);Di.toInt8Array=PHe;var BHe=n=>md(Int16Array,n);Di.toInt16Array=BHe;var jHe=n=>md(Int32Array,n);Di.toInt32Array=jHe;var qHe=n=>md(s5.BigInt64Array,n);Di.toBigInt64Array=qHe;var UHe=n=>md(Uint8Array,n);Di.toUint8Array=UHe;var $He=n=>md(Uint16Array,n);Di.toUint16Array=$He;var zHe=n=>md(Uint32Array,n);Di.toUint32Array=zHe;var HHe=n=>md(s5.BigUint64Array,n);Di.toBigUint64Array=HHe;var VHe=n=>md(Float32Array,n);Di.toFloat32Array=VHe;var WHe=n=>md(Float64Array,n);Di.toFloat64Array=WHe;var QHe=n=>md(Uint8ClampedArray,n);Di.toUint8ClampedArray=QHe;var RX=n=>(n.next(),n);function*w2(n,e){let t=function*(i){yield i},r=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DX?t(e):(0,s5.isIterable)(e)?e:t(e);return yield*RX(function*(i){let s=null;do s=i.next(yield md(n,s));while(!s.done)}(r[Symbol.iterator]())),new n}Di.toArrayBufferViewIterator=w2;var GHe=n=>w2(Int8Array,n);Di.toInt8ArrayIterator=GHe;var YHe=n=>w2(Int16Array,n);Di.toInt16ArrayIterator=YHe;var KHe=n=>w2(Int32Array,n);Di.toInt32ArrayIterator=KHe;var JHe=n=>w2(Uint8Array,n);Di.toUint8ArrayIterator=JHe;var XHe=n=>w2(Uint16Array,n);Di.toUint16ArrayIterator=XHe;var ZHe=n=>w2(Uint32Array,n);Di.toUint32ArrayIterator=ZHe;var eVe=n=>w2(Float32Array,n);Di.toFloat32ArrayIterator=eVe;var tVe=n=>w2(Float64Array,n);Di.toFloat64ArrayIterator=tVe;var nVe=n=>w2(Uint8ClampedArray,n);Di.toUint8ClampedArrayIterator=nVe;function hm(n,e){return gc.__asyncGenerator(this,arguments,function*(){if((0,s5.isPromise)(e))return yield gc.__await(yield gc.__await(yield*gc.__asyncDelegator(gc.__asyncValues(hm(n,yield gc.__await(e))))));let r=function(o){return gc.__asyncGenerator(this,arguments,function*(){yield yield gc.__await(yield gc.__await(o))})},i=function(o){return gc.__asyncGenerator(this,arguments,function*(){yield gc.__await(yield*gc.__asyncDelegator(gc.__asyncValues(RX(function*(a){let l=null;do l=a.next(yield l==null?void 0:l.value);while(!l.done)}(o[Symbol.iterator]())))))})},s=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DX?r(e):(0,s5.isIterable)(e)?i(e):(0,s5.isAsyncIterable)(e)?e:r(e);return yield gc.__await(yield*gc.__asyncDelegator(gc.__asyncValues(RX(function(o){return gc.__asyncGenerator(this,arguments,function*(){let a=null;do a=yield gc.__await(o.next(yield yield gc.__await(md(n,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield gc.__await(new n)})}Di.toArrayBufferViewAsyncIterator=hm;var rVe=n=>hm(Int8Array,n);Di.toInt8ArrayAsyncIterator=rVe;var iVe=n=>hm(Int16Array,n);Di.toInt16ArrayAsyncIterator=iVe;var sVe=n=>hm(Int32Array,n);Di.toInt32ArrayAsyncIterator=sVe;var oVe=n=>hm(Uint8Array,n);Di.toUint8ArrayAsyncIterator=oVe;var aVe=n=>hm(Uint16Array,n);Di.toUint16ArrayAsyncIterator=aVe;var uVe=n=>hm(Uint32Array,n);Di.toUint32ArrayAsyncIterator=uVe;var lVe=n=>hm(Float32Array,n);Di.toFloat32ArrayAsyncIterator=lVe;var cVe=n=>hm(Float64Array,n);Di.toFloat64ArrayAsyncIterator=cVe;var fVe=n=>hm(Uint8ClampedArray,n);Di.toUint8ClampedArrayAsyncIterator=fVe;function dVe(n,e,t){if(n!==0){t=t.slice(0,e+1);for(let r=-1;++r<=e;)t[r]+=n}return t}Di.rebaseValueOffsets=dVe;function hVe(n,e){let t=0,r=n.length;if(r!==e.length)return!1;if(r>0)do if(n[t]!==e[t])return!1;while(++t<r);return!0}Di.compareArrayLike=hVe});var XT=Ae(LX=>{"use strict";m();Object.defineProperty(LX,"__esModule",{value:!0});var iu=hs(),xd=Qf();LX.default={fromIterable(n){return MM(pVe(n))},fromAsyncIterable(n){return MM(mVe(n))},fromDOMStream(n){return MM(xVe(n))},fromNodeStream(n){return MM(gVe(n))},toDOMStream(n,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(n,e){throw new Error('"toNodeStream" not available in this environment')}};var MM=n=>(n.next(),n);function*pVe(n){let e,t=!1,r=[],i,s,o,a=0;function l(){return s==="peek"?(0,xd.joinUint8Arrays)(r,o)[0]:([i,r,a]=(0,xd.joinUint8Arrays)(r,o),i)}({cmd:s,size:o}=yield null);let f=(0,xd.toUint8ArrayIterator)(n)[Symbol.iterator]();try{do if({done:e,value:i}=Number.isNaN(o-a)?f.next():f.next(o-a),!e&&i.byteLength>0&&(r.push(i),a+=i.byteLength),e||o<=a)do({cmd:s,size:o}=yield l());while(o<a);while(!e)}catch(p){(t=!0)&&typeof f.throw=="function"&&f.throw(p)}finally{t===!1&&typeof f.return=="function"&&f.return(null)}return null}function mVe(n){return iu.__asyncGenerator(this,arguments,function*(){let t,r=!1,i=[],s,o,a,l=0;function f(){return o==="peek"?(0,xd.joinUint8Arrays)(i,a)[0]:([s,i,l]=(0,xd.joinUint8Arrays)(i,a),s)}({cmd:o,size:a}=yield yield iu.__await(null));let p=(0,xd.toUint8ArrayAsyncIterator)(n)[Symbol.asyncIterator]();try{do if({done:t,value:s}=Number.isNaN(a-l)?yield iu.__await(p.next()):yield iu.__await(p.next(a-l)),!t&&s.byteLength>0&&(i.push(s),l+=s.byteLength),t||a<=l)do({cmd:o,size:a}=yield yield iu.__await(f()));while(a<l);while(!t)}catch(_){(r=!0)&&typeof p.throw=="function"&&(yield iu.__await(p.throw(_)))}finally{r===!1&&typeof p.return=="function"&&(yield iu.__await(p.return(new Uint8Array(0))))}return yield iu.__await(null)})}function xVe(n){return iu.__asyncGenerator(this,arguments,function*(){let t=!1,r=!1,i=[],s,o,a,l=0;function f(){return o==="peek"?(0,xd.joinUint8Arrays)(i,a)[0]:([s,i,l]=(0,xd.joinUint8Arrays)(i,a),s)}({cmd:o,size:a}=yield yield iu.__await(null));let p=new x2e(n);try{do if({done:t,value:s}=Number.isNaN(a-l)?yield iu.__await(p.read()):yield iu.__await(p.read(a-l)),!t&&s.byteLength>0&&(i.push((0,xd.toUint8Array)(s)),l+=s.byteLength),t||a<=l)do({cmd:o,size:a}=yield yield iu.__await(f()));while(a<l);while(!t)}catch(_){(r=!0)&&(yield iu.__await(p.cancel(_)))}finally{r===!1?yield iu.__await(p.cancel()):n.locked&&p.releaseLock()}return yield iu.__await(null)})}var x2e=class{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return iu.__awaiter(this,void 0,void 0,function*(){let{reader:t,source:r}=this;t&&(yield t.cancel(e).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(e){return iu.__awaiter(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};let t=yield this.reader.read();return!t.done&&(t.value=(0,xd.toUint8Array)(t)),t})}},NX=(n,e)=>{let t=i=>r([e,i]),r;return[e,t,new Promise(i=>(r=i)&&n.once(e,t))]};function gVe(n){return iu.__asyncGenerator(this,arguments,function*(){let t=[],r="error",i=!1,s=null,o,a,l=0,f=[],p;function _(){return o==="peek"?(0,xd.joinUint8Arrays)(f,a)[0]:([p,f,l]=(0,xd.joinUint8Arrays)(f,a),p)}if({cmd:o,size:a}=yield yield iu.__await(null),n.isTTY)return yield yield iu.__await(new Uint8Array(0)),yield iu.__await(null);try{t[0]=NX(n,"end"),t[1]=NX(n,"error");do{if(t[2]=NX(n,"readable"),[r,s]=yield iu.__await(Promise.race(t.map(O=>O[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-l)?(p=(0,xd.toUint8Array)(n.read(a-l)),p.byteLength<a-l&&(p=(0,xd.toUint8Array)(n.read()))):p=(0,xd.toUint8Array)(n.read()),p.byteLength>0&&(f.push(p),l+=p.byteLength)),i||a<=l)do({cmd:o,size:a}=yield yield iu.__await(_()));while(a<l)}while(!i)}finally{yield iu.__await(E(t,r==="error"?s:null))}return yield iu.__await(null);function E(O,R){return p=f=null,new Promise((q,z)=>{for(let[L,B]of O)n.off(L,B);try{let L=n.destroy;L&&L.call(n,R),R=void 0}catch(L){R=L||R}finally{R!=null?z(R):q()}})}})}});var kl=Ae(Oa=>{"use strict";m();Object.defineProperty(Oa,"__esModule",{value:!0});Oa.BufferType=Oa.Type=Oa.MessageHeader=Oa.IntervalUnit=Oa.TimeUnit=Oa.DateUnit=Oa.Precision=Oa.UnionMode=Oa.MetadataVersion=void 0;var yVe;(function(n){n[n.V1=0]="V1",n[n.V2=1]="V2",n[n.V3=2]="V3",n[n.V4=3]="V4",n[n.V5=4]="V5"})(yVe=Oa.MetadataVersion||(Oa.MetadataVersion={}));var vVe;(function(n){n[n.Sparse=0]="Sparse",n[n.Dense=1]="Dense"})(vVe=Oa.UnionMode||(Oa.UnionMode={}));var _Ve;(function(n){n[n.HALF=0]="HALF",n[n.SINGLE=1]="SINGLE",n[n.DOUBLE=2]="DOUBLE"})(_Ve=Oa.Precision||(Oa.Precision={}));var bVe;(function(n){n[n.DAY=0]="DAY",n[n.MILLISECOND=1]="MILLISECOND"})(bVe=Oa.DateUnit||(Oa.DateUnit={}));var EVe;(function(n){n[n.SECOND=0]="SECOND",n[n.MILLISECOND=1]="MILLISECOND",n[n.MICROSECOND=2]="MICROSECOND",n[n.NANOSECOND=3]="NANOSECOND"})(EVe=Oa.TimeUnit||(Oa.TimeUnit={}));var SVe;(function(n){n[n.YEAR_MONTH=0]="YEAR_MONTH",n[n.DAY_TIME=1]="DAY_TIME",n[n.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(SVe=Oa.IntervalUnit||(Oa.IntervalUnit={}));var wVe;(function(n){n[n.NONE=0]="NONE",n[n.Schema=1]="Schema",n[n.DictionaryBatch=2]="DictionaryBatch",n[n.RecordBatch=3]="RecordBatch",n[n.Tensor=4]="Tensor",n[n.SparseTensor=5]="SparseTensor"})(wVe=Oa.MessageHeader||(Oa.MessageHeader={}));var CVe;(function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.Float=3]="Float",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct=13]="Struct",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Dictionary=-1]="Dictionary",n[n.Int8=-2]="Int8",n[n.Int16=-3]="Int16",n[n.Int32=-4]="Int32",n[n.Int64=-5]="Int64",n[n.Uint8=-6]="Uint8",n[n.Uint16=-7]="Uint16",n[n.Uint32=-8]="Uint32",n[n.Uint64=-9]="Uint64",n[n.Float16=-10]="Float16",n[n.Float32=-11]="Float32",n[n.Float64=-12]="Float64",n[n.DateDay=-13]="DateDay",n[n.DateMillisecond=-14]="DateMillisecond",n[n.TimestampSecond=-15]="TimestampSecond",n[n.TimestampMillisecond=-16]="TimestampMillisecond",n[n.TimestampMicrosecond=-17]="TimestampMicrosecond",n[n.TimestampNanosecond=-18]="TimestampNanosecond",n[n.TimeSecond=-19]="TimeSecond",n[n.TimeMillisecond=-20]="TimeMillisecond",n[n.TimeMicrosecond=-21]="TimeMicrosecond",n[n.TimeNanosecond=-22]="TimeNanosecond",n[n.DenseUnion=-23]="DenseUnion",n[n.SparseUnion=-24]="SparseUnion",n[n.IntervalDayTime=-25]="IntervalDayTime",n[n.IntervalYearMonth=-26]="IntervalYearMonth"})(CVe=Oa.Type||(Oa.Type={}));var AVe;(function(n){n[n.OFFSET=0]="OFFSET",n[n.DATA=1]="DATA",n[n.VALIDITY=2]="VALIDITY",n[n.TYPE=3]="TYPE"})(AVe=Oa.BufferType||(Oa.BufferType={}))});var BM=Ae(PM=>{"use strict";m();Object.defineProperty(PM,"__esModule",{value:!0});PM.valueToString=void 0;var TVe=void 0;function g2e(n){if(n===null)return"null";if(n===TVe)return"undefined";switch(typeof n){case"number":return`${n}`;case"bigint":return`${n}`;case"string":return`"${n}"`}return typeof n[Symbol.toPrimitive]=="function"?n[Symbol.toPrimitive]("string"):ArrayBuffer.isView(n)?n instanceof BigInt64Array||n instanceof BigUint64Array?`[${[...n].map(e=>g2e(e))}]`:`[${n}]`:ArrayBuffer.isView(n)?`[${n}]`:JSON.stringify(n,(e,t)=>typeof t=="bigint"?`${t}`:t)}PM.valueToString=g2e});var qM=Ae(Hc=>{"use strict";m();Object.defineProperty(Hc,"__esModule",{value:!0});Hc.BN=Hc.bignumToBigInt=Hc.bignumToString=Hc.isArrowBigNumSymbol=void 0;var FVe=Qf(),K7=S2();Hc.isArrowBigNumSymbol=Symbol.for("isArrowBigNum");function pm(n,...e){return e.length===0?Object.setPrototypeOf((0,FVe.toArrayBufferView)(this.TypedArray,n),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(n,...e),this.constructor.prototype)}pm.prototype[Hc.isArrowBigNumSymbol]=!0;pm.prototype.toJSON=function(){return`"${(0,Hc.bignumToString)(this)}"`};pm.prototype.valueOf=function(){return y2e(this)};pm.prototype.toString=function(){return(0,Hc.bignumToString)(this)};pm.prototype[Symbol.toPrimitive]=function(n="default"){switch(n){case"number":return y2e(this);case"string":return(0,Hc.bignumToString)(this);case"default":return(0,Hc.bignumToBigInt)(this)}return(0,Hc.bignumToString)(this)};function J7(...n){return pm.apply(this,n)}function X7(...n){return pm.apply(this,n)}function ZT(...n){return pm.apply(this,n)}Object.setPrototypeOf(J7.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(X7.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(ZT.prototype,Object.create(Uint32Array.prototype));Object.assign(J7.prototype,pm.prototype,{constructor:J7,signed:!0,TypedArray:Int32Array,BigIntArray:K7.BigInt64Array});Object.assign(X7.prototype,pm.prototype,{constructor:X7,signed:!1,TypedArray:Uint32Array,BigIntArray:K7.BigUint64Array});Object.assign(ZT.prototype,pm.prototype,{constructor:ZT,signed:!0,TypedArray:Uint32Array,BigIntArray:K7.BigUint64Array});function y2e(n){let{buffer:e,byteOffset:t,length:r,signed:i}=n,s=new K7.BigUint64Array(e,t,r),o=i&&s[s.length-1]&BigInt(1)<<BigInt(63),a=BigInt(o?1:0),l=BigInt(0);if(o){for(let f of s)a+=~f*(BigInt(1)<<BigInt(32)*l++);a*=BigInt(-1)}else for(let f of s)a+=f*(BigInt(1)<<BigInt(32)*l++);return a}K7.BigIntAvailable?(Hc.bignumToBigInt=n=>n.byteLength===8?new n.BigIntArray(n.buffer,n.byteOffset,1)[0]:kX(n),Hc.bignumToString=n=>n.byteLength===8?`${new n.BigIntArray(n.buffer,n.byteOffset,1)[0]}`:kX(n)):(Hc.bignumToString=kX,Hc.bignumToBigInt=Hc.bignumToString);function kX(n){let e="",t=new Uint32Array(2),r=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2),i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer),s=-1,o=r.length-1;do{for(t[0]=r[s=0];s<o;)r[s++]=t[1]=t[0]/10,t[0]=(t[0]-t[1]*10<<16)+r[s];r[s]=t[1]=t[0]/10,t[0]=t[0]-t[1]*10,e=`${t[0]}${e}`}while(i[0]||i[1]||i[2]||i[3]);return e||"0"}var jM=class{static new(e,t){switch(t){case!0:return new J7(e);case!1:return new X7(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case K7.BigInt64Array:return new J7(e)}return e.byteLength===16?new ZT(e):new X7(e)}static signed(e){return new J7(e)}static unsigned(e){return new X7(e)}static decimal(e){return new ZT(e)}constructor(e,t){return jM.new(e,t)}};Hc.BN=jM});var su=Ae(ei=>{"use strict";m();var v2e,_2e,b2e,E2e,S2e,w2e,C2e,A2e,T2e,F2e,D2e,O2e,R2e,N2e,L2e,k2e,I2e,M2e,P2e;Object.defineProperty(ei,"__esModule",{value:!0});ei.strideForType=ei.Dictionary=ei.Map_=ei.FixedSizeList=ei.FixedSizeBinary=ei.SparseUnion=ei.DenseUnion=ei.Union=ei.Struct=ei.List=ei.IntervalYearMonth=ei.IntervalDayTime=ei.Interval=ei.TimestampNanosecond=ei.TimestampMicrosecond=ei.TimestampMillisecond=ei.TimestampSecond=ei.Timestamp=ei.TimeNanosecond=ei.TimeMicrosecond=ei.TimeMillisecond=ei.TimeSecond=ei.Time=ei.DateMillisecond=ei.DateDay=ei.Date_=ei.Decimal=ei.Bool=ei.Utf8=ei.Binary=ei.Float64=ei.Float32=ei.Float16=ei.Float=ei.Uint64=ei.Uint32=ei.Uint16=ei.Uint8=ei.Int64=ei.Int32=ei.Int16=ei.Int8=ei.Int=ei.Null=ei.DataType=void 0;var Pi=kl(),bu=class{static isNull(e){return(e==null?void 0:e.typeId)===Pi.Type.Null}static isInt(e){return(e==null?void 0:e.typeId)===Pi.Type.Int}static isFloat(e){return(e==null?void 0:e.typeId)===Pi.Type.Float}static isBinary(e){return(e==null?void 0:e.typeId)===Pi.Type.Binary}static isUtf8(e){return(e==null?void 0:e.typeId)===Pi.Type.Utf8}static isBool(e){return(e==null?void 0:e.typeId)===Pi.Type.Bool}static isDecimal(e){return(e==null?void 0:e.typeId)===Pi.Type.Decimal}static isDate(e){return(e==null?void 0:e.typeId)===Pi.Type.Date}static isTime(e){return(e==null?void 0:e.typeId)===Pi.Type.Time}static isTimestamp(e){return(e==null?void 0:e.typeId)===Pi.Type.Timestamp}static isInterval(e){return(e==null?void 0:e.typeId)===Pi.Type.Interval}static isList(e){return(e==null?void 0:e.typeId)===Pi.Type.List}static isStruct(e){return(e==null?void 0:e.typeId)===Pi.Type.Struct}static isUnion(e){return(e==null?void 0:e.typeId)===Pi.Type.Union}static isFixedSizeBinary(e){return(e==null?void 0:e.typeId)===Pi.Type.FixedSizeBinary}static isFixedSizeList(e){return(e==null?void 0:e.typeId)===Pi.Type.FixedSizeList}static isMap(e){return(e==null?void 0:e.typeId)===Pi.Type.Map}static isDictionary(e){return(e==null?void 0:e.typeId)===Pi.Type.Dictionary}static isDenseUnion(e){return bu.isUnion(e)&&e.mode===Pi.UnionMode.Dense}static isSparseUnion(e){return bu.isUnion(e)&&e.mode===Pi.UnionMode.Sparse}get typeId(){return Pi.Type.NONE}};ei.DataType=bu;v2e=Symbol.toStringTag;bu[v2e]=(n=>(n.children=null,n.ArrayType=Array,n[Symbol.toStringTag]="DataType"))(bu.prototype);var UM=class extends bu{toString(){return"Null"}get typeId(){return Pi.Type.Null}};ei.Null=UM;_2e=Symbol.toStringTag;UM[_2e]=(n=>n[Symbol.toStringTag]="Null")(UM.prototype);var $p=class extends bu{constructor(e,t){super();this.isSigned=e,this.bitWidth=t}get typeId(){return Pi.Type.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}};ei.Int=$p;b2e=Symbol.toStringTag;$p[b2e]=(n=>(n.isSigned=null,n.bitWidth=null,n[Symbol.toStringTag]="Int"))($p.prototype);var IX=class extends $p{constructor(){super(!0,8)}get ArrayType(){return Int8Array}};ei.Int8=IX;var MX=class extends $p{constructor(){super(!0,16)}get ArrayType(){return Int16Array}};ei.Int16=MX;var PX=class extends $p{constructor(){super(!0,32)}get ArrayType(){return Int32Array}};ei.Int32=PX;var BX=class extends $p{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}};ei.Int64=BX;var jX=class extends $p{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}};ei.Uint8=jX;var qX=class extends $p{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}};ei.Uint16=qX;var UX=class extends $p{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}};ei.Uint32=UX;var $X=class extends $p{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}};ei.Uint64=$X;Object.defineProperty(IX.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(MX.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(PX.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(BX.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(jX.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(qX.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(UX.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty($X.prototype,"ArrayType",{value:BigUint64Array});var z_=class extends bu{constructor(e){super();this.precision=e}get typeId(){return Pi.Type.Float}get ArrayType(){switch(this.precision){case Pi.Precision.HALF:return Uint16Array;case Pi.Precision.SINGLE:return Float32Array;case Pi.Precision.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}};ei.Float=z_;E2e=Symbol.toStringTag;z_[E2e]=(n=>(n.precision=null,n[Symbol.toStringTag]="Float"))(z_.prototype);var zX=class extends z_{constructor(){super(Pi.Precision.HALF)}};ei.Float16=zX;var HX=class extends z_{constructor(){super(Pi.Precision.SINGLE)}};ei.Float32=HX;var VX=class extends z_{constructor(){super(Pi.Precision.DOUBLE)}};ei.Float64=VX;Object.defineProperty(zX.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(HX.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(VX.prototype,"ArrayType",{value:Float64Array});var $M=class extends bu{constructor(){super()}get typeId(){return Pi.Type.Binary}toString(){return"Binary"}};ei.Binary=$M;S2e=Symbol.toStringTag;$M[S2e]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Binary"))($M.prototype);var zM=class extends bu{constructor(){super()}get typeId(){return Pi.Type.Utf8}toString(){return"Utf8"}};ei.Utf8=zM;w2e=Symbol.toStringTag;zM[w2e]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Utf8"))(zM.prototype);var HM=class extends bu{constructor(){super()}get typeId(){return Pi.Type.Bool}toString(){return"Bool"}};ei.Bool=HM;C2e=Symbol.toStringTag;HM[C2e]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Bool"))(HM.prototype);var VM=class extends bu{constructor(e,t,r=128){super();this.scale=e,this.precision=t,this.bitWidth=r}get typeId(){return Pi.Type.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};ei.Decimal=VM;A2e=Symbol.toStringTag;VM[A2e]=(n=>(n.scale=null,n.precision=null,n.ArrayType=Uint32Array,n[Symbol.toStringTag]="Decimal"))(VM.prototype);var Z7=class extends bu{constructor(e){super();this.unit=e}get typeId(){return Pi.Type.Date}toString(){return`Date${(this.unit+1)*32}<${Pi.DateUnit[this.unit]}>`}};ei.Date_=Z7;T2e=Symbol.toStringTag;Z7[T2e]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Date"))(Z7.prototype);var B2e=class extends Z7{constructor(){super(Pi.DateUnit.DAY)}};ei.DateDay=B2e;var j2e=class extends Z7{constructor(){super(Pi.DateUnit.MILLISECOND)}};ei.DateMillisecond=j2e;var o5=class extends bu{constructor(e,t){super();this.unit=e,this.bitWidth=t}get typeId(){return Pi.Type.Time}toString(){return`Time${this.bitWidth}<${Pi.TimeUnit[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}};ei.Time=o5;F2e=Symbol.toStringTag;o5[F2e]=(n=>(n.unit=null,n.bitWidth=null,n[Symbol.toStringTag]="Time"))(o5.prototype);var q2e=class extends o5{constructor(){super(Pi.TimeUnit.SECOND,32)}};ei.TimeSecond=q2e;var U2e=class extends o5{constructor(){super(Pi.TimeUnit.MILLISECOND,32)}};ei.TimeMillisecond=U2e;var $2e=class extends o5{constructor(){super(Pi.TimeUnit.MICROSECOND,64)}};ei.TimeMicrosecond=$2e;var z2e=class extends o5{constructor(){super(Pi.TimeUnit.NANOSECOND,64)}};ei.TimeNanosecond=z2e;var a5=class extends bu{constructor(e,t){super();this.unit=e,this.timezone=t}get typeId(){return Pi.Type.Timestamp}toString(){return`Timestamp<${Pi.TimeUnit[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}};ei.Timestamp=a5;D2e=Symbol.toStringTag;a5[D2e]=(n=>(n.unit=null,n.timezone=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Timestamp"))(a5.prototype);var H2e=class extends a5{constructor(e){super(Pi.TimeUnit.SECOND,e)}};ei.TimestampSecond=H2e;var V2e=class extends a5{constructor(e){super(Pi.TimeUnit.MILLISECOND,e)}};ei.TimestampMillisecond=V2e;var W2e=class extends a5{constructor(e){super(Pi.TimeUnit.MICROSECOND,e)}};ei.TimestampMicrosecond=W2e;var Q2e=class extends a5{constructor(e){super(Pi.TimeUnit.NANOSECOND,e)}};ei.TimestampNanosecond=Q2e;var e8=class extends bu{constructor(e){super();this.unit=e}get typeId(){return Pi.Type.Interval}toString(){return`Interval<${Pi.IntervalUnit[this.unit]}>`}};ei.Interval=e8;O2e=Symbol.toStringTag;e8[O2e]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Interval"))(e8.prototype);var G2e=class extends e8{constructor(){super(Pi.IntervalUnit.DAY_TIME)}};ei.IntervalDayTime=G2e;var Y2e=class extends e8{constructor(){super(Pi.IntervalUnit.YEAR_MONTH)}};ei.IntervalYearMonth=Y2e;var WM=class extends bu{constructor(e){super();this.children=[e]}get typeId(){return Pi.Type.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};ei.List=WM;R2e=Symbol.toStringTag;WM[R2e]=(n=>(n.children=null,n[Symbol.toStringTag]="List"))(WM.prototype);var QM=class extends bu{constructor(e){super();this.children=e}get typeId(){return Pi.Type.Struct}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}};ei.Struct=QM;N2e=Symbol.toStringTag;QM[N2e]=(n=>(n.children=null,n[Symbol.toStringTag]="Struct"))(QM.prototype);var t8=class extends bu{constructor(e,t,r){super();this.mode=e,this.children=r,this.typeIds=t=Int32Array.from(t),this.typeIdToChildIndex=t.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return Pi.Type.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}};ei.Union=t8;L2e=Symbol.toStringTag;t8[L2e]=(n=>(n.mode=null,n.typeIds=null,n.children=null,n.typeIdToChildIndex=null,n.ArrayType=Int8Array,n[Symbol.toStringTag]="Union"))(t8.prototype);var K2e=class extends t8{constructor(e,t){super(Pi.UnionMode.Dense,e,t)}};ei.DenseUnion=K2e;var J2e=class extends t8{constructor(e,t){super(Pi.UnionMode.Sparse,e,t)}};ei.SparseUnion=J2e;var GM=class extends bu{constructor(e){super();this.byteWidth=e}get typeId(){return Pi.Type.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};ei.FixedSizeBinary=GM;k2e=Symbol.toStringTag;GM[k2e]=(n=>(n.byteWidth=null,n.ArrayType=Uint8Array,n[Symbol.toStringTag]="FixedSizeBinary"))(GM.prototype);var YM=class extends bu{constructor(e,t){super();this.listSize=e,this.children=[t]}get typeId(){return Pi.Type.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};ei.FixedSizeList=YM;I2e=Symbol.toStringTag;YM[I2e]=(n=>(n.children=null,n.listSize=null,n[Symbol.toStringTag]="FixedSizeList"))(YM.prototype);var KM=class extends bu{constructor(e,t=!1){super();this.children=[e],this.keysSorted=t}get typeId(){return Pi.Type.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}};ei.Map_=KM;M2e=Symbol.toStringTag;KM[M2e]=(n=>(n.children=null,n.keysSorted=null,n[Symbol.toStringTag]="Map_"))(KM.prototype);var DVe=(n=>()=>++n)(-1),JM=class extends bu{constructor(e,t,r,i){super();this.indices=t,this.dictionary=e,this.isOrdered=i||!1,this.id=r==null?DVe():typeof r=="number"?r:r.low}get typeId(){return Pi.Type.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}};ei.Dictionary=JM;P2e=Symbol.toStringTag;JM[P2e]=(n=>(n.id=null,n.indices=null,n.isOrdered=null,n.dictionary=null,n[Symbol.toStringTag]="Dictionary"))(JM.prototype);function OVe(n){let e=n;switch(n.typeId){case Pi.Type.Decimal:return n.bitWidth/32;case Pi.Type.Timestamp:return 2;case Pi.Type.Date:return 1+e.unit;case Pi.Type.Interval:return 1+e.unit;case Pi.Type.FixedSizeList:return e.listSize;case Pi.Type.FixedSizeBinary:return e.byteWidth;default:return 1}}ei.strideForType=OVe});var gd=Ae(XM=>{"use strict";m();Object.defineProperty(XM,"__esModule",{value:!0});XM.Visitor=void 0;var _r=kl(),X2e=su(),Wa=class{visitMany(e,...t){return e.map((r,i)=>this.visit(r,...t.map(s=>s[i])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,t=!0){return RVe(this,e,t)}getVisitFnByTypeId(e,t=!0){return n8(this,e,t)}visitNull(e,...t){return null}visitBool(e,...t){return null}visitInt(e,...t){return null}visitFloat(e,...t){return null}visitUtf8(e,...t){return null}visitBinary(e,...t){return null}visitFixedSizeBinary(e,...t){return null}visitDate(e,...t){return null}visitTimestamp(e,...t){return null}visitTime(e,...t){return null}visitDecimal(e,...t){return null}visitList(e,...t){return null}visitStruct(e,...t){return null}visitUnion(e,...t){return null}visitDictionary(e,...t){return null}visitInterval(e,...t){return null}visitFixedSizeList(e,...t){return null}visitMap(e,...t){return null}};XM.Visitor=Wa;function RVe(n,e,t=!0){return typeof e=="number"?n8(n,e,t):typeof e=="string"&&e in _r.Type?n8(n,_r.Type[e],t):e&&e instanceof X2e.DataType?n8(n,Z2e(e),t):(e==null?void 0:e.type)&&e.type instanceof X2e.DataType?n8(n,Z2e(e.type),t):n8(n,_r.Type.NONE,t)}function n8(n,e,t=!0){let r=null;switch(e){case _r.Type.Null:r=n.visitNull;break;case _r.Type.Bool:r=n.visitBool;break;case _r.Type.Int:r=n.visitInt;break;case _r.Type.Int8:r=n.visitInt8||n.visitInt;break;case _r.Type.Int16:r=n.visitInt16||n.visitInt;break;case _r.Type.Int32:r=n.visitInt32||n.visitInt;break;case _r.Type.Int64:r=n.visitInt64||n.visitInt;break;case _r.Type.Uint8:r=n.visitUint8||n.visitInt;break;case _r.Type.Uint16:r=n.visitUint16||n.visitInt;break;case _r.Type.Uint32:r=n.visitUint32||n.visitInt;break;case _r.Type.Uint64:r=n.visitUint64||n.visitInt;break;case _r.Type.Float:r=n.visitFloat;break;case _r.Type.Float16:r=n.visitFloat16||n.visitFloat;break;case _r.Type.Float32:r=n.visitFloat32||n.visitFloat;break;case _r.Type.Float64:r=n.visitFloat64||n.visitFloat;break;case _r.Type.Utf8:r=n.visitUtf8;break;case _r.Type.Binary:r=n.visitBinary;break;case _r.Type.FixedSizeBinary:r=n.visitFixedSizeBinary;break;case _r.Type.Date:r=n.visitDate;break;case _r.Type.DateDay:r=n.visitDateDay||n.visitDate;break;case _r.Type.DateMillisecond:r=n.visitDateMillisecond||n.visitDate;break;case _r.Type.Timestamp:r=n.visitTimestamp;break;case _r.Type.TimestampSecond:r=n.visitTimestampSecond||n.visitTimestamp;break;case _r.Type.TimestampMillisecond:r=n.visitTimestampMillisecond||n.visitTimestamp;break;case _r.Type.TimestampMicrosecond:r=n.visitTimestampMicrosecond||n.visitTimestamp;break;case _r.Type.TimestampNanosecond:r=n.visitTimestampNanosecond||n.visitTimestamp;break;case _r.Type.Time:r=n.visitTime;break;case _r.Type.TimeSecond:r=n.visitTimeSecond||n.visitTime;break;case _r.Type.TimeMillisecond:r=n.visitTimeMillisecond||n.visitTime;break;case _r.Type.TimeMicrosecond:r=n.visitTimeMicrosecond||n.visitTime;break;case _r.Type.TimeNanosecond:r=n.visitTimeNanosecond||n.visitTime;break;case _r.Type.Decimal:r=n.visitDecimal;break;case _r.Type.List:r=n.visitList;break;case _r.Type.Struct:r=n.visitStruct;break;case _r.Type.Union:r=n.visitUnion;break;case _r.Type.DenseUnion:r=n.visitDenseUnion||n.visitUnion;break;case _r.Type.SparseUnion:r=n.visitSparseUnion||n.visitUnion;break;case _r.Type.Dictionary:r=n.visitDictionary;break;case _r.Type.Interval:r=n.visitInterval;break;case _r.Type.IntervalDayTime:r=n.visitIntervalDayTime||n.visitInterval;break;case _r.Type.IntervalYearMonth:r=n.visitIntervalYearMonth||n.visitInterval;break;case _r.Type.FixedSizeList:r=n.visitFixedSizeList;break;case _r.Type.Map:r=n.visitMap;break}if(typeof r=="function")return r;if(!t)return()=>null;throw new Error(`Unrecognized type '${_r.Type[e]}'`)}function Z2e(n){switch(n.typeId){case _r.Type.Null:return _r.Type.Null;case _r.Type.Int:{let{bitWidth:e,isSigned:t}=n;switch(e){case 8:return t?_r.Type.Int8:_r.Type.Uint8;case 16:return t?_r.Type.Int16:_r.Type.Uint16;case 32:return t?_r.Type.Int32:_r.Type.Uint32;case 64:return t?_r.Type.Int64:_r.Type.Uint64}return _r.Type.Int}case _r.Type.Float:switch(n.precision){case _r.Precision.HALF:return _r.Type.Float16;case _r.Precision.SINGLE:return _r.Type.Float32;case _r.Precision.DOUBLE:return _r.Type.Float64}return _r.Type.Float;case _r.Type.Binary:return _r.Type.Binary;case _r.Type.Utf8:return _r.Type.Utf8;case _r.Type.Bool:return _r.Type.Bool;case _r.Type.Decimal:return _r.Type.Decimal;case _r.Type.Time:switch(n.unit){case _r.TimeUnit.SECOND:return _r.Type.TimeSecond;case _r.TimeUnit.MILLISECOND:return _r.Type.TimeMillisecond;case _r.TimeUnit.MICROSECOND:return _r.Type.TimeMicrosecond;case _r.TimeUnit.NANOSECOND:return _r.Type.TimeNanosecond}return _r.Type.Time;case _r.Type.Timestamp:switch(n.unit){case _r.TimeUnit.SECOND:return _r.Type.TimestampSecond;case _r.TimeUnit.MILLISECOND:return _r.Type.TimestampMillisecond;case _r.TimeUnit.MICROSECOND:return _r.Type.TimestampMicrosecond;case _r.TimeUnit.NANOSECOND:return _r.Type.TimestampNanosecond}return _r.Type.Timestamp;case _r.Type.Date:switch(n.unit){case _r.DateUnit.DAY:return _r.Type.DateDay;case _r.DateUnit.MILLISECOND:return _r.Type.DateMillisecond}return _r.Type.Date;case _r.Type.Interval:switch(n.unit){case _r.IntervalUnit.DAY_TIME:return _r.Type.IntervalDayTime;case _r.IntervalUnit.YEAR_MONTH:return _r.Type.IntervalYearMonth}return _r.Type.Interval;case _r.Type.Map:return _r.Type.Map;case _r.Type.List:return _r.Type.List;case _r.Type.Struct:return _r.Type.Struct;case _r.Type.Union:switch(n.mode){case _r.UnionMode.Dense:return _r.Type.DenseUnion;case _r.UnionMode.Sparse:return _r.Type.SparseUnion}return _r.Type.Union;case _r.Type.FixedSizeBinary:return _r.Type.FixedSizeBinary;case _r.Type.FixedSizeList:return _r.Type.FixedSizeList;case _r.Type.Dictionary:return _r.Type.Dictionary}throw new Error(`Unrecognized type '${_r.Type[n.typeId]}'`)}Wa.prototype.visitInt8=null;Wa.prototype.visitInt16=null;Wa.prototype.visitInt32=null;Wa.prototype.visitInt64=null;Wa.prototype.visitUint8=null;Wa.prototype.visitUint16=null;Wa.prototype.visitUint32=null;Wa.prototype.visitUint64=null;Wa.prototype.visitFloat16=null;Wa.prototype.visitFloat32=null;Wa.prototype.visitFloat64=null;Wa.prototype.visitDateDay=null;Wa.prototype.visitDateMillisecond=null;Wa.prototype.visitTimestampSecond=null;Wa.prototype.visitTimestampMillisecond=null;Wa.prototype.visitTimestampMicrosecond=null;Wa.prototype.visitTimestampNanosecond=null;Wa.prototype.visitTimeSecond=null;Wa.prototype.visitTimeMillisecond=null;Wa.prototype.visitTimeMicrosecond=null;Wa.prototype.visitTimeNanosecond=null;Wa.prototype.visitDenseUnion=null;Wa.prototype.visitSparseUnion=null;Wa.prototype.visitIntervalDayTime=null;Wa.prototype.visitIntervalYearMonth=null});var eF=Ae(i8=>{"use strict";m();Object.defineProperty(i8,"__esModule",{value:!0});i8.float64ToUint16=i8.uint16ToFloat64=void 0;var exe=new Float64Array(1),r8=new Uint32Array(exe.buffer);function NVe(n){let e=(n&31744)>>10,t=(n&1023)/1024,r=Math.pow(-1,(n&32768)>>15);switch(e){case 31:return r*(t?Number.NaN:1/0);case 0:return r*(t?6103515625e-14*t:0)}return r*Math.pow(2,e-15)*(1+t)}i8.uint16ToFloat64=NVe;function LVe(n){if(n!==n)return 32256;exe[0]=n;let e=(r8[1]&2147483648)>>16&65535,t=r8[1]&2146435072,r=0;return t>=1089470464?r8[0]>0?t=31744:(t=(t&2080374784)>>16,r=(r8[1]&1048575)>>10):t<=1056964608?(r=1048576+(r8[1]&1048575),r=1048576+(r<<(t>>20)-998)>>21,t=0):(t=t-1056964608>>10,r=(r8[1]&1048575)+512>>10),e|t|r&65535}i8.float64ToUint16=LVe});var zp=Ae(Ar=>{"use strict";m();Object.defineProperty(Ar,"__esModule",{value:!0});Ar.instance=Ar.setIntervalYearMonth=Ar.setIntervalDayTime=Ar.setIntervalValue=Ar.setDecimal=Ar.setTime=Ar.setTimeNanosecond=Ar.setTimeMicrosecond=Ar.setTimeMillisecond=Ar.setTimeSecond=Ar.setTimestamp=Ar.setTimestampNanosecond=Ar.setTimestampMicrosecond=Ar.setTimestampMillisecond=Ar.setTimestampSecond=Ar.setDate=Ar.setFixedSizeBinary=Ar.setDateMillisecond=Ar.setDateDay=Ar.setAnyFloat=Ar.setFloat16=Ar.setFloat=Ar.setInt=Ar.setVariableWidthBytes=Ar.setEpochMsToNanosecondsLong=Ar.setEpochMsToMicrosecondsLong=Ar.setEpochMsToMillisecondsLong=Ar.setEpochMsToDays=Ar.SetVisitor=void 0;var kVe=yd(),IVe=gd(),MVe=$_(),PVe=eF(),ah=kl(),Ks=class extends IVe.Visitor{};Ar.SetVisitor=Ks;function go(n){return(e,t,r)=>{if(e.setValid(t,r!=null))return n(e,t,r)}}var BVe=(n,e,t)=>{n[e]=Math.trunc(t/864e5)};Ar.setEpochMsToDays=BVe;var jVe=(n,e,t)=>{n[e]=Math.trunc(t%4294967296),n[e+1]=Math.trunc(t/4294967296)};Ar.setEpochMsToMillisecondsLong=jVe;var qVe=(n,e,t)=>{n[e]=Math.trunc(t*1e3%4294967296),n[e+1]=Math.trunc(t*1e3/4294967296)};Ar.setEpochMsToMicrosecondsLong=qVe;var UVe=(n,e,t)=>{n[e]=Math.trunc(t*1e6%4294967296),n[e+1]=Math.trunc(t*1e6/4294967296)};Ar.setEpochMsToNanosecondsLong=UVe;var $Ve=(n,e,t,r)=>{if(t+1<e.length){let{[t]:i,[t+1]:s}=e;n.set(r.subarray(0,s-i),i)}};Ar.setVariableWidthBytes=$Ve;var zVe=({offset:n,values:e},t,r)=>{let i=n+t;r?e[i>>3]|=1<<i%8:e[i>>3]&=~(1<<i%8)},HVe=({values:n},e,t)=>{n[e]=t};Ar.setInt=HVe;var VVe=({values:n},e,t)=>{n[e]=t};Ar.setFloat=VVe;var WVe=({values:n},e,t)=>{n[e]=(0,PVe.float64ToUint16)(t)};Ar.setFloat16=WVe;var QVe=(n,e,t)=>{switch(n.type.precision){case ah.Precision.HALF:return(0,Ar.setFloat16)(n,e,t);case ah.Precision.SINGLE:case ah.Precision.DOUBLE:return(0,Ar.setFloat)(n,e,t)}};Ar.setAnyFloat=QVe;var GVe=({values:n},e,t)=>{(0,Ar.setEpochMsToDays)(n,e,t.valueOf())};Ar.setDateDay=GVe;var YVe=({values:n},e,t)=>{(0,Ar.setEpochMsToMillisecondsLong)(n,e*2,t.valueOf())};Ar.setDateMillisecond=YVe;var KVe=({stride:n,values:e},t,r)=>{e.set(r.subarray(0,n),n*t)};Ar.setFixedSizeBinary=KVe;var JVe=({values:n,valueOffsets:e},t,r)=>(0,Ar.setVariableWidthBytes)(n,e,t,r),XVe=({values:n,valueOffsets:e},t,r)=>{(0,Ar.setVariableWidthBytes)(n,e,t,(0,MVe.encodeUtf8)(r))},ZVe=(n,e,t)=>{n.type.unit===ah.DateUnit.DAY?(0,Ar.setDateDay)(n,e,t):(0,Ar.setDateMillisecond)(n,e,t)};Ar.setDate=ZVe;var eWe=({values:n},e,t)=>(0,Ar.setEpochMsToMillisecondsLong)(n,e*2,t/1e3);Ar.setTimestampSecond=eWe;var tWe=({values:n},e,t)=>(0,Ar.setEpochMsToMillisecondsLong)(n,e*2,t);Ar.setTimestampMillisecond=tWe;var nWe=({values:n},e,t)=>(0,Ar.setEpochMsToMicrosecondsLong)(n,e*2,t);Ar.setTimestampMicrosecond=nWe;var rWe=({values:n},e,t)=>(0,Ar.setEpochMsToNanosecondsLong)(n,e*2,t);Ar.setTimestampNanosecond=rWe;var iWe=(n,e,t)=>{switch(n.type.unit){case ah.TimeUnit.SECOND:return(0,Ar.setTimestampSecond)(n,e,t);case ah.TimeUnit.MILLISECOND:return(0,Ar.setTimestampMillisecond)(n,e,t);case ah.TimeUnit.MICROSECOND:return(0,Ar.setTimestampMicrosecond)(n,e,t);case ah.TimeUnit.NANOSECOND:return(0,Ar.setTimestampNanosecond)(n,e,t)}};Ar.setTimestamp=iWe;var sWe=({values:n},e,t)=>{n[e]=t};Ar.setTimeSecond=sWe;var oWe=({values:n},e,t)=>{n[e]=t};Ar.setTimeMillisecond=oWe;var aWe=({values:n},e,t)=>{n[e]=t};Ar.setTimeMicrosecond=aWe;var uWe=({values:n},e,t)=>{n[e]=t};Ar.setTimeNanosecond=uWe;var lWe=(n,e,t)=>{switch(n.type.unit){case ah.TimeUnit.SECOND:return(0,Ar.setTimeSecond)(n,e,t);case ah.TimeUnit.MILLISECOND:return(0,Ar.setTimeMillisecond)(n,e,t);case ah.TimeUnit.MICROSECOND:return(0,Ar.setTimeMicrosecond)(n,e,t);case ah.TimeUnit.NANOSECOND:return(0,Ar.setTimeNanosecond)(n,e,t)}};Ar.setTime=lWe;var cWe=({values:n,stride:e},t,r)=>{n.set(r.subarray(0,e),e*t)};Ar.setDecimal=cWe;var fWe=(n,e,t)=>{let r=n.children[0],i=n.valueOffsets,s=Ar.instance.getVisitFn(r);if(Array.isArray(t))for(let o=-1,a=i[e],l=i[e+1];a<l;)s(r,a++,t[++o]);else for(let o=-1,a=i[e],l=i[e+1];a<l;)s(r,a++,t.get(++o))},dWe=(n,e,t)=>{let r=n.children[0],{valueOffsets:i}=n,s=Ar.instance.getVisitFn(r),{[e]:o,[e+1]:a}=i,l=t instanceof Map?t.entries():Object.entries(t);for(let f of l)if(s(r,o,f),++o>=a)break},hWe=(n,e)=>(t,r,i,s)=>r&&t(r,n,e[s]),pWe=(n,e)=>(t,r,i,s)=>r&&t(r,n,e.get(s)),mWe=(n,e)=>(t,r,i,s)=>r&&t(r,n,e.get(i.name)),xWe=(n,e)=>(t,r,i,s)=>r&&t(r,n,e[i.name]),gWe=(n,e,t)=>{let r=n.type.children.map(s=>Ar.instance.getVisitFn(s.type)),i=t instanceof Map?mWe(e,t):t instanceof kVe.Vector?pWe(e,t):Array.isArray(t)?hWe(e,t):xWe(e,t);n.type.children.forEach((s,o)=>i(r[o],n.children[o],s,o))},yWe=(n,e,t)=>{n.type.mode===ah.UnionMode.Dense?txe(n,e,t):nxe(n,e,t)},txe=(n,e,t)=>{let r=n.type.typeIdToChildIndex[n.typeIds[e]],i=n.children[r];Ar.instance.visit(i,n.valueOffsets[e],t)},nxe=(n,e,t)=>{let r=n.type.typeIdToChildIndex[n.typeIds[e]],i=n.children[r];Ar.instance.visit(i,e,t)},vWe=(n,e,t)=>{var r;(r=n.dictionary)===null||r===void 0||r.set(n.values[e],t)},_We=(n,e,t)=>{n.type.unit===ah.IntervalUnit.DAY_TIME?(0,Ar.setIntervalDayTime)(n,e,t):(0,Ar.setIntervalYearMonth)(n,e,t)};Ar.setIntervalValue=_We;var bWe=({values:n},e,t)=>{n.set(t.subarray(0,2),2*e)};Ar.setIntervalDayTime=bWe;var EWe=({values:n},e,t)=>{n[e]=t[0]*12+t[1]%12};Ar.setIntervalYearMonth=EWe;var SWe=(n,e,t)=>{let{stride:r}=n,i=n.children[0],s=Ar.instance.getVisitFn(i);if(Array.isArray(t))for(let o=-1,a=e*r;++o<r;)s(i,a+o,t[o]);else for(let o=-1,a=e*r;++o<r;)s(i,a+o,t.get(o))};Ks.prototype.visitBool=go(zVe);Ks.prototype.visitInt=go(Ar.setInt);Ks.prototype.visitInt8=go(Ar.setInt);Ks.prototype.visitInt16=go(Ar.setInt);Ks.prototype.visitInt32=go(Ar.setInt);Ks.prototype.visitInt64=go(Ar.setInt);Ks.prototype.visitUint8=go(Ar.setInt);Ks.prototype.visitUint16=go(Ar.setInt);Ks.prototype.visitUint32=go(Ar.setInt);Ks.prototype.visitUint64=go(Ar.setInt);Ks.prototype.visitFloat=go(Ar.setAnyFloat);Ks.prototype.visitFloat16=go(Ar.setFloat16);Ks.prototype.visitFloat32=go(Ar.setFloat);Ks.prototype.visitFloat64=go(Ar.setFloat);Ks.prototype.visitUtf8=go(XVe);Ks.prototype.visitBinary=go(JVe);Ks.prototype.visitFixedSizeBinary=go(Ar.setFixedSizeBinary);Ks.prototype.visitDate=go(Ar.setDate);Ks.prototype.visitDateDay=go(Ar.setDateDay);Ks.prototype.visitDateMillisecond=go(Ar.setDateMillisecond);Ks.prototype.visitTimestamp=go(Ar.setTimestamp);Ks.prototype.visitTimestampSecond=go(Ar.setTimestampSecond);Ks.prototype.visitTimestampMillisecond=go(Ar.setTimestampMillisecond);Ks.prototype.visitTimestampMicrosecond=go(Ar.setTimestampMicrosecond);Ks.prototype.visitTimestampNanosecond=go(Ar.setTimestampNanosecond);Ks.prototype.visitTime=go(Ar.setTime);Ks.prototype.visitTimeSecond=go(Ar.setTimeSecond);Ks.prototype.visitTimeMillisecond=go(Ar.setTimeMillisecond);Ks.prototype.visitTimeMicrosecond=go(Ar.setTimeMicrosecond);Ks.prototype.visitTimeNanosecond=go(Ar.setTimeNanosecond);Ks.prototype.visitDecimal=go(Ar.setDecimal);Ks.prototype.visitList=go(fWe);Ks.prototype.visitStruct=go(gWe);Ks.prototype.visitUnion=go(yWe);Ks.prototype.visitDenseUnion=go(txe);Ks.prototype.visitSparseUnion=go(nxe);Ks.prototype.visitDictionary=go(vWe);Ks.prototype.visitInterval=go(Ar.setIntervalValue);Ks.prototype.visitIntervalDayTime=go(Ar.setIntervalDayTime);Ks.prototype.visitIntervalYearMonth=go(Ar.setIntervalYearMonth);Ks.prototype.visitFixedSizeList=go(SWe);Ks.prototype.visitMap=go(dWe);Ar.instance=new Ks});var eP=Ae(ZM=>{"use strict";m();Object.defineProperty(ZM,"__esModule",{value:!0});ZM.StructRow=void 0;var rxe=BM(),WX=H_(),wWe=zp(),mm=Symbol.for("parent"),s8=Symbol.for("rowIndex"),QX=class{constructor(e,t){return this[mm]=e,this[s8]=t,new Proxy(this,new sxe)}toArray(){return Object.values(this.toJSON())}toJSON(){let e=this[s8],t=this[mm],r=t.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=WX.instance.visit(t.children[s],e);return i}toString(){return`{${[...this].map(([e,t])=>`${(0,rxe.valueToString)(e)}: ${(0,rxe.valueToString)(t)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new ixe(this[mm],this[s8])}};ZM.StructRow=QX;var ixe=class{constructor(e,t){this.childIndex=0,this.children=e.children,this.rowIndex=t,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){let e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,WX.instance.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}};Object.defineProperties(QX.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[mm]:{writable:!0,enumerable:!1,configurable:!1,value:null},[s8]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});var sxe=class{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[mm].type.children.map(t=>t.name)}has(e,t){return e[mm].type.children.findIndex(r=>r.name===t)!==-1}getOwnPropertyDescriptor(e,t){if(e[mm].type.children.findIndex(r=>r.name===t)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];let r=e[mm].type.children.findIndex(i=>i.name===t);if(r!==-1){let i=WX.instance.visit(e[mm].children[r],e[s8]);return Reflect.set(e,t,i),i}}set(e,t,r){let i=e[mm].type.children.findIndex(s=>s.name===t);return i!==-1?(wWe.instance.visit(e[mm].children[i],e[s8],r),Reflect.set(e,t,r)):Reflect.has(e,t)||typeof t=="symbol"?Reflect.set(e,t,r):!1}}});var H_=Ae(l5=>{"use strict";m();Object.defineProperty(l5,"__esModule",{value:!0});l5.instance=l5.GetVisitor=void 0;var CWe=qM(),oxe=yd(),AWe=gd(),TWe=tF(),FWe=eP(),DWe=$_(),axe=eF(),Hp=kl(),zs=class extends AWe.Visitor{};l5.GetVisitor=zs;function uo(n){return(e,t)=>e.getValid(t)?n(e,t):null}var OWe=(n,e)=>864e5*n[e],GX=(n,e)=>4294967296*n[e+1]+(n[e]>>>0),RWe=(n,e)=>4294967296*(n[e+1]/1e3)+(n[e]>>>0)/1e3,NWe=(n,e)=>4294967296*(n[e+1]/1e6)+(n[e]>>>0)/1e6,uxe=n=>new Date(n),LWe=(n,e)=>uxe(OWe(n,e)),kWe=(n,e)=>uxe(GX(n,e)),IWe=(n,e)=>null,lxe=(n,e,t)=>{if(t+1>=e.length)return null;let r=e[t],i=e[t+1];return n.subarray(r,i)},MWe=({offset:n,values:e},t)=>{let r=n+t;return(e[r>>3]&1<<r%8)!==0},cxe=({values:n},e)=>LWe(n,e),fxe=({values:n},e)=>kWe(n,e*2),u5=({stride:n,values:e},t)=>e[n*t],PWe=({stride:n,values:e},t)=>(0,axe.uint16ToFloat64)(e[n*t]),dxe=({values:n},e)=>n[e],BWe=({stride:n,values:e},t)=>e.subarray(n*t,n*(t+1)),jWe=({values:n,valueOffsets:e},t)=>lxe(n,e,t),qWe=({values:n,valueOffsets:e},t)=>{let r=lxe(n,e,t);return r!==null?(0,DWe.decodeUtf8)(r):null},UWe=({values:n},e)=>n[e],$We=({type:n,values:e},t)=>n.precision!==Hp.Precision.HALF?e[t]:(0,axe.uint16ToFloat64)(e[t]),zWe=(n,e)=>n.type.unit===Hp.DateUnit.DAY?cxe(n,e):fxe(n,e),hxe=({values:n},e)=>1e3*GX(n,e*2),pxe=({values:n},e)=>GX(n,e*2),mxe=({values:n},e)=>RWe(n,e*2),xxe=({values:n},e)=>NWe(n,e*2),HWe=(n,e)=>{switch(n.type.unit){case Hp.TimeUnit.SECOND:return hxe(n,e);case Hp.TimeUnit.MILLISECOND:return pxe(n,e);case Hp.TimeUnit.MICROSECOND:return mxe(n,e);case Hp.TimeUnit.NANOSECOND:return xxe(n,e)}},gxe=({values:n},e)=>n[e],yxe=({values:n},e)=>n[e],vxe=({values:n},e)=>n[e],_xe=({values:n},e)=>n[e],VWe=(n,e)=>{switch(n.type.unit){case Hp.TimeUnit.SECOND:return gxe(n,e);case Hp.TimeUnit.MILLISECOND:return yxe(n,e);case Hp.TimeUnit.MICROSECOND:return vxe(n,e);case Hp.TimeUnit.NANOSECOND:return _xe(n,e)}},WWe=({values:n,stride:e},t)=>CWe.BN.decimal(n.subarray(e*t,e*(t+1))),QWe=(n,e)=>{let{valueOffsets:t,stride:r,children:i}=n,{[e*r]:s,[e*r+1]:o}=t,l=i[0].slice(s,o-s);return new oxe.Vector([l])},GWe=(n,e)=>{let{valueOffsets:t,children:r}=n,{[e]:i,[e+1]:s}=t,o=r[0];return new TWe.MapRow(o.slice(i,s-i))},YWe=(n,e)=>new FWe.StructRow(n,e),KWe=(n,e)=>n.type.mode===Hp.UnionMode.Dense?bxe(n,e):Exe(n,e),bxe=(n,e)=>{let t=n.type.typeIdToChildIndex[n.typeIds[e]],r=n.children[t];return l5.instance.visit(r,n.valueOffsets[e])},Exe=(n,e)=>{let t=n.type.typeIdToChildIndex[n.typeIds[e]],r=n.children[t];return l5.instance.visit(r,e)},JWe=(n,e)=>{var t;return(t=n.dictionary)===null||t===void 0?void 0:t.get(n.values[e])},XWe=(n,e)=>n.type.unit===Hp.IntervalUnit.DAY_TIME?Sxe(n,e):wxe(n,e),Sxe=({values:n},e)=>n.subarray(2*e,2*(e+1)),wxe=({values:n},e)=>{let t=n[e],r=new Int32Array(2);return r[0]=Math.trunc(t/12),r[1]=Math.trunc(t%12),r},ZWe=(n,e)=>{let{stride:t,children:r}=n,s=r[0].slice(e*t,t);return new oxe.Vector([s])};zs.prototype.visitNull=uo(IWe);zs.prototype.visitBool=uo(MWe);zs.prototype.visitInt=uo(UWe);zs.prototype.visitInt8=uo(u5);zs.prototype.visitInt16=uo(u5);zs.prototype.visitInt32=uo(u5);zs.prototype.visitInt64=uo(dxe);zs.prototype.visitUint8=uo(u5);zs.prototype.visitUint16=uo(u5);zs.prototype.visitUint32=uo(u5);zs.prototype.visitUint64=uo(dxe);zs.prototype.visitFloat=uo($We);zs.prototype.visitFloat16=uo(PWe);zs.prototype.visitFloat32=uo(u5);zs.prototype.visitFloat64=uo(u5);zs.prototype.visitUtf8=uo(qWe);zs.prototype.visitBinary=uo(jWe);zs.prototype.visitFixedSizeBinary=uo(BWe);zs.prototype.visitDate=uo(zWe);zs.prototype.visitDateDay=uo(cxe);zs.prototype.visitDateMillisecond=uo(fxe);zs.prototype.visitTimestamp=uo(HWe);zs.prototype.visitTimestampSecond=uo(hxe);zs.prototype.visitTimestampMillisecond=uo(pxe);zs.prototype.visitTimestampMicrosecond=uo(mxe);zs.prototype.visitTimestampNanosecond=uo(xxe);zs.prototype.visitTime=uo(VWe);zs.prototype.visitTimeSecond=uo(gxe);zs.prototype.visitTimeMillisecond=uo(yxe);zs.prototype.visitTimeMicrosecond=uo(vxe);zs.prototype.visitTimeNanosecond=uo(_xe);zs.prototype.visitDecimal=uo(WWe);zs.prototype.visitList=uo(QWe);zs.prototype.visitStruct=uo(YWe);zs.prototype.visitUnion=uo(KWe);zs.prototype.visitDenseUnion=uo(bxe);zs.prototype.visitSparseUnion=uo(Exe);zs.prototype.visitDictionary=uo(JWe);zs.prototype.visitInterval=uo(XWe);zs.prototype.visitIntervalDayTime=uo(Sxe);zs.prototype.visitIntervalYearMonth=uo(wxe);zs.prototype.visitFixedSizeList=uo(ZWe);zs.prototype.visitMap=uo(GWe);l5.instance=new zs});var tF=Ae(zu=>{"use strict";m();Object.defineProperty(zu,"__esModule",{value:!0});zu.MapRow=zu.kVals=zu.kKeys=void 0;var eQe=yd(),Cxe=BM(),YX=H_(),tQe=zp();zu.kKeys=Symbol.for("keys");zu.kVals=Symbol.for("vals");var KX=class{constructor(e){return this[zu.kKeys]=new eQe.Vector([e.children[0]]).memoize(),this[zu.kVals]=e.children[1],new Proxy(this,new Txe)}[Symbol.iterator](){return new Axe(this[zu.kKeys],this[zu.kVals])}get size(){return this[zu.kKeys].length}toArray(){return Object.values(this.toJSON())}toJSON(){let e=this[zu.kKeys],t=this[zu.kVals],r={};for(let i=-1,s=e.length;++i<s;)r[e.get(i)]=YX.instance.visit(t,i);return r}toString(){return`{${[...this].map(([e,t])=>`${(0,Cxe.valueToString)(e)}: ${(0,Cxe.valueToString)(t)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}};zu.MapRow=KX;var Axe=class{constructor(e,t){this.keys=e,this.vals=t,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){let e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),YX.instance.visit(this.vals,e)]})}},Txe=class{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[zu.kKeys].toArray().map(String)}has(e,t){return e[zu.kKeys].includes(t)}getOwnPropertyDescriptor(e,t){if(e[zu.kKeys].indexOf(t)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];let r=e[zu.kKeys].indexOf(t);if(r!==-1){let i=YX.instance.visit(Reflect.get(e,zu.kVals),r);return Reflect.set(e,t,i),i}}set(e,t,r){let i=e[zu.kKeys].indexOf(t);return i!==-1?(tQe.instance.visit(Reflect.get(e,zu.kVals),i,r),Reflect.set(e,t,r)):Reflect.has(e,t)?Reflect.set(e,t,r):!1}};Object.defineProperties(KX.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[zu.kKeys]:{writable:!0,enumerable:!1,configurable:!1,value:null},[zu.kVals]:{writable:!0,enumerable:!1,configurable:!1,value:null}})});var rF=Ae(c5=>{"use strict";m();Object.defineProperty(c5,"__esModule",{value:!0});c5.createElementComparator=c5.clampRange=c5.clampIndex=void 0;var Fxe=yd(),nQe=tF(),rQe=eP(),iQe=Qf();function sQe(n,e,t){let r=n.length,i=e>-1?e:r+e%r;return t?t(n,i):i}c5.clampIndex=sQe;var Dxe;function oQe(n,e,t,r){let{length:i=0}=n,s=typeof e!="number"?0:e,o=typeof t!="number"?i:t;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(Dxe=s,s=o,o=Dxe),o>i&&(o=i),r?r(n,s,o):[s,o]}c5.clampRange=oQe;var Oxe=n=>n!==n;function nF(n){if(typeof n!=="object"||n===null)return Oxe(n)?Oxe:t=>t===n;if(n instanceof Date){let t=n.valueOf();return r=>r instanceof Date?r.valueOf()===t:!1}return ArrayBuffer.isView(n)?t=>t?(0,iQe.compareArrayLike)(n,t):!1:n instanceof Map?uQe(n):Array.isArray(n)?aQe(n):n instanceof Fxe.Vector?lQe(n):cQe(n,!0)}c5.createElementComparator=nF;function aQe(n){let e=[];for(let t=-1,r=n.length;++t<r;)e[t]=nF(n[t]);return tP(e)}function uQe(n){let e=-1,t=[];for(let r of n.values())t[++e]=nF(r);return tP(t)}function lQe(n){let e=[];for(let t=-1,r=n.length;++t<r;)e[t]=nF(n.get(t));return tP(e)}function cQe(n,e=!1){let t=Object.keys(n);if(!e&&t.length===0)return()=>!1;let r=[];for(let i=-1,s=t.length;++i<s;)r[i]=nF(n[t[i]]);return tP(r,t)}function tP(n,e){return t=>{if(!t||typeof t!="object")return!1;switch(t.constructor){case Array:return fQe(n,t);case Map:return Rxe(n,t,t.keys());case nQe.MapRow:case rQe.StructRow:case Object:case void 0:return Rxe(n,t,e||Object.keys(t))}return t instanceof Fxe.Vector?dQe(n,t):!1}}function fQe(n,e){let t=n.length;if(e.length!==t)return!1;for(let r=-1;++r<t;)if(!n[r](e[r]))return!1;return!0}function dQe(n,e){let t=n.length;if(e.length!==t)return!1;for(let r=-1;++r<t;)if(!n[r](e.get(r)))return!1;return!0}function Rxe(n,e,t){let r=t[Symbol.iterator](),i=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator](),o=0,a=n.length,l=s.next(),f=r.next(),p=i.next();for(;o<a&&!f.done&&!p.done&&!l.done&&!(f.value!==p.value||!n[o](l.value));++o,f=r.next(),p=i.next(),l=s.next());return o===a&&f.done&&p.done&&l.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}});var V_=Ae(yc=>{"use strict";m();Object.defineProperty(yc,"__esModule",{value:!0});yc.popcnt_uint32=yc.popcnt_array=yc.popcnt_bit_range=yc.BitIterator=yc.packBools=yc.truncateBitmap=yc.setBool=yc.getBit=yc.getBool=void 0;function Nxe(n,e,t,r){return(t&1<<r)!==0}yc.getBool=Nxe;function Lxe(n,e,t,r){return(t&1<<r)>>r}yc.getBit=Lxe;function hQe(n,e,t){return t?!!(n[e>>3]|=1<<e%8)||!0:!(n[e>>3]&=~(1<<e%8))&&!1}yc.setBool=hQe;function pQe(n,e,t){let r=t.byteLength+7&~7;if(n>0||t.byteLength<r){let i=new Uint8Array(r);return i.set(n%8===0?t.subarray(n>>3):kxe(new nP(t,n,e,null,Nxe)).subarray(0,r)),i}return t}yc.truncateBitmap=pQe;function kxe(n){let e=[],t=0,r=0,i=0;for(let o of n)o&&(i|=1<<r),++r===8&&(e[t++]=i,i=r=0);(t===0||r>0)&&(e[t++]=i);let s=new Uint8Array(e.length+7&~7);return s.set(e),s}yc.packBools=kxe;var nP=class{constructor(e,t,r,i,s){this.bytes=e,this.length=r,this.context=i,this.get=s,this.bit=t%8,this.byteIndex=t>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}};yc.BitIterator=nP;function JX(n,e,t){if(t-e<=0)return 0;if(t-e<8){let s=0;for(let o of new nP(n,e,t-e,n,Lxe))s+=o;return s}let r=t>>3<<3,i=e+(e%8===0?0:8-e%8);return JX(n,e,i)+JX(n,r,t)+Ixe(n,i>>3,r-i>>3)}yc.popcnt_bit_range=JX;function Ixe(n,e,t){let r=0,i=Math.trunc(e),s=new DataView(n.buffer,n.byteOffset,n.byteLength),o=t===void 0?n.byteLength:i+t;for(;o-i>=4;)r+=rP(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=rP(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=rP(s.getUint8(i)),i+=1;return r}yc.popcnt_array=Ixe;function rP(n){let e=Math.trunc(n);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}yc.popcnt_uint32=rP});var C2=Ae(Fg=>{"use strict";m();Object.defineProperty(Fg,"__esModule",{value:!0});Fg.makeData=Fg.Data=Fg.kUnknownNullCount=void 0;var mQe=yd(),f5=kl(),Tg=su(),Mxe=V_();Fg.kUnknownNullCount=-1;var Eu=class{constructor(e,t,r,i,s,o=[],a){this.type=e,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(t||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let l;s instanceof Eu?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=(0,Tg.strideForType)(e),s&&((l=s[0])&&(this.valueOffsets=l),(l=s[1])&&(this.values=l),(l=s[2])&&(this.nullBitmap=l),(l=s[3])&&(this.typeIds=l))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let e=0,{valueOffsets:t,values:r,nullBitmap:i,typeIds:s}=this;return t&&(e+=t.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,e)}get nullCount(){let e=this._nullCount,t;return e<=Fg.kUnknownNullCount&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-(0,Mxe.popcnt_bit_range)(t,this.offset,this.offset+this.length)),e}getValid(e){if(this.nullable&&this.nullCount>0){let t=this.offset+e;return(this.nullBitmap[t>>3]&1<<t%8)!==0}return!0}setValid(e,t){if(!this.nullable)return t;if(!this.nullBitmap||this.nullBitmap.byteLength<=e>>3){let{nullBitmap:l}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:l,_nullCount:0})}let{nullBitmap:r,offset:i}=this,s=i+e>>3,o=(i+e)%8,a=r[s]>>o&1;return t?a===0&&(r[s]|=1<<o,this._nullCount=this.nullCount+1):a===1&&(r[s]&=~(1<<o),this._nullCount=this.nullCount-1),t}clone(e=this.type,t=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new Eu(e,t,r,i,s,o,this.dictionary)}slice(e,t){let{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,l=this._sliceBuffers(e,t,r,i);return this.clone(this.type,this.offset+e,t,o,l,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*e,a*t))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===f5.Type.Null)return this.clone(this.type,0,e,0);let{length:t,nullCount:r}=this,i=new Uint8Array((e+63&~63)>>3).fill(255,0,t>>3);i[t>>3]=(1<<t-(t&~7))-1,r>0&&i.set((0,Mxe.truncateBitmap)(this.offset,t,this.nullBitmap),0);let s=this.buffers;return s[f5.BufferType.VALIDITY]=i,this.clone(this.type,0,e,r+(e-t),s)}_sliceBuffers(e,t,r,i){let s,{buffers:o}=this;return(s=o[f5.BufferType.TYPE])&&(o[f5.BufferType.TYPE]=s.subarray(e,e+t)),(s=o[f5.BufferType.OFFSET])&&(o[f5.BufferType.OFFSET]=s.subarray(e,e+t+1))||(s=o[f5.BufferType.DATA])&&(o[f5.BufferType.DATA]=i===6?s:s.subarray(r*e,r*(e+t))),o}_sliceChildren(e,t,r){return e.map(i=>i.slice(t,r))}};Fg.Data=Eu;Eu.prototype.children=Object.freeze([]);var xQe=gd(),Yo=Qf(),o8=class extends xQe.Visitor{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){let{["type"]:t,["offset"]:r=0,["length"]:i=0}=e;return new Eu(t,r,i,0)}visitBool(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.nullBitmap),s=(0,Yo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length>>3,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Eu(t,r,o,a,[void 0,s,i])}visitInt(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.nullBitmap),s=(0,Yo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Eu(t,r,o,a,[void 0,s,i])}visitFloat(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.nullBitmap),s=(0,Yo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Eu(t,r,o,a,[void 0,s,i])}visitUtf8(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.data),s=(0,Yo.toUint8Array)(e.nullBitmap),o=(0,Yo.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new Eu(t,r,a,l,[o,i,s])}visitBinary(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.data),s=(0,Yo.toUint8Array)(e.nullBitmap),o=(0,Yo.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new Eu(t,r,a,l,[o,i,s])}visitFixedSizeBinary(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.nullBitmap),s=(0,Yo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,Tg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Eu(t,r,o,a,[void 0,s,i])}visitDate(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.nullBitmap),s=(0,Yo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,Tg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Eu(t,r,o,a,[void 0,s,i])}visitTimestamp(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.nullBitmap),s=(0,Yo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,Tg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Eu(t,r,o,a,[void 0,s,i])}visitTime(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.nullBitmap),s=(0,Yo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,Tg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Eu(t,r,o,a,[void 0,s,i])}visitDecimal(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.nullBitmap),s=(0,Yo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,Tg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Eu(t,r,o,a,[void 0,s,i])}visitList(e){let{["type"]:t,["offset"]:r=0,["child"]:i}=e,s=(0,Yo.toUint8Array)(e.nullBitmap),o=(0,Yo.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new Eu(t,r,a,l,[o,void 0,s],[i])}visitStruct(e){let{["type"]:t,["offset"]:r=0,["children"]:i=[]}=e,s=(0,Yo.toUint8Array)(e.nullBitmap),{length:o=i.reduce((l,{length:f})=>Math.max(l,f),0),nullCount:a=e.nullBitmap?-1:0}=e;return new Eu(t,r,o,a,[void 0,void 0,s],i)}visitUnion(e){let{["type"]:t,["offset"]:r=0,["children"]:i=[]}=e,s=(0,Yo.toUint8Array)(e.nullBitmap),o=(0,Yo.toArrayBufferView)(t.ArrayType,e.typeIds),{["length"]:a=o.length,["nullCount"]:l=e.nullBitmap?-1:0}=e;if(Tg.DataType.isSparseUnion(t))return new Eu(t,r,a,l,[void 0,void 0,s,o],i);let f=(0,Yo.toInt32Array)(e.valueOffsets);return new Eu(t,r,a,l,[f,void 0,s,o],i)}visitDictionary(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.nullBitmap),s=(0,Yo.toArrayBufferView)(t.indices.ArrayType,e.data),{["dictionary"]:o=new mQe.Vector([new o8().visit({type:t.dictionary})])}=e,{["length"]:a=s.length,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new Eu(t,r,a,l,[void 0,s,i],[],o)}visitInterval(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Yo.toUint8Array)(e.nullBitmap),s=(0,Yo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,Tg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Eu(t,r,o,a,[void 0,s,i])}visitFixedSizeList(e){let{["type"]:t,["offset"]:r=0,["child"]:i=new o8().visit({type:t.valueType})}=e,s=(0,Yo.toUint8Array)(e.nullBitmap),{["length"]:o=i.length/(0,Tg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Eu(t,r,o,a,[void 0,void 0,s],[i])}visitMap(e){let{["type"]:t,["offset"]:r=0,["child"]:i=new o8().visit({type:t.childType})}=e,s=(0,Yo.toUint8Array)(e.nullBitmap),o=(0,Yo.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new Eu(t,r,a,l,[o,void 0,s],[i])}};function gQe(n){return new o8().visit(n)}Fg.makeData=gQe});var sP=Ae(vc=>{"use strict";m();Object.defineProperty(vc,"__esModule",{value:!0});vc.wrapChunkedIndexOf=vc.wrapChunkedCall2=vc.wrapChunkedCall1=vc.isChunkedValid=vc.binarySearch=vc.sliceChunks=vc.computeChunkOffsets=vc.computeChunkNullCounts=vc.ChunkedIterator=void 0;var Pxe=class{constructor(e=0,t){this.numChunks=e,this.getChunkIterator=t,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){let e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}};vc.ChunkedIterator=Pxe;function yQe(n){return n.reduce((e,t)=>e+t.nullCount,0)}vc.computeChunkNullCounts=yQe;function vQe(n){return n.reduce((e,t,r)=>(e[r+1]=e[r]+t.length,e),new Uint32Array(n.length+1))}vc.computeChunkOffsets=vQe;function _Qe(n,e,t,r){let i=[];for(let s=-1,o=n.length;++s<o;){let a=n[s],l=e[s],{length:f}=a;if(l>=r)break;if(t>=l+f)continue;if(l>=t&&l+f<=r){i.push(a);continue}let p=Math.max(0,t-l),_=Math.min(r-l,f);i.push(a.slice(p,_-p))}return i.length===0&&i.push(n[0].slice(0,0)),i}vc.sliceChunks=_Qe;function iP(n,e,t,r){let i=0,s=0,o=e.length-1;do{if(i>=o-1)return t<e[o]?r(n,i,t-e[i]):null;s=i+Math.trunc((o-i)*.5),t<e[s]?o=s:i=s}while(i<o)}vc.binarySearch=iP;function bQe(n,e){return n.getValid(e)}vc.isChunkedValid=bQe;function EQe(n){function e(t,r,i){return n(t[r],i)}return function(t){let r=this.data;return iP(r,this._offsets,t,e)}}vc.wrapChunkedCall1=EQe;function SQe(n){let e;function t(r,i,s){return n(r[i],s,e)}return function(r,i){let s=this.data;e=i;let o=iP(s,this._offsets,r,t);return e=void 0,o}}vc.wrapChunkedCall2=SQe;function wQe(n){let e;function t(r,i,s){let o=s,a=0,l=0;for(let f=i-1,p=r.length;++f<p;){let _=r[f];if(~(a=n(_,e,o)))return l+a;o=0,l+=_.length}return-1}return function(r,i){e=r;let s=this.data,o=typeof i!="number"?t(s,0,0):iP(s,this._offsets,i,t);return e=void 0,o}}vc.wrapChunkedIndexOf=wQe});var oP=Ae(a8=>{"use strict";m();Object.defineProperty(a8,"__esModule",{value:!0});a8.instance=a8.IndexOfVisitor=void 0;var CQe=gd(),Bxe=H_(),jxe=V_(),qxe=rF(),Hs=class extends CQe.Visitor{};a8.IndexOfVisitor=Hs;function AQe(n,e){return e===null&&n.length>0?0:-1}function TQe(n,e){let{nullBitmap:t}=n;if(!t||n.nullCount<=0)return-1;let r=0;for(let i of new jxe.BitIterator(t,n.offset+(e||0),n.length,t,jxe.getBool)){if(!i)return r;++r}return-1}function Fo(n,e,t){if(e===void 0)return-1;if(e===null)return TQe(n,t);let r=Bxe.instance.getVisitFn(n),i=(0,qxe.createElementComparator)(e);for(let s=(t||0)-1,o=n.length;++s<o;)if(i(r(n,s)))return s;return-1}function Uxe(n,e,t){let r=Bxe.instance.getVisitFn(n),i=(0,qxe.createElementComparator)(e);for(let s=(t||0)-1,o=n.length;++s<o;)if(i(r(n,s)))return s;return-1}Hs.prototype.visitNull=AQe;Hs.prototype.visitBool=Fo;Hs.prototype.visitInt=Fo;Hs.prototype.visitInt8=Fo;Hs.prototype.visitInt16=Fo;Hs.prototype.visitInt32=Fo;Hs.prototype.visitInt64=Fo;Hs.prototype.visitUint8=Fo;Hs.prototype.visitUint16=Fo;Hs.prototype.visitUint32=Fo;Hs.prototype.visitUint64=Fo;Hs.prototype.visitFloat=Fo;Hs.prototype.visitFloat16=Fo;Hs.prototype.visitFloat32=Fo;Hs.prototype.visitFloat64=Fo;Hs.prototype.visitUtf8=Fo;Hs.prototype.visitBinary=Fo;Hs.prototype.visitFixedSizeBinary=Fo;Hs.prototype.visitDate=Fo;Hs.prototype.visitDateDay=Fo;Hs.prototype.visitDateMillisecond=Fo;Hs.prototype.visitTimestamp=Fo;Hs.prototype.visitTimestampSecond=Fo;Hs.prototype.visitTimestampMillisecond=Fo;Hs.prototype.visitTimestampMicrosecond=Fo;Hs.prototype.visitTimestampNanosecond=Fo;Hs.prototype.visitTime=Fo;Hs.prototype.visitTimeSecond=Fo;Hs.prototype.visitTimeMillisecond=Fo;Hs.prototype.visitTimeMicrosecond=Fo;Hs.prototype.visitTimeNanosecond=Fo;Hs.prototype.visitDecimal=Fo;Hs.prototype.visitList=Fo;Hs.prototype.visitStruct=Fo;Hs.prototype.visitUnion=Fo;Hs.prototype.visitDenseUnion=Uxe;Hs.prototype.visitSparseUnion=Uxe;Hs.prototype.visitDictionary=Fo;Hs.prototype.visitInterval=Fo;Hs.prototype.visitIntervalDayTime=Fo;Hs.prototype.visitIntervalYearMonth=Fo;Hs.prototype.visitFixedSizeList=Fo;Hs.prototype.visitMap=Fo;a8.instance=new Hs});var aP=Ae(u8=>{"use strict";m();Object.defineProperty(u8,"__esModule",{value:!0});u8.instance=u8.IteratorVisitor=void 0;var FQe=gd(),$xe=kl(),XX=su(),zxe=sP(),Vs=class extends FQe.Visitor{};u8.IteratorVisitor=Vs;function lo(n){let{type:e}=n;if(n.nullCount===0&&n.stride===1&&(e.typeId===$xe.Type.Timestamp||e instanceof XX.Int&&e.bitWidth!==64||e instanceof XX.Time&&e.bitWidth!==64||e instanceof XX.Float&&e.precision!==$xe.Precision.HALF))return new zxe.ChunkedIterator(n.data.length,r=>{let i=n.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let t=0;return new zxe.ChunkedIterator(n.data.length,r=>{let s=n.data[r].length,o=n.slice(t,t+s);return t+=s,new Hxe(o)})}var Hxe=class{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}};Vs.prototype.visitNull=lo;Vs.prototype.visitBool=lo;Vs.prototype.visitInt=lo;Vs.prototype.visitInt8=lo;Vs.prototype.visitInt16=lo;Vs.prototype.visitInt32=lo;Vs.prototype.visitInt64=lo;Vs.prototype.visitUint8=lo;Vs.prototype.visitUint16=lo;Vs.prototype.visitUint32=lo;Vs.prototype.visitUint64=lo;Vs.prototype.visitFloat=lo;Vs.prototype.visitFloat16=lo;Vs.prototype.visitFloat32=lo;Vs.prototype.visitFloat64=lo;Vs.prototype.visitUtf8=lo;Vs.prototype.visitBinary=lo;Vs.prototype.visitFixedSizeBinary=lo;Vs.prototype.visitDate=lo;Vs.prototype.visitDateDay=lo;Vs.prototype.visitDateMillisecond=lo;Vs.prototype.visitTimestamp=lo;Vs.prototype.visitTimestampSecond=lo;Vs.prototype.visitTimestampMillisecond=lo;Vs.prototype.visitTimestampMicrosecond=lo;Vs.prototype.visitTimestampNanosecond=lo;Vs.prototype.visitTime=lo;Vs.prototype.visitTimeSecond=lo;Vs.prototype.visitTimeMillisecond=lo;Vs.prototype.visitTimeMicrosecond=lo;Vs.prototype.visitTimeNanosecond=lo;Vs.prototype.visitDecimal=lo;Vs.prototype.visitList=lo;Vs.prototype.visitStruct=lo;Vs.prototype.visitUnion=lo;Vs.prototype.visitDenseUnion=lo;Vs.prototype.visitSparseUnion=lo;Vs.prototype.visitDictionary=lo;Vs.prototype.visitInterval=lo;Vs.prototype.visitIntervalDayTime=lo;Vs.prototype.visitIntervalYearMonth=lo;Vs.prototype.visitFixedSizeList=lo;Vs.prototype.visitMap=lo;u8.instance=new Vs});var uP=Ae(Vp=>{"use strict";m();Object.defineProperty(Vp,"__esModule",{value:!0});Vp.instance=Vp.GetByteLengthVisitor=void 0;var DQe=gd(),Vxe=kl(),OQe=(n,e)=>n+e,A2=class extends DQe.Visitor{visitNull(e,t){return 0}visitInt(e,t){return e.type.bitWidth/8}visitFloat(e,t){return e.type.ArrayType.BYTES_PER_ELEMENT}visitBool(e,t){return 1/8}visitDecimal(e,t){return e.type.bitWidth/8}visitDate(e,t){return(e.type.unit+1)*4}visitTime(e,t){return e.type.bitWidth/8}visitTimestamp(e,t){return e.type.unit===Vxe.TimeUnit.SECOND?4:8}visitInterval(e,t){return(e.type.unit+1)*4}visitStruct(e,t){return e.children.reduce((r,i)=>r+Vp.instance.visit(i,t),0)}visitFixedSizeBinary(e,t){return e.type.byteWidth}visitMap(e,t){return 8+e.children.reduce((r,i)=>r+Vp.instance.visit(i,t),0)}visitDictionary(e,t){var r;return e.type.indices.bitWidth/8+(((r=e.dictionary)===null||r===void 0?void 0:r.getByteLength(e.values[t]))||0)}};Vp.GetByteLengthVisitor=A2;var RQe=({valueOffsets:n},e)=>8+(n[e+1]-n[e]),NQe=({valueOffsets:n},e)=>8+(n[e+1]-n[e]),LQe=({valueOffsets:n,stride:e,children:t},r)=>{let i=t[0],{[r*e]:s}=n,{[r*e+1]:o}=n,a=Vp.instance.getVisitFn(i.type),l=i.slice(s,o-s),f=8;for(let p=-1,_=o-s;++p<_;)f+=a(l,p);return f},kQe=({stride:n,children:e},t)=>{let r=e[0],i=r.slice(t*n,n),s=Vp.instance.getVisitFn(r.type),o=0;for(let a=-1,l=i.length;++a<l;)o+=s(i,a);return o},IQe=(n,e)=>n.type.mode===Vxe.UnionMode.Dense?Wxe(n,e):Qxe(n,e),Wxe=({type:n,children:e,typeIds:t,valueOffsets:r},i)=>{let s=n.typeIdToChildIndex[t[i]];return 8+Vp.instance.visit(e[s],r[i])},Qxe=({children:n},e)=>4+Vp.instance.visitMany(n,n.map(()=>e)).reduce(OQe,0);A2.prototype.visitUtf8=RQe;A2.prototype.visitBinary=NQe;A2.prototype.visitList=LQe;A2.prototype.visitFixedSizeList=kQe;A2.prototype.visitUnion=IQe;A2.prototype.visitDenseUnion=Wxe;A2.prototype.visitSparseUnion=Qxe;Vp.instance=new A2});var yd=Ae(c8=>{"use strict";m();var Gxe;Object.defineProperty(c8,"__esModule",{value:!0});c8.makeVector=c8.Vector=void 0;var MQe=hs(),Dg=kl(),PQe=rF(),l8=su(),uh=C2(),T2=sP(),Yxe=H_(),Kxe=zp(),Jxe=oP(),BQe=aP(),Xxe=uP(),Zxe={},ege={},Ra=class{constructor(e){var t,r,i;let s=e[0]instanceof Ra?e.flatMap(a=>a.data):e;if(s.length===0||s.some(a=>!(a instanceof uh.Data)))throw new TypeError("Vector constructor expects an Array of Data instances.");let o=(t=s[0])===null||t===void 0?void 0:t.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{let{get:a,set:l,indexOf:f,byteLength:p}=Zxe[o.typeId],_=s[0];this.isValid=E=>(0,T2.isChunkedValid)(_,E),this.get=E=>a(_,E),this.set=(E,O)=>l(_,E,O),this.indexOf=E=>f(_,E),this.getByteLength=E=>p(_,E),this._offsets=[0,_.length];break}default:Object.setPrototypeOf(this,ege[o.typeId]),this._offsets=(0,T2.computeChunkOffsets)(s);break}this.data=s,this.type=o,this.stride=(0,l8.strideForType)(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((e,t)=>e+t.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=(0,T2.computeChunkNullCounts)(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${Dg.Type[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return-1}includes(e,t){return this.indexOf(e,t)>0}getByteLength(e){return 0}[Symbol.iterator](){return BQe.instance.visit(this)}concat(...e){return new Ra(this.data.concat(e.flatMap(t=>t.data).flat(Number.POSITIVE_INFINITY)))}slice(e,t){return new Ra((0,PQe.clampRange)(this,e,t,({data:r,_offsets:i},s,o)=>(0,T2.sliceChunks)(r,i,s,o)))}toJSON(){return[...this]}toArray(){let{type:e,data:t,length:r,stride:i,ArrayType:s}=this;switch(e.typeId){case Dg.Type.Int:case Dg.Type.Float:case Dg.Type.Decimal:case Dg.Type.Time:case Dg.Type.Timestamp:switch(t.length){case 0:return new s;case 1:return t[0].values.subarray(0,r*i);default:return t.reduce((o,{values:a})=>(o.array.set(a,o.offset),o.offset+=a.length,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var t;return this.getChildAt((t=this.type.children)===null||t===void 0?void 0:t.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new Ra(this.data.map(({children:t})=>t[e])):null}get isMemoized(){return l8.DataType.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(l8.DataType.isDictionary(this.type)){let e=new iF(this.data[0].dictionary),t=this.data.map(r=>{let i=r.clone();return i.dictionary=e,i});return new Ra(t)}return new iF(this)}unmemoize(){if(l8.DataType.isDictionary(this.type)&&this.isMemoized){let e=this.data[0].dictionary.unmemoize(),t=this.data.map(r=>{let i=r.clone();return i.dictionary=e,i});return new Ra(t)}return this}};c8.Vector=Ra;Gxe=Symbol.toStringTag;Ra[Gxe]=(n=>{n.type=l8.DataType.prototype,n.data=[],n.length=0,n.stride=1,n.numChildren=0,n._nullCount=-1,n._byteLength=-1,n._offsets=new Uint32Array([0]),n[Symbol.isConcatSpreadable]=!0;let e=Object.keys(Dg.Type).map(t=>Dg.Type[t]).filter(t=>typeof t=="number"&&t!==Dg.Type.NONE);for(let t of e){let r=Yxe.instance.getVisitFnByTypeId(t),i=Kxe.instance.getVisitFnByTypeId(t),s=Jxe.instance.getVisitFnByTypeId(t),o=Xxe.instance.getVisitFnByTypeId(t);Zxe[t]={get:r,set:i,indexOf:s,byteLength:o},ege[t]=Object.create(n,{isValid:{value:(0,T2.wrapChunkedCall1)(T2.isChunkedValid)},get:{value:(0,T2.wrapChunkedCall1)(Yxe.instance.getVisitFnByTypeId(t))},set:{value:(0,T2.wrapChunkedCall2)(Kxe.instance.getVisitFnByTypeId(t))},indexOf:{value:(0,T2.wrapChunkedIndexOf)(Jxe.instance.getVisitFnByTypeId(t))},getByteLength:{value:(0,T2.wrapChunkedCall1)(Xxe.instance.getVisitFnByTypeId(t))}})}return"Vector"})(Ra.prototype);var iF=class extends Ra{constructor(e){super(e.data);let t=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){let a=s[o];if(a!==void 0)return a;let l=t.call(this,o);return s[o]=l,l}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new iF(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Ra(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}},F2=MQe.__importStar(su());function tge(n){if(n){if(n instanceof uh.Data)return new Ra([n]);if(n instanceof Ra)return new Ra(n.data);if(n.type instanceof l8.DataType)return new Ra([(0,uh.makeData)(n)]);if(Array.isArray(n))return new Ra(n.flatMap(e=>jQe(e)));if(ArrayBuffer.isView(n)){n instanceof DataView&&(n=new Uint8Array(n.buffer));let e={offset:0,length:n.length,nullCount:0,data:n};if(n instanceof Int8Array)return new Ra([(0,uh.makeData)(Object.assign(Object.assign({},e),{type:new F2.Int8}))]);if(n instanceof Int16Array)return new Ra([(0,uh.makeData)(Object.assign(Object.assign({},e),{type:new F2.Int16}))]);if(n instanceof Int32Array)return new Ra([(0,uh.makeData)(Object.assign(Object.assign({},e),{type:new F2.Int32}))]);if(n instanceof BigInt64Array)return new Ra([(0,uh.makeData)(Object.assign(Object.assign({},e),{type:new F2.Int64}))]);if(n instanceof Uint8Array||n instanceof Uint8ClampedArray)return new Ra([(0,uh.makeData)(Object.assign(Object.assign({},e),{type:new F2.Uint8}))]);if(n instanceof Uint16Array)return new Ra([(0,uh.makeData)(Object.assign(Object.assign({},e),{type:new F2.Uint16}))]);if(n instanceof Uint32Array)return new Ra([(0,uh.makeData)(Object.assign(Object.assign({},e),{type:new F2.Uint32}))]);if(n instanceof BigUint64Array)return new Ra([(0,uh.makeData)(Object.assign(Object.assign({},e),{type:new F2.Uint64}))]);if(n instanceof Float32Array)return new Ra([(0,uh.makeData)(Object.assign(Object.assign({},e),{type:new F2.Float32}))]);if(n instanceof Float64Array)return new Ra([(0,uh.makeData)(Object.assign(Object.assign({},e),{type:new F2.Float64}))]);throw new Error("Unrecognized input")}}throw new Error("Unrecognized input")}c8.makeVector=tge;function jQe(n){return n instanceof uh.Data?[n]:n instanceof Ra?n.data:tge(n).data}});var nge=Ae(lP=>{"use strict";m();Object.defineProperty(lP,"__esModule",{value:!0});lP.createIsValidFunction=void 0;var ZX=BM(),qQe=S2();function UQe(n){if(!n||n.length<=0)return function(i){return!0};let e="",t=n.filter(r=>r===r);return t.length>0&&(e=`
    switch (x) {${t.map(r=>`
        case ${$Qe(r)}:`).join("")}
            return false;
    }`),n.length!==t.length&&(e=`if (x !== x) return false;
${e}`),new Function("x",`${e}
return true;`)}lP.createIsValidFunction=UQe;function $Qe(n){return typeof n!="bigint"?(0,ZX.valueToString)(n):qQe.BigIntAvailable?`${(0,ZX.valueToString)(n)}n`:`"${(0,ZX.valueToString)(n)}"`}});var W_=Ae(D2=>{"use strict";m();Object.defineProperty(D2,"__esModule",{value:!0});D2.OffsetsBufferBuilder=D2.BitmapBufferBuilder=D2.DataBufferBuilder=D2.BufferBuilder=void 0;var rge=Qf(),eZ=(n,e)=>(n*e+63&~63||64)/e,zQe=(n,e=0)=>n.length>=e?n.subarray(0,e):(0,rge.memcpy)(new n.constructor(e),n,0),cP=class{constructor(e,t=1){this.buffer=e,this.stride=t,this.BYTES_PER_ELEMENT=e.BYTES_PER_ELEMENT,this.ArrayType=e.constructor,this._resize(this.length=Math.trunc(e.length/t))}get byteLength(){return Math.trunc(this.length*this.stride*this.BYTES_PER_ELEMENT)}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(e,t){return this}append(e){return this.set(this.length,e)}reserve(e){if(e>0){this.length+=e;let t=this.stride,r=this.length*t,i=this.buffer.length;r>=i&&this._resize(i===0?eZ(r*1,this.BYTES_PER_ELEMENT):eZ(r*2,this.BYTES_PER_ELEMENT))}return this}flush(e=this.length){e=eZ(e*this.stride,this.BYTES_PER_ELEMENT);let t=zQe(this.buffer,e);return this.clear(),t}clear(){return this.length=0,this._resize(0),this}_resize(e){return this.buffer=(0,rge.memcpy)(new this.ArrayType(e),this.buffer)}};D2.BufferBuilder=cP;cP.prototype.offset=0;var fP=class extends cP{last(){return this.get(this.length-1)}get(e){return this.buffer[e]}set(e,t){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=t,this}};D2.DataBufferBuilder=fP;var ige=class extends fP{constructor(e=new Uint8Array(0)){super(e,1/8);this.numValid=0}get numInvalid(){return this.length-this.numValid}get(e){return this.buffer[e>>3]>>e%8&1}set(e,t){let{buffer:r}=this.reserve(e-this.length+1),i=e>>3,s=e%8,o=r[i]>>s&1;return t?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}};D2.BitmapBufferBuilder=ige;var sge=class extends fP{constructor(e=new Int32Array(1)){super(e,1)}append(e){return this.set(this.length-1,e)}set(e,t){let r=this.length-1,i=this.reserve(e-r+1).buffer;return r<e++&&i.fill(i[r],r,e),i[e]=i[e-1]+t,this}flush(e=this.length-1){return e>this.length&&this.set(e-1,0),super.flush(e+1)}};D2.OffsetsBufferBuilder=sge});var Kl=Ae(d5=>{"use strict";m();Object.defineProperty(d5,"__esModule",{value:!0});d5.VariableWidthBuilder=d5.FixedWidthBuilder=d5.Builder=void 0;var HQe=yd(),VQe=C2(),oge=tF(),WQe=su(),QQe=nge(),tZ=W_(),O2=class{constructor({type:e,nullValues:t}){this.length=0,this.finished=!1,this.type=e,this.children=[],this.nullValues=t,this.stride=(0,WQe.strideForType)(e),this._nulls=new tZ.BitmapBufferBuilder,t&&t.length>0&&(this._isValid=(0,QQe.createIsValidFunction)(t))}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e){throw new Error('"throughDOM" not available in this environment')}toVector(){return new HQe.Vector([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let e=0,{_offsets:t,_values:r,_nulls:i,_typeIds:s,children:o}=this;return t&&(e+=t.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),o.reduce((a,l)=>a+l.byteLength,e)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce((t,r)=>t+r.reservedByteLength,e)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(e){return this.set(this.length,e)}isValid(e){return this._isValid(e)}set(e,t){return this.setValid(e,this.isValid(t))&&this.setValue(e,t),this}setValue(e,t){this._setValue(this,e,t)}setValid(e,t){return this.length=this._nulls.set(e,+t).length,t}addChild(e,t=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(e){return this.children[e]||null}flush(){let e,t,r,i,{type:s,length:o,nullCount:a,_typeIds:l,_offsets:f,_values:p,_nulls:_}=this;(t=l==null?void 0:l.flush(o))?i=f==null?void 0:f.flush(o):(i=f==null?void 0:f.flush(o))?e=p==null?void 0:p.flush(f.last()):e=p==null?void 0:p.flush(o),a>0&&(r=_==null?void 0:_.flush(o));let E=this.children.map(O=>O.flush());return this.clear(),(0,VQe.makeData)({type:s,length:o,nullCount:a,children:E,child:E[0],data:e,typeIds:t,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(let e of this.children)e.finish();return this}clear(){var e,t,r,i;this.length=0,(e=this._nulls)===null||e===void 0||e.clear(),(t=this._values)===null||t===void 0||t.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(let s of this.children)s.clear();return this}};d5.Builder=O2;O2.prototype.length=1;O2.prototype.stride=1;O2.prototype.children=null;O2.prototype.finished=!1;O2.prototype.nullValues=null;O2.prototype._isValid=()=>!0;var age=class extends O2{constructor(e){super(e);this._values=new tZ.DataBufferBuilder(new this.ArrayType(0),this.stride)}setValue(e,t){let r=this._values;return r.reserve(e-r.length+1),super.setValue(e,t)}};d5.FixedWidthBuilder=age;var uge=class extends O2{constructor(e){super(e);this._pendingLength=0,this._offsets=new tZ.OffsetsBufferBuilder}setValue(e,t){let r=this._pending||(this._pending=new Map),i=r.get(e);i&&(this._pendingLength-=i.length),this._pendingLength+=t instanceof oge.MapRow?t[oge.kKeys].length:t.length,r.set(e,t)}setValid(e,t){return super.setValid(e,t)?!0:((this._pending||(this._pending=new Map)).set(e,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let e=this._pending,t=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,t),this}};d5.VariableWidthBuilder=uge});var nZ=Ae(dP=>{"use strict";m();Object.defineProperty(dP,"__esModule",{value:!0});dP.Block=void 0;var lge=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,t,r,i){return e.prep(8,24),e.writeInt64(i),e.pad(4),e.writeInt32(r),e.writeInt64(t),e.offset()}};dP.Block=lge});var Q_=Ae(R2=>{"use strict";m();Object.defineProperty(R2,"__esModule",{value:!0});R2.SIZE_PREFIX_LENGTH=R2.FILE_IDENTIFIER_LENGTH=R2.SIZEOF_INT=R2.SIZEOF_SHORT=void 0;R2.SIZEOF_SHORT=2;R2.SIZEOF_INT=4;R2.FILE_IDENTIFIER_LENGTH=4;R2.SIZE_PREFIX_LENGTH=4});var rZ=Ae(Wp=>{"use strict";m();Object.defineProperty(Wp,"__esModule",{value:!0});Wp.isLittleEndian=Wp.float64=Wp.float32=Wp.int32=void 0;Wp.int32=new Int32Array(2);Wp.float32=new Float32Array(Wp.int32.buffer);Wp.float64=new Float64Array(Wp.int32.buffer);Wp.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1});var hP=Ae(f8=>{"use strict";m();Object.defineProperty(f8,"__esModule",{value:!0});f8.Long=f8.createLong=void 0;function GQe(n,e){return cge.create(n,e)}f8.createLong=GQe;var cge=function(){function n(e,t){this.low=e|0,this.high=t|0}return n.create=function(e,t){return e==0&&t==0?n.ZERO:new n(e,t)},n.prototype.toFloat64=function(){return(this.low>>>0)+this.high*4294967296},n.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},n.ZERO=new n(0,0),n}();f8.Long=cge});var iZ=Ae(sF=>{"use strict";m();Object.defineProperty(sF,"__esModule",{value:!0});sF.Encoding=void 0;var YQe;(function(n){n[n.UTF8_BYTES=1]="UTF8_BYTES",n[n.UTF16_STRING=2]="UTF16_STRING"})(YQe=sF.Encoding||(sF.Encoding={}))});var oZ=Ae(pP=>{"use strict";m();Object.defineProperty(pP,"__esModule",{value:!0});pP.ByteBuffer=void 0;var N2=Q_(),sZ=hP(),lh=rZ(),KQe=iZ(),JQe=function(){function n(e){this.bytes_=e,this.position_=0}return n.allocate=function(e){return new n(new Uint8Array(e))},n.prototype.clear=function(){this.position_=0},n.prototype.bytes=function(){return this.bytes_},n.prototype.position=function(){return this.position_},n.prototype.setPosition=function(e){this.position_=e},n.prototype.capacity=function(){return this.bytes_.length},n.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},n.prototype.readUint8=function(e){return this.bytes_[e]},n.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},n.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},n.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},n.prototype.readUint32=function(e){return this.readInt32(e)>>>0},n.prototype.readInt64=function(e){return new sZ.Long(this.readInt32(e),this.readInt32(e+4))},n.prototype.readUint64=function(e){return new sZ.Long(this.readUint32(e),this.readUint32(e+4))},n.prototype.readFloat32=function(e){return lh.int32[0]=this.readInt32(e),lh.float32[0]},n.prototype.readFloat64=function(e){return lh.int32[lh.isLittleEndian?0:1]=this.readInt32(e),lh.int32[lh.isLittleEndian?1:0]=this.readInt32(e+4),lh.float64[0]},n.prototype.writeInt8=function(e,t){this.bytes_[e]=t},n.prototype.writeUint8=function(e,t){this.bytes_[e]=t},n.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},n.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},n.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},n.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},n.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},n.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},n.prototype.writeFloat32=function(e,t){lh.float32[0]=t,this.writeInt32(e,lh.int32[0])},n.prototype.writeFloat64=function(e,t){lh.float64[0]=t,this.writeInt32(e,lh.int32[lh.isLittleEndian?0:1]),this.writeInt32(e+4,lh.int32[lh.isLittleEndian?1:0])},n.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+N2.SIZEOF_INT+N2.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<N2.FILE_IDENTIFIER_LENGTH;t++)e+=String.fromCharCode(this.readInt8(this.position_+N2.SIZEOF_INT+t));return e},n.prototype.__offset=function(e,t){var r=e-this.readInt32(e);return t<this.readInt16(r)?this.readInt16(r+t):0},n.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},n.prototype.__string=function(e,t){e+=this.readInt32(e);var r=this.readInt32(e),i="",s=0;if(e+=N2.SIZEOF_INT,t===KQe.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+r);for(;s<r;){var o=void 0,a=this.readUint8(e+s++);if(a<192)o=a;else{var l=this.readUint8(e+s++);if(a<224)o=(a&31)<<6|l&63;else{var f=this.readUint8(e+s++);if(a<240)o=(a&15)<<12|(l&63)<<6|f&63;else{var p=this.readUint8(e+s++);o=(a&7)<<18|(l&63)<<12|(f&63)<<6|p&63}}}o<65536?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode((o>>10)+55296,(o&(1<<10)-1)+56320))}return i},n.prototype.__union_with_string=function(e,t){return typeof e=="string"?this.__string(t):this.__union(e,t)},n.prototype.__indirect=function(e){return e+this.readInt32(e)},n.prototype.__vector=function(e){return e+this.readInt32(e)+N2.SIZEOF_INT},n.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},n.prototype.__has_identifier=function(e){if(e.length!=N2.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+N2.FILE_IDENTIFIER_LENGTH);for(var t=0;t<N2.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position()+N2.SIZEOF_INT+t))return!1;return!0},n.prototype.createLong=function(e,t){return sZ.Long.create(e,t)},n.prototype.createScalarList=function(e,t){for(var r=[],i=0;i<t;++i)e(i)!==null&&r.push(e(i));return r},n.prototype.createObjList=function(e,t){for(var r=[],i=0;i<t;++i){var s=e(i);s!==null&&r.push(s.unpack())}return r},n}();pP.ByteBuffer=JQe});var dge=Ae(mP=>{"use strict";m();Object.defineProperty(mP,"__esModule",{value:!0});mP.Builder=void 0;var fge=oZ(),Wh=Q_(),XQe=hP(),ZQe=function(){function n(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;var t;e?t=e:t=1024,this.bb=fge.ByteBuffer.allocate(t),this.space=t}return n.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null},n.prototype.forceDefaults=function(e){this.force_defaults=e},n.prototype.dataBuffer=function(){return this.bb},n.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},n.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var r=~(this.bb.capacity()-this.space+t)+1&e-1;this.space<r+e+t;){var i=this.bb.capacity();this.bb=n.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)},n.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},n.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},n.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},n.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},n.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},n.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},n.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},n.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},n.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},n.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},n.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},n.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},n.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},n.prototype.addFieldInt8=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt8(t),this.slot(e))},n.prototype.addFieldInt16=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt16(t),this.slot(e))},n.prototype.addFieldInt32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt32(t),this.slot(e))},n.prototype.addFieldInt64=function(e,t,r){(this.force_defaults||!t.equals(r))&&(this.addInt64(t),this.slot(e))},n.prototype.addFieldFloat32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat32(t),this.slot(e))},n.prototype.addFieldFloat64=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat64(t),this.slot(e))},n.prototype.addFieldOffset=function(e,t,r){(this.force_defaults||t!=r)&&(this.addOffset(t),this.slot(e))},n.prototype.addFieldStruct=function(e,t,r){t!=r&&(this.nested(t),this.slot(e))},n.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},n.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},n.prototype.slot=function(e){this.vtable!==null&&(this.vtable[e]=this.offset())},n.prototype.offset=function(){return this.bb.capacity()-this.space},n.growByteBuffer=function(e){var t=e.capacity();if(t&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var r=t<<1,i=fge.ByteBuffer.allocate(r);return i.setPosition(r-t),i.bytes().set(e.bytes(),r-t),i},n.prototype.addOffset=function(e){this.prep(Wh.SIZEOF_INT,0),this.writeInt32(this.offset()-e+Wh.SIZEOF_INT)},n.prototype.startObject=function(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},n.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&this.vtable[t]==0;t--);for(var r=t+1;t>=0;t--)this.addInt16(this.vtable[t]!=0?e-this.vtable[t]:0);var i=2;this.addInt16(e-this.object_start);var s=(r+i)*Wh.SIZEOF_SHORT;this.addInt16(s);var o=0,a=this.space;e:for(t=0;t<this.vtables.length;t++){var l=this.bb.capacity()-this.vtables[t];if(s==this.bb.readInt16(l)){for(var f=Wh.SIZEOF_SHORT;f<s;f+=Wh.SIZEOF_SHORT)if(this.bb.readInt16(a+f)!=this.bb.readInt16(l+f))continue e;o=this.vtables[t];break}}return o?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,o-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},n.prototype.finish=function(e,t,r){var i=r?Wh.SIZE_PREFIX_LENGTH:0;if(t){var s=t;if(this.prep(this.minalign,Wh.SIZEOF_INT+Wh.FILE_IDENTIFIER_LENGTH+i),s.length!=Wh.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+Wh.FILE_IDENTIFIER_LENGTH);for(var o=Wh.FILE_IDENTIFIER_LENGTH-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,Wh.SIZEOF_INT+i),this.addOffset(e),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},n.prototype.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},n.prototype.requiredField=function(e,t){var r=this.bb.capacity()-e,i=r-this.bb.readInt32(r),s=this.bb.readInt16(i+t)!=0;if(!s)throw new Error("FlatBuffers: field "+t+" must be set")},n.prototype.startVector=function(e,t,r){this.notNested(),this.vector_num_elems=t,this.prep(Wh.SIZEOF_INT,e*t),this.prep(r,e*t)},n.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},n.prototype.createSharedString=function(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);var t=this.createString(e);return this.string_maps.set(e,t),t},n.prototype.createString=function(e){if(!e)return 0;var t;if(e instanceof Uint8Array)t=e;else{t=[];for(var r=0;r<e.length;){var i=void 0,s=e.charCodeAt(r++);if(s<55296||s>=56320)i=s;else{var o=e.charCodeAt(r++);i=(s<<10)+o+(65536-(55296<<10)-56320)}i<128?t.push(i):(i<2048?t.push(i>>6&31|192):(i<65536?t.push(i>>12&15|224):t.push(i>>18&7|240,i>>12&63|128),t.push(i>>6&63|128)),t.push(i&63|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);for(var r=0,a=this.space,l=this.bb.bytes();r<t.length;r++)l[a++]=t[r];return this.endVector()},n.prototype.createLong=function(e,t){return XQe.Long.create(e,t)},n.prototype.createObjectOffset=function(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)},n.prototype.createObjectOffsetList=function(e){for(var t=[],r=0;r<e.length;++r){var i=e[r];if(i!==null)t.push(this.createObjectOffset(i));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return t},n.prototype.createStructOffsetList=function(e,t){return t(this,e.length),this.createObjectOffsetList(e),this.endVector()},n}();mP.Builder=ZQe});var Co=Ae(qa=>{"use strict";m();Object.defineProperty(qa,"__esModule",{value:!0});qa.ByteBuffer=qa.Builder=qa.Encoding=qa.createLong=qa.Long=qa.isLittleEndian=qa.float64=qa.float32=qa.int32=qa.SIZE_PREFIX_LENGTH=qa.FILE_IDENTIFIER_LENGTH=qa.SIZEOF_INT=qa.SIZEOF_SHORT=void 0;var eGe=Q_();Object.defineProperty(qa,"SIZEOF_SHORT",{enumerable:!0,get:function(){return eGe.SIZEOF_SHORT}});var tGe=Q_();Object.defineProperty(qa,"SIZEOF_INT",{enumerable:!0,get:function(){return tGe.SIZEOF_INT}});var nGe=Q_();Object.defineProperty(qa,"FILE_IDENTIFIER_LENGTH",{enumerable:!0,get:function(){return nGe.FILE_IDENTIFIER_LENGTH}});var rGe=Q_();Object.defineProperty(qa,"SIZE_PREFIX_LENGTH",{enumerable:!0,get:function(){return rGe.SIZE_PREFIX_LENGTH}});var xP=rZ();Object.defineProperty(qa,"int32",{enumerable:!0,get:function(){return xP.int32}});Object.defineProperty(qa,"float32",{enumerable:!0,get:function(){return xP.float32}});Object.defineProperty(qa,"float64",{enumerable:!0,get:function(){return xP.float64}});Object.defineProperty(qa,"isLittleEndian",{enumerable:!0,get:function(){return xP.isLittleEndian}});var hge=hP();Object.defineProperty(qa,"Long",{enumerable:!0,get:function(){return hge.Long}});Object.defineProperty(qa,"createLong",{enumerable:!0,get:function(){return hge.createLong}});var iGe=iZ();Object.defineProperty(qa,"Encoding",{enumerable:!0,get:function(){return iGe.Encoding}});var sGe=dge();Object.defineProperty(qa,"Builder",{enumerable:!0,get:function(){return sGe.Builder}});var oGe=oZ();Object.defineProperty(qa,"ByteBuffer",{enumerable:!0,get:function(){return oGe.ByteBuffer}})});var d8=Ae(gP=>{"use strict";m();Object.defineProperty(gP,"__esModule",{value:!0});gP.KeyValue=void 0;var aGe=hs(),uGe=aGe.__importStar(Co()),Og=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKeyValue(e,t){return(t||new Og).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,t){return e.setPosition(e.position()+uGe.SIZE_PREFIX_LENGTH),(t||new Og).__init(e.readInt32(e.position())+e.position(),e)}key(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}value(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,t){e.addFieldOffset(0,t,0)}static addValue(e,t){e.addFieldOffset(1,t,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,t,r){return Og.startKeyValue(e),Og.addKey(e,t),Og.addValue(e,r),Og.endKeyValue(e)}};gP.KeyValue=Og});var aZ=Ae(oF=>{"use strict";m();Object.defineProperty(oF,"__esModule",{value:!0});oF.MetadataVersion=void 0;var lGe;(function(n){n[n.V1=0]="V1",n[n.V2=1]="V2",n[n.V3=2]="V3",n[n.V4=3]="V4",n[n.V5=4]="V5"})(lGe=oF.MetadataVersion||(oF.MetadataVersion={}))});var uZ=Ae(aF=>{"use strict";m();Object.defineProperty(aF,"__esModule",{value:!0});aF.Endianness=void 0;var cGe;(function(n){n[n.Little=0]="Little",n[n.Big=1]="Big"})(cGe=aF.Endianness||(aF.Endianness={}))});var pge=Ae(uF=>{"use strict";m();Object.defineProperty(uF,"__esModule",{value:!0});uF.DictionaryKind=void 0;var fGe;(function(n){n[n.DenseArray=0]="DenseArray"})(fGe=uF.DictionaryKind||(uF.DictionaryKind={}))});var h5=Ae(yP=>{"use strict";m();Object.defineProperty(yP,"__esModule",{value:!0});yP.Int=void 0;var dGe=hs(),hGe=dGe.__importStar(Co()),Rg=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInt(e,t){return(t||new Rg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,t){return e.setPosition(e.position()+hGe.SIZE_PREFIX_LENGTH),(t||new Rg).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){let e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,t){e.addFieldInt32(0,t,0)}static addIsSigned(e,t){e.addFieldInt8(1,+t,0)}static endInt(e){return e.endObject()}static createInt(e,t,r){return Rg.startInt(e),Rg.addBitWidth(e,t),Rg.addIsSigned(e,r),Rg.endInt(e)}};yP.Int=Rg});var lZ=Ae(vP=>{"use strict";m();Object.defineProperty(vP,"__esModule",{value:!0});vP.DictionaryEncoding=void 0;var pGe=hs(),mGe=pGe.__importStar(Co()),mge=pge(),xGe=h5(),lF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryEncoding(e,t){return(t||new lF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,t){return e.setPosition(e.position()+mGe.SIZE_PREFIX_LENGTH),(t||new lF).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}indexType(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new xGe.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isOrdered(){let e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):mge.DictionaryKind.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addIndexType(e,t){e.addFieldOffset(1,t,0)}static addIsOrdered(e,t){e.addFieldInt8(2,+t,0)}static addDictionaryKind(e,t){e.addFieldInt16(3,t,mge.DictionaryKind.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}};vP.DictionaryEncoding=lF});var cZ=Ae(_P=>{"use strict";m();Object.defineProperty(_P,"__esModule",{value:!0});_P.Binary=void 0;var gGe=hs(),yGe=gGe.__importStar(Co()),G_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBinary(e,t){return(t||new G_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,t){return e.setPosition(e.position()+yGe.SIZE_PREFIX_LENGTH),(t||new G_).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return G_.startBinary(e),G_.endBinary(e)}};_P.Binary=G_});var fZ=Ae(bP=>{"use strict";m();Object.defineProperty(bP,"__esModule",{value:!0});bP.Bool=void 0;var vGe=hs(),_Ge=vGe.__importStar(Co()),Y_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBool(e,t){return(t||new Y_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,t){return e.setPosition(e.position()+_Ge.SIZE_PREFIX_LENGTH),(t||new Y_).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return Y_.startBool(e),Y_.endBool(e)}};bP.Bool=Y_});var xge=Ae(cF=>{"use strict";m();Object.defineProperty(cF,"__esModule",{value:!0});cF.DateUnit=void 0;var bGe;(function(n){n[n.DAY=0]="DAY",n[n.MILLISECOND=1]="MILLISECOND"})(bGe=cF.DateUnit||(cF.DateUnit={}))});var SP=Ae(EP=>{"use strict";m();Object.defineProperty(EP,"__esModule",{value:!0});EP.Date=void 0;var EGe=hs(),SGe=EGe.__importStar(Co()),gge=xge(),p5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDate(e,t){return(t||new p5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,t){return e.setPosition(e.position()+SGe.SIZE_PREFIX_LENGTH),(t||new p5).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):gge.DateUnit.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,gge.DateUnit.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,t){return p5.startDate(e),p5.addUnit(e,t),p5.endDate(e)}};EP.Date=p5});var CP=Ae(wP=>{"use strict";m();Object.defineProperty(wP,"__esModule",{value:!0});wP.Decimal=void 0;var wGe=hs(),CGe=wGe.__importStar(Co()),L2=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDecimal(e,t){return(t||new L2).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,t){return e.setPosition(e.position()+CGe.SIZE_PREFIX_LENGTH),(t||new L2).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,t){e.addFieldInt32(0,t,0)}static addScale(e,t){e.addFieldInt32(1,t,0)}static addBitWidth(e,t){e.addFieldInt32(2,t,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,t,r,i){return L2.startDecimal(e),L2.addPrecision(e,t),L2.addScale(e,r),L2.addBitWidth(e,i),L2.endDecimal(e)}};wP.Decimal=L2});var AP=Ae(fF=>{"use strict";m();Object.defineProperty(fF,"__esModule",{value:!0});fF.TimeUnit=void 0;var AGe;(function(n){n[n.SECOND=0]="SECOND",n[n.MILLISECOND=1]="MILLISECOND",n[n.MICROSECOND=2]="MICROSECOND",n[n.NANOSECOND=3]="NANOSECOND"})(AGe=fF.TimeUnit||(fF.TimeUnit={}))});var vge=Ae(TP=>{"use strict";m();Object.defineProperty(TP,"__esModule",{value:!0});TP.Duration=void 0;var TGe=hs(),FGe=TGe.__importStar(Co()),yge=AP(),m5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDuration(e,t){return(t||new m5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,t){return e.setPosition(e.position()+FGe.SIZE_PREFIX_LENGTH),(t||new m5).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):yge.TimeUnit.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,yge.TimeUnit.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,t){return m5.startDuration(e),m5.addUnit(e,t),m5.endDuration(e)}};TP.Duration=m5});var DP=Ae(FP=>{"use strict";m();Object.defineProperty(FP,"__esModule",{value:!0});FP.FixedSizeBinary=void 0;var DGe=hs(),OGe=DGe.__importStar(Co()),x5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeBinary(e,t){return(t||new x5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,t){return e.setPosition(e.position()+OGe.SIZE_PREFIX_LENGTH),(t||new x5).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,t){return x5.startFixedSizeBinary(e),x5.addByteWidth(e,t),x5.endFixedSizeBinary(e)}};FP.FixedSizeBinary=x5});var RP=Ae(OP=>{"use strict";m();Object.defineProperty(OP,"__esModule",{value:!0});OP.FixedSizeList=void 0;var RGe=hs(),NGe=RGe.__importStar(Co()),g5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeList(e,t){return(t||new g5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,t){return e.setPosition(e.position()+NGe.SIZE_PREFIX_LENGTH),(t||new g5).__init(e.readInt32(e.position())+e.position(),e)}listSize(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,t){return g5.startFixedSizeList(e),g5.addListSize(e,t),g5.endFixedSizeList(e)}};OP.FixedSizeList=g5});var _ge=Ae(dF=>{"use strict";m();Object.defineProperty(dF,"__esModule",{value:!0});dF.Precision=void 0;var LGe;(function(n){n[n.HALF=0]="HALF",n[n.SINGLE=1]="SINGLE",n[n.DOUBLE=2]="DOUBLE"})(LGe=dF.Precision||(dF.Precision={}))});var LP=Ae(NP=>{"use strict";m();Object.defineProperty(NP,"__esModule",{value:!0});NP.FloatingPoint=void 0;var kGe=hs(),IGe=kGe.__importStar(Co()),bge=_ge(),y5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFloatingPoint(e,t){return(t||new y5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,t){return e.setPosition(e.position()+IGe.SIZE_PREFIX_LENGTH),(t||new y5).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):bge.Precision.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,t){e.addFieldInt16(0,t,bge.Precision.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,t){return y5.startFloatingPoint(e),y5.addPrecision(e,t),y5.endFloatingPoint(e)}};NP.FloatingPoint=y5});var Ege=Ae(hF=>{"use strict";m();Object.defineProperty(hF,"__esModule",{value:!0});hF.IntervalUnit=void 0;var MGe;(function(n){n[n.YEAR_MONTH=0]="YEAR_MONTH",n[n.DAY_TIME=1]="DAY_TIME",n[n.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(MGe=hF.IntervalUnit||(hF.IntervalUnit={}))});var IP=Ae(kP=>{"use strict";m();Object.defineProperty(kP,"__esModule",{value:!0});kP.Interval=void 0;var PGe=hs(),BGe=PGe.__importStar(Co()),Sge=Ege(),v5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInterval(e,t){return(t||new v5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,t){return e.setPosition(e.position()+BGe.SIZE_PREFIX_LENGTH),(t||new v5).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Sge.IntervalUnit.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,Sge.IntervalUnit.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,t){return v5.startInterval(e),v5.addUnit(e,t),v5.endInterval(e)}};kP.Interval=v5});var wge=Ae(MP=>{"use strict";m();Object.defineProperty(MP,"__esModule",{value:!0});MP.LargeBinary=void 0;var jGe=hs(),qGe=jGe.__importStar(Co()),K_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeBinary(e,t){return(t||new K_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,t){return e.setPosition(e.position()+qGe.SIZE_PREFIX_LENGTH),(t||new K_).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return K_.startLargeBinary(e),K_.endLargeBinary(e)}};MP.LargeBinary=K_});var Cge=Ae(PP=>{"use strict";m();Object.defineProperty(PP,"__esModule",{value:!0});PP.LargeList=void 0;var UGe=hs(),$Ge=UGe.__importStar(Co()),J_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeList(e,t){return(t||new J_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeList(e,t){return e.setPosition(e.position()+$Ge.SIZE_PREFIX_LENGTH),(t||new J_).__init(e.readInt32(e.position())+e.position(),e)}static startLargeList(e){e.startObject(0)}static endLargeList(e){return e.endObject()}static createLargeList(e){return J_.startLargeList(e),J_.endLargeList(e)}};PP.LargeList=J_});var Age=Ae(BP=>{"use strict";m();Object.defineProperty(BP,"__esModule",{value:!0});BP.LargeUtf8=void 0;var zGe=hs(),HGe=zGe.__importStar(Co()),X_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeUtf8(e,t){return(t||new X_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,t){return e.setPosition(e.position()+HGe.SIZE_PREFIX_LENGTH),(t||new X_).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return X_.startLargeUtf8(e),X_.endLargeUtf8(e)}};BP.LargeUtf8=X_});var dZ=Ae(jP=>{"use strict";m();Object.defineProperty(jP,"__esModule",{value:!0});jP.List=void 0;var VGe=hs(),WGe=VGe.__importStar(Co()),Z_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsList(e,t){return(t||new Z_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,t){return e.setPosition(e.position()+WGe.SIZE_PREFIX_LENGTH),(t||new Z_).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return Z_.startList(e),Z_.endList(e)}};jP.List=Z_});var UP=Ae(qP=>{"use strict";m();Object.defineProperty(qP,"__esModule",{value:!0});qP.Map=void 0;var QGe=hs(),GGe=QGe.__importStar(Co()),_5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMap(e,t){return(t||new _5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,t){return e.setPosition(e.position()+GGe.SIZE_PREFIX_LENGTH),(t||new _5).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){let e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,t){e.addFieldInt8(0,+t,0)}static endMap(e){return e.endObject()}static createMap(e,t){return _5.startMap(e),_5.addKeysSorted(e,t),_5.endMap(e)}};qP.Map=_5});var hZ=Ae($P=>{"use strict";m();Object.defineProperty($P,"__esModule",{value:!0});$P.Null=void 0;var YGe=hs(),KGe=YGe.__importStar(Co()),e6=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNull(e,t){return(t||new e6).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,t){return e.setPosition(e.position()+KGe.SIZE_PREFIX_LENGTH),(t||new e6).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return e6.startNull(e),e6.endNull(e)}};$P.Null=e6});var pZ=Ae(zP=>{"use strict";m();Object.defineProperty(zP,"__esModule",{value:!0});zP.Struct_=void 0;var JGe=hs(),XGe=JGe.__importStar(Co()),t6=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsStruct_(e,t){return(t||new t6).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,t){return e.setPosition(e.position()+XGe.SIZE_PREFIX_LENGTH),(t||new t6).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return t6.startStruct_(e),t6.endStruct_(e)}};zP.Struct_=t6});var VP=Ae(HP=>{"use strict";m();Object.defineProperty(HP,"__esModule",{value:!0});HP.Time=void 0;var ZGe=hs(),eYe=ZGe.__importStar(Co()),Tge=AP(),Ng=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTime(e,t){return(t||new Ng).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,t){return e.setPosition(e.position()+eYe.SIZE_PREFIX_LENGTH),(t||new Ng).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Tge.TimeUnit.MILLISECOND}bitWidth(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,Tge.TimeUnit.MILLISECOND)}static addBitWidth(e,t){e.addFieldInt32(1,t,32)}static endTime(e){return e.endObject()}static createTime(e,t,r){return Ng.startTime(e),Ng.addUnit(e,t),Ng.addBitWidth(e,r),Ng.endTime(e)}};HP.Time=Ng});var QP=Ae(WP=>{"use strict";m();Object.defineProperty(WP,"__esModule",{value:!0});WP.Timestamp=void 0;var tYe=hs(),nYe=tYe.__importStar(Co()),Fge=AP(),Lg=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTimestamp(e,t){return(t||new Lg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,t){return e.setPosition(e.position()+nYe.SIZE_PREFIX_LENGTH),(t||new Lg).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Fge.TimeUnit.SECOND}timezone(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,Fge.TimeUnit.SECOND)}static addTimezone(e,t){e.addFieldOffset(1,t,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,t,r){return Lg.startTimestamp(e),Lg.addUnit(e,t),Lg.addTimezone(e,r),Lg.endTimestamp(e)}};WP.Timestamp=Lg});var Dge=Ae(pF=>{"use strict";m();Object.defineProperty(pF,"__esModule",{value:!0});pF.UnionMode=void 0;var rYe;(function(n){n[n.Sparse=0]="Sparse",n[n.Dense=1]="Dense"})(rYe=pF.UnionMode||(pF.UnionMode={}))});var YP=Ae(GP=>{"use strict";m();Object.defineProperty(GP,"__esModule",{value:!0});GP.Union=void 0;var iYe=hs(),sYe=iYe.__importStar(Co()),Oge=Dge(),kg=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUnion(e,t){return(t||new kg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,t){return e.setPosition(e.position()+sYe.SIZE_PREFIX_LENGTH),(t||new kg).__init(e.readInt32(e.position())+e.position(),e)}mode(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Oge.UnionMode.Sparse}typeIds(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+e*4):0}typeIdsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){let e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,t){e.addFieldInt16(0,t,Oge.UnionMode.Sparse)}static addTypeIds(e,t){e.addFieldOffset(1,t,0)}static createTypeIdsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addInt32(t[r]);return e.endVector()}static startTypeIdsVector(e,t){e.startVector(4,t,4)}static endUnion(e){return e.endObject()}static createUnion(e,t,r){return kg.startUnion(e),kg.addMode(e,t),kg.addTypeIds(e,r),kg.endUnion(e)}};GP.Union=kg});var mZ=Ae(KP=>{"use strict";m();Object.defineProperty(KP,"__esModule",{value:!0});KP.Utf8=void 0;var oYe=hs(),aYe=oYe.__importStar(Co()),n6=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUtf8(e,t){return(t||new n6).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,t){return e.setPosition(e.position()+aYe.SIZE_PREFIX_LENGTH),(t||new n6).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return n6.startUtf8(e),n6.endUtf8(e)}};KP.Utf8=n6});var h8=Ae(Ig=>{"use strict";m();Object.defineProperty(Ig,"__esModule",{value:!0});Ig.unionListToType=Ig.unionToType=Ig.Type=void 0;var Rge=cZ(),Nge=fZ(),Lge=SP(),kge=CP(),Ige=vge(),Mge=DP(),Pge=RP(),Bge=LP(),jge=h5(),qge=IP(),Uge=wge(),$ge=Cge(),zge=Age(),Hge=dZ(),Vge=UP(),Wge=hZ(),Qge=pZ(),Gge=VP(),Yge=QP(),Kge=YP(),Jge=mZ(),xZ;(function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.FloatingPoint=3]="FloatingPoint",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct_=13]="Struct_",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Duration=18]="Duration",n[n.LargeBinary=19]="LargeBinary",n[n.LargeUtf8=20]="LargeUtf8",n[n.LargeList=21]="LargeList"})(xZ=Ig.Type||(Ig.Type={}));function uYe(n,e){switch(xZ[n]){case"NONE":return null;case"Null":return e(new Wge.Null);case"Int":return e(new jge.Int);case"FloatingPoint":return e(new Bge.FloatingPoint);case"Binary":return e(new Rge.Binary);case"Utf8":return e(new Jge.Utf8);case"Bool":return e(new Nge.Bool);case"Decimal":return e(new kge.Decimal);case"Date":return e(new Lge.Date);case"Time":return e(new Gge.Time);case"Timestamp":return e(new Yge.Timestamp);case"Interval":return e(new qge.Interval);case"List":return e(new Hge.List);case"Struct_":return e(new Qge.Struct_);case"Union":return e(new Kge.Union);case"FixedSizeBinary":return e(new Mge.FixedSizeBinary);case"FixedSizeList":return e(new Pge.FixedSizeList);case"Map":return e(new Vge.Map);case"Duration":return e(new Ige.Duration);case"LargeBinary":return e(new Uge.LargeBinary);case"LargeUtf8":return e(new zge.LargeUtf8);case"LargeList":return e(new $ge.LargeList);default:return null}}Ig.unionToType=uYe;function lYe(n,e,t){switch(xZ[n]){case"NONE":return null;case"Null":return e(t,new Wge.Null);case"Int":return e(t,new jge.Int);case"FloatingPoint":return e(t,new Bge.FloatingPoint);case"Binary":return e(t,new Rge.Binary);case"Utf8":return e(t,new Jge.Utf8);case"Bool":return e(t,new Nge.Bool);case"Decimal":return e(t,new kge.Decimal);case"Date":return e(t,new Lge.Date);case"Time":return e(t,new Gge.Time);case"Timestamp":return e(t,new Yge.Timestamp);case"Interval":return e(t,new qge.Interval);case"List":return e(t,new Hge.List);case"Struct_":return e(t,new Qge.Struct_);case"Union":return e(t,new Kge.Union);case"FixedSizeBinary":return e(t,new Mge.FixedSizeBinary);case"FixedSizeList":return e(t,new Pge.FixedSizeList);case"Map":return e(t,new Vge.Map);case"Duration":return e(t,new Ige.Duration);case"LargeBinary":return e(t,new Uge.LargeBinary);case"LargeUtf8":return e(t,new zge.LargeUtf8);case"LargeList":return e(t,new $ge.LargeList);default:return null}}Ig.unionListToType=lYe});var gZ=Ae(JP=>{"use strict";m();Object.defineProperty(JP,"__esModule",{value:!0});JP.Field=void 0;var cYe=hs(),fYe=cYe.__importStar(Co()),dYe=lZ(),hYe=d8(),Xge=h8(),p8=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsField(e,t){return(t||new p8).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,t){return e.setPosition(e.position()+fYe.SIZE_PREFIX_LENGTH),(t||new p8).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}nullable(){let e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):Xge.Type.NONE}type(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__union(e,this.bb_pos+t):null}dictionary(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new dYe.DictionaryEncoding).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}children(e,t){let r=this.bb.__offset(this.bb_pos,14);return r?(t||new p8).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}childrenLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,16);return r?(t||new hYe.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,t){e.addFieldOffset(0,t,0)}static addNullable(e,t){e.addFieldInt8(1,+t,0)}static addTypeType(e,t){e.addFieldInt8(2,t,Xge.Type.NONE)}static addType(e,t){e.addFieldOffset(3,t,0)}static addDictionary(e,t){e.addFieldOffset(4,t,0)}static addChildren(e,t){e.addFieldOffset(5,t,0)}static createChildrenVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startChildrenVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(6,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endField(e){return e.endObject()}};JP.Field=p8});var ZP=Ae(XP=>{"use strict";m();Object.defineProperty(XP,"__esModule",{value:!0});XP.Schema=void 0;var pYe=hs(),mYe=pYe.__importStar(Co()),Zge=uZ(),xYe=gZ(),gYe=d8(),xm=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSchema(e,t){return(t||new xm).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,t){return e.setPosition(e.position()+mYe.SIZE_PREFIX_LENGTH),(t||new xm).__init(e.readInt32(e.position())+e.position(),e)}endianness(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Zge.Endianness.Little}fields(e,t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new xYe.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}fieldsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new gYe.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}featuresLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,t){e.addFieldInt16(0,t,Zge.Endianness.Little)}static addFields(e,t){e.addFieldOffset(1,t,0)}static createFieldsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startFieldsVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(2,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static addFeatures(e,t){e.addFieldOffset(3,t,0)}static createFeaturesVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addInt64(t[r]);return e.endVector()}static startFeaturesVector(e,t){e.startVector(8,t,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,t){e.finish(t)}static finishSizePrefixedSchemaBuffer(e,t){e.finish(t,void 0,!0)}static createSchema(e,t,r,i,s){return xm.startSchema(e),xm.addEndianness(e,t),xm.addFields(e,r),xm.addCustomMetadata(e,i),xm.addFeatures(e,s),xm.endSchema(e)}};XP.Schema=xm});var nye=Ae(eB=>{"use strict";m();Object.defineProperty(eB,"__esModule",{value:!0});eB.Footer=void 0;var yYe=hs(),vYe=yYe.__importStar(Co()),eye=nZ(),_Ye=d8(),tye=aZ(),bYe=ZP(),mF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFooter(e,t){return(t||new mF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,t){return e.setPosition(e.position()+vYe.SIZE_PREFIX_LENGTH),(t||new mF).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):tye.MetadataVersion.V1}schema(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new bYe.Schema).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}dictionaries(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new eye.Block).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}dictionariesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,t){let r=this.bb.__offset(this.bb_pos,10);return r?(t||new eye.Block).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}recordBatchesLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,12);return r?(t||new _Ye.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,tye.MetadataVersion.V1)}static addSchema(e,t){e.addFieldOffset(1,t,0)}static addDictionaries(e,t){e.addFieldOffset(2,t,0)}static startDictionariesVector(e,t){e.startVector(24,t,8)}static addRecordBatches(e,t){e.addFieldOffset(3,t,0)}static startRecordBatchesVector(e,t){e.startVector(24,t,8)}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,t){e.finish(t)}static finishSizePrefixedFooterBuffer(e,t){e.finish(t,void 0,!0)}};eB.Footer=mF});var ch=Ae(m8=>{"use strict";m();Object.defineProperty(m8,"__esModule",{value:!0});m8.Field=m8.Schema=void 0;var EYe=su(),Qp=class{constructor(e=[],t,r){this.fields=e||[],this.metadata=t||new Map,r||(r=yZ(e)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,t)=>`${t}: ${e}`).join(", ")} }>`}select(e){let t=new Set(e),r=this.fields.filter(i=>t.has(i.name));return new Qp(r,this.metadata)}selectAt(e){let t=e.map(r=>this.fields[r]).filter(Boolean);return new Qp(t,this.metadata)}assign(...e){let t=e[0]instanceof Qp?e[0]:Array.isArray(e[0])?new Qp(e[0]):new Qp(e),r=[...this.fields],i=tB(tB(new Map,this.metadata),t.metadata),s=t.fields.filter(a=>{let l=r.findIndex(f=>f.name===a.name);return~l?(r[l]=a.clone({metadata:tB(tB(new Map,r[l].metadata),a.metadata)}))&&!1:!0}),o=yZ(s,new Map);return new Qp([...r,...s],i,new Map([...this.dictionaries,...o]))}};m8.Schema=Qp;Qp.prototype.fields=null;Qp.prototype.metadata=null;Qp.prototype.dictionaries=null;var Mg=class{constructor(e,t,r=!1,i){this.name=e,this.type=t,this.nullable=r,this.metadata=i||new Map}static new(...e){let[t,r,i,s]=e;return e[0]&&typeof e[0]=="object"&&({name:t}=e[0],r===void 0&&(r=e[0].type),i===void 0&&(i=e[0].nullable),s===void 0&&(s=e[0].metadata)),new Mg(`${t}`,r,i,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[t,r,i,s]=e;return!e[0]||typeof e[0]!="object"?[t=this.name,r=this.type,i=this.nullable,s=this.metadata]=e:{name:t=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=e[0],Mg.new(t,r,i,s)}};m8.Field=Mg;Mg.prototype.type=null;Mg.prototype.name=null;Mg.prototype.nullable=null;Mg.prototype.metadata=null;function tB(n,e){return new Map([...n||new Map,...e||new Map])}function yZ(n,e=new Map){for(let t=-1,r=n.length;++t<r;){let s=n[t].type;if(EYe.DataType.isDictionary(s)){if(!e.has(s.id))e.set(s.id,s.dictionary);else if(e.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&yZ(s.children,e)}return e}});var bZ=Ae(x8=>{"use strict";m();Object.defineProperty(x8,"__esModule",{value:!0});x8.FileBlock=x8.Footer=void 0;var SYe=hs(),wYe=nZ(),k2=nye(),vZ=SYe.__importStar(Co()),rye=vZ.Long,CYe=vZ.Builder,AYe=vZ.ByteBuffer,iye=ch(),sye=kl(),TYe=Qf(),_Z=class{constructor(e,t=sye.MetadataVersion.V4,r,i){this.schema=e,this.version=t,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}static decode(e){e=new AYe((0,TYe.toUint8Array)(e));let t=k2.Footer.getRootAsFooter(e),r=iye.Schema.decode(t.schema());return new oye(r,t)}static encode(e){let t=new CYe,r=iye.Schema.encode(t,e.schema);k2.Footer.startRecordBatchesVector(t,e.numRecordBatches);for(let o of[...e.recordBatches()].slice().reverse())b5.encode(t,o);let i=t.endVector();k2.Footer.startDictionariesVector(t,e.numDictionaries);for(let o of[...e.dictionaryBatches()].slice().reverse())b5.encode(t,o);let s=t.endVector();return k2.Footer.startFooter(t),k2.Footer.addSchema(t,r),k2.Footer.addVersion(t,sye.MetadataVersion.V4),k2.Footer.addRecordBatches(t,i),k2.Footer.addDictionaries(t,s),k2.Footer.finishFooterBuffer(t,k2.Footer.endFooter(t)),t.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let e,t=-1,r=this.numRecordBatches;++t<r;)(e=this.getRecordBatch(t))&&(yield e)}*dictionaryBatches(){for(let e,t=-1,r=this.numDictionaries;++t<r;)(e=this.getDictionaryBatch(t))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}};x8.Footer=_Z;var oye=class extends _Z{constructor(e,t){super(e,t.version());this._footer=t}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){let t=this._footer.recordBatches(e);if(t)return b5.decode(t)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){let t=this._footer.dictionaries(e);if(t)return b5.decode(t)}return null}},b5=class{constructor(e,t,r){this.metaDataLength=e,this.offset=typeof r=="number"?r:r.low,this.bodyLength=typeof t=="number"?t:t.low}static decode(e){return new b5(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,t){let{metaDataLength:r}=t,i=new rye(t.offset,0),s=new rye(t.bodyLength,0);return wYe.Block.createBlock(e,i,r,s)}};x8.FileBlock=b5});var xF=Ae(fh=>{"use strict";m();Object.defineProperty(fh,"__esModule",{value:!0});fh.AsyncQueue=fh.ReadableInterop=fh.ArrowJSON=fh.ITERATOR_DONE=void 0;var g8=hs(),aye=g8.__importDefault(XT());fh.ITERATOR_DONE=Object.freeze({done:!0,value:void 0});var uye=class{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}};fh.ArrowJSON=uye;var EZ=class{tee(){return this._getDOMStream().tee()}pipe(e,t){return this._getNodeStream().pipe(e,t)}pipeTo(e,t){return this._getDOMStream().pipeTo(e,t)}pipeThrough(e,t){return this._getDOMStream().pipeThrough(e,t)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}};fh.ReadableInterop=EZ;var lye=class extends EZ{constructor(){super();this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return g8.__awaiter(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){let{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(fh.ITERATOR_DONE);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return aye.default.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return aye.default.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return g8.__awaiter(this,void 0,void 0,function*(){return yield this.abort(e),fh.ITERATOR_DONE})}return(e){return g8.__awaiter(this,void 0,void 0,function*(){return yield this.close(),fh.ITERATOR_DONE})}read(e){return g8.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return g8.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((t,r)=>{this.resolvers.push({resolve:t,reject:r})}):Promise.resolve(fh.ITERATOR_DONE)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}};fh.AsyncQueue=lye});var C5=Ae(w5=>{"use strict";m();Object.defineProperty(w5,"__esModule",{value:!0});w5.AsyncByteStream=w5.ByteStream=w5.AsyncByteQueue=void 0;var Pg=hs(),E5=Pg.__importDefault(XT()),cye=$_(),gF=xF(),SZ=Qf(),y8=S2(),wZ=class extends gF.AsyncQueue{write(e){if((e=(0,SZ.toUint8Array)(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?(0,cye.decodeUtf8)(this.toUint8Array(!0)):this.toUint8Array(!1).then(cye.decodeUtf8)}toUint8Array(e=!1){return e?(0,SZ.joinUint8Arrays)(this._values)[0]:(()=>Pg.__awaiter(this,void 0,void 0,function*(){var t,r;let i=[],s=0;try{for(var o=Pg.__asyncValues(this),a;a=yield o.next(),!a.done;){let l=a.value;i.push(l),s+=l.byteLength}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=o.return)&&(yield r.call(o))}finally{if(t)throw t.error}}return(0,SZ.joinUint8Arrays)(i,s)[0]}))()}};w5.AsyncByteQueue=wZ;var fye=class{constructor(e){e&&(this.source=new dye(E5.default.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};w5.ByteStream=fye;var nB=class{constructor(e){e instanceof nB?this.source=e.source:e instanceof wZ?this.source=new S5(E5.default.fromAsyncIterable(e)):(0,y8.isReadableNodeStream)(e)?this.source=new S5(E5.default.fromNodeStream(e)):(0,y8.isReadableDOMStream)(e)?this.source=new S5(E5.default.fromDOMStream(e)):(0,y8.isFetchResponse)(e)?this.source=new S5(E5.default.fromDOMStream(e.body)):(0,y8.isIterable)(e)?this.source=new S5(E5.default.fromIterable(e)):(0,y8.isPromise)(e)?this.source=new S5(E5.default.fromAsyncIterable(e)):(0,y8.isAsyncIterable)(e)&&(this.source=new S5(E5.default.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};w5.AsyncByteStream=nB;var dye=class{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,t="read"){return this.source.next({cmd:t,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||gF.ITERATOR_DONE)}return(e){return Object.create(this.source.return&&this.source.return(e)||gF.ITERATOR_DONE)}},S5=class{constructor(e){this.source=e,this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}cancel(e){return Pg.__awaiter(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return Pg.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return Pg.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e,t="read"){return Pg.__awaiter(this,void 0,void 0,function*(){return yield this.source.next({cmd:t,size:e})})}throw(e){return Pg.__awaiter(this,void 0,void 0,function*(){let t=this.source.throw&&(yield this.source.throw(e))||gF.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}return(e){return Pg.__awaiter(this,void 0,void 0,function*(){let t=this.source.return&&(yield this.source.return(e))||gF.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}}});var CZ=Ae(v8=>{"use strict";m();Object.defineProperty(v8,"__esModule",{value:!0});v8.AsyncRandomAccessFile=v8.RandomAccessFile=void 0;var A5=hs(),hye=C5(),FYe=Qf(),pye=class extends hye.ByteStream{constructor(e,t){super();this.position=0,this.buffer=(0,FYe.toUint8Array)(e),this.size=typeof t=="undefined"?this.buffer.byteLength:t}readInt32(e){let{buffer:t,byteOffset:r}=this.readAt(e,4);return new DataView(t,r).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){let{buffer:t,size:r,position:i}=this;return t&&i<r?(typeof e!="number"&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(r,i+Math.min(r-i,e)),t.subarray(i,this.position)):null}readAt(e,t){let r=this.buffer,i=Math.min(this.size,e+t);return r?r.subarray(e,i):new Uint8Array(t)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}};v8.RandomAccessFile=pye;var mye=class extends hye.AsyncByteStream{constructor(e,t){super();this.position=0,this._handle=e,typeof t=="number"?this.size=t:this._pending=(()=>A5.__awaiter(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending}))()}readInt32(e){return A5.__awaiter(this,void 0,void 0,function*(){let{buffer:t,byteOffset:r}=yield this.readAt(e,4);return new DataView(t,r).getInt32(0,!0)})}seek(e){return A5.__awaiter(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return A5.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:t,size:r,position:i}=this;if(t&&i<r){typeof e!="number"&&(e=Number.POSITIVE_INFINITY);let s=i,o=0,a=0,l=Math.min(r,s+Math.min(r-s,e)),f=new Uint8Array(Math.max(0,(this.position=l)-s));for(;(s+=a)<l&&(o+=a)<f.byteLength;)({bytesRead:a}=yield t.read(f,o,f.byteLength-o,s));return f}return null})}readAt(e,t){return A5.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:r,size:i}=this;if(r&&e+t<i){let s=Math.min(i,e+t),o=new Uint8Array(s-e);return(yield r.read(o,0,t,e)).buffer}return new Uint8Array(t)})}close(){return A5.__awaiter(this,void 0,void 0,function*(){let e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return A5.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return A5.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}};v8.AsyncRandomAccessFile=mye});var TZ=Ae(I2=>{"use strict";m();Object.defineProperty(I2,"__esModule",{value:!0});I2.Int128=I2.Int64=I2.Uint64=I2.BaseInt64=void 0;var DYe=1<<16;function _8(n){return n<0&&(n=4294967295+n+1),`0x${n.toString(16)}`}var b8=8,AZ=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8],rB=class{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){let t=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),r=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]),i=t[3]*r[3];this.buffer[0]=i&65535;let s=i>>>16;return i=t[2]*r[3],s+=i,i=t[3]*r[2]>>>0,s+=i,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<i?DYe:0,this.buffer[1]+=s>>>16,this.buffer[1]+=t[1]*r[3]+t[2]*r[2]+t[3]*r[1],this.buffer[1]+=t[0]*r[3]+t[1]*r[2]+t[2]*r[1]+t[3]*r[0]<<16,this}_plus(e){let t=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],t<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=t}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${_8(this.buffer[1])} ${_8(this.buffer[0])}`}};I2.BaseInt64=rB;var pa=class extends rB{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,t=new Uint32Array(2)){return pa.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return pa.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let r=e.length,i=new pa(t);for(let s=0;s<r;){let o=b8<r-s?b8:r-s,a=new pa(new Uint32Array([Number.parseInt(e.slice(s,s+o),10),0])),l=new pa(new Uint32Array([AZ[o],0]));i.times(l),i.plus(a),s+=o}return i}static convertArray(e){let t=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)pa.from(e[r],new Uint32Array(t.buffer,t.byteOffset+2*r*4,2));return t}static multiply(e,t){return new pa(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new pa(new Uint32Array(e.buffer)).plus(t)}};I2.Uint64=pa;var Qh=class extends rB{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){let t=this.buffer[1]<<0,r=e.buffer[1]<<0;return t<r||t===r&&this.buffer[0]<e.buffer[0]}static from(e,t=new Uint32Array(2)){return Qh.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return Qh.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let r=e.startsWith("-"),i=e.length,s=new Qh(t);for(let o=r?1:0;o<i;){let a=b8<i-o?b8:i-o,l=new Qh(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0])),f=new Qh(new Uint32Array([AZ[a],0]));s.times(f),s.plus(l),o+=a}return r?s.negate():s}static convertArray(e){let t=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)Qh.from(e[r],new Uint32Array(t.buffer,t.byteOffset+2*r*4,2));return t}static multiply(e,t){return new Qh(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new Qh(new Uint32Array(e.buffer)).plus(t)}};I2.Int64=Qh;var gm=class{constructor(e){this.buffer=e}high(){return new Qh(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Qh(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){let t=new pa(new Uint32Array([this.buffer[3],0])),r=new pa(new Uint32Array([this.buffer[2],0])),i=new pa(new Uint32Array([this.buffer[1],0])),s=new pa(new Uint32Array([this.buffer[0],0])),o=new pa(new Uint32Array([e.buffer[3],0])),a=new pa(new Uint32Array([e.buffer[2],0])),l=new pa(new Uint32Array([e.buffer[1],0])),f=new pa(new Uint32Array([e.buffer[0],0])),p=pa.multiply(s,f);this.buffer[0]=p.low();let _=new pa(new Uint32Array([p.high(),0]));return p=pa.multiply(i,f),_.plus(p),p=pa.multiply(s,l),_.plus(p),this.buffer[1]=_.low(),this.buffer[3]=_.lessThan(p)?1:0,this.buffer[2]=_.high(),new pa(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(pa.multiply(r,f)).plus(pa.multiply(i,l)).plus(pa.multiply(s,a)),this.buffer[3]+=pa.multiply(t,f).plus(pa.multiply(r,l)).plus(pa.multiply(i,a)).plus(pa.multiply(s,o)).low(),this}plus(e){let t=new Uint32Array(4);return t[3]=this.buffer[3]+e.buffer[3]>>>0,t[2]=this.buffer[2]+e.buffer[2]>>>0,t[1]=this.buffer[1]+e.buffer[1]>>>0,t[0]=this.buffer[0]+e.buffer[0]>>>0,t[0]<this.buffer[0]>>>0&&++t[1],t[1]<this.buffer[1]>>>0&&++t[2],t[2]<this.buffer[2]>>>0&&++t[3],this.buffer[3]=t[3],this.buffer[2]=t[2],this.buffer[1]=t[1],this.buffer[0]=t[0],this}hex(){return`${_8(this.buffer[3])} ${_8(this.buffer[2])} ${_8(this.buffer[1])} ${_8(this.buffer[0])}`}static multiply(e,t){return new gm(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new gm(new Uint32Array(e.buffer)).plus(t)}static from(e,t=new Uint32Array(4)){return gm.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(4)){return gm.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(4)){let r=e.startsWith("-"),i=e.length,s=new gm(t);for(let o=r?1:0;o<i;){let a=b8<i-o?b8:i-o,l=new gm(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0,0,0])),f=new gm(new Uint32Array([AZ[a],0,0,0]));s.times(f),s.plus(l),o+=a}return r?s.negate():s}static convertArray(e){let t=new Uint32Array(e.length*4);for(let r=-1,i=e.length;++r<i;)gm.from(e[r],new Uint32Array(t.buffer,t.byteOffset+4*4*r,4));return t}};I2.Int128=gm});var vye=Ae(E8=>{"use strict";m();Object.defineProperty(E8,"__esModule",{value:!0});E8.JSONVectorLoader=E8.VectorLoader=void 0;var Vc=C2(),OYe=ch(),Bg=su(),RYe=gd(),xye=V_(),NYe=$_(),iB=TZ(),gye=kl(),M2=Qf(),FZ=class extends RYe.Visitor{constructor(e,t,r,i){super();this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=t,this.buffers=r,this.dictionaries=i}visit(e){return super.visit(e instanceof OYe.Field?e.type:e)}visitNull(e,{length:t}=this.nextFieldNode()){return(0,Vc.makeData)({type:e,length:t})}visitBool(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Vc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitInt(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Vc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFloat(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Vc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitUtf8(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Vc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Vc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Vc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDate(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Vc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTimestamp(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Vc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTime(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Vc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDecimal(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Vc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitList(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Vc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Vc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),children:this.visitMany(e.children)})}visitUnion(e){return e.mode===gye.UnionMode.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}visitDenseUnion(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Vc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Vc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Vc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Vc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFixedSizeList(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Vc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),child:this.visit(e.children[0])})}visitMap(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Vc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,t,r=this.nextBufferRange()){return t>0&&this.readData(e,r)||new Uint8Array(0)}readOffsets(e,t){return this.readData(e,t)}readTypeIds(e,t){return this.readData(e,t)}readData(e,{length:t,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+t)}readDictionary(e){return this.dictionaries.get(e.id)}};E8.VectorLoader=FZ;var yye=class extends FZ{constructor(e,t,r,i){super(new Uint8Array(0),t,r,i);this.sources=e}readNullBitmap(e,t,{offset:r}=this.nextBufferRange()){return t<=0?new Uint8Array(0):(0,xye.packBools)(this.sources[r])}readOffsets(e,{offset:t}=this.nextBufferRange()){return(0,M2.toArrayBufferView)(Uint8Array,(0,M2.toArrayBufferView)(Int32Array,this.sources[t]))}readTypeIds(e,{offset:t}=this.nextBufferRange()){return(0,M2.toArrayBufferView)(Uint8Array,(0,M2.toArrayBufferView)(e.ArrayType,this.sources[t]))}readData(e,{offset:t}=this.nextBufferRange()){let{sources:r}=this;return Bg.DataType.isTimestamp(e)||(Bg.DataType.isInt(e)||Bg.DataType.isTime(e))&&e.bitWidth===64||Bg.DataType.isDate(e)&&e.unit===gye.DateUnit.MILLISECOND?(0,M2.toArrayBufferView)(Uint8Array,iB.Int64.convertArray(r[t])):Bg.DataType.isDecimal(e)?(0,M2.toArrayBufferView)(Uint8Array,iB.Int128.convertArray(r[t])):Bg.DataType.isBinary(e)||Bg.DataType.isFixedSizeBinary(e)?LYe(r[t]):Bg.DataType.isBool(e)?(0,xye.packBools)(r[t]):Bg.DataType.isUtf8(e)?(0,NYe.encodeUtf8)(r[t].join("")):(0,M2.toArrayBufferView)(Uint8Array,(0,M2.toArrayBufferView)(e.ArrayType,r[t].map(i=>+i)))}};E8.JSONVectorLoader=yye;function LYe(n){let e=n.join(""),t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r>>1]=Number.parseInt(e.slice(r,r+2),16);return t}});var oB=Ae(sB=>{"use strict";m();Object.defineProperty(sB,"__esModule",{value:!0});sB.BinaryBuilder=void 0;var kYe=Qf(),IYe=W_(),MYe=Kl(),_ye=class extends MYe.VariableWidthBuilder{constructor(e){super(e);this._values=new IYe.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,t){return super.setValue(e,(0,kYe.toUint8Array)(t))}_flushPending(e,t){let r=this._offsets,i=this._values.reserve(t).buffer,s=0;for(let[o,a]of e)if(a===void 0)r.set(o,0);else{let l=a.length;i.set(a,s),r.set(o,l),s+=l}}};sB.BinaryBuilder=_ye});var DZ=Ae(aB=>{"use strict";m();Object.defineProperty(aB,"__esModule",{value:!0});aB.BoolBuilder=void 0;var PYe=W_(),BYe=Kl(),bye=class extends BYe.Builder{constructor(e){super(e);this._values=new PYe.BitmapBufferBuilder}setValue(e,t){this._values.set(e,+t)}};aB.BoolBuilder=bye});var LZ=Ae(T5=>{"use strict";m();Object.defineProperty(T5,"__esModule",{value:!0});T5.DateMillisecondBuilder=T5.DateDayBuilder=T5.DateBuilder=void 0;var jYe=Kl(),OZ=zp(),yF=class extends jYe.FixedWidthBuilder{};T5.DateBuilder=yF;yF.prototype._setValue=OZ.setDate;var RZ=class extends yF{};T5.DateDayBuilder=RZ;RZ.prototype._setValue=OZ.setDateDay;var NZ=class extends yF{};T5.DateMillisecondBuilder=NZ;NZ.prototype._setValue=OZ.setDateMillisecond});var IZ=Ae(uB=>{"use strict";m();Object.defineProperty(uB,"__esModule",{value:!0});uB.DecimalBuilder=void 0;var qYe=Kl(),UYe=zp(),kZ=class extends qYe.FixedWidthBuilder{};uB.DecimalBuilder=kZ;kZ.prototype._setValue=UYe.setDecimal});var MZ=Ae(lB=>{"use strict";m();Object.defineProperty(lB,"__esModule",{value:!0});lB.DictionaryBuilder=void 0;var $Ye=su(),zYe=Kl(),Eye=vF(),Sye=class extends zYe.Builder{constructor({type:e,nullValues:t,dictionaryHashFunction:r}){super({type:new $Ye.Dictionary(e.dictionary,e.indices,e.id,e.isOrdered)});this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=(0,Eye.makeBuilder)({type:this.type.indices,nullValues:t}),this.dictionary=(0,Eye.makeBuilder)({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(e){return this.indices.isValid(e)}setValid(e,t){let r=this.indices;return t=r.setValid(e,t),this.length=r.length,t}setValue(e,t){let r=this._keysToIndices,i=this.valueToKey(t),s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(t).length-1),this.indices.setValue(e,s)}flush(){let e=this.type,t=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(e);return i.dictionary=t?t.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(e){return typeof e=="string"?e:`${e}`}};lB.DictionaryBuilder=Sye});var BZ=Ae(cB=>{"use strict";m();Object.defineProperty(cB,"__esModule",{value:!0});cB.FixedSizeBinaryBuilder=void 0;var HYe=Kl(),VYe=zp(),PZ=class extends HYe.FixedWidthBuilder{};cB.FixedSizeBinaryBuilder=PZ;PZ.prototype._setValue=VYe.setFixedSizeBinary});var jZ=Ae(fB=>{"use strict";m();Object.defineProperty(fB,"__esModule",{value:!0});fB.FixedSizeListBuilder=void 0;var WYe=ch(),QYe=Kl(),GYe=su(),wye=class extends QYe.Builder{setValue(e,t){let[r]=this.children,i=e*this.stride;for(let s=-1,o=t.length;++s<o;)r.set(i+s,t[s])}addChild(e,t="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");let r=this.children.push(e);return this.type=new GYe.FixedSizeList(this.type.listSize,new WYe.Field(t,e.type,!0)),r}};fB.FixedSizeListBuilder=wye});var qZ=Ae(P2=>{"use strict";m();Object.defineProperty(P2,"__esModule",{value:!0});P2.Float64Builder=P2.Float32Builder=P2.Float16Builder=P2.FloatBuilder=void 0;var YYe=eF(),KYe=Kl(),_F=class extends KYe.FixedWidthBuilder{setValue(e,t){this._values.set(e,t)}};P2.FloatBuilder=_F;var Cye=class extends _F{setValue(e,t){super.setValue(e,(0,YYe.float64ToUint16)(t))}};P2.Float16Builder=Cye;var Aye=class extends _F{};P2.Float32Builder=Aye;var Tye=class extends _F{};P2.Float64Builder=Tye});var HZ=Ae(F5=>{"use strict";m();Object.defineProperty(F5,"__esModule",{value:!0});F5.IntervalYearMonthBuilder=F5.IntervalDayTimeBuilder=F5.IntervalBuilder=void 0;var JYe=Kl(),UZ=zp(),bF=class extends JYe.FixedWidthBuilder{};F5.IntervalBuilder=bF;bF.prototype._setValue=UZ.setIntervalValue;var $Z=class extends bF{};F5.IntervalDayTimeBuilder=$Z;$Z.prototype._setValue=UZ.setIntervalDayTime;var zZ=class extends bF{};F5.IntervalYearMonthBuilder=zZ;zZ.prototype._setValue=UZ.setIntervalYearMonth});var VZ=Ae(_c=>{"use strict";m();Object.defineProperty(_c,"__esModule",{value:!0});_c.Uint64Builder=_c.Uint32Builder=_c.Uint16Builder=_c.Uint8Builder=_c.Int64Builder=_c.Int32Builder=_c.Int16Builder=_c.Int8Builder=_c.IntBuilder=void 0;var XYe=Kl(),B2=class extends XYe.FixedWidthBuilder{setValue(e,t){this._values.set(e,t)}};_c.IntBuilder=B2;var Fye=class extends B2{};_c.Int8Builder=Fye;var Dye=class extends B2{};_c.Int16Builder=Dye;var Oye=class extends B2{};_c.Int32Builder=Oye;var Rye=class extends B2{};_c.Int64Builder=Rye;var Nye=class extends B2{};_c.Uint8Builder=Nye;var Lye=class extends B2{};_c.Uint16Builder=Lye;var kye=class extends B2{};_c.Uint32Builder=kye;var Iye=class extends B2{};_c.Uint64Builder=Iye});var WZ=Ae(dB=>{"use strict";m();Object.defineProperty(dB,"__esModule",{value:!0});dB.ListBuilder=void 0;var ZYe=ch(),eKe=su(),tKe=W_(),nKe=Kl(),Mye=class extends nKe.VariableWidthBuilder{constructor(e){super(e);this._offsets=new tKe.OffsetsBufferBuilder}addChild(e,t="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new eKe.List(new ZYe.Field(t,e.type,!0)),this.numChildren-1}_flushPending(e){let t=this._offsets,[r]=this.children;for(let[i,s]of e)if(s===void 0)t.set(i,0);else{let o=s.length,a=t.set(i,o).buffer[i];for(let l=-1;++l<o;)r.set(a+l,s[l])}}};dB.ListBuilder=Mye});var QZ=Ae(hB=>{"use strict";m();Object.defineProperty(hB,"__esModule",{value:!0});hB.MapBuilder=void 0;var rKe=ch(),iKe=su(),sKe=Kl(),Pye=class extends sKe.VariableWidthBuilder{set(e,t){return super.set(e,t)}setValue(e,t){let r=t instanceof Map?t:new Map(Object.entries(t)),i=this._pending||(this._pending=new Map),s=i.get(e);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(e,r)}addChild(e,t=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new iKe.Map_(new rKe.Field(t,e.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(e){let t=this._offsets,[r]=this.children;for(let[i,s]of e)if(s===void 0)t.set(i,0);else{let{[i]:o,[i+1]:a}=t.set(i,s.size).buffer;for(let l of s.entries())if(r.set(o,l),++o>=a)break}}};hB.MapBuilder=Pye});var GZ=Ae(pB=>{"use strict";m();Object.defineProperty(pB,"__esModule",{value:!0});pB.NullBuilder=void 0;var oKe=Kl(),Bye=class extends oKe.Builder{setValue(e,t){}setValid(e,t){return this.length=Math.max(e+1,this.length),t}};pB.NullBuilder=Bye});var YZ=Ae(mB=>{"use strict";m();Object.defineProperty(mB,"__esModule",{value:!0});mB.StructBuilder=void 0;var aKe=ch(),uKe=Kl(),lKe=su(),jye=class extends uKe.Builder{setValue(e,t){let{children:r,type:i}=this;switch(Array.isArray(t)||t.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(e,t[o]));case Map:return i.children.forEach((s,o)=>r[o].set(e,t.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(e,t[s.name]))}}setValid(e,t){return super.setValid(e,t)||this.children.forEach(r=>r.setValid(e,t)),t}addChild(e,t=`${this.numChildren}`){let r=this.children.push(e);return this.type=new lKe.Struct([...this.type.children,new aKe.Field(t,e.type,!0)]),r}};mB.StructBuilder=jye});var eee=Ae(Gp=>{"use strict";m();Object.defineProperty(Gp,"__esModule",{value:!0});Gp.TimestampNanosecondBuilder=Gp.TimestampMicrosecondBuilder=Gp.TimestampMillisecondBuilder=Gp.TimestampSecondBuilder=Gp.TimestampBuilder=void 0;var cKe=Kl(),EF=zp(),r6=class extends cKe.FixedWidthBuilder{};Gp.TimestampBuilder=r6;r6.prototype._setValue=EF.setTimestamp;var KZ=class extends r6{};Gp.TimestampSecondBuilder=KZ;KZ.prototype._setValue=EF.setTimestampSecond;var JZ=class extends r6{};Gp.TimestampMillisecondBuilder=JZ;JZ.prototype._setValue=EF.setTimestampMillisecond;var XZ=class extends r6{};Gp.TimestampMicrosecondBuilder=XZ;XZ.prototype._setValue=EF.setTimestampMicrosecond;var ZZ=class extends r6{};Gp.TimestampNanosecondBuilder=ZZ;ZZ.prototype._setValue=EF.setTimestampNanosecond});var see=Ae(Yp=>{"use strict";m();Object.defineProperty(Yp,"__esModule",{value:!0});Yp.TimeNanosecondBuilder=Yp.TimeMicrosecondBuilder=Yp.TimeMillisecondBuilder=Yp.TimeSecondBuilder=Yp.TimeBuilder=void 0;var fKe=Kl(),SF=zp(),i6=class extends fKe.FixedWidthBuilder{};Yp.TimeBuilder=i6;i6.prototype._setValue=SF.setTime;var tee=class extends i6{};Yp.TimeSecondBuilder=tee;tee.prototype._setValue=SF.setTimeSecond;var nee=class extends i6{};Yp.TimeMillisecondBuilder=nee;nee.prototype._setValue=SF.setTimeMillisecond;var ree=class extends i6{};Yp.TimeMicrosecondBuilder=ree;ree.prototype._setValue=SF.setTimeMicrosecond;var iee=class extends i6{};Yp.TimeNanosecondBuilder=iee;iee.prototype._setValue=SF.setTimeNanosecond});var oee=Ae(D5=>{"use strict";m();Object.defineProperty(D5,"__esModule",{value:!0});D5.DenseUnionBuilder=D5.SparseUnionBuilder=D5.UnionBuilder=void 0;var dKe=ch(),qye=W_(),hKe=Kl(),pKe=su(),xB=class extends hKe.Builder{constructor(e){super(e);this._typeIds=new qye.DataBufferBuilder(new Int8Array(0),1),typeof e.valueToChildTypeId=="function"&&(this._valueToChildTypeId=e.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(e,t){return this.set(this.length,e,t)}set(e,t,r){return r===void 0&&(r=this._valueToChildTypeId(this,t,e)),this.setValid(e,this.isValid(t))&&this.setValue(e,t,r),this}setValue(e,t,r){this._typeIds.set(e,r);let i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(e,t)}addChild(e,t=`${this.children.length}`){let r=this.children.push(e),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new dKe.Field(t,e.type)];return this.type=new pKe.Union(s,[...o,r],a),r}_valueToChildTypeId(e,t,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}};D5.UnionBuilder=xB;var Uye=class extends xB{};D5.SparseUnionBuilder=Uye;var $ye=class extends xB{constructor(e){super(e);this._offsets=new qye.DataBufferBuilder(new Int32Array(0))}setValue(e,t,r){let i=this._typeIds.set(e,r).buffer[e],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(e,s.length).buffer[e];s==null||s.set(o,t)}};D5.DenseUnionBuilder=$ye});var uee=Ae(gB=>{"use strict";m();Object.defineProperty(gB,"__esModule",{value:!0});gB.Utf8Builder=void 0;var mKe=$_(),xKe=oB(),gKe=W_(),yKe=Kl(),aee=class extends yKe.VariableWidthBuilder{constructor(e){super(e);this._values=new gKe.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,t){return super.setValue(e,(0,mKe.encodeUtf8)(t))}_flushPending(e,t){}};gB.Utf8Builder=aee;aee.prototype._flushPending=xKe.BinaryBuilder.prototype._flushPending});var zye=Ae(S8=>{"use strict";m();Object.defineProperty(S8,"__esModule",{value:!0});S8.instance=S8.GetBuilderCtor=void 0;var vKe=gd(),_Ke=oB(),bKe=DZ(),lee=LZ(),EKe=IZ(),SKe=MZ(),wKe=BZ(),CKe=jZ(),yB=qZ(),cee=HZ(),jg=VZ(),AKe=WZ(),TKe=QZ(),FKe=GZ(),DKe=YZ(),wF=eee(),CF=see(),fee=oee(),OKe=uee(),dee=class extends vKe.Visitor{visitNull(){return FKe.NullBuilder}visitBool(){return bKe.BoolBuilder}visitInt(){return jg.IntBuilder}visitInt8(){return jg.Int8Builder}visitInt16(){return jg.Int16Builder}visitInt32(){return jg.Int32Builder}visitInt64(){return jg.Int64Builder}visitUint8(){return jg.Uint8Builder}visitUint16(){return jg.Uint16Builder}visitUint32(){return jg.Uint32Builder}visitUint64(){return jg.Uint64Builder}visitFloat(){return yB.FloatBuilder}visitFloat16(){return yB.Float16Builder}visitFloat32(){return yB.Float32Builder}visitFloat64(){return yB.Float64Builder}visitUtf8(){return OKe.Utf8Builder}visitBinary(){return _Ke.BinaryBuilder}visitFixedSizeBinary(){return wKe.FixedSizeBinaryBuilder}visitDate(){return lee.DateBuilder}visitDateDay(){return lee.DateDayBuilder}visitDateMillisecond(){return lee.DateMillisecondBuilder}visitTimestamp(){return wF.TimestampBuilder}visitTimestampSecond(){return wF.TimestampSecondBuilder}visitTimestampMillisecond(){return wF.TimestampMillisecondBuilder}visitTimestampMicrosecond(){return wF.TimestampMicrosecondBuilder}visitTimestampNanosecond(){return wF.TimestampNanosecondBuilder}visitTime(){return CF.TimeBuilder}visitTimeSecond(){return CF.TimeSecondBuilder}visitTimeMillisecond(){return CF.TimeMillisecondBuilder}visitTimeMicrosecond(){return CF.TimeMicrosecondBuilder}visitTimeNanosecond(){return CF.TimeNanosecondBuilder}visitDecimal(){return EKe.DecimalBuilder}visitList(){return AKe.ListBuilder}visitStruct(){return DKe.StructBuilder}visitUnion(){return fee.UnionBuilder}visitDenseUnion(){return fee.DenseUnionBuilder}visitSparseUnion(){return fee.SparseUnionBuilder}visitDictionary(){return SKe.DictionaryBuilder}visitInterval(){return cee.IntervalBuilder}visitIntervalDayTime(){return cee.IntervalDayTimeBuilder}visitIntervalYearMonth(){return cee.IntervalYearMonthBuilder}visitFixedSizeList(){return CKe.FixedSizeListBuilder}visitMap(){return TKe.MapBuilder}};S8.GetBuilderCtor=dee;S8.instance=new dee});var DF=Ae(Il=>{"use strict";m();Object.defineProperty(Il,"__esModule",{value:!0});Il.compareTypes=Il.compareFields=Il.compareSchemas=Il.instance=Il.TypeComparator=void 0;var RKe=gd(),Ws=class extends RKe.Visitor{compareSchemas(e,t){return e===t||t instanceof e.constructor&&this.compareManyFields(e.fields,t.fields)}compareManyFields(e,t){return e===t||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((r,i)=>this.compareFields(r,t[i]))}compareFields(e,t){return e===t||t instanceof e.constructor&&e.name===t.name&&e.nullable===t.nullable&&this.visit(e.type,t.type)}};Il.TypeComparator=Ws;function dh(n,e){return e instanceof n.constructor}function AF(n,e){return n===e||dh(n,e)}function qg(n,e){return n===e||dh(n,e)&&n.bitWidth===e.bitWidth&&n.isSigned===e.isSigned}function vB(n,e){return n===e||dh(n,e)&&n.precision===e.precision}function NKe(n,e){return n===e||dh(n,e)&&n.byteWidth===e.byteWidth}function hee(n,e){return n===e||dh(n,e)&&n.unit===e.unit}function TF(n,e){return n===e||dh(n,e)&&n.unit===e.unit&&n.timezone===e.timezone}function FF(n,e){return n===e||dh(n,e)&&n.unit===e.unit&&n.bitWidth===e.bitWidth}function LKe(n,e){return n===e||dh(n,e)&&n.children.length===e.children.length&&Il.instance.compareManyFields(n.children,e.children)}function kKe(n,e){return n===e||dh(n,e)&&n.children.length===e.children.length&&Il.instance.compareManyFields(n.children,e.children)}function pee(n,e){return n===e||dh(n,e)&&n.mode===e.mode&&n.typeIds.every((t,r)=>t===e.typeIds[r])&&Il.instance.compareManyFields(n.children,e.children)}function IKe(n,e){return n===e||dh(n,e)&&n.id===e.id&&n.isOrdered===e.isOrdered&&Il.instance.visit(n.indices,e.indices)&&Il.instance.visit(n.dictionary,e.dictionary)}function mee(n,e){return n===e||dh(n,e)&&n.unit===e.unit}function MKe(n,e){return n===e||dh(n,e)&&n.listSize===e.listSize&&n.children.length===e.children.length&&Il.instance.compareManyFields(n.children,e.children)}function PKe(n,e){return n===e||dh(n,e)&&n.keysSorted===e.keysSorted&&n.children.length===e.children.length&&Il.instance.compareManyFields(n.children,e.children)}Ws.prototype.visitNull=AF;Ws.prototype.visitBool=AF;Ws.prototype.visitInt=qg;Ws.prototype.visitInt8=qg;Ws.prototype.visitInt16=qg;Ws.prototype.visitInt32=qg;Ws.prototype.visitInt64=qg;Ws.prototype.visitUint8=qg;Ws.prototype.visitUint16=qg;Ws.prototype.visitUint32=qg;Ws.prototype.visitUint64=qg;Ws.prototype.visitFloat=vB;Ws.prototype.visitFloat16=vB;Ws.prototype.visitFloat32=vB;Ws.prototype.visitFloat64=vB;Ws.prototype.visitUtf8=AF;Ws.prototype.visitBinary=AF;Ws.prototype.visitFixedSizeBinary=NKe;Ws.prototype.visitDate=hee;Ws.prototype.visitDateDay=hee;Ws.prototype.visitDateMillisecond=hee;Ws.prototype.visitTimestamp=TF;Ws.prototype.visitTimestampSecond=TF;Ws.prototype.visitTimestampMillisecond=TF;Ws.prototype.visitTimestampMicrosecond=TF;Ws.prototype.visitTimestampNanosecond=TF;Ws.prototype.visitTime=FF;Ws.prototype.visitTimeSecond=FF;Ws.prototype.visitTimeMillisecond=FF;Ws.prototype.visitTimeMicrosecond=FF;Ws.prototype.visitTimeNanosecond=FF;Ws.prototype.visitDecimal=AF;Ws.prototype.visitList=LKe;Ws.prototype.visitStruct=kKe;Ws.prototype.visitUnion=pee;Ws.prototype.visitDenseUnion=pee;Ws.prototype.visitSparseUnion=pee;Ws.prototype.visitDictionary=IKe;Ws.prototype.visitInterval=mee;Ws.prototype.visitIntervalDayTime=mee;Ws.prototype.visitIntervalYearMonth=mee;Ws.prototype.visitFixedSizeList=MKe;Ws.prototype.visitMap=PKe;Il.instance=new Ws;function BKe(n,e){return Il.instance.compareSchemas(n,e)}Il.compareSchemas=BKe;function jKe(n,e){return Il.instance.compareFields(n,e)}Il.compareFields=jKe;function qKe(n,e){return Il.instance.visit(n,e)}Il.compareTypes=qKe});var vF=Ae(Jp=>{"use strict";m();Object.defineProperty(Jp,"__esModule",{value:!0});Jp.builderThroughAsyncIterable=Jp.builderThroughIterable=Jp.tableFromJSON=Jp.vectorFromArray=Jp.makeBuilder=void 0;var s6=hs(),xee=ch(),Kp=s6.__importStar(su()),UKe=C2(),Hye=yd(),$Ke=zye(),zKe=w8(),HKe=O5(),VKe=DF();function _B(n){let e=n.type,t=new($Ke.instance.getVisitFn(e)())(n);if(e.children&&e.children.length>0){let r=n.children||[],i={nullValues:n.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(let[o,a]of e.children.entries()){let{type:l}=a,f=s(a,o);t.children.push(_B(Object.assign(Object.assign({},f),{type:l})))}}return t}Jp.makeBuilder=_B;function Vye(n,e){if(n instanceof UKe.Data||n instanceof Hye.Vector||n.type instanceof Kp.DataType||ArrayBuffer.isView(n))return(0,Hye.makeVector)(n);let t={type:e??bB(n),nullValues:[null]},r=[...Wye(t)(n)],i=r.length===1?r[0]:r.reduce((s,o)=>s.concat(o));return Kp.DataType.isDictionary(i.type)?i.memoize():i}Jp.vectorFromArray=Vye;function WKe(n){let e=Vye(n),t=new HKe.RecordBatch(new xee.Schema(e.type.children),e.data[0]);return new zKe.Table(t)}Jp.tableFromJSON=WKe;function bB(n){if(n.length===0)return new Kp.Null;let e=0,t=0,r=0,i=0,s=0,o=0,a=0,l=0;for(let f of n){if(f==null){++e;continue}switch(typeof f){case"bigint":++o;continue;case"boolean":++a;continue;case"number":++i;continue;case"string":++s;continue;case"object":Array.isArray(f)?++t:Object.prototype.toString.call(f)==="[object Date]"?++l:++r;continue}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected")}if(i+e===n.length)return new Kp.Float64;if(s+e===n.length)return new Kp.Dictionary(new Kp.Utf8,new Kp.Int32);if(o+e===n.length)return new Kp.Int64;if(a+e===n.length)return new Kp.Bool;if(l+e===n.length)return new Kp.DateMillisecond;if(t+e===n.length){let f=n,p=bB(f[f.findIndex(_=>_!=null)]);if(f.every(_=>_==null||(0,VKe.compareTypes)(p,bB(_))))return new Kp.List(new xee.Field("",p,!0))}else if(r+e===n.length){let f=new Map;for(let p of n)for(let _ of Object.keys(p))!f.has(_)&&p[_]!=null&&f.set(_,new xee.Field(_,bB([p[_]]),!0));return new Kp.Struct([...f.values()])}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected")}function Wye(n){let{["queueingStrategy"]:e="count"}=n,{["highWaterMark"]:t=e!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=n,r=e!=="bytes"?"length":"byteLength";return function*(i){let s=0,o=_B(n);for(let a of i)o.append(a)[r]>=t&&++s&&(yield o.toVector());(o.finish().length>0||s===0)&&(yield o.toVector())}}Jp.builderThroughIterable=Wye;function QKe(n){let{["queueingStrategy"]:e="count"}=n,{["highWaterMark"]:t=e!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=n,r=e!=="bytes"?"length":"byteLength";return function(i){return s6.__asyncGenerator(this,arguments,function*(){var s,o;let a=0,l=_B(n);try{for(var f=s6.__asyncValues(i),p;p=yield s6.__await(f.next()),!p.done;){let _=p.value;l.append(_)[r]>=t&&++a&&(yield yield s6.__await(l.toVector()))}}catch(_){s={error:_}}finally{try{p&&!p.done&&(o=f.return)&&(yield s6.__await(o.call(f)))}finally{if(s)throw s.error}}(l.finish().length>0||a===0)&&(yield yield s6.__await(l.toVector()))})}}Jp.builderThroughAsyncIterable=QKe});var Gye=Ae(EB=>{"use strict";m();Object.defineProperty(EB,"__esModule",{value:!0});EB.distributeVectorsIntoRecordBatches=void 0;var Qye=C2(),GKe=su(),YKe=O5();function KKe(n,e){return JKe(n,e.map(t=>t.data.concat()))}EB.distributeVectorsIntoRecordBatches=KKe;function JKe(n,e){let t=[...n.fields],r=[],i={numBatches:e.reduce((_,E)=>Math.max(_,E.length),0)},s=0,o=0,a=-1,l=e.length,f,p=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)p[a]=f=e[a].shift(),o=Math.min(o,f?f.length:o);Number.isFinite(o)&&(p=XKe(t,o,p,e,i),o>0&&(r[s++]=(0,Qye.makeData)({type:new GKe.Struct(t),length:o,nullCount:0,children:p.slice()})))}return[n=n.assign(t),r.map(_=>new YKe.RecordBatch(n,_))]}function XKe(n,e,t,r,i){var s;let o=(e+63&~63)>>3;for(let a=-1,l=r.length;++a<l;){let f=t[a],p=f==null?void 0:f.length;if(p>=e)p===e?t[a]=f:(t[a]=f.slice(0,e),i.numBatches=Math.max(i.numBatches,r[a].unshift(f.slice(e,p-e))));else{let _=n[a];n[a]=_.clone({nullable:!0}),t[a]=(s=f==null?void 0:f._changeLengthAndBackfillNullBitmap(e))!==null&&s!==void 0?s:(0,Qye.makeData)({type:_.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return t}});var w8=Ae(R5=>{"use strict";m();var Yye;Object.defineProperty(R5,"__esModule",{value:!0});R5.tableFromArrays=R5.makeTable=R5.Table=void 0;var SB=kl(),gee=C2(),ZKe=vF(),OF=yd(),o6=ch(),Kye=su(),eJe=DF(),yee=Gye(),Ug=sP(),tJe=H_(),nJe=zp(),rJe=oP(),iJe=aP(),sJe=uP(),oJe=rF(),C8=O5(),Gh=class{constructor(...e){var t,r;if(e.length===0)return this.batches=[],this.schema=new o6.Schema([]),this._offsets=[0],this;let i,s;e[0]instanceof o6.Schema&&(i=e.shift()),e[e.length-1]instanceof Uint32Array&&(s=e.pop());let o=l=>{if(l){if(l instanceof C8.RecordBatch)return[l];if(l instanceof Gh)return l.batches;if(l instanceof gee.Data){if(l.type instanceof Kye.Struct)return[new C8.RecordBatch(new o6.Schema(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(f=>o(f));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(f=>o(f));if(typeof l=="object"){let f=Object.keys(l),p=f.map(O=>new OF.Vector([l[O]])),_=new o6.Schema(f.map((O,R)=>new o6.Field(String(O),p[R].type))),[,E]=(0,yee.distributeVectorsIntoRecordBatches)(_,p);return E.length===0?[new C8.RecordBatch(l)]:E}}}return[]},a=e.flatMap(l=>o(l));if(i=(r=i??((t=a[0])===null||t===void 0?void 0:t.schema))!==null&&r!==void 0?r:new o6.Schema([]),!(i instanceof o6.Schema))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(let l of a){if(!(l instanceof C8.RecordBatch))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!(0,eJe.compareSchemas)(i,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??(0,Ug.computeChunkOffsets)(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,t)=>e+t.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=(0,Ug.computeChunkNullCounts)(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return-1}getByteLength(e){return 0}[Symbol.iterator](){return this.batches.length>0?iJe.instance.visit(new OF.Vector(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...e){let t=this.schema,r=this.data.concat(e.flatMap(({data:i})=>i));return new Gh(t,r.map(i=>new C8.RecordBatch(t,i)))}slice(e,t){let r=this.schema;[e,t]=(0,oJe.clampRange)({length:this.numRows},e,t);let i=(0,Ug.sliceChunks)(this.data,this._offsets,e,t);return new Gh(r,i.map(s=>new C8.RecordBatch(r,s)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(t=>t.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){let t=this.data.map(r=>r.children[e]);if(t.length===0){let{type:r}=this.schema.fields[e],i=(0,gee.makeData)({type:r,length:0,nullCount:0});t.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new OF.Vector(t)}return null}setChild(e,t){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),t)}setChildAt(e,t){let r=this.schema,i=[...this.batches];if(e>-1&&e<this.numCols){t||(t=new OF.Vector([(0,gee.makeData)({type:new Kye.Null,length:this.numRows})]));let s=r.fields.slice(),o=s[e].clone({type:t.type}),a=this.schema.fields.map((l,f)=>this.getChildAt(f));[s[e],a[e]]=[o,t],[r,i]=(0,yee.distributeVectorsIntoRecordBatches)(r,a)}return new Gh(r,i)}select(e){let t=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(e.map(r=>t.get(r)).filter(r=>r>-1))}selectAt(e){let t=this.schema.selectAt(e),r=this.batches.map(i=>i.selectAt(e));return new Gh(t,r)}assign(e){let t=this.schema.fields,[r,i]=e.schema.fields.reduce((a,l,f)=>{let[p,_]=a,E=t.findIndex(O=>O.name===l.name);return~E?_[E]=f:p.push(f),a},[[],[]]),s=this.schema.assign(e.schema),o=[...t.map((a,l)=>[l,i[l]]).map(([a,l])=>l===void 0?this.getChildAt(a):e.getChildAt(l)),...r.map(a=>e.getChildAt(a))].filter(Boolean);return new Gh(...(0,yee.distributeVectorsIntoRecordBatches)(s,o))}};R5.Table=Gh;Yye=Symbol.toStringTag;Gh[Yye]=(n=>(n.schema=null,n.batches=[],n._offsets=new Uint32Array([0]),n._nullCount=-1,n[Symbol.isConcatSpreadable]=!0,n.isValid=(0,Ug.wrapChunkedCall1)(Ug.isChunkedValid),n.get=(0,Ug.wrapChunkedCall1)(tJe.instance.getVisitFn(SB.Type.Struct)),n.set=(0,Ug.wrapChunkedCall2)(nJe.instance.getVisitFn(SB.Type.Struct)),n.indexOf=(0,Ug.wrapChunkedIndexOf)(rJe.instance.getVisitFn(SB.Type.Struct)),n.getByteLength=(0,Ug.wrapChunkedCall1)(sJe.instance.getVisitFn(SB.Type.Struct)),"Table"))(Gh.prototype);function aJe(n){let e={},t=Object.entries(n);for(let[r,i]of t)e[r]=(0,OF.makeVector)(i);return new Gh(e)}R5.makeTable=aJe;function uJe(n){let e={},t=Object.entries(n);for(let[r,i]of t)e[r]=(0,ZKe.vectorFromArray)(i);return new Gh(e)}R5.tableFromArrays=uJe});var O5=Ae(A8=>{"use strict";m();var Jye;Object.defineProperty(A8,"__esModule",{value:!0});A8._InternalEmptyPlaceholderRecordBatch=A8.RecordBatch=void 0;var Xp=C2(),lJe=w8(),wB=yd(),CB=ch(),$g=su(),cJe=H_(),fJe=zp(),dJe=oP(),hJe=aP(),pJe=uP(),j2=class{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof CB.Schema))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=(0,Xp.makeData)({nullCount:0,type:new $g.Struct(this.schema.fields),children:this.schema.fields.map(t=>(0,Xp.makeData)({type:t.type,nullCount:0}))})]=e,!(this.data instanceof Xp.Data))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=Xye(this.schema,this.data.children);break}case 1:{let[t]=e,{fields:r,children:i,length:s}=Object.keys(t).reduce((l,f,p)=>(l.children[p]=t[f],l.length=Math.max(l.length,t[f].length),l.fields[p]=CB.Field.new({name:f,type:t[f].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),o=new CB.Schema(r),a=(0,Xp.makeData)({type:new $g.Struct(r),length:s,children:i,nullCount:0});[this.schema,this.data]=Xye(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Zye(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return cJe.instance.visit(this.data,e)}set(e,t){return fJe.instance.visit(this.data,e,t)}indexOf(e,t){return dJe.instance.visit(this.data,e,t)}getByteLength(e){return pJe.instance.visit(this.data,e)}[Symbol.iterator](){return hJe.instance.visit(new wB.Vector([this.data]))}toArray(){return[...this]}concat(...e){return new lJe.Table(this.schema,[this,...e])}slice(e,t){let[r]=new wB.Vector([this.data]).slice(e,t).data;return new j2(this.schema,r)}getChild(e){var t;return this.getChildAt((t=this.schema.fields)===null||t===void 0?void 0:t.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new wB.Vector([this.data.children[e]]):null}setChild(e,t){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),t)}setChildAt(e,t){let r=this.schema,i=this.data;if(e>-1&&e<this.numCols){t||(t=new wB.Vector([(0,Xp.makeData)({type:new $g.Null,length:this.numRows})]));let s=r.fields.slice(),o=i.children.slice(),a=s[e].clone({type:t.type});[s[e],o[e]]=[a,t.data[0]],r=new CB.Schema(s,new Map(this.schema.metadata)),i=(0,Xp.makeData)({type:new $g.Struct(s),children:o})}return new j2(r,i)}select(e){let t=this.schema.select(e),r=new $g.Struct(t.fields),i=[];for(let s of e){let o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new j2(t,(0,Xp.makeData)({type:r,length:this.numRows,children:i}))}selectAt(e){let t=this.schema.selectAt(e),r=e.map(s=>this.data.children[s]).filter(Boolean),i=(0,Xp.makeData)({type:new $g.Struct(t.fields),length:this.numRows,children:r});return new j2(t,i)}};A8.RecordBatch=j2;Jye=Symbol.toStringTag;j2[Jye]=(n=>(n._nullCount=-1,n[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(j2.prototype);function Xye(n,e,t=e.reduce((r,i)=>Math.max(r,i.length),0)){var r;let i=[...n.fields],s=[...e],o=(t+63&~63)>>3;for(let[a,l]of n.fields.entries()){let f=e[a];(!f||f.length!==t)&&(i[a]=l.clone({nullable:!0}),s[a]=(r=f==null?void 0:f._changeLengthAndBackfillNullBitmap(t))!==null&&r!==void 0?r:(0,Xp.makeData)({type:l.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)}))}return[n.assign(i),(0,Xp.makeData)({type:new $g.Struct(i),length:t,children:s})]}function Zye(n,e,t=new Map){for(let r=-1,i=n.length;++r<i;){let o=n[r].type,a=e[r];if($g.DataType.isDictionary(o)){if(!t.has(o.id))a.dictionary&&t.set(o.id,a.dictionary);else if(t.get(o.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&Zye(o.children,a.children,t)}return t}var e3e=class extends j2{constructor(e){let t=e.fields.map(i=>(0,Xp.makeData)({type:i.type})),r=(0,Xp.makeData)({type:new $g.Struct(e.fields),nullCount:0,children:t});super(e,r)}};A8._InternalEmptyPlaceholderRecordBatch=e3e});var t3e=Ae(RF=>{"use strict";m();Object.defineProperty(RF,"__esModule",{value:!0});RF.BodyCompressionMethod=void 0;var mJe;(function(n){n[n.BUFFER=0]="BUFFER"})(mJe=RF.BodyCompressionMethod||(RF.BodyCompressionMethod={}))});var n3e=Ae(NF=>{"use strict";m();Object.defineProperty(NF,"__esModule",{value:!0});NF.CompressionType=void 0;var xJe;(function(n){n[n.LZ4_FRAME=0]="LZ4_FRAME",n[n.ZSTD=1]="ZSTD"})(xJe=NF.CompressionType||(NF.CompressionType={}))});var s3e=Ae(AB=>{"use strict";m();Object.defineProperty(AB,"__esModule",{value:!0});AB.BodyCompression=void 0;var gJe=hs(),yJe=gJe.__importStar(Co()),r3e=t3e(),i3e=n3e(),zg=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBodyCompression(e,t){return(t||new zg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,t){return e.setPosition(e.position()+yJe.SIZE_PREFIX_LENGTH),(t||new zg).__init(e.readInt32(e.position())+e.position(),e)}codec(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):i3e.CompressionType.LZ4_FRAME}method(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):r3e.BodyCompressionMethod.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,t){e.addFieldInt8(0,t,i3e.CompressionType.LZ4_FRAME)}static addMethod(e,t){e.addFieldInt8(1,t,r3e.BodyCompressionMethod.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,t,r){return zg.startBodyCompression(e),zg.addCodec(e,t),zg.addMethod(e,r),zg.endBodyCompression(e)}};AB.BodyCompression=zg});var N5=Ae(TB=>{"use strict";m();Object.defineProperty(TB,"__esModule",{value:!0});TB.Buffer=void 0;var o3e=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,t,r){return e.prep(8,16),e.writeInt64(r),e.writeInt64(t),e.offset()}};TB.Buffer=o3e});var vee=Ae(FB=>{"use strict";m();Object.defineProperty(FB,"__esModule",{value:!0});FB.FieldNode=void 0;var a3e=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,t,r){return e.prep(8,16),e.writeInt64(r),e.writeInt64(t),e.offset()}};FB.FieldNode=a3e});var OB=Ae(DB=>{"use strict";m();Object.defineProperty(DB,"__esModule",{value:!0});DB.RecordBatch=void 0;var vJe=hs(),_Je=vJe.__importStar(Co()),bJe=s3e(),EJe=N5(),SJe=vee(),LF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsRecordBatch(e,t){return(t||new LF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,t){return e.setPosition(e.position()+_Je.SIZE_PREFIX_LENGTH),(t||new LF).__init(e.readInt32(e.position())+e.position(),e)}length(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}nodes(e,t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new SJe.FieldNode).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}nodesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new EJe.Buffer).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}buffersLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){let t=this.bb.__offset(this.bb_pos,10);return t?(e||new bJe.BodyCompression).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addNodes(e,t){e.addFieldOffset(1,t,0)}static startNodesVector(e,t){e.startVector(16,t,8)}static addBuffers(e,t){e.addFieldOffset(2,t,0)}static startBuffersVector(e,t){e.startVector(16,t,8)}static addCompression(e,t){e.addFieldOffset(3,t,0)}static endRecordBatch(e){return e.endObject()}};DB.RecordBatch=LF});var _ee=Ae(RB=>{"use strict";m();Object.defineProperty(RB,"__esModule",{value:!0});RB.DictionaryBatch=void 0;var wJe=hs(),CJe=wJe.__importStar(Co()),AJe=OB(),kF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryBatch(e,t){return(t||new kF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,t){return e.setPosition(e.position()+CJe.SIZE_PREFIX_LENGTH),(t||new kF).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}data(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new AJe.RecordBatch).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isDelta(){let e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addData(e,t){e.addFieldOffset(1,t,0)}static addIsDelta(e,t){e.addFieldInt8(2,+t,0)}static endDictionaryBatch(e){return e.endObject()}};RB.DictionaryBatch=kF});var u3e=Ae(IF=>{"use strict";m();Object.defineProperty(IF,"__esModule",{value:!0});IF.SparseMatrixCompressedAxis=void 0;var TJe;(function(n){n[n.Row=0]="Row",n[n.Column=1]="Column"})(TJe=IF.SparseMatrixCompressedAxis||(IF.SparseMatrixCompressedAxis={}))});var d3e=Ae(NB=>{"use strict";m();Object.defineProperty(NB,"__esModule",{value:!0});NB.SparseMatrixIndexCSX=void 0;var FJe=hs(),DJe=FJe.__importStar(Co()),l3e=N5(),c3e=h5(),f3e=u3e(),MF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseMatrixIndexCSX(e,t){return(t||new MF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseMatrixIndexCSX(e,t){return e.setPosition(e.position()+DJe.SIZE_PREFIX_LENGTH),(t||new MF).__init(e.readInt32(e.position())+e.position(),e)}compressedAxis(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):f3e.SparseMatrixCompressedAxis.Row}indptrType(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new c3e.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indptrBuffer(e){let t=this.bb.__offset(this.bb_pos,8);return t?(e||new l3e.Buffer).__init(this.bb_pos+t,this.bb):null}indicesType(e){let t=this.bb.__offset(this.bb_pos,10);return t?(e||new c3e.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indicesBuffer(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new l3e.Buffer).__init(this.bb_pos+t,this.bb):null}static startSparseMatrixIndexCSX(e){e.startObject(5)}static addCompressedAxis(e,t){e.addFieldInt16(0,t,f3e.SparseMatrixCompressedAxis.Row)}static addIndptrType(e,t){e.addFieldOffset(1,t,0)}static addIndptrBuffer(e,t){e.addFieldStruct(2,t,0)}static addIndicesType(e,t){e.addFieldOffset(3,t,0)}static addIndicesBuffer(e,t){e.addFieldStruct(4,t,0)}static endSparseMatrixIndexCSX(e){let t=e.endObject();return e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,10),e.requiredField(t,12),t}};NB.SparseMatrixIndexCSX=MF});var h3e=Ae(LB=>{"use strict";m();Object.defineProperty(LB,"__esModule",{value:!0});LB.SparseTensorIndexCOO=void 0;var OJe=hs(),RJe=OJe.__importStar(Co()),NJe=N5(),LJe=h5(),PF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensorIndexCOO(e,t){return(t||new PF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensorIndexCOO(e,t){return e.setPosition(e.position()+RJe.SIZE_PREFIX_LENGTH),(t||new PF).__init(e.readInt32(e.position())+e.position(),e)}indicesType(e){let t=this.bb.__offset(this.bb_pos,4);return t?(e||new LJe.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indicesStrides(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}indicesStridesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}indicesBuffer(e){let t=this.bb.__offset(this.bb_pos,8);return t?(e||new NJe.Buffer).__init(this.bb_pos+t,this.bb):null}isCanonical(){let e=this.bb.__offset(this.bb_pos,10);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startSparseTensorIndexCOO(e){e.startObject(4)}static addIndicesType(e,t){e.addFieldOffset(0,t,0)}static addIndicesStrides(e,t){e.addFieldOffset(1,t,0)}static createIndicesStridesVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addInt64(t[r]);return e.endVector()}static startIndicesStridesVector(e,t){e.startVector(8,t,8)}static addIndicesBuffer(e,t){e.addFieldStruct(2,t,0)}static addIsCanonical(e,t){e.addFieldInt8(3,+t,0)}static endSparseTensorIndexCOO(e){let t=e.endObject();return e.requiredField(t,4),e.requiredField(t,8),t}};LB.SparseTensorIndexCOO=PF});var x3e=Ae(kB=>{"use strict";m();Object.defineProperty(kB,"__esModule",{value:!0});kB.SparseTensorIndexCSF=void 0;var kJe=hs(),IJe=kJe.__importStar(Co()),p3e=N5(),m3e=h5(),BF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensorIndexCSF(e,t){return(t||new BF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensorIndexCSF(e,t){return e.setPosition(e.position()+IJe.SIZE_PREFIX_LENGTH),(t||new BF).__init(e.readInt32(e.position())+e.position(),e)}indptrType(e){let t=this.bb.__offset(this.bb_pos,4);return t?(e||new m3e.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indptrBuffers(e,t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new p3e.Buffer).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}indptrBuffersLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}indicesType(e){let t=this.bb.__offset(this.bb_pos,8);return t?(e||new m3e.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indicesBuffers(e,t){let r=this.bb.__offset(this.bb_pos,10);return r?(t||new p3e.Buffer).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}indicesBuffersLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}axisOrder(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+e*4):0}axisOrderLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}axisOrderArray(){let e=this.bb.__offset(this.bb_pos,12);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startSparseTensorIndexCSF(e){e.startObject(5)}static addIndptrType(e,t){e.addFieldOffset(0,t,0)}static addIndptrBuffers(e,t){e.addFieldOffset(1,t,0)}static startIndptrBuffersVector(e,t){e.startVector(16,t,8)}static addIndicesType(e,t){e.addFieldOffset(2,t,0)}static addIndicesBuffers(e,t){e.addFieldOffset(3,t,0)}static startIndicesBuffersVector(e,t){e.startVector(16,t,8)}static addAxisOrder(e,t){e.addFieldOffset(4,t,0)}static createAxisOrderVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addInt32(t[r]);return e.endVector()}static startAxisOrderVector(e,t){e.startVector(4,t,4)}static endSparseTensorIndexCSF(e){let t=e.endObject();return e.requiredField(t,4),e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,10),e.requiredField(t,12),t}};kB.SparseTensorIndexCSF=BF});var _3e=Ae(Hg=>{"use strict";m();Object.defineProperty(Hg,"__esModule",{value:!0});Hg.unionListToSparseTensorIndex=Hg.unionToSparseTensorIndex=Hg.SparseTensorIndex=void 0;var g3e=d3e(),y3e=h3e(),v3e=x3e(),bee;(function(n){n[n.NONE=0]="NONE",n[n.SparseTensorIndexCOO=1]="SparseTensorIndexCOO",n[n.SparseMatrixIndexCSX=2]="SparseMatrixIndexCSX",n[n.SparseTensorIndexCSF=3]="SparseTensorIndexCSF"})(bee=Hg.SparseTensorIndex||(Hg.SparseTensorIndex={}));function MJe(n,e){switch(bee[n]){case"NONE":return null;case"SparseTensorIndexCOO":return e(new y3e.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return e(new g3e.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return e(new v3e.SparseTensorIndexCSF);default:return null}}Hg.unionToSparseTensorIndex=MJe;function PJe(n,e,t){switch(bee[n]){case"NONE":return null;case"SparseTensorIndexCOO":return e(t,new y3e.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return e(t,new g3e.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return e(t,new v3e.SparseTensorIndexCSF);default:return null}}Hg.unionListToSparseTensorIndex=PJe});var Eee=Ae(IB=>{"use strict";m();Object.defineProperty(IB,"__esModule",{value:!0});IB.TensorDim=void 0;var BJe=hs(),jJe=BJe.__importStar(Co()),Vg=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensorDim(e,t){return(t||new Vg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensorDim(e,t){return e.setPosition(e.position()+jJe.SIZE_PREFIX_LENGTH),(t||new Vg).__init(e.readInt32(e.position())+e.position(),e)}size(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}name(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startTensorDim(e){e.startObject(2)}static addSize(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addName(e,t){e.addFieldOffset(1,t,0)}static endTensorDim(e){return e.endObject()}static createTensorDim(e,t,r){return Vg.startTensorDim(e),Vg.addSize(e,t),Vg.addName(e,r),Vg.endTensorDim(e)}};IB.TensorDim=Vg});var S3e=Ae(MB=>{"use strict";m();Object.defineProperty(MB,"__esModule",{value:!0});MB.SparseTensor=void 0;var qJe=hs(),UJe=qJe.__importStar(Co()),$Je=N5(),b3e=_3e(),zJe=Eee(),E3e=h8(),jF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensor(e,t){return(t||new jF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensor(e,t){return e.setPosition(e.position()+UJe.SIZE_PREFIX_LENGTH),(t||new jF).__init(e.readInt32(e.position())+e.position(),e)}typeType(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):E3e.Type.NONE}type(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__union(e,this.bb_pos+t):null}shape(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new zJe.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}shapeLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}nonZeroLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}sparseIndexType(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readUint8(this.bb_pos+e):b3e.SparseTensorIndex.NONE}sparseIndex(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__union(e,this.bb_pos+t):null}data(e){let t=this.bb.__offset(this.bb_pos,16);return t?(e||new $Je.Buffer).__init(this.bb_pos+t,this.bb):null}static startSparseTensor(e){e.startObject(7)}static addTypeType(e,t){e.addFieldInt8(0,t,E3e.Type.NONE)}static addType(e,t){e.addFieldOffset(1,t,0)}static addShape(e,t){e.addFieldOffset(2,t,0)}static createShapeVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startShapeVector(e,t){e.startVector(4,t,4)}static addNonZeroLength(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}static addSparseIndexType(e,t){e.addFieldInt8(4,t,b3e.SparseTensorIndex.NONE)}static addSparseIndex(e,t){e.addFieldOffset(5,t,0)}static addData(e,t){e.addFieldStruct(6,t,0)}static endSparseTensor(e){let t=e.endObject();return e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,14),e.requiredField(t,16),t}static finishSparseTensorBuffer(e,t){e.finish(t)}static finishSizePrefixedSparseTensorBuffer(e,t){e.finish(t,void 0,!0)}};MB.SparseTensor=jF});var C3e=Ae(PB=>{"use strict";m();Object.defineProperty(PB,"__esModule",{value:!0});PB.Tensor=void 0;var HJe=hs(),VJe=HJe.__importStar(Co()),WJe=N5(),QJe=Eee(),w3e=h8(),qF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensor(e,t){return(t||new qF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensor(e,t){return e.setPosition(e.position()+VJe.SIZE_PREFIX_LENGTH),(t||new qF).__init(e.readInt32(e.position())+e.position(),e)}typeType(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):w3e.Type.NONE}type(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__union(e,this.bb_pos+t):null}shape(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new QJe.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}shapeLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}strides(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}stridesLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}data(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new WJe.Buffer).__init(this.bb_pos+t,this.bb):null}static startTensor(e){e.startObject(5)}static addTypeType(e,t){e.addFieldInt8(0,t,w3e.Type.NONE)}static addType(e,t){e.addFieldOffset(1,t,0)}static addShape(e,t){e.addFieldOffset(2,t,0)}static createShapeVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startShapeVector(e,t){e.startVector(4,t,4)}static addStrides(e,t){e.addFieldOffset(3,t,0)}static createStridesVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addInt64(t[r]);return e.endVector()}static startStridesVector(e,t){e.startVector(8,t,8)}static addData(e,t){e.addFieldStruct(4,t,0)}static endTensor(e){let t=e.endObject();return e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,12),t}static finishTensorBuffer(e,t){e.finish(t)}static finishSizePrefixedTensorBuffer(e,t){e.finish(t,void 0,!0)}};PB.Tensor=qF});var wee=Ae(Wg=>{"use strict";m();Object.defineProperty(Wg,"__esModule",{value:!0});Wg.unionListToMessageHeader=Wg.unionToMessageHeader=Wg.MessageHeader=void 0;var A3e=_ee(),T3e=OB(),F3e=ZP(),D3e=S3e(),O3e=C3e(),See;(function(n){n[n.NONE=0]="NONE",n[n.Schema=1]="Schema",n[n.DictionaryBatch=2]="DictionaryBatch",n[n.RecordBatch=3]="RecordBatch",n[n.Tensor=4]="Tensor",n[n.SparseTensor=5]="SparseTensor"})(See=Wg.MessageHeader||(Wg.MessageHeader={}));function GJe(n,e){switch(See[n]){case"NONE":return null;case"Schema":return e(new F3e.Schema);case"DictionaryBatch":return e(new A3e.DictionaryBatch);case"RecordBatch":return e(new T3e.RecordBatch);case"Tensor":return e(new O3e.Tensor);case"SparseTensor":return e(new D3e.SparseTensor);default:return null}}Wg.unionToMessageHeader=GJe;function YJe(n,e,t){switch(See[n]){case"NONE":return null;case"Schema":return e(t,new F3e.Schema);case"DictionaryBatch":return e(t,new A3e.DictionaryBatch);case"RecordBatch":return e(t,new T3e.RecordBatch);case"Tensor":return e(t,new O3e.Tensor);case"SparseTensor":return e(t,new D3e.SparseTensor);default:return null}}Wg.unionListToMessageHeader=YJe});var L3e=Ae(BB=>{"use strict";m();Object.defineProperty(BB,"__esModule",{value:!0});BB.Message=void 0;var KJe=hs(),JJe=KJe.__importStar(Co()),XJe=d8(),R3e=wee(),N3e=aZ(),Zp=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMessage(e,t){return(t||new Zp).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,t){return e.setPosition(e.position()+JJe.SIZE_PREFIX_LENGTH),(t||new Zp).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):N3e.MetadataVersion.V1}headerType(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):R3e.MessageHeader.NONE}header(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}bodyLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,12);return r?(t||new XJe.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,N3e.MetadataVersion.V1)}static addHeaderType(e,t){e.addFieldInt8(1,t,R3e.MessageHeader.NONE)}static addHeader(e,t){e.addFieldOffset(2,t,0)}static addBodyLength(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,t){e.finish(t)}static finishSizePrefixedMessageBuffer(e,t){e.finish(t,void 0,!0)}static createMessage(e,t,r,i,s,o){return Zp.startMessage(e),Zp.addVersion(e,t),Zp.addHeaderType(e,r),Zp.addHeader(e,i),Zp.addBodyLength(e,s),Zp.addCustomMetadata(e,o),Zp.endMessage(e)}};BB.Message=Zp});var q3e=Ae(F8=>{"use strict";m();Object.defineProperty(F8,"__esModule",{value:!0});F8.instance=F8.TypeAssembler=void 0;var ZJe=hs(),eXe=ZJe.__importStar(Co()),tXe=eXe.Long,nXe=gd(),k3e=hZ(),jB=h5(),Cee=LP(),I3e=cZ(),M3e=fZ(),P3e=mZ(),UF=CP(),Aee=SP(),qB=VP(),UB=QP(),Tee=IP(),B3e=dZ(),j3e=pZ(),T8=YP(),$F=lZ(),Fee=DP(),Dee=RP(),Oee=UP(),Ree=class extends nXe.Visitor{visit(e,t){return e==null||t==null?void 0:super.visit(e,t)}visitNull(e,t){return k3e.Null.startNull(t),k3e.Null.endNull(t)}visitInt(e,t){return jB.Int.startInt(t),jB.Int.addBitWidth(t,e.bitWidth),jB.Int.addIsSigned(t,e.isSigned),jB.Int.endInt(t)}visitFloat(e,t){return Cee.FloatingPoint.startFloatingPoint(t),Cee.FloatingPoint.addPrecision(t,e.precision),Cee.FloatingPoint.endFloatingPoint(t)}visitBinary(e,t){return I3e.Binary.startBinary(t),I3e.Binary.endBinary(t)}visitBool(e,t){return M3e.Bool.startBool(t),M3e.Bool.endBool(t)}visitUtf8(e,t){return P3e.Utf8.startUtf8(t),P3e.Utf8.endUtf8(t)}visitDecimal(e,t){return UF.Decimal.startDecimal(t),UF.Decimal.addScale(t,e.scale),UF.Decimal.addPrecision(t,e.precision),UF.Decimal.addBitWidth(t,e.bitWidth),UF.Decimal.endDecimal(t)}visitDate(e,t){return Aee.Date.startDate(t),Aee.Date.addUnit(t,e.unit),Aee.Date.endDate(t)}visitTime(e,t){return qB.Time.startTime(t),qB.Time.addUnit(t,e.unit),qB.Time.addBitWidth(t,e.bitWidth),qB.Time.endTime(t)}visitTimestamp(e,t){let r=e.timezone&&t.createString(e.timezone)||void 0;return UB.Timestamp.startTimestamp(t),UB.Timestamp.addUnit(t,e.unit),r!==void 0&&UB.Timestamp.addTimezone(t,r),UB.Timestamp.endTimestamp(t)}visitInterval(e,t){return Tee.Interval.startInterval(t),Tee.Interval.addUnit(t,e.unit),Tee.Interval.endInterval(t)}visitList(e,t){return B3e.List.startList(t),B3e.List.endList(t)}visitStruct(e,t){return j3e.Struct_.startStruct_(t),j3e.Struct_.endStruct_(t)}visitUnion(e,t){T8.Union.startTypeIdsVector(t,e.typeIds.length);let r=T8.Union.createTypeIdsVector(t,e.typeIds);return T8.Union.startUnion(t),T8.Union.addMode(t,e.mode),T8.Union.addTypeIds(t,r),T8.Union.endUnion(t)}visitDictionary(e,t){let r=this.visit(e.indices,t);return $F.DictionaryEncoding.startDictionaryEncoding(t),$F.DictionaryEncoding.addId(t,new tXe(e.id,0)),$F.DictionaryEncoding.addIsOrdered(t,e.isOrdered),r!==void 0&&$F.DictionaryEncoding.addIndexType(t,r),$F.DictionaryEncoding.endDictionaryEncoding(t)}visitFixedSizeBinary(e,t){return Fee.FixedSizeBinary.startFixedSizeBinary(t),Fee.FixedSizeBinary.addByteWidth(t,e.byteWidth),Fee.FixedSizeBinary.endFixedSizeBinary(t)}visitFixedSizeList(e,t){return Dee.FixedSizeList.startFixedSizeList(t),Dee.FixedSizeList.addListSize(t,e.listSize),Dee.FixedSizeList.endFixedSizeList(t)}visitMap(e,t){return Oee.Map.startMap(t),Oee.Map.addKeysSorted(t,e.keysSorted),Oee.Map.endMap(t)}};F8.TypeAssembler=Ree;F8.instance=new Ree});var Q3e=Ae(q2=>{"use strict";m();Object.defineProperty(q2,"__esModule",{value:!0});q2.fieldFromJSON=q2.dictionaryBatchFromJSON=q2.recordBatchFromJSON=q2.schemaFromJSON=void 0;var D8=ch(),Hu=su(),a6=u6(),O8=kl();function rXe(n,e=new Map){return new D8.Schema(sXe(n,e),$B(n.customMetadata),e)}q2.schemaFromJSON=rXe;function U3e(n){return new a6.RecordBatch(n.count,z3e(n.columns),H3e(n.columns))}q2.recordBatchFromJSON=U3e;function iXe(n){return new a6.DictionaryBatch(U3e(n.data),n.id,n.isDelta)}q2.dictionaryBatchFromJSON=iXe;function sXe(n,e){return(n.fields||[]).filter(Boolean).map(t=>D8.Field.fromJSON(t,e))}function $3e(n,e){return(n.children||[]).filter(Boolean).map(t=>D8.Field.fromJSON(t,e))}function z3e(n){return(n||[]).reduce((e,t)=>[...e,new a6.FieldNode(t.count,oXe(t.VALIDITY)),...z3e(t.children)],[])}function H3e(n,e=[]){for(let t=-1,r=(n||[]).length;++t<r;){let i=n[t];i.VALIDITY&&e.push(new a6.BufferRegion(e.length,i.VALIDITY.length)),i.TYPE&&e.push(new a6.BufferRegion(e.length,i.TYPE.length)),i.OFFSET&&e.push(new a6.BufferRegion(e.length,i.OFFSET.length)),i.DATA&&e.push(new a6.BufferRegion(e.length,i.DATA.length)),e=H3e(i.children,e)}return e}function oXe(n){return(n||[]).reduce((e,t)=>e+ +(t===0),0)}function aXe(n,e){let t,r,i,s,o,a;return!e||!(s=n.dictionary)?(o=W3e(n,$3e(n,e)),i=new D8.Field(n.name,o,n.nullable,$B(n.customMetadata))):e.has(t=s.id)?(r=(r=s.indexType)?V3e(r):new Hu.Int32,a=new Hu.Dictionary(e.get(t),r,t,s.isOrdered),i=new D8.Field(n.name,a,n.nullable,$B(n.customMetadata))):(r=(r=s.indexType)?V3e(r):new Hu.Int32,e.set(t,o=W3e(n,$3e(n,e))),a=new Hu.Dictionary(o,r,t,s.isOrdered),i=new D8.Field(n.name,a,n.nullable,$B(n.customMetadata))),i||null}q2.fieldFromJSON=aXe;function $B(n){return new Map(Object.entries(n||{}))}function V3e(n){return new Hu.Int(n.isSigned,n.bitWidth)}function W3e(n,e){let t=n.type.name;switch(t){case"NONE":return new Hu.Null;case"null":return new Hu.Null;case"binary":return new Hu.Binary;case"utf8":return new Hu.Utf8;case"bool":return new Hu.Bool;case"list":return new Hu.List((e||[])[0]);case"struct":return new Hu.Struct(e||[]);case"struct_":return new Hu.Struct(e||[])}switch(t){case"int":{let r=n.type;return new Hu.Int(r.isSigned,r.bitWidth)}case"floatingpoint":{let r=n.type;return new Hu.Float(O8.Precision[r.precision])}case"decimal":{let r=n.type;return new Hu.Decimal(r.scale,r.precision,r.bitWidth)}case"date":{let r=n.type;return new Hu.Date_(O8.DateUnit[r.unit])}case"time":{let r=n.type;return new Hu.Time(O8.TimeUnit[r.unit],r.bitWidth)}case"timestamp":{let r=n.type;return new Hu.Timestamp(O8.TimeUnit[r.unit],r.timezone)}case"interval":{let r=n.type;return new Hu.Interval(O8.IntervalUnit[r.unit])}case"union":{let r=n.type;return new Hu.Union(O8.UnionMode[r.mode],r.typeIds||[],e||[])}case"fixedsizebinary":{let r=n.type;return new Hu.FixedSizeBinary(r.byteWidth)}case"fixedsizelist":{let r=n.type;return new Hu.FixedSizeList(r.listSize,(e||[])[0])}case"map":{let r=n.type;return new Hu.Map_((e||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${t}"`)}});var u6=Ae(t1=>{"use strict";m();Object.defineProperty(t1,"__esModule",{value:!0});t1.FieldNode=t1.BufferRegion=t1.DictionaryBatch=t1.RecordBatch=t1.Message=void 0;var uXe=hs(),Nee=uXe.__importStar(Co()),Qg=ZP(),lXe=h5(),L5=OB(),R8=_ee(),cXe=N5(),ym=gZ(),fXe=vee(),Wc=h8(),k5=d8(),G3e=uZ(),dXe=LP(),hXe=CP(),pXe=SP(),mXe=VP(),xXe=QP(),gXe=IP(),yXe=YP(),vXe=DP(),_Xe=RP(),bXe=UP(),I5=L3e(),yf=ch(),EXe=Qf(),Ml=kl(),Lee=q3e(),zB=Q3e(),l6=Nee.Long,SXe=Nee.Builder,wXe=Nee.ByteBuffer,Vu=su(),M5=class{constructor(e,t,r,i){this._version=t,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=typeof e=="number"?e:e.low}static fromJSON(e,t){let r=new M5(0,Ml.MetadataVersion.V4,t);return r._createHeader=CXe(e,t),r}static decode(e){e=new wXe((0,EXe.toUint8Array)(e));let t=I5.Message.getRootAsMessage(e),r=t.bodyLength(),i=t.version(),s=t.headerType(),o=new M5(r,i,s);return o._createHeader=AXe(t,s),o}static encode(e){let t=new SXe,r=-1;return e.isSchema()?r=yf.Schema.encode(t,e.header()):e.isRecordBatch()?r=e1.encode(t,e.header()):e.isDictionaryBatch()&&(r=U2.encode(t,e.header())),I5.Message.startMessage(t),I5.Message.addVersion(t,Ml.MetadataVersion.V4),I5.Message.addHeader(t,r),I5.Message.addHeaderType(t,e.headerType),I5.Message.addBodyLength(t,new l6(e.bodyLength,0)),I5.Message.finishMessageBuffer(t,I5.Message.endMessage(t)),t.asUint8Array()}static from(e,t=0){if(e instanceof yf.Schema)return new M5(0,Ml.MetadataVersion.V4,Ml.MessageHeader.Schema,e);if(e instanceof e1)return new M5(t,Ml.MetadataVersion.V4,Ml.MessageHeader.RecordBatch,e);if(e instanceof U2)return new M5(t,Ml.MetadataVersion.V4,Ml.MessageHeader.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Ml.MessageHeader.Schema}isRecordBatch(){return this.headerType===Ml.MessageHeader.RecordBatch}isDictionaryBatch(){return this.headerType===Ml.MessageHeader.DictionaryBatch}};t1.Message=M5;var e1=class{constructor(e,t,r){this._nodes=t,this._buffers=r,this._length=typeof e=="number"?e:e.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}};t1.RecordBatch=e1;var U2=class{constructor(e,t,r=!1){this._data=e,this._isDelta=r,this._id=typeof t=="number"?t:t.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}};t1.DictionaryBatch=U2;var c6=class{constructor(e,t){this.offset=typeof e=="number"?e:e.low,this.length=typeof t=="number"?t:t.low}};t1.BufferRegion=c6;var f6=class{constructor(e,t){this.length=typeof e=="number"?e:e.low,this.nullCount=typeof t=="number"?t:t.low}};t1.FieldNode=f6;function CXe(n,e){return()=>{switch(e){case Ml.MessageHeader.Schema:return yf.Schema.fromJSON(n);case Ml.MessageHeader.RecordBatch:return e1.fromJSON(n);case Ml.MessageHeader.DictionaryBatch:return U2.fromJSON(n)}throw new Error(`Unrecognized Message type: { name: ${Ml.MessageHeader[e]}, type: ${e} }`)}}function AXe(n,e){return()=>{switch(e){case Ml.MessageHeader.Schema:return yf.Schema.decode(n.header(new Qg.Schema));case Ml.MessageHeader.RecordBatch:return e1.decode(n.header(new L5.RecordBatch),n.version());case Ml.MessageHeader.DictionaryBatch:return U2.decode(n.header(new R8.DictionaryBatch),n.version())}throw new Error(`Unrecognized Message type: { name: ${Ml.MessageHeader[e]}, type: ${e} }`)}}yf.Field.encode=PXe;yf.Field.decode=IXe;yf.Field.fromJSON=zB.fieldFromJSON;yf.Schema.encode=MXe;yf.Schema.decode=TXe;yf.Schema.fromJSON=zB.schemaFromJSON;e1.encode=BXe;e1.decode=FXe;e1.fromJSON=zB.recordBatchFromJSON;U2.encode=jXe;U2.decode=DXe;U2.fromJSON=zB.dictionaryBatchFromJSON;f6.encode=qXe;f6.decode=RXe;c6.encode=UXe;c6.decode=OXe;function TXe(n,e=new Map){let t=kXe(n,e);return new yf.Schema(t,HB(n),e)}function FXe(n,e=Ml.MetadataVersion.V4){if(n.compression()!==null)throw new Error("Record batch compression not implemented");return new e1(n.length(),NXe(n),LXe(n,e))}function DXe(n,e=Ml.MetadataVersion.V4){return new U2(e1.decode(n.data(),e),n.id(),n.isDelta())}function OXe(n){return new c6(n.offset(),n.length())}function RXe(n){return new f6(n.length(),n.nullCount())}function NXe(n){let e=[];for(let t,r=-1,i=-1,s=n.nodesLength();++r<s;)(t=n.nodes(r))&&(e[++i]=f6.decode(t));return e}function LXe(n,e){let t=[];for(let r,i=-1,s=-1,o=n.buffersLength();++i<o;)(r=n.buffers(i))&&(e<Ml.MetadataVersion.V4&&(r.bb_pos+=8*(i+1)),t[++s]=c6.decode(r));return t}function kXe(n,e){let t=[];for(let r,i=-1,s=-1,o=n.fieldsLength();++i<o;)(r=n.fields(i))&&(t[++s]=yf.Field.decode(r,e));return t}function Y3e(n,e){let t=[];for(let r,i=-1,s=-1,o=n.childrenLength();++i<o;)(r=n.children(i))&&(t[++s]=yf.Field.decode(r,e));return t}function IXe(n,e){let t,r,i,s,o,a;return!e||!(a=n.dictionary())?(i=J3e(n,Y3e(n,e)),r=new yf.Field(n.name(),i,n.nullable(),HB(n))):e.has(t=a.id().low)?(s=(s=a.indexType())?K3e(s):new Vu.Int32,o=new Vu.Dictionary(e.get(t),s,t,a.isOrdered()),r=new yf.Field(n.name(),o,n.nullable(),HB(n))):(s=(s=a.indexType())?K3e(s):new Vu.Int32,e.set(t,i=J3e(n,Y3e(n,e))),o=new Vu.Dictionary(i,s,t,a.isOrdered()),r=new yf.Field(n.name(),o,n.nullable(),HB(n))),r||null}function HB(n){let e=new Map;if(n)for(let t,r,i=-1,s=Math.trunc(n.customMetadataLength());++i<s;)(t=n.customMetadata(i))&&(r=t.key())!=null&&e.set(r,t.value());return e}function K3e(n){return new Vu.Int(n.isSigned(),n.bitWidth())}function J3e(n,e){let t=n.typeType();switch(t){case Wc.Type.NONE:return new Vu.Null;case Wc.Type.Null:return new Vu.Null;case Wc.Type.Binary:return new Vu.Binary;case Wc.Type.Utf8:return new Vu.Utf8;case Wc.Type.Bool:return new Vu.Bool;case Wc.Type.List:return new Vu.List((e||[])[0]);case Wc.Type.Struct_:return new Vu.Struct(e||[])}switch(t){case Wc.Type.Int:{let r=n.type(new lXe.Int);return new Vu.Int(r.isSigned(),r.bitWidth())}case Wc.Type.FloatingPoint:{let r=n.type(new dXe.FloatingPoint);return new Vu.Float(r.precision())}case Wc.Type.Decimal:{let r=n.type(new hXe.Decimal);return new Vu.Decimal(r.scale(),r.precision(),r.bitWidth())}case Wc.Type.Date:{let r=n.type(new pXe.Date);return new Vu.Date_(r.unit())}case Wc.Type.Time:{let r=n.type(new mXe.Time);return new Vu.Time(r.unit(),r.bitWidth())}case Wc.Type.Timestamp:{let r=n.type(new xXe.Timestamp);return new Vu.Timestamp(r.unit(),r.timezone())}case Wc.Type.Interval:{let r=n.type(new gXe.Interval);return new Vu.Interval(r.unit())}case Wc.Type.Union:{let r=n.type(new yXe.Union);return new Vu.Union(r.mode(),r.typeIdsArray()||[],e||[])}case Wc.Type.FixedSizeBinary:{let r=n.type(new vXe.FixedSizeBinary);return new Vu.FixedSizeBinary(r.byteWidth())}case Wc.Type.FixedSizeList:{let r=n.type(new _Xe.FixedSizeList);return new Vu.FixedSizeList(r.listSize(),(e||[])[0])}case Wc.Type.Map:{let r=n.type(new bXe.Map);return new Vu.Map_((e||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${Wc.Type[t]}" (${t})`)}function MXe(n,e){let t=e.fields.map(s=>yf.Field.encode(n,s));Qg.Schema.startFieldsVector(n,t.length);let r=Qg.Schema.createFieldsVector(n,t),i=e.metadata&&e.metadata.size>0?Qg.Schema.createCustomMetadataVector(n,[...e.metadata].map(([s,o])=>{let a=n.createString(`${s}`),l=n.createString(`${o}`);return k5.KeyValue.startKeyValue(n),k5.KeyValue.addKey(n,a),k5.KeyValue.addValue(n,l),k5.KeyValue.endKeyValue(n)})):-1;return Qg.Schema.startSchema(n),Qg.Schema.addFields(n,r),Qg.Schema.addEndianness(n,$Xe?G3e.Endianness.Little:G3e.Endianness.Big),i!==-1&&Qg.Schema.addCustomMetadata(n,i),Qg.Schema.endSchema(n)}function PXe(n,e){let t=-1,r=-1,i=-1,s=e.type,o=e.typeId;Vu.DataType.isDictionary(s)?(o=s.dictionary.typeId,i=Lee.instance.visit(s,n),r=Lee.instance.visit(s.dictionary,n)):r=Lee.instance.visit(s,n);let a=(s.children||[]).map(p=>yf.Field.encode(n,p)),l=ym.Field.createChildrenVector(n,a),f=e.metadata&&e.metadata.size>0?ym.Field.createCustomMetadataVector(n,[...e.metadata].map(([p,_])=>{let E=n.createString(`${p}`),O=n.createString(`${_}`);return k5.KeyValue.startKeyValue(n),k5.KeyValue.addKey(n,E),k5.KeyValue.addValue(n,O),k5.KeyValue.endKeyValue(n)})):-1;return e.name&&(t=n.createString(e.name)),ym.Field.startField(n),ym.Field.addType(n,r),ym.Field.addTypeType(n,o),ym.Field.addChildren(n,l),ym.Field.addNullable(n,!!e.nullable),t!==-1&&ym.Field.addName(n,t),i!==-1&&ym.Field.addDictionary(n,i),f!==-1&&ym.Field.addCustomMetadata(n,f),ym.Field.endField(n)}function BXe(n,e){let t=e.nodes||[],r=e.buffers||[];L5.RecordBatch.startNodesVector(n,t.length);for(let o of t.slice().reverse())f6.encode(n,o);let i=n.endVector();L5.RecordBatch.startBuffersVector(n,r.length);for(let o of r.slice().reverse())c6.encode(n,o);let s=n.endVector();return L5.RecordBatch.startRecordBatch(n),L5.RecordBatch.addLength(n,new l6(e.length,0)),L5.RecordBatch.addNodes(n,i),L5.RecordBatch.addBuffers(n,s),L5.RecordBatch.endRecordBatch(n)}function jXe(n,e){let t=e1.encode(n,e.data);return R8.DictionaryBatch.startDictionaryBatch(n),R8.DictionaryBatch.addId(n,new l6(e.id,0)),R8.DictionaryBatch.addIsDelta(n,e.isDelta),R8.DictionaryBatch.addData(n,t),R8.DictionaryBatch.endDictionaryBatch(n)}function qXe(n,e){return fXe.FieldNode.createFieldNode(n,new l6(e.length,0),new l6(e.nullCount,0))}function UXe(n,e){return cXe.Buffer.createBuffer(n,new l6(e.offset,0),new l6(e.length,0))}var $Xe=(()=>{let n=new ArrayBuffer(2);return new DataView(n).setInt16(0,256,!0),new Int16Array(n)[0]===256})()});var WB=Ae(Ko=>{"use strict";m();Object.defineProperty(Ko,"__esModule",{value:!0});Ko.magicX2AndPadding=Ko.magicAndPadding=Ko.magicLength=Ko.checkForMagicArrowString=Ko.MAGIC=Ko.MAGIC_STR=Ko.PADDING=Ko.JSONMessageReader=Ko.AsyncMessageReader=Ko.MessageReader=void 0;var P5=hs(),B5=kl(),X3e=Co(),zF=u6(),zXe=S2(),HXe=CZ(),Z3e=Qf(),VB=C5(),vm=xF(),kee=n=>`Expected ${B5.MessageHeader[n]} Message in stream, but was null or length 0.`,Iee=n=>`Header pointer of flatbuffer-encoded ${B5.MessageHeader[n]} Message is null or length 0.`,e5e=(n,e)=>`Expected to read ${n} metadata bytes, but only read ${e}.`,t5e=(n,e)=>`Expected to read ${n} bytes for message body, but only read ${e}.`,Mee=class{constructor(e){this.source=e instanceof VB.ByteStream?e:new VB.ByteStream(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?vm.ITERATOR_DONE:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(kee(e));return t.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);let t=(0,Z3e.toUint8Array)(this.source.read(e));if(t.byteLength<e)throw new Error(t5e(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}readSchema(e=!1){let t=B5.MessageHeader.Schema,r=this.readMessage(t),i=r==null?void 0:r.header();if(e&&!i)throw new Error(Iee(t));return i}readMetadataLength(){let e=this.source.read(Ko.PADDING),t=e&&new X3e.ByteBuffer(e),r=(t==null?void 0:t.readInt32(0))||0;return{done:r===0,value:r}}readMetadata(e){let t=this.source.read(e);if(!t)return vm.ITERATOR_DONE;if(t.byteLength<e)throw new Error(e5e(e,t.byteLength));return{done:!1,value:zF.Message.decode(t)}}};Ko.MessageReader=Mee;var n5e=class{constructor(e,t){this.source=e instanceof VB.AsyncByteStream?e:(0,zXe.isFileHandle)(e)?new HXe.AsyncRandomAccessFile(e,t):new VB.AsyncByteStream(e)}[Symbol.asyncIterator](){return this}next(){return P5.__awaiter(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||e.value===-1&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?vm.ITERATOR_DONE:e})}throw(e){return P5.__awaiter(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return P5.__awaiter(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return P5.__awaiter(this,void 0,void 0,function*(){let t;if((t=yield this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(kee(e));return t.value})}readMessageBody(e){return P5.__awaiter(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);let t=(0,Z3e.toUint8Array)(yield this.source.read(e));if(t.byteLength<e)throw new Error(t5e(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()})}readSchema(e=!1){return P5.__awaiter(this,void 0,void 0,function*(){let t=B5.MessageHeader.Schema,r=yield this.readMessage(t),i=r==null?void 0:r.header();if(e&&!i)throw new Error(Iee(t));return i})}readMetadataLength(){return P5.__awaiter(this,void 0,void 0,function*(){let e=yield this.source.read(Ko.PADDING),t=e&&new X3e.ByteBuffer(e),r=(t==null?void 0:t.readInt32(0))||0;return{done:r===0,value:r}})}readMetadata(e){return P5.__awaiter(this,void 0,void 0,function*(){let t=yield this.source.read(e);if(!t)return vm.ITERATOR_DONE;if(t.byteLength<e)throw new Error(e5e(e,t.byteLength));return{done:!1,value:zF.Message.decode(t)}})}};Ko.AsyncMessageReader=n5e;var r5e=class extends Mee{constructor(e){super(new Uint8Array(0));this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof vm.ArrowJSON?e:new vm.ArrowJSON(e)}next(){let{_json:e}=this;if(!this._schema){this._schema=!0;let t=zF.Message.fromJSON(e.schema,B5.MessageHeader.Schema);return{done:!1,value:t}}if(this._dictionaryIndex<e.dictionaries.length){let t=e.dictionaries[this._dictionaryIndex++];this._body=t.data.columns;let r=zF.Message.fromJSON(t,B5.MessageHeader.DictionaryBatch);return{done:!1,value:r}}if(this._batchIndex<e.batches.length){let t=e.batches[this._batchIndex++];this._body=t.columns;let r=zF.Message.fromJSON(t,B5.MessageHeader.RecordBatch);return{done:!1,value:r}}return this._body=[],vm.ITERATOR_DONE}readMessageBody(e){return t(this._body);function t(r){return(r||[]).reduce((i,s)=>[...i,...s.VALIDITY&&[s.VALIDITY]||[],...s.TYPE&&[s.TYPE]||[],...s.OFFSET&&[s.OFFSET]||[],...s.DATA&&[s.DATA]||[],...t(s.children)],[])}}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(kee(e));return t.value}readSchema(){let e=B5.MessageHeader.Schema,t=this.readMessage(e),r=t==null?void 0:t.header();if(!t||!r)throw new Error(Iee(e));return r}};Ko.JSONMessageReader=r5e;Ko.PADDING=4;Ko.MAGIC_STR="ARROW1";Ko.MAGIC=new Uint8Array(Ko.MAGIC_STR.length);for(let n=0;n<Ko.MAGIC_STR.length;n+=1)Ko.MAGIC[n]=Ko.MAGIC_STR.codePointAt(n);function VXe(n,e=0){for(let t=-1,r=Ko.MAGIC.length;++t<r;)if(Ko.MAGIC[t]!==n[e+t])return!1;return!0}Ko.checkForMagicArrowString=VXe;Ko.magicLength=Ko.MAGIC.length;Ko.magicAndPadding=Ko.magicLength+Ko.PADDING;Ko.magicX2AndPadding=Ko.magicLength*2+Ko.PADDING});var QF=Ae(i1=>{"use strict";m();Object.defineProperty(i1,"__esModule",{value:!0});i1.AsyncRecordBatchFileReader=i1.RecordBatchFileReader=i1.AsyncRecordBatchStreamReader=i1.RecordBatchStreamReader=i1.RecordBatchReader=void 0;var Ua=hs(),WXe=C2(),i5e=yd(),QXe=su(),QB=kl(),s5e=bZ(),o5e=Ua.__importDefault(XT()),a5e=C5(),HF=CZ(),u5e=vye(),Pee=O5(),d6=xF(),n1=WB(),r1=S2(),$2=class extends d6.ReadableInterop{constructor(e){super();this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){let t=this._impl.open(e);return(0,r1.isPromise)(t)?t.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return o5e.default.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return o5e.default.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof $2?e:(0,r1.isArrowJSON)(e)?GXe(e):(0,r1.isFileHandle)(e)?JXe(e):(0,r1.isPromise)(e)?(()=>Ua.__awaiter(this,void 0,void 0,function*(){return yield $2.from(yield e)}))():(0,r1.isFetchResponse)(e)||(0,r1.isReadableDOMStream)(e)||(0,r1.isReadableNodeStream)(e)||(0,r1.isAsyncIterable)(e)?KXe(new a5e.AsyncByteStream(e)):YXe(new a5e.ByteStream(e))}static readAll(e){return e instanceof $2?e.isSync()?d5e(e):h5e(e):(0,r1.isArrowJSON)(e)||ArrayBuffer.isView(e)||(0,r1.isIterable)(e)||(0,r1.isIteratorResult)(e)?d5e(e):h5e(e)}};i1.RecordBatchReader=$2;var N8=class extends $2{constructor(e){super(e);this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return Ua.__asyncGenerator(this,arguments,function*(){yield Ua.__await(yield*Ua.__asyncDelegator(Ua.__asyncValues(this[Symbol.iterator]())))})}};i1.RecordBatchStreamReader=N8;var L8=class extends $2{constructor(e){super(e);this._impl=e}readAll(){var e,t;return Ua.__awaiter(this,void 0,void 0,function*(){let r=new Array;try{for(var i=Ua.__asyncValues(this),s;s=yield i.next(),!s.done;){let o=s.value;r.push(o)}}catch(o){e={error:o}}finally{try{s&&!s.done&&(t=i.return)&&(yield t.call(i))}finally{if(e)throw e.error}}return r})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}};i1.AsyncRecordBatchStreamReader=L8;var GB=class extends N8{constructor(e){super(e);this._impl=e}};i1.RecordBatchFileReader=GB;var Bee=class extends L8{constructor(e){super(e);this._impl=e}};i1.AsyncRecordBatchFileReader=Bee;var jee=class{constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,t){let r=this._loadVectors(e,t,this.schema.fields),i=(0,WXe.makeData)({type:new QXe.Struct(this.schema.fields),length:e.length,children:r});return new Pee.RecordBatch(this.schema,i)}_loadDictionaryBatch(e,t){let{id:r,isDelta:i}=e,{dictionaries:s,schema:o}=this,a=s.get(r);if(i||!a){let l=o.dictionaries.get(r),f=this._loadVectors(e.data,t,[l]);return(a&&i?a.concat(new i5e.Vector(f)):new i5e.Vector(f)).memoize()}return a.memoize()}_loadVectors(e,t,r){return new u5e.VectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(r)}},VF=class extends jee{constructor(e,t){super(t);this._reader=(0,r1.isArrowJSON)(e)?new n1.JSONMessageReader(this._handle=e):new n1.MessageReader(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=f5e(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):d6.ITERATOR_DONE}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):d6.ITERATOR_DONE}next(){if(this.closed)return d6.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let r=e.header(),i=t.readMessageBody(e.bodyLength),s=this._loadRecordBatch(r,i);return{done:!1,value:s}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let r=e.header(),i=t.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Pee._InternalEmptyPlaceholderRecordBatch(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}},WF=class extends jee{constructor(e,t){super(t);this._reader=new n1.AsyncMessageReader(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return Ua.__awaiter(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return Ua.__awaiter(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=f5e(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return Ua.__awaiter(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):d6.ITERATOR_DONE})}return(e){return Ua.__awaiter(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):d6.ITERATOR_DONE})}next(){return Ua.__awaiter(this,void 0,void 0,function*(){if(this.closed)return d6.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let r=e.header(),i=yield t.readMessageBody(e.bodyLength),s=this._loadRecordBatch(r,i);return{done:!1,value:s}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let r=e.header(),i=yield t.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Pee._InternalEmptyPlaceholderRecordBatch(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return Ua.__awaiter(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}},qee=class extends VF{constructor(e,t){super(e instanceof HF.RandomAccessFile?e:new HF.RandomAccessFile(e),t)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(let t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){var t;if(this.closed)return null;this._footer||this.open();let r=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(e);if(r&&this._handle.seek(r.offset)){let i=this._reader.readMessage(QB.MessageHeader.RecordBatch);if(i==null?void 0:i.isRecordBatch()){let s=i.header(),o=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null}_readDictionaryBatch(e){var t;let r=(t=this._footer)===null||t===void 0?void 0:t.getDictionaryBatch(e);if(r&&this._handle.seek(r.offset)){let i=this._reader.readMessage(QB.MessageHeader.DictionaryBatch);if(i==null?void 0:i.isDictionaryBatch()){let s=i.header(),o=this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}}_readFooter(){let{_handle:e}=this,t=e.size-n1.magicAndPadding,r=e.readInt32(t),i=e.readAt(t-r,r);return s5e.Footer.decode(i)}_readNextMessageAndValidate(e){var t;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let r=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(this._recordBatchIndex);if(r&&this._handle.seek(r.offset))return this._reader.readMessage(e)}return null}},l5e=class extends WF{constructor(e,...t){let r=typeof t[0]!="number"?t.shift():void 0,i=t[0]instanceof Map?t.shift():void 0;super(e instanceof HF.AsyncRandomAccessFile?e:new HF.AsyncRandomAccessFile(e,r),i)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(e){let t=Object.create(null,{open:{get:()=>super.open}});return Ua.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(let r of this._footer.dictionaryBatches())r&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield t.open.call(this,e)})}readRecordBatch(e){var t;return Ua.__awaiter(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());let r=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(e);if(r&&(yield this._handle.seek(r.offset))){let i=yield this._reader.readMessage(QB.MessageHeader.RecordBatch);if(i==null?void 0:i.isRecordBatch()){let s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null})}_readDictionaryBatch(e){var t;return Ua.__awaiter(this,void 0,void 0,function*(){let r=(t=this._footer)===null||t===void 0?void 0:t.getDictionaryBatch(e);if(r&&(yield this._handle.seek(r.offset))){let i=yield this._reader.readMessage(QB.MessageHeader.DictionaryBatch);if(i==null?void 0:i.isDictionaryBatch()){let s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}})}_readFooter(){return Ua.__awaiter(this,void 0,void 0,function*(){let{_handle:e}=this;e._pending&&(yield e._pending);let t=e.size-n1.magicAndPadding,r=yield e.readInt32(t),i=yield e.readAt(t-r,r);return s5e.Footer.decode(i)})}_readNextMessageAndValidate(e){return Ua.__awaiter(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){let t=this._footer.getRecordBatch(this._recordBatchIndex);if(t&&(yield this._handle.seek(t.offset)))return yield this._reader.readMessage(e)}return null})}},c5e=class extends VF{constructor(e,t){super(e,t)}_loadVectors(e,t,r){return new u5e.JSONVectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(r)}};function f5e(n,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:n.autoDestroy}function*d5e(n){let e=$2.from(n);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function h5e(n){return Ua.__asyncGenerator(this,arguments,function*(){let t=yield Ua.__await($2.from(n));try{if(!(yield Ua.__await(t.open({autoDestroy:!1}))).closed)do yield yield Ua.__await(t);while(!(yield Ua.__await(t.reset().open())).closed)}finally{yield Ua.__await(t.cancel())}})}function GXe(n){return new N8(new c5e(n))}function YXe(n){let e=n.peek(n1.magicLength+7&~7);return e&&e.byteLength>=4?(0,n1.checkForMagicArrowString)(e)?new GB(new qee(n.read())):new N8(new VF(n)):new N8(new VF(function*(){}()))}function KXe(n){return Ua.__awaiter(this,void 0,void 0,function*(){let e=yield n.peek(n1.magicLength+7&~7);return e&&e.byteLength>=4?(0,n1.checkForMagicArrowString)(e)?new GB(new qee(yield n.read())):new L8(new WF(n)):new L8(new WF(function(){return Ua.__asyncGenerator(this,arguments,function*(){})}()))})}function JXe(n){return Ua.__awaiter(this,void 0,void 0,function*(){let{size:e}=yield n.stat(),t=new HF.AsyncRandomAccessFile(n,e);return e>=n1.magicX2AndPadding&&(0,n1.checkForMagicArrowString)(yield t.readAt(0,n1.magicLength+7&~7))?new Bee(new l5e(t)):new L8(new WF(t))})}});var y5e=Ae(YB=>{"use strict";m();Object.defineProperty(YB,"__esModule",{value:!0});YB.VectorAssembler=void 0;var XXe=yd(),ZXe=gd(),p5e=kl(),eZe=O5(),Uee=Qf(),$ee=V_(),m5e=u6(),x5e=su(),bc=class extends ZXe.Visitor{constructor(){super();this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...e){let t=i=>i.flatMap(s=>Array.isArray(s)?t(s):s instanceof eZe.RecordBatch?s.data.children:s.data),r=new bc;return r.visitMany(t(e)),r}visit(e){if(e instanceof XXe.Vector)return this.visitMany(e.data),this;let{type:t}=e;if(!x5e.DataType.isDictionary(t)){let{length:r,nullCount:i}=e;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");x5e.DataType.isNull(t)||_m.call(this,i<=0?new Uint8Array(0):(0,$ee.truncateBitmap)(e.offset,r,e.nullBitmap)),this.nodes.push(new m5e.FieldNode(r,i))}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}};YB.VectorAssembler=bc;function _m(n){let e=n.byteLength+7&~7;return this.buffers.push(n),this.bufferRegions.push(new m5e.BufferRegion(this._byteLength,e)),this._byteLength+=e,this}function tZe(n){let{type:e,length:t,typeIds:r,valueOffsets:i}=n;if(_m.call(this,r),e.mode===p5e.UnionMode.Sparse)return Hee.call(this,n);if(e.mode===p5e.UnionMode.Dense){if(n.offset<=0)return _m.call(this,i),Hee.call(this,n);{let s=r.reduce((p,_)=>Math.max(p,_),r[0]),o=new Int32Array(s+1),a=new Int32Array(s+1).fill(-1),l=new Int32Array(t),f=(0,Uee.rebaseValueOffsets)(-i[0],t,i);for(let p,_,E=-1;++E<t;)(_=a[p=r[E]])===-1&&(_=a[p]=f[p]),l[E]=f[E]-_,++o[p];_m.call(this,l);for(let p,_=-1,E=e.children.length;++_<E;)if(p=n.children[_]){let O=e.typeIds[_],R=Math.min(t,o[O]);this.visit(p.slice(a[O],R))}}}return this}function nZe(n){let e;return n.nullCount>=n.length?_m.call(this,new Uint8Array(0)):(e=n.values)instanceof Uint8Array?_m.call(this,(0,$ee.truncateBitmap)(n.offset,n.length,e)):_m.call(this,(0,$ee.packBools)(n.values))}function j5(n){return _m.call(this,n.values.subarray(0,n.length*n.stride))}function g5e(n){let{length:e,values:t,valueOffsets:r}=n,i=r[0],s=r[e],o=Math.min(s-i,t.byteLength-i);return _m.call(this,(0,Uee.rebaseValueOffsets)(-r[0],e,r)),_m.call(this,t.subarray(i,i+o)),this}function zee(n){let{length:e,valueOffsets:t}=n;return t&&_m.call(this,(0,Uee.rebaseValueOffsets)(t[0],e,t)),this.visit(n.children[0])}function Hee(n){return this.visitMany(n.type.children.map((e,t)=>n.children[t]).filter(Boolean))[0]}bc.prototype.visitBool=nZe;bc.prototype.visitInt=j5;bc.prototype.visitFloat=j5;bc.prototype.visitUtf8=g5e;bc.prototype.visitBinary=g5e;bc.prototype.visitFixedSizeBinary=j5;bc.prototype.visitDate=j5;bc.prototype.visitTimestamp=j5;bc.prototype.visitTime=j5;bc.prototype.visitDecimal=j5;bc.prototype.visitList=zee;bc.prototype.visitStruct=Hee;bc.prototype.visitUnion=tZe;bc.prototype.visitInterval=j5;bc.prototype.visitFixedSizeList=zee;bc.prototype.visitMap=zee});var _5e=Ae(KB=>{"use strict";m();Object.defineProperty(KB,"__esModule",{value:!0});KB.JSONTypeAssembler=void 0;var rZe=gd(),Gf=h8(),k8=kl(),v5e=class extends rZe.Visitor{visit(e){return e==null?void 0:super.visit(e)}visitNull({typeId:e}){return{name:Gf.Type[e].toLowerCase()}}visitInt({typeId:e,bitWidth:t,isSigned:r}){return{name:Gf.Type[e].toLowerCase(),bitWidth:t,isSigned:r}}visitFloat({typeId:e,precision:t}){return{name:Gf.Type[e].toLowerCase(),precision:k8.Precision[t]}}visitBinary({typeId:e}){return{name:Gf.Type[e].toLowerCase()}}visitBool({typeId:e}){return{name:Gf.Type[e].toLowerCase()}}visitUtf8({typeId:e}){return{name:Gf.Type[e].toLowerCase()}}visitDecimal({typeId:e,scale:t,precision:r,bitWidth:i}){return{name:Gf.Type[e].toLowerCase(),scale:t,precision:r,bitWidth:i}}visitDate({typeId:e,unit:t}){return{name:Gf.Type[e].toLowerCase(),unit:k8.DateUnit[t]}}visitTime({typeId:e,unit:t,bitWidth:r}){return{name:Gf.Type[e].toLowerCase(),unit:k8.TimeUnit[t],bitWidth:r}}visitTimestamp({typeId:e,timezone:t,unit:r}){return{name:Gf.Type[e].toLowerCase(),unit:k8.TimeUnit[r],timezone:t}}visitInterval({typeId:e,unit:t}){return{name:Gf.Type[e].toLowerCase(),unit:k8.IntervalUnit[t]}}visitList({typeId:e}){return{name:Gf.Type[e].toLowerCase()}}visitStruct({typeId:e}){return{name:Gf.Type[e].toLowerCase()}}visitUnion({typeId:e,mode:t,typeIds:r}){return{name:Gf.Type[e].toLowerCase(),mode:k8.UnionMode[t],typeIds:[...r]}}visitDictionary(e){return this.visit(e.dictionary)}visitFixedSizeBinary({typeId:e,byteWidth:t}){return{name:Gf.Type[e].toLowerCase(),byteWidth:t}}visitFixedSizeList({typeId:e,listSize:t}){return{name:Gf.Type[e].toLowerCase(),listSize:t}}visitMap({typeId:e,keysSorted:t}){return{name:Gf.Type[e].toLowerCase(),keysSorted:t}}};KB.JSONTypeAssembler=v5e});var S5e=Ae(ZB=>{"use strict";m();Object.defineProperty(ZB,"__esModule",{value:!0});ZB.JSONVectorAssembler=void 0;var iZe=qM(),Vee=yd(),sZe=gd(),oZe=kl(),Wee=kl(),JB=V_(),b5e=su(),XB=class extends sZe.Visitor{static assemble(...e){let t=new XB;return e.map(({schema:r,data:i})=>t.visitMany(r.fields,i.children))}visit({name:e},t){let{length:r}=t,{offset:i,nullCount:s,nullBitmap:o}=t,a=b5e.DataType.isDictionary(t.type)?t.type.indices:t.type,l=Object.assign([],t.buffers,{[oZe.BufferType.VALIDITY]:void 0});return Object.assign({name:e,count:r,VALIDITY:b5e.DataType.isNull(a)?void 0:s<=0?Array.from({length:r},()=>1):[...new JB.BitIterator(o,i,r,null,JB.getBit)]},super.visit(t.clone(a,i,r,0,l)))}visitNull(){return{}}visitBool({values:e,offset:t,length:r}){return{DATA:[...new JB.BitIterator(e,t,r,null,JB.getBool)]}}visitInt(e){return{DATA:e.type.bitWidth<64?[...e.values]:[...GF(e.values,2)]}}visitFloat(e){return{DATA:[...e.values]}}visitUtf8(e){return{DATA:[...new Vee.Vector([e])],OFFSET:[...e.valueOffsets]}}visitBinary(e){return{DATA:[...E5e(new Vee.Vector([e]))],OFFSET:[...e.valueOffsets]}}visitFixedSizeBinary(e){return{DATA:[...E5e(new Vee.Vector([e]))]}}visitDate(e){return{DATA:e.type.unit===Wee.DateUnit.DAY?[...e.values]:[...GF(e.values,2)]}}visitTimestamp(e){return{DATA:[...GF(e.values,2)]}}visitTime(e){return{DATA:e.type.unit<Wee.TimeUnit.MICROSECOND?[...e.values]:[...GF(e.values,2)]}}visitDecimal(e){return{DATA:[...GF(e.values,4)]}}visitList(e){return{OFFSET:[...e.valueOffsets],children:this.visitMany(e.type.children,e.children)}}visitStruct(e){return{children:this.visitMany(e.type.children,e.children)}}visitUnion(e){return{TYPE:[...e.typeIds],OFFSET:e.type.mode===Wee.UnionMode.Dense?[...e.valueOffsets]:void 0,children:this.visitMany(e.type.children,e.children)}}visitInterval(e){return{DATA:[...e.values]}}visitFixedSizeList(e){return{children:this.visitMany(e.type.children,e.children)}}visitMap(e){return{OFFSET:[...e.valueOffsets],children:this.visitMany(e.type.children,e.children)}}};ZB.JSONVectorAssembler=XB;function*E5e(n){for(let e of n)yield e.reduce((t,r)=>`${t}${("0"+(r&255).toString(16)).slice(-2)}`,"").toUpperCase()}function*GF(n,e){let t=new Uint32Array(n.buffer);for(let r=-1,i=t.length/e;++r<i;)yield`${iZe.BN.new(t.subarray((r+0)*e,(r+1)*e),!1)}`}});var sj=Ae(H2=>{"use strict";m();Object.defineProperty(H2,"__esModule",{value:!0});H2.RecordBatchJSONWriter=H2.RecordBatchFileWriter=H2.RecordBatchStreamWriter=H2.RecordBatchWriter=void 0;var Qee=hs(),Gee=w8(),aZe=WB(),uZe=yd(),lZe=su(),ej=u6(),Yee=Qee.__importStar(u6()),I8=bZ(),Kee=kl(),w5e=DF(),Jee=C5(),C5e=y5e(),cZe=_5e(),A5e=S5e(),fZe=Qf(),tj=O5(),dZe=xF(),z2=S2(),YF=class extends dZe.ReadableInterop{constructor(e){super();this._position=0,this._started=!1,this._sink=new Jee.AsyncByteQueue,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(0,z2.isObject)(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return(0,z2.isPromise)(e)?e.then(t=>this.writeAll(t)):(0,z2.isAsyncIterable)(e)?Zee(this,e):Xee(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,t=null){return e===this._sink||e instanceof Jee.AsyncByteQueue?this._sink=e:(this._sink=new Jee.AsyncByteQueue,e&&(0,z2.isWritableDOMStream)(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&(0,z2.isWritableNodeStream)(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!t||!(0,w5e.compareSchemas)(t,this._schema))&&(t==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=t,this._writeSchema(t))),this}write(e){let t=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof Gee.Table&&!(t=e.schema))return this.finish()&&void 0;if(e instanceof tj.RecordBatch&&!(t=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(t&&!(0,w5e.compareSchemas)(t,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,t)}e instanceof tj.RecordBatch?e instanceof tj._InternalEmptyPlaceholderRecordBatch||this._writeRecordBatch(e):e instanceof Gee.Table?this.writeAll(e.batches):(0,z2.isIterable)(e)&&this.writeAll(e)}_writeMessage(e,t=8){let r=t-1,i=ej.Message.encode(e),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,l=a-s-o;return e.headerType===Kee.MessageHeader.RecordBatch?this._recordBatchBlocks.push(new I8.FileBlock(a,e.bodyLength,this._position)):e.headerType===Kee.MessageHeader.DictionaryBatch&&this._dictionaryBlocks.push(new I8.FileBlock(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(l)}_write(e){if(this._started){let t=(0,fZe.toUint8Array)(e);t&&t.byteLength>0&&(this._sink.write(t),this._position+=t.byteLength)}return this}_writeSchema(e){return this._writeMessage(ej.Message.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(aZe.MAGIC)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){let{byteLength:t,nodes:r,bufferRegions:i,buffers:s}=C5e.VectorAssembler.assemble(e),o=new Yee.RecordBatch(e.numRows,r,i),a=ej.Message.from(o,t);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(e,t,r=!1){this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0));let{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=C5e.VectorAssembler.assemble(new uZe.Vector([e])),l=new Yee.RecordBatch(e.length,s,o),f=new Yee.DictionaryBatch(l,t,r),p=ej.Message.from(f,i);return this._writeMessage(p)._writeBodyBuffers(a)}_writeBodyBuffers(e){let t,r,i;for(let s=-1,o=e.length;++s<o;)(t=e[s])&&(r=t.byteLength)>0&&(this._write(t),(i=(r+7&~7)-r)>0&&this._writePadding(i));return this}_writeDictionaries(e){for(let[t,r]of e.dictionaries){let i=this._dictionaryDeltaOffsets.get(t)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(let s of r.data)this._writeDictionaryBatch(s,t,i>0),i+=s.length}return this}};H2.RecordBatchWriter=YF;var nj=class extends YF{static writeAll(e,t){let r=new nj(t);return(0,z2.isPromise)(e)?e.then(i=>r.writeAll(i)):(0,z2.isAsyncIterable)(e)?Zee(r,e):Xee(r,e)}};H2.RecordBatchStreamWriter=nj;var rj=class extends YF{static writeAll(e){let t=new rj;return(0,z2.isPromise)(e)?e.then(r=>t.writeAll(r)):(0,z2.isAsyncIterable)(e)?Zee(t,e):Xee(t,e)}constructor(){super();this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){let t=I8.Footer.encode(new I8.Footer(e,Kee.MetadataVersion.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(t)._write(Int32Array.of(t.byteLength))._writeMagic()}};H2.RecordBatchFileWriter=rj;var ij=class extends YF{constructor(){super();this._autoDestroy=!0,this._recordBatches=[],this._dictionaries=[]}static writeAll(e){return new ij().writeAll(e)}_writeMessage(){return this}_writeFooter(e){return this}_writeSchema(e){return this._write(`{
  "schema": ${JSON.stringify({fields:e.fields.map(t=>T5e(t))},null,2)}`)}_writeDictionaries(e){return e.dictionaries.size>0&&this._dictionaries.push(e),this}_writeDictionaryBatch(e,t,r=!1){return this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0)),this._write(this._dictionaryBlocks.length===0?"    ":`,
    `),this._write(`${hZe(e,t,r)}`),this._dictionaryBlocks.push(new I8.FileBlock(0,0,0)),this}_writeRecordBatch(e){return this._writeDictionaries(e),this._recordBatches.push(e),this}close(){if(this._dictionaries.length>0){this._write(`,
  "dictionaries": [
`);for(let e of this._dictionaries)super._writeDictionaries(e);this._write(`
  ]`)}if(this._recordBatches.length>0){for(let e=-1,t=this._recordBatches.length;++e<t;)this._write(e===0?`,
  "batches": [
    `:`,
    `),this._write(`${pZe(this._recordBatches[e])}`),this._recordBatchBlocks.push(new I8.FileBlock(0,0,0));this._write(`
  ]`)}return this._schema&&this._write(`
}`),this._dictionaries=[],this._recordBatches=[],super.close()}};H2.RecordBatchJSONWriter=ij;function Xee(n,e){let t=e;e instanceof Gee.Table&&(t=e.batches,n.reset(void 0,e.schema));for(let r of t)n.write(r);return n.finish()}function Zee(n,e){var t,r,i,s;return Qee.__awaiter(this,void 0,void 0,function*(){try{for(t=Qee.__asyncValues(e);r=yield t.next(),!r.done;){let o=r.value;n.write(o)}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}return n.finish()})}function T5e({name:n,type:e,nullable:t}){let r=new cZe.JSONTypeAssembler;return{name:n,nullable:t,type:r.visit(e),children:(e.children||[]).map(i=>T5e(i)),dictionary:lZe.DataType.isDictionary(e)?{id:e.id,isOrdered:e.isOrdered,indexType:r.visit(e.indices)}:void 0}}function hZe(n,e,t=!1){let[r]=A5e.JSONVectorAssembler.assemble(new tj.RecordBatch({[e]:n}));return JSON.stringify({id:e,isDelta:t,data:{count:n.length,columns:r}},null,2)}function pZe(n){let[e]=A5e.JSONVectorAssembler.assemble(n);return JSON.stringify({count:n.numRows,columns:e},null,2)}});var O5e=Ae(aj=>{"use strict";m();Object.defineProperty(aj,"__esModule",{value:!0});aj.toDOMStream=void 0;var oj=hs(),F5e=Qf(),D5e=S2();function mZe(n,e){if((0,D5e.isAsyncIterable)(n))return gZe(n,e);if((0,D5e.isIterable)(n))return xZe(n,e);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")}aj.toDOMStream=mZe;function xZe(n,e){let t=null,r=(e==null?void 0:e.type)==="bytes"||!1,i=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(o){s(o,t||(t=n[Symbol.iterator]()))},pull(o){t?s(o,t):o.close()},cancel(){((t==null?void 0:t.return)&&t.return()||!0)&&(t=null)}}),Object.assign({highWaterMark:r?i:void 0},e));function s(o,a){let l,f=null,p=o.desiredSize||null;for(;!(f=a.next(r?p:null)).done;)if(ArrayBuffer.isView(f.value)&&(l=(0,F5e.toUint8Array)(f.value))&&(p!=null&&r&&(p=p-l.byteLength+1),f.value=l),o.enqueue(f.value),p!=null&&--p<=0)return;o.close()}}function gZe(n,e){let t=null,r=(e==null?void 0:e.type)==="bytes"||!1,i=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(o){return oj.__awaiter(this,void 0,void 0,function*(){yield s(o,t||(t=n[Symbol.asyncIterator]()))})},pull(o){return oj.__awaiter(this,void 0,void 0,function*(){t?yield s(o,t):o.close()})},cancel(){return oj.__awaiter(this,void 0,void 0,function*(){((t==null?void 0:t.return)&&(yield t.return())||!0)&&(t=null)})}}),Object.assign({highWaterMark:r?i:void 0},e));function s(o,a){return oj.__awaiter(this,void 0,void 0,function*(){let l,f=null,p=o.desiredSize||null;for(;!(f=yield a.next(r?p:null)).done;)if(ArrayBuffer.isView(f.value)&&(l=(0,F5e.toUint8Array)(f.value))&&(p!=null&&r&&(p=p-l.byteLength+1),f.value=l),o.enqueue(f.value),p!=null&&--p<=0)return;o.close()})}}});var L5e=Ae(M8=>{"use strict";m();Object.defineProperty(M8,"__esModule",{value:!0});M8.BuilderTransform=M8.builderThroughDOMStream=void 0;var yZe=hs(),vZe=vF();function _Ze(n){return new ete(n)}M8.builderThroughDOMStream=_Ze;var ete=class{constructor(e){this._numChunks=0,this._finished=!1,this._bufferedSize=0;let{["readableStrategy"]:t,["writableStrategy"]:r,["queueingStrategy"]:i="count"}=e,s=yZe.__rest(e,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=(0,vZe.makeBuilder)(s),this._getSize=i!=="bytes"?R5e:N5e;let{["highWaterMark"]:o=i==="bytes"?Math.pow(2,14):1e3}=Object.assign({},t),{["highWaterMark"]:a=i==="bytes"?Math.pow(2,14):1e3}=Object.assign({},r);this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:l=>{this._maybeFlush(this._builder,this._controller=l)},start:l=>{this._maybeFlush(this._builder,this._controller=l)}},{highWaterMark:o,size:i!=="bytes"?R5e:N5e}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:a,size:l=>this._writeValueAndReturnChunkSize(l)})}_writeValueAndReturnChunkSize(e){let t=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(e)),this._bufferedSize-t}_maybeFlush(e,t){t!=null&&(this._bufferedSize>=t.desiredSize&&++this._numChunks&&this._enqueue(t,e.toVector()),e.finished&&((e.length>0||this._numChunks===0)&&++this._numChunks&&this._enqueue(t,e.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(t,null)))}_enqueue(e,t){this._bufferedSize=0,this._controller=null,t==null?e.close():e.enqueue(t)}};M8.BuilderTransform=ete;var R5e=n=>{var e;return(e=n==null?void 0:n.length)!==null&&e!==void 0?e:0},N5e=n=>{var e;return(e=n==null?void 0:n.byteLength)!==null&&e!==void 0?e:0}});var k5e=Ae(uj=>{"use strict";m();Object.defineProperty(uj,"__esModule",{value:!0});uj.recordBatchReaderThroughDOMStream=void 0;var KF=hs(),bZe=C5(),EZe=QF();function SZe(n,e){let t=new bZe.AsyncByteQueue,r=null,i=new ReadableStream({cancel(){return KF.__awaiter(this,void 0,void 0,function*(){yield t.close()})},start(a){return KF.__awaiter(this,void 0,void 0,function*(){yield o(a,r||(r=yield s()))})},pull(a){return KF.__awaiter(this,void 0,void 0,function*(){r?yield o(a,r):a.close()})}});return{writable:new WritableStream(t,Object.assign({highWaterMark:Math.pow(2,14)},n)),readable:i};function s(){return KF.__awaiter(this,void 0,void 0,function*(){return yield(yield EZe.RecordBatchReader.from(t)).open(e)})}function o(a,l){return KF.__awaiter(this,void 0,void 0,function*(){let f=a.desiredSize,p=null;for(;!(p=yield l.next()).done;)if(a.enqueue(p.value),f!=null&&--f<=0)return;a.close()})}}uj.recordBatchReaderThroughDOMStream=SZe});var I5e=Ae(cj=>{"use strict";m();Object.defineProperty(cj,"__esModule",{value:!0});cj.recordBatchWriterThroughDOMStream=void 0;var lj=hs(),wZe=C5();function CZe(n,e){let t=new this(n),r=new wZe.AsyncByteStream(t),i=new ReadableStream({cancel(){return lj.__awaiter(this,void 0,void 0,function*(){yield r.cancel()})},pull(o){return lj.__awaiter(this,void 0,void 0,function*(){yield s(o)})},start(o){return lj.__awaiter(this,void 0,void 0,function*(){yield s(o)})}},Object.assign({highWaterMark:Math.pow(2,14)},e));return{writable:new WritableStream(t,n),readable:i};function s(o){return lj.__awaiter(this,void 0,void 0,function*(){let a=null,l=o.desiredSize;for(;a=yield r.read(l||null);)if(o.enqueue(a),l!=null&&(l-=a.byteLength)<=0)return;o.close()})}}cj.recordBatchWriterThroughDOMStream=CZe});var j5e=Ae(P8=>{"use strict";m();Object.defineProperty(P8,"__esModule",{value:!0});P8.tableToIPC=P8.tableFromIPC=void 0;var M5e=w8(),AZe=S2(),TZe=QF(),P5e=sj();function B5e(n){let e=TZe.RecordBatchReader.from(n);return(0,AZe.isPromise)(e)?e.then(t=>B5e(t)):e.isAsync()?e.readAll().then(t=>new M5e.Table(t)):new M5e.Table(e.readAll())}P8.tableFromIPC=B5e;function FZe(n,e="stream"){return(e==="stream"?P5e.RecordBatchStreamWriter:P5e.RecordBatchFileWriter).writeAll(n).toUint8Array(!0)}P8.tableToIPC=FZe});var ute=Ae(ln=>{"use strict";m();Object.defineProperty(ln,"__esModule",{value:!0});ln.Dictionary=ln.SparseUnion=ln.DenseUnion=ln.Union=ln.Struct=ln.List=ln.Decimal=ln.TimeNanosecond=ln.TimeMicrosecond=ln.TimeMillisecond=ln.TimeSecond=ln.Time=ln.TimestampNanosecond=ln.TimestampMicrosecond=ln.TimestampMillisecond=ln.TimestampSecond=ln.Timestamp=ln.DateMillisecond=ln.DateDay=ln.Date_=ln.FixedSizeBinary=ln.Binary=ln.Utf8=ln.Float64=ln.Float32=ln.Float16=ln.Float=ln.Uint64=ln.Uint32=ln.Uint16=ln.Uint8=ln.Int64=ln.Int32=ln.Int16=ln.Int8=ln.Int=ln.Bool=ln.Null=ln.DataType=ln.makeData=ln.Data=ln.MetadataVersion=ln.IntervalUnit=ln.UnionMode=ln.Precision=ln.TimeUnit=ln.DateUnit=ln.BufferType=ln.Type=ln.MessageHeader=void 0;ln.TimestampMillisecondBuilder=ln.TimestampSecondBuilder=ln.TimestampBuilder=ln.TimeNanosecondBuilder=ln.TimeMicrosecondBuilder=ln.TimeMillisecondBuilder=ln.TimeSecondBuilder=ln.TimeBuilder=ln.Uint64Builder=ln.Uint32Builder=ln.Uint16Builder=ln.Uint8Builder=ln.Int64Builder=ln.Int32Builder=ln.Int16Builder=ln.Int8Builder=ln.IntBuilder=ln.Float64Builder=ln.Float32Builder=ln.Float16Builder=ln.FloatBuilder=ln.FixedSizeBinaryBuilder=ln.DictionaryBuilder=ln.DecimalBuilder=ln.DateMillisecondBuilder=ln.DateDayBuilder=ln.DateBuilder=ln.NullBuilder=ln.BoolBuilder=ln.builderThroughAsyncIterable=ln.builderThroughIterable=ln.tableFromJSON=ln.vectorFromArray=ln.makeBuilder=ln.Builder=ln.StructRow=ln.MapRow=ln.Field=ln.Schema=ln.Visitor=ln.makeVector=ln.Vector=ln.tableFromArrays=ln.makeTable=ln.Table=ln.Map_=ln.FixedSizeList=ln.IntervalYearMonth=ln.IntervalDayTime=ln.Interval=void 0;ln.util=ln.RecordBatch=ln.Message=ln.JSONMessageReader=ln.AsyncMessageReader=ln.MessageReader=ln.tableFromIPC=ln.tableToIPC=ln.RecordBatchJSONWriter=ln.RecordBatchStreamWriter=ln.RecordBatchFileWriter=ln.RecordBatchWriter=ln.AsyncRecordBatchStreamReader=ln.AsyncRecordBatchFileReader=ln.RecordBatchStreamReader=ln.RecordBatchFileReader=ln.RecordBatchReader=ln.AsyncByteQueue=ln.AsyncByteStream=ln.ByteStream=ln.DenseUnionBuilder=ln.SparseUnionBuilder=ln.UnionBuilder=ln.StructBuilder=ln.MapBuilder=ln.FixedSizeListBuilder=ln.ListBuilder=ln.BinaryBuilder=ln.Utf8Builder=ln.IntervalYearMonthBuilder=ln.IntervalDayTimeBuilder=ln.IntervalBuilder=ln.TimestampNanosecondBuilder=ln.TimestampMicrosecondBuilder=void 0;var B8=hs(),DZe=wee();Object.defineProperty(ln,"MessageHeader",{enumerable:!0,get:function(){return DZe.MessageHeader}});var q5=kl();Object.defineProperty(ln,"Type",{enumerable:!0,get:function(){return q5.Type}});Object.defineProperty(ln,"BufferType",{enumerable:!0,get:function(){return q5.BufferType}});Object.defineProperty(ln,"DateUnit",{enumerable:!0,get:function(){return q5.DateUnit}});Object.defineProperty(ln,"TimeUnit",{enumerable:!0,get:function(){return q5.TimeUnit}});Object.defineProperty(ln,"Precision",{enumerable:!0,get:function(){return q5.Precision}});Object.defineProperty(ln,"UnionMode",{enumerable:!0,get:function(){return q5.UnionMode}});Object.defineProperty(ln,"IntervalUnit",{enumerable:!0,get:function(){return q5.IntervalUnit}});Object.defineProperty(ln,"MetadataVersion",{enumerable:!0,get:function(){return q5.MetadataVersion}});var q5e=C2();Object.defineProperty(ln,"Data",{enumerable:!0,get:function(){return q5e.Data}});Object.defineProperty(ln,"makeData",{enumerable:!0,get:function(){return q5e.makeData}});var to=su();Object.defineProperty(ln,"DataType",{enumerable:!0,get:function(){return to.DataType}});Object.defineProperty(ln,"Null",{enumerable:!0,get:function(){return to.Null}});Object.defineProperty(ln,"Bool",{enumerable:!0,get:function(){return to.Bool}});Object.defineProperty(ln,"Int",{enumerable:!0,get:function(){return to.Int}});Object.defineProperty(ln,"Int8",{enumerable:!0,get:function(){return to.Int8}});Object.defineProperty(ln,"Int16",{enumerable:!0,get:function(){return to.Int16}});Object.defineProperty(ln,"Int32",{enumerable:!0,get:function(){return to.Int32}});Object.defineProperty(ln,"Int64",{enumerable:!0,get:function(){return to.Int64}});Object.defineProperty(ln,"Uint8",{enumerable:!0,get:function(){return to.Uint8}});Object.defineProperty(ln,"Uint16",{enumerable:!0,get:function(){return to.Uint16}});Object.defineProperty(ln,"Uint32",{enumerable:!0,get:function(){return to.Uint32}});Object.defineProperty(ln,"Uint64",{enumerable:!0,get:function(){return to.Uint64}});Object.defineProperty(ln,"Float",{enumerable:!0,get:function(){return to.Float}});Object.defineProperty(ln,"Float16",{enumerable:!0,get:function(){return to.Float16}});Object.defineProperty(ln,"Float32",{enumerable:!0,get:function(){return to.Float32}});Object.defineProperty(ln,"Float64",{enumerable:!0,get:function(){return to.Float64}});Object.defineProperty(ln,"Utf8",{enumerable:!0,get:function(){return to.Utf8}});Object.defineProperty(ln,"Binary",{enumerable:!0,get:function(){return to.Binary}});Object.defineProperty(ln,"FixedSizeBinary",{enumerable:!0,get:function(){return to.FixedSizeBinary}});Object.defineProperty(ln,"Date_",{enumerable:!0,get:function(){return to.Date_}});Object.defineProperty(ln,"DateDay",{enumerable:!0,get:function(){return to.DateDay}});Object.defineProperty(ln,"DateMillisecond",{enumerable:!0,get:function(){return to.DateMillisecond}});Object.defineProperty(ln,"Timestamp",{enumerable:!0,get:function(){return to.Timestamp}});Object.defineProperty(ln,"TimestampSecond",{enumerable:!0,get:function(){return to.TimestampSecond}});Object.defineProperty(ln,"TimestampMillisecond",{enumerable:!0,get:function(){return to.TimestampMillisecond}});Object.defineProperty(ln,"TimestampMicrosecond",{enumerable:!0,get:function(){return to.TimestampMicrosecond}});Object.defineProperty(ln,"TimestampNanosecond",{enumerable:!0,get:function(){return to.TimestampNanosecond}});Object.defineProperty(ln,"Time",{enumerable:!0,get:function(){return to.Time}});Object.defineProperty(ln,"TimeSecond",{enumerable:!0,get:function(){return to.TimeSecond}});Object.defineProperty(ln,"TimeMillisecond",{enumerable:!0,get:function(){return to.TimeMillisecond}});Object.defineProperty(ln,"TimeMicrosecond",{enumerable:!0,get:function(){return to.TimeMicrosecond}});Object.defineProperty(ln,"TimeNanosecond",{enumerable:!0,get:function(){return to.TimeNanosecond}});Object.defineProperty(ln,"Decimal",{enumerable:!0,get:function(){return to.Decimal}});Object.defineProperty(ln,"List",{enumerable:!0,get:function(){return to.List}});Object.defineProperty(ln,"Struct",{enumerable:!0,get:function(){return to.Struct}});Object.defineProperty(ln,"Union",{enumerable:!0,get:function(){return to.Union}});Object.defineProperty(ln,"DenseUnion",{enumerable:!0,get:function(){return to.DenseUnion}});Object.defineProperty(ln,"SparseUnion",{enumerable:!0,get:function(){return to.SparseUnion}});Object.defineProperty(ln,"Dictionary",{enumerable:!0,get:function(){return to.Dictionary}});Object.defineProperty(ln,"Interval",{enumerable:!0,get:function(){return to.Interval}});Object.defineProperty(ln,"IntervalDayTime",{enumerable:!0,get:function(){return to.IntervalDayTime}});Object.defineProperty(ln,"IntervalYearMonth",{enumerable:!0,get:function(){return to.IntervalYearMonth}});Object.defineProperty(ln,"FixedSizeList",{enumerable:!0,get:function(){return to.FixedSizeList}});Object.defineProperty(ln,"Map_",{enumerable:!0,get:function(){return to.Map_}});var tte=w8();Object.defineProperty(ln,"Table",{enumerable:!0,get:function(){return tte.Table}});Object.defineProperty(ln,"makeTable",{enumerable:!0,get:function(){return tte.makeTable}});Object.defineProperty(ln,"tableFromArrays",{enumerable:!0,get:function(){return tte.tableFromArrays}});var U5e=yd();Object.defineProperty(ln,"Vector",{enumerable:!0,get:function(){return U5e.Vector}});Object.defineProperty(ln,"makeVector",{enumerable:!0,get:function(){return U5e.makeVector}});var OZe=gd();Object.defineProperty(ln,"Visitor",{enumerable:!0,get:function(){return OZe.Visitor}});var $5e=ch();Object.defineProperty(ln,"Schema",{enumerable:!0,get:function(){return $5e.Schema}});Object.defineProperty(ln,"Field",{enumerable:!0,get:function(){return $5e.Field}});var RZe=tF();Object.defineProperty(ln,"MapRow",{enumerable:!0,get:function(){return RZe.MapRow}});var NZe=eP();Object.defineProperty(ln,"StructRow",{enumerable:!0,get:function(){return NZe.StructRow}});var LZe=Kl();Object.defineProperty(ln,"Builder",{enumerable:!0,get:function(){return LZe.Builder}});var JF=vF();Object.defineProperty(ln,"makeBuilder",{enumerable:!0,get:function(){return JF.makeBuilder}});Object.defineProperty(ln,"vectorFromArray",{enumerable:!0,get:function(){return JF.vectorFromArray}});Object.defineProperty(ln,"tableFromJSON",{enumerable:!0,get:function(){return JF.tableFromJSON}});Object.defineProperty(ln,"builderThroughIterable",{enumerable:!0,get:function(){return JF.builderThroughIterable}});Object.defineProperty(ln,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return JF.builderThroughAsyncIterable}});var kZe=DZ();Object.defineProperty(ln,"BoolBuilder",{enumerable:!0,get:function(){return kZe.BoolBuilder}});var IZe=GZ();Object.defineProperty(ln,"NullBuilder",{enumerable:!0,get:function(){return IZe.NullBuilder}});var nte=LZ();Object.defineProperty(ln,"DateBuilder",{enumerable:!0,get:function(){return nte.DateBuilder}});Object.defineProperty(ln,"DateDayBuilder",{enumerable:!0,get:function(){return nte.DateDayBuilder}});Object.defineProperty(ln,"DateMillisecondBuilder",{enumerable:!0,get:function(){return nte.DateMillisecondBuilder}});var MZe=IZ();Object.defineProperty(ln,"DecimalBuilder",{enumerable:!0,get:function(){return MZe.DecimalBuilder}});var PZe=MZ();Object.defineProperty(ln,"DictionaryBuilder",{enumerable:!0,get:function(){return PZe.DictionaryBuilder}});var BZe=BZ();Object.defineProperty(ln,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return BZe.FixedSizeBinaryBuilder}});var fj=qZ();Object.defineProperty(ln,"FloatBuilder",{enumerable:!0,get:function(){return fj.FloatBuilder}});Object.defineProperty(ln,"Float16Builder",{enumerable:!0,get:function(){return fj.Float16Builder}});Object.defineProperty(ln,"Float32Builder",{enumerable:!0,get:function(){return fj.Float32Builder}});Object.defineProperty(ln,"Float64Builder",{enumerable:!0,get:function(){return fj.Float64Builder}});var Gg=VZ();Object.defineProperty(ln,"IntBuilder",{enumerable:!0,get:function(){return Gg.IntBuilder}});Object.defineProperty(ln,"Int8Builder",{enumerable:!0,get:function(){return Gg.Int8Builder}});Object.defineProperty(ln,"Int16Builder",{enumerable:!0,get:function(){return Gg.Int16Builder}});Object.defineProperty(ln,"Int32Builder",{enumerable:!0,get:function(){return Gg.Int32Builder}});Object.defineProperty(ln,"Int64Builder",{enumerable:!0,get:function(){return Gg.Int64Builder}});Object.defineProperty(ln,"Uint8Builder",{enumerable:!0,get:function(){return Gg.Uint8Builder}});Object.defineProperty(ln,"Uint16Builder",{enumerable:!0,get:function(){return Gg.Uint16Builder}});Object.defineProperty(ln,"Uint32Builder",{enumerable:!0,get:function(){return Gg.Uint32Builder}});Object.defineProperty(ln,"Uint64Builder",{enumerable:!0,get:function(){return Gg.Uint64Builder}});var XF=see();Object.defineProperty(ln,"TimeBuilder",{enumerable:!0,get:function(){return XF.TimeBuilder}});Object.defineProperty(ln,"TimeSecondBuilder",{enumerable:!0,get:function(){return XF.TimeSecondBuilder}});Object.defineProperty(ln,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return XF.TimeMillisecondBuilder}});Object.defineProperty(ln,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return XF.TimeMicrosecondBuilder}});Object.defineProperty(ln,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return XF.TimeNanosecondBuilder}});var ZF=eee();Object.defineProperty(ln,"TimestampBuilder",{enumerable:!0,get:function(){return ZF.TimestampBuilder}});Object.defineProperty(ln,"TimestampSecondBuilder",{enumerable:!0,get:function(){return ZF.TimestampSecondBuilder}});Object.defineProperty(ln,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return ZF.TimestampMillisecondBuilder}});Object.defineProperty(ln,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return ZF.TimestampMicrosecondBuilder}});Object.defineProperty(ln,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return ZF.TimestampNanosecondBuilder}});var rte=HZ();Object.defineProperty(ln,"IntervalBuilder",{enumerable:!0,get:function(){return rte.IntervalBuilder}});Object.defineProperty(ln,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return rte.IntervalDayTimeBuilder}});Object.defineProperty(ln,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return rte.IntervalYearMonthBuilder}});var jZe=uee();Object.defineProperty(ln,"Utf8Builder",{enumerable:!0,get:function(){return jZe.Utf8Builder}});var qZe=oB();Object.defineProperty(ln,"BinaryBuilder",{enumerable:!0,get:function(){return qZe.BinaryBuilder}});var UZe=WZ();Object.defineProperty(ln,"ListBuilder",{enumerable:!0,get:function(){return UZe.ListBuilder}});var $Ze=jZ();Object.defineProperty(ln,"FixedSizeListBuilder",{enumerable:!0,get:function(){return $Ze.FixedSizeListBuilder}});var zZe=QZ();Object.defineProperty(ln,"MapBuilder",{enumerable:!0,get:function(){return zZe.MapBuilder}});var HZe=YZ();Object.defineProperty(ln,"StructBuilder",{enumerable:!0,get:function(){return HZe.StructBuilder}});var ite=oee();Object.defineProperty(ln,"UnionBuilder",{enumerable:!0,get:function(){return ite.UnionBuilder}});Object.defineProperty(ln,"SparseUnionBuilder",{enumerable:!0,get:function(){return ite.SparseUnionBuilder}});Object.defineProperty(ln,"DenseUnionBuilder",{enumerable:!0,get:function(){return ite.DenseUnionBuilder}});var ste=C5();Object.defineProperty(ln,"ByteStream",{enumerable:!0,get:function(){return ste.ByteStream}});Object.defineProperty(ln,"AsyncByteStream",{enumerable:!0,get:function(){return ste.AsyncByteStream}});Object.defineProperty(ln,"AsyncByteQueue",{enumerable:!0,get:function(){return ste.AsyncByteQueue}});var eD=QF();Object.defineProperty(ln,"RecordBatchReader",{enumerable:!0,get:function(){return eD.RecordBatchReader}});Object.defineProperty(ln,"RecordBatchFileReader",{enumerable:!0,get:function(){return eD.RecordBatchFileReader}});Object.defineProperty(ln,"RecordBatchStreamReader",{enumerable:!0,get:function(){return eD.RecordBatchStreamReader}});Object.defineProperty(ln,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return eD.AsyncRecordBatchFileReader}});Object.defineProperty(ln,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return eD.AsyncRecordBatchStreamReader}});var dj=sj();Object.defineProperty(ln,"RecordBatchWriter",{enumerable:!0,get:function(){return dj.RecordBatchWriter}});Object.defineProperty(ln,"RecordBatchFileWriter",{enumerable:!0,get:function(){return dj.RecordBatchFileWriter}});Object.defineProperty(ln,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return dj.RecordBatchStreamWriter}});Object.defineProperty(ln,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return dj.RecordBatchJSONWriter}});var z5e=j5e();Object.defineProperty(ln,"tableToIPC",{enumerable:!0,get:function(){return z5e.tableToIPC}});Object.defineProperty(ln,"tableFromIPC",{enumerable:!0,get:function(){return z5e.tableFromIPC}});var ote=WB();Object.defineProperty(ln,"MessageReader",{enumerable:!0,get:function(){return ote.MessageReader}});Object.defineProperty(ln,"AsyncMessageReader",{enumerable:!0,get:function(){return ote.AsyncMessageReader}});Object.defineProperty(ln,"JSONMessageReader",{enumerable:!0,get:function(){return ote.JSONMessageReader}});var VZe=u6();Object.defineProperty(ln,"Message",{enumerable:!0,get:function(){return VZe.Message}});var WZe=O5();Object.defineProperty(ln,"RecordBatch",{enumerable:!0,get:function(){return WZe.RecordBatch}});var QZe=B8.__importStar(qM()),GZe=B8.__importStar(TZ()),YZe=B8.__importStar(V_()),KZe=B8.__importStar(eF()),JZe=B8.__importStar(Qf()),XZe=B8.__importStar(rF()),ate=DF();ln.util=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},QZe),GZe),YZe),KZe),JZe),XZe),{compareSchemas:ate.compareSchemas,compareFields:ate.compareFields,compareTypes:ate.compareTypes})});var hj=Ae(cn=>{"use strict";m();Object.defineProperty(cn,"__esModule",{value:!0});cn.SparseUnion=cn.DenseUnion=cn.Union=cn.StructRow=cn.Struct=cn.List=cn.Decimal=cn.TimeNanosecond=cn.TimeMicrosecond=cn.TimeMillisecond=cn.TimeSecond=cn.Time=cn.TimestampNanosecond=cn.TimestampMicrosecond=cn.TimestampMillisecond=cn.TimestampSecond=cn.Timestamp=cn.DateMillisecond=cn.DateDay=cn.Date_=cn.FixedSizeBinary=cn.Binary=cn.Utf8=cn.Float64=cn.Float32=cn.Float16=cn.Float=cn.Uint64=cn.Uint32=cn.Uint16=cn.Uint8=cn.Int64=cn.Int32=cn.Int16=cn.Int8=cn.Int=cn.Bool=cn.Null=cn.DataType=cn.makeData=cn.Data=cn.BufferType=cn.UnionMode=cn.Type=cn.TimeUnit=cn.Precision=cn.MetadataVersion=cn.MessageHeader=cn.IntervalUnit=cn.DateUnit=void 0;cn.FixedSizeListBuilder=cn.FixedSizeBinaryBuilder=cn.DictionaryBuilder=cn.DecimalBuilder=cn.DateMillisecondBuilder=cn.DateDayBuilder=cn.DateBuilder=cn.BoolBuilder=cn.BinaryBuilder=cn.builderThroughAsyncIterable=cn.builderThroughIterable=cn.makeBuilder=cn.Builder=cn.util=cn.RecordBatch=cn.Message=cn.JSONMessageReader=cn.AsyncMessageReader=cn.MessageReader=cn.tableToIPC=cn.tableFromIPC=cn.RecordBatchJSONWriter=cn.RecordBatchStreamWriter=cn.RecordBatchFileWriter=cn.RecordBatchWriter=cn.AsyncRecordBatchStreamReader=cn.AsyncRecordBatchFileReader=cn.RecordBatchStreamReader=cn.RecordBatchFileReader=cn.RecordBatchReader=cn.AsyncByteQueue=cn.AsyncByteStream=cn.ByteStream=cn.tableFromJSON=cn.vectorFromArray=cn.makeVector=cn.Vector=cn.Visitor=cn.Field=cn.Schema=cn.tableFromArrays=cn.makeTable=cn.Table=cn.MapRow=cn.Map_=cn.FixedSizeList=cn.IntervalYearMonth=cn.IntervalDayTime=cn.Interval=cn.Dictionary=void 0;cn.Utf8Builder=cn.SparseUnionBuilder=cn.DenseUnionBuilder=cn.UnionBuilder=cn.TimeNanosecondBuilder=cn.TimeMicrosecondBuilder=cn.TimeMillisecondBuilder=cn.TimeSecondBuilder=cn.TimeBuilder=cn.TimestampNanosecondBuilder=cn.TimestampMicrosecondBuilder=cn.TimestampMillisecondBuilder=cn.TimestampSecondBuilder=cn.TimestampBuilder=cn.StructBuilder=cn.NullBuilder=cn.MapBuilder=cn.ListBuilder=cn.Uint64Builder=cn.Uint32Builder=cn.Uint16Builder=cn.Uint8Builder=cn.Int64Builder=cn.Int32Builder=cn.Int16Builder=cn.Int8Builder=cn.IntBuilder=cn.IntervalYearMonthBuilder=cn.IntervalDayTimeBuilder=cn.IntervalBuilder=cn.Float64Builder=cn.Float32Builder=cn.Float16Builder=cn.FloatBuilder=void 0;var ZZe=hs(),eet=ZZe.__importDefault(XT()),tet=Kl(),lte=QF(),cte=sj(),net=O5e(),ret=L5e(),fte=k5e(),dte=I5e();eet.default.toDOMStream=net.toDOMStream;tet.Builder.throughDOM=ret.builderThroughDOMStream;lte.RecordBatchReader.throughDOM=fte.recordBatchReaderThroughDOMStream;lte.RecordBatchFileReader.throughDOM=fte.recordBatchReaderThroughDOMStream;lte.RecordBatchStreamReader.throughDOM=fte.recordBatchReaderThroughDOMStream;cte.RecordBatchWriter.throughDOM=dte.recordBatchWriterThroughDOMStream;cte.RecordBatchFileWriter.throughDOM=dte.recordBatchWriterThroughDOMStream;cte.RecordBatchStreamWriter.throughDOM=dte.recordBatchWriterThroughDOMStream;var ti=ute();Object.defineProperty(cn,"DateUnit",{enumerable:!0,get:function(){return ti.DateUnit}});Object.defineProperty(cn,"IntervalUnit",{enumerable:!0,get:function(){return ti.IntervalUnit}});Object.defineProperty(cn,"MessageHeader",{enumerable:!0,get:function(){return ti.MessageHeader}});Object.defineProperty(cn,"MetadataVersion",{enumerable:!0,get:function(){return ti.MetadataVersion}});Object.defineProperty(cn,"Precision",{enumerable:!0,get:function(){return ti.Precision}});Object.defineProperty(cn,"TimeUnit",{enumerable:!0,get:function(){return ti.TimeUnit}});Object.defineProperty(cn,"Type",{enumerable:!0,get:function(){return ti.Type}});Object.defineProperty(cn,"UnionMode",{enumerable:!0,get:function(){return ti.UnionMode}});Object.defineProperty(cn,"BufferType",{enumerable:!0,get:function(){return ti.BufferType}});Object.defineProperty(cn,"Data",{enumerable:!0,get:function(){return ti.Data}});Object.defineProperty(cn,"makeData",{enumerable:!0,get:function(){return ti.makeData}});Object.defineProperty(cn,"DataType",{enumerable:!0,get:function(){return ti.DataType}});Object.defineProperty(cn,"Null",{enumerable:!0,get:function(){return ti.Null}});Object.defineProperty(cn,"Bool",{enumerable:!0,get:function(){return ti.Bool}});Object.defineProperty(cn,"Int",{enumerable:!0,get:function(){return ti.Int}});Object.defineProperty(cn,"Int8",{enumerable:!0,get:function(){return ti.Int8}});Object.defineProperty(cn,"Int16",{enumerable:!0,get:function(){return ti.Int16}});Object.defineProperty(cn,"Int32",{enumerable:!0,get:function(){return ti.Int32}});Object.defineProperty(cn,"Int64",{enumerable:!0,get:function(){return ti.Int64}});Object.defineProperty(cn,"Uint8",{enumerable:!0,get:function(){return ti.Uint8}});Object.defineProperty(cn,"Uint16",{enumerable:!0,get:function(){return ti.Uint16}});Object.defineProperty(cn,"Uint32",{enumerable:!0,get:function(){return ti.Uint32}});Object.defineProperty(cn,"Uint64",{enumerable:!0,get:function(){return ti.Uint64}});Object.defineProperty(cn,"Float",{enumerable:!0,get:function(){return ti.Float}});Object.defineProperty(cn,"Float16",{enumerable:!0,get:function(){return ti.Float16}});Object.defineProperty(cn,"Float32",{enumerable:!0,get:function(){return ti.Float32}});Object.defineProperty(cn,"Float64",{enumerable:!0,get:function(){return ti.Float64}});Object.defineProperty(cn,"Utf8",{enumerable:!0,get:function(){return ti.Utf8}});Object.defineProperty(cn,"Binary",{enumerable:!0,get:function(){return ti.Binary}});Object.defineProperty(cn,"FixedSizeBinary",{enumerable:!0,get:function(){return ti.FixedSizeBinary}});Object.defineProperty(cn,"Date_",{enumerable:!0,get:function(){return ti.Date_}});Object.defineProperty(cn,"DateDay",{enumerable:!0,get:function(){return ti.DateDay}});Object.defineProperty(cn,"DateMillisecond",{enumerable:!0,get:function(){return ti.DateMillisecond}});Object.defineProperty(cn,"Timestamp",{enumerable:!0,get:function(){return ti.Timestamp}});Object.defineProperty(cn,"TimestampSecond",{enumerable:!0,get:function(){return ti.TimestampSecond}});Object.defineProperty(cn,"TimestampMillisecond",{enumerable:!0,get:function(){return ti.TimestampMillisecond}});Object.defineProperty(cn,"TimestampMicrosecond",{enumerable:!0,get:function(){return ti.TimestampMicrosecond}});Object.defineProperty(cn,"TimestampNanosecond",{enumerable:!0,get:function(){return ti.TimestampNanosecond}});Object.defineProperty(cn,"Time",{enumerable:!0,get:function(){return ti.Time}});Object.defineProperty(cn,"TimeSecond",{enumerable:!0,get:function(){return ti.TimeSecond}});Object.defineProperty(cn,"TimeMillisecond",{enumerable:!0,get:function(){return ti.TimeMillisecond}});Object.defineProperty(cn,"TimeMicrosecond",{enumerable:!0,get:function(){return ti.TimeMicrosecond}});Object.defineProperty(cn,"TimeNanosecond",{enumerable:!0,get:function(){return ti.TimeNanosecond}});Object.defineProperty(cn,"Decimal",{enumerable:!0,get:function(){return ti.Decimal}});Object.defineProperty(cn,"List",{enumerable:!0,get:function(){return ti.List}});Object.defineProperty(cn,"Struct",{enumerable:!0,get:function(){return ti.Struct}});Object.defineProperty(cn,"StructRow",{enumerable:!0,get:function(){return ti.StructRow}});Object.defineProperty(cn,"Union",{enumerable:!0,get:function(){return ti.Union}});Object.defineProperty(cn,"DenseUnion",{enumerable:!0,get:function(){return ti.DenseUnion}});Object.defineProperty(cn,"SparseUnion",{enumerable:!0,get:function(){return ti.SparseUnion}});Object.defineProperty(cn,"Dictionary",{enumerable:!0,get:function(){return ti.Dictionary}});Object.defineProperty(cn,"Interval",{enumerable:!0,get:function(){return ti.Interval}});Object.defineProperty(cn,"IntervalDayTime",{enumerable:!0,get:function(){return ti.IntervalDayTime}});Object.defineProperty(cn,"IntervalYearMonth",{enumerable:!0,get:function(){return ti.IntervalYearMonth}});Object.defineProperty(cn,"FixedSizeList",{enumerable:!0,get:function(){return ti.FixedSizeList}});Object.defineProperty(cn,"Map_",{enumerable:!0,get:function(){return ti.Map_}});Object.defineProperty(cn,"MapRow",{enumerable:!0,get:function(){return ti.MapRow}});Object.defineProperty(cn,"Table",{enumerable:!0,get:function(){return ti.Table}});Object.defineProperty(cn,"makeTable",{enumerable:!0,get:function(){return ti.makeTable}});Object.defineProperty(cn,"tableFromArrays",{enumerable:!0,get:function(){return ti.tableFromArrays}});Object.defineProperty(cn,"Schema",{enumerable:!0,get:function(){return ti.Schema}});Object.defineProperty(cn,"Field",{enumerable:!0,get:function(){return ti.Field}});Object.defineProperty(cn,"Visitor",{enumerable:!0,get:function(){return ti.Visitor}});Object.defineProperty(cn,"Vector",{enumerable:!0,get:function(){return ti.Vector}});Object.defineProperty(cn,"makeVector",{enumerable:!0,get:function(){return ti.makeVector}});Object.defineProperty(cn,"vectorFromArray",{enumerable:!0,get:function(){return ti.vectorFromArray}});Object.defineProperty(cn,"tableFromJSON",{enumerable:!0,get:function(){return ti.tableFromJSON}});Object.defineProperty(cn,"ByteStream",{enumerable:!0,get:function(){return ti.ByteStream}});Object.defineProperty(cn,"AsyncByteStream",{enumerable:!0,get:function(){return ti.AsyncByteStream}});Object.defineProperty(cn,"AsyncByteQueue",{enumerable:!0,get:function(){return ti.AsyncByteQueue}});Object.defineProperty(cn,"RecordBatchReader",{enumerable:!0,get:function(){return ti.RecordBatchReader}});Object.defineProperty(cn,"RecordBatchFileReader",{enumerable:!0,get:function(){return ti.RecordBatchFileReader}});Object.defineProperty(cn,"RecordBatchStreamReader",{enumerable:!0,get:function(){return ti.RecordBatchStreamReader}});Object.defineProperty(cn,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return ti.AsyncRecordBatchFileReader}});Object.defineProperty(cn,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return ti.AsyncRecordBatchStreamReader}});Object.defineProperty(cn,"RecordBatchWriter",{enumerable:!0,get:function(){return ti.RecordBatchWriter}});Object.defineProperty(cn,"RecordBatchFileWriter",{enumerable:!0,get:function(){return ti.RecordBatchFileWriter}});Object.defineProperty(cn,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return ti.RecordBatchStreamWriter}});Object.defineProperty(cn,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return ti.RecordBatchJSONWriter}});Object.defineProperty(cn,"tableFromIPC",{enumerable:!0,get:function(){return ti.tableFromIPC}});Object.defineProperty(cn,"tableToIPC",{enumerable:!0,get:function(){return ti.tableToIPC}});Object.defineProperty(cn,"MessageReader",{enumerable:!0,get:function(){return ti.MessageReader}});Object.defineProperty(cn,"AsyncMessageReader",{enumerable:!0,get:function(){return ti.AsyncMessageReader}});Object.defineProperty(cn,"JSONMessageReader",{enumerable:!0,get:function(){return ti.JSONMessageReader}});Object.defineProperty(cn,"Message",{enumerable:!0,get:function(){return ti.Message}});Object.defineProperty(cn,"RecordBatch",{enumerable:!0,get:function(){return ti.RecordBatch}});Object.defineProperty(cn,"util",{enumerable:!0,get:function(){return ti.util}});Object.defineProperty(cn,"Builder",{enumerable:!0,get:function(){return ti.Builder}});Object.defineProperty(cn,"makeBuilder",{enumerable:!0,get:function(){return ti.makeBuilder}});Object.defineProperty(cn,"builderThroughIterable",{enumerable:!0,get:function(){return ti.builderThroughIterable}});Object.defineProperty(cn,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return ti.builderThroughAsyncIterable}});var co=ute();Object.defineProperty(cn,"BinaryBuilder",{enumerable:!0,get:function(){return co.BinaryBuilder}});Object.defineProperty(cn,"BoolBuilder",{enumerable:!0,get:function(){return co.BoolBuilder}});Object.defineProperty(cn,"DateBuilder",{enumerable:!0,get:function(){return co.DateBuilder}});Object.defineProperty(cn,"DateDayBuilder",{enumerable:!0,get:function(){return co.DateDayBuilder}});Object.defineProperty(cn,"DateMillisecondBuilder",{enumerable:!0,get:function(){return co.DateMillisecondBuilder}});Object.defineProperty(cn,"DecimalBuilder",{enumerable:!0,get:function(){return co.DecimalBuilder}});Object.defineProperty(cn,"DictionaryBuilder",{enumerable:!0,get:function(){return co.DictionaryBuilder}});Object.defineProperty(cn,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return co.FixedSizeBinaryBuilder}});Object.defineProperty(cn,"FixedSizeListBuilder",{enumerable:!0,get:function(){return co.FixedSizeListBuilder}});Object.defineProperty(cn,"FloatBuilder",{enumerable:!0,get:function(){return co.FloatBuilder}});Object.defineProperty(cn,"Float16Builder",{enumerable:!0,get:function(){return co.Float16Builder}});Object.defineProperty(cn,"Float32Builder",{enumerable:!0,get:function(){return co.Float32Builder}});Object.defineProperty(cn,"Float64Builder",{enumerable:!0,get:function(){return co.Float64Builder}});Object.defineProperty(cn,"IntervalBuilder",{enumerable:!0,get:function(){return co.IntervalBuilder}});Object.defineProperty(cn,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return co.IntervalDayTimeBuilder}});Object.defineProperty(cn,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return co.IntervalYearMonthBuilder}});Object.defineProperty(cn,"IntBuilder",{enumerable:!0,get:function(){return co.IntBuilder}});Object.defineProperty(cn,"Int8Builder",{enumerable:!0,get:function(){return co.Int8Builder}});Object.defineProperty(cn,"Int16Builder",{enumerable:!0,get:function(){return co.Int16Builder}});Object.defineProperty(cn,"Int32Builder",{enumerable:!0,get:function(){return co.Int32Builder}});Object.defineProperty(cn,"Int64Builder",{enumerable:!0,get:function(){return co.Int64Builder}});Object.defineProperty(cn,"Uint8Builder",{enumerable:!0,get:function(){return co.Uint8Builder}});Object.defineProperty(cn,"Uint16Builder",{enumerable:!0,get:function(){return co.Uint16Builder}});Object.defineProperty(cn,"Uint32Builder",{enumerable:!0,get:function(){return co.Uint32Builder}});Object.defineProperty(cn,"Uint64Builder",{enumerable:!0,get:function(){return co.Uint64Builder}});Object.defineProperty(cn,"ListBuilder",{enumerable:!0,get:function(){return co.ListBuilder}});Object.defineProperty(cn,"MapBuilder",{enumerable:!0,get:function(){return co.MapBuilder}});Object.defineProperty(cn,"NullBuilder",{enumerable:!0,get:function(){return co.NullBuilder}});Object.defineProperty(cn,"StructBuilder",{enumerable:!0,get:function(){return co.StructBuilder}});Object.defineProperty(cn,"TimestampBuilder",{enumerable:!0,get:function(){return co.TimestampBuilder}});Object.defineProperty(cn,"TimestampSecondBuilder",{enumerable:!0,get:function(){return co.TimestampSecondBuilder}});Object.defineProperty(cn,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return co.TimestampMillisecondBuilder}});Object.defineProperty(cn,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return co.TimestampMicrosecondBuilder}});Object.defineProperty(cn,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return co.TimestampNanosecondBuilder}});Object.defineProperty(cn,"TimeBuilder",{enumerable:!0,get:function(){return co.TimeBuilder}});Object.defineProperty(cn,"TimeSecondBuilder",{enumerable:!0,get:function(){return co.TimeSecondBuilder}});Object.defineProperty(cn,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return co.TimeMillisecondBuilder}});Object.defineProperty(cn,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return co.TimeMicrosecondBuilder}});Object.defineProperty(cn,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return co.TimeNanosecondBuilder}});Object.defineProperty(cn,"UnionBuilder",{enumerable:!0,get:function(){return co.UnionBuilder}});Object.defineProperty(cn,"DenseUnionBuilder",{enumerable:!0,get:function(){return co.DenseUnionBuilder}});Object.defineProperty(cn,"SparseUnionBuilder",{enumerable:!0,get:function(){return co.SparseUnionBuilder}});Object.defineProperty(cn,"Utf8Builder",{enumerable:!0,get:function(){return co.Utf8Builder}})});var ove=Ae((_9t,sve)=>{"use strict";m();var iet=Object.create,pj=Object.defineProperty,set=Object.getOwnPropertyDescriptor,oet=Object.getOwnPropertyNames,aet=Object.getPrototypeOf,uet=Object.prototype.hasOwnProperty,cet=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),fet=(n,e)=>{for(var t in e)pj(n,t,{get:e[t],enumerable:!0})},H5e=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of oet(e))!uet.call(n,i)&&i!==t&&pj(n,i,{get:()=>e[i],enumerable:!(r=set(e,i))||r.enumerable});return n},hte=(n,e,t)=>(t=n!=null?iet(aet(n)):{},H5e(e||!n||!n.__esModule?pj(t,"default",{value:n,enumerable:!0}):t,n)),det=n=>H5e(pj({},"__esModule",{value:!0}),n),het=cet((n,e)=>{e.exports=Worker}),V5e={};fet(V5e,{AsyncDuckDB:()=>bet,AsyncDuckDBConnection:()=>J5e,AsyncDuckDBDispatcher:()=>Eet,AsyncPreparedStatement:()=>X5e,AsyncResultStreamIterator:()=>pte,ConsoleLogger:()=>met,LogEvent:()=>G5e,LogLevel:()=>W5e,LogOrigin:()=>Y5e,LogTopic:()=>Q5e,PACKAGE_NAME:()=>tve,PACKAGE_VERSION:()=>nve,PACKAGE_VERSION_MAJOR:()=>Fet,PACKAGE_VERSION_MINOR:()=>Det,PACKAGE_VERSION_PATCH:()=>Oet,StatusCode:()=>K5e,VoidLogger:()=>pet,WorkerRequestType:()=>Z5e,WorkerResponseType:()=>eve,WorkerTask:()=>Jo,createWorker:()=>Met,getJsDelivrBundles:()=>Let,getLogEventLabel:()=>get,getLogLevelLabel:()=>xet,getLogOriginLabel:()=>vet,getLogTopicLabel:()=>yet,getPlatformFeatures:()=>ive,isFirefox:()=>Ret,isNode:()=>yte,isSafari:()=>Net,selectBundle:()=>ket});sve.exports=det(V5e);var W5e=(n=>(n[n.NONE=0]="NONE",n[n.DEBUG=1]="DEBUG",n[n.INFO=2]="INFO",n[n.WARNING=3]="WARNING",n[n.ERROR=4]="ERROR",n))(W5e||{}),Q5e=(n=>(n[n.NONE=0]="NONE",n[n.CONNECT=1]="CONNECT",n[n.DISCONNECT=2]="DISCONNECT",n[n.OPEN=3]="OPEN",n[n.QUERY=4]="QUERY",n[n.INSTANTIATE=5]="INSTANTIATE",n))(Q5e||{}),G5e=(n=>(n[n.NONE=0]="NONE",n[n.OK=1]="OK",n[n.ERROR=2]="ERROR",n[n.START=3]="START",n[n.RUN=4]="RUN",n[n.CAPTURE=5]="CAPTURE",n))(G5e||{}),Y5e=(n=>(n[n.NONE=0]="NONE",n[n.WEB_WORKER=1]="WEB_WORKER",n[n.NODE_WORKER=2]="NODE_WORKER",n[n.BINDINGS=3]="BINDINGS",n[n.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",n))(Y5e||{}),pet=class{log(n){}},met=class{constructor(n=2){this.level=n}log(n){n.level>=this.level&&console.log(n)}};function xet(n){switch(n){case 0:return"NONE";case 1:return"DEBUG";case 2:return"INFO";case 3:return"WARNING";case 4:return"ERROR";default:return"?"}}function get(n){switch(n){case 0:return"NONE";case 1:return"OK";case 2:return"ERROR";case 3:return"START";case 4:return"RUN";case 5:return"CAPTURE";default:return"?"}}function yet(n){switch(n){case 1:return"CONNECT";case 2:return"DISCONNECT";case 5:return"INSTANTIATE";case 3:return"OPEN";case 4:return"QUERY";default:return"?"}}function vet(n){switch(n){case 0:return"NONE";case 1:return"WEB WORKER";case 2:return"NODE WORKER";case 3:return"DUCKDB BINDINGS";case 4:return"DUCKDB";default:return"?"}}var K5e=(n=>(n[n.SUCCESS=0]="SUCCESS",n))(K5e||{}),h6=hte(hj()),J5e=class{constructor(n,e){this._bindings=n,this._conn=e}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(n){return n(this._bindings,this._conn)}async query(n){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:n});let e=await this._bindings.runQuery(this._conn,n),t=h6.RecordBatchReader.from(e);return console.assert(t.isSync()),console.assert(t.isFile()),new h6.Table(t)}async send(n){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:n});let e=await this._bindings.startPendingQuery(this._conn,n);for(;e==null;)e=await this._bindings.pollPendingQuery(this._conn);let t=new pte(this._bindings,this._conn,e),r=await h6.RecordBatchReader.from(t);return console.assert(r.isAsync()),console.assert(r.isStream()),r}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(n){return await this._bindings.getTableNames(this._conn,n)}async prepare(n){let e=await this._bindings.createPrepared(this._conn,n);return new X5e(this._bindings,this._conn,e)}async insertArrowTable(n,e){let t=h6.tableToIPC(n,"stream");await this.insertArrowFromIPCStream(t,e)}async insertArrowFromIPCStream(n,e){await this._bindings.insertArrowFromIPCStream(this._conn,n,e)}async insertCSVFromPath(n,e){await this._bindings.insertCSVFromPath(this._conn,n,e)}async insertJSONFromPath(n,e){await this._bindings.insertJSONFromPath(this._conn,n,e)}},pte=class{constructor(n,e,t){this.db=n,this.conn=e,this.header=t,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let n;return this._inFlight!=null?(n=await this._inFlight,this._inFlight=null):n=await this.db.fetchQueryResults(this.conn),this._depleted=n.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:n}}[Symbol.asyncIterator](){return this}},X5e=class{constructor(n,e,t){this.bindings=n,this.connectionId=e,this.statementId=t}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...n){let e=await this.bindings.runPrepared(this.connectionId,this.statementId,n),t=h6.RecordBatchReader.from(e);return console.assert(t.isSync()),console.assert(t.isFile()),new h6.Table(t)}async send(...n){let e=await this.bindings.sendPrepared(this.connectionId,this.statementId,n),t=new pte(this.bindings,this.connectionId,e),r=await h6.RecordBatchReader.from(t);return console.assert(r.isAsync()),console.assert(r.isStream()),r}},Z5e=(n=>(n.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",n.CLOSE_PREPARED="CLOSE_PREPARED",n.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",n.CONNECT="CONNECT",n.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",n.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",n.CREATE_PREPARED="CREATE_PREPARED",n.DISCONNECT="DISCONNECT",n.DROP_FILE="DROP_FILE",n.DROP_FILES="DROP_FILES",n.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",n.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",n.FLUSH_FILES="FLUSH_FILES",n.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",n.GET_TABLE_NAMES="GET_TABLE_NAMES",n.GET_VERSION="GET_VERSION",n.GLOB_FILE_INFOS="GLOB_FILE_INFOS",n.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",n.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",n.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",n.INSTANTIATE="INSTANTIATE",n.OPEN="OPEN",n.PING="PING",n.POLL_PENDING_QUERY="POLL_PENDING_QUERY",n.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",n.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",n.REGISTER_FILE_URL="REGISTER_FILE_URL",n.RESET="RESET",n.RUN_PREPARED="RUN_PREPARED",n.RUN_QUERY="RUN_QUERY",n.SEND_PREPARED="SEND_PREPARED",n.START_PENDING_QUERY="START_PENDING_QUERY",n.TOKENIZE="TOKENIZE",n))(Z5e||{}),eve=(n=>(n.CONNECTION_INFO="CONNECTION_INFO",n.ERROR="ERROR",n.FEATURE_FLAGS="FEATURE_FLAGS",n.FILE_BUFFER="FILE_BUFFER",n.FILE_INFOS="FILE_INFOS",n.FILE_SIZE="FILE_SIZE",n.FILE_STATISTICS="FILE_STATISTICS",n.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",n.LOG="LOG",n.OK="OK",n.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",n.QUERY_PLAN="QUERY_PLAN",n.QUERY_RESULT="QUERY_RESULT",n.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",n.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",n.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",n.REGISTERED_FILE="REGISTERED_FILE",n.SCRIPT_TOKENS="SCRIPT_TOKENS",n.SUCCESS="SUCCESS",n.TABLE_NAMES="TABLE_NAMES",n.VERSION_STRING="VERSION_STRING",n))(eve||{}),Jo=class{constructor(n,e){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=n,this.data=e,this.promise=new Promise((t,r)=>{this.promiseResolver=t,this.promiseRejecter=r})}},zo=hte(hj());function mj(n){switch(n.typeId){case zo.Type.Binary:return{sqlType:"binary"};case zo.Type.Bool:return{sqlType:"bool"};case zo.Type.Date:return{sqlType:"date"};case zo.Type.DateDay:return{sqlType:"date32[d]"};case zo.Type.DateMillisecond:return{sqlType:"date64[ms]"};case zo.Type.Decimal:{let e=n;return{sqlType:"decimal",precision:e.precision,scale:e.scale}}case zo.Type.Float:return{sqlType:"float"};case zo.Type.Float16:return{sqlType:"float16"};case zo.Type.Float32:return{sqlType:"float32"};case zo.Type.Float64:return{sqlType:"float64"};case zo.Type.Int:return{sqlType:"int32"};case zo.Type.Int16:return{sqlType:"int16"};case zo.Type.Int32:return{sqlType:"int32"};case zo.Type.Int64:return{sqlType:"int64"};case zo.Type.Uint16:return{sqlType:"uint16"};case zo.Type.Uint32:return{sqlType:"uint32"};case zo.Type.Uint64:return{sqlType:"uint64"};case zo.Type.Uint8:return{sqlType:"uint8"};case zo.Type.IntervalDayTime:return{sqlType:"interval[dt]"};case zo.Type.IntervalYearMonth:return{sqlType:"interval[m]"};case zo.Type.List:return{sqlType:"list",valueType:mj(n.valueType)};case zo.Type.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:n.byteWidth};case zo.Type.Null:return{sqlType:"null"};case zo.Type.Utf8:return{sqlType:"utf8"};case zo.Type.Struct:return{sqlType:"struct",fields:n.children.map(e=>mte(e.name,e.type))};case zo.Type.Map:{let e=n;return{sqlType:"map",keyType:mj(e.keyType),valueType:mj(e.valueType)}}case zo.Type.Time:return{sqlType:"time[s]"};case zo.Type.TimeMicrosecond:return{sqlType:"time[us]"};case zo.Type.TimeMillisecond:return{sqlType:"time[ms]"};case zo.Type.TimeNanosecond:return{sqlType:"time[ns]"};case zo.Type.TimeSecond:return{sqlType:"time[s]"};case zo.Type.Timestamp:return{sqlType:"timestamp",timezone:n.timezone||void 0};case zo.Type.TimestampSecond:return{sqlType:"timestamp[s]",timezone:n.timezone||void 0};case zo.Type.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:n.timezone||void 0};case zo.Type.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:n.timezone||void 0};case zo.Type.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:n.timezone||void 0}}throw new Error(`unsupported arrow type: ${n.toString()}`)}function mte(n,e){let t=mj(e);return t.name=n,t}var _et=new TextEncoder,bet=class{constructor(n,e=null){this._onInstantiationProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=n,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),e!=null&&this.attach(e)}get logger(){return this._logger}attach(n){this._worker=n,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((e,t)=>{this._workerShutdownResolver=e})}detach(){!this._worker||(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){!this._worker||(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(n,e=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let t=this._nextMessageId++;return this._pendingRequests.set(t,n),this._worker.postMessage({messageId:t,type:n.type,data:n.data},e),await n.promise}onMessage(n){let e=n.data;switch(e.type){case"LOG":{this._logger.log(e.data);return}case"INSTANTIATE_PROGRESS":{for(let r of this._onInstantiationProgress)r(e.data);return}}let t=this._pendingRequests.get(e.requestId);if(!t){console.warn(`unassociated response: [${e.requestId}, ${e.type.toString()}]`);return}if(this._pendingRequests.delete(e.requestId),e.type=="ERROR"){let r=new Error(e.data.message);r.name=e.data.name,r.stack=e.data.stack,t.promiseRejecter(r);return}switch(t.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(e.type=="OK"){t.promiseResolver(e.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],e.type=="OK"){t.promiseResolver(e.data);return}break;case"GLOB_FILE_INFOS":if(e.type=="FILE_INFOS"){t.promiseResolver(e.data);return}break;case"GET_VERSION":if(e.type=="VERSION_STRING"){t.promiseResolver(e.data);return}break;case"GET_FEATURE_FLAGS":if(e.type=="FEATURE_FLAGS"){t.promiseResolver(e.data);return}break;case"GET_TABLE_NAMES":if(e.type=="TABLE_NAMES"){t.promiseResolver(e.data);return}break;case"TOKENIZE":if(e.type=="SCRIPT_TOKENS"){t.promiseResolver(e.data);return}break;case"COPY_FILE_TO_BUFFER":if(e.type=="FILE_BUFFER"){t.promiseResolver(e.data);return}break;case"EXPORT_FILE_STATISTICS":if(e.type=="FILE_STATISTICS"){t.promiseResolver(e.data);return}break;case"CONNECT":if(e.type=="CONNECTION_INFO"){t.promiseResolver(e.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(e.type=="QUERY_RESULT"){t.promiseResolver(e.data);return}break;case"SEND_PREPARED":if(e.type=="QUERY_RESULT_HEADER"){t.promiseResolver(e.data);return}break;case"START_PENDING_QUERY":if(e.type=="QUERY_RESULT_HEADER_OR_NULL"){t.promiseResolver(e.data);return}break;case"POLL_PENDING_QUERY":if(e.type=="QUERY_RESULT_HEADER_OR_NULL"){t.promiseResolver(e.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],e.type=="SUCCESS"){t.promiseResolver(e.data);return}break;case"FETCH_QUERY_RESULTS":if(e.type=="QUERY_RESULT_CHUNK"){t.promiseResolver(e.data);return}break;case"CREATE_PREPARED":if(e.type=="PREPARED_STATEMENT_ID"){t.promiseResolver(e.data);return}break}t.promiseRejecter(new Error(`unexpected response type: ${e.type.toString()}`))}onError(n){console.error(n),console.error(`error in duckdb worker: ${n.message}`),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn(`worker terminated with ${this._pendingRequests.size} pending requests`);return}this._pendingRequests.clear()}async reset(){let n=new Jo("RESET",null);return await this.postTask(n)}async ping(){let n=new Jo("PING",null);await this.postTask(n)}async dropFile(n){let e=new Jo("DROP_FILE",n);return await this.postTask(e)}async dropFiles(){let n=new Jo("DROP_FILES",null);return await this.postTask(n)}async flushFiles(){let n=new Jo("FLUSH_FILES",null);return await this.postTask(n)}async instantiate(n,e=null,t=r=>{}){this._onInstantiationProgress.push(t);let r=new Jo("INSTANTIATE",[n,e]);return await this.postTask(r)}async getVersion(){let n=new Jo("GET_VERSION",null);return await this.postTask(n)}async getFeatureFlags(){let n=new Jo("GET_FEATURE_FLAGS",null);return await this.postTask(n)}async open(n){let e=new Jo("OPEN",n);await this.postTask(e)}async tokenize(n){let e=new Jo("TOKENIZE",n);return await this.postTask(e)}async connectInternal(){let n=new Jo("CONNECT",null);return await this.postTask(n)}async connect(){let n=await this.connectInternal();return new J5e(this,n)}async disconnect(n){let e=new Jo("DISCONNECT",n);await this.postTask(e)}async runQuery(n,e){let t=new Jo("RUN_QUERY",[n,e]);return await this.postTask(t)}async startPendingQuery(n,e){let t=new Jo("START_PENDING_QUERY",[n,e]);return await this.postTask(t)}async pollPendingQuery(n){let e=new Jo("POLL_PENDING_QUERY",n);return await this.postTask(e)}async cancelPendingQuery(n){let e=new Jo("CANCEL_PENDING_QUERY",n);return await this.postTask(e)}async fetchQueryResults(n){let e=new Jo("FETCH_QUERY_RESULTS",n);return await this.postTask(e)}async getTableNames(n,e){let t=new Jo("GET_TABLE_NAMES",[n,e]);return await this.postTask(t)}async createPrepared(n,e){let t=new Jo("CREATE_PREPARED",[n,e]);return await this.postTask(t)}async closePrepared(n,e){let t=new Jo("CLOSE_PREPARED",[n,e]);await this.postTask(t)}async runPrepared(n,e,t){let r=new Jo("RUN_PREPARED",[n,e,t]);return await this.postTask(r)}async sendPrepared(n,e,t){let r=new Jo("SEND_PREPARED",[n,e,t]);return await this.postTask(r)}async globFiles(n){let e=new Jo("GLOB_FILE_INFOS",n);return await this.postTask(e)}async registerFileText(n,e){let t=_et.encode(e);await this.registerFileBuffer(n,t)}async registerFileURL(n,e){e===void 0&&(e=n);let t=new Jo("REGISTER_FILE_URL",[n,e]);await this.postTask(t)}async registerEmptyFileBuffer(n){let e=new Jo("REGISTER_FILE_BUFFER",[n,new Uint8Array]);await this.postTask(e)}async registerFileBuffer(n,e){let t=new Jo("REGISTER_FILE_BUFFER",[n,e]);await this.postTask(t,[e.buffer])}async registerFileHandle(n,e){let t=new Jo("REGISTER_FILE_HANDLE",[n,e]);await this.postTask(t,[])}async collectFileStatistics(n,e){let t=new Jo("COLLECT_FILE_STATISTICS",[n,e]);await this.postTask(t,[])}async exportFileStatistics(n){let e=new Jo("EXPORT_FILE_STATISTICS",n);return await this.postTask(e,[])}async copyFileToBuffer(n){let e=new Jo("COPY_FILE_TO_BUFFER",n);return await this.postTask(e)}async copyFileToPath(n,e){let t=new Jo("COPY_FILE_TO_PATH",[n,e]);await this.postTask(t)}async insertArrowFromIPCStream(n,e,t){if(e.length==0)return;let r=new Jo("INSERT_ARROW_FROM_IPC_STREAM",[n,e,t]);await this.postTask(r,[e.buffer])}async insertCSVFromPath(n,e,t){if(t.columns!==void 0){let i=[];for(let s in t.columns){let o=t.columns[s];i.push(mte(s,o))}t.columnsFlat=i,delete t.columns}let r=new Jo("IMPORT_CSV_FROM_PATH",[n,e,t]);await this.postTask(r)}async insertJSONFromPath(n,e,t){if(t.columns!==void 0){let i=[];for(let s in t.columns){let o=t.columns[s];i.push(mte(s,o))}t.columnsFlat=i,delete t.columns}let r=new Jo("IMPORT_JSON_FROM_PATH",[n,e,t]);await this.postTask(r)}},Eet=class{constructor(){this._bindings=null,this._nextMessageId=0}log(n){this.postMessage({messageId:this._nextMessageId++,requestId:0,type:"LOG",data:n},[])}sendOK(n){this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"OK",data:null},[])}failWith(n,e){let t={name:e.name,message:e.message,stack:e.stack||void 0};this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"ERROR",data:t},[])}async onMessage(n){switch(n.type){case"PING":this.sendOK(n);return;case"INSTANTIATE":this._bindings!=null&&this.failWith(n,new Error("duckdb already initialized"));try{this._bindings=await this.instantiate(n.data[0],n.data[1],e=>{this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"INSTANTIATE_PROGRESS",data:e},[])}),this.sendOK(n)}catch(e){this._bindings=null,this.failWith(n,e)}return;default:break}if(!this._bindings)return this.failWith(n,new Error("duckdb is not initialized"));try{switch(n.type){case"GET_VERSION":this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"VERSION_STRING",data:this._bindings.getVersion()},[]);break;case"GET_FEATURE_FLAGS":this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FEATURE_FLAGS",data:this._bindings.getFeatureFlags()},[]);break;case"RESET":this._bindings.reset(),this.sendOK(n);break;case"OPEN":this._bindings.open(n.data),this.sendOK(n);break;case"DROP_FILE":this._bindings.dropFile(n.data),this.sendOK(n);break;case"DROP_FILES":this._bindings.dropFiles(),this.sendOK(n);break;case"FLUSH_FILES":this._bindings.flushFiles(),this.sendOK(n);break;case"CONNECT":{let e=this._bindings.connect();this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"CONNECTION_INFO",data:e.useUnsafe((t,r)=>r)},[]);break}case"DISCONNECT":this._bindings.disconnect(n.data),this.sendOK(n);break;case"CREATE_PREPARED":{let e=this._bindings.createPrepared(n.data[0],n.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"PREPARED_STATEMENT_ID",data:e},[]);break}case"CLOSE_PREPARED":{this._bindings.closePrepared(n.data[0],n.data[1]),this.sendOK(n);break}case"RUN_PREPARED":{let e=this._bindings.runPrepared(n.data[0],n.data[1],n.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT",data:e},[e.buffer]);break}case"RUN_QUERY":{let e=this._bindings.runQuery(n.data[0],n.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT",data:e},[e.buffer]);break}case"SEND_PREPARED":{let e=this._bindings.sendPrepared(n.data[0],n.data[1],n.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_HEADER",data:e},[e.buffer]);break}case"START_PENDING_QUERY":{let e=this._bindings.startPendingQuery(n.data[0],n.data[1]),t=[];e&&t.push(e.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:e},t);break}case"POLL_PENDING_QUERY":{let e=this._bindings.pollPendingQuery(n.data),t=[];e&&t.push(e.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:e},t);break}case"CANCEL_PENDING_QUERY":{let e=this._bindings.cancelPendingQuery(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"SUCCESS",data:e},[]);break}case"FETCH_QUERY_RESULTS":{let e=this._bindings.fetchQueryResults(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_CHUNK",data:e},[e.buffer]);break}case"GET_TABLE_NAMES":{let e=this._bindings.getTableNames(n.data[0],n.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"TABLE_NAMES",data:e},[]);break}case"GLOB_FILE_INFOS":{let e=this._bindings.globFiles(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FILE_INFOS",data:e},[]);break}case"REGISTER_FILE_URL":this._bindings.registerFileURL(n.data[0],n.data[1]),this.sendOK(n);break;case"REGISTER_FILE_BUFFER":this._bindings.registerFileBuffer(n.data[0],n.data[1]),this.sendOK(n);break;case"REGISTER_FILE_HANDLE":this._bindings.registerFileHandle(n.data[0],n.data[1]),this.sendOK(n);break;case"COPY_FILE_TO_PATH":this._bindings.copyFileToPath(n.data[0],n.data[1]),this.sendOK(n);break;case"COPY_FILE_TO_BUFFER":{let e=this._bindings.copyFileToBuffer(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FILE_BUFFER",data:e},[]);break}case"COLLECT_FILE_STATISTICS":this._bindings.collectFileStatistics(n.data[0],n.data[1]),this.sendOK(n);break;case"EXPORT_FILE_STATISTICS":{this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FILE_STATISTICS",data:this._bindings.exportFileStatistics(n.data)},[]);break}case"INSERT_ARROW_FROM_IPC_STREAM":{this._bindings.insertArrowFromIPCStream(n.data[0],n.data[1],n.data[2]),this.sendOK(n);break}case"IMPORT_CSV_FROM_PATH":{this._bindings.insertCSVFromPath(n.data[0],n.data[1],n.data[2]),this.sendOK(n);break}case"IMPORT_JSON_FROM_PATH":{this._bindings.insertJSONFromPath(n.data[0],n.data[1],n.data[2]),this.sendOK(n);break}case"TOKENIZE":{let e=this._bindings.tokenize(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"SCRIPT_TOKENS",data:e},[]);break}}}catch(e){return this.failWith(n,e)}}},wet=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),Cet=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),Aet=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),Tet=()=>(async n=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(n)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),xte={name:"@duckdb/duckdb-wasm",version:"1.17.0",description:"DuckDB powered by WebAssembly",license:"MPL-2.0",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^9.0.0"},devDependencies:{"@types/emscripten":"^1.39.6","@types/jasmine":"^4.3.0","@typescript-eslint/eslint-plugin":"^5.36.1","@typescript-eslint/parser":"^5.36.1",esbuild:"^0.15.6",eslint:"^8.23.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.31.1","fast-glob":"^3.2.11",jasmine:"^4.4.0","jasmine-core":"^4.3.0","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.9.0",karma:"^6.4.0","karma-chrome-launcher":"^3.1.1","karma-coverage":"^2.2.0","karma-firefox-launcher":"^2.1.2","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.0.0","karma-sourcemap-loader":"^0.3.8","karma-spec-reporter":"^0.0.34","make-dir":"^3.1.0",nyc:"^15.1.0",prettier:"^2.7.1",puppeteer:"^17.1.3",rimraf:"^3.0.2",s3rver:"^3.7.1",typedoc:"^0.23.14",typescript:"^4.7.4","wasm-feature-detect":"^1.2.11","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-blocking":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.mjs":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.cjs":"./dist/duckdb-browser-blocking.cjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{browser:{types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},tve=xte.name,nve=xte.version,gte=xte.version.split("."),Fet=gte[0],Det=gte[1],Oet=gte[2],yte=()=>typeof navigator>"u",rve=()=>yte()?"node":navigator.userAgent,Ret=()=>rve().includes("Firefox"),Net=()=>/^((?!chrome|android).)*safari/i.test(rve());function Let(){let n=`https://cdn.jsdelivr.net/npm/${tve}@${nve}/dist/`;return{mvp:{mainModule:`${n}duckdb-mvp.wasm`,mainWorker:`${n}duckdb-browser-mvp.worker.js`},eh:{mainModule:`${n}duckdb-eh.wasm`,mainWorker:`${n}duckdb-browser-eh.worker.js`}}}var vte=null,_te=null,bte=null,Ete=null,Ste=null;async function ive(){return vte==null&&(vte=typeof BigInt64Array<"u"),_te==null&&(_te=await Cet()),bte==null&&(bte=await Tet()),Ete==null&&(Ete=await Aet()),Ste==null&&(Ste=await wet()),{bigInt64Array:vte,crossOriginIsolated:yte()||globalThis.crossOriginIsolated||!1,wasmExceptions:_te,wasmSIMD:Ete,wasmThreads:bte,wasmBulkMemory:Ste}}async function ket(n){let e=await ive();if(e.wasmExceptions){if(e.wasmSIMD&&e.wasmThreads&&e.crossOriginIsolated&&n.coi)return{mainModule:n.coi.mainModule,mainWorker:n.coi.mainWorker,pthreadWorker:n.coi.pthreadWorker};if(n.eh)return{mainModule:n.eh.mainModule,mainWorker:n.eh.mainWorker,pthreadWorker:null}}return{mainModule:n.mvp.mainModule,mainWorker:n.mvp.mainWorker,pthreadWorker:null}}var Iet=hte(het());async function Met(n){let e=new Request(n),t=await fetch(e),r=URL.createObjectURL(await t.blob());return new Iet.default(r)}});var bm=Ae(Wr=>{"use strict";m();Object.defineProperty(Wr,"__esModule",{value:!0});Wr.isValueDate=Wr.isValueTimestamp=Wr.isValueBoolean=Wr.isValueNumber=Wr.isValueString=Wr.isMeasureLike=Wr.getPhysicalFields=Wr.getDimensions=Wr.isPhysical=Wr.isDimensional=Wr.isTurtleDef=Wr.getIdentifier=Wr.isFieldStructDef=Wr.isFieldTimeBased=Wr.isFieldTypeDef=Wr.isJoinOn=Wr.isIndexSegment=Wr.isSamplingEnable=Wr.isSamplingPercent=Wr.isSamplingRows=Wr.isQuerySegment=Wr.isProjectSegment=Wr.isReduceSegment=Wr.refIsStructDef=Wr.isByExpression=Wr.isByName=Wr.ValueType=Wr.isExtractUnit=Wr.isTimestampUnit=Wr.isDateUnit=Wr.FieldIsIntrinsic=Wr.isAtomicFieldType=Wr.isTimeFieldType=Wr.hasExpression=Wr.mkExpr=Wr.isApplyFragment=Wr.isApplyValue=Wr.isParameterFragment=Wr.isFieldFragment=Wr.isUngroupFragment=Wr.isAsymmetricFragment=Wr.isAggregateFragment=Wr.isDialectFragment=Wr.isFilterFragment=Wr.isFilteredAliasedName=Wr.paramHasValue=Wr.isConditionParameter=Wr.isValueParameter=void 0;function ave(n){return n.value!==void 0}Wr.isValueParameter=ave;function Pet(n){return n.condition!==void 0}Wr.isConditionParameter=Pet;function Bet(n){return ave(n)||n.condition!==null}Wr.paramHasValue=Bet;function jet(n){for(let e of Object.keys(n))if(!["name","as","filterList"].includes(e))return!1;return!0}Wr.isFilteredAliasedName=jet;function qet(n){return(n==null?void 0:n.type)==="filterExpression"}Wr.isFilterFragment=qet;function Uet(n){return(n==null?void 0:n.type)==="dialect"}Wr.isDialectFragment=Uet;function uve(n){return(n==null?void 0:n.type)==="aggregate"}Wr.isAggregateFragment=uve;function $et(n){return uve(n)&&["sum","avg","count"].includes(n.function)}Wr.isAsymmetricFragment=$et;function zet(n){let e=n==null?void 0:n.type;return e=="all"||e=="exclude"}Wr.isUngroupFragment=zet;function Het(n){return(n==null?void 0:n.type)==="field"}Wr.isFieldFragment=Het;function Vet(n){return(n==null?void 0:n.type)==="parameter"}Wr.isParameterFragment=Vet;function Wet(n){return(n==null?void 0:n.type)==="applyVal"}Wr.isApplyValue=Wet;function Qet(n){return(n==null?void 0:n.type)==="apply"}Wr.isApplyFragment=Qet;function Get(n,...e){let t=[],r;for(r=0;r<e.length;r++){let i=e[r];n[r].length>0&&t.push(n[r]),typeof i=="string"?t.push(i):t.push(...i)}return n[r].length>0&&t.push(n[r]),t}Wr.mkExpr=Get;function lve(n){return n.e!==void 0}Wr.hasExpression=lve;function Yet(n){return n=="date"||n=="timestamp"}Wr.isTimeFieldType=Yet;function cve(n){return["string","number","date","timestamp","boolean"].includes(n)}Wr.isAtomicFieldType=cve;function Ket(n){return cve(n.type)&&!lve(n)?!0:n.type==="struct"&&(n.structSource.type==="inline"||n.structSource.type==="nested")}Wr.FieldIsIntrinsic=Ket;function fve(n){return["day","week","month","quarter","year"].includes(n)}Wr.isDateUnit=fve;function dve(n){return fve(n)||["hour","minute","second"].includes(n)}Wr.isTimestampUnit=dve;function Jet(n){return dve(n)||n=="day_of_week"||n=="day_of_year"}Wr.isExtractUnit=Jet;var Xet;(function(n){n.Date="date",n.Timestamp="timestamp",n.Number="number",n.String="string"})(Xet=Wr.ValueType||(Wr.ValueType={}));function Zet(n){return n===void 0?!1:n.by==="name"}Wr.isByName=Zet;function ett(n){return n===void 0?!1:n.by==="name"}Wr.isByExpression=ett;function ttt(n){return typeof n!="string"&&n.type==="struct"}Wr.refIsStructDef=ttt;function hve(n){return n.type==="reduce"}Wr.isReduceSegment=hve;function pve(n){return n.type==="project"}Wr.isProjectSegment=pve;function ntt(n){return pve(n)||hve(n)}Wr.isQuerySegment=ntt;function rtt(n){return n.rows!==void 0}Wr.isSamplingRows=rtt;function itt(n){return n.percent!==void 0}Wr.isSamplingPercent=itt;function stt(n){return n.enable!==void 0}Wr.isSamplingEnable=stt;function ott(n){return n.type==="index"}Wr.isIndexSegment=ott;function att(n){return["one","many","cross"].includes(n.type)}Wr.isJoinOn=att;function mve(n){return n.type==="string"||n.type==="date"||n.type==="number"||n.type==="timestamp"||n.type==="boolean"}Wr.isFieldTypeDef=mve;function utt(n){return n.type==="date"||n.type==="timestamp"}Wr.isFieldTimeBased=utt;function xve(n){return n.type==="struct"}Wr.isFieldStructDef=xve;function ltt(n){return n.as!==void 0?n.as:n.name}Wr.getIdentifier=ltt;function ctt(n){return n.type==="turtle"}Wr.isTurtleDef=ctt;function gve(n){var e;return"resultMetadata"in n?((e=n.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="dimension":!1}Wr.isDimensional=gve;function yve(n){return mve(n)&&n.e===void 0||xve(n)&&(n.structSource.type==="nested"||n.structSource.type=="inline")}Wr.isPhysical=yve;function ftt(n){return n.fields.filter(gve)}Wr.getDimensions=ftt;function dtt(n){return n.fields.filter(yve)}Wr.getPhysicalFields=dtt;function htt(n){var e,t;return"resultMetadata"in n?((e=n.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="measure"||((t=n.resultMetadata)===null||t===void 0?void 0:t.fieldKind)==="struct":!1}Wr.isMeasureLike=htt;function ptt(n,e){return e.type==="string"}Wr.isValueString=ptt;function mtt(n,e){return e.type==="number"}Wr.isValueNumber=mtt;function xtt(n,e){return e.type==="boolean"}Wr.isValueBoolean=xtt;function gtt(n,e){return e.type==="timestamp"}Wr.isValueTimestamp=gtt;function ytt(n,e){return e.type==="date"}Wr.isValueDate=ytt});var nD=Ae((j8,tD)=>{m();(function(){var n,e="4.17.21",t=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",s="Invalid `variable` option passed into `_.template`",o="__lodash_hash_undefined__",a=500,l="__lodash_placeholder__",f=1,p=2,_=4,E=1,O=2,R=1,q=2,z=4,L=8,B=16,P=32,G=64,ue=128,I=256,J=512,he=30,ye="...",He=800,at=16,ct=1,Ze=2,Et=3,Mt=1/0,qe=9007199254740991,te=17976931348623157e292,et=0/0,be=4294967295,ke=be-1,we=be>>>1,pe=[["ary",ue],["bind",R],["bindKey",q],["curry",L],["curryRight",B],["flip",J],["partial",P],["partialRight",G],["rearg",I]],Je="[object Arguments]",lt="[object Array]",Ht="[object AsyncFunction]",Ct="[object Boolean]",mn="[object Date]",kt="[object DOMException]",Bt="[object Error]",tn="[object Function]",bt="[object GeneratorFunction]",ve="[object Map]",Le="[object Number]",_e="[object Null]",ce="[object Object]",tt="[object Promise]",Ke="[object Proxy]",re="[object RegExp]",Oe="[object Set]",nt="[object String]",ft="[object Symbol]",Ot="[object Undefined]",Yt="[object WeakMap]",Gt="[object WeakSet]",fn="[object ArrayBuffer]",gn="[object DataView]",yn="[object Float32Array]",Lt="[object Float64Array]",un="[object Int8Array]",Mn="[object Int16Array]",tr="[object Int32Array]",Rn="[object Uint8Array]",Ne="[object Uint8ClampedArray]",ze="[object Uint16Array]",De="[object Uint32Array]",Pt=/\b__p \+= '';/g,mt=/\b(__p \+=) '' \+/g,xt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,rn=/&(?:amp|lt|gt|quot|#39);/g,Qt=/[&<>"']/g,Fn=RegExp(rn.source),Wn=RegExp(Qt.source),Zn=/<%-([\s\S]+?)%>/g,Nn=/<%([\s\S]+?)%>/g,nr=/<%=([\s\S]+?)%>/g,Ye=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vt=/^\w*$/,oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Be=/[\\^$.*+?()[\]{}|]/g,rt=RegExp(Be.source),Dt=/^\s+/,hn=/\s/,an=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,dt=/\{\n\/\* \[wrapped with (.+)\] \*/,ie=/,? & /,Te=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ue=/[()=,{}\[\]\/\s]/,gt=/\\(\\)?/g,St=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Rt=/\w*$/,ne=/^[-+]0x[0-9a-f]+$/i,Ce=/^0b[01]+$/i,We=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,Ut=/^(?:0|[1-9]\d*)$/,sn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Cn=/($^)/,En=/['\n\r\u2028\u2029\\]/g,vn="\\ud800-\\udfff",zn="\\u0300-\\u036f",Re="\\ufe20-\\ufe2f",$e="\\u20d0-\\u20ff",Ft=zn+Re+$e,N="\\u2700-\\u27bf",V="a-z\\xdf-\\xf6\\xf8-\\xff",Ee="\\xac\\xb1\\xd7\\xf7",xe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",K="\\u2000-\\u206f",ae=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fe="A-Z\\xc0-\\xd6\\xd8-\\xde",Qe="\\ufe0e\\ufe0f",It=Ee+xe+K+ae,At="['\u2019]",dn="["+vn+"]",w="["+It+"]",j="["+Ft+"]",ee="\\d+",Se="["+N+"]",ht="["+V+"]",Tt="[^"+vn+It+ee+N+V+fe+"]",Zt="\\ud83c[\\udffb-\\udfff]",Xt="(?:"+j+"|"+Zt+")",xn="[^"+vn+"]",qn="(?:\\ud83c[\\udde6-\\uddff]){2}",Un="[\\ud800-\\udbff][\\udc00-\\udfff]",Vn="["+fe+"]",Jr="\\u200d",Vr="(?:"+ht+"|"+Tt+")",yr="(?:"+Vn+"|"+Tt+")",Mr="(?:"+At+"(?:d|ll|m|re|s|t|ve))?",xi="(?:"+At+"(?:D|LL|M|RE|S|T|VE))?",ai=Xt+"?",Xi="["+Qe+"]?",ws="(?:"+Jr+"(?:"+[xn,qn,Un].join("|")+")"+Xi+ai+")*",ts="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Aa="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",xa=Xi+ai+ws,yl="(?:"+[Se,qn,Un].join("|")+")"+xa,Nc="(?:"+[xn+j+"?",j,qn,Un,dn].join("|")+")",fu=RegExp(At,"g"),du=RegExp(j,"g"),Xu=RegExp(Zt+"(?="+Zt+")|"+Nc+xa,"g"),Du=RegExp([Vn+"?"+ht+"+"+Mr+"(?="+[w,Vn,"$"].join("|")+")",yr+"+"+xi+"(?="+[w,Vn+Vr,"$"].join("|")+")",Vn+"?"+Vr+"+"+Mr,Vn+"+"+xi,Aa,ts,ee,yl].join("|"),"g"),Lc=RegExp("["+Jr+vn+Ft+Qe+"]"),na=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Zu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nf=-1,Ge={};Ge[yn]=Ge[Lt]=Ge[un]=Ge[Mn]=Ge[tr]=Ge[Rn]=Ge[Ne]=Ge[ze]=Ge[De]=!0,Ge[Je]=Ge[lt]=Ge[fn]=Ge[Ct]=Ge[gn]=Ge[mn]=Ge[Bt]=Ge[tn]=Ge[ve]=Ge[Le]=Ge[ce]=Ge[re]=Ge[Oe]=Ge[nt]=Ge[Yt]=!1;var Kt={};Kt[Je]=Kt[lt]=Kt[fn]=Kt[gn]=Kt[Ct]=Kt[mn]=Kt[yn]=Kt[Lt]=Kt[un]=Kt[Mn]=Kt[tr]=Kt[ve]=Kt[Le]=Kt[ce]=Kt[re]=Kt[Oe]=Kt[nt]=Kt[ft]=Kt[Rn]=Kt[Ne]=Kt[ze]=Kt[De]=!0,Kt[Bt]=Kt[tn]=Kt[Yt]=!1;var jn={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Yn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ri={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Br={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xr=parseFloat,As=parseInt,fo=typeof global=="object"&&global&&global.Object===Object&&global,io=typeof self=="object"&&self&&self.Object===Object&&self,us=fo||io||Function("return this")(),so=typeof j8=="object"&&j8&&!j8.nodeType&&j8,ho=so&&typeof tD=="object"&&tD&&!tD.nodeType&&tD,hi=ho&&ho.exports===so,Ei=hi&&fo.process,Wi=function(){try{var nn=ho&&ho.require&&ho.require("util").types;return nn||Ei&&Ei.binding&&Ei.binding("util")}catch{}}(),Xo=Wi&&Wi.isArrayBuffer,da=Wi&&Wi.isDate,ha=Wi&&Wi.isMap,po=Wi&&Wi.isRegExp,ls=Wi&&Wi.isSet,ps=Wi&&Wi.isTypedArray;function Zi(nn,Jn,bn){switch(bn.length){case 0:return nn.call(Jn);case 1:return nn.call(Jn,bn[0]);case 2:return nn.call(Jn,bn[0],bn[1]);case 3:return nn.call(Jn,bn[0],bn[1],bn[2])}return nn.apply(Jn,bn)}function hu(nn,Jn,bn,Yr){for(var Ti=-1,ns=nn==null?0:nn.length;++Ti<ns;){var ms=nn[Ti];Jn(Yr,ms,bn(ms),nn)}return Yr}function Ps(nn,Jn){for(var bn=-1,Yr=nn==null?0:nn.length;++bn<Yr&&Jn(nn[bn],bn,nn)!==!1;);return nn}function ga(nn,Jn){for(var bn=nn==null?0:nn.length;bn--&&Jn(nn[bn],bn,nn)!==!1;);return nn}function aa(nn,Jn){for(var bn=-1,Yr=nn==null?0:nn.length;++bn<Yr;)if(!Jn(nn[bn],bn,nn))return!1;return!0}function Ri(nn,Jn){for(var bn=-1,Yr=nn==null?0:nn.length,Ti=0,ns=[];++bn<Yr;){var ms=nn[bn];Jn(ms,bn,nn)&&(ns[Ti++]=ms)}return ns}function Wo(nn,Jn){var bn=nn==null?0:nn.length;return!!bn&&la(nn,Jn,0)>-1}function vs(nn,Jn,bn){for(var Yr=-1,Ti=nn==null?0:nn.length;++Yr<Ti;)if(bn(Jn,nn[Yr]))return!0;return!1}function Ii(nn,Jn){for(var bn=-1,Yr=nn==null?0:nn.length,Ti=Array(Yr);++bn<Yr;)Ti[bn]=Jn(nn[bn],bn,nn);return Ti}function Oo(nn,Jn){for(var bn=-1,Yr=Jn.length,Ti=nn.length;++bn<Yr;)nn[Ti+bn]=Jn[bn];return nn}function ka(nn,Jn,bn,Yr){var Ti=-1,ns=nn==null?0:nn.length;for(Yr&&ns&&(bn=nn[++Ti]);++Ti<ns;)bn=Jn(bn,nn[Ti],Ti,nn);return bn}function Xa(nn,Jn,bn,Yr){var Ti=nn==null?0:nn.length;for(Yr&&Ti&&(bn=nn[--Ti]);Ti--;)bn=Jn(bn,nn[Ti],Ti,nn);return bn}function Ro(nn,Jn){for(var bn=-1,Yr=nn==null?0:nn.length;++bn<Yr;)if(Jn(nn[bn],bn,nn))return!0;return!1}var To=el("length");function $a(nn){return nn.split("")}function pu(nn){return nn.match(Te)||[]}function za(nn,Jn,bn){var Yr;return bn(nn,function(Ti,ns,ms){if(Jn(Ti,ns,ms))return Yr=ns,!1}),Yr}function ua(nn,Jn,bn,Yr){for(var Ti=nn.length,ns=bn+(Yr?1:-1);Yr?ns--:++ns<Ti;)if(Jn(nn[ns],ns,nn))return ns;return-1}function la(nn,Jn,bn){return Jn===Jn?Ir(nn,Jn,bn):ua(nn,Hl,bn)}function vl(nn,Jn,bn,Yr){for(var Ti=bn-1,ns=nn.length;++Ti<ns;)if(Yr(nn[Ti],Jn))return Ti;return-1}function Hl(nn){return nn!==nn}function ra(nn,Jn){var bn=nn==null?0:nn.length;return bn?mr(nn,Jn)/bn:et}function el(nn){return function(Jn){return Jn==null?n:Jn[nn]}}function ui(nn){return function(Jn){return nn==null?n:nn[Jn]}}function rs(nn,Jn,bn,Yr,Ti){return Ti(nn,function(ns,ms,Hi){bn=Yr?(Yr=!1,ns):Jn(bn,ns,ms,Hi)}),bn}function cs(nn,Jn){var bn=nn.length;for(nn.sort(Jn);bn--;)nn[bn]=nn[bn].value;return nn}function mr(nn,Jn){for(var bn,Yr=-1,Ti=nn.length;++Yr<Ti;){var ns=Jn(nn[Yr]);ns!==n&&(bn=bn===n?ns:bn+ns)}return bn}function is(nn,Jn){for(var bn=-1,Yr=Array(nn);++bn<nn;)Yr[bn]=Jn(bn);return Yr}function Ie(nn,Jn){return Ii(Jn,function(bn){return[bn,nn[bn]]})}function yt(nn){return nn&&nn.slice(0,xs(nn)+1).replace(Dt,"")}function Jt(nn){return function(Jn){return nn(Jn)}}function $t(nn,Jn){return Ii(Jn,function(bn){return nn[bn]})}function pn(nn,Jn){return nn.has(Jn)}function Ln(nn,Jn){for(var bn=-1,Yr=nn.length;++bn<Yr&&la(Jn,nn[bn],0)>-1;);return bn}function Kn(nn,Jn){for(var bn=nn.length;bn--&&la(Jn,nn[bn],0)>-1;);return bn}function $n(nn,Jn){for(var bn=nn.length,Yr=0;bn--;)nn[bn]===Jn&&++Yr;return Yr}var br=ui(jn),Cr=ui(Yn);function Gn(nn){return"\\"+Br[nn]}function ar(nn,Jn){return nn==null?n:nn[Jn]}function er(nn){return Lc.test(nn)}function gr(nn){return na.test(nn)}function Rr(nn){for(var Jn,bn=[];!(Jn=nn.next()).done;)bn.push(Jn.value);return bn}function di(nn){var Jn=-1,bn=Array(nn.size);return nn.forEach(function(Yr,Ti){bn[++Jn]=[Ti,Yr]}),bn}function ni(nn,Jn){return function(bn){return nn(Jn(bn))}}function pi(nn,Jn){for(var bn=-1,Yr=nn.length,Ti=0,ns=[];++bn<Yr;){var ms=nn[bn];(ms===Jn||ms===l)&&(nn[bn]=l,ns[Ti++]=bn)}return ns}function ii(nn){var Jn=-1,bn=Array(nn.size);return nn.forEach(function(Yr){bn[++Jn]=Yr}),bn}function qr(nn){var Jn=-1,bn=Array(nn.size);return nn.forEach(function(Yr){bn[++Jn]=[Yr,Yr]}),bn}function Ir(nn,Jn,bn){for(var Yr=bn-1,Ti=nn.length;++Yr<Ti;)if(nn[Yr]===Jn)return Yr;return-1}function yi(nn,Jn,bn){for(var Yr=bn+1;Yr--;)if(nn[Yr]===Jn)return Yr;return Yr}function gi(nn){return er(nn)?Bs(nn):To(nn)}function os(nn){return er(nn)?ss(nn):$a(nn)}function xs(nn){for(var Jn=nn.length;Jn--&&hn.test(nn.charAt(Jn)););return Jn}var vi=ui(ri);function Bs(nn){for(var Jn=Xu.lastIndex=0;Xu.test(nn);)++Jn;return Jn}function ss(nn){return nn.match(Xu)||[]}function ya(nn){return nn.match(Du)||[]}var No=function nn(Jn){Jn=Jn==null?us:Ts.defaults(us.Object(),Jn,Ts.pick(us,Zu));var bn=Jn.Array,Yr=Jn.Date,Ti=Jn.Error,ns=Jn.Function,ms=Jn.Math,Hi=Jn.Object,fs=Jn.RegExp,mu=Jn.String,le=Jn.TypeError,ut=bn.prototype,en=ns.prototype,Dn=Hi.prototype,ir=Jn["__core-js_shared__"],vr=en.toString,dr=Dn.hasOwnProperty,es=0,_s=function(){var h=/[^.]+$/.exec(ir&&ir.keys&&ir.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),Ls=Dn.toString,oo=vr.call(Hi),Za=us._,sc=fs("^"+vr.call(dr).replace(Be,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rf=hi?Jn.Buffer:n,kc=Jn.Symbol,u0=Jn.Uint8Array,Q0=rf?rf.allocUnsafe:n,oc=ni(Hi.getPrototypeOf,Hi),sf=Hi.create,l0=Dn.propertyIsEnumerable,_l=ut.splice,Ic=kc?kc.isConcatSpreadable:n,c0=kc?kc.iterator:n,ac=kc?kc.toStringTag:n,Vl=function(){try{var h=Ur(Hi,"defineProperty");return h({},"",{}),h}catch{}}(),G0=Jn.clearTimeout!==us.clearTimeout&&Jn.clearTimeout,Th=Yr&&Yr.now!==us.Date.now&&Yr.now,Y0=Jn.setTimeout!==us.setTimeout&&Jn.setTimeout,K0=ms.ceil,of=ms.floor,J0=Hi.getOwnPropertySymbols,Mc=rf?rf.isBuffer:n,f0=Jn.isFinite,d0=ut.join,h0=ni(Hi.keys,Hi),Uo=ms.max,Zo=ms.min,p0=Yr.now,bl=Jn.parseInt,af=ms.random,jd=ut.reverse,Ou=Ur(Jn,"DataView"),_o=Ur(Jn,"Map"),Fh=Ur(Jn,"Promise"),El=Ur(Jn,"Set"),Is=Ur(Jn,"WeakMap"),Sl=Ur(Hi,"create"),k=Is&&new Is,Z={},je=og(Ou),Nt=og(_o),Vt=og(Fh),An=og(El),kn=og(Is),sr=kc?kc.prototype:n,hr=sr?sr.valueOf:n,Nr=sr?sr.toString:n;function it(h){if(Pu(h)&&!qs(h)&&!(h instanceof Qr)){if(h instanceof Li)return h;if(dr.call(h,"__wrapped__"))return MN(h)}return new Li(h)}var Fi=function(){function h(){}return function(S){if(!nu(S))return{};if(sf)return sf(S);h.prototype=S;var U=new h;return h.prototype=n,U}}();function Qi(){}function Li(h,S){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!S,this.__index__=0,this.__values__=n}it.templateSettings={escape:Zn,evaluate:Nn,interpolate:nr,variable:"",imports:{_:it}},it.prototype=Qi.prototype,it.prototype.constructor=it,Li.prototype=Fi(Qi.prototype),Li.prototype.constructor=Li;function Qr(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=be,this.__views__=[]}function Ys(){var h=new Qr(this.__wrapped__);return h.__actions__=Fe(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=Fe(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=Fe(this.__views__),h}function $o(){if(this.__filtered__){var h=new Qr(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function va(){var h=this.__wrapped__.value(),S=this.__dir__,U=qs(h),me=S<0,pt=U?h.length:0,Wt=hc(0,pt,this.__views__),_n=Wt.start,On=Wt.end,Qn=On-_n,Sr=me?On:_n-1,Tr=this.__iteratees__,Pr=Tr.length,wi=0,Ji=Zo(Qn,this.__takeCount__);if(!U||!me&&pt==Qn&&Ji==Qn)return J1(h,this.__actions__);var ys=[];e:for(;Qn--&&wi<Ji;){Sr+=S;for(var xo=-1,Es=h[Sr];++xo<Pr;){var wo=Tr[xo],Mo=wo.iteratee,ld=wo.type,Uf=Mo(Es);if(ld==Ze)Es=Uf;else if(!Uf){if(ld==ct)continue e;break e}}ys[wi++]=Es}return ys}Qr.prototype=Fi(Qi.prototype),Qr.prototype.constructor=Qr;function mo(h){var S=-1,U=h==null?0:h.length;for(this.clear();++S<U;){var me=h[S];this.set(me[0],me[1])}}function Ia(){this.__data__=Sl?Sl(null):{},this.size=0}function uc(h){var S=this.has(h)&&delete this.__data__[h];return this.size-=S?1:0,S}function Wl(h){var S=this.__data__;if(Sl){var U=S[h];return U===o?n:U}return dr.call(S,h)?S[h]:n}function Ma(h){var S=this.__data__;return Sl?S[h]!==n:dr.call(S,h)}function lc(h,S){var U=this.__data__;return this.size+=this.has(h)?0:1,U[h]=Sl&&S===n?o:S,this}mo.prototype.clear=Ia,mo.prototype.delete=uc,mo.prototype.get=Wl,mo.prototype.has=Ma,mo.prototype.set=lc;function _a(h){var S=-1,U=h==null?0:h.length;for(this.clear();++S<U;){var me=h[S];this.set(me[0],me[1])}}function uf(){this.__data__=[],this.size=0}function lf(h){var S=this.__data__,U=nl(S,h);if(U<0)return!1;var me=S.length-1;return U==me?S.pop():_l.call(S,U,1),--this.size,!0}function tl(h){var S=this.__data__,U=nl(S,h);return U<0?n:S[U][1]}function cc(h){return nl(this.__data__,h)>-1}function H1(h,S){var U=this.__data__,me=nl(U,h);return me<0?(++this.size,U.push([h,S])):U[me][1]=S,this}_a.prototype.clear=uf,_a.prototype.delete=lf,_a.prototype.get=tl,_a.prototype.has=cc,_a.prototype.set=H1;function Pc(h){var S=-1,U=h==null?0:h.length;for(this.clear();++S<U;){var me=h[S];this.set(me[0],me[1])}}function t2(){this.size=0,this.__data__={hash:new mo,map:new(_o||_a),string:new mo}}function Ql(h){var S=js(this,h).delete(h);return this.size-=S?1:0,S}function Rf(h){return js(this,h).get(h)}function Bc(h){return js(this,h).has(h)}function jr(h,S){var U=js(this,h),me=U.size;return U.set(h,S),this.size+=U.size==me?0:1,this}Pc.prototype.clear=t2,Pc.prototype.delete=Ql,Pc.prototype.get=Rf,Pc.prototype.has=Bc,Pc.prototype.set=jr;function X0(h){var S=-1,U=h==null?0:h.length;for(this.__data__=new Pc;++S<U;)this.add(h[S])}function Z0(h){return this.__data__.set(h,o),this}function $r(h){return this.__data__.has(h)}X0.prototype.add=X0.prototype.push=Z0,X0.prototype.has=$r;function wl(h){var S=this.__data__=new _a(h);this.size=S.size}function V1(){this.__data__=new _a,this.size=0}function mp(h){var S=this.__data__,U=S.delete(h);return this.size=S.size,U}function bo(h){return this.__data__.get(h)}function ed(h){return this.__data__.has(h)}function qd(h,S){var U=this.__data__;if(U instanceof _a){var me=U.__data__;if(!_o||me.length<t-1)return me.push([h,S]),this.size=++U.size,this;U=this.__data__=new Pc(me)}return U.set(h,S),this.size=U.size,this}wl.prototype.clear=V1,wl.prototype.delete=mp,wl.prototype.get=bo,wl.prototype.has=ed,wl.prototype.set=qd;function td(h,S){var U=qs(h),me=!U&&i2(h),pt=!U&&!me&&s2(h),Wt=!U&&!me&&!pt&&x3(h),_n=U||me||pt||Wt,On=_n?is(h.length,mu):[],Qn=On.length;for(var Sr in h)(S||dr.call(h,Sr))&&!(_n&&(Sr=="length"||pt&&(Sr=="offset"||Sr=="parent")||Wt&&(Sr=="buffer"||Sr=="byteLength"||Sr=="byteOffset")||Cp(Sr,Qn)))&&On.push(Sr);return On}function cf(h){var S=h.length;return S?h[Lu(0,S-1)]:n}function Zx(h,S){return d3(Fe(h),Nf(S,0,h.length))}function eg(h){return d3(Fe(h))}function Dh(h,S,U){(U!==n&&!Jd(h[S],U)||U===n&&!(S in h))&&rl(h,S,U)}function ff(h,S,U){var me=h[S];(!(dr.call(h,S)&&Jd(me,U))||U===n&&!(S in h))&&rl(h,S,U)}function nl(h,S){for(var U=h.length;U--;)if(Jd(h[U][0],S))return U;return-1}function Ud(h,S,U,me){return jc(h,function(pt,Wt,_n){S(me,pt,U(pt),_n)}),me}function xp(h,S){return h&&ot(S,Bu(S),h)}function W1(h,S){return h&&ot(S,E0(S),h)}function rl(h,S,U){S=="__proto__"&&Vl?Vl(h,S,{configurable:!0,enumerable:!0,value:U,writable:!0}):h[S]=U}function nd(h,S){for(var U=-1,me=S.length,pt=bn(me),Wt=h==null;++U<me;)pt[U]=Wt?n:nA(h,S[U]);return pt}function Nf(h,S,U){return h===h&&(U!==n&&(h=h<=U?h:U),S!==n&&(h=h>=S?h:S)),h}function Cl(h,S,U,me,pt,Wt){var _n,On=S&f,Qn=S&p,Sr=S&_;if(U&&(_n=pt?U(h,me,pt,Wt):U(h)),_n!==n)return _n;if(!nu(h))return h;var Tr=qs(h);if(Tr){if(_n=Gd(h),!On)return Fe(h,_n)}else{var Pr=So(h),wi=Pr==tn||Pr==bt;if(s2(h))return F(h,On);if(Pr==ce||Pr==Je||wi&&!pt){if(_n=Qn||wi?{}:Yd(h),!On)return Qn?wn(h,W1(_n,h)):zt(h,xp(_n,h))}else{if(!Kt[Pr])return pt?h:{};_n=sg(h,Pr,On)}}Wt||(Wt=new wl);var Ji=Wt.get(h);if(Ji)return Ji;Wt.set(h,_n),eA(h)?h.forEach(function(Es){_n.add(Cl(Es,S,U,Es,h,Wt))}):SL(h)&&h.forEach(function(Es,wo){_n.set(wo,Cl(Es,S,U,wo,h,Wt))});var ys=Sr?Qn?a3:r2:Qn?E0:Bu,xo=Tr?n:ys(h);return Ps(xo||h,function(Es,wo){xo&&(wo=Es,Es=h[wo]),ff(_n,wo,Cl(Es,S,U,wo,h,Wt))}),_n}function gp(h){var S=Bu(h);return function(U){return xu(U,h,S)}}function xu(h,S,U){var me=U.length;if(h==null)return!me;for(h=Hi(h);me--;){var pt=U[me],Wt=S[pt],_n=h[pt];if(_n===n&&!(pt in h)||!Wt(_n))return!1}return!0}function Q1(h,S,U){if(typeof h!="function")throw new le(i);return yu(function(){h.apply(n,U)},S)}function il(h,S,U,me){var pt=-1,Wt=Wo,_n=!0,On=h.length,Qn=[],Sr=S.length;if(!On)return Qn;U&&(S=Ii(S,Jt(U))),me?(Wt=vs,_n=!1):S.length>=t&&(Wt=pn,_n=!1,S=new X0(S));e:for(;++pt<On;){var Tr=h[pt],Pr=U==null?Tr:U(Tr);if(Tr=me||Tr!==0?Tr:0,_n&&Pr===Pr){for(var wi=Sr;wi--;)if(S[wi]===Pr)continue e;Qn.push(Tr)}else Wt(S,Pr,me)||Qn.push(Tr)}return Qn}var jc=Hn(Pa),Oh=Hn(Lh,!0);function $d(h,S){var U=!0;return jc(h,function(me,pt,Wt){return U=!!S(me,pt,Wt),U}),U}function df(h,S,U){for(var me=-1,pt=h.length;++me<pt;){var Wt=h[me],_n=S(Wt);if(_n!=null&&(On===n?_n===_n&&!ud(_n):U(_n,On)))var On=_n,Qn=Wt}return Qn}function Rh(h,S,U,me){var pt=h.length;for(U=eo(U),U<0&&(U=-U>pt?0:pt+U),me=me===n||me>pt?pt:eo(me),me<0&&(me+=pt),me=U>me?0:Dp(me);U<me;)h[U++]=S;return h}function yp(h,S){var U=[];return jc(h,function(me,pt,Wt){S(me,pt,Wt)&&U.push(me)}),U}function Ha(h,S,U,me,pt){var Wt=-1,_n=h.length;for(U||(U=RN),pt||(pt=[]);++Wt<_n;){var On=h[Wt];S>0&&U(On)?S>1?Ha(On,S-1,U,me,pt):Oo(pt,On):me||(pt[pt.length]=On)}return pt}var Nh=or(),rd=or(!0);function Pa(h,S){return h&&Nh(h,S,Bu)}function Lh(h,S){return h&&rd(h,S,Bu)}function Ru(h,S){return Ri(S,function(U){return tm(h[U])})}function eu(h,S){S=g0(S,h);for(var U=0,me=S.length;h!=null&&U<me;)h=h[Bf(S[U++])];return U&&U==me?h:n}function kh(h,S,U){var me=S(h);return qs(h)?me:Oo(me,U(h))}function ba(h){return h==null?h===n?Ot:_e:ac&&ac in Hi(h)?mf(h):f3(h)}function Ih(h,S){return h>S}function vp(h,S){return h!=null&&dr.call(h,S)}function m0(h,S){return h!=null&&S in Hi(h)}function id(h,S,U){return h>=Zo(S,U)&&h<Uo(S,U)}function hf(h,S,U){for(var me=U?vs:Wo,pt=h[0].length,Wt=h.length,_n=Wt,On=bn(Wt),Qn=1/0,Sr=[];_n--;){var Tr=h[_n];_n&&S&&(Tr=Ii(Tr,Jt(S))),Qn=Zo(Tr.length,Qn),On[_n]=!U&&(S||pt>=120&&Tr.length>=120)?new X0(_n&&Tr):n}Tr=h[0];var Pr=-1,wi=On[0];e:for(;++Pr<pt&&Sr.length<Qn;){var Ji=Tr[Pr],ys=S?S(Ji):Ji;if(Ji=U||Ji!==0?Ji:0,!(wi?pn(wi,ys):me(Sr,ys,U))){for(_n=Wt;--_n;){var xo=On[_n];if(!(xo?pn(xo,ys):me(h[_n],ys,U)))continue e}wi&&wi.push(ys),Sr.push(Ji)}}return Sr}function Gl(h,S,U,me){return Pa(h,function(pt,Wt,_n){S(me,U(pt),Wt,_n)}),me}function Nu(h,S,U){S=g0(S,h),h=AE(h,S);var me=h==null?h:h[Bf(Kd(S))];return me==null?n:Zi(me,h,U)}function _p(h){return Pu(h)&&ba(h)==Je}function sl(h){return Pu(h)&&ba(h)==fn}function Mh(h){return Pu(h)&&ba(h)==mn}function zd(h,S,U,me,pt){return h===S?!0:h==null||S==null||!Pu(h)&&!Pu(S)?h!==h&&S!==S:n2(h,S,U,me,zd,pt)}function n2(h,S,U,me,pt,Wt){var _n=qs(h),On=qs(S),Qn=_n?lt:So(h),Sr=On?lt:So(S);Qn=Qn==Je?ce:Qn,Sr=Sr==Je?ce:Sr;var Tr=Qn==ce,Pr=Sr==ce,wi=Qn==Sr;if(wi&&s2(h)){if(!s2(S))return!1;_n=!0,Tr=!1}if(wi&&!Tr)return Wt||(Wt=new wl),_n||x3(h)?Qd(h,S,U,me,pt,Wt):X1(h,S,Qn,U,me,pt,Wt);if(!(U&E)){var Ji=Tr&&dr.call(h,"__wrapped__"),ys=Pr&&dr.call(S,"__wrapped__");if(Ji||ys){var xo=Ji?h.value():h,Es=ys?S.value():S;return Wt||(Wt=new wl),pt(xo,Es,U,me,Wt)}}return wi?(Wt||(Wt=new wl),wp(h,S,U,me,pt,Wt)):!1}function bp(h){return Pu(h)&&So(h)==ve}function Lf(h,S,U,me){var pt=U.length,Wt=pt,_n=!me;if(h==null)return!Wt;for(h=Hi(h);pt--;){var On=U[pt];if(_n&&On[2]?On[1]!==h[On[0]]:!(On[0]in h))return!1}for(;++pt<Wt;){On=U[pt];var Qn=On[0],Sr=h[Qn],Tr=On[1];if(_n&&On[2]){if(Sr===n&&!(Qn in h))return!1}else{var Pr=new wl;if(me)var wi=me(Sr,Tr,Qn,h,S,Pr);if(!(wi===n?zd(Tr,Sr,E|O,me,Pr):wi))return!1}}return!0}function sd(h){if(!nu(h)||IW(h))return!1;var S=tm(h)?sc:We;return S.test(og(h))}function Xs(h){return Pu(h)&&ba(h)==re}function A(h){return Pu(h)&&So(h)==Oe}function W(h){return Pu(h)&&$E(h.length)&&!!Ge[ba(h)]}function de(h){return typeof h=="function"?h:h==null?qf:typeof h=="object"?qs(h)?Bi(h[0],h[1]):$i(h):YE(h)}function Pe(h){if(!K4(h))return h0(h);var S=[];for(var U in Hi(h))dr.call(h,U)&&U!="constructor"&&S.push(U);return S}function wt(h){if(!nu(h))return PW(h);var S=K4(h),U=[];for(var me in h)me=="constructor"&&(S||!dr.call(h,me))||U.push(me);return U}function Tn(h,S){return h<S}function ur(h,S){var U=-1,me=_0(h)?bn(h.length):[];return jc(h,function(pt,Wt,_n){me[++U]=S(pt,Wt,_n)}),me}function $i(h){var S=Eo(h);return S.length==1&&S[0][2]?T9(S[0][0],S[0][1]):function(U){return U===h||Lf(U,h,S)}}function Bi(h,S){return A9(h)&&NN(S)?T9(Bf(h),S):function(U){var me=nA(U,h);return me===n&&me===S?l_(U,h):zd(S,me,E|O)}}function ao(h,S,U,me,pt){h!==S&&Nh(S,function(Wt,_n){if(pt||(pt=new wl),nu(Wt))gu(h,S,_n,U,ao,me,pt);else{var On=me?me(F9(h,_n),Wt,_n+"",h,S,pt):n;On===n&&(On=Wt),Dh(h,_n,On)}},E0)}function gu(h,S,U,me,pt,Wt,_n){var On=F9(h,U),Qn=F9(S,U),Sr=_n.get(Qn);if(Sr){Dh(h,U,Sr);return}var Tr=Wt?Wt(On,Qn,U+"",h,S,_n):n,Pr=Tr===n;if(Pr){var wi=qs(Qn),Ji=!wi&&s2(Qn),ys=!wi&&!Ji&&x3(Qn);Tr=Qn,wi||Ji||ys?qs(On)?Tr=On:Mu(On)?Tr=Fe(On):Ji?(Pr=!1,Tr=F(Qn,!0)):ys?(Pr=!1,Tr=x(Qn,!0)):Tr=[]:m3(Qn)||i2(Qn)?(Tr=On,i2(On)?Tr=b0(On):(!nu(On)||tm(On))&&(Tr=Yd(Qn))):Pr=!1}Pr&&(_n.set(Qn,Tr),pt(Tr,Qn,me,Wt,_n),_n.delete(Qn)),Dh(h,U,Tr)}function qc(h,S){var U=h.length;if(!!U)return S+=S<0?U:0,Cp(S,U)?h[S]:n}function kf(h,S,U){S.length?S=Ii(S,function(Wt){return qs(Wt)?function(_n){return eu(_n,Wt.length===1?Wt[0]:Wt)}:Wt}):S=[qf];var me=-1;S=Ii(S,Jt(Dr()));var pt=ur(h,function(Wt,_n,On){var Qn=Ii(S,function(Sr){return Sr(Wt)});return{criteria:Qn,index:++me,value:Wt}});return cs(pt,function(Wt,_n){return $(Wt,_n,U)})}function wE(h,S){return r3(h,S,function(U,me){return l_(h,me)})}function r3(h,S,U){for(var me=-1,pt=S.length,Wt={};++me<pt;){var _n=S[me],On=eu(h,_n);U(On,_n)&&Ep(Wt,g0(_n,h),On)}return Wt}function Q4(h){return function(S){return eu(S,h)}}function i3(h,S,U,me){var pt=me?vl:la,Wt=-1,_n=S.length,On=h;for(h===S&&(S=Fe(S)),U&&(On=Ii(h,Jt(U)));++Wt<_n;)for(var Qn=0,Sr=S[Wt],Tr=U?U(Sr):Sr;(Qn=pt(On,Tr,Qn,me))>-1;)On!==h&&_l.call(On,Qn,1),_l.call(h,Qn,1);return h}function od(h,S){for(var U=h?S.length:0,me=U-1;U--;){var pt=S[U];if(U==me||pt!==Wt){var Wt=pt;Cp(pt)?_l.call(h,pt,1):K1(h,pt)}}return h}function Lu(h,S){return h+of(af()*(S-h+1))}function G4(h,S,U,me){for(var pt=-1,Wt=Uo(K0((S-h)/(U||1)),0),_n=bn(Wt);Wt--;)_n[me?Wt:++pt]=h,h+=U;return _n}function Ph(h,S){var U="";if(!h||S<1||S>qe)return U;do S%2&&(U+=h),S=of(S/2),S&&(h+=h);while(S);return U}function Fs(h,S){return FE(CE(h,S,qf),h+"")}function x0(h){return cf(v3(h))}function Al(h,S){var U=v3(h);return d3(U,Nf(S,0,U.length))}function Ep(h,S,U,me){if(!nu(h))return h;S=g0(S,h);for(var pt=-1,Wt=S.length,_n=Wt-1,On=h;On!=null&&++pt<Wt;){var Qn=Bf(S[pt]),Sr=U;if(Qn==="__proto__"||Qn==="constructor"||Qn==="prototype")return h;if(pt!=_n){var Tr=On[Qn];Sr=me?me(Tr,Qn,On):n,Sr===n&&(Sr=nu(Tr)?Tr:Cp(S[pt+1])?[]:{})}ff(On,Qn,Sr),On=On[Qn]}return h}var ku=k?function(h,S){return k.set(h,S),h}:qf,G1=Vl?function(h,S){return Vl(h,"toString",{configurable:!0,enumerable:!1,value:QE(S),writable:!0})}:qf;function Y1(h){return d3(v3(h))}function Tl(h,S,U){var me=-1,pt=h.length;S<0&&(S=-S>pt?0:pt+S),U=U>pt?pt:U,U<0&&(U+=pt),pt=S>U?0:U-S>>>0,S>>>=0;for(var Wt=bn(pt);++me<pt;)Wt[me]=h[me+S];return Wt}function s3(h,S){var U;return jc(h,function(me,pt,Wt){return U=S(me,pt,Wt),!U}),!!U}function Hd(h,S,U){var me=0,pt=h==null?me:h.length;if(typeof S=="number"&&S===S&&pt<=we){for(;me<pt;){var Wt=me+pt>>>1,_n=h[Wt];_n!==null&&!ud(_n)&&(U?_n<=S:_n<S)?me=Wt+1:pt=Wt}return pt}return Bh(h,S,qf,U)}function Bh(h,S,U,me){var pt=0,Wt=h==null?0:h.length;if(Wt===0)return 0;S=U(S);for(var _n=S!==S,On=S===null,Qn=ud(S),Sr=S===n;pt<Wt;){var Tr=of((pt+Wt)/2),Pr=U(h[Tr]),wi=Pr!==n,Ji=Pr===null,ys=Pr===Pr,xo=ud(Pr);if(_n)var Es=me||ys;else Sr?Es=ys&&(me||wi):On?Es=ys&&wi&&(me||!Ji):Qn?Es=ys&&wi&&!Ji&&(me||!xo):Ji||xo?Es=!1:Es=me?Pr<=S:Pr<S;Es?pt=Tr+1:Wt=Tr}return Zo(Wt,ke)}function o3(h,S){for(var U=-1,me=h.length,pt=0,Wt=[];++U<me;){var _n=h[U],On=S?S(_n):_n;if(!U||!Jd(On,Qn)){var Qn=On;Wt[pt++]=_n===0?0:_n}}return Wt}function If(h){return typeof h=="number"?h:ud(h)?et:+h}function Fl(h){if(typeof h=="string")return h;if(qs(h))return Ii(h,Fl)+"";if(ud(h))return Nr?Nr.call(h):"";var S=h+"";return S=="0"&&1/h==-Mt?"-0":S}function Mf(h,S,U){var me=-1,pt=Wo,Wt=h.length,_n=!0,On=[],Qn=On;if(U)_n=!1,pt=vs;else if(Wt>=t){var Sr=S?null:Dl(h);if(Sr)return ii(Sr);_n=!1,pt=pn,Qn=new X0}else Qn=S?[]:On;e:for(;++me<Wt;){var Tr=h[me],Pr=S?S(Tr):Tr;if(Tr=U||Tr!==0?Tr:0,_n&&Pr===Pr){for(var wi=Qn.length;wi--;)if(Qn[wi]===Pr)continue e;S&&Qn.push(Pr),On.push(Tr)}else pt(Qn,Pr,U)||(Qn!==On&&Qn.push(Pr),On.push(Tr))}return On}function K1(h,S){return S=g0(S,h),h=AE(h,S),h==null||delete h[Bf(Kd(S))]}function Sp(h,S,U,me){return Ep(h,S,U(eu(h,S)),me)}function Vd(h,S,U,me){for(var pt=h.length,Wt=me?pt:-1;(me?Wt--:++Wt<pt)&&S(h[Wt],Wt,h););return U?Tl(h,me?0:Wt,me?Wt+1:pt):Tl(h,me?Wt+1:0,me?pt:Wt)}function J1(h,S){var U=h;return U instanceof Qr&&(U=U.value()),ka(S,function(me,pt){return pt.func.apply(pt.thisArg,Oo([me],pt.args))},U)}function pf(h,S,U){var me=h.length;if(me<2)return me?Mf(h[0]):[];for(var pt=-1,Wt=bn(me);++pt<me;)for(var _n=h[pt],On=-1;++On<me;)On!=pt&&(Wt[pt]=il(Wt[pt]||_n,h[On],S,U));return Mf(Ha(Wt,1),S,U)}function tg(h,S,U){for(var me=-1,pt=h.length,Wt=S.length,_n={};++me<pt;){var On=me<Wt?S[me]:n;U(_n,h[me],On)}return _n}function ng(h){return Mu(h)?h:[]}function fc(h){return typeof h=="function"?h:qf}function g0(h,S){return qs(h)?h:A9(h,S)?[h]:X4(Qo(h))}var Y4=Fs;function ad(h,S,U){var me=h.length;return U=U===n?me:U,!S&&U>=me?h:Tl(h,S,U)}var y=G0||function(h){return us.clearTimeout(h)};function F(h,S){if(S)return h.slice();var U=h.length,me=Q0?Q0(U):new h.constructor(U);return h.copy(me),me}function H(h){var S=new h.constructor(h.byteLength);return new u0(S).set(new u0(h)),S}function Y(h,S){var U=S?H(h.buffer):h.buffer;return new h.constructor(U,h.byteOffset,h.byteLength)}function Me(h){var S=new h.constructor(h.source,Rt.exec(h));return S.lastIndex=h.lastIndex,S}function _t(h){return hr?Hi(hr.call(h)):{}}function x(h,S){var U=S?H(h.buffer):h.buffer;return new h.constructor(U,h.byteOffset,h.length)}function T(h,S){if(h!==S){var U=h!==n,me=h===null,pt=h===h,Wt=ud(h),_n=S!==n,On=S===null,Qn=S===S,Sr=ud(S);if(!On&&!Sr&&!Wt&&h>S||Wt&&_n&&Qn&&!On&&!Sr||me&&_n&&Qn||!U&&Qn||!pt)return 1;if(!me&&!Wt&&!Sr&&h<S||Sr&&U&&pt&&!me&&!Wt||On&&U&&pt||!_n&&pt||!Qn)return-1}return 0}function $(h,S,U){for(var me=-1,pt=h.criteria,Wt=S.criteria,_n=pt.length,On=U.length;++me<_n;){var Qn=T(pt[me],Wt[me]);if(Qn){if(me>=On)return Qn;var Sr=U[me];return Qn*(Sr=="desc"?-1:1)}}return h.index-S.index}function X(h,S,U,me){for(var pt=-1,Wt=h.length,_n=U.length,On=-1,Qn=S.length,Sr=Uo(Wt-_n,0),Tr=bn(Qn+Sr),Pr=!me;++On<Qn;)Tr[On]=S[On];for(;++pt<_n;)(Pr||pt<Wt)&&(Tr[U[pt]]=h[pt]);for(;Sr--;)Tr[On++]=h[pt++];return Tr}function ge(h,S,U,me){for(var pt=-1,Wt=h.length,_n=-1,On=U.length,Qn=-1,Sr=S.length,Tr=Uo(Wt-On,0),Pr=bn(Tr+Sr),wi=!me;++pt<Tr;)Pr[pt]=h[pt];for(var Ji=pt;++Qn<Sr;)Pr[Ji+Qn]=S[Qn];for(;++_n<On;)(wi||pt<Wt)&&(Pr[Ji+U[_n]]=h[pt++]);return Pr}function Fe(h,S){var U=-1,me=h.length;for(S||(S=bn(me));++U<me;)S[U]=h[U];return S}function ot(h,S,U,me){var pt=!U;U||(U={});for(var Wt=-1,_n=S.length;++Wt<_n;){var On=S[Wt],Qn=me?me(U[On],h[On],On,U,h):n;Qn===n&&(Qn=h[On]),pt?rl(U,On,Qn):ff(U,On,Qn)}return U}function zt(h,S){return ot(h,Er(h),S)}function wn(h,S){return ot(h,al(h),S)}function Sn(h,S){return function(U,me){var pt=qs(U)?hu:Ud,Wt=S?S():{};return pt(U,h,Dr(me,2),Wt)}}function Pn(h){return Fs(function(S,U){var me=-1,pt=U.length,Wt=pt>1?U[pt-1]:n,_n=pt>2?U[2]:n;for(Wt=h.length>3&&typeof Wt=="function"?(pt--,Wt):n,_n&&Pf(U[0],U[1],_n)&&(Wt=pt<3?n:Wt,pt=1),S=Hi(S);++me<pt;){var On=U[me];On&&h(S,On,me,Wt)}return S})}function Hn(h,S){return function(U,me){if(U==null)return U;if(!_0(U))return h(U,me);for(var pt=U.length,Wt=S?pt:-1,_n=Hi(U);(S?Wt--:++Wt<pt)&&me(_n[Wt],Wt,_n)!==!1;);return U}}function or(h){return function(S,U,me){for(var pt=-1,Wt=Hi(S),_n=me(S),On=_n.length;On--;){var Qn=_n[h?On:++pt];if(U(Wt[Qn],Qn,Wt)===!1)break}return S}}function Or(h,S,U){var me=S&R,pt=bi(h);function Wt(){var _n=this&&this!==us&&this instanceof Wt?pt:h;return _n.apply(me?U:this,arguments)}return Wt}function Kr(h){return function(S){S=Qo(S);var U=er(S)?os(S):n,me=U?U[0]:S.charAt(0),pt=U?ad(U,1).join(""):S.slice(1);return me[h]()+pt}}function Lr(h){return function(S){return ka(h_(jL(S).replace(fu,"")),h,"")}}function bi(h){return function(){var S=arguments;switch(S.length){case 0:return new h;case 1:return new h(S[0]);case 2:return new h(S[0],S[1]);case 3:return new h(S[0],S[1],S[2]);case 4:return new h(S[0],S[1],S[2],S[3]);case 5:return new h(S[0],S[1],S[2],S[3],S[4]);case 6:return new h(S[0],S[1],S[2],S[3],S[4],S[5]);case 7:return new h(S[0],S[1],S[2],S[3],S[4],S[5],S[6])}var U=Fi(h.prototype),me=h.apply(U,S);return nu(me)?me:U}}function ki(h,S,U){var me=bi(h);function pt(){for(var Wt=arguments.length,_n=bn(Wt),On=Wt,Qn=Z1(pt);On--;)_n[On]=arguments[On];var Sr=Wt<3&&_n[0]!==Qn&&_n[Wt-1]!==Qn?[]:pi(_n,Qn);if(Wt-=Sr.length,Wt<U)return Ta(h,S,Zs,pt.placeholder,n,_n,Sr,n,n,U-Wt);var Tr=this&&this!==us&&this instanceof pt?me:h;return Zi(Tr,this,_n)}return pt}function Os(h){return function(S,U,me){var pt=Hi(S);if(!_0(S)){var Wt=Dr(U,3);S=Bu(S),U=function(On){return Wt(pt[On],On,pt)}}var _n=h(S,U,me);return _n>-1?pt[Wt?S[_n]:_n]:n}}function ds(h){return v0(function(S){var U=S.length,me=U,pt=Li.prototype.thru;for(h&&S.reverse();me--;){var Wt=S[me];if(typeof Wt!="function")throw new le(i);if(pt&&!_n&&ig(Wt)=="wrapper")var _n=new Li([],!0)}for(me=_n?me:U;++me<U;){Wt=S[me];var On=ig(Wt),Qn=On=="wrapper"?rg(Wt):n;Qn&&c3(Qn[0])&&Qn[1]==(ue|L|P|I)&&!Qn[4].length&&Qn[9]==1?_n=_n[ig(Qn[0])].apply(_n,Qn[3]):_n=Wt.length==1&&c3(Wt)?_n[On]():_n.thru(Wt)}return function(){var Sr=arguments,Tr=Sr[0];if(_n&&Sr.length==1&&qs(Tr))return _n.plant(Tr).value();for(var Pr=0,wi=U?S[Pr].apply(this,Sr):Tr;++Pr<U;)wi=S[Pr].call(this,wi);return wi}})}function Zs(h,S,U,me,pt,Wt,_n,On,Qn,Sr){var Tr=S&ue,Pr=S&R,wi=S&q,Ji=S&(L|B),ys=S&J,xo=wi?n:bi(h);function Es(){for(var wo=arguments.length,Mo=bn(wo),ld=wo;ld--;)Mo[ld]=arguments[ld];if(Ji)var Uf=Z1(Es),cd=$n(Mo,Uf);if(me&&(Mo=X(Mo,me,pt,Ji)),Wt&&(Mo=ge(Mo,Wt,_n,Ji)),wo-=cd,Ji&&wo<Sr){var ju=pi(Mo,Uf);return Ta(h,S,Zs,Es.placeholder,U,Mo,ju,On,Qn,Sr-wo)}var fd=Pr?U:this,Zd=wi?fd[h]:h;return wo=Mo.length,On?Mo=TE(Mo,On):ys&&wo>1&&Mo.reverse(),Tr&&Qn<wo&&(Mo.length=Qn),this&&this!==us&&this instanceof Es&&(Zd=xo||bi(Zd)),Zd.apply(fd,Mo)}return Es}function gs(h,S){return function(U,me){return Gl(U,h,S(me),{})}}function Gr(h,S){return function(U,me){var pt;if(U===n&&me===n)return S;if(U!==n&&(pt=U),me!==n){if(pt===n)return me;typeof U=="string"||typeof me=="string"?(U=Fl(U),me=Fl(me)):(U=If(U),me=If(me)),pt=h(U,me)}return pt}}function Ki(h){return v0(function(S){return S=Ii(S,Jt(Dr())),Fs(function(U){var me=this;return h(S,function(pt){return Zi(pt,me,U)})})})}function Ba(h,S){S=S===n?" ":Fl(S);var U=S.length;if(U<2)return U?Ph(S,h):S;var me=Ph(S,K0(h/gi(S)));return er(S)?ad(os(me),0,h).join(""):me.slice(0,h)}function tu(h,S,U,me){var pt=S&R,Wt=bi(h);function _n(){for(var On=-1,Qn=arguments.length,Sr=-1,Tr=me.length,Pr=bn(Tr+Qn),wi=this&&this!==us&&this instanceof _n?Wt:h;++Sr<Tr;)Pr[Sr]=me[Sr];for(;Qn--;)Pr[Sr++]=arguments[++On];return Zi(wi,pt?U:this,Pr)}return _n}function Iu(h){return function(S,U,me){return me&&typeof me!="number"&&Pf(S,U,me)&&(U=me=n),S=nm(S),U===n?(U=S,S=0):U=nm(U),me=me===n?S<U?1:-1:nm(me),G4(S,U,me,h)}}function bs(h){return function(S,U){return typeof S=="string"&&typeof U=="string"||(S=ul(S),U=ul(U)),h(S,U)}}function Ta(h,S,U,me,pt,Wt,_n,On,Qn,Sr){var Tr=S&L,Pr=Tr?_n:n,wi=Tr?n:_n,Ji=Tr?Wt:n,ys=Tr?n:Wt;S|=Tr?P:G,S&=~(Tr?G:P),S&z||(S&=~(R|q));var xo=[h,S,pt,Ji,Pr,ys,wi,On,Qn,Sr],Es=U.apply(n,xo);return c3(h)&&jh(Es,xo),Es.placeholder=me,J4(Es,h,S)}function Va(h){var S=ms[h];return function(U,me){if(U=ul(U),me=me==null?0:Zo(eo(me),292),me&&f0(U)){var pt=(Qo(U)+"e").split("e"),Wt=S(pt[0]+"e"+(+pt[1]+me));return pt=(Qo(Wt)+"e").split("e"),+(pt[0]+"e"+(+pt[1]-me))}return S(U)}}var Dl=El&&1/ii(new El([,-0]))[1]==Mt?function(h){return new El(h)}:_3;function Wd(h){return function(S){var U=So(S);return U==ve?di(S):U==Oe?qr(S):Ie(S,h(S))}}function ol(h,S,U,me,pt,Wt,_n,On){var Qn=S&q;if(!Qn&&typeof h!="function")throw new le(i);var Sr=me?me.length:0;if(Sr||(S&=~(P|G),me=pt=n),_n=_n===n?_n:Uo(eo(_n),0),On=On===n?On:eo(On),Sr-=pt?pt.length:0,S&G){var Tr=me,Pr=pt;me=pt=n}var wi=Qn?n:rg(h),Ji=[h,S,U,me,pt,Tr,Pr,Wt,_n,On];if(wi&&kN(Ji,wi),h=Ji[0],S=Ji[1],U=Ji[2],me=Ji[3],pt=Ji[4],On=Ji[9]=Ji[9]===n?Qn?0:h.length:Uo(Ji[9]-Sr,0),!On&&S&(L|B)&&(S&=~(L|B)),!S||S==R)var ys=Or(h,S,U);else S==L||S==B?ys=ki(h,S,On):(S==P||S==(R|P))&&!pt.length?ys=tu(h,S,U,me):ys=Zs.apply(n,Ji);var xo=wi?ku:jh;return J4(xo(ys,Ji),h,S)}function y0(h,S,U,me){return h===n||Jd(h,Dn[U])&&!dr.call(me,U)?S:h}function Ea(h,S,U,me,pt,Wt){return nu(h)&&nu(S)&&(Wt.set(S,h),ao(h,S,n,Ea,Wt),Wt.delete(S)),h}function dc(h){return m3(h)?n:h}function Qd(h,S,U,me,pt,Wt){var _n=U&E,On=h.length,Qn=S.length;if(On!=Qn&&!(_n&&Qn>On))return!1;var Sr=Wt.get(h),Tr=Wt.get(S);if(Sr&&Tr)return Sr==S&&Tr==h;var Pr=-1,wi=!0,Ji=U&O?new X0:n;for(Wt.set(h,S),Wt.set(S,h);++Pr<On;){var ys=h[Pr],xo=S[Pr];if(me)var Es=_n?me(xo,ys,Pr,S,h,Wt):me(ys,xo,Pr,h,S,Wt);if(Es!==n){if(Es)continue;wi=!1;break}if(Ji){if(!Ro(S,function(wo,Mo){if(!pn(Ji,Mo)&&(ys===wo||pt(ys,wo,U,me,Wt)))return Ji.push(Mo)})){wi=!1;break}}else if(!(ys===xo||pt(ys,xo,U,me,Wt))){wi=!1;break}}return Wt.delete(h),Wt.delete(S),wi}function X1(h,S,U,me,pt,Wt,_n){switch(U){case gn:if(h.byteLength!=S.byteLength||h.byteOffset!=S.byteOffset)return!1;h=h.buffer,S=S.buffer;case fn:return!(h.byteLength!=S.byteLength||!Wt(new u0(h),new u0(S)));case Ct:case mn:case Le:return Jd(+h,+S);case Bt:return h.name==S.name&&h.message==S.message;case re:case nt:return h==S+"";case ve:var On=di;case Oe:var Qn=me&E;if(On||(On=ii),h.size!=S.size&&!Qn)return!1;var Sr=_n.get(h);if(Sr)return Sr==S;me|=O,_n.set(h,S);var Tr=Qd(On(h),On(S),me,pt,Wt,_n);return _n.delete(h),Tr;case ft:if(hr)return hr.call(h)==hr.call(S)}return!1}function wp(h,S,U,me,pt,Wt){var _n=U&E,On=r2(h),Qn=On.length,Sr=r2(S),Tr=Sr.length;if(Qn!=Tr&&!_n)return!1;for(var Pr=Qn;Pr--;){var wi=On[Pr];if(!(_n?wi in S:dr.call(S,wi)))return!1}var Ji=Wt.get(h),ys=Wt.get(S);if(Ji&&ys)return Ji==S&&ys==h;var xo=!0;Wt.set(h,S),Wt.set(S,h);for(var Es=_n;++Pr<Qn;){wi=On[Pr];var wo=h[wi],Mo=S[wi];if(me)var ld=_n?me(Mo,wo,wi,S,h,Wt):me(wo,Mo,wi,h,S,Wt);if(!(ld===n?wo===Mo||pt(wo,Mo,U,me,Wt):ld)){xo=!1;break}Es||(Es=wi=="constructor")}if(xo&&!Es){var Uf=h.constructor,cd=S.constructor;Uf!=cd&&"constructor"in h&&"constructor"in S&&!(typeof Uf=="function"&&Uf instanceof Uf&&typeof cd=="function"&&cd instanceof cd)&&(xo=!1)}return Wt.delete(h),Wt.delete(S),xo}function v0(h){return FE(CE(h,n,t_),h+"")}function r2(h){return kh(h,Bu,Er)}function a3(h){return kh(h,E0,al)}var rg=k?function(h){return k.get(h)}:_3;function ig(h){for(var S=h.name+"",U=Z[S],me=dr.call(Z,S)?U.length:0;me--;){var pt=U[me],Wt=pt.func;if(Wt==null||Wt==h)return pt.name}return S}function Z1(h){var S=dr.call(it,"placeholder")?it:h;return S.placeholder}function Dr(){var h=it.iteratee||GE;return h=h===GE?de:h,arguments.length?h(arguments[0],arguments[1]):h}function js(h,S){var U=h.__data__;return fi(S)?U[typeof S=="string"?"string":"hash"]:U.map}function Eo(h){for(var S=Bu(h),U=S.length;U--;){var me=S[U],pt=h[me];S[U]=[me,pt,NN(pt)]}return S}function Ur(h,S){var U=ar(h,S);return sd(U)?U:n}function mf(h){var S=dr.call(h,ac),U=h[ac];try{h[ac]=n;var me=!0}catch{}var pt=Ls.call(h);return me&&(S?h[ac]=U:delete h[ac]),pt}var Er=J0?function(h){return h==null?[]:(h=Hi(h),Ri(J0(h),function(S){return l0.call(h,S)}))}:dA,al=J0?function(h){for(var S=[];h;)Oo(S,Er(h)),h=oc(h);return S}:dA,So=ba;(Ou&&So(new Ou(new ArrayBuffer(1)))!=gn||_o&&So(new _o)!=ve||Fh&&So(Fh.resolve())!=tt||El&&So(new El)!=Oe||Is&&So(new Is)!=Yt)&&(So=function(h){var S=ba(h),U=S==ce?h.constructor:n,me=U?og(U):"";if(me)switch(me){case je:return gn;case Nt:return ve;case Vt:return tt;case An:return Oe;case kn:return Yt}return S});function hc(h,S,U){for(var me=-1,pt=U.length;++me<pt;){var Wt=U[me],_n=Wt.size;switch(Wt.type){case"drop":h+=_n;break;case"dropRight":S-=_n;break;case"take":S=Zo(S,h+_n);break;case"takeRight":h=Uo(h,S-_n);break}}return{start:h,end:S}}function u3(h){var S=h.match(dt);return S?S[1].split(ie):[]}function ks(h,S,U){S=g0(S,h);for(var me=-1,pt=S.length,Wt=!1;++me<pt;){var _n=Bf(S[me]);if(!(Wt=h!=null&&U(h,_n)))break;h=h[_n]}return Wt||++me!=pt?Wt:(pt=h==null?0:h.length,!!pt&&$E(pt)&&Cp(_n,pt)&&(qs(h)||i2(h)))}function Gd(h){var S=h.length,U=new h.constructor(S);return S&&typeof h[0]=="string"&&dr.call(h,"index")&&(U.index=h.index,U.input=h.input),U}function Yd(h){return typeof h.constructor=="function"&&!K4(h)?Fi(oc(h)):{}}function sg(h,S,U){var me=h.constructor;switch(S){case fn:return H(h);case Ct:case mn:return new me(+h);case gn:return Y(h,U);case yn:case Lt:case un:case Mn:case tr:case Rn:case Ne:case ze:case De:return x(h,U);case ve:return new me;case Le:case nt:return new me(h);case re:return Me(h);case Oe:return new me;case ft:return _t(h)}}function l3(h,S){var U=S.length;if(!U)return h;var me=U-1;return S[me]=(U>1?"& ":"")+S[me],S=S.join(U>2?", ":" "),h.replace(an,`{
/* [wrapped with `+S+`] */
`)}function RN(h){return qs(h)||i2(h)||!!(Ic&&h&&h[Ic])}function Cp(h,S){var U=typeof h;return S=S??qe,!!S&&(U=="number"||U!="symbol"&&Ut.test(h))&&h>-1&&h%1==0&&h<S}function Pf(h,S,U){if(!nu(U))return!1;var me=typeof S;return(me=="number"?_0(U)&&Cp(S,U.length):me=="string"&&S in U)?Jd(U[S],h):!1}function A9(h,S){if(qs(h))return!1;var U=typeof h;return U=="number"||U=="symbol"||U=="boolean"||h==null||ud(h)?!0:vt.test(h)||!Ye.test(h)||S!=null&&h in Hi(S)}function fi(h){var S=typeof h;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?h!=="__proto__":h===null}function c3(h){var S=ig(h),U=it[S];if(typeof U!="function"||!(S in Qr.prototype))return!1;if(h===U)return!0;var me=rg(U);return!!me&&h===me[0]}function IW(h){return!!_s&&_s in h}var MW=ir?tm:KE;function K4(h){var S=h&&h.constructor,U=typeof S=="function"&&S.prototype||Dn;return h===U}function NN(h){return h===h&&!nu(h)}function T9(h,S){return function(U){return U==null?!1:U[h]===S&&(S!==n||h in Hi(U))}}function LN(h){var S=jE(h,function(me){return U.size===a&&U.clear(),me}),U=S.cache;return S}function kN(h,S){var U=h[1],me=S[1],pt=U|me,Wt=pt<(R|q|ue),_n=me==ue&&U==L||me==ue&&U==I&&h[7].length<=S[8]||me==(ue|I)&&S[7].length<=S[8]&&U==L;if(!(Wt||_n))return h;me&R&&(h[2]=S[2],pt|=U&R?0:z);var On=S[3];if(On){var Qn=h[3];h[3]=Qn?X(Qn,On,S[4]):On,h[4]=Qn?pi(h[3],l):S[4]}return On=S[5],On&&(Qn=h[5],h[5]=Qn?ge(Qn,On,S[6]):On,h[6]=Qn?pi(h[5],l):S[6]),On=S[7],On&&(h[7]=On),me&ue&&(h[8]=h[8]==null?S[8]:Zo(h[8],S[8])),h[9]==null&&(h[9]=S[9]),h[0]=S[0],h[1]=pt,h}function PW(h){var S=[];if(h!=null)for(var U in Hi(h))S.push(U);return S}function f3(h){return Ls.call(h)}function CE(h,S,U){return S=Uo(S===n?h.length-1:S,0),function(){for(var me=arguments,pt=-1,Wt=Uo(me.length-S,0),_n=bn(Wt);++pt<Wt;)_n[pt]=me[S+pt];pt=-1;for(var On=bn(S+1);++pt<S;)On[pt]=me[pt];return On[S]=U(_n),Zi(h,this,On)}}function AE(h,S){return S.length<2?h:eu(h,Tl(S,0,-1))}function TE(h,S){for(var U=h.length,me=Zo(S.length,U),pt=Fe(h);me--;){var Wt=S[me];h[me]=Cp(Wt,U)?pt[Wt]:n}return h}function F9(h,S){if(!(S==="constructor"&&typeof h[S]=="function")&&S!="__proto__")return h[S]}var jh=IN(ku),yu=Y0||function(h,S){return us.setTimeout(h,S)},FE=IN(G1);function J4(h,S,U){var me=S+"";return FE(h,l3(me,h3(u3(me),U)))}function IN(h){var S=0,U=0;return function(){var me=p0(),pt=at-(me-U);if(U=me,pt>0){if(++S>=He)return arguments[0]}else S=0;return h.apply(n,arguments)}}function d3(h,S){var U=-1,me=h.length,pt=me-1;for(S=S===n?me:S;++U<S;){var Wt=Lu(U,pt),_n=h[Wt];h[Wt]=h[U],h[U]=_n}return h.length=S,h}var X4=LN(function(h){var S=[];return h.charCodeAt(0)===46&&S.push(""),h.replace(oe,function(U,me,pt,Wt){S.push(pt?Wt.replace(gt,"$1"):me||U)}),S});function Bf(h){if(typeof h=="string"||ud(h))return h;var S=h+"";return S=="0"&&1/h==-Mt?"-0":S}function og(h){if(h!=null){try{return vr.call(h)}catch{}try{return h+""}catch{}}return""}function h3(h,S){return Ps(pe,function(U){var me="_."+U[0];S&U[1]&&!Wo(h,me)&&h.push(me)}),h.sort()}function MN(h){if(h instanceof Qr)return h.clone();var S=new Li(h.__wrapped__,h.__chain__);return S.__actions__=Fe(h.__actions__),S.__index__=h.__index__,S.__values__=h.__values__,S}function DE(h,S,U){(U?Pf(h,S,U):S===n)?S=1:S=Uo(eo(S),0);var me=h==null?0:h.length;if(!me||S<1)return[];for(var pt=0,Wt=0,_n=bn(K0(me/S));pt<me;)_n[Wt++]=Tl(h,pt,pt+=S);return _n}function PN(h){for(var S=-1,U=h==null?0:h.length,me=0,pt=[];++S<U;){var Wt=h[S];Wt&&(pt[me++]=Wt)}return pt}function Z4(){var h=arguments.length;if(!h)return[];for(var S=bn(h-1),U=arguments[0],me=h;me--;)S[me-1]=arguments[me];return Oo(qs(U)?Fe(U):[U],Ha(S,1))}var BN=Fs(function(h,S){return Mu(h)?il(h,Ha(S,1,Mu,!0)):[]}),e_=Fs(function(h,S){var U=Kd(S);return Mu(U)&&(U=n),Mu(h)?il(h,Ha(S,1,Mu,!0),Dr(U,2)):[]}),jN=Fs(function(h,S){var U=Kd(S);return Mu(U)&&(U=n),Mu(h)?il(h,Ha(S,1,Mu,!0),n,U):[]});function BW(h,S,U){var me=h==null?0:h.length;return me?(S=U||S===n?1:eo(S),Tl(h,S<0?0:S,me)):[]}function qN(h,S,U){var me=h==null?0:h.length;return me?(S=U||S===n?1:eo(S),S=me-S,Tl(h,0,S<0?0:S)):[]}function jW(h,S){return h&&h.length?Vd(h,Dr(S,3),!0,!0):[]}function UN(h,S){return h&&h.length?Vd(h,Dr(S,3),!0):[]}function Jce(h,S,U,me){var pt=h==null?0:h.length;return pt?(U&&typeof U!="number"&&Pf(h,S,U)&&(U=0,me=pt),Rh(h,S,U,me)):[]}function D9(h,S,U){var me=h==null?0:h.length;if(!me)return-1;var pt=U==null?0:eo(U);return pt<0&&(pt=Uo(me+pt,0)),ua(h,Dr(S,3),pt)}function Ap(h,S,U){var me=h==null?0:h.length;if(!me)return-1;var pt=me-1;return U!==n&&(pt=eo(U),pt=U<0?Uo(me+pt,0):Zo(pt,me-1)),ua(h,Dr(S,3),pt,!0)}function t_(h){var S=h==null?0:h.length;return S?Ha(h,1):[]}function ag(h){var S=h==null?0:h.length;return S?Ha(h,Mt):[]}function $N(h,S){var U=h==null?0:h.length;return U?(S=S===n?1:eo(S),Ha(h,S)):[]}function O9(h){for(var S=-1,U=h==null?0:h.length,me={};++S<U;){var pt=h[S];me[pt[0]]=pt[1]}return me}function OE(h){return h&&h.length?h[0]:n}function zN(h,S,U){var me=h==null?0:h.length;if(!me)return-1;var pt=U==null?0:eo(U);return pt<0&&(pt=Uo(me+pt,0)),la(h,S,pt)}function qW(h){var S=h==null?0:h.length;return S?Tl(h,0,-1):[]}var UW=Fs(function(h){var S=Ii(h,ng);return S.length&&S[0]===h[0]?hf(S):[]}),RE=Fs(function(h){var S=Kd(h),U=Ii(h,ng);return S===Kd(U)?S=n:U.pop(),U.length&&U[0]===h[0]?hf(U,Dr(S,2)):[]}),$W=Fs(function(h){var S=Kd(h),U=Ii(h,ng);return S=typeof S=="function"?S:n,S&&U.pop(),U.length&&U[0]===h[0]?hf(U,n,S):[]});function R9(h,S){return h==null?"":d0.call(h,S)}function Kd(h){var S=h==null?0:h.length;return S?h[S-1]:n}function HN(h,S,U){var me=h==null?0:h.length;if(!me)return-1;var pt=me;return U!==n&&(pt=eo(U),pt=pt<0?Uo(me+pt,0):Zo(pt,me-1)),S===S?yi(h,S,pt):ua(h,Hl,pt,!0)}function zW(h,S){return h&&h.length?qc(h,eo(S)):n}var N9=Fs(NE);function NE(h,S){return h&&h.length&&S&&S.length?i3(h,S):h}function L9(h,S,U){return h&&h.length&&S&&S.length?i3(h,S,Dr(U,2)):h}function VN(h,S,U){return h&&h.length&&S&&S.length?i3(h,S,n,U):h}var WN=v0(function(h,S){var U=h==null?0:h.length,me=nd(h,S);return od(h,Ii(S,function(pt){return Cp(pt,U)?+pt:pt}).sort(T)),me});function LE(h,S){var U=[];if(!(h&&h.length))return U;var me=-1,pt=[],Wt=h.length;for(S=Dr(S,3);++me<Wt;){var _n=h[me];S(_n,me,h)&&(U.push(_n),pt.push(me))}return od(h,pt),U}function kE(h){return h==null?h:jd.call(h)}function IE(h,S,U){var me=h==null?0:h.length;return me?(U&&typeof U!="number"&&Pf(h,S,U)?(S=0,U=me):(S=S==null?0:eo(S),U=U===n?me:eo(U)),Tl(h,S,U)):[]}function HW(h,S){return Hd(h,S)}function VW(h,S,U){return Bh(h,S,Dr(U,2))}function QN(h,S){var U=h==null?0:h.length;if(U){var me=Hd(h,S);if(me<U&&Jd(h[me],S))return me}return-1}function GN(h,S){return Hd(h,S,!0)}function YN(h,S,U){return Bh(h,S,Dr(U,2),!0)}function WW(h,S){var U=h==null?0:h.length;if(U){var me=Hd(h,S,!0)-1;if(Jd(h[me],S))return me}return-1}function k9(h){return h&&h.length?o3(h):[]}function QW(h,S){return h&&h.length?o3(h,Dr(S,2)):[]}function GW(h){var S=h==null?0:h.length;return S?Tl(h,1,S):[]}function KN(h,S,U){return h&&h.length?(S=U||S===n?1:eo(S),Tl(h,0,S<0?0:S)):[]}function YW(h,S,U){var me=h==null?0:h.length;return me?(S=U||S===n?1:eo(S),S=me-S,Tl(h,S<0?0:S,me)):[]}function KW(h,S){return h&&h.length?Vd(h,Dr(S,3),!1,!0):[]}function JW(h,S){return h&&h.length?Vd(h,Dr(S,3)):[]}var XW=Fs(function(h){return Mf(Ha(h,1,Mu,!0))}),JN=Fs(function(h){var S=Kd(h);return Mu(S)&&(S=n),Mf(Ha(h,1,Mu,!0),Dr(S,2))}),ZW=Fs(function(h){var S=Kd(h);return S=typeof S=="function"?S:n,Mf(Ha(h,1,Mu,!0),n,S)});function XN(h){return h&&h.length?Mf(h):[]}function I9(h,S){return h&&h.length?Mf(h,Dr(S,2)):[]}function eQ(h,S){return S=typeof S=="function"?S:n,h&&h.length?Mf(h,n,S):[]}function M9(h){if(!(h&&h.length))return[];var S=0;return h=Ri(h,function(U){if(Mu(U))return S=Uo(U.length,S),!0}),is(S,function(U){return Ii(h,el(U))})}function P9(h,S){if(!(h&&h.length))return[];var U=M9(h);return S==null?U:Ii(U,function(me){return Zi(S,n,me)})}var ZN=Fs(function(h,S){return Mu(h)?il(h,S):[]}),B9=Fs(function(h){return pf(Ri(h,Mu))}),tQ=Fs(function(h){var S=Kd(h);return Mu(S)&&(S=n),pf(Ri(h,Mu),Dr(S,2))}),nQ=Fs(function(h){var S=Kd(h);return S=typeof S=="function"?S:n,pf(Ri(h,Mu),n,S)}),eL=Fs(M9);function tL(h,S){return tg(h||[],S||[],ff)}function rQ(h,S){return tg(h||[],S||[],Ep)}var iQ=Fs(function(h){var S=h.length,U=S>1?h[S-1]:n;return U=typeof U=="function"?(h.pop(),U):n,P9(h,U)});function sQ(h){var S=it(h);return S.__chain__=!0,S}function nL(h,S){return S(h),h}function n_(h,S){return S(h)}var oQ=v0(function(h){var S=h.length,U=S?h[0]:0,me=this.__wrapped__,pt=function(Wt){return nd(Wt,h)};return S>1||this.__actions__.length||!(me instanceof Qr)||!Cp(U)?this.thru(pt):(me=me.slice(U,+U+(S?1:0)),me.__actions__.push({func:n_,args:[pt],thisArg:n}),new Li(me,this.__chain__).thru(function(Wt){return S&&!Wt.length&&Wt.push(n),Wt}))});function aQ(){return sQ(this)}function Tp(){return new Li(this.value(),this.__chain__)}function uQ(){this.__values__===n&&(this.__values__=AL(this.value()));var h=this.__index__>=this.__values__.length,S=h?n:this.__values__[this.__index__++];return{done:h,value:S}}function j9(){return this}function q9(h){for(var S,U=this;U instanceof Qi;){var me=MN(U);me.__index__=0,me.__values__=n,S?pt.__wrapped__=me:S=me;var pt=me;U=U.__wrapped__}return pt.__wrapped__=h,S}function U9(){var h=this.__wrapped__;if(h instanceof Qr){var S=h;return this.__actions__.length&&(S=new Qr(this)),S=S.reverse(),S.__actions__.push({func:n_,args:[kE],thisArg:n}),new Li(S,this.__chain__)}return this.thru(kE)}function rL(){return J1(this.__wrapped__,this.__actions__)}var lQ=Sn(function(h,S,U){dr.call(h,U)?++h[U]:rl(h,U,1)});function $9(h,S,U){var me=qs(h)?aa:$d;return U&&Pf(h,S,U)&&(S=n),me(h,Dr(S,3))}function ME(h,S){var U=qs(h)?Ri:yp;return U(h,Dr(S,3))}var z9=Os(D9),iL=Os(Ap);function Fp(h,S){return Ha(r_(h,S),1)}function sL(h,S){return Ha(r_(h,S),Mt)}function oL(h,S,U){return U=U===n?1:eo(U),Ha(r_(h,S),U)}function cQ(h,S){var U=qs(h)?Ps:jc;return U(h,Dr(S,3))}function aL(h,S){var U=qs(h)?ga:Oh;return U(h,Dr(S,3))}var fQ=Sn(function(h,S,U){dr.call(h,U)?h[U].push(S):rl(h,U,[S])});function H9(h,S,U,me){h=_0(h)?h:v3(h),U=U&&!me?eo(U):0;var pt=h.length;return U<0&&(U=Uo(pt+U,0)),a_(h)?U<=pt&&h.indexOf(S,U)>-1:!!pt&&la(h,S,U)>-1}var PE=Fs(function(h,S,U){var me=-1,pt=typeof S=="function",Wt=_0(h)?bn(h.length):[];return jc(h,function(_n){Wt[++me]=pt?Zi(S,_n,U):Nu(_n,S,U)}),Wt}),BE=Sn(function(h,S,U){rl(h,U,S)});function r_(h,S){var U=qs(h)?Ii:ur;return U(h,Dr(S,3))}function Xce(h,S,U,me){return h==null?[]:(qs(S)||(S=S==null?[]:[S]),U=me?n:U,qs(U)||(U=U==null?[]:[U]),kf(h,S,U))}var dQ=Sn(function(h,S,U){h[U?0:1].push(S)},function(){return[[],[]]});function em(h,S,U){var me=qs(h)?ka:rs,pt=arguments.length<3;return me(h,Dr(S,4),U,pt,jc)}function uL(h,S,U){var me=qs(h)?Xa:rs,pt=arguments.length<3;return me(h,Dr(S,4),U,pt,Oh)}function lL(h,S){var U=qs(h)?Ri:yp;return U(h,qE(Dr(S,3)))}function hQ(h){var S=qs(h)?cf:x0;return S(h)}function pQ(h,S,U){(U?Pf(h,S,U):S===n)?S=1:S=eo(S);var me=qs(h)?Zx:Al;return me(h,S)}function mQ(h){var S=qs(h)?eg:Y1;return S(h)}function cL(h){if(h==null)return 0;if(_0(h))return a_(h)?gi(h):h.length;var S=So(h);return S==ve||S==Oe?h.size:Pe(h).length}function xQ(h,S,U){var me=qs(h)?Ro:s3;return U&&Pf(h,S,U)&&(S=n),me(h,Dr(S,3))}var gQ=Fs(function(h,S){if(h==null)return[];var U=S.length;return U>1&&Pf(h,S[0],S[1])?S=[]:U>2&&Pf(S[0],S[1],S[2])&&(S=[S[0]]),kf(h,Ha(S,1),[])}),i_=Th||function(){return us.Date.now()};function yQ(h,S){if(typeof S!="function")throw new le(i);return h=eo(h),function(){if(--h<1)return S.apply(this,arguments)}}function fL(h,S,U){return S=U?n:S,S=h&&S==null?h.length:S,ol(h,ue,n,n,n,n,S)}function dL(h,S){var U;if(typeof S!="function")throw new le(i);return h=eo(h),function(){return--h>0&&(U=S.apply(this,arguments)),h<=1&&(S=n),U}}var V9=Fs(function(h,S,U){var me=R;if(U.length){var pt=pi(U,Z1(V9));me|=P}return ol(h,me,S,U,pt)}),hL=Fs(function(h,S,U){var me=R|q;if(U.length){var pt=pi(U,Z1(hL));me|=P}return ol(S,me,h,U,pt)});function pL(h,S,U){S=U?n:S;var me=ol(h,L,n,n,n,n,n,S);return me.placeholder=pL.placeholder,me}function s_(h,S,U){S=U?n:S;var me=ol(h,B,n,n,n,n,n,S);return me.placeholder=s_.placeholder,me}function mL(h,S,U){var me,pt,Wt,_n,On,Qn,Sr=0,Tr=!1,Pr=!1,wi=!0;if(typeof h!="function")throw new le(i);S=ul(S)||0,nu(U)&&(Tr=!!U.leading,Pr="maxWait"in U,Wt=Pr?Uo(ul(U.maxWait)||0,S):Wt,wi="trailing"in U?!!U.trailing:wi);function Ji(ju){var fd=me,Zd=pt;return me=pt=n,Sr=ju,_n=h.apply(Zd,fd),_n}function ys(ju){return Sr=ju,On=yu(wo,S),Tr?Ji(ju):_n}function xo(ju){var fd=ju-Qn,Zd=ju-Sr,xA=S-fd;return Pr?Zo(xA,Wt-Zd):xA}function Es(ju){var fd=ju-Qn,Zd=ju-Sr;return Qn===n||fd>=S||fd<0||Pr&&Zd>=Wt}function wo(){var ju=i_();if(Es(ju))return Mo(ju);On=yu(wo,xo(ju))}function Mo(ju){return On=n,wi&&me?Ji(ju):(me=pt=n,_n)}function ld(){On!==n&&y(On),Sr=0,me=Qn=pt=On=n}function Uf(){return On===n?_n:Mo(i_())}function cd(){var ju=i_(),fd=Es(ju);if(me=arguments,pt=this,Qn=ju,fd){if(On===n)return ys(Qn);if(Pr)return y(On),On=yu(wo,S),Ji(Qn)}return On===n&&(On=yu(wo,S)),_n}return cd.cancel=ld,cd.flush=Uf,cd}var vQ=Fs(function(h,S){return Q1(h,1,S)}),W9=Fs(function(h,S,U){return Q1(h,ul(S)||0,U)});function _Q(h){return ol(h,J)}function jE(h,S){if(typeof h!="function"||S!=null&&typeof S!="function")throw new le(i);var U=function(){var me=arguments,pt=S?S.apply(this,me):me[0],Wt=U.cache;if(Wt.has(pt))return Wt.get(pt);var _n=h.apply(this,me);return U.cache=Wt.set(pt,_n)||Wt,_n};return U.cache=new(jE.Cache||Pc),U}jE.Cache=Pc;function qE(h){if(typeof h!="function")throw new le(i);return function(){var S=arguments;switch(S.length){case 0:return!h.call(this);case 1:return!h.call(this,S[0]);case 2:return!h.call(this,S[0],S[1]);case 3:return!h.call(this,S[0],S[1],S[2])}return!h.apply(this,S)}}function bQ(h){return dL(2,h)}var p3=Y4(function(h,S){S=S.length==1&&qs(S[0])?Ii(S[0],Jt(Dr())):Ii(Ha(S,1),Jt(Dr()));var U=S.length;return Fs(function(me){for(var pt=-1,Wt=Zo(me.length,U);++pt<Wt;)me[pt]=S[pt].call(this,me[pt]);return Zi(h,this,me)})}),UE=Fs(function(h,S){var U=pi(S,Z1(UE));return ol(h,P,n,S,U)}),xL=Fs(function(h,S){var U=pi(S,Z1(xL));return ol(h,G,n,S,U)}),gL=v0(function(h,S){return ol(h,I,n,n,n,S)});function EQ(h,S){if(typeof h!="function")throw new le(i);return S=S===n?S:eo(S),Fs(h,S)}function SQ(h,S){if(typeof h!="function")throw new le(i);return S=S==null?0:Uo(eo(S),0),Fs(function(U){var me=U[S],pt=ad(U,0,S);return me&&Oo(pt,me),Zi(h,this,pt)})}function Q9(h,S,U){var me=!0,pt=!0;if(typeof h!="function")throw new le(i);return nu(U)&&(me="leading"in U?!!U.leading:me,pt="trailing"in U?!!U.trailing:pt),mL(h,S,{leading:me,maxWait:S,trailing:pt})}function yL(h){return fL(h,1)}function wQ(h,S){return UE(fc(S),h)}function CQ(){if(!arguments.length)return[];var h=arguments[0];return qs(h)?h:[h]}function G9(h){return Cl(h,_)}function Y9(h,S){return S=typeof S=="function"?S:n,Cl(h,_,S)}function vL(h){return Cl(h,f|_)}function _L(h,S){return S=typeof S=="function"?S:n,Cl(h,f|_,S)}function bL(h,S){return S==null||xu(h,S,Bu(S))}function Jd(h,S){return h===S||h!==h&&S!==S}var AQ=bs(Ih),TQ=bs(function(h,S){return h>=S}),i2=_p(function(){return arguments}())?_p:function(h){return Pu(h)&&dr.call(h,"callee")&&!l0.call(h,"callee")},qs=bn.isArray,K9=Xo?Jt(Xo):sl;function _0(h){return h!=null&&$E(h.length)&&!tm(h)}function Mu(h){return Pu(h)&&_0(h)}function FQ(h){return h===!0||h===!1||Pu(h)&&ba(h)==Ct}var s2=Mc||KE,DQ=da?Jt(da):Mh;function OQ(h){return Pu(h)&&h.nodeType===1&&!m3(h)}function RQ(h){if(h==null)return!0;if(_0(h)&&(qs(h)||typeof h=="string"||typeof h.splice=="function"||s2(h)||x3(h)||i2(h)))return!h.length;var S=So(h);if(S==ve||S==Oe)return!h.size;if(K4(h))return!Pe(h).length;for(var U in h)if(dr.call(h,U))return!1;return!0}function NQ(h,S){return zd(h,S)}function LQ(h,S,U){U=typeof U=="function"?U:n;var me=U?U(h,S):n;return me===n?zd(h,S,n,U):!!me}function J9(h){if(!Pu(h))return!1;var S=ba(h);return S==Bt||S==kt||typeof h.message=="string"&&typeof h.name=="string"&&!m3(h)}function kQ(h){return typeof h=="number"&&f0(h)}function tm(h){if(!nu(h))return!1;var S=ba(h);return S==tn||S==bt||S==Ht||S==Ke}function EL(h){return typeof h=="number"&&h==eo(h)}function $E(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=qe}function nu(h){var S=typeof h;return h!=null&&(S=="object"||S=="function")}function Pu(h){return h!=null&&typeof h=="object"}var SL=ha?Jt(ha):bp;function IQ(h,S){return h===S||Lf(h,S,Eo(S))}function MQ(h,S,U){return U=typeof U=="function"?U:n,Lf(h,S,Eo(S),U)}function PQ(h){return X9(h)&&h!=+h}function BQ(h){if(MW(h))throw new Ti(r);return sd(h)}function jQ(h){return h===null}function wL(h){return h==null}function X9(h){return typeof h=="number"||Pu(h)&&ba(h)==Le}function m3(h){if(!Pu(h)||ba(h)!=ce)return!1;var S=oc(h);if(S===null)return!0;var U=dr.call(S,"constructor")&&S.constructor;return typeof U=="function"&&U instanceof U&&vr.call(U)==oo}var o_=po?Jt(po):Xs;function Z9(h){return EL(h)&&h>=-qe&&h<=qe}var eA=ls?Jt(ls):A;function a_(h){return typeof h=="string"||!qs(h)&&Pu(h)&&ba(h)==nt}function ud(h){return typeof h=="symbol"||Pu(h)&&ba(h)==ft}var x3=ps?Jt(ps):W;function qQ(h){return h===n}function UQ(h){return Pu(h)&&So(h)==Yt}function CL(h){return Pu(h)&&ba(h)==Gt}var $Q=bs(Tn),zQ=bs(function(h,S){return h<=S});function AL(h){if(!h)return[];if(_0(h))return a_(h)?os(h):Fe(h);if(c0&&h[c0])return Rr(h[c0]());var S=So(h),U=S==ve?di:S==Oe?ii:v3;return U(h)}function nm(h){if(!h)return h===0?h:0;if(h=ul(h),h===Mt||h===-Mt){var S=h<0?-1:1;return S*te}return h===h?h:0}function eo(h){var S=nm(h),U=S%1;return S===S?U?S-U:S:0}function Dp(h){return h?Nf(eo(h),0,be):0}function ul(h){if(typeof h=="number")return h;if(ud(h))return et;if(nu(h)){var S=typeof h.valueOf=="function"?h.valueOf():h;h=nu(S)?S+"":S}if(typeof h!="string")return h===0?h:+h;h=yt(h);var U=Ce.test(h);return U||st.test(h)?As(h.slice(2),U?2:8):ne.test(h)?et:+h}function b0(h){return ot(h,E0(h))}function TL(h){return h?Nf(eo(h),-qe,qe):h===0?h:0}function Qo(h){return h==null?"":Fl(h)}var o2=Pn(function(h,S){if(K4(S)||_0(S)){ot(S,Bu(S),h);return}for(var U in S)dr.call(S,U)&&ff(h,U,S[U])}),FL=Pn(function(h,S){ot(S,E0(S),h)}),rm=Pn(function(h,S,U,me){ot(S,E0(S),h,me)}),u_=Pn(function(h,S,U,me){ot(S,Bu(S),h,me)}),DL=v0(nd);function a2(h,S){var U=Fi(h);return S==null?U:xp(U,S)}var OL=Fs(function(h,S){h=Hi(h);var U=-1,me=S.length,pt=me>2?S[2]:n;for(pt&&Pf(S[0],S[1],pt)&&(me=1);++U<me;)for(var Wt=S[U],_n=E0(Wt),On=-1,Qn=_n.length;++On<Qn;){var Sr=_n[On],Tr=h[Sr];(Tr===n||Jd(Tr,Dn[Sr])&&!dr.call(h,Sr))&&(h[Sr]=Wt[Sr])}return h}),RL=Fs(function(h){return h.push(n,Ea),Zi(iA,n,h)});function tA(h,S){return za(h,Dr(S,3),Pa)}function ja(h,S){return za(h,Dr(S,3),Lh)}function ug(h,S){return h==null?h:Nh(h,Dr(S,3),E0)}function HQ(h,S){return h==null?h:rd(h,Dr(S,3),E0)}function VQ(h,S){return h&&Pa(h,Dr(S,3))}function WQ(h,S){return h&&Lh(h,Dr(S,3))}function QQ(h){return h==null?[]:Ru(h,Bu(h))}function NL(h){return h==null?[]:Ru(h,E0(h))}function nA(h,S,U){var me=h==null?n:eu(h,S);return me===n?U:me}function GQ(h,S){return h!=null&&ks(h,S,vp)}function l_(h,S){return h!=null&&ks(h,S,m0)}var Sa=gs(function(h,S,U){S!=null&&typeof S.toString!="function"&&(S=Ls.call(S)),h[S]=U},QE(qf)),jf=gs(function(h,S,U){S!=null&&typeof S.toString!="function"&&(S=Ls.call(S)),dr.call(h,S)?h[S].push(U):h[S]=[U]},Dr),Op=Fs(Nu);function Bu(h){return _0(h)?td(h):Pe(h)}function E0(h){return _0(h)?td(h,!0):wt(h)}function YQ(h,S){var U={};return S=Dr(S,3),Pa(h,function(me,pt,Wt){rl(U,S(me,pt,Wt),me)}),U}function u2(h,S){var U={};return S=Dr(S,3),Pa(h,function(me,pt,Wt){rl(U,pt,S(me,pt,Wt))}),U}var rA=Pn(function(h,S,U){ao(h,S,U)}),iA=Pn(function(h,S,U,me){ao(h,S,U,me)}),g3=v0(function(h,S){var U={};if(h==null)return U;var me=!1;S=Ii(S,function(Wt){return Wt=g0(Wt,h),me||(me=Wt.length>1),Wt}),ot(h,a3(h),U),me&&(U=Cl(U,f|p|_,dc));for(var pt=S.length;pt--;)K1(U,S[pt]);return U});function sA(h,S){return LL(h,qE(Dr(S)))}var KQ=v0(function(h,S){return h==null?{}:wE(h,S)});function LL(h,S){if(h==null)return{};var U=Ii(a3(h),function(me){return[me]});return S=Dr(S),r3(h,U,function(me,pt){return S(me,pt[0])})}function kL(h,S,U){S=g0(S,h);var me=-1,pt=S.length;for(pt||(pt=1,h=n);++me<pt;){var Wt=h==null?n:h[Bf(S[me])];Wt===n&&(me=pt,Wt=U),h=tm(Wt)?Wt.call(h):Wt}return h}function JQ(h,S,U){return h==null?h:Ep(h,S,U)}function y3(h,S,U,me){return me=typeof me=="function"?me:n,h==null?h:Ep(h,S,U,me)}var zE=Wd(Bu),c_=Wd(E0);function IL(h,S,U){var me=qs(h),pt=me||s2(h)||x3(h);if(S=Dr(S,4),U==null){var Wt=h&&h.constructor;pt?U=me?new Wt:[]:nu(h)?U=tm(Wt)?Fi(oc(h)):{}:U={}}return(pt?Ps:Pa)(h,function(_n,On,Qn){return S(U,_n,On,Qn)}),U}function ML(h,S){return h==null?!0:K1(h,S)}function PL(h,S,U){return h==null?h:Sp(h,S,fc(U))}function XQ(h,S,U,me){return me=typeof me=="function"?me:n,h==null?h:Sp(h,S,fc(U),me)}function v3(h){return h==null?[]:$t(h,Bu(h))}function ZQ(h){return h==null?[]:$t(h,E0(h))}function pc(h,S,U){return U===n&&(U=S,S=n),U!==n&&(U=ul(U),U=U===U?U:0),S!==n&&(S=ul(S),S=S===S?S:0),Nf(ul(h),S,U)}function BL(h,S,U){return S=nm(S),U===n?(U=S,S=0):U=nm(U),h=ul(h),id(h,S,U)}function eG(h,S,U){if(U&&typeof U!="boolean"&&Pf(h,S,U)&&(S=U=n),U===n&&(typeof S=="boolean"?(U=S,S=n):typeof h=="boolean"&&(U=h,h=n)),h===n&&S===n?(h=0,S=1):(h=nm(h),S===n?(S=h,h=0):S=nm(S)),h>S){var me=h;h=S,S=me}if(U||h%1||S%1){var pt=af();return Zo(h+pt*(S-h+Xr("1e-"+((pt+"").length-1))),S)}return Lu(h,S)}var f_=Lr(function(h,S,U){return S=S.toLowerCase(),h+(U?Uc(S):S)});function Uc(h){return WE(Qo(h).toLowerCase())}function jL(h){return h=Qo(h),h&&h.replace(sn,br).replace(du,"")}function oA(h,S,U){h=Qo(h),S=Fl(S);var me=h.length;U=U===n?me:Nf(eo(U),0,me);var pt=U;return U-=S.length,U>=0&&h.slice(U,pt)==S}function tG(h){return h=Qo(h),h&&Wn.test(h)?h.replace(Qt,Cr):h}function nG(h){return h=Qo(h),h&&rt.test(h)?h.replace(Be,"\\$&"):h}var qL=Lr(function(h,S,U){return h+(U?"-":"")+S.toLowerCase()}),HE=Lr(function(h,S,U){return h+(U?" ":"")+S.toLowerCase()}),UL=Kr("toLowerCase");function rG(h,S,U){h=Qo(h),S=eo(S);var me=S?gi(h):0;if(!S||me>=S)return h;var pt=(S-me)/2;return Ba(of(pt),U)+h+Ba(K0(pt),U)}function iG(h,S,U){h=Qo(h),S=eo(S);var me=S?gi(h):0;return S&&me<S?h+Ba(S-me,U):h}function VE(h,S,U){h=Qo(h),S=eo(S);var me=S?gi(h):0;return S&&me<S?Ba(S-me,U)+h:h}function l2(h,S,U){return U||S==null?S=0:S&&(S=+S),bl(Qo(h).replace(Dt,""),S||0)}function sG(h,S,U){return(U?Pf(h,S,U):S===n)?S=1:S=eo(S),Ph(Qo(h),S)}function oG(){var h=arguments,S=Qo(h[0]);return h.length<3?S:S.replace(h[1],h[2])}var d_=Lr(function(h,S,U){return h+(U?"_":"")+S.toLowerCase()});function aG(h,S,U){return U&&typeof U!="number"&&Pf(h,S,U)&&(S=U=n),U=U===n?be:U>>>0,U?(h=Qo(h),h&&(typeof S=="string"||S!=null&&!o_(S))&&(S=Fl(S),!S&&er(h))?ad(os(h),0,U):h.split(S,U)):[]}var $L=Lr(function(h,S,U){return h+(U?" ":"")+WE(S)});function uG(h,S,U){return h=Qo(h),U=U==null?0:Nf(eo(U),0,h.length),S=Fl(S),h.slice(U,U+S.length)==S}function Xd(h,S,U){var me=it.templateSettings;U&&Pf(h,S,U)&&(S=n),h=Qo(h),S=rm({},S,me,y0);var pt=rm({},S.imports,me.imports,y0),Wt=Bu(pt),_n=$t(pt,Wt),On,Qn,Sr=0,Tr=S.interpolate||Cn,Pr="__p += '",wi=fs((S.escape||Cn).source+"|"+Tr.source+"|"+(Tr===nr?St:Cn).source+"|"+(S.evaluate||Cn).source+"|$","g"),Ji="//# sourceURL="+(dr.call(S,"sourceURL")?(S.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nf+"]")+`
`;h.replace(wi,function(Es,wo,Mo,ld,Uf,cd){return Mo||(Mo=ld),Pr+=h.slice(Sr,cd).replace(En,Gn),wo&&(On=!0,Pr+=`' +
__e(`+wo+`) +
'`),Uf&&(Qn=!0,Pr+=`';
`+Uf+`;
__p += '`),Mo&&(Pr+=`' +
((__t = (`+Mo+`)) == null ? '' : __t) +
'`),Sr=cd+Es.length,Es}),Pr+=`';
`;var ys=dr.call(S,"variable")&&S.variable;if(!ys)Pr=`with (obj) {
`+Pr+`
}
`;else if(Ue.test(ys))throw new Ti(s);Pr=(Qn?Pr.replace(Pt,""):Pr).replace(mt,"$1").replace(xt,"$1;"),Pr="function("+(ys||"obj")+`) {
`+(ys?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(On?", __e = _.escape":"")+(Qn?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Pr+`return __p
}`;var xo=lA(function(){return ns(Wt,Ji+"return "+Pr).apply(n,_n)});if(xo.source=Pr,J9(xo))throw xo;return xo}function zL(h){return Qo(h).toLowerCase()}function lG(h){return Qo(h).toUpperCase()}function cG(h,S,U){if(h=Qo(h),h&&(U||S===n))return yt(h);if(!h||!(S=Fl(S)))return h;var me=os(h),pt=os(S),Wt=Ln(me,pt),_n=Kn(me,pt)+1;return ad(me,Wt,_n).join("")}function aA(h,S,U){if(h=Qo(h),h&&(U||S===n))return h.slice(0,xs(h)+1);if(!h||!(S=Fl(S)))return h;var me=os(h),pt=Kn(me,os(S))+1;return ad(me,0,pt).join("")}function fG(h,S,U){if(h=Qo(h),h&&(U||S===n))return h.replace(Dt,"");if(!h||!(S=Fl(S)))return h;var me=os(h),pt=Ln(me,os(S));return ad(me,pt).join("")}function HL(h,S){var U=he,me=ye;if(nu(S)){var pt="separator"in S?S.separator:pt;U="length"in S?eo(S.length):U,me="omission"in S?Fl(S.omission):me}h=Qo(h);var Wt=h.length;if(er(h)){var _n=os(h);Wt=_n.length}if(U>=Wt)return h;var On=U-gi(me);if(On<1)return me;var Qn=_n?ad(_n,0,On).join(""):h.slice(0,On);if(pt===n)return Qn+me;if(_n&&(On+=Qn.length-On),o_(pt)){if(h.slice(On).search(pt)){var Sr,Tr=Qn;for(pt.global||(pt=fs(pt.source,Qo(Rt.exec(pt))+"g")),pt.lastIndex=0;Sr=pt.exec(Tr);)var Pr=Sr.index;Qn=Qn.slice(0,Pr===n?On:Pr)}}else if(h.indexOf(Fl(pt),On)!=On){var wi=Qn.lastIndexOf(pt);wi>-1&&(Qn=Qn.slice(0,wi))}return Qn+me}function uA(h){return h=Qo(h),h&&Fn.test(h)?h.replace(rn,vi):h}var VL=Lr(function(h,S,U){return h+(U?" ":"")+S.toUpperCase()}),WE=Kr("toUpperCase");function h_(h,S,U){return h=Qo(h),S=U?n:S,S===n?gr(h)?ya(h):pu(h):h.match(S)||[]}var lA=Fs(function(h,S){try{return Zi(h,n,S)}catch(U){return J9(U)?U:new Ti(U)}}),dG=v0(function(h,S){return Ps(S,function(U){U=Bf(U),rl(h,U,V9(h[U],h))}),h});function WL(h){var S=h==null?0:h.length,U=Dr();return h=S?Ii(h,function(me){if(typeof me[1]!="function")throw new le(i);return[U(me[0]),me[1]]}):[],Fs(function(me){for(var pt=-1;++pt<S;){var Wt=h[pt];if(Zi(Wt[0],this,me))return Zi(Wt[1],this,me)}})}function hG(h){return gp(Cl(h,f))}function QE(h){return function(){return h}}function QL(h,S){return h==null||h!==h?S:h}var pG=ds(),GL=ds(!0);function qf(h){return h}function GE(h){return de(typeof h=="function"?h:Cl(h,f))}function mG(h){return $i(Cl(h,f))}function YL(h,S){return Bi(h,Cl(S,f))}var lg=Fs(function(h,S){return function(U){return Nu(U,h,S)}}),c2=Fs(function(h,S){return function(U){return Nu(h,U,S)}});function cA(h,S,U){var me=Bu(S),pt=Ru(S,me);U==null&&!(nu(S)&&(pt.length||!me.length))&&(U=S,S=h,h=this,pt=Ru(S,Bu(S)));var Wt=!(nu(U)&&"chain"in U)||!!U.chain,_n=tm(h);return Ps(pt,function(On){var Qn=S[On];h[On]=Qn,_n&&(h.prototype[On]=function(){var Sr=this.__chain__;if(Wt||Sr){var Tr=h(this.__wrapped__),Pr=Tr.__actions__=Fe(this.__actions__);return Pr.push({func:Qn,args:arguments,thisArg:h}),Tr.__chain__=Sr,Tr}return Qn.apply(h,Oo([this.value()],arguments))})}),h}function KL(){return us._===this&&(us._=Za),this}function _3(){}function xG(h){return h=eo(h),Fs(function(S){return qc(S,h)})}var b3=Ki(Ii),fA=Ki(aa),JL=Ki(Ro);function YE(h){return A9(h)?el(Bf(h)):Q4(h)}function XL(h){return function(S){return h==null?n:eu(h,S)}}var ZL=Iu(),E3=Iu(!0);function dA(){return[]}function KE(){return!1}function ek(){return{}}function gG(){return""}function JE(){return!0}function yG(h,S){if(h=eo(h),h<1||h>qe)return[];var U=be,me=Zo(h,be);S=Dr(S),h-=be;for(var pt=is(me,S);++U<h;)S(U);return pt}function hA(h){return qs(h)?Ii(h,Bf):ud(h)?[h]:Fe(X4(Qo(h)))}function p_(h){var S=++es;return Qo(h)+S}var tk=Gr(function(h,S){return h+S},0),vG=Va("ceil"),nk=Gr(function(h,S){return h/S},1),_G=Va("floor");function bG(h){return h&&h.length?df(h,qf,Ih):n}function pA(h,S){return h&&h.length?df(h,Dr(S,2),Ih):n}function rk(h){return ra(h,qf)}function EG(h,S){return ra(h,Dr(S,2))}function SG(h){return h&&h.length?df(h,qf,Tn):n}function wG(h,S){return h&&h.length?df(h,Dr(S,2),Tn):n}var mA=Gr(function(h,S){return h*S},1),ik=Va("round"),sk=Gr(function(h,S){return h-S},0);function CG(h){return h&&h.length?mr(h,qf):0}function AG(h,S){return h&&h.length?mr(h,Dr(S,2)):0}return it.after=yQ,it.ary=fL,it.assign=o2,it.assignIn=FL,it.assignInWith=rm,it.assignWith=u_,it.at=DL,it.before=dL,it.bind=V9,it.bindAll=dG,it.bindKey=hL,it.castArray=CQ,it.chain=sQ,it.chunk=DE,it.compact=PN,it.concat=Z4,it.cond=WL,it.conforms=hG,it.constant=QE,it.countBy=lQ,it.create=a2,it.curry=pL,it.curryRight=s_,it.debounce=mL,it.defaults=OL,it.defaultsDeep=RL,it.defer=vQ,it.delay=W9,it.difference=BN,it.differenceBy=e_,it.differenceWith=jN,it.drop=BW,it.dropRight=qN,it.dropRightWhile=jW,it.dropWhile=UN,it.fill=Jce,it.filter=ME,it.flatMap=Fp,it.flatMapDeep=sL,it.flatMapDepth=oL,it.flatten=t_,it.flattenDeep=ag,it.flattenDepth=$N,it.flip=_Q,it.flow=pG,it.flowRight=GL,it.fromPairs=O9,it.functions=QQ,it.functionsIn=NL,it.groupBy=fQ,it.initial=qW,it.intersection=UW,it.intersectionBy=RE,it.intersectionWith=$W,it.invert=Sa,it.invertBy=jf,it.invokeMap=PE,it.iteratee=GE,it.keyBy=BE,it.keys=Bu,it.keysIn=E0,it.map=r_,it.mapKeys=YQ,it.mapValues=u2,it.matches=mG,it.matchesProperty=YL,it.memoize=jE,it.merge=rA,it.mergeWith=iA,it.method=lg,it.methodOf=c2,it.mixin=cA,it.negate=qE,it.nthArg=xG,it.omit=g3,it.omitBy=sA,it.once=bQ,it.orderBy=Xce,it.over=b3,it.overArgs=p3,it.overEvery=fA,it.overSome=JL,it.partial=UE,it.partialRight=xL,it.partition=dQ,it.pick=KQ,it.pickBy=LL,it.property=YE,it.propertyOf=XL,it.pull=N9,it.pullAll=NE,it.pullAllBy=L9,it.pullAllWith=VN,it.pullAt=WN,it.range=ZL,it.rangeRight=E3,it.rearg=gL,it.reject=lL,it.remove=LE,it.rest=EQ,it.reverse=kE,it.sampleSize=pQ,it.set=JQ,it.setWith=y3,it.shuffle=mQ,it.slice=IE,it.sortBy=gQ,it.sortedUniq=k9,it.sortedUniqBy=QW,it.split=aG,it.spread=SQ,it.tail=GW,it.take=KN,it.takeRight=YW,it.takeRightWhile=KW,it.takeWhile=JW,it.tap=nL,it.throttle=Q9,it.thru=n_,it.toArray=AL,it.toPairs=zE,it.toPairsIn=c_,it.toPath=hA,it.toPlainObject=b0,it.transform=IL,it.unary=yL,it.union=XW,it.unionBy=JN,it.unionWith=ZW,it.uniq=XN,it.uniqBy=I9,it.uniqWith=eQ,it.unset=ML,it.unzip=M9,it.unzipWith=P9,it.update=PL,it.updateWith=XQ,it.values=v3,it.valuesIn=ZQ,it.without=ZN,it.words=h_,it.wrap=wQ,it.xor=B9,it.xorBy=tQ,it.xorWith=nQ,it.zip=eL,it.zipObject=tL,it.zipObjectDeep=rQ,it.zipWith=iQ,it.entries=zE,it.entriesIn=c_,it.extend=FL,it.extendWith=rm,cA(it,it),it.add=tk,it.attempt=lA,it.camelCase=f_,it.capitalize=Uc,it.ceil=vG,it.clamp=pc,it.clone=G9,it.cloneDeep=vL,it.cloneDeepWith=_L,it.cloneWith=Y9,it.conformsTo=bL,it.deburr=jL,it.defaultTo=QL,it.divide=nk,it.endsWith=oA,it.eq=Jd,it.escape=tG,it.escapeRegExp=nG,it.every=$9,it.find=z9,it.findIndex=D9,it.findKey=tA,it.findLast=iL,it.findLastIndex=Ap,it.findLastKey=ja,it.floor=_G,it.forEach=cQ,it.forEachRight=aL,it.forIn=ug,it.forInRight=HQ,it.forOwn=VQ,it.forOwnRight=WQ,it.get=nA,it.gt=AQ,it.gte=TQ,it.has=GQ,it.hasIn=l_,it.head=OE,it.identity=qf,it.includes=H9,it.indexOf=zN,it.inRange=BL,it.invoke=Op,it.isArguments=i2,it.isArray=qs,it.isArrayBuffer=K9,it.isArrayLike=_0,it.isArrayLikeObject=Mu,it.isBoolean=FQ,it.isBuffer=s2,it.isDate=DQ,it.isElement=OQ,it.isEmpty=RQ,it.isEqual=NQ,it.isEqualWith=LQ,it.isError=J9,it.isFinite=kQ,it.isFunction=tm,it.isInteger=EL,it.isLength=$E,it.isMap=SL,it.isMatch=IQ,it.isMatchWith=MQ,it.isNaN=PQ,it.isNative=BQ,it.isNil=wL,it.isNull=jQ,it.isNumber=X9,it.isObject=nu,it.isObjectLike=Pu,it.isPlainObject=m3,it.isRegExp=o_,it.isSafeInteger=Z9,it.isSet=eA,it.isString=a_,it.isSymbol=ud,it.isTypedArray=x3,it.isUndefined=qQ,it.isWeakMap=UQ,it.isWeakSet=CL,it.join=R9,it.kebabCase=qL,it.last=Kd,it.lastIndexOf=HN,it.lowerCase=HE,it.lowerFirst=UL,it.lt=$Q,it.lte=zQ,it.max=bG,it.maxBy=pA,it.mean=rk,it.meanBy=EG,it.min=SG,it.minBy=wG,it.stubArray=dA,it.stubFalse=KE,it.stubObject=ek,it.stubString=gG,it.stubTrue=JE,it.multiply=mA,it.nth=zW,it.noConflict=KL,it.noop=_3,it.now=i_,it.pad=rG,it.padEnd=iG,it.padStart=VE,it.parseInt=l2,it.random=eG,it.reduce=em,it.reduceRight=uL,it.repeat=sG,it.replace=oG,it.result=kL,it.round=ik,it.runInContext=nn,it.sample=hQ,it.size=cL,it.snakeCase=d_,it.some=xQ,it.sortedIndex=HW,it.sortedIndexBy=VW,it.sortedIndexOf=QN,it.sortedLastIndex=GN,it.sortedLastIndexBy=YN,it.sortedLastIndexOf=WW,it.startCase=$L,it.startsWith=uG,it.subtract=sk,it.sum=CG,it.sumBy=AG,it.template=Xd,it.times=yG,it.toFinite=nm,it.toInteger=eo,it.toLength=Dp,it.toLower=zL,it.toNumber=ul,it.toSafeInteger=TL,it.toString=Qo,it.toUpper=lG,it.trim=cG,it.trimEnd=aA,it.trimStart=fG,it.truncate=HL,it.unescape=uA,it.uniqueId=p_,it.upperCase=VL,it.upperFirst=WE,it.each=cQ,it.eachRight=aL,it.first=OE,cA(it,function(){var h={};return Pa(it,function(S,U){dr.call(it.prototype,U)||(h[U]=S)}),h}(),{chain:!1}),it.VERSION=e,Ps(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){it[h].placeholder=it}),Ps(["drop","take"],function(h,S){Qr.prototype[h]=function(U){U=U===n?1:Uo(eo(U),0);var me=this.__filtered__&&!S?new Qr(this):this.clone();return me.__filtered__?me.__takeCount__=Zo(U,me.__takeCount__):me.__views__.push({size:Zo(U,be),type:h+(me.__dir__<0?"Right":"")}),me},Qr.prototype[h+"Right"]=function(U){return this.reverse()[h](U).reverse()}}),Ps(["filter","map","takeWhile"],function(h,S){var U=S+1,me=U==ct||U==Et;Qr.prototype[h]=function(pt){var Wt=this.clone();return Wt.__iteratees__.push({iteratee:Dr(pt,3),type:U}),Wt.__filtered__=Wt.__filtered__||me,Wt}}),Ps(["head","last"],function(h,S){var U="take"+(S?"Right":"");Qr.prototype[h]=function(){return this[U](1).value()[0]}}),Ps(["initial","tail"],function(h,S){var U="drop"+(S?"":"Right");Qr.prototype[h]=function(){return this.__filtered__?new Qr(this):this[U](1)}}),Qr.prototype.compact=function(){return this.filter(qf)},Qr.prototype.find=function(h){return this.filter(h).head()},Qr.prototype.findLast=function(h){return this.reverse().find(h)},Qr.prototype.invokeMap=Fs(function(h,S){return typeof h=="function"?new Qr(this):this.map(function(U){return Nu(U,h,S)})}),Qr.prototype.reject=function(h){return this.filter(qE(Dr(h)))},Qr.prototype.slice=function(h,S){h=eo(h);var U=this;return U.__filtered__&&(h>0||S<0)?new Qr(U):(h<0?U=U.takeRight(-h):h&&(U=U.drop(h)),S!==n&&(S=eo(S),U=S<0?U.dropRight(-S):U.take(S-h)),U)},Qr.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},Qr.prototype.toArray=function(){return this.take(be)},Pa(Qr.prototype,function(h,S){var U=/^(?:filter|find|map|reject)|While$/.test(S),me=/^(?:head|last)$/.test(S),pt=it[me?"take"+(S=="last"?"Right":""):S],Wt=me||/^find/.test(S);!pt||(it.prototype[S]=function(){var _n=this.__wrapped__,On=me?[1]:arguments,Qn=_n instanceof Qr,Sr=On[0],Tr=Qn||qs(_n),Pr=function(wo){var Mo=pt.apply(it,Oo([wo],On));return me&&wi?Mo[0]:Mo};Tr&&U&&typeof Sr=="function"&&Sr.length!=1&&(Qn=Tr=!1);var wi=this.__chain__,Ji=!!this.__actions__.length,ys=Wt&&!wi,xo=Qn&&!Ji;if(!Wt&&Tr){_n=xo?_n:new Qr(this);var Es=h.apply(_n,On);return Es.__actions__.push({func:n_,args:[Pr],thisArg:n}),new Li(Es,wi)}return ys&&xo?h.apply(this,On):(Es=this.thru(Pr),ys?me?Es.value()[0]:Es.value():Es)})}),Ps(["pop","push","shift","sort","splice","unshift"],function(h){var S=ut[h],U=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",me=/^(?:pop|shift)$/.test(h);it.prototype[h]=function(){var pt=arguments;if(me&&!this.__chain__){var Wt=this.value();return S.apply(qs(Wt)?Wt:[],pt)}return this[U](function(_n){return S.apply(qs(_n)?_n:[],pt)})}}),Pa(Qr.prototype,function(h,S){var U=it[S];if(U){var me=U.name+"";dr.call(Z,me)||(Z[me]=[]),Z[me].push({name:S,func:U})}}),Z[Zs(n,q).name]=[{name:"wrapper",func:n}],Qr.prototype.clone=Ys,Qr.prototype.reverse=$o,Qr.prototype.value=va,it.prototype.at=oQ,it.prototype.chain=aQ,it.prototype.commit=Tp,it.prototype.next=uQ,it.prototype.plant=q9,it.prototype.reverse=U9,it.prototype.toJSON=it.prototype.valueOf=it.prototype.value=rL,it.prototype.first=it.prototype.head,c0&&(it.prototype[c0]=j9),it},Ts=No();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(us._=Ts,define(function(){return Ts})):ho?((ho.exports=Ts)._=Ts,so._=Ts):us._=Ts}).call(j8)});var rD=Ae(U5=>{"use strict";m();Object.defineProperty(U5,"__esModule",{value:!0});U5.AndChain=U5.generateSQLStringLiteral=U5.indent=void 0;function vtt(n){let e=/(^|\n)/g,t=/\n {2}$/;return n.replace(e,"$1  ").replace(t,`
`)}U5.indent=vtt;function _tt(n){return`'${n.replace(/\\/g,"\\\\").replace(/'/g,"\\'")}'`}U5.generateSQLStringLiteral=_tt;var xj=class{constructor(e){this.clauses=[],e&&this.clauses.push(e)}clone(){let e=new xj;return e.addChain(this),e}add(e){return this.clauses.push(e),this}addChain(e){return this.clauses.push(...e.clauses),this}empty(){return this.clauses.length===0}present(){return this.clauses.length>0}sqlOr(){return this.empty()?"":this.clauses.map(e=>`(${e})`).join("OR ")+`
`}sql(e){if(this.empty())return"";let t="",r="";return e&&(t=e.toUpperCase()+" ",r=`
`),this.clauses.length===1?t+this.clauses[0]+r:t+this.clauses.map(i=>`(${i})`).join(`
AND `)+r}};U5.AndChain=xj});var iD=Ae(gj=>{"use strict";m();Object.defineProperty(gj,"__esModule",{value:!0});gj.Dialect=void 0;var vve=bm(),_ve=class{sqlFinalStage(e,t){throw new Error("Dialect has no final Stage but called Anyway")}sqlDateToString(e){return`CAST(DATE(${e}) AS ${this.stringTypeName} )`}ignoreInProject(e){return!1}getFunctionInfo(e){return this.functionInfo[e.toLowerCase()]}dialectExpr(e){switch(e.function){case"now":return this.sqlNow();case"timeDiff":return this.sqlMeasureTime(e.left,e.right,e.units);case"delta":return this.sqlAlterTime(e.op,e.base,e.delta,e.units);case"trunc":return this.sqlTrunc(e.expr,e.units);case"extract":return this.sqlExtract(e.expr,e.units);case"cast":return this.sqlCast(e);case"regexpMatch":return this.sqlRegexpMatch(e.expr,e.regexp);case"div":return this.divisionIsInteger?(0,vve.mkExpr)`${e.numerator}*1.0/${e.denominator}`:(0,vve.mkExpr)`${e.numerator}/${e.denominator}`;case"timeLiteral":return[this.sqlLiteralTime(e.literal,e.literalType,e.timezone)]}}sqlSumDistinct(e,t){return"sqlSumDistinct called bu not implemented"}sqlSampleTable(e,t){if(t!==void 0)throw new Error(`Sampling is not supported on dialect ${this.name}.`);return e}sqlOrderBy(e){return`ORDER BY ${e.join(",")}`}};gj.Dialect=_ve});var vj=Ae(yj=>{"use strict";m();Object.defineProperty(yj,"__esModule",{value:!0});yj.StandardSQLDialect=void 0;var bve=rD(),dl=q8(),btt=iD(),Ett={number:"float64"},Stt=["microsecond","millisecond","second","minute","hour","day"],wtt={day_of_week:"dayofweek",day_of_year:"dayofyear"},Eve=class extends btt.Dialect{constructor(){super(...arguments);this.name="standardsql",this.defaultNumberType="FLOAT64",this.udfPrefix="__udf",this.hasFinalStage=!1,this.stringTypeName="STRING",this.divisionIsInteger=!1,this.supportsSumDistinctFunction=!1,this.unnestWithNumbers=!1,this.defaultSampling={enable:!1},this.supportUnnestArrayAgg=!1,this.supportsCTEinCoorelatedSubQueries=!1,this.functionInfo={timestamp_seconds:{returnType:"timestamp"},concat:{returnType:"string"}},this.keywords=`
  ALL
  AND
  ANY
  ARRAY
  AS
  ASC
  ASSERT_ROWS_MODIFIED
  AT
  BETWEEN
  BY
  CASE
  CAST
  COLLATE
  CONTAINS
  CREATE
  CROSS
  CUBE
  CURRENT
  DEFAULT
  DEFINE
  DESC
  DISTINCT
  ELSE
  END
  ENUM
  ESCAPE
  EXCEPT
  EXCLUDE
  EXISTS
  EXTRACT
  FALSE
  FETCH
  FOLLOWING
  FOR
  FROM
  FULL
  GROUP
  GROUPING
  GROUPS
  HASH
  HAVING
  IF
  IGNORE
  IN
  INNER
  INTERSECT
  INTERVAL
  INTO
  IS
  JOIN
  LATERAL
  LEFT
  LIKE
  LIMIT
  LOOKUP
  MERGE
  NATURAL
  NEW
  NO
  NOT
  NULL
  NULLS
  OF
  ON
  OR
  ORDER
  OUTER
  OVER
  PARTITION
  PRECEDING
  PROTO
  RANGE
  RECURSIVE
  RESPECT
  RIGHT
  ROLLUP
  ROWS
  SELECT
  SET
  SOME
  STRUCT
  TABLESAMPLE
  THEN
  TO
  TREAT
  TRUE
  UNBOUNDED
  UNION
  UNNEST
  USING
  WHEN
  WHERE
  WINDOW
  WITH
  WITHIN`.split(/\s/)}quoteTablePath(e){return`\`${e}\``}sqlGroupSetTable(e){return`CROSS JOIN (SELECT row_number() OVER() -1  group_set FROM UNNEST(GENERATE_ARRAY(0,${e},1)))`}sqlAnyValue(e,t){return`ANY_VALUE(CASE WHEN group_set=${e} THEN ${t} END)`}sqlAggregateTurtle(e,t,r,i){let s="";i!==void 0&&(s+=` LIMIT ${i}`);let o=t.map(a=>`
  ${a.sqlExpression} as ${a.sqlOutputName}`).join(", ");return`ARRAY_AGG(CASE WHEN group_set=${e} THEN STRUCT(${o}
  ) END IGNORE NULLS ${r} ${s})`}sqlAnyValueTurtle(e,t){let r=t.map(i=>`${i.sqlExpression} as ${i.sqlOutputName}`).join(", ");return`ANY_VALUE(CASE WHEN group_set=${e} THEN STRUCT(${r}))`}sqlAnyValueLastTurtle(e,t,r){return`ANY_VALUE(CASE WHEN group_set=${t} THEN ${e}__${t} END) as ${r}`}sqlCoaleseMeasuresInline(e,t){let r=t.map(s=>`${s.sqlExpression} as ${s.sqlOutputName}`).join(", "),i=t.map(s=>`NULL as ${s.sqlOutputName}`).join(", ");return`COALESCE(ANY_VALUE(CASE WHEN group_set=${e} THEN STRUCT(${r}) END), STRUCT(${i}))`}sqlUnnestAlias(e,t,r,i,s){return s?i?`LEFT JOIN UNNEST(ARRAY(( SELECT AS STRUCT row_number() over() as __row_id, value FROM UNNEST(${e}) value))) as ${t}`:`LEFT JOIN UNNEST(ARRAY((SELECT AS STRUCT value FROM unnest(${e}) value))) as ${t}`:i?`LEFT JOIN UNNEST(ARRAY(( SELECT AS STRUCT row_number() over() as __row_id, * FROM UNNEST(${e})))) as ${t}`:`LEFT JOIN UNNEST(${e}) as ${t}`}sqlSumDistinctHashedKey(e){e=`CAST(${e} AS STRING)`;let t=`cast(cast(concat('0x', substr(to_hex(md5(${e})), 1, 15)) as int64) as numeric) * 4294967296`,r=`cast(cast(concat('0x', substr(to_hex(md5(${e})), 16, 8)) as int64) as numeric)`;return`(${t} + ${r}) * 0.000000001`}sqlGenerateUUID(){return"GENERATE_UUID()"}sqlFieldReference(e,t,r,i,s){return`${e}.${t}`}sqlUnnestPipelineHead(e,t){let r=t;return e&&(r=`[${r}]`),`UNNEST(${r})`}sqlCreateFunction(e,t){return`CREATE TEMPORARY FUNCTION ${e}(__param ANY TYPE) AS ((
${(0,bve.indent)(t)}));
`}sqlCreateTableAsSelect(e,t){return`
CREATE TABLE IF NOT EXISTS \`${e}\`
OPTIONS (
    expiration_timestamp=TIMESTAMP_ADD(current_timestamp(),  INTERVAL 1 hour)
)
AS (
${(0,bve.indent)(t)}
);
`}sqlCreateFunctionCombineLastStage(e){return`SELECT ARRAY((SELECT AS STRUCT * FROM ${e}))
`}sqlSelectAliasAsStruct(e){return`(SELECT AS STRUCT ${e}.*)`}sqlMaybeQuoteIdentifier(e){return this.keywords.indexOf(e.toUpperCase())>0?"`"+e+"`":e}sqlNow(){return(0,dl.mkExpr)`CURRENT_TIMESTAMP()`}sqlTrunc(e,t){return e.valueType=="date"?(0,dl.isDateUnit)(t)?(0,dl.mkExpr)`DATE_TRUNC(${e.value},${t})`:(0,dl.mkExpr)`TIMESTAMP(${e.value})`:(0,dl.mkExpr)`TIMESTAMP_TRUNC(${e.value},${t})`}sqlExtract(e,t){let r=wtt[t]||t;return(0,dl.mkExpr)`EXTRACT(${r} FROM ${e.value})`}sqlAlterTime(e,t,r,i){let s=t.value,o=t.valueType;i!="day"&&Stt.includes(i)?(o="timestamp",t.valueType!="timestamp"&&(s=(0,dl.mkExpr)`TIMESTAMP(${s})`)):t.valueType=="timestamp"&&(s=(0,dl.mkExpr)`DATETIME(${s})`,o="datetime");let a=o.toUpperCase()+(e=="+"?"_ADD":"_SUB"),l=(0,dl.mkExpr)`${a}(${s}, INTERVAL ${r} ${i})`;return o=="datetime"?(0,dl.mkExpr)`TIMESTAMP(${l})`:l}ignoreInProject(e){return e==="_PARTITIONTIME"}sqlCast(e){if(e.srcType!==e.dstType){let t=Ett[e.dstType]||e.dstType;if(!e.safe&&e.srcType&&(0,dl.isTimeFieldType)(e.srcType))return t=="date"?(0,dl.mkExpr)`DATE(${e.expr})`:(0,dl.mkExpr)`TIMESTAMP(${e.expr})`;let r=e.safe?"SAFE_CAST":"CAST";return(0,dl.mkExpr)`${r}(${e.expr}  AS ${t})`}return e.expr}sqlRegexpMatch(e,t){return(0,dl.mkExpr)`REGEXP_CONTAINS(${e}, r${t})`}sqlLiteralTime(e,t,r){if(t==="date")return`DATE('${e}')`;if(t==="timestamp")return`TIMESTAMP('${e}', '${r}')`;throw new Error(`Unknown Liternal time format ${t}`)}sqlMeasureTime(e,t,r){let i=e.value,s=t.value,o="TIMESTAMP_DIFF";return r=="second"||r=="minute"||r=="hour"?(e.valueType!="timestamp"&&(i=(0,dl.mkExpr)`TIMESTAMP(${i})`),t.valueType!="timestamp"&&(s=(0,dl.mkExpr)`TIMESTAMP(${s})`)):(o="DATE_DIFF",e.valueType!="date"&&(i=(0,dl.mkExpr)`DATE(${i})`),t.valueType!="date"&&(s=(0,dl.mkExpr)`DATE(${s})`)),(0,dl.mkExpr)`${o}(${s}, ${i}, ${r})`}sqlSampleTable(e,t){if(t!==void 0){if((0,dl.isSamplingEnable)(t)&&t.enable&&(t=this.defaultSampling),(0,dl.isSamplingRows)(t))throw new Error("StandardSQL doesn't support sampling by rows only percent");if((0,dl.isSamplingPercent)(t))return`(SELECT * FROM ${e}  TABLESAMPLE SYSTEM (${t.percent} PERCENT))`}return e}};yj.StandardSQLDialect=Eve});var wte=Ae(_j=>{"use strict";m();Object.defineProperty(_j,"__esModule",{value:!0});_j.PostgresDialect=void 0;var Ctt=rD(),ou=q8(),Att=iD(),Ttt={number:"double precision",string:"varchar"},Ftt={day_of_week:"dow",day_of_year:"doy"},Dtt={year:"years",month:"months",week:"weeks",day:"days",hour:"hours",minute:"mins",second:"secs"},Sve={second:1,minute:60,hour:3600},wve=class extends Att.Dialect{constructor(){super(...arguments);this.name="postgres",this.defaultNumberType="DOUBLE PRECISION",this.udfPrefix="pg_temp.__udf",this.hasFinalStage=!0,this.stringTypeName="VARCHAR",this.divisionIsInteger=!0,this.supportsSumDistinctFunction=!1,this.unnestWithNumbers=!1,this.defaultSampling={rows:5e4},this.supportUnnestArrayAgg=!0,this.supportsCTEinCoorelatedSubQueries=!0,this.functionInfo={concat:{returnType:"string"}}}quoteTablePath(e){return e.split(".").map(t=>`"${t}"`).join(".")}sqlGroupSetTable(e){return`CROSS JOIN GENERATE_SERIES(0,${e},1) as group_set`}sqlAnyValue(e,t){return`MAX(${t})`}mapFields(e){return e.map(t=>`
  ${t.sqlExpression}${t.type=="number"?`::${this.defaultNumberType}`:""} as ${t.sqlOutputName}`).join(", ")}sqlAggregateTurtle(e,t,r,i){let s="";return i!==void 0&&(s+=`[1:${i}]`),`COALESCE(TO_JSONB((ARRAY_AGG((SELECT TO_JSONB(__x) FROM (SELECT ${this.mapFields(t)}
  ) as __x) ${r} ) FILTER (WHERE group_set=${e}))${s}),'[]'::JSONB)`}sqlAnyValueTurtle(e,t){let r=t.map(i=>`${i.sqlExpression} as ${i.sqlOutputName}`).join(", ");return`ANY_VALUE(CASE WHEN group_set=${e} THEN STRUCT(${r}))`}sqlAnyValueLastTurtle(e,t,r){return`(ARRAY_AGG(${e}__${t}) FILTER (WHERE group_set=${t} AND ${e}__${t} IS NOT NULL))[1] as ${r}`}sqlCoaleseMeasuresInline(e,t){return`TO_JSONB((ARRAY_AGG((SELECT __x FROM (SELECT ${this.mapFields(t)}) as __x)) FILTER (WHERE group_set=${e}))[1])`}sqlUnnestAlias(e,t,r,i,s){return s?i?`LEFT JOIN UNNEST(ARRAY((SELECT jsonb_build_object('__row_id', row_number() over (), 'value', v) FROM UNNEST(${e}) as v))) as ${t} ON true`:`LEFT JOIN UNNEST(ARRAY((SELECT jsonb_build_object('value', v) FROM UNNEST(${e}) as v))) as ${t} ON true`:i?`LEFT JOIN UNNEST(ARRAY((SELECT jsonb_build_object('__row_number', row_number() over())|| __xx::jsonb as b FROM  JSONB_ARRAY_ELEMENTS(${e}) __xx ))) as ${t} ON true`:`LEFT JOIN JSONB_ARRAY_ELEMENTS(${e}) as ${t} ON true`}sqlSumDistinctHashedKey(e){return`('x' || MD5(${e}::varchar))::bit(64)::bigint::DECIMAL(65,0)  *18446744073709551616 + ('x' || SUBSTR(MD5(${e}::varchar),17))::bit(64)::bigint::DECIMAL(65,0)`}sqlGenerateUUID(){return"GEN_RANDOM_UUID()"}sqlFieldReference(e,t,r,i,s){let o=`${e}->>'${t}'`;if(i){switch(r){case"string":break;case"number":o=`(${o})::double precision`;break;case"struct":o=`(${o})::jsonb`;break}return o}else return`${e}."${t}"`}sqlUnnestPipelineHead(e,t){return e?`UNNEST(ARRAY((SELECT ${t})))`:`JSONB_ARRAY_ELEMENTS(${t})`}sqlCreateFunction(e,t){return`CREATE FUNCTION ${e}(JSONB) RETURNS JSONB AS $$
${(0,Ctt.indent)(t)}
$$ LANGUAGE SQL;
`}sqlCreateFunctionCombineLastStage(e){return`SELECT JSONB_AGG(__stage0) FROM ${e}
`}sqlFinalStage(e,t){return`SELECT row_to_json(finalStage) as row FROM ${e} AS finalStage`}sqlSelectAliasAsStruct(e){return`ROW(${e})`}sqlMaybeQuoteIdentifier(e){return`"${e}"`}sqlCreateTableAsSelect(e,t){throw new Error("Not implemented Yet")}sqlNow(){return(0,ou.mkExpr)`CURRENT_TIMESTAMP`}sqlTrunc(e,t){let r=t=="week",i=r?(0,ou.mkExpr)`${e.value}+interval'1'day`:e.value,s=(0,ou.mkExpr)`DATE_TRUNC('${t}', ${i})`;return r?(0,ou.mkExpr)`(${s}-interval'1'day)`:s}sqlExtract(e,t){let r=Ftt[t]||t,i=(0,ou.mkExpr)`EXTRACT(${r} FROM ${e.value})`;return t=="day_of_week"?(0,ou.mkExpr)`(${i}+1)`:i}sqlAlterTime(e,t,r,i){i=="quarter"&&(i="month",r=(0,ou.mkExpr)`${r}*3`);let s=(0,ou.mkExpr)`make_interval(${Dtt[i]}=>${r})`;return(0,ou.mkExpr)`((${t.value})${e}${s})`}sqlCast(e){if(e.dstType!==e.srcType){let t=Ttt[e.dstType]||e.dstType;return(0,ou.mkExpr)`cast(${e.expr} as ${t})`}return e.expr}sqlRegexpMatch(e,t){return(0,ou.mkExpr)`(${e} ~ ${t})`}sqlLiteralTime(e,t,r){if(t=="date")return`DATE('${e}')`;if(t=="timestamp")return`TIMESTAMP '${e}'`;throw new Error(`Unknown Literal time format ${t}`)}getFunctionInfo(e){return this.functionInfo[e]}sqlMeasureTime(e,t,r){let i=e.value,s=t.value;if(Sve[r]){i=(0,ou.mkExpr)`EXTRACT(EPOCH FROM ${i})`,s=(0,ou.mkExpr)`EXTRACT(EPOCH FROM ${s})`;let a=(0,ou.mkExpr)`(${s} - ${i})`;return r=="second"?a:(0,ou.mkExpr)`TRUNC(${a}/${Sve[r].toString()})`}if(r==="day")return(0,ou.mkExpr)`${s}::date - ${i}::date`;let o=(0,ou.mkExpr)`(DATE_PART('year', ${s}) - DATE_PART('year', ${i}))`;if(r=="year")return o;if(r=="week"){let a=(0,ou.mkExpr)`(DATE_TRUNC('week', ${s} + '1 day'::interval)::date - DATE_TRUNC('week', ${i} + '1 day'::interval)::date)`;return(0,ou.mkExpr)`${a} / 7`}if(r=="month"){let a=(0,ou.mkExpr)`DATE_PART('month', ${s}) - DATE_PART('month', ${i})`;return(0,ou.mkExpr)`${o} * 12 + ${a}`}if(r=="quarter"){let a=(0,ou.mkExpr)`DATE_PART('quarter', ${s}) - DATE_PART('quarter', ${i})`;return(0,ou.mkExpr)`${o} * 4 + ${a}`}throw new Error(`Unknown or unhandled postgres time unit: ${r}`)}sqlSumDistinct(e,t){return`(
      SELECT sum((a::json->>'f2')::DOUBLE PRECISION) as value
      FROM (
        SELECT UNNEST(array_agg(distinct row_to_json(row(${e},${t}))::text)) a
      ) a
    )`}sqlSampleTable(e,t){if(t!==void 0){if((0,ou.isSamplingEnable)(t)&&t.enable&&(t=this.defaultSampling),(0,ou.isSamplingRows)(t))return`(SELECT * FROM ${e} TABLESAMPLE SYSTEM_ROWS(${t.rows}))`;if((0,ou.isSamplingPercent)(t))return`(SELECT * FROM ${e} TABLESAMPLE SYSTEM (${t.percent}))`}return e}sqlOrderBy(e){return`ORDER BY ${e.map(t=>`${t} NULLS LAST`).join(",")}`}};_j.PostgresDialect=wve});var Fve=Ae(bj=>{"use strict";m();Object.defineProperty(bj,"__esModule",{value:!0});bj.DuckDBDialect=void 0;var Su=q8(),Ott=rD(),Rtt=iD(),Cve="-- hack: split on this",A9t=`
ALL
ANALYSE
ANALYZE
AND
ANY
ARRAY
AS
ASC_P
ASYMMETRIC
BOTH
CASE
CAST
CHECK_P
COLLATE
COLUMN
CONSTRAINT
CREATE_P
CURRENT_CATALOG
CURRENT_DATE
CURRENT_ROLE
CURRENT_TIME
CURRENT_TIMESTAMP
CURRENT_USER
DEFAULT
DEFERRABLE
DESC_P
DISTINCT
DO
ELSE
END_P
EXCEPT
FALSE_P
FETCH
FOR
FOREIGN
FROM
GRANT
GROUP_P
HAVING
IN_P
INITIALLY
INTERSECT
INTO
LATERAL_P
LEADING
LIMIT
LOCALTIME
LOCALTIMESTAMP
NOT
NULL_P
OFFSET
ON
ONLY
OR
ORDER
PLACING
PRIMARY
REFERENCES
RETURNING
SELECT
SESSION_USER
SOME
SYMMETRIC
TABLE
THEN
TO
TRAILING
TRUE_P
UNION
UNIQUE
USER
USING
VARIADIC
WHEN
WHERE
WINDOW
WITH
`.split(/\s/),Ntt={number:"double precision",string:"varchar"},Ltt={day_of_week:"dow",day_of_year:"doy"},Ave={second:1,minute:60,hour:3600},Tve=class extends Rtt.Dialect{constructor(){super(...arguments);this.name="duckdb",this.defaultNumberType="DOUBLE",this.hasFinalStage=!1,this.stringTypeName="VARCHAR",this.divisionIsInteger=!0,this.supportsSumDistinctFunction=!0,this.unnestWithNumbers=!0,this.defaultSampling={rows:5e4},this.supportUnnestArrayAgg=!0,this.supportsCTEinCoorelatedSubQueries=!0,this.functionInfo={concat:{returnType:"string"}}}get udfPrefix(){return`__udf${Math.floor(Math.random()*1e5)}`}quoteTablePath(e){return e.match(/\//)?`'${e}'`:e}sqlGroupSetTable(e){return`CROSS JOIN (SELECT UNNEST(GENERATE_SERIES(0,${e},1)) as group_set  ) as group_set`}sqlAnyValue(e,t){return`FIRST(${t}) FILTER (WHERE ${t} IS NOT NULL)`}mapFields(e){return e.join(", ")}sqlAggregateTurtle(e,t,r,i){let s="";return i!==void 0&&(s+=`[1:${i}]`),`COALESCE(LIST({${t.map(a=>`
  ${a.sqlOutputName}: ${a.sqlExpression}`).join(", ")}} ${r}) FILTER (WHERE group_set=${e})${s},[])`}sqlAnyValueTurtle(e,t){let r=t.map(i=>`${i.sqlExpression} as ${i.sqlOutputName}`).join(", ");return`ANY_VALUE(CASE WHEN group_set=${e} THEN ROW(${r}))`}sqlAnyValueLastTurtle(e,t,r){return`MAX(CASE WHEN group_set=${t} THEN ${e}__${t} END) as ${r}`}sqlCoaleseMeasuresInline(e,t){let r=t.map(s=>`${s.sqlOutputName}: ${s.sqlExpression} `).join(", "),i=t.map(s=>`${s.sqlOutputName}: NULL`).join(", ");return`COALESCE(FIRST({${r}}) FILTER(WHERE group_set=${e}), {${i}})`}sqlUnnestAlias(e,t,r,i){return`LEFT JOIN (select UNNEST(generate_series(1,
        100000, --
        -- (SELECT genres_length FROM movies limit 1),
        1)) as __row_id) as ${t} ON  ${t}.__row_id <= array_length(${e})`}sqlSumDistinctHashedKey(e){return"uses sumDistinctFunction, should not be called"}sqlGenerateUUID(){return"GEN_RANDOM_UUID()"}sqlDateToString(e){return`(${e})::date::varchar`}sqlFieldReference(e,t,r,i,s){return s?e:`${e}.${this.sqlMaybeQuoteIdentifier(t)}`}sqlUnnestPipelineHead(e,t){let r=t;return e&&(r=`[${r}]`),`(SELECT UNNEST(${r}) as base)`}sqlCreateFunction(e,t){return`DROP MACRO IF EXISTS ${e}; 
${Cve}
 CREATE MACRO ${e}(_param) AS (
${(0,Ott.indent)(t)}
);
${Cve}
`}sqlCreateFunctionCombineLastStage(e,t){return`SELECT LIST(ROW(${t.fields.map(r=>this.sqlMaybeQuoteIdentifier((0,Su.getIdentifier)(r))).join(",")})) FROM ${e}
`}sqlSelectAliasAsStruct(e,t){return`ROW(${t.map(r=>`${e}.${r}`).join(", ")})`}sqlMaybeQuoteIdentifier(e){return'"'+e+'"'}sqlCreateTableAsSelect(e,t){throw new Error("Not implemented Yet")}getFunctionInfo(e){return this.functionInfo[e]}sqlMeasureTime(e,t,r){let i=e.value,s=t.value;if(Ave[r]){i=(0,Su.mkExpr)`EXTRACT(EPOCH FROM ${i})`,s=(0,Su.mkExpr)`EXTRACT(EPOCH FROM ${s})`;let o=(0,Su.mkExpr)`(${s} - ${i})`;return r=="second"?o:(0,Su.mkExpr)`FLOOR(${o}/${Ave[r].toString()})`}return e.valueType!="date"&&(i=(0,Su.mkExpr)`CAST((${i}) AS DATE)`),t.valueType!="date"&&(s=(0,Su.mkExpr)`CAST((${s}) AS DATE)`),r=="week"&&(i=(0,Su.mkExpr)`(${i} + INTERVAL 1 DAY)`,s=(0,Su.mkExpr)`(${s} + INTERVAL 1 DAY)`),(0,Su.mkExpr)`DATE_DIFF('${r}', ${i}, ${s})`}sqlNow(){return(0,Su.mkExpr)`CURRENT_TIMESTAMP`}sqlTrunc(e,t){let r=t=="week",i=r?(0,Su.mkExpr)`${e.value} + INTERVAL 1 DAY`:e.value,s=(0,Su.mkExpr)`DATE_TRUNC('${t}', ${i})`;return r?(0,Su.mkExpr)`(${s} - INTERVAL 1 DAY)`:s}sqlExtract(e,t){let r=Ltt[t]||t,i=(0,Su.mkExpr)`EXTRACT(${r} FROM ${e.value})`;return t=="day_of_week"?(0,Su.mkExpr)`(${i}+1)`:i}sqlAlterTime(e,t,r,i){i=="quarter"&&(i="month",r=(0,Su.mkExpr)`${r}*3`),i=="week"&&(i="day",r=(0,Su.mkExpr)`${r}*7`);let s=(0,Su.mkExpr)`INTERVAL (${r}) ${i}`;return(0,Su.mkExpr)`((${t.value})) ${e} ${s}`}sqlCast(e){if(e.dstType!==e.srcType){let t=Ntt[e.dstType]||e.dstType;return(0,Su.mkExpr)`cast(${e.expr} as ${t})`}return e.expr}sqlRegexpMatch(e,t){return(0,Su.mkExpr)`REGEXP_MATCHES(${e}, ${t})`}sqlLiteralTime(e,t,r){if(t=="date")return`DATE '${e}'`;if(t=="timestamp")return`TIMESTAMP '${e}'`;throw new Error(`Unknown Literal time format ${t}`)}sqlSumDistinct(e,t){return`(
      SELECT sum(a.val) as value
      FROM (
        SELECT UNNEST(list(distinct {key:${e}, val: ${t}})) a
      )
    )`}sqlSampleTable(e,t){if(t!==void 0){if((0,Su.isSamplingEnable)(t)&&t.enable&&(t=this.defaultSampling),(0,Su.isSamplingRows)(t))return`(SELECT * FROM ${e} USING SAMPLE ${t.rows})`;if((0,Su.isSamplingPercent)(t))return`(SELECT * FROM ${e} USING SAMPLE ${t.percent} PERCENT (bernoulli))`}return e}sqlOrderBy(e){return`ORDER BY ${e.map(t=>`${t} NULLS LAST`).join(",")}`}};bj.DuckDBDialect=Tve});var Ove=Ae(U8=>{"use strict";m();Object.defineProperty(U8,"__esModule",{value:!0});U8.registerDialect=U8.getDialect=void 0;var ktt=Sj(),Itt=wte(),Mtt=vj(),Dve=new Map;function Ptt(n){let e=Dve.get(n);if(e===void 0)throw new Error(`Unknown Dialect ${n}`);return e}U8.getDialect=Ptt;function Ej(n){Dve.set(n.name,n)}U8.registerDialect=Ej;Ej(new Itt.PostgresDialect);Ej(new Mtt.StandardSQLDialect);Ej(new ktt.DuckDBDialect)});var Sj=Ae(hh=>{"use strict";m();Object.defineProperty(hh,"__esModule",{value:!0});hh.registerDialect=hh.getDialect=hh.DuckDBDialect=hh.PostgresDialect=hh.StandardSQLDialect=hh.Dialect=void 0;var Btt=iD();Object.defineProperty(hh,"Dialect",{enumerable:!0,get:function(){return Btt.Dialect}});var jtt=vj();Object.defineProperty(hh,"StandardSQLDialect",{enumerable:!0,get:function(){return jtt.StandardSQLDialect}});var qtt=wte();Object.defineProperty(hh,"PostgresDialect",{enumerable:!0,get:function(){return qtt.PostgresDialect}});var Utt=Fve();Object.defineProperty(hh,"DuckDBDialect",{enumerable:!0,get:function(){return Utt.DuckDBDialect}});var Rve=Ove();Object.defineProperty(hh,"getDialect",{enumerable:!0,get:function(){return Rve.getDialect}});Object.defineProperty(hh,"registerDialect",{enumerable:!0,get:function(){return Rve.registerDialect}})});var Lve=Ae((O9t,Nve)=>{m();(function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(t,r){return t<<r|t>>>32-r},rotr:function(t,r){return t<<32-r|t>>>r},endian:function(t){if(t.constructor==Number)return e.rotl(t,8)&16711935|e.rotl(t,24)&4278255360;for(var r=0;r<t.length;r++)t[r]=e.endian(t[r]);return t},randomBytes:function(t){for(var r=[];t>0;t--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(t){for(var r=[],i=0,s=0;i<t.length;i++,s+=8)r[s>>>5]|=t[i]<<24-s%32;return r},wordsToBytes:function(t){for(var r=[],i=0;i<t.length*32;i+=8)r.push(t[i>>>5]>>>24-i%32&255);return r},bytesToHex:function(t){for(var r=[],i=0;i<t.length;i++)r.push((t[i]>>>4).toString(16)),r.push((t[i]&15).toString(16));return r.join("")},hexToBytes:function(t){for(var r=[],i=0;i<t.length;i+=2)r.push(parseInt(t.substr(i,2),16));return r},bytesToBase64:function(t){for(var r=[],i=0;i<t.length;i+=3)for(var s=t[i]<<16|t[i+1]<<8|t[i+2],o=0;o<4;o++)i*8+o*6<=t.length*8?r.push(n.charAt(s>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],i=0,s=0;i<t.length;s=++i%4)s!=0&&r.push((n.indexOf(t.charAt(i-1))&Math.pow(2,-2*s+8)-1)<<s*2|n.indexOf(t.charAt(i))>>>6-s*2);return r}};Nve.exports=e})()});var Ate=Ae((R9t,kve)=>{m();var Cte={utf8:{stringToBytes:function(n){return Cte.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(Cte.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var e=[],t=0;t<n.length;t++)e.push(n.charCodeAt(t)&255);return e},bytesToString:function(n){for(var e=[],t=0;t<n.length;t++)e.push(String.fromCharCode(n[t]));return e.join("")}}};kve.exports=Cte});var Pve=Ae((N9t,Mve)=>{m();Mve.exports=function(n){return n!=null&&(Ive(n)||$tt(n)||!!n._isBuffer)};function Ive(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function $tt(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&Ive(n.slice(0,0))}});var Tte=Ae((L9t,Bve)=>{m();(function(){var n=Lve(),e=Ate().utf8,t=Pve(),r=Ate().bin,i=function(s,o){s.constructor==String?o&&o.encoding==="binary"?s=r.stringToBytes(s):s=e.stringToBytes(s):t(s)?s=Array.prototype.slice.call(s,0):!Array.isArray(s)&&s.constructor!==Uint8Array&&(s=s.toString());for(var a=n.bytesToWords(s),l=s.length*8,f=1732584193,p=-271733879,_=-1732584194,E=271733878,O=0;O<a.length;O++)a[O]=(a[O]<<8|a[O]>>>24)&16711935|(a[O]<<24|a[O]>>>8)&4278255360;a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var R=i._ff,q=i._gg,z=i._hh,L=i._ii,O=0;O<a.length;O+=16){var B=f,P=p,G=_,ue=E;f=R(f,p,_,E,a[O+0],7,-680876936),E=R(E,f,p,_,a[O+1],12,-389564586),_=R(_,E,f,p,a[O+2],17,606105819),p=R(p,_,E,f,a[O+3],22,-1044525330),f=R(f,p,_,E,a[O+4],7,-176418897),E=R(E,f,p,_,a[O+5],12,1200080426),_=R(_,E,f,p,a[O+6],17,-1473231341),p=R(p,_,E,f,a[O+7],22,-45705983),f=R(f,p,_,E,a[O+8],7,1770035416),E=R(E,f,p,_,a[O+9],12,-1958414417),_=R(_,E,f,p,a[O+10],17,-42063),p=R(p,_,E,f,a[O+11],22,-1990404162),f=R(f,p,_,E,a[O+12],7,1804603682),E=R(E,f,p,_,a[O+13],12,-40341101),_=R(_,E,f,p,a[O+14],17,-1502002290),p=R(p,_,E,f,a[O+15],22,1236535329),f=q(f,p,_,E,a[O+1],5,-165796510),E=q(E,f,p,_,a[O+6],9,-1069501632),_=q(_,E,f,p,a[O+11],14,643717713),p=q(p,_,E,f,a[O+0],20,-373897302),f=q(f,p,_,E,a[O+5],5,-701558691),E=q(E,f,p,_,a[O+10],9,38016083),_=q(_,E,f,p,a[O+15],14,-660478335),p=q(p,_,E,f,a[O+4],20,-405537848),f=q(f,p,_,E,a[O+9],5,568446438),E=q(E,f,p,_,a[O+14],9,-1019803690),_=q(_,E,f,p,a[O+3],14,-187363961),p=q(p,_,E,f,a[O+8],20,1163531501),f=q(f,p,_,E,a[O+13],5,-1444681467),E=q(E,f,p,_,a[O+2],9,-51403784),_=q(_,E,f,p,a[O+7],14,1735328473),p=q(p,_,E,f,a[O+12],20,-1926607734),f=z(f,p,_,E,a[O+5],4,-378558),E=z(E,f,p,_,a[O+8],11,-2022574463),_=z(_,E,f,p,a[O+11],16,1839030562),p=z(p,_,E,f,a[O+14],23,-35309556),f=z(f,p,_,E,a[O+1],4,-1530992060),E=z(E,f,p,_,a[O+4],11,1272893353),_=z(_,E,f,p,a[O+7],16,-155497632),p=z(p,_,E,f,a[O+10],23,-1094730640),f=z(f,p,_,E,a[O+13],4,681279174),E=z(E,f,p,_,a[O+0],11,-358537222),_=z(_,E,f,p,a[O+3],16,-722521979),p=z(p,_,E,f,a[O+6],23,76029189),f=z(f,p,_,E,a[O+9],4,-640364487),E=z(E,f,p,_,a[O+12],11,-421815835),_=z(_,E,f,p,a[O+15],16,530742520),p=z(p,_,E,f,a[O+2],23,-995338651),f=L(f,p,_,E,a[O+0],6,-198630844),E=L(E,f,p,_,a[O+7],10,1126891415),_=L(_,E,f,p,a[O+14],15,-1416354905),p=L(p,_,E,f,a[O+5],21,-57434055),f=L(f,p,_,E,a[O+12],6,1700485571),E=L(E,f,p,_,a[O+3],10,-1894986606),_=L(_,E,f,p,a[O+10],15,-1051523),p=L(p,_,E,f,a[O+1],21,-2054922799),f=L(f,p,_,E,a[O+8],6,1873313359),E=L(E,f,p,_,a[O+15],10,-30611744),_=L(_,E,f,p,a[O+6],15,-1560198380),p=L(p,_,E,f,a[O+13],21,1309151649),f=L(f,p,_,E,a[O+4],6,-145523070),E=L(E,f,p,_,a[O+11],10,-1120210379),_=L(_,E,f,p,a[O+2],15,718787259),p=L(p,_,E,f,a[O+9],21,-343485551),f=f+B>>>0,p=p+P>>>0,_=_+G>>>0,E=E+ue>>>0}return n.endian([f,p,_,E])};i._ff=function(s,o,a,l,f,p,_){var E=s+(o&a|~o&l)+(f>>>0)+_;return(E<<p|E>>>32-p)+o},i._gg=function(s,o,a,l,f,p,_){var E=s+(o&l|a&~l)+(f>>>0)+_;return(E<<p|E>>>32-p)+o},i._hh=function(s,o,a,l,f,p,_){var E=s+(o^a^l)+(f>>>0)+_;return(E<<p|E>>>32-p)+o},i._ii=function(s,o,a,l,f,p,_){var E=s+(a^(o|~l))+(f>>>0)+_;return(E<<p|E>>>32-p)+o},i._blocksize=16,i._digestsize=16,Bve.exports=function(s,o){if(s==null)throw new Error("Illegal argument "+s);var a=n.wordsToBytes(i(s,o));return o&&o.asBytes?a:o&&o.asString?r.bytesToString(a):n.bytesToHex(a)}})()});var Rte=Ae(V2=>{"use strict";m();var ztt=V2&&V2.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(V2,"__esModule",{value:!0});V2.flattenQuery=V2.QueryModel=V2.Segment=void 0;var jve=nD(),Htt=vj(),Vtt=Sj(),ko=bm(),s1=rD(),Wtt=ztt(Tte());function Fte(n){return`'${n}'`}var $8=class{constructor(e=!0,t){this.withs=[],this.udfs=[],this.pdts=[],this.stagePrefix="__stage",this.parent=t,this.useCTE=e}getName(e){return`${this.stagePrefix}${e}`}root(){return this.parent===void 0?this:this.parent.root()}addStage(e){return this.useCTE?(this.withs.push(e),this.getName(this.withs.length-1)):(this.withs[0]=e,(0,s1.indent)(`
(${e})
`))}addUDF(e,t,r){let{sql:i,lastStageName:s}=e.combineStages(!0);if(s===void 0)throw new Error("Internal Error: no stage to combine");i+=t.sqlCreateFunctionCombineLastStage(s,r);let o=`${t.udfPrefix}${this.root().udfs.length}`;return i=t.sqlCreateFunction(o,i),this.root().udfs.push(i),o}addPDT(e,t){let r=this.combineStages(!1).sql+this.withs[this.withs.length-1],i="scratch."+e+(0,Wtt.default)(r);return this.root().pdts.push(t.sqlCreateTableAsSelect(i,r)),i}combineStages(e){if(!this.useCTE)return{sql:this.withs[0],lastStageName:this.withs[0]};let t=this.getName(0),r="WITH ",i="";for(let s=0;s<this.withs.length-(e?0:1);s++){let o=this.withs[s];if(t=this.getName(s),o===void 0)throw new Error(`Expected sql WITH to be present for stage ${t}.`);i+=`${r}${t} AS (
${(0,s1.indent)(o)})
`,r=", "}return{sql:i,lastStageName:t}}generateSQLStages(){let e=this.withs.length-1;if(e<0)throw new Error("No SQL generated");let t=this.udfs.join(`
`),r=this.pdts.join(`
`),i=this.combineStages(!1).sql;return t+r+i+this.withs[e]}generateCoorelatedSubQuery(e,t){return this.useCTE?this.combineStages(!0).sql+e.sqlCreateFunctionCombineLastStage(this.getName(this.withs.length-1),t):e.sqlCreateFunctionCombineLastStage(`(${this.withs[0]})`,t)}},z8=class{constructor(){this.totalGroupSet=-1}withWhere(e){let t=new z8;return t.whereSQL=e,t.applyValue=this.applyValue,t.totalGroupSet=this.totalGroupSet,t}withApply(e){let t=new z8;return t.whereSQL=this.whereSQL,t.applyValue=e,t.totalGroupSet=this.totalGroupSet,t}withTotal(e){let t=new z8;return t.whereSQL=this.whereSQL,t.applyValue=this.applyValue,t.totalGroupSet=e,t}},Dte=class{constructor(e){this.fieldDef=e}getIdentifier(){return(0,ko.getIdentifier)(this.fieldDef)}getChildByName(e){}},sD=class extends Dte{constructor(e,t){super(e);this.parent=t,this.fieldDef=e}mayNeedUniqueKey(){return!1}getJoinableParent(){let e=this.parent;if(e.fieldDef.structRelationship.type==="inline"){if(e)return e.getJoinableParent();throw new Error("Internal Error: inline struct cannot be root")}return e}caseGroup(e,t){return e.length===0?t:`CASE WHEN group_set${e.length===1?`=${e[0]}`:` IN (${e.join(",")})`} THEN
  ${t}
  END`}getFullOutputName(){return this.parent.getFullOutputName()+this.getIdentifier()}generateFieldFragment(e,t,r,i){let s=t.getFieldByName(r.path);if((0,ko.hasExpression)(s.fieldDef)){let o=this.generateExpressionFromExpr(e,s.parent,s.fieldDef.e,i);return o.match(/^\(.*\)$/)||(o=`(${o})`),o}else return s.generateExpression(e)}generateParameterFragment(e,t,r,i){let s=t.parameters()[r.path];if((0,ko.isValueParameter)(s)){if(s.value)return this.generateExpressionFromExpr(e,t,s.value,i)}else if(s.condition)return this.generateExpressionFromExpr(e,t,s.condition,i);throw new Error(`Can't generate SQL, no value for ${r.path}`)}generateFilterFragment(e,t,r,i){let s=new s1.AndChain(i.whereSQL);for(let o of r.filterList)s.add(this.generateExpressionFromExpr(e,t,o.expression,i.withWhere()));return this.generateExpressionFromExpr(e,t,r.e,i.withWhere(s.sql()))}generateDimFragment(e,t,r,i){let s=this.generateExpressionFromExpr(e,t,r.e,i);return i.whereSQL&&(s=`CASE WHEN ${i.whereSQL} THEN ${s} END`),s}generateUngroupedFragment(e,t,r,i){if(i.totalGroupSet!==-1)throw new Error("Already in ALL.  Cannot nest within an all calcuation.");let s,o;if(r.fields&&r.fields.length>0){let _=r.fields.sort().join("|")+r.type;if(o=e.ungroupedSets.get(_),o===void 0)throw new Error(`Internal Error, cannot find groupset with key ${_}`);s=o.groupSet}else s=e.parent?e.parent.groupSet:0;let a=this.generateExpressionFromExpr(e,t,r.e,i.withTotal(s)),l=e.getUngroupPartitions(o),f="",p=l.map(_=>_.getPartitionSQL()).join(", ");return p.length>0&&(f=`PARTITION BY ${p}`),`MAX(${a}) OVER (${f})`}generateDistinctKeyIfNecessary(e,t,r){let i=t;if(r&&(i=this.parent.root().getStructByName(r)),i.needsSymetricCalculation(e))return i.getDistinctKey().generateExpression(e)}generateSumFragment(e,t,r,i){let s=this.generateDimFragment(e,t,r,i),o=this.generateDistinctKeyIfNecessary(e,t,r.structPath),a;return o?this.parent.dialect.supportsSumDistinctFunction?a=this.parent.dialect.sqlSumDistinct(o,s):a=Hve(this.parent.dialect,s,o):a=`SUM(${s})`,`COALESCE(${a},0)`}generateSymmetricFragment(e,t,r,i){let s=this.generateDimFragment(e,t,r,i);return`${r.function==="count_distinct"?"count(distinct ":r.function+"("}${s})`}generateAvgFragment(e,t,r,i){let s=this.generateDimFragment(e,t,r,i),o=this.generateDistinctKeyIfNecessary(e,t,r.structPath);if(o){let a=o;i.whereSQL&&(a=`CASE WHEN ${i.whereSQL} THEN ${o} END`);let l;return this.parent.dialect.supportsSumDistinctFunction?l=this.parent.dialect.sqlSumDistinct(o,s):l=Hve(this.parent.dialect,s,o),`(${l})/NULLIF(COUNT(DISTINCT ${a}),0)`}else return`AVG(${s})`}generateCountFragment(e,t,r,i){let s="COUNT(",o="1",a=this.generateDistinctKeyIfNecessary(e,t,r.structPath);return a&&(s="COUNT(DISTINCT",o=a),i.whereSQL?`${s} CASE WHEN ${i.whereSQL} THEN ${o} END)`:`${s} ${o})`}generateDialect(e,t,r,i){return this.generateExpressionFromExpr(e,t,t.dialect.dialectExpr(r),i)}generateExpressionFromExpr(e,t,r,i=new z8){let s="";for(let o of r)if(typeof o=="string")s+=o;else if((0,ko.isFieldFragment)(o))s+=this.generateFieldFragment(e,t,o,i);else if((0,ko.isParameterFragment)(o))s+=this.generateParameterFragment(e,t,o,i);else if((0,ko.isFilterFragment)(o))s+=this.generateFilterFragment(e,t,o,i);else if((0,ko.isUngroupFragment)(o))s+=this.generateUngroupedFragment(e,t,o,i);else if((0,ko.isAggregateFragment)(o)){let a;if(o.function==="sum")a=this.generateSumFragment(e,t,o,i);else if(o.function==="avg")a=this.generateAvgFragment(e,t,o,i);else if(o.function==="count")a=this.generateCountFragment(e,t,o,i);else if(["count_distinct","min","max"].includes(o.function))a=this.generateSymmetricFragment(e,t,o,i);else throw new Error(`Internal Error: Unknown aggregate function ${o.function}`);if(e.root().isComplexQuery){let l=e.groupSet;i.totalGroupSet!==-1&&(l=i.totalGroupSet),s+=this.caseGroup([l],a)}else s+=a}else if((0,ko.isApplyFragment)(o)){let a=this.generateExpressionFromExpr(e,t,o.value,i);s+=this.generateExpressionFromExpr(e,t,o.to,i.withApply(a))}else if((0,ko.isApplyValue)(o))if(i.applyValue)s+=i.applyValue;else throw new Error("Internal Error: Partial application value referenced but not provided");else if(o.type=="dialect")s+=this.generateDialect(e,t,o,i);else throw new Error(`Internal Error: Unknown expression fragment ${JSON.stringify(o,void 0,2)}`);return s}getExpr(){return(0,ko.hasExpression)(this.fieldDef)?this.fieldDef.e:[this.parent.dialect.sqlFieldReference(this.parent.getSQLIdentifier(),this.fieldDef.name,this.fieldDef.type,this.parent.fieldDef.structSource.type==="nested"||this.parent.fieldDef.structSource.type==="inline"||this.parent.fieldDef.structSource.type==="sql"&&this.parent.fieldDef.structSource.method==="nested",this.parent.fieldDef.structRelationship.type==="nested"&&this.parent.fieldDef.structRelationship.isArray)]}generateExpression(e){return this.generateExpressionFromExpr(e,this.parent,this.getExpr())}};function p6(n){return n instanceof L0&&n.isAggregate()}function N0(n){return n instanceof L0&&!n.isAggregate()}var L0=class extends sD{includeInWildcard(){return!0}isAggregate(){return this.fieldDef.aggregate!==void 0&&this.fieldDef.aggregate===!0}getFilterList(){return[]}hasExpression(){return(0,ko.hasExpression)(this.fieldDef)}},qve=class extends L0{},Uve=class extends L0{},wj=class extends L0{},Cj=class extends L0{constructor(e,t,r){super(e,t);this.primaryKey=r}getName(){return(0,ko.getIdentifier)(this.fieldDef)}getAsJoinedStructDef(e){return{...this.parent.fieldDef,structRelationship:{type:"one",onExpression:[{type:"field",path:this.primaryKey},"=",{type:"field",path:e}]}}}},oD=class extends L0{generateExpression(e){let t=this.fieldDef;if(t.timeframe){let r=this.parent.dialect.sqlTrunc({value:this.getExpr(),valueType:"date"},t.timeframe);return this.generateExpressionFromExpr(e,this.parent,r)}else return super.generateExpression(e)}getChildByName(e){let t={...this.fieldDef,as:`${this.getIdentifier()}_${e}`,timeframe:e};return new oD(t,this.parent)}},aD=class extends L0{getChildByName(e){let t={...this.fieldDef,as:`${this.getIdentifier()}_${e}`,timeframe:e};return new aD(t,this.parent)}},$ve=class extends L0{generateExpression(e){var t;return this.parent.primaryKey()?this.parent.getPrimaryKeyField(this.fieldDef).generateExpression(e):this.parent.fieldDef.structSource.type==="nested"?`CONCAT(${(t=this.parent.parent)===null||t===void 0?void 0:t.getDistinctKey().generateExpression(e)}, 'x', ${this.parent.dialect.sqlFieldReference(this.parent.getIdentifier(),"__row_id","string",!0,!1)})`:this.parent.dialect.sqlFieldReference(this.parent.getIdentifier(),"__distinct_key","string",this.parent.fieldDef.structRelationship.type==="nested",!1)}includeInWildcard(){return!1}},zve=9;function Hve(n,e,t){let r=9,i=n.sqlSumDistinctHashedKey(t),s=10**(r-zve),a=`(${`
  (
    SUM(DISTINCT
      (CAST(ROUND(COALESCE(${e},0)*(${s}*1.0), ${zve}) AS NUMERIC) +
      ${i}
    ))
    -
     SUM(DISTINCT ${i})
  )`}/(${s}*1.0))`;return a=`CAST(${a} as ${n.defaultNumberType})`,a}var k0=class{constructor(e,t,r){this.type="field",this.additionalGroupSets=[],this.f=e,this.fieldUsage=t,this.parent=r}root(){return this.parent.root()}getSQL(){let e=this.f.generateExpression(this.parent);return N0(this.f)&&(e=this.f.caseGroup(this.parent.childGroups.concat(this.additionalGroupSets),e)),e}getPartitionSQL(){return this.partitionSQL===void 0?this.getSQL():this.partitionSQL}},Em=class{constructor(e,t){this.type="query",this.allFields=new Map,this.groupSet=0,this.depth=0,this.childGroups=[],this.hasHaving=!1,this.ungroupedSets=new Map,this.resultUsesUngrouped=!1,this.parent=t,this.turtleDef=e,this.firstSegment=e.pipeline[0]}addField(e,t,r){let i;if(i=this.allFields.get(e)){if(i.type==="query")throw new Error(`Redefinition of field ${t.fieldDef.name} as struct`);if(i.fieldUsage.type==="result"){if(r.type!=="result")return;throw new Error(`Ambiguous output field name '${t.fieldDef.name}'.`)}}this.add(e,new k0(t,r,this))}parentGroupSet(){return this.parent?this.parent.groupSet:0}add(e,t){this.allFields.set(e,t)}hasField(e){let t=this.allFields.get(e);return t!==void 0&&t instanceof k0}getField(e){let t=this.allFields.get(e);if(t===void 0)throw new Error(`Internal Error, field Not defined ${e}`);if(t instanceof k0)return t;throw new Error(`can't use a query here ${e}`)}getFieldByNumber(e){for(let[t,r]of this.allFields)if(r instanceof k0&&r.fieldUsage.type==="result"&&r.fieldUsage.resultIndex===e)return{name:t,fif:r};throw new Error(`Invalid Order By index '${e}`)}computeGroups(e,t){e===0&&this.resultUsesUngrouped&&this.root().computeOnlyGroups.push(e++);for(let[o,a]of this.ungroupedSets){let l=e++;a.groupSet=l,this.root().computeOnlyGroups.push(l)}this.groupSet=e++,this.depth=t;let r=t,i=!1,s=[this.groupSet];for(let[o,a]of this.allFields)if(a.type==="query"){let l=a;if(i=!0,l.firstSegment.type==="reduce"){let f=l.computeGroups(e,t+1);s=s.concat(f.children),e=f.nextGroupSetNumber,f.maxDepth>r&&(r=f.maxDepth)}}return this.childGroups=s,{nextGroupSetNumber:e,maxDepth:r,children:s,isComplex:i}}fields(e=void 0){let t=[];for(let r of this.allFields.values())r instanceof k0&&(e===void 0||e(r))&&t.push(r);return t}fieldNames(e){let t=[];for(let[r,i]of this.allFields)i instanceof k0&&(e===void 0||e(i))&&t.push(r);return t}getRepeatedResultType(){let e="inline_all_numbers";for(let t of this.fields())if(t.fieldUsage.type==="result"){if(N0(t.f))return"nested";t.f instanceof vf&&(e="inline")}return e}structs(){let e=[];for(let t of this.allFields.values())t instanceof Em&&e.push(t);return e}selectStructs(e,t){t(this)&&e.push(this);for(let r of this.structs())r.selectStructs(e,t);return e}calculateDefaultOrderBy(){let e;for(let[t,r]of this.allFields)if(r instanceof k0&&r.fieldUsage.type==="result"){if(e||(e=r.fieldUsage.resultIndex),["date","timestamp"].indexOf(r.f.fieldDef.type)>-1)return[{dir:"desc",field:r.fieldUsage.resultIndex}];if(p6(r.f))return[{dir:"desc",field:r.fieldUsage.resultIndex}]}return e?[{dir:"asc",field:e}]:[]}addStructToJoin(e,t,r,i){var s;let o=e.getIdentifier();if(i.indexOf(o)!==-1)return;let a;if(a=this.root().joins.get(o)){a.mayNeedUniqueKey||(a.mayNeedUniqueKey=r);return}let l,f=(s=e.parent)===null||s===void 0?void 0:s.getJoinableParent();f&&(this.addStructToJoin(f,t,!1,i),l=this.root().joins.get(f.getIdentifier()));let p=e.fieldDef.structRelationship;(0,ko.isJoinOn)(p)&&e.parent&&p.onExpression!==void 0&&i.indexOf(o)===-1&&t.addDependantExpr(this,e.parent,p.onExpression,[...i,o]),(a=this.root().joins.get(o))||(a=new Wve(e,o,l),this.root().joins.set(o,a)),a.mayNeedUniqueKey||(a.mayNeedUniqueKey=r)}findJoins(e){for(let t of this.fields())this.addStructToJoin(t.f.getJoinableParent(),e,t.f.mayNeedUniqueKey(),[]);for(let t of this.structs())t.findJoins(e)}root(){if(this.parent)return this.parent.root();throw new Error("Internal Error, Null parent FieldInstanceResult")}getUngroupPartitions(e){let t=[],r=this,i=[],s=[];if(e===void 0||e.type==="all"){let a=(e==null?void 0:e.fields)||[];i=this.fields(l=>N0(l.f)&&l.fieldUsage.type==="result"&&a.indexOf(l.f.getIdentifier())===-1).map(l=>l.f.getIdentifier())}else i=e.fields;let o=!0;for(;r!==void 0;)(o||(e==null?void 0:e.type)==="exclude")&&(s=s.concat(r.fields(a=>N0(a.f)&&a.fieldUsage.type==="result").map(a=>a.f.getIdentifier()))),t=t.concat(r.fields(a=>N0(a.f)&&a.fieldUsage.type==="result"&&i.indexOf(a.f.getIdentifier())===-1)),r=r.parent,o=!1;for(let a of(e==null?void 0:e.fields)||[])if(s.indexOf(a)===-1)throw new Error(`${e==null?void 0:e.type}(): unknown field name "${a}" or name not in scope.`);return t}assignFieldsToGroups(){for(let[e,t]of this.ungroupedSets)for(let r of this.getUngroupPartitions(t))r.additionalGroupSets.push(t.groupSet);for(let e of this.structs())e.assignFieldsToGroups()}},Vve=class extends Em{constructor(e){super(e,void 0);this.joins=new Map,this.havings=new s1.AndChain,this.isComplexQuery=!1,this.queryUsesUngrouped=!1,this.computeOnlyGroups=[],this.elimatedComputeGroups=!1}root(){return this}eliminateComputeGroupsSQL(){return this.elimatedComputeGroups||this.computeOnlyGroups.length==0?"":(this.elimatedComputeGroups=!0,`group_set NOT IN (${this.computeOnlyGroups.join(",")})`)}calculateSymmetricAggregates(){let e;for(let[t,r]of this.joins)if(r.parentRelationship()==="many_to_many")e="0never";else if(e===void 0)e=t;else if(r.parentRelationship()==="one_to_many"){let s=r.queryStruct;s.parent&&s.parent.getIdentifier()===e?e=t:e="0never"}for(let[t,r]of this.joins)r.leafiest=t===e;for(let[t,r]of this.joins)if(!r.leafiest&&r.mayNeedUniqueKey){let i=r;for(;i;)i.queryStruct.primaryKey()||(i.makeUniqueKey=!0),i.queryStruct.fieldDef.structRelationship.type==="nested"?i=i.parent:i=void 0}}},Wve=class{constructor(e,t,r){if(this.mayNeedUniqueKey=!1,this.makeUniqueKey=!1,this.leafiest=!1,this.children=[],this.queryStruct=e,this.parent=r,this.alias=t,r&&r.children.push(this),this.queryStruct.fieldDef.filterList)for(let i of this.queryStruct.fieldDef.filterList){this.joinFilterConditions=[];let s=new wj({type:"boolean",name:"ignoreme",e:i.expression},this.queryStruct);this.joinFilterConditions.push(s)}}parentRelationship(){if(this.queryStruct.parent===void 0)return"root";switch(this.queryStruct.fieldDef.structRelationship.type){case"one":return"many_to_one";case"cross":return"many_to_many";case"many":return"one_to_many";case"nested":return"one_to_many";case"inline":return"one_to_one";default:throw new Error(`Internal error unknown relationship type to parent for ${this.queryStruct.fieldDef.name}`)}}getDialectFieldList(){let e=[];for(let t of this.queryStruct.fieldDef.fields.filter(ko.isPhysical))e.push({type:t.type,sqlExpression:(0,ko.getIdentifier)(t),sqlOutputName:(0,ko.getIdentifier)(t)});return e}},Ote=class extends sD{},Qve=class{static nextStructDef(e,t){let r=new vf(e,{model:new Aj(void 0)}),i={type:"turtle",name:"ignoreme",pipeline:[t]};return ph.makeQuery(i,r,new $8(!0,void 0)).getResultStructDef()}};V2.Segment=Qve;var ph=class extends sD{constructor(e,t,r){super(e,t);this.prepared=!1,this.maxDepth=0,this.maxGroupSet=0,this.fieldDef=e,this.rootResult=new Vve(e),this.stageWriter=r,this.firstSegment=e.pipeline[0]}static makeQuery(e,t,r=void 0){let i=t.flattenTurtleDef(e),s=t,o=i.pipeline[0];switch(r!==void 0&&(0,ko.isQuerySegment)(o)&&o.extendSource!==void 0&&(s=new vf({...t.fieldDef,fields:[...t.fieldDef.fields,...o.extendSource]},s.parent?{struct:s}:{model:s.model}),i={...i,pipeline:[{...o,extendSource:void 0},...i.pipeline.slice(1)]}),o.type){case"reduce":return new Gve(i,s,r);case"project":return new Yve(i,s,r);case"index":return new Kve(i,s,r)}}getFieldList(){switch(this.firstSegment.type){case"reduce":return this.firstSegment.fields;case"project":return this.firstSegment.fields;default:throw new Error(`Query contains no fields ${JSON.stringify(this.fieldDef)}`)}}expandField(e){let t,r;if(typeof e=="string")r=this.parent.getQueryFieldByName(e);else if("type"in e)r=this.parent.makeQueryField(e);else if("name"in e&&"as"in e){if(r=this.parent.getQueryFieldByName(e.name),t=r.fieldDef.as||e.as,r instanceof Cj)throw new Error("Syntax currently disallowed. Semantics up for discussion");let i;if(r instanceof ph){let s=(0,jve.cloneDeep)(r.fieldDef);s.as=e.name,s.filterList=e.filterList,r=ph.makeQuery(s,this.parent)}else if(!(r instanceof aD||r instanceof oD)){i=[{type:"field",path:r.getFullOutputName()}],"filterList"in e&&e.filterList&&(i=[{type:"filterExpression",filterList:e.filterList,e:i}]);let s={type:r.fieldDef.type,name:e.as,e:i,aggregate:p6(r)};r=this.parent.makeQueryField(s)}}else throw new Error(`Unrecognized field definition ${JSON.stringify(e,void 0,2)}`);return t||(t=r.getIdentifier()),{as:t,field:r}}expandDependantField(e,t){this.expandField(t)}expandWildCardStruct(e,t,r=void 0){let i=[],s=[];for(let[o,a]of e.nameMap)a instanceof L0&&N0(a)&&a.includeInWildcard()&&!this.parent.dialect.ignoreInProject(a.fieldDef.name)&&(!r||r(a))?i.push(a.getFullOutputName()):a instanceof vf&&t&&s.push(a);for(let o of s)i=i.concat(this.expandWildCardStruct(o,t,r));return i}expandWildCards(e,t=void 0){let r=[];for(let i of e)if(typeof i!="string")r.push(i);else{let o=i.split(".");if(!o[o.length-1].startsWith("*"))r.push(i);else{let a=o.pop()==="**",l=this.parent,f;for(;o.length>0&&(f=o.shift());){let p=l.getChildByName(f);if(p===void 0)throw new Error(`Nested explore not found '${f}'`);if(p instanceof vf)l=p;else throw new Error(`'${f}' is not an explore object`)}r=r.concat(this.expandWildCardStruct(l,a,t))}}return r}addDependantPath(e,t,r,i,s){let o=t.getFieldByName(r),a;if(o instanceof sD)a=o.parent;else if(o instanceof vf)a=o;else throw new Error("Internal Error:  Unknown object type");e.root().addStructToJoin(a.getJoinableParent(),this,i,s)}addDependantExpr(e,t,r,i){for(let s of r)if((0,ko.isUngroupFragment)(s)){if(e.resultUsesUngrouped=!0,e.root().isComplexQuery=!0,e.root().queryUsesUngrouped=!0,s.fields&&s.fields.length>0){let o=s.fields.sort().join("|")+s.type;e.ungroupedSets.get(o)===void 0&&e.ungroupedSets.set(o,{type:s.type,fields:s.fields,groupSet:-1})}this.addDependantExpr(e,t,s.e,i)}else if((0,ko.isFieldFragment)(s)){let o=t.getDimensionOrMeasureByName(s.path);(0,ko.hasExpression)(o.fieldDef)?this.addDependantExpr(e,o.parent,o.fieldDef.e,i):e.root().addStructToJoin(o.parent.getJoinableParent(),this,!1,i)}else if((0,ko.isFilterFragment)(s))for(let o of s.filterList)this.addDependantExpr(e,t,o.expression,i);else if((0,ko.isDialectFragment)(s)){let o=[];switch(s.function){case"now":break;case"div":o.push(s.denominator),o.push(s.numerator);break;case"timeLiteral":break;case"timeDiff":o.push(s.left.value,s.right.value);break;case"delta":o.push(s.base.value,s.delta);break;case"trunc":case"extract":o.push(s.expr.value);break;case"regexpMatch":case"cast":o.push(s.expr);break;default:throw new Error("Unknown dialect Fragment type.  Can't generate dependancies")}for(let a of o)this.addDependantExpr(e,t,a,i)}else(0,ko.isAggregateFragment)(s)&&((0,ko.isAsymmetricFragment)(s)&&(s.structPath?this.addDependantPath(e,t,s.structPath,!0,i):e.addStructToJoin(t,this,!0,i)),this.addDependantExpr(e,t,s.e,i))}addDependancies(e,t){(0,ko.hasExpression)(t.fieldDef)&&this.addDependantExpr(e,t.parent,t.fieldDef.e,[])}expandFields(e){let t=1;for(let r of this.expandWildCards(e.firstSegment.fields)){let{as:i,field:s}=this.expandField(r);if(s instanceof Ote||s instanceof ph){if(this.firstSegment.type==="project")throw new Error(`Turtled Queries cannot be used in PROJECT - '${s.fieldDef.name}'`);let o=new Em(s.fieldDef,e);this.expandFields(o),e.add(i,o)}else if(s instanceof L0&&(e.addField(i,s,{resultIndex:t,type:"result"}),this.addDependancies(e,s),p6(s)&&this.firstSegment.type==="project"))throw new Error(`Aggregate Fields cannot be used in PROJECT - '${s.fieldDef.name}'`);t++}this.expandFilters(e)}expandFilters(e){if(e.firstSegment.filterList!==void 0){for(let t of e.firstSegment.filterList||[]){let r=this.parent;this.addDependantExpr(e,r,t.expression,[])}for(let t of e.root().joins.values()||[])for(let r of t.joinFilterConditions||[])r.fieldDef.type==="boolean"&&r.fieldDef.e&&this.addDependantExpr(e,r.parent,r.fieldDef.e,[])}}generateSQLFilters(e,t,r=void 0){let i=new s1.AndChain,s=r||e.firstSegment.filterList;if(s===void 0)return i;for(let o of s||[]){let a=this.parent;if(t==="having"&&o.aggregate||t==="where"&&!o.aggregate){let l=this.generateExpressionFromExpr(e,a,o.expression,void 0);i.add(l)}}return i}prepare(e){this.prepared||(this.expandFields(this.rootResult),this.rootResult.findJoins(this),this.rootResult.calculateSymmetricAggregates(),this.prepared=!0)}getResultMetadata(e){if(e instanceof k0){if(e.fieldUsage.type==="result"){let t=e.f.fieldDef,r,i=e.f.parent.getFullOutputName()+(t.name||t.as),s=t.code,o=[i];return p6(e.f)?(r=e.f.getFilterList(),{sourceField:i,sourceExpression:s,filterList:r,sourceClasses:o,fieldKind:"measure"}):N0(e.f)?{sourceField:i,sourceExpression:s,filterList:r,sourceClasses:o,fieldKind:"dimension"}:void 0}return}else if(e instanceof Em){let t=e.turtleDef.name||e.turtleDef.as,r=t?[t]:[],i=e.firstSegment.filterList,s=e.turtleDef.pipeline[e.turtleDef.pipeline.length-1].limit;if(t)return{sourceField:t,filterList:i,sourceClasses:r,fieldKind:"struct",limit:s}}}getResultStructDef(e=this.rootResult,t=!0){let r=[],i;this.prepare(void 0);let s=0;for(let[o,a]of e.allFields){let l=this.getResultMetadata(a);if(a instanceof Em){let{structDef:f}=this.generateTurtlePipelineSQL(a,new $8(!0,void 0),"<nosource>"),p=a.getRepeatedResultType()==="nested"?"nested":"inline";f.name=o,f.structRelationship={field:o,type:p,isArray:!1},f.structSource={type:p},f.resultMetadata=l,r.push(f)}else if(a instanceof k0&&a.fieldUsage.type==="result"){a.f instanceof Cj&&r.push(a.f.getAsJoinedStructDef(o)),N0(a.f)&&(s===0&&t?i=o:i=void 0,s++);let f=a.f.fieldDef.location;switch(a.f.fieldDef.type){case"boolean":case"string":r.push({name:o,type:a.f.fieldDef.type,resultMetadata:l,location:f});break;case"timestamp":{let p=a.f.fieldDef.timeframe;switch(p){case"year":case"month":case"week":case"quarter":case"day":r.push({name:o,type:"date",timeframe:p,resultMetadata:l,location:f});break;case"second":case"minute":case"hour":r.push({name:o,type:"timestamp",timeframe:p,resultMetadata:l,location:f});break;default:r.push({name:o,type:"timestamp",resultMetadata:l,location:f});break}break}case"date":{r.push({name:o,type:a.f.fieldDef.type,timeframe:a.f.fieldDef.timeframe,resultMetadata:l,location:f});break}case"number":r.push({name:o,numberType:a.f.fieldDef.numberType,type:"number",resultMetadata:l,location:f});break;default:throw new Error(`unknown Field Type in query ${JSON.stringify(a.f.fieldDef)}`)}}}return{fields:r,name:this.resultStage||"result",dialect:this.parent.dialect.name,primaryKey:i,structRelationship:{type:"basetable",connectionName:this.parent.connectionName},structSource:{type:"query_result"},resultMetadata:this.getResultMetadata(this.rootResult),type:"struct"}}generateSQLJoinBlock(e,t){let r="",i=t.queryStruct,s=i.fieldDef.structRelationship,o=i.structSourceSQL(e);if((0,ko.isJoinOn)(s)){t.makeUniqueKey&&(o=`(SELECT ${i.dialect.sqlGenerateUUID()} as __distinct_key, * FROM ${o})`);let a="";if(i.parent===void 0)throw new Error("Expected joined struct to have a parent.");s.onExpression?a=new wj({type:"boolean",name:"ignoreme",e:s.onExpression},i.parent).generateExpression(this.rootResult):a="1=1";let l="",f;if(t.joinFilterConditions&&(f=t.joinFilterConditions.map(p=>p.generateExpression(this.rootResult))),t.children.length===0||f===void 0)f!==void 0&&f.length>=1&&(l=` AND (${f.join(" AND ")})`),r+=`LEFT JOIN ${o} AS ${t.alias}
  ON ${a}${l}
`;else{let p=`SELECT ${t.alias}.*`,_="";for(let E of t.children){_+=this.generateSQLJoinBlock(e,E);let O=(0,ko.getPhysicalFields)(E.queryStruct.fieldDef).map(R=>this.parent.dialect.sqlMaybeQuoteIdentifier(R.name));p+=`, ${this.parent.dialect.sqlSelectAliasAsStruct(E.alias,O)} AS ${E.alias}`}return p+=`
FROM ${o} AS ${t.alias}
${_}
WHERE ${f==null?void 0:f.join(" AND ")}
`,r+=`LEFT JOIN (
${(0,s1.indent)(p)}) AS ${t.alias}
  ON ${a}
`,r}}else if(s.type==="nested"){if(i.parent===void 0||t.parent===void 0)throw new Error("Internal Error, nested structure with no parent.");let a=this.parent.dialect.sqlFieldReference(i.parent.getSQLIdentifier(),s.field,"struct",i.parent.fieldDef.structRelationship.type==="nested",this.parent.fieldDef.structRelationship.type==="nested"&&this.parent.fieldDef.structRelationship.isArray);r+=`${this.parent.dialect.sqlUnnestAlias(a,t.alias,t.getDialectFieldList(),t.makeUniqueKey,s.isArray)}
`}else throw s.type==="inline"?new Error("Internal Error: inline structs should never appear in join trees"):new Error(`Join type not implemented ${JSON.stringify(i.fieldDef.structRelationship)}`);for(let a of t.children)r+=this.generateSQLJoinBlock(e,a);return r}generateSQLJoins(e){let t="",[[,r]]=this.rootResult.joins,i=r.queryStruct,s=i.structSourceSQL(e);if((0,ko.isIndexSegment)(this.firstSegment)&&(s=this.parent.dialect.sqlSampleTable(s,this.firstSegment.sample)),i.fieldDef.structRelationship.type==="basetable")r.makeUniqueKey&&(s=`(SELECT ${i.dialect.sqlGenerateUUID()} as __distinct_key, * FROM ${s} as x)`),t+=`FROM ${s} as ${this.parent.getIdentifier()}
`;else throw new Error("Internal Error, queries must start from a basetable");for(let a of r.children)t+=this.generateSQLJoinBlock(e,a);return t}genereateSQLOrderBy(e,t){let r="";if(this.firstSegment.type==="project"&&!e.orderBy)return"";let i=e.orderBy||t.calculateDefaultOrderBy(),s=[];for(let o of i)if(typeof o.field=="string"){let a=t.getField(o.field);if(a&&a.fieldUsage.type==="result")s.push(`${a.fieldUsage.resultIndex} ${o.dir||"ASC"}`);else throw new Error(`Unknown field in ORDER BY ${o.field}`)}else s.push(`${o.field} ${o.dir||"ASC"}`);return s.length>0&&(r=this.parent.dialect.sqlOrderBy(s)+`
`),r}generateSimpleSQL(e){let t="";t+=`SELECT 
`;let r=[];for(let[i,s]of this.rootResult.allFields){let o=s,a=this.parent.dialect.sqlMaybeQuoteIdentifier(i);o.fieldUsage.type==="result"&&r.push(` ${o.f.generateExpression(this.rootResult)} as ${a}`)}if(t+=(0,s1.indent)(r.join(`,
`))+`
`,t+=this.generateSQLJoins(e),t+=this.generateSQLFilters(this.rootResult,"where").sql("where"),this.firstSegment.type==="reduce"){let i=[];for(let s of this.rootResult.fields()){let o=s;o.fieldUsage.type==="result"&&N0(o.f)&&i.push(o.fieldUsage.resultIndex.toString())}i.length>0&&(t+=`GROUP BY ${i.join(",")}
`)}return t+=this.generateSQLFilters(this.rootResult,"having").sql("having"),t+=this.genereateSQLOrderBy(this.firstSegment,this.rootResult),this.firstSegment.limit&&(t+=`LIMIT ${this.firstSegment.limit}
`),this.resultStage=e.addStage(t),this.resultStage}generatePipelinedStages(e,t,r){if(e.length===0)return t;let i=e.map(s=>`${s.pipelineSQL} as ${s.sqlFieldName}
      `).join(`,
`);return r.addStage(`SELECT * replace (${i}) FROM ${t}
      `)}generateStage0Fields(e,t,r){for(let[s,o]of e.allFields){let a=this.parent.dialect.sqlMaybeQuoteIdentifier(`${s}__${e.groupSet}`);if(o instanceof k0){if(o.fieldUsage.type==="result"){let l=o.getSQL();if(N0(o.f)){if(this.parent.dialect.name==="standardsql"&&this.rootResult.queryUsesUngrouped)if(o.f.fieldDef.type==="number"){t.sql.push(`${l} as ${a}`);let f=`__lateral_join_bag.${a}_string`;t.sql.push(f),t.dimensionIndexes.push(t.fieldIndex++),t.lateralJoinSQLExpressions.push(`CAST(${l} as STRING) as ${a}_string`),o.partitionSQL=f}else{let f=`__lateral_join_bag.${a}`;o.partitionSQL=f,t.lateralJoinSQLExpressions.push(`${l} as ${a}`),t.sql.push(f)}else t.sql.push(`${l} as ${a}`);t.dimensionIndexes.push(t.fieldIndex++)}else p6(o.f)&&(t.sql.push(`${l} as ${a}`),t.fieldIndex++)}}else if(o instanceof Em){if(o.firstSegment.type==="reduce")this.generateStage0Fields(o,t,r);else if(o.firstSegment.type==="project"){let l=this.generateTurtleSQL(o,r,a,t.outputPipelinedSQL);t.sql.push(`${l} as ${a}`),t.fieldIndex++}}}let i=this.generateSQLFilters(e,"having");i.empty()||(e.childGroups.length===1?e.root().havings.add(`(group_set<>${e.groupSet} OR (group_set=${e.groupSet} AND ${i.sql()}))`):(e.hasHaving=!0,t.sql.push(`CASE WHEN group_set=${e.groupSet} THEN CASE WHEN ${i.sql()} THEN 0 ELSE 1 END END as __delete__${e.groupSet}`),t.fieldIndex++))}generateSQLWhereChildren(e){let t=new s1.AndChain;for(let[,r]of e.allFields)if(r.type==="query"){let i=r,s=this.generateSQLFilters(i,"where");if(s.present()){let o=i.childGroups.join(",");t.add(`(group_set NOT IN (${o}) OR (group_set IN (${o}) AND ${s.sql()}))`)}t.addChain(this.generateSQLWhereChildren(i))}return t}generateSQLWhereTurtled(){let e=this.generateSQLFilters(this.rootResult,"where");return e.addChain(this.generateSQLWhereChildren(this.rootResult)),e.sql("where")}generateSQLHavingLimit(e,t){let r=[],i=this.rootResult.selectStructs([],s=>s.hasHaving);if(i.length>0)for(let s of i){let o=[],a=s;for(;a;){for(let l of a.fieldNames(f=>N0(f.f)))o.push(this.parent.dialect.sqlMaybeQuoteIdentifier(`${l}__${a.groupSet}`));a=a.parent}r.push(`MAX(CASE WHEN group_set IN (${s.childGroups.join(",")}) THEN __delete__${s.groupSet} END) OVER(partition by ${o.map(l=>`CAST(${l} AS ${this.parent.dialect.stringTypeName}) `).join(",")}) as __shaving__${s.groupSet}`)}if(i.length>0){t=e.addStage(`SELECT
  *,
  ${r.join(`,
  `)} 
FROM ${t}`);let s=new s1.AndChain;for(let o of i)s.add(`group_set IN (${o.childGroups.join(",")}) AND __shaving__${o.groupSet}=1`);t=e.addStage(`SELECT *
FROM ${t}
WHERE NOT (${s.sqlOr()})`)}return t}generateSQLStage0(e){let t=`SELECT
`,r=this.generateSQLJoins(e),i=this.generateSQLWhereTurtled(),s={dimensionIndexes:[1],fieldIndex:2,sql:["group_set"],lateralJoinSQLExpressions:[],groupsAggregated:[],outputPipelinedSQL:[]};if(this.generateStage0Fields(this.rootResult,s,e),this.firstSegment.type==="project")throw new Error("PROJECT cannot be used on queries with turtles");let o="GROUP BY "+s.dimensionIndexes.join(",")+`
`;r+=this.parent.dialect.sqlGroupSetTable(this.maxGroupSet)+`
`,t+=(0,s1.indent)(s.sql.join(`,
`))+`
`,s.lateralJoinSQLExpressions.length>0&&(r+=`LEFT JOIN UNNEST([STRUCT(${s.lateralJoinSQLExpressions.join(`,
`)})]) as __lateral_join_bag
`),t+=r+i+o+this.rootResult.havings.sql("having");let a=e.addStage(t);return this.resultStage=this.generateSQLHavingLimit(e,a),this.resultStage=this.generatePipelinedStages(s.outputPipelinedSQL,this.resultStage,e),this.resultStage}generateDepthNFields(e,t,r,i){let s=[];for(let[o,a]of t.allFields){let l=this.parent.dialect.sqlMaybeQuoteIdentifier(`${o}__${t.groupSet}`);if(a instanceof k0){if(a.fieldUsage.type==="result"){if(N0(a.f)){let f=this.caseGroup(t.groupSet>0?t.childGroups:[],l);r.sql.push(`${f} as ${l}`),r.dimensionIndexes.push(r.fieldIndex++)}else if(p6(a.f)){let f=this.parent.dialect.sqlAnyValue(t.groupSet,l);r.sql.push(`${f} as ${l}`),r.fieldIndex++}}}else if(a instanceof Em&&!(a.depth>e))if(a.depth===e){let f=this.generateTurtleSQL(a,i,l,r.outputPipelinedSQL);r.groupsAggregated.push({fromGroup:a.groupSet,toGroup:t.groupSet}),s.push(a.groupSet),r.sql.push(`${f} as ${l}`),r.fieldIndex++}else this.generateDepthNFields(e,a,r,i)}if(r.groupsAggregated.length>0){r.sql[0]="CASE ";for(let o of r.groupsAggregated)r.sql[0]+=`WHEN group_set=${o.fromGroup} THEN ${o.toGroup} `;r.sql[0]+=" ELSE group_set END as group_set"}}generateSQLDepthN(e,t,r){let i=`SELECT 
`,s={dimensionIndexes:[1],fieldIndex:2,sql:["group_set"],lateralJoinSQLExpressions:[],groupsAggregated:[],outputPipelinedSQL:[]};this.generateDepthNFields(e,this.rootResult,s,t),i+=(0,s1.indent)(s.sql.join(`,
`))+`
`,i+=`FROM ${r}
`;let o=this.rootResult.eliminateComputeGroupsSQL();return o.length>0&&(i+=`WHERE ${o}
`),s.dimensionIndexes.length>0&&(i+=`GROUP BY ${s.dimensionIndexes.join(",")}
`),this.resultStage=t.addStage(i),this.resultStage=this.generatePipelinedStages(s.outputPipelinedSQL,this.resultStage,t),this.resultStage}genereateSQLCombineTurtles(e,t){let r=`SELECT
`,i=[],s=1,o=[],a=[];for(let[f,p]of this.rootResult.allFields){let _=this.parent.dialect.sqlMaybeQuoteIdentifier(f);p instanceof k0?p.fieldUsage.type==="result"&&(N0(p.f)?(i.push(this.parent.dialect.sqlMaybeQuoteIdentifier(`${f}__${this.rootResult.groupSet}`)+` as ${_}`),a.push(s++)):p6(p.f)&&(i.push(this.parent.dialect.sqlAnyValueLastTurtle(f,this.rootResult.groupSet,_)),s++)):p instanceof Em&&(p.firstSegment.type==="reduce"?(i.push(`${this.generateTurtleSQL(p,e,_,o)} as ${_}`),s++):p.firstSegment.type==="project"&&(i.push(this.parent.dialect.sqlAnyValueLastTurtle(f,this.rootResult.groupSet,_)),s++))}r+=(0,s1.indent)(i.join(`,
`))+`
FROM ${t}
`;let l=this.rootResult.eliminateComputeGroupsSQL();return l.length>0&&(r+=`WHERE ${l}
`),a.length>0&&(r+=`GROUP BY ${a.join(",")}
`),r+=this.genereateSQLOrderBy(this.firstSegment,this.rootResult),this.firstSegment.limit&&(r+=`LIMIT ${this.firstSegment.limit}
`),this.resultStage=e.addStage(r),this.resultStage=this.generatePipelinedStages(o,this.resultStage,e),this.resultStage}generateTurtleSQL(e,t,r,i){let s=[],o="",a=e.firstSegment.limit,l=[],f,p=e.firstSegment.orderBy||e.calculateDefaultOrderBy();for(let z of p)typeof z.field=="string"?f={name:z.field,fif:e.getField(z.field)}:f=e.getFieldByNumber(z.field),e.firstSegment.type==="reduce"?l.push(" "+this.parent.dialect.sqlMaybeQuoteIdentifier(`${f.name}__${e.groupSet}`)+` ${z.dir||"ASC"}`):e.firstSegment.type==="project"&&l.push(` ${f.fif.f.generateExpression(e)} ${z.dir||"ASC"}`);l.length>0&&(o=" "+this.parent.dialect.sqlOrderBy(l));for(let[z,L]of e.allFields){let B=this.parent.dialect.sqlMaybeQuoteIdentifier(z);e.firstSegment.type==="reduce"&&(L instanceof Em||L instanceof k0&&L.fieldUsage.type==="result")?s.push({type:L instanceof k0?L.f.fieldDef.type:"struct",sqlExpression:this.parent.dialect.sqlMaybeQuoteIdentifier(`${z}__${e.groupSet}`),sqlOutputName:B}):e.firstSegment.type==="project"&&L instanceof k0&&L.fieldUsage.type==="result"&&s.push({type:L.type,sqlExpression:L.f.generateExpression(e),sqlOutputName:B})}let _,E;(_=e.getRepeatedResultType())!=="nested"?_==="inline_all_numbers"?E=this.parent.dialect.sqlCoaleseMeasuresInline(e.groupSet,s):E=this.parent.dialect.sqlAnyValueTurtle(e.groupSet,s):E=this.parent.dialect.sqlAggregateTurtle(e.groupSet,s,o,a);let O=new $8(this.parent.dialect.supportsCTEinCoorelatedSubQueries,t),{structDef:R,pipeOut:q}=this.generateTurtlePipelineSQL(e,O,this.parent.dialect.supportUnnestArrayAgg?E:r);if(q!==void 0){let z=O.generateCoorelatedSubQuery(this.parent.dialect,R);this.parent.dialect.supportUnnestArrayAgg?E=`(${z})`:i.push({sqlFieldName:r,pipelineSQL:`(${z})`})}return E}generateTurtlePipelineSQL(e,t,r){let i=this.getResultStructDef(e,!1),s=e.getRepeatedResultType(),o=e.turtleDef.pipeline.length>1,a;if(o){let l=[...e.turtleDef.pipeline];l.shift();let f={type:"turtle",name:"starthere",pipeline:l};i.name=this.parent.dialect.sqlUnnestPipelineHead(s==="inline_all_numbers",r),i.structSource={type:"sql",method:"nested"};let p=new vf(i,{model:this.parent.getModel()});a=ph.makeQuery(f,p,t).generateSQLFromPipeline(t),i=a.outputStruct}return{structDef:i,pipeOut:a}}generateComplexSQL(e){let t=this.generateSQLStage0(e);if(this.maxDepth>1){let r=this.maxDepth;for(;r>1;)t=this.generateSQLDepthN(r,e,t),r--}return this.genereateSQLCombineTurtles(e,t)}generateSQL(e){var t;let r=this.rootResult.computeGroups(0,0);return this.maxDepth=r.maxDepth,this.maxGroupSet=r.nextGroupSetNumber-1,this.rootResult.assignFieldsToGroups(),(t=this.rootResult).isComplexQuery||(t.isComplexQuery=this.maxDepth>0||r.isComplex),this.rootResult.isComplexQuery?this.generateComplexSQL(e):this.generateSimpleSQL(e)}toMalloy(){let e=`EXPLORE ${(0,ko.getIdentifier)(this.parent.fieldDef)} | `;return e+=this.fieldDef.type.toUpperCase()+" ",e}generateSQLFromPipeline(e){this.prepare(e);let t=this.generateSQL(e),r=this.getResultStructDef();if(this.fieldDef.pipeline.length>1){let i=[...this.fieldDef.pipeline],s={...r,structSource:{type:"sql",method:"lastStage"}};i.shift();for(let o of i){let a=new vf(s,{model:this.parent.getModel()}),l=ph.makeQuery({type:"turtle",name:"ignoreme",pipeline:[o]},a,e);l.prepare(e),t=l.generateSQL(e),r=l.getResultStructDef(),s={...r,structSource:{type:"sql",method:"lastStage"}}}}return{lastStageName:t,outputStruct:r}}},Gve=class extends ph{},Yve=class extends ph{},Kve=class extends ph{constructor(e,t,r){super(e,t,r);this.fanPrefixes=[],this.fieldDef=e,this.findFanPrefexes(t)}findFanPrefexes(e){for(let[t,r]of e.nameMap)r instanceof vf&&(r.fieldDef.structRelationship.type==="many"||r.fieldDef.structRelationship.type==="nested")&&this.fanPrefixes.push(r.getFullOutputName())}expandField(e){let t=this.parent.getFieldByName(e);return{as:e,field:t}}expandFields(e){let t=1,r=e.groupSet;this.maxGroupSet=r;let i=this.firstSegment.fields||[];i.length===0&&i.push("**"),i=this.expandWildCards(i,o=>["string","number","timestamp","date"].indexOf(o.fieldDef.type)!==-1);for(let o of i){let{as:a,field:l}=this.expandField(o);e.addField(a,l,{resultIndex:t,type:"result"}),l instanceof L0&&this.addDependancies(e,l),t++}let s=this.firstSegment.weightMeasure;if(s!==void 0){let o=this.parent.getFieldByName(s);e.addField(s,o,{resultIndex:t,type:"result"}),this.addDependancies(e,o)}this.expandFilters(e)}generateSQL(e){let t="COUNT(*)",r=this.parent.dialect,i=r.sqlMaybeQuoteIdentifier("fieldName"),s=r.sqlMaybeQuoteIdentifier("fieldValue"),o=r.sqlMaybeQuoteIdentifier("fieldType"),a=r.sqlMaybeQuoteIdentifier("fieldRange"),l=this.firstSegment.weightMeasure;l&&(t=this.rootResult.getField(l).f.generateExpression(this.rootResult));let f=[];for(let[E,O]of this.rootResult.allFields){let R=O;if(R.fieldUsage.type==="result"&&N0(R.f)){let q=R.f.generateExpression(this.rootResult);f.push({name:E,type:R.f.fieldDef.type,expression:q})}}let p=`SELECT
  group_set,
`;p+=`  CASE group_set
`;for(let E=0;E<f.length;E++)p+=`    WHEN ${E} THEN '${f[E].name}'
`;p+=`  END as ${i},`,p+=`  CASE group_set
`;for(let E=0;E<f.length;E++)p+=`    WHEN ${E} THEN '${f[E].type}'
`;p+=`  END as ${o},`,p+=`  CASE group_set
`;for(let E=0;E<f.length;E++)f[E].type==="string"&&(p+=`    WHEN ${E} THEN ${f[E].expression}
`);p+=`  END as ${s},
`,p+=` ${t} as weight,
`,p+=`  CASE group_set
    WHEN 99999 THEN ''`;for(let E=0;E<f.length;E++)f[E].type==="number"&&(p+=`    WHEN ${E} THEN CAST(MIN(${f[E].expression}) AS ${r.stringTypeName}) || ' to ' || CAST(MAX(${f[E].expression}) AS ${r.stringTypeName})
`),(f[E].type==="timestamp"||f[E].type==="date")&&(p+=`    WHEN ${E} THEN MIN(${r.sqlDateToString(f[E].expression)}) || ' to ' || MAX(${r.sqlDateToString(f[E].expression)})
`);p+=`  END as ${a}
`,p+=this.generateSQLJoins(e),p+=r.sqlGroupSetTable(f.length)+`
`,p+=this.generateSQLFilters(this.rootResult,"where").sql("where"),p+=`GROUP BY 1,2,3,4
`,this.firstSegment.limit&&(p+=`LIMIT ${this.firstSegment.limit}
`);let _=e.addStage(p);return this.resultStage=e.addStage(`SELECT
  ${i},
  ${o},
  COALESCE(${s}, ${a}) as ${s},
  weight
FROM ${_}
`),this.resultStage}getResultStructDef(){return{type:"struct",name:this.resultStage||"result",dialect:this.parent.fieldDef.dialect,fields:[{type:"string",name:"fieldName"},{type:"string",name:"fieldValue"},{type:"string",name:"fieldType"},{type:"number",name:"weight",numberType:"integer"}],structRelationship:{type:"basetable",connectionName:this.parent.connectionName},structSource:{type:"query_result"}}}},vf=class extends Dte{constructor(e,t){super(e);if(this.nameMap=new Map,this.setParent(t),"model"in t)if(this.model=t.model,this.pathAliasMap=new Map,e.structRelationship.type==="basetable")this.connectionName=e.structRelationship.connectionName;else throw new Error("All root StructDefs should be a baseTable");else this.model=this.getModel(),this.pathAliasMap=this.root().pathAliasMap,this.connectionName=this.root().connectionName;this.fieldDef=e,this.dialect=(0,Vtt.getDialect)(this.fieldDef.dialect),this.addFieldsFromFieldList(this.fieldDef.fields)}parameters(){return this.fieldDef.parameters||{}}addFieldsFromFieldList(e){for(let t of e){let r=(0,ko.getIdentifier)(t);switch(t.type){case"struct":{this.addFieldToNameMap(r,new vf(t,{struct:this}));break}case"turtle":{this.addFieldToNameMap(r,ph.makeQuery(t,this));break}default:this.addFieldToNameMap(r,this.makeQueryField(t))}}this.nameMap.has("__distinct_key")||this.addFieldToNameMap("__distinct_key",new $ve({type:"string",name:"__distinct_key"},this))}getAliasIdentifier(){let e=this.getFullOutputName(),t=this.pathAliasMap.get(e);if(t===void 0){let r=Array.from(this.pathAliasMap.values()),i=(0,ko.getIdentifier)(this.fieldDef),s=`${i}_0`,o=1;for(;r.includes(s)&&o<1e3;)o++,s=`${i}_${o}`;if(o<1e3)return this.pathAliasMap.set(e,s),s;throw new Error("Internal Error: cannot create unique alias name")}else return t}getAsQueryField(){if(this.fieldDef.primaryKey===void 0)throw new Error(`Joined explores can only be included in queries if a primary key is defined: '${this.getFullOutputName()}' has no primary key`);let e=this.getPrimaryKeyField(this.fieldDef),t=e.fieldDef.type;if(t!=="string"&&t!=="number")throw new Error(`Unknown Primary key data type for ${name}`);let r=(0,ko.getIdentifier)(this.fieldDef),i=this.fieldDef.primaryKey,s={type:t,name:`${r}_id`,e:[{type:"field",path:e.getIdentifier()}]};return new Cj(s,this,`${r}.${i}`)}getSQLIdentifier(){return this.unnestWithNumbers()&&this.parent!==void 0?this.parent.getSQLIdentifier()+"."+(0,ko.getIdentifier)(this.fieldDef)+`[${this.getIdentifier()}.__row_id]`:this.getIdentifier()}getIdentifier(){return this.fieldDef.structRelationship.type==="basetable"?this.fieldDef.as===void 0?"base":super.getIdentifier():this.fieldDef.structRelationship.type==="inline"&&this.parent?this.parent.getIdentifier()+"."+super.getIdentifier():this.getAliasIdentifier()}getFullOutputName(){return this.parent?this.parent.getFullOutputName()+(0,ko.getIdentifier)(this.fieldDef)+".":""}needsSymetricCalculation(e){let t=this.getJoinableParent().getIdentifier(),r=e.root().joins.get(t);if(r)return!r.leafiest;throw new Error(`Join ${t} not found in result set`)}unnestWithNumbers(){return this.dialect.unnestWithNumbers&&this.fieldDef.structRelationship.type==="nested"}getJoinableParent(){if(this.fieldDef.structRelationship.type==="inline"){if(this.parent)return this.parent.getJoinableParent();throw new Error("Internal Error: inline struct cannot be root")}return this}addFieldToNameMap(e,t){if(this.nameMap.has(e))throw new Error(`Redefinition of ${e}`);this.nameMap.set(e,t)}getPrimaryKeyField(e){let t;if(t=this.primaryKey())return t;throw new Error(`Missing primary key for ${e}`)}resolveQueryFields(){if(this.fieldDef.structSource.type==="query"){let e=this.model.loadQuery(this.fieldDef.structSource.query,void 0).structs.pop();if(!e)throw new Error("Internal Error, query didn't produce a struct");let t={...this.fieldDef};for(let r of e.fields){let i;this.nameMap.has(i=(0,ko.getIdentifier)(r))||(t.fields.push(r),this.nameMap.set(i,this.makeQueryField(r)))}this.fieldDef=t,!this.fieldDef.primaryKey&&e.primaryKey&&(this.fieldDef.primaryKey=e.primaryKey)}for(let[,e]of this.nameMap)e instanceof vf&&e.resolveQueryFields()}getModel(){if(this.model)return this.model;if(this.parent===void 0)throw new Error("Expected this query struct to have a parent, as no model was present.");return this.parent.getModel()}setParent(e){"struct"in e&&(this.parent=e.struct),"model"in e?this.model=e.model:this.model=this.getModel()}makeQueryField(e){switch(e.type){case"string":return new qve(e,this);case"date":return new oD(e,this);case"timestamp":return new aD(e,this);case"number":return new Uve(e,this);case"boolean":return new wj(e,this);case"turtle":return new Ote(e,this);default:throw new Error(`unknown field definition ${JSON.stringify(e)}`)}}getOrMakeField(e){return typeof e=="string"?this.getFieldByName(e):this.makeQueryField(e)}getOrMakeDimension(e){let t=this.getOrMakeField(e);if(t instanceof L0&&N0(t))return t;throw new Error(`${e} is not of type a scalar'`)}structSourceSQL(e){switch(this.fieldDef.structSource.type){case"table":{let t=this.fieldDef.structSource.tablePath;return this.dialect.quoteTablePath(t)}case"sql":if(this.fieldDef.structSource.method==="nested"||this.fieldDef.structSource.method==="lastStage")return this.fieldDef.name;if(this.fieldDef.structSource.method==="subquery")return`(${this.fieldDef.structSource.sqlBlock.select})`;throw new Error("Internal Error: Unknown structSource type 'sql' method");case"nested":return"UNNEST(this.fieldDef.name)";case"inline":return"";case"query":{let t=(0,ko.getIdentifier)(this.fieldDef);if(t.includes("cache")){let r=new $8(!0,e);return this.model.loadQuery(this.fieldDef.structSource.query,r),r.addPDT(t,this.dialect)}else return this.model.loadQuery(this.fieldDef.structSource.query,e).lastStageName}default:throw new Error(`unknown structSource ${this.fieldDef}`)}}root(){return this.parent===void 0?this:this.parent.root()}primaryKey(){if(this.fieldDef.primaryKey)return this.getDimensionByName(this.fieldDef.primaryKey)}static resolvePath(e){return e.split(".")}getChildByName(e){return this.nameMap.get(e)}getFieldByName(e){let t=vf.resolvePath(e),r=this;for(let i of t){let s=r.getChildByName(i);if(s===void 0)throw new Error(`Path not found ${e}`);r=s}return r}getQueryFieldByName(e){let t=this.getFieldByName(e);return t instanceof vf&&(t=t.getAsQueryField()),t}getDimensionOrMeasureByName(e){let t=this.getFieldByName(e);if(t instanceof L0)return t;throw new Error(`${e} is not of type a scalar'`)}getDimensionByName(e){let t=this.getFieldByName(e);if(t instanceof L0&&N0(t))return t;throw new Error(`${e} is not of type a scalar'`)}getStructByName(e){let t=this.getFieldByName(e);if(t instanceof vf)return t;throw new Error(`Error: Path to structure not found '${e}'`)}getDistinctKey(){if(this.fieldDef.structRelationship.type!=="inline")return this.getDimensionByName("__distinct_key");if(this.parent)return this.parent.getDistinctKey();throw new Error("Internal Error.  inline struct can not be top level")}flattenTurtleDef(e){let t=e.pipeline,r=e.pipeHead;for(;r;){let o=this.getFieldByName(r.name);if(o instanceof ph)r=o.fieldDef.pipeHead,t=o.fieldDef.pipeline.concat(t);else throw new Error(`Only Turtles can be used in a pipeline ${r.name}`)}let i=e.filterList||[];return t=(0,jve.cloneDeep)(t),t[0].filterList=i.concat(t[0].filterList||[],this.fieldDef.filterList||[]),{type:"turtle",name:e.name,pipeline:t,location:e.location}}},Aj=class{constructor(e){this.dialect=new Htt.StandardSQLDialect,this.modelDef=void 0,this.structs=new Map,this.exploreSearchSQLMap=new Map,e&&this.loadModelFromDef(e)}loadModelFromDef(e){this.modelDef=e;for(let t of Object.values(this.modelDef.contents)){let r;if(t.type==="struct")r=new vf(t,{model:this}),this.structs.set((0,ko.getIdentifier)(t),r),r.resolveQueryFields();else if(t.type!=="query")throw new Error("Internal Error: Unknown structure type")}}parseQueryPath(e){let t=e.split("."),r;if(r=this.structs.get(t[0])){if(t.length>1)t.shift();else throw new Error(`No query specified in Struct '${t[0]}'`);return{queryName:t.join("."),struct:r}}else throw new Error(`Cannot find Struct '${t[0]}' Model`)}getStructByName(e){let t;if(t=this.structs.get(e))return t;throw new Error(`Struct ${e} not found in model.`)}getStructFromRef(e){let t;if(typeof e=="string")return this.getStructByName(e);if(e.type==="struct")t=e;else throw new Error("Broken for now");return new vf(t,{model:this})}loadQuery(e,t,r=!1){let i="";t||(t=new $8(!0,void 0));let s={type:"turtle",name:"ignoreme",pipeHead:e.pipeHead,pipeline:e.pipeline,filterList:e.filterList},o=ph.makeQuery(s,this.getStructFromRef(e.structRef),t),a=o.generateSQLFromPipeline(t);if(r&&o.parent.dialect.hasFinalStage){let l=(0,ko.getPhysicalFields)(a.outputStruct).map(f=>o.parent.dialect.sqlMaybeQuoteIdentifier(f.name));a.lastStageName=t.addStage(o.parent.dialect.sqlFinalStage(a.lastStageName,l))}return{lastStageName:a.lastStageName,malloy:i,stageWriter:t,structs:[a.outputStruct],connectionName:o.parent.connectionName}}compileQuery(e,t=!0){let r,s=(r||this).loadQuery(e,void 0,t),o=typeof e.structRef=="string"?e.structRef:e.structRef.type==="struct"?e.structRef.as||e.structRef.name:"(need to figure this out)";return t&&this.dialect.hasFinalStage&&(s.lastStageName=s.stageWriter.addStage(this.dialect.sqlFinalStage(s.lastStageName,[]))),{lastStageName:s.lastStageName,malloy:s.malloy,sql:s.stageWriter.generateSQLStages(),structs:s.structs,sourceExplore:o,sourceFilters:e.filterList,queryName:e.pipeHead&&e.pipeline.length===0?e.pipeHead.name:void 0,connectionName:s.connectionName}}async searchIndex(e,t,r,i=1e3,s=void 0){if(!e.canPersist())return;let o=this.getStructByName(t),a;o.nameMap.get("search_index")?a={structRef:t,pipeHead:{name:"search_index"},pipeline:[]}:a={structRef:t,pipeline:[{type:"index",fields:["*"],sample:o.dialect.defaultSampling}]};let l=o.dialect.sqlMaybeQuoteIdentifier("fieldName"),f=o.dialect.sqlMaybeQuoteIdentifier("fieldValue"),p=o.dialect.sqlMaybeQuoteIdentifier("fieldType"),_=this.exploreSearchSQLMap.get(t);_===void 0&&(_=(await this.compileQuery(a,!1)).sql,this.exploreSearchSQLMap.set(t,_));let E=`SELECT
              ${l},
              ${f},
              ${p},
              weight,
              CASE WHEN lower(${f}) LIKE  lower(${Fte(r+"%")}) THEN 1 ELSE 0 END as match_first
            FROM  ${await e.manifestTemporaryTable(_)}
            WHERE lower(${f}) LIKE lower(${Fte("%"+r+"%")}) ${s!==void 0?` AND ${l} = '`+s+`' 
`:""}
            ORDER BY CASE WHEN lower(${f}) LIKE  lower(${Fte(r+"%")}) THEN 1 ELSE 0 END DESC, weight DESC
            LIMIT ${i}
          `;return o.dialect.hasFinalStage&&(E=`WITH __stage0 AS(
${E}
)
${o.dialect.sqlFinalStage("__stage0",[l,f,p,"weight","match_first"])}`),(await e.runSQL(E,{rowLimit:1e3})).rows}};V2.QueryModel=Aj;function Qtt(n,e){let t=e.structRef;return typeof t!="string"&&(t=t.as||t.name),new Aj(n).getStructByName(t).flattenTurtleDef({...e,type:"turtle"})}V2.flattenQuery=Qtt});var q8=Ae(Yh=>{"use strict";m();var Gtt=Yh&&Yh.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Ytt=Yh&&Yh.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Gtt(e,n,t)};Object.defineProperty(Yh,"__esModule",{value:!0});Yh.flattenQuery=Yh.QueryModel=Yh.Segment=void 0;Ytt(bm(),Yh);var Nte=Rte();Object.defineProperty(Yh,"Segment",{enumerable:!0,get:function(){return Nte.Segment}});Object.defineProperty(Yh,"QueryModel",{enumerable:!0,get:function(){return Nte.QueryModel}});Object.defineProperty(Yh,"flattenQuery",{enumerable:!0,get:function(){return Nte.flattenQuery}})});var Xve=Ae(Jve=>{"use strict";m();Object.defineProperty(Jve,"__esModule",{value:!0})});var e4e=Ae(Zve=>{"use strict";m();Object.defineProperty(Zve,"__esModule",{value:!0})});var Lte=Ae((B9t,t4e)=>{"use strict";m();t4e.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==i||o.enumerable!==!0)return!1}return!0}});var uD=Ae((j9t,n4e)=>{"use strict";m();var Ktt=Lte();n4e.exports=function(){return Ktt()&&!!Symbol.toStringTag}});var s4e=Ae((q9t,i4e)=>{"use strict";m();var r4e=typeof Symbol!="undefined"&&Symbol,Jtt=Lte();i4e.exports=function(){return typeof r4e!="function"||typeof Symbol!="function"||typeof r4e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Jtt()}});var a4e=Ae((U9t,o4e)=>{"use strict";m();var Xtt="Function.prototype.bind called on incompatible ",kte=Array.prototype.slice,Ztt=Object.prototype.toString,ent="[object Function]";o4e.exports=function(e){var t=this;if(typeof t!="function"||Ztt.call(t)!==ent)throw new TypeError(Xtt+t);for(var r=kte.call(arguments,1),i,s=function(){if(this instanceof i){var p=t.apply(this,r.concat(kte.call(arguments)));return Object(p)===p?p:this}else return t.apply(e,r.concat(kte.call(arguments)))},o=Math.max(0,t.length-r.length),a=[],l=0;l<o;l++)a.push("$"+l);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var f=function(){};f.prototype=t.prototype,i.prototype=new f,f.prototype=null}return i}});var Tj=Ae(($9t,u4e)=>{"use strict";m();var tnt=a4e();u4e.exports=Function.prototype.bind||tnt});var c4e=Ae((z9t,l4e)=>{"use strict";m();var nnt=Tj();l4e.exports=nnt.call(Function.call,Object.prototype.hasOwnProperty)});var cD=Ae((H9t,p4e)=>{"use strict";m();var ea,H8=SyntaxError,f4e=Function,V8=TypeError,Ite=function(n){try{return f4e('"use strict"; return ('+n+").constructor;")()}catch{}},m6=Object.getOwnPropertyDescriptor;if(m6)try{m6({},"")}catch{m6=null}var Mte=function(){throw new V8},rnt=m6?function(){try{return arguments.callee,Mte}catch{try{return m6(arguments,"callee").get}catch{return Mte}}}():Mte,W8=s4e()(),$5=Object.getPrototypeOf||function(n){return n.__proto__},Q8={},int=typeof Uint8Array=="undefined"?ea:$5(Uint8Array),G8={"%AggregateError%":typeof AggregateError=="undefined"?ea:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?ea:ArrayBuffer,"%ArrayIteratorPrototype%":W8?$5([][Symbol.iterator]()):ea,"%AsyncFromSyncIteratorPrototype%":ea,"%AsyncFunction%":Q8,"%AsyncGenerator%":Q8,"%AsyncGeneratorFunction%":Q8,"%AsyncIteratorPrototype%":Q8,"%Atomics%":typeof Atomics=="undefined"?ea:Atomics,"%BigInt%":typeof BigInt=="undefined"?ea:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?ea:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?ea:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?ea:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?ea:FinalizationRegistry,"%Function%":f4e,"%GeneratorFunction%":Q8,"%Int8Array%":typeof Int8Array=="undefined"?ea:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?ea:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?ea:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":W8?$5($5([][Symbol.iterator]())):ea,"%JSON%":typeof JSON=="object"?JSON:ea,"%Map%":typeof Map=="undefined"?ea:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!W8?ea:$5(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?ea:Promise,"%Proxy%":typeof Proxy=="undefined"?ea:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?ea:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?ea:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!W8?ea:$5(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?ea:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":W8?$5(""[Symbol.iterator]()):ea,"%Symbol%":W8?Symbol:ea,"%SyntaxError%":H8,"%ThrowTypeError%":rnt,"%TypedArray%":int,"%TypeError%":V8,"%Uint8Array%":typeof Uint8Array=="undefined"?ea:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?ea:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?ea:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?ea:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?ea:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?ea:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?ea:WeakSet},snt=function n(e){var t;if(e==="%AsyncFunction%")t=Ite("async function () {}");else if(e==="%GeneratorFunction%")t=Ite("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=Ite("async function* () {}");else if(e==="%AsyncGenerator%"){var r=n("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=n("%AsyncGenerator%");i&&(t=$5(i.prototype))}return G8[e]=t,t},d4e={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},lD=Tj(),Fj=c4e(),ont=lD.call(Function.call,Array.prototype.concat),ant=lD.call(Function.apply,Array.prototype.splice),h4e=lD.call(Function.call,String.prototype.replace),Dj=lD.call(Function.call,String.prototype.slice),unt=lD.call(Function.call,RegExp.prototype.exec),lnt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,cnt=/\\(\\)?/g,fnt=function(e){var t=Dj(e,0,1),r=Dj(e,-1);if(t==="%"&&r!=="%")throw new H8("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new H8("invalid intrinsic syntax, expected opening `%`");var i=[];return h4e(e,lnt,function(s,o,a,l){i[i.length]=a?h4e(l,cnt,"$1"):o||s}),i},dnt=function(e,t){var r=e,i;if(Fj(d4e,r)&&(i=d4e[r],r="%"+i[0]+"%"),Fj(G8,r)){var s=G8[r];if(s===Q8&&(s=snt(r)),typeof s=="undefined"&&!t)throw new V8("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:s}}throw new H8("intrinsic "+e+" does not exist!")};p4e.exports=function(e,t){if(typeof e!="string"||e.length===0)throw new V8("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new V8('"allowMissing" argument must be a boolean');if(unt(/^%?[^%]*%?$/,e)===null)throw new H8("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=fnt(e),i=r.length>0?r[0]:"",s=dnt("%"+i+"%",t),o=s.name,a=s.value,l=!1,f=s.alias;f&&(i=f[0],ant(r,ont([0,1],f)));for(var p=1,_=!0;p<r.length;p+=1){var E=r[p],O=Dj(E,0,1),R=Dj(E,-1);if((O==='"'||O==="'"||O==="`"||R==='"'||R==="'"||R==="`")&&O!==R)throw new H8("property names with quotes must have matching quotes");if((E==="constructor"||!_)&&(l=!0),i+="."+E,o="%"+i+"%",Fj(G8,o))a=G8[o];else if(a!=null){if(!(E in a)){if(!t)throw new V8("base intrinsic for "+e+" exists, but the property is not available.");return}if(m6&&p+1>=r.length){var q=m6(a,E);_=!!q,_&&"get"in q&&!("originalValue"in q.get)?a=q.get:a=a[E]}else _=Fj(a,E),a=a[E];_&&!l&&(G8[o]=a)}}return a}});var Rj=Ae((V9t,Oj)=>{"use strict";m();var Pte=Tj(),Y8=cD(),m4e=Y8("%Function.prototype.apply%"),x4e=Y8("%Function.prototype.call%"),g4e=Y8("%Reflect.apply%",!0)||Pte.call(x4e,m4e),y4e=Y8("%Object.getOwnPropertyDescriptor%",!0),x6=Y8("%Object.defineProperty%",!0),hnt=Y8("%Math.max%");if(x6)try{x6({},"a",{value:1})}catch{x6=null}Oj.exports=function(e){var t=g4e(Pte,x4e,arguments);if(y4e&&x6){var r=y4e(t,"length");r.configurable&&x6(t,"length",{value:1+hnt(0,e.length-(arguments.length-1))})}return t};var v4e=function(){return g4e(Pte,m4e,arguments)};x6?x6(Oj.exports,"apply",{value:v4e}):Oj.exports.apply=v4e});var Nj=Ae((W9t,E4e)=>{"use strict";m();var _4e=cD(),b4e=Rj(),pnt=b4e(_4e("String.prototype.indexOf"));E4e.exports=function(e,t){var r=_4e(e,!!t);return typeof r=="function"&&pnt(e,".prototype.")>-1?b4e(r):r}});var C4e=Ae((Q9t,w4e)=>{"use strict";m();var mnt=uD()(),xnt=Nj(),Bte=xnt("Object.prototype.toString"),Lj=function(e){return mnt&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:Bte(e)==="[object Arguments]"},S4e=function(e){return Lj(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Bte(e)!=="[object Array]"&&Bte(e.callee)==="[object Function]"},gnt=function(){return Lj(arguments)}();Lj.isLegacyArguments=S4e;w4e.exports=gnt?Lj:S4e});var F4e=Ae((G9t,T4e)=>{"use strict";m();var ynt=Object.prototype.toString,vnt=Function.prototype.toString,_nt=/^\s*(?:function)?\*/,A4e=uD()(),jte=Object.getPrototypeOf,bnt=function(){if(!A4e)return!1;try{return Function("return function*() {}")()}catch{}},qte;T4e.exports=function(e){if(typeof e!="function")return!1;if(_nt.test(vnt.call(e)))return!0;if(!A4e){var t=ynt.call(e);return t==="[object GeneratorFunction]"}if(!jte)return!1;if(typeof qte=="undefined"){var r=bnt();qte=r?jte(r):!1}return jte(e)===qte}});var N4e=Ae((Y9t,R4e)=>{"use strict";m();var D4e=Function.prototype.toString,K8=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Ute,kj;if(typeof K8=="function"&&typeof Object.defineProperty=="function")try{Ute=Object.defineProperty({},"length",{get:function(){throw kj}}),kj={},K8(function(){throw 42},null,Ute)}catch(n){n!==kj&&(K8=null)}else K8=null;var Ent=/^\s*class\b/,$te=function(e){try{var t=D4e.call(e);return Ent.test(t)}catch{return!1}},zte=function(e){try{return $te(e)?!1:(D4e.call(e),!0)}catch{return!1}},Ij=Object.prototype.toString,Snt="[object Object]",wnt="[object Function]",Cnt="[object GeneratorFunction]",Ant="[object HTMLAllCollection]",Tnt="[object HTML document.all class]",Fnt="[object HTMLCollection]",Dnt=typeof Symbol=="function"&&!!Symbol.toStringTag,Ont=!(0 in[,]),Hte=function(){return!1};typeof document=="object"&&(O4e=document.all,Ij.call(O4e)===Ij.call(document.all)&&(Hte=function(e){if((Ont||!e)&&(typeof e=="undefined"||typeof e=="object"))try{var t=Ij.call(e);return(t===Ant||t===Tnt||t===Fnt||t===Snt)&&e("")==null}catch{}return!1}));var O4e;R4e.exports=K8?function(e){if(Hte(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{K8(e,null,Ute)}catch(t){if(t!==kj)return!1}return!$te(e)&&zte(e)}:function(e){if(Hte(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(Dnt)return zte(e);if($te(e))return!1;var t=Ij.call(e);return t!==wnt&&t!==Cnt&&!/^\[object HTML/.test(t)?!1:zte(e)}});var Vte=Ae((K9t,k4e)=>{"use strict";m();var Rnt=N4e(),Nnt=Object.prototype.toString,L4e=Object.prototype.hasOwnProperty,Lnt=function(e,t,r){for(var i=0,s=e.length;i<s;i++)L4e.call(e,i)&&(r==null?t(e[i],i,e):t.call(r,e[i],i,e))},knt=function(e,t,r){for(var i=0,s=e.length;i<s;i++)r==null?t(e.charAt(i),i,e):t.call(r,e.charAt(i),i,e)},Int=function(e,t,r){for(var i in e)L4e.call(e,i)&&(r==null?t(e[i],i,e):t.call(r,e[i],i,e))},Mnt=function(e,t,r){if(!Rnt(t))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),Nnt.call(e)==="[object Array]"?Lnt(e,t,i):typeof e=="string"?knt(e,t,i):Int(e,t,i)};k4e.exports=Mnt});var Qte=Ae((J9t,I4e)=>{"use strict";m();var Wte=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],Pnt=typeof globalThis=="undefined"?global:globalThis;I4e.exports=function(){for(var e=[],t=0;t<Wte.length;t++)typeof Pnt[Wte[t]]=="function"&&(e[e.length]=Wte[t]);return e}});var Gte=Ae((X9t,M4e)=>{"use strict";m();var Bnt=cD(),Mj=Bnt("%Object.getOwnPropertyDescriptor%",!0);if(Mj)try{Mj([],"length")}catch{Mj=null}M4e.exports=Mj});var Jte=Ae((Z9t,U4e)=>{"use strict";m();var P4e=Vte(),jnt=Qte(),Yte=Nj(),qnt=Yte("Object.prototype.toString"),B4e=uD()(),Pj=Gte(),Unt=typeof globalThis=="undefined"?global:globalThis,j4e=jnt(),$nt=Yte("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},znt=Yte("String.prototype.slice"),q4e={},Kte=Object.getPrototypeOf;B4e&&Pj&&Kte&&P4e(j4e,function(n){var e=new Unt[n];if(Symbol.toStringTag in e){var t=Kte(e),r=Pj(t,Symbol.toStringTag);if(!r){var i=Kte(t);r=Pj(i,Symbol.toStringTag)}q4e[n]=r.get}});var Hnt=function(e){var t=!1;return P4e(q4e,function(r,i){if(!t)try{t=r.call(e)===i}catch{}}),t};U4e.exports=function(e){if(!e||typeof e!="object")return!1;if(!B4e||!(Symbol.toStringTag in e)){var t=znt(qnt(e),8,-1);return $nt(j4e,t)>-1}return Pj?Hnt(e):!1}});var G4e=Ae((eAt,Q4e)=>{"use strict";m();var $4e=Vte(),Vnt=Qte(),z4e=Nj(),Xte=Gte(),Wnt=z4e("Object.prototype.toString"),H4e=uD()(),V4e=typeof globalThis=="undefined"?global:globalThis,Qnt=Vnt(),Gnt=z4e("String.prototype.slice"),W4e={},Zte=Object.getPrototypeOf;H4e&&Xte&&Zte&&$4e(Qnt,function(n){if(typeof V4e[n]=="function"){var e=new V4e[n];if(Symbol.toStringTag in e){var t=Zte(e),r=Xte(t,Symbol.toStringTag);if(!r){var i=Zte(t);r=Xte(i,Symbol.toStringTag)}W4e[n]=r.get}}});var Ynt=function(e){var t=!1;return $4e(W4e,function(r,i){if(!t)try{var s=r.call(e);s===i&&(t=s)}catch{}}),t},Knt=Jte();Q4e.exports=function(e){return Knt(e)?!H4e||!(Symbol.toStringTag in e)?Gnt(Wnt(e),8,-1):Ynt(e):!1}});var u_e=Ae(Po=>{"use strict";m();var Jnt=C4e(),Xnt=F4e(),Sm=G4e(),Y4e=Jte();function J8(n){return n.call.bind(n)}var K4e=typeof BigInt!="undefined",J4e=typeof Symbol!="undefined",o1=J8(Object.prototype.toString),Znt=J8(Number.prototype.valueOf),ert=J8(String.prototype.valueOf),trt=J8(Boolean.prototype.valueOf);K4e&&(X4e=J8(BigInt.prototype.valueOf));var X4e;J4e&&(Z4e=J8(Symbol.prototype.valueOf));var Z4e;function fD(n,e){if(typeof n!="object")return!1;try{return e(n),!0}catch{return!1}}Po.isArgumentsObject=Jnt;Po.isGeneratorFunction=Xnt;Po.isTypedArray=Y4e;function nrt(n){return typeof Promise!="undefined"&&n instanceof Promise||n!==null&&typeof n=="object"&&typeof n.then=="function"&&typeof n.catch=="function"}Po.isPromise=nrt;function rrt(n){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(n):Y4e(n)||t_e(n)}Po.isArrayBufferView=rrt;function irt(n){return Sm(n)==="Uint8Array"}Po.isUint8Array=irt;function srt(n){return Sm(n)==="Uint8ClampedArray"}Po.isUint8ClampedArray=srt;function ort(n){return Sm(n)==="Uint16Array"}Po.isUint16Array=ort;function art(n){return Sm(n)==="Uint32Array"}Po.isUint32Array=art;function urt(n){return Sm(n)==="Int8Array"}Po.isInt8Array=urt;function lrt(n){return Sm(n)==="Int16Array"}Po.isInt16Array=lrt;function crt(n){return Sm(n)==="Int32Array"}Po.isInt32Array=crt;function frt(n){return Sm(n)==="Float32Array"}Po.isFloat32Array=frt;function drt(n){return Sm(n)==="Float64Array"}Po.isFloat64Array=drt;function hrt(n){return Sm(n)==="BigInt64Array"}Po.isBigInt64Array=hrt;function prt(n){return Sm(n)==="BigUint64Array"}Po.isBigUint64Array=prt;function Bj(n){return o1(n)==="[object Map]"}Bj.working=typeof Map!="undefined"&&Bj(new Map);function mrt(n){return typeof Map=="undefined"?!1:Bj.working?Bj(n):n instanceof Map}Po.isMap=mrt;function jj(n){return o1(n)==="[object Set]"}jj.working=typeof Set!="undefined"&&jj(new Set);function xrt(n){return typeof Set=="undefined"?!1:jj.working?jj(n):n instanceof Set}Po.isSet=xrt;function qj(n){return o1(n)==="[object WeakMap]"}qj.working=typeof WeakMap!="undefined"&&qj(new WeakMap);function grt(n){return typeof WeakMap=="undefined"?!1:qj.working?qj(n):n instanceof WeakMap}Po.isWeakMap=grt;function ene(n){return o1(n)==="[object WeakSet]"}ene.working=typeof WeakSet!="undefined"&&ene(new WeakSet);function yrt(n){return ene(n)}Po.isWeakSet=yrt;function Uj(n){return o1(n)==="[object ArrayBuffer]"}Uj.working=typeof ArrayBuffer!="undefined"&&Uj(new ArrayBuffer);function e_e(n){return typeof ArrayBuffer=="undefined"?!1:Uj.working?Uj(n):n instanceof ArrayBuffer}Po.isArrayBuffer=e_e;function $j(n){return o1(n)==="[object DataView]"}$j.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&$j(new DataView(new ArrayBuffer(1),0,1));function t_e(n){return typeof DataView=="undefined"?!1:$j.working?$j(n):n instanceof DataView}Po.isDataView=t_e;var tne=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function dD(n){return o1(n)==="[object SharedArrayBuffer]"}function n_e(n){return typeof tne=="undefined"?!1:(typeof dD.working=="undefined"&&(dD.working=dD(new tne)),dD.working?dD(n):n instanceof tne)}Po.isSharedArrayBuffer=n_e;function vrt(n){return o1(n)==="[object AsyncFunction]"}Po.isAsyncFunction=vrt;function _rt(n){return o1(n)==="[object Map Iterator]"}Po.isMapIterator=_rt;function brt(n){return o1(n)==="[object Set Iterator]"}Po.isSetIterator=brt;function Ert(n){return o1(n)==="[object Generator]"}Po.isGeneratorObject=Ert;function Srt(n){return o1(n)==="[object WebAssembly.Module]"}Po.isWebAssemblyCompiledModule=Srt;function r_e(n){return fD(n,Znt)}Po.isNumberObject=r_e;function i_e(n){return fD(n,ert)}Po.isStringObject=i_e;function s_e(n){return fD(n,trt)}Po.isBooleanObject=s_e;function o_e(n){return K4e&&fD(n,X4e)}Po.isBigIntObject=o_e;function a_e(n){return J4e&&fD(n,Z4e)}Po.isSymbolObject=a_e;function wrt(n){return r_e(n)||i_e(n)||s_e(n)||o_e(n)||a_e(n)}Po.isBoxedPrimitive=wrt;function Crt(n){return typeof Uint8Array!="undefined"&&(e_e(n)||n_e(n))}Po.isAnyArrayBuffer=Crt;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(n){Object.defineProperty(Po,n,{enumerable:!1,value:function(){throw new Error(n+" is not supported in userland")}})})});var c_e=Ae((nAt,l_e)=>{m();l_e.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var f_e=Ae((rAt,nne)=>{m();typeof Object.create=="function"?nne.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:nne.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}});var H5=Ae(Bo=>{m();var d_e=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},i=0;i<t.length;i++)r[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return r},Art=/%[sdj%]/g;Bo.format=function(n){if(!Wj(n)){for(var e=[],t=0;t<arguments.length;t++)e.push(z5(arguments[t]));return e.join(" ")}for(var t=1,r=arguments,i=r.length,s=String(n).replace(Art,function(a){if(a==="%%")return"%";if(t>=i)return a;switch(a){case"%s":return String(r[t++]);case"%d":return Number(r[t++]);case"%j":try{return JSON.stringify(r[t++])}catch{return"[Circular]"}default:return a}}),o=r[t];t<i;o=r[++t])Vj(o)||!X8(o)?s+=" "+o:s+=" "+z5(o);return s};Bo.deprecate=function(n,e){if(typeof process!="undefined"&&process.noDeprecation===!0)return n;if(typeof process=="undefined")return function(){return Bo.deprecate(n,e).apply(this,arguments)};var t=!1;function r(){if(!t){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),t=!0}return n.apply(this,arguments)}return r};var zj={},Trt=/^$/;Bo.debuglog=function(n){if(n=n.toUpperCase(),!zj[n])if(Trt.test(n)){var e=process.pid;zj[n]=function(){var t=Bo.format.apply(Bo,arguments);console.error("%s %d: %s",n,e,t)}}else zj[n]=function(){};return zj[n]};function z5(n,e){var t={seen:[],stylize:Drt};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),sne(e)?t.showHidden=e:e&&Bo._extend(t,e),g6(t.showHidden)&&(t.showHidden=!1),g6(t.depth)&&(t.depth=2),g6(t.colors)&&(t.colors=!1),g6(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=Frt),Hj(t,n,t.depth)}Bo.inspect=z5;z5.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};z5.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function Frt(n,e){var t=z5.styles[e];return t?"\x1B["+z5.colors[t][0]+"m"+n+"\x1B["+z5.colors[t][1]+"m":n}function Drt(n,e){return n}function Ort(n){var e={};return n.forEach(function(t,r){e[t]=!0}),e}function Hj(n,e,t){if(n.customInspect&&e&&Gj(e.inspect)&&e.inspect!==Bo.inspect&&!(e.constructor&&e.constructor.prototype===e)){var r=e.inspect(t,n);return Wj(r)||(r=Hj(n,r,t)),r}var i=Rrt(n,e);if(i)return i;var s=Object.keys(e),o=Ort(s);if(n.showHidden&&(s=Object.getOwnPropertyNames(e)),pD(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return rne(e);if(s.length===0){if(Gj(e)){var a=e.name?": "+e.name:"";return n.stylize("[Function"+a+"]","special")}if(hD(e))return n.stylize(RegExp.prototype.toString.call(e),"regexp");if(Qj(e))return n.stylize(Date.prototype.toString.call(e),"date");if(pD(e))return rne(e)}var l="",f=!1,p=["{","}"];if(h_e(e)&&(f=!0,p=["[","]"]),Gj(e)){var _=e.name?": "+e.name:"";l=" [Function"+_+"]"}if(hD(e)&&(l=" "+RegExp.prototype.toString.call(e)),Qj(e)&&(l=" "+Date.prototype.toUTCString.call(e)),pD(e)&&(l=" "+rne(e)),s.length===0&&(!f||e.length==0))return p[0]+l+p[1];if(t<0)return hD(e)?n.stylize(RegExp.prototype.toString.call(e),"regexp"):n.stylize("[Object]","special");n.seen.push(e);var E;return f?E=Nrt(n,e,t,o,s):E=s.map(function(O){return ine(n,e,t,o,O,f)}),n.seen.pop(),Lrt(E,l,p)}function Rrt(n,e){if(g6(e))return n.stylize("undefined","undefined");if(Wj(e)){var t="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(t,"string")}if(p_e(e))return n.stylize(""+e,"number");if(sne(e))return n.stylize(""+e,"boolean");if(Vj(e))return n.stylize("null","null")}function rne(n){return"["+Error.prototype.toString.call(n)+"]"}function Nrt(n,e,t,r,i){for(var s=[],o=0,a=e.length;o<a;++o)m_e(e,String(o))?s.push(ine(n,e,t,r,String(o),!0)):s.push("");return i.forEach(function(l){l.match(/^\d+$/)||s.push(ine(n,e,t,r,l,!0))}),s}function ine(n,e,t,r,i,s){var o,a,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?l.set?a=n.stylize("[Getter/Setter]","special"):a=n.stylize("[Getter]","special"):l.set&&(a=n.stylize("[Setter]","special")),m_e(r,i)||(o="["+i+"]"),a||(n.seen.indexOf(l.value)<0?(Vj(t)?a=Hj(n,l.value,null):a=Hj(n,l.value,t-1),a.indexOf(`
`)>-1&&(s?a=a.split(`
`).map(function(f){return"  "+f}).join(`
`).slice(2):a=`
`+a.split(`
`).map(function(f){return"   "+f}).join(`
`))):a=n.stylize("[Circular]","special")),g6(o)){if(s&&i.match(/^\d+$/))return a;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.slice(1,-1),o=n.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=n.stylize(o,"string"))}return o+": "+a}function Lrt(n,e,t){var r=0,i=n.reduce(function(s,o){return r++,o.indexOf(`
`)>=0&&r++,s+o.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?t[0]+(e===""?"":e+`
 `)+" "+n.join(`,
  `)+" "+t[1]:t[0]+e+" "+n.join(", ")+" "+t[1]}Bo.types=u_e();function h_e(n){return Array.isArray(n)}Bo.isArray=h_e;function sne(n){return typeof n=="boolean"}Bo.isBoolean=sne;function Vj(n){return n===null}Bo.isNull=Vj;function krt(n){return n==null}Bo.isNullOrUndefined=krt;function p_e(n){return typeof n=="number"}Bo.isNumber=p_e;function Wj(n){return typeof n=="string"}Bo.isString=Wj;function Irt(n){return typeof n=="symbol"}Bo.isSymbol=Irt;function g6(n){return n===void 0}Bo.isUndefined=g6;function hD(n){return X8(n)&&one(n)==="[object RegExp]"}Bo.isRegExp=hD;Bo.types.isRegExp=hD;function X8(n){return typeof n=="object"&&n!==null}Bo.isObject=X8;function Qj(n){return X8(n)&&one(n)==="[object Date]"}Bo.isDate=Qj;Bo.types.isDate=Qj;function pD(n){return X8(n)&&(one(n)==="[object Error]"||n instanceof Error)}Bo.isError=pD;Bo.types.isNativeError=pD;function Gj(n){return typeof n=="function"}Bo.isFunction=Gj;function Mrt(n){return n===null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||typeof n=="symbol"||typeof n=="undefined"}Bo.isPrimitive=Mrt;Bo.isBuffer=c_e();function one(n){return Object.prototype.toString.call(n)}function ane(n){return n<10?"0"+n.toString(10):n.toString(10)}var Prt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Brt(){var n=new Date,e=[ane(n.getHours()),ane(n.getMinutes()),ane(n.getSeconds())].join(":");return[n.getDate(),Prt[n.getMonth()],e].join(" ")}Bo.log=function(){console.log("%s - %s",Brt(),Bo.format.apply(Bo,arguments))};Bo.inherits=f_e();Bo._extend=function(n,e){if(!e||!X8(e))return n;for(var t=Object.keys(e),r=t.length;r--;)n[t[r]]=e[t[r]];return n};function m_e(n,e){return Object.prototype.hasOwnProperty.call(n,e)}var y6=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;Bo.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(y6&&e[y6]){var t=e[y6];if(typeof t!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,y6,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var r,i,s=new Promise(function(l,f){r=l,i=f}),o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);o.push(function(l,f){l?i(l):r(f)});try{e.apply(this,o)}catch(l){i(l)}return s}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),y6&&Object.defineProperty(t,y6,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,d_e(e))};Bo.promisify.custom=y6;function jrt(n,e){if(!n){var t=new Error("Promise was rejected with a falsy value");t.reason=n,n=t}return e(n)}function qrt(n){if(typeof n!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return i.apply(s,arguments)};n.apply(this,t).then(function(a){process.nextTick(o.bind(null,null,a))},function(a){process.nextTick(jrt.bind(null,a,o))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(n)),Object.defineProperties(e,d_e(n)),e}Bo.callbackify=qrt});var fne=Ae((sAt,y_e)=>{"use strict";m();function Z8(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Z8=function(t){return typeof t}:Z8=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z8(n)}function Urt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function $rt(n,e){return e&&(Z8(e)==="object"||typeof e=="function")?e:zrt(n)}function zrt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function une(n){return une=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},une(n)}function Hrt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&lne(n,e)}function lne(n,e){return lne=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},lne(n,e)}var x_e={},eS,cne;function mD(n,e,t){t||(t=Error);function r(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){Hrt(o,s);function o(a,l,f){var p;return Urt(this,o),p=$rt(this,une(o).call(this,r(a,l,f))),p.code=n,p}return o}(t);x_e[n]=i}function g_e(n,e){if(Array.isArray(n)){var t=n.length;return n=n.map(function(r){return String(r)}),t>2?"one of ".concat(e," ").concat(n.slice(0,t-1).join(", "),", or ")+n[t-1]:t===2?"one of ".concat(e," ").concat(n[0]," or ").concat(n[1]):"of ".concat(e," ").concat(n[0])}else return"of ".concat(e," ").concat(String(n))}function Vrt(n,e,t){return n.substr(!t||t<0?0:+t,e.length)===e}function Wrt(n,e,t){return(t===void 0||t>n.length)&&(t=n.length),n.substring(t-e.length,t)===e}function Qrt(n,e,t){return typeof t!="number"&&(t=0),t+e.length>n.length?!1:n.indexOf(e,t)!==-1}mD("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);mD("ERR_INVALID_ARG_TYPE",function(n,e,t){eS===void 0&&(eS=I0()),eS(typeof n=="string","'name' must be a string");var r;typeof e=="string"&&Vrt(e,"not ")?(r="must not be",e=e.replace(/^not /,"")):r="must be";var i;if(Wrt(n," argument"))i="The ".concat(n," ").concat(r," ").concat(g_e(e,"type"));else{var s=Qrt(n,".")?"property":"argument";i='The "'.concat(n,'" ').concat(s," ").concat(r," ").concat(g_e(e,"type"))}return i+=". Received type ".concat(Z8(t)),i},TypeError);mD("ERR_INVALID_ARG_VALUE",function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";cne===void 0&&(cne=H5());var r=cne.inspect(e);return r.length>128&&(r="".concat(r.slice(0,128),"...")),"The argument '".concat(n,"' ").concat(t,". Received ").concat(r)},TypeError,RangeError);mD("ERR_INVALID_RETURN_VALUE",function(n,e,t){var r;return t&&t.constructor&&t.constructor.name?r="instance of ".concat(t.constructor.name):r="type ".concat(Z8(t)),"Expected ".concat(n,' to be returned from the "').concat(e,'"')+" function but got ".concat(r,".")},TypeError);mD("ERR_MISSING_ARGS",function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];eS===void 0&&(eS=I0()),eS(e.length>0,"At least one arg needs to be specified");var r="The ",i=e.length;switch(e=e.map(function(s){return'"'.concat(s,'"')}),i){case 1:r+="".concat(e[0]," argument");break;case 2:r+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:r+=e.slice(0,i-1).join(", "),r+=", and ".concat(e[i-1]," arguments");break}return"".concat(r," must be specified")},TypeError);y_e.exports.codes=x_e});var S_e=Ae((oAt,E_e)=>{"use strict";m();function Grt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){Yrt(n,i,t[i])})}return n}function Yrt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Krt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function v_e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Jrt(n,e,t){return e&&v_e(n.prototype,e),t&&v_e(n,t),n}function tS(n,e){return e&&(a1(e)==="object"||typeof e=="function")?e:dne(n)}function dne(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Xrt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&xD(n,e)}function hne(n){var e=typeof Map=="function"?new Map:void 0;return hne=function(r){if(r===null||!eit(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Yj(r,arguments,V5(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),xD(i,r)},hne(n)}function Zrt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Yj(n,e,t){return Zrt()?Yj=Reflect.construct:Yj=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),f=new l;return o&&xD(f,o.prototype),f},Yj.apply(null,arguments)}function eit(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function xD(n,e){return xD=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},xD(n,e)}function V5(n){return V5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},V5(n)}function a1(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a1=function(t){return typeof t}:a1=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a1(n)}var tit=H5(),pne=tit.inspect,nit=fne(),rit=nit.codes.ERR_INVALID_ARG_TYPE;function __e(n,e,t){return(t===void 0||t>n.length)&&(t=n.length),n.substring(t-e.length,t)===e}function iit(n,e){if(e=Math.floor(e),n.length==0||e==0)return"";var t=n.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)n+=n,e--;return n+=n.substring(0,t-n.length),n}var wm="",gD="",yD="",Yf="",v6={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},sit=10;function b_e(n){var e=Object.keys(n),t=Object.create(Object.getPrototypeOf(n));return e.forEach(function(r){t[r]=n[r]}),Object.defineProperty(t,"message",{value:n.message}),t}function vD(n){return pne(n,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function oit(n,e,t){var r="",i="",s=0,o="",a=!1,l=vD(n),f=l.split(`
`),p=vD(e).split(`
`),_=0,E="";if(t==="strictEqual"&&a1(n)==="object"&&a1(e)==="object"&&n!==null&&e!==null&&(t="strictEqualObject"),f.length===1&&p.length===1&&f[0]!==p[0]){var O=f[0].length+p[0].length;if(O<=sit){if((a1(n)!=="object"||n===null)&&(a1(e)!=="object"||e===null)&&(n!==0||e!==0))return"".concat(v6[t],`

`)+"".concat(f[0]," !== ").concat(p[0],`
`)}else if(t!=="strictEqualObject"){var R=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(O<R){for(;f[0][_]===p[0][_];)_++;_>2&&(E=`
  `.concat(iit(" ",_),"^"),_=0)}}}for(var q=f[f.length-1],z=p[p.length-1];q===z&&(_++<2?o=`
  `.concat(q).concat(o):r=q,f.pop(),p.pop(),!(f.length===0||p.length===0));)q=f[f.length-1],z=p[p.length-1];var L=Math.max(f.length,p.length);if(L===0){var B=l.split(`
`);if(B.length>30)for(B[26]="".concat(wm,"...").concat(Yf);B.length>27;)B.pop();return"".concat(v6.notIdentical,`

`).concat(B.join(`
`),`
`)}_>3&&(o=`
`.concat(wm,"...").concat(Yf).concat(o),a=!0),r!==""&&(o=`
  `.concat(r).concat(o),r="");var P=0,G=v6[t]+`
`.concat(gD,"+ actual").concat(Yf," ").concat(yD,"- expected").concat(Yf),ue=" ".concat(wm,"...").concat(Yf," Lines skipped");for(_=0;_<L;_++){var I=_-s;if(f.length<_+1)I>1&&_>2&&(I>4?(i+=`
`.concat(wm,"...").concat(Yf),a=!0):I>3&&(i+=`
  `.concat(p[_-2]),P++),i+=`
  `.concat(p[_-1]),P++),s=_,r+=`
`.concat(yD,"-").concat(Yf," ").concat(p[_]),P++;else if(p.length<_+1)I>1&&_>2&&(I>4?(i+=`
`.concat(wm,"...").concat(Yf),a=!0):I>3&&(i+=`
  `.concat(f[_-2]),P++),i+=`
  `.concat(f[_-1]),P++),s=_,i+=`
`.concat(gD,"+").concat(Yf," ").concat(f[_]),P++;else{var J=p[_],he=f[_],ye=he!==J&&(!__e(he,",")||he.slice(0,-1)!==J);ye&&__e(J,",")&&J.slice(0,-1)===he&&(ye=!1,he+=","),ye?(I>1&&_>2&&(I>4?(i+=`
`.concat(wm,"...").concat(Yf),a=!0):I>3&&(i+=`
  `.concat(f[_-2]),P++),i+=`
  `.concat(f[_-1]),P++),s=_,i+=`
`.concat(gD,"+").concat(Yf," ").concat(he),r+=`
`.concat(yD,"-").concat(Yf," ").concat(J),P+=2):(i+=r,r="",(I===1||_===0)&&(i+=`
  `.concat(he),P++))}if(P>20&&_<L-2)return"".concat(G).concat(ue,`
`).concat(i,`
`).concat(wm,"...").concat(Yf).concat(r,`
`)+"".concat(wm,"...").concat(Yf)}return"".concat(G).concat(a?ue:"",`
`).concat(i).concat(r).concat(o).concat(E)}var ait=function(n){Xrt(e,n);function e(t){var r;if(Krt(this,e),a1(t)!=="object"||t===null)throw new rit("options","Object",t);var i=t.message,s=t.operator,o=t.stackStartFn,a=t.actual,l=t.expected,f=Error.stackTraceLimit;if(Error.stackTraceLimit=0,i!=null)r=tS(this,V5(e).call(this,String(i)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(wm="\x1B[34m",gD="\x1B[32m",Yf="\x1B[39m",yD="\x1B[31m"):(wm="",gD="",Yf="",yD="")),a1(a)==="object"&&a!==null&&a1(l)==="object"&&l!==null&&"stack"in a&&a instanceof Error&&"stack"in l&&l instanceof Error&&(a=b_e(a),l=b_e(l)),s==="deepStrictEqual"||s==="strictEqual")r=tS(this,V5(e).call(this,oit(a,l,s)));else if(s==="notDeepStrictEqual"||s==="notStrictEqual"){var p=v6[s],_=vD(a).split(`
`);if(s==="notStrictEqual"&&a1(a)==="object"&&a!==null&&(p=v6.notStrictEqualObject),_.length>30)for(_[26]="".concat(wm,"...").concat(Yf);_.length>27;)_.pop();_.length===1?r=tS(this,V5(e).call(this,"".concat(p," ").concat(_[0]))):r=tS(this,V5(e).call(this,"".concat(p,`

`).concat(_.join(`
`),`
`)))}else{var E=vD(a),O="",R=v6[s];s==="notDeepEqual"||s==="notEqual"?(E="".concat(v6[s],`

`).concat(E),E.length>1024&&(E="".concat(E.slice(0,1021),"..."))):(O="".concat(vD(l)),E.length>512&&(E="".concat(E.slice(0,509),"...")),O.length>512&&(O="".concat(O.slice(0,509),"...")),s==="deepEqual"||s==="equal"?E="".concat(R,`

`).concat(E,`

should equal

`):O=" ".concat(s," ").concat(O)),r=tS(this,V5(e).call(this,"".concat(E).concat(O)))}return Error.stackTraceLimit=f,r.generatedMessage=!i,Object.defineProperty(dne(r),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),r.code="ERR_ASSERTION",r.actual=a,r.expected=l,r.operator=s,Error.captureStackTrace&&Error.captureStackTrace(dne(r),o),r.stack,r.name="AssertionError",tS(r)}return Jrt(e,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:pne.custom,value:function(r,i){return pne(this,Grt({},i,{customInspect:!1,depth:0}))}}]),e}(hne(Error));E_e.exports=ait});var A_e=Ae((aAt,C_e)=>{"use strict";m();function w_e(n,e){if(n==null)throw new TypeError("Cannot convert first argument to object");for(var t=Object(n),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var s=Object.keys(Object(i)),o=0,a=s.length;o<a;o++){var l=s[o],f=Object.getOwnPropertyDescriptor(i,l);f!==void 0&&f.enumerable&&(t[l]=i[l])}}return t}function uit(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:w_e})}C_e.exports={assign:w_e,polyfill:uit}});var mne=Ae((uAt,F_e)=>{"use strict";m();var T_e=Object.prototype.toString;F_e.exports=function(e){var t=T_e.call(e),r=t==="[object Arguments]";return r||(r=t!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&T_e.call(e.callee)==="[object Function]"),r}});var P_e=Ae((lAt,M_e)=>{"use strict";m();var D_e;Object.keys||(_D=Object.prototype.hasOwnProperty,xne=Object.prototype.toString,O_e=mne(),gne=Object.prototype.propertyIsEnumerable,R_e=!gne.call({toString:null},"toString"),N_e=gne.call(function(){},"prototype"),bD=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Kj=function(n){var e=n.constructor;return e&&e.prototype===n},L_e={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},k_e=function(){if(typeof window=="undefined")return!1;for(var n in window)try{if(!L_e["$"+n]&&_D.call(window,n)&&window[n]!==null&&typeof window[n]=="object")try{Kj(window[n])}catch{return!0}}catch{return!0}return!1}(),I_e=function(n){if(typeof window=="undefined"||!k_e)return Kj(n);try{return Kj(n)}catch{return!1}},D_e=function(e){var t=e!==null&&typeof e=="object",r=xne.call(e)==="[object Function]",i=O_e(e),s=t&&xne.call(e)==="[object String]",o=[];if(!t&&!r&&!i)throw new TypeError("Object.keys called on a non-object");var a=N_e&&r;if(s&&e.length>0&&!_D.call(e,0))for(var l=0;l<e.length;++l)o.push(String(l));if(i&&e.length>0)for(var f=0;f<e.length;++f)o.push(String(f));else for(var p in e)!(a&&p==="prototype")&&_D.call(e,p)&&o.push(String(p));if(R_e)for(var _=I_e(e),E=0;E<bD.length;++E)!(_&&bD[E]==="constructor")&&_D.call(e,bD[E])&&o.push(bD[E]);return o});var _D,xne,O_e,gne,R_e,N_e,bD,Kj,L_e,k_e,I_e;M_e.exports=D_e});var U_e=Ae((cAt,q_e)=>{"use strict";m();var lit=Array.prototype.slice,cit=mne(),B_e=Object.keys,Jj=B_e?function(e){return B_e(e)}:P_e(),j_e=Object.keys;Jj.shim=function(){if(Object.keys){var e=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);e||(Object.keys=function(r){return cit(r)?j_e(lit.call(r)):j_e(r)})}else Object.keys=Jj;return Object.keys||Jj};q_e.exports=Jj});var z_e=Ae((fAt,$_e)=>{"use strict";m();var fit=cD(),yne=fit("%Object.defineProperty%",!0),vne=function(){if(yne)try{return yne({},"a",{value:1}),!0}catch{return!1}return!1};vne.hasArrayLengthDefineBug=function(){if(!vne())return null;try{return yne([],"length",{value:1}).length!==1}catch{return!0}};$_e.exports=vne});var ED=Ae((dAt,Q_e)=>{"use strict";m();var dit=U_e(),hit=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",pit=Object.prototype.toString,mit=Array.prototype.concat,H_e=Object.defineProperty,xit=function(n){return typeof n=="function"&&pit.call(n)==="[object Function]"},git=z_e()(),V_e=H_e&&git,yit=function(n,e,t,r){e in n&&(!xit(r)||!r())||(V_e?H_e(n,e,{configurable:!0,enumerable:!1,value:t,writable:!0}):n[e]=t)},W_e=function(n,e){var t=arguments.length>2?arguments[2]:{},r=dit(e);hit&&(r=mit.call(r,Object.getOwnPropertySymbols(e)));for(var i=0;i<r.length;i+=1)yit(n,r[i],e[r[i]],t[r[i]])};W_e.supportsDescriptors=!!V_e;Q_e.exports=W_e});var _ne=Ae((hAt,Y_e)=>{"use strict";m();var G_e=function(n){return n!==n};Y_e.exports=function(e,t){return e===0&&t===0?1/e===1/t:!!(e===t||G_e(e)&&G_e(t))}});var bne=Ae((pAt,K_e)=>{"use strict";m();var vit=_ne();K_e.exports=function(){return typeof Object.is=="function"?Object.is:vit}});var X_e=Ae((mAt,J_e)=>{"use strict";m();var _it=bne(),bit=ED();J_e.exports=function(){var e=_it();return bit(Object,{is:e},{is:function(){return Object.is!==e}}),e}});var Ene=Ae((xAt,t6e)=>{"use strict";m();var Eit=ED(),Sit=Rj(),wit=_ne(),Z_e=bne(),Cit=X_e(),e6e=Sit(Z_e(),Object);Eit(e6e,{getPolyfill:Z_e,implementation:wit,shim:Cit});t6e.exports=e6e});var Sne=Ae((gAt,n6e)=>{"use strict";m();n6e.exports=function(e){return e!==e}});var wne=Ae((yAt,r6e)=>{"use strict";m();var Ait=Sne();r6e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:Ait}});var s6e=Ae((vAt,i6e)=>{"use strict";m();var Tit=ED(),Fit=wne();i6e.exports=function(){var e=Fit();return Tit(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}});var l6e=Ae((_At,u6e)=>{"use strict";m();var Dit=Rj(),Oit=ED(),Rit=Sne(),o6e=wne(),Nit=s6e(),a6e=Dit(o6e(),Number);Oit(a6e,{getPolyfill:o6e,implementation:Rit,shim:Nit});u6e.exports=a6e});var F6e=Ae((bAt,T6e)=>{"use strict";m();function c6e(n,e){return Iit(n)||kit(n,e)||Lit()}function Lit(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function kit(n,e){var t=[],r=!0,i=!1,s=void 0;try{for(var o=n[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(t.push(a.value),!(e&&t.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return t}function Iit(n){if(Array.isArray(n))return n}function Kh(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kh=function(t){return typeof t}:Kh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(n)}var Mit=/a/g.flags!==void 0,Xj=function(e){var t=[];return e.forEach(function(r){return t.push(r)}),t},f6e=function(e){var t=[];return e.forEach(function(r,i){return t.push([i,r])}),t},d6e=Object.is?Object.is:Ene(),Zj=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},Cne=Number.isNaN?Number.isNaN:l6e();function Ane(n){return n.call.bind(n)}var SD=Ane(Object.prototype.hasOwnProperty),eq=Ane(Object.prototype.propertyIsEnumerable),h6e=Ane(Object.prototype.toString),vd=H5().types,Pit=vd.isAnyArrayBuffer,Bit=vd.isArrayBufferView,p6e=vd.isDate,tq=vd.isMap,m6e=vd.isRegExp,nq=vd.isSet,jit=vd.isNativeError,qit=vd.isBoxedPrimitive,x6e=vd.isNumberObject,g6e=vd.isStringObject,y6e=vd.isBooleanObject,v6e=vd.isBigIntObject,Uit=vd.isSymbolObject,$it=vd.isFloat32Array,zit=vd.isFloat64Array;function Hit(n){if(n.length===0||n.length>10)return!0;for(var e=0;e<n.length;e++){var t=n.charCodeAt(e);if(t<48||t>57)return!0}return n.length===10&&n>=Math.pow(2,32)}function rq(n){return Object.keys(n).filter(Hit).concat(Zj(n).filter(Object.prototype.propertyIsEnumerable.bind(n)))}function _6e(n,e){if(n===e)return 0;for(var t=n.length,r=e.length,i=0,s=Math.min(t,r);i<s;++i)if(n[i]!==e[i]){t=n[i],r=e[i];break}return t<r?-1:r<t?1:0}var iq=void 0,Vit=!0,Wit=!1,Tne=0,Fne=1,b6e=2,E6e=3;function Qit(n,e){return Mit?n.source===e.source&&n.flags===e.flags:RegExp.prototype.toString.call(n)===RegExp.prototype.toString.call(e)}function Git(n,e){if(n.byteLength!==e.byteLength)return!1;for(var t=0;t<n.byteLength;t++)if(n[t]!==e[t])return!1;return!0}function Yit(n,e){return n.byteLength!==e.byteLength?!1:_6e(new Uint8Array(n.buffer,n.byteOffset,n.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))===0}function Kit(n,e){return n.byteLength===e.byteLength&&_6e(new Uint8Array(n),new Uint8Array(e))===0}function Jit(n,e){return x6e(n)?x6e(e)&&d6e(Number.prototype.valueOf.call(n),Number.prototype.valueOf.call(e)):g6e(n)?g6e(e)&&String.prototype.valueOf.call(n)===String.prototype.valueOf.call(e):y6e(n)?y6e(e)&&Boolean.prototype.valueOf.call(n)===Boolean.prototype.valueOf.call(e):v6e(n)?v6e(e)&&BigInt.prototype.valueOf.call(n)===BigInt.prototype.valueOf.call(e):Uit(e)&&Symbol.prototype.valueOf.call(n)===Symbol.prototype.valueOf.call(e)}function u1(n,e,t,r){if(n===e)return n!==0?!0:t?d6e(n,e):!0;if(t){if(Kh(n)!=="object")return typeof n=="number"&&Cne(n)&&Cne(e);if(Kh(e)!=="object"||n===null||e===null||Object.getPrototypeOf(n)!==Object.getPrototypeOf(e))return!1}else{if(n===null||Kh(n)!=="object")return e===null||Kh(e)!=="object"?n==e:!1;if(e===null||Kh(e)!=="object")return!1}var i=h6e(n),s=h6e(e);if(i!==s)return!1;if(Array.isArray(n)){if(n.length!==e.length)return!1;var o=rq(n,iq),a=rq(e,iq);return o.length!==a.length?!1:wD(n,e,t,r,Fne,o)}if(i==="[object Object]"&&(!tq(n)&&tq(e)||!nq(n)&&nq(e)))return!1;if(p6e(n)){if(!p6e(e)||Date.prototype.getTime.call(n)!==Date.prototype.getTime.call(e))return!1}else if(m6e(n)){if(!m6e(e)||!Qit(n,e))return!1}else if(jit(n)||n instanceof Error){if(n.message!==e.message||n.name!==e.name)return!1}else if(Bit(n)){if(!t&&($it(n)||zit(n))){if(!Git(n,e))return!1}else if(!Yit(n,e))return!1;var l=rq(n,iq),f=rq(e,iq);return l.length!==f.length?!1:wD(n,e,t,r,Tne,l)}else{if(nq(n))return!nq(e)||n.size!==e.size?!1:wD(n,e,t,r,b6e);if(tq(n))return!tq(e)||n.size!==e.size?!1:wD(n,e,t,r,E6e);if(Pit(n)){if(!Kit(n,e))return!1}else if(qit(n)&&!Jit(n,e))return!1}return wD(n,e,t,r,Tne)}function S6e(n,e){return e.filter(function(t){return eq(n,t)})}function wD(n,e,t,r,i,s){if(arguments.length===5){s=Object.keys(n);var o=Object.keys(e);if(s.length!==o.length)return!1}for(var a=0;a<s.length;a++)if(!SD(e,s[a]))return!1;if(t&&arguments.length===5){var l=Zj(n);if(l.length!==0){var f=0;for(a=0;a<l.length;a++){var p=l[a];if(eq(n,p)){if(!eq(e,p))return!1;s.push(p),f++}else if(eq(e,p))return!1}var _=Zj(e);if(l.length!==_.length&&S6e(e,_).length!==f)return!1}else{var E=Zj(e);if(E.length!==0&&S6e(e,E).length!==0)return!1}}if(s.length===0&&(i===Tne||i===Fne&&n.length===0||n.size===0))return!0;if(r===void 0)r={val1:new Map,val2:new Map,position:0};else{var O=r.val1.get(n);if(O!==void 0){var R=r.val2.get(e);if(R!==void 0)return O===R}r.position++}r.val1.set(n,r.position),r.val2.set(e,r.position);var q=nst(n,e,t,s,r,i);return r.val1.delete(n),r.val2.delete(e),q}function w6e(n,e,t,r){for(var i=Xj(n),s=0;s<i.length;s++){var o=i[s];if(u1(e,o,t,r))return n.delete(o),!0}return!1}function C6e(n){switch(Kh(n)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":n=+n;case"number":if(Cne(n))return!1}return!0}function Xit(n,e,t){var r=C6e(t);return r??(e.has(r)&&!n.has(r))}function Zit(n,e,t,r,i){var s=C6e(t);if(s!=null)return s;var o=e.get(s);return o===void 0&&!e.has(s)||!u1(r,o,!1,i)?!1:!n.has(s)&&u1(r,o,!1,i)}function est(n,e,t,r){for(var i=null,s=Xj(n),o=0;o<s.length;o++){var a=s[o];if(Kh(a)==="object"&&a!==null)i===null&&(i=new Set),i.add(a);else if(!e.has(a)){if(t||!Xit(n,e,a))return!1;i===null&&(i=new Set),i.add(a)}}if(i!==null){for(var l=Xj(e),f=0;f<l.length;f++){var p=l[f];if(Kh(p)==="object"&&p!==null){if(!w6e(i,p,t,r))return!1}else if(!t&&!n.has(p)&&!w6e(i,p,t,r))return!1}return i.size===0}return!0}function A6e(n,e,t,r,i,s){for(var o=Xj(n),a=0;a<o.length;a++){var l=o[a];if(u1(t,l,i,s)&&u1(r,e.get(l),i,s))return n.delete(l),!0}return!1}function tst(n,e,t,r){for(var i=null,s=f6e(n),o=0;o<s.length;o++){var a=c6e(s[o],2),l=a[0],f=a[1];if(Kh(l)==="object"&&l!==null)i===null&&(i=new Set),i.add(l);else{var p=e.get(l);if(p===void 0&&!e.has(l)||!u1(f,p,t,r)){if(t||!Zit(n,e,l,f,r))return!1;i===null&&(i=new Set),i.add(l)}}}if(i!==null){for(var _=f6e(e),E=0;E<_.length;E++){var O=c6e(_[E],2),l=O[0],R=O[1];if(Kh(l)==="object"&&l!==null){if(!A6e(i,n,l,R,t,r))return!1}else if(!t&&(!n.has(l)||!u1(n.get(l),R,!1,r))&&!A6e(i,n,l,R,!1,r))return!1}return i.size===0}return!0}function nst(n,e,t,r,i,s){var o=0;if(s===b6e){if(!est(n,e,t,i))return!1}else if(s===E6e){if(!tst(n,e,t,i))return!1}else if(s===Fne)for(;o<n.length;o++)if(SD(n,o)){if(!SD(e,o)||!u1(n[o],e[o],t,i))return!1}else{if(SD(e,o))return!1;for(var a=Object.keys(n);o<a.length;o++){var l=a[o];if(!SD(e,l)||!u1(n[l],e[l],t,i))return!1}return a.length===Object.keys(e).length}for(o=0;o<r.length;o++){var f=r[o];if(!u1(n[f],e[f],t,i))return!1}return!0}function rst(n,e){return u1(n,e,Wit)}function ist(n,e){return u1(n,e,Vit)}T6e.exports={isDeepEqual:rst,isDeepStrictEqual:ist}});var I0=Ae((EAt,H6e)=>{"use strict";m();function W5(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?W5=function(t){return typeof t}:W5=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W5(n)}function sst(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var ost=fne(),CD=ost.codes,D6e=CD.ERR_AMBIGUOUS_ARGUMENT,AD=CD.ERR_INVALID_ARG_TYPE,ast=CD.ERR_INVALID_ARG_VALUE,ust=CD.ERR_INVALID_RETURN_VALUE,Q5=CD.ERR_MISSING_ARGS,_6=S_e(),lst=H5(),cst=lst.inspect,O6e=H5().types,fst=O6e.isPromise,Dne=O6e.isRegExp,dst=Object.assign?Object.assign:A_e().assign,R6e=Object.is?Object.is:Ene(),G5,sq;function TD(){var n=F6e();G5=n.isDeepEqual,sq=n.isDeepStrictEqual}var N6e=!1,Wu=H6e.exports=One,oq={};function Cm(n){throw n.message instanceof Error?n.message:new _6(n)}function L6e(n,e,t,r,i){var s=arguments.length,o;if(s===0)o="Failed";else if(s===1)t=n,n=void 0;else{if(N6e===!1){N6e=!0;var a=process.emitWarning?process.emitWarning:console.warn.bind(console);a("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}s===2&&(r="!=")}if(t instanceof Error)throw t;var l={actual:n,expected:e,operator:r===void 0?"fail":r,stackStartFn:i||L6e};t!==void 0&&(l.message=t);var f=new _6(l);throw o&&(f.message=o,f.generatedMessage=!0),f}Wu.fail=L6e;Wu.AssertionError=_6;function k6e(n,e,t,r){if(!t){var i=!1;if(e===0)i=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var s=new _6({actual:t,expected:!0,message:r,operator:"==",stackStartFn:n});throw s.generatedMessage=i,s}}function One(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];k6e.apply(void 0,[One,e.length].concat(e))}Wu.ok=One;Wu.equal=function n(e,t,r){if(arguments.length<2)throw new Q5("actual","expected");e!=t&&Cm({actual:e,expected:t,message:r,operator:"==",stackStartFn:n})};Wu.notEqual=function n(e,t,r){if(arguments.length<2)throw new Q5("actual","expected");e==t&&Cm({actual:e,expected:t,message:r,operator:"!=",stackStartFn:n})};Wu.deepEqual=function n(e,t,r){if(arguments.length<2)throw new Q5("actual","expected");G5===void 0&&TD(),G5(e,t)||Cm({actual:e,expected:t,message:r,operator:"deepEqual",stackStartFn:n})};Wu.notDeepEqual=function n(e,t,r){if(arguments.length<2)throw new Q5("actual","expected");G5===void 0&&TD(),G5(e,t)&&Cm({actual:e,expected:t,message:r,operator:"notDeepEqual",stackStartFn:n})};Wu.deepStrictEqual=function n(e,t,r){if(arguments.length<2)throw new Q5("actual","expected");G5===void 0&&TD(),sq(e,t)||Cm({actual:e,expected:t,message:r,operator:"deepStrictEqual",stackStartFn:n})};Wu.notDeepStrictEqual=I6e;function I6e(n,e,t){if(arguments.length<2)throw new Q5("actual","expected");G5===void 0&&TD(),sq(n,e)&&Cm({actual:n,expected:e,message:t,operator:"notDeepStrictEqual",stackStartFn:I6e})}Wu.strictEqual=function n(e,t,r){if(arguments.length<2)throw new Q5("actual","expected");R6e(e,t)||Cm({actual:e,expected:t,message:r,operator:"strictEqual",stackStartFn:n})};Wu.notStrictEqual=function n(e,t,r){if(arguments.length<2)throw new Q5("actual","expected");R6e(e,t)&&Cm({actual:e,expected:t,message:r,operator:"notStrictEqual",stackStartFn:n})};var M6e=function n(e,t,r){var i=this;sst(this,n),t.forEach(function(s){s in e&&(r!==void 0&&typeof r[s]=="string"&&Dne(e[s])&&e[s].test(r[s])?i[s]=r[s]:i[s]=e[s])})};function hst(n,e,t,r,i,s){if(!(t in n)||!sq(n[t],e[t])){if(!r){var o=new M6e(n,i),a=new M6e(e,i,n),l=new _6({actual:o,expected:a,operator:"deepStrictEqual",stackStartFn:s});throw l.actual=n,l.expected=e,l.operator=s.name,l}Cm({actual:n,expected:e,message:r,operator:s.name,stackStartFn:s})}}function P6e(n,e,t,r){if(typeof e!="function"){if(Dne(e))return e.test(n);if(arguments.length===2)throw new AD("expected",["Function","RegExp"],e);if(W5(n)!=="object"||n===null){var i=new _6({actual:n,expected:e,message:t,operator:"deepStrictEqual",stackStartFn:r});throw i.operator=r.name,i}var s=Object.keys(e);if(e instanceof Error)s.push("name","message");else if(s.length===0)throw new ast("error",e,"may not be an empty object");return G5===void 0&&TD(),s.forEach(function(o){typeof n[o]=="string"&&Dne(e[o])&&e[o].test(n[o])||hst(n,e,o,t,s,r)}),!0}return e.prototype!==void 0&&n instanceof e?!0:Error.isPrototypeOf(e)?!1:e.call({},n)===!0}function B6e(n){if(typeof n!="function")throw new AD("fn","Function",n);try{n()}catch(e){return e}return oq}function j6e(n){return fst(n)||n!==null&&W5(n)==="object"&&typeof n.then=="function"&&typeof n.catch=="function"}function q6e(n){return Promise.resolve().then(function(){var e;if(typeof n=="function"){if(e=n(),!j6e(e))throw new ust("instance of Promise","promiseFn",e)}else if(j6e(n))e=n;else throw new AD("promiseFn",["Function","Promise"],n);return Promise.resolve().then(function(){return e}).then(function(){return oq}).catch(function(t){return t})})}function U6e(n,e,t,r){if(typeof t=="string"){if(arguments.length===4)throw new AD("error",["Object","Error","Function","RegExp"],t);if(W5(e)==="object"&&e!==null){if(e.message===t)throw new D6e("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===t)throw new D6e("error/message",'The error "'.concat(e,'" is identical to the message.'));r=t,t=void 0}else if(t!=null&&W5(t)!=="object"&&typeof t!="function")throw new AD("error",["Object","Error","Function","RegExp"],t);if(e===oq){var i="";t&&t.name&&(i+=" (".concat(t.name,")")),i+=r?": ".concat(r):".";var s=n.name==="rejects"?"rejection":"exception";Cm({actual:void 0,expected:t,operator:n.name,message:"Missing expected ".concat(s).concat(i),stackStartFn:n})}if(t&&!P6e(e,t,r,n))throw e}function $6e(n,e,t,r){if(e!==oq){if(typeof t=="string"&&(r=t,t=void 0),!t||P6e(e,t)){var i=r?": ".concat(r):".",s=n.name==="doesNotReject"?"rejection":"exception";Cm({actual:e,expected:t,operator:n.name,message:"Got unwanted ".concat(s).concat(i,`
`)+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:n})}throw e}}Wu.throws=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];U6e.apply(void 0,[n,B6e(e)].concat(r))};Wu.rejects=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return q6e(e).then(function(s){return U6e.apply(void 0,[n,s].concat(r))})};Wu.doesNotThrow=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];$6e.apply(void 0,[n,B6e(e)].concat(r))};Wu.doesNotReject=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return q6e(e).then(function(s){return $6e.apply(void 0,[n,s].concat(r))})};Wu.ifError=function n(e){if(e!=null){var t="ifError got unwanted exception: ";W5(e)==="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?t+=e.constructor.name:t+=e.message:t+=cst(e);var r=new _6({actual:e,expected:null,operator:"ifError",message:t,stackStartFn:n}),i=e.stack;if(typeof i=="string"){var s=i.split(`
`);s.shift();for(var o=r.stack.split(`
`),a=0;a<s.length;a++){var l=o.indexOf(s[a]);if(l!==-1){o=o.slice(0,l);break}}r.stack="".concat(o.join(`
`),`
`).concat(s.join(`
`))}throw r}};function z6e(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];k6e.apply(void 0,[z6e,e.length].concat(e))}Wu.strict=dst(z6e,Wu,{equal:Wu.strictEqual,deepEqual:Wu.deepStrictEqual,notEqual:Wu.notStrictEqual,notDeepEqual:Wu.notDeepStrictEqual});Wu.strict.strict=Wu.strict});var wr=Ae(W2=>{"use strict";m();Object.defineProperty(W2,"__esModule",{value:!0});W2.SuppressWarnings=W2.Override=W2.Nullable=W2.NotNull=void 0;function pst(n,e,t){}W2.NotNull=pst;function mst(n,e,t){}W2.Nullable=mst;function xst(n,e,t){}W2.Override=xst;function gst(n){return(e,t,r)=>{}}W2.SuppressWarnings=gst});var Yg=Ae(FD=>{"use strict";m();Object.defineProperty(FD,"__esModule",{value:!0});FD.IntStream=void 0;var yst;(function(n){n.EOF=-1,n.UNKNOWN_SOURCE_NAME="<unknown>"})(yst=FD.IntStream||(FD.IntStream={}))});var V6e=Ae(nS=>{"use strict";m();var Q2=nS&&nS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(nS,"__esModule",{value:!0});nS.ANTLRInputStream=void 0;var vst=I0(),G2=wr(),aq=Yg(),l1=class{constructor(e){this.p=0,this.data=e,this.n=e.length}reset(){this.p=0}consume(){if(this.p>=this.n)throw vst(this.LA(1)===aq.IntStream.EOF),new Error("cannot consume EOF");this.p<this.n&&this.p++}LA(e){return e===0?0:e<0&&(e++,this.p+e-1<0)||this.p+e-1>=this.n?aq.IntStream.EOF:this.data.charCodeAt(this.p+e-1)}LT(e){return this.LA(e)}get index(){return this.p}get size(){return this.n}mark(){return-1}release(e){}seek(e){if(e<=this.p){this.p=e;return}for(e=Math.min(e,this.n);this.p<e;)this.consume()}getText(e){let t=e.a,r=e.b;r>=this.n&&(r=this.n-1);let i=r-t+1;return t>=this.n?"":this.data.substr(t,i)}get sourceName(){return this.name?this.name:aq.IntStream.UNKNOWN_SOURCE_NAME}toString(){return this.data}};Q2([G2.Override],l1.prototype,"consume",null);Q2([G2.Override],l1.prototype,"LA",null);Q2([G2.Override],l1.prototype,"index",null);Q2([G2.Override],l1.prototype,"size",null);Q2([G2.Override],l1.prototype,"mark",null);Q2([G2.Override],l1.prototype,"release",null);Q2([G2.Override],l1.prototype,"seek",null);Q2([G2.Override],l1.prototype,"getText",null);Q2([G2.Override],l1.prototype,"sourceName",null);Q2([G2.Override],l1.prototype,"toString",null);nS.ANTLRInputStream=l1});var Y2=Ae(Y5=>{"use strict";m();var Rne=Y5&&Y5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Y5,"__esModule",{value:!0});Y5.ATNState=void 0;var Nne=wr(),Kg=class{constructor(){this.stateNumber=Kg.INVALID_STATE_NUMBER,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.optimizedTransitions=this.transitions}getStateNumber(){return this.stateNumber}get nonStopStateNumber(){return this.getStateNumber()}hashCode(){return this.stateNumber}equals(e){return e instanceof Kg?this.stateNumber===e.stateNumber:!1}get isNonGreedyExitState(){return!1}toString(){return String(this.stateNumber)}getTransitions(){return this.transitions.slice(0)}get numberOfTransitions(){return this.transitions.length}addTransition(e,t){if(this.transitions.length===0)this.epsilonOnlyTransitions=e.isEpsilon;else if(this.epsilonOnlyTransitions!==e.isEpsilon)throw this.epsilonOnlyTransitions=!1,new Error("ATN state "+this.stateNumber+" has both epsilon and non-epsilon transitions.");this.transitions.splice(t!==void 0?t:this.transitions.length,0,e)}transition(e){return this.transitions[e]}setTransition(e,t){this.transitions[e]=t}removeTransition(e){return this.transitions.splice(e,1)[0]}get onlyHasEpsilonTransitions(){return this.epsilonOnlyTransitions}setRuleIndex(e){this.ruleIndex=e}get isOptimized(){return this.optimizedTransitions!==this.transitions}get numberOfOptimizedTransitions(){return this.optimizedTransitions.length}getOptimizedTransition(e){return this.optimizedTransitions[e]}addOptimizedTransition(e){this.isOptimized||(this.optimizedTransitions=new Array),this.optimizedTransitions.push(e)}setOptimizedTransition(e,t){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions[e]=t}removeOptimizedTransition(e){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions.splice(e,1)}};Rne([Nne.Override],Kg.prototype,"hashCode",null);Rne([Nne.Override],Kg.prototype,"equals",null);Rne([Nne.Override],Kg.prototype,"toString",null);Y5.ATNState=Kg;(function(n){n.INVALID_STATE_NUMBER=-1})(Kg=Y5.ATNState||(Y5.ATNState={}))});var _f=Ae(DD=>{"use strict";m();Object.defineProperty(DD,"__esModule",{value:!0});DD.ATNStateType=void 0;var _st;(function(n){n[n.INVALID_TYPE=0]="INVALID_TYPE",n[n.BASIC=1]="BASIC",n[n.RULE_START=2]="RULE_START",n[n.BLOCK_START=3]="BLOCK_START",n[n.PLUS_BLOCK_START=4]="PLUS_BLOCK_START",n[n.STAR_BLOCK_START=5]="STAR_BLOCK_START",n[n.TOKEN_START=6]="TOKEN_START",n[n.RULE_STOP=7]="RULE_STOP",n[n.BLOCK_END=8]="BLOCK_END",n[n.STAR_LOOP_BACK=9]="STAR_LOOP_BACK",n[n.STAR_LOOP_ENTRY=10]="STAR_LOOP_ENTRY",n[n.PLUS_LOOP_BACK=11]="PLUS_LOOP_BACK",n[n.LOOP_END=12]="LOOP_END"})(_st=DD.ATNStateType||(DD.ATNStateType={}))});var Jg=Ae(uq=>{"use strict";m();Object.defineProperty(uq,"__esModule",{value:!0});uq.RecognitionException=void 0;var W6e=class extends Error{constructor(e,t,r,i){super(i);this._offendingState=-1,this._recognizer=e,this.input=t,this.ctx=r,e&&(this._offendingState=e.state)}get offendingState(){return this._offendingState}setOffendingState(e){this._offendingState=e}get expectedTokens(){if(this._recognizer)return this._recognizer.atn.getExpectedTokens(this._offendingState,this.ctx)}get context(){return this.ctx}get inputStream(){return this.input}getOffendingToken(e){if(!(e&&e!==this._recognizer))return this.offendingToken}setOffendingToken(e,t){e===this._recognizer&&(this.offendingToken=t)}get recognizer(){return this._recognizer}};uq.RecognitionException=W6e});var Xg=Ae(K5=>{"use strict";m();var Q6e=K5&&K5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},bst=K5&&K5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(K5,"__esModule",{value:!0});K5.Transition=void 0;var G6e=wr(),OD=class{constructor(e){if(e==null)throw new Error("target cannot be null.");this.target=e}get isEpsilon(){return!1}get label(){}};OD.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"];Q6e([G6e.NotNull],OD.prototype,"target",void 0);OD=Q6e([bst(0,G6e.NotNull)],OD);K5.Transition=OD});var cq=Ae(lq=>{"use strict";m();Object.defineProperty(lq,"__esModule",{value:!0});lq.AbstractPredicateTransition=void 0;var Est=Xg(),Y6e=class extends Est.Transition{constructor(e){super(e)}};lq.AbstractPredicateTransition=Y6e});var Pl=Ae(RD=>{"use strict";m();Object.defineProperty(RD,"__esModule",{value:!0});RD.MurmurHash=void 0;var Sst;(function(n){let e=0;function t(a=e){return a}n.initialize=t;function r(a,l){let f=3432918353,p=461845907,_=15,E=13,O=5,R=3864292196;l==null?l=0:typeof l=="string"?l=o(l):typeof l=="object"&&(l=l.hashCode());let q=l;return q=Math.imul(q,f),q=q<<_|q>>>32-_,q=Math.imul(q,p),a=a^q,a=a<<E|a>>>32-E,a=Math.imul(a,O)+R,a&4294967295}n.update=r;function i(a,l){return a=a^l*4,a=a^a>>>16,a=Math.imul(a,2246822507),a=a^a>>>13,a=Math.imul(a,3266489909),a=a^a>>>16,a}n.finish=i;function s(a,l=e){let f=t(l),p=0;for(let _ of a)f=r(f,_),p++;return f=i(f,p),f}n.hashCode=s;function o(a){let l=a.length;if(l===0)return 0;let f=0;for(let p=0;p<l;p++){let _=a.charCodeAt(p);f=(f<<5>>>0)-f+_,f|=0}return f}})(Sst=RD.MurmurHash||(RD.MurmurHash={}))});var Am=Ae(iS=>{"use strict";m();var K6e=iS&&iS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(iS,"__esModule",{value:!0});iS.ObjectEqualityComparator=void 0;var J6e=wr(),rS=class{hashCode(e){return e==null?0:e.hashCode()}equals(e,t){return e==null?t==null:e.equals(t)}};rS.INSTANCE=new rS;K6e([J6e.Override],rS.prototype,"hashCode",null);K6e([J6e.Override],rS.prototype,"equals",null);iS.ObjectEqualityComparator=rS});var tbe=Ae(oS=>{"use strict";m();var X6e=oS&&oS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(oS,"__esModule",{value:!0});oS.DefaultEqualityComparator=void 0;var Z6e=wr(),wst=Pl(),ebe=Am(),sS=class{hashCode(e){return e==null?0:typeof e=="string"||typeof e=="number"?wst.MurmurHash.hashCode([e]):ebe.ObjectEqualityComparator.INSTANCE.hashCode(e)}equals(e,t){return e==null?t==null:typeof e=="string"||typeof e=="number"?e===t:ebe.ObjectEqualityComparator.INSTANCE.equals(e,t)}};sS.INSTANCE=new sS;X6e([Z6e.Override],sS.prototype,"hashCode",null);X6e([Z6e.Override],sS.prototype,"equals",null);oS.DefaultEqualityComparator=sS});var Zg=Ae(J5=>{"use strict";m();var M0=J5&&J5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Cst=J5&&J5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(J5,"__esModule",{value:!0});J5.Array2DHashSet=void 0;var Ast=I0(),Tst=tbe(),P0=wr(),Lne=Pl(),fq=16,kne=.75,Bl=class{constructor(e,t=fq){if(this.n=0,this.threshold=Math.floor(fq*kne),e instanceof Bl){this.comparator=e.comparator,this.buckets=e.buckets.slice(0);for(let r=0;r<this.buckets.length;r++){let i=this.buckets[r];i&&(this.buckets[r]=i.slice(0))}this.n=e.n,this.threshold=e.threshold}else this.comparator=e||Tst.DefaultEqualityComparator.INSTANCE,this.buckets=this.createBuckets(t)}getOrAdd(e){return this.n>this.threshold&&this.expand(),this.getOrAddImpl(e)}getOrAddImpl(e){let t=this.getBucket(e),r=this.buckets[t];if(!r)return r=[e],this.buckets[t]=r,this.n++,e;for(let i of r)if(this.comparator.equals(i,e))return i;return r.push(e),this.n++,e}get(e){if(e==null)return e;let t=this.getBucket(e),r=this.buckets[t];if(!!r){for(let i of r)if(this.comparator.equals(i,e))return i}}getBucket(e){return this.comparator.hashCode(e)&this.buckets.length-1}hashCode(){let e=Lne.MurmurHash.initialize();for(let t of this.buckets)if(t!=null)for(let r of t){if(r==null)break;e=Lne.MurmurHash.update(e,this.comparator.hashCode(r))}return e=Lne.MurmurHash.finish(e,this.size),e}equals(e){return e===this?!0:!(e instanceof Bl)||e.size!==this.size?!1:this.containsAll(e)}expand(){let e=this.buckets,t=this.buckets.length*2,r=this.createBuckets(t);this.buckets=r,this.threshold=Math.floor(t*kne);let i=this.size;for(let s of e)if(!!s)for(let o of s){let a=this.getBucket(o),l=this.buckets[a];l||(l=[],this.buckets[a]=l),l.push(o)}Ast(this.n===i)}add(e){return this.getOrAdd(e)===e}get size(){return this.n}get isEmpty(){return this.n===0}contains(e){return this.containsFast(this.asElementType(e))}containsFast(e){return e==null?!1:this.get(e)!=null}*[Symbol.iterator](){yield*this.toArray()}toArray(){let e=new Array(this.size),t=0;for(let r of this.buckets)if(r!=null)for(let i of r){if(i==null)break;e[t++]=i}return e}containsAll(e){if(e instanceof Bl){let t=e;for(let r of t.buckets)if(r!=null)for(let i of r){if(i==null)break;if(!this.containsFast(this.asElementType(i)))return!1}}else for(let t of e)if(!this.containsFast(this.asElementType(t)))return!1;return!0}addAll(e){let t=!1;for(let r of e)this.getOrAdd(r)!==r&&(t=!0);return t}clear(){this.buckets=this.createBuckets(fq),this.n=0,this.threshold=Math.floor(fq*kne)}toString(){if(this.size===0)return"{}";let e="{",t=!0;for(let r of this.buckets)if(r!=null)for(let i of r){if(i==null)break;t?t=!1:e+=", ",e+=i.toString()}return e+="}",e}toTableString(){let e="";for(let t of this.buckets){if(t==null){e+=`null
`;continue}e+="[";let r=!0;for(let i of t)r?r=!1:e+=" ",i==null?e+="_":e+=i.toString();e+=`]
`}return e}asElementType(e){return e}createBuckets(e){return new Array(e)}};M0([P0.NotNull],Bl.prototype,"comparator",void 0);M0([P0.Override],Bl.prototype,"hashCode",null);M0([P0.Override],Bl.prototype,"equals",null);M0([P0.Override],Bl.prototype,"add",null);M0([P0.Override],Bl.prototype,"size",null);M0([P0.Override],Bl.prototype,"isEmpty",null);M0([P0.Override],Bl.prototype,"contains",null);M0([Cst(0,P0.Nullable)],Bl.prototype,"containsFast",null);M0([P0.Override],Bl.prototype,Symbol.iterator,null);M0([P0.Override],Bl.prototype,"toArray",null);M0([P0.Override],Bl.prototype,"containsAll",null);M0([P0.Override],Bl.prototype,"addAll",null);M0([P0.Override],Bl.prototype,"clear",null);M0([P0.Override],Bl.prototype,"toString",null);M0([P0.SuppressWarnings("unchecked")],Bl.prototype,"asElementType",null);M0([P0.SuppressWarnings("unchecked")],Bl.prototype,"createBuckets",null);J5.Array2DHashSet=Bl});var ND=Ae(uS=>{"use strict";m();var nbe=uS&&uS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(uS,"__esModule",{value:!0});uS.ArrayEqualityComparator=void 0;var rbe=wr(),Fst=Pl(),Dst=Am(),aS=class{hashCode(e){return e==null?0:Fst.MurmurHash.hashCode(e,0)}equals(e,t){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Dst.ObjectEqualityComparator.INSTANCE.equals(e[r],t[r]))return!1;return!0}};aS.INSTANCE=new aS;nbe([rbe.Override],aS.prototype,"hashCode",null);nbe([rbe.Override],aS.prototype,"equals",null);uS.ArrayEqualityComparator=aS});var Tm=Ae(c1=>{"use strict";m();Object.defineProperty(c1,"__esModule",{value:!0});c1.toCharArray=c1.toMap=c1.equals=c1.join=c1.escapeWhitespace=void 0;function Ost(n,e){return e?n.replace(/ /,"\xB7"):n.replace(/\t/,"\\t").replace(/\n/,"\\n").replace(/\r/,"\\r")}c1.escapeWhitespace=Ost;function Rst(n,e){let t="",r=!0;for(let i of n)r?r=!1:t+=e,t+=i;return t}c1.join=Rst;function Nst(n,e){return n===e?!0:n===void 0||e===void 0?!1:n.equals(e)}c1.equals=Nst;function Lst(n){let e=new Map;for(let t=0;t<n.length;t++)e.set(n[t],t);return e}c1.toMap=Lst;function kst(n){if(typeof n=="string"){let e=new Uint16Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}else return n.toCharArray()}c1.toCharArray=kst});var E6=Ae(K2=>{"use strict";m();var Qu=K2&&K2.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},dq=K2&&K2.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(K2,"__esModule",{value:!0});K2.SemanticContext=void 0;var ibe=Zg(),sbe=ND(),b6=Pl(),au=wr(),obe=Am(),abe=Tm();function Ist(n){let e;for(let t of n){if(e===void 0){e=t;continue}e.compareTo(t)<0&&(e=t)}return e}function Mst(n){let e;for(let t of n){if(e===void 0){e=t;continue}e.compareTo(t)>0&&(e=t)}return e}var _d=class{static get NONE(){return _d._NONE===void 0&&(_d._NONE=new _d.Predicate),_d._NONE}evalPrecedence(e,t){return this}static and(e,t){if(!e||e===_d.NONE)return t;if(t===_d.NONE)return e;let r=new _d.AND(e,t);return r.opnds.length===1?r.opnds[0]:r}static or(e,t){if(!e)return t;if(e===_d.NONE||t===_d.NONE)return _d.NONE;let r=new _d.OR(e,t);return r.opnds.length===1?r.opnds[0]:r}};K2.SemanticContext=_d;(function(n){let e=40363613,t=486279973;function r(f){let p=[];for(let _=0;_<f.length;_++){let E=f[_];E instanceof n.PrecedencePredicate&&(p.push(E),f.splice(_,1),_--)}return p}class i extends n{constructor(p=-1,_=-1,E=!1){super();this.ruleIndex=p,this.predIndex=_,this.isCtxDependent=E}eval(p,_){let E=this.isCtxDependent?_:void 0;return p.sempred(E,this.ruleIndex,this.predIndex)}hashCode(){let p=b6.MurmurHash.initialize();return p=b6.MurmurHash.update(p,this.ruleIndex),p=b6.MurmurHash.update(p,this.predIndex),p=b6.MurmurHash.update(p,this.isCtxDependent?1:0),p=b6.MurmurHash.finish(p,3),p}equals(p){return p instanceof i?this===p?!0:this.ruleIndex===p.ruleIndex&&this.predIndex===p.predIndex&&this.isCtxDependent===p.isCtxDependent:!1}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}Qu([au.Override],i.prototype,"eval",null),Qu([au.Override],i.prototype,"hashCode",null),Qu([au.Override],i.prototype,"equals",null),Qu([au.Override],i.prototype,"toString",null),n.Predicate=i;class s extends n{constructor(p){super();this.precedence=p}eval(p,_){return p.precpred(_,this.precedence)}evalPrecedence(p,_){if(p.precpred(_,this.precedence))return n.NONE}compareTo(p){return this.precedence-p.precedence}hashCode(){let p=1;return p=31*p+this.precedence,p}equals(p){return p instanceof s?this===p?!0:this.precedence===p.precedence:!1}toString(){return"{"+this.precedence+">=prec}?"}}Qu([au.Override],s.prototype,"eval",null),Qu([au.Override],s.prototype,"evalPrecedence",null),Qu([au.Override],s.prototype,"compareTo",null),Qu([au.Override],s.prototype,"hashCode",null),Qu([au.Override],s.prototype,"equals",null),Qu([au.Override],s.prototype,"toString",null),n.PrecedencePredicate=s;class o extends n{}n.Operator=o;let a=class hq extends o{constructor(p,_){super();let E=new ibe.Array2DHashSet(obe.ObjectEqualityComparator.INSTANCE);p instanceof hq?E.addAll(p.opnds):E.add(p),_ instanceof hq?E.addAll(_.opnds):E.add(_),this.opnds=E.toArray();let O=r(this.opnds),R=Mst(O);R&&this.opnds.push(R)}get operands(){return this.opnds}equals(p){return this===p?!0:p instanceof hq?sbe.ArrayEqualityComparator.INSTANCE.equals(this.opnds,p.opnds):!1}hashCode(){return b6.MurmurHash.hashCode(this.opnds,e)}eval(p,_){for(let E of this.opnds)if(!E.eval(p,_))return!1;return!0}evalPrecedence(p,_){let E=!1,O=[];for(let q of this.opnds){let z=q.evalPrecedence(p,_);if(E=E||z!==q,z==null)return;z!==n.NONE&&O.push(z)}if(!E)return this;if(O.length===0)return n.NONE;let R=O[0];for(let q=1;q<O.length;q++)R=n.and(R,O[q]);return R}toString(){return abe.join(this.opnds,"&&")}};Qu([au.Override],a.prototype,"operands",null),Qu([au.Override],a.prototype,"equals",null),Qu([au.Override],a.prototype,"hashCode",null),Qu([au.Override],a.prototype,"eval",null),Qu([au.Override],a.prototype,"evalPrecedence",null),Qu([au.Override],a.prototype,"toString",null),a=Qu([dq(0,au.NotNull),dq(1,au.NotNull)],a),n.AND=a;let l=class pq extends o{constructor(p,_){super();let E=new ibe.Array2DHashSet(obe.ObjectEqualityComparator.INSTANCE);p instanceof pq?E.addAll(p.opnds):E.add(p),_ instanceof pq?E.addAll(_.opnds):E.add(_),this.opnds=E.toArray();let O=r(this.opnds),R=Ist(O);R&&this.opnds.push(R)}get operands(){return this.opnds}equals(p){return this===p?!0:p instanceof pq?sbe.ArrayEqualityComparator.INSTANCE.equals(this.opnds,p.opnds):!1}hashCode(){return b6.MurmurHash.hashCode(this.opnds,t)}eval(p,_){for(let E of this.opnds)if(E.eval(p,_))return!0;return!1}evalPrecedence(p,_){let E=!1,O=[];for(let q of this.opnds){let z=q.evalPrecedence(p,_);if(E=E||z!==q,z===n.NONE)return n.NONE;z&&O.push(z)}if(!E)return this;if(O.length===0)return;let R=O[0];for(let q=1;q<O.length;q++)R=n.or(R,O[q]);return R}toString(){return abe.join(this.opnds,"||")}};Qu([au.Override],l.prototype,"operands",null),Qu([au.Override],l.prototype,"equals",null),Qu([au.Override],l.prototype,"hashCode",null),Qu([au.Override],l.prototype,"eval",null),Qu([au.Override],l.prototype,"evalPrecedence",null),Qu([au.Override],l.prototype,"toString",null),l=Qu([dq(0,au.NotNull),dq(1,au.NotNull)],l),n.OR=l})(_d=K2.SemanticContext||(K2.SemanticContext={}))});var Ine=Ae(X5=>{"use strict";m();var LD=X5&&X5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Pst=X5&&X5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(X5,"__esModule",{value:!0});X5.PredicateTransition=void 0;var Bst=cq(),lS=wr(),jst=E6(),S6=class extends Bst.AbstractPredicateTransition{constructor(e,t,r,i){super(e);this.ruleIndex=t,this.predIndex=r,this.isCtxDependent=i}get serializationType(){return 4}get isEpsilon(){return!0}matches(e,t,r){return!1}get predicate(){return new jst.SemanticContext.Predicate(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}};LD([lS.Override],S6.prototype,"serializationType",null);LD([lS.Override],S6.prototype,"isEpsilon",null);LD([lS.Override],S6.prototype,"matches",null);LD([lS.Override,lS.NotNull],S6.prototype,"toString",null);S6=LD([Pst(0,lS.NotNull)],S6);X5.PredicateTransition=S6});var kD=Ae(Z5=>{"use strict";m();var ube=Z5&&Z5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},qst=Z5&&Z5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Z5,"__esModule",{value:!0});Z5.FailedPredicateException=void 0;var Ust=Jg(),lbe=wr(),$st=Ine(),mq=class cbe extends Ust.RecognitionException{constructor(e,t,r){super(e,e.inputStream,e.context,cbe.formatMessage(t,r));let s=e.interpreter.atn.states[e.state].transition(0);s instanceof $st.PredicateTransition?(this._ruleIndex=s.ruleIndex,this._predicateIndex=s.predIndex):(this._ruleIndex=0,this._predicateIndex=0),this._predicate=t,super.setOffendingToken(e,e.currentToken)}get ruleIndex(){return this._ruleIndex}get predicateIndex(){return this._predicateIndex}get predicate(){return this._predicate}static formatMessage(e,t){return t||`failed predicate: {${e}}?`}};ube([lbe.NotNull],mq,"formatMessage",null);mq=ube([qst(0,lbe.NotNull)],mq);Z5.FailedPredicateException=mq});var ID=Ae(ev=>{"use strict";m();var zst=ev&&ev.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Hst=ev&&ev.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(ev,"__esModule",{value:!0});ev.InputMismatchException=void 0;var Vst=Jg(),Wst=wr(),Mne=class extends Vst.RecognitionException{constructor(e,t,r){r===void 0&&(r=e.context);super(e,e.inputStream,r);t!==void 0&&this.setOffendingState(t),this.setOffendingToken(e,e.currentToken)}};Mne=zst([Hst(0,Wst.NotNull)],Mne);ev.InputMismatchException=Mne});var xq=Ae(MD=>{"use strict";m();Object.defineProperty(MD,"__esModule",{value:!0});MD.Arrays=void 0;var Qst;(function(n){function e(i,s,o,a){return t(i,o!==void 0?o:0,a!==void 0?a:i.length,s)}n.binarySearch=e;function t(i,s,o,a){let l=s,f=o-1;for(;l<=f;){let p=l+f>>>1,_=i[p];if(_<a)l=p+1;else if(_>a)f=p-1;else return p}return-(l+1)}function r(i){let s="[",o=!0;for(let a of i)o?o=!1:s+=", ",a===null?s+="null":a===void 0?s+="undefined":s+=a;return s+="]",s}n.toString=r})(Qst=MD.Arrays||(MD.Arrays={}))});var vq=Ae(cS=>{"use strict";m();var gq=cS&&cS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(cS,"__esModule",{value:!0});cS.IntegerList=void 0;var Gst=xq(),yq=wr(),Pne=new Int32Array(0),Yst=4,Bne=(1<<31>>>0)-1-8,J2=class{constructor(e){if(!e)this._data=Pne,this._size=0;else if(e instanceof J2)this._data=e._data.slice(0),this._size=e._size;else if(typeof e=="number")e===0?(this._data=Pne,this._size=0):(this._data=new Int32Array(e),this._size=0);else{this._data=Pne,this._size=0;for(let t of e)this.add(t)}}add(e){this._data.length===this._size&&this.ensureCapacity(this._size+1),this._data[this._size]=e,this._size++}addAll(e){if(Array.isArray(e))this.ensureCapacity(this._size+e.length),this._data.subarray(this._size,this._size+e.length).set(e),this._size+=e.length;else if(e instanceof J2)this.ensureCapacity(this._size+e._size),this._data.subarray(this._size,this._size+e.size).set(e._data),this._size+=e._size;else{this.ensureCapacity(this._size+e.size);let t=0;for(let r of e)this._data[this._size+t]=r,t++;this._size+=e.size}}get(e){if(e<0||e>=this._size)throw RangeError();return this._data[e]}contains(e){for(let t=0;t<this._size;t++)if(this._data[t]===e)return!0;return!1}set(e,t){if(e<0||e>=this._size)throw RangeError();let r=this._data[e];return this._data[e]=t,r}removeAt(e){let t=this.get(e);return this._data.copyWithin(e,e+1,this._size),this._data[this._size-1]=0,this._size--,t}removeRange(e,t){if(e<0||t<0||e>this._size||t>this._size||e>t)throw RangeError();this._data.copyWithin(t,e,this._size),this._data.fill(0,this._size-(t-e),this._size),this._size-=t-e}get isEmpty(){return this._size===0}get size(){return this._size}trimToSize(){this._data.length!==this._size&&(this._data=this._data.slice(0,this._size))}clear(){this._data.fill(0,0,this._size),this._size=0}toArray(){return this._size===0?[]:Array.from(this._data.subarray(0,this._size))}sort(){this._data.subarray(0,this._size).sort()}equals(e){if(e===this)return!0;if(!(e instanceof J2)||this._size!==e._size)return!1;for(let t=0;t<this._size;t++)if(this._data[t]!==e._data[t])return!1;return!0}hashCode(){let e=1;for(let t=0;t<this._size;t++)e=31*e+this._data[t];return e}toString(){return this._data.toString()}binarySearch(e,t,r){if(t===void 0&&(t=0),r===void 0&&(r=this._size),t<0||r<0||t>this._size||r>this._size)throw new RangeError;if(t>r)throw new RangeError;return Gst.Arrays.binarySearch(this._data,e,t,r)}ensureCapacity(e){if(e<0||e>Bne)throw new RangeError;let t;for(this._data.length===0?t=Yst:t=this._data.length;t<e;)t=t*2,(t<0||t>Bne)&&(t=Bne);let r=new Int32Array(t);r.set(this._data),this._data=r}toCharArray(){let e=new Uint16Array(this._size),t=0,r=!1;for(let i=0;i<this._size;i++){let s=this._data[i];if(s>=0&&s<65536){e[t]=s,t++;continue}if(!r){let a=new Uint16Array(this.charArraySize());a.set(e,0),e=a,r=!0}let o=String.fromCodePoint(s);e[t]=o.charCodeAt(0),e[t+1]=o.charCodeAt(1),t+=2}return e}charArraySize(){let e=0;for(let t=0;t<this._size;t++)e+=this._data[t]>=65536?2:1;return e}};gq([yq.NotNull],J2.prototype,"_data",void 0);gq([yq.Override],J2.prototype,"equals",null);gq([yq.Override],J2.prototype,"hashCode",null);gq([yq.Override],J2.prototype,"toString",null);cS.IntegerList=J2});var B0=Ae(fS=>{"use strict";m();var jne=fS&&fS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(fS,"__esModule",{value:!0});fS.Interval=void 0;var qne=wr(),fbe=1e3,Ec=class{constructor(e,t){this.a=e,this.b=t}static get INVALID(){return Ec._INVALID}static of(e,t){return e!==t||e<0||e>fbe?new Ec(e,t):(Ec.cache[e]==null&&(Ec.cache[e]=new Ec(e,e)),Ec.cache[e])}get length(){return this.b<this.a?0:this.b-this.a+1}equals(e){return e===this?!0:e instanceof Ec?this.a===e.a&&this.b===e.b:!1}hashCode(){let e=23;return e=e*31+this.a,e=e*31+this.b,e}startsBeforeDisjoint(e){return this.a<e.a&&this.b<e.a}startsBeforeNonDisjoint(e){return this.a<=e.a&&this.b>=e.a}startsAfter(e){return this.a>e.a}startsAfterDisjoint(e){return this.a>e.b}startsAfterNonDisjoint(e){return this.a>e.a&&this.a<=e.b}disjoint(e){return this.startsBeforeDisjoint(e)||this.startsAfterDisjoint(e)}adjacent(e){return this.a===e.b+1||this.b===e.a-1}properlyContains(e){return e.a>=this.a&&e.b<=this.b}union(e){return Ec.of(Math.min(this.a,e.a),Math.max(this.b,e.b))}intersection(e){return Ec.of(Math.max(this.a,e.a),Math.min(this.b,e.b))}differenceNotProperlyContained(e){let t;return e.startsBeforeNonDisjoint(this)?t=Ec.of(Math.max(this.a,e.b+1),this.b):e.startsAfterNonDisjoint(this)&&(t=Ec.of(this.a,e.a-1)),t}toString(){return this.a+".."+this.b}};Ec._INVALID=new Ec(-1,-2);Ec.cache=new Array(fbe+1);jne([qne.Override],Ec.prototype,"equals",null);jne([qne.Override],Ec.prototype,"hashCode",null);jne([qne.Override],Ec.prototype,"toString",null);fS.Interval=Ec});var uu=Ae(PD=>{"use strict";m();Object.defineProperty(PD,"__esModule",{value:!0});PD.Token=void 0;var Kst=Yg(),Jst;(function(n){n.INVALID_TYPE=0,n.EPSILON=-2,n.MIN_USER_TOKEN_TYPE=1,n.EOF=Kst.IntStream.EOF,n.DEFAULT_CHANNEL=0,n.HIDDEN_CHANNEL=1,n.MIN_USER_CHANNEL_VALUE=2})(Jst=PD.Token||(PD.Token={}))});var dS=Ae(tv=>{"use strict";m();var mh=tv&&tv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},dbe=tv&&tv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(tv,"__esModule",{value:!0});tv.CommonToken=void 0;var Xst=B0(),xh=wr(),hbe=uu(),Kf=class BD{constructor(e,t,r=BD.EMPTY_SOURCE,i=hbe.Token.DEFAULT_CHANNEL,s=0,o=0){this._line=0,this._charPositionInLine=-1,this._channel=hbe.Token.DEFAULT_CHANNEL,this.index=-1,this._text=t,this._type=e,this.source=r,this._channel=i,this.start=s,this.stop=o,r.source!=null&&(this._line=r.source.line,this._charPositionInLine=r.source.charPositionInLine)}static fromToken(e){let t=new BD(e.type,void 0,BD.EMPTY_SOURCE,e.channel,e.startIndex,e.stopIndex);return t._line=e.line,t.index=e.tokenIndex,t._charPositionInLine=e.charPositionInLine,e instanceof BD?(t._text=e._text,t.source=e.source):(t._text=e.text,t.source={source:e.tokenSource,stream:e.inputStream}),t}get type(){return this._type}set type(e){this._type=e}get line(){return this._line}set line(e){this._line=e}get text(){if(this._text!=null)return this._text;let e=this.inputStream;if(e==null)return;let t=e.size;return this.start<t&&this.stop<t?e.getText(Xst.Interval.of(this.start,this.stop)):"<EOF>"}set text(e){this._text=e}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(e){this._charPositionInLine=e}get channel(){return this._channel}set channel(e){this._channel=e}get startIndex(){return this.start}set startIndex(e){this.start=e}get stopIndex(){return this.stop}set stopIndex(e){this.stop=e}get tokenIndex(){return this.index}set tokenIndex(e){this.index=e}get tokenSource(){return this.source.source}get inputStream(){return this.source.stream}toString(e){let t="";this._channel>0&&(t=",channel="+this._channel);let r=this.text;r!=null?(r=r.replace(/\n/g,"\\n"),r=r.replace(/\r/g,"\\r"),r=r.replace(/\t/g,"\\t")):r="<no text>";let i=String(this._type);return e&&(i=e.vocabulary.getDisplayName(this._type)),"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+r+"',<"+i+">"+t+","+this._line+":"+this.charPositionInLine+"]"}};Kf.EMPTY_SOURCE={source:void 0,stream:void 0};mh([xh.NotNull],Kf.prototype,"source",void 0);mh([xh.Override],Kf.prototype,"type",null);mh([xh.Override],Kf.prototype,"line",null);mh([xh.Override],Kf.prototype,"text",null);mh([xh.Override],Kf.prototype,"charPositionInLine",null);mh([xh.Override],Kf.prototype,"channel",null);mh([xh.Override],Kf.prototype,"startIndex",null);mh([xh.Override],Kf.prototype,"stopIndex",null);mh([xh.Override],Kf.prototype,"tokenIndex",null);mh([xh.Override],Kf.prototype,"tokenSource",null);mh([xh.Override],Kf.prototype,"inputStream",null);mh([xh.Override],Kf.prototype,"toString",null);mh([dbe(0,xh.NotNull)],Kf,"fromToken",null);Kf=mh([dbe(2,xh.NotNull)],Kf);tv.CommonToken=Kf});var _q=Ae(nv=>{"use strict";m();var pbe=nv&&nv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(nv,"__esModule",{value:!0});nv.CommonTokenFactory=void 0;var mbe=dS(),Zst=B0(),xbe=wr(),jD=class{constructor(e=!1){this.copyText=e}create(e,t,r,i,s,o,a,l){let f=new mbe.CommonToken(t,r,e,i,s,o);return f.line=a,f.charPositionInLine=l,r==null&&this.copyText&&e.stream!=null&&(f.text=e.stream.getText(Zst.Interval.of(s,o))),f}createSimple(e,t){return new mbe.CommonToken(e,t)}};pbe([xbe.Override],jD.prototype,"create",null);pbe([xbe.Override],jD.prototype,"createSimple",null);nv.CommonTokenFactory=jD;(function(n){n.DEFAULT=new n})(jD=nv.CommonTokenFactory||(nv.CommonTokenFactory={}))});var Une=Ae(bq=>{"use strict";m();Object.defineProperty(bq,"__esModule",{value:!0});bq.IntegerStack=void 0;var eot=vq(),gbe=class extends eot.IntegerList{constructor(e){super(e)}push(e){this.add(e)}pop(){return this.removeAt(this.size-1)}peek(){return this.get(this.size-1)}};bq.IntegerStack=gbe});var $ne=Ae(Eq=>{"use strict";m();Object.defineProperty(Eq,"__esModule",{value:!0});Eq.AcceptStateInfo=void 0;var ybe=class{constructor(e,t){this._prediction=e,this._lexerActionExecutor=t}get prediction(){return this._prediction}get lexerActionExecutor(){return this._lexerActionExecutor}};Eq.AcceptStateInfo=ybe});var w6=Ae(Sq=>{"use strict";m();Object.defineProperty(Sq,"__esModule",{value:!0});Sq.Array2DHashMap=void 0;var vbe=Zg(),_be=class{constructor(e){this.keyComparator=e}hashCode(e){return this.keyComparator.hashCode(e.key)}equals(e,t){return this.keyComparator.equals(e.key,t.key)}},qD=class{constructor(e){e instanceof qD?this.backingStore=new vbe.Array2DHashSet(e.backingStore):this.backingStore=new vbe.Array2DHashSet(new _be(e))}clear(){this.backingStore.clear()}containsKey(e){return this.backingStore.contains({key:e})}get(e){let t=this.backingStore.get({key:e});if(!!t)return t.value}get isEmpty(){return this.backingStore.isEmpty}put(e,t){let r=this.backingStore.get({key:e,value:t}),i;return r?(i=r.value,r.value=t):this.backingStore.add({key:e,value:t}),i}putIfAbsent(e,t){let r=this.backingStore.get({key:e,value:t}),i;return r?i=r.value:this.backingStore.add({key:e,value:t}),i}get size(){return this.backingStore.size}hashCode(){return this.backingStore.hashCode()}equals(e){return e instanceof qD?this.backingStore.equals(e.backingStore):!1}};Sq.Array2DHashMap=qD});var rv=Ae(wq=>{"use strict";m();Object.defineProperty(wq,"__esModule",{value:!0});wq.DecisionState=void 0;var tot=Y2(),bbe=class extends tot.ATNState{constructor(){super(...arguments);this.decision=-1,this.nonGreedy=!1,this.sll=!1}};wq.DecisionState=bbe});var Tq=Ae(sv=>{"use strict";m();var Cq=sv&&sv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(sv,"__esModule",{value:!0});sv.PredictionContextCache=void 0;var zne=w6(),Aq=wr(),Hne=Am(),Ebe=f1(),Sbe=I0(),iv=class{constructor(e=!0){this.contexts=new zne.Array2DHashMap(Hne.ObjectEqualityComparator.INSTANCE),this.childContexts=new zne.Array2DHashMap(Hne.ObjectEqualityComparator.INSTANCE),this.joinContexts=new zne.Array2DHashMap(Hne.ObjectEqualityComparator.INSTANCE),this.enableCache=e}getAsCached(e){if(!this.enableCache)return e;let t=this.contexts.get(e);return t||(t=e,this.contexts.put(e,e)),t}getChild(e,t){if(!this.enableCache)return e.getChild(t);let r=new iv.PredictionContextAndInt(e,t),i=this.childContexts.get(r);return i||(i=e.getChild(t),i=this.getAsCached(i),this.childContexts.put(r,i)),i}join(e,t){if(!this.enableCache)return Ebe.PredictionContext.join(e,t,this);let r=new iv.IdentityCommutativePredictionContextOperands(e,t),i=this.joinContexts.get(r);return i||(i=Ebe.PredictionContext.join(e,t,this),i=this.getAsCached(i),this.joinContexts.put(r,i),i)}};sv.PredictionContextCache=iv;iv.UNCACHED=new iv(!1);(function(n){class e{constructor(i,s){this.obj=i,this.value=s}equals(i){if(i instanceof e){if(i===this)return!0}else return!1;let s=i;return this.value===s.value&&(this.obj===s.obj||this.obj!=null&&this.obj.equals(s.obj))}hashCode(){let i=5;return i=7*i+(this.obj!=null?this.obj.hashCode():0),i=7*i+this.value,i}}Cq([Aq.Override],e.prototype,"equals",null),Cq([Aq.Override],e.prototype,"hashCode",null),n.PredictionContextAndInt=e;class t{constructor(i,s){Sbe(i!=null),Sbe(s!=null),this._x=i,this._y=s}get x(){return this._x}get y(){return this._y}equals(i){if(i instanceof t){if(this===i)return!0}else return!1;let s=i;return this._x===s._x&&this._y===s._y||this._x===s._y&&this._y===s._x}hashCode(){return this._x.hashCode()^this._y.hashCode()}}Cq([Aq.Override],t.prototype,"equals",null),Cq([Aq.Override],t.prototype,"hashCode",null),n.IdentityCommutativePredictionContextOperands=t})(iv=sv.PredictionContextCache||(sv.PredictionContextCache={}))});var f1=Ae(d1=>{"use strict";m();var yo=d1&&d1.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},ov=d1&&d1.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(d1,"__esModule",{value:!0});d1.SingletonPredictionContext=d1.PredictionContext=void 0;var not=w6(),rot=Zg(),iot=xq(),X2=Pl(),Qs=wr(),wbe=Tq(),Fq=I0(),Vne=1,Io=class{constructor(e){this.cachedHashCode=e}static calculateEmptyHashCode(){let e=X2.MurmurHash.initialize(Vne);return e=X2.MurmurHash.finish(e,0),e}static calculateSingleHashCode(e,t){let r=X2.MurmurHash.initialize(Vne);return r=X2.MurmurHash.update(r,e),r=X2.MurmurHash.update(r,t),r=X2.MurmurHash.finish(r,2),r}static calculateHashCode(e,t){let r=X2.MurmurHash.initialize(Vne);for(let i of e)r=X2.MurmurHash.update(r,i);for(let i of t)r=X2.MurmurHash.update(r,i);return r=X2.MurmurHash.finish(r,2*e.length),r}static fromRuleContext(e,t,r=!0){if(t.isEmpty)return r?Io.EMPTY_FULL:Io.EMPTY_LOCAL;let i;t._parent?i=Io.fromRuleContext(e,t._parent,r):i=r?Io.EMPTY_FULL:Io.EMPTY_LOCAL;let o=e.states[t.invokingState].transition(0);return i.getChild(o.followState.stateNumber)}static addEmptyContext(e){return e.addEmptyContext()}static removeEmptyContext(e){return e.removeEmptyContext()}static join(e,t,r=wbe.PredictionContextCache.UNCACHED){if(e===t)return e;if(e.isEmpty)return Io.isEmptyLocal(e)?e:Io.addEmptyContext(t);if(t.isEmpty)return Io.isEmptyLocal(t)?t:Io.addEmptyContext(e);let i=e.size,s=t.size;if(i===1&&s===1&&e.getReturnState(0)===t.getReturnState(0)){let O=r.join(e.getParent(0),t.getParent(0));return O===e.getParent(0)?e:O===t.getParent(0)?t:O.getChild(e.getReturnState(0))}let o=0,a=new Array(i+s),l=new Array(a.length),f=0,p=0,_=!0,E=!0;for(;f<i&&p<s;)e.getReturnState(f)===t.getReturnState(p)?(a[o]=r.join(e.getParent(f),t.getParent(p)),l[o]=e.getReturnState(f),_=_&&a[o]===e.getParent(f),E=E&&a[o]===t.getParent(p),f++,p++):e.getReturnState(f)<t.getReturnState(p)?(a[o]=e.getParent(f),l[o]=e.getReturnState(f),E=!1,f++):(Fq(t.getReturnState(p)<e.getReturnState(f)),a[o]=t.getParent(p),l[o]=t.getReturnState(p),_=!1,p++),o++;for(;f<i;)a[o]=e.getParent(f),l[o]=e.getReturnState(f),f++,E=!1,o++;for(;p<s;)a[o]=t.getParent(p),l[o]=t.getReturnState(p),p++,_=!1,o++;return _?e:E?t:(o<a.length&&(a=a.slice(0,o),l=l.slice(0,o)),a.length===0?Io.EMPTY_FULL:a.length===1?new Qc(a[0],l[0]):new Jf(a,l))}static isEmptyLocal(e){return e===Io.EMPTY_LOCAL}static getCachedContext(e,t,r){if(e.isEmpty)return e;let i=r.get(e);if(i)return i;if(i=t.get(e),i)return r.put(e,i),i;let s=!1,o=new Array(e.size);for(let l=0;l<o.length;l++){let f=Io.getCachedContext(e.getParent(l),t,r);if(s||f!==e.getParent(l)){if(!s){o=new Array(e.size);for(let p=0;p<e.size;p++)o[p]=e.getParent(p);s=!0}o[l]=f}}if(!s)return i=t.putIfAbsent(e,e),r.put(e,i??e),e;let a;if(o.length===1)a=new Qc(o[0],e.getReturnState(0));else{let l=new Array(e.size);for(let f=0;f<e.size;f++)l[f]=e.getReturnState(f);a=new Jf(o,l,e.hashCode())}return i=t.putIfAbsent(a,a),r.put(a,i||a),r.put(e,i||a),a}appendSingleContext(e,t){return this.appendContext(Io.EMPTY_FULL.getChild(e),t)}getChild(e){return new Qc(this,e)}hashCode(){return this.cachedHashCode}toStrings(e,t,r=Io.EMPTY_FULL){let i=[];e:for(let s=0;;s++){let o=0,a=!0,l=this,f=t,p="";for(p+="[";!l.isEmpty&&l!==r;){let _=0;if(l.size>0){let E=1;for(;1<<E>>>0<l.size;)E++;let O=(1<<E>>>0)-1;if(_=s>>o&O,a=a&&_>=l.size-1,_>=l.size)continue e;o+=E}if(e){p.length>1&&(p+=" ");let O=e.atn.states[f];p+=e.ruleNames[O.ruleIndex]}else l.getReturnState(_)!==Io.EMPTY_FULL_STATE_KEY&&(l.isEmpty||(p.length>1&&(p+=" "),p+=l.getReturnState(_)));f=l.getReturnState(_),l=l.getParent(_)}if(p+="]",i.push(p),a)break}return i}};yo([Qs.Override],Io.prototype,"hashCode",null);yo([ov(0,Qs.NotNull),ov(1,Qs.NotNull),ov(2,Qs.NotNull)],Io,"join",null);yo([ov(0,Qs.NotNull),ov(1,Qs.NotNull),ov(2,Qs.NotNull)],Io,"getCachedContext",null);d1.PredictionContext=Io;var bd=class extends Io{constructor(e){super(Io.calculateEmptyHashCode());this.fullContext=e}get isFullContext(){return this.fullContext}addEmptyContext(){return this}removeEmptyContext(){throw new Error("Cannot remove the empty context from itself.")}getParent(e){throw new Error("index out of bounds")}getReturnState(e){throw new Error("index out of bounds")}findReturnState(e){return-1}get size(){return 0}appendSingleContext(e,t){return t.getChild(this,e)}appendContext(e,t){return e}get isEmpty(){return!0}get hasEmpty(){return!0}equals(e){return this===e}toStrings(e,t,r){return["[]"]}};yo([Qs.Override],bd.prototype,"addEmptyContext",null);yo([Qs.Override],bd.prototype,"removeEmptyContext",null);yo([Qs.Override],bd.prototype,"getParent",null);yo([Qs.Override],bd.prototype,"getReturnState",null);yo([Qs.Override],bd.prototype,"findReturnState",null);yo([Qs.Override],bd.prototype,"size",null);yo([Qs.Override],bd.prototype,"appendSingleContext",null);yo([Qs.Override],bd.prototype,"appendContext",null);yo([Qs.Override],bd.prototype,"isEmpty",null);yo([Qs.Override],bd.prototype,"hasEmpty",null);yo([Qs.Override],bd.prototype,"equals",null);yo([Qs.Override],bd.prototype,"toStrings",null);var Jf=class C6 extends Io{constructor(e,t,r){super(r||Io.calculateHashCode(e,t));Fq(e.length===t.length),Fq(t.length>1||t[0]!==Io.EMPTY_FULL_STATE_KEY,"Should be using PredictionContext.EMPTY instead."),this.parents=e,this.returnStates=t}getParent(e){return this.parents[e]}getReturnState(e){return this.returnStates[e]}findReturnState(e){return iot.Arrays.binarySearch(this.returnStates,e)}get size(){return this.returnStates.length}get isEmpty(){return!1}get hasEmpty(){return this.returnStates[this.returnStates.length-1]===Io.EMPTY_FULL_STATE_KEY}addEmptyContext(){if(this.hasEmpty)return this;let e=this.parents.slice(0),t=this.returnStates.slice(0);return e.push(Io.EMPTY_FULL),t.push(Io.EMPTY_FULL_STATE_KEY),new C6(e,t)}removeEmptyContext(){if(!this.hasEmpty)return this;if(this.returnStates.length===2)return new Qc(this.parents[0],this.returnStates[0]);{let e=this.parents.slice(0,this.parents.length-1),t=this.returnStates.slice(0,this.returnStates.length-1);return new C6(e,t)}}appendContext(e,t){return C6.appendContextImpl(this,e,new Io.IdentityHashMap)}static appendContextImpl(e,t,r){if(t.isEmpty){if(Io.isEmptyLocal(t)){if(e.hasEmpty)return Io.EMPTY_LOCAL;throw new Error("what to do here?")}return e}if(t.size!==1)throw new Error("Appending a tree suffix is not yet supported.");let i=r.get(e);if(!i){if(e.isEmpty)i=t;else{let s=e.size;e.hasEmpty&&s--;let o=new Array(s),a=new Array(s);for(let l=0;l<s;l++)a[l]=e.getReturnState(l);for(let l=0;l<s;l++)o[l]=C6.appendContextImpl(e.getParent(l),t,r);o.length===1?i=new Qc(o[0],a[0]):(Fq(o.length>1),i=new C6(o,a)),e.hasEmpty&&(i=Io.join(i,t))}r.put(e,i)}return i}equals(e){if(this===e)return!0;if(!(e instanceof C6)||this.hashCode()!==e.hashCode())return!1;let t=e;return this.equalsImpl(t,new rot.Array2DHashSet)}equalsImpl(e,t){let r=[],i=[];for(r.push(this),i.push(e);;){let s=r.pop(),o=i.pop();if(!s||!o)break;let a=new wbe.PredictionContextCache.IdentityCommutativePredictionContextOperands(s,o);if(!t.add(a))continue;let l=a.x.size;if(l===0){if(!a.x.equals(a.y))return!1;continue}let f=a.y.size;if(l!==f)return!1;for(let p=0;p<l;p++){if(a.x.getReturnState(p)!==a.y.getReturnState(p))return!1;let _=a.x.getParent(p),E=a.y.getParent(p);if(_.hashCode()!==E.hashCode())return!1;_!==E&&(r.push(_),i.push(E))}}return!0}};yo([Qs.NotNull],Jf.prototype,"parents",void 0);yo([Qs.NotNull],Jf.prototype,"returnStates",void 0);yo([Qs.Override],Jf.prototype,"getParent",null);yo([Qs.Override],Jf.prototype,"getReturnState",null);yo([Qs.Override],Jf.prototype,"findReturnState",null);yo([Qs.Override],Jf.prototype,"size",null);yo([Qs.Override],Jf.prototype,"isEmpty",null);yo([Qs.Override],Jf.prototype,"hasEmpty",null);yo([Qs.Override],Jf.prototype,"addEmptyContext",null);yo([Qs.Override],Jf.prototype,"removeEmptyContext",null);yo([Qs.Override],Jf.prototype,"appendContext",null);yo([Qs.Override],Jf.prototype,"equals",null);Jf=yo([ov(0,Qs.NotNull)],Jf);var Qc=class Cbe extends Io{constructor(e,t){super(Io.calculateSingleHashCode(e,t));this.parent=e,this.returnState=t}getParent(e){return this.parent}getReturnState(e){return this.returnState}findReturnState(e){return this.returnState===e?0:-1}get size(){return 1}get isEmpty(){return!1}get hasEmpty(){return!1}appendContext(e,t){return t.getChild(this.parent.appendContext(e,t),this.returnState)}addEmptyContext(){let e=[this.parent,Io.EMPTY_FULL],t=[this.returnState,Io.EMPTY_FULL_STATE_KEY];return new Jf(e,t)}removeEmptyContext(){return this}equals(e){if(e===this)return!0;if(!(e instanceof Cbe))return!1;let t=e;return this.hashCode()!==t.hashCode()?!1:this.returnState===t.returnState&&this.parent.equals(t.parent)}};yo([Qs.NotNull],Qc.prototype,"parent",void 0);yo([Qs.Override],Qc.prototype,"getParent",null);yo([Qs.Override],Qc.prototype,"getReturnState",null);yo([Qs.Override],Qc.prototype,"findReturnState",null);yo([Qs.Override],Qc.prototype,"size",null);yo([Qs.Override],Qc.prototype,"isEmpty",null);yo([Qs.Override],Qc.prototype,"hasEmpty",null);yo([Qs.Override],Qc.prototype,"appendContext",null);yo([Qs.Override],Qc.prototype,"addEmptyContext",null);yo([Qs.Override],Qc.prototype,"removeEmptyContext",null);yo([Qs.Override],Qc.prototype,"equals",null);Qc=yo([ov(0,Qs.NotNull)],Qc);d1.SingletonPredictionContext=Qc;(function(n){n.EMPTY_LOCAL=new bd(!1),n.EMPTY_FULL=new bd(!0),n.EMPTY_LOCAL_STATE_KEY=-(1<<31>>>0),n.EMPTY_FULL_STATE_KEY=(1<<31>>>0)-1;class e extends not.Array2DHashMap{constructor(){super(t.INSTANCE)}}n.IdentityHashMap=e;class t{IdentityEqualityComparator(){}hashCode(i){return i.hashCode()}equals(i,s){return i===s}}t.INSTANCE=new t,yo([Qs.Override],t.prototype,"hashCode",null),yo([Qs.Override],t.prototype,"equals",null),n.IdentityEqualityComparator=t})(Io=d1.PredictionContext||(d1.PredictionContext={}))});var $D=Ae(av=>{"use strict";m();var Sc=av&&av.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Jh=av&&av.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(av,"__esModule",{value:!0});av.ATNConfig=void 0;var sot=w6(),oot=rv(),ey=Pl(),Qa=wr(),aot=Am(),Abe=f1(),A6=E6(),Tbe=I0(),Wne=2147483648,Ed=class UD{constructor(e,t,r){typeof t=="number"?(Tbe((t&16777215)===t),this._state=e,this.altAndOuterContextDepth=t,this._context=r):(this._state=e,this.altAndOuterContextDepth=t.altAndOuterContextDepth,this._context=r)}static create(e,t,r,i=A6.SemanticContext.NONE,s){return i!==A6.SemanticContext.NONE?s!=null?new pS(s,i,e,t,r,!1):new T6(i,e,t,r):s!=null?new hS(s,e,t,r,!1):new UD(e,t,r)}get state(){return this._state}get alt(){return this.altAndOuterContextDepth&16777215}get context(){return this._context}set context(e){this._context=e}get reachesIntoOuterContext(){return this.outerContextDepth!==0}get outerContextDepth(){return this.altAndOuterContextDepth>>>24&127}set outerContextDepth(e){Tbe(e>=0),e=Math.min(e,127),this.altAndOuterContextDepth=e<<24|(this.altAndOuterContextDepth&~2130706432)>>>0}get lexerActionExecutor(){}get semanticContext(){return A6.SemanticContext.NONE}get hasPassedThroughNonGreedyDecision(){return!1}clone(){return this.transform(this.state,!1)}transform(e,t,r){return r==null?this.transformImpl(e,this._context,this.semanticContext,t,this.lexerActionExecutor):r instanceof Abe.PredictionContext?this.transformImpl(e,r,this.semanticContext,t,this.lexerActionExecutor):r instanceof A6.SemanticContext?this.transformImpl(e,this._context,r,t,this.lexerActionExecutor):this.transformImpl(e,this._context,this.semanticContext,t,r)}transformImpl(e,t,r,i,s){let o=i&&UD.checkNonGreedyDecision(this,e);return r!==A6.SemanticContext.NONE?s!=null||o?new pS(s,r,e,this,t,o):new T6(r,e,this,t):s!=null||o?new hS(s,e,this,t,o):new UD(e,this,t)}static checkNonGreedyDecision(e,t){return e.hasPassedThroughNonGreedyDecision||t instanceof oot.DecisionState&&t.nonGreedy}appendContext(e,t){if(typeof e=="number"){let r=this.context.appendSingleContext(e,t);return this.transform(this.state,!1,r)}else{let r=this.context.appendContext(e,t);return this.transform(this.state,!1,r)}}contains(e){if(this.state.stateNumber!==e.state.stateNumber||this.alt!==e.alt||!this.semanticContext.equals(e.semanticContext))return!1;let t=[],r=[];for(t.push(this.context),r.push(e.context);;){let i=t.pop(),s=r.pop();if(!i||!s)break;if(i===s)return!0;if(i.size<s.size)return!1;if(s.isEmpty)return i.hasEmpty;for(let o=0;o<s.size;o++){let a=i.findReturnState(s.getReturnState(o));if(a<0)return!1;t.push(i.getParent(a)),r.push(s.getParent(o))}}return!1}get isPrecedenceFilterSuppressed(){return(this.altAndOuterContextDepth&Wne)!==0}set isPrecedenceFilterSuppressed(e){e?this.altAndOuterContextDepth|=Wne:this.altAndOuterContextDepth&=~Wne}equals(e){return this===e?!0:e instanceof UD?this.state.stateNumber===e.state.stateNumber&&this.alt===e.alt&&this.reachesIntoOuterContext===e.reachesIntoOuterContext&&this.context.equals(e.context)&&this.semanticContext.equals(e.semanticContext)&&this.isPrecedenceFilterSuppressed===e.isPrecedenceFilterSuppressed&&this.hasPassedThroughNonGreedyDecision===e.hasPassedThroughNonGreedyDecision&&aot.ObjectEqualityComparator.INSTANCE.equals(this.lexerActionExecutor,e.lexerActionExecutor):!1}hashCode(){let e=ey.MurmurHash.initialize(7);return e=ey.MurmurHash.update(e,this.state.stateNumber),e=ey.MurmurHash.update(e,this.alt),e=ey.MurmurHash.update(e,this.reachesIntoOuterContext?1:0),e=ey.MurmurHash.update(e,this.context),e=ey.MurmurHash.update(e,this.semanticContext),e=ey.MurmurHash.update(e,this.hasPassedThroughNonGreedyDecision?1:0),e=ey.MurmurHash.update(e,this.lexerActionExecutor),e=ey.MurmurHash.finish(e,7),e}toDotString(){let e="";e+=`digraph G {
`,e+=`rankdir=LR;
`;let t=new sot.Array2DHashMap(Abe.PredictionContext.IdentityEqualityComparator.INSTANCE),r=[];function i(s){let o=t.size,a=t.putIfAbsent(s,o);return a??(r.push(s),o)}for(r.push(this.context),t.put(this.context,0);;){let s=r.pop();if(!s)break;for(let o=0;o<s.size;o++)e+="  s"+i(s),e+="->",e+="s"+i(s.getParent(o)),e+='[label="'+s.getReturnState(o)+`"];
`}return e+=`}
`,e.toString()}toString(e,t,r){r==null&&(r=t!=null),t==null&&(t=!0);let i="",s;r?s=this.context.toStrings(e,this.state.stateNumber):s=["?"];let o=!0;for(let a of s)o?o=!1:i+=", ",i+="(",i+=this.state,t&&(i+=",",i+=this.alt),this.context&&(i+=",",i+=a),this.semanticContext!==A6.SemanticContext.NONE&&(i+=",",i+=this.semanticContext),this.reachesIntoOuterContext&&(i+=",up="+this.outerContextDepth),i+=")";return i.toString()}};Sc([Qa.NotNull],Ed.prototype,"_state",void 0);Sc([Qa.NotNull],Ed.prototype,"_context",void 0);Sc([Qa.NotNull],Ed.prototype,"state",null);Sc([Qa.NotNull,Jh(0,Qa.NotNull)],Ed.prototype,"context",null);Sc([Qa.NotNull],Ed.prototype,"semanticContext",null);Sc([Qa.Override],Ed.prototype,"clone",null);Sc([Jh(0,Qa.NotNull),Jh(2,Qa.NotNull)],Ed.prototype,"transformImpl",null);Sc([Qa.Override],Ed.prototype,"equals",null);Sc([Qa.Override],Ed.prototype,"hashCode",null);Sc([Jh(0,Qa.NotNull),Jh(3,Qa.NotNull)],Ed,"create",null);Ed=Sc([Jh(0,Qa.NotNull),Jh(2,Qa.NotNull)],Ed);av.ATNConfig=Ed;var T6=class extends Ed{constructor(e,t,r,i){typeof r=="number"?super(t,r,i):super(t,r,i),this._semanticContext=e}get semanticContext(){return this._semanticContext}};Sc([Qa.NotNull],T6.prototype,"_semanticContext",void 0);Sc([Qa.Override],T6.prototype,"semanticContext",null);T6=Sc([Jh(1,Qa.NotNull),Jh(2,Qa.NotNull)],T6);var hS=class extends Ed{constructor(e,t,r,i,s){if(typeof r=="number")super(t,r,i);else{super(t,r,i);if(r.semanticContext!==A6.SemanticContext.NONE)throw new Error("Not supported")}this._lexerActionExecutor=e,this.passedThroughNonGreedyDecision=s}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};Sc([Qa.Override],hS.prototype,"lexerActionExecutor",null);Sc([Qa.Override],hS.prototype,"hasPassedThroughNonGreedyDecision",null);hS=Sc([Jh(1,Qa.NotNull),Jh(2,Qa.NotNull)],hS);var pS=class extends T6{constructor(e,t,r,i,s,o){typeof i=="number"?super(t,r,i,s):super(t,r,i,s),this._lexerActionExecutor=e,this.passedThroughNonGreedyDecision=o}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};Sc([Qa.Override],pS.prototype,"lexerActionExecutor",null);Sc([Qa.Override],pS.prototype,"hasPassedThroughNonGreedyDecision",null);pS=Sc([Jh(1,Qa.NotNull),Jh(2,Qa.NotNull)],pS)});var ty=Ae(Dq=>{"use strict";m();Object.defineProperty(Dq,"__esModule",{value:!0});Dq.BitSet=void 0;var uot=H5(),lot=Pl(),zD=new Uint16Array(0);function Xh(n){return n>>>4}function mS(n){return n*16}function Qne(n){let e=1;for(let t=0;t<16;t++){if((n&e)!==0)return t;e=e<<1>>>0}throw new RangeError("No specified bit found")}function Fbe(n){let e=1<<15>>>0;for(let t=15;t>=0;t--){if((n&e)!==0)return t;e=e>>>1}throw new RangeError("No specified bit found")}function h1(n,e){return n&=15,e&=15,n===e?1<<n>>>0:65535>>>15-e^65535>>>16-n}var Gne=new Uint8Array(65536);for(let n=0;n<16;n++){let e=1<<n>>>0,t=0;for(;t<Gne.length;){t+=e;for(let r=0;r<e;r++)Gne[t]++,t++}}var F6=class{constructor(e){if(!e)this.data=zD;else if(typeof e=="number"){if(e<0)throw new RangeError("nbits cannot be negative");this.data=new Uint16Array(Xh(e-1)+1)}else if(e instanceof F6)this.data=e.data.slice(0);else{let t=-1;for(let r of e)t<r&&(t=r);this.data=new Uint16Array(Xh(t-1)+1);for(let r of e)this.set(r)}}and(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=-1;for(let o=0;o<i;o++)(t[o]&=r[o])!==0&&(s=o);s===-1&&(this.data=zD),s<t.length-1&&(this.data=t.slice(0,s+1))}andNot(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=-1;for(let o=0;o<i;o++)(t[o]&=r[o]^65535)!==0&&(s=o);s===-1&&(this.data=zD),s<t.length-1&&(this.data=t.slice(0,s+1))}cardinality(){if(this.isEmpty)return 0;let e=this.data,t=e.length,r=0;for(let i=0;i<t;i++)r+=Gne[e[i]];return r}clear(e,t){e==null?this.data.fill(0):t==null?this.set(e,!1):this.set(e,t,!1)}flip(e,t){if(t==null&&(t=e),e<0||t<e)throw new RangeError;let r=Xh(e),i=Xh(t);if(r===i)this.data[r]^=h1(e,t);else{for(this.data[r++]^=h1(e,15);r<i;)this.data[r++]^=65535;this.data[r++]^=h1(0,t)}}get(e,t){if(t===void 0)return!!(this.data[Xh(e)]&h1(e,e));{let r=new F6(t+1);for(let i=e;i<=t;i++)r.set(i,this.get(i));return r}}intersects(e){let t=Math.min(this.length(),e.length());if(t===0)return!1;let r=Xh(t-1);for(let i=0;i<=r;i++)if((this.data[i]&e.data[i])!==0)return!0;return!1}get isEmpty(){return this.length()===0}length(){return this.data.length?this.previousSetBit(mS(this.data.length)-1)+1:0}nextClearBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=Xh(e);if(i>r)return-1;let s=65535^h1(e,15);if((t[i]|s)===65535){for(i++,s=0;i<r&&t[i]===65535;i++);if(i===r)return-1}return mS(i)+Qne((t[i]|s)^65535)}nextSetBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=Xh(e);if(i>r)return-1;let s=h1(e,15);if((t[i]&s)===0){for(i++,s=65535;i<r&&t[i]===0;i++);if(i>=r)return-1}return mS(i)+Qne(t[i]&s)}or(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=Math.max(t.length,r.length),o=t.length===s?t:new Uint16Array(s),a=-1;for(let f=0;f<i;f++)(o[f]=t[f]|r[f])!==0&&(a=f);let l=t.length>r.length?t:r;for(let f=i;f<s;f++)(o[f]=l[f])!==0&&(a=f);a===-1?this.data=zD:o.length===a+1?this.data=o:this.data=o.slice(0,a)}previousClearBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=Xh(e);i>=r&&(i=r-1);let s=65535^h1(0,e);if((t[i]|s)===65535){for(s=0,i--;i>=0&&t[i]===65535;i--);if(i<0)return-1}return mS(i)+Fbe((t[i]|s)^65535)}previousSetBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=Xh(e);i>=r&&(i=r-1);let s=h1(0,e);if((t[i]&s)===0){for(i--,s=65535;i>=0&&t[i]===0;i--);if(i<0)return-1}return mS(i)+Fbe(t[i]&s)}set(e,t,r){if(t===void 0?(t=e,r=!0):typeof t=="boolean"&&(r=t,t=e),r===void 0&&(r=!0),e<0||e>t)throw new RangeError;let i=Xh(e),s=Xh(t);if(r&&s>=this.data.length){let o=new Uint16Array(s+1);this.data.forEach((a,l)=>o[l]=a),this.data=o}else if(!r){if(i>=this.data.length)return;s>=this.data.length&&(s=this.data.length-1,t=this.data.length*16-1)}if(i===s)this._setBits(i,r,h1(e,t));else{for(this._setBits(i++,r,h1(e,15));i<s;)this.data[i++]=r?65535:0;this._setBits(i,r,h1(0,t))}}_setBits(e,t,r){t?this.data[e]|=r:this.data[e]&=65535^r}get size(){return this.data.byteLength*8}hashCode(){return lot.MurmurHash.hashCode(this.data,22)}equals(e){if(e===this)return!0;if(!(e instanceof F6))return!1;let t=this.length();if(t!==e.length())return!1;if(t===0)return!0;let r=Xh(t-1);for(let i=0;i<=r;i++)if(this.data[i]!==e.data[i])return!1;return!0}toString(){let e="{",t=!0;for(let r=this.nextSetBit(0);r>=0;r=this.nextSetBit(r+1))t?t=!1:e+=", ",e+=r;return e+="}",e}xor(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=Math.max(t.length,r.length),o=t.length===s?t:new Uint16Array(s),a=-1;for(let f=0;f<i;f++)(o[f]=t[f]^r[f])!==0&&(a=f);let l=t.length>r.length?t:r;for(let f=i;f<s;f++)(o[f]=l[f])!==0&&(a=f);a===-1?this.data=zD:o.length===a+1?this.data=o:this.data=o.slice(0,a+1)}clone(){return new F6(this)}[Symbol.iterator](){return new Dbe(this.data)}[uot.inspect.custom](){return"BitSet "+this.toString()}};Dq.BitSet=F6;var Dbe=class{constructor(e){this.data=e,this.index=0,this.mask=65535}next(){for(;this.index<this.data.length;){let e=this.data[this.index]&this.mask;if(e!==0){let t=mS(this.index)+Qne(e);return this.mask=h1(t+1,15),{done:!1,value:t}}this.index++,this.mask=65535}return{done:!0,value:-1}}[Symbol.iterator](){return this}}});var gS=Ae(xS=>{"use strict";m();var Z2=xS&&xS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(xS,"__esModule",{value:!0});xS.ATNConfigSet=void 0;var Obe=w6(),cot=Zg(),Rbe=ND(),Oq=Fm(),Nbe=$D(),fot=ty(),ex=wr(),dot=Am(),Lbe=f1(),hot=Tq(),pot=E6(),Rq=I0(),mot=Tm(),Nq=class{hashCode(e){return e.state^e.alt}equals(e,t){return e.state===t.state&&e.alt===t.alt}};Nq.INSTANCE=new Nq;function Yne(n){return n?new Obe.Array2DHashMap(n):new Obe.Array2DHashMap(Nq.INSTANCE)}var Sd=class{constructor(e,t){this._uniqueAlt=0,this._hasSemanticContext=!1,this._dipsIntoOuterContext=!1,this.outermostConfigSet=!1,this.cachedHashCode=-1,e?(t?(this.mergedConfigs=void 0,this.unmerged=void 0):e.isReadOnly?(this.mergedConfigs=Yne(),this.unmerged=[]):(this.mergedConfigs=Yne(e.mergedConfigs),this.unmerged=e.unmerged.slice(0)),this.configs=e.configs.slice(0),this._dipsIntoOuterContext=e._dipsIntoOuterContext,this._hasSemanticContext=e._hasSemanticContext,this.outermostConfigSet=e.outermostConfigSet,(t||!e.isReadOnly)&&(this._uniqueAlt=e._uniqueAlt,this._conflictInfo=e._conflictInfo)):(this.mergedConfigs=Yne(),this.unmerged=[],this.configs=[],this._uniqueAlt=Oq.ATN.INVALID_ALT_NUMBER)}getRepresentedAlternatives(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts.clone();let e=new fot.BitSet;for(let t of this)e.set(t.alt);return e}get isReadOnly(){return this.mergedConfigs==null}get isOutermostConfigSet(){return this.outermostConfigSet}set isOutermostConfigSet(e){if(this.outermostConfigSet&&!e)throw new Error("IllegalStateException");Rq(!e||!this._dipsIntoOuterContext),this.outermostConfigSet=e}getStates(){let e=new cot.Array2DHashSet(dot.ObjectEqualityComparator.INSTANCE);for(let t of this.configs)e.add(t.state);return e}optimizeConfigs(e){if(this.configs.length!==0)for(let t of this.configs)t.context=e.atn.getCachedContext(t.context)}clone(e){let t=new Sd(this,e);return!e&&this.isReadOnly&&t.addAll(this.configs),t}get size(){return this.configs.length}get isEmpty(){return this.configs.length===0}contains(e){if(!(e instanceof Nbe.ATNConfig))return!1;if(this.mergedConfigs&&this.unmerged){let t=e,r=this.getKey(t),i=this.mergedConfigs.get(r);if(i!=null&&this.canMerge(t,r,i))return i.contains(t);for(let s of this.unmerged)if(s.contains(e))return!0}else for(let t of this.configs)if(t.contains(e))return!0;return!1}*[Symbol.iterator](){yield*this.configs}toArray(){return this.configs}add(e,t){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");Rq(!this.outermostConfigSet||!e.reachesIntoOuterContext),t==null&&(t=hot.PredictionContextCache.UNCACHED);let r,i=this.getKey(e),s=this.mergedConfigs.get(i);if(r=s==null,s!=null&&this.canMerge(e,i,s)){s.outerContextDepth=Math.max(s.outerContextDepth,e.outerContextDepth),e.isPrecedenceFilterSuppressed&&(s.isPrecedenceFilterSuppressed=!0);let o=Lbe.PredictionContext.join(s.context,e.context,t);return this.updatePropertiesForMergedConfig(e),s.context===o?!1:(s.context=o,!0)}for(let o=0;o<this.unmerged.length;o++){let a=this.unmerged[o];if(this.canMerge(e,i,a)){a.outerContextDepth=Math.max(a.outerContextDepth,e.outerContextDepth),e.isPrecedenceFilterSuppressed&&(a.isPrecedenceFilterSuppressed=!0);let l=Lbe.PredictionContext.join(a.context,e.context,t);return this.updatePropertiesForMergedConfig(e),a.context===l?!1:(a.context=l,r&&(this.mergedConfigs.put(i,a),this.unmerged.splice(o,1)),!0)}}return this.configs.push(e),r?this.mergedConfigs.put(i,e):this.unmerged.push(e),this.updatePropertiesForAddedConfig(e),!0}updatePropertiesForMergedConfig(e){this._dipsIntoOuterContext=this._dipsIntoOuterContext||e.reachesIntoOuterContext,Rq(!this.outermostConfigSet||!this._dipsIntoOuterContext)}updatePropertiesForAddedConfig(e){this.configs.length===1?this._uniqueAlt=e.alt:this._uniqueAlt!==e.alt&&(this._uniqueAlt=Oq.ATN.INVALID_ALT_NUMBER),this._hasSemanticContext=this._hasSemanticContext||!pot.SemanticContext.NONE.equals(e.semanticContext),this._dipsIntoOuterContext=this._dipsIntoOuterContext||e.reachesIntoOuterContext,Rq(!this.outermostConfigSet||!this._dipsIntoOuterContext)}canMerge(e,t,r){return e.state.stateNumber!==r.state.stateNumber||t.alt!==r.alt?!1:e.semanticContext.equals(r.semanticContext)}getKey(e){return{state:e.state.stateNumber,alt:e.alt}}containsAll(e){for(let t of e)if(!(t instanceof Nbe.ATNConfig)||!this.contains(t))return!1;return!0}addAll(e,t){this.ensureWritable();let r=!1;for(let i of e)this.add(i,t)&&(r=!0);return r}clear(){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");this.mergedConfigs.clear(),this.unmerged.length=0,this.configs.length=0,this._dipsIntoOuterContext=!1,this._hasSemanticContext=!1,this._uniqueAlt=Oq.ATN.INVALID_ALT_NUMBER,this._conflictInfo=void 0}equals(e){return this===e?!0:e instanceof Sd?this.outermostConfigSet===e.outermostConfigSet&&mot.equals(this._conflictInfo,e._conflictInfo)&&Rbe.ArrayEqualityComparator.INSTANCE.equals(this.configs,e.configs):!1}hashCode(){if(this.isReadOnly&&this.cachedHashCode!==-1)return this.cachedHashCode;let e=1;return e=5*e^(this.outermostConfigSet?1:0),e=5*e^Rbe.ArrayEqualityComparator.INSTANCE.hashCode(this.configs),this.isReadOnly&&(this.cachedHashCode=e),e}toString(e){e==null&&(e=!1);let t="",r=this.configs.slice(0);r.sort((i,s)=>i.alt!==s.alt?i.alt-s.alt:i.state.stateNumber!==s.state.stateNumber?i.state.stateNumber-s.state.stateNumber:i.semanticContext.toString().localeCompare(s.semanticContext.toString())),t+="[";for(let i=0;i<r.length;i++)i>0&&(t+=", "),t+=r[i].toString(void 0,!0,e);return t+="]",this._hasSemanticContext&&(t+=",hasSemanticContext="+this._hasSemanticContext),this._uniqueAlt!==Oq.ATN.INVALID_ALT_NUMBER&&(t+=",uniqueAlt="+this._uniqueAlt),this._conflictInfo!=null&&(t+=",conflictingAlts="+this._conflictInfo.conflictedAlts,this._conflictInfo.isExact||(t+="*")),this._dipsIntoOuterContext&&(t+=",dipsIntoOuterContext"),t.toString()}get uniqueAlt(){return this._uniqueAlt}get hasSemanticContext(){return this._hasSemanticContext}set hasSemanticContext(e){this.ensureWritable(),this._hasSemanticContext=e}get conflictInfo(){return this._conflictInfo}set conflictInfo(e){this.ensureWritable(),this._conflictInfo=e}get conflictingAlts(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts}get isExactConflict(){return this._conflictInfo==null?!1:this._conflictInfo.isExact}get dipsIntoOuterContext(){return this._dipsIntoOuterContext}get(e){return this.configs[e]}ensureWritable(){if(this.isReadOnly)throw new Error("This ATNConfigSet is read only.")}};Z2([ex.NotNull],Sd.prototype,"getRepresentedAlternatives",null);Z2([ex.Override],Sd.prototype,"size",null);Z2([ex.Override],Sd.prototype,"isEmpty",null);Z2([ex.Override],Sd.prototype,"contains",null);Z2([ex.Override],Sd.prototype,Symbol.iterator,null);Z2([ex.Override],Sd.prototype,"toArray",null);Z2([ex.Override],Sd.prototype,"containsAll",null);Z2([ex.Override],Sd.prototype,"clear",null);Z2([ex.Override],Sd.prototype,"equals",null);Z2([ex.Override],Sd.prototype,"hashCode",null);xS.ATNConfigSet=Sd});var HD=Ae(tx=>{"use strict";m();var ny=tx&&tx.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},xot=tx&&tx.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(tx,"__esModule",{value:!0});tx.DFAState=void 0;var got=Fm(),yot=ty(),Kne=Pl(),ry=wr(),Lq=f1(),kbe=I0(),Dm=class{constructor(e){this.stateNumber=-1,this.configs=e,this.edges=new Map,this.contextEdges=new Map}get isContextSensitive(){return!!this.contextSymbols}isContextSymbol(e){return this.isContextSensitive?this.contextSymbols.get(e):!1}setContextSymbol(e){kbe(this.isContextSensitive),this.contextSymbols.set(e)}setContextSensitive(e){kbe(!this.configs.isOutermostConfigSet),!this.isContextSensitive&&(this.contextSymbols||(this.contextSymbols=new yot.BitSet))}get acceptStateInfo(){return this._acceptStateInfo}set acceptStateInfo(e){this._acceptStateInfo=e}get isAcceptState(){return!!this._acceptStateInfo}get prediction(){return this._acceptStateInfo?this._acceptStateInfo.prediction:got.ATN.INVALID_ALT_NUMBER}get lexerActionExecutor(){if(!!this._acceptStateInfo)return this._acceptStateInfo.lexerActionExecutor}getTarget(e){return this.edges.get(e)}setTarget(e,t){this.edges.set(e,t)}getEdgeMap(){return this.edges}getContextTarget(e){return e===Lq.PredictionContext.EMPTY_FULL_STATE_KEY&&(e=-1),this.contextEdges.get(e)}setContextTarget(e,t){if(!this.isContextSensitive)throw new Error("The state is not context sensitive.");e===Lq.PredictionContext.EMPTY_FULL_STATE_KEY&&(e=-1),this.contextEdges.set(e,t)}getContextEdgeMap(){let e=new Map(this.contextEdges),t=e.get(-1);if(t!==void 0)if(e.size===1){let r=new Map;return r.set(Lq.PredictionContext.EMPTY_FULL_STATE_KEY,t),r}else e.delete(-1),e.set(Lq.PredictionContext.EMPTY_FULL_STATE_KEY,t);return e}hashCode(){let e=Kne.MurmurHash.initialize(7);return e=Kne.MurmurHash.update(e,this.configs.hashCode()),e=Kne.MurmurHash.finish(e,1),e}equals(e){if(this===e)return!0;if(!(e instanceof Dm))return!1;let t=e;return this.configs.equals(t.configs)}toString(){let e="";return e+=this.stateNumber+":"+this.configs,this.isAcceptState&&(e+="=>",this.predicates?e+=this.predicates:e+=this.prediction),e.toString()}};ny([ry.NotNull],Dm.prototype,"configs",void 0);ny([ry.NotNull],Dm.prototype,"edges",void 0);ny([ry.NotNull],Dm.prototype,"contextEdges",void 0);ny([ry.Override],Dm.prototype,"hashCode",null);ny([ry.Override],Dm.prototype,"equals",null);ny([ry.Override],Dm.prototype,"toString",null);tx.DFAState=Dm;(function(n){let e=class{constructor(r,i){this.alt=i,this.pred=r}toString(){return"("+this.pred+", "+this.alt+")"}};ny([ry.NotNull],e.prototype,"pred",void 0),ny([ry.Override],e.prototype,"toString",null),e=ny([xot(0,ry.NotNull)],e),n.PredPrediction=e})(Dm=tx.DFAState||(tx.DFAState={}))});var WD=Ae(Om=>{"use strict";m();var Jne=Om&&Om.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},vot=Om&&Om.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Om,"__esModule",{value:!0});Om.ATNSimulator=void 0;var _ot=gS(),bot=HD(),Xne=wr(),Eot=f1(),D6=class VD{constructor(e){this.atn=e}static get ERROR(){return VD._ERROR||(VD._ERROR=new bot.DFAState(new _ot.ATNConfigSet),VD._ERROR.stateNumber=Eot.PredictionContext.EMPTY_FULL_STATE_KEY),VD._ERROR}clearDFA(){this.atn.clearDFA()}};Jne([Xne.NotNull],D6.prototype,"atn",void 0);Jne([Xne.NotNull],D6,"ERROR",null);D6=Jne([vot(0,Xne.NotNull)],D6);Om.ATNSimulator=D6;(function(n){let e="$",t="$lf$",r="$nolf$"})(D6=Om.ATNSimulator||(Om.ATNSimulator={}));Om.ATNSimulator=D6});var Zne=Ae(Iq=>{"use strict";m();Object.defineProperty(Iq,"__esModule",{value:!0});Iq.ConsoleErrorListener=void 0;var kq=class{syntaxError(e,t,r,i,s,o){console.error(`line ${r}:${i} ${s}`)}};Iq.ConsoleErrorListener=kq;kq.INSTANCE=new kq});var Mq=Ae(uv=>{"use strict";m();var Sot=uv&&uv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Ibe=uv&&uv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(uv,"__esModule",{value:!0});uv.ProxyErrorListener=void 0;var ere=wr(),tre=class{constructor(e){if(this.delegates=e,!e)throw new Error("Invalid delegates")}getDelegates(){return this.delegates}syntaxError(e,t,r,i,s,o){this.delegates.forEach(a=>{a.syntaxError&&a.syntaxError(e,t,r,i,s,o)})}};Sot([ere.Override,Ibe(0,ere.NotNull),Ibe(4,ere.NotNull)],tre.prototype,"syntaxError",null);uv.ProxyErrorListener=tre});var yS=Ae(lv=>{"use strict";m();var nx=lv&&lv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Pq=lv&&lv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(lv,"__esModule",{value:!0});lv.Recognizer=void 0;var wot=Zne(),Cot=Mq(),Zh=wr(),Mbe=uu(),Aot=Tm(),wc=class{constructor(){this._listeners=[wot.ConsoleErrorListener.INSTANCE],this._stateNumber=-1}getTokenTypeMap(){let e=this.vocabulary,t=wc.tokenTypeMapCache.get(e);if(t==null){let r=new Map;for(let i=0;i<=this.atn.maxTokenType;i++){let s=e.getLiteralName(i);s!=null&&r.set(s,i);let o=e.getSymbolicName(i);o!=null&&r.set(o,i)}r.set("EOF",Mbe.Token.EOF),t=r,wc.tokenTypeMapCache.set(e,t)}return t}getRuleIndexMap(){let e=this.ruleNames;if(e==null)throw new Error("The current recognizer does not provide a list of rule names.");let t=wc.ruleIndexMapCache.get(e);return t==null&&(t=Aot.toMap(e),wc.ruleIndexMapCache.set(e,t)),t}getTokenType(e){let t=this.getTokenTypeMap().get(e);return t??Mbe.Token.INVALID_TYPE}get serializedATN(){throw new Error("there is no serialized ATN")}get atn(){return this._interp.atn}get interpreter(){return this._interp}set interpreter(e){this._interp=e}get parseInfo(){return Promise.resolve(void 0)}getErrorHeader(e){let t=e.getOffendingToken();if(!t)return"";let r=t.line,i=t.charPositionInLine;return"line "+r+":"+i}addErrorListener(e){if(!e)throw new TypeError("listener must not be null");this._listeners.push(e)}removeErrorListener(e){let t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}removeErrorListeners(){this._listeners.length=0}getErrorListeners(){return this._listeners.slice(0)}getErrorListenerDispatch(){return new Cot.ProxyErrorListener(this.getErrorListeners())}sempred(e,t,r){return!0}precpred(e,t){return!0}action(e,t,r){}get state(){return this._stateNumber}set state(e){this._stateNumber=e}};wc.EOF=-1;wc.tokenTypeMapCache=new WeakMap;wc.ruleIndexMapCache=new WeakMap;nx([Zh.SuppressWarnings("serial"),Zh.NotNull],wc.prototype,"_listeners",void 0);nx([Zh.NotNull],wc.prototype,"getTokenTypeMap",null);nx([Zh.NotNull],wc.prototype,"getRuleIndexMap",null);nx([Zh.NotNull],wc.prototype,"serializedATN",null);nx([Zh.NotNull],wc.prototype,"atn",null);nx([Zh.NotNull,Pq(0,Zh.NotNull)],wc.prototype,"interpreter",null);nx([Zh.NotNull,Pq(0,Zh.NotNull)],wc.prototype,"getErrorHeader",null);nx([Pq(0,Zh.NotNull)],wc.prototype,"addErrorListener",null);nx([Pq(0,Zh.NotNull)],wc.prototype,"removeErrorListener",null);nx([Zh.NotNull],wc.prototype,"getErrorListeners",null);lv.Recognizer=wc});var sy=Ae(vS=>{"use strict";m();var cv=vS&&vS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(vS,"__esModule",{value:!0});vS.VocabularyImpl=void 0;var iy=wr(),Tot=uu(),p1=class{constructor(e,t,r){this.literalNames=e,this.symbolicNames=t,this.displayNames=r,this._maxTokenType=Math.max(this.displayNames.length,Math.max(this.literalNames.length,this.symbolicNames.length))-1}get maxTokenType(){return this._maxTokenType}getLiteralName(e){if(e>=0&&e<this.literalNames.length)return this.literalNames[e]}getSymbolicName(e){if(e>=0&&e<this.symbolicNames.length)return this.symbolicNames[e];if(e===Tot.Token.EOF)return"EOF"}getDisplayName(e){if(e>=0&&e<this.displayNames.length){let i=this.displayNames[e];if(i)return i}let t=this.getLiteralName(e);if(t)return t;let r=this.getSymbolicName(e);return r||String(e)}};p1.EMPTY_VOCABULARY=new p1([],[],[]);cv([iy.NotNull],p1.prototype,"literalNames",void 0);cv([iy.NotNull],p1.prototype,"symbolicNames",void 0);cv([iy.NotNull],p1.prototype,"displayNames",void 0);cv([iy.Override],p1.prototype,"maxTokenType",null);cv([iy.Override],p1.prototype,"getLiteralName",null);cv([iy.Override],p1.prototype,"getSymbolicName",null);cv([iy.Override,iy.NotNull],p1.prototype,"getDisplayName",null);cv([iy.NotNull],p1,"EMPTY_VOCABULARY",void 0);vS.VocabularyImpl=p1});var sre=Ae(_S=>{"use strict";m();var nre=_S&&_S.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(_S,"__esModule",{value:!0});_S.DFASerializer=void 0;var rre=WD(),ire=wr(),Pbe=f1(),Fot=yS(),Dot=sy(),QD=class{constructor(e,t,r,i){t instanceof Fot.Recognizer?(r=t.ruleNames,i=t.atn,t=t.vocabulary):t||(t=Dot.VocabularyImpl.EMPTY_VOCABULARY),this.dfa=e,this.vocabulary=t,this.ruleNames=r,this.atn=i}toString(){if(!this.dfa.s0)return"";let e="";if(this.dfa.states){let r=new Array(...this.dfa.states.toArray());r.sort((i,s)=>i.stateNumber-s.stateNumber);for(let i of r){let s=i.getEdgeMap(),o=[...s.keys()].sort((f,p)=>f-p),a=i.getContextEdgeMap(),l=[...a.keys()].sort((f,p)=>f-p);for(let f of o){let p=s.get(f);if((p==null||p===rre.ATNSimulator.ERROR)&&!i.isContextSymbol(f))continue;let _=!1;e+=this.getStateString(i)+"-"+this.getEdgeLabel(f)+"->",i.isContextSymbol(f)&&(e+="!",_=!0);let E=p;E&&E.stateNumber!==rre.ATNSimulator.ERROR.stateNumber?e+=this.getStateString(E)+`
`:_&&(e+=`ctx
`)}if(i.isContextSensitive)for(let f of l)e+=this.getStateString(i)+"-"+this.getContextLabel(f)+"->"+this.getStateString(a.get(f))+`
`}}let t=e;return t.length===0?"":t}getContextLabel(e){if(e===Pbe.PredictionContext.EMPTY_FULL_STATE_KEY)return"ctx:EMPTY_FULL";if(e===Pbe.PredictionContext.EMPTY_LOCAL_STATE_KEY)return"ctx:EMPTY_LOCAL";if(this.atn&&e>0&&e<=this.atn.states.length){let r=this.atn.states[e].ruleIndex;if(this.ruleNames&&r>=0&&r<this.ruleNames.length)return"ctx:"+String(e)+"("+this.ruleNames[r]+")"}return"ctx:"+String(e)}getEdgeLabel(e){return this.vocabulary.getDisplayName(e)}getStateString(e){if(e===rre.ATNSimulator.ERROR)return"ERROR";let t=e.stateNumber,r="s"+t;if(e.isAcceptState&&(e.predicates?r=":s"+t+"=>"+e.predicates:r=":s"+t+"=>"+e.prediction),e.isContextSensitive){r+="*";for(let i of e.configs)if(i.reachesIntoOuterContext){r+="*";break}}return r}};nre([ire.NotNull],QD.prototype,"dfa",void 0);nre([ire.NotNull],QD.prototype,"vocabulary",void 0);nre([ire.Override],QD.prototype,"toString",null);_S.DFASerializer=QD});var jbe=Ae(fv=>{"use strict";m();var Bbe=fv&&fv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Oot=fv&&fv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(fv,"__esModule",{value:!0});fv.LexerDFASerializer=void 0;var Rot=sre(),ore=wr(),Not=sy(),Bq=class extends Rot.DFASerializer{constructor(e){super(e,Not.VocabularyImpl.EMPTY_VOCABULARY)}getEdgeLabel(e){return"'"+String.fromCodePoint(e)+"'"}};Bbe([ore.Override,ore.NotNull],Bq.prototype,"getEdgeLabel",null);Bq=Bbe([Oot(0,ore.NotNull)],Bq);fv.LexerDFASerializer=Bq});var jq=Ae(bS=>{"use strict";m();var Lot=bS&&bS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(bS,"__esModule",{value:!0});bS.StarLoopEntryState=void 0;var kot=_f(),Iot=ty(),Mot=rv(),Pot=wr(),are=class extends Mot.DecisionState{constructor(){super(...arguments);this.precedenceRuleDecision=!1,this.precedenceLoopbackStates=new Iot.BitSet}get stateType(){return kot.ATNStateType.STAR_LOOP_ENTRY}};Lot([Pot.Override],are.prototype,"stateType",null);bS.StarLoopEntryState=are});var ure=Ae(dv=>{"use strict";m();var qq=dv&&dv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Bot=dv&&dv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(dv,"__esModule",{value:!0});dv.DFA=void 0;var jot=Zg(),qbe=gS(),Ube=sre(),$be=HD(),qot=jbe(),Uq=wr(),Uot=Am(),$ot=jq(),zot=sy(),ES=class{constructor(e,t=0){if(this.states=new jot.Array2DHashSet(Uot.ObjectEqualityComparator.INSTANCE),this.nextStateNumber=0,!e.atn)throw new Error("The ATNState must be associated with an ATN");this.atnStartState=e,this.atn=e.atn,this.decision=t;let r=!1;e instanceof $ot.StarLoopEntryState&&e.precedenceRuleDecision&&(r=!0,this.s0=new $be.DFAState(new qbe.ATNConfigSet),this.s0full=new $be.DFAState(new qbe.ATNConfigSet)),this.precedenceDfa=r}get isPrecedenceDfa(){return this.precedenceDfa}getPrecedenceStartState(e,t){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");return t?this.s0full.getTarget(e):this.s0.getTarget(e)}setPrecedenceStartState(e,t,r){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");e<0||(t?this.s0full.setTarget(e,r):this.s0.setTarget(e,r))}get isEmpty(){return this.isPrecedenceDfa?this.s0.getEdgeMap().size===0&&this.s0full.getEdgeMap().size===0:this.s0==null&&this.s0full==null}get isContextSensitive(){return this.isPrecedenceDfa?this.s0full.getEdgeMap().size>0:this.s0full!=null}addState(e){return e.stateNumber=this.nextStateNumber++,this.states.getOrAdd(e)}toString(e,t){if(e||(e=zot.VocabularyImpl.EMPTY_VOCABULARY),!this.s0)return"";let r;return t?r=new Ube.DFASerializer(this,e,t,this.atnStartState.atn):r=new Ube.DFASerializer(this,e),r.toString()}toLexerString(){return this.s0?new qot.LexerDFASerializer(this).toString():""}};qq([Uq.NotNull],ES.prototype,"states",void 0);qq([Uq.NotNull],ES.prototype,"atnStartState",void 0);qq([Uq.NotNull],ES.prototype,"atn",void 0);ES=qq([Bot(0,Uq.NotNull)],ES);dv.DFA=ES});var cre=Ae(SS=>{"use strict";m();var Hot=SS&&SS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(SS,"__esModule",{value:!0});SS.BasicState=void 0;var Vot=Y2(),Wot=_f(),Qot=wr(),lre=class extends Vot.ATNState{get stateType(){return Wot.ATNStateType.BASIC}};Hot([Qot.Override],lre.prototype,"stateType",null);SS.BasicState=lre});var dre=Ae(wS=>{"use strict";m();var Got=wS&&wS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(wS,"__esModule",{value:!0});wS.InvalidState=void 0;var Yot=_f(),Kot=cre(),Jot=wr(),fre=class extends Kot.BasicState{get stateType(){return Yot.ATNStateType.INVALID_TYPE}};Got([Jot.Override],fre.prototype,"stateType",null);wS.InvalidState=fre});var $q=Ae(pv=>{"use strict";m();var CS=pv&&pv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},zbe=pv&&pv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(pv,"__esModule",{value:!0});pv.SetTransition=void 0;var Xot=mv(),oy=wr(),Zot=uu(),eat=Xg(),hv=class extends eat.Transition{constructor(e,t){super(e);t==null&&(t=Xot.IntervalSet.of(Zot.Token.INVALID_TYPE)),this.set=t}get serializationType(){return 7}get label(){return this.set}matches(e,t,r){return this.set.contains(e)}toString(){return this.set.toString()}};CS([oy.NotNull],hv.prototype,"set",void 0);CS([oy.Override],hv.prototype,"serializationType",null);CS([oy.Override,oy.NotNull],hv.prototype,"label",null);CS([oy.Override],hv.prototype,"matches",null);CS([oy.Override,oy.NotNull],hv.prototype,"toString",null);hv=CS([zbe(0,oy.NotNull),zbe(1,oy.Nullable)],hv);pv.SetTransition=hv});var Hq=Ae(xv=>{"use strict";m();var zq=xv&&xv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Hbe=xv&&xv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(xv,"__esModule",{value:!0});xv.NotSetTransition=void 0;var GD=wr(),tat=$q(),AS=class extends tat.SetTransition{constructor(e,t){super(e,t)}get serializationType(){return 8}matches(e,t,r){return e>=t&&e<=r&&!super.matches(e,t,r)}toString(){return"~"+super.toString()}};zq([GD.Override],AS.prototype,"serializationType",null);zq([GD.Override],AS.prototype,"matches",null);zq([GD.Override],AS.prototype,"toString",null);AS=zq([Hbe(0,GD.NotNull),Hbe(1,GD.Nullable)],AS);xv.NotSetTransition=AS});var FS=Ae(TS=>{"use strict";m();var Vbe=TS&&TS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(TS,"__esModule",{value:!0});TS.RuleStopState=void 0;var nat=Y2(),rat=_f(),Wbe=wr(),Vq=class extends nat.ATNState{get nonStopStateNumber(){return-1}get stateType(){return rat.ATNStateType.RULE_STOP}};Vbe([Wbe.Override],Vq.prototype,"nonStopStateNumber",null);Vbe([Wbe.Override],Vq.prototype,"stateType",null);TS.RuleStopState=Vq});var Wq=Ae(gv=>{"use strict";m();var YD=gv&&gv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Qbe=gv&&gv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(gv,"__esModule",{value:!0});gv.RuleTransition=void 0;var DS=wr(),iat=Xg(),O6=class extends iat.Transition{constructor(e,t,r,i){super(e);this.tailCall=!1,this.optimizedTailCall=!1,this.ruleIndex=t,this.precedence=r,this.followState=i}get serializationType(){return 3}get isEpsilon(){return!0}matches(e,t,r){return!1}};YD([DS.NotNull],O6.prototype,"followState",void 0);YD([DS.Override],O6.prototype,"serializationType",null);YD([DS.Override],O6.prototype,"isEpsilon",null);YD([DS.Override],O6.prototype,"matches",null);O6=YD([Qbe(0,DS.NotNull),Qbe(3,DS.NotNull)],O6);gv.RuleTransition=O6});var hre=Ae(yv=>{"use strict";m();var Qq=yv&&yv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},sat=yv&&yv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(yv,"__esModule",{value:!0});yv.WildcardTransition=void 0;var KD=wr(),oat=Xg(),OS=class extends oat.Transition{constructor(e){super(e)}get serializationType(){return 9}matches(e,t,r){return e>=t&&e<=r}toString(){return"."}};Qq([KD.Override],OS.prototype,"serializationType",null);Qq([KD.Override],OS.prototype,"matches",null);Qq([KD.Override,KD.NotNull],OS.prototype,"toString",null);OS=Qq([sat(0,KD.NotNull)],OS);yv.WildcardTransition=OS});var Kbe=Ae(_v=>{"use strict";m();var Gq=_v&&_v.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},vv=_v&&_v.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(_v,"__esModule",{value:!0});_v.LL1Analyzer=void 0;var aat=cq(),Gbe=Zg(),uat=$D(),Ybe=ty(),Yq=mv(),rx=wr(),lat=Hq(),cat=Am(),Kq=f1(),fat=FS(),dat=Wq(),RS=uu(),hat=hre(),R6=class pre{constructor(e){this.atn=e}getDecisionLookahead(e){if(e==null)return;let t=new Array(e.numberOfTransitions);for(let r=0;r<e.numberOfTransitions;r++){let i=new Yq.IntervalSet;t[r]=i;let s=new Gbe.Array2DHashSet(cat.ObjectEqualityComparator.INSTANCE),o=!1;this._LOOK(e.transition(r).target,void 0,Kq.PredictionContext.EMPTY_LOCAL,i,s,new Ybe.BitSet,o,!1),(i.size===0||i.contains(pre.HIT_PRED))&&(i=void 0,t[r]=i)}return t}LOOK(e,t,r){if(r===void 0){if(e.atn==null)throw new Error("Illegal state");r=e.atn.ruleToStopState[e.ruleIndex]}else r===null&&(r=void 0);let i=new Yq.IntervalSet,s=!0,o=!0;return this._LOOK(e,r,t,i,new Gbe.Array2DHashSet,new Ybe.BitSet,s,o),i}_LOOK(e,t,r,i,s,o,a,l){let f=uat.ATNConfig.create(e,0,r);if(!s.add(f))return;if(e===t){if(Kq.PredictionContext.isEmptyLocal(r)){i.add(RS.Token.EPSILON);return}else if(r.isEmpty){l&&i.add(RS.Token.EOF);return}}if(e instanceof fat.RuleStopState){if(r.isEmpty&&!Kq.PredictionContext.isEmptyLocal(r)){l&&i.add(RS.Token.EOF);return}let _=o.get(e.ruleIndex);try{o.clear(e.ruleIndex);for(let E=0;E<r.size;E++){if(r.getReturnState(E)===Kq.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let O=this.atn.states[r.getReturnState(E)];this._LOOK(O,t,r.getParent(E),i,s,o,a,l)}}finally{_&&o.set(e.ruleIndex)}}let p=e.numberOfTransitions;for(let _=0;_<p;_++){let E=e.transition(_);if(E instanceof dat.RuleTransition){if(o.get(E.ruleIndex))continue;let O=r.getChild(E.followState.stateNumber);try{o.set(E.ruleIndex),this._LOOK(E.target,t,O,i,s,o,a,l)}finally{o.clear(E.ruleIndex)}}else if(E instanceof aat.AbstractPredicateTransition)a?this._LOOK(E.target,t,r,i,s,o,a,l):i.add(pre.HIT_PRED);else if(E.isEpsilon)this._LOOK(E.target,t,r,i,s,o,a,l);else if(E instanceof hat.WildcardTransition)i.addAll(Yq.IntervalSet.of(RS.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType));else{let O=E.label;O!=null&&(E instanceof lat.NotSetTransition&&(O=O.complement(Yq.IntervalSet.of(RS.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType))),i.addAll(O))}}}};R6.HIT_PRED=RS.Token.INVALID_TYPE;Gq([rx.NotNull],R6.prototype,"atn",void 0);Gq([rx.NotNull,vv(0,rx.NotNull),vv(1,rx.NotNull)],R6.prototype,"LOOK",null);Gq([vv(0,rx.NotNull),vv(2,rx.NotNull),vv(3,rx.NotNull),vv(4,rx.NotNull),vv(5,rx.NotNull)],R6.prototype,"_LOOK",null);R6=Gq([vv(0,rx.NotNull)],R6);_v.LL1Analyzer=R6});var Fm=Ae(Rm=>{"use strict";m();var m1=Rm&&Rm.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},JD=Rm&&Rm.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Rm,"__esModule",{value:!0});Rm.ATN=void 0;var pat=w6(),Jq=ure(),mat=mv(),xat=dre(),gat=Kbe(),ep=wr(),yat=Am(),mre=f1(),NS=uu(),vat=I0(),j0=class{constructor(e,t){this.states=[],this.decisionToState=[],this.modeNameToStartState=new Map,this.modeToStartState=[],this.contextCache=new pat.Array2DHashMap(yat.ObjectEqualityComparator.INSTANCE),this.decisionToDFA=[],this.modeToDFA=[],this.LL1Table=new Map,this.grammarType=e,this.maxTokenType=t}clearDFA(){this.decisionToDFA=new Array(this.decisionToState.length);for(let e=0;e<this.decisionToDFA.length;e++)this.decisionToDFA[e]=new Jq.DFA(this.decisionToState[e],e);this.modeToDFA=new Array(this.modeToStartState.length);for(let e=0;e<this.modeToDFA.length;e++)this.modeToDFA[e]=new Jq.DFA(this.modeToStartState[e]);this.contextCache.clear(),this.LL1Table.clear()}get contextCacheSize(){return this.contextCache.size}getCachedContext(e){return mre.PredictionContext.getCachedContext(e,this.contextCache,new mre.PredictionContext.IdentityHashMap)}getDecisionToDFA(){return vat(this.decisionToDFA!=null&&this.decisionToDFA.length===this.decisionToState.length),this.decisionToDFA}nextTokens(e,t){return t?new gat.LL1Analyzer(this).LOOK(e,t):(e.nextTokenWithinRule||(e.nextTokenWithinRule=this.nextTokens(e,mre.PredictionContext.EMPTY_LOCAL),e.nextTokenWithinRule.setReadonly(!0)),e.nextTokenWithinRule)}addState(e){e.atn=this,e.stateNumber=this.states.length,this.states.push(e)}removeState(e){let t=new xat.InvalidState;t.atn=this,t.stateNumber=e.stateNumber,this.states[e.stateNumber]=t}defineMode(e,t){this.modeNameToStartState.set(e,t),this.modeToStartState.push(t),this.modeToDFA.push(new Jq.DFA(t)),this.defineDecisionState(t)}defineDecisionState(e){return this.decisionToState.push(e),e.decision=this.decisionToState.length-1,this.decisionToDFA.push(new Jq.DFA(e,e.decision)),e.decision}getDecisionState(e){if(this.decisionToState.length>0)return this.decisionToState[e]}get numberOfDecisions(){return this.decisionToState.length}getExpectedTokens(e,t){if(e<0||e>=this.states.length)throw new RangeError("Invalid state number.");let r=t,i=this.states[e],s=this.nextTokens(i);if(!s.contains(NS.Token.EPSILON))return s;let o=new mat.IntervalSet;for(o.addAll(s),o.remove(NS.Token.EPSILON);r!=null&&r.invokingState>=0&&s.contains(NS.Token.EPSILON);){let l=this.states[r.invokingState].transition(0);s=this.nextTokens(l.followState),o.addAll(s),o.remove(NS.Token.EPSILON),r=r._parent}return s.contains(NS.Token.EPSILON)&&o.add(NS.Token.EOF),o}};m1([ep.NotNull],j0.prototype,"states",void 0);m1([ep.NotNull],j0.prototype,"decisionToState",void 0);m1([ep.NotNull],j0.prototype,"modeNameToStartState",void 0);m1([ep.NotNull],j0.prototype,"modeToStartState",void 0);m1([ep.NotNull],j0.prototype,"decisionToDFA",void 0);m1([ep.NotNull],j0.prototype,"modeToDFA",void 0);m1([ep.NotNull],j0.prototype,"nextTokens",null);m1([JD(0,ep.NotNull)],j0.prototype,"removeState",null);m1([JD(0,ep.NotNull),JD(1,ep.NotNull)],j0.prototype,"defineMode",null);m1([JD(0,ep.NotNull)],j0.prototype,"defineDecisionState",null);m1([ep.NotNull],j0.prototype,"getExpectedTokens",null);j0=m1([JD(0,ep.NotNull)],j0);Rm.ATN=j0;(function(n){n.INVALID_ALT_NUMBER=0})(j0=Rm.ATN||(Rm.ATN={}));Rm.ATN=j0});var Xbe=Ae(bv=>{"use strict";m();var N6=bv&&bv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},_at=bv&&bv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(bv,"__esModule",{value:!0});bv.LexerIndexedCustomAction=void 0;var Xq=Pl(),L6=wr(),ay=class Jbe{constructor(e,t){this._offset=e,this._action=t}get offset(){return this._offset}get action(){return this._action}get actionType(){return this._action.actionType}get isPositionDependent(){return!0}execute(e){this._action.execute(e)}hashCode(){let e=Xq.MurmurHash.initialize();return e=Xq.MurmurHash.update(e,this._offset),e=Xq.MurmurHash.update(e,this._action),Xq.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof Jbe?this._offset===e._offset&&this._action.equals(e._action):!1}};N6([L6.NotNull],ay.prototype,"action",null);N6([L6.Override],ay.prototype,"actionType",null);N6([L6.Override],ay.prototype,"isPositionDependent",null);N6([L6.Override],ay.prototype,"execute",null);N6([L6.Override],ay.prototype,"hashCode",null);N6([L6.Override],ay.prototype,"equals",null);ay=N6([_at(1,L6.NotNull)],ay);bv.LexerIndexedCustomAction=ay});var Zbe=Ae(Sv=>{"use strict";m();var k6=Sv&&Sv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},xre=Sv&&Sv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Sv,"__esModule",{value:!0});Sv.LexerActionExecutor=void 0;var bat=ND(),gre=Xbe(),yre=Pl(),Ev=wr(),uy=class XD{constructor(e){this._lexerActions=e;let t=yre.MurmurHash.initialize();for(let r of e)t=yre.MurmurHash.update(t,r);this.cachedHashCode=yre.MurmurHash.finish(t,e.length)}static append(e,t){if(!e)return new XD([t]);let r=e._lexerActions.slice(0);return r.push(t),new XD(r)}fixOffsetBeforeMatch(e){let t;for(let r=0;r<this._lexerActions.length;r++)this._lexerActions[r].isPositionDependent&&!(this._lexerActions[r]instanceof gre.LexerIndexedCustomAction)&&(t||(t=this._lexerActions.slice(0)),t[r]=new gre.LexerIndexedCustomAction(e,this._lexerActions[r]));return t?new XD(t):this}get lexerActions(){return this._lexerActions}execute(e,t,r){let i=!1,s=t.index;try{for(let o of this._lexerActions){if(o instanceof gre.LexerIndexedCustomAction){let a=o.offset;t.seek(r+a),o=o.action,i=r+a!==s}else o.isPositionDependent&&(t.seek(s),i=!1);o.execute(e)}}finally{i&&t.seek(s)}}hashCode(){return this.cachedHashCode}equals(e){return e===this?!0:e instanceof XD?this.cachedHashCode===e.cachedHashCode&&bat.ArrayEqualityComparator.INSTANCE.equals(this._lexerActions,e._lexerActions):!1}};k6([Ev.NotNull],uy.prototype,"_lexerActions",void 0);k6([Ev.NotNull],uy.prototype,"lexerActions",null);k6([xre(0,Ev.NotNull)],uy.prototype,"execute",null);k6([Ev.Override],uy.prototype,"hashCode",null);k6([Ev.Override],uy.prototype,"equals",null);k6([Ev.NotNull,xre(1,Ev.NotNull)],uy,"append",null);uy=k6([xre(0,Ev.NotNull)],uy);Sv.LexerActionExecutor=uy});var eO=Ae(wv=>{"use strict";m();var vre=wv&&wv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Eat=wv&&wv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(wv,"__esModule",{value:!0});wv.LexerNoViableAltException=void 0;var Sat=Jg(),_re=wr(),wat=B0(),Cat=Tm(),ZD=class extends Sat.RecognitionException{constructor(e,t,r,i){super(e,t);this._startIndex=r,this._deadEndConfigs=i}get startIndex(){return this._startIndex}get deadEndConfigs(){return this._deadEndConfigs}get inputStream(){return super.inputStream}toString(){let e="";return this._startIndex>=0&&this._startIndex<this.inputStream.size&&(e=this.inputStream.getText(wat.Interval.of(this._startIndex,this._startIndex)),e=Cat.escapeWhitespace(e,!1)),`LexerNoViableAltException('${e}')`}};vre([_re.Override],ZD.prototype,"inputStream",null);vre([_re.Override],ZD.prototype,"toString",null);ZD=vre([Eat(1,_re.NotNull)],ZD);wv.LexerNoViableAltException=ZD});var eEe=Ae(LS=>{"use strict";m();var bre=LS&&LS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(LS,"__esModule",{value:!0});LS.OrderedATNConfigSet=void 0;var Aat=gS(),Ere=wr(),I6=class extends Aat.ATNConfigSet{constructor(e,t){e!=null&&t!=null?super(e,t):super()}clone(e){let t=new I6(this,e);return!e&&this.isReadOnly&&t.addAll(this),t}getKey(e){return{state:0,alt:e.hashCode()}}canMerge(e,t,r){return e.equals(r)}};bre([Ere.Override],I6.prototype,"clone",null);bre([Ere.Override],I6.prototype,"getKey",null);bre([Ere.Override],I6.prototype,"canMerge",null);LS.OrderedATNConfigSet=I6});var nO=Ae(Nm=>{"use strict";m();var Jl=Nm&&Nm.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Na=Nm&&Nm.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Nm,"__esModule",{value:!0});Nm.LexerATNSimulator=void 0;var Tat=$ne(),Fat=Fm(),Dat=$D(),Oat=gS(),Zq=WD(),tEe=HD(),Rat=B0(),tO=Yg(),kS=ly(),Nat=Zbe(),Lat=eO(),jo=wr(),nEe=eEe(),Sre=f1(),rEe=FS(),kat=uu(),iEe=I0(),wu=class tp extends Zq.ATNSimulator{constructor(e,t){super(e);this.optimize_tail_calls=!0,this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=kS.Lexer.DEFAULT_MODE,this.prevAccept=new tp.SimState,this.recog=t}copyState(e){this._charPositionInLine=e.charPositionInLine,this._line=e._line,this.mode=e.mode,this.startIndex=e.startIndex}match(e,t){this.mode=t;let r=e.mark();try{this.startIndex=e.index,this.prevAccept.reset();let i=this.atn.modeToDFA[t].s0;return i==null?this.matchATN(e):this.execATN(e,i)}finally{e.release(r)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=kS.Lexer.DEFAULT_MODE}matchATN(e){let t=this.atn.modeToStartState[this.mode];tp.debug&&console.log(`matchATN mode ${this.mode} start: ${t}`);let r=this.mode,i=this.computeStartState(e,t),s=i.hasSemanticContext;s&&(i.hasSemanticContext=!1);let o=this.addDFAState(i);if(!s){let l=this.atn.modeToDFA[this.mode];l.s0?o=l.s0:l.s0=o}let a=this.execATN(e,o);return tp.debug&&console.log(`DFA after matchATN: ${this.atn.modeToDFA[r].toLexerString()}`),a}execATN(e,t){tp.debug&&console.log(`start state closure=${t.configs}`),t.isAcceptState&&this.captureSimState(this.prevAccept,e,t);let r=e.LA(1),i=t;for(;;){tp.debug&&console.log(`execATN loop starting closure: ${i.configs}`);let s=this.getExistingTargetState(i,r);if(s==null&&(s=this.computeTargetState(e,i,r)),s===Zq.ATNSimulator.ERROR||(r!==tO.IntStream.EOF&&this.consume(e),s.isAcceptState&&(this.captureSimState(this.prevAccept,e,s),r===tO.IntStream.EOF)))break;r=e.LA(1),i=s}return this.failOrAccept(this.prevAccept,e,i.configs,r)}getExistingTargetState(e,t){let r=e.getTarget(t);return tp.debug&&r!=null&&console.log("reuse state "+e.stateNumber+" edge to "+r.stateNumber),r}computeTargetState(e,t,r){let i=new nEe.OrderedATNConfigSet;return this.getReachableConfigSet(e,t.configs,i,r),i.isEmpty?(i.hasSemanticContext||this.addDFAEdge(t,r,Zq.ATNSimulator.ERROR),Zq.ATNSimulator.ERROR):this.addDFAEdge(t,r,i)}failOrAccept(e,t,r,i){if(e.dfaState!=null){let s=e.dfaState.lexerActionExecutor;return this.accept(t,s,this.startIndex,e.index,e.line,e.charPos),e.dfaState.prediction}else{if(i===tO.IntStream.EOF&&t.index===this.startIndex)return kat.Token.EOF;throw new Lat.LexerNoViableAltException(this.recog,t,this.startIndex,r)}}getReachableConfigSet(e,t,r,i){let s=Fat.ATN.INVALID_ALT_NUMBER;for(let o of t){let a=o.alt===s;if(a&&o.hasPassedThroughNonGreedyDecision)continue;tp.debug&&console.log(`testing ${this.getTokenName(i)} at ${o.toString(this.recog,!0)}`);let l=o.state.numberOfOptimizedTransitions;for(let f=0;f<l;f++){let p=o.state.getOptimizedTransition(f),_=this.getReachableTarget(p,i);if(_!=null){let E=o.lexerActionExecutor,O;E!=null?(E=E.fixOffsetBeforeMatch(e.index-this.startIndex),O=o.transform(_,!0,E)):(iEe(o.lexerActionExecutor==null),O=o.transform(_,!0));let R=i===tO.IntStream.EOF;if(this.closure(e,O,r,a,!0,R)){s=o.alt;break}}}}}accept(e,t,r,i,s,o){tp.debug&&console.log(`ACTION ${t}`),e.seek(i),this._line=s,this._charPositionInLine=o,t!=null&&this.recog!=null&&t.execute(this.recog,e,r)}getReachableTarget(e,t){if(e.matches(t,kS.Lexer.MIN_CHAR_VALUE,kS.Lexer.MAX_CHAR_VALUE))return e.target}computeStartState(e,t){let r=Sre.PredictionContext.EMPTY_FULL,i=new nEe.OrderedATNConfigSet;for(let s=0;s<t.numberOfTransitions;s++){let o=t.transition(s).target,a=Dat.ATNConfig.create(o,s+1,r);this.closure(e,a,i,!1,!1,!1)}return i}closure(e,t,r,i,s,o){if(tp.debug&&console.log("closure("+t.toString(this.recog,!0)+")"),t.state instanceof rEe.RuleStopState){tp.debug&&(this.recog!=null?console.log(`closure at ${this.recog.ruleNames[t.state.ruleIndex]} rule stop ${t}`):console.log(`closure at rule stop ${t}`));let l=t.context;if(l.isEmpty)return r.add(t),!0;l.hasEmpty&&(r.add(t.transform(t.state,!0,Sre.PredictionContext.EMPTY_FULL)),i=!0);for(let f=0;f<l.size;f++){let p=l.getReturnState(f);if(p===Sre.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let _=l.getParent(f),E=this.atn.states[p],O=t.transform(E,!1,_);i=this.closure(e,O,r,i,s,o)}return i}t.state.onlyHasEpsilonTransitions||(!i||!t.hasPassedThroughNonGreedyDecision)&&r.add(t);let a=t.state;for(let l=0;l<a.numberOfOptimizedTransitions;l++){let f=a.getOptimizedTransition(l),p=this.getEpsilonTarget(e,t,f,r,s,o);p!=null&&(i=this.closure(e,p,r,i,s,o))}return i}getEpsilonTarget(e,t,r,i,s,o){let a;switch(r.serializationType){case 3:let l=r;if(this.optimize_tail_calls&&l.optimizedTailCall&&!t.context.hasEmpty)a=t.transform(r.target,!0);else{let p=t.context.getChild(l.followState.stateNumber);a=t.transform(r.target,!0,p)}break;case 10:throw new Error("Precedence predicates are not supported in lexers.");case 4:let f=r;tp.debug&&console.log("EVAL rule "+f.ruleIndex+":"+f.predIndex),i.hasSemanticContext=!0,this.evaluatePredicate(e,f.ruleIndex,f.predIndex,s)?a=t.transform(r.target,!0):a=void 0;break;case 6:if(t.context.hasEmpty){let p=Nat.LexerActionExecutor.append(t.lexerActionExecutor,this.atn.lexerActions[r.actionIndex]);a=t.transform(r.target,!0,p);break}else{a=t.transform(r.target,!0);break}case 1:a=t.transform(r.target,!0);break;case 5:case 2:case 7:if(o&&r.matches(tO.IntStream.EOF,kS.Lexer.MIN_CHAR_VALUE,kS.Lexer.MAX_CHAR_VALUE)){a=t.transform(r.target,!1);break}a=void 0;break;default:a=void 0;break}return a}evaluatePredicate(e,t,r,i){if(this.recog==null)return!0;if(!i)return this.recog.sempred(void 0,t,r);let s=this._charPositionInLine,o=this._line,a=e.index,l=e.mark();try{return this.consume(e),this.recog.sempred(void 0,t,r)}finally{this._charPositionInLine=s,this._line=o,e.seek(a),e.release(l)}}captureSimState(e,t,r){e.index=t.index,e.line=this._line,e.charPos=this._charPositionInLine,e.dfaState=r}addDFAEdge(e,t,r){if(r instanceof Oat.ATNConfigSet){let i=r.hasSemanticContext;i&&(r.hasSemanticContext=!1);let s=this.addDFAState(r);return i||this.addDFAEdge(e,t,s),s}else tp.debug&&console.log("EDGE "+e+" -> "+r+" upon "+String.fromCharCode(t)),e!=null&&e.setTarget(t,r)}addDFAState(e){iEe(!e.hasSemanticContext);let t=new tEe.DFAState(e),r=this.atn.modeToDFA[this.mode].states.get(t);if(r!=null)return r;e.optimizeConfigs(this);let i=new tEe.DFAState(e.clone(!0)),s;for(let o of e)if(o.state instanceof rEe.RuleStopState){s=o;break}if(s!=null){let o=this.atn.ruleToTokenType[s.state.ruleIndex],a=s.lexerActionExecutor;i.acceptStateInfo=new Tat.AcceptStateInfo(o,a)}return this.atn.modeToDFA[this.mode].addState(i)}getDFA(e){return this.atn.modeToDFA[e]}getText(e){return e.getText(Rat.Interval.of(this.startIndex,e.index-1))}get line(){return this._line}set line(e){this._line=e}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(e){this._charPositionInLine=e}consume(e){e.LA(1)===`
`.charCodeAt(0)?(this._line++,this._charPositionInLine=0):this._charPositionInLine++,e.consume()}getTokenName(e){return e===-1?"EOF":"'"+String.fromCharCode(e)+"'"}};Jl([jo.NotNull],wu.prototype,"prevAccept",void 0);Jl([Na(0,jo.NotNull)],wu.prototype,"copyState",null);Jl([Na(0,jo.NotNull)],wu.prototype,"match",null);Jl([jo.Override],wu.prototype,"reset",null);Jl([Na(0,jo.NotNull)],wu.prototype,"matchATN",null);Jl([Na(0,jo.NotNull),Na(1,jo.NotNull)],wu.prototype,"execATN",null);Jl([Na(0,jo.NotNull)],wu.prototype,"getExistingTargetState",null);Jl([jo.NotNull,Na(0,jo.NotNull),Na(1,jo.NotNull)],wu.prototype,"computeTargetState",null);Jl([Na(0,jo.NotNull),Na(1,jo.NotNull),Na(2,jo.NotNull)],wu.prototype,"getReachableConfigSet",null);Jl([Na(0,jo.NotNull)],wu.prototype,"accept",null);Jl([jo.NotNull,Na(0,jo.NotNull),Na(1,jo.NotNull)],wu.prototype,"computeStartState",null);Jl([Na(0,jo.NotNull),Na(1,jo.NotNull),Na(2,jo.NotNull)],wu.prototype,"closure",null);Jl([Na(0,jo.NotNull),Na(1,jo.NotNull),Na(2,jo.NotNull),Na(3,jo.NotNull)],wu.prototype,"getEpsilonTarget",null);Jl([Na(0,jo.NotNull)],wu.prototype,"evaluatePredicate",null);Jl([Na(0,jo.NotNull),Na(1,jo.NotNull),Na(2,jo.NotNull)],wu.prototype,"captureSimState",null);Jl([jo.NotNull,Na(0,jo.NotNull)],wu.prototype,"addDFAState",null);Jl([jo.NotNull],wu.prototype,"getDFA",null);Jl([jo.NotNull,Na(0,jo.NotNull)],wu.prototype,"getText",null);Jl([Na(0,jo.NotNull)],wu.prototype,"consume",null);Jl([jo.NotNull],wu.prototype,"getTokenName",null);wu=Jl([Na(0,jo.NotNull)],wu);Nm.LexerATNSimulator=wu;(function(n){n.debug=!1,n.dfa_debug=!1;class e{constructor(){this.index=-1,this.line=0,this.charPos=-1}reset(){this.index=-1,this.line=0,this.charPos=-1,this.dfaState=void 0}}n.SimState=e})(wu=Nm.LexerATNSimulator||(Nm.LexerATNSimulator={}));Nm.LexerATNSimulator=wu});var ly=Ae(PS=>{"use strict";m();var IS=PS&&PS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(PS,"__esModule",{value:!0});PS.Lexer=void 0;var Iat=_q(),Mat=Une(),Pat=B0(),sEe=Yg(),oEe=nO(),aEe=eO(),MS=wr(),Bat=yS(),Lm=uu(),Xl=class extends Bat.Recognizer{constructor(e){super();this._factory=Iat.CommonTokenFactory.DEFAULT,this._tokenStartCharIndex=-1,this._tokenStartLine=0,this._tokenStartCharPositionInLine=0,this._hitEOF=!1,this._channel=0,this._type=0,this._modeStack=new Mat.IntegerStack,this._mode=Xl.DEFAULT_MODE,this._input=e,this._tokenFactorySourcePair={source:this,stream:e}}static get DEFAULT_TOKEN_CHANNEL(){return Lm.Token.DEFAULT_CHANNEL}static get HIDDEN(){return Lm.Token.HIDDEN_CHANNEL}reset(e){(e===void 0||e)&&this._input.seek(0),this._token=void 0,this._type=Lm.Token.INVALID_TYPE,this._channel=Lm.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartCharPositionInLine=-1,this._tokenStartLine=-1,this._text=void 0,this._hitEOF=!1,this._mode=Xl.DEFAULT_MODE,this._modeStack.clear(),this.interpreter.reset()}nextToken(){if(this._input==null)throw new Error("nextToken requires a non-null input stream.");let e=this._input.mark();try{e:for(;;){if(this._hitEOF)return this.emitEOF();this._token=void 0,this._channel=Lm.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartCharPositionInLine=this.interpreter.charPositionInLine,this._tokenStartLine=this.interpreter.line,this._text=void 0;do{this._type=Lm.Token.INVALID_TYPE;let t;try{t=this.interpreter.match(this._input,this._mode)}catch(r){if(r instanceof aEe.LexerNoViableAltException)this.notifyListeners(r),this.recover(r),t=Xl.SKIP;else throw r}if(this._input.LA(1)===sEe.IntStream.EOF&&(this._hitEOF=!0),this._type===Lm.Token.INVALID_TYPE&&(this._type=t),this._type===Xl.SKIP)continue e}while(this._type===Xl.MORE);return this._token==null?this.emit():this._token}}finally{this._input.release(e)}}skip(){this._type=Xl.SKIP}more(){this._type=Xl.MORE}mode(e){this._mode=e}pushMode(e){oEe.LexerATNSimulator.debug&&console.log("pushMode "+e),this._modeStack.push(this._mode),this.mode(e)}popMode(){if(this._modeStack.isEmpty)throw new Error("EmptyStackException");return oEe.LexerATNSimulator.debug&&console.log("popMode back to "+this._modeStack.peek()),this.mode(this._modeStack.pop()),this._mode}get tokenFactory(){return this._factory}set tokenFactory(e){this._factory=e}get inputStream(){return this._input}set inputStream(e){this.reset(!1),this._input=e,this._tokenFactorySourcePair={source:this,stream:this._input}}get sourceName(){return this._input.sourceName}emit(e){return e||(e=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.charIndex-1,this._tokenStartLine,this._tokenStartCharPositionInLine)),this._token=e,e}emitEOF(){let e=this.charPositionInLine,t=this.line,r=this._factory.create(this._tokenFactorySourcePair,Lm.Token.EOF,void 0,Lm.Token.DEFAULT_CHANNEL,this._input.index,this._input.index-1,t,e);return this.emit(r),r}get line(){return this.interpreter.line}set line(e){this.interpreter.line=e}get charPositionInLine(){return this.interpreter.charPositionInLine}set charPositionInLine(e){this.interpreter.charPositionInLine=e}get charIndex(){return this._input.index}get text(){return this._text!=null?this._text:this.interpreter.getText(this._input)}set text(e){this._text=e}get token(){return this._token}set token(e){this._token=e}set type(e){this._type=e}get type(){return this._type}set channel(e){this._channel=e}get channel(){return this._channel}getAllTokens(){let e=[],t=this.nextToken();for(;t.type!==Lm.Token.EOF;)e.push(t),t=this.nextToken();return e}notifyListeners(e){let t=this._input.getText(Pat.Interval.of(this._tokenStartCharIndex,this._input.index)),r="token recognition error at: '"+this.getErrorDisplay(t)+"'",i=this.getErrorListenerDispatch();i.syntaxError&&i.syntaxError(this,void 0,this._tokenStartLine,this._tokenStartCharPositionInLine,r,e)}getErrorDisplay(e){if(typeof e=="number"){switch(e){case Lm.Token.EOF:return"<EOF>";case 10:return"\\n";case 9:return"\\t";case 13:return"\\r"}return String.fromCharCode(e)}return e.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}getCharErrorDisplay(e){let t=this.getErrorDisplay(e);return"'"+t+"'"}recover(e){e instanceof aEe.LexerNoViableAltException?this._input.LA(1)!==sEe.IntStream.EOF&&this.interpreter.consume(this._input):this._input.consume()}};Xl.DEFAULT_MODE=0;Xl.MORE=-2;Xl.SKIP=-3;Xl.MIN_CHAR_VALUE=0;Xl.MAX_CHAR_VALUE=1114111;IS([MS.Override],Xl.prototype,"nextToken",null);IS([MS.Override],Xl.prototype,"tokenFactory",null);IS([MS.Override],Xl.prototype,"inputStream",null);IS([MS.Override],Xl.prototype,"sourceName",null);IS([MS.Override],Xl.prototype,"line",null);IS([MS.Override],Xl.prototype,"charPositionInLine",null);PS.Lexer=Xl});var mv=Ae(Cv=>{"use strict";m();var wd=Cv&&Cv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},uEe=Cv&&Cv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Cv,"__esModule",{value:!0});Cv.IntervalSet=void 0;var jat=ND(),qat=vq(),BS=B0(),lEe=ly(),eU=Pl(),q0=wr(),wre=uu(),Ns=class{constructor(e){this.readonly=!1,e!=null?this._intervals=e.slice(0):this._intervals=[]}static get COMPLETE_CHAR_SET(){return Ns._COMPLETE_CHAR_SET===void 0&&(Ns._COMPLETE_CHAR_SET=Ns.of(lEe.Lexer.MIN_CHAR_VALUE,lEe.Lexer.MAX_CHAR_VALUE),Ns._COMPLETE_CHAR_SET.setReadonly(!0)),Ns._COMPLETE_CHAR_SET}static get EMPTY_SET(){return Ns._EMPTY_SET==null&&(Ns._EMPTY_SET=new Ns,Ns._EMPTY_SET.setReadonly(!0)),Ns._EMPTY_SET}static of(e,t=e){let r=new Ns;return r.add(e,t),r}clear(){if(this.readonly)throw new Error("can't alter readonly IntervalSet");this._intervals.length=0}add(e,t=e){this.addRange(BS.Interval.of(e,t))}addRange(e){if(this.readonly)throw new Error("can't alter readonly IntervalSet");if(!(e.b<e.a)){for(let t=0;t<this._intervals.length;t++){let r=this._intervals[t];if(e.equals(r))return;if(e.adjacent(r)||!e.disjoint(r)){let i=e.union(r);for(this._intervals[t]=i;t<this._intervals.length-1;){t++;let s=this._intervals[t];if(!i.adjacent(s)&&i.disjoint(s))break;this._intervals.splice(t,1),t--,this._intervals[t]=i.union(s)}return}if(e.startsBeforeDisjoint(r)){this._intervals.splice(t,0,e);return}}this._intervals.push(e)}}static or(e){let t=new Ns;for(let r of e)t.addAll(r);return t}addAll(e){if(e==null)return this;if(e instanceof Ns){let t=e,r=t._intervals.length;for(let i=0;i<r;i++){let s=t._intervals[i];this.add(s.a,s.b)}}else for(let t of e.toArray())this.add(t);return this}complementRange(e,t){return this.complement(Ns.of(e,t))}complement(e){if(e.isNil)return Ns.EMPTY_SET;let t;return e instanceof Ns?t=e:(t=new Ns,t.addAll(e)),t.subtract(this)}subtract(e){if(e==null||e.isNil)return new Ns(this._intervals);if(e instanceof Ns)return Ns.subtract(this,e);let t=new Ns;return t.addAll(e),Ns.subtract(this,t)}static subtract(e,t){if(e.isNil)return new Ns;let r=new Ns(e._intervals);if(t.isNil)return r;let i=0,s=0;for(;i<r._intervals.length&&s<t._intervals.length;){let o=r._intervals[i],a=t._intervals[s];if(a.b<o.a){s++;continue}if(a.a>o.b){i++;continue}let l,f;if(a.a>o.a&&(l=new BS.Interval(o.a,a.a-1)),a.b<o.b&&(f=new BS.Interval(a.b+1,o.b)),l)if(f){r._intervals[i]=l,r._intervals.splice(i+1,0,f),i++,s++;continue}else{r._intervals[i]=l,i++;continue}else if(f){r._intervals[i]=f,s++;continue}else{r._intervals.splice(i,1);continue}}return r}or(e){let t=new Ns;return t.addAll(this),t.addAll(e),t}and(e){if(e.isNil)return new Ns;let t=this._intervals,r=e._intervals,i,s=t.length,o=r.length,a=0,l=0;for(;a<s&&l<o;){let f=t[a],p=r[l];f.startsBeforeDisjoint(p)?a++:p.startsBeforeDisjoint(f)?l++:f.properlyContains(p)?(i||(i=new Ns),i.addRange(f.intersection(p)),l++):p.properlyContains(f)?(i||(i=new Ns),i.addRange(f.intersection(p)),a++):f.disjoint(p)||(i||(i=new Ns),i.addRange(f.intersection(p)),f.startsAfterNonDisjoint(p)?l++:p.startsAfterNonDisjoint(f)&&a++)}return i||new Ns}contains(e){let t=this._intervals.length,r=0,i=t-1;for(;r<=i;){let s=r+i>>1,o=this._intervals[s],a=o.a;if(o.b<e)r=s+1;else if(a>e)i=s-1;else return!0}return!1}get isNil(){return this._intervals==null||this._intervals.length===0}get maxElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[this._intervals.length-1].b}get minElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[0].a}get intervals(){return this._intervals}hashCode(){let e=eU.MurmurHash.initialize();for(let t of this._intervals)e=eU.MurmurHash.update(e,t.a),e=eU.MurmurHash.update(e,t.b);return e=eU.MurmurHash.finish(e,this._intervals.length*2),e}equals(e){return e==null||!(e instanceof Ns)?!1:jat.ArrayEqualityComparator.INSTANCE.equals(this._intervals,e._intervals)}toString(e=!1){let t="";if(this._intervals==null||this._intervals.length===0)return"{}";this.size>1&&(t+="{");let r=!0;for(let i of this._intervals){r?r=!1:t+=", ";let s=i.a,o=i.b;s===o?s===wre.Token.EOF?t+="<EOF>":e?t+="'"+String.fromCodePoint(s)+"'":t+=s:e?t+="'"+String.fromCodePoint(s)+"'..'"+String.fromCodePoint(o)+"'":t+=s+".."+o}return this.size>1&&(t+="}"),t}toStringVocabulary(e){if(this._intervals==null||this._intervals.length===0)return"{}";let t="";this.size>1&&(t+="{");let r=!0;for(let i of this._intervals){r?r=!1:t+=", ";let s=i.a,o=i.b;if(s===o)t+=this.elementName(e,s);else for(let a=s;a<=o;a++)a>s&&(t+=", "),t+=this.elementName(e,a)}return this.size>1&&(t+="}"),t}elementName(e,t){return t===wre.Token.EOF?"<EOF>":t===wre.Token.EPSILON?"<EPSILON>":e.getDisplayName(t)}get size(){let e=0,t=this._intervals.length;if(t===1){let r=this._intervals[0];return r.b-r.a+1}for(let r=0;r<t;r++){let i=this._intervals[r];e+=i.b-i.a+1}return e}toIntegerList(){let e=new qat.IntegerList(this.size),t=this._intervals.length;for(let r=0;r<t;r++){let i=this._intervals[r],s=i.a,o=i.b;for(let a=s;a<=o;a++)e.add(a)}return e}toSet(){let e=new Set;for(let t of this._intervals){let r=t.a,i=t.b;for(let s=r;s<=i;s++)e.add(s)}return e}toArray(){let e=new Array,t=this._intervals.length;for(let r=0;r<t;r++){let i=this._intervals[r],s=i.a,o=i.b;for(let a=s;a<=o;a++)e.push(a)}return e}remove(e){if(this.readonly)throw new Error("can't alter readonly IntervalSet");let t=this._intervals.length;for(let r=0;r<t;r++){let i=this._intervals[r],s=i.a,o=i.b;if(e<s)break;if(e===s&&e===o){this._intervals.splice(r,1);break}if(e===s){this._intervals[r]=BS.Interval.of(i.a+1,i.b);break}if(e===o){this._intervals[r]=BS.Interval.of(i.a,i.b-1);break}if(e>s&&e<o){let a=i.b;this._intervals[r]=BS.Interval.of(i.a,e-1),this.add(e+1,a)}}}get isReadonly(){return this.readonly}setReadonly(e){if(this.readonly&&!e)throw new Error("can't alter readonly IntervalSet");this.readonly=e}};wd([q0.Override],Ns.prototype,"addAll",null);wd([q0.Override],Ns.prototype,"complement",null);wd([q0.Override],Ns.prototype,"subtract",null);wd([q0.Override],Ns.prototype,"or",null);wd([q0.Override],Ns.prototype,"and",null);wd([q0.Override],Ns.prototype,"contains",null);wd([q0.Override],Ns.prototype,"isNil",null);wd([q0.Override],Ns.prototype,"hashCode",null);wd([q0.Override],Ns.prototype,"equals",null);wd([uEe(0,q0.NotNull)],Ns.prototype,"toStringVocabulary",null);wd([q0.NotNull,uEe(0,q0.NotNull)],Ns.prototype,"elementName",null);wd([q0.Override],Ns.prototype,"size",null);wd([q0.Override],Ns.prototype,"remove",null);wd([q0.NotNull],Ns,"of",null);wd([q0.NotNull],Ns,"subtract",null);Cv.IntervalSet=Ns});var Cre=Ae(jS=>{"use strict";m();var Uat=jS&&jS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(jS,"__esModule",{value:!0});jS.ATNDeserializationOptions=void 0;var $at=wr(),cy=class{constructor(e){this.readOnly=!1,e?(this.verifyATN=e.verifyATN,this.generateRuleBypassTransitions=e.generateRuleBypassTransitions,this.optimize=e.optimize):(this.verifyATN=!0,this.generateRuleBypassTransitions=!1,this.optimize=!0)}static get defaultOptions(){return cy._defaultOptions==null&&(cy._defaultOptions=new cy,cy._defaultOptions.makeReadOnly()),cy._defaultOptions}get isReadOnly(){return this.readOnly}makeReadOnly(){this.readOnly=!0}get isVerifyATN(){return this.verifyATN}set isVerifyATN(e){this.throwIfReadOnly(),this.verifyATN=e}get isGenerateRuleBypassTransitions(){return this.generateRuleBypassTransitions}set isGenerateRuleBypassTransitions(e){this.throwIfReadOnly(),this.generateRuleBypassTransitions=e}get isOptimize(){return this.optimize}set isOptimize(e){this.throwIfReadOnly(),this.optimize=e}throwIfReadOnly(){if(this.isReadOnly)throw new Error("The object is read only.")}};Uat([$at.NotNull],cy,"defaultOptions",null);jS.ATNDeserializationOptions=cy});var Are=Ae(Av=>{"use strict";m();var rO=Av&&Av.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},zat=Av&&Av.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Av,"__esModule",{value:!0});Av.ActionTransition=void 0;var iO=wr(),Hat=Xg(),M6=class extends Hat.Transition{constructor(e,t,r=-1,i=!1){super(e);this.ruleIndex=t,this.actionIndex=r,this.isCtxDependent=i}get serializationType(){return 6}get isEpsilon(){return!0}matches(e,t,r){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}};rO([iO.Override],M6.prototype,"serializationType",null);rO([iO.Override],M6.prototype,"isEpsilon",null);rO([iO.Override],M6.prototype,"matches",null);rO([iO.Override],M6.prototype,"toString",null);M6=rO([zat(0,iO.NotNull)],M6);Av.ActionTransition=M6});var Tre=Ae(Tv=>{"use strict";m();var sO=Tv&&Tv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Vat=Tv&&Tv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Tv,"__esModule",{value:!0});Tv.AtomTransition=void 0;var Wat=mv(),P6=wr(),Qat=Xg(),B6=class extends Qat.Transition{constructor(e,t){super(e);this._label=t}get serializationType(){return 5}get label(){return Wat.IntervalSet.of(this._label)}matches(e,t,r){return this._label===e}toString(){return String(this.label)}};sO([P6.Override],B6.prototype,"serializationType",null);sO([P6.Override,P6.NotNull],B6.prototype,"label",null);sO([P6.Override],B6.prototype,"matches",null);sO([P6.Override,P6.NotNull],B6.prototype,"toString",null);B6=sO([Vat(0,P6.NotNull)],B6);Tv.AtomTransition=B6});var oO=Ae(tU=>{"use strict";m();Object.defineProperty(tU,"__esModule",{value:!0});tU.BlockStartState=void 0;var Gat=rv(),cEe=class extends Gat.DecisionState{};tU.BlockStartState=cEe});var fEe=Ae(qS=>{"use strict";m();var Yat=qS&&qS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(qS,"__esModule",{value:!0});qS.BasicBlockStartState=void 0;var Kat=_f(),Jat=oO(),Xat=wr(),Fre=class extends Jat.BlockStartState{get stateType(){return Kat.ATNStateType.BLOCK_START}};Yat([Xat.Override],Fre.prototype,"stateType",null);qS.BasicBlockStartState=Fre});var dEe=Ae(US=>{"use strict";m();var Zat=US&&US.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(US,"__esModule",{value:!0});US.BlockEndState=void 0;var eut=Y2(),tut=_f(),nut=wr(),Dre=class extends eut.ATNState{get stateType(){return tut.ATNStateType.BLOCK_END}};Zat([nut.Override],Dre.prototype,"stateType",null);US.BlockEndState=Dre});var hEe=Ae(Fv=>{"use strict";m();var aO=Fv&&Fv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},rut=Fv&&Fv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Fv,"__esModule",{value:!0});Fv.EpsilonTransition=void 0;var $S=wr(),iut=Xg(),j6=class extends iut.Transition{constructor(e,t=-1){super(e);this._outermostPrecedenceReturn=t}get outermostPrecedenceReturn(){return this._outermostPrecedenceReturn}get serializationType(){return 1}get isEpsilon(){return!0}matches(e,t,r){return!1}toString(){return"epsilon"}};aO([$S.Override],j6.prototype,"serializationType",null);aO([$S.Override],j6.prototype,"isEpsilon",null);aO([$S.Override],j6.prototype,"matches",null);aO([$S.Override,$S.NotNull],j6.prototype,"toString",null);j6=aO([rut(0,$S.NotNull)],j6);Fv.EpsilonTransition=j6});var pEe=Ae(Dv=>{"use strict";m();var zS=Dv&&Dv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},sut=Dv&&Dv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Dv,"__esModule",{value:!0});Dv.LexerChannelAction=void 0;var nU=Pl(),q6=wr(),ix=class{constructor(e){this._channel=e}get channel(){return this._channel}get actionType(){return 0}get isPositionDependent(){return!1}execute(e){e.channel=this._channel}hashCode(){let e=nU.MurmurHash.initialize();return e=nU.MurmurHash.update(e,this.actionType),e=nU.MurmurHash.update(e,this._channel),nU.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof ix?this._channel===e._channel:!1}toString(){return`channel(${this._channel})`}};zS([q6.Override],ix.prototype,"actionType",null);zS([q6.Override],ix.prototype,"isPositionDependent",null);zS([q6.Override,sut(0,q6.NotNull)],ix.prototype,"execute",null);zS([q6.Override],ix.prototype,"hashCode",null);zS([q6.Override],ix.prototype,"equals",null);zS([q6.Override],ix.prototype,"toString",null);Dv.LexerChannelAction=ix});var mEe=Ae(Ov=>{"use strict";m();var uO=Ov&&Ov.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},out=Ov&&Ov.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Ov,"__esModule",{value:!0});Ov.LexerCustomAction=void 0;var lO=Pl(),HS=wr(),fy=class{constructor(e,t){this._ruleIndex=e,this._actionIndex=t}get ruleIndex(){return this._ruleIndex}get actionIndex(){return this._actionIndex}get actionType(){return 1}get isPositionDependent(){return!0}execute(e){e.action(void 0,this._ruleIndex,this._actionIndex)}hashCode(){let e=lO.MurmurHash.initialize();return e=lO.MurmurHash.update(e,this.actionType),e=lO.MurmurHash.update(e,this._ruleIndex),e=lO.MurmurHash.update(e,this._actionIndex),lO.MurmurHash.finish(e,3)}equals(e){return e===this?!0:e instanceof fy?this._ruleIndex===e._ruleIndex&&this._actionIndex===e._actionIndex:!1}};uO([HS.Override],fy.prototype,"actionType",null);uO([HS.Override],fy.prototype,"isPositionDependent",null);uO([HS.Override,out(0,HS.NotNull)],fy.prototype,"execute",null);uO([HS.Override],fy.prototype,"hashCode",null);uO([HS.Override],fy.prototype,"equals",null);Ov.LexerCustomAction=fy});var xEe=Ae(Rv=>{"use strict";m();var VS=Rv&&Rv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},aut=Rv&&Rv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Rv,"__esModule",{value:!0});Rv.LexerModeAction=void 0;var rU=Pl(),U6=wr(),sx=class{constructor(e){this._mode=e}get mode(){return this._mode}get actionType(){return 2}get isPositionDependent(){return!1}execute(e){e.mode(this._mode)}hashCode(){let e=rU.MurmurHash.initialize();return e=rU.MurmurHash.update(e,this.actionType),e=rU.MurmurHash.update(e,this._mode),rU.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof sx?this._mode===e._mode:!1}toString(){return`mode(${this._mode})`}};VS([U6.Override],sx.prototype,"actionType",null);VS([U6.Override],sx.prototype,"isPositionDependent",null);VS([U6.Override,aut(0,U6.NotNull)],sx.prototype,"execute",null);VS([U6.Override],sx.prototype,"hashCode",null);VS([U6.Override],sx.prototype,"equals",null);VS([U6.Override],sx.prototype,"toString",null);Rv.LexerModeAction=sx});var gEe=Ae(ox=>{"use strict";m();var WS=ox&&ox.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},uut=ox&&ox.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(ox,"__esModule",{value:!0});ox.LexerMoreAction=void 0;var Ore=Pl(),$6=wr(),dy=class{constructor(){}get actionType(){return 3}get isPositionDependent(){return!1}execute(e){e.more()}hashCode(){let e=Ore.MurmurHash.initialize();return e=Ore.MurmurHash.update(e,this.actionType),Ore.MurmurHash.finish(e,1)}equals(e){return e===this}toString(){return"more"}};WS([$6.Override],dy.prototype,"actionType",null);WS([$6.Override],dy.prototype,"isPositionDependent",null);WS([$6.Override,uut(0,$6.NotNull)],dy.prototype,"execute",null);WS([$6.Override],dy.prototype,"hashCode",null);WS([$6.Override],dy.prototype,"equals",null);WS([$6.Override],dy.prototype,"toString",null);ox.LexerMoreAction=dy;(function(n){n.INSTANCE=new n})(dy=ox.LexerMoreAction||(ox.LexerMoreAction={}))});var yEe=Ae(ax=>{"use strict";m();var QS=ax&&ax.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},lut=ax&&ax.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(ax,"__esModule",{value:!0});ax.LexerPopModeAction=void 0;var Rre=Pl(),z6=wr(),hy=class{constructor(){}get actionType(){return 4}get isPositionDependent(){return!1}execute(e){e.popMode()}hashCode(){let e=Rre.MurmurHash.initialize();return e=Rre.MurmurHash.update(e,this.actionType),Rre.MurmurHash.finish(e,1)}equals(e){return e===this}toString(){return"popMode"}};QS([z6.Override],hy.prototype,"actionType",null);QS([z6.Override],hy.prototype,"isPositionDependent",null);QS([z6.Override,lut(0,z6.NotNull)],hy.prototype,"execute",null);QS([z6.Override],hy.prototype,"hashCode",null);QS([z6.Override],hy.prototype,"equals",null);QS([z6.Override],hy.prototype,"toString",null);ax.LexerPopModeAction=hy;(function(n){n.INSTANCE=new n})(hy=ax.LexerPopModeAction||(ax.LexerPopModeAction={}))});var vEe=Ae(Nv=>{"use strict";m();var GS=Nv&&Nv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},cut=Nv&&Nv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Nv,"__esModule",{value:!0});Nv.LexerPushModeAction=void 0;var iU=Pl(),H6=wr(),ux=class{constructor(e){this._mode=e}get mode(){return this._mode}get actionType(){return 5}get isPositionDependent(){return!1}execute(e){e.pushMode(this._mode)}hashCode(){let e=iU.MurmurHash.initialize();return e=iU.MurmurHash.update(e,this.actionType),e=iU.MurmurHash.update(e,this._mode),iU.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof ux?this._mode===e._mode:!1}toString(){return`pushMode(${this._mode})`}};GS([H6.Override],ux.prototype,"actionType",null);GS([H6.Override],ux.prototype,"isPositionDependent",null);GS([H6.Override,cut(0,H6.NotNull)],ux.prototype,"execute",null);GS([H6.Override],ux.prototype,"hashCode",null);GS([H6.Override],ux.prototype,"equals",null);GS([H6.Override],ux.prototype,"toString",null);Nv.LexerPushModeAction=ux});var _Ee=Ae(lx=>{"use strict";m();var YS=lx&&lx.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},fut=lx&&lx.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(lx,"__esModule",{value:!0});lx.LexerSkipAction=void 0;var Nre=Pl(),V6=wr(),py=class{constructor(){}get actionType(){return 6}get isPositionDependent(){return!1}execute(e){e.skip()}hashCode(){let e=Nre.MurmurHash.initialize();return e=Nre.MurmurHash.update(e,this.actionType),Nre.MurmurHash.finish(e,1)}equals(e){return e===this}toString(){return"skip"}};YS([V6.Override],py.prototype,"actionType",null);YS([V6.Override],py.prototype,"isPositionDependent",null);YS([V6.Override,fut(0,V6.NotNull)],py.prototype,"execute",null);YS([V6.Override],py.prototype,"hashCode",null);YS([V6.Override],py.prototype,"equals",null);YS([V6.Override],py.prototype,"toString",null);lx.LexerSkipAction=py;(function(n){n.INSTANCE=new n})(py=lx.LexerSkipAction||(lx.LexerSkipAction={}))});var bEe=Ae(Lv=>{"use strict";m();var KS=Lv&&Lv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},dut=Lv&&Lv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Lv,"__esModule",{value:!0});Lv.LexerTypeAction=void 0;var sU=Pl(),W6=wr(),cx=class{constructor(e){this._type=e}get type(){return this._type}get actionType(){return 7}get isPositionDependent(){return!1}execute(e){e.type=this._type}hashCode(){let e=sU.MurmurHash.initialize();return e=sU.MurmurHash.update(e,this.actionType),e=sU.MurmurHash.update(e,this._type),sU.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof cx?this._type===e._type:!1}toString(){return`type(${this._type})`}};KS([W6.Override],cx.prototype,"actionType",null);KS([W6.Override],cx.prototype,"isPositionDependent",null);KS([W6.Override,dut(0,W6.NotNull)],cx.prototype,"execute",null);KS([W6.Override],cx.prototype,"hashCode",null);KS([W6.Override],cx.prototype,"equals",null);KS([W6.Override],cx.prototype,"toString",null);Lv.LexerTypeAction=cx});var kre=Ae(JS=>{"use strict";m();var hut=JS&&JS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(JS,"__esModule",{value:!0});JS.LoopEndState=void 0;var put=Y2(),mut=_f(),xut=wr(),Lre=class extends put.ATNState{get stateType(){return mut.ATNStateType.LOOP_END}};hut([xut.Override],Lre.prototype,"stateType",null);JS.LoopEndState=Lre});var wEe=Ae(ZS=>{"use strict";m();var EEe=ZS&&ZS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(ZS,"__esModule",{value:!0});ZS.ConflictInfo=void 0;var SEe=wr(),gut=Tm(),XS=class{constructor(e,t){this._conflictedAlts=e,this.exact=t}get conflictedAlts(){return this._conflictedAlts}get isExact(){return this.exact}equals(e){return e===this?!0:e instanceof XS?this.isExact===e.isExact&&gut.equals(this.conflictedAlts,e.conflictedAlts):!1}hashCode(){return this.conflictedAlts.hashCode()}};EEe([SEe.Override],XS.prototype,"equals",null);EEe([SEe.Override],XS.prototype,"hashCode",null);ZS.ConflictInfo=XS});var my=Ae(ew=>{"use strict";m();var fx=ew&&ew.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(ew,"__esModule",{value:!0});ew.TerminalNode=void 0;var yut=B0(),dx=wr(),vut=uu(),x1=class{constructor(e){this._symbol=e}getChild(e){throw new RangeError("Terminal Node has no children.")}get symbol(){return this._symbol}get parent(){return this._parent}setParent(e){this._parent=e}get payload(){return this._symbol}get sourceInterval(){let e=this._symbol.tokenIndex;return new yut.Interval(e,e)}get childCount(){return 0}accept(e){return e.visitTerminal(this)}get text(){return this._symbol.text||""}toStringTree(e){return this.toString()}toString(){return this._symbol.type===vut.Token.EOF?"<EOF>":this._symbol.text||""}};fx([dx.Override],x1.prototype,"getChild",null);fx([dx.Override],x1.prototype,"parent",null);fx([dx.Override],x1.prototype,"setParent",null);fx([dx.Override],x1.prototype,"payload",null);fx([dx.Override],x1.prototype,"sourceInterval",null);fx([dx.Override],x1.prototype,"childCount",null);fx([dx.Override],x1.prototype,"accept",null);fx([dx.Override],x1.prototype,"text",null);fx([dx.Override],x1.prototype,"toStringTree",null);fx([dx.Override],x1.prototype,"toString",null);ew.TerminalNode=x1});var nw=Ae(tw=>{"use strict";m();var _ut=tw&&tw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(tw,"__esModule",{value:!0});tw.ErrorNode=void 0;var but=wr(),Eut=my(),Ire=class extends Eut.TerminalNode{constructor(e){super(e)}accept(e){return e.visitErrorNode(this)}};_ut([but.Override],Ire.prototype,"accept",null);tw.ErrorNode=Ire});var rw=Ae(oU=>{"use strict";m();Object.defineProperty(oU,"__esModule",{value:!0});oU.RuleNode=void 0;var CEe=class{};oU.RuleNode=CEe});var xy=Ae(kv=>{"use strict";m();var Mre=kv&&kv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Pre=kv&&kv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(kv,"__esModule",{value:!0});kv.Trees=void 0;var Sut=Fm(),wut=dS(),Cut=nw(),aU=wr(),AEe=iw(),Bre=g1(),Aut=rw(),jre=my(),Tut=uu(),TEe=Tm(),np=class{static toStringTree(e,t){let r;t instanceof AEe.Parser?r=t.ruleNames:r=t;let i=TEe.escapeWhitespace(this.getNodeText(e,r),!1);if(e.childCount===0)return i;let s="";s+="(",i=TEe.escapeWhitespace(this.getNodeText(e,r),!1),s+=i,s+=" ";for(let o=0;o<e.childCount;o++)o>0&&(s+=" "),s+=this.toStringTree(e.getChild(o),r);return s+=")",s}static getNodeText(e,t){let r;if(t instanceof AEe.Parser)r=t.ruleNames;else if(t)r=t;else{let i=e.payload;return typeof i.text=="string"?i.text:e.payload.toString()}if(e instanceof Aut.RuleNode){let i=e.ruleContext,s=i.ruleIndex,o=r[s],a=i.altNumber;return a!==Sut.ATN.INVALID_ALT_NUMBER?o+":"+a:o}else{if(e instanceof Cut.ErrorNode)return e.toString();if(e instanceof jre.TerminalNode)return e.symbol.text||""}throw new TypeError("Unexpected node type")}static getChildren(e){let t=[];for(let r=0;r<e.childCount;r++)t.push(e.getChild(r));return t}static getAncestors(e){let t=[],r=e.parent;for(;r;)t.unshift(r),r=r.parent;return t}static isAncestorOf(e,t){if(!e||!t||!e.parent)return!1;let r=t.parent;for(;r;){if(e===r)return!0;r=r.parent}return!1}static findAllTokenNodes(e,t){return np.findAllNodes(e,t,!0)}static findAllRuleNodes(e,t){return np.findAllNodes(e,t,!1)}static findAllNodes(e,t,r){let i=[];return np._findAllNodes(e,t,r,i),i}static _findAllNodes(e,t,r,i){r&&e instanceof jre.TerminalNode?e.symbol.type===t&&i.push(e):!r&&e instanceof Bre.ParserRuleContext&&e.ruleIndex===t&&i.push(e);for(let s=0;s<e.childCount;s++)np._findAllNodes(e.getChild(s),t,r,i)}static getDescendants(e){let t=[];function r(i){t.push(i);let s=i.childCount;for(let o=0;o<s;o++)r(i.getChild(o))}return r(e),t}static getRootOfSubtreeEnclosingRegion(e,t,r){let i=e.childCount;for(let s=0;s<i;s++){let o=e.getChild(s),a=np.getRootOfSubtreeEnclosingRegion(o,t,r);if(a)return a}if(e instanceof Bre.ParserRuleContext){let s=e.stop;if(t>=e.start.tokenIndex&&(s==null||r<=s.tokenIndex))return e}}static stripChildrenOutOfRange(e,t,r,i){if(!e)return;let s=e.childCount;for(let o=0;o<s;o++){let a=e.getChild(o),l=a.sourceInterval;if(a instanceof Bre.ParserRuleContext&&(l.b<r||l.a>i)&&np.isAncestorOf(a,t)){let f=new wut.CommonToken(Tut.Token.INVALID_TYPE,"...");e.children[o]=new jre.TerminalNode(f)}}}static findNodeSuchThat(e,t){if(t(e))return e;let r=e.childCount;for(let i=0;i<r;i++){let s=np.findNodeSuchThat(e.getChild(i),t);if(s!==void 0)return s}}};Mre([Pre(0,aU.NotNull)],np,"toStringTree",null);Mre([aU.NotNull,Pre(0,aU.NotNull)],np,"getAncestors",null);Mre([Pre(0,aU.NotNull)],np,"getRootOfSubtreeEnclosingRegion",null);kv.Trees=np});var qre=Ae(sw=>{"use strict";m();var hx=sw&&sw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(sw,"__esModule",{value:!0});sw.RuleContext=void 0;var Fut=Fm(),Dut=yS(),Out=rw(),Rut=B0(),px=wr(),Nut=xy(),Lut=g1(),gh=class extends Out.RuleNode{constructor(e,t){super();this._parent=e,this.invokingState=t??-1}static getChildContext(e,t){return new gh(e,t)}depth(){let e=0,t=this;for(;t;)t=t._parent,e++;return e}get isEmpty(){return this.invokingState===-1}get sourceInterval(){return Rut.Interval.INVALID}get ruleContext(){return this}get parent(){return this._parent}setParent(e){this._parent=e}get payload(){return this}get text(){if(this.childCount===0)return"";let e="";for(let t=0;t<this.childCount;t++)e+=this.getChild(t).text;return e.toString()}get ruleIndex(){return-1}get altNumber(){return Fut.ATN.INVALID_ALT_NUMBER}set altNumber(e){}getChild(e){throw new RangeError("i must be greater than or equal to 0 and less than childCount")}get childCount(){return 0}accept(e){return e.visitChildren(this)}toStringTree(e){return Nut.Trees.toStringTree(this,e)}toString(e,t){let r=e instanceof Dut.Recognizer?e.ruleNames:e;t=t||Lut.ParserRuleContext.emptyContext();let i="",s=this;for(i+="[";s&&s!==t;){if(!r)s.isEmpty||(i+=s.invokingState);else{let o=s.ruleIndex;i+=o>=0&&o<r.length?r[o]:o.toString()}s._parent&&(r||!s._parent.isEmpty)&&(i+=" "),s=s._parent}return i+="]",i.toString()}};hx([px.Override],gh.prototype,"sourceInterval",null);hx([px.Override],gh.prototype,"ruleContext",null);hx([px.Override],gh.prototype,"parent",null);hx([px.Override],gh.prototype,"setParent",null);hx([px.Override],gh.prototype,"payload",null);hx([px.Override],gh.prototype,"text",null);hx([px.Override],gh.prototype,"getChild",null);hx([px.Override],gh.prototype,"childCount",null);hx([px.Override],gh.prototype,"accept",null);hx([px.Override],gh.prototype,"toStringTree",null);sw.RuleContext=gh});var g1=Ae(ow=>{"use strict";m();var Ure=ow&&ow.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(ow,"__esModule",{value:!0});ow.ParserRuleContext=void 0;var $re=nw(),zre=B0(),Hre=wr(),FEe=qre(),uU=my(),mx=class extends FEe.RuleContext{constructor(e,t){t==null?super():super(e,t)}static emptyContext(){return mx.EMPTY}copyFrom(e){if(this._parent=e._parent,this.invokingState=e.invokingState,this._start=e._start,this._stop=e._stop,e.children){this.children=[];for(let t of e.children)t instanceof $re.ErrorNode&&this.addChild(t)}}enterRule(e){}exitRule(e){}addAnyChild(e){return this.children?this.children.push(e):this.children=[e],e}addChild(e){let t;if(e instanceof uU.TerminalNode){e.setParent(this),this.addAnyChild(e);return}else if(e instanceof FEe.RuleContext){this.addAnyChild(e);return}else return e=new uU.TerminalNode(e),this.addAnyChild(e),e.setParent(this),e}addErrorNode(e){if(e instanceof $re.ErrorNode){let t=e;return t.setParent(this),this.addAnyChild(t)}else{let t=e,r=new $re.ErrorNode(t);return this.addAnyChild(r),r.setParent(this),r}}removeLastChild(){this.children&&this.children.pop()}get parent(){let e=super.parent;if(e===void 0||e instanceof mx)return e;throw new TypeError("Invalid parent type for ParserRuleContext")}getChild(e,t){if(!this.children||e<0||e>=this.children.length)throw new RangeError("index parameter must be between >= 0 and <= number of children.");if(t==null)return this.children[e];let r=this.tryGetChild(e,t);if(r===void 0)throw new Error("The specified node does not exist");return r}tryGetChild(e,t){if(!this.children||e<0||e>=this.children.length)return;let r=-1;for(let i of this.children)if(i instanceof t&&(r++,r===e))return i}getToken(e,t){let r=this.tryGetToken(e,t);if(r===void 0)throw new Error("The specified token does not exist");return r}tryGetToken(e,t){if(!this.children||t<0||t>=this.children.length)return;let r=-1;for(let i of this.children)if(i instanceof uU.TerminalNode&&i.symbol.type===e&&(r++,r===t))return i}getTokens(e){let t=[];if(!this.children)return t;for(let r of this.children)r instanceof uU.TerminalNode&&r.symbol.type===e&&t.push(r);return t}get ruleContext(){return this}getRuleContext(e,t){return this.getChild(e,t)}tryGetRuleContext(e,t){return this.tryGetChild(e,t)}getRuleContexts(e){let t=[];if(!this.children)return t;for(let r of this.children)r instanceof e&&t.push(r);return t}get childCount(){return this.children?this.children.length:0}get sourceInterval(){return this._start?!this._stop||this._stop.tokenIndex<this._start.tokenIndex?zre.Interval.of(this._start.tokenIndex,this._start.tokenIndex-1):zre.Interval.of(this._start.tokenIndex,this._stop.tokenIndex):zre.Interval.INVALID}get start(){return this._start}get stop(){return this._stop}toInfoString(e){let t=e.getRuleInvocationStack(this).reverse();return"ParserRuleContext"+t+"{start="+this._start+", stop="+this._stop+"}"}};mx.EMPTY=new mx;Ure([Hre.Override],mx.prototype,"parent",null);Ure([Hre.Override],mx.prototype,"childCount",null);Ure([Hre.Override],mx.prototype,"sourceInterval",null);ow.ParserRuleContext=mx});var LEe=Ae(gy=>{"use strict";m();var DEe=gy&&gy.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(gy,"__esModule",{value:!0});gy.PredictionMode=void 0;var kut=w6(),lU=Pl(),OEe=wr(),REe=FS(),NEe;(function(n){n[n.SLL=0]="SLL",n[n.LL=1]="LL",n[n.LL_EXACT_AMBIG_DETECTION=2]="LL_EXACT_AMBIG_DETECTION"})(NEe=gy.PredictionMode||(gy.PredictionMode={}));(function(n){class e extends kut.Array2DHashMap{constructor(){super(t.INSTANCE)}}class t{AltAndContextConfigEqualityComparator(){}hashCode(o){let a=lU.MurmurHash.initialize(7);return a=lU.MurmurHash.update(a,o.state.stateNumber),a=lU.MurmurHash.update(a,o.context),a=lU.MurmurHash.finish(a,2),a}equals(o,a){return o===a?!0:o==null||a==null?!1:o.state.stateNumber===a.state.stateNumber&&o.context.equals(a.context)}}t.INSTANCE=new t,DEe([OEe.Override],t.prototype,"hashCode",null),DEe([OEe.Override],t.prototype,"equals",null);function r(s){for(let o of s)if(o.state instanceof REe.RuleStopState)return!0;return!1}n.hasConfigInRuleStopState=r;function i(s){for(let o of s)if(!(o.state instanceof REe.RuleStopState))return!1;return!0}n.allConfigsInRuleStopStates=i})(NEe=gy.PredictionMode||(gy.PredictionMode={}))});var Wre=Ae(Iv=>{"use strict";m();var Iut=Iv&&Iv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Mut=Iv&&Iv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Iv,"__esModule",{value:!0});Iv.SimulatorState=void 0;var Put=wr(),But=g1(),Vre=class{constructor(e,t,r,i){this.outerContext=e??But.ParserRuleContext.emptyContext(),this.s0=t,this.useContext=r,this.remainingOuterContext=i}};Vre=Iut([Mut(1,Put.NotNull)],Vre);Iv.SimulatorState=Vre});var lw=Ae(Pv=>{"use strict";m();var Ao=Pv&&Pv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},qi=Pv&&Pv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Pv,"__esModule",{value:!0});Pv.ParserATNSimulator=void 0;var kEe=$ne(),jut=Are(),qut=Zg(),Uut=xq(),xx=Fm(),IEe=$D(),yy=gS(),aw=WD(),$ut=_f(),zut=Tre(),cO=ty(),Hut=wEe(),Vut=rv(),Qre=HD(),Wut=vq(),cU=B0(),fU=Yg(),li=wr(),Qut=Hq(),Gut=fO(),Yut=Am(),MEe=g1(),bf=f1(),Gre=Tq(),uw=LEe(),Q6=FS(),PEe=Wq(),Mv=E6(),Kut=$q(),y1=Wre(),dU=uu(),BEe=sy(),hl=I0(),Jut=65535,jEe=-(1<<31>>>0),Ms=class vo extends aw.ATNSimulator{constructor(e,t){super(e);this.predictionMode=uw.PredictionMode.LL,this.force_global_context=!1,this.always_try_local_context=!0,this.enable_global_context_dfa=!1,this.optimize_unique_closure=!0,this.optimize_ll1=!0,this.optimize_tail_calls=!0,this.tail_call_preserves_sll=!0,this.treat_sllk1_conflict_as_ambiguity=!1,this.reportAmbiguities=!1,this.userWantsCtxSensitive=!0,this._parser=t}getPredictionMode(){return this.predictionMode}setPredictionMode(e){this.predictionMode=e}reset(){}adaptivePredict(e,t,r,i){i===void 0&&(i=!1);let s=this.atn.decisionToDFA[t];if(hl(s!=null),this.optimize_ll1&&!s.isPrecedenceDfa&&!s.isEmpty){let f=e.LA(1);if(f>=0&&f<=65535){let p=(t<<16>>>0)+f,_=this.atn.LL1Table.get(p);if(_!=null)return _}}this.dfa=s,this.force_global_context?i=!0:this.always_try_local_context||(i=i||s.isContextSensitive),this.userWantsCtxSensitive=i||this.predictionMode!==uw.PredictionMode.SLL&&r!=null&&!this.atn.decisionToState[t].sll,r==null&&(r=MEe.ParserRuleContext.emptyContext());let o;s.isEmpty||(o=this.getStartState(s,e,r,i)),o==null&&(r==null&&(r=MEe.ParserRuleContext.emptyContext()),vo.debug&&console.log("ATN decision "+s.decision+" exec LA(1)=="+this.getLookaheadName(e)+", outerContext="+r.toString(this._parser)),o=this.computeStartState(s,r,i));let a=e.mark(),l=e.index;try{let f=this.execDFA(s,e,l,o);return vo.debug&&console.log("DFA after predictATN: "+s.toString(this._parser.vocabulary,this._parser.ruleNames)),f}finally{this.dfa=void 0,e.seek(l),e.release(a)}}getStartState(e,t,r,i){if(!i)if(e.isPrecedenceDfa){let a=e.getPrecedenceStartState(this._parser.precedence,!1);return a==null?void 0:new y1.SimulatorState(r,a,!1,r)}else return e.s0==null?void 0:new y1.SimulatorState(r,e.s0,!1,r);if(!this.enable_global_context_dfa)return;let s=r;hl(r!=null);let o;for(e.isPrecedenceDfa?o=e.getPrecedenceStartState(this._parser.precedence,!0):o=e.s0full;s!=null&&o!=null&&o.isContextSensitive;)s=this.skipTailCalls(s),o=o.getContextTarget(this.getReturnState(s)),s.isEmpty?hl(o==null||!o.isContextSensitive):s=s.parent;if(o!=null)return new y1.SimulatorState(r,o,i,s)}execDFA(e,t,r,i){let s=i.outerContext;vo.dfa_debug&&console.log("DFA decision "+e.decision+" exec LA(1)=="+this.getLookaheadName(t)+", outerContext="+s.toString(this._parser)),vo.dfa_debug&&console.log(e.toString(this._parser.vocabulary,this._parser.ruleNames));let o=i.s0,a=t.LA(1),l=i.remainingOuterContext;for(;;){if(vo.dfa_debug&&console.log("DFA state "+o.stateNumber+" LA(1)=="+this.getLookaheadName(t)),i.useContext)for(;o.isContextSymbol(a);){let _;if(l!=null&&(l=this.skipTailCalls(l),_=o.getContextTarget(this.getReturnState(l))),_==null){let E=new y1.SimulatorState(i.outerContext,o,i.useContext,l);return this.execATN(e,t,r,E)}hl(l!=null),l=l.parent,o=_}if(this.isAcceptState(o,i.useContext)){o.predicates!=null?vo.dfa_debug&&console.log("accept "+o):vo.dfa_debug&&console.log("accept; predict "+o.prediction+" in state "+o.stateNumber);break}hl(!this.isAcceptState(o,i.useContext));let p=this.getExistingTargetState(o,a);if(p==null){vo.dfa_debug&&a>=0&&console.log("no edge for "+this._parser.vocabulary.getDisplayName(a));let _;if(vo.dfa_debug){let O=cU.Interval.of(r,this._parser.inputStream.index);console.log("ATN exec upon "+this._parser.inputStream.getText(O)+" at DFA state "+o.stateNumber)}let E=new y1.SimulatorState(s,o,i.useContext,l);return _=this.execATN(e,t,r,E),vo.dfa_debug&&console.log("back from DFA update, alt="+_+`, dfa=
`+e.toString(this._parser.vocabulary,this._parser.ruleNames)),vo.dfa_debug&&console.log("DFA decision "+e.decision+" predicts "+_),_}else if(p===aw.ATNSimulator.ERROR){let _=new y1.SimulatorState(s,o,i.useContext,l);return this.handleNoViableAlt(t,r,_)}o=p,!this.isAcceptState(o,i.useContext)&&a!==fU.IntStream.EOF&&(t.consume(),a=t.LA(1))}if(!i.useContext&&o.configs.conflictInfo!=null&&e.atnStartState instanceof Vut.DecisionState&&!(!this.userWantsCtxSensitive||!o.configs.dipsIntoOuterContext&&o.configs.isExactConflict||this.treat_sllk1_conflict_as_ambiguity&&t.index===r)){hl(!i.useContext);let p,_=o.predicates;if(_!=null){let E=t.index;if(E!==r&&t.seek(r),p=this.evalSemanticContext(_,s,!0),p.cardinality()===1)return p.nextSetBit(0);E!==r&&t.seek(E)}if(this.reportAmbiguities){let E=new y1.SimulatorState(s,o,i.useContext,l);this.reportAttemptingFullContext(e,p,E,r,t.index)}return t.seek(r),this.adaptivePredict(t,e.decision,s,!0)}let f=o.predicates;if(f!=null){let p=t.index;r!==p&&t.seek(r);let _=this.evalSemanticContext(f,s,this.reportAmbiguities&&this.predictionMode===uw.PredictionMode.LL_EXACT_AMBIG_DETECTION);switch(_.cardinality()){case 0:throw this.noViableAlt(t,s,o.configs,r);case 1:return _.nextSetBit(0);default:return r!==p&&t.seek(p),this.reportAmbiguity(e,o,r,p,o.configs.isExactConflict,_,o.configs),_.nextSetBit(0)}}return vo.dfa_debug&&console.log("DFA decision "+e.decision+" predicts "+o.prediction),o.prediction}isAcceptState(e,t){return e.isAcceptState?e.configs.conflictingAlts==null?!0:t&&this.predictionMode===uw.PredictionMode.LL_EXACT_AMBIG_DETECTION?e.configs.isExactConflict:!0:!1}execATN(e,t,r,i){vo.debug&&console.log("execATN decision "+e.decision+" exec LA(1)=="+this.getLookaheadName(t));let s=i.outerContext,o=i.useContext,a=t.LA(1),l=i,f=new Gre.PredictionContextCache;for(;;){let p=this.computeReachSet(e,l,a,f);if(p==null)return this.setDFAEdge(l.s0,t.LA(1),aw.ATNSimulator.ERROR),this.handleNoViableAlt(t,r,l);let _=p.s0;if(hl(_.isAcceptState||_.prediction===xx.ATN.INVALID_ALT_NUMBER),hl(_.isAcceptState||_.configs.conflictInfo==null),this.isAcceptState(_,o)){let E=_.configs.conflictingAlts,O=E==null?_.prediction:xx.ATN.INVALID_ALT_NUMBER;if(O!==xx.ATN.INVALID_ALT_NUMBER){if(this.optimize_ll1&&t.index===r&&!e.isPrecedenceDfa&&p.outerContext===p.remainingOuterContext&&e.decision>=0&&!_.configs.hasSemanticContext&&a>=0&&a<=Jut){let q=(e.decision<<16>>>0)+a;this.atn.LL1Table.set(q,O)}o&&this.always_try_local_context&&this.reportContextSensitivity(e,O,p,r,t.index)}O=_.prediction;let R=E!=null&&this.userWantsCtxSensitive;if(R&&(R=!o&&(_.configs.dipsIntoOuterContext||!_.configs.isExactConflict)&&(!this.treat_sllk1_conflict_as_ambiguity||t.index!==r)),_.configs.hasSemanticContext){let q=_.predicates;if(q!=null){let z=t.index;switch(z!==r&&t.seek(r),E=this.evalSemanticContext(q,s,R||this.reportAmbiguities),E.cardinality()){case 0:throw this.noViableAlt(t,s,_.configs,r);case 1:return E.nextSetBit(0);default:break}z!==r&&t.seek(z)}}if(R){hl(!o),hl(this.isAcceptState(_,!1)),vo.debug&&console.log("RETRY with outerContext="+s);let q=this.computeStartState(e,s,!0);return this.reportAmbiguities&&this.reportAttemptingFullContext(e,E,p,r,t.index),t.seek(r),this.execATN(e,t,r,q)}else return E!=null&&(this.reportAmbiguities&&E.cardinality()>1&&this.reportAmbiguity(e,_,r,t.index,_.configs.isExactConflict,E,_.configs),O=E.nextSetBit(0)),O}l=p,a!==fU.IntStream.EOF&&(t.consume(),a=t.LA(1))}}handleNoViableAlt(e,t,r){if(r.s0!=null){let i=new cO.BitSet,s=0;for(let o of r.s0.configs)(o.reachesIntoOuterContext||o.state instanceof Q6.RuleStopState)&&(i.set(o.alt),s=Math.max(s,o.alt));switch(i.cardinality()){case 0:break;case 1:return i.nextSetBit(0);default:if(!r.s0.configs.hasSemanticContext)return i.nextSetBit(0);let o=new yy.ATNConfigSet;for(let l of r.s0.configs)(l.reachesIntoOuterContext||l.state instanceof Q6.RuleStopState)&&o.add(l);let a=this.getPredsForAmbigAlts(i,o,s);if(a!=null){let l=this.getPredicatePredictions(i,a);if(l!=null){let f=e.index;try{e.seek(t);let p=this.evalSemanticContext(l,r.outerContext,!1);if(!p.isEmpty)return p.nextSetBit(0)}finally{e.seek(f)}}}return i.nextSetBit(0)}}throw this.noViableAlt(e,r.outerContext,r.s0.configs,t)}computeReachSet(e,t,r,i){let s=t.useContext,o=t.remainingOuterContext,a=t.s0;if(s)for(;a.isContextSymbol(r);){let p;if(o!=null&&(o=this.skipTailCalls(o),p=a.getContextTarget(this.getReturnState(o))),p==null)break;hl(o!=null),o=o.parent,a=p}if(hl(!this.isAcceptState(a,s)),this.isAcceptState(a,s))return new y1.SimulatorState(t.outerContext,a,s,o);let l=a,f=this.getExistingTargetState(l,r);if(f==null){let p=this.computeTargetState(e,l,o,r,s,i);f=p[0],o=p[1]}if(f!==aw.ATNSimulator.ERROR)return hl(!s||!f.configs.dipsIntoOuterContext),new y1.SimulatorState(t.outerContext,f,s,o)}getExistingTargetState(e,t){return e.getTarget(t)}computeTargetState(e,t,r,i,s,o){let a=t.configs.toArray(),l,f=new yy.ATNConfigSet,p;do{let E=!s||r!=null;E||(f.isOutermostConfigSet=!0);let O=new yy.ATNConfigSet,R;for(let L of a){if(vo.debug&&console.log("testing "+this.getTokenName(i)+" at "+L.toString()),L.state instanceof Q6.RuleStopState){hl(L.context.isEmpty),(s&&!L.reachesIntoOuterContext||i===fU.IntStream.EOF)&&(R==null&&(R=[]),R.push(L));continue}let B=L.state.numberOfOptimizedTransitions;for(let P=0;P<B;P++){let G=L.state.getOptimizedTransition(P),ue=this.getReachableTarget(L,G,i);ue!=null&&O.add(L.transform(ue,!1),o)}}if(this.optimize_unique_closure&&R==null&&i!==dU.Token.EOF&&O.uniqueAlt!==xx.ATN.INVALID_ALT_NUMBER){O.isOutermostConfigSet=f.isOutermostConfigSet,f=O;break}let q=!1,z=i===dU.Token.EOF;if(this.closure(O,f,q,E,o,z),p=f.dipsIntoOuterContext,i===fU.IntStream.EOF&&(f=this.removeAllConfigsNotInRuleStopState(f,o)),R!=null&&(!s||!uw.PredictionMode.hasConfigInRuleStopState(f))){hl(R.length>0);for(let L of R)f.add(L,o)}if(s&&p){f.clear(),r=r,r=this.skipTailCalls(r);let L=this.getReturnState(r);if(l==null&&(l=new Wut.IntegerList),r.isEmpty?r=void 0:r=r.parent,l.add(L),L!==bf.PredictionContext.EMPTY_FULL_STATE_KEY)for(let B=0;B<a.length;B++)a[B]=a[B].appendContext(L,o)}}while(s&&p);return f.isEmpty?(this.setDFAEdge(t,i,aw.ATNSimulator.ERROR),[aw.ATNSimulator.ERROR,r]):[this.addDFAEdge(e,t,i,l,f,o),r]}removeAllConfigsNotInRuleStopState(e,t){if(uw.PredictionMode.allConfigsInRuleStopStates(e))return e;let r=new yy.ATNConfigSet;for(let i of e)i.state instanceof Q6.RuleStopState&&r.add(i,t);return r}computeStartState(e,t,r){let i=e.isPrecedenceDfa?e.getPrecedenceStartState(this._parser.precedence,r):r?e.s0full:e.s0;if(i!=null){if(!r)return new y1.SimulatorState(t,i,r,t);i.setContextSensitive(this.atn)}let s=e.decision,o=e.atnStartState,a=0,l=t,f=r?bf.PredictionContext.EMPTY_FULL:bf.PredictionContext.EMPTY_LOCAL,p=new Gre.PredictionContextCache;if(r){if(!this.enable_global_context_dfa)for(;l!=null;)l.isEmpty?(a=bf.PredictionContext.EMPTY_FULL_STATE_KEY,l=void 0):(a=this.getReturnState(l),f=f.appendSingleContext(a,p),l=l.parent);for(;i!=null&&i.isContextSensitive&&l!=null;){let E;if(l=this.skipTailCalls(l),l.isEmpty?(E=i.getContextTarget(bf.PredictionContext.EMPTY_FULL_STATE_KEY),a=bf.PredictionContext.EMPTY_FULL_STATE_KEY,l=void 0):(a=this.getReturnState(l),E=i.getContextTarget(a),f=f.appendSingleContext(a,p),l=l.parent),E==null)break;i=E}}if(i!=null&&!i.isContextSensitive)return new y1.SimulatorState(t,i,r,l);let _=new yy.ATNConfigSet;for(;;){let E=new yy.ATNConfigSet,O=o.numberOfTransitions;for(let P=0;P<O;P++){let G=o.transition(P).target;E.add(IEe.ATNConfig.create(G,P+1,f))}let R=l!=null;R||(_.isOutermostConfigSet=!0);let q=!0;this.closure(E,_,q,R,p,!1);let z=_.dipsIntoOuterContext,L;if(r&&!this.enable_global_context_dfa){i=this.addDFAState(e,_,p);break}else i==null?e.isPrecedenceDfa?(_=this.applyPrecedenceFilter(_,t,p),L=this.addDFAState(e,_,p),e.setPrecedenceStartState(this._parser.precedence,r,L)):(L=this.addDFAState(e,_,p),r?e.s0full?L=e.s0full:e.s0full=L:e.s0?L=e.s0:e.s0=L):(e.isPrecedenceDfa&&(_=this.applyPrecedenceFilter(_,t,p)),L=this.addDFAState(e,_,p),i.setContextTarget(a,L));if(i=L,!r||!z)break;L.setContextSensitive(this.atn),l=l,_.clear(),l=this.skipTailCalls(l);let B=this.getReturnState(l);l.isEmpty?l=void 0:l=l.parent,B!==bf.PredictionContext.EMPTY_FULL_STATE_KEY&&(f=f.appendSingleContext(B,p)),a=B}return new y1.SimulatorState(t,i,r,l)}applyPrecedenceFilter(e,t,r){let i=new Map,s=new yy.ATNConfigSet;for(let o of e){if(o.alt!==1)continue;let a=o.semanticContext.evalPrecedence(this._parser,t);a!=null&&(i.set(o.state.stateNumber,o.context),a!==o.semanticContext?s.add(o.transform(o.state,!1,a),r):s.add(o,r))}for(let o of e)if(o.alt!==1){if(!o.isPrecedenceFilterSuppressed){let a=i.get(o.state.stateNumber);if(a!=null&&a.equals(o.context))continue}s.add(o,r)}return s}getReachableTarget(e,t,r){if(t.matches(r,0,this.atn.maxTokenType))return t.target}predicateDFAState(e,t,r){let i=this.getConflictingAltsFromConfigSet(t);if(!i)throw new Error("This unhandled scenario is intended to be unreachable, but I'm currently not sure of why we know that's the case.");vo.debug&&console.log("predicateDFAState "+e);let s=this.getPredsForAmbigAlts(i,t,r),o;return s!=null&&(o=this.getPredicatePredictions(i,s),e.predicates=o),o}getPredsForAmbigAlts(e,t,r){let i=new Array(r+1),s=i.length;for(let l of t)e.get(l.alt)&&(i[l.alt]=Mv.SemanticContext.or(i[l.alt],l.semanticContext));let o=0;for(let l=0;l<s;l++)i[l]==null?i[l]=Mv.SemanticContext.NONE:i[l]!==Mv.SemanticContext.NONE&&o++;let a=i;return o===0&&(a=void 0),vo.debug&&console.log("getPredsForAmbigAlts result "+(a?Uut.Arrays.toString(a):"undefined")),a}getPredicatePredictions(e,t){let r=[],i=!1;for(let s=1;s<t.length;s++){let o=t[s];hl(o!=null),e!=null&&e.get(s)&&o===Mv.SemanticContext.NONE?r.push(new Qre.DFAState.PredPrediction(o,s)):o!==Mv.SemanticContext.NONE&&(i=!0,r.push(new Qre.DFAState.PredPrediction(o,s)))}if(!!i)return r}evalSemanticContext(e,t,r){let i=new cO.BitSet;for(let s of e){if(s.pred===Mv.SemanticContext.NONE){if(i.set(s.alt),!r)break;continue}let o=this.evalSemanticContextImpl(s.pred,t,s.alt);if((vo.debug||vo.dfa_debug)&&console.log("eval pred "+s+"="+o),o&&((vo.debug||vo.dfa_debug)&&console.log("PREDICT "+s.alt),i.set(s.alt),!r))break}return i}evalSemanticContextImpl(e,t,r){return e.eval(this._parser,t)}closure(e,t,r,i,s,o){s==null&&(s=Gre.PredictionContextCache.UNCACHED);let a=e,l=new qut.Array2DHashSet(Yut.ObjectEqualityComparator.INSTANCE);for(;a.size>0;){let f=new yy.ATNConfigSet;for(let p of a)this.closureImpl(p,t,f,l,r,i,s,0,o);a=f}}closureImpl(e,t,r,i,s,o,a,l,f){if(vo.debug&&console.log("closure("+e.toString(this._parser,!0)+")"),e.state instanceof Q6.RuleStopState)if(e.context.isEmpty)if(o)vo.debug&&console.log("FALLING off rule "+this.getRuleName(e.state.ruleIndex)),e.context===bf.PredictionContext.EMPTY_FULL?e=e.transform(e.state,!1,bf.PredictionContext.EMPTY_LOCAL):!e.reachesIntoOuterContext&&bf.PredictionContext.isEmptyLocal(e.context)&&t.add(e,a);else{t.add(e,a);return}else{let _=e.context.hasEmpty,E=e.context.size-(_?1:0);for(let O=0;O<E;O++){let R=e.context.getParent(O),q=this.atn.states[e.context.getReturnState(O)],z=IEe.ATNConfig.create(q,e.alt,R,e.semanticContext);z.outerContextDepth=e.outerContextDepth,z.isPrecedenceFilterSuppressed=e.isPrecedenceFilterSuppressed,hl(l>jEe),this.closureImpl(z,t,r,i,s,o,a,l-1,f)}if(!_||!o)return;e=e.transform(e.state,!1,bf.PredictionContext.EMPTY_LOCAL)}let p=e.state;p.onlyHasEpsilonTransitions||(t.add(e,a),vo.debug&&console.log("added config "+t));for(let _=0;_<p.numberOfOptimizedTransitions;_++){if(_===0&&p.stateType===$ut.ATNStateType.STAR_LOOP_ENTRY&&p.precedenceRuleDecision&&!e.context.hasEmpty){let q=p,z=!0;for(let L=0;L<e.context.size;L++)if(!q.precedenceLoopbackStates.get(e.context.getReturnState(L))){z=!1;break}if(z)continue}let E=p.getOptimizedTransition(_),O=!(E instanceof jut.ActionTransition)&&s,R=this.getEpsilonTarget(e,E,O,l===0,a,f);if(R!=null){if(E instanceof PEe.RuleTransition&&r!=null&&!s){r.add(R,a);continue}let q=l;if(e.state instanceof Q6.RuleStopState){if(this.dfa!=null&&this.dfa.isPrecedenceDfa&&E.outermostPrecedenceReturn===this.dfa.atnStartState.ruleIndex&&(R.isPrecedenceFilterSuppressed=!0),R.outerContextDepth=R.outerContextDepth+1,!i.add(R))continue;hl(q>jEe),q--,vo.debug&&console.log("dips into outer ctx: "+R)}else if(E instanceof PEe.RuleTransition)this.optimize_tail_calls&&E.optimizedTailCall&&(!this.tail_call_preserves_sll||!bf.PredictionContext.isEmptyLocal(e.context))?(hl(R.context===e.context),q===0&&(q--,!this.tail_call_preserves_sll&&bf.PredictionContext.isEmptyLocal(e.context)&&(R.outerContextDepth=R.outerContextDepth+1))):q>=0&&q++;else if(!E.isEpsilon&&!i.add(R))continue;this.closureImpl(R,t,r,i,O,o,a,q,f)}}}getRuleName(e){return this._parser!=null&&e>=0?this._parser.ruleNames[e]:"<rule "+e+">"}getEpsilonTarget(e,t,r,i,s,o){switch(t.serializationType){case 3:return this.ruleTransition(e,t,s);case 10:return this.precedenceTransition(e,t,r,i);case 4:return this.predTransition(e,t,r,i);case 6:return this.actionTransition(e,t);case 1:return e.transform(t.target,!1);case 5:case 2:case 7:return o&&t.matches(dU.Token.EOF,0,1)?e.transform(t.target,!1):void 0;default:return}}actionTransition(e,t){return vo.debug&&console.log("ACTION edge "+t.ruleIndex+":"+t.actionIndex),e.transform(t.target,!1)}precedenceTransition(e,t,r,i){vo.debug&&(console.log("PRED (collectPredicates="+r+") "+t.precedence+">=_p, ctx dependent=true"),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let s;if(r&&i){let o=Mv.SemanticContext.and(e.semanticContext,t.predicate);s=e.transform(t.target,!1,o)}else s=e.transform(t.target,!1);return vo.debug&&console.log("config from pred transition="+s),s}predTransition(e,t,r,i){vo.debug&&(console.log("PRED (collectPredicates="+r+") "+t.ruleIndex+":"+t.predIndex+", ctx dependent="+t.isCtxDependent),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let s;if(r&&(!t.isCtxDependent||t.isCtxDependent&&i)){let o=Mv.SemanticContext.and(e.semanticContext,t.predicate);s=e.transform(t.target,!1,o)}else s=e.transform(t.target,!1);return vo.debug&&console.log("config from pred transition="+s),s}ruleTransition(e,t,r){vo.debug&&console.log("CALL rule "+this.getRuleName(t.target.ruleIndex)+", ctx="+e.context);let i=t.followState,s;return this.optimize_tail_calls&&t.optimizedTailCall&&(!this.tail_call_preserves_sll||!bf.PredictionContext.isEmptyLocal(e.context))?s=e.context:r!=null?s=r.getChild(e.context,i.stateNumber):s=e.context.getChild(i.stateNumber),e.transform(t.target,!1,s)}isConflicted(e,t){if(e.uniqueAlt!==xx.ATN.INVALID_ALT_NUMBER||e.size<=1)return;let r=e.toArray();r.sort(vo.STATE_ALT_SORT_COMPARATOR);let i=!e.dipsIntoOuterContext,s=new cO.BitSet,o=r[0].alt;s.set(o);let a=r[0].state.nonStopStateNumber;for(let E of r){let O=E.state.nonStopStateNumber;if(O!==a){if(E.alt!==o)return;a=O}}let l;if(i){a=r[0].state.nonStopStateNumber,l=new cO.BitSet;let E=o;for(let R of r){if(R.state.nonStopStateNumber!==a)break;let q=R.alt;l.set(q),E=q}a=r[0].state.nonStopStateNumber;let O=o;for(let R of r){let q=R.state.nonStopStateNumber,z=R.alt;if(q!==a){if(O!==E){i=!1;break}a=q,O=o}else if(z!==O){if(z!==l.nextSetBit(O+1)){i=!1;break}O=z}}}a=r[0].state.nonStopStateNumber;let f=0,p=0,_=r[0].context;for(let E=1;E<r.length;E++){let O=r[E];if(O.alt!==o||O.state.nonStopStateNumber!==a)break;p=E,_=t.join(_,r[E].context)}for(let E=p+1;E<r.length;E++){let O=r[E],R=O.state;if(s.set(O.alt),R.nonStopStateNumber!==a){a=R.nonStopStateNumber,f=E,p=E,_=O.context;for(let P=f+1;P<r.length;P++){let G=r[P];if(G.alt!==o||G.state.nonStopStateNumber!==a)break;p=P,_=t.join(_,G.context)}E=p;continue}let q=O.context,z=O.alt,L=E;for(let P=L+1;P<r.length;P++){let G=r[P];if(G.alt!==z||G.state.nonStopStateNumber!==a)break;L=P,q=t.join(q,G.context)}E=L;let B=t.join(_,q);if(!_.equals(B))return;i=i&&_.equals(q)}return new Hut.ConflictInfo(s,i)}getConflictingAltsFromConfigSet(e){let t=e.conflictingAlts;return t==null&&e.uniqueAlt!==xx.ATN.INVALID_ALT_NUMBER&&(t=new cO.BitSet,t.set(e.uniqueAlt)),t}getTokenName(e){if(e===dU.Token.EOF)return"EOF";let r=(this._parser!=null?this._parser.vocabulary:BEe.VocabularyImpl.EMPTY_VOCABULARY).getDisplayName(e);return r===String(e)?r:r+"<"+e+">"}getLookaheadName(e){return this.getTokenName(e.LA(1))}dumpDeadEndConfigs(e){console.log("dead end configs: ");let t=e.deadEndConfigs;if(!!t)for(let r of t){let i="no edges";if(r.state.numberOfOptimizedTransitions>0){let s=r.state.getOptimizedTransition(0);s instanceof zut.AtomTransition?i="Atom "+this.getTokenName(s._label):s instanceof Kut.SetTransition&&(i=(s instanceof Qut.NotSetTransition?"~":"")+"Set "+s.set.toString())}console.log(r.toString(this._parser,!0)+":"+i)}}noViableAlt(e,t,r,i){return new Gut.NoViableAltException(this._parser,e,e.get(i),e.LT(1),r,t)}getUniqueAlt(e){let t=xx.ATN.INVALID_ALT_NUMBER;for(let r of e)if(t===xx.ATN.INVALID_ALT_NUMBER)t=r.alt;else if(r.alt!==t)return xx.ATN.INVALID_ALT_NUMBER;return t}configWithAltAtStopState(e,t){for(let r of e)if(r.alt===t&&r.state instanceof Q6.RuleStopState)return!0;return!1}addDFAEdge(e,t,r,i,s,o){hl(i==null||i.isEmpty||e.isContextSensitive);let a=t,l=this.addDFAState(e,s,o);if(i!=null)for(let f of i.toArray()){if(f===bf.PredictionContext.EMPTY_FULL_STATE_KEY&&a.configs.isOutermostConfigSet)continue;a.setContextSensitive(this.atn),a.setContextSymbol(r);let p=a.getContextTarget(f);if(p!=null){a=p;continue}p=this.addDFAContextState(e,a.configs,f,o),hl(f!==bf.PredictionContext.EMPTY_FULL_STATE_KEY||p.configs.isOutermostConfigSet),a.setContextTarget(f,p),a=p}return vo.debug&&console.log("EDGE "+a+" -> "+l+" upon "+this.getTokenName(r)),this.setDFAEdge(a,r,l),vo.debug&&console.log(`DFA=
`+e.toString(this._parser!=null?this._parser.vocabulary:BEe.VocabularyImpl.EMPTY_VOCABULARY,this._parser!=null?this._parser.ruleNames:void 0)),l}setDFAEdge(e,t,r){e!=null&&e.setTarget(t,r)}addDFAContextState(e,t,r,i){if(r!==bf.PredictionContext.EMPTY_FULL_STATE_KEY){let s=new yy.ATNConfigSet;for(let o of t)s.add(o.appendContext(r,i));return this.addDFAState(e,s,i)}else return hl(!t.isOutermostConfigSet,"Shouldn't be adding a duplicate edge."),t=t.clone(!0),t.isOutermostConfigSet=!0,this.addDFAState(e,t,i)}addDFAState(e,t,r){let i=this.enable_global_context_dfa||!t.isOutermostConfigSet;if(i){t.isReadOnly||t.optimizeConfigs(this);let f=this.createDFAState(e,t),p=e.states.get(f);if(p!=null)return p}t.isReadOnly||t.conflictInfo==null&&(t.conflictInfo=this.isConflicted(t,r));let s=this.createDFAState(e,t.clone(!0)),o=this.atn.getDecisionState(e.decision),a=this.getUniqueAlt(t);if(a!==xx.ATN.INVALID_ALT_NUMBER)s.acceptStateInfo=new kEe.AcceptStateInfo(a);else if(t.conflictingAlts!=null){let f=t.conflictingAlts;f&&(s.acceptStateInfo=new kEe.AcceptStateInfo(f.nextSetBit(0)))}if(s.isAcceptState&&t.hasSemanticContext&&this.predicateDFAState(s,t,o.numberOfTransitions),!i)return s;let l=e.addState(s);return vo.debug&&l===s&&console.log("adding new DFA state: "+s),l}createDFAState(e,t){return new Qre.DFAState(t)}reportAttemptingFullContext(e,t,r,i,s){if(vo.debug||vo.retry_debug){let o=cU.Interval.of(i,s);console.log("reportAttemptingFullContext decision="+e.decision+":"+r.s0.configs+", input="+this._parser.inputStream.getText(o))}if(this._parser!=null){let o=this._parser.getErrorListenerDispatch();o.reportAttemptingFullContext&&o.reportAttemptingFullContext(this._parser,e,i,s,t,r)}}reportContextSensitivity(e,t,r,i,s){if(vo.debug||vo.retry_debug){let o=cU.Interval.of(i,s);console.log("reportContextSensitivity decision="+e.decision+":"+r.s0.configs+", input="+this._parser.inputStream.getText(o))}if(this._parser!=null){let o=this._parser.getErrorListenerDispatch();o.reportContextSensitivity&&o.reportContextSensitivity(this._parser,e,i,s,t,r)}}reportAmbiguity(e,t,r,i,s,o,a){if(vo.debug||vo.retry_debug){let l=cU.Interval.of(r,i);console.log("reportAmbiguity "+o+":"+a+", input="+this._parser.inputStream.getText(l))}if(this._parser!=null){let l=this._parser.getErrorListenerDispatch();l.reportAmbiguity&&l.reportAmbiguity(this._parser,e,r,i,s,o,a)}}getReturnState(e){return e.isEmpty?bf.PredictionContext.EMPTY_FULL_STATE_KEY:this.atn.states[e.invokingState].transition(0).followState.stateNumber}skipTailCalls(e){if(!this.optimize_tail_calls)return e;for(;!e.isEmpty;){let t=this.atn.states[e.invokingState];if(hl(t.numberOfTransitions===1&&t.transition(0).serializationType===3),!t.transition(0).tailCall)break;e=e.parent}return e}get parser(){return this._parser}};Ms.debug=!1;Ms.dfa_debug=!1;Ms.retry_debug=!1;Ms.STATE_ALT_SORT_COMPARATOR=(n,e)=>{let t=n.state.nonStopStateNumber-e.state.nonStopStateNumber;return t!==0||(t=n.alt-e.alt,t!==0)?t:0};Ao([li.NotNull],Ms.prototype,"predictionMode",void 0);Ao([li.NotNull],Ms.prototype,"getPredictionMode",null);Ao([qi(0,li.NotNull)],Ms.prototype,"setPredictionMode",null);Ao([li.Override],Ms.prototype,"reset",null);Ao([qi(0,li.NotNull)],Ms.prototype,"adaptivePredict",null);Ao([qi(0,li.NotNull),qi(1,li.NotNull),qi(2,li.NotNull)],Ms.prototype,"getStartState",null);Ao([qi(0,li.NotNull),qi(1,li.NotNull),qi(3,li.NotNull)],Ms.prototype,"execDFA",null);Ao([qi(0,li.NotNull),qi(1,li.NotNull),qi(3,li.NotNull)],Ms.prototype,"execATN",null);Ao([qi(0,li.NotNull),qi(2,li.NotNull)],Ms.prototype,"handleNoViableAlt",null);Ao([qi(0,li.NotNull)],Ms.prototype,"getExistingTargetState",null);Ao([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull)],Ms.prototype,"computeTargetState",null);Ao([li.NotNull,qi(0,li.NotNull)],Ms.prototype,"removeAllConfigsNotInRuleStopState",null);Ao([li.NotNull],Ms.prototype,"computeStartState",null);Ao([li.NotNull,qi(0,li.NotNull)],Ms.prototype,"applyPrecedenceFilter",null);Ao([qi(0,li.NotNull),qi(1,li.NotNull)],Ms.prototype,"getReachableTarget",null);Ao([qi(0,li.NotNull),qi(1,li.NotNull)],Ms.prototype,"getPredsForAmbigAlts",null);Ao([qi(0,li.NotNull)],Ms.prototype,"evalSemanticContext",null);Ao([qi(0,li.NotNull)],Ms.prototype,"evalSemanticContextImpl",null);Ao([qi(1,li.NotNull),qi(4,li.Nullable)],Ms.prototype,"closure",null);Ao([qi(0,li.NotNull),qi(1,li.NotNull),qi(2,li.Nullable),qi(3,li.NotNull),qi(6,li.NotNull)],Ms.prototype,"closureImpl",null);Ao([li.NotNull],Ms.prototype,"getRuleName",null);Ao([qi(0,li.NotNull),qi(1,li.NotNull)],Ms.prototype,"getEpsilonTarget",null);Ao([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull)],Ms.prototype,"actionTransition",null);Ao([li.Nullable,qi(0,li.NotNull),qi(1,li.NotNull)],Ms.prototype,"precedenceTransition",null);Ao([li.Nullable,qi(0,li.NotNull),qi(1,li.NotNull)],Ms.prototype,"predTransition",null);Ao([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull),qi(2,li.Nullable)],Ms.prototype,"ruleTransition",null);Ao([qi(0,li.NotNull)],Ms.prototype,"isConflicted",null);Ao([li.NotNull],Ms.prototype,"getTokenName",null);Ao([qi(0,li.NotNull)],Ms.prototype,"dumpDeadEndConfigs",null);Ao([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull),qi(2,li.NotNull)],Ms.prototype,"noViableAlt",null);Ao([qi(0,li.NotNull)],Ms.prototype,"getUniqueAlt",null);Ao([qi(0,li.NotNull)],Ms.prototype,"configWithAltAtStopState",null);Ao([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull),qi(4,li.NotNull)],Ms.prototype,"addDFAEdge",null);Ao([qi(0,li.Nullable),qi(2,li.Nullable)],Ms.prototype,"setDFAEdge",null);Ao([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull)],Ms.prototype,"addDFAContextState",null);Ao([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull)],Ms.prototype,"addDFAState",null);Ao([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull)],Ms.prototype,"createDFAState",null);Ao([qi(0,li.NotNull),qi(2,li.NotNull)],Ms.prototype,"reportAttemptingFullContext",null);Ao([qi(0,li.NotNull),qi(2,li.NotNull)],Ms.prototype,"reportContextSensitivity",null);Ao([qi(0,li.NotNull),qi(5,li.NotNull),qi(6,li.NotNull)],Ms.prototype,"reportAmbiguity",null);Ms=Ao([qi(0,li.NotNull)],Ms);Pv.ParserATNSimulator=Ms});var qEe=Ae(cw=>{"use strict";m();var Xut=cw&&cw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(cw,"__esModule",{value:!0});cw.PlusBlockStartState=void 0;var Zut=_f(),elt=oO(),tlt=wr(),Yre=class extends elt.BlockStartState{get stateType(){return Zut.ATNStateType.PLUS_BLOCK_START}};Xut([tlt.Override],Yre.prototype,"stateType",null);cw.PlusBlockStartState=Yre});var UEe=Ae(fw=>{"use strict";m();var nlt=fw&&fw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(fw,"__esModule",{value:!0});fw.PlusLoopbackState=void 0;var rlt=_f(),ilt=rv(),slt=wr(),Kre=class extends ilt.DecisionState{get stateType(){return rlt.ATNStateType.PLUS_LOOP_BACK}};nlt([slt.Override],Kre.prototype,"stateType",null);fw.PlusLoopbackState=Kre});var $Ee=Ae(Bv=>{"use strict";m();var dO=Bv&&Bv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},olt=Bv&&Bv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Bv,"__esModule",{value:!0});Bv.PrecedencePredicateTransition=void 0;var alt=cq(),hO=wr(),ult=E6(),G6=class extends alt.AbstractPredicateTransition{constructor(e,t){super(e);this.precedence=t}get serializationType(){return 10}get isEpsilon(){return!0}matches(e,t,r){return!1}get predicate(){return new ult.SemanticContext.PrecedencePredicate(this.precedence)}toString(){return this.precedence+" >= _p"}};dO([hO.Override],G6.prototype,"serializationType",null);dO([hO.Override],G6.prototype,"isEpsilon",null);dO([hO.Override],G6.prototype,"matches",null);dO([hO.Override],G6.prototype,"toString",null);G6=dO([olt(0,hO.NotNull)],G6);Bv.PrecedencePredicateTransition=G6});var zEe=Ae(jv=>{"use strict";m();var pO=jv&&jv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},llt=jv&&jv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(jv,"__esModule",{value:!0});jv.RangeTransition=void 0;var clt=mv(),Y6=wr(),flt=Xg(),K6=class extends flt.Transition{constructor(e,t,r){super(e);this.from=t,this.to=r}get serializationType(){return 2}get label(){return clt.IntervalSet.of(this.from,this.to)}matches(e,t,r){return e>=this.from&&e<=this.to}toString(){return"'"+String.fromCodePoint(this.from)+"'..'"+String.fromCodePoint(this.to)+"'"}};pO([Y6.Override],K6.prototype,"serializationType",null);pO([Y6.Override,Y6.NotNull],K6.prototype,"label",null);pO([Y6.Override],K6.prototype,"matches",null);pO([Y6.Override,Y6.NotNull],K6.prototype,"toString",null);K6=pO([llt(0,Y6.NotNull)],K6);jv.RangeTransition=K6});var HEe=Ae(dw=>{"use strict";m();var dlt=dw&&dw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(dw,"__esModule",{value:!0});dw.RuleStartState=void 0;var hlt=Y2(),plt=_f(),mlt=wr(),Jre=class extends hlt.ATNState{constructor(){super(...arguments);this.isPrecedenceRule=!1,this.leftFactored=!1}get stateType(){return plt.ATNStateType.RULE_START}};dlt([mlt.Override],Jre.prototype,"stateType",null);dw.RuleStartState=Jre});var VEe=Ae(hw=>{"use strict";m();var xlt=hw&&hw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(hw,"__esModule",{value:!0});hw.StarBlockStartState=void 0;var glt=_f(),ylt=oO(),vlt=wr(),Xre=class extends ylt.BlockStartState{get stateType(){return glt.ATNStateType.STAR_BLOCK_START}};xlt([vlt.Override],Xre.prototype,"stateType",null);hw.StarBlockStartState=Xre});var WEe=Ae(pw=>{"use strict";m();var _lt=pw&&pw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(pw,"__esModule",{value:!0});pw.StarLoopbackState=void 0;var blt=Y2(),Elt=_f(),Slt=wr(),Zre=class extends blt.ATNState{get loopEntryState(){return this.transition(0).target}get stateType(){return Elt.ATNStateType.STAR_LOOP_BACK}};_lt([Slt.Override],Zre.prototype,"stateType",null);pw.StarLoopbackState=Zre});var QEe=Ae(mw=>{"use strict";m();var wlt=mw&&mw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(mw,"__esModule",{value:!0});mw.TokensStartState=void 0;var Clt=_f(),Alt=rv(),Tlt=wr(),eie=class extends Alt.DecisionState{get stateType(){return Clt.ATNStateType.TOKEN_START}};wlt([Tlt.Override],eie.prototype,"stateType",null);mw.TokensStartState=eie});var GEe=Ae(hU=>{"use strict";m();Object.defineProperty(hU,"__esModule",{value:!0});hU.UUID=void 0;var Flt=Pl(),mO=class{constructor(e,t,r,i){this.data=new Uint32Array(4),this.data[0]=e,this.data[1]=t,this.data[2]=r,this.data[3]=i}static fromString(e){if(!/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(e))throw new Error("Incorrectly formatted UUID");let t=e.split("-"),r=parseInt(t[0],16),i=(parseInt(t[1],16)<<16>>>0)+parseInt(t[2],16),s=(parseInt(t[3],16)<<16>>>0)+parseInt(t[4].substr(0,4),16),o=parseInt(t[4].substr(-8),16);return new mO(r,i,s,o)}hashCode(){return Flt.MurmurHash.hashCode([this.data[0],this.data[1],this.data[2],this.data[3]])}equals(e){return e===this?!0:e instanceof mO?this.data[0]===e.data[0]&&this.data[1]===e.data[1]&&this.data[2]===e.data[2]&&this.data[3]===e.data[3]:!1}toString(){return("00000000"+this.data[0].toString(16)).substr(-8)+"-"+("0000"+(this.data[1]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[1].toString(16)).substr(-4)+"-"+("0000"+(this.data[2]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[2].toString(16)).substr(-4)+("00000000"+this.data[3].toString(16)).substr(-8)}};hU.UUID=mO});var vO=Ae(Uv=>{"use strict";m();var pU=Uv&&Uv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},tie=Uv&&Uv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Uv,"__esModule",{value:!0});Uv.ATNDeserializer=void 0;var nie=Are(),Dlt=Zg(),Olt=Fm(),Rlt=Cre(),Xf=_f(),xw=Tre(),YEe=fEe(),mU=cre(),KEe=ty(),xU=dEe(),rie=oO(),Nlt=rv(),JEe=ure(),vy=hEe(),iie=mv(),XEe=dre(),Llt=pEe(),ZEe=mEe(),klt=xEe(),Ilt=gEe(),Mlt=yEe(),Plt=vEe(),Blt=_Ee(),jlt=bEe(),gw=kre(),xO=wr(),sie=Hq(),oie=lw(),aie=qEe(),e7e=UEe(),qlt=$Ee(),Ult=Ine(),gO=zEe(),t7e=HEe(),qv=FS(),yO=Wq(),gU=$q(),uie=VEe(),lie=WEe(),yw=jq(),cie=uu(),$lt=QEe(),yU=GEe(),zlt=hre(),n7e;(function(n){n[n.UNICODE_BMP=0]="UNICODE_BMP",n[n.UNICODE_SMP=1]="UNICODE_SMP"})(n7e||(n7e={}));var Si=class{constructor(e){e===void 0&&(e=Rlt.ATNDeserializationOptions.defaultOptions),this.deserializationOptions=e}static get SERIALIZED_VERSION(){return 3}static isFeatureSupported(e,t){let r=Si.SUPPORTED_UUIDS.findIndex(i=>i.equals(e));return r<0?!1:Si.SUPPORTED_UUIDS.findIndex(i=>i.equals(t))>=r}static getUnicodeDeserializer(e){return e===0?{readUnicode:(t,r)=>Si.toInt(t[r]),size:1}:{readUnicode:(t,r)=>Si.toInt32(t,r),size:2}}deserialize(e){e=e.slice(0);for(let I=1;I<e.length;I++)e[I]=e[I]-2&65535;let t=0,r=Si.toInt(e[t++]);if(r!==Si.SERIALIZED_VERSION){let I=`Could not deserialize ATN with version ${r} (expected ${Si.SERIALIZED_VERSION}).`;throw new Error(I)}let i=Si.toUUID(e,t);if(t+=8,Si.SUPPORTED_UUIDS.findIndex(I=>I.equals(i))<0){let I=`Could not deserialize ATN with UUID ${i} (expected ${Si.SERIALIZED_UUID} or a legacy UUID).`;throw new Error(I)}let s=Si.isFeatureSupported(Si.ADDED_LEXER_ACTIONS,i),o=Si.toInt(e[t++]),a=Si.toInt(e[t++]),l=new Olt.ATN(o,a),f=[],p=[],_=Si.toInt(e[t++]);for(let I=0;I<_;I++){let J=Si.toInt(e[t++]);if(J===Xf.ATNStateType.INVALID_TYPE){l.addState(new XEe.InvalidState);continue}let he=Si.toInt(e[t++]);he===65535&&(he=-1);let ye=this.stateFactory(J,he);if(J===Xf.ATNStateType.LOOP_END){let He=Si.toInt(e[t++]);f.push([ye,He])}else if(ye instanceof rie.BlockStartState){let He=Si.toInt(e[t++]);p.push([ye,He])}l.addState(ye)}for(let I of f)I[0].loopBackState=l.states[I[1]];for(let I of p)I[0].endState=l.states[I[1]];let E=Si.toInt(e[t++]);for(let I=0;I<E;I++){let J=Si.toInt(e[t++]);l.states[J].nonGreedy=!0}let O=Si.toInt(e[t++]);for(let I=0;I<O;I++){let J=Si.toInt(e[t++]);l.states[J].sll=!0}let R=Si.toInt(e[t++]);for(let I=0;I<R;I++){let J=Si.toInt(e[t++]);l.states[J].isPrecedenceRule=!0}let q=Si.toInt(e[t++]);l.grammarType===0&&(l.ruleToTokenType=new Int32Array(q)),l.ruleToStartState=new Array(q);for(let I=0;I<q;I++){let J=Si.toInt(e[t++]),he=l.states[J];if(he.leftFactored=Si.toInt(e[t++])!==0,l.ruleToStartState[I]=he,l.grammarType===0){let ye=Si.toInt(e[t++]);if(ye===65535&&(ye=cie.Token.EOF),l.ruleToTokenType[I]=ye,!Si.isFeatureSupported(Si.ADDED_LEXER_ACTIONS,i)){let He=Si.toInt(e[t++]);He===65535&&(He=-1)}}}l.ruleToStopState=new Array(q);for(let I of l.states)I instanceof qv.RuleStopState&&(l.ruleToStopState[I.ruleIndex]=I,l.ruleToStartState[I.ruleIndex].stopState=I);let z=Si.toInt(e[t++]);for(let I=0;I<z;I++){let J=Si.toInt(e[t++]);l.modeToStartState.push(l.states[J])}l.modeToDFA=new Array(z);for(let I=0;I<z;I++)l.modeToDFA[I]=new JEe.DFA(l.modeToStartState[I]);let L=[];t=this.deserializeSets(e,t,L,Si.getUnicodeDeserializer(0)),Si.isFeatureSupported(Si.ADDED_UNICODE_SMP,i)&&(t=this.deserializeSets(e,t,L,Si.getUnicodeDeserializer(1)));let B=Si.toInt(e[t++]);for(let I=0;I<B;I++){let J=Si.toInt(e[t]),he=Si.toInt(e[t+1]),ye=Si.toInt(e[t+2]),He=Si.toInt(e[t+3]),at=Si.toInt(e[t+4]),ct=Si.toInt(e[t+5]),Ze=this.edgeFactory(l,ye,J,he,He,at,ct,L);l.states[J].addTransition(Ze),t+=6}let P=new Dlt.Array2DHashSet({hashCode:I=>I.stopState^I.returnState^I.outermostPrecedenceReturn,equals:(I,J)=>I.stopState===J.stopState&&I.returnState===J.returnState&&I.outermostPrecedenceReturn===J.outermostPrecedenceReturn}),G=[];for(let I of l.states){let J=I.ruleIndex>=0&&l.ruleToStartState[I.ruleIndex].leftFactored;for(let he=0;he<I.numberOfTransitions;he++){let ye=I.transition(he);if(!(ye instanceof yO.RuleTransition))continue;let He=ye;if(!l.ruleToStartState[He.target.ruleIndex].leftFactored&&J)continue;let ct=-1;l.ruleToStartState[He.target.ruleIndex].isPrecedenceRule&&He.precedence===0&&(ct=He.target.ruleIndex);let Ze={stopState:He.target.ruleIndex,returnState:He.followState.stateNumber,outermostPrecedenceReturn:ct};P.add(Ze)&&G.push(Ze)}}for(let I of G){let J=new vy.EpsilonTransition(l.states[I.returnState],I.outermostPrecedenceReturn);l.ruleToStopState[I.stopState].addTransition(J)}for(let I of l.states){if(I instanceof rie.BlockStartState){if(I.endState===void 0)throw new Error("IllegalStateException");if(I.endState.startState!==void 0)throw new Error("IllegalStateException");I.endState.startState=I}if(I instanceof e7e.PlusLoopbackState){let J=I;for(let he=0;he<J.numberOfTransitions;he++){let ye=J.transition(he).target;ye instanceof aie.PlusBlockStartState&&(ye.loopBackState=J)}}else if(I instanceof lie.StarLoopbackState){let J=I;for(let he=0;he<J.numberOfTransitions;he++){let ye=J.transition(he).target;ye instanceof yw.StarLoopEntryState&&(ye.loopBackState=J)}}}let ue=Si.toInt(e[t++]);for(let I=1;I<=ue;I++){let J=Si.toInt(e[t++]),he=l.states[J];l.decisionToState.push(he),he.decision=I-1}if(l.grammarType===0)if(s){l.lexerActions=new Array(Si.toInt(e[t++]));for(let I=0;I<l.lexerActions.length;I++){let J=Si.toInt(e[t++]),he=Si.toInt(e[t++]);he===65535&&(he=-1);let ye=Si.toInt(e[t++]);ye===65535&&(ye=-1);let He=this.lexerActionFactory(J,he,ye);l.lexerActions[I]=He}}else{let I=[];for(let J of l.states)for(let he=0;he<J.numberOfTransitions;he++){let ye=J.transition(he);if(!(ye instanceof nie.ActionTransition))continue;let He=ye.ruleIndex,at=ye.actionIndex,ct=new ZEe.LexerCustomAction(He,at);J.setTransition(he,new nie.ActionTransition(ye.target,He,I.length,!1)),I.push(ct)}l.lexerActions=I}this.markPrecedenceDecisions(l),l.decisionToDFA=new Array(ue);for(let I=0;I<ue;I++)l.decisionToDFA[I]=new JEe.DFA(l.decisionToState[I],I);if(this.deserializationOptions.isVerifyATN&&this.verifyATN(l),this.deserializationOptions.isGenerateRuleBypassTransitions&&l.grammarType===1){l.ruleToTokenType=new Int32Array(l.ruleToStartState.length);for(let I=0;I<l.ruleToStartState.length;I++)l.ruleToTokenType[I]=l.maxTokenType+I+1;for(let I=0;I<l.ruleToStartState.length;I++){let J=new YEe.BasicBlockStartState;J.ruleIndex=I,l.addState(J);let he=new xU.BlockEndState;he.ruleIndex=I,l.addState(he),J.endState=he,l.defineDecisionState(J),he.startState=J;let ye,He;if(l.ruleToStartState[I].isPrecedenceRule){ye=void 0;for(let ct of l.states){if(ct.ruleIndex!==I||!(ct instanceof yw.StarLoopEntryState))continue;let Ze=ct.transition(ct.numberOfTransitions-1).target;if(Ze instanceof gw.LoopEndState&&Ze.epsilonOnlyTransitions&&Ze.transition(0).target instanceof qv.RuleStopState){ye=ct;break}}if(!ye)throw new Error("Couldn't identify final state of the precedence rule prefix section.");He=ye.loopBackState.transition(0)}else ye=l.ruleToStopState[I];for(let ct of l.states)for(let Ze=0;Ze<ct.numberOfTransitions;Ze++){let Et=ct.transition(Ze);Et!==He&&Et.target===ye&&(Et.target=he)}for(;l.ruleToStartState[I].numberOfTransitions>0;){let ct=l.ruleToStartState[I].removeTransition(l.ruleToStartState[I].numberOfTransitions-1);J.addTransition(ct)}l.ruleToStartState[I].addTransition(new vy.EpsilonTransition(J)),he.addTransition(new vy.EpsilonTransition(ye));let at=new mU.BasicState;l.addState(at),at.addTransition(new xw.AtomTransition(he,l.ruleToTokenType[I])),J.addTransition(new vy.EpsilonTransition(at))}this.deserializationOptions.isVerifyATN&&this.verifyATN(l)}if(this.deserializationOptions.isOptimize){for(;;){let I=0;I+=Si.inlineSetRules(l),I+=Si.combineChainedEpsilons(l);let J=l.grammarType===0;if(I+=Si.optimizeSets(l,J),I===0)break}this.deserializationOptions.isVerifyATN&&this.verifyATN(l)}return Si.identifyTailCalls(l),l}deserializeSets(e,t,r,i){let s=Si.toInt(e[t++]);for(let o=0;o<s;o++){let a=Si.toInt(e[t]);t++;let l=new iie.IntervalSet;r.push(l),Si.toInt(e[t++])!==0&&l.add(-1);for(let p=0;p<a;p++){let _=i.readUnicode(e,t);t+=i.size;let E=i.readUnicode(e,t);t+=i.size,l.add(_,E)}}return t}markPrecedenceDecisions(e){let t=new Map;for(let r of e.states)if(r instanceof yw.StarLoopEntryState&&e.ruleToStartState[r.ruleIndex].isPrecedenceRule){let i=r.transition(r.numberOfTransitions-1).target;i instanceof gw.LoopEndState&&i.epsilonOnlyTransitions&&i.transition(0).target instanceof qv.RuleStopState&&(t.set(r.ruleIndex,r),r.precedenceRuleDecision=!0,r.precedenceLoopbackStates=new KEe.BitSet(e.states.length))}for(let r of t)for(let i of e.ruleToStopState[r[0]].getTransitions())i.serializationType!==1||i.outermostPrecedenceReturn!==-1||r[1].precedenceLoopbackStates.set(i.target.stateNumber)}verifyATN(e){for(let t of e.states)if(this.checkCondition(t!==void 0,"ATN states should not be undefined."),t.stateType!==Xf.ATNStateType.INVALID_TYPE){if(this.checkCondition(t.onlyHasEpsilonTransitions||t.numberOfTransitions<=1),t instanceof aie.PlusBlockStartState&&this.checkCondition(t.loopBackState!==void 0),t instanceof yw.StarLoopEntryState){let r=t;if(this.checkCondition(r.loopBackState!==void 0),this.checkCondition(r.numberOfTransitions===2),r.transition(0).target instanceof uie.StarBlockStartState)this.checkCondition(r.transition(1).target instanceof gw.LoopEndState),this.checkCondition(!r.nonGreedy);else if(r.transition(0).target instanceof gw.LoopEndState)this.checkCondition(r.transition(1).target instanceof uie.StarBlockStartState),this.checkCondition(r.nonGreedy);else throw new Error("IllegalStateException")}if(t instanceof lie.StarLoopbackState&&(this.checkCondition(t.numberOfTransitions===1),this.checkCondition(t.transition(0).target instanceof yw.StarLoopEntryState)),t instanceof gw.LoopEndState&&this.checkCondition(t.loopBackState!==void 0),t instanceof t7e.RuleStartState&&this.checkCondition(t.stopState!==void 0),t instanceof rie.BlockStartState&&this.checkCondition(t.endState!==void 0),t instanceof xU.BlockEndState&&this.checkCondition(t.startState!==void 0),t instanceof Nlt.DecisionState){let r=t;this.checkCondition(r.numberOfTransitions<=1||r.decision>=0)}else this.checkCondition(t.numberOfTransitions<=1||t instanceof qv.RuleStopState)}}checkCondition(e,t){if(!e)throw new Error("IllegalStateException: "+t)}static inlineSetRules(e){let t=0,r=new Array(e.ruleToStartState.length);for(let i=0;i<e.ruleToStartState.length;i++){let o=e.ruleToStartState[i];for(;o.onlyHasEpsilonTransitions&&o.numberOfOptimizedTransitions===1&&o.getOptimizedTransition(0).serializationType===1;)o=o.getOptimizedTransition(0).target;if(o.numberOfOptimizedTransitions!==1)continue;let a=o.getOptimizedTransition(0),l=a.target;if(!(a.isEpsilon||!l.onlyHasEpsilonTransitions||l.numberOfOptimizedTransitions!==1||!(l.getOptimizedTransition(0).target instanceof qv.RuleStopState)))switch(a.serializationType){case 5:case 2:case 7:r[i]=a;break;case 8:case 9:continue;default:continue}}for(let i of e.states){if(i.ruleIndex<0)continue;let s;for(let o=0;o<i.numberOfOptimizedTransitions;o++){let a=i.getOptimizedTransition(o);if(!(a instanceof yO.RuleTransition)){s!==void 0&&s.push(a);continue}let l=a,f=r[l.target.ruleIndex];if(f===void 0){s!==void 0&&s.push(a);continue}if(s===void 0){s=[];for(let E=0;E<o;E++)s.push(i.getOptimizedTransition(o))}t++;let p=l.followState,_=new mU.BasicState;switch(_.setRuleIndex(p.ruleIndex),e.addState(_),s.push(new vy.EpsilonTransition(_)),f.serializationType){case 5:_.addTransition(new xw.AtomTransition(p,f._label));break;case 2:_.addTransition(new gO.RangeTransition(p,f.from,f.to));break;case 7:_.addTransition(new gU.SetTransition(p,f.label));break;default:throw new Error("UnsupportedOperationException")}}if(s!==void 0){if(i.isOptimized)for(;i.numberOfOptimizedTransitions>0;)i.removeOptimizedTransition(i.numberOfOptimizedTransitions-1);for(let o of s)i.addOptimizedTransition(o)}}return oie.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+t+" rule invocations by inlining sets."),t}static combineChainedEpsilons(e){let t=0;for(let r of e.states){if(!r.onlyHasEpsilonTransitions||r instanceof qv.RuleStopState)continue;let i;e:for(let s=0;s<r.numberOfOptimizedTransitions;s++){let o=r.getOptimizedTransition(s),a=o.target;if(o.serializationType!==1||o.outermostPrecedenceReturn!==-1||a.stateType!==Xf.ATNStateType.BASIC||!a.onlyHasEpsilonTransitions){i!==void 0&&i.push(o);continue e}for(let l=0;l<a.numberOfOptimizedTransitions;l++)if(a.getOptimizedTransition(l).serializationType!==1||a.getOptimizedTransition(l).outermostPrecedenceReturn!==-1){i!==void 0&&i.push(o);continue e}if(t++,i===void 0){i=[];for(let l=0;l<s;l++)i.push(r.getOptimizedTransition(l))}for(let l=0;l<a.numberOfOptimizedTransitions;l++){let f=a.getOptimizedTransition(l).target;i.push(new vy.EpsilonTransition(f))}}if(i!==void 0){if(r.isOptimized)for(;r.numberOfOptimizedTransitions>0;)r.removeOptimizedTransition(r.numberOfOptimizedTransitions-1);for(let s of i)r.addOptimizedTransition(s)}}return oie.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+t+" transitions by combining chained epsilon transitions."),t}static optimizeSets(e,t){if(t)return 0;let r=0,i=e.decisionToState;for(let s of i){let o=new iie.IntervalSet;for(let E=0;E<s.numberOfOptimizedTransitions;E++){let O=s.getOptimizedTransition(E);if(!(O instanceof vy.EpsilonTransition)||O.target.numberOfOptimizedTransitions!==1)continue;let R=O.target.getOptimizedTransition(0);R.target instanceof xU.BlockEndState&&(R instanceof sie.NotSetTransition||(R instanceof xw.AtomTransition||R instanceof gO.RangeTransition||R instanceof gU.SetTransition)&&o.add(E))}if(o.size<=1)continue;let a=[];for(let E=0;E<s.numberOfOptimizedTransitions;E++)o.contains(E)||a.push(s.getOptimizedTransition(E));let l=s.getOptimizedTransition(o.minElement).target.getOptimizedTransition(0).target,f=new iie.IntervalSet;for(let E of o.intervals)for(let O=E.a;O<=E.b;O++){let R=s.getOptimizedTransition(O).target.getOptimizedTransition(0);if(R instanceof sie.NotSetTransition)throw new Error("Not yet implemented.");f.addAll(R.label)}let p;if(f.intervals.length===1)if(f.size===1)p=new xw.AtomTransition(l,f.minElement);else{let E=f.intervals[0];p=new gO.RangeTransition(l,E.a,E.b)}else p=new gU.SetTransition(l,f);let _=new mU.BasicState;if(_.setRuleIndex(s.ruleIndex),e.addState(_),_.addTransition(p),a.push(new vy.EpsilonTransition(_)),r+=s.numberOfOptimizedTransitions-a.length,s.isOptimized)for(;s.numberOfOptimizedTransitions>0;)s.removeOptimizedTransition(s.numberOfOptimizedTransitions-1);for(let E of a)s.addOptimizedTransition(E)}return oie.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+r+" paths by collapsing sets."),r}static identifyTailCalls(e){for(let t of e.states){for(let r=0;r<t.numberOfTransitions;r++){let i=t.transition(r);i instanceof yO.RuleTransition&&(i.tailCall=this.testTailCall(e,i,!1),i.optimizedTailCall=this.testTailCall(e,i,!0))}if(!!t.isOptimized)for(let r=0;r<t.numberOfOptimizedTransitions;r++){let i=t.getOptimizedTransition(r);i instanceof yO.RuleTransition&&(i.tailCall=this.testTailCall(e,i,!1),i.optimizedTailCall=this.testTailCall(e,i,!0))}}}static testTailCall(e,t,r){if(!r&&t.tailCall||r&&t.optimizedTailCall)return!0;let i=new KEe.BitSet(e.states.length),s=[];for(s.push(t.followState);;){let o=s.pop();if(!o)break;if(i.get(o.stateNumber)||o instanceof qv.RuleStopState)continue;if(!o.onlyHasEpsilonTransitions)return!1;let a=r?o.numberOfOptimizedTransitions:o.numberOfTransitions;for(let l=0;l<a;l++){let f=r?o.getOptimizedTransition(l):o.transition(l);if(f.serializationType!==1)return!1;s.push(f.target)}}return!0}static toInt(e){return e}static toInt32(e,t){return(e[t]|e[t+1]<<16)>>>0}static toUUID(e,t){let r=Si.toInt32(e,t),i=Si.toInt32(e,t+2),s=Si.toInt32(e,t+4),o=Si.toInt32(e,t+6);return new yU.UUID(o,s,i,r)}edgeFactory(e,t,r,i,s,o,a,l){let f=e.states[i];switch(t){case 1:return new vy.EpsilonTransition(f);case 2:return a!==0?new gO.RangeTransition(f,cie.Token.EOF,o):new gO.RangeTransition(f,s,o);case 3:return new yO.RuleTransition(e.states[s],o,a,f);case 4:return new Ult.PredicateTransition(f,s,o,a!==0);case 10:return new qlt.PrecedencePredicateTransition(f,s);case 5:return a!==0?new xw.AtomTransition(f,cie.Token.EOF):new xw.AtomTransition(f,s);case 6:return new nie.ActionTransition(f,s,o,a!==0);case 7:return new gU.SetTransition(f,l[s]);case 8:return new sie.NotSetTransition(f,l[s]);case 9:return new zlt.WildcardTransition(f)}throw new Error("The specified transition type is not valid.")}stateFactory(e,t){let r;switch(e){case Xf.ATNStateType.INVALID_TYPE:return new XEe.InvalidState;case Xf.ATNStateType.BASIC:r=new mU.BasicState;break;case Xf.ATNStateType.RULE_START:r=new t7e.RuleStartState;break;case Xf.ATNStateType.BLOCK_START:r=new YEe.BasicBlockStartState;break;case Xf.ATNStateType.PLUS_BLOCK_START:r=new aie.PlusBlockStartState;break;case Xf.ATNStateType.STAR_BLOCK_START:r=new uie.StarBlockStartState;break;case Xf.ATNStateType.TOKEN_START:r=new $lt.TokensStartState;break;case Xf.ATNStateType.RULE_STOP:r=new qv.RuleStopState;break;case Xf.ATNStateType.BLOCK_END:r=new xU.BlockEndState;break;case Xf.ATNStateType.STAR_LOOP_BACK:r=new lie.StarLoopbackState;break;case Xf.ATNStateType.STAR_LOOP_ENTRY:r=new yw.StarLoopEntryState;break;case Xf.ATNStateType.PLUS_LOOP_BACK:r=new e7e.PlusLoopbackState;break;case Xf.ATNStateType.LOOP_END:r=new gw.LoopEndState;break;default:let i=`The specified state type ${e} is not valid.`;throw new Error(i)}return r.ruleIndex=t,r}lexerActionFactory(e,t,r){switch(e){case 0:return new Llt.LexerChannelAction(t);case 1:return new ZEe.LexerCustomAction(t,r);case 2:return new klt.LexerModeAction(t);case 3:return Ilt.LexerMoreAction.INSTANCE;case 4:return Mlt.LexerPopModeAction.INSTANCE;case 5:return new Plt.LexerPushModeAction(t);case 6:return Blt.LexerSkipAction.INSTANCE;case 7:return new jlt.LexerTypeAction(t);default:let i=`The specified lexer action type ${e} is not valid.`;throw new Error(i)}}};Si.BASE_SERIALIZED_UUID=yU.UUID.fromString("E4178468-DF95-44D0-AD87-F22A5D5FB6D3");Si.ADDED_LEXER_ACTIONS=yU.UUID.fromString("AB35191A-1603-487E-B75A-479B831EAF6D");Si.ADDED_UNICODE_SMP=yU.UUID.fromString("C23FEA89-0605-4f51-AFB8-058BCAB8C91B");Si.SUPPORTED_UUIDS=[Si.BASE_SERIALIZED_UUID,Si.ADDED_LEXER_ACTIONS,Si.ADDED_UNICODE_SMP];Si.SERIALIZED_UUID=Si.ADDED_UNICODE_SMP;pU([xO.NotNull],Si.prototype,"deserializationOptions",void 0);pU([tie(0,xO.NotNull)],Si.prototype,"deserialize",null);pU([tie(0,xO.NotNull)],Si.prototype,"markPrecedenceDecisions",null);pU([xO.NotNull,tie(0,xO.NotNull)],Si.prototype,"edgeFactory",null);Uv.ATNDeserializer=Si});var r7e=Ae($v=>{"use strict";m();var fie=$v&&$v.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Hlt=$v&&$v.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty($v,"__esModule",{value:!0});$v.ParseInfo=void 0;var die=wr(),_O=class{constructor(e){this.atnSimulator=e}getDecisionInfo(){return this.atnSimulator.getDecisionInfo()}getLLDecisions(){let e=this.atnSimulator.getDecisionInfo(),t=[];for(let r=0;r<e.length;r++)e[r].LL_Fallback>0&&t.push(r);return t}getTotalTimeInPrediction(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.timeInPrediction;return t}getTotalSLLLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.SLL_TotalLook;return t}getTotalLLLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.LL_TotalLook;return t}getTotalSLLATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.SLL_ATNTransitions;return t}getTotalLLATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.LL_ATNTransitions;return t}getTotalATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.SLL_ATNTransitions,t+=r.LL_ATNTransitions;return t}getDFASize(e){if(e)return this.atnSimulator.atn.decisionToDFA[e].states.size;{let t=0,r=this.atnSimulator.atn.decisionToDFA;for(let i=0;i<r.length;i++)t+=this.getDFASize(i);return t}}};fie([die.NotNull],_O.prototype,"getDecisionInfo",null);fie([die.NotNull],_O.prototype,"getLLDecisions",null);_O=fie([Hlt(0,die.NotNull)],_O);$v.ParseInfo=_O});var mie=Ae(vw=>{"use strict";m();var hie=vw&&vw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(vw,"__esModule",{value:!0});vw.ProxyParserErrorListener=void 0;var Vlt=Mq(),pie=wr(),bO=class extends Vlt.ProxyErrorListener{constructor(e){super(e)}reportAmbiguity(e,t,r,i,s,o,a){this.getDelegates().forEach(l=>{l.reportAmbiguity&&l.reportAmbiguity(e,t,r,i,s,o,a)})}reportAttemptingFullContext(e,t,r,i,s,o){this.getDelegates().forEach(a=>{a.reportAttemptingFullContext&&a.reportAttemptingFullContext(e,t,r,i,s,o)})}reportContextSensitivity(e,t,r,i,s,o){this.getDelegates().forEach(a=>{a.reportContextSensitivity&&a.reportContextSensitivity(e,t,r,i,s,o)})}};hie([pie.Override],bO.prototype,"reportAmbiguity",null);hie([pie.Override],bO.prototype,"reportAttemptingFullContext",null);hie([pie.Override],bO.prototype,"reportContextSensitivity",null);vw.ProxyParserErrorListener=bO});var i7e=Ae(zv=>{"use strict";m();Object.defineProperty(zv,"__esModule",{value:!0});zv.isSupplementaryCodePoint=zv.isLowSurrogate=zv.isHighSurrogate=void 0;function Wlt(n){return n>=55296&&n<=56319}zv.isHighSurrogate=Wlt;function Qlt(n){return n>=56320&&n<=57343}zv.isLowSurrogate=Qlt;function Glt(n){return n>=65536}zv.isSupplementaryCodePoint=Glt});var xie=Ae(bw=>{"use strict";m();Object.defineProperty(bw,"__esModule",{value:!0});bw.CodePointBuffer=void 0;var s7e=I0(),EO=i7e(),_w=class{constructor(e,t){this.buffer=e,this._position=0,this._size=t}static withArray(e){return new _w(e,e.length)}get position(){return this._position}set position(e){if(e<0||e>this._size)throw new RangeError;this._position=e}get remaining(){return this._size-this.position}get(e){return this.buffer[e]}array(){return this.buffer.slice(0,this._size)}static builder(e){return new _w.Builder(e)}};bw.CodePointBuffer=_w;(function(n){let e;(function(r){r[r.BYTE=0]="BYTE",r[r.CHAR=1]="CHAR",r[r.INT=2]="INT"})(e||(e={}));class t{constructor(i){this.type=0,this.buffer=new Uint8Array(i),this.prevHighSurrogate=-1,this.position=0}build(){return new n(this.buffer,this.position)}static roundUpToNextPowerOfTwo(i){let s=32-Math.clz32(i-1);return Math.pow(2,s)}ensureRemaining(i){switch(this.type){case 0:if(this.buffer.length-this.position<i){let s=t.roundUpToNextPowerOfTwo(this.buffer.length+i),o=new Uint8Array(s);o.set(this.buffer.subarray(0,this.position),0),this.buffer=o}break;case 1:if(this.buffer.length-this.position<i){let s=t.roundUpToNextPowerOfTwo(this.buffer.length+i),o=new Uint16Array(s);o.set(this.buffer.subarray(0,this.position),0),this.buffer=o}break;case 2:if(this.buffer.length-this.position<i){let s=t.roundUpToNextPowerOfTwo(this.buffer.length+i),o=new Int32Array(s);o.set(this.buffer.subarray(0,this.position),0),this.buffer=o}break}}append(i){this.ensureRemaining(i.length),this.appendArray(i)}appendArray(i){switch(this.type){case 0:this.appendArrayByte(i);break;case 1:this.appendArrayChar(i);break;case 2:this.appendArrayInt(i);break}}appendArrayByte(i){s7e(this.prevHighSurrogate===-1);let s=i,o=0,a=i.length,l=this.buffer,f=this.position;for(;o<a;){let p=s[o];if(p<=255)l[f]=p;else if(i=i.subarray(o,a),this.position=f,EO.isHighSurrogate(p)){this.byteToIntBuffer(i.length),this.appendArrayInt(i);return}else{this.byteToCharBuffer(i.length),this.appendArrayChar(i);return}o++,f++}this.position=f}appendArrayChar(i){s7e(this.prevHighSurrogate===-1);let s=i,o=0,a=i.length,l=this.buffer,f=this.position;for(;o<a;){let p=s[o];if(!EO.isHighSurrogate(p))l[f]=p;else{i=i.subarray(o,a),this.position=f,this.charToIntBuffer(i.length),this.appendArrayInt(i);return}o++,f++}this.position=f}appendArrayInt(i){let s=i,o=0,a=i.length,l=this.buffer,f=this.position;for(;o<a;){let p=s[o];o++,this.prevHighSurrogate!==-1?EO.isLowSurrogate(p)?(l[f]=String.fromCharCode(this.prevHighSurrogate,p).codePointAt(0),f++,this.prevHighSurrogate=-1):(l[f]=this.prevHighSurrogate,f++,EO.isHighSurrogate(p)?this.prevHighSurrogate=p:(l[f]=p,f++,this.prevHighSurrogate=-1)):EO.isHighSurrogate(p)?this.prevHighSurrogate=p:(l[f]=p,f++)}this.prevHighSurrogate!==-1&&(l[f]=this.prevHighSurrogate,f++),this.position=f}byteToCharBuffer(i){let s=new Uint16Array(Math.max(this.position+i,this.buffer.length>>1));s.set(this.buffer.subarray(0,this.position),0),this.type=1,this.buffer=s}byteToIntBuffer(i){let s=new Int32Array(Math.max(this.position+i,this.buffer.length>>2));s.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=s}charToIntBuffer(i){let s=new Int32Array(Math.max(this.position+i,this.buffer.length>>1));s.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=s}}n.Builder=t})(_w=bw.CodePointBuffer||(bw.CodePointBuffer={}))});var gie=Ae(Ew=>{"use strict";m();var gx=Ew&&Ew.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Ew,"__esModule",{value:!0});Ew.CodePointCharStream=void 0;var o7e=I0(),vU=Yg(),Ylt=B0(),yx=wr(),yh=class{constructor(e,t,r,i){o7e(t===0),this._array=e,this._size=r,this._name=i,this._position=0}get internalStorage(){return this._array}static fromBuffer(e,t){return(t===void 0||t.length===0)&&(t=vU.IntStream.UNKNOWN_SOURCE_NAME),new yh(e.array(),e.position,e.remaining,t)}consume(){if(this._size-this._position===0)throw o7e(this.LA(1)===vU.IntStream.EOF),new RangeError("cannot consume EOF");this._position++}get index(){return this._position}get size(){return this._size}mark(){return-1}release(e){}seek(e){this._position=e}get sourceName(){return this._name}toString(){return this.getText(Ylt.Interval.of(0,this.size-1))}LA(e){let t;switch(Math.sign(e)){case-1:return t=this.index+e,t<0?vU.IntStream.EOF:this._array[t];case 0:return 0;case 1:return t=this.index+e-1,t>=this.size?vU.IntStream.EOF:this._array[t]}throw new RangeError("Not reached")}getText(e){let t=Math.min(e.a,this.size),r=Math.min(e.b-e.a+1,this.size-t);return this._array instanceof Int32Array?String.fromCodePoint(...Array.from(this._array.subarray(t,t+r))):String.fromCharCode(...Array.from(this._array.subarray(t,t+r)))}};gx([yx.Override],yh.prototype,"consume",null);gx([yx.Override],yh.prototype,"index",null);gx([yx.Override],yh.prototype,"size",null);gx([yx.Override],yh.prototype,"mark",null);gx([yx.Override],yh.prototype,"release",null);gx([yx.Override],yh.prototype,"seek",null);gx([yx.Override],yh.prototype,"sourceName",null);gx([yx.Override],yh.prototype,"toString",null);gx([yx.Override],yh.prototype,"LA",null);gx([yx.Override],yh.prototype,"getText",null);Ew.CodePointCharStream=yh});var _U=Ae(SO=>{"use strict";m();Object.defineProperty(SO,"__esModule",{value:!0});SO.CharStreams=void 0;var Klt=xie(),Jlt=gie(),Xlt=Yg(),Zlt;(function(n){function e(t,r){(r===void 0||r.length===0)&&(r=Xlt.IntStream.UNKNOWN_SOURCE_NAME);let i=Klt.CodePointBuffer.builder(t.length),s=new Uint16Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return i.append(s),Jlt.CodePointCharStream.fromBuffer(i.build(),r)}n.fromString=e})(Zlt=SO.CharStreams||(SO.CharStreams={}))});var _ie=Ae(Hv=>{"use strict";m();var Cd=Hv&&Hv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},ect=Hv&&Hv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Hv,"__esModule",{value:!0});Hv.BufferedTokenStream=void 0;var a7e=I0(),u7e=dS(),yie=B0(),vie=ly(),Ef=wr(),J6=uu(),Zf=class{constructor(e){if(this.tokens=[],this.p=-1,this.fetchedEOF=!1,e==null)throw new Error("tokenSource cannot be null");this._tokenSource=e}get tokenSource(){return this._tokenSource}set tokenSource(e){this._tokenSource=e,this.tokens.length=0,this.p=-1,this.fetchedEOF=!1}get index(){return this.p}mark(){return 0}release(e){}seek(e){this.lazyInit(),this.p=this.adjustSeekIndex(e)}get size(){return this.tokens.length}consume(){let e;if(this.p>=0?this.fetchedEOF?e=this.p<this.tokens.length-1:e=this.p<this.tokens.length:e=!1,!e&&this.LA(1)===J6.Token.EOF)throw new Error("cannot consume EOF");this.sync(this.p+1)&&(this.p=this.adjustSeekIndex(this.p+1))}sync(e){a7e(e>=0);let t=e-this.tokens.length+1;return t>0?this.fetch(t)>=t:!0}fetch(e){if(this.fetchedEOF)return 0;for(let t=0;t<e;t++){let r=this.tokenSource.nextToken();if(this.isWritableToken(r)&&(r.tokenIndex=this.tokens.length),this.tokens.push(r),r.type===J6.Token.EOF)return this.fetchedEOF=!0,t+1}return e}get(e){if(e<0||e>=this.tokens.length)throw new RangeError("token index "+e+" out of range 0.."+(this.tokens.length-1));return this.tokens[e]}getRange(e,t){if(e<0||t<0)return[];this.lazyInit();let r=new Array;t>=this.tokens.length&&(t=this.tokens.length-1);for(let i=e;i<=t;i++){let s=this.tokens[i];if(s.type===J6.Token.EOF)break;r.push(s)}return r}LA(e){let t=this.LT(e);return t?t.type:J6.Token.INVALID_TYPE}tryLB(e){if(!(this.p-e<0))return this.tokens[this.p-e]}LT(e){let t=this.tryLT(e);if(t===void 0)throw new RangeError("requested lookback index out of range");return t}tryLT(e){if(this.lazyInit(),e===0)throw new RangeError("0 is not a valid lookahead index");if(e<0)return this.tryLB(-e);let t=this.p+e-1;return this.sync(t),t>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[t]}adjustSeekIndex(e){return e}lazyInit(){this.p===-1&&this.setup()}setup(){this.sync(0),this.p=this.adjustSeekIndex(0)}getTokens(e,t,r){if(this.lazyInit(),e===void 0)return a7e(t===void 0&&r===void 0),this.tokens;if(t===void 0&&(t=this.tokens.length-1),e<0||t>=this.tokens.length||t<0||e>=this.tokens.length)throw new RangeError("start "+e+" or stop "+t+" not in 0.."+(this.tokens.length-1));if(e>t)return[];if(r===void 0)return this.tokens.slice(e,t+1);typeof r=="number"&&(r=new Set().add(r));let i=r,s=this.tokens.slice(e,t+1);return s=s.filter(o=>i.has(o.type)),s}nextTokenOnChannel(e,t){if(this.sync(e),e>=this.size)return this.size-1;let r=this.tokens[e];for(;r.channel!==t;){if(r.type===J6.Token.EOF)return e;e++,this.sync(e),r=this.tokens[e]}return e}previousTokenOnChannel(e,t){if(this.sync(e),e>=this.size)return this.size-1;for(;e>=0;){let r=this.tokens[e];if(r.type===J6.Token.EOF||r.channel===t)return e;e--}return e}getHiddenTokensToRight(e,t=-1){if(this.lazyInit(),e<0||e>=this.tokens.length)throw new RangeError(e+" not in 0.."+(this.tokens.length-1));let r=this.nextTokenOnChannel(e+1,vie.Lexer.DEFAULT_TOKEN_CHANNEL),i,s=e+1;return r===-1?i=this.size-1:i=r,this.filterForChannel(s,i,t)}getHiddenTokensToLeft(e,t=-1){if(this.lazyInit(),e<0||e>=this.tokens.length)throw new RangeError(e+" not in 0.."+(this.tokens.length-1));if(e===0)return[];let r=this.previousTokenOnChannel(e-1,vie.Lexer.DEFAULT_TOKEN_CHANNEL);if(r===e-1)return[];let i=r+1,s=e-1;return this.filterForChannel(i,s,t)}filterForChannel(e,t,r){let i=new Array;for(let s=e;s<=t;s++){let o=this.tokens[s];r===-1?o.channel!==vie.Lexer.DEFAULT_TOKEN_CHANNEL&&i.push(o):o.channel===r&&i.push(o)}return i}get sourceName(){return this.tokenSource.sourceName}getText(e){e===void 0?e=yie.Interval.of(0,this.size-1):e instanceof yie.Interval||(e=e.sourceInterval);let t=e.a,r=e.b;if(t<0||r<0)return"";this.fill(),r>=this.tokens.length&&(r=this.tokens.length-1);let i="";for(let s=t;s<=r;s++){let o=this.tokens[s];if(o.type===J6.Token.EOF)break;i+=o.text}return i.toString()}getTextFromRange(e,t){return this.isToken(e)&&this.isToken(t)?this.getText(yie.Interval.of(e.tokenIndex,t.tokenIndex)):""}fill(){this.lazyInit();let e=1e3;for(;;)if(this.fetch(e)<e)return}isWritableToken(e){return e instanceof u7e.CommonToken}isToken(e){return e instanceof u7e.CommonToken}};Cd([Ef.NotNull],Zf.prototype,"_tokenSource",void 0);Cd([Ef.Override],Zf.prototype,"tokenSource",null);Cd([Ef.Override],Zf.prototype,"index",null);Cd([Ef.Override],Zf.prototype,"mark",null);Cd([Ef.Override],Zf.prototype,"release",null);Cd([Ef.Override],Zf.prototype,"seek",null);Cd([Ef.Override],Zf.prototype,"size",null);Cd([Ef.Override],Zf.prototype,"consume",null);Cd([Ef.Override],Zf.prototype,"get",null);Cd([Ef.Override],Zf.prototype,"LA",null);Cd([Ef.NotNull,Ef.Override],Zf.prototype,"LT",null);Cd([Ef.Override],Zf.prototype,"sourceName",null);Cd([Ef.NotNull,Ef.Override],Zf.prototype,"getText",null);Cd([Ef.NotNull,Ef.Override],Zf.prototype,"getTextFromRange",null);Zf=Cd([ect(0,Ef.NotNull)],Zf);Hv.BufferedTokenStream=Zf});var SU=Ae(Vv=>{"use strict";m();var bU=Vv&&Vv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},tct=Vv&&Vv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Vv,"__esModule",{value:!0});Vv.CommonTokenStream=void 0;var nct=_ie(),EU=wr(),l7e=uu(),Sw=class extends nct.BufferedTokenStream{constructor(e,t=l7e.Token.DEFAULT_CHANNEL){super(e);this.channel=t}adjustSeekIndex(e){return this.nextTokenOnChannel(e,this.channel)}tryLB(e){if(this.p-e<0)return;let t=this.p,r=1;for(;r<=e&&t>0;)t=this.previousTokenOnChannel(t-1,this.channel),r++;if(!(t<0))return this.tokens[t]}tryLT(e){if(this.lazyInit(),e===0)throw new RangeError("0 is not a valid lookahead index");if(e<0)return this.tryLB(-e);let t=this.p,r=1;for(;r<e;)this.sync(t+1)&&(t=this.nextTokenOnChannel(t+1,this.channel)),r++;return this.tokens[t]}getNumberOfOnChannelTokens(){let e=0;this.fill();for(let t of this.tokens)if(t.channel===this.channel&&e++,t.type===l7e.Token.EOF)break;return e}};bU([EU.Override],Sw.prototype,"adjustSeekIndex",null);bU([EU.Override],Sw.prototype,"tryLB",null);bU([EU.Override],Sw.prototype,"tryLT",null);Sw=bU([tct(0,EU.NotNull)],Sw);Vv.CommonTokenStream=Sw});var Eie=Ae(Wv=>{"use strict";m();var X6=Wv&&Wv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},c7e=Wv&&Wv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Wv,"__esModule",{value:!0});Wv.ListTokenSource=void 0;var rct=_q(),_y=wr(),bie=uu(),by=class{constructor(e,t){if(this.i=0,this._factory=rct.CommonTokenFactory.DEFAULT,e==null)throw new Error("tokens cannot be null");this.tokens=e,this._sourceName=t}get charPositionInLine(){if(this.i<this.tokens.length)return this.tokens[this.i].charPositionInLine;if(this.eofToken!=null)return this.eofToken.charPositionInLine;if(this.tokens.length>0){let e=this.tokens[this.tokens.length-1],t=e.text;if(t!=null){let r=t.lastIndexOf(`
`);if(r>=0)return t.length-r-1}return e.charPositionInLine+e.stopIndex-e.startIndex+1}return 0}nextToken(){if(this.i>=this.tokens.length){if(this.eofToken==null){let t=-1;if(this.tokens.length>0){let i=this.tokens[this.tokens.length-1].stopIndex;i!==-1&&(t=i+1)}let r=Math.max(-1,t-1);this.eofToken=this._factory.create({source:this,stream:this.inputStream},bie.Token.EOF,"EOF",bie.Token.DEFAULT_CHANNEL,t,r,this.line,this.charPositionInLine)}return this.eofToken}let e=this.tokens[this.i];return this.i===this.tokens.length-1&&e.type===bie.Token.EOF&&(this.eofToken=e),this.i++,e}get line(){if(this.i<this.tokens.length)return this.tokens[this.i].line;if(this.eofToken!=null)return this.eofToken.line;if(this.tokens.length>0){let e=this.tokens[this.tokens.length-1],t=e.line,r=e.text;if(r!=null)for(let i=0;i<r.length;i++)r.charAt(i)===`
`&&t++;return t}return 1}get inputStream(){if(this.i<this.tokens.length)return this.tokens[this.i].inputStream;if(this.eofToken!=null)return this.eofToken.inputStream;if(this.tokens.length>0)return this.tokens[this.tokens.length-1].inputStream}get sourceName(){if(this._sourceName)return this._sourceName;let e=this.inputStream;return e!=null?e.sourceName:"List"}set tokenFactory(e){this._factory=e}get tokenFactory(){return this._factory}};X6([_y.Override],by.prototype,"charPositionInLine",null);X6([_y.Override],by.prototype,"nextToken",null);X6([_y.Override],by.prototype,"line",null);X6([_y.Override],by.prototype,"inputStream",null);X6([_y.Override],by.prototype,"sourceName",null);X6([_y.Override,_y.NotNull,c7e(0,_y.NotNull)],by.prototype,"tokenFactory",null);by=X6([c7e(0,_y.NotNull)],by);Wv.ListTokenSource=by});var d7e=Ae(wU=>{"use strict";m();Object.defineProperty(wU,"__esModule",{value:!0});wU.MultiMap=void 0;var f7e=class extends Map{constructor(){super()}map(e,t){let r=super.get(e);r||(r=[],super.set(e,r)),r.push(t)}getPairs(){let e=[];return this.forEach((t,r)=>{t.forEach(i=>{e.push([r,i])})}),e}};wU.MultiMap=f7e});var Sie=Ae(CU=>{"use strict";m();Object.defineProperty(CU,"__esModule",{value:!0});CU.ParseCancellationException=void 0;var h7e=class extends Error{constructor(e){super(e.message);this.cause=e,this.stack=e.stack}getCause(){return this.cause}};CU.ParseCancellationException=h7e});var Cie=Ae(ww=>{"use strict";m();var ict=ww&&ww.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(ww,"__esModule",{value:!0});ww.InterpreterRuleContext=void 0;var sct=wr(),oct=g1(),wie=class extends oct.ParserRuleContext{constructor(e,t,r){r!==void 0?super(t,r):super(),this._ruleIndex=e}get ruleIndex(){return this._ruleIndex}};ict([sct.Override],wie.prototype,"ruleIndex",null);ww.InterpreterRuleContext=wie});var Tie=Ae(Gv=>{"use strict";m();var Qv=Gv&&Gv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},act=Gv&&Gv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Gv,"__esModule",{value:!0});Gv.ParserInterpreter=void 0;var uct=Y2(),lct=_f(),cct=ty(),p7e=kD(),fct=ID(),dct=Cie(),hct=kre(),m7e=wr(),Cw=wr(),pct=iw(),x7e=lw(),mct=Jg(),xct=jq(),wO=uu(),vx=class Aie extends pct.Parser{constructor(e,t,r,i,s){super(e instanceof Aie?e.inputStream:s);if(this._parentContextStack=[],this.overrideDecision=-1,this.overrideDecisionInputIndex=-1,this.overrideDecisionAlt=-1,this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0,e instanceof Aie){let o=e;this._grammarFileName=o._grammarFileName,this._atn=o._atn,this.pushRecursionContextStates=o.pushRecursionContextStates,this._ruleNames=o._ruleNames,this._vocabulary=o._vocabulary,this.interpreter=new x7e.ParserATNSimulator(this._atn,this)}else{t=t,r=r,i=i,this._grammarFileName=e,this._atn=i,this._ruleNames=r.slice(0),this._vocabulary=t,this.pushRecursionContextStates=new cct.BitSet(i.states.length);for(let o of i.states)o instanceof xct.StarLoopEntryState&&o.precedenceRuleDecision&&this.pushRecursionContextStates.set(o.stateNumber);this.interpreter=new x7e.ParserATNSimulator(i,this)}}reset(e){e===void 0?super.reset():super.reset(e),this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0}get atn(){return this._atn}get vocabulary(){return this._vocabulary}get ruleNames(){return this._ruleNames}get grammarFileName(){return this._grammarFileName}parse(e){let t=this._atn.ruleToStartState[e];for(this._rootContext=this.createInterpreterRuleContext(void 0,uct.ATNState.INVALID_STATE_NUMBER,e),t.isPrecedenceRule?this.enterRecursionRule(this._rootContext,t.stateNumber,e,0):this.enterRule(this._rootContext,t.stateNumber,e);;){let r=this.atnState;switch(r.stateType){case lct.ATNStateType.RULE_STOP:if(this._ctx.isEmpty)if(t.isPrecedenceRule){let i=this._ctx,s=this._parentContextStack.pop();return this.unrollRecursionContexts(s[0]),i}else return this.exitRule(),this._rootContext;this.visitRuleStopState(r);break;default:try{this.visitState(r)}catch(i){if(i instanceof mct.RecognitionException)this.state=this._atn.ruleToStopState[r.ruleIndex].stateNumber,this.context.exception=i,this.errorHandler.reportError(this,i),this.recover(i);else throw i}break}}}enterRecursionRule(e,t,r,i){this._parentContextStack.push([this._ctx,e.invokingState]),super.enterRecursionRule(e,t,r,i)}get atnState(){return this._atn.states[this.state]}visitState(e){let t=1;e.numberOfTransitions>1&&(t=this.visitDecisionState(e));let r=e.transition(t-1);switch(r.serializationType){case 1:if(this.pushRecursionContextStates.get(e.stateNumber)&&!(r.target instanceof hct.LoopEndState)){let f=this._parentContextStack[this._parentContextStack.length-1],p=this.createInterpreterRuleContext(f[0],f[1],this._ctx.ruleIndex);this.pushNewRecursionContext(p,this._atn.ruleToStartState[e.ruleIndex].stateNumber,this._ctx.ruleIndex)}break;case 5:this.match(r._label);break;case 2:case 7:case 8:r.matches(this._input.LA(1),wO.Token.MIN_USER_TOKEN_TYPE,65535)||this.recoverInline(),this.matchWildcard();break;case 9:this.matchWildcard();break;case 3:let i=r.target,s=i.ruleIndex,o=this.createInterpreterRuleContext(this._ctx,e.stateNumber,s);i.isPrecedenceRule?this.enterRecursionRule(o,i.stateNumber,s,r.precedence):this.enterRule(o,r.target.stateNumber,s);break;case 4:let a=r;if(!this.sempred(this._ctx,a.ruleIndex,a.predIndex))throw new p7e.FailedPredicateException(this);break;case 6:let l=r;this.action(this._ctx,l.ruleIndex,l.actionIndex);break;case 10:if(!this.precpred(this._ctx,r.precedence)){let f=r.precedence;throw new p7e.FailedPredicateException(this,`precpred(_ctx, ${f})`)}break;default:throw new Error("UnsupportedOperationException: Unrecognized ATN transition type.")}this.state=r.target.stateNumber}visitDecisionState(e){let t;this.errorHandler.sync(this);let r=e.decision;return r===this.overrideDecision&&this._input.index===this.overrideDecisionInputIndex&&!this.overrideDecisionReached?(t=this.overrideDecisionAlt,this.overrideDecisionReached=!0):t=this.interpreter.adaptivePredict(this._input,r,this._ctx),t}createInterpreterRuleContext(e,t,r){return new dct.InterpreterRuleContext(r,e,t)}visitRuleStopState(e){if(this._atn.ruleToStartState[e.ruleIndex].isPrecedenceRule){let i=this._parentContextStack.pop();this.unrollRecursionContexts(i[0]),this.state=i[1]}else this.exitRule();let r=this._atn.states[this.state].transition(0);this.state=r.followState.stateNumber}addDecisionOverride(e,t,r){this.overrideDecision=e,this.overrideDecisionInputIndex=t,this.overrideDecisionAlt=r}get overrideDecisionRoot(){return this._overrideDecisionRoot}recover(e){let t=this._input.index;if(this.errorHandler.recover(this,e),this._input.index===t){let r=e.getOffendingToken();if(!r)throw new Error("Expected exception to have an offending token");let i=r.tokenSource,s=i!==void 0?i.inputStream:void 0,o={source:i,stream:s};if(e instanceof fct.InputMismatchException){let a=e.expectedTokens;if(a===void 0)throw new Error("Expected the exception to provide expected tokens");let l=wO.Token.INVALID_TYPE;a.isNil||(l=a.minElement);let f=this.tokenFactory.create(o,l,r.text,wO.Token.DEFAULT_CHANNEL,-1,-1,r.line,r.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,f))}else{let a=r.tokenSource,l=this.tokenFactory.create(o,wO.Token.INVALID_TYPE,r.text,wO.Token.DEFAULT_CHANNEL,-1,-1,r.line,r.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,l))}}}recoverInline(){return this._errHandler.recoverInline(this)}get rootContext(){return this._rootContext}};Qv([m7e.NotNull],vx.prototype,"_vocabulary",void 0);Qv([Cw.Override],vx.prototype,"reset",null);Qv([Cw.Override],vx.prototype,"atn",null);Qv([Cw.Override],vx.prototype,"vocabulary",null);Qv([Cw.Override],vx.prototype,"ruleNames",null);Qv([Cw.Override],vx.prototype,"grammarFileName",null);Qv([Cw.Override],vx.prototype,"enterRecursionRule",null);vx=Qv([act(1,m7e.NotNull)],vx);Gv.ParserInterpreter=vx});var g7e=Ae(Kv=>{"use strict";m();var Aw=Kv&&Kv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},AU=Kv&&Kv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Kv,"__esModule",{value:!0});Kv.ParseTreeMatch=void 0;var Ey=wr(),Yv=class{constructor(e,t,r,i){if(!e)throw new Error("tree cannot be null");if(!t)throw new Error("pattern cannot be null");if(!r)throw new Error("labels cannot be null");this._tree=e,this._pattern=t,this._labels=r,this._mismatchedNode=i}get(e){let t=this._labels.get(e);if(!(!t||t.length===0))return t[t.length-1]}getAll(e){let t=this._labels.get(e);return t||[]}get labels(){return this._labels}get mismatchedNode(){return this._mismatchedNode}get succeeded(){return!this._mismatchedNode}get pattern(){return this._pattern}get tree(){return this._tree}toString(){return`Match ${this.succeeded?"succeeded":"failed"}; found ${this.labels.size} labels`}};Aw([Ey.NotNull,AU(0,Ey.NotNull)],Yv.prototype,"getAll",null);Aw([Ey.NotNull],Yv.prototype,"labels",null);Aw([Ey.NotNull],Yv.prototype,"pattern",null);Aw([Ey.NotNull],Yv.prototype,"tree",null);Aw([Ey.Override],Yv.prototype,"toString",null);Yv=Aw([AU(0,Ey.NotNull),AU(1,Ey.NotNull),AU(2,Ey.NotNull)],Yv);Kv.ParseTreeMatch=Yv});var v7e=Ae(TU=>{"use strict";m();Object.defineProperty(TU,"__esModule",{value:!0});TU.XPathLexer=void 0;var gct=vO(),yct=ly(),vct=nO(),_ct=sy(),y7e=Tm(),qo=class extends yct.Lexer{constructor(e){super(e);this._interp=new vct.LexerATNSimulator(qo._ATN,this)}get vocabulary(){return qo.VOCABULARY}get grammarFileName(){return"XPathLexer.g4"}get ruleNames(){return qo.ruleNames}get serializedATN(){return qo._serializedATN}get channelNames(){return qo.channelNames}get modeNames(){return qo.modeNames}action(e,t,r){switch(t){case 4:this.ID_action(e,r);break}}ID_action(e,t){switch(t){case 0:let r=this.text;r.charAt(0)===r.charAt(0).toUpperCase()?this.type=qo.TOKEN_REF:this.type=qo.RULE_REF;break}}static get _ATN(){return qo.__ATN||(qo.__ATN=new gct.ATNDeserializer().deserialize(y7e.toCharArray(qo._serializedATN))),qo.__ATN}};TU.XPathLexer=qo;qo.TOKEN_REF=1;qo.RULE_REF=2;qo.ANYWHERE=3;qo.ROOT=4;qo.WILDCARD=5;qo.BANG=6;qo.ID=7;qo.STRING=8;qo.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"];qo.modeNames=["DEFAULT_MODE"];qo.ruleNames=["ANYWHERE","ROOT","WILDCARD","BANG","ID","NameChar","NameStartChar","STRING"];qo._LITERAL_NAMES=[void 0,void 0,void 0,"'//'","'/'","'*'","'!'"];qo._SYMBOLIC_NAMES=[void 0,"TOKEN_REF","RULE_REF","ANYWHERE","ROOT","WILDCARD","BANG","ID","STRING"];qo.VOCABULARY=new _ct.VocabularyImpl(qo._LITERAL_NAMES,qo._SYMBOLIC_NAMES,[]);qo._serializedATNSegments=2;qo._serializedATNSegment0=`\uC91D\uCABA\u058D\uAFBA\u4F53\u0607\uEA8B\uC241
2\b					\x07	\x07\b	\b			\x07
\f"\v\x07\x07\b\b		\x07	,
	\f		/\v			-
\x07\x07	\b\v	\r
\u02B6
2;C\\aac|\x81\xA1\xAC\xAC\xAF\xAF\xB7\xB7\xBC\xBC\xC2\xD8\xDA\xF8\xFA\u02C3\u02C8\u02D3\u02E2\u02E6\u02EE\u02EE\u02F0\u02F0\u0302\u0376\u0378\u0379\u037C\u037F\u0381\u0381\u0388\u0388\u038A\u038C\u038E\u038E\u0390\u03A3\u03A5\u03F7\u03F9\u0483\u0485\u0489\u048C\u0531\u0533\u0558\u055B\u055B\u0563\u0589\u0593\u05BF\u05C1\u05C1\u05C3\u05C4\u05C6\u05C7\u05C9\u05C9\u05D2\u05EC\u05F2\u05F4\u0602\u0607\u0612\u061C\u061E\u061E\u0622\u066B\u0670\u06D5\u06D7\u06DF\u06E1\u06EA\u06EC\u06FE\u0701\u0701\u0711\u074C\u074F\u07B3\u07C2\u07F7\u07FC\u07FC\u0802\u082F\u0842\u085D\u08A2\u08B6\u08B8\u08BF\u08D6\u0965\u0968\u0971\u0973\u0985\u0987\u098E\u0991\u0992\u0995\u09AA\u09AC\u09B2\u09B4\u09B4\u09B8\u09BB\u09BE\u09C6\u09C9\u09CA\u09CD\u09D0\u09D9\u09D9\u09DE\u09DF\u09E1\u09E5\u09E8\u09F3\u0A03\u0A05\u0A07\u0A0C\u0A11\u0A12\u0A15\u0A2A\u0A2C\u0A32\u0A34\u0A35\u0A37\u0A38\u0A3A\u0A3B\u0A3E\u0A3E\u0A40\u0A44\u0A49\u0A4A\u0A4D\u0A4F\u0A53\u0A53\u0A5B\u0A5E\u0A60\u0A60\u0A68\u0A77\u0A83\u0A85\u0A87\u0A8F\u0A91\u0A93\u0A95\u0AAA\u0AAC\u0AB2\u0AB4\u0AB5\u0AB7\u0ABB\u0ABE\u0AC7\u0AC9\u0ACB\u0ACD\u0ACF\u0AD2\u0AD2\u0AE2\u0AE5\u0AE8\u0AF1\u0AFB\u0AFB\u0B03\u0B05\u0B07\u0B0E\u0B11\u0B12\u0B15\u0B2A\u0B2C\u0B32\u0B34\u0B35\u0B37\u0B3B\u0B3E\u0B46\u0B49\u0B4A\u0B4D\u0B4F\u0B58\u0B59\u0B5E\u0B5F\u0B61\u0B65\u0B68\u0B71\u0B73\u0B73\u0B84\u0B85\u0B87\u0B8C\u0B90\u0B92\u0B94\u0B97\u0B9B\u0B9C\u0B9E\u0B9E\u0BA0\u0BA1\u0BA5\u0BA6\u0BAA\u0BAC\u0BB0\u0BBB\u0BC0\u0BC4\u0BC8\u0BCA\u0BCC\u0BCF\u0BD2\u0BD2\u0BD9\u0BD9\u0BE8\u0BF1\u0C02\u0C05\u0C07\u0C0E\u0C10\u0C12\u0C14\u0C2A\u0C2C\u0C3B\u0C3F\u0C46\u0C48\u0C4A\u0C4C\u0C4F\u0C57\u0C58\u0C5A\u0C5C\u0C62\u0C65\u0C68\u0C71\u0C82\u0C85\u0C87\u0C8E\u0C90\u0C92\u0C94\u0CAA\u0CAC\u0CB5\u0CB7\u0CBB\u0CBE\u0CC6\u0CC8\u0CCA\u0CCC\u0CCF\u0CD7\u0CD8\u0CE0\u0CE0\u0CE2\u0CE5\u0CE8\u0CF1\u0CF3\u0CF4\u0D03\u0D05\u0D07\u0D0E\u0D10\u0D12\u0D14\u0D3C\u0D3F\u0D46\u0D48\u0D4A\u0D4C\u0D50\u0D56\u0D59\u0D61\u0D65\u0D68\u0D71\u0D7C\u0D81\u0D84\u0D85\u0D87\u0D98\u0D9C\u0DB3\u0DB5\u0DBD\u0DBF\u0DBF\u0DC2\u0DC8\u0DCC\u0DCC\u0DD1\u0DD6\u0DD8\u0DD8\u0DDA\u0DE1\u0DE8\u0DF1\u0DF4\u0DF5\u0E03\u0E3C\u0E42\u0E50\u0E52\u0E5B\u0E83\u0E84\u0E86\u0E86\u0E89\u0E8A\u0E8C\u0E8C\u0E8F\u0E8F\u0E96\u0E99\u0E9B\u0EA1\u0EA3\u0EA5\u0EA7\u0EA7\u0EA9\u0EA9\u0EAC\u0EAD\u0EAF\u0EBB\u0EBD\u0EBF\u0EC2\u0EC6\u0EC8\u0EC8\u0ECA\u0ECF\u0ED2\u0EDB\u0EDE\u0EE1\u0F02\u0F02\u0F1A\u0F1B\u0F22\u0F2B\u0F37\u0F37\u0F39\u0F39\u0F3B\u0F3B\u0F40\u0F49\u0F4B\u0F6E\u0F73\u0F86\u0F88\u0F99\u0F9B\u0FBE\u0FC8\u0FC8\u1002\u104B\u1052\u109F\u10A2\u10C7\u10C9\u10C9\u10CF\u10CF\u10D2\u10FC\u10FE\u124A\u124C\u124F\u1252\u1258\u125A\u125A\u125C\u125F\u1262\u128A\u128C\u128F\u1292\u12B2\u12B4\u12B7\u12BA\u12C0\u12C2\u12C2\u12C4\u12C7\u12CA\u12D8\u12DA\u1312\u1314\u1317\u131A\u135C\u135F\u1361\u1382\u1391\u13A2\u13F7\u13FA\u13FF\u1403\u166E\u1671\u1681\u1683\u169C\u16A2\u16EC\u16F0\u16FA\u1702\u170E\u1710\u1716\u1722\u1736\u1742\u1755\u1762\u176E\u1770\u1772\u1774\u1775\u1782\u17D5\u17D9\u17D9\u17DE\u17DF\u17E2\u17EB\u180D\u1810\u1812\u181B\u1822\u1879\u1882\u18AC\u18B2\u18F7\u1902\u1920\u1922\u192D\u1932\u193D\u1948\u196F\u1972\u1976\u1982\u19AD\u19B2\u19CB\u19D2\u19DB\u1A02\u1A1D\u1A22\u1A60\u1A62\u1A7E\u1A81\u1A8B\u1A92\u1A9B\u1AA9\u1AA9\u1AB2\u1ABF\u1B02\u1B4D\u1B52\u1B5B\u1B6D\u1B75\u1B82\u1BF5\u1C02\u1C39\u1C42\u1C4B\u1C4F\u1C7F\u1C82\u1C8A\u1CD2\u1CD4\u1CD6\u1CF8\u1CFA\u1CFB\u1D02\u1DF7\u1DFD\u1F17\u1F1A\u1F1F\u1F22\u1F47\u1F4A\u1F4F\u1F52\u1F59\u1F5B\u1F5B\u1F5D\u1F5D\u1F5F\u1F5F\u1F61\u1F7F\u1F82\u1FB6\u1FB8\u1FBE\u1FC0\u1FC0\u1FC4\u1FC6\u1FC8\u1FCE\u1FD2\u1FD5\u1FD8\u1FDD\u1FE2\u1FEE\u1FF4\u1FF6\u1FF8\u1FFE\u200D\u2011\u202C\u2030\u2041\u2042\u2056\u2056\u2062\u2066\u2068\u2071\u2073\u2073\u2081\u2081\u2092\u209E\u20D2\u20DE\u20E3\u20E3\u20E7\u20F2\u2104\u2104\u2109\u2109\u210C\u2115\u2117\u2117\u211B\u211F\u2126\u2126\u2128\u2128\u212A\u212A\u212C\u212F\u2131\u213B\u213E\u2141\u2147\u214B\u2150\u2150\u2162\u218A\u2C02\u2C30\u2C32\u2C60\u2C62\u2CE6\u2CED\u2CF5\u2D02\u2D27\u2D29\u2D29\u2D2F\u2D2F\u2D32\u2D69\u2D71\u2D71\u2D81\u2D98\u2DA2\u2DA8\u2DAA\u2DB0\u2DB2\u2DB8\u2DBA\u2DC0\u2DC2\u2DC8\u2DCA\u2DD0\u2DD2\u2DD8\u2DDA\u2DE0\u2DE2\u2E01\u2E31\u2E31\u3007\u3009\u3023\u3031\u3033\u3037\u303A\u303E\u3043\u3098\u309B\u309C\u309F\u30A1\u30A3\u30FC\u30FE\u3101\u3107\u312F\u3133\u3190\u31A2\u31BC\u31F2\u3201\u3402\u4DB7\u4E02\u9FD7\uA002\uA48E\uA4D2\uA4FF\uA502\uA60E\uA612\uA62D\uA642\uA671\uA676\uA67F\uA681\uA6F3\uA719\uA721\uA724\uA78A\uA78D\uA7B0\uA7B2\uA7B9\uA7F9\uA829\uA842\uA875\uA882\uA8C7\uA8D2\uA8DB\uA8E2\uA8F9\uA8FD\uA8FD\uA8FF\uA8FF\uA902\uA92F\uA932\uA955\uA962\uA97E\uA982\uA9C2\uA9D1\uA9DB\uA9E2\uAA00\uAA02\uAA38\uAA42\uAA4F\uAA52\uAA5B\uAA62\uAA78\uAA7C\uAAC4\uAADD\uAADF\uAAE2\uAAF1\uAAF4\uAAF8\uAB03\uAB08\uAB0B\uAB10\uAB13\uAB18\uAB22\uAB28\uAB2A\uAB30\uAB32\uAB5C\uAB5E\uAB67\uAB72\uABEC\uABEE\uABEF\uABF2\uABFB\uAC02\uD7A5\uD7B2\uD7C8\uD7CD\uD7FD\uF902\uFA6F\uFA72\uFADB\uFB02\uFB08\uFB15\uFB19\uFB1F\uFB2A\uFB2C\uFB38\uFB3A\uFB3E\uFB40\uFB40\uFB42\uFB43\uFB45\uFB46\uFB48\uFBB3\uFBD5\uFD3F\uFD52\uFD91\uFD94\uFDC9\uFDF2\uFDFD\uFE02\uFE11\uFE22\uFE31\uFE35\uFE36\uFE4F\uFE51\uFE72\uFE76\uFE78\uFEFE\uFF01\uFF01\uFF12\uFF1B\uFF23\uFF3C\uFF41\uFF41\uFF43\uFF5C\uFF68\uFFC0\uFFC4\uFFC9\uFFCC\uFFD1\uFFD4\uFFD9\uFFDC\uFFDE\uFFFB\uFFFD\r(*<>?AOR_\x82\xFC\u0142\u0176\u01FF\u01FF\u0282\u029E\u02A2\u02D2\u02E2\u02E2\u0302\u0321\u0332\u034C\u0352\u037C\u0382\u039F\u03A2\u03C5\u03CA\u03D1\u03D3\u03D7\u0402\u049F\u04A2\u04AB\u04B2\u04D5\u04DA\u04FD\u0502\u0529\u0532\u0565\u0602\u0738\u0742\u0757\u0762\u0769\u0802\u0807\u080A\u080A\u080C\u0837\u0839\u083A\u083E\u083E\u0841\u0857\u0862\u0878\u0882\u08A0\u08E2\u08F4\u08F6\u08F7\u0902\u0917\u0922\u093B\u0982\u09B9\u09C0\u09C1\u0A02\u0A05\u0A07\u0A08\u0A0E\u0A15\u0A17\u0A19\u0A1B\u0A35\u0A3A\u0A3C\u0A41\u0A41\u0A62\u0A7E\u0A82\u0A9E\u0AC2\u0AC9\u0ACB\u0AE8\u0B02\u0B37\u0B42\u0B57\u0B62\u0B74\u0B82\u0B93\u0C02\u0C4A\u0C82\u0CB4\u0CC2\u0CF4\u1002\u1048\u1068\u1071\u1081\u10BC\u10BF\u10BF\u10D2\u10EA\u10F2\u10FB\u1102\u1136\u1138\u1141\u1152\u1175\u1178\u1178\u1182\u11C6\u11CC\u11CE\u11D2\u11DC\u11DE\u11DE\u1202\u1213\u1215\u1239\u1240\u1240\u1282\u1288\u128A\u128A\u128C\u128F\u1291\u129F\u12A1\u12AA\u12B2\u12EC\u12F2\u12FB\u1302\u1305\u1307\u130E\u1311\u1312\u1315\u132A\u132C\u1332\u1334\u1335\u1337\u133B\u133E\u1346\u1349\u134A\u134D\u134F\u1352\u1352\u1359\u1359\u135F\u1365\u1368\u136E\u1372\u1376\u1402\u144C\u1452\u145B\u1482\u14C7\u14C9\u14C9\u14D2\u14DB\u1582\u15B7\u15BA\u15C2\u15DA\u15DF\u1602\u1642\u1646\u1646\u1652\u165B\u1682\u16B9\u16C2\u16CB\u1702\u171B\u171F\u172D\u1732\u173B\u18A2\u18EB\u1901\u1901\u1AC2\u1AFA\u1C02\u1C0A\u1C0C\u1C38\u1C3A\u1C42\u1C52\u1C5B\u1C74\u1C91\u1C94\u1CA9\u1CAB\u1CB8\u2002\u239B\u2402\u2470\u2482\u2545\u3002\u3430\u4402\u4648\u6802\u6A3A\u6A42\u6A60\u6A62\u6A6B\u6AD2\u6AEF\u6AF2\u6AF6\u6B02\u6B38\u6B42\u6B45\u6B52\u6B5B\u6B65\u6B79\u6B7F\u6B91\u6F02\u6F46\u6F52\u6F80\u6F91\u6FA1\u6FE2\u6FE2\u7002\u87EE\u8802\u8AF4\uB002\uB003\uBC02\uBC6C\uBC72\uBC7E\uBC82\uBC8A\uBC92\uBC9B\uBC9F\uBCA0\uBCA2\uBCA5\uD167\uD16B\uD16F\uD184\uD187\uD18D\uD1AC\uD1AF\uD244\uD246\uD402\uD456\uD458\uD49E\uD4A0\uD4A1\uD4A4\uD4A4\uD4A7\uD4A8\uD4AB\uD4AE\uD4B0\uD4BB\uD4BD\uD4BD\uD4BF\uD4C5\uD4C7\uD507\uD509\uD50C\uD50F\uD516\uD518\uD51E\uD520\uD53B\uD53D\uD540\uD542\uD546\uD548\uD548\uD54C\uD552\uD554\uD6A7\uD6AA\uD6C2\uD6C4\uD6DC\uD6DE\uD6FC\uD6FE\uD716\uD718\uD736\uD738\uD750\uD752\uD770\uD772\uD78A\uD78C\uD7AA\uD7AC\uD7C4\uD7C6\uD7CD\uD7D0\uD801\uDA02\uDA38\uDA3D\uDA6E\uDA77\uDA77\uDA86\uDA86\uDA9D\uDAA1\uDAA3\uDAB1\uE002\uE008\uE00A\uE01A\uE01D\uE023\uE025\uE026\uE028\uE02C\uE802\uE8C6\uE8D2\uE8D8\uE902\uE94C\uE952\uE95B\uEE02\uEE05\uEE07\uEE21\uEE23\uEE24\uEE26\uEE26\uEE29\uEE29\uEE2B\uEE34\uEE36\uEE39\uEE3B\uEE3B\uEE3D\uEE3D\uEE44\uEE44\uEE49\uEE49\uEE4B\uEE4B\uEE4D\uEE4D\uEE4F\uEE51\uEE53\uEE54\uEE56\uEE56\uEE59\uEE59\uEE5B\uEE5B\uEE5D\uEE5D\uEE5F\uEE5F\uEE61\uEE61\uEE63\uEE64\uEE66\uEE66\uEE69\uEE6C\uEE6E\uEE74\uEE76\uEE79\uEE7B\uEE7E\uEE80\uEE80\uEE82\uEE8B\uEE8D\uEE9D\uEEA3\uEEA5\uEEA7\uEEAB\uEEAD\uEEBD\uA6D8\uA702\uB736\uB742\uB81F\uB822\uCEA3\uF802\uFA1F"\x81\u0102\u01F1\u0240C\\c|\xAC\xAC\xB7\xB7\xBC\xBC\xC2\xD8\xDA\xF8\xFA\u02C3\u02C8\u02D3\u02E2\u02E6\u02EE\u02EE\u02F0\u02F0\u0372\u0376\u0378\u0379\u037C\u037F\u0381\u0381\u0388\u0388\u038A\u038C\u038E\u038E\u0390\u03A3\u03A5\u03F7\u03F9\u0483\u048C\u0531\u0533\u0558\u055B\u055B\u0563\u0589\u05D2\u05EC\u05F2\u05F4\u0622\u064C\u0670\u0671\u0673\u06D5\u06D7\u06D7\u06E7\u06E8\u06F0\u06F1\u06FC\u06FE\u0701\u0701\u0712\u0712\u0714\u0731\u074F\u07A7\u07B3\u07B3\u07CC\u07EC\u07F6\u07F7\u07FC\u07FC\u0802\u0817\u081C\u081C\u0826\u0826\u082A\u082A\u0842\u085A\u08A2\u08B6\u08B8\u08BF\u0906\u093B\u093F\u093F\u0952\u0952\u095A\u0963\u0973\u0982\u0987\u098E\u0991\u0992\u0995\u09AA\u09AC\u09B2\u09B4\u09B4\u09B8\u09BB\u09BF\u09BF\u09D0\u09D0\u09DE\u09DF\u09E1\u09E3\u09F2\u09F3\u0A07\u0A0C\u0A11\u0A12\u0A15\u0A2A\u0A2C\u0A32\u0A34\u0A35\u0A37\u0A38\u0A3A\u0A3B\u0A5B\u0A5E\u0A60\u0A60\u0A74\u0A76\u0A87\u0A8F\u0A91\u0A93\u0A95\u0AAA\u0AAC\u0AB2\u0AB4\u0AB5\u0AB7\u0ABB\u0ABF\u0ABF\u0AD2\u0AD2\u0AE2\u0AE3\u0AFB\u0AFB\u0B07\u0B0E\u0B11\u0B12\u0B15\u0B2A\u0B2C\u0B32\u0B34\u0B35\u0B37\u0B3B\u0B3F\u0B3F\u0B5E\u0B5F\u0B61\u0B63\u0B73\u0B73\u0B85\u0B85\u0B87\u0B8C\u0B90\u0B92\u0B94\u0B97\u0B9B\u0B9C\u0B9E\u0B9E\u0BA0\u0BA1\u0BA5\u0BA6\u0BAA\u0BAC\u0BB0\u0BBB\u0BD2\u0BD2\u0C07\u0C0E\u0C10\u0C12\u0C14\u0C2A\u0C2C\u0C3B\u0C3F\u0C3F\u0C5A\u0C5C\u0C62\u0C63\u0C82\u0C82\u0C87\u0C8E\u0C90\u0C92\u0C94\u0CAA\u0CAC\u0CB5\u0CB7\u0CBB\u0CBF\u0CBF\u0CE0\u0CE0\u0CE2\u0CE3\u0CF3\u0CF4\u0D07\u0D0E\u0D10\u0D12\u0D14\u0D3C\u0D3F\u0D3F\u0D50\u0D50\u0D56\u0D58\u0D61\u0D63\u0D7C\u0D81\u0D87\u0D98\u0D9C\u0DB3\u0DB5\u0DBD\u0DBF\u0DBF\u0DC2\u0DC8\u0E03\u0E32\u0E34\u0E35\u0E42\u0E48\u0E83\u0E84\u0E86\u0E86\u0E89\u0E8A\u0E8C\u0E8C\u0E8F\u0E8F\u0E96\u0E99\u0E9B\u0EA1\u0EA3\u0EA5\u0EA7\u0EA7\u0EA9\u0EA9\u0EAC\u0EAD\u0EAF\u0EB2\u0EB4\u0EB5\u0EBF\u0EBF\u0EC2\u0EC6\u0EC8\u0EC8\u0EDE\u0EE1\u0F02\u0F02\u0F42\u0F49\u0F4B\u0F6E\u0F8A\u0F8E\u1002\u102C\u1041\u1041\u1052\u1057\u105C\u105F\u1063\u1063\u1067\u1068\u1070\u1072\u1077\u1083\u1090\u1090\u10A2\u10C7\u10C9\u10C9\u10CF\u10CF\u10D2\u10FC\u10FE\u124A\u124C\u124F\u1252\u1258\u125A\u125A\u125C\u125F\u1262\u128A\u128C\u128F\u1292\u12B2\u12B4\u12B7\u12BA\u12C0\u12C2\u12C2\u12C4\u12C7\u12CA\u12D8\u12DA\u1312\u1314\u1317\u131A\u135C\u1382\u1391\u13A2\u13F7\u13FA\u13FF\u1403\u166E\u1671\u1681\u1683\u169C\u16A2\u16EC\u16F0\u16FA\u1702\u170E\u1710\u1713\u1722\u1733\u1742\u1753\u1762\u176E\u1770\u1772\u1782\u17B5\u17D9\u17D9\u17DE\u17DE\u1822\u1879\u1882\u1886\u1889\u18AA\u18AC\u18AC\u18B2\u18F7\u1902\u1920\u1952\u196F\u1972\u1976\u1982\u19AD\u19B2\u19CB\u1A02\u1A18\u1A22\u1A56\u1AA9\u1AA9\u1B07\u1B35\u1B47\u1B4D\u1B85\u1BA2\u1BB0\u1BB1\u1BBC\u1BE7\u1C02\u1C25\u1C4F\u1C51\u1C5C\u1C7F\u1C82\u1C8A\u1CEB\u1CEE\u1CF0\u1CF3\u1CF7\u1CF8\u1D02\u1DC1\u1E02\u1F17\u1F1A\u1F1F\u1F22\u1F47\u1F4A\u1F4F\u1F52\u1F59\u1F5B\u1F5B\u1F5D\u1F5D\u1F5F\u1F5F\u1F61\u1F7F\u1F82\u1FB6\u1FB8\u1FBE\u1FC0\u1FC0\u1FC4\u1FC6\u1FC8\u1FCE\u1FD2\u1FD5\u1FD8\u1FDD\u1FE2\u1FEE\u1FF4\u1FF6\u1FF8\u1FFE\u2073\u2073\u2081\u2081\u2092\u209E\u2104\u2104\u2109\u2109\u210C\u2115\u2117\u2117\u211B\u211F\u2126\u2126\u2128\u2128\u212A\u212A\u212C\u212F\u2131\u213B\u213E\u2141\u2147\u214B\u2150\u2150\u2162\u218A\u2C02\u2C30\u2C32\u2C60\u2C62\u2CE6\u2CED\u2CF0\u2CF4\u2CF5\u2D02\u2D27\u2D29\u2D29\u2D2F\u2D2F\u2D32\u2D69\u2D71\u2D71\u2D82\u2D98\u2DA2\u2DA8\u2DAA\u2DB0\u2DB2\u2DB8\u2DBA\u2DC0\u2DC2\u2DC8\u2DCA\u2DD0\u2DD2\u2DD8\u2DDA\u2DE0\u2E31\u2E31\u3007\u3009\u3023\u302B\u3033\u3037\u303A\u303E\u3043\u3098\u309F\u30A1\u30A3\u30FC\u30FE\u3101\u3107\u312F\u3133\u3190\u31A2\u31BC\u31F2\u3201\u3402\u4DB7\u4E02\u9FD7\uA002\uA48E\uA4D2\uA4FF\uA502\uA60E\uA612\uA621\uA62C\uA62D\uA642\uA670\uA681\uA69F\uA6A2\uA6F1\uA719\uA721\uA724\uA78A\uA78D\uA7B0\uA7B2\uA7B9\uA7F9\uA803\uA805\uA807\uA809\uA80C\uA80E\uA824\uA842\uA875\uA884\uA8B5\uA8F4\uA8F9\uA8FD\uA8FD\uA8FF\uA8FF\uA90C\uA927\uA932\uA948\uA962\uA97E\uA986\uA9B4\uA9D1\uA9D1\uA9E2\uA9E6\uA9E8\uA9F1\uA9FC\uAA00\uAA02\uAA2A\uAA42\uAA44\uAA46\uAA4D\uAA62\uAA78\uAA7C\uAA7C\uAA80\uAAB1\uAAB3\uAAB3\uAAB7\uAAB8\uAABB\uAABF\uAAC2\uAAC2\uAAC4\uAAC4\uAADD\uAADF\uAAE2\uAAEC\uAAF4\uAAF6\uAB03\uAB08\uAB0B\uAB10\uAB13\uAB18\uAB22\uAB28\uAB2A\uAB30\uAB32\uAB5C\uAB5E\uAB67\uAB72\uABE4\uAC02\uD7A5\uD7B2\uD7C8\uD7CD\uD7FD\uF902\uFA6F\uFA72\uFADB\uFB02\uFB08\uFB15\uFB19\uFB1F\uFB1F\uFB21\uFB2A\uFB2C\uFB38\uFB3A\uFB3E\uFB40\uFB40\uFB42\uFB43\uFB45\uFB46\uFB48\uFBB3\uFBD5\uFD3F\uFD52\uFD91\uFD94\uFDC9\uFDF2\uFDFD\uFE72\uFE76\uFE78\uFEFE\uFF23\uFF3C\uFF43\uFF5C\uFF68\uFFC0\uFFC4\uFFC9\uFFCC\uFFD1\uFFD4\uFFD9\uFFDC\uFFDE\r(*<>?AOR_\x82\xFC\u0142\u0176\u0282\u029E\u02A2\u02D2\u0302\u0321\u0332\u034C\u0352\u0377\u0382\u039F\u03A2\u03C5\u03CA\u03D1\u03D3\u03D7\u0402\u049F\u04B2\u04D5\u04DA\u04FD\u0502\u0529\u0532\u0565\u0602\u0738\u0742\u0757\u0762\u0769\u0802\u0807\u080A\u080A\u080C\u0837\u0839\u083A\u083E\u083E\u0841\u0857\u0862\u0878\u0882\u08A0\u08E2\u08F4\u08F6\u08F7\u0902\u0917\u0922\u093B\u0982\u09B9\u09C0\u09C1\u0A02\u0A02\u0A12\u0A15\u0A17\u0A19\u0A1B\u0A35\u0A62\u0A7E\u0A82\u0A9E\u0AC2\u0AC9\u0ACB\u0AE6\u0B02\u0B37\u0B42\u0B57\u0B62\u0B74\u0B82\u0B93\u0C02\u0C4A\u0C82\u0CB4\u0CC2\u0CF4\u1005\u1039\u1085\u10B1\u10D2\u10EA\u1105\u1128\u1152\u1174\u1178\u1178\u1185\u11B4\u11C3\u11C6\u11DC\u11DC\u11DE\u11DE\u1202\u1213\u1215\u122D\u1282\u1288\u128A\u128A\u128C\u128F\u1291\u129F\u12A1\u12AA\u12B2\u12E0\u1307\u130E\u1311\u1312\u1315\u132A\u132C\u1332\u1334\u1335\u1337\u133B\u133F\u133F\u1352\u1352\u135F\u1363\u1402\u1436\u1449\u144C\u1482\u14B1\u14C6\u14C7\u14C9\u14C9\u1582\u15B0\u15DA\u15DD\u1602\u1631\u1646\u1646\u1682\u16AC\u1702\u171B\u18A2\u18E1\u1901\u1901\u1AC2\u1AFA\u1C02\u1C0A\u1C0C\u1C30\u1C42\u1C42\u1C74\u1C91\u2002\u239B\u2402\u2470\u2482\u2545\u3002\u3430\u4402\u4648\u6802\u6A3A\u6A42\u6A60\u6AD2\u6AEF\u6B02\u6B31\u6B42\u6B45\u6B65\u6B79\u6B7F\u6B91\u6F02\u6F46\u6F52\u6F52\u6F95\u6FA1\u6FE2\u6FE2\u7002\u87EE\u8802\u8AF4\uB002\uB003\uBC02\uBC6C\uBC72\uBC7E\uBC82\uBC8A\uBC92\uBC9B\uD402\uD456\uD458\uD49E\uD4A0\uD4A1\uD4A4\uD4A4\uD4A7\uD4A8\uD4AB\uD4AE\uD4B0\uD4BB\uD4BD\uD4BD\uD4BF\uD4C5\uD4C7\uD507\uD509\uD50C\uD50F\uD516\uD518\uD51E\uD520\uD53B\uD53D\uD540\uD542\uD546\uD548\uD548`;qo._serializedATNSegment1=`\uD54C\uD552\uD554\uD6A7\uD6AA\uD6C2\uD6C4\uD6DC\uD6DE\uD6FC\uD6FE\uD716\uD718\uD736\uD738\uD750\uD752\uD770\uD772\uD78A\uD78C\uD7AA\uD7AC\uD7C4\uD7C6\uD7CD\uE802\uE8C6\uE902\uE945\uEE02\uEE05\uEE07\uEE21\uEE23\uEE24\uEE26\uEE26\uEE29\uEE29\uEE2B\uEE34\uEE36\uEE39\uEE3B\uEE3B\uEE3D\uEE3D\uEE44\uEE44\uEE49\uEE49\uEE4B\uEE4B\uEE4D\uEE4D\uEE4F\uEE51\uEE53\uEE54\uEE56\uEE56\uEE59\uEE59\uEE5B\uEE5B\uEE5D\uEE5D\uEE5F\uEE5F\uEE61\uEE61\uEE63\uEE64\uEE66\uEE66\uEE69\uEE6C\uEE6E\uEE74\uEE76\uEE79\uEE7B\uEE7E\uEE80\uEE80\uEE82\uEE8B\uEE8D\uEE9D\uEEA3\uEEA5\uEEA7\uEEAB\uEEAD\uEEBD\uA6D8\uA702\uB736\uB742\uB81F\uB822\uCEA3\uF802\uFA1F1\x07	\v\x07	\v\r%')\x071\x071\x071\x07,\b\x1B\x07#\x1B
 \b\r\x07"  !!#" #$\b$\f%&	&'(	()-\x07)*,\v+*,/-.-+.0/-01\x07)1 -`;qo._serializedATN=y7e.join([qo._serializedATNSegment0,qo._serializedATNSegment1],"")});var _7e=Ae(Tw=>{"use strict";m();var bct=Tw&&Tw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Tw,"__esModule",{value:!0});Tw.XPathLexerErrorListener=void 0;var Ect=wr(),Fie=class{syntaxError(e,t,r,i,s,o){}};bct([Ect.Override],Fie.prototype,"syntaxError",null);Tw.XPathLexerErrorListener=Fie});var Z6=Ae(Fw=>{"use strict";m();var Sct=Fw&&Fw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Fw,"__esModule",{value:!0});Fw.XPathElement=void 0;var wct=wr(),Die=class{constructor(e){this.nodeName=e,this.invert=!1}toString(){let e=this.invert?"!":"";return Object.constructor.name+"["+e+this.nodeName+"]"}};Sct([wct.Override],Die.prototype,"toString",null);Fw.XPathElement=Die});var b7e=Ae(Dw=>{"use strict";m();var Cct=Dw&&Dw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Dw,"__esModule",{value:!0});Dw.XPathRuleAnywhereElement=void 0;var Act=wr(),Tct=xy(),Fct=Z6(),Oie=class extends Fct.XPathElement{constructor(e,t){super(e);this.ruleIndex=t}evaluate(e){return Tct.Trees.findAllRuleNodes(e,this.ruleIndex)}};Cct([Act.Override],Oie.prototype,"evaluate",null);Dw.XPathRuleAnywhereElement=Oie});var E7e=Ae(Ow=>{"use strict";m();var Dct=Ow&&Ow.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Ow,"__esModule",{value:!0});Ow.XPathRuleElement=void 0;var Oct=g1(),Rct=wr(),Nct=xy(),Lct=Z6(),Rie=class extends Lct.XPathElement{constructor(e,t){super(e);this.ruleIndex=t}evaluate(e){let t=[];for(let r of Nct.Trees.getChildren(e))r instanceof Oct.ParserRuleContext&&(r.ruleIndex===this.ruleIndex&&!this.invert||r.ruleIndex!==this.ruleIndex&&this.invert)&&t.push(r);return t}};Dct([Rct.Override],Rie.prototype,"evaluate",null);Ow.XPathRuleElement=Rie});var S7e=Ae(Rw=>{"use strict";m();var kct=Rw&&Rw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Rw,"__esModule",{value:!0});Rw.XPathTokenAnywhereElement=void 0;var Ict=wr(),Mct=xy(),Pct=Z6(),Nie=class extends Pct.XPathElement{constructor(e,t){super(e);this.tokenType=t}evaluate(e){return Mct.Trees.findAllTokenNodes(e,this.tokenType)}};kct([Ict.Override],Nie.prototype,"evaluate",null);Rw.XPathTokenAnywhereElement=Nie});var w7e=Ae(Nw=>{"use strict";m();var Bct=Nw&&Nw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Nw,"__esModule",{value:!0});Nw.XPathTokenElement=void 0;var jct=wr(),qct=my(),Uct=xy(),$ct=Z6(),Lie=class extends $ct.XPathElement{constructor(e,t){super(e);this.tokenType=t}evaluate(e){let t=[];for(let r of Uct.Trees.getChildren(e))r instanceof qct.TerminalNode&&(r.symbol.type===this.tokenType&&!this.invert||r.symbol.type!==this.tokenType&&this.invert)&&t.push(r);return t}};Bct([jct.Override],Lie.prototype,"evaluate",null);Nw.XPathTokenElement=Lie});var C7e=Ae(Lw=>{"use strict";m();var zct=Lw&&Lw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Lw,"__esModule",{value:!0});Lw.XPathWildcardAnywhereElement=void 0;var Hct=wr(),Vct=xy(),Wct=FU(),Qct=Z6(),kie=class extends Qct.XPathElement{constructor(){super(Wct.XPath.WILDCARD)}evaluate(e){return this.invert?[]:Vct.Trees.getDescendants(e)}};zct([Hct.Override],kie.prototype,"evaluate",null);Lw.XPathWildcardAnywhereElement=kie});var A7e=Ae(kw=>{"use strict";m();var Gct=kw&&kw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(kw,"__esModule",{value:!0});kw.XPathWildcardElement=void 0;var Yct=wr(),Kct=xy(),Jct=FU(),Xct=Z6(),Iie=class extends Xct.XPathElement{constructor(){super(Jct.XPath.WILDCARD)}evaluate(e){let t=[];if(this.invert)return t;for(let r of Kct.Trees.getChildren(e))t.push(r);return t}};Gct([Yct.Override],Iie.prototype,"evaluate",null);kw.XPathWildcardElement=Iie});var FU=Ae(DU=>{"use strict";m();Object.defineProperty(DU,"__esModule",{value:!0});DU.XPath=void 0;var Zct=_U(),eft=SU(),tft=eO(),nft=g1(),Mie=uu(),km=v7e(),rft=_7e(),ift=b7e(),sft=E7e(),oft=S7e(),aft=w7e(),uft=C7e(),lft=A7e(),Iw=class{constructor(e,t){this.parser=e,this.path=t,this.elements=this.split(t)}split(e){let t=new km.XPathLexer(Zct.CharStreams.fromString(e));t.recover=l=>{throw l},t.removeErrorListeners(),t.addErrorListener(new rft.XPathLexerErrorListener);let r=new eft.CommonTokenStream(t);try{r.fill()}catch(l){if(l instanceof tft.LexerNoViableAltException){let f=t.charPositionInLine,p="Invalid tokens or characters at index "+f+" in path '"+e+"' -- "+l.message;throw new RangeError(p)}throw l}let i=r.getTokens(),s=[],o=i.length,a=0;e:for(;a<o;){let l=i[a],f;switch(l.type){case km.XPathLexer.ROOT:case km.XPathLexer.ANYWHERE:let p=l.type===km.XPathLexer.ANYWHERE;a++,f=i[a];let _=f.type===km.XPathLexer.BANG;_&&(a++,f=i[a]);let E=this.getXPathElement(f,p);E.invert=_,s.push(E),a++;break;case km.XPathLexer.TOKEN_REF:case km.XPathLexer.RULE_REF:case km.XPathLexer.WILDCARD:s.push(this.getXPathElement(l,!1)),a++;break;case Mie.Token.EOF:break e;default:throw new Error("Unknowth path element "+l)}}return s}getXPathElement(e,t){if(e.type===Mie.Token.EOF)throw new Error("Missing path element at end of path");let r=e.text;if(r==null)throw new Error("Expected wordToken to have text content.");let i=this.parser.getTokenType(r),s=this.parser.getRuleIndex(r);switch(e.type){case km.XPathLexer.WILDCARD:return t?new uft.XPathWildcardAnywhereElement:new lft.XPathWildcardElement;case km.XPathLexer.TOKEN_REF:case km.XPathLexer.STRING:if(i===Mie.Token.INVALID_TYPE)throw new Error(r+" at index "+e.startIndex+" isn't a valid token name");return t?new oft.XPathTokenAnywhereElement(r,i):new aft.XPathTokenElement(r,i);default:if(s===-1)throw new Error(r+" at index "+e.startIndex+" isn't a valid rule name");return t?new ift.XPathRuleAnywhereElement(r,s):new sft.XPathRuleElement(r,s)}}static findAll(e,t,r){return new Iw(r,t).evaluate(e)}evaluate(e){let t=new nft.ParserRuleContext;t.addChild(e);let r=new Set([t]),i=0;for(;i<this.elements.length;){let s=new Set;for(let o of r)o.childCount>0&&this.elements[i].evaluate(o).forEach(s.add,s);i++,r=s}return r}};DU.XPath=Iw;Iw.WILDCARD="*";Iw.NOT="!"});var T7e=Ae(Jv=>{"use strict";m();var _x=Jv&&Jv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},eb=Jv&&Jv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Jv,"__esModule",{value:!0});Jv.ParseTreePattern=void 0;var Ad=wr(),cft=FU(),v1=class{constructor(e,t,r,i){this._matcher=e,this._patternRuleIndex=r,this._pattern=t,this._patternTree=i}match(e){return this._matcher.match(e,this)}matches(e){return this._matcher.match(e,this).succeeded}findAll(e,t){let r=cft.XPath.findAll(e,t,this._matcher.parser),i=[];for(let s of r){let o=this.match(s);o.succeeded&&i.push(o)}return i}get matcher(){return this._matcher}get pattern(){return this._pattern}get patternRuleIndex(){return this._patternRuleIndex}get patternTree(){return this._patternTree}};_x([Ad.NotNull],v1.prototype,"_pattern",void 0);_x([Ad.NotNull],v1.prototype,"_patternTree",void 0);_x([Ad.NotNull],v1.prototype,"_matcher",void 0);_x([Ad.NotNull,eb(0,Ad.NotNull)],v1.prototype,"match",null);_x([eb(0,Ad.NotNull)],v1.prototype,"matches",null);_x([Ad.NotNull,eb(0,Ad.NotNull),eb(1,Ad.NotNull)],v1.prototype,"findAll",null);_x([Ad.NotNull],v1.prototype,"matcher",null);_x([Ad.NotNull],v1.prototype,"pattern",null);_x([Ad.NotNull],v1.prototype,"patternTree",null);v1=_x([eb(0,Ad.NotNull),eb(1,Ad.NotNull),eb(3,Ad.NotNull)],v1);Jv.ParseTreePattern=v1});var F7e=Ae(Xv=>{"use strict";m();var rp=Xv&&Xv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},fft=Xv&&Xv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Xv,"__esModule",{value:!0});Xv.RuleTagToken=void 0;var ip=wr(),dft=uu(),Td=class{constructor(e,t,r){if(e==null||e.length===0)throw new Error("ruleName cannot be null or empty.");this._ruleName=e,this.bypassTokenType=t,this._label=r}get ruleName(){return this._ruleName}get label(){return this._label}get channel(){return dft.Token.DEFAULT_CHANNEL}get text(){return this._label!=null?"<"+this._label+":"+this._ruleName+">":"<"+this._ruleName+">"}get type(){return this.bypassTokenType}get line(){return 0}get charPositionInLine(){return-1}get tokenIndex(){return-1}get startIndex(){return-1}get stopIndex(){return-1}get tokenSource(){}get inputStream(){}toString(){return this._ruleName+":"+this.bypassTokenType}};rp([ip.NotNull],Td.prototype,"ruleName",null);rp([ip.Override],Td.prototype,"channel",null);rp([ip.Override],Td.prototype,"text",null);rp([ip.Override],Td.prototype,"type",null);rp([ip.Override],Td.prototype,"line",null);rp([ip.Override],Td.prototype,"charPositionInLine",null);rp([ip.Override],Td.prototype,"tokenIndex",null);rp([ip.Override],Td.prototype,"startIndex",null);rp([ip.Override],Td.prototype,"stopIndex",null);rp([ip.Override],Td.prototype,"tokenSource",null);rp([ip.Override],Td.prototype,"inputStream",null);rp([ip.Override],Td.prototype,"toString",null);Td=rp([fft(0,ip.NotNull)],Td);Xv.RuleTagToken=Td});var Pie=Ae(OU=>{"use strict";m();Object.defineProperty(OU,"__esModule",{value:!0});OU.Chunk=void 0;var D7e=class{};OU.Chunk=D7e});var N7e=Ae(Mw=>{"use strict";m();var O7e=Mw&&Mw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Mw,"__esModule",{value:!0});Mw.TagChunk=void 0;var hft=Pie(),R7e=wr(),RU=class extends hft.Chunk{constructor(e,t){super();if(e==null||e.length===0)throw new Error("tag cannot be null or empty");this._tag=e,this._label=t}get tag(){return this._tag}get label(){return this._label}toString(){return this._label!=null?this._label+":"+this._tag:this._tag}};O7e([R7e.NotNull],RU.prototype,"tag",null);O7e([R7e.Override],RU.prototype,"toString",null);Mw.TagChunk=RU});var L7e=Ae(Zv=>{"use strict";m();var NU=Zv&&Zv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},pft=Zv&&Zv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Zv,"__esModule",{value:!0});Zv.TextChunk=void 0;var mft=Pie(),LU=wr(),Pw=class extends mft.Chunk{constructor(e){super();if(e==null)throw new Error("text cannot be null");this._text=e}get text(){return this._text}toString(){return"'"+this._text+"'"}};NU([LU.NotNull],Pw.prototype,"_text",void 0);NU([LU.NotNull],Pw.prototype,"text",null);NU([LU.Override],Pw.prototype,"toString",null);Pw=NU([pft(0,LU.NotNull)],Pw);Zv.TextChunk=Pw});var k7e=Ae(e4=>{"use strict";m();var CO=e4&&e4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},xft=e4&&e4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(e4,"__esModule",{value:!0});e4.TokenTagToken=void 0;var gft=dS(),AO=wr(),tb=class extends gft.CommonToken{constructor(e,t,r){super(t);this._tokenName=e,this._label=r}get tokenName(){return this._tokenName}get label(){return this._label}get text(){return this._label!=null?"<"+this._label+":"+this._tokenName+">":"<"+this._tokenName+">"}toString(){return this._tokenName+":"+this.type}};CO([AO.NotNull],tb.prototype,"_tokenName",void 0);CO([AO.NotNull],tb.prototype,"tokenName",null);CO([AO.Override],tb.prototype,"text",null);CO([AO.Override],tb.prototype,"toString",null);tb=CO([xft(0,AO.NotNull)],tb);e4.TokenTagToken=tb});var q7e=Ae(Ex=>{"use strict";m();var kU=Ex&&Ex.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},IU=Ex&&Ex.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Ex,"__esModule",{value:!0});Ex.ParseTreePatternMatcher=void 0;var yft=qie(),vft=_U(),_ft=SU(),bft=Eie(),I7e=d7e(),nb=wr(),Eft=Sie(),Sft=Tie(),M7e=g1(),wft=g7e(),Cft=T7e(),Aft=Jg(),Tft=rw(),P7e=F7e(),B7e=N7e(),Bie=my(),Bw=L7e(),jie=uu(),j7e=k7e(),bx=class{constructor(e,t){this.start="<",this.stop=">",this.escape="\\",this.escapeRE=/\\/g,this._lexer=e,this._parser=t}setDelimiters(e,t,r){if(!e)throw new Error("start cannot be null or empty");if(!t)throw new Error("stop cannot be null or empty");this.start=e,this.stop=t,this.escape=r,this.escapeRE=new RegExp(r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g")}matches(e,t,r=0){if(typeof t=="string"){let i=this.compile(t,r);return this.matches(e,i)}else{let i=new I7e.MultiMap;return!this.matchImpl(e,t.patternTree,i)}}match(e,t,r=0){if(typeof t=="string"){let i=this.compile(t,r);return this.match(e,i)}else{let i=new I7e.MultiMap,s=this.matchImpl(e,t.patternTree,i);return new wft.ParseTreeMatch(e,t,i,s)}}compile(e,t){let r=this.tokenize(e),i=new bft.ListTokenSource(r),s=new _ft.CommonTokenStream(i),o=this._parser,a=new Sft.ParserInterpreter(o.grammarFileName,o.vocabulary,o.ruleNames,o.getATNWithBypassAlts(),s),l;try{a.errorHandler=new yft.BailErrorStrategy,l=a.parse(t)}catch(f){throw f instanceof Eft.ParseCancellationException?f.getCause():f instanceof Aft.RecognitionException?f:f instanceof Error?new bx.CannotInvokeStartRule(f):f}if(s.LA(1)!==jie.Token.EOF)throw new bx.StartRuleDoesNotConsumeFullPattern;return new Cft.ParseTreePattern(this,e,t,l)}get lexer(){return this._lexer}get parser(){return this._parser}matchImpl(e,t,r){if(!e)throw new TypeError("tree cannot be null");if(!t)throw new TypeError("patternTree cannot be null");if(e instanceof Bie.TerminalNode&&t instanceof Bie.TerminalNode){let i;if(e.symbol.type===t.symbol.type)if(t.symbol instanceof j7e.TokenTagToken){let s=t.symbol;r.map(s.tokenName,e);let o=s.label;o&&r.map(o,e)}else e.text===t.text||i||(i=e);else i||(i=e);return i}if(e instanceof M7e.ParserRuleContext&&t instanceof M7e.ParserRuleContext){let i,s=this.getRuleTagToken(t);if(s){let a;if(e.ruleContext.ruleIndex===t.ruleContext.ruleIndex){r.map(s.ruleName,e);let l=s.label;l&&r.map(l,e)}else i||(i=e);return i}if(e.childCount!==t.childCount)return i||(i=e),i;let o=e.childCount;for(let a=0;a<o;a++){let l=this.matchImpl(e.getChild(a),t.getChild(a),r);if(l)return l}return i}return e}getRuleTagToken(e){if(e instanceof Tft.RuleNode&&e.childCount===1&&e.getChild(0)instanceof Bie.TerminalNode){let t=e.getChild(0);if(t.symbol instanceof P7e.RuleTagToken)return t.symbol}}tokenize(e){let t=this.split(e),r=[];for(let i of t)if(i instanceof B7e.TagChunk){let s=i,o=s.tag.substr(0,1);if(o===o.toUpperCase()){let a=this._parser.getTokenType(s.tag);if(a===jie.Token.INVALID_TYPE)throw new Error("Unknown token "+s.tag+" in pattern: "+e);let l=new j7e.TokenTagToken(s.tag,a,s.label);r.push(l)}else if(o===o.toLowerCase()){let a=this._parser.getRuleIndex(s.tag);if(a===-1)throw new Error("Unknown rule "+s.tag+" in pattern: "+e);let l=this._parser.getATNWithBypassAlts().ruleToTokenType[a];r.push(new P7e.RuleTagToken(s.tag,l,s.label))}else throw new Error("invalid tag: "+s.tag+" in pattern: "+e)}else{let s=i;this._lexer.inputStream=vft.CharStreams.fromString(s.text);let o=this._lexer.nextToken();for(;o.type!==jie.Token.EOF;)r.push(o),o=this._lexer.nextToken()}return r}split(e){let t=0,r=e.length,i=[],s,o=[],a=[];for(;t<r;)t===e.indexOf(this.escape+this.start,t)?t+=this.escape.length+this.start.length:t===e.indexOf(this.escape+this.stop,t)?t+=this.escape.length+this.stop.length:t===e.indexOf(this.start,t)?(o.push(t),t+=this.start.length):t===e.indexOf(this.stop,t)?(a.push(t),t+=this.stop.length):t++;if(o.length>a.length)throw new Error("unterminated tag in pattern: "+e);if(o.length<a.length)throw new Error("missing start tag in pattern: "+e);let l=o.length;for(let f=0;f<l;f++)if(o[f]>=a[f])throw new Error("tag delimiters out of order in pattern: "+e);if(l===0){let f=e.substring(0,r);i.push(new Bw.TextChunk(f))}if(l>0&&o[0]>0){let f=e.substring(0,o[0]);i.push(new Bw.TextChunk(f))}for(let f=0;f<l;f++){let p=e.substring(o[f]+this.start.length,a[f]),_=p,E,O=p.indexOf(":");if(O>=0&&(E=p.substring(0,O),_=p.substring(O+1,p.length)),i.push(new B7e.TagChunk(_,E)),f+1<l){let R=e.substring(a[f]+this.stop.length,o[f+1]);i.push(new Bw.TextChunk(R))}}if(l>0){let f=a[l-1]+this.stop.length;if(f<r){let p=e.substring(f,r);i.push(new Bw.TextChunk(p))}}for(let f=0;f<i.length;f++){let p=i[f];if(p instanceof Bw.TextChunk){let _=p.text.replace(this.escapeRE,"");_.length<p.text.length&&(i[f]=new Bw.TextChunk(_))}}return i}};kU([nb.NotNull,IU(1,nb.NotNull)],bx.prototype,"match",null);kU([nb.NotNull],bx.prototype,"lexer",null);kU([nb.NotNull],bx.prototype,"parser",null);kU([IU(0,nb.NotNull),IU(1,nb.NotNull),IU(2,nb.NotNull)],bx.prototype,"matchImpl",null);Ex.ParseTreePatternMatcher=bx;(function(n){class e extends Error{constructor(i){super(`CannotInvokeStartRule: ${i}`);this.error=i}}n.CannotInvokeStartRule=e;class t extends Error{constructor(){super("StartRuleDoesNotConsumeFullPattern")}}n.StartRuleDoesNotConsumeFullPattern=t})(bx=Ex.ParseTreePatternMatcher||(Ex.ParseTreePatternMatcher={}))});var jw=Ae(t4=>{"use strict";m();var U7e=t4&&t4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Fft=t4&&t4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(t4,"__esModule",{value:!0});t4.DecisionEventInfo=void 0;var $7e=wr(),MU=class{constructor(e,t,r,i,s,o){this.decision=e,this.fullCtx=o,this.stopIndex=s,this.input=r,this.startIndex=i,this.state=t}};U7e([$7e.NotNull],MU.prototype,"input",void 0);MU=U7e([Fft(2,$7e.NotNull)],MU);t4.DecisionEventInfo=MU});var z7e=Ae(n4=>{"use strict";m();var Uie=n4&&n4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},$ie=n4&&n4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(n4,"__esModule",{value:!0});n4.AmbiguityInfo=void 0;var Dft=jw(),TO=wr(),FO=class extends Dft.DecisionEventInfo{constructor(e,t,r,i,s,o){super(e,t,i,s,o,t.useContext);this.ambigAlts=r}get ambiguousAlternatives(){return this.ambigAlts}};Uie([TO.NotNull],FO.prototype,"ambigAlts",void 0);Uie([TO.NotNull],FO.prototype,"ambiguousAlternatives",null);FO=Uie([$ie(1,TO.NotNull),$ie(2,TO.NotNull),$ie(3,TO.NotNull)],FO);n4.AmbiguityInfo=FO});var W7e=Ae(r4=>{"use strict";m();var Oft=r4&&r4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},H7e=r4&&r4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(r4,"__esModule",{value:!0});r4.ContextSensitivityInfo=void 0;var Rft=jw(),V7e=wr(),zie=class extends Rft.DecisionEventInfo{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}};zie=Oft([H7e(1,V7e.NotNull),H7e(2,V7e.NotNull)],zie);r4.ContextSensitivityInfo=zie});var Q7e=Ae(qw=>{"use strict";m();var Nft=qw&&qw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(qw,"__esModule",{value:!0});qw.DecisionInfo=void 0;var Lft=wr(),Hie=class{constructor(e){this.invocations=0,this.timeInPrediction=0,this.SLL_TotalLook=0,this.SLL_MinLook=0,this.SLL_MaxLook=0,this.LL_TotalLook=0,this.LL_MinLook=0,this.LL_MaxLook=0,this.contextSensitivities=[],this.errors=[],this.ambiguities=[],this.predicateEvals=[],this.SLL_ATNTransitions=0,this.SLL_DFATransitions=0,this.LL_Fallback=0,this.LL_ATNTransitions=0,this.LL_DFATransitions=0,this.decision=e}toString(){return"{decision="+this.decision+", contextSensitivities="+this.contextSensitivities.length+", errors="+this.errors.length+", ambiguities="+this.ambiguities.length+", SLL_lookahead="+this.SLL_TotalLook+", SLL_ATNTransitions="+this.SLL_ATNTransitions+", SLL_DFATransitions="+this.SLL_DFATransitions+", LL_Fallback="+this.LL_Fallback+", LL_lookahead="+this.LL_TotalLook+", LL_ATNTransitions="+this.LL_ATNTransitions+"}"}};Nft([Lft.Override],Hie.prototype,"toString",null);qw.DecisionInfo=Hie});var K7e=Ae(i4=>{"use strict";m();var kft=i4&&i4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},G7e=i4&&i4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(i4,"__esModule",{value:!0});i4.ErrorInfo=void 0;var Ift=jw(),Y7e=wr(),Vie=class extends Ift.DecisionEventInfo{constructor(e,t,r,i,s){super(e,t,r,i,s,t.useContext)}};Vie=kft([G7e(1,Y7e.NotNull),G7e(2,Y7e.NotNull)],Vie);i4.ErrorInfo=Vie});var J7e=Ae(s4=>{"use strict";m();var Mft=s4&&s4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Pft=s4&&s4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(s4,"__esModule",{value:!0});s4.LookaheadEventInfo=void 0;var Bft=jw(),jft=wr(),Wie=class extends Bft.DecisionEventInfo{constructor(e,t,r,i,s,o,a){super(e,t,i,s,o,a);this.predictedAlt=r}};Wie=Mft([Pft(3,jft.NotNull)],Wie);s4.LookaheadEventInfo=Wie});var X7e=Ae(o4=>{"use strict";m();var qft=o4&&o4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Qie=o4&&o4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(o4,"__esModule",{value:!0});o4.PredicateEvalInfo=void 0;var Uft=jw(),Gie=wr(),Yie=class extends Uft.DecisionEventInfo{constructor(e,t,r,i,s,o,a,l){super(t,e,r,i,s,e.useContext);this.semctx=o,this.evalResult=a,this.predictedAlt=l}};Yie=qft([Qie(0,Gie.NotNull),Qie(2,Gie.NotNull),Qie(5,Gie.NotNull)],Yie);o4.PredicateEvalInfo=Yie});var Kie=Ae(a4=>{"use strict";m();var Sx=a4&&a4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},PU=a4&&a4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(a4,"__esModule",{value:!0});a4.ProfilingATNSimulator=void 0;var $ft=z7e(),Z7e=Fm(),zft=WD(),e8e=W7e(),Hft=Q7e(),t8e=K7e(),vh=wr(),n8e=J7e(),Vft=lw(),Wft=X7e(),Qft=E6(),r8e=Wre(),_1=class extends Vft.ParserATNSimulator{constructor(e){super(e.interpreter.atn,e);this._startIndex=0,this._sllStopIndex=0,this._llStopIndex=0,this.currentDecision=0,this.conflictingAltResolvedBySLL=0,this.optimize_ll1=!1,this.reportAmbiguities=!0,this.numDecisions=this.atn.decisionToState.length,this.decisions=[];for(let t=0;t<this.numDecisions;t++)this.decisions.push(new Hft.DecisionInfo(t))}adaptivePredict(e,t,r,i){if(i!==void 0)return super.adaptivePredict(e,t,r,i);try{this._input=e,this._startIndex=e.index,this._sllStopIndex=this._startIndex-1,this._llStopIndex=-1,this.currentDecision=t,this.currentState=void 0,this.conflictingAltResolvedBySLL=Z7e.ATN.INVALID_ALT_NUMBER;let s=process.hrtime(),o=super.adaptivePredict(e,t,r),a=process.hrtime(),l=(a[0]-s[0])*1e9;l===0?l=a[1]-s[1]:l+=1e9-s[1]+a[1],this.decisions[t].timeInPrediction+=l,this.decisions[t].invocations++;let f=this._sllStopIndex-this._startIndex+1;if(this.decisions[t].SLL_TotalLook+=f,this.decisions[t].SLL_MinLook=this.decisions[t].SLL_MinLook===0?f:Math.min(this.decisions[t].SLL_MinLook,f),f>this.decisions[t].SLL_MaxLook&&(this.decisions[t].SLL_MaxLook=f,this.decisions[t].SLL_MaxLookEvent=new n8e.LookaheadEventInfo(t,void 0,o,e,this._startIndex,this._sllStopIndex,!1)),this._llStopIndex>=0){let p=this._llStopIndex-this._startIndex+1;this.decisions[t].LL_TotalLook+=p,this.decisions[t].LL_MinLook=this.decisions[t].LL_MinLook===0?p:Math.min(this.decisions[t].LL_MinLook,p),p>this.decisions[t].LL_MaxLook&&(this.decisions[t].LL_MaxLook=p,this.decisions[t].LL_MaxLookEvent=new n8e.LookaheadEventInfo(t,void 0,o,e,this._startIndex,this._llStopIndex,!0))}return o}finally{this._input=void 0,this.currentDecision=-1}}getStartState(e,t,r,i){let s=super.getStartState(e,t,r,i);return this.currentState=s,s}computeStartState(e,t,r){let i=super.computeStartState(e,t,r);return this.currentState=i,i}computeReachSet(e,t,r,i){if(this._input===void 0)throw new Error("Invalid state");let s=super.computeReachSet(e,t,r,i);return s==null&&this.decisions[this.currentDecision].errors.push(new t8e.ErrorInfo(this.currentDecision,t,this._input,this._startIndex,this._input.index)),this.currentState=s,s}getExistingTargetState(e,t){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");this.currentState.useContext?this._llStopIndex=this._input.index:this._sllStopIndex=this._input.index;let r=super.getExistingTargetState(e,t);if(r!=null&&(this.currentState=new r8e.SimulatorState(this.currentState.outerContext,r,this.currentState.useContext,this.currentState.remainingOuterContext),this.currentState.useContext?this.decisions[this.currentDecision].LL_DFATransitions++:this.decisions[this.currentDecision].SLL_DFATransitions++,r===zft.ATNSimulator.ERROR)){let i=new r8e.SimulatorState(this.currentState.outerContext,e,this.currentState.useContext,this.currentState.remainingOuterContext);this.decisions[this.currentDecision].errors.push(new t8e.ErrorInfo(this.currentDecision,i,this._input,this._startIndex,this._input.index))}return r}computeTargetState(e,t,r,i,s,o){let a=super.computeTargetState(e,t,r,i,s,o);return s?this.decisions[this.currentDecision].LL_ATNTransitions++:this.decisions[this.currentDecision].SLL_ATNTransitions++,a}evalSemanticContextImpl(e,t,r){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let i=super.evalSemanticContextImpl(e,t,r);if(!(e instanceof Qft.SemanticContext.PrecedencePredicate)){let o=this._llStopIndex>=0?this._llStopIndex:this._sllStopIndex;this.decisions[this.currentDecision].predicateEvals.push(new Wft.PredicateEvalInfo(this.currentState,this.currentDecision,this._input,this._startIndex,o,e,i,r))}return i}reportContextSensitivity(e,t,r,i,s){if(this._input===void 0)throw new Error("Invalid state");t!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new e8e.ContextSensitivityInfo(this.currentDecision,r,this._input,i,s)),super.reportContextSensitivity(e,t,r,i,s)}reportAttemptingFullContext(e,t,r,i,s){t!=null?this.conflictingAltResolvedBySLL=t.nextSetBit(0):this.conflictingAltResolvedBySLL=r.s0.configs.getRepresentedAlternatives().nextSetBit(0),this.decisions[this.currentDecision].LL_Fallback++,super.reportAttemptingFullContext(e,t,r,i,s)}reportAmbiguity(e,t,r,i,s,o,a){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let l;o!=null?l=o.nextSetBit(0):l=a.getRepresentedAlternatives().nextSetBit(0),this.conflictingAltResolvedBySLL!==Z7e.ATN.INVALID_ALT_NUMBER&&l!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new e8e.ContextSensitivityInfo(this.currentDecision,this.currentState,this._input,r,i)),this.decisions[this.currentDecision].ambiguities.push(new $ft.AmbiguityInfo(this.currentDecision,this.currentState,o,this._input,r,i)),super.reportAmbiguity(e,t,r,i,s,o,a)}getDecisionInfo(){return this.decisions}getCurrentState(){return this.currentState}};Sx([vh.Override,PU(0,vh.NotNull)],_1.prototype,"adaptivePredict",null);Sx([vh.Override],_1.prototype,"getStartState",null);Sx([vh.Override],_1.prototype,"computeStartState",null);Sx([vh.Override],_1.prototype,"computeReachSet",null);Sx([vh.Override],_1.prototype,"getExistingTargetState",null);Sx([vh.Override],_1.prototype,"computeTargetState",null);Sx([vh.Override],_1.prototype,"evalSemanticContextImpl",null);Sx([vh.Override],_1.prototype,"reportContextSensitivity",null);Sx([vh.Override],_1.prototype,"reportAttemptingFullContext",null);Sx([vh.Override,PU(0,vh.NotNull),PU(5,vh.NotNull),PU(6,vh.NotNull)],_1.prototype,"reportAmbiguity",null);a4.ProfilingATNSimulator=_1});var iw=Ae(wx=>{"use strict";m();var Gc=wx&&wx.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},BU=wx&&wx.__param||function(n,e){return function(t,r){e(t,r,n)}},i8e=wx&&wx.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{f(r.next(p))}catch(_){o(_)}}function l(p){try{f(r.throw(p))}catch(_){o(_)}}function f(p){p.done?s(p.value):i(p.value).then(a,l)}f((r=r.apply(n,e||[])).next())})};Object.defineProperty(wx,"__esModule",{value:!0});wx.Parser=void 0;var Gft=Tm(),Yft=Cre(),Kft=vO(),Jft=jU(),Xft=nw(),Zft=Une(),e0t=ly(),Zl=wr(),t0t=r7e(),n0t=lw(),r0t=mie(),i0t=yS(),s0t=my(),DO=uu(),Uw=class{constructor(e,t){this.ruleNames=e,this.tokenStream=t}enterEveryRule(e){console.log("enter   "+this.ruleNames[e.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}exitEveryRule(e){console.log("exit    "+this.ruleNames[e.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}visitErrorNode(e){}visitTerminal(e){let t=e.parent.ruleContext,r=e.symbol;console.log("consume "+r+" rule "+this.ruleNames[t.ruleIndex])}};Gc([Zl.Override],Uw.prototype,"enterEveryRule",null);Gc([Zl.Override],Uw.prototype,"exitEveryRule",null);Gc([Zl.Override],Uw.prototype,"visitErrorNode",null);Gc([Zl.Override],Uw.prototype,"visitTerminal",null);var jl=class extends i0t.Recognizer{constructor(e){super();this._errHandler=new Jft.DefaultErrorStrategy,this._precedenceStack=new Zft.IntegerStack,this._buildParseTrees=!0,this._parseListeners=[],this._syntaxErrors=0,this.matchedEOF=!1,this._precedenceStack.push(0),this.inputStream=e}reset(e){(e===void 0||e)&&this.inputStream.seek(0),this._errHandler.reset(this),this._ctx=void 0,this._syntaxErrors=0,this.matchedEOF=!1,this.isTrace=!1,this._precedenceStack.clear(),this._precedenceStack.push(0);let t=this.interpreter;t!=null&&t.reset()}match(e){let t=this.currentToken;return t.type===e?(e===DO.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this._buildParseTrees&&t.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,t))),t}matchWildcard(){let e=this.currentToken;return e.type>0?(this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this._buildParseTrees&&e.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,e))),e}set buildParseTree(e){this._buildParseTrees=e}get buildParseTree(){return this._buildParseTrees}getParseListeners(){return this._parseListeners}addParseListener(e){if(e==null)throw new TypeError("listener cannot be null");this._parseListeners.push(e)}removeParseListener(e){let t=this._parseListeners.findIndex(r=>r===e);t!==-1&&this._parseListeners.splice(t,1)}removeParseListeners(){this._parseListeners.length=0}triggerEnterRuleEvent(){for(let e of this._parseListeners)e.enterEveryRule&&e.enterEveryRule(this._ctx),this._ctx.enterRule(e)}triggerExitRuleEvent(){for(let e=this._parseListeners.length-1;e>=0;e--){let t=this._parseListeners[e];this._ctx.exitRule(t),t.exitEveryRule&&t.exitEveryRule(this._ctx)}}get numberOfSyntaxErrors(){return this._syntaxErrors}get tokenFactory(){return this._input.tokenSource.tokenFactory}getATNWithBypassAlts(){let e=this.serializedATN;if(e==null)throw new Error("The current parser does not support an ATN with bypass alternatives.");let t=jl.bypassAltsAtnCache.get(e);if(t==null){let r=new Yft.ATNDeserializationOptions;r.isGenerateRuleBypassTransitions=!0,t=new Kft.ATNDeserializer(r).deserialize(Gft.toCharArray(e)),jl.bypassAltsAtnCache.set(e,t)}return t}compileParseTreePattern(e,t,r){return i8e(this,void 0,void 0,function*(){if(!r){if(this.inputStream){let a=this.inputStream.tokenSource;a instanceof e0t.Lexer&&(r=a)}if(!r)throw new Error("Parser can't discover a lexer to use")}let i=r,s=yield Promise.resolve().then(()=>q7e());return new s.ParseTreePatternMatcher(i,this).compile(e,t)})}get errorHandler(){return this._errHandler}set errorHandler(e){this._errHandler=e}get inputStream(){return this._input}set inputStream(e){this.reset(!1),this._input=e}get currentToken(){return this._input.LT(1)}notifyErrorListeners(e,t,r){t===void 0?t=this.currentToken:t===null&&(t=void 0),this._syntaxErrors++;let i=-1,s=-1;t!=null&&(i=t.line,s=t.charPositionInLine);let o=this.getErrorListenerDispatch();o.syntaxError&&o.syntaxError(this,t,i,s,e,r)}consume(){let e=this.currentToken;e.type!==jl.EOF&&this.inputStream.consume();let t=this._parseListeners.length!==0;if(this._buildParseTrees||t)if(this._errHandler.inErrorRecoveryMode(this)){let r=this._ctx.addErrorNode(this.createErrorNode(this._ctx,e));if(t)for(let i of this._parseListeners)i.visitErrorNode&&i.visitErrorNode(r)}else{let r=this.createTerminalNode(this._ctx,e);if(this._ctx.addChild(r),t)for(let i of this._parseListeners)i.visitTerminal&&i.visitTerminal(r)}return e}createTerminalNode(e,t){return new s0t.TerminalNode(t)}createErrorNode(e,t){return new Xft.ErrorNode(t)}addContextToParseTree(){let e=this._ctx._parent;e!=null&&e.addChild(this._ctx)}enterRule(e,t,r){this.state=t,this._ctx=e,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}enterLeftFactoredRule(e,t,r){if(this.state=t,this._buildParseTrees){let i=this._ctx.getChild(this._ctx.childCount-1);this._ctx.removeLastChild(),i._parent=e,e.addChild(i)}this._ctx=e,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this.matchedEOF?this._ctx._stop=this._input.LT(1):this._ctx._stop=this._input.tryLT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx._parent}enterOuterAlt(e,t){if(e.altNumber=t,this._buildParseTrees&&this._ctx!==e){let r=this._ctx._parent;r!=null&&(r.removeLastChild(),r.addChild(e))}this._ctx=e}get precedence(){return this._precedenceStack.isEmpty?-1:this._precedenceStack.peek()}enterRecursionRule(e,t,r,i){this.state=t,this._precedenceStack.push(i),this._ctx=e,this._ctx._start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(e,t,r){let i=this._ctx;i._parent=e,i.invokingState=t,i._stop=this._input.tryLT(-1),this._ctx=e,this._ctx._start=i._start,this._buildParseTrees&&this._ctx.addChild(i),this.triggerEnterRuleEvent()}unrollRecursionContexts(e){this._precedenceStack.pop(),this._ctx._stop=this._input.tryLT(-1);let t=this._ctx;if(this._parseListeners.length>0)for(;this._ctx!==e;)this.triggerExitRuleEvent(),this._ctx=this._ctx._parent;else this._ctx=e;t._parent=e,this._buildParseTrees&&e!=null&&e.addChild(t)}getInvokingContext(e){let t=this._ctx;for(;t&&t.ruleIndex!==e;)t=t._parent;return t}get context(){return this._ctx}set context(e){this._ctx=e}precpred(e,t){return t>=this._precedenceStack.peek()}getErrorListenerDispatch(){return new r0t.ProxyParserErrorListener(this.getErrorListeners())}inContext(e){return!1}isExpectedToken(e){let t=this.interpreter.atn,r=this._ctx,i=t.states[this.state],s=t.nextTokens(i);if(s.contains(e))return!0;if(!s.contains(DO.Token.EPSILON))return!1;for(;r!=null&&r.invokingState>=0&&s.contains(DO.Token.EPSILON);){let a=t.states[r.invokingState].transition(0);if(s=t.nextTokens(a.followState),s.contains(e))return!0;r=r._parent}return!!(s.contains(DO.Token.EPSILON)&&e===DO.Token.EOF)}get isMatchedEOF(){return this.matchedEOF}getExpectedTokens(){return this.atn.getExpectedTokens(this.state,this.context)}getExpectedTokensWithinCurrentRule(){let e=this.interpreter.atn,t=e.states[this.state];return e.nextTokens(t)}getRuleIndex(e){let t=this.getRuleIndexMap().get(e);return t??-1}get ruleContext(){return this._ctx}getRuleInvocationStack(e=this._ctx){let t=e,r=this.ruleNames,i=[];for(;t!=null;){let s=t.ruleIndex;s<0?i.push("n/a"):i.push(r[s]),t=t._parent}return i}getDFAStrings(){let e=[];for(let t of this._interp.atn.decisionToDFA)e.push(t.toString(this.vocabulary,this.ruleNames));return e}dumpDFA(){let e=!1;for(let t of this._interp.atn.decisionToDFA)t.isEmpty||(e&&console.log(),console.log("Decision "+t.decision+":"),process.stdout.write(t.toString(this.vocabulary,this.ruleNames)),e=!0)}get sourceName(){return this._input.sourceName}get parseInfo(){return Promise.resolve().then(()=>Kie()).then(e=>{let t=this.interpreter;if(t instanceof e.ProfilingATNSimulator)return new t0t.ParseInfo(t)})}setProfile(e){return i8e(this,void 0,void 0,function*(){let t=yield Promise.resolve().then(()=>Kie()),r=this.interpreter;e?r instanceof t.ProfilingATNSimulator||(this.interpreter=new t.ProfilingATNSimulator(this)):r instanceof t.ProfilingATNSimulator&&(this.interpreter=new n0t.ParserATNSimulator(this.atn,this)),this.interpreter.setPredictionMode(r.getPredictionMode())})}set isTrace(e){e?(this._tracer?this.removeParseListener(this._tracer):this._tracer=new Uw(this.ruleNames,this._input),this.addParseListener(this._tracer)):this._tracer&&(this.removeParseListener(this._tracer),this._tracer=void 0)}get isTrace(){return this._tracer!=null}};jl.bypassAltsAtnCache=new Map;Gc([Zl.NotNull],jl.prototype,"_errHandler",void 0);Gc([Zl.NotNull],jl.prototype,"match",null);Gc([Zl.NotNull],jl.prototype,"matchWildcard",null);Gc([Zl.NotNull],jl.prototype,"getParseListeners",null);Gc([BU(0,Zl.NotNull)],jl.prototype,"addParseListener",null);Gc([Zl.NotNull],jl.prototype,"getATNWithBypassAlts",null);Gc([Zl.NotNull,BU(0,Zl.NotNull)],jl.prototype,"errorHandler",null);Gc([Zl.Override],jl.prototype,"inputStream",null);Gc([Zl.NotNull],jl.prototype,"currentToken",null);Gc([BU(0,Zl.NotNull)],jl.prototype,"enterRule",null);Gc([Zl.Override,BU(0,Zl.Nullable)],jl.prototype,"precpred",null);Gc([Zl.Override],jl.prototype,"getErrorListenerDispatch",null);Gc([Zl.NotNull],jl.prototype,"getExpectedTokens",null);Gc([Zl.NotNull],jl.prototype,"getExpectedTokensWithinCurrentRule",null);Gc([Zl.Override],jl.prototype,"parseInfo",null);wx.Parser=jl});var fO=Ae($w=>{"use strict";m();var o0t=$w&&$w.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty($w,"__esModule",{value:!0});$w.NoViableAltException=void 0;var a0t=iw(),u0t=Jg(),l0t=wr(),Jie=class extends u0t.RecognitionException{constructor(e,t,r,i,s,o){e instanceof a0t.Parser&&(t===void 0&&(t=e.inputStream),r===void 0&&(r=e.currentToken),i===void 0&&(i=e.currentToken),o===void 0&&(o=e.context));super(e,t,o);this._deadEndConfigs=s,this._startToken=r,this.setOffendingToken(e,i)}get startToken(){return this._startToken}get deadEndConfigs(){return this._deadEndConfigs}};o0t([l0t.NotNull],Jie.prototype,"_startToken",void 0);$w.NoViableAltException=Jie});var jU=Ae(u4=>{"use strict";m();var Gu=u4&&u4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},ec=u4&&u4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(u4,"__esModule",{value:!0});u4.DefaultErrorStrategy=void 0;var s8e=Y2(),zw=_f(),c0t=kD(),qU=ID(),o8e=mv(),f0t=fO(),d0t=f1(),Sy=uu(),ca=wr(),lu=class{constructor(){this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.nextTokensState=s8e.ATNState.INVALID_STATE_NUMBER}reset(e){this.endErrorCondition(e)}beginErrorCondition(e){this.errorRecoveryMode=!0}inErrorRecoveryMode(e){return this.errorRecoveryMode}endErrorCondition(e){this.errorRecoveryMode=!1,this.lastErrorStates=void 0,this.lastErrorIndex=-1}reportMatch(e){this.endErrorCondition(e)}reportError(e,t){this.inErrorRecoveryMode(e)||(this.beginErrorCondition(e),t instanceof f0t.NoViableAltException?this.reportNoViableAlternative(e,t):t instanceof qU.InputMismatchException?this.reportInputMismatch(e,t):t instanceof c0t.FailedPredicateException?this.reportFailedPredicate(e,t):(console.error(`unknown recognition error type: ${t}`),this.notifyErrorListeners(e,t.toString(),t)))}notifyErrorListeners(e,t,r){let i=r.getOffendingToken(e);i===void 0&&(i=null),e.notifyErrorListeners(t,i,r)}recover(e,t){this.lastErrorIndex===e.inputStream.index&&this.lastErrorStates&&this.lastErrorStates.contains(e.state)&&e.consume(),this.lastErrorIndex=e.inputStream.index,this.lastErrorStates||(this.lastErrorStates=new o8e.IntervalSet),this.lastErrorStates.add(e.state);let r=this.getErrorRecoverySet(e);this.consumeUntil(e,r)}sync(e){let t=e.interpreter.atn.states[e.state];if(this.inErrorRecoveryMode(e))return;let i=e.inputStream.LA(1),s=e.atn.nextTokens(t);if(s.contains(i)){this.nextTokensContext=void 0,this.nextTokensState=s8e.ATNState.INVALID_STATE_NUMBER;return}if(s.contains(Sy.Token.EPSILON)){this.nextTokensContext===void 0&&(this.nextTokensContext=e.context,this.nextTokensState=e.state);return}switch(t.stateType){case zw.ATNStateType.BLOCK_START:case zw.ATNStateType.STAR_BLOCK_START:case zw.ATNStateType.PLUS_BLOCK_START:case zw.ATNStateType.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(e))return;throw new qU.InputMismatchException(e);case zw.ATNStateType.PLUS_LOOP_BACK:case zw.ATNStateType.STAR_LOOP_BACK:this.reportUnwantedToken(e);let a=e.getExpectedTokens().or(this.getErrorRecoverySet(e));this.consumeUntil(e,a);break;default:break}}reportNoViableAlternative(e,t){let r=e.inputStream,i;r?t.startToken.type===Sy.Token.EOF?i="<EOF>":i=r.getTextFromRange(t.startToken,t.getOffendingToken()):i="<unknown input>";let s="no viable alternative at input "+this.escapeWSAndQuote(i);this.notifyErrorListeners(e,s,t)}reportInputMismatch(e,t){let r=t.expectedTokens,i=r?r.toStringVocabulary(e.vocabulary):"",s="mismatched input "+this.getTokenErrorDisplay(t.getOffendingToken(e))+" expecting "+i;this.notifyErrorListeners(e,s,t)}reportFailedPredicate(e,t){let r=e.ruleNames[e.context.ruleIndex],i="rule "+r+" "+t.message;this.notifyErrorListeners(e,i,t)}reportUnwantedToken(e){if(this.inErrorRecoveryMode(e))return;this.beginErrorCondition(e);let t=e.currentToken,r=this.getTokenErrorDisplay(t),i=this.getExpectedTokens(e),s="extraneous input "+r+" expecting "+i.toStringVocabulary(e.vocabulary);e.notifyErrorListeners(s,t,void 0)}reportMissingToken(e){if(this.inErrorRecoveryMode(e))return;this.beginErrorCondition(e);let t=e.currentToken,r=this.getExpectedTokens(e),i="missing "+r.toStringVocabulary(e.vocabulary)+" at "+this.getTokenErrorDisplay(t);e.notifyErrorListeners(i,t,void 0)}recoverInline(e){let t=this.singleTokenDeletion(e);if(t)return e.consume(),t;if(this.singleTokenInsertion(e))return this.getMissingSymbol(e);throw this.nextTokensContext===void 0?new qU.InputMismatchException(e):new qU.InputMismatchException(e,this.nextTokensState,this.nextTokensContext)}singleTokenInsertion(e){let t=e.inputStream.LA(1),i=e.interpreter.atn.states[e.state].transition(0).target,s=e.interpreter.atn;return s.nextTokens(i,d0t.PredictionContext.fromRuleContext(s,e.context)).contains(t)?(this.reportMissingToken(e),!0):!1}singleTokenDeletion(e){let t=e.inputStream.LA(2);if(this.getExpectedTokens(e).contains(t)){this.reportUnwantedToken(e),e.consume();let i=e.currentToken;return this.reportMatch(e),i}}getMissingSymbol(e){let t=e.currentToken,r=this.getExpectedTokens(e),i=Sy.Token.INVALID_TYPE;r.isNil||(i=r.minElement);let s;i===Sy.Token.EOF?s="<missing EOF>":s="<missing "+e.vocabulary.getDisplayName(i)+">";let o=t,a=e.inputStream.tryLT(-1);return o.type===Sy.Token.EOF&&a!=null&&(o=a),this.constructToken(e.inputStream.tokenSource,i,s,o)}constructToken(e,t,r,i){let s=e.tokenFactory,o=i.tokenSource,a=o?o.inputStream:void 0;return s.create({source:e,stream:a},t,r,Sy.Token.DEFAULT_CHANNEL,-1,-1,i.line,i.charPositionInLine)}getExpectedTokens(e){return e.getExpectedTokens()}getTokenErrorDisplay(e){if(!e)return"<no token>";let t=this.getSymbolText(e);return t||(this.getSymbolType(e)===Sy.Token.EOF?t="<EOF>":t=`<${this.getSymbolType(e)}>`),this.escapeWSAndQuote(t)}getSymbolText(e){return e.text}getSymbolType(e){return e.type}escapeWSAndQuote(e){return e=e.replace(`
`,"\\n"),e=e.replace("\r","\\r"),e=e.replace("	","\\t"),"'"+e+"'"}getErrorRecoverySet(e){let t=e.interpreter.atn,r=e.context,i=new o8e.IntervalSet;for(;r&&r.invokingState>=0;){let o=t.states[r.invokingState].transition(0),a=t.nextTokens(o.followState);i.addAll(a),r=r._parent}return i.remove(Sy.Token.EPSILON),i}consumeUntil(e,t){let r=e.inputStream.LA(1);for(;r!==Sy.Token.EOF&&!t.contains(r);)e.consume(),r=e.inputStream.LA(1)}};Gu([ca.Override],lu.prototype,"reset",null);Gu([ec(0,ca.NotNull)],lu.prototype,"beginErrorCondition",null);Gu([ca.Override],lu.prototype,"inErrorRecoveryMode",null);Gu([ec(0,ca.NotNull)],lu.prototype,"endErrorCondition",null);Gu([ca.Override],lu.prototype,"reportMatch",null);Gu([ca.Override],lu.prototype,"reportError",null);Gu([ec(0,ca.NotNull)],lu.prototype,"notifyErrorListeners",null);Gu([ca.Override],lu.prototype,"recover",null);Gu([ca.Override],lu.prototype,"sync",null);Gu([ec(0,ca.NotNull),ec(1,ca.NotNull)],lu.prototype,"reportNoViableAlternative",null);Gu([ec(0,ca.NotNull),ec(1,ca.NotNull)],lu.prototype,"reportInputMismatch",null);Gu([ec(0,ca.NotNull),ec(1,ca.NotNull)],lu.prototype,"reportFailedPredicate",null);Gu([ec(0,ca.NotNull)],lu.prototype,"reportUnwantedToken",null);Gu([ec(0,ca.NotNull)],lu.prototype,"reportMissingToken",null);Gu([ca.Override],lu.prototype,"recoverInline",null);Gu([ec(0,ca.NotNull)],lu.prototype,"singleTokenInsertion",null);Gu([ec(0,ca.NotNull)],lu.prototype,"singleTokenDeletion",null);Gu([ca.NotNull,ec(0,ca.NotNull)],lu.prototype,"getMissingSymbol",null);Gu([ca.NotNull,ec(0,ca.NotNull)],lu.prototype,"getExpectedTokens",null);Gu([ec(0,ca.NotNull)],lu.prototype,"getSymbolText",null);Gu([ec(0,ca.NotNull)],lu.prototype,"getSymbolType",null);Gu([ca.NotNull,ec(0,ca.NotNull)],lu.prototype,"escapeWSAndQuote",null);Gu([ca.NotNull,ec(0,ca.NotNull)],lu.prototype,"getErrorRecoverySet",null);Gu([ec(0,ca.NotNull),ec(1,ca.NotNull)],lu.prototype,"consumeUntil",null);u4.DefaultErrorStrategy=lu});var qie=Ae(Hw=>{"use strict";m();var Xie=Hw&&Hw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Hw,"__esModule",{value:!0});Hw.BailErrorStrategy=void 0;var h0t=jU(),p0t=ID(),Zie=wr(),a8e=Sie(),OO=class extends h0t.DefaultErrorStrategy{recover(e,t){for(let r=e.context;r;r=r.parent)r.exception=t;throw new a8e.ParseCancellationException(t)}recoverInline(e){let t=new p0t.InputMismatchException(e);for(let r=e.context;r;r=r.parent)r.exception=t;throw new a8e.ParseCancellationException(t)}sync(e){}};Xie([Zie.Override],OO.prototype,"recover",null);Xie([Zie.Override],OO.prototype,"recoverInline",null);Xie([Zie.Override],OO.prototype,"sync",null);Hw.BailErrorStrategy=OO});var l8e=Ae(u8e=>{"use strict";m();Object.defineProperty(u8e,"__esModule",{value:!0})});var c8e=Ae(RO=>{"use strict";m();Object.defineProperty(RO,"__esModule",{value:!0});RO.Dependents=void 0;var m0t;(function(n){n[n.SELF=0]="SELF",n[n.PARENTS=1]="PARENTS",n[n.CHILDREN=2]="CHILDREN",n[n.ANCESTORS=3]="ANCESTORS",n[n.DESCENDANTS=4]="DESCENDANTS",n[n.SIBLINGS=5]="SIBLINGS",n[n.PRECEEDING_SIBLINGS=6]="PRECEEDING_SIBLINGS",n[n.FOLLOWING_SIBLINGS=7]="FOLLOWING_SIBLINGS",n[n.PRECEEDING=8]="PRECEEDING",n[n.FOLLOWING=9]="FOLLOWING"})(m0t=RO.Dependents||(RO.Dependents={}))});var f8e=Ae(c4=>{"use strict";m();var Vw=c4&&c4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},b1=c4&&c4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(c4,"__esModule",{value:!0});c4.DiagnosticErrorListener=void 0;var x0t=ty(),e0=wr(),ese=B0(),l4=class{constructor(e=!0){this.exactOnly=e,this.exactOnly=e}syntaxError(e,t,r,i,s,o){}reportAmbiguity(e,t,r,i,s,o,a){if(this.exactOnly&&!s)return;let l=this.getDecisionDescription(e,t),f=this.getConflictingAlts(o,a),p=e.inputStream.getText(ese.Interval.of(r,i)),_=`reportAmbiguity d=${l}: ambigAlts=${f}, input='${p}'`;e.notifyErrorListeners(_)}reportAttemptingFullContext(e,t,r,i,s,o){let a="reportAttemptingFullContext d=%s, input='%s'",l=this.getDecisionDescription(e,t),f=e.inputStream.getText(ese.Interval.of(r,i)),p=`reportAttemptingFullContext d=${l}, input='${f}'`;e.notifyErrorListeners(p)}reportContextSensitivity(e,t,r,i,s,o){let a="reportContextSensitivity d=%s, input='%s'",l=this.getDecisionDescription(e,t),f=e.inputStream.getText(ese.Interval.of(r,i)),p=`reportContextSensitivity d=${l}, input='${f}'`;e.notifyErrorListeners(p)}getDecisionDescription(e,t){let r=t.decision,i=t.atnStartState.ruleIndex,s=e.ruleNames;if(i<0||i>=s.length)return r.toString();let o=s[i];return o?`${r} (${o})`:r.toString()}getConflictingAlts(e,t){if(e!=null)return e;let r=new x0t.BitSet;for(let i of t)r.set(i.alt);return r}};Vw([e0.Override],l4.prototype,"syntaxError",null);Vw([e0.Override,b1(0,e0.NotNull),b1(1,e0.NotNull),b1(6,e0.NotNull)],l4.prototype,"reportAmbiguity",null);Vw([e0.Override,b1(0,e0.NotNull),b1(1,e0.NotNull),b1(5,e0.NotNull)],l4.prototype,"reportAttemptingFullContext",null);Vw([e0.Override,b1(0,e0.NotNull),b1(1,e0.NotNull),b1(5,e0.NotNull)],l4.prototype,"reportContextSensitivity",null);Vw([b1(0,e0.NotNull),b1(1,e0.NotNull)],l4.prototype,"getDecisionDescription",null);Vw([e0.NotNull,b1(1,e0.NotNull)],l4.prototype,"getConflictingAlts",null);c4.DiagnosticErrorListener=l4});var h8e=Ae(d4=>{"use strict";m();var f4=d4&&d4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},g0t=d4&&d4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(d4,"__esModule",{value:!0});d4.LexerInterpreter=void 0;var y0t=ly(),v0t=nO(),d8e=wr(),Ww=wr(),Cx=class extends y0t.Lexer{constructor(e,t,r,i,s,o,a){super(a);if(o.grammarType!==0)throw new Error("IllegalArgumentException: The ATN must be a lexer ATN.");this._grammarFileName=e,this._atn=o,this._ruleNames=r.slice(0),this._channelNames=i.slice(0),this._modeNames=s.slice(0),this._vocabulary=t,this._interp=new v0t.LexerATNSimulator(o,this)}get atn(){return this._atn}get grammarFileName(){return this._grammarFileName}get ruleNames(){return this._ruleNames}get channelNames(){return this._channelNames}get modeNames(){return this._modeNames}get vocabulary(){return this._vocabulary}};f4([d8e.NotNull],Cx.prototype,"_vocabulary",void 0);f4([Ww.Override],Cx.prototype,"atn",null);f4([Ww.Override],Cx.prototype,"grammarFileName",null);f4([Ww.Override],Cx.prototype,"ruleNames",null);f4([Ww.Override],Cx.prototype,"channelNames",null);f4([Ww.Override],Cx.prototype,"modeNames",null);f4([Ww.Override],Cx.prototype,"vocabulary",null);Cx=f4([g0t(1,d8e.NotNull)],Cx);d4.LexerInterpreter=Cx});var m8e=Ae(p8e=>{"use strict";m();Object.defineProperty(p8e,"__esModule",{value:!0})});var x8e=Ae(Qw=>{"use strict";m();var _0t=Qw&&Qw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Qw,"__esModule",{value:!0});Qw.RuleContextWithAltNum=void 0;var b0t=Fm(),E0t=wr(),S0t=g1(),tse=class extends S0t.ParserRuleContext{constructor(e,t){t!==void 0?super(e,t):super(),this._altNumber=b0t.ATN.INVALID_ALT_NUMBER}get altNumber(){return this._altNumber}set altNumber(e){this._altNumber=e}};_0t([E0t.Override],tse.prototype,"altNumber",null);Qw.RuleContextWithAltNum=tse});var g8e=Ae(UU=>{"use strict";m();Object.defineProperty(UU,"__esModule",{value:!0});UU.RuleDependency=void 0;function w0t(n){return(e,t,r)=>{}}UU.RuleDependency=w0t});var y8e=Ae($U=>{"use strict";m();Object.defineProperty($U,"__esModule",{value:!0});$U.RuleVersion=void 0;function C0t(n){return(e,t,r)=>{}}$U.RuleVersion=C0t});var _8e=Ae(v8e=>{"use strict";m();Object.defineProperty(v8e,"__esModule",{value:!0})});var E8e=Ae(b8e=>{"use strict";m();Object.defineProperty(b8e,"__esModule",{value:!0})});var w8e=Ae(S8e=>{"use strict";m();Object.defineProperty(S8e,"__esModule",{value:!0})});var T8e=Ae(p4=>{"use strict";m();var zU=p4&&p4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(p4,"__esModule",{value:!0});p4.RewriteOperation=p4.TokenStreamRewriter=void 0;var C8e=B0(),HU=wr(),A8e=uu(),t0=class{constructor(e){this.tokens=e,this.programs=new Map,this.programs.set(t0.DEFAULT_PROGRAM_NAME,[]),this.lastRewriteTokenIndexes=new Map}getTokenStream(){return this.tokens}rollback(e,t=t0.DEFAULT_PROGRAM_NAME){let r=this.programs.get(t);r!=null&&this.programs.set(t,r.slice(t0.MIN_TOKEN_INDEX,e))}deleteProgram(e=t0.DEFAULT_PROGRAM_NAME){this.rollback(t0.MIN_TOKEN_INDEX,e)}insertAfter(e,t,r=t0.DEFAULT_PROGRAM_NAME){let i;typeof e=="number"?i=e:i=e.tokenIndex;let s=this.getProgram(r),o=new nse(this.tokens,i,s.length,t);s.push(o)}insertBefore(e,t,r=t0.DEFAULT_PROGRAM_NAME){let i;typeof e=="number"?i=e:i=e.tokenIndex;let s=this.getProgram(r),o=new h4(this.tokens,i,s.length,t);s.push(o)}replaceSingle(e,t){typeof e=="number"?this.replace(e,e,t):this.replace(e,e,t)}replace(e,t,r,i=t0.DEFAULT_PROGRAM_NAME){if(typeof e!="number"&&(e=e.tokenIndex),typeof t!="number"&&(t=t.tokenIndex),e>t||e<0||t<0||t>=this.tokens.size)throw new RangeError(`replace: range invalid: ${e}..${t}(size=${this.tokens.size})`);let s=this.getProgram(i),o=new rb(this.tokens,e,t,s.length,r);s.push(o)}delete(e,t,r=t0.DEFAULT_PROGRAM_NAME){t===void 0&&(t=e),typeof e=="number"?this.replace(e,t,"",r):this.replace(e,t,"",r)}getLastRewriteTokenIndex(e=t0.DEFAULT_PROGRAM_NAME){let t=this.lastRewriteTokenIndexes.get(e);return t??-1}setLastRewriteTokenIndex(e,t){this.lastRewriteTokenIndexes.set(e,t)}getProgram(e){let t=this.programs.get(e);return t==null&&(t=this.initializeProgram(e)),t}initializeProgram(e){let t=[];return this.programs.set(e,t),t}getText(e,t=t0.DEFAULT_PROGRAM_NAME){let r;e instanceof C8e.Interval?r=e:r=C8e.Interval.of(0,this.tokens.size-1),typeof e=="string"&&(t=e);let i=this.programs.get(t),s=r.a,o=r.b;if(o>this.tokens.size-1&&(o=this.tokens.size-1),s<0&&(s=0),i==null||i.length===0)return this.tokens.getText(r);let a=[],l=this.reduceToSingleOperationPerIndex(i),f=s;for(;f<=o&&f<this.tokens.size;){let p=l.get(f);l.delete(f);let _=this.tokens.get(f);p==null?(_.type!==A8e.Token.EOF&&a.push(String(_.text)),f++):f=p.execute(a)}if(o===this.tokens.size-1)for(let p of l.values())p.index>=this.tokens.size-1&&a.push(p.text.toString());return a.join("")}reduceToSingleOperationPerIndex(e){for(let r=0;r<e.length;r++){let i=e[r];if(i==null||!(i instanceof rb))continue;let s=i,o=this.getKindOfOps(e,h4,r);for(let l of o)l.index===s.index?(e[l.instructionIndex]=void 0,s.text=l.text.toString()+(s.text!=null?s.text.toString():"")):l.index>s.index&&l.index<=s.lastIndex&&(e[l.instructionIndex]=void 0);let a=this.getKindOfOps(e,rb,r);for(let l of a){if(l.index>=s.index&&l.lastIndex<=s.lastIndex){e[l.instructionIndex]=void 0;continue}let f=l.lastIndex<s.index||l.index>s.lastIndex;if(l.text==null&&s.text==null&&!f)e[l.instructionIndex]=void 0,s.index=Math.min(l.index,s.index),s.lastIndex=Math.max(l.lastIndex,s.lastIndex);else if(!f)throw new Error(`replace op boundaries of ${s} overlap with previous ${l}`)}}for(let r=0;r<e.length;r++){let i=e[r];if(i==null||!(i instanceof h4))continue;let s=i,o=this.getKindOfOps(e,h4,r);for(let l of o)l.index===s.index&&(l instanceof nse?(s.text=this.catOpText(l.text,s.text),e[l.instructionIndex]=void 0):l instanceof h4&&(s.text=this.catOpText(s.text,l.text),e[l.instructionIndex]=void 0));let a=this.getKindOfOps(e,rb,r);for(let l of a){if(s.index===l.index){l.text=this.catOpText(s.text,l.text),e[r]=void 0;continue}if(s.index>=l.index&&s.index<=l.lastIndex)throw new Error(`insert op ${s} within boundaries of previous ${l}`)}}let t=new Map;for(let r of e)if(r!=null){if(t.get(r.index)!=null)throw new Error("should only be one op per index");t.set(r.index,r)}return t}catOpText(e,t){let r="",i="";return e!=null&&(r=e.toString()),t!=null&&(i=t.toString()),r+i}getKindOfOps(e,t,r){let i=[];for(let s=0;s<r&&s<e.length;s++){let o=e[s];o!=null&&o instanceof t&&i.push(o)}return i}};p4.TokenStreamRewriter=t0;t0.DEFAULT_PROGRAM_NAME="default";t0.PROGRAM_INIT_SIZE=100;t0.MIN_TOKEN_INDEX=0;var NO=class{constructor(e,t,r,i){this.tokens=e,this.instructionIndex=r,this.index=t,this.text=i===void 0?"":i}execute(e){return this.index}toString(){let e=this.constructor.name,t=e.indexOf("$");return e=e.substring(t+1,e.length),"<"+e+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}};zU([HU.Override],NO.prototype,"toString",null);p4.RewriteOperation=NO;var h4=class extends NO{constructor(e,t,r,i){super(e,t,r,i)}execute(e){return e.push(this.text.toString()),this.tokens.get(this.index).type!==A8e.Token.EOF&&e.push(String(this.tokens.get(this.index).text)),this.index+1}};zU([HU.Override],h4.prototype,"execute",null);var nse=class extends h4{constructor(e,t,r,i){super(e,t+1,r,i)}},rb=class extends NO{constructor(e,t,r,i,s){super(e,t,i,s);this.lastIndex=r}execute(e){return this.text!=null&&e.push(this.text.toString()),this.lastIndex+1}toString(){return this.text==null?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}};zU([HU.Override],rb.prototype,"execute",null);zU([HU.Override],rb.prototype,"toString",null)});var D8e=Ae(F8e=>{"use strict";m();Object.defineProperty(F8e,"__esModule",{value:!0})});var R8e=Ae(O8e=>{"use strict";m();Object.defineProperty(O8e,"__esModule",{value:!0})});var N8e=Ae(Cs=>{"use strict";m();var A0t=Cs&&Cs.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Js=Cs&&Cs.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&A0t(e,n,t)};Object.defineProperty(Cs,"__esModule",{value:!0});Js(Xve(),Cs);Js(e4e(),Cs);Js(V6e(),Cs);Js(qie(),Cs);Js(_ie(),Cs);Js(l8e(),Cs);Js(_U(),Cs);Js(xie(),Cs);Js(gie(),Cs);Js(dS(),Cs);Js(_q(),Cs);Js(SU(),Cs);Js(Zne(),Cs);Js(jU(),Cs);Js(c8e(),Cs);Js(f8e(),Cs);Js(kD(),Cs);Js(ID(),Cs);Js(Cie(),Cs);Js(Yg(),Cs);Js(ly(),Cs);Js(h8e(),Cs);Js(eO(),Cs);Js(Eie(),Cs);Js(fO(),Cs);Js(iw(),Cs);Js(m8e(),Cs);Js(Tie(),Cs);Js(g1(),Cs);Js(Mq(),Cs);Js(mie(),Cs);Js(Jg(),Cs);Js(yS(),Cs);Js(qre(),Cs);Js(x8e(),Cs);Js(g8e(),Cs);Js(y8e(),Cs);Js(uu(),Cs);Js(_8e(),Cs);Js(E8e(),Cs);Js(w8e(),Cs);Js(T8e(),Cs);Js(D8e(),Cs);Js(sy(),Cs);Js(R8e(),Cs)});var k8e=Ae(Ax=>{"use strict";m();var T0t=Ax&&Ax.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),F0t=Ax&&Ax.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),D0t=Ax&&Ax.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&T0t(e,n,t);return F0t(e,n),e};Object.defineProperty(Ax,"__esModule",{value:!0});Ax.MalloyLexer=void 0;var O0t=vO(),R0t=ly(),N0t=nO(),L0t=sy(),L8e=D0t(Tm()),rr=class extends R0t.Lexer{constructor(e){super(e);this._interp=new N0t.LexerATNSimulator(rr._ATN,this)}get vocabulary(){return rr.VOCABULARY}get grammarFileName(){return"MalloyLexer.g4"}get ruleNames(){return rr.ruleNames}get serializedATN(){return rr._serializedATN}get channelNames(){return rr.channelNames}get modeNames(){return rr.modeNames}static get _ATN(){return rr.__ATN||(rr.__ATN=new O0t.ATNDeserializer().deserialize(L8e.toCharArray(rr._serializedATN))),rr.__ATN}};Ax.MalloyLexer=rr;rr.JSON_STRING=1;rr.ACCEPT=2;rr.AGGREGATE=3;rr.DECLARE=4;rr.DIMENSION=5;rr.EXCEPT=6;rr.EXPLORE=7;rr.GROUP_BY=8;rr.HAVING=9;rr.INDEX=10;rr.JOIN_CROSS=11;rr.JOIN_ONE=12;rr.JOIN_MANY=13;rr.LIMIT=14;rr.MEASURE=15;rr.NEST=16;rr.ORDER_BY=17;rr.PRIMARY_KEY=18;rr.PROJECT=19;rr.QUERY=20;rr.RENAME=21;rr.SAMPLE=22;rr.SOURCE=23;rr.SQL=24;rr.FANCYSQL=25;rr.TOP=26;rr.WHERE=27;rr.ALL=28;rr.AND=29;rr.AS=30;rr.ASC=31;rr.AVG=32;rr.BOOLEAN=33;rr.BY=34;rr.CASE=35;rr.CAST=36;rr.CONDITION=37;rr.COUNT=38;rr.DATE=39;rr.DAY=40;rr.DESC=41;rr.DISTINCT=42;rr.ELSE=43;rr.END=44;rr.EXCLUDE=45;rr.FALSE=46;rr.FOR=47;rr.FROM=48;rr.FROM_SQL=49;rr.HAS=50;rr.HOUR=51;rr.IMPORT=52;rr.IS=53;rr.JSON=54;rr.LAST=55;rr.MAX=56;rr.MIN=57;rr.MINUTE=58;rr.MONTH=59;rr.NOT=60;rr.NOW=61;rr.NULL=62;rr.NUMBER=63;rr.ON=64;rr.OR=65;rr.PICK=66;rr.QMARK=67;rr.QUARTER=68;rr.SECOND=69;rr.STRING=70;rr.SUM=71;rr.TABLE=72;rr.THEN=73;rr.THIS=74;rr.TIMESTAMP=75;rr.TO=76;rr.TRUE=77;rr.TURTLE=78;rr.WEEK=79;rr.WHEN=80;rr.WITH=81;rr.YEAR=82;rr.UNGROUPED=83;rr.STRING_ESCAPE=84;rr.HACKY_REGEX=85;rr.STRING_LITERAL=86;rr.AMPER=87;rr.ARROW=88;rr.FAT_ARROW=89;rr.OPAREN=90;rr.CPAREN=91;rr.OBRACK=92;rr.CBRACK=93;rr.OCURLY=94;rr.CCURLY=95;rr.DOUBLECOLON=96;rr.COLON=97;rr.COMMA=98;rr.DOT=99;rr.LT=100;rr.GT=101;rr.EQ=102;rr.NE=103;rr.LTE=104;rr.GTE=105;rr.PLUS=106;rr.MINUS=107;rr.STAR=108;rr.STARSTAR=109;rr.SLASH=110;rr.BAR=111;rr.SEMI=112;rr.NOT_MATCH=113;rr.MATCH=114;rr.LITERAL_TIMESTAMP=115;rr.LITERAL_DAY=116;rr.LITERAL_QUARTER=117;rr.LITERAL_MONTH=118;rr.LITERAL_WEEK=119;rr.LITERAL_YEAR=120;rr.IDENTIFIER=121;rr.PERCENT_LITERAL=122;rr.INTEGER_LITERAL=123;rr.NUMERIC_LITERAL=124;rr.OBJECT_NAME_LITERAL=125;rr.BLOCK_COMMENT=126;rr.COMMENT_TO_EOL=127;rr.WHITE_SPACE=128;rr.SQL_STRING=129;rr.UNWATED_CHARS_TRAILING_NUMBERS=130;rr.UNEXPECTED_CHAR=131;rr.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"];rr.modeNames=["DEFAULT_MODE"];rr.ruleNames=["JSON_STRING","ESC","UNICODE","HEX","SAFECODEPOINT","SPACE_CHAR","ACCEPT","AGGREGATE","DECLARE","DIMENSION","EXCEPT","EXPLORE","GROUP_BY","HAVING","INDEX","JOIN_CROSS","JOIN_ONE","JOIN_MANY","LIMIT","MEASURE","NEST","ORDER_BY","PRIMARY_KEY","PROJECT","QUERY","RENAME","SAMPLE","SOURCE","SQL","FANCYSQL","TOP","WHERE","ALL","AND","AS","ASC","AVG","BOOLEAN","BY","CASE","CAST","CONDITION","COUNT","DATE","DAY","DESC","DISTINCT","ELSE","END","EXCLUDE","FALSE","FOR","FROM","FROM_SQL","HAS","HOUR","IMPORT","IS","JSON","LAST","MAX","MIN","MINUTE","MONTH","NOT","NOW","NULL","NUMBER","ON","OR","PICK","QMARK","QUARTER","SECOND","STRING","SUM","TABLE","THEN","THIS","TIMESTAMP","TO","TRUE","TURTLE","WEEK","WHEN","WITH","YEAR","UNGROUPED","STRING_ESCAPE","HACKY_REGEX","STRING_LITERAL","AMPER","ARROW","FAT_ARROW","OPAREN","CPAREN","OBRACK","CBRACK","OCURLY","CCURLY","DOUBLECOLON","COLON","COMMA","DOT","LT","GT","EQ","NE","LTE","GTE","PLUS","MINUS","STAR","STARSTAR","SLASH","BAR","SEMI","NOT_MATCH","MATCH","F_YEAR","F_DD","LX","LITERAL_TIMESTAMP","LITERAL_DAY","LITERAL_QUARTER","LITERAL_MONTH","LITERAL_WEEK","LITERAL_YEAR","IDENTIFIER","PERCENT_LITERAL","INTEGER_LITERAL","NUMERIC_LITERAL","OBJECT_NAME_LITERAL","ID_CHAR","DIGIT","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","BLOCK_COMMENT","COMMENT_TO_EOL","WHITE_SPACE","SQL_STRING","UNWATED_CHARS_TRAILING_NUMBERS","UNEXPECTED_CHAR"];rr._LITERAL_NAMES=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'?'",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'&'","'->'","'=>'","'('","')'","'['","']'","'{'","'}'","'::'","':'","','","'.'","'<'","'>'","'='","'!='","'<='","'>='","'+'","'-'","'*'","'**'","'/'","'|'","';'","'!~'","'~'"];rr._SYMBOLIC_NAMES=[void 0,"JSON_STRING","ACCEPT","AGGREGATE","DECLARE","DIMENSION","EXCEPT","EXPLORE","GROUP_BY","HAVING","INDEX","JOIN_CROSS","JOIN_ONE","JOIN_MANY","LIMIT","MEASURE","NEST","ORDER_BY","PRIMARY_KEY","PROJECT","QUERY","RENAME","SAMPLE","SOURCE","SQL","FANCYSQL","TOP","WHERE","ALL","AND","AS","ASC","AVG","BOOLEAN","BY","CASE","CAST","CONDITION","COUNT","DATE","DAY","DESC","DISTINCT","ELSE","END","EXCLUDE","FALSE","FOR","FROM","FROM_SQL","HAS","HOUR","IMPORT","IS","JSON","LAST","MAX","MIN","MINUTE","MONTH","NOT","NOW","NULL","NUMBER","ON","OR","PICK","QMARK","QUARTER","SECOND","STRING","SUM","TABLE","THEN","THIS","TIMESTAMP","TO","TRUE","TURTLE","WEEK","WHEN","WITH","YEAR","UNGROUPED","STRING_ESCAPE","HACKY_REGEX","STRING_LITERAL","AMPER","ARROW","FAT_ARROW","OPAREN","CPAREN","OBRACK","CBRACK","OCURLY","CCURLY","DOUBLECOLON","COLON","COMMA","DOT","LT","GT","EQ","NE","LTE","GTE","PLUS","MINUS","STAR","STARSTAR","SLASH","BAR","SEMI","NOT_MATCH","MATCH","LITERAL_TIMESTAMP","LITERAL_DAY","LITERAL_QUARTER","LITERAL_MONTH","LITERAL_WEEK","LITERAL_YEAR","IDENTIFIER","PERCENT_LITERAL","INTEGER_LITERAL","NUMERIC_LITERAL","OBJECT_NAME_LITERAL","BLOCK_COMMENT","COMMENT_TO_EOL","WHITE_SPACE","SQL_STRING","UNWATED_CHARS_TRAILING_NUMBERS","UNEXPECTED_CHAR"];rr.VOCABULARY=new L0t.VocabularyImpl(rr._LITERAL_NAMES,rr._SYMBOLIC_NAMES,[]);rr._serializedATNSegments=4;rr._serializedATNSegment0=`\uC91D\uCABA\u058D\uAFBA\u4F53\u0607\uEA8B\uC241\x85\u0580\b					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r													\x1B	\x1B				 	 !	!"	"#	#$	$%	%&	&'	'(	()	)*	*+	+,	,-	-.	./	/0	01	12	23	34	45	56	67	78	89	9:	:;	;<	<=	=>	>?	?@	@A	AB	BC	CD	DE	EF	FG	GH	HI	IJ	JK	KL	LM	MN	NO	OP	PQ	QR	RS	ST	TU	UV	VW	WX	XY	YZ	Z[	[\\	\\]	]^	^_	_\`	\`a	ab	bc	cd	de	ef	fg	gh	hi	ij	jk	kl	lm	mn	no	op	pq	qr	rs	st	tu	uv	vw	wx	xy	yz	z{	{|	|}	}~	~\x7F	\x7F\x80	\x80\x81	\x81\x82	\x82\x83	\x83\x84	\x84\x85	\x85\x86	\x86\x87	\x87\x88	\x88\x89	\x89\x8A	\x8A\x8B	\x8B\x8C	\x8C\x8D	\x8D\x8E	\x8E\x8F	\x8F\x90	\x90\x91	\x91\x92	\x92\x93	\x93\x94	\x94\x95	\x95\x96	\x96\x97	\x97\x98	\x98\x99	\x99\x9A	\x9A\x9B	\x9B\x9C	\x9C\x9D	\x9D\x9E	\x9E\x9F	\x9F\xA0	\xA0\xA1	\xA1\xA2	\xA2\xA3	\xA3\xA4	\xA4\xA5	\xA5\xA6	\xA6\xA7	\xA7\xA8	\xA8\x07\u0155
\f\u0158\v\u015F
\x07\x07\b\b\b\b\b\b\b\x07\b\u0174
\b\f\b\b\u0177\v\b\b\b										\x07	\u0185
	\f		\u0188\v			








\v\v\v\v\v\v\v\v\v\v\x07\v\u019F
\v\f\v\v\u01A2\v\v\v\v\f\f\f\f\f\f\f\x07\f\u01AD
\f\f\f\f\u01B0\v\f\f\f\r\r\r\r\r\r\r\r\x07\r\u01BC
\r\f\r\r\u01BF\v\r\r\r\x07\u01CC
\f\u01CF\v\x07\u01DA
\f\u01DD\v\x07\u01E7
\f\u01EA\v\x07\u0203
\f\u0206\v\x07\u0214
\f\u0217\v\x07\u0221
\f\u0224\v\x07\u0230
\f\u0233\v\x07\u023C
\f\u023F\v\x07\u024C
\f\u024F\v\x07\u025F
\f\u0262\v\x07\u026E
\f\u0271\v\x07\u027B
\f\u027E\v\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x07\x1B\u0289
\x1B\f\x1B\x1B\u028C\v\x1B\x1B\x1B\x07\u0297
\f\u029A\v\x07\u02A5
\f\u02A8\v\x07\u02B0
\f\u02B3\v\x07\u02BF
\f\u02C2\v    \x07 \u02CA
 \f  \u02CD\v   !!!!!!\x07!\u02D7
!\f!!\u02DA\v!!!""""####$$$%%%%&&&&''''''''((()))))*****++++++++++,,,,,,-----.....\u031F
./////000000000111112222333333334444445555666667777777778888999999\u0361
9:::::::;;;<<<<<=====>>>>????@@@@@@@@\u0386
@AAAAAAA\u038E
ABBBBCCCCDDDDDEEEEEEEFFFGGGHHHHHIIJJJJJJJJJ\u03B9
JKKKKKKKK\u03C2
KLLLLLLLMMMMNNNNNNOOOOOPPPPPQQQQQQQQQQRRRSSSSSTTTTTTTUUUUUU\u03FD
UVVVVVWWWWWXXXXXX\u040E
XYYYYYYYYYYZZZZZZZ\u0420
Z[[\u0423
[[[[\x07[\u0428
[\f[[\u042B\v[[[\\\\\\\x07\\\u0432
\\\f\\\\\u0435\v\\\\\\]]^^^___\`\`aabbccddeefffgghhiijjkkllmmmnnnoooppqqrrsssttuuvvwwwxxyyyyyzzz{{{{{\u0485
{\r{{\u0486|||||||||||||\u0495
|||\u0498
|}}}}}}}}\u04A1
}~~~~~~~\u04A9
~\x7F\x7F\x7F\x7F\x7F\x7F\u04B0
\x7F\x80\x80\x80\x80\x80\x80\x80\x80\x80\x80\u04BB
\x80\x81\x81\x81\x81\u04C0
\x81\x82\x82\x82\x07\x82\u04C5
\x82\f\x82\x82\u04C8\v\x82\x83\x83\u04CB
\x83\r\x83\x83\u04CC\x83\x83\x84\x84\u04D2
\x84\r\x84\x84\u04D3\x85\x85\u04D7
\x85\r\x85\x85\u04D8\x85\x85\x07\x85\u04DD
\x85\f\x85\x85\u04E0\v\x85\x85\u04E2
\x85\x85\x85\x85\u04E6
\x85\r\x85\x85\u04E7\x85\x85\x85\u04EC
\x85\x85\x85\u04EF
\x85\r\x85\x85\u04F0\x85\u04F3
\x85\x85\u04F5
\x85\x86\x86\x86\x86\x86\x07\x86\u04FC
\x86\f\x86\x86\u04FF\v\x86\x86\x86\x87\x87\x88\x88\x89\x89\x8A\x8A\x8B\x8B\x8C\x8C\x8D\x8D\x8E\x8E\x8F\x8F\x90\x90\x91\x91\x92\x92\x93\x93\x94\x94\x95\x95\x96\x96\x97\x97\x98\x98\x99\x99\x9A\x9A\x9B\x9B\x9C\x9C\x9D\x9D\x9E\x9E\x9F\x9F\xA0\xA0\xA1\xA1\xA2\xA2\xA3\xA3\xA3\xA3\x07\xA3\u053F
\xA3\f\xA3\xA3\u0542\v\xA3\xA3\xA3\xA3\xA3\xA3\xA4\xA4\xA4\xA4\xA4\u054D
\xA4\xA4\x07\xA4\u0550
\xA4\f\xA4\xA4\u0553\v\xA4\xA4\xA4\u0556
\xA4\xA4\xA4\xA4\u055A
\xA4\xA4\xA4\xA5\xA5\xA5\xA5\xA6\xA6\xA6\xA6\x07\xA6\u0566
\xA6\f\xA6\xA6\u0569\v\xA6\xA6\xA6\xA6\xA7\xA7\u056F
\xA7\r\xA7\xA7\u0570\xA7\xA7\u0574
\xA7\r\xA7\xA7\u0575\xA7\xA7\x07\xA7\u057A
\xA7\f\xA7\xA7\u057D\v\xA7\xA8\xA8\u0540\u0567\xA9\x07	\v\r\x07\b	\x1B
\v\f!\r#%')+-/13579;=\x1B?ACEG I!K"M#O$Q%S&U'W(Y)[*]+_,a-c.e/g0i1k2m3o4q5s6u7w8y9{:};\x7F<\x81=\x83>\x85?\x87@\x89A\x8BB\x8DC\x8FD\x91E\x93F\x95G\x97H\x99I\x9BJ\x9DK\x9FL\xA1M\xA3N\xA5O\xA7P\xA9Q\xABR\xADS\xAFT\xB1U\xB3V\xB5W\xB7X\xB9Y\xBBZ\xBD[\xBF\\\xC1]\xC3^\xC5_\xC7\`\xC9a\xCBb\xCDc\xCFd\xD1e\xD3f\xD5g\xD7h\xD9i\xDBj\xDDk\xDFl\xE1m\xE3n\xE5o\xE7p\xE9q\xEBr\xEDs\xEFt\xF1\xF3\xF5\xF7u\xF9v\xFBw\xFDx\xFFy\u0101z\u0103{\u0105|\u0107}\u0109~\u010B\x7F\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0139\u013B\u013D\u013F\u0141\u0143\u0145\x80\u0147\x81\u0149\x82\u014B\x83\u014D\x84\u014F\x85%
$$11^^ddhhppttvv2;CHch!$$^^\v\r""11TTtt))^^--//2;CCccDDddEEeeFFffGGggHHhhIIiiJJjjKKkkLLllMMmmNNnnOOooPPppQQqqRRrrSSssTTttUUuuVVvvWWwwXXxxYYyyZZzz[[{{\\\\||\f\f\u0287C\\aac|\xAC\xAC\xB7\xB7\xBC\xBC\xC2\xD8\xDA\xF8\xFA\u02C3\u02C8\u02D3\u02E2\u02E6\u02EE\u02EE\u02F0\u02F0\u0347\u0347\u0372\u0376\u0378\u0379\u037C\u037F\u0381\u0381\u0388\u0388\u038A\u038C\u038E\u038E\u0390\u03A3\u03A5\u03F7\u03F9\u0483\u048C\u0531\u0533\u0558\u055B\u055B\u0563\u0589\u05B2\u05BF\u05C1\u05C1\u05C3\u05C4\u05C6\u05C7\u05C9\u05C9\u05D2\u05EC\u05F2\u05F4\u0612\u061C\u0622\u0659\u065B\u0661\u0670\u06D5\u06D7\u06DE\u06E3\u06EA\u06EF\u06F1\u06FC\u06FE\u0701\u0701\u0712\u0741\u074F\u07B3\u07CC\u07EC\u07F6\u07F7\u07FC\u07FC\u0802\u0819\u081C\u082E\u0842\u085A\u08A2\u08B6\u08B8\u08BF\u08D6\u08E1\u08E5\u08EB\u08F2\u093D\u093F\u094E\u0950\u0952\u0957\u0965\u0973\u0985\u0987\u098E\u0991\u0992\u0995\u09AA\u09AC\u09B2\u09B4\u09B4\u09B8\u09BB\u09BF\u09C6\u09C9\u09CA\u09CD\u09CE\u09D0\u09D0\u09D9\u09D9\u09DE\u09DF\u09E1\u09E5\u09F2\u09F3\u0A03\u0A05\u0A07\u0A0C\u0A11\u0A12\u0A15\u0A2A\u0A2C\u0A32\u0A34\u0A35\u0A37\u0A38\u0A3A\u0A3B\u0A40\u0A44\u0A49\u0A4A\u0A4D\u0A4E\u0A53\u0A53\u0A5B\u0A5E\u0A60\u0A60\u0A72\u0A77\u0A83\u0A85\u0A87\u0A8F\u0A91\u0A93\u0A95\u0AAA\u0AAC\u0AB2\u0AB4\u0AB5\u0AB7\u0ABB\u0ABF\u0AC7\u0AC9\u0ACB\u0ACD\u0ACE\u0AD2\u0AD2\u0AE2\u0AE5\u0AFB\u0AFB\u0B03\u0B05\u0B07\u0B0E\u0B11\u0B12\u0B15\u0B2A\u0B2C\u0B32\u0B34\u0B35\u0B37\u0B3B\u0B3F\u0B46\u0B49\u0B4A\u0B4D\u0B4E\u0B58\u0B59\u0B5E\u0B5F\u0B61\u0B65\u0B73\u0B73\u0B84\u0B85\u0B87\u0B8C\u0B90\u0B92\u0B94\u0B97\u0B9B\u0B9C\u0B9E\u0B9E\u0BA0\u0BA1\u0BA5\u0BA6\u0BAA\u0BAC\u0BB0\u0BBB\u0BC0\u0BC4\u0BC8\u0BCA\u0BCC\u0BCE\u0BD2\u0BD2\u0BD9\u0BD9\u0C02\u0C05\u0C07\u0C0E\u0C10\u0C12\u0C14\u0C2A\u0C2C\u0C3B\u0C3F\u0C46\u0C48\u0C4A\u0C4C\u0C4E\u0C57\u0C58\u0C5A\u0C5C\u0C62\u0C65\u0C82\u0C85\u0C87\u0C8E\u0C90\u0C92\u0C94\u0CAA\u0CAC\u0CB5\u0CB7\u0CBB\u0CBF\u0CC6\u0CC8\u0CCA\u0CCC\u0CCE\u0CD7\u0CD8\u0CE0\u0CE0\u0CE2\u0CE5\u0CF3\u0CF4\u0D03\u0D05\u0D07\u0D0E\u0D10\u0D12\u0D14\u0D3C\u0D3F\u0D46\u0D48\u0D4A\u0D4C\u0D4E\u0D50\u0D50\u0D56\u0D59\u0D61\u0D65\u0D7C\u0D81\u0D84\u0D85\u0D87\u0D98\u0D9C\u0DB3\u0DB5\u0DBD\u0DBF\u0DBF\u0DC2\u0DC8\u0DD1\u0DD6\u0DD8\u0DD8\u0DDA\u0DE1\u0DF4\u0DF5\u0E03\u0E3C\u0E42\u0E48\u0E4F\u0E4F\u0E83\u0E84\u0E86\u0E86\u0E89\u0E8A\u0E8C\u0E8C\u0E8F\u0E8F\u0E96\u0E99\u0E9B\u0EA1\u0EA3\u0EA5\u0EA7\u0EA7\u0EA9\u0EA9\u0EAC\u0EAD\u0EAF\u0EBB\u0EBD\u0EBF\u0EC2\u0EC6\u0EC8\u0EC8\u0ECF\u0ECF\u0EDE\u0EE1\u0F02\u0F02\u0F42\u0F49\u0F4B\u0F6E\u0F73\u0F83\u0F8A\u0F99\u0F9B\u0FBE\u1002\u1038\u103A\u103A\u103D\u1041\u1052\u1064\u1067\u106A\u1070\u1088\u1090\u1090\u109E\u109F\u10A2\u10C7\u10C9\u10C9\u10CF\u10CF\u10D2\u10FC\u10FE\u124A\u124C\u124F\u1252\u1258\u125A\u125A\u125C\u125F\u1262\u128A\u128C\u128F\u1292\u12B2\u12B4\u12B7\u12BA\u12C0\u12C2\u12C2\u12C4\u12C7\u12CA\u12D8\u12DA\u1312\u1314\u1317\u131A\u135C\u1361\u1361\u1382\u1391\u13A2\u13F7\u13FA\u13FF\u1403\u166E\u1671\u1681\u1683\u169C\u16A2\u16EC\u16F0\u16FA\u1702\u170E\u1710\u1715\u1722\u1735\u1742\u1755\u1762\u176E\u1770\u1772\u1774\u1775\u1782\u17B5\u17B8\u17CA\u17D9\u17D9\u17DE\u17DE\u1822\u1879\u1882\u18AC\u18B2\u18F7\u1902\u1920\u1922\u192D\u1932\u193A\u1952\u196F\u1972\u1976\u1982\u19AD\u19B2\u19CB\u1A02\u1A1D\u1A22\u1A60\u1A63\u1A76\u1AA9\u1AA9\u1B02\u1B35\u1B37\u1B45\u1B47\u1B4D\u1B82\u1BAB\u1BAE\u1BB1\u1BBC\u1BE7\u1BE9\u1BF3\u1C02\u1C37\u1C4F\u1C51\u1C5C\u1C7F\u1C82\u1C8A\u1CEB\u1CEE\u1CF0\u1CF5\u1CF7\u1CF8\u1D02\u1DC1\u1DE9\u1DF6\u1E02\u1F17\u1F1A\u1F1F\u1F22\u1F47\u1F4A\u1F4F\u1F52\u1F59\u1F5B\u1F5B\u1F5D\u1F5D\u1F5F\u1F5F\u1F61\u1F7F\u1F82\u1FB6\u1FB8\u1FBE\u1FC0\u1FC0\u1FC4\u1FC6\u1FC8\u1FCE\u1FD2\u1FD5\u1FD8\u1FDD\u1FE2\u1FEE\u1FF4\u1FF6\u1FF8\u1FFE\u2073\u2073\u2081\u2081\u2092\u209E\u2104\u2104\u2109\u2109\u210C\u2115\u2117\u2117\u211B\u211F\u2126\u2126\u2128\u2128\u212A\u212A\u212C\u212F\u2131\u213B\u213E\u2141\u2147\u214B\u2150\u2150\u2162\u218A\u24B8\u24EB\u2C02\u2C30\u2C32\u2C60\u2C62\u2CE6\u2CED\u2CF0\u2CF4\u2CF5\u2D02\u2D27\u2D29\u2D29\u2D2F\u2D2F\u2D32\u2D69\u2D71\u2D71\u2D82\u2D98\u2DA2\u2DA8\u2DAA\u2DB0\u2DB2`;rr._serializedATNSegment1=`\u2DB8\u2DBA\u2DC0\u2DC2\u2DC8\u2DCA\u2DD0\u2DD2\u2DD8\u2DDA\u2DE0\u2DE2\u2E01\u2E31\u2E31\u3007\u3009\u3023\u302B\u3033\u3037\u303A\u303E\u3043\u3098\u309F\u30A1\u30A3\u30FC\u30FE\u3101\u3107\u312F\u3133\u3190\u31A2\u31BC\u31F2\u3201\u3402\u4DB7\u4E02\u9FD7\uA002\uA48E\uA4D2\uA4FF\uA502\uA60E\uA612\uA621\uA62C\uA62D\uA642\uA670\uA676\uA67D\uA681\uA6F1\uA719\uA721\uA724\uA78A\uA78D\uA7B0\uA7B2\uA7B9\uA7F9\uA803\uA805\uA807\uA809\uA80C\uA80E\uA829\uA842\uA875\uA882\uA8C5\uA8C7\uA8C7\uA8F4\uA8F9\uA8FD\uA8FD\uA8FF\uA8FF\uA90C\uA92C\uA932\uA954\uA962\uA97E\uA982\uA9B4\uA9B6\uA9C1\uA9D1\uA9D1\uA9E2\uA9E6\uA9E8\uA9F1\uA9FC\uAA00\uAA02\uAA38\uAA42\uAA4F\uAA62\uAA78\uAA7C\uAA7C\uAA80\uAAC0\uAAC2\uAAC2\uAAC4\uAAC4\uAADD\uAADF\uAAE2\uAAF1\uAAF4\uAAF7\uAB03\uAB08\uAB0B\uAB10\uAB13\uAB18\uAB22\uAB28\uAB2A\uAB30\uAB32\uAB5C\uAB5E\uAB67\uAB72\uABEC\uAC02\uD7A5\uD7B2\uD7C8\uD7CD\uD7FD\uF902\uFA6F\uFA72\uFADB\uFB02\uFB08\uFB15\uFB19\uFB1F\uFB2A\uFB2C\uFB38\uFB3A\uFB3E\uFB40\uFB40\uFB42\uFB43\uFB45\uFB46\uFB48\uFBB3\uFBD5\uFD3F\uFD52\uFD91\uFD94\uFDC9\uFDF2\uFDFD\uFE72\uFE76\uFE78\uFEFE\uFF23\uFF3C\uFF43\uFF5C\uFF68\uFFC0\uFFC4\uFFC9\uFFCC\uFFD1\uFFD4\uFFD9\uFFDC\uFFDE\r(*<>?AOR_\x82\xFC\u0142\u0176\u0282\u029E\u02A2\u02D2\u0302\u0321\u0332\u034C\u0352\u037C\u0382\u039F\u03A2\u03C5\u03CA\u03D1\u03D3\u03D7\u0402\u049F\u04B2\u04D5\u04DA\u04FD\u0502\u0529\u0532\u0565\u0602\u0738\u0742\u0757\u0762\u0769\u0802\u0807\u080A\u080A\u080C\u0837\u0839\u083A\u083E\u083E\u0841\u0857\u0862\u0878\u0882\u08A0\u08E2\u08F4\u08F6\u08F7\u0902\u0917\u0922\u093B\u0982\u09B9\u09C0\u09C1\u0A02\u0A05\u0A07\u0A08\u0A0E\u0A15\u0A17\u0A19\u0A1B\u0A35\u0A62\u0A7E\u0A82\u0A9E\u0AC2\u0AC9\u0ACB\u0AE6\u0B02\u0B37\u0B42\u0B57\u0B62\u0B74\u0B82\u0B93\u0C02\u0C4A\u0C82\u0CB4\u0CC2\u0CF4\u1002\u1047\u1084\u10BA\u10D2\u10EA\u1102\u1134\u1152\u1174\u1178\u1178\u1182\u11C1\u11C3\u11C6\u11DC\u11DC\u11DE\u11DE\u1202\u1213\u1215\u1236\u1239\u1239\u1240\u1240\u1282\u1288\u128A\u128A\u128C\u128F\u1291\u129F\u12A1\u12AA\u12B2\u12EA\u1302\u1305\u1307\u130E\u1311\u1312\u1315\u132A\u132C\u1332\u1334\u1335\u1337\u133B\u133F\u1346\u1349\u134A\u134D\u134E\u1352\u1352\u1359\u1359\u135F\u1365\u1402\u1443\u1445\u1447\u1449\u144C\u1482\u14C3\u14C6\u14C7\u14C9\u14C9\u1582\u15B7\u15BA\u15C0\u15DA\u15DF\u1602\u1640\u1642\u1642\u1646\u1646\u1682\u16B7\u1702\u171B\u171F\u172C\u18A2\u18E1\u1901\u1901\u1AC2\u1AFA\u1C02\u1C0A\u1C0C\u1C38\u1C3A\u1C40\u1C42\u1C42\u1C74\u1C91\u1C94\u1CA9\u1CAB\u1CB8\u2002\u239B\u2402\u2470\u2482\u2545\u3002\u3430\u4402\u4648\u6802\u6A3A\u6A42\u6A60\u6AD2\u6AEF\u6B02\u6B38\u6B42\u6B45\u6B65\u6B79\u6B7F\u6B91\u6F02\u6F46\u6F52\u6F80\u6F95\u6FA1\u6FE2\u6FE2\u7002\u87EE\u8802\u8AF4\uB002\uB003\uBC02\uBC6C\uBC72\uBC7E\uBC82\uBC8A\uBC92\uBC9B\uBCA0\uBCA0\uD402\uD456\uD458\uD49E\uD4A0\uD4A1\uD4A4\uD4A4\uD4A7\uD4A8\uD4AB\uD4AE\uD4B0\uD4BB\uD4BD\uD4BD\uD4BF\uD4C5\uD4C7\uD507\uD509\uD50C\uD50F\uD516\uD518\uD51E\uD520\uD53B\uD53D\uD540\uD542\uD546\uD548\uD548\uD54C\uD552\uD554\uD6A7\uD6AA\uD6C2\uD6C4\uD6DC\uD6DE\uD6FC\uD6FE\uD716\uD718\uD736\uD738\uD750\uD752\uD770\uD772\uD78A\uD78C\uD7AA\uD7AC\uD7C4\uD7C6\uD7CD\uE002\uE008\uE00A\uE01A\uE01D\uE023\uE025\uE026\uE028\uE02C\uE802\uE8C6\uE902\uE945\uE949\uE949\uEE02\uEE05\uEE07\uEE21\uEE23\uEE24\uEE26\uEE26\uEE29\uEE29\uEE2B\uEE34\uEE36\uEE39\uEE3B\uEE3B\uEE3D\uEE3D\uEE44\uEE44\uEE49\uEE49\uEE4B\uEE4B\uEE4D\uEE4D\uEE4F\uEE51\uEE53\uEE54\uEE56\uEE56\uEE59\uEE59\uEE5B\uEE5B\uEE5D\uEE5D\uEE5F\uEE5F\uEE61\uEE61\uEE63\uEE64\uEE66\uEE66\uEE69\uEE6C\uEE6E\uEE74\uEE76\uEE79\uEE7B\uEE7E\uEE80\uEE80\uEE82\uEE8B\uEE8D\uEE9D\uEEA3\uEEA5\uEEA7\uEEAB\uEEAD\uEEBD\uF132\uF14B\uF152\uF16B\uF172\uF18B\uA6D8\uA702\uB736\uB742\uB81F\uB822\uCEA3\uF802\uFA1F\u05A6\x1B!#%')+-/13579;=?ACEGIKMOQSUWY[]_acegikmoqsuwy{}\x7F\x81\x83\x85\x87\x89\x8B\x8D\x8F\x91\x93\x95\x97\x99\x9B\x9D\x9F\xA1\xA3\xA5\xA7\xA9\xAB\xAD\xAF\xB1\xB3\xB5\xB7\xB9\xBB\xBD\xBF\xC1\xC3\xC5\xC7\xC9\xCB\xCD\xCF\xD1\xD3\xD5\xD7\xD9\xDB\xDD\xDF\xE1\xE3\xE5\xE7\xE9\xEB\xED\xEF\xF7\xF9\xFB\xFD\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u0145\u0147\u0149\u014B\u014D\u014F\u0151\u015B\x07\u0160	\u0166\v\u0168\r\u016A\u016C\u017A\u018B\u0194\u01A5\u01B3\x1B\u01C2\u01D2\u01E0!\u01ED#\u01F9%\u0209'\u021A)\u0227+\u0236-\u0242/\u02521\u02653\u02745\u02817\u028F9\u029D;\u02AB=\u02B6?\u02C5A\u02D0C\u02DDE\u02E1G\u02E5I\u02E8K\u02ECM\u02F0O\u02F8Q\u02FBS\u0300U\u0305W\u030FY\u0315[\u031A]\u0320_\u0325a\u032Ec\u0333e\u0337g\u033Fi\u0345k\u0349m\u034Eo\u0357q\u035Bs\u0362u\u0369w\u036Cy\u0371{\u0376}\u037A\x7F\u037E\x81\u0387\x83\u038F\x85\u0393\x87\u0397\x89\u039C\x8B\u03A3\x8D\u03A6\x8F\u03A9\x91\u03AE\x93\u03B0\x95\u03BA\x97\u03C3\x99\u03CA\x9B\u03CE\x9D\u03D4\x9F\u03D9\xA1\u03DE\xA3\u03E8\xA5\u03EB\xA7\u03F0\xA9\u03F7\xAB\u03FE\xAD\u0403\xAF\u0408\xB1\u040F\xB3\u041F\xB5\u0422\xB7\u042E\xB9\u0438\xBB\u043A\xBD\u043D\xBF\u0440\xC1\u0442\xC3\u0444\xC5\u0446\xC7\u0448\xC9\u044A\xCB\u044C\xCD\u044F\xCF\u0451\xD1\u0453\xD3\u0455\xD5\u0457\xD7\u0459\xD9\u045B\xDB\u045E\xDD\u0461\xDF\u0464\xE1\u0466\xE3\u0468\xE5\u046A\xE7\u046D\xE9\u046F\xEB\u0471\xED\u0473\xEF\u0476\xF1\u0478\xF3\u047D\xF5\u0480\xF7\u0488\xF9\u0499\xFB\u04A2\xFD\u04AA\xFF\u04B1\u0101\u04BC\u0103\u04C1\u0105\u04CA\u0107\u04D1\u0109\u04F4\u010B\u04F6\u010D\u0502\u010F\u0504\u0111\u0506\u0113\u0508\u0115\u050A\u0117\u050C\u0119\u050E\u011B\u0510\u011D\u0512\u011F\u0514\u0121\u0516\u0123\u0518\u0125\u051A\u0127\u051C\u0129\u051E\u012B\u0520\u012D\u0522\u012F\u0524\u0131\u0526\u0133\u0528\u0135\u052A\u0137\u052C\u0139\u052E\u013B\u0530\u013D\u0532\u013F\u0534\u0141\u0536\u0143\u0538\u0145\u053A\u0147\u054C\u0149\u055D\u014B\u0561\u014D\u056E\u014F\u057E\u0151\u0156\x07$\u0152\u0155\u0153\u0155\v\u0154\u0152\u0154\u0153\u0155\u0158\u0156\u0154\u0156\u0157\u0157\u0159\u0158\u0156\u0159\u015A\x07$\u015A\u015B\u015E\x07^\u015C\u015F	\u015D\u015F\x07\u015E\u015C\u015E\u015D\u015F\u0160\u0161\x07w\u0161\u0162	\u0162\u0163	\u0163\u0164	\u0164\u0165	\u0165\b\u0166\u0167	\u0167
\u0168\u0169
\u0169\f\u016A\u016B	\u016B\u016C\u016D\u0111\x89\u016D\u016E\u0115\x8B\u016E\u016F\u0115\x8B\u016F\u0170\u0119\x8D\u0170\u0171\u012F\x98\u0171\u0175\u0137\x9C\u0172\u0174\r\x07\u0173\u0172\u0174\u0177\u0175\u0173\u0175\u0176\u0176\u0178\u0177\u0175\u0178\u0179\x07<\u0179\u017A\u017B\u0111\x89\u017B\u017C\u011D\x8F\u017C\u017D\u011D\x8F\u017D\u017E\u0133\x9A\u017E\u017F\u0119\x8D\u017F\u0180\u011D\x8F\u0180\u0181\u0111\x89\u0181\u0182\u0137\x9C\u0182\u0186\u0119\x8D\u0183\u0185\r\x07\u0184\u0183\u0185\u0188\u0186\u0184\u0186\u0187\u0187\u0189\u0188\u0186\u0189\u018A\x07<\u018A\u018B\u018C\u0117\x8C\u018C\u018D\u0119\x8D\u018D\u018E\u0115\x8B\u018E\u018F\u0127\x94\u018F\u0190\u0111\x89\u0190\u0191\u0133\x9A\u0191\u0192\u0119\x8D\u0192\u0193\x07<\u0193\u0194\u0195\u0117\x8C\u0195\u0196\u0121\x91\u0196\u0197\u0129\x95\u0197\u0198\u0119\x8D\u0198\u0199\u012B\x96\u0199\u019A\u0135\x9B\u019A\u019B\u0121\x91\u019B\u019C\u012D\x97\u019C\u01A0\u012B\x96\u019D\u019F\r\x07\u019E\u019D\u019F\u01A2\u01A0\u019E\u01A0\u01A1\u01A1\u01A3\u01A2\u01A0\u01A3\u01A4\x07<\u01A4\u01A5\u01A6\u0119\x8D\u01A6\u01A7\u013F\xA0\u01A7\u01A8\u0115\x8B\u01A8\u01A9\u0119\x8D\u01A9\u01AA\u012F\x98\u01AA\u01AE\u0137\x9C\u01AB\u01AD\r\x07\u01AC\u01AB\u01AD\u01B0\u01AE\u01AC\u01AE\u01AF\u01AF\u01B1\u01B0\u01AE\u01B1\u01B2\x07<\u01B2\u01B3\u01B4\u0119\x8D\u01B4\u01B5\u013F\xA0\u01B5\u01B6\u012F\x98\u01B6\u01B7\u0127\x94\u01B7\u01B8\u012D\x97\u01B8\u01B9\u0133\x9A\u01B9\u01BD\u0119\x8D\u01BA\u01BC\r\x07\u01BB\u01BA\u01BC\u01BF\u01BD\u01BB\u01BD\u01BE\u01BE\u01C0\u01BF\u01BD\u01C0\u01C1\x07<\u01C1\u01C2\u01C3\u011D\x8F\u01C3\u01C4\u0133\x9A\u01C4\u01C5\u012D\x97\u01C5\u01C6\u0139\x9D\u01C6\u01C7\u012F\x98\u01C7\u01C8\x07a\u01C8\u01C9\u0113\x8A\u01C9\u01CD\u0141\xA1\u01CA\u01CC\r\x07\u01CB\u01CA\u01CC\u01CF\u01CD\u01CB\u01CD\u01CE\u01CE\u01D0\u01CF\u01CD\u01D0\u01D1\x07<\u01D1\u01D2\u01D3\u011F\x90\u01D3\u01D4\u0111\x89\u01D4\u01D5\u013B\x9E\u01D5\u01D6\u0121\x91\u01D6\u01D7\u012B\x96\u01D7\u01DB\u011D\x8F\u01D8\u01DA\r\x07\u01D9\u01D8\u01DA\u01DD\u01DB\u01D9\u01DB\u01DC\u01DC\u01DE\u01DD\u01DB\u01DE\u01DF\x07<\u01DF\u01E0\u01E1\u0121\x91\u01E1\u01E2\u012B\x96\u01E2\u01E3\u0117\x8C\u01E3\u01E4\u0119\x8D\u01E4\u01E8\u013F\xA0\u01E5\u01E7\r\x07\u01E6\u01E5\u01E7\u01EA\u01E8\u01E6\u01E8\u01E9\u01E9\u01EB\u01EA\u01E8\u01EB\u01EC\x07<\u01EC \u01ED\u01EE\u0123\x92\u01EE\u01EF\u012D\x97\u01EF\u01F0\u0121\x91\u01F0\u01F1\u012B\x96\u01F1\u01F2\x07a\u01F2\u01F3\u0115\x8B\u01F3\u01F4\u0133\x9A\u01F4\u01F5\u012D\x97\u01F5\u01F6\u0135\x9B\u01F6\u01F7\u0135\x9B\u01F7\u01F8\x07<\u01F8"\u01F9\u01FA\u0123\x92\u01FA\u01FB\u012D\x97\u01FB\u01FC\u0121\x91\u01FC\u01FD\u012B\x96\u01FD\u01FE\x07a\u01FE\u01FF\u012D\x97\u01FF\u0200\u012B\x96\u0200\u0204\u0119\x8D\u0201\u0203\r\x07\u0202\u0201\u0203\u0206\u0204\u0202\u0204\u0205\u0205\u0207\u0206\u0204\u0207\u0208\x07<\u0208$\u0209\u020A\u0123\x92\u020A\u020B\u012D\x97\u020B\u020C\u0121\x91\u020C\u020D\u012B\x96\u020D\u020E\x07a\u020E\u020F\u0129\x95\u020F\u0210\u0111\x89\u0210\u0211\u012B\x96\u0211\u0215\u0141\xA1\u0212\u0214\r\x07\u0213\u0212\u0214\u0217\u0215\u0213\u0215\u0216\u0216\u0218\u0217\u0215\u0218\u0219\x07<\u0219&\u021A\u021B\u0127\x94\u021B\u021C\u0121\x91\u021C\u021D\u0129\x95\u021D\u021E\u0121\x91\u021E\u0222\u0137\x9C\u021F\u0221\r\x07\u0220\u021F\u0221\u0224\u0222\u0220\u0222\u0223\u0223\u0225\u0224\u0222\u0225\u0226\x07<\u0226(\u0227\u0228\u0129\x95\u0228\u0229\u0119\x8D\u0229\u022A\u0111\x89\u022A\u022B\u0135\x9B\u022B\u022C\u0139\x9D\u022C\u022D\u0133\x9A\u022D\u0231\u0119\x8D\u022E\u0230\r\x07\u022F\u022E\u0230\u0233\u0231\u022F\u0231\u0232\u0232\u0234\u0233\u0231\u0234\u0235\x07<\u0235*\u0236\u0237\u012B\x96\u0237\u0238\u0119\x8D\u0238\u0239\u0135\x9B\u0239\u023D\u0137\x9C\u023A\u023C\r\x07\u023B\u023A\u023C\u023F\u023D\u023B\u023D\u023E\u023E\u0240\u023F\u023D\u0240\u0241\x07<\u0241,\u0242\u0243\u012D\x97\u0243\u0244\u0133\x9A\u0244\u0245\u0117\x8C\u0245\u0246\u0119\x8D\u0246\u0247\u0133\x9A\u0247\u0248\x07a\u0248\u0249\u0113\x8A\u0249\u024D\u0141\xA1\u024A\u024C\r\x07\u024B\u024A\u024C\u024F\u024D\u024B\u024D\u024E\u024E\u0250\u024F\u024D\u0250\u0251\x07<\u0251.\u0252\u0253\u012F\x98\u0253\u0254\u0133\x9A\u0254\u0255\u0121\x91\u0255\u0256\u0129\x95\u0256\u0257\u0111\x89\u0257\u0258\u0133\x9A\u0258\u0259\u0141\xA1\u0259\u025A\x07a\u025A\u025B\u0125\x93\u025B\u025C\u0119\x8D\u025C\u0260\u0141\xA1\u025D\u025F\r\x07\u025E\u025D\u025F\u0262\u0260\u025E\u0260\u0261\u0261\u0263\u0262\u0260\u0263\u0264\x07<\u02640\u0265\u0266\u012F\x98\u0266\u0267\u0133\x9A\u0267\u0268\u012D\x97\u0268\u0269\u0123\x92\u0269\u026A\u0119\x8D\u026A\u026B\u0115\x8B\u026B\u026F\u0137\x9C\u026C\u026E\r\x07\u026D\u026C\u026E\u0271\u026F\u026D\u026F\u0270\u0270\u0272\u0271\u026F\u0272\u0273\x07<\u02732\u0274\u0275\u0131\x99\u0275\u0276\u0139\x9D\u0276\u0277\u0119\x8D\u0277\u0278\u0133\x9A\u0278\u027C\u0141\xA1\u0279\u027B\r\x07\u027A\u0279\u027B\u027E\u027C\u027A\u027C\u027D\u027D\u027F\u027E\u027C\u027F\u0280\x07<\u02804\u0281\u0282\u0133\x9A\u0282\u0283\u0119\x8D\u0283`;rr._serializedATNSegment2=`\u0284\u012B\x96\u0284\u0285\u0111\x89\u0285\u0286\u0129\x95\u0286\u028A\u0119\x8D\u0287\u0289\r\x07\u0288\u0287\u0289\u028C\u028A\u0288\u028A\u028B\u028B\u028D\u028C\u028A\u028D\u028E\x07<\u028E6\u028F\u0290\u0135\x9B\u0290\u0291\u0111\x89\u0291\u0292\u0129\x95\u0292\u0293\u012F\x98\u0293\u0294\u0127\x94\u0294\u0298\u0119\x8D\u0295\u0297\r\x07\u0296\u0295\u0297\u029A\u0298\u0296\u0298\u0299\u0299\u029B\u029A\u0298\u029B\u029C\x07<\u029C8\u029D\u029E\u0135\x9B\u029E\u029F\u012D\x97\u029F\u02A0\u0139\x9D\u02A0\u02A1\u0133\x9A\u02A1\u02A2\u0115\x8B\u02A2\u02A6\u0119\x8D\u02A3\u02A5\r\x07\u02A4\u02A3\u02A5\u02A8\u02A6\u02A4\u02A6\u02A7\u02A7\u02A9\u02A8\u02A6\u02A9\u02AA\x07<\u02AA:\u02AB\u02AC\u0135\x9B\u02AC\u02AD\u0131\x99\u02AD\u02B1\u0127\x94\u02AE\u02B0\r\x07\u02AF\u02AE\u02B0\u02B3\u02B1\u02AF\u02B1\u02B2\u02B2\u02B4\u02B3\u02B1\u02B4\u02B5\x07<\u02B5<\u02B6\u02B7\u0137\x9C\u02B7\u02B8\u0139\x9D\u02B8\u02B9\u0133\x9A\u02B9\u02BA\u0117\x8C\u02BA\u02BB\u0139\x9D\u02BB\u02BC\u0115\x8B\u02BC\u02C0\u0125\x93\u02BD\u02BF\r\x07\u02BE\u02BD\u02BF\u02C2\u02C0\u02BE\u02C0\u02C1\u02C1\u02C3\u02C2\u02C0\u02C3\u02C4\x07<\u02C4>\u02C5\u02C6\u0137\x9C\u02C6\u02C7\u012D\x97\u02C7\u02CB\u012F\x98\u02C8\u02CA\r\x07\u02C9\u02C8\u02CA\u02CD\u02CB\u02C9\u02CB\u02CC\u02CC\u02CE\u02CD\u02CB\u02CE\u02CF\x07<\u02CF@\u02D0\u02D1\u013D\x9F\u02D1\u02D2\u011F\x90\u02D2\u02D3\u0119\x8D\u02D3\u02D4\u0133\x9A\u02D4\u02D8\u0119\x8D\u02D5\u02D7\r\x07\u02D6\u02D5\u02D7\u02DA\u02D8\u02D6\u02D8\u02D9\u02D9\u02DB\u02DA\u02D8\u02DB\u02DC\x07<\u02DCB\u02DD\u02DE\u0111\x89\u02DE\u02DF\u0127\x94\u02DF\u02E0\u0127\x94\u02E0D\u02E1\u02E2\u0111\x89\u02E2\u02E3\u012B\x96\u02E3\u02E4\u0117\x8C\u02E4F\u02E5\u02E6\u0111\x89\u02E6\u02E7\u0135\x9B\u02E7H\u02E8\u02E9\u0111\x89\u02E9\u02EA\u0135\x9B\u02EA\u02EB\u0115\x8B\u02EBJ\u02EC\u02ED\u0111\x89\u02ED\u02EE\u013B\x9E\u02EE\u02EF\u011D\x8F\u02EFL\u02F0\u02F1\u0113\x8A\u02F1\u02F2\u012D\x97\u02F2\u02F3\u012D\x97\u02F3\u02F4\u0127\x94\u02F4\u02F5\u0119\x8D\u02F5\u02F6\u0111\x89\u02F6\u02F7\u012B\x96\u02F7N\u02F8\u02F9\u0113\x8A\u02F9\u02FA\u0141\xA1\u02FAP\u02FB\u02FC\u0115\x8B\u02FC\u02FD\u0111\x89\u02FD\u02FE\u0135\x9B\u02FE\u02FF\u0119\x8D\u02FFR\u0300\u0301\u0115\x8B\u0301\u0302\u0111\x89\u0302\u0303\u0135\x9B\u0303\u0304\u0137\x9C\u0304T\u0305\u0306\u0115\x8B\u0306\u0307\u012D\x97\u0307\u0308\u012B\x96\u0308\u0309\u0117\x8C\u0309\u030A\u0121\x91\u030A\u030B\u0137\x9C\u030B\u030C\u0121\x91\u030C\u030D\u012D\x97\u030D\u030E\u012B\x96\u030EV\u030F\u0310\u0115\x8B\u0310\u0311\u012D\x97\u0311\u0312\u0139\x9D\u0312\u0313\u012B\x96\u0313\u0314\u0137\x9C\u0314X\u0315\u0316\u0117\x8C\u0316\u0317\u0111\x89\u0317\u0318\u0137\x9C\u0318\u0319\u0119\x8D\u0319Z\u031A\u031B\u0117\x8C\u031B\u031C\u0111\x89\u031C\u031E\u0141\xA1\u031D\u031F\u0135\x9B\u031E\u031D\u031E\u031F\u031F\\\u0320\u0321\u0117\x8C\u0321\u0322\u0119\x8D\u0322\u0323\u0135\x9B\u0323\u0324\u0115\x8B\u0324^\u0325\u0326\u0117\x8C\u0326\u0327\u0121\x91\u0327\u0328\u0135\x9B\u0328\u0329\u0137\x9C\u0329\u032A\u0121\x91\u032A\u032B\u012B\x96\u032B\u032C\u0115\x8B\u032C\u032D\u0137\x9C\u032D\`\u032E\u032F\u0119\x8D\u032F\u0330\u0127\x94\u0330\u0331\u0135\x9B\u0331\u0332\u0119\x8D\u0332b\u0333\u0334\u0119\x8D\u0334\u0335\u012B\x96\u0335\u0336\u0117\x8C\u0336d\u0337\u0338\u0119\x8D\u0338\u0339\u013F\xA0\u0339\u033A\u0115\x8B\u033A\u033B\u0127\x94\u033B\u033C\u0139\x9D\u033C\u033D\u0117\x8C\u033D\u033E\u0119\x8D\u033Ef\u033F\u0340\u011B\x8E\u0340\u0341\u0111\x89\u0341\u0342\u0127\x94\u0342\u0343\u0135\x9B\u0343\u0344\u0119\x8D\u0344h\u0345\u0346\u011B\x8E\u0346\u0347\u012D\x97\u0347\u0348\u0133\x9A\u0348j\u0349\u034A\u011B\x8E\u034A\u034B\u0133\x9A\u034B\u034C\u012D\x97\u034C\u034D\u0129\x95\u034Dl\u034E\u034F\u011B\x8E\u034F\u0350\u0133\x9A\u0350\u0351\u012D\x97\u0351\u0352\u0129\x95\u0352\u0353\x07a\u0353\u0354\u0135\x9B\u0354\u0355\u0131\x99\u0355\u0356\u0127\x94\u0356n\u0357\u0358\u011F\x90\u0358\u0359\u0111\x89\u0359\u035A\u0135\x9B\u035Ap\u035B\u035C\u011F\x90\u035C\u035D\u012D\x97\u035D\u035E\u0139\x9D\u035E\u0360\u0133\x9A\u035F\u0361\u0135\x9B\u0360\u035F\u0360\u0361\u0361r\u0362\u0363\u0121\x91\u0363\u0364\u0129\x95\u0364\u0365\u012F\x98\u0365\u0366\u012D\x97\u0366\u0367\u0133\x9A\u0367\u0368\u0137\x9C\u0368t\u0369\u036A\u0121\x91\u036A\u036B\u0135\x9B\u036Bv\u036C\u036D\u0123\x92\u036D\u036E\u0135\x9B\u036E\u036F\u012D\x97\u036F\u0370\u012B\x96\u0370x\u0371\u0372\u0127\x94\u0372\u0373\u0111\x89\u0373\u0374\u0135\x9B\u0374\u0375\u0137\x9C\u0375z\u0376\u0377\u0129\x95\u0377\u0378\u0111\x89\u0378\u0379\u013F\xA0\u0379|\u037A\u037B\u0129\x95\u037B\u037C\u0121\x91\u037C\u037D\u012B\x96\u037D~\u037E\u037F\u0129\x95\u037F\u0380\u0121\x91\u0380\u0381\u012B\x96\u0381\u0382\u0139\x9D\u0382\u0383\u0137\x9C\u0383\u0385\u0119\x8D\u0384\u0386\u0135\x9B\u0385\u0384\u0385\u0386\u0386\x80\u0387\u0388\u0129\x95\u0388\u0389\u012D\x97\u0389\u038A\u012B\x96\u038A\u038B\u0137\x9C\u038B\u038D\u011F\x90\u038C\u038E\u0135\x9B\u038D\u038C\u038D\u038E\u038E\x82\u038F\u0390\u012B\x96\u0390\u0391\u012D\x97\u0391\u0392\u0137\x9C\u0392\x84\u0393\u0394\u012B\x96\u0394\u0395\u012D\x97\u0395\u0396\u013D\x9F\u0396\x86\u0397\u0398\u012B\x96\u0398\u0399\u0139\x9D\u0399\u039A\u0127\x94\u039A\u039B\u0127\x94\u039B\x88\u039C\u039D\u012B\x96\u039D\u039E\u0139\x9D\u039E\u039F\u0129\x95\u039F\u03A0\u0113\x8A\u03A0\u03A1\u0119\x8D\u03A1\u03A2\u0133\x9A\u03A2\x8A\u03A3\u03A4\u012D\x97\u03A4\u03A5\u012B\x96\u03A5\x8C\u03A6\u03A7\u012D\x97\u03A7\u03A8\u0133\x9A\u03A8\x8E\u03A9\u03AA\u012F\x98\u03AA\u03AB\u0121\x91\u03AB\u03AC\u0115\x8B\u03AC\u03AD\u0125\x93\u03AD\x90\u03AE\u03AF\x07A\u03AF\x92\u03B0\u03B1\u0131\x99\u03B1\u03B2\u0139\x9D\u03B2\u03B3\u0111\x89\u03B3\u03B4\u0133\x9A\u03B4\u03B5\u0137\x9C\u03B5\u03B6\u0119\x8D\u03B6\u03B8\u0133\x9A\u03B7\u03B9\u0135\x9B\u03B8\u03B7\u03B8\u03B9\u03B9\x94\u03BA\u03BB\u0135\x9B\u03BB\u03BC\u0119\x8D\u03BC\u03BD\u0115\x8B\u03BD\u03BE\u012D\x97\u03BE\u03BF\u012B\x96\u03BF\u03C1\u0117\x8C\u03C0\u03C2\u0135\x9B\u03C1\u03C0\u03C1\u03C2\u03C2\x96\u03C3\u03C4\u0135\x9B\u03C4\u03C5\u0137\x9C\u03C5\u03C6\u0133\x9A\u03C6\u03C7\u0121\x91\u03C7\u03C8\u012B\x96\u03C8\u03C9\u011D\x8F\u03C9\x98\u03CA\u03CB\u0135\x9B\u03CB\u03CC\u0139\x9D\u03CC\u03CD\u0129\x95\u03CD\x9A\u03CE\u03CF\u0137\x9C\u03CF\u03D0\u0111\x89\u03D0\u03D1\u0113\x8A\u03D1\u03D2\u0127\x94\u03D2\u03D3\u0119\x8D\u03D3\x9C\u03D4\u03D5\u0137\x9C\u03D5\u03D6\u011F\x90\u03D6\u03D7\u0119\x8D\u03D7\u03D8\u012B\x96\u03D8\x9E\u03D9\u03DA\u0137\x9C\u03DA\u03DB\u011F\x90\u03DB\u03DC\u0121\x91\u03DC\u03DD\u0135\x9B\u03DD\xA0\u03DE\u03DF\u0137\x9C\u03DF\u03E0\u0121\x91\u03E0\u03E1\u0129\x95\u03E1\u03E2\u0119\x8D\u03E2\u03E3\u0135\x9B\u03E3\u03E4\u0137\x9C\u03E4\u03E5\u0111\x89\u03E5\u03E6\u0129\x95\u03E6\u03E7\u012F\x98\u03E7\xA2\u03E8\u03E9\u0137\x9C\u03E9\u03EA\u012D\x97\u03EA\xA4\u03EB\u03EC\u0137\x9C\u03EC\u03ED\u0133\x9A\u03ED\u03EE\u0139\x9D\u03EE\u03EF\u0119\x8D\u03EF\xA6\u03F0\u03F1\u0137\x9C\u03F1\u03F2\u0139\x9D\u03F2\u03F3\u0133\x9A\u03F3\u03F4\u0137\x9C\u03F4\u03F5\u0127\x94\u03F5\u03F6\u0119\x8D\u03F6\xA8\u03F7\u03F8\u013D\x9F\u03F8\u03F9\u0119\x8D\u03F9\u03FA\u0119\x8D\u03FA\u03FC\u0125\x93\u03FB\u03FD\u0135\x9B\u03FC\u03FB\u03FC\u03FD\u03FD\xAA\u03FE\u03FF\u013D\x9F\u03FF\u0400\u011F\x90\u0400\u0401\u0119\x8D\u0401\u0402\u012B\x96\u0402\xAC\u0403\u0404\u013D\x9F\u0404\u0405\u0121\x91\u0405\u0406\u0137\x9C\u0406\u0407\u011F\x90\u0407\xAE\u0408\u0409\u0141\xA1\u0409\u040A\u0119\x8D\u040A\u040B\u0111\x89\u040B\u040D\u0133\x9A\u040C\u040E\u0135\x9B\u040D\u040C\u040D\u040E\u040E\xB0\u040F\u0410\u0139\x9D\u0410\u0411\u012B\x96\u0411\u0412\u011D\x8F\u0412\u0413\u0133\x9A\u0413\u0414\u012D\x97\u0414\u0415\u0139\x9D\u0415\u0416\u012F\x98\u0416\u0417\u0119\x8D\u0417\u0418\u0117\x8C\u0418\xB2\u0419\u041A\x07^\u041A\u0420\x07)\u041B\u041C\x07^\u041C\u0420\x07^\u041D\u041E\x07^\u041E\u0420\v\u041F\u0419\u041F\u041B\u041F\u041D\u0420\xB4\u0421\u0423	\u0422\u0421\u0423\u0424\u0424\u0429\x07)\u0425\u0428\xB3Z\u0426\u0428
\x07\u0427\u0425\u0427\u0426\u0428\u042B\u0429\u0427\u0429\u042A\u042A\u042C\u042B\u0429\u042C\u042D\x07)\u042D\xB6\u042E\u0433\x07)\u042F\u0432\xB3Z\u0430\u0432
\x07\u0431\u042F\u0431\u0430\u0432\u0435\u0433\u0431\u0433\u0434\u0434\u0436\u0435\u0433\u0436\u0437\x07)\u0437\xB8\u0438\u0439\x07(\u0439\xBA\u043A\u043B\x07/\u043B\u043C\x07@\u043C\xBC\u043D\u043E\x07?\u043E\u043F\x07@\u043F\xBE\u0440\u0441\x07*\u0441\xC0\u0442\u0443\x07+\u0443\xC2\u0444\u0445\x07]\u0445\xC4\u0446\u0447\x07_\u0447\xC6\u0448\u0449\x07}\u0449\xC8\u044A\u044B\x07\x7F\u044B\xCA\u044C\u044D\x07<\u044D\u044E\x07<\u044E\xCC\u044F\u0450\x07<\u0450\xCE\u0451\u0452\x07.\u0452\xD0\u0453\u0454\x070\u0454\xD2\u0455\u0456\x07>\u0456\xD4\u0457\u0458\x07@\u0458\xD6\u0459\u045A\x07?\u045A\xD8\u045B\u045C\x07#\u045C\u045D\x07?\u045D\xDA\u045E\u045F\x07>\u045F\u0460\x07?\u0460\xDC\u0461\u0462\x07@\u0462\u0463\x07?\u0463\xDE\u0464\u0465\x07-\u0465\xE0\u0466\u0467\x07/\u0467\xE2\u0468\u0469\x07,\u0469\xE4\u046A\u046B\x07,\u046B\u046C\x07,\u046C\xE6\u046D\u046E\x071\u046E\xE8\u046F\u0470\x07~\u0470\xEA\u0471\u0472\x07=\u0472\xEC\u0473\u0474\x07#\u0474\u0475\x07\x80\u0475\xEE\u0476\u0477\x07\x80\u0477\xF0\u0478\u0479\u010F\x88\u0479\u047A\u010F\x88\u047A\u047B\u010F\x88\u047B\u047C\u010F\x88\u047C\xF2\u047D\u047E\u010F\x88\u047E\u047F\u010F\x88\u047F\xF4\u0480\u0481\x07/\u0481\u0484\x07Z\u0482\u0485\u010D\x87\u0483\u0485\u010F\x88\u0484\u0482\u0484\u0483\u0485\u0486\u0486\u0484\u0486\u0487\u0487\xF6\u0488\u0489\x07B\u0489\u048A\xF1y\u048A\u048B\x07/\u048B\u048C\xF3z\u048C\u048D\x07/\u048D\u048E\xF3z\u048E\u048F\x07"\u048F\u0490\xF3z\u0490\u0491\x07<\u0491\u0494\xF3z\u0492\u0493\x07<\u0493\u0495\xF3z\u0494\u0492\u0494\u0495\u0495\u0497\u0496\u0498\xF5{\u0497\u0496\u0497\u0498\u0498\xF8\u0499\u049A\x07B\u049A\u049B\xF1y\u049B\u049C\x07/\u049C\u049D\xF3z\u049D\u049E\x07/\u049E\u04A0\xF3z\u049F\u04A1\xF5{\u04A0\u049F\u04A0\u04A1\u04A1\xFA\u04A2\u04A3\x07B\u04A3\u04A4\xF1y\u04A4\u04A5\x07/\u04A5\u04A6\x07S\u04A6\u04A836\u04A7\u04A9\xF5{\u04A8\u04A7\u04A8\u04A9\u04A9\xFC\u04AA\u04AB\x07B\u04AB\u04AC\xF1y\u04AC\u04AD\x07/\u04AD\u04AF\xF3z\u04AE\u04B0\xF5{\u04AF\u04AE\u04AF\u04B0\u04B0\xFE\u04B1\u04B2\x07B\u04B2\u04B3\u013D\x9F\u04B3\u04B4\u0125\x93\u04B4\u04B5\xF1y\u04B5\u04B6\x07/\u04B6\u04B7\xF3z\u04B7\u04B8\x07/\u04B8\u04BA\xF3z\u04B9\u04BB\xF5{\u04BA\u04B9\u04BA\u04BB\u04BB\u0100\u04BC\u04BD\x07B\u04BD\u04BF\xF1y\u04BE\u04C0\xF5{\u04BF\u04BE\u04BF\u04C0\u04C0\u0102\u04C1\u04C6\u010D\x87\u04C2\u04C5\u010D\x87\u04C3\u04C5\u010F\x88\u04C4\u04C2\u04C4\u04C3\u04C5\u04C8\u04C6\u04C4\u04C6\u04C7\u04C7\u0104\u04C8\u04C6\u04C9\u04CB\u010F\x88\u04CA\u04C9\u04CB\u04CC\u04CC\u04CA\u04CC\u04CD\u04CD\u04CE\u04CE\u04CF\x07'\u04CF\u0106\u04D0\u04D2\u010F\x88\u04D1\u04D0\u04D2\u04D3\u04D3\u04D1\u04D3\u04D4\u04D4\u0108\u04D5\u04D7\u010F\x88\u04D6\u04D5\u04D7\u04D8\u04D8\u04D6\u04D8\u04D9\u04D9\u04E1\u04DA\u04DE\xD1i\u04DB\u04DD\u010F\x88\u04DC\u04DB\u04DD\u04E0\u04DE\u04DC\u04DE\u04DF\u04DF\u04E2\u04E0\u04DE\u04E1\u04DA\u04E1\u04E2\u04E2\u04F5\u04E3\u04E5\xD1i\u04E4\u04E6\u010F\x88\u04E5\u04E4\u04E6\u04E7\u04E7\u04E5\u04E7\u04E8\u04E8\u04F2\u04E9\u04EB\u0119\x8D\u04EA\u04EC	\b\u04EB\u04EA\u04EB\u04EC\u04EC\u04EE\u04ED\u04EF\u010F\x88\u04EE\u04ED\u04EF\u04F0\u04F0\u04EE\u04F0\u04F1\u04F1\u04F3\u04F2\u04E9\u04F2\u04F3\u04F3\u04F5\u04F4\u04D6\u04F4\u04E3\u04F5\u010A\u04F6\u04F7\x07b\u04F7\u04FD\u010D\x87\u04F8\u04FC\u010D\x87\u04F9\u04FC\u010F\x88\u04FA\u04FC\r\x07\u04FB\u04F8\u04FB\u04F9\u04FB\u04FA\u04FC\u04FF\u04FD\u04FB\u04FD\u04FE\u04FE\u0500\u04FF\u04FD\u0500\u0501\x07b\u0501\u010C\u0502\u0503	%\u0503\u010E\u0504\u0505		\u0505\u0110\u0506\u0507	
\u0507\u0112\u0508\u0509	\v\u0509\u0114\u050A\u050B	\f\u050B\u0116\u050C\u050D	\r\u050D\u0118\u050E\u050F	\u050F\u011A\u0510\u0511	\u0511\u011C\u0512\u0513	\u0513\u011E\u0514\u0515	\u0515\u0120\u0516\u0517	\u0517\u0122\u0518\u0519	\u0519\u0124\u051A\u051B	\u051B\u0126\u051C\u051D	\u051D\u0128\u051E\u051F	\u051F\u012A\u0520\u0521	\u0521\u012C\u0522\u0523	\u0523\u012E\u0524\u0525	\u0525\u0130\u0526\u0527	\u0527\u0132\u0528\u0529	\x1B\u0529\u0134\u052A\u052B	\u052B\u0136\u052C\u052D	\u052D\u0138\u052E\u052F	\u052F\u013A\u0530\u0531	\u0531\u013C\u0532\u0533	 \u0533\u013E\u0534\u0535	!\u0535\u0140\u0536\u0537	"\u0537\u0142\u0538\u0539	#\u0539\u0144\u053A\u053B\x071\u053B\u053C\x07,\u053C\u0540\u053D\u053F\v\u053E\u053D\u053F\u0542\u0540\u0541\u0540\u053E\u0541\u0543\u0542\u0540\u0543\u0544\x07,\u0544\u0545\x071\u0545\u0546\u0546\u0547\b\xA3\u0547\u0146\u0548\u0549\x07/\u0549\u054D\x07/\u054A\u054B\x071\u054B\u054D\x071\u054C\u0548\u054C\u054A\u054D\u0551\u054E\u0550
$\u054F\u054E\u0550\u0553\u0551\u054F\u0551\u0552\u0552\u0559\u0553\u0551\u0554\u0556\x07\u0555\u0554\u0555\u0556\u0556\u0557\u0557\u055A\x07\f\u0558\u055A\x07\u0559\u0555\u0559\u0558\u055A\u055B\u055B\u055C\b\xA4\u055C\u0148\u055D\u055E\r\x07\u055E\u055F\u055F\u0560\b\xA5\u0560\u014A\u0561\u0562\x07~\u0562\u0563\x07~\u0563\u0567\u0564\u0566\v\u0565\u0564\u0566\u0569\u0567\u0568\u0567\u0565\u0568\u056A\u0569\u0567\u056A\u056B\x07=\u056B\u056C\x07=\u056C\u014C\u056D\u056F\u010F\x88\u056E\u056D\u056F\u0570\u0570\u056E\u0570\u0571\u0571\u0573\u0572\u0574\u010D\x87\u0573\u0572\u0574\u0575\u0575\u0573\u0575\u0576\u0576\u057B\u0577\u057A\u010D\x87\u0578\u057A\u010F\x88\u0579\u0577\u0579\u0578\u057A\u057D\u057B\u0579\u057B\u057C\u057C\u014E\u057D\u057B\u057E\u057F\v\u057F\u0150M\u0154\u0156\u015E\u0175\u0186\u01A0\u01AE\u01BD\u01CD\u01DB\u01E8\u0204\u0215\u0222\u0231\u023D\u024D\u0260\u026F\u027C\u028A\u0298\u02A6\u02B1\u02C0\u02CB\u02D8\u031E\u0360\u0385\u038D\u03B8\u03C1\u03FC\u040D\u041F\u0422\u0427\u0429\u0431\u0433\u0484\u0486\u0494\u0497\u04A0\u04A8\u04AF\u04BA\u04BF\u04C4\u04C6\u04CC\u04D3\u04D8\u04DE\u04E1\u04E7\u04EB\u04F0\u04F2\u04F4\u04FB\u04FD\u0540\u054C\u0551\u0555\u0559\u0567\u0570\u0575\u0579\u057B\b`;rr._serializedATNSegment3="";rr._serializedATN=L8e.join([rr._serializedATNSegment0,rr._serializedATNSegment1,rr._serializedATNSegment2,rr._serializedATNSegment3],"")});var Soe=Ae(jt=>{"use strict";m();var k0t=jt&&jt.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),I0t=jt&&jt.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),M0t=jt&&jt.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&k0t(e,n,t);return I0t(e,n),e};Object.defineProperty(jt,"__esModule",{value:!0});jt.ExploreRenameDefContext=jt.RenameListContext=jt.DefExploreQueryContext=jt.DefExploreEditFieldContext=jt.DefExploreRenameContext=jt.DefExplorePrimaryKeyContext=jt.DefExploreWhereContext=jt.DefJoin_stubContext=jt.DefDeclare_stubContext=jt.DefExploreMeasureContext=jt.DefExploreDimensionContext=jt.ExploreStatementContext=jt.ExplorePropertiesContext=jt.ExploreNameContext=jt.ExploreNameDefContext=jt.SQLSourceContext=jt.QuerySourceContext=jt.TableSourceContext=jt.NamedSourceContext=jt.ExploreSourceContext=jt.ExploreContext=jt.ExploreDefinitionContext=jt.ExploreDefinitionListContext=jt.QueryNameContext=jt.ExploreQueryNameContext=jt.FilterShortcutContext=jt.QueryPropertiesContext=jt.ExploreTableContext=jt.PipeElementContext=jt.FirstSegmentContext=jt.PipelineFromNameContext=jt.ArrowQueryContext=jt.ExploreArrowQueryContext=jt.QueryContext=jt.RefineOperatorContext=jt.TopLevelQueryDefContext=jt.TopLevelQueryDefsContext=jt.ImportURLContext=jt.ImportStatementContext=jt.SqlStatementDefContext=jt.DefineSQLStatementContext=jt.TopLevelAnonQueryDefContext=jt.AnonymousQueryContext=jt.NamedQueries_stubContext=jt.DefineQueryContext=jt.ExploreKeywordContext=jt.DefineExploreStatementContext=jt.MalloyStatementContext=jt.MalloyDocumentContext=jt.MalloyParser=void 0;jt.SampleStatementContext=jt.IndexStatementContext=jt.IndexFieldsContext=jt.IndexElementContext=jt.TopStatementContext=jt.BySpecContext=jt.LimitStatementContext=jt.OrderBySpecContext=jt.OrderingContext=jt.OrderByStatementContext=jt.ProjectStatementContext=jt.AggregateStatementContext=jt.NestDefContext=jt.NestExistingContext=jt.NestEntryContext=jt.NestedQueryListContext=jt.NestStatementContext=jt.QueryFieldDefContext=jt.QueryFieldRefContext=jt.QueryFieldEntryContext=jt.DimensionDefContext=jt.QueryFieldListContext=jt.GroupByStatementContext=jt.QueryStatementContext=jt.ExploreQueryDefContext=jt.ExploreQueryNameDefContext=jt.SubQueryDefListContext=jt.HavingStatementContext=jt.WhereStatementContext=jt.FilterClauseListContext=jt.FilterByWhereContext=jt.FilterByShortcutContext=jt.FilteredByContext=jt.FilterStatementContext=jt.JoinExpressionContext=jt.JoinOnContext=jt.JoinWithContext=jt.JoinDefContext=jt.JoinListContext=jt.DefJoinCrossContext=jt.DefJoinManyContext=jt.DefJoinOneContext=jt.JoinStatementContext=jt.DeclareStatementContext=jt.MeasureDefContext=jt.JoinNameDefContext=jt.FieldNameDefContext=jt.FieldDefContext=jt.MeasureDefListContext=jt.DimensionDefListContext=void 0;jt.ExprNotPartialContext=jt.ExprPartialCompareContext=jt.PartialAllowedFieldExprContext=jt.ExprUngroupContext=jt.ExprPickContext=jt.ExprFuncContext=jt.ExprExprContext=jt.ExprAggregateContext=jt.ExprCountDisinctContext=jt.ExprCastContext=jt.ExprLogicalContext=jt.ExprNotContext=jt.ExprApplyContext=jt.ExprCompareContext=jt.ExprLogicalTreeContext=jt.ExprForRangeContext=jt.ExprRangeContext=jt.ExprAddSubContext=jt.ExprMulDivContext=jt.ExprSafeCastContext=jt.ExprTimeTruncContext=jt.ExprDurationContext=jt.ExprMinusContext=jt.ExprLiteralContext=jt.ExprFilterContext=jt.ExprFieldPathContext=jt.FieldExprContext=jt.UngroupContext=jt.TimeframeContext=jt.IdContext=jt.TableNameContext=jt.LiteralYearContext=jt.LiteralQuarterContext=jt.LiteralMonthContext=jt.LiteralWeekContext=jt.LiteralDayContext=jt.LiteralTimestampContext=jt.DateLiteralContext=jt.ExprNowContext=jt.ExprRegexContext=jt.ExprBoolContext=jt.ExprNULLContext=jt.ExprTimeContext=jt.ExprNumberContext=jt.ExprStringContext=jt.LiteralContext=jt.CompareOpContext=jt.MalloyTypeContext=jt.AggregateContext=jt.SampleSpecContext=void 0;jt.ConnectionNameContext=jt.SqlCommandNameDefContext=jt.SqlExploreNameRefContext=jt.JsonArrayContext=jt.JsonPropertyContext=jt.JsonObjectContext=jt.JsonValueContext=jt.JsonContext=jt.JustExprContext=jt.FieldNameContext=jt.JoinNameContext=jt.FieldPathContext=jt.NewMemberContext=jt.WildMemberContext=jt.NameMemberContext=jt.CollectionMemberContext=jt.FieldCollectionContext=jt.FieldNameListContext=jt.ArgumentListContext=jt.PickContext=jt.PickStatementContext=void 0;var n0=Fm(),P0t=vO(),B0t=kD(),Cc=fO(),j0t=iw(),zr=g1(),q0t=lw(),Hr=Jg(),Sf=uu(),U0t=sy(),I8e=M0t(Tm()),C=class extends j0t.Parser{constructor(e){super(e);this._interp=new q0t.ParserATNSimulator(C._ATN,this)}get vocabulary(){return C.VOCABULARY}get grammarFileName(){return"MalloyParser.g4"}get ruleNames(){return C.ruleNames}get serializedATN(){return C._serializedATN}createFailedPredicateException(e,t){return new B0t.FailedPredicateException(this,e,t)}malloyDocument(){let e=new rse(this._ctx,this.state);this.enterRule(e,0,C.RULE_malloyDocument);let t;try{this.enterOuterAlt(e,1);{for(this.state=206,this._errHandler.sync(this),t=this._input.LA(1);(t&~31)===0&&(1<<t&(1<<C.EXPLORE|1<<C.QUERY|1<<C.SOURCE|1<<C.SQL))!==0||t===C.IMPORT||t===C.SEMI;){switch(this.state=204,this._errHandler.sync(this),this._input.LA(1)){case C.EXPLORE:case C.QUERY:case C.SOURCE:case C.SQL:case C.IMPORT:this.state=202,this.malloyStatement();break;case C.SEMI:this.state=203,this.match(C.SEMI);break;default:throw new Cc.NoViableAltException(this)}this.state=208,this._errHandler.sync(this),t=this._input.LA(1)}this.state=209,this.match(C.EOF)}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}malloyStatement(){let e=new LO(this._ctx,this.state);this.enterRule(e,2,C.RULE_malloyStatement);try{switch(this.state=215,this._errHandler.sync(this),this._input.LA(1)){case C.EXPLORE:case C.SOURCE:this.enterOuterAlt(e,1),this.state=211,this.defineExploreStatement();break;case C.SQL:this.enterOuterAlt(e,2),this.state=212,this.defineSQLStatement();break;case C.QUERY:this.enterOuterAlt(e,3),this.state=213,this.defineQuery();break;case C.IMPORT:this.enterOuterAlt(e,4),this.state=214,this.importStatement();break;default:throw new Cc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}defineExploreStatement(){let e=new VU(this._ctx,this.state);this.enterRule(e,4,C.RULE_defineExploreStatement);try{this.enterOuterAlt(e,1),this.state=217,this.exploreKeyword(),this.state=218,this.exploreDefinitionList()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreKeyword(){let e=new WU(this._ctx,this.state);this.enterRule(e,6,C.RULE_exploreKeyword);let t;try{this.enterOuterAlt(e,1),this.state=220,t=this._input.LA(1),t===C.EXPLORE||t===C.SOURCE?(this._input.LA(1)===Sf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}defineQuery(){let e=new Gw(this._ctx,this.state);this.enterRule(e,8,C.RULE_defineQuery);try{switch(this.state=226,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,3,this._ctx)){case 1:e=new ise(e),this.enterOuterAlt(e,1),this.state=222,this.match(C.QUERY),this.state=223,this.topLevelQueryDefs();break;case 2:e=new sse(e),this.enterOuterAlt(e,2),this.state=224,this.match(C.QUERY),this.state=225,this.topLevelAnonQueryDef();break}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}topLevelAnonQueryDef(){let e=new QU(this._ctx,this.state);this.enterRule(e,10,C.RULE_topLevelAnonQueryDef);try{this.enterOuterAlt(e,1),this.state=228,this.query()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}defineSQLStatement(){let e=new GU(this._ctx,this.state);this.enterRule(e,12,C.RULE_defineSQLStatement);try{this.enterOuterAlt(e,1),this.state=230,this.match(C.SQL),this.state=231,this.sqlStatementDef()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sqlStatementDef(){let e=new YU(this._ctx,this.state);this.enterRule(e,14,C.RULE_sqlStatementDef);let t;try{this.enterOuterAlt(e,1),this.state=236,this._errHandler.sync(this),t=this._input.LA(1),(t===C.IDENTIFIER||t===C.OBJECT_NAME_LITERAL)&&(this.state=233,this.sqlCommandNameDef(),this.state=234,this.match(C.IS)),this.state=238,this.match(C.SQL_STRING),this.state=241,this._errHandler.sync(this),t=this._input.LA(1),t===C.ON&&(this.state=239,this.match(C.ON),this.state=240,this.connectionName())}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}importStatement(){let e=new KU(this._ctx,this.state);this.enterRule(e,16,C.RULE_importStatement);try{this.enterOuterAlt(e,1),this.state=243,this.match(C.IMPORT),this.state=244,this.importURL()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}importURL(){let e=new JU(this._ctx,this.state);this.enterRule(e,18,C.RULE_importURL);try{this.enterOuterAlt(e,1),this.state=246,this.match(C.JSON_STRING)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}topLevelQueryDefs(){let e=new XU(this._ctx,this.state);this.enterRule(e,20,C.RULE_topLevelQueryDefs);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=248,this.topLevelQueryDef(),this.state=255,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,7,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=250,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=249,this.match(C.COMMA)),this.state=252,this.topLevelQueryDef()),this.state=257,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,7,this._ctx);this.state=259,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=258,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}topLevelQueryDef(){let e=new kO(this._ctx,this.state);this.enterRule(e,22,C.RULE_topLevelQueryDef);try{this.enterOuterAlt(e,1),this.state=261,this.queryName(),this.state=262,this.match(C.IS),this.state=263,this.query()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}refineOperator(){let e=new ib(this._ctx,this.state);this.enterRule(e,24,C.RULE_refineOperator);try{this.enterOuterAlt(e,1),this.state=265,this.match(C.PLUS)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}query(){let e=new m4(this._ctx,this.state);this.enterRule(e,26,C.RULE_query);let t;try{switch(this.state=285,this._errHandler.sync(this),this._input.LA(1)){case C.FROM:case C.FROM_SQL:case C.TABLE:case C.IDENTIFIER:case C.OBJECT_NAME_LITERAL:e=new ose(e),this.enterOuterAlt(e,1),this.state=267,this.explore(),this.state=268,this.match(C.ARROW),this.state=269,this.pipelineFromName();break;case C.ARROW:for(e=new ase(e),this.enterOuterAlt(e,2),this.state=271,this.match(C.ARROW),this.state=272,this.queryName(),this.state=277,this._errHandler.sync(this),t=this._input.LA(1),(t===C.OCURLY||t===C.PLUS)&&(this.state=274,this._errHandler.sync(this),t=this._input.LA(1),t===C.PLUS&&(this.state=273,this.refineOperator()),this.state=276,this.queryProperties()),this.state=282,this._errHandler.sync(this),t=this._input.LA(1);t===C.ARROW;)this.state=279,this.pipeElement(),this.state=284,this._errHandler.sync(this),t=this._input.LA(1);break;default:throw new Cc.NoViableAltException(this)}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}pipelineFromName(){let e=new Yw(this._ctx,this.state);this.enterRule(e,28,C.RULE_pipelineFromName);let t;try{for(this.enterOuterAlt(e,1),this.state=287,this.firstSegment(),this.state=291,this._errHandler.sync(this),t=this._input.LA(1);t===C.ARROW;)this.state=288,this.pipeElement(),this.state=293,this._errHandler.sync(this),t=this._input.LA(1)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}firstSegment(){let e=new ZU(this._ctx,this.state);this.enterRule(e,30,C.RULE_firstSegment);let t;try{switch(this.state=302,this._errHandler.sync(this),this._input.LA(1)){case C.OCURLY:this.enterOuterAlt(e,1),this.state=294,this.queryProperties();break;case C.IDENTIFIER:case C.OBJECT_NAME_LITERAL:this.enterOuterAlt(e,2),this.state=295,this.exploreQueryName(),this.state=300,this._errHandler.sync(this),t=this._input.LA(1),(t===C.OCURLY||t===C.PLUS)&&(this.state=297,this._errHandler.sync(this),t=this._input.LA(1),t===C.PLUS&&(this.state=296,this.refineOperator()),this.state=299,this.queryProperties());break;default:throw new Cc.NoViableAltException(this)}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}pipeElement(){let e=new sb(this._ctx,this.state);this.enterRule(e,32,C.RULE_pipeElement);try{this.enterOuterAlt(e,1),this.state=304,this.match(C.ARROW),this.state=305,this.queryProperties()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreTable(){let e=new e$(this._ctx,this.state);this.enterRule(e,34,C.RULE_exploreTable);try{this.enterOuterAlt(e,1),this.state=307,this.match(C.TABLE),this.state=308,this.match(C.OPAREN),this.state=309,this.tableName(),this.state=310,this.match(C.CPAREN)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryProperties(){let e=new ob(this._ctx,this.state);this.enterRule(e,36,C.RULE_queryProperties);let t;try{switch(this.state=322,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,19,this._ctx)){case 1:this.enterOuterAlt(e,1),this.state=312,this.filterShortcut();break;case 2:this.enterOuterAlt(e,2);{for(this.state=313,this.match(C.OCURLY),this.state=318,this._errHandler.sync(this),t=this._input.LA(1);(t&~31)===0&&(1<<t&(1<<C.AGGREGATE|1<<C.DECLARE|1<<C.GROUP_BY|1<<C.HAVING|1<<C.INDEX|1<<C.JOIN_CROSS|1<<C.JOIN_ONE|1<<C.JOIN_MANY|1<<C.LIMIT|1<<C.NEST|1<<C.ORDER_BY|1<<C.PROJECT|1<<C.SAMPLE|1<<C.TOP|1<<C.WHERE))!==0||t===C.SEMI;){switch(this.state=316,this._errHandler.sync(this),this._input.LA(1)){case C.AGGREGATE:case C.DECLARE:case C.GROUP_BY:case C.HAVING:case C.INDEX:case C.JOIN_CROSS:case C.JOIN_ONE:case C.JOIN_MANY:case C.LIMIT:case C.NEST:case C.ORDER_BY:case C.PROJECT:case C.SAMPLE:case C.TOP:case C.WHERE:this.state=314,this.queryStatement();break;case C.SEMI:this.state=315,this.match(C.SEMI);break;default:throw new Cc.NoViableAltException(this)}this.state=320,this._errHandler.sync(this),t=this._input.LA(1)}this.state=321,this.match(C.CCURLY)}break}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}filterShortcut(){let e=new IO(this._ctx,this.state);this.enterRule(e,38,C.RULE_filterShortcut);try{this.enterOuterAlt(e,1),this.state=324,this.match(C.OCURLY),this.state=325,this.match(C.QMARK),this.state=326,this.fieldExpr(0),this.state=327,this.match(C.CCURLY)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreQueryName(){let e=new t$(this._ctx,this.state);this.enterRule(e,40,C.RULE_exploreQueryName);try{this.enterOuterAlt(e,1),this.state=329,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryName(){let e=new ab(this._ctx,this.state);this.enterRule(e,42,C.RULE_queryName);try{this.enterOuterAlt(e,1),this.state=331,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreDefinitionList(){let e=new n$(this._ctx,this.state);this.enterRule(e,44,C.RULE_exploreDefinitionList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=333,this.exploreDefinition(),this.state=340,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,21,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=335,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=334,this.match(C.COMMA)),this.state=337,this.exploreDefinition()),this.state=342,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,21,this._ctx);this.state=344,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=343,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreDefinition(){let e=new MO(this._ctx,this.state);this.enterRule(e,46,C.RULE_exploreDefinition);try{this.enterOuterAlt(e,1),this.state=346,this.exploreNameDef(),this.state=347,this.match(C.IS),this.state=348,this.explore()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}explore(){let e=new ub(this._ctx,this.state);this.enterRule(e,48,C.RULE_explore);let t;try{this.enterOuterAlt(e,1),this.state=350,this.exploreSource(),this.state=355,this._errHandler.sync(this),t=this._input.LA(1),(t===C.OCURLY||t===C.PLUS)&&(this.state=352,this._errHandler.sync(this),t=this._input.LA(1),t===C.PLUS&&(this.state=351,this.refineOperator()),this.state=354,this.exploreProperties())}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreSource(){let e=new x4(this._ctx,this.state);this.enterRule(e,50,C.RULE_exploreSource);try{switch(this.state=369,this._errHandler.sync(this),this._input.LA(1)){case C.IDENTIFIER:case C.OBJECT_NAME_LITERAL:e=new use(e),this.enterOuterAlt(e,1),this.state=357,this.exploreName();break;case C.TABLE:e=new lse(e),this.enterOuterAlt(e,2),this.state=358,this.exploreTable();break;case C.FROM:e=new cse(e),this.enterOuterAlt(e,3),this.state=359,this.match(C.FROM),this.state=360,this.match(C.OPAREN),this.state=361,this.query(),this.state=362,this.match(C.CPAREN);break;case C.FROM_SQL:e=new fse(e),this.enterOuterAlt(e,4),this.state=364,this.match(C.FROM_SQL),this.state=365,this.match(C.OPAREN),this.state=366,this.sqlExploreNameRef(),this.state=367,this.match(C.CPAREN);break;default:throw new Cc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreNameDef(){let e=new r$(this._ctx,this.state);this.enterRule(e,52,C.RULE_exploreNameDef);try{this.enterOuterAlt(e,1),this.state=371,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreName(){let e=new i$(this._ctx,this.state);this.enterRule(e,54,C.RULE_exploreName);try{this.enterOuterAlt(e,1),this.state=373,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreProperties(){let e=new s$(this._ctx,this.state);this.enterRule(e,56,C.RULE_exploreProperties);let t;try{switch(this.state=385,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,28,this._ctx)){case 1:this.enterOuterAlt(e,1);{for(this.state=375,this.match(C.OCURLY),this.state=380,this._errHandler.sync(this),t=this._input.LA(1);(t&~31)===0&&(1<<t&(1<<C.ACCEPT|1<<C.DECLARE|1<<C.DIMENSION|1<<C.EXCEPT|1<<C.JOIN_CROSS|1<<C.JOIN_ONE|1<<C.JOIN_MANY|1<<C.MEASURE|1<<C.PRIMARY_KEY|1<<C.QUERY|1<<C.RENAME|1<<C.WHERE))!==0||t===C.SEMI;){switch(this.state=378,this._errHandler.sync(this),this._input.LA(1)){case C.ACCEPT:case C.DECLARE:case C.DIMENSION:case C.EXCEPT:case C.JOIN_CROSS:case C.JOIN_ONE:case C.JOIN_MANY:case C.MEASURE:case C.PRIMARY_KEY:case C.QUERY:case C.RENAME:case C.WHERE:this.state=376,this.exploreStatement();break;case C.SEMI:this.state=377,this.match(C.SEMI);break;default:throw new Cc.NoViableAltException(this)}this.state=382,this._errHandler.sync(this),t=this._input.LA(1)}this.state=383,this.match(C.CCURLY)}break;case 2:this.enterOuterAlt(e,2),this.state=384,this.filterShortcut();break}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreStatement(){let e=new _h(this._ctx,this.state);this.enterRule(e,58,C.RULE_exploreStatement);let t;try{switch(this.state=402,this._errHandler.sync(this),this._input.LA(1)){case C.DIMENSION:e=new dse(e),this.enterOuterAlt(e,1),this.state=387,this.match(C.DIMENSION),this.state=388,this.dimensionDefList();break;case C.MEASURE:e=new hse(e),this.enterOuterAlt(e,2),this.state=389,this.match(C.MEASURE),this.state=390,this.measureDefList();break;case C.DECLARE:e=new pse(e),this.enterOuterAlt(e,3),this.state=391,this.declareStatement();break;case C.JOIN_CROSS:case C.JOIN_ONE:case C.JOIN_MANY:e=new mse(e),this.enterOuterAlt(e,4),this.state=392,this.joinStatement();break;case C.WHERE:e=new xse(e),this.enterOuterAlt(e,5),this.state=393,this.whereStatement();break;case C.PRIMARY_KEY:e=new gse(e),this.enterOuterAlt(e,6),this.state=394,this.match(C.PRIMARY_KEY),this.state=395,this.fieldName();break;case C.RENAME:e=new yse(e),this.enterOuterAlt(e,7),this.state=396,this.match(C.RENAME),this.state=397,this.renameList();break;case C.ACCEPT:case C.EXCEPT:e=new vse(e),this.enterOuterAlt(e,8),this.state=398,t=this._input.LA(1),t===C.ACCEPT||t===C.EXCEPT?(this._input.LA(1)===Sf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=399,this.fieldNameList();break;case C.QUERY:e=new _se(e),this.enterOuterAlt(e,9),this.state=400,this.match(C.QUERY),this.state=401,this.subQueryDefList();break;default:throw new Cc.NoViableAltException(this)}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}renameList(){let e=new o$(this._ctx,this.state);this.enterRule(e,60,C.RULE_renameList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=404,this.exploreRenameDef(),this.state=411,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,31,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=406,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=405,this.match(C.COMMA)),this.state=408,this.exploreRenameDef()),this.state=413,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,31,this._ctx);this.state=415,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=414,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreRenameDef(){let e=new PO(this._ctx,this.state);this.enterRule(e,62,C.RULE_exploreRenameDef);try{this.enterOuterAlt(e,1),this.state=417,this.fieldName(),this.state=418,this.match(C.IS),this.state=419,this.fieldName()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}dimensionDefList(){let e=new a$(this._ctx,this.state);this.enterRule(e,64,C.RULE_dimensionDefList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=421,this.dimensionDef(),this.state=428,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,34,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=423,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=422,this.match(C.COMMA)),this.state=425,this.dimensionDef()),this.state=430,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,34,this._ctx);this.state=432,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=431,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}measureDefList(){let e=new u$(this._ctx,this.state);this.enterRule(e,66,C.RULE_measureDefList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=434,this.measureDef(),this.state=441,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,37,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=436,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=435,this.match(C.COMMA)),this.state=438,this.measureDef()),this.state=443,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,37,this._ctx);this.state=445,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=444,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldDef(){let e=new g4(this._ctx,this.state);this.enterRule(e,68,C.RULE_fieldDef);try{this.enterOuterAlt(e,1),this.state=447,this.fieldNameDef(),this.state=448,this.match(C.IS),this.state=449,this.fieldExpr(0)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}fieldNameDef(){let e=new l$(this._ctx,this.state);this.enterRule(e,70,C.RULE_fieldNameDef);try{this.enterOuterAlt(e,1),this.state=451,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}joinNameDef(){let e=new BO(this._ctx,this.state);this.enterRule(e,72,C.RULE_joinNameDef);try{this.enterOuterAlt(e,1),this.state=453,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}measureDef(){let e=new jO(this._ctx,this.state);this.enterRule(e,74,C.RULE_measureDef);try{this.enterOuterAlt(e,1),this.state=455,this.fieldDef()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}declareStatement(){let e=new qO(this._ctx,this.state);this.enterRule(e,76,C.RULE_declareStatement);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=457,this.match(C.DECLARE),this.state=458,this.fieldDef(),this.state=465,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,40,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=460,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=459,this.match(C.COMMA)),this.state=462,this.fieldDef()),this.state=467,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,40,this._ctx);this.state=469,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=468,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}joinStatement(){let e=new y4(this._ctx,this.state);this.enterRule(e,78,C.RULE_joinStatement);try{switch(this.state=477,this._errHandler.sync(this),this._input.LA(1)){case C.JOIN_ONE:e=new bse(e),this.enterOuterAlt(e,1),this.state=471,this.match(C.JOIN_ONE),this.state=472,this.joinList();break;case C.JOIN_MANY:e=new Ese(e),this.enterOuterAlt(e,2),this.state=473,this.match(C.JOIN_MANY),this.state=474,this.joinList();break;case C.JOIN_CROSS:e=new Sse(e),this.enterOuterAlt(e,3),this.state=475,this.match(C.JOIN_CROSS),this.state=476,this.joinList();break;default:throw new Cc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}joinList(){let e=new Kw(this._ctx,this.state);this.enterRule(e,80,C.RULE_joinList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=479,this.joinDef(),this.state=486,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,44,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=481,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=480,this.match(C.COMMA)),this.state=483,this.joinDef()),this.state=488,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,44,this._ctx);this.state=490,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=489,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}joinDef(){let e=new lb(this._ctx,this.state);this.enterRule(e,82,C.RULE_joinDef);let t;try{switch(this.state=509,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,49,this._ctx)){case 1:e=new wse(e),this.enterOuterAlt(e,1),this.state=492,this.joinNameDef(),this.state=495,this._errHandler.sync(this),t=this._input.LA(1),t===C.IS&&(this.state=493,this.match(C.IS),this.state=494,this.explore()),this.state=497,this.match(C.WITH),this.state=498,this.fieldExpr(0);break;case 2:e=new Cse(e),this.enterOuterAlt(e,2),this.state=500,this.joinNameDef(),this.state=503,this._errHandler.sync(this),t=this._input.LA(1),t===C.IS&&(this.state=501,this.match(C.IS),this.state=502,this.explore()),this.state=507,this._errHandler.sync(this),t=this._input.LA(1),t===C.ON&&(this.state=505,this.match(C.ON),this.state=506,this.joinExpression());break}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}joinExpression(){let e=new c$(this._ctx,this.state);this.enterRule(e,84,C.RULE_joinExpression);try{this.enterOuterAlt(e,1),this.state=511,this.fieldExpr(0)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}filterStatement(){let e=new Ase(this._ctx,this.state);this.enterRule(e,86,C.RULE_filterStatement);try{switch(this.state=515,this._errHandler.sync(this),this._input.LA(1)){case C.WHERE:this.enterOuterAlt(e,1),this.state=513,this.whereStatement();break;case C.HAVING:this.enterOuterAlt(e,2),this.state=514,this.havingStatement();break;default:throw new Cc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}filteredBy(){let e=new Jw(this._ctx,this.state);this.enterRule(e,88,C.RULE_filteredBy);try{switch(this.state=520,this._errHandler.sync(this),this._input.LA(1)){case C.QMARK:e=new Tse(e),this.enterOuterAlt(e,1),this.state=517,this.match(C.QMARK),this.state=518,this.fieldExpr(0);break;case C.WHERE:e=new Fse(e),this.enterOuterAlt(e,2),this.state=519,this.whereStatement();break;default:throw new Cc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}filterClauseList(){let e=new UO(this._ctx,this.state);this.enterRule(e,90,C.RULE_filterClauseList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=522,this.fieldExpr(0),this.state=527,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,52,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=523,this.match(C.COMMA),this.state=524,this.fieldExpr(0)),this.state=529,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,52,this._ctx);this.state=531,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=530,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}whereStatement(){let e=new cb(this._ctx,this.state);this.enterRule(e,92,C.RULE_whereStatement);try{this.enterOuterAlt(e,1),this.state=533,this.match(C.WHERE),this.state=534,this.filterClauseList()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}havingStatement(){let e=new $O(this._ctx,this.state);this.enterRule(e,94,C.RULE_havingStatement);try{this.enterOuterAlt(e,1),this.state=536,this.match(C.HAVING),this.state=537,this.filterClauseList()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}subQueryDefList(){let e=new f$(this._ctx,this.state);this.enterRule(e,96,C.RULE_subQueryDefList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=539,this.exploreQueryDef(),this.state=546,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,55,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=541,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=540,this.match(C.COMMA)),this.state=543,this.exploreQueryDef()),this.state=548,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,55,this._ctx);this.state=550,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=549,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreQueryNameDef(){let e=new d$(this._ctx,this.state);this.enterRule(e,98,C.RULE_exploreQueryNameDef);try{this.enterOuterAlt(e,1),this.state=552,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreQueryDef(){let e=new zO(this._ctx,this.state);this.enterRule(e,100,C.RULE_exploreQueryDef);try{this.enterOuterAlt(e,1),this.state=554,this.exploreQueryNameDef(),this.state=555,this.match(C.IS),this.state=556,this.pipelineFromName()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryStatement(){let e=new HO(this._ctx,this.state);this.enterRule(e,102,C.RULE_queryStatement);try{switch(this.state=571,this._errHandler.sync(this),this._input.LA(1)){case C.GROUP_BY:this.enterOuterAlt(e,1),this.state=558,this.groupByStatement();break;case C.DECLARE:this.enterOuterAlt(e,2),this.state=559,this.declareStatement();break;case C.JOIN_CROSS:case C.JOIN_ONE:case C.JOIN_MANY:this.enterOuterAlt(e,3),this.state=560,this.joinStatement();break;case C.PROJECT:this.enterOuterAlt(e,4),this.state=561,this.projectStatement();break;case C.INDEX:this.enterOuterAlt(e,5),this.state=562,this.indexStatement();break;case C.AGGREGATE:this.enterOuterAlt(e,6),this.state=563,this.aggregateStatement();break;case C.TOP:this.enterOuterAlt(e,7),this.state=564,this.topStatement();break;case C.LIMIT:this.enterOuterAlt(e,8),this.state=565,this.limitStatement();break;case C.ORDER_BY:this.enterOuterAlt(e,9),this.state=566,this.orderByStatement();break;case C.WHERE:this.enterOuterAlt(e,10),this.state=567,this.whereStatement();break;case C.HAVING:this.enterOuterAlt(e,11),this.state=568,this.havingStatement();break;case C.NEST:this.enterOuterAlt(e,12),this.state=569,this.nestStatement();break;case C.SAMPLE:this.enterOuterAlt(e,13),this.state=570,this.sampleStatement();break;default:throw new Cc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}groupByStatement(){let e=new h$(this._ctx,this.state);this.enterRule(e,104,C.RULE_groupByStatement);try{this.enterOuterAlt(e,1),this.state=573,this.match(C.GROUP_BY),this.state=574,this.queryFieldList()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryFieldList(){let e=new VO(this._ctx,this.state);this.enterRule(e,106,C.RULE_queryFieldList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=576,this.queryFieldEntry(),this.state=583,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,59,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=578,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=577,this.match(C.COMMA)),this.state=580,this.queryFieldEntry()),this.state=585,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,59,this._ctx);this.state=587,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=586,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}dimensionDef(){let e=new Xw(this._ctx,this.state);this.enterRule(e,108,C.RULE_dimensionDef);try{this.enterOuterAlt(e,1),this.state=589,this.fieldDef()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryFieldEntry(){let e=new fb(this._ctx,this.state);this.enterRule(e,110,C.RULE_queryFieldEntry);try{switch(this.state=593,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,61,this._ctx)){case 1:e=new Dse(e),this.enterOuterAlt(e,1),this.state=591,this.fieldPath();break;case 2:e=new Ose(e),this.enterOuterAlt(e,2),this.state=592,this.dimensionDef();break}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}nestStatement(){let e=new p$(this._ctx,this.state);this.enterRule(e,112,C.RULE_nestStatement);try{this.enterOuterAlt(e,1),this.state=595,this.match(C.NEST),this.state=596,this.nestedQueryList()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}nestedQueryList(){let e=new m$(this._ctx,this.state);this.enterRule(e,114,C.RULE_nestedQueryList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=598,this.nestEntry(),this.state=605,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,63,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=600,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=599,this.match(C.COMMA)),this.state=602,this.nestEntry()),this.state=607,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,63,this._ctx);this.state=609,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=608,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}nestEntry(){let e=new db(this._ctx,this.state);this.enterRule(e,116,C.RULE_nestEntry);let t;try{switch(this.state=622,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,67,this._ctx)){case 1:e=new Rse(e),this.enterOuterAlt(e,1),this.state=611,this.queryName(),this.state=616,this._errHandler.sync(this),t=this._input.LA(1),(t===C.OCURLY||t===C.PLUS)&&(this.state=613,this._errHandler.sync(this),t=this._input.LA(1),t===C.PLUS&&(this.state=612,this.refineOperator()),this.state=615,this.queryProperties());break;case 2:e=new Nse(e),this.enterOuterAlt(e,2),this.state=618,this.queryName(),this.state=619,this.match(C.IS),this.state=620,this.pipelineFromName();break}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}aggregateStatement(){let e=new x$(this._ctx,this.state);this.enterRule(e,118,C.RULE_aggregateStatement);try{this.enterOuterAlt(e,1),this.state=624,this.match(C.AGGREGATE),this.state=625,this.queryFieldList()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}projectStatement(){let e=new g$(this._ctx,this.state);this.enterRule(e,120,C.RULE_projectStatement);try{this.enterOuterAlt(e,1),this.state=627,this.match(C.PROJECT),this.state=628,this.fieldCollection()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}orderByStatement(){let e=new y$(this._ctx,this.state);this.enterRule(e,122,C.RULE_orderByStatement);try{this.enterOuterAlt(e,1),this.state=630,this.match(C.ORDER_BY),this.state=631,this.ordering()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}ordering(){let e=new v$(this._ctx,this.state);this.enterRule(e,124,C.RULE_ordering);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=633,this.orderBySpec(),this.state=640,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,69,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=635,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=634,this.match(C.COMMA)),this.state=637,this.orderBySpec()),this.state=642,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,69,this._ctx);this.state=644,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=643,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}orderBySpec(){let e=new WO(this._ctx,this.state);this.enterRule(e,126,C.RULE_orderBySpec);let t;try{this.enterOuterAlt(e,1);{switch(this.state=648,this._errHandler.sync(this),this._input.LA(1)){case C.INTEGER_LITERAL:this.state=646,this.match(C.INTEGER_LITERAL);break;case C.IDENTIFIER:case C.OBJECT_NAME_LITERAL:this.state=647,this.fieldName();break;default:throw new Cc.NoViableAltException(this)}this.state=651,this._errHandler.sync(this),t=this._input.LA(1),(t===C.ASC||t===C.DESC)&&(this.state=650,t=this._input.LA(1),t===C.ASC||t===C.DESC?(this._input.LA(1)===Sf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}limitStatement(){let e=new _$(this._ctx,this.state);this.enterRule(e,128,C.RULE_limitStatement);try{this.enterOuterAlt(e,1),this.state=653,this.match(C.LIMIT),this.state=654,this.match(C.INTEGER_LITERAL)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}bySpec(){let e=new b$(this._ctx,this.state);this.enterRule(e,130,C.RULE_bySpec);try{switch(this.state=660,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,73,this._ctx)){case 1:this.enterOuterAlt(e,1),this.state=656,this.match(C.BY),this.state=657,this.fieldName();break;case 2:this.enterOuterAlt(e,2),this.state=658,this.match(C.BY),this.state=659,this.fieldExpr(0);break}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}topStatement(){let e=new E$(this._ctx,this.state);this.enterRule(e,132,C.RULE_topStatement);let t;try{this.enterOuterAlt(e,1),this.state=662,this.match(C.TOP),this.state=663,this.match(C.INTEGER_LITERAL),this.state=665,this._errHandler.sync(this),t=this._input.LA(1),t===C.BY&&(this.state=664,this.bySpec())}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}indexElement(){let e=new QO(this._ctx,this.state);this.enterRule(e,134,C.RULE_indexElement);let t;try{switch(this.state=673,this._errHandler.sync(this),this._input.LA(1)){case C.IDENTIFIER:case C.OBJECT_NAME_LITERAL:this.enterOuterAlt(e,1),this.state=667,this.fieldPath(),this.state=670,this._errHandler.sync(this),t=this._input.LA(1),t===C.DOT&&(this.state=668,this.match(C.DOT),this.state=669,this.match(C.STAR));break;case C.STAR:this.enterOuterAlt(e,2),this.state=672,this.match(C.STAR);break;default:throw new Cc.NoViableAltException(this)}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}indexFields(){let e=new S$(this._ctx,this.state);this.enterRule(e,136,C.RULE_indexFields);let t;try{for(this.enterOuterAlt(e,1),this.state=675,this.indexElement(),this.state=682,this._errHandler.sync(this),t=this._input.LA(1);(t-98&~31)===0&&(1<<t-98&(1<<C.COMMA-98|1<<C.STAR-98|1<<C.IDENTIFIER-98|1<<C.OBJECT_NAME_LITERAL-98))!==0;)this.state=677,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=676,this.match(C.COMMA)),this.state=679,this.indexElement(),this.state=684,this._errHandler.sync(this),t=this._input.LA(1)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}indexStatement(){let e=new w$(this._ctx,this.state);this.enterRule(e,138,C.RULE_indexStatement);let t;try{this.enterOuterAlt(e,1),this.state=685,this.match(C.INDEX),this.state=686,this.indexFields(),this.state=689,this._errHandler.sync(this),t=this._input.LA(1),t===C.BY&&(this.state=687,this.match(C.BY),this.state=688,this.fieldName())}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}sampleStatement(){let e=new C$(this._ctx,this.state);this.enterRule(e,140,C.RULE_sampleStatement);try{this.enterOuterAlt(e,1),this.state=691,this.match(C.SAMPLE),this.state=692,this.sampleSpec()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sampleSpec(){let e=new A$(this._ctx,this.state);this.enterRule(e,142,C.RULE_sampleSpec);let t;try{this.enterOuterAlt(e,1),this.state=694,t=this._input.LA(1),t===C.FALSE||t===C.TRUE||t===C.PERCENT_LITERAL||t===C.INTEGER_LITERAL?(this._input.LA(1)===Sf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}aggregate(){let e=new T$(this._ctx,this.state);this.enterRule(e,144,C.RULE_aggregate);let t;try{this.enterOuterAlt(e,1),this.state=696,t=this._input.LA(1),(t-32&~31)===0&&(1<<t-32&(1<<C.AVG-32|1<<C.COUNT-32|1<<C.MAX-32|1<<C.MIN-32))!==0||t===C.SUM?(this._input.LA(1)===Sf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}malloyType(){let e=new GO(this._ctx,this.state);this.enterRule(e,146,C.RULE_malloyType);let t;try{this.enterOuterAlt(e,1),this.state=698,t=this._input.LA(1),(t-33&~31)===0&&(1<<t-33&(1<<C.BOOLEAN-33|1<<C.DATE-33|1<<C.NUMBER-33))!==0||t===C.STRING||t===C.TIMESTAMP?(this._input.LA(1)===Sf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}compareOp(){let e=new YO(this._ctx,this.state);this.enterRule(e,148,C.RULE_compareOp);let t;try{this.enterOuterAlt(e,1),this.state=700,t=this._input.LA(1),(t-100&~31)===0&&(1<<t-100&(1<<C.LT-100|1<<C.GT-100|1<<C.EQ-100|1<<C.NE-100|1<<C.LTE-100|1<<C.GTE-100|1<<C.NOT_MATCH-100|1<<C.MATCH-100))!==0?(this._input.LA(1)===Sf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}literal(){let e=new Im(this._ctx,this.state);this.enterRule(e,150,C.RULE_literal);let t;try{switch(this.state=709,this._errHandler.sync(this),this._input.LA(1)){case C.STRING_LITERAL:e=new Lse(e),this.enterOuterAlt(e,1),this.state=702,this.match(C.STRING_LITERAL);break;case C.INTEGER_LITERAL:case C.NUMERIC_LITERAL:e=new kse(e),this.enterOuterAlt(e,2),this.state=703,t=this._input.LA(1),t===C.INTEGER_LITERAL||t===C.NUMERIC_LITERAL?(this._input.LA(1)===Sf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this);break;case C.LITERAL_TIMESTAMP:case C.LITERAL_DAY:case C.LITERAL_QUARTER:case C.LITERAL_MONTH:case C.LITERAL_WEEK:case C.LITERAL_YEAR:e=new Ise(e),this.enterOuterAlt(e,3),this.state=704,this.dateLiteral();break;case C.NULL:e=new Mse(e),this.enterOuterAlt(e,4),this.state=705,this.match(C.NULL);break;case C.FALSE:case C.TRUE:e=new Pse(e),this.enterOuterAlt(e,5),this.state=706,t=this._input.LA(1),t===C.FALSE||t===C.TRUE?(this._input.LA(1)===Sf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this);break;case C.HACKY_REGEX:e=new Bse(e),this.enterOuterAlt(e,6),this.state=707,this.match(C.HACKY_REGEX);break;case C.NOW:e=new jse(e),this.enterOuterAlt(e,7),this.state=708,this.match(C.NOW);break;default:throw new Cc.NoViableAltException(this)}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}dateLiteral(){let e=new Tx(this._ctx,this.state);this.enterRule(e,152,C.RULE_dateLiteral);try{switch(this.state=717,this._errHandler.sync(this),this._input.LA(1)){case C.LITERAL_TIMESTAMP:e=new qse(e),this.enterOuterAlt(e,1),this.state=711,this.match(C.LITERAL_TIMESTAMP);break;case C.LITERAL_DAY:e=new Use(e),this.enterOuterAlt(e,2),this.state=712,this.match(C.LITERAL_DAY);break;case C.LITERAL_WEEK:e=new $se(e),this.enterOuterAlt(e,3),this.state=713,this.match(C.LITERAL_WEEK);break;case C.LITERAL_MONTH:e=new zse(e),this.enterOuterAlt(e,4),this.state=714,this.match(C.LITERAL_MONTH);break;case C.LITERAL_QUARTER:e=new Hse(e),this.enterOuterAlt(e,5),this.state=715,this.match(C.LITERAL_QUARTER);break;case C.LITERAL_YEAR:e=new Vse(e),this.enterOuterAlt(e,6),this.state=716,this.match(C.LITERAL_YEAR);break;default:throw new Cc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}tableName(){let e=new F$(this._ctx,this.state);this.enterRule(e,154,C.RULE_tableName);try{this.enterOuterAlt(e,1),this.state=719,this.match(C.STRING_LITERAL)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}id(){let e=new Fd(this._ctx,this.state);this.enterRule(e,156,C.RULE_id);let t;try{this.enterOuterAlt(e,1),this.state=721,t=this._input.LA(1),t===C.IDENTIFIER||t===C.OBJECT_NAME_LITERAL?(this._input.LA(1)===Sf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}timeframe(){let e=new hb(this._ctx,this.state);this.enterRule(e,158,C.RULE_timeframe);let t;try{this.enterOuterAlt(e,1),this.state=723,t=this._input.LA(1),(t-40&~31)===0&&(1<<t-40&(1<<C.DAY-40|1<<C.HOUR-40|1<<C.MINUTE-40|1<<C.MONTH-40|1<<C.QUARTER-40|1<<C.SECOND-40))!==0||t===C.WEEK||t===C.YEAR?(this._input.LA(1)===Sf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}ungroup(){let e=new D$(this._ctx,this.state);this.enterRule(e,160,C.RULE_ungroup);let t;try{this.enterOuterAlt(e,1),this.state=725,t=this._input.LA(1),t===C.ALL||t===C.EXCLUDE?(this._input.LA(1)===Sf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldExpr(e){e===void 0&&(e=0);let t=this._ctx,r=this.state,i=new Ci(this._ctx,r),s=i,o=162;this.enterRecursionRule(i,162,C.RULE_fieldExpr,e);let a;try{let l;this.enterOuterAlt(i,1);{switch(this.state=787,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,87,this._ctx)){case 1:i=new Wse(i),this._ctx=i,s=i,this.state=728,this.fieldPath();break;case 2:i=new Gse(i),this._ctx=i,s=i,this.state=729,this.literal();break;case 3:i=new Yse(i),this._ctx=i,s=i,this.state=730,this.match(C.MINUS),this.state=731,this.fieldExpr(20);break;case 4:i=new ooe(i),this._ctx=i,s=i,this.state=732,this.match(C.NOT),this.state=733,this.fieldExpr(9);break;case 5:i=new uoe(i),this._ctx=i,s=i,this.state=734,this.match(C.CAST),this.state=735,this.match(C.OPAREN),this.state=736,this.fieldExpr(0),this.state=737,this.match(C.AS),this.state=738,this.malloyType(),this.state=739,this.match(C.CPAREN);break;case 6:i=new loe(i),this._ctx=i,s=i,this.state=741,this.match(C.COUNT),this.state=742,this.match(C.OPAREN),this.state=743,this.match(C.DISTINCT),this.state=744,this.fieldExpr(0),this.state=745,this.match(C.CPAREN);break;case 7:{switch(i=new coe(i),this._ctx=i,s=i,this.state=750,this._errHandler.sync(this),a=this._input.LA(1),(a===C.IDENTIFIER||a===C.OBJECT_NAME_LITERAL)&&(this.state=747,this.fieldPath(),this.state=748,this.match(C.DOT)),this.state=752,this.aggregate(),this.state=753,this.match(C.OPAREN),this.state=756,this._errHandler.sync(this),this._input.LA(1)){case C.ALL:case C.AVG:case C.CAST:case C.COUNT:case C.DAY:case C.EXCLUDE:case C.FALSE:case C.HOUR:case C.MAX:case C.MIN:case C.MINUTE:case C.MONTH:case C.NOT:case C.NOW:case C.NULL:case C.PICK:case C.QUARTER:case C.SECOND:case C.SUM:case C.TRUE:case C.WEEK:case C.YEAR:case C.HACKY_REGEX:case C.STRING_LITERAL:case C.OPAREN:case C.MINUS:case C.LITERAL_TIMESTAMP:case C.LITERAL_DAY:case C.LITERAL_QUARTER:case C.LITERAL_MONTH:case C.LITERAL_WEEK:case C.LITERAL_YEAR:case C.IDENTIFIER:case C.INTEGER_LITERAL:case C.NUMERIC_LITERAL:case C.OBJECT_NAME_LITERAL:this.state=754,this.fieldExpr(0);break;case C.STAR:this.state=755,this.match(C.STAR);break;case C.CPAREN:break;default:break}this.state=758,this.match(C.CPAREN)}break;case 8:i=new foe(i),this._ctx=i,s=i,this.state=760,this.match(C.OPAREN),this.state=761,this.partialAllowedFieldExpr(),this.state=762,this.match(C.CPAREN);break;case 9:{switch(i=new doe(i),this._ctx=i,s=i,this.state=766,this._errHandler.sync(this),this._input.LA(1)){case C.IDENTIFIER:case C.OBJECT_NAME_LITERAL:this.state=764,this.id();break;case C.DAY:case C.HOUR:case C.MINUTE:case C.MONTH:case C.QUARTER:case C.SECOND:case C.WEEK:case C.YEAR:this.state=765,this.timeframe();break;default:throw new Cc.NoViableAltException(this)}this.state=768,this.match(C.OPAREN),this.state=770,this._errHandler.sync(this),a=this._input.LA(1),((a-28&~31)===0&&(1<<a-28&(1<<C.ALL-28|1<<C.AVG-28|1<<C.CAST-28|1<<C.COUNT-28|1<<C.DAY-28|1<<C.EXCLUDE-28|1<<C.FALSE-28|1<<C.HOUR-28|1<<C.MAX-28|1<<C.MIN-28|1<<C.MINUTE-28|1<<C.MONTH-28))!==0||(a-60&~31)===0&&(1<<a-60&(1<<C.NOT-60|1<<C.NOW-60|1<<C.NULL-60|1<<C.PICK-60|1<<C.QUARTER-60|1<<C.SECOND-60|1<<C.SUM-60|1<<C.TRUE-60|1<<C.WEEK-60|1<<C.YEAR-60|1<<C.HACKY_REGEX-60|1<<C.STRING_LITERAL-60|1<<C.OPAREN-60))!==0||(a-107&~31)===0&&(1<<a-107&(1<<C.MINUS-107|1<<C.LITERAL_TIMESTAMP-107|1<<C.LITERAL_DAY-107|1<<C.LITERAL_QUARTER-107|1<<C.LITERAL_MONTH-107|1<<C.LITERAL_WEEK-107|1<<C.LITERAL_YEAR-107|1<<C.IDENTIFIER-107|1<<C.INTEGER_LITERAL-107|1<<C.NUMERIC_LITERAL-107|1<<C.OBJECT_NAME_LITERAL-107))!==0)&&(this.state=769,this.argumentList()),this.state=772,this.match(C.CPAREN)}break;case 10:i=new hoe(i),this._ctx=i,s=i,this.state=774,this.pickStatement();break;case 11:{for(i=new poe(i),this._ctx=i,s=i,this.state=775,this.ungroup(),this.state=776,this.match(C.OPAREN),this.state=777,this.fieldExpr(0),this.state=782,this._errHandler.sync(this),a=this._input.LA(1);a===C.COMMA;)this.state=778,this.match(C.COMMA),this.state=779,this.fieldName(),this.state=784,this._errHandler.sync(this),a=this._input.LA(1);this.state=785,this.match(C.CPAREN)}break}for(this._ctx._stop=this._input.tryLT(-1),this.state=831,this._errHandler.sync(this),l=this.interpreter.adaptivePredict(this._input,89,this._ctx);l!==2&&l!==n0.ATN.INVALID_ALT_NUMBER;){if(l===1)switch(this._parseListeners!=null&&this.triggerExitRuleEvent(),s=i,this.state=829,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,88,this._ctx)){case 1:{if(i=new Zse(new Ci(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=789,!this.precpred(this._ctx,16))throw this.createFailedPredicateException("this.precpred(this._ctx, 16)");this.state=790,a=this._input.LA(1),a===C.STAR||a===C.SLASH?(this._input.LA(1)===Sf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=791,this.fieldExpr(17)}break;case 2:{if(i=new eoe(new Ci(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=792,!this.precpred(this._ctx,15))throw this.createFailedPredicateException("this.precpred(this._ctx, 15)");this.state=793,a=this._input.LA(1),a===C.PLUS||a===C.MINUS?(this._input.LA(1)===Sf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=794,this.fieldExpr(16)}break;case 3:{if(i=new toe(new Ci(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=795,!this.precpred(this._ctx,14))throw this.createFailedPredicateException("this.precpred(this._ctx, 14)");this.state=796,this.match(C.TO),this.state=797,this.fieldExpr(15)}break;case 4:{if(i=new ioe(new Ci(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=798,!this.precpred(this._ctx,11))throw this.createFailedPredicateException("this.precpred(this._ctx, 11)");this.state=799,this.compareOp(),this.state=800,this.fieldExpr(12)}break;case 5:{if(i=new aoe(new Ci(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=802,!this.precpred(this._ctx,8))throw this.createFailedPredicateException("this.precpred(this._ctx, 8)");this.state=803,a=this._input.LA(1),a===C.AND||a===C.OR?(this._input.LA(1)===Sf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=804,this.fieldExpr(9)}break;case 6:{if(i=new Qse(new Ci(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=805,!this.precpred(this._ctx,22))throw this.createFailedPredicateException("this.precpred(this._ctx, 22)");this.state=806,this.match(C.OCURLY),this.state=807,this.filteredBy(),this.state=808,this.match(C.CCURLY)}break;case 7:{if(i=new Kse(new Ci(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=810,!this.precpred(this._ctx,19))throw this.createFailedPredicateException("this.precpred(this._ctx, 19)");this.state=811,this.timeframe()}break;case 8:{if(i=new Jse(new Ci(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=812,!this.precpred(this._ctx,18))throw this.createFailedPredicateException("this.precpred(this._ctx, 18)");this.state=813,this.match(C.DOT),this.state=814,this.timeframe()}break;case 9:{if(i=new Xse(new Ci(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=815,!this.precpred(this._ctx,17))throw this.createFailedPredicateException("this.precpred(this._ctx, 17)");this.state=816,this.match(C.DOUBLECOLON),this.state=817,this.malloyType()}break;case 10:{if(i=new noe(new Ci(t,r)),i._startAt=s,this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=818,!this.precpred(this._ctx,13))throw this.createFailedPredicateException("this.precpred(this._ctx, 13)");this.state=819,this.match(C.FOR),this.state=820,i._duration=this.fieldExpr(0),this.state=821,this.timeframe()}break;case 11:{if(i=new roe(new Ci(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=823,!this.precpred(this._ctx,12))throw this.createFailedPredicateException("this.precpred(this._ctx, 12)");this.state=824,a=this._input.LA(1),a===C.AMPER||a===C.BAR?(this._input.LA(1)===Sf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=825,this.partialAllowedFieldExpr()}break;case 12:{if(i=new soe(new Ci(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=826,!this.precpred(this._ctx,10))throw this.createFailedPredicateException("this.precpred(this._ctx, 10)");this.state=827,a=this._input.LA(1),a===C.QMARK||a===C.COLON?(this._input.LA(1)===Sf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=828,this.partialAllowedFieldExpr()}break}this.state=833,this._errHandler.sync(this),l=this.interpreter.adaptivePredict(this._input,89,this._ctx)}}}catch(l){if(l instanceof Hr.RecognitionException)i.exception=l,this._errHandler.reportError(this,l),this._errHandler.recover(this,l);else throw l}finally{this.unrollRecursionContexts(t)}return i}partialAllowedFieldExpr(){let e=new wy(this._ctx,this.state);this.enterRule(e,164,C.RULE_partialAllowedFieldExpr);try{switch(this.state=838,this._errHandler.sync(this),this._input.LA(1)){case C.LT:case C.GT:case C.EQ:case C.NE:case C.LTE:case C.GTE:case C.NOT_MATCH:case C.MATCH:e=new moe(e),this.enterOuterAlt(e,1),this.state=834,this.compareOp(),this.state=835,this.fieldExpr(0);break;case C.ALL:case C.AVG:case C.CAST:case C.COUNT:case C.DAY:case C.EXCLUDE:case C.FALSE:case C.HOUR:case C.MAX:case C.MIN:case C.MINUTE:case C.MONTH:case C.NOT:case C.NOW:case C.NULL:case C.PICK:case C.QUARTER:case C.SECOND:case C.SUM:case C.TRUE:case C.WEEK:case C.YEAR:case C.HACKY_REGEX:case C.STRING_LITERAL:case C.OPAREN:case C.MINUS:case C.LITERAL_TIMESTAMP:case C.LITERAL_DAY:case C.LITERAL_QUARTER:case C.LITERAL_MONTH:case C.LITERAL_WEEK:case C.LITERAL_YEAR:case C.IDENTIFIER:case C.INTEGER_LITERAL:case C.NUMERIC_LITERAL:case C.OBJECT_NAME_LITERAL:e=new xoe(e),this.enterOuterAlt(e,2),this.state=837,this.fieldExpr(0);break;default:throw new Cc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}pickStatement(){let e=new O$(this._ctx,this.state);this.enterRule(e,166,C.RULE_pickStatement);try{let t;this.enterOuterAlt(e,1);{this.state=841,this._errHandler.sync(this),t=1;do{switch(t){case 1:this.state=840,this.pick();break;default:throw new Cc.NoViableAltException(this)}this.state=843,this._errHandler.sync(this),t=this.interpreter.adaptivePredict(this._input,91,this._ctx)}while(t!==2&&t!==n0.ATN.INVALID_ALT_NUMBER);switch(this.state=847,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,92,this._ctx)){case 1:this.state=845,this.match(C.ELSE),this.state=846,e._pickElse=this.fieldExpr(0);break}}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}pick(){let e=new KO(this._ctx,this.state);this.enterRule(e,168,C.RULE_pick);let t;try{this.enterOuterAlt(e,1),this.state=849,this.match(C.PICK),this.state=851,this._errHandler.sync(this),t=this._input.LA(1),((t-28&~31)===0&&(1<<t-28&(1<<C.ALL-28|1<<C.AVG-28|1<<C.CAST-28|1<<C.COUNT-28|1<<C.DAY-28|1<<C.EXCLUDE-28|1<<C.FALSE-28|1<<C.HOUR-28|1<<C.MAX-28|1<<C.MIN-28|1<<C.MINUTE-28|1<<C.MONTH-28))!==0||(t-60&~31)===0&&(1<<t-60&(1<<C.NOT-60|1<<C.NOW-60|1<<C.NULL-60|1<<C.PICK-60|1<<C.QUARTER-60|1<<C.SECOND-60|1<<C.SUM-60|1<<C.TRUE-60|1<<C.WEEK-60|1<<C.YEAR-60|1<<C.HACKY_REGEX-60|1<<C.STRING_LITERAL-60|1<<C.OPAREN-60))!==0||(t-107&~31)===0&&(1<<t-107&(1<<C.MINUS-107|1<<C.LITERAL_TIMESTAMP-107|1<<C.LITERAL_DAY-107|1<<C.LITERAL_QUARTER-107|1<<C.LITERAL_MONTH-107|1<<C.LITERAL_WEEK-107|1<<C.LITERAL_YEAR-107|1<<C.IDENTIFIER-107|1<<C.INTEGER_LITERAL-107|1<<C.NUMERIC_LITERAL-107|1<<C.OBJECT_NAME_LITERAL-107))!==0)&&(this.state=850,e._pickValue=this.fieldExpr(0)),this.state=853,this.match(C.WHEN),this.state=854,e._pickWhen=this.partialAllowedFieldExpr()}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}argumentList(){let e=new R$(this._ctx,this.state);this.enterRule(e,170,C.RULE_argumentList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=856,this.fieldExpr(0),this.state=861,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,94,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=857,this.match(C.COMMA),this.state=858,this.fieldExpr(0)),this.state=863,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,94,this._ctx);this.state=865,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=864,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldNameList(){let e=new N$(this._ctx,this.state);this.enterRule(e,172,C.RULE_fieldNameList);let t;try{for(this.enterOuterAlt(e,1),this.state=867,this.fieldName(),this.state=874,this._errHandler.sync(this),t=this._input.LA(1);(t-98&~31)===0&&(1<<t-98&(1<<C.COMMA-98|1<<C.IDENTIFIER-98|1<<C.OBJECT_NAME_LITERAL-98))!==0;)this.state=869,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=868,this.match(C.COMMA)),this.state=871,this.fieldName(),this.state=876,this._errHandler.sync(this),t=this._input.LA(1)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldCollection(){let e=new L$(this._ctx,this.state);this.enterRule(e,174,C.RULE_fieldCollection);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=877,this.collectionMember(),this.state=884,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,99,this._ctx);r!==2&&r!==n0.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=879,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=878,this.match(C.COMMA)),this.state=881,this.collectionMember()),this.state=886,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,99,this._ctx);this.state=888,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=887,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}collectionMember(){let e=new v4(this._ctx,this.state);this.enterRule(e,176,C.RULE_collectionMember);let t;try{switch(this.state=898,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,102,this._ctx)){case 1:e=new goe(e),this.enterOuterAlt(e,1),this.state=890,this.fieldPath();break;case 2:e=new yoe(e),this.enterOuterAlt(e,2),this.state=894,this._errHandler.sync(this),t=this._input.LA(1),(t===C.IDENTIFIER||t===C.OBJECT_NAME_LITERAL)&&(this.state=891,this.fieldPath(),this.state=892,this.match(C.DOT)),this.state=896,t=this._input.LA(1),t===C.STAR||t===C.STARSTAR?(this._input.LA(1)===Sf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this);break;case 3:e=new voe(e),this.enterOuterAlt(e,3),this.state=897,this.fieldDef();break}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldPath(){let e=new Cy(this._ctx,this.state);this.enterRule(e,178,C.RULE_fieldPath);try{let t;for(this.enterOuterAlt(e,1),this.state=900,this.fieldName(),this.state=905,this._errHandler.sync(this),t=this.interpreter.adaptivePredict(this._input,103,this._ctx);t!==2&&t!==n0.ATN.INVALID_ALT_NUMBER;)t===1&&(this.state=901,this.match(C.DOT),this.state=902,this.fieldName()),this.state=907,this._errHandler.sync(this),t=this.interpreter.adaptivePredict(this._input,103,this._ctx)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}joinName(){let e=new _oe(this._ctx,this.state);this.enterRule(e,180,C.RULE_joinName);try{this.enterOuterAlt(e,1),this.state=908,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}fieldName(){let e=new Dd(this._ctx,this.state);this.enterRule(e,182,C.RULE_fieldName);try{this.enterOuterAlt(e,1),this.state=910,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}justExpr(){let e=new boe(this._ctx,this.state);this.enterRule(e,184,C.RULE_justExpr);try{this.enterOuterAlt(e,1),this.state=912,this.fieldExpr(0),this.state=913,this.match(C.EOF)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}json(){let e=new Eoe(this._ctx,this.state);this.enterRule(e,186,C.RULE_json);try{this.enterOuterAlt(e,1),this.state=915,this.jsonValue()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}jsonValue(){let e=new pb(this._ctx,this.state);this.enterRule(e,188,C.RULE_jsonValue);try{switch(this.state=925,this._errHandler.sync(this),this._input.LA(1)){case C.JSON_STRING:this.enterOuterAlt(e,1),this.state=917,this.match(C.JSON_STRING);break;case C.INTEGER_LITERAL:this.enterOuterAlt(e,2),this.state=918,this.match(C.INTEGER_LITERAL);break;case C.NUMERIC_LITERAL:this.enterOuterAlt(e,3),this.state=919,this.match(C.NUMERIC_LITERAL);break;case C.OCURLY:this.enterOuterAlt(e,4),this.state=920,this.jsonObject();break;case C.OBRACK:this.enterOuterAlt(e,5),this.state=921,this.jsonArray();break;case C.TRUE:this.enterOuterAlt(e,6),this.state=922,this.match(C.TRUE);break;case C.FALSE:this.enterOuterAlt(e,7),this.state=923,this.match(C.FALSE);break;case C.NULL:this.enterOuterAlt(e,8),this.state=924,this.match(C.NULL);break;default:throw new Cc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}jsonObject(){let e=new k$(this._ctx,this.state);this.enterRule(e,190,C.RULE_jsonObject);let t;try{switch(this.state=940,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,106,this._ctx)){case 1:this.enterOuterAlt(e,1);{for(this.state=927,this.match(C.OCURLY),this.state=928,this.jsonProperty(),this.state=933,this._errHandler.sync(this),t=this._input.LA(1);t===C.COMMA;)this.state=929,this.match(C.COMMA),this.state=930,this.jsonProperty(),this.state=935,this._errHandler.sync(this),t=this._input.LA(1);this.state=936,this.match(C.CCURLY)}break;case 2:this.enterOuterAlt(e,2),this.state=938,this.match(C.OCURLY),this.state=939,this.match(C.CCURLY);break}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}jsonProperty(){let e=new JO(this._ctx,this.state);this.enterRule(e,192,C.RULE_jsonProperty);try{this.enterOuterAlt(e,1),this.state=942,this.match(C.JSON_STRING),this.state=943,this.match(C.COLON),this.state=944,this.jsonValue()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}jsonArray(){let e=new I$(this._ctx,this.state);this.enterRule(e,194,C.RULE_jsonArray);let t;try{switch(this.state=959,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,108,this._ctx)){case 1:this.enterOuterAlt(e,1);{for(this.state=946,this.match(C.OBRACK),this.state=947,this.jsonValue(),this.state=952,this._errHandler.sync(this),t=this._input.LA(1);t===C.COMMA;)this.state=948,this.match(C.COMMA),this.state=949,this.jsonValue(),this.state=954,this._errHandler.sync(this),t=this._input.LA(1);this.state=955,this.match(C.CBRACK)}break;case 2:this.enterOuterAlt(e,2),this.state=957,this.match(C.OBRACK),this.state=958,this.match(C.CBRACK);break}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}sqlExploreNameRef(){let e=new M$(this._ctx,this.state);this.enterRule(e,196,C.RULE_sqlExploreNameRef);try{this.enterOuterAlt(e,1),this.state=961,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sqlCommandNameDef(){let e=new P$(this._ctx,this.state);this.enterRule(e,198,C.RULE_sqlCommandNameDef);try{this.enterOuterAlt(e,1),this.state=963,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}connectionName(){let e=new B$(this._ctx,this.state);this.enterRule(e,200,C.RULE_connectionName);try{this.enterOuterAlt(e,1),this.state=965,this.match(C.JSON_STRING)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sempred(e,t,r){switch(t){case 81:return this.fieldExpr_sempred(e,r)}return!0}fieldExpr_sempred(e,t){switch(t){case 0:return this.precpred(this._ctx,16);case 1:return this.precpred(this._ctx,15);case 2:return this.precpred(this._ctx,14);case 3:return this.precpred(this._ctx,11);case 4:return this.precpred(this._ctx,8);case 5:return this.precpred(this._ctx,22);case 6:return this.precpred(this._ctx,19);case 7:return this.precpred(this._ctx,18);case 8:return this.precpred(this._ctx,17);case 9:return this.precpred(this._ctx,13);case 10:return this.precpred(this._ctx,12);case 11:return this.precpred(this._ctx,10)}return!0}static get _ATN(){return C.__ATN||(C.__ATN=new P0t.ATNDeserializer().deserialize(I8e.toCharArray(C._serializedATN))),C.__ATN}};jt.MalloyParser=C;C.JSON_STRING=1;C.ACCEPT=2;C.AGGREGATE=3;C.DECLARE=4;C.DIMENSION=5;C.EXCEPT=6;C.EXPLORE=7;C.GROUP_BY=8;C.HAVING=9;C.INDEX=10;C.JOIN_CROSS=11;C.JOIN_ONE=12;C.JOIN_MANY=13;C.LIMIT=14;C.MEASURE=15;C.NEST=16;C.ORDER_BY=17;C.PRIMARY_KEY=18;C.PROJECT=19;C.QUERY=20;C.RENAME=21;C.SAMPLE=22;C.SOURCE=23;C.SQL=24;C.FANCYSQL=25;C.TOP=26;C.WHERE=27;C.ALL=28;C.AND=29;C.AS=30;C.ASC=31;C.AVG=32;C.BOOLEAN=33;C.BY=34;C.CASE=35;C.CAST=36;C.CONDITION=37;C.COUNT=38;C.DATE=39;C.DAY=40;C.DESC=41;C.DISTINCT=42;C.ELSE=43;C.END=44;C.EXCLUDE=45;C.FALSE=46;C.FOR=47;C.FROM=48;C.FROM_SQL=49;C.HAS=50;C.HOUR=51;C.IMPORT=52;C.IS=53;C.JSON=54;C.LAST=55;C.MAX=56;C.MIN=57;C.MINUTE=58;C.MONTH=59;C.NOT=60;C.NOW=61;C.NULL=62;C.NUMBER=63;C.ON=64;C.OR=65;C.PICK=66;C.QMARK=67;C.QUARTER=68;C.SECOND=69;C.STRING=70;C.SUM=71;C.TABLE=72;C.THEN=73;C.THIS=74;C.TIMESTAMP=75;C.TO=76;C.TRUE=77;C.TURTLE=78;C.WEEK=79;C.WHEN=80;C.WITH=81;C.YEAR=82;C.UNGROUPED=83;C.STRING_ESCAPE=84;C.HACKY_REGEX=85;C.STRING_LITERAL=86;C.AMPER=87;C.ARROW=88;C.FAT_ARROW=89;C.OPAREN=90;C.CPAREN=91;C.OBRACK=92;C.CBRACK=93;C.OCURLY=94;C.CCURLY=95;C.DOUBLECOLON=96;C.COLON=97;C.COMMA=98;C.DOT=99;C.LT=100;C.GT=101;C.EQ=102;C.NE=103;C.LTE=104;C.GTE=105;C.PLUS=106;C.MINUS=107;C.STAR=108;C.STARSTAR=109;C.SLASH=110;C.BAR=111;C.SEMI=112;C.NOT_MATCH=113;C.MATCH=114;C.LITERAL_TIMESTAMP=115;C.LITERAL_DAY=116;C.LITERAL_QUARTER=117;C.LITERAL_MONTH=118;C.LITERAL_WEEK=119;C.LITERAL_YEAR=120;C.IDENTIFIER=121;C.PERCENT_LITERAL=122;C.INTEGER_LITERAL=123;C.NUMERIC_LITERAL=124;C.OBJECT_NAME_LITERAL=125;C.BLOCK_COMMENT=126;C.COMMENT_TO_EOL=127;C.WHITE_SPACE=128;C.SQL_STRING=129;C.UNWATED_CHARS_TRAILING_NUMBERS=130;C.UNEXPECTED_CHAR=131;C.RULE_malloyDocument=0;C.RULE_malloyStatement=1;C.RULE_defineExploreStatement=2;C.RULE_exploreKeyword=3;C.RULE_defineQuery=4;C.RULE_topLevelAnonQueryDef=5;C.RULE_defineSQLStatement=6;C.RULE_sqlStatementDef=7;C.RULE_importStatement=8;C.RULE_importURL=9;C.RULE_topLevelQueryDefs=10;C.RULE_topLevelQueryDef=11;C.RULE_refineOperator=12;C.RULE_query=13;C.RULE_pipelineFromName=14;C.RULE_firstSegment=15;C.RULE_pipeElement=16;C.RULE_exploreTable=17;C.RULE_queryProperties=18;C.RULE_filterShortcut=19;C.RULE_exploreQueryName=20;C.RULE_queryName=21;C.RULE_exploreDefinitionList=22;C.RULE_exploreDefinition=23;C.RULE_explore=24;C.RULE_exploreSource=25;C.RULE_exploreNameDef=26;C.RULE_exploreName=27;C.RULE_exploreProperties=28;C.RULE_exploreStatement=29;C.RULE_renameList=30;C.RULE_exploreRenameDef=31;C.RULE_dimensionDefList=32;C.RULE_measureDefList=33;C.RULE_fieldDef=34;C.RULE_fieldNameDef=35;C.RULE_joinNameDef=36;C.RULE_measureDef=37;C.RULE_declareStatement=38;C.RULE_joinStatement=39;C.RULE_joinList=40;C.RULE_joinDef=41;C.RULE_joinExpression=42;C.RULE_filterStatement=43;C.RULE_filteredBy=44;C.RULE_filterClauseList=45;C.RULE_whereStatement=46;C.RULE_havingStatement=47;C.RULE_subQueryDefList=48;C.RULE_exploreQueryNameDef=49;C.RULE_exploreQueryDef=50;C.RULE_queryStatement=51;C.RULE_groupByStatement=52;C.RULE_queryFieldList=53;C.RULE_dimensionDef=54;C.RULE_queryFieldEntry=55;C.RULE_nestStatement=56;C.RULE_nestedQueryList=57;C.RULE_nestEntry=58;C.RULE_aggregateStatement=59;C.RULE_projectStatement=60;C.RULE_orderByStatement=61;C.RULE_ordering=62;C.RULE_orderBySpec=63;C.RULE_limitStatement=64;C.RULE_bySpec=65;C.RULE_topStatement=66;C.RULE_indexElement=67;C.RULE_indexFields=68;C.RULE_indexStatement=69;C.RULE_sampleStatement=70;C.RULE_sampleSpec=71;C.RULE_aggregate=72;C.RULE_malloyType=73;C.RULE_compareOp=74;C.RULE_literal=75;C.RULE_dateLiteral=76;C.RULE_tableName=77;C.RULE_id=78;C.RULE_timeframe=79;C.RULE_ungroup=80;C.RULE_fieldExpr=81;C.RULE_partialAllowedFieldExpr=82;C.RULE_pickStatement=83;C.RULE_pick=84;C.RULE_argumentList=85;C.RULE_fieldNameList=86;C.RULE_fieldCollection=87;C.RULE_collectionMember=88;C.RULE_fieldPath=89;C.RULE_joinName=90;C.RULE_fieldName=91;C.RULE_justExpr=92;C.RULE_json=93;C.RULE_jsonValue=94;C.RULE_jsonObject=95;C.RULE_jsonProperty=96;C.RULE_jsonArray=97;C.RULE_sqlExploreNameRef=98;C.RULE_sqlCommandNameDef=99;C.RULE_connectionName=100;C.ruleNames=["malloyDocument","malloyStatement","defineExploreStatement","exploreKeyword","defineQuery","topLevelAnonQueryDef","defineSQLStatement","sqlStatementDef","importStatement","importURL","topLevelQueryDefs","topLevelQueryDef","refineOperator","query","pipelineFromName","firstSegment","pipeElement","exploreTable","queryProperties","filterShortcut","exploreQueryName","queryName","exploreDefinitionList","exploreDefinition","explore","exploreSource","exploreNameDef","exploreName","exploreProperties","exploreStatement","renameList","exploreRenameDef","dimensionDefList","measureDefList","fieldDef","fieldNameDef","joinNameDef","measureDef","declareStatement","joinStatement","joinList","joinDef","joinExpression","filterStatement","filteredBy","filterClauseList","whereStatement","havingStatement","subQueryDefList","exploreQueryNameDef","exploreQueryDef","queryStatement","groupByStatement","queryFieldList","dimensionDef","queryFieldEntry","nestStatement","nestedQueryList","nestEntry","aggregateStatement","projectStatement","orderByStatement","ordering","orderBySpec","limitStatement","bySpec","topStatement","indexElement","indexFields","indexStatement","sampleStatement","sampleSpec","aggregate","malloyType","compareOp","literal","dateLiteral","tableName","id","timeframe","ungroup","fieldExpr","partialAllowedFieldExpr","pickStatement","pick","argumentList","fieldNameList","fieldCollection","collectionMember","fieldPath","joinName","fieldName","justExpr","json","jsonValue","jsonObject","jsonProperty","jsonArray","sqlExploreNameRef","sqlCommandNameDef","connectionName"];C._LITERAL_NAMES=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'?'",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'&'","'->'","'=>'","'('","')'","'['","']'","'{'","'}'","'::'","':'","','","'.'","'<'","'>'","'='","'!='","'<='","'>='","'+'","'-'","'*'","'**'","'/'","'|'","';'","'!~'","'~'"];C._SYMBOLIC_NAMES=[void 0,"JSON_STRING","ACCEPT","AGGREGATE","DECLARE","DIMENSION","EXCEPT","EXPLORE","GROUP_BY","HAVING","INDEX","JOIN_CROSS","JOIN_ONE","JOIN_MANY","LIMIT","MEASURE","NEST","ORDER_BY","PRIMARY_KEY","PROJECT","QUERY","RENAME","SAMPLE","SOURCE","SQL","FANCYSQL","TOP","WHERE","ALL","AND","AS","ASC","AVG","BOOLEAN","BY","CASE","CAST","CONDITION","COUNT","DATE","DAY","DESC","DISTINCT","ELSE","END","EXCLUDE","FALSE","FOR","FROM","FROM_SQL","HAS","HOUR","IMPORT","IS","JSON","LAST","MAX","MIN","MINUTE","MONTH","NOT","NOW","NULL","NUMBER","ON","OR","PICK","QMARK","QUARTER","SECOND","STRING","SUM","TABLE","THEN","THIS","TIMESTAMP","TO","TRUE","TURTLE","WEEK","WHEN","WITH","YEAR","UNGROUPED","STRING_ESCAPE","HACKY_REGEX","STRING_LITERAL","AMPER","ARROW","FAT_ARROW","OPAREN","CPAREN","OBRACK","CBRACK","OCURLY","CCURLY","DOUBLECOLON","COLON","COMMA","DOT","LT","GT","EQ","NE","LTE","GTE","PLUS","MINUS","STAR","STARSTAR","SLASH","BAR","SEMI","NOT_MATCH","MATCH","LITERAL_TIMESTAMP","LITERAL_DAY","LITERAL_QUARTER","LITERAL_MONTH","LITERAL_WEEK","LITERAL_YEAR","IDENTIFIER","PERCENT_LITERAL","INTEGER_LITERAL","NUMERIC_LITERAL","OBJECT_NAME_LITERAL","BLOCK_COMMENT","COMMENT_TO_EOL","WHITE_SPACE","SQL_STRING","UNWATED_CHARS_TRAILING_NUMBERS","UNEXPECTED_CHAR"];C.VOCABULARY=new U0t.VocabularyImpl(C._LITERAL_NAMES,C._SYMBOLIC_NAMES,[]);C._serializedATNSegments=2;C._serializedATNSegment0=`\uC91D\uCABA\u058D\uAFBA\u4F53\u0607\uEA8B\uC241\x85\u03CA					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r													\x1B	\x1B				 	 !	!"	"#	#$	$%	%&	&'	'(	()	)*	*+	+,	,-	-.	./	/0	01	12	23	34	45	56	67	78	89	9:	:;	;<	<=	=>	>?	?@	@A	AB	BC	CD	DE	EF	FG	GH	HI	IJ	JK	KL	LM	MN	NO	OP	PQ	QR	RS	ST	TU	UV	VW	WX	XY	YZ	Z[	[\\	\\]	]^	^_	_\`	\`a	ab	bc	cd	de	ef	f\x07\xCF
\f\xD2\v\xDA
\xE5
\x07\x07\b\b\b				\xEF
					\xF4
	


\v\v\f\f\f\xFD
\f\f\x07\f\u0100
\f\f\f\f\u0103\v\f\f\f\u0106
\f\r\r\r\r\u0115
\u0118
\x07\u011B
\f\u011E\v\u0120
\x07\u0124
\f\u0127\v\u012C
\u012F
\u0131
\x07\u013F
\f\u0142\v\u0145
\u0152
\x07\u0155
\f\u0158\v\u015B
\u0163
\u0166
\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\u0174
\x1B\x07\u017D
\f\u0180\v\u0184
\u0195
   \u0199
  \x07 \u019C
 \f  \u019F\v   \u01A2
 !!!!"""\u01AA
""\x07"\u01AD
"\f""\u01B0\v"""\u01B3
"###\u01B7
##\x07#\u01BA
#\f##\u01BD\v###\u01C0
#$$$$%%&&''((((\u01CF
((\x07(\u01D2
(\f((\u01D5\v(((\u01D8
()))))))\u01E0
)***\u01E4
**\x07*\u01E7
*\f**\u01EA\v***\u01ED
*++++\u01F2
++++++++\u01FA
++++\u01FE
++\u0200
+,,---\u0206
-....\u020B
.///\x07/\u0210
/\f//\u0213\v///\u0216
/000111222\u0220
22\x072\u0223
2\f22\u0226\v222\u0229
233444455555555555555\u023E
5666777\u0245
77\x077\u0248
7\f77\u024B\v777\u024E
788999\u0254
9:::;;;\u025B
;;\x07;\u025E
;\f;;\u0261\v;;;\u0264
;<<<\u0268
<<<\u026B
<<<<<<\u0271
<===>>>???@@@\u027E
@@\x07@\u0281
@\f@@\u0284\v@@@\u0287
@AAA\u028B
AAA\u028E
ABBBCCCCC\u0297
CDDDD\u029C
DEEEE\u02A1
EEE\u02A4
EFFF\u02A8
FF\x07F\u02AB
F\fFF\u02AE\vFGGGGG\u02B4
GHHHIIJJKKLLMMMMMMMM\u02C8
MNNNNNNN\u02D0
NOOPPQQRRSSSSSSSSSSSSSSSSSSSSSSSS\u02F1
SSSSSS\u02F7
SSSSSSSSSS\u0301
SSSS\u0305
SSSSSSSSS\x07S\u030F
S\fSS\u0312\vSSSS\u0316
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS\x07S\u0340
S\fSS\u0343\vSTTTTT\u0349
TUU\u034C
U\rUU\u034DUUU\u0352
UVVV\u0356
VVVVWWW\x07W\u035E
W\fWW\u0361\vWWW\u0364
WXXX\u0368
XX\x07X\u036B
X\fXX\u036E\vXYYY\u0372
YY\x07Y\u0375
Y\fYY\u0378\vYYY\u037B
YZZZZZ\u0381
ZZZZ\u0385
Z[[[\x07[\u038A
[\f[[\u038D\v[\\\\]]^^^__\`\`\`\`\`\`\`\`\`\u03A0
\`aaaa\x07a\u03A6
a\faa\u03A9\vaaaaaa\u03AF
abbbbcccc\x07c\u03B9
c\fcc\u03BC\vcccccc\u03C2
cddeefff\xA4g\b
\f "$&(*,.02468:<>@BDFHJLNPRTVXZ\\^\`bdfhjlnprtvxz|~\x80\x82\x84\x86\x88\x8A\x8C\x8E\x90\x92\x94\x96\x98\x9A\x9C\x9E\xA0\xA2\xA4\xA6\xA8\xAA\xAC\xAE\xB0\xB2\xB4\xB6\xB8\xBA\xBC\xBE\xC0\xC2\xC4\xC6\xC8\xCA		\b\b!!++00OO|}""((:;II\x07##))AAHHMMfkst}~00OO{{\x7F\x7F\b**55<=FGQQTT//nnpplmCCYYqqEEccno\u040C\xD0\xD9\xDB\b\xDE
\xE4\f\xE6\xE8\xEE\xF5\xF8\xFA\u0107\u010B\u011F\u0121 \u0130"\u0132$\u0135&\u0144(\u0146*\u014B,\u014D.\u014F0\u015C2\u01604\u01736\u01758\u0177:\u0183<\u0194>\u0196@\u01A3B\u01A7D\u01B4F\u01C1H\u01C5J\u01C7L\u01C9N\u01CBP\u01DFR\u01E1T\u01FFV\u0201X\u0205Z\u020A\\\u020C^\u0217\`\u021Ab\u021Dd\u022Af\u022Ch\u023Dj\u023Fl\u0242n\u024Fp\u0253r\u0255t\u0258v\u0270x\u0272z\u0275|\u0278~\u027B\x80\u028A\x82\u028F\x84\u0296\x86\u0298\x88\u02A3\x8A\u02A5\x8C\u02AF\x8E\u02B5\x90\u02B8\x92\u02BA\x94\u02BC\x96\u02BE\x98\u02C7\x9A\u02CF\x9C\u02D1\x9E\u02D3\xA0\u02D5\xA2\u02D7\xA4\u0315\xA6\u0348\xA8\u034B\xAA\u0353\xAC\u035A\xAE\u0365\xB0\u036F\xB2\u0384\xB4\u0386\xB6\u038E\xB8\u0390\xBA\u0392\xBC\u0395\xBE\u039F\xC0\u03AE\xC2\u03B0\xC4\u03C1\xC6\u03C3\xC8\u03C5\xCA\u03C7\xCC\xCF\xCD\xCF\x07r\xCE\xCC\xCE\xCD\xCF\xD2\xD0\xCE\xD0\xD1\xD1\xD3\xD2\xD0\xD3\xD4\x07\xD4\xD5\xDA\xD6\xDA\b\xD7\xDA
\xD8\xDA
\xD9\xD5\xD9\xD6\xD9\xD7\xD9\xD8\xDA\xDB\xDC\b\xDC\xDD.\xDD\x07\xDE\xDF	\xDF	\xE0\xE1\x07\xE1\xE5\f\xE2\xE3\x07\xE3\xE5\f\x07\xE4\xE0\xE4\xE2\xE5\v\xE6\xE7\xE7\r\xE8\xE9\x07\xE9\xEA	\xEA\xEB\xEC\xC8e\xEC\xED\x077\xED\xEF\xEE\xEB\xEE\xEF\xEF\xF0\xF0\xF3\x07\x83\xF1\xF2\x07B\xF2\xF4\xCAf\xF3\xF1\xF3\xF4\xF4\xF5\xF6\x076\xF6\xF7\v\xF7\xF8\xF9\x07\xF9\xFA\u0101\r\xFB\xFD\x07d\xFC\xFB\xFC\xFD\xFD\xFE\xFE\u0100\r\xFF\xFC\u0100\u0103\u0101\xFF\u0101\u0102\u0102\u0105\u0103\u0101\u0104\u0106\x07d\u0105\u0104\u0105\u0106\u0106\u0107\u0108,\u0108\u0109\x077\u0109\u010A\u010A\u010B\u010C\x07l\u010C\x1B\u010D\u010E2\u010E\u010F\x07Z\u010F\u0110\u0110\u0120\u0111\u0112\x07Z\u0112\u0117,\u0113\u0115\u0114\u0113\u0114\u0115\u0115\u0116\u0116\u0118&\u0117\u0114\u0117\u0118\u0118\u011C\u0119\u011B"\u011A\u0119\u011B\u011E\u011C\u011A\u011C\u011D\u011D\u0120\u011E\u011C\u011F\u010D\u011F\u0111\u0120\u0121\u0125 \u0122\u0124"\u0123\u0122\u0124\u0127\u0125\u0123\u0125\u0126\u0126\u0127\u0125\u0128\u0131&\u0129\u012E*\u012A\u012C\u012B\u012A\u012B\u012C\u012C\u012D\u012D\u012F&\u012E\u012B\u012E\u012F\u012F\u0131\u0130\u0128\u0130\u0129\u0131!\u0132\u0133\x07Z\u0133\u0134&\u0134#\u0135\u0136\x07J\u0136\u0137\x07\\\u0137\u0138\x9CO\u0138\u0139\x07]\u0139%\u013A\u0145(\u013B\u0140\x07\`\u013C\u013Fh5\u013D\u013F\x07r\u013E\u013C\u013E\u013D\u013F\u0142\u0140\u013E\u0140\u0141\u0141\u0143\u0142\u0140\u0143\u0145\x07a\u0144\u013A\u0144\u013B\u0145'\u0146\u0147\x07\`\u0147\u0148\x07E\u0148\u0149\xA4S\u0149\u014A\x07a\u014A)\u014B\u014C\x9EP\u014C+\u014D\u014E\x9EP\u014E-\u014F\u01560\u0150\u0152\x07d\u0151\u0150\u0151\u0152\u0152\u0153\u0153\u01550\u0154\u0151\u0155\u0158\u0156\u0154\u0156\u0157\u0157\u015A\u0158\u0156\u0159\u015B\x07d\u015A\u0159\u015A\u015B\u015B/\u015C\u015D6\u015D\u015E\x077\u015E\u015F2\u015F1\u0160\u01654\x1B\u0161\u0163\u0162\u0161\u0162\u0163\u0163\u0164\u0164\u0166:\u0165\u0162\u0165\u0166\u01663\u0167\u01748\u0168\u0174$\u0169\u016A\x072\u016A\u016B\x07\\\u016B\u016C\u016C\u016D\x07]\u016D\u0174\u016E\u016F\x073\u016F\u0170\x07\\\u0170\u0171\xC6d\u0171\u0172\x07]\u0172\u0174\u0173\u0167\u0173\u0168\u0173\u0169\u0173\u016E\u01745\u0175\u0176\x9EP\u01767\u0177\u0178\x9EP\u01789\u0179\u017E\x07\`\u017A\u017D<\u017B\u017D\x07r\u017C\u017A\u017C\u017B\u017D\u0180\u017E\u017C\u017E\u017F\u017F\u0181\u0180\u017E\u0181\u0184\x07a\u0182\u0184(\u0183\u0179\u0183\u0182\u0184;\u0185\u0186\x07\x07\u0186\u0195B"\u0187\u0188\x07\u0188\u0195D#\u0189\u0195N(\u018A\u0195P)\u018B\u0195^0\u018C\u018D\x07\u018D\u0195\xB8]\u018E\u018F\x07\u018F\u0195> \u0190\u0191	\u0191\u0195\xAEX\u0192\u0193\x07\u0193\u0195b2\u0194\u0185\u0194\u0187\u0194\u0189\u0194\u018A\u0194\u018B\u0194\u018C\u0194\u018E\u0194\u0190\u0194\u0192\u0195=\u0196\u019D@!\u0197\u0199\x07d\u0198\u0197\u0198\u0199\u0199\u019A\u019A\u019C@!\u019B\u0198\u019C\u019F\u019D\u019B\u019D\u019E\u019E\u01A1\u019F\u019D\u01A0\u01A2\x07d\u01A1\u01A0\u01A1\u01A2\u01A2?\u01A3\u01A4\xB8]\u01A4\u01A5\x077\u01A5\u01A6\xB8]\u01A6A\u01A7\u01AEn8\u01A8\u01AA\x07d\u01A9\u01A8\u01A9\u01AA\u01AA\u01AB\u01AB\u01ADn8\u01AC\u01A9\u01AD\u01B0\u01AE\u01AC\u01AE\u01AF\u01AF\u01B2\u01B0\u01AE\u01B1\u01B3\x07d\u01B2\u01B1\u01B2\u01B3\u01B3C\u01B4\u01BBL'\u01B5\u01B7\x07d\u01B6\u01B5\u01B6\u01B7\u01B7\u01B8\u01B8\u01BAL'\u01B9\u01B6\u01BA\u01BD\u01BB\u01B9\u01BB\u01BC\u01BC\u01BF\u01BD\u01BB\u01BE\u01C0\x07d\u01BF\u01BE\u01BF\u01C0\u01C0E\u01C1\u01C2H%\u01C2\u01C3\x077\u01C3\u01C4\xA4S\u01C4G\u01C5\u01C6\x9EP\u01C6I\u01C7\u01C8\x9EP\u01C8K\u01C9\u01CAF$\u01CAM\u01CB\u01CC\x07\u01CC\u01D3F$\u01CD\u01CF\x07d\u01CE\u01CD\u01CE\u01CF\u01CF\u01D0\u01D0\u01D2F$\u01D1\u01CE\u01D2\u01D5\u01D3\u01D1\u01D3\u01D4\u01D4\u01D7\u01D5\u01D3\u01D6\u01D8\x07d\u01D7\u01D6\u01D7\u01D8\u01D8O\u01D9\u01DA\x07\u01DA\u01E0R*\u01DB\u01DC\x07\u01DC\u01E0R*\u01DD\u01DE\x07\r\u01DE\u01E0R*\u01DF\u01D9\u01DF\u01DB\u01DF`;C._serializedATNSegment1="\u01DD\u01E0Q\u01E1\u01E8T+\u01E2\u01E4\x07d\u01E3\u01E2\u01E3\u01E4\u01E4\u01E5\u01E5\u01E7T+\u01E6\u01E3\u01E7\u01EA\u01E8\u01E6\u01E8\u01E9\u01E9\u01EC\u01EA\u01E8\u01EB\u01ED\x07d\u01EC\u01EB\u01EC\u01ED\u01EDS\u01EE\u01F1J&\u01EF\u01F0\x077\u01F0\u01F22\u01F1\u01EF\u01F1\u01F2\u01F2\u01F3\u01F3\u01F4\x07S\u01F4\u01F5\xA4S\u01F5\u0200\u01F6\u01F9J&\u01F7\u01F8\x077\u01F8\u01FA2\u01F9\u01F7\u01F9\u01FA\u01FA\u01FD\u01FB\u01FC\x07B\u01FC\u01FEV,\u01FD\u01FB\u01FD\u01FE\u01FE\u0200\u01FF\u01EE\u01FF\u01F6\u0200U\u0201\u0202\xA4S\u0202W\u0203\u0206^0\u0204\u0206`1\u0205\u0203\u0205\u0204\u0206Y\u0207\u0208\x07E\u0208\u020B\xA4S\u0209\u020B^0\u020A\u0207\u020A\u0209\u020B[\u020C\u0211\xA4S\u020D\u020E\x07d\u020E\u0210\xA4S\u020F\u020D\u0210\u0213\u0211\u020F\u0211\u0212\u0212\u0215\u0213\u0211\u0214\u0216\x07d\u0215\u0214\u0215\u0216\u0216]\u0217\u0218\x07\u0218\u0219\\/\u0219_\u021A\u021B\x07\v\u021B\u021C\\/\u021Ca\u021D\u0224f4\u021E\u0220\x07d\u021F\u021E\u021F\u0220\u0220\u0221\u0221\u0223f4\u0222\u021F\u0223\u0226\u0224\u0222\u0224\u0225\u0225\u0228\u0226\u0224\u0227\u0229\x07d\u0228\u0227\u0228\u0229\u0229c\u022A\u022B\x9EP\u022Be\u022C\u022Dd3\u022D\u022E\x077\u022E\u022F\u022Fg\u0230\u023Ej6\u0231\u023EN(\u0232\u023EP)\u0233\u023Ez>\u0234\u023E\x8CG\u0235\u023Ex=\u0236\u023E\x86D\u0237\u023E\x82B\u0238\u023E|?\u0239\u023E^0\u023A\u023E`1\u023B\u023Er:\u023C\u023E\x8EH\u023D\u0230\u023D\u0231\u023D\u0232\u023D\u0233\u023D\u0234\u023D\u0235\u023D\u0236\u023D\u0237\u023D\u0238\u023D\u0239\u023D\u023A\u023D\u023B\u023D\u023C\u023Ei\u023F\u0240\x07\n\u0240\u0241l7\u0241k\u0242\u0249p9\u0243\u0245\x07d\u0244\u0243\u0244\u0245\u0245\u0246\u0246\u0248p9\u0247\u0244\u0248\u024B\u0249\u0247\u0249\u024A\u024A\u024D\u024B\u0249\u024C\u024E\x07d\u024D\u024C\u024D\u024E\u024Em\u024F\u0250F$\u0250o\u0251\u0254\xB4[\u0252\u0254n8\u0253\u0251\u0253\u0252\u0254q\u0255\u0256\x07\u0256\u0257t;\u0257s\u0258\u025Fv<\u0259\u025B\x07d\u025A\u0259\u025A\u025B\u025B\u025C\u025C\u025Ev<\u025D\u025A\u025E\u0261\u025F\u025D\u025F\u0260\u0260\u0263\u0261\u025F\u0262\u0264\x07d\u0263\u0262\u0263\u0264\u0264u\u0265\u026A,\u0266\u0268\u0267\u0266\u0267\u0268\u0268\u0269\u0269\u026B&\u026A\u0267\u026A\u026B\u026B\u0271\u026C\u026D,\u026D\u026E\x077\u026E\u026F\u026F\u0271\u0270\u0265\u0270\u026C\u0271w\u0272\u0273\x07\u0273\u0274l7\u0274y\u0275\u0276\x07\u0276\u0277\xB0Y\u0277{\u0278\u0279\x07\u0279\u027A~@\u027A}\u027B\u0282\x80A\u027C\u027E\x07d\u027D\u027C\u027D\u027E\u027E\u027F\u027F\u0281\x80A\u0280\u027D\u0281\u0284\u0282\u0280\u0282\u0283\u0283\u0286\u0284\u0282\u0285\u0287\x07d\u0286\u0285\u0286\u0287\u0287\x7F\u0288\u028B\x07}\u0289\u028B\xB8]\u028A\u0288\u028A\u0289\u028B\u028D\u028C\u028E	\u028D\u028C\u028D\u028E\u028E\x81\u028F\u0290\x07\u0290\u0291\x07}\u0291\x83\u0292\u0293\x07$\u0293\u0297\xB8]\u0294\u0295\x07$\u0295\u0297\xA4S\u0296\u0292\u0296\u0294\u0297\x85\u0298\u0299\x07\u0299\u029B\x07}\u029A\u029C\x84C\u029B\u029A\u029B\u029C\u029C\x87\u029D\u02A0\xB4[\u029E\u029F\x07e\u029F\u02A1\x07n\u02A0\u029E\u02A0\u02A1\u02A1\u02A4\u02A2\u02A4\x07n\u02A3\u029D\u02A3\u02A2\u02A4\x89\u02A5\u02AC\x88E\u02A6\u02A8\x07d\u02A7\u02A6\u02A7\u02A8\u02A8\u02A9\u02A9\u02AB\x88E\u02AA\u02A7\u02AB\u02AE\u02AC\u02AA\u02AC\u02AD\u02AD\x8B\u02AE\u02AC\u02AF\u02B0\x07\f\u02B0\u02B3\x8AF\u02B1\u02B2\x07$\u02B2\u02B4\xB8]\u02B3\u02B1\u02B3\u02B4\u02B4\x8D\u02B5\u02B6\x07\u02B6\u02B7\x90I\u02B7\x8F\u02B8\u02B9	\u02B9\x91\u02BA\u02BB	\u02BB\x93\u02BC\u02BD	\x07\u02BD\x95\u02BE\u02BF	\b\u02BF\x97\u02C0\u02C8\x07X\u02C1\u02C8		\u02C2\u02C8\x9AN\u02C3\u02C8\x07@\u02C4\u02C8	\n\u02C5\u02C8\x07W\u02C6\u02C8\x07?\u02C7\u02C0\u02C7\u02C1\u02C7\u02C2\u02C7\u02C3\u02C7\u02C4\u02C7\u02C5\u02C7\u02C6\u02C8\x99\u02C9\u02D0\x07u\u02CA\u02D0\x07v\u02CB\u02D0\x07y\u02CC\u02D0\x07x\u02CD\u02D0\x07w\u02CE\u02D0\x07z\u02CF\u02C9\u02CF\u02CA\u02CF\u02CB\u02CF\u02CC\u02CF\u02CD\u02CF\u02CE\u02D0\x9B\u02D1\u02D2\x07X\u02D2\x9D\u02D3\u02D4	\v\u02D4\x9F\u02D5\u02D6	\f\u02D6\xA1\u02D7\u02D8	\r\u02D8\xA3\u02D9\u02DA\bS\u02DA\u0316\xB4[\u02DB\u0316\x98M\u02DC\u02DD\x07m\u02DD\u0316\xA4S\u02DE\u02DF\x07>\u02DF\u0316\xA4S\v\u02E0\u02E1\x07&\u02E1\u02E2\x07\\\u02E2\u02E3\xA4S\u02E3\u02E4\x07 \u02E4\u02E5\x94K\u02E5\u02E6\x07]\u02E6\u0316\u02E7\u02E8\x07(\u02E8\u02E9\x07\\\u02E9\u02EA\x07,\u02EA\u02EB\xA4S\u02EB\u02EC\x07]\u02EC\u0316\u02ED\u02EE\xB4[\u02EE\u02EF\x07e\u02EF\u02F1\u02F0\u02ED\u02F0\u02F1\u02F1\u02F2\u02F2\u02F3\x92J\u02F3\u02F6\x07\\\u02F4\u02F7\xA4S\u02F5\u02F7\x07n\u02F6\u02F4\u02F6\u02F5\u02F6\u02F7\u02F7\u02F8\u02F8\u02F9\x07]\u02F9\u0316\u02FA\u02FB\x07\\\u02FB\u02FC\xA6T\u02FC\u02FD\x07]\u02FD\u0316\u02FE\u0301\x9EP\u02FF\u0301\xA0Q\u0300\u02FE\u0300\u02FF\u0301\u0302\u0302\u0304\x07\\\u0303\u0305\xACW\u0304\u0303\u0304\u0305\u0305\u0306\u0306\u0307\x07]\u0307\u0316\u0308\u0316\xA8U\u0309\u030A\xA2R\u030A\u030B\x07\\\u030B\u0310\xA4S\u030C\u030D\x07d\u030D\u030F\xB8]\u030E\u030C\u030F\u0312\u0310\u030E\u0310\u0311\u0311\u0313\u0312\u0310\u0313\u0314\x07]\u0314\u0316\u0315\u02D9\u0315\u02DB\u0315\u02DC\u0315\u02DE\u0315\u02E0\u0315\u02E7\u0315\u02F0\u0315\u02FA\u0315\u0300\u0315\u0308\u0315\u0309\u0316\u0341\u0317\u0318\f\u0318\u0319	\u0319\u0340\xA4S\u031A\u031B\f\u031B\u031C	\u031C\u0340\xA4S\u031D\u031E\f\u031E\u031F\x07N\u031F\u0340\xA4S\u0320\u0321\f\r\u0321\u0322\x96L\u0322\u0323\xA4S\u0323\u0340\u0324\u0325\f\n\u0325\u0326	\u0326\u0340\xA4S\v\u0327\u0328\f\u0328\u0329\x07`\u0329\u032AZ.\u032A\u032B\x07a\u032B\u0340\u032C\u032D\f\u032D\u0340\xA0Q\u032E\u032F\f\u032F\u0330\x07e\u0330\u0340\xA0Q\u0331\u0332\f\u0332\u0333\x07b\u0333\u0340\x94K\u0334\u0335\f\u0335\u0336\x071\u0336\u0337\xA4S\u0337\u0338\xA0Q\u0338\u0340\u0339\u033A\f\u033A\u033B	\u033B\u0340\xA6T\u033C\u033D\f\f\u033D\u033E	\u033E\u0340\xA6T\u033F\u0317\u033F\u031A\u033F\u031D\u033F\u0320\u033F\u0324\u033F\u0327\u033F\u032C\u033F\u032E\u033F\u0331\u033F\u0334\u033F\u0339\u033F\u033C\u0340\u0343\u0341\u033F\u0341\u0342\u0342\xA5\u0343\u0341\u0344\u0345\x96L\u0345\u0346\xA4S\u0346\u0349\u0347\u0349\xA4S\u0348\u0344\u0348\u0347\u0349\xA7\u034A\u034C\xAAV\u034B\u034A\u034C\u034D\u034D\u034B\u034D\u034E\u034E\u0351\u034F\u0350\x07-\u0350\u0352\xA4S\u0351\u034F\u0351\u0352\u0352\xA9\u0353\u0355\x07D\u0354\u0356\xA4S\u0355\u0354\u0355\u0356\u0356\u0357\u0357\u0358\x07R\u0358\u0359\xA6T\u0359\xAB\u035A\u035F\xA4S\u035B\u035C\x07d\u035C\u035E\xA4S\u035D\u035B\u035E\u0361\u035F\u035D\u035F\u0360\u0360\u0363\u0361\u035F\u0362\u0364\x07d\u0363\u0362\u0363\u0364\u0364\xAD\u0365\u036C\xB8]\u0366\u0368\x07d\u0367\u0366\u0367\u0368\u0368\u0369\u0369\u036B\xB8]\u036A\u0367\u036B\u036E\u036C\u036A\u036C\u036D\u036D\xAF\u036E\u036C\u036F\u0376\xB2Z\u0370\u0372\x07d\u0371\u0370\u0371\u0372\u0372\u0373\u0373\u0375\xB2Z\u0374\u0371\u0375\u0378\u0376\u0374\u0376\u0377\u0377\u037A\u0378\u0376\u0379\u037B\x07d\u037A\u0379\u037A\u037B\u037B\xB1\u037C\u0385\xB4[\u037D\u037E\xB4[\u037E\u037F\x07e\u037F\u0381\u0380\u037D\u0380\u0381\u0381\u0382\u0382\u0385	\u0383\u0385F$\u0384\u037C\u0384\u0380\u0384\u0383\u0385\xB3\u0386\u038B\xB8]\u0387\u0388\x07e\u0388\u038A\xB8]\u0389\u0387\u038A\u038D\u038B\u0389\u038B\u038C\u038C\xB5\u038D\u038B\u038E\u038F\x9EP\u038F\xB7\u0390\u0391\x9EP\u0391\xB9\u0392\u0393\xA4S\u0393\u0394\x07\u0394\xBB\u0395\u0396\xBE`\u0396\xBD\u0397\u03A0\x07\u0398\u03A0\x07}\u0399\u03A0\x07~\u039A\u03A0\xC0a\u039B\u03A0\xC4c\u039C\u03A0\x07O\u039D\u03A0\x070\u039E\u03A0\x07@\u039F\u0397\u039F\u0398\u039F\u0399\u039F\u039A\u039F\u039B\u039F\u039C\u039F\u039D\u039F\u039E\u03A0\xBF\u03A1\u03A2\x07`\u03A2\u03A7\xC2b\u03A3\u03A4\x07d\u03A4\u03A6\xC2b\u03A5\u03A3\u03A6\u03A9\u03A7\u03A5\u03A7\u03A8\u03A8\u03AA\u03A9\u03A7\u03AA\u03AB\x07a\u03AB\u03AF\u03AC\u03AD\x07`\u03AD\u03AF\x07a\u03AE\u03A1\u03AE\u03AC\u03AF\xC1\u03B0\u03B1\x07\u03B1\u03B2\x07c\u03B2\u03B3\xBE`\u03B3\xC3\u03B4\u03B5\x07^\u03B5\u03BA\xBE`\u03B6\u03B7\x07d\u03B7\u03B9\xBE`\u03B8\u03B6\u03B9\u03BC\u03BA\u03B8\u03BA\u03BB\u03BB\u03BD\u03BC\u03BA\u03BD\u03BE\x07_\u03BE\u03C2\u03BF\u03C0\x07^\u03C0\u03C2\x07_\u03C1\u03B4\u03C1\u03BF\u03C2\xC5\u03C3\u03C4\x9EP\u03C4\xC7\u03C5\u03C6\x9EP\u03C6\xC9\u03C7\u03C8\x07\u03C8\xCBo\xCE\xD0\xD9\xE4\xEE\xF3\xFC\u0101\u0105\u0114\u0117\u011C\u011F\u0125\u012B\u012E\u0130\u013E\u0140\u0144\u0151\u0156\u015A\u0162\u0165\u0173\u017C\u017E\u0183\u0194\u0198\u019D\u01A1\u01A9\u01AE\u01B2\u01B6\u01BB\u01BF\u01CE\u01D3\u01D7\u01DF\u01E3\u01E8\u01EC\u01F1\u01F9\u01FD\u01FF\u0205\u020A\u0211\u0215\u021F\u0224\u0228\u023D\u0244\u0249\u024D\u0253\u025A\u025F\u0263\u0267\u026A\u0270\u027D\u0282\u0286\u028A\u028D\u0296\u029B\u02A0\u02A3\u02A7\u02AC\u02B3\u02C7\u02CF\u02F0\u02F6\u0300\u0304\u0310\u0315\u033F\u0341\u0348\u034D\u0351\u0355\u035F\u0363\u0367\u036C\u0371\u0376\u037A\u0380\u0384\u038B\u039F\u03A7\u03AE\u03BA\u03C1";C._serializedATN=I8e.join([C._serializedATNSegment0,C._serializedATNSegment1],"");var rse=class extends zr.ParserRuleContext{EOF(){return this.getToken(C.EOF,0)}malloyStatement(e){return e===void 0?this.getRuleContexts(LO):this.getRuleContext(e,LO)}SEMI(e){return e===void 0?this.getTokens(C.SEMI):this.getToken(C.SEMI,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_malloyDocument}enterRule(e){e.enterMalloyDocument&&e.enterMalloyDocument(this)}exitRule(e){e.exitMalloyDocument&&e.exitMalloyDocument(this)}accept(e){return e.visitMalloyDocument?e.visitMalloyDocument(this):e.visitChildren(this)}};jt.MalloyDocumentContext=rse;var LO=class extends zr.ParserRuleContext{defineExploreStatement(){return this.tryGetRuleContext(0,VU)}defineSQLStatement(){return this.tryGetRuleContext(0,GU)}defineQuery(){return this.tryGetRuleContext(0,Gw)}importStatement(){return this.tryGetRuleContext(0,KU)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_malloyStatement}enterRule(e){e.enterMalloyStatement&&e.enterMalloyStatement(this)}exitRule(e){e.exitMalloyStatement&&e.exitMalloyStatement(this)}accept(e){return e.visitMalloyStatement?e.visitMalloyStatement(this):e.visitChildren(this)}};jt.MalloyStatementContext=LO;var VU=class extends zr.ParserRuleContext{exploreKeyword(){return this.getRuleContext(0,WU)}exploreDefinitionList(){return this.getRuleContext(0,n$)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_defineExploreStatement}enterRule(e){e.enterDefineExploreStatement&&e.enterDefineExploreStatement(this)}exitRule(e){e.exitDefineExploreStatement&&e.exitDefineExploreStatement(this)}accept(e){return e.visitDefineExploreStatement?e.visitDefineExploreStatement(this):e.visitChildren(this)}};jt.DefineExploreStatementContext=VU;var WU=class extends zr.ParserRuleContext{EXPLORE(){return this.tryGetToken(C.EXPLORE,0)}SOURCE(){return this.tryGetToken(C.SOURCE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreKeyword}enterRule(e){e.enterExploreKeyword&&e.enterExploreKeyword(this)}exitRule(e){e.exitExploreKeyword&&e.exitExploreKeyword(this)}accept(e){return e.visitExploreKeyword?e.visitExploreKeyword(this):e.visitChildren(this)}};jt.ExploreKeywordContext=WU;var Gw=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_defineQuery}copyFrom(e){super.copyFrom(e)}};jt.DefineQueryContext=Gw;var ise=class extends Gw{QUERY(){return this.getToken(C.QUERY,0)}topLevelQueryDefs(){return this.getRuleContext(0,XU)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNamedQueries_stub&&e.enterNamedQueries_stub(this)}exitRule(e){e.exitNamedQueries_stub&&e.exitNamedQueries_stub(this)}accept(e){return e.visitNamedQueries_stub?e.visitNamedQueries_stub(this):e.visitChildren(this)}};jt.NamedQueries_stubContext=ise;var sse=class extends Gw{QUERY(){return this.getToken(C.QUERY,0)}topLevelAnonQueryDef(){return this.getRuleContext(0,QU)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterAnonymousQuery&&e.enterAnonymousQuery(this)}exitRule(e){e.exitAnonymousQuery&&e.exitAnonymousQuery(this)}accept(e){return e.visitAnonymousQuery?e.visitAnonymousQuery(this):e.visitChildren(this)}};jt.AnonymousQueryContext=sse;var QU=class extends zr.ParserRuleContext{query(){return this.getRuleContext(0,m4)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_topLevelAnonQueryDef}enterRule(e){e.enterTopLevelAnonQueryDef&&e.enterTopLevelAnonQueryDef(this)}exitRule(e){e.exitTopLevelAnonQueryDef&&e.exitTopLevelAnonQueryDef(this)}accept(e){return e.visitTopLevelAnonQueryDef?e.visitTopLevelAnonQueryDef(this):e.visitChildren(this)}};jt.TopLevelAnonQueryDefContext=QU;var GU=class extends zr.ParserRuleContext{SQL(){return this.getToken(C.SQL,0)}sqlStatementDef(){return this.getRuleContext(0,YU)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_defineSQLStatement}enterRule(e){e.enterDefineSQLStatement&&e.enterDefineSQLStatement(this)}exitRule(e){e.exitDefineSQLStatement&&e.exitDefineSQLStatement(this)}accept(e){return e.visitDefineSQLStatement?e.visitDefineSQLStatement(this):e.visitChildren(this)}};jt.DefineSQLStatementContext=GU;var YU=class extends zr.ParserRuleContext{SQL_STRING(){return this.getToken(C.SQL_STRING,0)}sqlCommandNameDef(){return this.tryGetRuleContext(0,P$)}IS(){return this.tryGetToken(C.IS,0)}ON(){return this.tryGetToken(C.ON,0)}connectionName(){return this.tryGetRuleContext(0,B$)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_sqlStatementDef}enterRule(e){e.enterSqlStatementDef&&e.enterSqlStatementDef(this)}exitRule(e){e.exitSqlStatementDef&&e.exitSqlStatementDef(this)}accept(e){return e.visitSqlStatementDef?e.visitSqlStatementDef(this):e.visitChildren(this)}};jt.SqlStatementDefContext=YU;var KU=class extends zr.ParserRuleContext{IMPORT(){return this.getToken(C.IMPORT,0)}importURL(){return this.getRuleContext(0,JU)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_importStatement}enterRule(e){e.enterImportStatement&&e.enterImportStatement(this)}exitRule(e){e.exitImportStatement&&e.exitImportStatement(this)}accept(e){return e.visitImportStatement?e.visitImportStatement(this):e.visitChildren(this)}};jt.ImportStatementContext=KU;var JU=class extends zr.ParserRuleContext{JSON_STRING(){return this.getToken(C.JSON_STRING,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_importURL}enterRule(e){e.enterImportURL&&e.enterImportURL(this)}exitRule(e){e.exitImportURL&&e.exitImportURL(this)}accept(e){return e.visitImportURL?e.visitImportURL(this):e.visitChildren(this)}};jt.ImportURLContext=JU;var XU=class extends zr.ParserRuleContext{topLevelQueryDef(e){return e===void 0?this.getRuleContexts(kO):this.getRuleContext(e,kO)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_topLevelQueryDefs}enterRule(e){e.enterTopLevelQueryDefs&&e.enterTopLevelQueryDefs(this)}exitRule(e){e.exitTopLevelQueryDefs&&e.exitTopLevelQueryDefs(this)}accept(e){return e.visitTopLevelQueryDefs?e.visitTopLevelQueryDefs(this):e.visitChildren(this)}};jt.TopLevelQueryDefsContext=XU;var kO=class extends zr.ParserRuleContext{queryName(){return this.getRuleContext(0,ab)}IS(){return this.getToken(C.IS,0)}query(){return this.getRuleContext(0,m4)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_topLevelQueryDef}enterRule(e){e.enterTopLevelQueryDef&&e.enterTopLevelQueryDef(this)}exitRule(e){e.exitTopLevelQueryDef&&e.exitTopLevelQueryDef(this)}accept(e){return e.visitTopLevelQueryDef?e.visitTopLevelQueryDef(this):e.visitChildren(this)}};jt.TopLevelQueryDefContext=kO;var ib=class extends zr.ParserRuleContext{PLUS(){return this.getToken(C.PLUS,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_refineOperator}enterRule(e){e.enterRefineOperator&&e.enterRefineOperator(this)}exitRule(e){e.exitRefineOperator&&e.exitRefineOperator(this)}accept(e){return e.visitRefineOperator?e.visitRefineOperator(this):e.visitChildren(this)}};jt.RefineOperatorContext=ib;var m4=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_query}copyFrom(e){super.copyFrom(e)}};jt.QueryContext=m4;var ose=class extends m4{explore(){return this.getRuleContext(0,ub)}ARROW(){return this.getToken(C.ARROW,0)}pipelineFromName(){return this.getRuleContext(0,Yw)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExploreArrowQuery&&e.enterExploreArrowQuery(this)}exitRule(e){e.exitExploreArrowQuery&&e.exitExploreArrowQuery(this)}accept(e){return e.visitExploreArrowQuery?e.visitExploreArrowQuery(this):e.visitChildren(this)}};jt.ExploreArrowQueryContext=ose;var ase=class extends m4{ARROW(){return this.getToken(C.ARROW,0)}queryName(){return this.getRuleContext(0,ab)}queryProperties(){return this.tryGetRuleContext(0,ob)}pipeElement(e){return e===void 0?this.getRuleContexts(sb):this.getRuleContext(e,sb)}refineOperator(){return this.tryGetRuleContext(0,ib)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterArrowQuery&&e.enterArrowQuery(this)}exitRule(e){e.exitArrowQuery&&e.exitArrowQuery(this)}accept(e){return e.visitArrowQuery?e.visitArrowQuery(this):e.visitChildren(this)}};jt.ArrowQueryContext=ase;var Yw=class extends zr.ParserRuleContext{firstSegment(){return this.getRuleContext(0,ZU)}pipeElement(e){return e===void 0?this.getRuleContexts(sb):this.getRuleContext(e,sb)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_pipelineFromName}enterRule(e){e.enterPipelineFromName&&e.enterPipelineFromName(this)}exitRule(e){e.exitPipelineFromName&&e.exitPipelineFromName(this)}accept(e){return e.visitPipelineFromName?e.visitPipelineFromName(this):e.visitChildren(this)}};jt.PipelineFromNameContext=Yw;var ZU=class extends zr.ParserRuleContext{queryProperties(){return this.tryGetRuleContext(0,ob)}exploreQueryName(){return this.tryGetRuleContext(0,t$)}refineOperator(){return this.tryGetRuleContext(0,ib)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_firstSegment}enterRule(e){e.enterFirstSegment&&e.enterFirstSegment(this)}exitRule(e){e.exitFirstSegment&&e.exitFirstSegment(this)}accept(e){return e.visitFirstSegment?e.visitFirstSegment(this):e.visitChildren(this)}};jt.FirstSegmentContext=ZU;var sb=class extends zr.ParserRuleContext{ARROW(){return this.getToken(C.ARROW,0)}queryProperties(){return this.getRuleContext(0,ob)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_pipeElement}enterRule(e){e.enterPipeElement&&e.enterPipeElement(this)}exitRule(e){e.exitPipeElement&&e.exitPipeElement(this)}accept(e){return e.visitPipeElement?e.visitPipeElement(this):e.visitChildren(this)}};jt.PipeElementContext=sb;var e$=class extends zr.ParserRuleContext{TABLE(){return this.getToken(C.TABLE,0)}OPAREN(){return this.getToken(C.OPAREN,0)}tableName(){return this.getRuleContext(0,F$)}CPAREN(){return this.getToken(C.CPAREN,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreTable}enterRule(e){e.enterExploreTable&&e.enterExploreTable(this)}exitRule(e){e.exitExploreTable&&e.exitExploreTable(this)}accept(e){return e.visitExploreTable?e.visitExploreTable(this):e.visitChildren(this)}};jt.ExploreTableContext=e$;var ob=class extends zr.ParserRuleContext{filterShortcut(){return this.tryGetRuleContext(0,IO)}OCURLY(){return this.tryGetToken(C.OCURLY,0)}CCURLY(){return this.tryGetToken(C.CCURLY,0)}queryStatement(e){return e===void 0?this.getRuleContexts(HO):this.getRuleContext(e,HO)}SEMI(e){return e===void 0?this.getTokens(C.SEMI):this.getToken(C.SEMI,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_queryProperties}enterRule(e){e.enterQueryProperties&&e.enterQueryProperties(this)}exitRule(e){e.exitQueryProperties&&e.exitQueryProperties(this)}accept(e){return e.visitQueryProperties?e.visitQueryProperties(this):e.visitChildren(this)}};jt.QueryPropertiesContext=ob;var IO=class extends zr.ParserRuleContext{OCURLY(){return this.getToken(C.OCURLY,0)}QMARK(){return this.getToken(C.QMARK,0)}fieldExpr(){return this.getRuleContext(0,Ci)}CCURLY(){return this.getToken(C.CCURLY,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_filterShortcut}enterRule(e){e.enterFilterShortcut&&e.enterFilterShortcut(this)}exitRule(e){e.exitFilterShortcut&&e.exitFilterShortcut(this)}accept(e){return e.visitFilterShortcut?e.visitFilterShortcut(this):e.visitChildren(this)}};jt.FilterShortcutContext=IO;var t$=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,Fd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreQueryName}enterRule(e){e.enterExploreQueryName&&e.enterExploreQueryName(this)}exitRule(e){e.exitExploreQueryName&&e.exitExploreQueryName(this)}accept(e){return e.visitExploreQueryName?e.visitExploreQueryName(this):e.visitChildren(this)}};jt.ExploreQueryNameContext=t$;var ab=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,Fd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_queryName}enterRule(e){e.enterQueryName&&e.enterQueryName(this)}exitRule(e){e.exitQueryName&&e.exitQueryName(this)}accept(e){return e.visitQueryName?e.visitQueryName(this):e.visitChildren(this)}};jt.QueryNameContext=ab;var n$=class extends zr.ParserRuleContext{exploreDefinition(e){return e===void 0?this.getRuleContexts(MO):this.getRuleContext(e,MO)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreDefinitionList}enterRule(e){e.enterExploreDefinitionList&&e.enterExploreDefinitionList(this)}exitRule(e){e.exitExploreDefinitionList&&e.exitExploreDefinitionList(this)}accept(e){return e.visitExploreDefinitionList?e.visitExploreDefinitionList(this):e.visitChildren(this)}};jt.ExploreDefinitionListContext=n$;var MO=class extends zr.ParserRuleContext{exploreNameDef(){return this.getRuleContext(0,r$)}IS(){return this.getToken(C.IS,0)}explore(){return this.getRuleContext(0,ub)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreDefinition}enterRule(e){e.enterExploreDefinition&&e.enterExploreDefinition(this)}exitRule(e){e.exitExploreDefinition&&e.exitExploreDefinition(this)}accept(e){return e.visitExploreDefinition?e.visitExploreDefinition(this):e.visitChildren(this)}};jt.ExploreDefinitionContext=MO;var ub=class extends zr.ParserRuleContext{exploreSource(){return this.getRuleContext(0,x4)}exploreProperties(){return this.tryGetRuleContext(0,s$)}refineOperator(){return this.tryGetRuleContext(0,ib)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_explore}enterRule(e){e.enterExplore&&e.enterExplore(this)}exitRule(e){e.exitExplore&&e.exitExplore(this)}accept(e){return e.visitExplore?e.visitExplore(this):e.visitChildren(this)}};jt.ExploreContext=ub;var x4=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreSource}copyFrom(e){super.copyFrom(e)}};jt.ExploreSourceContext=x4;var use=class extends x4{exploreName(){return this.getRuleContext(0,i$)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNamedSource&&e.enterNamedSource(this)}exitRule(e){e.exitNamedSource&&e.exitNamedSource(this)}accept(e){return e.visitNamedSource?e.visitNamedSource(this):e.visitChildren(this)}};jt.NamedSourceContext=use;var lse=class extends x4{exploreTable(){return this.getRuleContext(0,e$)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterTableSource&&e.enterTableSource(this)}exitRule(e){e.exitTableSource&&e.exitTableSource(this)}accept(e){return e.visitTableSource?e.visitTableSource(this):e.visitChildren(this)}};jt.TableSourceContext=lse;var cse=class extends x4{FROM(){return this.getToken(C.FROM,0)}OPAREN(){return this.getToken(C.OPAREN,0)}query(){return this.getRuleContext(0,m4)}CPAREN(){return this.getToken(C.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterQuerySource&&e.enterQuerySource(this)}exitRule(e){e.exitQuerySource&&e.exitQuerySource(this)}accept(e){return e.visitQuerySource?e.visitQuerySource(this):e.visitChildren(this)}};jt.QuerySourceContext=cse;var fse=class extends x4{FROM_SQL(){return this.getToken(C.FROM_SQL,0)}OPAREN(){return this.getToken(C.OPAREN,0)}sqlExploreNameRef(){return this.getRuleContext(0,M$)}CPAREN(){return this.getToken(C.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterSQLSource&&e.enterSQLSource(this)}exitRule(e){e.exitSQLSource&&e.exitSQLSource(this)}accept(e){return e.visitSQLSource?e.visitSQLSource(this):e.visitChildren(this)}};jt.SQLSourceContext=fse;var r$=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,Fd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreNameDef}enterRule(e){e.enterExploreNameDef&&e.enterExploreNameDef(this)}exitRule(e){e.exitExploreNameDef&&e.exitExploreNameDef(this)}accept(e){return e.visitExploreNameDef?e.visitExploreNameDef(this):e.visitChildren(this)}};jt.ExploreNameDefContext=r$;var i$=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,Fd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreName}enterRule(e){e.enterExploreName&&e.enterExploreName(this)}exitRule(e){e.exitExploreName&&e.exitExploreName(this)}accept(e){return e.visitExploreName?e.visitExploreName(this):e.visitChildren(this)}};jt.ExploreNameContext=i$;var s$=class extends zr.ParserRuleContext{OCURLY(){return this.tryGetToken(C.OCURLY,0)}CCURLY(){return this.tryGetToken(C.CCURLY,0)}exploreStatement(e){return e===void 0?this.getRuleContexts(_h):this.getRuleContext(e,_h)}SEMI(e){return e===void 0?this.getTokens(C.SEMI):this.getToken(C.SEMI,e)}filterShortcut(){return this.tryGetRuleContext(0,IO)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreProperties}enterRule(e){e.enterExploreProperties&&e.enterExploreProperties(this)}exitRule(e){e.exitExploreProperties&&e.exitExploreProperties(this)}accept(e){return e.visitExploreProperties?e.visitExploreProperties(this):e.visitChildren(this)}};jt.ExplorePropertiesContext=s$;var _h=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreStatement}copyFrom(e){super.copyFrom(e)}};jt.ExploreStatementContext=_h;var dse=class extends _h{DIMENSION(){return this.getToken(C.DIMENSION,0)}dimensionDefList(){return this.getRuleContext(0,a$)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreDimension&&e.enterDefExploreDimension(this)}exitRule(e){e.exitDefExploreDimension&&e.exitDefExploreDimension(this)}accept(e){return e.visitDefExploreDimension?e.visitDefExploreDimension(this):e.visitChildren(this)}};jt.DefExploreDimensionContext=dse;var hse=class extends _h{MEASURE(){return this.getToken(C.MEASURE,0)}measureDefList(){return this.getRuleContext(0,u$)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreMeasure&&e.enterDefExploreMeasure(this)}exitRule(e){e.exitDefExploreMeasure&&e.exitDefExploreMeasure(this)}accept(e){return e.visitDefExploreMeasure?e.visitDefExploreMeasure(this):e.visitChildren(this)}};jt.DefExploreMeasureContext=hse;var pse=class extends _h{declareStatement(){return this.getRuleContext(0,qO)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefDeclare_stub&&e.enterDefDeclare_stub(this)}exitRule(e){e.exitDefDeclare_stub&&e.exitDefDeclare_stub(this)}accept(e){return e.visitDefDeclare_stub?e.visitDefDeclare_stub(this):e.visitChildren(this)}};jt.DefDeclare_stubContext=pse;var mse=class extends _h{joinStatement(){return this.getRuleContext(0,y4)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoin_stub&&e.enterDefJoin_stub(this)}exitRule(e){e.exitDefJoin_stub&&e.exitDefJoin_stub(this)}accept(e){return e.visitDefJoin_stub?e.visitDefJoin_stub(this):e.visitChildren(this)}};jt.DefJoin_stubContext=mse;var xse=class extends _h{whereStatement(){return this.getRuleContext(0,cb)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreWhere&&e.enterDefExploreWhere(this)}exitRule(e){e.exitDefExploreWhere&&e.exitDefExploreWhere(this)}accept(e){return e.visitDefExploreWhere?e.visitDefExploreWhere(this):e.visitChildren(this)}};jt.DefExploreWhereContext=xse;var gse=class extends _h{PRIMARY_KEY(){return this.getToken(C.PRIMARY_KEY,0)}fieldName(){return this.getRuleContext(0,Dd)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExplorePrimaryKey&&e.enterDefExplorePrimaryKey(this)}exitRule(e){e.exitDefExplorePrimaryKey&&e.exitDefExplorePrimaryKey(this)}accept(e){return e.visitDefExplorePrimaryKey?e.visitDefExplorePrimaryKey(this):e.visitChildren(this)}};jt.DefExplorePrimaryKeyContext=gse;var yse=class extends _h{RENAME(){return this.getToken(C.RENAME,0)}renameList(){return this.getRuleContext(0,o$)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreRename&&e.enterDefExploreRename(this)}exitRule(e){e.exitDefExploreRename&&e.exitDefExploreRename(this)}accept(e){return e.visitDefExploreRename?e.visitDefExploreRename(this):e.visitChildren(this)}};jt.DefExploreRenameContext=yse;var vse=class extends _h{fieldNameList(){return this.getRuleContext(0,N$)}ACCEPT(){return this.tryGetToken(C.ACCEPT,0)}EXCEPT(){return this.tryGetToken(C.EXCEPT,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreEditField&&e.enterDefExploreEditField(this)}exitRule(e){e.exitDefExploreEditField&&e.exitDefExploreEditField(this)}accept(e){return e.visitDefExploreEditField?e.visitDefExploreEditField(this):e.visitChildren(this)}};jt.DefExploreEditFieldContext=vse;var _se=class extends _h{QUERY(){return this.getToken(C.QUERY,0)}subQueryDefList(){return this.getRuleContext(0,f$)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreQuery&&e.enterDefExploreQuery(this)}exitRule(e){e.exitDefExploreQuery&&e.exitDefExploreQuery(this)}accept(e){return e.visitDefExploreQuery?e.visitDefExploreQuery(this):e.visitChildren(this)}};jt.DefExploreQueryContext=_se;var o$=class extends zr.ParserRuleContext{exploreRenameDef(e){return e===void 0?this.getRuleContexts(PO):this.getRuleContext(e,PO)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_renameList}enterRule(e){e.enterRenameList&&e.enterRenameList(this)}exitRule(e){e.exitRenameList&&e.exitRenameList(this)}accept(e){return e.visitRenameList?e.visitRenameList(this):e.visitChildren(this)}};jt.RenameListContext=o$;var PO=class extends zr.ParserRuleContext{fieldName(e){return e===void 0?this.getRuleContexts(Dd):this.getRuleContext(e,Dd)}IS(){return this.getToken(C.IS,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreRenameDef}enterRule(e){e.enterExploreRenameDef&&e.enterExploreRenameDef(this)}exitRule(e){e.exitExploreRenameDef&&e.exitExploreRenameDef(this)}accept(e){return e.visitExploreRenameDef?e.visitExploreRenameDef(this):e.visitChildren(this)}};jt.ExploreRenameDefContext=PO;var a$=class extends zr.ParserRuleContext{dimensionDef(e){return e===void 0?this.getRuleContexts(Xw):this.getRuleContext(e,Xw)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_dimensionDefList}enterRule(e){e.enterDimensionDefList&&e.enterDimensionDefList(this)}exitRule(e){e.exitDimensionDefList&&e.exitDimensionDefList(this)}accept(e){return e.visitDimensionDefList?e.visitDimensionDefList(this):e.visitChildren(this)}};jt.DimensionDefListContext=a$;var u$=class extends zr.ParserRuleContext{measureDef(e){return e===void 0?this.getRuleContexts(jO):this.getRuleContext(e,jO)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_measureDefList}enterRule(e){e.enterMeasureDefList&&e.enterMeasureDefList(this)}exitRule(e){e.exitMeasureDefList&&e.exitMeasureDefList(this)}accept(e){return e.visitMeasureDefList?e.visitMeasureDefList(this):e.visitChildren(this)}};jt.MeasureDefListContext=u$;var g4=class extends zr.ParserRuleContext{fieldNameDef(){return this.getRuleContext(0,l$)}IS(){return this.getToken(C.IS,0)}fieldExpr(){return this.getRuleContext(0,Ci)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_fieldDef}enterRule(e){e.enterFieldDef&&e.enterFieldDef(this)}exitRule(e){e.exitFieldDef&&e.exitFieldDef(this)}accept(e){return e.visitFieldDef?e.visitFieldDef(this):e.visitChildren(this)}};jt.FieldDefContext=g4;var l$=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,Fd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_fieldNameDef}enterRule(e){e.enterFieldNameDef&&e.enterFieldNameDef(this)}exitRule(e){e.exitFieldNameDef&&e.exitFieldNameDef(this)}accept(e){return e.visitFieldNameDef?e.visitFieldNameDef(this):e.visitChildren(this)}};jt.FieldNameDefContext=l$;var BO=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,Fd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_joinNameDef}enterRule(e){e.enterJoinNameDef&&e.enterJoinNameDef(this)}exitRule(e){e.exitJoinNameDef&&e.exitJoinNameDef(this)}accept(e){return e.visitJoinNameDef?e.visitJoinNameDef(this):e.visitChildren(this)}};jt.JoinNameDefContext=BO;var jO=class extends zr.ParserRuleContext{fieldDef(){return this.getRuleContext(0,g4)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_measureDef}enterRule(e){e.enterMeasureDef&&e.enterMeasureDef(this)}exitRule(e){e.exitMeasureDef&&e.exitMeasureDef(this)}accept(e){return e.visitMeasureDef?e.visitMeasureDef(this):e.visitChildren(this)}};jt.MeasureDefContext=jO;var qO=class extends zr.ParserRuleContext{DECLARE(){return this.getToken(C.DECLARE,0)}fieldDef(e){return e===void 0?this.getRuleContexts(g4):this.getRuleContext(e,g4)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_declareStatement}enterRule(e){e.enterDeclareStatement&&e.enterDeclareStatement(this)}exitRule(e){e.exitDeclareStatement&&e.exitDeclareStatement(this)}accept(e){return e.visitDeclareStatement?e.visitDeclareStatement(this):e.visitChildren(this)}};jt.DeclareStatementContext=qO;var y4=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_joinStatement}copyFrom(e){super.copyFrom(e)}};jt.JoinStatementContext=y4;var bse=class extends y4{JOIN_ONE(){return this.getToken(C.JOIN_ONE,0)}joinList(){return this.getRuleContext(0,Kw)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoinOne&&e.enterDefJoinOne(this)}exitRule(e){e.exitDefJoinOne&&e.exitDefJoinOne(this)}accept(e){return e.visitDefJoinOne?e.visitDefJoinOne(this):e.visitChildren(this)}};jt.DefJoinOneContext=bse;var Ese=class extends y4{JOIN_MANY(){return this.getToken(C.JOIN_MANY,0)}joinList(){return this.getRuleContext(0,Kw)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoinMany&&e.enterDefJoinMany(this)}exitRule(e){e.exitDefJoinMany&&e.exitDefJoinMany(this)}accept(e){return e.visitDefJoinMany?e.visitDefJoinMany(this):e.visitChildren(this)}};jt.DefJoinManyContext=Ese;var Sse=class extends y4{JOIN_CROSS(){return this.getToken(C.JOIN_CROSS,0)}joinList(){return this.getRuleContext(0,Kw)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoinCross&&e.enterDefJoinCross(this)}exitRule(e){e.exitDefJoinCross&&e.exitDefJoinCross(this)}accept(e){return e.visitDefJoinCross?e.visitDefJoinCross(this):e.visitChildren(this)}};jt.DefJoinCrossContext=Sse;var Kw=class extends zr.ParserRuleContext{joinDef(e){return e===void 0?this.getRuleContexts(lb):this.getRuleContext(e,lb)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_joinList}enterRule(e){e.enterJoinList&&e.enterJoinList(this)}exitRule(e){e.exitJoinList&&e.exitJoinList(this)}accept(e){return e.visitJoinList?e.visitJoinList(this):e.visitChildren(this)}};jt.JoinListContext=Kw;var lb=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_joinDef}copyFrom(e){super.copyFrom(e)}};jt.JoinDefContext=lb;var wse=class extends lb{joinNameDef(){return this.getRuleContext(0,BO)}WITH(){return this.getToken(C.WITH,0)}fieldExpr(){return this.getRuleContext(0,Ci)}IS(){return this.tryGetToken(C.IS,0)}explore(){return this.tryGetRuleContext(0,ub)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterJoinWith&&e.enterJoinWith(this)}exitRule(e){e.exitJoinWith&&e.exitJoinWith(this)}accept(e){return e.visitJoinWith?e.visitJoinWith(this):e.visitChildren(this)}};jt.JoinWithContext=wse;var Cse=class extends lb{joinNameDef(){return this.getRuleContext(0,BO)}IS(){return this.tryGetToken(C.IS,0)}explore(){return this.tryGetRuleContext(0,ub)}ON(){return this.tryGetToken(C.ON,0)}joinExpression(){return this.tryGetRuleContext(0,c$)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterJoinOn&&e.enterJoinOn(this)}exitRule(e){e.exitJoinOn&&e.exitJoinOn(this)}accept(e){return e.visitJoinOn?e.visitJoinOn(this):e.visitChildren(this)}};jt.JoinOnContext=Cse;var c$=class extends zr.ParserRuleContext{fieldExpr(){return this.getRuleContext(0,Ci)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_joinExpression}enterRule(e){e.enterJoinExpression&&e.enterJoinExpression(this)}exitRule(e){e.exitJoinExpression&&e.exitJoinExpression(this)}accept(e){return e.visitJoinExpression?e.visitJoinExpression(this):e.visitChildren(this)}};jt.JoinExpressionContext=c$;var Ase=class extends zr.ParserRuleContext{whereStatement(){return this.tryGetRuleContext(0,cb)}havingStatement(){return this.tryGetRuleContext(0,$O)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_filterStatement}enterRule(e){e.enterFilterStatement&&e.enterFilterStatement(this)}exitRule(e){e.exitFilterStatement&&e.exitFilterStatement(this)}accept(e){return e.visitFilterStatement?e.visitFilterStatement(this):e.visitChildren(this)}};jt.FilterStatementContext=Ase;var Jw=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_filteredBy}copyFrom(e){super.copyFrom(e)}};jt.FilteredByContext=Jw;var Tse=class extends Jw{QMARK(){return this.getToken(C.QMARK,0)}fieldExpr(){return this.getRuleContext(0,Ci)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterFilterByShortcut&&e.enterFilterByShortcut(this)}exitRule(e){e.exitFilterByShortcut&&e.exitFilterByShortcut(this)}accept(e){return e.visitFilterByShortcut?e.visitFilterByShortcut(this):e.visitChildren(this)}};jt.FilterByShortcutContext=Tse;var Fse=class extends Jw{whereStatement(){return this.getRuleContext(0,cb)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterFilterByWhere&&e.enterFilterByWhere(this)}exitRule(e){e.exitFilterByWhere&&e.exitFilterByWhere(this)}accept(e){return e.visitFilterByWhere?e.visitFilterByWhere(this):e.visitChildren(this)}};jt.FilterByWhereContext=Fse;var UO=class extends zr.ParserRuleContext{fieldExpr(e){return e===void 0?this.getRuleContexts(Ci):this.getRuleContext(e,Ci)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_filterClauseList}enterRule(e){e.enterFilterClauseList&&e.enterFilterClauseList(this)}exitRule(e){e.exitFilterClauseList&&e.exitFilterClauseList(this)}accept(e){return e.visitFilterClauseList?e.visitFilterClauseList(this):e.visitChildren(this)}};jt.FilterClauseListContext=UO;var cb=class extends zr.ParserRuleContext{WHERE(){return this.getToken(C.WHERE,0)}filterClauseList(){return this.getRuleContext(0,UO)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_whereStatement}enterRule(e){e.enterWhereStatement&&e.enterWhereStatement(this)}exitRule(e){e.exitWhereStatement&&e.exitWhereStatement(this)}accept(e){return e.visitWhereStatement?e.visitWhereStatement(this):e.visitChildren(this)}};jt.WhereStatementContext=cb;var $O=class extends zr.ParserRuleContext{HAVING(){return this.getToken(C.HAVING,0)}filterClauseList(){return this.getRuleContext(0,UO)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_havingStatement}enterRule(e){e.enterHavingStatement&&e.enterHavingStatement(this)}exitRule(e){e.exitHavingStatement&&e.exitHavingStatement(this)}accept(e){return e.visitHavingStatement?e.visitHavingStatement(this):e.visitChildren(this)}};jt.HavingStatementContext=$O;var f$=class extends zr.ParserRuleContext{exploreQueryDef(e){return e===void 0?this.getRuleContexts(zO):this.getRuleContext(e,zO)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_subQueryDefList}enterRule(e){e.enterSubQueryDefList&&e.enterSubQueryDefList(this)}exitRule(e){e.exitSubQueryDefList&&e.exitSubQueryDefList(this)}accept(e){return e.visitSubQueryDefList?e.visitSubQueryDefList(this):e.visitChildren(this)}};jt.SubQueryDefListContext=f$;var d$=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,Fd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreQueryNameDef}enterRule(e){e.enterExploreQueryNameDef&&e.enterExploreQueryNameDef(this)}exitRule(e){e.exitExploreQueryNameDef&&e.exitExploreQueryNameDef(this)}accept(e){return e.visitExploreQueryNameDef?e.visitExploreQueryNameDef(this):e.visitChildren(this)}};jt.ExploreQueryNameDefContext=d$;var zO=class extends zr.ParserRuleContext{exploreQueryNameDef(){return this.getRuleContext(0,d$)}IS(){return this.getToken(C.IS,0)}pipelineFromName(){return this.getRuleContext(0,Yw)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreQueryDef}enterRule(e){e.enterExploreQueryDef&&e.enterExploreQueryDef(this)}exitRule(e){e.exitExploreQueryDef&&e.exitExploreQueryDef(this)}accept(e){return e.visitExploreQueryDef?e.visitExploreQueryDef(this):e.visitChildren(this)}};jt.ExploreQueryDefContext=zO;var HO=class extends zr.ParserRuleContext{groupByStatement(){return this.tryGetRuleContext(0,h$)}declareStatement(){return this.tryGetRuleContext(0,qO)}joinStatement(){return this.tryGetRuleContext(0,y4)}projectStatement(){return this.tryGetRuleContext(0,g$)}indexStatement(){return this.tryGetRuleContext(0,w$)}aggregateStatement(){return this.tryGetRuleContext(0,x$)}topStatement(){return this.tryGetRuleContext(0,E$)}limitStatement(){return this.tryGetRuleContext(0,_$)}orderByStatement(){return this.tryGetRuleContext(0,y$)}whereStatement(){return this.tryGetRuleContext(0,cb)}havingStatement(){return this.tryGetRuleContext(0,$O)}nestStatement(){return this.tryGetRuleContext(0,p$)}sampleStatement(){return this.tryGetRuleContext(0,C$)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_queryStatement}enterRule(e){e.enterQueryStatement&&e.enterQueryStatement(this)}exitRule(e){e.exitQueryStatement&&e.exitQueryStatement(this)}accept(e){return e.visitQueryStatement?e.visitQueryStatement(this):e.visitChildren(this)}};jt.QueryStatementContext=HO;var h$=class extends zr.ParserRuleContext{GROUP_BY(){return this.getToken(C.GROUP_BY,0)}queryFieldList(){return this.getRuleContext(0,VO)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_groupByStatement}enterRule(e){e.enterGroupByStatement&&e.enterGroupByStatement(this)}exitRule(e){e.exitGroupByStatement&&e.exitGroupByStatement(this)}accept(e){return e.visitGroupByStatement?e.visitGroupByStatement(this):e.visitChildren(this)}};jt.GroupByStatementContext=h$;var VO=class extends zr.ParserRuleContext{queryFieldEntry(e){return e===void 0?this.getRuleContexts(fb):this.getRuleContext(e,fb)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_queryFieldList}enterRule(e){e.enterQueryFieldList&&e.enterQueryFieldList(this)}exitRule(e){e.exitQueryFieldList&&e.exitQueryFieldList(this)}accept(e){return e.visitQueryFieldList?e.visitQueryFieldList(this):e.visitChildren(this)}};jt.QueryFieldListContext=VO;var Xw=class extends zr.ParserRuleContext{fieldDef(){return this.getRuleContext(0,g4)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_dimensionDef}enterRule(e){e.enterDimensionDef&&e.enterDimensionDef(this)}exitRule(e){e.exitDimensionDef&&e.exitDimensionDef(this)}accept(e){return e.visitDimensionDef?e.visitDimensionDef(this):e.visitChildren(this)}};jt.DimensionDefContext=Xw;var fb=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_queryFieldEntry}copyFrom(e){super.copyFrom(e)}};jt.QueryFieldEntryContext=fb;var Dse=class extends fb{fieldPath(){return this.getRuleContext(0,Cy)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterQueryFieldRef&&e.enterQueryFieldRef(this)}exitRule(e){e.exitQueryFieldRef&&e.exitQueryFieldRef(this)}accept(e){return e.visitQueryFieldRef?e.visitQueryFieldRef(this):e.visitChildren(this)}};jt.QueryFieldRefContext=Dse;var Ose=class extends fb{dimensionDef(){return this.getRuleContext(0,Xw)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterQueryFieldDef&&e.enterQueryFieldDef(this)}exitRule(e){e.exitQueryFieldDef&&e.exitQueryFieldDef(this)}accept(e){return e.visitQueryFieldDef?e.visitQueryFieldDef(this):e.visitChildren(this)}};jt.QueryFieldDefContext=Ose;var p$=class extends zr.ParserRuleContext{NEST(){return this.getToken(C.NEST,0)}nestedQueryList(){return this.getRuleContext(0,m$)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_nestStatement}enterRule(e){e.enterNestStatement&&e.enterNestStatement(this)}exitRule(e){e.exitNestStatement&&e.exitNestStatement(this)}accept(e){return e.visitNestStatement?e.visitNestStatement(this):e.visitChildren(this)}};jt.NestStatementContext=p$;var m$=class extends zr.ParserRuleContext{nestEntry(e){return e===void 0?this.getRuleContexts(db):this.getRuleContext(e,db)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_nestedQueryList}enterRule(e){e.enterNestedQueryList&&e.enterNestedQueryList(this)}exitRule(e){e.exitNestedQueryList&&e.exitNestedQueryList(this)}accept(e){return e.visitNestedQueryList?e.visitNestedQueryList(this):e.visitChildren(this)}};jt.NestedQueryListContext=m$;var db=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_nestEntry}copyFrom(e){super.copyFrom(e)}};jt.NestEntryContext=db;var Rse=class extends db{queryName(){return this.getRuleContext(0,ab)}queryProperties(){return this.tryGetRuleContext(0,ob)}refineOperator(){return this.tryGetRuleContext(0,ib)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNestExisting&&e.enterNestExisting(this)}exitRule(e){e.exitNestExisting&&e.exitNestExisting(this)}accept(e){return e.visitNestExisting?e.visitNestExisting(this):e.visitChildren(this)}};jt.NestExistingContext=Rse;var Nse=class extends db{queryName(){return this.getRuleContext(0,ab)}IS(){return this.getToken(C.IS,0)}pipelineFromName(){return this.getRuleContext(0,Yw)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNestDef&&e.enterNestDef(this)}exitRule(e){e.exitNestDef&&e.exitNestDef(this)}accept(e){return e.visitNestDef?e.visitNestDef(this):e.visitChildren(this)}};jt.NestDefContext=Nse;var x$=class extends zr.ParserRuleContext{AGGREGATE(){return this.getToken(C.AGGREGATE,0)}queryFieldList(){return this.getRuleContext(0,VO)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_aggregateStatement}enterRule(e){e.enterAggregateStatement&&e.enterAggregateStatement(this)}exitRule(e){e.exitAggregateStatement&&e.exitAggregateStatement(this)}accept(e){return e.visitAggregateStatement?e.visitAggregateStatement(this):e.visitChildren(this)}};jt.AggregateStatementContext=x$;var g$=class extends zr.ParserRuleContext{PROJECT(){return this.getToken(C.PROJECT,0)}fieldCollection(){return this.getRuleContext(0,L$)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_projectStatement}enterRule(e){e.enterProjectStatement&&e.enterProjectStatement(this)}exitRule(e){e.exitProjectStatement&&e.exitProjectStatement(this)}accept(e){return e.visitProjectStatement?e.visitProjectStatement(this):e.visitChildren(this)}};jt.ProjectStatementContext=g$;var y$=class extends zr.ParserRuleContext{ORDER_BY(){return this.getToken(C.ORDER_BY,0)}ordering(){return this.getRuleContext(0,v$)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_orderByStatement}enterRule(e){e.enterOrderByStatement&&e.enterOrderByStatement(this)}exitRule(e){e.exitOrderByStatement&&e.exitOrderByStatement(this)}accept(e){return e.visitOrderByStatement?e.visitOrderByStatement(this):e.visitChildren(this)}};jt.OrderByStatementContext=y$;var v$=class extends zr.ParserRuleContext{orderBySpec(e){return e===void 0?this.getRuleContexts(WO):this.getRuleContext(e,WO)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_ordering}enterRule(e){e.enterOrdering&&e.enterOrdering(this)}exitRule(e){e.exitOrdering&&e.exitOrdering(this)}accept(e){return e.visitOrdering?e.visitOrdering(this):e.visitChildren(this)}};jt.OrderingContext=v$;var WO=class extends zr.ParserRuleContext{INTEGER_LITERAL(){return this.tryGetToken(C.INTEGER_LITERAL,0)}fieldName(){return this.tryGetRuleContext(0,Dd)}ASC(){return this.tryGetToken(C.ASC,0)}DESC(){return this.tryGetToken(C.DESC,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_orderBySpec}enterRule(e){e.enterOrderBySpec&&e.enterOrderBySpec(this)}exitRule(e){e.exitOrderBySpec&&e.exitOrderBySpec(this)}accept(e){return e.visitOrderBySpec?e.visitOrderBySpec(this):e.visitChildren(this)}};jt.OrderBySpecContext=WO;var _$=class extends zr.ParserRuleContext{LIMIT(){return this.getToken(C.LIMIT,0)}INTEGER_LITERAL(){return this.getToken(C.INTEGER_LITERAL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_limitStatement}enterRule(e){e.enterLimitStatement&&e.enterLimitStatement(this)}exitRule(e){e.exitLimitStatement&&e.exitLimitStatement(this)}accept(e){return e.visitLimitStatement?e.visitLimitStatement(this):e.visitChildren(this)}};jt.LimitStatementContext=_$;var b$=class extends zr.ParserRuleContext{BY(){return this.getToken(C.BY,0)}fieldName(){return this.tryGetRuleContext(0,Dd)}fieldExpr(){return this.tryGetRuleContext(0,Ci)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_bySpec}enterRule(e){e.enterBySpec&&e.enterBySpec(this)}exitRule(e){e.exitBySpec&&e.exitBySpec(this)}accept(e){return e.visitBySpec?e.visitBySpec(this):e.visitChildren(this)}};jt.BySpecContext=b$;var E$=class extends zr.ParserRuleContext{TOP(){return this.getToken(C.TOP,0)}INTEGER_LITERAL(){return this.getToken(C.INTEGER_LITERAL,0)}bySpec(){return this.tryGetRuleContext(0,b$)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_topStatement}enterRule(e){e.enterTopStatement&&e.enterTopStatement(this)}exitRule(e){e.exitTopStatement&&e.exitTopStatement(this)}accept(e){return e.visitTopStatement?e.visitTopStatement(this):e.visitChildren(this)}};jt.TopStatementContext=E$;var QO=class extends zr.ParserRuleContext{fieldPath(){return this.tryGetRuleContext(0,Cy)}DOT(){return this.tryGetToken(C.DOT,0)}STAR(){return this.tryGetToken(C.STAR,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_indexElement}enterRule(e){e.enterIndexElement&&e.enterIndexElement(this)}exitRule(e){e.exitIndexElement&&e.exitIndexElement(this)}accept(e){return e.visitIndexElement?e.visitIndexElement(this):e.visitChildren(this)}};jt.IndexElementContext=QO;var S$=class extends zr.ParserRuleContext{indexElement(e){return e===void 0?this.getRuleContexts(QO):this.getRuleContext(e,QO)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_indexFields}enterRule(e){e.enterIndexFields&&e.enterIndexFields(this)}exitRule(e){e.exitIndexFields&&e.exitIndexFields(this)}accept(e){return e.visitIndexFields?e.visitIndexFields(this):e.visitChildren(this)}};jt.IndexFieldsContext=S$;var w$=class extends zr.ParserRuleContext{INDEX(){return this.getToken(C.INDEX,0)}indexFields(){return this.getRuleContext(0,S$)}BY(){return this.tryGetToken(C.BY,0)}fieldName(){return this.tryGetRuleContext(0,Dd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_indexStatement}enterRule(e){e.enterIndexStatement&&e.enterIndexStatement(this)}exitRule(e){e.exitIndexStatement&&e.exitIndexStatement(this)}accept(e){return e.visitIndexStatement?e.visitIndexStatement(this):e.visitChildren(this)}};jt.IndexStatementContext=w$;var C$=class extends zr.ParserRuleContext{SAMPLE(){return this.getToken(C.SAMPLE,0)}sampleSpec(){return this.getRuleContext(0,A$)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_sampleStatement}enterRule(e){e.enterSampleStatement&&e.enterSampleStatement(this)}exitRule(e){e.exitSampleStatement&&e.exitSampleStatement(this)}accept(e){return e.visitSampleStatement?e.visitSampleStatement(this):e.visitChildren(this)}};jt.SampleStatementContext=C$;var A$=class extends zr.ParserRuleContext{PERCENT_LITERAL(){return this.tryGetToken(C.PERCENT_LITERAL,0)}INTEGER_LITERAL(){return this.tryGetToken(C.INTEGER_LITERAL,0)}TRUE(){return this.tryGetToken(C.TRUE,0)}FALSE(){return this.tryGetToken(C.FALSE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_sampleSpec}enterRule(e){e.enterSampleSpec&&e.enterSampleSpec(this)}exitRule(e){e.exitSampleSpec&&e.exitSampleSpec(this)}accept(e){return e.visitSampleSpec?e.visitSampleSpec(this):e.visitChildren(this)}};jt.SampleSpecContext=A$;var T$=class extends zr.ParserRuleContext{SUM(){return this.tryGetToken(C.SUM,0)}COUNT(){return this.tryGetToken(C.COUNT,0)}AVG(){return this.tryGetToken(C.AVG,0)}MIN(){return this.tryGetToken(C.MIN,0)}MAX(){return this.tryGetToken(C.MAX,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_aggregate}enterRule(e){e.enterAggregate&&e.enterAggregate(this)}exitRule(e){e.exitAggregate&&e.exitAggregate(this)}accept(e){return e.visitAggregate?e.visitAggregate(this):e.visitChildren(this)}};jt.AggregateContext=T$;var GO=class extends zr.ParserRuleContext{STRING(){return this.tryGetToken(C.STRING,0)}NUMBER(){return this.tryGetToken(C.NUMBER,0)}BOOLEAN(){return this.tryGetToken(C.BOOLEAN,0)}DATE(){return this.tryGetToken(C.DATE,0)}TIMESTAMP(){return this.tryGetToken(C.TIMESTAMP,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_malloyType}enterRule(e){e.enterMalloyType&&e.enterMalloyType(this)}exitRule(e){e.exitMalloyType&&e.exitMalloyType(this)}accept(e){return e.visitMalloyType?e.visitMalloyType(this):e.visitChildren(this)}};jt.MalloyTypeContext=GO;var YO=class extends zr.ParserRuleContext{MATCH(){return this.tryGetToken(C.MATCH,0)}NOT_MATCH(){return this.tryGetToken(C.NOT_MATCH,0)}GT(){return this.tryGetToken(C.GT,0)}LT(){return this.tryGetToken(C.LT,0)}GTE(){return this.tryGetToken(C.GTE,0)}LTE(){return this.tryGetToken(C.LTE,0)}EQ(){return this.tryGetToken(C.EQ,0)}NE(){return this.tryGetToken(C.NE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_compareOp}enterRule(e){e.enterCompareOp&&e.enterCompareOp(this)}exitRule(e){e.exitCompareOp&&e.exitCompareOp(this)}accept(e){return e.visitCompareOp?e.visitCompareOp(this):e.visitChildren(this)}};jt.CompareOpContext=YO;var Im=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_literal}copyFrom(e){super.copyFrom(e)}};jt.LiteralContext=Im;var Lse=class extends Im{STRING_LITERAL(){return this.getToken(C.STRING_LITERAL,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprString&&e.enterExprString(this)}exitRule(e){e.exitExprString&&e.exitExprString(this)}accept(e){return e.visitExprString?e.visitExprString(this):e.visitChildren(this)}};jt.ExprStringContext=Lse;var kse=class extends Im{NUMERIC_LITERAL(){return this.tryGetToken(C.NUMERIC_LITERAL,0)}INTEGER_LITERAL(){return this.tryGetToken(C.INTEGER_LITERAL,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNumber&&e.enterExprNumber(this)}exitRule(e){e.exitExprNumber&&e.exitExprNumber(this)}accept(e){return e.visitExprNumber?e.visitExprNumber(this):e.visitChildren(this)}};jt.ExprNumberContext=kse;var Ise=class extends Im{dateLiteral(){return this.getRuleContext(0,Tx)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprTime&&e.enterExprTime(this)}exitRule(e){e.exitExprTime&&e.exitExprTime(this)}accept(e){return e.visitExprTime?e.visitExprTime(this):e.visitChildren(this)}};jt.ExprTimeContext=Ise;var Mse=class extends Im{NULL(){return this.getToken(C.NULL,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNULL&&e.enterExprNULL(this)}exitRule(e){e.exitExprNULL&&e.exitExprNULL(this)}accept(e){return e.visitExprNULL?e.visitExprNULL(this):e.visitChildren(this)}};jt.ExprNULLContext=Mse;var Pse=class extends Im{TRUE(){return this.tryGetToken(C.TRUE,0)}FALSE(){return this.tryGetToken(C.FALSE,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprBool&&e.enterExprBool(this)}exitRule(e){e.exitExprBool&&e.exitExprBool(this)}accept(e){return e.visitExprBool?e.visitExprBool(this):e.visitChildren(this)}};jt.ExprBoolContext=Pse;var Bse=class extends Im{HACKY_REGEX(){return this.getToken(C.HACKY_REGEX,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprRegex&&e.enterExprRegex(this)}exitRule(e){e.exitExprRegex&&e.exitExprRegex(this)}accept(e){return e.visitExprRegex?e.visitExprRegex(this):e.visitChildren(this)}};jt.ExprRegexContext=Bse;var jse=class extends Im{NOW(){return this.getToken(C.NOW,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNow&&e.enterExprNow(this)}exitRule(e){e.exitExprNow&&e.exitExprNow(this)}accept(e){return e.visitExprNow?e.visitExprNow(this):e.visitChildren(this)}};jt.ExprNowContext=jse;var Tx=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_dateLiteral}copyFrom(e){super.copyFrom(e)}};jt.DateLiteralContext=Tx;var qse=class extends Tx{LITERAL_TIMESTAMP(){return this.getToken(C.LITERAL_TIMESTAMP,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralTimestamp&&e.enterLiteralTimestamp(this)}exitRule(e){e.exitLiteralTimestamp&&e.exitLiteralTimestamp(this)}accept(e){return e.visitLiteralTimestamp?e.visitLiteralTimestamp(this):e.visitChildren(this)}};jt.LiteralTimestampContext=qse;var Use=class extends Tx{LITERAL_DAY(){return this.getToken(C.LITERAL_DAY,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralDay&&e.enterLiteralDay(this)}exitRule(e){e.exitLiteralDay&&e.exitLiteralDay(this)}accept(e){return e.visitLiteralDay?e.visitLiteralDay(this):e.visitChildren(this)}};jt.LiteralDayContext=Use;var $se=class extends Tx{LITERAL_WEEK(){return this.getToken(C.LITERAL_WEEK,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralWeek&&e.enterLiteralWeek(this)}exitRule(e){e.exitLiteralWeek&&e.exitLiteralWeek(this)}accept(e){return e.visitLiteralWeek?e.visitLiteralWeek(this):e.visitChildren(this)}};jt.LiteralWeekContext=$se;var zse=class extends Tx{LITERAL_MONTH(){return this.getToken(C.LITERAL_MONTH,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralMonth&&e.enterLiteralMonth(this)}exitRule(e){e.exitLiteralMonth&&e.exitLiteralMonth(this)}accept(e){return e.visitLiteralMonth?e.visitLiteralMonth(this):e.visitChildren(this)}};jt.LiteralMonthContext=zse;var Hse=class extends Tx{LITERAL_QUARTER(){return this.getToken(C.LITERAL_QUARTER,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralQuarter&&e.enterLiteralQuarter(this)}exitRule(e){e.exitLiteralQuarter&&e.exitLiteralQuarter(this)}accept(e){return e.visitLiteralQuarter?e.visitLiteralQuarter(this):e.visitChildren(this)}};jt.LiteralQuarterContext=Hse;var Vse=class extends Tx{LITERAL_YEAR(){return this.getToken(C.LITERAL_YEAR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralYear&&e.enterLiteralYear(this)}exitRule(e){e.exitLiteralYear&&e.exitLiteralYear(this)}accept(e){return e.visitLiteralYear?e.visitLiteralYear(this):e.visitChildren(this)}};jt.LiteralYearContext=Vse;var F$=class extends zr.ParserRuleContext{STRING_LITERAL(){return this.getToken(C.STRING_LITERAL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_tableName}enterRule(e){e.enterTableName&&e.enterTableName(this)}exitRule(e){e.exitTableName&&e.exitTableName(this)}accept(e){return e.visitTableName?e.visitTableName(this):e.visitChildren(this)}};jt.TableNameContext=F$;var Fd=class extends zr.ParserRuleContext{IDENTIFIER(){return this.tryGetToken(C.IDENTIFIER,0)}OBJECT_NAME_LITERAL(){return this.tryGetToken(C.OBJECT_NAME_LITERAL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_id}enterRule(e){e.enterId&&e.enterId(this)}exitRule(e){e.exitId&&e.exitId(this)}accept(e){return e.visitId?e.visitId(this):e.visitChildren(this)}};jt.IdContext=Fd;var hb=class extends zr.ParserRuleContext{SECOND(){return this.tryGetToken(C.SECOND,0)}MINUTE(){return this.tryGetToken(C.MINUTE,0)}HOUR(){return this.tryGetToken(C.HOUR,0)}DAY(){return this.tryGetToken(C.DAY,0)}WEEK(){return this.tryGetToken(C.WEEK,0)}MONTH(){return this.tryGetToken(C.MONTH,0)}QUARTER(){return this.tryGetToken(C.QUARTER,0)}YEAR(){return this.tryGetToken(C.YEAR,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_timeframe}enterRule(e){e.enterTimeframe&&e.enterTimeframe(this)}exitRule(e){e.exitTimeframe&&e.exitTimeframe(this)}accept(e){return e.visitTimeframe?e.visitTimeframe(this):e.visitChildren(this)}};jt.TimeframeContext=hb;var D$=class extends zr.ParserRuleContext{ALL(){return this.tryGetToken(C.ALL,0)}EXCLUDE(){return this.tryGetToken(C.EXCLUDE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_ungroup}enterRule(e){e.enterUngroup&&e.enterUngroup(this)}exitRule(e){e.exitUngroup&&e.exitUngroup(this)}accept(e){return e.visitUngroup?e.visitUngroup(this):e.visitChildren(this)}};jt.UngroupContext=D$;var Ci=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_fieldExpr}copyFrom(e){super.copyFrom(e)}};jt.FieldExprContext=Ci;var Wse=class extends Ci{fieldPath(){return this.getRuleContext(0,Cy)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprFieldPath&&e.enterExprFieldPath(this)}exitRule(e){e.exitExprFieldPath&&e.exitExprFieldPath(this)}accept(e){return e.visitExprFieldPath?e.visitExprFieldPath(this):e.visitChildren(this)}};jt.ExprFieldPathContext=Wse;var Qse=class extends Ci{fieldExpr(){return this.getRuleContext(0,Ci)}OCURLY(){return this.getToken(C.OCURLY,0)}filteredBy(){return this.getRuleContext(0,Jw)}CCURLY(){return this.getToken(C.CCURLY,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprFilter&&e.enterExprFilter(this)}exitRule(e){e.exitExprFilter&&e.exitExprFilter(this)}accept(e){return e.visitExprFilter?e.visitExprFilter(this):e.visitChildren(this)}};jt.ExprFilterContext=Qse;var Gse=class extends Ci{literal(){return this.getRuleContext(0,Im)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprLiteral&&e.enterExprLiteral(this)}exitRule(e){e.exitExprLiteral&&e.exitExprLiteral(this)}accept(e){return e.visitExprLiteral?e.visitExprLiteral(this):e.visitChildren(this)}};jt.ExprLiteralContext=Gse;var Yse=class extends Ci{MINUS(){return this.getToken(C.MINUS,0)}fieldExpr(){return this.getRuleContext(0,Ci)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprMinus&&e.enterExprMinus(this)}exitRule(e){e.exitExprMinus&&e.exitExprMinus(this)}accept(e){return e.visitExprMinus?e.visitExprMinus(this):e.visitChildren(this)}};jt.ExprMinusContext=Yse;var Kse=class extends Ci{fieldExpr(){return this.getRuleContext(0,Ci)}timeframe(){return this.getRuleContext(0,hb)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprDuration&&e.enterExprDuration(this)}exitRule(e){e.exitExprDuration&&e.exitExprDuration(this)}accept(e){return e.visitExprDuration?e.visitExprDuration(this):e.visitChildren(this)}};jt.ExprDurationContext=Kse;var Jse=class extends Ci{fieldExpr(){return this.getRuleContext(0,Ci)}DOT(){return this.getToken(C.DOT,0)}timeframe(){return this.getRuleContext(0,hb)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprTimeTrunc&&e.enterExprTimeTrunc(this)}exitRule(e){e.exitExprTimeTrunc&&e.exitExprTimeTrunc(this)}accept(e){return e.visitExprTimeTrunc?e.visitExprTimeTrunc(this):e.visitChildren(this)}};jt.ExprTimeTruncContext=Jse;var Xse=class extends Ci{fieldExpr(){return this.getRuleContext(0,Ci)}DOUBLECOLON(){return this.getToken(C.DOUBLECOLON,0)}malloyType(){return this.getRuleContext(0,GO)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprSafeCast&&e.enterExprSafeCast(this)}exitRule(e){e.exitExprSafeCast&&e.exitExprSafeCast(this)}accept(e){return e.visitExprSafeCast?e.visitExprSafeCast(this):e.visitChildren(this)}};jt.ExprSafeCastContext=Xse;var Zse=class extends Ci{fieldExpr(e){return e===void 0?this.getRuleContexts(Ci):this.getRuleContext(e,Ci)}STAR(){return this.tryGetToken(C.STAR,0)}SLASH(){return this.tryGetToken(C.SLASH,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprMulDiv&&e.enterExprMulDiv(this)}exitRule(e){e.exitExprMulDiv&&e.exitExprMulDiv(this)}accept(e){return e.visitExprMulDiv?e.visitExprMulDiv(this):e.visitChildren(this)}};jt.ExprMulDivContext=Zse;var eoe=class extends Ci{fieldExpr(e){return e===void 0?this.getRuleContexts(Ci):this.getRuleContext(e,Ci)}PLUS(){return this.tryGetToken(C.PLUS,0)}MINUS(){return this.tryGetToken(C.MINUS,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprAddSub&&e.enterExprAddSub(this)}exitRule(e){e.exitExprAddSub&&e.exitExprAddSub(this)}accept(e){return e.visitExprAddSub?e.visitExprAddSub(this):e.visitChildren(this)}};jt.ExprAddSubContext=eoe;var toe=class extends Ci{fieldExpr(e){return e===void 0?this.getRuleContexts(Ci):this.getRuleContext(e,Ci)}TO(){return this.getToken(C.TO,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprRange&&e.enterExprRange(this)}exitRule(e){e.exitExprRange&&e.exitExprRange(this)}accept(e){return e.visitExprRange?e.visitExprRange(this):e.visitChildren(this)}};jt.ExprRangeContext=toe;var noe=class extends Ci{constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}FOR(){return this.getToken(C.FOR,0)}timeframe(){return this.getRuleContext(0,hb)}fieldExpr(e){return e===void 0?this.getRuleContexts(Ci):this.getRuleContext(e,Ci)}enterRule(e){e.enterExprForRange&&e.enterExprForRange(this)}exitRule(e){e.exitExprForRange&&e.exitExprForRange(this)}accept(e){return e.visitExprForRange?e.visitExprForRange(this):e.visitChildren(this)}};jt.ExprForRangeContext=noe;var roe=class extends Ci{fieldExpr(){return this.getRuleContext(0,Ci)}partialAllowedFieldExpr(){return this.getRuleContext(0,wy)}AMPER(){return this.tryGetToken(C.AMPER,0)}BAR(){return this.tryGetToken(C.BAR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprLogicalTree&&e.enterExprLogicalTree(this)}exitRule(e){e.exitExprLogicalTree&&e.exitExprLogicalTree(this)}accept(e){return e.visitExprLogicalTree?e.visitExprLogicalTree(this):e.visitChildren(this)}};jt.ExprLogicalTreeContext=roe;var ioe=class extends Ci{fieldExpr(e){return e===void 0?this.getRuleContexts(Ci):this.getRuleContext(e,Ci)}compareOp(){return this.getRuleContext(0,YO)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprCompare&&e.enterExprCompare(this)}exitRule(e){e.exitExprCompare&&e.exitExprCompare(this)}accept(e){return e.visitExprCompare?e.visitExprCompare(this):e.visitChildren(this)}};jt.ExprCompareContext=ioe;var soe=class extends Ci{fieldExpr(){return this.getRuleContext(0,Ci)}partialAllowedFieldExpr(){return this.getRuleContext(0,wy)}COLON(){return this.tryGetToken(C.COLON,0)}QMARK(){return this.tryGetToken(C.QMARK,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprApply&&e.enterExprApply(this)}exitRule(e){e.exitExprApply&&e.exitExprApply(this)}accept(e){return e.visitExprApply?e.visitExprApply(this):e.visitChildren(this)}};jt.ExprApplyContext=soe;var ooe=class extends Ci{NOT(){return this.getToken(C.NOT,0)}fieldExpr(){return this.getRuleContext(0,Ci)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNot&&e.enterExprNot(this)}exitRule(e){e.exitExprNot&&e.exitExprNot(this)}accept(e){return e.visitExprNot?e.visitExprNot(this):e.visitChildren(this)}};jt.ExprNotContext=ooe;var aoe=class extends Ci{fieldExpr(e){return e===void 0?this.getRuleContexts(Ci):this.getRuleContext(e,Ci)}AND(){return this.tryGetToken(C.AND,0)}OR(){return this.tryGetToken(C.OR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprLogical&&e.enterExprLogical(this)}exitRule(e){e.exitExprLogical&&e.exitExprLogical(this)}accept(e){return e.visitExprLogical?e.visitExprLogical(this):e.visitChildren(this)}};jt.ExprLogicalContext=aoe;var uoe=class extends Ci{CAST(){return this.getToken(C.CAST,0)}OPAREN(){return this.getToken(C.OPAREN,0)}fieldExpr(){return this.getRuleContext(0,Ci)}AS(){return this.getToken(C.AS,0)}malloyType(){return this.getRuleContext(0,GO)}CPAREN(){return this.getToken(C.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprCast&&e.enterExprCast(this)}exitRule(e){e.exitExprCast&&e.exitExprCast(this)}accept(e){return e.visitExprCast?e.visitExprCast(this):e.visitChildren(this)}};jt.ExprCastContext=uoe;var loe=class extends Ci{COUNT(){return this.getToken(C.COUNT,0)}OPAREN(){return this.getToken(C.OPAREN,0)}DISTINCT(){return this.getToken(C.DISTINCT,0)}fieldExpr(){return this.getRuleContext(0,Ci)}CPAREN(){return this.getToken(C.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprCountDisinct&&e.enterExprCountDisinct(this)}exitRule(e){e.exitExprCountDisinct&&e.exitExprCountDisinct(this)}accept(e){return e.visitExprCountDisinct?e.visitExprCountDisinct(this):e.visitChildren(this)}};jt.ExprCountDisinctContext=loe;var coe=class extends Ci{aggregate(){return this.getRuleContext(0,T$)}OPAREN(){return this.getToken(C.OPAREN,0)}CPAREN(){return this.getToken(C.CPAREN,0)}fieldPath(){return this.tryGetRuleContext(0,Cy)}DOT(){return this.tryGetToken(C.DOT,0)}fieldExpr(){return this.tryGetRuleContext(0,Ci)}STAR(){return this.tryGetToken(C.STAR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprAggregate&&e.enterExprAggregate(this)}exitRule(e){e.exitExprAggregate&&e.exitExprAggregate(this)}accept(e){return e.visitExprAggregate?e.visitExprAggregate(this):e.visitChildren(this)}};jt.ExprAggregateContext=coe;var foe=class extends Ci{OPAREN(){return this.getToken(C.OPAREN,0)}partialAllowedFieldExpr(){return this.getRuleContext(0,wy)}CPAREN(){return this.getToken(C.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprExpr&&e.enterExprExpr(this)}exitRule(e){e.exitExprExpr&&e.exitExprExpr(this)}accept(e){return e.visitExprExpr?e.visitExprExpr(this):e.visitChildren(this)}};jt.ExprExprContext=foe;var doe=class extends Ci{OPAREN(){return this.getToken(C.OPAREN,0)}CPAREN(){return this.getToken(C.CPAREN,0)}id(){return this.tryGetRuleContext(0,Fd)}timeframe(){return this.tryGetRuleContext(0,hb)}argumentList(){return this.tryGetRuleContext(0,R$)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprFunc&&e.enterExprFunc(this)}exitRule(e){e.exitExprFunc&&e.exitExprFunc(this)}accept(e){return e.visitExprFunc?e.visitExprFunc(this):e.visitChildren(this)}};jt.ExprFuncContext=doe;var hoe=class extends Ci{pickStatement(){return this.getRuleContext(0,O$)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprPick&&e.enterExprPick(this)}exitRule(e){e.exitExprPick&&e.exitExprPick(this)}accept(e){return e.visitExprPick?e.visitExprPick(this):e.visitChildren(this)}};jt.ExprPickContext=hoe;var poe=class extends Ci{ungroup(){return this.getRuleContext(0,D$)}OPAREN(){return this.getToken(C.OPAREN,0)}fieldExpr(){return this.getRuleContext(0,Ci)}CPAREN(){return this.getToken(C.CPAREN,0)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}fieldName(e){return e===void 0?this.getRuleContexts(Dd):this.getRuleContext(e,Dd)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprUngroup&&e.enterExprUngroup(this)}exitRule(e){e.exitExprUngroup&&e.exitExprUngroup(this)}accept(e){return e.visitExprUngroup?e.visitExprUngroup(this):e.visitChildren(this)}};jt.ExprUngroupContext=poe;var wy=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_partialAllowedFieldExpr}copyFrom(e){super.copyFrom(e)}};jt.PartialAllowedFieldExprContext=wy;var moe=class extends wy{compareOp(){return this.getRuleContext(0,YO)}fieldExpr(){return this.getRuleContext(0,Ci)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprPartialCompare&&e.enterExprPartialCompare(this)}exitRule(e){e.exitExprPartialCompare&&e.exitExprPartialCompare(this)}accept(e){return e.visitExprPartialCompare?e.visitExprPartialCompare(this):e.visitChildren(this)}};jt.ExprPartialCompareContext=moe;var xoe=class extends wy{fieldExpr(){return this.getRuleContext(0,Ci)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNotPartial&&e.enterExprNotPartial(this)}exitRule(e){e.exitExprNotPartial&&e.exitExprNotPartial(this)}accept(e){return e.visitExprNotPartial?e.visitExprNotPartial(this):e.visitChildren(this)}};jt.ExprNotPartialContext=xoe;var O$=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}pick(e){return e===void 0?this.getRuleContexts(KO):this.getRuleContext(e,KO)}ELSE(){return this.tryGetToken(C.ELSE,0)}fieldExpr(){return this.tryGetRuleContext(0,Ci)}get ruleIndex(){return C.RULE_pickStatement}enterRule(e){e.enterPickStatement&&e.enterPickStatement(this)}exitRule(e){e.exitPickStatement&&e.exitPickStatement(this)}accept(e){return e.visitPickStatement?e.visitPickStatement(this):e.visitChildren(this)}};jt.PickStatementContext=O$;var KO=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}PICK(){return this.getToken(C.PICK,0)}WHEN(){return this.getToken(C.WHEN,0)}partialAllowedFieldExpr(){return this.getRuleContext(0,wy)}fieldExpr(){return this.tryGetRuleContext(0,Ci)}get ruleIndex(){return C.RULE_pick}enterRule(e){e.enterPick&&e.enterPick(this)}exitRule(e){e.exitPick&&e.exitPick(this)}accept(e){return e.visitPick?e.visitPick(this):e.visitChildren(this)}};jt.PickContext=KO;var R$=class extends zr.ParserRuleContext{fieldExpr(e){return e===void 0?this.getRuleContexts(Ci):this.getRuleContext(e,Ci)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_argumentList}enterRule(e){e.enterArgumentList&&e.enterArgumentList(this)}exitRule(e){e.exitArgumentList&&e.exitArgumentList(this)}accept(e){return e.visitArgumentList?e.visitArgumentList(this):e.visitChildren(this)}};jt.ArgumentListContext=R$;var N$=class extends zr.ParserRuleContext{fieldName(e){return e===void 0?this.getRuleContexts(Dd):this.getRuleContext(e,Dd)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_fieldNameList}enterRule(e){e.enterFieldNameList&&e.enterFieldNameList(this)}exitRule(e){e.exitFieldNameList&&e.exitFieldNameList(this)}accept(e){return e.visitFieldNameList?e.visitFieldNameList(this):e.visitChildren(this)}};jt.FieldNameListContext=N$;var L$=class extends zr.ParserRuleContext{collectionMember(e){return e===void 0?this.getRuleContexts(v4):this.getRuleContext(e,v4)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_fieldCollection}enterRule(e){e.enterFieldCollection&&e.enterFieldCollection(this)}exitRule(e){e.exitFieldCollection&&e.exitFieldCollection(this)}accept(e){return e.visitFieldCollection?e.visitFieldCollection(this):e.visitChildren(this)}};jt.FieldCollectionContext=L$;var v4=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_collectionMember}copyFrom(e){super.copyFrom(e)}};jt.CollectionMemberContext=v4;var goe=class extends v4{fieldPath(){return this.getRuleContext(0,Cy)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNameMember&&e.enterNameMember(this)}exitRule(e){e.exitNameMember&&e.exitNameMember(this)}accept(e){return e.visitNameMember?e.visitNameMember(this):e.visitChildren(this)}};jt.NameMemberContext=goe;var yoe=class extends v4{STAR(){return this.tryGetToken(C.STAR,0)}STARSTAR(){return this.tryGetToken(C.STARSTAR,0)}fieldPath(){return this.tryGetRuleContext(0,Cy)}DOT(){return this.tryGetToken(C.DOT,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterWildMember&&e.enterWildMember(this)}exitRule(e){e.exitWildMember&&e.exitWildMember(this)}accept(e){return e.visitWildMember?e.visitWildMember(this):e.visitChildren(this)}};jt.WildMemberContext=yoe;var voe=class extends v4{fieldDef(){return this.getRuleContext(0,g4)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNewMember&&e.enterNewMember(this)}exitRule(e){e.exitNewMember&&e.exitNewMember(this)}accept(e){return e.visitNewMember?e.visitNewMember(this):e.visitChildren(this)}};jt.NewMemberContext=voe;var Cy=class extends zr.ParserRuleContext{fieldName(e){return e===void 0?this.getRuleContexts(Dd):this.getRuleContext(e,Dd)}DOT(e){return e===void 0?this.getTokens(C.DOT):this.getToken(C.DOT,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_fieldPath}enterRule(e){e.enterFieldPath&&e.enterFieldPath(this)}exitRule(e){e.exitFieldPath&&e.exitFieldPath(this)}accept(e){return e.visitFieldPath?e.visitFieldPath(this):e.visitChildren(this)}};jt.FieldPathContext=Cy;var _oe=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,Fd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_joinName}enterRule(e){e.enterJoinName&&e.enterJoinName(this)}exitRule(e){e.exitJoinName&&e.exitJoinName(this)}accept(e){return e.visitJoinName?e.visitJoinName(this):e.visitChildren(this)}};jt.JoinNameContext=_oe;var Dd=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,Fd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_fieldName}enterRule(e){e.enterFieldName&&e.enterFieldName(this)}exitRule(e){e.exitFieldName&&e.exitFieldName(this)}accept(e){return e.visitFieldName?e.visitFieldName(this):e.visitChildren(this)}};jt.FieldNameContext=Dd;var boe=class extends zr.ParserRuleContext{fieldExpr(){return this.getRuleContext(0,Ci)}EOF(){return this.getToken(C.EOF,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_justExpr}enterRule(e){e.enterJustExpr&&e.enterJustExpr(this)}exitRule(e){e.exitJustExpr&&e.exitJustExpr(this)}accept(e){return e.visitJustExpr?e.visitJustExpr(this):e.visitChildren(this)}};jt.JustExprContext=boe;var Eoe=class extends zr.ParserRuleContext{jsonValue(){return this.getRuleContext(0,pb)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_json}enterRule(e){e.enterJson&&e.enterJson(this)}exitRule(e){e.exitJson&&e.exitJson(this)}accept(e){return e.visitJson?e.visitJson(this):e.visitChildren(this)}};jt.JsonContext=Eoe;var pb=class extends zr.ParserRuleContext{JSON_STRING(){return this.tryGetToken(C.JSON_STRING,0)}INTEGER_LITERAL(){return this.tryGetToken(C.INTEGER_LITERAL,0)}NUMERIC_LITERAL(){return this.tryGetToken(C.NUMERIC_LITERAL,0)}jsonObject(){return this.tryGetRuleContext(0,k$)}jsonArray(){return this.tryGetRuleContext(0,I$)}TRUE(){return this.tryGetToken(C.TRUE,0)}FALSE(){return this.tryGetToken(C.FALSE,0)}NULL(){return this.tryGetToken(C.NULL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_jsonValue}enterRule(e){e.enterJsonValue&&e.enterJsonValue(this)}exitRule(e){e.exitJsonValue&&e.exitJsonValue(this)}accept(e){return e.visitJsonValue?e.visitJsonValue(this):e.visitChildren(this)}};jt.JsonValueContext=pb;var k$=class extends zr.ParserRuleContext{OCURLY(){return this.getToken(C.OCURLY,0)}jsonProperty(e){return e===void 0?this.getRuleContexts(JO):this.getRuleContext(e,JO)}CCURLY(){return this.getToken(C.CCURLY,0)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_jsonObject}enterRule(e){e.enterJsonObject&&e.enterJsonObject(this)}exitRule(e){e.exitJsonObject&&e.exitJsonObject(this)}accept(e){return e.visitJsonObject?e.visitJsonObject(this):e.visitChildren(this)}};jt.JsonObjectContext=k$;var JO=class extends zr.ParserRuleContext{JSON_STRING(){return this.getToken(C.JSON_STRING,0)}COLON(){return this.getToken(C.COLON,0)}jsonValue(){return this.getRuleContext(0,pb)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_jsonProperty}enterRule(e){e.enterJsonProperty&&e.enterJsonProperty(this)}exitRule(e){e.exitJsonProperty&&e.exitJsonProperty(this)}accept(e){return e.visitJsonProperty?e.visitJsonProperty(this):e.visitChildren(this)}};jt.JsonPropertyContext=JO;var I$=class extends zr.ParserRuleContext{OBRACK(){return this.getToken(C.OBRACK,0)}jsonValue(e){return e===void 0?this.getRuleContexts(pb):this.getRuleContext(e,pb)}CBRACK(){return this.getToken(C.CBRACK,0)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_jsonArray}enterRule(e){e.enterJsonArray&&e.enterJsonArray(this)}exitRule(e){e.exitJsonArray&&e.exitJsonArray(this)}accept(e){return e.visitJsonArray?e.visitJsonArray(this):e.visitChildren(this)}};jt.JsonArrayContext=I$;var M$=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,Fd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_sqlExploreNameRef}enterRule(e){e.enterSqlExploreNameRef&&e.enterSqlExploreNameRef(this)}exitRule(e){e.exitSqlExploreNameRef&&e.exitSqlExploreNameRef(this)}accept(e){return e.visitSqlExploreNameRef?e.visitSqlExploreNameRef(this):e.visitChildren(this)}};jt.SqlExploreNameRefContext=M$;var P$=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,Fd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_sqlCommandNameDef}enterRule(e){e.enterSqlCommandNameDef&&e.enterSqlCommandNameDef(this)}exitRule(e){e.exitSqlCommandNameDef&&e.exitSqlCommandNameDef(this)}accept(e){return e.visitSqlCommandNameDef?e.visitSqlCommandNameDef(this):e.visitChildren(this)}};jt.SqlCommandNameDefContext=P$;var B$=class extends zr.ParserRuleContext{JSON_STRING(){return this.getToken(C.JSON_STRING,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_connectionName}enterRule(e){e.enterConnectionName&&e.enterConnectionName(this)}exitRule(e){e.exitConnectionName&&e.exitConnectionName(this)}accept(e){return e.visitConnectionName?e.visitConnectionName(this):e.visitChildren(this)}};jt.ConnectionNameContext=B$});var P8e=Ae(ql=>{"use strict";m();Object.defineProperty(ql,"__esModule",{value:!0});ql.isEquality=ql.isComparison=ql.timestampOffset=ql.dateOffset=ql.compose=ql.compressExpr=ql.errorFor=ql.isGranularResult=ql.FT=ql.isExpressionValueType=void 0;var $0t=bm();function z0t(n){return(0,$0t.isAtomicFieldType)(n)||["null","unknown","duration","regular expression"].includes(n)}ql.isExpressionValueType=z0t;var U0=class{static in(e,t){return e?t.find(i=>U0.eq(i,e))!==void 0:!1}static eq(e,t){return t!==void 0&&e.dataType===t.dataType&&e.aggregate===t.aggregate}static typeEq(e,t,r=!1){let i=e.dataType===t.dataType,s=r&&(e.dataType==="null"||t.dataType==="null");return i||s}static inspect(...e){return e.map(r=>{if(r){let i=r.dataType;return r.aggregate&&(i=`aggregate ${i}`),i}return"undefined"}).join(",")}};ql.FT=U0;U0.nullT=Zw("null");U0.numberT=Zw("number");U0.stringT=Zw("string");U0.dateT=Zw("date");U0.timestampT=Zw("timestamp");U0.boolT=Zw("boolean");U0.anyAtomicT=[U0.numberT,U0.stringT,U0.dateT,U0.timestampT,U0.boolT];function Zw(n){return{dataType:n,aggregate:!1}}function H0t(n){return n.dataType!=="date"&&n.dataType!=="timestamp"?!1:n.timeframe!==void 0}ql.isGranularResult=H0t;function V0t(n){return{dataType:"unknown",aggregate:!1,value:[`_ERROR_${n.replace(/ /g,"_")}`]}}ql.errorFor=V0t;function M8e(n){return n.length>1?["(",...n,")"]:n.length===0?["__MISSING_VALUE__"]:n}function woe(n){let e=[],t;for(let r of n.flat())typeof r=="string"?t=t?t+r:r:(t&&(e.push(t),t=void 0),e.push(r));return t&&e.push(t),e}ql.compressExpr=woe;function W0t(n,e,t){let r=e.match(/^[A-Za-z]/),i=n.length===1&&r?" ":"",s=t.length===1&&r?" ":"",o=i+e+s;return[...M8e(n),o,...M8e(t)]}ql.compose=W0t;function Q0t(n,e,t,r){let i=e==="+"?"_ADD":"_SUB",s=r.toUpperCase();return woe([`DATE${i}(`,...n,",INTERVAL ",...t,` ${s})`])}ql.dateOffset=Q0t;function G0t(n,e,t,r,i=!1){let s=["week","month","quarter","year"].includes(r),o=e==="+"?"_ADD":"_SUB",a=r.toUpperCase();if(s)return[`TIMESTAMP(DATETIME${o}(DATETIME(`,...n,"),INTERVAL ",...t,` ${a}))`];let l=i?["TIMESTAMP(",...n,")"]:n;return woe([`TIMESTAMP${o}(`,...l,",INTERVAL ",...t,` ${a})`])}ql.timestampOffset=G0t;function Y0t(n){return["~","!~","<","<=","=",">",">=","!="].includes(n)}ql.isComparison=Y0t;function K0t(n){return["~","!~","=","!="].includes(n)}ql.isEquality=K0t});var U$=Ae(Do=>{"use strict";m();var J0t=Do&&Do.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),X0t=Do&&Do.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Z0t=Do&&Do.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&J0t(e,n,t);return X0t(e,n),e};Object.defineProperty(Do,"__esModule",{value:!0});Do.ExpressionFieldFromAst=Do.ReferenceField=Do.FANSPaceField=Do.QueryFieldStruct=Do.QueryFieldAST=Do.QueryField=Do.ColumnSpaceField=Do.JoinSpaceField=Do.StructSpaceField=Do.WildSpaceField=Do.RenameSpaceField=Do.SpaceField=Do.AbstractParameter=Do.DefinedParameter=Do.SpaceParam=Do.SpaceEntry=void 0;var B8e=Z0t(bm()),edt=$$(),j$=class{};Do.SpaceEntry=j$;var XO=class extends j${constructor(){super(...arguments);this.refType="parameter"}};Do.SpaceParam=XO;var j8e=class extends XO{constructor(e){super();this.paramDef=e}parameter(){return this.paramDef}type(){return{type:this.paramDef.type}}};Do.DefinedParameter=j8e;var q8e=class extends XO{constructor(e){super();this.astParam=e}parameter(){return this.astParam.parameter()}type(){return{type:this.astParam.type||"unknown"}}};Do.AbstractParameter=q8e;var Fx=class extends j${constructor(){super(...arguments);this.refType="field"}fieldTypeFromFieldDef(e){let t={type:e.type};return B8e.isFieldTypeDef(e)&&e.aggregate&&(t.aggregate=!0),t}getQueryFieldDef(e){}fieldDef(){}};Do.SpaceField=Fx;var U8e=class extends Fx{constructor(e,t,r){super();this.otherField=e,this.newName=t,this.location=r}fieldDef(){let e=this.otherField.fieldDef();if(e!==void 0)return{...e,as:this.newName,location:this.location}}type(){return this.otherField.type()}};Do.RenameSpaceField=U8e;var $8e=class extends Fx{constructor(e){super();this.wildText=e}type(){throw new Error("should never ask a wild field for its type")}getQueryFieldDef(e){return this.wildText}};Do.WildSpaceField=$8e;var Coe=class extends Fx{constructor(e){super();this.sourceDef=e}get fieldSpace(){return this.space||(this.space=new edt.StaticSpace(this.sourceDef)),this.space}fieldDef(){return this.sourceDef}type(){return{type:"struct"}}};Do.StructSpaceField=Coe;var z8e=class extends Coe{constructor(e,t){super(t.structDef());this.intoFS=e,this.join=t}};Do.JoinSpaceField=z8e;var H8e=class extends Fx{constructor(e){super();this.def=e}fieldDef(){return this.def}type(){return this.fieldTypeFromFieldDef(this.def)}};Do.ColumnSpaceField=H8e;var q$=class extends Fx{constructor(e){super();this.inSpace=e}type(){return{type:"turtle"}}};Do.QueryField=q$;var V8e=class extends q${constructor(e,t,r){super(e);this.turtle=t,this.name=r}getQueryFieldDef(e){let t=this.turtle.getFieldDef(e,this.nestParent);return this.renameAs&&(t.as=this.renameAs),t}fieldDef(){let e=this.turtle.getFieldDef(this.inSpace,this.nestParent);return this.renameAs&&(e.as=this.renameAs),e}};Do.QueryFieldAST=V8e;var W8e=class extends q${constructor(e,t){super(e);this.turtleDef=t}rename(e){this.turtleDef={...this.turtleDef,as:e}}fieldDef(){return this.turtleDef}getQueryFieldDef(e){return this.fieldDef()}};Do.QueryFieldStruct=W8e;var Q8e=class extends Fx{constructor(e,t,r){super();this.ref=e,this.inSpace=t,Object.assign(this,r)}name(){return this.as||this.ref.refString}filtersPresent(){return this.filterList&&this.filterList.length>0}fieldDef(){if(this.as===void 0)return;let e=this.ref.getField(this.inSpace).found;if(e===void 0)return;let t=e.type(),r=t.type;if(B8e.isAtomicFieldType(r)){if(e instanceof XO)return{type:r,name:this.as,e:[{type:"parameter",path:this.ref.refString}],aggregate:!1};let i=[{type:"field",path:this.ref.refString}];return this.filtersPresent()&&this.filterList&&(i=[{type:"filterExpression",filterList:this.filterList,e:i}]),{type:r,name:this.as,e:i,aggregate:t.aggregate}}}getQueryFieldDef(e){let t={name:this.ref.refString};return this.filtersPresent()&&(t.filterList=this.filterList),this.as&&(t.as=this.as),t.as||t.filterList?t:this.ref.refString}type(){let e=this.ref.getField(this.inSpace).found;return(e==null?void 0:e.type())||{type:"unknown"}}};Do.FANSPaceField=Q8e;var G8e=class extends Fx{constructor(e){super();this.fieldRef=e}getQueryFieldDef(e){let t=this.fieldRef.getField(e);return t.error&&this.fieldRef.log(t.error),this.fieldRef.refString}type(){return{type:"unknown"}}};Do.ReferenceField=G8e;var Y8e=class extends Fx{constructor(e,t){super();this.space=e,this.exprDef=t,this.fieldName=t.defineName}get name(){return this.fieldName}fieldDef(){let e=this.exprDef.fieldDef(this.space,this.name);return this.defType=this.fieldTypeFromFieldDef(e),e}getQueryFieldDef(e){let t=this.exprDef.queryFieldDef(e,this.name);return this.defType=this.fieldTypeFromFieldDef(t),t}type(){return this.defType?this.defType:this.fieldTypeFromFieldDef(this.fieldDef())}};Do.ExpressionFieldFromAst=Y8e});var K8e=Ae(eC=>{"use strict";m();Object.defineProperty(eC,"__esModule",{value:!0});eC.mergeFields=eC.nameOf=void 0;function Aoe(n){return typeof n=="string"?n:n.as||n.name}eC.nameOf=Aoe;function tdt(n,e){if(n==null)return e;let t=new Set(e.map(i=>Aoe(i))),r=n.filter(i=>!t.has(Aoe(i)));return r.push(...e),r}eC.mergeFields=tdt});var $$=Ae(Yu=>{"use strict";m();var ndt=Yu&&Yu.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),rdt=Yu&&Yu.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),idt=Yu&&Yu.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&ndt(e,n,t);return rdt(e,n),e};Object.defineProperty(Yu,"__esModule",{value:!0});Yu.DefSpace=Yu.IndexFieldSpace=Yu.ProjectFieldSpace=Yu.ReduceFieldSpace=Yu.ResultSpace=Yu.QuerySpace=Yu.DynamicSpace=Yu.StaticSpace=void 0;var sdt=nD(),odt=Sj(),Toe=idt(bm()),E1=_4(),Ul=U$(),z$=K8e(),H$=class{constructor(e){this.type="fieldSpace",this.fromStruct=e}whenComplete(e){e()}dialectObj(){try{return(0,odt.getDialect)(this.fromStruct.dialect)}catch{return}}fromFieldDef(e){return e.type==="struct"?new Ul.StructSpaceField(e):Toe.isTurtleDef(e)?new Ul.QueryFieldStruct(this,e):new Ul.ColumnSpaceField(e)}get map(){if(this.memoMap===void 0){this.memoMap={};for(let e of this.fromStruct.fields){let t=e.as||e.name;this.memoMap[t]=this.fromFieldDef(e)}if(this.fromStruct.parameters)for(let[e,t]of Object.entries(this.fromStruct.parameters)){if(this.memoMap[e])throw new Error(`In struct '${this.fromStruct.as||this.fromStruct.name}':  : Field and parameter name conflict '${e}`);this.memoMap[e]=new Ul.DefinedParameter(t)}}return this.memoMap}dropEntries(){this.memoMap={}}dropEntry(e){delete this.map[e]}entry(e){return this.map[e]}setEntry(e,t){this.map[e]=t}entries(){return Object.entries(this.map)}structDef(){return this.fromStruct}emptyStructDef(){return{...this.fromStruct,fields:[]}}lookup(e){let t=e[0],r=e.slice(1),i=this.entry(t.refString);if(!i)return{error:`'${t}' is not defined`,found:i};if(i instanceof Ul.SpaceField){let s=i.fieldDef();s&&t.addReference({type:i instanceof Ul.StructSpaceField?"joinReference":"fieldReference",definition:s,location:t.location,text:t.refString})}return r.length?i instanceof Ul.StructSpaceField?i.fieldSpace.lookup(r):{error:`'${t}' cannot contain a '${r[0]}'`,found:void 0}:{found:i,error:void 0}}};Yu.StaticSpace=H$;function J8e(n){return n.type=="fieldSpace"}var Foe=class{constructor(e){this.sourceSpec=e,this.spaceSpec=e}get structDef(){return J8e(this.spaceSpec)?(this.asStruct||(this.asStruct=this.spaceSpec.structDef()),this.asStruct):this.spaceSpec}get fieldSpace(){return J8e(this.spaceSpec)?this.spaceSpec:(this.asFS||(this.asFS=new H$(this.spaceSpec)),this.asFS)}},tC=class extends H${constructor(e){let t=new Foe(e);super((0,sdt.cloneDeep)(t.structDef));this.completions=[],this.complete=!1,this.final=void 0,this.source=t}static filteredFrom(e,t){let r=new tC(e);if(t){let i=t.refs.list,s=r.entries();r.dropEntries();for(let[o,a]of s){let l=!!i.find(p=>p.refString===o),f=t.edit==="accept";l===f&&r.setEntry(o,a)}}return r}whenComplete(e){this.complete?e():this.completions.push(e)}isComplete(){this.complete=!0;for(let e of this.completions)e();this.completions=[]}setEntry(e,t){if(this.final)throw new Error("Space already final");super.setEntry(e,t)}addParameters(e){for(let t of e)this.setEntry(t.name,new Ul.AbstractParameter(t));return this}newEntry(e,t,r){if(this.entry(e)){t.log(`Cannot redefine '${e}'`);return}this.setEntry(e,r)}addField(...e){for(let t of e){let r=t.log,i=t.elementType;if(t instanceof E1.FieldDeclaration){let s=new Ul.ExpressionFieldFromAst(this,t);this.newEntry(s.name,t,s)}else if(t instanceof E1.TurtleDecl){let s=t.name;this.newEntry(s,t,new Ul.QueryFieldAST(this,t,s))}else if(t instanceof E1.RenameField){if(t.oldName.refString===t.newName){t.log("Can't rename field to itself");continue}let s=t.oldName.getField(this);s.found?s.found instanceof Ul.SpaceField?(this.setEntry(t.newName,new Ul.RenameSpaceField(s.found,t.newName,t.location)),this.dropEntry(t.oldName.refString)):t.log(`'${t.oldName}' cannot be renamed`):t.log(`Can't rename '${t.oldName}', no such field`)}else t instanceof E1.Join?this.newEntry(t.name.refString,t,new Ul.JoinSpaceField(this,t)):r(`Internal error: Expected expression, query, or rename, got '${i}'`)}}addFieldDef(e){this.setEntry((0,z$.nameOf)(e),this.fromFieldDef(e))}structDef(){let e=this.fromStruct.parameters||{};if(this.final===void 0){this.final={...this.fromStruct,fields:[]};let t=[],r=[],i=[],s=[];for(let[a,l]of this.entries())l instanceof Ul.StructSpaceField?r.push([a,l]):l instanceof Ul.QueryField?i.push([a,l]):l instanceof Ul.SpaceField?t.push([a,l]):l instanceof Ul.SpaceParam&&(e[a]=l.parameter());let o=[...t,...r,...i];for(let[a,l]of o)if(l instanceof Ul.JoinSpaceField){let f=l.join.structDef();E1.ErrorFactory.isErrorStructDef(f)||(this.final.fields.push(f),s.push([l.join,f]))}else{let f=l.fieldDef();if(f)this.final.fields.push(f);else throw new Error(`'${a}' doesn't have a FieldDef`)}Object.entries(e).length>0&&(this.final.parameters=e);for(let[a,l]of s)a.fixupJoinOn(this,l)}return this.isComplete(),this.final}};Yu.DynamicSpace=tC;var Doe=class extends tC{constructor(e,t){let r=new Foe(e);super(r.structDef);this.result=t,this.extendList=[]}extendSource(e){this.addField(e),e instanceof E1.Join?this.extendList.push(e.name.refString):this.extendList.push(e.defineName)}};Yu.QuerySpace=Doe;var ZO=class extends tC{constructor(e){super(e.emptyStructDef());this.queryInputSpace=e,this.exprSpace=new Doe(e,this)}log(e){this.astEl&&this.astEl.log(e)}addMembers(e){for(let t of e)t instanceof E1.FieldReference?this.addReference(t):t instanceof E1.WildcardFieldReference?this.addWild(t):this.addField(t)}addReference(e){let t=e.outputName;this.entry(t)?e.log(`Output already has a field named '${t}'`):this.setEntry(t,new Ul.ReferenceField(e))}addWild(e){this.setEntry(e.refString,new Ul.WildSpaceField(e.refString))}checkUngroup(e,t){if(!this.entry(e.refString))if(t&&this.exprSpace.nestParent){let r=this.exprSpace.nestParent;r.whenComplete(()=>{r.result.checkUngroup(e,t)})}else{let r=t?"exclude()":"all()";e.log(`${r} '${e.refString}' is missing from query output`)}}addQueryItems(...e){for(let t of e)if(t instanceof E1.FieldReference||t instanceof E1.NestReference)this.addReference(t);else if(t instanceof E1.FieldDeclaration)this.addField(t);else if((0,E1.isNestedQuery)(t)){let r=new Ul.QueryFieldAST(this,t,t.name);r.nestParent=this.exprSpace,this.setEntry(t.name,r)}else{let r=t}}canContain(e){return!0}queryFieldDefs(){let e=[];for(let[t,r]of this.entries())if(r instanceof Ul.SpaceField){let i=r.getQueryFieldDef(this.exprSpace);if(i)this.canContain(i)?e.push(i):this.log(`'${t}' not legal in ${this.segmentType}`);else throw new Error(`'${t}' does not have a QueryFieldDef`)}return this.isComplete(),e}getQuerySegment(e){let t=this.getPipeSegment(e);if(Toe.isQuerySegment(t))return t;throw new Error("TODO NOT POSSIBLE")}getPipeSegment(e){if(this.segmentType=="index")throw new Error("INDEX FIELD PIPE SEGMENT MIS HANDLED");if(e==null?void 0:e.extendSource)for(let r of e.extendSource)this.exprSpace.addFieldDef(r);let t={type:this.segmentType,fields:this.queryFieldDefs()};if(t.fields=(0,z$.mergeFields)(e==null?void 0:e.fields,t.fields),(e==null?void 0:e.extendSource)&&(t.extendSource=e.extendSource),this.exprSpace.extendList.length>0){let r=[],i=this.exprSpace.structDef();for(let s of this.exprSpace.extendList){let o=i.fields.find(a=>(0,z$.nameOf)(a)==s);o&&r.push(o)}t.extendSource=(0,z$.mergeFields)(t.extendSource,r)}return this.isComplete(),t}};Yu.ResultSpace=ZO;var X8e=class extends ZO{constructor(){super(...arguments);this.segmentType="reduce"}};Yu.ReduceFieldSpace=X8e;var Z8e=class extends ZO{constructor(){super(...arguments);this.segmentType="project"}canContain(e){if(typeof e!="string"){if(Toe.isFilteredAliasedName(e))return!0;if(e.type==="turtle")return this.log("Cannot nest queries in project"),!1;if(e.aggregate)return this.log("Cannot add aggregate measures to project"),!1}return!0}};Yu.ProjectFieldSpace=Z8e;var eSe=class extends ZO{constructor(){super(...arguments);this.segmentType="index",this.fieldList=new Set}addReference(e){e.getField(this.exprSpace).found&&this.fieldList.add(e.refString)}addWild(e){this.fieldList.add(e.refString)}getPipeSegment(e){if(e&&e.fields)for(let t of e.fields)typeof t=="string"&&this.fieldList.add(t);return this.isComplete(),{type:"index",fields:Array.from(this.fieldList.values())}}};Yu.IndexFieldSpace=eSe;var tSe=class{constructor(e,t){this.realFS=e,this.circular=t,this.type="fieldSpace",this.foundCircle=!1}structDef(){return this.realFS.structDef()}emptyStructDef(){return this.realFS.emptyStructDef()}lookup(e){return e[0]&&e[0].refString===this.circular.defineName?(this.foundCircle=!0,{error:`Circular reference to '${this.circular.defineName}' in definition`,found:void 0}):this.realFS.lookup(e)}dialectObj(){return this.realFS.dialectObj()}whenComplete(e){this.realFS.whenComplete(e)}};Yu.DefSpace=tSe});var nSe=Ae(nC=>{"use strict";m();var adt=nC&&nC.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(nC,"__esModule",{value:!0});nC.makeSQLBlock=void 0;var udt=adt(Tte());function ldt(n){let e={type:"sqlBlock",name:`md5:/${n.connection||"$default"}//${(0,udt.default)(n.select)}`,select:n.select};return n.before&&(e.before=n.before),n.after&&(e.after=n.after),n.connection&&(e.connection=n.connection),e}nC.makeSQLBlock=ldt});var V$=Ae($0=>{"use strict";m();Object.defineProperty($0,"__esModule",{value:!0});$0.timeLiteral=$0.timeResult=$0.resolution=$0.castDateToTimestamp=$0.castTimestampToDate=$0.castTo=$0.timeOffset=void 0;function cdt(n,e,t,r,i){return[{type:"dialect",function:"delta",base:{valueType:n,value:e},op:t,delta:r,units:i}]}$0.timeOffset=cdt;function fdt(n,e,t=!1){return[{type:"dialect",function:"cast",dstType:n,expr:e,safe:t}]}$0.castTo=fdt;function ddt(n,e=!1){return[{type:"dialect",function:"cast",dstType:"date",srcType:"timestamp",expr:n,safe:e}]}$0.castTimestampToDate=ddt;function hdt(n,e=!1){return[{type:"dialect",function:"cast",dstType:"timestamp",srcType:"date",expr:n,safe:e}]}$0.castDateToTimestamp=hdt;function pdt(n){switch(n){case"hour":case"minute":case"second":case"microsecond":case"millisecond":return"timestamp"}return"date"}$0.resolution=pdt;function mdt(n,e){return e?{...n,timeframe:e}:n}$0.timeResult=mdt;function xdt(n,e,t){return[{type:"dialect",function:"timeLiteral",literal:n,literalType:e,timezone:t}]}$0.timeLiteral=xdt});var OSe=Ae(cr=>{"use strict";m();var gdt=cr&&cr.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),ydt=cr&&cr.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),vdt=cr&&cr.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&gdt(e,n,t);return ydt(e,n),e};Object.defineProperty(cr,"__esModule",{value:!0});cr.FullQuery=cr.TurtleHeadedPipe=cr.ExistingQuery=cr.Index=cr.Turtles=cr.Limit=cr.Ordering=cr.OrderBy=cr.WildcardFieldReference=cr.RenameField=cr.PrimaryKey=cr.Document=cr.QOPDesc=cr.Aggregate=cr.GroupBy=cr.FieldListEdit=cr.ProjectStatement=cr.isFieldCollectionMember=cr.FieldReferences=cr.FieldReference=cr.FieldName=cr.Renames=cr.Dimensions=cr.Measures=cr.DeclareFields=cr.Filter=cr.FilterElement=cr.ExploreDesc=cr.isExploreProperty=cr.isQueryProperty=cr.Joins=cr.ExpressionJoin=cr.KeyJoin=cr.Join=cr.QuerySource=cr.SQLSource=cr.NamedSource=cr.ModelEntryReference=cr.IsValueBlock=cr.TableSource=cr.RefinedExplore=cr.DefineSourceList=cr.DefineExplore=cr.isDocStatement=cr.Mallobj=cr.isExploreField=cr.Unimplemented=cr.ListOf=cr.MalloyElement=cr.ErrorFactory=void 0;cr.SampleProperty=cr.SQLStatement=cr.ConstantParameter=cr.HasParameter=cr.ImportStatement=cr.JSONStructDef=cr.JSONElement=cr.Top=cr.AnonymousQuery=cr.DefineQuery=cr.DefineQueryList=cr.isQueryElement=cr.Nests=cr.isNestedQuery=cr.NestDefinition=cr.NestRefinement=cr.NestReference=cr.TurtleDecl=void 0;var rSe=nD(),Ay=vdt(bm()),_dt=Rte(),Dx=$$(),mb=_4(),bdt=U$(),Edt=nSe(),Sdt=H5(),wdt=V$(),iSe={type:"struct",name:"~malformed~",dialect:"~malformed~",structSource:{type:"table",tablePath:"//undefined_error_table_path"},structRelationship:{type:"basetable",connectionName:"//undefined_error_connection"},fields:[]},Od=class{static get structDef(){return{...iSe}}static isErrorStructDef(e){return e.name.includes(iSe.name)}static get query(){return{structRef:Od.structDef,pipeline:[]}}static get reduceSegment(){return{type:"reduce",fields:[]}}static get projectSegment(){return{type:"project",fields:[]}}static get indexSegment(){return{type:"index",fields:[]}}};cr.ErrorFactory=Od;function Ooe(n,e,t){if(!Od.isErrorStructDef(e))try{return _dt.Segment.nextStructDef(e,t)}catch(i){n.log(`INTERNAL ERROR model/Segment.nextStructDef: ${i.message}
QUERY: ${(0,Sdt.inspect)(t,{breakLength:72,depth:1/0})}`)}return{...Od.structDef,dialect:e.dialect}}var fa=class{constructor(e){this.children={},this.parent=null,this.logged=new Set,e&&this.has(e)}has(e){for(let t in e){let r=e[t];if(r!==void 0)if(this.children[t]=r,r instanceof fa)r.parent=this;else for(let i of r)i.parent=this}}get location(){return this.codeLocation?this.codeLocation:this.parent?this.parent.location:{url:this.sourceURL,range:{start:{line:0,character:0},end:{line:0,character:0}}}}set location(e){this.codeLocation=e}namespace(){if(this instanceof koe)return this;if(this.parent)return this.parent.namespace();throw new Error("INTERNAL ERROR: Translation without document scope")}modelEntry(e){var t;let r=e instanceof xb?e.name:e,i=(t=this.namespace())===null||t===void 0?void 0:t.getEntry(r);return e instanceof xb&&((i==null?void 0:i.entry.type)==="query"?this.addReference({type:"queryReference",text:r,definition:i.entry,location:e.location}):(i==null?void 0:i.entry.type)==="struct"?this.addReference({type:"exploreReference",text:r,definition:i.entry,location:e.location}):(i==null?void 0:i.entry.type)==="sqlBlock"&&this.addReference({type:"sqlBlockReference",text:r,definition:i.entry,location:e.location})),i}translator(){if(this.xlate)return this.xlate;if(this.parent)return this.parent.translator()}setTranslator(e){this.xlate=e}addReference(e){var t;(t=this.translator())===null||t===void 0||t.addReference(e)}get sourceURL(){let e=this.translator();return(e==null?void 0:e.sourceURL)||"(missing)"}errorsExist(){var e;let t=(e=this.translator())===null||e===void 0?void 0:e.root.logger;return t?t.hasErrors():!0}log(e){if(this.codeLocation){if(this.logged.has(e))return;this.logged.add(e)}let t=this.translator(),r={at:this.location,message:e},i=t==null?void 0:t.root.logger;if(i){i.log(r);return}throw new Error(`Translation error (without error reporter):
${JSON.stringify(r,null,2)}`)}toString(){return this.stringify("",0)}stringify(e,t){let r=" ".repeat(t),i=`${r}${e}<${this.elementType}>${this.varInfo()}`;for(let s of Object.keys(this.children)){let o=this.children[s];o instanceof fa?i+=`
`+o.stringify(`${s}: `,t+2):(i+=`
${r}  ${s}: [`,o.length>0&&(i+=`
`+o.map(a=>a.stringify("",t+4)).join(`
`)+`
${r}  `),i+="]")}return i}walk(e){e(this);for(let t of Object.keys(this.children)){let r=this.children[t];if(r instanceof fa)r.walk(e);else for(let i of r)i.walk(e)}}varInfo(){let e="";for(let[t,r]of Object.entries(this))t!=="elementType"&&(typeof r=="boolean"?e+=r?` ${t}`:` !${t}`:(typeof r=="string"||typeof r=="number")&&(e+=` ${t}=${r}`));return e}internalError(e){return this.log(`INTERNAL ERROR IN TRANSLATION: ${e}`),new Error(e)}};cr.MalloyElement=fa;var wf=class extends fa{constructor(e,t){super();this.elementType="genericElementList",this.elements=t,this.elementType==="genericElementList"&&(this.elementType=e),this.newContents()}newContents(){this.has({[this.elementType]:this.elements})}get list(){return this.elements}empty(){return this.elements.length===0}notEmpty(){return this.elements.length>0}push(...e){return this.elements.push(...e),this.newContents(),this.elements}};cr.ListOf=wf;var sSe=class extends fa{constructor(){super(...arguments);this.elementType="unimplemented",this.reported=!1}};cr.Unimplemented=sSe;function Cdt(n,e){return n.fields.find(t=>(t.as||t.name)===e)}function Adt(n){return n instanceof mb.FieldDeclaration||n instanceof eR||n instanceof aR||n instanceof sR}function Tdt(n){return Adt(n)||n instanceof Ioe}cr.isExploreField=Tdt;var b4=class extends fa{structRef(){return this.structDef()}withParameters(e){let t=this.structDef();if(e){let r={...t.parameters||{}};for(let i of e){let s=i.parameter();r[s.name]=s}return{...t,parameters:r}}return t}};cr.Mallobj=b4;var oSe=class extends b4{constructor(e){super();this.fromRef=e,this.elementType="internalOnlyQueryHead"}structRef(){return this.fromRef}structDef(){if(Ay.refIsStructDef(this.fromRef))return this.fromRef;let e=new W$(this.fromRef);return this.has({exploreReference:e}),e.structDef()}};function Fdt(n){return n.execute!==void 0}cr.isDocStatement=Fdt;var aSe=class extends fa{constructor(e,t,r,i){super({explore:t});if(this.name=e,this.mallobj=t,this.exported=r,this.elementType="defineExplore",i){this.parameters=[];for(let s of i)s instanceof tz?this.parameters.push(s):this.log(`Unexpected element type in define statement: ${s.elementType}`);this.has({parameters:this.parameters})}}execute(e){if(e.modelEntry(this.name))this.log(`Cannot redefine '${this.name}'`);else{let t=this.mallobj.withParameters(this.parameters);if(Od.isErrorStructDef(t))return;e.setEntry(this.name,{entry:{...t,as:this.name,location:this.location},exported:this.exported})}}};cr.DefineExplore=aSe;var uSe=class extends wf{constructor(e){super("defineSources",e);this.has({sourceList:e})}execute(e){for(let t of this.list)t.execute(e)}};cr.DefineSourceList=uSe;var lSe=class extends b4{constructor(e,t){super({source:e,refinement:t});this.source=e,this.refinement=t,this.elementType="refinedExplore"}structDef(){return this.withParameters([])}withParameters(e){let t,r,i=[],s=[];for(let _ of this.refinement.list){let E=_;_ instanceof J$?(t&&(t.log("Primary key already defined"),_.log("Primary key redefined")),t=_):_ instanceof K$?(r&&(r.log("Too many accept/except statements"),_.log("Too many accept/except statements")),r=_):_ instanceof S4||_ instanceof rC||_ instanceof sR||_ instanceof Q$?i.push(..._.list):_ instanceof E4?s.push(_):E.log(`Unexpected explore property: '${E.elementType}'`)}let o=(0,rSe.cloneDeep)(this.source.structDef());t&&(o.primaryKey=t.field.name);let a=Dx.DynamicSpace.filteredFrom(o,r);if(a.addField(...i),e&&a.addParameters(e),t){let _=t.field.getField(a);_.error&&t.log(_.error)}let l=a.structDef(),f=l.filterList||[],p=!1;for(let _ of s)for(let E of _.list){let O=E.filterExpression(a);O.aggregate?E.log("Can't use aggregate computations in top level filters"):(f.push(O),p=!0)}return p?{...l,filterList:f}:l}};cr.RefinedExplore=lSe;var cSe=class extends b4{constructor(e){super();this.name=e,this.elementType="tableSource"}structDef(){var e;let t=(e=this.translator())===null||e===void 0?void 0:e.root.schemaZone.getEntry(this.name),r=`Schema read failure for table '${this.name}'`;if(t){if(t.status=="present")return t.value.location=this.location,t.value.fields.forEach(i=>i.location=this.location),{...t.value,fields:t.value.fields.map(i=>({...i,location:this.location})),location:this.location};t.status=="error"&&(r=t.message.includes(this.name)?`'Schema error: ${t.message}`:`Schema error '${this.name}': ${t.message}`)}return this.log(r),Od.structDef}};cr.TableSource=cSe;var Roe=class extends fa{constructor(e){super();this.isMap=e,this.elementType="isValueBlock",this.has(e)}};cr.IsValueBlock=Roe;var xb=class extends fa{constructor(e){super();this.name=e,this.elementType="modelEntryReference"}get refString(){return this.name}toString(){return this.refString}};cr.ModelEntryReference=xb;var W$=class extends b4{constructor(e,t={}){super();this.ref=e,this.elementType="namedSource",t&&Object.keys(t).length>0&&(this.isBlock=new Roe(t),this.has({parameterValues:this.isBlock})),e instanceof xb&&this.has({ref:e})}get refName(){return this.ref instanceof xb?this.ref.name:this.ref}structRef(){if(this.isBlock)return this.structDef();let e=this.modelEntry(this.ref);return e&&!e.exported?this.structDef():this.refName}modelStruct(){var e;let t=(e=this.modelEntry(this.ref))===null||e===void 0?void 0:e.entry;if(!t){let r=`Undefined source '${this.refName}'`;(this.ref instanceof xb?this.ref:this).log(r);return}if(t.type==="query"){this.log(`Must use 'from()' to explore query '${this.refName}`);return}else if(t.type==="sqlBlock"){this.log(`Must use 'from_sql()' to explore sql query '${this.refName}`);return}return{...t}}structDef(){var e;let t=this.modelStruct();if(!t){let s=Od.structDef,o=`${this.refName}-undefined`;return s.name=s.name+o,s.dialect=s.dialect+o,s}let r={...t.parameters},i=((e=this.isBlock)===null||e===void 0?void 0:e.isMap)||{};for(let[s,o]of Object.entries(i)){let a=r[s];if(!a)this.log(`Value given for undeclared parameter '${s}`);else if(Ay.isValueParameter(a))if(a.constant)o.log(`Cannot override constant parameter ${s}`);else{let l=o.constantValue(),f=l.value;l.dataType!==a.type&&(f=(0,wdt.castTo)(a.type,l.value,!0)),a.value=f}else a.condition=o.constantCondition(a.type).value}for(let s in t.parameters)Ay.paramHasValue(r[s])||this.log(`Value not provided for required parameter ${s}`);return t}};cr.NamedSource=W$;var fSe=class extends W${constructor(){super(...arguments);this.elementType="sqlSource"}structRef(){return this.structDef()}modelStruct(){var e,t;let r=(e=this.modelEntry(this.ref))===null||e===void 0?void 0:e.entry;if(!r){this.log(`Undefined from_sql source '${this.refName}'`);return}if(r.type==="query"){this.log(`Cannot use 'from_sql()' to explore query '${this.refName}'`);return}else if(r.type==="struct"){this.log(`Cannot use 'from_sql()' to explore '${this.refName}'`);return}let i=(t=this.translator())===null||t===void 0?void 0:t.root.sqlQueryZone;if(!i){this.log(`Cant't look up schema for sql block '${this.refName}'`);return}if(r.type=="sqlBlock"){let s=r.name,o=i.getEntry(s),a=`Schema read failure for sql query '${this.refName}'`;if(o){if(o.status=="present"){let l=o.value;return{...l,fields:l.fields.map(f=>({...f,location:r.location}))}}o.status=="error"&&(a=o.message.includes(this.refName)?`'Schema error: ${o.message}`:`Schema error '${this.refName}': ${o.message}`),this.log(a)}}else this.log(`Mis-typed definition for'${this.refName}'`)}};cr.SQLSource=fSe;var dSe=class extends b4{constructor(e){super({query:e});this.query=e,this.elementType="querySource"}structDef(){let e=this.query.queryComp(),t=e.outputStruct;return t.structSource={type:"query",query:e.query},t}};cr.QuerySource=dSe;var eR=class extends fa{};cr.Join=eR;var hSe=class extends eR{constructor(e,t,r){super({name:e,source:t,keyExpr:r});this.name=e,this.source=t,this.keyExpr=r,this.elementType="joinOnKey"}structDef(){let e=this.source.structDef(),t={...e,structRelationship:{type:"one",onExpression:["('join fixup'='not done yet')"]},location:this.location};return e.structSource.type==="query"?t.name=this.name.refString:t.as=this.name.refString,t}fixupJoinOn(e,t){let r=this.keyExpr.getExpression(e);if(t.primaryKey){let i=t.fields.find(s=>(s.as||s.name)===t.primaryKey);if(i)if(i.type===r.dataType){t.structRelationship={type:"one",onExpression:[{type:"field",path:`${this.name}.${t.primaryKey}`},"=",...r.value]};return}else this.log(`join_one: with type mismatch with primary key: ${r.dataType}/${i.type}`);else this.log(`join_one: Primary key '${i}' not found in source`)}else this.log("join_one: Cannot use with unless source has a primary key")}};cr.KeyJoin=hSe;var pSe=class extends eR{constructor(e,t){super({name:e,source:t});this.name=e,this.source=t,this.elementType="joinOnExpr",this.joinType="one"}set joinOn(e){this.expr=e,this.has({on:e})}get joinOn(){return this.expr}fixupJoinOn(e,t){if(this.expr==null)return;let r=this.expr.getExpression(e);if(r.dataType!=="boolean"){this.log("join conditions must be boolean expressions");return}let i=t.structRelationship;Ay.isJoinOn(i)&&(i.onExpression=(0,mb.compressExpr)(r.value))}structDef(){let e=this.source.structDef(),t={...e,structRelationship:{type:this.joinType},location:this.location};return e.structSource.type==="query"?(t.name=this.name.refString,delete t.as):t.as=this.name.refString,t}};cr.ExpressionJoin=pSe;var rC=class extends wf{constructor(e){super("joinList",e)}};cr.Joins=rC;function Ddt(n){return n instanceof rR||n instanceof lR||n instanceof iR||n instanceof E4||n instanceof oR||n instanceof nz||n instanceof rC||n instanceof S4||n instanceof tR||n instanceof nR||n instanceof uR||Z$(n)||n instanceof iC}cr.isQueryProperty=Ddt;function Odt(n){return n instanceof E4||n instanceof rC||n instanceof S4||n instanceof K$||n instanceof Q$||n instanceof J$||n instanceof sR}cr.isExploreProperty=Odt;var mSe=class extends wf{constructor(e){super("exploreDesc",e)}};cr.ExploreDesc=mSe;var xSe=class extends fa{constructor(e,t){super({expr:e});this.expr=e,this.exprSrc=t,this.elementType="filterElement"}filterExpression(e){let t=this.expr.getExpression(e);if(t.dataType!=="boolean")return this.expr.log("Filter expression must have boolean value"),{code:this.exprSrc,expression:["_FILTER_MUST_RETURN_BOOLEAN_"]};let r={code:this.exprSrc,expression:(0,mb.compressExpr)(t.value)};return t.aggregate&&(r.aggregate=!0),r}};cr.FilterElement=xSe;var E4=class extends wf{constructor(e=[]){super("filterElements",e);this.elementType="filter"}set having(e){this.elementType=e?"having":"where"}getFilterList(e){let t=[];for(let r of this.list){let i=r.filterExpression(e);if(this.havingClause!==void 0){if(this.havingClause){if(!i.aggregate){r.log("Aggregate expression expected in HAVING filter");continue}}else if(i.aggregate){r.log("Aggregate expression not allowed in WHERE");continue}}t.push(i)}return t}};cr.Filter=E4;var S4=class extends wf{constructor(e,t="declare"){super(t,e)}};cr.DeclareFields=S4;var Noe=class extends S4{constructor(e){super(e,"measure");for(let t of e)t.isMeasure=!0}};cr.Measures=Noe;var gSe=class extends S4{constructor(e){super(e,"dimension");for(let t of e)t.isMeasure=!1}};cr.Dimensions=gSe;var Q$=class extends wf{constructor(e){super("renameField",e)}};cr.Renames=Q$;var G$=class extends fa{constructor(e){super();this.name=e,this.elementType="fieldName"}get refString(){return this.name}toString(){return this.refString}getField(e){return e.lookup([this])}};cr.FieldName=G$;var Y$=class extends wf{constructor(e){super("fieldReference",e);this.elementType="fieldReference"}get refString(){return this.list.map(e=>e.refString).join(".")}get outputName(){return this.list[this.list.length-1].refString}get sourceString(){if(this.list.length>1)return this.list.slice(0,-1).map(e=>e.refString).join(".")}get nameString(){return this.list[this.list.length-1].refString}getField(e){return e.lookup(this.list)}};cr.FieldReference=Y$;var ySe=class extends wf{constructor(e){super("fieldReferenceList",e)}};cr.FieldReferences=ySe;function Rdt(n){return n instanceof Y$||n instanceof Moe||n instanceof mb.FieldDeclaration}cr.isFieldCollectionMember=Rdt;var tR=class extends wf{constructor(e){super("fieldCollection",e)}};cr.ProjectStatement=tR;var K$=class extends fa{constructor(e,t){super({refs:t});this.edit=e,this.refs=t,this.elementType="fieldListEdit"}};cr.FieldListEdit=K$;var iC=class extends wf{constructor(e){super("groupBy",e);for(let t of e)t instanceof mb.FieldDeclaration&&(t.isMeasure=!1)}};cr.GroupBy=iC;var nR=class extends wf{constructor(e){super("aggregate",e);for(let t of e)t instanceof mb.FieldDeclaration&&(t.isMeasure=!0)}};cr.Aggregate=nR;var Loe=class{constructor(e){this.filters=[],this.resultFS=this.getResultSpace(e),this.inputFS=this.resultFS.exprSpace}getResultSpace(e){return new Dx.ReduceFieldSpace(e)}execute(e){if(e instanceof iC||e instanceof nR||e instanceof uR)this.resultFS.addQueryItems(...e.list);else if(Z$(e))this.resultFS.addQueryItems(e);else if(e instanceof E4)this.filters.push(...e.getFilterList(this.inputFS));else if(e instanceof lR)this.limit?e.log("Query operation already limited"):this.limit=e.limit,e.by&&(this.order?e.log("Query operation is already sorted"):this.order=e);else if(e instanceof iR)this.limit?e.log("Query operation already limited"):this.limit=e.limit;else if(e instanceof rR)this.order?e.log("Query operation already sorted"):this.order=e;else if(e instanceof rC||e instanceof S4)for(let t of e.list)this.inputFS.extendSource(t)}refineFrom(e,t){if(e&&e.type!=="index"&&(this.order||(e.orderBy?t.orderBy=e.orderBy:e.by&&(t.by=e.by)),!this.limit&&e.limit&&(t.limit=e.limit)),this.limit&&(t.limit=this.limit),this.order instanceof lR){let i=this.order.getBy(this.inputFS);i&&(t.by=i)}this.order instanceof rR&&(t.orderBy=this.order.getOrderBy(this.inputFS));let r=(e==null?void 0:e.filterList)||[];this.filters.length>0&&!r?t.filterList=this.filters:r&&(t.filterList=[...r,...this.filters])}finalize(e){let t;if(e)if(Ay.isReduceSegment(e))t=e;else return this.inputFS.result.log(`Can't refine reduce with ${e.type}`),Od.reduceSegment;let r=this.resultFS.getQuerySegment(t);return this.refineFrom(t,r),r}},vSe=class extends Loe{getResultSpace(e){return new Dx.ProjectFieldSpace(e)}execute(e){e instanceof tR?this.resultFS.addMembers(e.list):e instanceof E4&&e.elementType==="having"||e instanceof Noe||e instanceof iC?e.log("Illegal statement in a project query operation"):super.execute(e)}finalize(e){let t;if(e)if(Ay.isProjectSegment(e))t=e;else return this.resultFS.log(`Can't refine project with ${e.type}`),Od.projectSegment;let r=this.resultFS.getQuerySegment(t);return this.refineFrom(t,r),r}},_Se=class{constructor(e){this.filters=[],this.resultFS=new Dx.IndexFieldSpace(e),this.inputFS=this.resultFS.exprSpace}execute(e){e instanceof E4?this.filters.push(...e.getFilterList(this.inputFS)):e instanceof iR?(this.limit&&this.limit.log("Ignored, too many limit: statements"),this.limit=e):e instanceof oR?(this.resultFS.addMembers(e.fields.list),e.weightBy&&(this.indexOn&&this.indexOn.log("Ignoring previous BY"),this.indexOn=e.weightBy)):e instanceof nz?this.sample=e.sampling():e.log("Not legal in an index query operation")}finalize(e){if(e&&e.type!=="index")return this.resultFS.log(`Can't refine index with ${e.type}`),Od.indexSegment;let t=this.resultFS.getPipeSegment(e),r=(e==null?void 0:e.filterList)||[];return this.filters.length>0&&!r?t.filterList=this.filters:r&&(t.filterList=[...r,...this.filters]),(e==null?void 0:e.limit)&&(t.limit=e.limit),this.limit&&(t.limit=this.limit.limit),this.indexOn&&(t.weightMeasure=this.indexOn.refString),(e==null?void 0:e.sample)&&(t.sample=e.sample),this.sample&&(t.sample=this.sample),t}},bSe=class extends wf{constructor(e){super("queryOperator",e);this.opType="grouping"}computeType(){let e;this.refineThis&&(this.refineThis.type=="reduce"?e="grouping":e=this.refineThis.type);let t=!1;for(let i of this.list)i instanceof oR?(e||(e="index"),e!=="index"&&i.log(`index: not legal in ${e} query`)):i instanceof uR||Z$(i)||i instanceof iC?(e||(e="grouping"),t=!0,(e==="project"||e==="index")&&i.log(`group_by: not legal in ${e} query`)):i instanceof nR?(e||(e="aggregate"),(e==="project"||e==="index")&&i.log(`aggregate: not legal in ${e} query`)):i instanceof tR&&(e||(e="project"),e!=="project"&&i.log(`project: not legal in ${e} query`));e==="aggregate"&&t&&(e="grouping"),e||this.log("Can't determine query type (group_by/aggregate/nest,project,index)");let r=e||"grouping";return this.opType=r,r}refineFrom(e){this.refineThis=e}getExecutor(e){switch(this.computeType()){case"aggregate":case"grouping":return new Loe(e);case"project":return new vSe(e);case"index":return new _Se(e)}}getOp(e,t){let r=this.getExecutor(e);(t==null?void 0:t.nestedInQuerySpace)&&(r.inputFS.nestParent=t.nestedInQuerySpace),r.resultFS.astEl=this;for(let s of this.list)r.execute(s);let i=r.finalize(this.refineThis);return{segment:i,outputSpace:()=>new Dx.DynamicSpace(Ooe(this,e.structDef(),i))}}};cr.QOPDesc=bSe;var koe=class extends fa{constructor(e){super({statements:e});this.statements=e,this.elementType="document",this.documentModel={},this.queryList=[],this.sqlBlocks=[]}getModelDef(e){if(this.documentModel={},this.queryList=[],this.sqlBlocks=[],e)for(let r in e.contents){let i=e.contents[r];if(i.type=="struct"){let s=e.exports.includes(r);this.setEntry(r,{entry:i,exported:s})}}for(let r of this.statements){if(this.errorsExist())break;r.execute(this)}let t={name:"",exports:[],contents:{}};for(let r in this.documentModel){let i=this.documentModel[r].entry;(i.type==="struct"||i.type==="query")&&(this.documentModel[r].exported&&t.exports.push(r),t.contents[r]=(0,rSe.cloneDeep)(i))}return t}defineSQL(e,t){let r={...e,as:`$${this.sqlBlocks.length}`};if(t){if(this.getEntry(t))return!1;r.as=t,this.setEntry(t,{entry:r})}return this.sqlBlocks.push(r),!0}getEntry(e){return this.documentModel[e]}setEntry(e,t){this.documentModel[e]=t}};cr.Document=koe;var J$=class extends fa{constructor(e){super({field:e});this.field=e,this.elementType="primary key"}};cr.PrimaryKey=J$;var Ioe=class extends fa{constructor(e,t){super();this.newName=e,this.oldName=t,this.elementType="renameField",this.has({oldName:t})}};cr.RenameField=Ioe;var Moe=class extends fa{constructor(e,t){super();this.joinPath=e,this.star=t,this.elementType="wildcardFieldReference",this.has({joinPath:e})}getFieldDef(){throw this.internalError("fielddef request from wildcard reference")}get refString(){return this.joinPath?`${this.joinPath.refString}.${this.star}`:this.star}};cr.WildcardFieldReference=Moe;var ESe=class extends fa{constructor(e,t){super();this.field=e,this.dir=t,this.elementType="orderBy",e instanceof G$&&this.has({field:e})}get modelField(){return typeof this.field=="number"?this.field:this.field.refString}getOrderBy(e){let t={field:this.modelField};return this.dir&&(t.dir=this.dir),t}};cr.OrderBy=ESe;var rR=class extends wf{constructor(e){super("ordering",e)}getOrderBy(e){return this.list.map(t=>t.getOrderBy(e))}};cr.Ordering=rR;var iR=class extends fa{constructor(e){super();this.limit=e,this.elementType="limit"}};cr.Limit=iR;var sR=class extends wf{constructor(e){super("turtleDeclarationList",e)}};cr.Turtles=sR;var oR=class extends fa{constructor(e){super({fields:e});this.fields=e,this.elementType="index"}useWeight(e){this.has({weightBy:e}),this.weightBy=e}};cr.Index=oR;function Ndt(n){return!!(n&&typeof n!="string"&&n.type==="turtle")}var Poe=class extends fa{constructor(){super(...arguments);this.elementType="pipelineDesc",this.qops=[]}refineHead(e){this.headRefinement=e,this.has({headRefinement:e})}addSegments(...e){this.qops.push(...e),this.has({segments:this.qops})}appendOps(e,t){let r=t,i;for(let s of this.qops){let o=e.length==0,a=s.getOp(r,o?this:null);i==null&&(i=[...e]),i.push(a.segment),r=a.outputSpace()}return{opList:i||e,structDef:r.structDef()}}refinePipeline(e,t){if(!this.headRefinement)return t;let r=[];if(t.pipeHead){let{pipeline:s}=this.expandTurtle(t.pipeHead.name,e.structDef());r.push(...s)}r.push(...t.pipeline);let i=r[0];return i&&this.headRefinement.refineFrom(i),r[0]=this.headRefinement.getOp(e,this).segment,{pipeline:r}}expandTurtle(e,t){let r=Cdt(t,e);if(!r)this.log(`Query '${e}' is not defined in source`);else if(r.type!=="turtle")this.log(`'${e}' is not a query`);else return{pipeline:r.pipeline,location:r.location};return{pipeline:[],location:void 0}}getOutputStruct(e,t){for(let r of t)e=Ooe(this,e,r);return e}},Boe=class extends Poe{set head(e){this._head=e,this.has({head:e})}get head(){return this._head}queryComp(){if(!this.head)throw this.internalError("can't make query from nameless query");let e=this.modelEntry(this.head),t=e==null?void 0:e.entry,r=function(){return{outputStruct:Od.structDef,query:Od.query}};if(!t)return this.log(`Reference to undefined query '${this.head}'`),r();if(t.type!=="query")return this.log(`Illegal reference to '${this.head}', query expected`),r();let i=new oSe(t.structRef);this.has({queryHead:i});let s=i.structDef(),o=new Dx.DynamicSpace(s),a=this.refinePipeline(o,t),l=this.getOutputStruct(s,a.pipeline),f=this.appendOps(a.pipeline,new Dx.DynamicSpace(l)),p={...a,pipeline:f.opList},_={type:"query",...p,structRef:i.structRef(),location:this.location};return{outputStruct:f.structDef,query:_}}query(){return this.queryComp().query}};cr.ExistingQuery=Boe;var X$=class extends Poe{set turtleName(e){this._turtleName=e,this.has({turtleName:e})}get turtleName(){return this._turtleName}};cr.TurtleHeadedPipe=X$;var joe=class extends X${constructor(e){super({explore:e});this.explore=e}queryComp(){let e=this.explore.structRef(),t={type:"query",structRef:e,pipeline:[],location:this.location},r=Ay.refIsStructDef(e)?e:this.explore.structDef(),i=new Dx.DynamicSpace(r);if(Od.isErrorStructDef(r))return{outputStruct:r,query:{structRef:e,pipeline:[]}};if(this.turtleName){let{error:o}=this.turtleName.getField(i);o&&this.log(o);let a=this.turtleName.refString,{pipeline:l,location:f}=this.expandTurtle(a,r);t.location=f;let p=this.refinePipeline(i,{pipeline:l}).pipeline;this.headRefinement?t.pipeline=p:t.pipeHead={name:a};let _=this.getOutputStruct(r,p);i=new Dx.DynamicSpace(_)}let s=this.appendOps(t.pipeline,i);return t.pipeline=s.opList,{outputStruct:s.structDef,query:t}}query(){return this.queryComp().query}};cr.FullQuery=joe;var aR=class extends X${constructor(e){super();this.name=e}getPipeline(e){let t={pipeline:[]};if(this.turtleName){let s=this.turtleName.getField(e),o=!0;if(s.error)this.log(s.error),o=!1;else if(s.found instanceof bdt.QueryField){let a=s.found.getQueryFieldDef(e);if(Ndt(a)){let l=this.refinePipeline(e,a);t.pipeline=[...l.pipeline],o=!1}}o&&this.log(`Expected '${this.turtleName}' to be a query`)}else if(this.headRefinement)throw this.internalError("Can't refine the head of a turtle in its definition");let r=e;if(t.pipeline.length>0){let s=r.structDef();for(let o of t.pipeline)s=Ooe(this,s,o);r=new Dx.DynamicSpace(s)}let i=this.appendOps(t.pipeline,r);return t.pipeline=i.opList,t}getFieldDef(e,t){t&&(this.nestedInQuerySpace=t);let r=this.getPipeline(e);return{type:"turtle",name:this.name,...r,location:this.location}}};cr.TurtleDecl=aR;var qoe=class extends Y${constructor(e){super([e]);this.name=e,this.elementType="nestReference"}};cr.NestReference=qoe;var Uoe=class extends aR{constructor(e){super(e.refString);this.elementType="nestRefinement",this.turtleName=e}};cr.NestRefinement=Uoe;var $oe=class extends aR{constructor(e){super(e);this.elementType="nestDefinition"}};cr.NestDefinition=$oe;function Z$(n){return n instanceof Uoe||n instanceof qoe||n instanceof $oe}cr.isNestedQuery=Z$;var uR=class extends wf{constructor(e){super("nestedQueries",e)}};cr.Nests=uR;function Ldt(n){return n instanceof joe||n instanceof Boe}cr.isQueryElement=Ldt;var SSe=class extends wf{constructor(e){super("defineQueries",e);this.has({queryList:e})}execute(e){for(let t of this.list)t.execute(e)}};cr.DefineQueryList=SSe;var wSe=class extends fa{constructor(e,t){super({queryDetails:t});this.name=e,this.queryDetails=t,this.elementType="defineQuery"}execute(e){let t={...this.queryDetails.query(),type:"query",name:this.name,location:this.location},r=!1;e.setEntry(this.name,{entry:t,exported:r})}};cr.DefineQuery=wSe;var CSe=class extends fa{constructor(e){super();this.theQuery=e,this.elementType="anonymousQuery",this.has({query:e})}execute(e){let t=this.theQuery.query();e.queryList.push(t)}};cr.AnonymousQuery=CSe;var lR=class extends fa{constructor(e,t){super();this.limit=e,this.by=t,this.elementType="top",this.has({by:t})}getBy(e){if(this.by){if(this.by instanceof G$)return{by:"name",name:this.by.refString};{let t=this.by.getExpression(e);return t.aggregate||this.log("top by expression must be an aggregate"),{by:"expression",e:(0,mb.compressExpr)(t.value)}}}}};cr.Top=lR;var ASe=class extends fa{constructor(e){super();this.elementType="jsonElement";try{this.value=JSON.parse(e)}catch{this.log("JSON syntax error"),this.value=void 0}}};cr.JSONElement=ASe;var ez=class extends b4{constructor(e){super();this.struct=e,this.elementType="jsonStructDef"}static fromJSON(e){let t=e.value;if(t&&t.type==="struct"&&t.structRelationship&&t.structSource)return new ez(t)}structDef(){return this.struct}};cr.JSONStructDef=ez;var TSe=class extends fa{constructor(e,t){super();this.url=e,this.elementType="import statement";try{this.fullURL=decodeURI(new URL(e,t).toString())}catch{this.log("Invalid URI in import statement")}}execute(e){let t=this.translator();if(!t)this.log("Cannot import without translation context");else if(this.fullURL){let r=t.root.importZone.getEntry(this.fullURL);if(r.status==="present"){let i=t.getChildExports(this.fullURL);for(let s in i)e.setEntry(s,{entry:i[s],exported:!1})}else r.status==="error"?this.log(`import failed: '${r.message}'`):this.log(`import failed with status: '${r.status}'`)}}};cr.ImportStatement=TSe;var tz=class extends fa{constructor(e){super();this.elementType="hasParameter",this.name=e.name,this.isCondition=e.isCondition,e.type&&Ay.isAtomicFieldType(e.type)&&(this.type=e.type),e.default&&(this.default=e.default,this.has({default:this.default}))}parameter(){var e,t;let r=this.name,i=this.type||"string";if(this.isCondition){let o=((e=this.default)===null||e===void 0?void 0:e.constantCondition(i).value)||null;return{type:i,name:r,condition:o}}return{value:((t=this.default)===null||t===void 0?void 0:t.constantValue().value)||null,type:i,name:this.name,constant:!1}}};cr.HasParameter=tz;var FSe=class extends tz{constructor(e,t){super({name:e,isCondition:!1});this.value=t,this.has({value:t})}parameter(){let e=this.value.constantValue();return Ay.isAtomicFieldType(e.dataType)?{value:e.value,type:e.dataType,name:this.name,constant:!0}:(this.log(`Unexpected expression type '${e.dataType}'`),{value:["XXX-type-mismatch-error-XXX"],type:"string",name:this.name,constant:!0})}};cr.ConstantParameter=FSe;var DSe=class extends fa{constructor(e){super();this.blockReq=e,this.elementType="sqlStatement"}sqlBlock(){let e=(0,Edt.makeSQLBlock)(this.blockReq);return e.location=this.location,e}execute(e){e.defineSQL(this.sqlBlock(),this.is)||this.log(`${this.is} already defined`)}};cr.SQLStatement=DSe;var nz=class extends fa{constructor(e){super();this.sample=e,this.elementType="sampleProperty"}sampling(){return this.sample}};cr.SampleProperty=nz});var kSe=Ae(sC=>{"use strict";m();Object.defineProperty(sC,"__esModule",{value:!0});sC.nullsafeNot=sC.applyBinary=void 0;var rz=bm(),Cf=_4();function kdt(n,e,t,r){if((0,Cf.isEquality)(t))return Pdt(n,e,t,r);if((0,Cf.isComparison)(t))return Bdt(n,e,t,r);if(zoe(t,"+","-"))return jdt(n,e,t,r);if(zoe(t,"*"))return LSe(n,e,t,r);if(zoe(t,"/")){let i=e.getExpression(n),s=r.getExpression(n);if(i.dataType!="number")e.log("Numerator for division must be a number");else if(s.dataType!="number")r.log("Denominator for division must be a number");else{let o={type:"dialect",function:"div",numerator:i.value,denominator:s.value};return{dataType:"number",aggregate:i.aggregate||s.aggregate,value:[o]}}return(0,Cf.errorFor)("divide type mismatch")}return e.log(`Canot use ${t} operator here`),(0,Cf.errorFor)("applybinary bad operator")}sC.applyBinary=kdt;function zoe(n,...e){return e.includes(n)}function Idt(n,...e){for(let t of e)if(t.dataType!==n)return!1;return!0}function RSe(n,e){if(n.dataType==="string"){if(e.dataType==="regular expression")return[{type:"dialect",function:"regexpMatch",expr:n.value,regexp:e.value[0].replace(/^r'/,"'")}]}else if(e.dataType==="string"&&n.dataType==="regular expression")return[{type:"dialect",function:"regexpMatch",expr:e.value,regexp:n.value[0].replace(/^r'/,"'")}]}function Mdt(n,e,t){let r=e==="!="||e==="!~";if(n.dataType==="null"||t.dataType==="null"){let i=r?" NOT":"";return n.dataType!=="null"?[...n.value,` IS${i} NULL`]:t.dataType!=="null"?[...t.value,`IS${i} NULL`]:[r?"false":"true"]}}function NSe(n,e,t){if((0,rz.isTimeFieldType)(n.dataType)&&(0,rz.isTimeFieldType)(t.dataType)&&n.dataType!==t.dataType){let r=n.value,i=t.value;return n.dataType==="timestamp"?r=(0,Cf.castTimestampToDate)(r):i=(0,Cf.castTimestampToDate)(i),(0,Cf.compose)(r,e,i)}}function Hoe(n,e){return e===void 0||e==="!="||e==="!~"?(0,rz.mkExpr)`COALESCE(NOT(${n}),FALSE)`:n}sC.nullsafeNot=Hoe;function Pdt(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n),o=NSe(i,t,s)||(0,Cf.compose)(i.value,t,s.value);if(i.dataType!="unknown"&&s.dataType!="unknown")switch(t){case"~":case"!~":{if(i.dataType==="string"&&s.dataType==="string")o=(0,Cf.compose)(i.value,"LIKE",s.value);else{let a=RSe(i,s);if(a===void 0)throw new Cf.TypeMistmatch("Incompatible types for match('~') operator");o=a}o=Hoe(o,t);break}case"=":case"!=":{let a=Mdt(i,t,s);a?o=a:o=Hoe(RSe(i,s)||(0,Cf.compose)(i.value,"=",s.value),t);break}}return{dataType:"boolean",aggregate:i.aggregate||s.aggregate,value:o}}function Bdt(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n),o=i.aggregate||s.aggregate,a=NSe(i,t,s)||(0,Cf.compose)(i.value,t,s.value);return{dataType:"boolean",aggregate:o,value:a}}function LSe(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n),o=i.aggregate||s.aggregate;return Idt("number",i,s)?{dataType:"number",aggregate:o,value:(0,Cf.compose)(i.value,t,s.value)}:(e.log(`Non numeric('${i.dataType},${s.dataType}') value with '${t}'`),(0,Cf.errorFor)("numbers required"))}function jdt(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n);if((0,rz.isTimeFieldType)(i.dataType)){let o=r;if(s.dataType!=="duration")if((0,Cf.isGranularResult)(i))o=new Cf.ExprDuration(r,i.timeframe);else if(i.dataType==="date")o=new Cf.ExprDuration(r,"day");else return e.log(`Can not offset time by '${s.dataType}'`),(0,Cf.errorFor)(`time plus ${s.dataType}`);return o.apply(n,t,e)}return LSe(n,e,t,r)}});var gwe=Ae(Oi=>{"use strict";m();Object.defineProperty(Oi,"__esModule",{value:!0});Oi.Pick=Oi.PickWhen=Oi.Range=Oi.TopBy=Oi.ExprCast=Oi.isCastType=Oi.ExprFilter=Oi.ExprCase=Oi.WhenClause=Oi.ExprUngroup=Oi.ExprSum=Oi.ExprAvg=Oi.ExprCount=Oi.ExprCountDistinct=Oi.ExprMax=Oi.ExprMin=Oi.ExprAlternationTree=Oi.ExprMulDiv=Oi.ExprAddSub=Oi.BinaryNumeric=Oi.ExprMinus=Oi.ExprParens=Oi.ExprNULL=Oi.ExprIdReference=Oi.ExprLogicalOp=Oi.BinaryBoolean=Oi.Boolean=Oi.ExprNot=Oi.ExprTime=Oi.ExprRegEx=Oi.ExprNumber=Oi.ExprString=Oi.TypeMistmatch=Oi.FieldDeclaration=Oi.ConstantSubExpression=Oi.ExpressionDef=void 0;var iz=bm(),sz=$$(),ci=_4(),ISe=kSe(),MSe=U$(),qdt=V$(),cu=class extends ci.MalloyElement{constructor(){super(...arguments);this.legalChildTypes=ci.FT.anyAtomicT}granular(){return!1}requestExpression(e){return this.getExpression(e)}defaultFieldName(){}typeCheck(e,t){return ci.FT.in(t,this.legalChildTypes)?!0:(e.log(`'${this.elementType}' Can't use type ${ci.FT.inspect(t)}`),!1)}apply(e,t,r){return(0,ISe.applyBinary)(e,r,t,this)}};Oi.ExpressionDef=cu;var PSe=class extends cu{constructor(e){super();this.refType=e,this.elementType="$"}getExpression(e){return{dataType:this.refType,value:[{type:"applyVal"}],aggregate:!1}}},BSe=class{constructor(){this.type="fieldSpace"}structDef(){throw new Error("ConstantFieldSpace cannot generate a structDef")}emptyStructDef(){throw new Error("ConstantFieldSpace cannot generate a structDef")}lookup(e){return{error:"Only constants allowed in parameter expressions",found:void 0}}dialectObj(){}whenComplete(e){e()}},jSe=class extends cu{constructor(e){super({expr:e});this.expr=e,this.elementType="constantExpression"}getExpression(e){return this.constantValue()}get constantFs(){return this.cfs||(this.cfs=new BSe),this.cfs}constantValue(){return this.expr.getExpression(this.constantFs)}constantCondition(e){let r=new ci.ExprCompare(new PSe(e),"=",this.expr).getExpression(this.constantFs);return{...r,value:(0,ci.compressExpr)(r.value)}}apply(e,t,r){return this.expr.apply(e,t,r)}requestExpression(e){return this.expr.requestExpression(e)}};Oi.ConstantSubExpression=jSe;var qSe=class extends ci.MalloyElement{constructor(e,t,r){super({expr:e});this.expr=e,this.defineName=t,this.exprSrc=r,this.elementType="fieldDeclaration"}fieldDef(e,t){return this.queryFieldDef(new sz.DefSpace(e,this),t)}queryFieldDef(e,t){let r;try{r=this.expr.getExpression(e)}catch(a){return this.log(`Cannot define '${t}', ${a.message}`),{name:`error_defining_${t}`,type:"string"}}let i=(0,ci.compressExpr)(r.value),s=r.dataType;if((0,iz.isAtomicFieldType)(s)){let a={name:t,type:s,location:this.location};return i.length>0&&(a.e=i),r.aggregate&&(a.aggregate=!0),this.exprSrc&&(a.code=this.exprSrc),(0,ci.isGranularResult)(r)&&a.type==="timestamp"&&(a.timeframe=r.timeframe),a}if(!(e instanceof sz.DefSpace&&e.foundCircle))if(r.dataType=="unknown")this.log(`Cannot define '${t}', value has unknown type`);else{let a=ci.FT.inspect(r);this.log(`Cannot define '${t}', unexpected type: ${a}`)}return{name:`error_defining_${t}`,type:"string"}}};Oi.FieldDeclaration=qSe;var USe=class extends Error{};Oi.TypeMistmatch=USe;var $Se=class extends cu{constructor(e){super();this.value=e,this.elementType="string literal"}getExpression(e){return{...ci.FT.stringT,value:[this.value]}}};Oi.ExprString=$Se;var zSe=class extends cu{constructor(e){super();this.n=e,this.elementType="numeric literal"}getExpression(e){return this.constantExpression()}constantExpression(){return{...ci.FT.numberT,value:[this.n]}}};Oi.ExprNumber=zSe;var HSe=class extends cu{constructor(e){super();this.regex=e,this.elementType="regular expression literal"}getExpression(){return{dataType:"regular expression",aggregate:!1,value:[`r'${this.regex}'`]}}};Oi.ExprRegEx=HSe;var oz=class extends cu{constructor(e,t,r=!1){super();this.elementType="timestampOrDate",this.elementType=e,this.translationValue={dataType:e,aggregate:r,value:typeof t=="string"?[t]:t}}getExpression(e){return this.translationValue}static fromValue(e,t){let r=t.value;if(e!=t.dataType){let i={type:"dialect",function:"cast",safe:!1,dstType:e,expr:t.value};(0,iz.isTimeFieldType)(t.dataType)&&(i.srcType=t.dataType),r=(0,ci.compressExpr)([i])}return new oz(e,r,t.aggregate)}};Oi.ExprTime=oz;var VSe=class extends cu{constructor(e){super({expr:e});this.expr=e}},WSe=class extends VSe{constructor(e){super(e);this.elementType="not",this.legalChildTypes=[ci.FT.boolT,ci.FT.nullT]}getExpression(e){let t=this.expr.getExpression(e);return this.typeCheck(this.expr,t)?{...t,dataType:"boolean",value:(0,ISe.nullsafeNot)(t.value)}:(0,ci.errorFor)("not requires boolean")}};Oi.ExprNot=WSe;var QSe=class extends cu{constructor(e){super();this.value=e,this.elementType="boolean literal"}getExpression(){return{...ci.FT.boolT,value:[this.value]}}};Oi.Boolean=QSe;var az=class extends cu{constructor(e,t,r){super({left:e,right:r});this.left=e,this.op=t,this.right=r,this.elementType="abstract boolean binary",this.legalChildTypes=[ci.FT.boolT]}getExpression(e){let t=this.left.getExpression(e),r=this.right.getExpression(e);return this.typeCheck(this.left,t)&&this.typeCheck(this.right,r)?{dataType:"boolean",aggregate:t.aggregate||r.aggregate,value:(0,ci.compose)(t.value,this.op,r.value)}:(0,ci.errorFor)("logial required boolean")}};Oi.BinaryBoolean=az;var GSe=class extends az{constructor(){super(...arguments);this.elementType="logical operator",this.legalChildTypes=[ci.FT.boolT,{...ci.FT.boolT,aggregate:!0}]}};Oi.ExprLogicalOp=GSe;var YSe=class extends cu{constructor(e){super();this.fieldReference=e,this.elementType="ExpressionIdReference",this.has({fieldPath:e})}get refString(){return this.fieldReference.refString}getExpression(e){let t=this.fieldReference.getField(e);if(t.found){let r=t.found.type(),i=r.type,s=!!r.aggregate,o=[{type:t.found.refType,path:this.refString}];return{dataType:i,aggregate:s,value:o}}return this.log(t.error),(0,ci.errorFor)(t.error)}apply(e,t,r){let i=this.fieldReference.getField(e).found;if(i instanceof MSe.SpaceParam){let s=i.parameter();if((0,iz.isConditionParameter)(s)){let o=r.getExpression(e);return{dataType:"boolean",aggregate:o.aggregate,value:[{type:"apply",value:o.value,to:[{type:"parameter",path:this.refString}]}]}}}return super.apply(e,t,r)}};Oi.ExprIdReference=YSe;var KSe=class extends cu{constructor(){super(...arguments);this.elementType="NULL"}getExpression(){return{dataType:"null",value:["NULL"],aggregate:!1}}};Oi.ExprNULL=KSe;var JSe=class extends cu{constructor(e){super({expr:e});this.expr=e,this.elementType="(expression)"}requestExpression(e){return this.expr.requestExpression(e)}getExpression(e){let t=this.expr.getExpression(e);return{...t,value:["(",...t.value,")"]}}};Oi.ExprParens=JSe;var XSe=class extends cu{constructor(e){super({expr:e});this.expr=e,this.elementType="unary minus",this.legalChildTypes=[ci.FT.numberT]}getExpression(e){let t=this.expr.getExpression(e);return this.typeCheck(this.expr,t)?t.value.length>1?{...t,value:["-(",...t.value,")"]}:{...t,value:["-",...t.value]}:(0,ci.errorFor)("negate requires number")}};Oi.ExprMinus=XSe;var uz=class extends cu{constructor(e,t,r){super({left:e,right:r});this.left=e,this.op=t,this.right=r,this.elementType="numeric binary abstract",this.legalChildTypes=[ci.FT.numberT]}getExpression(e){return this.right.apply(e,this.op,this.left)}};Oi.BinaryNumeric=uz;var ZSe=class extends uz{constructor(){super(...arguments);this.elementType="+-"}};Oi.ExprAddSub=ZSe;var ewe=class extends uz{constructor(){super(...arguments);this.elementType="*/"}};Oi.ExprMulDiv=ewe;var twe=class extends az{constructor(e,t,r){super(e,t,r);this.elementType="alternation",this.elementType=`${t}alternation${t}`}apply(e,t,r){let i=this.left.apply(e,t,r),s=this.right.apply(e,t,r);return{dataType:"boolean",aggregate:i.aggregate||s.aggregate,value:(0,ci.compose)(i.value,this.op==="&"?"and":"or",s.value)}}requestExpression(e){}getExpression(e){return this.log("Alternation tree has no value"),(0,ci.errorFor)("no value from alternation tree")}};Oi.ExprAlternationTree=twe;var oC=class extends cu{constructor(e,t){super();this.func=e,this.legalChildTypes=[ci.FT.numberT],this.elementType=e,t&&(this.expr=t,this.has({expr:t}))}returns(e){return"number"}getExpression(e){var t,r;let i=(t=this.expr)===null||t===void 0?void 0:t.getExpression(e),s=(r=this.source)===null||r===void 0?void 0:r.refString;if(this.source){let o=this.source.getField(e).found;if(o){let a=o.type();if((0,iz.isAtomicFieldType)(a.type))i={dataType:a.type,aggregate:!!a.aggregate,value:[{type:"field",path:this.source.refString}]},s=this.source.sourceString;else if(!(o instanceof MSe.StructSpaceField))return this.log(`Aggregate source cannot be a ${a.type}`),(0,ci.errorFor)(`Aggregate source cannot be a ${a.type}`)}else return this.log(`Reference to undefined value ${this.source.refString}`),(0,ci.errorFor)(`Reference to undefined value ${this.source.refString}`)}if(i===void 0)return this.log("Missing expression for aggregate function"),(0,ci.errorFor)("agggregate without expression");if(this.typeCheck(this.expr||this,{...i,aggregate:!1})){let o={type:"aggregate",function:this.func,e:i.value};return s&&(o.structPath=s),{dataType:this.returns(i),aggregate:!0,value:[o]}}return(0,ci.errorFor)("aggregate type check")}},nwe=class extends oC{constructor(e){super("min",e);this.legalChildTypes=[ci.FT.numberT,ci.FT.stringT,ci.FT.dateT,ci.FT.timestampT]}returns(e){return e.dataType}};Oi.ExprMin=nwe;var rwe=class extends oC{constructor(e){super("max",e);this.legalChildTypes=[ci.FT.numberT,ci.FT.stringT,ci.FT.dateT,ci.FT.timestampT]}returns(e){return e.dataType}};Oi.ExprMax=rwe;var iwe=class extends oC{constructor(e){super("count_distinct",e);this.legalChildTypes=[ci.FT.numberT,ci.FT.stringT,ci.FT.dateT,ci.FT.timestampT]}};Oi.ExprCountDistinct=iwe;var Voe=class extends oC{constructor(e,t,r){super(e,t);this.func=e,this.expr=t,this.source=r,this.has({source:r})}defaultFieldName(){if(this.source&&this.expr===void 0){let e=this.source.nameString;switch(this.func){case"sum":return`total_${e}`;case"avg":return`avg_${e}`}}}},swe=class extends oC{constructor(e){super("count");this.source=e,this.elementType="count",this.has({source:e})}defaultFieldName(){if(this.source)return"count_"+this.source.nameString}getExpression(e){let t={type:"aggregate",function:"count",e:[]};return this.source&&(t.structPath=this.source.refString),{dataType:"number",aggregate:!0,value:[t]}}};Oi.ExprCount=swe;var owe=class extends Voe{constructor(e,t){super("avg",e,t);this.has({source:t})}};Oi.ExprAvg=owe;var awe=class extends Voe{constructor(e,t){super("sum",e,t);this.has({source:t})}};Oi.ExprSum=awe;var uwe=class extends cu{constructor(e,t,r){super({expr:t,fields:r});this.control=e,this.expr=t,this.fields=r,this.legalChildTypes=ci.FT.anyAtomicT,this.elementType="ungroup"}returns(e){return"number"}getExpression(e){let t=this.expr.getExpression(e);if(!t.aggregate)return this.expr.log(`${this.control}() expression must be an aggregate`),(0,ci.errorFor)("ungrouped scalar");let r={type:this.control,e:t.value};if(this.typeCheck(this.expr,{...t,aggregate:!1})){if(this.fields.length>0){let i=e;if(e instanceof sz.DefSpace&&(i=e.realFS),!(i instanceof sz.QuerySpace))return this.log(`${this.control}() must be in a query -- weird internal error`),(0,ci.errorFor)("ungroup query check");let s=i.result,o=[],a=this.control=="exclude";for(let l of this.fields)s.whenComplete(()=>{s.checkUngroup(l,a)}),o.push(l.refString);r.fields=o}return{dataType:this.returns(t),aggregate:!0,value:[r]}}return this.log(`${this.control}() incompatible type`),(0,ci.errorFor)("ungrouped type check")}};Oi.ExprUngroup=uwe;var lwe=class extends cu{constructor(e,t){super({whenThis:e,thenThis:t});this.whenThis=e,this.thenThis=t,this.elementType="when clause"}getExpression(e){throw new Error("expression did something unxpected with 'WHEN'")}};Oi.WhenClause=lwe;var cwe=class extends cu{constructor(e,t){super({when:e});this.when=e,this.elseClause=t,this.elementType="case statement",this.has({elseClause:t})}getExpression(e){let t,r=!1,i=["CASE "];for(let s of this.when){let o=s.whenThis.getExpression(e),a=s.thenThis.getExpression(e);if(r||(r=o.aggregate||a.aggregate),a.dataType!=="null"){if(t&&!ci.FT.typeEq(t,a))return this.log(`Mismatched THEN clause types, ${ci.FT.inspect(t,a)}`),(0,ci.errorFor)("then typecheck");t=a}i.push("WHEN ",...o.value," THEN ",...a.value)}if(this.elseClause){let s=this.elseClause.getExpression(e);if(r||(r=s.aggregate),i.push(" ELSE ",...s.value),s.dataType!=="null"){if(t&&!ci.FT.typeEq(t,s))return this.log(`Mismatched ELSE clause type, ${ci.FT.inspect(t,s)}`),(0,ci.errorFor)("else typecheck");t=s}}return t===void 0?(this.log("case statement type not computable"),(0,ci.errorFor)("typeless case")):(i.push(" END"),{dataType:t.dataType,aggregate:r,value:i})}};Oi.ExprCase=cwe;var fwe=class extends cu{constructor(e,t){super({expr:e,filter:t});this.expr=e,this.filter=t,this.elementType="filtered expression",this.legalChildTypes=ci.FT.anyAtomicT}getExpression(e){let t=this.filter.getFilterList(e),r=this.expr.getExpression(e);for(let i of t)if(i.aggregate)return this.filter.log("Cannot filter a field with an aggregate computation"),(0,ci.errorFor)("no filter on aggregate");return r.aggregate?this.typeCheck(this.expr,{...r,aggregate:!1})?{...r,value:[{type:"filterExpression",e:r.value,filterList:t}]}:(this.expr.log(`Cannot filter '${r.dataType}' data`),(0,ci.errorFor)("cannot filter type")):r}};Oi.ExprFilter=fwe;function Udt(n){return["string","number","boolean","date","timestamp"].includes(n)}Oi.isCastType=Udt;var dwe=class extends cu{constructor(e,t,r=!1){super({expr:e});this.expr=e,this.castType=t,this.safe=r,this.elementType="cast"}getExpression(e){let t=this.expr.getExpression(e);return{dataType:this.castType,aggregate:t.aggregate,value:(0,ci.compressExpr)((0,qdt.castTo)(this.castType,t.value,this.safe))}}};Oi.ExprCast=dwe;var hwe=class extends ci.MalloyElement{constructor(e){super();this.by=e,this.elementType="topBy",e instanceof cu&&this.has({by:e})}getBy(e){if(this.by instanceof cu){let t=this.by.getExpression(e);return t.aggregate||this.log("top by expression must be an aggregate"),{by:"expression",e:(0,ci.compressExpr)(t.value)}}return{by:"name",name:this.by}}};Oi.TopBy=hwe;var pwe=class extends cu{constructor(e,t){super({first:e,last:t});this.first=e,this.last=t,this.elementType="range"}apply(e,t,r){switch(t){case"=":case"!=":{let i=t==="="?">=":"<",s=t==="="?"and":"or",o=t==="="?"<":">=",a=this.first.apply(e,i,r),l=this.last.apply(e,o,r);return{dataType:"boolean",aggregate:a.aggregate||l.aggregate,value:(0,ci.compose)(a.value,s,l.value)}}case">":return this.last.apply(e,">=",r);case">=":return this.first.apply(e,">=",r);case"<":return this.first.apply(e,"<",r);case"<=":return this.last.apply(e,"<",r)}throw new Error("mysterious error in range computation")}requestExpression(e){}getExpression(e){return(0,ci.errorFor)("a range is not a value")}};Oi.Range=pwe;var mwe=class extends ci.MalloyElement{constructor(e,t){super({when:t});this.pick=e,this.when=t,this.elementType="pickWhen",this.has({pick:e})}};Oi.PickWhen=mwe;var xwe=class extends cu{constructor(e,t){super({choices:e});this.choices=e,this.elsePick=t,this.elementType="pick",this.has({elsePick:t})}requestExpression(e){if(this.elsePick!==void 0){for(let t of this.choices){if(t.pick==null)return;let r=t.when.requestExpression(e);if(r==null||r.dataType!="boolean")return}return this.getExpression(e)}}apply(e,t,r){let i=["CASE"],s,o=!1;for(let f of this.choices){let p=f.when.apply(e,"=",r),_=f.pick?f.pick.getExpression(e):r.getExpression(e);if(o||(o=p.aggregate||_.aggregate),s){if(!ci.FT.typeEq(s,_,!0)){let E=ci.FT.inspect(_);return this.log(`pick type '${E}', expected '${s.dataType}'`),(0,ci.errorFor)("pick when type")}}else s=_;i.push(" WHEN ",...p.value," THEN ",..._.value)}let l=(this.elsePick||r).getExpression(e);if(s||(s=l),!ci.FT.typeEq(s,l,!0)){let f=this.elsePick?"else":"pick default";return this.log(`${f} type '${ci.FT.inspect(l)}', expected '${s.dataType}'`),(0,ci.errorFor)("pick else type")}return{dataType:s.dataType,aggregate:o||l.aggregate,value:(0,ci.compressExpr)([...i," ELSE ",...l.value," END"])}}getExpression(e){if(this.elsePick===void 0)return this.log("pick incomplete, missing 'else'"),(0,ci.errorFor)("no value for partial pick");let t=[];for(let a of this.choices){if(a.pick===void 0)return this.log("pick with no value can only be used with apply"),(0,ci.errorFor)("no value for partial pick");if(a.when.requestExpression(e)===void 0)return this.log("pick with partial when can only be used with apply"),(0,ci.errorFor)("partial when");t.push({pick:a.pick.getExpression(e),when:a.when.getExpression(e)})}let r=t[0].pick,i=["CASE"],s=r.aggregate;for(let a of t){if(!ci.FT.typeEq(a.when,ci.FT.boolT))return this.log(`when expression must be boolean, not '${ci.FT.inspect(a.when)}`),(0,ci.errorFor)("pick when type");if(!ci.FT.typeEq(r,a.pick,!0)){let l=ci.FT.inspect(a.pick);return this.log(`pick type '${l}', expected '${r.dataType}'`),(0,ci.errorFor)("pick value type")}s||(s=a.pick.aggregate||a.when.aggregate),i.push(" WHEN ",...a.when.value," THEN ",...a.pick.value)}let o=this.elsePick.getExpression(e);return s||(s=o.aggregate),ci.FT.typeEq(r,o,!0)?(i.push(" ELSE ",...o.value," END"),{dataType:r.dataType,aggregate:!!s,value:(0,ci.compressExpr)(i)}):(this.elsePick.log(`else type '${ci.FT.inspect(o)}', expected '${r.dataType}'`),(0,ci.errorFor)("pick value type mismatch"))}};Oi.Pick=xwe});var CCe=Ae(ap=>{"use strict";m();Object.defineProperty(ap,"__esModule",{value:!0});function ywe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Mm(n,e,t){return e&&ywe(n.prototype,e),t&&ywe(n,t),n}function S1(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function Woe(n){return Woe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Woe(n)}function lz(n,e){return lz=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},lz(n,e)}function $dt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function cz(n,e,t){return $dt()?cz=Reflect.construct:cz=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),f=new l;return o&&lz(f,o.prototype),f},cz.apply(null,arguments)}function zdt(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function Qoe(n){var e=typeof Map=="function"?new Map:void 0;return Qoe=function(r){if(r===null||!zdt(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return cz(r,arguments,Woe(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),lz(i,r)},Qoe(n)}function Hdt(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Vdt(n,e){if(!!n){if(typeof n=="string")return vwe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(t);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vwe(n,e)}}function vwe(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function w4(n){var e=0;if(typeof Symbol=="undefined"||n[Symbol.iterator]==null){if(Array.isArray(n)||(n=Vdt(n)))return function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return e=n[Symbol.iterator](),e.next.bind(e)}var gb=function(n){S1(e,n);function e(){return n.apply(this,arguments)||this}return e}(Qoe(Error)),Wdt=function(n){S1(e,n);function e(t){return n.call(this,"Invalid DateTime: "+t.toMessage())||this}return e}(gb),Qdt=function(n){S1(e,n);function e(t){return n.call(this,"Invalid Interval: "+t.toMessage())||this}return e}(gb),Gdt=function(n){S1(e,n);function e(t){return n.call(this,"Invalid Duration: "+t.toMessage())||this}return e}(gb),cR=function(n){S1(e,n);function e(){return n.apply(this,arguments)||this}return e}(gb),_we=function(n){S1(e,n);function e(t){return n.call(this,"Invalid unit "+t)||this}return e}(gb),w1=function(n){S1(e,n);function e(){return n.apply(this,arguments)||this}return e}(gb),C4=function(n){S1(e,n);function e(){return n.call(this,"Zone is an abstract class")||this}return e}(gb),Ai="numeric",Pm="short",sp="long",fz={year:Ai,month:Ai,day:Ai},Goe={year:Ai,month:Pm,day:Ai},bwe={year:Ai,month:Pm,day:Ai,weekday:Pm},Yoe={year:Ai,month:sp,day:Ai},Koe={year:Ai,month:sp,day:Ai,weekday:sp},Joe={hour:Ai,minute:Ai},Xoe={hour:Ai,minute:Ai,second:Ai},Zoe={hour:Ai,minute:Ai,second:Ai,timeZoneName:Pm},eae={hour:Ai,minute:Ai,second:Ai,timeZoneName:sp},tae={hour:Ai,minute:Ai,hour12:!1},nae={hour:Ai,minute:Ai,second:Ai,hour12:!1},rae={hour:Ai,minute:Ai,second:Ai,hour12:!1,timeZoneName:Pm},iae={hour:Ai,minute:Ai,second:Ai,hour12:!1,timeZoneName:sp},sae={year:Ai,month:Ai,day:Ai,hour:Ai,minute:Ai},oae={year:Ai,month:Ai,day:Ai,hour:Ai,minute:Ai,second:Ai},aae={year:Ai,month:Pm,day:Ai,hour:Ai,minute:Ai},uae={year:Ai,month:Pm,day:Ai,hour:Ai,minute:Ai,second:Ai},Ewe={year:Ai,month:Pm,day:Ai,weekday:Pm,hour:Ai,minute:Ai},lae={year:Ai,month:sp,day:Ai,hour:Ai,minute:Ai,timeZoneName:Pm},cae={year:Ai,month:sp,day:Ai,hour:Ai,minute:Ai,second:Ai,timeZoneName:Pm},fae={year:Ai,month:sp,day:Ai,weekday:sp,hour:Ai,minute:Ai,timeZoneName:sp},dae={year:Ai,month:sp,day:Ai,weekday:sp,hour:Ai,minute:Ai,second:Ai,timeZoneName:sp};function oa(n){return typeof n=="undefined"}function yb(n){return typeof n=="number"}function dz(n){return typeof n=="number"&&n%1===0}function Ydt(n){return typeof n=="string"}function Kdt(n){return Object.prototype.toString.call(n)==="[object Date]"}function Ox(){try{return typeof Intl!="undefined"&&Intl.DateTimeFormat}catch{return!1}}function fR(){return!oa(Intl.DateTimeFormat.prototype.formatToParts)}function Swe(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Jdt(n){return Array.isArray(n)?n:[n]}function wwe(n,e,t){if(n.length!==0)return n.reduce(function(r,i){var s=[e(i),i];return r&&t(r[0],s[0])===r[0]?r:s},null)[1]}function Cwe(n,e){return e.reduce(function(t,r){return t[r]=n[r],t},{})}function aC(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Ty(n,e,t){return dz(n)&&n>=e&&n<=t}function Xdt(n,e){return n-e*Math.floor(n/e)}function uC(n,e){e===void 0&&(e=2);var t=n<0?"-":"",r=t?n*-1:n,i;return r.toString().length<e?i=("0".repeat(e)+r).slice(-e):i=r.toString(),""+t+i}function Rd(n){if(!(oa(n)||n===null||n===""))return parseInt(n,10)}function hae(n){if(!(oa(n)||n===null||n==="")){var e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function pae(n,e,t){t===void 0&&(t=!1);var r=Math.pow(10,e),i=t?Math.trunc:Math.round;return i(n*r)/r}function dR(n){return n%4===0&&(n%100!==0||n%400===0)}function hR(n){return dR(n)?366:365}function hz(n,e){var t=Xdt(e-1,12)+1,r=n+(e-t)/12;return t===2?dR(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function mae(n){var e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function pz(n){var e=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7,t=n-1,r=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return e===4||r===3?53:52}function xae(n){return n>99?n:n>60?1900+n:2e3+n}function Awe(n,e,t,r){r===void 0&&(r=null);var i=new Date(n),s={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);var o=Object.assign({timeZoneName:e},s),a=Ox();if(a&&fR()){var l=new Intl.DateTimeFormat(t,o).formatToParts(i).find(function(O){return O.type.toLowerCase()==="timezonename"});return l?l.value:null}else if(a){var f=new Intl.DateTimeFormat(t,s).format(i),p=new Intl.DateTimeFormat(t,o).format(i),_=p.substring(f.length),E=_.replace(/^[, \u200e]+/,"");return E}else return null}function mz(n,e){var t=parseInt(n,10);Number.isNaN(t)&&(t=0);var r=parseInt(e,10)||0,i=t<0||Object.is(t,-0)?-r:r;return t*60+i}function Twe(n){var e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new w1("Invalid unit value "+n);return e}function xz(n,e,t){var r={};for(var i in n)if(aC(n,i)){if(t.indexOf(i)>=0)continue;var s=n[i];if(s==null)continue;r[e(i)]=Twe(s)}return r}function gz(n,e){var t=Math.trunc(Math.abs(n/60)),r=Math.trunc(Math.abs(n%60)),i=n>=0?"+":"-";switch(e){case"short":return""+i+uC(t,2)+":"+uC(r,2);case"narrow":return""+i+t+(r>0?":"+r:"");case"techie":return""+i+uC(t,2)+uC(r,2);default:throw new RangeError("Value format "+e+" is out of range for property format")}}function yz(n){return Cwe(n,["hour","minute","second","millisecond"])}var Fwe=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function pl(n){return JSON.stringify(n,Object.keys(n).sort())}var Zdt=["January","February","March","April","May","June","July","August","September","October","November","December"],Dwe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],eht=["J","F","M","A","M","J","J","A","S","O","N","D"];function Owe(n){switch(n){case"narrow":return[].concat(eht);case"short":return[].concat(Dwe);case"long":return[].concat(Zdt);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var Rwe=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Nwe=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],tht=["M","T","W","T","F","S","S"];function Lwe(n){switch(n){case"narrow":return[].concat(tht);case"short":return[].concat(Nwe);case"long":return[].concat(Rwe);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var kwe=["AM","PM"],nht=["Before Christ","Anno Domini"],rht=["BC","AD"],iht=["B","A"];function Iwe(n){switch(n){case"narrow":return[].concat(iht);case"short":return[].concat(rht);case"long":return[].concat(nht);default:return null}}function sht(n){return kwe[n.hour<12?0:1]}function oht(n,e){return Lwe(e)[n.weekday-1]}function aht(n,e){return Owe(e)[n.month-1]}function uht(n,e){return Iwe(e)[n.year<0?0:1]}function lht(n,e,t,r){t===void 0&&(t="always"),r===void 0&&(r=!1);var i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&s){var o=n==="days";switch(e){case 1:return o?"tomorrow":"next "+i[n][0];case-1:return o?"yesterday":"last "+i[n][0];case 0:return o?"today":"this "+i[n][0]}}var a=Object.is(e,-0)||e<0,l=Math.abs(e),f=l===1,p=i[n],_=r?f?p[1]:p[2]||p[1]:f?i[n][0]:n;return a?l+" "+_+" ago":"in "+l+" "+_}function cht(n){var e=Cwe(n,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]),t=pl(e),r="EEEE, LLLL d, yyyy, h:mm a";switch(t){case pl(fz):return"M/d/yyyy";case pl(Goe):return"LLL d, yyyy";case pl(bwe):return"EEE, LLL d, yyyy";case pl(Yoe):return"LLLL d, yyyy";case pl(Koe):return"EEEE, LLLL d, yyyy";case pl(Joe):return"h:mm a";case pl(Xoe):return"h:mm:ss a";case pl(Zoe):return"h:mm a";case pl(eae):return"h:mm a";case pl(tae):return"HH:mm";case pl(nae):return"HH:mm:ss";case pl(rae):return"HH:mm";case pl(iae):return"HH:mm";case pl(sae):return"M/d/yyyy, h:mm a";case pl(aae):return"LLL d, yyyy, h:mm a";case pl(lae):return"LLLL d, yyyy, h:mm a";case pl(fae):return r;case pl(oae):return"M/d/yyyy, h:mm:ss a";case pl(uae):return"LLL d, yyyy, h:mm:ss a";case pl(Ewe):return"EEE, d LLL yyyy, h:mm a";case pl(cae):return"LLLL d, yyyy, h:mm:ss a";case pl(dae):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return r}}function Mwe(n,e){for(var t="",r=w4(n),i;!(i=r()).done;){var s=i.value;s.literal?t+=s.val:t+=e(s.val)}return t}var fht={D:fz,DD:Goe,DDD:Yoe,DDDD:Koe,t:Joe,tt:Xoe,ttt:Zoe,tttt:eae,T:tae,TT:nae,TTT:rae,TTTT:iae,f:sae,ff:aae,fff:lae,ffff:fae,F:oae,FF:uae,FFF:cae,FFFF:dae},Rx=function(){n.create=function(r,i){return i===void 0&&(i={}),new n(r,i)},n.parseFormat=function(r){for(var i=null,s="",o=!1,a=[],l=0;l<r.length;l++){var f=r.charAt(l);f==="'"?(s.length>0&&a.push({literal:o,val:s}),i=null,s="",o=!o):o||f===i?s+=f:(s.length>0&&a.push({literal:!1,val:s}),s=f,i=f)}return s.length>0&&a.push({literal:o,val:s}),a},n.macroTokenToFormatOpts=function(r){return fht[r]};function n(t,r){this.opts=r,this.loc=t,this.systemLoc=null}var e=n.prototype;return e.formatWithSystemDefault=function(r,i){this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem());var s=this.systemLoc.dtFormatter(r,Object.assign({},this.opts,i));return s.format()},e.formatDateTime=function(r,i){i===void 0&&(i={});var s=this.loc.dtFormatter(r,Object.assign({},this.opts,i));return s.format()},e.formatDateTimeParts=function(r,i){i===void 0&&(i={});var s=this.loc.dtFormatter(r,Object.assign({},this.opts,i));return s.formatToParts()},e.resolvedOptions=function(r,i){i===void 0&&(i={});var s=this.loc.dtFormatter(r,Object.assign({},this.opts,i));return s.resolvedOptions()},e.num=function(r,i){if(i===void 0&&(i=0),this.opts.forceSimple)return uC(r,i);var s=Object.assign({},this.opts);return i>0&&(s.padTo=i),this.loc.numberFormatter(s).format(r)},e.formatDateTimeFromString=function(r,i){var s=this,o=this.loc.listingMode()==="en",a=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory"&&fR(),l=function(L,B){return s.loc.extract(r,L,B)},f=function(L){return r.isOffsetFixed&&r.offset===0&&L.allowZ?"Z":r.isValid?r.zone.formatOffset(r.ts,L.format):""},p=function(){return o?sht(r):l({hour:"numeric",hour12:!0},"dayperiod")},_=function(L,B){return o?aht(r,L):l(B?{month:L}:{month:L,day:"numeric"},"month")},E=function(L,B){return o?oht(r,L):l(B?{weekday:L}:{weekday:L,month:"long",day:"numeric"},"weekday")},O=function(L){var B=n.macroTokenToFormatOpts(L);return B?s.formatWithSystemDefault(r,B):L},R=function(L){return o?uht(r,L):l({era:L},"era")},q=function(L){switch(L){case"S":return s.num(r.millisecond);case"u":case"SSS":return s.num(r.millisecond,3);case"s":return s.num(r.second);case"ss":return s.num(r.second,2);case"m":return s.num(r.minute);case"mm":return s.num(r.minute,2);case"h":return s.num(r.hour%12===0?12:r.hour%12);case"hh":return s.num(r.hour%12===0?12:r.hour%12,2);case"H":return s.num(r.hour);case"HH":return s.num(r.hour,2);case"Z":return f({format:"narrow",allowZ:s.opts.allowZ});case"ZZ":return f({format:"short",allowZ:s.opts.allowZ});case"ZZZ":return f({format:"techie",allowZ:s.opts.allowZ});case"ZZZZ":return r.zone.offsetName(r.ts,{format:"short",locale:s.loc.locale});case"ZZZZZ":return r.zone.offsetName(r.ts,{format:"long",locale:s.loc.locale});case"z":return r.zoneName;case"a":return p();case"d":return a?l({day:"numeric"},"day"):s.num(r.day);case"dd":return a?l({day:"2-digit"},"day"):s.num(r.day,2);case"c":return s.num(r.weekday);case"ccc":return E("short",!0);case"cccc":return E("long",!0);case"ccccc":return E("narrow",!0);case"E":return s.num(r.weekday);case"EEE":return E("short",!1);case"EEEE":return E("long",!1);case"EEEEE":return E("narrow",!1);case"L":return a?l({month:"numeric",day:"numeric"},"month"):s.num(r.month);case"LL":return a?l({month:"2-digit",day:"numeric"},"month"):s.num(r.month,2);case"LLL":return _("short",!0);case"LLLL":return _("long",!0);case"LLLLL":return _("narrow",!0);case"M":return a?l({month:"numeric"},"month"):s.num(r.month);case"MM":return a?l({month:"2-digit"},"month"):s.num(r.month,2);case"MMM":return _("short",!1);case"MMMM":return _("long",!1);case"MMMMM":return _("narrow",!1);case"y":return a?l({year:"numeric"},"year"):s.num(r.year);case"yy":return a?l({year:"2-digit"},"year"):s.num(r.year.toString().slice(-2),2);case"yyyy":return a?l({year:"numeric"},"year"):s.num(r.year,4);case"yyyyyy":return a?l({year:"numeric"},"year"):s.num(r.year,6);case"G":return R("short");case"GG":return R("long");case"GGGGG":return R("narrow");case"kk":return s.num(r.weekYear.toString().slice(-2),2);case"kkkk":return s.num(r.weekYear,4);case"W":return s.num(r.weekNumber);case"WW":return s.num(r.weekNumber,2);case"o":return s.num(r.ordinal);case"ooo":return s.num(r.ordinal,3);case"q":return s.num(r.quarter);case"qq":return s.num(r.quarter,2);case"X":return s.num(Math.floor(r.ts/1e3));case"x":return s.num(r.ts);default:return O(L)}};return Mwe(n.parseFormat(i),q)},e.formatDurationFromString=function(r,i){var s=this,o=function(E){switch(E[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},a=function(E){return function(O){var R=o(O);return R?s.num(E.get(R),O.length):O}},l=n.parseFormat(i),f=l.reduce(function(_,E){var O=E.literal,R=E.val;return O?_:_.concat(R)},[]),p=r.shiftTo.apply(r,f.map(o).filter(function(_){return _}));return Mwe(l,a(p))},n}(),Bm=function(){function n(t,r){this.reason=t,this.explanation=r}var e=n.prototype;return e.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},n}(),lC=function(){function n(){}var e=n.prototype;return e.offsetName=function(r,i){throw new C4},e.formatOffset=function(r,i){throw new C4},e.offset=function(r){throw new C4},e.equals=function(r){throw new C4},Mm(n,[{key:"type",get:function(){throw new C4}},{key:"name",get:function(){throw new C4}},{key:"universal",get:function(){throw new C4}},{key:"isValid",get:function(){throw new C4}}]),n}(),gae=null,Pwe=function(n){S1(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.offsetName=function(i,s){var o=s.format,a=s.locale;return Awe(i,o,a)},t.formatOffset=function(i,s){return gz(this.offset(i),s)},t.offset=function(i){return-new Date(i).getTimezoneOffset()},t.equals=function(i){return i.type==="local"},Mm(e,[{key:"type",get:function(){return"local"}},{key:"name",get:function(){return Ox()?new Intl.DateTimeFormat().resolvedOptions().timeZone:"local"}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return gae===null&&(gae=new e),gae}}]),e}(lC),dht=RegExp("^"+Fwe.source+"$"),vz={};function hht(n){return vz[n]||(vz[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),vz[n]}var pht={year:0,month:1,day:2,hour:3,minute:4,second:5};function mht(n,e){var t=n.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(t),i=r[1],s=r[2],o=r[3],a=r[4],l=r[5],f=r[6];return[o,i,s,a,l,f]}function xht(n,e){for(var t=n.formatToParts(e),r=[],i=0;i<t.length;i++){var s=t[i],o=s.type,a=s.value,l=pht[o];oa(l)||(r[l]=parseInt(a,10))}return r}var _z={},Nx=function(n){S1(e,n),e.create=function(i){return _z[i]||(_z[i]=new e(i)),_z[i]},e.resetCache=function(){_z={},vz={}},e.isValidSpecifier=function(i){return!!(i&&i.match(dht))},e.isValidZone=function(i){try{return new Intl.DateTimeFormat("en-US",{timeZone:i}).format(),!0}catch{return!1}},e.parseGMTOffset=function(i){if(i){var s=i.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i);if(s)return-60*parseInt(s[1])}return null};function e(r){var i;return i=n.call(this)||this,i.zoneName=r,i.valid=e.isValidZone(r),i}var t=e.prototype;return t.offsetName=function(i,s){var o=s.format,a=s.locale;return Awe(i,o,a,this.name)},t.formatOffset=function(i,s){return gz(this.offset(i),s)},t.offset=function(i){var s=new Date(i);if(isNaN(s))return NaN;var o=hht(this.name),a=o.formatToParts?xht(o,s):mht(o,s),l=a[0],f=a[1],p=a[2],_=a[3],E=a[4],O=a[5],R=_===24?0:_,q=mae({year:l,month:f,day:p,hour:R,minute:E,second:O,millisecond:0}),z=+s,L=z%1e3;return z-=L>=0?L:1e3+L,(q-z)/(60*1e3)},t.equals=function(i){return i.type==="iana"&&i.name===this.name},Mm(e,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),e}(lC),yae=null,op=function(n){S1(e,n),e.instance=function(i){return i===0?e.utcInstance:new e(i)},e.parseSpecifier=function(i){if(i){var s=i.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(s)return new e(mz(s[1],s[2]))}return null},Mm(e,null,[{key:"utcInstance",get:function(){return yae===null&&(yae=new e(0)),yae}}]);function e(r){var i;return i=n.call(this)||this,i.fixed=r,i}var t=e.prototype;return t.offsetName=function(){return this.name},t.formatOffset=function(i,s){return gz(this.fixed,s)},t.offset=function(){return this.fixed},t.equals=function(i){return i.type==="fixed"&&i.fixed===this.fixed},Mm(e,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return this.fixed===0?"UTC":"UTC"+gz(this.fixed,"narrow")}},{key:"universal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}]),e}(lC),vae=function(n){S1(e,n);function e(r){var i;return i=n.call(this)||this,i.zoneName=r,i}var t=e.prototype;return t.offsetName=function(){return null},t.formatOffset=function(){return""},t.offset=function(){return NaN},t.equals=function(){return!1},Mm(e,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),e}(lC);function vb(n,e){var t;if(oa(n)||n===null)return e;if(n instanceof lC)return n;if(Ydt(n)){var r=n.toLowerCase();return r==="local"?e:r==="utc"||r==="gmt"?op.utcInstance:(t=Nx.parseGMTOffset(n))!=null?op.instance(t):Nx.isValidSpecifier(r)?Nx.create(n):op.parseSpecifier(r)||new vae(n)}else return yb(n)?op.instance(n):typeof n=="object"&&n.offset&&typeof n.offset=="number"?n:new vae(n)}var Bwe=function(){return Date.now()},_ae=null,jwe=null,qwe=null,Uwe=null,$we=!1,tc=function(){function n(){}return n.resetCaches=function(){Af.resetCache(),Nx.resetCache()},Mm(n,null,[{key:"now",get:function(){return Bwe},set:function(t){Bwe=t}},{key:"defaultZoneName",get:function(){return n.defaultZone.name},set:function(t){t?_ae=vb(t):_ae=null}},{key:"defaultZone",get:function(){return _ae||Pwe.instance}},{key:"defaultLocale",get:function(){return jwe},set:function(t){jwe=t}},{key:"defaultNumberingSystem",get:function(){return qwe},set:function(t){qwe=t}},{key:"defaultOutputCalendar",get:function(){return Uwe},set:function(t){Uwe=t}},{key:"throwOnInvalid",get:function(){return $we},set:function(t){$we=t}}]),n}(),bae={};function Eae(n,e){e===void 0&&(e={});var t=JSON.stringify([n,e]),r=bae[t];return r||(r=new Intl.DateTimeFormat(n,e),bae[t]=r),r}var Sae={};function ght(n,e){e===void 0&&(e={});var t=JSON.stringify([n,e]),r=Sae[t];return r||(r=new Intl.NumberFormat(n,e),Sae[t]=r),r}var wae={};function yht(n,e){e===void 0&&(e={});var t=e,r=t.base,i=Hdt(t,["base"]),s=JSON.stringify([n,i]),o=wae[s];return o||(o=new Intl.RelativeTimeFormat(n,e),wae[s]=o),o}var _b=null;function vht(){if(_b)return _b;if(Ox()){var n=new Intl.DateTimeFormat().resolvedOptions().locale;return _b=!n||n==="und"?"en-US":n,_b}else return _b="en-US",_b}function _ht(n){var e=n.indexOf("-u-");if(e===-1)return[n];var t,r=n.substring(0,e);try{t=Eae(n).resolvedOptions()}catch{t=Eae(r).resolvedOptions()}var i=t,s=i.numberingSystem,o=i.calendar;return[r,s,o]}function bht(n,e,t){return Ox()?((t||e)&&(n+="-u",t&&(n+="-ca-"+t),e&&(n+="-nu-"+e)),n):[]}function Eht(n){for(var e=[],t=1;t<=12;t++){var r=Ac.utc(2016,t,1);e.push(n(r))}return e}function Sht(n){for(var e=[],t=1;t<=7;t++){var r=Ac.utc(2016,11,13+t);e.push(n(r))}return e}function bz(n,e,t,r,i){var s=n.listingMode(t);return s==="error"?null:s==="en"?r(e):i(e)}function wht(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||Ox()&&new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}var Cht=function(){function n(t,r,i){if(this.padTo=i.padTo||0,this.floor=i.floor||!1,!r&&Ox()){var s={useGrouping:!1};i.padTo>0&&(s.minimumIntegerDigits=i.padTo),this.inf=ght(t,s)}}var e=n.prototype;return e.format=function(r){if(this.inf){var i=this.floor?Math.floor(r):r;return this.inf.format(i)}else{var s=this.floor?Math.floor(r):pae(r,3);return uC(s,this.padTo)}},n}(),Aht=function(){function n(t,r,i){this.opts=i,this.hasIntl=Ox();var s;if(t.zone.universal&&this.hasIntl){var o=-1*(t.offset/60),a=o>=0?"Etc/GMT+"+o:"Etc/GMT"+o,l=Nx.isValidZone(a);t.offset!==0&&l?(s=a,this.dt=t):(s="UTC",i.timeZoneName?this.dt=t:this.dt=t.offset===0?t:Ac.fromMillis(t.ts+t.offset*60*1e3))}else t.zone.type==="local"?this.dt=t:(this.dt=t,s=t.zone.name);if(this.hasIntl){var f=Object.assign({},this.opts);s&&(f.timeZone=s),this.dtf=Eae(r,f)}}var e=n.prototype;return e.format=function(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());var r=cht(this.opts),i=Af.create("en-US");return Rx.create(i).formatDateTimeFromString(this.dt,r)},e.formatToParts=function(){return this.hasIntl&&fR()?this.dtf.formatToParts(this.dt.toJSDate()):[]},e.resolvedOptions=function(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}},n}(),Tht=function(){function n(t,r,i){this.opts=Object.assign({style:"long"},i),!r&&Swe()&&(this.rtf=yht(t,i))}var e=n.prototype;return e.format=function(r,i){return this.rtf?this.rtf.format(r,i):lht(i,r,this.opts.numeric,this.opts.style!=="long")},e.formatToParts=function(r,i){return this.rtf?this.rtf.formatToParts(r,i):[]},n}(),Af=function(){n.fromOpts=function(r){return n.create(r.locale,r.numberingSystem,r.outputCalendar,r.defaultToEN)},n.create=function(r,i,s,o){o===void 0&&(o=!1);var a=r||tc.defaultLocale,l=a||(o?"en-US":vht()),f=i||tc.defaultNumberingSystem,p=s||tc.defaultOutputCalendar;return new n(l,f,p,a)},n.resetCache=function(){_b=null,bae={},Sae={},wae={}},n.fromObject=function(r){var i=r===void 0?{}:r,s=i.locale,o=i.numberingSystem,a=i.outputCalendar;return n.create(s,o,a)};function n(t,r,i,s){var o=_ht(t),a=o[0],l=o[1],f=o[2];this.locale=a,this.numberingSystem=r||l||null,this.outputCalendar=i||f||null,this.intl=bht(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}var e=n.prototype;return e.listingMode=function(r){r===void 0&&(r=!0);var i=Ox(),s=i&&fR(),o=this.isEnglish(),a=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return!s&&!(o&&a)&&!r?"error":!s||o&&a?"en":"intl"},e.clone=function(r){return!r||Object.getOwnPropertyNames(r).length===0?this:n.create(r.locale||this.specifiedLocale,r.numberingSystem||this.numberingSystem,r.outputCalendar||this.outputCalendar,r.defaultToEN||!1)},e.redefaultToEN=function(r){return r===void 0&&(r={}),this.clone(Object.assign({},r,{defaultToEN:!0}))},e.redefaultToSystem=function(r){return r===void 0&&(r={}),this.clone(Object.assign({},r,{defaultToEN:!1}))},e.months=function(r,i,s){var o=this;return i===void 0&&(i=!1),s===void 0&&(s=!0),bz(this,r,s,Owe,function(){var a=i?{month:r,day:"numeric"}:{month:r},l=i?"format":"standalone";return o.monthsCache[l][r]||(o.monthsCache[l][r]=Eht(function(f){return o.extract(f,a,"month")})),o.monthsCache[l][r]})},e.weekdays=function(r,i,s){var o=this;return i===void 0&&(i=!1),s===void 0&&(s=!0),bz(this,r,s,Lwe,function(){var a=i?{weekday:r,year:"numeric",month:"long",day:"numeric"}:{weekday:r},l=i?"format":"standalone";return o.weekdaysCache[l][r]||(o.weekdaysCache[l][r]=Sht(function(f){return o.extract(f,a,"weekday")})),o.weekdaysCache[l][r]})},e.meridiems=function(r){var i=this;return r===void 0&&(r=!0),bz(this,void 0,r,function(){return kwe},function(){if(!i.meridiemCache){var s={hour:"numeric",hour12:!0};i.meridiemCache=[Ac.utc(2016,11,13,9),Ac.utc(2016,11,13,19)].map(function(o){return i.extract(o,s,"dayperiod")})}return i.meridiemCache})},e.eras=function(r,i){var s=this;return i===void 0&&(i=!0),bz(this,r,i,Iwe,function(){var o={era:r};return s.eraCache[r]||(s.eraCache[r]=[Ac.utc(-40,1,1),Ac.utc(2017,1,1)].map(function(a){return s.extract(a,o,"era")})),s.eraCache[r]})},e.extract=function(r,i,s){var o=this.dtFormatter(r,i),a=o.formatToParts(),l=a.find(function(f){return f.type.toLowerCase()===s});return l?l.value:null},e.numberFormatter=function(r){return r===void 0&&(r={}),new Cht(this.intl,r.forceSimple||this.fastNumbers,r)},e.dtFormatter=function(r,i){return i===void 0&&(i={}),new Aht(r,this.intl,i)},e.relFormatter=function(r){return r===void 0&&(r={}),new Tht(this.intl,this.isEnglish(),r)},e.isEnglish=function(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||Ox()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},e.equals=function(r){return this.locale===r.locale&&this.numberingSystem===r.numberingSystem&&this.outputCalendar===r.outputCalendar},Mm(n,[{key:"fastNumbers",get:function(){return this.fastNumbersCached==null&&(this.fastNumbersCached=wht(this)),this.fastNumbersCached}}]),n}();function cC(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=e.reduce(function(i,s){return i+s.source},"");return RegExp("^"+r+"$")}function bb(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return e.reduce(function(i,s){var o=i[0],a=i[1],l=i[2],f=s(r,l),p=f[0],_=f[1],E=f[2];return[Object.assign(o,p),a||_,E]},[{},null,1]).slice(0,2)}}function fC(n){if(n==null)return[null,null];for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(var i=0,s=t;i<s.length;i++){var o=s[i],a=o[0],l=o[1],f=a.exec(n);if(f)return l(f)}return[null,null]}function zwe(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r,i){var s={},o;for(o=0;o<e.length;o++)s[e[o]]=Rd(r[i+o]);return[s,null,i+o]}}var Hwe=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Cae=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Vwe=RegExp(""+Cae.source+Hwe.source+"?"),Aae=RegExp("(?:T"+Vwe.source+")?"),Fht=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Dht=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Oht=/(\d{4})-?(\d{3})/,Rht=zwe("weekYear","weekNumber","weekDay"),Nht=zwe("year","ordinal"),Lht=/(\d{4})-(\d\d)-(\d\d)/,Wwe=RegExp(Cae.source+" ?(?:"+Hwe.source+"|("+Fwe.source+"))?"),kht=RegExp("(?: "+Wwe.source+")?");function dC(n,e,t){var r=n[e];return oa(r)?t:Rd(r)}function Qwe(n,e){var t={year:dC(n,e),month:dC(n,e+1,1),day:dC(n,e+2,1)};return[t,null,e+3]}function Eb(n,e){var t={hours:dC(n,e,0),minutes:dC(n,e+1,0),seconds:dC(n,e+2,0),milliseconds:hae(n[e+3])};return[t,null,e+4]}function hC(n,e){var t=!n[e]&&!n[e+1],r=mz(n[e+1],n[e+2]),i=t?null:op.instance(r);return[{},i,e+3]}function Gwe(n,e){var t=n[e]?Nx.create(n[e]):null;return[{},t,e+1]}var Iht=RegExp("^T?"+Cae.source+"$"),Mht=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function Pht(n){var e=n[0],t=n[1],r=n[2],i=n[3],s=n[4],o=n[5],a=n[6],l=n[7],f=n[8],p=e[0]==="-",_=l&&l[0]==="-",E=function(R,q){return q===void 0&&(q=!1),R!==void 0&&(q||R&&p)?-R:R};return[{years:E(Rd(t)),months:E(Rd(r)),weeks:E(Rd(i)),days:E(Rd(s)),hours:E(Rd(o)),minutes:E(Rd(a)),seconds:E(Rd(l),l==="-0"),milliseconds:E(hae(f),_)}]}var Bht={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Tae(n,e,t,r,i,s,o){var a={year:e.length===2?xae(Rd(e)):Rd(e),month:Dwe.indexOf(t)+1,day:Rd(r),hour:Rd(i),minute:Rd(s)};return o&&(a.second=Rd(o)),n&&(a.weekday=n.length>3?Rwe.indexOf(n)+1:Nwe.indexOf(n)+1),a}var jht=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function qht(n){var e=n[1],t=n[2],r=n[3],i=n[4],s=n[5],o=n[6],a=n[7],l=n[8],f=n[9],p=n[10],_=n[11],E=Tae(e,i,r,t,s,o,a),O;return l?O=Bht[l]:f?O=0:O=mz(p,_),[E,new op(O)]}function Uht(n){return n.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var $ht=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,zht=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Hht=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Ywe(n){var e=n[1],t=n[2],r=n[3],i=n[4],s=n[5],o=n[6],a=n[7],l=Tae(e,i,r,t,s,o,a);return[l,op.utcInstance]}function Vht(n){var e=n[1],t=n[2],r=n[3],i=n[4],s=n[5],o=n[6],a=n[7],l=Tae(e,a,t,r,i,s,o);return[l,op.utcInstance]}var Wht=cC(Fht,Aae),Qht=cC(Dht,Aae),Ght=cC(Oht,Aae),Yht=cC(Vwe),Kht=bb(Qwe,Eb,hC),Jht=bb(Rht,Eb,hC),Xht=bb(Nht,Eb,hC),Zht=bb(Eb,hC);function ept(n){return fC(n,[Wht,Kht],[Qht,Jht],[Ght,Xht],[Yht,Zht])}function tpt(n){return fC(Uht(n),[jht,qht])}function npt(n){return fC(n,[$ht,Ywe],[zht,Ywe],[Hht,Vht])}function rpt(n){return fC(n,[Mht,Pht])}var ipt=bb(Eb);function spt(n){return fC(n,[Iht,ipt])}var opt=cC(Lht,kht),apt=cC(Wwe),upt=bb(Qwe,Eb,hC,Gwe),lpt=bb(Eb,hC,Gwe);function cpt(n){return fC(n,[opt,upt],[apt,lpt])}var fpt="Invalid Duration",Kwe={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},dpt=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},Kwe),C1=146097/400,pC=146097/4800,hpt=Object.assign({years:{quarters:4,months:12,weeks:C1/7,days:C1,hours:C1*24,minutes:C1*24*60,seconds:C1*24*60*60,milliseconds:C1*24*60*60*1e3},quarters:{months:3,weeks:C1/28,days:C1/4,hours:C1*24/4,minutes:C1*24*60/4,seconds:C1*24*60*60/4,milliseconds:C1*24*60*60*1e3/4},months:{weeks:pC/7,days:pC,hours:pC*24,minutes:pC*24*60,seconds:pC*24*60*60,milliseconds:pC*24*60*60*1e3}},Kwe),mC=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],ppt=mC.slice(0).reverse();function Sb(n,e,t){t===void 0&&(t=!1);var r={values:t?e.values:Object.assign({},n.values,e.values||{}),loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy};return new Nd(r)}function mpt(n){return n<0?Math.floor(n):Math.ceil(n)}function Jwe(n,e,t,r,i){var s=n[i][t],o=e[t]/s,a=Math.sign(o)===Math.sign(r[i]),l=!a&&r[i]!==0&&Math.abs(o)<=1?mpt(o):Math.trunc(o);r[i]+=l,e[t]-=l*s}function xpt(n,e){ppt.reduce(function(t,r){return oa(e[r])?t:(t&&Jwe(n,e,t,e,r),r)},null)}var Nd=function(){function n(t){var r=t.conversionAccuracy==="longterm"||!1;this.values=t.values,this.loc=t.loc||Af.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r?hpt:dpt,this.isLuxonDuration=!0}n.fromMillis=function(r,i){return n.fromObject(Object.assign({milliseconds:r},i))},n.fromObject=function(r){if(r==null||typeof r!="object")throw new w1("Duration.fromObject: argument expected to be an object, got "+(r===null?"null":typeof r));return new n({values:xz(r,n.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:Af.fromObject(r),conversionAccuracy:r.conversionAccuracy})},n.fromISO=function(r,i){var s=rpt(r),o=s[0];if(o){var a=Object.assign(o,i);return n.fromObject(a)}else return n.invalid("unparsable",'the input "'+r+`" can't be parsed as ISO 8601`)},n.fromISOTime=function(r,i){var s=spt(r),o=s[0];if(o){var a=Object.assign(o,i);return n.fromObject(a)}else return n.invalid("unparsable",'the input "'+r+`" can't be parsed as ISO 8601`)},n.invalid=function(r,i){if(i===void 0&&(i=null),!r)throw new w1("need to specify a reason the Duration is invalid");var s=r instanceof Bm?r:new Bm(r,i);if(tc.throwOnInvalid)throw new Gdt(s);return new n({invalid:s})},n.normalizeUnit=function(r){var i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[r&&r.toLowerCase()];if(!i)throw new _we(r);return i},n.isDuration=function(r){return r&&r.isLuxonDuration||!1};var e=n.prototype;return e.toFormat=function(r,i){i===void 0&&(i={});var s=Object.assign({},i,{floor:i.round!==!1&&i.floor!==!1});return this.isValid?Rx.create(this.loc,s).formatDurationFromString(this,r):fpt},e.toObject=function(r){if(r===void 0&&(r={}),!this.isValid)return{};var i=Object.assign({},this.values);return r.includeConfig&&(i.conversionAccuracy=this.conversionAccuracy,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i},e.toISO=function(){if(!this.isValid)return null;var r="P";return this.years!==0&&(r+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(r+=this.months+this.quarters*3+"M"),this.weeks!==0&&(r+=this.weeks+"W"),this.days!==0&&(r+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(r+="T"),this.hours!==0&&(r+=this.hours+"H"),this.minutes!==0&&(r+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(r+=pae(this.seconds+this.milliseconds/1e3,3)+"S"),r==="P"&&(r+="T0S"),r},e.toISOTime=function(r){if(r===void 0&&(r={}),!this.isValid)return null;var i=this.toMillis();if(i<0||i>=864e5)return null;r=Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},r);var s=this.shiftTo("hours","minutes","seconds","milliseconds"),o=r.format==="basic"?"hhmm":"hh:mm";(!r.suppressSeconds||s.seconds!==0||s.milliseconds!==0)&&(o+=r.format==="basic"?"ss":":ss",(!r.suppressMilliseconds||s.milliseconds!==0)&&(o+=".SSS"));var a=s.toFormat(o);return r.includePrefix&&(a="T"+a),a},e.toJSON=function(){return this.toISO()},e.toString=function(){return this.toISO()},e.toMillis=function(){return this.as("milliseconds")},e.valueOf=function(){return this.toMillis()},e.plus=function(r){if(!this.isValid)return this;for(var i=wb(r),s={},o=w4(mC),a;!(a=o()).done;){var l=a.value;(aC(i.values,l)||aC(this.values,l))&&(s[l]=i.get(l)+this.get(l))}return Sb(this,{values:s},!0)},e.minus=function(r){if(!this.isValid)return this;var i=wb(r);return this.plus(i.negate())},e.mapUnits=function(r){if(!this.isValid)return this;for(var i={},s=0,o=Object.keys(this.values);s<o.length;s++){var a=o[s];i[a]=Twe(r(this.values[a],a))}return Sb(this,{values:i},!0)},e.get=function(r){return this[n.normalizeUnit(r)]},e.set=function(r){if(!this.isValid)return this;var i=Object.assign(this.values,xz(r,n.normalizeUnit,[]));return Sb(this,{values:i})},e.reconfigure=function(r){var i=r===void 0?{}:r,s=i.locale,o=i.numberingSystem,a=i.conversionAccuracy,l=this.loc.clone({locale:s,numberingSystem:o}),f={loc:l};return a&&(f.conversionAccuracy=a),Sb(this,f)},e.as=function(r){return this.isValid?this.shiftTo(r).get(r):NaN},e.normalize=function(){if(!this.isValid)return this;var r=this.toObject();return xpt(this.matrix,r),Sb(this,{values:r},!0)},e.shiftTo=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(!this.isValid)return this;if(i.length===0)return this;i=i.map(function(B){return n.normalizeUnit(B)});for(var o={},a={},l=this.toObject(),f,p=w4(mC),_;!(_=p()).done;){var E=_.value;if(i.indexOf(E)>=0){f=E;var O=0;for(var R in a)O+=this.matrix[R][E]*a[R],a[R]=0;yb(l[E])&&(O+=l[E]);var q=Math.trunc(O);o[E]=q,a[E]=O-q;for(var z in l)mC.indexOf(z)>mC.indexOf(E)&&Jwe(this.matrix,l,z,o,E)}else yb(l[E])&&(a[E]=l[E])}for(var L in a)a[L]!==0&&(o[f]+=L===f?a[L]:a[L]/this.matrix[f][L]);return Sb(this,{values:o},!0).normalize()},e.negate=function(){if(!this.isValid)return this;for(var r={},i=0,s=Object.keys(this.values);i<s.length;i++){var o=s[i];r[o]=-this.values[o]}return Sb(this,{values:r},!0)},e.equals=function(r){if(!this.isValid||!r.isValid||!this.loc.equals(r.loc))return!1;function i(l,f){return l===void 0||l===0?f===void 0||f===0:l===f}for(var s=w4(mC),o;!(o=s()).done;){var a=o.value;if(!i(this.values[a],r.values[a]))return!1}return!0},Mm(n,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return this.invalid===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),n}();function wb(n){if(yb(n))return Nd.fromMillis(n);if(Nd.isDuration(n))return n;if(typeof n=="object")return Nd.fromObject(n);throw new w1("Unknown duration argument "+n+" of type "+typeof n)}var pR="Invalid Interval";function gpt(n,e){return!n||!n.isValid?mR.invalid("missing or invalid start"):!e||!e.isValid?mR.invalid("missing or invalid end"):e<n?mR.invalid("end before start","The end of an interval must be after its start, but you had start="+n.toISO()+" and end="+e.toISO()):null}var mR=function(){function n(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}n.invalid=function(r,i){if(i===void 0&&(i=null),!r)throw new w1("need to specify a reason the Interval is invalid");var s=r instanceof Bm?r:new Bm(r,i);if(tc.throwOnInvalid)throw new Qdt(s);return new n({invalid:s})},n.fromDateTimes=function(r,i){var s=vR(r),o=vR(i),a=gpt(s,o);return a??new n({start:s,end:o})},n.after=function(r,i){var s=wb(i),o=vR(r);return n.fromDateTimes(o,o.plus(s))},n.before=function(r,i){var s=wb(i),o=vR(r);return n.fromDateTimes(o.minus(s),o)},n.fromISO=function(r,i){var s=(r||"").split("/",2),o=s[0],a=s[1];if(o&&a){var l,f;try{l=Ac.fromISO(o,i),f=l.isValid}catch{f=!1}var p,_;try{p=Ac.fromISO(a,i),_=p.isValid}catch{_=!1}if(f&&_)return n.fromDateTimes(l,p);if(f){var E=Nd.fromISO(a,i);if(E.isValid)return n.after(l,E)}else if(_){var O=Nd.fromISO(o,i);if(O.isValid)return n.before(p,O)}}return n.invalid("unparsable",'the input "'+r+`" can't be parsed as ISO 8601`)},n.isInterval=function(r){return r&&r.isLuxonInterval||!1};var e=n.prototype;return e.length=function(r){return r===void 0&&(r="milliseconds"),this.isValid?this.toDuration.apply(this,[r]).get(r):NaN},e.count=function(r){if(r===void 0&&(r="milliseconds"),!this.isValid)return NaN;var i=this.start.startOf(r),s=this.end.startOf(r);return Math.floor(s.diff(i,r).get(r))+1},e.hasSame=function(r){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,r):!1},e.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},e.isAfter=function(r){return this.isValid?this.s>r:!1},e.isBefore=function(r){return this.isValid?this.e<=r:!1},e.contains=function(r){return this.isValid?this.s<=r&&this.e>r:!1},e.set=function(r){var i=r===void 0?{}:r,s=i.start,o=i.end;return this.isValid?n.fromDateTimes(s||this.s,o||this.e):this},e.splitAt=function(){var r=this;if(!this.isValid)return[];for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];for(var a=s.map(vR).filter(function(O){return r.contains(O)}).sort(),l=[],f=this.s,p=0;f<this.e;){var _=a[p]||this.e,E=+_>+this.e?this.e:_;l.push(n.fromDateTimes(f,E)),f=E,p+=1}return l},e.splitBy=function(r){var i=wb(r);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];for(var s=this.s,o=1,a,l=[];s<this.e;){var f=this.start.plus(i.mapUnits(function(p){return p*o}));a=+f>+this.e?this.e:f,l.push(n.fromDateTimes(s,a)),s=a,o+=1}return l},e.divideEqually=function(r){return this.isValid?this.splitBy(this.length()/r).slice(0,r):[]},e.overlaps=function(r){return this.e>r.s&&this.s<r.e},e.abutsStart=function(r){return this.isValid?+this.e==+r.s:!1},e.abutsEnd=function(r){return this.isValid?+r.e==+this.s:!1},e.engulfs=function(r){return this.isValid?this.s<=r.s&&this.e>=r.e:!1},e.equals=function(r){return!this.isValid||!r.isValid?!1:this.s.equals(r.s)&&this.e.equals(r.e)},e.intersection=function(r){if(!this.isValid)return this;var i=this.s>r.s?this.s:r.s,s=this.e<r.e?this.e:r.e;return i>=s?null:n.fromDateTimes(i,s)},e.union=function(r){if(!this.isValid)return this;var i=this.s<r.s?this.s:r.s,s=this.e>r.e?this.e:r.e;return n.fromDateTimes(i,s)},n.merge=function(r){var i=r.sort(function(a,l){return a.s-l.s}).reduce(function(a,l){var f=a[0],p=a[1];return p?p.overlaps(l)||p.abutsStart(l)?[f,p.union(l)]:[f.concat([p]),l]:[f,l]},[[],null]),s=i[0],o=i[1];return o&&s.push(o),s},n.xor=function(r){for(var i,s=null,o=0,a=[],l=r.map(function(R){return[{time:R.s,type:"s"},{time:R.e,type:"e"}]}),f=(i=Array.prototype).concat.apply(i,l),p=f.sort(function(R,q){return R.time-q.time}),_=w4(p),E;!(E=_()).done;){var O=E.value;o+=O.type==="s"?1:-1,o===1?s=O.time:(s&&+s!=+O.time&&a.push(n.fromDateTimes(s,O.time)),s=null)}return n.merge(a)},e.difference=function(){for(var r=this,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n.xor([this].concat(s)).map(function(a){return r.intersection(a)}).filter(function(a){return a&&!a.isEmpty()})},e.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":pR},e.toISO=function(r){return this.isValid?this.s.toISO(r)+"/"+this.e.toISO(r):pR},e.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():pR},e.toISOTime=function(r){return this.isValid?this.s.toISOTime(r)+"/"+this.e.toISOTime(r):pR},e.toFormat=function(r,i){var s=i===void 0?{}:i,o=s.separator,a=o===void 0?" \u2013 ":o;return this.isValid?""+this.s.toFormat(r)+a+this.e.toFormat(r):pR},e.toDuration=function(r,i){return this.isValid?this.e.diff(this.s,r,i):Nd.invalid(this.invalidReason)},e.mapEndpoints=function(r){return n.fromDateTimes(r(this.s),r(this.e))},Mm(n,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return this.invalidReason===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),n}(),xR=function(){function n(){}return n.hasDST=function(t){t===void 0&&(t=tc.defaultZone);var r=Ac.now().setZone(t).set({month:12});return!t.universal&&r.offset!==r.set({month:6}).offset},n.isValidIANAZone=function(t){return Nx.isValidSpecifier(t)&&Nx.isValidZone(t)},n.normalizeZone=function(t){return vb(t,tc.defaultZone)},n.months=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,l=a===void 0?null:a,f=i.locObj,p=f===void 0?null:f,_=i.outputCalendar,E=_===void 0?"gregory":_;return(p||Af.create(o,l,E)).months(t)},n.monthsFormat=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,l=a===void 0?null:a,f=i.locObj,p=f===void 0?null:f,_=i.outputCalendar,E=_===void 0?"gregory":_;return(p||Af.create(o,l,E)).months(t,!0)},n.weekdays=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,l=a===void 0?null:a,f=i.locObj,p=f===void 0?null:f;return(p||Af.create(o,l,null)).weekdays(t)},n.weekdaysFormat=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,l=a===void 0?null:a,f=i.locObj,p=f===void 0?null:f;return(p||Af.create(o,l,null)).weekdays(t,!0)},n.meridiems=function(t){var r=t===void 0?{}:t,i=r.locale,s=i===void 0?null:i;return Af.create(s).meridiems()},n.eras=function(t,r){t===void 0&&(t="short");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s;return Af.create(o,null,"gregory").eras(t)},n.features=function(){var t=!1,r=!1,i=!1,s=!1;if(Ox()){t=!0,r=fR(),s=Swe();try{i=new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone==="America/New_York"}catch{i=!1}}return{intl:t,intlTokens:r,zones:i,relative:s}},n}();function Xwe(n,e){var t=function(s){return s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},r=t(e)-t(n);return Math.floor(Nd.fromMillis(r).as("days"))}function ypt(n,e,t){for(var r=[["years",function(q,z){return z.year-q.year}],["quarters",function(q,z){return z.quarter-q.quarter}],["months",function(q,z){return z.month-q.month+(z.year-q.year)*12}],["weeks",function(q,z){var L=Xwe(q,z);return(L-L%7)/7}],["days",Xwe]],i={},s,o,a=0,l=r;a<l.length;a++){var f=l[a],p=f[0],_=f[1];if(t.indexOf(p)>=0){var E;s=p;var O=_(n,e);if(o=n.plus((E={},E[p]=O,E)),o>e){var R;n=n.plus((R={},R[p]=O-1,R)),O-=1}else n=o;i[p]=O}}return[n,i,o,s]}function vpt(n,e,t,r){var i=ypt(n,e,t),s=i[0],o=i[1],a=i[2],l=i[3],f=e-s,p=t.filter(function(R){return["hours","minutes","seconds","milliseconds"].indexOf(R)>=0});if(p.length===0){if(a<e){var _;a=s.plus((_={},_[l]=1,_))}a!==s&&(o[l]=(o[l]||0)+f/(a-s))}var E=Nd.fromObject(Object.assign(o,r));if(p.length>0){var O;return(O=Nd.fromMillis(f,r)).shiftTo.apply(O,p).plus(E)}else return E}var Fae={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Zwe={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},_pt=Fae.hanidec.replace(/[\[|\]]/g,"").split("");function bpt(n){var e=parseInt(n,10);if(isNaN(e)){e="";for(var t=0;t<n.length;t++){var r=n.charCodeAt(t);if(n[t].search(Fae.hanidec)!==-1)e+=_pt.indexOf(n[t]);else for(var i in Zwe){var s=Zwe[i],o=s[0],a=s[1];r>=o&&r<=a&&(e+=r-o)}}return parseInt(e,10)}else return e}function jm(n,e){var t=n.numberingSystem;return e===void 0&&(e=""),new RegExp(""+Fae[t||"latn"]+e)}var Ept="missing Intl.DateTimeFormat.formatToParts support";function Ca(n,e){return e===void 0&&(e=function(r){return r}),{regex:n,deser:function(r){var i=r[0];return e(bpt(i))}}}var Spt=String.fromCharCode(160),eCe="( |"+Spt+")",tCe=new RegExp(eCe,"g");function wpt(n){return n.replace(/\./g,"\\.?").replace(tCe,eCe)}function nCe(n){return n.replace(/\./g,"").replace(tCe," ").toLowerCase()}function qm(n,e){return n===null?null:{regex:RegExp(n.map(wpt).join("|")),deser:function(r){var i=r[0];return n.findIndex(function(s){return nCe(i)===nCe(s)})+e}}}function rCe(n,e){return{regex:n,deser:function(r){var i=r[1],s=r[2];return mz(i,s)},groups:e}}function iCe(n){return{regex:n,deser:function(t){var r=t[0];return r}}}function Cpt(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Apt(n,e){var t=jm(e),r=jm(e,"{2}"),i=jm(e,"{3}"),s=jm(e,"{4}"),o=jm(e,"{6}"),a=jm(e,"{1,2}"),l=jm(e,"{1,3}"),f=jm(e,"{1,6}"),p=jm(e,"{1,9}"),_=jm(e,"{2,4}"),E=jm(e,"{4,6}"),O=function(L){return{regex:RegExp(Cpt(L.val)),deser:function(P){var G=P[0];return G},literal:!0}},R=function(L){if(n.literal)return O(L);switch(L.val){case"G":return qm(e.eras("short",!1),0);case"GG":return qm(e.eras("long",!1),0);case"y":return Ca(f);case"yy":return Ca(_,xae);case"yyyy":return Ca(s);case"yyyyy":return Ca(E);case"yyyyyy":return Ca(o);case"M":return Ca(a);case"MM":return Ca(r);case"MMM":return qm(e.months("short",!0,!1),1);case"MMMM":return qm(e.months("long",!0,!1),1);case"L":return Ca(a);case"LL":return Ca(r);case"LLL":return qm(e.months("short",!1,!1),1);case"LLLL":return qm(e.months("long",!1,!1),1);case"d":return Ca(a);case"dd":return Ca(r);case"o":return Ca(l);case"ooo":return Ca(i);case"HH":return Ca(r);case"H":return Ca(a);case"hh":return Ca(r);case"h":return Ca(a);case"mm":return Ca(r);case"m":return Ca(a);case"q":return Ca(a);case"qq":return Ca(r);case"s":return Ca(a);case"ss":return Ca(r);case"S":return Ca(l);case"SSS":return Ca(i);case"u":return iCe(p);case"a":return qm(e.meridiems(),0);case"kkkk":return Ca(s);case"kk":return Ca(_,xae);case"W":return Ca(a);case"WW":return Ca(r);case"E":case"c":return Ca(t);case"EEE":return qm(e.weekdays("short",!1,!1),1);case"EEEE":return qm(e.weekdays("long",!1,!1),1);case"ccc":return qm(e.weekdays("short",!0,!1),1);case"cccc":return qm(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return rCe(new RegExp("([+-]"+a.source+")(?::("+r.source+"))?"),2);case"ZZZ":return rCe(new RegExp("([+-]"+a.source+")("+r.source+")?"),2);case"z":return iCe(/[a-z_+-/]{1,256}?/i);default:return O(L)}},q=R(n)||{invalidReason:Ept};return q.token=n,q}var Tpt={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function Fpt(n,e,t){var r=n.type,i=n.value;if(r==="literal")return{literal:!0,val:i};var s=t[r],o=Tpt[r];if(typeof o=="object"&&(o=o[s]),o)return{literal:!1,val:o}}function Dpt(n){var e=n.map(function(t){return t.regex}).reduce(function(t,r){return t+"("+r.source+")"},"");return["^"+e+"$",n]}function Opt(n,e,t){var r=n.match(e);if(r){var i={},s=1;for(var o in t)if(aC(t,o)){var a=t[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(r.slice(s,s+l))),s+=l}return[r,i]}else return[r,{}]}function Rpt(n){var e=function(s){switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},t;oa(n.Z)?oa(n.z)?t=null:t=Nx.create(n.z):t=new op(n.Z),oa(n.q)||(n.M=(n.q-1)*3+1),oa(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),oa(n.u)||(n.S=hae(n.u));var r=Object.keys(n).reduce(function(i,s){var o=e(s);return o&&(i[o]=n[s]),i},{});return[r,t]}var Dae=null;function Npt(){return Dae||(Dae=Ac.fromMillis(1555555555555)),Dae}function Lpt(n,e){if(n.literal)return n;var t=Rx.macroTokenToFormatOpts(n.val);if(!t)return n;var r=Rx.create(e,t),i=r.formatDateTimeParts(Npt()),s=i.map(function(o){return Fpt(o,e,t)});return s.includes(void 0)?n:s}function kpt(n,e){var t;return(t=Array.prototype).concat.apply(t,n.map(function(r){return Lpt(r,e)}))}function sCe(n,e,t){var r=kpt(Rx.parseFormat(t),n),i=r.map(function(z){return Apt(z,n)}),s=i.find(function(z){return z.invalidReason});if(s)return{input:e,tokens:r,invalidReason:s.invalidReason};var o=Dpt(i),a=o[0],l=o[1],f=RegExp(a,"i"),p=Opt(e,f,l),_=p[0],E=p[1],O=E?Rpt(E):[null,null],R=O[0],q=O[1];if(aC(E,"a")&&aC(E,"H"))throw new cR("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:f,rawMatches:_,matches:E,result:R,zone:q}}function Ipt(n,e,t){var r=sCe(n,e,t),i=r.result,s=r.zone,o=r.invalidReason;return[i,s,o]}var oCe=[0,31,59,90,120,151,181,212,243,273,304,334],aCe=[0,31,60,91,121,152,182,213,244,274,305,335];function A1(n,e){return new Bm("unit out of range","you specified "+e+" (of type "+typeof e+") as a "+n+", which is invalid")}function uCe(n,e,t){var r=new Date(Date.UTC(n,e-1,t)).getUTCDay();return r===0?7:r}function lCe(n,e,t){return t+(dR(n)?aCe:oCe)[e-1]}function cCe(n,e){var t=dR(n)?aCe:oCe,r=t.findIndex(function(s){return s<e}),i=e-t[r];return{month:r+1,day:i}}function Oae(n){var e=n.year,t=n.month,r=n.day,i=lCe(e,t,r),s=uCe(e,t,r),o=Math.floor((i-s+10)/7),a;return o<1?(a=e-1,o=pz(a)):o>pz(e)?(a=e+1,o=1):a=e,Object.assign({weekYear:a,weekNumber:o,weekday:s},yz(n))}function fCe(n){var e=n.weekYear,t=n.weekNumber,r=n.weekday,i=uCe(e,1,4),s=hR(e),o=t*7+r-i-3,a;o<1?(a=e-1,o+=hR(a)):o>s?(a=e+1,o-=hR(e)):a=e;var l=cCe(a,o),f=l.month,p=l.day;return Object.assign({year:a,month:f,day:p},yz(n))}function Rae(n){var e=n.year,t=n.month,r=n.day,i=lCe(e,t,r);return Object.assign({year:e,ordinal:i},yz(n))}function dCe(n){var e=n.year,t=n.ordinal,r=cCe(e,t),i=r.month,s=r.day;return Object.assign({year:e,month:i,day:s},yz(n))}function Mpt(n){var e=dz(n.weekYear),t=Ty(n.weekNumber,1,pz(n.weekYear)),r=Ty(n.weekday,1,7);return e?t?r?!1:A1("weekday",n.weekday):A1("week",n.week):A1("weekYear",n.weekYear)}function Ppt(n){var e=dz(n.year),t=Ty(n.ordinal,1,hR(n.year));return e?t?!1:A1("ordinal",n.ordinal):A1("year",n.year)}function hCe(n){var e=dz(n.year),t=Ty(n.month,1,12),r=Ty(n.day,1,hz(n.year,n.month));return e?t?r?!1:A1("day",n.day):A1("month",n.month):A1("year",n.year)}function pCe(n){var e=n.hour,t=n.minute,r=n.second,i=n.millisecond,s=Ty(e,0,23)||e===24&&t===0&&r===0&&i===0,o=Ty(t,0,59),a=Ty(r,0,59),l=Ty(i,0,999);return s?o?a?l?!1:A1("millisecond",i):A1("second",r):A1("minute",t):A1("hour",e)}var Nae="Invalid DateTime",mCe=864e13;function Ez(n){return new Bm("unsupported zone",'the zone "'+n.name+'" is not supported')}function Lae(n){return n.weekData===null&&(n.weekData=Oae(n.c)),n.weekData}function gR(n,e){var t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new Ac(Object.assign({},t,e,{old:t}))}function xCe(n,e,t){var r=n-e*60*1e3,i=t.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;var s=t.offset(r);return i===s?[r,i]:[n-Math.min(i,s)*60*1e3,Math.max(i,s)]}function gCe(n,e){n+=e*60*1e3;var t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function Sz(n,e,t){return xCe(mae(n),e,t)}function yCe(n,e){var t=n.o,r=n.c.year+Math.trunc(e.years),i=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s=Object.assign({},n.c,{year:r,month:i,day:Math.min(n.c.day,hz(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7}),o=Nd.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=mae(s),l=xCe(a,t,n.zone),f=l[0],p=l[1];return o!==0&&(f+=o,p=n.zone.offset(f)),{ts:f,o:p}}function yR(n,e,t,r,i){var s=t.setZone,o=t.zone;if(n&&Object.keys(n).length!==0){var a=e||o,l=Ac.fromObject(Object.assign(n,t,{zone:a,setZone:void 0}));return s?l:l.setZone(o)}else return Ac.invalid(new Bm("unparsable",'the input "'+i+`" can't be parsed as `+r))}function xC(n,e,t){return t===void 0&&(t=!0),n.isValid?Rx.create(Af.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function vCe(n,e){var t=e.suppressSeconds,r=t===void 0?!1:t,i=e.suppressMilliseconds,s=i===void 0?!1:i,o=e.includeOffset,a=e.includePrefix,l=a===void 0?!1:a,f=e.includeZone,p=f===void 0?!1:f,_=e.spaceZone,E=_===void 0?!1:_,O=e.format,R=O===void 0?"extended":O,q=R==="basic"?"HHmm":"HH:mm";(!r||n.second!==0||n.millisecond!==0)&&(q+=R==="basic"?"ss":":ss",(!s||n.millisecond!==0)&&(q+=".SSS")),(p||o)&&E&&(q+=" "),p?q+="z":o&&(q+=R==="basic"?"ZZZ":"ZZ");var z=xC(n,q);return l&&(z="T"+z),z}var _Ce={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Bpt={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},jpt={ordinal:1,hour:0,minute:0,second:0,millisecond:0},bCe=["year","month","day","hour","minute","second","millisecond"],qpt=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Upt=["year","ordinal","hour","minute","second","millisecond"];function ECe(n){var e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new _we(n);return e}function SCe(n,e){for(var t=w4(bCe),r;!(r=t()).done;){var i=r.value;oa(n[i])&&(n[i]=_Ce[i])}var s=hCe(n)||pCe(n);if(s)return Ac.invalid(s);var o=tc.now(),a=e.offset(o),l=Sz(n,a,e),f=l[0],p=l[1];return new Ac({ts:f,zone:e,o:p})}function wCe(n,e,t){var r=oa(t.round)?!0:t.round,i=function(_,E){_=pae(_,r||t.calendary?0:2,!0);var O=e.loc.clone(t).relFormatter(t);return O.format(_,E)},s=function(_){return t.calendary?e.hasSame(n,_)?0:e.startOf(_).diff(n.startOf(_),_).get(_):e.diff(n,_).get(_)};if(t.unit)return i(s(t.unit),t.unit);for(var o=w4(t.units),a;!(a=o()).done;){var l=a.value,f=s(l);if(Math.abs(f)>=1)return i(f,l)}return i(n>e?-0:0,t.units[t.units.length-1])}var Ac=function(){function n(t){var r=t.zone||tc.defaultZone,i=t.invalid||(Number.isNaN(t.ts)?new Bm("invalid input"):null)||(r.isValid?null:Ez(r));this.ts=oa(t.ts)?tc.now():t.ts;var s=null,o=null;if(!i){var a=t.old&&t.old.ts===this.ts&&t.old.zone.equals(r);if(a){var l=[t.old.c,t.old.o];s=l[0],o=l[1]}else{var f=r.offset(this.ts);s=gCe(this.ts,f),i=Number.isNaN(s.year)?new Bm("invalid input"):null,s=i?null:s,o=i?null:f}}this._zone=r,this.loc=t.loc||Af.create(),this.invalid=i,this.weekData=null,this.c=s,this.o=o,this.isLuxonDateTime=!0}n.now=function(){return new n({})},n.local=function(r,i,s,o,a,l,f){return oa(r)?n.now():SCe({year:r,month:i,day:s,hour:o,minute:a,second:l,millisecond:f},tc.defaultZone)},n.utc=function(r,i,s,o,a,l,f){return oa(r)?new n({ts:tc.now(),zone:op.utcInstance}):SCe({year:r,month:i,day:s,hour:o,minute:a,second:l,millisecond:f},op.utcInstance)},n.fromJSDate=function(r,i){i===void 0&&(i={});var s=Kdt(r)?r.valueOf():NaN;if(Number.isNaN(s))return n.invalid("invalid input");var o=vb(i.zone,tc.defaultZone);return o.isValid?new n({ts:s,zone:o,loc:Af.fromObject(i)}):n.invalid(Ez(o))},n.fromMillis=function(r,i){if(i===void 0&&(i={}),yb(r))return r<-mCe||r>mCe?n.invalid("Timestamp out of range"):new n({ts:r,zone:vb(i.zone,tc.defaultZone),loc:Af.fromObject(i)});throw new w1("fromMillis requires a numerical input, but received a "+typeof r+" with value "+r)},n.fromSeconds=function(r,i){if(i===void 0&&(i={}),yb(r))return new n({ts:r*1e3,zone:vb(i.zone,tc.defaultZone),loc:Af.fromObject(i)});throw new w1("fromSeconds requires a numerical input")},n.fromObject=function(r){var i=vb(r.zone,tc.defaultZone);if(!i.isValid)return n.invalid(Ez(i));var s=tc.now(),o=i.offset(s),a=xz(r,ECe,["zone","locale","outputCalendar","numberingSystem"]),l=!oa(a.ordinal),f=!oa(a.year),p=!oa(a.month)||!oa(a.day),_=f||p,E=a.weekYear||a.weekNumber,O=Af.fromObject(r);if((_||l)&&E)throw new cR("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&l)throw new cR("Can't mix ordinal dates with month/day");var R=E||a.weekday&&!_,q,z,L=gCe(s,o);R?(q=qpt,z=Bpt,L=Oae(L)):l?(q=Upt,z=jpt,L=Rae(L)):(q=bCe,z=_Ce);for(var B=!1,P=w4(q),G;!(G=P()).done;){var ue=G.value,I=a[ue];oa(I)?B?a[ue]=z[ue]:a[ue]=L[ue]:B=!0}var J=R?Mpt(a):l?Ppt(a):hCe(a),he=J||pCe(a);if(he)return n.invalid(he);var ye=R?fCe(a):l?dCe(a):a,He=Sz(ye,o,i),at=He[0],ct=He[1],Ze=new n({ts:at,zone:i,o:ct,loc:O});return a.weekday&&_&&r.weekday!==Ze.weekday?n.invalid("mismatched weekday","you can't specify both a weekday of "+a.weekday+" and a date of "+Ze.toISO()):Ze},n.fromISO=function(r,i){i===void 0&&(i={});var s=ept(r),o=s[0],a=s[1];return yR(o,a,i,"ISO 8601",r)},n.fromRFC2822=function(r,i){i===void 0&&(i={});var s=tpt(r),o=s[0],a=s[1];return yR(o,a,i,"RFC 2822",r)},n.fromHTTP=function(r,i){i===void 0&&(i={});var s=npt(r),o=s[0],a=s[1];return yR(o,a,i,"HTTP",i)},n.fromFormat=function(r,i,s){if(s===void 0&&(s={}),oa(r)||oa(i))throw new w1("fromFormat requires an input string and a format");var o=s,a=o.locale,l=a===void 0?null:a,f=o.numberingSystem,p=f===void 0?null:f,_=Af.fromOpts({locale:l,numberingSystem:p,defaultToEN:!0}),E=Ipt(_,r,i),O=E[0],R=E[1],q=E[2];return q?n.invalid(q):yR(O,R,s,"format "+i,r)},n.fromString=function(r,i,s){return s===void 0&&(s={}),n.fromFormat(r,i,s)},n.fromSQL=function(r,i){i===void 0&&(i={});var s=cpt(r),o=s[0],a=s[1];return yR(o,a,i,"SQL",r)},n.invalid=function(r,i){if(i===void 0&&(i=null),!r)throw new w1("need to specify a reason the DateTime is invalid");var s=r instanceof Bm?r:new Bm(r,i);if(tc.throwOnInvalid)throw new Wdt(s);return new n({invalid:s})},n.isDateTime=function(r){return r&&r.isLuxonDateTime||!1};var e=n.prototype;return e.get=function(r){return this[r]},e.resolvedLocaleOpts=function(r){r===void 0&&(r={});var i=Rx.create(this.loc.clone(r),r).resolvedOptions(this),s=i.locale,o=i.numberingSystem,a=i.calendar;return{locale:s,numberingSystem:o,outputCalendar:a}},e.toUTC=function(r,i){return r===void 0&&(r=0),i===void 0&&(i={}),this.setZone(op.instance(r),i)},e.toLocal=function(){return this.setZone(tc.defaultZone)},e.setZone=function(r,i){var s=i===void 0?{}:i,o=s.keepLocalTime,a=o===void 0?!1:o,l=s.keepCalendarTime,f=l===void 0?!1:l;if(r=vb(r,tc.defaultZone),r.equals(this.zone))return this;if(r.isValid){var p=this.ts;if(a||f){var _=r.offset(this.ts),E=this.toObject(),O=Sz(E,_,r);p=O[0]}return gR(this,{ts:p,zone:r})}else return n.invalid(Ez(r))},e.reconfigure=function(r){var i=r===void 0?{}:r,s=i.locale,o=i.numberingSystem,a=i.outputCalendar,l=this.loc.clone({locale:s,numberingSystem:o,outputCalendar:a});return gR(this,{loc:l})},e.setLocale=function(r){return this.reconfigure({locale:r})},e.set=function(r){if(!this.isValid)return this;var i=xz(r,ECe,[]),s=!oa(i.weekYear)||!oa(i.weekNumber)||!oa(i.weekday),o=!oa(i.ordinal),a=!oa(i.year),l=!oa(i.month)||!oa(i.day),f=a||l,p=i.weekYear||i.weekNumber;if((f||o)&&p)throw new cR("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new cR("Can't mix ordinal dates with month/day");var _;s?_=fCe(Object.assign(Oae(this.c),i)):oa(i.ordinal)?(_=Object.assign(this.toObject(),i),oa(i.day)&&(_.day=Math.min(hz(_.year,_.month),_.day))):_=dCe(Object.assign(Rae(this.c),i));var E=Sz(_,this.o,this.zone),O=E[0],R=E[1];return gR(this,{ts:O,o:R})},e.plus=function(r){if(!this.isValid)return this;var i=wb(r);return gR(this,yCe(this,i))},e.minus=function(r){if(!this.isValid)return this;var i=wb(r).negate();return gR(this,yCe(this,i))},e.startOf=function(r){if(!this.isValid)return this;var i={},s=Nd.normalizeUnit(r);switch(s){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(s==="weeks"&&(i.weekday=1),s==="quarters"){var o=Math.ceil(this.month/3);i.month=(o-1)*3+1}return this.set(i)},e.endOf=function(r){var i;return this.isValid?this.plus((i={},i[r]=1,i)).startOf(r).minus(1):this},e.toFormat=function(r,i){return i===void 0&&(i={}),this.isValid?Rx.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,r):Nae},e.toLocaleString=function(r){return r===void 0&&(r=fz),this.isValid?Rx.create(this.loc.clone(r),r).formatDateTime(this):Nae},e.toLocaleParts=function(r){return r===void 0&&(r={}),this.isValid?Rx.create(this.loc.clone(r),r).formatDateTimeParts(this):[]},e.toISO=function(r){return r===void 0&&(r={}),this.isValid?this.toISODate(r)+"T"+this.toISOTime(r):null},e.toISODate=function(r){var i=r===void 0?{}:r,s=i.format,o=s===void 0?"extended":s,a=o==="basic"?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(a="+"+a),xC(this,a)},e.toISOWeekDate=function(){return xC(this,"kkkk-'W'WW-c")},e.toISOTime=function(r){var i=r===void 0?{}:r,s=i.suppressMilliseconds,o=s===void 0?!1:s,a=i.suppressSeconds,l=a===void 0?!1:a,f=i.includeOffset,p=f===void 0?!0:f,_=i.includePrefix,E=_===void 0?!1:_,O=i.format,R=O===void 0?"extended":O;return vCe(this,{suppressSeconds:l,suppressMilliseconds:o,includeOffset:p,includePrefix:E,format:R})},e.toRFC2822=function(){return xC(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},e.toHTTP=function(){return xC(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},e.toSQLDate=function(){return xC(this,"yyyy-MM-dd")},e.toSQLTime=function(r){var i=r===void 0?{}:r,s=i.includeOffset,o=s===void 0?!0:s,a=i.includeZone,l=a===void 0?!1:a;return vCe(this,{includeOffset:o,includeZone:l,spaceZone:!0})},e.toSQL=function(r){return r===void 0&&(r={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(r):null},e.toString=function(){return this.isValid?this.toISO():Nae},e.valueOf=function(){return this.toMillis()},e.toMillis=function(){return this.isValid?this.ts:NaN},e.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},e.toJSON=function(){return this.toISO()},e.toBSON=function(){return this.toJSDate()},e.toObject=function(r){if(r===void 0&&(r={}),!this.isValid)return{};var i=Object.assign({},this.c);return r.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i},e.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},e.diff=function(r,i,s){if(i===void 0&&(i="milliseconds"),s===void 0&&(s={}),!this.isValid||!r.isValid)return Nd.invalid(this.invalid||r.invalid,"created by diffing an invalid DateTime");var o=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},s),a=Jdt(i).map(Nd.normalizeUnit),l=r.valueOf()>this.valueOf(),f=l?this:r,p=l?r:this,_=vpt(f,p,a,o);return l?_.negate():_},e.diffNow=function(r,i){return r===void 0&&(r="milliseconds"),i===void 0&&(i={}),this.diff(n.now(),r,i)},e.until=function(r){return this.isValid?mR.fromDateTimes(this,r):this},e.hasSame=function(r,i){if(!this.isValid)return!1;var s=r.valueOf(),o=this.setZone(r.zone,{keepLocalTime:!0});return o.startOf(i)<=s&&s<=o.endOf(i)},e.equals=function(r){return this.isValid&&r.isValid&&this.valueOf()===r.valueOf()&&this.zone.equals(r.zone)&&this.loc.equals(r.loc)},e.toRelative=function(r){if(r===void 0&&(r={}),!this.isValid)return null;var i=r.base||n.fromObject({zone:this.zone}),s=r.padding?this<i?-r.padding:r.padding:0,o=["years","months","days","hours","minutes","seconds"],a=r.unit;return Array.isArray(r.unit)&&(o=r.unit,a=void 0),wCe(i,this.plus(s),Object.assign(r,{numeric:"always",units:o,unit:a}))},e.toRelativeCalendar=function(r){return r===void 0&&(r={}),this.isValid?wCe(r.base||n.fromObject({zone:this.zone}),this,Object.assign(r,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},n.min=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(!i.every(n.isDateTime))throw new w1("min requires all arguments be DateTimes");return wwe(i,function(o){return o.valueOf()},Math.min)},n.max=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(!i.every(n.isDateTime))throw new w1("max requires all arguments be DateTimes");return wwe(i,function(o){return o.valueOf()},Math.max)},n.fromFormatExplain=function(r,i,s){s===void 0&&(s={});var o=s,a=o.locale,l=a===void 0?null:a,f=o.numberingSystem,p=f===void 0?null:f,_=Af.fromOpts({locale:l,numberingSystem:p,defaultToEN:!0});return sCe(_,r,i)},n.fromStringExplain=function(r,i,s){return s===void 0&&(s={}),n.fromFormatExplain(r,i,s)},Mm(n,[{key:"isValid",get:function(){return this.invalid===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?Lae(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?Lae(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?Lae(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?Rae(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?xR.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?xR.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?xR.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?xR.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.universal:null}},{key:"isInDST",get:function(){return this.isOffsetFixed?!1:this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset}},{key:"isInLeapYear",get:function(){return dR(this.year)}},{key:"daysInMonth",get:function(){return hz(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?hR(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?pz(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return fz}},{key:"DATE_MED",get:function(){return Goe}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return bwe}},{key:"DATE_FULL",get:function(){return Yoe}},{key:"DATE_HUGE",get:function(){return Koe}},{key:"TIME_SIMPLE",get:function(){return Joe}},{key:"TIME_WITH_SECONDS",get:function(){return Xoe}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return Zoe}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return eae}},{key:"TIME_24_SIMPLE",get:function(){return tae}},{key:"TIME_24_WITH_SECONDS",get:function(){return nae}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return rae}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return iae}},{key:"DATETIME_SHORT",get:function(){return sae}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return oae}},{key:"DATETIME_MED",get:function(){return aae}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return uae}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return Ewe}},{key:"DATETIME_FULL",get:function(){return lae}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return cae}},{key:"DATETIME_HUGE",get:function(){return fae}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return dae}}]),n}();function vR(n){if(Ac.isDateTime(n))return n;if(n&&n.valueOf&&yb(n.valueOf()))return Ac.fromJSDate(n);if(n&&typeof n=="object")return Ac.fromObject(n);throw new w1("Unknown datetime argument: "+n+", of type "+typeof n)}var $pt="1.28.0";ap.DateTime=Ac;ap.Duration=Nd;ap.FixedOffsetZone=op;ap.IANAZone=Nx;ap.Info=xR;ap.Interval=mR;ap.InvalidZone=vae;ap.LocalZone=Pwe;ap.Settings=tc;ap.VERSION=$pt;ap.Zone=lC});var LCe=Ae(Ku=>{"use strict";m();Object.defineProperty(Ku,"__esModule",{value:!0});Ku.ExprFunc=Ku.ExprTimeExtract=Ku.ForRange=Ku.PartialCompare=Ku.Apply=Ku.ExprCompare=Ku.ExprDuration=Ku.ExprNow=Ku.GranularLiteral=Ku.ExprGranularTime=Ku.Timeframe=void 0;var Cb=CCe(),T1=bm(),si=_4(),ACe=class extends si.MalloyElement{constructor(e){super();this.elementType="timeframe";let t=e.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1)),this.text=(0,T1.isTimestampUnit)(t)?t:"second"}};Ku.Timeframe=ACe;var kae=class extends si.ExpressionDef{constructor(e,t,r){super({expr:e});this.expr=e,this.units=t,this.truncate=r,this.elementType="granularTime",this.legalChildTypes=[si.FT.timestampT,si.FT.dateT]}granular(){return!0}getExpression(e){let t=this.units,r=this.expr.getExpression(e);if((0,T1.isTimeFieldType)(r.dataType)){let i={...r,dataType:r.dataType,timeframe:t};return this.truncate&&(i.value=[{type:"dialect",function:"trunc",expr:{value:r.value,valueType:r.dataType},units:t}]),i}return this.log(`Cannot do time truncation on type '${r.dataType}'`),(0,si.errorFor)("granularity typecheck")}apply(e,t,r){let i=this.getExpression(e).dataType,s=r.getExpression(e).dataType,o=(0,T1.isDateUnit)(this.units)?"date":"timestamp";return i=="date"&&o=="date"?this.dateRange(e,t,r):this.timestampRange(e,t,r)}timestampRange(e,t,r){let i=this.getExpression(e),s=si.ExprTime.fromValue("timestamp",i),o=new si.ExprTime("timestamp",(0,si.timeOffset)("timestamp",i.value,"+",(0,T1.mkExpr)`1`,this.units),i.aggregate);return new si.Range(s,o).apply(e,t,r)}dateRange(e,t,r){let i=this.getExpression(e),s=new si.ExprTime("date",i.value,i.aggregate),o=(0,si.timeOffset)("date",i.value,"+",["1"],this.units),a=new si.ExprTime("date",o,i.aggregate);return new si.Range(s,a).apply(e,t,r)}};Ku.ExprGranularTime=kae;var Lx=class extends si.ExpressionDef{constructor(e,t,r){super();this.moment=e,this.until=t,this.units=r,this.elementType="timeLiteral"}granular(){return!0}static parse(e){let t=e.slice(1),r="yyyy",i=`${r}-LL`,s=`${i}-dd`,o=`${s} HH:mm`,a=`${o}:ss`,l=Cb.DateTime.fromFormat(t,a);if(l.isValid){let R=l.plus({second:1}).toFormat(a),q=new Lx(t,R,"second");return q.timeType="timestamp",q}let f=Cb.DateTime.fromFormat(t,o);if(f.isValid){let R=t+":00",q=f.plus({minute:1}).toFormat(o)+":00",z=new Lx(R,q,"minute");return z.timeType="timestamp",z}let p=t.match(/(\d{4})-[qQ](\d)$/);if(p){let R=Number.parseInt(p[2])-1,q=Cb.DateTime.fromFormat(p[1],"yyyy");R>0&&(q=q.plus({quarters:R}));let z=q.plus({quarter:1});return new Lx(`${q.toFormat(s)}`,`${z.toFormat(s)}`,"quarter")}let _=Cb.DateTime.fromFormat(t,s);if(_.isValid){let R=_.plus({days:1});return new Lx(`${_.toFormat(s)}`,`${R.toFormat(s)}`,"day")}let E=Cb.DateTime.fromFormat(t,i);if(E.isValid){let R=E.plus({months:1});return new Lx(`${E.toFormat(s)}`,`${R.toFormat(s)}`,"month")}let O=Cb.DateTime.fromFormat(t,r);if(O.isValid){let R=O.toFormat("yyyy-01-01"),q=O.plus({year:1}).toFormat("yyyy-01-01");return new Lx(R,q,"year")}if(t.startsWith("WK")){let R=Cb.DateTime.fromFormat(t.slice(2),s);if(R.isValid){let q=R;R.weekday!==7&&(q=R.startOf("week").minus({day:1}));let z=q.plus({days:7});return new Lx(`${q.toFormat(s)}`,`${z.toFormat(s)}`,"week")}}}apply(e,t,r){let i=r.getExpression(e);if((0,T1.isTimeFieldType)(i.dataType)){let s="timestamp";return i.dataType==="date"&&!this.timeType&&(s="date"),new si.Range(new si.ExprTime(s,(0,si.timeLiteral)(this.moment,s,"UTC")),new si.ExprTime(s,(0,si.timeLiteral)(this.until,s,"UTC"))).apply(e,t,r)}return super.apply(e,t,r)}getExpression(e){let t=this.timeType||"date",r={dataType:t,aggregate:!1,value:(0,si.timeLiteral)(this.moment,t,"UTC")};return t=="date"&&(0,T1.isDateUnit)(this.units)&&(r.alsoTimestamp=!0),this.units!="second"?{...r,timeframe:this.units}:r}};Ku.GranularLiteral=Lx;var TCe=class extends si.ExpressionDef{constructor(){super(...arguments);this.elementType="timestamp"}getExpression(e){return{dataType:"timestamp",aggregate:!1,value:[{type:"dialect",function:"now"}]}}};Ku.ExprNow=TCe;var FCe=class extends si.ExpressionDef{constructor(e,t){super({n:e});this.n=e,this.timeframe=t,this.elementType="duration",this.legalChildTypes=[si.FT.timestampT,si.FT.dateT]}apply(e,t,r){let i=r.getExpression(e);if(this.typeCheck(this,i),(0,T1.isTimeFieldType)(i.dataType)&&(t==="+"||t==="-")){let s=this.n.getExpression(e);if(!si.FT.typeEq(s,si.FT.numberT))return this.log(`Duration units needs number not '${s.dataType}`),(0,si.errorFor)("illegal unit expression");let o;if((0,si.isGranularResult)(i)&&i.timeframe==this.timeframe&&(o=i.timeframe),i.dataType==="timestamp"){let a=(0,si.timeOffset)("timestamp",i.value,t,s.value,this.timeframe);return(0,si.timeResult)({dataType:"timestamp",aggregate:i.aggregate||s.aggregate,value:a},o)}return(0,si.timeResult)({dataType:"date",aggregate:i.aggregate||s.aggregate,value:(0,si.timeOffset)("date",i.value,t,s.value,this.timeframe)},o)}return super.apply(e,t,r)}getExpression(e){return{dataType:"duration",aggregate:!1,value:["__ERROR_DURATION_IS_NOT_A_VALUE__"]}}};Ku.ExprDuration=FCe;var Iae=class extends si.BinaryBoolean{constructor(e,t,r){super(e,t,r);this.elementType="a<=>b",this.legalChildTypes=zpt[t]}getExpression(e){if(!this.right.granular()){let t=this.right.requestExpression(e);if(t&&(0,si.isGranularResult)(t))return new kae(this.right,t.timeframe,!1).apply(e,this.op,this.left)}return this.right.apply(e,this.op,this.left)}};Ku.ExprCompare=Iae;var DCe=class extends Iae{constructor(e,t){super(e,"=",t);this.left=e,this.right=t,this.elementType="apply"}};Ku.Apply=DCe;var zpt={"~":[si.FT.stringT],"!~":[si.FT.stringT],"<":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT],"<=":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT],"=":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT],"!=":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT],">=":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT],">":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT]},OCe=class extends si.ExpressionDef{constructor(e,t){super({right:t});this.op=e,this.right=t,this.elementType="<=> a"}granular(){return this.right.granular()}apply(e,t,r){return this.right.apply(e,this.op,r)}requestExpression(e){}getExpression(e){return this.log("Partial comparison does not have a value"),(0,si.errorFor)("no value for partial compare")}};Ku.PartialCompare=OCe;var RCe=class extends si.ExpressionDef{constructor(e,t,r){super({from:e,duration:t,timeframe:r});this.from=e,this.duration=t,this.timeframe=r,this.elementType="forRange",this.legalChildTypes=[si.FT.timestampT,si.FT.dateT]}apply(e,t,r){let i=this.from.getExpression(e),s=r.getExpression(e);if(!this.typeCheck(r,s))return(0,si.errorFor)("no time for range");let o=this.duration.getExpression(e);if(o.dataType!=="number")return this.log(`FOR duration count must be a number, not '${o.dataType}'`),(0,si.errorFor)("FOR not number");let a=this.timeframe.text,f=(0,si.resolution)(a);if(i.dataType==="timestamp"&&(f="timestamp"),s.dataType==="date"&&f==="date"){let q=this.from,z=(0,si.timeOffset)("date",i.value,"+",o.value,a),L=new si.ExprTime("date",z);return new si.Range(q,L).apply(e,t,r)}let p=si.ExprTime.fromValue("timestamp",s),_=this.from,E=i.value;i.dataType==="date"&&((0,si.isGranularResult)(i)&&i.alsoTimestamp||(E=(0,si.castDateToTimestamp)(E)),_=new si.ExprTime("timestamp",E,i.aggregate));let O=(0,si.timeOffset)("timestamp",E,"+",o.value,a),R=new si.ExprTime("timestamp",O,i.aggregate);return new si.Range(_,R).apply(e,t,p)}requestExpression(e){}getExpression(e){return this.log("A Range is not a value"),(0,si.errorFor)("range has no value")}};Ku.ForRange=RCe;var gC=class extends si.ExpressionDef{constructor(e,t){super({args:t});this.extractText=e,this.args=t,this.elementType="timeExtract"}static extractor(e){let t=gC.pluralMap[e];if(t)return t;if((0,T1.isExtractUnit)(e))return e}getExpression(e){let t=gC.extractor(this.extractText);if(t){if(this.args.length!==1)return this.log(`Extraction function ${t} requires one argument`),(0,si.errorFor)("{this.name} arg count");let r=this.args[0];if(r instanceof si.Range){let i=r.first.getExpression(e),s=r.last.getExpression(e);return(0,T1.isTimeFieldType)(i.dataType)?(0,T1.isTimeFieldType)(s.dataType)?(0,T1.isTimestampUnit)(t)?{dataType:"number",aggregate:i.aggregate||s.aggregate,value:[{type:"dialect",function:"timeDiff",units:t,left:{valueType:i.dataType,value:i.value},right:{valueType:s.dataType,value:s.value}}]}:(this.log(`Cannot extract ${t} from a range`),(0,si.errorFor)(`${t} bad extraction`)):(r.last.log(`Cannot extract ${t} from '${s.dataType}'`),(0,si.errorFor)(`${t} bad type ${s.dataType}`)):(r.first.log(`Can't extract ${t} from '${i.dataType}'`),(0,si.errorFor)(`${t} bad type ${i.dataType}`))}else{let i=r.getExpression(e);return(0,T1.isTimeFieldType)(i.dataType)?{dataType:"number",aggregate:i.aggregate,value:[{type:"dialect",function:"extract",expr:{value:i.value,valueType:i.dataType},units:t}]}:(this.log(`${this.extractText}() requires time type, not '${i.dataType}'`),(0,si.errorFor)(`${this.extractText} bad type ${i.dataType}`))}}throw this.internalError(`Illegal extraction unit '${this.extractText}'`)}};Ku.ExprTimeExtract=gC;gC.pluralMap={years:"year",quarters:"quarter",months:"month",weeks:"week",days:"day",hours:"hour",minutes:"minute",seconds:"second"};var NCe=class extends si.ExpressionDef{constructor(e,t){super({args:t});this.name=e,this.args=t,this.elementType="function call()"}getExpression(e){var t,r,i;let s=!1,o,a=[`${this.name}(`];for(let p of this.args){let _=p.getExpression(e);_.aggregate&&(s=!0),o?a.push(","):o=_.dataType,a.push(..._.value)}a.push(")");let l=e.dialectObj();return{dataType:(i=(r=(t=l==null?void 0:l.getFunctionInfo(this.name))===null||t===void 0?void 0:t.returnType)!==null&&r!==void 0?r:o)!==null&&i!==void 0?i:"number",aggregate:s,value:(0,si.compressExpr)(a)}}};Ku.ExprFunc=NCe});var _4=Ae(Um=>{"use strict";m();var Hpt=Um&&Um.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),_R=Um&&Um.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Hpt(e,n,t)};Object.defineProperty(Um,"__esModule",{value:!0});_R(P8e(),Um);_R(OSe(),Um);_R(gwe(),Um);_R(LCe(),Um);_R(V$(),Um)});var Mae=Ae(A4=>{"use strict";m();var bR=A4&&A4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},ER=A4&&A4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(A4,"__esModule",{value:!0});A4.AbstractParseTreeVisitor=void 0;var Fy=wr(),Ab=class{visit(e){return e.accept(this)}visitChildren(e){let t=this.defaultResult(),r=e.childCount;for(let i=0;i<r&&this.shouldVisitNextChild(e,t);i++){let o=e.getChild(i).accept(this);t=this.aggregateResult(t,o)}return t}visitTerminal(e){return this.defaultResult()}visitErrorNode(e){return this.defaultResult()}aggregateResult(e,t){return t}shouldVisitNextChild(e,t){return!0}};bR([Fy.Override,ER(0,Fy.NotNull)],Ab.prototype,"visit",null);bR([Fy.Override,ER(0,Fy.NotNull)],Ab.prototype,"visitChildren",null);bR([Fy.Override,ER(0,Fy.NotNull)],Ab.prototype,"visitTerminal",null);bR([Fy.Override,ER(0,Fy.NotNull)],Ab.prototype,"visitErrorNode",null);bR([ER(0,Fy.NotNull)],Ab.prototype,"shouldVisitNextChild",null);A4.AbstractParseTreeVisitor=Ab});var ICe=Ae(kx=>{"use strict";m();var Vpt=kx&&kx.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Wpt=kx&&kx.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Qpt=kx&&kx.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Vpt(e,n,t);return Wpt(e,n),e};Object.defineProperty(kx,"__esModule",{value:!0});kx.MalloyToAST=void 0;var Gpt=Mae(),xr=Qpt(_4()),Ypt=B0(),kCe=class extends Gpt.AbstractParseTreeVisitor{constructor(e,t){super();this.parse=e,this.msgLog=t}internalError(e,t){let r=`Internal Translator Error: ${t}`;return this.contextError(e,r),new Error(r)}astError(e,t,r="error"){this.msgLog.log({message:t,at:e.location,severity:r})}contextError(e,t,r="error"){this.msgLog.log({message:t,at:{url:this.parse.subTranslator.sourceURL,range:this.parse.subTranslator.rangeFromContext(e)},severity:r})}onlyExploreProperties(e){let t=[];for(let r of e)xr.isExploreProperty(r)?t.push(r):this.astError(r,`Expected explore property, not '${r.elementType}'`);return t}onlyJoins(e){let t=[];for(let r of e)r instanceof xr.Join?t.push(r):this.astError(r,`Expected explore property, not '${r.elementType}'`);return t}onlyDocStatements(e){let t=[];for(let r of e)xr.isDocStatement(r)?t.push(r):this.astError(r,`Expected statement, not '${r.elementType}'`);return t}onlyNestedQueries(e){let t=[];for(let r of e)xr.isNestedQuery(r)?t.push(r):this.astError(r,`Expected query, not '${r.elementType}'`);return t}onlyQueryRefs(e){let t=[];for(let r of e)r instanceof xr.FieldReference||r instanceof xr.FieldDeclaration?t.push(r):r instanceof xr.Unimplemented&&r.reported||this.astError(r,`Expected query field, not '${r.elementType}'`);return t}getNumber(e){return Number.parseInt(e.text)}getIdText(e){return this.stripQuotes(e.text)}getFieldName(e){return this.astAt(new xr.FieldName(this.getIdText(e)),e)}getModelEntryName(e){return this.astAt(new xr.ModelEntryReference(this.getIdText(e)),e)}stripQuotes(e){return(e[0]==="`"||e[0]==="'"||e[0]==='"')&&e[0]===e[e.length-1]?e.slice(1,-1):e}optionalText(e){if(e)return this.getIdText(e)}defaultResult(){return new xr.Unimplemented}astAt(e,t){return e.location={url:this.parse.subTranslator.sourceURL,range:this.parse.subTranslator.rangeFromContext(t)},e}getSourceCode(e){let t=e.start.startIndex,r=e.stop||e.start,i=new Ypt.Interval(t,r.stopIndex);return this.parse.sourceStream.getText(i)}getFilterElement(e){let t=this.getFieldExpr(e),r=new xr.FilterElement(t,this.getSourceCode(e));return this.astAt(r,e)}getFieldDefs(e,t){let r=[];for(let i of e){let s=this.visit(i);s instanceof xr.FieldDeclaration?(this.astAt(s,i),r.push(s),t!==void 0&&(s.isMeasure=t)):this.contextError(i,"Expected field definition")}return r}getFieldExpr(e){let t=this.visit(e);if(t instanceof xr.ExpressionDef)return this.astAt(t,e);throw this.internalError(e,`expression node unknown type '${t.elementType}'`)}getSegments(e){return e.map(t=>this.visitQueryProperties(t.queryProperties()))}getFilterShortcut(e){let t=this.getFilterElement(e.fieldExpr());return new xr.Filter([t])}getExploreSource(e){let t=this.visit(e);if(t instanceof xr.Mallobj)return t;throw this.internalError(e,`'${t.elementType}': illegal explore source`)}visitMalloyDocument(e){let t=this.onlyDocStatements(e.malloyStatement().map(r=>this.visit(r)));return new xr.Document(t)}visitDefineExploreStatement(e){let r=e.exploreDefinitionList().exploreDefinition().map(i=>this.visitExploreDefinition(i));return r.length==1?r[0]:new xr.DefineSourceList(r)}visitExploreDefinition(e){let t=new xr.DefineExplore(this.getIdText(e.exploreNameDef()),this.visitExplore(e.explore()),!0,[]);return this.astAt(t,e)}visitExplore(e){let t=this.getExploreSource(e.exploreSource()),r=e.exploreProperties();return r?this.astAt(new xr.RefinedExplore(t,this.visitExploreProperties(r)),e):t}visitExploreProperties(e){let t=e.filterShortcut(),r=e.exploreStatement().map(s=>this.visit(s)),i=new xr.ExploreDesc(this.onlyExploreProperties(r));return t&&i.push(this.getFilterShortcut(t)),i}visitExploreTable(e){let t=this.stripQuotes(e.tableName().text);return this.astAt(new xr.TableSource(t),e)}visitTableSource(e){return this.visitExploreTable(e.exploreTable())}visitSQLSource(e){let t=this.getModelEntryName(e.sqlExploreNameRef());return this.astAt(new xr.SQLSource(t),e)}visitQuerySource(e){let t=this.visit(e.query());if(xr.isQueryElement(t))return this.astAt(new xr.QuerySource(t),e);throw this.internalError(e,`Expect query definition, got a '${t.elementType}'`)}visitDefJoinMany(e){let t=this.getJoinList(e.joinList()),r=[];for(let i of t)i instanceof xr.Join&&(r.push(i),i instanceof xr.ExpressionJoin?(i.joinType="many",i.joinOn==null&&i.log("join_many: requires ON expression")):i instanceof xr.KeyJoin&&i.log("Foreign key join not legal in join_many:"));return new xr.Joins(r)}visitDefJoinOne(e){let t=this.getJoinList(e.joinList()),r=[];for(let i of t)i instanceof xr.Join&&(r.push(i),i instanceof xr.ExpressionJoin&&(i.joinType="one"));return new xr.Joins(r)}visitDefJoinCross(e){let t=this.getJoinList(e.joinList()),r=[];for(let i of t)i instanceof xr.Join&&(r.push(i),i instanceof xr.ExpressionJoin?i.joinType="cross":i.log("Foreign key join not legal in join_cross:"));return new xr.Joins(r)}getJoinList(e){return e.joinDef().map(t=>this.visit(t))}getJoinSource(e,t){return t?this.visitExplore(t):new xr.NamedSource(e)}visitJoinOn(e){let t=this.getModelEntryName(e.joinNameDef()),r=this.getJoinSource(t,e.explore()),i=new xr.ExpressionJoin(t,r),s=e.joinExpression();return s&&(i.joinOn=this.getFieldExpr(s)),this.astAt(i,e)}visitJoinWith(e){let t=this.getModelEntryName(e.joinNameDef()),r=this.getJoinSource(t,e.explore()),i=this.getFieldExpr(e.fieldExpr()),s=new xr.KeyJoin(t,r,i);return this.astAt(s,e)}visitFieldDef(e){let t=e.fieldExpr(),r=this.getIdText(e.fieldNameDef()),i=this.getFieldExpr(t),s=new xr.FieldDeclaration(i,r,this.getSourceCode(t));return this.astAt(s,e)}visitDefExploreDimension(e){let t=this.getFieldDefs(e.dimensionDefList().dimensionDef(),!1),r=new xr.Dimensions(t);return this.astAt(r,e)}visitDefExploreMeasure(e){let t=this.getFieldDefs(e.measureDefList().measureDef(),!0),r=new xr.Measures(t);return this.astAt(r,e)}visitDeclareStatement(e){let t=this.getFieldDefs(e.fieldDef(),!0),r=new xr.DeclareFields(t);return this.astAt(r,e)}visitExploreRenameDef(e){let t=e.fieldName(0).id(),r=e.fieldName(1).id(),i=new xr.RenameField(this.getIdText(t),this.getFieldName(r));return this.astAt(i,e)}visitDefExploreRename(e){let r=e.renameList().exploreRenameDef().map(s=>this.visitExploreRenameDef(s)),i=new xr.Renames(r);return this.astAt(i,e)}visitFilterClauseList(e){return new xr.Filter(e.fieldExpr().map(t=>this.getFilterElement(t)))}visitFilterByShortcut(e){let t=this.getFilterElement(e.fieldExpr());return this.astAt(new xr.Filter([t]),e)}visitWhereStatement(e){let t=this.visitFilterClauseList(e.filterClauseList());return t.having=!1,this.astAt(t,e)}visitHavingStatement(e){let t=this.visitFilterClauseList(e.filterClauseList());return t.having=!0,this.astAt(t,e)}visitSubQueryDefList(e){let t=e.exploreQueryDef().map(r=>this.visitExploreQueryDef(r));return new xr.Turtles(t)}visitDefExplorePrimaryKey(e){let t=new xr.PrimaryKey(this.getFieldName(e.fieldName()));return this.astAt(t,e)}visitFieldNameList(e){let t=e.fieldName().map(r=>new xr.FieldReference([this.getFieldName(r)]));return new xr.FieldReferences(t)}visitDefExploreEditField(e){let t=e.ACCEPT()?"accept":"except";return new xr.FieldListEdit(t,this.visitFieldNameList(e.fieldNameList()))}visitQueryProperties(e){let t=e.queryStatement().map(i=>this.astAt(this.visit(i),i)).filter(function(i){return xr.isQueryProperty(i)?!0:(i.log(`Unexpected statement type '${i.elementType}' in query`),!1)}),r=e.filterShortcut();return r&&t.push(this.getFilterShortcut(r)),new xr.QOPDesc(t)}visitFieldPath(e){let t=e.fieldName().map(r=>this.getFieldName(r));return this.astAt(new xr.FieldReference(t),e)}visitQueryFieldDef(e){let t=e.dimensionDef().fieldDef(),r=this.visitFieldDef(t);return this.astAt(r,t)}visitQueryFieldRef(e){return this.visitFieldPath(e.fieldPath())}getQueryItems(e){let t=e.queryFieldEntry().map(r=>this.visit(r));return this.onlyQueryRefs(t)}visitAggregateStatement(e){return new xr.Aggregate(this.getQueryItems(e.queryFieldList()))}visitGroupByStatement(e){return new xr.GroupBy(this.getQueryItems(e.queryFieldList()))}visitFieldCollection(e){let t=[];for(let r of e.collectionMember()){let i=this.visit(r);if(xr.isFieldCollectionMember(i))t.push(i);else throw this.internalError(r,`${i.elementType} is not a query field`)}return this.astAt(new xr.ProjectStatement(t),e)}visitWildMember(e){let t=e.fieldPath(),r=e.STAR()?"*":"**",i=t?this.visitFieldPath(t):void 0;return new xr.WildcardFieldReference(i,r)}visitIndexFields(e){let t=e.indexElement().map(r=>{let i=r.STAR()!=null,s=r.fieldPath();if(!s)return new xr.WildcardFieldReference(void 0,"*");let o=this.visitFieldPath(s);return i?this.astAt(new xr.WildcardFieldReference(o,"*"),e):this.astAt(o,e)});return new xr.FieldReferences(t)}visitIndexStatement(e){let t=this.visitIndexFields(e.indexFields()),r=new xr.Index(t),i=e.fieldName();return i&&r.useWeight(this.getFieldName(i)),this.astAt(r,e)}visitLimitStatement(e){return new xr.Limit(this.getNumber(e.INTEGER_LITERAL()))}visitOrderBySpec(e){let t=e.ASC()?"asc":e.DESC()?"desc":void 0,r=e.INTEGER_LITERAL();if(r)return new xr.OrderBy(this.getNumber(r),t);let i=e.fieldName();if(i)return new xr.OrderBy(this.getFieldName(i),t);throw this.internalError(e,"can't parse order_by specification")}visitOrdering(e){let t=e.orderBySpec().map(r=>this.visitOrderBySpec(r));return this.astAt(new xr.Ordering(t),e)}visitTopStatement(e){let t=e.bySpec(),r=this.getNumber(e.INTEGER_LITERAL()),i;if(t){let s=t.fieldName();if(s){let a=this.getFieldName(s);i=new xr.Top(r,a)}let o=t.fieldExpr();o&&(i=new xr.Top(r,this.getFieldExpr(o)))}return i||(i=new xr.Top(r,void 0)),this.astAt(i,e)}visitExploreName(e){let t=this.getModelEntryName(e.id());return this.astAt(new xr.NamedSource(t),e)}buildPipelineFromName(e,t){let r=t.firstSegment(),i=r.exploreQueryName();i&&(e.turtleName=this.getFieldName(i));let s=r.queryProperties();if(s){let a=this.visitQueryProperties(s);i?e.refineHead(a):e.addSegments(a)}let o=this.getSegments(t.pipeElement());e.addSegments(...o)}visitExploreArrowQuery(e){let t=this.visitExplore(e.explore()),r=new xr.FullQuery(t);return this.buildPipelineFromName(r,e.pipelineFromName()),this.astAt(r,e)}visitArrowQuery(e){let t=new xr.ExistingQuery;t.head=this.getModelEntryName(e.queryName());let r=e.queryProperties();return r&&t.refineHead(this.visitQueryProperties(r)),t.addSegments(...this.getSegments(e.pipeElement())),this.astAt(t,e)}visitTopLevelQueryDefs(e){let t=e.topLevelQueryDef().map(r=>this.visitTopLevelQueryDef(r));return t.length===1?t[0]:new xr.DefineQueryList(t)}visitTopLevelQueryDef(e){let t=this.getIdText(e.queryName()),r=this.visit(e.query());if(xr.isQueryElement(r))return this.astAt(new xr.DefineQuery(t,r),e);throw this.internalError(e,`Expect query definition, got a '${r.elementType}'`)}visitAnonymousQuery(e){let t=this.visit(e.topLevelAnonQueryDef().query());if(xr.isQueryElement(t))return new xr.AnonymousQuery(t);throw this.internalError(e,`Anonymous query matched, but ${t.elementType} found`)}visitNestedQueryList(e){let t=e.nestEntry().map(r=>this.visit(r));return t.length==1?t[0]:new xr.Nests(this.onlyNestedQueries(t))}visitNestExisting(e){let t=this.getFieldName(e.queryName()),r=e.queryProperties();if(r){let i=new xr.NestRefinement(t),s=this.visitQueryProperties(r);return i.refineHead(s),this.astAt(i,e)}return this.astAt(new xr.NestReference(t),e)}visitNestDef(e){let t=this.getIdText(e.queryName()),r=new xr.NestDefinition(t);return this.buildPipelineFromName(r,e.pipelineFromName()),this.astAt(r,e)}visitExploreQueryDef(e){let t=this.getIdText(e.exploreQueryNameDef()),r=new xr.TurtleDecl(t);return this.buildPipelineFromName(r,e.pipelineFromName()),this.astAt(r,e)}visitExprNot(e){return new xr.ExprNot(this.getFieldExpr(e.fieldExpr()))}visitExprBool(e){return new xr.Boolean(e.TRUE()?"true":"false")}allFieldExpressions(e){return e.map(t=>this.getFieldExpr(t))}visitExprLogical(e){let t=this.getFieldExpr(e.fieldExpr(0)),r=this.getFieldExpr(e.fieldExpr(1));return new xr.ExprLogicalOp(t,e.AND()?"and":"or",r)}visitExprLogicalTree(e){let t=this.getFieldExpr(e.fieldExpr()),r=this.getFieldExpr(e.partialAllowedFieldExpr());return new xr.ExprAlternationTree(t,e.AMPER()?"&":"|",r)}visitExprNotPartial(e){return this.getFieldExpr(e.fieldExpr())}visitExprPartialCompare(e){let t=e.compareOp().text;if(xr.isComparison(t))return new xr.PartialCompare(t,this.getFieldExpr(e.fieldExpr()));throw this.internalError(e,`partial comparison '${t}' not recognized`)}visitExprString(e){return new xr.ExprString(e.STRING_LITERAL().text)}visitExprRegex(e){let t=e.HACKY_REGEX().text;return new xr.ExprRegEx(this.stripQuotes(t.slice(1)))}visitExprNow(e){return new xr.ExprNow}visitExprNumber(e){var t,r;let i=((t=e.INTEGER_LITERAL())===null||t===void 0?void 0:t.text)||((r=e.NUMERIC_LITERAL())===null||r===void 0?void 0:r.text);return i?new xr.ExprNumber(i):(this.contextError(e,`'${e.text}' is not a number`),new xr.ExprNumber("42"))}visitExprFieldPath(e){let t=new xr.ExprIdReference(this.visitFieldPath(e.fieldPath()));return this.astAt(t,e)}visitExprNULL(e){return new xr.ExprNULL}visitExprExpr(e){return new xr.ExprParens(this.getFieldExpr(e.partialAllowedFieldExpr()))}visitExprMinus(e){return new xr.ExprMinus(this.getFieldExpr(e.fieldExpr()))}visitExprAddSub(e){let t=this.getFieldExpr(e.fieldExpr(0)),r=this.getFieldExpr(e.fieldExpr(1)),i=e.PLUS()?"+":"-";return new xr.ExprAddSub(t,i,r)}visitExprMulDiv(e){return new xr.ExprMulDiv(this.getFieldExpr(e.fieldExpr(0)),e.STAR()?"*":"/",this.getFieldExpr(e.fieldExpr(1)))}visitExprCompare(e){let t=e.compareOp().text;if(xr.isComparison(t))return new xr.ExprCompare(this.getFieldExpr(e.fieldExpr(0)),t,this.getFieldExpr(e.fieldExpr(1)));throw this.internalError(e,`untranslatable comparison operator '${t}'`)}visitExprCountDisinct(e){return this.astAt(new xr.ExprCountDistinct(this.getFieldExpr(e.fieldExpr())),e)}visitExprUngroup(e){let t=e.fieldName().map(i=>this.getFieldName(i)),r=this.getIdText(e.ungroup()).toLocaleLowerCase();return this.astAt(new xr.ExprUngroup(r=="all"?r:"exclude",this.getFieldExpr(e.fieldExpr()),t),e)}visitExprAggregate(e){let t=e.fieldPath(),r=t?this.visitFieldPath(t):void 0,i=t&&r?this.astAt(r,t):void 0,s=e.fieldExpr();if(e.aggregate().COUNT())return s&&this.contextError(s,"Ignored expression inside COUNT()"),new xr.ExprCount(i);e.STAR()&&this.contextError(e,"'*' is not a valid expression");let a=s?this.getFieldExpr(s):void 0;if(e.aggregate().MIN())if(r)this.contextError(e,"Path not legal for min()");else{if(a)return new xr.ExprMin(a);this.contextError(e,"Missing expression for min")}else if(e.aggregate().MAX())if(r)this.contextError(e,"Path not legal for max()");else{if(a)return new xr.ExprMax(a);this.contextError(e,"Missing expression for max")}else{if(e.aggregate().AVG())return new xr.ExprAvg(a,i);if(e.aggregate().SUM())return new xr.ExprSum(a,i)}return new xr.ExprNULL}visitExprApply(e){return e.COLON()&&this.contextError(e,"':' for apply is deprecated, use '?'","warn"),new xr.Apply(this.getFieldExpr(e.fieldExpr()),this.getFieldExpr(e.partialAllowedFieldExpr()))}visitExprRange(e){return new xr.Range(this.getFieldExpr(e.fieldExpr(0)),this.getFieldExpr(e.fieldExpr(1)))}visitExprCast(e){let t=e.malloyType().text;return xr.isCastType(t)?new xr.ExprCast(this.getFieldExpr(e.fieldExpr()),t):(this.contextError(e,`CAST to unknown type '${t}'`),new xr.ExprNULL)}visitExprSafeCast(e){let t=e.malloyType().text;return xr.isCastType(t)?new xr.ExprCast(this.getFieldExpr(e.fieldExpr()),t,!0):(this.contextError(e,`'::' cast to unknown type '${t}'`),new xr.ExprNULL)}visitExprTimeTrunc(e){return new xr.ExprGranularTime(this.getFieldExpr(e.fieldExpr()),this.visitTimeframe(e.timeframe()).text,!0)}visitTimeframe(e){return new xr.Timeframe(e.text)}visitExprForRange(e){let t=this.getFieldExpr(e._startAt),r=this.getFieldExpr(e._duration),i=this.visitTimeframe(e.timeframe());return new xr.ForRange(t,r,i)}visitExprFunc(e){let t=e.argumentList(),r=t?this.allFieldExpressions(t.fieldExpr()):[],i=e.id(),s=e.timeframe(),o;return i?o=this.getIdText(i):s?o=s.text:(this.contextError(e,"Funciton name error"),o="FUNCTION_NAME_ERROR"),xr.ExprTimeExtract.extractor(o)?this.astAt(new xr.ExprTimeExtract(o,r),e):this.astAt(new xr.ExprFunc(o,r),e)}visitExprDuration(e){return new xr.ExprDuration(this.getFieldExpr(e.fieldExpr()),this.visitTimeframe(e.timeframe()).text)}visitPickStatement(e){let t=e.pick().map(r=>{let i;return r._pickValue&&(i=this.getFieldExpr(r._pickValue)),new xr.PickWhen(i,this.getFieldExpr(r._pickWhen))});return e.ELSE()?new xr.Pick(t,this.getFieldExpr(e._pickElse)):new xr.Pick(t)}visitNamedSource(e){let t=this.getModelEntryName(e.exploreName());return this.astAt(new xr.NamedSource(t),e)}visitExprFilter(e){let t=this.visit(e.filteredBy());return new xr.ExprFilter(this.getFieldExpr(e.fieldExpr()),t)}getLiteralTime(e){let t=xr.GranularLiteral.parse(e.text);return t===void 0?(this.contextError(e,`${e.text} is not a legal day specification`),new xr.ExprNow):t}visitLiteralTimestamp(e){return this.getLiteralTime(e)}visitLiteralDay(e){return this.getLiteralTime(e)}visitLiteralWeek(e){return this.getLiteralTime(e)}visitLiteralMonth(e){return this.getLiteralTime(e)}visitLiteralQuarter(e){return this.getLiteralTime(e)}visitLiteralYear(e){return this.getLiteralTime(e)}visitImportStatement(e){let t=this.stripQuotes(e.importURL().text);return this.astAt(new xr.ImportStatement(t,this.parse.subTranslator.sourceURL),e)}visitJustExpr(e){return this.getFieldExpr(e.fieldExpr())}visitDefineSQLStatement(e){return this.visitSQLStatementDef(e.sqlStatementDef())}visitSQLStatementDef(e){let t=e.SQL_STRING().text,r=new xr.SQLStatement({select:t.slice(2,t.length-2),connection:this.optionalText(e.connectionName())}),i=e.sqlCommandNameDef();return i&&(r.is=this.getIdText(i)),this.astAt(r,e)}visitSampleStatement(e){let t=e.sampleSpec().INTEGER_LITERAL();if(t)return new xr.SampleProperty({rows:this.getNumber(t)});let r=e.sampleSpec().PERCENT_LITERAL();if(r)return new xr.SampleProperty({percent:this.getNumber(r)});let i=e.sampleSpec().TRUE()!=null;return new xr.SampleProperty({enable:i})}};kx.MalloyToAST=kCe});var PCe=Ae(wz=>{"use strict";m();Object.defineProperty(wz,"__esModule",{value:!0});wz.MessageLog=void 0;var MCe=class{constructor(){this.rawLog=[]}getLog(){return this.rawLog}log(e){this.rawLog.push(e)}reset(){this.rawLog.length=0}noErrors(){return!this.hasErrors()}hasErrors(){return this.rawLog.find(t=>t.severity!=="warn")!==void 0}empty(){return this.rawLog.length===0}};wz.MessageLog=MCe});var Tb=Ae(yC=>{"use strict";m();Object.defineProperty(yC,"__esModule",{value:!0});yC.ParseTreeWalker=void 0;var Kpt=nw(),Jpt=my(),Xpt=rw(),Pae=class{walk(e,t){let r=[],i=[],s=t,o=0;for(;s;){if(s instanceof Kpt.ErrorNode?e.visitErrorNode&&e.visitErrorNode(s):s instanceof Jpt.TerminalNode?e.visitTerminal&&e.visitTerminal(s):this.enterRule(e,s),s.childCount>0){r.push(s),i.push(o),o=0,s=s.getChild(0);continue}do{if(s instanceof Xpt.RuleNode&&this.exitRule(e,s),r.length===0){s=void 0,o=0;break}let a=r[r.length-1];if(o++,s=o<a.childCount?a.getChild(o):void 0,s)break;s=r.pop(),o=i.pop()}while(s)}}enterRule(e,t){let r=t.ruleContext;e.enterEveryRule&&e.enterEveryRule(r),r.enterRule(e)}exitRule(e,t){let r=t.ruleContext;r.exitRule(e),e.exitEveryRule&&e.exitEveryRule(r)}};yC.ParseTreeWalker=Pae;(function(n){n.DEFAULT=new n})(Pae=yC.ParseTreeWalker||(yC.ParseTreeWalker={}))});var jCe=Ae(Cz=>{"use strict";m();Object.defineProperty(Cz,"__esModule",{value:!0});Cz.findReferences=void 0;var Zpt=Tb(),BCe=class{constructor(e,t){this.trans=e,this.tokens=t,this.needTables={},this.needImports={}}enterTableName(e){let t=this.tokens.getText(e).slice(1,-1);this.needTables[t]||(this.needTables[t]=this.trans.rangeFromContext(e))}enterImportURL(e){let t=JSON.parse(e.JSON_STRING().text);this.needImports[t]||(this.needImports[t]=this.trans.rangeFromContext(e))}};function e1t(n,e,t){let r=new BCe(n,e),i=r;Zpt.ParseTreeWalker.DEFAULT.walk(i,t);let s={};return Object.keys(r.needTables).length>0&&(s={tables:r.needTables}),Object.keys(r.needImports).length>0&&(s={...s,urls:r.needImports}),Object.keys(s).length>0?s:null}Cz.findReferences=e1t});var UCe=Ae(Az=>{"use strict";m();Object.defineProperty(Az,"__esModule",{value:!0});Az.Zone=void 0;var qCe=class{constructor(){this.location={},this.zone=new Map}get(e){let t=this.zone.get(e);if((t==null?void 0:t.status)==="present")return t.value}getEntry(e){let t=this.zone.get(e);return t?t.firstReference||!this.location[e]?t:{...t,firstReference:this.location[e]}:{status:"error",message:"import reference failure"}}define(e,t){this.zone.set(e,{status:"present",value:t})}reference(e,t){let r=this.zone.get(e);(r==null?void 0:r.status)==null&&(this.zone.set(e,{status:"reference",firstReference:t}),this.location[e]=t)}getUndefined(){let e=[];for(let[t,r]of this.zone)r.status==="reference"&&e.push(t);return e.length>0?e:void 0}updateFrom(e,t){if(e)for(let[r,i]of Object.entries(e))i!==void 0&&this.define(r,i);if(t)for(let[r,i]of Object.entries(t))this.zone.set(r,{status:"error",message:i})}};Az.Zone=qCe});var zCe=Ae(Tz=>{"use strict";m();Object.defineProperty(Tz,"__esModule",{value:!0});Tz.walkForDocumentSymbols=void 0;var t1t=Tb(),$Ce=class{constructor(e,t,r,i){this.translator=e,this.tokens=t,this.scopes=r,this.symbols=i}popScope(){return this.scopes.pop()}peekScope(){return this.scopes[this.scopes.length-1]}enterTopLevelQueryDef(e){this.symbols.push({range:this.translator.rangeFromContext(e),name:e.queryName().text,type:"query",children:[]})}enterTopLevelAnonQueryDef(e){this.symbols.push({range:this.translator.rangeFromContext(e),name:"unnamed_query",type:"unnamed_query",children:[]})}enterExploreDefinition(e){this.scopes.push({range:this.translator.rangeFromContext(e),name:e.exploreNameDef().id().text,type:"explore",children:[]})}exitExploreDefinition(e){let t=this.popScope();t&&this.symbols.push(t)}enterExploreQueryDef(e){let t={range:this.translator.rangeFromContext(e),name:e.exploreQueryNameDef().id().text,type:"query",children:[]},r=this.peekScope();r&&r.children.push(t),this.scopes.push(t)}exitExploreQueryDef(e){this.popScope()}handleNestEntry(e){let t={range:this.translator.rangeFromContext(e),name:e.queryName().id().text,type:"query",children:[]},r=this.peekScope();return r&&r.children.push(t),t}enterNestExisting(e){this.handleNestEntry(e)}enterNestDef(e){let t=this.handleNestEntry(e);this.scopes.push(t)}exitNestDef(e){this.popScope()}enterFieldDef(e){let t={range:this.translator.rangeFromContext(e),name:e.fieldNameDef().id().text,type:"field",children:[]},r=this.peekScope();r&&r.children.push(t)}enterQueryFieldRef(e){let t={range:this.translator.rangeFromContext(e),name:e.fieldPath().text,type:"field",children:[]},r=this.peekScope();r&&r.children.push(t)}enterExploreRenameDef(e){let t={range:this.translator.rangeFromContext(e),name:e.fieldName()[0].text,type:"field",children:[]},r=this.peekScope();r&&r.children.push(t)}enterJoinWith(e){this.handleJoinDef(e)}enterJoinOn(e){this.handleJoinDef(e)}handleJoinDef(e){let t={range:this.translator.rangeFromContext(e),name:e.joinNameDef().id().text,type:"join",children:[]},r=this.peekScope();r&&r.children.push(t)}enterSqlStatementDef(e){var t;let r=(t=e.sqlCommandNameDef())===null||t===void 0?void 0:t.id().text,i={range:this.translator.rangeFromContext(e),name:r||"unnamed_sql",type:r===void 0?"unnamed_sql":"sql",children:[]};this.symbols.push(i)}};function n1t(n,e,t){let r=new $Ce(n,e,[],[]),i=r;return t1t.ParseTreeWalker.DEFAULT.walk(i,t),r.symbols}Tz.walkForDocumentSymbols=n1t});var Bae=Ae(Gi=>{"use strict";m();Object.defineProperty(Gi,"__esModule",{value:!0});Gi.sortHighlights=Gi.walkForDocumentHighlights=Gi.passForHighlights=Gi.HighlightType=void 0;var r1t=Tb(),_i=Soe();Gi.HighlightType={Identifier:"identifier",Type:"type",Literal:{Date:"literal.date",Number:"literal.number",String:"literal.string",RegularExpression:"literal.regular_expression",Boolean:"literal.boolean",Null:"literal.null"},Call:{Aggregate:"call.aggregate",TimeFrame:"call.time_frame",Cast:"call.cast",Table:"call.table",From:"call.from",Function:"call.function",FromSQL:"call.from_sql"},Keyword:{AggregateModifier:{Distinct:"keyword.aggregate_modifier.distinct"},CastModifier:{As:"keyword.cast_modifier.as"},Is:"keyword.is",On:"keyword.on",Desc:"keyword.desc",Asc:"keyword.asc",Pick:"keyword.pick",When:"keyword.when",Else:"keyword.else",With:"keyword.with",JSON:"keyword.json",Turtle:"keyword.turtle",Import:"keyword.import"},Operator:{Comparison:"operator.comparison",Boolean:"operator.boolean",Date:"operator.date"},Comment:{Line:"comment.line",Block:"comment.block"},Property:{Accept:"property.accept",Aggregate:"property.aggregate",Dimension:"property.dimension",Except:"property.except",Source:"property.source",GroupBy:"property.group_by",Having:"property.having",Index:"property.index",JoinOne:"keyword.join_one",JoinMany:"keyword.join_many",JoinCross:"keyword.join_cross",Limit:"property.limit",Measure:"property.measure",Nest:"property.nest",OrderBy:"property.order_by",PrimaryKey:"property.primary_key",Project:"property.project",Query:"property.query",Rename:"property.rename",Top:"property.top",Where:"property.where",SQL:"property.sql"}};function i1t(n){let e=[],t=(r,i,s=!1)=>{var o;let a=r.startIndex-r.charPositionInLine,l=((o=r.text)===null||o===void 0?void 0:o.split(`
`))||[],f=l.length,p=l.slice(0,-1).reduce((E,O)=>E+O.length,0),_=s?1:0;e.push({type:i,range:{start:{line:r.line-1,character:r.startIndex-a},end:{line:r.line-1+f-1,character:r.stopIndex+2-(f>1?r.startIndex:a)-p-f-_}}})};for(let r=0;r<n.size;r++){let i=n.get(r);switch(i.type){case _i.MalloyParser.ACCEPT:t(i,Gi.HighlightType.Property.Accept,!0);break;case _i.MalloyParser.AGGREGATE:t(i,Gi.HighlightType.Property.Aggregate,!0);break;case _i.MalloyParser.DIMENSION:t(i,Gi.HighlightType.Property.Dimension,!0);break;case _i.MalloyParser.EXCEPT:t(i,Gi.HighlightType.Property.Except,!0);break;case _i.MalloyParser.GROUP_BY:t(i,Gi.HighlightType.Property.GroupBy,!0);break;case _i.MalloyParser.HAVING:t(i,Gi.HighlightType.Property.Having,!0);break;case _i.MalloyParser.INDEX:t(i,Gi.HighlightType.Property.Index,!0);break;case _i.MalloyParser.JOIN_CROSS:t(i,Gi.HighlightType.Property.JoinOne,!0);break;case _i.MalloyParser.JOIN_ONE:t(i,Gi.HighlightType.Property.JoinMany,!0);break;case _i.MalloyParser.JOIN_MANY:t(i,Gi.HighlightType.Property.JoinCross,!0);break;case _i.MalloyParser.LIMIT:t(i,Gi.HighlightType.Property.Limit,!0);break;case _i.MalloyParser.MEASURE:t(i,Gi.HighlightType.Property.Measure,!0);break;case _i.MalloyParser.NEST:t(i,Gi.HighlightType.Property.Nest,!0);break;case _i.MalloyParser.ORDER_BY:t(i,Gi.HighlightType.Property.OrderBy,!0);break;case _i.MalloyParser.PRIMARY_KEY:t(i,Gi.HighlightType.Property.PrimaryKey,!0);break;case _i.MalloyParser.PROJECT:t(i,Gi.HighlightType.Property.Project,!0);break;case _i.MalloyParser.QUERY:t(i,Gi.HighlightType.Property.Query,!0);break;case _i.MalloyParser.RENAME:t(i,Gi.HighlightType.Property.Rename,!0);break;case _i.MalloyParser.SOURCE:t(i,Gi.HighlightType.Property.Source,!0);break;case _i.MalloyParser.TOP:t(i,Gi.HighlightType.Property.Top,!0);break;case _i.MalloyParser.WHERE:t(i,Gi.HighlightType.Property.Where,!0);break;case _i.MalloyParser.SQL:t(i,Gi.HighlightType.Property.SQL,!0);break;case _i.MalloyParser.TABLE:t(i,Gi.HighlightType.Call.Table);break;case _i.MalloyParser.FROM:t(i,Gi.HighlightType.Call.From);break;case _i.MalloyParser.FROM_SQL:t(i,Gi.HighlightType.Call.FromSQL);break;case _i.MalloyParser.STRING_LITERAL:case _i.MalloyParser.JSON_STRING:t(i,Gi.HighlightType.Literal.String);break;case _i.MalloyParser.NUMERIC_LITERAL:case _i.MalloyParser.INTEGER_LITERAL:t(i,Gi.HighlightType.Literal.Number);break;case _i.MalloyParser.HACKY_REGEX:t(i,Gi.HighlightType.Literal.RegularExpression);break;case _i.MalloyParser.IS:t(i,Gi.HighlightType.Keyword.Is);break;case _i.MalloyParser.DISTINCT:t(i,Gi.HighlightType.Keyword.AggregateModifier.Distinct);break;case _i.MalloyParser.ON:t(i,Gi.HighlightType.Keyword.On);break;case _i.MalloyParser.DESC:t(i,Gi.HighlightType.Keyword.Desc);break;case _i.MalloyParser.ASC:t(i,Gi.HighlightType.Keyword.Asc);break;case _i.MalloyParser.CAST:t(i,Gi.HighlightType.Call.Cast);break;case _i.MalloyParser.AS:t(i,Gi.HighlightType.Keyword.CastModifier.As);break;case _i.MalloyParser.PICK:t(i,Gi.HighlightType.Keyword.Pick);break;case _i.MalloyParser.WHEN:t(i,Gi.HighlightType.Keyword.When);break;case _i.MalloyParser.WITH:t(i,Gi.HighlightType.Keyword.With);break;case _i.MalloyParser.ELSE:t(i,Gi.HighlightType.Keyword.Else);break;case _i.MalloyParser.JSON:t(i,Gi.HighlightType.Keyword.JSON);break;case _i.MalloyParser.TURTLE:t(i,Gi.HighlightType.Keyword.Turtle);break;case _i.MalloyParser.TRUE:case _i.MalloyParser.FALSE:t(i,Gi.HighlightType.Literal.Boolean);break;case _i.MalloyParser.NOW:case _i.MalloyParser.LITERAL_TIMESTAMP:case _i.MalloyParser.LITERAL_QUARTER:case _i.MalloyParser.LITERAL_MONTH:case _i.MalloyParser.LITERAL_DAY:case _i.MalloyParser.LITERAL_WEEK:case _i.MalloyParser.LITERAL_YEAR:t(i,Gi.HighlightType.Literal.Date);break;case _i.MalloyParser.NULL:t(i,Gi.HighlightType.Literal.Null);break;case _i.MalloyParser.AND:case _i.MalloyParser.OR:case _i.MalloyParser.NOT:t(i,Gi.HighlightType.Operator.Boolean);break;case _i.MalloyParser.FOR:t(i,Gi.HighlightType.Operator.Date);break;case _i.MalloyParser.COMMENT_TO_EOL:t(i,Gi.HighlightType.Comment.Line);break;case _i.MalloyParser.BLOCK_COMMENT:t(i,Gi.HighlightType.Comment.Block);break;case _i.MalloyParser.SUM:case _i.MalloyParser.COUNT:case _i.MalloyParser.AVG:case _i.MalloyParser.MIN:case _i.MalloyParser.MAX:t(i,Gi.HighlightType.Call.Aggregate);break;case _i.MalloyParser.IDENTIFIER:case _i.MalloyParser.OBJECT_NAME_LITERAL:t(i,Gi.HighlightType.Identifier);break;case _i.MalloyParser.STRING:case _i.MalloyParser.NUMBER:case _i.MalloyParser.BOOLEAN:case _i.MalloyParser.DATE:case _i.MalloyParser.TIMESTAMP:t(i,Gi.HighlightType.Type);break;case _i.MalloyParser.SECOND:case _i.MalloyParser.MINUTE:case _i.MalloyParser.HOUR:case _i.MalloyParser.DAY:case _i.MalloyParser.WEEK:case _i.MalloyParser.MONTH:case _i.MalloyParser.QUARTER:case _i.MalloyParser.YEAR:t(i,Gi.HighlightType.Call.TimeFrame);break;case _i.MalloyParser.IMPORT:t(i,Gi.HighlightType.Keyword.Import);break}}return e}Gi.passForHighlights=i1t;var HCe=class{constructor(e,t){this.tokens=e,this.highlights=t}rangeOf(e){let t=e.stop||e.start;return{start:{line:e.start.line-1,character:e.start.charPositionInLine},end:{line:t.line-1,character:t.stopIndex-(t.startIndex-t.charPositionInLine)+1}}}enterExprFunc(e){let t=e.id()||e.timeframe();t&&this.highlights.push({range:this.rangeOf(t),type:Gi.HighlightType.Call.Function})}};function s1t(n,e){let t=new HCe(n,[]),r=t;return r1t.ParseTreeWalker.DEFAULT.walk(r,e),t.highlights}Gi.walkForDocumentHighlights=s1t;function o1t(n){return n.sort((e,t)=>e.range.start.line<t.range.start.line?-1:e.range.start.line>t.range.start.line?1:e.range.start.character<t.range.start.character?-1:e.range.start.character>t.range.start.character?1:0)}Gi.sortHighlights=o1t});var WCe=Ae(Fz=>{"use strict";m();Object.defineProperty(Fz,"__esModule",{value:!0});Fz.walkForDocumentCompletions=void 0;var a1t=Tb(),u1t=["dimension","measure","join_one","join_many","join_cross","where","primary_key","rename","accept","except","query","declare"],l1t=["group_by","project","index","aggregate","top","limit","order_by","where","having","nest","declare"],c1t=["source","explore","query","sql"],VCe=class{constructor(e,t,r){this.tokens=e,this.completions=t,this.position=r}rangeOf(e){let t=e.stop||e.start;return{start:{line:e.start.line-1,character:e.start.charPositionInLine},end:{line:t.line-1,character:t.stopIndex-(t.startIndex-t.charPositionInLine)+1}}}inRange(e){let{start:t,end:r}=e,i=this.position.line>t.line||this.position.line===t.line&&this.position.character>=t.character,s=this.position.line<r.line||this.position.line===r.line&&this.position.character<=r.character;return i&&s}enterExploreProperties(e){if(this.inRange(this.rangeOf(e))){let t=!1;for(let r of e.exploreStatement())this.inRange(this.rangeOf(r))&&(t=!0);if(!t)for(let r of u1t)this.completions.push({type:"explore_property",text:`${r}: `})}}enterQueryProperties(e){if(this.inRange(this.rangeOf(e))){let t=!1;for(let r of e.queryStatement())this.inRange(this.rangeOf(r))&&(t=!0);if(!t)for(let r of l1t)this.completions.push({type:"query_property",text:`${r}: `})}}enterMalloyDocument(e){if(this.inRange(this.rangeOf(e))){let t=!1;for(let r of e.malloyStatement())this.inRange(this.rangeOf(r))&&(t=!0);if(!t)for(let r of c1t)this.completions.push({type:"model_property",text:`${r}: `})}}};function f1t(n,e,t){let r=new VCe(n,[],t),i=r;return a1t.ParseTreeWalker.DEFAULT.walk(i,e),r.completions}Fz.walkForDocumentCompletions=f1t});var GCe=Ae(QCe=>{"use strict";m();Object.defineProperty(QCe,"__esModule",{value:!0})});var KCe=Ae(YCe=>{"use strict";m();Object.defineProperty(YCe,"__esModule",{value:!0})});var XCe=Ae(Dz=>{"use strict";m();Object.defineProperty(Dz,"__esModule",{value:!0});Dz.ParseTreeProperty=void 0;var JCe=class{constructor(e="ParseTreeProperty"){this._symbol=Symbol(e)}get(e){return e[this._symbol]}set(e,t){e[this._symbol]=t}removeFrom(e){let t=e[this._symbol];return delete e[this._symbol],t}};Dz.ParseTreeProperty=JCe});var e9e=Ae(ZCe=>{"use strict";m();Object.defineProperty(ZCe,"__esModule",{value:!0})});var n9e=Ae(t9e=>{"use strict";m();Object.defineProperty(t9e,"__esModule",{value:!0})});var i9e=Ae(r9e=>{"use strict";m();Object.defineProperty(r9e,"__esModule",{value:!0})});var s9e=Ae(Tf=>{"use strict";m();var d1t=Tf&&Tf.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),F1=Tf&&Tf.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&d1t(e,n,t)};Object.defineProperty(Tf,"__esModule",{value:!0});F1(Mae(),Tf);F1(nw(),Tf);F1(GCe(),Tf);F1(KCe(),Tf);F1(XCe(),Tf);F1(e9e(),Tf);F1(Tb(),Tf);F1(rw(),Tf);F1(n9e(),Tf);F1(my(),Tf);F1(i9e(),Tf);F1(xy(),Tf)});var a9e=Ae(Oz=>{"use strict";m();Object.defineProperty(Oz,"__esModule",{value:!0});Oz.walkForDocumentHelpContext=void 0;var h1t=s9e(),o9e=class extends h1t.AbstractParseTreeVisitor{constructor(e){super();this.position=e,this.type=""}rangeOf(e){let t=e.stop||e.start;return{start:{line:e.start.line-1,character:e.start.charPositionInLine},end:{line:t.line-1,character:t.stopIndex-(t.startIndex-t.charPositionInLine)+1}}}inRange(e){return e.start.line<=this.position.line&&e.end.line>=this.position.line&&(this.position.line!==e.start.line||this.position.character>=e.start.character)&&(this.position.line!==e.end.line||this.position.character<=e.end.character)}defaultResult(){}visitChildren(e){let t=this.defaultResult();if(this.inRange(this.rangeOf(e))){t={type:this.type,token:e.start.text};let r=e.childCount;for(let i=0;i<r;i++){let o=e.getChild(i).accept(this);o&&(t=this.aggregateResult(t,o))}}return t}visitMalloyDocument(e){return this.inRange(this.rangeOf(e))?(this.type="model_property",this.visitChildren(e)):this.defaultResult()}visitExploreProperties(e){return this.inRange(this.rangeOf(e))?(this.type="explore_property",this.visitChildren(e)):this.defaultResult()}visitQueryProperties(e){return this.inRange(this.rangeOf(e))?(this.type="query_property",this.visitChildren(e)):this.defaultResult()}aggregateResult(e,t){return t}};function p1t(n,e){return new o9e(e).visit(n)}Oz.walkForDocumentHelpContext=p1t});var l9e=Ae(Rz=>{"use strict";m();Object.defineProperty(Rz,"__esModule",{value:!0});Rz.ReferenceList=void 0;var u9e=class{constructor(e){this.sourceURL=e,this.references=[]}findIndexBefore(e){let t=0,r=this.references.length;for(;t<r;){let i=Math.floor((t+r)/2),s=this.references[i].location.range.end;s.line<e.line||s.line===e.line&&s.character<e.character?t=i+1:r=i}return t}add(e){if(e.location.url!==this.sourceURL)return;let t=this.findIndexBefore(e.location.range.end);t<this.references.length&&this.isPositionEqual(e,this.references[t])||this.references.splice(t,0,e)}isPositionEqual(e,t){let r=e.location.range,i=t.location.range;return r.start.line===i.start.line&&r.start.character===i.start.character&&r.end.line===i.end.line&&r.end.character===i.end.character}find(e){let t=this.findIndexBefore(e);if(t===this.references.length)return;let r=this.references[t];if(r.location.range.start.line<=e.line&&r.location.range.end.line>=e.line&&(e.line!==r.location.range.start.line||e.character>=r.location.range.start.character)&&(e.line!==r.location.range.end.line||e.character<=r.location.range.end.character))return r}};Rz.ReferenceList=u9e});var b9e=Ae(bh=>{"use strict";m();var m1t=bh&&bh.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),x1t=bh&&bh.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),g1t=bh&&bh.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&m1t(e,n,t);return x1t(e,n),e};Object.defineProperty(bh,"__esModule",{value:!0});bh.MalloyTranslator=bh.MalloyTranslation=bh.SQLExploreZone=void 0;var c9e=N8e(),y1t=k8e(),v1t=Soe(),Nz=g1t(_4()),_1t=ICe(),b1t=PCe(),E1t=jCe(),jae=UCe(),S1t=zCe(),qae=Bae(),w1t=WCe(),C1t=a9e(),A1t=l9e(),f9e=class{constructor(e,t){this.translator=e,this.messages=t}syntaxError(e,t,r,i,s,o){let a={line:r-1,character:i},l=t?this.translator.rangeFromToken(t):{start:a,end:a},f={message:s,at:{url:this.translator.sourceURL,range:l}};this.messages.log(f)}},Uae=class extends jae.Zone{constructor(){super(...arguments);this.keyed={}}referenceBlock(e,t){let r=e.sqlBlock();this.reference(r.name,t),this.keyed[r.name]=r}getUndefinedBlocks(){let e=this.getUndefined();if(e)return e.map(t=>this.keyed[t])}};bh.SQLExploreZone=Uae;function Lz(n){return!!n&&(n.tables||n.urls||n.sqlStructs)!=null}var d9e=class{step(e){if(this.response)return this.response;if(e.urlIsFullPath===void 0)try{let s=new URL(e.sourceURL);e.urlIsFullPath=!0}catch(s){let o=s instanceof Error?s.message:"";e.urlIsFullPath=!1,e.root.logger.log({message:`Could not compute full path URL: ${o}`})}if(!e.urlIsFullPath)return e.fatalErrors();let t=e.root.importZone.getEntry(e.sourceURL);if(t.status!=="present"){if(t.status==="error"){let s=t.message.includes(e.sourceURL)?`import error: ${t.message}`:`import '${e.sourceURL}' error: ${t.message}`,o=t.firstReference||e.defaultLocation();return e.root.logger.log({message:s,at:o}),this.response=e.fatalErrors(),this.response}return{urls:[e.sourceURL]}}let r=t.value==""?`
`:t.value;this.sourceInfo=this.getSourceInfo(r);let i=this.runParser(r,e);return e.root.logger.hasErrors()?this.response={parse:i,...e.fatalErrors()}:this.response={parse:i},this.response}getSourceInfo(e){let t=/\r?\n/,r={at:[],lines:[],length:e.length},i=e,s=0;for(;i!=="";){let o=i.match(t);if(o&&o.index!=null){r.lines.push(i.slice(0,o.index));let a=o.index+o[0].length;r.at.push({begin:s,end:s+a}),s+=a,i=i.slice(a)}else{r.lines.push(i),r.at.push({begin:s,end:s+i.length});break}}return r}runParser(e,t){let r=c9e.CharStreams.fromString(e),i=new y1t.MalloyLexer(r),s=new c9e.CommonTokenStream(i),o=new v1t.MalloyParser(s);o.removeErrorListeners(),o.addErrorListener(new f9e(t,t.root.logger));let a=o[t.grammarRule];if(!a)throw new Error(`No such parse rule as ${t.grammarRule}`);return{root:a.call(o),tokenStream:s,sourceStream:r,malloyVersion:"?.?.?-????",subTranslator:t}}},h9e=class{constructor(e){this.parseStep=e,this.alreadyLooked=!1}step(e){let t=this.parseStep.step(e);if(t.parse==null)return t;if(!this.alreadyLooked){this.alreadyLooked=!0;let o=(0,E1t.findReferences)(e,t.parse.tokenStream,t.parse.root);if(o==null?void 0:o.tables)for(let a in o.tables)e.root.schemaZone.reference(a,{url:e.sourceURL,range:o.tables[a]});if(o==null?void 0:o.urls)for(let a in o.urls){let l=o.urls[a];try{let f=decodeURI(new URL(a,e.sourceURL).toString());e.addChild(f),e.root.importZone.reference(f,{url:e.sourceURL,range:l})}catch{e.root.logger.log({message:`Malformed URL '${a}'"`,at:{url:e.sourceURL,range:l}})}}}if(e.root.logger.hasErrors())return null;let r={},i=e.root.schemaZone.getUndefined();i&&(r={tables:i});let s=e.root.importZone.getUndefined();if(s&&(r={...r,urls:s}),Lz(r))return r;for(let o of e.childTranslators.values()){let a=o.importsAndTablesStep.step(o);if(Lz(a))return a}return null}},p9e=class{constructor(e){this.importStep=e,this.walked=!1}step(e){if(this.response)return this.response;let t=this.importStep.step(e);if(t)return t;let r=e.parseStep.response;if(e.root.logger.hasErrors())return this.response=e.fatalErrors(),this.response;let i=r==null?void 0:r.parse;if(!i)throw new Error("TRANSLATOR INTERNAL ERROR: Translator parse response had no errors, but also no parser");let o=new _1t.MalloyToAST(i,e.root.logger).visit(i.root);if(e.root.logger.hasErrors())return this.response=e.fatalErrors(),this.response;if(o.elementType==="unimplemented")throw new Error("TRANSLATOR INTERNAL ERROR: Unimplemented AST node");let a={};if(this.walked||(o.walk(p=>{p instanceof Nz.SQLSource?(a[p.refName]||(a[p.refName]={}),a[p.refName].ref=p):p instanceof Nz.SQLStatement&&p.is?(a[p.is]||(a[p.is]={}),a[p.is].def=p):p instanceof Nz.Unimplemented&&p.log("INTERNAL COMPILER ERROR: Untranslated parse node")}),this.walked=!0),e.root.logger.hasErrors())return this.response=e.fatalErrors(),this.response;let l=e.root.sqlQueryZone;for(let p in a){let _=a[p];if(_.ref&&_.def){let E={url:e.sourceURL,range:_.def.location.range};e.root.sqlQueryZone.referenceBlock(_.def,E)}}for(let p of e.childTranslators.values()){let _=p.astStep.step(p);if(Lz(_))return _}let f=l.getUndefinedBlocks();return f?{sqlStructs:f}:(o.setTranslator(e),this.response={...e.errors(),ast:o,final:!0},this.response)}},m9e=class{constructor(e){this.parseStep=e}step(e){if(!this.response){let t=this.parseStep.step(e);if(t.parse){let r;try{r=(0,S1t.walkForDocumentSymbols)(e,t.parse.tokenStream,t.parse.root)}catch{}let i;try{i=(0,qae.walkForDocumentHighlights)(t.parse.tokenStream,t.parse.root)}catch{i=[]}this.response={symbols:r,highlights:(0,qae.sortHighlights)([...(0,qae.passForHighlights)(t.parse.tokenStream),...i]),final:!0}}else return t}return this.response}},x9e=class{constructor(e){this.parseStep=e}step(e,t){let r=this.parseStep.step(e);if(r.parse){let i=[];if(t!==void 0)try{i=(0,w1t.walkForDocumentCompletions)(r.parse.tokenStream,r.parse.root,t)}catch{}return{...r,completions:i}}else return r}},g9e=class{constructor(e){this.parseStep=e}step(e,t){let r=this.parseStep.step(e);if(r.parse){let i;if(t!==void 0)try{i=(0,C1t.walkForDocumentHelpContext)(r.parse.root,t)}catch{}return{...r,helpContext:i}}else return r}},y9e=class{constructor(e){this.astStep=e}step(e,t){if(this.response)return this.response;let r=this.astStep.step(e);if(Lz(r))return r;if(!r.ast)return this.response=r,this.response;if(e.grammarRule==="malloyDocument")if(r.ast instanceof Nz.Document){let i=r.ast;e.modelDef=i.getModelDef(t),e.queryList=i.queryList,e.sqlBlocks=i.sqlBlocks}else e.root.logger.log({message:`'${e.sourceURL}' did not parse to malloy document`,at:e.defaultLocation()});return e.root.logger.hasErrors()?this.response=e.fatalErrors():this.response={translated:{modelDef:e.modelDef,queryList:e.queryList,sqlBlocks:e.sqlBlocks},...e.errors(),final:!0},this.response}},kz=class{constructor(e,t="malloyDocument"){this.sourceURL=e,this.grammarRule=t,this.queryList=[],this.sqlBlocks=[],this.childTranslators=new Map,this.modelDef={name:e,exports:[],contents:{}},this.parseStep=new d9e,this.metadataStep=new m9e(this.parseStep),this.completionsStep=new x9e(this.parseStep),this.helpContextStep=new g9e(this.parseStep),this.importsAndTablesStep=new h9e(this.parseStep),this.astStep=new p9e(this.importsAndTablesStep),this.translateStep=new y9e(this.astStep),this.references=new A1t.ReferenceList(e)}addChild(e){this.childTranslators.get(e)||this.childTranslators.set(e,new v9e(e,this.root))}addReference(e){this.references.add(e)}referenceAt(e){return this.references.find(e)}fatalErrors(){return{final:!0,errors:[...this.root.logger.getLog()]}}errors(){return{errors:[...this.root.logger.getLog()]}}getLineMap(e){var t,r;if(e==this.sourceURL)return(t=this.parseStep.sourceInfo)===null||t===void 0?void 0:t.lines;let i=this.childTranslators.get(e);if(i)return(r=i.parseStep.sourceInfo)===null||r===void 0?void 0:r.lines}prettyErrors(){let e="",t="";for(let r of this.root.logger.getLog()){let i=r.message,s=this.sourceURL;if(r.at){s=r.at.url;let o=r.at.range.start.line,a=r.at.range.start.character,l=this.getLineMap(r.at.url);if(l){let f=l[o];i=`line ${o+1}: ${r.message}
  | ${f}`,a>0&&(i=i+`
  | ${" ".repeat(a)}^`)}else i=`line ${o+1}: char ${a}: ${r.message}`}t!==s&&(i=`FILE: ${s}
`+i,t=s),e!==""?e=`${e}
${i}`:e=i}return e}getChildExports(e){let t={},r=decodeURI(new URL(e,this.sourceURL).toString()),i=this.childTranslators.get(r);if(i&&i.translate().translated)for(let o of i.modelDef.exports){let a=i.modelDef.contents[o];a.type==="struct"&&(t[o]=a)}return t}translate(e){if(this.finalAnswer)return this.finalAnswer;let t=this.translateStep.step(this,e);return t.final&&(this.finalAnswer=t),t}metadata(){return this.metadataStep.step(this)}completions(e){return this.completionsStep.step(this,e)}helpContext(e){return this.helpContextStep.step(this,e)}defaultLocation(){return{url:this.sourceURL,range:{start:{line:0,character:0},end:{line:0,character:0}}}}rangeFromContext(e){return this.rangeFromTokens(e.start,e.stop||e.start)}rangeFromTokens(e,t){let r={line:e.line-1,character:e.charPositionInLine};if(this.parseStep.sourceInfo&&t.stopIndex!=-1){let i=this.parseStep.sourceInfo.lines.length-1;for(let s=e.line-1;s<=i;s++){let o=this.parseStep.sourceInfo.at[s];if(t.stopIndex>=o.begin&&t.stopIndex<=o.end)return{start:r,end:{line:s,character:t.stopIndex-o.begin+1}}}return{start:r,end:{line:i,character:this.parseStep.sourceInfo.lines[i].length}}}return{start:r,end:r}}rangeFromToken(e){return this.rangeFromTokens(e,e)}};bh.MalloyTranslation=kz;var v9e=class extends kz{constructor(e,t){super(e);this.root=t}},_9e=class extends kz{constructor(e,t=null){super(e);this.schemaZone=new jae.Zone,this.importZone=new jae.Zone,this.sqlQueryZone=new Uae,this.logger=new b1t.MessageLog,this.root=this,t&&this.update(t)}update(e){var t,r,i;this.schemaZone.updateFrom(e.tables,(t=e.errors)===null||t===void 0?void 0:t.tables),this.importZone.updateFrom(e.urls,(r=e.errors)===null||r===void 0?void 0:r.urls),this.sqlQueryZone.updateFrom(e.sqlStructs,(i=e.errors)===null||i===void 0?void 0:i.sqlStructs)}};bh.MalloyTranslator=_9e});var E9e=Ae(vC=>{"use strict";m();Object.defineProperty(vC,"__esModule",{value:!0});vC.exploreQueryWalkerBuilder=vC.ExploreQueryWalker=void 0;var T1t=Tb(),$ae=class{constructor(e){this.inDocument=!1,this.exploreClauseRefs=[],this.tokens=e}exploreQueryAtOffset(e){return this.exploreClauseRefs.find(t=>t.range[0]===void 0||t.range[1]===void 0?!1:t.range[0]<=e&&t.range[1]>=e)}filterAtOffset(e){let t=this.exploreQueryAtOffset(e);if(!!t)return t.filterRefs.find(r=>r.range[0]===void 0||r.range[1]===void 0?!1:r.range[0]<=e&&r.range[1]>=e)}hasFilterListAtOffset(e){let t=this.exploreQueryAtOffset(e);return t?!!t.filterLists.find(r=>r.range[0]===void 0||r.range[1]===void 0?!1:r.range[0]<=e&&r.range[1]>=e):!1}enterMalloyDocument(){this.inDocument=!0}};vC.ExploreQueryWalker=$ae;function F1t(n,e){let t=new $ae(n),r=t;return T1t.ParseTreeWalker.DEFAULT.walk(r,e),t}vC.exploreQueryWalkerBuilder=F1t});var zae=Ae(T4=>{"use strict";m();Object.defineProperty(T4,"__esModule",{value:!0});T4.HighlightType=T4.exploreQueryWalkerBuilder=T4.MalloyTranslator=void 0;var D1t=b9e();Object.defineProperty(T4,"MalloyTranslator",{enumerable:!0,get:function(){return D1t.MalloyTranslator}});var O1t=E9e();Object.defineProperty(T4,"exploreQueryWalkerBuilder",{enumerable:!0,get:function(){return O1t.exploreQueryWalkerBuilder}});var R1t=Bae();Object.defineProperty(T4,"HighlightType",{enumerable:!0,get:function(){return R1t.HighlightType}})});var R9e=Ae(Zr=>{"use strict";m();Object.defineProperty(Zr,"__esModule",{value:!0});Zr.CSVWriter=Zr.JSONWriter=Zr.DataWriter=Zr.DataRecord=Zr.DataArray=Zr.Result=Zr.ExploreMaterializer=Zr.SQLBlockMaterializer=Zr.PreparedResultMaterializer=Zr.QueryMaterializer=Zr.ModelMaterializer=Zr.SingleConnectionRuntime=Zr.ConnectionRuntime=Zr.Runtime=Zr.ExploreField=Zr.JoinRelationship=Zr.QueryField=Zr.Query=Zr.StringField=Zr.BooleanField=Zr.NumberField=Zr.TimestampField=Zr.DateField=Zr.TimestampTimeframe=Zr.DateTimeframe=Zr.AtomicField=Zr.AtomicFieldType=Zr.Explore=Zr.SourceRelationship=Zr.FixedConnectionMap=Zr.InMemoryURLReader=Zr.EmptyURLReader=Zr.PreparedResult=Zr.DocumentCompletion=Zr.DocumentSymbol=Zr.DocumentPosition=Zr.DocumentRange=Zr.DocumentHighlight=Zr.Parse=Zr.parseTableURI=Zr.PreparedQuery=Zr.Model=Zr.MalloyError=Zr.Malloy=void 0;var N1t=zae(),SR=q8(),Yc=class{static get version(){return"0.0.1"}static get log(){return Yc._log||console}static setLogger(e){Yc._log=e}static _parse(e,t){t===void 0&&(t=new URL("internal://internal.malloy"));let r=new N1t.MalloyTranslator(t.toString(),{urls:{[t.toString()]:e}});return new Vae(r)}static parse({url:e,urlReader:t,source:r}){if(r!==void 0)return Yc._parse(r,e);if(t===void 0)throw new Error("Internal Error: urlReader is required.");if(e===void 0)throw new Error("Internal Error: url is required if source not present.");return t.readURL(e).then(i=>Yc._parse(i,e))}static async compile({urlReader:e,connections:t,parse:r,model:i}){let s=r._translator;for(;;){let o=s.translate(i==null?void 0:i._modelDef);if(o.final){if(o.translated)return new wR(o.translated.modelDef,o.translated.queryList,o.translated.sqlBlocks,a=>s.referenceAt(a));{let a=o.errors||[],l=s.prettyErrors();throw new Hae(`Error(s) compiling model:
${l}`,a)}}else{if(o.urls)for(let a of o.urls)try{if(a.startsWith("internal://"))throw new Error("In order to use relative imports, you must compile a file via a URL.");let l=await e.readURL(new URL(a)),f={[a]:l};s.update({urls:f})}catch(l){s.update({errors:{urls:{[a]:l.message}}})}if(o.tables){let a=new Map;for(let l of o.tables){let{connectionName:f}=S9e(l),p=a.get(f);p?p.push(l):p=[l],a.set(f,p)}for(let[l,f]of a)try{let p=await t.lookupConnection(l),{schemas:_,errors:E}=await p.fetchSchemaForTables(f);s.update({tables:_,errors:{tables:E}})}catch(p){let _={},E={};for(let O of f)E[O]=p.toString();s.update({tables:_,errors:{tables:E}})}}if(o.sqlStructs){let a=new Map;for(let l of o.sqlStructs){let f=l.connection,p=a.get(f);p?p.push(l):p=[l],a.set(f,p)}for(let[l,f]of a)try{let p=await t.lookupConnection(l),{schemas:_,errors:E}=await p.fetchSchemaForSQLBlocks(f);s.update({sqlStructs:_}),s.update({sqlStructs:_,errors:{sqlStructs:E}})}catch(p){let _={},E={};for(let O of f)E[O.name]=p.toString();s.update({sqlStructs:_,errors:{sqlStructs:E}})}}}}}static async runSQLBlockAndFetchResultSchema(e,t,r){if(e.canFetchSchemaAndRunSimultaneously())return e.runSQLBlockAndFetchResultSchema(t,r);let[i,s]=await Promise.all([e.fetchSchemaForSQLBlocks([t]).then(o=>o.schemas[t.name]),e.runSQL(t.select)]);return{schema:i,data:s}}static async run({connections:e,preparedResult:t,sqlBlock:r,connection:i,options:s}){if(r===void 0&&t===void 0)throw new Error("Internal error: sqlBlock or preparedResult must be provided.");let o=(r==null?void 0:r.connection)||(t==null?void 0:t.connectionName);if(i===void 0){if(e===void 0)throw new Error("Internal Error: Connection or LookupConnection<Connection> must be provided.");i=await e.lookupConnection(o)}if(r!==void 0){let{schema:a,data:l}=await this.runSQLBlockAndFetchResultSchema(i,r,s);if(a.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");return new CC({structs:[a],sql:r.select,result:l.rows,totalRows:l.totalRows,lastStageName:a.name,malloy:"",connectionName:a.structRelationship.connectionName,sourceExplore:"",sourceFilters:[]},{name:"empty_model",exports:[],contents:{}})}else if(t!==void 0){let a=await i.runSQL(t.sql,s);return new CC({...t._rawQuery,result:a.rows,totalRows:a.totalRows},t._modelDef)}else throw new Error("Internal error: sqlBlock or preparedResult must be provided.")}static async*runStream({connections:e,preparedResult:t,sqlBlock:r,connection:i,options:s}){if(r===void 0&&t===void 0)throw new Error("Internal error: sqlBlock or preparedResult must be provided.");let o=(r==null?void 0:r.connection)||(t==null?void 0:t.connectionName);if(i===void 0){if(e===void 0)throw new Error("Internal Error: Connection or LookupConnection<Connection> must be provided.");i=await e.lookupConnection(o)}if(!i.canStream())throw new Error(`Connection '${o}' cannot stream results.`);let a,l;if(r!==void 0){let p=(await i.fetchSchemaForSQLBlocks([r])).schemas[r.name];if(p.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");l=new Ix(p),a=r.select}else if(t!==void 0)l=t.resultExplore,a=t.sql;else throw new Error("Internal error: sqlBlock or preparedResult must be provided.");let f=0;for await(let p of i.runSQLStream(a,s))yield new F4(p,f,l,void 0),f+=1}};Zr.Malloy=Yc;var Hae=class extends Error{constructor(e,t=[]){super(e);this.log=t}};Zr.MalloyError=Hae;var wR=class{constructor(e,t,r,i=()=>{}){this.modelDef=e,this.queryList=t,this.sqlBlocks=r,this._referenceAt=i}getReference(e){return this._referenceAt(e)}getPreparedQueryByName(e){let t=this.modelDef.contents[e];if(t.type==="query")return new Dy(t,this.modelDef,e);throw new Error("Given query name does not refer to a named query.")}getPreparedQueryByIndex(e){if(e<0)throw new Error(`Invalid index ${e}.`);if(e>=this.queryList.length)throw new Error(`Query index ${e} is out of bounds.`);return new Dy(this.queryList[e],this.modelDef)}getSQLBlockByName(e){let t=this.sqlBlocks.find(r=>r.as===e);if(t===void 0)throw new Error(`No SQL Block named '${e}'`);return t}getSQLBlockByIndex(e){let t=this.sqlBlocks[e];if(t===void 0)throw new Error(`No SQL Block at index ${e}`);return t}get preparedQuery(){if(this.queryList.length===0)throw new Error("Model has no queries.");return new Dy(this.queryList[this.queryList.length-1],this.modelDef)}getExploreByName(e){let t=this.modelDef.contents[e];if(t.type==="struct")return new Ix(t);throw new Error("'name' is not an explore")}get explores(){let e=[];for(let t in this.modelDef.contents){let r=this.modelDef.contents[t];r.type==="struct"&&e.push(new Ix(r))}return e}get exportedExplores(){return this.explores.filter(e=>this.modelDef.exports.includes(e.name))}get _modelDef(){return this.modelDef}};Zr.Model=wR;var Dy=class{constructor(e,t,r){this._query=e,this._modelDef=t,this.name=r}get preparedResult(){let t=new SR.QueryModel(this._modelDef).compileQuery(this._query);return new Mz({...t,queryName:this.name||t.queryName},this._modelDef)}get dialect(){let e=this._query.structRef,t=typeof e=="string"?this._modelDef.contents[e]:e;if(t.type!=="struct")throw new Error("Invalid source for query");return t.dialect}getFlattenedQuery(e){let t=this._query.structRef;typeof t!="string"&&(t=t.as||t.name);let r=(0,SR.flattenQuery)(this._modelDef,{...this._query,type:"query",name:"as"in this._query?this._query.as||this._query.name:e});return new Dy({...r,structRef:t,type:"query"},this._modelDef,this.name||r.as||r.name)}};Zr.PreparedQuery=Dy;function S9e(n){let[e,t]=n.split(":");return t?{connectionName:e,tablePath:t}:{tablePath:e}}Zr.parseTableURI=S9e;var Vae=class{constructor(e){this.translator=e}get highlights(){return(this.translator.metadata().highlights||[]).map(e=>new Wae(e))}get symbols(){return(this.translator.metadata().symbols||[]).map(e=>new CR(e))}get _translator(){return this.translator}completions(e){return(this.translator.completions(e).completions||[]).map(t=>new Qae(t))}helpContext(e){return this.translator.helpContext(e).helpContext}};Zr.Parse=Vae;var Wae=class{constructor(e){this._range=new Iz(new _C(e.range.start.line,e.range.start.character),new _C(e.range.end.line,e.range.end.character)),this._type=e.type}get range(){return this._range}get type(){return this._type}};Zr.DocumentHighlight=Wae;var Iz=class{constructor(e,t){this._start=e,this._end=t}get start(){return this._start}get end(){return this._end}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}};Zr.DocumentRange=Iz;var _C=class{constructor(e,t){this._line=e,this._character=t}get line(){return this._line}get character(){return this._character}toJSON(){return{line:this.line,character:this.character}}};Zr.DocumentPosition=_C;var CR=class{constructor(e){this._range=new Iz(new _C(e.range.start.line,e.range.start.character),new _C(e.range.end.line,e.range.end.character)),this._type=e.type,this._name=e.name,this._children=e.children.map(t=>new CR(t))}get range(){return this._range}get type(){return this._type}get name(){return this._name}get children(){return this._children}};Zr.DocumentSymbol=CR;var Qae=class{constructor(e){this.type=e.type,this.text=e.text}};Zr.DocumentCompletion=Qae;var Mz=class{constructor(e,t){this.inner=e,this.modelDef=t}get connectionName(){return this.inner.connectionName}get _rawQuery(){return this.inner}get _modelDef(){return this.modelDef}get sql(){return this.inner.sql}get resultExplore(){if(this.inner.structs.length===0)throw new Error("Malformed query result.");let e=this.inner.structs[this.inner.structs.length-1],t={...e,name:this.inner.queryName||e.name};try{return new Ix(t,this.sourceExplore)}catch{return new Ix(t)}}get sourceExplore(){let e=this.inner.sourceExplore,t=this.modelDef.contents[e];if(t===void 0)throw new Error("Malformed query result.");if(t.type==="struct")return new Ix(t);throw new Error(`'${e} is not an explore`)}get _sourceExploreName(){return this.inner.sourceExplore}get _sourceFilters(){return this.inner.sourceFilters||[]}};Zr.PreparedResult=Mz;var Gae=class{async readURL(e){throw new Error("No files.")}};Zr.EmptyURLReader=Gae;var w9e=class{constructor(e){this.files=e}async readURL(e){let t=this.files.get(e.toString());if(t!==void 0)return Promise.resolve(t);throw new Error(`File not found '${e}'`)}};Zr.InMemoryURLReader=w9e;var bC=class{constructor(e,t){this.connections=e,this.defaultConnectionName=t}async getConnection(e){if(e===void 0)if(this.defaultConnectionName!==void 0)e=this.defaultConnectionName;else throw new Error("No default connection.");let t=this.connections.get(e);if(t!==void 0)return Promise.resolve(t);throw new Error(`No connection found with name ${e}.`)}async lookupConnection(e){return this.getConnection(e)}static fromArray(e){return new bC(new Map(e.map(t=>[t.name,t])))}};Zr.FixedConnectionMap=bC;var Fb;(function(n){n.Nested="nested",n.BaseTable="base_table",n.Cross="cross",n.One="one",n.Many="many",n.Inline="inline"})(Fb=Zr.SourceRelationship||(Zr.SourceRelationship={}));var Pz=class{constructor(e,t,r){this._name=e,this._parent=t,this._source=r}get source(){return this.source}get name(){return this._name}get sourceClasses(){let e=[];return this.source&&e.push(this.source.name),e.push(this.name),e}hasParentExplore(){return this._parent!==void 0}isExplore(){return this instanceof Ix}isQuery(){return this instanceof $z}},Ix=class extends Pz{constructor(e,t,r){super(e.as||e.name,t,r);this._structDef=e,this._parentExplore=t,this.sourceExplore=r}get source(){return this.sourceExplore}isIntrinsic(){return(0,SR.FieldIsIntrinsic)(this._structDef)}get name(){return this.structDef.as||this.structDef.name}getQueryByName(e){let t={type:"query",structRef:this.structDef,pipeline:[{type:"reduce",fields:[e]}]};return new Dy(t,this.modelDef,e)}get modelDef(){return{name:"generated_model",exports:[],contents:{[this.structDef.name]:this.structDef}}}getSingleExploreModel(){return new wR(this.modelDef,[],[])}get fieldMap(){var e;if(this._fieldMap===void 0){let t=((e=this.source)===null||e===void 0?void 0:e.fieldMap)||new Map;this._fieldMap=new Map(this.structDef.fields.map(r=>{let i=r.as||r.name,s=t.get(r.name);if(r.type==="struct")return[i,new zz(r,this,s)];if(r.type==="turtle")return[i,new $z(r,this,s)];if(r.type==="string")return[i,new Uz(r,this,s)];if(r.type==="number")return[i,new AR(r,this,s)];if(r.type==="date")return r.timeframe&&["day_of_month","day_of_week","day_of_year"].includes(r.timeframe)?[i,new AR({...r,type:"number"},this,s)]:[i,new Bz(r,this,s)];if(r.type==="timestamp")return[i,new jz(r,this,s)];if(r.type==="boolean")return[i,new qz(r,this,s)]}))}return this._fieldMap}get allFields(){return[...this.fieldMap.values()]}get intrinsicFields(){return[...this.fieldMap.values()].filter(e=>e.isIntrinsic())}getFieldByName(e){let t=this.fieldMap.get(e);if(t===void 0)throw new Error(`No such field ${e}.`);return t}getFieldByNameIfExists(e){return this.fieldMap.get(e)}get primaryKey(){return this.structDef.primaryKey}get parentExplore(){return this._parentExplore}get sourceRelationship(){switch(this.structDef.structRelationship.type){case"many":return Fb.Many;case"one":return Fb.One;case"cross":return Fb.Cross;case"inline":return Fb.Inline;case"nested":return Fb.Nested;case"basetable":return Fb.BaseTable}}hasParentExplore(){return this instanceof zz}get filters(){var e;return((e=this.structDef.resultMetadata)===null||e===void 0?void 0:e.filterList)||[]}get limit(){var e;return(e=this.structDef.resultMetadata)===null||e===void 0?void 0:e.limit}get structDef(){return this._structDef}};Zr.Explore=Ix;var EC;(function(n){n.String="string",n.Number="number",n.Boolean="boolean",n.Date="date",n.Timestamp="timestamp"})(EC=Zr.AtomicFieldType||(Zr.AtomicFieldType={}));var Db=class extends Pz{constructor(e,t,r){super(e.as||e.name,t,r);this.fieldTypeDef=e,this.parent=t}get type(){switch(this.fieldTypeDef.type){case"string":return EC.String;case"boolean":return EC.Boolean;case"date":return EC.Date;case"timestamp":return EC.Timestamp;case"number":return EC.Number}}isIntrinsic(){return(0,SR.FieldIsIntrinsic)(this.fieldTypeDef)}isQueryField(){return!1}isExploreField(){return!1}isAtomicField(){return!0}isAggregate(){return!!this.fieldTypeDef.aggregate}get sourceField(){throw new Error}get sourceClasses(){let e=this.fieldTypeDef.name||this.fieldTypeDef.as;return e?[e]:[]}sourceWasMeasure(){var e;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="measure"}sourceWasMeasureLike(){var e,t;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="measure"||((t=this.fieldTypeDef.resultMetadata)===null||t===void 0?void 0:t.fieldKind)==="struct"}sourceWasDimension(){var e;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="dimension"}hasParentExplore(){return!0}isString(){return this instanceof Uz}isNumber(){return this instanceof AR}isDate(){return this instanceof Bz}isBoolean(){return this instanceof qz}isTimestamp(){return this instanceof jz}get parentExplore(){return this.parent}get expression(){var e,t;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.sourceExpression)||((t=this.fieldTypeDef.resultMetadata)===null||t===void 0?void 0:t.sourceField)||this.name}};Zr.AtomicField=Db;var SC;(function(n){n.Day="day",n.Week="week",n.Month="month",n.Quarter="quarter",n.Year="year"})(SC=Zr.DateTimeframe||(Zr.DateTimeframe={}));var Oy;(function(n){n.Day="day",n.Week="week",n.Month="month",n.Quarter="quarter",n.Year="year",n.Second="second",n.Hour="hour",n.Minute="minute"})(Oy=Zr.TimestampTimeframe||(Zr.TimestampTimeframe={}));var Bz=class extends Db{constructor(e,t,r){super(e,t,r);this.fieldDateDef=e}get timeframe(){if(this.fieldDateDef.timeframe!==void 0)switch(this.fieldDateDef.timeframe){case"day":return SC.Day;case"week":return SC.Week;case"month":return SC.Month;case"quarter":return SC.Quarter;case"year":return SC.Year}}};Zr.DateField=Bz;var jz=class extends Db{constructor(e,t,r){super(e,t,r);this.fieldTimestampDef=e}get timeframe(){if(this.fieldTimestampDef.timeframe!==void 0)switch(this.fieldTimestampDef.timeframe){case"day":return Oy.Day;case"week":return Oy.Week;case"month":return Oy.Month;case"quarter":return Oy.Quarter;case"year":return Oy.Year;case"second":return Oy.Second;case"hour":return Oy.Hour;case"minute":return Oy.Minute}}};Zr.TimestampField=jz;var AR=class extends Db{constructor(e,t,r){super(e,t,r);this.fieldNumberDef=e}};Zr.NumberField=AR;var qz=class extends Db{constructor(e,t,r){super(e,t,r);this.fieldBooleanDef=e}};Zr.BooleanField=qz;var Uz=class extends Db{constructor(e,t,r){super(e,t,r);this.fieldStringDef=e}};Zr.StringField=Uz;var Yae=class extends Pz{constructor(e,t,r){super(e.as||e.name,t,r);this.turtleDef=e}get source(){return this.sourceQuery}isIntrinsic(){return!1}};Zr.Query=Yae;var $z=class extends Yae{constructor(e,t,r){super(e,t,r);this.parent=t}isQueryField(){return!0}isExploreField(){return!1}isAtomicField(){return!1}get sourceClasses(){let e=this.turtleDef.name||this.turtleDef.as;return e?[e]:[]}hasParentExplore(){return!0}get parentExplore(){return this.parent}get expression(){return this.name}};Zr.QueryField=$z;var TR;(function(n){n.OneToOne="one_to_one",n.OneToMany="one_to_many",n.ManyToOne="many_to_one"})(TR=Zr.JoinRelationship||(Zr.JoinRelationship={}));var zz=class extends Ix{constructor(e,t,r){super(e,t,r);this._parentExplore=t}get joinRelationship(){switch(this.structDef.structRelationship.type){case"one":return TR.OneToMany;case"many":case"cross":return TR.ManyToOne;case"inline":return TR.OneToOne;case"nested":return TR.ManyToOne;default:throw new Error("An explore field must have a join relationship.")}}isQueryField(){return!1}isExploreField(){return!0}isAtomicField(){return!1}get parentExplore(){return this._parentExplore}get sourceClasses(){let e=this.structDef.name||this.structDef.as;return e?[e]:[]}};Zr.ExploreField=zz;var Hz=class{constructor(...e){let t,r;for(let i of e)L1t(i)?t=i:k1t(i)?r=i:r={lookupConnection:()=>Promise.resolve(i)};if(t===void 0&&(t=new Gae),r===void 0)throw new Error("A LookupConnection<Connection> or Connection is required.");this._urlReader=t,this._connections=r}get urlReader(){return this._urlReader}get connections(){return this._connections}loadModel(e){return new Vz(this,async()=>{let t=e instanceof URL?await Yc.parse({url:e,urlReader:this.urlReader}):Yc.parse({source:e});return Yc.compile({urlReader:this.urlReader,connections:this.connections,parse:t})})}_loadModelFromModelDef(e){return new Vz(this,async function(){return new wR(e,[],[])})}loadQuery(e){return this.loadModel(e).loadFinalQuery()}loadQueryByIndex(e,t){return this.loadModel(e).loadQueryByIndex(t)}loadQueryByName(e,t){return this.loadModel(e).loadQueryByName(t)}loadSQLBlockByName(e,t){return this.loadModel(e).loadSQLBlockByName(t)}loadSQLBlockByIndex(e,t){return this.loadModel(e).loadSQLBlockByIndex(t)}getModel(e){return this.loadModel(e).getModel()}getQuery(e){return this.loadQuery(e).getPreparedQuery()}getQueryByIndex(e,t){return this.loadQueryByIndex(e,t).getPreparedQuery()}getQueryByName(e,t){return this.loadQueryByName(e,t).getPreparedQuery()}getSQLBlockByName(e,t){return this.loadSQLBlockByName(e,t).getSQLBlock()}getSQLBlockByIndex(e,t){return this.loadSQLBlockByIndex(e,t).getSQLBlock()}};Zr.Runtime=Hz;var C9e=class extends Hz{constructor(e,t){if(t===void 0){let r=e;super(bC.fromArray(r));this.rawConnections=r}else{let r=t;super(e,bC.fromArray(r));this.rawConnections=r}}};Zr.ConnectionRuntime=C9e;var A9e=class extends Hz{constructor(e,t){if(t===void 0){let r=e;super(r);this.connection=r}else{let r=t;super(e,r);this.connection=r}}};Zr.SingleConnectionRuntime=A9e;var wC=class{constructor(e,t){this.runtime=e,this._materialize=t}materialize(){return this.materialized===void 0?this.rematerialize():this.materialized}rematerialize(){return this.materialized=this._materialize(),this.materialized}makeQueryMaterializer(e){return new Kae(this.runtime,e)}makeExploreMaterializer(e){return new Zae(this.runtime,e)}makePreparedResultMaterializer(e){return new Jae(this.runtime,e)}makeSQLBlockMaterializer(e){return new Xae(this.runtime,e)}},Vz=class extends wC{loadFinalQuery(){return this.makeQueryMaterializer(async()=>(await this.materialize()).preparedQuery)}loadQueryByIndex(e){return this.makeQueryMaterializer(async()=>(await this.materialize()).getPreparedQueryByIndex(e))}loadQueryByName(e){return this.makeQueryMaterializer(async()=>(await this.materialize()).getPreparedQueryByName(e))}loadQuery(e){return this.makeQueryMaterializer(async()=>{let t=this.runtime.urlReader,r=this.runtime.connections,i=e instanceof URL?await Yc.parse({url:e,urlReader:t}):Yc.parse({source:e}),s=await this.getModel();return(await Yc.compile({urlReader:t,connections:r,parse:i,model:s})).preparedQuery})}async search(e,t,r=1e3,i=void 0){let s=await this.materialize(),o=new SR.QueryModel(s._modelDef),a=s.getExploreByName(e).structDef;if(a.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");let l=a.structRelationship.connectionName,f=await this.runtime.connections.lookupConnection(l);return await o.searchIndex(f,e,t,r,i)}async searchValueMap(e,t=10){let i=(await this.materialize()).getExploreByName(e);if(i.structDef.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");let s="{index: *}";i.getFieldByNameIfExists("search_index")&&(s="search_index");let o=`
      query: ${e}
        -> ${s}
        -> {
          where: fieldType = 'string'
          group_by: fieldName
          aggregate: cardinality is count(distinct fieldValue)
          nest: values is {
            project: fieldValue, weight
            order_by: weight desc
            limit: ${t}
          }
          limit: 1000
        }
    `;return(await this.loadQuery(o).run({rowLimit:1e3}))._queryResult.result}loadSQLBlockByName(e){return this.makeSQLBlockMaterializer(async()=>(await this.materialize()).getSQLBlockByName(e))}loadSQLBlockByIndex(e){return this.makeSQLBlockMaterializer(async()=>(await this.materialize()).getSQLBlockByIndex(e))}getFinalQuery(){return this.loadFinalQuery().getPreparedQuery()}getQueryByIndex(e){return this.loadQueryByIndex(e).getPreparedQuery()}getQueryByName(e){return this.loadQueryByName(e).getPreparedQuery()}getQuery(e){return this.loadQuery(e).getPreparedQuery()}getSQLBlockByName(e){return this.loadSQLBlockByName(e).getSQLBlock()}getSQLBlockByIndex(e){return this.loadSQLBlockByIndex(e).getSQLBlock()}_loadQueryFromQueryDef(e){return this.makeQueryMaterializer(async()=>{let t=await this.materialize();return new Dy(e,t._modelDef)})}loadExploreByName(e){return this.makeExploreMaterializer(async()=>(await this.materialize()).getExploreByName(e))}getExploreByName(e){return this.loadExploreByName(e).getExplore()}getModel(){return this.materialize()}};Zr.ModelMaterializer=Vz;var Kae=class extends wC{async run(e){let t=this.runtime.connections,r=await this.getPreparedResult();return Yc.run({connections:t,preparedResult:r,options:e})}async*runStream(e){let t=await this.getPreparedResult(),r=this.runtime.connections,i=Yc.runStream({connections:r,preparedResult:t,options:e});for await(let s of i)yield s}loadPreparedResult(){return this.makePreparedResultMaterializer(async()=>(await this.materialize()).preparedResult)}getPreparedResult(){return this.loadPreparedResult().getPreparedResult()}async getSQL(){return(await this.getPreparedResult()).sql}getPreparedQuery(){return this.materialize()}};Zr.QueryMaterializer=Kae;var Jae=class extends wC{async run(e){let t=await this.getPreparedResult(),r=this.runtime.connections;return Yc.run({connections:r,preparedResult:t,options:e})}async*runStream(e){let t=await this.getPreparedResult(),r=this.runtime.connections,i=Yc.runStream({connections:r,preparedResult:t,options:e});for await(let s of i)yield s}getPreparedResult(){return this.materialize()}async getSQL(){return(await this.getPreparedResult()).sql}};Zr.PreparedResultMaterializer=Jae;var Xae=class extends wC{async run(e){let t=await this.getSQLBlock(),r=this.runtime.connections;return Yc.run({connections:r,sqlBlock:t,options:e})}async*runStream(e){let t=await this.getSQLBlock(),r=this.runtime.connections,i=Yc.runStream({connections:r,sqlBlock:t,options:e});for await(let s of i)yield s}getSQLBlock(){return this.materialize()}async getSQL(){return(await this.getSQLBlock()).select}};Zr.SQLBlockMaterializer=Xae;var Zae=class extends wC{loadQueryByName(e){return this.makeQueryMaterializer(async()=>(await this.materialize()).getQueryByName(e))}getQueryByName(e){return this.loadQueryByName(e).getPreparedQuery()}getExplore(){return this.materialize()}};Zr.ExploreMaterializer=Zae;var CC=class extends Mz{constructor(e,t){super(e,t);this.inner=e}get _queryResult(){return this.inner}get data(){return new AC(this.inner.result,this.resultExplore,void 0)}get totalRows(){return this.inner.totalRows}toJSON(){return{queryResult:this.inner,modelDef:this._modelDef}}static fromJSON({queryResult:e,modelDef:t}){return new CC(e,t)}};Zr.Result=CC;var FR=class{constructor(e){this._field=e}get field(){return this._field}isString(){return this instanceof eue}get string(){if(this.isString())return this;throw new Error("Not a string.")}isBoolean(){return this instanceof tue}get boolean(){if(this.isBoolean())return this;throw new Error("Not a boolean.")}isNumber(){return this instanceof nue}get number(){if(this.isNumber())return this;throw new Error("Not a number.")}isTimestamp(){return this instanceof rue}get timestamp(){if(this.isTimestamp())return this;throw new Error("Not a timestamp.")}isDate(){return this instanceof iue}get date(){if(this.isDate())return this;throw new Error("Not a date.")}isNull(){return this instanceof sue}isBytes(){return this instanceof T9e}get bytes(){if(this.isBytes())return this;throw new Error("Not bytes.")}isRecord(){return this instanceof F4}get record(){if(this.isRecord())return this;throw new Error("Not a record.")}isArray(){return this instanceof AC}get array(){if(this.isArray())return this;throw new Error("Not an array.")}isArrayOrRecord(){if(this instanceof AC||this instanceof F4)return this;throw new Error("No Array or Record")}},Ob=class extends FR{constructor(e,t){super(t);this._value=e,this._field=t}get value(){return this._value}get field(){return this._field}},eue=class extends Ob{constructor(e,t){super(e,t);this._field=t}get field(){return this._field}},tue=class extends Ob{constructor(e,t){super(e,t);this._field=t}get field(){return this._field}},nue=class extends Ob{constructor(e,t){super(e,t);this._field=t}get field(){return this._field}},rue=class extends Ob{constructor(e,t){super(e,t);this._field=t}get value(){return this._value instanceof Date?this._value:typeof this._value=="number"?new Date(super.value):typeof this._value!="string"?new Date(this._value.value):new Date(super.value)}get field(){return this._field}},iue=class extends Ob{constructor(e,t){super(e,t);this._field=t}get value(){return this._value instanceof Date?this._value:typeof this._value!="string"?new Date(this._value.value):new Date(super.value)}get field(){return this._field}},T9e=class extends Ob{},sue=class extends FR{get value(){return null}},AC=class extends FR{constructor(e,t,r){super(t);this.parent=r,this.queryData=e,this._field=t}get field(){return this._field}toObject(){return this.queryData}path(...e){return F9e(this,e)}row(e){return new F4(this.queryData[e],e,this.field,this)}get rowCount(){return this.queryData.length}get value(){return this.toObject()}[Symbol.iterator](){let e=0,t=this.queryData,r=i=>this.row(i);return{next(){return e<t.length?{value:r(e++),done:!1}:{value:void 0,done:!0}}}}async*inMemoryStream(){for(let e=0;e<this.queryData.length;e++)yield this.row(e)}};Zr.DataArray=AC;function F9e(n,e){for(let t of e)typeof t=="number"?n=n.array.row(t):n=n.record.cell(t);return n}var F4=class extends FR{constructor(e,t,r,i){super(r);this.parent=i,this.queryDataRow=e,this._field=r,this.index=t}toObject(){return this.queryDataRow}path(...e){return F9e(this,e)}cell(e){let t=typeof e=="string"?e:e.name,r=this._field.getFieldByName(t),i=this.queryDataRow[t];if(i===null)return new sue(r);if(r.isAtomicField()){if(r.isBoolean())return new tue(i,r);if(r.isDate())return new iue(i,r);if(r.isTimestamp())return new rue(i,r);if(r.isNumber())return new nue(i,r);if(r.isString())return new eue(i,r)}else if(r.isExploreField())return Array.isArray(i)?new AC(i,r,this):new F4(i,void 0,r,this);throw new Error(`Internal Error: could not construct data column for field '${t}'.`)}get value(){throw new Error("Not implemented;")}get field(){return this._field}[Symbol.iterator](){let e=!1,t=()=>this;return{next(){return e?{value:void 0,done:!0}:(e=!0,{value:t(),done:!1})}}}};Zr.DataRecord=F4;function L1t(n){return"readURL"in n}function k1t(n){return"lookupConnection"in n}var Wz=class{constructor(e){this.stream=e}};Zr.DataWriter=Wz;var D9e=class extends Wz{async process(e){this.stream.write(`[
`);for await(let t of e){t.index!==void 0&&t.index>0&&this.stream.write(`,
`);let i=JSON.stringify(t.toObject(),null,2).split(`
`);for(let s=0;s<i.length;s++){let o=i[s];this.stream.write(`  ${o}`),s<i.length-1&&this.stream.write(`
`)}}this.stream.write(`
]
`),this.stream.close()}};Zr.JSONWriter=D9e;var O9e=class extends Wz{constructor(){super(...arguments);this.columnSeparator=",",this.rowSeparator=`
`,this.quoteCharacter='"',this.includeHeader=!0}escape(e){let t=e.includes(this.quoteCharacter),r=e.includes(this.columnSeparator),i=e.includes(this.rowSeparator),s=r||t||i;return t&&(e=e.replace(new RegExp(this.quoteCharacter,"g"),this.quoteCharacter+this.quoteCharacter)),s&&(e=this.quoteCharacter+e+this.quoteCharacter),e}stringify(e){return e.isNull()?"":e.isArray()||e.isRecord()||e.isBoolean()||e.isNumber()?JSON.stringify(e.value):e.isDate()||e.isTimestamp()?e.value.toISOString():e.isString()?e.value:`${e.value}`}async process(e){let t;for await(let r of e){if(t===void 0&&(t=r.field.allFields,this.includeHeader)){for(let i=0;i<t.length;i++){let s=t[i];this.stream.write(this.escape(s.name)),i!==t.length-1&&this.stream.write(this.columnSeparator)}this.stream.write(this.rowSeparator)}for(let i=0;i<t.length;i++){let s=t[i];this.stream.write(this.escape(this.stringify(r.cell(s)))),i!==t.length-1&&this.stream.write(this.columnSeparator)}this.stream.write(this.rowSeparator)}this.stream.close()}};Zr.CSVWriter=O9e});var N9e=Ae(Qz=>{"use strict";m();Object.defineProperty(Qz,"__esModule",{value:!0});Qz.toAsyncGenerator=void 0;async function*I1t(n){let e=!1;function t(i){let s,o=new Promise(a=>{s=a});return i(a=>{s({done:!0,isError:!0,error:a})},a=>{s({done:!1,value:a,isError:!1,next:new Promise(l=>{s=l})})},()=>{s({done:!0,isError:!1})}),o}let r=t(n);for(;!e;){let i=await r;if(i.done){if(e=!0,i.isError)throw i.error;break}else r=i.next,yield i.value}}Qz.toAsyncGenerator=I1t});var up=Ae(Ss=>{"use strict";m();Object.defineProperty(Ss,"__esModule",{value:!0});Ss.toAsyncGenerator=Ss.DataWriter=Ss.JSONWriter=Ss.CSVWriter=Ss.QueryMaterializer=Ss.parseTableURI=Ss.Result=Ss.TimestampTimeframe=Ss.DateTimeframe=Ss.SourceRelationship=Ss.JoinRelationship=Ss.MalloyError=Ss.FixedConnectionMap=Ss.InMemoryURLReader=Ss.EmptyURLReader=Ss.SingleConnectionRuntime=Ss.ConnectionRuntime=Ss.AtomicFieldType=Ss.Runtime=Ss.Malloy=Ss.MalloyTranslator=Ss.HighlightType=Ss.flattenQuery=Ss.isFilteredAliasedName=Ss.Segment=void 0;var oue=q8();Object.defineProperty(Ss,"Segment",{enumerable:!0,get:function(){return oue.Segment}});Object.defineProperty(Ss,"isFilteredAliasedName",{enumerable:!0,get:function(){return oue.isFilteredAliasedName}});Object.defineProperty(Ss,"flattenQuery",{enumerable:!0,get:function(){return oue.flattenQuery}});var L9e=zae();Object.defineProperty(Ss,"HighlightType",{enumerable:!0,get:function(){return L9e.HighlightType}});Object.defineProperty(Ss,"MalloyTranslator",{enumerable:!0,get:function(){return L9e.MalloyTranslator}});var Kc=R9e();Object.defineProperty(Ss,"Malloy",{enumerable:!0,get:function(){return Kc.Malloy}});Object.defineProperty(Ss,"Runtime",{enumerable:!0,get:function(){return Kc.Runtime}});Object.defineProperty(Ss,"AtomicFieldType",{enumerable:!0,get:function(){return Kc.AtomicFieldType}});Object.defineProperty(Ss,"ConnectionRuntime",{enumerable:!0,get:function(){return Kc.ConnectionRuntime}});Object.defineProperty(Ss,"SingleConnectionRuntime",{enumerable:!0,get:function(){return Kc.SingleConnectionRuntime}});Object.defineProperty(Ss,"EmptyURLReader",{enumerable:!0,get:function(){return Kc.EmptyURLReader}});Object.defineProperty(Ss,"InMemoryURLReader",{enumerable:!0,get:function(){return Kc.InMemoryURLReader}});Object.defineProperty(Ss,"FixedConnectionMap",{enumerable:!0,get:function(){return Kc.FixedConnectionMap}});Object.defineProperty(Ss,"MalloyError",{enumerable:!0,get:function(){return Kc.MalloyError}});Object.defineProperty(Ss,"JoinRelationship",{enumerable:!0,get:function(){return Kc.JoinRelationship}});Object.defineProperty(Ss,"SourceRelationship",{enumerable:!0,get:function(){return Kc.SourceRelationship}});Object.defineProperty(Ss,"DateTimeframe",{enumerable:!0,get:function(){return Kc.DateTimeframe}});Object.defineProperty(Ss,"TimestampTimeframe",{enumerable:!0,get:function(){return Kc.TimestampTimeframe}});Object.defineProperty(Ss,"Result",{enumerable:!0,get:function(){return Kc.Result}});Object.defineProperty(Ss,"parseTableURI",{enumerable:!0,get:function(){return Kc.parseTableURI}});Object.defineProperty(Ss,"QueryMaterializer",{enumerable:!0,get:function(){return Kc.QueryMaterializer}});Object.defineProperty(Ss,"CSVWriter",{enumerable:!0,get:function(){return Kc.CSVWriter}});Object.defineProperty(Ss,"JSONWriter",{enumerable:!0,get:function(){return Kc.JSONWriter}});Object.defineProperty(Ss,"DataWriter",{enumerable:!0,get:function(){return Kc.DataWriter}});var M1t=N9e();Object.defineProperty(Ss,"toAsyncGenerator",{enumerable:!0,get:function(){return M1t.toAsyncGenerator}})});var I9e=Ae(Gz=>{"use strict";m();Object.defineProperty(Gz,"__esModule",{value:!0});Gz.DuckDBCommon=void 0;var P1t=up(),k9e={BIGINT:"number",DOUBLE:"number",VARCHAR:"string",DATE:"date",TIMESTAMP:"timestamp",TIME:"string",DECIMAL:"number",BOOLEAN:"boolean",INTEGER:"number"},DR=class{constructor(e){this.queryOptions=e,this.name="duckdb_common"}get dialectName(){return"duckdb"}readQueryOptions(){let e=DR.DEFAULT_QUERY_OPTIONS;return this.queryOptions?this.queryOptions instanceof Function?{...e,...this.queryOptions()}:{...e,...this.queryOptions}:e}isPool(){return!1}canPersist(){return!0}async runRawSQL(e){return await this.setup(),this.runDuckDBQuery(e)}async runSQL(e,t={}){var r;let i=this.readQueryOptions(),s=(r=t.rowLimit)!==null&&r!==void 0?r:i.rowLimit,o=e.split("-- hack: split on this");for(;o.length>1;)await this.runRawSQL(o[0]),o.shift();let l=(await this.runRawSQL(o[0])).rows;return l.length>s&&(l=l.slice(0,s)),{rows:l,totalRows:l.length}}async runSQLBlockAndFetchResultSchema(e){let t=await this.runSQL(e.select),r=(await this.fetchSchemaForSQLBlocks([e])).schemas[e.name];return{data:t,schema:r}}async getSQLBlockSchema(e){let t={type:"struct",dialect:"duckdb",name:e.name,structSource:{type:"sql",method:"subquery",sqlBlock:e},structRelationship:{type:"basetable",connectionName:this.name},fields:[]};return await this.schemaFromQuery(`DESCRIBE SELECT * FROM (${e.select})`,t),t}splitColumns(e){let t=[],r=0,i="",s=!0;for(let o=0;o<e.length;o++){let a=e.charAt(o);s&&a===" "||(s=!1,!r&&a===","?(t.push(i),i="",s=!0):i+=a,a==="("?r+=1:a===")"&&(r-=1))}return t.push(i),t}stringToTypeMap(e){let t={},r=this.splitColumns(e);for(let i of r){let s=i.match(/^(?<name>[^\s]+) (?<type>.*)$/);if(s&&s.groups)t[s.groups.name]=s.groups.type;else throw new Error(`Badly form Structure definition ${e}`)}return t}fillStructDefFromTypeMap(e,t){for(let r in t){let i=t[r];i=i.replace(/^DECIMAL\(\d+,\d+\)/g,"DECIMAL");let s=k9e[i],o=i.match(/(?<duckDBType>.*)\[\]$/);o&&o.groups&&(i=o.groups.duckDBType);let a=i.match(/^STRUCT\((?<fields>.*)\)$/);if(a&&a.groups){let l=this.stringToTypeMap(a.groups.fields),f={type:"struct",name:r,dialect:this.dialectName,structSource:{type:o?"nested":"inline"},structRelationship:{type:o?"nested":"inline",field:r,isArray:!1},fields:[]};this.fillStructDefFromTypeMap(f,l),e.fields.push(f)}else if(o){s=k9e[i];let l={type:"struct",name:r,dialect:this.dialectName,structSource:{type:"nested"},structRelationship:{type:"nested",field:r,isArray:!0},fields:[{type:s,name:"value"}]};e.fields.push(l)}else s!==void 0?e.fields.push({type:s,name:r}):e.fields.push({name:r,type:"string",e:[`'DuckDB type "${i}" not supported by Malloy'`]})}}async schemaFromQuery(e,t){let r={},i=await this.runRawSQL(e);for(let s of i.rows)r[s.column_name]=s.column_type;this.fillStructDefFromTypeMap(t,r)}async fetchSchemaForSQLBlocks(e){let t={},r={};for(let i of e)try{t[i.name]=await this.getSQLBlockSchema(i)}catch(s){r[i.name]=s}return{schemas:t,errors:r}}async fetchSchemaForTables(e){let t={},r={};for(let i of e)try{t[i]=await this.getTableSchema(i)}catch(s){r[i]=s.toString()}return{schemas:t,errors:r}}async getTableSchema(e){let{tablePath:t}=(0,P1t.parseTableURI)(e),r={type:"struct",name:t,dialect:"duckdb",structSource:{type:"table",tablePath:t},structRelationship:{type:"basetable",connectionName:this.name},fields:[]},s=`DESCRIBE SELECT * FROM ${t.match(/\//)?`'${t}'`:t}`;return await this.schemaFromQuery(s,r),r}canFetchSchemaAndRunSimultaneously(){return!1}canStream(){return!0}canFetchSchemaAndRunStreamSimultaneously(){return!1}async test(){await this.runRawSQL("SELECT 1")}async manifestTemporaryTable(e){let r=`tt${await this.createHash(e)}`,i=`CREATE TEMPORARY TABLE IF NOT EXISTS ${r} AS (${e});`;return await this.runRawSQL(i),r}};Gz.DuckDBCommon=DR;DR.DEFAULT_QUERY_OPTIONS={rowLimit:10}});var B9e=Ae(Mx=>{"use strict";m();var B1t=Mx&&Mx.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),j1t=Mx&&Mx.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),q1t=Mx&&Mx.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&B1t(e,n,t);return j1t(e,n),e};Object.defineProperty(Mx,"__esModule",{value:!0});Mx.DuckDBWASMConnection=void 0;var Yz=q1t(ove()),U1t=hj(),$1t=I9e(),Kz=n=>{if(n===null)return n;if(n instanceof U1t.Vector)return[...n].map(Kz);if(n instanceof Date)return n;if(typeof n=="bigint")return Number(n);if(typeof n=="object"){let e=n;if(e[Symbol.toPrimitive])return Number(e[Symbol.toPrimitive]());if(Array.isArray(n))return n.map(Kz);{let t={};for(let r in e)t[r]=Kz(e[r]);return t}}return n},M9e=n=>Kz(n.toJSON()),z1t=n=>n.toArray().map(M9e),P9e=class extends $1t.DuckDBCommon{constructor(e,t="test/data/duckdb/duckdb_test.db",r="/",i){super(i);this.name=e,this.workingDirectory=r,this._connection=null,this._database=null,this.isSetup=!1,this.connecting=this.init()}async init(){let e=Yz.getJsDelivrBundles(),t=await Yz.selectBundle(e);if(t.mainWorker){let r=URL.createObjectURL(new Blob([`importScripts("${t.mainWorker}");`],{type:"text/javascript"})),i=new Worker(r),s=new Yz.ConsoleLogger;this._database=new Yz.AsyncDuckDB(s,i),await this._database.instantiate(t.mainModule,t.pthreadWorker),URL.revokeObjectURL(r),this._connection=await this._database.connect()}else throw new Error("Unable to instantiate duckdb-wasm")}get connection(){return this._connection}get database(){return this._database}async setup(){await this.connecting}async runDuckDBQuery(e){var t;let r=await((t=this.connection)===null||t===void 0?void 0:t.query(e));if((r==null?void 0:r.numRows)!=null)return{rows:z1t(r),totalRows:r.numRows};throw new Error("Boom")}async*runSQLStream(e,t={}){if(!this.connection)throw new Error("duckdb-wasm not connected");await this.setup();let r=e.split("-- hack: split on this");for(;r.length>1;)await this.runDuckDBQuery(r[0]),r.shift();for await(let i of await this.connection.send(r[0]))for(let s of i.toArray())yield M9e(s)}async createHash(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")}};Mx.DuckDBWASMConnection=P9e});var aAe=Ae((NRt,oAe)=>{"use strict";m();var K1t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";oAe.exports=K1t});var fAe=Ae((LRt,cAe)=>{"use strict";m();var J1t=aAe();function uAe(){}function lAe(){}lAe.resetWarningCache=uAe;cAe.exports=function(){function n(r,i,s,o,a,l){if(l!==J1t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:lAe,resetWarningCache:uAe};return t.PropTypes=t,t}});var hAe=Ae((MRt,dAe)=>{m();dAe.exports=fAe()();var kRt,IRt});var HAe={};JG(HAe,{GlobalHotKeys:()=>Bmt,HotKeys:()=>UAe,IgnoreKeys:()=>qmt,ObserveKeys:()=>$mt,configure:()=>Vmt,getApplicationKeyMap:()=>Wmt,recordKeyCombination:()=>Qmt,withHotKeys:()=>qAe,withIgnoreKeys:()=>zmt,withObserveKeys:()=>Hmt});function sH(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sH=function(e){return typeof e}:sH=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sH(n)}function Ya(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function pAe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Ka(n,e,t){return e&&pAe(n.prototype,e),t&&pAe(n,t),n}function Ff(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oH(){return oH=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},oH.apply(this,arguments)}function R1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){Ff(n,i,t[i])})}return n}function Px(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&LR(n,e)}function Dc(n){return Dc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Dc(n)}function LR(n,e){return LR=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},LR(n,e)}function X1t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function aH(n,e,t){return X1t()?aH=Reflect.construct:aH=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),f=new l;return o&&LR(f,o.prototype),f},aH.apply(null,arguments)}function Z1t(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function hue(n){var e=typeof Map=="function"?new Map:void 0;return hue=function(r){if(r===null||!Z1t(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return aH(r,arguments,Dc(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),LR(i,r)},hue(n)}function emt(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function kR(n,e){if(n==null)return{};var t=emt(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}function Jc(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Bx(n,e){return e&&(typeof e=="object"||typeof e=="function")?e:Jc(n)}function tmt(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&(n=Dc(n),n!==null););return n}function Ny(n,e,t){return typeof Reflect!="undefined"&&Reflect.get?Ny=Reflect.get:Ny=function(i,s,o){var a=tmt(i,s);if(!!a){var l=Object.getOwnPropertyDescriptor(a,s);return l.get?l.get.call(o):l.value}},Ny(n,e,t||n)}function Ld(n){return nmt(n)||rmt(n)||imt()}function nmt(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}function rmt(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}function imt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function PC(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return n.reduce(function(t,r){return t[r]=e||{value:r},t},{})}function mue(n){return xAe[n]||[n.length===1?n.toUpperCase():n]}function N1(n,e){return n.hasOwnProperty(e)}function uH(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(n).reduce(function(t,r){var i=n[r];return i.forEach(function(s){N1(t,s)||(t[s]=[]),t[s].push(r)}),e.includeOriginal&&(!N1(t,r)&&(t[r]=[]),t[r]=[].concat(Ld(t[r]),Ld(i))),t},{})}function lH(n){return smt[n]||[n.length===1?n.toLowerCase():n]}function yAe(n){return typeof n=="string"}function amt(n){return yAe(n)?n.trim().replace(/\s+/g," "):n}function vAe(n){var e=n.toLowerCase();return umt[e]||lmt[e]||(n.match(/^f\d+$/)?n.toUpperCase():n)}function bAe(n){return!!cmt[n]}function fmt(n){return Ja.option("_customKeyNamesDict")[n]}function EAe(n){return bAe(n)||String.fromCharCode(n.charCodeAt(0))===n||fmt(n)}function wAe(n){return n.sort().join("+")}function AAe(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return n.replace(/^\+|(\s|[^+]\+)\+/,"$1plus").split("+").reduce(function(t,r){var i=vAe(r);if(e.ensureValidKeys&&!EAe(i))throw new SAe;return t[i]=!0,t},{})}function xue(n){return dmt[n]||[n]}function gue(n){return TAe[n]||[n]}function yue(n){return hmt[n]||lH(n)}function vue(n){return FAe[n]||[n]}function pmt(n){return gAe[n]||[n]}function mmt(n){if(n.Shift)return n.Alt?[vue,yue]:[mue,lH];if(n.Alt)return[gue,xue];var e=function(t){return[t]};return[e,e]}function L1(n){return typeof n=="undefined"}function O4(n){return!Array.isArray(n)&&sH(n)==="object"&&n!==null}function MR(n){return O4(n)?Object.keys(n).length===0:!n||n.length===0}function OAe(n){return O4(n)?Object.keys(n).length:n.length}function xmt(n){return Object.keys(n).reduce(function(e,t){return pmt(t).forEach(function(r){mmt(n).forEach(function(i){i(r).forEach(function(s){(s!==t||t!==r)&&(e[s]=t)})})}),e},{})}function PR(n){return Array.isArray(n)?n:n?[n]:[]}function ymt(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},r=PC(PR(e));return Array.isArray(n)?n.reduce(function(i,s){return r[s]&&(t.stringifyFirst||r[s].value===s)||i.push(s),i},[]):O4(n)?Object.keys(n).reduce(function(i,s){return r[s]||(i[s]=n[s]),i},{}):n}function _mt(n,e){return[].concat(Ld(n.slice(0,e)),Ld(n.slice(e+1)))}function Smt(n,e){if(O4(n)){var t=n.sequence,r=n.action;return{keySequence:t,keyEventType:L1(r)?no[e.defaultKeyEvent]:no[r]}}return{keySequence:n,keyEventType:no[e.defaultKeyEvent]}}function NAe(n,e){return n[n.length-(e+1)]}function LAe(n){return n.length===1||N1(_ue,n)}function Cmt(n,e){var t=OAe(e.keyDictionary);return Ja.option("allowCombinationSubmatches")||Amt(n)?n.getNumberOfKeys()>=t:n.getNumberOfKeys()===t}function Amt(n){return!!n.isKeyStillPressed("Meta")&&n.some(function(e){return LAe(e)})}function hH(n,e,t){return t.forEach(function(r){N1(n,r)&&(e[r]=n[r])}),e}function kAe(n){switch(parseInt(n,10)){case 0:return"keydown";case 1:return"keypress";default:return"keyup"}}function Dmt(n){return!bAe(n)}function Lb(n){return n.simulated?Ly.simulated:Ly.seen}function Omt(n){var e,t=n.keyCode;return"charCode"in n?(e=n.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nmt(n){if(n.key){var e=Rmt[n.key]||n.key;if(e!=="Unidentified")return e}if(n.type==="keypress"){var t=Omt(n);return t===13?"Enter":String.fromCharCode(t)}return n.type==="keydown"||n.type==="keyup"?_Ae[n.keyCode]||"Unidentified":""}function BC(n){var e=function(){var t=Ja.option("customKeyCodes"),r=n.keyCode||n.charCode;return N1(t,r)?t[r]:n.nativeEvent?n.key:Nmt(n)}();return e==="+"?"plus":e}function pH(n){return n==="Meta"}function mH(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};return Array.isArray(n)||yAe(n)?t.stringifyFirst?!L1(n.find(function(r){return r.toString()===e.toString()})):n.indexOf(e)!==-1:O4(n)?N1(n,e):t.stringifyFirst?n.toString()===e.toString():n===e}function BAe(n){return n.replace(/\b\w/g,function(e){return e.toUpperCase()})}function Imt(n){return"".concat(BAe(n.slice(0,3))).concat(BAe(n.slice(3)))}function bue(n){return!L1(n)}function jAe(n,e){var t=e.deprecatedAPI,r=t.contextTypes,i=t.childContextTypes,s=e.newAPI.contextType;if(typeof r0.default.createContext=="undefined")n.contextTypes=r,n.childContextTypes=i,n.prototype.getChildContext=function(){return this._childContext};else{var o=r0.default.createContext(s);n.contextType=o,n.prototype._originalRender=n.prototype.render,n.prototype.render=function(){var a=this._originalRender();return a?r0.default.createElement(o.Provider,{value:this._childContext},a):null}}return n}function qAe(n){function e(o,a){return R1({},i[o]||{},a[o]||{})}function t(o){return e("handlers",o)}function r(o){return e("keyMap",o)}var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=function(o){function a(l){var f;return Ya(this,a),f=Bx(this,Dc(a).call(this,l)),f._handleFocus=f._handleFocus.bind(Jc(Jc(f))),f._handleBlur=f._handleBlur.bind(Jc(Jc(f))),f._handleKeyDown=f._handleKeyDown.bind(Jc(Jc(f))),f._handleKeyPress=f._handleKeyPress.bind(Jc(Jc(f))),f._handleKeyUp=f._handleKeyUp.bind(Jc(Jc(f))),f._componentIsFocused=f._componentIsFocused.bind(Jc(Jc(f))),f._id=z0.getInstance().registerKeyMap(l.keyMap),f._childContext={hotKeysParentId:f._id},f}return Px(a,o),Ka(a,[{key:"render",value:function(){var f=this.props,p=f.keyMap,_=f.handlers,E=f.allowChanges,O=f.root,R=kR(f,["keyMap","handlers","allowChanges","root"]),q={onFocus:this._wrapFunction("onFocus",this._handleFocus),onBlur:this._wrapFunction("onBlur",this._handleBlur),tabIndex:Ja.option("defaultTabIndex")};return this._shouldBindKeyListeners()&&(q.onKeyDown=this._handleKeyDown,q.onKeyPress=this._handleKeyPress,q.onKeyUp=this._handleKeyUp),r0.default.createElement(n,oH({hotKeys:q},R))}},{key:"_shouldBindKeyListeners",value:function(){var f=r(this.props);return!MR(f)||this.props.root||Ja.option("enableHardSequences")&&this._handlersIncludeHardSequences(f,t(this.props))}},{key:"_handlersIncludeHardSequences",value:function(f,p){return Object.keys(p).some(function(_){return!f[_]&&cH.isValidKeySerialization(_)})}},{key:"_wrapFunction",value:function(f,p){var _=this;return typeof this.props[f]=="function"?function(E){_.props[f](E),p(E)}:p}},{key:"_focusTreeIdsPush",value:function(f){this._focusTreeIds||(this._focusTreeIds=[]),this._focusTreeIds.push(f)}},{key:"_focusTreeIdsShift",value:function(){this._focusTreeIds&&this._focusTreeIds.shift()}},{key:"_getFocusTreeId",value:function(){if(this._focusTreeIds)return this._focusTreeIds[0]}},{key:"componentDidUpdate",value:function(){var f=z0.getInstance();if(f.reregisterKeyMap(this._id,this.props.keyMap),this._componentIsFocused()&&(this.props.allowChanges||!Ja.option("ignoreKeymapAndHandlerChangesByDefault"))){var p=this.props,_=p.keyMap,E=p.handlers;f.updateEnabledHotKeys(this._getFocusTreeId(),this._id,_,E,this._getComponentOptions())}}},{key:"_componentIsFocused",value:function(){return this._focused===!0}},{key:"componentDidMount",value:function(){var f=z0.getInstance(),p=this.context.hotKeysParentId;f.registerComponentMount(this._id,p)}},{key:"_handleFocus",value:function(){if(this.props.onFocus){var f;(f=this.props).onFocus.apply(f,arguments)}var p=z0.getInstance().enableHotKeys(this._id,r(this.props),t(this.props),this._getComponentOptions());L1(p)||this._focusTreeIdsPush(p),this._focused=!0}},{key:"componentWillUnmount",value:function(){var f=z0.getInstance();f.deregisterKeyMap(this._id),f.registerComponentUnmount(),this._handleBlur()}},{key:"_handleBlur",value:function(){if(this.props.onBlur){var f;(f=this.props).onBlur.apply(f,arguments)}var p=z0.getInstance().disableHotKeys(this._getFocusTreeId(),this._id);p||this._focusTreeIdsShift(),this._focused=!1}},{key:"_handleKeyDown",value:function(f){var p=z0.getInstance().handleKeydown(f,this._getFocusTreeId(),this._id,this._getEventOptions());p&&this._focusTreeIdsShift()}},{key:"_handleKeyPress",value:function(f){var p=z0.getInstance().handleKeyPress(f,this._getFocusTreeId(),this._id,this._getEventOptions());p&&this._focusTreeIdsShift()}},{key:"_handleKeyUp",value:function(f){var p=z0.getInstance().handleKeyUp(f,this._getFocusTreeId(),this._id,this._getEventOptions());p&&this._focusTreeIdsShift()}},{key:"_getComponentOptions",value:function(){return{defaultKeyEvent:Ja.option("defaultKeyEvent")}}},{key:"_getEventOptions",value:function(){return{ignoreEventsCondition:Ja.option("ignoreEventsCondition")}}}]),a}(r0.PureComponent);return Ff(s,"propTypes",{keyMap:Cu.default.object,handlers:Cu.default.object,onFocus:Cu.default.func,onBlur:Cu.default.func,allowChanges:Cu.default.bool,root:Cu.default.bool}),jAe(s,{deprecatedAPI:{contextTypes:{hotKeysParentId:Cu.default.number},childContextTypes:{hotKeysParentId:Cu.default.number}},newAPI:{contextType:{hotKeysParentId:void 0}}})}function xH(n){var e,t,r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{only:[],except:[]},i=2<arguments.length?arguments[2]:void 0;return t=e=function(s){function o(a){var l;return Ya(this,o),l=Bx(this,Dc(o).call(this,a)),l._handleKeyEvent=l._handleKeyEvent.bind(Jc(Jc(l))),l._reloadDictionaries=l._reloadDictionaries.bind(Jc(Jc(l))),l}return Px(o,s),Ka(o,[{key:"render",value:function(){var l=this.props,f=l.only,p=l.except,_=kR(l,["only","except"]),E={onKeyDown:this._handleKeyEvent,onKeyPress:this._handleKeyEvent,onKeyUp:this._handleKeyEvent,onFocus:this._reloadDictionaries};return r0.default.createElement(n,oH({hotKeys:E},_))}},{key:"_reloadDictionaries",value:function(){var l=this.props,f=l.only,p=l.except;this._onlyDict=zAe(f),this._exceptDict=zAe(p)}},{key:"_shouldIgnoreEvent",value:function(l){var f=l.key;return MR(this._onlyDict)?!!MR(this._exceptDict)||!N1(this._exceptDict,f):MR(this._exceptDict)?N1(this._onlyDict,f):N1(this._onlyDict,f)&&!N1(this._exceptDict,f)}},{key:"_handleKeyEvent",value:function(l){this._shouldIgnoreEvent(l)&&z0.getInstance()[i](l)}}]),o}(r0.PureComponent),Ff(e,"propTypes",{only:Cu.default.oneOfType([Cu.default.string,Cu.default.arrayOf(Cu.default.string)]),except:Cu.default.oneOfType([Cu.default.string,Cu.default.arrayOf(Cu.default.string)])}),Ff(e,"defaultProps",r),t}function zAe(n){return PR(n).reduce(function(e,t){var r=vAe(t);if(!EAe(r))throw new SAe(t);return[vue,yue,mue,lH,gue,xue].forEach(function(i){e[i(r)]=!0}),e},{})}function zmt(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{only:[],except:[]};return xH(n,e,"ignoreEvent")}function Hmt(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{only:[],except:[]};return xH(n,e,"observeIgnoredEvents")}function Vmt(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Ja.init(n)}function Wmt(){return z0.getInstance().getApplicationKeyMap()}function Qmt(n){var e=z0.getInstance();return e.addKeyCombinationListener(n)}var Cu,r0,mAe,IR,Ja,zm,no,pue,xAe,smt,omt,gAe,umt,lmt,_Ae,cmt,SAe,CAe,TAe,dmt,FAe,hmt,cH,DAe,Ly,D4,fH,RAe,gmt,vmt,bmt,Emt,_ue,dH,wmt,Tmt,Fmt,IAe,MAe,PAe,BR,Rmt,Ju,Lmt,kmt,Mmt,z0,Pmt,UAe,$Ae,Bmt,jmt,qmt,Umt,$mt,VAe=KG(()=>{m();Cu=fr(hAe()),r0=fr(Fr());mAe={logLevel:"warn",defaultKeyEvent:"keydown",defaultComponent:"div",defaultTabIndex:"-1",ignoreTags:["input","select","textarea"],enableHardSequences:!1,ignoreKeymapAndHandlerChangesByDefault:!0,ignoreEventsCondition:function(e){var t=e.target;if(t&&t.tagName){var r=t.tagName.toLowerCase();return Ja.option("_ignoreTagsDict")[r]||t.isContentEditable}return!1},ignoreRepeatedEventsWhenKeyHeldDown:!0,simulateMissingKeyPressEvents:!0,stopEventPropagationAfterHandling:!0,stopEventPropagationAfterIgnoring:!0,allowCombinationSubmatches:!1,customKeyCodes:{}},IR=R1({},mAe);IR._ignoreTagsDict=PC(IR.ignoreTags,!0);Ja=function(){function n(){Ya(this,n)}return Ka(n,null,[{key:"init",value:function(t){var r=this,i=t.ignoreTags,s=t.customKeyCodes;i&&(t._ignoreTagsDict=PC(t.ignoreTags)),s&&(t._customKeyNamesDict=PC(Object.values(t.customKeyCodes))),["verbose","debug","info"].indexOf(t.logLevel)!==-1&&console.warn("React HotKeys: You have requested log level '".concat(t.logLevel,"' but for performance reasons, logging below severity level 'warning' is disabled in production. Please use the development build for complete logs.")),Object.keys(t).forEach(function(o){r.set(o,t[o])})}},{key:"set",value:function(t,r){IR[t]=r}},{key:"reset",value:function(t){IR[t]=mAe[t]}},{key:"option",value:function(t){return IR[t]}}]),n}(),zm=function(){function n(){var e=this,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"warn";if(Ya(this,n),Ff(this,"verbose",this.noop),Ff(this,"debug",this.noop),Ff(this,"info",this.noop),Ff(this,"warn",this.noop),Ff(this,"error",this.noop),this.logLevel=this.constructor.levels[t],this.logLevel>=this.constructor.levels.error)this.error=console.error;else return;if(this.logLevel>=this.constructor.levels.warn)this.warn=console.warn;else return;["info","debug","verbose"].some(function(r){return!(e.logLevel>=e.constructor.levels[r])||(e[r]=console.log,!1)})}return Ka(n,[{key:"noop",value:function(){}}]),n}();Ff(zm,"logIcons",["\u{1F4D5}","\u{1F4D7}","\u{1F4D8}","\u{1F4D9}"]),Ff(zm,"componentIcons",["\u{1F53A}","\u2B50\uFE0F","\u{1F537}","\u{1F536}","\u2B1B\uFE0F"]),Ff(zm,"eventIcons",["\u2764\uFE0F","\u{1F49A}","\u{1F499}","\u{1F49B}","\u{1F49C}","\u{1F9E1}"]),Ff(zm,"levels",{none:0,error:1,warn:2,info:3,debug:4,verbose:5});no={keydown:0,keypress:1,keyup:2},pue={Shift:["shiftKey"],Meta:["metaKey"],Control:["ctrlKey"],Alt:["altKey"]},xAe={"`":["~"],1:["!"],2:["@",'"'],3:["#","\xA3"],4:["$"],5:["%"],6:["^"],7:["&"],8:["*"],9:["("],0:[")"],"-":["_"],"=":["plus"],";":[":"],"'":['"',"@"],",":["<"],".":[">"],"/":["?"],"\\":["|"],"[":["{"],"]":["}"],"#":["~"]};smt=uH(xAe);omt={},gAe=uH(omt,{includeOriginal:!0});umt={tab:"Tab",capslock:"CapsLock",shift:"Shift",meta:"Meta",alt:"Alt",ctrl:"Control",space:" ",spacebar:" ",escape:"Escape",esc:"Escape",left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown",return:"Enter",del:"Delete",command:"Meta",option:"Alt",enter:"Enter",backspace:"Backspace",ins:"Insert",pageup:"PageUp",pagedown:"PageDown",end:"End",home:"Home",contextmenu:"ContextMenu",numlock:"Clear"},lmt={cmd:"Meta"};_Ae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cmt=PC(Object.values(_Ae),!0);SAe=function(n){function e(){var t,r;Ya(this,e);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=Bx(this,(t=Dc(e)).call.apply(t,[this].concat(s))),Ff(Jc(Jc(r)),"name","InvalidKeyNameError"),r}return Px(e,n),e}(hue(Error));CAe=function(){function n(){Ya(this,n)}return Ka(n,null,[{key:"parse",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=amt(t),s=i.split(" ");try{var o=s.slice(0,s.length-1),a=s[s.length-1],l=o.map(function(E){var O=AAe(E,r);return wAe(Object.keys(O))}).join(" "),f=AAe(a,r),p=wAe(Object.keys(f)),_={id:p,keyDictionary:f,keyEventType:r.keyEventType,size:Object.keys(f).length};return{sequence:{prefix:l,size:o.length+1},combination:_}}catch{return{sequence:null,combination:null}}}}]),n}();TAe={"`":["`"],1:["\xA1"],2:["\u2122"],3:["\xA3"],4:["\xA2"],5:["\u221E"],6:["\xA7"],7:["\xB6"],8:["\u2022"],9:["\xAA"],0:["\xBA"],"-":["\u2013"],"=":["\u2260"],a:["\xE5"],b:["\u222B"],c:["\xE7"],d:["\u2202"],e:["\xB4"],f:["\u0192"],g:["\xA9"],h:["\u02D9"],i:["\u02C6"],j:["\u2206"],k:["\u02DA"],l:["\xAC"],m:["\xB5"],n:["\u02DC"],o:["\xF8"],p:["\u03C0"],q:["\u0153"],r:["\xAE"],s:["\xDF"],t:["\u2020"],u:["\xA8"],v:["\u221A"],w:["\u2211"],x:["\u2248"],y:["\xA5"],z:["\u03A9"],"[":["\u201C"],"]":["\u2018"],"\\":["\xAB"],"'":["\xE6"],";":["\u2026"],",":["\u2264"],".":["\u2265"],"/":["\xF7"]},dmt=uH(TAe);FAe={"`":["`"],1:["\u2044"],2:["\u20AC"],3:["\u2039"],4:["\u203A"],5:["\uFB01"],6:["\uFB02"],7:["\u2021"],8:["\xB0"],9:["\xB7"],0:["\u201A"],"-":["\u2014"],"=":["\xB1"],a:["\xC5"],b:["\u0131"],c:["\xC7"],d:["\xCE"],e:["\xB4"],f:["\xCF"],g:["\u02DD"],h:["\xD3"],i:["\u02C6"],j:["\xD4"],k:["\uF8FF"],l:["\xD2"],m:["\xC2"],n:["\u02DC"],o:["\xD8"],p:["\u03C0"],q:["\u0152"],r:["\u2030"],s:["\xCD"],t:["\xCE"],u:["\xA8"],v:["\u25CA"],w:["\u201E"],x:["\u02DB"],y:["\xC1"],z:["\xB8"],"[":["\u201D"],"]":["\u2019"],"\\":["\xBB"],"'":["\xC6"],";":["\xDA"],",":["\xAF"],".":["\u02D8"]},hmt=uH(FAe);cH=function(){function n(){Ya(this,n)}return Ka(n,null,[{key:"serialize",value:function(t){var r=t.Shift,i=t.Alt,s={},o=Object.keys(t).sort();return o.forEach(function(a){var l=[];if(r)if(i){var f=yue(a),p=vue(a);l=[].concat(Ld(l),[a],Ld(f),Ld(p))}else{var _=lH(a),E=mue(a);l=[].concat(Ld(l),[a],Ld(_),Ld(E))}else if(i){var O=xue(a),R=gue(a);l=[].concat(Ld(l),[a],Ld(O),Ld(R))}else{l.push(a);var q=gAe[a];q&&(l=[].concat(Ld(l),Ld(q)))}var z=Object.keys(s);0<z.length?z.forEach(function(L){l.forEach(function(B){s[L+"+".concat(B)]=R1({},s[L],Ff({},B,!0))}),delete s[L]}):l.forEach(function(L){s[L]=Ff({},L,!0)})}),Object.values(s).map(function(a){return Object.keys(a).sort().join("+")})}},{key:"isValidKeySerialization",value:function(t){return 0<t.length&&!!CAe.parse(t,{ensureValidKeys:!0}).combination}}]),n}(),DAe={previous:0,current:1};Ly={unseen:0,seen:1,simulated:2},D4=function(){function n(){Ya(this,n)}return Ka(n,null,[{key:"newRecord",value:function(t,r){var i=[Ly.unseen,Ly.unseen,Ly.unseen];if(!L1(t))for(var s=0;s<=t;s++)i[s]=r;return i}},{key:"setBit",value:function(t,r,i){return t[r]=i,t}},{key:"clone",value:function(t){for(var r=this.newRecord(),i=0;i<t.length;i++)r[i]=t[i];return r}}]),n}();fH=function(){function n(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Ya(this,n),this._keys=e,this._includesKeyUp=!1,this._update()}return Ka(n,[{key:"getIds",value:function(){return this._ids}},{key:"getKeyAliases",value:function(){return this._keyAliases}},{key:"getNormalizedKeyName",value:function(t){var r=this._keys[t];if(r)return t;var i=this._keyAliases[t];return i||t}},{key:"getNumberOfKeys",value:function(){return OAe(this._keys)}},{key:"any",value:function(){return 0<Object.keys(this._getKeyStates()).length}},{key:"isEnding",value:function(){return this._includesKeyUp}},{key:"hasEnded",value:function(){return MR(this.keysStillPressedDict())}},{key:"addKey",value:function(t,r){this._setKeyState(t,[D4.newRecord(),D4.newRecord(no.keydown,r)])}},{key:"setKeyState",value:function(t,r,i){var s=this._getKeyState(t);if(this.isKeyIncluded(t)){var o=D4.clone(s[1]),a=D4.clone(o);D4.setBit(a,r,i),this._setKeyState(t,[o,a])}else this.addKey(t,i);r===no.keyup&&(this._includesKeyUp=!0)}},{key:"forEachKey",value:function(t){return Object.keys(this._keys).forEach(t)}},{key:"some",value:function(t){return Object.keys(this._keys).some(t)}},{key:"getKeyDictionary",value:function(){return PC(Object.keys(this._getKeyStates()),!0)}},{key:"keysStillPressedDict",value:function(){var t=this;return Object.keys(this._keys).reduce(function(r,i){return t.isKeyStillPressed(i)&&(r[i]=t._getKeyState(i)),r},{})}},{key:"isKeyIncluded",value:function(t){return!!this._getKeyState(t)}},{key:"isKeyStillPressed",value:function(t){return this.isEventTriggered(t,no.keypress)&&!this.isKeyReleased(t)}},{key:"isKeyReleased",value:function(t){return this.isEventTriggered(t,no.keyup)}},{key:"isEventTriggered",value:function(t,r){return this._getKeyStateType(t,DAe.current,r)}},{key:"wasEventPreviouslyTriggered",value:function(t,r){return this._getKeyStateType(t,DAe.previous,r)}},{key:"isKeyPressSimulated",value:function(t){return this._isKeyEventSimulated(t,no.keypress)}},{key:"isKeyUpSimulated",value:function(t){return this._isKeyEventSimulated(t,no.keyup)}},{key:"describe",value:function(){return this.getIds()[0]}},{key:"toJSON",value:function(){return{keys:this._getKeyStates(),ids:this.getIds(),keyAliases:this.getKeyAliases()}}},{key:"_getKeyStateType",value:function(t,r,i){var s=this._getKeyState(t);return s&&s[r][i]}},{key:"_update",value:function(){this._ids=cH.serialize(this._keys),this._keyAliases=xmt(this._keys)}},{key:"_isKeyEventSimulated",value:function(t,r){return this.isEventTriggered(t,r)===Ly.simulated}},{key:"_getKeyStates",value:function(){return this._keys}},{key:"_getKeyState",value:function(t){var r=this._keys[t];if(r)return r;var i=this._keyAliases[t];if(i)return this._keys[i]}},{key:"_setKeyState",value:function(t,r){var i=this.getNormalizedKeyName(t);this._keys[i]=r,this._update()}}]),n}();RAe=function(){function n(e){var t=e.maxLength,r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;Ya(this,n),this._records=[],this._maxLength=t,r?this._push(r):this._push(new fH)}return Ka(n,[{key:"getMostRecentCombinations",value:function(t){return this._records.slice(-t,-1)}},{key:"any",value:function(){return this._records.some(function(t){return t.any()})}},{key:"getLength",value:function(){return this._records.length}},{key:"getCurrentCombination",value:function(){return this._records[this.getLength()-1]}},{key:"addKeyToCurrentCombination",value:function(t,r,i){this._ensureInitialKeyCombination(),this.getCurrentCombination().setKeyState(t,r,i)}},{key:"setMaxLength",value:function(t){this._maxLength=t,this._trimHistory()}},{key:"startNewKeyCombination",value:function(t,r){this._ensureInitialKeyCombination();var i=new fH(this.getCurrentCombination().keysStillPressedDict());i.addKey(t,r),this._push(i)}},{key:"toJSON",value:function(){return this._records.map(function(t){return t.toJSON()})}},{key:"_ensureInitialKeyCombination",value:function(){this.getLength()===0&&this._push(new fH)}},{key:"_push",value:function(t){this._trimHistory(),this._records.push(t)}},{key:"_trimHistory",value:function(){for(;this.getLength()>this._maxLength;)this._shift()}},{key:"_shift",value:function(){this._records.shift()}}]),n}(),gmt=function(){function n(){Ya(this,n),this._registry={}}return Ka(n,[{key:"get",value:function(t){return this._registry[t]}},{key:"set",value:function(t,r){this._registry[t]=r}},{key:"remove",value:function(t){delete this._registry[t]}},{key:"toJSON",value:function(){return this._registry}}]),n}();vmt=function(n){function e(){return Ya(this,e),Bx(this,Dc(e).apply(this,arguments))}return Px(e,n),Ka(e,[{key:"add",value:function(r,i){Ny(Dc(e.prototype),"set",this).call(this,r,{childIds:[],parentId:null,keyMap:i})}},{key:"update",value:function(r,i){var s=Ny(Dc(e.prototype),"get",this).call(this,r);Ny(Dc(e.prototype),"set",this).call(this,r,R1({},s,{keyMap:i}))}},{key:"setParent",value:function(r,i){this.get(r).parentId=i,this._addChildId(i,r)}},{key:"remove",value:function(r){var i=this._getParentId(r);this._removeChildId(i,r),Ny(Dc(e.prototype),"remove",this).call(this,r)}},{key:"_getParentId",value:function(r){var i=this.get(r);return i&&i.parentId}},{key:"_addChildId",value:function(r,i){this.get(r).childIds.push(i)}},{key:"_removeChildId",value:function(r,i){var s=this.get(r);s&&(s.childIds=ymt(s.childIds,i))}}]),e}(gmt);bmt=function(){function n(e){Ya(this,n),this._list=e,this._position=-1}return Ka(n,[{key:"getPosition",value:function(){return this._position}},{key:"getComponent",value:function(){return this._list.getAtPosition(this.getPosition())}},{key:"next",value:function(){return this.getPosition()+1<this._list.getLength()?(this._position++,this.getComponent()):null}}]),n}(),Emt=function(){function n(){Ya(this,n),this._list=[],this._idToIndex={},this._longestSequence=1,this._longestSequenceComponentId=null,this._keyMapEventRecord=D4.newRecord()}return Ka(n,[{key:"getNewIterator",value:function(){return new bmt(this)}},{key:"add",value:function(t,r,i,s){if(this.containsId(t))return this.update(t,r,i,s);var o=this._build(t,r,i,s);this._list.push(o);var a=this._getLastIndex();return this._idToIndex[t]=a}},{key:"containsId",value:function(t){return!!this.get(t)}},{key:"get",value:function(t){return this.getAtPosition(this.getIndexById(t))}},{key:"getIndexById",value:function(t){return this._idToIndex[t]}},{key:"update",value:function(t,r,i,s){var o=this._isUpdatingComponentWithLongestSequence(t),a=this.getLongestSequence(),l=this._build(t,r,i,s);o&&l.sequenceLength!==a&&(l.sequenceLength>a?this._longestSequence=l.sequenceLength:this._recalculateLongestSequence()),this._list[this.getIndexById(t)]=l}},{key:"remove",value:function(t){var r=this._isUpdatingComponentWithLongestSequence(t);this.removeAtPosition(this.getIndexById(t)),r&&this._recalculateLongestSequence()}},{key:"any",value:function(){return this.getLength()!==0}},{key:"isRoot",value:function(t){return this.getIndexById(t)>=this.getLength()-1}},{key:"getLongestSequence",value:function(){return this._longestSequence}},{key:"anyActionsForEventType",value:function(t){return!!this._keyMapEventRecord[t]}},{key:"getLength",value:function(){return this._list.length}},{key:"getAtPosition",value:function(t){return this._list[t]}},{key:"removeAtPosition",value:function(t){this._list=_mt(this._list,t);for(var r=t;r<this.getLength();)this._idToIndex[this.getAtPosition(r).componentId]=r,r++}},{key:"toJSON",value:function(){return this._list}},{key:"_getLastIndex",value:function(){return this.getLength()-1}},{key:"_build",value:function(t,r,i,s){var o=this._applyHardSequences(r,i),a=o.keyMap,l=o.handlers,f=this._buildActionDictionary(R1({},r,a),s,t);return{actions:f,handlers:l,componentId:t,options:s}}},{key:"_isUpdatingComponentWithLongestSequence",value:function(t){return t===this._getLongestSequenceComponentId()}},{key:"_getLongestSequenceComponentId",value:function(){return this._longestSequenceComponentId}},{key:"_recalculateLongestSequence",value:function(){for(var t=this.getNewIterator();t.next();){var r=t.getComponent(),i=r.longestSequence,s=r.componentId;i>this.getLongestSequence()&&(this._longestSequenceComponentId=s,this._longestSequence=i)}}},{key:"_applyHardSequences",value:function(t,r){return Ja.option("enableHardSequences")?Object.keys(r).reduce(function(i,s){var o=!!t[s];return!o&&cH.isValidKeySerialization(s)&&(i.keyMap[s]=s),i.handlers[s]=r[s],i},{keyMap:{},handlers:{}}):{keyMap:t,handlers:r}}},{key:"_buildActionDictionary",value:function(t,r,i){var s=this;return Object.keys(t).reduce(function(o,a){var l=t[a],f=function(){return O4(l)&&N1(l,"sequences")?PR(l.sequences):PR(l)}();return f.forEach(function(p){var _=Smt(p,r),E=_.keySequence,O=_.keyEventType;s._addActionOptions(o,i,a,E,O)}),o},{})}},{key:"_addActionOptions",value:function(t,r,i,s,o){var a=CAe.parse(s,{keyEventType:o}),l=a.sequence,f=a.combination;l.size>this.getLongestSequence()&&(this._longestSequence=l.size,this._longestSequenceComponentId=r),this._keyMapEventRecord[o]=Ly.seen,t[i]||(t[i]=[]),t[i].push(R1({prefix:l.prefix,actionName:i,sequenceLength:l.size},f))}}]),n}();for(_ue={Enter:!0,Backspace:!0,ArrowRight:!0,ArrowLeft:!0,ArrowUp:!0,ArrowDown:!0,CapsLock:!0},dH=1;13>dH;dH++)_ue["F".concat(dH)]=!0;wmt=function(){function n(){Ya(this,n),this._actionConfigs={},this._order=null}return Ka(n,[{key:"addMatch",value:function(t,r){if(this._includesMatcherForCombination(t.id)){var i=t.keyEventType,s=t.actionName,o=t.id;this._addHandlerToActionConfig(o,{keyEventType:i,actionName:s,handler:r})}else this._addNewActionConfig(t,r)}},{key:"findMatch",value:function(t,r,i){this._order||this._setOrder();var s=!0,o=!1,a=void 0;try{for(var l,f=this._order[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var p=l.value,_=this._actionConfigs[p];if(this._matchesActionConfig(t,r,i,_))return _}}catch(E){o=!0,a=E}finally{try{s||f.return==null||f.return()}finally{if(o)throw a}}return null}},{key:"toJSON",value:function(){return{actionConfigs:this._actionConfigs,order:this._order}}},{key:"_matchesActionConfig",value:function(t,r,i,s){if(!Cmt(t,s))return!1;var o=s.events[i];if(!o)return!1;var a=!1,l=Object.keys(s.keyDictionary).every(function(f){return!!t.isEventTriggered(f,i)&&(r&&r===t.getNormalizedKeyName(f)&&(a=!t.wasEventPreviouslyTriggered(f,i)),!0)});return l&&a}},{key:"_setOrder",value:function(){var t=Object.values(this._actionConfigs).reduce(function(r,i){var s=i.id,o=i.size;return r[o]||(r[o]=[]),r[o].push(s),r},{});this._order=Object.keys(t).sort(function(r,i){return i-r}).reduce(function(r,i){return r.concat(t[i])},[])}},{key:"_addNewActionConfig",value:function(t,r){var i=t.prefix,s=t.sequenceLength,o=t.id,a=t.keyDictionary,l=t.size,f=t.keyEventType,p=t.actionName;this._setCombinationMatcher(o,{prefix:i,sequenceLength:s,id:o,keyDictionary:a,size:l,events:{}}),this._addHandlerToActionConfig(o,{keyEventType:f,actionName:p,handler:r})}},{key:"_addHandlerToActionConfig",value:function(t,r){var i=r.keyEventType,s=r.actionName,o=r.handler,a=this._getCombinationMatcher(t);this._setCombinationMatcher(t,R1({},a,{events:R1({},a.events,Ff({},i,{actionName:s,handler:o}))}))}},{key:"_setCombinationMatcher",value:function(t,r){this._actionConfigs[t]=r}},{key:"_getCombinationMatcher",value:function(t){return this._actionConfigs[t]}},{key:"_includesMatcherForCombination",value:function(t){return!!this._getCombinationMatcher(t)}}]),n}();Tmt=function(){function n(){Ya(this,n),this._combinationMatchers={},this._eventRecord=D4.newRecord()}return Ka(n,[{key:"addMatch",value:function(t,r){var i=this._getOrCreateCombinationMatcher(t.prefix);i.addMatch(t,r),D4.setBit(this._eventRecord,t.keyEventType,Ly.seen),(!this._longestSequence||this._longestSequence<t.sequenceLength)&&(this._longestSequence=t.sequenceLength)}},{key:"findMatch",value:function(t,r,i){var s=this._findCombinationMatcher(t);return s?s.findMatch(t.getCurrentCombination(),t.getCurrentCombination().getNormalizedKeyName(r),i):null}},{key:"hasMatchesForEventType",value:function(t){return!!this._eventRecord[t]}},{key:"getLongestSequence",value:function(){return this._longestSequence}},{key:"toJSON",value:function(){var t=this;return Object.keys(this._combinationMatchers).reduce(function(r,i){var s=t._combinationMatchers[i];return r[i]=s.toJSON(),r},{})}},{key:"_getOrCreateCombinationMatcher",value:function(t){return this._combinationMatchers[t]||(this._combinationMatchers[t]=new wmt),this._combinationMatchers[t]}},{key:"_findCombinationMatcher",value:function(t){var r=t.getMostRecentCombinations(this.getLongestSequence());if(r.length===0)return this._combinationMatchers[""];for(var i=r.map(function(R){return R.getIds()}),s=i.map(function(R){return R.length}),o=Array(i.length).fill(0),a=!1;!a;){var l=o.map(function(R,q){return i[q][R]}),f=l.join(" ");if(this._combinationMatchers[f])return this._combinationMatchers[f];for(var p=0,_=!0;_&&p<o.length;){var E=NAe(o,p),O=(E+1)%(NAe(s,p)||1);o[o.length-(p+1)]=O,_=O==0,_&&p++}a=p===o.length}}}]),n}(),Fmt=function(){function n(e){Ya(this,n),this._keyMapMatchers=[],this._unmatchedHandlerStatus=[],this._handlersDictionary={},this._keySequencesDictionary={};for(var t=e.getNewIterator();t.next();){var r=t.getComponent(),i=r.handlers;this._unmatchedHandlerStatus.push([Object.keys(i).length,{}]),this._keyMapMatchers.push(new Tmt)}this._componentList=e,this._componentListIterator=e.getNewIterator()}return Ka(n,[{key:"getKeyHistoryMatcher",value:function(t){if(this._componentHasUnmatchedHandlers(t))for(;this._componentListIterator.next();)this._addHandlersFromComponent(),this._addActionsFromComponent();return this._getKeyHistoryMatcher(t)}},{key:"componentHasActionsBoundToEventType",value:function(t,r){return this.getKeyHistoryMatcher(t).hasMatchesForEventType(r)}},{key:"findMatchingKeySequenceInComponent",value:function(t,r,i,s){return this.componentHasActionsBoundToEventType(t,s)?this.getKeyHistoryMatcher(t).findMatch(r,i,s):null}},{key:"_getKeyHistoryMatcher",value:function(t){return this._keyMapMatchers[t]}},{key:"_addActionsFromComponent",value:function(){var t=this,r=this._componentListIterator.getComponent(),i=r.actions;Object.keys(i).forEach(function(s){var o=t._getHandlers(s);if(o){var a=o[0],l=t._componentList.getAtPosition(a).handlers[s],f=t._getKeyHistoryMatcher(a),p=i[s];p.forEach(function(_){var E=[_.prefix,_.id].join(" ");t._isClosestHandlerFound(E,_)||(f.addMatch(_,l),t._addKeySequence(E,[a,_.keyEventType]))}),o.forEach(function(_){var E=t._getUnmatchedHandlerStatus(_);E[1][s]||(E[1][s]=!0,E[0]--)})}})}},{key:"_getHandlers",value:function(t){return this._handlersDictionary[t]}},{key:"_addHandlersFromComponent",value:function(){var t=this,r=this._componentListIterator.getComponent(),i=r.handlers;Object.keys(i).forEach(function(s){t._addHandler(s)})}},{key:"_addHandler",value:function(t){this._handlersDictionary[t]||(this._handlersDictionary[t]=[]),this._handlersDictionary[t].push(this._componentListIterator.getPosition())}},{key:"_addKeySequence",value:function(t,r){this._keySequencesDictionary[t]||(this._keySequencesDictionary[t]=[]),this._keySequencesDictionary[t].push(r)}},{key:"_componentHasUnmatchedHandlers",value:function(t){return 0<this._getUnmatchedHandlerStatus(t)[0]}},{key:"_getUnmatchedHandlerStatus",value:function(t){return this._unmatchedHandlerStatus[t]}},{key:"_isClosestHandlerFound",value:function(t,r){return this._keySequencesDictionary[t]&&this._keySequencesDictionary[t].some(function(i){return i[1]===r.keyEventType})}}]),n}();IAe=["sequence","action"],MAe=["name","description","group"],PAe=function(){function n(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;Ya(this,n),this.logger=e.logger||new zm("warn"),this.componentId=-1,this.keyEventManager=t,this._componentTree=new vmt,this.rootComponentId=null,this._reset(),this.resetKeyHistory()}return Ka(n,[{key:"_reset",value:function(){this.componentList=new Emt,this._initHandlerResolutionState()}},{key:"_newKeyHistory",value:function(){return new RAe({maxLength:this.componentList.getLongestSequence()})}},{key:"getKeyHistory",value:function(){return this._keyHistory?this._keyHistory:(this._keyHistory=this._newKeyHistory(),this._keyHistory)}},{key:"_initHandlerResolutionState",value:function(){this._actionResolver=null}},{key:"resetKeyHistory",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};this.keypressEventsToSimulate=[],this.keyupEventsToSimulate=[],this._keyHistory=this.getKeyHistory().any()&&!t.force?new RAe({maxLength:this.componentList.getLongestSequence()},new fH(this.getCurrentCombination().keysStillPressedDict())):this._newKeyHistory()}},{key:"getApplicationKeyMap",value:function(){return this.rootComponentId===null?{}:this._buildApplicationKeyMap([this.rootComponentId],{})}},{key:"_buildApplicationKeyMap",value:function(t,r){var i=this;return t.forEach(function(s){var o=i._componentTree.get(s),a=o.childIds,l=o.keyMap;l&&Object.keys(l).forEach(function(f){var p=l[f];r[f]={},O4(p)?N1(p,"sequences")?(hH(p,r[f],MAe),r[f].sequences=i._createSequenceFromConfig(p.sequences)):(hH(p,r[f],MAe),r[f].sequences=[hH(p,{},IAe)]):r[f].sequences=i._createSequenceFromConfig(p)}),i._buildApplicationKeyMap(a,r)}),r}},{key:"_createSequenceFromConfig",value:function(t){return PR(t).map(function(r){return O4(r)?hH(r,{},IAe):{sequence:r}})}},{key:"registerKeyMap",value:function(t){return this.componentId+=1,this._componentTree.add(this.componentId,t),this.componentId}},{key:"reregisterKeyMap",value:function(t,r){this._componentTree.update(t,r)}},{key:"registerComponentMount",value:function(t,r){L1(r)?this.rootComponentId=t:this._componentTree.setParent(t,r)}},{key:"deregisterKeyMap",value:function(t){this._componentTree.remove(t),t===this.rootComponentId&&(this.rootComponentId=null)}},{key:"_addComponent",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0;this.componentList.add(t,r,i,s),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence())}},{key:"_allKeysAreReleased",value:function(){return this.getCurrentCombination().hasEnded()}},{key:"getCurrentCombination",value:function(){return this.getKeyHistory().getCurrentCombination()}},{key:"_shouldSimulate",value:function(t,r){var i=Dmt(r),s=this.getCurrentCombination();return t===no.keypress?!i||i&&s.isKeyStillPressed("Meta"):t===no.keyup&&LAe(r)&&s.isKeyReleased("Meta")}},{key:"_cloneAndMergeEvent",value:function(t,r){var i=Object.keys(pue).reduce(function(s,o){return s[o]=t[o],s},{});return R1({},i,r)}},{key:"_callClosestMatchingHandler",value:function(t,r,i,s,o){for(this._actionResolver||(this._actionResolver=new Fmt(this.componentList));o<=s;){var a=this._actionResolver.getKeyHistoryMatcher(o),l=this._actionResolver.findMatchingKeySequenceInComponent(o,this.getKeyHistory(),r,i),f=this.getCurrentCombination();if(l){var p=l.events[i];if(Ja.option("allowCombinationSubmatches"))var _=cH.serialize(l.keyDictionary);return p.handler(t),this._stopEventPropagationAfterHandlingIfEnabled(t,o),!0}this._actionResolver.componentHasActionsBoundToEventType(o,i),o++}}},{key:"_stopEventPropagationAfterHandlingIfEnabled",value:function(t,r){return!!Ja.option("stopEventPropagationAfterHandling")&&(this._stopEventPropagation(t,r),!0)}},{key:"_stopEventPropagation",value:function(){throw new Error("_stopEventPropagation must be overridden by a subclass")}},{key:"_checkForModifierFlagDiscrepancies",value:function(t,r,i){var s=this;Object.keys(pue).forEach(function(o){if(r!==o||i!==no.keyup){var a=s.getCurrentCombination(),l=a.isKeyStillPressed(o);pue[o].forEach(function(f){t[f]===!1&&l&&a.setKeyState(o,no.keyup,Lb(t))})}})}},{key:"_logPrefix",value:function(){}}]),n}(),BR=function(){function n(){Ya(this,n)}return Ka(n,null,[{key:"getId",value:function(){return L1(this._id)&&(this._id=0),this._id}},{key:"incrementId",value:function(){this._id=this.getId()+1}}]),n}();Rmt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"};Ju={unseen:0,ignored:1,seen:2,recorded:3,handled:4},Lmt=function(){function n(e,t){var r=t.logger,i=t.logPrefix;Ya(this,n),this._componentList=e,this._previousPropagation=null,this.logger=r,this._logPrefix=i,this._reset()}return Ka(n,[{key:"_reset",value:function(){this._previousPosition=-1,this._position=-1,this._actionHandled=!1,this._ignoreEvent=!1,this._observeIgnoredEvents=!1,this._stopping=!1,this._componentId=null,this._key=null,this._type=null}},{key:"isFirstPropagationStep",value:function(){var t=this.getPreviousPosition();return t===-1||t>=this._position}},{key:"isForKey",value:function(t){return this._key===t}},{key:"isForEventType",value:function(t){return this._type===t}},{key:"startNewPropagationStep",value:function(t,r,i,s){return this._position=this._componentList.getIndexById(t),this._componentId=t,this.isFirstPropagationStep()&&(BR.incrementId(),this._key=r.key,this._type=s),!(r.repeat&&Ja.option("ignoreRepeatedEventsWhenKeyHeldDown"))||(this.ignoreEvent(r),!1)}},{key:"finishPropagationStep",value:function(){this.isStopped()||this._componentList.isRoot(this._componentId)?(this._previousPropagation=this._clone(),this._reset()):this._previousPosition=this._position}},{key:"getPreviousPropagation",value:function(){return this._previousPropagation||(this._previousPropagation=this._clone({copyState:!1})),this._previousPropagation}},{key:"getPreviousPosition",value:function(){return this._previousPosition}},{key:"observeIgnoredEvents",value:function(){this._observeIgnoredEvents=!0}},{key:"ignoreEvent",value:function(t){return this.setIgnoreEvent(!0),!!(this.isIgnoringEvent()&&Ja.option("stopEventPropagationAfterIgnoring"))&&(this.stop(t),this.finishPropagationStep(),!0)}},{key:"setIgnoreEvent",value:function(t){this._ignoreEvent=t}},{key:"isIgnoringEvent",value:function(){return!this._observeIgnoredEvents&&this._ignoreEvent}},{key:"isStopped",value:function(){return this._stopping}},{key:"stop",value:function(t){return!this.isStopped()&&(this._stopping=!0,t.simulated||t.stopPropagation(),!0)}},{key:"isPendingPropagation",value:function(){var t=this.getPreviousPosition();return t!==-1&&t+1<this._position}},{key:"isHandled",value:function(){return this._actionHandled}},{key:"setHandled",value:function(){this._actionHandled=!0}},{key:"_clone",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},r=t.copyState,i=new n(this._componentList,{logger:this.logger,logPrefix:this._logPrefix});return(r===void 0||r)&&Object.assign(i,this),i}}]),n}(),kmt=function(n){function e(){var t,r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},i=1<arguments.length?arguments[1]:void 0;return Ya(this,e),t=Bx(this,Dc(e).call(this,r,i)),t.focusTreeId=0,t}return Px(e,n),Ka(e,[{key:"_reset",value:function(){Ny(Dc(e.prototype),"_reset",this).call(this),this.keypressEventsToSimulate=[],this.focusTreeId+=1,this.eventPropagator=new Lmt(this.componentList,{logger:this.logger,logPrefix:this._logPrefix.bind(this)})}},{key:"enableHotKeys",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length?arguments[3]:void 0;if(this.resetOnNextFocus&&(this._reset(),this.resetOnNextFocus=!1),!this.componentList.containsId(r))return this._addComponent(r,i,s,o),this.focusTreeId}},{key:"updateEnabledHotKeys",value:function(r,i){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},a=4<arguments.length?arguments[4]:void 0;r===this.focusTreeId&&this.componentList.containsId(i)&&(this.componentList.update(i,s,o,a),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._initHandlerResolutionState())}},{key:"disableHotKeys",value:function(r,i){this.resetOnNextFocus||(this.resetOnNextFocus=!0);var s=this.eventPropagator.isPendingPropagation();return s}},{key:"handleKeydown",value:function(r,i,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},a=BC(r);if(i!==this.focusTreeId)return this.eventPropagator.ignoreEvent(r),!0;var l=this.eventPropagator.startNewPropagationStep(s,r,a,no.keydown);if(l){var f=this._howToHandleKeyEvent(r,i,s,a,o,no.keydown);if(f===Ju.handled){var p=Lb(r),_=this.getCurrentCombination();_.isKeyIncluded(a)||_.isEnding()?this._startAndLogNewKeyCombination(a,i,s,p):this._addToAndLogCurrentKeyCombination(a,no.keydown,i,s,p),this._callHandlerIfActionNotHandled(r,a,no.keydown,s,i)}return this._simulateKeyPressForNonPrintableKeys(r,a,i,s,o),this.eventPropagator.finishPropagationStep(),!1}}},{key:"_howToHandleKeyEvent",value:function(r,i,s,o,a,l){if(this.eventPropagator.isFirstPropagationStep()){if(a.ignoreEventsCondition(r)&&this.eventPropagator.ignoreEvent(r))return this._eventIsToBeIgnored(r,s,o,l);this._checkForModifierFlagDiscrepancies(r,o,l)}else if(this.eventPropagator.isIgnoringEvent())return this._eventIsToBeIgnored(r,s,o,l);return Ju.handled}},{key:"_eventIsToBeIgnored",value:function(r,i,s,o){return Ju.ignored}},{key:"handleKeyPress",value:function(r,i,s,o){var a=BC(r),l=this.getCurrentCombination();if(l.isKeyPressSimulated(a))return this.eventPropagator.ignoreEvent(r),!0;var f=this.eventPropagator.startNewPropagationStep(s,r,a,no.keypress);if(f){var p=i!==this.focusTreeId,_=this._howToHandleKeyEvent(r,i,s,a,o,no.keypress);return this.eventPropagator.isFirstPropagationStep(s)&&l.isKeyIncluded(a)&&this._addToAndLogCurrentKeyCombination(a,no.keypress,i,s,Lb(r)),_===Ju.handled&&this._callHandlerIfActionNotHandled(r,a,no.keypress,s,i),this.eventPropagator.finishPropagationStep(),p}}},{key:"handleKeyUp",value:function(r,i,s,o){var a=BC(r),l=this.getCurrentCombination();if(l.isKeyUpSimulated(a))return this.eventPropagator.ignoreEvent(r),!0;var f=this.eventPropagator.startNewPropagationStep(s,r,a,no.keyup);if(f){var p=i!==this.focusTreeId,_=this._howToHandleKeyEvent(r,i,s,a,o,no.keyup);return this.eventPropagator.isFirstPropagationStep(s)&&l.isKeyIncluded(a)&&this._addToAndLogCurrentKeyCombination(a,no.keyup,i,s,Lb(r)),_===Ju.handled&&this._callHandlerIfActionNotHandled(r,a,no.keyup,s,i),this._simulateKeyUpEventsHiddenByCmd(r,a,i,s,o),this.eventPropagator.finishPropagationStep(),p}}},{key:"closeHangingKeyCombination",value:function(r,i){var s=this.getCurrentCombination();s.isKeyIncluded(r)&&!s.isEventTriggered(r,i)&&s.setKeyState(r,i,Ly.simulated)}},{key:"_simulateKeyPressForNonPrintableKeys",value:function(r,i,s,o,a){this._handleEventSimulation("keypressEventsToSimulate","simulatePendingKeyPressEvents",this._shouldSimulate(no.keypress,i),{event:r,key:i,focusTreeId:s,componentId:o,options:a})}},{key:"_simulateKeyUpEventsHiddenByCmd",value:function(r,i,s,o,a){var l=this;pH(i)&&this.getCurrentCombination().forEachKey(function(f){pH(f)||l._handleEventSimulation("keyupEventsToSimulate","simulatePendingKeyUpEvents",l._shouldSimulate(no.keyup,f),{event:r,key:f,focusTreeId:s,componentId:o,options:a})})}},{key:"_stopEventPropagation",value:function(r,i){this.eventPropagator.stop(r)}},{key:"getEventPropagator",value:function(){return this.eventPropagator}},{key:"_startAndLogNewKeyCombination",value:function(r,i,s,o){this.getKeyHistory().startNewKeyCombination(r,o)}},{key:"_addToAndLogCurrentKeyCombination",value:function(r,i,s,o,a){this.getKeyHistory().addKeyToCurrentCombination(r,i,a)}},{key:"_handleEventSimulation",value:function(r,i,s,o){var a=o.event,l=o.key,f=o.focusTreeId,p=o.componentId,_=o.options;if(s&&Ja.option("simulateMissingKeyPressEvents")){var E=this._cloneAndMergeEvent(a,{key:l,simulated:!0});this[r].push({event:E,focusTreeId:f,componentId:p,options:_})}(this.componentList.isRoot(p)||this.eventPropagator.isStopped())&&!this.keyEventManager.isGlobalListenersBound()&&this[i]()}},{key:"simulatePendingKeyPressEvents",value:function(){this._simulatePendingKeyEvents("keypressEventsToSimulate","handleKeyPress")}},{key:"simulatePendingKeyUpEvents",value:function(){this._simulatePendingKeyEvents("keyupEventsToSimulate","handleKeyUp")}},{key:"_simulatePendingKeyEvents",value:function(r,i){var s=this;0<this[r].length&&BR.incrementId(),this[r].forEach(function(o){var a=o.event,l=o.focusTreeId,f=o.componentId,p=o.options;s[i](a,l,f,p)}),this[r]=[]}},{key:"_callHandlerIfActionNotHandled",value:function(r,i,s,o,a){var l=this.getCurrentCombination().describe();if(!!this.componentList.anyActionsForEventType(s)&&!this.eventPropagator.isHandled()){var f=this.eventPropagator.getPreviousPosition(),p=this.componentList.getIndexById(o),_=this._callClosestMatchingHandler(r,i,s,p,f===-1?0:f);_&&this.eventPropagator.setHandled()}}},{key:"_logPrefix",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=zm.logIcons,o=zm.eventIcons,a=zm.componentIcons,l="HotKeys (";if(i.focusTreeId!==!1){var f=L1(i.focusTreeId)?this.focusTreeId:i.focusTreeId;l+="F".concat(f).concat(s[f%s.length],"-")}if(i.eventId!==!1){var p=L1(i.eventId)?BR.getId():i.eventId;l+="E".concat(p).concat(o[p%o.length],"-")}l+="C".concat(r).concat(a[r%a.length]);var _=this.componentList.getIndexById(r);return L1(_)||(l+="-P".concat(_).concat(a[_%a.length],":")),"".concat(l,")")}}]),e}(PAe);Mmt=function(n){function e(){var t,r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},i=1<arguments.length?arguments[1]:void 0;return Ya(this,e),t=Bx(this,Dc(e).call(this,r,i)),t.listenersBound=!1,t.eventOptions={ignoreEventsCondition:Ja.option("ignoreEventsCondition")},t.listeners={},t}return Px(e,n),Ka(e,[{key:"enableHotKeys",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0;this.eventOptions=a,this._addComponent(r,i,s,o),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"updateEnabledHotKeys",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0;this.eventOptions=a,this.componentList.update(r,i,s,o),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"disableHotKeys",value:function(r){this.componentList.remove(r),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"_updateDocumentHandlers",value:function(){var r=this,i=this._listenersShouldBeBound();!this.listenersBound&&i?(Object.values(no).forEach(function(s){var o=kAe(s);document["on".concat(o)]=function(a){r.keyEventManager["handleGlobal".concat(Imt(o))](a)}}),this.listenersBound=!0):this.listenersBound&&!i&&(Object.values(no).forEach(function(s){var o=kAe(s);delete document["on".concat(o)]}),this.listenersBound=!1)}},{key:"_listenersShouldBeBound",value:function(){return this.componentList.any()||this.listeners.keyCombination}},{key:"handleKeydown",value:function(r){var i=BC(r);if(r.repeat&&Ja.option("ignoreRepeatedEventsWhenKeyHeldDown"))return!0;this._checkForModifierFlagDiscrepancies(r,i,no.keydown);var s=this._howReactAppRespondedTo(r,i,no.keydown);if(!(s===Ju.unseen&&this.eventOptions.ignoreEventsCondition(r))){if(s!==Ju.ignored){var o=Lb(r),a=this.getCurrentCombination();a.isKeyIncluded(i)||a.isEnding()?this._startAndLogNewKeyCombination(i,o):this._addToAndLogCurrentKeyCombination(i,no.keydown,o)}mH([Ju.ignored,Ju.handled],s)||this._callHandlerIfExists(r,i,no.keydown),this._simulateKeyPressForNonPrintableKeys(r,i)}}},{key:"_howReactAppRespondedTo",value:function(r,i,s){var o=this.keyEventManager.reactAppHistoryWithEvent(i,s);return o===Ju.handled||o===Ju.ignored||o===Ju.seen||BR.incrementId(),o}},{key:"handleKeyPress",value:function(r){var i=BC(r);if(r.repeat&&Ja.option("ignoreRepeatedEventsWhenKeyHeldDown"))return!0;var s=this.getCurrentCombination();if(s.isKeyPressSimulated(i))return!0;var o=this._howReactAppRespondedTo(r,i,no.keypress);return s.isKeyIncluded(i)&&this._addToAndLogCurrentKeyCombination(i,no.keypress,Lb(r)),o===Ju.unseen&&(this.keyEventManager.closeHangingKeyCombination(i,no.keypress),this.eventOptions.ignoreEventsCondition(r))?void 0:void(!mH([Ju.ignored,Ju.handled],o)&&this._callHandlerIfExists(r,i,no.keypress))}},{key:"handleKeyUp",value:function(r){var i=BC(r),s=this.getCurrentCombination();if(s.isKeyUpSimulated(i))return!0;var o=this._howReactAppRespondedTo(r,i,no.keyup);s.isKeyIncluded(i)&&this._addToAndLogCurrentKeyCombination(i,no.keyup,Lb(r)),o===Ju.unseen?(this.keyEventManager.closeHangingKeyCombination(i,no.keyup),this.eventOptions.ignoreEventsCondition(r)||!mH([Ju.ignored,Ju.handled],o)&&this._callHandlerIfExists(r,i,no.keyup)):!mH([Ju.ignored,Ju.handled],o)&&this._callHandlerIfExists(r,i,no.keyup),this._simulateKeyUpEventsHiddenByCmd(r,i),this.listeners.keyCombination&&this._allKeysAreReleased()&&this.listeners.keyCombination({keys:s.getKeyDictionary(),id:s.describe()})}},{key:"_simulateKeyPressForNonPrintableKeys",value:function(r,i){this.keyEventManager.simulatePendingKeyPressEvents(),this._handleEventSimulation("handleKeyPress",this._shouldSimulate(no.keypress,i),{event:r,key:i})}},{key:"_simulateKeyUpEventsHiddenByCmd",value:function(r,i){var s=this;pH(i)&&(this.keyEventManager.simulatePendingKeyUpEvents(),this.getCurrentCombination().forEachKey(function(o){pH(o)||s._handleEventSimulation("handleKeyUp",s._shouldSimulate(no.keyup,o),{event:r,key:o})}))}},{key:"_startAndLogNewKeyCombination",value:function(r,i){this.getKeyHistory().startNewKeyCombination(r,i)}},{key:"_addToAndLogCurrentKeyCombination",value:function(r,i,s){this.getKeyHistory().addKeyToCurrentCombination(r,i,s)}},{key:"_handleEventSimulation",value:function(r,i,s){var o=s.event,a=s.key;if(i&&Ja.option("simulateMissingKeyPressEvents")){var l=this._cloneAndMergeEvent(o,{key:a,simulated:!0});this[r](l)}}},{key:"_callHandlerIfExists",value:function(r,i,s){var o=this.getCurrentCombination().describe();return this.componentList.anyActionsForEventType(s)?void this._callClosestMatchingHandler(r,i,s):void 0}},{key:"_callClosestMatchingHandler",value:function(r,i,s){for(var o,a=this.componentList.getNewIterator();a.next();)if(o=Ny(Dc(e.prototype),"_callClosestMatchingHandler",this).call(this,r,i,s,a.getPosition(),0),o)return}},{key:"_stopEventPropagation",value:function(r,i){r.simulated||r.stopPropagation()}},{key:"addKeyCombinationListener",value:function(r){var i=this,s=function(){delete i.listeners.keyCombination};return this.listeners.keyCombination=function(o){r(o),s()},this._updateDocumentHandlers(),s}},{key:"_logPrefix",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=zm.eventIcons,o=zm.componentIcons,a="HotKeys (GLOBAL";if(i.eventId!==!1){var l=L1(i.eventId)?BR.getId():i.eventId;a="".concat(a,"-E").concat(l).concat(s[l%s.length])}return L1(r)?"".concat(a,"):"):"".concat(a,"-C").concat(r).concat(o[r%o.length],"):")}}]),e}(PAe);z0=function(){function n(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Ya(this,n),this.logger=e.logger||new zm(Ja.option("logLevel")),this._focusOnlyEventStrategy=new kmt({configuration:e,logger:this.logger},this),this._globalEventStrategy=new Mmt({configuration:e,logger:this.logger},this),this.mountedComponentsCount=0}return Ka(n,null,[{key:"getInstance",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return this.instance||(this.instance=new n(t)),this.instance}},{key:"clear",value:function(){delete this.instance}}]),Ka(n,[{key:"getApplicationKeyMap",value:function(){return Object.assign(this._globalEventStrategy.getApplicationKeyMap(),this._focusOnlyEventStrategy.getApplicationKeyMap())}},{key:"registerKeyMap",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return this._focusOnlyEventStrategy.registerKeyMap(t)}},{key:"reregisterKeyMap",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this._focusOnlyEventStrategy.reregisterKeyMap(t,r)}},{key:"deregisterKeyMap",value:function(t){this._focusOnlyEventStrategy.deregisterKeyMap(t)}},{key:"registerComponentMount",value:function(t,r){return this._incrementComponentCount(),this._focusOnlyEventStrategy.registerComponentMount(t,r)}},{key:"registerComponentUnmount",value:function(){this._decrementComponentCount()}},{key:"_incrementComponentCount",value:function(){var t=this,r=this.mountedComponentsCount;this.mountedComponentsCount+=1,r===0&&this.mountedComponentsCount===1&&(window.onblur=function(){return t._clearKeyHistory()})}},{key:"_decrementComponentCount",value:function(){var t=this.mountedComponentsCount;this.mountedComponentsCount-=1,t===1&&this.mountedComponentsCount===0&&delete window.onblur}},{key:"_clearKeyHistory",value:function(){this._focusOnlyEventStrategy.resetKeyHistory({force:!0}),this._globalEventStrategy.resetKeyHistory({force:!0})}},{key:"registerGlobalKeyMap",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return this._globalEventStrategy.registerKeyMap(t)}},{key:"registerGlobalComponentUnmount",value:function(){this._decrementComponentCount()}},{key:"registerGlobalComponentMount",value:function(t,r){return this._incrementComponentCount(),this._globalEventStrategy.registerComponentMount(t,r)}},{key:"reregisterGlobalKeyMap",value:function(t,r){this._globalEventStrategy.reregisterKeyMap(t,r)}},{key:"deregisterGlobalKeyMap",value:function(t){this._globalEventStrategy.deregisterKeyMap(t)}},{key:"addKeyCombinationListener",value:function(t){return this._globalEventStrategy.addKeyCombinationListener(t)}},{key:"enableHotKeys",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0;return this._focusOnlyEventStrategy.enableHotKeys(t,r,i,s)}},{key:"updateEnabledHotKeys",value:function(t,r){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},o=4<arguments.length?arguments[4]:void 0;return this._focusOnlyEventStrategy.updateEnabledHotKeys(t,r,i,s,o)}},{key:"disableHotKeys",value:function(t,r){return this._focusOnlyEventStrategy.disableHotKeys(t,r)}},{key:"handleKeydown",value:function(t,r,i,s){if(bue(r))return this._focusOnlyEventStrategy.handleKeydown(t,r,i,s)}},{key:"handleKeyPress",value:function(t,r,i,s){if(bue(r))return this._focusOnlyEventStrategy.handleKeyPress(t,r,i,s)}},{key:"handleKeyUp",value:function(t,r,i,s){if(bue(r))return this._focusOnlyEventStrategy.handleKeyUp(t,r,i,s)}},{key:"enableGlobalHotKeys",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0;return this._globalEventStrategy.enableHotKeys(t,r,i,s,o)}},{key:"updateEnabledGlobalHotKeys",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0;return this._globalEventStrategy.updateEnabledHotKeys(t,r,i,s,o)}},{key:"disableGlobalHotKeys",value:function(t){return this._globalEventStrategy.disableHotKeys(t)}},{key:"handleGlobalKeyDown",value:function(t){return this._globalEventStrategy.handleKeydown(t)}},{key:"handleGlobalKeyPress",value:function(t){return this._globalEventStrategy.handleKeyPress(t)}},{key:"handleGlobalKeyUp",value:function(t){return this._globalEventStrategy.handleKeyUp(t)}},{key:"ignoreEvent",value:function(t){this._focusOnlyEventStrategy.getEventPropagator().ignoreEvent(t)}},{key:"observeIgnoredEvents",value:function(t){this._focusOnlyEventStrategy.getEventPropagator().observeIgnoredEvents(t)}},{key:"closeHangingKeyCombination",value:function(t,r){this._focusOnlyEventStrategy.closeHangingKeyCombination(t,r)}},{key:"reactAppHistoryWithEvent",value:function(t,r){var i=this._focusOnlyEventStrategy.eventPropagator.getPreviousPropagation();return i.isForKey(t)&&i.isForEventType(r)?i.isHandled()?Ju.handled:i.isIgnoringEvent()?Ju.ignored:Ju.seen:Ju.unseen}},{key:"simulatePendingKeyPressEvents",value:function(){this._focusOnlyEventStrategy.simulatePendingKeyPressEvents()}},{key:"simulatePendingKeyUpEvents",value:function(){this._focusOnlyEventStrategy.simulatePendingKeyUpEvents()}},{key:"isGlobalListenersBound",value:function(){return this._globalEventStrategy.listenersBound}}]),n}();Pmt=function(n){function e(){return Ya(this,e),Bx(this,Dc(e).apply(this,arguments))}return Px(e,n),Ka(e,[{key:"render",value:function(){var r=this.props,i=r.hotKeys,s=r.innerRef,o=r.component,a=kR(r,["hotKeys","innerRef","component"]),l=o||Ja.option("defaultComponent");return r0.default.createElement(l,R1({},i,{ref:s},a))}}]),e}(r0.Component),UAe=qAe(Pmt);UAe.propTypes={innerRef:Cu.default.oneOfType([Cu.default.object,Cu.default.func])};$Ae=function(n){function e(t){var r;return Ya(this,e),r=Bx(this,Dc(e).call(this,t)),r._id=z0.getInstance().registerGlobalKeyMap(t.keyMap),r._childContext={globalHotKeysParentId:r._id},r}return Px(e,n),Ka(e,[{key:"render",value:function(){return this.props.children||null}},{key:"componentDidUpdate",value:function(){var r=z0.getInstance();if(r.reregisterGlobalKeyMap(this._id,this.props.keyMap),this.props.allowChanges||!Ja.option("ignoreKeymapAndHandlerChangesByDefault")){var i=this.props,s=i.keyMap,o=i.handlers;r.updateEnabledGlobalHotKeys(this._id,s,o,this._getComponentOptions(),this._getEventOptions())}}},{key:"componentDidMount",value:function(){var r=this.props,i=r.keyMap,s=r.handlers,o=this.context.globalHotKeysParentId,a=z0.getInstance();a.registerGlobalComponentMount(this._id,o),a.enableGlobalHotKeys(this._id,i,s,this._getComponentOptions(),this._getEventOptions())}},{key:"componentWillUnmount",value:function(){var r=z0.getInstance();r.deregisterGlobalKeyMap(this._id),r.disableGlobalHotKeys(this._id),r.registerGlobalComponentUnmount()}},{key:"_getComponentOptions",value:function(){return{defaultKeyEvent:Ja.option("defaultKeyEvent")}}},{key:"_getEventOptions",value:function(){return{ignoreEventsCondition:Ja.option("ignoreEventsCondition")}}}]),e}(r0.Component);Ff($Ae,"propTypes",{keyMap:Cu.default.object,handlers:Cu.default.object,allowChanges:Cu.default.bool});Bmt=jAe($Ae,{deprecatedAPI:{contextTypes:{globalHotKeysParentId:Cu.default.number},childContextTypes:{globalHotKeysParentId:Cu.default.number}},newAPI:{contextType:{globalHotKeysParentId:void 0}}});jmt=function(n){function e(){return Ya(this,e),Bx(this,Dc(e).apply(this,arguments))}return Px(e,n),Ka(e,[{key:"render",value:function(){var r=this.props,i=r.hotKeys,s=kR(r,["hotKeys"]),o=s.component||Ja.option("defaultComponent");return r0.default.createElement(o,R1({},i,s))}}]),e}(r0.Component),qmt=xH(jmt,{},"ignoreEvent"),Umt=function(n){function e(){return Ya(this,e),Bx(this,Dc(e).apply(this,arguments))}return Px(e,n),Ka(e,[{key:"render",value:function(){var r=this.props,i=r.hotKeys,s=kR(r,["hotKeys"]),o=s.component||Ja.option("defaultComponent");return r0.default.createElement(o,R1({},i,s))}}]),e}(r0.Component),$mt=xH(Umt,{},"observeIgnoredEvents")});var QAe=Ae((PRt,WAe)=>{"use strict";m();WAe.exports=(VAe(),ije(HAe))});var iFe=Ae((yPt,rFe)=>{m();var xxt=typeof Element!="undefined",gxt=typeof Map=="function",yxt=typeof Set=="function",vxt=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function LH(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var t,r,i;if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(!LH(n[r],e[r]))return!1;return!0}var s;if(gxt&&n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=n.entries();!(r=s.next()).done;)if(!LH(r.value[1],e.get(r.value[0])))return!1;return!0}if(yxt&&n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(vxt&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(e)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(n[r]!==e[r])return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(xxt&&n instanceof Element)return!1;for(r=t;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&n.$$typeof)&&!LH(n[i[r]],e[i[r]]))return!1;return!0}return n!==n&&e!==e}rFe.exports=function(e,t){try{return LH(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}}});var ole=Ae((sle,s9)=>{m();(function(n,e){typeof sle=="object"&&typeof s9!="undefined"?s9.exports=e():typeof define=="function"&&define.amd?define(e):n.moment=e()})(sle,function(){"use strict";var n;function e(){return n.apply(null,arguments)}function t(A){n=A}function r(A){return A instanceof Array||Object.prototype.toString.call(A)==="[object Array]"}function i(A){return A!=null&&Object.prototype.toString.call(A)==="[object Object]"}function s(A,W){return Object.prototype.hasOwnProperty.call(A,W)}function o(A){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(A).length===0;var W;for(W in A)if(s(A,W))return!1;return!0}function a(A){return A===void 0}function l(A){return typeof A=="number"||Object.prototype.toString.call(A)==="[object Number]"}function f(A){return A instanceof Date||Object.prototype.toString.call(A)==="[object Date]"}function p(A,W){var de=[],Pe,wt=A.length;for(Pe=0;Pe<wt;++Pe)de.push(W(A[Pe],Pe));return de}function _(A,W){for(var de in W)s(W,de)&&(A[de]=W[de]);return s(W,"toString")&&(A.toString=W.toString),s(W,"valueOf")&&(A.valueOf=W.valueOf),A}function E(A,W,de,Pe){return pn(A,W,de,Pe,!0).utc()}function O(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function R(A){return A._pf==null&&(A._pf=O()),A._pf}var q;Array.prototype.some?q=Array.prototype.some:q=function(A){var W=Object(this),de=W.length>>>0,Pe;for(Pe=0;Pe<de;Pe++)if(Pe in W&&A.call(this,W[Pe],Pe,W))return!0;return!1};function z(A){if(A._isValid==null){var W=R(A),de=q.call(W.parsedDateParts,function(wt){return wt!=null}),Pe=!isNaN(A._d.getTime())&&W.overflow<0&&!W.empty&&!W.invalidEra&&!W.invalidMonth&&!W.invalidWeekday&&!W.weekdayMismatch&&!W.nullInput&&!W.invalidFormat&&!W.userInvalidated&&(!W.meridiem||W.meridiem&&de);if(A._strict&&(Pe=Pe&&W.charsLeftOver===0&&W.unusedTokens.length===0&&W.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(A))A._isValid=Pe;else return Pe}return A._isValid}function L(A){var W=E(NaN);return A!=null?_(R(W),A):R(W).userInvalidated=!0,W}var B=e.momentProperties=[],P=!1;function G(A,W){var de,Pe,wt,Tn=B.length;if(a(W._isAMomentObject)||(A._isAMomentObject=W._isAMomentObject),a(W._i)||(A._i=W._i),a(W._f)||(A._f=W._f),a(W._l)||(A._l=W._l),a(W._strict)||(A._strict=W._strict),a(W._tzm)||(A._tzm=W._tzm),a(W._isUTC)||(A._isUTC=W._isUTC),a(W._offset)||(A._offset=W._offset),a(W._pf)||(A._pf=R(W)),a(W._locale)||(A._locale=W._locale),Tn>0)for(de=0;de<Tn;de++)Pe=B[de],wt=W[Pe],a(wt)||(A[Pe]=wt);return A}function ue(A){G(this,A),this._d=new Date(A._d!=null?A._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),P===!1&&(P=!0,e.updateOffset(this),P=!1)}function I(A){return A instanceof ue||A!=null&&A._isAMomentObject!=null}function J(A){e.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+A)}function he(A,W){var de=!0;return _(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,A),de){var Pe=[],wt,Tn,ur,$i=arguments.length;for(Tn=0;Tn<$i;Tn++){if(wt="",typeof arguments[Tn]=="object"){wt+=`
[`+Tn+"] ";for(ur in arguments[0])s(arguments[0],ur)&&(wt+=ur+": "+arguments[0][ur]+", ");wt=wt.slice(0,-2)}else wt=arguments[Tn];Pe.push(wt)}J(A+`
Arguments: `+Array.prototype.slice.call(Pe).join("")+`
`+new Error().stack),de=!1}return W.apply(this,arguments)},W)}var ye={};function He(A,W){e.deprecationHandler!=null&&e.deprecationHandler(A,W),ye[A]||(J(W),ye[A]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function at(A){return typeof Function!="undefined"&&A instanceof Function||Object.prototype.toString.call(A)==="[object Function]"}function ct(A){var W,de;for(de in A)s(A,de)&&(W=A[de],at(W)?this[de]=W:this["_"+de]=W);this._config=A,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ze(A,W){var de=_({},A),Pe;for(Pe in W)s(W,Pe)&&(i(A[Pe])&&i(W[Pe])?(de[Pe]={},_(de[Pe],A[Pe]),_(de[Pe],W[Pe])):W[Pe]!=null?de[Pe]=W[Pe]:delete de[Pe]);for(Pe in A)s(A,Pe)&&!s(W,Pe)&&i(A[Pe])&&(de[Pe]=_({},de[Pe]));return de}function Et(A){A!=null&&this.set(A)}var Mt;Object.keys?Mt=Object.keys:Mt=function(A){var W,de=[];for(W in A)s(A,W)&&de.push(W);return de};var qe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function te(A,W,de){var Pe=this._calendar[A]||this._calendar.sameElse;return at(Pe)?Pe.call(W,de):Pe}function et(A,W,de){var Pe=""+Math.abs(A),wt=W-Pe.length,Tn=A>=0;return(Tn?de?"+":"":"-")+Math.pow(10,Math.max(0,wt)).toString().substr(1)+Pe}var be=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ke=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,we={},pe={};function Je(A,W,de,Pe){var wt=Pe;typeof Pe=="string"&&(wt=function(){return this[Pe]()}),A&&(pe[A]=wt),W&&(pe[W[0]]=function(){return et(wt.apply(this,arguments),W[1],W[2])}),de&&(pe[de]=function(){return this.localeData().ordinal(wt.apply(this,arguments),A)})}function lt(A){return A.match(/\[[\s\S]/)?A.replace(/^\[|\]$/g,""):A.replace(/\\/g,"")}function Ht(A){var W=A.match(be),de,Pe;for(de=0,Pe=W.length;de<Pe;de++)pe[W[de]]?W[de]=pe[W[de]]:W[de]=lt(W[de]);return function(wt){var Tn="",ur;for(ur=0;ur<Pe;ur++)Tn+=at(W[ur])?W[ur].call(wt,A):W[ur];return Tn}}function Ct(A,W){return A.isValid()?(W=mn(W,A.localeData()),we[W]=we[W]||Ht(W),we[W](A)):A.localeData().invalidDate()}function mn(A,W){var de=5;function Pe(wt){return W.longDateFormat(wt)||wt}for(ke.lastIndex=0;de>=0&&ke.test(A);)A=A.replace(ke,Pe),ke.lastIndex=0,de-=1;return A}var kt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Bt(A){var W=this._longDateFormat[A],de=this._longDateFormat[A.toUpperCase()];return W||!de?W:(this._longDateFormat[A]=de.match(be).map(function(Pe){return Pe==="MMMM"||Pe==="MM"||Pe==="DD"||Pe==="dddd"?Pe.slice(1):Pe}).join(""),this._longDateFormat[A])}var tn="Invalid date";function bt(){return this._invalidDate}var ve="%d",Le=/\d{1,2}/;function _e(A){return this._ordinal.replace("%d",A)}var ce={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function tt(A,W,de,Pe){var wt=this._relativeTime[de];return at(wt)?wt(A,W,de,Pe):wt.replace(/%d/i,A)}function Ke(A,W){var de=this._relativeTime[A>0?"future":"past"];return at(de)?de(W):de.replace(/%s/i,W)}var re={};function Oe(A,W){var de=A.toLowerCase();re[de]=re[de+"s"]=re[W]=A}function nt(A){return typeof A=="string"?re[A]||re[A.toLowerCase()]:void 0}function ft(A){var W={},de,Pe;for(Pe in A)s(A,Pe)&&(de=nt(Pe),de&&(W[de]=A[Pe]));return W}var Ot={};function Yt(A,W){Ot[A]=W}function Gt(A){var W=[],de;for(de in A)s(A,de)&&W.push({unit:de,priority:Ot[de]});return W.sort(function(Pe,wt){return Pe.priority-wt.priority}),W}function fn(A){return A%4===0&&A%100!==0||A%400===0}function gn(A){return A<0?Math.ceil(A)||0:Math.floor(A)}function yn(A){var W=+A,de=0;return W!==0&&isFinite(W)&&(de=gn(W)),de}function Lt(A,W){return function(de){return de!=null?(Mn(this,A,de),e.updateOffset(this,W),this):un(this,A)}}function un(A,W){return A.isValid()?A._d["get"+(A._isUTC?"UTC":"")+W]():NaN}function Mn(A,W,de){A.isValid()&&!isNaN(de)&&(W==="FullYear"&&fn(A.year())&&A.month()===1&&A.date()===29?(de=yn(de),A._d["set"+(A._isUTC?"UTC":"")+W](de,A.month(),zn(de,A.month()))):A._d["set"+(A._isUTC?"UTC":"")+W](de))}function tr(A){return A=nt(A),at(this[A])?this[A]():this}function Rn(A,W){if(typeof A=="object"){A=ft(A);var de=Gt(A),Pe,wt=de.length;for(Pe=0;Pe<wt;Pe++)this[de[Pe].unit](A[de[Pe].unit])}else if(A=nt(A),at(this[A]))return this[A](W);return this}var Ne=/\d/,ze=/\d\d/,De=/\d{3}/,Pt=/\d{4}/,mt=/[+-]?\d{6}/,xt=/\d\d?/,rn=/\d\d\d\d?/,Qt=/\d\d\d\d\d\d?/,Fn=/\d{1,3}/,Wn=/\d{1,4}/,Zn=/[+-]?\d{1,6}/,Nn=/\d+/,nr=/[+-]?\d+/,Ye=/Z|[+-]\d\d:?\d\d/gi,vt=/Z|[+-]\d\d(?::?\d\d)?/gi,oe=/[+-]?\d+(\.\d{1,3})?/,Be=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,rt;rt={};function Dt(A,W,de){rt[A]=at(W)?W:function(Pe,wt){return Pe&&de?de:W}}function hn(A,W){return s(rt,A)?rt[A](W._strict,W._locale):new RegExp(an(A))}function an(A){return dt(A.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(W,de,Pe,wt,Tn){return de||Pe||wt||Tn}))}function dt(A){return A.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ie={};function Te(A,W){var de,Pe=W,wt;for(typeof A=="string"&&(A=[A]),l(W)&&(Pe=function(Tn,ur){ur[W]=yn(Tn)}),wt=A.length,de=0;de<wt;de++)ie[A[de]]=Pe}function Ue(A,W){Te(A,function(de,Pe,wt,Tn){wt._w=wt._w||{},W(de,wt._w,wt,Tn)})}function gt(A,W,de){W!=null&&s(ie,A)&&ie[A](W,de._a,de,A)}var St=0,Rt=1,ne=2,Ce=3,We=4,st=5,Ut=6,sn=7,Cn=8;function En(A,W){return(A%W+W)%W}var vn;Array.prototype.indexOf?vn=Array.prototype.indexOf:vn=function(A){var W;for(W=0;W<this.length;++W)if(this[W]===A)return W;return-1};function zn(A,W){if(isNaN(A)||isNaN(W))return NaN;var de=En(W,12);return A+=(W-de)/12,de===1?fn(A)?29:28:31-de%7%2}Je("M",["MM",2],"Mo",function(){return this.month()+1}),Je("MMM",0,0,function(A){return this.localeData().monthsShort(this,A)}),Je("MMMM",0,0,function(A){return this.localeData().months(this,A)}),Oe("month","M"),Yt("month",8),Dt("M",xt),Dt("MM",xt,ze),Dt("MMM",function(A,W){return W.monthsShortRegex(A)}),Dt("MMMM",function(A,W){return W.monthsRegex(A)}),Te(["M","MM"],function(A,W){W[Rt]=yn(A)-1}),Te(["MMM","MMMM"],function(A,W,de,Pe){var wt=de._locale.monthsParse(A,Pe,de._strict);wt!=null?W[Rt]=wt:R(de).invalidMonth=A});var Re="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),$e="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ft=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,N=Be,V=Be;function Ee(A,W){return A?r(this._months)?this._months[A.month()]:this._months[(this._months.isFormat||Ft).test(W)?"format":"standalone"][A.month()]:r(this._months)?this._months:this._months.standalone}function xe(A,W){return A?r(this._monthsShort)?this._monthsShort[A.month()]:this._monthsShort[Ft.test(W)?"format":"standalone"][A.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function K(A,W,de){var Pe,wt,Tn,ur=A.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Pe=0;Pe<12;++Pe)Tn=E([2e3,Pe]),this._shortMonthsParse[Pe]=this.monthsShort(Tn,"").toLocaleLowerCase(),this._longMonthsParse[Pe]=this.months(Tn,"").toLocaleLowerCase();return de?W==="MMM"?(wt=vn.call(this._shortMonthsParse,ur),wt!==-1?wt:null):(wt=vn.call(this._longMonthsParse,ur),wt!==-1?wt:null):W==="MMM"?(wt=vn.call(this._shortMonthsParse,ur),wt!==-1?wt:(wt=vn.call(this._longMonthsParse,ur),wt!==-1?wt:null)):(wt=vn.call(this._longMonthsParse,ur),wt!==-1?wt:(wt=vn.call(this._shortMonthsParse,ur),wt!==-1?wt:null))}function ae(A,W,de){var Pe,wt,Tn;if(this._monthsParseExact)return K.call(this,A,W,de);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),Pe=0;Pe<12;Pe++){if(wt=E([2e3,Pe]),de&&!this._longMonthsParse[Pe]&&(this._longMonthsParse[Pe]=new RegExp("^"+this.months(wt,"").replace(".","")+"$","i"),this._shortMonthsParse[Pe]=new RegExp("^"+this.monthsShort(wt,"").replace(".","")+"$","i")),!de&&!this._monthsParse[Pe]&&(Tn="^"+this.months(wt,"")+"|^"+this.monthsShort(wt,""),this._monthsParse[Pe]=new RegExp(Tn.replace(".",""),"i")),de&&W==="MMMM"&&this._longMonthsParse[Pe].test(A))return Pe;if(de&&W==="MMM"&&this._shortMonthsParse[Pe].test(A))return Pe;if(!de&&this._monthsParse[Pe].test(A))return Pe}}function fe(A,W){var de;if(!A.isValid())return A;if(typeof W=="string"){if(/^\d+$/.test(W))W=yn(W);else if(W=A.localeData().monthsParse(W),!l(W))return A}return de=Math.min(A.date(),zn(A.year(),W)),A._d["set"+(A._isUTC?"UTC":"")+"Month"](W,de),A}function Qe(A){return A!=null?(fe(this,A),e.updateOffset(this,!0),this):un(this,"Month")}function It(){return zn(this.year(),this.month())}function At(A){return this._monthsParseExact?(s(this,"_monthsRegex")||w.call(this),A?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=N),this._monthsShortStrictRegex&&A?this._monthsShortStrictRegex:this._monthsShortRegex)}function dn(A){return this._monthsParseExact?(s(this,"_monthsRegex")||w.call(this),A?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=V),this._monthsStrictRegex&&A?this._monthsStrictRegex:this._monthsRegex)}function w(){function A(ur,$i){return $i.length-ur.length}var W=[],de=[],Pe=[],wt,Tn;for(wt=0;wt<12;wt++)Tn=E([2e3,wt]),W.push(this.monthsShort(Tn,"")),de.push(this.months(Tn,"")),Pe.push(this.months(Tn,"")),Pe.push(this.monthsShort(Tn,""));for(W.sort(A),de.sort(A),Pe.sort(A),wt=0;wt<12;wt++)W[wt]=dt(W[wt]),de[wt]=dt(de[wt]);for(wt=0;wt<24;wt++)Pe[wt]=dt(Pe[wt]);this._monthsRegex=new RegExp("^("+Pe.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+de.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+W.join("|")+")","i")}Je("Y",0,0,function(){var A=this.year();return A<=9999?et(A,4):"+"+A}),Je(0,["YY",2],0,function(){return this.year()%100}),Je(0,["YYYY",4],0,"year"),Je(0,["YYYYY",5],0,"year"),Je(0,["YYYYYY",6,!0],0,"year"),Oe("year","y"),Yt("year",1),Dt("Y",nr),Dt("YY",xt,ze),Dt("YYYY",Wn,Pt),Dt("YYYYY",Zn,mt),Dt("YYYYYY",Zn,mt),Te(["YYYYY","YYYYYY"],St),Te("YYYY",function(A,W){W[St]=A.length===2?e.parseTwoDigitYear(A):yn(A)}),Te("YY",function(A,W){W[St]=e.parseTwoDigitYear(A)}),Te("Y",function(A,W){W[St]=parseInt(A,10)});function j(A){return fn(A)?366:365}e.parseTwoDigitYear=function(A){return yn(A)+(yn(A)>68?1900:2e3)};var ee=Lt("FullYear",!0);function Se(){return fn(this.year())}function ht(A,W,de,Pe,wt,Tn,ur){var $i;return A<100&&A>=0?($i=new Date(A+400,W,de,Pe,wt,Tn,ur),isFinite($i.getFullYear())&&$i.setFullYear(A)):$i=new Date(A,W,de,Pe,wt,Tn,ur),$i}function Tt(A){var W,de;return A<100&&A>=0?(de=Array.prototype.slice.call(arguments),de[0]=A+400,W=new Date(Date.UTC.apply(null,de)),isFinite(W.getUTCFullYear())&&W.setUTCFullYear(A)):W=new Date(Date.UTC.apply(null,arguments)),W}function Zt(A,W,de){var Pe=7+W-de,wt=(7+Tt(A,0,Pe).getUTCDay()-W)%7;return-wt+Pe-1}function Xt(A,W,de,Pe,wt){var Tn=(7+de-Pe)%7,ur=Zt(A,Pe,wt),$i=1+7*(W-1)+Tn+ur,Bi,ao;return $i<=0?(Bi=A-1,ao=j(Bi)+$i):$i>j(A)?(Bi=A+1,ao=$i-j(A)):(Bi=A,ao=$i),{year:Bi,dayOfYear:ao}}function xn(A,W,de){var Pe=Zt(A.year(),W,de),wt=Math.floor((A.dayOfYear()-Pe-1)/7)+1,Tn,ur;return wt<1?(ur=A.year()-1,Tn=wt+qn(ur,W,de)):wt>qn(A.year(),W,de)?(Tn=wt-qn(A.year(),W,de),ur=A.year()+1):(ur=A.year(),Tn=wt),{week:Tn,year:ur}}function qn(A,W,de){var Pe=Zt(A,W,de),wt=Zt(A+1,W,de);return(j(A)-Pe+wt)/7}Je("w",["ww",2],"wo","week"),Je("W",["WW",2],"Wo","isoWeek"),Oe("week","w"),Oe("isoWeek","W"),Yt("week",5),Yt("isoWeek",5),Dt("w",xt),Dt("ww",xt,ze),Dt("W",xt),Dt("WW",xt,ze),Ue(["w","ww","W","WW"],function(A,W,de,Pe){W[Pe.substr(0,1)]=yn(A)});function Un(A){return xn(A,this._week.dow,this._week.doy).week}var Vn={dow:0,doy:6};function Jr(){return this._week.dow}function Vr(){return this._week.doy}function yr(A){var W=this.localeData().week(this);return A==null?W:this.add((A-W)*7,"d")}function Mr(A){var W=xn(this,1,4).week;return A==null?W:this.add((A-W)*7,"d")}Je("d",0,"do","day"),Je("dd",0,0,function(A){return this.localeData().weekdaysMin(this,A)}),Je("ddd",0,0,function(A){return this.localeData().weekdaysShort(this,A)}),Je("dddd",0,0,function(A){return this.localeData().weekdays(this,A)}),Je("e",0,0,"weekday"),Je("E",0,0,"isoWeekday"),Oe("day","d"),Oe("weekday","e"),Oe("isoWeekday","E"),Yt("day",11),Yt("weekday",11),Yt("isoWeekday",11),Dt("d",xt),Dt("e",xt),Dt("E",xt),Dt("dd",function(A,W){return W.weekdaysMinRegex(A)}),Dt("ddd",function(A,W){return W.weekdaysShortRegex(A)}),Dt("dddd",function(A,W){return W.weekdaysRegex(A)}),Ue(["dd","ddd","dddd"],function(A,W,de,Pe){var wt=de._locale.weekdaysParse(A,Pe,de._strict);wt!=null?W.d=wt:R(de).invalidWeekday=A}),Ue(["d","e","E"],function(A,W,de,Pe){W[Pe]=yn(A)});function xi(A,W){return typeof A!="string"?A:isNaN(A)?(A=W.weekdaysParse(A),typeof A=="number"?A:null):parseInt(A,10)}function ai(A,W){return typeof A=="string"?W.weekdaysParse(A)%7||7:isNaN(A)?null:A}function Xi(A,W){return A.slice(W,7).concat(A.slice(0,W))}var ws="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ts="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Aa="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xa=Be,yl=Be,Nc=Be;function fu(A,W){var de=r(this._weekdays)?this._weekdays:this._weekdays[A&&A!==!0&&this._weekdays.isFormat.test(W)?"format":"standalone"];return A===!0?Xi(de,this._week.dow):A?de[A.day()]:de}function du(A){return A===!0?Xi(this._weekdaysShort,this._week.dow):A?this._weekdaysShort[A.day()]:this._weekdaysShort}function Xu(A){return A===!0?Xi(this._weekdaysMin,this._week.dow):A?this._weekdaysMin[A.day()]:this._weekdaysMin}function Du(A,W,de){var Pe,wt,Tn,ur=A.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Pe=0;Pe<7;++Pe)Tn=E([2e3,1]).day(Pe),this._minWeekdaysParse[Pe]=this.weekdaysMin(Tn,"").toLocaleLowerCase(),this._shortWeekdaysParse[Pe]=this.weekdaysShort(Tn,"").toLocaleLowerCase(),this._weekdaysParse[Pe]=this.weekdays(Tn,"").toLocaleLowerCase();return de?W==="dddd"?(wt=vn.call(this._weekdaysParse,ur),wt!==-1?wt:null):W==="ddd"?(wt=vn.call(this._shortWeekdaysParse,ur),wt!==-1?wt:null):(wt=vn.call(this._minWeekdaysParse,ur),wt!==-1?wt:null):W==="dddd"?(wt=vn.call(this._weekdaysParse,ur),wt!==-1||(wt=vn.call(this._shortWeekdaysParse,ur),wt!==-1)?wt:(wt=vn.call(this._minWeekdaysParse,ur),wt!==-1?wt:null)):W==="ddd"?(wt=vn.call(this._shortWeekdaysParse,ur),wt!==-1||(wt=vn.call(this._weekdaysParse,ur),wt!==-1)?wt:(wt=vn.call(this._minWeekdaysParse,ur),wt!==-1?wt:null)):(wt=vn.call(this._minWeekdaysParse,ur),wt!==-1||(wt=vn.call(this._weekdaysParse,ur),wt!==-1)?wt:(wt=vn.call(this._shortWeekdaysParse,ur),wt!==-1?wt:null))}function Lc(A,W,de){var Pe,wt,Tn;if(this._weekdaysParseExact)return Du.call(this,A,W,de);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),Pe=0;Pe<7;Pe++){if(wt=E([2e3,1]).day(Pe),de&&!this._fullWeekdaysParse[Pe]&&(this._fullWeekdaysParse[Pe]=new RegExp("^"+this.weekdays(wt,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[Pe]=new RegExp("^"+this.weekdaysShort(wt,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[Pe]=new RegExp("^"+this.weekdaysMin(wt,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[Pe]||(Tn="^"+this.weekdays(wt,"")+"|^"+this.weekdaysShort(wt,"")+"|^"+this.weekdaysMin(wt,""),this._weekdaysParse[Pe]=new RegExp(Tn.replace(".",""),"i")),de&&W==="dddd"&&this._fullWeekdaysParse[Pe].test(A))return Pe;if(de&&W==="ddd"&&this._shortWeekdaysParse[Pe].test(A))return Pe;if(de&&W==="dd"&&this._minWeekdaysParse[Pe].test(A))return Pe;if(!de&&this._weekdaysParse[Pe].test(A))return Pe}}function na(A){if(!this.isValid())return A!=null?this:NaN;var W=this._isUTC?this._d.getUTCDay():this._d.getDay();return A!=null?(A=xi(A,this.localeData()),this.add(A-W,"d")):W}function Zu(A){if(!this.isValid())return A!=null?this:NaN;var W=(this.day()+7-this.localeData()._week.dow)%7;return A==null?W:this.add(A-W,"d")}function nf(A){if(!this.isValid())return A!=null?this:NaN;if(A!=null){var W=ai(A,this.localeData());return this.day(this.day()%7?W:W-7)}else return this.day()||7}function Ge(A){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Yn.call(this),A?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=xa),this._weekdaysStrictRegex&&A?this._weekdaysStrictRegex:this._weekdaysRegex)}function Kt(A){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Yn.call(this),A?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=yl),this._weekdaysShortStrictRegex&&A?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function jn(A){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Yn.call(this),A?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Nc),this._weekdaysMinStrictRegex&&A?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Yn(){function A(gu,qc){return qc.length-gu.length}var W=[],de=[],Pe=[],wt=[],Tn,ur,$i,Bi,ao;for(Tn=0;Tn<7;Tn++)ur=E([2e3,1]).day(Tn),$i=dt(this.weekdaysMin(ur,"")),Bi=dt(this.weekdaysShort(ur,"")),ao=dt(this.weekdays(ur,"")),W.push($i),de.push(Bi),Pe.push(ao),wt.push($i),wt.push(Bi),wt.push(ao);W.sort(A),de.sort(A),Pe.sort(A),wt.sort(A),this._weekdaysRegex=new RegExp("^("+wt.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Pe.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+de.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+W.join("|")+")","i")}function ri(){return this.hours()%12||12}function Br(){return this.hours()||24}Je("H",["HH",2],0,"hour"),Je("h",["hh",2],0,ri),Je("k",["kk",2],0,Br),Je("hmm",0,0,function(){return""+ri.apply(this)+et(this.minutes(),2)}),Je("hmmss",0,0,function(){return""+ri.apply(this)+et(this.minutes(),2)+et(this.seconds(),2)}),Je("Hmm",0,0,function(){return""+this.hours()+et(this.minutes(),2)}),Je("Hmmss",0,0,function(){return""+this.hours()+et(this.minutes(),2)+et(this.seconds(),2)});function Xr(A,W){Je(A,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),W)})}Xr("a",!0),Xr("A",!1),Oe("hour","h"),Yt("hour",13);function As(A,W){return W._meridiemParse}Dt("a",As),Dt("A",As),Dt("H",xt),Dt("h",xt),Dt("k",xt),Dt("HH",xt,ze),Dt("hh",xt,ze),Dt("kk",xt,ze),Dt("hmm",rn),Dt("hmmss",Qt),Dt("Hmm",rn),Dt("Hmmss",Qt),Te(["H","HH"],Ce),Te(["k","kk"],function(A,W,de){var Pe=yn(A);W[Ce]=Pe===24?0:Pe}),Te(["a","A"],function(A,W,de){de._isPm=de._locale.isPM(A),de._meridiem=A}),Te(["h","hh"],function(A,W,de){W[Ce]=yn(A),R(de).bigHour=!0}),Te("hmm",function(A,W,de){var Pe=A.length-2;W[Ce]=yn(A.substr(0,Pe)),W[We]=yn(A.substr(Pe)),R(de).bigHour=!0}),Te("hmmss",function(A,W,de){var Pe=A.length-4,wt=A.length-2;W[Ce]=yn(A.substr(0,Pe)),W[We]=yn(A.substr(Pe,2)),W[st]=yn(A.substr(wt)),R(de).bigHour=!0}),Te("Hmm",function(A,W,de){var Pe=A.length-2;W[Ce]=yn(A.substr(0,Pe)),W[We]=yn(A.substr(Pe))}),Te("Hmmss",function(A,W,de){var Pe=A.length-4,wt=A.length-2;W[Ce]=yn(A.substr(0,Pe)),W[We]=yn(A.substr(Pe,2)),W[st]=yn(A.substr(wt))});function fo(A){return(A+"").toLowerCase().charAt(0)==="p"}var io=/[ap]\.?m?\.?/i,us=Lt("Hours",!0);function so(A,W,de){return A>11?de?"pm":"PM":de?"am":"AM"}var ho={calendar:qe,longDateFormat:kt,invalidDate:tn,ordinal:ve,dayOfMonthOrdinalParse:Le,relativeTime:ce,months:Re,monthsShort:$e,week:Vn,weekdays:ws,weekdaysMin:Aa,weekdaysShort:ts,meridiemParse:io},hi={},Ei={},Wi;function Xo(A,W){var de,Pe=Math.min(A.length,W.length);for(de=0;de<Pe;de+=1)if(A[de]!==W[de])return de;return Pe}function da(A){return A&&A.toLowerCase().replace("_","-")}function ha(A){for(var W=0,de,Pe,wt,Tn;W<A.length;){for(Tn=da(A[W]).split("-"),de=Tn.length,Pe=da(A[W+1]),Pe=Pe?Pe.split("-"):null;de>0;){if(wt=ls(Tn.slice(0,de).join("-")),wt)return wt;if(Pe&&Pe.length>=de&&Xo(Tn,Pe)>=de-1)break;de--}W++}return Wi}function po(A){return A.match("^[^/\\\\]*$")!=null}function ls(A){var W=null,de;if(hi[A]===void 0&&typeof s9!="undefined"&&s9&&s9.exports&&po(A))try{W=Wi._abbr,de=wk,de("./locale/"+A),ps(W)}catch{hi[A]=null}return hi[A]}function ps(A,W){var de;return A&&(a(W)?de=Ps(A):de=Zi(A,W),de?Wi=de:typeof console!="undefined"&&console.warn&&console.warn("Locale "+A+" not found. Did you forget to load it?")),Wi._abbr}function Zi(A,W){if(W!==null){var de,Pe=ho;if(W.abbr=A,hi[A]!=null)He("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Pe=hi[A]._config;else if(W.parentLocale!=null)if(hi[W.parentLocale]!=null)Pe=hi[W.parentLocale]._config;else if(de=ls(W.parentLocale),de!=null)Pe=de._config;else return Ei[W.parentLocale]||(Ei[W.parentLocale]=[]),Ei[W.parentLocale].push({name:A,config:W}),null;return hi[A]=new Et(Ze(Pe,W)),Ei[A]&&Ei[A].forEach(function(wt){Zi(wt.name,wt.config)}),ps(A),hi[A]}else return delete hi[A],null}function hu(A,W){if(W!=null){var de,Pe,wt=ho;hi[A]!=null&&hi[A].parentLocale!=null?hi[A].set(Ze(hi[A]._config,W)):(Pe=ls(A),Pe!=null&&(wt=Pe._config),W=Ze(wt,W),Pe==null&&(W.abbr=A),de=new Et(W),de.parentLocale=hi[A],hi[A]=de),ps(A)}else hi[A]!=null&&(hi[A].parentLocale!=null?(hi[A]=hi[A].parentLocale,A===ps()&&ps(A)):hi[A]!=null&&delete hi[A]);return hi[A]}function Ps(A){var W;if(A&&A._locale&&A._locale._abbr&&(A=A._locale._abbr),!A)return Wi;if(!r(A)){if(W=ls(A),W)return W;A=[A]}return ha(A)}function ga(){return Mt(hi)}function aa(A){var W,de=A._a;return de&&R(A).overflow===-2&&(W=de[Rt]<0||de[Rt]>11?Rt:de[ne]<1||de[ne]>zn(de[St],de[Rt])?ne:de[Ce]<0||de[Ce]>24||de[Ce]===24&&(de[We]!==0||de[st]!==0||de[Ut]!==0)?Ce:de[We]<0||de[We]>59?We:de[st]<0||de[st]>59?st:de[Ut]<0||de[Ut]>999?Ut:-1,R(A)._overflowDayOfYear&&(W<St||W>ne)&&(W=ne),R(A)._overflowWeeks&&W===-1&&(W=sn),R(A)._overflowWeekday&&W===-1&&(W=Cn),R(A).overflow=W),A}var Ri=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Wo=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vs=/Z|[+-]\d\d(?::?\d\d)?/,Ii=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Oo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ka=/^\/?Date\((-?\d+)/i,Xa=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ro={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function To(A){var W,de,Pe=A._i,wt=Ri.exec(Pe)||Wo.exec(Pe),Tn,ur,$i,Bi,ao=Ii.length,gu=Oo.length;if(wt){for(R(A).iso=!0,W=0,de=ao;W<de;W++)if(Ii[W][1].exec(wt[1])){ur=Ii[W][0],Tn=Ii[W][2]!==!1;break}if(ur==null){A._isValid=!1;return}if(wt[3]){for(W=0,de=gu;W<de;W++)if(Oo[W][1].exec(wt[3])){$i=(wt[2]||" ")+Oo[W][0];break}if($i==null){A._isValid=!1;return}}if(!Tn&&$i!=null){A._isValid=!1;return}if(wt[4])if(vs.exec(wt[4]))Bi="Z";else{A._isValid=!1;return}A._f=ur+($i||"")+(Bi||""),cs(A)}else A._isValid=!1}function $a(A,W,de,Pe,wt,Tn){var ur=[pu(A),$e.indexOf(W),parseInt(de,10),parseInt(Pe,10),parseInt(wt,10)];return Tn&&ur.push(parseInt(Tn,10)),ur}function pu(A){var W=parseInt(A,10);return W<=49?2e3+W:W<=999?1900+W:W}function za(A){return A.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ua(A,W,de){if(A){var Pe=ts.indexOf(A),wt=new Date(W[0],W[1],W[2]).getDay();if(Pe!==wt)return R(de).weekdayMismatch=!0,de._isValid=!1,!1}return!0}function la(A,W,de){if(A)return Ro[A];if(W)return 0;var Pe=parseInt(de,10),wt=Pe%100,Tn=(Pe-wt)/100;return Tn*60+wt}function vl(A){var W=Xa.exec(za(A._i)),de;if(W){if(de=$a(W[4],W[3],W[2],W[5],W[6],W[7]),!ua(W[1],de,A))return;A._a=de,A._tzm=la(W[8],W[9],W[10]),A._d=Tt.apply(null,A._a),A._d.setUTCMinutes(A._d.getUTCMinutes()-A._tzm),R(A).rfc2822=!0}else A._isValid=!1}function Hl(A){var W=ka.exec(A._i);if(W!==null){A._d=new Date(+W[1]);return}if(To(A),A._isValid===!1)delete A._isValid;else return;if(vl(A),A._isValid===!1)delete A._isValid;else return;A._strict?A._isValid=!1:e.createFromInputFallback(A)}e.createFromInputFallback=he("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(A){A._d=new Date(A._i+(A._useUTC?" UTC":""))});function ra(A,W,de){return A??W??de}function el(A){var W=new Date(e.now());return A._useUTC?[W.getUTCFullYear(),W.getUTCMonth(),W.getUTCDate()]:[W.getFullYear(),W.getMonth(),W.getDate()]}function ui(A){var W,de,Pe=[],wt,Tn,ur;if(!A._d){for(wt=el(A),A._w&&A._a[ne]==null&&A._a[Rt]==null&&rs(A),A._dayOfYear!=null&&(ur=ra(A._a[St],wt[St]),(A._dayOfYear>j(ur)||A._dayOfYear===0)&&(R(A)._overflowDayOfYear=!0),de=Tt(ur,0,A._dayOfYear),A._a[Rt]=de.getUTCMonth(),A._a[ne]=de.getUTCDate()),W=0;W<3&&A._a[W]==null;++W)A._a[W]=Pe[W]=wt[W];for(;W<7;W++)A._a[W]=Pe[W]=A._a[W]==null?W===2?1:0:A._a[W];A._a[Ce]===24&&A._a[We]===0&&A._a[st]===0&&A._a[Ut]===0&&(A._nextDay=!0,A._a[Ce]=0),A._d=(A._useUTC?Tt:ht).apply(null,Pe),Tn=A._useUTC?A._d.getUTCDay():A._d.getDay(),A._tzm!=null&&A._d.setUTCMinutes(A._d.getUTCMinutes()-A._tzm),A._nextDay&&(A._a[Ce]=24),A._w&&typeof A._w.d!="undefined"&&A._w.d!==Tn&&(R(A).weekdayMismatch=!0)}}function rs(A){var W,de,Pe,wt,Tn,ur,$i,Bi,ao;W=A._w,W.GG!=null||W.W!=null||W.E!=null?(Tn=1,ur=4,de=ra(W.GG,A._a[St],xn(Ln(),1,4).year),Pe=ra(W.W,1),wt=ra(W.E,1),(wt<1||wt>7)&&(Bi=!0)):(Tn=A._locale._week.dow,ur=A._locale._week.doy,ao=xn(Ln(),Tn,ur),de=ra(W.gg,A._a[St],ao.year),Pe=ra(W.w,ao.week),W.d!=null?(wt=W.d,(wt<0||wt>6)&&(Bi=!0)):W.e!=null?(wt=W.e+Tn,(W.e<0||W.e>6)&&(Bi=!0)):wt=Tn),Pe<1||Pe>qn(de,Tn,ur)?R(A)._overflowWeeks=!0:Bi!=null?R(A)._overflowWeekday=!0:($i=Xt(de,Pe,wt,Tn,ur),A._a[St]=$i.year,A._dayOfYear=$i.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function cs(A){if(A._f===e.ISO_8601){To(A);return}if(A._f===e.RFC_2822){vl(A);return}A._a=[],R(A).empty=!0;var W=""+A._i,de,Pe,wt,Tn,ur,$i=W.length,Bi=0,ao,gu;for(wt=mn(A._f,A._locale).match(be)||[],gu=wt.length,de=0;de<gu;de++)Tn=wt[de],Pe=(W.match(hn(Tn,A))||[])[0],Pe&&(ur=W.substr(0,W.indexOf(Pe)),ur.length>0&&R(A).unusedInput.push(ur),W=W.slice(W.indexOf(Pe)+Pe.length),Bi+=Pe.length),pe[Tn]?(Pe?R(A).empty=!1:R(A).unusedTokens.push(Tn),gt(Tn,Pe,A)):A._strict&&!Pe&&R(A).unusedTokens.push(Tn);R(A).charsLeftOver=$i-Bi,W.length>0&&R(A).unusedInput.push(W),A._a[Ce]<=12&&R(A).bigHour===!0&&A._a[Ce]>0&&(R(A).bigHour=void 0),R(A).parsedDateParts=A._a.slice(0),R(A).meridiem=A._meridiem,A._a[Ce]=mr(A._locale,A._a[Ce],A._meridiem),ao=R(A).era,ao!==null&&(A._a[St]=A._locale.erasConvertYear(ao,A._a[St])),ui(A),aa(A)}function mr(A,W,de){var Pe;return de==null?W:A.meridiemHour!=null?A.meridiemHour(W,de):(A.isPM!=null&&(Pe=A.isPM(de),Pe&&W<12&&(W+=12),!Pe&&W===12&&(W=0)),W)}function is(A){var W,de,Pe,wt,Tn,ur,$i=!1,Bi=A._f.length;if(Bi===0){R(A).invalidFormat=!0,A._d=new Date(NaN);return}for(wt=0;wt<Bi;wt++)Tn=0,ur=!1,W=G({},A),A._useUTC!=null&&(W._useUTC=A._useUTC),W._f=A._f[wt],cs(W),z(W)&&(ur=!0),Tn+=R(W).charsLeftOver,Tn+=R(W).unusedTokens.length*10,R(W).score=Tn,$i?Tn<Pe&&(Pe=Tn,de=W):(Pe==null||Tn<Pe||ur)&&(Pe=Tn,de=W,ur&&($i=!0));_(A,de||W)}function Ie(A){if(!A._d){var W=ft(A._i),de=W.day===void 0?W.date:W.day;A._a=p([W.year,W.month,de,W.hour,W.minute,W.second,W.millisecond],function(Pe){return Pe&&parseInt(Pe,10)}),ui(A)}}function yt(A){var W=new ue(aa(Jt(A)));return W._nextDay&&(W.add(1,"d"),W._nextDay=void 0),W}function Jt(A){var W=A._i,de=A._f;return A._locale=A._locale||Ps(A._l),W===null||de===void 0&&W===""?L({nullInput:!0}):(typeof W=="string"&&(A._i=W=A._locale.preparse(W)),I(W)?new ue(aa(W)):(f(W)?A._d=W:r(de)?is(A):de?cs(A):$t(A),z(A)||(A._d=null),A))}function $t(A){var W=A._i;a(W)?A._d=new Date(e.now()):f(W)?A._d=new Date(W.valueOf()):typeof W=="string"?Hl(A):r(W)?(A._a=p(W.slice(0),function(de){return parseInt(de,10)}),ui(A)):i(W)?Ie(A):l(W)?A._d=new Date(W):e.createFromInputFallback(A)}function pn(A,W,de,Pe,wt){var Tn={};return(W===!0||W===!1)&&(Pe=W,W=void 0),(de===!0||de===!1)&&(Pe=de,de=void 0),(i(A)&&o(A)||r(A)&&A.length===0)&&(A=void 0),Tn._isAMomentObject=!0,Tn._useUTC=Tn._isUTC=wt,Tn._l=de,Tn._i=A,Tn._f=W,Tn._strict=Pe,yt(Tn)}function Ln(A,W,de,Pe){return pn(A,W,de,Pe,!1)}var Kn=he("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var A=Ln.apply(null,arguments);return this.isValid()&&A.isValid()?A<this?this:A:L()}),$n=he("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var A=Ln.apply(null,arguments);return this.isValid()&&A.isValid()?A>this?this:A:L()});function br(A,W){var de,Pe;if(W.length===1&&r(W[0])&&(W=W[0]),!W.length)return Ln();for(de=W[0],Pe=1;Pe<W.length;++Pe)(!W[Pe].isValid()||W[Pe][A](de))&&(de=W[Pe]);return de}function Cr(){var A=[].slice.call(arguments,0);return br("isBefore",A)}function Gn(){var A=[].slice.call(arguments,0);return br("isAfter",A)}var ar=function(){return Date.now?Date.now():+new Date},er=["year","quarter","month","week","day","hour","minute","second","millisecond"];function gr(A){var W,de=!1,Pe,wt=er.length;for(W in A)if(s(A,W)&&!(vn.call(er,W)!==-1&&(A[W]==null||!isNaN(A[W]))))return!1;for(Pe=0;Pe<wt;++Pe)if(A[er[Pe]]){if(de)return!1;parseFloat(A[er[Pe]])!==yn(A[er[Pe]])&&(de=!0)}return!0}function Rr(){return this._isValid}function di(){return Hi(NaN)}function ni(A){var W=ft(A),de=W.year||0,Pe=W.quarter||0,wt=W.month||0,Tn=W.week||W.isoWeek||0,ur=W.day||0,$i=W.hour||0,Bi=W.minute||0,ao=W.second||0,gu=W.millisecond||0;this._isValid=gr(W),this._milliseconds=+gu+ao*1e3+Bi*6e4+$i*1e3*60*60,this._days=+ur+Tn*7,this._months=+wt+Pe*3+de*12,this._data={},this._locale=Ps(),this._bubble()}function pi(A){return A instanceof ni}function ii(A){return A<0?Math.round(-1*A)*-1:Math.round(A)}function qr(A,W,de){var Pe=Math.min(A.length,W.length),wt=Math.abs(A.length-W.length),Tn=0,ur;for(ur=0;ur<Pe;ur++)(de&&A[ur]!==W[ur]||!de&&yn(A[ur])!==yn(W[ur]))&&Tn++;return Tn+wt}function Ir(A,W){Je(A,0,0,function(){var de=this.utcOffset(),Pe="+";return de<0&&(de=-de,Pe="-"),Pe+et(~~(de/60),2)+W+et(~~de%60,2)})}Ir("Z",":"),Ir("ZZ",""),Dt("Z",vt),Dt("ZZ",vt),Te(["Z","ZZ"],function(A,W,de){de._useUTC=!0,de._tzm=gi(vt,A)});var yi=/([\+\-]|\d\d)/gi;function gi(A,W){var de=(W||"").match(A),Pe,wt,Tn;return de===null?null:(Pe=de[de.length-1]||[],wt=(Pe+"").match(yi)||["-",0,0],Tn=+(wt[1]*60)+yn(wt[2]),Tn===0?0:wt[0]==="+"?Tn:-Tn)}function os(A,W){var de,Pe;return W._isUTC?(de=W.clone(),Pe=(I(A)||f(A)?A.valueOf():Ln(A).valueOf())-de.valueOf(),de._d.setTime(de._d.valueOf()+Pe),e.updateOffset(de,!1),de):Ln(A).local()}function xs(A){return-Math.round(A._d.getTimezoneOffset())}e.updateOffset=function(){};function vi(A,W,de){var Pe=this._offset||0,wt;if(!this.isValid())return A!=null?this:NaN;if(A!=null){if(typeof A=="string"){if(A=gi(vt,A),A===null)return this}else Math.abs(A)<16&&!de&&(A=A*60);return!this._isUTC&&W&&(wt=xs(this)),this._offset=A,this._isUTC=!0,wt!=null&&this.add(wt,"m"),Pe!==A&&(!W||this._changeInProgress?en(this,Hi(A-Pe,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?Pe:xs(this)}function Bs(A,W){return A!=null?(typeof A!="string"&&(A=-A),this.utcOffset(A,W),this):-this.utcOffset()}function ss(A){return this.utcOffset(0,A)}function ya(A){return this._isUTC&&(this.utcOffset(0,A),this._isUTC=!1,A&&this.subtract(xs(this),"m")),this}function No(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var A=gi(Ye,this._i);A!=null?this.utcOffset(A):this.utcOffset(0,!0)}return this}function Ts(A){return this.isValid()?(A=A?Ln(A).utcOffset():0,(this.utcOffset()-A)%60===0):!1}function nn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Jn(){if(!a(this._isDSTShifted))return this._isDSTShifted;var A={},W;return G(A,this),A=Jt(A),A._a?(W=A._isUTC?E(A._a):Ln(A._a),this._isDSTShifted=this.isValid()&&qr(A._a,W.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function bn(){return this.isValid()?!this._isUTC:!1}function Yr(){return this.isValid()?this._isUTC:!1}function Ti(){return this.isValid()?this._isUTC&&this._offset===0:!1}var ns=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ms=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Hi(A,W){var de=A,Pe=null,wt,Tn,ur;return pi(A)?de={ms:A._milliseconds,d:A._days,M:A._months}:l(A)||!isNaN(+A)?(de={},W?de[W]=+A:de.milliseconds=+A):(Pe=ns.exec(A))?(wt=Pe[1]==="-"?-1:1,de={y:0,d:yn(Pe[ne])*wt,h:yn(Pe[Ce])*wt,m:yn(Pe[We])*wt,s:yn(Pe[st])*wt,ms:yn(ii(Pe[Ut]*1e3))*wt}):(Pe=ms.exec(A))?(wt=Pe[1]==="-"?-1:1,de={y:fs(Pe[2],wt),M:fs(Pe[3],wt),w:fs(Pe[4],wt),d:fs(Pe[5],wt),h:fs(Pe[6],wt),m:fs(Pe[7],wt),s:fs(Pe[8],wt)}):de==null?de={}:typeof de=="object"&&("from"in de||"to"in de)&&(ur=le(Ln(de.from),Ln(de.to)),de={},de.ms=ur.milliseconds,de.M=ur.months),Tn=new ni(de),pi(A)&&s(A,"_locale")&&(Tn._locale=A._locale),pi(A)&&s(A,"_isValid")&&(Tn._isValid=A._isValid),Tn}Hi.fn=ni.prototype,Hi.invalid=di;function fs(A,W){var de=A&&parseFloat(A.replace(",","."));return(isNaN(de)?0:de)*W}function mu(A,W){var de={};return de.months=W.month()-A.month()+(W.year()-A.year())*12,A.clone().add(de.months,"M").isAfter(W)&&--de.months,de.milliseconds=+W-+A.clone().add(de.months,"M"),de}function le(A,W){var de;return A.isValid()&&W.isValid()?(W=os(W,A),A.isBefore(W)?de=mu(A,W):(de=mu(W,A),de.milliseconds=-de.milliseconds,de.months=-de.months),de):{milliseconds:0,months:0}}function ut(A,W){return function(de,Pe){var wt,Tn;return Pe!==null&&!isNaN(+Pe)&&(He(W,"moment()."+W+"(period, number) is deprecated. Please use moment()."+W+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Tn=de,de=Pe,Pe=Tn),wt=Hi(de,Pe),en(this,wt,A),this}}function en(A,W,de,Pe){var wt=W._milliseconds,Tn=ii(W._days),ur=ii(W._months);!A.isValid()||(Pe=Pe??!0,ur&&fe(A,un(A,"Month")+ur*de),Tn&&Mn(A,"Date",un(A,"Date")+Tn*de),wt&&A._d.setTime(A._d.valueOf()+wt*de),Pe&&e.updateOffset(A,Tn||ur))}var Dn=ut(1,"add"),ir=ut(-1,"subtract");function vr(A){return typeof A=="string"||A instanceof String}function dr(A){return I(A)||f(A)||vr(A)||l(A)||_s(A)||es(A)||A===null||A===void 0}function es(A){var W=i(A)&&!o(A),de=!1,Pe=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],wt,Tn,ur=Pe.length;for(wt=0;wt<ur;wt+=1)Tn=Pe[wt],de=de||s(A,Tn);return W&&de}function _s(A){var W=r(A),de=!1;return W&&(de=A.filter(function(Pe){return!l(Pe)&&vr(A)}).length===0),W&&de}function Ls(A){var W=i(A)&&!o(A),de=!1,Pe=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],wt,Tn;for(wt=0;wt<Pe.length;wt+=1)Tn=Pe[wt],de=de||s(A,Tn);return W&&de}function oo(A,W){var de=A.diff(W,"days",!0);return de<-6?"sameElse":de<-1?"lastWeek":de<0?"lastDay":de<1?"sameDay":de<2?"nextDay":de<7?"nextWeek":"sameElse"}function Za(A,W){arguments.length===1&&(arguments[0]?dr(arguments[0])?(A=arguments[0],W=void 0):Ls(arguments[0])&&(W=arguments[0],A=void 0):(A=void 0,W=void 0));var de=A||Ln(),Pe=os(de,this).startOf("day"),wt=e.calendarFormat(this,Pe)||"sameElse",Tn=W&&(at(W[wt])?W[wt].call(this,de):W[wt]);return this.format(Tn||this.localeData().calendar(wt,this,Ln(de)))}function sc(){return new ue(this)}function rf(A,W){var de=I(A)?A:Ln(A);return this.isValid()&&de.isValid()?(W=nt(W)||"millisecond",W==="millisecond"?this.valueOf()>de.valueOf():de.valueOf()<this.clone().startOf(W).valueOf()):!1}function kc(A,W){var de=I(A)?A:Ln(A);return this.isValid()&&de.isValid()?(W=nt(W)||"millisecond",W==="millisecond"?this.valueOf()<de.valueOf():this.clone().endOf(W).valueOf()<de.valueOf()):!1}function u0(A,W,de,Pe){var wt=I(A)?A:Ln(A),Tn=I(W)?W:Ln(W);return this.isValid()&&wt.isValid()&&Tn.isValid()?(Pe=Pe||"()",(Pe[0]==="("?this.isAfter(wt,de):!this.isBefore(wt,de))&&(Pe[1]===")"?this.isBefore(Tn,de):!this.isAfter(Tn,de))):!1}function Q0(A,W){var de=I(A)?A:Ln(A),Pe;return this.isValid()&&de.isValid()?(W=nt(W)||"millisecond",W==="millisecond"?this.valueOf()===de.valueOf():(Pe=de.valueOf(),this.clone().startOf(W).valueOf()<=Pe&&Pe<=this.clone().endOf(W).valueOf())):!1}function oc(A,W){return this.isSame(A,W)||this.isAfter(A,W)}function sf(A,W){return this.isSame(A,W)||this.isBefore(A,W)}function l0(A,W,de){var Pe,wt,Tn;if(!this.isValid())return NaN;if(Pe=os(A,this),!Pe.isValid())return NaN;switch(wt=(Pe.utcOffset()-this.utcOffset())*6e4,W=nt(W),W){case"year":Tn=_l(this,Pe)/12;break;case"month":Tn=_l(this,Pe);break;case"quarter":Tn=_l(this,Pe)/3;break;case"second":Tn=(this-Pe)/1e3;break;case"minute":Tn=(this-Pe)/6e4;break;case"hour":Tn=(this-Pe)/36e5;break;case"day":Tn=(this-Pe-wt)/864e5;break;case"week":Tn=(this-Pe-wt)/6048e5;break;default:Tn=this-Pe}return de?Tn:gn(Tn)}function _l(A,W){if(A.date()<W.date())return-_l(W,A);var de=(W.year()-A.year())*12+(W.month()-A.month()),Pe=A.clone().add(de,"months"),wt,Tn;return W-Pe<0?(wt=A.clone().add(de-1,"months"),Tn=(W-Pe)/(Pe-wt)):(wt=A.clone().add(de+1,"months"),Tn=(W-Pe)/(wt-Pe)),-(de+Tn)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ic(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function c0(A){if(!this.isValid())return null;var W=A!==!0,de=W?this.clone().utc():this;return de.year()<0||de.year()>9999?Ct(de,W?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):at(Date.prototype.toISOString)?W?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Ct(de,"Z")):Ct(de,W?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ac(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var A="moment",W="",de,Pe,wt,Tn;return this.isLocal()||(A=this.utcOffset()===0?"moment.utc":"moment.parseZone",W="Z"),de="["+A+'("]',Pe=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",wt="-MM-DD[T]HH:mm:ss.SSS",Tn=W+'[")]',this.format(de+Pe+wt+Tn)}function Vl(A){A||(A=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var W=Ct(this,A);return this.localeData().postformat(W)}function G0(A,W){return this.isValid()&&(I(A)&&A.isValid()||Ln(A).isValid())?Hi({to:this,from:A}).locale(this.locale()).humanize(!W):this.localeData().invalidDate()}function Th(A){return this.from(Ln(),A)}function Y0(A,W){return this.isValid()&&(I(A)&&A.isValid()||Ln(A).isValid())?Hi({from:this,to:A}).locale(this.locale()).humanize(!W):this.localeData().invalidDate()}function K0(A){return this.to(Ln(),A)}function of(A){var W;return A===void 0?this._locale._abbr:(W=Ps(A),W!=null&&(this._locale=W),this)}var J0=he("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(A){return A===void 0?this.localeData():this.locale(A)});function Mc(){return this._locale}var f0=1e3,d0=60*f0,h0=60*d0,Uo=(365*400+97)*24*h0;function Zo(A,W){return(A%W+W)%W}function p0(A,W,de){return A<100&&A>=0?new Date(A+400,W,de)-Uo:new Date(A,W,de).valueOf()}function bl(A,W,de){return A<100&&A>=0?Date.UTC(A+400,W,de)-Uo:Date.UTC(A,W,de)}function af(A){var W,de;if(A=nt(A),A===void 0||A==="millisecond"||!this.isValid())return this;switch(de=this._isUTC?bl:p0,A){case"year":W=de(this.year(),0,1);break;case"quarter":W=de(this.year(),this.month()-this.month()%3,1);break;case"month":W=de(this.year(),this.month(),1);break;case"week":W=de(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":W=de(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":W=de(this.year(),this.month(),this.date());break;case"hour":W=this._d.valueOf(),W-=Zo(W+(this._isUTC?0:this.utcOffset()*d0),h0);break;case"minute":W=this._d.valueOf(),W-=Zo(W,d0);break;case"second":W=this._d.valueOf(),W-=Zo(W,f0);break}return this._d.setTime(W),e.updateOffset(this,!0),this}function jd(A){var W,de;if(A=nt(A),A===void 0||A==="millisecond"||!this.isValid())return this;switch(de=this._isUTC?bl:p0,A){case"year":W=de(this.year()+1,0,1)-1;break;case"quarter":W=de(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":W=de(this.year(),this.month()+1,1)-1;break;case"week":W=de(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":W=de(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":W=de(this.year(),this.month(),this.date()+1)-1;break;case"hour":W=this._d.valueOf(),W+=h0-Zo(W+(this._isUTC?0:this.utcOffset()*d0),h0)-1;break;case"minute":W=this._d.valueOf(),W+=d0-Zo(W,d0)-1;break;case"second":W=this._d.valueOf(),W+=f0-Zo(W,f0)-1;break}return this._d.setTime(W),e.updateOffset(this,!0),this}function Ou(){return this._d.valueOf()-(this._offset||0)*6e4}function _o(){return Math.floor(this.valueOf()/1e3)}function Fh(){return new Date(this.valueOf())}function El(){var A=this;return[A.year(),A.month(),A.date(),A.hour(),A.minute(),A.second(),A.millisecond()]}function Is(){var A=this;return{years:A.year(),months:A.month(),date:A.date(),hours:A.hours(),minutes:A.minutes(),seconds:A.seconds(),milliseconds:A.milliseconds()}}function Sl(){return this.isValid()?this.toISOString():null}function k(){return z(this)}function Z(){return _({},R(this))}function je(){return R(this).overflow}function Nt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Je("N",0,0,"eraAbbr"),Je("NN",0,0,"eraAbbr"),Je("NNN",0,0,"eraAbbr"),Je("NNNN",0,0,"eraName"),Je("NNNNN",0,0,"eraNarrow"),Je("y",["y",1],"yo","eraYear"),Je("y",["yy",2],0,"eraYear"),Je("y",["yyy",3],0,"eraYear"),Je("y",["yyyy",4],0,"eraYear"),Dt("N",Qr),Dt("NN",Qr),Dt("NNN",Qr),Dt("NNNN",Ys),Dt("NNNNN",$o),Te(["N","NN","NNN","NNNN","NNNNN"],function(A,W,de,Pe){var wt=de._locale.erasParse(A,Pe,de._strict);wt?R(de).era=wt:R(de).invalidEra=A}),Dt("y",Nn),Dt("yy",Nn),Dt("yyy",Nn),Dt("yyyy",Nn),Dt("yo",va),Te(["y","yy","yyy","yyyy"],St),Te(["yo"],function(A,W,de,Pe){var wt;de._locale._eraYearOrdinalRegex&&(wt=A.match(de._locale._eraYearOrdinalRegex)),de._locale.eraYearOrdinalParse?W[St]=de._locale.eraYearOrdinalParse(A,wt):W[St]=parseInt(A,10)});function Vt(A,W){var de,Pe,wt,Tn=this._eras||Ps("en")._eras;for(de=0,Pe=Tn.length;de<Pe;++de){switch(typeof Tn[de].since){case"string":wt=e(Tn[de].since).startOf("day"),Tn[de].since=wt.valueOf();break}switch(typeof Tn[de].until){case"undefined":Tn[de].until=1/0;break;case"string":wt=e(Tn[de].until).startOf("day").valueOf(),Tn[de].until=wt.valueOf();break}}return Tn}function An(A,W,de){var Pe,wt,Tn=this.eras(),ur,$i,Bi;for(A=A.toUpperCase(),Pe=0,wt=Tn.length;Pe<wt;++Pe)if(ur=Tn[Pe].name.toUpperCase(),$i=Tn[Pe].abbr.toUpperCase(),Bi=Tn[Pe].narrow.toUpperCase(),de)switch(W){case"N":case"NN":case"NNN":if($i===A)return Tn[Pe];break;case"NNNN":if(ur===A)return Tn[Pe];break;case"NNNNN":if(Bi===A)return Tn[Pe];break}else if([ur,$i,Bi].indexOf(A)>=0)return Tn[Pe]}function kn(A,W){var de=A.since<=A.until?1:-1;return W===void 0?e(A.since).year():e(A.since).year()+(W-A.offset)*de}function sr(){var A,W,de,Pe=this.localeData().eras();for(A=0,W=Pe.length;A<W;++A)if(de=this.clone().startOf("day").valueOf(),Pe[A].since<=de&&de<=Pe[A].until||Pe[A].until<=de&&de<=Pe[A].since)return Pe[A].name;return""}function hr(){var A,W,de,Pe=this.localeData().eras();for(A=0,W=Pe.length;A<W;++A)if(de=this.clone().startOf("day").valueOf(),Pe[A].since<=de&&de<=Pe[A].until||Pe[A].until<=de&&de<=Pe[A].since)return Pe[A].narrow;return""}function Nr(){var A,W,de,Pe=this.localeData().eras();for(A=0,W=Pe.length;A<W;++A)if(de=this.clone().startOf("day").valueOf(),Pe[A].since<=de&&de<=Pe[A].until||Pe[A].until<=de&&de<=Pe[A].since)return Pe[A].abbr;return""}function it(){var A,W,de,Pe,wt=this.localeData().eras();for(A=0,W=wt.length;A<W;++A)if(de=wt[A].since<=wt[A].until?1:-1,Pe=this.clone().startOf("day").valueOf(),wt[A].since<=Pe&&Pe<=wt[A].until||wt[A].until<=Pe&&Pe<=wt[A].since)return(this.year()-e(wt[A].since).year())*de+wt[A].offset;return this.year()}function Fi(A){return s(this,"_erasNameRegex")||mo.call(this),A?this._erasNameRegex:this._erasRegex}function Qi(A){return s(this,"_erasAbbrRegex")||mo.call(this),A?this._erasAbbrRegex:this._erasRegex}function Li(A){return s(this,"_erasNarrowRegex")||mo.call(this),A?this._erasNarrowRegex:this._erasRegex}function Qr(A,W){return W.erasAbbrRegex(A)}function Ys(A,W){return W.erasNameRegex(A)}function $o(A,W){return W.erasNarrowRegex(A)}function va(A,W){return W._eraYearOrdinalRegex||Nn}function mo(){var A=[],W=[],de=[],Pe=[],wt,Tn,ur=this.eras();for(wt=0,Tn=ur.length;wt<Tn;++wt)W.push(dt(ur[wt].name)),A.push(dt(ur[wt].abbr)),de.push(dt(ur[wt].narrow)),Pe.push(dt(ur[wt].name)),Pe.push(dt(ur[wt].abbr)),Pe.push(dt(ur[wt].narrow));this._erasRegex=new RegExp("^("+Pe.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+W.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+A.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+de.join("|")+")","i")}Je(0,["gg",2],0,function(){return this.weekYear()%100}),Je(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ia(A,W){Je(0,[A,A.length],0,W)}Ia("gggg","weekYear"),Ia("ggggg","weekYear"),Ia("GGGG","isoWeekYear"),Ia("GGGGG","isoWeekYear"),Oe("weekYear","gg"),Oe("isoWeekYear","GG"),Yt("weekYear",1),Yt("isoWeekYear",1),Dt("G",nr),Dt("g",nr),Dt("GG",xt,ze),Dt("gg",xt,ze),Dt("GGGG",Wn,Pt),Dt("gggg",Wn,Pt),Dt("GGGGG",Zn,mt),Dt("ggggg",Zn,mt),Ue(["gggg","ggggg","GGGG","GGGGG"],function(A,W,de,Pe){W[Pe.substr(0,2)]=yn(A)}),Ue(["gg","GG"],function(A,W,de,Pe){W[Pe]=e.parseTwoDigitYear(A)});function uc(A){return lf.call(this,A,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Wl(A){return lf.call(this,A,this.isoWeek(),this.isoWeekday(),1,4)}function Ma(){return qn(this.year(),1,4)}function lc(){return qn(this.isoWeekYear(),1,4)}function _a(){var A=this.localeData()._week;return qn(this.year(),A.dow,A.doy)}function uf(){var A=this.localeData()._week;return qn(this.weekYear(),A.dow,A.doy)}function lf(A,W,de,Pe,wt){var Tn;return A==null?xn(this,Pe,wt).year:(Tn=qn(A,Pe,wt),W>Tn&&(W=Tn),tl.call(this,A,W,de,Pe,wt))}function tl(A,W,de,Pe,wt){var Tn=Xt(A,W,de,Pe,wt),ur=Tt(Tn.year,0,Tn.dayOfYear);return this.year(ur.getUTCFullYear()),this.month(ur.getUTCMonth()),this.date(ur.getUTCDate()),this}Je("Q",0,"Qo","quarter"),Oe("quarter","Q"),Yt("quarter",7),Dt("Q",Ne),Te("Q",function(A,W){W[Rt]=(yn(A)-1)*3});function cc(A){return A==null?Math.ceil((this.month()+1)/3):this.month((A-1)*3+this.month()%3)}Je("D",["DD",2],"Do","date"),Oe("date","D"),Yt("date",9),Dt("D",xt),Dt("DD",xt,ze),Dt("Do",function(A,W){return A?W._dayOfMonthOrdinalParse||W._ordinalParse:W._dayOfMonthOrdinalParseLenient}),Te(["D","DD"],ne),Te("Do",function(A,W){W[ne]=yn(A.match(xt)[0])});var H1=Lt("Date",!0);Je("DDD",["DDDD",3],"DDDo","dayOfYear"),Oe("dayOfYear","DDD"),Yt("dayOfYear",4),Dt("DDD",Fn),Dt("DDDD",De),Te(["DDD","DDDD"],function(A,W,de){de._dayOfYear=yn(A)});function Pc(A){var W=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return A==null?W:this.add(A-W,"d")}Je("m",["mm",2],0,"minute"),Oe("minute","m"),Yt("minute",14),Dt("m",xt),Dt("mm",xt,ze),Te(["m","mm"],We);var t2=Lt("Minutes",!1);Je("s",["ss",2],0,"second"),Oe("second","s"),Yt("second",15),Dt("s",xt),Dt("ss",xt,ze),Te(["s","ss"],st);var Ql=Lt("Seconds",!1);Je("S",0,0,function(){return~~(this.millisecond()/100)}),Je(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Je(0,["SSS",3],0,"millisecond"),Je(0,["SSSS",4],0,function(){return this.millisecond()*10}),Je(0,["SSSSS",5],0,function(){return this.millisecond()*100}),Je(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),Je(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),Je(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),Je(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Oe("millisecond","ms"),Yt("millisecond",16),Dt("S",Fn,Ne),Dt("SS",Fn,ze),Dt("SSS",Fn,De);var Rf,Bc;for(Rf="SSSS";Rf.length<=9;Rf+="S")Dt(Rf,Nn);function jr(A,W){W[Ut]=yn(("0."+A)*1e3)}for(Rf="S";Rf.length<=9;Rf+="S")Te(Rf,jr);Bc=Lt("Milliseconds",!1),Je("z",0,0,"zoneAbbr"),Je("zz",0,0,"zoneName");function X0(){return this._isUTC?"UTC":""}function Z0(){return this._isUTC?"Coordinated Universal Time":""}var $r=ue.prototype;$r.add=Dn,$r.calendar=Za,$r.clone=sc,$r.diff=l0,$r.endOf=jd,$r.format=Vl,$r.from=G0,$r.fromNow=Th,$r.to=Y0,$r.toNow=K0,$r.get=tr,$r.invalidAt=je,$r.isAfter=rf,$r.isBefore=kc,$r.isBetween=u0,$r.isSame=Q0,$r.isSameOrAfter=oc,$r.isSameOrBefore=sf,$r.isValid=k,$r.lang=J0,$r.locale=of,$r.localeData=Mc,$r.max=$n,$r.min=Kn,$r.parsingFlags=Z,$r.set=Rn,$r.startOf=af,$r.subtract=ir,$r.toArray=El,$r.toObject=Is,$r.toDate=Fh,$r.toISOString=c0,$r.inspect=ac,typeof Symbol!="undefined"&&Symbol.for!=null&&($r[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),$r.toJSON=Sl,$r.toString=Ic,$r.unix=_o,$r.valueOf=Ou,$r.creationData=Nt,$r.eraName=sr,$r.eraNarrow=hr,$r.eraAbbr=Nr,$r.eraYear=it,$r.year=ee,$r.isLeapYear=Se,$r.weekYear=uc,$r.isoWeekYear=Wl,$r.quarter=$r.quarters=cc,$r.month=Qe,$r.daysInMonth=It,$r.week=$r.weeks=yr,$r.isoWeek=$r.isoWeeks=Mr,$r.weeksInYear=_a,$r.weeksInWeekYear=uf,$r.isoWeeksInYear=Ma,$r.isoWeeksInISOWeekYear=lc,$r.date=H1,$r.day=$r.days=na,$r.weekday=Zu,$r.isoWeekday=nf,$r.dayOfYear=Pc,$r.hour=$r.hours=us,$r.minute=$r.minutes=t2,$r.second=$r.seconds=Ql,$r.millisecond=$r.milliseconds=Bc,$r.utcOffset=vi,$r.utc=ss,$r.local=ya,$r.parseZone=No,$r.hasAlignedHourOffset=Ts,$r.isDST=nn,$r.isLocal=bn,$r.isUtcOffset=Yr,$r.isUtc=Ti,$r.isUTC=Ti,$r.zoneAbbr=X0,$r.zoneName=Z0,$r.dates=he("dates accessor is deprecated. Use date instead.",H1),$r.months=he("months accessor is deprecated. Use month instead",Qe),$r.years=he("years accessor is deprecated. Use year instead",ee),$r.zone=he("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Bs),$r.isDSTShifted=he("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Jn);function wl(A){return Ln(A*1e3)}function V1(){return Ln.apply(null,arguments).parseZone()}function mp(A){return A}var bo=Et.prototype;bo.calendar=te,bo.longDateFormat=Bt,bo.invalidDate=bt,bo.ordinal=_e,bo.preparse=mp,bo.postformat=mp,bo.relativeTime=tt,bo.pastFuture=Ke,bo.set=ct,bo.eras=Vt,bo.erasParse=An,bo.erasConvertYear=kn,bo.erasAbbrRegex=Qi,bo.erasNameRegex=Fi,bo.erasNarrowRegex=Li,bo.months=Ee,bo.monthsShort=xe,bo.monthsParse=ae,bo.monthsRegex=dn,bo.monthsShortRegex=At,bo.week=Un,bo.firstDayOfYear=Vr,bo.firstDayOfWeek=Jr,bo.weekdays=fu,bo.weekdaysMin=Xu,bo.weekdaysShort=du,bo.weekdaysParse=Lc,bo.weekdaysRegex=Ge,bo.weekdaysShortRegex=Kt,bo.weekdaysMinRegex=jn,bo.isPM=fo,bo.meridiem=so;function ed(A,W,de,Pe){var wt=Ps(),Tn=E().set(Pe,W);return wt[de](Tn,A)}function qd(A,W,de){if(l(A)&&(W=A,A=void 0),A=A||"",W!=null)return ed(A,W,de,"month");var Pe,wt=[];for(Pe=0;Pe<12;Pe++)wt[Pe]=ed(A,Pe,de,"month");return wt}function td(A,W,de,Pe){typeof A=="boolean"?(l(W)&&(de=W,W=void 0),W=W||""):(W=A,de=W,A=!1,l(W)&&(de=W,W=void 0),W=W||"");var wt=Ps(),Tn=A?wt._week.dow:0,ur,$i=[];if(de!=null)return ed(W,(de+Tn)%7,Pe,"day");for(ur=0;ur<7;ur++)$i[ur]=ed(W,(ur+Tn)%7,Pe,"day");return $i}function cf(A,W){return qd(A,W,"months")}function Zx(A,W){return qd(A,W,"monthsShort")}function eg(A,W,de){return td(A,W,de,"weekdays")}function Dh(A,W,de){return td(A,W,de,"weekdaysShort")}function ff(A,W,de){return td(A,W,de,"weekdaysMin")}ps("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(A){var W=A%10,de=yn(A%100/10)===1?"th":W===1?"st":W===2?"nd":W===3?"rd":"th";return A+de}}),e.lang=he("moment.lang is deprecated. Use moment.locale instead.",ps),e.langData=he("moment.langData is deprecated. Use moment.localeData instead.",Ps);var nl=Math.abs;function Ud(){var A=this._data;return this._milliseconds=nl(this._milliseconds),this._days=nl(this._days),this._months=nl(this._months),A.milliseconds=nl(A.milliseconds),A.seconds=nl(A.seconds),A.minutes=nl(A.minutes),A.hours=nl(A.hours),A.months=nl(A.months),A.years=nl(A.years),this}function xp(A,W,de,Pe){var wt=Hi(W,de);return A._milliseconds+=Pe*wt._milliseconds,A._days+=Pe*wt._days,A._months+=Pe*wt._months,A._bubble()}function W1(A,W){return xp(this,A,W,1)}function rl(A,W){return xp(this,A,W,-1)}function nd(A){return A<0?Math.floor(A):Math.ceil(A)}function Nf(){var A=this._milliseconds,W=this._days,de=this._months,Pe=this._data,wt,Tn,ur,$i,Bi;return A>=0&&W>=0&&de>=0||A<=0&&W<=0&&de<=0||(A+=nd(gp(de)+W)*864e5,W=0,de=0),Pe.milliseconds=A%1e3,wt=gn(A/1e3),Pe.seconds=wt%60,Tn=gn(wt/60),Pe.minutes=Tn%60,ur=gn(Tn/60),Pe.hours=ur%24,W+=gn(ur/24),Bi=gn(Cl(W)),de+=Bi,W-=nd(gp(Bi)),$i=gn(de/12),de%=12,Pe.days=W,Pe.months=de,Pe.years=$i,this}function Cl(A){return A*4800/146097}function gp(A){return A*146097/4800}function xu(A){if(!this.isValid())return NaN;var W,de,Pe=this._milliseconds;if(A=nt(A),A==="month"||A==="quarter"||A==="year")switch(W=this._days+Pe/864e5,de=this._months+Cl(W),A){case"month":return de;case"quarter":return de/3;case"year":return de/12}else switch(W=this._days+Math.round(gp(this._months)),A){case"week":return W/7+Pe/6048e5;case"day":return W+Pe/864e5;case"hour":return W*24+Pe/36e5;case"minute":return W*1440+Pe/6e4;case"second":return W*86400+Pe/1e3;case"millisecond":return Math.floor(W*864e5)+Pe;default:throw new Error("Unknown unit "+A)}}function Q1(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+yn(this._months/12)*31536e6:NaN}function il(A){return function(){return this.as(A)}}var jc=il("ms"),Oh=il("s"),$d=il("m"),df=il("h"),Rh=il("d"),yp=il("w"),Ha=il("M"),Nh=il("Q"),rd=il("y");function Pa(){return Hi(this)}function Lh(A){return A=nt(A),this.isValid()?this[A+"s"]():NaN}function Ru(A){return function(){return this.isValid()?this._data[A]:NaN}}var eu=Ru("milliseconds"),kh=Ru("seconds"),ba=Ru("minutes"),Ih=Ru("hours"),vp=Ru("days"),m0=Ru("months"),id=Ru("years");function hf(){return gn(this.days()/7)}var Gl=Math.round,Nu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function _p(A,W,de,Pe,wt){return wt.relativeTime(W||1,!!de,A,Pe)}function sl(A,W,de,Pe){var wt=Hi(A).abs(),Tn=Gl(wt.as("s")),ur=Gl(wt.as("m")),$i=Gl(wt.as("h")),Bi=Gl(wt.as("d")),ao=Gl(wt.as("M")),gu=Gl(wt.as("w")),qc=Gl(wt.as("y")),kf=Tn<=de.ss&&["s",Tn]||Tn<de.s&&["ss",Tn]||ur<=1&&["m"]||ur<de.m&&["mm",ur]||$i<=1&&["h"]||$i<de.h&&["hh",$i]||Bi<=1&&["d"]||Bi<de.d&&["dd",Bi];return de.w!=null&&(kf=kf||gu<=1&&["w"]||gu<de.w&&["ww",gu]),kf=kf||ao<=1&&["M"]||ao<de.M&&["MM",ao]||qc<=1&&["y"]||["yy",qc],kf[2]=W,kf[3]=+A>0,kf[4]=Pe,_p.apply(null,kf)}function Mh(A){return A===void 0?Gl:typeof A=="function"?(Gl=A,!0):!1}function zd(A,W){return Nu[A]===void 0?!1:W===void 0?Nu[A]:(Nu[A]=W,A==="s"&&(Nu.ss=W-1),!0)}function n2(A,W){if(!this.isValid())return this.localeData().invalidDate();var de=!1,Pe=Nu,wt,Tn;return typeof A=="object"&&(W=A,A=!1),typeof A=="boolean"&&(de=A),typeof W=="object"&&(Pe=Object.assign({},Nu,W),W.s!=null&&W.ss==null&&(Pe.ss=W.s-1)),wt=this.localeData(),Tn=sl(this,!de,Pe,wt),de&&(Tn=wt.pastFuture(+this,Tn)),wt.postformat(Tn)}var bp=Math.abs;function Lf(A){return(A>0)-(A<0)||+A}function sd(){if(!this.isValid())return this.localeData().invalidDate();var A=bp(this._milliseconds)/1e3,W=bp(this._days),de=bp(this._months),Pe,wt,Tn,ur,$i=this.asSeconds(),Bi,ao,gu,qc;return $i?(Pe=gn(A/60),wt=gn(Pe/60),A%=60,Pe%=60,Tn=gn(de/12),de%=12,ur=A?A.toFixed(3).replace(/\.?0+$/,""):"",Bi=$i<0?"-":"",ao=Lf(this._months)!==Lf($i)?"-":"",gu=Lf(this._days)!==Lf($i)?"-":"",qc=Lf(this._milliseconds)!==Lf($i)?"-":"",Bi+"P"+(Tn?ao+Tn+"Y":"")+(de?ao+de+"M":"")+(W?gu+W+"D":"")+(wt||Pe||A?"T":"")+(wt?qc+wt+"H":"")+(Pe?qc+Pe+"M":"")+(A?qc+ur+"S":"")):"P0D"}var Xs=ni.prototype;Xs.isValid=Rr,Xs.abs=Ud,Xs.add=W1,Xs.subtract=rl,Xs.as=xu,Xs.asMilliseconds=jc,Xs.asSeconds=Oh,Xs.asMinutes=$d,Xs.asHours=df,Xs.asDays=Rh,Xs.asWeeks=yp,Xs.asMonths=Ha,Xs.asQuarters=Nh,Xs.asYears=rd,Xs.valueOf=Q1,Xs._bubble=Nf,Xs.clone=Pa,Xs.get=Lh,Xs.milliseconds=eu,Xs.seconds=kh,Xs.minutes=ba,Xs.hours=Ih,Xs.days=vp,Xs.weeks=hf,Xs.months=m0,Xs.years=id,Xs.humanize=n2,Xs.toISOString=sd,Xs.toString=sd,Xs.toJSON=sd,Xs.locale=of,Xs.localeData=Mc,Xs.toIsoString=he("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",sd),Xs.lang=J0,Je("X",0,0,"unix"),Je("x",0,0,"valueOf"),Dt("x",nr),Dt("X",oe),Te("X",function(A,W,de){de._d=new Date(parseFloat(A)*1e3)}),Te("x",function(A,W,de){de._d=new Date(yn(A))});return e.version="2.29.4",t(Ln),e.fn=$r,e.min=Cr,e.max=Gn,e.now=ar,e.utc=E,e.unix=wl,e.months=cf,e.isDate=f,e.locale=ps,e.invalid=L,e.duration=Hi,e.isMoment=I,e.weekdays=eg,e.parseZone=V1,e.localeData=Ps,e.isDuration=pi,e.monthsShort=Zx,e.weekdaysMin=ff,e.defineLocale=Zi,e.updateLocale=hu,e.locales=ga,e.weekdaysShort=Dh,e.normalizeUnits=nt,e.relativeTimeRounding=Mh,e.relativeTimeThreshold=zd,e.calendarFormat=oo,e.prototype=$r,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var Tu=Ae((XH,_De)=>{m();(function(n,e){typeof XH=="object"&&typeof _De!="undefined"?e(XH):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(XH,function(n){"use strict";function e(ie,Te,Ue){return ie.fields=Te||[],ie.fname=Ue,ie}function t(ie){return ie==null?null:ie.fname}function r(ie){return ie==null?null:ie.fields}function i(ie){return ie.length===1?s(ie[0]):o(ie)}let s=ie=>function(Te){return Te[ie]},o=ie=>{let Te=ie.length;return function(Ue){for(let gt=0;gt<Te;++gt)Ue=Ue[ie[gt]];return Ue}};function a(ie){throw Error(ie)}function l(ie){let Te=[],Ue=ie.length,gt=null,St=0,Rt="",ne,Ce,We;ie=ie+"";function st(){Te.push(Rt+ie.substring(ne,Ce)),Rt="",ne=Ce+1}for(ne=Ce=0;Ce<Ue;++Ce)if(We=ie[Ce],We==="\\")Rt+=ie.substring(ne,Ce),Rt+=ie.substring(++Ce,++Ce),ne=Ce;else if(We===gt)st(),gt=null,St=-1;else{if(gt)continue;ne===St&&We==='"'||ne===St&&We==="'"?(ne=Ce+1,gt=We):We==="."&&!St?Ce>ne?st():ne=Ce+1:We==="["?(Ce>ne&&st(),St=ne=Ce+1):We==="]"&&(St||a("Access path missing open bracket: "+ie),St>0&&st(),St=0,ne=Ce+1)}return St&&a("Access path missing closing bracket: "+ie),gt&&a("Access path missing closing quote: "+ie),Ce>ne&&(Ce++,st()),Te}function f(ie,Te,Ue){let gt=l(ie);return ie=gt.length===1?gt[0]:ie,e((Ue&&Ue.get||i)(gt),[ie],Te||ie)}let p=f("id"),_=e(ie=>ie,[],"identity"),E=e(()=>0,[],"zero"),O=e(()=>1,[],"one"),R=e(()=>!0,[],"true"),q=e(()=>!1,[],"false");function z(ie,Te,Ue){let gt=[Te].concat([].slice.call(Ue));console[ie].apply(console,gt)}let L=0,B=1,P=2,G=3,ue=4;function I(ie,Te,Ue=z){let gt=ie||L;return{level(St){return arguments.length?(gt=+St,this):gt},error(){return gt>=B&&Ue(Te||"error","ERROR",arguments),this},warn(){return gt>=P&&Ue(Te||"warn","WARN",arguments),this},info(){return gt>=G&&Ue(Te||"log","INFO",arguments),this},debug(){return gt>=ue&&Ue(Te||"log","DEBUG",arguments),this}}}var J=Array.isArray;function he(ie){return ie===Object(ie)}let ye=ie=>ie!=="__proto__";function He(...ie){return ie.reduce((Te,Ue)=>{for(let gt in Ue)if(gt==="signals")Te.signals=ct(Te.signals,Ue.signals);else{let St=gt==="legend"?{layout:1}:gt==="style"?!0:null;at(Te,gt,Ue[gt],St)}return Te},{})}function at(ie,Te,Ue,gt){if(!ye(Te))return;let St,Rt;if(he(Ue)&&!J(Ue)){Rt=he(ie[Te])?ie[Te]:ie[Te]={};for(St in Ue)gt&&(gt===!0||gt[St])?at(Rt,St,Ue[St]):ye(St)&&(Rt[St]=Ue[St])}else ie[Te]=Ue}function ct(ie,Te){if(ie==null)return Te;let Ue={},gt=[];function St(Rt){Ue[Rt.name]||(Ue[Rt.name]=1,gt.push(Rt))}return Te.forEach(St),ie.forEach(St),gt}function Ze(ie){return ie[ie.length-1]}function Et(ie){return ie==null||ie===""?null:+ie}let Mt=ie=>Te=>ie*Math.exp(Te),qe=ie=>Te=>Math.log(ie*Te),te=ie=>Te=>Math.sign(Te)*Math.log1p(Math.abs(Te/ie)),et=ie=>Te=>Math.sign(Te)*Math.expm1(Math.abs(Te))*ie,be=ie=>Te=>Te<0?-Math.pow(-Te,ie):Math.pow(Te,ie);function ke(ie,Te,Ue,gt){let St=Ue(ie[0]),Rt=Ue(Ze(ie)),ne=(Rt-St)*Te;return[gt(St-ne),gt(Rt-ne)]}function we(ie,Te){return ke(ie,Te,Et,_)}function pe(ie,Te){var Ue=Math.sign(ie[0]);return ke(ie,Te,qe(Ue),Mt(Ue))}function Je(ie,Te,Ue){return ke(ie,Te,be(Ue),be(1/Ue))}function lt(ie,Te,Ue){return ke(ie,Te,te(Ue),et(Ue))}function Ht(ie,Te,Ue,gt,St){let Rt=gt(ie[0]),ne=gt(Ze(ie)),Ce=Te!=null?gt(Te):(Rt+ne)/2;return[St(Ce+(Rt-Ce)*Ue),St(Ce+(ne-Ce)*Ue)]}function Ct(ie,Te,Ue){return Ht(ie,Te,Ue,Et,_)}function mn(ie,Te,Ue){let gt=Math.sign(ie[0]);return Ht(ie,Te,Ue,qe(gt),Mt(gt))}function kt(ie,Te,Ue,gt){return Ht(ie,Te,Ue,be(gt),be(1/gt))}function Bt(ie,Te,Ue,gt){return Ht(ie,Te,Ue,te(gt),et(gt))}function tn(ie){return 1+~~(new Date(ie).getMonth()/3)}function bt(ie){return 1+~~(new Date(ie).getUTCMonth()/3)}function ve(ie){return ie!=null?J(ie)?ie:[ie]:[]}function Le(ie,Te,Ue){let gt=ie[0],St=ie[1],Rt;return St<gt&&(Rt=St,St=gt,gt=Rt),Rt=St-gt,Rt>=Ue-Te?[Te,Ue]:[gt=Math.min(Math.max(gt,Te),Ue-Rt),gt+Rt]}function _e(ie){return typeof ie=="function"}let ce="descending";function tt(ie,Te,Ue){Ue=Ue||{},Te=ve(Te)||[];let gt=[],St=[],Rt={},ne=Ue.comparator||re;return ve(ie).forEach((Ce,We)=>{Ce!=null&&(gt.push(Te[We]===ce?-1:1),St.push(Ce=_e(Ce)?Ce:f(Ce,null,Ue)),(r(Ce)||[]).forEach(st=>Rt[st]=1))}),St.length===0?null:e(ne(St,gt),Object.keys(Rt))}let Ke=(ie,Te)=>(ie<Te||ie==null)&&Te!=null?-1:(ie>Te||Te==null)&&ie!=null?1:(Te=Te instanceof Date?+Te:Te,(ie=ie instanceof Date?+ie:ie)!==ie&&Te===Te?-1:Te!==Te&&ie===ie?1:0),re=(ie,Te)=>ie.length===1?Oe(ie[0],Te[0]):nt(ie,Te,ie.length),Oe=(ie,Te)=>function(Ue,gt){return Ke(ie(Ue),ie(gt))*Te},nt=(ie,Te,Ue)=>(Te.push(0),function(gt,St){let Rt,ne=0,Ce=-1;for(;ne===0&&++Ce<Ue;)Rt=ie[Ce],ne=Ke(Rt(gt),Rt(St));return ne*Te[Ce]});function ft(ie){return _e(ie)?ie:()=>ie}function Ot(ie,Te){let Ue;return gt=>{Ue&&clearTimeout(Ue),Ue=setTimeout(()=>(Te(gt),Ue=null),ie)}}function Yt(ie){for(let Te,Ue,gt=1,St=arguments.length;gt<St;++gt){Te=arguments[gt];for(Ue in Te)ie[Ue]=Te[Ue]}return ie}function Gt(ie,Te){let Ue=0,gt,St,Rt,ne;if(ie&&(gt=ie.length))if(Te==null){for(St=ie[Ue];Ue<gt&&(St==null||St!==St);St=ie[++Ue]);for(Rt=ne=St;Ue<gt;++Ue)St=ie[Ue],St!=null&&(St<Rt&&(Rt=St),St>ne&&(ne=St))}else{for(St=Te(ie[Ue]);Ue<gt&&(St==null||St!==St);St=Te(ie[++Ue]));for(Rt=ne=St;Ue<gt;++Ue)St=Te(ie[Ue]),St!=null&&(St<Rt&&(Rt=St),St>ne&&(ne=St))}return[Rt,ne]}function fn(ie,Te){let Ue=ie.length,gt=-1,St,Rt,ne,Ce,We;if(Te==null){for(;++gt<Ue;)if(Rt=ie[gt],Rt!=null&&Rt>=Rt){St=ne=Rt;break}if(gt===Ue)return[-1,-1];for(Ce=We=gt;++gt<Ue;)Rt=ie[gt],Rt!=null&&(St>Rt&&(St=Rt,Ce=gt),ne<Rt&&(ne=Rt,We=gt))}else{for(;++gt<Ue;)if(Rt=Te(ie[gt],gt,ie),Rt!=null&&Rt>=Rt){St=ne=Rt;break}if(gt===Ue)return[-1,-1];for(Ce=We=gt;++gt<Ue;)Rt=Te(ie[gt],gt,ie),Rt!=null&&(St>Rt&&(St=Rt,Ce=gt),ne<Rt&&(ne=Rt,We=gt))}return[Ce,We]}let gn=Object.prototype.hasOwnProperty;function yn(ie,Te){return gn.call(ie,Te)}let Lt={};function un(ie){let Te={},Ue;function gt(Rt){return yn(Te,Rt)&&Te[Rt]!==Lt}let St={size:0,empty:0,object:Te,has:gt,get(Rt){return gt(Rt)?Te[Rt]:void 0},set(Rt,ne){return gt(Rt)||(++St.size,Te[Rt]===Lt&&--St.empty),Te[Rt]=ne,this},delete(Rt){return gt(Rt)&&(--St.size,++St.empty,Te[Rt]=Lt),this},clear(){St.size=St.empty=0,St.object=Te={}},test(Rt){return arguments.length?(Ue=Rt,St):Ue},clean(){let Rt={},ne=0;for(let Ce in Te){let We=Te[Ce];We!==Lt&&(!Ue||!Ue(We))&&(Rt[Ce]=We,++ne)}St.size=ne,St.empty=0,St.object=Te=Rt}};return ie&&Object.keys(ie).forEach(Rt=>{St.set(Rt,ie[Rt])}),St}function Mn(ie,Te,Ue,gt,St,Rt){if(!Ue&&Ue!==0)return Rt;let ne=+Ue,Ce=ie[0],We=Ze(ie),st;We<Ce&&(st=Ce,Ce=We,We=st),st=Math.abs(Te-Ce);let Ut=Math.abs(We-Te);return st<Ut&&st<=ne?gt:Ut<=ne?St:Rt}function tr(ie,Te,Ue){let gt=ie.prototype=Object.create(Te.prototype);return Object.defineProperty(gt,"constructor",{value:ie,writable:!0,enumerable:!0,configurable:!0}),Yt(gt,Ue)}function Rn(ie,Te,Ue,gt){let St=Te[0],Rt=Te[Te.length-1],ne;return St>Rt&&(ne=St,St=Rt,Rt=ne),Ue=Ue===void 0||Ue,gt=gt===void 0||gt,(Ue?St<=ie:St<ie)&&(gt?ie<=Rt:ie<Rt)}function Ne(ie){return typeof ie=="boolean"}function ze(ie){return Object.prototype.toString.call(ie)==="[object Date]"}function De(ie){return ie&&_e(ie[Symbol.iterator])}function Pt(ie){return typeof ie=="number"}function mt(ie){return Object.prototype.toString.call(ie)==="[object RegExp]"}function xt(ie){return typeof ie=="string"}function rn(ie,Te,Ue){ie&&(ie=Te?ve(ie).map(Ce=>Ce.replace(/\\(.)/g,"$1")):ve(ie));let gt=ie&&ie.length,St=Ue&&Ue.get||i,Rt=Ce=>St(Te?[Ce]:l(Ce)),ne;if(!gt)ne=function(){return""};else if(gt===1){let Ce=Rt(ie[0]);ne=function(We){return""+Ce(We)}}else{let Ce=ie.map(Rt);ne=function(We){let st=""+Ce[0](We),Ut=0;for(;++Ut<gt;)st+="|"+Ce[Ut](We);return st}}return e(ne,ie,"key")}function Qt(ie,Te){let Ue=ie[0],gt=Ze(ie),St=+Te;return St?St===1?gt:Ue+St*(gt-Ue):Ue}let Fn=1e4;function Wn(ie){ie=+ie||Fn;let Te,Ue,gt,St=()=>{Te={},Ue={},gt=0},Rt=(ne,Ce)=>(++gt>ie&&(Ue=Te,Te={},gt=1),Te[ne]=Ce);return St(),{clear:St,has:ne=>yn(Te,ne)||yn(Ue,ne),get:ne=>yn(Te,ne)?Te[ne]:yn(Ue,ne)?Rt(ne,Ue[ne]):void 0,set:(ne,Ce)=>yn(Te,ne)?Te[ne]=Ce:Rt(ne,Ce)}}function Zn(ie,Te,Ue,gt){let St=Te.length,Rt=Ue.length;if(!Rt)return Te;if(!St)return Ue;let ne=gt||new Te.constructor(St+Rt),Ce=0,We=0,st=0;for(;Ce<St&&We<Rt;++st)ne[st]=ie(Te[Ce],Ue[We])>0?Ue[We++]:Te[Ce++];for(;Ce<St;++Ce,++st)ne[st]=Te[Ce];for(;We<Rt;++We,++st)ne[st]=Ue[We];return ne}function Nn(ie,Te){let Ue="";for(;--Te>=0;)Ue+=ie;return Ue}function nr(ie,Te,Ue,gt){let St=Ue||" ",Rt=ie+"",ne=Te-Rt.length;return ne<=0?Rt:gt==="left"?Nn(St,ne)+Rt:gt==="center"?Nn(St,~~(ne/2))+Rt+Nn(St,Math.ceil(ne/2)):Rt+Nn(St,ne)}function Ye(ie){return ie&&Ze(ie)-ie[0]||0}function vt(ie){return J(ie)?"["+ie.map(vt)+"]":he(ie)||xt(ie)?JSON.stringify(ie).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):ie}function oe(ie){return ie==null||ie===""?null:!ie||ie==="false"||ie==="0"?!1:!!ie}let Be=ie=>Pt(ie)||ze(ie)?ie:Date.parse(ie);function rt(ie,Te){return Te=Te||Be,ie==null||ie===""?null:Te(ie)}function Dt(ie){return ie==null||ie===""?null:ie+""}function hn(ie){let Te={},Ue=ie.length;for(let gt=0;gt<Ue;++gt)Te[ie[gt]]=!0;return Te}function an(ie,Te,Ue,gt){let St=gt??"\u2026",Rt=ie+"",ne=Rt.length,Ce=Math.max(0,Te-St.length);return ne<=Te?Rt:Ue==="left"?St+Rt.slice(ne-Ce):Ue==="center"?Rt.slice(0,Math.ceil(Ce/2))+St+Rt.slice(ne-~~(Ce/2)):Rt.slice(0,Ce)+St}function dt(ie,Te,Ue){if(ie)if(Te){let gt=ie.length;for(let St=0;St<gt;++St){let Rt=Te(ie[St]);Rt&&Ue(Rt,St,ie)}}else ie.forEach(Ue)}n.Debug=ue,n.Error=B,n.Info=G,n.None=L,n.Warn=P,n.accessor=e,n.accessorFields=r,n.accessorName=t,n.array=ve,n.ascending=Ke,n.clampRange=Le,n.compare=tt,n.constant=ft,n.debounce=Ot,n.error=a,n.extend=Yt,n.extent=Gt,n.extentIndex=fn,n.falsy=q,n.fastmap=un,n.field=f,n.flush=Mn,n.hasOwnProperty=yn,n.id=p,n.identity=_,n.inherits=tr,n.inrange=Rn,n.isArray=J,n.isBoolean=Ne,n.isDate=ze,n.isFunction=_e,n.isIterable=De,n.isNumber=Pt,n.isObject=he,n.isRegExp=mt,n.isString=xt,n.key=rn,n.lerp=Qt,n.logger=I,n.lruCache=Wn,n.merge=Zn,n.mergeConfig=He,n.one=O,n.pad=nr,n.panLinear=we,n.panLog=pe,n.panPow=Je,n.panSymlog=lt,n.peek=Ze,n.quarter=tn,n.repeat=Nn,n.span=Ye,n.splitAccessPath=l,n.stringValue=vt,n.toBoolean=oe,n.toDate=rt,n.toNumber=Et,n.toSet=hn,n.toString=Dt,n.truncate=an,n.truthy=R,n.utcquarter=bt,n.visitArray=dt,n.writeConfig=at,n.zero=E,n.zoomLinear=Ct,n.zoomLog=mn,n.zoomPow=kt,n.zoomSymlog=Bt,Object.defineProperty(n,"__esModule",{value:!0})})});var EDe=Ae((ZH,bDe)=>{m();(function(n,e){typeof ZH=="object"&&typeof bDe!="undefined"?e(ZH):typeof define=="function"&&define.amd?define(["exports"],e):(n=n||self,e(n.topojson=n.topojson||{}))})(ZH,function(n){"use strict";function e(P){return P}function t(P){if(P==null)return e;var G,ue,I=P.scale[0],J=P.scale[1],he=P.translate[0],ye=P.translate[1];return function(He,at){at||(G=ue=0);var ct=2,Ze=He.length,Et=new Array(Ze);for(Et[0]=(G+=He[0])*I+he,Et[1]=(ue+=He[1])*J+ye;ct<Ze;)Et[ct]=He[ct],++ct;return Et}}function r(P){var G=t(P.transform),ue,I=1/0,J=I,he=-I,ye=-I;function He(ct){ct=G(ct),ct[0]<I&&(I=ct[0]),ct[0]>he&&(he=ct[0]),ct[1]<J&&(J=ct[1]),ct[1]>ye&&(ye=ct[1])}function at(ct){switch(ct.type){case"GeometryCollection":ct.geometries.forEach(at);break;case"Point":He(ct.coordinates);break;case"MultiPoint":ct.coordinates.forEach(He);break}}P.arcs.forEach(function(ct){for(var Ze=-1,Et=ct.length,Mt;++Ze<Et;)Mt=G(ct[Ze],Ze),Mt[0]<I&&(I=Mt[0]),Mt[0]>he&&(he=Mt[0]),Mt[1]<J&&(J=Mt[1]),Mt[1]>ye&&(ye=Mt[1])});for(ue in P.objects)at(P.objects[ue]);return[I,J,he,ye]}function i(P,G){for(var ue,I=P.length,J=I-G;J<--I;)ue=P[J],P[J++]=P[I],P[I]=ue}function s(P,G){return typeof G=="string"&&(G=P.objects[G]),G.type==="GeometryCollection"?{type:"FeatureCollection",features:G.geometries.map(function(ue){return o(P,ue)})}:o(P,G)}function o(P,G){var ue=G.id,I=G.bbox,J=G.properties==null?{}:G.properties,he=a(P,G);return ue==null&&I==null?{type:"Feature",properties:J,geometry:he}:I==null?{type:"Feature",id:ue,properties:J,geometry:he}:{type:"Feature",id:ue,bbox:I,properties:J,geometry:he}}function a(P,G){var ue=t(P.transform),I=P.arcs;function J(Ze,Et){Et.length&&Et.pop();for(var Mt=I[Ze<0?~Ze:Ze],qe=0,te=Mt.length;qe<te;++qe)Et.push(ue(Mt[qe],qe));Ze<0&&i(Et,te)}function he(Ze){return ue(Ze)}function ye(Ze){for(var Et=[],Mt=0,qe=Ze.length;Mt<qe;++Mt)J(Ze[Mt],Et);return Et.length<2&&Et.push(Et[0]),Et}function He(Ze){for(var Et=ye(Ze);Et.length<4;)Et.push(Et[0]);return Et}function at(Ze){return Ze.map(He)}function ct(Ze){var Et=Ze.type,Mt;switch(Et){case"GeometryCollection":return{type:Et,geometries:Ze.geometries.map(ct)};case"Point":Mt=he(Ze.coordinates);break;case"MultiPoint":Mt=Ze.coordinates.map(he);break;case"LineString":Mt=ye(Ze.arcs);break;case"MultiLineString":Mt=Ze.arcs.map(ye);break;case"Polygon":Mt=at(Ze.arcs);break;case"MultiPolygon":Mt=Ze.arcs.map(at);break;default:return null}return{type:Et,coordinates:Mt}}return ct(G)}function l(P,G){var ue={},I={},J={},he=[],ye=-1;G.forEach(function(ct,Ze){var Et=P.arcs[ct<0?~ct:ct],Mt;Et.length<3&&!Et[1][0]&&!Et[1][1]&&(Mt=G[++ye],G[ye]=ct,G[Ze]=Mt)}),G.forEach(function(ct){var Ze=He(ct),Et=Ze[0],Mt=Ze[1],qe,te;if(qe=J[Et])if(delete J[qe.end],qe.push(ct),qe.end=Mt,te=I[Mt]){delete I[te.start];var et=te===qe?qe:qe.concat(te);I[et.start=qe.start]=J[et.end=te.end]=et}else I[qe.start]=J[qe.end]=qe;else if(qe=I[Mt])if(delete I[qe.start],qe.unshift(ct),qe.start=Et,te=J[Et]){delete J[te.end];var be=te===qe?qe:te.concat(qe);I[be.start=te.start]=J[be.end=qe.end]=be}else I[qe.start]=J[qe.end]=qe;else qe=[ct],I[qe.start=Et]=J[qe.end=Mt]=qe});function He(ct){var Ze=P.arcs[ct<0?~ct:ct],Et=Ze[0],Mt;return P.transform?(Mt=[0,0],Ze.forEach(function(qe){Mt[0]+=qe[0],Mt[1]+=qe[1]})):Mt=Ze[Ze.length-1],ct<0?[Mt,Et]:[Et,Mt]}function at(ct,Ze){for(var Et in ct){var Mt=ct[Et];delete Ze[Mt.start],delete Mt.start,delete Mt.end,Mt.forEach(function(qe){ue[qe<0?~qe:qe]=1}),he.push(Mt)}}return at(J,I),at(I,J),G.forEach(function(ct){ue[ct<0?~ct:ct]||he.push([ct])}),he}function f(P){return a(P,p.apply(this,arguments))}function p(P,G,ue){var I,J,he;if(arguments.length>1)I=_(P,G,ue);else for(J=0,I=new Array(he=P.arcs.length);J<he;++J)I[J]=J;return{type:"MultiLineString",arcs:l(P,I)}}function _(P,G,ue){var I=[],J=[],he;function ye(Et){var Mt=Et<0?~Et:Et;(J[Mt]||(J[Mt]=[])).push({i:Et,g:he})}function He(Et){Et.forEach(ye)}function at(Et){Et.forEach(He)}function ct(Et){Et.forEach(at)}function Ze(Et){switch(he=Et,Et.type){case"GeometryCollection":Et.geometries.forEach(Ze);break;case"LineString":He(Et.arcs);break;case"MultiLineString":case"Polygon":at(Et.arcs);break;case"MultiPolygon":ct(Et.arcs);break}}return Ze(G),J.forEach(ue==null?function(Et){I.push(Et[0].i)}:function(Et){ue(Et[0].g,Et[Et.length-1].g)&&I.push(Et[0].i)}),I}function E(P){for(var G=-1,ue=P.length,I,J=P[ue-1],he=0;++G<ue;)I=J,J=P[G],he+=I[0]*J[1]-I[1]*J[0];return Math.abs(he)}function O(P){return a(P,R.apply(this,arguments))}function R(P,G){var ue={},I=[],J=[];G.forEach(he);function he(at){switch(at.type){case"GeometryCollection":at.geometries.forEach(he);break;case"Polygon":ye(at.arcs);break;case"MultiPolygon":at.arcs.forEach(ye);break}}function ye(at){at.forEach(function(ct){ct.forEach(function(Ze){(ue[Ze=Ze<0?~Ze:Ze]||(ue[Ze]=[])).push(at)})}),I.push(at)}function He(at){return E(a(P,{type:"Polygon",arcs:[at]}).coordinates[0])}return I.forEach(function(at){if(!at._){var ct=[],Ze=[at];for(at._=1,J.push(ct);at=Ze.pop();)ct.push(at),at.forEach(function(Et){Et.forEach(function(Mt){ue[Mt<0?~Mt:Mt].forEach(function(qe){qe._||(qe._=1,Ze.push(qe))})})})}}),I.forEach(function(at){delete at._}),{type:"MultiPolygon",arcs:J.map(function(at){var ct=[],Ze;if(at.forEach(function(et){et.forEach(function(be){be.forEach(function(ke){ue[ke<0?~ke:ke].length<2&&ct.push(ke)})})}),ct=l(P,ct),(Ze=ct.length)>1)for(var Et=1,Mt=He(ct[0]),qe,te;Et<Ze;++Et)(qe=He(ct[Et]))>Mt&&(te=ct[0],ct[0]=ct[Et],ct[Et]=te,Mt=qe);return ct}).filter(function(at){return at.length>0})}}function q(P,G){for(var ue=0,I=P.length;ue<I;){var J=ue+I>>>1;P[J]<G?ue=J+1:I=J}return ue}function z(P){var G={},ue=P.map(function(){return[]});function I(et,be){et.forEach(function(ke){ke<0&&(ke=~ke);var we=G[ke];we?we.push(be):G[ke]=[be]})}function J(et,be){et.forEach(function(ke){I(ke,be)})}function he(et,be){et.type==="GeometryCollection"?et.geometries.forEach(function(ke){he(ke,be)}):et.type in ye&&ye[et.type](et.arcs,be)}var ye={LineString:I,MultiLineString:J,Polygon:J,MultiPolygon:function(et,be){et.forEach(function(ke){J(ke,be)})}};P.forEach(he);for(var He in G)for(var at=G[He],ct=at.length,Ze=0;Ze<ct;++Ze)for(var Et=Ze+1;Et<ct;++Et){var Mt=at[Ze],qe=at[Et],te;(te=ue[Mt])[He=q(te,qe)]!==qe&&te.splice(He,0,qe),(te=ue[qe])[He=q(te,Mt)]!==Mt&&te.splice(He,0,Mt)}return ue}function L(P){if(P==null)return e;var G,ue,I=P.scale[0],J=P.scale[1],he=P.translate[0],ye=P.translate[1];return function(He,at){at||(G=ue=0);var ct=2,Ze=He.length,Et=new Array(Ze),Mt=Math.round((He[0]-he)/I),qe=Math.round((He[1]-ye)/J);for(Et[0]=Mt-G,G=Mt,Et[1]=qe-ue,ue=qe;ct<Ze;)Et[ct]=He[ct],++ct;return Et}}function B(P,G){if(P.transform)throw new Error("already quantized");if(!G||!G.scale){if(!((ye=Math.floor(G))>=2))throw new Error("n must be \u22652");at=P.bbox||r(P);var ue=at[0],I=at[1],J=at[2],he=at[3],ye;G={scale:[J-ue?(J-ue)/(ye-1):1,he-I?(he-I)/(ye-1):1],translate:[ue,I]}}else at=P.bbox;var He=L(G),at,ct,Ze=P.objects,Et={};function Mt(et){return He(et)}function qe(et){var be;switch(et.type){case"GeometryCollection":be={type:"GeometryCollection",geometries:et.geometries.map(qe)};break;case"Point":be={type:"Point",coordinates:Mt(et.coordinates)};break;case"MultiPoint":be={type:"MultiPoint",coordinates:et.coordinates.map(Mt)};break;default:return et}return et.id!=null&&(be.id=et.id),et.bbox!=null&&(be.bbox=et.bbox),et.properties!=null&&(be.properties=et.properties),be}function te(et){var be=0,ke=1,we=et.length,pe,Je=new Array(we);for(Je[0]=He(et[0],0);++be<we;)((pe=He(et[be],be))[0]||pe[1])&&(Je[ke++]=pe);return ke===1&&(Je[ke++]=[0,0]),Je.length=ke,Je}for(ct in Ze)Et[ct]=qe(Ze[ct]);return{type:"Topology",bbox:at,transform:G,objects:Et,arcs:P.arcs.map(te)}}n.bbox=r,n.feature=s,n.merge=O,n.mergeArcs=R,n.mesh=f,n.meshArcs=p,n.neighbors=z,n.quantize=B,n.transform=t,n.untransform=L,Object.defineProperty(n,"__esModule",{value:!0})})});var d9=Ae((eV,SDe)=>{m();(function(n,e){typeof eV=="object"&&typeof SDe!="undefined"?e(eV,Tu()):typeof define=="function"&&define.amd?define(["exports","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega))})(eV,function(n,e){"use strict";let t="year",r="quarter",i="month",s="week",o="date",a="day",l="dayofyear",f="hours",p="minutes",_="seconds",E="milliseconds",O=[t,r,i,s,o,a,l,f,p,_,E],R=O.reduce((N,V,Ee)=>(N[V]=1+Ee,N),{});function q(N){let V=e.array(N).slice(),Ee={};return V.length||e.error("Missing time unit."),V.forEach(K=>{e.hasOwnProperty(R,K)?Ee[K]=1:e.error(`Invalid time unit: ${K}.`)}),(Ee[s]||Ee[a]?1:0)+(Ee[r]||Ee[i]||Ee[o]?1:0)+(Ee[l]?1:0)>1&&e.error(`Incompatible time units: ${N}`),V.sort((K,ae)=>R[K]-R[ae]),V}let z={[t]:"%Y ",[r]:"Q%q ",[i]:"%b ",[o]:"%d ",[s]:"W%U ",[a]:"%a ",[l]:"%j ",[f]:"%H:00",[p]:"00:%M",[_]:":%S",[E]:".%L",[`${t}-${i}`]:"%Y-%m ",[`${t}-${i}-${o}`]:"%Y-%m-%d ",[`${f}-${p}`]:"%H:%M"};function L(N,V){let Ee=e.extend({},z,V),xe=q(N),K=xe.length,ae="",fe=0,Qe,It;for(fe=0;fe<K;)for(Qe=xe.length;Qe>fe;--Qe)if(It=xe.slice(fe,Qe).join("-"),Ee[It]!=null){ae+=Ee[It],fe=Qe;break}return ae.trim()}var B=new Date,P=new Date;function G(N,V,Ee,xe){function K(ae){return N(ae=arguments.length===0?new Date:new Date(+ae)),ae}return K.floor=function(ae){return N(ae=new Date(+ae)),ae},K.ceil=function(ae){return N(ae=new Date(ae-1)),V(ae,1),N(ae),ae},K.round=function(ae){var fe=K(ae),Qe=K.ceil(ae);return ae-fe<Qe-ae?fe:Qe},K.offset=function(ae,fe){return V(ae=new Date(+ae),fe==null?1:Math.floor(fe)),ae},K.range=function(ae,fe,Qe){var It=[],At;if(ae=K.ceil(ae),Qe=Qe==null?1:Math.floor(Qe),!(ae<fe)||!(Qe>0))return It;do It.push(At=new Date(+ae)),V(ae,Qe),N(ae);while(At<ae&&ae<fe);return It},K.filter=function(ae){return G(function(fe){if(fe>=fe)for(;N(fe),!ae(fe);)fe.setTime(fe-1)},function(fe,Qe){if(fe>=fe)if(Qe<0)for(;++Qe<=0;)for(;V(fe,-1),!ae(fe););else for(;--Qe>=0;)for(;V(fe,1),!ae(fe););})},Ee&&(K.count=function(ae,fe){return B.setTime(+ae),P.setTime(+fe),N(B),N(P),Math.floor(Ee(B,P))},K.every=function(ae){return ae=Math.floor(ae),!isFinite(ae)||!(ae>0)?null:ae>1?K.filter(xe?function(fe){return xe(fe)%ae===0}:function(fe){return K.count(0,fe)%ae===0}):K}),K}var ue=G(function(){},function(N,V){N.setTime(+N+V)},function(N,V){return V-N});ue.every=function(N){return N=Math.floor(N),!isFinite(N)||!(N>0)?null:N>1?G(function(V){V.setTime(Math.floor(V/N)*N)},function(V,Ee){V.setTime(+V+Ee*N)},function(V,Ee){return(Ee-V)/N}):ue};var I=ue;let J=1e3,he=J*60,ye=he*60,He=ye*24,at=He*7;var ct=G(function(N){N.setTime(N-N.getMilliseconds())},function(N,V){N.setTime(+N+V*J)},function(N,V){return(V-N)/J},function(N){return N.getUTCSeconds()}),Ze=ct,Et=G(function(N){N.setTime(N-N.getMilliseconds()-N.getSeconds()*J)},function(N,V){N.setTime(+N+V*he)},function(N,V){return(V-N)/he},function(N){return N.getMinutes()}),Mt=Et,qe=G(function(N){N.setTime(N-N.getMilliseconds()-N.getSeconds()*J-N.getMinutes()*he)},function(N,V){N.setTime(+N+V*ye)},function(N,V){return(V-N)/ye},function(N){return N.getHours()}),te=qe,et=G(N=>N.setHours(0,0,0,0),(N,V)=>N.setDate(N.getDate()+V),(N,V)=>(V-N-(V.getTimezoneOffset()-N.getTimezoneOffset())*he)/He,N=>N.getDate()-1),be=et;function ke(N){return G(function(V){V.setDate(V.getDate()-(V.getDay()+7-N)%7),V.setHours(0,0,0,0)},function(V,Ee){V.setDate(V.getDate()+Ee*7)},function(V,Ee){return(Ee-V-(Ee.getTimezoneOffset()-V.getTimezoneOffset())*he)/at})}var we=ke(0);ke(1),ke(2),ke(3),ke(4),ke(5),ke(6);var pe=G(function(N){N.setDate(1),N.setHours(0,0,0,0)},function(N,V){N.setMonth(N.getMonth()+V)},function(N,V){return V.getMonth()-N.getMonth()+(V.getFullYear()-N.getFullYear())*12},function(N){return N.getMonth()}),Je=pe,lt=G(function(N){N.setMonth(0,1),N.setHours(0,0,0,0)},function(N,V){N.setFullYear(N.getFullYear()+V)},function(N,V){return V.getFullYear()-N.getFullYear()},function(N){return N.getFullYear()});lt.every=function(N){return!isFinite(N=Math.floor(N))||!(N>0)?null:G(function(V){V.setFullYear(Math.floor(V.getFullYear()/N)*N),V.setMonth(0,1),V.setHours(0,0,0,0)},function(V,Ee){V.setFullYear(V.getFullYear()+Ee*N)})};var Ht=lt,Ct=G(function(N){N.setUTCSeconds(0,0)},function(N,V){N.setTime(+N+V*he)},function(N,V){return(V-N)/he},function(N){return N.getUTCMinutes()}),mn=Ct,kt=G(function(N){N.setUTCMinutes(0,0,0)},function(N,V){N.setTime(+N+V*ye)},function(N,V){return(V-N)/ye},function(N){return N.getUTCHours()}),Bt=kt,tn=G(function(N){N.setUTCHours(0,0,0,0)},function(N,V){N.setUTCDate(N.getUTCDate()+V)},function(N,V){return(V-N)/He},function(N){return N.getUTCDate()-1}),bt=tn;function ve(N){return G(function(V){V.setUTCDate(V.getUTCDate()-(V.getUTCDay()+7-N)%7),V.setUTCHours(0,0,0,0)},function(V,Ee){V.setUTCDate(V.getUTCDate()+Ee*7)},function(V,Ee){return(Ee-V)/at})}var Le=ve(0);ve(1),ve(2),ve(3),ve(4),ve(5),ve(6);var _e=G(function(N){N.setUTCDate(1),N.setUTCHours(0,0,0,0)},function(N,V){N.setUTCMonth(N.getUTCMonth()+V)},function(N,V){return V.getUTCMonth()-N.getUTCMonth()+(V.getUTCFullYear()-N.getUTCFullYear())*12},function(N){return N.getUTCMonth()}),ce=_e,tt=G(function(N){N.setUTCMonth(0,1),N.setUTCHours(0,0,0,0)},function(N,V){N.setUTCFullYear(N.getUTCFullYear()+V)},function(N,V){return V.getUTCFullYear()-N.getUTCFullYear()},function(N){return N.getUTCFullYear()});tt.every=function(N){return!isFinite(N=Math.floor(N))||!(N>0)?null:G(function(V){V.setUTCFullYear(Math.floor(V.getUTCFullYear()/N)*N),V.setUTCMonth(0,1),V.setUTCHours(0,0,0,0)},function(V,Ee){V.setUTCFullYear(V.getUTCFullYear()+Ee*N)})};var Ke=tt;function re(N,V){return N==null||V==null?NaN:N<V?-1:N>V?1:N>=V?0:NaN}function Oe(N){let V=N,Ee=N,xe=N;N.length!==2&&(V=(Qe,It)=>N(Qe)-It,Ee=re,xe=(Qe,It)=>re(N(Qe),It));function K(Qe,It,At=0,dn=Qe.length){if(At<dn){if(Ee(It,It)!==0)return dn;do{let w=At+dn>>>1;xe(Qe[w],It)<0?At=w+1:dn=w}while(At<dn)}return At}function ae(Qe,It,At=0,dn=Qe.length){if(At<dn){if(Ee(It,It)!==0)return dn;do{let w=At+dn>>>1;xe(Qe[w],It)<=0?At=w+1:dn=w}while(At<dn)}return At}function fe(Qe,It,At=0,dn=Qe.length){let w=K(Qe,It,At,dn-1);return w>At&&V(Qe[w-1],It)>-V(Qe[w],It)?w-1:w}return{left:K,center:fe,right:ae}}var nt=Math.sqrt(50),ft=Math.sqrt(10),Ot=Math.sqrt(2);function Yt(N,V,Ee){var xe=Math.abs(V-N)/Math.max(0,Ee),K=Math.pow(10,Math.floor(Math.log(xe)/Math.LN10)),ae=xe/K;return ae>=nt?K*=10:ae>=ft?K*=5:ae>=Ot&&(K*=2),V<N?-K:K}let Gt=new Date;function fn(N){return Gt.setFullYear(N),Gt.setMonth(0),Gt.setDate(1),Gt.setHours(0,0,0,0),Gt}function gn(N){return Lt(new Date(N))}function yn(N){return un(new Date(N))}function Lt(N){return be.count(fn(N.getFullYear())-1,N)}function un(N){return we.count(fn(N.getFullYear())-1,N)}function Mn(N){return fn(N).getDay()}function tr(N,V,Ee,xe,K,ae,fe){if(0<=N&&N<100){let Qe=new Date(-1,V,Ee,xe,K,ae,fe);return Qe.setFullYear(N),Qe}return new Date(N,V,Ee,xe,K,ae,fe)}function Rn(N){return ze(new Date(N))}function Ne(N){return De(new Date(N))}function ze(N){let V=Date.UTC(N.getUTCFullYear(),0,1);return bt.count(V-1,N)}function De(N){let V=Date.UTC(N.getUTCFullYear(),0,1);return Le.count(V-1,N)}function Pt(N){return Gt.setTime(Date.UTC(N,0,1)),Gt.getUTCDay()}function mt(N,V,Ee,xe,K,ae,fe){if(0<=N&&N<100){let Qe=new Date(Date.UTC(-1,V,Ee,xe,K,ae,fe));return Qe.setUTCFullYear(Ee.y),Qe}return new Date(Date.UTC(N,V,Ee,xe,K,ae,fe))}function xt(N,V,Ee,xe,K){let ae=V||1,fe=e.peek(N),Qe=(Zt,Xt,xn)=>(xn=xn||Zt,rn(Ee[xn],xe[xn],Zt===fe&&ae,Xt)),It=new Date,At=e.toSet(N),dn=At[t]?Qe(t):e.constant(2012),w=At[i]?Qe(i):At[r]?Qe(r):e.zero,j=At[s]&&At[a]?Qe(a,1,s+a):At[s]?Qe(s,1):At[a]?Qe(a,1):At[o]?Qe(o,1):At[l]?Qe(l,1):e.one,ee=At[f]?Qe(f):e.zero,Se=At[p]?Qe(p):e.zero,ht=At[_]?Qe(_):e.zero,Tt=At[E]?Qe(E):e.zero;return function(Zt){It.setTime(+Zt);let Xt=dn(It);return K(Xt,w(It),j(It,Xt),ee(It),Se(It),ht(It),Tt(It))}}function rn(N,V,Ee,xe){let K=Ee<=1?N:xe?(ae,fe)=>xe+Ee*Math.floor((N(ae,fe)-xe)/Ee):(ae,fe)=>Ee*Math.floor(N(ae,fe)/Ee);return V?(ae,fe)=>V(K(ae,fe),fe):K}function Qt(N,V,Ee){return V+N*7-(Ee+6)%7}let Fn={[t]:N=>N.getFullYear(),[r]:N=>Math.floor(N.getMonth()/3),[i]:N=>N.getMonth(),[o]:N=>N.getDate(),[f]:N=>N.getHours(),[p]:N=>N.getMinutes(),[_]:N=>N.getSeconds(),[E]:N=>N.getMilliseconds(),[l]:N=>Lt(N),[s]:N=>un(N),[s+a]:(N,V)=>Qt(un(N),N.getDay(),Mn(V)),[a]:(N,V)=>Qt(1,N.getDay(),Mn(V))},Wn={[r]:N=>3*N,[s]:(N,V)=>Qt(N,0,Mn(V))};function Zn(N,V){return xt(N,V||1,Fn,Wn,tr)}let Nn={[t]:N=>N.getUTCFullYear(),[r]:N=>Math.floor(N.getUTCMonth()/3),[i]:N=>N.getUTCMonth(),[o]:N=>N.getUTCDate(),[f]:N=>N.getUTCHours(),[p]:N=>N.getUTCMinutes(),[_]:N=>N.getUTCSeconds(),[E]:N=>N.getUTCMilliseconds(),[l]:N=>ze(N),[s]:N=>De(N),[a]:(N,V)=>Qt(1,N.getUTCDay(),Pt(V)),[s+a]:(N,V)=>Qt(De(N),N.getUTCDay(),Pt(V))},nr={[r]:N=>3*N,[s]:(N,V)=>Qt(N,0,Pt(V))};function Ye(N,V){return xt(N,V||1,Nn,nr,mt)}let vt={[t]:Ht,[r]:Je.every(3),[i]:Je,[s]:we,[o]:be,[a]:be,[l]:be,[f]:te,[p]:Mt,[_]:Ze,[E]:I},oe={[t]:Ke,[r]:ce.every(3),[i]:ce,[s]:Le,[o]:bt,[a]:bt,[l]:bt,[f]:Bt,[p]:mn,[_]:Ze,[E]:I};function Be(N){return vt[N]}function rt(N){return oe[N]}function Dt(N,V,Ee){return N?N.offset(V,Ee):void 0}function hn(N,V,Ee){return Dt(Be(N),V,Ee)}function an(N,V,Ee){return Dt(rt(N),V,Ee)}function dt(N,V,Ee,xe){return N?N.range(V,Ee,xe):void 0}function ie(N,V,Ee,xe){return dt(Be(N),V,Ee,xe)}function Te(N,V,Ee,xe){return dt(rt(N),V,Ee,xe)}let Ue=1e3,gt=Ue*60,St=gt*60,Rt=St*24,ne=Rt*7,Ce=Rt*30,We=Rt*365,st=[t,i,o,f,p,_,E],Ut=st.slice(0,-1),sn=Ut.slice(0,-1),Cn=sn.slice(0,-1),En=Cn.slice(0,-1),vn=[t,s],zn=[t,i],Re=[t],$e=[[Ut,1,Ue],[Ut,5,5*Ue],[Ut,15,15*Ue],[Ut,30,30*Ue],[sn,1,gt],[sn,5,5*gt],[sn,15,15*gt],[sn,30,30*gt],[Cn,1,St],[Cn,3,3*St],[Cn,6,6*St],[Cn,12,12*St],[En,1,Rt],[vn,1,ne],[zn,1,Ce],[zn,3,3*Ce],[Re,1,We]];function Ft(N){let V=N.extent,Ee=N.maxbins||40,xe=Math.abs(e.span(V))/Ee,K=Oe(Qe=>Qe[2]).right($e,xe),ae,fe;return K===$e.length?(ae=Re,fe=Yt(V[0]/We,V[1]/We,Ee)):K?(K=$e[xe/$e[K-1][2]<$e[K][2]/xe?K-1:K],ae=K[0],fe=K[1]):(ae=st,fe=Math.max(Yt(V[0],V[1],Ee),1)),{units:ae,step:fe}}n.DATE=o,n.DAY=a,n.DAYOFYEAR=l,n.HOURS=f,n.MILLISECONDS=E,n.MINUTES=p,n.MONTH=i,n.QUARTER=r,n.SECONDS=_,n.TIME_UNITS=O,n.WEEK=s,n.YEAR=t,n.dayofyear=gn,n.timeBin=Ft,n.timeFloor=Zn,n.timeInterval=Be,n.timeOffset=hn,n.timeSequence=ie,n.timeUnitSpecifier=L,n.timeUnits=q,n.utcFloor=Ye,n.utcInterval=rt,n.utcOffset=an,n.utcSequence=Te,n.utcdayofyear=Rn,n.utcweek=Ne,n.week=yn,Object.defineProperty(n,"__esModule",{value:!0})})});var pN=Ae((tV,wDe)=>{m();(function(n,e){typeof tV=="object"&&typeof wDe!="undefined"?e(tV,d9(),Tu()):typeof define=="function"&&define.amd?define(["exports","vega-time","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(tV,function(n,e,t){"use strict";function r(Ge){let Kt={};return jn=>Kt[jn]||(Kt[jn]=Ge(jn))}var i=Math.sqrt(50),s=Math.sqrt(10),o=Math.sqrt(2);function a(Ge,Kt,jn){var Yn=Math.abs(Kt-Ge)/Math.max(0,jn),ri=Math.pow(10,Math.floor(Math.log(Yn)/Math.LN10)),Br=Yn/ri;return Br>=i?ri*=10:Br>=s?ri*=5:Br>=o&&(ri*=2),Kt<Ge?-ri:ri}function l(Ge){return Math.abs(Ge=Math.round(Ge))>=1e21?Ge.toLocaleString("en").replace(/,/g,""):Ge.toString(10)}function f(Ge,Kt){if((jn=(Ge=Kt?Ge.toExponential(Kt-1):Ge.toExponential()).indexOf("e"))<0)return null;var jn,Yn=Ge.slice(0,jn);return[Yn.length>1?Yn[0]+Yn.slice(2):Yn,+Ge.slice(jn+1)]}function p(Ge){return Ge=f(Math.abs(Ge)),Ge?Ge[1]:NaN}function _(Ge,Kt){return function(jn,Yn){for(var ri=jn.length,Br=[],Xr=0,As=Ge[0],fo=0;ri>0&&As>0&&(fo+As+1>Yn&&(As=Math.max(1,Yn-fo)),Br.push(jn.substring(ri-=As,ri+As)),!((fo+=As+1)>Yn));)As=Ge[Xr=(Xr+1)%Ge.length];return Br.reverse().join(Kt)}}function E(Ge){return function(Kt){return Kt.replace(/[0-9]/g,function(jn){return Ge[+jn]})}}var O=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function R(Ge){if(!(Kt=O.exec(Ge)))throw new Error("invalid format: "+Ge);var Kt;return new q({fill:Kt[1],align:Kt[2],sign:Kt[3],symbol:Kt[4],zero:Kt[5],width:Kt[6],comma:Kt[7],precision:Kt[8]&&Kt[8].slice(1),trim:Kt[9],type:Kt[10]})}R.prototype=q.prototype;function q(Ge){this.fill=Ge.fill===void 0?" ":Ge.fill+"",this.align=Ge.align===void 0?">":Ge.align+"",this.sign=Ge.sign===void 0?"-":Ge.sign+"",this.symbol=Ge.symbol===void 0?"":Ge.symbol+"",this.zero=!!Ge.zero,this.width=Ge.width===void 0?void 0:+Ge.width,this.comma=!!Ge.comma,this.precision=Ge.precision===void 0?void 0:+Ge.precision,this.trim=!!Ge.trim,this.type=Ge.type===void 0?"":Ge.type+""}q.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function z(Ge){e:for(var Kt=Ge.length,jn=1,Yn=-1,ri;jn<Kt;++jn)switch(Ge[jn]){case".":Yn=ri=jn;break;case"0":Yn===0&&(Yn=jn),ri=jn;break;default:if(!+Ge[jn])break e;Yn>0&&(Yn=0);break}return Yn>0?Ge.slice(0,Yn)+Ge.slice(ri+1):Ge}var L;function B(Ge,Kt){var jn=f(Ge,Kt);if(!jn)return Ge+"";var Yn=jn[0],ri=jn[1],Br=ri-(L=Math.max(-8,Math.min(8,Math.floor(ri/3)))*3)+1,Xr=Yn.length;return Br===Xr?Yn:Br>Xr?Yn+new Array(Br-Xr+1).join("0"):Br>0?Yn.slice(0,Br)+"."+Yn.slice(Br):"0."+new Array(1-Br).join("0")+f(Ge,Math.max(0,Kt+Br-1))[0]}function P(Ge,Kt){var jn=f(Ge,Kt);if(!jn)return Ge+"";var Yn=jn[0],ri=jn[1];return ri<0?"0."+new Array(-ri).join("0")+Yn:Yn.length>ri+1?Yn.slice(0,ri+1)+"."+Yn.slice(ri+1):Yn+new Array(ri-Yn.length+2).join("0")}var G={"%":(Ge,Kt)=>(Ge*100).toFixed(Kt),b:Ge=>Math.round(Ge).toString(2),c:Ge=>Ge+"",d:l,e:(Ge,Kt)=>Ge.toExponential(Kt),f:(Ge,Kt)=>Ge.toFixed(Kt),g:(Ge,Kt)=>Ge.toPrecision(Kt),o:Ge=>Math.round(Ge).toString(8),p:(Ge,Kt)=>P(Ge*100,Kt),r:P,s:B,X:Ge=>Math.round(Ge).toString(16).toUpperCase(),x:Ge=>Math.round(Ge).toString(16)};function ue(Ge){return Ge}var I=Array.prototype.map,J=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function he(Ge){var Kt=Ge.grouping===void 0||Ge.thousands===void 0?ue:_(I.call(Ge.grouping,Number),Ge.thousands+""),jn=Ge.currency===void 0?"":Ge.currency[0]+"",Yn=Ge.currency===void 0?"":Ge.currency[1]+"",ri=Ge.decimal===void 0?".":Ge.decimal+"",Br=Ge.numerals===void 0?ue:E(I.call(Ge.numerals,String)),Xr=Ge.percent===void 0?"%":Ge.percent+"",As=Ge.minus===void 0?"\u2212":Ge.minus+"",fo=Ge.nan===void 0?"NaN":Ge.nan+"";function io(so){so=R(so);var ho=so.fill,hi=so.align,Ei=so.sign,Wi=so.symbol,Xo=so.zero,da=so.width,ha=so.comma,po=so.precision,ls=so.trim,ps=so.type;ps==="n"?(ha=!0,ps="g"):G[ps]||(po===void 0&&(po=12),ls=!0,ps="g"),(Xo||ho==="0"&&hi==="=")&&(Xo=!0,ho="0",hi="=");var Zi=Wi==="$"?jn:Wi==="#"&&/[boxX]/.test(ps)?"0"+ps.toLowerCase():"",hu=Wi==="$"?Yn:/[%p]/.test(ps)?Xr:"",Ps=G[ps],ga=/[defgprs%]/.test(ps);po=po===void 0?6:/[gprs]/.test(ps)?Math.max(1,Math.min(21,po)):Math.max(0,Math.min(20,po));function aa(Ri){var Wo=Zi,vs=hu,Ii,Oo,ka;if(ps==="c")vs=Ps(Ri)+vs,Ri="";else{Ri=+Ri;var Xa=Ri<0||1/Ri<0;if(Ri=isNaN(Ri)?fo:Ps(Math.abs(Ri),po),ls&&(Ri=z(Ri)),Xa&&+Ri==0&&Ei!=="+"&&(Xa=!1),Wo=(Xa?Ei==="("?Ei:As:Ei==="-"||Ei==="("?"":Ei)+Wo,vs=(ps==="s"?J[8+L/3]:"")+vs+(Xa&&Ei==="("?")":""),ga){for(Ii=-1,Oo=Ri.length;++Ii<Oo;)if(ka=Ri.charCodeAt(Ii),48>ka||ka>57){vs=(ka===46?ri+Ri.slice(Ii+1):Ri.slice(Ii))+vs,Ri=Ri.slice(0,Ii);break}}}ha&&!Xo&&(Ri=Kt(Ri,1/0));var Ro=Wo.length+Ri.length+vs.length,To=Ro<da?new Array(da-Ro+1).join(ho):"";switch(ha&&Xo&&(Ri=Kt(To+Ri,To.length?da-vs.length:1/0),To=""),hi){case"<":Ri=Wo+Ri+vs+To;break;case"=":Ri=Wo+To+Ri+vs;break;case"^":Ri=To.slice(0,Ro=To.length>>1)+Wo+Ri+vs+To.slice(Ro);break;default:Ri=To+Wo+Ri+vs;break}return Br(Ri)}return aa.toString=function(){return so+""},aa}function us(so,ho){var hi=io((so=R(so),so.type="f",so)),Ei=Math.max(-8,Math.min(8,Math.floor(p(ho)/3)))*3,Wi=Math.pow(10,-Ei),Xo=J[8+Ei/3];return function(da){return hi(Wi*da)+Xo}}return{format:io,formatPrefix:us}}var ye,He,at;ct({thousands:",",grouping:[3],currency:["$",""]});function ct(Ge){return ye=he(Ge),He=ye.format,at=ye.formatPrefix,ye}function Ze(Ge){return Math.max(0,-p(Math.abs(Ge)))}function Et(Ge,Kt){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(p(Kt)/3)))*3-p(Math.abs(Ge)))}function Mt(Ge,Kt){return Ge=Math.abs(Ge),Kt=Math.abs(Kt)-Ge,Math.max(0,p(Kt)-p(Ge))+1}function qe(Ge,Kt){return jn=>{let Yn=Ge(jn),ri=Yn.indexOf(Kt);if(ri<0)return Yn;let Br=te(Yn,ri),Xr=Br<Yn.length?Yn.slice(Br):"";for(;--Br>ri;)if(Yn[Br]!=="0"){++Br;break}return Yn.slice(0,Br)+Xr}}function te(Ge,Kt){let jn=Ge.lastIndexOf("e"),Yn;if(jn>0)return jn;for(jn=Ge.length;--jn>Kt;)if(Yn=Ge.charCodeAt(jn),Yn>=48&&Yn<=57)return jn+1}function et(Ge){let Kt=r(Ge.format),jn=Ge.formatPrefix;return{format:Kt,formatPrefix:jn,formatFloat(Yn){let ri=R(Yn||",");if(ri.precision==null){switch(ri.precision=12,ri.type){case"%":ri.precision-=2;break;case"e":ri.precision-=1;break}return qe(Kt(ri),Kt(".1f")(1)[1])}else return Kt(ri)},formatSpan(Yn,ri,Br,Xr){Xr=R(Xr??",f");let As=a(Yn,ri,Br),fo=Math.max(Math.abs(Yn),Math.abs(ri)),io;if(Xr.precision==null)switch(Xr.type){case"s":return isNaN(io=Et(As,fo))||(Xr.precision=io),jn(Xr,fo);case"":case"e":case"g":case"p":case"r":{isNaN(io=Mt(As,fo))||(Xr.precision=io-(Xr.type==="e"));break}case"f":case"%":{isNaN(io=Ze(As))||(Xr.precision=io-(Xr.type==="%")*2);break}}return Kt(Xr)}}}let be;ke();function ke(){return be=et({format:He,formatPrefix:at})}function we(Ge){return et(he(Ge))}function pe(Ge){return arguments.length?be=we(Ge):be}var Je=new Date,lt=new Date;function Ht(Ge,Kt,jn,Yn){function ri(Br){return Ge(Br=arguments.length===0?new Date:new Date(+Br)),Br}return ri.floor=function(Br){return Ge(Br=new Date(+Br)),Br},ri.ceil=function(Br){return Ge(Br=new Date(Br-1)),Kt(Br,1),Ge(Br),Br},ri.round=function(Br){var Xr=ri(Br),As=ri.ceil(Br);return Br-Xr<As-Br?Xr:As},ri.offset=function(Br,Xr){return Kt(Br=new Date(+Br),Xr==null?1:Math.floor(Xr)),Br},ri.range=function(Br,Xr,As){var fo=[],io;if(Br=ri.ceil(Br),As=As==null?1:Math.floor(As),!(Br<Xr)||!(As>0))return fo;do fo.push(io=new Date(+Br)),Kt(Br,As),Ge(Br);while(io<Br&&Br<Xr);return fo},ri.filter=function(Br){return Ht(function(Xr){if(Xr>=Xr)for(;Ge(Xr),!Br(Xr);)Xr.setTime(Xr-1)},function(Xr,As){if(Xr>=Xr)if(As<0)for(;++As<=0;)for(;Kt(Xr,-1),!Br(Xr););else for(;--As>=0;)for(;Kt(Xr,1),!Br(Xr););})},jn&&(ri.count=function(Br,Xr){return Je.setTime(+Br),lt.setTime(+Xr),Ge(Je),Ge(lt),Math.floor(jn(Je,lt))},ri.every=function(Br){return Br=Math.floor(Br),!isFinite(Br)||!(Br>0)?null:Br>1?ri.filter(Yn?function(Xr){return Yn(Xr)%Br===0}:function(Xr){return ri.count(0,Xr)%Br===0}):ri}),ri}let mn=1e3*60,Bt=mn*60*24,tn=Bt*7;var bt=Ht(Ge=>Ge.setHours(0,0,0,0),(Ge,Kt)=>Ge.setDate(Ge.getDate()+Kt),(Ge,Kt)=>(Kt-Ge-(Kt.getTimezoneOffset()-Ge.getTimezoneOffset())*mn)/Bt,Ge=>Ge.getDate()-1),ve=bt;function Le(Ge){return Ht(function(Kt){Kt.setDate(Kt.getDate()-(Kt.getDay()+7-Ge)%7),Kt.setHours(0,0,0,0)},function(Kt,jn){Kt.setDate(Kt.getDate()+jn*7)},function(Kt,jn){return(jn-Kt-(jn.getTimezoneOffset()-Kt.getTimezoneOffset())*mn)/tn})}var _e=Le(0),ce=Le(1);Le(2),Le(3);var tt=Le(4);Le(5),Le(6);var Ke=Ht(function(Ge){Ge.setMonth(0,1),Ge.setHours(0,0,0,0)},function(Ge,Kt){Ge.setFullYear(Ge.getFullYear()+Kt)},function(Ge,Kt){return Kt.getFullYear()-Ge.getFullYear()},function(Ge){return Ge.getFullYear()});Ke.every=function(Ge){return!isFinite(Ge=Math.floor(Ge))||!(Ge>0)?null:Ht(function(Kt){Kt.setFullYear(Math.floor(Kt.getFullYear()/Ge)*Ge),Kt.setMonth(0,1),Kt.setHours(0,0,0,0)},function(Kt,jn){Kt.setFullYear(Kt.getFullYear()+jn*Ge)})};var re=Ke,Oe=Ht(function(Ge){Ge.setUTCHours(0,0,0,0)},function(Ge,Kt){Ge.setUTCDate(Ge.getUTCDate()+Kt)},function(Ge,Kt){return(Kt-Ge)/Bt},function(Ge){return Ge.getUTCDate()-1}),nt=Oe;function ft(Ge){return Ht(function(Kt){Kt.setUTCDate(Kt.getUTCDate()-(Kt.getUTCDay()+7-Ge)%7),Kt.setUTCHours(0,0,0,0)},function(Kt,jn){Kt.setUTCDate(Kt.getUTCDate()+jn*7)},function(Kt,jn){return(jn-Kt)/tn})}var Ot=ft(0),Yt=ft(1);ft(2),ft(3);var Gt=ft(4);ft(5),ft(6);var fn=Ht(function(Ge){Ge.setUTCMonth(0,1),Ge.setUTCHours(0,0,0,0)},function(Ge,Kt){Ge.setUTCFullYear(Ge.getUTCFullYear()+Kt)},function(Ge,Kt){return Kt.getUTCFullYear()-Ge.getUTCFullYear()},function(Ge){return Ge.getUTCFullYear()});fn.every=function(Ge){return!isFinite(Ge=Math.floor(Ge))||!(Ge>0)?null:Ht(function(Kt){Kt.setUTCFullYear(Math.floor(Kt.getUTCFullYear()/Ge)*Ge),Kt.setUTCMonth(0,1),Kt.setUTCHours(0,0,0,0)},function(Kt,jn){Kt.setUTCFullYear(Kt.getUTCFullYear()+jn*Ge)})};var gn=fn;function yn(Ge){if(0<=Ge.y&&Ge.y<100){var Kt=new Date(-1,Ge.m,Ge.d,Ge.H,Ge.M,Ge.S,Ge.L);return Kt.setFullYear(Ge.y),Kt}return new Date(Ge.y,Ge.m,Ge.d,Ge.H,Ge.M,Ge.S,Ge.L)}function Lt(Ge){if(0<=Ge.y&&Ge.y<100){var Kt=new Date(Date.UTC(-1,Ge.m,Ge.d,Ge.H,Ge.M,Ge.S,Ge.L));return Kt.setUTCFullYear(Ge.y),Kt}return new Date(Date.UTC(Ge.y,Ge.m,Ge.d,Ge.H,Ge.M,Ge.S,Ge.L))}function un(Ge,Kt,jn){return{y:Ge,m:Kt,d:jn,H:0,M:0,S:0,L:0}}function Mn(Ge){var Kt=Ge.dateTime,jn=Ge.date,Yn=Ge.time,ri=Ge.periods,Br=Ge.days,Xr=Ge.shortDays,As=Ge.months,fo=Ge.shortMonths,io=mt(ri),us=xt(ri),so=mt(Br),ho=xt(Br),hi=mt(Xr),Ei=xt(Xr),Wi=mt(As),Xo=xt(As),da=mt(fo),ha=xt(fo),po={a:Xa,A:Ro,b:To,B:$a,c:null,d:St,e:St,f:st,g:V,G:xe,H:Rt,I:ne,j:Ce,L:We,m:Ut,M:sn,p:pu,q:za,Q:Mr,s:xi,S:Cn,u:En,U:vn,V:Re,w:$e,W:Ft,x:null,X:null,y:N,Y:Ee,Z:K,"%":yr},ls={a:ua,A:la,b:vl,B:Hl,c:null,d:ae,e:ae,f:dn,g:Un,G:Jr,H:fe,I:Qe,j:It,L:At,m:w,M:j,p:ra,q:el,Q:Mr,s:xi,S:ee,u:Se,U:ht,V:Zt,w:Xt,W:xn,x:null,X:null,y:qn,Y:Vn,Z:Vr,"%":yr},ps={a:aa,A:Ri,b:Wo,B:vs,c:Ii,d:Be,e:Be,f:ie,g:nr,G:Nn,H:Dt,I:Dt,j:rt,L:dt,m:oe,M:hn,p:ga,q:vt,Q:Ue,s:gt,S:an,u:Qt,U:Fn,V:Wn,w:rn,W:Zn,x:Oo,X:ka,y:nr,Y:Nn,Z:Ye,"%":Te};po.x=Zi(jn,po),po.X=Zi(Yn,po),po.c=Zi(Kt,po),ls.x=Zi(jn,ls),ls.X=Zi(Yn,ls),ls.c=Zi(Kt,ls);function Zi(ui,rs){return function(cs){var mr=[],is=-1,Ie=0,yt=ui.length,Jt,$t,pn;for(cs instanceof Date||(cs=new Date(+cs));++is<yt;)ui.charCodeAt(is)===37&&(mr.push(ui.slice(Ie,is)),($t=tr[Jt=ui.charAt(++is)])!=null?Jt=ui.charAt(++is):$t=Jt==="e"?" ":"0",(pn=rs[Jt])&&(Jt=pn(cs,$t)),mr.push(Jt),Ie=is+1);return mr.push(ui.slice(Ie,is)),mr.join("")}}function hu(ui,rs){return function(cs){var mr=un(1900,void 0,1),is=Ps(mr,ui,cs+="",0),Ie,yt;if(is!=cs.length)return null;if("Q"in mr)return new Date(mr.Q);if("s"in mr)return new Date(mr.s*1e3+("L"in mr?mr.L:0));if(rs&&!("Z"in mr)&&(mr.Z=0),"p"in mr&&(mr.H=mr.H%12+mr.p*12),mr.m===void 0&&(mr.m="q"in mr?mr.q:0),"V"in mr){if(mr.V<1||mr.V>53)return null;"w"in mr||(mr.w=1),"Z"in mr?(Ie=Lt(un(mr.y,0,1)),yt=Ie.getUTCDay(),Ie=yt>4||yt===0?Yt.ceil(Ie):Yt(Ie),Ie=nt.offset(Ie,(mr.V-1)*7),mr.y=Ie.getUTCFullYear(),mr.m=Ie.getUTCMonth(),mr.d=Ie.getUTCDate()+(mr.w+6)%7):(Ie=yn(un(mr.y,0,1)),yt=Ie.getDay(),Ie=yt>4||yt===0?ce.ceil(Ie):ce(Ie),Ie=ve.offset(Ie,(mr.V-1)*7),mr.y=Ie.getFullYear(),mr.m=Ie.getMonth(),mr.d=Ie.getDate()+(mr.w+6)%7)}else("W"in mr||"U"in mr)&&("w"in mr||(mr.w="u"in mr?mr.u%7:"W"in mr?1:0),yt="Z"in mr?Lt(un(mr.y,0,1)).getUTCDay():yn(un(mr.y,0,1)).getDay(),mr.m=0,mr.d="W"in mr?(mr.w+6)%7+mr.W*7-(yt+5)%7:mr.w+mr.U*7-(yt+6)%7);return"Z"in mr?(mr.H+=mr.Z/100|0,mr.M+=mr.Z%100,Lt(mr)):yn(mr)}}function Ps(ui,rs,cs,mr){for(var is=0,Ie=rs.length,yt=cs.length,Jt,$t;is<Ie;){if(mr>=yt)return-1;if(Jt=rs.charCodeAt(is++),Jt===37){if(Jt=rs.charAt(is++),$t=ps[Jt in tr?rs.charAt(is++):Jt],!$t||(mr=$t(ui,cs,mr))<0)return-1}else if(Jt!=cs.charCodeAt(mr++))return-1}return mr}function ga(ui,rs,cs){var mr=io.exec(rs.slice(cs));return mr?(ui.p=us.get(mr[0].toLowerCase()),cs+mr[0].length):-1}function aa(ui,rs,cs){var mr=hi.exec(rs.slice(cs));return mr?(ui.w=Ei.get(mr[0].toLowerCase()),cs+mr[0].length):-1}function Ri(ui,rs,cs){var mr=so.exec(rs.slice(cs));return mr?(ui.w=ho.get(mr[0].toLowerCase()),cs+mr[0].length):-1}function Wo(ui,rs,cs){var mr=da.exec(rs.slice(cs));return mr?(ui.m=ha.get(mr[0].toLowerCase()),cs+mr[0].length):-1}function vs(ui,rs,cs){var mr=Wi.exec(rs.slice(cs));return mr?(ui.m=Xo.get(mr[0].toLowerCase()),cs+mr[0].length):-1}function Ii(ui,rs,cs){return Ps(ui,Kt,rs,cs)}function Oo(ui,rs,cs){return Ps(ui,jn,rs,cs)}function ka(ui,rs,cs){return Ps(ui,Yn,rs,cs)}function Xa(ui){return Xr[ui.getDay()]}function Ro(ui){return Br[ui.getDay()]}function To(ui){return fo[ui.getMonth()]}function $a(ui){return As[ui.getMonth()]}function pu(ui){return ri[+(ui.getHours()>=12)]}function za(ui){return 1+~~(ui.getMonth()/3)}function ua(ui){return Xr[ui.getUTCDay()]}function la(ui){return Br[ui.getUTCDay()]}function vl(ui){return fo[ui.getUTCMonth()]}function Hl(ui){return As[ui.getUTCMonth()]}function ra(ui){return ri[+(ui.getUTCHours()>=12)]}function el(ui){return 1+~~(ui.getUTCMonth()/3)}return{format:function(ui){var rs=Zi(ui+="",po);return rs.toString=function(){return ui},rs},parse:function(ui){var rs=hu(ui+="",!1);return rs.toString=function(){return ui},rs},utcFormat:function(ui){var rs=Zi(ui+="",ls);return rs.toString=function(){return ui},rs},utcParse:function(ui){var rs=hu(ui+="",!0);return rs.toString=function(){return ui},rs}}}var tr={"-":"",_:" ","0":"0"},Rn=/^\s*\d+/,Ne=/^%/,ze=/[\\^$*+?|[\]().{}]/g;function De(Ge,Kt,jn){var Yn=Ge<0?"-":"",ri=(Yn?-Ge:Ge)+"",Br=ri.length;return Yn+(Br<jn?new Array(jn-Br+1).join(Kt)+ri:ri)}function Pt(Ge){return Ge.replace(ze,"\\$&")}function mt(Ge){return new RegExp("^(?:"+Ge.map(Pt).join("|")+")","i")}function xt(Ge){return new Map(Ge.map((Kt,jn)=>[Kt.toLowerCase(),jn]))}function rn(Ge,Kt,jn){var Yn=Rn.exec(Kt.slice(jn,jn+1));return Yn?(Ge.w=+Yn[0],jn+Yn[0].length):-1}function Qt(Ge,Kt,jn){var Yn=Rn.exec(Kt.slice(jn,jn+1));return Yn?(Ge.u=+Yn[0],jn+Yn[0].length):-1}function Fn(Ge,Kt,jn){var Yn=Rn.exec(Kt.slice(jn,jn+2));return Yn?(Ge.U=+Yn[0],jn+Yn[0].length):-1}function Wn(Ge,Kt,jn){var Yn=Rn.exec(Kt.slice(jn,jn+2));return Yn?(Ge.V=+Yn[0],jn+Yn[0].length):-1}function Zn(Ge,Kt,jn){var Yn=Rn.exec(Kt.slice(jn,jn+2));return Yn?(Ge.W=+Yn[0],jn+Yn[0].length):-1}function Nn(Ge,Kt,jn){var Yn=Rn.exec(Kt.slice(jn,jn+4));return Yn?(Ge.y=+Yn[0],jn+Yn[0].length):-1}function nr(Ge,Kt,jn){var Yn=Rn.exec(Kt.slice(jn,jn+2));return Yn?(Ge.y=+Yn[0]+(+Yn[0]>68?1900:2e3),jn+Yn[0].length):-1}function Ye(Ge,Kt,jn){var Yn=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Kt.slice(jn,jn+6));return Yn?(Ge.Z=Yn[1]?0:-(Yn[2]+(Yn[3]||"00")),jn+Yn[0].length):-1}function vt(Ge,Kt,jn){var Yn=Rn.exec(Kt.slice(jn,jn+1));return Yn?(Ge.q=Yn[0]*3-3,jn+Yn[0].length):-1}function oe(Ge,Kt,jn){var Yn=Rn.exec(Kt.slice(jn,jn+2));return Yn?(Ge.m=Yn[0]-1,jn+Yn[0].length):-1}function Be(Ge,Kt,jn){var Yn=Rn.exec(Kt.slice(jn,jn+2));return Yn?(Ge.d=+Yn[0],jn+Yn[0].length):-1}function rt(Ge,Kt,jn){var Yn=Rn.exec(Kt.slice(jn,jn+3));return Yn?(Ge.m=0,Ge.d=+Yn[0],jn+Yn[0].length):-1}function Dt(Ge,Kt,jn){var Yn=Rn.exec(Kt.slice(jn,jn+2));return Yn?(Ge.H=+Yn[0],jn+Yn[0].length):-1}function hn(Ge,Kt,jn){var Yn=Rn.exec(Kt.slice(jn,jn+2));return Yn?(Ge.M=+Yn[0],jn+Yn[0].length):-1}function an(Ge,Kt,jn){var Yn=Rn.exec(Kt.slice(jn,jn+2));return Yn?(Ge.S=+Yn[0],jn+Yn[0].length):-1}function dt(Ge,Kt,jn){var Yn=Rn.exec(Kt.slice(jn,jn+3));return Yn?(Ge.L=+Yn[0],jn+Yn[0].length):-1}function ie(Ge,Kt,jn){var Yn=Rn.exec(Kt.slice(jn,jn+6));return Yn?(Ge.L=Math.floor(Yn[0]/1e3),jn+Yn[0].length):-1}function Te(Ge,Kt,jn){var Yn=Ne.exec(Kt.slice(jn,jn+1));return Yn?jn+Yn[0].length:-1}function Ue(Ge,Kt,jn){var Yn=Rn.exec(Kt.slice(jn));return Yn?(Ge.Q=+Yn[0],jn+Yn[0].length):-1}function gt(Ge,Kt,jn){var Yn=Rn.exec(Kt.slice(jn));return Yn?(Ge.s=+Yn[0],jn+Yn[0].length):-1}function St(Ge,Kt){return De(Ge.getDate(),Kt,2)}function Rt(Ge,Kt){return De(Ge.getHours(),Kt,2)}function ne(Ge,Kt){return De(Ge.getHours()%12||12,Kt,2)}function Ce(Ge,Kt){return De(1+ve.count(re(Ge),Ge),Kt,3)}function We(Ge,Kt){return De(Ge.getMilliseconds(),Kt,3)}function st(Ge,Kt){return We(Ge,Kt)+"000"}function Ut(Ge,Kt){return De(Ge.getMonth()+1,Kt,2)}function sn(Ge,Kt){return De(Ge.getMinutes(),Kt,2)}function Cn(Ge,Kt){return De(Ge.getSeconds(),Kt,2)}function En(Ge){var Kt=Ge.getDay();return Kt===0?7:Kt}function vn(Ge,Kt){return De(_e.count(re(Ge)-1,Ge),Kt,2)}function zn(Ge){var Kt=Ge.getDay();return Kt>=4||Kt===0?tt(Ge):tt.ceil(Ge)}function Re(Ge,Kt){return Ge=zn(Ge),De(tt.count(re(Ge),Ge)+(re(Ge).getDay()===4),Kt,2)}function $e(Ge){return Ge.getDay()}function Ft(Ge,Kt){return De(ce.count(re(Ge)-1,Ge),Kt,2)}function N(Ge,Kt){return De(Ge.getFullYear()%100,Kt,2)}function V(Ge,Kt){return Ge=zn(Ge),De(Ge.getFullYear()%100,Kt,2)}function Ee(Ge,Kt){return De(Ge.getFullYear()%1e4,Kt,4)}function xe(Ge,Kt){var jn=Ge.getDay();return Ge=jn>=4||jn===0?tt(Ge):tt.ceil(Ge),De(Ge.getFullYear()%1e4,Kt,4)}function K(Ge){var Kt=Ge.getTimezoneOffset();return(Kt>0?"-":(Kt*=-1,"+"))+De(Kt/60|0,"0",2)+De(Kt%60,"0",2)}function ae(Ge,Kt){return De(Ge.getUTCDate(),Kt,2)}function fe(Ge,Kt){return De(Ge.getUTCHours(),Kt,2)}function Qe(Ge,Kt){return De(Ge.getUTCHours()%12||12,Kt,2)}function It(Ge,Kt){return De(1+nt.count(gn(Ge),Ge),Kt,3)}function At(Ge,Kt){return De(Ge.getUTCMilliseconds(),Kt,3)}function dn(Ge,Kt){return At(Ge,Kt)+"000"}function w(Ge,Kt){return De(Ge.getUTCMonth()+1,Kt,2)}function j(Ge,Kt){return De(Ge.getUTCMinutes(),Kt,2)}function ee(Ge,Kt){return De(Ge.getUTCSeconds(),Kt,2)}function Se(Ge){var Kt=Ge.getUTCDay();return Kt===0?7:Kt}function ht(Ge,Kt){return De(Ot.count(gn(Ge)-1,Ge),Kt,2)}function Tt(Ge){var Kt=Ge.getUTCDay();return Kt>=4||Kt===0?Gt(Ge):Gt.ceil(Ge)}function Zt(Ge,Kt){return Ge=Tt(Ge),De(Gt.count(gn(Ge),Ge)+(gn(Ge).getUTCDay()===4),Kt,2)}function Xt(Ge){return Ge.getUTCDay()}function xn(Ge,Kt){return De(Yt.count(gn(Ge)-1,Ge),Kt,2)}function qn(Ge,Kt){return De(Ge.getUTCFullYear()%100,Kt,2)}function Un(Ge,Kt){return Ge=Tt(Ge),De(Ge.getUTCFullYear()%100,Kt,2)}function Vn(Ge,Kt){return De(Ge.getUTCFullYear()%1e4,Kt,4)}function Jr(Ge,Kt){var jn=Ge.getUTCDay();return Ge=jn>=4||jn===0?Gt(Ge):Gt.ceil(Ge),De(Ge.getUTCFullYear()%1e4,Kt,4)}function Vr(){return"+0000"}function yr(){return"%"}function Mr(Ge){return+Ge}function xi(Ge){return Math.floor(+Ge/1e3)}var ai,Xi,ws,ts,Aa;xa({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xa(Ge){return ai=Mn(Ge),Xi=ai.format,ws=ai.parse,ts=ai.utcFormat,Aa=ai.utcParse,ai}function yl(Ge,Kt,jn){jn=jn||{},t.isObject(jn)||t.error(`Invalid time multi-format specifier: ${jn}`);let Yn=Kt(e.SECONDS),ri=Kt(e.MINUTES),Br=Kt(e.HOURS),Xr=Kt(e.DATE),As=Kt(e.WEEK),fo=Kt(e.MONTH),io=Kt(e.QUARTER),us=Kt(e.YEAR),so=Ge(jn[e.MILLISECONDS]||".%L"),ho=Ge(jn[e.SECONDS]||":%S"),hi=Ge(jn[e.MINUTES]||"%I:%M"),Ei=Ge(jn[e.HOURS]||"%I %p"),Wi=Ge(jn[e.DATE]||jn[e.DAY]||"%a %d"),Xo=Ge(jn[e.WEEK]||"%b %d"),da=Ge(jn[e.MONTH]||"%B"),ha=Ge(jn[e.QUARTER]||"%B"),po=Ge(jn[e.YEAR]||"%Y");return ls=>(Yn(ls)<ls?so:ri(ls)<ls?ho:Br(ls)<ls?hi:Xr(ls)<ls?Ei:fo(ls)<ls?As(ls)<ls?Wi:Xo:us(ls)<ls?io(ls)<ls?da:ha:po)(ls)}function Nc(Ge){let Kt=r(Ge.format),jn=r(Ge.utcFormat);return{timeFormat:Yn=>t.isString(Yn)?Kt(Yn):yl(Kt,e.timeInterval,Yn),utcFormat:Yn=>t.isString(Yn)?jn(Yn):yl(jn,e.utcInterval,Yn),timeParse:r(Ge.parse),utcParse:r(Ge.utcParse)}}let fu;du();function du(){return fu=Nc({format:Xi,parse:ws,utcFormat:ts,utcParse:Aa})}function Xu(Ge){return Nc(Mn(Ge))}function Du(Ge){return arguments.length?fu=Xu(Ge):fu}let Lc=(Ge,Kt)=>t.extend({},Ge,Kt);function na(Ge,Kt){let jn=Ge?we(Ge):pe(),Yn=Kt?Xu(Kt):Du();return Lc(jn,Yn)}function Zu(Ge,Kt){let jn=arguments.length;return jn&&jn!==2&&t.error("defaultLocale expects either zero or two arguments."),jn?Lc(pe(Ge),Du(Kt)):Lc(pe(),Du())}function nf(){return ke(),du(),Zu()}n.defaultLocale=Zu,n.locale=na,n.numberFormatDefaultLocale=pe,n.numberFormatLocale=we,n.resetDefaultLocale=nf,n.resetNumberFormatDefaultLocale=ke,n.resetTimeFormatDefaultLocale=du,n.timeFormatDefaultLocale=Du,n.timeFormatLocale=Xu,Object.defineProperty(n,"__esModule",{value:!0})})});var rV=Ae((nV,CDe)=>{m();(function(n,e){typeof nV=="object"&&typeof CDe!="undefined"?e(nV,Tu(),EDe(),pN()):typeof define=="function"&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.topojson,n.vega))})(nV,function(n,e,t,r){"use strict";let i=/^(data:|([A-Za-z]+:)?\/\/)/,s=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,o=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,a="file://";function l(_e,ce){return tt=>({options:tt||{},sanitize:p,load:f,fileAccess:!!ce,file:_(ce),http:O(_e)})}async function f(_e,ce){let tt=await this.sanitize(_e,ce),Ke=tt.href;return tt.localFile?this.file(Ke):this.http(Ke,ce)}async function p(_e,ce){ce=e.extend({},this.options,ce);let tt=this.fileAccess,Ke={href:null},re,Oe,nt,ft=s.test(_e.replace(o,""));(_e==null||typeof _e!="string"||!ft)&&e.error("Sanitize failure, invalid URI: "+e.stringValue(_e));let Ot=i.test(_e);return(nt=ce.baseURL)&&!Ot&&(!_e.startsWith("/")&&!nt.endsWith("/")&&(_e="/"+_e),_e=nt+_e),Oe=(re=_e.startsWith(a))||ce.mode==="file"||ce.mode!=="http"&&!Ot&&tt,re?_e=_e.slice(a.length):_e.startsWith("//")&&(ce.defaultProtocol==="file"?(_e=_e.slice(2),Oe=!0):_e=(ce.defaultProtocol||"http")+":"+_e),Object.defineProperty(Ke,"localFile",{value:!!Oe}),Ke.href=_e,ce.target&&(Ke.target=ce.target+""),ce.rel&&(Ke.rel=ce.rel+""),ce.context==="image"&&ce.crossOrigin&&(Ke.crossOrigin=ce.crossOrigin+""),Ke}function _(_e){return _e?ce=>new Promise((tt,Ke)=>{_e.readFile(ce,(re,Oe)=>{re?Ke(re):tt(Oe)})}):E}async function E(){e.error("No file system access.")}function O(_e){return _e?async function(ce,tt){let Ke=e.extend({},this.options.http,tt),re=tt&&tt.response,Oe=await _e(ce,Ke);return Oe.ok?e.isFunction(Oe[re])?Oe[re]():Oe.text():e.error(Oe.status+""+Oe.statusText)}:R}async function R(){e.error("No HTTP fetch method available.")}let q=_e=>_e!=null&&_e===_e,z=_e=>_e==="true"||_e==="false"||_e===!0||_e===!1,L=_e=>!Number.isNaN(Date.parse(_e)),B=_e=>!Number.isNaN(+_e)&&!(_e instanceof Date),P=_e=>B(_e)&&Number.isInteger(+_e),G={boolean:e.toBoolean,integer:e.toNumber,number:e.toNumber,date:e.toDate,string:e.toString,unknown:e.identity},ue=[z,P,B,L],I=["boolean","integer","number","date"];function J(_e,ce){if(!_e||!_e.length)return"unknown";let tt=_e.length,Ke=ue.length,re=ue.map((Oe,nt)=>nt+1);for(let Oe=0,nt=0,ft,Ot;Oe<tt;++Oe)for(Ot=ce?_e[Oe][ce]:_e[Oe],ft=0;ft<Ke;++ft)if(re[ft]&&q(Ot)&&!ue[ft](Ot)&&(re[ft]=0,++nt,nt===ue.length))return"string";return I[re.reduce((Oe,nt)=>Oe===0?nt:Oe,0)-1]}function he(_e,ce){return ce.reduce((tt,Ke)=>(tt[Ke]=J(_e,Ke),tt),{})}var ye={},He={},at=34,ct=10,Ze=13;function Et(_e){return new Function("d","return {"+_e.map(function(ce,tt){return JSON.stringify(ce)+": d["+tt+'] || ""'}).join(",")+"}")}function Mt(_e,ce){var tt=Et(_e);return function(Ke,re){return ce(tt(Ke),re,_e)}}function qe(_e){var ce=Object.create(null),tt=[];return _e.forEach(function(Ke){for(var re in Ke)re in ce||tt.push(ce[re]=re)}),tt}function te(_e,ce){var tt=_e+"",Ke=tt.length;return Ke<ce?new Array(ce-Ke+1).join(0)+tt:tt}function et(_e){return _e<0?"-"+te(-_e,6):_e>9999?"+"+te(_e,6):te(_e,4)}function be(_e){var ce=_e.getUTCHours(),tt=_e.getUTCMinutes(),Ke=_e.getUTCSeconds(),re=_e.getUTCMilliseconds();return isNaN(_e)?"Invalid Date":et(_e.getUTCFullYear())+"-"+te(_e.getUTCMonth()+1,2)+"-"+te(_e.getUTCDate(),2)+(re?"T"+te(ce,2)+":"+te(tt,2)+":"+te(Ke,2)+"."+te(re,3)+"Z":Ke?"T"+te(ce,2)+":"+te(tt,2)+":"+te(Ke,2)+"Z":tt||ce?"T"+te(ce,2)+":"+te(tt,2)+"Z":"")}function ke(_e){var ce=new RegExp('["'+_e+`
\r]`),tt=_e.charCodeAt(0);function Ke(fn,gn){var yn,Lt,un=re(fn,function(Mn,tr){if(yn)return yn(Mn,tr-1);Lt=Mn,yn=gn?Mt(Mn,gn):Et(Mn)});return un.columns=Lt||[],un}function re(fn,gn){var yn=[],Lt=fn.length,un=0,Mn=0,tr,Rn=Lt<=0,Ne=!1;fn.charCodeAt(Lt-1)===ct&&--Lt,fn.charCodeAt(Lt-1)===Ze&&--Lt;function ze(){if(Rn)return He;if(Ne)return Ne=!1,ye;var Pt,mt=un,xt;if(fn.charCodeAt(mt)===at){for(;un++<Lt&&fn.charCodeAt(un)!==at||fn.charCodeAt(++un)===at;);return(Pt=un)>=Lt?Rn=!0:(xt=fn.charCodeAt(un++))===ct?Ne=!0:xt===Ze&&(Ne=!0,fn.charCodeAt(un)===ct&&++un),fn.slice(mt+1,Pt-1).replace(/""/g,'"')}for(;un<Lt;){if((xt=fn.charCodeAt(Pt=un++))===ct)Ne=!0;else if(xt===Ze)Ne=!0,fn.charCodeAt(un)===ct&&++un;else if(xt!==tt)continue;return fn.slice(mt,Pt)}return Rn=!0,fn.slice(mt,Lt)}for(;(tr=ze())!==He;){for(var De=[];tr!==ye&&tr!==He;)De.push(tr),tr=ze();gn&&(De=gn(De,Mn++))==null||yn.push(De)}return yn}function Oe(fn,gn){return fn.map(function(yn){return gn.map(function(Lt){return Gt(yn[Lt])}).join(_e)})}function nt(fn,gn){return gn==null&&(gn=qe(fn)),[gn.map(Gt).join(_e)].concat(Oe(fn,gn)).join(`
`)}function ft(fn,gn){return gn==null&&(gn=qe(fn)),Oe(fn,gn).join(`
`)}function Ot(fn){return fn.map(Yt).join(`
`)}function Yt(fn){return fn.map(Gt).join(_e)}function Gt(fn){return fn==null?"":fn instanceof Date?be(fn):ce.test(fn+="")?'"'+fn.replace(/"/g,'""')+'"':fn}return{parse:Ke,parseRows:re,format:nt,formatBody:ft,formatRows:Ot,formatRow:Yt,formatValue:Gt}}function we(_e){let ce=function(tt,Ke){let re={delimiter:_e};return pe(tt,Ke?e.extend(Ke,re):re)};return ce.responseType="text",ce}function pe(_e,ce){return ce.header&&(_e=ce.header.map(e.stringValue).join(ce.delimiter)+`
`+_e),ke(ce.delimiter).parse(_e+"")}pe.responseType="text";function Je(_e){return typeof Buffer=="function"&&e.isFunction(Buffer.isBuffer)?Buffer.isBuffer(_e):!1}function lt(_e,ce){let tt=ce&&ce.property?e.field(ce.property):e.identity;return e.isObject(_e)&&!Je(_e)?Ht(tt(_e),ce):tt(JSON.parse(_e))}lt.responseType="json";function Ht(_e,ce){return!e.isArray(_e)&&e.isIterable(_e)&&(_e=[..._e]),ce&&ce.copy?JSON.parse(JSON.stringify(_e)):_e}let Ct={interior:(_e,ce)=>_e!==ce,exterior:(_e,ce)=>_e===ce};function mn(_e,ce){let tt,Ke,re,Oe;return _e=lt(_e,ce),ce&&ce.feature?(tt=t.feature,re=ce.feature):ce&&ce.mesh?(tt=t.mesh,re=ce.mesh,Oe=Ct[ce.filter]):e.error("Missing TopoJSON feature or mesh parameter."),Ke=(Ke=_e.objects[re])?tt(_e,Ke,Oe):e.error("Invalid TopoJSON object: "+re),Ke&&Ke.features||[Ke]}mn.responseType="json";let kt={dsv:pe,csv:we(","),tsv:we("	"),json:lt,topojson:mn};function Bt(_e,ce){return arguments.length>1?(kt[_e]=ce,this):e.hasOwnProperty(kt,_e)?kt[_e]:null}function tn(_e){let ce=Bt(_e);return ce&&ce.responseType||"text"}function bt(_e,ce,tt,Ke){ce=ce||{};let re=Bt(ce.type||"json");return re||e.error("Unknown data format type: "+ce.type),_e=re(_e,ce),ce.parse&&ve(_e,ce.parse,tt,Ke),e.hasOwnProperty(_e,"columns")&&delete _e.columns,_e}function ve(_e,ce,tt,Ke){if(!_e.length)return;let re=r.timeFormatDefaultLocale();tt=tt||re.timeParse,Ke=Ke||re.utcParse;let Oe=_e.columns||Object.keys(_e[0]),nt,ft,Ot,Yt,Gt,fn;ce==="auto"&&(ce=he(_e,Oe)),Oe=Object.keys(ce);let gn=Oe.map(yn=>{let Lt=ce[yn],un,Mn;if(Lt&&(Lt.startsWith("date:")||Lt.startsWith("utc:")))return un=Lt.split(/:(.+)?/,2),Mn=un[1],(Mn[0]==="'"&&Mn[Mn.length-1]==="'"||Mn[0]==='"'&&Mn[Mn.length-1]==='"')&&(Mn=Mn.slice(1,-1)),(un[0]==="utc"?Ke:tt)(Mn);if(!G[Lt])throw Error("Illegal format pattern: "+yn+":"+Lt);return G[Lt]});for(Ot=0,Gt=_e.length,fn=Oe.length;Ot<Gt;++Ot)for(nt=_e[Ot],Yt=0;Yt<fn;++Yt)ft=Oe[Yt],nt[ft]=gn[Yt](nt[ft])}let Le=l(typeof fetch!="undefined"&&fetch,null);n.format=kt,n.formats=Bt,n.inferType=J,n.inferTypes=he,n.loader=Le,n.read=bt,n.responseType=tn,n.typeParsers=G,Object.defineProperty(n,"__esModule",{value:!0})})});var s0=Ae((iV,ADe)=>{m();(function(n,e){typeof iV=="object"&&typeof ADe!="undefined"?e(iV,Tu(),rV(),pN()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega))})(iV,function(n,e,t,r){"use strict";function i(Ye){let vt=Ye||e.identity,oe=[],Be={};return oe.add=rt=>{let Dt=vt(rt);return Be[Dt]||(Be[Dt]=1,oe.push(rt)),oe},oe.remove=rt=>{let Dt=vt(rt);if(Be[Dt]){Be[Dt]=0;let hn=oe.indexOf(rt);hn>=0&&oe.splice(hn,1)}return oe},oe}async function s(Ye,vt){try{await vt(Ye)}catch(oe){Ye.error(oe)}}let o=Symbol("vega_id"),a=1;function l(Ye){return!!(Ye&&f(Ye))}function f(Ye){return Ye[o]}function p(Ye,vt){return Ye[o]=vt,Ye}function _(Ye){let vt=Ye===Object(Ye)?Ye:{data:Ye};return f(vt)?vt:p(vt,a++)}function E(Ye){return O(Ye,_({}))}function O(Ye,vt){for(let oe in Ye)vt[oe]=Ye[oe];return vt}function R(Ye,vt){return p(vt,f(Ye))}function q(Ye,vt){return Ye?vt?(oe,Be)=>Ye(oe,Be)||f(vt(oe))-f(vt(Be)):(oe,Be)=>Ye(oe,Be)||f(oe)-f(Be):null}function z(Ye){return Ye&&Ye.constructor===L}function L(){let Ye=[],vt=[],oe=[],Be=[],rt=[],Dt=null,hn=!1;return{constructor:L,insert(an){let dt=e.array(an),ie=dt.length;for(let Te=0;Te<ie;++Te)Ye.push(dt[Te]);return this},remove(an){let dt=e.isFunction(an)?Be:vt,ie=e.array(an),Te=ie.length;for(let Ue=0;Ue<Te;++Ue)dt.push(ie[Ue]);return this},modify(an,dt,ie){let Te={field:dt,value:e.constant(ie)};return e.isFunction(an)?(Te.filter=an,rt.push(Te)):(Te.tuple=an,oe.push(Te)),this},encode(an,dt){return e.isFunction(an)?rt.push({filter:an,field:dt}):oe.push({tuple:an,field:dt}),this},clean(an){return Dt=an,this},reflow(){return hn=!0,this},pulse(an,dt){let ie={},Te={},Ue,gt,St,Rt,ne,Ce;for(Ue=0,gt=dt.length;Ue<gt;++Ue)ie[f(dt[Ue])]=1;for(Ue=0,gt=vt.length;Ue<gt;++Ue)ne=vt[Ue],ie[f(ne)]=-1;for(Ue=0,gt=Be.length;Ue<gt;++Ue)Rt=Be[Ue],dt.forEach(st=>{Rt(st)&&(ie[f(st)]=-1)});for(Ue=0,gt=Ye.length;Ue<gt;++Ue)ne=Ye[Ue],Ce=f(ne),ie[Ce]?ie[Ce]=1:an.add.push(_(Ye[Ue]));for(Ue=0,gt=dt.length;Ue<gt;++Ue)ne=dt[Ue],ie[f(ne)]<0&&an.rem.push(ne);function We(st,Ut,sn){sn?st[Ut]=sn(st):an.encode=Ut,hn||(Te[f(st)]=st)}for(Ue=0,gt=oe.length;Ue<gt;++Ue)St=oe[Ue],ne=St.tuple,Rt=St.field,Ce=ie[f(ne)],Ce>0&&(We(ne,Rt,St.value),an.modifies(Rt));for(Ue=0,gt=rt.length;Ue<gt;++Ue)St=rt[Ue],Rt=St.filter,dt.forEach(st=>{Rt(st)&&ie[f(st)]>0&&We(st,St.field,St.value)}),an.modifies(St.field);if(hn)an.mod=vt.length||Be.length?dt.filter(st=>ie[f(st)]>0):dt.slice();else for(Ce in Te)an.mod.push(Te[Ce]);return(Dt||Dt==null&&(vt.length||Be.length))&&an.clean(!0),an}}}let B="_:mod:_";function P(){Object.defineProperty(this,B,{writable:!0,value:{}})}P.prototype={set(Ye,vt,oe,Be){let rt=this,Dt=rt[Ye],hn=rt[B];return vt!=null&&vt>=0?(Dt[vt]!==oe||Be)&&(Dt[vt]=oe,hn[vt+":"+Ye]=-1,hn[Ye]=-1):(Dt!==oe||Be)&&(rt[Ye]=oe,hn[Ye]=e.isArray(oe)?1+oe.length:-1),rt},modified(Ye,vt){let oe=this[B];if(arguments.length){if(e.isArray(Ye)){for(let Be=0;Be<Ye.length;++Be)if(oe[Ye[Be]])return!0;return!1}}else{for(let Be in oe)if(oe[Be])return!0;return!1}return vt!=null&&vt>=0?vt+1<oe[Ye]||!!oe[vt+":"+Ye]:!!oe[Ye]},clear(){return this[B]={},this}};let G=0,ue="pulse",I=new P,J=1,he=2;function ye(Ye,vt,oe,Be){this.id=++G,this.value=Ye,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,vt&&(this._update=vt),oe&&this.parameters(oe,Be)}function He(Ye){return function(vt){let oe=this.flags;return arguments.length===0?!!(oe&Ye):(this.flags=vt?oe|Ye:oe&~Ye,this)}}ye.prototype={targets(){return this._targets||(this._targets=i(e.id))},set(Ye){return this.value!==Ye?(this.value=Ye,1):0},skip:He(J),modified:He(he),parameters(Ye,vt,oe){vt=vt!==!1;let Be=this._argval=this._argval||new P,rt=this._argops=this._argops||[],Dt=[],hn,an,dt,ie,Te=(Ue,gt,St)=>{St instanceof ye?(St!==this&&(vt&&St.targets().add(this),Dt.push(St)),rt.push({op:St,name:Ue,index:gt})):Be.set(Ue,gt,St)};for(hn in Ye)if(an=Ye[hn],hn===ue)e.array(an).forEach(Ue=>{Ue instanceof ye?Ue!==this&&(Ue.targets().add(this),Dt.push(Ue)):e.error("Pulse parameters must be operator instances.")}),this.source=an;else if(e.isArray(an))for(Be.set(hn,-1,Array(dt=an.length)),ie=0;ie<dt;++ie)Te(hn,ie,an[ie]);else Te(hn,-1,an);return this.marshall().clear(),oe&&(rt.initonly=!0),Dt},marshall(Ye){let vt=this._argval||I,oe=this._argops,Be,rt,Dt,hn;if(oe){let an=oe.length;for(rt=0;rt<an;++rt)Be=oe[rt],Dt=Be.op,hn=Dt.modified()&&Dt.stamp===Ye,vt.set(Be.name,Be.index,Dt.value,hn);if(oe.initonly){for(rt=0;rt<an;++rt)Be=oe[rt],Be.op.targets().remove(this);this._argops=null,this._update=null}}return vt},detach(){let Ye=this._argops,vt,oe,Be,rt;if(Ye)for(vt=0,oe=Ye.length;vt<oe;++vt)Be=Ye[vt],rt=Be.op,rt._targets&&rt._targets.remove(this);this.pulse=null,this.source=null},evaluate(Ye){let vt=this._update;if(vt){let oe=this.marshall(Ye.stamp),Be=vt.call(this,oe,Ye);if(oe.clear(),Be!==this.value)this.value=Be;else if(!this.modified())return Ye.StopPropagation}},run(Ye){if(Ye.stamp<this.stamp)return Ye.StopPropagation;let vt;return this.skip()?(this.skip(!1),vt=0):vt=this.evaluate(Ye),this.pulse=vt||Ye}};function at(Ye,vt,oe,Be){let rt=1,Dt;return Ye instanceof ye?Dt=Ye:Ye&&Ye.prototype instanceof ye?Dt=new Ye:e.isFunction(Ye)?Dt=new ye(null,Ye):(rt=0,Dt=new ye(Ye,vt)),this.rank(Dt),rt&&(Be=oe,oe=vt),oe&&this.connect(Dt,Dt.parameters(oe,Be)),this.touch(Dt),Dt}function ct(Ye,vt){let oe=Ye.rank,Be=vt.length;for(let rt=0;rt<Be;++rt)if(oe<vt[rt].rank){this.rerank(Ye);return}}let Ze=0;function Et(Ye,vt,oe){this.id=++Ze,this.value=null,oe&&(this.receive=oe),Ye&&(this._filter=Ye),vt&&(this._apply=vt)}function Mt(Ye,vt,oe){return new Et(Ye,vt,oe)}Et.prototype={_filter:e.truthy,_apply:e.identity,targets(){return this._targets||(this._targets=i(e.id))},consume(Ye){return arguments.length?(this._consume=!!Ye,this):!!this._consume},receive(Ye){if(this._filter(Ye)){let vt=this.value=this._apply(Ye),oe=this._targets,Be=oe?oe.length:0;for(let rt=0;rt<Be;++rt)oe[rt].receive(vt);this._consume&&(Ye.preventDefault(),Ye.stopPropagation())}},filter(Ye){let vt=Mt(Ye);return this.targets().add(vt),vt},apply(Ye){let vt=Mt(null,Ye);return this.targets().add(vt),vt},merge(){let Ye=Mt();this.targets().add(Ye);for(let vt=0,oe=arguments.length;vt<oe;++vt)arguments[vt].targets().add(Ye);return Ye},throttle(Ye){let vt=-1;return this.filter(()=>{let oe=Date.now();return oe-vt>Ye?(vt=oe,1):0})},debounce(Ye){let vt=Mt();return this.targets().add(Mt(null,null,e.debounce(Ye,oe=>{let Be=oe.dataflow;vt.receive(oe),Be&&Be.run&&Be.run()}))),vt},between(Ye,vt){let oe=!1;return Ye.targets().add(Mt(null,null,()=>oe=!0)),vt.targets().add(Mt(null,null,()=>oe=!1)),this.filter(()=>oe)},detach(){this._filter=e.truthy,this._targets=null}};function qe(Ye,vt,oe,Be){let rt=this,Dt=Mt(oe,Be),hn=function(ie){ie.dataflow=rt;try{Dt.receive(ie)}catch(Te){rt.error(Te)}finally{rt.run()}},an;typeof Ye=="string"&&typeof document!="undefined"?an=document.querySelectorAll(Ye):an=e.array(Ye);let dt=an.length;for(let ie=0;ie<dt;++ie)an[ie].addEventListener(vt,hn);return Dt}function te(Ye,vt){let oe=this.locale();return t.read(Ye,vt,oe.timeParse,oe.utcParse)}function et(Ye,vt,oe){return vt=this.parse(vt,oe),this.pulse(Ye,this.changeset().insert(vt))}async function be(Ye,vt){let oe=this,Be=0,rt;try{rt=await oe.loader().load(Ye,{context:"dataflow",response:t.responseType(vt&&vt.type)});try{rt=oe.parse(rt,vt)}catch(Dt){Be=-2,oe.warn("Data ingestion failed",Ye,Dt)}}catch(Dt){Be=-1,oe.warn("Loading failed",Ye,Dt)}return{data:rt,status:Be}}async function ke(Ye,vt,oe){let Be=this,rt=Be._pending||we(Be);rt.requests+=1;let Dt=await Be.request(vt,oe);return Be.pulse(Ye,Be.changeset().remove(e.truthy).insert(Dt.data||[])),rt.done(),Dt}function we(Ye){let vt,oe=new Promise(Be=>vt=Be);return oe.requests=0,oe.done=()=>{--oe.requests===0&&(Ye._pending=null,vt(Ye))},Ye._pending=oe}let pe={skip:!0};function Je(Ye,vt,oe,Be,rt){return(Ye instanceof ye?Ht:lt)(this,Ye,vt,oe,Be,rt),this}function lt(Ye,vt,oe,Be,rt,Dt){let hn=e.extend({},Dt,pe),an,dt;e.isFunction(oe)||(oe=e.constant(oe)),Be===void 0?an=ie=>Ye.touch(oe(ie)):e.isFunction(Be)?(dt=new ye(null,Be,rt,!1),an=ie=>{dt.evaluate(ie);let Te=oe(ie),Ue=dt.value;z(Ue)?Ye.pulse(Te,Ue,Dt):Ye.update(Te,Ue,hn)}):an=ie=>Ye.update(oe(ie),Be,hn),vt.apply(an)}function Ht(Ye,vt,oe,Be,rt,Dt){if(Be===void 0)vt.targets().add(oe);else{let hn=Dt||{},an=new ye(null,Ct(oe,Be),rt,!1);an.modified(hn.force),an.rank=vt.rank,vt.targets().add(an),oe&&(an.skip(!0),an.value=oe.value,an.targets().add(oe),Ye.connect(oe,[an]))}}function Ct(Ye,vt){return vt=e.isFunction(vt)?vt:e.constant(vt),Ye?function(oe,Be){let rt=vt(oe,Be);return Ye.skip()||(Ye.skip(rt!==this.value).value=rt),rt}:vt}function mn(Ye){Ye.rank=++this._rank}function kt(Ye){let vt=[Ye],oe,Be,rt;for(;vt.length;)if(this.rank(oe=vt.pop()),Be=oe._targets)for(rt=Be.length;--rt>=0;)vt.push(oe=Be[rt]),oe===Ye&&e.error("Cycle detected in dataflow graph.")}let Bt={},tn=1<<0,bt=1<<1,ve=1<<2,Le=tn|bt,_e=tn|ve,ce=tn|bt|ve,tt=1<<3,Ke=1<<4,re=1<<5,Oe=1<<6;function nt(Ye,vt,oe){this.dataflow=Ye,this.stamp=vt??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=oe||null}function ft(Ye,vt){let oe=[];return e.visitArray(Ye,vt,Be=>oe.push(Be)),oe}function Ot(Ye,vt){let oe={};return Ye.visit(vt,Be=>{oe[f(Be)]=1}),Be=>oe[f(Be)]?null:Be}function Yt(Ye,vt){return Ye?(oe,Be)=>Ye(oe,Be)&&vt(oe,Be):vt}nt.prototype={StopPropagation:Bt,ADD:tn,REM:bt,MOD:ve,ADD_REM:Le,ADD_MOD:_e,ALL:ce,REFLOW:tt,SOURCE:Ke,NO_SOURCE:re,NO_FIELDS:Oe,fork(Ye){return new nt(this.dataflow).init(this,Ye)},clone(){let Ye=this.fork(ce);return Ye.add=Ye.add.slice(),Ye.rem=Ye.rem.slice(),Ye.mod=Ye.mod.slice(),Ye.source&&(Ye.source=Ye.source.slice()),Ye.materialize(ce|Ke)},addAll(){let Ye=this;return!Ye.source||Ye.add===Ye.rem||!Ye.rem.length&&Ye.source.length===Ye.add.length||(Ye=new nt(this.dataflow).init(this),Ye.add=Ye.source,Ye.rem=[]),Ye},init(Ye,vt){let oe=this;return oe.stamp=Ye.stamp,oe.encode=Ye.encode,Ye.fields&&!(vt&Oe)&&(oe.fields=Ye.fields),vt&tn?(oe.addF=Ye.addF,oe.add=Ye.add):(oe.addF=null,oe.add=[]),vt&bt?(oe.remF=Ye.remF,oe.rem=Ye.rem):(oe.remF=null,oe.rem=[]),vt&ve?(oe.modF=Ye.modF,oe.mod=Ye.mod):(oe.modF=null,oe.mod=[]),vt&re?(oe.srcF=null,oe.source=null):(oe.srcF=Ye.srcF,oe.source=Ye.source,Ye.cleans&&(oe.cleans=Ye.cleans)),oe},runAfter(Ye){this.dataflow.runAfter(Ye)},changed(Ye){let vt=Ye||ce;return vt&tn&&this.add.length||vt&bt&&this.rem.length||vt&ve&&this.mod.length},reflow(Ye){if(Ye)return this.fork(ce).reflow();let vt=this.add.length,oe=this.source&&this.source.length;return oe&&oe!==vt&&(this.mod=this.source,vt&&this.filter(ve,Ot(this,tn))),this},clean(Ye){return arguments.length?(this.cleans=!!Ye,this):this.cleans},modifies(Ye){let vt=this.fields||(this.fields={});return e.isArray(Ye)?Ye.forEach(oe=>vt[oe]=!0):vt[Ye]=!0,this},modified(Ye,vt){let oe=this.fields;return(vt||this.mod.length)&&oe?arguments.length?e.isArray(Ye)?Ye.some(Be=>oe[Be]):oe[Ye]:!!oe:!1},filter(Ye,vt){let oe=this;return Ye&tn&&(oe.addF=Yt(oe.addF,vt)),Ye&bt&&(oe.remF=Yt(oe.remF,vt)),Ye&ve&&(oe.modF=Yt(oe.modF,vt)),Ye&Ke&&(oe.srcF=Yt(oe.srcF,vt)),oe},materialize(Ye){Ye=Ye||ce;let vt=this;return Ye&tn&&vt.addF&&(vt.add=ft(vt.add,vt.addF),vt.addF=null),Ye&bt&&vt.remF&&(vt.rem=ft(vt.rem,vt.remF),vt.remF=null),Ye&ve&&vt.modF&&(vt.mod=ft(vt.mod,vt.modF),vt.modF=null),Ye&Ke&&vt.srcF&&(vt.source=vt.source.filter(vt.srcF),vt.srcF=null),vt},visit(Ye,vt){let oe=this,Be=vt;if(Ye&Ke)return e.visitArray(oe.source,oe.srcF,Be),oe;Ye&tn&&e.visitArray(oe.add,oe.addF,Be),Ye&bt&&e.visitArray(oe.rem,oe.remF,Be),Ye&ve&&e.visitArray(oe.mod,oe.modF,Be);let rt=oe.source;if(Ye&tt&&rt){let Dt=oe.add.length+oe.mod.length;Dt===rt.length||(Dt?e.visitArray(rt,Ot(oe,_e),Be):e.visitArray(rt,oe.srcF,Be))}return oe}};function Gt(Ye,vt,oe,Be){let rt=this,Dt=oe.length,hn=0;this.dataflow=Ye,this.stamp=vt,this.fields=null,this.encode=Be||null,this.pulses=oe;for(let an=0;an<Dt;++an){let dt=oe[an];if(dt.stamp===vt){if(dt.fields){let ie=rt.fields||(rt.fields={});for(let Te in dt.fields)ie[Te]=1}dt.changed(rt.ADD)&&(hn|=rt.ADD),dt.changed(rt.REM)&&(hn|=rt.REM),dt.changed(rt.MOD)&&(hn|=rt.MOD)}}this.changes=hn}e.inherits(Gt,nt,{fork(Ye){let vt=new nt(this.dataflow).init(this,Ye&this.NO_FIELDS);return Ye!==void 0&&(Ye&vt.ADD&&this.visit(vt.ADD,oe=>vt.add.push(oe)),Ye&vt.REM&&this.visit(vt.REM,oe=>vt.rem.push(oe)),Ye&vt.MOD&&this.visit(vt.MOD,oe=>vt.mod.push(oe))),vt},changed(Ye){return this.changes&Ye},modified(Ye){let vt=this,oe=vt.fields;return oe&&vt.changes&vt.MOD?e.isArray(Ye)?Ye.some(Be=>oe[Be]):oe[Ye]:0},filter(){e.error("MultiPulse does not support filtering.")},materialize(){e.error("MultiPulse does not support materialization.")},visit(Ye,vt){let oe=this,Be=oe.pulses,rt=Be.length,Dt=0;if(Ye&oe.SOURCE)for(;Dt<rt;++Dt)Be[Dt].visit(Ye,vt);else for(;Dt<rt;++Dt)Be[Dt].stamp===oe.stamp&&Be[Dt].visit(Ye,vt);return oe}});async function fn(Ye,vt,oe){let Be=this,rt=[];if(Be._pulse)return un(Be);if(Be._pending&&await Be._pending,vt&&await s(Be,vt),!Be._touched.length)return Be.debug("Dataflow invoked, but nothing to do."),Be;let Dt=++Be._clock;Be._pulse=new nt(Be,Dt,Ye),Be._touched.forEach(Te=>Be._enqueue(Te,!0)),Be._touched=i(e.id);let hn=0,an,dt,ie;try{for(;Be._heap.size()>0;){if(an=Be._heap.pop(),an.rank!==an.qrank){Be._enqueue(an,!0);continue}dt=an.run(Be._getPulse(an,Ye)),dt.then?dt=await dt:dt.async&&(rt.push(dt.async),dt=Bt),dt!==Bt&&an._targets&&an._targets.forEach(Te=>Be._enqueue(Te)),++hn}}catch(Te){Be._heap.clear(),ie=Te}if(Be._input={},Be._pulse=null,Be.debug(`Pulse ${Dt}: ${hn} operators`),ie&&(Be._postrun=[],Be.error(ie)),Be._postrun.length){let Te=Be._postrun.sort((Ue,gt)=>gt.priority-Ue.priority);Be._postrun=[];for(let Ue=0;Ue<Te.length;++Ue)await s(Be,Te[Ue].callback)}return oe&&await s(Be,oe),rt.length&&Promise.all(rt).then(Te=>Be.runAsync(null,()=>{Te.forEach(Ue=>{try{Ue(Be)}catch(gt){Be.error(gt)}})})),Be}async function gn(Ye,vt,oe){for(;this._running;)await this._running;let Be=()=>this._running=null;return(this._running=this.evaluate(Ye,vt,oe)).then(Be,Be),this._running}function yn(Ye,vt,oe){return this._pulse?un(this):(this.evaluate(Ye,vt,oe),this)}function Lt(Ye,vt,oe){if(this._pulse||vt)this._postrun.push({priority:oe||0,callback:Ye});else try{Ye(this)}catch(Be){this.error(Be)}}function un(Ye){return Ye.error("Dataflow already running. Use runAsync() to chain invocations."),Ye}function Mn(Ye,vt){let oe=Ye.stamp<this._clock;oe&&(Ye.stamp=this._clock),(oe||vt)&&(Ye.qrank=Ye.rank,this._heap.push(Ye))}function tr(Ye,vt){let oe=Ye.source,Be=this._clock;return oe&&e.isArray(oe)?new Gt(this,Be,oe.map(rt=>rt.pulse),vt):this._input[Ye.id]||Rn(this._pulse,oe&&oe.pulse)}function Rn(Ye,vt){return vt&&vt.stamp===Ye.stamp?vt:(Ye=Ye.fork(),vt&&vt!==Bt&&(Ye.source=vt.source),Ye)}let Ne={skip:!1,force:!1};function ze(Ye,vt){let oe=vt||Ne;return this._pulse?this._enqueue(Ye):this._touched.add(Ye),oe.skip&&Ye.skip(!0),this}function De(Ye,vt,oe){let Be=oe||Ne;return(Ye.set(vt)||Be.force)&&this.touch(Ye,Be),this}function Pt(Ye,vt,oe){this.touch(Ye,oe||Ne);let Be=new nt(this,this._clock+(this._pulse?0:1)),rt=Ye.pulse&&Ye.pulse.source||[];return Be.target=Ye,this._input[Ye.id]=vt.pulse(Be,rt),this}function mt(Ye){let vt=[];return{clear:()=>vt=[],size:()=>vt.length,peek:()=>vt[0],push:oe=>(vt.push(oe),xt(vt,0,vt.length-1,Ye)),pop:()=>{let oe=vt.pop(),Be;return vt.length?(Be=vt[0],vt[0]=oe,rn(vt,0,Ye)):Be=oe,Be}}}function xt(Ye,vt,oe,Be){let rt,Dt,hn=Ye[oe];for(;oe>vt;){if(Dt=oe-1>>1,rt=Ye[Dt],Be(hn,rt)<0){Ye[oe]=rt,oe=Dt;continue}break}return Ye[oe]=hn}function rn(Ye,vt,oe){let Be=vt,rt=Ye.length,Dt=Ye[vt],hn=(vt<<1)+1,an;for(;hn<rt;)an=hn+1,an<rt&&oe(Ye[hn],Ye[an])>=0&&(hn=an),Ye[vt]=Ye[hn],vt=hn,hn=(vt<<1)+1;return Ye[vt]=Dt,xt(Ye,Be,vt,oe)}function Qt(){this.logger(e.logger()),this.logLevel(e.Error),this._clock=0,this._rank=0,this._locale=r.defaultLocale();try{this._loader=t.loader()}catch{}this._touched=i(e.id),this._input={},this._pulse=null,this._heap=mt((Ye,vt)=>Ye.qrank-vt.qrank),this._postrun=[]}function Fn(Ye){return function(){return this._log[Ye].apply(this,arguments)}}Qt.prototype={stamp(){return this._clock},loader(Ye){return arguments.length?(this._loader=Ye,this):this._loader},locale(Ye){return arguments.length?(this._locale=Ye,this):this._locale},logger(Ye){return arguments.length?(this._log=Ye,this):this._log},error:Fn("error"),warn:Fn("warn"),info:Fn("info"),debug:Fn("debug"),logLevel:Fn("level"),cleanThreshold:1e4,add:at,connect:ct,rank:mn,rerank:kt,pulse:Pt,touch:ze,update:De,changeset:L,ingest:et,parse:te,preload:ke,request:be,events:qe,on:Je,evaluate:fn,run:yn,runAsync:gn,runAfter:Lt,_enqueue:Mn,_getPulse:tr};function Wn(Ye,vt){ye.call(this,Ye,null,vt)}e.inherits(Wn,ye,{run(Ye){if(Ye.stamp<this.stamp)return Ye.StopPropagation;let vt;return this.skip()?this.skip(!1):vt=this.evaluate(Ye),vt=vt||Ye,vt.then?vt=vt.then(oe=>this.pulse=oe):vt!==Ye.StopPropagation&&(this.pulse=vt),vt},evaluate(Ye){let vt=this.marshall(Ye.stamp),oe=this.transform(vt,Ye);return vt.clear(),oe},transform(){}});let Zn={};function Nn(Ye){let vt=nr(Ye);return vt&&vt.Definition||null}function nr(Ye){return Ye=Ye&&Ye.toLowerCase(),e.hasOwnProperty(Zn,Ye)?Zn[Ye]:null}n.Dataflow=Qt,n.EventStream=Et,n.MultiPulse=Gt,n.Operator=ye,n.Parameters=P,n.Pulse=nt,n.Transform=Wn,n.UniqueList=i,n.asyncCallback=s,n.changeset=L,n.definition=Nn,n.derive=E,n.ingest=_,n.isChangeSet=z,n.isTuple=l,n.rederive=O,n.replace=R,n.stableCompare=q,n.transform=nr,n.transforms=Zn,n.tupleid=f,Object.defineProperty(n,"__esModule",{value:!0})})});var dE=Ae((sV,TDe)=>{m();(function(n,e){typeof sV=="object"&&typeof TDe!="undefined"?e(sV):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(sV,function(n){"use strict";function*e(Ne,ze){if(ze==null)for(let De of Ne)De!=null&&De!==""&&(De=+De)>=De&&(yield De);else{let De=-1;for(let Pt of Ne)Pt=ze(Pt,++De,Ne),Pt!=null&&Pt!==""&&(Pt=+Pt)>=Pt&&(yield Pt)}}function t(Ne,ze){return Ne==null||ze==null?NaN:Ne<ze?-1:Ne>ze?1:Ne>=ze?0:NaN}function r(Ne){return Ne===null?NaN:+Ne}function*i(Ne,ze){if(ze===void 0)for(let De of Ne)De!=null&&(De=+De)>=De&&(yield De);else{let De=-1;for(let Pt of Ne)(Pt=ze(Pt,++De,Ne))!=null&&(Pt=+Pt)>=Pt&&(yield Pt)}}function s(Ne,ze){let De=0,Pt,mt=0,xt=0;if(ze===void 0)for(let rn of Ne)rn!=null&&(rn=+rn)>=rn&&(Pt=rn-mt,mt+=Pt/++De,xt+=Pt*(rn-mt));else{let rn=-1;for(let Qt of Ne)(Qt=ze(Qt,++rn,Ne))!=null&&(Qt=+Qt)>=Qt&&(Pt=Qt-mt,mt+=Pt/++De,xt+=Pt*(Qt-mt))}if(De>1)return xt/(De-1)}function o(Ne,ze){let De=s(Ne,ze);return De&&Math.sqrt(De)}function a(Ne=t){if(Ne===t)return l;if(typeof Ne!="function")throw new TypeError("compare is not a function");return(ze,De)=>{let Pt=Ne(ze,De);return Pt||Pt===0?Pt:(Ne(De,De)===0)-(Ne(ze,ze)===0)}}function l(Ne,ze){return(Ne==null||!(Ne>=Ne))-(ze==null||!(ze>=ze))||(Ne<ze?-1:Ne>ze?1:0)}function f(Ne,ze){let De;if(ze===void 0)for(let Pt of Ne)Pt!=null&&(De<Pt||De===void 0&&Pt>=Pt)&&(De=Pt);else{let Pt=-1;for(let mt of Ne)(mt=ze(mt,++Pt,Ne))!=null&&(De<mt||De===void 0&&mt>=mt)&&(De=mt)}return De}function p(Ne,ze){let De;if(ze===void 0)for(let Pt of Ne)Pt!=null&&(De>Pt||De===void 0&&Pt>=Pt)&&(De=Pt);else{let Pt=-1;for(let mt of Ne)(mt=ze(mt,++Pt,Ne))!=null&&(De>mt||De===void 0&&mt>=mt)&&(De=mt)}return De}function _(Ne,ze,De=0,Pt=Ne.length-1,mt){for(mt=mt===void 0?l:a(mt);Pt>De;){if(Pt-De>600){let Fn=Pt-De+1,Wn=ze-De+1,Zn=Math.log(Fn),Nn=.5*Math.exp(2*Zn/3),nr=.5*Math.sqrt(Zn*Nn*(Fn-Nn)/Fn)*(Wn-Fn/2<0?-1:1),Ye=Math.max(De,Math.floor(ze-Wn*Nn/Fn+nr)),vt=Math.min(Pt,Math.floor(ze+(Fn-Wn)*Nn/Fn+nr));_(Ne,ze,Ye,vt,mt)}let xt=Ne[ze],rn=De,Qt=Pt;for(E(Ne,De,ze),mt(Ne[Pt],xt)>0&&E(Ne,De,Pt);rn<Qt;){for(E(Ne,rn,Qt),++rn,--Qt;mt(Ne[rn],xt)<0;)++rn;for(;mt(Ne[Qt],xt)>0;)--Qt}mt(Ne[De],xt)===0?E(Ne,De,Qt):(++Qt,E(Ne,Qt,Pt)),Qt<=ze&&(De=Qt+1),ze<=Qt&&(Pt=Qt-1)}return Ne}function E(Ne,ze,De){let Pt=Ne[ze];Ne[ze]=Ne[De],Ne[De]=Pt}function O(Ne,ze,De){if(Ne=Float64Array.from(i(Ne,De)),!!(Pt=Ne.length)){if((ze=+ze)<=0||Pt<2)return p(Ne);if(ze>=1)return f(Ne);var Pt,mt=(Pt-1)*ze,xt=Math.floor(mt),rn=f(_(Ne,xt).subarray(0,xt+1)),Qt=p(Ne.subarray(xt+1));return rn+(Qt-rn)*(mt-xt)}}function R(Ne,ze,De=r){if(!!(Pt=Ne.length)){if((ze=+ze)<=0||Pt<2)return+De(Ne[0],0,Ne);if(ze>=1)return+De(Ne[Pt-1],Pt-1,Ne);var Pt,mt=(Pt-1)*ze,xt=Math.floor(mt),rn=+De(Ne[xt],xt,Ne),Qt=+De(Ne[xt+1],xt+1,Ne);return rn+(Qt-rn)*(mt-xt)}}function q(Ne,ze){return O(Ne,.5,ze)}function z(Ne,ze,De){let Pt=Float64Array.from(e(Ne,De));return Pt.sort(t),ze.map(mt=>R(Pt,mt))}function L(Ne,ze){return z(Ne,[.25,.5,.75],ze)}function B(Ne,ze){let De=Ne.length,Pt=o(Ne,ze),mt=L(Ne,ze),xt=(mt[2]-mt[0])/1.34,rn=Math.min(Pt,xt)||Pt||Math.abs(mt[0])||1;return 1.06*rn*Math.pow(De,-.2)}function P(Ne){let ze=Ne.maxbins||20,De=Ne.base||10,Pt=Math.log(De),mt=Ne.divide||[5,2],xt=Ne.extent[0],rn=Ne.extent[1],Qt,Fn,Wn,Zn,Nn,nr,Ye=Ne.span||rn-xt||Math.abs(xt)||1;if(Ne.step)Qt=Ne.step;else if(Ne.steps){for(Zn=Ye/ze,Nn=0,nr=Ne.steps.length;Nn<nr&&Ne.steps[Nn]<Zn;++Nn);Qt=Ne.steps[Math.max(0,Nn-1)]}else{for(Fn=Math.ceil(Math.log(ze)/Pt),Wn=Ne.minstep||0,Qt=Math.max(Wn,Math.pow(De,Math.round(Math.log(Ye)/Pt)-Fn));Math.ceil(Ye/Qt)>ze;)Qt*=De;for(Nn=0,nr=mt.length;Nn<nr;++Nn)Zn=Qt/mt[Nn],Zn>=Wn&&Ye/Zn<=ze&&(Qt=Zn)}Zn=Math.log(Qt);let vt=Zn>=0?0:~~(-Zn/Pt)+1,oe=Math.pow(De,-vt-1);return(Ne.nice||Ne.nice===void 0)&&(Zn=Math.floor(xt/Qt+oe)*Qt,xt=xt<Zn?Zn-Qt:Zn,rn=Math.ceil(rn/Qt)*Qt),{start:xt,stop:rn===xt?xt+Qt:rn,step:Qt}}n.random=Math.random;function G(Ne){n.random=Ne}function ue(Ne,ze,De,Pt){if(!Ne.length)return[void 0,void 0];let mt=Float64Array.from(e(Ne,Pt)),xt=mt.length,rn=ze,Qt,Fn,Wn,Zn;for(Wn=0,Zn=Array(rn);Wn<rn;++Wn){for(Qt=0,Fn=0;Fn<xt;++Fn)Qt+=mt[~~(n.random()*xt)];Zn[Wn]=Qt/xt}return Zn.sort(t),[O(Zn,De/2),O(Zn,1-De/2)]}function I(Ne,ze,De,Pt){Pt=Pt||(nr=>nr);let mt=Ne.length,xt=new Float64Array(mt),rn=0,Qt=1,Fn=Pt(Ne[0]),Wn=Fn,Zn=Fn+ze,Nn;for(;Qt<mt;++Qt){if(Nn=Pt(Ne[Qt]),Nn>=Zn){for(Wn=(Fn+Wn)/2;rn<Qt;++rn)xt[rn]=Wn;Zn=Nn+ze,Fn=Nn}Wn=Nn}for(Wn=(Fn+Wn)/2;rn<Qt;++rn)xt[rn]=Wn;return De?J(xt,ze+ze/4):xt}function J(Ne,ze){let De=Ne.length,Pt=0,mt=1,xt,rn;for(;Ne[Pt]===Ne[mt];)++mt;for(;mt<De;){for(xt=mt+1;Ne[mt]===Ne[xt];)++xt;if(Ne[mt]-Ne[mt-1]<ze){for(rn=mt+(Pt+xt-mt-mt>>1);rn<mt;)Ne[rn++]=Ne[mt];for(;rn>mt;)Ne[rn--]=Ne[Pt]}Pt=mt,mt=xt}return Ne}function he(Ne){return function(){return Ne=(1103515245*Ne+12345)%2147483647,Ne/2147483647}}function ye(Ne,ze){ze==null&&(ze=Ne,Ne=0);let De,Pt,mt,xt={min(rn){return arguments.length?(De=rn||0,mt=Pt-De,xt):De},max(rn){return arguments.length?(Pt=rn||0,mt=Pt-De,xt):Pt},sample(){return De+Math.floor(mt*n.random())},pdf(rn){return rn===Math.floor(rn)&&rn>=De&&rn<Pt?1/mt:0},cdf(rn){let Qt=Math.floor(rn);return Qt<De?0:Qt>=Pt?1:(Qt-De+1)/mt},icdf(rn){return rn>=0&&rn<=1?De-1+Math.floor(rn*mt):NaN}};return xt.min(Ne).max(ze)}let He=Math.sqrt(2*Math.PI),at=Math.SQRT2,ct=NaN;function Ze(Ne,ze){Ne=Ne||0,ze=ze??1;let De=0,Pt=0,mt,xt;if(ct===ct)De=ct,ct=NaN;else{do De=n.random()*2-1,Pt=n.random()*2-1,mt=De*De+Pt*Pt;while(mt===0||mt>1);xt=Math.sqrt(-2*Math.log(mt)/mt),De*=xt,ct=Pt*xt}return Ne+De*ze}function Et(Ne,ze,De){De=De??1;let Pt=(Ne-(ze||0))/De;return Math.exp(-.5*Pt*Pt)/(De*He)}function Mt(Ne,ze,De){ze=ze||0,De=De??1;let Pt=(Ne-ze)/De,mt=Math.abs(Pt),xt;if(mt>37)xt=0;else{let rn=Math.exp(-mt*mt/2),Qt;mt<7.07106781186547?(Qt=.0352624965998911*mt+.700383064443688,Qt=Qt*mt+6.37396220353165,Qt=Qt*mt+33.912866078383,Qt=Qt*mt+112.079291497871,Qt=Qt*mt+221.213596169931,Qt=Qt*mt+220.206867912376,xt=rn*Qt,Qt=.0883883476483184*mt+1.75566716318264,Qt=Qt*mt+16.064177579207,Qt=Qt*mt+86.7807322029461,Qt=Qt*mt+296.564248779674,Qt=Qt*mt+637.333633378831,Qt=Qt*mt+793.826512519948,Qt=Qt*mt+440.413735824752,xt=xt/Qt):(Qt=mt+.65,Qt=mt+4/Qt,Qt=mt+3/Qt,Qt=mt+2/Qt,Qt=mt+1/Qt,xt=rn/Qt/2.506628274631)}return Pt>0?1-xt:xt}function qe(Ne,ze,De){return Ne<0||Ne>1?NaN:(ze||0)+(De??1)*at*te(2*Ne-1)}function te(Ne){let ze=-Math.log((1-Ne)*(1+Ne)),De;return ze<6.25?(ze-=3.125,De=-364441206401782e-35,De=-16850591381820166e-35+De*ze,De=128584807152564e-32+De*ze,De=11157877678025181e-33+De*ze,De=-1333171662854621e-31+De*ze,De=20972767875968562e-33+De*ze,De=6637638134358324e-30+De*ze,De=-4054566272975207e-29+De*ze,De=-8151934197605472e-29+De*ze,De=26335093153082323e-28+De*ze,De=-12975133253453532e-27+De*ze,De=-5415412054294628e-26+De*ze,De=10512122733215323e-25+De*ze,De=-4112633980346984e-24+De*ze,De=-29070369957882005e-24+De*ze,De=42347877827932404e-23+De*ze,De=-13654692000834679e-22+De*ze,De=-13882523362786469e-21+De*ze,De=.00018673420803405714+De*ze,De=-.000740702534166267+De*ze,De=-.006033670871430149+De*ze,De=.24015818242558962+De*ze,De=1.6536545626831027+De*ze):ze<16?(ze=Math.sqrt(ze)-3.25,De=22137376921775787e-25,De=9075656193888539e-23+De*ze,De=-27517406297064545e-23+De*ze,De=18239629214389228e-24+De*ze,De=15027403968909828e-22+De*ze,De=-4013867526981546e-21+De*ze,De=29234449089955446e-22+De*ze,De=12475304481671779e-21+De*ze,De=-47318229009055734e-21+De*ze,De=6828485145957318e-20+De*ze,De=24031110387097894e-21+De*ze,De=-.0003550375203628475+De*ze,De=.0009532893797373805+De*ze,De=-.0016882755560235047+De*ze,De=.002491442096107851+De*ze,De=-.003751208507569241+De*ze,De=.005370914553590064+De*ze,De=1.0052589676941592+De*ze,De=3.0838856104922208+De*ze):Number.isFinite(ze)?(ze=Math.sqrt(ze)-5,De=-27109920616438573e-27,De=-2555641816996525e-25+De*ze,De=15076572693500548e-25+De*ze,De=-3789465440126737e-24+De*ze,De=761570120807834e-23+De*ze,De=-1496002662714924e-23+De*ze,De=2914795345090108e-23+De*ze,De=-6771199775845234e-23+De*ze,De=22900482228026655e-23+De*ze,De=-99298272942317e-20+De*ze,De=4526062597223154e-21+De*ze,De=-1968177810553167e-20+De*ze,De=7599527703001776e-20+De*ze,De=-.00021503011930044477+De*ze,De=-.00013871931833623122+De*ze,De=1.0103004648645344+De*ze,De=4.849906401408584+De*ze):De=1/0,De*Ne}function et(Ne,ze){let De,Pt,mt={mean(xt){return arguments.length?(De=xt||0,mt):De},stdev(xt){return arguments.length?(Pt=xt??1,mt):Pt},sample:()=>Ze(De,Pt),pdf:xt=>Et(xt,De,Pt),cdf:xt=>Mt(xt,De,Pt),icdf:xt=>qe(xt,De,Pt)};return mt.mean(Ne).stdev(ze)}function be(Ne,ze){let De=et(),Pt=0,mt={data(xt){return arguments.length?(Ne=xt,Pt=xt?xt.length:0,mt.bandwidth(ze)):Ne},bandwidth(xt){return arguments.length?(ze=xt,!ze&&Ne&&(ze=B(Ne)),mt):ze},sample(){return Ne[~~(n.random()*Pt)]+ze*De.sample()},pdf(xt){let rn=0,Qt=0;for(;Qt<Pt;++Qt)rn+=De.pdf((xt-Ne[Qt])/ze);return rn/ze/Pt},cdf(xt){let rn=0,Qt=0;for(;Qt<Pt;++Qt)rn+=De.cdf((xt-Ne[Qt])/ze);return rn/Pt},icdf(){throw Error("KDE icdf not supported.")}};return mt.data(Ne)}function ke(Ne,ze){return Ne=Ne||0,ze=ze??1,Math.exp(Ne+Ze()*ze)}function we(Ne,ze,De){if(Ne<=0)return 0;ze=ze||0,De=De??1;let Pt=(Math.log(Ne)-ze)/De;return Math.exp(-.5*Pt*Pt)/(De*He*Ne)}function pe(Ne,ze,De){return Mt(Math.log(Ne),ze,De)}function Je(Ne,ze,De){return Math.exp(qe(Ne,ze,De))}function lt(Ne,ze){let De,Pt,mt={mean(xt){return arguments.length?(De=xt||0,mt):De},stdev(xt){return arguments.length?(Pt=xt??1,mt):Pt},sample:()=>ke(De,Pt),pdf:xt=>we(xt,De,Pt),cdf:xt=>pe(xt,De,Pt),icdf:xt=>Je(xt,De,Pt)};return mt.mean(Ne).stdev(ze)}function Ht(Ne,ze){let De=0,Pt;function mt(rn){let Qt=[],Fn=0,Wn;for(Wn=0;Wn<De;++Wn)Fn+=Qt[Wn]=rn[Wn]==null?1:+rn[Wn];for(Wn=0;Wn<De;++Wn)Qt[Wn]/=Fn;return Qt}let xt={weights(rn){return arguments.length?(Pt=mt(ze=rn||[]),xt):ze},distributions(rn){return arguments.length?(rn?(De=rn.length,Ne=rn):(De=0,Ne=[]),xt.weights(ze)):Ne},sample(){let rn=n.random(),Qt=Ne[De-1],Fn=Pt[0],Wn=0;for(;Wn<De-1;Fn+=Pt[++Wn])if(rn<Fn){Qt=Ne[Wn];break}return Qt.sample()},pdf(rn){let Qt=0,Fn=0;for(;Fn<De;++Fn)Qt+=Pt[Fn]*Ne[Fn].pdf(rn);return Qt},cdf(rn){let Qt=0,Fn=0;for(;Fn<De;++Fn)Qt+=Pt[Fn]*Ne[Fn].cdf(rn);return Qt},icdf(){throw Error("Mixture icdf not supported.")}};return xt.distributions(Ne).weights(ze)}function Ct(Ne,ze){return ze==null&&(ze=Ne??1,Ne=0),Ne+(ze-Ne)*n.random()}function mn(Ne,ze,De){return De==null&&(De=ze??1,ze=0),Ne>=ze&&Ne<=De?1/(De-ze):0}function kt(Ne,ze,De){return De==null&&(De=ze??1,ze=0),Ne<ze?0:Ne>De?1:(Ne-ze)/(De-ze)}function Bt(Ne,ze,De){return De==null&&(De=ze??1,ze=0),Ne>=0&&Ne<=1?ze+Ne*(De-ze):NaN}function tn(Ne,ze){let De,Pt,mt={min(xt){return arguments.length?(De=xt||0,mt):De},max(xt){return arguments.length?(Pt=xt??1,mt):Pt},sample:()=>Ct(De,Pt),pdf:xt=>mn(xt,De,Pt),cdf:xt=>kt(xt,De,Pt),icdf:xt=>Bt(xt,De,Pt)};return ze==null&&(ze=Ne??1,Ne=0),mt.min(Ne).max(ze)}function bt(Ne,ze,De,Pt){let mt=Pt-Ne*Ne,xt=Math.abs(mt)<1e-24?0:(De-Ne*ze)/mt;return[ze-xt*Ne,xt]}function ve(Ne,ze,De,Pt){Ne=Ne.filter(Ye=>{let vt=ze(Ye),oe=De(Ye);return vt!=null&&(vt=+vt)>=vt&&oe!=null&&(oe=+oe)>=oe}),Pt&&Ne.sort((Ye,vt)=>ze(Ye)-ze(vt));let mt=Ne.length,xt=new Float64Array(mt),rn=new Float64Array(mt),Qt=0,Fn=0,Wn=0,Zn,Nn,nr;for(nr of Ne)xt[Qt]=Zn=+ze(nr),rn[Qt]=Nn=+De(nr),++Qt,Fn+=(Zn-Fn)/Qt,Wn+=(Nn-Wn)/Qt;for(Qt=0;Qt<mt;++Qt)xt[Qt]-=Fn,rn[Qt]-=Wn;return[xt,rn,Fn,Wn]}function Le(Ne,ze,De,Pt){let mt=-1,xt,rn;for(let Qt of Ne)xt=ze(Qt),rn=De(Qt),xt!=null&&(xt=+xt)>=xt&&rn!=null&&(rn=+rn)>=rn&&Pt(xt,rn,++mt)}function _e(Ne,ze,De,Pt,mt){let xt=0,rn=0;return Le(Ne,ze,De,(Qt,Fn)=>{let Wn=Fn-mt(Qt),Zn=Fn-Pt;xt+=Wn*Wn,rn+=Zn*Zn}),1-xt/rn}function ce(Ne,ze,De){let Pt=0,mt=0,xt=0,rn=0,Qt=0;Le(Ne,ze,De,(Zn,Nn)=>{++Qt,Pt+=(Zn-Pt)/Qt,mt+=(Nn-mt)/Qt,xt+=(Zn*Nn-xt)/Qt,rn+=(Zn*Zn-rn)/Qt});let Fn=bt(Pt,mt,xt,rn),Wn=Zn=>Fn[0]+Fn[1]*Zn;return{coef:Fn,predict:Wn,rSquared:_e(Ne,ze,De,mt,Wn)}}function tt(Ne,ze,De){let Pt=0,mt=0,xt=0,rn=0,Qt=0;Le(Ne,ze,De,(Zn,Nn)=>{++Qt,Zn=Math.log(Zn),Pt+=(Zn-Pt)/Qt,mt+=(Nn-mt)/Qt,xt+=(Zn*Nn-xt)/Qt,rn+=(Zn*Zn-rn)/Qt});let Fn=bt(Pt,mt,xt,rn),Wn=Zn=>Fn[0]+Fn[1]*Math.log(Zn);return{coef:Fn,predict:Wn,rSquared:_e(Ne,ze,De,mt,Wn)}}function Ke(Ne,ze,De){let[Pt,mt,xt,rn]=ve(Ne,ze,De),Qt=0,Fn=0,Wn=0,Zn=0,Nn=0,nr,Ye,vt;Le(Ne,ze,De,(Dt,hn)=>{nr=Pt[Nn++],Ye=Math.log(hn),vt=nr*hn,Qt+=(hn*Ye-Qt)/Nn,Fn+=(vt-Fn)/Nn,Wn+=(vt*Ye-Wn)/Nn,Zn+=(nr*vt-Zn)/Nn});let[oe,Be]=bt(Fn/rn,Qt/rn,Wn/rn,Zn/rn),rt=Dt=>Math.exp(oe+Be*(Dt-xt));return{coef:[Math.exp(oe-Be*xt),Be],predict:rt,rSquared:_e(Ne,ze,De,rn,rt)}}function re(Ne,ze,De){let Pt=0,mt=0,xt=0,rn=0,Qt=0,Fn=0;Le(Ne,ze,De,(Nn,nr)=>{let Ye=Math.log(Nn),vt=Math.log(nr);++Fn,Pt+=(Ye-Pt)/Fn,mt+=(vt-mt)/Fn,xt+=(Ye*vt-xt)/Fn,rn+=(Ye*Ye-rn)/Fn,Qt+=(nr-Qt)/Fn});let Wn=bt(Pt,mt,xt,rn),Zn=Nn=>Wn[0]*Math.pow(Nn,Wn[1]);return Wn[0]=Math.exp(Wn[0]),{coef:Wn,predict:Zn,rSquared:_e(Ne,ze,De,Qt,Zn)}}function Oe(Ne,ze,De){let[Pt,mt,xt,rn]=ve(Ne,ze,De),Qt=Pt.length,Fn=0,Wn=0,Zn=0,Nn=0,nr=0,Ye,vt,oe,Be;for(Ye=0;Ye<Qt;)vt=Pt[Ye],oe=mt[Ye++],Be=vt*vt,Fn+=(Be-Fn)/Ye,Wn+=(Be*vt-Wn)/Ye,Zn+=(Be*Be-Zn)/Ye,Nn+=(vt*oe-Nn)/Ye,nr+=(Be*oe-nr)/Ye;let rt=Zn-Fn*Fn,Dt=Fn*rt-Wn*Wn,hn=(nr*Fn-Nn*Wn)/Dt,an=(Nn*rt-nr*Wn)/Dt,dt=-hn*Fn,ie=Te=>(Te=Te-xt,hn*Te*Te+an*Te+dt+rn);return{coef:[dt-an*xt+hn*xt*xt+rn,an-2*hn*xt,hn],predict:ie,rSquared:_e(Ne,ze,De,rn,ie)}}function nt(Ne,ze,De,Pt){if(Pt===1)return ce(Ne,ze,De);if(Pt===2)return Oe(Ne,ze,De);let[mt,xt,rn,Qt]=ve(Ne,ze,De),Fn=mt.length,Wn=[],Zn=[],Nn=Pt+1,nr,Ye,vt,oe,Be;for(nr=0;nr<Nn;++nr){for(vt=0,oe=0;vt<Fn;++vt)oe+=Math.pow(mt[vt],nr)*xt[vt];for(Wn.push(oe),Be=new Float64Array(Nn),Ye=0;Ye<Nn;++Ye){for(vt=0,oe=0;vt<Fn;++vt)oe+=Math.pow(mt[vt],nr+Ye);Be[Ye]=oe}Zn.push(Be)}Zn.push(Wn);let rt=Ot(Zn),Dt=hn=>{hn-=rn;let an=Qt+rt[0]+rt[1]*hn+rt[2]*hn*hn;for(nr=3;nr<Nn;++nr)an+=rt[nr]*Math.pow(hn,nr);return an};return{coef:ft(Nn,rt,-rn,Qt),predict:Dt,rSquared:_e(Ne,ze,De,Qt,Dt)}}function ft(Ne,ze,De,Pt){let mt=Array(Ne),xt,rn,Qt,Fn;for(xt=0;xt<Ne;++xt)mt[xt]=0;for(xt=Ne-1;xt>=0;--xt)for(Qt=ze[xt],Fn=1,mt[xt]+=Qt,rn=1;rn<=xt;++rn)Fn*=(xt+1-rn)/rn,mt[xt-rn]+=Qt*Math.pow(De,rn)*Fn;return mt[0]+=Pt,mt}function Ot(Ne){let ze=Ne.length-1,De=[],Pt,mt,xt,rn,Qt;for(Pt=0;Pt<ze;++Pt){for(rn=Pt,mt=Pt+1;mt<ze;++mt)Math.abs(Ne[Pt][mt])>Math.abs(Ne[Pt][rn])&&(rn=mt);for(xt=Pt;xt<ze+1;++xt)Qt=Ne[xt][Pt],Ne[xt][Pt]=Ne[xt][rn],Ne[xt][rn]=Qt;for(mt=Pt+1;mt<ze;++mt)for(xt=ze;xt>=Pt;xt--)Ne[xt][mt]-=Ne[xt][Pt]*Ne[Pt][mt]/Ne[Pt][Pt]}for(mt=ze-1;mt>=0;--mt){for(Qt=0,xt=mt+1;xt<ze;++xt)Qt+=Ne[xt][mt]*De[xt];De[mt]=(Ne[ze][mt]-Qt)/Ne[mt][mt]}return De}let Yt=2,Gt=1e-12;function fn(Ne,ze,De,Pt){let[mt,xt,rn,Qt]=ve(Ne,ze,De,!0),Fn=mt.length,Wn=Math.max(2,~~(Pt*Fn)),Zn=new Float64Array(Fn),Nn=new Float64Array(Fn),nr=new Float64Array(Fn).fill(1);for(let Ye=-1;++Ye<=Yt;){let vt=[0,Wn-1];for(let Be=0;Be<Fn;++Be){let rt=mt[Be],Dt=vt[0],hn=vt[1],an=rt-mt[Dt]>mt[hn]-rt?Dt:hn,dt=0,ie=0,Te=0,Ue=0,gt=0,St=1/Math.abs(mt[an]-rt||1);for(let Ce=Dt;Ce<=hn;++Ce){let We=mt[Ce],st=xt[Ce],Ut=gn(Math.abs(rt-We)*St)*nr[Ce],sn=We*Ut;dt+=Ut,ie+=sn,Te+=st*Ut,Ue+=st*sn,gt+=We*sn}let[Rt,ne]=bt(ie/dt,Te/dt,Ue/dt,gt/dt);Zn[Be]=Rt+ne*rt,Nn[Be]=Math.abs(xt[Be]-Zn[Be]),yn(mt,Be+1,vt)}if(Ye===Yt)break;let oe=q(Nn);if(Math.abs(oe)<Gt)break;for(let Be=0,rt,Dt;Be<Fn;++Be)rt=Nn[Be]/(6*oe),nr[Be]=rt>=1?Gt:(Dt=1-rt*rt)*Dt}return Lt(mt,Zn,rn,Qt)}function gn(Ne){return(Ne=1-Ne*Ne*Ne)*Ne*Ne}function yn(Ne,ze,De){let Pt=Ne[ze],mt=De[0],xt=De[1]+1;if(!(xt>=Ne.length))for(;ze>mt&&Ne[xt]-Pt<=Pt-Ne[mt];)De[0]=++mt,De[1]=xt,++xt}function Lt(Ne,ze,De,Pt){let mt=Ne.length,xt=[],rn=0,Qt=0,Fn=[],Wn;for(;rn<mt;++rn)Wn=Ne[rn]+De,Fn[0]===Wn?Fn[1]+=(ze[rn]-Fn[1])/++Qt:(Qt=0,Fn[1]+=Pt,Fn=[Wn,ze[rn]],xt.push(Fn));return Fn[1]+=Pt,xt}let un=.5*Math.PI/180;function Mn(Ne,ze,De,Pt){De=De||25,Pt=Math.max(De,Pt||200);let mt=oe=>[oe,Ne(oe)],xt=ze[0],rn=ze[1],Qt=rn-xt,Fn=Qt/Pt,Wn=[mt(xt)],Zn=[];if(De===Pt){for(let oe=1;oe<Pt;++oe)Wn.push(mt(xt+oe/De*Qt));return Wn.push(mt(rn)),Wn}else{Zn.push(mt(rn));for(let oe=De;--oe>0;)Zn.push(mt(xt+oe/De*Qt))}let Nn=Wn[0],nr=Zn[Zn.length-1],Ye=1/Qt,vt=tr(Nn[1],Zn);for(;nr;){let oe=mt((Nn[0]+nr[0])/2);oe[0]-Nn[0]>=Fn&&Rn(Nn,oe,nr,Ye,vt)>un?Zn.push(oe):(Nn=nr,Wn.push(nr),Zn.pop()),nr=Zn[Zn.length-1]}return Wn}function tr(Ne,ze){let De=Ne,Pt=Ne,mt=ze.length;for(let xt=0;xt<mt;++xt){let rn=ze[xt][1];rn<De&&(De=rn),rn>Pt&&(Pt=rn)}return 1/(Pt-De)}function Rn(Ne,ze,De,Pt,mt){let xt=Math.atan2(mt*(De[1]-Ne[1]),Pt*(De[0]-Ne[0])),rn=Math.atan2(mt*(ze[1]-Ne[1]),Pt*(ze[0]-Ne[0]));return Math.abs(xt-rn)}n.bandwidthNRD=B,n.bin=P,n.bootstrapCI=ue,n.cumulativeLogNormal=pe,n.cumulativeNormal=Mt,n.cumulativeUniform=kt,n.densityLogNormal=we,n.densityNormal=Et,n.densityUniform=mn,n.dotbin=I,n.quantileLogNormal=Je,n.quantileNormal=qe,n.quantileUniform=Bt,n.quantiles=z,n.quartiles=L,n.randomInteger=ye,n.randomKDE=be,n.randomLCG=he,n.randomLogNormal=lt,n.randomMixture=Ht,n.randomNormal=et,n.randomUniform=tn,n.regressionExp=Ke,n.regressionLinear=ce,n.regressionLoess=fn,n.regressionLog=tt,n.regressionPoly=nt,n.regressionPow=re,n.regressionQuad=Oe,n.sampleCurve=Mn,n.sampleLogNormal=ke,n.sampleNormal=Ze,n.sampleUniform=Ct,n.setRandom=G,Object.defineProperty(n,"__esModule",{value:!0})})});var DDe=Ae((oV,FDe)=>{m();(function(n,e){typeof oV=="object"&&typeof FDe!="undefined"?e(oV,Tu(),s0(),dE(),d9()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega))})(oV,function(n,e,t,r,i){"use strict";function s(w){return j=>{let ee=w.length,Se=1,ht=String(w[0](j));for(;Se<ee;++Se)ht+="|"+w[Se](j);return ht}}function o(w){return!w||!w.length?function(){return""}:w.length===1?w[0]:s(w)}function a(w,j,ee){return ee||w+(j?"_"+j:"")}let l=()=>{},f={init:l,add:l,rem:l,idx:0},p={values:{init:w=>w.cell.store=!0,value:w=>w.cell.data.values(),idx:-1},count:{value:w=>w.cell.num},__count__:{value:w=>w.missing+w.valid},missing:{value:w=>w.missing},valid:{value:w=>w.valid},sum:{init:w=>w.sum=0,value:w=>w.sum,add:(w,j)=>w.sum+=+j,rem:(w,j)=>w.sum-=j},product:{init:w=>w.product=1,value:w=>w.valid?w.product:void 0,add:(w,j)=>w.product*=j,rem:(w,j)=>w.product/=j},mean:{init:w=>w.mean=0,value:w=>w.valid?w.mean:void 0,add:(w,j)=>(w.mean_d=j-w.mean,w.mean+=w.mean_d/w.valid),rem:(w,j)=>(w.mean_d=j-w.mean,w.mean-=w.valid?w.mean_d/w.valid:w.mean)},average:{value:w=>w.valid?w.mean:void 0,req:["mean"],idx:1},variance:{init:w=>w.dev=0,value:w=>w.valid>1?w.dev/(w.valid-1):void 0,add:(w,j)=>w.dev+=w.mean_d*(j-w.mean),rem:(w,j)=>w.dev-=w.mean_d*(j-w.mean),req:["mean"],idx:1},variancep:{value:w=>w.valid>1?w.dev/w.valid:void 0,req:["variance"],idx:2},stdev:{value:w=>w.valid>1?Math.sqrt(w.dev/(w.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:w=>w.valid>1?Math.sqrt(w.dev/w.valid):void 0,req:["variance"],idx:2},stderr:{value:w=>w.valid>1?Math.sqrt(w.dev/(w.valid*(w.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:w=>w.cell.data.distinct(w.get),req:["values"],idx:3},ci0:{value:w=>w.cell.data.ci0(w.get),req:["values"],idx:3},ci1:{value:w=>w.cell.data.ci1(w.get),req:["values"],idx:3},median:{value:w=>w.cell.data.q2(w.get),req:["values"],idx:3},q1:{value:w=>w.cell.data.q1(w.get),req:["values"],idx:3},q3:{value:w=>w.cell.data.q3(w.get),req:["values"],idx:3},min:{init:w=>w.min=void 0,value:w=>w.min=Number.isNaN(w.min)?w.cell.data.min(w.get):w.min,add:(w,j)=>{(j<w.min||w.min===void 0)&&(w.min=j)},rem:(w,j)=>{j<=w.min&&(w.min=NaN)},req:["values"],idx:4},max:{init:w=>w.max=void 0,value:w=>w.max=Number.isNaN(w.max)?w.cell.data.max(w.get):w.max,add:(w,j)=>{(j>w.max||w.max===void 0)&&(w.max=j)},rem:(w,j)=>{j>=w.max&&(w.max=NaN)},req:["values"],idx:4},argmin:{init:w=>w.argmin=void 0,value:w=>w.argmin||w.cell.data.argmin(w.get),add:(w,j,ee)=>{j<w.min&&(w.argmin=ee)},rem:(w,j)=>{j<=w.min&&(w.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:w=>w.argmax=void 0,value:w=>w.argmax||w.cell.data.argmax(w.get),add:(w,j,ee)=>{j>w.max&&(w.argmax=ee)},rem:(w,j)=>{j>=w.max&&(w.argmax=void 0)},req:["max","values"],idx:3}},_=Object.keys(p);function E(w,j){return ee=>e.extend({name:w,out:ee||w},f,j)}_.forEach(w=>{p[w]=E(w,p[w])});function O(w,j){return p[w](j)}function R(w,j){return w.idx-j.idx}function q(w){let j={};w.forEach(Se=>j[Se.name]=Se);let ee=Se=>{!Se.req||Se.req.forEach(ht=>{j[ht]||ee(j[ht]=p[ht]())})};return w.forEach(ee),Object.values(j).sort(R)}function z(){this.valid=0,this.missing=0,this._ops.forEach(w=>w.init(this))}function L(w,j){if(w==null||w===""){++this.missing;return}w===w&&(++this.valid,this._ops.forEach(ee=>ee.add(this,w,j)))}function B(w,j){if(w==null||w===""){--this.missing;return}w===w&&(--this.valid,this._ops.forEach(ee=>ee.rem(this,w,j)))}function P(w){return this._out.forEach(j=>w[j.out]=j.value(this)),w}function G(w,j){let ee=j||e.identity,Se=q(w),ht=w.slice().sort(R);function Tt(Zt){this._ops=Se,this._out=ht,this.cell=Zt,this.init()}return Tt.prototype.init=z,Tt.prototype.add=L,Tt.prototype.rem=B,Tt.prototype.set=P,Tt.prototype.get=ee,Tt.fields=w.map(Zt=>Zt.out),Tt}function ue(w){this._key=w?e.field(w):t.tupleid,this.reset()}let I=ue.prototype;I.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},I.add=function(w){this._add.push(w)},I.rem=function(w){this._rem.push(w)},I.values=function(){if(this._get=null,this._rem.length===0)return this._add;let w=this._add,j=this._rem,ee=this._key,Se=w.length,ht=j.length,Tt=Array(Se-ht),Zt={},Xt,xn,qn;for(Xt=0;Xt<ht;++Xt)Zt[ee(j[Xt])]=1;for(Xt=0,xn=0;Xt<Se;++Xt)Zt[ee(qn=w[Xt])]?Zt[ee(qn)]=0:Tt[xn++]=qn;return this._rem=[],this._add=Tt},I.distinct=function(w){let j=this.values(),ee={},Se=j.length,ht=0,Tt;for(;--Se>=0;)Tt=w(j[Se])+"",e.hasOwnProperty(ee,Tt)||(ee[Tt]=1,++ht);return ht},I.extent=function(w){if(this._get!==w||!this._ext){let j=this.values(),ee=e.extentIndex(j,w);this._ext=[j[ee[0]],j[ee[1]]],this._get=w}return this._ext},I.argmin=function(w){return this.extent(w)[0]||{}},I.argmax=function(w){return this.extent(w)[1]||{}},I.min=function(w){let j=this.extent(w)[0];return j!=null?w(j):void 0},I.max=function(w){let j=this.extent(w)[1];return j!=null?w(j):void 0},I.quartile=function(w){return(this._get!==w||!this._q)&&(this._q=r.quartiles(this.values(),w),this._get=w),this._q},I.q1=function(w){return this.quartile(w)[0]},I.q2=function(w){return this.quartile(w)[1]},I.q3=function(w){return this.quartile(w)[2]},I.ci=function(w){return(this._get!==w||!this._ci)&&(this._ci=r.bootstrapCI(this.values(),1e3,.05,w),this._get=w),this._ci},I.ci0=function(w){return this.ci(w)[0]},I.ci1=function(w){return this.ci(w)[1]};function J(w){t.Transform.call(this,null,w),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}J.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:_},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},e.inherits(J,t.Transform,{transform(w,j){let ee=this,Se=j.fork(j.NO_SOURCE|j.NO_FIELDS),ht=w.modified();return ee.stamp=Se.stamp,ee.value&&(ht||j.modified(ee._inputs,!0))?(ee._prev=ee.value,ee.value=ht?ee.init(w):{},j.visit(j.SOURCE,Tt=>ee.add(Tt))):(ee.value=ee.value||ee.init(w),j.visit(j.REM,Tt=>ee.rem(Tt)),j.visit(j.ADD,Tt=>ee.add(Tt))),Se.modifies(ee._outputs),ee._drop=w.drop!==!1,w.cross&&ee._dims.length>1&&(ee._drop=!1,ee.cross()),j.clean()&&ee._drop&&Se.clean(!0).runAfter(()=>this.clean()),ee.changes(Se)},cross(){let w=this,j=w.value,ee=w._dnames,Se=ee.map(()=>({})),ht=ee.length;function Tt(Xt){let xn,qn,Un,Vn;for(xn in Xt)for(Un=Xt[xn].tuple,qn=0;qn<ht;++qn)Se[qn][Vn=Un[ee[qn]]]=Vn}Tt(w._prev),Tt(j);function Zt(Xt,xn,qn){let Un=ee[qn],Vn=Se[qn++];for(let Jr in Vn){let Vr=Xt?Xt+"|"+Jr:Jr;xn[Un]=Vn[Jr],qn<ht?Zt(Vr,xn,qn):j[Vr]||w.cell(Vr,xn)}}Zt("",{},0)},init(w){let j=this._inputs=[],ee=this._outputs=[],Se={};function ht(xi){let ai=e.array(e.accessorFields(xi)),Xi=ai.length,ws=0,ts;for(;ws<Xi;++ws)Se[ts=ai[ws]]||(Se[ts]=1,j.push(ts))}this._dims=e.array(w.groupby),this._dnames=this._dims.map(xi=>{let ai=e.accessorName(xi);return ht(xi),ee.push(ai),ai}),this.cellkey=w.key?w.key:o(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];let Tt=w.fields||[null],Zt=w.ops||["count"],Xt=w.as||[],xn=Tt.length,qn={},Un,Vn,Jr,Vr,yr,Mr;for(xn!==Zt.length&&e.error("Unmatched number of fields and aggregate ops."),Mr=0;Mr<xn;++Mr){if(Un=Tt[Mr],Vn=Zt[Mr],Un==null&&Vn!=="count"&&e.error("Null aggregate field specified."),Vr=e.accessorName(Un),yr=a(Vn,Vr,Xt[Mr]),ee.push(yr),Vn==="count"){this._counts.push(yr);continue}Jr=qn[Vr],Jr||(ht(Un),Jr=qn[Vr]=[],Jr.field=Un,this._measures.push(Jr)),Vn!=="count"&&(this._countOnly=!1),Jr.push(O(Vn,yr))}return this._measures=this._measures.map(xi=>G(xi,xi.field)),{}},cellkey:o(),cell(w,j){let ee=this.value[w];return ee?ee.num===0&&this._drop&&ee.stamp<this.stamp?(ee.stamp=this.stamp,this._adds[this._alen++]=ee):ee.stamp<this.stamp&&(ee.stamp=this.stamp,this._mods[this._mlen++]=ee):(ee=this.value[w]=this.newcell(w,j),this._adds[this._alen++]=ee),ee},newcell(w,j){let ee={key:w,num:0,agg:null,tuple:this.newtuple(j,this._prev&&this._prev[w]),stamp:this.stamp,store:!1};if(!this._countOnly){let Se=this._measures,ht=Se.length;ee.agg=Array(ht);for(let Tt=0;Tt<ht;++Tt)ee.agg[Tt]=new Se[Tt](ee)}return ee.store&&(ee.data=new ue),ee},newtuple(w,j){let ee=this._dnames,Se=this._dims,ht=Se.length,Tt={};for(let Zt=0;Zt<ht;++Zt)Tt[ee[Zt]]=Se[Zt](w);return j?t.replace(j.tuple,Tt):t.ingest(Tt)},clean(){let w=this.value;for(let j in w)w[j].num===0&&delete w[j]},add(w){let j=this.cellkey(w),ee=this.cell(j,w);if(ee.num+=1,this._countOnly)return;ee.store&&ee.data.add(w);let Se=ee.agg;for(let ht=0,Tt=Se.length;ht<Tt;++ht)Se[ht].add(Se[ht].get(w),w)},rem(w){let j=this.cellkey(w),ee=this.cell(j,w);if(ee.num-=1,this._countOnly)return;ee.store&&ee.data.rem(w);let Se=ee.agg;for(let ht=0,Tt=Se.length;ht<Tt;++ht)Se[ht].rem(Se[ht].get(w),w)},celltuple(w){let j=w.tuple,ee=this._counts;w.store&&w.data.values();for(let Se=0,ht=ee.length;Se<ht;++Se)j[ee[Se]]=w.num;if(!this._countOnly){let Se=w.agg;for(let ht=0,Tt=Se.length;ht<Tt;++ht)Se[ht].set(j)}return j},changes(w){let j=this._adds,ee=this._mods,Se=this._prev,ht=this._drop,Tt=w.add,Zt=w.rem,Xt=w.mod,xn,qn,Un,Vn;if(Se)for(qn in Se)xn=Se[qn],(!ht||xn.num)&&Zt.push(xn.tuple);for(Un=0,Vn=this._alen;Un<Vn;++Un)Tt.push(this.celltuple(j[Un])),j[Un]=null;for(Un=0,Vn=this._mlen;Un<Vn;++Un)xn=ee[Un],(xn.num===0&&ht?Zt:Xt).push(this.celltuple(xn)),ee[Un]=null;return this._alen=this._mlen=0,this._prev=null,w}});let he=1e-14;function ye(w){t.Transform.call(this,null,w)}ye.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},e.inherits(ye,t.Transform,{transform(w,j){let ee=w.interval!==!1,Se=this._bins(w),ht=Se.start,Tt=Se.step,Zt=w.as||["bin0","bin1"],Xt=Zt[0],xn=Zt[1],qn;return w.modified()?(j=j.reflow(!0),qn=j.SOURCE):qn=j.modified(e.accessorFields(w.field))?j.ADD_MOD:j.ADD,j.visit(qn,ee?Un=>{let Vn=Se(Un);Un[Xt]=Vn,Un[xn]=Vn==null?null:ht+Tt*(1+(Vn-ht)/Tt)}:Un=>Un[Xt]=Se(Un)),j.modifies(ee?Zt:Xt)},_bins(w){if(this.value&&!w.modified())return this.value;let j=w.field,ee=r.bin(w),Se=ee.step,ht=ee.start,Tt=ht+Math.ceil((ee.stop-ht)/Se)*Se,Zt,Xt;(Zt=w.anchor)!=null&&(Xt=Zt-(ht+Se*Math.floor((Zt-ht)/Se)),ht+=Xt,Tt+=Xt);let xn=function(qn){let Un=e.toNumber(j(qn));return Un==null?null:Un<ht?-1/0:Un>Tt?1/0:(Un=Math.max(ht,Math.min(Un,Tt-Se)),ht+Se*Math.floor(he+(Un-ht)/Se))};return xn.start=ht,xn.stop=ee.stop,xn.step=Se,this.value=e.accessor(xn,e.accessorFields(j),w.name||"bin_"+e.accessorName(j))}});function He(w,j,ee){let Se=w,ht=j||[],Tt=ee||[],Zt={},Xt=0;return{add:xn=>Tt.push(xn),remove:xn=>Zt[Se(xn)]=++Xt,size:()=>ht.length,data:(xn,qn)=>(Xt&&(ht=ht.filter(Un=>!Zt[Se(Un)]),Zt={},Xt=0),qn&&xn&&ht.sort(xn),Tt.length&&(ht=xn?e.merge(xn,ht,Tt.sort(xn)):ht.concat(Tt),Tt=[]),ht)}}function at(w){t.Transform.call(this,[],w)}at.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},e.inherits(at,t.Transform,{transform(w,j){let ee=j.fork(j.ALL),Se=He(t.tupleid,this.value,ee.materialize(ee.ADD).add),ht=w.sort,Tt=j.changed()||ht&&(w.modified("sort")||j.modified(ht.fields));return ee.visit(ee.REM,Se.remove),this.modified(Tt),this.value=ee.source=Se.data(t.stableCompare(ht),Tt),j.source&&j.source.root&&(this.value.root=j.source.root),ee}});function ct(w){t.Operator.call(this,null,Ze,w)}e.inherits(ct,t.Operator);function Ze(w){return this.value&&!w.modified()?this.value:e.compare(w.fields,w.orders)}function Et(w){t.Transform.call(this,null,w)}Et.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function Mt(w,j,ee){switch(j){case"upper":w=w.toUpperCase();break;case"lower":w=w.toLowerCase();break}return w.match(ee)}e.inherits(Et,t.Transform,{transform(w,j){let ee=Vn=>Jr=>{for(var Vr=Mt(Xt(Jr),w.case,Tt)||[],yr,Mr=0,xi=Vr.length;Mr<xi;++Mr)Zt.test(yr=Vr[Mr])||Vn(yr)},Se=this._parameterCheck(w,j),ht=this._counts,Tt=this._match,Zt=this._stop,Xt=w.field,xn=w.as||["text","count"],qn=ee(Vn=>ht[Vn]=1+(ht[Vn]||0)),Un=ee(Vn=>ht[Vn]-=1);return Se?j.visit(j.SOURCE,qn):(j.visit(j.ADD,qn),j.visit(j.REM,Un)),this._finish(j,xn)},_parameterCheck(w,j){let ee=!1;return(w.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(w.stopwords||"")+"$","i"),ee=!0),(w.modified("pattern")||!this._match)&&(this._match=new RegExp(w.pattern||"[\\w']+","g"),ee=!0),(w.modified("field")||j.modified(w.field.fields))&&(ee=!0),ee&&(this._counts={}),ee},_finish(w,j){let ee=this._counts,Se=this._tuples||(this._tuples={}),ht=j[0],Tt=j[1],Zt=w.fork(w.NO_SOURCE|w.NO_FIELDS),Xt,xn,qn;for(Xt in ee)xn=Se[Xt],qn=ee[Xt]||0,!xn&&qn?(Se[Xt]=xn=t.ingest({}),xn[ht]=Xt,xn[Tt]=qn,Zt.add.push(xn)):qn===0?(xn&&Zt.rem.push(xn),ee[Xt]=null,Se[Xt]=null):xn[Tt]!==qn&&(xn[Tt]=qn,Zt.mod.push(xn));return Zt.modifies(j)}});function qe(w){t.Transform.call(this,null,w)}qe.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},e.inherits(qe,t.Transform,{transform(w,j){let ee=j.fork(j.NO_SOURCE),Se=w.as||["a","b"],ht=Se[0],Tt=Se[1],Zt=!this.value||j.changed(j.ADD_REM)||w.modified("as")||w.modified("filter"),Xt=this.value;return Zt?(Xt&&(ee.rem=Xt),Xt=j.materialize(j.SOURCE).source,ee.add=this.value=te(Xt,ht,Tt,w.filter||e.truthy)):ee.mod=Xt,ee.source=this.value,ee.modifies(Se)}});function te(w,j,ee,Se){for(var ht=[],Tt={},Zt=w.length,Xt=0,xn,qn;Xt<Zt;++Xt)for(Tt[j]=qn=w[Xt],xn=0;xn<Zt;++xn)Tt[ee]=w[xn],Se(Tt)&&(ht.push(t.ingest(Tt)),Tt={},Tt[j]=qn);return ht}let et={kde:r.randomKDE,mixture:r.randomMixture,normal:r.randomNormal,lognormal:r.randomLogNormal,uniform:r.randomUniform},be="distributions",ke="function",we="field";function pe(w,j){let ee=w[ke];e.hasOwnProperty(et,ee)||e.error("Unknown distribution function: "+ee);let Se=et[ee]();for(let ht in w)ht===we?Se.data((w.from||j()).map(w[ht])):ht===be?Se[ht](w[ht].map(Tt=>pe(Tt,j))):typeof Se[ht]===ke&&Se[ht](w[ht]);return Se}function Je(w){t.Transform.call(this,null,w)}let lt=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Ht={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:lt},{name:"weights",type:"number",array:!0}]};Je.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:lt.concat(Ht)},{name:"as",type:"string",array:!0,default:["value","density"]}]},e.inherits(Je,t.Transform,{transform(w,j){let ee=j.fork(j.NO_SOURCE|j.NO_FIELDS);if(!this.value||j.changed()||w.modified()){let Se=pe(w.distribution,Ct(j)),ht=w.steps||w.minsteps||25,Tt=w.steps||w.maxsteps||200,Zt=w.method||"pdf";Zt!=="pdf"&&Zt!=="cdf"&&e.error("Invalid density method: "+Zt),!w.extent&&!Se.data&&e.error("Missing density extent parameter."),Zt=Se[Zt];let Xt=w.as||["value","density"],xn=w.extent||e.extent(Se.data()),qn=r.sampleCurve(Zt,xn,ht,Tt).map(Un=>{let Vn={};return Vn[Xt[0]]=Un[0],Vn[Xt[1]]=Un[1],t.ingest(Vn)});this.value&&(ee.rem=this.value),this.value=ee.add=ee.source=qn}return ee}});function Ct(w){return()=>w.materialize(w.SOURCE).source}function mn(w,j){return w?w.map((ee,Se)=>j[Se]||e.accessorName(ee)):null}function kt(w,j,ee){let Se=[],ht=Vn=>Vn(xn),Tt,Zt,Xt,xn,qn,Un;if(j==null)Se.push(w.map(ee));else for(Tt={},Zt=0,Xt=w.length;Zt<Xt;++Zt)xn=w[Zt],qn=j.map(ht),Un=Tt[qn],Un||(Tt[qn]=Un=[],Un.dims=qn,Se.push(Un)),Un.push(ee(xn));return Se}let Bt="bin";function tn(w){t.Transform.call(this,null,w)}tn.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:Bt}]};let bt=(w,j)=>e.span(e.extent(w,j))/30;e.inherits(tn,t.Transform,{transform(w,j){if(this.value&&!(w.modified()||j.changed()))return j;let ee=j.materialize(j.SOURCE).source,Se=kt(j.source,w.groupby,e.identity),ht=w.smooth||!1,Tt=w.field,Zt=w.step||bt(ee,Tt),Xt=t.stableCompare((yr,Mr)=>Tt(yr)-Tt(Mr)),xn=w.as||Bt,qn=Se.length,Un=1/0,Vn=-1/0,Jr=0,Vr;for(;Jr<qn;++Jr){let yr=Se[Jr].sort(Xt);Vr=-1;for(let Mr of r.dotbin(yr,Zt,ht,Tt))Mr<Un&&(Un=Mr),Mr>Vn&&(Vn=Mr),yr[++Vr][xn]=Mr}return this.value={start:Un,stop:Vn,step:Zt},j.reflow(!0).modifies(xn)}});function ve(w){t.Operator.call(this,null,Le,w),this.modified(!0)}e.inherits(ve,t.Operator);function Le(w){let j=w.expr;return this.value&&!w.modified("expr")?this.value:e.accessor(ee=>j(ee,w),e.accessorFields(j),e.accessorName(j))}function _e(w){t.Transform.call(this,[void 0,void 0],w)}_e.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},e.inherits(_e,t.Transform,{transform(w,j){let ee=this.value,Se=w.field,ht=j.changed()||j.modified(Se.fields)||w.modified("field"),Tt=ee[0],Zt=ee[1];if((ht||Tt==null)&&(Tt=1/0,Zt=-1/0),j.visit(ht?j.SOURCE:j.ADD,Xt=>{let xn=e.toNumber(Se(Xt));xn!=null&&(xn<Tt&&(Tt=xn),xn>Zt&&(Zt=xn))}),!Number.isFinite(Tt)||!Number.isFinite(Zt)){let Xt=e.accessorName(Se);Xt&&(Xt=` for field "${Xt}"`),j.dataflow.warn(`Infinite extent${Xt}: [${Tt}, ${Zt}]`),Tt=Zt=void 0}this.value=[Tt,Zt]}});function ce(w,j){t.Operator.call(this,w),this.parent=j,this.count=0}e.inherits(ce,t.Operator,{connect(w){return this.detachSubflow=w.detachSubflow,this.targets().add(w),w.source=this},add(w){this.count+=1,this.value.add.push(w)},rem(w){this.count-=1,this.value.rem.push(w)},mod(w){this.value.mod.push(w)},init(w){this.value.init(w,w.NO_SOURCE)},evaluate(){return this.value}});function tt(w){t.Transform.call(this,{},w),this._keys=e.fastmap();let j=this._targets=[];j.active=0,j.forEach=ee=>{for(let Se=0,ht=j.active;Se<ht;++Se)ee(j[Se],Se,j)}}e.inherits(tt,t.Transform,{activate(w){this._targets[this._targets.active++]=w},subflow(w,j,ee,Se){let ht=this.value,Tt=e.hasOwnProperty(ht,w)&&ht[w],Zt,Xt;return Tt?Tt.value.stamp<ee.stamp&&(Tt.init(ee),this.activate(Tt)):(Xt=Se||(Xt=this._group[w])&&Xt.tuple,Zt=ee.dataflow,Tt=new ce(ee.fork(ee.NO_SOURCE),this),Zt.add(Tt).connect(j(Zt,w,Xt)),ht[w]=Tt,this.activate(Tt)),Tt},clean(){let w=this.value,j=0;for(let ee in w)if(w[ee].count===0){let Se=w[ee].detachSubflow;Se&&Se(),delete w[ee],++j}if(j){let ee=this._targets.filter(Se=>Se&&Se.count>0);this.initTargets(ee)}},initTargets(w){let j=this._targets,ee=j.length,Se=w?w.length:0,ht=0;for(;ht<Se;++ht)j[ht]=w[ht];for(;ht<ee&&j[ht]!=null;++ht)j[ht]=null;j.active=Se},transform(w,j){let ee=j.dataflow,Se=w.key,ht=w.subflow,Tt=this._keys,Zt=w.modified("key"),Xt=xn=>this.subflow(xn,ht,j);return this._group=w.group||{},this.initTargets(),j.visit(j.REM,xn=>{let qn=t.tupleid(xn),Un=Tt.get(qn);Un!==void 0&&(Tt.delete(qn),Xt(Un).rem(xn))}),j.visit(j.ADD,xn=>{let qn=Se(xn);Tt.set(t.tupleid(xn),qn),Xt(qn).add(xn)}),Zt||j.modified(Se.fields)?j.visit(j.MOD,xn=>{let qn=t.tupleid(xn),Un=Tt.get(qn),Vn=Se(xn);Un===Vn?Xt(Vn).mod(xn):(Tt.set(qn,Vn),Xt(Un).rem(xn),Xt(Vn).add(xn))}):j.changed(j.MOD)&&j.visit(j.MOD,xn=>{Xt(Tt.get(t.tupleid(xn))).mod(xn)}),Zt&&j.visit(j.REFLOW,xn=>{let qn=t.tupleid(xn),Un=Tt.get(qn),Vn=Se(xn);Un!==Vn&&(Tt.set(qn,Vn),Xt(Un).rem(xn),Xt(Vn).add(xn))}),j.clean()?ee.runAfter(()=>{this.clean(),Tt.clean()}):Tt.empty>ee.cleanThreshold&&ee.runAfter(Tt.clean),j}});function Ke(w){t.Operator.call(this,null,re,w)}e.inherits(Ke,t.Operator);function re(w){return this.value&&!w.modified()?this.value:e.isArray(w.name)?e.array(w.name).map(j=>e.field(j)):e.field(w.name,w.as)}function Oe(w){t.Transform.call(this,e.fastmap(),w)}Oe.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},e.inherits(Oe,t.Transform,{transform(w,j){let ee=j.dataflow,Se=this.value,ht=j.fork(),Tt=ht.add,Zt=ht.rem,Xt=ht.mod,xn=w.expr,qn=!0;j.visit(j.REM,Vn=>{let Jr=t.tupleid(Vn);Se.has(Jr)?Se.delete(Jr):Zt.push(Vn)}),j.visit(j.ADD,Vn=>{xn(Vn,w)?Tt.push(Vn):Se.set(t.tupleid(Vn),1)});function Un(Vn){let Jr=t.tupleid(Vn),Vr=xn(Vn,w),yr=Se.get(Jr);Vr&&yr?(Se.delete(Jr),Tt.push(Vn)):!Vr&&!yr?(Se.set(Jr,1),Zt.push(Vn)):qn&&Vr&&!yr&&Xt.push(Vn)}return j.visit(j.MOD,Un),w.modified()&&(qn=!1,j.visit(j.REFLOW,Un)),Se.empty>ee.cleanThreshold&&ee.runAfter(Se.clean),ht}});function nt(w){t.Transform.call(this,[],w)}nt.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},e.inherits(nt,t.Transform,{transform(w,j){let ee=j.fork(j.NO_SOURCE),Se=w.fields,ht=mn(Se,w.as||[]),Tt=w.index||null,Zt=ht.length;return ee.rem=this.value,j.visit(j.SOURCE,Xt=>{let xn=Se.map(yr=>yr(Xt)),qn=xn.reduce((yr,Mr)=>Math.max(yr,Mr.length),0),Un=0,Vn,Jr,Vr;for(;Un<qn;++Un){for(Jr=t.derive(Xt),Vn=0;Vn<Zt;++Vn)Jr[ht[Vn]]=(Vr=xn[Vn][Un])==null?null:Vr;Tt&&(Jr[Tt]=Un),ee.add.push(Jr)}}),this.value=ee.source=ee.add,Tt&&ee.modifies(Tt),ee.modifies(ht)}});function ft(w){t.Transform.call(this,[],w)}ft.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},e.inherits(ft,t.Transform,{transform(w,j){let ee=j.fork(j.NO_SOURCE),Se=w.fields,ht=Se.map(e.accessorName),Tt=w.as||["key","value"],Zt=Tt[0],Xt=Tt[1],xn=Se.length;return ee.rem=this.value,j.visit(j.SOURCE,qn=>{for(let Un=0,Vn;Un<xn;++Un)Vn=t.derive(qn),Vn[Zt]=ht[Un],Vn[Xt]=Se[Un](qn),ee.add.push(Vn)}),this.value=ee.source=ee.add,ee.modifies(Tt)}});function Ot(w){t.Transform.call(this,null,w)}Ot.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},e.inherits(Ot,t.Transform,{transform(w,j){let ee=w.expr,Se=w.as,ht=w.modified(),Tt=w.initonly?j.ADD:ht?j.SOURCE:j.modified(ee.fields)||j.modified(Se)?j.ADD_MOD:j.ADD;return ht&&(j=j.materialize().reflow(!0)),w.initonly||j.modifies(Se),j.visit(Tt,Zt=>Zt[Se]=ee(Zt,w))}});function Yt(w){t.Transform.call(this,[],w)}e.inherits(Yt,t.Transform,{transform(w,j){let ee=j.fork(j.ALL),Se=w.generator,ht=this.value,Tt=w.size-ht.length,Zt,Xt,xn;if(Tt>0){for(Zt=[];--Tt>=0;)Zt.push(xn=t.ingest(Se(w))),ht.push(xn);ee.add=ee.add.length?ee.materialize(ee.ADD).add.concat(Zt):Zt}else Xt=ht.slice(0,-Tt),ee.rem=ee.rem.length?ee.materialize(ee.REM).rem.concat(Xt):Xt,ht=ht.slice(-Tt);return ee.source=this.value=ht,ee}});function Gt(w,j){return w==null||j==null?NaN:w<j?-1:w>j?1:w>=j?0:NaN}function fn(w){let j=w,ee=w,Se=w;w.length!==2&&(j=(Xt,xn)=>w(Xt)-xn,ee=Gt,Se=(Xt,xn)=>Gt(w(Xt),xn));function ht(Xt,xn,qn=0,Un=Xt.length){if(qn<Un){if(ee(xn,xn)!==0)return Un;do{let Vn=qn+Un>>>1;Se(Xt[Vn],xn)<0?qn=Vn+1:Un=Vn}while(qn<Un)}return qn}function Tt(Xt,xn,qn=0,Un=Xt.length){if(qn<Un){if(ee(xn,xn)!==0)return Un;do{let Vn=qn+Un>>>1;Se(Xt[Vn],xn)<=0?qn=Vn+1:Un=Vn}while(qn<Un)}return qn}function Zt(Xt,xn,qn=0,Un=Xt.length){let Vn=ht(Xt,xn,qn,Un-1);return Vn>qn&&j(Xt[Vn-1],xn)>-j(Xt[Vn],xn)?Vn-1:Vn}return{left:ht,center:Zt,right:Tt}}function*gn(w,j){if(j===void 0)for(let ee of w)ee!=null&&(ee=+ee)>=ee&&(yield ee);else{let ee=-1;for(let Se of w)(Se=j(Se,++ee,w))!=null&&(Se=+Se)>=Se&&(yield Se)}}function yn(w=Gt){if(w===Gt)return Lt;if(typeof w!="function")throw new TypeError("compare is not a function");return(j,ee)=>{let Se=w(j,ee);return Se||Se===0?Se:(w(ee,ee)===0)-(w(j,j)===0)}}function Lt(w,j){return(w==null||!(w>=w))-(j==null||!(j>=j))||(w<j?-1:w>j?1:0)}function un(w,j){let ee;if(j===void 0)for(let Se of w)Se!=null&&(ee<Se||ee===void 0&&Se>=Se)&&(ee=Se);else{let Se=-1;for(let ht of w)(ht=j(ht,++Se,w))!=null&&(ee<ht||ee===void 0&&ht>=ht)&&(ee=ht)}return ee}function Mn(w,j){let ee;if(j===void 0)for(let Se of w)Se!=null&&(ee>Se||ee===void 0&&Se>=Se)&&(ee=Se);else{let Se=-1;for(let ht of w)(ht=j(ht,++Se,w))!=null&&(ee>ht||ee===void 0&&ht>=ht)&&(ee=ht)}return ee}function tr(w,j,ee=0,Se=w.length-1,ht){for(ht=ht===void 0?Lt:yn(ht);Se>ee;){if(Se-ee>600){let xn=Se-ee+1,qn=j-ee+1,Un=Math.log(xn),Vn=.5*Math.exp(2*Un/3),Jr=.5*Math.sqrt(Un*Vn*(xn-Vn)/xn)*(qn-xn/2<0?-1:1),Vr=Math.max(ee,Math.floor(j-qn*Vn/xn+Jr)),yr=Math.min(Se,Math.floor(j+(xn-qn)*Vn/xn+Jr));tr(w,j,Vr,yr,ht)}let Tt=w[j],Zt=ee,Xt=Se;for(Rn(w,ee,j),ht(w[Se],Tt)>0&&Rn(w,ee,Se);Zt<Xt;){for(Rn(w,Zt,Xt),++Zt,--Xt;ht(w[Zt],Tt)<0;)++Zt;for(;ht(w[Xt],Tt)>0;)--Xt}ht(w[ee],Tt)===0?Rn(w,ee,Xt):(++Xt,Rn(w,Xt,Se)),Xt<=j&&(ee=Xt+1),j<=Xt&&(Se=Xt-1)}return w}function Rn(w,j,ee){let Se=w[j];w[j]=w[ee],w[ee]=Se}function Ne(w,j,ee){if(w=Float64Array.from(gn(w,ee)),!!(Se=w.length)){if((j=+j)<=0||Se<2)return Mn(w);if(j>=1)return un(w);var Se,ht=(Se-1)*j,Tt=Math.floor(ht),Zt=un(tr(w,Tt).subarray(0,Tt+1)),Xt=Mn(w.subarray(Tt+1));return Zt+(Xt-Zt)*(ht-Tt)}}function ze(w,j){let ee=0,Se=0;if(j===void 0)for(let ht of w)ht!=null&&(ht=+ht)>=ht&&(++ee,Se+=ht);else{let ht=-1;for(let Tt of w)(Tt=j(Tt,++ht,w))!=null&&(Tt=+Tt)>=Tt&&(++ee,Se+=Tt)}if(ee)return Se/ee}function De(w,j){return Ne(w,.5,j)}function Pt(w,j,ee){w=+w,j=+j,ee=(ht=arguments.length)<2?(j=w,w=0,1):ht<3?1:+ee;for(var Se=-1,ht=Math.max(0,Math.ceil((j-w)/ee))|0,Tt=new Array(ht);++Se<ht;)Tt[Se]=w+Se*ee;return Tt}let mt={value:"value",median:De,mean:ze,min:Mn,max:un},xt=[];function rn(w){t.Transform.call(this,[],w)}rn.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function Qt(w){var j=w.method||mt.value,ee;if(mt[j]==null)e.error("Unrecognized imputation method: "+j);else return j===mt.value?(ee=w.value!==void 0?w.value:0,()=>ee):mt[j]}function Fn(w){let j=w.field;return ee=>ee?j(ee):NaN}e.inherits(rn,t.Transform,{transform(w,j){var ee=j.fork(j.ALL),Se=Qt(w),ht=Fn(w),Tt=e.accessorName(w.field),Zt=e.accessorName(w.key),Xt=(w.groupby||[]).map(e.accessorName),xn=Wn(j.source,w.groupby,w.key,w.keyvals),qn=[],Un=this.value,Vn=xn.domain.length,Jr,Vr,yr,Mr,xi,ai,Xi,ws,ts,Aa;for(xi=0,ws=xn.length;xi<ws;++xi)for(Jr=xn[xi],yr=Jr.values,Vr=NaN,Xi=0;Xi<Vn;++Xi)if(Jr[Xi]==null){for(Mr=xn.domain[Xi],Aa={_impute:!0},ai=0,ts=yr.length;ai<ts;++ai)Aa[Xt[ai]]=yr[ai];Aa[Zt]=Mr,Aa[Tt]=Number.isNaN(Vr)?Vr=Se(Jr,ht):Vr,qn.push(t.ingest(Aa))}return qn.length&&(ee.add=ee.materialize(ee.ADD).add.concat(qn)),Un.length&&(ee.rem=ee.materialize(ee.REM).rem.concat(Un)),this.value=qn,ee}});function Wn(w,j,ee,Se){var ht=ai=>ai(xi),Tt=[],Zt=Se?Se.slice():[],Xt={},xn={},qn,Un,Vn,Jr,Vr,yr,Mr,xi;for(Zt.forEach((ai,Xi)=>Xt[ai]=Xi+1),Jr=0,Mr=w.length;Jr<Mr;++Jr)xi=w[Jr],yr=ee(xi),Vr=Xt[yr]||(Xt[yr]=Zt.push(yr)),Un=(qn=j?j.map(ht):xt)+"",(Vn=xn[Un])||(Vn=xn[Un]=[],Tt.push(Vn),Vn.values=qn),Vn[Vr-1]=xi;return Tt.domain=Zt,Tt}function Zn(w){J.call(this,w)}Zn.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:_},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},e.inherits(Zn,J,{transform(w,j){let ee=this,Se=w.modified(),ht;return ee.value&&(Se||j.modified(ee._inputs,!0))?(ht=ee.value=Se?ee.init(w):{},j.visit(j.SOURCE,Tt=>ee.add(Tt))):(ht=ee.value=ee.value||this.init(w),j.visit(j.REM,Tt=>ee.rem(Tt)),j.visit(j.ADD,Tt=>ee.add(Tt))),ee.changes(),j.visit(j.SOURCE,Tt=>{e.extend(Tt,ht[ee.cellkey(Tt)].tuple)}),j.reflow(Se).modifies(this._outputs)},changes(){let w=this._adds,j=this._mods,ee,Se;for(ee=0,Se=this._alen;ee<Se;++ee)this.celltuple(w[ee]),w[ee]=null;for(ee=0,Se=this._mlen;ee<Se;++ee)this.celltuple(j[ee]),j[ee]=null;this._alen=this._mlen=0}});function Nn(w){t.Transform.call(this,null,w)}Nn.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},e.inherits(Nn,t.Transform,{transform(w,j){let ee=j.fork(j.NO_SOURCE|j.NO_FIELDS);if(!this.value||j.changed()||w.modified()){let Se=j.materialize(j.SOURCE).source,ht=kt(Se,w.groupby,w.field),Tt=(w.groupby||[]).map(e.accessorName),Zt=w.bandwidth,Xt=w.cumulative?"cdf":"pdf",xn=w.as||["value","density"],qn=[],Un=w.extent,Vn=w.steps||w.minsteps||25,Jr=w.steps||w.maxsteps||200;Xt!=="pdf"&&Xt!=="cdf"&&e.error("Invalid density method: "+Xt),w.resolve==="shared"&&(Un||(Un=e.extent(Se,w.field)),Vn=Jr=w.steps||Jr),ht.forEach(Vr=>{let yr=r.randomKDE(Vr,Zt)[Xt],Mr=w.counts?Vr.length:1,xi=Un||e.extent(Vr);r.sampleCurve(yr,xi,Vn,Jr).forEach(ai=>{let Xi={};for(let ws=0;ws<Tt.length;++ws)Xi[Tt[ws]]=Vr.dims[ws];Xi[xn[0]]=ai[0],Xi[xn[1]]=ai[1]*Mr,qn.push(t.ingest(Xi))})}),this.value&&(ee.rem=this.value),this.value=ee.add=ee.source=qn}return ee}});function nr(w){t.Operator.call(this,null,Ye,w)}e.inherits(nr,t.Operator);function Ye(w){return this.value&&!w.modified()?this.value:e.key(w.fields,w.flat)}function vt(w){t.Transform.call(this,[],w),this._pending=null}e.inherits(vt,t.Transform,{transform(w,j){let ee=j.dataflow;return this._pending?Be(this,j,this._pending):oe(w)?j.StopPropagation:w.values?Be(this,j,ee.parse(w.values,w.format)):w.async?{async:ee.request(w.url,w.format).then(ht=>(this._pending=e.array(ht.data),Tt=>Tt.touch(this)))}:ee.request(w.url,w.format).then(Se=>Be(this,j,e.array(Se.data)))}});function oe(w){return w.modified("async")&&!(w.modified("values")||w.modified("url")||w.modified("format"))}function Be(w,j,ee){ee.forEach(t.ingest);let Se=j.fork(j.NO_FIELDS&j.NO_SOURCE);return Se.rem=w.value,w.value=Se.source=Se.add=ee,w._pending=null,Se.rem.length&&Se.clean(!0),Se}function rt(w){t.Transform.call(this,{},w)}rt.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},e.inherits(rt,t.Transform,{transform(w,j){let ee=w.fields,Se=w.index,ht=w.values,Tt=w.default==null?null:w.default,Zt=w.modified(),Xt=ee.length,xn=Zt?j.SOURCE:j.ADD,qn=j,Un=w.as,Vn,Jr,Vr;return ht?(Jr=ht.length,Xt>1&&!Un&&e.error('Multi-field lookup requires explicit "as" parameter.'),Un&&Un.length!==Xt*Jr&&e.error('The "as" parameter has too few output field names.'),Un=Un||ht.map(e.accessorName),Vn=function(yr){for(var Mr=0,xi=0,ai,Xi;Mr<Xt;++Mr)if(Xi=Se.get(ee[Mr](yr)),Xi==null)for(ai=0;ai<Jr;++ai,++xi)yr[Un[xi]]=Tt;else for(ai=0;ai<Jr;++ai,++xi)yr[Un[xi]]=ht[ai](Xi)}):(Un||e.error("Missing output field names."),Vn=function(yr){for(var Mr=0,xi;Mr<Xt;++Mr)xi=Se.get(ee[Mr](yr)),yr[Un[Mr]]=xi??Tt}),Zt?qn=j.reflow(!0):(Vr=ee.some(yr=>j.modified(yr.fields)),xn|=Vr?j.MOD:0),j.visit(xn,Vn),qn.modifies(Un)}});function Dt(w){t.Operator.call(this,null,hn,w)}e.inherits(Dt,t.Operator);function hn(w){if(this.value&&!w.modified())return this.value;let j=w.extents,ee=j.length,Se=1/0,ht=-1/0,Tt,Zt;for(Tt=0;Tt<ee;++Tt)Zt=j[Tt],Zt[0]<Se&&(Se=Zt[0]),Zt[1]>ht&&(ht=Zt[1]);return[Se,ht]}function an(w){t.Operator.call(this,null,dt,w)}e.inherits(an,t.Operator);function dt(w){return this.value&&!w.modified()?this.value:w.values.reduce((j,ee)=>j.concat(ee),[])}function ie(w){t.Transform.call(this,null,w)}e.inherits(ie,t.Transform,{transform(w,j){return this.modified(w.modified()),this.value=w,j.fork(j.NO_SOURCE|j.NO_FIELDS)}});function Te(w){J.call(this,w)}Te.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:_,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},e.inherits(Te,J,{_transform:J.prototype.transform,transform(w,j){return this._transform(Ue(w,j),j)}});function Ue(w,j){let ee=w.field,Se=w.value,ht=(w.op==="count"?"__count__":w.op)||"sum",Tt=e.accessorFields(ee).concat(e.accessorFields(Se)),Zt=St(ee,w.limit||0,j);return j.changed()&&w.set("__pivot__",null,null,!0),{key:w.key,groupby:w.groupby,ops:Zt.map(()=>ht),fields:Zt.map(Xt=>gt(Xt,ee,Se,Tt)),as:Zt.map(Xt=>Xt+""),modified:w.modified.bind(w)}}function gt(w,j,ee,Se){return e.accessor(ht=>j(ht)===w?ee(ht):NaN,Se,w+"")}function St(w,j,ee){let Se={},ht=[];return ee.visit(ee.SOURCE,Tt=>{let Zt=w(Tt);Se[Zt]||(Se[Zt]=1,ht.push(Zt))}),ht.sort(e.ascending),j?ht.slice(0,j):ht}function Rt(w){tt.call(this,w)}e.inherits(Rt,tt,{transform(w,j){let ee=w.subflow,Se=w.field,ht=Tt=>this.subflow(t.tupleid(Tt),ee,j,Tt);return(w.modified("field")||Se&&j.modified(e.accessorFields(Se)))&&e.error("PreFacet does not support field modification."),this.initTargets(),Se?(j.visit(j.MOD,Tt=>{let Zt=ht(Tt);Se(Tt).forEach(Xt=>Zt.mod(Xt))}),j.visit(j.ADD,Tt=>{let Zt=ht(Tt);Se(Tt).forEach(Xt=>Zt.add(t.ingest(Xt)))}),j.visit(j.REM,Tt=>{let Zt=ht(Tt);Se(Tt).forEach(Xt=>Zt.rem(Xt))})):(j.visit(j.MOD,Tt=>ht(Tt).mod(Tt)),j.visit(j.ADD,Tt=>ht(Tt).add(Tt)),j.visit(j.REM,Tt=>ht(Tt).rem(Tt))),j.clean()&&j.runAfter(()=>this.clean()),j}});function ne(w){t.Transform.call(this,null,w)}ne.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},e.inherits(ne,t.Transform,{transform(w,j){let ee=j.fork(j.NO_SOURCE),Se=w.fields,ht=mn(w.fields,w.as||[]),Tt=Se?(Xt,xn)=>Ce(Xt,xn,Se,ht):t.rederive,Zt;return this.value?Zt=this.value:(j=j.addAll(),Zt=this.value={}),j.visit(j.REM,Xt=>{let xn=t.tupleid(Xt);ee.rem.push(Zt[xn]),Zt[xn]=null}),j.visit(j.ADD,Xt=>{let xn=Tt(Xt,t.ingest({}));Zt[t.tupleid(Xt)]=xn,ee.add.push(xn)}),j.visit(j.MOD,Xt=>{ee.mod.push(Tt(Xt,Zt[t.tupleid(Xt)]))}),ee}});function Ce(w,j,ee,Se){for(let ht=0,Tt=ee.length;ht<Tt;++ht)j[Se[ht]]=ee[ht](w);return j}function We(w){t.Transform.call(this,null,w)}e.inherits(We,t.Transform,{transform(w,j){return this.value=w.value,w.modified("value")?j.fork(j.NO_SOURCE|j.NO_FIELDS):j.StopPropagation}});function st(w){t.Transform.call(this,null,w)}st.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};let Ut=1e-14;e.inherits(st,t.Transform,{transform(w,j){let ee=j.fork(j.NO_SOURCE|j.NO_FIELDS),Se=w.as||["prob","value"];if(this.value&&!w.modified()&&!j.changed())return ee.source=this.value,ee;let ht=j.materialize(j.SOURCE).source,Tt=kt(ht,w.groupby,w.field),Zt=(w.groupby||[]).map(e.accessorName),Xt=[],xn=w.step||.01,qn=w.probs||Pt(xn/2,1-Ut,xn),Un=qn.length;return Tt.forEach(Vn=>{let Jr=r.quantiles(Vn,qn);for(let Vr=0;Vr<Un;++Vr){let yr={};for(let Mr=0;Mr<Zt.length;++Mr)yr[Zt[Mr]]=Vn.dims[Mr];yr[Se[0]]=qn[Vr],yr[Se[1]]=Jr[Vr],Xt.push(t.ingest(yr))}}),this.value&&(ee.rem=this.value),this.value=ee.add=ee.source=Xt,ee}});function sn(w){t.Transform.call(this,null,w)}e.inherits(sn,t.Transform,{transform(w,j){let ee,Se;return this.value?Se=this.value:(ee=j=j.addAll(),Se=this.value={}),w.derive&&(ee=j.fork(j.NO_SOURCE),j.visit(j.REM,ht=>{let Tt=t.tupleid(ht);ee.rem.push(Se[Tt]),Se[Tt]=null}),j.visit(j.ADD,ht=>{let Tt=t.derive(ht);Se[t.tupleid(ht)]=Tt,ee.add.push(Tt)}),j.visit(j.MOD,ht=>{let Tt=Se[t.tupleid(ht)];for(let Zt in ht)Tt[Zt]=ht[Zt],ee.modifies(Zt);ee.mod.push(Tt)})),ee}});function Cn(w){t.Transform.call(this,[],w),this.count=0}Cn.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},e.inherits(Cn,t.Transform,{transform(w,j){let ee=j.fork(j.NO_SOURCE),Se=w.modified("size"),ht=w.size,Tt=this.value.reduce((Un,Vn)=>(Un[t.tupleid(Vn)]=1,Un),{}),Zt=this.value,Xt=this.count,xn=0;function qn(Un){let Vn,Jr;Zt.length<ht?Zt.push(Un):(Jr=~~((Xt+1)*r.random()),Jr<Zt.length&&Jr>=xn&&(Vn=Zt[Jr],Tt[t.tupleid(Vn)]&&ee.rem.push(Vn),Zt[Jr]=Un)),++Xt}if(j.rem.length&&(j.visit(j.REM,Un=>{let Vn=t.tupleid(Un);Tt[Vn]&&(Tt[Vn]=-1,ee.rem.push(Un)),--Xt}),Zt=Zt.filter(Un=>Tt[t.tupleid(Un)]!==-1)),(j.rem.length||Se)&&Zt.length<ht&&j.source&&(xn=Xt=Zt.length,j.visit(j.SOURCE,Un=>{Tt[t.tupleid(Un)]||qn(Un)}),xn=-1),Se&&Zt.length>ht){let Un=Zt.length-ht;for(let Vn=0;Vn<Un;++Vn)Tt[t.tupleid(Zt[Vn])]=-1,ee.rem.push(Zt[Vn]);Zt=Zt.slice(Un)}return j.mod.length&&j.visit(j.MOD,Un=>{Tt[t.tupleid(Un)]&&ee.mod.push(Un)}),j.add.length&&j.visit(j.ADD,qn),(j.add.length||xn<0)&&(ee.add=Zt.filter(Un=>!Tt[t.tupleid(Un)])),this.count=Xt,this.value=ee.source=Zt,ee}});function En(w){t.Transform.call(this,null,w)}En.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},e.inherits(En,t.Transform,{transform(w,j){if(this.value&&!w.modified())return;let ee=j.materialize().fork(j.MOD),Se=w.as||"data";return ee.rem=this.value?j.rem.concat(this.value):j.rem,this.value=Pt(w.start,w.stop,w.step||1).map(ht=>{let Tt={};return Tt[Se]=ht,t.ingest(Tt)}),ee.add=j.add.concat(this.value),ee}});function vn(w){t.Transform.call(this,null,w),this.modified(!0)}e.inherits(vn,t.Transform,{transform(w,j){return this.value=j.source,j.changed()?j.fork(j.NO_SOURCE|j.NO_FIELDS):j.StopPropagation}});function zn(w){t.Transform.call(this,null,w)}let Re=["unit0","unit1"];zn.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:i.TIME_UNITS,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:Re}]},e.inherits(zn,t.Transform,{transform(w,j){let ee=w.field,Se=w.interval!==!1,ht=w.timezone==="utc",Tt=this._floor(w,j),Zt=(ht?i.utcInterval:i.timeInterval)(Tt.unit).offset,Xt=w.as||Re,xn=Xt[0],qn=Xt[1],Un=Tt.step,Vn=Tt.start||1/0,Jr=Tt.stop||-1/0,Vr=j.ADD;return(w.modified()||j.changed(j.REM)||j.modified(e.accessorFields(ee)))&&(j=j.reflow(!0),Vr=j.SOURCE,Vn=1/0,Jr=-1/0),j.visit(Vr,yr=>{let Mr=ee(yr),xi,ai;Mr==null?(yr[xn]=null,Se&&(yr[qn]=null)):(yr[xn]=xi=ai=Tt(Mr),Se&&(yr[qn]=ai=Zt(xi,Un)),xi<Vn&&(Vn=xi),ai>Jr&&(Jr=ai))}),Tt.start=Vn,Tt.stop=Jr,j.modifies(Se?Xt:xn)},_floor(w,j){let ee=w.timezone==="utc",{units:Se,step:ht}=w.units?{units:w.units,step:w.step||1}:i.timeBin({extent:w.extent||e.extent(j.materialize(j.SOURCE).source,w.field),maxbins:w.maxbins}),Tt=i.timeUnits(Se),Zt=this.value||{},Xt=(ee?i.utcFloor:i.timeFloor)(Tt,ht);return Xt.unit=e.peek(Tt),Xt.units=Tt,Xt.step=ht,Xt.start=Zt.start,Xt.stop=Zt.stop,this.value=Xt}});function $e(w){t.Transform.call(this,e.fastmap(),w)}e.inherits($e,t.Transform,{transform(w,j){let ee=j.dataflow,Se=w.field,ht=this.value,Tt=Xt=>ht.set(Se(Xt),Xt),Zt=!0;return w.modified("field")||j.modified(Se.fields)?(ht.clear(),j.visit(j.SOURCE,Tt)):j.changed()?(j.visit(j.REM,Xt=>ht.delete(Se(Xt))),j.visit(j.ADD,Tt)):Zt=!1,this.modified(Zt),ht.empty>ee.cleanThreshold&&ee.runAfter(ht.clean),j.fork()}});function Ft(w){t.Transform.call(this,null,w)}e.inherits(Ft,t.Transform,{transform(w,j){(!this.value||w.modified("field")||w.modified("sort")||j.changed()||w.sort&&j.modified(w.sort.fields))&&(this.value=(w.sort?j.source.slice().sort(t.stableCompare(w.sort)):j.source).map(w.field))}});function N(w,j,ee,Se){let ht=V[w](j,ee);return{init:ht.init||e.zero,update:function(Tt,Zt){Zt[Se]=ht.next(Tt)}}}let V={row_number:function(){return{next:w=>w.index+1}},rank:function(){let w;return{init:()=>w=1,next:j=>{let ee=j.index,Se=j.data;return ee&&j.compare(Se[ee-1],Se[ee])?w=ee+1:w}}},dense_rank:function(){let w;return{init:()=>w=1,next:j=>{let ee=j.index,Se=j.data;return ee&&j.compare(Se[ee-1],Se[ee])?++w:w}}},percent_rank:function(){let w=V.rank(),j=w.next;return{init:w.init,next:ee=>(j(ee)-1)/(ee.data.length-1)}},cume_dist:function(){let w;return{init:()=>w=0,next:j=>{let ee=j.data,Se=j.compare,ht=j.index;if(w<ht){for(;ht+1<ee.length&&!Se(ee[ht],ee[ht+1]);)++ht;w=ht}return(1+w)/ee.length}}},ntile:function(w,j){j=+j,j>0||e.error("ntile num must be greater than zero.");let ee=V.cume_dist(),Se=ee.next;return{init:ee.init,next:ht=>Math.ceil(j*Se(ht))}},lag:function(w,j){return j=+j||1,{next:ee=>{let Se=ee.index-j;return Se>=0?w(ee.data[Se]):null}}},lead:function(w,j){return j=+j||1,{next:ee=>{let Se=ee.index+j,ht=ee.data;return Se<ht.length?w(ht[Se]):null}}},first_value:function(w){return{next:j=>w(j.data[j.i0])}},last_value:function(w){return{next:j=>w(j.data[j.i1-1])}},nth_value:function(w,j){return j=+j,j>0||e.error("nth_value nth must be greater than zero."),{next:ee=>{let Se=ee.i0+(j-1);return Se<ee.i1?w(ee.data[Se]):null}}},prev_value:function(w){let j;return{init:()=>j=null,next:ee=>{let Se=w(ee.data[ee.index]);return Se!=null?j=Se:j}}},next_value:function(w){let j,ee;return{init:()=>(j=null,ee=-1),next:Se=>{let ht=Se.data;return Se.index<=ee?j:(ee=Ee(w,ht,Se.index))<0?(ee=ht.length,j=null):j=w(ht[ee])}}}};function Ee(w,j,ee){for(let Se=j.length;ee<Se;++ee)if(w(j[ee])!=null)return ee;return-1}let xe=Object.keys(V);function K(w){let j=e.array(w.ops),ee=e.array(w.fields),Se=e.array(w.params),ht=e.array(w.as),Tt=this.outputs=[],Zt=this.windows=[],Xt={},xn={},qn=[],Un=[],Vn=!0;function Jr(Vr){e.array(e.accessorFields(Vr)).forEach(yr=>Xt[yr]=1)}Jr(w.sort),j.forEach((Vr,yr)=>{let Mr=ee[yr],xi=e.accessorName(Mr),ai=a(Vr,xi,ht[yr]);if(Jr(Mr),Tt.push(ai),e.hasOwnProperty(V,Vr))Zt.push(N(Vr,ee[yr],Se[yr],ai));else{if(Mr==null&&Vr!=="count"&&e.error("Null aggregate field specified."),Vr==="count"){qn.push(ai);return}Vn=!1;let Xi=xn[xi];Xi||(Xi=xn[xi]=[],Xi.field=Mr,Un.push(Xi)),Xi.push(O(Vr,ai))}}),(qn.length||Un.length)&&(this.cell=fe(Un,qn,Vn)),this.inputs=Object.keys(Xt)}let ae=K.prototype;ae.init=function(){this.windows.forEach(w=>w.init()),this.cell&&this.cell.init()},ae.update=function(w,j){let ee=this.cell,Se=this.windows,ht=w.data,Tt=Se&&Se.length,Zt;if(ee){for(Zt=w.p0;Zt<w.i0;++Zt)ee.rem(ht[Zt]);for(Zt=w.p1;Zt<w.i1;++Zt)ee.add(ht[Zt]);ee.set(j)}for(Zt=0;Zt<Tt;++Zt)Se[Zt].update(w,j)};function fe(w,j,ee){w=w.map(xn=>G(xn,xn.field));let Se={num:0,agg:null,store:!1,count:j};if(!ee)for(var ht=w.length,Tt=Se.agg=Array(ht),Zt=0;Zt<ht;++Zt)Tt[Zt]=new w[Zt](Se);if(Se.store)var Xt=Se.data=new ue;return Se.add=function(xn){if(Se.num+=1,!ee){Xt&&Xt.add(xn);for(let qn=0;qn<ht;++qn)Tt[qn].add(Tt[qn].get(xn),xn)}},Se.rem=function(xn){if(Se.num-=1,!ee){Xt&&Xt.rem(xn);for(let qn=0;qn<ht;++qn)Tt[qn].rem(Tt[qn].get(xn),xn)}},Se.set=function(xn){let qn,Un;for(Xt&&Xt.values(),qn=0,Un=j.length;qn<Un;++qn)xn[j[qn]]=Se.num;if(!ee)for(qn=0,Un=Tt.length;qn<Un;++qn)Tt[qn].set(xn)},Se.init=function(){Se.num=0,Xt&&Xt.reset();for(let xn=0;xn<ht;++xn)Tt[xn].init()},Se}function Qe(w){t.Transform.call(this,{},w),this._mlen=0,this._mods=[]}Qe.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:xe.concat(_)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},e.inherits(Qe,t.Transform,{transform(w,j){this.stamp=j.stamp;let ee=w.modified(),Se=t.stableCompare(w.sort),ht=o(w.groupby),Tt=Xt=>this.group(ht(Xt)),Zt=this.state;(!Zt||ee)&&(Zt=this.state=new K(w)),ee||j.modified(Zt.inputs)?(this.value={},j.visit(j.SOURCE,Xt=>Tt(Xt).add(Xt))):(j.visit(j.REM,Xt=>Tt(Xt).remove(Xt)),j.visit(j.ADD,Xt=>Tt(Xt).add(Xt)));for(let Xt=0,xn=this._mlen;Xt<xn;++Xt)It(this._mods[Xt],Zt,Se,w);return this._mlen=0,this._mods=[],j.reflow(ee).modifies(Zt.outputs)},group(w){let j=this.value[w];return j||(j=this.value[w]=He(t.tupleid),j.stamp=-1),j.stamp<this.stamp&&(j.stamp=this.stamp,this._mods[this._mlen++]=j),j}});function It(w,j,ee,Se){let ht=Se.sort,Tt=ht&&!Se.ignorePeers,Zt=Se.frame||[null,0],Xt=w.data(ee),xn=Xt.length,qn=Tt?fn(ht):null,Un={i0:0,i1:0,p0:0,p1:0,index:0,data:Xt,compare:ht||e.constant(-1)};j.init();for(let Vn=0;Vn<xn;++Vn)At(Un,Zt,Vn,xn),Tt&&dn(Un,qn),j.update(Un,Xt[Vn])}function At(w,j,ee,Se){w.p0=w.i0,w.p1=w.i1,w.i0=j[0]==null?0:Math.max(0,ee-Math.abs(j[0])),w.i1=j[1]==null?Se:Math.min(Se,ee+Math.abs(j[1])+1),w.index=ee}function dn(w,j){let ee=w.i0,Se=w.i1-1,ht=w.compare,Tt=w.data,Zt=Tt.length-1;ee>0&&!ht(Tt[ee],Tt[ee-1])&&(w.i0=j.left(Tt,Tt[ee])),Se<Zt&&!ht(Tt[Se],Tt[Se+1])&&(w.i1=j.right(Tt,Tt[Se]))}n.aggregate=J,n.bin=ye,n.collect=at,n.compare=ct,n.countpattern=Et,n.cross=qe,n.density=Je,n.dotbin=tn,n.expression=ve,n.extent=_e,n.facet=tt,n.field=Ke,n.filter=Oe,n.flatten=nt,n.fold=ft,n.formula=Ot,n.generate=Yt,n.impute=rn,n.joinaggregate=Zn,n.kde=Nn,n.key=nr,n.load=vt,n.lookup=rt,n.multiextent=Dt,n.multivalues=an,n.params=ie,n.pivot=Te,n.prefacet=Rt,n.project=ne,n.proxy=We,n.quantile=st,n.relay=sn,n.sample=Cn,n.sequence=En,n.sieve=vn,n.subflow=ce,n.timeunit=zn,n.tupleindex=$e,n.values=Ft,n.window=Qe,Object.defineProperty(n,"__esModule",{value:!0})})});var mN=Ae((aV,ODe)=>{m();(function(n,e){typeof aV=="object"&&typeof ODe!="undefined"?e(aV):typeof define=="function"&&define.amd?define(["exports"],e):e((n=typeof globalThis!="undefined"?globalThis:n||self).vega={})})(aV,function(n){"use strict";function e(t,r){if(typeof document!="undefined"&&document.createElement){let i=document.createElement("canvas");if(i&&i.getContext)return i.width=t,i.height=r,i}return null}n.canvas=e,n.domCanvas=e,n.image=()=>typeof Image!="undefined"?Image:null,Object.defineProperty(n,"__esModule",{value:!0})})});var hE=Ae((uV,RDe)=>{m();(function(n,e){typeof uV=="object"&&typeof RDe!="undefined"?e(uV,Tu(),d9()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-time"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(uV,function(n,e,t){"use strict";function r(x,T,$){let X=x-T+$*2;return x?X>0?X:1:0}let i="identity",s="linear",o="log",a="pow",l="sqrt",f="symlog",p="time",_="utc",E="sequential",O="diverging",R="quantile",q="quantize",z="threshold",L="ordinal",B="point",P="band",G="bin-ordinal",ue="continuous",I="discrete",J="discretizing",he="interpolating",ye="temporal";function He(x){return function(T){let $=T[0],X=T[1],ge;return X<$&&(ge=$,$=X,X=ge),[x.invert($),x.invert(X)]}}function at(x){return function(T){let $=x.range(),X=T[0],ge=T[1],Fe=-1,ot,zt,wn,Sn;for(ge<X&&(zt=X,X=ge,ge=zt),wn=0,Sn=$.length;wn<Sn;++wn)$[wn]>=X&&$[wn]<=ge&&(Fe<0&&(Fe=wn),ot=wn);if(!(Fe<0))return X=x.invertExtent($[Fe]),ge=x.invertExtent($[ot]),[X[0]===void 0?X[1]:X[0],ge[1]===void 0?ge[0]:ge[1]]}}function ct(x,T){return x==null||T==null?NaN:x<T?-1:x>T?1:x>=T?0:NaN}function Ze(x){let T=x,$=x,X=x;x.length!==2&&(T=(zt,wn)=>x(zt)-wn,$=ct,X=(zt,wn)=>ct(x(zt),wn));function ge(zt,wn,Sn=0,Pn=zt.length){if(Sn<Pn){if($(wn,wn)!==0)return Pn;do{let Hn=Sn+Pn>>>1;X(zt[Hn],wn)<0?Sn=Hn+1:Pn=Hn}while(Sn<Pn)}return Sn}function Fe(zt,wn,Sn=0,Pn=zt.length){if(Sn<Pn){if($(wn,wn)!==0)return Pn;do{let Hn=Sn+Pn>>>1;X(zt[Hn],wn)<=0?Sn=Hn+1:Pn=Hn}while(Sn<Pn)}return Sn}function ot(zt,wn,Sn=0,Pn=zt.length){let Hn=ge(zt,wn,Sn,Pn-1);return Hn>Sn&&T(zt[Hn-1],wn)>-T(zt[Hn],wn)?Hn-1:Hn}return{left:ge,center:ot,right:Fe}}function Et(x){return x===null?NaN:+x}let qe=Ze(ct).right;Ze(Et).center;var te=qe;class et extends Map{constructor(T,$=pe){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:$}}),T!=null)for(let[X,ge]of T)this.set(X,ge)}get(T){return super.get(be(this,T))}has(T){return super.has(be(this,T))}set(T,$){return super.set(ke(this,T),$)}delete(T){return super.delete(we(this,T))}}function be({_intern:x,_key:T},$){let X=T($);return x.has(X)?x.get(X):$}function ke({_intern:x,_key:T},$){let X=T($);return x.has(X)?x.get(X):(x.set(X,$),$)}function we({_intern:x,_key:T},$){let X=T($);return x.has(X)&&($=x.get(X),x.delete(X)),$}function pe(x){return x!==null&&typeof x=="object"?x.valueOf():x}var Je=Math.sqrt(50),lt=Math.sqrt(10),Ht=Math.sqrt(2);function Ct(x,T,$){var X,ge=-1,Fe,ot,zt;if(T=+T,x=+x,$=+$,x===T&&$>0)return[x];if((X=T<x)&&(Fe=x,x=T,T=Fe),(zt=mn(x,T,$))===0||!isFinite(zt))return[];if(zt>0){let wn=Math.round(x/zt),Sn=Math.round(T/zt);for(wn*zt<x&&++wn,Sn*zt>T&&--Sn,ot=new Array(Fe=Sn-wn+1);++ge<Fe;)ot[ge]=(wn+ge)*zt}else{zt=-zt;let wn=Math.round(x*zt),Sn=Math.round(T*zt);for(wn/zt<x&&++wn,Sn/zt>T&&--Sn,ot=new Array(Fe=Sn-wn+1);++ge<Fe;)ot[ge]=(wn+ge)/zt}return X&&ot.reverse(),ot}function mn(x,T,$){var X=(T-x)/Math.max(0,$),ge=Math.floor(Math.log(X)/Math.LN10),Fe=X/Math.pow(10,ge);return ge>=0?(Fe>=Je?10:Fe>=lt?5:Fe>=Ht?2:1)*Math.pow(10,ge):-Math.pow(10,-ge)/(Fe>=Je?10:Fe>=lt?5:Fe>=Ht?2:1)}function kt(x,T,$){var X=Math.abs(T-x)/Math.max(0,$),ge=Math.pow(10,Math.floor(Math.log(X)/Math.LN10)),Fe=X/ge;return Fe>=Je?ge*=10:Fe>=lt?ge*=5:Fe>=Ht&&(ge*=2),T<x?-ge:ge}function Bt(x,T,$=Et){if(!!(X=x.length)){if((T=+T)<=0||X<2)return+$(x[0],0,x);if(T>=1)return+$(x[X-1],X-1,x);var X,ge=(X-1)*T,Fe=Math.floor(ge),ot=+$(x[Fe],Fe,x),zt=+$(x[Fe+1],Fe+1,x);return ot+(zt-ot)*(ge-Fe)}}function tn(x,T,$){x=+x,T=+T,$=(ge=arguments.length)<2?(T=x,x=0,1):ge<3?1:+$;for(var X=-1,ge=Math.max(0,Math.ceil((T-x)/$))|0,Fe=new Array(ge);++X<ge;)Fe[X]=x+X*$;return Fe}function bt(x,T){switch(arguments.length){case 0:break;case 1:this.range(x);break;default:this.range(T).domain(x);break}return this}function ve(x,T){switch(arguments.length){case 0:break;case 1:{typeof x=="function"?this.interpolator(x):this.range(x);break}default:{this.domain(x),typeof T=="function"?this.interpolator(T):this.range(T);break}}return this}let Le=Symbol("implicit");function _e(){var x=new et,T=[],$=[],X=Le;function ge(Fe){let ot=x.get(Fe);if(ot===void 0){if(X!==Le)return X;x.set(Fe,ot=T.push(Fe)-1)}return $[ot%$.length]}return ge.domain=function(Fe){if(!arguments.length)return T.slice();T=[],x=new et;for(let ot of Fe)x.has(ot)||x.set(ot,T.push(ot)-1);return ge},ge.range=function(Fe){return arguments.length?($=Array.from(Fe),ge):$.slice()},ge.unknown=function(Fe){return arguments.length?(X=Fe,ge):X},ge.copy=function(){return _e(T,$).unknown(X)},bt.apply(ge,arguments),ge}function ce(x,T,$){x.prototype=T.prototype=$,$.constructor=x}function tt(x,T){var $=Object.create(x.prototype);for(var X in T)$[X]=T[X];return $}function Ke(){}var re=.7,Oe=1/re,nt="\\s*([+-]?\\d+)\\s*",ft="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ot="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yt=/^#([0-9a-f]{3,8})$/,Gt=new RegExp("^rgb\\("+[nt,nt,nt]+"\\)$"),fn=new RegExp("^rgb\\("+[Ot,Ot,Ot]+"\\)$"),gn=new RegExp("^rgba\\("+[nt,nt,nt,ft]+"\\)$"),yn=new RegExp("^rgba\\("+[Ot,Ot,Ot,ft]+"\\)$"),Lt=new RegExp("^hsl\\("+[ft,Ot,Ot]+"\\)$"),un=new RegExp("^hsla\\("+[ft,Ot,Ot,ft]+"\\)$"),Mn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ce(Ke,ze,{copy:function(x){return Object.assign(new this.constructor,this,x)},displayable:function(){return this.rgb().displayable()},hex:tr,formatHex:tr,formatHsl:Rn,formatRgb:Ne,toString:Ne});function tr(){return this.rgb().formatHex()}function Rn(){return Nn(this).formatHsl()}function Ne(){return this.rgb().formatRgb()}function ze(x){var T,$;return x=(x+"").trim().toLowerCase(),(T=Yt.exec(x))?($=T[1].length,T=parseInt(T[1],16),$===6?De(T):$===3?new rn(T>>8&15|T>>4&240,T>>4&15|T&240,(T&15)<<4|T&15,1):$===8?Pt(T>>24&255,T>>16&255,T>>8&255,(T&255)/255):$===4?Pt(T>>12&15|T>>8&240,T>>8&15|T>>4&240,T>>4&15|T&240,((T&15)<<4|T&15)/255):null):(T=Gt.exec(x))?new rn(T[1],T[2],T[3],1):(T=fn.exec(x))?new rn(T[1]*255/100,T[2]*255/100,T[3]*255/100,1):(T=gn.exec(x))?Pt(T[1],T[2],T[3],T[4]):(T=yn.exec(x))?Pt(T[1]*255/100,T[2]*255/100,T[3]*255/100,T[4]):(T=Lt.exec(x))?Zn(T[1],T[2]/100,T[3]/100,1):(T=un.exec(x))?Zn(T[1],T[2]/100,T[3]/100,T[4]):Mn.hasOwnProperty(x)?De(Mn[x]):x==="transparent"?new rn(NaN,NaN,NaN,0):null}function De(x){return new rn(x>>16&255,x>>8&255,x&255,1)}function Pt(x,T,$,X){return X<=0&&(x=T=$=NaN),new rn(x,T,$,X)}function mt(x){return x instanceof Ke||(x=ze(x)),x?(x=x.rgb(),new rn(x.r,x.g,x.b,x.opacity)):new rn}function xt(x,T,$,X){return arguments.length===1?mt(x):new rn(x,T,$,X??1)}function rn(x,T,$,X){this.r=+x,this.g=+T,this.b=+$,this.opacity=+X}ce(rn,xt,tt(Ke,{brighter:function(x){return x=x==null?Oe:Math.pow(Oe,x),new rn(this.r*x,this.g*x,this.b*x,this.opacity)},darker:function(x){return x=x==null?re:Math.pow(re,x),new rn(this.r*x,this.g*x,this.b*x,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qt,formatHex:Qt,formatRgb:Fn,toString:Fn}));function Qt(){return"#"+Wn(this.r)+Wn(this.g)+Wn(this.b)}function Fn(){var x=this.opacity;return x=isNaN(x)?1:Math.max(0,Math.min(1,x)),(x===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(x===1?")":", "+x+")")}function Wn(x){return x=Math.max(0,Math.min(255,Math.round(x)||0)),(x<16?"0":"")+x.toString(16)}function Zn(x,T,$,X){return X<=0?x=T=$=NaN:$<=0||$>=1?x=T=NaN:T<=0&&(x=NaN),new Ye(x,T,$,X)}function Nn(x){if(x instanceof Ye)return new Ye(x.h,x.s,x.l,x.opacity);if(x instanceof Ke||(x=ze(x)),!x)return new Ye;if(x instanceof Ye)return x;x=x.rgb();var T=x.r/255,$=x.g/255,X=x.b/255,ge=Math.min(T,$,X),Fe=Math.max(T,$,X),ot=NaN,zt=Fe-ge,wn=(Fe+ge)/2;return zt?(T===Fe?ot=($-X)/zt+($<X)*6:$===Fe?ot=(X-T)/zt+2:ot=(T-$)/zt+4,zt/=wn<.5?Fe+ge:2-Fe-ge,ot*=60):zt=wn>0&&wn<1?0:ot,new Ye(ot,zt,wn,x.opacity)}function nr(x,T,$,X){return arguments.length===1?Nn(x):new Ye(x,T,$,X??1)}function Ye(x,T,$,X){this.h=+x,this.s=+T,this.l=+$,this.opacity=+X}ce(Ye,nr,tt(Ke,{brighter:function(x){return x=x==null?Oe:Math.pow(Oe,x),new Ye(this.h,this.s,this.l*x,this.opacity)},darker:function(x){return x=x==null?re:Math.pow(re,x),new Ye(this.h,this.s,this.l*x,this.opacity)},rgb:function(){var x=this.h%360+(this.h<0)*360,T=isNaN(x)||isNaN(this.s)?0:this.s,$=this.l,X=$+($<.5?$:1-$)*T,ge=2*$-X;return new rn(vt(x>=240?x-240:x+120,ge,X),vt(x,ge,X),vt(x<120?x+240:x-120,ge,X),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var x=this.opacity;return x=isNaN(x)?1:Math.max(0,Math.min(1,x)),(x===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(x===1?")":", "+x+")")}}));function vt(x,T,$){return(x<60?T+($-T)*x/60:x<180?$:x<240?T+($-T)*(240-x)/60:T)*255}let oe=Math.PI/180,Be=180/Math.PI,rt=18,Dt=.96422,hn=1,an=.82521,dt=4/29,ie=6/29,Te=3*ie*ie,Ue=ie*ie*ie;function gt(x){if(x instanceof Rt)return new Rt(x.l,x.a,x.b,x.opacity);if(x instanceof Cn)return En(x);x instanceof rn||(x=mt(x));var T=st(x.r),$=st(x.g),X=st(x.b),ge=ne((.2225045*T+.7168786*$+.0606169*X)/hn),Fe,ot;return T===$&&$===X?Fe=ot=ge:(Fe=ne((.4360747*T+.3850649*$+.1430804*X)/Dt),ot=ne((.0139322*T+.0971045*$+.7141733*X)/an)),new Rt(116*ge-16,500*(Fe-ge),200*(ge-ot),x.opacity)}function St(x,T,$,X){return arguments.length===1?gt(x):new Rt(x,T,$,X??1)}function Rt(x,T,$,X){this.l=+x,this.a=+T,this.b=+$,this.opacity=+X}ce(Rt,St,tt(Ke,{brighter:function(x){return new Rt(this.l+rt*(x??1),this.a,this.b,this.opacity)},darker:function(x){return new Rt(this.l-rt*(x??1),this.a,this.b,this.opacity)},rgb:function(){var x=(this.l+16)/116,T=isNaN(this.a)?x:x+this.a/500,$=isNaN(this.b)?x:x-this.b/200;return T=Dt*Ce(T),x=hn*Ce(x),$=an*Ce($),new rn(We(3.1338561*T-1.6168667*x-.4906146*$),We(-.9787684*T+1.9161415*x+.033454*$),We(.0719453*T-.2289914*x+1.4052427*$),this.opacity)}}));function ne(x){return x>Ue?Math.pow(x,1/3):x/Te+dt}function Ce(x){return x>ie?x*x*x:Te*(x-dt)}function We(x){return 255*(x<=.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function st(x){return(x/=255)<=.04045?x/12.92:Math.pow((x+.055)/1.055,2.4)}function Ut(x){if(x instanceof Cn)return new Cn(x.h,x.c,x.l,x.opacity);if(x instanceof Rt||(x=gt(x)),x.a===0&&x.b===0)return new Cn(NaN,0<x.l&&x.l<100?0:NaN,x.l,x.opacity);var T=Math.atan2(x.b,x.a)*Be;return new Cn(T<0?T+360:T,Math.sqrt(x.a*x.a+x.b*x.b),x.l,x.opacity)}function sn(x,T,$,X){return arguments.length===1?Ut(x):new Cn(x,T,$,X??1)}function Cn(x,T,$,X){this.h=+x,this.c=+T,this.l=+$,this.opacity=+X}function En(x){if(isNaN(x.h))return new Rt(x.l,0,0,x.opacity);var T=x.h*oe;return new Rt(x.l,Math.cos(T)*x.c,Math.sin(T)*x.c,x.opacity)}ce(Cn,sn,tt(Ke,{brighter:function(x){return new Cn(this.h,this.c,this.l+rt*(x??1),this.opacity)},darker:function(x){return new Cn(this.h,this.c,this.l-rt*(x??1),this.opacity)},rgb:function(){return En(this).rgb()}}));var vn=-.14861,zn=1.78277,Re=-.29227,$e=-.90649,Ft=1.97294,N=Ft*$e,V=Ft*zn,Ee=zn*Re-$e*vn;function xe(x){if(x instanceof ae)return new ae(x.h,x.s,x.l,x.opacity);x instanceof rn||(x=mt(x));var T=x.r/255,$=x.g/255,X=x.b/255,ge=(Ee*X+N*T-V*$)/(Ee+N-V),Fe=X-ge,ot=(Ft*($-ge)-Re*Fe)/$e,zt=Math.sqrt(ot*ot+Fe*Fe)/(Ft*ge*(1-ge)),wn=zt?Math.atan2(ot,Fe)*Be-120:NaN;return new ae(wn<0?wn+360:wn,zt,ge,x.opacity)}function K(x,T,$,X){return arguments.length===1?xe(x):new ae(x,T,$,X??1)}function ae(x,T,$,X){this.h=+x,this.s=+T,this.l=+$,this.opacity=+X}ce(ae,K,tt(Ke,{brighter:function(x){return x=x==null?Oe:Math.pow(Oe,x),new ae(this.h,this.s,this.l*x,this.opacity)},darker:function(x){return x=x==null?re:Math.pow(re,x),new ae(this.h,this.s,this.l*x,this.opacity)},rgb:function(){var x=isNaN(this.h)?0:(this.h+120)*oe,T=+this.l,$=isNaN(this.s)?0:this.s*T*(1-T),X=Math.cos(x),ge=Math.sin(x);return new rn(255*(T+$*(vn*X+zn*ge)),255*(T+$*(Re*X+$e*ge)),255*(T+$*(Ft*X)),this.opacity)}}));function fe(x,T,$,X,ge){var Fe=x*x,ot=Fe*x;return((1-3*x+3*Fe-ot)*T+(4-6*Fe+3*ot)*$+(1+3*x+3*Fe-3*ot)*X+ot*ge)/6}function Qe(x){var T=x.length-1;return function($){var X=$<=0?$=0:$>=1?($=1,T-1):Math.floor($*T),ge=x[X],Fe=x[X+1],ot=X>0?x[X-1]:2*ge-Fe,zt=X<T-1?x[X+2]:2*Fe-ge;return fe(($-X/T)*T,ot,ge,Fe,zt)}}function It(x){var T=x.length;return function($){var X=Math.floor((($%=1)<0?++$:$)*T),ge=x[(X+T-1)%T],Fe=x[X%T],ot=x[(X+1)%T],zt=x[(X+2)%T];return fe(($-X/T)*T,ge,Fe,ot,zt)}}var At=x=>()=>x;function dn(x,T){return function($){return x+$*T}}function w(x,T,$){return x=Math.pow(x,$),T=Math.pow(T,$)-x,$=1/$,function(X){return Math.pow(x+X*T,$)}}function j(x,T){var $=T-x;return $?dn(x,$>180||$<-180?$-360*Math.round($/360):$):At(isNaN(x)?T:x)}function ee(x){return(x=+x)==1?Se:function(T,$){return $-T?w(T,$,x):At(isNaN(T)?$:T)}}function Se(x,T){var $=T-x;return $?dn(x,$):At(isNaN(x)?T:x)}var ht=function x(T){var $=ee(T);function X(ge,Fe){var ot=$((ge=xt(ge)).r,(Fe=xt(Fe)).r),zt=$(ge.g,Fe.g),wn=$(ge.b,Fe.b),Sn=Se(ge.opacity,Fe.opacity);return function(Pn){return ge.r=ot(Pn),ge.g=zt(Pn),ge.b=wn(Pn),ge.opacity=Sn(Pn),ge+""}}return X.gamma=x,X}(1);function Tt(x){return function(T){var $=T.length,X=new Array($),ge=new Array($),Fe=new Array($),ot,zt;for(ot=0;ot<$;++ot)zt=xt(T[ot]),X[ot]=zt.r||0,ge[ot]=zt.g||0,Fe[ot]=zt.b||0;return X=x(X),ge=x(ge),Fe=x(Fe),zt.opacity=1,function(wn){return zt.r=X(wn),zt.g=ge(wn),zt.b=Fe(wn),zt+""}}}var Zt=Tt(Qe),Xt=Tt(It);function xn(x,T){T||(T=[]);var $=x?Math.min(T.length,x.length):0,X=T.slice(),ge;return function(Fe){for(ge=0;ge<$;++ge)X[ge]=x[ge]*(1-Fe)+T[ge]*Fe;return X}}function qn(x){return ArrayBuffer.isView(x)&&!(x instanceof DataView)}function Un(x,T){return(qn(T)?xn:Vn)(x,T)}function Vn(x,T){var $=T?T.length:0,X=x?Math.min($,x.length):0,ge=new Array(X),Fe=new Array($),ot;for(ot=0;ot<X;++ot)ge[ot]=ts(x[ot],T[ot]);for(;ot<$;++ot)Fe[ot]=T[ot];return function(zt){for(ot=0;ot<X;++ot)Fe[ot]=ge[ot](zt);return Fe}}function Jr(x,T){var $=new Date;return x=+x,T=+T,function(X){return $.setTime(x*(1-X)+T*X),$}}function Vr(x,T){return x=+x,T=+T,function($){return x*(1-$)+T*$}}function yr(x,T){var $={},X={},ge;(x===null||typeof x!="object")&&(x={}),(T===null||typeof T!="object")&&(T={});for(ge in T)ge in x?$[ge]=ts(x[ge],T[ge]):X[ge]=T[ge];return function(Fe){for(ge in $)X[ge]=$[ge](Fe);return X}}var Mr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xi=new RegExp(Mr.source,"g");function ai(x){return function(){return x}}function Xi(x){return function(T){return x(T)+""}}function ws(x,T){var $=Mr.lastIndex=xi.lastIndex=0,X,ge,Fe,ot=-1,zt=[],wn=[];for(x=x+"",T=T+"";(X=Mr.exec(x))&&(ge=xi.exec(T));)(Fe=ge.index)>$&&(Fe=T.slice($,Fe),zt[ot]?zt[ot]+=Fe:zt[++ot]=Fe),(X=X[0])===(ge=ge[0])?zt[ot]?zt[ot]+=ge:zt[++ot]=ge:(zt[++ot]=null,wn.push({i:ot,x:Vr(X,ge)})),$=xi.lastIndex;return $<T.length&&(Fe=T.slice($),zt[ot]?zt[ot]+=Fe:zt[++ot]=Fe),zt.length<2?wn[0]?Xi(wn[0].x):ai(T):(T=wn.length,function(Sn){for(var Pn=0,Hn;Pn<T;++Pn)zt[(Hn=wn[Pn]).i]=Hn.x(Sn);return zt.join("")})}function ts(x,T){var $=typeof T,X;return T==null||$==="boolean"?At(T):($==="number"?Vr:$==="string"?(X=ze(T))?(T=X,ht):ws:T instanceof ze?ht:T instanceof Date?Jr:qn(T)?xn:Array.isArray(T)?Vn:typeof T.valueOf!="function"&&typeof T.toString!="function"||isNaN(T)?yr:Vr)(x,T)}function Aa(x){var T=x.length;return function($){return x[Math.max(0,Math.min(T-1,Math.floor($*T)))]}}function xa(x,T){var $=j(+x,+T);return function(X){var ge=$(X);return ge-360*Math.floor(ge/360)}}function yl(x,T){return x=+x,T=+T,function($){return Math.round(x*(1-$)+T*$)}}var Nc=180/Math.PI,fu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function du(x,T,$,X,ge,Fe){var ot,zt,wn;return(ot=Math.sqrt(x*x+T*T))&&(x/=ot,T/=ot),(wn=x*$+T*X)&&($-=x*wn,X-=T*wn),(zt=Math.sqrt($*$+X*X))&&($/=zt,X/=zt,wn/=zt),x*X<T*$&&(x=-x,T=-T,wn=-wn,ot=-ot),{translateX:ge,translateY:Fe,rotate:Math.atan2(T,x)*Nc,skewX:Math.atan(wn)*Nc,scaleX:ot,scaleY:zt}}var Xu;function Du(x){let T=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(x+"");return T.isIdentity?fu:du(T.a,T.b,T.c,T.d,T.e,T.f)}function Lc(x){return x==null||(Xu||(Xu=document.createElementNS("http://www.w3.org/2000/svg","g")),Xu.setAttribute("transform",x),!(x=Xu.transform.baseVal.consolidate()))?fu:(x=x.matrix,du(x.a,x.b,x.c,x.d,x.e,x.f))}function na(x,T,$,X){function ge(Sn){return Sn.length?Sn.pop()+" ":""}function Fe(Sn,Pn,Hn,or,Or,Kr){if(Sn!==Hn||Pn!==or){var Lr=Or.push("translate(",null,T,null,$);Kr.push({i:Lr-4,x:Vr(Sn,Hn)},{i:Lr-2,x:Vr(Pn,or)})}else(Hn||or)&&Or.push("translate("+Hn+T+or+$)}function ot(Sn,Pn,Hn,or){Sn!==Pn?(Sn-Pn>180?Pn+=360:Pn-Sn>180&&(Sn+=360),or.push({i:Hn.push(ge(Hn)+"rotate(",null,X)-2,x:Vr(Sn,Pn)})):Pn&&Hn.push(ge(Hn)+"rotate("+Pn+X)}function zt(Sn,Pn,Hn,or){Sn!==Pn?or.push({i:Hn.push(ge(Hn)+"skewX(",null,X)-2,x:Vr(Sn,Pn)}):Pn&&Hn.push(ge(Hn)+"skewX("+Pn+X)}function wn(Sn,Pn,Hn,or,Or,Kr){if(Sn!==Hn||Pn!==or){var Lr=Or.push(ge(Or)+"scale(",null,",",null,")");Kr.push({i:Lr-4,x:Vr(Sn,Hn)},{i:Lr-2,x:Vr(Pn,or)})}else(Hn!==1||or!==1)&&Or.push(ge(Or)+"scale("+Hn+","+or+")")}return function(Sn,Pn){var Hn=[],or=[];return Sn=x(Sn),Pn=x(Pn),Fe(Sn.translateX,Sn.translateY,Pn.translateX,Pn.translateY,Hn,or),ot(Sn.rotate,Pn.rotate,Hn,or),zt(Sn.skewX,Pn.skewX,Hn,or),wn(Sn.scaleX,Sn.scaleY,Pn.scaleX,Pn.scaleY,Hn,or),Sn=Pn=null,function(Or){for(var Kr=-1,Lr=or.length,bi;++Kr<Lr;)Hn[(bi=or[Kr]).i]=bi.x(Or);return Hn.join("")}}}var Zu=na(Du,"px, ","px)","deg)"),nf=na(Lc,", ",")",")"),Ge=1e-12;function Kt(x){return((x=Math.exp(x))+1/x)/2}function jn(x){return((x=Math.exp(x))-1/x)/2}function Yn(x){return((x=Math.exp(2*x))-1)/(x+1)}var ri=function x(T,$,X){function ge(Fe,ot){var zt=Fe[0],wn=Fe[1],Sn=Fe[2],Pn=ot[0],Hn=ot[1],or=ot[2],Or=Pn-zt,Kr=Hn-wn,Lr=Or*Or+Kr*Kr,bi,ki;if(Lr<Ge)ki=Math.log(or/Sn)/T,bi=function(Ki){return[zt+Ki*Or,wn+Ki*Kr,Sn*Math.exp(T*Ki*ki)]};else{var Os=Math.sqrt(Lr),ds=(or*or-Sn*Sn+X*Lr)/(2*Sn*$*Os),Zs=(or*or-Sn*Sn-X*Lr)/(2*or*$*Os),gs=Math.log(Math.sqrt(ds*ds+1)-ds),Gr=Math.log(Math.sqrt(Zs*Zs+1)-Zs);ki=(Gr-gs)/T,bi=function(Ki){var Ba=Ki*ki,tu=Kt(gs),Iu=Sn/($*Os)*(tu*Yn(T*Ba+gs)-jn(gs));return[zt+Iu*Or,wn+Iu*Kr,Sn*tu/Kt(T*Ba+gs)]}}return bi.duration=ki*1e3*T/Math.SQRT2,bi}return ge.rho=function(Fe){var ot=Math.max(.001,+Fe),zt=ot*ot,wn=zt*zt;return x(ot,zt,wn)},ge}(Math.SQRT2,2,4);function Br(x){return function(T,$){var X=x((T=nr(T)).h,($=nr($)).h),ge=Se(T.s,$.s),Fe=Se(T.l,$.l),ot=Se(T.opacity,$.opacity);return function(zt){return T.h=X(zt),T.s=ge(zt),T.l=Fe(zt),T.opacity=ot(zt),T+""}}}var Xr=Br(j),As=Br(Se);function fo(x,T){var $=Se((x=St(x)).l,(T=St(T)).l),X=Se(x.a,T.a),ge=Se(x.b,T.b),Fe=Se(x.opacity,T.opacity);return function(ot){return x.l=$(ot),x.a=X(ot),x.b=ge(ot),x.opacity=Fe(ot),x+""}}function io(x){return function(T,$){var X=x((T=sn(T)).h,($=sn($)).h),ge=Se(T.c,$.c),Fe=Se(T.l,$.l),ot=Se(T.opacity,$.opacity);return function(zt){return T.h=X(zt),T.c=ge(zt),T.l=Fe(zt),T.opacity=ot(zt),T+""}}}var us=io(j),so=io(Se);function ho(x){return function T($){$=+$;function X(ge,Fe){var ot=x((ge=K(ge)).h,(Fe=K(Fe)).h),zt=Se(ge.s,Fe.s),wn=Se(ge.l,Fe.l),Sn=Se(ge.opacity,Fe.opacity);return function(Pn){return ge.h=ot(Pn),ge.s=zt(Pn),ge.l=wn(Math.pow(Pn,$)),ge.opacity=Sn(Pn),ge+""}}return X.gamma=T,X}(1)}var hi=ho(j),Ei=ho(Se);function Wi(x,T){T===void 0&&(T=x,x=ts);for(var $=0,X=T.length-1,ge=T[0],Fe=new Array(X<0?0:X);$<X;)Fe[$]=x(ge,ge=T[++$]);return function(ot){var zt=Math.max(0,Math.min(X-1,Math.floor(ot*=X)));return Fe[zt](ot-zt)}}function Xo(x,T){for(var $=new Array(T),X=0;X<T;++X)$[X]=x(X/(T-1));return $}var da=Object.freeze({__proto__:null,interpolate:ts,interpolateArray:Un,interpolateBasis:Qe,interpolateBasisClosed:It,interpolateDate:Jr,interpolateDiscrete:Aa,interpolateHue:xa,interpolateNumber:Vr,interpolateNumberArray:xn,interpolateObject:yr,interpolateRound:yl,interpolateString:ws,interpolateTransformCss:Zu,interpolateTransformSvg:nf,interpolateZoom:ri,interpolateRgb:ht,interpolateRgbBasis:Zt,interpolateRgbBasisClosed:Xt,interpolateHsl:Xr,interpolateHslLong:As,interpolateLab:fo,interpolateHcl:us,interpolateHclLong:so,interpolateCubehelix:hi,interpolateCubehelixLong:Ei,piecewise:Wi,quantize:Xo});function ha(x){return function(){return x}}function po(x){return+x}var ls=[0,1];function ps(x){return x}function Zi(x,T){return(T-=x=+x)?function($){return($-x)/T}:ha(isNaN(T)?NaN:.5)}function hu(x,T){var $;return x>T&&($=x,x=T,T=$),function(X){return Math.max(x,Math.min(T,X))}}function Ps(x,T,$){var X=x[0],ge=x[1],Fe=T[0],ot=T[1];return ge<X?(X=Zi(ge,X),Fe=$(ot,Fe)):(X=Zi(X,ge),Fe=$(Fe,ot)),function(zt){return Fe(X(zt))}}function ga(x,T,$){var X=Math.min(x.length,T.length)-1,ge=new Array(X),Fe=new Array(X),ot=-1;for(x[X]<x[0]&&(x=x.slice().reverse(),T=T.slice().reverse());++ot<X;)ge[ot]=Zi(x[ot],x[ot+1]),Fe[ot]=$(T[ot],T[ot+1]);return function(zt){var wn=te(x,zt,1,X)-1;return Fe[wn](ge[wn](zt))}}function aa(x,T){return T.domain(x.domain()).range(x.range()).interpolate(x.interpolate()).clamp(x.clamp()).unknown(x.unknown())}function Ri(){var x=ls,T=ls,$=ts,X,ge,Fe,ot=ps,zt,wn,Sn;function Pn(){var or=Math.min(x.length,T.length);return ot!==ps&&(ot=hu(x[0],x[or-1])),zt=or>2?ga:Ps,wn=Sn=null,Hn}function Hn(or){return or==null||isNaN(or=+or)?Fe:(wn||(wn=zt(x.map(X),T,$)))(X(ot(or)))}return Hn.invert=function(or){return ot(ge((Sn||(Sn=zt(T,x.map(X),Vr)))(or)))},Hn.domain=function(or){return arguments.length?(x=Array.from(or,po),Pn()):x.slice()},Hn.range=function(or){return arguments.length?(T=Array.from(or),Pn()):T.slice()},Hn.rangeRound=function(or){return T=Array.from(or),$=yl,Pn()},Hn.clamp=function(or){return arguments.length?(ot=or?!0:ps,Pn()):ot!==ps},Hn.interpolate=function(or){return arguments.length?($=or,Pn()):$},Hn.unknown=function(or){return arguments.length?(Fe=or,Hn):Fe},function(or,Or){return X=or,ge=Or,Pn()}}function Wo(){return Ri()(ps,ps)}function vs(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)}function Ii(x,T){if(($=(x=T?x.toExponential(T-1):x.toExponential()).indexOf("e"))<0)return null;var $,X=x.slice(0,$);return[X.length>1?X[0]+X.slice(2):X,+x.slice($+1)]}function Oo(x){return x=Ii(Math.abs(x)),x?x[1]:NaN}function ka(x,T){return function($,X){for(var ge=$.length,Fe=[],ot=0,zt=x[0],wn=0;ge>0&&zt>0&&(wn+zt+1>X&&(zt=Math.max(1,X-wn)),Fe.push($.substring(ge-=zt,ge+zt)),!((wn+=zt+1)>X));)zt=x[ot=(ot+1)%x.length];return Fe.reverse().join(T)}}function Xa(x){return function(T){return T.replace(/[0-9]/g,function($){return x[+$]})}}var Ro=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function To(x){if(!(T=Ro.exec(x)))throw new Error("invalid format: "+x);var T;return new $a({fill:T[1],align:T[2],sign:T[3],symbol:T[4],zero:T[5],width:T[6],comma:T[7],precision:T[8]&&T[8].slice(1),trim:T[9],type:T[10]})}To.prototype=$a.prototype;function $a(x){this.fill=x.fill===void 0?" ":x.fill+"",this.align=x.align===void 0?">":x.align+"",this.sign=x.sign===void 0?"-":x.sign+"",this.symbol=x.symbol===void 0?"":x.symbol+"",this.zero=!!x.zero,this.width=x.width===void 0?void 0:+x.width,this.comma=!!x.comma,this.precision=x.precision===void 0?void 0:+x.precision,this.trim=!!x.trim,this.type=x.type===void 0?"":x.type+""}$a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pu(x){e:for(var T=x.length,$=1,X=-1,ge;$<T;++$)switch(x[$]){case".":X=ge=$;break;case"0":X===0&&(X=$),ge=$;break;default:if(!+x[$])break e;X>0&&(X=0);break}return X>0?x.slice(0,X)+x.slice(ge+1):x}var za;function ua(x,T){var $=Ii(x,T);if(!$)return x+"";var X=$[0],ge=$[1],Fe=ge-(za=Math.max(-8,Math.min(8,Math.floor(ge/3)))*3)+1,ot=X.length;return Fe===ot?X:Fe>ot?X+new Array(Fe-ot+1).join("0"):Fe>0?X.slice(0,Fe)+"."+X.slice(Fe):"0."+new Array(1-Fe).join("0")+Ii(x,Math.max(0,T+Fe-1))[0]}function la(x,T){var $=Ii(x,T);if(!$)return x+"";var X=$[0],ge=$[1];return ge<0?"0."+new Array(-ge).join("0")+X:X.length>ge+1?X.slice(0,ge+1)+"."+X.slice(ge+1):X+new Array(ge-X.length+2).join("0")}var vl={"%":(x,T)=>(x*100).toFixed(T),b:x=>Math.round(x).toString(2),c:x=>x+"",d:vs,e:(x,T)=>x.toExponential(T),f:(x,T)=>x.toFixed(T),g:(x,T)=>x.toPrecision(T),o:x=>Math.round(x).toString(8),p:(x,T)=>la(x*100,T),r:la,s:ua,X:x=>Math.round(x).toString(16).toUpperCase(),x:x=>Math.round(x).toString(16)};function Hl(x){return x}var ra=Array.prototype.map,el=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function ui(x){var T=x.grouping===void 0||x.thousands===void 0?Hl:ka(ra.call(x.grouping,Number),x.thousands+""),$=x.currency===void 0?"":x.currency[0]+"",X=x.currency===void 0?"":x.currency[1]+"",ge=x.decimal===void 0?".":x.decimal+"",Fe=x.numerals===void 0?Hl:Xa(ra.call(x.numerals,String)),ot=x.percent===void 0?"%":x.percent+"",zt=x.minus===void 0?"\u2212":x.minus+"",wn=x.nan===void 0?"NaN":x.nan+"";function Sn(Hn){Hn=To(Hn);var or=Hn.fill,Or=Hn.align,Kr=Hn.sign,Lr=Hn.symbol,bi=Hn.zero,ki=Hn.width,Os=Hn.comma,ds=Hn.precision,Zs=Hn.trim,gs=Hn.type;gs==="n"?(Os=!0,gs="g"):vl[gs]||(ds===void 0&&(ds=12),Zs=!0,gs="g"),(bi||or==="0"&&Or==="=")&&(bi=!0,or="0",Or="=");var Gr=Lr==="$"?$:Lr==="#"&&/[boxX]/.test(gs)?"0"+gs.toLowerCase():"",Ki=Lr==="$"?X:/[%p]/.test(gs)?ot:"",Ba=vl[gs],tu=/[defgprs%]/.test(gs);ds=ds===void 0?6:/[gprs]/.test(gs)?Math.max(1,Math.min(21,ds)):Math.max(0,Math.min(20,ds));function Iu(bs){var Ta=Gr,Va=Ki,Dl,Wd,ol;if(gs==="c")Va=Ba(bs)+Va,bs="";else{bs=+bs;var y0=bs<0||1/bs<0;if(bs=isNaN(bs)?wn:Ba(Math.abs(bs),ds),Zs&&(bs=pu(bs)),y0&&+bs==0&&Kr!=="+"&&(y0=!1),Ta=(y0?Kr==="("?Kr:zt:Kr==="-"||Kr==="("?"":Kr)+Ta,Va=(gs==="s"?el[8+za/3]:"")+Va+(y0&&Kr==="("?")":""),tu){for(Dl=-1,Wd=bs.length;++Dl<Wd;)if(ol=bs.charCodeAt(Dl),48>ol||ol>57){Va=(ol===46?ge+bs.slice(Dl+1):bs.slice(Dl))+Va,bs=bs.slice(0,Dl);break}}}Os&&!bi&&(bs=T(bs,1/0));var Ea=Ta.length+bs.length+Va.length,dc=Ea<ki?new Array(ki-Ea+1).join(or):"";switch(Os&&bi&&(bs=T(dc+bs,dc.length?ki-Va.length:1/0),dc=""),Or){case"<":bs=Ta+bs+Va+dc;break;case"=":bs=Ta+dc+bs+Va;break;case"^":bs=dc.slice(0,Ea=dc.length>>1)+Ta+bs+Va+dc.slice(Ea);break;default:bs=dc+Ta+bs+Va;break}return Fe(bs)}return Iu.toString=function(){return Hn+""},Iu}function Pn(Hn,or){var Or=Sn((Hn=To(Hn),Hn.type="f",Hn)),Kr=Math.max(-8,Math.min(8,Math.floor(Oo(or)/3)))*3,Lr=Math.pow(10,-Kr),bi=el[8+Kr/3];return function(ki){return Or(Lr*ki)+bi}}return{format:Sn,formatPrefix:Pn}}var rs,cs,mr;is({thousands:",",grouping:[3],currency:["$",""]});function is(x){return rs=ui(x),cs=rs.format,mr=rs.formatPrefix,rs}function Ie(x){return Math.max(0,-Oo(Math.abs(x)))}function yt(x,T){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Oo(T)/3)))*3-Oo(Math.abs(x)))}function Jt(x,T){return x=Math.abs(x),T=Math.abs(T)-x,Math.max(0,Oo(T)-Oo(x))+1}function $t(x,T,$,X){var ge=kt(x,T,$),Fe;switch(X=To(X??",f"),X.type){case"s":{var ot=Math.max(Math.abs(x),Math.abs(T));return X.precision==null&&!isNaN(Fe=yt(ge,ot))&&(X.precision=Fe),mr(X,ot)}case"":case"e":case"g":case"p":case"r":{X.precision==null&&!isNaN(Fe=Jt(ge,Math.max(Math.abs(x),Math.abs(T))))&&(X.precision=Fe-(X.type==="e"));break}case"f":case"%":{X.precision==null&&!isNaN(Fe=Ie(ge))&&(X.precision=Fe-(X.type==="%")*2);break}}return cs(X)}function pn(x){var T=x.domain;return x.ticks=function($){var X=T();return Ct(X[0],X[X.length-1],$??10)},x.tickFormat=function($,X){var ge=T();return $t(ge[0],ge[ge.length-1],$??10,X)},x.nice=function($){$==null&&($=10);var X=T(),ge=0,Fe=X.length-1,ot=X[ge],zt=X[Fe],wn,Sn,Pn=10;for(zt<ot&&(Sn=ot,ot=zt,zt=Sn,Sn=ge,ge=Fe,Fe=Sn);Pn-- >0;){if(Sn=mn(ot,zt,$),Sn===wn)return X[ge]=ot,X[Fe]=zt,T(X);if(Sn>0)ot=Math.floor(ot/Sn)*Sn,zt=Math.ceil(zt/Sn)*Sn;else if(Sn<0)ot=Math.ceil(ot*Sn)/Sn,zt=Math.floor(zt*Sn)/Sn;else break;wn=Sn}return x},x}function Ln(){var x=Wo();return x.copy=function(){return aa(x,Ln())},bt.apply(x,arguments),pn(x)}function Kn(x){var T;function $(X){return X==null||isNaN(X=+X)?T:X}return $.invert=$,$.domain=$.range=function(X){return arguments.length?(x=Array.from(X,po),$):x.slice()},$.unknown=function(X){return arguments.length?(T=X,$):T},$.copy=function(){return Kn(x).unknown(T)},x=arguments.length?Array.from(x,po):[0,1],pn($)}function $n(x,T){x=x.slice();var $=0,X=x.length-1,ge=x[$],Fe=x[X],ot;return Fe<ge&&(ot=$,$=X,X=ot,ot=ge,ge=Fe,Fe=ot),x[$]=T.floor(ge),x[X]=T.ceil(Fe),x}function br(x){return Math.log(x)}function Cr(x){return Math.exp(x)}function Gn(x){return-Math.log(-x)}function ar(x){return-Math.exp(-x)}function er(x){return isFinite(x)?+("1e"+x):x<0?0:x}function gr(x){return x===10?er:x===Math.E?Math.exp:T=>Math.pow(x,T)}function Rr(x){return x===Math.E?Math.log:x===10&&Math.log10||x===2&&Math.log2||(x=Math.log(x),T=>Math.log(T)/x)}function di(x){return(T,$)=>-x(-T,$)}function ni(x){let T=x(br,Cr),$=T.domain,X=10,ge,Fe;function ot(){return ge=Rr(X),Fe=gr(X),$()[0]<0?(ge=di(ge),Fe=di(Fe),x(Gn,ar)):x(br,Cr),T}return T.base=function(zt){return arguments.length?(X=+zt,ot()):X},T.domain=function(zt){return arguments.length?($(zt),ot()):$()},T.ticks=zt=>{let wn=$(),Sn=wn[0],Pn=wn[wn.length-1],Hn=Pn<Sn;Hn&&([Sn,Pn]=[Pn,Sn]);let or=ge(Sn),Or=ge(Pn),Kr,Lr,bi=zt==null?10:+zt,ki=[];if(!(X%1)&&Or-or<bi){if(or=Math.floor(or),Or=Math.ceil(Or),Sn>0){for(;or<=Or;++or)for(Kr=1;Kr<X;++Kr)if(Lr=or<0?Kr/Fe(-or):Kr*Fe(or),!(Lr<Sn)){if(Lr>Pn)break;ki.push(Lr)}}else for(;or<=Or;++or)for(Kr=X-1;Kr>=1;--Kr)if(Lr=or>0?Kr/Fe(-or):Kr*Fe(or),!(Lr<Sn)){if(Lr>Pn)break;ki.push(Lr)}ki.length*2<bi&&(ki=Ct(Sn,Pn,bi))}else ki=Ct(or,Or,Math.min(Or-or,bi)).map(Fe);return Hn?ki.reverse():ki},T.tickFormat=(zt,wn)=>{if(zt==null&&(zt=10),wn==null&&(wn=X===10?"s":","),typeof wn!="function"&&(!(X%1)&&(wn=To(wn)).precision==null&&(wn.trim=!0),wn=cs(wn)),zt===1/0)return wn;let Sn=Math.max(1,X*zt/T.ticks().length);return Pn=>{let Hn=Pn/Fe(Math.round(ge(Pn)));return Hn*X<X-.5&&(Hn*=X),Hn<=Sn?wn(Pn):""}},T.nice=()=>$($n($(),{floor:zt=>Fe(Math.floor(ge(zt))),ceil:zt=>Fe(Math.ceil(ge(zt)))})),T}function pi(){let x=ni(Ri()).domain([1,10]);return x.copy=()=>aa(x,pi()).base(x.base()),bt.apply(x,arguments),x}function ii(x){return function(T){return Math.sign(T)*Math.log1p(Math.abs(T/x))}}function qr(x){return function(T){return Math.sign(T)*Math.expm1(Math.abs(T))*x}}function Ir(x){var T=1,$=x(ii(T),qr(T));return $.constant=function(X){return arguments.length?x(ii(T=+X),qr(T)):T},pn($)}function yi(){var x=Ir(Ri());return x.copy=function(){return aa(x,yi()).constant(x.constant())},bt.apply(x,arguments)}function gi(x){return function(T){return T<0?-Math.pow(-T,x):Math.pow(T,x)}}function os(x){return x<0?-Math.sqrt(-x):Math.sqrt(x)}function xs(x){return x<0?-x*x:x*x}function vi(x){var T=x(ps,ps),$=1;function X(){return $===1?x(ps,ps):$===.5?x(os,xs):x(gi($),gi(1/$))}return T.exponent=function(ge){return arguments.length?($=+ge,X()):$},pn(T)}function Bs(){var x=vi(Ri());return x.copy=function(){return aa(x,Bs()).exponent(x.exponent())},bt.apply(x,arguments),x}function ss(){return Bs.apply(null,arguments).exponent(.5)}function ya(){var x=[],T=[],$=[],X;function ge(){var ot=0,zt=Math.max(1,T.length);for($=new Array(zt-1);++ot<zt;)$[ot-1]=Bt(x,ot/zt);return Fe}function Fe(ot){return ot==null||isNaN(ot=+ot)?X:T[te($,ot)]}return Fe.invertExtent=function(ot){var zt=T.indexOf(ot);return zt<0?[NaN,NaN]:[zt>0?$[zt-1]:x[0],zt<$.length?$[zt]:x[x.length-1]]},Fe.domain=function(ot){if(!arguments.length)return x.slice();x=[];for(let zt of ot)zt!=null&&!isNaN(zt=+zt)&&x.push(zt);return x.sort(ct),ge()},Fe.range=function(ot){return arguments.length?(T=Array.from(ot),ge()):T.slice()},Fe.unknown=function(ot){return arguments.length?(X=ot,Fe):X},Fe.quantiles=function(){return $.slice()},Fe.copy=function(){return ya().domain(x).range(T).unknown(X)},bt.apply(Fe,arguments)}function No(){var x=0,T=1,$=1,X=[.5],ge=[0,1],Fe;function ot(wn){return wn!=null&&wn<=wn?ge[te(X,wn,0,$)]:Fe}function zt(){var wn=-1;for(X=new Array($);++wn<$;)X[wn]=((wn+1)*T-(wn-$)*x)/($+1);return ot}return ot.domain=function(wn){return arguments.length?([x,T]=wn,x=+x,T=+T,zt()):[x,T]},ot.range=function(wn){return arguments.length?($=(ge=Array.from(wn)).length-1,zt()):ge.slice()},ot.invertExtent=function(wn){var Sn=ge.indexOf(wn);return Sn<0?[NaN,NaN]:Sn<1?[x,X[0]]:Sn>=$?[X[$-1],T]:[X[Sn-1],X[Sn]]},ot.unknown=function(wn){return arguments.length&&(Fe=wn),ot},ot.thresholds=function(){return X.slice()},ot.copy=function(){return No().domain([x,T]).range(ge).unknown(Fe)},bt.apply(pn(ot),arguments)}function Ts(){var x=[.5],T=[0,1],$,X=1;function ge(Fe){return Fe!=null&&Fe<=Fe?T[te(x,Fe,0,X)]:$}return ge.domain=function(Fe){return arguments.length?(x=Array.from(Fe),X=Math.min(x.length,T.length-1),ge):x.slice()},ge.range=function(Fe){return arguments.length?(T=Array.from(Fe),X=Math.min(x.length,T.length-1),ge):T.slice()},ge.invertExtent=function(Fe){var ot=T.indexOf(Fe);return[x[ot-1],x[ot]]},ge.unknown=function(Fe){return arguments.length?($=Fe,ge):$},ge.copy=function(){return Ts().domain(x).range(T).unknown($)},bt.apply(ge,arguments)}var nn=new Date,Jn=new Date;function bn(x,T,$,X){function ge(Fe){return x(Fe=arguments.length===0?new Date:new Date(+Fe)),Fe}return ge.floor=function(Fe){return x(Fe=new Date(+Fe)),Fe},ge.ceil=function(Fe){return x(Fe=new Date(Fe-1)),T(Fe,1),x(Fe),Fe},ge.round=function(Fe){var ot=ge(Fe),zt=ge.ceil(Fe);return Fe-ot<zt-Fe?ot:zt},ge.offset=function(Fe,ot){return T(Fe=new Date(+Fe),ot==null?1:Math.floor(ot)),Fe},ge.range=function(Fe,ot,zt){var wn=[],Sn;if(Fe=ge.ceil(Fe),zt=zt==null?1:Math.floor(zt),!(Fe<ot)||!(zt>0))return wn;do wn.push(Sn=new Date(+Fe)),T(Fe,zt),x(Fe);while(Sn<Fe&&Fe<ot);return wn},ge.filter=function(Fe){return bn(function(ot){if(ot>=ot)for(;x(ot),!Fe(ot);)ot.setTime(ot-1)},function(ot,zt){if(ot>=ot)if(zt<0)for(;++zt<=0;)for(;T(ot,-1),!Fe(ot););else for(;--zt>=0;)for(;T(ot,1),!Fe(ot););})},$&&(ge.count=function(Fe,ot){return nn.setTime(+Fe),Jn.setTime(+ot),x(nn),x(Jn),Math.floor($(nn,Jn))},ge.every=function(Fe){return Fe=Math.floor(Fe),!isFinite(Fe)||!(Fe>0)?null:Fe>1?ge.filter(X?function(ot){return X(ot)%Fe===0}:function(ot){return ge.count(0,ot)%Fe===0}):ge}),ge}var Yr=bn(function(){},function(x,T){x.setTime(+x+T)},function(x,T){return T-x});Yr.every=function(x){return x=Math.floor(x),!isFinite(x)||!(x>0)?null:x>1?bn(function(T){T.setTime(Math.floor(T/x)*x)},function(T,$){T.setTime(+T+$*x)},function(T,$){return($-T)/x}):Yr};var Ti=Yr;let ns=1e3,ms=ns*60,Hi=ms*60,fs=Hi*24,mu=fs*7,le=fs*30,ut=fs*365;var en=bn(function(x){x.setTime(x-x.getMilliseconds())},function(x,T){x.setTime(+x+T*ns)},function(x,T){return(T-x)/ns},function(x){return x.getUTCSeconds()}),Dn=en,ir=bn(function(x){x.setTime(x-x.getMilliseconds()-x.getSeconds()*ns)},function(x,T){x.setTime(+x+T*ms)},function(x,T){return(T-x)/ms},function(x){return x.getMinutes()}),vr=ir,dr=bn(function(x){x.setTime(x-x.getMilliseconds()-x.getSeconds()*ns-x.getMinutes()*ms)},function(x,T){x.setTime(+x+T*Hi)},function(x,T){return(T-x)/Hi},function(x){return x.getHours()}),es=dr,_s=bn(x=>x.setHours(0,0,0,0),(x,T)=>x.setDate(x.getDate()+T),(x,T)=>(T-x-(T.getTimezoneOffset()-x.getTimezoneOffset())*ms)/fs,x=>x.getDate()-1),Ls=_s;function oo(x){return bn(function(T){T.setDate(T.getDate()-(T.getDay()+7-x)%7),T.setHours(0,0,0,0)},function(T,$){T.setDate(T.getDate()+$*7)},function(T,$){return($-T-($.getTimezoneOffset()-T.getTimezoneOffset())*ms)/mu})}var Za=oo(0),sc=oo(1);oo(2),oo(3);var rf=oo(4);oo(5),oo(6);var kc=bn(function(x){x.setDate(1),x.setHours(0,0,0,0)},function(x,T){x.setMonth(x.getMonth()+T)},function(x,T){return T.getMonth()-x.getMonth()+(T.getFullYear()-x.getFullYear())*12},function(x){return x.getMonth()}),u0=kc,Q0=bn(function(x){x.setMonth(0,1),x.setHours(0,0,0,0)},function(x,T){x.setFullYear(x.getFullYear()+T)},function(x,T){return T.getFullYear()-x.getFullYear()},function(x){return x.getFullYear()});Q0.every=function(x){return!isFinite(x=Math.floor(x))||!(x>0)?null:bn(function(T){T.setFullYear(Math.floor(T.getFullYear()/x)*x),T.setMonth(0,1),T.setHours(0,0,0,0)},function(T,$){T.setFullYear(T.getFullYear()+$*x)})};var oc=Q0,sf=bn(function(x){x.setUTCSeconds(0,0)},function(x,T){x.setTime(+x+T*ms)},function(x,T){return(T-x)/ms},function(x){return x.getUTCMinutes()}),l0=sf,_l=bn(function(x){x.setUTCMinutes(0,0,0)},function(x,T){x.setTime(+x+T*Hi)},function(x,T){return(T-x)/Hi},function(x){return x.getUTCHours()}),Ic=_l,c0=bn(function(x){x.setUTCHours(0,0,0,0)},function(x,T){x.setUTCDate(x.getUTCDate()+T)},function(x,T){return(T-x)/fs},function(x){return x.getUTCDate()-1}),ac=c0;function Vl(x){return bn(function(T){T.setUTCDate(T.getUTCDate()-(T.getUTCDay()+7-x)%7),T.setUTCHours(0,0,0,0)},function(T,$){T.setUTCDate(T.getUTCDate()+$*7)},function(T,$){return($-T)/mu})}var G0=Vl(0),Th=Vl(1);Vl(2),Vl(3);var Y0=Vl(4);Vl(5),Vl(6);var K0=bn(function(x){x.setUTCDate(1),x.setUTCHours(0,0,0,0)},function(x,T){x.setUTCMonth(x.getUTCMonth()+T)},function(x,T){return T.getUTCMonth()-x.getUTCMonth()+(T.getUTCFullYear()-x.getUTCFullYear())*12},function(x){return x.getUTCMonth()}),of=K0,J0=bn(function(x){x.setUTCMonth(0,1),x.setUTCHours(0,0,0,0)},function(x,T){x.setUTCFullYear(x.getUTCFullYear()+T)},function(x,T){return T.getUTCFullYear()-x.getUTCFullYear()},function(x){return x.getUTCFullYear()});J0.every=function(x){return!isFinite(x=Math.floor(x))||!(x>0)?null:bn(function(T){T.setUTCFullYear(Math.floor(T.getUTCFullYear()/x)*x),T.setUTCMonth(0,1),T.setUTCHours(0,0,0,0)},function(T,$){T.setUTCFullYear(T.getUTCFullYear()+$*x)})};var Mc=J0;function f0(x,T,$,X,ge,Fe){let ot=[[Dn,1,ns],[Dn,5,5*ns],[Dn,15,15*ns],[Dn,30,30*ns],[Fe,1,ms],[Fe,5,5*ms],[Fe,15,15*ms],[Fe,30,30*ms],[ge,1,Hi],[ge,3,3*Hi],[ge,6,6*Hi],[ge,12,12*Hi],[X,1,fs],[X,2,2*fs],[$,1,mu],[T,1,le],[T,3,3*le],[x,1,ut]];function zt(Sn,Pn,Hn){let or=Pn<Sn;or&&([Sn,Pn]=[Pn,Sn]);let Or=Hn&&typeof Hn.range=="function"?Hn:wn(Sn,Pn,Hn),Kr=Or?Or.range(Sn,+Pn+1):[];return or?Kr.reverse():Kr}function wn(Sn,Pn,Hn){let or=Math.abs(Pn-Sn)/Hn,Or=Ze(([,,bi])=>bi).right(ot,or);if(Or===ot.length)return x.every(kt(Sn/ut,Pn/ut,Hn));if(Or===0)return Ti.every(Math.max(kt(Sn,Pn,Hn),1));let[Kr,Lr]=ot[or/ot[Or-1][2]<ot[Or][2]/or?Or-1:Or];return Kr.every(Lr)}return[zt,wn]}let[d0,h0]=f0(Mc,of,G0,ac,Ic,l0),[Uo,Zo]=f0(oc,u0,Za,Ls,es,vr);function p0(x){if(0<=x.y&&x.y<100){var T=new Date(-1,x.m,x.d,x.H,x.M,x.S,x.L);return T.setFullYear(x.y),T}return new Date(x.y,x.m,x.d,x.H,x.M,x.S,x.L)}function bl(x){if(0<=x.y&&x.y<100){var T=new Date(Date.UTC(-1,x.m,x.d,x.H,x.M,x.S,x.L));return T.setUTCFullYear(x.y),T}return new Date(Date.UTC(x.y,x.m,x.d,x.H,x.M,x.S,x.L))}function af(x,T,$){return{y:x,m:T,d:$,H:0,M:0,S:0,L:0}}function jd(x){var T=x.dateTime,$=x.date,X=x.time,ge=x.periods,Fe=x.days,ot=x.shortDays,zt=x.months,wn=x.shortMonths,Sn=k(ge),Pn=Z(ge),Hn=k(Fe),or=Z(Fe),Or=k(ot),Kr=Z(ot),Lr=k(zt),bi=Z(zt),ki=k(wn),Os=Z(wn),ds={a:y0,A:Ea,b:dc,B:Qd,c:null,d:Ma,e:Ma,f:tl,g:$r,G:V1,H:lc,I:_a,j:uf,L:lf,m:cc,M:H1,p:X1,q:wp,Q:jc,s:Oh,S:Pc,u:t2,U:Ql,V:Bc,w:jr,W:X0,x:null,X:null,y:Z0,Y:wl,Z:mp,"%":il},Zs={a:v0,A:r2,b:a3,B:rg,c:null,d:bo,e:bo,f:Zx,g:Cl,G:xu,H:ed,I:qd,j:td,L:cf,m:eg,M:Dh,p:ig,q:Z1,Q:jc,s:Oh,S:ff,u:nl,U:Ud,V:W1,w:rl,W:nd,x:null,X:null,y:Nf,Y:gp,Z:Q1,"%":il},gs={a:Iu,A:bs,b:Ta,B:Va,c:Dl,d:Qi,e:Qi,f:mo,g:hr,G:sr,H:Qr,I:Qr,j:Li,L:va,m:Fi,M:Ys,p:tu,q:it,Q:uc,s:Wl,S:$o,u:Nt,U:Vt,V:An,w:je,W:kn,x:Wd,X:ol,y:hr,Y:sr,Z:Nr,"%":Ia};ds.x=Gr($,ds),ds.X=Gr(X,ds),ds.c=Gr(T,ds),Zs.x=Gr($,Zs),Zs.X=Gr(X,Zs),Zs.c=Gr(T,Zs);function Gr(Dr,js){return function(Eo){var Ur=[],mf=-1,Er=0,al=Dr.length,So,hc,u3;for(Eo instanceof Date||(Eo=new Date(+Eo));++mf<al;)Dr.charCodeAt(mf)===37&&(Ur.push(Dr.slice(Er,mf)),(hc=Ou[So=Dr.charAt(++mf)])!=null?So=Dr.charAt(++mf):hc=So==="e"?" ":"0",(u3=js[So])&&(So=u3(Eo,hc)),Ur.push(So),Er=mf+1);return Ur.push(Dr.slice(Er,mf)),Ur.join("")}}function Ki(Dr,js){return function(Eo){var Ur=af(1900,void 0,1),mf=Ba(Ur,Dr,Eo+="",0),Er,al;if(mf!=Eo.length)return null;if("Q"in Ur)return new Date(Ur.Q);if("s"in Ur)return new Date(Ur.s*1e3+("L"in Ur?Ur.L:0));if(js&&!("Z"in Ur)&&(Ur.Z=0),"p"in Ur&&(Ur.H=Ur.H%12+Ur.p*12),Ur.m===void 0&&(Ur.m="q"in Ur?Ur.q:0),"V"in Ur){if(Ur.V<1||Ur.V>53)return null;"w"in Ur||(Ur.w=1),"Z"in Ur?(Er=bl(af(Ur.y,0,1)),al=Er.getUTCDay(),Er=al>4||al===0?Th.ceil(Er):Th(Er),Er=ac.offset(Er,(Ur.V-1)*7),Ur.y=Er.getUTCFullYear(),Ur.m=Er.getUTCMonth(),Ur.d=Er.getUTCDate()+(Ur.w+6)%7):(Er=p0(af(Ur.y,0,1)),al=Er.getDay(),Er=al>4||al===0?sc.ceil(Er):sc(Er),Er=Ls.offset(Er,(Ur.V-1)*7),Ur.y=Er.getFullYear(),Ur.m=Er.getMonth(),Ur.d=Er.getDate()+(Ur.w+6)%7)}else("W"in Ur||"U"in Ur)&&("w"in Ur||(Ur.w="u"in Ur?Ur.u%7:"W"in Ur?1:0),al="Z"in Ur?bl(af(Ur.y,0,1)).getUTCDay():p0(af(Ur.y,0,1)).getDay(),Ur.m=0,Ur.d="W"in Ur?(Ur.w+6)%7+Ur.W*7-(al+5)%7:Ur.w+Ur.U*7-(al+6)%7);return"Z"in Ur?(Ur.H+=Ur.Z/100|0,Ur.M+=Ur.Z%100,bl(Ur)):p0(Ur)}}function Ba(Dr,js,Eo,Ur){for(var mf=0,Er=js.length,al=Eo.length,So,hc;mf<Er;){if(Ur>=al)return-1;if(So=js.charCodeAt(mf++),So===37){if(So=js.charAt(mf++),hc=gs[So in Ou?js.charAt(mf++):So],!hc||(Ur=hc(Dr,Eo,Ur))<0)return-1}else if(So!=Eo.charCodeAt(Ur++))return-1}return Ur}function tu(Dr,js,Eo){var Ur=Sn.exec(js.slice(Eo));return Ur?(Dr.p=Pn.get(Ur[0].toLowerCase()),Eo+Ur[0].length):-1}function Iu(Dr,js,Eo){var Ur=Or.exec(js.slice(Eo));return Ur?(Dr.w=Kr.get(Ur[0].toLowerCase()),Eo+Ur[0].length):-1}function bs(Dr,js,Eo){var Ur=Hn.exec(js.slice(Eo));return Ur?(Dr.w=or.get(Ur[0].toLowerCase()),Eo+Ur[0].length):-1}function Ta(Dr,js,Eo){var Ur=ki.exec(js.slice(Eo));return Ur?(Dr.m=Os.get(Ur[0].toLowerCase()),Eo+Ur[0].length):-1}function Va(Dr,js,Eo){var Ur=Lr.exec(js.slice(Eo));return Ur?(Dr.m=bi.get(Ur[0].toLowerCase()),Eo+Ur[0].length):-1}function Dl(Dr,js,Eo){return Ba(Dr,T,js,Eo)}function Wd(Dr,js,Eo){return Ba(Dr,$,js,Eo)}function ol(Dr,js,Eo){return Ba(Dr,X,js,Eo)}function y0(Dr){return ot[Dr.getDay()]}function Ea(Dr){return Fe[Dr.getDay()]}function dc(Dr){return wn[Dr.getMonth()]}function Qd(Dr){return zt[Dr.getMonth()]}function X1(Dr){return ge[+(Dr.getHours()>=12)]}function wp(Dr){return 1+~~(Dr.getMonth()/3)}function v0(Dr){return ot[Dr.getUTCDay()]}function r2(Dr){return Fe[Dr.getUTCDay()]}function a3(Dr){return wn[Dr.getUTCMonth()]}function rg(Dr){return zt[Dr.getUTCMonth()]}function ig(Dr){return ge[+(Dr.getUTCHours()>=12)]}function Z1(Dr){return 1+~~(Dr.getUTCMonth()/3)}return{format:function(Dr){var js=Gr(Dr+="",ds);return js.toString=function(){return Dr},js},parse:function(Dr){var js=Ki(Dr+="",!1);return js.toString=function(){return Dr},js},utcFormat:function(Dr){var js=Gr(Dr+="",Zs);return js.toString=function(){return Dr},js},utcParse:function(Dr){var js=Ki(Dr+="",!0);return js.toString=function(){return Dr},js}}}var Ou={"-":"",_:" ","0":"0"},_o=/^\s*\d+/,Fh=/^%/,El=/[\\^$*+?|[\]().{}]/g;function Is(x,T,$){var X=x<0?"-":"",ge=(X?-x:x)+"",Fe=ge.length;return X+(Fe<$?new Array($-Fe+1).join(T)+ge:ge)}function Sl(x){return x.replace(El,"\\$&")}function k(x){return new RegExp("^(?:"+x.map(Sl).join("|")+")","i")}function Z(x){return new Map(x.map((T,$)=>[T.toLowerCase(),$]))}function je(x,T,$){var X=_o.exec(T.slice($,$+1));return X?(x.w=+X[0],$+X[0].length):-1}function Nt(x,T,$){var X=_o.exec(T.slice($,$+1));return X?(x.u=+X[0],$+X[0].length):-1}function Vt(x,T,$){var X=_o.exec(T.slice($,$+2));return X?(x.U=+X[0],$+X[0].length):-1}function An(x,T,$){var X=_o.exec(T.slice($,$+2));return X?(x.V=+X[0],$+X[0].length):-1}function kn(x,T,$){var X=_o.exec(T.slice($,$+2));return X?(x.W=+X[0],$+X[0].length):-1}function sr(x,T,$){var X=_o.exec(T.slice($,$+4));return X?(x.y=+X[0],$+X[0].length):-1}function hr(x,T,$){var X=_o.exec(T.slice($,$+2));return X?(x.y=+X[0]+(+X[0]>68?1900:2e3),$+X[0].length):-1}function Nr(x,T,$){var X=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(T.slice($,$+6));return X?(x.Z=X[1]?0:-(X[2]+(X[3]||"00")),$+X[0].length):-1}function it(x,T,$){var X=_o.exec(T.slice($,$+1));return X?(x.q=X[0]*3-3,$+X[0].length):-1}function Fi(x,T,$){var X=_o.exec(T.slice($,$+2));return X?(x.m=X[0]-1,$+X[0].length):-1}function Qi(x,T,$){var X=_o.exec(T.slice($,$+2));return X?(x.d=+X[0],$+X[0].length):-1}function Li(x,T,$){var X=_o.exec(T.slice($,$+3));return X?(x.m=0,x.d=+X[0],$+X[0].length):-1}function Qr(x,T,$){var X=_o.exec(T.slice($,$+2));return X?(x.H=+X[0],$+X[0].length):-1}function Ys(x,T,$){var X=_o.exec(T.slice($,$+2));return X?(x.M=+X[0],$+X[0].length):-1}function $o(x,T,$){var X=_o.exec(T.slice($,$+2));return X?(x.S=+X[0],$+X[0].length):-1}function va(x,T,$){var X=_o.exec(T.slice($,$+3));return X?(x.L=+X[0],$+X[0].length):-1}function mo(x,T,$){var X=_o.exec(T.slice($,$+6));return X?(x.L=Math.floor(X[0]/1e3),$+X[0].length):-1}function Ia(x,T,$){var X=Fh.exec(T.slice($,$+1));return X?$+X[0].length:-1}function uc(x,T,$){var X=_o.exec(T.slice($));return X?(x.Q=+X[0],$+X[0].length):-1}function Wl(x,T,$){var X=_o.exec(T.slice($));return X?(x.s=+X[0],$+X[0].length):-1}function Ma(x,T){return Is(x.getDate(),T,2)}function lc(x,T){return Is(x.getHours(),T,2)}function _a(x,T){return Is(x.getHours()%12||12,T,2)}function uf(x,T){return Is(1+Ls.count(oc(x),x),T,3)}function lf(x,T){return Is(x.getMilliseconds(),T,3)}function tl(x,T){return lf(x,T)+"000"}function cc(x,T){return Is(x.getMonth()+1,T,2)}function H1(x,T){return Is(x.getMinutes(),T,2)}function Pc(x,T){return Is(x.getSeconds(),T,2)}function t2(x){var T=x.getDay();return T===0?7:T}function Ql(x,T){return Is(Za.count(oc(x)-1,x),T,2)}function Rf(x){var T=x.getDay();return T>=4||T===0?rf(x):rf.ceil(x)}function Bc(x,T){return x=Rf(x),Is(rf.count(oc(x),x)+(oc(x).getDay()===4),T,2)}function jr(x){return x.getDay()}function X0(x,T){return Is(sc.count(oc(x)-1,x),T,2)}function Z0(x,T){return Is(x.getFullYear()%100,T,2)}function $r(x,T){return x=Rf(x),Is(x.getFullYear()%100,T,2)}function wl(x,T){return Is(x.getFullYear()%1e4,T,4)}function V1(x,T){var $=x.getDay();return x=$>=4||$===0?rf(x):rf.ceil(x),Is(x.getFullYear()%1e4,T,4)}function mp(x){var T=x.getTimezoneOffset();return(T>0?"-":(T*=-1,"+"))+Is(T/60|0,"0",2)+Is(T%60,"0",2)}function bo(x,T){return Is(x.getUTCDate(),T,2)}function ed(x,T){return Is(x.getUTCHours(),T,2)}function qd(x,T){return Is(x.getUTCHours()%12||12,T,2)}function td(x,T){return Is(1+ac.count(Mc(x),x),T,3)}function cf(x,T){return Is(x.getUTCMilliseconds(),T,3)}function Zx(x,T){return cf(x,T)+"000"}function eg(x,T){return Is(x.getUTCMonth()+1,T,2)}function Dh(x,T){return Is(x.getUTCMinutes(),T,2)}function ff(x,T){return Is(x.getUTCSeconds(),T,2)}function nl(x){var T=x.getUTCDay();return T===0?7:T}function Ud(x,T){return Is(G0.count(Mc(x)-1,x),T,2)}function xp(x){var T=x.getUTCDay();return T>=4||T===0?Y0(x):Y0.ceil(x)}function W1(x,T){return x=xp(x),Is(Y0.count(Mc(x),x)+(Mc(x).getUTCDay()===4),T,2)}function rl(x){return x.getUTCDay()}function nd(x,T){return Is(Th.count(Mc(x)-1,x),T,2)}function Nf(x,T){return Is(x.getUTCFullYear()%100,T,2)}function Cl(x,T){return x=xp(x),Is(x.getUTCFullYear()%100,T,2)}function gp(x,T){return Is(x.getUTCFullYear()%1e4,T,4)}function xu(x,T){var $=x.getUTCDay();return x=$>=4||$===0?Y0(x):Y0.ceil(x),Is(x.getUTCFullYear()%1e4,T,4)}function Q1(){return"+0000"}function il(){return"%"}function jc(x){return+x}function Oh(x){return Math.floor(+x/1e3)}var $d,df,Rh;yp({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yp(x){return $d=jd(x),df=$d.format,Rh=$d.utcFormat,$d}function Ha(x){return new Date(x)}function Nh(x){return x instanceof Date?+x:+new Date(+x)}function rd(x,T,$,X,ge,Fe,ot,zt,wn,Sn){var Pn=Wo(),Hn=Pn.invert,or=Pn.domain,Or=Sn(".%L"),Kr=Sn(":%S"),Lr=Sn("%I:%M"),bi=Sn("%I %p"),ki=Sn("%a %d"),Os=Sn("%b %d"),ds=Sn("%B"),Zs=Sn("%Y");function gs(Gr){return(wn(Gr)<Gr?Or:zt(Gr)<Gr?Kr:ot(Gr)<Gr?Lr:Fe(Gr)<Gr?bi:X(Gr)<Gr?ge(Gr)<Gr?ki:Os:$(Gr)<Gr?ds:Zs)(Gr)}return Pn.invert=function(Gr){return new Date(Hn(Gr))},Pn.domain=function(Gr){return arguments.length?or(Array.from(Gr,Nh)):or().map(Ha)},Pn.ticks=function(Gr){var Ki=or();return x(Ki[0],Ki[Ki.length-1],Gr??10)},Pn.tickFormat=function(Gr,Ki){return Ki==null?gs:Sn(Ki)},Pn.nice=function(Gr){var Ki=or();return(!Gr||typeof Gr.range!="function")&&(Gr=T(Ki[0],Ki[Ki.length-1],Gr??10)),Gr?or($n(Ki,Gr)):Pn},Pn.copy=function(){return aa(Pn,rd(x,T,$,X,ge,Fe,ot,zt,wn,Sn))},Pn}function Pa(){return bt.apply(rd(Uo,Zo,oc,u0,Za,Ls,es,vr,Dn,df).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Lh(){return bt.apply(rd(d0,h0,Mc,of,G0,ac,Ic,l0,Dn,Rh).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ru(){var x=0,T=1,$,X,ge,Fe,ot=ps,zt=!1,wn;function Sn(Hn){return Hn==null||isNaN(Hn=+Hn)?wn:ot(ge===0?.5:(Hn=(Fe(Hn)-$)*ge,zt?Math.max(0,Math.min(1,Hn)):Hn))}Sn.domain=function(Hn){return arguments.length?([x,T]=Hn,$=Fe(x=+x),X=Fe(T=+T),ge=$===X?0:1/(X-$),Sn):[x,T]},Sn.clamp=function(Hn){return arguments.length?(zt=!!Hn,Sn):zt},Sn.interpolator=function(Hn){return arguments.length?(ot=Hn,Sn):ot};function Pn(Hn){return function(or){var Or,Kr;return arguments.length?([Or,Kr]=or,ot=Hn(Or,Kr),Sn):[ot(0),ot(1)]}}return Sn.range=Pn(ts),Sn.rangeRound=Pn(yl),Sn.unknown=function(Hn){return arguments.length?(wn=Hn,Sn):wn},function(Hn){return Fe=Hn,$=Hn(x),X=Hn(T),ge=$===X?0:1/(X-$),Sn}}function eu(x,T){return T.domain(x.domain()).interpolator(x.interpolator()).clamp(x.clamp()).unknown(x.unknown())}function kh(){var x=pn(Ru()(ps));return x.copy=function(){return eu(x,kh())},ve.apply(x,arguments)}function ba(){var x=ni(Ru()).domain([1,10]);return x.copy=function(){return eu(x,ba()).base(x.base())},ve.apply(x,arguments)}function Ih(){var x=Ir(Ru());return x.copy=function(){return eu(x,Ih()).constant(x.constant())},ve.apply(x,arguments)}function vp(){var x=vi(Ru());return x.copy=function(){return eu(x,vp()).exponent(x.exponent())},ve.apply(x,arguments)}function m0(){return vp.apply(null,arguments).exponent(.5)}function id(){var x=0,T=.5,$=1,X=1,ge,Fe,ot,zt,wn,Sn=ps,Pn,Hn=!1,or;function Or(Lr){return isNaN(Lr=+Lr)?or:(Lr=.5+((Lr=+Pn(Lr))-Fe)*(X*Lr<X*Fe?zt:wn),Sn(Hn?Math.max(0,Math.min(1,Lr)):Lr))}Or.domain=function(Lr){return arguments.length?([x,T,$]=Lr,ge=Pn(x=+x),Fe=Pn(T=+T),ot=Pn($=+$),zt=ge===Fe?0:.5/(Fe-ge),wn=Fe===ot?0:.5/(ot-Fe),X=Fe<ge?-1:1,Or):[x,T,$]},Or.clamp=function(Lr){return arguments.length?(Hn=!!Lr,Or):Hn},Or.interpolator=function(Lr){return arguments.length?(Sn=Lr,Or):Sn};function Kr(Lr){return function(bi){var ki,Os,ds;return arguments.length?([ki,Os,ds]=bi,Sn=Wi(Lr,[ki,Os,ds]),Or):[Sn(0),Sn(.5),Sn(1)]}}return Or.range=Kr(ts),Or.rangeRound=Kr(yl),Or.unknown=function(Lr){return arguments.length?(or=Lr,Or):or},function(Lr){return Pn=Lr,ge=Lr(x),Fe=Lr(T),ot=Lr($),zt=ge===Fe?0:.5/(Fe-ge),wn=Fe===ot?0:.5/(ot-Fe),X=Fe<ge?-1:1,Or}}function hf(){var x=pn(id()(ps));return x.copy=function(){return eu(x,hf())},ve.apply(x,arguments)}function Gl(){var x=ni(id()).domain([.1,1,10]);return x.copy=function(){return eu(x,Gl()).base(x.base())},ve.apply(x,arguments)}function Nu(){var x=Ir(id());return x.copy=function(){return eu(x,Nu()).constant(x.constant())},ve.apply(x,arguments)}function _p(){var x=vi(id());return x.copy=function(){return eu(x,_p()).exponent(x.exponent())},ve.apply(x,arguments)}function sl(){return _p.apply(null,arguments).exponent(.5)}function Mh(){let x=_e().unknown(void 0),T=x.domain,$=x.range,X=[0,1],ge,Fe,ot=!1,zt=0,wn=0,Sn=.5;delete x.unknown;function Pn(){let Hn=T().length,or=X[1]<X[0],Or=X[1-or],Kr=r(Hn,zt,wn),Lr=X[or-0];ge=(Or-Lr)/(Kr||1),ot&&(ge=Math.floor(ge)),Lr+=(Or-Lr-ge*(Hn-zt))*Sn,Fe=ge*(1-zt),ot&&(Lr=Math.round(Lr),Fe=Math.round(Fe));let bi=tn(Hn).map(ki=>Lr+ge*ki);return $(or?bi.reverse():bi)}return x.domain=function(Hn){return arguments.length?(T(Hn),Pn()):T()},x.range=function(Hn){return arguments.length?(X=[+Hn[0],+Hn[1]],Pn()):X.slice()},x.rangeRound=function(Hn){return X=[+Hn[0],+Hn[1]],ot=!0,Pn()},x.bandwidth=function(){return Fe},x.step=function(){return ge},x.round=function(Hn){return arguments.length?(ot=!!Hn,Pn()):ot},x.padding=function(Hn){return arguments.length?(wn=Math.max(0,Math.min(1,Hn)),zt=wn,Pn()):zt},x.paddingInner=function(Hn){return arguments.length?(zt=Math.max(0,Math.min(1,Hn)),Pn()):zt},x.paddingOuter=function(Hn){return arguments.length?(wn=Math.max(0,Math.min(1,Hn)),Pn()):wn},x.align=function(Hn){return arguments.length?(Sn=Math.max(0,Math.min(1,Hn)),Pn()):Sn},x.invertRange=function(Hn){if(Hn[0]==null||Hn[1]==null)return;let or=X[1]<X[0],Or=or?$().reverse():$(),Kr=Or.length-1,Lr=+Hn[0],bi=+Hn[1],ki,Os,ds;if(!(Lr!==Lr||bi!==bi)&&(bi<Lr&&(ds=Lr,Lr=bi,bi=ds),!(bi<Or[0]||Lr>X[1-or])))return ki=Math.max(0,qe(Or,Lr)-1),Os=Lr===bi?ki:qe(Or,bi)-1,Lr-Or[ki]>Fe+1e-10&&++ki,or&&(ds=ki,ki=Kr-Os,Os=Kr-ds),ki>Os?void 0:T().slice(ki,Os+1)},x.invert=function(Hn){let or=x.invertRange([Hn,Hn]);return or&&or[0]},x.copy=function(){return Mh().domain(T()).range(X).round(ot).paddingInner(zt).paddingOuter(wn).align(Sn)},Pn()}function zd(x){let T=x.copy;return x.padding=x.paddingOuter,delete x.paddingInner,x.copy=function(){return zd(T())},x}function n2(){return zd(Mh().paddingInner(1))}var bp=Array.prototype.map;function Lf(x){return bp.call(x,e.toNumber)}let sd=Array.prototype.slice;function Xs(){let x=[],T=[];function $(X){return X==null||X!==X?void 0:T[(te(x,X)-1)%T.length]}return $.domain=function(X){return arguments.length?(x=Lf(X),$):x.slice()},$.range=function(X){return arguments.length?(T=sd.call(X),$):T.slice()},$.tickFormat=function(X,ge){return $t(x[0],e.peek(x),X??10,ge)},$.copy=function(){return Xs().domain($.domain()).range($.range())},$}let A={};function W(x,T,$){let X=function(){let Fe=T();return Fe.invertRange||(Fe.invertRange=Fe.invert?He(Fe):Fe.invertExtent?at(Fe):void 0),Fe.type=x,Fe};return X.metadata=e.toSet(e.array($)),X}function de(x,T,$){return arguments.length>1?(A[x]=W(x,T,$),this):Pe(x)?A[x]:void 0}de(i,Kn),de(s,Ln,ue),de(o,pi,[ue,o]),de(a,Bs,ue),de(l,ss,ue),de(f,yi,ue),de(p,Pa,[ue,ye]),de(_,Lh,[ue,ye]),de(E,kh,[ue,he]),de(`${E}-${s}`,kh,[ue,he]),de(`${E}-${o}`,ba,[ue,he,o]),de(`${E}-${a}`,vp,[ue,he]),de(`${E}-${l}`,m0,[ue,he]),de(`${E}-${f}`,Ih,[ue,he]),de(`${O}-${s}`,hf,[ue,he]),de(`${O}-${o}`,Gl,[ue,he,o]),de(`${O}-${a}`,_p,[ue,he]),de(`${O}-${l}`,sl,[ue,he]),de(`${O}-${f}`,Nu,[ue,he]),de(R,ya,[J,R]),de(q,No,J),de(z,Ts,J),de(G,Xs,[I,J]),de(L,_e,I),de(P,Mh,I),de(B,n2,I);function Pe(x){return e.hasOwnProperty(A,x)}function wt(x,T){let $=A[x];return $&&$.metadata[T]}function Tn(x){return wt(x,ue)}function ur(x){return wt(x,I)}function $i(x){return wt(x,J)}function Bi(x){return wt(x,o)}function ao(x){return wt(x,ye)}function gu(x){return wt(x,he)}function qc(x){return wt(x,R)}let kf=["clamp","base","constant","exponent"];function wE(x,T){let $=T[0],X=e.peek(T)-$;return function(ge){return x($+ge*X)}}function r3(x,T,$){return Wi(Lu(T||"rgb",$),x)}function Q4(x,T){let $=new Array(T),X=T+1;for(let ge=0;ge<T;)$[ge]=x(++ge/X);return $}function i3(x){let T=x.type,$=x.copy();return $.type=T,$}function od(x,T,$){let X=$-T,ge,Fe,ot;return!X||!Number.isFinite(X)?e.constant(.5):(ge=(Fe=x.type).indexOf("-"),Fe=ge<0?Fe:Fe.slice(ge+1),ot=de(Fe)().domain([T,$]).range([0,1]),kf.forEach(zt=>x[zt]?ot[zt](x[zt]()):0),ot)}function Lu(x,T){let $=da[G4(x)];return T!=null&&$&&$.gamma?$.gamma(T):$}function G4(x){return"interpolate"+x.toLowerCase().split("-").map(T=>T[0].toUpperCase()+T.slice(1)).join("")}let Ph={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},Fs={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function x0(x){let T=x.length/6|0,$=new Array(T);for(let X=0;X<T;)$[X]="#"+x.slice(X*6,++X*6);return $}function Al(x,T){for(let $ in x)ku($,T(x[$]))}let Ep={};Al(Fs,x0),Al(Ph,x=>r3(x0(x)));function ku(x,T){return x=x&&x.toLowerCase(),arguments.length>1?(Ep[x]=T,this):Ep[x]}let G1="symbol",Y1="discrete",Tl="gradient",s3=x=>e.isArray(x)?x.map(T=>String(T)):String(x),Hd=(x,T)=>x[1]-T[1],Bh=(x,T)=>T[1]-x[1];function o3(x,T,$){let X;return e.isNumber(T)&&(x.bins&&(T=Math.max(T,x.bins.length)),$!=null&&(T=Math.min(T,Math.floor(e.span(x.domain())/$||1)))),e.isObject(T)&&(X=T.step,T=T.interval),e.isString(T)&&(T=x.type===p?t.timeInterval(T):x.type==_?t.utcInterval(T):e.error("Only time and utc scales accept interval strings."),X&&(T=T.every(X))),T}function If(x,T,$){let X=x.range(),ge=X[0],Fe=e.peek(X),ot=Hd;if(ge>Fe&&(X=Fe,Fe=ge,ge=X,ot=Bh),ge=Math.floor(ge),Fe=Math.ceil(Fe),T=T.map(zt=>[zt,x(zt)]).filter(zt=>ge<=zt[1]&&zt[1]<=Fe).sort(ot).map(zt=>zt[0]),$>0&&T.length>1){let zt=[T[0],e.peek(T)];for(;T.length>$&&T.length>=3;)T=T.filter((wn,Sn)=>!(Sn%2));T.length<3&&(T=zt)}return T}function Fl(x,T){return x.bins?If(x,x.bins):x.ticks?x.ticks(T):x.domain()}function Mf(x,T,$,X,ge,Fe){let ot=T.type,zt=s3;if(ot===p||ge===p)zt=x.timeFormat(X);else if(ot===_||ge===_)zt=x.utcFormat(X);else if(Bi(ot)){let wn=x.formatFloat(X);if(Fe||T.bins)zt=wn;else{let Sn=K1(T,$,!1);zt=Pn=>Sn(Pn)?wn(Pn):""}}else if(T.tickFormat){let wn=T.domain();zt=x.formatSpan(wn[0],wn[wn.length-1],$,X)}else X&&(zt=x.format(X));return zt}function K1(x,T,$){let X=Fl(x,T),ge=x.base(),Fe=Math.log(ge),ot=Math.max(1,ge*T/X.length),zt=wn=>{let Sn=wn/Math.pow(ge,Math.round(Math.log(wn)/Fe));return Sn*ge<ge-.5&&(Sn*=ge),Sn<=ot};return $?X.filter(zt):zt}let Sp={[R]:"quantiles",[q]:"thresholds",[z]:"domain"},Vd={[R]:"quantiles",[q]:"domain"};function J1(x,T){return x.bins?ng(x.bins):x.type===o?K1(x,T,!0):Sp[x.type]?tg(x[Sp[x.type]]()):Fl(x,T)}function pf(x,T,$){let X=T[Vd[T.type]](),ge=X.length,Fe=ge>1?X[1]-X[0]:X[0],ot;for(ot=1;ot<ge;++ot)Fe=Math.min(Fe,X[ot]-X[ot-1]);return x.formatSpan(0,Fe,3*10,$)}function tg(x){let T=[-1/0].concat(x);return T.max=1/0,T}function ng(x){let T=x.slice(0,-1);return T.max=e.peek(x),T}let fc=x=>Sp[x.type]||x.bins;function g0(x,T,$,X,ge,Fe,ot){let zt=Vd[T.type]&&Fe!==p&&Fe!==_?pf(x,T,ge):Mf(x,T,$,ge,Fe,ot);return X===G1&&fc(T)?Y4(zt):X===Y1?y(zt):F(zt)}let Y4=x=>(T,$,X)=>{let ge=ad(X[$+1],ad(X.max,1/0)),Fe=H(T,x),ot=H(ge,x);return Fe&&ot?Fe+" \u2013 "+ot:ot?"< "+ot:"\u2265 "+Fe},ad=(x,T)=>x??T,y=x=>(T,$)=>$?x(T):null,F=x=>T=>x(T),H=(x,T)=>Number.isFinite(x)?T(x):null;function Y(x){let T=x.domain(),$=T.length-1,X=+T[0],ge=+e.peek(T),Fe=ge-X;if(x.type===z){let ot=$?Fe/$:.1;X-=ot,ge+=ot,Fe=ge-X}return ot=>(ot-X)/Fe}function Me(x,T,$,X){let ge=X||T.type;return e.isString($)&&ao(ge)&&($=$.replace(/%a/g,"%A").replace(/%b/g,"%B")),!$&&ge===p?x.timeFormat("%A, %d %B %Y, %X"):!$&&ge===_?x.utcFormat("%A, %d %B %Y, %X UTC"):g0(x,T,5,null,$,X,!0)}function _t(x,T,$){$=$||{};let X=Math.max(3,$.maxlen||7),ge=Me(x,T,$.format,$.formatType);if($i(T.type)){let Fe=J1(T).slice(1).map(ge),ot=Fe.length;return`${ot} boundar${ot===1?"y":"ies"}: ${Fe.join(", ")}`}else if(ur(T.type)){let Fe=T.domain(),ot=Fe.length,zt=ot>X?Fe.slice(0,X-2).map(ge).join(", ")+", ending with "+Fe.slice(-1).map(ge):Fe.map(ge).join(", ");return`${ot} value${ot===1?"":"s"}: ${zt}`}else{let Fe=T.domain();return`values from ${ge(Fe[0])} to ${ge(e.peek(Fe))}`}}n.Band=P,n.BinOrdinal=G,n.DiscreteLegend=Y1,n.Diverging=O,n.GradientLegend=Tl,n.Identity=i,n.Linear=s,n.Log=o,n.Ordinal=L,n.Point=B,n.Pow=a,n.Quantile=R,n.Quantize=q,n.Sequential=E,n.Sqrt=l,n.SymbolLegend=G1,n.Symlog=f,n.Threshold=z,n.Time=p,n.UTC=_,n.bandSpace=r,n.domainCaption=_t,n.interpolate=Lu,n.interpolateColors=r3,n.interpolateRange=wE,n.isContinuous=Tn,n.isDiscrete=ur,n.isDiscretizing=$i,n.isInterpolating=gu,n.isLogarithmic=Bi,n.isQuantile=qc,n.isTemporal=ao,n.isValidScaleType=Pe,n.labelFormat=g0,n.labelFraction=Y,n.labelValues=J1,n.quantizeInterpolator=Q4,n.scale=de,n.scaleCopy=i3,n.scaleFraction=od,n.scaleImplicit=Le,n.scheme=ku,n.tickCount=o3,n.tickFormat=Mf,n.tickValues=Fl,n.validTicks=If,Object.defineProperty(n,"__esModule",{value:!0})})});var h9=Ae((lV,NDe)=>{m();(function(n,e){typeof lV=="object"&&typeof NDe!="undefined"?e(lV,Tu(),mN(),rV(),hE()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega))})(lV,function(n,e,t,r,i){"use strict";let s=0;function o(){s=0}let a="p_";function l(y){return y&&y.gradient}function f(y,F,H){let Y=y.gradient,Me=y.id,_t=Y==="radial"?a:"";return Me||(Me=y.id="gradient_"+s++,Y==="radial"?(y.x1=p(y.x1,.5),y.y1=p(y.y1,.5),y.r1=p(y.r1,0),y.x2=p(y.x2,.5),y.y2=p(y.y2,.5),y.r2=p(y.r2,.5),_t=a):(y.x1=p(y.x1,0),y.y1=p(y.y1,0),y.x2=p(y.x2,1),y.y2=p(y.y2,0))),F[Me]=y,"url("+(H||"")+"#"+_t+Me+")"}function p(y,F){return y??F}function _(y,F){var H=[],Y;return Y={gradient:"linear",x1:y?y[0]:0,y1:y?y[1]:0,x2:F?F[0]:1,y2:F?F[1]:0,stops:H,stop:function(Me,_t){return H.push({offset:Me,color:_t}),Y}}}let E=Math.PI,O=2*E,R=1e-6,q=O-R;function z(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function L(){return new z}z.prototype=L.prototype={constructor:z,moveTo:function(y,F){this._+="M"+(this._x0=this._x1=+y)+","+(this._y0=this._y1=+F)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(y,F){this._+="L"+(this._x1=+y)+","+(this._y1=+F)},quadraticCurveTo:function(y,F,H,Y){this._+="Q"+ +y+","+ +F+","+(this._x1=+H)+","+(this._y1=+Y)},bezierCurveTo:function(y,F,H,Y,Me,_t){this._+="C"+ +y+","+ +F+","+ +H+","+ +Y+","+(this._x1=+Me)+","+(this._y1=+_t)},arcTo:function(y,F,H,Y,Me){y=+y,F=+F,H=+H,Y=+Y,Me=+Me;var _t=this._x1,x=this._y1,T=H-y,$=Y-F,X=_t-y,ge=x-F,Fe=X*X+ge*ge;if(Me<0)throw new Error("negative radius: "+Me);if(this._x1===null)this._+="M"+(this._x1=y)+","+(this._y1=F);else if(Fe>R)if(!(Math.abs(ge*T-$*X)>R)||!Me)this._+="L"+(this._x1=y)+","+(this._y1=F);else{var ot=H-_t,zt=Y-x,wn=T*T+$*$,Sn=ot*ot+zt*zt,Pn=Math.sqrt(wn),Hn=Math.sqrt(Fe),or=Me*Math.tan((E-Math.acos((wn+Fe-Sn)/(2*Pn*Hn)))/2),Or=or/Hn,Kr=or/Pn;Math.abs(Or-1)>R&&(this._+="L"+(y+Or*X)+","+(F+Or*ge)),this._+="A"+Me+","+Me+",0,0,"+ +(ge*ot>X*zt)+","+(this._x1=y+Kr*T)+","+(this._y1=F+Kr*$)}},arc:function(y,F,H,Y,Me,_t){y=+y,F=+F,H=+H,_t=!!_t;var x=H*Math.cos(Y),T=H*Math.sin(Y),$=y+x,X=F+T,ge=1^_t,Fe=_t?Y-Me:Me-Y;if(H<0)throw new Error("negative radius: "+H);this._x1===null?this._+="M"+$+","+X:(Math.abs(this._x1-$)>R||Math.abs(this._y1-X)>R)&&(this._+="L"+$+","+X),!!H&&(Fe<0&&(Fe=Fe%O+O),Fe>q?this._+="A"+H+","+H+",0,1,"+ge+","+(y-x)+","+(F-T)+"A"+H+","+H+",0,1,"+ge+","+(this._x1=$)+","+(this._y1=X):Fe>R&&(this._+="A"+H+","+H+",0,"+ +(Fe>=E)+","+ge+","+(this._x1=y+H*Math.cos(Me))+","+(this._y1=F+H*Math.sin(Me))))},rect:function(y,F,H,Y){this._+="M"+(this._x0=this._x1=+y)+","+(this._y0=this._y1=+F)+"h"+ +H+"v"+ +Y+"h"+-H+"Z"},toString:function(){return this._}};function B(y){return function(){return y}}let P=Math.abs,G=Math.atan2,ue=Math.cos,I=Math.max,J=Math.min,he=Math.sin,ye=Math.sqrt,He=1e-12,at=Math.PI,ct=at/2,Ze=2*at;function Et(y){return y>1?0:y<-1?at:Math.acos(y)}function Mt(y){return y>=1?ct:y<=-1?-ct:Math.asin(y)}function qe(y){return y.innerRadius}function te(y){return y.outerRadius}function et(y){return y.startAngle}function be(y){return y.endAngle}function ke(y){return y&&y.padAngle}function we(y,F,H,Y,Me,_t,x,T){var $=H-y,X=Y-F,ge=x-Me,Fe=T-_t,ot=Fe*$-ge*X;if(!(ot*ot<He))return ot=(ge*(F-_t)-Fe*(y-Me))/ot,[y+ot*$,F+ot*X]}function pe(y,F,H,Y,Me,_t,x){var T=y-H,$=F-Y,X=(x?_t:-_t)/ye(T*T+$*$),ge=X*$,Fe=-X*T,ot=y+ge,zt=F+Fe,wn=H+ge,Sn=Y+Fe,Pn=(ot+wn)/2,Hn=(zt+Sn)/2,or=wn-ot,Or=Sn-zt,Kr=or*or+Or*Or,Lr=Me-_t,bi=ot*Sn-wn*zt,ki=(Or<0?-1:1)*ye(I(0,Lr*Lr*Kr-bi*bi)),Os=(bi*Or-or*ki)/Kr,ds=(-bi*or-Or*ki)/Kr,Zs=(bi*Or+or*ki)/Kr,gs=(-bi*or+Or*ki)/Kr,Gr=Os-Pn,Ki=ds-Hn,Ba=Zs-Pn,tu=gs-Hn;return Gr*Gr+Ki*Ki>Ba*Ba+tu*tu&&(Os=Zs,ds=gs),{cx:Os,cy:ds,x01:-ge,y01:-Fe,x11:Os*(Me/Lr-1),y11:ds*(Me/Lr-1)}}function Je(){var y=qe,F=te,H=B(0),Y=null,Me=et,_t=be,x=ke,T=null;function $(){var X,ge,Fe=+y.apply(this,arguments),ot=+F.apply(this,arguments),zt=Me.apply(this,arguments)-ct,wn=_t.apply(this,arguments)-ct,Sn=P(wn-zt),Pn=wn>zt;if(T||(T=X=L()),ot<Fe&&(ge=ot,ot=Fe,Fe=ge),!(ot>He))T.moveTo(0,0);else if(Sn>Ze-He)T.moveTo(ot*ue(zt),ot*he(zt)),T.arc(0,0,ot,zt,wn,!Pn),Fe>He&&(T.moveTo(Fe*ue(wn),Fe*he(wn)),T.arc(0,0,Fe,wn,zt,Pn));else{var Hn=zt,or=wn,Or=zt,Kr=wn,Lr=Sn,bi=Sn,ki=x.apply(this,arguments)/2,Os=ki>He&&(Y?+Y.apply(this,arguments):ye(Fe*Fe+ot*ot)),ds=J(P(ot-Fe)/2,+H.apply(this,arguments)),Zs=ds,gs=ds,Gr,Ki;if(Os>He){var Ba=Mt(Os/Fe*he(ki)),tu=Mt(Os/ot*he(ki));(Lr-=Ba*2)>He?(Ba*=Pn?1:-1,Or+=Ba,Kr-=Ba):(Lr=0,Or=Kr=(zt+wn)/2),(bi-=tu*2)>He?(tu*=Pn?1:-1,Hn+=tu,or-=tu):(bi=0,Hn=or=(zt+wn)/2)}var Iu=ot*ue(Hn),bs=ot*he(Hn),Ta=Fe*ue(Kr),Va=Fe*he(Kr);if(ds>He){var Dl=ot*ue(or),Wd=ot*he(or),ol=Fe*ue(Or),y0=Fe*he(Or),Ea;if(Sn<at&&(Ea=we(Iu,bs,ol,y0,Dl,Wd,Ta,Va))){var dc=Iu-Ea[0],Qd=bs-Ea[1],X1=Dl-Ea[0],wp=Wd-Ea[1],v0=1/he(Et((dc*X1+Qd*wp)/(ye(dc*dc+Qd*Qd)*ye(X1*X1+wp*wp)))/2),r2=ye(Ea[0]*Ea[0]+Ea[1]*Ea[1]);Zs=J(ds,(Fe-r2)/(v0-1)),gs=J(ds,(ot-r2)/(v0+1))}}bi>He?gs>He?(Gr=pe(ol,y0,Iu,bs,ot,gs,Pn),Ki=pe(Dl,Wd,Ta,Va,ot,gs,Pn),T.moveTo(Gr.cx+Gr.x01,Gr.cy+Gr.y01),gs<ds?T.arc(Gr.cx,Gr.cy,gs,G(Gr.y01,Gr.x01),G(Ki.y01,Ki.x01),!Pn):(T.arc(Gr.cx,Gr.cy,gs,G(Gr.y01,Gr.x01),G(Gr.y11,Gr.x11),!Pn),T.arc(0,0,ot,G(Gr.cy+Gr.y11,Gr.cx+Gr.x11),G(Ki.cy+Ki.y11,Ki.cx+Ki.x11),!Pn),T.arc(Ki.cx,Ki.cy,gs,G(Ki.y11,Ki.x11),G(Ki.y01,Ki.x01),!Pn))):(T.moveTo(Iu,bs),T.arc(0,0,ot,Hn,or,!Pn)):T.moveTo(Iu,bs),!(Fe>He)||!(Lr>He)?T.lineTo(Ta,Va):Zs>He?(Gr=pe(Ta,Va,Dl,Wd,Fe,-Zs,Pn),Ki=pe(Iu,bs,ol,y0,Fe,-Zs,Pn),T.lineTo(Gr.cx+Gr.x01,Gr.cy+Gr.y01),Zs<ds?T.arc(Gr.cx,Gr.cy,Zs,G(Gr.y01,Gr.x01),G(Ki.y01,Ki.x01),!Pn):(T.arc(Gr.cx,Gr.cy,Zs,G(Gr.y01,Gr.x01),G(Gr.y11,Gr.x11),!Pn),T.arc(0,0,Fe,G(Gr.cy+Gr.y11,Gr.cx+Gr.x11),G(Ki.cy+Ki.y11,Ki.cx+Ki.x11),Pn),T.arc(Ki.cx,Ki.cy,Zs,G(Ki.y11,Ki.x11),G(Ki.y01,Ki.x01),!Pn))):T.arc(0,0,Fe,Kr,Or,Pn)}if(T.closePath(),X)return T=null,X+""||null}return $.centroid=function(){var X=(+y.apply(this,arguments)+ +F.apply(this,arguments))/2,ge=(+Me.apply(this,arguments)+ +_t.apply(this,arguments))/2-at/2;return[ue(ge)*X,he(ge)*X]},$.innerRadius=function(X){return arguments.length?(y=typeof X=="function"?X:B(+X),$):y},$.outerRadius=function(X){return arguments.length?(F=typeof X=="function"?X:B(+X),$):F},$.cornerRadius=function(X){return arguments.length?(H=typeof X=="function"?X:B(+X),$):H},$.padRadius=function(X){return arguments.length?(Y=X==null?null:typeof X=="function"?X:B(+X),$):Y},$.startAngle=function(X){return arguments.length?(Me=typeof X=="function"?X:B(+X),$):Me},$.endAngle=function(X){return arguments.length?(_t=typeof X=="function"?X:B(+X),$):_t},$.padAngle=function(X){return arguments.length?(x=typeof X=="function"?X:B(+X),$):x},$.context=function(X){return arguments.length?(T=X??null,$):T},$}function lt(y){return typeof y=="object"&&"length"in y?y:Array.from(y)}function Ht(y){this._context=y}Ht.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;default:this._context.lineTo(y,F);break}}};function Ct(y){return new Ht(y)}function mn(y){return y[0]}function kt(y){return y[1]}function Bt(y,F){var H=B(!0),Y=null,Me=Ct,_t=null;y=typeof y=="function"?y:y===void 0?mn:B(y),F=typeof F=="function"?F:F===void 0?kt:B(F);function x(T){var $,X=(T=lt(T)).length,ge,Fe=!1,ot;for(Y==null&&(_t=Me(ot=L())),$=0;$<=X;++$)!($<X&&H(ge=T[$],$,T))===Fe&&((Fe=!Fe)?_t.lineStart():_t.lineEnd()),Fe&&_t.point(+y(ge,$,T),+F(ge,$,T));if(ot)return _t=null,ot+""||null}return x.x=function(T){return arguments.length?(y=typeof T=="function"?T:B(+T),x):y},x.y=function(T){return arguments.length?(F=typeof T=="function"?T:B(+T),x):F},x.defined=function(T){return arguments.length?(H=typeof T=="function"?T:B(!!T),x):H},x.curve=function(T){return arguments.length?(Me=T,Y!=null&&(_t=Me(Y)),x):Me},x.context=function(T){return arguments.length?(T==null?Y=_t=null:_t=Me(Y=T),x):Y},x}function tn(y,F,H){var Y=null,Me=B(!0),_t=null,x=Ct,T=null;y=typeof y=="function"?y:y===void 0?mn:B(+y),F=typeof F=="function"?F:B(F===void 0?0:+F),H=typeof H=="function"?H:H===void 0?kt:B(+H);function $(ge){var Fe,ot,zt,wn=(ge=lt(ge)).length,Sn,Pn=!1,Hn,or=new Array(wn),Or=new Array(wn);for(_t==null&&(T=x(Hn=L())),Fe=0;Fe<=wn;++Fe){if(!(Fe<wn&&Me(Sn=ge[Fe],Fe,ge))===Pn)if(Pn=!Pn)ot=Fe,T.areaStart(),T.lineStart();else{for(T.lineEnd(),T.lineStart(),zt=Fe-1;zt>=ot;--zt)T.point(or[zt],Or[zt]);T.lineEnd(),T.areaEnd()}Pn&&(or[Fe]=+y(Sn,Fe,ge),Or[Fe]=+F(Sn,Fe,ge),T.point(Y?+Y(Sn,Fe,ge):or[Fe],H?+H(Sn,Fe,ge):Or[Fe]))}if(Hn)return T=null,Hn+""||null}function X(){return Bt().defined(Me).curve(x).context(_t)}return $.x=function(ge){return arguments.length?(y=typeof ge=="function"?ge:B(+ge),Y=null,$):y},$.x0=function(ge){return arguments.length?(y=typeof ge=="function"?ge:B(+ge),$):y},$.x1=function(ge){return arguments.length?(Y=ge==null?null:typeof ge=="function"?ge:B(+ge),$):Y},$.y=function(ge){return arguments.length?(F=typeof ge=="function"?ge:B(+ge),H=null,$):F},$.y0=function(ge){return arguments.length?(F=typeof ge=="function"?ge:B(+ge),$):F},$.y1=function(ge){return arguments.length?(H=ge==null?null:typeof ge=="function"?ge:B(+ge),$):H},$.lineX0=$.lineY0=function(){return X().x(y).y(F)},$.lineY1=function(){return X().x(y).y(H)},$.lineX1=function(){return X().x(Y).y(F)},$.defined=function(ge){return arguments.length?(Me=typeof ge=="function"?ge:B(!!ge),$):Me},$.curve=function(ge){return arguments.length?(x=ge,_t!=null&&(T=x(_t)),$):x},$.context=function(ge){return arguments.length?(ge==null?_t=T=null:T=x(_t=ge),$):_t},$}var bt={draw(y,F){let H=ye(F/at);y.moveTo(H,0),y.arc(0,0,H,0,Ze)}};function ve(y,F){let H=null;y=typeof y=="function"?y:B(y||bt),F=typeof F=="function"?F:B(F===void 0?64:+F);function Y(){let Me;if(H||(H=Me=L()),y.apply(this,arguments).draw(H,+F.apply(this,arguments)),Me)return H=null,Me+""||null}return Y.type=function(Me){return arguments.length?(y=typeof Me=="function"?Me:B(Me),Y):y},Y.size=function(Me){return arguments.length?(F=typeof Me=="function"?Me:B(+Me),Y):F},Y.context=function(Me){return arguments.length?(H=Me??null,Y):H},Y}function Le(){}function _e(y,F,H){y._context.bezierCurveTo((2*y._x0+y._x1)/3,(2*y._y0+y._y1)/3,(y._x0+2*y._x1)/3,(y._y0+2*y._y1)/3,(y._x0+4*y._x1+F)/6,(y._y0+4*y._y1+H)/6)}function ce(y){this._context=y}ce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_e(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_e(this,y,F);break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=F}};function tt(y){return new ce(y)}function Ke(y){this._context=y}Ke.prototype={areaStart:Le,areaEnd:Le,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._x2=y,this._y2=F;break;case 1:this._point=2,this._x3=y,this._y3=F;break;case 2:this._point=3,this._x4=y,this._y4=F,this._context.moveTo((this._x0+4*this._x1+y)/6,(this._y0+4*this._y1+F)/6);break;default:_e(this,y,F);break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=F}};function re(y){return new Ke(y)}function Oe(y){this._context=y}Oe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var H=(this._x0+4*this._x1+y)/6,Y=(this._y0+4*this._y1+F)/6;this._line?this._context.lineTo(H,Y):this._context.moveTo(H,Y);break;case 3:this._point=4;default:_e(this,y,F);break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=F}};function nt(y){return new Oe(y)}function ft(y,F){this._basis=new ce(y),this._beta=F}ft.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var y=this._x,F=this._y,H=y.length-1;if(H>0)for(var Y=y[0],Me=F[0],_t=y[H]-Y,x=F[H]-Me,T=-1,$;++T<=H;)$=T/H,this._basis.point(this._beta*y[T]+(1-this._beta)*(Y+$*_t),this._beta*F[T]+(1-this._beta)*(Me+$*x));this._x=this._y=null,this._basis.lineEnd()},point:function(y,F){this._x.push(+y),this._y.push(+F)}};var Ot=function y(F){function H(Y){return F===1?new ce(Y):new ft(Y,F)}return H.beta=function(Y){return y(+Y)},H}(.85);function Yt(y,F,H){y._context.bezierCurveTo(y._x1+y._k*(y._x2-y._x0),y._y1+y._k*(y._y2-y._y0),y._x2+y._k*(y._x1-F),y._y2+y._k*(y._y1-H),y._x2,y._y2)}function Gt(y,F){this._context=y,this._k=(1-F)/6}Gt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Yt(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2,this._x1=y,this._y1=F;break;case 2:this._point=3;default:Yt(this,y,F);break}this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var fn=function y(F){function H(Y){return new Gt(Y,F)}return H.tension=function(Y){return y(+Y)},H}(0);function gn(y,F){this._context=y,this._k=(1-F)/6}gn.prototype={areaStart:Le,areaEnd:Le,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._x3=y,this._y3=F;break;case 1:this._point=2,this._context.moveTo(this._x4=y,this._y4=F);break;case 2:this._point=3,this._x5=y,this._y5=F;break;default:Yt(this,y,F);break}this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var yn=function y(F){function H(Y){return new gn(Y,F)}return H.tension=function(Y){return y(+Y)},H}(0);function Lt(y,F){this._context=y,this._k=(1-F)/6}Lt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Yt(this,y,F);break}this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var un=function y(F){function H(Y){return new Lt(Y,F)}return H.tension=function(Y){return y(+Y)},H}(0);function Mn(y,F,H){var Y=y._x1,Me=y._y1,_t=y._x2,x=y._y2;if(y._l01_a>He){var T=2*y._l01_2a+3*y._l01_a*y._l12_a+y._l12_2a,$=3*y._l01_a*(y._l01_a+y._l12_a);Y=(Y*T-y._x0*y._l12_2a+y._x2*y._l01_2a)/$,Me=(Me*T-y._y0*y._l12_2a+y._y2*y._l01_2a)/$}if(y._l23_a>He){var X=2*y._l23_2a+3*y._l23_a*y._l12_a+y._l12_2a,ge=3*y._l23_a*(y._l23_a+y._l12_a);_t=(_t*X+y._x1*y._l23_2a-F*y._l12_2a)/ge,x=(x*X+y._y1*y._l23_2a-H*y._l12_2a)/ge}y._context.bezierCurveTo(Y,Me,_t,x,y._x2,y._y2)}function tr(y,F){this._context=y,this._alpha=F}tr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){if(y=+y,F=+F,this._point){var H=this._x2-y,Y=this._y2-F;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(H*H+Y*Y,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;break;case 2:this._point=3;default:Mn(this,y,F);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var Rn=function y(F){function H(Y){return F?new tr(Y,F):new Gt(Y,0)}return H.alpha=function(Y){return y(+Y)},H}(.5);function Ne(y,F){this._context=y,this._alpha=F}Ne.prototype={areaStart:Le,areaEnd:Le,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(y,F){if(y=+y,F=+F,this._point){var H=this._x2-y,Y=this._y2-F;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(H*H+Y*Y,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=y,this._y3=F;break;case 1:this._point=2,this._context.moveTo(this._x4=y,this._y4=F);break;case 2:this._point=3,this._x5=y,this._y5=F;break;default:Mn(this,y,F);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var ze=function y(F){function H(Y){return F?new Ne(Y,F):new gn(Y,0)}return H.alpha=function(Y){return y(+Y)},H}(.5);function De(y,F){this._context=y,this._alpha=F}De.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){if(y=+y,F=+F,this._point){var H=this._x2-y,Y=this._y2-F;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(H*H+Y*Y,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Mn(this,y,F);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var Pt=function y(F){function H(Y){return F?new De(Y,F):new Lt(Y,0)}return H.alpha=function(Y){return y(+Y)},H}(.5);function mt(y){this._context=y}mt.prototype={areaStart:Le,areaEnd:Le,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(y,F){y=+y,F=+F,this._point?this._context.lineTo(y,F):(this._point=1,this._context.moveTo(y,F))}};function xt(y){return new mt(y)}function rn(y){return y<0?-1:1}function Qt(y,F,H){var Y=y._x1-y._x0,Me=F-y._x1,_t=(y._y1-y._y0)/(Y||Me<0&&-0),x=(H-y._y1)/(Me||Y<0&&-0),T=(_t*Me+x*Y)/(Y+Me);return(rn(_t)+rn(x))*Math.min(Math.abs(_t),Math.abs(x),.5*Math.abs(T))||0}function Fn(y,F){var H=y._x1-y._x0;return H?(3*(y._y1-y._y0)/H-F)/2:F}function Wn(y,F,H){var Y=y._x0,Me=y._y0,_t=y._x1,x=y._y1,T=(_t-Y)/3;y._context.bezierCurveTo(Y+T,Me+T*F,_t-T,x-T*H,_t,x)}function Zn(y){this._context=y}Zn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wn(this,this._t0,Fn(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){var H=NaN;if(y=+y,F=+F,!(y===this._x1&&F===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;break;case 2:this._point=3,Wn(this,Fn(this,H=Qt(this,y,F)),H);break;default:Wn(this,this._t0,H=Qt(this,y,F));break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=F,this._t0=H}}};function Nn(y){this._context=new nr(y)}(Nn.prototype=Object.create(Zn.prototype)).point=function(y,F){Zn.prototype.point.call(this,F,y)};function nr(y){this._context=y}nr.prototype={moveTo:function(y,F){this._context.moveTo(F,y)},closePath:function(){this._context.closePath()},lineTo:function(y,F){this._context.lineTo(F,y)},bezierCurveTo:function(y,F,H,Y,Me,_t){this._context.bezierCurveTo(F,y,Y,H,_t,Me)}};function Ye(y){return new Zn(y)}function vt(y){return new Nn(y)}function oe(y){this._context=y}oe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var y=this._x,F=this._y,H=y.length;if(H)if(this._line?this._context.lineTo(y[0],F[0]):this._context.moveTo(y[0],F[0]),H===2)this._context.lineTo(y[1],F[1]);else for(var Y=Be(y),Me=Be(F),_t=0,x=1;x<H;++_t,++x)this._context.bezierCurveTo(Y[0][_t],Me[0][_t],Y[1][_t],Me[1][_t],y[x],F[x]);(this._line||this._line!==0&&H===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(y,F){this._x.push(+y),this._y.push(+F)}};function Be(y){var F,H=y.length-1,Y,Me=new Array(H),_t=new Array(H),x=new Array(H);for(Me[0]=0,_t[0]=2,x[0]=y[0]+2*y[1],F=1;F<H-1;++F)Me[F]=1,_t[F]=4,x[F]=4*y[F]+2*y[F+1];for(Me[H-1]=2,_t[H-1]=7,x[H-1]=8*y[H-1]+y[H],F=1;F<H;++F)Y=Me[F]/_t[F-1],_t[F]-=Y,x[F]-=Y*x[F-1];for(Me[H-1]=x[H-1]/_t[H-1],F=H-2;F>=0;--F)Me[F]=(x[F]-Me[F+1])/_t[F];for(_t[H-1]=(y[H]+Me[H-1])/2,F=0;F<H-1;++F)_t[F]=2*y[F+1]-Me[F+1];return[Me,_t]}function rt(y){return new oe(y)}function Dt(y,F){this._context=y,this._t=F}Dt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,F),this._context.lineTo(y,F);else{var H=this._x*(1-this._t)+y*this._t;this._context.lineTo(H,this._y),this._context.lineTo(H,F)}break}}this._x=y,this._y=F}};function hn(y){return new Dt(y,.5)}function an(y){return new Dt(y,0)}function dt(y){return new Dt(y,1)}let ie={basis:{curve:tt},"basis-closed":{curve:re},"basis-open":{curve:nt},bundle:{curve:Ot,tension:"beta",value:.85},cardinal:{curve:fn,tension:"tension",value:0},"cardinal-open":{curve:un,tension:"tension",value:0},"cardinal-closed":{curve:yn,tension:"tension",value:0},"catmull-rom":{curve:Rn,tension:"alpha",value:.5},"catmull-rom-closed":{curve:ze,tension:"alpha",value:.5},"catmull-rom-open":{curve:Pt,tension:"alpha",value:.5},linear:{curve:Ct},"linear-closed":{curve:xt},monotone:{horizontal:vt,vertical:Ye},natural:{curve:rt},step:{curve:hn},"step-after":{curve:dt},"step-before":{curve:an}};function Te(y,F,H){var Y=e.hasOwnProperty(ie,y)&&ie[y],Me=null;return Y&&(Me=Y.curve||Y[F||"vertical"],Y.tension&&H!=null&&(Me=Me[Y.tension](H))),Me}let Ue={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},gt=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,St=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,Rt=/^((\s+,?\s*)|(,\s*))/,ne=/^[01]/;function Ce(y){let F=[];return(y.match(gt)||[]).forEach(Y=>{let Me=Y[0],_t=Me.toLowerCase(),x=Ue[_t],T=We(_t,x,Y.slice(1).trim()),$=T.length;if($<x||$&&$%x!==0)throw Error("Invalid SVG path, incorrect parameter count");if(F.push([Me,...T.slice(0,x)]),$!==x){_t==="m"&&(Me=Me==="M"?"L":"l");for(let X=x;X<$;X+=x)F.push([Me,...T.slice(X,X+x)])}}),F}function We(y,F,H){let Y=[];for(let Me=0;F&&Me<H.length;)for(let _t=0;_t<F;++_t){let x=y==="a"&&(_t===3||_t===4)?ne:St,T=H.slice(Me).match(x);if(T===null)throw Error("Invalid SVG path, incorrect parameter type");Me+=T[0].length,Y.push(+T[0]);let $=H.slice(Me).match(Rt);$!==null&&(Me+=$[0].length)}return Y}let st=Math.PI/180,Ut=1e-14,sn=Math.PI/2,Cn=Math.PI*2,En=Math.sqrt(3)/2;var vn={},zn={},Re=[].join;function $e(y,F,H,Y,Me,_t,x,T,$){let X=Re.call(arguments);if(vn[X])return vn[X];let ge=x*st,Fe=Math.sin(ge),ot=Math.cos(ge);H=Math.abs(H),Y=Math.abs(Y);let zt=ot*(T-y)*.5+Fe*($-F)*.5,wn=ot*($-F)*.5-Fe*(T-y)*.5,Sn=zt*zt/(H*H)+wn*wn/(Y*Y);Sn>1&&(Sn=Math.sqrt(Sn),H*=Sn,Y*=Sn);let Pn=ot/H,Hn=Fe/H,or=-Fe/Y,Or=ot/Y,Kr=Pn*T+Hn*$,Lr=or*T+Or*$,bi=Pn*y+Hn*F,ki=or*y+Or*F,Os=(bi-Kr)*(bi-Kr)+(ki-Lr)*(ki-Lr),ds=1/Os-.25;ds<0&&(ds=0);let Zs=Math.sqrt(ds);_t==Me&&(Zs=-Zs);let gs=.5*(Kr+bi)-Zs*(ki-Lr),Gr=.5*(Lr+ki)+Zs*(bi-Kr),Ki=Math.atan2(Lr-Gr,Kr-gs),tu=Math.atan2(ki-Gr,bi-gs)-Ki;tu<0&&_t===1?tu+=Cn:tu>0&&_t===0&&(tu-=Cn);let Iu=Math.ceil(Math.abs(tu/(sn+.001))),bs=[];for(let Ta=0;Ta<Iu;++Ta){let Va=Ki+Ta*tu/Iu,Dl=Ki+(Ta+1)*tu/Iu;bs[Ta]=[gs,Gr,Va,Dl,H,Y,Fe,ot]}return vn[X]=bs}function Ft(y){let F=Re.call(y);if(zn[F])return zn[F];var H=y[0],Y=y[1],Me=y[2],_t=y[3],x=y[4],T=y[5],$=y[6],X=y[7];let ge=X*x,Fe=-$*T,ot=$*x,zt=X*T,wn=Math.cos(Me),Sn=Math.sin(Me),Pn=Math.cos(_t),Hn=Math.sin(_t),or=.5*(_t-Me),Or=Math.sin(or*.5),Kr=8/3*Or*Or/Math.sin(or),Lr=H+wn-Kr*Sn,bi=Y+Sn+Kr*wn,ki=H+Pn,Os=Y+Hn,ds=ki+Kr*Hn,Zs=Os-Kr*Pn;return zn[F]=[ge*Lr+Fe*bi,ot*Lr+zt*bi,ge*ds+Fe*Zs,ot*ds+zt*Zs,ge*ki+Fe*Os,ot*ki+zt*Os]}let N=["l",0,0,0,0,0,0,0];function V(y,F,H){let Y=N[0]=y[0];if(Y==="a"||Y==="A")N[1]=F*y[1],N[2]=H*y[2],N[3]=y[3],N[4]=y[4],N[5]=y[5],N[6]=F*y[6],N[7]=H*y[7];else if(Y==="h"||Y==="H")N[1]=F*y[1];else if(Y==="v"||Y==="V")N[1]=H*y[1];else for(var Me=1,_t=y.length;Me<_t;++Me)N[Me]=(Me%2==1?F:H)*y[Me];return N}function Ee(y,F,H,Y,Me,_t){var x,T=null,$=0,X=0,ge=0,Fe=0,ot,zt,wn,Sn,Pn=0,Hn=0;H==null&&(H=0),Y==null&&(Y=0),Me==null&&(Me=1),_t==null&&(_t=Me),y.beginPath&&y.beginPath();for(var or=0,Or=F.length;or<Or;++or){switch(x=F[or],(Me!==1||_t!==1)&&(x=V(x,Me,_t)),x[0]){case"l":$+=x[1],X+=x[2],y.lineTo($+H,X+Y);break;case"L":$=x[1],X=x[2],y.lineTo($+H,X+Y);break;case"h":$+=x[1],y.lineTo($+H,X+Y);break;case"H":$=x[1],y.lineTo($+H,X+Y);break;case"v":X+=x[1],y.lineTo($+H,X+Y);break;case"V":X=x[1],y.lineTo($+H,X+Y);break;case"m":$+=x[1],X+=x[2],Pn=$,Hn=X,y.moveTo($+H,X+Y);break;case"M":$=x[1],X=x[2],Pn=$,Hn=X,y.moveTo($+H,X+Y);break;case"c":ot=$+x[5],zt=X+x[6],ge=$+x[3],Fe=X+x[4],y.bezierCurveTo($+x[1]+H,X+x[2]+Y,ge+H,Fe+Y,ot+H,zt+Y),$=ot,X=zt;break;case"C":$=x[5],X=x[6],ge=x[3],Fe=x[4],y.bezierCurveTo(x[1]+H,x[2]+Y,ge+H,Fe+Y,$+H,X+Y);break;case"s":ot=$+x[3],zt=X+x[4],ge=2*$-ge,Fe=2*X-Fe,y.bezierCurveTo(ge+H,Fe+Y,$+x[1]+H,X+x[2]+Y,ot+H,zt+Y),ge=$+x[1],Fe=X+x[2],$=ot,X=zt;break;case"S":ot=x[3],zt=x[4],ge=2*$-ge,Fe=2*X-Fe,y.bezierCurveTo(ge+H,Fe+Y,x[1]+H,x[2]+Y,ot+H,zt+Y),$=ot,X=zt,ge=x[1],Fe=x[2];break;case"q":ot=$+x[3],zt=X+x[4],ge=$+x[1],Fe=X+x[2],y.quadraticCurveTo(ge+H,Fe+Y,ot+H,zt+Y),$=ot,X=zt;break;case"Q":ot=x[3],zt=x[4],y.quadraticCurveTo(x[1]+H,x[2]+Y,ot+H,zt+Y),$=ot,X=zt,ge=x[1],Fe=x[2];break;case"t":ot=$+x[1],zt=X+x[2],T[0].match(/[QqTt]/)===null?(ge=$,Fe=X):T[0]==="t"?(ge=2*$-wn,Fe=2*X-Sn):T[0]==="q"&&(ge=2*$-ge,Fe=2*X-Fe),wn=ge,Sn=Fe,y.quadraticCurveTo(ge+H,Fe+Y,ot+H,zt+Y),$=ot,X=zt,ge=$+x[1],Fe=X+x[2];break;case"T":ot=x[1],zt=x[2],ge=2*$-ge,Fe=2*X-Fe,y.quadraticCurveTo(ge+H,Fe+Y,ot+H,zt+Y),$=ot,X=zt;break;case"a":xe(y,$+H,X+Y,[x[1],x[2],x[3],x[4],x[5],x[6]+$+H,x[7]+X+Y]),$+=x[6],X+=x[7];break;case"A":xe(y,$+H,X+Y,[x[1],x[2],x[3],x[4],x[5],x[6]+H,x[7]+Y]),$=x[6],X=x[7];break;case"z":case"Z":$=Pn,X=Hn,y.closePath();break}T=x}}function xe(y,F,H,Y){let Me=$e(Y[5],Y[6],Y[0],Y[1],Y[3],Y[4],Y[2],F,H);for(let _t=0;_t<Me.length;++_t){let x=Ft(Me[_t]);y.bezierCurveTo(x[0],x[1],x[2],x[3],x[4],x[5])}}let K=.5773502691896257,ae={circle:{draw:function(y,F){let H=Math.sqrt(F)/2;y.moveTo(H,0),y.arc(0,0,H,0,Cn)}},cross:{draw:function(y,F){var H=Math.sqrt(F)/2,Y=H/2.5;y.moveTo(-H,-Y),y.lineTo(-H,Y),y.lineTo(-Y,Y),y.lineTo(-Y,H),y.lineTo(Y,H),y.lineTo(Y,Y),y.lineTo(H,Y),y.lineTo(H,-Y),y.lineTo(Y,-Y),y.lineTo(Y,-H),y.lineTo(-Y,-H),y.lineTo(-Y,-Y),y.closePath()}},diamond:{draw:function(y,F){let H=Math.sqrt(F)/2;y.moveTo(-H,0),y.lineTo(0,-H),y.lineTo(H,0),y.lineTo(0,H),y.closePath()}},square:{draw:function(y,F){var H=Math.sqrt(F),Y=-H/2;y.rect(Y,Y,H,H)}},arrow:{draw:function(y,F){var H=Math.sqrt(F)/2,Y=H/7,Me=H/2.5,_t=H/8;y.moveTo(-Y,H),y.lineTo(Y,H),y.lineTo(Y,-_t),y.lineTo(Me,-_t),y.lineTo(0,-H),y.lineTo(-Me,-_t),y.lineTo(-Y,-_t),y.closePath()}},wedge:{draw:function(y,F){var H=Math.sqrt(F)/2,Y=En*H,Me=Y-H*K,_t=H/4;y.moveTo(0,-Y-Me),y.lineTo(-_t,Y-Me),y.lineTo(_t,Y-Me),y.closePath()}},triangle:{draw:function(y,F){var H=Math.sqrt(F)/2,Y=En*H,Me=Y-H*K;y.moveTo(0,-Y-Me),y.lineTo(-H,Y-Me),y.lineTo(H,Y-Me),y.closePath()}},"triangle-up":{draw:function(y,F){var H=Math.sqrt(F)/2,Y=En*H;y.moveTo(0,-Y),y.lineTo(-H,Y),y.lineTo(H,Y),y.closePath()}},"triangle-down":{draw:function(y,F){var H=Math.sqrt(F)/2,Y=En*H;y.moveTo(0,Y),y.lineTo(-H,-Y),y.lineTo(H,-Y),y.closePath()}},"triangle-right":{draw:function(y,F){var H=Math.sqrt(F)/2,Y=En*H;y.moveTo(Y,0),y.lineTo(-Y,-H),y.lineTo(-Y,H),y.closePath()}},"triangle-left":{draw:function(y,F){var H=Math.sqrt(F)/2,Y=En*H;y.moveTo(-Y,0),y.lineTo(Y,-H),y.lineTo(Y,H),y.closePath()}},stroke:{draw:function(y,F){let H=Math.sqrt(F)/2;y.moveTo(-H,0),y.lineTo(H,0)}}};function fe(y){return e.hasOwnProperty(ae,y)?ae[y]:It(y)}var Qe={};function It(y){if(!e.hasOwnProperty(Qe,y)){let F=Ce(y);Qe[y]={draw:function(H,Y){Ee(H,F,0,0,Math.sqrt(Y)/2)}}}return Qe[y]}let At=.448084975506;function dn(y){return y.x}function w(y){return y.y}function j(y){return y.width}function ee(y){return y.height}function Se(y){return typeof y=="function"?y:()=>+y}function ht(y,F,H){return Math.max(F,Math.min(y,H))}function Tt(){var y=dn,F=w,H=j,Y=ee,Me=Se(0),_t=Me,x=Me,T=Me,$=null;function X(ge,Fe,ot){var zt,wn=Fe??+y.call(this,ge),Sn=ot??+F.call(this,ge),Pn=+H.call(this,ge),Hn=+Y.call(this,ge),or=Math.min(Pn,Hn)/2,Or=ht(+Me.call(this,ge),0,or),Kr=ht(+_t.call(this,ge),0,or),Lr=ht(+x.call(this,ge),0,or),bi=ht(+T.call(this,ge),0,or);if($||($=zt=L()),Or<=0&&Kr<=0&&Lr<=0&&bi<=0)$.rect(wn,Sn,Pn,Hn);else{var ki=wn+Pn,Os=Sn+Hn;$.moveTo(wn+Or,Sn),$.lineTo(ki-Kr,Sn),$.bezierCurveTo(ki-At*Kr,Sn,ki,Sn+At*Kr,ki,Sn+Kr),$.lineTo(ki,Os-bi),$.bezierCurveTo(ki,Os-At*bi,ki-At*bi,Os,ki-bi,Os),$.lineTo(wn+Lr,Os),$.bezierCurveTo(wn+At*Lr,Os,wn,Os-At*Lr,wn,Os-Lr),$.lineTo(wn,Sn+Or),$.bezierCurveTo(wn,Sn+At*Or,wn+At*Or,Sn,wn+Or,Sn),$.closePath()}if(zt)return $=null,zt+""||null}return X.x=function(ge){return arguments.length?(y=Se(ge),X):y},X.y=function(ge){return arguments.length?(F=Se(ge),X):F},X.width=function(ge){return arguments.length?(H=Se(ge),X):H},X.height=function(ge){return arguments.length?(Y=Se(ge),X):Y},X.cornerRadius=function(ge,Fe,ot,zt){return arguments.length?(Me=Se(ge),_t=Fe!=null?Se(Fe):Me,T=ot!=null?Se(ot):Me,x=zt!=null?Se(zt):_t,X):Me},X.context=function(ge){return arguments.length?($=ge??null,X):$},X}function Zt(){var y,F,H,Y,Me=null,_t,x,T,$;function X(Fe,ot,zt){let wn=zt/2;if(_t){var Sn=T-ot,Pn=Fe-x;if(Sn||Pn){var Hn=Math.sqrt(Sn*Sn+Pn*Pn),or=(Sn/=Hn)*$,Or=(Pn/=Hn)*$,Kr=Math.atan2(Pn,Sn);Me.moveTo(x-or,T-Or),Me.lineTo(Fe-Sn*wn,ot-Pn*wn),Me.arc(Fe,ot,wn,Kr-Math.PI,Kr),Me.lineTo(x+or,T+Or),Me.arc(x,T,$,Kr,Kr+Math.PI)}else Me.arc(Fe,ot,wn,0,Cn);Me.closePath()}else _t=1;x=Fe,T=ot,$=wn}function ge(Fe){var ot,zt=Fe.length,wn,Sn=!1,Pn;for(Me==null&&(Me=Pn=L()),ot=0;ot<=zt;++ot)!(ot<zt&&Y(wn=Fe[ot],ot,Fe))===Sn&&(Sn=!Sn)&&(_t=0),Sn&&X(+y(wn,ot,Fe),+F(wn,ot,Fe),+H(wn,ot,Fe));if(Pn)return Me=null,Pn+""||null}return ge.x=function(Fe){return arguments.length?(y=Fe,ge):y},ge.y=function(Fe){return arguments.length?(F=Fe,ge):F},ge.size=function(Fe){return arguments.length?(H=Fe,ge):H},ge.defined=function(Fe){return arguments.length?(Y=Fe,ge):Y},ge.context=function(Fe){return arguments.length?(Fe==null?Me=null:Me=Fe,ge):Me},ge}function Xt(y,F){return y??F}let xn=y=>y.x||0,qn=y=>y.y||0,Un=y=>y.width||0,Vn=y=>y.height||0,Jr=y=>(y.x||0)+(y.width||0),Vr=y=>(y.y||0)+(y.height||0),yr=y=>y.startAngle||0,Mr=y=>y.endAngle||0,xi=y=>y.padAngle||0,ai=y=>y.innerRadius||0,Xi=y=>y.outerRadius||0,ws=y=>y.cornerRadius||0,ts=y=>Xt(y.cornerRadiusTopLeft,y.cornerRadius)||0,Aa=y=>Xt(y.cornerRadiusTopRight,y.cornerRadius)||0,xa=y=>Xt(y.cornerRadiusBottomRight,y.cornerRadius)||0,yl=y=>Xt(y.cornerRadiusBottomLeft,y.cornerRadius)||0,Nc=y=>Xt(y.size,64),fu=y=>y.size||1,du=y=>y.defined!==!1,Xu=y=>fe(y.shape||"circle"),Du=Je().startAngle(yr).endAngle(Mr).padAngle(xi).innerRadius(ai).outerRadius(Xi).cornerRadius(ws),Lc=tn().x(xn).y1(qn).y0(Vr).defined(du),na=tn().y(qn).x1(xn).x0(Jr).defined(du),Zu=Bt().x(xn).y(qn).defined(du),nf=Tt().x(xn).y(qn).width(Un).height(Vn).cornerRadius(ts,Aa,xa,yl),Ge=ve().type(Xu).size(Nc),Kt=Zt().x(xn).y(qn).defined(du).size(fu);function jn(y){return y.cornerRadius||y.cornerRadiusTopLeft||y.cornerRadiusTopRight||y.cornerRadiusBottomRight||y.cornerRadiusBottomLeft}function Yn(y,F){return Du.context(y)(F)}function ri(y,F){let H=F[0],Y=H.interpolate||"linear";return(H.orient==="horizontal"?na:Lc).curve(Te(Y,H.orient,H.tension)).context(y)(F)}function Br(y,F){let H=F[0],Y=H.interpolate||"linear";return Zu.curve(Te(Y,H.orient,H.tension)).context(y)(F)}function Xr(y,F,H,Y){return nf.context(y)(F,H,Y)}function As(y,F){return(F.mark.shape||F.shape).context(y)(F)}function fo(y,F){return Ge.context(y)(F)}function io(y,F){return Kt.context(y)(F)}var us=1;function so(){us=1}function ho(y,F,H){var Y=F.clip,Me=y._defs,_t=F.clip_id||(F.clip_id="clip"+us++),x=Me.clipping[_t]||(Me.clipping[_t]={id:_t});return e.isFunction(Y)?x.path=Y(null):jn(H)?x.path=Xr(null,H,0,0):(x.width=H.width||0,x.height=H.height||0),"url(#"+_t+")"}function hi(y){this.clear(),y&&this.union(y)}hi.prototype={clone(){return new hi(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(y){return this.x1===y.x1&&this.y1===y.y1&&this.x2===y.x2&&this.y2===y.y2},set(y,F,H,Y){return H<y?(this.x2=y,this.x1=H):(this.x1=y,this.x2=H),Y<F?(this.y2=F,this.y1=Y):(this.y1=F,this.y2=Y),this},add(y,F){return y<this.x1&&(this.x1=y),F<this.y1&&(this.y1=F),y>this.x2&&(this.x2=y),F>this.y2&&(this.y2=F),this},expand(y){return this.x1-=y,this.y1-=y,this.x2+=y,this.y2+=y,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(y){return this.x1*=y,this.y1*=y,this.x2*=y,this.y2*=y,this},translate(y,F){return this.x1+=y,this.x2+=y,this.y1+=F,this.y2+=F,this},rotate(y,F,H){let Y=this.rotatedPoints(y,F,H);return this.clear().add(Y[0],Y[1]).add(Y[2],Y[3]).add(Y[4],Y[5]).add(Y[6],Y[7])},rotatedPoints(y,F,H){var{x1:Y,y1:Me,x2:_t,y2:x}=this,T=Math.cos(y),$=Math.sin(y),X=F-F*T+H*$,ge=H-F*$-H*T;return[T*Y-$*Me+X,$*Y+T*Me+ge,T*Y-$*x+X,$*Y+T*x+ge,T*_t-$*Me+X,$*_t+T*Me+ge,T*_t-$*x+X,$*_t+T*x+ge]},union(y){return y.x1<this.x1&&(this.x1=y.x1),y.y1<this.y1&&(this.y1=y.y1),y.x2>this.x2&&(this.x2=y.x2),y.y2>this.y2&&(this.y2=y.y2),this},intersect(y){return y.x1>this.x1&&(this.x1=y.x1),y.y1>this.y1&&(this.y1=y.y1),y.x2<this.x2&&(this.x2=y.x2),y.y2<this.y2&&(this.y2=y.y2),this},encloses(y){return y&&this.x1<=y.x1&&this.x2>=y.x2&&this.y1<=y.y1&&this.y2>=y.y2},alignsWith(y){return y&&(this.x1==y.x1||this.x2==y.x2||this.y1==y.y1||this.y2==y.y2)},intersects(y){return y&&!(this.x2<y.x1||this.x1>y.x2||this.y2<y.y1||this.y1>y.y2)},contains(y,F){return!(y<this.x1||y>this.x2||F<this.y1||F>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function Ei(y){this.mark=y,this.bounds=this.bounds||new hi}function Wi(y){Ei.call(this,y),this.items=this.items||[]}e.inherits(Wi,Ei);function Xo(y){this._pending=0,this._loader=y||r.loader()}function da(y){y._pending+=1}function ha(y){y._pending-=1}Xo.prototype={pending(){return this._pending},sanitizeURL(y){let F=this;return da(F),F._loader.sanitize(y,{context:"href"}).then(H=>(ha(F),H)).catch(()=>(ha(F),null))},loadImage(y){let F=this,H=t.image();return da(F),F._loader.sanitize(y,{context:"image"}).then(Y=>{let Me=Y.href;if(!Me||!H)throw{url:Me};let _t=new H,x=e.hasOwnProperty(Y,"crossOrigin")?Y.crossOrigin:"anonymous";return x!=null&&(_t.crossOrigin=x),_t.onload=()=>ha(F),_t.onerror=()=>ha(F),_t.src=Me,_t}).catch(Y=>(ha(F),{complete:!1,width:0,height:0,src:Y&&Y.url||""}))},ready(){let y=this;return new Promise(F=>{function H(Y){y.pending()?setTimeout(()=>{H(!0)},10):F(Y)}H(!1)})}};function po(y,F,H){if(F.stroke&&F.opacity!==0&&F.strokeOpacity!==0){let Y=F.strokeWidth!=null?+F.strokeWidth:1;y.expand(Y+(H?ls(F,Y):0))}return y}function ls(y,F){return y.strokeJoin&&y.strokeJoin!=="miter"?0:F}let ps=Cn-1e-8,Zi,hu,Ps,ga,aa,Ri,Wo,vs,Ii=(y,F)=>Zi.add(y,F),Oo=(y,F)=>Ii(hu=y,Ps=F),ka=y=>Ii(y,Zi.y1),Xa=y=>Ii(Zi.x1,y),Ro=(y,F)=>aa*y+Wo*F,To=(y,F)=>Ri*y+vs*F,$a=(y,F)=>Ii(Ro(y,F),To(y,F)),pu=(y,F)=>Oo(Ro(y,F),To(y,F));function za(y,F){return Zi=y,F?(ga=F*st,aa=vs=Math.cos(ga),Ri=Math.sin(ga),Wo=-Ri):(aa=vs=1,ga=Ri=Wo=0),ua}let ua={beginPath(){},closePath(){},moveTo:pu,lineTo:pu,rect(y,F,H,Y){ga?($a(y+H,F),$a(y+H,F+Y),$a(y,F+Y),pu(y,F)):(Ii(y+H,F+Y),Oo(y,F))},quadraticCurveTo(y,F,H,Y){let Me=Ro(y,F),_t=To(y,F),x=Ro(H,Y),T=To(H,Y);la(hu,Me,x,ka),la(Ps,_t,T,Xa),Oo(x,T)},bezierCurveTo(y,F,H,Y,Me,_t){let x=Ro(y,F),T=To(y,F),$=Ro(H,Y),X=To(H,Y),ge=Ro(Me,_t),Fe=To(Me,_t);vl(hu,x,$,ge,ka),vl(Ps,T,X,Fe,Xa),Oo(ge,Fe)},arc(y,F,H,Y,Me,_t){if(Y+=ga,Me+=ga,hu=H*Math.cos(Me)+y,Ps=H*Math.sin(Me)+F,Math.abs(Me-Y)>ps)Ii(y-H,F-H),Ii(y+H,F+H);else{let x=X=>Ii(H*Math.cos(X)+y,H*Math.sin(X)+F),T,$;if(x(Y),x(Me),Me!==Y)if(Y=Y%Cn,Y<0&&(Y+=Cn),Me=Me%Cn,Me<0&&(Me+=Cn),Me<Y&&(_t=!_t,T=Y,Y=Me,Me=T),_t)for(Me-=Cn,T=Y-Y%sn,$=0;$<4&&T>Me;++$,T-=sn)x(T);else for(T=Y-Y%sn+sn,$=0;$<4&&T<Me;++$,T=T+sn)x(T)}}};function la(y,F,H,Y){let Me=(y-F)/(y+H-2*F);0<Me&&Me<1&&Y(y+(F-y)*Me)}function vl(y,F,H,Y,Me){let _t=Y-y+3*F-3*H,x=y+H-2*F,T=y-F,$=0,X=0,ge;Math.abs(_t)>Ut?(ge=x*x+T*_t,ge>=0&&(ge=Math.sqrt(ge),$=(-x+ge)/_t,X=(-x-ge)/_t)):$=.5*T/x,0<$&&$<1&&Me(Hl($,y,F,H,Y)),0<X&&X<1&&Me(Hl(X,y,F,H,Y))}function Hl(y,F,H,Y,Me){let _t=1-y,x=_t*_t,T=y*y;return x*_t*F+3*x*y*H+3*_t*T*Y+T*y*Me}var ra=(ra=t.canvas(1,1))?ra.getContext("2d"):null;let el=new hi;function ui(y){return function(F,H){if(!ra)return!0;y(ra,F),el.clear().union(F.bounds).intersect(H).round();let{x1:Y,y1:Me,x2:_t,y2:x}=el;for(let T=Me;T<=x;++T)for(let $=Y;$<=_t;++$)if(ra.isPointInPath($,T))return!0;return!1}}function rs(y,F){return F.contains(y.x||0,y.y||0)}function cs(y,F){let H=y.x||0,Y=y.y||0,Me=y.width||0,_t=y.height||0;return F.intersects(el.set(H,Y,H+Me,Y+_t))}function mr(y,F){let H=y.x||0,Y=y.y||0,Me=y.x2!=null?y.x2:H,_t=y.y2!=null?y.y2:Y;return is(F,H,Y,Me,_t)}function is(y,F,H,Y,Me){let{x1:_t,y1:x,x2:T,y2:$}=y,X=Y-F,ge=Me-H,Fe=0,ot=1,zt,wn,Sn,Pn;for(Pn=0;Pn<4;++Pn){if(Pn===0&&(zt=-X,wn=-(_t-F)),Pn===1&&(zt=X,wn=T-F),Pn===2&&(zt=-ge,wn=-(x-H)),Pn===3&&(zt=ge,wn=$-H),Math.abs(zt)<1e-10&&wn<0)return!1;if(Sn=wn/zt,zt<0){if(Sn>ot)return!1;Sn>Fe&&(Fe=Sn)}else if(zt>0){if(Sn<Fe)return!1;Sn<ot&&(ot=Sn)}}return!0}function Ie(y,F){y.globalCompositeOperation=F.blend||"source-over"}function yt(y,F){return y??F}function Jt(y,F){let H=F.length;for(let Y=0;Y<H;++Y)y.addColorStop(F[Y].offset,F[Y].color);return y}function $t(y,F,H){let Y=H.width(),Me=H.height(),_t;if(F.gradient==="radial")_t=y.createRadialGradient(H.x1+yt(F.x1,.5)*Y,H.y1+yt(F.y1,.5)*Me,Math.max(Y,Me)*yt(F.r1,0),H.x1+yt(F.x2,.5)*Y,H.y1+yt(F.y2,.5)*Me,Math.max(Y,Me)*yt(F.r2,.5));else{let x=yt(F.x1,0),T=yt(F.y1,0),$=yt(F.x2,1),X=yt(F.y2,0);if(x===$||T===X||Y===Me)_t=y.createLinearGradient(H.x1+x*Y,H.y1+T*Me,H.x1+$*Y,H.y1+X*Me);else{let ge=t.canvas(Math.ceil(Y),Math.ceil(Me)),Fe=ge.getContext("2d");return Fe.scale(Y,Me),Fe.fillStyle=Jt(Fe.createLinearGradient(x,T,$,X),F.stops),Fe.fillRect(0,0,Y,Me),y.createPattern(ge,"no-repeat")}}return Jt(_t,F.stops)}function pn(y,F,H){return l(H)?$t(y,H,F.bounds):H}function Ln(y,F,H){return H*=F.fillOpacity==null?1:F.fillOpacity,H>0?(y.globalAlpha=H,y.fillStyle=pn(y,F,F.fill),!0):!1}var Kn=[];function $n(y,F,H){var Y=(Y=F.strokeWidth)!=null?Y:1;return Y<=0?!1:(H*=F.strokeOpacity==null?1:F.strokeOpacity,H>0?(y.globalAlpha=H,y.strokeStyle=pn(y,F,F.stroke),y.lineWidth=Y,y.lineCap=F.strokeCap||"butt",y.lineJoin=F.strokeJoin||"miter",y.miterLimit=F.strokeMiterLimit||10,y.setLineDash&&(y.setLineDash(F.strokeDash||Kn),y.lineDashOffset=F.strokeDashOffset||0),!0):!1)}function br(y,F){return y.zindex-F.zindex||y.index-F.index}function Cr(y){if(!y.zdirty)return y.zitems;var F=y.items,H=[],Y,Me,_t;for(Me=0,_t=F.length;Me<_t;++Me)Y=F[Me],Y.index=Me,Y.zindex&&H.push(Y);return y.zdirty=!1,y.zitems=H.sort(br)}function Gn(y,F){var H=y.items,Y,Me;if(!H||!H.length)return;let _t=Cr(y);if(_t&&_t.length){for(Y=0,Me=H.length;Y<Me;++Y)H[Y].zindex||F(H[Y]);H=_t}for(Y=0,Me=H.length;Y<Me;++Y)F(H[Y])}function ar(y,F){var H=y.items,Y,Me;if(!H||!H.length)return null;let _t=Cr(y);for(_t&&_t.length&&(H=_t),Me=H.length;--Me>=0;)if(Y=F(H[Me]))return Y;if(H===_t){for(H=y.items,Me=H.length;--Me>=0;)if(!H[Me].zindex&&(Y=F(H[Me])))return Y}return null}function er(y){return function(F,H,Y){Gn(H,Me=>{(!Y||Y.intersects(Me.bounds))&&Rr(y,F,Me,Me)})}}function gr(y){return function(F,H,Y){H.items.length&&(!Y||Y.intersects(H.bounds))&&Rr(y,F,H.items[0],H.items)}}function Rr(y,F,H,Y){var Me=H.opacity==null?1:H.opacity;Me!==0&&(y(F,Y)||(Ie(F,H),H.fill&&Ln(F,H,Me)&&F.fill(),H.stroke&&$n(F,H,Me)&&F.stroke()))}function di(y){return y=y||e.truthy,function(F,H,Y,Me,_t,x){return Y*=F.pixelRatio,Me*=F.pixelRatio,ar(H,T=>{let $=T.bounds;if(!($&&!$.contains(_t,x)||!$)&&y(F,T,Y,Me,_t,x))return T})}}function ni(y,F){return function(H,Y,Me,_t){var x=Array.isArray(Y)?Y[0]:Y,T=F??x.fill,$=x.stroke&&H.isPointInStroke,X,ge;return $&&(X=x.strokeWidth,ge=x.strokeCap,H.lineWidth=X??1,H.lineCap=ge??"butt"),y(H,Y)?!1:T&&H.isPointInPath(Me,_t)||$&&H.isPointInStroke(Me,_t)}}function pi(y){return di(ni(y))}function ii(y,F){return"translate("+y+","+F+")"}function qr(y){return"rotate("+y+")"}function Ir(y,F){return"scale("+y+","+F+")"}function yi(y){return ii(y.x||0,y.y||0)}function gi(y){return ii(y.x||0,y.y||0)+(y.angle?" "+qr(y.angle):"")}function os(y){return ii(y.x||0,y.y||0)+(y.angle?" "+qr(y.angle):"")+(y.scaleX||y.scaleY?" "+Ir(y.scaleX||1,y.scaleY||1):"")}function xs(y,F,H){function Y(x,T){x("transform",gi(T)),x("d",F(null,T))}function Me(x,T){return F(za(x,T.angle),T),po(x,T).translate(T.x||0,T.y||0)}function _t(x,T){var $=T.x||0,X=T.y||0,ge=T.angle||0;x.translate($,X),ge&&x.rotate(ge*=st),x.beginPath(),F(x,T),ge&&x.rotate(-ge),x.translate(-$,-X)}return{type:y,tag:"path",nested:!1,attr:Y,bound:Me,draw:er(_t),pick:pi(_t),isect:H||ui(_t)}}var vi=xs("arc",Yn);function Bs(y,F){for(var H=y[0].orient==="horizontal"?F[1]:F[0],Y=y[0].orient==="horizontal"?"y":"x",Me=y.length,_t=1/0,x,T;--Me>=0;)y[Me].defined!==!1&&(T=Math.abs(y[Me][Y]-H),T<_t&&(_t=T,x=y[Me]));return x}function ss(y,F){for(var H=Math.pow(y[0].strokeWidth||1,2),Y=y.length,Me,_t,x;--Y>=0;)if(y[Y].defined!==!1&&(Me=y[Y].x-F[0],_t=y[Y].y-F[1],x=Me*Me+_t*_t,x<H))return y[Y];return null}function ya(y,F){for(var H=y.length,Y,Me,_t;--H>=0;)if(y[H].defined!==!1&&(Y=y[H].x-F[0],Me=y[H].y-F[1],_t=Y*Y+Me*Me,Y=y[H].size||1,_t<Y*Y))return y[H];return null}function No(y,F,H){function Y($,X){var ge=X.mark.items;ge.length&&$("d",F(null,ge))}function Me($,X){var ge=X.items;return ge.length===0?$:(F(za($),ge),po($,ge[0]))}function _t($,X){$.beginPath(),F($,X)}let x=ni(_t);function T($,X,ge,Fe,ot,zt){var wn=X.items,Sn=X.bounds;return!wn||!wn.length||Sn&&!Sn.contains(ot,zt)?null:(ge*=$.pixelRatio,Fe*=$.pixelRatio,x($,wn,ge,Fe)?wn[0]:null)}return{type:y,tag:"path",nested:!0,attr:Y,bound:Me,draw:gr(_t),pick:T,isect:rs,tip:H}}var Ts=No("area",ri,Bs);function nn(y,F){var H=F.clip;y.save(),e.isFunction(H)?(y.beginPath(),H(y),y.clip()):Jn(y,F.group)}function Jn(y,F){y.beginPath(),jn(F)?Xr(y,F,0,0):y.rect(0,0,F.width||0,F.height||0),y.clip()}function bn(y){let F=yt(y.strokeWidth,1);return y.strokeOffset!=null?y.strokeOffset:y.stroke&&F>.5&&F<1.5?.5-Math.abs(F-1):0}function Yr(y,F){y("transform",yi(F))}function Ti(y,F){let H=bn(F);y("d",Xr(null,F,H,H))}function ns(y,F){y("class","background"),y("aria-hidden",!0),Ti(y,F)}function ms(y,F){y("class","foreground"),y("aria-hidden",!0),F.strokeForeground?Ti(y,F):y("d","")}function Hi(y,F,H){let Y=F.clip?ho(H,F,F):null;y("clip-path",Y)}function fs(y,F){if(!F.clip&&F.items){let H=F.items,Y=H.length;for(let Me=0;Me<Y;++Me)y.union(H[Me].bounds)}return(F.clip||F.width||F.height)&&!F.noBound&&y.add(0,0).add(F.width||0,F.height||0),po(y,F),y.translate(F.x||0,F.y||0)}function mu(y,F,H,Y){let Me=bn(F);y.beginPath(),Xr(y,F,(H||0)+Me,(Y||0)+Me)}let le=ni(mu),ut=ni(mu,!1),en=ni(mu,!0);function Dn(y,F,H){Gn(F,Y=>{let Me=Y.x||0,_t=Y.y||0,x=Y.strokeForeground,T=Y.opacity==null?1:Y.opacity;(Y.stroke||Y.fill)&&T&&(mu(y,Y,Me,_t),Ie(y,Y),Y.fill&&Ln(y,Y,T)&&y.fill(),Y.stroke&&!x&&$n(y,Y,T)&&y.stroke()),y.save(),y.translate(Me,_t),Y.clip&&Jn(y,Y),H&&H.translate(-Me,-_t),Gn(Y,$=>{this.draw(y,$,H)}),H&&H.translate(Me,_t),y.restore(),x&&Y.stroke&&T&&(mu(y,Y,Me,_t),Ie(y,Y),$n(y,Y,T)&&y.stroke())})}function ir(y,F,H,Y,Me,_t){if(F.bounds&&!F.bounds.contains(Me,_t)||!F.items)return null;let x=H*y.pixelRatio,T=Y*y.pixelRatio;return ar(F,$=>{let X,ge,Fe,ot=$.bounds;if(ot&&!ot.contains(Me,_t))return;ge=$.x||0,Fe=$.y||0;let zt=ge+($.width||0),wn=Fe+($.height||0),Sn=$.clip;if(Sn&&(Me<ge||Me>zt||_t<Fe||_t>wn))return;if(y.save(),y.translate(ge,Fe),ge=Me-ge,Fe=_t-Fe,Sn&&jn($)&&!en(y,$,x,T))return y.restore(),null;let Pn=$.strokeForeground,Hn=F.interactive!==!1;return Hn&&Pn&&$.stroke&&ut(y,$,x,T)?(y.restore(),$):(X=ar($,or=>vr(or,ge,Fe)?this.pick(or,H,Y,ge,Fe):null),!X&&Hn&&($.fill||!Pn&&$.stroke)&&le(y,$,x,T)&&(X=$),y.restore(),X||null)})}function vr(y,F,H){return(y.interactive!==!1||y.marktype==="group")&&y.bounds&&y.bounds.contains(F,H)}var dr={type:"group",tag:"g",nested:!1,attr:Yr,bound:fs,draw:Dn,pick:ir,isect:cs,content:Hi,background:ns,foreground:ms},es={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function _s(y,F){var H=y.image;return(!H||y.url&&y.url!==H.url)&&(H={complete:!1,width:0,height:0},F.loadImage(y.url).then(Y=>{y.image=Y,y.image.url=y.url})),H}function Ls(y,F){return y.width!=null?y.width:!F||!F.width?0:y.aspect!==!1&&y.height?y.height*F.width/F.height:F.width}function oo(y,F){return y.height!=null?y.height:!F||!F.height?0:y.aspect!==!1&&y.width?y.width*F.height/F.width:F.height}function Za(y,F){return y==="center"?F/2:y==="right"?F:0}function sc(y,F){return y==="middle"?F/2:y==="bottom"?F:0}function rf(y,F,H){let Y=_s(F,H),Me=Ls(F,Y),_t=oo(F,Y),x=(F.x||0)-Za(F.align,Me),T=(F.y||0)-sc(F.baseline,_t),$=!Y.src&&Y.toDataURL?Y.toDataURL():Y.src||"";y("href",$,es["xmlns:xlink"],"xlink:href"),y("transform",ii(x,T)),y("width",Me),y("height",_t),y("preserveAspectRatio",F.aspect===!1?"none":"xMidYMid")}function kc(y,F){let H=F.image,Y=Ls(F,H),Me=oo(F,H),_t=(F.x||0)-Za(F.align,Y),x=(F.y||0)-sc(F.baseline,Me);return y.set(_t,x,_t+Y,x+Me)}function u0(y,F,H){Gn(F,Y=>{if(H&&!H.intersects(Y.bounds))return;let Me=_s(Y,this),_t=Ls(Y,Me),x=oo(Y,Me);if(_t===0||x===0)return;let T=(Y.x||0)-Za(Y.align,_t),$=(Y.y||0)-sc(Y.baseline,x),X,ge,Fe,ot;Y.aspect!==!1&&(ge=Me.width/Me.height,Fe=Y.width/Y.height,ge===ge&&Fe===Fe&&ge!==Fe&&(Fe<ge?(ot=_t/ge,$+=(x-ot)/2,x=ot):(ot=x*ge,T+=(_t-ot)/2,_t=ot))),(Me.complete||Me.toDataURL)&&(Ie(y,Y),y.globalAlpha=(X=Y.opacity)!=null?X:1,y.imageSmoothingEnabled=Y.smooth!==!1,y.drawImage(Me,T,$,_t,x))})}var Q0={type:"image",tag:"image",nested:!1,attr:rf,bound:kc,draw:u0,pick:di(),isect:e.truthy,get:_s,xOffset:Za,yOffset:sc},oc=No("line",Br,ss);function sf(y,F){var H=F.scaleX||1,Y=F.scaleY||1;(H!==1||Y!==1)&&y("vector-effect","non-scaling-stroke"),y("transform",os(F)),y("d",F.path)}function l0(y,F){var H=F.path;if(H==null)return!0;var Y=F.x||0,Me=F.y||0,_t=F.scaleX||1,x=F.scaleY||1,T=(F.angle||0)*st,$=F.pathCache;(!$||$.path!==H)&&((F.pathCache=$=Ce(H)).path=H),T&&y.rotate&&y.translate?(y.translate(Y,Me),y.rotate(T),Ee(y,$,0,0,_t,x),y.rotate(-T),y.translate(-Y,-Me)):Ee(y,$,Y,Me,_t,x)}function _l(y,F){return l0(za(y,F.angle),F)?y.set(0,0,0,0):po(y,F,!0)}var Ic={type:"path",tag:"path",nested:!1,attr:sf,bound:_l,draw:er(l0),pick:pi(l0),isect:ui(l0)};function c0(y,F){y("d",Xr(null,F))}function ac(y,F){var H,Y;return po(y.set(H=F.x||0,Y=F.y||0,H+F.width||0,Y+F.height||0),F)}function Vl(y,F){y.beginPath(),Xr(y,F)}var G0={type:"rect",tag:"path",nested:!1,attr:c0,bound:ac,draw:er(Vl),pick:pi(Vl),isect:cs};function Th(y,F){y("transform",yi(F)),y("x2",F.x2!=null?F.x2-(F.x||0):0),y("y2",F.y2!=null?F.y2-(F.y||0):0)}function Y0(y,F){var H,Y;return po(y.set(H=F.x||0,Y=F.y||0,F.x2!=null?F.x2:H,F.y2!=null?F.y2:Y),F)}function K0(y,F,H){var Y,Me,_t,x;return F.stroke&&$n(y,F,H)?(Y=F.x||0,Me=F.y||0,_t=F.x2!=null?F.x2:Y,x=F.y2!=null?F.y2:Me,y.beginPath(),y.moveTo(Y,Me),y.lineTo(_t,x),!0):!1}function of(y,F,H){Gn(F,Y=>{if(!(H&&!H.intersects(Y.bounds))){var Me=Y.opacity==null?1:Y.opacity;Me&&K0(y,Y,Me)&&(Ie(y,Y),y.stroke())}})}function J0(y,F,H,Y){return y.isPointInStroke?K0(y,F,1)&&y.isPointInStroke(H,Y):!1}var Mc={type:"rule",tag:"line",nested:!1,attr:Th,bound:Y0,draw:of,pick:di(J0),isect:mr},f0=xs("shape",As),d0=xs("symbol",fo,rs);let h0=e.lruCache();var Uo={height:Ou,measureWidth:af,estimateWidth:p0,width:p0,canvas:Zo};Zo(!0);function Zo(y){Uo.width=y&&ra?af:p0}function p0(y,F){return bl(Sl(y,F),Ou(y))}function bl(y,F){return~~(.8*y.length*F)}function af(y,F){return Ou(y)<=0||!(F=Sl(y,F))?0:jd(F,Nt(y))}function jd(y,F){let H=`(${F}) ${y}`,Y=h0.get(H);return Y===void 0&&(ra.font=F,Y=ra.measureText(y).width,h0.set(H,Y)),Y}function Ou(y){return y.fontSize!=null?+y.fontSize||0:11}function _o(y){return y.lineHeight!=null?y.lineHeight:Ou(y)+2}function Fh(y){return e.isArray(y)?y.length>1?y:y[0]:y}function El(y){return Fh(y.lineBreak&&y.text&&!e.isArray(y.text)?y.text.split(y.lineBreak):y.text)}function Is(y){let F=El(y);return(e.isArray(F)?F.length-1:0)*_o(y)}function Sl(y,F){let H=F==null?"":(F+"").trim();return y.limit>0&&H.length?Z(y,H):H}function k(y){if(Uo.width===af){let F=Nt(y);return H=>jd(H,F)}else{let F=Ou(y);return H=>bl(H,F)}}function Z(y,F){var H=+y.limit,Y=k(y);if(Y(F)<H)return F;var Me=y.ellipsis||"\u2026",_t=y.dir==="rtl",x=0,T=F.length,$;if(H-=Y(Me),_t){for(;x<T;)$=x+T>>>1,Y(F.slice($))>H?x=$+1:T=$;return Me+F.slice(x)}else{for(;x<T;)$=1+(x+T>>>1),Y(F.slice(0,$))<H?x=$:T=$-1;return F.slice(0,x)+Me}}function je(y,F){var H=y.font;return(F&&H?String(H).replace(/"/g,"'"):H)||"sans-serif"}function Nt(y,F){return(y.fontStyle?y.fontStyle+" ":"")+(y.fontVariant?y.fontVariant+" ":"")+(y.fontWeight?y.fontWeight+" ":"")+Ou(y)+"px "+je(y,F)}function Vt(y){var F=y.baseline,H=Ou(y);return Math.round(F==="top"?.79*H:F==="middle"?.3*H:F==="bottom"?-.21*H:F==="line-top"?.29*H+.5*_o(y):F==="line-bottom"?.29*H-.5*_o(y):0)}let An={left:"start",center:"middle",right:"end"},kn=new hi;function sr(y){var F=y.x||0,H=y.y||0,Y=y.radius||0,Me;return Y&&(Me=(y.theta||0)-sn,F+=Y*Math.cos(Me),H+=Y*Math.sin(Me)),kn.x1=F,kn.y1=H,kn}function hr(y,F){var H=F.dx||0,Y=(F.dy||0)+Vt(F),Me=sr(F),_t=Me.x1,x=Me.y1,T=F.angle||0,$;y("text-anchor",An[F.align]||"start"),T?($=ii(_t,x)+" "+qr(T),(H||Y)&&($+=" "+ii(H,Y))):$=ii(_t+H,x+Y),y("transform",$)}function Nr(y,F,H){var Y=Uo.height(F),Me=F.align,_t=sr(F),x=_t.x1,T=_t.y1,$=F.dx||0,X=(F.dy||0)+Vt(F)-Math.round(.8*Y),ge=El(F),Fe;if(e.isArray(ge)?(Y+=_o(F)*(ge.length-1),Fe=ge.reduce((ot,zt)=>Math.max(ot,Uo.width(F,zt)),0)):Fe=Uo.width(F,ge),Me==="center"?$-=Fe/2:Me==="right"&&($-=Fe),y.set($+=x,X+=T,$+Fe,X+Y),F.angle&&!H)y.rotate(F.angle*st,x,T);else if(H===2)return y.rotatedPoints(F.angle*st,x,T);return y}function it(y,F,H){Gn(F,Y=>{var Me=Y.opacity==null?1:Y.opacity,_t,x,T,$,X,ge,Fe;if(!(H&&!H.intersects(Y.bounds)||Me===0||Y.fontSize<=0||Y.text==null||Y.text.length===0)){if(y.font=Nt(Y),y.textAlign=Y.align||"left",_t=sr(Y),x=_t.x1,T=_t.y1,Y.angle&&(y.save(),y.translate(x,T),y.rotate(Y.angle*st),x=T=0),x+=Y.dx||0,T+=(Y.dy||0)+Vt(Y),ge=El(Y),Ie(y,Y),e.isArray(ge))for(X=_o(Y),$=0;$<ge.length;++$)Fe=Sl(Y,ge[$]),Y.fill&&Ln(y,Y,Me)&&y.fillText(Fe,x,T),Y.stroke&&$n(y,Y,Me)&&y.strokeText(Fe,x,T),T+=X;else Fe=Sl(Y,ge),Y.fill&&Ln(y,Y,Me)&&y.fillText(Fe,x,T),Y.stroke&&$n(y,Y,Me)&&y.strokeText(Fe,x,T);Y.angle&&y.restore()}})}function Fi(y,F,H,Y,Me,_t){if(F.fontSize<=0)return!1;if(!F.angle)return!0;var x=sr(F),T=x.x1,$=x.y1,X=Nr(kn,F,1),ge=-F.angle*st,Fe=Math.cos(ge),ot=Math.sin(ge),zt=Fe*Me-ot*_t+(T-Fe*T+ot*$),wn=ot*Me+Fe*_t+($-ot*T-Fe*$);return X.contains(zt,wn)}function Qi(y,F){let H=Nr(kn,y,2);return is(F,H[0],H[1],H[2],H[3])||is(F,H[0],H[1],H[4],H[5])||is(F,H[4],H[5],H[6],H[7])||is(F,H[2],H[3],H[6],H[7])}var Li={type:"text",tag:"text",nested:!1,attr:hr,bound:Nr,draw:it,pick:di(Fi),isect:Qi},Qr=No("trail",io,ya),Ys={arc:vi,area:Ts,group:dr,image:Q0,line:oc,path:Ic,rect:G0,rule:Mc,shape:f0,symbol:d0,text:Li,trail:Qr};function $o(y,F,H){var Y=Ys[y.mark.marktype],Me=F||Y.bound;return Y.nested&&(y=y.mark),Me(y.bounds||(y.bounds=new hi),y,H)}var va={mark:null};function mo(y,F,H){var Y=Ys[y.marktype],Me=Y.bound,_t=y.items,x=_t&&_t.length,T,$,X,ge;if(Y.nested)return x?X=_t[0]:(va.mark=y,X=va),ge=$o(X,Me,H),F=F&&F.union(ge)||ge,F;if(F=F||y.bounds&&y.bounds.clear()||new hi,x)for(T=0,$=_t.length;T<$;++T)F.union($o(_t[T],Me,H));return y.bounds=F}let Ia=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function uc(y,F){return JSON.stringify(y,Ia,F)}function Wl(y){let F=typeof y=="string"?JSON.parse(y):y;return Ma(F)}function Ma(y){var F=y.marktype,H=y.items,Y,Me,_t;if(H)for(Me=0,_t=H.length;Me<_t;++Me)Y=F?"mark":"group",H[Me][Y]=y,H[Me].zindex&&(H[Me][Y].zdirty=!0),(F||Y)==="group"&&Ma(H[Me]);return F&&mo(y),y}function lc(y){arguments.length?this.root=Wl(y):(this.root=_a({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Wi(this.root)])}lc.prototype={toJSON(y){return uc(this.root,y||0)},mark(y,F,H){F=F||this.root.items[0];let Y=_a(y,F);return F.items[H]=Y,Y.zindex&&(Y.group.zdirty=!0),Y}};function _a(y,F){let H={bounds:new hi,clip:!!y.clip,group:F,interactive:y.interactive!==!1,items:[],marktype:y.marktype,name:y.name||void 0,role:y.role||void 0,zindex:y.zindex||0};return y.aria!=null&&(H.aria=y.aria),y.description&&(H.description=y.description),H}function uf(y,F,H){return!y&&typeof document!="undefined"&&document.createElement&&(y=document),y?H?y.createElementNS(H,F):y.createElement(F):null}function lf(y,F){F=F.toLowerCase();for(var H=y.childNodes,Y=0,Me=H.length;Y<Me;++Y)if(H[Y].tagName.toLowerCase()===F)return H[Y]}function tl(y,F,H,Y){var Me=y.childNodes[F],_t;return(!Me||Me.tagName.toLowerCase()!==H.toLowerCase())&&(_t=Me||null,Me=uf(y.ownerDocument,H,Y),y.insertBefore(Me,_t)),Me}function cc(y,F){for(var H=y.childNodes,Y=H.length;Y>F;)y.removeChild(H[--Y]);return y}function H1(y){return"mark-"+y.marktype+(y.role?" role-"+y.role:"")+(y.name?" "+y.name:"")}function Pc(y,F){let H=F.getBoundingClientRect();return[y.clientX-H.left-(F.clientLeft||0),y.clientY-H.top-(F.clientTop||0)]}function t2(y,F,H,Y){var Me=y&&y.mark,_t,x;if(Me&&(_t=Ys[Me.marktype]).tip){for(x=Pc(F,H),x[0]-=Y[0],x[1]-=Y[1];y=y.mark.group;)x[0]-=y.x||0,x[1]-=y.y||0;y=_t.tip(Me.items,x)}return y}function Ql(y,F){this._active=null,this._handlers={},this._loader=y||r.loader(),this._tooltip=F||Rf}function Rf(y,F,H,Y){y.element().setAttribute("title",Y||"")}Ql.prototype={initialize(y,F,H){return this._el=y,this._obj=H||null,this.origin(F)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(y){return arguments.length?(this._origin=y||[0,0],this):this._origin.slice()},scene(y){return arguments.length?(this._scene=y,this):this._scene},on(){},off(){},_handlerIndex(y,F,H){for(let Y=y?y.length:0;--Y>=0;)if(y[Y].type===F&&(!H||y[Y].handler===H))return Y;return-1},handlers(y){let F=this._handlers,H=[];if(y)H.push(...F[this.eventName(y)]);else for(let Y in F)H.push(...F[Y]);return H},eventName(y){let F=y.indexOf(".");return F<0?y:y.slice(0,F)},handleHref(y,F,H){this._loader.sanitize(H,{context:"href"}).then(Y=>{let Me=new MouseEvent(y.type,y),_t=uf(null,"a");for(let x in Y)_t.setAttribute(x,Y[x]);_t.dispatchEvent(Me)}).catch(()=>{})},handleTooltip(y,F,H){if(F&&F.tooltip!=null){F=t2(F,y,this.canvas(),this._origin);let Y=H&&F&&F.tooltip||null;this._tooltip.call(this._obj,this,y,F,Y)}},getItemBoundingClientRect(y){let F=this.canvas();if(!F)return;let H=F.getBoundingClientRect(),Y=this._origin,Me=y.bounds,_t=Me.width(),x=Me.height(),T=Me.x1+Y[0]+H.left,$=Me.y1+Y[1]+H.top;for(;y.mark&&(y=y.mark.group);)T+=y.x||0,$+=y.y||0;return{x:T,y:$,width:_t,height:x,left:T,top:$,right:T+_t,bottom:$+x}}};function Bc(y){this._el=null,this._bgcolor=null,this._loader=new Xo(y)}Bc.prototype={initialize(y,F,H,Y,Me){return this._el=y,this.resize(F,H,Y,Me)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(y){return arguments.length===0?this._bgcolor:(this._bgcolor=y,this)},resize(y,F,H,Y){return this._width=y,this._height=F,this._origin=H||[0,0],this._scale=Y||1,this},dirty(){},render(y){let F=this;return F._call=function(){F._render(y)},F._call(),F._call=null,F},_render(){},renderAsync(y){let F=this.render(y);return this._ready?this._ready.then(()=>F):Promise.resolve(F)},_load(y,F){var H=this,Y=H._loader[y](F);if(!H._ready){let Me=H._call;H._ready=H._loader.ready().then(_t=>{_t&&Me(),H._ready=null})}return Y},sanitizeURL(y){return this._load("sanitizeURL",y)},loadImage(y){return this._load("loadImage",y)}};let jr="keydown",X0="keypress",Z0="keyup",$r="dragenter",wl="dragleave",V1="dragover",mp="mousedown",bo="mouseup",ed="mousemove",qd="mouseout",td="mouseover",cf="click",Zx="dblclick",eg="wheel",Dh="mousewheel",ff="touchstart",nl="touchmove",Ud="touchend",xp=[jr,X0,Z0,$r,wl,V1,mp,bo,ed,qd,td,cf,Zx,eg,Dh,ff,nl,Ud],W1=ed,rl=qd,nd=cf;function Nf(y,F){Ql.call(this,y,F),this._down=null,this._touch=null,this._first=!0,this._events={}}let Cl=y=>y===ff||y===nl||y===Ud?[ff,nl,Ud]:[y];function gp(y,F){Cl(F).forEach(H=>xu(y,H))}function xu(y,F){let H=y.canvas();H&&!y._events[F]&&(y._events[F]=1,H.addEventListener(F,y[F]?Y=>y[F](Y):Y=>y.fire(F,Y)))}function Q1(y,F,H){return function(Y){let Me=this._active,_t=this.pickEvent(Y);_t===Me?this.fire(y,Y):((!Me||!Me.exit)&&this.fire(H,Y),this._active=_t,this.fire(F,Y),this.fire(y,Y))}}function il(y){return function(F){this.fire(y,F),this._active=null}}e.inherits(Nf,Ql,{initialize(y,F,H){return this._canvas=y&&lf(y,"canvas"),[cf,mp,ed,qd,wl].forEach(Y=>gp(this,Y)),Ql.prototype.initialize.call(this,y,F,H)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:xp,DOMMouseScroll(y){this.fire(Dh,y)},mousemove:Q1(ed,td,qd),dragover:Q1(V1,$r,wl),mouseout:il(qd),dragleave:il(wl),mousedown(y){this._down=this._active,this.fire(mp,y)},click(y){this._down===this._active&&(this.fire(cf,y),this._down=null)},touchstart(y){this._touch=this.pickEvent(y.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(ff,y,!0)},touchmove(y){this.fire(nl,y,!0)},touchend(y){this.fire(Ud,y,!0),this._touch=null},fire(y,F,H){let Y=H?this._touch:this._active,Me=this._handlers[y];if(F.vegaType=y,y===nd&&Y&&Y.href?this.handleHref(F,Y,Y.href):(y===W1||y===rl)&&this.handleTooltip(F,Y,y!==rl),Me)for(let _t=0,x=Me.length;_t<x;++_t)Me[_t].handler.call(this._obj,F,Y)},on(y,F){let H=this.eventName(y),Y=this._handlers;return this._handlerIndex(Y[H],y,F)<0&&(gp(this,y),(Y[H]||(Y[H]=[])).push({type:y,handler:F})),this},off(y,F){let H=this.eventName(y),Y=this._handlers[H],Me=this._handlerIndex(Y,y,F);return Me>=0&&Y.splice(Me,1),this},pickEvent(y){let F=Pc(y,this._canvas),H=this._origin;return this.pick(this._scene,F[0],F[1],F[0]-H[0],F[1]-H[1])},pick(y,F,H,Y,Me){let _t=this.context();return Ys[y.marktype].pick.call(this,_t,y,F,H,Y,Me)}});function jc(){return typeof window!="undefined"&&window.devicePixelRatio||1}var Oh=jc();function $d(y,F,H,Y,Me,_t){let x=typeof HTMLElement!="undefined"&&y instanceof HTMLElement&&y.parentNode!=null,T=y.getContext("2d"),$=x?Oh:Me;y.width=F*$,y.height=H*$;for(let X in _t)T[X]=_t[X];return x&&$!==1&&(y.style.width=F+"px",y.style.height=H+"px"),T.pixelRatio=$,T.setTransform($,0,0,$,$*Y[0],$*Y[1]),y}function df(y){Bc.call(this,y),this._options={},this._redraw=!1,this._dirty=new hi,this._tempb=new hi}let Rh=Bc.prototype,yp=(y,F,H)=>new hi().set(0,0,F,H).translate(-y[0],-y[1]);function Ha(y,F,H){return F.expand(1).round(),y.pixelRatio%1&&F.scale(y.pixelRatio).round().scale(1/y.pixelRatio),F.translate(-(H[0]%1),-(H[1]%1)),y.beginPath(),y.rect(F.x1,F.y1,F.width(),F.height()),y.clip(),F}e.inherits(df,Bc,{initialize(y,F,H,Y,Me,_t){return this._options=_t||{},this._canvas=this._options.externalContext?null:t.canvas(1,1,this._options.type),y&&this._canvas&&(cc(y,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),Rh.initialize.call(this,y,F,H,Y,Me)},resize(y,F,H,Y){if(Rh.resize.call(this,y,F,H,Y),this._canvas)$d(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{let Me=this._options.externalContext;Me||e.error("CanvasRenderer is missing a valid canvas or context"),Me.scale(this._scale,this._scale),Me.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(y){let F=this._tempb.clear().union(y.bounds),H=y.mark.group;for(;H;)F.translate(H.x||0,H.y||0),H=H.mark.group;this._dirty.union(F)},_render(y){let F=this.context(),H=this._origin,Y=this._width,Me=this._height,_t=this._dirty,x=yp(H,Y,Me);F.save();let T=this._redraw||_t.empty()?(this._redraw=!1,x.expand(1)):Ha(F,x.intersect(_t),H);return this.clear(-H[0],-H[1],Y,Me),this.draw(F,y,T),F.restore(),_t.clear(),this},draw(y,F,H){let Y=Ys[F.marktype];F.clip&&nn(y,F),Y.draw.call(this,y,F,H),F.clip&&y.restore()},clear(y,F,H,Y){let Me=this._options,_t=this.context();Me.type!=="pdf"&&!Me.externalContext&&_t.clearRect(y,F,H,Y),this._bgcolor!=null&&(_t.fillStyle=this._bgcolor,_t.fillRect(y,F,H,Y))}});function Nh(y,F){Ql.call(this,y,F);let H=this;H._hrefHandler=rd(H,(Y,Me)=>{Me&&Me.href&&H.handleHref(Y,Me,Me.href)}),H._tooltipHandler=rd(H,(Y,Me)=>{H.handleTooltip(Y,Me,Y.type!==rl)})}let rd=(y,F)=>H=>{let Y=H.target.__data__;Y=Array.isArray(Y)?Y[0]:Y,H.vegaType=H.type,F.call(y._obj,H,Y)};e.inherits(Nh,Ql,{initialize(y,F,H){let Y=this._svg;return Y&&(Y.removeEventListener(nd,this._hrefHandler),Y.removeEventListener(W1,this._tooltipHandler),Y.removeEventListener(rl,this._tooltipHandler)),this._svg=Y=y&&lf(y,"svg"),Y&&(Y.addEventListener(nd,this._hrefHandler),Y.addEventListener(W1,this._tooltipHandler),Y.addEventListener(rl,this._tooltipHandler)),Ql.prototype.initialize.call(this,y,F,H)},canvas(){return this._svg},on(y,F){let H=this.eventName(y),Y=this._handlers;if(this._handlerIndex(Y[H],y,F)<0){let _t={type:y,handler:F,listener:rd(this,F)};(Y[H]||(Y[H]=[])).push(_t),this._svg&&this._svg.addEventListener(H,_t.listener)}return this},off(y,F){let H=this.eventName(y),Y=this._handlers[H],Me=this._handlerIndex(Y,y,F);return Me>=0&&(this._svg&&this._svg.removeEventListener(H,Y[Me].listener),Y.splice(Me,1)),this}});let Pa="aria-hidden",Lh="aria-label",Ru="role",eu="aria-roledescription",kh="graphics-object",ba="graphics-symbol",Ih=(y,F,H)=>({[Ru]:y,[eu]:F,[Lh]:H||void 0}),vp=e.toSet(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),m0={axis:{desc:"axis",caption:Mh},legend:{desc:"legend",caption:zd},"title-text":{desc:"title",caption:y=>`Title text '${sl(y)}'`},"title-subtitle":{desc:"subtitle",caption:y=>`Subtitle text '${sl(y)}'`}},id={ariaRole:Ru,ariaRoleDescription:eu,description:Lh};function hf(y,F){let H=F.aria===!1;if(y(Pa,H||void 0),H||F.description==null)for(let Y in id)y(id[Y],void 0);else{let Y=F.mark.marktype;y(Lh,F.description),y(Ru,F.ariaRole||(Y==="group"?kh:ba)),y(eu,F.ariaRoleDescription||`${Y} mark`)}}function Gl(y){return y.aria===!1?{[Pa]:!0}:vp[y.role]?null:m0[y.role]?_p(y,m0[y.role]):Nu(y)}function Nu(y){let F=y.marktype,H=F==="group"||F==="text"||y.items.some(Y=>Y.description!=null&&Y.aria!==!1);return Ih(H?kh:ba,`${F} mark container`,y.description)}function _p(y,F){try{let H=y.items[0],Y=F.caption||(()=>"");return Ih(F.role||ba,F.desc,H.description||Y(H))}catch{return null}}function sl(y){return e.array(y.text).join(" ")}function Mh(y){let F=y.datum,H=y.orient,Y=F.title?n2(y):null,Me=y.context,_t=Me.scales[F.scale].value,x=Me.dataflow.locale(),T=_t.type;return`${H==="left"||H==="right"?"Y":"X"}-axis`+(Y?` titled '${Y}'`:"")+` for a ${i.isDiscrete(T)?"discrete":T} scale with ${i.domainCaption(x,_t,y)}`}function zd(y){let F=y.datum,H=F.title?n2(y):null,Y=`${F.type||""} legend`.trim(),Me=F.scales,_t=Object.keys(Me),x=y.context,T=x.scales[Me[_t[0]]].value,$=x.dataflow.locale();return Lf(Y)+(H?` titled '${H}'`:"")+` for ${bp(_t)} with ${i.domainCaption($,T,y)}`}function n2(y){try{return e.array(e.peek(y.items).items[0].text).join(" ")}catch{return null}}function bp(y){return y=y.map(F=>F+(F==="fill"||F==="stroke"?" color":"")),y.length<2?y[0]:y.slice(0,-1).join(", ")+" and "+e.peek(y)}function Lf(y){return y.length?y[0].toUpperCase()+y.slice(1):y}let sd=y=>(y+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Xs=y=>sd(y).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function A(){let y="",F="",H="",Y=[],Me=()=>F=H="",_t=$=>{F&&(y+=`${F}>${H}`,Me()),Y.push($)},x=($,X)=>(X!=null&&(F+=` ${$}="${Xs(X)}"`),T),T={open($,...X){_t($),F="<"+$;for(let ge of X)for(let Fe in ge)x(Fe,ge[Fe]);return T},close(){let $=Y.pop();return F?y+=F+(H?`>${H}</${$}>`:"/>"):y+=`</${$}>`,Me(),T},attr:x,text:$=>(H+=sd($),T),toString:()=>y};return T}let W=y=>de(A(),y)+"";function de(y,F){if(y.open(F.tagName),F.hasAttributes()){let H=F.attributes,Y=H.length;for(let Me=0;Me<Y;++Me)y.attr(H[Me].name,H[Me].value)}if(F.hasChildNodes()){let H=F.childNodes;for(let Y of H)Y.nodeType===3?y.text(Y.nodeValue):de(y,Y)}return y.close()}let Pe={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},wt={blend:"mix-blend-mode"},Tn={fill:"none","stroke-miterlimit":10},ur=0,$i="http://www.w3.org/2000/xmlns/",Bi=es.xmlns;function ao(y){Bc.call(this,y),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}let gu=Bc.prototype;e.inherits(ao,Bc,{initialize(y,F,H,Y,Me){return this._defs={},this._clearDefs(),y&&(this._svg=tl(y,0,"svg",Bi),this._svg.setAttributeNS($i,"xmlns",Bi),this._svg.setAttributeNS($i,"xmlns:xlink",es["xmlns:xlink"]),this._svg.setAttribute("version",es.version),this._svg.setAttribute("class","marks"),cc(y,1),this._root=tl(this._svg,ur,"g",Bi),x0(this._root,Tn),cc(this._svg,ur+1)),this.background(this._bgcolor),gu.initialize.call(this,y,F,H,Y,Me)},background(y){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",y),gu.background.apply(this,arguments)},resize(y,F,H,Y){return gu.resize.call(this,y,F,H,Y),this._svg&&(x0(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){let y=this._svg,F=this._bgcolor;if(!y)return null;let H;F&&(y.removeAttribute("style"),H=tl(y,ur,"rect",Bi),x0(H,{width:this._width,height:this._height,fill:F}));let Y=W(y);return F&&(y.removeChild(H),this._svg.style.setProperty("background-color",F)),Y},_render(y){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,y),cc(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(y){y.dirty!==this._dirtyID&&(y.dirty=this._dirtyID,this._dirty.push(y))},isDirty(y){return this._dirtyAll||!y._svg||!y._svg.ownerSVGElement||y.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;let y=this._dirty;if(!y.length||!this._dirtyID)return!0;let F=++this._dirtyID,H,Y,Me,_t,x,T,$;for(x=0,T=y.length;x<T;++x)if(H=y[x],Y=H.mark,Y.marktype!==Me&&(Me=Y.marktype,_t=Ys[Me]),Y.zdirty&&Y.dirty!==F&&(this._dirtyAll=!1,qc(H,F),Y.items.forEach(X=>{X.dirty=F})),!Y.zdirty){if(H.exit){_t.nested&&Y.items.length?($=Y.items[0],$._svg&&this._update(_t,$._svg,$)):H._svg&&($=H._svg.parentNode,$&&$.removeChild(H._svg)),H._svg=null;continue}H=_t.nested?Y.items[0]:H,H._update!==F&&(!H._svg||!H._svg.ownerSVGElement?(this._dirtyAll=!1,qc(H,F)):this._update(_t,H._svg,H),H._update=F)}return!this._dirtyAll},mark(y,F,H){if(!this.isDirty(F))return F._svg;let Y=this._svg,Me=Ys[F.marktype],_t=F.interactive===!1?"none":null,x=Me.tag==="g",T=Q4(F,y,H,"g",Y);T.setAttribute("class",H1(F));let $=Gl(F);for(let ot in $)Al(T,ot,$[ot]);x||Al(T,"pointer-events",_t),Al(T,"clip-path",F.clip?ho(this,F,F.group):null);let X=null,ge=0,Fe=ot=>{let zt=this.isDirty(ot),wn=Q4(ot,T,X,Me.tag,Y);zt&&(this._update(Me,wn,ot),x&&r3(this,wn,ot)),X=wn,++ge};return Me.nested?F.items.length&&Fe(F.items[0]):Gn(F,Fe),cc(T,ge),T},_update(y,F,H){od=F,Lu=F.__values__,hf(Ph,H),y.attr(Ph,H,this);let Y=G4[y.type];Y&&Y.call(this,y,F,H),od&&this.style(od,H)},style(y,F){if(F!=null){for(let H in Pe){let Y=H==="font"?je(F):F[H];if(Y===Lu[H])continue;let Me=Pe[H];Y==null?y.removeAttribute(Me):(l(Y)&&(Y=f(Y,this._defs.gradient,ku())),y.setAttribute(Me,Y+"")),Lu[H]=Y}for(let H in wt)Fs(y,wt[H],F[H])}},defs(){let y=this._svg,F=this._defs,H=F.el,Y=0;for(let Me in F.gradient)H||(F.el=H=tl(y,ur+1,"defs",Bi)),Y=kf(H,F.gradient[Me],Y);for(let Me in F.clipping)H||(F.el=H=tl(y,ur+1,"defs",Bi)),Y=wE(H,F.clipping[Me],Y);H&&(Y===0?(y.removeChild(H),F.el=null):cc(H,Y))},_clearDefs(){let y=this._defs;y.gradient={},y.clipping={}}});function qc(y,F){for(;y&&y.dirty!==F;y=y.mark.group)if(y.dirty=F,y.mark&&y.mark.dirty!==F)y.mark.dirty=F;else return}function kf(y,F,H){let Y,Me,_t;if(F.gradient==="radial"){let x=tl(y,H++,"pattern",Bi);x0(x,{id:a+F.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),x=tl(x,0,"rect",Bi),x0(x,{width:1,height:1,fill:`url(${ku()}#${F.id})`}),y=tl(y,H++,"radialGradient",Bi),x0(y,{id:F.id,fx:F.x1,fy:F.y1,fr:F.r1,cx:F.x2,cy:F.y2,r:F.r2})}else y=tl(y,H++,"linearGradient",Bi),x0(y,{id:F.id,x1:F.x1,x2:F.x2,y1:F.y1,y2:F.y2});for(Y=0,Me=F.stops.length;Y<Me;++Y)_t=tl(y,Y,"stop",Bi),_t.setAttribute("offset",F.stops[Y].offset),_t.setAttribute("stop-color",F.stops[Y].color);return cc(y,Y),H}function wE(y,F,H){let Y;return y=tl(y,H,"clipPath",Bi),y.setAttribute("id",F.id),F.path?(Y=tl(y,0,"path",Bi),Y.setAttribute("d",F.path)):(Y=tl(y,0,"rect",Bi),x0(Y,{x:0,y:0,width:F.width,height:F.height})),cc(y,1),H+1}function r3(y,F,H){F=F.lastChild.previousSibling;let Y,Me=0;Gn(H,_t=>{Y=y.mark(F,_t,Y),++Me}),cc(F,1+Me)}function Q4(y,F,H,Y,Me){let _t=y._svg,x;if(!_t&&(x=F.ownerDocument,_t=uf(x,Y,Bi),y._svg=_t,y.mark&&(_t.__data__=y,_t.__values__={fill:"default"},Y==="g"))){let T=uf(x,"path",Bi);_t.appendChild(T),T.__data__=y;let $=uf(x,"g",Bi);_t.appendChild($),$.__data__=y;let X=uf(x,"path",Bi);_t.appendChild(X),X.__data__=y,X.__values__={fill:"default"}}return(_t.ownerSVGElement!==Me||i3(_t,H))&&F.insertBefore(_t,H?H.nextSibling:F.firstChild),_t}function i3(y,F){return y.parentNode&&y.parentNode.childNodes.length>1&&y.previousSibling!=F}let od=null,Lu=null,G4={group(y,F,H){let Y=od=F.childNodes[2];Lu=Y.__values__,y.foreground(Ph,H,this),Lu=F.__values__,od=F.childNodes[1],y.content(Ph,H,this);let Me=od=F.childNodes[0];y.background(Ph,H,this);let _t=H.mark.interactive===!1?"none":null;if(_t!==Lu.events&&(Al(Y,"pointer-events",_t),Al(Me,"pointer-events",_t),Lu.events=_t),H.strokeForeground&&H.stroke){let x=H.fill;Al(Y,"display",null),this.style(Me,H),Al(Me,"stroke",null),x&&(H.fill=null),Lu=Y.__values__,this.style(Y,H),x&&(H.fill=x),od=null}else Al(Y,"display","none")},image(y,F,H){H.smooth===!1?(Fs(F,"image-rendering","optimizeSpeed"),Fs(F,"image-rendering","pixelated")):Fs(F,"image-rendering",null)},text(y,F,H){let Y=El(H),Me,_t,x,T;e.isArray(Y)?(_t=Y.map($=>Sl(H,$)),Me=_t.join(`
`),Me!==Lu.text&&(cc(F,0),x=F.ownerDocument,T=_o(H),_t.forEach(($,X)=>{let ge=uf(x,"tspan",Bi);ge.__data__=H,ge.textContent=$,X&&(ge.setAttribute("x",0),ge.setAttribute("dy",T)),F.appendChild(ge)}),Lu.text=Me)):(_t=Sl(H,Y),_t!==Lu.text&&(F.textContent=_t,Lu.text=_t)),Al(F,"font-family",je(H)),Al(F,"font-size",Ou(H)+"px"),Al(F,"font-style",H.fontStyle),Al(F,"font-variant",H.fontVariant),Al(F,"font-weight",H.fontWeight)}};function Ph(y,F,H){F!==Lu[y]&&(H?Ep(od,y,F,H):Al(od,y,F),Lu[y]=F)}function Fs(y,F,H){H!==Lu[F]&&(H==null?y.style.removeProperty(F):y.style.setProperty(F,H+""),Lu[F]=H)}function x0(y,F){for(let H in F)Al(y,H,F[H])}function Al(y,F,H){H!=null?y.setAttribute(F,H):y.removeAttribute(F)}function Ep(y,F,H,Y){H!=null?y.setAttributeNS(Y,F,H):y.removeAttributeNS(Y,F)}function ku(){let y;return typeof window=="undefined"?"":(y=window.location).hash?y.href.slice(0,-y.hash.length):y.href}function G1(y){Bc.call(this,y),this._text=null,this._defs={gradient:{},clipping:{}}}e.inherits(G1,Bc,{svg(){return this._text},_render(y){let F=A();F.open("svg",e.extend({},es,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));let H=this._bgcolor;return H&&H!=="transparent"&&H!=="none"&&F.open("rect",{width:this._width,height:this._height,fill:H}).close(),F.open("g",Tn,{transform:"translate("+this._origin+")"}),this.mark(F,y),F.close(),this.defs(F),this._text=F.close()+"",this},mark(y,F){let H=Ys[F.marktype],Y=H.tag,Me=[hf,H.attr];y.open("g",{class:H1(F),"clip-path":F.clip?ho(this,F,F.group):null},Gl(F),{"pointer-events":Y!=="g"&&F.interactive===!1?"none":null});let _t=x=>{let T=this.href(x);if(T&&y.open("a",T),y.open(Y,this.attr(F,x,Me,Y!=="g"?Y:null)),Y==="text"){let $=El(x);if(e.isArray($)){let X={x:0,dy:_o(x)};for(let ge=0;ge<$.length;++ge)y.open("tspan",ge?X:null).text(Sl(x,$[ge])).close()}else y.text(Sl(x,$))}else if(Y==="g"){let $=x.strokeForeground,X=x.fill,ge=x.stroke;$&&ge&&(x.stroke=null),y.open("path",this.attr(F,x,H.background,"bgrect")).close(),y.open("g",this.attr(F,x,H.content)),Gn(x,Fe=>this.mark(y,Fe)),y.close(),$&&ge?(X&&(x.fill=null),x.stroke=ge,y.open("path",this.attr(F,x,H.foreground,"bgrect")).close(),X&&(x.fill=X)):y.open("path",this.attr(F,x,H.foreground,"bgfore")).close()}y.close(),T&&y.close()};return H.nested?F.items&&F.items.length&&_t(F.items[0]):Gn(F,_t),y.close()},href(y){let F=y.href,H;if(F){if(H=this._hrefs&&this._hrefs[F])return H;this.sanitizeURL(F).then(Y=>{Y["xlink:href"]=Y.href,Y.href=null,(this._hrefs||(this._hrefs={}))[F]=Y})}return null},attr(y,F,H,Y){let Me={},_t=(x,T,$,X)=>{Me[X||x]=T};return Array.isArray(H)?H.forEach(x=>x(_t,F,this)):H(_t,F,this),Y&&Y1(Me,F,y,Y,this._defs),Me},defs(y){let F=this._defs.gradient,H=this._defs.clipping;if(Object.keys(F).length+Object.keys(H).length!==0){y.open("defs");for(let Me in F){let _t=F[Me],x=_t.stops;_t.gradient==="radial"?(y.open("pattern",{id:a+Me,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),y.open("rect",{width:"1",height:"1",fill:"url(#"+Me+")"}).close(),y.close(),y.open("radialGradient",{id:Me,fx:_t.x1,fy:_t.y1,fr:_t.r1,cx:_t.x2,cy:_t.y2,r:_t.r2})):y.open("linearGradient",{id:Me,x1:_t.x1,x2:_t.x2,y1:_t.y1,y2:_t.y2});for(let T=0;T<x.length;++T)y.open("stop",{offset:x[T].offset,"stop-color":x[T].color}).close();y.close()}for(let Me in H){let _t=H[Me];y.open("clipPath",{id:Me}),_t.path?y.open("path",{d:_t.path}).close():y.open("rect",{x:0,y:0,width:_t.width,height:_t.height}).close(),y.close()}y.close()}}});function Y1(y,F,H,Y,Me){let _t;if(F==null||(Y==="bgrect"&&H.interactive===!1&&(y["pointer-events"]="none"),Y==="bgfore"&&(H.interactive===!1&&(y["pointer-events"]="none"),y.display="none",F.fill!==null)))return y;Y==="image"&&F.smooth===!1&&(_t=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),Y==="text"&&(y["font-family"]=je(F),y["font-size"]=Ou(F)+"px",y["font-style"]=F.fontStyle,y["font-variant"]=F.fontVariant,y["font-weight"]=F.fontWeight);for(let x in Pe){let T=F[x],$=Pe[x];T==="transparent"&&($==="fill"||$==="stroke")||T!=null&&(l(T)&&(T=f(T,Me.gradient,"")),y[$]=T)}for(let x in wt){let T=F[x];T!=null&&(_t=_t||[],_t.push(`${wt[x]}: ${T};`))}return _t&&(y.style=_t.join(" ")),y}let Tl="canvas",s3="png",Hd="svg",Bh="none",o3={Canvas:Tl,PNG:s3,SVG:Hd,None:Bh},If={};If[Tl]=If[s3]={renderer:df,headless:df,handler:Nf},If[Hd]={renderer:ao,headless:G1,handler:Nh},If[Bh]={};function Fl(y,F){return y=String(y||"").toLowerCase(),arguments.length>1?(If[y]=F,this):If[y]}function Mf(y,F,H){let Y=[],Me=new hi().union(F),_t=y.marktype;return _t?K1(y,Me,H,Y):_t==="group"?Vd(y,Me,H,Y):e.error("Intersect scene must be mark node or group item.")}function K1(y,F,H,Y){if(Sp(y,F,H)){let Me=y.items,_t=y.marktype,x=Me.length,T=0;if(_t==="group")for(;T<x;++T)Vd(Me[T],F,H,Y);else for(let $=Ys[_t].isect;T<x;++T){let X=Me[T];J1(X,F,$)&&Y.push(X)}}return Y}function Sp(y,F,H){return y.bounds&&F.intersects(y.bounds)&&(y.marktype==="group"||y.interactive!==!1&&(!H||H(y)))}function Vd(y,F,H,Y){H&&H(y.mark)&&J1(y,F,Ys.group.isect)&&Y.push(y);let Me=y.items,_t=Me&&Me.length;if(_t){let x=y.x||0,T=y.y||0;F.translate(-x,-T);for(let $=0;$<_t;++$)K1(Me[$],F,H,Y);F.translate(x,T)}return Y}function J1(y,F,H){let Y=y.bounds;return F.encloses(Y)||F.intersects(Y)&&H(y,F)}let pf=new hi;function tg(y){let F=y.clip;if(e.isFunction(F))F(za(pf.clear()));else if(F)pf.set(0,0,y.group.width,y.group.height);else return;y.bounds.intersect(pf)}let ng=1e-9;function fc(y,F,H){return y===F?!0:H==="path"?g0(y,F):y instanceof Date&&F instanceof Date?+y==+F:e.isNumber(y)&&e.isNumber(F)?Math.abs(y-F)<=ng:!y||!F||!e.isObject(y)&&!e.isObject(F)?y==F:Y4(y,F)}function g0(y,F){return fc(Ce(y),Ce(F))}function Y4(y,F){var H=Object.keys(y),Y=Object.keys(F),Me,_t;if(H.length!==Y.length)return!1;for(H.sort(),Y.sort(),_t=H.length-1;_t>=0;_t--)if(H[_t]!=Y[_t])return!1;for(_t=H.length-1;_t>=0;_t--)if(Me=H[_t],!fc(y[Me],F[Me],Me))return!1;return typeof y==typeof F}function ad(){so(),o()}n.Bounds=hi,n.CanvasHandler=Nf,n.CanvasRenderer=df,n.Gradient=_,n.GroupItem=Wi,n.Handler=Ql,n.Item=Ei,n.Marks=Ys,n.RenderType=o3,n.Renderer=Bc,n.ResourceLoader=Xo,n.SVGHandler=Nh,n.SVGRenderer=ao,n.SVGStringRenderer=G1,n.Scenegraph=lc,n.boundClip=tg,n.boundContext=za,n.boundItem=$o,n.boundMark=mo,n.boundStroke=po,n.domChild=tl,n.domClear=cc,n.domCreate=uf,n.domFind=lf,n.font=Nt,n.fontFamily=je,n.fontSize=Ou,n.intersect=Mf,n.intersectBoxLine=is,n.intersectPath=ui,n.intersectPoint=rs,n.intersectRule=mr,n.lineHeight=_o,n.markup=A,n.multiLineOffset=Is,n.path=L,n.pathCurves=Te,n.pathEqual=g0,n.pathParse=Ce,n.pathRectangle=Tt,n.pathRender=Ee,n.pathSymbols=fe,n.pathTrail=Zt,n.point=Pc,n.renderModule=Fl,n.resetSVGClipId=so,n.resetSVGDefIds=ad,n.sceneEqual=fc,n.sceneFromJSON=Wl,n.scenePickVisit=ar,n.sceneToJSON=uc,n.sceneVisit=Gn,n.sceneZOrder=Cr,n.serializeXML=W,n.textMetrics=Uo,Object.defineProperty(n,"__esModule",{value:!0})})});var kDe=Ae((cV,LDe)=>{m();(function(n,e){typeof cV=="object"&&typeof LDe!="undefined"?e(cV,s0(),h9(),Tu()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega))})(cV,function(n,e,t,r){"use strict";let i="top",s="left",o="right",a="bottom",l="top-left",f="top-right",p="bottom-left",_="bottom-right",E="start",O="middle",R="end",q="x",z="y",L="group",B="axis",P="title",G="frame",ue="scope",I="legend",J="row-header",he="row-footer",ye="row-title",He="column-header",at="column-footer",ct="column-title",Ze="padding",Et="symbol",Mt="fit",qe="fit-x",te="fit-y",et="pad",be="none",ke="all",we="each",pe="flush",Je="column",lt="row";function Ht(dt){e.Transform.call(this,null,dt)}r.inherits(Ht,e.Transform,{transform(dt,ie){let Te=ie.dataflow,Ue=dt.mark,gt=Ue.marktype,St=t.Marks[gt],Rt=St.bound,ne=Ue.bounds,Ce;if(St.nested)Ue.items.length&&Te.dirty(Ue.items[0]),ne=Ct(Ue,Rt),Ue.items.forEach(We=>{We.bounds.clear().union(ne)});else if(gt===L||dt.modified())switch(ie.visit(ie.MOD,We=>Te.dirty(We)),ne.clear(),Ue.items.forEach(We=>ne.union(Ct(We,Rt))),Ue.role){case B:case I:case P:ie.reflow()}else Ce=ie.changed(ie.REM),ie.visit(ie.ADD,We=>{ne.union(Ct(We,Rt))}),ie.visit(ie.MOD,We=>{Ce=Ce||ne.alignsWith(We.bounds),Te.dirty(We),ne.union(Ct(We,Rt))}),Ce&&(ne.clear(),Ue.items.forEach(We=>ne.union(We.bounds)));return t.boundClip(Ue),ie.modifies("bounds")}});function Ct(dt,ie,Te){return ie(dt.bounds.clear(),dt,Te)}let mn=":vega_identifier:";function kt(dt){e.Transform.call(this,0,dt)}kt.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},r.inherits(kt,e.Transform,{transform(dt,ie){let Te=Bt(ie.dataflow),Ue=dt.as,gt=Te.value;return ie.visit(ie.ADD,St=>St[Ue]=St[Ue]||++gt),Te.set(this.value=gt),ie}});function Bt(dt){return dt._signals[mn]||(dt._signals[mn]=dt.add(0))}function tn(dt){e.Transform.call(this,null,dt)}r.inherits(tn,e.Transform,{transform(dt,ie){let Te=this.value;Te||(Te=ie.dataflow.scenegraph().mark(dt.markdef,bt(dt),dt.index),Te.group.context=dt.context,dt.context.group||(dt.context.group=Te.group),Te.source=this.source,Te.clip=dt.clip,Te.interactive=dt.interactive,this.value=Te);let Ue=Te.marktype===L?t.GroupItem:t.Item;return ie.visit(ie.ADD,gt=>Ue.call(gt,Te)),(dt.modified("clip")||dt.modified("interactive"))&&(Te.clip=dt.clip,Te.interactive=!!dt.interactive,Te.zdirty=!0,ie.reflow()),Te.items=ie.source,ie}});function bt(dt){let ie=dt.groups,Te=dt.parent;return ie&&ie.size===1?ie.get(Object.keys(ie.object)[0]):ie&&Te?ie.lookup(Te):null}function ve(dt){e.Transform.call(this,null,dt)}let Le={parity:dt=>dt.filter((ie,Te)=>Te%2?ie.opacity=0:1),greedy:(dt,ie)=>{let Te;return dt.filter((Ue,gt)=>!gt||!_e(Te.bounds,Ue.bounds,ie)?(Te=Ue,1):Ue.opacity=0)}},_e=(dt,ie,Te)=>Te>Math.max(ie.x1-dt.x2,dt.x1-ie.x2,ie.y1-dt.y2,dt.y1-ie.y2),ce=(dt,ie)=>{for(var Te=1,Ue=dt.length,gt=dt[0].bounds,St;Te<Ue;gt=St,++Te)if(_e(gt,St=dt[Te].bounds,ie))return!0},tt=dt=>{let ie=dt.bounds;return ie.width()>1&&ie.height()>1},Ke=(dt,ie,Te)=>{var Ue=dt.range(),gt=new t.Bounds;return ie===i||ie===a?gt.set(Ue[0],-1/0,Ue[1],1/0):gt.set(-1/0,Ue[0],1/0,Ue[1]),gt.expand(Te||1),St=>gt.encloses(St.bounds)},re=dt=>(dt.forEach(ie=>ie.opacity=1),dt),Oe=(dt,ie)=>dt.reflow(ie.modified()).modifies("opacity");r.inherits(ve,e.Transform,{transform(dt,ie){let Te=Le[dt.method]||Le.parity,Ue=dt.separation||0,gt=ie.materialize(ie.SOURCE).source,St,Rt;if(!gt||!gt.length)return;if(!dt.method)return dt.modified("method")&&(re(gt),ie=Oe(ie,dt)),ie;if(gt=gt.filter(tt),!gt.length)return;if(dt.sort&&(gt=gt.slice().sort(dt.sort)),St=re(gt),ie=Oe(ie,dt),St.length>=3&&ce(St,Ue)){do St=Te(St,Ue);while(St.length>=3&&ce(St,Ue));St.length<3&&!r.peek(gt).opacity&&(St.length>1&&(r.peek(St).opacity=0),r.peek(gt).opacity=1)}dt.boundScale&&dt.boundTolerance>=0&&(Rt=Ke(dt.boundScale,dt.boundOrient,+dt.boundTolerance),gt.forEach(Ce=>{Rt(Ce)||(Ce.opacity=0)}));let ne=St[0].mark.bounds.clear();return gt.forEach(Ce=>{Ce.opacity&&ne.union(Ce.bounds)}),ie}});function nt(dt){e.Transform.call(this,null,dt)}r.inherits(nt,e.Transform,{transform(dt,ie){let Te=ie.dataflow;if(ie.visit(ie.ALL,Ue=>Te.dirty(Ue)),ie.fields&&ie.fields.zindex){let Ue=ie.source&&ie.source[0];Ue&&(Ue.mark.zdirty=!0)}}});let ft=new t.Bounds;function Ot(dt,ie,Te){return dt[ie]===Te?0:(dt[ie]=Te,1)}function Yt(dt){var ie=dt.items[0].orient;return ie===s||ie===o}function Gt(dt){let ie=+dt.grid;return[dt.ticks?ie++:-1,dt.labels?ie++:-1,ie+ +dt.domain]}function fn(dt,ie,Te,Ue){var gt=ie.items[0],St=gt.datum,Rt=gt.translate!=null?gt.translate:.5,ne=gt.orient,Ce=Gt(St),We=gt.range,st=gt.offset,Ut=gt.position,sn=gt.minExtent,Cn=gt.maxExtent,En=St.title&&gt.items[Ce[2]].items[0],vn=gt.titlePadding,zn=gt.bounds,Re=En&&t.multiLineOffset(En),$e=0,Ft=0,N,V;switch(ft.clear().union(zn),zn.clear(),(N=Ce[0])>-1&&zn.union(gt.items[N].bounds),(N=Ce[1])>-1&&zn.union(gt.items[N].bounds),ne){case i:$e=Ut||0,Ft=-st,V=Math.max(sn,Math.min(Cn,-zn.y1)),zn.add(0,-V).add(We,0),En&&gn(dt,En,V,vn,Re,0,-1,zn);break;case s:$e=-st,Ft=Ut||0,V=Math.max(sn,Math.min(Cn,-zn.x1)),zn.add(-V,0).add(0,We),En&&gn(dt,En,V,vn,Re,1,-1,zn);break;case o:$e=Te+st,Ft=Ut||0,V=Math.max(sn,Math.min(Cn,zn.x2)),zn.add(0,0).add(V,We),En&&gn(dt,En,V,vn,Re,1,1,zn);break;case a:$e=Ut||0,Ft=Ue+st,V=Math.max(sn,Math.min(Cn,zn.y2)),zn.add(0,0).add(We,V),En&&gn(dt,En,V,vn,0,0,1,zn);break;default:$e=gt.x,Ft=gt.y}return t.boundStroke(zn.translate($e,Ft),gt),Ot(gt,"x",$e+Rt)|Ot(gt,"y",Ft+Rt)&&(gt.bounds=ft,dt.dirty(gt),gt.bounds=zn,dt.dirty(gt)),gt.mark.bounds.clear().union(zn)}function gn(dt,ie,Te,Ue,gt,St,Rt,ne){let Ce=ie.bounds;if(ie.auto){let We=Rt*(Te+gt+Ue),st=0,Ut=0;dt.dirty(ie),St?st=(ie.x||0)-(ie.x=We):Ut=(ie.y||0)-(ie.y=We),ie.mark.bounds.clear().union(Ce.translate(-st,-Ut)),dt.dirty(ie)}ne.union(Ce)}let yn=(dt,ie)=>Math.floor(Math.min(dt,ie)),Lt=(dt,ie)=>Math.ceil(Math.max(dt,ie));function un(dt){var ie=dt.items,Te=ie.length,Ue=0,gt,St;let Rt={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;Ue<Te;++Ue)if(gt=ie[Ue],St=gt.items,gt.marktype===L)switch(gt.role){case B:case I:case P:break;case J:Rt.rowheaders.push(...St);break;case he:Rt.rowfooters.push(...St);break;case He:Rt.colheaders.push(...St);break;case at:Rt.colfooters.push(...St);break;case ye:Rt.rowtitle=St[0];break;case ct:Rt.coltitle=St[0];break;default:Rt.marks.push(...St)}return Rt}function Mn(dt){return new t.Bounds().set(0,0,dt.width||0,dt.height||0)}function tr(dt){let ie=dt.bounds.clone();return ie.empty()?ie.set(0,0,0,0):ie.translate(-(dt.x||0),-(dt.y||0))}function Rn(dt,ie,Te){let Ue=r.isObject(dt)?dt[ie]:dt;return Ue??(Te!==void 0?Te:0)}function Ne(dt){return dt<0?Math.ceil(-dt):0}function ze(dt,ie,Te){var Ue=!Te.nodirty,gt=Te.bounds===pe?Mn:tr,St=ft.set(0,0,0,0),Rt=Rn(Te.align,Je),ne=Rn(Te.align,lt),Ce=Rn(Te.padding,Je),We=Rn(Te.padding,lt),st=Te.columns||ie.length,Ut=st<=0?1:Math.ceil(ie.length/st),sn=ie.length,Cn=Array(sn),En=Array(st),vn=0,zn=Array(sn),Re=Array(Ut),$e=0,Ft=Array(sn),N=Array(sn),V=Array(sn),Ee,xe,K,ae,fe,Qe,It,At,dn,w,j;for(xe=0;xe<st;++xe)En[xe]=0;for(xe=0;xe<Ut;++xe)Re[xe]=0;for(xe=0;xe<sn;++xe)Qe=ie[xe],fe=V[xe]=gt(Qe),Qe.x=Qe.x||0,Ft[xe]=0,Qe.y=Qe.y||0,N[xe]=0,K=xe%st,ae=~~(xe/st),vn=Math.max(vn,It=Math.ceil(fe.x2)),$e=Math.max($e,At=Math.ceil(fe.y2)),En[K]=Math.max(En[K],It),Re[ae]=Math.max(Re[ae],At),Cn[xe]=Ce+Ne(fe.x1),zn[xe]=We+Ne(fe.y1),Ue&&dt.dirty(ie[xe]);for(xe=0;xe<sn;++xe)xe%st===0&&(Cn[xe]=0),xe<st&&(zn[xe]=0);if(Rt===we)for(K=1;K<st;++K){for(j=0,xe=K;xe<sn;xe+=st)j<Cn[xe]&&(j=Cn[xe]);for(xe=K;xe<sn;xe+=st)Cn[xe]=j+En[K-1]}else if(Rt===ke){for(j=0,xe=0;xe<sn;++xe)xe%st&&j<Cn[xe]&&(j=Cn[xe]);for(xe=0;xe<sn;++xe)xe%st&&(Cn[xe]=j+vn)}else for(Rt=!1,K=1;K<st;++K)for(xe=K;xe<sn;xe+=st)Cn[xe]+=En[K-1];if(ne===we)for(ae=1;ae<Ut;++ae){for(j=0,xe=ae*st,Ee=xe+st;xe<Ee;++xe)j<zn[xe]&&(j=zn[xe]);for(xe=ae*st;xe<Ee;++xe)zn[xe]=j+Re[ae-1]}else if(ne===ke){for(j=0,xe=st;xe<sn;++xe)j<zn[xe]&&(j=zn[xe]);for(xe=st;xe<sn;++xe)zn[xe]=j+$e}else for(ne=!1,ae=1;ae<Ut;++ae)for(xe=ae*st,Ee=xe+st;xe<Ee;++xe)zn[xe]+=Re[ae-1];for(dn=0,xe=0;xe<sn;++xe)dn=Cn[xe]+(xe%st?dn:0),Ft[xe]+=dn-ie[xe].x;for(K=0;K<st;++K)for(w=0,xe=K;xe<sn;xe+=st)w+=zn[xe],N[xe]+=w-ie[xe].y;if(Rt&&Rn(Te.center,Je)&&Ut>1)for(xe=0;xe<sn;++xe)fe=Rt===ke?vn:En[xe%st],dn=fe-V[xe].x2-ie[xe].x-Ft[xe],dn>0&&(Ft[xe]+=dn/2);if(ne&&Rn(Te.center,lt)&&st!==1)for(xe=0;xe<sn;++xe)fe=ne===ke?$e:Re[~~(xe/st)],w=fe-V[xe].y2-ie[xe].y-N[xe],w>0&&(N[xe]+=w/2);for(xe=0;xe<sn;++xe)St.union(V[xe].translate(Ft[xe],N[xe]));switch(dn=Rn(Te.anchor,q),w=Rn(Te.anchor,z),Rn(Te.anchor,Je)){case R:dn-=St.width();break;case O:dn-=St.width()/2}switch(Rn(Te.anchor,lt)){case R:w-=St.height();break;case O:w-=St.height()/2}for(dn=Math.round(dn),w=Math.round(w),St.clear(),xe=0;xe<sn;++xe)ie[xe].mark.bounds.clear();for(xe=0;xe<sn;++xe)Qe=ie[xe],Qe.x+=Ft[xe]+=dn,Qe.y+=N[xe]+=w,St.union(Qe.mark.bounds.union(Qe.bounds.translate(Ft[xe],N[xe]))),Ue&&dt.dirty(Qe);return St}function De(dt,ie,Te){var Ue=un(ie),gt=Ue.marks,St=Te.bounds===pe?Pt:mt,Rt=Te.offset,ne=Te.columns||gt.length,Ce=ne<=0?1:Math.ceil(gt.length/ne),We=Ce*ne,st,Ut,sn,Cn,En,vn,zn;let Re=ze(dt,gt,Te);Re.empty()&&Re.set(0,0,0,0),Ue.rowheaders&&(vn=Rn(Te.headerBand,lt,null),st=xt(dt,Ue.rowheaders,gt,ne,Ce,-Rn(Rt,"rowHeader"),yn,0,St,"x1",0,ne,1,vn)),Ue.colheaders&&(vn=Rn(Te.headerBand,Je,null),Ut=xt(dt,Ue.colheaders,gt,ne,ne,-Rn(Rt,"columnHeader"),yn,1,St,"y1",0,1,ne,vn)),Ue.rowfooters&&(vn=Rn(Te.footerBand,lt,null),sn=xt(dt,Ue.rowfooters,gt,ne,Ce,Rn(Rt,"rowFooter"),Lt,0,St,"x2",ne-1,ne,1,vn)),Ue.colfooters&&(vn=Rn(Te.footerBand,Je,null),Cn=xt(dt,Ue.colfooters,gt,ne,ne,Rn(Rt,"columnFooter"),Lt,1,St,"y2",We-ne,1,ne,vn)),Ue.rowtitle&&(En=Rn(Te.titleAnchor,lt),zn=Rn(Rt,"rowTitle"),zn=En===R?sn+zn:st-zn,vn=Rn(Te.titleBand,lt,.5),rn(dt,Ue.rowtitle,zn,0,Re,vn)),Ue.coltitle&&(En=Rn(Te.titleAnchor,Je),zn=Rn(Rt,"columnTitle"),zn=En===R?Cn+zn:Ut-zn,vn=Rn(Te.titleBand,Je,.5),rn(dt,Ue.coltitle,zn,1,Re,vn))}function Pt(dt,ie){return ie==="x1"?dt.x||0:ie==="y1"?dt.y||0:ie==="x2"?(dt.x||0)+(dt.width||0):ie==="y2"?(dt.y||0)+(dt.height||0):void 0}function mt(dt,ie){return dt.bounds[ie]}function xt(dt,ie,Te,Ue,gt,St,Rt,ne,Ce,We,st,Ut,sn,Cn){var En=Te.length,vn=0,zn=0,Re,$e,Ft,N,V,Ee,xe,K,ae;if(!En)return vn;for(Re=st;Re<En;Re+=Ut)Te[Re]&&(vn=Rt(vn,Ce(Te[Re],We)));if(!ie.length)return vn;for(ie.length>gt&&(dt.warn("Grid headers exceed limit: "+gt),ie=ie.slice(0,gt)),vn+=St,$e=0,N=ie.length;$e<N;++$e)dt.dirty(ie[$e]),ie[$e].mark.bounds.clear();for(Re=st,$e=0,N=ie.length;$e<N;++$e,Re+=Ut){for(Ee=ie[$e],V=Ee.mark.bounds,Ft=Re;Ft>=0&&(xe=Te[Ft])==null;Ft-=sn);ne?(K=Cn==null?xe.x:Math.round(xe.bounds.x1+Cn*xe.bounds.width()),ae=vn):(K=vn,ae=Cn==null?xe.y:Math.round(xe.bounds.y1+Cn*xe.bounds.height())),V.union(Ee.bounds.translate(K-(Ee.x||0),ae-(Ee.y||0))),Ee.x=K,Ee.y=ae,dt.dirty(Ee),zn=Rt(zn,V[We])}return zn}function rn(dt,ie,Te,Ue,gt,St){if(!!ie){dt.dirty(ie);var Rt=Te,ne=Te;Ue?Rt=Math.round(gt.x1+St*gt.width()):ne=Math.round(gt.y1+St*gt.height()),ie.bounds.translate(Rt-(ie.x||0),ne-(ie.y||0)),ie.mark.bounds.clear().union(ie.bounds),ie.x=Rt,ie.y=ne,dt.dirty(ie)}}function Qt(dt,ie){let Te=dt[ie]||{};return(Ue,gt)=>Te[Ue]!=null?Te[Ue]:dt[Ue]!=null?dt[Ue]:gt}function Fn(dt,ie){let Te=-1/0;return dt.forEach(Ue=>{Ue.offset!=null&&(Te=Math.max(Te,Ue.offset))}),Te>-1/0?Te:ie}function Wn(dt,ie,Te,Ue,gt,St,Rt){let ne=Qt(Te,ie),Ce=Fn(dt,ne("offset",0)),We=ne("anchor",E),st=We===R?1:We===O?.5:0,Ut={align:we,bounds:ne("bounds",pe),columns:ne("direction")==="vertical"?1:dt.length,padding:ne("margin",8),center:ne("center"),nodirty:!0};switch(ie){case s:Ut.anchor={x:Math.floor(Ue.x1)-Ce,column:R,y:st*(Rt||Ue.height()+2*Ue.y1),row:We};break;case o:Ut.anchor={x:Math.ceil(Ue.x2)+Ce,y:st*(Rt||Ue.height()+2*Ue.y1),row:We};break;case i:Ut.anchor={y:Math.floor(gt.y1)-Ce,row:R,x:st*(St||gt.width()+2*gt.x1),column:We};break;case a:Ut.anchor={y:Math.ceil(gt.y2)+Ce,x:st*(St||gt.width()+2*gt.x1),column:We};break;case l:Ut.anchor={x:Ce,y:Ce};break;case f:Ut.anchor={x:St-Ce,y:Ce,column:R};break;case p:Ut.anchor={x:Ce,y:Rt-Ce,row:R};break;case _:Ut.anchor={x:St-Ce,y:Rt-Ce,column:R,row:R};break}return Ut}function Zn(dt,ie){var Te=ie.items[0],Ue=Te.datum,gt=Te.orient,St=Te.bounds,Rt=Te.x,ne=Te.y,Ce,We;return Te._bounds?Te._bounds.clear().union(St):Te._bounds=St.clone(),St.clear(),nr(dt,Te,Te.items[0].items[0]),St=Nn(Te,St),Ce=2*Te.padding,We=2*Te.padding,St.empty()||(Ce=Math.ceil(St.width()+Ce),We=Math.ceil(St.height()+We)),Ue.type===Et&&oe(Te.items[0].items[0].items[0].items),gt!==be&&(Te.x=Rt=0,Te.y=ne=0),Te.width=Ce,Te.height=We,t.boundStroke(St.set(Rt,ne,Rt+Ce,ne+We),Te),Te.mark.bounds.clear().union(St),Te}function Nn(dt,ie){return dt.items.forEach(Te=>ie.union(Te.bounds)),ie.x1=dt.padding,ie.y1=dt.padding,ie}function nr(dt,ie,Te){var Ue=ie.padding,gt=Ue-Te.x,St=Ue-Te.y;if(!ie.datum.title)(gt||St)&&vt(dt,Te,gt,St);else{var Rt=ie.items[1].items[0],ne=Rt.anchor,Ce=ie.titlePadding||0,We=Ue-Rt.x,st=Ue-Rt.y;switch(Rt.orient){case s:gt+=Math.ceil(Rt.bounds.width())+Ce;break;case o:case a:break;default:St+=Rt.bounds.height()+Ce}switch((gt||St)&&vt(dt,Te,gt,St),Rt.orient){case s:st+=Ye(ie,Te,Rt,ne,1,1);break;case o:We+=Ye(ie,Te,Rt,R,0,0)+Ce,st+=Ye(ie,Te,Rt,ne,1,1);break;case a:We+=Ye(ie,Te,Rt,ne,0,0),st+=Ye(ie,Te,Rt,R,-1,0,1)+Ce;break;default:We+=Ye(ie,Te,Rt,ne,0,0)}(We||st)&&vt(dt,Rt,We,st),(We=Math.round(Rt.bounds.x1-Ue))<0&&(vt(dt,Te,-We,0),vt(dt,Rt,-We,0))}}function Ye(dt,ie,Te,Ue,gt,St,Rt){let ne=dt.datum.type!=="symbol",Ce=Te.datum.vgrad,We=ne&&(St||!Ce)&&!Rt?ie.items[0]:ie,st=We.bounds[gt?"y2":"x2"]-dt.padding,Ut=Ce&&St?st:0,sn=Ce&&St?0:st,Cn=gt<=0?0:t.multiLineOffset(Te);return Math.round(Ue===E?Ut:Ue===R?sn-Cn:.5*(st-Cn))}function vt(dt,ie,Te,Ue){ie.x+=Te,ie.y+=Ue,ie.bounds.translate(Te,Ue),ie.mark.bounds.translate(Te,Ue),dt.dirty(ie)}function oe(dt){let ie=dt.reduce((Te,Ue)=>(Te[Ue.column]=Math.max(Ue.bounds.x2-Ue.x,Te[Ue.column]||0),Te),{});dt.forEach(Te=>{Te.width=ie[Te.column],Te.height=Te.bounds.y2-Te.y})}function Be(dt,ie,Te,Ue,gt){var St=ie.items[0],Rt=St.frame,ne=St.orient,Ce=St.anchor,We=St.offset,st=St.padding,Ut=St.items[0].items[0],sn=St.items[1]&&St.items[1].items[0],Cn=ne===s||ne===o?Ue:Te,En=0,vn=0,zn=0,Re=0,$e=0,Ft;if(Rt!==L?ne===s?(En=gt.y2,Cn=gt.y1):ne===o?(En=gt.y1,Cn=gt.y2):(En=gt.x1,Cn=gt.x2):ne===s&&(En=Ue,Cn=0),Ft=Ce===E?En:Ce===R?Cn:(En+Cn)/2,sn&&sn.text){switch(ne){case i:case a:$e=Ut.bounds.height()+st;break;case s:Re=Ut.bounds.width()+st;break;case o:Re=-Ut.bounds.width()-st;break}ft.clear().union(sn.bounds),ft.translate(Re-(sn.x||0),$e-(sn.y||0)),Ot(sn,"x",Re)|Ot(sn,"y",$e)&&(dt.dirty(sn),sn.bounds.clear().union(ft),sn.mark.bounds.clear().union(ft),dt.dirty(sn)),ft.clear().union(sn.bounds)}else ft.clear();switch(ft.union(Ut.bounds),ne){case i:vn=Ft,zn=gt.y1-ft.height()-We;break;case s:vn=gt.x1-ft.width()-We,zn=Ft;break;case o:vn=gt.x2+ft.width()+We,zn=Ft;break;case a:vn=Ft,zn=gt.y2+We;break;default:vn=St.x,zn=St.y}return Ot(St,"x",vn)|Ot(St,"y",zn)&&(ft.translate(vn,zn),dt.dirty(St),St.bounds.clear().union(ft),ie.bounds.clear().union(ft),dt.dirty(St)),St.bounds}function rt(dt){e.Transform.call(this,null,dt)}r.inherits(rt,e.Transform,{transform(dt,ie){let Te=ie.dataflow;return dt.mark.items.forEach(Ue=>{dt.layout&&De(Te,Ue,dt.layout),hn(Te,Ue,dt)}),Dt(dt.mark.group)?ie.reflow():ie}});function Dt(dt){return dt&&dt.mark.role!=="legend-entry"}function hn(dt,ie,Te){var Ue=ie.items,gt=Math.max(0,ie.width||0),St=Math.max(0,ie.height||0),Rt=new t.Bounds().set(0,0,gt,St),ne=Rt.clone(),Ce=Rt.clone(),We=[],st,Ut,sn,Cn,En,vn;for(En=0,vn=Ue.length;En<vn;++En)switch(Ut=Ue[En],Ut.role){case B:Cn=Yt(Ut)?ne:Ce,Cn.union(fn(dt,Ut,gt,St));break;case P:st=Ut;break;case I:We.push(Zn(dt,Ut));break;case G:case ue:case J:case he:case ye:case He:case at:case ct:ne.union(Ut.bounds),Ce.union(Ut.bounds);break;default:Rt.union(Ut.bounds)}if(We.length){let zn={};We.forEach(Re=>{sn=Re.orient||o,sn!==be&&(zn[sn]||(zn[sn]=[])).push(Re)});for(let Re in zn){let $e=zn[Re];ze(dt,$e,Wn($e,Re,Te.legends,ne,Ce,gt,St))}We.forEach(Re=>{let $e=Re.bounds;if($e.equals(Re._bounds)||(Re.bounds=Re._bounds,dt.dirty(Re),Re.bounds=$e,dt.dirty(Re)),Te.autosize&&Te.autosize.type===Mt)switch(Re.orient){case s:case o:Rt.add($e.x1,0).add($e.x2,0);break;case i:case a:Rt.add(0,$e.y1).add(0,$e.y2)}else Rt.union($e)})}Rt.union(ne).union(Ce),st&&Rt.union(Be(dt,st,gt,St,Rt)),ie.clip&&Rt.set(0,0,ie.width||0,ie.height||0),an(dt,ie,Rt,Te)}function an(dt,ie,Te,Ue){let gt=Ue.autosize||{},St=gt.type;if(dt._autosize<1||!St)return;let Rt=dt._width,ne=dt._height,Ce=Math.max(0,ie.width||0),We=Math.max(0,Math.ceil(-Te.x1)),st=Math.max(0,ie.height||0),Ut=Math.max(0,Math.ceil(-Te.y1)),sn=Math.max(0,Math.ceil(Te.x2-Ce)),Cn=Math.max(0,Math.ceil(Te.y2-st));if(gt.contains===Ze){let En=dt.padding();Rt-=En.left+En.right,ne-=En.top+En.bottom}St===be?(We=0,Ut=0,Ce=Rt,st=ne):St===Mt?(Ce=Math.max(0,Rt-We-sn),st=Math.max(0,ne-Ut-Cn)):St===qe?(Ce=Math.max(0,Rt-We-sn),ne=st+Ut+Cn):St===te?(Rt=Ce+We+sn,st=Math.max(0,ne-Ut-Cn)):St===et&&(Rt=Ce+We+sn,ne=st+Ut+Cn),dt._resizeView(Rt,ne,Ce,st,[We,Ut],gt.resize)}n.bound=Ht,n.identifier=kt,n.mark=tn,n.overlap=ve,n.render=nt,n.viewlayout=rt,Object.defineProperty(n,"__esModule",{value:!0})})});var MDe=Ae((fV,IDe)=>{m();(function(n,e){typeof fV=="object"&&typeof IDe!="undefined"?e(fV,s0(),hE(),Tu()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega))})(fV,function(n,e,t,r){"use strict";function i(N){e.Transform.call(this,null,N)}r.inherits(i,e.Transform,{transform(N,V){if(this.value&&!N.modified())return V.StopPropagation;var Ee=V.dataflow.locale(),xe=V.fork(V.NO_SOURCE|V.NO_FIELDS),K=this.value,ae=N.scale,fe=N.count==null?N.values?N.values.length:10:N.count,Qe=t.tickCount(ae,fe,N.minstep),It=N.format||t.tickFormat(Ee,ae,Qe,N.formatSpecifier,N.formatType,!!N.values),At=N.values?t.validTicks(ae,N.values,Qe):t.tickValues(ae,Qe);return K&&(xe.rem=K),K=At.map((dn,w)=>e.ingest({index:w/(At.length-1||1),value:dn,label:It(dn)})),N.extra&&K.length&&K.push(e.ingest({index:-1,extra:{value:K[0].value},label:""})),xe.source=K,xe.add=K,this.value=K,xe}});function s(N){e.Transform.call(this,null,N)}function o(){return e.ingest({})}function a(N){let V=r.fastmap().test(Ee=>Ee.exit);return V.lookup=Ee=>V.get(N(Ee)),V}r.inherits(s,e.Transform,{transform(N,V){var Ee=V.dataflow,xe=V.fork(V.NO_SOURCE|V.NO_FIELDS),K=N.item||o,ae=N.key||e.tupleid,fe=this.value;return r.isArray(xe.encode)&&(xe.encode=null),fe&&(N.modified("key")||V.modified(ae))&&r.error("DataJoin does not support modified key function or fields."),fe||(V=V.addAll(),this.value=fe=a(ae)),V.visit(V.ADD,Qe=>{let It=ae(Qe),At=fe.get(It);At?At.exit?(fe.empty--,xe.add.push(At)):xe.mod.push(At):(At=K(Qe),fe.set(It,At),xe.add.push(At)),At.datum=Qe,At.exit=!1}),V.visit(V.MOD,Qe=>{let It=ae(Qe),At=fe.get(It);At&&(At.datum=Qe,xe.mod.push(At))}),V.visit(V.REM,Qe=>{let It=ae(Qe),At=fe.get(It);Qe===At.datum&&!At.exit&&(xe.rem.push(At),At.exit=!0,++fe.empty)}),V.changed(V.ADD_MOD)&&xe.modifies("datum"),(V.clean()||N.clean&&fe.empty>Ee.cleanThreshold)&&Ee.runAfter(fe.clean),xe}});function l(N){e.Transform.call(this,null,N)}r.inherits(l,e.Transform,{transform(N,V){var Ee=V.fork(V.ADD_REM),xe=N.mod||!1,K=N.encoders,ae=V.encode;if(r.isArray(ae))if(Ee.changed()||ae.every(w=>K[w]))ae=ae[0],Ee.encode=null;else return V.StopPropagation;var fe=ae==="enter",Qe=K.update||r.falsy,It=K.enter||r.falsy,At=K.exit||r.falsy,dn=(ae&&!fe?K[ae]:Qe)||r.falsy;if(V.changed(V.ADD)&&(V.visit(V.ADD,w=>{It(w,N),Qe(w,N)}),Ee.modifies(It.output),Ee.modifies(Qe.output),dn!==r.falsy&&dn!==Qe&&(V.visit(V.ADD,w=>{dn(w,N)}),Ee.modifies(dn.output))),V.changed(V.REM)&&At!==r.falsy&&(V.visit(V.REM,w=>{At(w,N)}),Ee.modifies(At.output)),fe||dn!==r.falsy){let w=V.MOD|(N.modified()?V.REFLOW:0);fe?(V.visit(w,j=>{let ee=It(j,N)||xe;(dn(j,N)||ee)&&Ee.mod.push(j)}),Ee.mod.length&&Ee.modifies(It.output)):V.visit(w,j=>{(dn(j,N)||xe)&&Ee.mod.push(j)}),Ee.mod.length&&Ee.modifies(dn.output)}return Ee.changed()?Ee:V.StopPropagation}});function f(N){e.Transform.call(this,[],N)}r.inherits(f,e.Transform,{transform(N,V){if(this.value!=null&&!N.modified())return V.StopPropagation;var Ee=V.dataflow.locale(),xe=V.fork(V.NO_SOURCE|V.NO_FIELDS),K=this.value,ae=N.type||t.SymbolLegend,fe=N.scale,Qe=+N.limit,It=t.tickCount(fe,N.count==null?5:N.count,N.minstep),At=!!N.values||ae===t.SymbolLegend,dn=N.format||t.labelFormat(Ee,fe,It,ae,N.formatSpecifier,N.formatType,At),w=N.values||t.labelValues(fe,It),j,ee,Se,ht,Tt;return K&&(xe.rem=K),ae===t.SymbolLegend?(Qe&&w.length>Qe?(V.dataflow.warn("Symbol legend count exceeds limit, filtering items."),K=w.slice(0,Qe-1),Tt=!0):K=w,r.isFunction(Se=N.size)?(!N.values&&fe(K[0])===0&&(K=K.slice(1)),ht=K.reduce((Zt,Xt)=>Math.max(Zt,Se(Xt,N)),0)):Se=r.constant(ht=Se||8),K=K.map((Zt,Xt)=>e.ingest({index:Xt,label:dn(Zt,Xt,K),value:Zt,offset:ht,size:Se(Zt,N)})),Tt&&(Tt=w[K.length],K.push(e.ingest({index:K.length,label:`\u2026${w.length-K.length} entries`,value:Tt,offset:ht,size:Se(Tt,N)})))):ae===t.GradientLegend?(j=fe.domain(),ee=t.scaleFraction(fe,j[0],r.peek(j)),w.length<3&&!N.values&&j[0]!==r.peek(j)&&(w=[j[0],r.peek(j)]),K=w.map((Zt,Xt)=>e.ingest({index:Xt,label:dn(Zt,Xt,w),value:Zt,perc:ee(Zt)}))):(Se=w.length-1,ee=t.labelFraction(fe),K=w.map((Zt,Xt)=>e.ingest({index:Xt,label:dn(Zt,Xt,w),value:Zt,perc:Xt?ee(Zt):0,perc2:Xt===Se?1:ee(w[Xt+1])}))),xe.source=K,xe.add=K,this.value=K,xe}});let p=N=>N.source.x,_=N=>N.source.y,E=N=>N.target.x,O=N=>N.target.y;function R(N){e.Transform.call(this,{},N)}R.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},r.inherits(R,e.Transform,{transform(N,V){var Ee=N.sourceX||p,xe=N.sourceY||_,K=N.targetX||E,ae=N.targetY||O,fe=N.as||"path",Qe=N.orient||"vertical",It=N.shape||"line",At=at.get(It+"-"+Qe)||at.get(It);return At||r.error("LinkPath unsupported type: "+N.shape+(N.orient?"-"+N.orient:"")),V.visit(V.SOURCE,dn=>{dn[fe]=At(Ee(dn),xe(dn),K(dn),ae(dn))}),V.reflow(N.modified()).modifies(fe)}});let q=(N,V,Ee,xe)=>"M"+N+","+V+"L"+Ee+","+xe,z=(N,V,Ee,xe)=>q(V*Math.cos(N),V*Math.sin(N),xe*Math.cos(Ee),xe*Math.sin(Ee)),L=(N,V,Ee,xe)=>{var K=Ee-N,ae=xe-V,fe=Math.sqrt(K*K+ae*ae)/2,Qe=180*Math.atan2(ae,K)/Math.PI;return"M"+N+","+V+"A"+fe+","+fe+" "+Qe+" 0 1 "+Ee+","+xe},B=(N,V,Ee,xe)=>L(V*Math.cos(N),V*Math.sin(N),xe*Math.cos(Ee),xe*Math.sin(Ee)),P=(N,V,Ee,xe)=>{let K=Ee-N,ae=xe-V,fe=.2*(K+ae),Qe=.2*(ae-K);return"M"+N+","+V+"C"+(N+fe)+","+(V+Qe)+" "+(Ee+Qe)+","+(xe-fe)+" "+Ee+","+xe},G=(N,V,Ee,xe)=>P(V*Math.cos(N),V*Math.sin(N),xe*Math.cos(Ee),xe*Math.sin(Ee)),ue=(N,V,Ee,xe)=>"M"+N+","+V+"V"+xe+"H"+Ee,I=(N,V,Ee,xe)=>"M"+N+","+V+"H"+Ee+"V"+xe,J=(N,V,Ee,xe)=>{let K=Math.cos(N),ae=Math.sin(N),fe=Math.cos(Ee),Qe=Math.sin(Ee),It=Math.abs(Ee-N)>Math.PI?Ee<=N:Ee>N;return"M"+V*K+","+V*ae+"A"+V+","+V+" 0 0,"+(It?1:0)+" "+V*fe+","+V*Qe+"L"+xe*fe+","+xe*Qe},he=(N,V,Ee,xe)=>{let K=(N+Ee)/2;return"M"+N+","+V+"C"+K+","+V+" "+K+","+xe+" "+Ee+","+xe},ye=(N,V,Ee,xe)=>{let K=(V+xe)/2;return"M"+N+","+V+"C"+N+","+K+" "+Ee+","+K+" "+Ee+","+xe},He=(N,V,Ee,xe)=>{let K=Math.cos(N),ae=Math.sin(N),fe=Math.cos(Ee),Qe=Math.sin(Ee),It=(V+xe)/2;return"M"+V*K+","+V*ae+"C"+It*K+","+It*ae+" "+It*fe+","+It*Qe+" "+xe*fe+","+xe*Qe},at=r.fastmap({line:q,"line-radial":z,arc:L,"arc-radial":B,curve:P,"curve-radial":G,"orthogonal-horizontal":ue,"orthogonal-vertical":I,"orthogonal-radial":J,"diagonal-horizontal":he,"diagonal-vertical":ye,"diagonal-radial":He});function ct(N,V,Ee){N=+N,V=+V,Ee=(K=arguments.length)<2?(V=N,N=0,1):K<3?1:+Ee;for(var xe=-1,K=Math.max(0,Math.ceil((V-N)/Ee))|0,ae=new Array(K);++xe<K;)ae[xe]=N+xe*Ee;return ae}function Ze(N,V){let Ee=0;if(V===void 0)for(let xe of N)(xe=+xe)&&(Ee+=xe);else{let xe=-1;for(let K of N)(K=+V(K,++xe,N))&&(Ee+=K)}return Ee}function Et(N){e.Transform.call(this,null,N)}Et.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},r.inherits(Et,e.Transform,{transform(N,V){var Ee=N.as||["startAngle","endAngle"],xe=Ee[0],K=Ee[1],ae=N.field||r.one,fe=N.startAngle||0,Qe=N.endAngle!=null?N.endAngle:2*Math.PI,It=V.source,At=It.map(ae),dn=At.length,w=fe,j=(Qe-fe)/Ze(At),ee=ct(dn),Se,ht,Tt;for(N.sort&&ee.sort((Zt,Xt)=>At[Zt]-At[Xt]),Se=0;Se<dn;++Se)Tt=At[ee[Se]],ht=It[ee[Se]],ht[xe]=w,ht[K]=w+=Tt*j;return this.value=At,V.reflow(N.modified()).modifies(Ee)}});function Mt(N,V,Ee){N.prototype=V.prototype=Ee,Ee.constructor=N}function qe(N,V){var Ee=Object.create(N.prototype);for(var xe in V)Ee[xe]=V[xe];return Ee}function te(){}var et=.7,be=1/et,ke="\\s*([+-]?\\d+)\\s*",we="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",pe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Je=/^#([0-9a-f]{3,8})$/,lt=new RegExp("^rgb\\("+[ke,ke,ke]+"\\)$"),Ht=new RegExp("^rgb\\("+[pe,pe,pe]+"\\)$"),Ct=new RegExp("^rgba\\("+[ke,ke,ke,we]+"\\)$"),mn=new RegExp("^rgba\\("+[pe,pe,pe,we]+"\\)$"),kt=new RegExp("^hsl\\("+[we,pe,pe]+"\\)$"),Bt=new RegExp("^hsla\\("+[we,pe,pe,we]+"\\)$"),tn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mt(te,_e,{copy:function(N){return Object.assign(new this.constructor,this,N)},displayable:function(){return this.rgb().displayable()},hex:bt,formatHex:bt,formatHsl:ve,formatRgb:Le,toString:Le});function bt(){return this.rgb().formatHex()}function ve(){return Gt(this).formatHsl()}function Le(){return this.rgb().formatRgb()}function _e(N){var V,Ee;return N=(N+"").trim().toLowerCase(),(V=Je.exec(N))?(Ee=V[1].length,V=parseInt(V[1],16),Ee===6?ce(V):Ee===3?new Oe(V>>8&15|V>>4&240,V>>4&15|V&240,(V&15)<<4|V&15,1):Ee===8?tt(V>>24&255,V>>16&255,V>>8&255,(V&255)/255):Ee===4?tt(V>>12&15|V>>8&240,V>>8&15|V>>4&240,V>>4&15|V&240,((V&15)<<4|V&15)/255):null):(V=lt.exec(N))?new Oe(V[1],V[2],V[3],1):(V=Ht.exec(N))?new Oe(V[1]*255/100,V[2]*255/100,V[3]*255/100,1):(V=Ct.exec(N))?tt(V[1],V[2],V[3],V[4]):(V=mn.exec(N))?tt(V[1]*255/100,V[2]*255/100,V[3]*255/100,V[4]):(V=kt.exec(N))?Yt(V[1],V[2]/100,V[3]/100,1):(V=Bt.exec(N))?Yt(V[1],V[2]/100,V[3]/100,V[4]):tn.hasOwnProperty(N)?ce(tn[N]):N==="transparent"?new Oe(NaN,NaN,NaN,0):null}function ce(N){return new Oe(N>>16&255,N>>8&255,N&255,1)}function tt(N,V,Ee,xe){return xe<=0&&(N=V=Ee=NaN),new Oe(N,V,Ee,xe)}function Ke(N){return N instanceof te||(N=_e(N)),N?(N=N.rgb(),new Oe(N.r,N.g,N.b,N.opacity)):new Oe}function re(N,V,Ee,xe){return arguments.length===1?Ke(N):new Oe(N,V,Ee,xe??1)}function Oe(N,V,Ee,xe){this.r=+N,this.g=+V,this.b=+Ee,this.opacity=+xe}Mt(Oe,re,qe(te,{brighter:function(N){return N=N==null?be:Math.pow(be,N),new Oe(this.r*N,this.g*N,this.b*N,this.opacity)},darker:function(N){return N=N==null?et:Math.pow(et,N),new Oe(this.r*N,this.g*N,this.b*N,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nt,formatHex:nt,formatRgb:ft,toString:ft}));function nt(){return"#"+Ot(this.r)+Ot(this.g)+Ot(this.b)}function ft(){var N=this.opacity;return N=isNaN(N)?1:Math.max(0,Math.min(1,N)),(N===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(N===1?")":", "+N+")")}function Ot(N){return N=Math.max(0,Math.min(255,Math.round(N)||0)),(N<16?"0":"")+N.toString(16)}function Yt(N,V,Ee,xe){return xe<=0?N=V=Ee=NaN:Ee<=0||Ee>=1?N=V=NaN:V<=0&&(N=NaN),new gn(N,V,Ee,xe)}function Gt(N){if(N instanceof gn)return new gn(N.h,N.s,N.l,N.opacity);if(N instanceof te||(N=_e(N)),!N)return new gn;if(N instanceof gn)return N;N=N.rgb();var V=N.r/255,Ee=N.g/255,xe=N.b/255,K=Math.min(V,Ee,xe),ae=Math.max(V,Ee,xe),fe=NaN,Qe=ae-K,It=(ae+K)/2;return Qe?(V===ae?fe=(Ee-xe)/Qe+(Ee<xe)*6:Ee===ae?fe=(xe-V)/Qe+2:fe=(V-Ee)/Qe+4,Qe/=It<.5?ae+K:2-ae-K,fe*=60):Qe=It>0&&It<1?0:fe,new gn(fe,Qe,It,N.opacity)}function fn(N,V,Ee,xe){return arguments.length===1?Gt(N):new gn(N,V,Ee,xe??1)}function gn(N,V,Ee,xe){this.h=+N,this.s=+V,this.l=+Ee,this.opacity=+xe}Mt(gn,fn,qe(te,{brighter:function(N){return N=N==null?be:Math.pow(be,N),new gn(this.h,this.s,this.l*N,this.opacity)},darker:function(N){return N=N==null?et:Math.pow(et,N),new gn(this.h,this.s,this.l*N,this.opacity)},rgb:function(){var N=this.h%360+(this.h<0)*360,V=isNaN(N)||isNaN(this.s)?0:this.s,Ee=this.l,xe=Ee+(Ee<.5?Ee:1-Ee)*V,K=2*Ee-xe;return new Oe(yn(N>=240?N-240:N+120,K,xe),yn(N,K,xe),yn(N<120?N+240:N-120,K,xe),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var N=this.opacity;return N=isNaN(N)?1:Math.max(0,Math.min(1,N)),(N===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(N===1?")":", "+N+")")}}));function yn(N,V,Ee){return(N<60?V+(Ee-V)*N/60:N<180?Ee:N<240?V+(Ee-V)*(240-N)/60:V)*255}var Lt=N=>()=>N;function un(N,V){return function(Ee){return N+Ee*V}}function Mn(N,V,Ee){return N=Math.pow(N,Ee),V=Math.pow(V,Ee)-N,Ee=1/Ee,function(xe){return Math.pow(N+xe*V,Ee)}}function tr(N){return(N=+N)==1?Rn:function(V,Ee){return Ee-V?Mn(V,Ee,N):Lt(isNaN(V)?Ee:V)}}function Rn(N,V){var Ee=V-N;return Ee?un(N,Ee):Lt(isNaN(N)?V:N)}var Ne=function N(V){var Ee=tr(V);function xe(K,ae){var fe=Ee((K=re(K)).r,(ae=re(ae)).r),Qe=Ee(K.g,ae.g),It=Ee(K.b,ae.b),At=Rn(K.opacity,ae.opacity);return function(dn){return K.r=fe(dn),K.g=Qe(dn),K.b=It(dn),K.opacity=At(dn),K+""}}return xe.gamma=N,xe}(1);function ze(N,V){V||(V=[]);var Ee=N?Math.min(V.length,N.length):0,xe=V.slice(),K;return function(ae){for(K=0;K<Ee;++K)xe[K]=N[K]*(1-ae)+V[K]*ae;return xe}}function De(N){return ArrayBuffer.isView(N)&&!(N instanceof DataView)}function Pt(N,V){var Ee=V?V.length:0,xe=N?Math.min(Ee,N.length):0,K=new Array(xe),ae=new Array(Ee),fe;for(fe=0;fe<xe;++fe)K[fe]=nr(N[fe],V[fe]);for(;fe<Ee;++fe)ae[fe]=V[fe];return function(Qe){for(fe=0;fe<xe;++fe)ae[fe]=K[fe](Qe);return ae}}function mt(N,V){var Ee=new Date;return N=+N,V=+V,function(xe){return Ee.setTime(N*(1-xe)+V*xe),Ee}}function xt(N,V){return N=+N,V=+V,function(Ee){return N*(1-Ee)+V*Ee}}function rn(N,V){var Ee={},xe={},K;(N===null||typeof N!="object")&&(N={}),(V===null||typeof V!="object")&&(V={});for(K in V)K in N?Ee[K]=nr(N[K],V[K]):xe[K]=V[K];return function(ae){for(K in Ee)xe[K]=Ee[K](ae);return xe}}var Qt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fn=new RegExp(Qt.source,"g");function Wn(N){return function(){return N}}function Zn(N){return function(V){return N(V)+""}}function Nn(N,V){var Ee=Qt.lastIndex=Fn.lastIndex=0,xe,K,ae,fe=-1,Qe=[],It=[];for(N=N+"",V=V+"";(xe=Qt.exec(N))&&(K=Fn.exec(V));)(ae=K.index)>Ee&&(ae=V.slice(Ee,ae),Qe[fe]?Qe[fe]+=ae:Qe[++fe]=ae),(xe=xe[0])===(K=K[0])?Qe[fe]?Qe[fe]+=K:Qe[++fe]=K:(Qe[++fe]=null,It.push({i:fe,x:xt(xe,K)})),Ee=Fn.lastIndex;return Ee<V.length&&(ae=V.slice(Ee),Qe[fe]?Qe[fe]+=ae:Qe[++fe]=ae),Qe.length<2?It[0]?Zn(It[0].x):Wn(V):(V=It.length,function(At){for(var dn=0,w;dn<V;++dn)Qe[(w=It[dn]).i]=w.x(At);return Qe.join("")})}function nr(N,V){var Ee=typeof V,xe;return V==null||Ee==="boolean"?Lt(V):(Ee==="number"?xt:Ee==="string"?(xe=_e(V))?(V=xe,Ne):Nn:V instanceof _e?Ne:V instanceof Date?mt:De(V)?ze:Array.isArray(V)?Pt:typeof V.valueOf!="function"&&typeof V.toString!="function"||isNaN(V)?rn:xt)(N,V)}function Ye(N,V){return N=+N,V=+V,function(Ee){return Math.round(N*(1-Ee)+V*Ee)}}let vt=5;function oe(N){let V=N.type;return!N.bins&&(V===t.Linear||V===t.Pow||V===t.Sqrt)}function Be(N){return t.isContinuous(N)&&N!==t.Sequential}let rt=r.toSet(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Dt(N){e.Transform.call(this,null,N),this.modified(!0)}r.inherits(Dt,e.Transform,{transform(N,V){var Ee=V.dataflow,xe=this.value,K=hn(N);(!xe||K!==xe.type)&&(this.value=xe=t.scale(K)());for(K in N)if(!rt[K]){if(K==="padding"&&Be(xe.type))continue;r.isFunction(xe[K])?xe[K](N[K]):Ee.warn("Unsupported scale property: "+K)}return St(xe,N,gt(xe,N,dt(xe,N,Ee))),V.fork(V.NO_SOURCE|V.NO_FIELDS)}});function hn(N){var V=N.type,Ee="",xe;return V===t.Sequential?t.Sequential+"-"+t.Linear:(an(N)&&(xe=N.rawDomain?N.rawDomain.length:N.domain?N.domain.length+ +(N.domainMid!=null):0,Ee=xe===2?t.Sequential+"-":xe===3?t.Diverging+"-":""),(Ee+V||t.Linear).toLowerCase())}function an(N){let V=N.type;return t.isContinuous(V)&&V!==t.Time&&V!==t.UTC&&(N.scheme||N.range&&N.range.length&&N.range.every(r.isString))}function dt(N,V,Ee){let xe=ie(N,V.domainRaw,Ee);if(xe>-1)return xe;var K=V.domain,ae=N.type,fe=V.zero||V.zero===void 0&&oe(N),Qe,It;if(!K)return 0;if(Be(ae)&&V.padding&&K[0]!==r.peek(K)&&(K=Te(ae,K,V.range,V.padding,V.exponent,V.constant)),(fe||V.domainMin!=null||V.domainMax!=null||V.domainMid!=null)&&(Qe=(K=K.slice()).length-1||1,fe&&(K[0]>0&&(K[0]=0),K[Qe]<0&&(K[Qe]=0)),V.domainMin!=null&&(K[0]=V.domainMin),V.domainMax!=null&&(K[Qe]=V.domainMax),V.domainMid!=null)){It=V.domainMid;let At=It>K[Qe]?Qe+1:It<K[0]?0:Qe;At!==Qe&&Ee.warn("Scale domainMid exceeds domain min or max.",It),K.splice(At,0,It)}return N.domain(Ue(ae,K,Ee)),ae===t.Ordinal&&N.unknown(V.domainImplicit?t.scaleImplicit:void 0),V.nice&&N.nice&&N.nice(V.nice!==!0&&t.tickCount(N,V.nice)||null),K.length}function ie(N,V,Ee){return V?(N.domain(Ue(N.type,V,Ee)),V.length):-1}function Te(N,V,Ee,xe,K,ae){var fe=Math.abs(r.peek(Ee)-Ee[0]),Qe=fe/(fe-2*xe),It=N===t.Log?r.zoomLog(V,null,Qe):N===t.Sqrt?r.zoomPow(V,null,Qe,.5):N===t.Pow?r.zoomPow(V,null,Qe,K||1):N===t.Symlog?r.zoomSymlog(V,null,Qe,ae||1):r.zoomLinear(V,null,Qe);return V=V.slice(),V[0]=It[0],V[V.length-1]=It[1],V}function Ue(N,V,Ee){if(t.isLogarithmic(N)){var xe=Math.abs(V.reduce((K,ae)=>K+(ae<0?-1:ae>0?1:0),0));xe!==V.length&&Ee.warn("Log scale domain includes zero: "+r.stringValue(V))}return V}function gt(N,V,Ee){let xe=V.bins;if(xe&&!r.isArray(xe)){let K=N.domain(),ae=K[0],fe=r.peek(K),Qe=xe.step,It=xe.start==null?ae:xe.start,At=xe.stop==null?fe:xe.stop;Qe||r.error("Scale bins parameter missing step property."),It<ae&&(It=Qe*Math.ceil(ae/Qe)),At>fe&&(At=Qe*Math.floor(fe/Qe)),xe=ct(It,At+Qe/2,Qe)}return xe?N.bins=xe:N.bins&&delete N.bins,N.type===t.BinOrdinal&&(xe?!V.domain&&!V.domainRaw&&(N.domain(xe),Ee=xe.length):N.bins=N.domain()),Ee}function St(N,V,Ee){var xe=N.type,K=V.round||!1,ae=V.range;if(V.rangeStep!=null)ae=Rt(xe,V,Ee);else if(V.scheme&&(ae=ne(xe,V,Ee),r.isFunction(ae))){if(N.interpolator)return N.interpolator(ae);r.error(`Scale type ${xe} does not support interpolating color schemes.`)}if(ae&&t.isInterpolating(xe))return N.interpolator(t.interpolateColors(We(ae,V.reverse),V.interpolate,V.interpolateGamma));ae&&V.interpolate&&N.interpolate?N.interpolate(t.interpolate(V.interpolate,V.interpolateGamma)):r.isFunction(N.round)?N.round(K):r.isFunction(N.rangeRound)&&N.interpolate(K?Ye:nr),ae&&N.range(We(ae,V.reverse))}function Rt(N,V,Ee){N!==t.Band&&N!==t.Point&&r.error("Only band and point scales support rangeStep.");var xe=(V.paddingOuter!=null?V.paddingOuter:V.padding)||0,K=N===t.Point?1:(V.paddingInner!=null?V.paddingInner:V.padding)||0;return[0,V.rangeStep*t.bandSpace(Ee,K,xe)]}function ne(N,V,Ee){var xe=V.schemeExtent,K,ae;return r.isArray(V.scheme)?ae=t.interpolateColors(V.scheme,V.interpolate,V.interpolateGamma):(K=V.scheme.toLowerCase(),ae=t.scheme(K),ae||r.error(`Unrecognized scheme name: ${V.scheme}`)),Ee=N===t.Threshold?Ee+1:N===t.BinOrdinal?Ee-1:N===t.Quantile||N===t.Quantize?+V.schemeCount||vt:Ee,t.isInterpolating(N)?Ce(ae,xe,V.reverse):r.isFunction(ae)?t.quantizeInterpolator(Ce(ae,xe),Ee):N===t.Ordinal?ae:ae.slice(0,Ee)}function Ce(N,V,Ee){return r.isFunction(N)&&(V||Ee)?t.interpolateRange(N,We(V||[0,1],Ee)):N}function We(N,V){return V?N.slice().reverse():N}function st(N){e.Transform.call(this,null,N)}r.inherits(st,e.Transform,{transform(N,V){let Ee=N.modified("sort")||V.changed(V.ADD)||V.modified(N.sort.fields)||V.modified("datum");return Ee&&V.source.sort(e.stableCompare(N.sort)),this.modified(Ee),V}});let Ut="zero",sn="center",Cn="normalize",En=["y0","y1"];function vn(N){e.Transform.call(this,null,N)}vn.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:Ut,values:[Ut,sn,Cn]},{name:"as",type:"string",array:!0,length:2,default:En}]},r.inherits(vn,e.Transform,{transform(N,V){var Ee=N.as||En,xe=Ee[0],K=Ee[1],ae=e.stableCompare(N.sort),fe=N.field||r.one,Qe=N.offset===sn?zn:N.offset===Cn?Re:$e,It,At,dn,w;for(It=Ft(V.source,N.groupby,ae,fe),At=0,dn=It.length,w=It.max;At<dn;++At)Qe(It[At],w,fe,xe,K);return V.reflow(N.modified()).modifies(Ee)}});function zn(N,V,Ee,xe,K){for(var ae=(V-N.sum)/2,fe=N.length,Qe=0,It;Qe<fe;++Qe)It=N[Qe],It[xe]=ae,It[K]=ae+=Math.abs(Ee(It))}function Re(N,V,Ee,xe,K){for(var ae=1/N.sum,fe=0,Qe=N.length,It=0,At=0,dn;It<Qe;++It)dn=N[It],dn[xe]=fe,dn[K]=fe=ae*(At+=Math.abs(Ee(dn)))}function $e(N,V,Ee,xe,K){for(var ae=0,fe=0,Qe=N.length,It=0,At,dn;It<Qe;++It)dn=N[It],At=+Ee(dn),At<0?(dn[xe]=fe,dn[K]=fe+=At):(dn[xe]=ae,dn[K]=ae+=At)}function Ft(N,V,Ee,xe){var K=[],ae=ht=>ht(dn),fe,Qe,It,At,dn,w,j,ee,Se;if(V==null)K.push(N.slice());else for(fe={},Qe=0,It=N.length;Qe<It;++Qe)dn=N[Qe],w=V.map(ae),j=fe[w],j||(fe[w]=j=[],K.push(j)),j.push(dn);for(w=0,Se=0,At=K.length;w<At;++w){for(j=K[w],Qe=0,ee=0,It=j.length;Qe<It;++Qe)ee+=Math.abs(xe(j[Qe]));j.sum=ee,ee>Se&&(Se=ee),Ee&&j.sort(Ee)}return K.max=Se,K}n.axisticks=i,n.datajoin=s,n.encode=l,n.legendentries=f,n.linkpath=R,n.pie=Et,n.scale=Dt,n.sortitems=st,n.stack=vn,Object.defineProperty(n,"__esModule",{value:!0})})});var Ale=Ae((dV,PDe)=>{m();(function(n,e){typeof dV=="object"&&typeof PDe!="undefined"?e(dV):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(dV,function(n){"use strict";class e{constructor(){this._partials=new Float64Array(32),this._n=0}add(yt){let Jt=this._partials,$t=0;for(let pn=0;pn<this._n&&pn<32;pn++){let Ln=Jt[pn],Kn=yt+Ln,$n=Math.abs(yt)<Math.abs(Ln)?yt-(Kn-Ln):Ln-(Kn-yt);$n&&(Jt[$t++]=$n),yt=Kn}return Jt[$t]=yt,this._n=$t+1,this}valueOf(){let yt=this._partials,Jt=this._n,$t,pn,Ln,Kn=0;if(Jt>0){for(Kn=yt[--Jt];Jt>0&&($t=Kn,pn=yt[--Jt],Kn=$t+pn,Ln=pn-(Kn-$t),!Ln););Jt>0&&(Ln<0&&yt[Jt-1]<0||Ln>0&&yt[Jt-1]>0)&&(pn=Ln*2,$t=Kn+pn,pn==$t-Kn&&(Kn=$t))}return Kn}}function*t(Ie){for(let yt of Ie)yield*yt}function r(Ie){return Array.from(t(Ie))}var i=1e-6,s=1e-12,o=Math.PI,a=o/2,l=o/4,f=o*2,p=180/o,_=o/180,E=Math.abs,O=Math.atan,R=Math.atan2,q=Math.cos,z=Math.exp,L=Math.log,B=Math.pow,P=Math.sin,G=Math.sign||function(Ie){return Ie>0?1:Ie<0?-1:0},ue=Math.sqrt,I=Math.tan;function J(Ie){return Ie>1?0:Ie<-1?o:Math.acos(Ie)}function he(Ie){return Ie>1?a:Ie<-1?-a:Math.asin(Ie)}function ye(){}function He(Ie,yt){Ie&&ct.hasOwnProperty(Ie.type)&&ct[Ie.type](Ie,yt)}var at={Feature:function(Ie,yt){He(Ie.geometry,yt)},FeatureCollection:function(Ie,yt){for(var Jt=Ie.features,$t=-1,pn=Jt.length;++$t<pn;)He(Jt[$t].geometry,yt)}},ct={Sphere:function(Ie,yt){yt.sphere()},Point:function(Ie,yt){Ie=Ie.coordinates,yt.point(Ie[0],Ie[1],Ie[2])},MultiPoint:function(Ie,yt){for(var Jt=Ie.coordinates,$t=-1,pn=Jt.length;++$t<pn;)Ie=Jt[$t],yt.point(Ie[0],Ie[1],Ie[2])},LineString:function(Ie,yt){Ze(Ie.coordinates,yt,0)},MultiLineString:function(Ie,yt){for(var Jt=Ie.coordinates,$t=-1,pn=Jt.length;++$t<pn;)Ze(Jt[$t],yt,0)},Polygon:function(Ie,yt){Et(Ie.coordinates,yt)},MultiPolygon:function(Ie,yt){for(var Jt=Ie.coordinates,$t=-1,pn=Jt.length;++$t<pn;)Et(Jt[$t],yt)},GeometryCollection:function(Ie,yt){for(var Jt=Ie.geometries,$t=-1,pn=Jt.length;++$t<pn;)He(Jt[$t],yt)}};function Ze(Ie,yt,Jt){var $t=-1,pn=Ie.length-Jt,Ln;for(yt.lineStart();++$t<pn;)Ln=Ie[$t],yt.point(Ln[0],Ln[1],Ln[2]);yt.lineEnd()}function Et(Ie,yt){var Jt=-1,$t=Ie.length;for(yt.polygonStart();++Jt<$t;)Ze(Ie[Jt],yt,1);yt.polygonEnd()}function Mt(Ie,yt){Ie&&at.hasOwnProperty(Ie.type)?at[Ie.type](Ie,yt):He(Ie,yt)}function qe(Ie){return[R(Ie[1],Ie[0]),he(Ie[2])]}function te(Ie){var yt=Ie[0],Jt=Ie[1],$t=q(Jt);return[$t*q(yt),$t*P(yt),P(Jt)]}function et(Ie,yt){return Ie[0]*yt[0]+Ie[1]*yt[1]+Ie[2]*yt[2]}function be(Ie,yt){return[Ie[1]*yt[2]-Ie[2]*yt[1],Ie[2]*yt[0]-Ie[0]*yt[2],Ie[0]*yt[1]-Ie[1]*yt[0]]}function ke(Ie,yt){Ie[0]+=yt[0],Ie[1]+=yt[1],Ie[2]+=yt[2]}function we(Ie,yt){return[Ie[0]*yt,Ie[1]*yt,Ie[2]*yt]}function pe(Ie){var yt=ue(Ie[0]*Ie[0]+Ie[1]*Ie[1]+Ie[2]*Ie[2]);Ie[0]/=yt,Ie[1]/=yt,Ie[2]/=yt}function Je(Ie,yt){function Jt($t,pn){return $t=Ie($t,pn),yt($t[0],$t[1])}return Ie.invert&&yt.invert&&(Jt.invert=function($t,pn){return $t=yt.invert($t,pn),$t&&Ie.invert($t[0],$t[1])}),Jt}function lt(Ie,yt){return[E(Ie)>o?Ie+Math.round(-Ie/f)*f:Ie,yt]}lt.invert=lt;function Ht(Ie,yt,Jt){return(Ie%=f)?yt||Jt?Je(mn(Ie),kt(yt,Jt)):mn(Ie):yt||Jt?kt(yt,Jt):lt}function Ct(Ie){return function(yt,Jt){return yt+=Ie,[yt>o?yt-f:yt<-o?yt+f:yt,Jt]}}function mn(Ie){var yt=Ct(Ie);return yt.invert=Ct(-Ie),yt}function kt(Ie,yt){var Jt=q(Ie),$t=P(Ie),pn=q(yt),Ln=P(yt);function Kn($n,br){var Cr=q(br),Gn=q($n)*Cr,ar=P($n)*Cr,er=P(br),gr=er*Jt+Gn*$t;return[R(ar*pn-gr*Ln,Gn*Jt-er*$t),he(gr*pn+ar*Ln)]}return Kn.invert=function($n,br){var Cr=q(br),Gn=q($n)*Cr,ar=P($n)*Cr,er=P(br),gr=er*pn-ar*Ln;return[R(ar*pn+er*Ln,Gn*Jt+gr*$t),he(gr*Jt-Gn*$t)]},Kn}function Bt(Ie){Ie=Ht(Ie[0]*_,Ie[1]*_,Ie.length>2?Ie[2]*_:0);function yt(Jt){return Jt=Ie(Jt[0]*_,Jt[1]*_),Jt[0]*=p,Jt[1]*=p,Jt}return yt.invert=function(Jt){return Jt=Ie.invert(Jt[0]*_,Jt[1]*_),Jt[0]*=p,Jt[1]*=p,Jt},yt}function tn(Ie,yt,Jt,$t,pn,Ln){if(!!Jt){var Kn=q(yt),$n=P(yt),br=$t*Jt;pn==null?(pn=yt+$t*f,Ln=yt-br/2):(pn=bt(Kn,pn),Ln=bt(Kn,Ln),($t>0?pn<Ln:pn>Ln)&&(pn+=$t*f));for(var Cr,Gn=pn;$t>0?Gn>Ln:Gn<Ln;Gn-=br)Cr=qe([Kn,-$n*q(Gn),-$n*P(Gn)]),Ie.point(Cr[0],Cr[1])}}function bt(Ie,yt){yt=te(yt),yt[0]-=Ie,pe(yt);var Jt=J(-yt[1]);return((-yt[2]<0?-Jt:Jt)+f-i)%f}function ve(){var Ie=[],yt;return{point:function(Jt,$t,pn){yt.push([Jt,$t,pn])},lineStart:function(){Ie.push(yt=[])},lineEnd:ye,rejoin:function(){Ie.length>1&&Ie.push(Ie.pop().concat(Ie.shift()))},result:function(){var Jt=Ie;return Ie=[],yt=null,Jt}}}function Le(Ie,yt){return E(Ie[0]-yt[0])<i&&E(Ie[1]-yt[1])<i}function _e(Ie,yt,Jt,$t){this.x=Ie,this.z=yt,this.o=Jt,this.e=$t,this.v=!1,this.n=this.p=null}function ce(Ie,yt,Jt,$t,pn){var Ln=[],Kn=[],$n,br;if(Ie.forEach(function(Rr){if(!((di=Rr.length-1)<=0)){var di,ni=Rr[0],pi=Rr[di],ii;if(Le(ni,pi)){if(!ni[2]&&!pi[2]){for(pn.lineStart(),$n=0;$n<di;++$n)pn.point((ni=Rr[$n])[0],ni[1]);pn.lineEnd();return}pi[0]+=2*i}Ln.push(ii=new _e(ni,Rr,null,!0)),Kn.push(ii.o=new _e(ni,null,ii,!1)),Ln.push(ii=new _e(pi,Rr,null,!1)),Kn.push(ii.o=new _e(pi,null,ii,!0))}}),!!Ln.length){for(Kn.sort(yt),tt(Ln),tt(Kn),$n=0,br=Kn.length;$n<br;++$n)Kn[$n].e=Jt=!Jt;for(var Cr=Ln[0],Gn,ar;;){for(var er=Cr,gr=!0;er.v;)if((er=er.n)===Cr)return;Gn=er.z,pn.lineStart();do{if(er.v=er.o.v=!0,er.e){if(gr)for($n=0,br=Gn.length;$n<br;++$n)pn.point((ar=Gn[$n])[0],ar[1]);else $t(er.x,er.n.x,1,pn);er=er.n}else{if(gr)for(Gn=er.p.z,$n=Gn.length-1;$n>=0;--$n)pn.point((ar=Gn[$n])[0],ar[1]);else $t(er.x,er.p.x,-1,pn);er=er.p}er=er.o,Gn=er.z,gr=!gr}while(!er.v);pn.lineEnd()}}}function tt(Ie){if(!!(yt=Ie.length)){for(var yt,Jt=0,$t=Ie[0],pn;++Jt<yt;)$t.n=pn=Ie[Jt],pn.p=$t,$t=pn;$t.n=pn=Ie[0],pn.p=$t}}function Ke(Ie){return E(Ie[0])<=o?Ie[0]:G(Ie[0])*((E(Ie[0])+o)%f-o)}function re(Ie,yt){var Jt=Ke(yt),$t=yt[1],pn=P($t),Ln=[P(Jt),-q(Jt),0],Kn=0,$n=0,br=new e;pn===1?$t=a+i:pn===-1&&($t=-a-i);for(var Cr=0,Gn=Ie.length;Cr<Gn;++Cr)if(!!(er=(ar=Ie[Cr]).length))for(var ar,er,gr=ar[er-1],Rr=Ke(gr),di=gr[1]/2+l,ni=P(di),pi=q(di),ii=0;ii<er;++ii,Rr=Ir,ni=gi,pi=os,gr=qr){var qr=ar[ii],Ir=Ke(qr),yi=qr[1]/2+l,gi=P(yi),os=q(yi),xs=Ir-Rr,vi=xs>=0?1:-1,Bs=vi*xs,ss=Bs>o,ya=ni*gi;if(br.add(R(ya*vi*P(Bs),pi*os+ya*q(Bs))),Kn+=ss?xs+vi*f:xs,ss^Rr>=Jt^Ir>=Jt){var No=be(te(gr),te(qr));pe(No);var Ts=be(Ln,No);pe(Ts);var nn=(ss^xs>=0?-1:1)*he(Ts[2]);($t>nn||$t===nn&&(No[0]||No[1]))&&($n+=ss^xs>=0?1:-1)}}return(Kn<-i||Kn<i&&br<-s)^$n&1}function Oe(Ie,yt,Jt,$t){return function(pn){var Ln=yt(pn),Kn=ve(),$n=yt(Kn),br=!1,Cr,Gn,ar,er={point:gr,lineStart:di,lineEnd:ni,polygonStart:function(){er.point=pi,er.lineStart=ii,er.lineEnd=qr,Gn=[],Cr=[]},polygonEnd:function(){er.point=gr,er.lineStart=di,er.lineEnd=ni,Gn=r(Gn);var Ir=re(Cr,$t);Gn.length?(br||(pn.polygonStart(),br=!0),ce(Gn,ft,Ir,Jt,pn)):Ir&&(br||(pn.polygonStart(),br=!0),pn.lineStart(),Jt(null,null,1,pn),pn.lineEnd()),br&&(pn.polygonEnd(),br=!1),Gn=Cr=null},sphere:function(){pn.polygonStart(),pn.lineStart(),Jt(null,null,1,pn),pn.lineEnd(),pn.polygonEnd()}};function gr(Ir,yi){Ie(Ir,yi)&&pn.point(Ir,yi)}function Rr(Ir,yi){Ln.point(Ir,yi)}function di(){er.point=Rr,Ln.lineStart()}function ni(){er.point=gr,Ln.lineEnd()}function pi(Ir,yi){ar.push([Ir,yi]),$n.point(Ir,yi)}function ii(){$n.lineStart(),ar=[]}function qr(){pi(ar[0][0],ar[0][1]),$n.lineEnd();var Ir=$n.clean(),yi=Kn.result(),gi,os=yi.length,xs,vi,Bs;if(ar.pop(),Cr.push(ar),ar=null,!!os){if(Ir&1){if(vi=yi[0],(xs=vi.length-1)>0){for(br||(pn.polygonStart(),br=!0),pn.lineStart(),gi=0;gi<xs;++gi)pn.point((Bs=vi[gi])[0],Bs[1]);pn.lineEnd()}return}os>1&&Ir&2&&yi.push(yi.pop().concat(yi.shift())),Gn.push(yi.filter(nt))}}return er}}function nt(Ie){return Ie.length>1}function ft(Ie,yt){return((Ie=Ie.x)[0]<0?Ie[1]-a-i:a-Ie[1])-((yt=yt.x)[0]<0?yt[1]-a-i:a-yt[1])}var Ot=Oe(function(){return!0},Yt,fn,[-o,-a]);function Yt(Ie){var yt=NaN,Jt=NaN,$t=NaN,pn;return{lineStart:function(){Ie.lineStart(),pn=1},point:function(Ln,Kn){var $n=Ln>0?o:-o,br=E(Ln-yt);E(br-o)<i?(Ie.point(yt,Jt=(Jt+Kn)/2>0?a:-a),Ie.point($t,Jt),Ie.lineEnd(),Ie.lineStart(),Ie.point($n,Jt),Ie.point(Ln,Jt),pn=0):$t!==$n&&br>=o&&(E(yt-$t)<i&&(yt-=$t*i),E(Ln-$n)<i&&(Ln-=$n*i),Jt=Gt(yt,Jt,Ln,Kn),Ie.point($t,Jt),Ie.lineEnd(),Ie.lineStart(),Ie.point($n,Jt),pn=0),Ie.point(yt=Ln,Jt=Kn),$t=$n},lineEnd:function(){Ie.lineEnd(),yt=Jt=NaN},clean:function(){return 2-pn}}}function Gt(Ie,yt,Jt,$t){var pn,Ln,Kn=P(Ie-Jt);return E(Kn)>i?O((P(yt)*(Ln=q($t))*P(Jt)-P($t)*(pn=q(yt))*P(Ie))/(pn*Ln*Kn)):(yt+$t)/2}function fn(Ie,yt,Jt,$t){var pn;if(Ie==null)pn=Jt*a,$t.point(-o,pn),$t.point(0,pn),$t.point(o,pn),$t.point(o,0),$t.point(o,-pn),$t.point(0,-pn),$t.point(-o,-pn),$t.point(-o,0),$t.point(-o,pn);else if(E(Ie[0]-yt[0])>i){var Ln=Ie[0]<yt[0]?o:-o;pn=Jt*Ln/2,$t.point(-Ln,pn),$t.point(0,pn),$t.point(Ln,pn)}else $t.point(yt[0],yt[1])}function gn(Ie){var yt=q(Ie),Jt=6*_,$t=yt>0,pn=E(yt)>i;function Ln(Gn,ar,er,gr){tn(gr,Ie,Jt,er,Gn,ar)}function Kn(Gn,ar){return q(Gn)*q(ar)>yt}function $n(Gn){var ar,er,gr,Rr,di;return{lineStart:function(){Rr=gr=!1,di=1},point:function(ni,pi){var ii=[ni,pi],qr,Ir=Kn(ni,pi),yi=$t?Ir?0:Cr(ni,pi):Ir?Cr(ni+(ni<0?o:-o),pi):0;if(!ar&&(Rr=gr=Ir)&&Gn.lineStart(),Ir!==gr&&(qr=br(ar,ii),(!qr||Le(ar,qr)||Le(ii,qr))&&(ii[2]=1)),Ir!==gr)di=0,Ir?(Gn.lineStart(),qr=br(ii,ar),Gn.point(qr[0],qr[1])):(qr=br(ar,ii),Gn.point(qr[0],qr[1],2),Gn.lineEnd()),ar=qr;else if(pn&&ar&&$t^Ir){var gi;!(yi&er)&&(gi=br(ii,ar,!0))&&(di=0,$t?(Gn.lineStart(),Gn.point(gi[0][0],gi[0][1]),Gn.point(gi[1][0],gi[1][1]),Gn.lineEnd()):(Gn.point(gi[1][0],gi[1][1]),Gn.lineEnd(),Gn.lineStart(),Gn.point(gi[0][0],gi[0][1],3)))}Ir&&(!ar||!Le(ar,ii))&&Gn.point(ii[0],ii[1]),ar=ii,gr=Ir,er=yi},lineEnd:function(){gr&&Gn.lineEnd(),ar=null},clean:function(){return di|(Rr&&gr)<<1}}}function br(Gn,ar,er){var gr=te(Gn),Rr=te(ar),di=[1,0,0],ni=be(gr,Rr),pi=et(ni,ni),ii=ni[0],qr=pi-ii*ii;if(!qr)return!er&&Gn;var Ir=yt*pi/qr,yi=-yt*ii/qr,gi=be(di,ni),os=we(di,Ir),xs=we(ni,yi);ke(os,xs);var vi=gi,Bs=et(os,vi),ss=et(vi,vi),ya=Bs*Bs-ss*(et(os,os)-1);if(!(ya<0)){var No=ue(ya),Ts=we(vi,(-Bs-No)/ss);if(ke(Ts,os),Ts=qe(Ts),!er)return Ts;var nn=Gn[0],Jn=ar[0],bn=Gn[1],Yr=ar[1],Ti;Jn<nn&&(Ti=nn,nn=Jn,Jn=Ti);var ns=Jn-nn,ms=E(ns-o)<i,Hi=ms||ns<i;if(!ms&&Yr<bn&&(Ti=bn,bn=Yr,Yr=Ti),Hi?ms?bn+Yr>0^Ts[1]<(E(Ts[0]-nn)<i?bn:Yr):bn<=Ts[1]&&Ts[1]<=Yr:ns>o^(nn<=Ts[0]&&Ts[0]<=Jn)){var fs=we(vi,(-Bs+No)/ss);return ke(fs,os),[Ts,qe(fs)]}}}function Cr(Gn,ar){var er=$t?Ie:o-Ie,gr=0;return Gn<-er?gr|=1:Gn>er&&(gr|=2),ar<-er?gr|=4:ar>er&&(gr|=8),gr}return Oe(Kn,$n,Ln,$t?[0,-Ie]:[-o,Ie-o])}function yn(Ie,yt,Jt,$t,pn,Ln){var Kn=Ie[0],$n=Ie[1],br=yt[0],Cr=yt[1],Gn=0,ar=1,er=br-Kn,gr=Cr-$n,Rr;if(Rr=Jt-Kn,!(!er&&Rr>0)){if(Rr/=er,er<0){if(Rr<Gn)return;Rr<ar&&(ar=Rr)}else if(er>0){if(Rr>ar)return;Rr>Gn&&(Gn=Rr)}if(Rr=pn-Kn,!(!er&&Rr<0)){if(Rr/=er,er<0){if(Rr>ar)return;Rr>Gn&&(Gn=Rr)}else if(er>0){if(Rr<Gn)return;Rr<ar&&(ar=Rr)}if(Rr=$t-$n,!(!gr&&Rr>0)){if(Rr/=gr,gr<0){if(Rr<Gn)return;Rr<ar&&(ar=Rr)}else if(gr>0){if(Rr>ar)return;Rr>Gn&&(Gn=Rr)}if(Rr=Ln-$n,!(!gr&&Rr<0)){if(Rr/=gr,gr<0){if(Rr>ar)return;Rr>Gn&&(Gn=Rr)}else if(gr>0){if(Rr<Gn)return;Rr<ar&&(ar=Rr)}return Gn>0&&(Ie[0]=Kn+Gn*er,Ie[1]=$n+Gn*gr),ar<1&&(yt[0]=Kn+ar*er,yt[1]=$n+ar*gr),!0}}}}}var Lt=1e9,un=-Lt;function Mn(Ie,yt,Jt,$t){function pn(Cr,Gn){return Ie<=Cr&&Cr<=Jt&&yt<=Gn&&Gn<=$t}function Ln(Cr,Gn,ar,er){var gr=0,Rr=0;if(Cr==null||(gr=Kn(Cr,ar))!==(Rr=Kn(Gn,ar))||br(Cr,Gn)<0^ar>0)do er.point(gr===0||gr===3?Ie:Jt,gr>1?$t:yt);while((gr=(gr+ar+4)%4)!==Rr);else er.point(Gn[0],Gn[1])}function Kn(Cr,Gn){return E(Cr[0]-Ie)<i?Gn>0?0:3:E(Cr[0]-Jt)<i?Gn>0?2:1:E(Cr[1]-yt)<i?Gn>0?1:0:Gn>0?3:2}function $n(Cr,Gn){return br(Cr.x,Gn.x)}function br(Cr,Gn){var ar=Kn(Cr,1),er=Kn(Gn,1);return ar!==er?ar-er:ar===0?Gn[1]-Cr[1]:ar===1?Cr[0]-Gn[0]:ar===2?Cr[1]-Gn[1]:Gn[0]-Cr[0]}return function(Cr){var Gn=Cr,ar=ve(),er,gr,Rr,di,ni,pi,ii,qr,Ir,yi,gi,os={point:xs,lineStart:ya,lineEnd:No,polygonStart:Bs,polygonEnd:ss};function xs(nn,Jn){pn(nn,Jn)&&Gn.point(nn,Jn)}function vi(){for(var nn=0,Jn=0,bn=gr.length;Jn<bn;++Jn)for(var Yr=gr[Jn],Ti=1,ns=Yr.length,ms=Yr[0],Hi,fs,mu=ms[0],le=ms[1];Ti<ns;++Ti)Hi=mu,fs=le,ms=Yr[Ti],mu=ms[0],le=ms[1],fs<=$t?le>$t&&(mu-Hi)*($t-fs)>(le-fs)*(Ie-Hi)&&++nn:le<=$t&&(mu-Hi)*($t-fs)<(le-fs)*(Ie-Hi)&&--nn;return nn}function Bs(){Gn=ar,er=[],gr=[],gi=!0}function ss(){var nn=vi(),Jn=gi&&nn,bn=(er=r(er)).length;(Jn||bn)&&(Cr.polygonStart(),Jn&&(Cr.lineStart(),Ln(null,null,1,Cr),Cr.lineEnd()),bn&&ce(er,$n,nn,Ln,Cr),Cr.polygonEnd()),Gn=Cr,er=gr=Rr=null}function ya(){os.point=Ts,gr&&gr.push(Rr=[]),yi=!0,Ir=!1,ii=qr=NaN}function No(){er&&(Ts(di,ni),pi&&Ir&&ar.rejoin(),er.push(ar.result())),os.point=xs,Ir&&Gn.lineEnd()}function Ts(nn,Jn){var bn=pn(nn,Jn);if(gr&&Rr.push([nn,Jn]),yi)di=nn,ni=Jn,pi=bn,yi=!1,bn&&(Gn.lineStart(),Gn.point(nn,Jn));else if(bn&&Ir)Gn.point(nn,Jn);else{var Yr=[ii=Math.max(un,Math.min(Lt,ii)),qr=Math.max(un,Math.min(Lt,qr))],Ti=[nn=Math.max(un,Math.min(Lt,nn)),Jn=Math.max(un,Math.min(Lt,Jn))];yn(Yr,Ti,Ie,yt,Jt,$t)?(Ir||(Gn.lineStart(),Gn.point(Yr[0],Yr[1])),Gn.point(Ti[0],Ti[1]),bn||Gn.lineEnd(),gi=!1):bn&&(Gn.lineStart(),Gn.point(nn,Jn),gi=!1)}ii=nn,qr=Jn,Ir=bn}return os}}var tr=Ie=>Ie,Rn=new e,Ne=new e,ze,De,Pt,mt,xt={point:ye,lineStart:ye,lineEnd:ye,polygonStart:function(){xt.lineStart=rn,xt.lineEnd=Wn},polygonEnd:function(){xt.lineStart=xt.lineEnd=xt.point=ye,Rn.add(E(Ne)),Ne=new e},result:function(){var Ie=Rn/2;return Rn=new e,Ie}};function rn(){xt.point=Qt}function Qt(Ie,yt){xt.point=Fn,ze=Pt=Ie,De=mt=yt}function Fn(Ie,yt){Ne.add(mt*Ie-Pt*yt),Pt=Ie,mt=yt}function Wn(){Fn(ze,De)}var Zn=xt,Nn=1/0,nr=Nn,Ye=-Nn,vt=Ye,oe={point:Be,lineStart:ye,lineEnd:ye,polygonStart:ye,polygonEnd:ye,result:function(){var Ie=[[Nn,nr],[Ye,vt]];return Ye=vt=-(nr=Nn=1/0),Ie}};function Be(Ie,yt){Ie<Nn&&(Nn=Ie),Ie>Ye&&(Ye=Ie),yt<nr&&(nr=yt),yt>vt&&(vt=yt)}var rt=oe,Dt=0,hn=0,an=0,dt=0,ie=0,Te=0,Ue=0,gt=0,St=0,Rt,ne,Ce,We,st={point:Ut,lineStart:sn,lineEnd:vn,polygonStart:function(){st.lineStart=zn,st.lineEnd=Re},polygonEnd:function(){st.point=Ut,st.lineStart=sn,st.lineEnd=vn},result:function(){var Ie=St?[Ue/St,gt/St]:Te?[dt/Te,ie/Te]:an?[Dt/an,hn/an]:[NaN,NaN];return Dt=hn=an=dt=ie=Te=Ue=gt=St=0,Ie}};function Ut(Ie,yt){Dt+=Ie,hn+=yt,++an}function sn(){st.point=Cn}function Cn(Ie,yt){st.point=En,Ut(Ce=Ie,We=yt)}function En(Ie,yt){var Jt=Ie-Ce,$t=yt-We,pn=ue(Jt*Jt+$t*$t);dt+=pn*(Ce+Ie)/2,ie+=pn*(We+yt)/2,Te+=pn,Ut(Ce=Ie,We=yt)}function vn(){st.point=Ut}function zn(){st.point=$e}function Re(){Ft(Rt,ne)}function $e(Ie,yt){st.point=Ft,Ut(Rt=Ce=Ie,ne=We=yt)}function Ft(Ie,yt){var Jt=Ie-Ce,$t=yt-We,pn=ue(Jt*Jt+$t*$t);dt+=pn*(Ce+Ie)/2,ie+=pn*(We+yt)/2,Te+=pn,pn=We*Ie-Ce*yt,Ue+=pn*(Ce+Ie),gt+=pn*(We+yt),St+=pn*3,Ut(Ce=Ie,We=yt)}var N=st;function V(Ie){this._context=Ie}V.prototype={_radius:4.5,pointRadius:function(Ie){return this._radius=Ie,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Ie,yt){switch(this._point){case 0:{this._context.moveTo(Ie,yt),this._point=1;break}case 1:{this._context.lineTo(Ie,yt);break}default:{this._context.moveTo(Ie+this._radius,yt),this._context.arc(Ie,yt,this._radius,0,f);break}}},result:ye};var Ee=new e,xe,K,ae,fe,Qe,It={point:ye,lineStart:function(){It.point=At},lineEnd:function(){xe&&dn(K,ae),It.point=ye},polygonStart:function(){xe=!0},polygonEnd:function(){xe=null},result:function(){var Ie=+Ee;return Ee=new e,Ie}};function At(Ie,yt){It.point=dn,K=fe=Ie,ae=Qe=yt}function dn(Ie,yt){fe-=Ie,Qe-=yt,Ee.add(ue(fe*fe+Qe*Qe)),fe=Ie,Qe=yt}var w=It;function j(){this._string=[]}j.prototype={_radius:4.5,_circle:ee(4.5),pointRadius:function(Ie){return(Ie=+Ie)!==this._radius&&(this._radius=Ie,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Ie,yt){switch(this._point){case 0:{this._string.push("M",Ie,",",yt),this._point=1;break}case 1:{this._string.push("L",Ie,",",yt);break}default:{this._circle==null&&(this._circle=ee(this._radius)),this._string.push("M",Ie,",",yt,this._circle);break}}},result:function(){if(this._string.length){var Ie=this._string.join("");return this._string=[],Ie}else return null}};function ee(Ie){return"m0,"+Ie+"a"+Ie+","+Ie+" 0 1,1 0,"+-2*Ie+"a"+Ie+","+Ie+" 0 1,1 0,"+2*Ie+"z"}function Se(Ie,yt){var Jt=4.5,$t,pn;function Ln(Kn){return Kn&&(typeof Jt=="function"&&pn.pointRadius(+Jt.apply(this,arguments)),Mt(Kn,$t(pn))),pn.result()}return Ln.area=function(Kn){return Mt(Kn,$t(Zn)),Zn.result()},Ln.measure=function(Kn){return Mt(Kn,$t(w)),w.result()},Ln.bounds=function(Kn){return Mt(Kn,$t(rt)),rt.result()},Ln.centroid=function(Kn){return Mt(Kn,$t(N)),N.result()},Ln.projection=function(Kn){return arguments.length?($t=Kn==null?(Ie=null,tr):(Ie=Kn).stream,Ln):Ie},Ln.context=function(Kn){return arguments.length?(pn=Kn==null?(yt=null,new j):new V(yt=Kn),typeof Jt!="function"&&pn.pointRadius(Jt),Ln):yt},Ln.pointRadius=function(Kn){return arguments.length?(Jt=typeof Kn=="function"?Kn:(pn.pointRadius(+Kn),+Kn),Ln):Jt},Ln.projection(Ie).context(yt)}function ht(Ie){return function(yt){var Jt=new Tt;for(var $t in Ie)Jt[$t]=Ie[$t];return Jt.stream=yt,Jt}}function Tt(){}Tt.prototype={constructor:Tt,point:function(Ie,yt){this.stream.point(Ie,yt)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Zt(Ie,yt,Jt){var $t=Ie.clipExtent&&Ie.clipExtent();return Ie.scale(150).translate([0,0]),$t!=null&&Ie.clipExtent(null),Mt(Jt,Ie.stream(rt)),yt(rt.result()),$t!=null&&Ie.clipExtent($t),Ie}function Xt(Ie,yt,Jt){return Zt(Ie,function($t){var pn=yt[1][0]-yt[0][0],Ln=yt[1][1]-yt[0][1],Kn=Math.min(pn/($t[1][0]-$t[0][0]),Ln/($t[1][1]-$t[0][1])),$n=+yt[0][0]+(pn-Kn*($t[1][0]+$t[0][0]))/2,br=+yt[0][1]+(Ln-Kn*($t[1][1]+$t[0][1]))/2;Ie.scale(150*Kn).translate([$n,br])},Jt)}function xn(Ie,yt,Jt){return Xt(Ie,[[0,0],yt],Jt)}function qn(Ie,yt,Jt){return Zt(Ie,function($t){var pn=+yt,Ln=pn/($t[1][0]-$t[0][0]),Kn=(pn-Ln*($t[1][0]+$t[0][0]))/2,$n=-Ln*$t[0][1];Ie.scale(150*Ln).translate([Kn,$n])},Jt)}function Un(Ie,yt,Jt){return Zt(Ie,function($t){var pn=+yt,Ln=pn/($t[1][1]-$t[0][1]),Kn=-Ln*$t[0][0],$n=(pn-Ln*($t[1][1]+$t[0][1]))/2;Ie.scale(150*Ln).translate([Kn,$n])},Jt)}var Vn=16,Jr=q(30*_);function Vr(Ie,yt){return+yt?Mr(Ie,yt):yr(Ie)}function yr(Ie){return ht({point:function(yt,Jt){yt=Ie(yt,Jt),this.stream.point(yt[0],yt[1])}})}function Mr(Ie,yt){function Jt($t,pn,Ln,Kn,$n,br,Cr,Gn,ar,er,gr,Rr,di,ni){var pi=Cr-$t,ii=Gn-pn,qr=pi*pi+ii*ii;if(qr>4*yt&&di--){var Ir=Kn+er,yi=$n+gr,gi=br+Rr,os=ue(Ir*Ir+yi*yi+gi*gi),xs=he(gi/=os),vi=E(E(gi)-1)<i||E(Ln-ar)<i?(Ln+ar)/2:R(yi,Ir),Bs=Ie(vi,xs),ss=Bs[0],ya=Bs[1],No=ss-$t,Ts=ya-pn,nn=ii*No-pi*Ts;(nn*nn/qr>yt||E((pi*No+ii*Ts)/qr-.5)>.3||Kn*er+$n*gr+br*Rr<Jr)&&(Jt($t,pn,Ln,Kn,$n,br,ss,ya,vi,Ir/=os,yi/=os,gi,di,ni),ni.point(ss,ya),Jt(ss,ya,vi,Ir,yi,gi,Cr,Gn,ar,er,gr,Rr,di,ni))}}return function($t){var pn,Ln,Kn,$n,br,Cr,Gn,ar,er,gr,Rr,di,ni={point:pi,lineStart:ii,lineEnd:Ir,polygonStart:function(){$t.polygonStart(),ni.lineStart=yi},polygonEnd:function(){$t.polygonEnd(),ni.lineStart=ii}};function pi(xs,vi){xs=Ie(xs,vi),$t.point(xs[0],xs[1])}function ii(){ar=NaN,ni.point=qr,$t.lineStart()}function qr(xs,vi){var Bs=te([xs,vi]),ss=Ie(xs,vi);Jt(ar,er,Gn,gr,Rr,di,ar=ss[0],er=ss[1],Gn=xs,gr=Bs[0],Rr=Bs[1],di=Bs[2],Vn,$t),$t.point(ar,er)}function Ir(){ni.point=pi,$t.lineEnd()}function yi(){ii(),ni.point=gi,ni.lineEnd=os}function gi(xs,vi){qr(pn=xs,vi),Ln=ar,Kn=er,$n=gr,br=Rr,Cr=di,ni.point=qr}function os(){Jt(ar,er,Gn,gr,Rr,di,Ln,Kn,pn,$n,br,Cr,Vn,$t),ni.lineEnd=Ir,Ir()}return ni}}var xi=ht({point:function(Ie,yt){this.stream.point(Ie*_,yt*_)}});function ai(Ie){return ht({point:function(yt,Jt){var $t=Ie(yt,Jt);return this.stream.point($t[0],$t[1])}})}function Xi(Ie,yt,Jt,$t,pn){function Ln(Kn,$n){return Kn*=$t,$n*=pn,[yt+Ie*Kn,Jt-Ie*$n]}return Ln.invert=function(Kn,$n){return[(Kn-yt)/Ie*$t,(Jt-$n)/Ie*pn]},Ln}function ws(Ie,yt,Jt,$t,pn,Ln){if(!Ln)return Xi(Ie,yt,Jt,$t,pn);var Kn=q(Ln),$n=P(Ln),br=Kn*Ie,Cr=$n*Ie,Gn=Kn/Ie,ar=$n/Ie,er=($n*Jt-Kn*yt)/Ie,gr=($n*yt+Kn*Jt)/Ie;function Rr(di,ni){return di*=$t,ni*=pn,[br*di-Cr*ni+yt,Jt-Cr*di-br*ni]}return Rr.invert=function(di,ni){return[$t*(Gn*di-ar*ni+er),pn*(gr-ar*di-Gn*ni)]},Rr}function ts(Ie){return Aa(function(){return Ie})()}function Aa(Ie){var yt,Jt=150,$t=480,pn=250,Ln=0,Kn=0,$n=0,br=0,Cr=0,Gn,ar=0,er=1,gr=1,Rr=null,di=Ot,ni=null,pi,ii,qr,Ir=tr,yi=.5,gi,os,xs,vi,Bs;function ss(nn){return xs(nn[0]*_,nn[1]*_)}function ya(nn){return nn=xs.invert(nn[0],nn[1]),nn&&[nn[0]*p,nn[1]*p]}ss.stream=function(nn){return vi&&Bs===nn?vi:vi=xi(ai(Gn)(di(gi(Ir(Bs=nn)))))},ss.preclip=function(nn){return arguments.length?(di=nn,Rr=void 0,Ts()):di},ss.postclip=function(nn){return arguments.length?(Ir=nn,ni=pi=ii=qr=null,Ts()):Ir},ss.clipAngle=function(nn){return arguments.length?(di=+nn?gn(Rr=nn*_):(Rr=null,Ot),Ts()):Rr*p},ss.clipExtent=function(nn){return arguments.length?(Ir=nn==null?(ni=pi=ii=qr=null,tr):Mn(ni=+nn[0][0],pi=+nn[0][1],ii=+nn[1][0],qr=+nn[1][1]),Ts()):ni==null?null:[[ni,pi],[ii,qr]]},ss.scale=function(nn){return arguments.length?(Jt=+nn,No()):Jt},ss.translate=function(nn){return arguments.length?($t=+nn[0],pn=+nn[1],No()):[$t,pn]},ss.center=function(nn){return arguments.length?(Ln=nn[0]%360*_,Kn=nn[1]%360*_,No()):[Ln*p,Kn*p]},ss.rotate=function(nn){return arguments.length?($n=nn[0]%360*_,br=nn[1]%360*_,Cr=nn.length>2?nn[2]%360*_:0,No()):[$n*p,br*p,Cr*p]},ss.angle=function(nn){return arguments.length?(ar=nn%360*_,No()):ar*p},ss.reflectX=function(nn){return arguments.length?(er=nn?-1:1,No()):er<0},ss.reflectY=function(nn){return arguments.length?(gr=nn?-1:1,No()):gr<0},ss.precision=function(nn){return arguments.length?(gi=Vr(os,yi=nn*nn),Ts()):ue(yi)},ss.fitExtent=function(nn,Jn){return Xt(ss,nn,Jn)},ss.fitSize=function(nn,Jn){return xn(ss,nn,Jn)},ss.fitWidth=function(nn,Jn){return qn(ss,nn,Jn)},ss.fitHeight=function(nn,Jn){return Un(ss,nn,Jn)};function No(){var nn=ws(Jt,0,0,er,gr,ar).apply(null,yt(Ln,Kn)),Jn=ws(Jt,$t-nn[0],pn-nn[1],er,gr,ar);return Gn=Ht($n,br,Cr),os=Je(yt,Jn),xs=Je(Gn,os),gi=Vr(os,yi),Ts()}function Ts(){return vi=Bs=null,ss}return function(){return yt=Ie.apply(this,arguments),ss.invert=yt.invert&&ya,No()}}function xa(Ie){var yt=0,Jt=o/3,$t=Aa(Ie),pn=$t(yt,Jt);return pn.parallels=function(Ln){return arguments.length?$t(yt=Ln[0]*_,Jt=Ln[1]*_):[yt*p,Jt*p]},pn}function yl(Ie){var yt=q(Ie);function Jt($t,pn){return[$t*yt,P(pn)/yt]}return Jt.invert=function($t,pn){return[$t/yt,he(pn*yt)]},Jt}function Nc(Ie,yt){var Jt=P(Ie),$t=(Jt+P(yt))/2;if(E($t)<i)return yl(Ie);var pn=1+Jt*(2*$t-Jt),Ln=ue(pn)/$t;function Kn($n,br){var Cr=ue(pn-2*$t*P(br))/$t;return[Cr*P($n*=$t),Ln-Cr*q($n)]}return Kn.invert=function($n,br){var Cr=Ln-br,Gn=R($n,E(Cr))*G(Cr);return Cr*$t<0&&(Gn-=o*G($n)*G(Cr)),[Gn/$t,he((pn-($n*$n+Cr*Cr)*$t*$t)/(2*$t))]},Kn}function fu(){return xa(Nc).scale(155.424).center([0,33.6442])}function du(){return fu().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Xu(Ie){var yt=Ie.length;return{point:function(Jt,$t){for(var pn=-1;++pn<yt;)Ie[pn].point(Jt,$t)},sphere:function(){for(var Jt=-1;++Jt<yt;)Ie[Jt].sphere()},lineStart:function(){for(var Jt=-1;++Jt<yt;)Ie[Jt].lineStart()},lineEnd:function(){for(var Jt=-1;++Jt<yt;)Ie[Jt].lineEnd()},polygonStart:function(){for(var Jt=-1;++Jt<yt;)Ie[Jt].polygonStart()},polygonEnd:function(){for(var Jt=-1;++Jt<yt;)Ie[Jt].polygonEnd()}}}function Du(){var Ie,yt,Jt=du(),$t,pn=fu().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Ln,Kn=fu().rotate([157,0]).center([-3,19.9]).parallels([8,18]),$n,br,Cr={point:function(er,gr){br=[er,gr]}};function Gn(er){var gr=er[0],Rr=er[1];return br=null,$t.point(gr,Rr),br||(Ln.point(gr,Rr),br)||($n.point(gr,Rr),br)}Gn.invert=function(er){var gr=Jt.scale(),Rr=Jt.translate(),di=(er[0]-Rr[0])/gr,ni=(er[1]-Rr[1])/gr;return(ni>=.12&&ni<.234&&di>=-.425&&di<-.214?pn:ni>=.166&&ni<.234&&di>=-.214&&di<-.115?Kn:Jt).invert(er)},Gn.stream=function(er){return Ie&&yt===er?Ie:Ie=Xu([Jt.stream(yt=er),pn.stream(er),Kn.stream(er)])},Gn.precision=function(er){return arguments.length?(Jt.precision(er),pn.precision(er),Kn.precision(er),ar()):Jt.precision()},Gn.scale=function(er){return arguments.length?(Jt.scale(er),pn.scale(er*.35),Kn.scale(er),Gn.translate(Jt.translate())):Jt.scale()},Gn.translate=function(er){if(!arguments.length)return Jt.translate();var gr=Jt.scale(),Rr=+er[0],di=+er[1];return $t=Jt.translate(er).clipExtent([[Rr-.455*gr,di-.238*gr],[Rr+.455*gr,di+.238*gr]]).stream(Cr),Ln=pn.translate([Rr-.307*gr,di+.201*gr]).clipExtent([[Rr-.425*gr+i,di+.12*gr+i],[Rr-.214*gr-i,di+.234*gr-i]]).stream(Cr),$n=Kn.translate([Rr-.205*gr,di+.212*gr]).clipExtent([[Rr-.214*gr+i,di+.166*gr+i],[Rr-.115*gr-i,di+.234*gr-i]]).stream(Cr),ar()},Gn.fitExtent=function(er,gr){return Xt(Gn,er,gr)},Gn.fitSize=function(er,gr){return xn(Gn,er,gr)},Gn.fitWidth=function(er,gr){return qn(Gn,er,gr)},Gn.fitHeight=function(er,gr){return Un(Gn,er,gr)};function ar(){return Ie=yt=null,Gn}return Gn.scale(1070)}function Lc(Ie){return function(yt,Jt){var $t=q(yt),pn=q(Jt),Ln=Ie($t*pn);return Ln===1/0?[2,0]:[Ln*pn*P(yt),Ln*P(Jt)]}}function na(Ie){return function(yt,Jt){var $t=ue(yt*yt+Jt*Jt),pn=Ie($t),Ln=P(pn),Kn=q(pn);return[R(yt*Ln,$t*Kn),he($t&&Jt*Ln/$t)]}}var Zu=Lc(function(Ie){return ue(2/(1+Ie))});Zu.invert=na(function(Ie){return 2*he(Ie/2)});function nf(){return ts(Zu).scale(124.75).clipAngle(180-.001)}var Ge=Lc(function(Ie){return(Ie=J(Ie))&&Ie/P(Ie)});Ge.invert=na(function(Ie){return Ie});function Kt(){return ts(Ge).scale(79.4188).clipAngle(180-.001)}function jn(Ie,yt){return[Ie,L(I((a+yt)/2))]}jn.invert=function(Ie,yt){return[Ie,2*O(z(yt))-a]};function Yn(){return ri(jn).scale(961/f)}function ri(Ie){var yt=ts(Ie),Jt=yt.center,$t=yt.scale,pn=yt.translate,Ln=yt.clipExtent,Kn=null,$n,br,Cr;yt.scale=function(ar){return arguments.length?($t(ar),Gn()):$t()},yt.translate=function(ar){return arguments.length?(pn(ar),Gn()):pn()},yt.center=function(ar){return arguments.length?(Jt(ar),Gn()):Jt()},yt.clipExtent=function(ar){return arguments.length?(ar==null?Kn=$n=br=Cr=null:(Kn=+ar[0][0],$n=+ar[0][1],br=+ar[1][0],Cr=+ar[1][1]),Gn()):Kn==null?null:[[Kn,$n],[br,Cr]]};function Gn(){var ar=o*$t(),er=yt(Bt(yt.rotate()).invert([0,0]));return Ln(Kn==null?[[er[0]-ar,er[1]-ar],[er[0]+ar,er[1]+ar]]:Ie===jn?[[Math.max(er[0]-ar,Kn),$n],[Math.min(er[0]+ar,br),Cr]]:[[Kn,Math.max(er[1]-ar,$n)],[br,Math.min(er[1]+ar,Cr)]])}return Gn()}function Br(Ie){return I((a+Ie)/2)}function Xr(Ie,yt){var Jt=q(Ie),$t=Ie===yt?P(Ie):L(Jt/q(yt))/L(Br(yt)/Br(Ie)),pn=Jt*B(Br(Ie),$t)/$t;if(!$t)return jn;function Ln(Kn,$n){pn>0?$n<-a+i&&($n=-a+i):$n>a-i&&($n=a-i);var br=pn/B(Br($n),$t);return[br*P($t*Kn),pn-br*q($t*Kn)]}return Ln.invert=function(Kn,$n){var br=pn-$n,Cr=G($t)*ue(Kn*Kn+br*br),Gn=R(Kn,E(br))*G(br);return br*$t<0&&(Gn-=o*G(Kn)*G(br)),[Gn/$t,2*O(B(pn/Cr,1/$t))-a]},Ln}function As(){return xa(Xr).scale(109.5).parallels([30,30])}function fo(Ie,yt){return[Ie,yt]}fo.invert=fo;function io(){return ts(fo).scale(152.63)}function us(Ie,yt){var Jt=q(Ie),$t=Ie===yt?P(Ie):(Jt-q(yt))/(yt-Ie),pn=Jt/$t+Ie;if(E($t)<i)return fo;function Ln(Kn,$n){var br=pn-$n,Cr=$t*Kn;return[br*P(Cr),pn-br*q(Cr)]}return Ln.invert=function(Kn,$n){var br=pn-$n,Cr=R(Kn,E(br))*G(br);return br*$t<0&&(Cr-=o*G(Kn)*G(br)),[Cr/$t,pn-G($t)*ue(Kn*Kn+br*br)]},Ln}function so(){return xa(us).scale(131.154).center([0,13.9389])}var ho=1.340264,hi=-.081106,Ei=893e-6,Wi=.003796,Xo=ue(3)/2,da=12;function ha(Ie,yt){var Jt=he(Xo*P(yt)),$t=Jt*Jt,pn=$t*$t*$t;return[Ie*q(Jt)/(Xo*(ho+3*hi*$t+pn*(7*Ei+9*Wi*$t))),Jt*(ho+hi*$t+pn*(Ei+Wi*$t))]}ha.invert=function(Ie,yt){for(var Jt=yt,$t=Jt*Jt,pn=$t*$t*$t,Ln=0,Kn,$n,br;Ln<da&&($n=Jt*(ho+hi*$t+pn*(Ei+Wi*$t))-yt,br=ho+3*hi*$t+pn*(7*Ei+9*Wi*$t),Jt-=Kn=$n/br,$t=Jt*Jt,pn=$t*$t*$t,!(E(Kn)<s));++Ln);return[Xo*Ie*(ho+3*hi*$t+pn*(7*Ei+9*Wi*$t))/q(Jt),he(P(Jt)/Xo)]};function po(){return ts(ha).scale(177.158)}function ls(Ie,yt){var Jt=q(yt),$t=q(Ie)*Jt;return[Jt*P(Ie)/$t,P(yt)/$t]}ls.invert=na(O);function ps(){return ts(ls).scale(144.049).clipAngle(60)}function Zi(){var Ie=1,yt=0,Jt=0,$t=1,pn=1,Ln=0,Kn,$n,br=null,Cr,Gn,ar,er=1,gr=1,Rr=ht({point:function(Ir,yi){var gi=qr([Ir,yi]);this.stream.point(gi[0],gi[1])}}),di=tr,ni,pi;function ii(){return er=Ie*$t,gr=Ie*pn,ni=pi=null,qr}function qr(Ir){var yi=Ir[0]*er,gi=Ir[1]*gr;if(Ln){var os=gi*Kn-yi*$n;yi=yi*Kn+gi*$n,gi=os}return[yi+yt,gi+Jt]}return qr.invert=function(Ir){var yi=Ir[0]-yt,gi=Ir[1]-Jt;if(Ln){var os=gi*Kn+yi*$n;yi=yi*Kn-gi*$n,gi=os}return[yi/er,gi/gr]},qr.stream=function(Ir){return ni&&pi===Ir?ni:ni=Rr(di(pi=Ir))},qr.postclip=function(Ir){return arguments.length?(di=Ir,br=Cr=Gn=ar=null,ii()):di},qr.clipExtent=function(Ir){return arguments.length?(di=Ir==null?(br=Cr=Gn=ar=null,tr):Mn(br=+Ir[0][0],Cr=+Ir[0][1],Gn=+Ir[1][0],ar=+Ir[1][1]),ii()):br==null?null:[[br,Cr],[Gn,ar]]},qr.scale=function(Ir){return arguments.length?(Ie=+Ir,ii()):Ie},qr.translate=function(Ir){return arguments.length?(yt=+Ir[0],Jt=+Ir[1],ii()):[yt,Jt]},qr.angle=function(Ir){return arguments.length?(Ln=Ir%360*_,$n=P(Ln),Kn=q(Ln),ii()):Ln*p},qr.reflectX=function(Ir){return arguments.length?($t=Ir?-1:1,ii()):$t<0},qr.reflectY=function(Ir){return arguments.length?(pn=Ir?-1:1,ii()):pn<0},qr.fitExtent=function(Ir,yi){return Xt(qr,Ir,yi)},qr.fitSize=function(Ir,yi){return xn(qr,Ir,yi)},qr.fitWidth=function(Ir,yi){return qn(qr,Ir,yi)},qr.fitHeight=function(Ir,yi){return Un(qr,Ir,yi)},qr}function hu(Ie,yt){var Jt=yt*yt,$t=Jt*Jt;return[Ie*(.8707-.131979*Jt+$t*(-.013791+$t*(.003971*Jt-.001529*$t))),yt*(1.007226+Jt*(.015085+$t*(-.044475+.028874*Jt-.005916*$t)))]}hu.invert=function(Ie,yt){var Jt=yt,$t=25,pn;do{var Ln=Jt*Jt,Kn=Ln*Ln;Jt-=pn=(Jt*(1.007226+Ln*(.015085+Kn*(-.044475+.028874*Ln-.005916*Kn)))-yt)/(1.007226+Ln*(.015085*3+Kn*(-.044475*7+.028874*9*Ln-.005916*11*Kn)))}while(E(pn)>i&&--$t>0);return[Ie/(.8707+(Ln=Jt*Jt)*(-.131979+Ln*(-.013791+Ln*Ln*Ln*(.003971-.001529*Ln)))),Jt]};function Ps(){return ts(hu).scale(175.295)}function ga(Ie,yt){return[q(yt)*P(Ie),P(yt)]}ga.invert=na(he);function aa(){return ts(ga).scale(249.5).clipAngle(90+i)}function Ri(Ie,yt){var Jt=q(yt),$t=1+q(Ie)*Jt;return[Jt*P(Ie)/$t,P(yt)/$t]}Ri.invert=na(function(Ie){return 2*O(Ie)});function Wo(){return ts(Ri).scale(250).clipAngle(142)}function vs(Ie,yt){return[L(I((a+yt)/2)),-Ie]}vs.invert=function(Ie,yt){return[-yt,2*O(z(Ie))-a]};function Ii(){var Ie=ri(vs),yt=Ie.center,Jt=Ie.rotate;return Ie.center=function($t){return arguments.length?yt([-$t[1],$t[0]]):($t=yt(),[$t[1],-$t[0]])},Ie.rotate=function($t){return arguments.length?Jt([$t[0],$t[1],$t.length>2?$t[2]+90:90]):($t=Jt(),[$t[0],$t[1],$t[2]-90])},Jt([0,0,90]).scale(159.155)}var Oo=Math.abs,ka=Math.cos,Xa=Math.sin,Ro=1e-6,To=Math.PI,$a=To/2,pu=ua(2);function za(Ie){return Ie>1?$a:Ie<-1?-$a:Math.asin(Ie)}function ua(Ie){return Ie>0?Math.sqrt(Ie):0}function la(Ie,yt){var Jt=Ie*Xa(yt),$t=30,pn;do yt-=pn=(yt+Xa(yt)-Jt)/(1+ka(yt));while(Oo(pn)>Ro&&--$t>0);return yt/2}function vl(Ie,yt,Jt){function $t(pn,Ln){return[Ie*pn*ka(Ln=la(Jt,Ln)),yt*Xa(Ln)]}return $t.invert=function(pn,Ln){return Ln=za(Ln/yt),[pn/(Ie*ka(Ln)),za((2*Ln+Xa(2*Ln))/Jt)]},$t}var Hl=vl(pu/$a,pu,To);function ra(){return ts(Hl).scale(169.529)}let el=Se(),ui=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function rs(Ie,yt){return function Jt(){let $t=yt();return $t.type=Ie,$t.path=Se().projection($t),$t.copy=$t.copy||function(){let pn=Jt();return ui.forEach(Ln=>{$t[Ln]&&pn[Ln]($t[Ln]())}),pn.path.pointRadius($t.path.pointRadius()),pn},$t}}function cs(Ie,yt){if(!Ie||typeof Ie!="string")throw new Error("Projection type must be a name string.");return Ie=Ie.toLowerCase(),arguments.length>1?(is[Ie]=rs(Ie,yt),this):is[Ie]||null}function mr(Ie){return Ie&&Ie.path||el}let is={albers:du,albersusa:Du,azimuthalequalarea:nf,azimuthalequidistant:Kt,conicconformal:As,conicequalarea:fu,conicequidistant:so,equalEarth:po,equirectangular:io,gnomonic:ps,identity:Zi,mercator:Yn,mollweide:ra,naturalEarth1:Ps,orthographic:aa,stereographic:Wo,transversemercator:Ii};for(let Ie in is)cs(Ie,is[Ie]);n.getProjectionPath=mr,n.projection=cs,n.projectionProperties=ui,Object.defineProperty(n,"__esModule",{value:!0})})});var jDe=Ae((hV,BDe)=>{m();(function(n,e){typeof hV=="object"&&typeof BDe!="undefined"?e(hV,s0(),Tu(),dE(),Ale(),mN()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util","vega-statistics","vega-projection","vega-canvas"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega,n.vega))})(hV,function(n,e,t,r,i,s){"use strict";var o=Math.sqrt(50),a=Math.sqrt(10),l=Math.sqrt(2);function f(ne,Ce,We){var st=Math.abs(Ce-ne)/Math.max(0,We),Ut=Math.pow(10,Math.floor(Math.log(st)/Math.LN10)),sn=st/Ut;return sn>=o?Ut*=10:sn>=a?Ut*=5:sn>=l&&(Ut*=2),Ce<ne?-Ut:Ut}function p(ne,Ce){let We;if(Ce===void 0)for(let st of ne)st!=null&&(We<st||We===void 0&&st>=st)&&(We=st);else{let st=-1;for(let Ut of ne)(Ut=Ce(Ut,++st,ne))!=null&&(We<Ut||We===void 0&&Ut>=Ut)&&(We=Ut)}return We}function _(ne,Ce,We){ne=+ne,Ce=+Ce,We=(Ut=arguments.length)<2?(Ce=ne,ne=0,1):Ut<3?1:+We;for(var st=-1,Ut=Math.max(0,Math.ceil((Ce-ne)/We))|0,sn=new Array(Ut);++st<Ut;)sn[st]=ne+st*We;return sn}function E(ne,Ce){let We=0;if(Ce===void 0)for(let st of ne)(st=+st)&&(We+=st);else{let st=-1;for(let Ut of ne)(Ut=+Ce(Ut,++st,ne))&&(We+=Ut)}return We}function O(){}let R=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function q(){var ne=1,Ce=1,We=En;function st(vn,zn){return zn.map(Re=>Ut(vn,Re))}function Ut(vn,zn){var Re=[],$e=[];return sn(vn,zn,Ft=>{We(Ft,vn,zn),z(Ft)>0?Re.push([Ft]):$e.push(Ft)}),$e.forEach(Ft=>{for(var N=0,V=Re.length,Ee;N<V;++N)if(L((Ee=Re[N])[0],Ft)!==-1){Ee.push(Ft);return}}),{type:"MultiPolygon",value:zn,coordinates:Re}}function sn(vn,zn,Re){var $e=new Array,Ft=new Array,N,V,Ee,xe,K,ae;for(N=V=-1,xe=vn[0]>=zn,R[xe<<1].forEach(fe);++N<ne-1;)Ee=xe,xe=vn[N+1]>=zn,R[Ee|xe<<1].forEach(fe);for(R[xe<<0].forEach(fe);++V<Ce-1;){for(N=-1,xe=vn[V*ne+ne]>=zn,K=vn[V*ne]>=zn,R[xe<<1|K<<2].forEach(fe);++N<ne-1;)Ee=xe,xe=vn[V*ne+ne+N+1]>=zn,ae=K,K=vn[V*ne+N+1]>=zn,R[Ee|xe<<1|K<<2|ae<<3].forEach(fe);R[xe|K<<3].forEach(fe)}for(N=-1,K=vn[V*ne]>=zn,R[K<<2].forEach(fe);++N<ne-1;)ae=K,K=vn[V*ne+N+1]>=zn,R[K<<2|ae<<3].forEach(fe);R[K<<3].forEach(fe);function fe(Qe){var It=[Qe[0][0]+N,Qe[0][1]+V],At=[Qe[1][0]+N,Qe[1][1]+V],dn=Cn(It),w=Cn(At),j,ee;(j=Ft[dn])?(ee=$e[w])?(delete Ft[j.end],delete $e[ee.start],j===ee?(j.ring.push(At),Re(j.ring)):$e[j.start]=Ft[ee.end]={start:j.start,end:ee.end,ring:j.ring.concat(ee.ring)}):(delete Ft[j.end],j.ring.push(At),Ft[j.end=w]=j):(j=$e[w])?(ee=Ft[dn])?(delete $e[j.start],delete Ft[ee.end],j===ee?(j.ring.push(At),Re(j.ring)):$e[ee.start]=Ft[j.end]={start:ee.start,end:j.end,ring:ee.ring.concat(j.ring)}):(delete $e[j.start],j.ring.unshift(It),$e[j.start=dn]=j):$e[dn]=Ft[w]={start:dn,end:w,ring:[It,At]}}}function Cn(vn){return vn[0]*2+vn[1]*(ne+1)*4}function En(vn,zn,Re){vn.forEach($e=>{var Ft=$e[0],N=$e[1],V=Ft|0,Ee=N|0,xe,K=zn[Ee*ne+V];Ft>0&&Ft<ne&&V===Ft&&(xe=zn[Ee*ne+V-1],$e[0]=Ft+(Re-xe)/(K-xe)-.5),N>0&&N<Ce&&Ee===N&&(xe=zn[(Ee-1)*ne+V],$e[1]=N+(Re-xe)/(K-xe)-.5)})}return st.contour=Ut,st.size=function(vn){if(!arguments.length)return[ne,Ce];var zn=Math.floor(vn[0]),Re=Math.floor(vn[1]);return zn>=0&&Re>=0||t.error("invalid size"),ne=zn,Ce=Re,st},st.smooth=function(vn){return arguments.length?(We=vn?En:O,st):We===En},st}function z(ne){for(var Ce=0,We=ne.length,st=ne[We-1][1]*ne[0][0]-ne[We-1][0]*ne[0][1];++Ce<We;)st+=ne[Ce-1][1]*ne[Ce][0]-ne[Ce-1][0]*ne[Ce][1];return st}function L(ne,Ce){for(var We=-1,st=Ce.length,Ut;++We<st;)if(Ut=B(ne,Ce[We]))return Ut;return 0}function B(ne,Ce){for(var We=Ce[0],st=Ce[1],Ut=-1,sn=0,Cn=ne.length,En=Cn-1;sn<Cn;En=sn++){var vn=ne[sn],zn=vn[0],Re=vn[1],$e=ne[En],Ft=$e[0],N=$e[1];if(P(vn,$e,Ce))return 0;Re>st!=N>st&&We<(Ft-zn)*(st-Re)/(N-Re)+zn&&(Ut=-Ut)}return Ut}function P(ne,Ce,We){var st;return G(ne,Ce,We)&&ue(ne[st=+(ne[0]===Ce[0])],We[st],Ce[st])}function G(ne,Ce,We){return(Ce[0]-ne[0])*(We[1]-ne[1])===(We[0]-ne[0])*(Ce[1]-ne[1])}function ue(ne,Ce,We){return ne<=Ce&&Ce<=We||We<=Ce&&Ce<=ne}function I(ne,Ce,We){return function(st){var Ut=t.extent(st),sn=We?Math.min(Ut[0],0):Ut[0],Cn=Ut[1],En=Cn-sn,vn=Ce?f(sn,Cn,ne):En/(ne+1);return _(sn+vn,Cn,vn)}}function J(ne){e.Transform.call(this,null,ne)}J.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},t.inherits(J,e.Transform,{transform(ne,Ce){if(this.value&&!Ce.changed()&&!ne.modified())return Ce.StopPropagation;var We=Ce.fork(Ce.NO_SOURCE|Ce.NO_FIELDS),st=Ce.materialize(Ce.SOURCE).source,Ut=ne.field||t.identity,sn=q().smooth(ne.smooth!==!1),Cn=ne.thresholds||he(st,Ut,ne),En=ne.as===null?null:ne.as||"contour",vn=[];return st.forEach(zn=>{let Re=Ut(zn),$e=sn.size([Re.width,Re.height])(Re.values,t.isArray(Cn)?Cn:Cn(Re.values));ye($e,Re,zn,ne),$e.forEach(Ft=>{vn.push(e.rederive(zn,e.ingest(En!=null?{[En]:Ft}:Ft)))})}),this.value&&(We.rem=this.value),this.value=We.source=We.add=vn,We}});function he(ne,Ce,We){let st=I(We.levels||10,We.nice,We.zero!==!1);return We.resolve!=="shared"?st:st(ne.map(Ut=>p(Ce(Ut).values)))}function ye(ne,Ce,We,st){let Ut=st.scale||Ce.scale,sn=st.translate||Ce.translate;if(t.isFunction(Ut)&&(Ut=Ut(We,st)),t.isFunction(sn)&&(sn=sn(We,st)),(Ut===1||Ut==null)&&!sn)return;let Cn=(t.isNumber(Ut)?Ut:Ut[0])||1,En=(t.isNumber(Ut)?Ut:Ut[1])||1,vn=sn&&sn[0]||0,zn=sn&&sn[1]||0;ne.forEach(He(Ce,Cn,En,vn,zn))}function He(ne,Ce,We,st,Ut){let sn=ne.x1||0,Cn=ne.y1||0,En=Ce*We<0;function vn($e){$e.forEach(zn)}function zn($e){En&&$e.reverse(),$e.forEach(Re)}function Re($e){$e[0]=($e[0]-sn)*Ce+st,$e[1]=($e[1]-Cn)*We+Ut}return function($e){return $e.coordinates.forEach(vn),$e}}function at(ne,Ce,We){let st=ne>=0?ne:r.bandwidthNRD(Ce,We);return Math.round((Math.sqrt(4*st*st+1)-1)/2)}function ct(ne){return t.isFunction(ne)?ne:t.constant(+ne)}function Ze(){var ne=vn=>vn[0],Ce=vn=>vn[1],We=t.one,st=[-1,-1],Ut=960,sn=500,Cn=2;function En(vn,zn){let Re=at(st[0],vn,ne)>>Cn,$e=at(st[1],vn,Ce)>>Cn,Ft=Re?Re+2:0,N=$e?$e+2:0,V=2*Ft+(Ut>>Cn),Ee=2*N+(sn>>Cn),xe=new Float32Array(V*Ee),K=new Float32Array(V*Ee),ae=xe;vn.forEach(Qe=>{let It=Ft+(+ne(Qe)>>Cn),At=N+(+Ce(Qe)>>Cn);It>=0&&It<V&&At>=0&&At<Ee&&(xe[It+At*V]+=+We(Qe))}),Re>0&&$e>0?(Et(V,Ee,xe,K,Re),Mt(V,Ee,K,xe,$e),Et(V,Ee,xe,K,Re),Mt(V,Ee,K,xe,$e),Et(V,Ee,xe,K,Re),Mt(V,Ee,K,xe,$e)):Re>0?(Et(V,Ee,xe,K,Re),Et(V,Ee,K,xe,Re),Et(V,Ee,xe,K,Re),ae=K):$e>0&&(Mt(V,Ee,xe,K,$e),Mt(V,Ee,K,xe,$e),Mt(V,Ee,xe,K,$e),ae=K);let fe=zn?Math.pow(2,-2*Cn):1/E(ae);for(let Qe=0,It=V*Ee;Qe<It;++Qe)ae[Qe]*=fe;return{values:ae,scale:1<<Cn,width:V,height:Ee,x1:Ft,y1:N,x2:Ft+(Ut>>Cn),y2:N+(sn>>Cn)}}return En.x=function(vn){return arguments.length?(ne=ct(vn),En):ne},En.y=function(vn){return arguments.length?(Ce=ct(vn),En):Ce},En.weight=function(vn){return arguments.length?(We=ct(vn),En):We},En.size=function(vn){if(!arguments.length)return[Ut,sn];var zn=+vn[0],Re=+vn[1];return zn>=0&&Re>=0||t.error("invalid size"),Ut=zn,sn=Re,En},En.cellSize=function(vn){return arguments.length?((vn=+vn)>=1||t.error("invalid cell size"),Cn=Math.floor(Math.log(vn)/Math.LN2),En):1<<Cn},En.bandwidth=function(vn){return arguments.length?(vn=t.array(vn),vn.length===1&&(vn=[+vn[0],+vn[0]]),vn.length!==2&&t.error("invalid bandwidth"),st=vn,En):st},En}function Et(ne,Ce,We,st,Ut){let sn=(Ut<<1)+1;for(let Cn=0;Cn<Ce;++Cn)for(let En=0,vn=0;En<ne+Ut;++En)En<ne&&(vn+=We[En+Cn*ne]),En>=Ut&&(En>=sn&&(vn-=We[En-sn+Cn*ne]),st[En-Ut+Cn*ne]=vn/Math.min(En+1,ne-1+sn-En,sn))}function Mt(ne,Ce,We,st,Ut){let sn=(Ut<<1)+1;for(let Cn=0;Cn<ne;++Cn)for(let En=0,vn=0;En<Ce+Ut;++En)En<Ce&&(vn+=We[Cn+En*ne]),En>=Ut&&(En>=sn&&(vn-=We[Cn+(En-sn)*ne]),st[Cn+(En-Ut)*ne]=vn/Math.min(En+1,Ce-1+sn-En,sn))}function qe(ne){e.Transform.call(this,null,ne)}qe.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};let te=["x","y","weight","size","cellSize","bandwidth"];function et(ne,Ce){return te.forEach(We=>Ce[We]!=null?ne[We](Ce[We]):0),ne}t.inherits(qe,e.Transform,{transform(ne,Ce){if(this.value&&!Ce.changed()&&!ne.modified())return Ce.StopPropagation;var We=Ce.fork(Ce.NO_SOURCE|Ce.NO_FIELDS),st=Ce.materialize(Ce.SOURCE).source,Ut=be(st,ne.groupby),sn=(ne.groupby||[]).map(t.accessorName),Cn=et(Ze(),ne),En=ne.as||"grid",vn=[];function zn(Re,$e){for(let Ft=0;Ft<sn.length;++Ft)Re[sn[Ft]]=$e[Ft];return Re}return vn=Ut.map(Re=>e.ingest(zn({[En]:Cn(Re,ne.counts)},Re.dims))),this.value&&(We.rem=this.value),this.value=We.source=We.add=vn,We}});function be(ne,Ce){var We=[],st=Re=>Re(En),Ut,sn,Cn,En,vn,zn;if(Ce==null)We.push(ne);else for(Ut={},sn=0,Cn=ne.length;sn<Cn;++sn)En=ne[sn],vn=Ce.map(st),zn=Ut[vn],zn||(Ut[vn]=zn=[],zn.dims=vn,We.push(zn)),zn.push(En);return We}function ke(ne){e.Transform.call(this,null,ne)}ke.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},t.inherits(ke,e.Transform,{transform(ne,Ce){if(this.value&&!Ce.changed()&&!ne.modified())return Ce.StopPropagation;var We=Ce.fork(Ce.NO_SOURCE|Ce.NO_FIELDS),st=q().smooth(ne.smooth!==!1),Ut=ne.values,sn=ne.thresholds||I(ne.count||10,ne.nice,!!Ut),Cn=ne.size,En,vn;return Ut||(Ut=Ce.materialize(Ce.SOURCE).source,En=et(Ze(),ne)(Ut,!0),vn=He(En,En.scale||1,En.scale||1,0,0),Cn=[En.width,En.height],Ut=En.values),sn=t.isArray(sn)?sn:sn(Ut),Ut=st.size(Cn)(Ut,sn),vn&&Ut.forEach(vn),this.value&&(We.rem=this.value),this.value=We.source=We.add=(Ut||[]).map(e.ingest),We}});let we="Feature",pe="FeatureCollection",Je="MultiPoint";function lt(ne){e.Transform.call(this,null,ne)}lt.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},t.inherits(lt,e.Transform,{transform(ne,Ce){var We=this._features,st=this._points,Ut=ne.fields,sn=Ut&&Ut[0],Cn=Ut&&Ut[1],En=ne.geojson||!Ut&&t.identity,vn=Ce.ADD,zn;zn=ne.modified()||Ce.changed(Ce.REM)||Ce.modified(t.accessorFields(En))||sn&&Ce.modified(t.accessorFields(sn))||Cn&&Ce.modified(t.accessorFields(Cn)),(!this.value||zn)&&(vn=Ce.SOURCE,this._features=We=[],this._points=st=[]),En&&Ce.visit(vn,Re=>We.push(En(Re))),sn&&Cn&&(Ce.visit(vn,Re=>{var $e=sn(Re),Ft=Cn(Re);$e!=null&&Ft!=null&&($e=+$e)===$e&&(Ft=+Ft)===Ft&&st.push([$e,Ft])}),We=We.concat({type:we,geometry:{type:Je,coordinates:st}})),this.value={type:pe,features:We}}});function Ht(ne){e.Transform.call(this,null,ne)}Ht.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},t.inherits(Ht,e.Transform,{transform(ne,Ce){var We=Ce.fork(Ce.ALL),st=this.value,Ut=ne.field||t.identity,sn=ne.as||"path",Cn=We.SOURCE;!st||ne.modified()?(this.value=st=i.getProjectionPath(ne.projection),We.materialize().reflow()):Cn=Ut===t.identity||Ce.modified(Ut.fields)?We.ADD_MOD:We.ADD;let En=Ct(st,ne.pointRadius);return We.visit(Cn,vn=>vn[sn]=st(Ut(vn))),st.pointRadius(En),We.modifies(sn)}});function Ct(ne,Ce){let We=ne.pointRadius();return ne.context(null),Ce!=null&&ne.pointRadius(Ce),We}function mn(ne){e.Transform.call(this,null,ne)}mn.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},t.inherits(mn,e.Transform,{transform(ne,Ce){var We=ne.projection,st=ne.fields[0],Ut=ne.fields[1],sn=ne.as||["x","y"],Cn=sn[0],En=sn[1],vn;function zn(Re){let $e=We([st(Re),Ut(Re)]);$e?(Re[Cn]=$e[0],Re[En]=$e[1]):(Re[Cn]=void 0,Re[En]=void 0)}return ne.modified()?Ce=Ce.materialize().reflow(!0).visit(Ce.SOURCE,zn):(vn=Ce.modified(st.fields)||Ce.modified(Ut.fields),Ce.visit(vn?Ce.ADD_MOD:Ce.ADD,zn)),Ce.modifies(sn)}});function kt(ne){e.Transform.call(this,null,ne)}kt.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},t.inherits(kt,e.Transform,{transform(ne,Ce){var We=Ce.fork(Ce.ALL),st=this.value,Ut=ne.as||"shape",sn=We.ADD;return(!st||ne.modified())&&(this.value=st=Bt(i.getProjectionPath(ne.projection),ne.field||t.field("datum"),ne.pointRadius),We.materialize().reflow(),sn=We.SOURCE),We.visit(sn,Cn=>Cn[Ut]=st),We.modifies(Ut)}});function Bt(ne,Ce,We){let st=We==null?Ut=>ne(Ce(Ut)):Ut=>{var sn=ne.pointRadius(),Cn=ne.pointRadius(We)(Ce(Ut));return ne.pointRadius(sn),Cn};return st.context=Ut=>(ne.context(Ut),st),st}var tn=1e-6,bt=Math.abs,ve=Math.ceil;function Le(ne,Ce,We){var st=_(ne,Ce-tn,We).concat(Ce);return function(Ut){return st.map(function(sn){return[Ut,sn]})}}function _e(ne,Ce,We){var st=_(ne,Ce-tn,We).concat(Ce);return function(Ut){return st.map(function(sn){return[sn,Ut]})}}function ce(){var ne,Ce,We,st,Ut,sn,Cn,En,vn=10,zn=vn,Re=90,$e=360,Ft,N,V,Ee,xe=2.5;function K(){return{type:"MultiLineString",coordinates:ae()}}function ae(){return _(ve(st/Re)*Re,We,Re).map(V).concat(_(ve(En/$e)*$e,Cn,$e).map(Ee)).concat(_(ve(Ce/vn)*vn,ne,vn).filter(function(fe){return bt(fe%Re)>tn}).map(Ft)).concat(_(ve(sn/zn)*zn,Ut,zn).filter(function(fe){return bt(fe%$e)>tn}).map(N))}return K.lines=function(){return ae().map(function(fe){return{type:"LineString",coordinates:fe}})},K.outline=function(){return{type:"Polygon",coordinates:[V(st).concat(Ee(Cn).slice(1),V(We).reverse().slice(1),Ee(En).reverse().slice(1))]}},K.extent=function(fe){return arguments.length?K.extentMajor(fe).extentMinor(fe):K.extentMinor()},K.extentMajor=function(fe){return arguments.length?(st=+fe[0][0],We=+fe[1][0],En=+fe[0][1],Cn=+fe[1][1],st>We&&(fe=st,st=We,We=fe),En>Cn&&(fe=En,En=Cn,Cn=fe),K.precision(xe)):[[st,En],[We,Cn]]},K.extentMinor=function(fe){return arguments.length?(Ce=+fe[0][0],ne=+fe[1][0],sn=+fe[0][1],Ut=+fe[1][1],Ce>ne&&(fe=Ce,Ce=ne,ne=fe),sn>Ut&&(fe=sn,sn=Ut,Ut=fe),K.precision(xe)):[[Ce,sn],[ne,Ut]]},K.step=function(fe){return arguments.length?K.stepMajor(fe).stepMinor(fe):K.stepMinor()},K.stepMajor=function(fe){return arguments.length?(Re=+fe[0],$e=+fe[1],K):[Re,$e]},K.stepMinor=function(fe){return arguments.length?(vn=+fe[0],zn=+fe[1],K):[vn,zn]},K.precision=function(fe){return arguments.length?(xe=+fe,Ft=Le(sn,Ut,90),N=_e(Ce,ne,xe),V=Le(En,Cn,90),Ee=_e(st,We,xe),K):xe},K.extentMajor([[-180,-90+tn],[180,90-tn]]).extentMinor([[-180,-80-tn],[180,80+tn]])}function tt(ne){e.Transform.call(this,[],ne),this.generator=ce()}tt.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},t.inherits(tt,e.Transform,{transform(ne,Ce){var We=this.value,st=this.generator,Ut;if(!We.length||ne.modified())for(let sn in ne)t.isFunction(st[sn])&&st[sn](ne[sn]);return Ut=st(),We.length?Ce.mod.push(e.replace(We[0],Ut)):Ce.add.push(e.ingest(Ut)),We[0]=Ut,Ce}});function Ke(ne,Ce,We){ne.prototype=Ce.prototype=We,We.constructor=ne}function re(ne,Ce){var We=Object.create(ne.prototype);for(var st in Ce)We[st]=Ce[st];return We}function Oe(){}var nt=.7,ft=1/nt,Ot="\\s*([+-]?\\d+)\\s*",Yt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fn=/^#([0-9a-f]{3,8})$/,gn=new RegExp("^rgb\\("+[Ot,Ot,Ot]+"\\)$"),yn=new RegExp("^rgb\\("+[Gt,Gt,Gt]+"\\)$"),Lt=new RegExp("^rgba\\("+[Ot,Ot,Ot,Yt]+"\\)$"),un=new RegExp("^rgba\\("+[Gt,Gt,Gt,Yt]+"\\)$"),Mn=new RegExp("^hsl\\("+[Yt,Gt,Gt]+"\\)$"),tr=new RegExp("^hsla\\("+[Yt,Gt,Gt,Yt]+"\\)$"),Rn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ke(Oe,Pt,{copy:function(ne){return Object.assign(new this.constructor,this,ne)},displayable:function(){return this.rgb().displayable()},hex:Ne,formatHex:Ne,formatHsl:ze,formatRgb:De,toString:De});function Ne(){return this.rgb().formatHex()}function ze(){return Ye(this).formatHsl()}function De(){return this.rgb().formatRgb()}function Pt(ne){var Ce,We;return ne=(ne+"").trim().toLowerCase(),(Ce=fn.exec(ne))?(We=Ce[1].length,Ce=parseInt(Ce[1],16),We===6?mt(Ce):We===3?new Fn(Ce>>8&15|Ce>>4&240,Ce>>4&15|Ce&240,(Ce&15)<<4|Ce&15,1):We===8?xt(Ce>>24&255,Ce>>16&255,Ce>>8&255,(Ce&255)/255):We===4?xt(Ce>>12&15|Ce>>8&240,Ce>>8&15|Ce>>4&240,Ce>>4&15|Ce&240,((Ce&15)<<4|Ce&15)/255):null):(Ce=gn.exec(ne))?new Fn(Ce[1],Ce[2],Ce[3],1):(Ce=yn.exec(ne))?new Fn(Ce[1]*255/100,Ce[2]*255/100,Ce[3]*255/100,1):(Ce=Lt.exec(ne))?xt(Ce[1],Ce[2],Ce[3],Ce[4]):(Ce=un.exec(ne))?xt(Ce[1]*255/100,Ce[2]*255/100,Ce[3]*255/100,Ce[4]):(Ce=Mn.exec(ne))?nr(Ce[1],Ce[2]/100,Ce[3]/100,1):(Ce=tr.exec(ne))?nr(Ce[1],Ce[2]/100,Ce[3]/100,Ce[4]):Rn.hasOwnProperty(ne)?mt(Rn[ne]):ne==="transparent"?new Fn(NaN,NaN,NaN,0):null}function mt(ne){return new Fn(ne>>16&255,ne>>8&255,ne&255,1)}function xt(ne,Ce,We,st){return st<=0&&(ne=Ce=We=NaN),new Fn(ne,Ce,We,st)}function rn(ne){return ne instanceof Oe||(ne=Pt(ne)),ne?(ne=ne.rgb(),new Fn(ne.r,ne.g,ne.b,ne.opacity)):new Fn}function Qt(ne,Ce,We,st){return arguments.length===1?rn(ne):new Fn(ne,Ce,We,st??1)}function Fn(ne,Ce,We,st){this.r=+ne,this.g=+Ce,this.b=+We,this.opacity=+st}Ke(Fn,Qt,re(Oe,{brighter:function(ne){return ne=ne==null?ft:Math.pow(ft,ne),new Fn(this.r*ne,this.g*ne,this.b*ne,this.opacity)},darker:function(ne){return ne=ne==null?nt:Math.pow(nt,ne),new Fn(this.r*ne,this.g*ne,this.b*ne,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wn,formatHex:Wn,formatRgb:Zn,toString:Zn}));function Wn(){return"#"+Nn(this.r)+Nn(this.g)+Nn(this.b)}function Zn(){var ne=this.opacity;return ne=isNaN(ne)?1:Math.max(0,Math.min(1,ne)),(ne===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(ne===1?")":", "+ne+")")}function Nn(ne){return ne=Math.max(0,Math.min(255,Math.round(ne)||0)),(ne<16?"0":"")+ne.toString(16)}function nr(ne,Ce,We,st){return st<=0?ne=Ce=We=NaN:We<=0||We>=1?ne=Ce=NaN:Ce<=0&&(ne=NaN),new oe(ne,Ce,We,st)}function Ye(ne){if(ne instanceof oe)return new oe(ne.h,ne.s,ne.l,ne.opacity);if(ne instanceof Oe||(ne=Pt(ne)),!ne)return new oe;if(ne instanceof oe)return ne;ne=ne.rgb();var Ce=ne.r/255,We=ne.g/255,st=ne.b/255,Ut=Math.min(Ce,We,st),sn=Math.max(Ce,We,st),Cn=NaN,En=sn-Ut,vn=(sn+Ut)/2;return En?(Ce===sn?Cn=(We-st)/En+(We<st)*6:We===sn?Cn=(st-Ce)/En+2:Cn=(Ce-We)/En+4,En/=vn<.5?sn+Ut:2-sn-Ut,Cn*=60):En=vn>0&&vn<1?0:Cn,new oe(Cn,En,vn,ne.opacity)}function vt(ne,Ce,We,st){return arguments.length===1?Ye(ne):new oe(ne,Ce,We,st??1)}function oe(ne,Ce,We,st){this.h=+ne,this.s=+Ce,this.l=+We,this.opacity=+st}Ke(oe,vt,re(Oe,{brighter:function(ne){return ne=ne==null?ft:Math.pow(ft,ne),new oe(this.h,this.s,this.l*ne,this.opacity)},darker:function(ne){return ne=ne==null?nt:Math.pow(nt,ne),new oe(this.h,this.s,this.l*ne,this.opacity)},rgb:function(){var ne=this.h%360+(this.h<0)*360,Ce=isNaN(ne)||isNaN(this.s)?0:this.s,We=this.l,st=We+(We<.5?We:1-We)*Ce,Ut=2*We-st;return new Fn(Be(ne>=240?ne-240:ne+120,Ut,st),Be(ne,Ut,st),Be(ne<120?ne+240:ne-120,Ut,st),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var ne=this.opacity;return ne=isNaN(ne)?1:Math.max(0,Math.min(1,ne)),(ne===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(ne===1?")":", "+ne+")")}}));function Be(ne,Ce,We){return(ne<60?Ce+(We-Ce)*ne/60:ne<180?We:ne<240?Ce+(We-Ce)*(240-ne)/60:Ce)*255}function rt(ne){e.Transform.call(this,null,ne)}rt.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},t.inherits(rt,e.Transform,{transform(ne,Ce){if(!Ce.changed()&&!ne.modified())return Ce.StopPropagation;var We=Ce.materialize(Ce.SOURCE).source,st=ne.resolve==="shared",Ut=ne.field||t.identity,sn=hn(ne.opacity,ne),Cn=Dt(ne.color,ne),En=ne.as||"image",vn={$x:0,$y:0,$value:0,$max:st?p(We.map(zn=>p(Ut(zn).values))):0};return We.forEach(zn=>{let Re=Ut(zn),$e=t.extend({},zn,vn);st||($e.$max=p(Re.values||[])),zn[En]=dt(Re,$e,Cn.dep?Cn:t.constant(Cn($e)),sn.dep?sn:t.constant(sn($e)))}),Ce.reflow(!0).modifies(En)}});function Dt(ne,Ce){let We;return t.isFunction(ne)?(We=st=>Qt(ne(st,Ce)),We.dep=an(ne)):We=t.constant(Qt(ne||"#888")),We}function hn(ne,Ce){let We;return t.isFunction(ne)?(We=st=>ne(st,Ce),We.dep=an(ne)):ne?We=t.constant(ne):(We=st=>st.$value/st.$max||0,We.dep=!0),We}function an(ne){if(!t.isFunction(ne))return!1;let Ce=t.toSet(t.accessorFields(ne));return Ce.$x||Ce.$y||Ce.$value||Ce.$max}function dt(ne,Ce,We,st){let Ut=ne.width,sn=ne.height,Cn=ne.x1||0,En=ne.y1||0,vn=ne.x2||Ut,zn=ne.y2||sn,Re=ne.values,$e=Re?xe=>Re[xe]:t.zero,Ft=s.canvas(vn-Cn,zn-En),N=Ft.getContext("2d"),V=N.getImageData(0,0,vn-Cn,zn-En),Ee=V.data;for(let xe=En,K=0;xe<zn;++xe){Ce.$y=xe-En;for(let ae=Cn,fe=xe*Ut;ae<vn;++ae,K+=4){Ce.$x=ae-Cn,Ce.$value=$e(ae+fe);let Qe=We(Ce);Ee[K+0]=Qe.r,Ee[K+1]=Qe.g,Ee[K+2]=Qe.b,Ee[K+3]=~~(255*st(Ce))}}return N.putImageData(V,0,0),Ft}function ie(ne){e.Transform.call(this,null,ne),this.modified(!0)}t.inherits(ie,e.Transform,{transform(ne,Ce){let We=this.value;return!We||ne.modified("type")?(this.value=We=Ue(ne.type),i.projectionProperties.forEach(st=>{ne[st]!=null&&gt(We,st,ne[st])})):i.projectionProperties.forEach(st=>{ne.modified(st)&&gt(We,st,ne[st])}),ne.pointRadius!=null&&We.path.pointRadius(ne.pointRadius),ne.fit&&Te(We,ne),Ce.fork(Ce.NO_SOURCE|Ce.NO_FIELDS)}});function Te(ne,Ce){let We=St(Ce.fit);Ce.extent?ne.fitExtent(Ce.extent,We):Ce.size&&ne.fitSize(Ce.size,We)}function Ue(ne){let Ce=i.projection((ne||"mercator").toLowerCase());return Ce||t.error("Unrecognized projection type: "+ne),Ce()}function gt(ne,Ce,We){t.isFunction(ne[Ce])&&ne[Ce](We)}function St(ne){return ne=t.array(ne),ne.length===1?ne[0]:{type:pe,features:ne.reduce((Ce,We)=>Ce.concat(Rt(We)),[])}}function Rt(ne){return ne.type===pe?ne.features:t.array(ne).filter(Ce=>Ce!=null).map(Ce=>Ce.type===we?Ce:{type:we,geometry:Ce})}n.contour=ke,n.geojson=lt,n.geopath=Ht,n.geopoint=mn,n.geoshape=kt,n.graticule=tt,n.heatmap=rt,n.isocontour=J,n.kde2d=qe,n.projection=ie,Object.defineProperty(n,"__esModule",{value:!0})})});var UDe=Ae((pV,qDe)=>{m();(function(n,e){typeof pV=="object"&&typeof qDe!="undefined"?e(pV,s0(),Tu()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega))})(pV,function(n,e,t){"use strict";function r(oe,Be){var rt,Dt=1;oe==null&&(oe=0),Be==null&&(Be=0);function hn(){var an,dt=rt.length,ie,Te=0,Ue=0;for(an=0;an<dt;++an)ie=rt[an],Te+=ie.x,Ue+=ie.y;for(Te=(Te/dt-oe)*Dt,Ue=(Ue/dt-Be)*Dt,an=0;an<dt;++an)ie=rt[an],ie.x-=Te,ie.y-=Ue}return hn.initialize=function(an){rt=an},hn.x=function(an){return arguments.length?(oe=+an,hn):oe},hn.y=function(an){return arguments.length?(Be=+an,hn):Be},hn.strength=function(an){return arguments.length?(Dt=+an,hn):Dt},hn}function i(oe){let Be=+this._x.call(null,oe),rt=+this._y.call(null,oe);return s(this.cover(Be,rt),Be,rt,oe)}function s(oe,Be,rt,Dt){if(isNaN(Be)||isNaN(rt))return oe;var hn,an=oe._root,dt={data:Dt},ie=oe._x0,Te=oe._y0,Ue=oe._x1,gt=oe._y1,St,Rt,ne,Ce,We,st,Ut,sn;if(!an)return oe._root=dt,oe;for(;an.length;)if((We=Be>=(St=(ie+Ue)/2))?ie=St:Ue=St,(st=rt>=(Rt=(Te+gt)/2))?Te=Rt:gt=Rt,hn=an,!(an=an[Ut=st<<1|We]))return hn[Ut]=dt,oe;if(ne=+oe._x.call(null,an.data),Ce=+oe._y.call(null,an.data),Be===ne&&rt===Ce)return dt.next=an,hn?hn[Ut]=dt:oe._root=dt,oe;do hn=hn?hn[Ut]=new Array(4):oe._root=new Array(4),(We=Be>=(St=(ie+Ue)/2))?ie=St:Ue=St,(st=rt>=(Rt=(Te+gt)/2))?Te=Rt:gt=Rt;while((Ut=st<<1|We)===(sn=(Ce>=Rt)<<1|ne>=St));return hn[sn]=an,hn[Ut]=dt,oe}function o(oe){var Be,rt,Dt=oe.length,hn,an,dt=new Array(Dt),ie=new Array(Dt),Te=1/0,Ue=1/0,gt=-1/0,St=-1/0;for(rt=0;rt<Dt;++rt)isNaN(hn=+this._x.call(null,Be=oe[rt]))||isNaN(an=+this._y.call(null,Be))||(dt[rt]=hn,ie[rt]=an,hn<Te&&(Te=hn),hn>gt&&(gt=hn),an<Ue&&(Ue=an),an>St&&(St=an));if(Te>gt||Ue>St)return this;for(this.cover(Te,Ue).cover(gt,St),rt=0;rt<Dt;++rt)s(this,dt[rt],ie[rt],oe[rt]);return this}function a(oe,Be){if(isNaN(oe=+oe)||isNaN(Be=+Be))return this;var rt=this._x0,Dt=this._y0,hn=this._x1,an=this._y1;if(isNaN(rt))hn=(rt=Math.floor(oe))+1,an=(Dt=Math.floor(Be))+1;else{for(var dt=hn-rt||1,ie=this._root,Te,Ue;rt>oe||oe>=hn||Dt>Be||Be>=an;)switch(Ue=(Be<Dt)<<1|oe<rt,Te=new Array(4),Te[Ue]=ie,ie=Te,dt*=2,Ue){case 0:hn=rt+dt,an=Dt+dt;break;case 1:rt=hn-dt,an=Dt+dt;break;case 2:hn=rt+dt,Dt=an-dt;break;case 3:rt=hn-dt,Dt=an-dt;break}this._root&&this._root.length&&(this._root=ie)}return this._x0=rt,this._y0=Dt,this._x1=hn,this._y1=an,this}function l(){var oe=[];return this.visit(function(Be){if(!Be.length)do oe.push(Be.data);while(Be=Be.next)}),oe}function f(oe){return arguments.length?this.cover(+oe[0][0],+oe[0][1]).cover(+oe[1][0],+oe[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function p(oe,Be,rt,Dt,hn){this.node=oe,this.x0=Be,this.y0=rt,this.x1=Dt,this.y1=hn}function _(oe,Be,rt){var Dt,hn=this._x0,an=this._y0,dt,ie,Te,Ue,gt=this._x1,St=this._y1,Rt=[],ne=this._root,Ce,We;for(ne&&Rt.push(new p(ne,hn,an,gt,St)),rt==null?rt=1/0:(hn=oe-rt,an=Be-rt,gt=oe+rt,St=Be+rt,rt*=rt);Ce=Rt.pop();)if(!(!(ne=Ce.node)||(dt=Ce.x0)>gt||(ie=Ce.y0)>St||(Te=Ce.x1)<hn||(Ue=Ce.y1)<an))if(ne.length){var st=(dt+Te)/2,Ut=(ie+Ue)/2;Rt.push(new p(ne[3],st,Ut,Te,Ue),new p(ne[2],dt,Ut,st,Ue),new p(ne[1],st,ie,Te,Ut),new p(ne[0],dt,ie,st,Ut)),(We=(Be>=Ut)<<1|oe>=st)&&(Ce=Rt[Rt.length-1],Rt[Rt.length-1]=Rt[Rt.length-1-We],Rt[Rt.length-1-We]=Ce)}else{var sn=oe-+this._x.call(null,ne.data),Cn=Be-+this._y.call(null,ne.data),En=sn*sn+Cn*Cn;if(En<rt){var vn=Math.sqrt(rt=En);hn=oe-vn,an=Be-vn,gt=oe+vn,St=Be+vn,Dt=ne.data}}return Dt}function E(oe){if(isNaN(gt=+this._x.call(null,oe))||isNaN(St=+this._y.call(null,oe)))return this;var Be,rt=this._root,Dt,hn,an,dt=this._x0,ie=this._y0,Te=this._x1,Ue=this._y1,gt,St,Rt,ne,Ce,We,st,Ut;if(!rt)return this;if(rt.length)for(;;){if((Ce=gt>=(Rt=(dt+Te)/2))?dt=Rt:Te=Rt,(We=St>=(ne=(ie+Ue)/2))?ie=ne:Ue=ne,Be=rt,!(rt=rt[st=We<<1|Ce]))return this;if(!rt.length)break;(Be[st+1&3]||Be[st+2&3]||Be[st+3&3])&&(Dt=Be,Ut=st)}for(;rt.data!==oe;)if(hn=rt,!(rt=rt.next))return this;return(an=rt.next)&&delete rt.next,hn?(an?hn.next=an:delete hn.next,this):Be?(an?Be[st]=an:delete Be[st],(rt=Be[0]||Be[1]||Be[2]||Be[3])&&rt===(Be[3]||Be[2]||Be[1]||Be[0])&&!rt.length&&(Dt?Dt[Ut]=rt:this._root=rt),this):(this._root=an,this)}function O(oe){for(var Be=0,rt=oe.length;Be<rt;++Be)this.remove(oe[Be]);return this}function R(){return this._root}function q(){var oe=0;return this.visit(function(Be){if(!Be.length)do++oe;while(Be=Be.next)}),oe}function z(oe){var Be=[],rt,Dt=this._root,hn,an,dt,ie,Te;for(Dt&&Be.push(new p(Dt,this._x0,this._y0,this._x1,this._y1));rt=Be.pop();)if(!oe(Dt=rt.node,an=rt.x0,dt=rt.y0,ie=rt.x1,Te=rt.y1)&&Dt.length){var Ue=(an+ie)/2,gt=(dt+Te)/2;(hn=Dt[3])&&Be.push(new p(hn,Ue,gt,ie,Te)),(hn=Dt[2])&&Be.push(new p(hn,an,gt,Ue,Te)),(hn=Dt[1])&&Be.push(new p(hn,Ue,dt,ie,gt)),(hn=Dt[0])&&Be.push(new p(hn,an,dt,Ue,gt))}return this}function L(oe){var Be=[],rt=[],Dt;for(this._root&&Be.push(new p(this._root,this._x0,this._y0,this._x1,this._y1));Dt=Be.pop();){var hn=Dt.node;if(hn.length){var an,dt=Dt.x0,ie=Dt.y0,Te=Dt.x1,Ue=Dt.y1,gt=(dt+Te)/2,St=(ie+Ue)/2;(an=hn[0])&&Be.push(new p(an,dt,ie,gt,St)),(an=hn[1])&&Be.push(new p(an,gt,ie,Te,St)),(an=hn[2])&&Be.push(new p(an,dt,St,gt,Ue)),(an=hn[3])&&Be.push(new p(an,gt,St,Te,Ue))}rt.push(Dt)}for(;Dt=rt.pop();)oe(Dt.node,Dt.x0,Dt.y0,Dt.x1,Dt.y1);return this}function B(oe){return oe[0]}function P(oe){return arguments.length?(this._x=oe,this):this._x}function G(oe){return oe[1]}function ue(oe){return arguments.length?(this._y=oe,this):this._y}function I(oe,Be,rt){var Dt=new J(Be??B,rt??G,NaN,NaN,NaN,NaN);return oe==null?Dt:Dt.addAll(oe)}function J(oe,Be,rt,Dt,hn,an){this._x=oe,this._y=Be,this._x0=rt,this._y0=Dt,this._x1=hn,this._y1=an,this._root=void 0}function he(oe){for(var Be={data:oe.data},rt=Be;oe=oe.next;)rt=rt.next={data:oe.data};return Be}var ye=I.prototype=J.prototype;ye.copy=function(){var oe=new J(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Be=this._root,rt,Dt;if(!Be)return oe;if(!Be.length)return oe._root=he(Be),oe;for(rt=[{source:Be,target:oe._root=new Array(4)}];Be=rt.pop();)for(var hn=0;hn<4;++hn)(Dt=Be.source[hn])&&(Dt.length?rt.push({source:Dt,target:Be.target[hn]=new Array(4)}):Be.target[hn]=he(Dt));return oe},ye.add=i,ye.addAll=o,ye.cover=a,ye.data=l,ye.extent=f,ye.find=_,ye.remove=E,ye.removeAll=O,ye.root=R,ye.size=q,ye.visit=z,ye.visitAfter=L,ye.x=P,ye.y=ue;function He(oe){return function(){return oe}}function at(oe){return(oe()-.5)*1e-6}function ct(oe){return oe.x+oe.vx}function Ze(oe){return oe.y+oe.vy}function Et(oe){var Be,rt,Dt,hn=1,an=1;typeof oe!="function"&&(oe=He(oe==null?1:+oe));function dt(){for(var Ue,gt=Be.length,St,Rt,ne,Ce,We,st,Ut=0;Ut<an;++Ut)for(St=I(Be,ct,Ze).visitAfter(ie),Ue=0;Ue<gt;++Ue)Rt=Be[Ue],We=rt[Rt.index],st=We*We,ne=Rt.x+Rt.vx,Ce=Rt.y+Rt.vy,St.visit(sn);function sn(Cn,En,vn,zn,Re){var $e=Cn.data,Ft=Cn.r,N=We+Ft;if($e){if($e.index>Rt.index){var V=ne-$e.x-$e.vx,Ee=Ce-$e.y-$e.vy,xe=V*V+Ee*Ee;xe<N*N&&(V===0&&(V=at(Dt),xe+=V*V),Ee===0&&(Ee=at(Dt),xe+=Ee*Ee),xe=(N-(xe=Math.sqrt(xe)))/xe*hn,Rt.vx+=(V*=xe)*(N=(Ft*=Ft)/(st+Ft)),Rt.vy+=(Ee*=xe)*N,$e.vx-=V*(N=1-N),$e.vy-=Ee*N)}return}return En>ne+N||zn<ne-N||vn>Ce+N||Re<Ce-N}}function ie(Ue){if(Ue.data)return Ue.r=rt[Ue.data.index];for(var gt=Ue.r=0;gt<4;++gt)Ue[gt]&&Ue[gt].r>Ue.r&&(Ue.r=Ue[gt].r)}function Te(){if(!!Be){var Ue,gt=Be.length,St;for(rt=new Array(gt),Ue=0;Ue<gt;++Ue)St=Be[Ue],rt[St.index]=+oe(St,Ue,Be)}}return dt.initialize=function(Ue,gt){Be=Ue,Dt=gt,Te()},dt.iterations=function(Ue){return arguments.length?(an=+Ue,dt):an},dt.strength=function(Ue){return arguments.length?(hn=+Ue,dt):hn},dt.radius=function(Ue){return arguments.length?(oe=typeof Ue=="function"?Ue:He(+Ue),Te(),dt):oe},dt}function Mt(oe){return oe.index}function qe(oe,Be){var rt=oe.get(Be);if(!rt)throw new Error("node not found: "+Be);return rt}function te(oe){var Be=Mt,rt=St,Dt,hn=He(30),an,dt,ie,Te,Ue,gt=1;oe==null&&(oe=[]);function St(st){return 1/Math.min(ie[st.source.index],ie[st.target.index])}function Rt(st){for(var Ut=0,sn=oe.length;Ut<gt;++Ut)for(var Cn=0,En,vn,zn,Re,$e,Ft,N;Cn<sn;++Cn)En=oe[Cn],vn=En.source,zn=En.target,Re=zn.x+zn.vx-vn.x-vn.vx||at(Ue),$e=zn.y+zn.vy-vn.y-vn.vy||at(Ue),Ft=Math.sqrt(Re*Re+$e*$e),Ft=(Ft-an[Cn])/Ft*st*Dt[Cn],Re*=Ft,$e*=Ft,zn.vx-=Re*(N=Te[Cn]),zn.vy-=$e*N,vn.vx+=Re*(N=1-N),vn.vy+=$e*N}function ne(){if(!!dt){var st,Ut=dt.length,sn=oe.length,Cn=new Map(dt.map((vn,zn)=>[Be(vn,zn,dt),vn])),En;for(st=0,ie=new Array(Ut);st<sn;++st)En=oe[st],En.index=st,typeof En.source!="object"&&(En.source=qe(Cn,En.source)),typeof En.target!="object"&&(En.target=qe(Cn,En.target)),ie[En.source.index]=(ie[En.source.index]||0)+1,ie[En.target.index]=(ie[En.target.index]||0)+1;for(st=0,Te=new Array(sn);st<sn;++st)En=oe[st],Te[st]=ie[En.source.index]/(ie[En.source.index]+ie[En.target.index]);Dt=new Array(sn),Ce(),an=new Array(sn),We()}}function Ce(){if(!!dt)for(var st=0,Ut=oe.length;st<Ut;++st)Dt[st]=+rt(oe[st],st,oe)}function We(){if(!!dt)for(var st=0,Ut=oe.length;st<Ut;++st)an[st]=+hn(oe[st],st,oe)}return Rt.initialize=function(st,Ut){dt=st,Ue=Ut,ne()},Rt.links=function(st){return arguments.length?(oe=st,ne(),Rt):oe},Rt.id=function(st){return arguments.length?(Be=st,Rt):Be},Rt.iterations=function(st){return arguments.length?(gt=+st,Rt):gt},Rt.strength=function(st){return arguments.length?(rt=typeof st=="function"?st:He(+st),Ce(),Rt):rt},Rt.distance=function(st){return arguments.length?(hn=typeof st=="function"?st:He(+st),We(),Rt):hn},Rt}var et={value:()=>{}};function be(){for(var oe=0,Be=arguments.length,rt={},Dt;oe<Be;++oe){if(!(Dt=arguments[oe]+"")||Dt in rt||/[\s.]/.test(Dt))throw new Error("illegal type: "+Dt);rt[Dt]=[]}return new ke(rt)}function ke(oe){this._=oe}function we(oe,Be){return oe.trim().split(/^|\s+/).map(function(rt){var Dt="",hn=rt.indexOf(".");if(hn>=0&&(Dt=rt.slice(hn+1),rt=rt.slice(0,hn)),rt&&!Be.hasOwnProperty(rt))throw new Error("unknown type: "+rt);return{type:rt,name:Dt}})}ke.prototype=be.prototype={constructor:ke,on:function(oe,Be){var rt=this._,Dt=we(oe+"",rt),hn,an=-1,dt=Dt.length;if(arguments.length<2){for(;++an<dt;)if((hn=(oe=Dt[an]).type)&&(hn=pe(rt[hn],oe.name)))return hn;return}if(Be!=null&&typeof Be!="function")throw new Error("invalid callback: "+Be);for(;++an<dt;)if(hn=(oe=Dt[an]).type)rt[hn]=Je(rt[hn],oe.name,Be);else if(Be==null)for(hn in rt)rt[hn]=Je(rt[hn],oe.name,null);return this},copy:function(){var oe={},Be=this._;for(var rt in Be)oe[rt]=Be[rt].slice();return new ke(oe)},call:function(oe,Be){if((hn=arguments.length-2)>0)for(var rt=new Array(hn),Dt=0,hn,an;Dt<hn;++Dt)rt[Dt]=arguments[Dt+2];if(!this._.hasOwnProperty(oe))throw new Error("unknown type: "+oe);for(an=this._[oe],Dt=0,hn=an.length;Dt<hn;++Dt)an[Dt].value.apply(Be,rt)},apply:function(oe,Be,rt){if(!this._.hasOwnProperty(oe))throw new Error("unknown type: "+oe);for(var Dt=this._[oe],hn=0,an=Dt.length;hn<an;++hn)Dt[hn].value.apply(Be,rt)}};function pe(oe,Be){for(var rt=0,Dt=oe.length,hn;rt<Dt;++rt)if((hn=oe[rt]).name===Be)return hn.value}function Je(oe,Be,rt){for(var Dt=0,hn=oe.length;Dt<hn;++Dt)if(oe[Dt].name===Be){oe[Dt]=et,oe=oe.slice(0,Dt).concat(oe.slice(Dt+1));break}return rt!=null&&oe.push({name:Be,value:rt}),oe}var lt=0,Ht=0,Ct=0,mn=1e3,kt,Bt,tn=0,bt=0,ve=0,Le=typeof performance=="object"&&performance.now?performance:Date,_e=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(oe){setTimeout(oe,17)};function ce(){return bt||(_e(tt),bt=Le.now()+ve)}function tt(){bt=0}function Ke(){this._call=this._time=this._next=null}Ke.prototype=re.prototype={constructor:Ke,restart:function(oe,Be,rt){if(typeof oe!="function")throw new TypeError("callback is not a function");rt=(rt==null?ce():+rt)+(Be==null?0:+Be),!this._next&&Bt!==this&&(Bt?Bt._next=this:kt=this,Bt=this),this._call=oe,this._time=rt,Yt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yt())}};function re(oe,Be,rt){var Dt=new Ke;return Dt.restart(oe,Be,rt),Dt}function Oe(){ce(),++lt;for(var oe=kt,Be;oe;)(Be=bt-oe._time)>=0&&oe._call.call(void 0,Be),oe=oe._next;--lt}function nt(){bt=(tn=Le.now())+ve,lt=Ht=0;try{Oe()}finally{lt=0,Ot(),bt=0}}function ft(){var oe=Le.now(),Be=oe-tn;Be>mn&&(ve-=Be,tn=oe)}function Ot(){for(var oe,Be=kt,rt,Dt=1/0;Be;)Be._call?(Dt>Be._time&&(Dt=Be._time),oe=Be,Be=Be._next):(rt=Be._next,Be._next=null,Be=oe?oe._next=rt:kt=rt);Bt=oe,Yt(Dt)}function Yt(oe){if(!lt){Ht&&(Ht=clearTimeout(Ht));var Be=oe-bt;Be>24?(oe<1/0&&(Ht=setTimeout(nt,oe-Le.now()-ve)),Ct&&(Ct=clearInterval(Ct))):(Ct||(tn=Le.now(),Ct=setInterval(ft,mn)),lt=1,_e(nt))}}let Gt=1664525,fn=1013904223,gn=4294967296;function yn(){let oe=1;return()=>(oe=(Gt*oe+fn)%gn)/gn}function Lt(oe){return oe.x}function un(oe){return oe.y}var Mn=10,tr=Math.PI*(3-Math.sqrt(5));function Rn(oe){var Be,rt=1,Dt=.001,hn=1-Math.pow(Dt,1/300),an=0,dt=.6,ie=new Map,Te=re(St),Ue=be("tick","end"),gt=yn();oe==null&&(oe=[]);function St(){Rt(),Ue.call("tick",Be),rt<Dt&&(Te.stop(),Ue.call("end",Be))}function Rt(We){var st,Ut=oe.length,sn;We===void 0&&(We=1);for(var Cn=0;Cn<We;++Cn)for(rt+=(an-rt)*hn,ie.forEach(function(En){En(rt)}),st=0;st<Ut;++st)sn=oe[st],sn.fx==null?sn.x+=sn.vx*=dt:(sn.x=sn.fx,sn.vx=0),sn.fy==null?sn.y+=sn.vy*=dt:(sn.y=sn.fy,sn.vy=0);return Be}function ne(){for(var We=0,st=oe.length,Ut;We<st;++We){if(Ut=oe[We],Ut.index=We,Ut.fx!=null&&(Ut.x=Ut.fx),Ut.fy!=null&&(Ut.y=Ut.fy),isNaN(Ut.x)||isNaN(Ut.y)){var sn=Mn*Math.sqrt(.5+We),Cn=We*tr;Ut.x=sn*Math.cos(Cn),Ut.y=sn*Math.sin(Cn)}(isNaN(Ut.vx)||isNaN(Ut.vy))&&(Ut.vx=Ut.vy=0)}}function Ce(We){return We.initialize&&We.initialize(oe,gt),We}return ne(),Be={tick:Rt,restart:function(){return Te.restart(St),Be},stop:function(){return Te.stop(),Be},nodes:function(We){return arguments.length?(oe=We,ne(),ie.forEach(Ce),Be):oe},alpha:function(We){return arguments.length?(rt=+We,Be):rt},alphaMin:function(We){return arguments.length?(Dt=+We,Be):Dt},alphaDecay:function(We){return arguments.length?(hn=+We,Be):+hn},alphaTarget:function(We){return arguments.length?(an=+We,Be):an},velocityDecay:function(We){return arguments.length?(dt=1-We,Be):1-dt},randomSource:function(We){return arguments.length?(gt=We,ie.forEach(Ce),Be):gt},force:function(We,st){return arguments.length>1?(st==null?ie.delete(We):ie.set(We,Ce(st)),Be):ie.get(We)},find:function(We,st,Ut){var sn=0,Cn=oe.length,En,vn,zn,Re,$e;for(Ut==null?Ut=1/0:Ut*=Ut,sn=0;sn<Cn;++sn)Re=oe[sn],En=We-Re.x,vn=st-Re.y,zn=En*En+vn*vn,zn<Ut&&($e=Re,Ut=zn);return $e},on:function(We,st){return arguments.length>1?(Ue.on(We,st),Be):Ue.on(We)}}}function Ne(){var oe,Be,rt,Dt,hn=He(-30),an,dt=1,ie=1/0,Te=.81;function Ue(ne){var Ce,We=oe.length,st=I(oe,Lt,un).visitAfter(St);for(Dt=ne,Ce=0;Ce<We;++Ce)Be=oe[Ce],st.visit(Rt)}function gt(){if(!!oe){var ne,Ce=oe.length,We;for(an=new Array(Ce),ne=0;ne<Ce;++ne)We=oe[ne],an[We.index]=+hn(We,ne,oe)}}function St(ne){var Ce=0,We,st,Ut=0,sn,Cn,En;if(ne.length){for(sn=Cn=En=0;En<4;++En)(We=ne[En])&&(st=Math.abs(We.value))&&(Ce+=We.value,Ut+=st,sn+=st*We.x,Cn+=st*We.y);ne.x=sn/Ut,ne.y=Cn/Ut}else{We=ne,We.x=We.data.x,We.y=We.data.y;do Ce+=an[We.data.index];while(We=We.next)}ne.value=Ce}function Rt(ne,Ce,We,st){if(!ne.value)return!0;var Ut=ne.x-Be.x,sn=ne.y-Be.y,Cn=st-Ce,En=Ut*Ut+sn*sn;if(Cn*Cn/Te<En)return En<ie&&(Ut===0&&(Ut=at(rt),En+=Ut*Ut),sn===0&&(sn=at(rt),En+=sn*sn),En<dt&&(En=Math.sqrt(dt*En)),Be.vx+=Ut*ne.value*Dt/En,Be.vy+=sn*ne.value*Dt/En),!0;if(ne.length||En>=ie)return;(ne.data!==Be||ne.next)&&(Ut===0&&(Ut=at(rt),En+=Ut*Ut),sn===0&&(sn=at(rt),En+=sn*sn),En<dt&&(En=Math.sqrt(dt*En)));do ne.data!==Be&&(Cn=an[ne.data.index]*Dt/En,Be.vx+=Ut*Cn,Be.vy+=sn*Cn);while(ne=ne.next)}return Ue.initialize=function(ne,Ce){oe=ne,rt=Ce,gt()},Ue.strength=function(ne){return arguments.length?(hn=typeof ne=="function"?ne:He(+ne),gt(),Ue):hn},Ue.distanceMin=function(ne){return arguments.length?(dt=ne*ne,Ue):Math.sqrt(dt)},Ue.distanceMax=function(ne){return arguments.length?(ie=ne*ne,Ue):Math.sqrt(ie)},Ue.theta=function(ne){return arguments.length?(Te=ne*ne,Ue):Math.sqrt(Te)},Ue}function ze(oe){var Be=He(.1),rt,Dt,hn;typeof oe!="function"&&(oe=He(oe==null?0:+oe));function an(ie){for(var Te=0,Ue=rt.length,gt;Te<Ue;++Te)gt=rt[Te],gt.vx+=(hn[Te]-gt.x)*Dt[Te]*ie}function dt(){if(!!rt){var ie,Te=rt.length;for(Dt=new Array(Te),hn=new Array(Te),ie=0;ie<Te;++ie)Dt[ie]=isNaN(hn[ie]=+oe(rt[ie],ie,rt))?0:+Be(rt[ie],ie,rt)}}return an.initialize=function(ie){rt=ie,dt()},an.strength=function(ie){return arguments.length?(Be=typeof ie=="function"?ie:He(+ie),dt(),an):Be},an.x=function(ie){return arguments.length?(oe=typeof ie=="function"?ie:He(+ie),dt(),an):oe},an}function De(oe){var Be=He(.1),rt,Dt,hn;typeof oe!="function"&&(oe=He(oe==null?0:+oe));function an(ie){for(var Te=0,Ue=rt.length,gt;Te<Ue;++Te)gt=rt[Te],gt.vy+=(hn[Te]-gt.y)*Dt[Te]*ie}function dt(){if(!!rt){var ie,Te=rt.length;for(Dt=new Array(Te),hn=new Array(Te),ie=0;ie<Te;++ie)Dt[ie]=isNaN(hn[ie]=+oe(rt[ie],ie,rt))?0:+Be(rt[ie],ie,rt)}}return an.initialize=function(ie){rt=ie,dt()},an.strength=function(ie){return arguments.length?(Be=typeof ie=="function"?ie:He(+ie),dt(),an):Be},an.y=function(ie){return arguments.length?(oe=typeof ie=="function"?ie:He(+ie),dt(),an):oe},an}let Pt={center:r,collide:Et,nbody:Ne,link:te,x:ze,y:De},mt="forces",xt=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],rn=["static","iterations"],Qt=["x","y","vx","vy"];function Fn(oe){e.Transform.call(this,null,oe)}Fn.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:Qt}]},t.inherits(Fn,e.Transform,{transform(oe,Be){var rt=this.value,Dt=Be.changed(Be.ADD_REM),hn=oe.modified(xt),an=oe.iterations||300;if(rt?(Dt&&(Be.modifies("index"),rt.nodes(Be.source)),(hn||Be.changed(Be.MOD))&&Nn(rt,oe,0,Be)):(this.value=rt=Zn(Be.source,oe),rt.on("tick",Wn(Be.dataflow,this)),oe.static||(Dt=!0,rt.tick()),Be.modifies("index")),hn||Dt||oe.modified(rn)||Be.changed()&&oe.restart){if(rt.alpha(Math.max(rt.alpha(),oe.alpha||1)).alphaDecay(1-Math.pow(rt.alphaMin(),1/an)),oe.static)for(rt.stop();--an>=0;)rt.tick();else if(rt.stopped()&&rt.restart(),!Dt)return Be.StopPropagation}return this.finish(oe,Be)},finish(oe,Be){let rt=Be.dataflow;for(let ie=this._argops,Te=0,Ue=ie.length,gt;Te<Ue;++Te)if(gt=ie[Te],!(gt.name!==mt||gt.op._argval.force!=="link")){for(var Dt=gt.op._argops,hn=0,an=Dt.length,dt;hn<an;++hn)if(Dt[hn].name==="links"&&(dt=Dt[hn].op.source)){rt.pulse(dt,rt.changeset().reflow());break}}return Be.reflow(oe.modified()).modifies(Qt)}});function Wn(oe,Be){return()=>oe.touch(Be).run()}function Zn(oe,Be){let rt=Rn(oe),Dt=rt.stop,hn=rt.restart,an=!1;return rt.stopped=()=>an,rt.restart=()=>(an=!1,hn()),rt.stop=()=>(an=!0,Dt()),Nn(rt,Be,!0).on("end",()=>an=!0)}function Nn(oe,Be,rt,Dt){var hn=t.array(Be.forces),an,dt,ie,Te;for(an=0,dt=xt.length;an<dt;++an)ie=xt[an],ie!==mt&&Be.modified(ie)&&oe[ie](Be[ie]);for(an=0,dt=hn.length;an<dt;++an)Te=mt+an,ie=rt||Be.modified(mt,an)?Ye(hn[an]):Dt&&nr(hn[an],Dt)?oe.force(Te):null,ie&&oe.force(Te,ie);for(dt=oe.numForces||0;an<dt;++an)oe.force(mt+an,null);return oe.numForces=hn.length,oe}function nr(oe,Be){var rt,Dt;for(rt in oe)if(t.isFunction(Dt=oe[rt])&&Be.modified(t.accessorFields(Dt)))return 1;return 0}function Ye(oe){var Be,rt;t.hasOwnProperty(Pt,oe.force)||t.error("Unrecognized force: "+oe.force),Be=Pt[oe.force]();for(rt in oe)t.isFunction(Be[rt])&&vt(Be[rt],oe[rt],oe);return Be}function vt(oe,Be,rt){oe(t.isFunction(Be)?Dt=>Be(Dt,rt):Be)}n.force=Fn,Object.defineProperty(n,"__esModule",{value:!0})})});var zDe=Ae((mV,$De)=>{m();(function(n,e){typeof mV=="object"&&typeof $De!="undefined"?e(mV,s0(),Tu()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(mV,function(n,e,t){"use strict";function r(Re,$e,Ft){let N={};return Re.each(V=>{let Ee=V.data;Ft(Ee)&&(N[$e(Ee)]=V)}),Re.lookup=N,Re}function i(Re,$e){return Re.parent===$e.parent?1:2}function s(Re){return Re.reduce(o,0)/Re.length}function o(Re,$e){return Re+$e.x}function a(Re){return 1+Re.reduce(l,0)}function l(Re,$e){return Math.max(Re,$e.y)}function f(Re){for(var $e;$e=Re.children;)Re=$e[0];return Re}function p(Re){for(var $e;$e=Re.children;)Re=$e[$e.length-1];return Re}function _(){var Re=i,$e=1,Ft=1,N=!1;function V(Ee){var xe,K=0;Ee.eachAfter(function(At){var dn=At.children;dn?(At.x=s(dn),At.y=a(dn)):(At.x=xe?K+=Re(At,xe):0,At.y=0,xe=At)});var ae=f(Ee),fe=p(Ee),Qe=ae.x-Re(ae,fe)/2,It=fe.x+Re(fe,ae)/2;return Ee.eachAfter(N?function(At){At.x=(At.x-Ee.x)*$e,At.y=(Ee.y-At.y)*Ft}:function(At){At.x=(At.x-Qe)/(It-Qe)*$e,At.y=(1-(Ee.y?At.y/Ee.y:1))*Ft})}return V.separation=function(Ee){return arguments.length?(Re=Ee,V):Re},V.size=function(Ee){return arguments.length?(N=!1,$e=+Ee[0],Ft=+Ee[1],V):N?null:[$e,Ft]},V.nodeSize=function(Ee){return arguments.length?(N=!0,$e=+Ee[0],Ft=+Ee[1],V):N?[$e,Ft]:null},V}function E(Re){var $e=0,Ft=Re.children,N=Ft&&Ft.length;if(!N)$e=1;else for(;--N>=0;)$e+=Ft[N].value;Re.value=$e}function O(){return this.eachAfter(E)}function R(Re,$e){let Ft=-1;for(let N of this)Re.call($e,N,++Ft,this);return this}function q(Re,$e){for(var Ft=this,N=[Ft],V,Ee,xe=-1;Ft=N.pop();)if(Re.call($e,Ft,++xe,this),V=Ft.children)for(Ee=V.length-1;Ee>=0;--Ee)N.push(V[Ee]);return this}function z(Re,$e){for(var Ft=this,N=[Ft],V=[],Ee,xe,K,ae=-1;Ft=N.pop();)if(V.push(Ft),Ee=Ft.children)for(xe=0,K=Ee.length;xe<K;++xe)N.push(Ee[xe]);for(;Ft=V.pop();)Re.call($e,Ft,++ae,this);return this}function L(Re,$e){let Ft=-1;for(let N of this)if(Re.call($e,N,++Ft,this))return N}function B(Re){return this.eachAfter(function($e){for(var Ft=+Re($e.data)||0,N=$e.children,V=N&&N.length;--V>=0;)Ft+=N[V].value;$e.value=Ft})}function P(Re){return this.eachBefore(function($e){$e.children&&$e.children.sort(Re)})}function G(Re){for(var $e=this,Ft=ue($e,Re),N=[$e];$e!==Ft;)$e=$e.parent,N.push($e);for(var V=N.length;Re!==Ft;)N.splice(V,0,Re),Re=Re.parent;return N}function ue(Re,$e){if(Re===$e)return Re;var Ft=Re.ancestors(),N=$e.ancestors(),V=null;for(Re=Ft.pop(),$e=N.pop();Re===$e;)V=Re,Re=Ft.pop(),$e=N.pop();return V}function I(){for(var Re=this,$e=[Re];Re=Re.parent;)$e.push(Re);return $e}function J(){return Array.from(this)}function he(){var Re=[];return this.eachBefore(function($e){$e.children||Re.push($e)}),Re}function ye(){var Re=this,$e=[];return Re.each(function(Ft){Ft!==Re&&$e.push({source:Ft.parent,target:Ft})}),$e}function*He(){var Re=this,$e,Ft=[Re],N,V,Ee;do for($e=Ft.reverse(),Ft=[];Re=$e.pop();)if(yield Re,N=Re.children)for(V=0,Ee=N.length;V<Ee;++V)Ft.push(N[V]);while(Ft.length)}function at(Re,$e){Re instanceof Map?(Re=[void 0,Re],$e===void 0&&($e=Et)):$e===void 0&&($e=Ze);for(var Ft=new te(Re),N,V=[Ft],Ee,xe,K,ae;N=V.pop();)if((xe=$e(N.data))&&(ae=(xe=Array.from(xe)).length))for(N.children=xe,K=ae-1;K>=0;--K)V.push(Ee=xe[K]=new te(xe[K])),Ee.parent=N,Ee.depth=N.depth+1;return Ft.eachBefore(qe)}function ct(){return at(this).eachBefore(Mt)}function Ze(Re){return Re.children}function Et(Re){return Array.isArray(Re)?Re[1]:null}function Mt(Re){Re.data.value!==void 0&&(Re.value=Re.data.value),Re.data=Re.data.data}function qe(Re){var $e=0;do Re.height=$e;while((Re=Re.parent)&&Re.height<++$e)}function te(Re){this.data=Re,this.depth=this.height=0,this.parent=null}te.prototype=at.prototype={constructor:te,count:O,each:R,eachAfter:z,eachBefore:q,find:L,sum:B,sort:P,path:G,ancestors:I,descendants:J,leaves:he,links:ye,copy:ct,[Symbol.iterator]:He};function et(Re){return typeof Re=="object"&&"length"in Re?Re:Array.from(Re)}function be(Re){for(var $e=Re.length,Ft,N;$e;)N=Math.random()*$e--|0,Ft=Re[$e],Re[$e]=Re[N],Re[N]=Ft;return Re}function ke(Re){for(var $e=0,Ft=(Re=be(Array.from(Re))).length,N=[],V,Ee;$e<Ft;)V=Re[$e],Ee&&Je(Ee,V)?++$e:(Ee=Ht(N=we(N,V)),$e=0);return Ee}function we(Re,$e){var Ft,N;if(lt($e,Re))return[$e];for(Ft=0;Ft<Re.length;++Ft)if(pe($e,Re[Ft])&&lt(mn(Re[Ft],$e),Re))return[Re[Ft],$e];for(Ft=0;Ft<Re.length-1;++Ft)for(N=Ft+1;N<Re.length;++N)if(pe(mn(Re[Ft],Re[N]),$e)&&pe(mn(Re[Ft],$e),Re[N])&&pe(mn(Re[N],$e),Re[Ft])&&lt(kt(Re[Ft],Re[N],$e),Re))return[Re[Ft],Re[N],$e];throw new Error}function pe(Re,$e){var Ft=Re.r-$e.r,N=$e.x-Re.x,V=$e.y-Re.y;return Ft<0||Ft*Ft<N*N+V*V}function Je(Re,$e){var Ft=Re.r-$e.r+Math.max(Re.r,$e.r,1)*1e-9,N=$e.x-Re.x,V=$e.y-Re.y;return Ft>0&&Ft*Ft>N*N+V*V}function lt(Re,$e){for(var Ft=0;Ft<$e.length;++Ft)if(!Je(Re,$e[Ft]))return!1;return!0}function Ht(Re){switch(Re.length){case 1:return Ct(Re[0]);case 2:return mn(Re[0],Re[1]);case 3:return kt(Re[0],Re[1],Re[2])}}function Ct(Re){return{x:Re.x,y:Re.y,r:Re.r}}function mn(Re,$e){var Ft=Re.x,N=Re.y,V=Re.r,Ee=$e.x,xe=$e.y,K=$e.r,ae=Ee-Ft,fe=xe-N,Qe=K-V,It=Math.sqrt(ae*ae+fe*fe);return{x:(Ft+Ee+ae/It*Qe)/2,y:(N+xe+fe/It*Qe)/2,r:(It+V+K)/2}}function kt(Re,$e,Ft){var N=Re.x,V=Re.y,Ee=Re.r,xe=$e.x,K=$e.y,ae=$e.r,fe=Ft.x,Qe=Ft.y,It=Ft.r,At=N-xe,dn=N-fe,w=V-K,j=V-Qe,ee=ae-Ee,Se=It-Ee,ht=N*N+V*V-Ee*Ee,Tt=ht-xe*xe-K*K+ae*ae,Zt=ht-fe*fe-Qe*Qe+It*It,Xt=dn*w-At*j,xn=(w*Zt-j*Tt)/(Xt*2)-N,qn=(j*ee-w*Se)/Xt,Un=(dn*Tt-At*Zt)/(Xt*2)-V,Vn=(At*Se-dn*ee)/Xt,Jr=qn*qn+Vn*Vn-1,Vr=2*(Ee+xn*qn+Un*Vn),yr=xn*xn+Un*Un-Ee*Ee,Mr=-(Jr?(Vr+Math.sqrt(Vr*Vr-4*Jr*yr))/(2*Jr):yr/Vr);return{x:N+xn+qn*Mr,y:V+Un+Vn*Mr,r:Mr}}function Bt(Re,$e,Ft){var N=Re.x-$e.x,V,Ee,xe=Re.y-$e.y,K,ae,fe=N*N+xe*xe;fe?(Ee=$e.r+Ft.r,Ee*=Ee,ae=Re.r+Ft.r,ae*=ae,Ee>ae?(V=(fe+ae-Ee)/(2*fe),K=Math.sqrt(Math.max(0,ae/fe-V*V)),Ft.x=Re.x-V*N-K*xe,Ft.y=Re.y-V*xe+K*N):(V=(fe+Ee-ae)/(2*fe),K=Math.sqrt(Math.max(0,Ee/fe-V*V)),Ft.x=$e.x+V*N-K*xe,Ft.y=$e.y+V*xe+K*N)):(Ft.x=$e.x+Ft.r,Ft.y=$e.y)}function tn(Re,$e){var Ft=Re.r+$e.r-1e-6,N=$e.x-Re.x,V=$e.y-Re.y;return Ft>0&&Ft*Ft>N*N+V*V}function bt(Re){var $e=Re._,Ft=Re.next._,N=$e.r+Ft.r,V=($e.x*Ft.r+Ft.x*$e.r)/N,Ee=($e.y*Ft.r+Ft.y*$e.r)/N;return V*V+Ee*Ee}function ve(Re){this._=Re,this.next=null,this.previous=null}function Le(Re){if(!(V=(Re=et(Re)).length))return 0;var $e,Ft,N,V,Ee,xe,K,ae,fe,Qe,It;if($e=Re[0],$e.x=0,$e.y=0,!(V>1))return $e.r;if(Ft=Re[1],$e.x=-Ft.r,Ft.x=$e.r,Ft.y=0,!(V>2))return $e.r+Ft.r;Bt(Ft,$e,N=Re[2]),$e=new ve($e),Ft=new ve(Ft),N=new ve(N),$e.next=N.previous=Ft,Ft.next=$e.previous=N,N.next=Ft.previous=$e;e:for(K=3;K<V;++K){Bt($e._,Ft._,N=Re[K]),N=new ve(N),ae=Ft.next,fe=$e.previous,Qe=Ft._.r,It=$e._.r;do if(Qe<=It){if(tn(ae._,N._)){Ft=ae,$e.next=Ft,Ft.previous=$e,--K;continue e}Qe+=ae._.r,ae=ae.next}else{if(tn(fe._,N._)){$e=fe,$e.next=Ft,Ft.previous=$e,--K;continue e}It+=fe._.r,fe=fe.previous}while(ae!==fe.next);for(N.previous=$e,N.next=Ft,$e.next=Ft.previous=Ft=N,Ee=bt($e);(N=N.next)!==Ft;)(xe=bt(N))<Ee&&($e=N,Ee=xe);Ft=$e.next}for($e=[Ft._],N=Ft;(N=N.next)!==Ft;)$e.push(N._);for(N=ke($e),K=0;K<V;++K)$e=Re[K],$e.x-=N.x,$e.y-=N.y;return N.r}function _e(Re){return Re==null?null:ce(Re)}function ce(Re){if(typeof Re!="function")throw new Error;return Re}function tt(){return 0}function Ke(Re){return function(){return Re}}function re(Re){return Math.sqrt(Re.value)}function Oe(){var Re=null,$e=1,Ft=1,N=tt;function V(Ee){return Ee.x=$e/2,Ee.y=Ft/2,Re?Ee.eachBefore(nt(Re)).eachAfter(ft(N,.5)).eachBefore(Ot(1)):Ee.eachBefore(nt(re)).eachAfter(ft(tt,1)).eachAfter(ft(N,Ee.r/Math.min($e,Ft))).eachBefore(Ot(Math.min($e,Ft)/(2*Ee.r))),Ee}return V.radius=function(Ee){return arguments.length?(Re=_e(Ee),V):Re},V.size=function(Ee){return arguments.length?($e=+Ee[0],Ft=+Ee[1],V):[$e,Ft]},V.padding=function(Ee){return arguments.length?(N=typeof Ee=="function"?Ee:Ke(+Ee),V):N},V}function nt(Re){return function($e){$e.children||($e.r=Math.max(0,+Re($e)||0))}}function ft(Re,$e){return function(Ft){if(N=Ft.children){var N,V,Ee=N.length,xe=Re(Ft)*$e||0,K;if(xe)for(V=0;V<Ee;++V)N[V].r+=xe;if(K=Le(N),xe)for(V=0;V<Ee;++V)N[V].r-=xe;Ft.r=K+xe}}}function Ot(Re){return function($e){var Ft=$e.parent;$e.r*=Re,Ft&&($e.x=Ft.x+Re*$e.x,$e.y=Ft.y+Re*$e.y)}}function Yt(Re){Re.x0=Math.round(Re.x0),Re.y0=Math.round(Re.y0),Re.x1=Math.round(Re.x1),Re.y1=Math.round(Re.y1)}function Gt(Re,$e,Ft,N,V){for(var Ee=Re.children,xe,K=-1,ae=Ee.length,fe=Re.value&&(N-$e)/Re.value;++K<ae;)xe=Ee[K],xe.y0=Ft,xe.y1=V,xe.x0=$e,xe.x1=$e+=xe.value*fe}function fn(){var Re=1,$e=1,Ft=0,N=!1;function V(xe){var K=xe.height+1;return xe.x0=xe.y0=Ft,xe.x1=Re,xe.y1=$e/K,xe.eachBefore(Ee($e,K)),N&&xe.eachBefore(Yt),xe}function Ee(xe,K){return function(ae){ae.children&&Gt(ae,ae.x0,xe*(ae.depth+1)/K,ae.x1,xe*(ae.depth+2)/K);var fe=ae.x0,Qe=ae.y0,It=ae.x1-Ft,At=ae.y1-Ft;It<fe&&(fe=It=(fe+It)/2),At<Qe&&(Qe=At=(Qe+At)/2),ae.x0=fe,ae.y0=Qe,ae.x1=It,ae.y1=At}}return V.round=function(xe){return arguments.length?(N=!!xe,V):N},V.size=function(xe){return arguments.length?(Re=+xe[0],$e=+xe[1],V):[Re,$e]},V.padding=function(xe){return arguments.length?(Ft=+xe,V):Ft},V}var gn={depth:-1},yn={},Lt={};function un(Re){return Re.id}function Mn(Re){return Re.parentId}function tr(){var Re=un,$e=Mn,Ft;function N(V){var Ee=Array.from(V),xe=Re,K=$e,ae,fe,Qe,It,At,dn,w,j,ee=new Map;if(Ft!=null){let Se=Ee.map((Zt,Xt)=>Rn(Ft(Zt,Xt,V))),ht=Se.map(Ne),Tt=new Set(Se).add("");for(let Zt of ht)Tt.has(Zt)||(Tt.add(Zt),Se.push(Zt),ht.push(Ne(Zt)),Ee.push(Lt));xe=(Zt,Xt)=>Se[Xt],K=(Zt,Xt)=>ht[Xt]}for(Qe=0,ae=Ee.length;Qe<ae;++Qe)fe=Ee[Qe],dn=Ee[Qe]=new te(fe),(w=xe(fe,Qe,V))!=null&&(w+="")&&(j=dn.id=w,ee.set(j,ee.has(j)?yn:dn)),(w=K(fe,Qe,V))!=null&&(w+="")&&(dn.parent=w);for(Qe=0;Qe<ae;++Qe)if(dn=Ee[Qe],w=dn.parent){if(At=ee.get(w),!At)throw new Error("missing: "+w);if(At===yn)throw new Error("ambiguous: "+w);At.children?At.children.push(dn):At.children=[dn],dn.parent=At}else{if(It)throw new Error("multiple roots");It=dn}if(!It)throw new Error("no root");if(Ft!=null){for(;It.data===Lt&&It.children.length===1;)It=It.children[0],--ae;for(let Se=Ee.length-1;Se>=0&&(dn=Ee[Se],dn.data===Lt);--Se)dn.data=null}if(It.parent=gn,It.eachBefore(function(Se){Se.depth=Se.parent.depth+1,--ae}).eachBefore(qe),It.parent=null,ae>0)throw new Error("cycle");return It}return N.id=function(V){return arguments.length?(Re=_e(V),N):Re},N.parentId=function(V){return arguments.length?($e=_e(V),N):$e},N.path=function(V){return arguments.length?(Ft=_e(V),N):Ft},N}function Rn(Re){Re=`${Re}`;let $e=Re.length;return ze(Re,$e-1)&&!ze(Re,$e-2)&&(Re=Re.slice(0,-1)),Re[0]==="/"?Re:`/${Re}`}function Ne(Re){let $e=Re.length;if($e<2)return"";for(;--$e>1&&!ze(Re,$e););return Re.slice(0,$e)}function ze(Re,$e){if(Re[$e]==="/"){let Ft=0;for(;$e>0&&Re[--$e]==="\\";)++Ft;if((Ft&1)===0)return!0}return!1}function De(Re,$e){return Re.parent===$e.parent?1:2}function Pt(Re){var $e=Re.children;return $e?$e[0]:Re.t}function mt(Re){var $e=Re.children;return $e?$e[$e.length-1]:Re.t}function xt(Re,$e,Ft){var N=Ft/($e.i-Re.i);$e.c-=N,$e.s+=Ft,Re.c+=N,$e.z+=Ft,$e.m+=Ft}function rn(Re){for(var $e=0,Ft=0,N=Re.children,V=N.length,Ee;--V>=0;)Ee=N[V],Ee.z+=$e,Ee.m+=$e,$e+=Ee.s+(Ft+=Ee.c)}function Qt(Re,$e,Ft){return Re.a.parent===$e.parent?Re.a:Ft}function Fn(Re,$e){this._=Re,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=$e}Fn.prototype=Object.create(te.prototype);function Wn(Re){for(var $e=new Fn(Re,0),Ft,N=[$e],V,Ee,xe,K;Ft=N.pop();)if(Ee=Ft._.children)for(Ft.children=new Array(K=Ee.length),xe=K-1;xe>=0;--xe)N.push(V=Ft.children[xe]=new Fn(Ee[xe],xe)),V.parent=Ft;return($e.parent=new Fn(null,0)).children=[$e],$e}function Zn(){var Re=De,$e=1,Ft=1,N=null;function V(fe){var Qe=Wn(fe);if(Qe.eachAfter(Ee),Qe.parent.m=-Qe.z,Qe.eachBefore(xe),N)fe.eachBefore(ae);else{var It=fe,At=fe,dn=fe;fe.eachBefore(function(ht){ht.x<It.x&&(It=ht),ht.x>At.x&&(At=ht),ht.depth>dn.depth&&(dn=ht)});var w=It===At?1:Re(It,At)/2,j=w-It.x,ee=$e/(At.x+w+j),Se=Ft/(dn.depth||1);fe.eachBefore(function(ht){ht.x=(ht.x+j)*ee,ht.y=ht.depth*Se})}return fe}function Ee(fe){var Qe=fe.children,It=fe.parent.children,At=fe.i?It[fe.i-1]:null;if(Qe){rn(fe);var dn=(Qe[0].z+Qe[Qe.length-1].z)/2;At?(fe.z=At.z+Re(fe._,At._),fe.m=fe.z-dn):fe.z=dn}else At&&(fe.z=At.z+Re(fe._,At._));fe.parent.A=K(fe,At,fe.parent.A||It[0])}function xe(fe){fe._.x=fe.z+fe.parent.m,fe.m+=fe.parent.m}function K(fe,Qe,It){if(Qe){for(var At=fe,dn=fe,w=Qe,j=At.parent.children[0],ee=At.m,Se=dn.m,ht=w.m,Tt=j.m,Zt;w=mt(w),At=Pt(At),w&&At;)j=Pt(j),dn=mt(dn),dn.a=fe,Zt=w.z+ht-At.z-ee+Re(w._,At._),Zt>0&&(xt(Qt(w,fe,It),fe,Zt),ee+=Zt,Se+=Zt),ht+=w.m,ee+=At.m,Tt+=j.m,Se+=dn.m;w&&!mt(dn)&&(dn.t=w,dn.m+=ht-Se),At&&!Pt(j)&&(j.t=At,j.m+=ee-Tt,It=fe)}return It}function ae(fe){fe.x*=$e,fe.y=fe.depth*Ft}return V.separation=function(fe){return arguments.length?(Re=fe,V):Re},V.size=function(fe){return arguments.length?(N=!1,$e=+fe[0],Ft=+fe[1],V):N?null:[$e,Ft]},V.nodeSize=function(fe){return arguments.length?(N=!0,$e=+fe[0],Ft=+fe[1],V):N?[$e,Ft]:null},V}function Nn(Re,$e,Ft,N,V){for(var Ee=Re.children,xe,K=-1,ae=Ee.length,fe=Re.value&&(V-Ft)/Re.value;++K<ae;)xe=Ee[K],xe.x0=$e,xe.x1=N,xe.y0=Ft,xe.y1=Ft+=xe.value*fe}var nr=(1+Math.sqrt(5))/2;function Ye(Re,$e,Ft,N,V,Ee){for(var xe=[],K=$e.children,ae,fe,Qe=0,It=0,At=K.length,dn,w,j=$e.value,ee,Se,ht,Tt,Zt,Xt,xn;Qe<At;){dn=V-Ft,w=Ee-N;do ee=K[It++].value;while(!ee&&It<At);for(Se=ht=ee,Xt=Math.max(w/dn,dn/w)/(j*Re),xn=ee*ee*Xt,Zt=Math.max(ht/xn,xn/Se);It<At;++It){if(ee+=fe=K[It].value,fe<Se&&(Se=fe),fe>ht&&(ht=fe),xn=ee*ee*Xt,Tt=Math.max(ht/xn,xn/Se),Tt>Zt){ee-=fe;break}Zt=Tt}xe.push(ae={value:ee,dice:dn<w,children:K.slice(Qe,It)}),ae.dice?Gt(ae,Ft,N,V,j?N+=w*ee/j:Ee):Nn(ae,Ft,N,j?Ft+=dn*ee/j:V,Ee),j-=ee,Qe=It}return xe}var vt=function Re($e){function Ft(N,V,Ee,xe,K){Ye($e,N,V,Ee,xe,K)}return Ft.ratio=function(N){return Re((N=+N)>1?N:1)},Ft}(nr);function oe(){var Re=vt,$e=!1,Ft=1,N=1,V=[0],Ee=tt,xe=tt,K=tt,ae=tt,fe=tt;function Qe(At){return At.x0=At.y0=0,At.x1=Ft,At.y1=N,At.eachBefore(It),V=[0],$e&&At.eachBefore(Yt),At}function It(At){var dn=V[At.depth],w=At.x0+dn,j=At.y0+dn,ee=At.x1-dn,Se=At.y1-dn;ee<w&&(w=ee=(w+ee)/2),Se<j&&(j=Se=(j+Se)/2),At.x0=w,At.y0=j,At.x1=ee,At.y1=Se,At.children&&(dn=V[At.depth+1]=Ee(At)/2,w+=fe(At)-dn,j+=xe(At)-dn,ee-=K(At)-dn,Se-=ae(At)-dn,ee<w&&(w=ee=(w+ee)/2),Se<j&&(j=Se=(j+Se)/2),Re(At,w,j,ee,Se))}return Qe.round=function(At){return arguments.length?($e=!!At,Qe):$e},Qe.size=function(At){return arguments.length?(Ft=+At[0],N=+At[1],Qe):[Ft,N]},Qe.tile=function(At){return arguments.length?(Re=ce(At),Qe):Re},Qe.padding=function(At){return arguments.length?Qe.paddingInner(At).paddingOuter(At):Qe.paddingInner()},Qe.paddingInner=function(At){return arguments.length?(Ee=typeof At=="function"?At:Ke(+At),Qe):Ee},Qe.paddingOuter=function(At){return arguments.length?Qe.paddingTop(At).paddingRight(At).paddingBottom(At).paddingLeft(At):Qe.paddingTop()},Qe.paddingTop=function(At){return arguments.length?(xe=typeof At=="function"?At:Ke(+At),Qe):xe},Qe.paddingRight=function(At){return arguments.length?(K=typeof At=="function"?At:Ke(+At),Qe):K},Qe.paddingBottom=function(At){return arguments.length?(ae=typeof At=="function"?At:Ke(+At),Qe):ae},Qe.paddingLeft=function(At){return arguments.length?(fe=typeof At=="function"?At:Ke(+At),Qe):fe},Qe}function Be(Re,$e,Ft,N,V){var Ee=Re.children,xe,K=Ee.length,ae,fe=new Array(K+1);for(fe[0]=ae=xe=0;xe<K;++xe)fe[xe+1]=ae+=Ee[xe].value;Qe(0,K,Re.value,$e,Ft,N,V);function Qe(It,At,dn,w,j,ee,Se){if(It>=At-1){var ht=Ee[It];ht.x0=w,ht.y0=j,ht.x1=ee,ht.y1=Se;return}for(var Tt=fe[It],Zt=dn/2+Tt,Xt=It+1,xn=At-1;Xt<xn;){var qn=Xt+xn>>>1;fe[qn]<Zt?Xt=qn+1:xn=qn}Zt-fe[Xt-1]<fe[Xt]-Zt&&It+1<Xt&&--Xt;var Un=fe[Xt]-Tt,Vn=dn-Un;if(ee-w>Se-j){var Jr=dn?(w*Vn+ee*Un)/dn:ee;Qe(It,Xt,Un,w,j,Jr,Se),Qe(Xt,At,Vn,Jr,j,ee,Se)}else{var Vr=dn?(j*Vn+Se*Un)/dn:Se;Qe(It,Xt,Un,w,j,ee,Vr),Qe(Xt,At,Vn,w,Vr,ee,Se)}}}function rt(Re,$e,Ft,N,V){(Re.depth&1?Nn:Gt)(Re,$e,Ft,N,V)}var Dt=function Re($e){function Ft(N,V,Ee,xe,K){if((ae=N._squarify)&&ae.ratio===$e)for(var ae,fe,Qe,It,At=-1,dn,w=ae.length,j=N.value;++At<w;){for(fe=ae[At],Qe=fe.children,It=fe.value=0,dn=Qe.length;It<dn;++It)fe.value+=Qe[It].value;fe.dice?Gt(fe,V,Ee,xe,j?Ee+=(K-Ee)*fe.value/j:K):Nn(fe,V,Ee,j?V+=(xe-V)*fe.value/j:xe,K),j-=fe.value}else N._squarify=ae=Ye($e,N,V,Ee,xe,K),ae.ratio=$e}return Ft.ratio=function(N){return Re((N=+N)>1?N:1)},Ft}(nr);function hn(Re){e.Transform.call(this,null,Re)}hn.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};let an=Re=>Re.values;t.inherits(hn,e.Transform,{transform(Re,$e){$e.source||t.error("Nest transform requires an upstream data source.");var Ft=Re.generate,N=Re.modified(),V=$e.clone(),Ee=this.value;return(!Ee||N||$e.changed())&&(Ee&&Ee.each(xe=>{xe.children&&e.isTuple(xe.data)&&V.rem.push(xe.data)}),this.value=Ee=at({values:t.array(Re.keys).reduce((xe,K)=>(xe.key(K),xe),dt()).entries(V.source)},an),Ft&&Ee.each(xe=>{xe.children&&(xe=e.ingest(xe.data),V.add.push(xe),V.source.push(xe))}),r(Ee,e.tupleid,e.tupleid)),V.source.root=Ee,V}});function dt(){let Re=[],$e={entries:V=>N(Ft(V,0),0),key:V=>(Re.push(V),$e)};function Ft(V,Ee){if(Ee>=Re.length)return V;let xe=V.length,K=Re[Ee++],ae={},fe={},Qe=-1,It,At,dn;for(;++Qe<xe;)It=K(At=V[Qe])+"",(dn=ae[It])?dn.push(At):ae[It]=[At];for(It in ae)fe[It]=Ft(ae[It],Ee);return fe}function N(V,Ee){if(++Ee>Re.length)return V;let xe=[];for(let K in V)xe.push({key:K,values:N(V[K],Ee)});return xe}return $e}function ie(Re){e.Transform.call(this,null,Re)}let Te=(Re,$e)=>Re.parent===$e.parent?1:2;t.inherits(ie,e.Transform,{transform(Re,$e){(!$e.source||!$e.source.root)&&t.error(this.constructor.name+" transform requires a backing tree data source.");let Ft=this.layout(Re.method),N=this.fields,V=$e.source.root,Ee=Re.as||N;Re.field?V.sum(Re.field):V.count(),Re.sort&&V.sort(e.stableCompare(Re.sort,xe=>xe.data)),Ue(Ft,this.params,Re),Ft.separation&&Ft.separation(Re.separation!==!1?Te:t.one);try{this.value=Ft(V)}catch(xe){t.error(xe)}return V.each(xe=>gt(xe,N,Ee)),$e.reflow(Re.modified()).modifies(Ee).modifies("leaf")}});function Ue(Re,$e,Ft){for(let N,V=0,Ee=$e.length;V<Ee;++V)N=$e[V],N in Ft&&Re[N](Ft[N])}function gt(Re,$e,Ft){let N=Re.data,V=$e.length-1;for(let Ee=0;Ee<V;++Ee)N[Ft[Ee]]=Re[$e[Ee]];N[Ft[V]]=Re.children?Re.children.length:0}let St=["x","y","r","depth","children"];function Rt(Re){ie.call(this,Re)}Rt.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:St.length,default:St}]},t.inherits(Rt,ie,{layout:Oe,params:["radius","size","padding"],fields:St});let ne=["x0","y0","x1","y1","depth","children"];function Ce(Re){ie.call(this,Re)}Ce.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:ne.length,default:ne}]},t.inherits(Ce,ie,{layout:fn,params:["size","round","padding"],fields:ne});function We(Re){e.Transform.call(this,null,Re)}We.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},t.inherits(We,e.Transform,{transform(Re,$e){$e.source||t.error("Stratify transform requires an upstream data source.");let Ft=this.value,N=Re.modified(),V=$e.fork($e.ALL).materialize($e.SOURCE),Ee=!Ft||N||$e.changed($e.ADD_REM)||$e.modified(Re.key.fields)||$e.modified(Re.parentKey.fields);return V.source=V.source.slice(),Ee&&(Ft=V.source.length?r(tr().id(Re.key).parentId(Re.parentKey)(V.source),Re.key,t.truthy):r(tr()([{}]),Re.key,Re.key)),V.source.root=this.value=Ft,V}});let st={tidy:Zn,cluster:_},Ut=["x","y","depth","children"];function sn(Re){ie.call(this,Re)}sn.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:Ut.length,default:Ut}]},t.inherits(sn,ie,{layout(Re){let $e=Re||"tidy";if(t.hasOwnProperty(st,$e))return st[$e]();t.error("Unrecognized Tree layout method: "+$e)},params:["size","nodeSize"],fields:Ut});function Cn(Re){e.Transform.call(this,[],Re)}Cn.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},t.inherits(Cn,e.Transform,{transform(Re,$e){let Ft=this.value,N=$e.source&&$e.source.root,V=$e.fork($e.NO_SOURCE),Ee={};return N||t.error("TreeLinks transform requires a tree data source."),$e.changed($e.ADD_REM)?(V.rem=Ft,$e.visit($e.SOURCE,xe=>Ee[e.tupleid(xe)]=1),N.each(xe=>{let K=xe.data,ae=xe.parent&&xe.parent.data;ae&&Ee[e.tupleid(K)]&&Ee[e.tupleid(ae)]&&V.add.push(e.ingest({source:ae,target:K}))}),this.value=V.add):$e.changed($e.MOD)&&($e.visit($e.MOD,xe=>Ee[e.tupleid(xe)]=1),Ft.forEach(xe=>{(Ee[e.tupleid(xe.source)]||Ee[e.tupleid(xe.target)])&&V.mod.push(xe)})),V}});let En={binary:Be,dice:Gt,slice:Nn,slicedice:rt,squarify:vt,resquarify:Dt},vn=["x0","y0","x1","y1","depth","children"];function zn(Re){ie.call(this,Re)}zn.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:vn.length,default:vn}]},t.inherits(zn,ie,{layout(){let Re=oe();return Re.ratio=$e=>{let Ft=Re.tile();Ft.ratio&&Re.tile(Ft.ratio($e))},Re.method=$e=>{t.hasOwnProperty(En,$e)?Re.tile(En[$e]):t.error("Unrecognized Treemap layout method: "+$e)},Re},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:vn}),n.nest=hn,n.pack=Rt,n.partition=Ce,n.stratify=We,n.tree=sn,n.treelinks=Cn,n.treemap=zn,Object.defineProperty(n,"__esModule",{value:!0})})});var VDe=Ae((xV,HDe)=>{m();(function(n,e){typeof xV=="object"&&typeof HDe!="undefined"?e(xV,h9(),mN(),s0(),Tu()):typeof define=="function"&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega))})(xV,function(n,e,t,r,i){"use strict";let s=4278190080;function o(Bt,tn){let bt=Bt.bitmap();return(tn||[]).forEach(ve=>bt.set(Bt(ve.boundary[0]),Bt(ve.boundary[3]))),[bt,void 0]}function a(Bt,tn,bt,ve,Le){let _e=Bt.width,ce=Bt.height,tt=ve||Le,Ke=t.canvas(_e,ce).getContext("2d"),re=t.canvas(_e,ce).getContext("2d"),Oe=tt&&t.canvas(_e,ce).getContext("2d");bt.forEach(Ne=>f(Ke,Ne,!1)),f(re,tn,!1),tt&&f(Oe,tn,!0);let nt=l(Ke,_e,ce),ft=l(re,_e,ce),Ot=tt&&l(Oe,_e,ce),Yt=Bt.bitmap(),Gt=tt&&Bt.bitmap(),fn,gn,yn,Lt,un,Mn,tr,Rn;for(gn=0;gn<ce;++gn)for(fn=0;fn<_e;++fn)un=gn*_e+fn,Mn=nt[un]&s,Rn=ft[un]&s,tr=tt&&Ot[un]&s,(Mn||tr||Rn)&&(yn=Bt(fn),Lt=Bt(gn),!Le&&(Mn||Rn)&&Yt.set(yn,Lt),tt&&(Mn||tr)&&Gt.set(yn,Lt));return[Yt,Gt]}function l(Bt,tn,bt){return new Uint32Array(Bt.getImageData(0,0,tn,bt).data.buffer)}function f(Bt,tn,bt){if(!tn.length)return;let ve=tn[0].mark.marktype;ve==="group"?tn.forEach(Le=>{Le.items.forEach(_e=>f(Bt,_e.items,bt))}):e.Marks[ve].draw(Bt,{items:bt?tn.map(p):tn})}function p(Bt){let tn=r.rederive(Bt,{});return tn.stroke&&tn.strokeOpacity!==0||tn.fill&&tn.fillOpacity!==0?{...tn,strokeOpacity:1,stroke:"#000",fillOpacity:0}:tn}let _=5,E=31,O=32,R=new Uint32Array(O+1),q=new Uint32Array(O+1);q[0]=0,R[0]=~q[0];for(let Bt=1;Bt<=O;++Bt)q[Bt]=q[Bt-1]<<1|1,R[Bt]=~q[Bt];function z(Bt,tn){let bt=new Uint32Array(~~((Bt*tn+O)/O));function ve(_e,ce){bt[_e]|=ce}function Le(_e,ce){bt[_e]&=ce}return{array:bt,get:(_e,ce)=>{let tt=ce*Bt+_e;return bt[tt>>>_]&1<<(tt&E)},set:(_e,ce)=>{let tt=ce*Bt+_e;ve(tt>>>_,1<<(tt&E))},clear:(_e,ce)=>{let tt=ce*Bt+_e;Le(tt>>>_,~(1<<(tt&E)))},getRange:(_e,ce,tt,Ke)=>{let re=Ke,Oe,nt,ft,Ot;for(;re>=ce;--re)if(Oe=re*Bt+_e,nt=re*Bt+tt,ft=Oe>>>_,Ot=nt>>>_,ft===Ot){if(bt[ft]&R[Oe&E]&q[(nt&E)+1])return!0}else{if(bt[ft]&R[Oe&E]||bt[Ot]&q[(nt&E)+1])return!0;for(let Yt=ft+1;Yt<Ot;++Yt)if(bt[Yt])return!0}return!1},setRange:(_e,ce,tt,Ke)=>{let re,Oe,nt,ft,Ot;for(;ce<=Ke;++ce)if(re=ce*Bt+_e,Oe=ce*Bt+tt,nt=re>>>_,ft=Oe>>>_,nt===ft)ve(nt,R[re&E]&q[(Oe&E)+1]);else for(ve(nt,R[re&E]),ve(ft,q[(Oe&E)+1]),Ot=nt+1;Ot<ft;++Ot)ve(Ot,4294967295)},clearRange:(_e,ce,tt,Ke)=>{let re,Oe,nt,ft,Ot;for(;ce<=Ke;++ce)if(re=ce*Bt+_e,Oe=ce*Bt+tt,nt=re>>>_,ft=Oe>>>_,nt===ft)Le(nt,q[re&E]|R[(Oe&E)+1]);else for(Le(nt,q[re&E]),Le(ft,R[(Oe&E)+1]),Ot=nt+1;Ot<ft;++Ot)Le(Ot,0)},outOfBounds:(_e,ce,tt,Ke)=>_e<0||ce<0||Ke>=tn||tt>=Bt}}function L(Bt,tn,bt){let ve=Math.max(1,Math.sqrt(Bt*tn/1e6)),Le=~~((Bt+2*bt+ve)/ve),_e=~~((tn+2*bt+ve)/ve),ce=tt=>~~((tt+bt)/ve);return ce.invert=tt=>tt*ve-bt,ce.bitmap=()=>z(Le,_e),ce.ratio=ve,ce.padding=bt,ce.width=Bt,ce.height=tn,ce}function B(Bt,tn,bt,ve){let Le=Bt.width,_e=Bt.height;return function(ce){let tt=ce.datum.datum.items[ve].items,Ke=tt.length,re=ce.datum.fontSize,Oe=e.textMetrics.width(ce.datum,ce.datum.text),nt=0,ft,Ot,Yt,Gt,fn,gn,yn;for(let Lt=0;Lt<Ke;++Lt)ft=tt[Lt].x,Yt=tt[Lt].y,Ot=tt[Lt].x2===void 0?ft:tt[Lt].x2,Gt=tt[Lt].y2===void 0?Yt:tt[Lt].y2,fn=(ft+Ot)/2,gn=(Yt+Gt)/2,yn=Math.abs(Ot-ft+Gt-Yt),yn>=nt&&(nt=yn,ce.x=fn,ce.y=gn);return fn=Oe/2,gn=re/2,ft=ce.x-fn,Ot=ce.x+fn,Yt=ce.y-gn,Gt=ce.y+gn,ce.align="center",ft<0&&Ot<=Le?ce.align="left":0<=ft&&Le<Ot&&(ce.align="right"),ce.baseline="middle",Yt<0&&Gt<=_e?ce.baseline="top":0<=Yt&&_e<Gt&&(ce.baseline="bottom"),!0}}function P(Bt,tn,bt,ve,Le,_e){let ce=bt/2;return Bt-ce<0||Bt+ce>Le||tn-(ce=ve/2)<0||tn+ce>_e}function G(Bt,tn,bt,ve,Le,_e,ce,tt){let Ke=Le*_e/(ve*2),re=Bt(tn-Ke),Oe=Bt(tn+Ke),nt=Bt(bt-(_e=_e/2)),ft=Bt(bt+_e);return ce.outOfBounds(re,nt,Oe,ft)||ce.getRange(re,nt,Oe,ft)||tt&&tt.getRange(re,nt,Oe,ft)}function ue(Bt,tn,bt,ve){let Le=Bt.width,_e=Bt.height,ce=tn[0],tt=tn[1];function Ke(re,Oe,nt,ft,Ot){let Yt=Bt.invert(re),Gt=Bt.invert(Oe),fn=nt,gn=_e,yn;if(!P(Yt,Gt,ft,Ot,Le,_e)&&!G(Bt,Yt,Gt,Ot,ft,fn,ce,tt)&&!G(Bt,Yt,Gt,Ot,ft,Ot,ce,null)){for(;gn-fn>=1;)yn=(fn+gn)/2,G(Bt,Yt,Gt,Ot,ft,yn,ce,tt)?gn=yn:fn=yn;if(fn>nt)return[Yt,Gt,fn,!0]}}return function(re){let Oe=re.datum.datum.items[ve].items,nt=Oe.length,ft=re.datum.fontSize,Ot=e.textMetrics.width(re.datum,re.datum.text),Yt=bt?ft:0,Gt=!1,fn=!1,gn=0,yn,Lt,un,Mn,tr,Rn,Ne,ze,De,Pt,mt,xt,rn,Qt,Fn,Wn,Zn;for(let Nn=0;Nn<nt;++Nn){for(yn=Oe[Nn].x,un=Oe[Nn].y,Lt=Oe[Nn].x2===void 0?yn:Oe[Nn].x2,Mn=Oe[Nn].y2===void 0?un:Oe[Nn].y2,yn>Lt&&(Zn=yn,yn=Lt,Lt=Zn),un>Mn&&(Zn=un,un=Mn,Mn=Zn),De=Bt(yn),mt=Bt(Lt),Pt=~~((De+mt)/2),xt=Bt(un),Qt=Bt(Mn),rn=~~((xt+Qt)/2),Ne=Pt;Ne>=De;--Ne)for(ze=rn;ze>=xt;--ze)Wn=Ke(Ne,ze,Yt,Ot,ft),Wn&&([re.x,re.y,Yt,Gt]=Wn);for(Ne=Pt;Ne<=mt;++Ne)for(ze=rn;ze<=Qt;++ze)Wn=Ke(Ne,ze,Yt,Ot,ft),Wn&&([re.x,re.y,Yt,Gt]=Wn);!Gt&&!bt&&(Fn=Math.abs(Lt-yn+Mn-un),tr=(yn+Lt)/2,Rn=(un+Mn)/2,Fn>=gn&&!P(tr,Rn,Ot,ft,Le,_e)&&!G(Bt,tr,Rn,ft,Ot,ft,ce,null)&&(gn=Fn,re.x=tr,re.y=Rn,fn=!0))}return Gt||fn?(tr=Ot/2,Rn=ft/2,ce.setRange(Bt(re.x-tr),Bt(re.y-Rn),Bt(re.x+tr),Bt(re.y+Rn)),re.align="center",re.baseline="middle",!0):!1}}let I=[-1,-1,1,1],J=[-1,1,-1,1];function he(Bt,tn,bt,ve){let Le=Bt.width,_e=Bt.height,ce=tn[0],tt=tn[1],Ke=Bt.bitmap();return function(re){let Oe=re.datum.datum.items[ve].items,nt=Oe.length,ft=re.datum.fontSize,Ot=e.textMetrics.width(re.datum,re.datum.text),Yt=[],Gt=bt?ft:0,fn=!1,gn=!1,yn=0,Lt,un,Mn,tr,Rn,Ne,ze,De,Pt,mt,xt,rn;for(let Qt=0;Qt<nt;++Qt){for(Lt=Oe[Qt].x,Mn=Oe[Qt].y,un=Oe[Qt].x2===void 0?Lt:Oe[Qt].x2,tr=Oe[Qt].y2===void 0?Mn:Oe[Qt].y2,Yt.push([Bt((Lt+un)/2),Bt((Mn+tr)/2)]);Yt.length;)if([ze,De]=Yt.pop(),!(ce.get(ze,De)||tt.get(ze,De)||Ke.get(ze,De))){Ke.set(ze,De);for(let Fn=0;Fn<4;++Fn)Rn=ze+I[Fn],Ne=De+J[Fn],Ke.outOfBounds(Rn,Ne,Rn,Ne)||Yt.push([Rn,Ne]);if(Rn=Bt.invert(ze),Ne=Bt.invert(De),Pt=Gt,mt=_e,!P(Rn,Ne,Ot,ft,Le,_e)&&!G(Bt,Rn,Ne,ft,Ot,Pt,ce,tt)&&!G(Bt,Rn,Ne,ft,Ot,ft,ce,null)){for(;mt-Pt>=1;)xt=(Pt+mt)/2,G(Bt,Rn,Ne,ft,Ot,xt,ce,tt)?mt=xt:Pt=xt;Pt>Gt&&(re.x=Rn,re.y=Ne,Gt=Pt,fn=!0)}}!fn&&!bt&&(rn=Math.abs(un-Lt+tr-Mn),Rn=(Lt+un)/2,Ne=(Mn+tr)/2,rn>=yn&&!P(Rn,Ne,Ot,ft,Le,_e)&&!G(Bt,Rn,Ne,ft,Ot,ft,ce,null)&&(yn=rn,re.x=Rn,re.y=Ne,gn=!0))}return fn||gn?(Rn=Ot/2,Ne=ft/2,ce.setRange(Bt(re.x-Rn),Bt(re.y-Ne),Bt(re.x+Rn),Bt(re.y+Ne)),re.align="center",re.baseline="middle",!0):!1}}let ye=["right","center","left"],He=["bottom","middle","top"];function at(Bt,tn,bt,ve){let Le=Bt.width,_e=Bt.height,ce=tn[0],tt=tn[1],Ke=ve.length;return function(re){let Oe=re.boundary,nt=re.datum.fontSize;if(Oe[2]<0||Oe[5]<0||Oe[0]>Le||Oe[3]>_e)return!1;let ft=re.textWidth??0,Ot,Yt,Gt,fn,gn,yn,Lt,un,Mn,tr,Rn,Ne,ze,De,Pt;for(let mt=0;mt<Ke;++mt){if(Ot=(bt[mt]&3)-1,Yt=(bt[mt]>>>2&3)-1,Gt=Ot===0&&Yt===0||ve[mt]<0,fn=Ot&&Yt?Math.SQRT1_2:1,gn=ve[mt]<0?-1:1,yn=Oe[1+Ot]+ve[mt]*Ot*fn,Rn=Oe[4+Yt]+gn*nt*Yt/2+ve[mt]*Yt*fn,un=Rn-nt/2,Mn=Rn+nt/2,Ne=Bt(yn),De=Bt(un),Pt=Bt(Mn),!ft)if(ct(Ne,Ne,De,Pt,ce,tt,yn,yn,un,Mn,Oe,Gt))ft=e.textMetrics.width(re.datum,re.datum.text);else continue;if(tr=yn+gn*ft*Ot/2,yn=tr-ft/2,Lt=tr+ft/2,Ne=Bt(yn),ze=Bt(Lt),ct(Ne,ze,De,Pt,ce,tt,yn,Lt,un,Mn,Oe,Gt))return re.x=Ot?Ot*gn<0?Lt:yn:tr,re.y=Yt?Yt*gn<0?Mn:un:Rn,re.align=ye[Ot*gn+1],re.baseline=He[Yt*gn+1],ce.setRange(Ne,De,ze,Pt),!0}return!1}}function ct(Bt,tn,bt,ve,Le,_e,ce,tt,Ke,re,Oe,nt){return!(Le.outOfBounds(Bt,bt,tn,ve)||(nt&&_e||Le).getRange(Bt,bt,tn,ve))}let Ze=0,Et=4,Mt=8,qe=0,te=1,et=2,be={"top-left":Ze+qe,top:Ze+te,"top-right":Ze+et,left:Et+qe,middle:Et+te,right:Et+et,"bottom-left":Mt+qe,bottom:Mt+te,"bottom-right":Mt+et},ke={naive:B,"reduced-search":ue,floodfill:he};function we(Bt,tn,bt,ve,Le,_e,ce,tt,Ke,re,Oe){if(!Bt.length)return Bt;let nt=Math.max(ve.length,Le.length),ft=pe(ve,nt),Ot=Je(Le,nt),Yt=lt(Bt[0].datum),Gt=Yt==="group"&&Bt[0].datum.items[Ke].marktype,fn=Gt==="area",gn=Ht(Yt,Gt,tt,Ke),yn=re===null||re===1/0,Lt=fn&&Oe==="naive",un=-1,Mn=-1,tr=Bt.map(De=>{let Pt=yn?e.textMetrics.width(De,De.text):void 0;return un=Math.max(un,Pt),Mn=Math.max(Mn,De.fontSize),{datum:De,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:gn(De),textWidth:Pt}});re=re===null||re===1/0?Math.max(un,Mn)+Math.max(...ve):re;let Rn=L(tn[0],tn[1],re),Ne;if(!Lt){bt&&tr.sort((mt,xt)=>bt(mt.datum,xt.datum));let De=!1;for(let mt=0;mt<Ot.length&&!De;++mt)De=Ot[mt]===5||ft[mt]<0;let Pt=(Yt&&ce||fn)&&Bt.map(mt=>mt.datum);Ne=_e.length||Pt?a(Rn,Pt||[],_e,De,fn):o(Rn,ce&&tr)}let ze=fn?ke[Oe](Rn,Ne,ce,Ke):at(Rn,Ne,Ot,ft);return tr.forEach(De=>De.opacity=+ze(De)),tr}function pe(Bt,tn){let bt=new Float64Array(tn),ve=Bt.length;for(let Le=0;Le<ve;++Le)bt[Le]=Bt[Le]||0;for(let Le=ve;Le<tn;++Le)bt[Le]=bt[ve-1];return bt}function Je(Bt,tn){let bt=new Int8Array(tn),ve=Bt.length;for(let Le=0;Le<ve;++Le)bt[Le]|=be[Bt[Le]];for(let Le=ve;Le<tn;++Le)bt[Le]=bt[ve-1];return bt}function lt(Bt){return Bt&&Bt.mark&&Bt.mark.marktype}function Ht(Bt,tn,bt,ve){let Le=_e=>[_e.x,_e.x,_e.x,_e.y,_e.y,_e.y];return Bt?Bt==="line"||Bt==="area"?_e=>Le(_e.datum):tn==="line"?_e=>{let ce=_e.datum.items[ve].items;return Le(ce.length?ce[bt==="start"?0:ce.length-1]:{x:NaN,y:NaN})}:_e=>{let ce=_e.datum.bounds;return[ce.x1,(ce.x1+ce.x2)/2,ce.x2,ce.y1,(ce.y1+ce.y2)/2,ce.y2]}:Le}let Ct=["x","y","opacity","align","baseline"],mn=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function kt(Bt){r.Transform.call(this,null,Bt)}kt.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:mn},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Ct.length,default:Ct}]},i.inherits(kt,r.Transform,{transform(Bt,tn){function bt(_e){let ce=Bt[_e];return i.isFunction(ce)&&tn.modified(ce.fields)}let ve=Bt.modified();if(!(ve||tn.changed(tn.ADD_REM)||bt("sort")))return;(!Bt.size||Bt.size.length!==2)&&i.error("Size parameter should be specified as a [width, height] array.");let Le=Bt.as||Ct;return we(tn.materialize(tn.SOURCE).source||[],Bt.size,Bt.sort,i.array(Bt.offset==null?1:Bt.offset),i.array(Bt.anchor||mn),Bt.avoidMarks||[],Bt.avoidBaseMark!==!1,Bt.lineAnchor||"end",Bt.markIndex||0,Bt.padding===void 0?0:Bt.padding,Bt.method||"naive").forEach(_e=>{let ce=_e.datum;ce[Le[0]]=_e.x,ce[Le[1]]=_e.y,ce[Le[2]]=_e.opacity,ce[Le[3]]=_e.align,ce[Le[4]]=_e.baseline}),tn.reflow(ve).modifies(Le)}}),n.label=kt,Object.defineProperty(n,"__esModule",{value:!0})})});var QDe=Ae((gV,WDe)=>{m();(function(n,e){typeof gV=="object"&&typeof WDe!="undefined"?e(gV,dE(),s0(),Tu()):typeof define=="function"&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega))})(gV,function(n,e,t,r){"use strict";function i(f,p){var _=[],E=function(P){return P(z)},O,R,q,z,L,B;if(p==null)_.push(f);else for(O={},R=0,q=f.length;R<q;++R)z=f[R],L=p.map(E),B=O[L],B||(O[L]=B=[],B.dims=L,_.push(B)),B.push(z);return _}function s(f){t.Transform.call(this,null,f)}s.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},r.inherits(s,t.Transform,{transform(f,p){let _=p.fork(p.NO_SOURCE|p.NO_FIELDS);if(!this.value||p.changed()||f.modified()){let E=p.materialize(p.SOURCE).source,O=i(E,f.groupby),R=(f.groupby||[]).map(r.accessorName),q=R.length,z=f.as||[r.accessorName(f.x),r.accessorName(f.y)],L=[];O.forEach(B=>{e.regressionLoess(B,f.x,f.y,f.bandwidth||.3).forEach(P=>{let G={};for(let ue=0;ue<q;++ue)G[R[ue]]=B.dims[ue];G[z[0]]=P[0],G[z[1]]=P[1],L.push(t.ingest(G))})}),this.value&&(_.rem=this.value),this.value=_.add=_.source=L}return _}});let o={linear:e.regressionLinear,log:e.regressionLog,exp:e.regressionExp,pow:e.regressionPow,quad:e.regressionQuad,poly:e.regressionPoly},a=(f,p)=>f==="poly"?p:f==="quad"?2:1;function l(f){t.Transform.call(this,null,f)}l.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(o)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},r.inherits(l,t.Transform,{transform(f,p){let _=p.fork(p.NO_SOURCE|p.NO_FIELDS);if(!this.value||p.changed()||f.modified()){let E=p.materialize(p.SOURCE).source,O=i(E,f.groupby),R=(f.groupby||[]).map(r.accessorName),q=f.method||"linear",z=f.order||3,L=a(q,z),B=f.as||[r.accessorName(f.x),r.accessorName(f.y)],P=o[q],G=[],ue=f.extent;r.hasOwnProperty(o,q)||r.error("Invalid regression method: "+q),ue!=null&&q==="log"&&ue[0]<=0&&(p.dataflow.warn("Ignoring extent with values <= 0 for log regression."),ue=null),O.forEach(I=>{if(I.length<=L){p.dataflow.warn("Skipping regression with more parameters than data points.");return}let he=P(I,f.x,f.y,z);if(f.params){G.push(t.ingest({keys:I.dims,coef:he.coef,rSquared:he.rSquared}));return}let ye=ue||r.extent(I,f.x),He=at=>{let ct={};for(let Ze=0;Ze<R.length;++Ze)ct[R[Ze]]=I.dims[Ze];ct[B[0]]=at[0],ct[B[1]]=at[1],G.push(t.ingest(ct))};q==="linear"?ye.forEach(at=>He([at,he.predict(at)])):e.sampleCurve(he.predict,ye,25,200).forEach(He)}),this.value&&(_.rem=this.value),this.value=_.add=_.source=G}return _}}),n.loess=s,n.regression=l,Object.defineProperty(n,"__esModule",{value:!0})})});var YDe=Ae((yV,GDe)=>{m();(function(n,e){typeof yV=="object"&&typeof GDe!="undefined"?e(yV,s0(),Tu()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega))})(yV,function(n,e,t){"use strict";let r=11102230246251565e-32,i=134217729,s=(3+8*r)*r;function o(bt,ve,Le,_e,ce){let tt,Ke,re,Oe,nt=ve[0],ft=_e[0],Ot=0,Yt=0;ft>nt==ft>-nt?(tt=nt,nt=ve[++Ot]):(tt=ft,ft=_e[++Yt]);let Gt=0;if(Ot<bt&&Yt<Le)for(ft>nt==ft>-nt?(Ke=nt+tt,re=tt-(Ke-nt),nt=ve[++Ot]):(Ke=ft+tt,re=tt-(Ke-ft),ft=_e[++Yt]),tt=Ke,re!==0&&(ce[Gt++]=re);Ot<bt&&Yt<Le;)ft>nt==ft>-nt?(Ke=tt+nt,Oe=Ke-tt,re=tt-(Ke-Oe)+(nt-Oe),nt=ve[++Ot]):(Ke=tt+ft,Oe=Ke-tt,re=tt-(Ke-Oe)+(ft-Oe),ft=_e[++Yt]),tt=Ke,re!==0&&(ce[Gt++]=re);for(;Ot<bt;)Ke=tt+nt,Oe=Ke-tt,re=tt-(Ke-Oe)+(nt-Oe),nt=ve[++Ot],tt=Ke,re!==0&&(ce[Gt++]=re);for(;Yt<Le;)Ke=tt+ft,Oe=Ke-tt,re=tt-(Ke-Oe)+(ft-Oe),ft=_e[++Yt],tt=Ke,re!==0&&(ce[Gt++]=re);return(tt!==0||Gt===0)&&(ce[Gt++]=tt),Gt}function a(bt,ve){let Le=ve[0];for(let _e=1;_e<bt;_e++)Le+=ve[_e];return Le}function l(bt){return new Float64Array(bt)}let f=(3+16*r)*r,p=(2+12*r)*r,_=(9+64*r)*r*r,E=l(4),O=l(8),R=l(12),q=l(16),z=l(4);function L(bt,ve,Le,_e,ce,tt,Ke){let re,Oe,nt,ft,Ot,Yt,Gt,fn,gn,yn,Lt,un,Mn,tr,Rn,Ne,ze,De,Pt=bt-ce,mt=Le-ce,xt=ve-tt,rn=_e-tt;tr=Pt*rn,Yt=i*Pt,Gt=Yt-(Yt-Pt),fn=Pt-Gt,Yt=i*rn,gn=Yt-(Yt-rn),yn=rn-gn,Rn=fn*yn-(tr-Gt*gn-fn*gn-Gt*yn),Ne=xt*mt,Yt=i*xt,Gt=Yt-(Yt-xt),fn=xt-Gt,Yt=i*mt,gn=Yt-(Yt-mt),yn=mt-gn,ze=fn*yn-(Ne-Gt*gn-fn*gn-Gt*yn),Lt=Rn-ze,Ot=Rn-Lt,E[0]=Rn-(Lt+Ot)+(Ot-ze),un=tr+Lt,Ot=un-tr,Mn=tr-(un-Ot)+(Lt-Ot),Lt=Mn-Ne,Ot=Mn-Lt,E[1]=Mn-(Lt+Ot)+(Ot-Ne),De=un+Lt,Ot=De-un,E[2]=un-(De-Ot)+(Lt-Ot),E[3]=De;let Qt=a(4,E),Fn=p*Ke;if(Qt>=Fn||-Qt>=Fn||(Ot=bt-Pt,re=bt-(Pt+Ot)+(Ot-ce),Ot=Le-mt,nt=Le-(mt+Ot)+(Ot-ce),Ot=ve-xt,Oe=ve-(xt+Ot)+(Ot-tt),Ot=_e-rn,ft=_e-(rn+Ot)+(Ot-tt),re===0&&Oe===0&&nt===0&&ft===0)||(Fn=_*Ke+s*Math.abs(Qt),Qt+=Pt*ft+rn*re-(xt*nt+mt*Oe),Qt>=Fn||-Qt>=Fn))return Qt;tr=re*rn,Yt=i*re,Gt=Yt-(Yt-re),fn=re-Gt,Yt=i*rn,gn=Yt-(Yt-rn),yn=rn-gn,Rn=fn*yn-(tr-Gt*gn-fn*gn-Gt*yn),Ne=Oe*mt,Yt=i*Oe,Gt=Yt-(Yt-Oe),fn=Oe-Gt,Yt=i*mt,gn=Yt-(Yt-mt),yn=mt-gn,ze=fn*yn-(Ne-Gt*gn-fn*gn-Gt*yn),Lt=Rn-ze,Ot=Rn-Lt,z[0]=Rn-(Lt+Ot)+(Ot-ze),un=tr+Lt,Ot=un-tr,Mn=tr-(un-Ot)+(Lt-Ot),Lt=Mn-Ne,Ot=Mn-Lt,z[1]=Mn-(Lt+Ot)+(Ot-Ne),De=un+Lt,Ot=De-un,z[2]=un-(De-Ot)+(Lt-Ot),z[3]=De;let Wn=o(4,E,4,z,O);tr=Pt*ft,Yt=i*Pt,Gt=Yt-(Yt-Pt),fn=Pt-Gt,Yt=i*ft,gn=Yt-(Yt-ft),yn=ft-gn,Rn=fn*yn-(tr-Gt*gn-fn*gn-Gt*yn),Ne=xt*nt,Yt=i*xt,Gt=Yt-(Yt-xt),fn=xt-Gt,Yt=i*nt,gn=Yt-(Yt-nt),yn=nt-gn,ze=fn*yn-(Ne-Gt*gn-fn*gn-Gt*yn),Lt=Rn-ze,Ot=Rn-Lt,z[0]=Rn-(Lt+Ot)+(Ot-ze),un=tr+Lt,Ot=un-tr,Mn=tr-(un-Ot)+(Lt-Ot),Lt=Mn-Ne,Ot=Mn-Lt,z[1]=Mn-(Lt+Ot)+(Ot-Ne),De=un+Lt,Ot=De-un,z[2]=un-(De-Ot)+(Lt-Ot),z[3]=De;let Zn=o(Wn,O,4,z,R);tr=re*ft,Yt=i*re,Gt=Yt-(Yt-re),fn=re-Gt,Yt=i*ft,gn=Yt-(Yt-ft),yn=ft-gn,Rn=fn*yn-(tr-Gt*gn-fn*gn-Gt*yn),Ne=Oe*nt,Yt=i*Oe,Gt=Yt-(Yt-Oe),fn=Oe-Gt,Yt=i*nt,gn=Yt-(Yt-nt),yn=nt-gn,ze=fn*yn-(Ne-Gt*gn-fn*gn-Gt*yn),Lt=Rn-ze,Ot=Rn-Lt,z[0]=Rn-(Lt+Ot)+(Ot-ze),un=tr+Lt,Ot=un-tr,Mn=tr-(un-Ot)+(Lt-Ot),Lt=Mn-Ne,Ot=Mn-Lt,z[1]=Mn-(Lt+Ot)+(Ot-Ne),De=un+Lt,Ot=De-un,z[2]=un-(De-Ot)+(Lt-Ot),z[3]=De;let Nn=o(Zn,R,4,z,q);return q[Nn-1]}function B(bt,ve,Le,_e,ce,tt){let Ke=(ve-tt)*(Le-ce),re=(bt-ce)*(_e-tt),Oe=Ke-re;if(Ke===0||re===0||Ke>0!=re>0)return Oe;let nt=Math.abs(Ke+re);return Math.abs(Oe)>=f*nt?Oe:-L(bt,ve,Le,_e,ce,tt,nt)}let P=Math.pow(2,-52),G=new Uint32Array(512);class ue{static from(ve,Le=Ze,_e=Et){let ce=ve.length,tt=new Float64Array(ce*2);for(let Ke=0;Ke<ce;Ke++){let re=ve[Ke];tt[2*Ke]=Le(re),tt[2*Ke+1]=_e(re)}return new ue(tt)}constructor(ve){let Le=ve.length>>1;if(Le>0&&typeof ve[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=ve;let _e=Math.max(2*Le-5,0);this._triangles=new Uint32Array(_e*3),this._halfedges=new Int32Array(_e*3),this._hashSize=Math.ceil(Math.sqrt(Le)),this._hullPrev=new Uint32Array(Le),this._hullNext=new Uint32Array(Le),this._hullTri=new Uint32Array(Le),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(Le),this._dists=new Float64Array(Le),this.update()}update(){let{coords:ve,_hullPrev:Le,_hullNext:_e,_hullTri:ce,_hullHash:tt}=this,Ke=ve.length>>1,re=1/0,Oe=1/0,nt=-1/0,ft=-1/0;for(let mt=0;mt<Ke;mt++){let xt=ve[2*mt],rn=ve[2*mt+1];xt<re&&(re=xt),rn<Oe&&(Oe=rn),xt>nt&&(nt=xt),rn>ft&&(ft=rn),this._ids[mt]=mt}let Ot=(re+nt)/2,Yt=(Oe+ft)/2,Gt=1/0,fn,gn,yn;for(let mt=0;mt<Ke;mt++){let xt=J(Ot,Yt,ve[2*mt],ve[2*mt+1]);xt<Gt&&(fn=mt,Gt=xt)}let Lt=ve[2*fn],un=ve[2*fn+1];Gt=1/0;for(let mt=0;mt<Ke;mt++){if(mt===fn)continue;let xt=J(Lt,un,ve[2*mt],ve[2*mt+1]);xt<Gt&&xt>0&&(gn=mt,Gt=xt)}let Mn=ve[2*gn],tr=ve[2*gn+1],Rn=1/0;for(let mt=0;mt<Ke;mt++){if(mt===fn||mt===gn)continue;let xt=ye(Lt,un,Mn,tr,ve[2*mt],ve[2*mt+1]);xt<Rn&&(yn=mt,Rn=xt)}let Ne=ve[2*yn],ze=ve[2*yn+1];if(Rn===1/0){for(let rn=0;rn<Ke;rn++)this._dists[rn]=ve[2*rn]-ve[0]||ve[2*rn+1]-ve[1];at(this._ids,this._dists,0,Ke-1);let mt=new Uint32Array(Ke),xt=0;for(let rn=0,Qt=-1/0;rn<Ke;rn++){let Fn=this._ids[rn];this._dists[Fn]>Qt&&(mt[xt++]=Fn,Qt=this._dists[Fn])}this.hull=mt.subarray(0,xt),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(B(Lt,un,Mn,tr,Ne,ze)<0){let mt=gn,xt=Mn,rn=tr;gn=yn,Mn=Ne,tr=ze,yn=mt,Ne=xt,ze=rn}let De=He(Lt,un,Mn,tr,Ne,ze);this._cx=De.x,this._cy=De.y;for(let mt=0;mt<Ke;mt++)this._dists[mt]=J(ve[2*mt],ve[2*mt+1],De.x,De.y);at(this._ids,this._dists,0,Ke-1),this._hullStart=fn;let Pt=3;_e[fn]=Le[yn]=gn,_e[gn]=Le[fn]=yn,_e[yn]=Le[gn]=fn,ce[fn]=0,ce[gn]=1,ce[yn]=2,tt.fill(-1),tt[this._hashKey(Lt,un)]=fn,tt[this._hashKey(Mn,tr)]=gn,tt[this._hashKey(Ne,ze)]=yn,this.trianglesLen=0,this._addTriangle(fn,gn,yn,-1,-1,-1);for(let mt=0,xt,rn;mt<this._ids.length;mt++){let Qt=this._ids[mt],Fn=ve[2*Qt],Wn=ve[2*Qt+1];if(mt>0&&Math.abs(Fn-xt)<=P&&Math.abs(Wn-rn)<=P||(xt=Fn,rn=Wn,Qt===fn||Qt===gn||Qt===yn))continue;let Zn=0;for(let oe=0,Be=this._hashKey(Fn,Wn);oe<this._hashSize&&(Zn=tt[(Be+oe)%this._hashSize],!(Zn!==-1&&Zn!==_e[Zn]));oe++);Zn=Le[Zn];let Nn=Zn,nr;for(;nr=_e[Nn],B(Fn,Wn,ve[2*Nn],ve[2*Nn+1],ve[2*nr],ve[2*nr+1])>=0;)if(Nn=nr,Nn===Zn){Nn=-1;break}if(Nn===-1)continue;let Ye=this._addTriangle(Nn,Qt,_e[Nn],-1,-1,ce[Nn]);ce[Qt]=this._legalize(Ye+2),ce[Nn]=Ye,Pt++;let vt=_e[Nn];for(;nr=_e[vt],B(Fn,Wn,ve[2*vt],ve[2*vt+1],ve[2*nr],ve[2*nr+1])<0;)Ye=this._addTriangle(vt,Qt,nr,ce[Qt],-1,ce[vt]),ce[Qt]=this._legalize(Ye+2),_e[vt]=vt,Pt--,vt=nr;if(Nn===Zn)for(;nr=Le[Nn],B(Fn,Wn,ve[2*nr],ve[2*nr+1],ve[2*Nn],ve[2*Nn+1])<0;)Ye=this._addTriangle(nr,Qt,Nn,-1,ce[Nn],ce[nr]),this._legalize(Ye+2),ce[nr]=Ye,_e[Nn]=Nn,Pt--,Nn=nr;this._hullStart=Le[Qt]=Nn,_e[Nn]=Le[vt]=Qt,_e[Qt]=vt,tt[this._hashKey(Fn,Wn)]=Qt,tt[this._hashKey(ve[2*Nn],ve[2*Nn+1])]=Nn}this.hull=new Uint32Array(Pt);for(let mt=0,xt=this._hullStart;mt<Pt;mt++)this.hull[mt]=xt,xt=_e[xt];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(ve,Le){return Math.floor(I(ve-this._cx,Le-this._cy)*this._hashSize)%this._hashSize}_legalize(ve){let{_triangles:Le,_halfedges:_e,coords:ce}=this,tt=0,Ke=0;for(;;){let re=_e[ve],Oe=ve-ve%3;if(Ke=Oe+(ve+2)%3,re===-1){if(tt===0)break;ve=G[--tt];continue}let nt=re-re%3,ft=Oe+(ve+1)%3,Ot=nt+(re+2)%3,Yt=Le[Ke],Gt=Le[ve],fn=Le[ft],gn=Le[Ot];if(he(ce[2*Yt],ce[2*Yt+1],ce[2*Gt],ce[2*Gt+1],ce[2*fn],ce[2*fn+1],ce[2*gn],ce[2*gn+1])){Le[ve]=gn,Le[re]=Yt;let Lt=_e[Ot];if(Lt===-1){let Mn=this._hullStart;do{if(this._hullTri[Mn]===Ot){this._hullTri[Mn]=ve;break}Mn=this._hullPrev[Mn]}while(Mn!==this._hullStart)}this._link(ve,Lt),this._link(re,_e[Ke]),this._link(Ke,Ot);let un=nt+(re+1)%3;tt<G.length&&(G[tt++]=un)}else{if(tt===0)break;ve=G[--tt]}}return Ke}_link(ve,Le){this._halfedges[ve]=Le,Le!==-1&&(this._halfedges[Le]=ve)}_addTriangle(ve,Le,_e,ce,tt,Ke){let re=this.trianglesLen;return this._triangles[re]=ve,this._triangles[re+1]=Le,this._triangles[re+2]=_e,this._link(re,ce),this._link(re+1,tt),this._link(re+2,Ke),this.trianglesLen+=3,re}}function I(bt,ve){let Le=bt/(Math.abs(bt)+Math.abs(ve));return(ve>0?3-Le:1+Le)/4}function J(bt,ve,Le,_e){let ce=bt-Le,tt=ve-_e;return ce*ce+tt*tt}function he(bt,ve,Le,_e,ce,tt,Ke,re){let Oe=bt-Ke,nt=ve-re,ft=Le-Ke,Ot=_e-re,Yt=ce-Ke,Gt=tt-re,fn=Oe*Oe+nt*nt,gn=ft*ft+Ot*Ot,yn=Yt*Yt+Gt*Gt;return Oe*(Ot*yn-gn*Gt)-nt*(ft*yn-gn*Yt)+fn*(ft*Gt-Ot*Yt)<0}function ye(bt,ve,Le,_e,ce,tt){let Ke=Le-bt,re=_e-ve,Oe=ce-bt,nt=tt-ve,ft=Ke*Ke+re*re,Ot=Oe*Oe+nt*nt,Yt=.5/(Ke*nt-re*Oe),Gt=(nt*ft-re*Ot)*Yt,fn=(Ke*Ot-Oe*ft)*Yt;return Gt*Gt+fn*fn}function He(bt,ve,Le,_e,ce,tt){let Ke=Le-bt,re=_e-ve,Oe=ce-bt,nt=tt-ve,ft=Ke*Ke+re*re,Ot=Oe*Oe+nt*nt,Yt=.5/(Ke*nt-re*Oe),Gt=bt+(nt*ft-re*Ot)*Yt,fn=ve+(Ke*Ot-Oe*ft)*Yt;return{x:Gt,y:fn}}function at(bt,ve,Le,_e){if(_e-Le<=20)for(let ce=Le+1;ce<=_e;ce++){let tt=bt[ce],Ke=ve[tt],re=ce-1;for(;re>=Le&&ve[bt[re]]>Ke;)bt[re+1]=bt[re--];bt[re+1]=tt}else{let ce=Le+_e>>1,tt=Le+1,Ke=_e;ct(bt,ce,tt),ve[bt[Le]]>ve[bt[_e]]&&ct(bt,Le,_e),ve[bt[tt]]>ve[bt[_e]]&&ct(bt,tt,_e),ve[bt[Le]]>ve[bt[tt]]&&ct(bt,Le,tt);let re=bt[tt],Oe=ve[re];for(;;){do tt++;while(ve[bt[tt]]<Oe);do Ke--;while(ve[bt[Ke]]>Oe);if(Ke<tt)break;ct(bt,tt,Ke)}bt[Le+1]=bt[Ke],bt[Ke]=re,_e-tt+1>=Ke-Le?(at(bt,ve,tt,_e),at(bt,ve,Le,Ke-1)):(at(bt,ve,Le,Ke-1),at(bt,ve,tt,_e))}}function ct(bt,ve,Le){let _e=bt[ve];bt[ve]=bt[Le],bt[Le]=_e}function Ze(bt){return bt[0]}function Et(bt){return bt[1]}let Mt=1e-6;class qe{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(ve,Le){this._+=`M${this._x0=this._x1=+ve},${this._y0=this._y1=+Le}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(ve,Le){this._+=`L${this._x1=+ve},${this._y1=+Le}`}arc(ve,Le,_e){ve=+ve,Le=+Le,_e=+_e;let ce=ve+_e,tt=Le;if(_e<0)throw new Error("negative radius");this._x1===null?this._+=`M${ce},${tt}`:(Math.abs(this._x1-ce)>Mt||Math.abs(this._y1-tt)>Mt)&&(this._+="L"+ce+","+tt),!!_e&&(this._+=`A${_e},${_e},0,1,1,${ve-_e},${Le}A${_e},${_e},0,1,1,${this._x1=ce},${this._y1=tt}`)}rect(ve,Le,_e,ce){this._+=`M${this._x0=this._x1=+ve},${this._y0=this._y1=+Le}h${+_e}v${+ce}h${-_e}Z`}value(){return this._||null}}class te{constructor(){this._=[]}moveTo(ve,Le){this._.push([ve,Le])}closePath(){this._.push(this._[0].slice())}lineTo(ve,Le){this._.push([ve,Le])}value(){return this._.length?this._:null}}class et{constructor(ve,[Le,_e,ce,tt]=[0,0,960,500]){if(!((ce=+ce)>=(Le=+Le))||!((tt=+tt)>=(_e=+_e)))throw new Error("invalid bounds");this.delaunay=ve,this._circumcenters=new Float64Array(ve.points.length*2),this.vectors=new Float64Array(ve.points.length*2),this.xmax=ce,this.xmin=Le,this.ymax=tt,this.ymin=_e,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:ve,hull:Le,triangles:_e},vectors:ce}=this,tt=this.circumcenters=this._circumcenters.subarray(0,_e.length/3*2);for(let Gt=0,fn=0,gn=_e.length,yn,Lt;Gt<gn;Gt+=3,fn+=2){let un=_e[Gt]*2,Mn=_e[Gt+1]*2,tr=_e[Gt+2]*2,Rn=ve[un],Ne=ve[un+1],ze=ve[Mn],De=ve[Mn+1],Pt=ve[tr],mt=ve[tr+1],xt=ze-Rn,rn=De-Ne,Qt=Pt-Rn,Fn=mt-Ne,Wn=(xt*Fn-rn*Qt)*2;if(Math.abs(Wn)<1e-9){let Zn=1e9,Nn=_e[0]*2;Zn*=Math.sign((ve[Nn]-Rn)*Fn-(ve[Nn+1]-Ne)*Qt),yn=(Rn+Pt)/2-Zn*Fn,Lt=(Ne+mt)/2+Zn*Qt}else{let Zn=1/Wn,Nn=xt*xt+rn*rn,nr=Qt*Qt+Fn*Fn;yn=Rn+(Fn*Nn-rn*nr)*Zn,Lt=Ne+(xt*nr-Qt*Nn)*Zn}tt[fn]=yn,tt[fn+1]=Lt}let Ke=Le[Le.length-1],re,Oe=Ke*4,nt,ft=ve[2*Ke],Ot,Yt=ve[2*Ke+1];ce.fill(0);for(let Gt=0;Gt<Le.length;++Gt)Ke=Le[Gt],re=Oe,nt=ft,Ot=Yt,Oe=Ke*4,ft=ve[2*Ke],Yt=ve[2*Ke+1],ce[re+2]=ce[Oe]=Ot-Yt,ce[re+3]=ce[Oe+1]=ft-nt}render(ve){let Le=ve==null?ve=new qe:void 0,{delaunay:{halfedges:_e,inedges:ce,hull:tt},circumcenters:Ke,vectors:re}=this;if(tt.length<=1)return null;for(let ft=0,Ot=_e.length;ft<Ot;++ft){let Yt=_e[ft];if(Yt<ft)continue;let Gt=Math.floor(ft/3)*2,fn=Math.floor(Yt/3)*2,gn=Ke[Gt],yn=Ke[Gt+1],Lt=Ke[fn],un=Ke[fn+1];this._renderSegment(gn,yn,Lt,un,ve)}let Oe,nt=tt[tt.length-1];for(let ft=0;ft<tt.length;++ft){Oe=nt,nt=tt[ft];let Ot=Math.floor(ce[nt]/3)*2,Yt=Ke[Ot],Gt=Ke[Ot+1],fn=Oe*4,gn=this._project(Yt,Gt,re[fn+2],re[fn+3]);gn&&this._renderSegment(Yt,Gt,gn[0],gn[1],ve)}return Le&&Le.value()}renderBounds(ve){let Le=ve==null?ve=new qe:void 0;return ve.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),Le&&Le.value()}renderCell(ve,Le){let _e=Le==null?Le=new qe:void 0,ce=this._clip(ve);if(ce===null||!ce.length)return;Le.moveTo(ce[0],ce[1]);let tt=ce.length;for(;ce[0]===ce[tt-2]&&ce[1]===ce[tt-1]&&tt>1;)tt-=2;for(let Ke=2;Ke<tt;Ke+=2)(ce[Ke]!==ce[Ke-2]||ce[Ke+1]!==ce[Ke-1])&&Le.lineTo(ce[Ke],ce[Ke+1]);return Le.closePath(),_e&&_e.value()}*cellPolygons(){let{delaunay:{points:ve}}=this;for(let Le=0,_e=ve.length/2;Le<_e;++Le){let ce=this.cellPolygon(Le);ce&&(ce.index=Le,yield ce)}}cellPolygon(ve){let Le=new te;return this.renderCell(ve,Le),Le.value()}_renderSegment(ve,Le,_e,ce,tt){let Ke,re=this._regioncode(ve,Le),Oe=this._regioncode(_e,ce);re===0&&Oe===0?(tt.moveTo(ve,Le),tt.lineTo(_e,ce)):(Ke=this._clipSegment(ve,Le,_e,ce,re,Oe))&&(tt.moveTo(Ke[0],Ke[1]),tt.lineTo(Ke[2],Ke[3]))}contains(ve,Le,_e){return Le=+Le,Le!==Le||(_e=+_e,_e!==_e)?!1:this.delaunay._step(ve,Le,_e)===ve}*neighbors(ve){let Le=this._clip(ve);if(Le)for(let _e of this.delaunay.neighbors(ve)){let ce=this._clip(_e);if(ce)e:for(let tt=0,Ke=Le.length;tt<Ke;tt+=2)for(let re=0,Oe=ce.length;re<Oe;re+=2)if(Le[tt]==ce[re]&&Le[tt+1]==ce[re+1]&&Le[(tt+2)%Ke]==ce[(re+Oe-2)%Oe]&&Le[(tt+3)%Ke]==ce[(re+Oe-1)%Oe]){yield _e;break e}}}_cell(ve){let{circumcenters:Le,delaunay:{inedges:_e,halfedges:ce,triangles:tt}}=this,Ke=_e[ve];if(Ke===-1)return null;let re=[],Oe=Ke;do{let nt=Math.floor(Oe/3);if(re.push(Le[nt*2],Le[nt*2+1]),Oe=Oe%3===2?Oe-2:Oe+1,tt[Oe]!==ve)break;Oe=ce[Oe]}while(Oe!==Ke&&Oe!==-1);return re}_clip(ve){if(ve===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let Le=this._cell(ve);if(Le===null)return null;let{vectors:_e}=this,ce=ve*4;return _e[ce]||_e[ce+1]?this._clipInfinite(ve,Le,_e[ce],_e[ce+1],_e[ce+2],_e[ce+3]):this._clipFinite(ve,Le)}_clipFinite(ve,Le){let _e=Le.length,ce=null,tt,Ke,re=Le[_e-2],Oe=Le[_e-1],nt,ft=this._regioncode(re,Oe),Ot,Yt=0;for(let Gt=0;Gt<_e;Gt+=2)if(tt=re,Ke=Oe,re=Le[Gt],Oe=Le[Gt+1],nt=ft,ft=this._regioncode(re,Oe),nt===0&&ft===0)Ot=Yt,Yt=0,ce?ce.push(re,Oe):ce=[re,Oe];else{let fn,gn,yn,Lt,un;if(nt===0){if((fn=this._clipSegment(tt,Ke,re,Oe,nt,ft))===null)continue;[gn,yn,Lt,un]=fn}else{if((fn=this._clipSegment(re,Oe,tt,Ke,ft,nt))===null)continue;[Lt,un,gn,yn]=fn,Ot=Yt,Yt=this._edgecode(gn,yn),Ot&&Yt&&this._edge(ve,Ot,Yt,ce,ce.length),ce?ce.push(gn,yn):ce=[gn,yn]}Ot=Yt,Yt=this._edgecode(Lt,un),Ot&&Yt&&this._edge(ve,Ot,Yt,ce,ce.length),ce?ce.push(Lt,un):ce=[Lt,un]}if(ce)Ot=Yt,Yt=this._edgecode(ce[0],ce[1]),Ot&&Yt&&this._edge(ve,Ot,Yt,ce,ce.length);else if(this.contains(ve,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return ce}_clipSegment(ve,Le,_e,ce,tt,Ke){for(;;){if(tt===0&&Ke===0)return[ve,Le,_e,ce];if(tt&Ke)return null;let re,Oe,nt=tt||Ke;nt&8?(re=ve+(_e-ve)*(this.ymax-Le)/(ce-Le),Oe=this.ymax):nt&4?(re=ve+(_e-ve)*(this.ymin-Le)/(ce-Le),Oe=this.ymin):nt&2?(Oe=Le+(ce-Le)*(this.xmax-ve)/(_e-ve),re=this.xmax):(Oe=Le+(ce-Le)*(this.xmin-ve)/(_e-ve),re=this.xmin),tt?(ve=re,Le=Oe,tt=this._regioncode(ve,Le)):(_e=re,ce=Oe,Ke=this._regioncode(_e,ce))}}_clipInfinite(ve,Le,_e,ce,tt,Ke){let re=Array.from(Le),Oe;if((Oe=this._project(re[0],re[1],_e,ce))&&re.unshift(Oe[0],Oe[1]),(Oe=this._project(re[re.length-2],re[re.length-1],tt,Ke))&&re.push(Oe[0],Oe[1]),re=this._clipFinite(ve,re))for(let nt=0,ft=re.length,Ot,Yt=this._edgecode(re[ft-2],re[ft-1]);nt<ft;nt+=2)Ot=Yt,Yt=this._edgecode(re[nt],re[nt+1]),Ot&&Yt&&(nt=this._edge(ve,Ot,Yt,re,nt),ft=re.length);else this.contains(ve,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(re=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return re}_edge(ve,Le,_e,ce,tt){for(;Le!==_e;){let Ke,re;switch(Le){case 5:Le=4;continue;case 4:Le=6,Ke=this.xmax,re=this.ymin;break;case 6:Le=2;continue;case 2:Le=10,Ke=this.xmax,re=this.ymax;break;case 10:Le=8;continue;case 8:Le=9,Ke=this.xmin,re=this.ymax;break;case 9:Le=1;continue;case 1:Le=5,Ke=this.xmin,re=this.ymin;break}(ce[tt]!==Ke||ce[tt+1]!==re)&&this.contains(ve,Ke,re)&&(ce.splice(tt,0,Ke,re),tt+=2)}if(ce.length>4)for(let Ke=0;Ke<ce.length;Ke+=2){let re=(Ke+2)%ce.length,Oe=(Ke+4)%ce.length;(ce[Ke]===ce[re]&&ce[re]===ce[Oe]||ce[Ke+1]===ce[re+1]&&ce[re+1]===ce[Oe+1])&&(ce.splice(re,2),Ke-=2)}return tt}_project(ve,Le,_e,ce){let tt=1/0,Ke,re,Oe;if(ce<0){if(Le<=this.ymin)return null;(Ke=(this.ymin-Le)/ce)<tt&&(Oe=this.ymin,re=ve+(tt=Ke)*_e)}else if(ce>0){if(Le>=this.ymax)return null;(Ke=(this.ymax-Le)/ce)<tt&&(Oe=this.ymax,re=ve+(tt=Ke)*_e)}if(_e>0){if(ve>=this.xmax)return null;(Ke=(this.xmax-ve)/_e)<tt&&(re=this.xmax,Oe=Le+(tt=Ke)*ce)}else if(_e<0){if(ve<=this.xmin)return null;(Ke=(this.xmin-ve)/_e)<tt&&(re=this.xmin,Oe=Le+(tt=Ke)*ce)}return[re,Oe]}_edgecode(ve,Le){return(ve===this.xmin?1:ve===this.xmax?2:0)|(Le===this.ymin?4:Le===this.ymax?8:0)}_regioncode(ve,Le){return(ve<this.xmin?1:ve>this.xmax?2:0)|(Le<this.ymin?4:Le>this.ymax?8:0)}}let be=2*Math.PI,ke=Math.pow;function we(bt){return bt[0]}function pe(bt){return bt[1]}function Je(bt){let{triangles:ve,coords:Le}=bt;for(let _e=0;_e<ve.length;_e+=3){let ce=2*ve[_e],tt=2*ve[_e+1],Ke=2*ve[_e+2];if((Le[Ke]-Le[ce])*(Le[tt+1]-Le[ce+1])-(Le[tt]-Le[ce])*(Le[Ke+1]-Le[ce+1])>1e-10)return!1}return!0}function lt(bt,ve,Le){return[bt+Math.sin(bt+ve)*Le,ve+Math.cos(bt-ve)*Le]}class Ht{static from(ve,Le=we,_e=pe,ce){return new Ht("length"in ve?Ct(ve,Le,_e,ce):Float64Array.from(mn(ve,Le,_e,ce)))}constructor(ve){this._delaunator=new ue(ve),this.inedges=new Int32Array(ve.length/2),this._hullIndex=new Int32Array(ve.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let ve=this._delaunator,Le=this.points;if(ve.hull&&ve.hull.length>2&&Je(ve)){this.collinear=Int32Array.from({length:Le.length/2},(Yt,Gt)=>Gt).sort((Yt,Gt)=>Le[2*Yt]-Le[2*Gt]||Le[2*Yt+1]-Le[2*Gt+1]);let Oe=this.collinear[0],nt=this.collinear[this.collinear.length-1],ft=[Le[2*Oe],Le[2*Oe+1],Le[2*nt],Le[2*nt+1]],Ot=1e-8*Math.hypot(ft[3]-ft[1],ft[2]-ft[0]);for(let Yt=0,Gt=Le.length/2;Yt<Gt;++Yt){let fn=lt(Le[2*Yt],Le[2*Yt+1],Ot);Le[2*Yt]=fn[0],Le[2*Yt+1]=fn[1]}this._delaunator=new ue(Le)}else delete this.collinear;let _e=this.halfedges=this._delaunator.halfedges,ce=this.hull=this._delaunator.hull,tt=this.triangles=this._delaunator.triangles,Ke=this.inedges.fill(-1),re=this._hullIndex.fill(-1);for(let Oe=0,nt=_e.length;Oe<nt;++Oe){let ft=tt[Oe%3===2?Oe-2:Oe+1];(_e[Oe]===-1||Ke[ft]===-1)&&(Ke[ft]=Oe)}for(let Oe=0,nt=ce.length;Oe<nt;++Oe)re[ce[Oe]]=Oe;ce.length<=2&&ce.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=ce[0],Ke[ce[0]]=1,ce.length===2&&(Ke[ce[1]]=0,this.triangles[1]=ce[1],this.triangles[2]=ce[1]))}voronoi(ve){return new et(this,ve)}*neighbors(ve){let{inedges:Le,hull:_e,_hullIndex:ce,halfedges:tt,triangles:Ke,collinear:re}=this;if(re){let Ot=re.indexOf(ve);Ot>0&&(yield re[Ot-1]),Ot<re.length-1&&(yield re[Ot+1]);return}let Oe=Le[ve];if(Oe===-1)return;let nt=Oe,ft=-1;do{if(yield ft=Ke[nt],nt=nt%3===2?nt-2:nt+1,Ke[nt]!==ve)return;if(nt=tt[nt],nt===-1){let Ot=_e[(ce[ve]+1)%_e.length];Ot!==ft&&(yield Ot);return}}while(nt!==Oe)}find(ve,Le,_e=0){if(ve=+ve,ve!==ve||(Le=+Le,Le!==Le))return-1;let ce=_e,tt;for(;(tt=this._step(_e,ve,Le))>=0&&tt!==_e&&tt!==ce;)_e=tt;return tt}_step(ve,Le,_e){let{inedges:ce,hull:tt,_hullIndex:Ke,halfedges:re,triangles:Oe,points:nt}=this;if(ce[ve]===-1||!nt.length)return(ve+1)%(nt.length>>1);let ft=ve,Ot=ke(Le-nt[ve*2],2)+ke(_e-nt[ve*2+1],2),Yt=ce[ve],Gt=Yt;do{let fn=Oe[Gt],gn=ke(Le-nt[fn*2],2)+ke(_e-nt[fn*2+1],2);if(gn<Ot&&(Ot=gn,ft=fn),Gt=Gt%3===2?Gt-2:Gt+1,Oe[Gt]!==ve)break;if(Gt=re[Gt],Gt===-1){if(Gt=tt[(Ke[ve]+1)%tt.length],Gt!==fn&&ke(Le-nt[Gt*2],2)+ke(_e-nt[Gt*2+1],2)<Ot)return Gt;break}}while(Gt!==Yt);return ft}render(ve){let Le=ve==null?ve=new qe:void 0,{points:_e,halfedges:ce,triangles:tt}=this;for(let Ke=0,re=ce.length;Ke<re;++Ke){let Oe=ce[Ke];if(Oe<Ke)continue;let nt=tt[Ke]*2,ft=tt[Oe]*2;ve.moveTo(_e[nt],_e[nt+1]),ve.lineTo(_e[ft],_e[ft+1])}return this.renderHull(ve),Le&&Le.value()}renderPoints(ve,Le){Le===void 0&&(!ve||typeof ve.moveTo!="function")&&(Le=ve,ve=null),Le=Le==null?2:+Le;let _e=ve==null?ve=new qe:void 0,{points:ce}=this;for(let tt=0,Ke=ce.length;tt<Ke;tt+=2){let re=ce[tt],Oe=ce[tt+1];ve.moveTo(re+Le,Oe),ve.arc(re,Oe,Le,0,be)}return _e&&_e.value()}renderHull(ve){let Le=ve==null?ve=new qe:void 0,{hull:_e,points:ce}=this,tt=_e[0]*2,Ke=_e.length;ve.moveTo(ce[tt],ce[tt+1]);for(let re=1;re<Ke;++re){let Oe=2*_e[re];ve.lineTo(ce[Oe],ce[Oe+1])}return ve.closePath(),Le&&Le.value()}hullPolygon(){let ve=new te;return this.renderHull(ve),ve.value()}renderTriangle(ve,Le){let _e=Le==null?Le=new qe:void 0,{points:ce,triangles:tt}=this,Ke=tt[ve*=3]*2,re=tt[ve+1]*2,Oe=tt[ve+2]*2;return Le.moveTo(ce[Ke],ce[Ke+1]),Le.lineTo(ce[re],ce[re+1]),Le.lineTo(ce[Oe],ce[Oe+1]),Le.closePath(),_e&&_e.value()}*trianglePolygons(){let{triangles:ve}=this;for(let Le=0,_e=ve.length/3;Le<_e;++Le)yield this.trianglePolygon(Le)}trianglePolygon(ve){let Le=new te;return this.renderTriangle(ve,Le),Le.value()}}function Ct(bt,ve,Le,_e){let ce=bt.length,tt=new Float64Array(ce*2);for(let Ke=0;Ke<ce;++Ke){let re=bt[Ke];tt[Ke*2]=ve.call(_e,re,Ke,bt),tt[Ke*2+1]=Le.call(_e,re,Ke,bt)}return tt}function*mn(bt,ve,Le,_e){let ce=0;for(let tt of bt)yield ve.call(_e,tt,ce,bt),yield Le.call(_e,tt,ce,bt),++ce}function kt(bt){e.Transform.call(this,null,bt)}kt.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};let Bt=[-1e5,-1e5,1e5,1e5];t.inherits(kt,e.Transform,{transform(bt,ve){let Le=bt.as||"path",_e=ve.source;if(!_e||!_e.length)return ve;let ce=bt.size;ce=ce?[0,0,ce[0],ce[1]]:(ce=bt.extent)?[ce[0][0],ce[0][1],ce[1][0],ce[1][1]]:Bt;let tt=this.value=Ht.from(_e,bt.x,bt.y).voronoi(ce);for(let Ke=0,re=_e.length;Ke<re;++Ke){let Oe=tt.cellPolygon(Ke);_e[Ke][Le]=Oe?tn(Oe):null}return ve.reflow(bt.modified()).modifies(Le)}});function tn(bt){let ve=bt[0][0],Le=bt[0][1],_e=bt.length-1;for(;bt[_e][0]===ve&&bt[_e][1]===Le;--_e);return"M"+bt.slice(0,_e+1).join("L")+"Z"}n.voronoi=kt,Object.defineProperty(n,"__esModule",{value:!0})})});var JDe=Ae((vV,KDe)=>{m();(function(n,e){typeof vV=="object"&&typeof KDe!="undefined"?e(vV,mN(),s0(),Tu(),hE(),dE()):typeof define=="function"&&define.amd?define(["exports","vega-canvas","vega-dataflow","vega-util","vega-scale","vega-statistics"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega,n.vega))})(vV,function(n,e,t,r,i,s){"use strict";var o=Math.PI/180,a=1<<11>>5,l=1<<11;function f(){var I=[256,256],J,he,ye,He,at,ct,Ze,Et=R,Mt=[],qe=Math.random,te={};te.layout=function(){for(var ke=et(e.canvas()),we=z((I[0]>>5)*I[1]),pe=null,Je=Mt.length,lt=-1,Ht=[],Ct=Mt.map(kt=>({text:J(kt),font:he(kt),style:He(kt),weight:at(kt),rotate:ct(kt),size:~~(ye(kt)+1e-14),padding:Ze(kt),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:kt})).sort((kt,Bt)=>Bt.size-kt.size);++lt<Je;){var mn=Ct[lt];mn.x=I[0]*(qe()+.5)>>1,mn.y=I[1]*(qe()+.5)>>1,p(ke,mn,Ct,lt),mn.hasText&&be(we,mn,pe)&&(Ht.push(mn),pe?E(pe,mn):pe=[{x:mn.x+mn.x0,y:mn.y+mn.y0},{x:mn.x+mn.x1,y:mn.y+mn.y1}],mn.x-=I[0]>>1,mn.y-=I[1]>>1)}return Ht};function et(ke){ke.width=ke.height=1;var we=Math.sqrt(ke.getContext("2d").getImageData(0,0,1,1).data.length>>2);ke.width=(a<<5)/we,ke.height=l/we;var pe=ke.getContext("2d");return pe.fillStyle=pe.strokeStyle="red",pe.textAlign="center",{context:pe,ratio:we}}function be(ke,we,pe){for(var Je=we.x,lt=we.y,Ht=Math.sqrt(I[0]*I[0]+I[1]*I[1]),Ct=Et(I),mn=qe()<.5?1:-1,kt=-mn,Bt,tn,bt;(Bt=Ct(kt+=mn))&&(tn=~~Bt[0],bt=~~Bt[1],!(Math.min(Math.abs(tn),Math.abs(bt))>=Ht));)if(we.x=Je+tn,we.y=lt+bt,!(we.x+we.x0<0||we.y+we.y0<0||we.x+we.x1>I[0]||we.y+we.y1>I[1])&&(!pe||!_(we,ke,I[0]))&&(!pe||O(we,pe))){for(var ve=we.sprite,Le=we.width>>5,_e=I[0]>>5,ce=we.x-(Le<<4),tt=ce&127,Ke=32-tt,re=we.y1-we.y0,Oe=(we.y+we.y0)*_e+(ce>>5),nt,ft=0;ft<re;ft++){nt=0;for(var Ot=0;Ot<=Le;Ot++)ke[Oe+Ot]|=nt<<Ke|(Ot<Le?(nt=ve[ft*Le+Ot])>>>tt:0);Oe+=_e}return we.sprite=null,!0}return!1}return te.words=function(ke){return arguments.length?(Mt=ke,te):Mt},te.size=function(ke){return arguments.length?(I=[+ke[0],+ke[1]],te):I},te.font=function(ke){return arguments.length?(he=L(ke),te):he},te.fontStyle=function(ke){return arguments.length?(He=L(ke),te):He},te.fontWeight=function(ke){return arguments.length?(at=L(ke),te):at},te.rotate=function(ke){return arguments.length?(ct=L(ke),te):ct},te.text=function(ke){return arguments.length?(J=L(ke),te):J},te.spiral=function(ke){return arguments.length?(Et=B[ke]||ke,te):Et},te.fontSize=function(ke){return arguments.length?(ye=L(ke),te):ye},te.padding=function(ke){return arguments.length?(Ze=L(ke),te):Ze},te.random=function(ke){return arguments.length?(qe=ke,te):qe},te}function p(I,J,he,ye){if(!J.sprite){var He=I.context,at=I.ratio;He.clearRect(0,0,(a<<5)/at,l/at);var ct=0,Ze=0,Et=0,Mt=he.length,qe,te,et,be,ke;for(--ye;++ye<Mt;){if(J=he[ye],He.save(),He.font=J.style+" "+J.weight+" "+~~((J.size+1)/at)+"px "+J.font,qe=He.measureText(J.text+"m").width*at,et=J.size<<1,J.rotate){var we=Math.sin(J.rotate*o),pe=Math.cos(J.rotate*o),Je=qe*pe,lt=qe*we,Ht=et*pe,Ct=et*we;qe=Math.max(Math.abs(Je+Ct),Math.abs(Je-Ct))+31>>5<<5,et=~~Math.max(Math.abs(lt+Ht),Math.abs(lt-Ht))}else qe=qe+31>>5<<5;if(et>Et&&(Et=et),ct+qe>=a<<5&&(ct=0,Ze+=Et,Et=0),Ze+et>=l)break;He.translate((ct+(qe>>1))/at,(Ze+(et>>1))/at),J.rotate&&He.rotate(J.rotate*o),He.fillText(J.text,0,0),J.padding&&(He.lineWidth=2*J.padding,He.strokeText(J.text,0,0)),He.restore(),J.width=qe,J.height=et,J.xoff=ct,J.yoff=Ze,J.x1=qe>>1,J.y1=et>>1,J.x0=-J.x1,J.y0=-J.y1,J.hasText=!0,ct+=qe}for(var mn=He.getImageData(0,0,(a<<5)/at,l/at).data,kt=[];--ye>=0;)if(J=he[ye],!!J.hasText){for(qe=J.width,te=qe>>5,et=J.y1-J.y0,be=0;be<et*te;be++)kt[be]=0;if(ct=J.xoff,ct==null)return;Ze=J.yoff;var Bt=0,tn=-1;for(ke=0;ke<et;ke++){for(be=0;be<qe;be++){var bt=te*ke+(be>>5),ve=mn[(Ze+ke)*(a<<5)+(ct+be)<<2]?1<<31-be%32:0;kt[bt]|=ve,Bt|=ve}Bt?tn=ke:(J.y0++,et--,ke--,Ze++)}J.y1=J.y0+tn,J.sprite=kt.slice(0,(J.y1-J.y0)*te)}}}function _(I,J,he){he>>=5;for(var ye=I.sprite,He=I.width>>5,at=I.x-(He<<4),ct=at&127,Ze=32-ct,Et=I.y1-I.y0,Mt=(I.y+I.y0)*he+(at>>5),qe,te=0;te<Et;te++){qe=0;for(var et=0;et<=He;et++)if((qe<<Ze|(et<He?(qe=ye[te*He+et])>>>ct:0))&J[Mt+et])return!0;Mt+=he}return!1}function E(I,J){var he=I[0],ye=I[1];J.x+J.x0<he.x&&(he.x=J.x+J.x0),J.y+J.y0<he.y&&(he.y=J.y+J.y0),J.x+J.x1>ye.x&&(ye.x=J.x+J.x1),J.y+J.y1>ye.y&&(ye.y=J.y+J.y1)}function O(I,J){return I.x+I.x1>J[0].x&&I.x+I.x0<J[1].x&&I.y+I.y1>J[0].y&&I.y+I.y0<J[1].y}function R(I){var J=I[0]/I[1];return function(he){return[J*(he*=.1)*Math.cos(he),he*Math.sin(he)]}}function q(I){var J=4,he=J*I[0]/I[1],ye=0,He=0;return function(at){var ct=at<0?-1:1;switch(Math.sqrt(1+4*ct*at)-ct&3){case 0:ye+=he;break;case 1:He+=J;break;case 2:ye-=he;break;default:He-=J;break}return[ye,He]}}function z(I){for(var J=[],he=-1;++he<I;)J[he]=0;return J}function L(I){return typeof I=="function"?I:function(){return I}}var B={archimedean:R,rectangular:q};let P=["x","y","font","fontSize","fontStyle","fontWeight","angle"],G=["text","font","rotate","fontSize","fontStyle","fontWeight"];function ue(I){t.Transform.call(this,f(),I)}ue.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:P}]},r.inherits(ue,t.Transform,{transform(I,J){I.size&&!(I.size[0]&&I.size[1])&&r.error("Wordcloud size dimensions must be non-zero.");function he(ke){let we=I[ke];return r.isFunction(we)&&J.modified(we.fields)}let ye=I.modified();if(!(ye||J.changed(J.ADD_REM)||G.some(he)))return;let He=J.materialize(J.SOURCE).source,at=this.value,ct=I.as||P,Ze=I.fontSize||14,Et;if(r.isFunction(Ze)?Et=I.fontSizeRange:Ze=r.constant(Ze),Et){let ke=Ze,we=i.scale("sqrt")().domain(r.extent(He,ke)).range(Et);Ze=pe=>we(ke(pe))}He.forEach(ke=>{ke[ct[0]]=NaN,ke[ct[1]]=NaN,ke[ct[3]]=0});let Mt=at.words(He).text(I.text).size(I.size||[500,500]).padding(I.padding||1).spiral(I.spiral||"archimedean").rotate(I.rotate||0).font(I.font||"sans-serif").fontStyle(I.fontStyle||"normal").fontWeight(I.fontWeight||"normal").fontSize(Ze).random(s.random).layout(),qe=at.size(),te=qe[0]>>1,et=qe[1]>>1,be=Mt.length;for(let ke=0,we,pe;ke<be;++ke)we=Mt[ke],pe=we.datum,pe[ct[0]]=we.x+te,pe[ct[1]]=we.y+et,pe[ct[2]]=we.font,pe[ct[3]]=we.size,pe[ct[4]]=we.style,pe[ct[5]]=we.weight,pe[ct[6]]=we.rotate;return J.reflow(ye).modifies(ct)}}),n.wordcloud=ue,Object.defineProperty(n,"__esModule",{value:!0})})});var ZDe=Ae((_V,XDe)=>{m();(function(n,e){typeof _V=="object"&&typeof XDe!="undefined"?e(_V,s0(),Tu()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega))})(_V,function(n,e,t){"use strict";let r=I=>new Uint8Array(I),i=I=>new Uint16Array(I),s=I=>new Uint32Array(I);function o(){let I=8,J=[],he=s(0),ye=l(0,I),He=l(0,I);return{data:()=>J,seen:()=>he=a(he,J.length),add(at){for(let ct=0,Ze=J.length,Et=at.length,Mt;ct<Et;++ct)Mt=at[ct],Mt._index=Ze++,J.push(Mt)},remove(at,ct){let Ze=J.length,Et=Array(Ze-at),Mt=J,qe,te,et;for(te=0;!ct[te]&&te<Ze;++te)Et[te]=J[te],Mt[te]=te;for(et=te;te<Ze;++te)qe=J[te],ct[te]?Mt[te]=-1:(Mt[te]=et,ye[et]=ye[te],He[et]=He[te],Et[et]=qe,qe._index=et++),ye[te]=0;return J=Et,Mt},size:()=>J.length,curr:()=>ye,prev:()=>He,reset:at=>He[at]=ye[at],all:()=>I<257?255:I<65537?65535:4294967295,set(at,ct){ye[at]|=ct},clear(at,ct){ye[at]&=~ct},resize(at,ct){let Ze=ye.length;(at>Ze||ct>I)&&(I=Math.max(ct,I),ye=l(at,I,ye),He=l(at,I))}}}function a(I,J,he){return I.length>=J?I:(he=he||new I.constructor(J),he.set(I),he)}function l(I,J,he){let ye=(J<257?r:J<65537?i:s)(I);return he&&ye.set(he),ye}function f(I,J,he){let ye=1<<J;return{one:ye,zero:~ye,range:he.slice(),bisect:I.bisect,index:I.index,size:I.size,onAdd(He,at){let ct=this,Ze=ct.bisect(ct.range,He.value),Et=He.index,Mt=Ze[0],qe=Ze[1],te=Et.length,et;for(et=0;et<Mt;++et)at[Et[et]]|=ye;for(et=qe;et<te;++et)at[Et[et]]|=ye;return ct}}}function p(I,J){return I==null||J==null?NaN:I<J?-1:I>J?1:I>=J?0:NaN}function _(I){let J=I,he=I,ye=I;I.length!==2&&(J=(Ze,Et)=>I(Ze)-Et,he=p,ye=(Ze,Et)=>p(I(Ze),Et));function He(Ze,Et,Mt=0,qe=Ze.length){if(Mt<qe){if(he(Et,Et)!==0)return qe;do{let te=Mt+qe>>>1;ye(Ze[te],Et)<0?Mt=te+1:qe=te}while(Mt<qe)}return Mt}function at(Ze,Et,Mt=0,qe=Ze.length){if(Mt<qe){if(he(Et,Et)!==0)return qe;do{let te=Mt+qe>>>1;ye(Ze[te],Et)<=0?Mt=te+1:qe=te}while(Mt<qe)}return Mt}function ct(Ze,Et,Mt=0,qe=Ze.length){let te=He(Ze,Et,Mt,qe-1);return te>Mt&&J(Ze[te-1],Et)>-J(Ze[te],Et)?te-1:te}return{left:He,center:ct,right:at}}function E(I){return I===null?NaN:+I}let O=_(p),R=O.right,q=O.left;_(E).center;function z(I,J){return Array.from(J,he=>I[he])}function L(){let I=s(0),J=[],he=0;function ye(Ze,Et,Mt){if(!Et.length)return[];let qe=he,te=Et.length,et=s(te),be=Array(te),ke,we,pe;for(pe=0;pe<te;++pe)be[pe]=Ze(Et[pe]),et[pe]=pe;if(be=B(be,et),qe)ke=J,we=I,J=Array(qe+te),I=s(qe+te),P(Mt,ke,we,qe,be,et,te,J,I);else{if(Mt>0)for(pe=0;pe<te;++pe)et[pe]+=Mt;J=be,I=et}return he=qe+te,{index:et,value:be}}function He(Ze,Et){let Mt=he,qe,te,et;for(te=0;!Et[I[te]]&&te<Mt;++te);for(et=te;te<Mt;++te)Et[qe=I[te]]||(I[et]=qe,J[et]=J[te],++et);he=Mt-Ze}function at(Ze){for(let Et=0,Mt=he;Et<Mt;++Et)I[Et]=Ze[I[Et]]}function ct(Ze,Et){let Mt;return Et?Mt=Et.length:(Et=J,Mt=he),[q(Et,Ze[0],0,Mt),R(Et,Ze[1],0,Mt)]}return{insert:ye,remove:He,bisect:ct,reindex:at,index:()=>I,size:()=>he}}function B(I,J){return I.sort.call(J,(he,ye)=>{let He=I[he],at=I[ye];return He<at?-1:He>at?1:0}),z(I,J)}function P(I,J,he,ye,He,at,ct,Ze,Et){let Mt=0,qe=0,te;for(te=0;Mt<ye&&qe<ct;++te)J[Mt]<He[qe]?(Ze[te]=J[Mt],Et[te]=he[Mt++]):(Ze[te]=He[qe],Et[te]=at[qe++]+I);for(;Mt<ye;++Mt,++te)Ze[te]=J[Mt],Et[te]=he[Mt];for(;qe<ct;++qe,++te)Ze[te]=He[qe],Et[te]=at[qe]+I}function G(I){e.Transform.call(this,o(),I),this._indices=null,this._dims=null}G.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},t.inherits(G,e.Transform,{transform(I,J){if(this._dims){var he=I.modified("fields")||I.fields.some(ye=>J.modified(ye.fields));return he?this.reinit(I,J):this.eval(I,J)}else return this.init(I,J)},init(I,J){let he=I.fields,ye=I.query,He=this._indices={},at=this._dims=[],ct=ye.length,Ze=0,Et,Mt;for(;Ze<ct;++Ze)Et=he[Ze].fname,Mt=He[Et]||(He[Et]=L()),at.push(f(Mt,Ze,ye[Ze]));return this.eval(I,J)},reinit(I,J){let he=J.materialize().fork(),ye=I.fields,He=I.query,at=this._indices,ct=this._dims,Ze=this.value,Et=Ze.curr(),Mt=Ze.prev(),qe=Ze.all(),te=he.rem=he.add,et=he.mod,be=He.length,ke={},we,pe,Je,lt,Ht,Ct,mn,kt,Bt;if(Mt.set(Et),J.rem.length&&(Ht=this.remove(I,J,he)),J.add.length&&Ze.add(J.add),J.mod.length)for(Ct={},lt=J.mod,mn=0,kt=lt.length;mn<kt;++mn)Ct[lt[mn]._index]=1;for(mn=0;mn<be;++mn)Bt=ye[mn],(!ct[mn]||I.modified("fields",mn)||J.modified(Bt.fields))&&(Je=Bt.fname,(we=ke[Je])||(at[Je]=pe=L(),ke[Je]=we=pe.insert(Bt,J.source,0)),ct[mn]=f(pe,mn,He[mn]).onAdd(we,Et));for(mn=0,kt=Ze.data().length;mn<kt;++mn)Ht[mn]||(Mt[mn]!==Et[mn]?te.push(mn):Ct[mn]&&Et[mn]!==qe&&et.push(mn));return Ze.mask=(1<<be)-1,he},eval(I,J){let he=J.materialize().fork(),ye=this._dims.length,He=0;return J.rem.length&&(this.remove(I,J,he),He|=(1<<ye)-1),I.modified("query")&&!I.modified("fields")&&(He|=this.update(I,J,he)),J.add.length&&(this.insert(I,J,he),He|=(1<<ye)-1),J.mod.length&&(this.modify(J,he),He|=(1<<ye)-1),this.value.mask=He,he},insert(I,J,he){let ye=J.add,He=this.value,at=this._dims,ct=this._indices,Ze=I.fields,Et={},Mt=he.add,qe=He.size()+ye.length,te=at.length,et=He.size(),be,ke,we;He.resize(qe,te),He.add(ye);let pe=He.curr(),Je=He.prev(),lt=He.all();for(be=0;be<te;++be)ke=Ze[be].fname,we=Et[ke]||(Et[ke]=ct[ke].insert(Ze[be],ye,et)),at[be].onAdd(we,pe);for(;et<qe;++et)Je[et]=lt,pe[et]!==lt&&Mt.push(et)},modify(I,J){let he=J.mod,ye=this.value,He=ye.curr(),at=ye.all(),ct=I.mod,Ze,Et,Mt;for(Ze=0,Et=ct.length;Ze<Et;++Ze)Mt=ct[Ze]._index,He[Mt]!==at&&he.push(Mt)},remove(I,J,he){let ye=this._indices,He=this.value,at=He.curr(),ct=He.prev(),Ze=He.all(),Et={},Mt=he.rem,qe=J.rem,te,et,be,ke;for(te=0,et=qe.length;te<et;++te)be=qe[te]._index,Et[be]=1,ct[be]=ke=at[be],at[be]=Ze,ke!==Ze&&Mt.push(be);for(be in ye)ye[be].remove(et,Et);return this.reindex(J,et,Et),Et},reindex(I,J,he){let ye=this._indices,He=this.value;I.runAfter(()=>{let at=He.remove(J,he);for(let ct in ye)ye[ct].reindex(at)})},update(I,J,he){let ye=this._dims,He=I.query,at=J.stamp,ct=ye.length,Ze=0,Et,Mt;for(he.filters=0,Mt=0;Mt<ct;++Mt)I.modified("query",Mt)&&(Et=Mt,++Ze);if(Ze===1)Ze=ye[Et].one,this.incrementOne(ye[Et],He[Et],he.add,he.rem);else for(Mt=0,Ze=0;Mt<ct;++Mt)!I.modified("query",Mt)||(Ze|=ye[Mt].one,this.incrementAll(ye[Mt],He[Mt],at,he.add),he.rem=he.add);return Ze},incrementAll(I,J,he,ye){let He=this.value,at=He.seen(),ct=He.curr(),Ze=He.prev(),Et=I.index(),Mt=I.bisect(I.range),qe=I.bisect(J),te=qe[0],et=qe[1],be=Mt[0],ke=Mt[1],we=I.one,pe,Je,lt;if(te<be)for(pe=te,Je=Math.min(be,et);pe<Je;++pe)lt=Et[pe],at[lt]!==he&&(Ze[lt]=ct[lt],at[lt]=he,ye.push(lt)),ct[lt]^=we;else if(te>be)for(pe=be,Je=Math.min(te,ke);pe<Je;++pe)lt=Et[pe],at[lt]!==he&&(Ze[lt]=ct[lt],at[lt]=he,ye.push(lt)),ct[lt]^=we;if(et>ke)for(pe=Math.max(te,ke),Je=et;pe<Je;++pe)lt=Et[pe],at[lt]!==he&&(Ze[lt]=ct[lt],at[lt]=he,ye.push(lt)),ct[lt]^=we;else if(et<ke)for(pe=Math.max(be,et),Je=ke;pe<Je;++pe)lt=Et[pe],at[lt]!==he&&(Ze[lt]=ct[lt],at[lt]=he,ye.push(lt)),ct[lt]^=we;I.range=J.slice()},incrementOne(I,J,he,ye){let He=this.value,at=He.curr(),ct=I.index(),Ze=I.bisect(I.range),Et=I.bisect(J),Mt=Et[0],qe=Et[1],te=Ze[0],et=Ze[1],be=I.one,ke,we,pe;if(Mt<te)for(ke=Mt,we=Math.min(te,qe);ke<we;++ke)pe=ct[ke],at[pe]^=be,he.push(pe);else if(Mt>te)for(ke=te,we=Math.min(Mt,et);ke<we;++ke)pe=ct[ke],at[pe]^=be,ye.push(pe);if(qe>et)for(ke=Math.max(Mt,et),we=qe;ke<we;++ke)pe=ct[ke],at[pe]^=be,he.push(pe);else if(qe<et)for(ke=Math.max(te,qe),we=et;ke<we;++ke)pe=ct[ke],at[pe]^=be,ye.push(pe);I.range=J.slice()}});function ue(I){e.Transform.call(this,null,I)}ue.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},t.inherits(ue,e.Transform,{transform(I,J){let he=~(I.ignore||0),ye=I.filter,He=ye.mask;if((He&he)===0)return J.StopPropagation;let at=J.fork(J.ALL),ct=ye.data(),Ze=ye.curr(),Et=ye.prev(),Mt=qe=>Ze[qe]&he?null:ct[qe];return at.filter(at.MOD,Mt),He&He-1?(at.filter(at.ADD,qe=>{let te=Ze[qe]&he;return!te&&te^Et[qe]&he?ct[qe]:null}),at.filter(at.REM,qe=>{let te=Ze[qe]&he;return te&&!(te^(te^Et[qe]&he))?ct[qe]:null})):(at.filter(at.ADD,Mt),at.filter(at.REM,qe=>(Ze[qe]&he)===He?ct[qe]:null)),at.filter(at.SOURCE,qe=>Mt(qe._index))}}),n.crossfilter=G,n.resolvefilter=ue,Object.defineProperty(n,"__esModule",{value:!0})})});var EV=Ae((bV,eOe)=>{m();(function(n,e){typeof bV=="object"&&typeof eOe!="undefined"?e(bV,Tu()):typeof define=="function"&&define.amd?define(["exports","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega))})(bV,function(n,e){"use strict";let t="RawCode",r="Literal",i="Property",s="Identifier",o="ArrayExpression",a="BinaryExpression",l="CallExpression",f="ConditionalExpression",p="LogicalExpression",_="MemberExpression",E="ObjectExpression",O="UnaryExpression";function R(w){this.type=w}R.prototype.visit=function(w){let j,ee,Se;if(w(this))return 1;for(j=q(this),ee=0,Se=j.length;ee<Se;++ee)if(j[ee].visit(w))return 1};function q(w){switch(w.type){case o:return w.elements;case a:case p:return[w.left,w.right];case l:return[w.callee].concat(w.arguments);case f:return[w.test,w.consequent,w.alternate];case _:return[w.object,w.property];case E:return w.properties;case i:return[w.key,w.value];case O:return[w.argument];case s:case r:case t:default:return[]}}var z,L,B,P,G,ue=1,I=2,J=3,he=4,ye=5,He=6,at=7,ct=8,Ze=9;z={},z[ue]="Boolean",z[I]="<end>",z[J]="Identifier",z[he]="Keyword",z[ye]="Null",z[He]="Numeric",z[at]="Punctuator",z[ct]="String",z[Ze]="RegularExpression";var Et="ArrayExpression",Mt="BinaryExpression",qe="CallExpression",te="ConditionalExpression",et="Identifier",be="Literal",ke="LogicalExpression",we="MemberExpression",pe="ObjectExpression",Je="Property",lt="UnaryExpression",Ht="Unexpected token %0",Ct="Unexpected number",mn="Unexpected string",kt="Unexpected identifier",Bt="Unexpected reserved word",tn="Unexpected end of input",bt="Invalid regular expression",ve="Invalid regular expression: missing /",Le="Octal literals are not allowed in strict mode.",_e="Duplicate data property in object literal not allowed in strict mode",ce="ILLEGAL",tt="Disabled.",Ke=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),re=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Oe(w,j){if(!w)throw new Error("ASSERT: "+j)}function nt(w){return w>=48&&w<=57}function ft(w){return"0123456789abcdefABCDEF".indexOf(w)>=0}function Ot(w){return"01234567".indexOf(w)>=0}function Yt(w){return w===32||w===9||w===11||w===12||w===160||w>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(w)>=0}function Gt(w){return w===10||w===13||w===8232||w===8233}function fn(w){return w===36||w===95||w>=65&&w<=90||w>=97&&w<=122||w===92||w>=128&&Ke.test(String.fromCharCode(w))}function gn(w){return w===36||w===95||w>=65&&w<=90||w>=97&&w<=122||w>=48&&w<=57||w===92||w>=128&&re.test(String.fromCharCode(w))}let yn={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function Lt(){for(;B<P;){let w=L.charCodeAt(B);if(Yt(w)||Gt(w))++B;else break}}function un(w){var j,ee,Se,ht=0;for(ee=w==="u"?4:2,j=0;j<ee;++j)B<P&&ft(L[B])?(Se=L[B++],ht=ht*16+"0123456789abcdef".indexOf(Se.toLowerCase())):Ue({},Ht,ce);return String.fromCharCode(ht)}function Mn(){var w,j,ee,Se;for(w=L[B],j=0,w==="}"&&Ue({},Ht,ce);B<P&&(w=L[B++],!!ft(w));)j=j*16+"0123456789abcdef".indexOf(w.toLowerCase());return(j>1114111||w!=="}")&&Ue({},Ht,ce),j<=65535?String.fromCharCode(j):(ee=(j-65536>>10)+55296,Se=(j-65536&1023)+56320,String.fromCharCode(ee,Se))}function tr(){var w,j;for(w=L.charCodeAt(B++),j=String.fromCharCode(w),w===92&&(L.charCodeAt(B)!==117&&Ue({},Ht,ce),++B,w=un("u"),(!w||w==="\\"||!fn(w.charCodeAt(0)))&&Ue({},Ht,ce),j=w);B<P&&(w=L.charCodeAt(B),!!gn(w));)++B,j+=String.fromCharCode(w),w===92&&(j=j.substr(0,j.length-1),L.charCodeAt(B)!==117&&Ue({},Ht,ce),++B,w=un("u"),(!w||w==="\\"||!gn(w.charCodeAt(0)))&&Ue({},Ht,ce),j+=w);return j}function Rn(){var w,j;for(w=B++;B<P;){if(j=L.charCodeAt(B),j===92)return B=w,tr();if(gn(j))++B;else break}return L.slice(w,B)}function Ne(){var w,j,ee;return w=B,j=L.charCodeAt(B)===92?tr():Rn(),j.length===1?ee=J:yn.hasOwnProperty(j)?ee=he:j==="null"?ee=ye:j==="true"||j==="false"?ee=ue:ee=J,{type:ee,value:j,start:w,end:B}}function ze(){var w=B,j=L.charCodeAt(B),ee,Se=L[B],ht,Tt,Zt;switch(j){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++B,{type:at,value:String.fromCharCode(j),start:w,end:B};default:if(ee=L.charCodeAt(B+1),ee===61)switch(j){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return B+=2,{type:at,value:String.fromCharCode(j)+String.fromCharCode(ee),start:w,end:B};case 33:case 61:return B+=2,L.charCodeAt(B)===61&&++B,{type:at,value:L.slice(w,B),start:w,end:B}}}if(Zt=L.substr(B,4),Zt===">>>=")return B+=4,{type:at,value:Zt,start:w,end:B};if(Tt=Zt.substr(0,3),Tt===">>>"||Tt==="<<="||Tt===">>=")return B+=3,{type:at,value:Tt,start:w,end:B};if(ht=Tt.substr(0,2),Se===ht[1]&&"+-<>&|".indexOf(Se)>=0||ht==="=>")return B+=2,{type:at,value:ht,start:w,end:B};if(ht==="//"&&Ue({},Ht,ce),"<>=!+-*%&|^/".indexOf(Se)>=0)return++B,{type:at,value:Se,start:w,end:B};Ue({},Ht,ce)}function De(w){let j="";for(;B<P&&ft(L[B]);)j+=L[B++];return j.length===0&&Ue({},Ht,ce),fn(L.charCodeAt(B))&&Ue({},Ht,ce),{type:He,value:parseInt("0x"+j,16),start:w,end:B}}function Pt(w){let j="0"+L[B++];for(;B<P&&Ot(L[B]);)j+=L[B++];return(fn(L.charCodeAt(B))||nt(L.charCodeAt(B)))&&Ue({},Ht,ce),{type:He,value:parseInt(j,8),octal:!0,start:w,end:B}}function mt(){var w,j,ee;if(ee=L[B],Oe(nt(ee.charCodeAt(0))||ee===".","Numeric literal must start with a decimal digit or a decimal point"),j=B,w="",ee!=="."){if(w=L[B++],ee=L[B],w==="0"){if(ee==="x"||ee==="X")return++B,De(j);if(Ot(ee))return Pt(j);ee&&nt(ee.charCodeAt(0))&&Ue({},Ht,ce)}for(;nt(L.charCodeAt(B));)w+=L[B++];ee=L[B]}if(ee==="."){for(w+=L[B++];nt(L.charCodeAt(B));)w+=L[B++];ee=L[B]}if(ee==="e"||ee==="E")if(w+=L[B++],ee=L[B],(ee==="+"||ee==="-")&&(w+=L[B++]),nt(L.charCodeAt(B)))for(;nt(L.charCodeAt(B));)w+=L[B++];else Ue({},Ht,ce);return fn(L.charCodeAt(B))&&Ue({},Ht,ce),{type:He,value:parseFloat(w),start:j,end:B}}function xt(){var w="",j,ee,Se,ht,Tt=!1;for(j=L[B],Oe(j==="'"||j==='"',"String literal must starts with a quote"),ee=B,++B;B<P;)if(Se=L[B++],Se===j){j="";break}else if(Se==="\\")if(Se=L[B++],!Se||!Gt(Se.charCodeAt(0)))switch(Se){case"u":case"x":L[B]==="{"?(++B,w+=Mn()):w+=un(Se);break;case"n":w+=`
`;break;case"r":w+="\r";break;case"t":w+="	";break;case"b":w+="\b";break;case"f":w+="\f";break;case"v":w+="\v";break;default:Ot(Se)?(ht="01234567".indexOf(Se),ht!==0&&(Tt=!0),B<P&&Ot(L[B])&&(Tt=!0,ht=ht*8+"01234567".indexOf(L[B++]),"0123".indexOf(Se)>=0&&B<P&&Ot(L[B])&&(ht=ht*8+"01234567".indexOf(L[B++]))),w+=String.fromCharCode(ht)):w+=Se;break}else Se==="\r"&&L[B]===`
`&&++B;else{if(Gt(Se.charCodeAt(0)))break;w+=Se}return j!==""&&Ue({},Ht,ce),{type:ct,value:w,octal:Tt,start:ee,end:B}}function rn(w,j){let ee=w;j.indexOf("u")>=0&&(ee=ee.replace(/\\u\{([0-9a-fA-F]+)\}/g,(Se,ht)=>{if(parseInt(ht,16)<=1114111)return"x";Ue({},bt)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(ee)}catch{Ue({},bt)}try{return new RegExp(w,j)}catch{return null}}function Qt(){var w,j,ee,Se,ht;for(w=L[B],Oe(w==="/","Regular expression literal must start with a slash"),j=L[B++],ee=!1,Se=!1;B<P;)if(w=L[B++],j+=w,w==="\\")w=L[B++],Gt(w.charCodeAt(0))&&Ue({},ve),j+=w;else if(Gt(w.charCodeAt(0)))Ue({},ve);else if(ee)w==="]"&&(ee=!1);else if(w==="/"){Se=!0;break}else w==="["&&(ee=!0);return Se||Ue({},ve),ht=j.substr(1,j.length-2),{value:ht,literal:j}}function Fn(){var w,j,ee;for(j="",ee="";B<P&&(w=L[B],!!gn(w.charCodeAt(0)));)++B,w==="\\"&&B<P?Ue({},Ht,ce):(ee+=w,j+=w);return ee.search(/[^gimuy]/g)>=0&&Ue({},bt,ee),{value:ee,literal:j}}function Wn(){var w,j,ee,Se;return G=null,Lt(),w=B,j=Qt(),ee=Fn(),Se=rn(j.value,ee.value),{literal:j.literal+ee.literal,value:Se,regex:{pattern:j.value,flags:ee.value},start:w,end:B}}function Zn(w){return w.type===J||w.type===he||w.type===ue||w.type===ye}function Nn(){if(Lt(),B>=P)return{type:I,start:B,end:B};let w=L.charCodeAt(B);return fn(w)?Ne():w===40||w===41||w===59?ze():w===39||w===34?xt():w===46?nt(L.charCodeAt(B+1))?mt():ze():nt(w)?mt():ze()}function nr(){let w=G;return B=w.end,G=Nn(),B=w.end,w}function Ye(){let w=B;G=Nn(),B=w}function vt(w){let j=new R(Et);return j.elements=w,j}function oe(w,j,ee){let Se=new R(w==="||"||w==="&&"?ke:Mt);return Se.operator=w,Se.left=j,Se.right=ee,Se}function Be(w,j){let ee=new R(qe);return ee.callee=w,ee.arguments=j,ee}function rt(w,j,ee){let Se=new R(te);return Se.test=w,Se.consequent=j,Se.alternate=ee,Se}function Dt(w){let j=new R(et);return j.name=w,j}function hn(w){let j=new R(be);return j.value=w.value,j.raw=L.slice(w.start,w.end),w.regex&&(j.raw==="//"&&(j.raw="/(?:)/"),j.regex=w.regex),j}function an(w,j,ee){let Se=new R(we);return Se.computed=w==="[",Se.object=j,Se.property=ee,Se.computed||(ee.member=!0),Se}function dt(w){let j=new R(pe);return j.properties=w,j}function ie(w,j,ee){let Se=new R(Je);return Se.key=j,Se.value=ee,Se.kind=w,Se}function Te(w,j){let ee=new R(lt);return ee.operator=w,ee.argument=j,ee.prefix=!0,ee}function Ue(w,j){var ee,Se=Array.prototype.slice.call(arguments,2),ht=j.replace(/%(\d)/g,(Tt,Zt)=>(Oe(Zt<Se.length,"Message reference must be in range"),Se[Zt]));throw ee=new Error(ht),ee.index=B,ee.description=ht,ee}function gt(w){w.type===I&&Ue(w,tn),w.type===He&&Ue(w,Ct),w.type===ct&&Ue(w,mn),w.type===J&&Ue(w,kt),w.type===he&&Ue(w,Bt),Ue(w,Ht,w.value)}function St(w){let j=nr();(j.type!==at||j.value!==w)&&gt(j)}function Rt(w){return G.type===at&&G.value===w}function ne(w){return G.type===he&&G.value===w}function Ce(){let w=[];for(B=G.start,St("[");!Rt("]");)Rt(",")?(nr(),w.push(null)):(w.push(K()),Rt("]")||St(","));return nr(),vt(w)}function We(){B=G.start;let w=nr();return w.type===ct||w.type===He?(w.octal&&Ue(w,Le),hn(w)):Dt(w.value)}function st(){var w,j,ee,Se;if(B=G.start,w=G,w.type===J)return ee=We(),St(":"),Se=K(),ie("init",ee,Se);if(w.type===I||w.type===at)gt(w);else return j=We(),St(":"),Se=K(),ie("init",j,Se)}function Ut(){var w=[],j,ee,Se,ht={},Tt=String;for(B=G.start,St("{");!Rt("}");)j=st(),j.key.type===et?ee=j.key.name:ee=Tt(j.key.value),Se="$"+ee,Object.prototype.hasOwnProperty.call(ht,Se)?Ue({},_e):ht[Se]=!0,w.push(j),Rt("}")||St(",");return St("}"),dt(w)}function sn(){St("(");let w=ae();return St(")"),w}let Cn={if:1};function En(){var w,j,ee;if(Rt("("))return sn();if(Rt("["))return Ce();if(Rt("{"))return Ut();if(w=G.type,B=G.start,w===J||Cn[G.value])ee=Dt(nr().value);else if(w===ct||w===He)G.octal&&Ue(G,Le),ee=hn(nr());else{if(w===he)throw new Error(tt);w===ue?(j=nr(),j.value=j.value==="true",ee=hn(j)):w===ye?(j=nr(),j.value=null,ee=hn(j)):Rt("/")||Rt("/=")?(ee=hn(Wn()),Ye()):gt(nr())}return ee}function vn(){let w=[];if(St("("),!Rt(")"))for(;B<P&&(w.push(K()),!Rt(")"));)St(",");return St(")"),w}function zn(){B=G.start;let w=nr();return Zn(w)||gt(w),Dt(w.value)}function Re(){return St("."),zn()}function $e(){St("[");let w=ae();return St("]"),w}function Ft(){var w,j,ee;for(w=En();;)if(Rt("."))ee=Re(),w=an(".",w,ee);else if(Rt("("))j=vn(),w=Be(w,j);else if(Rt("["))ee=$e(),w=an("[",w,ee);else break;return w}function N(){let w=Ft();if(G.type===at&&(Rt("++")||Rt("--")))throw new Error(tt);return w}function V(){var w,j;if(G.type!==at&&G.type!==he)j=N();else{if(Rt("++")||Rt("--"))throw new Error(tt);if(Rt("+")||Rt("-")||Rt("~")||Rt("!"))w=nr(),j=V(),j=Te(w.value,j);else{if(ne("delete")||ne("void")||ne("typeof"))throw new Error(tt);j=N()}}return j}function Ee(w){let j=0;if(w.type!==at&&w.type!==he)return 0;switch(w.value){case"||":j=1;break;case"&&":j=2;break;case"|":j=3;break;case"^":j=4;break;case"&":j=5;break;case"==":case"!=":case"===":case"!==":j=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":j=7;break;case"<<":case">>":case">>>":j=8;break;case"+":case"-":j=9;break;case"*":case"/":case"%":j=11;break}return j}function xe(){var w,j,ee,Se,ht,Tt,Zt,Xt,xn,qn;if(w=G,xn=V(),Se=G,ht=Ee(Se),ht===0)return xn;for(Se.prec=ht,nr(),j=[w,G],Zt=V(),Tt=[xn,Se,Zt];(ht=Ee(G))>0;){for(;Tt.length>2&&ht<=Tt[Tt.length-2].prec;)Zt=Tt.pop(),Xt=Tt.pop().value,xn=Tt.pop(),j.pop(),ee=oe(Xt,xn,Zt),Tt.push(ee);Se=nr(),Se.prec=ht,Tt.push(Se),j.push(G),ee=V(),Tt.push(ee)}for(qn=Tt.length-1,ee=Tt[qn],j.pop();qn>1;)j.pop(),ee=oe(Tt[qn-1].value,Tt[qn-2],ee),qn-=2;return ee}function K(){var w,j,ee;return w=xe(),Rt("?")&&(nr(),j=K(),St(":"),ee=K(),w=rt(w,j,ee)),w}function ae(){let w=K();if(Rt(","))throw new Error(tt);return w}function fe(w){L=w,B=0,P=L.length,G=null,Ye();let j=ae();if(G.type!==I)throw new Error("Unexpect token after expression.");return j}var Qe={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function It(w){function j(Zt,Xt,xn,qn){let Un=w(Xt[0]);return xn&&(Un=xn+"("+Un+")",xn.lastIndexOf("new ",0)===0&&(Un="("+Un+")")),Un+"."+Zt+(qn<0?"":qn===0?"()":"("+Xt.slice(1).map(w).join(",")+")")}function ee(Zt,Xt,xn){return qn=>j(Zt,qn,Xt,xn)}let Se="new Date",ht="String",Tt="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(Zt){Zt.length<3&&e.error("Missing arguments to clamp function."),Zt.length>3&&e.error("Too many arguments to clamp function.");let Xt=Zt.map(w);return"Math.max("+Xt[1]+", Math.min("+Xt[2]+","+Xt[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:Se,date:ee("getDate",Se,0),day:ee("getDay",Se,0),year:ee("getFullYear",Se,0),month:ee("getMonth",Se,0),hours:ee("getHours",Se,0),minutes:ee("getMinutes",Se,0),seconds:ee("getSeconds",Se,0),milliseconds:ee("getMilliseconds",Se,0),time:ee("getTime",Se,0),timezoneoffset:ee("getTimezoneOffset",Se,0),utcdate:ee("getUTCDate",Se,0),utcday:ee("getUTCDay",Se,0),utcyear:ee("getUTCFullYear",Se,0),utcmonth:ee("getUTCMonth",Se,0),utchours:ee("getUTCHours",Se,0),utcminutes:ee("getUTCMinutes",Se,0),utcseconds:ee("getUTCSeconds",Se,0),utcmilliseconds:ee("getUTCMilliseconds",Se,0),length:ee("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:ee("toUpperCase",ht,0),lower:ee("toLowerCase",ht,0),substring:ee("substring",ht),split:ee("split",ht),trim:ee("trim",ht,0),regexp:Tt,test:ee("test",Tt),if:function(Zt){Zt.length<3&&e.error("Missing arguments to if function."),Zt.length>3&&e.error("Too many arguments to if function.");let Xt=Zt.map(w);return"("+Xt[0]+"?"+Xt[1]+":"+Xt[2]+")"}}}function At(w){let j=w&&w.length-1;return j&&(w[0]==='"'&&w[j]==='"'||w[0]==="'"&&w[j]==="'")?w.slice(1,-1):w}function dn(w){w=w||{};let j=w.allowed?e.toSet(w.allowed):{},ee=w.forbidden?e.toSet(w.forbidden):{},Se=w.constants||Qe,ht=(w.functions||It)(Vn),Tt=w.globalvar,Zt=w.fieldvar,Xt=e.isFunction(Tt)?Tt:yr=>`${Tt}["${yr}"]`,xn={},qn={},Un=0;function Vn(yr){if(e.isString(yr))return yr;let Mr=Jr[yr.type];return Mr==null&&e.error("Unsupported type: "+yr.type),Mr(yr)}let Jr={Literal:yr=>yr.raw,Identifier:yr=>{let Mr=yr.name;return Un>0?Mr:e.hasOwnProperty(ee,Mr)?e.error("Illegal identifier: "+Mr):e.hasOwnProperty(Se,Mr)?Se[Mr]:e.hasOwnProperty(j,Mr)?Mr:(xn[Mr]=1,Xt(Mr))},MemberExpression:yr=>{let Mr=!yr.computed,xi=Vn(yr.object);Mr&&(Un+=1);let ai=Vn(yr.property);return xi===Zt&&(qn[At(ai)]=1),Mr&&(Un-=1),xi+(Mr?"."+ai:"["+ai+"]")},CallExpression:yr=>{yr.callee.type!=="Identifier"&&e.error("Illegal callee type: "+yr.callee.type);let Mr=yr.callee.name,xi=yr.arguments,ai=e.hasOwnProperty(ht,Mr)&&ht[Mr];return ai||e.error("Unrecognized function: "+Mr),e.isFunction(ai)?ai(xi):ai+"("+xi.map(Vn).join(",")+")"},ArrayExpression:yr=>"["+yr.elements.map(Vn).join(",")+"]",BinaryExpression:yr=>"("+Vn(yr.left)+" "+yr.operator+" "+Vn(yr.right)+")",UnaryExpression:yr=>"("+yr.operator+Vn(yr.argument)+")",ConditionalExpression:yr=>"("+Vn(yr.test)+"?"+Vn(yr.consequent)+":"+Vn(yr.alternate)+")",LogicalExpression:yr=>"("+Vn(yr.left)+yr.operator+Vn(yr.right)+")",ObjectExpression:yr=>"{"+yr.properties.map(Vn).join(",")+"}",Property:yr=>{Un+=1;let Mr=Vn(yr.key);return Un-=1,Mr+":"+Vn(yr.value)}};function Vr(yr){let Mr={code:Vn(yr),globals:Object.keys(xn),fields:Object.keys(qn)};return xn={},qn={},Mr}return Vr.functions=ht,Vr.constants=Se,Vr}n.ASTNode=R,n.ArrayExpression=o,n.BinaryExpression=a,n.CallExpression=l,n.ConditionalExpression=f,n.Identifier=s,n.Literal=r,n.LogicalExpression=p,n.MemberExpression=_,n.ObjectExpression=E,n.Property=i,n.RawCode=t,n.UnaryExpression=O,n.codegenExpression=dn,n.constants=Qe,n.functions=It,n.parseExpression=fe,Object.defineProperty(n,"__esModule",{value:!0})})});var nOe=Ae((SV,tOe)=>{m();(function(n,e){typeof SV=="object"&&typeof tOe!="undefined"?e(SV,Tu(),EV()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-expression"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(SV,function(n,e,t){"use strict";function r(Je,lt){return Je==null||lt==null?NaN:Je<lt?-1:Je>lt?1:Je>=lt?0:NaN}function i(Je){let lt=Je,Ht=Je,Ct=Je;Je.length!==2&&(lt=(tn,bt)=>Je(tn)-bt,Ht=r,Ct=(tn,bt)=>r(Je(tn),bt));function mn(tn,bt,ve=0,Le=tn.length){if(ve<Le){if(Ht(bt,bt)!==0)return Le;do{let _e=ve+Le>>>1;Ct(tn[_e],bt)<0?ve=_e+1:Le=_e}while(ve<Le)}return ve}function kt(tn,bt,ve=0,Le=tn.length){if(ve<Le){if(Ht(bt,bt)!==0)return Le;do{let _e=ve+Le>>>1;Ct(tn[_e],bt)<=0?ve=_e+1:Le=_e}while(ve<Le)}return ve}function Bt(tn,bt,ve=0,Le=tn.length){let _e=mn(tn,bt,ve,Le-1);return _e>ve&&lt(tn[_e-1],bt)>-lt(tn[_e],bt)?_e-1:_e}return{left:mn,center:Bt,right:kt}}class s extends Set{constructor(lt,Ht=f){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Ht}}),lt!=null)for(let Ct of lt)this.add(Ct)}has(lt){return super.has(o(this,lt))}add(lt){return super.add(a(this,lt))}delete(lt){return super.delete(l(this,lt))}}function o({_intern:Je,_key:lt},Ht){let Ct=lt(Ht);return Je.has(Ct)?Je.get(Ct):Ht}function a({_intern:Je,_key:lt},Ht){let Ct=lt(Ht);return Je.has(Ct)?Je.get(Ct):(Je.set(Ct,Ht),Ht)}function l({_intern:Je,_key:lt},Ht){let Ct=lt(Ht);return Je.has(Ct)&&(Ht=Je.get(Ct),Je.delete(Ct)),Ht}function f(Je){return Je!==null&&typeof Je=="object"?Je.valueOf():Je}function p(Je,...lt){Je=new s(Je),lt=lt.map(_);e:for(let Ht of Je)for(let Ct of lt)if(!Ct.has(Ht)){Je.delete(Ht);continue e}return Je}function _(Je){return Je instanceof s?Je:new s(Je)}function E(...Je){let lt=new s;for(let Ht of Je)for(let Ct of Ht)lt.add(Ct);return lt}let O="intersect",R="union",q="vlMulti",z="vlPoint",L="or",B="and",P="_vgsid_",G=e.field(P),ue="E",I="R",J="R-E",he="R-LE",ye="R-RE",He="index:unit";function at(Je,lt){for(var Ht=lt.fields,Ct=lt.values,mn=Ht.length,kt=0,Bt,tn;kt<mn;++kt)if(tn=Ht[kt],tn.getter=e.field.getter||e.field(tn.field),Bt=tn.getter(Je),e.isDate(Bt)&&(Bt=e.toNumber(Bt)),e.isDate(Ct[kt])&&(Ct[kt]=e.toNumber(Ct[kt])),e.isDate(Ct[kt][0])&&(Ct[kt]=Ct[kt].map(e.toNumber)),tn.type===ue){if(e.isArray(Ct[kt])?Ct[kt].indexOf(Bt)<0:Bt!==Ct[kt])return!1}else if(tn.type===I){if(!e.inrange(Bt,Ct[kt]))return!1}else if(tn.type===ye){if(!e.inrange(Bt,Ct[kt],!0,!1))return!1}else if(tn.type===J){if(!e.inrange(Bt,Ct[kt],!1,!1))return!1}else if(tn.type===he&&!e.inrange(Bt,Ct[kt],!1,!0))return!1;return!0}function ct(Je,lt,Ht){for(var Ct=this.context.data[Je],mn=Ct?Ct.values.value:[],kt=Ct?Ct[He]&&Ct[He].value:void 0,Bt=Ht===O,tn=mn.length,bt=0,ve,Le,_e,ce,tt;bt<tn;++bt)if(ve=mn[bt],kt&&Bt){if(Le=Le||{},_e=Le[ce=ve.unit]||0,_e===-1)continue;if(tt=at(lt,ve),Le[ce]=tt?-1:++_e,tt&&kt.size===1)return!0;if(!tt&&_e===kt.get(ce).count)return!1}else if(tt=at(lt,ve),Bt^tt)return tt;return tn&&Bt}let Ze=i(G),Et=Ze.left,Mt=Ze.right;function qe(Je,lt,Ht){let Ct=this.context.data[Je],mn=Ct?Ct.values.value:[],kt=Ct?Ct[He]&&Ct[He].value:void 0,Bt=Ht===O,tn=G(lt),bt=Et(mn,tn);if(bt===mn.length||G(mn[bt])!==tn)return!1;if(kt&&Bt){if(kt.size===1)return!0;if(Mt(mn,tn)-bt<kt.size)return!1}return!0}function te(Je,lt){return Je.map(Ht=>e.extend(lt.fields?{values:lt.fields.map(Ct=>(Ct.getter||(Ct.getter=e.field(Ct.field)))(Ht.datum))}:{[P]:G(Ht.datum)},lt))}function et(Je,lt,Ht,Ct){for(var mn=this.context.data[Je],kt=mn?mn.values.value:[],Bt={},tn={},bt={},ve,Le,_e,ce,tt,Ke,re,Oe,nt,ft,Ot=kt.length,Yt=0,Gt,fn;Yt<Ot;++Yt)if(ve=kt[Yt],ce=ve.unit,Le=ve.fields,_e=ve.values,Le&&_e){for(Gt=0,fn=Le.length;Gt<fn;++Gt)tt=Le[Gt],re=Bt[tt.field]||(Bt[tt.field]={}),Oe=re[ce]||(re[ce]=[]),bt[tt.field]=nt=tt.type.charAt(0),ft=be[`${nt}_union`],re[ce]=ft(Oe,e.array(_e[Gt]));Ht&&(Oe=tn[ce]||(tn[ce]=[]),Oe.push(e.array(_e).reduce((gn,yn,Lt)=>(gn[Le[Lt].field]=yn,gn),{})))}else tt=P,Ke=G(ve),re=Bt[tt]||(Bt[tt]={}),Oe=re[ce]||(re[ce]=[]),Oe.push(Ke),Ht&&(Oe=tn[ce]||(tn[ce]=[]),Oe.push({[P]:Ke}));if(lt=lt||R,Bt[P]?Bt[P]=be[`${P}_${lt}`](...Object.values(Bt[P])):Object.keys(Bt).forEach(gn=>{Bt[gn]=Object.keys(Bt[gn]).map(yn=>Bt[gn][yn]).reduce((yn,Lt)=>yn===void 0?Lt:be[`${bt[gn]}_${lt}`](yn,Lt))}),kt=Object.keys(tn),Ht&&kt.length){let gn=Ct?z:q;Bt[gn]=lt===R?{[L]:kt.reduce((yn,Lt)=>(yn.push(...tn[Lt]),yn),[])}:{[B]:kt.map(yn=>({[L]:tn[yn]}))}}return Bt}var be={[`${P}_union`]:E,[`${P}_intersect`]:p,E_union:function(Je,lt){if(!Je.length)return lt;for(var Ht=0,Ct=lt.length;Ht<Ct;++Ht)Je.indexOf(lt[Ht])<0&&Je.push(lt[Ht]);return Je},E_intersect:function(Je,lt){return Je.length?Je.filter(Ht=>lt.indexOf(Ht)>=0):lt},R_union:function(Je,lt){var Ht=e.toNumber(lt[0]),Ct=e.toNumber(lt[1]);return Ht>Ct&&(Ht=lt[1],Ct=lt[0]),Je.length?(Je[0]>Ht&&(Je[0]=Ht),Je[1]<Ct&&(Je[1]=Ct),Je):[Ht,Ct]},R_intersect:function(Je,lt){var Ht=e.toNumber(lt[0]),Ct=e.toNumber(lt[1]);return Ht>Ct&&(Ht=lt[1],Ct=lt[0]),Je.length?Ct<Je[0]||Je[1]<Ht?[]:(Je[0]<Ht&&(Je[0]=Ht),Je[1]>Ct&&(Je[1]=Ct),Je):[Ht,Ct]}};let ke=":",we="@";function pe(Je,lt,Ht,Ct){lt[0].type!==t.Literal&&e.error("First argument to selection functions must be a string literal.");let mn=lt[0].value,kt=lt.length>=2&&e.peek(lt).value,Bt="unit",tn=we+Bt,bt=ke+mn;kt===O&&!e.hasOwnProperty(Ct,tn)&&(Ct[tn]=Ht.getData(mn).indataRef(Ht,Bt)),e.hasOwnProperty(Ct,bt)||(Ct[bt]=Ht.getData(mn).tuplesRef())}n.selectionIdTest=qe,n.selectionResolve=et,n.selectionTest=ct,n.selectionTuples=te,n.selectionVisitor=pe,Object.defineProperty(n,"__esModule",{value:!0})})});var CV=Ae((wV,rOe)=>{m();(function(n,e){typeof wV=="object"&&typeof rOe!="undefined"?e(wV,Tu(),EV(),s0(),hE(),h9(),nOe(),dE(),d9()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-expression","vega-dataflow","vega-scale","vega-scenegraph","vega-selections","vega-statistics","vega-time"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega,n.vega,n.vega,n.vega))})(wV,function(n,e,t,r,i,s,o,a,l){"use strict";function f(le){let ut=this.context.data[le];return ut?ut.values.value:[]}function p(le,ut,en){let Dn=this.context.data[le]["index:"+ut],ir=Dn?Dn.value.get(en):void 0;return ir&&ir.count}function _(le,ut){let en=this.context.dataflow,Dn=this.context.data[le],ir=Dn.input;return en.pulse(ir,en.changeset().remove(e.truthy).insert(ut)),1}function E(le,ut,en){if(le){let Dn=this.context.dataflow,ir=le.mark.source;Dn.pulse(ir,Dn.changeset().encode(le,ut))}return en!==void 0?en:le}let O=le=>function(ut,en){return this.context.dataflow.locale()[le](en)(ut)},R=O("format"),q=O("timeFormat"),z=O("utcFormat"),L=O("timeParse"),B=O("utcParse"),P=new Date(2e3,0,1);function G(le,ut,en){return!Number.isInteger(le)||!Number.isInteger(ut)?"":(P.setYear(2e3),P.setMonth(le),P.setDate(ut),q.call(this,P,en))}function ue(le){return G.call(this,le,1,"%B")}function I(le){return G.call(this,le,1,"%b")}function J(le){return G.call(this,0,2+le,"%A")}function he(le){return G.call(this,0,2+le,"%a")}let ye=":",He="@",at="%",ct="$";function Ze(le,ut,en,Dn){ut[0].type!==t.Literal&&e.error("First argument to data functions must be a string literal.");let ir=ut[0].value,vr=ye+ir;if(!e.hasOwnProperty(vr,Dn))try{Dn[vr]=en.getData(ir).tuplesRef()}catch{}}function Et(le,ut,en,Dn){ut[0].type!==t.Literal&&e.error("First argument to indata must be a string literal."),ut[1].type!==t.Literal&&e.error("Second argument to indata must be a string literal.");let ir=ut[0].value,vr=ut[1].value,dr=He+vr;e.hasOwnProperty(dr,Dn)||(Dn[dr]=en.getData(ir).indataRef(en,vr))}function Mt(le,ut,en,Dn){if(ut[0].type===t.Literal)qe(en,Dn,ut[0].value);else for(le in en.scales)qe(en,Dn,le)}function qe(le,ut,en){let Dn=at+en;if(!e.hasOwnProperty(ut,Dn))try{ut[Dn]=le.scaleRef(en)}catch{}}function te(le,ut){let en;return e.isFunction(le)?le:e.isString(le)?(en=ut.scales[le])&&en.value:void 0}function et(le,ut,en){ut.__bandwidth=ir=>ir&&ir.bandwidth?ir.bandwidth():0,en._bandwidth=Mt,en._range=Mt,en._scale=Mt;let Dn=ir=>"_["+(ir.type===t.Literal?e.stringValue(at+ir.value):e.stringValue(at)+"+"+le(ir))+"]";return{_bandwidth:ir=>`this.__bandwidth(${Dn(ir[0])})`,_range:ir=>`${Dn(ir[0])}.range()`,_scale:ir=>`${Dn(ir[0])}(${le(ir[1])})`}}class be{constructor(){this._partials=new Float64Array(32),this._n=0}add(ut){let en=this._partials,Dn=0;for(let ir=0;ir<this._n&&ir<32;ir++){let vr=en[ir],dr=ut+vr,es=Math.abs(ut)<Math.abs(vr)?ut-(dr-vr):vr-(dr-ut);es&&(en[Dn++]=es),ut=dr}return en[Dn]=ut,this._n=Dn+1,this}valueOf(){let ut=this._partials,en=this._n,Dn,ir,vr,dr=0;if(en>0){for(dr=ut[--en];en>0&&(Dn=dr,ir=ut[--en],dr=Dn+ir,vr=ir-(dr-Dn),!vr););en>0&&(vr<0&&ut[en-1]<0||vr>0&&ut[en-1]>0)&&(ir=vr*2,Dn=dr+ir,ir==Dn-dr&&(dr=Dn))}return dr}}function ke(le,ut,en){le=+le,ut=+ut,en=(ir=arguments.length)<2?(ut=le,le=0,1):ir<3?1:+en;for(var Dn=-1,ir=Math.max(0,Math.ceil((ut-le)/en))|0,vr=new Array(ir);++Dn<ir;)vr[Dn]=le+Dn*en;return vr}var we=1e-6,pe=1e-12,Je=Math.PI,lt=Je/2,Ht=Je/4,Ct=Je*2,mn=180/Je,kt=Je/180,Bt=Math.abs,tn=Math.atan2,bt=Math.cos,ve=Math.hypot,Le=Math.sin,_e=Math.sqrt;function ce(le){return le>1?lt:le<-1?-lt:Math.asin(le)}function tt(){}function Ke(le,ut){le&&Oe.hasOwnProperty(le.type)&&Oe[le.type](le,ut)}var re={Feature:function(le,ut){Ke(le.geometry,ut)},FeatureCollection:function(le,ut){for(var en=le.features,Dn=-1,ir=en.length;++Dn<ir;)Ke(en[Dn].geometry,ut)}},Oe={Sphere:function(le,ut){ut.sphere()},Point:function(le,ut){le=le.coordinates,ut.point(le[0],le[1],le[2])},MultiPoint:function(le,ut){for(var en=le.coordinates,Dn=-1,ir=en.length;++Dn<ir;)le=en[Dn],ut.point(le[0],le[1],le[2])},LineString:function(le,ut){nt(le.coordinates,ut,0)},MultiLineString:function(le,ut){for(var en=le.coordinates,Dn=-1,ir=en.length;++Dn<ir;)nt(en[Dn],ut,0)},Polygon:function(le,ut){ft(le.coordinates,ut)},MultiPolygon:function(le,ut){for(var en=le.coordinates,Dn=-1,ir=en.length;++Dn<ir;)ft(en[Dn],ut)},GeometryCollection:function(le,ut){for(var en=le.geometries,Dn=-1,ir=en.length;++Dn<ir;)Ke(en[Dn],ut)}};function nt(le,ut,en){var Dn=-1,ir=le.length-en,vr;for(ut.lineStart();++Dn<ir;)vr=le[Dn],ut.point(vr[0],vr[1],vr[2]);ut.lineEnd()}function ft(le,ut){var en=-1,Dn=le.length;for(ut.polygonStart();++en<Dn;)nt(le[en],ut,1);ut.polygonEnd()}function Ot(le,ut){le&&re.hasOwnProperty(le.type)?re[le.type](le,ut):Ke(le,ut)}var Yt=new be,Gt=new be,fn,gn,yn,Lt,un,Mn={point:tt,lineStart:tt,lineEnd:tt,polygonStart:function(){Yt=new be,Mn.lineStart=tr,Mn.lineEnd=Rn},polygonEnd:function(){var le=+Yt;Gt.add(le<0?Ct+le:le),this.lineStart=this.lineEnd=this.point=tt},sphere:function(){Gt.add(Ct)}};function tr(){Mn.point=Ne}function Rn(){ze(fn,gn)}function Ne(le,ut){Mn.point=ze,fn=le,gn=ut,le*=kt,ut*=kt,yn=le,Lt=bt(ut=ut/2+Ht),un=Le(ut)}function ze(le,ut){le*=kt,ut*=kt,ut=ut/2+Ht;var en=le-yn,Dn=en>=0?1:-1,ir=Dn*en,vr=bt(ut),dr=Le(ut),es=un*dr,_s=Lt*vr+es*bt(ir),Ls=es*Dn*Le(ir);Yt.add(tn(Ls,_s)),yn=le,Lt=vr,un=dr}function De(le){return Gt=new be,Ot(le,Mn),Gt*2}function Pt(le){return[tn(le[1],le[0]),ce(le[2])]}function mt(le){var ut=le[0],en=le[1],Dn=bt(en);return[Dn*bt(ut),Dn*Le(ut),Le(en)]}function xt(le,ut){return[le[1]*ut[2]-le[2]*ut[1],le[2]*ut[0]-le[0]*ut[2],le[0]*ut[1]-le[1]*ut[0]]}function rn(le){var ut=_e(le[0]*le[0]+le[1]*le[1]+le[2]*le[2]);le[0]/=ut,le[1]/=ut,le[2]/=ut}var Qt,Fn,Wn,Zn,Nn,nr,Ye,vt,oe,Be,rt,Dt={point:hn,lineStart:dt,lineEnd:ie,polygonStart:function(){Dt.point=Te,Dt.lineStart=Ue,Dt.lineEnd=gt,oe=new be,Mn.polygonStart()},polygonEnd:function(){Mn.polygonEnd(),Dt.point=hn,Dt.lineStart=dt,Dt.lineEnd=ie,Yt<0?(Qt=-(Wn=180),Fn=-(Zn=90)):oe>we?Zn=90:oe<-we&&(Fn=-90),rt[0]=Qt,rt[1]=Wn},sphere:function(){Qt=-(Wn=180),Fn=-(Zn=90)}};function hn(le,ut){Be.push(rt=[Qt=le,Wn=le]),ut<Fn&&(Fn=ut),ut>Zn&&(Zn=ut)}function an(le,ut){var en=mt([le*kt,ut*kt]);if(vt){var Dn=xt(vt,en),ir=[Dn[1],-Dn[0],0],vr=xt(ir,Dn);rn(vr),vr=Pt(vr);var dr=le-Nn,es=dr>0?1:-1,_s=vr[0]*mn*es,Ls,oo=Bt(dr)>180;oo^(es*Nn<_s&&_s<es*le)?(Ls=vr[1]*mn,Ls>Zn&&(Zn=Ls)):(_s=(_s+360)%360-180,oo^(es*Nn<_s&&_s<es*le)?(Ls=-vr[1]*mn,Ls<Fn&&(Fn=Ls)):(ut<Fn&&(Fn=ut),ut>Zn&&(Zn=ut))),oo?le<Nn?St(Qt,le)>St(Qt,Wn)&&(Wn=le):St(le,Wn)>St(Qt,Wn)&&(Qt=le):Wn>=Qt?(le<Qt&&(Qt=le),le>Wn&&(Wn=le)):le>Nn?St(Qt,le)>St(Qt,Wn)&&(Wn=le):St(le,Wn)>St(Qt,Wn)&&(Qt=le)}else Be.push(rt=[Qt=le,Wn=le]);ut<Fn&&(Fn=ut),ut>Zn&&(Zn=ut),vt=en,Nn=le}function dt(){Dt.point=an}function ie(){rt[0]=Qt,rt[1]=Wn,Dt.point=hn,vt=null}function Te(le,ut){if(vt){var en=le-Nn;oe.add(Bt(en)>180?en+(en>0?360:-360):en)}else nr=le,Ye=ut;Mn.point(le,ut),an(le,ut)}function Ue(){Mn.lineStart()}function gt(){Te(nr,Ye),Mn.lineEnd(),Bt(oe)>we&&(Qt=-(Wn=180)),rt[0]=Qt,rt[1]=Wn,vt=null}function St(le,ut){return(ut-=le)<0?ut+360:ut}function Rt(le,ut){return le[0]-ut[0]}function ne(le,ut){return le[0]<=le[1]?le[0]<=ut&&ut<=le[1]:ut<le[0]||le[1]<ut}function Ce(le){var ut,en,Dn,ir,vr,dr,es;if(Zn=Wn=-(Qt=Fn=1/0),Be=[],Ot(le,Dt),en=Be.length){for(Be.sort(Rt),ut=1,Dn=Be[0],vr=[Dn];ut<en;++ut)ir=Be[ut],ne(Dn,ir[0])||ne(Dn,ir[1])?(St(Dn[0],ir[1])>St(Dn[0],Dn[1])&&(Dn[1]=ir[1]),St(ir[0],Dn[1])>St(Dn[0],Dn[1])&&(Dn[0]=ir[0])):vr.push(Dn=ir);for(dr=-1/0,en=vr.length-1,ut=0,Dn=vr[en];ut<=en;Dn=ir,++ut)ir=vr[ut],(es=St(Dn[1],ir[0]))>dr&&(dr=es,Qt=ir[0],Wn=Dn[1])}return Be=rt=null,Qt===1/0||Fn===1/0?[[NaN,NaN],[NaN,NaN]]:[[Qt,Fn],[Wn,Zn]]}var We,st,Ut,sn,Cn,En,vn,zn,Re,$e,Ft,N,V,Ee,xe,K,ae={sphere:tt,point:fe,lineStart:It,lineEnd:w,polygonStart:function(){ae.lineStart=j,ae.lineEnd=ee},polygonEnd:function(){ae.lineStart=It,ae.lineEnd=w}};function fe(le,ut){le*=kt,ut*=kt;var en=bt(ut);Qe(en*bt(le),en*Le(le),Le(ut))}function Qe(le,ut,en){++We,Ut+=(le-Ut)/We,sn+=(ut-sn)/We,Cn+=(en-Cn)/We}function It(){ae.point=At}function At(le,ut){le*=kt,ut*=kt;var en=bt(ut);Ee=en*bt(le),xe=en*Le(le),K=Le(ut),ae.point=dn,Qe(Ee,xe,K)}function dn(le,ut){le*=kt,ut*=kt;var en=bt(ut),Dn=en*bt(le),ir=en*Le(le),vr=Le(ut),dr=tn(_e((dr=xe*vr-K*ir)*dr+(dr=K*Dn-Ee*vr)*dr+(dr=Ee*ir-xe*Dn)*dr),Ee*Dn+xe*ir+K*vr);st+=dr,En+=dr*(Ee+(Ee=Dn)),vn+=dr*(xe+(xe=ir)),zn+=dr*(K+(K=vr)),Qe(Ee,xe,K)}function w(){ae.point=fe}function j(){ae.point=Se}function ee(){ht(N,V),ae.point=fe}function Se(le,ut){N=le,V=ut,le*=kt,ut*=kt,ae.point=ht;var en=bt(ut);Ee=en*bt(le),xe=en*Le(le),K=Le(ut),Qe(Ee,xe,K)}function ht(le,ut){le*=kt,ut*=kt;var en=bt(ut),Dn=en*bt(le),ir=en*Le(le),vr=Le(ut),dr=xe*vr-K*ir,es=K*Dn-Ee*vr,_s=Ee*ir-xe*Dn,Ls=ve(dr,es,_s),oo=ce(Ls),Za=Ls&&-oo/Ls;Re.add(Za*dr),$e.add(Za*es),Ft.add(Za*_s),st+=oo,En+=oo*(Ee+(Ee=Dn)),vn+=oo*(xe+(xe=ir)),zn+=oo*(K+(K=vr)),Qe(Ee,xe,K)}function Tt(le){We=st=Ut=sn=Cn=En=vn=zn=0,Re=new be,$e=new be,Ft=new be,Ot(le,ae);var ut=+Re,en=+$e,Dn=+Ft,ir=ve(ut,en,Dn);return ir<pe&&(ut=En,en=vn,Dn=zn,st<we&&(ut=Ut,en=sn,Dn=Cn),ir=ve(ut,en,Dn),ir<pe)?[NaN,NaN]:[tn(en,ut)*mn,ce(Dn/ir)*mn]}function Zt(le,ut){return function(en,Dn,ir){if(en){let vr=te(en,(ir||this).context);return vr&&vr.path[le](Dn)}else return ut(Dn)}}let Xt=Zt("area",De),xn=Zt("bounds",Ce),qn=Zt("centroid",Tt);function Un(le){let ut=this.context.group,en=!1;if(ut)for(;le;){if(le===ut){en=!0;break}le=le.mark.group}return en}function Vn(le,ut,en){try{le[ut].apply(le,["EXPRESSION"].concat([].slice.call(en)))}catch(Dn){le.warn(Dn)}return en[en.length-1]}function Jr(){return Vn(this.context.dataflow,"warn",arguments)}function Vr(){return Vn(this.context.dataflow,"info",arguments)}function yr(){return Vn(this.context.dataflow,"debug",arguments)}function Mr(le,ut,en){le.prototype=ut.prototype=en,en.constructor=le}function xi(le,ut){var en=Object.create(le.prototype);for(var Dn in ut)en[Dn]=ut[Dn];return en}function ai(){}var Xi=.7,ws=1/Xi,ts="\\s*([+-]?\\d+)\\s*",Aa="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",xa="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yl=/^#([0-9a-f]{3,8})$/,Nc=new RegExp("^rgb\\("+[ts,ts,ts]+"\\)$"),fu=new RegExp("^rgb\\("+[xa,xa,xa]+"\\)$"),du=new RegExp("^rgba\\("+[ts,ts,ts,Aa]+"\\)$"),Xu=new RegExp("^rgba\\("+[xa,xa,xa,Aa]+"\\)$"),Du=new RegExp("^hsl\\("+[Aa,xa,xa]+"\\)$"),Lc=new RegExp("^hsla\\("+[Aa,xa,xa,Aa]+"\\)$"),na={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mr(ai,Kt,{copy:function(le){return Object.assign(new this.constructor,this,le)},displayable:function(){return this.rgb().displayable()},hex:Zu,formatHex:Zu,formatHsl:nf,formatRgb:Ge,toString:Ge});function Zu(){return this.rgb().formatHex()}function nf(){return so(this).formatHsl()}function Ge(){return this.rgb().formatRgb()}function Kt(le){var ut,en;return le=(le+"").trim().toLowerCase(),(ut=yl.exec(le))?(en=ut[1].length,ut=parseInt(ut[1],16),en===6?jn(ut):en===3?new Xr(ut>>8&15|ut>>4&240,ut>>4&15|ut&240,(ut&15)<<4|ut&15,1):en===8?Yn(ut>>24&255,ut>>16&255,ut>>8&255,(ut&255)/255):en===4?Yn(ut>>12&15|ut>>8&240,ut>>8&15|ut>>4&240,ut>>4&15|ut&240,((ut&15)<<4|ut&15)/255):null):(ut=Nc.exec(le))?new Xr(ut[1],ut[2],ut[3],1):(ut=fu.exec(le))?new Xr(ut[1]*255/100,ut[2]*255/100,ut[3]*255/100,1):(ut=du.exec(le))?Yn(ut[1],ut[2],ut[3],ut[4]):(ut=Xu.exec(le))?Yn(ut[1]*255/100,ut[2]*255/100,ut[3]*255/100,ut[4]):(ut=Du.exec(le))?us(ut[1],ut[2]/100,ut[3]/100,1):(ut=Lc.exec(le))?us(ut[1],ut[2]/100,ut[3]/100,ut[4]):na.hasOwnProperty(le)?jn(na[le]):le==="transparent"?new Xr(NaN,NaN,NaN,0):null}function jn(le){return new Xr(le>>16&255,le>>8&255,le&255,1)}function Yn(le,ut,en,Dn){return Dn<=0&&(le=ut=en=NaN),new Xr(le,ut,en,Dn)}function ri(le){return le instanceof ai||(le=Kt(le)),le?(le=le.rgb(),new Xr(le.r,le.g,le.b,le.opacity)):new Xr}function Br(le,ut,en,Dn){return arguments.length===1?ri(le):new Xr(le,ut,en,Dn??1)}function Xr(le,ut,en,Dn){this.r=+le,this.g=+ut,this.b=+en,this.opacity=+Dn}Mr(Xr,Br,xi(ai,{brighter:function(le){return le=le==null?ws:Math.pow(ws,le),new Xr(this.r*le,this.g*le,this.b*le,this.opacity)},darker:function(le){return le=le==null?Xi:Math.pow(Xi,le),new Xr(this.r*le,this.g*le,this.b*le,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:As,formatHex:As,formatRgb:fo,toString:fo}));function As(){return"#"+io(this.r)+io(this.g)+io(this.b)}function fo(){var le=this.opacity;return le=isNaN(le)?1:Math.max(0,Math.min(1,le)),(le===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(le===1?")":", "+le+")")}function io(le){return le=Math.max(0,Math.min(255,Math.round(le)||0)),(le<16?"0":"")+le.toString(16)}function us(le,ut,en,Dn){return Dn<=0?le=ut=en=NaN:en<=0||en>=1?le=ut=NaN:ut<=0&&(le=NaN),new hi(le,ut,en,Dn)}function so(le){if(le instanceof hi)return new hi(le.h,le.s,le.l,le.opacity);if(le instanceof ai||(le=Kt(le)),!le)return new hi;if(le instanceof hi)return le;le=le.rgb();var ut=le.r/255,en=le.g/255,Dn=le.b/255,ir=Math.min(ut,en,Dn),vr=Math.max(ut,en,Dn),dr=NaN,es=vr-ir,_s=(vr+ir)/2;return es?(ut===vr?dr=(en-Dn)/es+(en<Dn)*6:en===vr?dr=(Dn-ut)/es+2:dr=(ut-en)/es+4,es/=_s<.5?vr+ir:2-vr-ir,dr*=60):es=_s>0&&_s<1?0:dr,new hi(dr,es,_s,le.opacity)}function ho(le,ut,en,Dn){return arguments.length===1?so(le):new hi(le,ut,en,Dn??1)}function hi(le,ut,en,Dn){this.h=+le,this.s=+ut,this.l=+en,this.opacity=+Dn}Mr(hi,ho,xi(ai,{brighter:function(le){return le=le==null?ws:Math.pow(ws,le),new hi(this.h,this.s,this.l*le,this.opacity)},darker:function(le){return le=le==null?Xi:Math.pow(Xi,le),new hi(this.h,this.s,this.l*le,this.opacity)},rgb:function(){var le=this.h%360+(this.h<0)*360,ut=isNaN(le)||isNaN(this.s)?0:this.s,en=this.l,Dn=en+(en<.5?en:1-en)*ut,ir=2*en-Dn;return new Xr(Ei(le>=240?le-240:le+120,ir,Dn),Ei(le,ir,Dn),Ei(le<120?le+240:le-120,ir,Dn),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var le=this.opacity;return le=isNaN(le)?1:Math.max(0,Math.min(1,le)),(le===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(le===1?")":", "+le+")")}}));function Ei(le,ut,en){return(le<60?ut+(en-ut)*le/60:le<180?en:le<240?ut+(en-ut)*(240-le)/60:ut)*255}let Wi=Math.PI/180,Xo=180/Math.PI,da=18,ha=.96422,po=1,ls=.82521,ps=4/29,Zi=6/29,hu=3*Zi*Zi,Ps=Zi*Zi*Zi;function ga(le){if(le instanceof Ri)return new Ri(le.l,le.a,le.b,le.opacity);if(le instanceof Ro)return To(le);le instanceof Xr||(le=ri(le));var ut=Oo(le.r),en=Oo(le.g),Dn=Oo(le.b),ir=Wo((.2225045*ut+.7168786*en+.0606169*Dn)/po),vr,dr;return ut===en&&en===Dn?vr=dr=ir:(vr=Wo((.4360747*ut+.3850649*en+.1430804*Dn)/ha),dr=Wo((.0139322*ut+.0971045*en+.7141733*Dn)/ls)),new Ri(116*ir-16,500*(vr-ir),200*(ir-dr),le.opacity)}function aa(le,ut,en,Dn){return arguments.length===1?ga(le):new Ri(le,ut,en,Dn??1)}function Ri(le,ut,en,Dn){this.l=+le,this.a=+ut,this.b=+en,this.opacity=+Dn}Mr(Ri,aa,xi(ai,{brighter:function(le){return new Ri(this.l+da*(le??1),this.a,this.b,this.opacity)},darker:function(le){return new Ri(this.l-da*(le??1),this.a,this.b,this.opacity)},rgb:function(){var le=(this.l+16)/116,ut=isNaN(this.a)?le:le+this.a/500,en=isNaN(this.b)?le:le-this.b/200;return ut=ha*vs(ut),le=po*vs(le),en=ls*vs(en),new Xr(Ii(3.1338561*ut-1.6168667*le-.4906146*en),Ii(-.9787684*ut+1.9161415*le+.033454*en),Ii(.0719453*ut-.2289914*le+1.4052427*en),this.opacity)}}));function Wo(le){return le>Ps?Math.pow(le,1/3):le/hu+ps}function vs(le){return le>Zi?le*le*le:hu*(le-ps)}function Ii(le){return 255*(le<=.0031308?12.92*le:1.055*Math.pow(le,1/2.4)-.055)}function Oo(le){return(le/=255)<=.04045?le/12.92:Math.pow((le+.055)/1.055,2.4)}function ka(le){if(le instanceof Ro)return new Ro(le.h,le.c,le.l,le.opacity);if(le instanceof Ri||(le=ga(le)),le.a===0&&le.b===0)return new Ro(NaN,0<le.l&&le.l<100?0:NaN,le.l,le.opacity);var ut=Math.atan2(le.b,le.a)*Xo;return new Ro(ut<0?ut+360:ut,Math.sqrt(le.a*le.a+le.b*le.b),le.l,le.opacity)}function Xa(le,ut,en,Dn){return arguments.length===1?ka(le):new Ro(le,ut,en,Dn??1)}function Ro(le,ut,en,Dn){this.h=+le,this.c=+ut,this.l=+en,this.opacity=+Dn}function To(le){if(isNaN(le.h))return new Ri(le.l,0,0,le.opacity);var ut=le.h*Wi;return new Ri(le.l,Math.cos(ut)*le.c,Math.sin(ut)*le.c,le.opacity)}Mr(Ro,Xa,xi(ai,{brighter:function(le){return new Ro(this.h,this.c,this.l+da*(le??1),this.opacity)},darker:function(le){return new Ro(this.h,this.c,this.l-da*(le??1),this.opacity)},rgb:function(){return To(this).rgb()}}));function $a(le){let ut=le/255;return ut<=.03928?ut/12.92:Math.pow((ut+.055)/1.055,2.4)}function pu(le){let ut=Br(le),en=$a(ut.r),Dn=$a(ut.g),ir=$a(ut.b);return .2126*en+.7152*Dn+.0722*ir}function za(le,ut){let en=pu(le),Dn=pu(ut),ir=Math.max(en,Dn),vr=Math.min(en,Dn);return(ir+.05)/(vr+.05)}function ua(){let le=[].slice.call(arguments);return le.unshift({}),e.extend(...le)}function la(le,ut){return le===ut||le!==le&&ut!==ut?!0:e.isArray(le)?e.isArray(ut)&&le.length===ut.length?vl(le,ut):!1:e.isObject(le)&&e.isObject(ut)?Hl(le,ut):!1}function vl(le,ut){for(let en=0,Dn=le.length;en<Dn;++en)if(!la(le[en],ut[en]))return!1;return!0}function Hl(le,ut){for(let en in le)if(!la(le[en],ut[en]))return!1;return!0}function ra(le){return ut=>Hl(le,ut)}function el(le,ut,en,Dn,ir,vr){let dr=this.context.dataflow,es=this.context.data[le],_s=es.input,Ls=dr.stamp(),oo=es.changes,Za,sc;if(dr._trigger===!1||!(_s.value.length||ut||Dn))return 0;if((!oo||oo.stamp<Ls)&&(es.changes=oo=dr.changeset(),oo.stamp=Ls,dr.runAfter(()=>{es.modified=!0,dr.pulse(_s,oo).run()},!0,1)),en&&(Za=en===!0?e.truthy:e.isArray(en)||r.isTuple(en)?en:ra(en),oo.remove(Za)),ut&&oo.insert(ut),Dn&&(Za=ra(Dn),_s.value.some(Za)?oo.remove(Za):oo.insert(Dn)),ir)for(sc in vr)oo.modify(ir,sc,vr[sc]);return 1}function ui(le){let ut=le.touches,en=ut[0].clientX-ut[1].clientX,Dn=ut[0].clientY-ut[1].clientY;return Math.sqrt(en*en+Dn*Dn)}function rs(le){let ut=le.touches;return Math.atan2(ut[0].clientY-ut[1].clientY,ut[0].clientX-ut[1].clientX)}let cs={};function mr(le,ut){let en=cs[ut]||(cs[ut]=e.field(ut));return e.isArray(le)?le.map(en):en(le)}function is(le){return e.isArray(le)||ArrayBuffer.isView(le)?le:null}function Ie(le){return is(le)||(e.isString(le)?le:null)}function yt(le,...ut){return is(le).join(...ut)}function Jt(le,...ut){return Ie(le).indexOf(...ut)}function $t(le,...ut){return Ie(le).lastIndexOf(...ut)}function pn(le,...ut){return Ie(le).slice(...ut)}function Ln(le,ut,en){return e.isFunction(en)&&e.error("Function argument passed to replace."),String(le).replace(ut,en)}function Kn(le){return is(le).slice().reverse()}function $n(le,ut,en){return i.bandSpace(le||0,ut||0,en||0)}function br(le,ut){let en=te(le,(ut||this).context);return en&&en.bandwidth?en.bandwidth():0}function Cr(le,ut){let en=te(le,(ut||this).context);return en?en.copy():void 0}function Gn(le,ut){let en=te(le,(ut||this).context);return en?en.domain():[]}function ar(le,ut,en){let Dn=te(le,(en||this).context);return Dn?e.isArray(ut)?(Dn.invertRange||Dn.invert)(ut):(Dn.invert||Dn.invertExtent)(ut):void 0}function er(le,ut){let en=te(le,(ut||this).context);return en&&en.range?en.range():[]}function gr(le,ut,en){let Dn=te(le,(en||this).context);return Dn?Dn(ut):void 0}function Rr(le,ut,en,Dn,ir){le=te(le,(ir||this).context);let vr=s.Gradient(ut,en),dr=le.domain(),es=dr[0],_s=e.peek(dr),Ls=e.identity;return _s-es?Ls=i.scaleFraction(le,es,_s):le=(le.interpolator?i.scale("sequential")().interpolator(le.interpolator()):i.scale("linear")().interpolate(le.interpolate()).range(le.range())).domain([es=0,_s=1]),le.ticks&&(dr=le.ticks(+Dn||15),es!==dr[0]&&dr.unshift(es),_s!==e.peek(dr)&&dr.push(_s)),dr.forEach(oo=>vr.stop(Ls(oo),le(oo))),vr}function di(le,ut,en){let Dn=te(le,(en||this).context);return function(ir){return Dn?Dn.path.context(ir)(ut):""}}function ni(le){let ut=null;return function(en){return en?s.pathRender(en,ut=ut||s.pathParse(le)):le}}let pi=le=>le.data;function ii(le,ut){let en=f.call(ut,le);return en.root&&en.root.lookup||{}}function qr(le,ut,en){let Dn=ii(le,this),ir=Dn[ut],vr=Dn[en];return ir&&vr?ir.path(vr).map(pi):void 0}function Ir(le,ut){let en=ii(le,this)[ut];return en?en.ancestors().map(pi):void 0}let yi=()=>typeof window!="undefined"&&window||null;function gi(){let le=yi();return le?le.screen:{}}function os(){let le=yi();return le?[le.innerWidth,le.innerHeight]:[void 0,void 0]}function xs(){let le=this.context.dataflow,ut=le.container&&le.container();return ut?[ut.clientWidth,ut.clientHeight]:[void 0,void 0]}function vi(le,ut,en){if(!le)return[];let[Dn,ir]=le,vr=new s.Bounds().set(Dn[0],Dn[1],ir[0],ir[1]),dr=en||this.context.dataflow.scenegraph().root;return s.intersect(dr,vr,Bs(ut))}function Bs(le){let ut=null;if(le){let en=e.array(le.marktype),Dn=e.array(le.markname);ut=ir=>(!en.length||en.some(vr=>ir.marktype===vr))&&(!Dn.length||Dn.some(vr=>ir.name===vr))}return ut}function ss(le,ut,en,Dn=5){let ir=le[le.length-1];return ir===void 0||Math.sqrt((ir[0]-ut)**2+(ir[1]-en)**2)>Dn?(le.push([ut,en]),[...le]):le}function ya(le){return(le??[]).reduce((ut,[en,Dn],ir)=>ut+=ir==0?`M ${en},${Dn} `:ir===le.length-1?" Z":`L ${en},${Dn} `,"")}function No(le,ut,en){let{x:Dn,y:ir,mark:vr}=en,dr=new s.Bounds().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(let[_s,Ls]of ut)_s<dr.x1&&(dr.x1=_s),_s>dr.x2&&(dr.x2=_s),Ls<dr.y1&&(dr.y1=Ls),Ls>dr.y2&&(dr.y2=Ls);return dr.translate(Dn,ir),vi([[dr.x1,dr.y1],[dr.x2,dr.y2]],le,vr).filter(_s=>Ts(_s.x,_s.y,ut))}function Ts(le,ut,en){let Dn=0;for(let ir=0,vr=en.length-1;ir<en.length;vr=ir++){let[dr,es]=en[vr],[_s,Ls]=en[ir];Ls>ut!=es>ut&&le<(dr-_s)*(ut-Ls)/(es-Ls)+_s&&Dn++}return Dn&1}let nn={random(){return a.random()},cumulativeNormal:a.cumulativeNormal,cumulativeLogNormal:a.cumulativeLogNormal,cumulativeUniform:a.cumulativeUniform,densityNormal:a.densityNormal,densityLogNormal:a.densityLogNormal,densityUniform:a.densityUniform,quantileNormal:a.quantileNormal,quantileLogNormal:a.quantileLogNormal,quantileUniform:a.quantileUniform,sampleNormal:a.sampleNormal,sampleLogNormal:a.sampleLogNormal,sampleUniform:a.sampleUniform,isArray:e.isArray,isBoolean:e.isBoolean,isDate:e.isDate,isDefined(le){return le!==void 0},isNumber:e.isNumber,isObject:e.isObject,isRegExp:e.isRegExp,isString:e.isString,isTuple:r.isTuple,isValid(le){return le!=null&&le===le},toBoolean:e.toBoolean,toDate(le){return e.toDate(le)},toNumber:e.toNumber,toString:e.toString,indexof:Jt,join:yt,lastindexof:$t,replace:Ln,reverse:Kn,slice:pn,flush:e.flush,lerp:e.lerp,merge:ua,pad:e.pad,peek:e.peek,pluck:mr,span:e.span,inrange:e.inrange,truncate:e.truncate,rgb:Br,lab:aa,hcl:Xa,hsl:ho,luminance:pu,contrast:za,sequence:ke,format:R,utcFormat:z,utcParse:B,utcOffset:l.utcOffset,utcSequence:l.utcSequence,timeFormat:q,timeParse:L,timeOffset:l.timeOffset,timeSequence:l.timeSequence,timeUnitSpecifier:l.timeUnitSpecifier,monthFormat:ue,monthAbbrevFormat:I,dayFormat:J,dayAbbrevFormat:he,quarter:e.quarter,utcquarter:e.utcquarter,week:l.week,utcweek:l.utcweek,dayofyear:l.dayofyear,utcdayofyear:l.utcdayofyear,warn:Jr,info:Vr,debug:yr,extent(le){return e.extent(le)},inScope:Un,intersect:vi,clampRange:e.clampRange,pinchDistance:ui,pinchAngle:rs,screen:gi,containerSize:xs,windowSize:os,bandspace:$n,setdata:_,pathShape:ni,panLinear:e.panLinear,panLog:e.panLog,panPow:e.panPow,panSymlog:e.panSymlog,zoomLinear:e.zoomLinear,zoomLog:e.zoomLog,zoomPow:e.zoomPow,zoomSymlog:e.zoomSymlog,encode:E,modify:el,lassoAppend:ss,lassoPath:ya,intersectLasso:No},Jn=["view","item","group","xy","x","y"],bn="event.vega.",Yr="this.",Ti={},ns={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:le=>`_[${e.stringValue(ct+le)}]`,functions:Hi,constants:t.constants,visitors:Ti},ms=t.codegenExpression(ns);function Hi(le){let ut=t.functions(le);Jn.forEach(en=>ut[en]=bn+en);for(let en in nn)ut[en]=Yr+en;return e.extend(ut,et(le,nn,Ti)),ut}function fs(le,ut,en){return arguments.length===1?nn[le]:(nn[le]=ut,en&&(Ti[le]=en),ms&&(ms.functions[le]=Yr+le),this)}fs("bandwidth",br,Mt),fs("copy",Cr,Mt),fs("domain",Gn,Mt),fs("range",er,Mt),fs("invert",ar,Mt),fs("scale",gr,Mt),fs("gradient",Rr,Mt),fs("geoArea",Xt,Mt),fs("geoBounds",xn,Mt),fs("geoCentroid",qn,Mt),fs("geoShape",di,Mt),fs("indata",p,Et),fs("data",f,Ze),fs("treePath",qr,Ze),fs("treeAncestors",Ir,Ze),fs("vlSelectionTest",o.selectionTest,o.selectionVisitor),fs("vlSelectionIdTest",o.selectionIdTest,o.selectionVisitor),fs("vlSelectionResolve",o.selectionResolve,o.selectionVisitor),fs("vlSelectionTuples",o.selectionTuples);function mu(le,ut){let en={},Dn;try{le=e.isString(le)?le:e.stringValue(le)+"",Dn=t.parseExpression(le)}catch{e.error("Expression parse error: "+le)}Dn.visit(vr=>{if(vr.type!==t.CallExpression)return;let dr=vr.callee.name,es=ns.visitors[dr];es&&es(dr,vr.arguments,ut,en)});let ir=ms(Dn);return ir.globals.forEach(vr=>{let dr=ct+vr;!e.hasOwnProperty(en,dr)&&ut.getSignal(vr)&&(en[dr]=ut.signalRef(vr))}),{$expr:e.extend({code:ir.code},ut.options.ast?{ast:Dn}:null),$fields:ir.fields,$params:en}}n.DataPrefix=ye,n.IndexPrefix=He,n.ScalePrefix=at,n.SignalPrefix=ct,n.bandspace=$n,n.bandwidth=br,n.codeGenerator=ms,n.codegenParams=ns,n.containerSize=xs,n.contrast=za,n.copy=Cr,n.data=f,n.dataVisitor=Ze,n.dayAbbrevFormat=he,n.dayFormat=J,n.debug=yr,n.domain=Gn,n.encode=E,n.expressionFunction=fs,n.format=R,n.functionContext=nn,n.geoArea=Xt,n.geoBounds=xn,n.geoCentroid=qn,n.geoShape=di,n.inScope=Un,n.indata=p,n.indataVisitor=Et,n.indexof=Jt,n.info=Vr,n.invert=ar,n.join=yt,n.lastindexof=$t,n.luminance=pu,n.merge=ua,n.modify=el,n.monthAbbrevFormat=I,n.monthFormat=ue,n.parseExpression=mu,n.pathShape=ni,n.pinchAngle=rs,n.pinchDistance=ui,n.pluck=mr,n.range=er,n.replace=Ln,n.reverse=Kn,n.scale=gr,n.scaleGradient=Rr,n.scaleVisitor=Mt,n.screen=gi,n.setdata=_,n.slice=pn,n.timeFormat=q,n.timeParse=L,n.treeAncestors=Ir,n.treePath=qr,n.utcFormat=z,n.utcParse=B,n.warn=Jr,n.windowSize=os,Object.defineProperty(n,"__esModule",{value:!0})})});var Tle=Ae((AV,iOe)=>{m();(function(n,e){typeof AV=="object"&&typeof iOe!="undefined"?e(AV,Tu(),s0()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-dataflow"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(AV,function(n,e,t){"use strict";function r(be){let ke=this,we=be.operators||[];return be.background&&(ke.background=be.background),be.eventConfig&&(ke.eventConfig=be.eventConfig),be.locale&&(ke.locale=be.locale),we.forEach(pe=>ke.parseOperator(pe)),we.forEach(pe=>ke.parseOperatorParameters(pe)),(be.streams||[]).forEach(pe=>ke.parseStream(pe)),(be.updates||[]).forEach(pe=>ke.parseUpdate(pe)),ke.resolve()}let i=e.toSet(["rule"]),s=e.toSet(["group","image","rect"]);function o(be,ke){let we="";return i[ke]||(be.x2&&(be.x?(s[ke]&&(we+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),we+="o.width=o.x2-o.x;"):we+="o.x=o.x2-(o.width||0);"),be.xc&&(we+="o.x=o.xc-(o.width||0)/2;"),be.y2&&(be.y?(s[ke]&&(we+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),we+="o.height=o.y2-o.y;"):we+="o.y=o.y2-(o.height||0);"),be.yc&&(we+="o.y=o.yc-(o.height||0)/2;")),we}function a(be){return(be+"").toLowerCase()}function l(be){return a(be)==="operator"}function f(be){return a(be)==="collect"}function p(be,ke,we){we[we.length-1]!==";"&&(we="return("+we+");");let pe=Function(...ke.concat(we));return be&&be.functions?pe.bind(be.functions):pe}function _(be,ke,we,pe){return`((u = ${be}) < (v = ${ke}) || u == null) && v != null ? ${we}
  : (u > v || v == null) && u != null ? ${pe}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${we}
  : v !== v && u === u ? ${pe} : `}var E={operator:(be,ke)=>p(be,["_"],ke.code),parameter:(be,ke)=>p(be,["datum","_"],ke.code),event:(be,ke)=>p(be,["event"],ke.code),handler:(be,ke)=>{let we=`var datum=event.item&&event.item.datum;return ${ke.code};`;return p(be,["_","event"],we)},encode:(be,ke)=>{let{marktype:we,channels:pe}=ke,Je="var o=item,datum=o.datum,m=0,$;";for(let lt in pe){let Ht="o["+e.stringValue(lt)+"]";Je+=`$=${pe[lt].code};if(${Ht}!==$)${Ht}=$,m=1;`}return Je+=o(pe,we),Je+="return m;",p(be,["item","_"],Je)},codegen:{get(be){let ke=`[${be.map(e.stringValue).join("][")}]`,we=Function("_",`return _${ke};`);return we.path=ke,we},comparator(be,ke){let we,pe=(lt,Ht)=>{let Ct=ke[Ht],mn,kt;return lt.path?(mn=`a${lt.path}`,kt=`b${lt.path}`):((we=we||{})["f"+Ht]=lt,mn=`this.f${Ht}(a)`,kt=`this.f${Ht}(b)`),_(mn,kt,-Ct,Ct)},Je=Function("a","b","var u, v; return "+be.map(pe).join("")+"0;");return we?Je.bind(we):Je}}};function O(be){let ke=this;l(be.type)||!be.type?ke.operator(be,be.update?ke.operatorExpression(be.update):null):ke.transform(be,be.type)}function R(be){let ke=this;if(be.params){let we=ke.get(be.id);we||e.error("Invalid operator id: "+be.id),ke.dataflow.connect(we,we.parameters(ke.parseParameters(be.params),be.react,be.initonly))}}function q(be,ke){ke=ke||{};let we=this;for(let pe in be){let Je=be[pe];ke[pe]=e.isArray(Je)?Je.map(lt=>z(lt,we,ke)):z(Je,we,ke)}return ke}function z(be,ke,we){if(!be||!e.isObject(be))return be;for(let pe=0,Je=L.length,lt;pe<Je;++pe)if(lt=L[pe],e.hasOwnProperty(be,lt.key))return lt.parse(be,ke,we);return be}var L=[{key:"$ref",parse:B},{key:"$key",parse:G},{key:"$expr",parse:P},{key:"$field",parse:ue},{key:"$encode",parse:J},{key:"$compare",parse:I},{key:"$context",parse:he},{key:"$subflow",parse:ye},{key:"$tupleid",parse:He}];function B(be,ke){return ke.get(be.$ref)||e.error("Operator not defined: "+be.$ref)}function P(be,ke,we){be.$params&&ke.parseParameters(be.$params,we);let pe="e:"+be.$expr.code+"_"+be.$name;return ke.fn[pe]||(ke.fn[pe]=e.accessor(ke.parameterExpression(be.$expr),be.$fields,be.$name))}function G(be,ke){let we="k:"+be.$key+"_"+!!be.$flat;return ke.fn[we]||(ke.fn[we]=e.key(be.$key,be.$flat,ke.expr.codegen))}function ue(be,ke){if(!be.$field)return null;let we="f:"+be.$field+"_"+be.$name;return ke.fn[we]||(ke.fn[we]=e.field(be.$field,be.$name,ke.expr.codegen))}function I(be,ke){let we="c:"+be.$compare+"_"+be.$order,pe=e.array(be.$compare).map(Je=>Je&&Je.$tupleid?t.tupleid:Je);return ke.fn[we]||(ke.fn[we]=e.compare(pe,be.$order,ke.expr.codegen))}function J(be,ke){let we=be.$encode,pe={};for(let Je in we){let lt=we[Je];pe[Je]=e.accessor(ke.encodeExpression(lt.$expr),lt.$fields),pe[Je].output=lt.$output}return pe}function he(be,ke){return ke}function ye(be,ke){let we=be.$subflow;return function(pe,Je,lt){let Ht=ke.fork().parse(we),Ct=Ht.get(we.operators[0].id),mn=Ht.signals.parent;return mn&&mn.set(lt),Ct.detachSubflow=()=>ke.detach(Ht),Ct}}function He(){return t.tupleid}function at(be){var ke=this,we=be.filter!=null?ke.eventExpression(be.filter):void 0,pe=be.stream!=null?ke.get(be.stream):void 0,Je;be.source?pe=ke.events(be.source,be.type,we):be.merge&&(Je=be.merge.map(lt=>ke.get(lt)),pe=Je[0].merge.apply(Je[0],Je.slice(1))),be.between&&(Je=be.between.map(lt=>ke.get(lt)),pe=pe.between(Je[0],Je[1])),be.filter&&(pe=pe.filter(we)),be.throttle!=null&&(pe=pe.throttle(+be.throttle)),be.debounce!=null&&(pe=pe.debounce(+be.debounce)),pe==null&&e.error("Invalid stream definition: "+JSON.stringify(be)),be.consume&&pe.consume(!0),ke.stream(be,pe)}function ct(be){var ke=this,we=e.isObject(we=be.source)?we.$ref:we,pe=ke.get(we),Je=null,lt=be.update,Ht=void 0;pe||e.error("Source not defined: "+be.source),Je=be.target&&be.target.$expr?ke.eventExpression(be.target.$expr):ke.get(be.target),lt&&lt.$expr&&(lt.$params&&(Ht=ke.parseParameters(lt.$params)),lt=ke.handlerExpression(lt.$expr)),ke.update(be,pe,Je,lt,Ht)}let Ze={skip:!0};function Et(be){var ke=this,we={};if(be.signals){var pe=we.signals={};Object.keys(ke.signals).forEach(lt=>{let Ht=ke.signals[lt];be.signals(lt,Ht)&&(pe[lt]=Ht.value)})}if(be.data){var Je=we.data={};Object.keys(ke.data).forEach(lt=>{let Ht=ke.data[lt];be.data(lt,Ht)&&(Je[lt]=Ht.input.value)})}return ke.subcontext&&be.recurse!==!1&&(we.subcontext=ke.subcontext.map(lt=>lt.getState(be))),we}function Mt(be){var ke=this,we=ke.dataflow,pe=be.data,Je=be.signals;Object.keys(Je||{}).forEach(lt=>{we.update(ke.signals[lt],Je[lt],Ze)}),Object.keys(pe||{}).forEach(lt=>{we.pulse(ke.data[lt].input,we.changeset().remove(e.truthy).insert(pe[lt]))}),(be.subcontext||[]).forEach((lt,Ht)=>{let Ct=ke.subcontext[Ht];Ct&&Ct.setState(lt)})}function qe(be,ke,we,pe){return new te(be,ke,we,pe)}function te(be,ke,we,pe){this.dataflow=be,this.transforms=ke,this.events=be.events.bind(be),this.expr=pe||E,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},we&&(this.functions=Object.create(we),this.functions.context=this)}function et(be){this.dataflow=be.dataflow,this.transforms=be.transforms,this.events=be.events,this.expr=be.expr,this.signals=Object.create(be.signals),this.scales=Object.create(be.scales),this.nodes=Object.create(be.nodes),this.data=Object.create(be.data),this.fn=Object.create(be.fn),be.functions&&(this.functions=Object.create(be.functions),this.functions.context=this)}te.prototype=et.prototype={fork(){let be=new et(this);return(this.subcontext||(this.subcontext=[])).push(be),be},detach(be){this.subcontext=this.subcontext.filter(we=>we!==be);let ke=Object.keys(be.nodes);for(let we of ke)be.nodes[we]._targets=null;for(let we of ke)be.nodes[we].detach();be.nodes=null},get(be){return this.nodes[be]},set(be,ke){return this.nodes[be]=ke},add(be,ke){let we=this,pe=we.dataflow,Je=be.value;if(we.set(be.id,ke),f(be.type)&&Je&&(Je.$ingest?pe.ingest(ke,Je.$ingest,Je.$format):Je.$request?pe.preload(ke,Je.$request,Je.$format):pe.pulse(ke,pe.changeset().insert(Je))),be.root&&(we.root=ke),be.parent){let lt=we.get(be.parent.$ref);lt?(pe.connect(lt,[ke]),ke.targets().add(lt)):(we.unresolved=we.unresolved||[]).push(()=>{lt=we.get(be.parent.$ref),pe.connect(lt,[ke]),ke.targets().add(lt)})}if(be.signal&&(we.signals[be.signal]=ke),be.scale&&(we.scales[be.scale]=ke),be.data)for(let lt in be.data){let Ht=we.data[lt]||(we.data[lt]={});be.data[lt].forEach(Ct=>Ht[Ct]=ke)}},resolve(){return(this.unresolved||[]).forEach(be=>be()),delete this.unresolved,this},operator(be,ke){this.add(be,this.dataflow.add(be.value,ke))},transform(be,ke){this.add(be,this.dataflow.add(this.transforms[a(ke)]))},stream(be,ke){this.set(be.id,ke)},update(be,ke,we,pe,Je){this.dataflow.on(ke,we,pe,Je,be.options)},operatorExpression(be){return this.expr.operator(this,be)},parameterExpression(be){return this.expr.parameter(this,be)},eventExpression(be){return this.expr.event(this,be)},handlerExpression(be){return this.expr.handler(this,be)},encodeExpression(be){return this.expr.encode(this,be)},parse:r,parseOperator:O,parseOperatorParameters:R,parseParameters:q,parseStream:at,parseUpdate:ct,getState:Et,setState:Mt},n.context=qe,Object.defineProperty(n,"__esModule",{value:!0})})});var oOe=Ae((TV,sOe)=>{m();(function(n,e){typeof TV=="object"&&typeof sOe!="undefined"?e(TV,Tu(),s0(),h9(),CV(),Tle(),pN()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-dataflow","vega-scenegraph","vega-functions","vega-runtime","vega-format"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega,n.vega))})(TV,function(n,e,t,r,i,s,o){"use strict";function a(K){let ae=K.container();ae&&(ae.setAttribute("role","graphics-document"),ae.setAttribute("aria-roleDescription","visualization"),l(ae,K.description()))}function l(K,ae){K&&(ae==null?K.removeAttribute("aria-label"):K.setAttribute("aria-label",ae))}function f(K){K.add(null,ae=>(K._background=ae.bg,K._resize=1,ae.bg),{bg:K._signals.background})}let p="default";function _(K){let ae=K._signals.cursor||(K._signals.cursor=K.add({user:p,item:null}));K.on(K.events("view","mousemove"),ae,(fe,Qe)=>{let It=ae.value,At=It?e.isString(It)?It:It.user:p,dn=Qe.item&&Qe.item.cursor||null;return It&&At===It.user&&dn==It.item?It:{user:At,item:dn}}),K.add(null,function(fe){let Qe=fe.cursor,It=this.value;return e.isString(Qe)||(It=Qe.item,Qe=Qe.user),E(K,Qe&&Qe!==p?Qe:It||Qe),It},{cursor:ae})}function E(K,ae){let fe=K.globalCursor()?typeof document!="undefined"&&document.body:K.container();if(fe)return ae==null?fe.style.removeProperty("cursor"):fe.style.cursor=ae}function O(K,ae){var fe=K._runtime.data;return e.hasOwnProperty(fe,ae)||e.error("Unrecognized data set: "+ae),fe[ae]}function R(K,ae){return arguments.length<2?O(this,K).values.value:q.call(this,K,t.changeset().remove(e.truthy).insert(ae))}function q(K,ae){t.isChangeSet(ae)||e.error("Second argument to changes must be a changeset.");let fe=O(this,K);return fe.modified=!0,this.pulse(fe.input,ae)}function z(K,ae){return q.call(this,K,t.changeset().insert(ae))}function L(K,ae){return q.call(this,K,t.changeset().remove(ae))}function B(K){var ae=K.padding();return Math.max(0,K._viewWidth+ae.left+ae.right)}function P(K){var ae=K.padding();return Math.max(0,K._viewHeight+ae.top+ae.bottom)}function G(K){var ae=K.padding(),fe=K._origin;return[ae.left+fe[0],ae.top+fe[1]]}function ue(K){var ae=G(K),fe=B(K),Qe=P(K);K._renderer.background(K.background()),K._renderer.resize(fe,Qe,ae),K._handler.origin(ae),K._resizeListeners.forEach(It=>{try{It(fe,Qe)}catch(At){K.error(At)}})}function I(K,ae,fe){var Qe=K._renderer,It=Qe&&Qe.canvas(),At,dn,w;return It&&(w=G(K),dn=ae.changedTouches?ae.changedTouches[0]:ae,At=r.point(dn,It),At[0]-=w[0],At[1]-=w[1]),ae.dataflow=K,ae.item=fe,ae.vega=J(K,fe,At),ae}function J(K,ae,fe){let Qe=ae?ae.mark.marktype==="group"?ae:ae.mark.group:null;function It(dn){var w=Qe,j;if(dn){for(j=ae;j;j=j.mark.group)if(j.mark.name===dn){w=j;break}}return w&&w.mark&&w.mark.interactive?w:{}}function At(dn){if(!dn)return fe;e.isString(dn)&&(dn=It(dn));let w=fe.slice();for(;dn;)w[0]-=dn.x||0,w[1]-=dn.y||0,dn=dn.mark&&dn.mark.group;return w}return{view:e.constant(K),item:e.constant(ae||{}),group:It,xy:At,x:dn=>At(dn)[0],y:dn=>At(dn)[1]}}let he="view",ye="timer",He="window",at={trap:!1};function ct(K){let ae=e.extend({defaults:{}},K),fe=(Qe,It)=>{It.forEach(At=>{e.isArray(Qe[At])&&(Qe[At]=e.toSet(Qe[At]))})};return fe(ae.defaults,["prevent","allow"]),fe(ae,["view","window","selector"]),ae}function Ze(K,ae,fe,Qe){K._eventListeners.push({type:fe,sources:e.array(ae),handler:Qe})}function Et(K,ae){var fe=K._eventConfig.defaults,Qe=fe.prevent,It=fe.allow;return Qe===!1||It===!0?!1:Qe===!0||It===!1?!0:Qe?Qe[ae]:It?!It[ae]:K.preventDefault()}function Mt(K,ae,fe){let Qe=K._eventConfig&&K._eventConfig[ae];return Qe===!1||e.isObject(Qe)&&!Qe[fe]?(K.warn(`Blocked ${ae} ${fe} event listener.`),!1):!0}function qe(K,ae,fe){var Qe=this,It=new t.EventStream(fe),At=function(ee,Se){Qe.runAsync(null,()=>{K===he&&Et(Qe,ae)&&ee.preventDefault(),It.receive(I(Qe,ee,Se))})},dn;if(K===ye)Mt(Qe,"timer",ae)&&Qe.timer(At,ae);else if(K===he)Mt(Qe,"view",ae)&&Qe.addEventListener(ae,At,at);else if(K===He?Mt(Qe,"window",ae)&&typeof window!="undefined"&&(dn=[window]):typeof document!="undefined"&&Mt(Qe,"selector",ae)&&(dn=document.querySelectorAll(K)),!dn)Qe.warn("Can not resolve event source: "+K);else{for(var w=0,j=dn.length;w<j;++w)dn[w].addEventListener(ae,At);Ze(Qe,dn,ae,At)}return It}function te(K){return K.item}function et(K){return K.item.mark.source}function be(K){return function(ae,fe){return fe.vega.view().changeset().encode(fe.item,K)}}function ke(K,ae){return K=[K||"hover"],ae=[ae||"update",K[0]],this.on(this.events("view","mouseover",te),et,be(K)),this.on(this.events("view","mouseout",te),et,be(ae)),this}function we(){var K=this._tooltip,ae=this._timers,fe=this._eventListeners,Qe,It,At;for(Qe=ae.length;--Qe>=0;)ae[Qe].stop();for(Qe=fe.length;--Qe>=0;)for(At=fe[Qe],It=At.sources.length;--It>=0;)At.sources[It].removeEventListener(At.type,At.handler);return K&&K.call(this,this._handler,null,null,null),this}function pe(K,ae,fe){let Qe=document.createElement(K);for(let It in ae)Qe.setAttribute(It,ae[It]);return fe!=null&&(Qe.textContent=fe),Qe}var Je=Math.sqrt(50),lt=Math.sqrt(10),Ht=Math.sqrt(2);function Ct(K,ae,fe){var Qe=Math.abs(ae-K)/Math.max(0,fe),It=Math.pow(10,Math.floor(Math.log(Qe)/Math.LN10)),At=Qe/It;return At>=Je?It*=10:At>=lt?It*=5:At>=Ht&&(It*=2),ae<K?-It:It}let mn="vega-bind",kt="vega-bind-name",Bt="vega-bind-radio";function tn(K,ae,fe){if(!ae)return;let Qe=fe.param,It=fe.state;return It||(It=fe.state={elements:null,active:!1,set:null,update:dn=>{dn!=K.signal(Qe.signal)&&K.runAsync(null,()=>{It.source=!0,K.signal(Qe.signal,dn)})}},Qe.debounce&&(It.update=e.debounce(Qe.debounce,It.update))),(Qe.input==null&&Qe.element?bt:Le)(It,ae,Qe,K),It.active||(K.on(K._signals[Qe.signal],null,()=>{It.source?It.source=!1:It.set(K.signal(Qe.signal))}),It.active=!0),It}function bt(K,ae,fe,Qe){let It=fe.event||"input",At=()=>K.update(ae.value);Qe.signal(fe.signal,ae.value),ae.addEventListener(It,At),Ze(Qe,ae,It,At),K.set=dn=>{ae.value=dn,ae.dispatchEvent(ve(It))}}function ve(K){return typeof Event!="undefined"?new Event(K):{type:K}}function Le(K,ae,fe,Qe){let It=Qe.signal(fe.signal),At=pe("div",{class:mn}),dn=fe.input==="radio"?At:At.appendChild(pe("label"));dn.appendChild(pe("span",{class:kt},fe.name||fe.signal)),ae.appendChild(At);let w=_e;switch(fe.input){case"checkbox":w=ce;break;case"select":w=tt;break;case"radio":w=Ke;break;case"range":w=re;break}w(K,dn,fe,It)}function _e(K,ae,fe,Qe){let It=pe("input");for(let At in fe)At!=="signal"&&At!=="element"&&It.setAttribute(At==="input"?"type":At,fe[At]);It.setAttribute("name",fe.signal),It.value=Qe,ae.appendChild(It),It.addEventListener("input",()=>K.update(It.value)),K.elements=[It],K.set=At=>It.value=At}function ce(K,ae,fe,Qe){let It={type:"checkbox",name:fe.signal};Qe&&(It.checked=!0);let At=pe("input",It);ae.appendChild(At),At.addEventListener("change",()=>K.update(At.checked)),K.elements=[At],K.set=dn=>At.checked=!!dn||null}function tt(K,ae,fe,Qe){let It=pe("select",{name:fe.signal}),At=fe.labels||[];fe.options.forEach((dn,w)=>{let j={value:dn};Oe(dn,Qe)&&(j.selected=!0),It.appendChild(pe("option",j,(At[w]||dn)+""))}),ae.appendChild(It),It.addEventListener("change",()=>{K.update(fe.options[It.selectedIndex])}),K.elements=[It],K.set=dn=>{for(let w=0,j=fe.options.length;w<j;++w)if(Oe(fe.options[w],dn)){It.selectedIndex=w;return}}}function Ke(K,ae,fe,Qe){let It=pe("span",{class:Bt}),At=fe.labels||[];ae.appendChild(It),K.elements=fe.options.map((dn,w)=>{let j={type:"radio",name:fe.signal,value:dn};Oe(dn,Qe)&&(j.checked=!0);let ee=pe("input",j);ee.addEventListener("change",()=>K.update(dn));let Se=pe("label",{},(At[w]||dn)+"");return Se.prepend(ee),It.appendChild(Se),ee}),K.set=dn=>{let w=K.elements,j=w.length;for(let ee=0;ee<j;++ee)Oe(w[ee].value,dn)&&(w[ee].checked=!0)}}function re(K,ae,fe,Qe){Qe=Qe!==void 0?Qe:(+fe.max+ +fe.min)/2;let It=fe.max!=null?fe.max:Math.max(100,+Qe)||100,At=fe.min||Math.min(0,It,+Qe)||0,dn=fe.step||Ct(At,It,100),w=pe("input",{type:"range",name:fe.signal,min:At,max:It,step:dn});w.value=Qe;let j=pe("span",{},+Qe);ae.appendChild(w),ae.appendChild(j);let ee=()=>{j.textContent=w.value,K.update(+w.value)};w.addEventListener("input",ee),w.addEventListener("change",ee),K.elements=[w],K.set=Se=>{w.value=Se,j.textContent=Se}}function Oe(K,ae){return K===ae||K+""==ae+""}function nt(K,ae,fe,Qe,It,At){return ae=ae||new Qe(K.loader()),ae.initialize(fe,B(K),P(K),G(K),It,At).background(K.background())}function ft(K,ae){return ae?function(){try{ae.apply(this,arguments)}catch(fe){K.error(fe)}}:null}function Ot(K,ae,fe,Qe){let It=new Qe(K.loader(),ft(K,K.tooltip())).scene(K.scenegraph().root).initialize(fe,G(K),K);return ae&&ae.handlers().forEach(At=>{It.on(At.type,At.handler)}),It}function Yt(K,ae){let fe=this,Qe=fe._renderType,It=fe._eventConfig.bind,At=r.renderModule(Qe);K=fe._el=K?Gt(fe,K,!0):null,a(fe),At||fe.error("Unrecognized renderer type: "+Qe);let dn=At.handler||r.CanvasHandler,w=K?At.renderer:At.headless;return fe._renderer=w?nt(fe,fe._renderer,K,w):null,fe._handler=Ot(fe,fe._handler,K,dn),fe._redraw=!0,K&&It!=="none"&&(ae=ae?fe._elBind=Gt(fe,ae,!0):K.appendChild(pe("form",{class:"vega-bindings"})),fe._bind.forEach(j=>{j.param.element&&It!=="container"&&(j.element=Gt(fe,j.param.element,!!j.param.input))}),fe._bind.forEach(j=>{tn(fe,j.element||ae,j)})),fe}function Gt(K,ae,fe){if(typeof ae=="string")if(typeof document!="undefined"){if(ae=document.querySelector(ae),!ae)return K.error("Signal bind element not found: "+ae),null}else return K.error("DOM document instance not found."),null;if(ae&&fe)try{ae.textContent=""}catch(Qe){ae=null,K.error(Qe)}return ae}let fn=K=>+K||0,gn=K=>({top:K,bottom:K,left:K,right:K});function yn(K){return e.isObject(K)?{top:fn(K.top),bottom:fn(K.bottom),left:fn(K.left),right:fn(K.right)}:gn(fn(K))}async function Lt(K,ae,fe,Qe){let It=r.renderModule(ae),At=It&&It.headless;return At||e.error("Unrecognized renderer type: "+ae),await K.runAsync(),nt(K,null,null,At,fe,Qe).renderAsync(K._scenegraph.root)}async function un(K,ae){K!==r.RenderType.Canvas&&K!==r.RenderType.SVG&&K!==r.RenderType.PNG&&e.error("Unrecognized image type: "+K);let fe=await Lt(this,K,ae);return K===r.RenderType.SVG?Mn(fe.svg(),"image/svg+xml"):fe.canvas().toDataURL("image/png")}function Mn(K,ae){let fe=new Blob([K],{type:ae});return window.URL.createObjectURL(fe)}async function tr(K,ae){return(await Lt(this,r.RenderType.Canvas,K,ae)).canvas()}async function Rn(K){return(await Lt(this,r.RenderType.SVG,K)).svg()}function Ne(K,ae,fe){return s.context(K,t.transforms,i.functionContext,fe).parse(ae)}function ze(K){var ae=this._runtime.scales;return e.hasOwnProperty(ae,K)||e.error("Unrecognized scale or projection: "+K),ae[K].value}var De="width",Pt="height",mt="padding",xt={skip:!0};function rn(K,ae){var fe=K.autosize(),Qe=K.padding();return ae-(fe&&fe.contains===mt?Qe.left+Qe.right:0)}function Qt(K,ae){var fe=K.autosize(),Qe=K.padding();return ae-(fe&&fe.contains===mt?Qe.top+Qe.bottom:0)}function Fn(K){var ae=K._signals,fe=ae[De],Qe=ae[Pt],It=ae[mt];function At(){K._autosize=K._resize=1}K._resizeWidth=K.add(null,w=>{K._width=w.size,K._viewWidth=rn(K,w.size),At()},{size:fe}),K._resizeHeight=K.add(null,w=>{K._height=w.size,K._viewHeight=Qt(K,w.size),At()},{size:Qe});let dn=K.add(null,At,{pad:It});K._resizeWidth.rank=fe.rank+1,K._resizeHeight.rank=Qe.rank+1,dn.rank=It.rank+1}function Wn(K,ae,fe,Qe,It,At){this.runAfter(dn=>{let w=0;dn._autosize=0,dn.width()!==fe&&(w=1,dn.signal(De,fe,xt),dn._resizeWidth.skip(!0)),dn.height()!==Qe&&(w=1,dn.signal(Pt,Qe,xt),dn._resizeHeight.skip(!0)),dn._viewWidth!==K&&(dn._resize=1,dn._viewWidth=K),dn._viewHeight!==ae&&(dn._resize=1,dn._viewHeight=ae),(dn._origin[0]!==It[0]||dn._origin[1]!==It[1])&&(dn._resize=1,dn._origin=It),w&&dn.run("enter"),At&&dn.runAfter(j=>j.resize())},!1,1)}function Zn(K){return this._runtime.getState(K||{data:Nn,signals:nr,recurse:!0})}function Nn(K,ae){return ae.modified&&e.isArray(ae.input.value)&&K.indexOf("_:vega:_")}function nr(K,ae){return!(K==="parent"||ae instanceof t.transforms.proxy)}function Ye(K){return this.runAsync(null,ae=>{ae._trigger=!1,ae._runtime.setState(K)},ae=>{ae._trigger=!0}),this}var vt=0,oe=0,Be=0,rt=1e3,Dt,hn,an=0,dt=0,ie=0,Te=typeof performance=="object"&&performance.now?performance:Date,Ue=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(K){setTimeout(K,17)};function gt(){return dt||(Ue(St),dt=Te.now()+ie)}function St(){dt=0}function Rt(){this._call=this._time=this._next=null}Rt.prototype={constructor:Rt,restart:function(K,ae,fe){if(typeof K!="function")throw new TypeError("callback is not a function");fe=(fe==null?gt():+fe)+(ae==null?0:+ae),!this._next&&hn!==this&&(hn?hn._next=this:Dt=this,hn=this),this._call=K,this._time=fe,Ut()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ut())}};function ne(){gt(),++vt;for(var K=Dt,ae;K;)(ae=dt-K._time)>=0&&K._call.call(void 0,ae),K=K._next;--vt}function Ce(){dt=(an=Te.now())+ie,vt=oe=0;try{ne()}finally{vt=0,st(),dt=0}}function We(){var K=Te.now(),ae=K-an;ae>rt&&(ie-=ae,an=K)}function st(){for(var K,ae=Dt,fe,Qe=1/0;ae;)ae._call?(Qe>ae._time&&(Qe=ae._time),K=ae,ae=ae._next):(fe=ae._next,ae._next=null,ae=K?K._next=fe:Dt=fe);hn=K,Ut(Qe)}function Ut(K){if(!vt){oe&&(oe=clearTimeout(oe));var ae=K-dt;ae>24?(K<1/0&&(oe=setTimeout(Ce,K-Te.now()-ie)),Be&&(Be=clearInterval(Be))):(Be||(an=Te.now(),Be=setInterval(We,rt)),vt=1,Ue(Ce))}}function sn(K,ae,fe){var Qe=new Rt,It=ae;return ae==null?(Qe.restart(K,ae,fe),Qe):(Qe._restart=Qe.restart,Qe.restart=function(At,dn,w){dn=+dn,w=w==null?gt():+w,Qe._restart(function j(ee){ee+=It,Qe._restart(j,It+=dn,w),At(ee)},dn,w)},Qe.restart(K,ae,fe),Qe)}function Cn(K,ae){function fe(Qe){K({timestamp:Date.now(),elapsed:Qe})}this._timers.push(sn(fe,ae))}function En(K,ae,fe,Qe){let It=K.element();It&&It.setAttribute("title",vn(Qe))}function vn(K){return K==null?"":e.isArray(K)?Re(K):e.isObject(K)&&!e.isDate(K)?zn(K):K+""}function zn(K){return Object.keys(K).map(ae=>{let fe=K[ae];return ae+": "+(e.isArray(fe)?Re(fe):$e(fe))}).join(`
`)}function Re(K){return"["+K.map($e).join(", ")+"]"}function $e(K){return e.isArray(K)?"[\u2026]":e.isObject(K)&&!e.isDate(K)?"{\u2026}":K}function Ft(K,ae){let fe=this;if(ae=ae||{},t.Dataflow.call(fe),ae.loader&&fe.loader(ae.loader),ae.logger&&fe.logger(ae.logger),ae.logLevel!=null&&fe.logLevel(ae.logLevel),ae.locale||K.locale){let At=e.extend({},K.locale,ae.locale);fe.locale(o.locale(At.number,At.time))}fe._el=null,fe._elBind=null,fe._renderType=ae.renderer||r.RenderType.Canvas,fe._scenegraph=new r.Scenegraph;let Qe=fe._scenegraph.root;fe._renderer=null,fe._tooltip=ae.tooltip||En,fe._redraw=!0,fe._handler=new r.CanvasHandler().scene(Qe),fe._globalCursor=!1,fe._preventDefault=!1,fe._timers=[],fe._eventListeners=[],fe._resizeListeners=[],fe._eventConfig=ct(K.eventConfig),fe.globalCursor(fe._eventConfig.globalCursor);let It=Ne(fe,K,ae.expr);fe._runtime=It,fe._signals=It.signals,fe._bind=(K.bindings||[]).map(At=>({state:null,param:e.extend({},At)})),It.root&&It.root.set(Qe),Qe.source=It.data.root.input,fe.pulse(It.data.root.input,fe.changeset().insert(Qe.items)),fe._width=fe.width(),fe._height=fe.height(),fe._viewWidth=rn(fe,fe._width),fe._viewHeight=Qt(fe,fe._height),fe._origin=[0,0],fe._resize=0,fe._autosize=1,Fn(fe),f(fe),_(fe),fe.description(K.description),ae.hover&&fe.hover(),ae.container&&fe.initialize(ae.container,ae.bind)}function N(K,ae){return e.hasOwnProperty(K._signals,ae)?K._signals[ae]:e.error("Unrecognized signal name: "+e.stringValue(ae))}function V(K,ae){let fe=(K._targets||[]).filter(Qe=>Qe._update&&Qe._update.handler===ae);return fe.length?fe[0]:null}function Ee(K,ae,fe,Qe){let It=V(fe,Qe);return It||(It=ft(K,()=>Qe(ae,fe.value)),It.handler=Qe,K.on(fe,null,It)),K}function xe(K,ae,fe){let Qe=V(ae,fe);return Qe&&ae._targets.remove(Qe),K}e.inherits(Ft,t.Dataflow,{async evaluate(K,ae,fe){if(await t.Dataflow.prototype.evaluate.call(this,K,ae),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,ue(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(Qe){this.error(Qe)}return fe&&t.asyncCallback(this,fe),this},dirty(K){this._redraw=!0,this._renderer&&this._renderer.dirty(K)},description(K){if(arguments.length){let ae=K!=null?K+"":null;return ae!==this._desc&&l(this._el,this._desc=ae),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(K,ae,fe){let Qe=N(this,K);return arguments.length===1?Qe.value:this.update(Qe,ae,fe)},width(K){return arguments.length?this.signal("width",K):this.signal("width")},height(K){return arguments.length?this.signal("height",K):this.signal("height")},padding(K){return arguments.length?this.signal("padding",yn(K)):yn(this.signal("padding"))},autosize(K){return arguments.length?this.signal("autosize",K):this.signal("autosize")},background(K){return arguments.length?this.signal("background",K):this.signal("background")},renderer(K){return arguments.length?(r.renderModule(K)||e.error("Unrecognized renderer type: "+K),K!==this._renderType&&(this._renderType=K,this._resetRenderer()),this):this._renderType},tooltip(K){return arguments.length?(K!==this._tooltip&&(this._tooltip=K,this._resetRenderer()),this):this._tooltip},loader(K){return arguments.length?(K!==this._loader&&(t.Dataflow.prototype.loader.call(this,K),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(N(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:Wn,addEventListener(K,ae,fe){let Qe=ae;return fe&&fe.trap===!1||(Qe=ft(this,ae),Qe.raw=ae),this._handler.on(K,Qe),this},removeEventListener(K,ae){for(var fe=this._handler.handlers(K),Qe=fe.length,It,At;--Qe>=0;)if(At=fe[Qe].type,It=fe[Qe].handler,K===At&&(ae===It||ae===It.raw)){this._handler.off(At,It);break}return this},addResizeListener(K){let ae=this._resizeListeners;return ae.indexOf(K)<0&&ae.push(K),this},removeResizeListener(K){var ae=this._resizeListeners,fe=ae.indexOf(K);return fe>=0&&ae.splice(fe,1),this},addSignalListener(K,ae){return Ee(this,K,N(this,K),ae)},removeSignalListener(K,ae){return xe(this,N(this,K),ae)},addDataListener(K,ae){return Ee(this,K,O(this,K).values,ae)},removeDataListener(K,ae){return xe(this,O(this,K).values,ae)},globalCursor(K){if(arguments.length){if(this._globalCursor!==!!K){let ae=E(this,null);this._globalCursor=!!K,ae&&E(this,ae)}return this}else return this._globalCursor},preventDefault(K){return arguments.length?(this._preventDefault=K,this):this._preventDefault},timer:Cn,events:qe,finalize:we,hover:ke,data:R,change:q,insert:z,remove:L,scale:ze,initialize:Yt,toImageURL:un,toCanvas:tr,toSVG:Rn,getState:Zn,setState:Ye}),n.View=Ft,Object.defineProperty(n,"__esModule",{value:!0})})});var Fle=Ae((FV,aOe)=>{m();(function(n,e){typeof FV=="object"&&typeof aOe!="undefined"?e(FV):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(FV,function(n){"use strict";let e="view",t="[",r="]",i="{",s="}",o=":",a=",",l="@",f=">",p=/[[\]{}]/,_={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},E,O;function R(I,J,he){return E=J||e,O=he||_,L(I.trim()).map(B)}function q(I){return O[I]}function z(I,J,he,ye,He){let at=I.length,ct=0,Ze;for(;J<at;++J){if(Ze=I[J],!ct&&Ze===he)return J;He&&He.indexOf(Ze)>=0?--ct:ye&&ye.indexOf(Ze)>=0&&++ct}return J}function L(I){let J=[],he=I.length,ye=0,He=0;for(;He<he;)He=z(I,He,a,t+i,r+s),J.push(I.substring(ye,He).trim()),ye=++He;if(J.length===0)throw"Empty event selector: "+I;return J}function B(I){return I[0]==="["?P(I):G(I)}function P(I){let J=I.length,he=1,ye;if(he=z(I,he,r,t,r),he===J)throw"Empty between selector: "+I;if(ye=L(I.substring(1,he)),ye.length!==2)throw"Between selector must have two elements: "+I;if(I=I.slice(he+1).trim(),I[0]!==f)throw"Expected '>' after between selector: "+I;ye=ye.map(B);let He=B(I.slice(1).trim());return He.between?{between:ye,stream:He}:(He.between=ye,He)}function G(I){let J={source:E},he=[],ye=[0,0],He=0,at=0,ct=I.length,Ze=0,Et,Mt;if(I[ct-1]===s){if(Ze=I.lastIndexOf(i),Ze>=0){try{ye=ue(I.substring(Ze+1,ct-1))}catch{throw"Invalid throttle specification: "+I}I=I.slice(0,Ze).trim(),ct=I.length}else throw"Unmatched right brace: "+I;Ze=0}if(!ct)throw I;if(I[0]===l&&(He=++Ze),Et=z(I,Ze,o),Et<ct&&(he.push(I.substring(at,Et).trim()),at=Ze=++Et),Ze=z(I,Ze,t),Ze===ct)he.push(I.substring(at,ct).trim());else if(he.push(I.substring(at,Ze).trim()),Mt=[],at=++Ze,at===ct)throw"Unmatched left bracket: "+I;for(;Ze<ct;){if(Ze=z(I,Ze,r),Ze===ct)throw"Unmatched left bracket: "+I;if(Mt.push(I.substring(at,Ze).trim()),Ze<ct-1&&I[++Ze]!==t)throw"Expected left bracket: "+I;at=++Ze}if(!(ct=he.length)||p.test(he[ct-1]))throw"Invalid event selector: "+I;return ct>1?(J.type=he[1],He?J.markname=he[0].slice(1):q(he[0])?J.marktype=he[0]:J.source=he[0]):J.type=he[0],J.type.slice(-1)==="!"&&(J.consume=!0,J.type=J.type.slice(0,-1)),Mt!=null&&(J.filter=Mt),ye[0]&&(J.throttle=ye[0]),ye[1]&&(J.debounce=ye[1]),J}function ue(I){let J=I.split(a);if(!I.length||J.length>2)throw I;return J.map(he=>{let ye=+he;if(ye!==ye)throw I;return ye})}n.parseSelector=R,Object.defineProperty(n,"__esModule",{value:!0})})});var lOe=Ae((DV,uOe)=>{m();(function(n,e){typeof DV=="object"&&typeof uOe!="undefined"?e(DV,Tu(),CV(),Fle(),hE(),s0()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-functions","vega-event-selector","vega-scale","vega-dataflow"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega))})(DV,function(n,e,t,r,i,s){"use strict";function o(k){return e.isObject(k)?k:{type:k||"pad"}}let a=k=>+k||0,l=k=>({top:k,bottom:k,left:k,right:k});function f(k){return e.isObject(k)?k.signal?k:{top:a(k.top),bottom:a(k.bottom),left:a(k.left),right:a(k.right)}:l(a(k))}let p=k=>e.isObject(k)&&!e.isArray(k)?e.extend({},k):{value:k};function _(k,Z,je,Nt){return je!=null?(e.isObject(je)&&!e.isArray(je)||e.isArray(je)&&je.length&&e.isObject(je[0])?k.update[Z]=je:k[Nt||"enter"][Z]={value:je},1):0}function E(k,Z,je){for(let Nt in Z)_(k,Nt,Z[Nt]);for(let Nt in je)_(k,Nt,je[Nt],"update")}function O(k,Z,je){for(let Nt in Z)je&&e.hasOwnProperty(je,Nt)||(k[Nt]=e.extend(k[Nt]||{},Z[Nt]));return k}function R(k,Z){return Z&&(Z.enter&&Z.enter[k]||Z.update&&Z.update[k])}let q="mark",z="frame",L="scope",B="axis",P="axis-domain",G="axis-grid",ue="axis-label",I="axis-tick",J="axis-title",he="legend",ye="legend-band",He="legend-entry",at="legend-gradient",ct="legend-label",Ze="legend-symbol",Et="legend-title",Mt="title",qe="title-text",te="title-subtitle";function et(k,Z,je,Nt,Vt){let An={},kn={},sr,hr,Nr,it;hr="lineBreak",Z==="text"&&Vt[hr]!=null&&!R(hr,k)&&be(An,hr,Vt[hr]),(je=="legend"||String(je).startsWith("axis"))&&(je=null),it=je===z?Vt.group:je===q?e.extend({},Vt.mark,Vt[Z]):null;for(hr in it)Nr=R(hr,k)||(hr==="fill"||hr==="stroke")&&(R("fill",k)||R("stroke",k)),Nr||be(An,hr,it[hr]);e.array(Nt).forEach(Fi=>{let Qi=Vt.style&&Vt.style[Fi];for(let Li in Qi)R(Li,k)||be(An,Li,Qi[Li])}),k=e.extend({},k);for(hr in An)it=An[hr],it.signal?(sr=sr||{})[hr]=it:kn[hr]=it;return k.enter=e.extend(kn,k.enter),sr&&(k.update=e.extend(sr,k.update)),k}function be(k,Z,je){k[Z]=je&&je.signal?{signal:je.signal}:{value:je}}let ke=k=>e.isString(k)?e.stringValue(k):k.signal?`(${k.signal})`:Ct(k);function we(k){if(k.gradient!=null)return lt(k);let Z=k.signal?`(${k.signal})`:k.color?Je(k.color):k.field!=null?Ct(k.field):k.value!==void 0?e.stringValue(k.value):void 0;return k.scale!=null&&(Z=kt(k,Z)),Z===void 0&&(Z=null),k.exponent!=null&&(Z=`pow(${Z},${Ht(k.exponent)})`),k.mult!=null&&(Z+=`*${Ht(k.mult)}`),k.offset!=null&&(Z+=`+${Ht(k.offset)}`),k.round&&(Z=`round(${Z})`),Z}let pe=(k,Z,je,Nt)=>`(${k}(${[Z,je,Nt].map(we).join(",")})+'')`;function Je(k){return k.c?pe("hcl",k.h,k.c,k.l):k.h||k.s?pe("hsl",k.h,k.s,k.l):k.l||k.a?pe("lab",k.l,k.a,k.b):k.r||k.g||k.b?pe("rgb",k.r,k.g,k.b):null}function lt(k){let Z=[k.start,k.stop,k.count].map(je=>je==null?null:e.stringValue(je));for(;Z.length&&e.peek(Z)==null;)Z.pop();return Z.unshift(ke(k.gradient)),`gradient(${Z.join(",")})`}function Ht(k){return e.isObject(k)?"("+we(k)+")":k}function Ct(k){return mn(e.isObject(k)?k:{datum:k})}function mn(k){let Z,je,Nt;if(k.signal)Z="datum",Nt=k.signal;else if(k.group||k.parent){for(je=Math.max(1,k.level||1),Z="item";je-- >0;)Z+=".mark.group";k.parent?(Nt=k.parent,Z+=".datum"):Nt=k.group}else k.datum?(Z="datum",Nt=k.datum):e.error("Invalid field reference: "+e.stringValue(k));return k.signal||(Nt=e.isString(Nt)?e.splitAccessPath(Nt).map(e.stringValue).join("]["):mn(Nt)),Z+"["+Nt+"]"}function kt(k,Z){let je=ke(k.scale);return k.range!=null?Z=`lerp(_range(${je}), ${+k.range})`:(Z!==void 0&&(Z=`_scale(${je}, ${Z})`),k.band&&(Z=(Z?Z+"+":"")+`_bandwidth(${je})`+(+k.band==1?"":"*"+Ht(k.band)),k.extra&&(Z=`(datum.extra ? _scale(${je}, datum.extra.value) : ${Z})`)),Z==null&&(Z="0")),Z}function Bt(k){let Z="";return k.forEach(je=>{let Nt=we(je);Z+=je.test?`(${je.test})?${Nt}:`:Nt}),e.peek(Z)===":"&&(Z+="null"),Z}function tn(k,Z,je,Nt,Vt,An){let kn={};An=An||{},An.encoders={$encode:kn},k=et(k,Z,je,Nt,Vt.config);for(let sr in k)kn[sr]=bt(k[sr],Z,An,Vt);return An}function bt(k,Z,je,Nt){let Vt={},An={};for(let kn in k)k[kn]!=null&&(Vt[kn]=Le(ve(k[kn]),Nt,je,An));return{$expr:{marktype:Z,channels:Vt},$fields:Object.keys(An),$output:Object.keys(k)}}function ve(k){return e.isArray(k)?Bt(k):we(k)}function Le(k,Z,je,Nt){let Vt=t.parseExpression(k,Z);return Vt.$fields.forEach(An=>Nt[An]=1),e.extend(je,Vt.$params),Vt.$expr}let _e="outer",ce=["value","update","init","react","bind"];function tt(k,Z){e.error(k+' for "outer" push: '+e.stringValue(Z))}function Ke(k,Z){let je=k.name;if(k.push===_e)Z.signals[je]||tt("No prior signal definition",je),ce.forEach(Nt=>{k[Nt]!==void 0&&tt("Invalid property ",Nt)});else{let Nt=Z.addSignal(je,k.value);k.react===!1&&(Nt.react=!1),k.bind&&Z.addBinding(je,k.bind)}}function re(k,Z,je,Nt){this.id=-1,this.type=k,this.value=Z,this.params=je,Nt&&(this.parent=Nt)}function Oe(k,Z,je,Nt){return new re(k,Z,je,Nt)}function nt(k,Z){return Oe("operator",k,Z)}function ft(k){let Z={$ref:k.id};return k.id<0&&(k.refs=k.refs||[]).push(Z),Z}function Ot(k,Z){return Z?{$field:k,$name:Z}:{$field:k}}let Yt=Ot("key");function Gt(k,Z){return{$compare:k,$order:Z}}function fn(k,Z){let je={$key:k};return Z&&(je.$flat=!0),je}let gn="ascending",yn="descending";function Lt(k){return e.isObject(k)?(k.order===yn?"-":"+")+un(k.op,k.field):""}function un(k,Z){return(k&&k.signal?"$"+k.signal:k||"")+(k&&Z?"_":"")+(Z&&Z.signal?"$"+Z.signal:Z||"")}let Mn="scope",tr="view";function Rn(k){return k&&k.signal}function Ne(k){return k&&k.expr}function ze(k){if(Rn(k))return!0;if(e.isObject(k)){for(let Z in k)if(ze(k[Z]))return!0}return!1}function De(k,Z){return k??Z}function Pt(k){return k&&k.signal||k}let mt="timer";function xt(k,Z){return(k.merge?Qt:k.stream?Fn:k.type?Wn:e.error("Invalid stream specification: "+e.stringValue(k)))(k,Z)}function rn(k){return k===Mn?tr:k||tr}function Qt(k,Z){let je=k.merge.map(Vt=>xt(Vt,Z)),Nt=Zn({merge:je},k,Z);return Z.addStream(Nt).id}function Fn(k,Z){let je=xt(k.stream,Z),Nt=Zn({stream:je},k,Z);return Z.addStream(Nt).id}function Wn(k,Z){let je;k.type===mt?(je=Z.event(mt,k.throttle),k={between:k.between,filter:k.filter}):je=Z.event(rn(k.source),k.type);let Nt=Zn({stream:je},k,Z);return Object.keys(Nt).length===1?je:Z.addStream(Nt).id}function Zn(k,Z,je){let Nt=Z.between;return Nt&&(Nt.length!==2&&e.error('Stream "between" parameter must have 2 entries: '+e.stringValue(Z)),k.between=[xt(Nt[0],je),xt(Nt[1],je)]),Nt=Z.filter?[].concat(Z.filter):[],(Z.marktype||Z.markname||Z.markrole)&&Nt.push(Nn(Z.marktype,Z.markname,Z.markrole)),Z.source===Mn&&Nt.push("inScope(event.item)"),Nt.length&&(k.filter=t.parseExpression("("+Nt.join(")&&(")+")",je).$expr),(Nt=Z.throttle)!=null&&(k.throttle=+Nt),(Nt=Z.debounce)!=null&&(k.debounce=+Nt),Z.consume&&(k.consume=!0),k}function Nn(k,Z,je){let Nt="event.item";return Nt+(k&&k!=="*"?"&&"+Nt+".mark.marktype==='"+k+"'":"")+(je?"&&"+Nt+".mark.role==='"+je+"'":"")+(Z?"&&"+Nt+".mark.name==='"+Z+"'":"")}let nr={code:"_.$value",ast:{type:"Identifier",value:"value"}};function Ye(k,Z,je){let Nt=k.encode,Vt={target:je},An=k.events,kn=k.update,sr=[];An||e.error("Signal update missing events specification."),e.isString(An)&&(An=r.parseSelector(An,Z.isSubscope()?Mn:tr)),An=e.array(An).filter(hr=>hr.signal||hr.scale?(sr.push(hr),0):1),sr.length>1&&(sr=[oe(sr)]),An.length&&sr.push(An.length>1?{merge:An}:An[0]),Nt!=null&&(kn&&e.error("Signal encode and update are mutually exclusive."),kn="encode(item(),"+e.stringValue(Nt)+")"),Vt.update=e.isString(kn)?t.parseExpression(kn,Z):kn.expr!=null?t.parseExpression(kn.expr,Z):kn.value!=null?kn.value:kn.signal!=null?{$expr:nr,$params:{$value:Z.signalRef(kn.signal)}}:e.error("Invalid signal update specification."),k.force&&(Vt.options={force:!0}),sr.forEach(hr=>Z.addUpdate(e.extend(vt(hr,Z),Vt)))}function vt(k,Z){return{source:k.signal?Z.signalRef(k.signal):k.scale?Z.scaleRef(k.scale):xt(k,Z)}}function oe(k){return{signal:"["+k.map(Z=>Z.scale?'scale("'+Z.scale+'")':Z.signal)+"]"}}function Be(k,Z){let je=Z.getSignal(k.name),Nt=k.update;k.init&&(Nt?e.error("Signals can not include both init and update expressions."):(Nt=k.init,je.initonly=!0)),Nt&&(Nt=t.parseExpression(Nt,Z),je.update=Nt.$expr,je.params=Nt.$params),k.on&&k.on.forEach(Vt=>Ye(Vt,Z,je.id))}let rt=k=>(Z,je,Nt)=>Oe(k,je,Z||void 0,Nt),Dt=rt("aggregate"),hn=rt("axisticks"),an=rt("bound"),dt=rt("collect"),ie=rt("compare"),Te=rt("datajoin"),Ue=rt("encode"),gt=rt("expression"),St=rt("facet"),Rt=rt("field"),ne=rt("key"),Ce=rt("legendentries"),We=rt("load"),st=rt("mark"),Ut=rt("multiextent"),sn=rt("multivalues"),Cn=rt("overlap"),En=rt("params"),vn=rt("prefacet"),zn=rt("projection"),Re=rt("proxy"),$e=rt("relay"),Ft=rt("render"),N=rt("scale"),V=rt("sieve"),Ee=rt("sortitems"),xe=rt("viewlayout"),K=rt("values"),ae=0,fe={min:"min",max:"max",count:"sum"};function Qe(k,Z){let je=k.type||"linear";i.isValidScaleType(je)||e.error("Unrecognized scale type: "+e.stringValue(je)),Z.addScale(k.name,{type:je,domain:void 0})}function It(k,Z){let je=Z.getScale(k.name).params,Nt;je.domain=j(k.domain,k,Z),k.range!=null&&(je.range=Vr(k,Z,je)),k.interpolate!=null&&Jr(k.interpolate,je),k.nice!=null&&(je.nice=Vn(k.nice)),k.bins!=null&&(je.bins=Un(k.bins,Z));for(Nt in k)e.hasOwnProperty(je,Nt)||Nt==="name"||(je[Nt]=At(k[Nt],Z))}function At(k,Z){return e.isObject(k)?k.signal?Z.signalRef(k.signal):e.error("Unsupported object: "+e.stringValue(k)):k}function dn(k,Z){return k.signal?Z.signalRef(k.signal):k.map(je=>At(je,Z))}function w(k){e.error("Can not find data set: "+e.stringValue(k))}function j(k,Z,je){if(!k){(Z.domainMin!=null||Z.domainMax!=null)&&e.error("No scale domain defined for domainMin/domainMax to override.");return}return k.signal?je.signalRef(k.signal):(e.isArray(k)?ee:k.fields?ht:Se)(k,Z,je)}function ee(k,Z,je){return k.map(Nt=>At(Nt,je))}function Se(k,Z,je){let Nt=je.getData(k.data);return Nt||w(k.data),i.isDiscrete(Z.type)?Nt.valuesRef(je,k.field,Xt(k.sort,!1)):i.isQuantile(Z.type)?Nt.domainRef(je,k.field):Nt.extentRef(je,k.field)}function ht(k,Z,je){let Nt=k.data,Vt=k.fields.reduce((An,kn)=>(kn=e.isString(kn)?{data:Nt,field:kn}:e.isArray(kn)||kn.signal?Tt(kn,je):kn,An.push(kn),An),[]);return(i.isDiscrete(Z.type)?Zt:i.isQuantile(Z.type)?xn:qn)(k,je,Vt)}function Tt(k,Z){let je="_:vega:_"+ae++,Nt=dt({});if(e.isArray(k))Nt.value={$ingest:k};else if(k.signal){let Vt="setdata("+e.stringValue(je)+","+k.signal+")";Nt.params.input=Z.signalRef(Vt)}return Z.addDataPipeline(je,[Nt,V({})]),{data:je,field:"data"}}function Zt(k,Z,je){let Nt=Xt(k.sort,!0),Vt,An,kn=je.map(Nr=>{let it=Z.getData(Nr.data);return it||w(Nr.data),it.countsRef(Z,Nr.field,Nt)}),sr={groupby:Yt,pulse:kn};Nt&&(Vt=Nt.op||"count",An=Nt.field?un(Vt,Nt.field):"count",sr.ops=[fe[Vt]],sr.fields=[Z.fieldRef(An)],sr.as=[An]),Vt=Z.add(Dt(sr));let hr=Z.add(dt({pulse:ft(Vt)}));return An=Z.add(K({field:Yt,sort:Z.sortRef(Nt),pulse:ft(hr)})),ft(An)}function Xt(k,Z){return k&&(!k.field&&!k.op?e.isObject(k)?k.field="key":k={field:"key"}:!k.field&&k.op!=="count"?e.error("No field provided for sort aggregate op: "+k.op):Z&&k.field&&k.op&&!fe[k.op]&&e.error("Multiple domain scales can not be sorted using "+k.op)),k}function xn(k,Z,je){let Nt=je.map(Vt=>{let An=Z.getData(Vt.data);return An||w(Vt.data),An.domainRef(Z,Vt.field)});return ft(Z.add(sn({values:Nt})))}function qn(k,Z,je){let Nt=je.map(Vt=>{let An=Z.getData(Vt.data);return An||w(Vt.data),An.extentRef(Z,Vt.field)});return ft(Z.add(Ut({extents:Nt})))}function Un(k,Z){return k.signal||e.isArray(k)?dn(k,Z):Z.objectProperty(k)}function Vn(k){return e.isObject(k)?{interval:At(k.interval),step:At(k.step)}:At(k)}function Jr(k,Z){Z.interpolate=At(k.type||k),k.gamma!=null&&(Z.interpolateGamma=At(k.gamma))}function Vr(k,Z,je){let Nt=Z.config.range,Vt=k.range;if(Vt.signal)return Z.signalRef(Vt.signal);if(e.isString(Vt)){if(Nt&&e.hasOwnProperty(Nt,Vt))return k=e.extend({},k,{range:Nt[Vt]}),Vr(k,Z,je);Vt==="width"?Vt=[0,{signal:"width"}]:Vt==="height"?Vt=i.isDiscrete(k.type)?[0,{signal:"height"}]:[{signal:"height"},0]:e.error("Unrecognized scale range value: "+e.stringValue(Vt))}else if(Vt.scheme){je.scheme=e.isArray(Vt.scheme)?dn(Vt.scheme,Z):At(Vt.scheme,Z),Vt.extent&&(je.schemeExtent=dn(Vt.extent,Z)),Vt.count&&(je.schemeCount=At(Vt.count,Z));return}else if(Vt.step){je.rangeStep=At(Vt.step,Z);return}else{if(i.isDiscrete(k.type)&&!e.isArray(Vt))return j(Vt,k,Z);e.isArray(Vt)||e.error("Unsupported range type: "+e.stringValue(Vt))}return Vt.map(An=>(e.isArray(An)?dn:At)(An,Z))}function yr(k,Z){let je=Z.config.projection||{},Nt={};for(let Vt in k)Vt!=="name"&&(Nt[Vt]=Mr(k[Vt],Vt,Z));for(let Vt in je)Nt[Vt]==null&&(Nt[Vt]=Mr(je[Vt],Vt,Z));Z.addProjection(k.name,Nt)}function Mr(k,Z,je){return e.isArray(k)?k.map(Nt=>Mr(Nt,Z,je)):e.isObject(k)?k.signal?je.signalRef(k.signal):Z==="fit"?k:e.error("Unsupported parameter object: "+e.stringValue(k)):k}let xi="top",ai="left",Xi="right",ws="bottom",ts="center",Aa="vertical",xa="start",yl="middle",Nc="end",fu="index",du="label",Xu="offset",Du="perc",Lc="perc2",na="value",Zu="guide-label",nf="guide-title",Ge="group-title",Kt="group-subtitle",jn="symbol",Yn="gradient",ri="discrete",Br="size",ho=[Br,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],hi={name:1,style:1,interactive:1},Ei={value:0},Wi={value:1},Xo="group",da="rect",ha="rule",po="symbol",ls="text";function ps(k){return k.type=Xo,k.interactive=k.interactive||!1,k}function Zi(k,Z){let je=(Nt,Vt)=>De(k[Nt],De(Z[Nt],Vt));return je.isVertical=Nt=>Aa===De(k.direction,Z.direction||(Nt?Z.symbolDirection:Z.gradientDirection)),je.gradientLength=()=>De(k.gradientLength,Z.gradientLength||Z.gradientWidth),je.gradientThickness=()=>De(k.gradientThickness,Z.gradientThickness||Z.gradientHeight),je.entryColumns=()=>De(k.columns,De(Z.columns,+je.isVertical(!0))),je}function hu(k,Z){let je=Z&&(Z.update&&Z.update[k]||Z.enter&&Z.enter[k]);return je&&je.signal?je:je?je.value:null}function Ps(k,Z,je){let Nt=Z.config.style[je];return Nt&&Nt[k]}function ga(k,Z,je){return`item.anchor === '${xa}' ? ${k} : item.anchor === '${Nc}' ? ${Z} : ${je}`}let aa=ga(e.stringValue(ai),e.stringValue(Xi),e.stringValue(ts));function Ri(k){let Z=k("tickBand"),je=k("tickOffset"),Nt,Vt;return Z?Z.signal?(Nt={signal:`(${Z.signal}) === 'extent' ? 1 : 0.5`},Vt={signal:`(${Z.signal}) === 'extent'`},e.isObject(je)||(je={signal:`(${Z.signal}) === 'extent' ? 0 : ${je}`})):Z==="extent"?(Nt=1,Vt=!0,je=0):(Nt=.5,Vt=!1):(Nt=k("bandPosition"),Vt=k("tickExtra")),{extra:Vt,band:Nt,offset:je}}function Wo(k,Z){return Z?k?e.isObject(k)?Object.assign({},k,{offset:Wo(k.offset,Z)}):{value:k,offset:Z}:Z:k}function vs(k,Z){return Z?(k.name=Z.name,k.style=Z.style||k.style,k.interactive=!!Z.interactive,k.encode=O(k.encode,Z,hi)):k.interactive=!1,k}function Ii(k,Z,je,Nt){let Vt=Zi(k,je),An=Vt.isVertical(),kn=Vt.gradientThickness(),sr=Vt.gradientLength(),hr,Nr,it,Fi,Qi;An?(Nr=[0,1],it=[0,0],Fi=kn,Qi=sr):(Nr=[0,0],it=[1,0],Fi=sr,Qi=kn);let Li={enter:hr={opacity:Ei,x:Ei,y:Ei,width:p(Fi),height:p(Qi)},update:e.extend({},hr,{opacity:Wi,fill:{gradient:Z,start:Nr,stop:it}}),exit:{opacity:Ei}};return E(Li,{stroke:Vt("gradientStrokeColor"),strokeWidth:Vt("gradientStrokeWidth")},{opacity:Vt("gradientOpacity")}),vs({type:da,role:at,encode:Li},Nt)}function Oo(k,Z,je,Nt,Vt){let An=Zi(k,je),kn=An.isVertical(),sr=An.gradientThickness(),hr=An.gradientLength(),Nr,it,Fi,Qi,Li="";kn?(Nr="y",Fi="y2",it="x",Qi="width",Li="1-"):(Nr="x",Fi="x2",it="y",Qi="height");let Qr={opacity:Ei,fill:{scale:Z,field:na}};Qr[Nr]={signal:Li+"datum."+Du,mult:hr},Qr[it]=Ei,Qr[Fi]={signal:Li+"datum."+Lc,mult:hr},Qr[Qi]=p(sr);let Ys={enter:Qr,update:e.extend({},Qr,{opacity:Wi}),exit:{opacity:Ei}};return E(Ys,{stroke:An("gradientStrokeColor"),strokeWidth:An("gradientStrokeWidth")},{opacity:An("gradientOpacity")}),vs({type:da,role:ye,key:na,from:Vt,encode:Ys},Nt)}let ka=`datum.${Du}<=0?"${ai}":datum.${Du}>=1?"${Xi}":"${ts}"`,Xa=`datum.${Du}<=0?"${ws}":datum.${Du}>=1?"${xi}":"${yl}"`;function Ro(k,Z,je,Nt){let Vt=Zi(k,Z),An=Vt.isVertical(),kn=p(Vt.gradientThickness()),sr=Vt.gradientLength(),hr=Vt("labelOverlap"),Nr,it,Fi,Qi,Li="",Qr={enter:Nr={opacity:Ei},update:it={opacity:Wi,text:{field:du}},exit:{opacity:Ei}};return E(Qr,{fill:Vt("labelColor"),fillOpacity:Vt("labelOpacity"),font:Vt("labelFont"),fontSize:Vt("labelFontSize"),fontStyle:Vt("labelFontStyle"),fontWeight:Vt("labelFontWeight"),limit:De(k.labelLimit,Z.gradientLabelLimit)}),An?(Nr.align={value:"left"},Nr.baseline=it.baseline={signal:Xa},Fi="y",Qi="x",Li="1-"):(Nr.align=it.align={signal:ka},Nr.baseline={value:"top"},Fi="x",Qi="y"),Nr[Fi]=it[Fi]={signal:Li+"datum."+Du,mult:sr},Nr[Qi]=it[Qi]=kn,kn.offset=De(k.labelOffset,Z.gradientLabelOffset)||0,hr=hr?{separation:Vt("labelSeparation"),method:hr,order:"datum."+fu}:void 0,vs({type:ls,role:ct,style:Zu,key:na,from:Nt,encode:Qr,overlap:hr},je)}function To(k,Z,je,Nt,Vt){let An=Zi(k,Z),kn=je.entries,sr=!!(kn&&kn.interactive),hr=kn?kn.name:void 0,Nr=An("clipHeight"),it=An("symbolOffset"),Fi={data:"value"},Qi=`(${Vt}) ? datum.${Xu} : datum.${Br}`,Li=Nr?p(Nr):{field:Br},Qr=`datum.${fu}`,Ys=`max(1, ${Vt})`,$o,va,mo,Ia,uc;Li.mult=.5,$o={enter:va={opacity:Ei,x:{signal:Qi,mult:.5,offset:it},y:Li},update:mo={opacity:Wi,x:va.x,y:va.y},exit:{opacity:Ei}};let Wl=null,Ma=null;k.fill||(Wl=Z.symbolBaseFillColor,Ma=Z.symbolBaseStrokeColor),E($o,{fill:An("symbolFillColor",Wl),shape:An("symbolType"),size:An("symbolSize"),stroke:An("symbolStrokeColor",Ma),strokeDash:An("symbolDash"),strokeDashOffset:An("symbolDashOffset"),strokeWidth:An("symbolStrokeWidth")},{opacity:An("symbolOpacity")}),ho.forEach(lf=>{k[lf]&&(mo[lf]=va[lf]={scale:k[lf],field:na})});let lc=vs({type:po,role:Ze,key:na,from:Fi,clip:Nr?!0:void 0,encode:$o},je.symbols),_a=p(it);_a.offset=An("labelOffset"),$o={enter:va={opacity:Ei,x:{signal:Qi,offset:_a},y:Li},update:mo={opacity:Wi,text:{field:du},x:va.x,y:va.y},exit:{opacity:Ei}},E($o,{align:An("labelAlign"),baseline:An("labelBaseline"),fill:An("labelColor"),fillOpacity:An("labelOpacity"),font:An("labelFont"),fontSize:An("labelFontSize"),fontStyle:An("labelFontStyle"),fontWeight:An("labelFontWeight"),limit:An("labelLimit")});let uf=vs({type:ls,role:ct,style:Zu,key:na,from:Fi,encode:$o},je.labels);return $o={enter:{noBound:{value:!Nr},width:Ei,height:Nr?p(Nr):Ei,opacity:Ei},exit:{opacity:Ei},update:mo={opacity:Wi,row:{signal:null},column:{signal:null}}},An.isVertical(!0)?(Ia=`ceil(item.mark.items.length / ${Ys})`,mo.row.signal=`${Qr}%${Ia}`,mo.column.signal=`floor(${Qr} / ${Ia})`,uc={field:["row",Qr]}):(mo.row.signal=`floor(${Qr} / ${Ys})`,mo.column.signal=`${Qr} % ${Ys}`,uc={field:Qr}),mo.column.signal=`(${Vt})?${mo.column.signal}:${Qr}`,Nt={facet:{data:Nt,name:"value",groupby:fu}},ps({role:L,from:Nt,encode:O($o,kn,hi),marks:[lc,uf],name:hr,interactive:sr,sort:uc})}function $a(k,Z){let je=Zi(k,Z);return{align:je("gridAlign"),columns:je.entryColumns(),center:{row:!0,column:!1},padding:{row:je("rowPadding"),column:je("columnPadding")}}}let pu='item.orient === "left"',za='item.orient === "right"',ua=`(${pu} || ${za})`,la=`datum.vgrad && ${ua}`,vl=ga('"top"','"bottom"','"middle"'),Hl=ga('"right"','"left"','"center"'),ra=`datum.vgrad && ${za} ? (${Hl}) : (${ua} && !(datum.vgrad && ${pu})) ? "left" : ${aa}`,el=`item._anchor || (${ua} ? "middle" : "start")`,ui=`${la} ? (${pu} ? -90 : 90) : 0`,rs=`${ua} ? (datum.vgrad ? (${za} ? "bottom" : "top") : ${vl}) : "top"`;function cs(k,Z,je,Nt){let Vt=Zi(k,Z),An={enter:{opacity:Ei},update:{opacity:Wi,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Ei}};return E(An,{orient:Vt("titleOrient"),_anchor:Vt("titleAnchor"),anchor:{signal:el},angle:{signal:ui},align:{signal:ra},baseline:{signal:rs},text:k.title,fill:Vt("titleColor"),fillOpacity:Vt("titleOpacity"),font:Vt("titleFont"),fontSize:Vt("titleFontSize"),fontStyle:Vt("titleFontStyle"),fontWeight:Vt("titleFontWeight"),limit:Vt("titleLimit"),lineHeight:Vt("titleLineHeight")},{align:Vt("titleAlign"),baseline:Vt("titleBaseline")}),vs({type:ls,role:Et,style:nf,from:Nt,encode:An},je)}function mr(k,Z){let je;return e.isObject(k)&&(k.signal?je=k.signal:k.path?je="pathShape("+is(k.path)+")":k.sphere&&(je="geoShape("+is(k.sphere)+', {type: "Sphere"})')),je?Z.signalRef(je):!!k}function is(k){return e.isObject(k)&&k.signal?k.signal:e.stringValue(k)}function Ie(k){let Z=k.role||"";return!Z.indexOf("axis")||!Z.indexOf("legend")||!Z.indexOf("title")?Z:k.type===Xo?L:Z||q}function yt(k){return{marktype:k.type,name:k.name||void 0,role:k.role||Ie(k),zindex:+k.zindex||void 0,aria:k.aria,description:k.description}}function Jt(k,Z){return k&&k.signal?Z.signalRef(k.signal):k!==!1}function $t(k,Z){let je=s.definition(k.type);je||e.error("Unrecognized transform type: "+e.stringValue(k.type));let Nt=Oe(je.type.toLowerCase(),null,pn(je,k,Z));return k.signal&&Z.addSignal(k.signal,Z.proxy(Nt)),Nt.metadata=je.metadata||{},Nt}function pn(k,Z,je){let Nt={},Vt=k.params.length;for(let An=0;An<Vt;++An){let kn=k.params[An];Nt[kn.name]=Ln(kn,Z,je)}return Nt}function Ln(k,Z,je){let Nt=k.type,Vt=Z[k.name];if(Nt==="index")return $n(k,Z,je);if(Vt===void 0){k.required&&e.error("Missing required "+e.stringValue(Z.type)+" parameter: "+e.stringValue(k.name));return}else{if(Nt==="param")return br(k,Z,je);if(Nt==="projection")return je.projectionRef(Z[k.name])}return k.array&&!Rn(Vt)?Vt.map(An=>Kn(k,An,je)):Kn(k,Vt,je)}function Kn(k,Z,je){let Nt=k.type;if(Rn(Z))return gr(Nt)?e.error("Expression references can not be signals."):Rr(Nt)?je.fieldRef(Z):di(Nt)?je.compareRef(Z):je.signalRef(Z.signal);{let Vt=k.expr||Rr(Nt);return Vt&&Gn(Z)?je.exprRef(Z.expr,Z.as):Vt&&ar(Z)?Ot(Z.field,Z.as):gr(Nt)?t.parseExpression(Z,je):er(Nt)?ft(je.getData(Z).values):Rr(Nt)?Ot(Z):di(Nt)?je.compareRef(Z):Z}}function $n(k,Z,je){return e.isString(Z.from)||e.error('Lookup "from" parameter must be a string literal.'),je.getData(Z.from).lookupRef(je,Z.key)}function br(k,Z,je){let Nt=Z[k.name];return k.array?(e.isArray(Nt)||e.error("Expected an array of sub-parameters. Instead: "+e.stringValue(Nt)),Nt.map(Vt=>Cr(k,Vt,je))):Cr(k,Nt,je)}function Cr(k,Z,je){let Nt=k.params.length,Vt;for(let kn=0;kn<Nt;++kn){Vt=k.params[kn];for(let sr in Vt.key)if(Vt.key[sr]!==Z[sr]){Vt=null;break}if(Vt)break}Vt||e.error("Unsupported parameter: "+e.stringValue(Z));let An=e.extend(pn(Vt,Z,je),Vt.key);return ft(je.add(En(An)))}let Gn=k=>k&&k.expr,ar=k=>k&&k.field,er=k=>k==="data",gr=k=>k==="expr",Rr=k=>k==="field",di=k=>k==="compare";function ni(k,Z,je){let Nt,Vt,An,kn,sr;return k?(Nt=k.facet)&&(Z||e.error("Only group marks can be faceted."),Nt.field!=null?kn=sr=pi(Nt,je):(k.data?sr=ft(je.getData(k.data).aggregate):(An=$t(e.extend({type:"aggregate",groupby:e.array(Nt.groupby)},Nt.aggregate),je),An.params.key=je.keyRef(Nt.groupby),An.params.pulse=pi(Nt,je),kn=sr=ft(je.add(An))),Vt=je.keyRef(Nt.groupby,!0))):kn=ft(je.add(dt(null,[{}]))),kn||(kn=pi(k,je)),{key:Vt,pulse:kn,parent:sr}}function pi(k,Z){return k.$ref?k:k.data&&k.data.$ref?k.data:ft(Z.getData(k.data).output)}function ii(k,Z,je,Nt,Vt){this.scope=k,this.input=Z,this.output=je,this.values=Nt,this.aggregate=Vt,this.index={}}ii.fromEntries=function(k,Z){let je=Z.length,Nt=Z[je-1],Vt=Z[je-2],An=Z[0],kn=null,sr=1;for(An&&An.type==="load"&&(An=Z[1]),k.add(Z[0]);sr<je;++sr)Z[sr].params.pulse=ft(Z[sr-1]),k.add(Z[sr]),Z[sr].type==="aggregate"&&(kn=Z[sr]);return new ii(k,An,Vt,Nt,kn)};function qr(k){return e.isString(k)?k:null}function Ir(k,Z,je){let Nt=un(je.op,je.field),Vt;if(Z.ops){for(let An=0,kn=Z.as.length;An<kn;++An)if(Z.as[An]===Nt)return}else Z.ops=["count"],Z.fields=[null],Z.as=["count"];je.op&&(Z.ops.push((Vt=je.op.signal)?k.signalRef(Vt):je.op),Z.fields.push(k.fieldRef(je.field)),Z.as.push(Nt))}function yi(k,Z,je,Nt,Vt,An,kn){let sr=Z[je]||(Z[je]={}),hr=Lt(An),Nr=qr(Vt),it,Fi;if(Nr!=null&&(k=Z.scope,Nr=Nr+(hr?"|"+hr:""),it=sr[Nr]),!it){let Qi=An?{field:Yt,pulse:Z.countsRef(k,Vt,An)}:{field:k.fieldRef(Vt),pulse:ft(Z.output)};hr&&(Qi.sort=k.sortRef(An)),Fi=k.add(Oe(Nt,void 0,Qi)),kn&&(Z.index[Vt]=Fi),it=ft(Fi),Nr!=null&&(sr[Nr]=it)}return it}ii.prototype={countsRef(k,Z,je){let Nt=this,Vt=Nt.counts||(Nt.counts={}),An=qr(Z),kn,sr,hr;return An!=null&&(k=Nt.scope,kn=Vt[An]),kn?je&&je.field&&Ir(k,kn.agg.params,je):(hr={groupby:k.fieldRef(Z,"key"),pulse:ft(Nt.output)},je&&je.field&&Ir(k,hr,je),sr=k.add(Dt(hr)),kn=k.add(dt({pulse:ft(sr)})),kn={agg:sr,ref:ft(kn)},An!=null&&(Vt[An]=kn)),kn.ref},tuplesRef(){return ft(this.values)},extentRef(k,Z){return yi(k,this,"extent","extent",Z,!1)},domainRef(k,Z){return yi(k,this,"domain","values",Z,!1)},valuesRef(k,Z,je){return yi(k,this,"vals","values",Z,je||!0)},lookupRef(k,Z){return yi(k,this,"lookup","tupleindex",Z,!1)},indataRef(k,Z){return yi(k,this,"indata","tupleindex",Z,!0,!0)}};function gi(k,Z,je){let Nt=k.from.facet,Vt=Nt.name,An=pi(Nt,Z),kn;Nt.name||e.error("Facet must have a name: "+e.stringValue(Nt)),Nt.data||e.error("Facet must reference a data set: "+e.stringValue(Nt)),Nt.field?kn=Z.add(vn({field:Z.fieldRef(Nt.field),pulse:An})):Nt.groupby?kn=Z.add(St({key:Z.keyRef(Nt.groupby),group:ft(Z.proxy(je.parent)),pulse:An})):e.error("Facet must specify groupby or field: "+e.stringValue(Nt));let sr=Z.fork(),hr=sr.add(dt()),Nr=sr.add(V({pulse:ft(hr)}));sr.addData(Vt,new ii(sr,hr,hr,Nr)),sr.addSignal("parent",null),kn.params.subflow={$subflow:sr.parse(k).toRuntime()}}function os(k,Z,je){let Nt=Z.add(vn({pulse:je.pulse})),Vt=Z.fork();Vt.add(V()),Vt.addSignal("parent",null),Nt.params.subflow={$subflow:Vt.parse(k).toRuntime()}}function xs(k,Z,je){let Nt=k.remove,Vt=k.insert,An=k.toggle,kn=k.modify,sr=k.values,hr=Z.add(nt()),Nr="if("+k.trigger+',modify("'+je+'",'+[Vt,Nt,An,kn,sr].map(Fi=>Fi??"null").join(",")+"),0)",it=t.parseExpression(Nr,Z);hr.update=it.$expr,hr.params=it.$params}function vi(k,Z){let je=Ie(k),Nt=k.type===Xo,Vt=k.from&&k.from.facet,An=k.overlap,kn=k.layout||je===L||je===z,sr,hr,Nr,it,Fi,Qi,Li,Qr=je===q||kn||Vt,Ys=ni(k.from,Nt,Z);hr=Z.add(Te({key:Ys.key||(k.key?Ot(k.key):void 0),pulse:Ys.pulse,clean:!Nt}));let $o=ft(hr);hr=Nr=Z.add(dt({pulse:$o})),hr=Z.add(st({markdef:yt(k),interactive:Jt(k.interactive,Z),clip:mr(k.clip,Z),context:{$context:!0},groups:Z.lookup(),parent:Z.signals.parent?Z.signalRef("parent"):null,index:Z.markpath(),pulse:ft(hr)}));let va=ft(hr);hr=it=Z.add(Ue(tn(k.encode,k.type,je,k.style,Z,{mod:!1,pulse:va}))),hr.params.parent=Z.encode(),k.transform&&k.transform.forEach(Ma=>{let lc=$t(Ma,Z),_a=lc.metadata;(_a.generates||_a.changes)&&e.error("Mark transforms should not generate new data."),_a.nomod||(it.params.mod=!0),lc.params.pulse=ft(hr),Z.add(hr=lc)}),k.sort&&(hr=Z.add(Ee({sort:Z.compareRef(k.sort),pulse:ft(hr)})));let mo=ft(hr);(Vt||kn)&&(kn=Z.add(xe({layout:Z.objectProperty(k.layout),legends:Z.legends,mark:va,pulse:mo})),Qi=ft(kn));let Ia=Z.add(an({mark:va,pulse:Qi||mo}));Li=ft(Ia),Nt&&(Qr&&(sr=Z.operators,sr.pop(),kn&&sr.pop()),Z.pushState(mo,Qi||Li,$o),Vt?gi(k,Z,Ys):Qr?os(k,Z,Ys):Z.parse(k),Z.popState(),Qr&&(kn&&sr.push(kn),sr.push(Ia))),An&&(Li=Bs(An,Li,Z));let uc=Z.add(Ft({pulse:Li})),Wl=Z.add(V({pulse:ft(uc)},void 0,Z.parent()));k.name!=null&&(Fi=k.name,Z.addData(Fi,new ii(Z,Nr,uc,Wl)),k.on&&k.on.forEach(Ma=>{(Ma.insert||Ma.remove||Ma.toggle)&&e.error("Marks only support modify triggers."),xs(Ma,Z,Fi)}))}function Bs(k,Z,je){let Nt=k.method,Vt=k.bound,An=k.separation,kn={separation:Rn(An)?je.signalRef(An.signal):An,method:Rn(Nt)?je.signalRef(Nt.signal):Nt,pulse:Z};if(k.order&&(kn.sort=je.compareRef({field:k.order})),Vt){let sr=Vt.tolerance;kn.boundTolerance=Rn(sr)?je.signalRef(sr.signal):+sr,kn.boundScale=je.scaleRef(Vt.scale),kn.boundOrient=Vt.orient}return ft(je.add(Cn(kn)))}function ss(k,Z){let je=Z.config.legend,Nt=k.encode||{},Vt=Zi(k,je),An=Nt.legend||{},kn=An.name||void 0,sr=An.interactive,hr=An.style,Nr={},it=0,Fi,Qi,Li;ho.forEach(Ia=>k[Ia]?(Nr[Ia]=k[Ia],it=it||k[Ia]):0),it||e.error("Missing valid scale for legend.");let Qr=ya(k,Z.scaleType(it)),Ys={title:k.title!=null,scales:Nr,type:Qr,vgrad:Qr!=="symbol"&&Vt.isVertical()},$o=ft(Z.add(dt(null,[Ys]))),va={enter:{x:{value:0},y:{value:0}}},mo=ft(Z.add(Ce(Qi={type:Qr,scale:Z.scaleRef(it),count:Z.objectProperty(Vt("tickCount")),limit:Z.property(Vt("symbolLimit")),values:Z.objectProperty(k.values),minstep:Z.property(k.tickMinStep),formatType:Z.property(k.formatType),formatSpecifier:Z.property(k.format)})));return Qr===Yn?(Li=[Ii(k,it,je,Nt.gradient),Ro(k,je,Nt.labels,mo)],Qi.count=Qi.count||Z.signalRef(`max(2,2*floor((${Pt(Vt.gradientLength())})/100))`)):Qr===ri?Li=[Oo(k,it,je,Nt.gradient,mo),Ro(k,je,Nt.labels,mo)]:(Fi=$a(k,je),Li=[To(k,je,Nt,mo,Pt(Fi.columns))],Qi.size=nn(k,Z,Li[0].marks)),Li=[ps({role:He,from:$o,encode:va,marks:Li,layout:Fi,interactive:sr})],Ys.title&&Li.push(cs(k,je,Nt.title,$o)),vi(ps({role:he,from:$o,encode:O(Ts(Vt,k,je),An,hi),marks:Li,aria:Vt("aria"),description:Vt("description"),zindex:Vt("zindex"),name:kn,interactive:sr,style:hr}),Z)}function ya(k,Z){let je=k.type||jn;return!k.type&&No(k)===1&&(k.fill||k.stroke)&&(je=i.isContinuous(Z)?Yn:i.isDiscretizing(Z)?ri:jn),je!==Yn?je:i.isDiscretizing(Z)?ri:Yn}function No(k){return ho.reduce((Z,je)=>Z+(k[je]?1:0),0)}function Ts(k,Z,je){let Nt={enter:{},update:{}};return E(Nt,{orient:k("orient"),offset:k("offset"),padding:k("padding"),titlePadding:k("titlePadding"),cornerRadius:k("cornerRadius"),fill:k("fillColor"),stroke:k("strokeColor"),strokeWidth:je.strokeWidth,strokeDash:je.strokeDash,x:k("legendX"),y:k("legendY"),format:Z.format,formatType:Z.formatType}),Nt}function nn(k,Z,je){let Nt=Pt(Jn("size",k,je)),Vt=Pt(Jn("strokeWidth",k,je)),An=Pt(bn(je[1].encode,Z,Zu));return t.parseExpression(`max(ceil(sqrt(${Nt})+${Vt}),${An})`,Z)}function Jn(k,Z,je){return Z[k]?`scale("${Z[k]}",datum)`:hu(k,je[0].encode)}function bn(k,Z,je){return hu("fontSize",k)||Ps("fontSize",Z,je)}let Yr=`item.orient==="${ai}"?-90:item.orient==="${Xi}"?90:0`;function Ti(k,Z){k=e.isString(k)?{text:k}:k;let je=Zi(k,Z.config.title),Nt=k.encode||{},Vt=Nt.group||{},An=Vt.name||void 0,kn=Vt.interactive,sr=Vt.style,hr=[],Nr={},it=ft(Z.add(dt(null,[Nr])));return hr.push(Hi(k,je,ns(k),it)),k.subtitle&&hr.push(fs(k,je,Nt.subtitle,it)),vi(ps({role:Mt,from:it,encode:ms(je,Vt),marks:hr,aria:je("aria"),description:je("description"),zindex:je("zindex"),name:An,interactive:kn,style:sr}),Z)}function ns(k){let Z=k.encode;return Z&&Z.title||e.extend({name:k.name,interactive:k.interactive,style:k.style},Z)}function ms(k,Z){let je={enter:{},update:{}};return E(je,{orient:k("orient"),anchor:k("anchor"),align:{signal:aa},angle:{signal:Yr},limit:k("limit"),frame:k("frame"),offset:k("offset")||0,padding:k("subtitlePadding")}),O(je,Z,hi)}function Hi(k,Z,je,Nt){let Vt={value:0},An=k.text,kn={enter:{opacity:Vt},update:{opacity:{value:1}},exit:{opacity:Vt}};return E(kn,{text:An,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Z("dx"),dy:Z("dy"),fill:Z("color"),font:Z("font"),fontSize:Z("fontSize"),fontStyle:Z("fontStyle"),fontWeight:Z("fontWeight"),lineHeight:Z("lineHeight")},{align:Z("align"),angle:Z("angle"),baseline:Z("baseline")}),vs({type:ls,role:qe,style:Ge,from:Nt,encode:kn},je)}function fs(k,Z,je,Nt){let Vt={value:0},An=k.subtitle,kn={enter:{opacity:Vt},update:{opacity:{value:1}},exit:{opacity:Vt}};return E(kn,{text:An,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Z("dx"),dy:Z("dy"),fill:Z("subtitleColor"),font:Z("subtitleFont"),fontSize:Z("subtitleFontSize"),fontStyle:Z("subtitleFontStyle"),fontWeight:Z("subtitleFontWeight"),lineHeight:Z("subtitleLineHeight")},{align:Z("align"),angle:Z("angle"),baseline:Z("baseline")}),vs({type:ls,role:te,style:Kt,from:Nt,encode:kn},je)}function mu(k,Z){let je=[];k.transform&&k.transform.forEach(Nt=>{je.push($t(Nt,Z))}),k.on&&k.on.forEach(Nt=>{xs(Nt,Z,k.name)}),Z.addDataPipeline(k.name,le(k,Z,je))}function le(k,Z,je){let Nt=[],Vt=null,An=!1,kn=!1,sr,hr,Nr,it,Fi;for(k.values?Rn(k.values)||ze(k.format)?(Nt.push(en(Z,k)),Nt.push(Vt=ut())):Nt.push(Vt=ut({$ingest:k.values,$format:k.format})):k.url?ze(k.url)||ze(k.format)?(Nt.push(en(Z,k)),Nt.push(Vt=ut())):Nt.push(Vt=ut({$request:k.url,$format:k.format})):k.source&&(Vt=sr=e.array(k.source).map(Qi=>ft(Z.getData(Qi).output)),Nt.push(null)),hr=0,Nr=je.length;hr<Nr;++hr)it=je[hr],Fi=it.metadata,!Vt&&!Fi.source&&Nt.push(Vt=ut()),Nt.push(it),Fi.generates&&(kn=!0),Fi.modifies&&!kn&&(An=!0),Fi.source?Vt=it:Fi.changes&&(Vt=null);return sr&&(Nr=sr.length-1,Nt[0]=$e({derive:An,pulse:Nr?sr:sr[0]}),(An||Nr)&&Nt.splice(1,0,ut())),Vt||Nt.push(ut()),Nt.push(V({})),Nt}function ut(k){let Z=dt({},k);return Z.metadata={source:!0},Z}function en(k,Z){return We({url:Z.url?k.property(Z.url):void 0,async:Z.async?k.property(Z.async):void 0,values:Z.values?k.property(Z.values):void 0,format:k.objectProperty(Z.format)})}let Dn=k=>k===ws||k===xi,ir=(k,Z,je)=>Rn(k)?Za(k.signal,Z,je):k===ai||k===xi?Z:je,vr=(k,Z,je)=>Rn(k)?Ls(k.signal,Z,je):Dn(k)?Z:je,dr=(k,Z,je)=>Rn(k)?oo(k.signal,Z,je):Dn(k)?je:Z,es=(k,Z,je)=>Rn(k)?sc(k.signal,Z,je):k===xi?{value:Z}:{value:je},_s=(k,Z,je)=>Rn(k)?rf(k.signal,Z,je):k===Xi?{value:Z}:{value:je},Ls=(k,Z,je)=>kc(`${k} === '${xi}' || ${k} === '${ws}'`,Z,je),oo=(k,Z,je)=>kc(`${k} !== '${xi}' && ${k} !== '${ws}'`,Z,je),Za=(k,Z,je)=>Q0(`${k} === '${ai}' || ${k} === '${xi}'`,Z,je),sc=(k,Z,je)=>Q0(`${k} === '${xi}'`,Z,je),rf=(k,Z,je)=>Q0(`${k} === '${Xi}'`,Z,je),kc=(k,Z,je)=>(Z=Z!=null?p(Z):Z,je=je!=null?p(je):je,u0(Z)&&u0(je)?(Z=Z?Z.signal||e.stringValue(Z.value):null,je=je?je.signal||e.stringValue(je.value):null,{signal:`${k} ? (${Z}) : (${je})`}):[e.extend({test:k},Z)].concat(je||[])),u0=k=>k==null||Object.keys(k).length===1,Q0=(k,Z,je)=>({signal:`${k} ? (${sf(Z)}) : (${sf(je)})`}),oc=(k,Z,je,Nt,Vt)=>({signal:(Nt!=null?`${k} === '${ai}' ? (${sf(Nt)}) : `:"")+(je!=null?`${k} === '${ws}' ? (${sf(je)}) : `:"")+(Vt!=null?`${k} === '${Xi}' ? (${sf(Vt)}) : `:"")+(Z!=null?`${k} === '${xi}' ? (${sf(Z)}) : `:"")+"(null)"}),sf=k=>Rn(k)?k.signal:k==null?null:e.stringValue(k),l0=(k,Z)=>Z===0?0:Rn(k)?{signal:`(${k.signal}) * ${Z}`}:{value:k*Z},_l=(k,Z)=>{let je=k.signal;return je&&je.endsWith("(null)")?{signal:je.slice(0,-6)+Z.signal}:k};function Ic(k,Z,je,Nt){let Vt;if(Z&&e.hasOwnProperty(Z,k))return Z[k];if(e.hasOwnProperty(je,k))return je[k];if(k.startsWith("title")){switch(k){case"titleColor":Vt="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":Vt=k[5].toLowerCase()+k.slice(6)}return Nt[nf][Vt]}else if(k.startsWith("label")){switch(k){case"labelColor":Vt="fill";break;case"labelFont":case"labelFontSize":Vt=k[5].toLowerCase()+k.slice(6)}return Nt[Zu][Vt]}return null}function c0(k){let Z={};for(let je of k)if(!!je)for(let Nt in je)Z[Nt]=1;return Object.keys(Z)}function ac(k,Z){var je=Z.config,Nt=je.style,Vt=je.axis,An=Z.scaleType(k.scale)==="band"&&je.axisBand,kn=k.orient,sr,hr,Nr;if(Rn(kn)){let Fi=c0([je.axisX,je.axisY]),Qi=c0([je.axisTop,je.axisBottom,je.axisLeft,je.axisRight]);sr={};for(Nr of Fi)sr[Nr]=vr(kn,Ic(Nr,je.axisX,Vt,Nt),Ic(Nr,je.axisY,Vt,Nt));hr={};for(Nr of Qi)hr[Nr]=oc(kn.signal,Ic(Nr,je.axisTop,Vt,Nt),Ic(Nr,je.axisBottom,Vt,Nt),Ic(Nr,je.axisLeft,Vt,Nt),Ic(Nr,je.axisRight,Vt,Nt))}else sr=kn===xi||kn===ws?je.axisX:je.axisY,hr=je["axis"+kn[0].toUpperCase()+kn.slice(1)];return sr||hr||An?e.extend({},Vt,sr,hr,An):Vt}function Vl(k,Z,je,Nt){let Vt=Zi(k,Z),An=k.orient,kn,sr,hr={enter:kn={opacity:Ei},update:sr={opacity:Wi},exit:{opacity:Ei}};E(hr,{stroke:Vt("domainColor"),strokeCap:Vt("domainCap"),strokeDash:Vt("domainDash"),strokeDashOffset:Vt("domainDashOffset"),strokeWidth:Vt("domainWidth"),strokeOpacity:Vt("domainOpacity")});let Nr=G0(k,0),it=G0(k,1);return kn.x=sr.x=vr(An,Nr,Ei),kn.x2=sr.x2=vr(An,it),kn.y=sr.y=dr(An,Nr,Ei),kn.y2=sr.y2=dr(An,it),vs({type:ha,role:P,from:Nt,encode:hr},je)}function G0(k,Z){return{scale:k.scale,range:Z}}function Th(k,Z,je,Nt,Vt){let An=Zi(k,Z),kn=k.orient,sr=k.gridScale,hr=ir(kn,1,-1),Nr=Y0(k.offset,hr),it,Fi,Qi,Li={enter:it={opacity:Ei},update:Qi={opacity:Wi},exit:Fi={opacity:Ei}};E(Li,{stroke:An("gridColor"),strokeCap:An("gridCap"),strokeDash:An("gridDash"),strokeDashOffset:An("gridDashOffset"),strokeOpacity:An("gridOpacity"),strokeWidth:An("gridWidth")});let Qr={scale:k.scale,field:na,band:Vt.band,extra:Vt.extra,offset:Vt.offset,round:An("tickRound")},Ys=vr(kn,{signal:"height"},{signal:"width"}),$o=sr?{scale:sr,range:0,mult:hr,offset:Nr}:{value:0,offset:Nr},va=sr?{scale:sr,range:1,mult:hr,offset:Nr}:e.extend(Ys,{mult:hr,offset:Nr});return it.x=Qi.x=vr(kn,Qr,$o),it.y=Qi.y=dr(kn,Qr,$o),it.x2=Qi.x2=dr(kn,va),it.y2=Qi.y2=vr(kn,va),Fi.x=vr(kn,Qr),Fi.y=dr(kn,Qr),vs({type:ha,role:G,key:na,from:Nt,encode:Li},je)}function Y0(k,Z){if(Z!==1)if(!e.isObject(k))k=Rn(Z)?{signal:`(${Z.signal}) * (${k||0})`}:Z*(k||0);else{let je=k=e.extend({},k);for(;je.mult!=null;)if(e.isObject(je.mult))je=je.mult=e.extend({},je.mult);else return je.mult=Rn(Z)?{signal:`(${je.mult}) * (${Z.signal})`}:je.mult*Z,k;je.mult=Z}return k}function K0(k,Z,je,Nt,Vt,An){let kn=Zi(k,Z),sr=k.orient,hr=ir(sr,-1,1),Nr,it,Fi,Qi={enter:Nr={opacity:Ei},update:Fi={opacity:Wi},exit:it={opacity:Ei}};E(Qi,{stroke:kn("tickColor"),strokeCap:kn("tickCap"),strokeDash:kn("tickDash"),strokeDashOffset:kn("tickDashOffset"),strokeOpacity:kn("tickOpacity"),strokeWidth:kn("tickWidth")});let Li=p(Vt);Li.mult=hr;let Qr={scale:k.scale,field:na,band:An.band,extra:An.extra,offset:An.offset,round:kn("tickRound")};return Fi.y=Nr.y=vr(sr,Ei,Qr),Fi.y2=Nr.y2=vr(sr,Li),it.x=vr(sr,Qr),Fi.x=Nr.x=dr(sr,Ei,Qr),Fi.x2=Nr.x2=dr(sr,Li),it.y=dr(sr,Qr),vs({type:ha,role:I,key:na,from:Nt,encode:Qi},je)}function of(k,Z,je,Nt,Vt){return{signal:'flush(range("'+k+'"), scale("'+k+'", datum.value), '+Z+","+je+","+Nt+","+Vt+")"}}function J0(k,Z,je,Nt,Vt,An){let kn=Zi(k,Z),sr=k.orient,hr=k.scale,Nr=ir(sr,-1,1),it=Pt(kn("labelFlush")),Fi=Pt(kn("labelFlushOffset")),Qi=kn("labelAlign"),Li=kn("labelBaseline"),Qr=it===0||!!it,Ys,$o=p(Vt);$o.mult=Nr,$o.offset=p(kn("labelPadding")||0),$o.offset.mult=Nr;let va={scale:hr,field:na,band:.5,offset:Wo(An.offset,kn("labelOffset"))},mo=vr(sr,Qr?of(hr,it,'"left"','"right"','"center"'):{value:"center"},_s(sr,"left","right")),Ia=vr(sr,es(sr,"bottom","top"),Qr?of(hr,it,'"top"','"bottom"','"middle"'):{value:"middle"}),uc=of(hr,it,`-(${Fi})`,Fi,0);Qr=Qr&&Fi;let Wl={opacity:Ei,x:vr(sr,va,$o),y:dr(sr,va,$o)},Ma={enter:Wl,update:Ys={opacity:Wi,text:{field:du},x:Wl.x,y:Wl.y,align:mo,baseline:Ia},exit:{opacity:Ei,x:Wl.x,y:Wl.y}};E(Ma,{dx:!Qi&&Qr?vr(sr,uc):null,dy:!Li&&Qr?dr(sr,uc):null}),E(Ma,{angle:kn("labelAngle"),fill:kn("labelColor"),fillOpacity:kn("labelOpacity"),font:kn("labelFont"),fontSize:kn("labelFontSize"),fontWeight:kn("labelFontWeight"),fontStyle:kn("labelFontStyle"),limit:kn("labelLimit"),lineHeight:kn("labelLineHeight")},{align:Qi,baseline:Li});let lc=kn("labelBound"),_a=kn("labelOverlap");return _a=_a||lc?{separation:kn("labelSeparation"),method:_a,order:"datum.index",bound:lc?{scale:hr,orient:sr,tolerance:lc}:null}:void 0,Ys.align!==mo&&(Ys.align=_l(Ys.align,mo)),Ys.baseline!==Ia&&(Ys.baseline=_l(Ys.baseline,Ia)),vs({type:ls,role:ue,style:Zu,key:na,from:Nt,encode:Ma,overlap:_a},je)}function Mc(k,Z,je,Nt){let Vt=Zi(k,Z),An=k.orient,kn=ir(An,-1,1),sr,hr,Nr={enter:sr={opacity:Ei,anchor:p(Vt("titleAnchor",null)),align:{signal:aa}},update:hr=e.extend({},sr,{opacity:Wi,text:p(k.title)}),exit:{opacity:Ei}},it={signal:`lerp(range("${k.scale}"), ${ga(0,1,.5)})`};return hr.x=vr(An,it),hr.y=dr(An,it),sr.angle=vr(An,Ei,l0(kn,90)),sr.baseline=vr(An,es(An,ws,xi),{value:ws}),hr.angle=sr.angle,hr.baseline=sr.baseline,E(Nr,{fill:Vt("titleColor"),fillOpacity:Vt("titleOpacity"),font:Vt("titleFont"),fontSize:Vt("titleFontSize"),fontStyle:Vt("titleFontStyle"),fontWeight:Vt("titleFontWeight"),limit:Vt("titleLimit"),lineHeight:Vt("titleLineHeight")},{align:Vt("titleAlign"),angle:Vt("titleAngle"),baseline:Vt("titleBaseline")}),f0(Vt,An,Nr,je),Nr.update.align=_l(Nr.update.align,sr.align),Nr.update.angle=_l(Nr.update.angle,sr.angle),Nr.update.baseline=_l(Nr.update.baseline,sr.baseline),vs({type:ls,role:J,style:nf,from:Nt,encode:Nr},je)}function f0(k,Z,je,Nt){let Vt=(sr,hr)=>sr!=null?(je.update[hr]=_l(p(sr),je.update[hr]),!1):!R(hr,Nt),An=Vt(k("titleX"),"x"),kn=Vt(k("titleY"),"y");je.enter.auto=kn===An?p(kn):vr(Z,p(kn),p(An))}function d0(k,Z){let je=ac(k,Z),Nt=k.encode||{},Vt=Nt.axis||{},An=Vt.name||void 0,kn=Vt.interactive,sr=Vt.style,hr=Zi(k,je),Nr=Ri(hr),it={scale:k.scale,ticks:!!hr("ticks"),labels:!!hr("labels"),grid:!!hr("grid"),domain:!!hr("domain"),title:k.title!=null},Fi=ft(Z.add(dt({},[it]))),Qi=ft(Z.add(hn({scale:Z.scaleRef(k.scale),extra:Z.property(Nr.extra),count:Z.objectProperty(k.tickCount),values:Z.objectProperty(k.values),minstep:Z.property(k.tickMinStep),formatType:Z.property(k.formatType),formatSpecifier:Z.property(k.format)}))),Li=[],Qr;return it.grid&&Li.push(Th(k,je,Nt.grid,Qi,Nr)),it.ticks&&(Qr=hr("tickSize"),Li.push(K0(k,je,Nt.ticks,Qi,Qr,Nr))),it.labels&&(Qr=it.ticks?Qr:0,Li.push(J0(k,je,Nt.labels,Qi,Qr,Nr))),it.domain&&Li.push(Vl(k,je,Nt.domain,Fi)),it.title&&Li.push(Mc(k,je,Nt.title,Fi)),vi(ps({role:B,from:Fi,encode:O(h0(hr,k),Vt,hi),marks:Li,aria:hr("aria"),description:hr("description"),zindex:hr("zindex"),name:An,interactive:kn,style:sr}),Z)}function h0(k,Z){let je={enter:{},update:{}};return E(je,{orient:k("orient"),offset:k("offset")||0,position:De(Z.position,0),titlePadding:k("titlePadding"),minExtent:k("minExtent"),maxExtent:k("maxExtent"),range:{signal:`abs(span(range("${Z.scale}")))`},translate:k("translate"),format:Z.format,formatType:Z.formatType}),je}function Uo(k,Z,je){let Nt=e.array(k.signals),Vt=e.array(k.scales);return je||Nt.forEach(An=>Ke(An,Z)),e.array(k.projections).forEach(An=>yr(An,Z)),Vt.forEach(An=>Qe(An,Z)),e.array(k.data).forEach(An=>mu(An,Z)),Vt.forEach(An=>It(An,Z)),(je||Nt).forEach(An=>Be(An,Z)),e.array(k.axes).forEach(An=>d0(An,Z)),e.array(k.marks).forEach(An=>vi(An,Z)),e.array(k.legends).forEach(An=>ss(An,Z)),k.title&&Ti(k.title,Z),Z.parseLambdas(),Z}let Zo=k=>O({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},k);function p0(k,Z){let je=Z.config,Nt=ft(Z.root=Z.add(nt())),Vt=af(k,je);Vt.forEach(Nr=>Ke(Nr,Z)),Z.description=k.description||je.description,Z.eventConfig=je.events,Z.legends=Z.objectProperty(je.legend&&je.legend.layout),Z.locale=je.locale;let An=Z.add(dt()),kn=Z.add(Ue(tn(Zo(k.encode),Xo,z,k.style,Z,{pulse:ft(An)}))),sr=Z.add(xe({layout:Z.objectProperty(k.layout),legends:Z.legends,autosize:Z.signalRef("autosize"),mark:Nt,pulse:ft(kn)}));Z.operators.pop(),Z.pushState(ft(kn),ft(sr),null),Uo(k,Z,Vt),Z.operators.push(sr);let hr=Z.add(an({mark:Nt,pulse:ft(sr)}));return hr=Z.add(Ft({pulse:ft(hr)})),hr=Z.add(V({pulse:ft(hr)})),Z.addData("root",new ii(Z,An,An,hr)),Z}function bl(k,Z){return Z&&Z.signal?{name:k,update:Z.signal}:{name:k,value:Z}}function af(k,Z){let je=kn=>De(k[kn],Z[kn]),Nt=[bl("background",je("background")),bl("autosize",o(je("autosize"))),bl("padding",f(je("padding"))),bl("width",je("width")||0),bl("height",je("height")||0)],Vt=Nt.reduce((kn,sr)=>(kn[sr.name]=sr,kn),{}),An={};return e.array(k.signals).forEach(kn=>{e.hasOwnProperty(Vt,kn.name)?kn=e.extend(Vt[kn.name],kn):Nt.push(kn),An[kn.name]=kn}),e.array(Z.signals).forEach(kn=>{!e.hasOwnProperty(An,kn.name)&&!e.hasOwnProperty(Vt,kn.name)&&Nt.push(kn)}),Nt}function jd(k,Z){this.config=k||{},this.options=Z||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function Ou(k){this.config=k.config,this.options=k.options,this.legends=k.legends,this.field=Object.create(k.field),this.signals=Object.create(k.signals),this.lambdas=Object.create(k.lambdas),this.scales=Object.create(k.scales),this.events=Object.create(k.events),this.data=Object.create(k.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++k._nextsub[0],this._nextsub=k._nextsub,this._parent=k._parent.slice(),this._encode=k._encode.slice(),this._lookup=k._lookup.slice(),this._markpath=k._markpath}jd.prototype=Ou.prototype={parse(k){return Uo(k,this)},fork(){return new Ou(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(k){return this.operators.push(k),k.id=this.id(),k.refs&&(k.refs.forEach(Z=>{Z.$ref=k.id}),k.refs=null),k},proxy(k){let Z=k instanceof re?ft(k):k;return this.add(Re({value:Z}))},addStream(k){return this.streams.push(k),k.id=this.id(),k},addUpdate(k){return this.updates.push(k),k},finish(){let k,Z;this.root&&(this.root.root=!0);for(k in this.signals)this.signals[k].signal=k;for(k in this.scales)this.scales[k].scale=k;function je(Nt,Vt,An){let kn,sr;Nt&&(kn=Nt.data||(Nt.data={}),sr=kn[Vt]||(kn[Vt]=[]),sr.push(An))}for(k in this.data){Z=this.data[k],je(Z.input,k,"input"),je(Z.output,k,"output"),je(Z.values,k,"values");for(let Nt in Z.index)je(Z.index[Nt],k,"index:"+Nt)}return this},pushState(k,Z,je){this._encode.push(ft(this.add(V({pulse:k})))),this._parent.push(Z),this._lookup.push(je?ft(this.proxy(je)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return e.peek(this._parent)},encode(){return e.peek(this._encode)},lookup(){return e.peek(this._lookup)},markpath(){let k=this._markpath;return++k[k.length-1]},fieldRef(k,Z){if(e.isString(k))return Ot(k,Z);k.signal||e.error("Unsupported field reference: "+e.stringValue(k));let je=k.signal,Nt=this.field[je];if(!Nt){let Vt={name:this.signalRef(je)};Z&&(Vt.as=Z),this.field[je]=Nt=ft(this.add(Rt(Vt)))}return Nt},compareRef(k){let Z=!1,je=An=>Rn(An)?(Z=!0,this.signalRef(An.signal)):Ne(An)?(Z=!0,this.exprRef(An.expr)):An,Nt=e.array(k.field).map(je),Vt=e.array(k.order).map(je);return Z?ft(this.add(ie({fields:Nt,orders:Vt}))):Gt(Nt,Vt)},keyRef(k,Z){let je=!1,Nt=An=>Rn(An)?(je=!0,ft(Vt[An.signal])):An,Vt=this.signals;return k=e.array(k).map(Nt),je?ft(this.add(ne({fields:k,flat:Z}))):fn(k,Z)},sortRef(k){if(!k)return k;let Z=un(k.op,k.field),je=k.order||gn;return je.signal?ft(this.add(ie({fields:Z,orders:this.signalRef(je.signal)}))):Gt(Z,je)},event(k,Z){let je=k+":"+Z;if(!this.events[je]){let Nt=this.id();this.streams.push({id:Nt,source:k,type:Z}),this.events[je]=Nt}return this.events[je]},hasOwnSignal(k){return e.hasOwnProperty(this.signals,k)},addSignal(k,Z){this.hasOwnSignal(k)&&e.error("Duplicate signal name: "+e.stringValue(k));let je=Z instanceof re?Z:this.add(nt(Z));return this.signals[k]=je},getSignal(k){return this.signals[k]||e.error("Unrecognized signal name: "+e.stringValue(k)),this.signals[k]},signalRef(k){return this.signals[k]?ft(this.signals[k]):(e.hasOwnProperty(this.lambdas,k)||(this.lambdas[k]=this.add(nt(null))),ft(this.lambdas[k]))},parseLambdas(){let k=Object.keys(this.lambdas);for(let Z=0,je=k.length;Z<je;++Z){let Nt=k[Z],Vt=t.parseExpression(Nt,this),An=this.lambdas[Nt];An.params=Vt.$params,An.update=Vt.$expr}},property(k){return k&&k.signal?this.signalRef(k.signal):k},objectProperty(k){return!k||!e.isObject(k)?k:this.signalRef(k.signal||_o(k))},exprRef(k,Z){let je={expr:t.parseExpression(k,this)};return Z&&(je.expr.$name=Z),ft(this.add(gt(je)))},addBinding(k,Z){this.bindings||e.error("Nested signals do not support binding: "+e.stringValue(k)),this.bindings.push(e.extend({signal:k},Z))},addScaleProj(k,Z){e.hasOwnProperty(this.scales,k)&&e.error("Duplicate scale or projection name: "+e.stringValue(k)),this.scales[k]=this.add(Z)},addScale(k,Z){this.addScaleProj(k,N(Z))},addProjection(k,Z){this.addScaleProj(k,zn(Z))},getScale(k){return this.scales[k]||e.error("Unrecognized scale name: "+e.stringValue(k)),this.scales[k]},scaleRef(k){return ft(this.getScale(k))},scaleType(k){return this.getScale(k).params.type},projectionRef(k){return this.scaleRef(k)},projectionType(k){return this.scaleType(k)},addData(k,Z){return e.hasOwnProperty(this.data,k)&&e.error("Duplicate data set name: "+e.stringValue(k)),this.data[k]=Z},getData(k){return this.data[k]||e.error("Undefined data set name: "+e.stringValue(k)),this.data[k]},addDataPipeline(k,Z){return e.hasOwnProperty(this.data,k)&&e.error("Duplicate data set name: "+e.stringValue(k)),this.addData(k,ii.fromEntries(this,Z))}};function _o(k){return(e.isArray(k)?Fh:El)(k)}function Fh(k){let Z=k.length,je="[";for(let Nt=0;Nt<Z;++Nt){let Vt=k[Nt];je+=(Nt>0?",":"")+(e.isObject(Vt)?Vt.signal||_o(Vt):e.stringValue(Vt))}return je+"]"}function El(k){let Z="{",je=0,Nt,Vt;for(Nt in k)Vt=k[Nt],Z+=(++je>1?",":"")+e.stringValue(Nt)+":"+(e.isObject(Vt)?Vt.signal||_o(Vt):e.stringValue(Vt));return Z+"}"}function Is(){let k="sans-serif",Z=30,je=2,Nt="#4c78a8",Vt="#000",An="#888",kn="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:Nt},area:{fill:Nt},image:null,line:{stroke:Nt,strokeWidth:je},path:{stroke:Nt},rect:{fill:Nt},rule:{stroke:Vt},shape:{stroke:Nt},symbol:{fill:Nt,size:64},text:{fill:Vt,font:k,fontSize:11},trail:{fill:Nt,size:je},style:{"guide-label":{fill:Vt,font:k,fontSize:10},"guide-title":{fill:Vt,font:k,fontSize:11,fontWeight:"bold"},"group-title":{fill:Vt,font:k,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:Vt,font:k,fontSize:12},point:{size:Z,strokeWidth:je,shape:"circle"},circle:{size:Z,strokeWidth:je},square:{size:Z,strokeWidth:je,shape:"square"},cell:{fill:"transparent",stroke:kn}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:An,grid:!1,gridWidth:1,gridColor:kn,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:An,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:kn,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:An,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function Sl(k,Z,je){return e.isObject(k)||e.error("Input Vega specification must be an object."),Z=e.mergeConfig(Is(),Z,k.config),p0(k,new jd(Z,je)).toRuntime()}n.AxisDomainRole=P,n.AxisGridRole=G,n.AxisLabelRole=ue,n.AxisRole=B,n.AxisTickRole=I,n.AxisTitleRole=J,n.DataScope=ii,n.FrameRole=z,n.LegendEntryRole=He,n.LegendLabelRole=ct,n.LegendRole=he,n.LegendSymbolRole=Ze,n.LegendTitleRole=Et,n.MarkRole=q,n.Scope=jd,n.ScopeRole=L,n.config=Is,n.parse=Sl,n.signal=Ke,n.signalUpdates=Be,n.stream=xt,Object.defineProperty(n,"__esModule",{value:!0})})});var Ole=Ae(Gs=>{"use strict";m();Object.defineProperty(Gs,"__esModule",{value:!0});var Dle=Tu(),Md=s0(),Cyt=DDe(),Ayt=kDe(),Tyt=MDe(),Fyt=jDe(),Dyt=UDe(),Oyt=zDe(),Ryt=VDe(),Nyt=QDe(),Lyt=YDe(),kyt=JDe(),Iyt=ZDe(),cOe=dE(),fOe=d9(),dOe=rV(),hOe=h9(),p9=hE(),Myt=Ale(),Pyt=oOe(),xN=pN(),Byt=CV(),jyt=lOe(),qyt=Tle(),pOe=EV(),Uyt=Fle();function Jm(n){if(n&&n.__esModule)return n;var e=Object.create(null);return n&&Object.keys(n).forEach(function(t){if(t!=="default"){var r=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:function(){return n[t]}})}}),e.default=n,Object.freeze(e)}var $yt=Jm(Cyt),zyt=Jm(Ayt),Hyt=Jm(Tyt),Vyt=Jm(Fyt),Wyt=Jm(Dyt),Qyt=Jm(Oyt),Gyt=Jm(Ryt),Yyt=Jm(Nyt),Kyt=Jm(Lyt),Jyt=Jm(kyt),Xyt=Jm(Iyt),Zyt="5.22.1";Dle.extend(Md.transforms,$yt,zyt,Hyt,Vyt,Wyt,Gyt,Qyt,Yyt,Kyt,Jyt,Xyt);Object.defineProperty(Gs,"Dataflow",{enumerable:!0,get:function(){return Md.Dataflow}});Object.defineProperty(Gs,"EventStream",{enumerable:!0,get:function(){return Md.EventStream}});Object.defineProperty(Gs,"MultiPulse",{enumerable:!0,get:function(){return Md.MultiPulse}});Object.defineProperty(Gs,"Operator",{enumerable:!0,get:function(){return Md.Operator}});Object.defineProperty(Gs,"Parameters",{enumerable:!0,get:function(){return Md.Parameters}});Object.defineProperty(Gs,"Pulse",{enumerable:!0,get:function(){return Md.Pulse}});Object.defineProperty(Gs,"Transform",{enumerable:!0,get:function(){return Md.Transform}});Object.defineProperty(Gs,"changeset",{enumerable:!0,get:function(){return Md.changeset}});Object.defineProperty(Gs,"definition",{enumerable:!0,get:function(){return Md.definition}});Object.defineProperty(Gs,"ingest",{enumerable:!0,get:function(){return Md.ingest}});Object.defineProperty(Gs,"isTuple",{enumerable:!0,get:function(){return Md.isTuple}});Object.defineProperty(Gs,"transform",{enumerable:!0,get:function(){return Md.transform}});Object.defineProperty(Gs,"transforms",{enumerable:!0,get:function(){return Md.transforms}});Object.defineProperty(Gs,"tupleid",{enumerable:!0,get:function(){return Md.tupleid}});Object.defineProperty(Gs,"interpolate",{enumerable:!0,get:function(){return p9.interpolate}});Object.defineProperty(Gs,"interpolateColors",{enumerable:!0,get:function(){return p9.interpolateColors}});Object.defineProperty(Gs,"interpolateRange",{enumerable:!0,get:function(){return p9.interpolateRange}});Object.defineProperty(Gs,"quantizeInterpolator",{enumerable:!0,get:function(){return p9.quantizeInterpolator}});Object.defineProperty(Gs,"scale",{enumerable:!0,get:function(){return p9.scale}});Object.defineProperty(Gs,"scheme",{enumerable:!0,get:function(){return p9.scheme}});Object.defineProperty(Gs,"projection",{enumerable:!0,get:function(){return Myt.projection}});Object.defineProperty(Gs,"View",{enumerable:!0,get:function(){return Pyt.View}});Object.defineProperty(Gs,"defaultLocale",{enumerable:!0,get:function(){return xN.defaultLocale}});Object.defineProperty(Gs,"formatLocale",{enumerable:!0,get:function(){return xN.numberFormatDefaultLocale}});Object.defineProperty(Gs,"locale",{enumerable:!0,get:function(){return xN.locale}});Object.defineProperty(Gs,"resetDefaultLocale",{enumerable:!0,get:function(){return xN.resetDefaultLocale}});Object.defineProperty(Gs,"timeFormatLocale",{enumerable:!0,get:function(){return xN.timeFormatDefaultLocale}});Object.defineProperty(Gs,"expressionFunction",{enumerable:!0,get:function(){return Byt.expressionFunction}});Object.defineProperty(Gs,"parse",{enumerable:!0,get:function(){return jyt.parse}});Object.defineProperty(Gs,"runtimeContext",{enumerable:!0,get:function(){return qyt.context}});Object.defineProperty(Gs,"codegenExpression",{enumerable:!0,get:function(){return pOe.codegenExpression}});Object.defineProperty(Gs,"parseExpression",{enumerable:!0,get:function(){return pOe.parseExpression}});Object.defineProperty(Gs,"parseSelector",{enumerable:!0,get:function(){return Uyt.parseSelector}});Gs.version=Zyt;Object.keys(Dle).forEach(function(n){n!=="default"&&!Gs.hasOwnProperty(n)&&Object.defineProperty(Gs,n,{enumerable:!0,get:function(){return Dle[n]}})});Object.keys(cOe).forEach(function(n){n!=="default"&&!Gs.hasOwnProperty(n)&&Object.defineProperty(Gs,n,{enumerable:!0,get:function(){return cOe[n]}})});Object.keys(fOe).forEach(function(n){n!=="default"&&!Gs.hasOwnProperty(n)&&Object.defineProperty(Gs,n,{enumerable:!0,get:function(){return fOe[n]}})});Object.keys(dOe).forEach(function(n){n!=="default"&&!Gs.hasOwnProperty(n)&&Object.defineProperty(Gs,n,{enumerable:!0,get:function(){return dOe[n]}})});Object.keys(hOe).forEach(function(n){n!=="default"&&!Gs.hasOwnProperty(n)&&Object.defineProperty(Gs,n,{enumerable:!0,get:function(){return hOe[n]}})})});var xOe=Ae((OV,mOe)=>{m();(function(n,e){typeof OV=="object"&&typeof mOe!="undefined"?e(OV,Ole()):typeof define=="function"&&define.amd?define(["exports","vega"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vegaLite={},n.vega))})(OV,function(n,e){"use strict";var t="vega-lite",r='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',i="5.5.0",s=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],o="https://vega.github.io/vega-lite/",a="Vega-Lite is a concise high-level language for interactive visualization.",l=["vega","chart","visualization"],f="build/vega-lite.js",p="build/vega-lite.min.js",_="build/vega-lite.min.js",E="build/src/index",O="build/src/index.d.ts",R={vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2pdf:"./bin/vl2pdf",vl2vg:"./bin/vl2vg"},q=["bin","build","src","vega-lite*","tsconfig.json"],z={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.js","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json","predeploy:site":"yarn presite","deploy:site":"gh-pages -d site",data:"rsync -r node_modules/vega-datasets/data/* site/data",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",eslintbase:"eslint .",format:"yarn eslintbase --fix && yarn prettierbase --write",lint:"yarn eslintbase && yarn prettierbase --check",jest:"NODE_OPTIONS=--experimental-vm-modules npx jest",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk --experimental-vm-modules ./node_modules/.bin/jest --runInBand test","test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"yarn run prebuild && yarn build && yarn shipit",shipit:"auto shipit"},L={type:"git",url:"https://github.com/vega/vega-lite.git"},B="BSD-3-Clause",P={url:"https://github.com/vega/vega-lite/issues"},G={"@auto-it/conventional-commits":"^10.37.6","@auto-it/first-time-contributor":"^10.37.6","@babel/core":"^7.19.1","@babel/preset-env":"^7.19.1","@babel/preset-typescript":"^7.18.6","@rollup/plugin-alias":"^4.0.0","@rollup/plugin-babel":"^6.0.0","@rollup/plugin-commonjs":"^23.0.0","@rollup/plugin-json":"^4.1.0","@types/jest":"^27.4.1","@rollup/plugin-node-resolve":"^14.1.0","@types/chai":"^4.3.3","@types/d3":"^7.4.0","@types/mkdirp":"^1.0.2","@types/pako":"^2.0.0","@typescript-eslint/eslint-plugin":"^5.38.0","@typescript-eslint/parser":"^5.38.0",ajv:"^8.11.0","ajv-formats":"^2.1.1",auto:"^10.37.6",chai:"^4.3.6",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^2.2.2",d3:"^7.6.1","del-cli":"^5.0.0",eslint:"^8.23.1","eslint-config-prettier":"^8.5.0","eslint-plugin-jest":"^27.0.4","eslint-plugin-prettier":"^4.2.1","gh-pages":"^4.0.0",jest:"^27.5.1","highlight.js":"^11.6.0","jest-dev-server":"^6.1.1",mkdirp:"^1.0.4",pako:"^2.0.4",prettier:"^2.7.1",puppeteer:"^15.0.0",rollup:"^2.79.1","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-sourcemaps":"^0.6.3","rollup-plugin-terser":"^7.0.2",serve:"^14.0.1",terser:"^5.15.0","ts-jest":"^29.0.1","ts-json-schema-generator":"^1.1.1","vega-cli":"^5.22.1",typescript:"~4.8.3","vega-datasets":"~2.5.1","vega-embed":"^6.21.0","vega-tooltip":"^0.28.0","yaml-front-matter":"^4.1.1"},ue={"@types/clone":"~2.1.1",clone:"~2.1.2","fast-deep-equal":"~3.1.3","fast-json-stable-stringify":"~2.1.0","json-stringify-pretty-compact":"~3.0.0",tslib:"~2.4.0","vega-event-selector":"~3.0.0","vega-expression":"~5.0.0","vega-util":"~1.17.0",yargs:"~17.6.0"},I={vega:"^5.22.0"},J={node:">=12"},he={name:t,author:r,version:i,collaborators:s,homepage:o,description:a,keywords:l,main:f,unpkg:p,jsdelivr:_,module:E,types:O,bin:R,files:q,scripts:z,repository:L,license:B,bugs:P,devDependencies:G,dependencies:ue,peerDependencies:I,engines:J},ye={exports:{}};(function(u){var c=function(){function d(on,In){return In!=null&&on instanceof In}var g;try{g=Map}catch{g=function(){}}var b;try{b=Set}catch{b=function(){}}var D;try{D=Promise}catch{D=function(){}}function M(on,In,Xn,lr,pr){typeof In=="object"&&(Xn=In.depth,lr=In.prototype,pr=In.includeNonEnumerable,In=In.circular);var kr=[],Ni=[],Ui=typeof Buffer!="undefined";typeof In=="undefined"&&(In=!0),typeof Xn=="undefined"&&(Xn=1/0);function Rs(ji,ia){if(ji===null)return null;if(ia===0)return ji;var as,ll;if(typeof ji!="object")return ji;if(d(ji,g))as=new g;else if(d(ji,b))as=new b;else if(d(ji,D))as=new D(function(d2,C3){ji.then(function(A3){d2(Rs(A3,ia-1))},function(A3){C3(Rs(A3,ia-1))})});else if(M.__isArray(ji))as=[];else if(M.__isRegExp(ji))as=new RegExp(ji.source,qt(ji)),ji.lastIndex&&(as.lastIndex=ji.lastIndex);else if(M.__isDate(ji))as=new Date(ji.getTime());else{if(Ui&&Buffer.isBuffer(ji))return Buffer.allocUnsafe?as=Buffer.allocUnsafe(ji.length):as=new Buffer(ji.length),ji.copy(as),as;d(ji,Error)?as=Object.create(ji):typeof lr=="undefined"?(ll=Object.getPrototypeOf(ji),as=Object.create(ll)):(as=Object.create(lr),ll=lr)}if(In){var Ol=kr.indexOf(ji);if(Ol!=-1)return Ni[Ol];kr.push(ji),Ni.push(as)}d(ji,g)&&ji.forEach(function(d2,C3){var A3=Rs(C3,ia-1),_k=Rs(d2,ia-1);as.set(A3,_k)}),d(ji,b)&&ji.forEach(function(d2){var C3=Rs(d2,ia-1);as.add(C3)});for(var xc in ji){var fg;ll&&(fg=Object.getOwnPropertyDescriptor(ll,xc)),!(fg&&fg.set==null)&&(as[xc]=Rs(ji[xc],ia-1))}if(Object.getOwnPropertySymbols)for(var dg=Object.getOwnPropertySymbols(ji),xc=0;xc<dg.length;xc++){var hg=dg[xc],am=Object.getOwnPropertyDescriptor(ji,hg);am&&!am.enumerable&&!pr||(as[hg]=Rs(ji[hg],ia-1),am.enumerable||Object.defineProperty(as,hg,{enumerable:!1}))}if(pr)for(var pg=Object.getOwnPropertyNames(ji),xc=0;xc<pg.length;xc++){var mg=pg[xc],am=Object.getOwnPropertyDescriptor(ji,mg);am&&am.enumerable||(as[mg]=Rs(ji[mg],ia-1),Object.defineProperty(as,mg,{enumerable:!1}))}return as}return Rs(on,Xn)}M.clonePrototype=function(In){if(In===null)return null;var Xn=function(){};return Xn.prototype=In,new Xn};function Q(on){return Object.prototype.toString.call(on)}M.__objToStr=Q;function se(on){return typeof on=="object"&&Q(on)==="[object Date]"}M.__isDate=se;function Ve(on){return typeof on=="object"&&Q(on)==="[object Array]"}M.__isArray=Ve;function Xe(on){return typeof on=="object"&&Q(on)==="[object RegExp]"}M.__isRegExp=Xe;function qt(on){var In="";return on.global&&(In+="g"),on.ignoreCase&&(In+="i"),on.multiline&&(In+="m"),In}return M.__getRegExpFlags=qt,M}();u.exports&&(u.exports=c)})(ye);var He=ye.exports,at=function u(c,d){if(c===d)return!0;if(c&&d&&typeof c=="object"&&typeof d=="object"){if(c.constructor!==d.constructor)return!1;var g,b,D;if(Array.isArray(c)){if(g=c.length,g!=d.length)return!1;for(b=g;b--!==0;)if(!u(c[b],d[b]))return!1;return!0}if(c.constructor===RegExp)return c.source===d.source&&c.flags===d.flags;if(c.valueOf!==Object.prototype.valueOf)return c.valueOf()===d.valueOf();if(c.toString!==Object.prototype.toString)return c.toString()===d.toString();if(D=Object.keys(c),g=D.length,g!==Object.keys(d).length)return!1;for(b=g;b--!==0;)if(!Object.prototype.hasOwnProperty.call(d,D[b]))return!1;for(b=g;b--!==0;){var M=D[b];if(!u(c[M],d[M]))return!1}return!0}return c!==c&&d!==d},ct=function(u,c){c||(c={}),typeof c=="function"&&(c={cmp:c});var d=typeof c.cycles=="boolean"?c.cycles:!1,g=c.cmp&&function(D){return function(M){return function(Q,se){var Ve={key:Q,value:M[Q]},Xe={key:se,value:M[se]};return D(Ve,Xe)}}}(c.cmp),b=[];return function D(M){if(M&&M.toJSON&&typeof M.toJSON=="function"&&(M=M.toJSON()),M!==void 0){if(typeof M=="number")return isFinite(M)?""+M:"null";if(typeof M!="object")return JSON.stringify(M);var Q,se;if(Array.isArray(M)){for(se="[",Q=0;Q<M.length;Q++)Q&&(se+=","),se+=D(M[Q])||"null";return se+"]"}if(M===null)return"null";if(b.indexOf(M)!==-1){if(d)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var Ve=b.push(M)-1,Xe=Object.keys(M).sort(g&&g(M));for(se="",Q=0;Q<Xe.length;Q++){var qt=Xe[Q],on=D(M[qt]);!on||(se&&(se+=","),se+=JSON.stringify(qt)+":"+on)}return b.splice(Ve,1),"{"+se+"}"}}(u)};function Ze(u){return!!u.or}function Et(u){return!!u.and}function Mt(u){return!!u.not}function qe(u,c){if(Mt(u))qe(u.not,c);else if(Et(u))for(let d of u.and)qe(d,c);else if(Ze(u))for(let d of u.or)qe(d,c);else c(u)}function te(u,c){return Mt(u)?{not:te(u.not,c)}:Et(u)?{and:u.and.map(d=>te(d,c))}:Ze(u)?{or:u.or.map(d=>te(d,c))}:c(u)}let et=at,be=He;function ke(u){throw new Error(u)}function we(u,c){let d={};for(let g of c)e.hasOwnProperty(u,g)&&(d[g]=u[g]);return d}function pe(u,c){let d={...u};for(let g of c)delete d[g];return d}Set.prototype.toJSON=function(){return`Set(${[...this].map(u=>ct(u)).join(",")})`};let Je=ct;function lt(u){if(e.isNumber(u))return u;let c=e.isString(u)?u:ct(u);if(c.length<250)return c;let d=0;for(let g=0;g<c.length;g++){let b=c.charCodeAt(g);d=(d<<5)-d+b,d=d&d}return d}function Ht(u){return u===!1||u===null}function Ct(u,c){return u.includes(c)}function mn(u,c){let d=0;for(let[g,b]of u.entries())if(c(b,g,d++))return!0;return!1}function kt(u,c){let d=0;for(let[g,b]of u.entries())if(!c(b,g,d++))return!1;return!0}function Bt(u){for(var c=arguments.length,d=new Array(c>1?c-1:0),g=1;g<c;g++)d[g-1]=arguments[g];for(let b of d)tn(u,b??{});return u}function tn(u,c){for(let d of re(c))e.writeConfig(u,d,c[d],!0)}function bt(u,c){let d=[],g={},b;for(let D of u)b=c(D),!(b in g)&&(g[b]=1,d.push(D));return d}function ve(u,c){let d=re(u),g=re(c);if(d.length!==g.length)return!1;for(let b of d)if(u[b]!==c[b])return!1;return!0}function Le(u,c){if(u.size!==c.size)return!1;for(let d of u)if(!c.has(d))return!1;return!0}function _e(u,c){for(let d of u)if(c.has(d))return!0;return!1}function ce(u){let c=new Set;for(let d of u){let b=e.splitAccessPath(d).map((M,Q)=>Q===0?M:`[${M}]`),D=b.map((M,Q)=>b.slice(0,Q+1).join(""));for(let M of D)c.add(M)}return c}function tt(u,c){return u===void 0||c===void 0?!0:_e(ce(u),ce(c))}function Ke(u){return re(u).length===0}let re=Object.keys,Oe=Object.values,nt=Object.entries;function ft(u){return u===!0||u===!1}function Ot(u){let c=u.replace(/\W/g,"_");return(u.match(/^\d+/)?"_":"")+c}function Yt(u,c){return Mt(u)?`!(${Yt(u.not,c)})`:Et(u)?`(${u.and.map(d=>Yt(d,c)).join(") && (")})`:Ze(u)?`(${u.or.map(d=>Yt(d,c)).join(") || (")})`:c(u)}function Gt(u,c){if(c.length===0)return!0;let d=c.shift();return d in u&&Gt(u[d],c)&&delete u[d],Ke(u)}function fn(u){return u.charAt(0).toUpperCase()+u.substr(1)}function gn(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"datum",d=e.splitAccessPath(u),g=[];for(let b=1;b<=d.length;b++){let D=`[${d.slice(0,b).map(e.stringValue).join("][")}]`;g.push(`${c}${D}`)}return g.join(" && ")}function yn(u){return`${arguments.length>1&&arguments[1]!==void 0?arguments[1]:"datum"}[${e.stringValue(e.splitAccessPath(u).join("."))}]`}function Lt(u){return u.replace(/(\[|\]|\.|'|")/g,"\\$1")}function un(u){return`${e.splitAccessPath(u).map(Lt).join("\\.")}`}function Mn(u,c,d){return u.replace(new RegExp(c.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),d)}function tr(u){return`${e.splitAccessPath(u).join(".")}`}function Rn(u){return u?e.splitAccessPath(u).length:0}function Ne(){for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];for(let g of c)if(g!==void 0)return g}let ze=42;function De(u){let c=++ze;return u?String(u)+c:c}function Pt(){ze=42}function mt(u){return xt(u)?u:`__${u}`}function xt(u){return u.startsWith("__")}function rn(u){if(u!==void 0)return(u%360+360)%360}function Qt(u){return e.isNumber(u)?!0:!isNaN(u)&&!isNaN(parseFloat(u))}let Fn="row",Wn="column",Zn="facet",Nn="x",nr="y",Ye="x2",vt="y2",oe="xOffset",Be="yOffset",rt="radius",Dt="radius2",hn="theta",an="theta2",dt="latitude",ie="longitude",Te="latitude2",Ue="longitude2",gt="color",St="fill",Rt="stroke",ne="shape",Ce="size",We="angle",st="opacity",Ut="fillOpacity",sn="strokeOpacity",Cn="strokeWidth",En="strokeDash",vn="text",zn="order",Re="detail",$e="key",Ft="tooltip",N="href",V="url",Ee="description",xe={x:1,y:1,x2:1,y2:1},K={theta:1,theta2:1,radius:1,radius2:1};function ae(u){return u in K}let fe={longitude:1,longitude2:1,latitude:1,latitude2:1};function Qe(u){switch(u){case dt:return"y";case Te:return"y2";case ie:return"x";case Ue:return"x2"}}function It(u){return u in fe}let At=re(fe),dn={...xe,...K,...fe,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function w(u){return u===gt||u===St||u===Rt}let j={row:1,column:1,facet:1},ee=re(j),Se={...dn,...j},ht=re(Se),{order:Tt,detail:Zt,tooltip:Xt,...xn}=Se,{row:qn,column:Un,facet:Vn,...Jr}=xn;function Vr(u){return!!Jr[u]}function yr(u){return!!Se[u]}let Mr=[Ye,vt,Te,Ue,an,Dt];function xi(u){return ai(u)!==u}function ai(u){switch(u){case Ye:return Nn;case vt:return nr;case Te:return dt;case Ue:return ie;case an:return hn;case Dt:return rt}return u}function Xi(u){if(ae(u))switch(u){case hn:return"startAngle";case an:return"endAngle";case rt:return"outerRadius";case Dt:return"innerRadius"}return u}function ws(u){switch(u){case Nn:return Ye;case nr:return vt;case dt:return Te;case ie:return Ue;case hn:return an;case rt:return Dt}}function ts(u){switch(u){case Nn:case Ye:return"width";case nr:case vt:return"height"}}function Aa(u){switch(u){case Nn:return"xOffset";case nr:return"yOffset";case Ye:return"x2Offset";case vt:return"y2Offset";case hn:return"thetaOffset";case rt:return"radiusOffset";case an:return"theta2Offset";case Dt:return"radius2Offset"}}function xa(u){switch(u){case Nn:return"xOffset";case nr:return"yOffset"}}function yl(u){switch(u){case"xOffset":return"x";case"yOffset":return"y"}}let Nc=re(dn),{x:fu,y:du,x2:Xu,y2:Du,xOffset:Lc,yOffset:na,latitude:Zu,longitude:nf,latitude2:Ge,longitude2:Kt,theta:jn,theta2:Yn,radius:ri,radius2:Br,...Xr}=dn,As=re(Xr),fo={x:1,y:1},io=re(fo);function us(u){return u in fo}let so={theta:1,radius:1},ho=re(so);function hi(u){return u==="width"?Nn:nr}let Ei={xOffset:1,yOffset:1};function Wi(u){return u in Ei}let{text:Xo,tooltip:da,href:ha,url:po,description:ls,detail:ps,key:Zi,order:hu,...Ps}=Xr,ga=re(Ps);function aa(u){return!!Xr[u]}function Ri(u){switch(u){case gt:case St:case Rt:case Ce:case ne:case st:case Cn:case En:return!0;case Ut:case sn:case We:return!1}}let Wo={...fo,...so,...Ei,...Ps},vs=re(Wo);function Ii(u){return!!Wo[u]}function Oo(u,c){return To(u)[c]}let ka={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:Xa,...Ro}=ka;function To(u){switch(u){case gt:case St:case Rt:case Ee:case Re:case $e:case Ft:case N:case zn:case st:case Ut:case sn:case Cn:case Zn:case Fn:case Wn:return ka;case Nn:case nr:case oe:case Be:case dt:case ie:return Ro;case Ye:case vt:case Te:case Ue:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Ce:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case En:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case ne:return{point:"always",geoshape:"always"};case vn:return{text:"always"};case We:return{point:"always",square:"always",text:"always"};case V:return{image:"always"};case hn:return{text:"always",arc:"always"};case rt:return{text:"always",arc:"always"};case an:case Dt:return{arc:"always"}}}function $a(u){switch(u){case Nn:case nr:case hn:case rt:case oe:case Be:case Ce:case We:case Cn:case st:case Ut:case sn:case Ye:case vt:case an:case Dt:return;case Zn:case Fn:case Wn:case ne:case En:case vn:case Ft:case N:case V:case Ee:return"discrete";case gt:case St:case Rt:return"flexible";case dt:case ie:case Te:case Ue:case Re:case $e:case zn:return}}let pu={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},za={count:1,min:1,max:1};function ua(u){return!!u&&!!u.argmin}function la(u){return!!u&&!!u.argmax}function vl(u){return e.isString(u)&&!!pu[u]}let Hl=new Set(["count","valid","missing","distinct"]);function ra(u){return e.isString(u)&&Hl.has(u)}function el(u){return e.isString(u)&&Ct(["min","max"],u)}let ui=new Set(["count","sum","distinct","valid","missing"]),rs=new Set(["mean","average","median","q1","q3","min","max"]);function cs(u){return e.isBoolean(u)&&(u=X4(u,void 0)),"bin"+re(u).map(c=>yt(u[c])?Ot(`_${c}_${nt(u[c])}`):Ot(`_${c}_${u[c]}`)).join("")}function mr(u){return u===!0||Ie(u)&&!u.binned}function is(u){return u==="binned"||Ie(u)&&u.binned===!0}function Ie(u){return e.isObject(u)}function yt(u){return u==null?void 0:u.param}function Jt(u){switch(u){case Fn:case Wn:case Ce:case gt:case St:case Rt:case Cn:case st:case Ut:case sn:case ne:return 6;case En:return 4;default:return 10}}function $t(u){return!!(u!=null&&u.expr)}function pn(u){let c=re(u||{}),d={};for(let g of c)d[g]=pi(u[g]);return d}function Ln(u){let{anchor:c,frame:d,offset:g,orient:b,angle:D,limit:M,color:Q,subtitleColor:se,subtitleFont:Ve,subtitleFontSize:Xe,subtitleFontStyle:qt,subtitleFontWeight:on,subtitleLineHeight:In,subtitlePadding:Xn,...lr}=u,pr={...lr,...Q?{fill:Q}:{}},kr={...c?{anchor:c}:{},...d?{frame:d}:{},...g?{offset:g}:{},...b?{orient:b}:{},...D!==void 0?{angle:D}:{},...M!==void 0?{limit:M}:{}},Ni={...se?{subtitleColor:se}:{},...Ve?{subtitleFont:Ve}:{},...Xe?{subtitleFontSize:Xe}:{},...qt?{subtitleFontStyle:qt}:{},...on?{subtitleFontWeight:on}:{},...In?{subtitleLineHeight:In}:{},...Xn?{subtitlePadding:Xn}:{}},Ui=we(u,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:pr,subtitleMarkConfig:Ui,nonMarkTitleProperties:kr,subtitle:Ni}}function Kn(u){return e.isString(u)||e.isArray(u)&&e.isString(u[0])}function $n(u){return!!(u!=null&&u.signal)}function br(u){return!!u.step}function Cr(u){return e.isArray(u)?!1:"fields"in u&&!("data"in u)}function Gn(u){return e.isArray(u)?!1:"fields"in u&&"data"in u}function ar(u){return e.isArray(u)?!1:"field"in u&&"data"in u}let gr=re({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),Rr={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},di=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function ni(u){let c=e.isArray(u.condition)?u.condition.map(ii):ii(u.condition);return{...pi(u),condition:c}}function pi(u){if($t(u)){let{expr:c,...d}=u;return{signal:c,...d}}return u}function ii(u){if($t(u)){let{expr:c,...d}=u;return{signal:c,...d}}return u}function qr(u){if($t(u)){let{expr:c,...d}=u;return{signal:c,...d}}return $n(u)?u:u!==void 0?{value:u}:void 0}function Ir(u){return $n(u)?u.signal:e.stringValue(u)}function yi(u){return $n(u)?u.signal:e.stringValue(u.value)}function gi(u){return $n(u)?u.signal:u==null?null:e.stringValue(u)}function os(u,c,d){for(let g of d){let b=Bs(g,c.markDef,c.config);b!==void 0&&(u[g]=qr(b))}return u}function xs(u){return[].concat(u.type,u.style??[])}function vi(u,c,d){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},{vgChannel:b,ignoreVgConfig:D}=g;return b&&c[b]!==void 0?c[b]:c[u]!==void 0?c[u]:D&&(!b||b===u)?void 0:Bs(u,c,d,g)}function Bs(u,c,d){let{vgChannel:g}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Ne(g?ss(u,c,d.style):void 0,ss(u,c,d.style),g?d[c.type][g]:void 0,d[c.type][u],g?d.mark[g]:d.mark[u])}function ss(u,c,d){return ya(u,xs(c),d)}function ya(u,c,d){c=e.array(c);let g;for(let b of c){let D=d[b];D&&D[u]!==void 0&&(g=D[u])}return g}function No(u,c){return e.array(u).reduce((d,g)=>(d.field.push(fi(g,c)),d.order.push(g.sort??"ascending"),d),{field:[],order:[]})}function Ts(u,c){let d=[...u];return c.forEach(g=>{for(let b of d)if(et(b,g))return;d.push(g)}),d}function nn(u,c){return et(u,c)||!c?u:u?[...e.array(u),...e.array(c)].join(", "):c}function Jn(u,c){let d=u.value,g=c.value;if(d==null||g===null)return{explicit:u.explicit,value:null};if((Kn(d)||$n(d))&&(Kn(g)||$n(g)))return{explicit:u.explicit,value:nn(d,g)};if(Kn(d)||$n(d))return{explicit:u.explicit,value:d};if(Kn(g)||$n(g))return{explicit:u.explicit,value:g};if(!Kn(d)&&!$n(d)&&!Kn(g)&&!$n(g))return{explicit:u.explicit,value:Ts(d,g)};throw new Error("It should never reach here")}function bn(u,c,d){return c in u?Object.defineProperty(u,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[c]=d,u}function Yr(u,c){var d=ns(u,c,"get");return ms(u,d)}function Ti(u,c,d){var g=ns(u,c,"set");return Hi(u,g,d),d}function ns(u,c,d){if(!c.has(u))throw new TypeError("attempted to "+d+" private field on non-instance");return c.get(u)}function ms(u,c){return c.get?c.get.call(u):c.value}function Hi(u,c,d){if(c.set)c.set.call(u,d);else{if(!c.writable)throw new TypeError("attempted to set read only private field");c.value=d}}function fs(u,c){if(c.has(u))throw new TypeError("Cannot initialize the same private elements twice on an object")}function mu(u,c,d){fs(u,c),c.set(u,d)}function le(u){return`Invalid specification ${Je(u)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}let ut='Autosize "fit" only works for single views and layered views.';function en(u){return`${u=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function Dn(u){let c=u=="width"?"Width":"Height",d=u=="width"?"x":"y";return`${c} "container" only works well with autosize "fit" or "fit-${d}".`}function ir(u){return u?`Dropping "fit-${u}" because spec has discrete ${ts(u)}.`:'Dropping "fit" because spec has discrete size.'}function vr(u){return`Unknown field for ${u}. Cannot calculate view size.`}function dr(u){return`Cannot project a selection on encoding channel "${u}", which has no field.`}function es(u,c){return`Cannot project a selection on encoding channel "${u}" as it uses an aggregate function ("${c}").`}function _s(u){return`The "nearest" transform is not supported for ${u} marks.`}function Ls(u){return`Selection not supported for ${u} yet.`}function oo(u){return`Cannot find a selection named "${u}".`}let Za="Scale bindings are currently only supported for scales with unbinned, continuous domains.",sc="Legend bindings are only supported for selections over an individual field or encoding channel.";function rf(u){return`Lookups can only be performed on selection parameters. "${u}" is a variable parameter.`}function kc(u){return`Cannot define and lookup the "${u}" selection in the same view. Try moving the lookup into a second, layered view?`}let u0="The same selection must be used to override scale domains in a layered view.",Q0='Interval selections should be initialized using "x" and/or "y" keys.';function oc(u){return`Unknown repeated value "${u}".`}function sf(u){return`The "columns" property cannot be used when "${u}" has nested row/column.`}let l0="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function _l(u){return`Unrecognized parse "${u}".`}function Ic(u,c,d){return`An ancestor parsed field "${u}" as ${d} but a child wants to parse the field as ${c}.`}let c0="Attempt to add the same child twice.";function ac(u){return`Ignoring an invalid transform: ${Je(u)}.`}let Vl='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function G0(u){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${u} are dropped.`}function Th(u){let{parentProjection:c,projection:d}=u;return`Layer's shared projection ${Je(c)} is overridden by a child projection ${Je(d)}.`}let Y0="Arc marks uses theta channel rather than angle, replacing angle with theta.";function K0(u){return`${u}Offset dropped because ${u} is continuous`}function of(u){return`There is no ${u} encoding. Replacing ${u}Offset encoding as ${u}.`}function J0(u,c,d){return`Channel ${u} is a ${c}. Converted to {value: ${Je(d)}}.`}function Mc(u){return`Invalid field type "${u}".`}function f0(u,c){return`Invalid field type "${u}" for aggregate: "${c}", using "quantitative" instead.`}function d0(u){return`Invalid aggregation operator "${u}".`}function h0(u,c){let{fill:d,stroke:g}=c;return`Dropping color ${u} as the plot also has ${d&&g?"fill and stroke":d?"fill":"stroke"}.`}function Uo(u){return`Position range does not support relative band size for ${u}.`}function Zo(u,c){return`Dropping ${Je(u)} from channel "${c}" since it does not contain any data field, datum, value, or signal.`}let p0="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function bl(u,c,d){return`${u} dropped as it is incompatible with "${c}"${d?` when ${d}`:""}.`}function af(u){return`${u} encoding has no scale, so specified scale is ignored.`}function jd(u){return`${u}-encoding is dropped as ${u} is not a valid encoding channel.`}function Ou(u){return`${u} encoding should be discrete (ordinal / nominal / binned).`}function _o(u){return`${u} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function Fh(u){return`Facet encoding dropped as ${u.join(" and ")} ${u.length>1?"are":"is"} also specified.`}function El(u,c){return`Using discrete channel "${u}" to encode "${c}" field can be misleading as it does not encode ${c==="ordinal"?"order":"magnitude"}.`}function Is(u){return`The ${u} for range marks cannot be an expression`}function Sl(u,c){return`Line mark is for continuous lines and thus cannot be used with ${u&&c?"x2 and y2":u?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function k(u,c){return`Specified orient "${u}" overridden with "${c}".`}function Z(u){return`Cannot use the scale property "${u}" with non-color channel.`}function je(u){return`Cannot use the relative band size with ${u} scale.`}function Nt(u){return`Using unaggregated domain with raw field has no effect (${Je(u)}).`}function Vt(u){return`Unaggregated domain not applicable for "${u}" since it produces values outside the origin domain of the source data.`}function An(u){return`Unaggregated domain is currently unsupported for log scale (${Je(u)}).`}function kn(u){return`Cannot apply size to non-oriented mark "${u}".`}function sr(u,c,d){return`Channel "${u}" does not work with "${c}" scale. We are using "${d}" scale instead.`}function hr(u,c){return`FieldDef does not work with "${u}" scale. We are using "${c}" scale instead.`}function Nr(u,c,d){return`${d}-scale's "${c}" is dropped as it does not work with ${u} scale.`}function it(u){return`The step for "${u}" is dropped because the ${u==="width"?"x":"y"} is continuous.`}function Fi(u,c,d,g){return`Conflicting ${c.toString()} property "${u.toString()}" (${Je(d)} and ${Je(g)}). Using ${Je(d)}.`}function Qi(u,c,d,g){return`Conflicting ${c.toString()} property "${u.toString()}" (${Je(d)} and ${Je(g)}). Using the union of the two domains.`}function Li(u){return`Setting the scale to be independent for "${u}" means we also have to set the guide (axis or legend) to be independent.`}function Qr(u){return`Dropping sort property ${Je(u)} as unioned domains only support boolean or op "count", "min", and "max".`}let Ys="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",$o="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",va="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",mo="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function Ia(u){return`Cannot stack "${u}" if there is already "${u}2".`}function uc(u){return`Cannot stack non-linear scale (${u}).`}function Wl(u){return`Stacking is applied even though the aggregate function is non-summative ("${u}").`}function Ma(u,c){return`Invalid ${u}: ${Je(c)}.`}function lc(u){return`Dropping day from datetime ${Je(u)} as day cannot be combined with other units.`}function _a(u,c){return`${c?"extent ":""}${c&&u?"and ":""}${u?"center ":""}${c&&u?"are ":"is "}not needed when data are aggregated.`}function uf(u,c,d){return`${u} is not usually used with ${c} for ${d}.`}function lf(u,c){return`Continuous axis should not have customized aggregation function ${u}; ${c} already agregates the axis.`}function tl(u){return`1D error band does not support ${u}.`}function cc(u){return`Channel ${u} is required for "binned" bin.`}function H1(u){return`Channel ${u} should not be used with "binned" bin.`}function Pc(u){return`Domain for ${u} is required for threshold scale.`}let t2=e.logger(e.Warn),Ql=t2;function Rf(u){return Ql=u,Ql}function Bc(){return Ql=t2,Ql}function jr(){Ql.warn(...arguments)}function X0(){Ql.debug(...arguments)}function Z0(u){if(u&&e.isObject(u)){for(let c of ff)if(c in u)return!0}return!1}let $r=["january","february","march","april","may","june","july","august","september","october","november","december"],wl=$r.map(u=>u.substr(0,3)),V1=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],mp=V1.map(u=>u.substr(0,3));function bo(u){if(Qt(u)&&(u=+u),e.isNumber(u))return u>4&&jr(Ma("quarter",u)),u-1;throw new Error(Ma("quarter",u))}function ed(u){if(Qt(u)&&(u=+u),e.isNumber(u))return u-1;{let c=u.toLowerCase(),d=$r.indexOf(c);if(d!==-1)return d;let g=c.substr(0,3),b=wl.indexOf(g);if(b!==-1)return b;throw new Error(Ma("month",u))}}function qd(u){if(Qt(u)&&(u=+u),e.isNumber(u))return u%7;{let c=u.toLowerCase(),d=V1.indexOf(c);if(d!==-1)return d;let g=c.substr(0,3),b=mp.indexOf(g);if(b!==-1)return b;throw new Error(Ma("day",u))}}function td(u,c){let d=[];if(c&&u.day!==void 0&&re(u).length>1&&(jr(lc(u)),u=be(u),delete u.day),u.year!==void 0?d.push(u.year):d.push(2012),u.month!==void 0){let g=c?ed(u.month):u.month;d.push(g)}else if(u.quarter!==void 0){let g=c?bo(u.quarter):u.quarter;d.push(e.isNumber(g)?g*3:`${g}*3`)}else d.push(0);if(u.date!==void 0)d.push(u.date);else if(u.day!==void 0){let g=c?qd(u.day):u.day;d.push(e.isNumber(g)?g+1:`${g}+1`)}else d.push(1);for(let g of["hours","minutes","seconds","milliseconds"]){let b=u[g];d.push(typeof b=="undefined"?0:b)}return d}function cf(u){let d=td(u,!0).join(", ");return u.utc?`utc(${d})`:`datetime(${d})`}function Zx(u){let d=td(u,!1).join(", ");return u.utc?`utc(${d})`:`datetime(${d})`}function eg(u){let c=td(u,!0);return u.utc?+new Date(Date.UTC(...c)):+new Date(...c)}let Dh={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},ff=re(Dh);function nl(u){return!!Dh[u]}function Ud(u){return u.startsWith("utc")}function xp(u){return u.substr(3)}let W1={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function rl(u){return ff.filter(c=>nd(u,c))}function nd(u,c){let d=u.indexOf(c);return!(d<0||d>0&&c==="seconds"&&u.charAt(d-1)==="i"||u.length>d+3&&c==="day"&&u.charAt(d+3)==="o"||d>0&&c==="year"&&u.charAt(d-1)==="f")}function Nf(u,c){let{end:d}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{end:!1},g=gn(c),b=Ud(u)?"utc":"";function D(se){return se==="quarter"?`(${b}quarter(${g})-1)`:`${b}${se}(${g})`}let M,Q={};for(let se of ff)nd(u,se)&&(Q[se]=D(se),M=se);return d&&(Q[M]+="+1"),Zx(Q)}function Cl(u){if(!u)return;let c=rl(u);return`timeUnitSpecifier(${Je(c)}, ${Je(W1)})`}function gp(u,c,d){if(!u)return;let g=Cl(u);return`${d||Ud(u)?"utc":"time"}Format(${c}, ${g})`}function xu(u){if(!u)return;let c;return e.isString(u)?c={unit:u}:e.isObject(u)&&(c={...u,...u.unit?{unit:u.unit}:{}}),Ud(c.unit)&&(c.utc=!0,c.unit=xp(c.unit)),c}function Q1(u){let{utc:c,...d}=xu(u);return d.unit?(c?"utc":"")+re(d).map(g=>Ot(`${g==="unit"?"":`_${g}_`}${d[g]}`)).join(""):(c?"utc":"")+"timeunit"+re(d).map(g=>Ot(`_${g}_${d[g]}`)).join("")}function il(u){return u==null?void 0:u.param}function jc(u){return!!(u!=null&&u.field)&&u.equal!==void 0}function Oh(u){return!!(u!=null&&u.field)&&u.lt!==void 0}function $d(u){return!!(u!=null&&u.field)&&u.lte!==void 0}function df(u){return!!(u!=null&&u.field)&&u.gt!==void 0}function Rh(u){return!!(u!=null&&u.field)&&u.gte!==void 0}function yp(u){if(u!=null&&u.field){if(e.isArray(u.range)&&u.range.length===2)return!0;if($n(u.range))return!0}return!1}function Ha(u){return!!(u!=null&&u.field)&&(e.isArray(u.oneOf)||e.isArray(u.in))}function Nh(u){return!!(u!=null&&u.field)&&u.valid!==void 0}function rd(u){return Ha(u)||jc(u)||yp(u)||Oh(u)||df(u)||$d(u)||Rh(u)}function Pa(u,c){return DE(u,{timeUnit:c,wrapTime:!0})}function Lh(u,c){return u.map(d=>Pa(d,c))}function Ru(u){var c;let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,{field:g}=u,b=(c=xu(u.timeUnit))===null||c===void 0?void 0:c.unit,D=b?`time(${Nf(b,g)})`:fi(u,{expr:"datum"});if(jc(u))return`${D}===${Pa(u.equal,b)}`;if(Oh(u)){let M=u.lt;return`${D}<${Pa(M,b)}`}else if(df(u)){let M=u.gt;return`${D}>${Pa(M,b)}`}else if($d(u)){let M=u.lte;return`${D}<=${Pa(M,b)}`}else if(Rh(u)){let M=u.gte;return`${D}>=${Pa(M,b)}`}else{if(Ha(u))return`indexof([${Lh(u.oneOf,b).join(",")}], ${D}) !== -1`;if(Nh(u))return eu(D,u.valid);if(yp(u)){let{range:M}=u,Q=$n(M)?{signal:`${M.signal}[0]`}:M[0],se=$n(M)?{signal:`${M.signal}[1]`}:M[1];if(Q!==null&&se!==null&&d)return"inrange("+D+", ["+Pa(Q,b)+", "+Pa(se,b)+"])";let Ve=[];return Q!==null&&Ve.push(`${D} >= ${Pa(Q,b)}`),se!==null&&Ve.push(`${D} <= ${Pa(se,b)}`),Ve.length>0?Ve.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${Je(u)}`)}function eu(u){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?`isValid(${u}) && isFinite(+${u})`:`!isValid(${u}) || !isFinite(+${u})`}function kh(u){if(rd(u)&&u.timeUnit){var c;return{...u,timeUnit:(c=xu(u.timeUnit))===null||c===void 0?void 0:c.unit}}return u}let ba={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function Ih(u){return u==="quantitative"||u==="temporal"}function vp(u){return u==="ordinal"||u==="nominal"}let m0=ba.quantitative,id=ba.ordinal,hf=ba.temporal,Gl=ba.nominal,Nu=ba.geojson;function _p(u){if(u)switch(u=u.toLowerCase(),u){case"q":case m0:return"quantitative";case"t":case hf:return"temporal";case"o":case id:return"ordinal";case"n":case Gl:return"nominal";case Nu:return"geojson"}}let sl={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Mh={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function zd(u,c){let d=Mh[u],g=Mh[c];return d===g||d==="ordinal-position"&&g==="time"||g==="ordinal-position"&&d==="time"}let n2={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function bp(u){return n2[u]}let Lf=new Set(["linear","log","pow","sqrt","symlog"]),sd=new Set([...Lf,"time","utc"]);function Xs(u){return Lf.has(u)}let A=new Set(["quantile","quantize","threshold"]),W=new Set([...sd,...A,"sequential","identity"]),de=new Set(["ordinal","bin-ordinal","point","band"]);function Pe(u){return de.has(u)}function wt(u){return W.has(u)}function Tn(u){return sd.has(u)}function ur(u){return A.has(u)}let $i={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function Bi(u){return!e.isString(u)&&!!u.name}function ao(u){return u==null?void 0:u.param}function gu(u){return u==null?void 0:u.unionWith}function qc(u){return e.isObject(u)&&"field"in u}let kf={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:wE,domain:r3,range:Q4,rangeMax:i3,rangeMin:od,scheme:Lu,...G4}=kf,Ph=re(G4);function Fs(u,c){switch(c){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(u);case"bins":return!["point","band","identity","ordinal"].includes(u);case"round":return Tn(u)||u==="band"||u==="point";case"padding":case"rangeMin":case"rangeMax":return Tn(u)||["point","band"].includes(u);case"paddingOuter":case"align":return["point","band"].includes(u);case"paddingInner":return u==="band";case"domainMax":case"domainMid":case"domainMin":case"clamp":return Tn(u);case"nice":return Tn(u)||u==="quantize"||u==="threshold";case"exponent":return u==="pow";case"base":return u==="log";case"constant":return u==="symlog";case"zero":return wt(u)&&!Ct(["log","time","utc","threshold","quantile"],u)}}function x0(u,c){switch(c){case"interpolate":case"scheme":case"domainMid":return w(u)?void 0:Z(c);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function Al(u,c){return Ct([id,Gl],c)?u===void 0||Pe(u):c===hf?Ct([sl.TIME,sl.UTC,void 0],u):c===m0?Xs(u)||ur(u)||u===void 0:!0}function Ep(u,c){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!Ii(u))return!1;switch(u){case Nn:case nr:case oe:case Be:case hn:case rt:return Tn(c)||c==="band"?!0:c==="point"?!d:!1;case Ce:case Cn:case st:case Ut:case sn:case We:return Tn(c)||ur(c)||Ct(["band","point","ordinal"],c);case gt:case St:case Rt:return c!=="band";case En:case ne:return c==="ordinal"||ur(c)}}let ku={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},G1=ku.arc,Y1=ku.area,Tl=ku.bar,s3=ku.image,Hd=ku.line,Bh=ku.point,o3=ku.rect,If=ku.rule,Fl=ku.text,Mf=ku.tick,K1=ku.trail,Sp=ku.circle,Vd=ku.square,J1=ku.geoshape;function pf(u){return["line","area","trail"].includes(u)}function tg(u){return["rect","bar","image","arc"].includes(u)}let ng=new Set(re(ku));function fc(u){return u.type}let g0=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],Y4=["fill","fillOpacity"],ad=[...g0,...Y4],F=re({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),H={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]},Y={color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},_t=re({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1});function x(u){return u&&u.band!=null}let T={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},$=5,X={binSpacing:1,continuousBandSize:$,timeUnitBandPosition:.5},ge={binSpacing:0,continuousBandSize:$,timeUnitBandPosition:.5},Fe={thickness:1};function ot(u){return fc(u)?u.type:u}function zt(u){let{channel:c,channelDef:d,markDef:g,scale:b,config:D}=u,M=Kr(u);return Er(d)&&!ra(d.aggregate)&&b&&Tn(b.get("type"))?wn({fieldDef:d,channel:c,markDef:g,ref:M,config:D}):M}function wn(u){let{fieldDef:c,channel:d,markDef:g,ref:b,config:D}=u;return pf(g.type)?b:vi("invalid",g,D)===null?[Sn(c,d),b]:b}function Sn(u,c){let d=Pn(u,!0),b=ai(c)==="y"?{field:{group:"height"}}:{value:0};return{test:d,...b}}function Pn(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return eu(e.isString(u)?u:fi(u,{expr:"datum"}),!c)}function Hn(u){let{datum:c}=u;return Z0(c)?cf(c):`${Je(c)}`}function or(u,c,d,g){let b={};if(c&&(b.scale=c),So(u)){let{datum:D}=u;Z0(D)?b.signal=cf(D):$n(D)?b.signal=D.signal:$t(D)?b.signal=D.expr:b.value=D}else b.field=fi(u,d);if(g){let{offset:D,band:M}=g;D&&(b.offset=D),M&&(b.band=M)}return b}function Or(u){let{scaleName:c,fieldOrDatumDef:d,fieldOrDatumDef2:g,offset:b,startSuffix:D,bandPosition:M=.5}=u,Q=0<M&&M<1?"datum":void 0,se=fi(d,{expr:Q,suffix:D}),Ve=g!==void 0?fi(g,{expr:Q}):fi(d,{suffix:"end",expr:Q}),Xe={};if(M===0||M===1){Xe.scale=c;let qt=M===0?se:Ve;Xe.field=qt}else{let qt=$n(M)?`${M.signal} * ${se} + (1-${M.signal}) * ${Ve}`:`${M} * ${se} + ${1-M} * ${Ve}`;Xe.signal=`scale("${c}", ${qt})`}return b&&(Xe.offset=b),Xe}function Kr(u){let{channel:c,channelDef:d,channel2Def:g,markDef:b,config:D,scaleName:M,scale:Q,stack:se,offset:Ve,defaultRef:Xe,bandPosition:qt}=u;if(d){if(ks(d)){let on=Q==null?void 0:Q.get("type");if(Gd(d)){qt??=ig({fieldDef:d,fieldDef2:g,markDef:b,config:D});let{bin:In,timeUnit:Xn,type:lr}=d;if(mr(In)||qt&&Xn&&lr===hf)return se!=null&&se.impute?or(d,M,{binSuffix:"mid"},{offset:Ve}):qt&&!Pe(on)?Or({scaleName:M,fieldOrDatumDef:d,bandPosition:qt,offset:Ve}):or(d,M,Z4(d,c)?{binSuffix:"range"}:{},{offset:Ve});if(is(In)){if(Er(g))return Or({scaleName:M,fieldOrDatumDef:d,fieldOrDatumDef2:g,bandPosition:qt,offset:Ve});jr(cc(c===Nn?Ye:vt))}}return or(d,M,Pe(on)?{binSuffix:"range"}:{},{offset:Ve,band:on==="band"?qt??d.bandPosition??.5:void 0})}else if(Yd(d)){let on=d.value,In=Ve?{offset:Ve}:{};return{...Lr(c,on),...In}}}return e.isFunction(Xe)&&(Xe=Xe()),Xe&&{...Xe,...Ve?{offset:Ve}:{}}}function Lr(u,c){return Ct(["x","x2"],u)&&c==="width"?{field:{group:"width"}}:Ct(["y","y2"],u)&&c==="height"?{field:{group:"height"}}:qr(c)}function bi(u){return u&&u!=="number"&&u!=="time"}function ki(u,c,d){return`${u}(${c}${d?`, ${Je(d)}`:""})`}let Os=" \u2013 ";function ds(u){let{fieldOrDatumDef:c,format:d,formatType:g,expr:b,normalizeStack:D,config:M}=u;if(bi(g))return gs({fieldOrDatumDef:c,format:d,formatType:g,expr:b,config:M});let Q=Zs(c,b,D),se=al(c);if(d===void 0&&g===void 0&&M.customFormatTypes){if(se==="quantitative"){if(D&&M.normalizedNumberFormatType)return gs({fieldOrDatumDef:c,format:M.normalizedNumberFormat,formatType:M.normalizedNumberFormatType,expr:b,config:M});if(M.numberFormatType)return gs({fieldOrDatumDef:c,format:M.numberFormat,formatType:M.numberFormatType,expr:b,config:M})}if(se==="temporal"&&M.timeFormatType&&Er(c)&&c.timeUnit===void 0)return gs({fieldOrDatumDef:c,format:M.timeFormat,formatType:M.timeFormatType,expr:b,config:M})}if(h3(c)){var Ve,Xe;let qt=Va({field:Q,timeUnit:Er(c)?(Ve=xu(c.timeUnit))===null||Ve===void 0?void 0:Ve.unit:void 0,format:d,formatType:M.timeFormatType,rawTimeFormat:M.timeFormat,isUTCScale:sg(c)&&((Xe=c.scale)===null||Xe===void 0?void 0:Xe.type)===sl.UTC});return qt?{signal:qt}:void 0}if(d=Ba({type:se,specifiedFormat:d,config:M,normalizeStack:D}),Er(c)&&mr(c.bin)){let qt=fi(c,{expr:b,binSuffix:"end"});return{signal:Ta(Q,qt,d,g,M)}}else return d||al(c)==="quantitative"?{signal:`${Iu(Q,d)}`}:{signal:`isValid(${Q}) ? ${Q} : ""+${Q}`}}function Zs(u,c,d){return Er(u)?d?`${fi(u,{expr:c,suffix:"end"})}-${fi(u,{expr:c,suffix:"start"})}`:fi(u,{expr:c}):Hn(u)}function gs(u){let{fieldOrDatumDef:c,format:d,formatType:g,expr:b,normalizeStack:D,config:M,field:Q}=u;if(Q??=Zs(c,b,D),Q!=="datum.value"&&Er(c)&&mr(c.bin)){let se=fi(c,{expr:b,binSuffix:"end"});return{signal:Ta(Q,se,d,g,M)}}return{signal:ki(g,Q,d)}}function Gr(u,c,d,g,b,D){if(!bi(g)&&!(d===void 0&&g===void 0&&b.customFormatTypes&&al(u)==="quantitative"&&(b.normalizedNumberFormatType&&l3(u)&&u.stack==="normalize"||b.numberFormatType))){if(l3(u)&&u.stack==="normalize"&&b.normalizedNumberFormat)return Ba({type:"quantitative",config:b,normalizeStack:!0});if(h3(u)){var M;let Q=Er(u)?(M=xu(u.timeUnit))===null||M===void 0?void 0:M.unit:void 0;return Q===void 0&&b.customFormatTypes&&b.timeFormatType?void 0:tu({specifiedFormat:d,timeUnit:Q,config:b,omitTimeFormatConfig:D})}return Ba({type:c,specifiedFormat:d,config:b})}}function Ki(u,c,d){if(u&&($n(u)||u==="number"||u==="time"))return u;if(h3(c)&&d!=="time"&&d!=="utc"){var g;return Er(c)&&(g=xu(c==null?void 0:c.timeUnit))!==null&&g!==void 0&&g.utc?"utc":"time"}}function Ba(u){let{type:c,specifiedFormat:d,config:g,normalizeStack:b}=u;if(e.isString(d))return d;if(c===m0)return b?g.normalizedNumberFormat:g.numberFormat}function tu(u){let{specifiedFormat:c,timeUnit:d,config:g,omitTimeFormatConfig:b}=u;return c||(d?{signal:Cl(d)}:b?void 0:g.timeFormat)}function Iu(u,c){return`format(${u}, "${c||""}")`}function bs(u,c,d,g){return bi(d)?ki(d,u,c):Iu(u,(e.isString(c)?c:void 0)??g.numberFormat)}function Ta(u,c,d,g,b){if(d===void 0&&g===void 0&&b.customFormatTypes&&b.numberFormatType)return Ta(u,c,b.numberFormat,b.numberFormatType,b);let D=bs(u,d,g,b),M=bs(c,d,g,b);return`${eu(u,!1)} ? "null" : ${D} + "${Os}" + ${M}`}function Va(u){let{field:c,timeUnit:d,format:g,formatType:b,rawTimeFormat:D,isUTCScale:M}=u;return!d||g?!d&&b?`${b}(${c}, '${g}')`:(g=e.isString(g)?g:D,`${M?"utc":"time"}Format(${c}, '${g}')`):gp(d,c,M)}let Dl="min",Wd={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function ol(u){return u in Wd}function y0(u){return!!(u!=null&&u.encoding)}function Ea(u){return u&&(u.op==="count"||!!u.field)}function dc(u){return u&&e.isArray(u)}function Qd(u){return"row"in u||"column"in u}function X1(u){return!!u&&"header"in u}function wp(u){return"facet"in u}function v0(u){return u.param}function r2(u){return u&&!e.isString(u)&&"repeat"in u}function a3(u){let{field:c,timeUnit:d,bin:g,aggregate:b}=u;return{...d?{timeUnit:d}:{},...g?{bin:g}:{},...b?{aggregate:b}:{},field:c}}function rg(u){return"sort"in u}function ig(u){let{fieldDef:c,fieldDef2:d,markDef:g,config:b}=u;if(ks(c)&&c.bandPosition!==void 0)return c.bandPosition;if(Er(c)){let{timeUnit:D,bin:M}=c;if(D&&!d)return tg(g.type)?0:Bs("timeUnitBandPosition",g,b);if(mr(M))return .5}}function Z1(u){let{channel:c,fieldDef:d,fieldDef2:g,markDef:b,config:D,scaleType:M,useVlSizeChannel:Q}=u,se=ts(c),Ve=vi(Q?"size":se,b,D,{vgChannel:se});if(Ve!==void 0)return Ve;if(Er(d)){let{timeUnit:In,bin:Xn}=d;if(In&&!g)return{band:Bs("timeUnitBandSize",b,D)};if(mr(Xn)&&!Pe(M))return{band:1}}if(tg(b.type)){var Xe;if(M)if(Pe(M)){var qt;return((qt=D[b.type])===null||qt===void 0?void 0:qt.discreteBandSize)||{band:1}}else{var on;return(on=D[b.type])===null||on===void 0?void 0:on.continuousBandSize}return(Xe=D[b.type])===null||Xe===void 0?void 0:Xe.discreteBandSize}}function Dr(u,c,d,g){return mr(u.bin)||u.timeUnit&&Gd(u)&&u.type==="temporal"?ig({fieldDef:u,fieldDef2:c,markDef:d,config:g})!==void 0:!1}function js(u){return u&&"condition"in u}function Eo(u){let c=u==null?void 0:u.condition;return!!c&&!e.isArray(c)&&Er(c)}function Ur(u){let c=u==null?void 0:u.condition;return!!c&&!e.isArray(c)&&ks(c)}function mf(u){let c=u==null?void 0:u.condition;return!!c&&(e.isArray(c)||Yd(c))}function Er(u){return u&&(!!u.field||u.aggregate==="count")}function al(u){return u==null?void 0:u.type}function So(u){return u&&"datum"in u}function hc(u){return Gd(u)&&!c3(u)||u3(u)}function u3(u){return So(u)&&e.isNumber(u.datum)}function ks(u){return Er(u)||So(u)}function Gd(u){return u&&("field"in u||u.aggregate==="count")&&"type"in u}function Yd(u){return u&&"value"in u&&"value"in u}function sg(u){return u&&("scale"in u||"sort"in u)}function l3(u){return u&&("axis"in u||"stack"in u||"impute"in u)}function RN(u){return u&&"legend"in u}function Cp(u){return u&&("format"in u||"formatType"in u)}function Pf(u){return pe(u,["legend","axis","header","scale"])}function A9(u){return"op"in u}function fi(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=u.field,g=c.prefix,b=c.suffix,D="";if(MW(u))d=mt("count");else{let M;if(!c.nofn)if(A9(u))M=u.op;else{let{bin:Q,aggregate:se,timeUnit:Ve}=u;mr(Q)?(M=cs(Q),b=(c.binSuffix??"")+(c.suffix??"")):se?la(se)?(D=`["${d}"]`,d=`argmax_${se.argmax}`):ua(se)?(D=`["${d}"]`,d=`argmin_${se.argmin}`):M=String(se):Ve&&(M=Q1(Ve),b=(!["range","mid"].includes(c.binSuffix)&&c.binSuffix||"")+(c.suffix??""))}M&&(d=d?`${M}_${d}`:M)}return b&&(d=`${d}_${b}`),g&&(d=`${g}_${d}`),c.forAs?tr(d):c.expr?yn(d,c.expr)+D:un(d)+D}function c3(u){switch(u.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Er(u)&&!!u.bin;case"temporal":return!1}throw new Error(Mc(u.type))}function IW(u){var c;return sg(u)&&ur((c=u.scale)===null||c===void 0?void 0:c.type)}function MW(u){return u.aggregate==="count"}function K4(u,c){let{field:d,bin:g,timeUnit:b,aggregate:D}=u;if(D==="count")return c.countTitle;if(mr(g))return`${d} (binned)`;if(b){var M;let Q=(M=xu(b))===null||M===void 0?void 0:M.unit;if(Q)return`${d} (${rl(Q).join("-")})`}else if(D)return la(D)?`${d} for max ${D.argmax}`:ua(D)?`${d} for min ${D.argmin}`:`${fn(D)} of ${d}`;return d}function NN(u){let{aggregate:c,bin:d,timeUnit:g,field:b}=u;if(la(c))return`${b} for argmax(${c.argmax})`;if(ua(c))return`${b} for argmin(${c.argmin})`;let D=xu(g),M=c||(D==null?void 0:D.unit)||(D==null?void 0:D.maxbins)&&"timeunit"||mr(d)&&"bin";return M?`${M.toUpperCase()}(${b})`:b}let T9=(u,c)=>{switch(c.fieldTitle){case"plain":return u.field;case"functional":return NN(u);default:return K4(u,c)}},LN=T9;function kN(u){LN=u}function PW(){kN(T9)}function f3(u,c,d){var g;let{allowDisabling:b,includeDefault:D=!0}=d,M=(g=CE(u))===null||g===void 0?void 0:g.title;if(!Er(u))return M??u.title;let Q=u,se=D?AE(Q,c):void 0;return b?Ne(M,Q.title,se):M??Q.title??se}function CE(u){if(l3(u)&&u.axis)return u.axis;if(RN(u)&&u.legend)return u.legend;if(X1(u)&&u.header)return u.header}function AE(u,c){return LN(u,c)}function TE(u){if(Cp(u)){let{format:c,formatType:d}=u;return{format:c,formatType:d}}else{let c=CE(u)??{},{format:d,formatType:g}=c;return{format:d,formatType:g}}}function F9(u,c){var d;switch(c){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(rg(u)&&e.isArray(u.sort))return"ordinal";let{aggregate:g,bin:b,timeUnit:D}=u;if(D)return"temporal";if(b||g&&!la(g)&&!ua(g))return"quantitative";if(sg(u)&&(d=u.scale)!==null&&d!==void 0&&d.type)switch(Mh[u.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function jh(u){if(Er(u))return u;if(Eo(u))return u.condition}function yu(u){if(ks(u))return u;if(Ur(u))return u.condition}function FE(u,c,d){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(e.isString(u)||e.isNumber(u)||e.isBoolean(u)){let b=e.isString(u)?"string":e.isNumber(u)?"number":"boolean";return jr(J0(c,b,u)),{value:u}}return ks(u)?J4(u,c,d,g):Ur(u)?{...u,condition:J4(u.condition,c,d,g)}:u}function J4(u,c,d,g){if(Cp(u)){let{format:b,formatType:D,...M}=u;if(bi(D)&&!d.customFormatTypes)return jr(G0(c)),J4(M,c,d,g)}else{let b=l3(u)?"axis":RN(u)?"legend":X1(u)?"header":null;if(b&&u[b]){let{format:D,formatType:M,...Q}=u[b];if(bi(M)&&!d.customFormatTypes)return jr(G0(c)),J4({...u,[b]:Q},c,d,g)}}return Er(u)?d3(u,c,g):IN(u)}function IN(u){let c=u.type;if(c)return u;let{datum:d}=u;return c=e.isNumber(d)?"quantitative":e.isString(d)?"nominal":Z0(d)?"temporal":void 0,{...u,type:c}}function d3(u,c){let{compositeMark:d=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{aggregate:g,timeUnit:b,bin:D,field:M}=u,Q={...u};if(!d&&g&&!vl(g)&&!la(g)&&!ua(g)&&(jr(d0(g)),delete Q.aggregate),b&&(Q.timeUnit=xu(b)),M&&(Q.field=`${M}`),mr(D)&&(Q.bin=X4(D,c)),is(D)&&!us(c)&&jr(H1(c)),Gd(Q)){let{type:se}=Q,Ve=_p(se);se!==Ve&&(Q.type=Ve),se!=="quantitative"&&ra(g)&&(jr(f0(se,g)),Q.type="quantitative")}else if(!xi(c)){let se=F9(Q,c);Q.type=se}if(Gd(Q)){let{compatible:se,warning:Ve}=og(Q,c)||{};se===!1&&jr(Ve)}if(rg(Q)&&e.isString(Q.sort)){let{sort:se}=Q;if(ol(se))return{...Q,sort:{encoding:se}};let Ve=se.substr(1);if(se.charAt(0)==="-"&&ol(Ve))return{...Q,sort:{encoding:Ve,order:"descending"}}}if(X1(Q)){let{header:se}=Q;if(se){let{orient:Ve,...Xe}=se;if(Ve)return{...Q,header:{...Xe,labelOrient:se.labelOrient||Ve,titleOrient:se.titleOrient||Ve}}}}return Q}function X4(u,c){return e.isBoolean(u)?{maxbins:Jt(c)}:u==="binned"?{binned:!0}:!u.maxbins&&!u.step?{...u,maxbins:Jt(c)}:u}let Bf={compatible:!0};function og(u,c){let d=u.type;if(d==="geojson"&&c!=="shape")return{compatible:!1,warning:`Channel ${c} should not be used with a geojson data.`};switch(c){case Fn:case Wn:case Zn:return c3(u)?Bf:{compatible:!1,warning:Ou(c)};case Nn:case nr:case oe:case Be:case gt:case St:case Rt:case vn:case Re:case $e:case Ft:case N:case V:case We:case hn:case rt:case Ee:return Bf;case ie:case Ue:case dt:case Te:return d!==m0?{compatible:!1,warning:`Channel ${c} should be used with a quantitative field only, not ${u.type} field.`}:Bf;case st:case Ut:case sn:case Cn:case Ce:case an:case Dt:case Ye:case vt:return d==="nominal"&&!u.sort?{compatible:!1,warning:`Channel ${c} should not be used with an unsorted discrete field.`}:Bf;case ne:case En:return!c3(u)&&!IW(u)?{compatible:!1,warning:_o(c)}:Bf;case zn:return u.type==="nominal"&&!("sort"in u)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:Bf}}function h3(u){let{formatType:c}=TE(u);return c==="time"||!c&&MN(u)}function MN(u){return u&&(u.type==="temporal"||Er(u)&&!!u.timeUnit)}function DE(u,c){var d;let{timeUnit:g,type:b,wrapTime:D,undefinedIfExprNotRequired:M}=c,Q=g&&((d=xu(g))===null||d===void 0?void 0:d.unit),se=Q||b==="temporal",Ve;return $t(u)?Ve=u.expr:$n(u)?Ve=u.signal:Z0(u)?(se=!0,Ve=cf(u)):(e.isString(u)||e.isNumber(u))&&se&&(Ve=`datetime(${Je(u)})`,nl(Q)&&(e.isNumber(u)&&u<1e4||e.isString(u)&&isNaN(Date.parse(u)))&&(Ve=cf({[Q]:u}))),Ve?D&&se?`time(${Ve})`:Ve:M?void 0:Je(u)}function PN(u,c){let{type:d}=u;return c.map(g=>{let b=DE(g,{timeUnit:Er(u)?u.timeUnit:void 0,type:d,undefinedIfExprNotRequired:!0});return b!==void 0?{signal:b}:g})}function Z4(u,c){return mr(u.bin)?Ii(c)&&["ordinal","nominal"].includes(u.type):(console.warn("Only call this method for binned field defs."),!1)}let BN={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function e_(u){return u==null?void 0:u.condition}let jN=["domain","grid","labels","ticks","title"],BW={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},qN={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},jW={...qN,style:1,labelExpr:1,encoding:1};function UN(u){return!!jW[u]}let D9=re({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});function Ap(u){return"mark"in u}class t_{constructor(c,d){this.name=c,this.run=d}hasMatchingType(c){return Ap(c)?ot(c.mark)===this.name:!1}}function ag(u,c){let d=u&&u[c];return d?e.isArray(d)?mn(d,g=>!!g.field):Er(d)||Eo(d):!1}function $N(u,c){let d=u&&u[c];return d?e.isArray(d)?mn(d,g=>!!g.field):Er(d)||So(d)||Ur(d):!1}function O9(u,c){if(us(c)){let d=u[c];if((Er(d)||So(d))&&vp(d.type)){let g=xa(c);return $N(u,g)}}return!1}function OE(u){return mn(ht,c=>{if(ag(u,c)){let d=u[c];if(e.isArray(d))return mn(d,g=>!!g.aggregate);{let g=jh(d);return g&&!!g.aggregate}}return!1})}function zN(u,c){let d=[],g=[],b=[],D=[],M={};return R9(u,(Q,se)=>{if(Er(Q)){let{field:Ve,aggregate:Xe,bin:qt,timeUnit:on,...In}=Q;if(Xe||on||qt){let Xn=CE(Q),lr=Xn==null?void 0:Xn.title,pr=fi(Q,{forAs:!0}),kr={...lr?[]:{title:f3(Q,c,{allowDisabling:!0})},...In,field:pr};if(Xe){let Ni;if(la(Xe)?(Ni="argmax",pr=fi({op:"argmax",field:Xe.argmax},{forAs:!0}),kr.field=`${pr}.${Ve}`):ua(Xe)?(Ni="argmin",pr=fi({op:"argmin",field:Xe.argmin},{forAs:!0}),kr.field=`${pr}.${Ve}`):Xe!=="boxplot"&&Xe!=="errorbar"&&Xe!=="errorband"&&(Ni=Xe),Ni){let Ui={op:Ni,as:pr};Ve&&(Ui.field=Ve),D.push(Ui)}}else if(d.push(pr),Gd(Q)&&mr(qt)){if(g.push({bin:qt,field:Ve,as:pr}),d.push(fi(Q,{binSuffix:"end"})),Z4(Q,se)&&d.push(fi(Q,{binSuffix:"range"})),us(se)){let Ni={field:`${pr}_end`};M[`${se}2`]=Ni}kr.bin="binned",xi(se)||(kr.type=m0)}else if(on){b.push({timeUnit:on,field:Ve,as:pr});let Ni=Gd(Q)&&Q.type!==hf&&"time";Ni&&(se===vn||se===Ft?kr.formatType=Ni:aa(se)?kr.legend={formatType:Ni,...kr.legend}:us(se)&&(kr.axis={formatType:Ni,...kr.axis}))}M[se]=kr}else d.push(Ve),M[se]=u[se]}else M[se]=u[se]}),{bins:g,timeUnits:b,aggregate:D,groupby:d,encoding:M}}function qW(u,c,d){let g=Oo(c,d);if(g){if(g==="binned"){let b=u[c===Ye?Nn:nr];return!!(Er(b)&&Er(u[c])&&is(b.bin))}}else return!1;return!0}function UW(u,c,d,g){let b={};for(let D of re(u))yr(D)||jr(jd(D));for(let D of Nc){if(!u[D])continue;let M=u[D];if(Wi(D)){let Q=yl(D),se=b[Q];if(Er(se)){if(Ih(se.type)&&Er(M)){jr(K0(Q));continue}}else D=Q,jr(of(Q))}if(D==="angle"&&c==="arc"&&!u.theta&&(jr(Y0),D=hn),!qW(u,D,c)){jr(bl(D,c));continue}if(D===Ce&&c==="line"){let Q=jh(u[D]);if(Q!=null&&Q.aggregate){jr(p0);continue}}if(D===gt&&(d?"fill"in u:"stroke"in u)){jr(h0("encoding",{fill:"fill"in u,stroke:"stroke"in u}));continue}if(D===Re||D===zn&&!e.isArray(M)&&!Yd(M)||D===Ft&&e.isArray(M))M&&(b[D]=e.array(M).reduce((Q,se)=>(Er(se)?Q.push(d3(se,D)):jr(Zo(se,D)),Q),[]));else{if(D===Ft&&M===null)b[D]=null;else if(!Er(M)&&!So(M)&&!Yd(M)&&!js(M)&&!$n(M)){jr(Zo(M,D));continue}b[D]=FE(M,D,g)}}return b}function RE(u,c){let d={};for(let g of re(u)){let b=FE(u[g],g,c,{compositeMark:!0});d[g]=b}return d}function $W(u){let c=[];for(let d of re(u))if(ag(u,d)){let g=u[d],b=e.array(g);for(let D of b)Er(D)?c.push(D):Eo(D)&&c.push(D.condition)}return c}function R9(u,c,d){if(!!u)for(let g of re(u)){let b=u[g];if(e.isArray(b))for(let D of b)c.call(d,D,g);else c.call(d,b,g)}}function Kd(u,c,d,g){return u?re(u).reduce((b,D)=>{let M=u[D];return e.isArray(M)?M.reduce((Q,se)=>c.call(g,Q,se,D),b):c.call(g,b,M,D)},d):d}function HN(u,c){return re(c).reduce((d,g)=>{switch(g){case Nn:case nr:case N:case Ee:case V:case Ye:case vt:case oe:case Be:case hn:case an:case rt:case Dt:case dt:case ie:case Te:case Ue:case vn:case ne:case We:case Ft:return d;case zn:if(u==="line"||u==="trail")return d;case Re:case $e:{let b=c[g];if(e.isArray(b)||Er(b))for(let D of e.array(b))D.aggregate||d.push(fi(D,{}));return d}case Ce:if(u==="trail")return d;case gt:case St:case Rt:case st:case Ut:case sn:case En:case Cn:{let b=jh(c[g]);return b&&!b.aggregate&&d.push(fi(b,{})),d}}},[])}function zW(u){let{tooltip:c,...d}=u;if(!c)return{filteredEncoding:d};let g,b;if(e.isArray(c)){for(let D of c)D.aggregate?(g||(g=[]),g.push(D)):(b||(b=[]),b.push(D));g&&(d.tooltip=g)}else c.aggregate?d.tooltip=c:b=c;return e.isArray(b)&&b.length===1&&(b=b[0]),{customTooltipWithoutAggregatedField:b,filteredEncoding:d}}function N9(u,c,d){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if("tooltip"in d)return{tooltip:d.tooltip};let b=u.map(M=>{let{fieldPrefix:Q,titlePrefix:se}=M,Ve=g?` of ${NE(c)}`:"";return{field:Q+c.field,type:c.type,title:$n(se)?{signal:`${se}"${escape(Ve)}"`}:se+Ve}}),D=$W(d).map(Pf);return{tooltip:[...b,...bt(D,lt)]}}function NE(u){let{title:c,field:d}=u;return Ne(c,d)}function L9(u,c,d,g,b){let{scale:D,axis:M}=d;return Q=>{let{partName:se,mark:Ve,positionPrefix:Xe,endPositionPrefix:qt=void 0,extraEncoding:on={}}=Q,In=NE(d);return VN(u,se,b,{mark:Ve,encoding:{[c]:{field:`${Xe}_${d.field}`,type:d.type,...In!==void 0?{title:In}:{},...D!==void 0?{scale:D}:{},...M!==void 0?{axis:M}:{}},...e.isString(qt)?{[`${c}2`]:{field:`${qt}_${d.field}`}}:{},...g,...on}})}}function VN(u,c,d,g){let{clip:b,color:D,opacity:M}=u,Q=u.type;return u[c]||u[c]===void 0&&d[c]?[{...g,mark:{...d[c],...b?{clip:b}:{},...D?{color:D}:{},...M?{opacity:M}:{},...fc(g.mark)?g.mark:{type:g.mark},style:`${Q}-${String(c)}`,...e.isBoolean(u[c])?{}:u[c]}}]:[]}function WN(u,c,d){let{encoding:g}=u,b=c==="vertical"?"y":"x",D=g[b],M=g[`${b}2`],Q=g[`${b}Error`],se=g[`${b}Error2`];return{continuousAxisChannelDef:LE(D,d),continuousAxisChannelDef2:LE(M,d),continuousAxisChannelDefError:LE(Q,d),continuousAxisChannelDefError2:LE(se,d),continuousAxis:b}}function LE(u,c){if(u!=null&&u.aggregate){let{aggregate:d,...g}=u;return d!==c&&jr(lf(d,c)),g}else return u}function kE(u,c){let{mark:d,encoding:g}=u,{x:b,y:D}=g;if(fc(d)&&d.orient)return d.orient;if(hc(b)){if(hc(D)){let M=Er(b)&&b.aggregate,Q=Er(D)&&D.aggregate;if(!M&&Q===c)return"vertical";if(!Q&&M===c)return"horizontal";if(M===c&&Q===c)throw new Error("Both x and y cannot have aggregate");return h3(D)&&!h3(b)?"horizontal":"vertical"}return"horizontal"}else{if(hc(D))return"vertical";throw new Error(`Need a valid continuous axis for ${c}s`)}}let IE="boxplot",HW=["box","median","outliers","rule","ticks"],VW=new t_(IE,GN);function QN(u){return e.isNumber(u)?"tukey":u}function GN(u,c){let{config:d}=c;u={...u,encoding:RE(u.encoding,d)};let{mark:g,encoding:b,params:D,projection:M,...Q}=u,se=fc(g)?g:{type:g};D&&jr(Ls("boxplot"));let Ve=se.extent??d.boxplot.extent,Xe=vi("size",se,d),qt=se.invalid,on=QN(Ve),{bins:In,timeUnits:Xn,transform:lr,continuousAxisChannelDef:pr,continuousAxis:kr,groupby:Ni,aggregate:Ui,encodingWithoutContinuousAxis:Rs,ticksOrient:ji,boxOrient:ia,customTooltipWithoutAggregatedField:as}=WW(u,Ve,d),{color:ll,size:Ol,...xc}=Rs,fg=XBe=>L9(se,kr,pr,XBe,d.boxplot),dg=fg(xc),hg=fg(Rs),am=fg({...xc,...Ol?{size:Ol}:{}}),pg=N9([{fieldPrefix:on==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:on==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],pr,Rs),mg={type:"tick",color:"black",opacity:1,orient:ji,invalid:qt,aria:!1},d2=on==="min-max"?pg:N9([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],pr,Rs),C3=[...dg({partName:"rule",mark:{type:"rule",invalid:qt,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:d2}),...dg({partName:"rule",mark:{type:"rule",invalid:qt,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:d2}),...dg({partName:"ticks",mark:mg,positionPrefix:"lower_whisker",extraEncoding:d2}),...dg({partName:"ticks",mark:mg,positionPrefix:"upper_whisker",extraEncoding:d2})],A3=[...on!=="tukey"?C3:[],...hg({partName:"box",mark:{type:"bar",...Xe?{size:Xe}:{},orient:ia,invalid:qt,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:pg}),...am({partName:"median",mark:{type:"tick",invalid:qt,...e.isObject(d.boxplot.median)&&d.boxplot.median.color?{color:d.boxplot.median.color}:{},...Xe?{size:Xe}:{},orient:ji,aria:!1},positionPrefix:"mid_box",extraEncoding:pg})];if(on==="min-max")return{...Q,transform:(Q.transform??[]).concat(lr),layer:A3};let _k=`datum["lower_box_${pr.field}"]`,Qfe=`datum["upper_box_${pr.field}"]`,Gfe=`(${Qfe} - ${_k})`,Yfe=`${_k} - ${Ve} * ${Gfe}`,Kfe=`${Qfe} + ${Ve} * ${Gfe}`,bk=`datum["${pr.field}"]`,YBe={joinaggregate:YN(pr.field),groupby:Ni},Jfe={transform:[{filter:`(${Yfe} <= ${bk}) && (${bk} <= ${Kfe})`},{aggregate:[{op:"min",field:pr.field,as:`lower_whisker_${pr.field}`},{op:"max",field:pr.field,as:`upper_whisker_${pr.field}`},{op:"min",field:`lower_box_${pr.field}`,as:`lower_box_${pr.field}`},{op:"max",field:`upper_box_${pr.field}`,as:`upper_box_${pr.field}`},...Ui],groupby:Ni}],layer:C3},{tooltip:TEt,...KBe}=xc,{scale:Xfe,axis:JBe}=pr,Zfe=NE(pr),e0e=pe(JBe,["title"]),t0e=VN(se,"outliers",d.boxplot,{transform:[{filter:`(${bk} < ${Yfe}) || (${bk} > ${Kfe})`}],mark:"point",encoding:{[kr]:{field:pr.field,type:pr.type,...Zfe!==void 0?{title:Zfe}:{},...Xfe!==void 0?{scale:Xfe}:{},...Ke(e0e)?{}:{axis:e0e}},...KBe,...ll?{color:ll}:{},...as?{tooltip:as}:{}}})[0],Ek,n0e=[...In,...Xn,YBe];return t0e?Ek={transform:n0e,layer:[t0e,Jfe]}:(Ek=Jfe,Ek.transform.unshift(...n0e)),{...Q,layer:[Ek,{transform:lr,layer:A3}]}}function YN(u){return[{op:"q1",field:u,as:`lower_box_${u}`},{op:"q3",field:u,as:`upper_box_${u}`}]}function WW(u,c,d){let g=kE(u,IE),{continuousAxisChannelDef:b,continuousAxis:D}=WN(u,g,IE),M=b.field,Q=QN(c),se=[...YN(M),{op:"median",field:M,as:`mid_box_${M}`},{op:"min",field:M,as:(Q==="min-max"?"lower_whisker_":"min_")+M},{op:"max",field:M,as:(Q==="min-max"?"upper_whisker_":"max_")+M}],Ve=Q==="min-max"||Q==="tukey"?[]:[{calculate:`datum["upper_box_${M}"] - datum["lower_box_${M}"]`,as:`iqr_${M}`},{calculate:`min(datum["upper_box_${M}"] + datum["iqr_${M}"] * ${c}, datum["max_${M}"])`,as:`upper_whisker_${M}`},{calculate:`max(datum["lower_box_${M}"] - datum["iqr_${M}"] * ${c}, datum["min_${M}"])`,as:`lower_whisker_${M}`}],{[D]:Xe,...qt}=u.encoding,{customTooltipWithoutAggregatedField:on,filteredEncoding:In}=zW(qt),{bins:Xn,timeUnits:lr,aggregate:pr,groupby:kr,encoding:Ni}=zN(In,d),Ui=g==="vertical"?"horizontal":"vertical",Rs=g,ji=[...Xn,...lr,{aggregate:[...pr,...se],groupby:kr},...Ve];return{bins:Xn,timeUnits:lr,transform:ji,groupby:kr,aggregate:pr,continuousAxisChannelDef:b,continuousAxis:D,encodingWithoutContinuousAxis:Ni,ticksOrient:Ui,boxOrient:Rs,customTooltipWithoutAggregatedField:on}}let k9="errorbar",QW=["ticks","rule"],GW=new t_(k9,KN);function KN(u,c){let{config:d}=c;u={...u,encoding:RE(u.encoding,d)};let{transform:g,continuousAxisChannelDef:b,continuousAxis:D,encodingWithoutContinuousAxis:M,ticksOrient:Q,markDef:se,outerSpec:Ve,tooltipEncoding:Xe}=JN(u,k9,d);delete M.size;let qt=L9(se,D,b,M,d.errorbar),on=se.thickness,In=se.size,Xn={type:"tick",orient:Q,aria:!1,...on!==void 0?{thickness:on}:{},...In!==void 0?{size:In}:{}},lr=[...qt({partName:"ticks",mark:Xn,positionPrefix:"lower",extraEncoding:Xe}),...qt({partName:"ticks",mark:Xn,positionPrefix:"upper",extraEncoding:Xe}),...qt({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...on!==void 0?{size:on}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Xe})];return{...Ve,transform:g,...lr.length>1?{layer:lr}:{...lr[0]}}}function YW(u,c){let{encoding:d}=u;if(KW(d))return{orient:kE(u,c),inputType:"raw"};let g=JW(d),b=XW(d),D=d.x,M=d.y;if(g){if(b)throw new Error(`${c} cannot be both type aggregated-upper-lower and aggregated-error`);let Q=d.x2,se=d.y2;if(ks(Q)&&ks(se))throw new Error(`${c} cannot have both x2 and y2`);if(ks(Q)){if(hc(D))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${c}`)}else if(ks(se)){if(hc(M))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${c}`)}throw new Error("No ranged axis")}else{let Q=d.xError,se=d.xError2,Ve=d.yError,Xe=d.yError2;if(ks(se)&&!ks(Q))throw new Error(`${c} cannot have xError2 without xError`);if(ks(Xe)&&!ks(Ve))throw new Error(`${c} cannot have yError2 without yError`);if(ks(Q)&&ks(Ve))throw new Error(`${c} cannot have both xError and yError with both are quantiative`);if(ks(Q)){if(hc(D))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(ks(Ve)){if(hc(M))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function KW(u){return(ks(u.x)||ks(u.y))&&!ks(u.x2)&&!ks(u.y2)&&!ks(u.xError)&&!ks(u.xError2)&&!ks(u.yError)&&!ks(u.yError2)}function JW(u){return ks(u.x2)||ks(u.y2)}function XW(u){return ks(u.xError)||ks(u.xError2)||ks(u.yError)||ks(u.yError2)}function JN(u,c,d){let{mark:g,encoding:b,params:D,projection:M,...Q}=u,se=fc(g)?g:{type:g};D&&jr(Ls(c));let{orient:Ve,inputType:Xe}=YW(u,c),{continuousAxisChannelDef:qt,continuousAxisChannelDef2:on,continuousAxisChannelDefError:In,continuousAxisChannelDefError2:Xn,continuousAxis:lr}=WN(u,Ve,c),{errorBarSpecificAggregate:pr,postAggregateCalculates:kr,tooltipSummary:Ni,tooltipTitleWithFieldName:Ui}=ZW(se,qt,on,In,Xn,Xe,c,d),{[lr]:Rs,[lr==="x"?"x2":"y2"]:ji,[lr==="x"?"xError":"yError"]:ia,[lr==="x"?"xError2":"yError2"]:as,...ll}=b,{bins:Ol,timeUnits:xc,aggregate:fg,groupby:dg,encoding:hg}=zN(ll,d),am=[...fg,...pr],pg=Xe!=="raw"?[]:dg,mg=N9(Ni,qt,hg,Ui);return{transform:[...Q.transform??[],...Ol,...xc,...am.length===0?[]:[{aggregate:am,groupby:pg}],...kr],groupby:pg,continuousAxisChannelDef:qt,continuousAxis:lr,encodingWithoutContinuousAxis:hg,ticksOrient:Ve==="vertical"?"horizontal":"vertical",markDef:se,outerSpec:Q,tooltipEncoding:mg}}function ZW(u,c,d,g,b,D,M,Q){let se=[],Ve=[],Xe=c.field,qt,on=!1;if(D==="raw"){let In=u.center?u.center:u.extent?u.extent==="iqr"?"median":"mean":Q.errorbar.center,Xn=u.extent?u.extent:In==="mean"?"stderr":"iqr";if(In==="median"!=(Xn==="iqr")&&jr(uf(In,Xn,M)),Xn==="stderr"||Xn==="stdev")se=[{op:Xn,field:Xe,as:`extent_${Xe}`},{op:In,field:Xe,as:`center_${Xe}`}],Ve=[{calculate:`datum["center_${Xe}"] + datum["extent_${Xe}"]`,as:`upper_${Xe}`},{calculate:`datum["center_${Xe}"] - datum["extent_${Xe}"]`,as:`lower_${Xe}`}],qt=[{fieldPrefix:"center_",titlePrefix:fn(In)},{fieldPrefix:"upper_",titlePrefix:XN(In,Xn,"+")},{fieldPrefix:"lower_",titlePrefix:XN(In,Xn,"-")}],on=!0;else{let lr,pr,kr;Xn==="ci"?(lr="mean",pr="ci0",kr="ci1"):(lr="median",pr="q1",kr="q3"),se=[{op:pr,field:Xe,as:`lower_${Xe}`},{op:kr,field:Xe,as:`upper_${Xe}`},{op:lr,field:Xe,as:`center_${Xe}`}],qt=[{fieldPrefix:"upper_",titlePrefix:f3({field:Xe,aggregate:kr,type:"quantitative"},Q,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:f3({field:Xe,aggregate:pr,type:"quantitative"},Q,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:f3({field:Xe,aggregate:lr,type:"quantitative"},Q,{allowDisabling:!1})}]}}else{(u.center||u.extent)&&jr(_a(u.center,u.extent)),D==="aggregated-upper-lower"?(qt=[],Ve=[{calculate:`datum["${d.field}"]`,as:`upper_${Xe}`},{calculate:`datum["${Xe}"]`,as:`lower_${Xe}`}]):D==="aggregated-error"&&(qt=[{fieldPrefix:"",titlePrefix:Xe}],Ve=[{calculate:`datum["${Xe}"] + datum["${g.field}"]`,as:`upper_${Xe}`}],b?Ve.push({calculate:`datum["${Xe}"] + datum["${b.field}"]`,as:`lower_${Xe}`}):Ve.push({calculate:`datum["${Xe}"] - datum["${g.field}"]`,as:`lower_${Xe}`}));for(let In of Ve)qt.push({fieldPrefix:In.as.substring(0,6),titlePrefix:Mn(Mn(In.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:Ve,errorBarSpecificAggregate:se,tooltipSummary:qt,tooltipTitleWithFieldName:on}}function XN(u,c,d){return`${fn(u)} ${d} ${c}`}let I9="errorband",eQ=["band","borders"],M9=new t_(I9,P9);function P9(u,c){let{config:d}=c;u={...u,encoding:RE(u.encoding,d)};let{transform:g,continuousAxisChannelDef:b,continuousAxis:D,encodingWithoutContinuousAxis:M,markDef:Q,outerSpec:se,tooltipEncoding:Ve}=JN(u,I9,d),Xe=Q,qt=L9(Xe,D,b,M,d.errorband),on=u.encoding.x!==void 0&&u.encoding.y!==void 0,In={type:on?"area":"rect"},Xn={type:on?"line":"rule"},lr={...Xe.interpolate?{interpolate:Xe.interpolate}:{},...Xe.tension&&Xe.interpolate?{tension:Xe.tension}:{}};return on?(In={...In,...lr,ariaRoleDescription:"errorband"},Xn={...Xn,...lr,aria:!1}):Xe.interpolate?jr(tl("interpolate")):Xe.tension&&jr(tl("tension")),{...se,transform:g,layer:[...qt({partName:"band",mark:In,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Ve}),...qt({partName:"borders",mark:Xn,positionPrefix:"lower",extraEncoding:Ve}),...qt({partName:"borders",mark:Xn,positionPrefix:"upper",extraEncoding:Ve})]}}let ZN={};function B9(u,c,d){let g=new t_(u,c);ZN[u]={normalizer:g,parts:d}}function tQ(){return re(ZN)}B9(IE,GN,HW),B9(k9,KN,QW),B9(I9,P9,eQ);let nQ=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],eL={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},tL={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},rQ=re(eL),iQ=re(tL),nL=re({header:1,headerRow:1,headerColumn:1,headerFacet:1}),n_=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],oQ={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},aQ={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Tp="_vgsid_",uQ={point:{on:"click",fields:[Tp],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function j9(u){return u==="legend"||!!(u!=null&&u.legend)}function q9(u){return j9(u)&&e.isObject(u)}function U9(u){return!!(u!=null&&u.select)}function rL(u){let c=[];for(let d of u||[]){if(U9(d))continue;let{expr:g,bind:b,...D}=d;if(b&&g){let M={...D,bind:b,init:g};c.push(M)}else{let M={...D,...g?{update:g}:{},...b?{bind:b}:{}};c.push(M)}}return c}function lQ(u){return ME(u)||z9(u)||$9(u)}function $9(u){return"concat"in u}function ME(u){return"vconcat"in u}function z9(u){return"hconcat"in u}function iL(u){let{step:c,offsetIsDiscrete:d}=u;return d?c.for??"offset":"position"}function Fp(u){return e.isObject(u)&&u.step!==void 0}function sL(u){return u.view||u.width||u.height}let oL=20,aL=re({align:1,bounds:1,center:1,columns:1,spacing:1});function fQ(u,c,d){let g=d[c],b={},{spacing:D,columns:M}=g;D!==void 0&&(b.spacing=D),M!==void 0&&(wp(u)&&!Qd(u.facet)||$9(u))&&(b.columns=M),ME(u)&&(b.columns=1);for(let Q of aL)if(u[Q]!==void 0)if(Q==="spacing"){let se=u[Q];b[Q]=e.isNumber(se)?se:{row:se.row??D,column:se.column??D}}else b[Q]=u[Q];return b}function H9(u,c){return u[c]??u[c==="width"?"continuousWidth":"continuousHeight"]}function PE(u,c){let d=BE(u,c);return Fp(d)?d.step:r_}function BE(u,c){let d=u[c]??u[c==="width"?"discreteWidth":"discreteHeight"];return Ne(d,{step:u.step})}let r_=20,dQ={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:r_},mark:Y,arc:{},area:{},bar:X,circle:{},geoshape:{},image:{},line:{},point:{},rect:ge,rule:{color:"black"},square:{},text:{color:"black"},tick:Fe,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:$i,projection:{},legend:oQ,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:uQ,style:{},title:{},facet:{spacing:oL},concat:{spacing:oL},normalizedNumberFormat:".0%"},em=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],uL={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},lL={blue:em[0],orange:em[1],red:em[2],teal:em[3],green:em[4],yellow:em[5],purple:em[6],pink:em[7],brown:em[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function hQ(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{signals:[{name:"color",value:e.isObject(u)?{...lL,...u}:lL}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function pQ(u){return{signals:[{name:"fontSize",value:e.isObject(u)?{...uL,...u}:uL}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function mQ(u){return{text:{font:u},style:{"guide-label":{font:u},"guide-title":{font:u},"group-title":{font:u},"group-subtitle":{font:u}}}}function cL(u){let c=re(u||{}),d={};for(let g of c){let b=u[g];d[g]=e_(b)?ni(b):pi(b)}return d}function xQ(u){let c=re(u),d={};for(let g of c)d[g]=cL(u[g]);return d}let gQ=[..._t,...D9,...nL,"background","padding","legend","lineBreak","scale","style","title","view"];function i_(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{color:c,font:d,fontSize:g,selection:b,...D}=u,M=e.mergeConfig({},be(dQ),d?mQ(d):{},c?hQ(c):{},g?pQ(g):{},D||{});b&&e.writeConfig(M,"selection",b,!0);let Q=pe(M,gQ);for(let se of["background","lineBreak","padding"])M[se]&&(Q[se]=pi(M[se]));for(let se of _t)M[se]&&(Q[se]=pn(M[se]));for(let se of D9)M[se]&&(Q[se]=cL(M[se]));for(let se of nL)M[se]&&(Q[se]=pn(M[se]));return M.legend&&(Q.legend=pn(M.legend)),M.scale&&(Q.scale=pn(M.scale)),M.style&&(Q.style=xQ(M.style)),M.title&&(Q.title=pn(M.title)),M.view&&(Q.view=pn(M.view)),Q}let yQ=new Set(["view",...ng]),fL=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],dL={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...H};function V9(u){u=be(u);for(let c of fL)delete u[c];if(u.axis)for(let c in u.axis)e_(u.axis[c])&&delete u.axis[c];if(u.legend)for(let c of nQ)delete u.legend[c];if(u.mark){for(let c of F)delete u.mark[c];u.mark.tooltip&&e.isObject(u.mark.tooltip)&&delete u.mark.tooltip}u.params&&(u.signals=(u.signals||[]).concat(rL(u.params)),delete u.params);for(let c of yQ){for(let g of F)delete u[c][g];let d=dL[c];if(d)for(let g of d)delete u[c][g];pL(u,c)}for(let c of tQ())delete u[c];hL(u);for(let c in u)e.isObject(u[c])&&Ke(u[c])&&delete u[c];return Ke(u)?void 0:u}function hL(u){let{titleMarkConfig:c,subtitleMarkConfig:d,subtitle:g}=Ln(u.title);Ke(c)||(u.style["group-title"]={...u.style["group-title"],...c}),Ke(d)||(u.style["group-subtitle"]={...u.style["group-subtitle"],...d}),Ke(g)?delete u.title:u.title=g}function pL(u,c,d,g){let b=g?u[c][g]:u[c];c==="view"&&(d="cell");let D={...b,...u.style[d??c]};Ke(D)||(u.style[d??c]=D),g||delete u[c]}function s_(u){return"layer"in u}function mL(u){return"repeat"in u}function vQ(u){return!e.isArray(u.repeat)&&u.repeat.layer}class W9{map(c,d){return wp(c)?this.mapFacet(c,d):mL(c)?this.mapRepeat(c,d):z9(c)?this.mapHConcat(c,d):ME(c)?this.mapVConcat(c,d):$9(c)?this.mapConcat(c,d):this.mapLayerOrUnit(c,d)}mapLayerOrUnit(c,d){if(s_(c))return this.mapLayer(c,d);if(Ap(c))return this.mapUnit(c,d);throw new Error(le(c))}mapLayer(c,d){return{...c,layer:c.layer.map(g=>this.mapLayerOrUnit(g,d))}}mapHConcat(c,d){return{...c,hconcat:c.hconcat.map(g=>this.map(g,d))}}mapVConcat(c,d){return{...c,vconcat:c.vconcat.map(g=>this.map(g,d))}}mapConcat(c,d){let{concat:g,...b}=c;return{...b,concat:g.map(D=>this.map(D,d))}}mapFacet(c,d){return{...c,spec:this.map(c.spec,d)}}mapRepeat(c,d){return{...c,spec:this.map(c.spec,d)}}}let _Q={zero:1,center:1,normalize:1};function jE(u){return u in _Q}let qE=new Set([G1,Tl,Y1,If,Bh,Sp,Vd,Hd,Fl,Mf]),bQ=new Set([Tl,Y1,G1]);function p3(u){return Er(u)&&al(u)==="quantitative"&&!u.bin}function UE(u,c){let d=c==="x"?"y":"radius",g=u[c],b=u[d];if(Er(g)&&Er(b))if(p3(g)&&p3(b)){if(g.stack)return c;if(b.stack)return d;let Q=Er(g)&&!!g.aggregate,se=Er(b)&&!!b.aggregate;if(Q!==se)return Q?c:d;{var D,M;let Ve=(D=g.scale)===null||D===void 0?void 0:D.type,Xe=(M=b.scale)===null||M===void 0?void 0:M.type;if(Ve&&Ve!=="linear")return d;if(Xe&&Xe!=="linear")return c}}else{if(p3(g))return c;if(p3(b))return d}else{if(p3(g))return c;if(p3(b))return d}}function xL(u){switch(u){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function gL(u,c){var d,g;let b=fc(u)?u.type:u;if(!qE.has(b))return null;let D=UE(c,"x")||UE(c,"theta");if(!D)return null;let M=c[D],Q=Er(M)?fi(M,{}):void 0,se=xL(D),Ve=[],Xe=new Set;if(c[se]){let In=c[se],Xn=Er(In)?fi(In,{}):void 0;Xn&&Xn!==Q&&(Ve.push(se),Xe.add(Xn));let lr=se==="x"?"xOffset":"yOffset",pr=c[lr],kr=Er(pr)?fi(pr,{}):void 0;kr&&kr!==Q&&(Ve.push(lr),Xe.add(kr))}let qt=As.reduce((In,Xn)=>{if(Xn!=="tooltip"&&ag(c,Xn)){let lr=c[Xn];for(let pr of e.array(lr)){let kr=jh(pr);if(kr.aggregate)continue;let Ni=fi(kr,{});(!Ni||!Xe.has(Ni))&&In.push({channel:Xn,fieldDef:kr})}}return In},[]),on;return M.stack!==void 0?e.isBoolean(M.stack)?on=M.stack?"zero":null:on=M.stack:bQ.has(b)&&(on="zero"),!on||!jE(on)||OE(c)&&qt.length===0?null:M!=null&&(d=M.scale)!==null&&d!==void 0&&d.type&&(M==null||(g=M.scale)===null||g===void 0?void 0:g.type)!==sl.LINEAR?(jr(uc(M.scale.type)),null):ks(c[ws(D)])?(M.stack!==void 0&&jr(Ia(D)),null):(Er(M)&&M.aggregate&&!ui.has(M.aggregate)&&jr(Wl(M.aggregate)),{groupbyChannels:Ve,groupbyFields:Xe,fieldChannel:D,impute:M.impute===null?!1:pf(b),stackBy:qt,offset:on})}function EQ(u){let{point:c,line:d,...g}=u;return re(g).length>1?g:g.type}function SQ(u){for(let c of["line","area","rule","trail"])u[c]&&(u={...u,[c]:pe(u[c],["point","line"])});return u}function Q9(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=arguments.length>2?arguments[2]:void 0;return u.point==="transparent"?{opacity:0}:u.point?e.isObject(u.point)?u.point:{}:u.point!==void 0?null:c.point||d.shape?e.isObject(c.point)?c.point:{}:void 0}function yL(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return u.line?u.line===!0?{}:u.line:u.line!==void 0?null:c.line?c.line===!0?{}:c.line:void 0}class wQ{constructor(){bn(this,"name","path-overlay")}hasMatchingType(c,d){if(Ap(c)){let{mark:g,encoding:b}=c,D=fc(g)?g:{type:g};switch(D.type){case"line":case"rule":case"trail":return!!Q9(D,d[D.type],b);case"area":return!!Q9(D,d[D.type],b)||!!yL(D,d[D.type])}}return!1}run(c,d,g){let{config:b}=d,{params:D,projection:M,mark:Q,encoding:se,...Ve}=c,Xe=RE(se,b),qt=fc(Q)?Q:{type:Q},on=Q9(qt,b[qt.type],Xe),In=qt.type==="area"&&yL(qt,b[qt.type]),Xn=[{...D?{params:D}:{},mark:EQ({...qt.type==="area"&&qt.opacity===void 0&&qt.fillOpacity===void 0?{opacity:.7}:{},...qt}),encoding:pe(Xe,["shape"])}],lr=gL(qt,Xe),pr=Xe;if(lr){let{fieldChannel:kr,offset:Ni}=lr;pr={...Xe,[kr]:{...Xe[kr],...Ni?{stack:Ni}:{}}}}return pr=pe(pr,["y2","x2"]),In&&Xn.push({...M?{projection:M}:{},mark:{type:"line",...we(qt,["clip","interpolate","tension","tooltip"]),...In},encoding:pr}),on&&Xn.push({...M?{projection:M}:{},mark:{type:"point",opacity:1,filled:!0,...we(qt,["clip","tooltip"]),...on},encoding:pr}),g({...Ve,layer:Xn},{...d,config:SQ(b)})}}function CQ(u,c){return c?Qd(u)?Jd(u,c):vL(u,c):u}function G9(u,c){return c?Jd(u,c):u}function Y9(u,c,d){let g=c[u];if(r2(g)){if(g.repeat in d)return{...c,[u]:d[g.repeat]};jr(oc(g.repeat));return}return c}function vL(u,c){if(u=Y9("field",u,c),u!==void 0){if(u===null)return null;if(rg(u)&&Ea(u.sort)){let d=Y9("field",u.sort,c);u={...u,...d?{sort:d}:{}}}return u}}function _L(u,c){if(Er(u))return vL(u,c);{let d=Y9("datum",u,c);return d!==u&&!d.type&&(d.type="nominal"),d}}function bL(u,c){if(ks(u)){let d=_L(u,c);if(d)return d;if(js(u))return{condition:u.condition}}else{if(Ur(u)){let d=_L(u.condition,c);if(d)return{...u,condition:d};{let{condition:g,...b}=u;return b}}return u}}function Jd(u,c){let d={};for(let g in u)if(e.hasOwnProperty(u,g)){let b=u[g];if(e.isArray(b))d[g]=b.map(D=>bL(D,c)).filter(D=>D);else{let D=bL(b,c);D!==void 0&&(d[g]=D)}}return d}class AQ{constructor(){bn(this,"name","RuleForRangedLine")}hasMatchingType(c){if(Ap(c)){let{encoding:d,mark:g}=c;if(g==="line"||fc(g)&&g.type==="line")for(let b of Mr){let D=ai(b),M=d[D];if(d[b]&&(Er(M)&&!is(M.bin)||So(M)))return!0}}return!1}run(c,d,g){let{encoding:b,mark:D}=c;return jr(Sl(!!b.x2,!!b.y2)),g({...c,mark:e.isObject(D)?{...D,type:"rule"}:"rule"},d)}}class TQ extends W9{constructor(){super(...arguments);bn(this,"nonFacetUnitNormalizers",[VW,GW,M9,new wQ,new AQ])}map(c,d){if(Ap(c)){let g=ag(c.encoding,Fn),b=ag(c.encoding,Wn),D=ag(c.encoding,Zn);if(g||b||D)return this.mapFacetedUnit(c,d)}return super.map(c,d)}mapUnit(c,d){let{parentEncoding:g,parentProjection:b}=d,D=G9(c.encoding,d.repeater),M={...c,...D?{encoding:D}:{}};if(g||b)return this.mapUnitWithParentEncodingOrProjection(M,d);let Q=this.mapLayerOrUnit.bind(this);for(let se of this.nonFacetUnitNormalizers)if(se.hasMatchingType(M,d.config))return se.run(M,d,Q);return M}mapRepeat(c,d){return vQ(c)?this.mapLayerRepeat(c,d):this.mapNonLayerRepeat(c,d)}mapLayerRepeat(c,d){let{repeat:g,spec:b,...D}=c,{row:M,column:Q,layer:se}=g,{repeater:Ve={},repeaterPrefix:Xe=""}=d;return M||Q?this.mapRepeat({...c,repeat:{...M?{row:M}:{},...Q?{column:Q}:{}},spec:{repeat:{layer:se},spec:b}},d):{...D,layer:se.map(qt=>{let on={...Ve,layer:qt},In=`${(b.name||"")+Xe}child__layer_${Ot(qt)}`,Xn=this.mapLayerOrUnit(b,{...d,repeater:on,repeaterPrefix:In});return Xn.name=In,Xn})}}mapNonLayerRepeat(c,d){let{repeat:g,spec:b,data:D,...M}=c;!e.isArray(g)&&c.columns&&(c=pe(c,["columns"]),jr(sf("repeat")));let Q=[],{repeater:se={},repeaterPrefix:Ve=""}=d,Xe=!e.isArray(g)&&g.row||[se?se.row:null],qt=!e.isArray(g)&&g.column||[se?se.column:null],on=e.isArray(g)&&g||[se?se.repeat:null];for(let Xn of on)for(let lr of Xe)for(let pr of qt){let kr={repeat:Xn,row:lr,column:pr,layer:se.layer},Ni=(b.name||"")+Ve+"child__"+(e.isArray(g)?`${Ot(Xn)}`:(g.row?`row_${Ot(lr)}`:"")+(g.column?`column_${Ot(pr)}`:"")),Ui=this.map(b,{...d,repeater:kr,repeaterPrefix:Ni});Ui.name=Ni,Q.push(pe(Ui,["data"]))}let In=e.isArray(g)?c.columns:g.column?g.column.length:1;return{data:b.data??D,align:"all",...M,columns:In,concat:Q}}mapFacet(c,d){let{facet:g}=c;return Qd(g)&&c.columns&&(c=pe(c,["columns"]),jr(sf("facet"))),super.mapFacet(c,d)}mapUnitWithParentEncodingOrProjection(c,d){let{encoding:g,projection:b}=c,{parentEncoding:D,parentProjection:M,config:Q}=d,se=qs({parentProjection:M,projection:b}),Ve=i2({parentEncoding:D,encoding:G9(g,d.repeater)});return this.mapUnit({...c,...se?{projection:se}:{},...Ve?{encoding:Ve}:{}},{config:Q})}mapFacetedUnit(c,d){let{row:g,column:b,facet:D,...M}=c.encoding,{mark:Q,width:se,projection:Ve,height:Xe,view:qt,params:on,encoding:In,...Xn}=c,{facetMapping:lr,layout:pr}=this.getFacetMappingAndLayout({row:g,column:b,facet:D},d),kr=G9(M,d.repeater);return this.mapFacet({...Xn,...pr,facet:lr,spec:{...se?{width:se}:{},...Xe?{height:Xe}:{},...qt?{view:qt}:{},...Ve?{projection:Ve}:{},mark:Q,encoding:kr,...on?{params:on}:{}}},d)}getFacetMappingAndLayout(c,d){let{row:g,column:b,facet:D}=c;if(g||b){D&&jr(Fh([...g?[Fn]:[],...b?[Wn]:[]]));let M={},Q={};for(let se of[Fn,Wn]){let Ve=c[se];if(Ve){let{align:Xe,center:qt,spacing:on,columns:In,...Xn}=Ve;M[se]=Xn;for(let lr of["align","center","spacing"])Ve[lr]!==void 0&&(Q[lr]??={},Q[lr][se]=Ve[lr])}}return{facetMapping:M,layout:Q}}else{let{align:M,center:Q,spacing:se,columns:Ve,...Xe}=D;return{facetMapping:CQ(Xe,d.repeater),layout:{...M?{align:M}:{},...Q?{center:Q}:{},...se?{spacing:se}:{},...Ve?{columns:Ve}:{}}}}}mapLayer(c,d){let{parentEncoding:g,parentProjection:b,...D}=d,{encoding:M,projection:Q,...se}=c,Ve={...D,parentEncoding:i2({parentEncoding:g,encoding:M,layer:!0}),parentProjection:qs({parentProjection:b,projection:Q})};return super.mapLayer(se,Ve)}}function i2(u){let{parentEncoding:c,encoding:d={},layer:g}=u,b={};if(c){let D=new Set([...re(c),...re(d)]);for(let M of D){let Q=d[M],se=c[M];if(ks(Q)){let Ve={...se,...Q};b[M]=Ve}else Ur(Q)?b[M]={...Q,condition:{...se,...Q.condition}}:Q||Q===null?b[M]=Q:(g||Yd(se)||$n(se)||ks(se)||e.isArray(se))&&(b[M]=se)}}else b=d;return!b||Ke(b)?void 0:b}function qs(u){let{parentProjection:c,projection:d}=u;return c&&d&&jr(Th({parentProjection:c,projection:d})),d??c}function K9(u){return"filter"in u}function _0(u){return(u==null?void 0:u.stop)!==void 0}function Mu(u){return"lookup"in u}function FQ(u){return"data"in u}function s2(u){return"param"in u}function DQ(u){return"pivot"in u}function OQ(u){return"density"in u}function RQ(u){return"quantile"in u}function NQ(u){return"regression"in u}function LQ(u){return"loess"in u}function J9(u){return"sample"in u}function kQ(u){return"window"in u}function tm(u){return"joinaggregate"in u}function EL(u){return"flatten"in u}function $E(u){return"calculate"in u}function nu(u){return"bin"in u}function Pu(u){return"impute"in u}function SL(u){return"timeUnit"in u}function IQ(u){return"aggregate"in u}function MQ(u){return"stack"in u}function PQ(u){return"fold"in u}function BQ(u){return u.map(c=>K9(c)?{filter:te(c.filter,kh)}:c)}class jQ extends W9{map(c,d){return d.emptySelections??={},d.selectionPredicates??={},c=wL(c,d),super.map(c,d)}mapLayerOrUnit(c,d){if(c=wL(c,d),c.encoding){let g={};for(let[b,D]of nt(c.encoding))g[b]=X9(D,d);c={...c,encoding:g}}return super.mapLayerOrUnit(c,d)}mapUnit(c,d){let{selection:g,...b}=c;return g?{...b,params:nt(g).map(D=>{let[M,Q]=D,{init:se,bind:Ve,empty:Xe,...qt}=Q;qt.type==="single"?(qt.type="point",qt.toggle=!1):qt.type==="multi"&&(qt.type="point"),d.emptySelections[M]=Xe!=="none";for(let on of Oe(d.selectionPredicates[M]??{}))on.empty=Xe!=="none";return{name:M,value:se,select:qt,bind:Ve}})}:c}}function wL(u,c){let{transform:d,...g}=u;if(d){let b=d.map(D=>{if(K9(D))return{filter:o_(D,c)};if(nu(D)&&Ie(D.bin))return{...D,bin:m3(D.bin)};if(Mu(D)){let{selection:M,...Q}=D.from;return M?{...D,from:{param:M,...Q}}:D}return D});return{...g,transform:b}}return u}function X9(u,c){var d,g;let b=be(u);if(Er(b)&&Ie(b.bin)&&(b.bin=m3(b.bin)),sg(b)&&(d=b.scale)!==null&&d!==void 0&&(g=d.domain)!==null&&g!==void 0&&g.selection){let{selection:D,...M}=b.scale.domain;b.scale.domain={...M,...D?{param:D}:{}}}if(js(b))if(e.isArray(b.condition))b.condition=b.condition.map(D=>{let{selection:M,param:Q,test:se,...Ve}=D;return Q?D:{...Ve,test:o_(D,c)}});else{let{selection:D,param:M,test:Q,...se}=X9(b.condition,c);b.condition=M?b.condition:{...se,test:o_(b.condition,c)}}return b}function m3(u){let c=u.extent;if(c!=null&&c.selection){let{selection:d,...g}=c;return{...u,extent:{...g,param:d}}}return u}function o_(u,c){let d=g=>te(g,b=>{let D=c.emptySelections[b]??!0,M={param:b,empty:D};return c.selectionPredicates[b]??=[],c.selectionPredicates[b].push(M),M});return u.selection?d(u.selection):te(u.test||u.filter,g=>g.selection?d(g.selection):g)}class Z9 extends W9{map(c,d){let g=d.selections??[];if(c.params&&!Ap(c)){let b=[];for(let D of c.params)U9(D)?g.push(D):b.push(D);c.params=b}return d.selections=g,super.map(c,eA(c,d))}mapUnit(c,d){let g=d.selections;if(!g||!g.length)return c;let b=(d.path??[]).concat(c.name),D=[];for(let M of g)if(!M.views||!M.views.length)D.push(M);else for(let Q of M.views)(e.isString(Q)&&(Q===c.name||b.indexOf(Q)>=0)||e.isArray(Q)&&Q.map(se=>b.indexOf(se)).every((se,Ve,Xe)=>se!==-1&&(Ve===0||se>Xe[Ve-1])))&&D.push(M);return D.length&&(c.params=D),c}}for(let u of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){let c=Z9.prototype[u];Z9.prototype[u]=function(d,g){return c.call(this,d,eA(d,g))}}function eA(u,c){return u.name?{...c,path:(c.path??[]).concat(u.name)}:c}function a_(u,c){c===void 0&&(c=i_(u.config));let d=UQ(u,c),{width:g,height:b}=u,D=$Q(d,{width:g,height:b,autosize:u.autosize},c);return{...d,...D?{autosize:D}:{}}}let ud=new TQ,x3=new jQ,qQ=new Z9;function UQ(u){let d={config:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}};return qQ.map(ud.map(x3.map(u,d),d),d)}function CL(u){return e.isString(u)?{type:u}:u??{}}function $Q(u,c,d){let{width:g,height:b}=c,D=Ap(u)||s_(u),M={};D?g=="container"&&b=="container"?(M.type="fit",M.contains="padding"):g=="container"?(M.type="fit-x",M.contains="padding"):b=="container"&&(M.type="fit-y",M.contains="padding"):(g=="container"&&(jr(en("width")),g=void 0),b=="container"&&(jr(en("height")),b=void 0));let Q={type:"pad",...M,...d?CL(d.autosize):{},...CL(u.autosize)};if(Q.type==="fit"&&!D&&(jr(ut),Q.type="pad"),g=="container"&&!(Q.type=="fit"||Q.type=="fit-x")&&jr(Dn("width")),b=="container"&&!(Q.type=="fit"||Q.type=="fit-y")&&jr(Dn("height")),!et(Q,{type:"pad"}))return Q}function zQ(u){return u==="fit"||u==="fit-x"||u==="fit-y"}function AL(u){return u?`fit-${hi(u)}`:"fit"}let nm=["background","padding"];function eo(u,c){let d={};for(let g of nm)u&&u[g]!==void 0&&(d[g]=pi(u[g]));return c&&(d.params=u.params),d}class Dp{constructor(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.explicit=c,this.implicit=d}clone(){return new Dp(be(this.explicit),be(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(c){return Ne(this.explicit[c],this.implicit[c])}getWithExplicit(c){return this.explicit[c]!==void 0?{explicit:!0,value:this.explicit[c]}:this.implicit[c]!==void 0?{explicit:!1,value:this.implicit[c]}:{explicit:!1,value:void 0}}setWithExplicit(c,d){let{value:g,explicit:b}=d;g!==void 0&&this.set(c,g,b)}set(c,d,g){return delete this[g?"implicit":"explicit"][c],this[g?"explicit":"implicit"][c]=d,this}copyKeyFromSplit(c,d){let{explicit:g,implicit:b}=d;g[c]!==void 0?this.set(c,g[c],!0):b[c]!==void 0&&this.set(c,b[c],!1)}copyKeyFromObject(c,d){d[c]!==void 0&&this.set(c,d[c],!0)}copyAll(c){for(let d of re(c.combine())){let g=c.getWithExplicit(d);this.setWithExplicit(d,g)}}}function ul(u){return{explicit:!0,value:u}}function b0(u){return{explicit:!1,value:u}}function TL(u){return(c,d,g,b)=>{let D=u(c.value,d.value);return D>0?c:D<0?d:Qo(c,d,g,b)}}function Qo(u,c,d,g){return u.explicit&&c.explicit&&jr(Fi(d,g,u.value,c.value)),u}function o2(u,c,d,g){let b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Qo;return u===void 0||u.value===void 0?c:u.explicit&&!c.explicit?u:c.explicit&&!u.explicit?c:et(u.value,c.value)?u:b(u,c,d,g)}class FL extends Dp{constructor(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;super(c,d);this.explicit=c,this.implicit=d,this.parseNothing=g}clone(){let c=super.clone();return c.parseNothing=this.parseNothing,c}}function rm(u){return"url"in u}function u_(u){return"values"in u}function DL(u){return"name"in u&&!rm(u)&&!u_(u)&&!a2(u)}function a2(u){return u&&(OL(u)||RL(u)||tA(u))}function OL(u){return"sequence"in u}function RL(u){return"sphere"in u}function tA(u){return"graticule"in u}let ja;(function(u){u[u.Raw=0]="Raw",u[u.Main=1]="Main",u[u.Row=2]="Row",u[u.Column=3]="Column",u[u.Lookup=4]="Lookup"})(ja||(ja={}));function ug(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.identity;if(e.isArray(u)){let g=u.map(b=>ug(b,c,d));return c?`[${g.join(", ")}]`:g}else if(Z0(u))return d(c?cf(u):eg(u));return c?d(Je(u)):u}function HQ(u,c){for(let d of Oe(u.component.selection??{})){let g=d.name,b=`${g}${c2}, ${d.resolve==="global"?"true":`{unit: ${b3(u)}}`}`;for(let D of _3)!D.defined(d)||(D.signals&&(c=D.signals(u,d,c)),D.modifyExpr&&(b=D.modifyExpr(u,d,b)));c.push({name:g+cA,on:[{events:{signal:d.name+c2},update:`modify(${e.stringValue(d.name+lg)}, ${b})`}]})}return l_(c)}function VQ(u,c){if(u.component.selection&&re(u.component.selection).length){let d=e.stringValue(u.getName("cell"));c.unshift({name:"facet",value:{},on:[{events:e.parseSelector("mousemove","scope"),update:`isTuple(facet) ? facet : group(${d}).datum`}]})}return l_(c)}function WQ(u,c){let d=!1;for(let g of Oe(u.component.selection??{})){let b=g.name,D=e.stringValue(b+lg);if(c.filter(Q=>Q.name===b).length===0){let Q=g.resolve==="global"?"union":g.resolve,se=g.type==="point"?", true, true)":")";c.push({name:g.name,update:`${KL}(${D}, ${e.stringValue(Q)}${se}`})}d=!0;for(let Q of _3)Q.defined(g)&&Q.topLevelSignals&&(c=Q.topLevelSignals(u,g,c))}return d&&c.filter(b=>b.name==="unit").length===0&&c.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),l_(c)}function QQ(u,c){let d=[...c],g=b3(u,{escape:!1});for(let b of Oe(u.component.selection??{})){let D={name:b.name+lg};if(b.project.hasSelectionId&&(D.transform=[{type:"collect",sort:{field:Tp}}]),b.init){let Q=b.project.items.map(se=>{let{signals:Ve,...Xe}=se;return Xe});D.values=b.project.hasSelectionId?b.init.map(se=>({unit:g,[Tp]:ug(se,!1)[0]})):b.init.map(se=>({unit:g,fields:Q,values:ug(se,!1)}))}d.filter(Q=>Q.name===b.name+lg).length||d.push(D)}return d}function NL(u,c){for(let d of Oe(u.component.selection??{}))for(let g of _3)g.defined(d)&&g.marks&&(c=g.marks(u,d,c));return c}function nA(u,c){for(let d of u.children)mc(d)&&(c=NL(d,c));return c}function GQ(u,c,d,g){let b=ek(u,c.param,c);return{signal:wt(d.get("type"))&&e.isArray(g)&&g[0]>g[1]?`isValid(${b}) && reverse(${b})`:b}}function l_(u){return u.map(c=>(c.on&&!c.on.length&&delete c.on,c))}class Sa{constructor(c,d){this.debugName=d,bn(this,"_children",[]),bn(this,"_parent",null),bn(this,"_hash",void 0),c&&(this.parent=c)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(c){this._parent=c,c&&c.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(c,d){if(this._children.includes(c)){jr(c0);return}d!==void 0?this._children.splice(d,0,c):this._children.push(c)}removeChild(c){let d=this._children.indexOf(c);return this._children.splice(d,1),d}remove(){let c=this._parent.removeChild(this);for(let d of this._children)d._parent=this._parent,this._parent.addChild(d,c++)}insertAsParentOf(c){let d=c.parent;d.removeChild(this),this.parent=d,c.parent=this}swapWithParent(){let c=this._parent,d=c.parent;for(let b of this._children)b.parent=c;this._children=[],c.removeChild(this);let g=c.parent.removeChild(c);this._parent=d,d.addChild(this,g),c.parent=this}}class jf extends Sa{clone(){let c=new this.constructor;return c.debugName=`clone_${this.debugName}`,c._source=this._source,c._name=`clone_${this._name}`,c.type=this.type,c.refCounts=this.refCounts,c.refCounts[c._name]=0,c}constructor(c,d,g,b){super(c,d);this.type=g,this.refCounts=b,bn(this,"_source",void 0),bn(this,"_name",void 0),this._source=this._name=d,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${De()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(c){this._source=c}}class Op extends Sa{clone(){return new Op(null,be(this.formula))}constructor(c,d){super(c);this.formula=d}static makeFromEncoding(c,d){let g=d.reduceFieldDef((b,D)=>{let{field:M,timeUnit:Q}=D;if(Q){let se=fi(D,{forAs:!0});b[lt({as:se,field:M,timeUnit:Q})]={as:se,field:M,timeUnit:Q}}return b},{});return Ke(g)?null:new Op(c,g)}static makeFromTransform(c,d){let{timeUnit:g,...b}={...d},D=xu(g),M={...b,timeUnit:D};return new Op(c,{[lt(M)]:M})}merge(c){this.formula={...this.formula};for(let d in c.formula)this.formula[d]||(this.formula[d]=c.formula[d]);for(let d of c.children)c.removeChild(d),d.parent=this;c.remove()}removeFormulas(c){let d={};for(let[g,b]of nt(this.formula))c.has(b.as)||(d[g]=b);this.formula=d}producedFields(){return new Set(Oe(this.formula).map(c=>c.as))}dependentFields(){return new Set(Oe(this.formula).map(c=>c.field))}hash(){return`TimeUnit ${lt(this.formula)}`}assemble(){let c=[];for(let d of Oe(this.formula)){let{field:g,as:b,timeUnit:D}=d,{unit:M,utc:Q,...se}=xu(D);c.push({field:un(g),type:"timeunit",...M?{units:rl(M)}:{},...Q?{timezone:"utc"}:{},...se,as:[b,`${b}_end`]})}return c}}let Bu="_tuple_fields";class E0{constructor(){bn(this,"hasChannel",void 0),bn(this,"hasField",void 0),bn(this,"hasSelectionId",void 0),bn(this,"timeUnit",void 0),bn(this,"items",void 0);for(var c=arguments.length,d=new Array(c),g=0;g<c;g++)d[g]=arguments[g];this.items=d,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}let YQ={defined:()=>!0,parse:(u,c,d)=>{let g=c.name,b=c.project??=new E0,D={},M={},Q=new Set,se=(Xn,lr)=>{let pr=lr==="visual"?Xn.channel:Xn.field,kr=Ot(`${g}_${pr}`);for(let Ni=1;Q.has(kr);Ni++)kr=Ot(`${g}_${pr}_${Ni}`);return Q.add(kr),{[lr]:kr}},Ve=c.type,Xe=u.config.selection[Ve],qt=d.value!==void 0?e.array(d.value):null,{fields:on,encodings:In}=e.isObject(d.select)?d.select:{};if(!on&&!In&&qt){for(let Xn of qt)if(!!e.isObject(Xn))for(let lr of re(Xn))Vr(lr)?(In||(In=[])).push(lr):Ve==="interval"?(jr(Q0),In=Xe.encodings):(on||(on=[])).push(lr)}!on&&!In&&(In=Xe.encodings,"fields"in Xe&&(on=Xe.fields));for(let Xn of In??[]){let lr=u.fieldDef(Xn);if(lr){let pr=lr.field;if(lr.aggregate){jr(es(Xn,lr.aggregate));continue}else if(!pr){jr(dr(Xn));continue}if(lr.timeUnit){pr=u.vgField(Xn);let kr={timeUnit:lr.timeUnit,as:pr,field:lr.field};M[lt(kr)]=kr}if(!D[pr]){let kr="E";if(Ve==="interval"){let Ui=u.getScaleComponent(Xn).get("type");wt(Ui)&&(kr="R")}else lr.bin&&(kr="R-RE");let Ni={field:pr,channel:Xn,type:kr};Ni.signals={...se(Ni,"data"),...se(Ni,"visual")},b.items.push(D[pr]=Ni),b.hasField[pr]=b.hasChannel[Xn]=D[pr],b.hasSelectionId=b.hasSelectionId||pr===Tp}}else jr(dr(Xn))}for(let Xn of on??[]){if(b.hasField[Xn])continue;let lr={type:"E",field:Xn};lr.signals={...se(lr,"data")},b.items.push(lr),b.hasField[Xn]=lr,b.hasSelectionId=b.hasSelectionId||Xn===Tp}qt&&(c.init=qt.map(Xn=>b.items.map(lr=>e.isObject(Xn)?Xn[lr.channel]!==void 0?Xn[lr.channel]:Xn[lr.field]:Xn))),Ke(M)||(b.timeUnit=new Op(null,M))},signals:(u,c,d)=>{let g=c.name+Bu;return d.filter(D=>D.name===g).length>0||c.project.hasSelectionId?d:d.concat({name:g,value:c.project.items.map(D=>{let{signals:M,hasLegend:Q,...se}=D;return se.field=un(se.field),se})})}},u2={defined:u=>u.type==="interval"&&u.resolve==="global"&&u.bind&&u.bind==="scales",parse:(u,c)=>{let d=c.scales=[];for(let g of c.project.items){let b=g.channel;if(!Ii(b))continue;let D=u.getScaleComponent(b),M=D?D.get("type"):void 0;if(!D||!wt(M)){jr(Za);continue}D.set("selectionExtent",{param:c.name,field:g.field},!0),d.push(g)}},topLevelSignals:(u,c,d)=>{let g=c.scales.filter(M=>d.filter(Q=>Q.name===M.signals.data).length===0);if(!u.parent||iA(u)||g.length===0)return d;let b=d.filter(M=>M.name===c.name)[0],D=b.update;if(D.indexOf(KL)>=0)b.update=`{${g.map(M=>`${e.stringValue(un(M.field))}: ${M.signals.data}`).join(", ")}}`;else{for(let M of g){let Q=`${e.stringValue(un(M.field))}: ${M.signals.data}`;D.includes(Q)||(D=`${D.substring(0,D.length-1)}, ${Q}}`)}b.update=D}return d.concat(g.map(M=>({name:M.signals.data})))},signals:(u,c,d)=>{if(u.parent&&!iA(u))for(let g of c.scales){let b=d.filter(D=>D.name===g.signals.data)[0];b.push="outer",delete b.value,delete b.update}return d}};function rA(u,c){return`domain(${e.stringValue(u.scaleName(c))})`}function iA(u){return u.parent&&e7(u.parent)&&!u.parent.parent}let g3="_brush",sA="_scale_trigger",KQ={defined:u=>u.type==="interval",signals:(u,c,d)=>{let g=c.name,b=g+Bu,D=u2.defined(c),M=c.init?c.init[0]:null,Q=[],se=[];if(c.translate&&!D){let Xe=`!event.item || event.item.mark.name !== ${e.stringValue(g+g3)}`;kL(c,(qt,on)=>{let In=e.array(on.between[0].filter??=[]);return In.includes(Xe)||In.push(Xe),qt})}c.project.items.forEach((Xe,qt)=>{let on=Xe.channel;if(on!==Nn&&on!==nr){jr("Interval selections only support x and y encoding channels.");return}let In=M?M[qt]:null,Xn=LL(u,c,Xe,In),lr=Xe.signals.data,pr=Xe.signals.visual,kr=e.stringValue(u.scaleName(on)),Ni=u.getScaleComponent(on).get("type"),Ui=wt(Ni)?"+":"";d.push(...Xn),Q.push(lr),se.push({scaleName:u.scaleName(on),expr:`(!isArray(${lr}) || (${Ui}invert(${kr}, ${pr})[0] === ${Ui}${lr}[0] && ${Ui}invert(${kr}, ${pr})[1] === ${Ui}${lr}[1]))`})}),!D&&se.length&&d.push({name:g+sA,value:{},on:[{events:se.map(Xe=>({scale:Xe.scaleName})),update:`${se.map(Xe=>Xe.expr).join(" && ")} ? ${g+sA} : {}`}]});let Ve=`unit: ${b3(u)}, fields: ${b}, values`;return d.concat({name:g+c2,...M?{init:`{${Ve}: ${ug(M)}}`}:{},...Q.length?{on:[{events:[{signal:Q.join(" || ")}],update:`${Q.join(" && ")} ? {${Ve}: [${Q}]} : null`}]}:{}})},marks:(u,c,d)=>{let g=c.name,{x:b,y:D}=c.project.hasChannel,M=b==null?void 0:b.signals.visual,Q=D==null?void 0:D.signals.visual,se=`data(${e.stringValue(c.name+lg)})`;if(u2.defined(c)||!b&&!D)return d;let Ve={x:b!==void 0?{signal:`${M}[0]`}:{value:0},y:D!==void 0?{signal:`${Q}[0]`}:{value:0},x2:b!==void 0?{signal:`${M}[1]`}:{field:{group:"width"}},y2:D!==void 0?{signal:`${Q}[1]`}:{field:{group:"height"}}};if(c.resolve==="global")for(let lr of re(Ve))Ve[lr]=[{test:`${se}.length && ${se}[0].unit === ${b3(u)}`,...Ve[lr]},{value:0}];let{fill:Xe,fillOpacity:qt,cursor:on,...In}=c.mark,Xn=re(In).reduce((lr,pr)=>(lr[pr]=[{test:[b!==void 0&&`${M}[0] !== ${M}[1]`,D!==void 0&&`${Q}[0] !== ${Q}[1]`].filter(kr=>kr).join(" && "),value:In[pr]},{value:null}],lr),{});return[{name:`${g+g3}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:Xe},fillOpacity:{value:qt}},update:Ve}},...d,{name:g+g3,type:"rect",clip:!0,encode:{enter:{...on?{cursor:{value:on}}:{},fill:{value:"transparent"}},update:{...Ve,...Xn}}}]}};function LL(u,c,d,g){let b=d.channel,D=d.signals.visual,M=d.signals.data,Q=u2.defined(c),se=e.stringValue(u.scaleName(b)),Ve=u.getScaleComponent(b),Xe=Ve?Ve.get("type"):void 0,qt=lr=>`scale(${se}, ${lr})`,on=u.getSizeSignalRef(b===Nn?"width":"height").signal,In=`${b}(unit)`,Xn=kL(c,(lr,pr)=>[...lr,{events:pr.between[0],update:`[${In}, ${In}]`},{events:pr,update:`[${D}[0], clamp(${In}, 0, ${on})]`}]);return Xn.push({events:{signal:c.name+sA},update:wt(Xe)?`[${qt(`${M}[0]`)}, ${qt(`${M}[1]`)}]`:"[0, 0]"}),Q?[{name:M,on:[]}]:[{name:D,...g?{init:ug(g,!0,qt)}:{value:[]},on:Xn},{name:M,...g?{init:ug(g)}:{},on:[{events:{signal:D},update:`${D}[0] === ${D}[1] ? null : invert(${se}, ${D})`}]}]}function kL(u,c){return u.events.reduce((d,g)=>g.between?c(d,g):(jr(`${g} is not an ordered event stream for interval selections.`),d),[])}let JQ={defined:u=>u.type==="point",signals:(u,c,d)=>{let g=c.name,b=g+Bu,D=c.project,M="(item().isVoronoi ? datum.datum : datum)",Q=Oe(u.component.selection??{}).reduce((qt,on)=>on.type==="interval"?qt.concat(on.name+g3):qt,[]).map(qt=>`indexof(item().mark.name, '${qt}') < 0`).join(" && "),se=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${Q?` && ${Q}`:""}`,Ve=`unit: ${b3(u)}, `;if(c.project.hasSelectionId)Ve+=`${Tp}: ${M}[${e.stringValue(Tp)}]`;else{let qt=D.items.map(on=>{let In=u.fieldDef(on.channel);return In!=null&&In.bin?`[${M}[${e.stringValue(u.vgField(on.channel,{}))}], ${M}[${e.stringValue(u.vgField(on.channel,{binSuffix:"end"}))}]]`:`${M}[${e.stringValue(on.field)}]`}).join(", ");Ve+=`fields: ${b}, values: [${qt}]`}let Xe=c.events;return d.concat([{name:g+c2,on:Xe?[{events:Xe,update:`${se} ? {${Ve}} : null`,force:!0}]:[]}])}};function y3(u,c,d,g){let b=js(c)&&c.condition,D=g(c);if(b){let Q=e.array(b).map(se=>{let Ve=g(se);if(v0(se)){let{param:Xe,empty:qt}=se;return{test:KE(u,{param:Xe,empty:qt}),...Ve}}else return{test:JE(u,se.test),...Ve}});return{[d]:[...Q,...D!==void 0?[D]:[]]}}else return D!==void 0?{[d]:D}:{}}function zE(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"text",d=u.encoding[c];return y3(u,d,c,g=>c_(g,u.config))}function c_(u,c){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"datum";if(u){if(Yd(u))return qr(u.value);if(ks(u)){let{format:g,formatType:b}=TE(u);return ds({fieldOrDatumDef:u,format:g,formatType:b,expr:d,config:c})}}}function IL(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{encoding:d,markDef:g,config:b,stack:D}=u,M=d.tooltip;if(e.isArray(M))return{tooltip:PL({tooltip:M},D,b,c)};{let Q=c.reactiveGeom?"datum.datum":"datum";return y3(u,M,"tooltip",se=>{let Ve=c_(se,b,Q);if(Ve)return Ve;if(se===null)return;let Xe=vi("tooltip",g,b);if(Xe===!0&&(Xe={content:"encoding"}),e.isString(Xe))return{value:Xe};if(e.isObject(Xe))return $n(Xe)?Xe:Xe.content==="encoding"?PL(d,D,b,c):{signal:Q}})}}function ML(u,c,d){let{reactiveGeom:g}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},b={},D=g?"datum.datum":"datum",M=[];function Q(Ve,Xe){let qt=ai(Xe),on=Gd(Ve)?Ve:{...Ve,type:u[qt].type},In=on.title||AE(on,d),Xn=e.array(In).join(", "),lr;if(us(Xe)){let pr=Xe==="x"?"x2":"y2",kr=jh(u[pr]);if(is(on.bin)&&kr){let Ni=fi(on,{expr:D}),Ui=fi(kr,{expr:D}),{format:Rs,formatType:ji}=TE(on);lr=Ta(Ni,Ui,Rs,ji,d),b[pr]=!0}}if((us(Xe)||Xe===hn||Xe===rt)&&c&&c.fieldChannel===Xe&&c.offset==="normalize"){let{format:pr,formatType:kr}=TE(on);lr=ds({fieldOrDatumDef:on,format:pr,formatType:kr,expr:D,config:d,normalizeStack:!0}).signal}lr??=c_(on,d,D).signal,M.push({channel:Xe,key:Xn,value:lr})}R9(u,(Ve,Xe)=>{Er(Ve)?Q(Ve,Xe):Eo(Ve)&&Q(Ve.condition,Xe)});let se={};for(let{channel:Ve,key:Xe,value:qt}of M)!b[Ve]&&!se[Xe]&&(se[Xe]=qt);return se}function PL(u,c,d){let{reactiveGeom:g}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},b=ML(u,c,d,{reactiveGeom:g}),D=nt(b).map(M=>{let[Q,se]=M;return`"${Q}": ${se}`});return D.length>0?{signal:`{${D.join(", ")}}`}:void 0}function XQ(u){let{markDef:c,config:d}=u,g=vi("aria",c,d);return g===!1?{}:{...g?{aria:g}:{},...v3(u),...ZQ(u)}}function v3(u){let{mark:c,markDef:d,config:g}=u;if(g.aria===!1)return{};let b=vi("ariaRoleDescription",d,g);return b!=null?{ariaRoleDescription:{value:b}}:c in Rr?{}:{ariaRoleDescription:{value:c}}}function ZQ(u){let{encoding:c,markDef:d,config:g,stack:b}=u,D=c.description;if(D)return y3(u,D,"description",se=>c_(se,u.config));let M=vi("description",d,g);if(M!=null)return{description:qr(M)};if(g.aria===!1)return{};let Q=ML(c,b,g);if(!Ke(Q))return{description:{signal:nt(Q).map((se,Ve)=>{let[Xe,qt]=se;return`"${Ve>0?"; ":""}${Xe}: " + (${qt})`}).join(" + ")}}}function pc(u,c){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{markDef:g,encoding:b,config:D}=c,{vgChannel:M}=d,{defaultRef:Q,defaultValue:se}=d;Q===void 0&&(se??=vi(u,g,D,{vgChannel:M,ignoreVgConfig:!0}),se!==void 0&&(Q=qr(se)));let Ve=b[u];return y3(c,Ve,M??u,Xe=>Kr({channel:u,channelDef:Xe,markDef:g,config:D,scaleName:c.scaleName(u),scale:c.getScaleComponent(u),stack:null,defaultRef:Q}))}function BL(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{filled:void 0},{markDef:d,encoding:g,config:b}=u,{type:D}=d,M=c.filled??vi("filled",d,b),Q=Ct(["bar","point","circle","square","geoshape"],D)?"transparent":void 0,se=vi(M===!0?"color":void 0,d,b,{vgChannel:"fill"})??b.mark[M===!0&&"color"]??Q,Ve=vi(M===!1?"color":void 0,d,b,{vgChannel:"stroke"})??b.mark[M===!1&&"color"],Xe=M?"fill":"stroke",qt={...se?{fill:qr(se)}:{},...Ve?{stroke:qr(Ve)}:{}};return d.color&&(M?d.fill:d.stroke)&&jr(h0("property",{fill:"fill"in d,stroke:"stroke"in d})),{...qt,...pc("color",u,{vgChannel:Xe,defaultValue:M?se:Ve}),...pc("fill",u,{defaultValue:g.fill?se:void 0}),...pc("stroke",u,{defaultValue:g.stroke?Ve:void 0})}}function eG(u){let{encoding:c,mark:d}=u,g=c.order;return!pf(d)&&Yd(g)?y3(u,g,"zindex",b=>qr(b.value)):{}}function f_(u){let{channel:c,markDef:d,encoding:g={},model:b,bandPosition:D}=u,M=`${c}Offset`,Q=d[M],se=g[M];if((M==="xOffset"||M==="yOffset")&&se){let Xe=Kr({channel:M,channelDef:se,markDef:d,config:b==null?void 0:b.config,scaleName:b.scaleName(M),scale:b.getScaleComponent(M),stack:null,defaultRef:qr(Q),bandPosition:D});return{offsetType:"encoding",offset:Xe}}let Ve=d[M];return Ve?{offsetType:"visual",offset:Ve}:{}}function Uc(u,c,d){let{defaultPos:g,vgChannel:b}=d,{encoding:D,markDef:M,config:Q,stack:se}=c,Ve=D[u],Xe=D[ws(u)],qt=c.scaleName(u),on=c.getScaleComponent(u),{offset:In,offsetType:Xn}=f_({channel:u,markDef:M,encoding:D,model:c,bandPosition:.5}),lr=oA({model:c,defaultPos:g,channel:u,scaleName:qt,scale:on}),pr=!Ve&&us(u)&&(D.latitude||D.longitude)?{field:c.getName(u)}:jL({channel:u,channelDef:Ve,channel2Def:Xe,markDef:M,config:Q,scaleName:qt,scale:on,stack:se,offset:In,defaultRef:lr,bandPosition:Xn==="encoding"?0:void 0});return pr?{[b||u]:pr}:void 0}function jL(u){let{channel:c,channelDef:d,scaleName:g,stack:b,offset:D,markDef:M}=u;if(ks(d)&&b&&c===b.fieldChannel){if(Er(d)){let Q=d.bandPosition;if(Q===void 0&&M.type==="text"&&(c==="radius"||c==="theta")&&(Q=.5),Q!==void 0)return Or({scaleName:g,fieldOrDatumDef:d,startSuffix:"start",bandPosition:Q,offset:D})}return or(d,g,{suffix:"end"},{offset:D})}return zt(u)}function oA(u){let{model:c,defaultPos:d,channel:g,scaleName:b,scale:D}=u,{markDef:M,config:Q}=c;return()=>{let se=ai(g),Ve=Xi(g),Xe=vi(g,M,Q,{vgChannel:Ve});if(Xe!==void 0)return Lr(g,Xe);switch(d){case"zeroOrMin":case"zeroOrMax":if(b){let qt=D.get("type");if(!Ct([sl.LOG,sl.TIME,sl.UTC],qt)){if(D.domainDefinitelyIncludesZero())return{scale:b,value:0}}}if(d==="zeroOrMin")return se==="y"?{field:{group:"height"}}:{value:0};switch(se){case"radius":return{signal:`min(${c.width.signal},${c.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":return{...c[ts(g)],mult:.5}}}}let tG={left:"x",center:"xc",right:"x2"},nG={top:"y",middle:"yc",bottom:"y2"};function qL(u,c,d){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle";if(u==="radius"||u==="theta")return Xi(u);let b=u==="x"?"align":"baseline",D=vi(b,c,d),M;return $n(D)?(jr(Is(b)),M=void 0):M=D,u==="x"?tG[M||(g==="top"?"left":"center")]:nG[M||g]}function HE(u,c,d){let{defaultPos:g,defaultPos2:b,range:D}=d;return D?UL(u,c,{defaultPos:g,defaultPos2:b}):Uc(u,c,{defaultPos:g})}function UL(u,c,d){let{defaultPos:g,defaultPos2:b}=d,{markDef:D,config:M}=c,Q=ws(u),se=ts(u),Ve=rG(c,b,Q),Xe=Ve[se]?qL(u,D,M):Xi(u);return{...Uc(u,c,{defaultPos:g,vgChannel:Xe}),...Ve}}function rG(u,c,d){let{encoding:g,mark:b,markDef:D,stack:M,config:Q}=u,se=ai(d),Ve=ts(d),Xe=Xi(d),qt=g[se],on=u.scaleName(se),In=u.getScaleComponent(se),{offset:Xn}=d in g||d in D?f_({channel:d,markDef:D,encoding:g,model:u}):f_({channel:se,markDef:D,encoding:g,model:u});if(!qt&&(d==="x2"||d==="y2")&&(g.latitude||g.longitude)){let pr=ts(d),kr=u.markDef[pr];return kr!=null?{[pr]:{value:kr}}:{[Xe]:{field:u.getName(d)}}}let lr=iG({channel:d,channelDef:qt,channel2Def:g[d],markDef:D,config:Q,scaleName:on,scale:In,stack:M,offset:Xn,defaultRef:void 0});return lr!==void 0?{[Xe]:lr}:VE(d,D)||VE(d,{[d]:ss(d,D,Q.style),[Ve]:ss(Ve,D,Q.style)})||VE(d,Q[b])||VE(d,Q.mark)||{[Xe]:oA({model:u,defaultPos:c,channel:d,scaleName:on,scale:In})()}}function iG(u){let{channel:c,channelDef:d,channel2Def:g,markDef:b,config:D,scaleName:M,scale:Q,stack:se,offset:Ve,defaultRef:Xe}=u;return ks(d)&&se&&c.charAt(0)===se.fieldChannel.charAt(0)?or(d,M,{suffix:"start"},{offset:Ve}):zt({channel:c,channelDef:g,scaleName:M,scale:Q,stack:se,markDef:b,config:D,offset:Ve,defaultRef:Xe})}function VE(u,c){let d=ts(u),g=Xi(u);if(c[g]!==void 0)return{[g]:Lr(u,c[g])};if(c[u]!==void 0)return{[g]:Lr(u,c[u])};if(c[d]){let b=c[d];if(x(b))jr(Uo(d));else return{[d]:Lr(u,b)}}}function l2(u,c){let{config:d,encoding:g,markDef:b}=u,D=b.type,M=ws(c),Q=ts(c),se=g[c],Ve=g[M],Xe=u.getScaleComponent(c),qt=Xe?Xe.get("type"):void 0,on=b.orient,In=g[Q]??g.size??vi("size",b,d,{vgChannel:Q}),Xn=D==="bar"&&(c==="x"?on==="vertical":on==="horizontal");return Er(se)&&(mr(se.bin)||is(se.bin)||se.timeUnit&&!Ve)&&!(In&&!x(In))&&!Pe(qt)?aG({fieldDef:se,fieldDef2:Ve,channel:c,model:u}):(ks(se)&&Pe(qt)||Xn)&&!Ve?oG(se,c,u):UL(c,u,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function sG(u,c,d,g,b){if(x(b))if(d){let M=d.get("type");if(M==="band"){let Q=`bandwidth('${c}')`;return b.band!==1&&(Q=`${b.band} * ${Q}`),{signal:`max(0.25, ${Q})`}}else b.band!==1&&(jr(je(M)),b=void 0)}else return{mult:b.band,field:{group:u}};else{if($n(b))return b;if(b)return{value:b}}if(d){let M=d.get("range");if(br(M)&&e.isNumber(M.step))return{value:M.step-2}}return{value:PE(g.view,u)-2}}function oG(u,c,d){let{markDef:g,encoding:b,config:D,stack:M}=d,Q=g.orient,se=d.scaleName(c),Ve=d.getScaleComponent(c),Xe=ts(c),qt=ws(c),on=Aa(c),In=d.scaleName(on),Xn=Q==="horizontal"&&c==="y"||Q==="vertical"&&c==="x",lr;(b.size||g.size)&&(Xn?lr=pc("size",d,{vgChannel:Xe,defaultRef:qr(g.size)}):jr(kn(g.type)));let pr=!!lr,kr=Z1({channel:c,fieldDef:u,markDef:g,config:D,scaleType:Ve==null?void 0:Ve.get("type"),useVlSizeChannel:Xn});lr=lr||{[Xe]:sG(Xe,In||se,Ve,D,kr)};let Ni=(Ve==null?void 0:Ve.get("type"))==="band"&&x(kr)&&!pr?"top":"middle",Ui=qL(c,g,D,Ni),Rs=Ui==="xc"||Ui==="yc",{offset:ji,offsetType:ia}=f_({channel:c,markDef:g,encoding:b,model:d,bandPosition:Rs?.5:0}),as=zt({channel:c,channelDef:u,markDef:g,config:D,scaleName:se,scale:Ve,stack:M,offset:ji,defaultRef:oA({model:d,defaultPos:"mid",channel:c,scaleName:se,scale:Ve}),bandPosition:Rs?ia==="encoding"?0:.5:$n(kr)?{signal:`(1-${kr})/2`}:x(kr)?(1-kr.band)/2:0});if(Xe)return{[Ui]:as,...lr};{let ll=Xi(qt),Ol=lr[Xe],xc=ji?{...Ol,offset:ji}:Ol;return{[Ui]:as,[ll]:e.isArray(as)?[as[0],{...as[1],offset:xc}]:{...as,offset:xc}}}}function d_(u,c,d,g,b){if(ae(u))return 0;let D=u==="x"||u==="y2"?-c/2:c/2;if($n(d)||$n(b)||$n(g)){let M=gi(d),Q=gi(b),se=gi(g),Ve=se?`${se} + `:"",Xe=M?`(${M} ? -1 : 1) * `:"",qt=Q?`(${Q} + ${D})`:D;return{signal:Ve+Xe+qt}}else return b=b||0,g+(d?-b-D:+b+D)}function aG(u){var c;let{fieldDef:d,fieldDef2:g,channel:b,model:D}=u,{config:M,markDef:Q,encoding:se}=D,Ve=D.getScaleComponent(b),Xe=D.scaleName(b),qt=Ve?Ve.get("type"):void 0,on=Ve.get("reverse"),In=Z1({channel:b,fieldDef:d,markDef:Q,config:M,scaleType:qt}),Xn=(c=D.component.axes[b])===null||c===void 0?void 0:c[0],lr=(Xn==null?void 0:Xn.get("translate"))??.5,pr=us(b)?vi("binSpacing",Q,M)??0:0,kr=ws(b),Ni=Xi(b),Ui=Xi(kr),{offset:Rs}=f_({channel:b,markDef:Q,encoding:se,model:D,bandPosition:0}),ji=$n(In)?{signal:`(1-${In.signal})/2`}:x(In)?(1-In.band)/2:.5;if(mr(d.bin)||d.timeUnit)return{[Ui]:$L({fieldDef:d,scaleName:Xe,bandPosition:ji,offset:d_(kr,pr,on,lr,Rs)}),[Ni]:$L({fieldDef:d,scaleName:Xe,bandPosition:$n(ji)?{signal:`1-${ji.signal}`}:1-ji,offset:d_(b,pr,on,lr,Rs)})};if(is(d.bin)){let ia=or(d,Xe,{},{offset:d_(kr,pr,on,lr,Rs)});if(Er(g))return{[Ui]:ia,[Ni]:or(g,Xe,{},{offset:d_(b,pr,on,lr,Rs)})};if(Ie(d.bin)&&d.bin.step)return{[Ui]:ia,[Ni]:{signal:`scale("${Xe}", ${fi(d,{expr:"datum"})} + ${d.bin.step})`,offset:d_(b,pr,on,lr,Rs)}}}jr(cc(kr))}function $L(u){let{fieldDef:c,scaleName:d,bandPosition:g,offset:b}=u;return Or({scaleName:d,fieldOrDatumDef:c,bandPosition:g,offset:b})}let uG=new Set(["aria","width","height"]);function Xd(u,c){let{fill:d=void 0,stroke:g=void 0}=c.color==="include"?BL(u):{};return{...lG(u.markDef,c),...zL(u,"fill",d),...zL(u,"stroke",g),...pc("opacity",u),...pc("fillOpacity",u),...pc("strokeOpacity",u),...pc("strokeWidth",u),...pc("strokeDash",u),...eG(u),...IL(u),...zE(u,"href"),...XQ(u)}}function zL(u,c,d){let{config:g,mark:b,markDef:D}=u;if(vi("invalid",D,g)==="hide"&&d&&!pf(b)){let Q=cG(u,{invalid:!0,channels:vs});if(Q)return{[c]:[{test:Q,value:null},...e.array(d)]}}return d?{[c]:d}:{}}function lG(u,c){return gr.reduce((d,g)=>(!uG.has(g)&&u[g]!==void 0&&c[g]!=="ignore"&&(d[g]=qr(u[g])),d),{})}function cG(u,c){let{invalid:d=!1,channels:g}=c,b=g.reduce((M,Q)=>{let se=u.getScaleComponent(Q);if(se){let Ve=se.get("type"),Xe=u.vgField(Q,{expr:"datum"});Xe&&wt(Ve)&&(M[Xe]=!0)}return M},{}),D=re(b);if(D.length>0){let M=d?"||":"&&";return D.map(Q=>Pn(Q,d)).join(` ${M} `)}}function aA(u){let{config:c,markDef:d}=u;if(vi("invalid",d,c)){let b=fG(u,{channels:io});if(b)return{defined:{signal:b}}}return{}}function fG(u,c){let{invalid:d=!1,channels:g}=c,b=g.reduce((M,Q)=>{let se=u.getScaleComponent(Q);if(se){var Ve;let Xe=se.get("type"),qt=u.vgField(Q,{expr:"datum",binSuffix:(Ve=u.stack)!==null&&Ve!==void 0&&Ve.impute?"mid":void 0});qt&&wt(Xe)&&(M[qt]=!0)}return M},{}),D=re(b);if(D.length>0){let M=d?"||":"&&";return D.map(Q=>Pn(Q,d)).join(` ${M} `)}}function HL(u,c){if(c!==void 0)return{[u]:qr(c)}}let uA="voronoi",VL={defined:u=>u.type==="point"&&u.nearest,parse:(u,c)=>{if(c.events)for(let d of c.events)d.markname=u.getName(uA)},marks:(u,c,d)=>{let{x:g,y:b}=c.project.hasChannel,D=u.mark;if(pf(D))return jr(_s(D)),d;let M={name:u.getName(uA),type:"path",interactive:!0,from:{data:u.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...IL(u,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:g||!b?"datum.datum.x || 0":"0"},y:{expr:b||!g?"datum.datum.y || 0":"0"},size:[u.getSizeSignalRef("width"),u.getSizeSignalRef("height")]}]},Q=0,se=!1;return d.forEach((Ve,Xe)=>{let qt=Ve.name??"";qt===u.component.mark[0].name?Q=Xe:qt.indexOf(uA)>=0&&(se=!0)}),se||d.splice(Q+1,0,M),d}},WE={defined:u=>u.type==="point"&&u.resolve==="global"&&u.bind&&u.bind!=="scales"&&!j9(u.bind),parse:(u,c,d)=>JL(c,d),topLevelSignals:(u,c,d)=>{let g=c.name,b=c.project,D=c.bind,M=c.init&&c.init[0],Q=VL.defined(c)?"(item().isVoronoi ? datum.datum : datum)":"datum";return b.items.forEach((se,Ve)=>{let Xe=Ot(`${g}_${se.field}`);d.filter(on=>on.name===Xe).length||d.unshift({name:Xe,...M?{init:ug(M[Ve])}:{value:null},on:c.events?[{events:c.events,update:`datum && item().mark.marktype !== 'group' ? ${Q}[${e.stringValue(se.field)}] : null`}]:[],bind:D[se.field]??D[se.channel]??D})}),d},signals:(u,c,d)=>{let g=c.name,b=c.project,D=d.filter(Ve=>Ve.name===g+c2)[0],M=g+Bu,Q=b.items.map(Ve=>Ot(`${g}_${Ve.field}`)),se=Q.map(Ve=>`${Ve} !== null`).join(" && ");return Q.length&&(D.update=`${se} ? {fields: ${M}, values: [${Q.join(", ")}]} : null`),delete D.value,delete D.on,d}},h_="_toggle",lA={defined:u=>u.type==="point"&&!!u.toggle,signals:(u,c,d)=>d.concat({name:c.name+h_,value:!1,on:[{events:c.events,update:c.toggle}]}),modifyExpr:(u,c)=>{let d=c.name+c2,g=c.name+h_;return`${g} ? null : ${d}, `+(c.resolve==="global"?`${g} ? null : true, `:`${g} ? null : {unit: ${b3(u)}}, `)+`${g} ? ${d} : null`}},dG={defined:u=>u.clear!==void 0&&u.clear!==!1,parse:(u,c)=>{c.clear&&(c.clear=e.isString(c.clear)?e.parseSelector(c.clear,"view"):c.clear)},topLevelSignals:(u,c,d)=>{if(WE.defined(c))for(let g of c.project.items){let b=d.findIndex(D=>D.name===Ot(`${c.name}_${g.field}`));b!==-1&&d[b].on.push({events:c.clear,update:"null"})}return d},signals:(u,c,d)=>{function g(b,D){b!==-1&&d[b].on&&d[b].on.push({events:c.clear,update:D})}if(c.type==="interval")for(let b of c.project.items){let D=d.findIndex(M=>M.name===b.signals.visual);if(g(D,"[0, 0]"),D===-1){let M=d.findIndex(Q=>Q.name===b.signals.data);g(M,"null")}}else{let b=d.findIndex(D=>D.name===c.name+c2);g(b,"null"),lA.defined(c)&&(b=d.findIndex(D=>D.name===c.name+h_),g(b,"false"))}return d}},WL={defined:u=>{let c=u.resolve==="global"&&u.bind&&j9(u.bind),d=u.project.items.length===1&&u.project.items[0].field!==Tp;return c&&!d&&jr(sc),c&&d},parse:(u,c,d)=>{let g=be(d);if(g.select=e.isString(g.select)?{type:g.select,toggle:c.toggle}:{...g.select,toggle:c.toggle},JL(c,g),e.isObject(d.select)&&(d.select.on||d.select.clear)){let M='event.item && indexof(event.item.mark.role, "legend") < 0';for(let Q of c.events)Q.filter=e.array(Q.filter??[]),Q.filter.includes(M)||Q.filter.push(M)}let b=q9(c.bind)?c.bind.legend:"click",D=e.isString(b)?e.parseSelector(b,"view"):e.array(b);c.bind={legend:{merge:D}}},topLevelSignals:(u,c,d)=>{let g=c.name,b=q9(c.bind)&&c.bind.legend,D=M=>Q=>{let se=be(Q);return se.markname=M,se};for(let M of c.project.items){if(!M.hasLegend)continue;let Q=`${Ot(M.field)}_legend`,se=`${g}_${Q}`;if(d.filter(Xe=>Xe.name===se).length===0){let Xe=b.merge.map(D(`${Q}_symbols`)).concat(b.merge.map(D(`${Q}_labels`))).concat(b.merge.map(D(`${Q}_entries`)));d.unshift({name:se,...c.init?{}:{value:null},on:[{events:Xe,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:b.merge,update:`!event.item || !datum ? null : ${se}`,force:!0}]})}}return d},signals:(u,c,d)=>{let g=c.name,b=c.project,D=d.find(on=>on.name===g+c2),M=g+Bu,Q=b.items.filter(on=>on.hasLegend).map(on=>Ot(`${g}_${Ot(on.field)}_legend`)),Ve=`${Q.map(on=>`${on} !== null`).join(" && ")} ? {fields: ${M}, values: [${Q.join(", ")}]} : null`;c.events&&Q.length>0?D.on.push({events:Q.map(on=>({signal:on})),update:Ve}):Q.length>0&&(D.update=Ve,delete D.value,delete D.on);let Xe=d.find(on=>on.name===g+h_),qt=q9(c.bind)&&c.bind.legend;return Xe&&(c.events?Xe.on.push({...Xe.on[0],events:qt}):Xe.on[0].events=qt),d}};function hG(u,c,d){var g;let b=(g=u.fieldDef(c))===null||g===void 0?void 0:g.field;for(let D of Oe(u.component.selection??{})){let M=D.project.hasField[b]??D.project.hasChannel[c];if(M&&WL.defined(D)){let Q=d.get("selections")??[];Q.push(D.name),d.set("selections",Q,!1),M.hasLegend=!0}}}let QE="_translate_anchor",QL="_translate_delta",pG={defined:u=>u.type==="interval"&&u.translate,signals:(u,c,d)=>{let g=c.name,b=u2.defined(c),D=g+QE,{x:M,y:Q}=c.project.hasChannel,se=e.parseSelector(c.translate,"scope");return b||(se=se.map(Ve=>(Ve.between[0].markname=g+g3,Ve))),d.push({name:D,value:{},on:[{events:se.map(Ve=>Ve.between[0]),update:"{x: x(unit), y: y(unit)"+(M!==void 0?`, extent_x: ${b?rA(u,Nn):`slice(${M.signals.visual})`}`:"")+(Q!==void 0?`, extent_y: ${b?rA(u,nr):`slice(${Q.signals.visual})`}`:"")+"}"}]},{name:g+QL,value:{},on:[{events:se,update:`{x: ${D}.x - x(unit), y: ${D}.y - y(unit)}`}]}),M!==void 0&&GL(u,c,M,"width",d),Q!==void 0&&GL(u,c,Q,"height",d),d}};function GL(u,c,d,g,b){let D=c.name,M=D+QE,Q=D+QL,se=d.channel,Ve=u2.defined(c),Xe=b.filter(ji=>ji.name===d.signals[Ve?"data":"visual"])[0],qt=u.getSizeSignalRef(g).signal,on=u.getScaleComponent(se),In=on.get("type"),Xn=on.get("reverse"),lr=Ve?se===Nn?Xn?"":"-":Xn?"-":"":"",pr=`${M}.extent_${se}`,kr=`${lr}${Q}.${se} / ${Ve?`${qt}`:`span(${pr})`}`,Ni=Ve?In==="log"?"panLog":In==="symlog"?"panSymlog":In==="pow"?"panPow":"panLinear":"panLinear",Ui=Ve?In==="pow"?`, ${on.get("exponent")??1}`:In==="symlog"?`, ${on.get("constant")??1}`:"":"",Rs=`${Ni}(${pr}, ${kr}${Ui})`;Xe.on.push({events:{signal:Q},update:Ve?Rs:`clampRange(${Rs}, 0, ${qt})`})}let qf="_zoom_anchor",GE="_zoom_delta",mG={defined:u=>u.type==="interval"&&u.zoom,signals:(u,c,d)=>{let g=c.name,b=u2.defined(c),D=g+GE,{x:M,y:Q}=c.project.hasChannel,se=e.stringValue(u.scaleName(Nn)),Ve=e.stringValue(u.scaleName(nr)),Xe=e.parseSelector(c.zoom,"scope");return b||(Xe=Xe.map(qt=>(qt.markname=g+g3,qt))),d.push({name:g+qf,on:[{events:Xe,update:b?"{"+[se?`x: invert(${se}, x(unit))`:"",Ve?`y: invert(${Ve}, y(unit))`:""].filter(qt=>!!qt).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:D,on:[{events:Xe,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),M!==void 0&&YL(u,c,M,"width",d),Q!==void 0&&YL(u,c,Q,"height",d),d}};function YL(u,c,d,g,b){let D=c.name,M=d.channel,Q=u2.defined(c),se=b.filter(Ni=>Ni.name===d.signals[Q?"data":"visual"])[0],Ve=u.getSizeSignalRef(g).signal,Xe=u.getScaleComponent(M),qt=Xe.get("type"),on=Q?rA(u,M):se.name,In=D+GE,Xn=`${D}${qf}.${M}`,lr=Q?qt==="log"?"zoomLog":qt==="symlog"?"zoomSymlog":qt==="pow"?"zoomPow":"zoomLinear":"zoomLinear",pr=Q?qt==="pow"?`, ${Xe.get("exponent")??1}`:qt==="symlog"?`, ${Xe.get("constant")??1}`:"":"",kr=`${lr}(${on}, ${Xn}, ${In}${pr})`;se.on.push({events:{signal:In},update:Q?kr:`clampRange(${kr}, 0, ${Ve})`})}let lg="_store",c2="_tuple",cA="_modify",KL="vlSelectionResolve",_3=[JQ,KQ,YQ,lA,WE,u2,WL,dG,pG,mG,VL];function xG(u){let c=u.parent;for(;c&&!om(c);)c=c.parent;return c}function b3(u){let{escape:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{escape:!0},d=c?e.stringValue(u.name):u.name,g=xG(u);if(g){let{facet:b}=g;for(let D of ee)b[D]&&(d+=` + '__facet_${D}_' + (facet[${e.stringValue(g.vgField(D))}])`)}return d}function fA(u){return Oe(u.component.selection??{}).reduce((c,d)=>c||d.project.hasSelectionId,!1)}function JL(u,c){(e.isString(c.select)||!c.select.on)&&delete u.events,(e.isString(c.select)||!c.select.clear)&&delete u.clear,(e.isString(c.select)||!c.select.toggle)&&delete u.toggle}function YE(u){let c=[];return u.type==="Identifier"?[u.name]:u.type==="Literal"?[u.value]:(u.type==="MemberExpression"&&(c.push(...YE(u.object)),c.push(...YE(u.property))),c)}function XL(u){return u.object.type==="MemberExpression"?XL(u.object):u.object.name==="datum"}function ZL(u){let c=e.parseExpression(u),d=new Set;return c.visit(g=>{g.type==="MemberExpression"&&XL(g)&&d.add(YE(g).slice(1).join("."))}),d}class E3 extends Sa{clone(){return new E3(null,this.model,be(this.filter))}constructor(c,d,g){super(c);this.model=d,this.filter=g,bn(this,"expr",void 0),bn(this,"_dependentFields",void 0),this.expr=JE(this.model,this.filter,this),this._dependentFields=ZL(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function dA(u,c){let d={},g=u.config.selection;if(!c||!c.length)return d;for(let b of c){let D=Ot(b.name),M=b.select,Q=e.isString(M)?M:M.type,se=e.isObject(M)?be(M):{type:Q},Ve=g[Q];for(let qt in Ve)qt==="fields"||qt==="encodings"||(qt==="mark"&&(se[qt]={...Ve[qt],...se[qt]}),(se[qt]===void 0||se[qt]===!0)&&(se[qt]=Ve[qt]??se[qt]));let Xe=d[D]={...se,name:D,type:Q,init:b.value,bind:b.bind,events:e.isString(se.on)?e.parseSelector(se.on,"scope"):e.array(be(se.on))};for(let qt of _3)qt.defined(Xe)&&qt.parse&&qt.parse(u,Xe,b)}return d}function KE(u,c,d){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"datum",b=e.isString(c)?c:c.param,D=Ot(b),M=e.stringValue(D+lg),Q;try{Q=u.getSelectionComponent(D,b)}catch{return`!!${D}`}if(Q.project.timeUnit){let on=d??u.component.data.raw,In=Q.project.timeUnit.clone();on.parent?In.insertAsParentOf(on):on.parent=In}let se=Q.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",Ve=Q.resolve==="global"?")":`, ${e.stringValue(Q.resolve)})`,Xe=`${se}${M}, ${g}${Ve}`,qt=`length(data(${M}))`;return c.empty===!1?`${qt} && ${Xe}`:`!${qt} || ${Xe}`}function ek(u,c,d){let g=Ot(c),b=d.encoding,D=d.field,M;try{M=u.getSelectionComponent(g,c)}catch{return g}if(!b&&!D)D=M.project.items[0].field,M.project.items.length>1&&jr(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${e.stringValue(D)}.`);else if(b&&!D){let Q=M.project.items.filter(se=>se.channel===b);!Q.length||Q.length>1?(D=M.project.items[0].field,jr((Q.length?"Multiple ":"No ")+`matching ${e.stringValue(b)} encoding found for selection ${e.stringValue(d.param)}. Using "field": ${e.stringValue(D)}.`)):D=Q[0].field}return`${M.name}[${e.stringValue(un(D))}]`}function gG(u,c){for(let[d,g]of nt(u.component.selection??{})){let b=u.getName(`lookup_${d}`);u.component.data.outputNodes[b]=g.materialized=new jf(new E3(c,u,{param:d}),b,ja.Lookup,u.component.data.outputNodeRefCounts)}}function JE(u,c,d){return Yt(c,g=>e.isString(g)?g:il(g)?KE(u,g,d):Ru(g))}function yG(u,c){if(!!u)return e.isArray(u)&&!Kn(u)?u.map(d=>AE(d,c)).join(", "):u}function hA(u,c,d,g){u.encode??={},u.encode[c]??={},u.encode[c].update??={},u.encode[c].update[d]=g}function p_(u,c,d){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{header:!1},{disable:b,orient:D,scale:M,labelExpr:Q,title:se,zindex:Ve,...Xe}=u.combine();if(!b){for(let In in Xe){let Xn=BW[In],lr=Xe[In];if(Xn&&Xn!==c&&Xn!=="both")delete Xe[In];else if(e_(lr)){let{condition:pr,...kr}=lr,Ni=e.array(pr),Ui=BN[In];if(Ui){let{vgProp:Rs,part:ji}=Ui,ia=[...Ni.map(as=>{let{test:ll,...Ol}=as;return{test:JE(null,ll),...Ol}}),kr];hA(Xe,ji,Rs,ia),delete Xe[In]}else if(Ui===null){let Rs={signal:Ni.map(ji=>{let{test:ia,...as}=ji;return`${JE(null,ia)} ? ${yi(as)} : `}).join("")+yi(kr)};Xe[In]=Rs}}else if($n(lr)){let pr=BN[In];if(pr){let{vgProp:kr,part:Ni}=pr;hA(Xe,Ni,kr,lr),delete Xe[In]}}Ct(["labelAlign","labelBaseline"],In)&&Xe[In]===null&&delete Xe[In]}if(c==="grid"){if(!Xe.grid)return;if(Xe.encode){let{grid:In}=Xe.encode;Xe.encode={...In?{grid:In}:{}},Ke(Xe.encode)&&delete Xe.encode}return{scale:M,orient:D,...Xe,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Ne(Ve,0)}}else{if(!g.header&&u.mainExtracted)return;if(Q!==void 0){var qt,on;let Xn=Q;(qt=Xe.encode)!==null&&qt!==void 0&&(on=qt.labels)!==null&&on!==void 0&&on.update&&$n(Xe.encode.labels.update.text)&&(Xn=Mn(Q,"datum.label",Xe.encode.labels.update.text.signal)),hA(Xe,"labels","text",{signal:Xn})}if(Xe.labelAlign===null&&delete Xe.labelAlign,Xe.encode){for(let Xn of jN)u.hasAxisPart(Xn)||delete Xe.encode[Xn];Ke(Xe.encode)&&delete Xe.encode}let In=yG(se,d);return{scale:M,orient:D,grid:!1,...In?{title:In}:{},...Xe,...d.aria===!1?{aria:!1}:{},zindex:Ne(Ve,0)}}}}function tk(u){let{axes:c}=u.component,d=[];for(let g of io)if(c[g]){for(let b of c[g])if(!b.get("disable")&&!b.get("gridScale")){let D=g==="x"?"height":"width",M=u.getSizeSignalRef(D).signal;D!==M&&d.push({name:D,update:M})}}return d}function vG(u,c){let{x:d=[],y:g=[]}=u;return[...d.map(b=>p_(b,"grid",c)),...g.map(b=>p_(b,"grid",c)),...d.map(b=>p_(b,"main",c)),...g.map(b=>p_(b,"main",c))].filter(b=>b)}function nk(u,c,d,g){return Object.assign.apply(null,[{},...u.map(b=>{if(b==="axisOrient"){let D=d==="x"?"bottom":"left",M=c[d==="x"?"axisBottom":"axisLeft"]||{},Q=c[d==="x"?"axisTop":"axisRight"]||{},se=new Set([...re(M),...re(Q)]),Ve={};for(let Xe of se.values())Ve[Xe]={signal:`${g.signal} === "${D}" ? ${gi(M[Xe])} : ${gi(Q[Xe])}`};return Ve}return c[b]})])}function _G(u,c,d,g){let b=c==="band"?["axisDiscrete","axisBand"]:c==="point"?["axisDiscrete","axisPoint"]:Xs(c)?["axisQuantitative"]:c==="time"||c==="utc"?["axisTemporal"]:[],D=u==="x"?"axisX":"axisY",M=$n(d)?"axisOrient":`axis${fn(d)}`,Q=[...b,...b.map(Ve=>D+Ve.substr(4))],se=["axis",M,D];return{vlOnlyAxisConfig:nk(Q,g,u,d),vgAxisConfig:nk(se,g,u,d),axisConfigStyle:bG([...se,...Q],g)}}function bG(u,c){let d=[{}];for(let b of u){var g;let D=(g=c[b])===null||g===void 0?void 0:g.style;if(D){D=e.array(D);for(let M of D)d.push(c.style[M])}}return Object.assign.apply(null,d)}function pA(u,c,d){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},b=ya(u,d,c);if(b!==void 0)return{configFrom:"style",configValue:b};for(let M of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var D;if(((D=g[M])===null||D===void 0?void 0:D[u])!==void 0)return{configFrom:M,configValue:g[M][u]}}return{}}let rk={scale:u=>{let{model:c,channel:d}=u;return c.scaleName(d)},format:u=>{let{fieldOrDatumDef:c,config:d,axis:g}=u,{format:b,formatType:D}=g;return Gr(c,c.type,b,D,d,!0)},formatType:u=>{let{axis:c,fieldOrDatumDef:d,scaleType:g}=u,{formatType:b}=c;return Ki(b,d,g)},grid:u=>{let{fieldOrDatumDef:c,axis:d,scaleType:g}=u;return d.grid??EG(g,c)},gridScale:u=>{let{model:c,channel:d}=u;return SG(c,d)},labelAlign:u=>{let{axis:c,labelAngle:d,orient:g,channel:b}=u;return c.labelAlign||sk(d,g,b)},labelAngle:u=>{let{labelAngle:c}=u;return c},labelBaseline:u=>{let{axis:c,labelAngle:d,orient:g,channel:b}=u;return c.labelBaseline||ik(d,g,b)},labelFlush:u=>{let{axis:c,fieldOrDatumDef:d,channel:g}=u;return c.labelFlush??CG(d.type,g)},labelOverlap:u=>{let{axis:c,fieldOrDatumDef:d,scaleType:g}=u;return c.labelOverlap??AG(d.type,g,Er(d)&&!!d.timeUnit,Er(d)?d.sort:void 0)},orient:u=>{let{orient:c}=u;return c},tickCount:u=>{let{channel:c,model:d,axis:g,fieldOrDatumDef:b,scaleType:D}=u,M=c==="x"?"width":c==="y"?"height":void 0,Q=M?d.getSizeSignalRef(M):void 0;return g.tickCount??S({fieldOrDatumDef:b,scaleType:D,size:Q,values:g.values})},title:u=>{let{axis:c,model:d,channel:g}=u;if(c.title!==void 0)return c.title;let b=U(d,g);if(b!==void 0)return b;let D=d.typedFieldDef(g),M=g==="x"?"x2":"y2",Q=d.fieldDef(M);return Ts(D?[a3(D)]:[],Er(Q)?[a3(Q)]:[])},values:u=>{let{axis:c,fieldOrDatumDef:d}=u;return me(c,d)},zindex:u=>{let{axis:c,fieldOrDatumDef:d,mark:g}=u;return c.zindex??pt(g,d)}};function EG(u,c){return!Pe(u)&&Er(c)&&!mr(c==null?void 0:c.bin)&&!is(c==null?void 0:c.bin)}function SG(u,c){let d=c==="x"?"y":"x";if(u.getScaleComponent(d))return u.scaleName(d)}function wG(u,c,d,g,b){let D=c==null?void 0:c.labelAngle;if(D!==void 0)return $n(D)?D:rn(D);{let{configValue:M}=pA("labelAngle",g,c==null?void 0:c.style,b);return M!==void 0?rn(M):d===Nn&&Ct([Gl,id],u.type)&&!(Er(u)&&u.timeUnit)?270:void 0}}function mA(u){return`(((${u.signal} % 360) + 360) % 360)`}function ik(u,c,d,g){if(u!==void 0)if(d==="x"){if($n(u)){let b=mA(u),D=$n(c)?`(${c.signal} === "top")`:c==="top";return{signal:`(45 < ${b} && ${b} < 135) || (225 < ${b} && ${b} < 315) ? "middle" :(${b} <= 45 || 315 <= ${b}) === ${D} ? "bottom" : "top"`}}if(45<u&&u<135||225<u&&u<315)return"middle";if($n(c)){let b=u<=45||315<=u?"===":"!==";return{signal:`${c.signal} ${b} "top" ? "bottom" : "top"`}}return(u<=45||315<=u)==(c==="top")?"bottom":"top"}else{if($n(u)){let b=mA(u),D=$n(c)?`(${c.signal} === "left")`:c==="left";return{signal:`${b} <= 45 || 315 <= ${b} || (135 <= ${b} && ${b} <= 225) ? ${g?'"middle"':"null"} : (45 <= ${b} && ${b} <= 135) === ${D} ? "top" : "bottom"`}}if(u<=45||315<=u||135<=u&&u<=225)return g?"middle":null;if($n(c)){let b=45<=u&&u<=135?"===":"!==";return{signal:`${c.signal} ${b} "left" ? "top" : "bottom"`}}return(45<=u&&u<=135)==(c==="left")?"top":"bottom"}}function sk(u,c,d){if(u===void 0)return;let g=d==="x",b=g?0:90,D=g?"bottom":"left";if($n(u)){let M=mA(u),Q=$n(c)?`(${c.signal} === "${D}")`:c===D;return{signal:`(${b?`(${M} + 90)`:M} % 180 === 0) ? ${g?null:'"center"'} :(${b} < ${M} && ${M} < ${180+b}) === ${Q} ? "left" : "right"`}}if((u+b)%180===0)return g?null:"center";if($n(c)){let M=b<u&&u<180+b?"===":"!==";return{signal:`${`${c.signal} ${M} "${D}"`} ? "left" : "right"`}}return(b<u&&u<180+b)==(c===D)?"left":"right"}function CG(u,c){if(c==="x"&&Ct(["quantitative","temporal"],u))return!0}function AG(u,c,d,g){if(d&&!e.isObject(g)||u!=="nominal"&&u!=="ordinal")return c==="log"||c==="symlog"?"greedy":!0}function h(u){return u==="x"?"bottom":"left"}function S(u){let{fieldOrDatumDef:c,scaleType:d,size:g,values:b}=u;if(!b&&!Pe(d)&&d!=="log"){if(Er(c)){var D;if(mr(c.bin))return{signal:`ceil(${g.signal}/10)`};if(c.timeUnit&&Ct(["month","hours","day","quarter"],(D=xu(c.timeUnit))===null||D===void 0?void 0:D.unit))return}return{signal:`ceil(${g.signal}/40)`}}}function U(u,c){let d=c==="x"?"x2":"y2",g=u.fieldDef(c),b=u.fieldDef(d),D=g?g.title:void 0,M=b?b.title:void 0;if(D&&M)return nn(D,M);if(D)return D;if(M)return M;if(D!==void 0)return D;if(M!==void 0)return M}function me(u,c){let d=u.values;if(e.isArray(d))return PN(c,d);if($n(d))return d}function pt(u,c){return u==="rect"&&c3(c)?1:0}class Wt extends Sa{clone(){return new Wt(null,be(this.transform))}constructor(c,d){super(c);this.transform=d,bn(this,"_dependentFields",void 0),this._dependentFields=ZL(this.transform.calculate)}static parseAllForSortIndex(c,d){return d.forEachFieldDef((g,b)=>{if(!!sg(g)&&dc(g.sort)){let{field:D,timeUnit:M}=g,Q=g.sort,se=Q.map((Ve,Xe)=>`${Ru({field:D,timeUnit:M,equal:Ve})} ? ${Xe} : `).join("")+Q.length;c=new Wt(c,{calculate:se,as:_n(g,b,{forAs:!0})})}}),c}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${lt(this.transform)}`}}function _n(u,c,d){return fi(u,{prefix:c,suffix:"sort_index",...d??{}})}function On(u,c){return Ct(["top","bottom"],c)?"column":Ct(["left","right"],c)||u==="row"?"row":"column"}function Qn(u,c,d,g){let b=g==="row"?d.headerRow:g==="column"?d.headerColumn:d.headerFacet;return Ne((c||{})[u],b[u],d.header[u])}function Sr(u,c,d,g){let b={};for(let D of u){let M=Qn(D,c||{},d,g);M!==void 0&&(b[D]=M)}return b}let Tr=["row","column"],Pr=["header","footer"];function wi(u,c){let d=u.component.layoutHeaders[c].title,g=u.config?u.config:void 0,b=u.component.layoutHeaders[c].facetFieldDef?u.component.layoutHeaders[c].facetFieldDef:void 0,{titleAnchor:D,titleAngle:M,titleOrient:Q}=Sr(["titleAnchor","titleAngle","titleOrient"],b.header,g,c),se=On(c,Q),Ve=rn(M);return{name:`${c}-title`,type:"group",role:`${se}-title`,title:{text:d,...c==="row"?{orient:"left"}:{},style:"guide-title",...ys(Ve,se),...Ji(se,Ve,D),...ju(g,b,c,rQ,eL)}}}function Ji(u,c){switch(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"middle"){case"start":return{align:"left"};case"end":return{align:"right"}}let g=sk(c,u==="row"?"left":"top",u==="row"?"y":"x");return g?{align:g}:{}}function ys(u,c){let d=ik(u,c==="row"?"left":"top",c==="row"?"y":"x",!0);return d?{baseline:d}:{}}function xo(u,c){let d=u.component.layoutHeaders[c],g=[];for(let b of Pr)if(d[b])for(let D of d[b]){let M=Mo(u,c,b,d,D);M!=null&&g.push(M)}return g}function Es(u,c){let{sort:d}=u;return Ea(d)?{field:fi(d,{expr:"datum"}),order:d.order??"ascending"}:e.isArray(d)?{field:_n(u,c,{expr:"datum"}),order:"ascending"}:{field:fi(u,{expr:"datum"}),order:d??"ascending"}}function wo(u,c,d){let{format:g,formatType:b,labelAngle:D,labelAnchor:M,labelOrient:Q,labelExpr:se}=Sr(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],u.header,d,c),Ve=ds({fieldOrDatumDef:u,format:g,formatType:b,expr:"parent",config:d}).signal,Xe=On(c,Q);return{text:{signal:se?Mn(Mn(se,"datum.label",Ve),"datum.value",fi(u,{expr:"parent"})):Ve},...c==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...ys(D,Xe),...Ji(Xe,D,M),...ju(d,u,c,iQ,tL)}}function Mo(u,c,d,g,b){if(b){let D=null,{facetFieldDef:M}=g,Q=u.config?u.config:void 0;if(M&&b.labels){let{labelOrient:qt}=Sr(["labelOrient"],M.header,Q,c);(c==="row"&&!Ct(["top","bottom"],qt)||c==="column"&&!Ct(["left","right"],qt))&&(D=wo(M,c,Q))}let se=om(u)&&!Qd(u.facet),Ve=b.axes,Xe=(Ve==null?void 0:Ve.length)>0;if(D||Xe){let qt=c==="row"?"height":"width";return{name:u.getName(`${c}_${d}`),type:"group",role:`${c}-${d}`,...g.facetFieldDef?{from:{data:u.getName(`${c}_domain`)},sort:Es(M,c)}:{},...Xe&&se?{from:{data:u.getName(`facet_domain_${c}`)}}:{},...D?{title:D}:{},...b.sizeSignal?{encode:{update:{[qt]:b.sizeSignal}}}:{},...Xe?{axes:Ve}:{}}}}return null}let ld={column:{start:0,end:1},row:{start:1,end:0}};function Uf(u,c){return ld[c][u]}function cd(u,c){let d={};for(let g of ee){let b=u[g];if(b!=null&&b.facetFieldDef){let{titleAnchor:D,titleOrient:M}=Sr(["titleAnchor","titleOrient"],b.facetFieldDef.header,c,g),Q=On(g,M),se=Uf(D,Q);se!==void 0&&(d[Q]=se)}}return Ke(d)?void 0:d}function ju(u,c,d,g,b){let D={};for(let M of g){if(!b[M])continue;let Q=Qn(M,c==null?void 0:c.header,u,d);Q!==void 0&&(D[b[M]]=Q)}return D}function fd(u){return[...Zd(u,"width"),...Zd(u,"height"),...Zd(u,"childWidth"),...Zd(u,"childHeight")]}function Zd(u,c){let d=c==="width"?"x":"y",g=u.component.layoutSize.get(c);if(!g||g==="merged")return[];let b=u.getSizeSignalRef(c).signal;if(g==="step"){let D=u.getScaleComponent(d);if(D){let M=D.get("type"),Q=D.get("range");if(Pe(M)&&br(Q)){let se=u.scaleName(d);return om(u.parent)&&u.parent.component.resolve.scale[d]==="independent"?[xA(se,Q)]:[xA(se,Q),{name:b,update:Zce(se,D,`domain('${se}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(g=="container"){let D=b.endsWith("width"),M=D?"containerSize()[0]":"containerSize()[1]",Q=H9(u.config.view,D?"width":"height"),se=`isFinite(${M}) ? ${M} : ${Q}`;return[{name:b,init:se,on:[{update:se,events:"window:resize"}]}]}else return[{name:b,value:g}]}function xA(u,c){let d=`${u}_step`;return $n(c.step)?{name:d,update:c.step.signal}:{name:d,value:c.step}}function Zce(u,c,d){let g=c.get("type"),b=c.get("padding"),D=Ne(c.get("paddingOuter"),b),M=c.get("paddingInner");return M=g==="band"?M!==void 0?M:b:1,`bandspace(${d}, ${gi(M)}, ${gi(D)}) * ${u}_step`}function efe(u){return u==="childWidth"?"width":u==="childHeight"?"height":u}function tfe(u,c){return re(u).reduce((d,g)=>{let b=u[g];return{...d,...y3(c,b,g,D=>qr(D.value))}},{})}function nfe(u,c){if(om(c))return u==="theta"?"independent":"shared";if(e7(c))return"shared";if(UG(c))return us(u)||u==="theta"||u==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function TG(u,c){let d=u.scale[c],g=us(c)?"axis":"legend";return d==="independent"?(u[g][c]==="shared"&&jr(Li(c)),"independent"):u[g][c]||"shared"}let dMe={...aQ,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},rfe=re(dMe);class hMe extends Dp{}let ife={symbols:pMe,gradient:mMe,labels:xMe,entries:gMe};function pMe(u,c){let{fieldOrDatumDef:d,model:g,channel:b,legendCmpt:D,legendType:M}=c;if(M!=="symbol")return;let{markDef:Q,encoding:se,config:Ve,mark:Xe}=g,qt=Q.filled&&Xe!=="trail",on={...os({},g,ad),...BL(g,{filled:qt})},In=D.get("symbolOpacity")??Ve.legend.symbolOpacity,Xn=D.get("symbolFillColor")??Ve.legend.symbolFillColor,lr=D.get("symbolStrokeColor")??Ve.legend.symbolStrokeColor,pr=In===void 0?sfe(se.opacity)??Q.opacity:void 0;if(on.fill){if(b==="fill"||qt&&b===gt)delete on.fill;else if(on.fill.field)Xn?delete on.fill:(on.fill=qr(Ve.legend.symbolBaseFillColor??"black"),on.fillOpacity=qr(pr??1));else if(e.isArray(on.fill)){let kr=FG(se.fill??se.color)??Q.fill??(qt&&Q.color);kr&&(on.fill=qr(kr))}}if(on.stroke){if(b==="stroke"||!qt&&b===gt)delete on.stroke;else if(on.stroke.field||lr)delete on.stroke;else if(e.isArray(on.stroke)){let kr=Ne(FG(se.stroke||se.color),Q.stroke,qt?Q.color:void 0);kr&&(on.stroke={value:kr})}}if(b!==st){let kr=Er(d)&&afe(g,D,d);kr?on.opacity=[{test:kr,...qr(pr??1)},qr(Ve.legend.unselectedOpacity)]:pr&&(on.opacity=qr(pr))}return on={...on,...u},Ke(on)?void 0:on}function mMe(u,c){let{model:d,legendType:g,legendCmpt:b}=c;if(g!=="gradient")return;let{config:D,markDef:M,encoding:Q}=d,se={},Xe=(b.get("gradientOpacity")??D.legend.gradientOpacity)===void 0?sfe(Q.opacity)||M.opacity:void 0;return Xe&&(se.opacity=qr(Xe)),se={...se,...u},Ke(se)?void 0:se}function xMe(u,c){let{fieldOrDatumDef:d,model:g,channel:b,legendCmpt:D}=c,M=g.legend(b)||{},Q=g.config,se=Er(d)?afe(g,D,d):void 0,Ve=se?[{test:se,value:1},{value:Q.legend.unselectedOpacity}]:void 0,{format:Xe,formatType:qt}=M,on;bi(qt)?on=gs({fieldOrDatumDef:d,field:"datum.value",format:Xe,formatType:qt,config:Q}):Xe===void 0&&qt===void 0&&Q.customFormatTypes&&(d.type==="quantitative"&&Q.numberFormatType?on=gs({fieldOrDatumDef:d,field:"datum.value",format:Q.numberFormat,formatType:Q.numberFormatType,config:Q}):d.type==="temporal"&&Q.timeFormatType&&Er(d)&&d.timeUnit===void 0&&(on=gs({fieldOrDatumDef:d,field:"datum.value",format:Q.timeFormat,formatType:Q.timeFormatType,config:Q})));let In={...Ve?{opacity:Ve}:{},...on?{text:on}:{},...u};return Ke(In)?void 0:In}function gMe(u,c){let{legendCmpt:d}=c,g=d.get("selections");return g!=null&&g.length?{...u,fill:{value:"transparent"}}:u}function sfe(u){return ofe(u,(c,d)=>Math.max(c,d.value))}function FG(u){return ofe(u,(c,d)=>Ne(c,d.value))}function ofe(u,c){if(mf(u))return e.array(u.condition).reduce(c,u.value);if(Yd(u))return u.value}function afe(u,c,d){let g=c.get("selections");if(!(g!=null&&g.length))return;let b=e.stringValue(d.field);return g.map(D=>`(!length(data(${e.stringValue(Ot(D)+lg)})) || (${D}[${b}] && indexof(${D}[${b}], datum.value) >= 0))`).join(" || ")}let ufe={direction:u=>{let{direction:c}=u;return c},format:u=>{let{fieldOrDatumDef:c,legend:d,config:g}=u,{format:b,formatType:D}=d;return Gr(c,c.type,b,D,g,!1)},formatType:u=>{let{legend:c,fieldOrDatumDef:d,scaleType:g}=u,{formatType:b}=c;return Ki(b,d,g)},gradientLength:u=>{let{legend:c,legendConfig:d}=u;return c.gradientLength??d.gradientLength??wMe(u)},labelOverlap:u=>{let{legend:c,legendConfig:d,scaleType:g}=u;return c.labelOverlap??d.labelOverlap??CMe(g)},symbolType:u=>{let{legend:c,markDef:d,channel:g,encoding:b}=u;return c.symbolType??vMe(d.type,g,b.shape,d.shape)},title:u=>{let{fieldOrDatumDef:c,config:d}=u;return f3(c,d,{allowDisabling:!0})},type:u=>{let{legendType:c,scaleType:d,channel:g}=u;if(w(g)&&Tn(d)){if(c==="gradient")return}else if(c==="symbol")return;return c},values:u=>{let{fieldOrDatumDef:c,legend:d}=u;return yMe(d,c)}};function yMe(u,c){let d=u.values;if(e.isArray(d))return PN(c,d);if($n(d))return d}function vMe(u,c,d,g){if(c!=="shape"){let b=FG(d)??g;if(b)return b}switch(u){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function _Me(u){let{legend:c}=u;return Ne(c.type,bMe(u))}function bMe(u){let{channel:c,timeUnit:d,scaleType:g}=u;if(w(c)){if(Ct(["quarter","month","day"],d))return"symbol";if(Tn(g))return"gradient"}return"symbol"}function EMe(u){let{legendConfig:c,legendType:d,orient:g,legend:b}=u;return b.direction??c[d?"gradientDirection":"symbolDirection"]??SMe(g,d)}function SMe(u,c){switch(u){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return c==="gradient"?"horizontal":void 0}}function wMe(u){let{legendConfig:c,model:d,direction:g,orient:b,scaleType:D}=u,{gradientHorizontalMaxLength:M,gradientHorizontalMinLength:Q,gradientVerticalMaxLength:se,gradientVerticalMinLength:Ve}=c;if(Tn(D))return g==="horizontal"?b==="top"||b==="bottom"?lfe(d,"width",Q,M):Q:lfe(d,"height",Ve,se)}function lfe(u,c,d,g){return{signal:`clamp(${u.getSizeSignalRef(c).signal}, ${d}, ${g})`}}function CMe(u){if(Ct(["quantile","threshold","log","symlog"],u))return"greedy"}function cfe(u){let c=mc(u)?AMe(u):OMe(u);return u.component.legends=c,c}function AMe(u){let{encoding:c}=u,d={};for(let g of[gt,...n_]){let b=yu(c[g]);!b||!u.getScaleComponent(g)||g===ne&&Er(b)&&b.type===Nu||(d[g]=DMe(u,g))}return d}function TMe(u,c){let d=u.scaleName(c);if(u.mark==="trail"){if(c==="color")return{stroke:d};if(c==="size")return{strokeWidth:d}}return c==="color"?u.markDef.filled?{fill:d}:{stroke:d}:{[c]:d}}function FMe(u,c,d,g){switch(c){case"disable":return d!==void 0;case"values":return!!(d!=null&&d.values);case"title":if(c==="title"&&u===(g==null?void 0:g.title))return!0}return u===(d||{})[c]}function DMe(u,c){var d,g;let b=u.legend(c),{markDef:D,encoding:M,config:Q}=u,se=Q.legend,Ve=new hMe({},TMe(u,c));hG(u,c,Ve);let Xe=b!==void 0?!b:se.disable;if(Ve.set("disable",Xe,b!==void 0),Xe)return Ve;b=b||{};let qt=u.getScaleComponent(c).get("type"),on=yu(M[c]),In=Er(on)?(d=xu(on.timeUnit))===null||d===void 0?void 0:d.unit:void 0,Xn=b.orient||Q.legend.orient||"right",lr=_Me({legend:b,channel:c,timeUnit:In,scaleType:qt}),pr=EMe({legend:b,legendType:lr,orient:Xn,legendConfig:se}),kr={legend:b,channel:c,model:u,markDef:D,encoding:M,fieldOrDatumDef:on,legendConfig:se,config:Q,scaleType:qt,orient:Xn,legendType:lr,direction:pr};for(let as of rfe){if(lr==="gradient"&&as.startsWith("symbol")||lr==="symbol"&&as.startsWith("gradient"))continue;let ll=as in ufe?ufe[as](kr):b[as];if(ll!==void 0){let Ol=FMe(ll,as,b,u.fieldDef(c));(Ol||Q.legend[as]===void 0)&&Ve.set(as,ll,Ol)}}let Ni=((g=b)===null||g===void 0?void 0:g.encoding)??{},Ui=Ve.get("selections"),Rs={},ji={fieldOrDatumDef:on,model:u,channel:c,legendCmpt:Ve,legendType:lr};for(let as of["labels","legend","title","symbols","gradient","entries"]){let ll=tfe(Ni[as]??{},u),Ol=as in ife?ife[as](ll,ji):ll;Ol!==void 0&&!Ke(Ol)&&(Rs[as]={...Ui!=null&&Ui.length&&Er(on)?{name:`${Ot(on.field)}_legend_${as}`}:{},...Ui!=null&&Ui.length?{interactive:!!Ui}:{},update:Ol})}if(!Ke(Rs)){var ia;Ve.set("encode",Rs,!!((ia=b)!==null&&ia!==void 0&&ia.encoding))}return Ve}function OMe(u){let{legends:c,resolve:d}=u.component;for(let g of u.children){cfe(g);for(let b of re(g.component.legends))d.legend[b]=TG(u.component.resolve,b),d.legend[b]==="shared"&&(c[b]=ffe(c[b],g.component.legends[b]),c[b]||(d.legend[b]="independent",delete c[b]))}for(let g of re(c))for(let b of u.children)!b.component.legends[g]||d.legend[g]==="shared"&&delete b.component.legends[g];return c}function ffe(u,c){if(!u)return c.clone();let d=u.getWithExplicit("orient"),g=c.getWithExplicit("orient");if(d.explicit&&g.explicit&&d.value!==g.value)return;let b=!1;for(let Ve of rfe){let Xe=o2(u.getWithExplicit(Ve),c.getWithExplicit(Ve),Ve,"legend",(qt,on)=>{switch(Ve){case"symbolType":return RMe(qt,on);case"title":return Jn(qt,on);case"type":return b=!0,b0("symbol")}return Qo(qt,on,Ve,"legend")});u.setWithExplicit(Ve,Xe)}if(b){var D,M,Q,se;(D=u.implicit)!==null&&D!==void 0&&(M=D.encode)!==null&&M!==void 0&&M.gradient&&Gt(u.implicit,["encode","gradient"]),(Q=u.explicit)!==null&&Q!==void 0&&(se=Q.encode)!==null&&se!==void 0&&se.gradient&&Gt(u.explicit,["encode","gradient"])}return u}function RMe(u,c){return c.value==="circle"?c:u}function NMe(u,c,d,g){u.encode??={},u.encode[c]??={},u.encode[c].update??={},u.encode[c].update[d]=g}function dfe(u){let c=u.component.legends,d={};for(let b of re(c)){let D=u.getScaleComponent(b),M=Je(D.get("domains"));if(d[M])for(let Q of d[M])ffe(Q,c[b])||d[M].push(c[b]);else d[M]=[c[b].clone()]}return Oe(d).flat().map(b=>LMe(b,u.config)).filter(b=>b!==void 0)}function LMe(u,c){var d;let{disable:g,labelExpr:b,selections:D,...M}=u.combine();if(!g){if(c.aria===!1&&M.aria==null&&(M.aria=!1),(d=M.encode)!==null&&d!==void 0&&d.symbols){let Ve=M.encode.symbols.update;Ve.fill&&Ve.fill.value!=="transparent"&&!Ve.stroke&&!M.stroke&&(Ve.stroke={value:"transparent"});for(let Xe of n_)M[Xe]&&delete Ve[Xe]}if(M.title||delete M.title,b!==void 0){var Q,se;let Ve=b;(Q=M.encode)!==null&&Q!==void 0&&(se=Q.labels)!==null&&se!==void 0&&se.update&&$n(M.encode.labels.update.text)&&(Ve=Mn(b,"datum.label",M.encode.labels.update.text.signal)),NMe(M,"labels","text",{signal:Ve})}return M}}function kMe(u){return e7(u)||UG(u)?IMe(u):hfe(u)}function IMe(u){return u.children.reduce((c,d)=>c.concat(d.assembleProjections()),hfe(u))}function hfe(u){let c=u.component.projection;if(!c||c.merged)return[];let d=c.combine(),{name:g}=d;if(c.data){let b={signal:`[${c.size.map(M=>M.signal).join(", ")}]`},D=c.data.reduce((M,Q)=>{let se=$n(Q)?Q.signal:`data('${u.lookupDataSource(Q)}')`;return Ct(M,se)||M.push(se),M},[]);if(D.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:g,size:b,fit:{signal:D.length>1?`[${D.join(", ")}]`:D[0]},...d}]}else return[{name:g,translate:{signal:"[width / 2, height / 2]"},...d}]}let MMe=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class pfe extends Dp{constructor(c,d,g,b){super({...d},{name:c});this.specifiedProjection=d,this.size=g,this.data=b,bn(this,"merged",!1)}get isFit(){return!!this.data}}function mfe(u){u.component.projection=mc(u)?PMe(u):qMe(u)}function PMe(u){if(u.hasProjection){let c=pn(u.specifiedProjection),d=!(c&&(c.scale!=null||c.translate!=null)),g=d?[u.getSizeSignalRef("width"),u.getSizeSignalRef("height")]:void 0,b=d?BMe(u):void 0,D=new pfe(u.projectionName(!0),{...pn(u.config.projection)??{},...c??{}},g,b);return D.get("type")||D.set("type","equalEarth",!1),D}}function BMe(u){let c=[],{encoding:d}=u;for(let g of[[ie,dt],[Ue,Te]])(yu(d[g[0]])||yu(d[g[1]]))&&c.push({signal:u.getName(`geojson_${c.length}`)});return u.channelHasField(ne)&&u.typedFieldDef(ne).type===Nu&&c.push({signal:u.getName(`geojson_${c.length}`)}),c.length===0&&c.push(u.requestDataName(ja.Main)),c}function jMe(u,c){let d=kt(MMe,b=>!!(!e.hasOwnProperty(u.explicit,b)&&!e.hasOwnProperty(c.explicit,b)||e.hasOwnProperty(u.explicit,b)&&e.hasOwnProperty(c.explicit,b)&&et(u.get(b),c.get(b))));if(et(u.size,c.size)){if(d)return u;if(et(u.explicit,{}))return c;if(et(c.explicit,{}))return u}return null}function qMe(u){if(u.children.length===0)return;let c;for(let g of u.children)mfe(g);let d=kt(u.children,g=>{let b=g.component.projection;if(b)if(c){let D=jMe(c,b);return D&&(c=D),!!D}else return c=b,!0;else return!0});if(c&&d){let g=u.projectionName(!0),b=new pfe(g,c.specifiedProjection,c.size,be(c.data));for(let D of u.children){let M=D.component.projection;M&&(M.isFit&&b.data.push(...D.component.projection.data),D.renameProjection(M.get("name"),g),M.merged=!0)}return b}}function UMe(u,c,d,g){if(Z4(c,d)){let b=mc(u)?u.axis(d)??u.legend(d)??{}:{},D=fi(c,{expr:"datum"}),M=fi(c,{expr:"datum",binSuffix:"end"});return{formulaAs:fi(c,{binSuffix:"range",forAs:!0}),formula:Ta(D,M,b.format,b.formatType,g)}}return{}}function xfe(u,c){return`${cs(u)}_${c}`}function $Me(u,c){return{signal:u.getName(`${c}_bins`),extentSignal:u.getName(`${c}_extent`)}}function DG(u,c,d){let g=X4(d,void 0)??{},b=xfe(g,c);return u.getName(`${b}_bins`)}function zMe(u){return"as"in u}function gfe(u,c,d){let g,b;zMe(u)?g=e.isString(u.as)?[u.as,`${u.as}_end`]:[u.as[0],u.as[1]]:g=[fi(u,{forAs:!0}),fi(u,{binSuffix:"end",forAs:!0})];let D={...X4(c,void 0)},M=xfe(D,u.field),{signal:Q,extentSignal:se}=$Me(d,M);if(yt(D.extent)){let Xe=D.extent;b=ek(d,Xe.param,Xe),delete D.extent}let Ve={bin:D,field:u.field,as:[g],...Q?{signal:Q}:{},...se?{extentSignal:se}:{},...b?{span:b}:{}};return{key:M,binComponent:Ve}}class f2 extends Sa{clone(){return new f2(null,be(this.bins))}constructor(c,d){super(c);this.bins=d}static makeFromEncoding(c,d){let g=d.reduceFieldDef((b,D,M)=>{if(Gd(D)&&mr(D.bin)){let{key:Q,binComponent:se}=gfe(D,D.bin,d);b[Q]={...se,...b[Q],...UMe(d,D,M,d.config)}}return b},{});return Ke(g)?null:new f2(c,g)}static makeFromTransform(c,d,g){let{key:b,binComponent:D}=gfe(d,d.bin,g);return new f2(c,{[b]:D})}merge(c,d){for(let g of re(c.bins))g in this.bins?(d(c.bins[g].signal,this.bins[g].signal),this.bins[g].as=bt([...this.bins[g].as,...c.bins[g].as],lt)):this.bins[g]=c.bins[g];for(let g of c.children)c.removeChild(g),g.parent=this;c.remove()}producedFields(){return new Set(Oe(this.bins).map(c=>c.as).flat(2))}dependentFields(){return new Set(Oe(this.bins).map(c=>c.field))}hash(){return`Bin ${lt(this.bins)}`}assemble(){return Oe(this.bins).flatMap(c=>{let d=[],[g,...b]=c.as,{extent:D,...M}=c.bin,Q={type:"bin",field:un(c.field),as:g,signal:c.signal,...yt(D)?{extent:null}:{extent:D},...c.span?{span:{signal:`span(${c.span})`}}:{},...M};!D&&c.extentSignal&&(d.push({type:"extent",field:un(c.field),signal:c.extentSignal}),Q.extent={signal:c.extentSignal}),d.push(Q);for(let se of b)for(let Ve=0;Ve<2;Ve++)d.push({type:"formula",expr:fi({field:g[Ve]},{expr:"datum"}),as:se[Ve]});return c.formula&&d.push({type:"formula",expr:c.formula,as:c.formulaAs}),d})}}function HMe(u,c,d,g){var b;let D=mc(g)?g.encoding[ws(c)]:void 0;if(Gd(d)&&mc(g)&&Dr(d,D,g.markDef,g.config))u.add(fi(d,{})),u.add(fi(d,{suffix:"end"})),d.bin&&Z4(d,c)&&u.add(fi(d,{binSuffix:"range"}));else if(It(c)){let M=Qe(c);u.add(g.getName(M))}else u.add(fi(d));return sg(d)&&qc((b=d.scale)===null||b===void 0?void 0:b.range)&&u.add(d.scale.range.field),u}function VMe(u,c){for(let d of re(c)){let g=c[d];for(let b of re(g))d in u?u[d][b]=new Set([...u[d][b]??[],...g[b]]):u[d]={[b]:g[b]}}}class im extends Sa{clone(){return new im(null,new Set(this.dimensions),be(this.measures))}constructor(c,d,g){super(c);this.dimensions=d,this.measures=g}get groupBy(){return this.dimensions}static makeFromEncoding(c,d){let g=!1;d.forEachFieldDef(M=>{M.aggregate&&(g=!0)});let b={},D=new Set;return!g||(d.forEachFieldDef((M,Q)=>{let{aggregate:se,field:Ve}=M;if(se)if(se==="count")b["*"]??={},b["*"].count=new Set([fi(M,{forAs:!0})]);else{if(ua(se)||la(se)){let Xe=ua(se)?"argmin":"argmax",qt=se[Xe];b[qt]??={},b[qt][Xe]=new Set([fi({op:Xe,field:qt},{forAs:!0})])}else b[Ve]??={},b[Ve][se]=new Set([fi(M,{forAs:!0})]);Ii(Q)&&d.scaleDomain(Q)==="unaggregated"&&(b[Ve]??={},b[Ve].min=new Set([fi({field:Ve,aggregate:"min"},{forAs:!0})]),b[Ve].max=new Set([fi({field:Ve,aggregate:"max"},{forAs:!0})]))}else HMe(D,Q,M,d)}),D.size+re(b).length===0)?null:new im(c,D,b)}static makeFromTransform(c,d){let g=new Set,b={};for(let D of d.aggregate){let{op:M,field:Q,as:se}=D;M&&(M==="count"?(b["*"]??={},b["*"].count=new Set([se||fi(D,{forAs:!0})])):(b[Q]??={},b[Q][M]=new Set([se||fi(D,{forAs:!0})])))}for(let D of d.groupby??[])g.add(D);return g.size+re(b).length===0?null:new im(c,g,b)}merge(c){return Le(this.dimensions,c.dimensions)?(VMe(this.measures,c.measures),!0):(X0("different dimensions, cannot merge"),!1)}addDimensions(c){c.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...re(this.measures)])}producedFields(){let c=new Set;for(let d of re(this.measures))for(let g of re(this.measures[d])){let b=this.measures[d][g];b.size===0?c.add(`${g}_${d}`):b.forEach(c.add,c)}return c}hash(){return`Aggregate ${lt({dimensions:this.dimensions,measures:this.measures})}`}assemble(){let c=[],d=[],g=[];for(let D of re(this.measures))for(let M of re(this.measures[D]))for(let Q of this.measures[D][M])g.push(Q),c.push(M),d.push(D==="*"?null:un(D));return{type:"aggregate",groupby:[...this.dimensions].map(un),ops:c,fields:d,as:g}}}class XE extends Sa{constructor(c,d,g,b){super(c);this.model=d,this.name=g,this.data=b,bn(this,"column",void 0),bn(this,"row",void 0),bn(this,"facet",void 0),bn(this,"childModel",void 0);for(let D of ee){let M=d.facet[D];if(M){let{bin:Q,sort:se}=M;this[D]={name:d.getName(`${D}_domain`),fields:[fi(M),...mr(Q)?[fi(M,{binSuffix:"end"})]:[]],...Ea(se)?{sortField:se}:e.isArray(se)?{sortIndexField:_n(M,D)}:{}}}}this.childModel=d.child}hash(){let c="Facet";for(let d of ee)this[d]&&(c+=` ${d.charAt(0)}:${lt(this[d])}`);return c}get fields(){let c=[];for(let g of ee){var d;(d=this[g])!==null&&d!==void 0&&d.fields&&c.push(...this[g].fields)}return c}dependentFields(){let c=new Set(this.fields);for(let d of ee)this[d]&&(this[d].sortField&&c.add(this[d].sortField.field),this[d].sortIndexField&&c.add(this[d].sortIndexField));return c}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){let c={};for(let d of io){let g=this.childModel.component.scales[d];if(g&&!g.merged){let b=g.get("type"),D=g.get("range");if(Pe(b)&&br(D)){let M=uk(this.childModel,d),Q=jG(M);Q?c[d]=Q:jr(vr(d))}}}return c}assembleRowColumnHeaderData(c,d,g){let b={row:"y",column:"x",facet:void 0}[c],D=[],M=[],Q=[];b&&g&&g[b]&&(d?(D.push(`distinct_${g[b]}`),M.push("max")):(D.push(g[b]),M.push("distinct")),Q.push(`distinct_${g[b]}`));let{sortField:se,sortIndexField:Ve}=this[c];if(se){let{op:Xe=Dl,field:qt}=se;D.push(qt),M.push(Xe),Q.push(fi(se,{forAs:!0}))}else Ve&&(D.push(Ve),M.push("max"),Q.push(Ve));return{name:this[c].name,source:d??this.data,transform:[{type:"aggregate",groupby:this[c].fields,...D.length?{fields:D,ops:M,as:Q}:{}}]}}assembleFacetHeaderData(c){let{columns:d}=this.model.layout,{layoutHeaders:g}=this.model.component,b=[],D={};for(let Ve of Tr){for(let Xe of Pr){let qt=(g[Ve]&&g[Ve][Xe])??[];for(let on of qt){var M;if(((M=on.axes)===null||M===void 0?void 0:M.length)>0){D[Ve]=!0;break}}}if(D[Ve]){let Xe=`length(data("${this.facet.name}"))`,qt=Ve==="row"?d?{signal:`ceil(${Xe} / ${d})`}:1:d?{signal:`min(${Xe}, ${d})`}:{signal:Xe};b.push({name:`${this.facet.name}_${Ve}`,transform:[{type:"sequence",start:0,stop:qt}]})}}let{row:Q,column:se}=D;return(Q||se)&&b.unshift(this.assembleRowColumnHeaderData("facet",null,c)),b}assemble(){let c=[],d=null,g=this.getChildIndependentFieldsWithStep(),{column:b,row:D,facet:M}=this;if(b&&D&&(g.x||g.y)){d=`cross_${this.column.name}_${this.row.name}`;let Q=[].concat(g.x??[],g.y??[]),se=Q.map(()=>"distinct");c.push({name:d,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:Q,ops:se}]})}for(let Q of[Wn,Fn])this[Q]&&c.push(this.assembleRowColumnHeaderData(Q,d,g));if(M){let Q=this.assembleFacetHeaderData(g);Q&&c.push(...Q)}return c}}function yfe(u){return u.startsWith("'")&&u.endsWith("'")||u.startsWith('"')&&u.endsWith('"')?u.slice(1,-1):u}function WMe(u,c){let d=gn(u);if(c==="number")return`toNumber(${d})`;if(c==="boolean")return`toBoolean(${d})`;if(c==="string")return`toString(${d})`;if(c==="date")return`toDate(${d})`;if(c==="flatten")return d;if(c.startsWith("date:")){let g=yfe(c.slice(5,c.length));return`timeParse(${d},'${g}')`}else if(c.startsWith("utc:")){let g=yfe(c.slice(4,c.length));return`utcParse(${d},'${g}')`}else return jr(_l(c)),null}function QMe(u){let c={};return qe(u.filter,d=>{if(rd(d)){let g=null;jc(d)?g=pi(d.equal):$d(d)?g=pi(d.lte):Oh(d)?g=pi(d.lt):df(d)?g=pi(d.gt):Rh(d)?g=pi(d.gte):yp(d)?g=d.range[0]:Ha(d)&&(g=(d.oneOf??d.in)[0]),g&&(Z0(g)?c[d.field]="date":e.isNumber(g)?c[d.field]="number":e.isString(g)&&(c[d.field]="string")),d.timeUnit&&(c[d.field]="date")}}),c}function GMe(u){let c={};function d(g){h3(g)?c[g.field]="date":g.type==="quantitative"&&el(g.aggregate)?c[g.field]="number":Rn(g.field)>1?g.field in c||(c[g.field]="flatten"):sg(g)&&Ea(g.sort)&&Rn(g.sort.field)>1&&(g.sort.field in c||(c[g.sort.field]="flatten"))}if((mc(u)||om(u))&&u.forEachFieldDef((g,b)=>{if(Gd(g))d(g);else{let D=ai(b),M=u.fieldDef(D);d({...g,type:M.type})}}),mc(u)){let{mark:g,markDef:b,encoding:D}=u;if(pf(g)&&!u.encoding.order){let M=b.orient==="horizontal"?"y":"x",Q=D[M];Er(Q)&&Q.type==="quantitative"&&!(Q.field in c)&&(c[Q.field]="number")}}return c}function YMe(u){let c={};if(mc(u)&&u.component.selection)for(let d of re(u.component.selection)){let g=u.component.selection[d];for(let b of g.project.items)!b.channel&&Rn(b.field)>1&&(c[b.field]="flatten")}return c}class S0 extends Sa{clone(){return new S0(null,be(this._parse))}constructor(c,d){super(c);bn(this,"_parse",void 0),this._parse=d}hash(){return`Parse ${lt(this._parse)}`}static makeExplicit(c,d,g){var b;let D={},M=d.data;return!a2(M)&&M!==null&&M!==void 0&&(b=M.format)!==null&&b!==void 0&&b.parse&&(D=M.format.parse),this.makeWithAncestors(c,D,{},g)}static makeWithAncestors(c,d,g,b){for(let Q of re(g)){let se=b.getWithExplicit(Q);se.value!==void 0&&(se.explicit||se.value===g[Q]||se.value==="derived"||g[Q]==="flatten"?delete g[Q]:jr(Ic(Q,g[Q],se.value)))}for(let Q of re(d)){let se=b.get(Q);se!==void 0&&(se===d[Q]?delete d[Q]:jr(Ic(Q,d[Q],se)))}let D=new Dp(d,g);b.copyAll(D);let M={};for(let Q of re(D.combine())){let se=D.get(Q);se!==null&&(M[Q]=se)}return re(M).length===0||b.parseNothing?null:new S0(c,M)}get parse(){return this._parse}merge(c){this._parse={...this._parse,...c.parse},c.remove()}assembleFormatParse(){let c={};for(let d of re(this._parse)){let g=this._parse[d];Rn(d)===1&&(c[d]=g)}return c}producedFields(){return new Set(re(this._parse))}dependentFields(){return new Set(re(this._parse))}assembleTransforms(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return re(this._parse).filter(d=>c?Rn(d)>1:!0).map(d=>{let g=WMe(d,this._parse[d]);return g?{type:"formula",expr:g,as:tr(d)}:null}).filter(d=>d!==null)}}class S3 extends Sa{clone(){return new S3(null)}constructor(c){super(c)}dependentFields(){return new Set}producedFields(){return new Set([Tp])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Tp}}}class gA extends Sa{clone(){return new gA(null,this.params)}constructor(c,d){super(c);this.params=d}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${lt(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class yA extends Sa{clone(){return new yA(null,this.params)}constructor(c,d){super(c);this.params=d}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${lt(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class m_ extends Sa{constructor(c){super(null);bn(this,"_data",void 0),bn(this,"_name",void 0),bn(this,"_generator",void 0),c??={name:"source"};let d;if(a2(c)||(d=c.format?{...pe(c.format,["parse"])}:{}),u_(c))this._data={values:c.values};else if(rm(c)){if(this._data={url:c.url},!d.type){let g=/(?:\.([^.]+))?$/.exec(c.url)[1];Ct(["json","csv","tsv","dsv","topojson"],g)||(g="json"),d.type=g}}else RL(c)?this._data={values:[{type:"Sphere"}]}:(DL(c)||a2(c))&&(this._data={});this._generator=a2(c),c.name&&(this._name=c.name),d&&!Ke(d)&&(this._data.format=d)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(c){this._name=c}set parent(c){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}function OG(u){return u instanceof m_||u instanceof gA||u instanceof yA}var ok=new WeakMap;class RG{constructor(){mu(this,ok,{writable:!0,value:void 0}),Ti(this,ok,!1)}setModified(){Ti(this,ok,!0)}get modifiedFlag(){return Yr(this,ok)}}class x_ extends RG{getNodeDepths(c,d,g){g.set(c,d);for(let b of c.children)this.getNodeDepths(b,d+1,g);return g}optimize(c){let g=[...this.getNodeDepths(c,0,new Map).entries()].sort((b,D)=>D[1]-b[1]);for(let b of g)this.run(b[0]);return this.modifiedFlag}}class NG extends RG{optimize(c){this.run(c);for(let d of c.children)this.optimize(d);return this.modifiedFlag}}class KMe extends NG{mergeNodes(c,d){let g=d.shift();for(let b of d)c.removeChild(b),b.parent=g,b.remove()}run(c){let d=c.children.map(b=>b.hash()),g={};for(let b=0;b<d.length;b++)g[d[b]]===void 0?g[d[b]]=[c.children[b]]:g[d[b]].push(c.children[b]);for(let b of re(g))g[b].length>1&&(this.setModified(),this.mergeNodes(c,g[b]))}}class JMe extends NG{constructor(c){super();bn(this,"requiresSelectionId",void 0),this.requiresSelectionId=c&&fA(c)}run(c){c instanceof S3&&(this.requiresSelectionId&&(OG(c.parent)||c.parent instanceof im||c.parent instanceof S0)||(this.setModified(),c.remove()))}}class XMe extends RG{optimize(c){return this.run(c,new Set),this.modifiedFlag}run(c,d){let g=new Set;c instanceof Op&&(g=c.producedFields(),_e(g,d)&&(this.setModified(),c.removeFormulas(d),c.producedFields.length===0&&c.remove()));for(let b of c.children)this.run(b,new Set([...d,...g]))}}class ZMe extends NG{constructor(){super()}run(c){c instanceof jf&&!c.isRequired()&&(this.setModified(),c.remove())}}class ePe extends x_{run(c){if(!OG(c)&&!(c.numChildren()>1)){for(let d of c.children)if(d instanceof S0)if(c instanceof S0)this.setModified(),c.merge(d);else{if(tt(c.producedFields(),d.dependentFields()))continue;this.setModified(),d.swapWithParent()}}}}class tPe extends x_{run(c){let d=[...c.children],g=c.children.filter(b=>b instanceof S0);if(c.numChildren()>1&&g.length>=1){let b={},D=new Set;for(let M of g){let Q=M.parse;for(let se of re(Q))se in b?b[se]!==Q[se]&&D.add(se):b[se]=Q[se]}for(let M of D)delete b[M];if(!Ke(b)){this.setModified();let M=new S0(c,b);for(let Q of d){if(Q instanceof S0)for(let se of re(b))delete Q.parse[se];c.removeChild(Q),Q.parent=M,Q instanceof S0&&re(Q.parse).length===0&&Q.remove()}}}}}class nPe extends x_{run(c){c instanceof jf||c.numChildren()>0||c instanceof XE||c instanceof m_||(this.setModified(),c.remove())}}class rPe extends x_{run(c){let d=c.children.filter(b=>b instanceof Op),g=d.pop();for(let b of d)this.setModified(),g.merge(b)}}class iPe extends x_{run(c){let d=c.children.filter(b=>b instanceof im),g={};for(let b of d){let D=lt(b.groupBy);D in g||(g[D]=[]),g[D].push(b)}for(let b of re(g)){let D=g[b];if(D.length>1){let M=D.pop();for(let Q of D)M.merge(Q)&&(c.removeChild(Q),Q.parent=M,Q.remove(),this.setModified())}}}}class sPe extends x_{constructor(c){super();this.model=c}run(c){let d=!(OG(c)||c instanceof E3||c instanceof S0||c instanceof S3),g=[],b=[];for(let D of c.children)D instanceof f2&&(d&&!tt(c.producedFields(),D.dependentFields())?g.push(D):b.push(D));if(g.length>0){let D=g.pop();for(let M of g)D.merge(M,this.model.renameSignal.bind(this.model));this.setModified(),c instanceof f2?c.merge(D,this.model.renameSignal.bind(this.model)):D.swapWithParent()}if(b.length>1){let D=b.pop();for(let M of b)D.merge(M,this.model.renameSignal.bind(this.model));this.setModified()}}}class oPe extends x_{run(c){let d=[...c.children];if(!mn(d,M=>M instanceof jf)||c.numChildren()<=1)return;let b=[],D;for(let M of d)if(M instanceof jf){let Q=M;for(;Q.numChildren()===1;){let[se]=Q.children;if(se instanceof jf)Q=se;else break}b.push(...Q.children),D?(c.removeChild(M),M.parent=D.parent,D.parent.removeChild(D),D.parent=Q,this.setModified()):D=Q}else b.push(M);if(b.length){this.setModified();for(let M of b)M.parent.removeChild(M),M.parent=D}}}class g_ extends Sa{clone(){return new g_(null,be(this.transform))}constructor(c,d){super(c);this.transform=d}addDimensions(c){this.transform.groupby=bt(this.transform.groupby.concat(c),d=>d)}dependentFields(){let c=new Set;return this.transform.groupby&&this.transform.groupby.forEach(c.add,c),this.transform.joinaggregate.map(d=>d.field).filter(d=>d!==void 0).forEach(c.add,c),c}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(c){return c.as??fi(c)}hash(){return`JoinAggregateTransform ${lt(this.transform)}`}assemble(){let c=[],d=[],g=[];for(let D of this.transform.joinaggregate)d.push(D.op),g.push(this.getDefaultName(D)),c.push(D.field===void 0?null:D.field);let b=this.transform.groupby;return{type:"joinaggregate",as:g,ops:d,fields:c,...b!==void 0?{groupby:b}:{}}}}function aPe(u){return u.stack.stackBy.reduce((c,d)=>{let g=d.fieldDef,b=fi(g);return b&&c.push(b),c},[])}function uPe(u){return e.isArray(u)&&u.every(c=>e.isString(c))&&u.length>1}class cg extends Sa{clone(){return new cg(null,be(this._stack))}constructor(c,d){super(c);bn(this,"_stack",void 0),this._stack=d}static makeFromTransform(c,d){let{stack:g,groupby:b,as:D,offset:M="zero"}=d,Q=[],se=[];if(d.sort!==void 0)for(let qt of d.sort)Q.push(qt.field),se.push(Ne(qt.order,"ascending"));let Ve={field:Q,order:se},Xe;return uPe(D)?Xe=D:e.isString(D)?Xe=[D,`${D}_end`]:Xe=[`${d.stack}_start`,`${d.stack}_end`],new cg(c,{dimensionFieldDefs:[],stackField:g,groupby:b,offset:M,sort:Ve,facetby:[],as:Xe})}static makeFromEncoding(c,d){let g=d.stack,{encoding:b}=d;if(!g)return null;let{groupbyChannels:D,fieldChannel:M,offset:Q,impute:se}=g,Ve=D.map(In=>{let Xn=b[In];return jh(Xn)}).filter(In=>!!In),Xe=aPe(d),qt=d.encoding.order,on;return e.isArray(qt)||Er(qt)?on=No(qt):on=Xe.reduce((In,Xn)=>(In.field.push(Xn),In.order.push(M==="y"?"descending":"ascending"),In),{field:[],order:[]}),new cg(c,{dimensionFieldDefs:Ve,stackField:d.vgField(M),facetby:[],stackby:Xe,sort:on,offset:Q,impute:se,as:[d.vgField(M,{suffix:"start",forAs:!0}),d.vgField(M,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(c){this._stack.facetby.push(...c)}dependentFields(){let c=new Set;return c.add(this._stack.stackField),this.getGroupbyFields().forEach(c.add,c),this._stack.facetby.forEach(c.add,c),this._stack.sort.field.forEach(c.add,c),c}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${lt(this._stack)}`}getGroupbyFields(){let{dimensionFieldDefs:c,impute:d,groupby:g}=this._stack;return c.length>0?c.map(b=>b.bin?d?[fi(b,{binSuffix:"mid"})]:[fi(b,{}),fi(b,{binSuffix:"end"})]:[fi(b)]).flat():g??[]}assemble(){let c=[],{facetby:d,dimensionFieldDefs:g,stackField:b,stackby:D,sort:M,offset:Q,impute:se,as:Ve}=this._stack;if(se)for(let Xe of g){let{bandPosition:qt=.5,bin:on}=Xe;if(on){let In=fi(Xe,{expr:"datum"}),Xn=fi(Xe,{expr:"datum",binSuffix:"end"});c.push({type:"formula",expr:`${qt}*${In}+${1-qt}*${Xn}`,as:fi(Xe,{binSuffix:"mid",forAs:!0})})}c.push({type:"impute",field:b,groupby:[...D,...d],key:fi(Xe,{binSuffix:"mid"}),method:"value",value:0})}return c.push({type:"stack",groupby:[...this.getGroupbyFields(),...d],field:b,sort:M,as:Ve,offset:Q}),c}}class ZE extends Sa{clone(){return new ZE(null,be(this.transform))}constructor(c,d){super(c);this.transform=d}addDimensions(c){this.transform.groupby=bt(this.transform.groupby.concat(c),d=>d)}dependentFields(){let c=new Set;return(this.transform.groupby??[]).forEach(c.add,c),(this.transform.sort??[]).forEach(d=>c.add(d.field)),this.transform.window.map(d=>d.field).filter(d=>d!==void 0).forEach(c.add,c),c}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(c){return c.as??fi(c)}hash(){return`WindowTransform ${lt(this.transform)}`}assemble(){let c=[],d=[],g=[],b=[];for(let qt of this.transform.window)d.push(qt.op),g.push(this.getDefaultName(qt)),b.push(qt.param===void 0?null:qt.param),c.push(qt.field===void 0?null:qt.field);let D=this.transform.frame,M=this.transform.groupby;if(D&&D[0]===null&&D[1]===null&&d.every(qt=>vl(qt)))return{type:"joinaggregate",as:g,ops:d,fields:c,...M!==void 0?{groupby:M}:{}};let Q=[],se=[];if(this.transform.sort!==void 0)for(let qt of this.transform.sort)Q.push(qt.field),se.push(qt.order??"ascending");let Ve={field:Q,order:se},Xe=this.transform.ignorePeers;return{type:"window",params:b,as:g,ops:d,fields:c,sort:Ve,...Xe!==void 0?{ignorePeers:Xe}:{},...M!==void 0?{groupby:M}:{},...D!==void 0?{frame:D}:{}}}}function lPe(u){function c(d){if(!(d instanceof XE)){let g=d.clone();if(g instanceof jf){let b=kG+g.getSource();g.setSource(b),u.model.component.data.outputNodes[b]=g}else(g instanceof im||g instanceof cg||g instanceof ZE||g instanceof g_)&&g.addDimensions(u.fields);for(let b of d.children.flatMap(c))b.parent=g;return[g]}return d.children.flatMap(c)}return c}function LG(u){if(u instanceof XE)if(u.numChildren()===1&&!(u.children[0]instanceof jf)){let c=u.children[0];(c instanceof im||c instanceof cg||c instanceof ZE||c instanceof g_)&&c.addDimensions(u.fields),c.swapWithParent(),LG(u)}else{let c=u.model.component.data.main;vfe(c);let d=lPe(u),g=u.children.map(d).flat();for(let b of g)b.parent=c}else u.children.map(LG)}function vfe(u){if(u instanceof jf&&u.type===ja.Main&&u.numChildren()===1){let c=u.children[0];c instanceof XE||(c.swapWithParent(),vfe(u))}}let kG="scale_",ak=5;function IG(u){for(let c of u){for(let d of c.children)if(d.parent!==c)return!1;if(!IG(c.children))return!1}return!0}function sm(u,c){let d=!1;for(let g of c)d=u.optimize(g)||d;return d}function _fe(u,c,d){let g=u.sources,b=!1;return b=sm(new ZMe,g)||b,b=sm(new JMe(c),g)||b,g=g.filter(D=>D.numChildren()>0),b=sm(new nPe,g)||b,g=g.filter(D=>D.numChildren()>0),d||(b=sm(new ePe,g)||b,b=sm(new sPe(c),g)||b,b=sm(new XMe,g)||b,b=sm(new tPe,g)||b,b=sm(new iPe,g)||b,b=sm(new rPe,g)||b,b=sm(new KMe,g)||b,b=sm(new oPe,g)||b),u.sources=g,b}function cPe(u,c){IG(u.sources);let d=0,g=0;for(let b=0;b<ak&&_fe(u,c,!0);b++)d++;u.sources.map(LG);for(let b=0;b<ak&&_fe(u,c,!1);b++)g++;IG(u.sources),Math.max(d,g)===ak&&jr(`Maximum optimization runs(${ak}) reached.`)}class eh{constructor(c){bn(this,"signal",void 0),Object.defineProperty(this,"signal",{enumerable:!0,get:c})}static fromName(c,d){return new eh(()=>c(d))}}function bfe(u){mc(u)?fPe(u):dPe(u)}function fPe(u){let c=u.component.scales;for(let d of re(c)){let g=pPe(u,d);if(c[d].setWithExplicit("domains",g),xPe(u,d),u.component.data.isFaceted){let D=u;for(;!om(D)&&D.parent;)D=D.parent;if(D.component.resolve.scale[d]==="shared")for(let Q of g.value)ar(Q)&&(Q.data=kG+Q.data.replace(kG,""))}}}function dPe(u){for(let d of u.children)bfe(d);let c=u.component.scales;for(let d of re(c)){let g,b=null;for(let D of u.children){let M=D.component.scales[d];if(M){g===void 0?g=M.getWithExplicit("domains"):g=o2(g,M.getWithExplicit("domains"),"domains","scale",BG);let Q=M.get("selectionExtent");b&&Q&&b.param!==Q.param&&jr(u0),b=Q}}c[d].setWithExplicit("domains",g),b&&c[d].set("selectionExtent",b,!0)}}function hPe(u,c,d,g){if(u==="unaggregated"){let{valid:b,reason:D}=Efe(c,d);if(!b){jr(D);return}}else if(u===void 0&&g.useUnaggregatedDomain){let{valid:b}=Efe(c,d);if(b)return"unaggregated"}return u}function pPe(u,c){let d=u.getScaleComponent(c).get("type"),{encoding:g}=u,b=hPe(u.scaleDomain(c),u.typedFieldDef(c),d,u.config.scale);return b!==u.scaleDomain(c)&&(u.specifiedScales[c]={...u.specifiedScales[c],domain:b}),c==="x"&&yu(g.x2)?yu(g.x)?o2(w3(d,b,u,"x"),w3(d,b,u,"x2"),"domain","scale",BG):w3(d,b,u,"x2"):c==="y"&&yu(g.y2)?yu(g.y)?o2(w3(d,b,u,"y"),w3(d,b,u,"y2"),"domain","scale",BG):w3(d,b,u,"y2"):w3(d,b,u,c)}function mPe(u,c,d){return u.map(g=>({signal:`{data: ${DE(g,{timeUnit:d,type:c})}}`}))}function MG(u,c,d){var g;let b=(g=xu(d))===null||g===void 0?void 0:g.unit;return c==="temporal"||b?mPe(u,c,b):[u]}function w3(u,c,d,g){let{encoding:b}=d,D=yu(b[g]),{type:M}=D,Q=D.timeUnit;if(gu(c)){let qt=w3(u,void 0,d,g),on=MG(c.unionWith,M,Q);return ul([...on,...qt.value])}else{if($n(c))return ul([c]);if(c&&c!=="unaggregated"&&!ao(c))return ul(MG(c,M,Q))}let se=d.stack;if(se&&g===se.fieldChannel){if(se.offset==="normalize")return b0([[0,1]]);let qt=d.requestDataName(ja.Main);return b0([{data:qt,field:d.vgField(g,{suffix:"start"})},{data:qt,field:d.vgField(g,{suffix:"end"})}])}let Ve=Ii(g)&&Er(D)?gPe(d,g,u):void 0;if(So(D)){let qt=MG([D.datum],M,Q);return b0(qt)}let Xe=D;if(c==="unaggregated"){let qt=d.requestDataName(ja.Main),{field:on}=D;return b0([{data:qt,field:fi({field:on,aggregate:"min"})},{data:qt,field:fi({field:on,aggregate:"max"})}])}else if(mr(Xe.bin)){if(Pe(u))return b0(u==="bin-ordinal"?[]:[{data:ft(Ve)?d.requestDataName(ja.Main):d.requestDataName(ja.Raw),field:d.vgField(g,Z4(Xe,g)?{binSuffix:"range"}:{}),sort:Ve===!0||!e.isObject(Ve)?{field:d.vgField(g,{}),op:"min"}:Ve}]);{let{bin:qt}=Xe;if(mr(qt)){let on=DG(d,Xe.field,qt);return b0([new eh(()=>{let In=d.getSignalName(on);return`[${In}.start, ${In}.stop]`})])}else return b0([{data:d.requestDataName(ja.Main),field:d.vgField(g,{})}])}}else if(Xe.timeUnit&&Ct(["time","utc"],u)&&Dr(Xe,mc(d)?d.encoding[ws(g)]:void 0,d.markDef,d.config)){let qt=d.requestDataName(ja.Main);return b0([{data:qt,field:d.vgField(g)},{data:qt,field:d.vgField(g,{suffix:"end"})}])}else return b0(Ve?[{data:ft(Ve)?d.requestDataName(ja.Main):d.requestDataName(ja.Raw),field:d.vgField(g),sort:Ve}]:[{data:d.requestDataName(ja.Main),field:d.vgField(g)}])}function PG(u,c){let{op:d,field:g,order:b}=u;return{op:d??(c?"sum":Dl),...g?{field:un(g)}:{},...b?{order:b}:{}}}function xPe(u,c){var d;let g=u.component.scales[c],b=u.specifiedScales[c].domain,D=(d=u.fieldDef(c))===null||d===void 0?void 0:d.bin,M=ao(b)&&b,Q=Ie(D)&&yt(D.extent)&&D.extent;(M||Q)&&g.set("selectionExtent",M??Q,!0)}function gPe(u,c,d){if(!Pe(d))return;let g=u.fieldDef(c),b=g.sort;if(dc(b))return{op:"min",field:_n(g,c),order:"ascending"};let{stack:D}=u,M=D?new Set([...D.groupbyFields,...D.stackBy.map(Q=>Q.fieldDef.field)]):void 0;if(Ea(b)){let Q=D&&!M.has(b.field);return PG(b,Q)}else if(y0(b)){let{encoding:Q,order:se}=b,Ve=u.fieldDef(Q),{aggregate:Xe,field:qt}=Ve,on=D&&!M.has(qt);if(ua(Xe)||la(Xe))return PG({field:fi(Ve),order:se},on);if(vl(Xe)||!Xe)return PG({op:Xe,field:qt,order:se},on)}else{if(b==="descending")return{op:"min",field:u.vgField(c),order:"descending"};if(Ct(["ascending",void 0],b))return!0}}function Efe(u,c){let{aggregate:d,type:g}=u;return d?e.isString(d)&&!rs.has(d)?{valid:!1,reason:Vt(d)}:g==="quantitative"&&c==="log"?{valid:!1,reason:An(u)}:{valid:!0}:{valid:!1,reason:Nt(u)}}function BG(u,c,d,g){return u.explicit&&c.explicit&&jr(Qi(d,g,u.value,c.value)),{explicit:u.explicit,value:[...u.value,...c.value]}}function yPe(u){let c=bt(u.map(M=>{if(ar(M)){let{sort:Q,...se}=M;return se}return M}),lt),d=bt(u.map(M=>{if(ar(M)){let Q=M.sort;return Q!==void 0&&!ft(Q)&&("op"in Q&&Q.op==="count"&&delete Q.field,Q.order==="ascending"&&delete Q.order),Q}}).filter(M=>M!==void 0),lt);if(c.length===0)return;if(c.length===1){let M=u[0];if(ar(M)&&d.length>0){let Q=d[0];if(d.length>1)jr(Ys),Q=!0;else if(e.isObject(Q)&&"field"in Q){let se=Q.field;M.field===se&&(Q=Q.order?{order:Q.order}:!0)}return{...M,sort:Q}}return M}let g=bt(d.map(M=>ft(M)||!("op"in M)||e.isString(M.op)&&M.op in za?M:(jr(Qr(M)),!0)),lt),b;g.length===1?b=g[0]:g.length>1&&(jr(Ys),b=!0);let D=bt(u.map(M=>ar(M)?M.data:null),M=>M);return D.length===1&&D[0]!==null?{data:D[0],fields:c.map(Q=>Q.field),...b?{sort:b}:{}}:{fields:c,...b?{sort:b}:{}}}function jG(u){if(ar(u)&&e.isString(u.field))return u.field;if(Cr(u)){let c;for(let d of u.fields)if(ar(d)&&e.isString(d.field)){if(!c)c=d.field;else if(c!==d.field)return jr($o),c}return jr(va),c}else if(Gn(u)){jr(mo);let c=u.fields[0];return e.isString(c)?c:void 0}}function uk(u,c){let g=u.component.scales[c].get("domains").map(b=>(ar(b)&&(b.data=u.lookupDataSource(b.data)),b));return yPe(g)}function Sfe(u){return e7(u)||UG(u)?u.children.reduce((c,d)=>c.concat(Sfe(d)),wfe(u)):wfe(u)}function wfe(u){return re(u.component.scales).reduce((c,d)=>{let g=u.component.scales[d];if(g.merged)return c;let b=g.combine(),{name:D,type:M,selectionExtent:Q,domains:se,range:Ve,reverse:Xe,...qt}=b,on=vPe(b.range,D,d,u),In=uk(u,d),Xn=Q?GQ(u,Q,g,In):null;return c.push({name:D,type:M,...In?{domain:In}:{},...Xn?{domainRaw:Xn}:{},range:on,...Xe!==void 0?{reverse:Xe}:{},...qt}),c},[])}function vPe(u,c,d,g){if(us(d)){if(br(u))return{step:{signal:`${c}_step`}}}else if(e.isObject(u)&&ar(u))return{...u,data:g.lookupDataSource(u.data)};return u}class Cfe extends Dp{constructor(c,d){super({},{name:c});bn(this,"merged",!1),this.setWithExplicit("type",d)}domainDefinitelyIncludesZero(){return this.get("zero")!==!1?!0:mn(this.get("domains"),c=>e.isArray(c)&&c.length===2&&c[0]<=0&&c[1]>=0)}}let _Pe=["range","scheme"];function bPe(u){let c=u.component.scales;for(let d of vs){let g=c[d];if(!g)continue;let b=EPe(d,u);g.setWithExplicit("range",b)}}function Afe(u,c){let d=u.fieldDef(c);if(d!=null&&d.bin){let{bin:g,field:b}=d,D=ts(c),M=u.getName(D);if(e.isObject(g)&&g.binned&&g.step!==void 0)return new eh(()=>{let Q=u.scaleName(c),se=`(domain("${Q}")[1] - domain("${Q}")[0]) / ${g.step}`;return`${u.getSignalName(M)} / (${se})`});if(mr(g)){let Q=DG(u,b,g);return new eh(()=>{let se=u.getSignalName(Q),Ve=`(${se}.stop - ${se}.start) / ${se}.step`;return`${u.getSignalName(M)} / (${Ve})`})}}}function EPe(u,c){let d=c.specifiedScales[u],{size:g}=c,D=c.getScaleComponent(u).get("type");for(let qt of _Pe)if(d[qt]!==void 0){let on=Fs(D,qt),In=x0(u,qt);if(!on)jr(Nr(D,qt,u));else if(In)jr(In);else switch(qt){case"range":{let Xn=d.range;if(e.isArray(Xn)){if(us(u))return ul(Xn.map(lr=>{if(lr==="width"||lr==="height"){let pr=c.getName(lr),kr=c.getSignalName.bind(c);return eh.fromName(kr,pr)}return lr}))}else if(e.isObject(Xn))return ul({data:c.requestDataName(ja.Main),field:Xn.field,sort:{op:"min",field:c.vgField(u)}});return ul(Xn)}case"scheme":return ul(SPe(d[qt]))}}let M=u===Nn||u==="xOffset"?"width":"height",Q=g[M];if(Fp(Q)){if(us(u))if(Pe(D)){let qt=Tfe(Q,c,u);if(qt)return ul({step:qt})}else jr(it(M));else if(Wi(u)){let qt=u===oe?"x":"y";if(c.getScaleComponent(qt).get("type")==="band"){let Xn=Ffe(Q,D);if(Xn)return ul(Xn)}}}let{rangeMin:se,rangeMax:Ve}=d,Xe=wPe(u,c);return(se!==void 0||Ve!==void 0)&&Fs(D,"rangeMin")&&e.isArray(Xe)&&Xe.length===2?ul([se??Xe[0],Ve??Xe[1]]):b0(Xe)}function SPe(u){return Bi(u)?{scheme:u.name,...pe(u,["name"])}:{scheme:u}}function wPe(u,c){let{size:d,config:g,mark:b,encoding:D}=c,M=c.getSignalName.bind(c),{type:Q}=yu(D[u]),Ve=c.getScaleComponent(u).get("type"),{domain:Xe,domainMid:qt}=c.specifiedScales[u];switch(u){case Nn:case nr:{if(Ct(["point","band"],Ve)){let Xn=Dfe(u,d,g.view);if(Fp(Xn))return{step:Tfe(Xn,c,u)}}let on=ts(u),In=c.getName(on);return u===nr&&wt(Ve)?[eh.fromName(M,In),0]:[0,eh.fromName(M,In)]}case oe:case Be:return CPe(u,c,Ve);case Ce:{let on=c.component.scales[u].get("zero"),In=Ofe(b,on,g),Xn=FPe(b,d,c,g);return ur(Ve)?TPe(In,Xn,APe(Ve,g,Xe,u)):[In,Xn]}case hn:return[0,Math.PI*2];case We:return[0,360];case rt:return[0,new eh(()=>{let on=c.getSignalName("width"),In=c.getSignalName("height");return`min(${on},${In})/2`})];case Cn:return[g.scale.minStrokeWidth,g.scale.maxStrokeWidth];case En:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case ne:return"symbol";case gt:case St:case Rt:return Ve==="ordinal"?Q==="nominal"?"category":"ordinal":qt!==void 0?"diverging":b==="rect"||b==="geoshape"?"heatmap":"ramp";case st:case Ut:case sn:return[g.scale.minOpacity,g.scale.maxOpacity]}}function Tfe(u,c,d){let{encoding:g}=c,b=c.getScaleComponent(d),D=xa(d),M=g[D];if(iL({step:u,offsetIsDiscrete:ks(M)&&vp(M.type)})==="offset"&&$N(g,D)){let se=c.getScaleComponent(D),Xe=`domain('${c.scaleName(D)}').length`;if(se.get("type")==="band"){let on=se.get("paddingInner")??se.get("padding")??0,In=se.get("paddingOuter")??se.get("padding")??0;Xe=`bandspace(${Xe}, ${on}, ${In})`}let qt=b.get("paddingInner")??b.get("padding");return{signal:`${u.step} * ${Xe} / (1-${Ir(qt)})`}}else return u.step}function Ffe(u,c){if(iL({step:u,offsetIsDiscrete:Pe(c)})==="offset")return{step:u.step}}function CPe(u,c,d){let g=u===oe?"x":"y",D=c.getScaleComponent(g).get("type"),M=c.scaleName(g);if(D==="band"){let Q=Dfe(g,c.size,c.config.view);if(Fp(Q)){let se=Ffe(Q,d);if(se)return se}return[0,{signal:`bandwidth('${M}')`}]}else return ke(`Cannot use ${u} scale if ${g} scale is not discrete.`)}function Dfe(u,c,d){let g=u===Nn?"width":"height",b=c[g];return b||BE(d,g)}function APe(u,c,d,g){switch(u){case"quantile":return c.scale.quantileCount;case"quantize":return c.scale.quantizeCount;case"threshold":return d!==void 0&&e.isArray(d)?d.length+1:(jr(Pc(g)),3)}}function TPe(u,c,d){let g=()=>{let b=gi(c),D=gi(u),M=`(${b} - ${D}) / (${d} - 1)`;return`sequence(${D}, ${b} + ${M}, ${M})`};return $n(c)?new eh(g):{signal:g()}}function Ofe(u,c,d){if(c)return $n(c)?{signal:`${c.signal} ? 0 : ${Ofe(u,!1,d)}`}:0;switch(u){case"bar":case"tick":return d.scale.minBandSize;case"line":case"trail":case"rule":return d.scale.minStrokeWidth;case"text":return d.scale.minFontSize;case"point":case"square":case"circle":return d.scale.minSize}throw new Error(bl("size",u))}let Rfe=.95;function FPe(u,c,d,g){let b={x:Afe(d,"x"),y:Afe(d,"y")};switch(u){case"bar":case"tick":{if(g.scale.maxBandSize!==void 0)return g.scale.maxBandSize;let D=Nfe(c,b,g.view);return e.isNumber(D)?D-1:new eh(()=>`${D.signal} - 1`)}case"line":case"trail":case"rule":return g.scale.maxStrokeWidth;case"text":return g.scale.maxFontSize;case"point":case"square":case"circle":{if(g.scale.maxSize)return g.scale.maxSize;let D=Nfe(c,b,g.view);return e.isNumber(D)?Math.pow(Rfe*D,2):new eh(()=>`pow(${Rfe} * ${D.signal}, 2)`)}}throw new Error(bl("size",u))}function Nfe(u,c,d){let g=Fp(u.width)?u.width.step:PE(d,"width"),b=Fp(u.height)?u.height.step:PE(d,"height");return c.x||c.y?new eh(()=>`min(${[c.x?c.x.signal:g,c.y?c.y.signal:b].join(", ")})`):Math.min(g,b)}function Lfe(u,c){mc(u)?DPe(u,c):Mfe(u,c)}function DPe(u,c){let d=u.component.scales,{config:g,encoding:b,markDef:D,specifiedScales:M}=u;for(let Q of re(d)){let se=M[Q],Ve=d[Q],Xe=u.getScaleComponent(Q),qt=yu(b[Q]),on=se[c],In=Xe.get("type"),Xn=Xe.get("padding"),lr=Xe.get("paddingInner"),pr=Fs(In,c),kr=x0(Q,c);if(on!==void 0&&(pr?kr&&jr(kr):jr(Nr(In,c,Q))),pr&&kr===void 0)if(on!==void 0){let Ni=qt.timeUnit,Ui=qt.type;switch(c){case"domainMax":case"domainMin":Z0(se[c])||Ui==="temporal"||Ni?Ve.set(c,{signal:DE(se[c],{type:Ui,timeUnit:Ni})},!0):Ve.set(c,se[c],!0);break;default:Ve.copyKeyFromObject(c,se)}}else{let Ni=c in kfe?kfe[c]({model:u,channel:Q,fieldOrDatumDef:qt,scaleType:In,scalePadding:Xn,scalePaddingInner:lr,domain:se.domain,domainMin:se.domainMin,domainMax:se.domainMax,markDef:D,config:g,hasNestedOffsetScale:O9(b,Q),hasSecondaryRangeChannel:!!b[ws(Q)]}):g.scale[c];Ni!==void 0&&Ve.set(c,Ni,!1)}}}let kfe={bins:u=>{let{model:c,fieldOrDatumDef:d}=u;return Er(d)?OPe(c,d):void 0},interpolate:u=>{let{channel:c,fieldOrDatumDef:d}=u;return RPe(c,d.type)},nice:u=>{let{scaleType:c,channel:d,domain:g,domainMin:b,domainMax:D,fieldOrDatumDef:M}=u;return NPe(c,d,g,b,D,M)},padding:u=>{let{channel:c,scaleType:d,fieldOrDatumDef:g,markDef:b,config:D}=u;return LPe(c,d,D.scale,g,b,D.bar)},paddingInner:u=>{let{scalePadding:c,channel:d,markDef:g,scaleType:b,config:D,hasNestedOffsetScale:M}=u;return kPe(c,d,g.type,b,D.scale,M)},paddingOuter:u=>{let{scalePadding:c,channel:d,scaleType:g,scalePaddingInner:b,config:D,hasNestedOffsetScale:M}=u;return IPe(c,d,g,b,D.scale,M)},reverse:u=>{let{fieldOrDatumDef:c,scaleType:d,channel:g,config:b}=u,D=Er(c)?c.sort:void 0;return MPe(d,D,g,b.scale)},zero:u=>{let{channel:c,fieldOrDatumDef:d,domain:g,markDef:b,scaleType:D,config:M,hasSecondaryRangeChannel:Q}=u;return PPe(c,d,g,b,D,M.scale,Q)}};function Ife(u){mc(u)?bPe(u):Mfe(u,"range")}function Mfe(u,c){let d=u.component.scales;for(let g of u.children)c==="range"?Ife(g):Lfe(g,c);for(let g of re(d)){let b;for(let D of u.children){let M=D.component.scales[g];if(M){let Q=M.getWithExplicit(c);b=o2(b,Q,c,"scale",TL((se,Ve)=>{switch(c){case"range":return se.step&&Ve.step?se.step-Ve.step:0}return 0}))}}d[g].setWithExplicit(c,b)}}function OPe(u,c){let d=c.bin;if(mr(d)){let g=DG(u,c.field,d);return new eh(()=>u.getSignalName(g))}else if(is(d)&&Ie(d)&&d.step!==void 0)return{step:d.step}}function RPe(u,c){if(Ct([gt,St,Rt],u)&&c!=="nominal")return"hcl"}function NPe(u,c,d,g,b,D){var M;if(!((M=jh(D))!==null&&M!==void 0&&M.bin||e.isArray(d)||b!=null||g!=null||Ct([sl.TIME,sl.UTC],u)))return us(c)?!0:void 0}function LPe(u,c,d,g,b,D){if(us(u)){if(Tn(c)){if(d.continuousPadding!==void 0)return d.continuousPadding;let{type:M,orient:Q}=b;if(M==="bar"&&!(Er(g)&&(g.bin||g.timeUnit))&&(Q==="vertical"&&u==="x"||Q==="horizontal"&&u==="y"))return D.continuousBandSize}if(c===sl.POINT)return d.pointPadding}}function kPe(u,c,d,g,b){let D=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(u===void 0){if(us(c)){let{bandPaddingInner:M,barBandPaddingInner:Q,rectBandPaddingInner:se,bandWithNestedOffsetPaddingInner:Ve}=b;return D?Ve:Ne(M,d==="bar"?Q:se)}else if(Wi(c)&&g===sl.BAND)return b.offsetBandPaddingInner}}function IPe(u,c,d,g,b){let D=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(u===void 0){if(us(c)){let{bandPaddingOuter:M,bandWithNestedOffsetPaddingOuter:Q}=b;if(D)return Q;if(d===sl.BAND)return Ne(M,$n(g)?{signal:`${g.signal}/2`}:g/2)}else if(Wi(c)){if(d===sl.POINT)return .5;if(d===sl.BAND)return b.offsetBandPaddingOuter}}}function MPe(u,c,d,g){if(d==="x"&&g.xReverse!==void 0)return wt(u)&&c==="descending"?$n(g.xReverse)?{signal:`!${g.xReverse.signal}`}:!g.xReverse:g.xReverse;if(wt(u)&&c==="descending")return!0}function PPe(u,c,d,g,b,D,M){if(!!d&&d!=="unaggregated"&&wt(b)){if(e.isArray(d)){let se=d[0],Ve=d[d.length-1];if(se<=0&&Ve>=0)return!0}return!1}if(u==="size"&&c.type==="quantitative"&&!ur(b))return!0;if(!(Er(c)&&c.bin)&&Ct([...io,...ho],u)){let{orient:se,type:Ve}=g;return Ct(["bar","area","line","trail"],Ve)&&(se==="horizontal"&&u==="y"||se==="vertical"&&u==="x")?!1:Ct(["bar","area"],Ve)&&!M?!0:D==null?void 0:D.zero}return!1}function BPe(u,c,d,g){let b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,D=jPe(c,d,g,b),{type:M}=u;return Ii(c)?M!==void 0?Ep(c,M)?Er(d)&&!Al(M,d.type)?(jr(hr(M,D)),D):M:(jr(sr(c,M,D)),D):D:null}function jPe(u,c,d,g){switch(c.type){case"nominal":case"ordinal":{var b;if(w(u)||$a(u)==="discrete")return u==="shape"&&c.type==="ordinal"&&jr(El(u,"ordinal")),"ordinal";if(us(u)||Wi(u)){if(Ct(["rect","bar","image","rule"],d.type)||g)return"band"}else if(d.type==="arc"&&u in so)return"band";let D=d[ts(u)];return x(D)||l3(c)&&(b=c.axis)!==null&&b!==void 0&&b.tickBand?"band":"point"}case"temporal":return w(u)?"time":$a(u)==="discrete"?(jr(El(u,"temporal")),"ordinal"):Er(c)&&c.timeUnit&&xu(c.timeUnit).utc?"utc":"time";case"quantitative":return w(u)?Er(c)&&mr(c.bin)?"bin-ordinal":"linear":$a(u)==="discrete"?(jr(El(u,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(Mc(c.type))}function qPe(u){let{ignoreRange:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Pfe(u),bfe(u);for(let d of Ph)Lfe(u,d);c||Ife(u)}function Pfe(u){mc(u)?u.component.scales=UPe(u):u.component.scales=zPe(u)}function UPe(u){let{encoding:c,mark:d,markDef:g}=u,b={};for(let D of vs){let M=yu(c[D]);if(M&&d===J1&&D===ne&&M.type===Nu)continue;let Q=M&&M.scale;if(Wi(D)){let se=yl(D);if(!O9(c,se)){Q&&jr(af(D));continue}}if(M&&Q!==null&&Q!==!1){Q??={};let se=O9(c,D),Ve=BPe(Q,D,M,g,se);b[D]=new Cfe(u.scaleName(`${D}`,!0),{value:Ve,explicit:Q.type===Ve})}}return b}let $Pe=TL((u,c)=>bp(u)-bp(c));function zPe(u){let c=u.component.scales={},d={},g=u.component.resolve;for(let b of u.children){Pfe(b);for(let D of re(b.component.scales))if(g.scale[D]??=nfe(D,u),g.scale[D]==="shared"){let M=d[D],Q=b.component.scales[D].getWithExplicit("type");M?zd(M.value,Q.value)?d[D]=o2(M,Q,"type","scale",$Pe):(g.scale[D]="independent",delete d[D]):d[D]=Q}}for(let b of re(d)){let D=u.scaleName(b,!0),M=d[b];c[b]=new Cfe(D,M);for(let Q of u.children){let se=Q.component.scales[b];se&&(Q.renameScale(se.get("name"),D),se.merged=!0)}}return c}class qG{constructor(){bn(this,"nameMap",void 0),this.nameMap={}}rename(c,d){this.nameMap[c]=d}has(c){return this.nameMap[c]!==void 0}get(c){for(;this.nameMap[c]&&c!==this.nameMap[c];)c=this.nameMap[c];return c}}function mc(u){return(u==null?void 0:u.type)==="unit"}function om(u){return(u==null?void 0:u.type)==="facet"}function UG(u){return(u==null?void 0:u.type)==="concat"}function e7(u){return(u==null?void 0:u.type)==="layer"}class $G{constructor(c,d,g,b,D,M,Q){this.type=d,this.parent=g,this.config=D,bn(this,"name",void 0),bn(this,"size",void 0),bn(this,"title",void 0),bn(this,"description",void 0),bn(this,"data",void 0),bn(this,"transforms",void 0),bn(this,"layout",void 0),bn(this,"scaleNameMap",void 0),bn(this,"projectionNameMap",void 0),bn(this,"signalNameMap",void 0),bn(this,"component",void 0),bn(this,"view",void 0),bn(this,"children",void 0),bn(this,"correctDataNames",se=>{var Ve,Xe,qt;return(Ve=se.from)!==null&&Ve!==void 0&&Ve.data&&(se.from.data=this.lookupDataSource(se.from.data)),(Xe=se.from)!==null&&Xe!==void 0&&(qt=Xe.facet)!==null&&qt!==void 0&&qt.data&&(se.from.facet.data=this.lookupDataSource(se.from.facet.data)),se}),this.parent=g,this.config=D,this.view=pn(Q),this.name=c.name??b,this.title=Kn(c.title)?{text:c.title}:c.title?pn(c.title):void 0,this.scaleNameMap=g?g.scaleNameMap:new qG,this.projectionNameMap=g?g.projectionNameMap:new qG,this.signalNameMap=g?g.signalNameMap:new qG,this.data=c.data,this.description=c.description,this.transforms=BQ(c.transform??[]),this.layout=d==="layer"||d==="unit"?{}:fQ(c,d,D),this.component={data:{sources:g?g.component.data.sources:[],outputNodes:g?g.component.data.outputNodes:{},outputNodeRefCounts:g?g.component.data.outputNodeRefCounts:{},isFaceted:wp(c)||(g==null?void 0:g.component.data.isFaceted)&&c.data===void 0},layoutSize:new Dp,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...M?be(M):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){qPe(this)}parseProjection(){mfe(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){cfe(this)}assembleEncodeFromView(c){let{style:d,...g}=c,b={};for(let D of re(g)){let M=g[D];M!==void 0&&(b[D]=qr(M))}return b}assembleGroupEncodeEntry(c){let d={};return this.view&&(d=this.assembleEncodeFromView(this.view)),!c&&(this.description&&(d.description=qr(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...d??{}}:Ke(d)?void 0:d}assembleLayout(){if(!this.layout)return;let{spacing:c,...d}=this.layout,{component:g,config:b}=this,D=cd(g.layoutHeaders,b);return{padding:c,...this.assembleDefaultLayout(),...d,...D?{titleBand:D}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){let{layoutHeaders:c}=this.component,d=[];for(let g of ee)c[g].title&&d.push(wi(this,g));for(let g of Tr)d=d.concat(xo(this,g));return d}assembleAxes(){return vG(this.component.axes,this.config)}assembleLegends(){return dfe(this)}assembleProjections(){return kMe(this)}assembleTitle(){let{encoding:c,...d}=this.title??{},g={...Ln(this.config.title).nonMarkTitleProperties,...d,...c?{encode:{update:c}}:{}};if(g.text)return Ct(["unit","layer"],this.type)?Ct(["middle",void 0],g.anchor)&&(g.frame??="group"):g.anchor??="start",Ke(g)?void 0:g}assembleGroup(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d={};c=c.concat(this.assembleSignals()),c.length>0&&(d.signals=c);let g=this.assembleLayout();g&&(d.layout=g),d.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());let b=!this.parent||om(this.parent)?Sfe(this):[];b.length>0&&(d.scales=b);let D=this.assembleAxes();D.length>0&&(d.axes=D);let M=this.assembleLegends();return M.length>0&&(d.legends=M),d}getName(c){return Ot((this.name?`${this.name}_`:"")+c)}getDataName(c){return this.getName(ja[c].toLowerCase())}requestDataName(c){let d=this.getDataName(c),g=this.component.data.outputNodeRefCounts;return g[d]=(g[d]||0)+1,d}getSizeSignalRef(c){if(om(this.parent)){let d=efe(c),g=hi(d),b=this.component.scales[g];if(b&&!b.merged){let D=b.get("type"),M=b.get("range");if(Pe(D)&&br(M)){let Q=b.get("name"),se=uk(this,g),Ve=jG(se);if(Ve){let Xe=fi({aggregate:"distinct",field:Ve},{expr:"datum"});return{signal:Zce(Q,b,Xe)}}else return jr(vr(g)),null}}}return{signal:this.signalNameMap.get(this.getName(c))}}lookupDataSource(c){let d=this.component.data.outputNodes[c];return d?d.getSource():c}getSignalName(c){return this.signalNameMap.get(c)}renameSignal(c,d){this.signalNameMap.rename(c,d)}renameScale(c,d){this.scaleNameMap.rename(c,d)}renameProjection(c,d){this.projectionNameMap.rename(c,d)}scaleName(c,d){if(d)return this.getName(c);if(yr(c)&&Ii(c)&&this.component.scales[c]||this.scaleNameMap.has(this.getName(c)))return this.scaleNameMap.get(this.getName(c))}projectionName(c){if(c)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(c){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");let d=this.component.scales[c];return d&&!d.merged?d:this.parent?this.parent.getScaleComponent(c):void 0}getSelectionComponent(c,d){let g=this.component.selection[c];if(!g&&this.parent&&(g=this.parent.getSelectionComponent(c,d)),!g)throw new Error(oo(d));return g}hasAxisOrientSignalRef(){var c,d;return((c=this.component.axes.x)===null||c===void 0?void 0:c.some(g=>g.hasOrientSignalRef()))||((d=this.component.axes.y)===null||d===void 0?void 0:d.some(g=>g.hasOrientSignalRef()))}}class Bfe extends $G{vgField(c){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=this.fieldDef(c);if(!!g)return fi(g,d)}reduceFieldDef(c,d){return Kd(this.getMapping(),(g,b,D)=>{let M=jh(b);return M?c(g,M,D):g},d)}forEachFieldDef(c,d){R9(this.getMapping(),(g,b)=>{let D=jh(g);D&&c(D,b)},d)}}class lk extends Sa{clone(){return new lk(null,be(this.transform))}constructor(c,d){super(c);this.transform=d,this.transform=be(d);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??"value",g[1]??"density"],d.groupby&&d.minsteps==null&&d.maxsteps==null&&d.steps==null&&(this.transform.steps=200)}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${lt(this.transform)}`}assemble(){let{density:c,...d}=this.transform;return{type:"kde",field:c,...d}}}class vA extends Sa{clone(){return new vA(null,{...this.filter})}constructor(c,d){super(c);this.filter=d}static make(c,d){let{config:g,mark:b,markDef:D}=d;if(vi("invalid",D,g)!=="filter")return null;let Q=d.reduceFieldDef((se,Ve,Xe)=>{let qt=Ii(Xe)&&d.getScaleComponent(Xe);if(qt){let on=qt.get("type");wt(on)&&Ve.aggregate!=="count"&&!pf(b)&&(se[Ve.field]=Ve)}return se},{});return re(Q).length?new vA(c,Q):null}dependentFields(){return new Set(re(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${lt(this.filter)}`}assemble(){let c=re(this.filter).reduce((d,g)=>{let b=this.filter[g],D=fi(b,{expr:"datum"});return b!==null&&(b.type==="temporal"?d.push(`(isDate(${D}) || (isValid(${D}) && isFinite(+${D})))`):b.type==="quantitative"&&(d.push(`isValid(${D})`),d.push(`isFinite(+${D})`))),d},[]);return c.length>0?{type:"filter",expr:c.join(" && ")}:null}}class ck extends Sa{clone(){return new ck(this.parent,be(this.transform))}constructor(c,d){super(c);this.transform=d,this.transform=be(d);let{flatten:g,as:b=[]}=this.transform;this.transform.as=g.map((D,M)=>b[M]??D)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${lt(this.transform)}`}assemble(){let{flatten:c,as:d}=this.transform;return{type:"flatten",fields:c,as:d}}}class fk extends Sa{clone(){return new fk(null,be(this.transform))}constructor(c,d){super(c);this.transform=d,this.transform=be(d);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??"key",g[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${lt(this.transform)}`}assemble(){let{fold:c,as:d}=this.transform;return{type:"fold",fields:c,as:d}}}class t7 extends Sa{clone(){return new t7(null,be(this.fields),this.geojson,this.signal)}static parseAll(c,d){if(d.component.projection&&!d.component.projection.isFit)return c;let g=0;for(let b of[[ie,dt],[Ue,Te]]){let D=b.map(M=>{let Q=yu(d.encoding[M]);return Er(Q)?Q.field:So(Q)?{expr:`${Q.datum}`}:Yd(Q)?{expr:`${Q.value}`}:void 0});(D[0]||D[1])&&(c=new t7(c,D,null,d.getName(`geojson_${g++}`)))}if(d.channelHasField(ne)){let b=d.typedFieldDef(ne);b.type===Nu&&(c=new t7(c,null,b.field,d.getName(`geojson_${g++}`)))}return c}constructor(c,d,g,b){super(c);this.fields=d,this.geojson=g,this.signal=b}dependentFields(){let c=(this.fields??[]).filter(e.isString);return new Set([...this.geojson?[this.geojson]:[],...c])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${lt(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class _A extends Sa{clone(){return new _A(null,this.projection,be(this.fields),be(this.as))}constructor(c,d,g,b){super(c);this.projection=d,this.fields=g,this.as=b}static parseAll(c,d){if(!d.projectionName())return c;for(let g of[[ie,dt],[Ue,Te]]){let b=g.map(M=>{let Q=yu(d.encoding[M]);return Er(Q)?Q.field:So(Q)?{expr:`${Q.datum}`}:Yd(Q)?{expr:`${Q.value}`}:void 0}),D=g[0]===Ue?"2":"";(b[0]||b[1])&&(c=new _A(c,d.projectionName(),b,[d.getName(`x${D}`),d.getName(`y${D}`)]))}return c}dependentFields(){return new Set(this.fields.filter(e.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${lt(this.fields)} ${lt(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class y_ extends Sa{clone(){return new y_(null,be(this.transform))}constructor(c,d){super(c);this.transform=d}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(c){let{start:d=0,stop:g,step:b}=c;return{signal:`sequence(${[d,g,...b?[b]:[]].join(",")})`}}static makeFromTransform(c,d){return new y_(c,d)}static makeFromEncoding(c,d){let g=d.encoding,b=g.x,D=g.y;if(Er(b)&&Er(D)){let M=b.impute?b:D.impute?D:void 0;if(M===void 0)return;let Q=b.impute?D:D.impute?b:void 0,{method:se,value:Ve,frame:Xe,keyvals:qt}=M.impute,on=HN(d.mark,g);return new y_(c,{impute:M.field,key:Q.field,...se?{method:se}:{},...Ve!==void 0?{value:Ve}:{},...Xe?{frame:Xe}:{},...qt!==void 0?{keyvals:qt}:{},...on.length?{groupby:on}:{}})}return null}hash(){return`Impute ${lt(this.transform)}`}assemble(){let{impute:c,key:d,keyvals:g,method:b,groupby:D,value:M,frame:Q=[null,null]}=this.transform,se={type:"impute",field:c,key:d,...g?{keyvals:_0(g)?this.processSequence(g):g}:{},method:"value",...D?{groupby:D}:{},value:!b||b==="value"?M:null};if(b&&b!=="value"){let Ve={type:"window",as:[`imputed_${c}_value`],ops:[b],fields:[c],frame:Q,ignorePeers:!1,...D?{groupby:D}:{}},Xe={type:"formula",expr:`datum.${c} === null ? datum.imputed_${c}_value : datum.${c}`,as:c};return[se,Ve,Xe]}else return[se]}}class dk extends Sa{clone(){return new dk(null,be(this.transform))}constructor(c,d){super(c);this.transform=d,this.transform=be(d);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??d.on,g[1]??d.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${lt(this.transform)}`}assemble(){let{loess:c,on:d,...g}=this.transform;return{type:"loess",x:d,y:c,...g}}}class bA extends Sa{clone(){return new bA(null,be(this.transform),this.secondary)}constructor(c,d,g){super(c);this.transform=d,this.secondary=g}static make(c,d,g,b){let D=d.component.data.sources,{from:M}=g,Q=null;if(FQ(M)){let se=$fe(M.data,D);se||(se=new m_(M.data),D.push(se));let Ve=d.getName(`lookup_${b}`);Q=new jf(se,Ve,ja.Lookup,d.component.data.outputNodeRefCounts),d.component.data.outputNodes[Ve]=Q}else if(s2(M)){let se=M.param;g={as:se,...g};let Ve;try{Ve=d.getSelectionComponent(Ot(se),se)}catch{throw new Error(rf(se))}if(Q=Ve.materialized,!Q)throw new Error(kc(se))}return new bA(c,g,Q.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?e.array(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${lt({transform:this.transform,secondary:this.secondary})}`}assemble(){let c;if(this.transform.from.fields)c={values:this.transform.from.fields,...this.transform.as?{as:e.array(this.transform.as)}:{}};else{let d=this.transform.as;e.isString(d)||(jr(Vl),d="_lookup"),c={as:[d]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...c,...this.transform.default?{default:this.transform.default}:{}}}}class hk extends Sa{clone(){return new hk(null,be(this.transform))}constructor(c,d){super(c);this.transform=d,this.transform=be(d);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??"prob",g[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${lt(this.transform)}`}assemble(){let{quantile:c,...d}=this.transform;return{type:"quantile",field:c,...d}}}class pk extends Sa{clone(){return new pk(null,be(this.transform))}constructor(c,d){super(c);this.transform=d,this.transform=be(d);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??d.on,g[1]??d.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${lt(this.transform)}`}assemble(){let{regression:c,on:d,...g}=this.transform;return{type:"regression",x:d,y:c,...g}}}class mk extends Sa{clone(){return new mk(null,be(this.transform))}constructor(c,d){super(c);this.transform=d}addDimensions(c){this.transform.groupby=bt((this.transform.groupby??[]).concat(c),d=>d)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${lt(this.transform)}`}assemble(){let{pivot:c,value:d,groupby:g,limit:b,op:D}=this.transform;return{type:"pivot",field:c,value:d,...b!==void 0?{limit:b}:{},...D!==void 0?{op:D}:{},...g!==void 0?{groupby:g}:{}}}}class xk extends Sa{clone(){return new xk(null,be(this.transform))}constructor(c,d){super(c);this.transform=d}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${lt(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function jfe(u){let c=0;function d(g,b){if(g instanceof m_&&!g.isGenerator&&!rm(g.data)&&(u.push(b),b={name:null,source:b.name,transform:[]}),g instanceof S0&&(g.parent instanceof m_&&!b.source?(b.format={...b.format??{},parse:g.assembleFormatParse()},b.transform.push(...g.assembleTransforms(!0))):b.transform.push(...g.assembleTransforms())),g instanceof XE){b.name||(b.name=`data_${c++}`),!b.source||b.transform.length>0?(u.push(b),g.data=b.name):g.data=b.source,u.push(...g.assemble());return}switch((g instanceof gA||g instanceof yA||g instanceof vA||g instanceof E3||g instanceof Wt||g instanceof _A||g instanceof im||g instanceof bA||g instanceof ZE||g instanceof g_||g instanceof fk||g instanceof ck||g instanceof lk||g instanceof dk||g instanceof hk||g instanceof pk||g instanceof S3||g instanceof xk||g instanceof mk)&&b.transform.push(g.assemble()),(g instanceof f2||g instanceof Op||g instanceof y_||g instanceof cg||g instanceof t7)&&b.transform.push(...g.assemble()),g instanceof jf&&(b.source&&b.transform.length===0?g.setSource(b.source):g.parent instanceof jf?g.setSource(b.name):(b.name||(b.name=`data_${c++}`),g.setSource(b.name),g.numChildren()===1&&(u.push(b),b={name:null,source:b.name,transform:[]}))),g.numChildren()){case 0:g instanceof jf&&(!b.source||b.transform.length>0)&&u.push(b);break;case 1:d(g.children[0],b);break;default:{b.name||(b.name=`data_${c++}`);let D=b.name;!b.source||b.transform.length>0?u.push(b):D=b.source;for(let M of g.children)d(M,{name:null,source:D,transform:[]});break}}}return d}function HPe(u){let c=[],d=jfe(c);for(let g of u.children)d(g,{source:u.name,name:null,transform:[]});return c}function VPe(u,c){let d=[],g=jfe(d),b=0;for(let M of u.sources){M.hasName()||(M.dataName=`source_${b++}`);let Q=M.assemble();g(M,Q)}for(let M of d)M.transform.length===0&&delete M.transform;let D=0;for(let[M,Q]of d.entries())(Q.transform??[]).length===0&&!Q.source&&d.splice(D++,0,d.splice(M,1)[0]);for(let M of d)for(let Q of M.transform??[])Q.type==="lookup"&&(Q.from=u.outputNodes[Q.from].getSource());for(let M of d)M.name in c&&(M.values=c[M.name]);return d}function WPe(u){return u==="top"||u==="left"||$n(u)?"header":"footer"}function QPe(u){for(let c of ee)GPe(u,c);Ufe(u,"x"),Ufe(u,"y")}function GPe(u,c){let{facet:d,config:g,child:b,component:D}=u;if(u.channelHasField(c)){var M;let Q=d[c],se=Qn("title",null,g,c),Ve=f3(Q,g,{allowDisabling:!0,includeDefault:se===void 0||!!se});b.component.layoutHeaders[c].title&&(Ve=e.isArray(Ve)?Ve.join(", "):Ve,Ve+=` / ${b.component.layoutHeaders[c].title}`,b.component.layoutHeaders[c].title=null);let Xe=Qn("labelOrient",Q.header,g,c),qt=Q.header!==null?Ne((M=Q.header)===null||M===void 0?void 0:M.labels,g.header.labels,!0):!1,on=Ct(["bottom","right"],Xe)?"footer":"header";D.layoutHeaders[c]={title:Q.header!==null?Ve:null,facetFieldDef:Q,[on]:c==="facet"?[]:[qfe(u,c,qt)]}}}function qfe(u,c,d){let g=c==="row"?"height":"width";return{labels:d,sizeSignal:u.child.component.layoutSize.get(g)?u.child.getSizeSignalRef(g):void 0,axes:[]}}function Ufe(u,c){let{child:d}=u;if(d.component.axes[c]){let{layoutHeaders:g,resolve:b}=u.component;if(b.axis[c]=TG(b,c),b.axis[c]==="shared"){let D=c==="x"?"column":"row",M=g[D];for(let Q of d.component.axes[c]){let se=WPe(Q.get("orient"));M[se]??=[qfe(u,D,!1)];let Ve=p_(Q,"main",u.config,{header:!0});Ve&&M[se][0].axes.push(Ve),Q.mainExtracted=!0}}}}function YPe(u){zG(u),gk(u,"width"),gk(u,"height")}function KPe(u){zG(u);let c=u.layout.columns===1?"width":"childWidth",d=u.layout.columns===void 0?"height":"childHeight";gk(u,c),gk(u,d)}function zG(u){for(let c of u.children)c.parseLayoutSize()}function gk(u,c){let d=efe(c),g=hi(d),b=u.component.resolve,D=u.component.layoutSize,M;for(let Q of u.children){let se=Q.component.layoutSize.getWithExplicit(d),Ve=b.scale[g]??nfe(g,u);if(Ve==="independent"&&se.value==="step"){M=void 0;break}if(M){if(Ve==="independent"&&M.value!==se.value){M=void 0;break}M=o2(M,se,d,"")}else M=se}if(M){for(let Q of u.children)u.renameSignal(Q.getName(d),u.getName(c)),Q.component.layoutSize.set(d,"merged",!1);D.setWithExplicit(c,M)}else D.setWithExplicit(c,{explicit:!1,value:void 0})}function JPe(u){let{size:c,component:d}=u;for(let g of io){let b=ts(g);if(c[b]){let D=c[b];d.layoutSize.set(b,Fp(D)?"step":D,!0)}else{let D=XPe(u,b);d.layoutSize.set(b,D,!1)}}}function XPe(u,c){let d=c==="width"?"x":"y",g=u.config,b=u.getScaleComponent(d);if(b){let D=b.get("type"),M=b.get("range");if(Pe(D)){let Q=BE(g.view,c);return br(M)||Fp(Q)?"step":Q}else return H9(g.view,c)}else{if(u.hasProjection||u.mark==="arc")return H9(g.view,c);{let D=BE(g.view,c);return Fp(D)?D.step:D}}}function HG(u,c,d){return fi(c,{suffix:`by_${fi(u)}`,...d??{}})}class EA extends Bfe{constructor(c,d,g,b){super(c,"facet",d,g,b,c.resolve);bn(this,"facet",void 0),bn(this,"child",void 0),bn(this,"children",void 0),this.child=YG(c.spec,this,this.getName("child"),void 0,b),this.children=[this.child],this.facet=this.initFacet(c.facet)}initFacet(c){if(!Qd(c))return{facet:this.initFacetFieldDef(c,"facet")};let d=re(c),g={};for(let b of d){if(![Fn,Wn].includes(b)){jr(bl(b,"facet"));break}let D=c[b];if(D.field===void 0){jr(Zo(D,b));break}g[b]=this.initFacetFieldDef(D,b)}return g}initFacetFieldDef(c,d){let g=d3(c,d);return g.header?g.header=pn(g.header):g.header===null&&(g.header=null),g}channelHasField(c){return!!this.facet[c]}fieldDef(c){return this.facet[c]}parseData(){this.component.data=yk(this),this.child.parseData()}parseLayoutSize(){zG(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),QPe(this)}assembleSelectionTopLevelSignals(c){return this.child.assembleSelectionTopLevelSignals(c)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(c){return this.child.assembleSelectionData(c)}getHeaderLayoutMixins(){let c={};for(let d of ee)for(let g of Pr){let b=this.component.layoutHeaders[d],D=b[g],{facetFieldDef:M}=b;if(M){let Q=Qn("titleOrient",M.header,this.config,d);if(["right","bottom"].includes(Q)){let se=On(d,Q);c.titleAnchor??={},c.titleAnchor[se]="end"}}if(D!=null&&D[0]){let Q=d==="row"?"height":"width",se=g==="header"?"headerBand":"footerBand";d!=="facet"&&!this.child.component.layoutSize.get(Q)&&(c[se]??={},c[se][d]=.5),b.title&&(c.offset??={},c.offset[d==="row"?"rowTitle":"columnTitle"]=10)}}return c}assembleDefaultLayout(){let{column:c,row:d}=this.facet,g=c?this.columnDistinctSignal():d?1:void 0,b="all";return(!d&&this.component.resolve.scale.x==="independent"||!c&&this.component.resolve.scale.y==="independent")&&(b="none"),{...this.getHeaderLayoutMixins(),...g?{columns:g}:{},bounds:"full",align:b}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof EA))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(c){return this.parent&&this.parent instanceof EA?{...this.channelHasField("column")?{encode:{update:{columns:{field:fi(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(c)}:super.assembleGroup(c)}getCardinalityAggregateForChild(){let c=[],d=[],g=[];if(this.child instanceof EA){if(this.child.channelHasField("column")){let b=fi(this.child.facet.column);c.push(b),d.push("distinct"),g.push(`distinct_${b}`)}}else for(let b of io){let D=this.child.component.scales[b];if(D&&!D.merged){let M=D.get("type"),Q=D.get("range");if(Pe(M)&&br(Q)){let se=uk(this.child,b),Ve=jG(se);Ve?(c.push(Ve),d.push("distinct"),g.push(`distinct_${Ve}`)):jr(vr(b))}}}return{fields:c,ops:d,as:g}}assembleFacet(){let{name:c,data:d}=this.component.data.facetRoot,{row:g,column:b}=this.facet,{fields:D,ops:M,as:Q}=this.getCardinalityAggregateForChild(),se=[];for(let Xe of ee){let qt=this.facet[Xe];if(qt){se.push(fi(qt));let{bin:on,sort:In}=qt;if(mr(on)&&se.push(fi(qt,{binSuffix:"end"})),Ea(In)){let{field:Xn,op:lr=Dl}=In,pr=HG(qt,In);g&&b?(D.push(pr),M.push("max"),Q.push(pr)):(D.push(Xn),M.push(lr),Q.push(pr))}else if(e.isArray(In)){let Xn=_n(qt,Xe);D.push(Xn),M.push("max"),Q.push(Xn)}}}let Ve=!!g&&!!b;return{name:c,data:d,groupby:se,...Ve||D.length>0?{aggregate:{...Ve?{cross:Ve}:{},...D.length?{fields:D,ops:M,as:Q}:{}}}:{}}}facetSortFields(c){let{facet:d}=this,g=d[c];return g?Ea(g.sort)?[HG(g,g.sort,{expr:"datum"})]:e.isArray(g.sort)?[_n(g,c,{expr:"datum"})]:[fi(g,{expr:"datum"})]:[]}facetSortOrder(c){let{facet:d}=this,g=d[c];if(g){let{sort:b}=g;return[(Ea(b)?b.order:!e.isArray(b)&&b)||"ascending"]}return[]}assembleLabelTitle(){let{facet:c,config:d}=this;if(c.facet)return wo(c.facet,"facet",d);let g={row:["top","bottom"],column:["left","right"]};for(let D of Tr)if(c[D]){var b;let M=Qn("labelOrient",(b=c[D])===null||b===void 0?void 0:b.header,d,D);if(g[D].includes(M))return wo(c[D],D,d)}}assembleMarks(){let{child:c}=this,d=this.component.data.facetRoot,g=HPe(d),b=c.assembleGroupEncodeEntry(!1),D=this.assembleLabelTitle()||c.assembleTitle(),M=c.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...D?{title:D}:{},...M?{style:M}:{},from:{facet:this.assembleFacet()},sort:{field:ee.map(se=>this.facetSortFields(se)).flat(),order:ee.map(se=>this.facetSortOrder(se)).flat()},...g.length>0?{data:g}:{},...b?{encode:{update:b}}:{},...c.assembleGroup(VQ(this,[]))}]}getMapping(){return this.facet}}function ZPe(u,c){let{row:d,column:g}=c;if(d&&g){let b=null;for(let D of[d,g])if(Ea(D.sort)){let{field:M,op:Q=Dl}=D.sort;u=b=new g_(u,{joinaggregate:[{op:Q,field:M,as:HG(D,D.sort,{forAs:!0})}],groupby:[fi(D)]})}return b}return null}function $fe(u,c){for(let M of c){var d,g,b,D;let Q=M.data;if(u.name&&M.hasName()&&u.name!==M.dataName)continue;let se=(d=u.format)===null||d===void 0?void 0:d.mesh,Ve=(g=Q.format)===null||g===void 0?void 0:g.feature;if(se&&Ve)continue;let Xe=(b=u.format)===null||b===void 0?void 0:b.feature;if((Xe||Ve)&&Xe!==Ve)continue;let qt=(D=Q.format)===null||D===void 0?void 0:D.mesh;if(!((se||qt)&&se!==qt)){if(u_(u)&&u_(Q)){if(et(u.values,Q.values))return M}else if(rm(u)&&rm(Q)){if(u.url===Q.url)return M}else if(DL(u)&&u.name===M.dataName)return M}}return null}function eBe(u,c){if(u.data||!u.parent){if(u.data===null){let g=new m_({values:[]});return c.push(g),g}let d=$fe(u.data,c);if(d)return a2(u.data)||(d.data.format=Bt({},u.data.format,d.data.format)),!d.hasName()&&u.data.name&&(d.dataName=u.data.name),d;{let g=new m_(u.data);return c.push(g),g}}else return u.parent.component.data.facetRoot?u.parent.component.data.facetRoot:u.parent.component.data.main}function tBe(u,c,d){let g=0;for(let b of c.transforms){let D,M;if($E(b))M=u=new Wt(u,b),D="derived";else if(K9(b)){let Q=QMe(b);M=u=S0.makeWithAncestors(u,{},Q,d)??u,u=new E3(u,c,b.filter)}else if(nu(b))M=u=f2.makeFromTransform(u,b,c),D="number";else if(SL(b))D="date",d.getWithExplicit(b.field).value===void 0&&(u=new S0(u,{[b.field]:D}),d.set(b.field,D,!1)),M=u=Op.makeFromTransform(u,b);else if(IQ(b))M=u=im.makeFromTransform(u,b),D="number",fA(c)&&(u=new S3(u));else if(Mu(b))M=u=bA.make(u,c,b,g++),D="derived";else if(kQ(b))M=u=new ZE(u,b),D="number";else if(tm(b))M=u=new g_(u,b),D="number";else if(MQ(b))M=u=cg.makeFromTransform(u,b),D="derived";else if(PQ(b))M=u=new fk(u,b),D="derived";else if(EL(b))M=u=new ck(u,b),D="derived";else if(DQ(b))M=u=new mk(u,b),D="derived";else if(J9(b))u=new xk(u,b);else if(Pu(b))M=u=y_.makeFromTransform(u,b),D="derived";else if(OQ(b))M=u=new lk(u,b),D="derived";else if(RQ(b))M=u=new hk(u,b),D="derived";else if(NQ(b))M=u=new pk(u,b),D="derived";else if(LQ(b))M=u=new dk(u,b),D="derived";else{jr(ac(b));continue}if(M&&D!==void 0)for(let Q of M.producedFields()??[])d.set(Q,D,!1)}return u}function yk(u){var c;let d=eBe(u,u.component.data.sources),{outputNodes:g,outputNodeRefCounts:b}=u.component.data,D=u.data,Q=!(D&&(a2(D)||rm(D)||u_(D)))&&u.parent?u.parent.component.data.ancestorParse.clone():new FL;a2(D)?(OL(D)?d=new yA(d,D.sequence):tA(D)&&(d=new gA(d,D.graticule)),Q.parseNothing=!0):(D==null||(c=D.format)===null||c===void 0?void 0:c.parse)===null&&(Q.parseNothing=!0),d=S0.makeExplicit(d,u,Q)??d,d=new S3(d);let se=u.parent&&e7(u.parent);(mc(u)||om(u))&&se&&(d=f2.makeFromEncoding(d,u)??d),u.transforms.length>0&&(d=tBe(d,u,Q));let Ve=YMe(u),Xe=GMe(u);d=S0.makeWithAncestors(d,{},{...Ve,...Xe},Q)??d,mc(u)&&(d=t7.parseAll(d,u),d=_A.parseAll(d,u)),(mc(u)||om(u))&&(se||(d=f2.makeFromEncoding(d,u)??d),d=Op.makeFromEncoding(d,u)??d,d=Wt.parseAllForSortIndex(d,u));let qt=u.getDataName(ja.Raw),on=new jf(d,qt,ja.Raw,b);if(g[qt]=on,d=on,mc(u)){let pr=im.makeFromEncoding(d,u);pr&&(d=pr,fA(u)&&(d=new S3(d))),d=y_.makeFromEncoding(d,u)??d,d=cg.makeFromEncoding(d,u)??d}mc(u)&&(d=vA.make(d,u)??d);let In=u.getDataName(ja.Main),Xn=new jf(d,In,ja.Main,b);g[In]=Xn,d=Xn,mc(u)&&gG(u,Xn);let lr=null;if(om(u)){let pr=u.getName("facet");d=ZPe(d,u.facet)??d,lr=new XE(d,u,pr,Xn.getSource()),g[pr]=lr}return{...u.component.data,outputNodes:g,outputNodeRefCounts:b,raw:on,main:Xn,facetRoot:lr,ancestorParse:Q}}class nBe extends $G{constructor(c,d,g,b){var D,M,Q,se;super(c,"concat",d,g,b,c.resolve);bn(this,"children",void 0),(((D=c.resolve)===null||D===void 0||(M=D.axis)===null||M===void 0?void 0:M.x)==="shared"||((Q=c.resolve)===null||Q===void 0||(se=Q.axis)===null||se===void 0?void 0:se.y)==="shared")&&jr(l0),this.children=this.getChildren(c).map((Ve,Xe)=>YG(Ve,this,this.getName(`concat_${Xe}`),void 0,b))}parseData(){this.component.data=yk(this);for(let c of this.children)c.parseData()}parseSelections(){this.component.selection={};for(let c of this.children){c.parseSelections();for(let d of re(c.component.selection))this.component.selection[d]=c.component.selection[d]}}parseMarkGroup(){for(let c of this.children)c.parseMarkGroup()}parseAxesAndHeaders(){for(let c of this.children)c.parseAxesAndHeaders()}getChildren(c){return ME(c)?c.vconcat:z9(c)?c.hconcat:c.concat}parseLayoutSize(){KPe(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(c){return this.children.reduce((d,g)=>g.assembleSelectionTopLevelSignals(d),c)}assembleSignals(){return this.children.forEach(c=>c.assembleSignals()),[]}assembleLayoutSignals(){let c=fd(this);for(let d of this.children)c.push(...d.assembleLayoutSignals());return c}assembleSelectionData(c){return this.children.reduce((d,g)=>g.assembleSelectionData(d),c)}assembleMarks(){return this.children.map(c=>{let d=c.assembleTitle(),g=c.assembleGroupStyle(),b=c.assembleGroupEncodeEntry(!1);return{type:"group",name:c.getName("group"),...d?{title:d}:{},...g?{style:g}:{},...b?{encode:{update:b}}:{},...c.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){let c=this.layout.columns;return{...c!=null?{columns:c}:{},bounds:"full",align:"each"}}}function rBe(u){return u===!1||u===null}let iBe={disable:1,gridScale:1,scale:1,...qN,labelExpr:1,encode:1},zfe=re(iBe);class VG extends Dp{constructor(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;super();this.explicit=c,this.implicit=d,this.mainExtracted=g}clone(){return new VG(be(this.explicit),be(this.implicit),this.mainExtracted)}hasAxisPart(c){return c==="axis"?!0:c==="grid"||c==="title"?!!this.get(c):!rBe(this.get(c))}hasOrientSignalRef(){return $n(this.explicit.orient)}}function sBe(u,c,d){let{encoding:g,config:b}=u,D=yu(g[c])??yu(g[ws(c)]),M=u.axis(c)||{},{format:Q,formatType:se}=M;if(bi(se))return{text:gs({fieldOrDatumDef:D,field:"datum.value",format:Q,formatType:se,config:b}),...d};if(Q===void 0&&se===void 0&&b.customFormatTypes){if(al(D)==="quantitative"){if(l3(D)&&D.stack==="normalize"&&b.normalizedNumberFormatType)return{text:gs({fieldOrDatumDef:D,field:"datum.value",format:b.normalizedNumberFormat,formatType:b.normalizedNumberFormatType,config:b}),...d};if(b.numberFormatType)return{text:gs({fieldOrDatumDef:D,field:"datum.value",format:b.numberFormat,formatType:b.numberFormatType,config:b}),...d}}if(al(D)==="temporal"&&b.timeFormatType&&Er(D)&&!D.timeUnit)return{text:gs({fieldOrDatumDef:D,field:"datum.value",format:b.timeFormat,formatType:b.timeFormatType,config:b}),...d}}return d}function oBe(u){return io.reduce((c,d)=>(u.component.scales[d]&&(c[d]=[hBe(d,u)]),c),{})}let aBe={bottom:"top",top:"bottom",left:"right",right:"left"};function uBe(u){let{axes:c,resolve:d}=u.component,g={top:0,bottom:0,right:0,left:0};for(let b of u.children){b.parseAxesAndHeaders();for(let D of re(b.component.axes))d.axis[D]=TG(u.component.resolve,D),d.axis[D]==="shared"&&(c[D]=lBe(c[D],b.component.axes[D]),c[D]||(d.axis[D]="independent",delete c[D]))}for(let b of io){for(let D of u.children)if(!!D.component.axes[b]){if(d.axis[b]==="independent"){c[b]=(c[b]??[]).concat(D.component.axes[b]);for(let M of D.component.axes[b]){let{value:Q,explicit:se}=M.getWithExplicit("orient");if(!$n(Q)){if(g[Q]>0&&!se){let Ve=aBe[Q];g[Q]>g[Ve]&&M.set("orient",Ve,!1)}g[Q]++}}}delete D.component.axes[b]}if(d.axis[b]==="independent"&&c[b]&&c[b].length>1)for(let D of c[b])!!D.get("grid")&&!D.explicit.grid&&(D.implicit.grid=!1)}}function lBe(u,c){if(u){if(u.length!==c.length)return;let d=u.length;for(let g=0;g<d;g++){let b=u[g],D=c[g];if(!!b!=!!D)return;if(b&&D){let M=b.getWithExplicit("orient"),Q=D.getWithExplicit("orient");if(M.explicit&&Q.explicit&&M.value!==Q.value)return;u[g]=cBe(b,D)}}}else return c.map(d=>d.clone());return u}function cBe(u,c){for(let d of zfe){let g=o2(u.getWithExplicit(d),c.getWithExplicit(d),d,"axis",(b,D)=>{switch(d){case"title":return Jn(b,D);case"gridScale":return{explicit:b.explicit,value:Ne(b.value,D.value)}}return Qo(b,D,d,"axis")});u.setWithExplicit(d,g)}return u}function fBe(u,c,d,g,b){if(c==="disable")return d!==void 0;switch(d=d||{},c){case"titleAngle":case"labelAngle":return u===($n(d.labelAngle)?d.labelAngle:rn(d.labelAngle));case"values":return!!d.values;case"encode":return!!d.encoding||!!d.labelAngle;case"title":if(u===U(g,b))return!0}return u===d[c]}let dBe=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function hBe(u,c){var d,g,b,D;let M=c.axis(u),Q=new VG,se=yu(c.encoding[u]),{mark:Ve,config:Xe}=c,qt=((d=M)===null||d===void 0?void 0:d.orient)||((g=Xe[u==="x"?"axisX":"axisY"])===null||g===void 0?void 0:g.orient)||((b=Xe.axis)===null||b===void 0?void 0:b.orient)||h(u),on=c.getScaleComponent(u).get("type"),In=_G(u,on,qt,c.config),Xn=M!==void 0?!M:pA("disable",Xe.style,(D=M)===null||D===void 0?void 0:D.style,In).configValue;if(Q.set("disable",Xn,M!==void 0),Xn)return Q;M=M||{};let lr=wG(se,M,u,Xe.style,In),pr={fieldOrDatumDef:se,axis:M,channel:u,model:c,scaleType:on,orient:qt,labelAngle:lr,mark:Ve,config:Xe};for(let Ui of zfe){let Rs=Ui in rk?rk[Ui](pr):UN(Ui)?M[Ui]:void 0,ji=Rs!==void 0,ia=fBe(Rs,Ui,M,c,u);if(ji&&ia)Q.set(Ui,Rs,ia);else{let{configValue:as=void 0,configFrom:ll=void 0}=UN(Ui)&&Ui!=="values"?pA(Ui,Xe.style,M.style,In):{},Ol=as!==void 0;ji&&!Ol?Q.set(Ui,Rs,ia):(ll!=="vgAxisConfig"||dBe.has(Ui)&&Ol||e_(as)||$n(as))&&Q.set(Ui,as,!1)}}let kr=M.encoding??{},Ni=jN.reduce((Ui,Rs)=>{if(!Q.hasAxisPart(Rs))return Ui;let ji=tfe(kr[Rs]??{},c),ia=Rs==="labels"?sBe(c,u,ji):ji;return ia!==void 0&&!Ke(ia)&&(Ui[Rs]={update:ia}),Ui},{});return Ke(Ni)||Q.set("encode",Ni,!!M.encoding||M.labelAngle!==void 0),Q}function pBe(u){let{encoding:c,size:d}=u;for(let g of io){let b=ts(g);Fp(d[b])&&hc(c[g])&&(delete d[b],jr(it(b)))}return d}function mBe(u,c,d){let g=pn(u),b=vi("orient",g,d);if(g.orient=vBe(g.type,c,b),b!==void 0&&b!==g.orient&&jr(k(g.orient,b)),g.type==="bar"&&g.orient){let Q=vi("cornerRadiusEnd",g,d);if(Q!==void 0){let se=g.orient==="horizontal"&&c.x2||g.orient==="vertical"&&c.y2?["cornerRadius"]:T[g.orient];for(let Ve of se)g[Ve]=Q;g.cornerRadiusEnd!==void 0&&delete g.cornerRadiusEnd}}return vi("opacity",g,d)===void 0&&(g.opacity=gBe(g.type,c)),vi("cursor",g,d)===void 0&&(g.cursor=xBe(g,c,d)),g}function xBe(u,c,d){return c.href||u.href||vi("href",u,d)?"pointer":u.cursor}function gBe(u,c){if(Ct([Bh,Mf,Sp,Vd],u)&&!OE(c))return .7}function yBe(u,c,d){let{graticule:g}=d;if(g)return!1;let b=Bs("filled",u,c),D=u.type;return Ne(b,D!==Bh&&D!==Hd&&D!==If)}function vBe(u,c,d){switch(u){case Bh:case Sp:case Vd:case Fl:case o3:case s3:return}let{x:g,y:b,x2:D,y2:M}=c;switch(u){case Tl:if(Er(g)&&(is(g.bin)||Er(b)&&b.aggregate&&!g.aggregate))return"vertical";if(Er(b)&&(is(b.bin)||Er(g)&&g.aggregate&&!b.aggregate))return"horizontal";if(M||D){if(d)return d;if(!D)return(Er(g)&&g.type===m0&&!mr(g.bin)||u3(g))&&Er(b)&&is(b.bin)?"horizontal":"vertical";if(!M)return(Er(b)&&b.type===m0&&!mr(b.bin)||u3(b))&&Er(g)&&is(g.bin)?"vertical":"horizontal"}case If:if(D&&!(Er(g)&&is(g.bin))&&M&&!(Er(b)&&is(b.bin)))return;case Y1:if(M)return Er(b)&&is(b.bin)?"horizontal":"vertical";if(D)return Er(g)&&is(g.bin)?"vertical":"horizontal";if(u===If){if(g&&!b)return"vertical";if(b&&!g)return"horizontal"}case Hd:case Mf:{let Q=hc(g),se=hc(b);if(d)return d;if(Q&&!se)return u!=="tick"?"horizontal":"vertical";if(!Q&&se)return u!=="tick"?"vertical":"horizontal";if(Q&&se){let Ve=g,Xe=b,qt=Ve.type===hf,on=Xe.type===hf;return qt&&!on?u!=="tick"?"vertical":"horizontal":!qt&&on?u!=="tick"?"horizontal":"vertical":!Ve.aggregate&&Xe.aggregate?u!=="tick"?"vertical":"horizontal":Ve.aggregate&&!Xe.aggregate&&u!=="tick"?"horizontal":"vertical"}else return}}return"vertical"}let _Be={vgMark:"arc",encodeEntry:u=>({...Xd(u,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Uc("x",u,{defaultPos:"mid"}),...Uc("y",u,{defaultPos:"mid"}),...l2(u,"radius"),...l2(u,"theta")})},bBe={vgMark:"area",encodeEntry:u=>({...Xd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...HE("x",u,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:u.markDef.orient==="horizontal"}),...HE("y",u,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:u.markDef.orient==="vertical"}),...aA(u)})},EBe={vgMark:"rect",encodeEntry:u=>({...Xd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...l2(u,"x"),...l2(u,"y")})},SBe={vgMark:"shape",encodeEntry:u=>({...Xd(u,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:u=>{let{encoding:c}=u,d=c.shape;return[{type:"geoshape",projection:u.projectionName(),...d&&Er(d)&&d.type===Nu?{field:fi(d,{expr:"datum"})}:{}}]}},wBe={vgMark:"image",encodeEntry:u=>({...Xd(u,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...l2(u,"x"),...l2(u,"y"),...zE(u,"url")})},CBe={vgMark:"line",encodeEntry:u=>({...Xd(u,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Uc("x",u,{defaultPos:"mid"}),...Uc("y",u,{defaultPos:"mid"}),...pc("size",u,{vgChannel:"strokeWidth"}),...aA(u)})},ABe={vgMark:"trail",encodeEntry:u=>({...Xd(u,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Uc("x",u,{defaultPos:"mid"}),...Uc("y",u,{defaultPos:"mid"}),...pc("size",u),...aA(u)})};function WG(u,c){let{config:d}=u;return{...Xd(u,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Uc("x",u,{defaultPos:"mid"}),...Uc("y",u,{defaultPos:"mid"}),...pc("size",u),...pc("angle",u),...TBe(u,d,c)}}function TBe(u,c,d){return d?{shape:{value:d}}:pc("shape",u)}let FBe={vgMark:"symbol",encodeEntry:u=>WG(u)},DBe={vgMark:"symbol",encodeEntry:u=>WG(u,"circle")},OBe={vgMark:"symbol",encodeEntry:u=>WG(u,"square")},RBe={vgMark:"rect",encodeEntry:u=>({...Xd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...l2(u,"x"),...l2(u,"y")})},NBe={vgMark:"rule",encodeEntry:u=>{let{markDef:c}=u,d=c.orient;return!u.encoding.x&&!u.encoding.y&&!u.encoding.latitude&&!u.encoding.longitude?{}:{...Xd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...HE("x",u,{defaultPos:d==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:d!=="vertical"}),...HE("y",u,{defaultPos:d==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:d!=="horizontal"}),...pc("size",u,{vgChannel:"strokeWidth"})}}},LBe={vgMark:"text",encodeEntry:u=>{let{config:c,encoding:d}=u;return{...Xd(u,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...Uc("x",u,{defaultPos:"mid"}),...Uc("y",u,{defaultPos:"mid"}),...zE(u),...pc("size",u,{vgChannel:"fontSize"}),...pc("angle",u),...HL("align",kBe(u.markDef,d,c)),...HL("baseline",IBe(u.markDef,d,c)),...Uc("radius",u,{defaultPos:null}),...Uc("theta",u,{defaultPos:null})}}};function kBe(u,c,d){if(vi("align",u,d)===void 0)return"center"}function IBe(u,c,d){if(vi("baseline",u,d)===void 0)return"middle"}let MBe={vgMark:"rect",encodeEntry:u=>{let{config:c,markDef:d}=u,g=d.orient,b=g==="horizontal"?"width":"height",D=g==="horizontal"?"height":"width";return{...Xd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Uc("x",u,{defaultPos:"mid",vgChannel:"xc"}),...Uc("y",u,{defaultPos:"mid",vgChannel:"yc"}),...pc("size",u,{defaultValue:PBe(u),vgChannel:b}),[D]:qr(vi("thickness",d,c))}}};function PBe(u){let{config:c,markDef:d}=u,{orient:g}=d,b=g==="horizontal"?"width":"height",D=u.getScaleComponent(g==="horizontal"?"x":"y"),M=vi("size",d,c,{vgChannel:b})??c.tick.bandSize;if(M!==void 0)return M;{let Q=D?D.get("range"):void 0;return Q&&br(Q)&&e.isNumber(Q.step)?Q.step*3/4:PE(c.view,b)*3/4}}let vk={arc:_Be,area:bBe,bar:EBe,circle:DBe,geoshape:SBe,image:wBe,line:CBe,point:FBe,rect:RBe,rule:NBe,square:OBe,text:LBe,tick:MBe,trail:ABe};function BBe(u){if(Ct([Hd,Y1,K1],u.mark)){let c=HN(u.mark,u.encoding);if(c.length>0)return jBe(u,c)}else if(u.mark===Tl){let c=di.some(d=>vi(d,u.markDef,u.config));if(u.stack&&!u.fieldDef("size")&&c)return qBe(u)}return QG(u)}let Hfe="faceted_path_";function jBe(u,c){return[{name:u.getName("pathgroup"),type:"group",from:{facet:{name:Hfe+u.requestDataName(ja.Main),data:u.requestDataName(ja.Main),groupby:c}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:QG(u,{fromPrefix:Hfe})}]}let Vfe="stack_group_";function qBe(u){var c;let[d]=QG(u,{fromPrefix:Vfe}),g=u.scaleName(u.stack.fieldChannel),b=function(){let Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return u.vgField(u.stack.fieldChannel,Xe)},D=(Xe,qt)=>{let on=[b({prefix:"min",suffix:"start",expr:qt}),b({prefix:"max",suffix:"start",expr:qt}),b({prefix:"min",suffix:"end",expr:qt}),b({prefix:"max",suffix:"end",expr:qt})];return`${Xe}(${on.map(In=>`scale('${g}',${In})`).join(",")})`},M,Q;u.stack.fieldChannel==="x"?(M={...we(d.encode.update,["y","yc","y2","height",...di]),x:{signal:D("min","datum")},x2:{signal:D("max","datum")},clip:{value:!0}},Q={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},d.encode.update={...pe(d.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(M={...we(d.encode.update,["x","xc","x2","width"]),y:{signal:D("min","datum")},y2:{signal:D("max","datum")},clip:{value:!0}},Q={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},d.encode.update={...pe(d.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(let Xe of di){let qt=Bs(Xe,u.markDef,u.config);d.encode.update[Xe]?(M[Xe]=d.encode.update[Xe],delete d.encode.update[Xe]):qt&&(M[Xe]=qr(qt)),qt&&(d.encode.update[Xe]={value:0})}let se=[];if(((c=u.stack.groupbyChannels)===null||c===void 0?void 0:c.length)>0)for(let Xe of u.stack.groupbyChannels){let qt=u.fieldDef(Xe),on=fi(qt);on&&se.push(on),(qt!=null&&qt.bin||qt!=null&&qt.timeUnit)&&se.push(fi(qt,{binSuffix:"end"}))}return M=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((Xe,qt)=>{if(d.encode.update[qt])return{...Xe,[qt]:d.encode.update[qt]};{let on=Bs(qt,u.markDef,u.config);return on!==void 0?{...Xe,[qt]:qr(on)}:Xe}},M),M.stroke&&(M.strokeForeground={value:!0},M.strokeOffset={value:0}),[{type:"group",from:{facet:{data:u.requestDataName(ja.Main),name:Vfe+u.requestDataName(ja.Main),groupby:se,aggregate:{fields:[b({suffix:"start"}),b({suffix:"start"}),b({suffix:"end"}),b({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:M},marks:[{type:"group",encode:{update:Q},marks:[d]}]}]}function UBe(u){let{encoding:c,stack:d,mark:g,markDef:b,config:D}=u,M=c.order;if(!(!e.isArray(M)&&Yd(M)&&Ht(M.value)||!M&&Ht(vi("order",b,D)))){if((e.isArray(M)||Er(M))&&!d)return No(M,{expr:"datum"});if(pf(g)){let se=b.orient==="horizontal"?"y":"x",Ve=c[se];if(Er(Ve)){let Xe=Ve.sort;if(e.isArray(Xe))return{field:fi(Ve,{prefix:se,suffix:"sort_index",expr:"datum"})};if(Ea(Xe))return{field:fi({aggregate:OE(u.encoding)?Xe.op:void 0,field:Xe.field},{expr:"datum"})};if(y0(Xe)){let qt=u.fieldDef(Xe.encoding);return{field:fi(qt,{expr:"datum"}),order:Xe.order}}else{if(Xe===null)return;var Q;return{field:fi(Ve,{binSuffix:(Q=u.stack)!==null&&Q!==void 0&&Q.impute?"mid":void 0,expr:"datum"})}}}return}}}function QG(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fromPrefix:""},{mark:d,markDef:g,encoding:b,config:D}=u,M=Ne(g.clip,$Be(u),zBe(u)),Q=xs(g),se=b.key,Ve=UBe(u),Xe=HBe(u),qt=vi("aria",g,D),on=vk[d].postEncodingTransform?vk[d].postEncodingTransform(u):null;return[{name:u.getName("marks"),type:vk[d].vgMark,...M?{clip:!0}:{},...Q?{style:Q}:{},...se?{key:se.field}:{},...Ve?{sort:Ve}:{},...Xe||{},...qt===!1?{aria:qt}:{},from:{data:c.fromPrefix+u.requestDataName(ja.Main)},encode:{update:vk[d].encodeEntry(u)},...on?{transform:on}:{}}]}function $Be(u){let c=u.getScaleComponent("x"),d=u.getScaleComponent("y");return c!=null&&c.get("selectionExtent")||d!=null&&d.get("selectionExtent")?!0:void 0}function zBe(u){let c=u.component.projection;return c&&!c.isFit?!0:void 0}function HBe(u){if(!u.component.selection)return null;let c=re(u.component.selection).length,d=c,g=u.parent;for(;g&&d===0;)d=re(g.component.selection).length,g=g.parent;return d?{interactive:c>0||!!u.encoding.tooltip}:null}class Wfe extends Bfe{constructor(c,d,g){let b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},D=arguments.length>4?arguments[4]:void 0;super(c,"unit",d,g,D,void 0,sL(c)?c.view:void 0);bn(this,"markDef",void 0),bn(this,"encoding",void 0),bn(this,"specifiedScales",{}),bn(this,"stack",void 0),bn(this,"specifiedAxes",{}),bn(this,"specifiedLegends",{}),bn(this,"specifiedProjection",{}),bn(this,"selection",[]),bn(this,"children",[]);let M=fc(c.mark)?{...c.mark}:{type:c.mark},Q=M.type;M.filled===void 0&&(M.filled=yBe(M,D,{graticule:c.data&&tA(c.data)}));let se=this.encoding=UW(c.encoding||{},Q,M.filled,D);this.markDef=mBe(M,se,D),this.size=pBe({encoding:se,size:sL(c)?{...b,...c.width?{width:c.width}:{},...c.height?{height:c.height}:{}}:b}),this.stack=gL(Q,se),this.specifiedScales=this.initScales(Q,se),this.specifiedAxes=this.initAxes(se),this.specifiedLegends=this.initLegends(se),this.specifiedProjection=c.projection,this.selection=(c.params??[]).filter(Ve=>U9(Ve))}get hasProjection(){let{encoding:c}=this,d=this.mark===J1,g=c&&At.some(b=>ks(c[b]));return d||g}scaleDomain(c){let d=this.specifiedScales[c];return d?d.domain:void 0}axis(c){return this.specifiedAxes[c]}legend(c){return this.specifiedLegends[c]}initScales(c,d){return vs.reduce((g,b)=>{let D=yu(d[b]);return D&&(g[b]=this.initScale(D.scale??{})),g},{})}initScale(c){let{domain:d,range:g}=c,b=pn(c);return e.isArray(d)&&(b.domain=d.map(pi)),e.isArray(g)&&(b.range=g.map(pi)),b}initAxes(c){return io.reduce((d,g)=>{let b=c[g];if(ks(b)||g===Nn&&ks(c.x2)||g===nr&&ks(c.y2)){let D=ks(b)?b.axis:void 0;d[g]=D&&this.initAxis({...D})}return d},{})}initAxis(c){let d=re(c),g={};for(let b of d){let D=c[b];g[b]=e_(D)?ni(D):pi(D)}return g}initLegends(c){return ga.reduce((d,g)=>{let b=yu(c[g]);if(b&&Ri(g)){let D=b.legend;d[g]=D&&pn(D)}return d},{})}parseData(){this.component.data=yk(this)}parseLayoutSize(){JPe(this)}parseSelections(){this.component.selection=dA(this,this.selection)}parseMarkGroup(){this.component.mark=BBe(this)}parseAxesAndHeaders(){this.component.axes=oBe(this)}assembleSelectionTopLevelSignals(c){return WQ(this,c)}assembleSignals(){return[...tk(this),...HQ(this,[])]}assembleSelectionData(c){return QQ(this,c)}assembleLayout(){return null}assembleLayoutSignals(){return fd(this)}assembleMarks(){let c=this.component.mark??[];return(!this.parent||!e7(this.parent))&&(c=NL(this,c)),c.map(this.correctDataNames)}assembleGroupStyle(){let{style:c}=this.view||{};if(c!==void 0)return c;if(this.encoding.x||this.encoding.y)return"cell"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(c){return ag(this.encoding,c)}fieldDef(c){let d=this.encoding[c];return jh(d)}typedFieldDef(c){let d=this.fieldDef(c);return Gd(d)?d:null}}class GG extends $G{constructor(c,d,g,b,D){super(c,"layer",d,g,D,c.resolve,c.view);bn(this,"children",void 0);let M={...b,...c.width?{width:c.width}:{},...c.height?{height:c.height}:{}};this.children=c.layer.map((Q,se)=>{if(s_(Q))return new GG(Q,this,this.getName(`layer_${se}`),M,D);if(Ap(Q))return new Wfe(Q,this,this.getName(`layer_${se}`),M,D);throw new Error(le(Q))})}parseData(){this.component.data=yk(this);for(let c of this.children)c.parseData()}parseLayoutSize(){YPe(this)}parseSelections(){this.component.selection={};for(let c of this.children){c.parseSelections();for(let d of re(c.component.selection))this.component.selection[d]=c.component.selection[d]}}parseMarkGroup(){for(let c of this.children)c.parseMarkGroup()}parseAxesAndHeaders(){uBe(this)}assembleSelectionTopLevelSignals(c){return this.children.reduce((d,g)=>g.assembleSelectionTopLevelSignals(d),c)}assembleSignals(){return this.children.reduce((c,d)=>c.concat(d.assembleSignals()),tk(this))}assembleLayoutSignals(){return this.children.reduce((c,d)=>c.concat(d.assembleLayoutSignals()),fd(this))}assembleSelectionData(c){return this.children.reduce((d,g)=>g.assembleSelectionData(d),c)}assembleGroupStyle(){let c=new Set;for(let g of this.children)for(let b of e.array(g.assembleGroupStyle()))c.add(b);let d=Array.from(c);return d.length>1?d:d.length===1?d[0]:void 0}assembleTitle(){let c=super.assembleTitle();if(c)return c;for(let d of this.children)if(c=d.assembleTitle(),c)return c}assembleLayout(){return null}assembleMarks(){return nA(this,this.children.flatMap(c=>c.assembleMarks()))}assembleLegends(){return this.children.reduce((c,d)=>c.concat(d.assembleLegends()),dfe(this))}}function YG(u,c,d,g,b){if(wp(u))return new EA(u,c,d,b);if(s_(u))return new GG(u,c,d,g,b);if(Ap(u))return new Wfe(u,c,d,g,b);if(lQ(u))return new nBe(u,c,d,b);throw new Error(le(u))}function VBe(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c.logger&&Rf(c.logger),c.fieldTitle&&kN(c.fieldTitle);try{let d=i_(e.mergeConfig(c.config,u.config)),g=a_(u,d),b=YG(g,null,"",void 0,d);return b.parse(),cPe(b.component.data,b),{spec:QBe(b,WBe(u,g.autosize,d,b),u.datasets,u.usermeta),normalized:g}}finally{c.logger&&Bc(),c.fieldTitle&&PW()}}function WBe(u,c,d,g){let b=g.component.layoutSize.get("width"),D=g.component.layoutSize.get("height");if(c===void 0?(c={type:"pad"},g.hasAxisOrientSignalRef()&&(c.resize=!0)):e.isString(c)&&(c={type:c}),b&&D&&zQ(c.type)){if(b==="step"&&D==="step")jr(ir()),c.type="pad";else if(b==="step"||D==="step"){let M=b==="step"?"width":"height";jr(ir(hi(M)));let Q=M==="width"?"height":"width";c.type=AL(Q)}}return{...re(c).length===1&&c.type?c.type==="pad"?{}:{autosize:c.type}:{autosize:c},...eo(d,!1),...eo(u,!0)}}function QBe(u,c){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments.length>3?arguments[3]:void 0,b=u.config?V9(u.config):void 0,D=[].concat(u.assembleSelectionData([]),VPe(u.component.data,d)),M=u.assembleProjections(),Q=u.assembleTitle(),se=u.assembleGroupStyle(),Ve=u.assembleGroupEncodeEntry(!0),Xe=u.assembleLayoutSignals();Xe=Xe.filter(In=>(In.name==="width"||In.name==="height")&&In.value!==void 0?(c[In.name]=+In.value,!1):!0);let{params:qt,...on}=c;return{$schema:"https://vega.github.io/schema/vega/v5.json",...u.description?{description:u.description}:{},...on,...Q?{title:Q}:{},...se?{style:se}:{},...Ve?{encode:{update:Ve}}:{},data:D,...M.length>0?{projections:M}:{},...u.assembleGroup([...Xe,...u.assembleSelectionTopLevelSignals([]),...rL(qt)]),...b?{config:b}:{},...g?{usermeta:g}:{}}}let GBe=he.version;n.accessPathDepth=Rn,n.accessPathWithDatum=gn,n.compile=VBe,n.contains=Ct,n.deepEqual=et,n.deleteNestedProperty=Gt,n.duplicate=be,n.entries=nt,n.every=kt,n.fieldIntersection=tt,n.flatAccessWithDatum=yn,n.getFirstDefined=Ne,n.hasIntersection=_e,n.hash=lt,n.internalField=mt,n.isBoolean=ft,n.isEmpty=Ke,n.isEqual=ve,n.isInternalField=xt,n.isNullOrFalse=Ht,n.isNumeric=Qt,n.keys=re,n.logicalExpr=Yt,n.mergeDeep=Bt,n.never=ke,n.normalize=a_,n.normalizeAngle=rn,n.omit=pe,n.pick=we,n.prefixGenerator=ce,n.removePathFromField=tr,n.replaceAll=Mn,n.replacePathInField=un,n.resetIdCounter=Pt,n.setEqual=Le,n.some=mn,n.stringify=Je,n.titleCase=fn,n.unique=bt,n.uniqueId=De,n.vals=Oe,n.varName=Ot,n.version=GBe,Object.defineProperty(n,"__esModule",{value:!0})})});var m9=Ae(Jx=>{"use strict";m();var e3t=Jx&&Jx.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),t3t=Jx&&Jx.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),gOe=Jx&&Jx.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&e3t(e,n,t);return t3t(e,n),e};Object.defineProperty(Jx,"__esModule",{value:!0});Jx.HTMLChartRenderer=void 0;var n3t=gOe(xOe()),yOe=gOe(Ole()),vOe=class{constructor(e,t,r={}){this.document=e,this.styleDefaults=t,this.size=r.size||this.styleDefaults.size||"medium"}mapData(e){let t=[];for(let r of e){let i={};for(let s of e.field.intrinsicFields)i[s.name]=this.getDataValue(r.cell(s));t.push(i)}return t}getSize(){return this.size==="large"?{height:350,width:500}:{height:175,width:250}}async render(e){if(!e.isArray())throw new Error("Invalid type for chart renderer");let t=this.getVegaLiteSpec(e),r=n3t.compile(t,{logger:{level(o){return o!==void 0?this:0},info(){return this},error(){return this},warn(){return this},debug(){return this}}}).spec,i=new yOe.View(yOe.parse(r),{renderer:"none"});i.logger().level(-1);let s=this.document.createElement("div");return s.innerHTML=await i.toSVG(),s}};Jx.HTMLChartRenderer=vOe});var V0=Ae(Ch=>{"use strict";m();Object.defineProperty(Ch,"__esModule",{value:!0});Ch.createDrillIcon=Ch.createNullElement=Ch.createErrorElement=Ch.yieldTask=Ch.timeToString=Ch.getColorScale=void 0;var hp=up();function r3t(n,e,t=!1){if(n!==void 0)switch(n){case"ordinal":return{range:["#C2D5EE","#1A73E8"]};case"temporal":case"quantitative":return e?t?{range:["#6BA4EE","#EEA361"]}:{range:["#1A73E8","#E8710A"]}:{range:["#C2D5EE","#1A73E8"]};case"nominal":return t?{range:["#6BA4EE","#66CEDC","#EC72B8","#EEA361","#F9C85B","#AACD85","#B87CED","#ACB0B3"]}:{range:["#1A73E8","#12B5CB","#E52592","#E8710A","#F9AB00","#7CB342","#9334E6","#80868B"]}}}Ch.getColorScale=r3t;function Fu(n,e){return n.toString().padStart(e,"0")}function i3t(n,e){switch(e){case hp.TimestampTimeframe.Year:case hp.DateTimeframe.Year:return`${Fu(n.getUTCFullYear(),4)}`;case hp.TimestampTimeframe.Quarter:case hp.DateTimeframe.Quarter:{let t=Fu(n.getUTCFullYear(),4),r=Math.floor(n.getUTCMonth()/3)+1;return`${t}-Q${r}`}case hp.TimestampTimeframe.Month:case hp.DateTimeframe.Month:{let t=Fu(n.getUTCFullYear(),2),r=Fu(n.getUTCMonth()+1,2);return`${t}-${r}`}case hp.TimestampTimeframe.Week:case hp.DateTimeframe.Week:{let t=Fu(n.getUTCFullYear(),2),r=Fu(n.getUTCMonth()+1,2),i=Fu(n.getUTCDate(),2);return`WK${t}-${r}-${i}`}case hp.DateTimeframe.Day:case hp.TimestampTimeframe.Day:{let t=Fu(n.getUTCFullYear(),2),r=Fu(n.getUTCMonth()+1,2),i=Fu(n.getUTCDate(),2);return`${t}-${r}-${i}`}case hp.TimestampTimeframe.Hour:{let t=Fu(n.getUTCFullYear(),2),r=Fu(n.getUTCMonth()+1,2),i=Fu(n.getUTCDate(),2),s=Fu(n.getUTCHours(),2);return`${t}-${r}-${i} ${s}:00 for 1 hour`}case hp.TimestampTimeframe.Minute:{let t=Fu(n.getUTCFullYear(),2),r=Fu(n.getUTCMonth()+1,2),i=Fu(n.getUTCDate(),2),s=Fu(n.getUTCHours(),2),o=Fu(n.getUTCMinutes(),2);return`${t}-${r}-${i} ${s}:${o}`}case hp.TimestampTimeframe.Second:{let t=Fu(n.getUTCFullYear(),2),r=Fu(n.getUTCMonth()+1,2),i=Fu(n.getUTCDate(),2),s=Fu(n.getUTCHours(),2),o=Fu(n.getUTCMinutes(),2),a=Fu(n.getUTCSeconds(),2);return`${t}-${r}-${i} ${s}:${o}:${a}`}default:throw new Error("Unknown timeframe.")}}Ch.timeToString=i3t;async function s3t(){return new Promise(n=>{setTimeout(n,0)})}Ch.yieldTask=s3t;function o3t(n,e){let t=n.createElement("span");return t.classList.add("error"),t.appendChild(n.createTextNode(typeof e=="string"?e:e.message)),t}Ch.createErrorElement=o3t;function a3t(n){let e=n.createElement("span");return e.appendChild(n.createTextNode("\u2205")),e.classList.add("value-null"),e}Ch.createNullElement=a3t;function u3t(n){let e=n.createElement("div");e.style.borderRadius="20px",e.style.backgroundColor="var(--malloy-border-color, #efefef)",e.style.width="27px",e.style.height="14px",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.gap="2px";for(let t=0;t<3;t++){let r=n.createElement("div");r.style.backgroundColor="var(--malloy-title-color, rgb(181 181 181))",r.style.borderRadius="5px",r.style.width="4px",r.style.height="4px",e.appendChild(r)}return e}Ch.createDrillIcon=u3t});var Ble=Ae(tf=>{"use strict";m();Object.defineProperty(tf,"__esModule",{value:!0});tf.HTMLVegaSpecRenderer=tf.isDataContainer=tf.vegaSpecs=tf.DEFAULT_SPEC=void 0;var l3t=m9(),c3t=nD(),Xm=V0();tf.DEFAULT_SPEC={$schema:"https://vega.github.io/schema/vega-lite/v5.json",config:{params:[{name:"defaultFont",value:"var(--malloy-font-family, 'Roboto')"},{name:"titleColor",value:"var(--malloy-title-color, #505050)"},{name:"labelColor",value:"var(--malloy-label-color, #505050)"}],background:void 0,color:{expr:"titleColor"},header:{labelFont:{expr:"defaultFont"},titleFont:{expr:"defaultFont"},titleFontWeight:500},text:{font:{expr:"defaultFont"},color:{expr:"labelColor"}},mark:{font:{expr:"defaultFont"},color:{expr:"labelColor"}},title:{font:{expr:"defaultFont"},subtitleFont:{expr:"defaultFont"},fontWeight:500},axis:{labelColor:{expr:"labelColor"},labelFont:{expr:"defaultFont"},titleFont:{expr:"defaultFont"},titleFontWeight:500,titleColor:{expr:"titleColor"},titleFontSize:12},legend:{titleFontWeight:500,titleColor:{expr:"titleColor"},titleFontSize:12,labelColor:{expr:"labelColor"},labelFont:{expr:"defaultFont"},titleFont:{expr:"defaultFont"}}}};var Rle={height:80,width:150},_Oe={width:150},f3t={height:{step:13}},Nle={..._Oe,...f3t},Lle={..._Oe},kle={height:150,width:200},bOe={},Zm={...tf.DEFAULT_SPEC,encoding:{y:{field:"#{1}",type:"nominal",axis:null,sort:null}},layer:[{mark:{type:"bar",color:"#aec7e8"},encoding:{x:{field:"#{2}",type:"quantitative",sort:null},color:{value:"#4285F4"}}},{mark:{type:"text",align:"left",x:5},encoding:{text:{field:"#{1}"}}}]},gN={...tf.DEFAULT_SPEC,mark:"bar",data:[],encoding:{x:{field:"#{1}",type:"nominal",sort:null},y:{field:"#{2}",type:"quantitative",sort:null},color:{value:"#4285F4"}}},d3t={...gN,encoding:{...gN.encoding,color:{field:"#{3}",type:"quantitative",scale:(0,Xm.getColorScale)("quantitative",!0,!0)}}},h3t={...gN,encoding:{...gN.encoding,color:{field:"#{3}",scale:(0,Xm.getColorScale)("nominal",!0,!0)}}},Ile={...Zm,layer:[{...Zm.layer[0],encoding:{...Zm.layer[0].encoding,color:{field:"#{3}",scale:(0,Xm.getColorScale)("nominal",!0,!0)}}},Zm.layer[1]]},Mle={...Zm,layer:[{...Zm.layer[0],encoding:{...Zm.layer[0].encoding,color:{field:"#{3}",type:"quantitative",scale:(0,Xm.getColorScale)("quantitative",!0,!0)}}},Zm.layer[1]]},U4={...tf.DEFAULT_SPEC,mark:"bar",data:[],encoding:{x:{field:"#{1}",type:"nominal",sort:null},y:{field:"#{2}",type:"quantitative",sort:null},color:{value:"#4285F4"}}},RV={...U4,encoding:{...U4.encoding,color:{field:"#{3}",type:"nominal",scale:(0,Xm.getColorScale)("nominal",!0)}}},NV={...U4,encoding:{...U4.encoding,color:{field:"#{3}",type:"quantitative",scale:(0,Xm.getColorScale)("quantitative",!0)}}};tf.vegaSpecs={bar_SM:Zm,bar_SM_small:{...Zm,...Nle},bar_SM_medium:{...Zm,...Lle},bar_SM_large:gN,bar_SMS:Ile,bar_SMS_small:{...Ile,...Nle},bar_SMS_medium:{...Ile,...Lle},bar_SMS_large:h3t,bar_SMM:Mle,bar_SMM_small:{...Mle,...Nle},bar_SMM_medium:{...Mle,...Lle},bar_SMM_large:d3t,bar_NM:U4,bar_NM_small:{...U4,...Rle},bar_NM_medium:{...U4,...kle},bar_NM_large:{...U4},bar_NMS:RV,bar_NMS_small:{...RV,...Rle},bar_NMS_medium:{...RV,...kle},bar_NMS_large:{...RV,...bOe},bar_NMM:NV,bar_NMM_small:{...NV,...Rle},bar_NMM_medium:{...NV,...kle},bar_NMM_large:{...NV,...bOe},bar_SSMMM:{...tf.DEFAULT_SPEC,repeat:["#{3}","#{4}","#{5}"],spec:{description:"A simple bar chart with embedded data.",encoding:{y:{field:"#{1}",type:"nominal",axis:null,sort:null}},layer:[{mark:{type:"bar"},encoding:{x:{field:{repeat:"repeat"},type:"quantitative",sort:null},color:{field:"#{2}",scale:(0,Xm.getColorScale)("nominal",!0,!0)}}},{mark:{type:"text",align:"left",x:5},encoding:{text:{field:"#{1}"},detail:{aggregate:"count"}}}]}},bubble_NNM:{...tf.DEFAULT_SPEC,data:[],mark:"circle",width:400,encoding:{y:{field:"#{1}",type:"ordinal",sort:null},x:{field:"#{2}",type:"ordinal",sort:null},size:{field:"#{3}",type:"quantitative"},color:{value:"#4285F4"}}},heat_NNM:{...tf.DEFAULT_SPEC,data:[],mark:"bar",width:400,encoding:{y:{field:"#{1}",type:"ordinal",sort:null},x:{field:"#{2}",type:"ordinal",sort:null},color:{field:"#{3}",type:"quantitative",scale:(0,Xm.getColorScale)("quantitative",!1)}}},heat_SNM:{...tf.DEFAULT_SPEC,data:[],mark:"bar",width:400,encoding:{y:{field:"#{1}",type:"nominal",sort:null},x:{field:"#{2}",type:"ordinal",sort:null},color:{field:"#{3}",type:"quantitative",scale:(0,Xm.getColorScale)("quantitative",!1)}}},stacked_line_STM:{...tf.DEFAULT_SPEC,height:50,data:[],mark:"area",encoding:{x:{field:"#{2}",type:"temporal",axis:{grid:!1},sort:null},y:{field:"#{3}",type:"quantitative",axis:{grid:!1},title:null,sort:null},color:{field:"#{1}",type:"nominal",legend:null,scale:(0,Xm.getColorScale)("nominal",!1)},row:{field:"#{1}",type:"nominal"}}},grid_line_SSTM:{...tf.DEFAULT_SPEC,height:50,data:[],mark:"area",encoding:{x:{field:"#{3}",type:"temporal",axis:{grid:!1},sort:null},y:{field:"#{4}",type:"quantitative",axis:{grid:!1},title:null,sort:null},color:{field:"#{1}",type:"nominal",legend:null,scale:(0,Xm.getColorScale)("nominal",!1)},row:{field:"#{1}",type:"nominal"},column:{field:"#{2}",type:"nominal"}}}};function Ple(n){return Array.isArray(n)||n!==null&&typeof n=="object"}tf.isDataContainer=Ple;var EOe=class extends l3t.HTMLChartRenderer{constructor(e,t,r){super(e,t);this.spec=r}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for vega chart.")}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp()||e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for vega chart.")}translateField(e,t){let r=t.match(/#\{(?<fieldnum>\d+)\}/);return r&&r.groups?e.intrinsicFields[parseInt(r.groups.fieldnum)-1].name:t}translateFields(e,t){if(Array.isArray(e))for(let r of e)Ple(r)&&this.translateFields(r,t);else if(e&&typeof e=="object")for(let[r,i]of Object.entries(e))if(r==="field"&&typeof i=="string")e[r]=this.translateField(t,i);else if(r==="repeat"&&Array.isArray(i))for(let s of i.keys()){let o=i[s];typeof o=="string"&&(i[s]=this.translateField(t,o))}else Ple(i)&&this.translateFields(i,t)}getVegaLiteSpec(e){if(e.isNull()||!e.isArray())throw new Error("Expected struct value not to be null.");let t=(0,c3t.cloneDeep)(this.spec);this.translateFields(t,e.field);let r={values:this.mapData(e)};return t.data=r,t}};tf.HTMLVegaSpecRenderer=EOe});var kV=Ae(LV=>{"use strict";m();Object.defineProperty(LV,"__esModule",{value:!0});LV.HTMLCartesianChartRenderer=void 0;var p3t=m9(),m3t=V0(),x3t=Ble(),SOe=class extends p3t.HTMLChartRenderer{getVegaLiteSpec(e){let t=e.field.intrinsicFields,r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=this.getDataType(r),f=this.getDataType(i),p=s?this.getDataType(s):void 0,_=o?this.getDataType(o):void 0,E=a?this.getDataType(a):void 0,O=this.getMark(),R=s!==void 0?{field:s.name,type:p,axis:{title:s.name},scale:(0,m3t.getColorScale)(p,O==="bar")}:{value:"#4285F4"},q=o?{field:o.name,type:_,axis:{title:o.name}}:void 0,z=a?{field:a.name,type:E,axis:{title:a.name}}:void 0,L=l==="nominal"?null:void 0,B=f==="nominal"?null:void 0,P={field:r.name,type:l,sort:L,axis:{title:r.name}},G={field:i.name,type:f,sort:B,axis:{title:i.name}};return{...x3t.DEFAULT_SPEC,...this.getSize(),data:{values:this.mapData(e)},mark:O,encoding:{x:P,y:G,size:q,color:R,shape:z},background:"transparent"}}};LV.HTMLCartesianChartRenderer=SOe});var COe=Ae(IV=>{"use strict";m();Object.defineProperty(IV,"__esModule",{value:!0});IV.HTMLBarChartRenderer=void 0;var g3t=kV(),wOe=class extends g3t.HTMLCartesianChartRenderer{getMark(){return"bar"}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp()||e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for bar chart.")}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for bar chart.")}};IV.HTMLBarChartRenderer=wOe});var pE=Ae(MV=>{"use strict";m();Object.defineProperty(MV,"__esModule",{value:!0});MV.HTMLTextRenderer=void 0;var y3t=V0(),AOe=class{constructor(e){this.document=e}getText(e){return`${e.value}`}async render(e){let t=this.getText(e);if(t===null)return(0,y3t.createNullElement)(this.document);let r=this.document.createElement("span");return r.appendChild(this.document.createTextNode(t)),r}};MV.HTMLTextRenderer=AOe});var FOe=Ae(PV=>{"use strict";m();Object.defineProperty(PV,"__esModule",{value:!0});PV.HTMLBooleanRenderer=void 0;var v3t=pE(),TOe=class extends v3t.HTMLTextRenderer{getText(e){return e.isNull()?null:`${e.boolean.value}`}};PV.HTMLBooleanRenderer=TOe});var OOe=Ae(BV=>{"use strict";m();Object.defineProperty(BV,"__esModule",{value:!0});BV.HTMLJSONRenderer=void 0;var _3t=V0(),DOe=class{constructor(e){this.document=e}async render(e){!e.isArray()&&!e.isRecord()&&(0,_3t.createErrorElement)(this.document,"Invalid data for chart renderer.");let t=this.document.createElement("pre");return t.appendChild(this.document.createTextNode(JSON.stringify(e.value,void 0,2))),t}};BV.HTMLJSONRenderer=DOe});var NOe=Ae(jV=>{"use strict";m();Object.defineProperty(jV,"__esModule",{value:!0});jV.HTMLBytesRenderer=void 0;var b3t=pE(),ROe=class extends b3t.HTMLTextRenderer{getText(e){return e.isNull()?null:e.bytes.value.toString("base64")}};jV.HTMLBytesRenderer=ROe});var kOe=Ae(qV=>{"use strict";m();Object.defineProperty(qV,"__esModule",{value:!0});qV.HTMLCurrencyRenderer=void 0;var E3t=pE(),LOe=class extends E3t.HTMLTextRenderer{getText(e){if(e.isNull())return null;let t="$",r=e.number.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return`${t}${r}`}};qV.HTMLCurrencyRenderer=LOe});var $V=Ae(UV=>{"use strict";m();Object.defineProperty(UV,"__esModule",{value:!0});UV.HTMLNumberRenderer=void 0;var S3t=pE(),IOe=class extends S3t.HTMLTextRenderer{getNumber(e){return e.isNull()?null:e.number.value}getText(e){let t=this.getNumber(e);return t===null?t:t.toLocaleString()}};UV.HTMLNumberRenderer=IOe});var POe=Ae(zV=>{"use strict";m();Object.defineProperty(zV,"__esModule",{value:!0});zV.HTMLPercentRenderer=void 0;var w3t=$V(),MOe=class extends w3t.HTMLNumberRenderer{getText(e){let t=this.getNumber(e);return t===null?t:(t*100).toLocaleString("en",{maximumFractionDigits:2})+"%"}};zV.HTMLPercentRenderer=MOe});var qle=Ae(x9=>{"use strict";m();Object.defineProperty(x9,"__esModule",{value:!0});x9.getDrillQuery=x9.getDrillFilters=void 0;var jle=up(),C3t=V0();function A3t(n){return`'${n.replace("'","\\'")}'`}function T3t(n,e,t){let r=t===jle.TimestampTimeframe.Minute?jle.TimestampTimeframe.Second:t||jle.TimestampTimeframe.Second,i="@"+(0,C3t.timeToString)(e,r);return{key:n,value:i}}function F3t(n){let e=[];for(let t of n.field.filters||[])t.aggregate||e.push({key:t.code,value:void 0});return e}function D3t(n){let e=[],t=n.field.intrinsicFields.filter(r=>r.isAtomicField()&&r.sourceWasDimension());for(let r of t){let i=n.cell(r),s=r.isAtomicField()||r.isQueryField()?r.expression:void 0;s&&!i.isArray()&&(i.isNull()?e.push({key:s,value:"null"}):i.isString()?e.push({key:s,value:A3t(i.value)}):i.isNumber()||i.isBoolean()?e.push({key:s,value:i.value.toString()}):(i.isTimestamp()||i.isDate())&&e.push(T3t(s,i.value,i.field.timeframe)))}return e}function BOe(n){return n.isRecord()?D3t(n):F3t(n)}function jOe(n){let e=[],t=n;for(;t.parent;)e.push(...BOe(t)),t=t.parent;e.push(...BOe(t));let r=t.field.parentExplore,i=[];for(let{key:o,value:a}of e)a!==void 0?i.push(`${o}: ${a}`):i.push(o);return{formattedFilters:i.filter((o,a)=>i.find((l,f)=>l===o&&a<f)===void 0),source:r}}x9.getDrillFilters=jOe;function O3t(n){let{formattedFilters:e,source:t}=jOe(n),r=`query: ${(t==null?void 0:t.name)||'"unable to compute source"'} `;return e.length&&(r+=`{ 
  where: 
    ${e.join(`,
    `)}
  
}
`),{drillQuery:r+"-> ",drillFilters:e}}x9.getDrillQuery=O3t});var UOe=Ae(HV=>{"use strict";m();Object.defineProperty(HV,"__esModule",{value:!0});HV.RenderTree=void 0;var qOe=class{constructor(e,t){this.document=e,this.options=t}};HV.RenderTree=qOe});var yN=Ae(VV=>{"use strict";m();Object.defineProperty(VV,"__esModule",{value:!0});VV.ContainerRenderer=void 0;var R3t=UOe(),N3t=Ule(),$Oe=class extends R3t.RenderTree{constructor(){super(...arguments);this.childRenderers={}}makeChildRenderers(e,t,r){let i={};e.intrinsicFields.forEach(s=>{i[s.name]=(0,N3t.makeRenderer)(s,t,r,this.childrenStyleDefaults)}),this.childRenderers=i}static make(e,t,r,i){let s=new e(t,{isDrillingEnabled:i.isDrillingEnabled,onDrill:i.onDrill});return s.makeChildRenderers(r,t,i),s}};VV.ContainerRenderer=$Oe});var WOe=Ae(QV=>{"use strict";m();Object.defineProperty(QV,"__esModule",{value:!0});QV.HTMLDashboardRenderer=void 0;var L3t=qle(),k3t=yN(),I3t=pE(),$le=V0(),WV=class extends k3t.ContainerRenderer{constructor(){super(...arguments);this.childrenStyleDefaults={size:"medium"}}async render(e){if(!e.isArrayOrRecord())return(0,$le.createErrorElement)(this.document,"Invalid data for dashboard renderer.");let t=e.field.intrinsicFields,r=t.filter(o=>o.isAtomicField()&&o.sourceWasDimension()),i=t.filter(o=>!o.isAtomicField()||o.sourceWasMeasureLike()),s=this.document.createElement("div");for(let o of e){let a=this.document.createElement("div");a.classList.add("dimensions"),a.style.display="flex",a.style.flexWrap="wrap";let l=this.document.createElement("div");l.style.position="relative";for(let _ of r){let O=await this.childRenderers[_.name].render(o.cell(_)),R=this.document.createElement("div");R.style.cssText=U3t;let q=this.document.createElement("div");q.style.cssText=$3t,q.appendChild(this.document.createTextNode(_.name));let z=this.document.createElement("div");z.style.cssText=zle,z.appendChild(O),R.appendChild(q),R.appendChild(z),a.appendChild(R)}if(r.length>0){let _=this.document.createElement("div");_.classList.add("row-separator-outer"),_.style.cssText=M3t;let E=this.document.createElement("div");E.style.cssText=j3t,_.appendChild(E),a.appendChild(_)}let f=this.document.createElement("div");f.style.cssText=q3t;for(let _ of i){let E=this.childRenderers[_.name];await(0,$le.yieldTask)();let O=await E.render(o.cell(_));if(E instanceof WV)f.appendChild(O);else if(E instanceof I3t.HTMLTextRenderer){let R=this.document.createElement("div");R.style.cssText=HOe;let q=this.document.createElement("div");q.style.cssText=VOe,q.appendChild(this.document.createTextNode(_.name));let z=this.document.createElement("div");z.style.cssText=zle;let L=this.document.createElement("div");L.style.cssText=z3t,L.appendChild(O),z.appendChild(L),R.appendChild(q),R.appendChild(z),f.appendChild(R)}else{let R=this.document.createElement("div");R.style.cssText=HOe;let q=this.document.createElement("div");q.style.cssText=VOe,q.appendChild(this.document.createTextNode(_.name));let z=this.document.createElement("div");z.style.cssText=zle;let L=this.document.createElement("div");L.style.cssText=H3t,L.appendChild(O),z.appendChild(L),R.appendChild(q),R.appendChild(z),f.appendChild(R)}}if(l.appendChild(a),r.length>0&&this.options.isDrillingEnabled){let _=this.document.createElement("span"),E=(0,$le.createDrillIcon)(this.document);_.appendChild(E),_.style.cssText="padding: 8px; vertical-align: top; width: 25px; cursor: pointer; position: absolute; top: 5px; right: 5px;",_.onclick=()=>{if(this.options.onDrill){let{drillQuery:O,drillFilters:R}=(0,L3t.getDrillQuery)(o);this.options.onDrill(O,E,R)}},l.appendChild(_)}let p=this.document.createElement("div");if(p.classList.add("dashboard-outer"),p.style.cssText=P3t,r.length>0){let _=this.document.createElement("div");_.style.cssText=B3t,p.appendChild(_)}p.appendChild(f),l.appendChild(p),s.appendChild(l)}return s}};QV.HTMLDashboardRenderer=WV;var M3t=`
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  flex: 1 0 auto;
`,P3t=`
  display: flex;
  flex-direction: row;
  font-size: 11px;
`,zOe=`
  background-color: var(--malloy-tile-background-color, #f7f7f7);
  border: 1px solid var(--malloy-border-color, #e9e9e9);
`,B3t=`
  ${zOe}
  min-height: 100%;
  min-width: 11px;
  margin: 6px;
  border-radius: 4px;
`,j3t=`
  ${zOe}
  min-height: 11px;
  max-height: 11px;
  margin: 6px;
  flex: 1 0 auto;
  border-radius: 4px;
`,q3t=`
  display: flex;
  flex-wrap: wrap;
`,U3t=`
  background-color: var(--malloy-tile-background-color, #f7f7f7);
  border: 1px solid var(--malloy-border-color, #e9e9e9);
  margin: 6px;
  border-radius: 5px;
  padding: 10px;
  box-shadow: 0 1px 5px 0 var(--malloy-border-color, #f3f3f3);
`,HOe=`
  margin: 6px;
  border-radius: 5px;
  border: 1px solid var(--malloy-border-color, #e9e9e9);
  padding: 10px;
  flex: 1 0 auto;
  box-shadow: 0 1px 5px 0 var(--malloy-tile-background-color, #f3f3f3);
  max-width: calc(100% - 11px);
  display: flex;
  flex-direction: column;
  overflow: hidden;
`,$3t=`
  font-size: 12px;
  font-weight: 500;
  color: var(--malloy-title-color, #505050);
  margin-bottom: 5px;
  font-family: var(--malloy-font-family, "Roboto");
`,VOe=`
  font-size: 11px;
  font-family: var(--malloy-font-family, "Roboto");
  font-weight: 500;
  color: #var(--malloy-title-color, #505050);
`,z3t=`
  font-size: 20px;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 5px;
`,zle=`
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex: 1 0 auto;
`,H3t=`
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
`});var YOe=Ae(GV=>{"use strict";m();Object.defineProperty(GV,"__esModule",{value:!0});GV.HTMLImageRenderer=void 0;var QOe=V0(),GOe=class{constructor(e){this.document=e}async render(e){if(!e.isString())return(0,QOe.createErrorElement)(this.document,"Invalid field for Image renderer");if(e.isNull())return(0,QOe.createNullElement)(this.document);let t=this.document.createElement("img");return t.src=e.value,t}};GV.HTMLImageRenderer=GOe});var XOe=Ae(YV=>{"use strict";m();Object.defineProperty(YV,"__esModule",{value:!0});YV.HTMLDateRenderer=void 0;var KOe=up(),Hle=V0(),JOe=class{constructor(e){this.document=e}async render(e){if(e.isNull())return(0,Hle.createNullElement)(this.document);if(!e.isDate()&&!e.isTimestamp())return(0,Hle.createErrorElement)(this.document,"Invalid field for date renderer");let t=e.field.timeframe||(e.isTimestamp()?KOe.TimestampTimeframe.Second:KOe.DateTimeframe.Day),r=(0,Hle.timeToString)(e.value,t),i=this.document.createElement("span");return i.appendChild(this.document.createTextNode(r)),i}};YV.HTMLDateRenderer=JOe});var eRe=Ae(KV=>{"use strict";m();Object.defineProperty(KV,"__esModule",{value:!0});KV.HTMLLineChartRenderer=void 0;var V3t=kV(),ZOe=class extends V3t.HTMLCartesianChartRenderer{getMark(){return"line"}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp())return"temporal";if(e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for line chart.")}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for line chart.")}};KV.HTMLLineChartRenderer=ZOe});var rRe=Ae(JV=>{"use strict";m();Object.defineProperty(JV,"__esModule",{value:!0});JV.HTMLLinkRenderer=void 0;var tRe=V0(),nRe=class{constructor(e){this.document=e}async render(e){if(e.isNull())return(0,tRe.createNullElement)(this.document);if(!e.isString())return(0,tRe.createErrorElement)(this.document,"Invalid type for link renderer.");let t=document.createElement("a");return t.href=e.value,t.target="_blank",t.appendChild(this.document.createTextNode(e.value.replace(/\//g,"/\u200C"))),t}};JV.HTMLLinkRenderer=nRe});var Vle=Ae(XV=>{"use strict";m();Object.defineProperty(XV,"__esModule",{value:!0});XV.HTMLListRenderer=void 0;var W3t=yN(),iRe=V0(),sRe=class extends W3t.ContainerRenderer{constructor(){super(...arguments);this.childrenStyleDefaults={size:"small"}}getValueField(e){return e.intrinsicFields[0]}getDetailField(e){}async render(e){if(!e.isArray())return(0,iRe.createErrorElement)(this.document,"Invalid data for chart renderer.");if(e.rowCount===0)return this.document.createElement("span");let t=this.getValueField(e.field),r=this.getDetailField(e.field),i=this.document.createElement("span"),s=!0;for(let o of e){s||i.appendChild(this.document.createTextNode(", ")),s=!1;let l=await this.childRenderers[t.name].render(o.cell(t));if(i.appendChild(l),r){let f=this.childRenderers[r.name];await(0,iRe.yieldTask)();let p=await f.render(o.cell(r));i.appendChild(this.document.createTextNode("(")),i.appendChild(p),i.appendChild(this.document.createTextNode(")"))}}return i}};XV.HTMLListRenderer=sRe});var aRe=Ae(ZV=>{"use strict";m();Object.defineProperty(ZV,"__esModule",{value:!0});ZV.HTMLListDetailRenderer=void 0;var Q3t=Vle(),oRe=class extends Q3t.HTMLListRenderer{getDetailField(e){return e.intrinsicFields[1]}};ZV.HTMLListDetailRenderer=oRe});var eW=Ae((IWt,G3t)=>{G3t.exports={type:"Topology",bbox:[-179.14733999999999,-14.552548999999999,179.77847,71.352561],transform:{scale:[.003589293992939929,.0008590596905969058],translate:[-179.14733999999999,-14.552548999999999]},objects:{states:{type:"GeometryCollection",geometries:[{type:"MultiPolygon",arcs:[[[0]],[[1,2,3,4,5]]],id:"01",properties:{name:"Alabama"}},{type:"MultiPolygon",arcs:[[[6]],[[7]],[[8]],[[9]],[[10]],[[11]],[[12]],[[13]],[[14]],[[15]],[[16]],[[17]],[[18]],[[19]],[[20]],[[21]],[[22]],[[23]],[[24]],[[25]],[[26]],[[27]],[[28]],[[29]],[[30]],[[31]],[[32]],[[33]],[[34]],[[35]],[[36]],[[37]],[[38]],[[39]],[[40]],[[41]],[[42]],[[43]],[[44]],[[45]],[[46]],[[47]],[[48]],[[49]],[[50]],[[51]],[[52]],[[53]],[[54]],[[55]],[[56]],[[57]],[[58]],[[59]],[[60]],[[61]],[[62]],[[63]],[[64]],[[65]],[[66]],[[67]],[[68]],[[69]],[[70]],[[71]],[[72]],[[73]],[[74]],[[75]],[[76]],[[77]],[[78]],[[79]],[[80]],[[81]],[[82]],[[83]],[[84]],[[85]],[[86]],[[87]],[[88]],[[89]],[[90]],[[91]],[[92]],[[93]],[[94]],[[95]],[[96]],[[97]],[[98]],[[99]],[[100]],[[101]],[[102]],[[103]],[[104]],[[105]],[[106]],[[107]],[[108]],[[109]],[[110]],[[111]],[[112]],[[113]],[[114]],[[115]],[[116]],[[117]],[[118]],[[119]],[[120]],[[121]],[[122]],[[123]],[[124]],[[125]],[[126]],[[127]],[[128]],[[129]],[[130]],[[131]],[[132]],[[133]],[[134]],[[135]],[[136]],[[137]],[[138]],[[139]],[[140]],[[141]],[[142]]],id:"02",properties:{name:"Alaska"}},{type:"Polygon",arcs:[[143,144,145,146,147]],id:"04",properties:{name:"Arizona"}},{type:"Polygon",arcs:[[148,149,150,151,152,153]],id:"08",properties:{name:"Colorado"}},{type:"MultiPolygon",arcs:[[[154]],[[155]],[[156]],[[157]],[[158]],[[159]],[[160]],[[161]],[[162]],[[163,164,-4]]],id:"12",properties:{name:"Florida"}},{type:"Polygon",arcs:[[165,166,167,168,-164,-3]],id:"13",properties:{name:"Georgia"}},{type:"Polygon",arcs:[[169,170,171,172,173]],id:"18",properties:{name:"Indiana"}},{type:"Polygon",arcs:[[174,175,176,-151]],id:"20",properties:{name:"Kansas"}},{type:"MultiPolygon",arcs:[[[177]],[[178]],[[179]],[[180]],[[181]],[[182]],[[183]],[[184,185]]],id:"23",properties:{name:"Maine"}},{type:"MultiPolygon",arcs:[[[186]],[[187]],[[188,189,190,191,192,193,194,195]]],id:"25",properties:{name:"Massachusetts"}},{type:"Polygon",arcs:[[196,197,198,199,200]],id:"27",properties:{name:"Minnesota"}},{type:"Polygon",arcs:[[201,202,203,204,205,206,207,208]],id:"34",properties:{name:"New Jersey"}},{type:"MultiPolygon",arcs:[[[209]],[[210]],[[211,212,213,-167,214]]],id:"37",properties:{name:"North Carolina"}},{type:"Polygon",arcs:[[215,-201,216,217]],id:"38",properties:{name:"North Dakota"}},{type:"Polygon",arcs:[[-152,-177,218,219,220,221]],id:"40",properties:{name:"Oklahoma"}},{type:"Polygon",arcs:[[222,223,-204,224,225,226,227]],id:"42",properties:{name:"Pennsylvania"}},{type:"Polygon",arcs:[[228,-217,-200,229,230,231]],id:"46",properties:{name:"South Dakota"}},{type:"Polygon",arcs:[[-221,232,233,234,235,236,237]],id:"48",properties:{name:"Texas"}},{type:"Polygon",arcs:[[-232,238,-149,239,240,241]],id:"56",properties:{name:"Wyoming"}},{type:"Polygon",arcs:[[-195,242,243,244]],id:"09",properties:{name:"Connecticut"}},{type:"Polygon",arcs:[[245,246,247,248,249,250,251,-219,-176,252]],id:"29",properties:{name:"Missouri"}},{type:"Polygon",arcs:[[253,-227,254,255,256]],id:"54",properties:{name:"West Virginia"}},{type:"Polygon",arcs:[[257,258,259,-174,260,-247]],id:"17",properties:{name:"Illinois"}},{type:"Polygon",arcs:[[-153,-222,-238,261,-147]],id:"35",properties:{name:"New Mexico"}},{type:"Polygon",arcs:[[-252,262,263,264,-235,233,-233,-220]],id:"05",properties:{name:"Arkansas"}},{type:"MultiPolygon",arcs:[[[265]],[[266]],[[267]],[[268]],[[269]],[[270]],[[271]],[[272]],[[273,274,275,-144,276]]],id:"06",properties:{name:"California"}},{type:"MultiPolygon",arcs:[[[-209,277]],[[-225,-203,278,279]]],id:"10",properties:{name:"Delaware"}},{type:"Polygon",arcs:[[280,281]],id:"11",properties:{name:"District of Columbia"}},{type:"MultiPolygon",arcs:[[[282]],[[283]],[[284]],[[285]],[[286]],[[287]],[[288]],[[289]]],id:"15",properties:{name:"Hawaii"}},{type:"Polygon",arcs:[[-199,290,-258,-246,291,-230]],id:"19",properties:{name:"Iowa"}},{type:"MultiPolygon",arcs:[[[-261,-173,292,-257,293,294,-248]],[[295,-250]]],id:"21",properties:{name:"Kentucky"}},{type:"MultiPolygon",arcs:[[[296,297]],[[298]],[[299]],[[-226,-280,300,301,302,303,-281,304,-255]]],id:"24",properties:{name:"Maryland"}},{type:"MultiPolygon",arcs:[[[305]],[[306]],[[307]],[[308]],[[309]],[[310]],[[311]],[[312]],[[313]],[[314,315,-171]],[[316]],[[317,318,319,320,321,322]]],id:"26",properties:{name:"Michigan"}},{type:"MultiPolygon",arcs:[[[323]],[[324]],[[325]],[[326]],[[-264,327,-6,328,329]]],id:"28",properties:{name:"Mississippi"}},{type:"Polygon",arcs:[[330,-218,-229,-242,331]],id:"30",properties:{name:"Montana"}},{type:"Polygon",arcs:[[332,-185,333,-190,334]],id:"33",properties:{name:"New Hampshire"}},{type:"MultiPolygon",arcs:[[[335]],[[336]],[[337]],[[338,-207]],[[339]],[[340]],[[341,342,-196,-245,343,-205,-224]]],id:"36",properties:{name:"New York"}},{type:"MultiPolygon",arcs:[[[344]],[[345]],[[-316,346,-228,-254,-293,-172]]],id:"39",properties:{name:"Ohio"}},{type:"Polygon",arcs:[[347,348,349,274,-275,-274,350]],id:"41",properties:{name:"Oregon"}},{type:"Polygon",arcs:[[-251,-296,-249,-295,351,-215,-166,-2,-328,-263]],id:"47",properties:{name:"Tennessee"}},{type:"Polygon",arcs:[[352,-240,-154,-146,353]],id:"49",properties:{name:"Utah"}},{type:"MultiPolygon",arcs:[[[354]],[[-302,355]],[[356,-297]],[[-256,-305,-282,-304,357,-212,-352,-294]]],id:"51",properties:{name:"Virginia"}},{type:"MultiPolygon",arcs:[[[358]],[[359]],[[360]],[[361]],[[362]],[[363]],[[364]],[[365]],[[366]],[[367]],[[368,-348,369]]],id:"53",properties:{name:"Washington"}},{type:"MultiPolygon",arcs:[[[370]],[[371]],[[372]],[[373]],[[374]],[[375]],[[376]],[[377]],[[378]],[[379]],[[380,-323,321,-321,319,-319,381,-259,-291,-198]]],id:"55",properties:{name:"Wisconsin"}},{type:"MultiPolygon",arcs:[[[382]],[[383]],[[384]]],id:"60",properties:{name:"American Samoa"}},{type:"MultiPolygon",arcs:[[[385]]],id:"66",properties:{name:"Guam"}},{type:"MultiPolygon",arcs:[[[386]],[[387]],[[388]],[[389]],[[390]],[[391]],[[392]],[[393]]],id:"69",properties:{name:"Commonwealth of the Northern Mariana Islands"}},{type:"Polygon",arcs:[[-231,-292,-253,-175,-150,-239]],id:"31",properties:{name:"Nebraska"}},{type:"Polygon",arcs:[[-214,394,-168]],id:"45",properties:{name:"South Carolina"}},{type:"MultiPolygon",arcs:[[[395]],[[396]],[[397]],[[398]],[[399]]],id:"72",properties:{name:"Puerto Rico"}},{type:"MultiPolygon",arcs:[[[400]],[[401]],[[402]]],id:"78",properties:{name:"United States Virgin Islands"}},{type:"Polygon",arcs:[[-369,403,-332,-241,-353,404,-349]],id:"16",properties:{name:"Idaho"}},{type:"Polygon",arcs:[[-275,-350,-405,-354,-145,-276]],id:"32",properties:{name:"Nevada"}},{type:"Polygon",arcs:[[405,-335,-189,-343]],id:"50",properties:{name:"Vermont"}},{type:"MultiPolygon",arcs:[[[406]],[[407]],[[408]],[[409]],[[410]],[[411]],[[412]],[[-265,-330,413,-236]]],id:"22",properties:{name:"Louisiana"}},{type:"MultiPolygon",arcs:[[[-192,414]],[[415]],[[416]],[[417]],[[-243,-194,418]]],id:"44",properties:{name:"Rhode Island"}}]},nation:{type:"GeometryCollection",geometries:[{type:"MultiPolygon",arcs:[[[0]],[[164,4,328,413,236,261,147,276,350,369,403,330,215,196,380,317,381,259,169,314,346,222,341,405,332,185,333,190,414,192,418,243,343,205,338,207,277,201,278,300,355,302,357,212,394,168]],[[6]],[[7]],[[8]],[[9]],[[10]],[[11]],[[12]],[[13]],[[14]],[[15]],[[16]],[[17]],[[18]],[[19]],[[20]],[[21]],[[22]],[[23]],[[24]],[[25]],[[26]],[[27]],[[28]],[[29]],[[30]],[[31]],[[32]],[[33]],[[34]],[[35]],[[36]],[[37]],[[38]],[[39]],[[40]],[[41]],[[42]],[[43]],[[44]],[[45]],[[46]],[[47]],[[48]],[[49]],[[50]],[[51]],[[52]],[[53]],[[54]],[[55]],[[56]],[[57]],[[58]],[[59]],[[60]],[[61]],[[62]],[[63]],[[64]],[[65]],[[66]],[[67]],[[68]],[[69]],[[70]],[[71]],[[72]],[[73]],[[74]],[[75]],[[76]],[[77]],[[78]],[[79]],[[80]],[[81]],[[82]],[[83]],[[84]],[[85]],[[86]],[[87]],[[88]],[[89]],[[90]],[[91]],[[92]],[[93]],[[94]],[[95]],[[96]],[[97]],[[98]],[[99]],[[100]],[[101]],[[102]],[[103]],[[104]],[[105]],[[106]],[[107]],[[108]],[[109]],[[110]],[[111]],[[112]],[[113]],[[114]],[[115]],[[116]],[[117]],[[118]],[[119]],[[120]],[[121]],[[122]],[[123]],[[124]],[[125]],[[126]],[[127]],[[128]],[[129]],[[130]],[[131]],[[132]],[[133]],[[134]],[[135]],[[136]],[[137]],[[138]],[[139]],[[140]],[[141]],[[142]],[[154]],[[155]],[[156]],[[157]],[[158]],[[159]],[[160]],[[161]],[[162]],[[177]],[[178]],[[179]],[[180]],[[181]],[[182]],[[183]],[[186]],[[187]],[[209]],[[210]],[[265]],[[266]],[[267]],[[268]],[[269]],[[270]],[[271]],[[272]],[[282]],[[283]],[[284]],[[285]],[[286]],[[287]],[[288]],[[289]],[[297,356]],[[298]],[[299]],[[305]],[[306]],[[307]],[[308]],[[309]],[[310]],[[311]],[[312]],[[313]],[[316]],[[323]],[[324]],[[325]],[[326]],[[335]],[[336]],[[337]],[[339]],[[340]],[[344]],[[345]],[[354]],[[358]],[[359]],[[360]],[[361]],[[362]],[[363]],[[364]],[[365]],[[366]],[[367]],[[370]],[[371]],[[372]],[[373]],[[374]],[[375]],[[376]],[[377]],[[378]],[[379]],[[382]],[[383]],[[384]],[[385]],[[386]],[[387]],[[388]],[[389]],[[390]],[[391]],[[392]],[[393]],[[395]],[[396]],[[397]],[[398]],[[399]],[[400]],[[401]],[[402]],[[406]],[[407]],[[408]],[[409]],[[410]],[[411]],[[412]],[[415]],[[416]],[[417]]]}]}},arcs:[[[25302,52136],[56,31],[1,25],[14,-40],[-9,-28],[-10,16],[-18,-2],[-20,-17],[-14,15]],[[25338,57677],[0,15],[150,-6],[63,0],[160,-13],[93,-2],[37,2],[159,-4],[61,-5]],[[26061,57664],[15,-321],[23,-443],[18,-379],[13,-294],[15,-311],[33,-713],[9,-32],[-4,-36],[13,-45],[5,-149],[10,-72],[17,-69],[3,-82],[9,-36],[-10,-117],[18,-28],[12,-40],[-10,-52],[-11,0],[2,-24],[-14,-21],[-13,-52],[3,-56],[-2,-86],[-7,-86],[-14,-72],[-3,-45],[6,-124],[-2,-44],[19,-87],[3,-120],[-7,-57],[2,-43],[-8,-80],[1,-79],[-7,-21],[5,-51],[-3,-54],[20,-91],[7,-64],[2,-61]],[[26229,53027],[-67,0],[-71,-5],[-110,-4],[-174,0],[-135,7],[-166,-2],[3,-38],[-13,-115],[2,-23],[23,-79],[3,-41],[36,-80],[3,-69],[-15,-102],[3,-55],[20,-51],[-18,-35],[-8,-82],[-9,-15],[7,-24],[-15,-26]],[[25528,52188],[-38,-35],[-40,-24],[-56,-4],[18,41],[12,-26],[35,27],[3,34],[-15,48],[-7,43],[-20,47],[-7,90],[9,74],[-3,76],[-7,48],[-20,32],[-15,-46],[2,-38],[-9,-57],[1,-41],[-6,-32],[-1,-144],[-8,-66],[-15,-4],[1,36],[-20,40],[-15,-16],[-5,23],[-18,-22]],[[25284,52292],[-3,222],[-3,357],[-6,423],[-10,773],[9,283],[21,710],[5,212],[33,1120],[6,160],[19,643],[12,362],[-16,35],[-13,85]],[[8053,88108],[6,38],[18,-11],[-20,-43],[-4,16]],[[7905,86007],[29,90],[15,-17],[-1,-46],[-28,-74],[-15,19],[0,28]],[[7695,85792],[26,-14],[-3,-36],[-23,50]],[[7642,85774],[22,-17],[-7,-33],[-14,14],[-1,36]],[[7602,85813],[20,-2],[-5,-34],[-15,36]],[[7594,84711],[8,45],[20,-13],[-8,-73],[-15,-17],[-5,58]],[[7543,85532],[12,28],[21,-40],[-33,-2],[0,14]],[[7540,87187],[29,79],[8,112],[31,-29],[-28,-64],[-9,-49],[5,-24],[-36,-25]],[[7464,85521],[14,55],[18,-28],[23,-4],[-33,-33],[-22,10]],[[7385,86976],[17,6],[5,-88],[-22,82]],[[7168,84530],[29,89],[15,6],[26,-66],[5,20],[-21,65],[6,54],[9,10],[27,-25],[21,19],[-29,54],[16,56],[29,-31],[15,4],[-14,56],[12,17],[20,-20],[14,45],[-18,6],[-13,33],[20,3],[22,67],[34,18],[-12,35],[-3,68],[27,66],[7,-31],[53,51],[7,-7],[-12,-118],[-13,-18],[-26,-103],[5,-84],[36,11],[2,69],[22,-9],[21,-71],[20,48],[12,-33],[-17,-117],[9,-22],[9,72],[27,47],[7,-25],[-3,-115],[-30,-89],[-32,23],[-11,81],[-21,-26],[13,-99],[-22,-20],[-39,13],[-16,-54],[-8,36],[2,74],[-10,2],[-9,-114],[-8,-24],[-31,-17],[2,-37],[-16,-22],[-45,-13],[-86,76],[-21,-13],[-15,29]],[[7129,86075],[41,28],[18,-43],[-5,-48],[-13,-16],[-29,-3],[-16,59],[4,23]],[[6962,82933],[31,45],[8,-48],[-37,-9],[-2,12]],[[6905,82759],[20,62],[19,20],[11,-11],[25,17],[5,-40],[19,-37],[36,16],[-2,-37],[-19,-31],[-46,-6],[-32,-13],[-32,25],[-4,35]],[[6789,83718],[20,17],[4,76],[18,75],[25,34],[5,44],[15,-8],[34,70],[33,36],[39,-15],[29,1],[0,-112],[26,-57],[4,45],[17,53],[-18,48],[6,25],[53,-14],[-3,35],[-52,44],[-19,-4],[-1,127],[31,61],[29,29],[20,-12],[22,-56],[6,-133],[15,13],[9,77],[-5,55],[35,-38],[7,47],[-37,36],[-21,58],[7,44],[17,-6],[51,-87],[9,4],[30,-41],[11,10],[-31,75],[-20,34],[-7,44],[17,0],[30,-58],[29,12],[41,-29],[7,49],[36,15],[-8,-63],[-39,-106],[-7,-83],[19,-36],[0,95],[16,43],[16,-49],[5,46],[17,32],[5,41],[14,10],[10,-31],[22,72],[17,8],[-4,-45],[28,-16],[-11,-38],[-11,20],[-18,-15],[19,-36],[-5,-49],[19,22],[11,-51],[27,1],[-24,-53],[-16,33],[-24,2],[-15,-48],[16,-9],[-8,-53],[26,-8],[-26,-89],[23,17],[13,47],[5,-35],[47,-4],[-3,-41],[-36,-78],[-13,-110],[-38,13],[-2,39],[-10,-41],[-23,42],[-17,-6],[-23,49],[-15,-13],[-24,19],[-8,-46],[27,1],[15,-17],[45,-87],[-8,-70],[-23,-52],[-11,36],[-19,-50],[-19,30],[-6,38],[-21,18],[-20,-12],[-17,-37],[29,2],[20,-49],[-38,-53],[-34,12],[-4,-20],[25,-34],[14,13],[35,1],[22,-43],[-11,-28],[-24,-8],[-34,-33],[-8,11],[-19,-29],[3,-49],[-27,-50],[-13,20],[7,34],[-23,50],[7,47],[27,62],[-8,24],[-15,-21],[-34,-105],[-3,-24],[-22,32],[-22,-10],[-5,-35],[26,-6],[10,-63],[-16,-61],[-25,-20],[1,-70],[-25,-41],[-12,13],[-23,-82],[-19,-30],[-18,21],[-31,-20],[22,116],[11,11],[26,71],[24,31],[-2,37],[-33,-23],[3,52],[22,102],[29,52],[-7,30],[-15,-45],[-34,-61],[-26,-112],[-24,-59],[-14,-11],[-5,-44],[-19,-30],[-4,84],[-26,58],[-33,27],[3,100],[-4,106],[-13,83],[-11,32],[-23,20],[-27,5],[14,30],[-15,37],[5,23]],[[6782,82633],[27,101],[51,97],[21,-4],[16,-54],[-12,-23],[-55,-73],[-29,-79],[-19,35]],[[6519,81925],[26,41],[5,38],[13,22],[8,-32],[-6,-43],[5,-68],[-7,-33],[-36,13],[-8,62]],[[6240,82171],[5,47],[14,25],[13,-59],[-13,-63],[-19,50]],[[6225,82357],[9,35],[3,-82],[-10,-1],[-2,48]],[[6080,82757],[21,48],[48,-3],[25,-54],[-35,23],[-16,-26],[-43,-6],[0,18]],[[5919,82533],[19,25],[11,-57],[-9,-11],[-21,43]],[[5642,81925],[8,64],[19,12],[27,-58],[-8,-18],[-21,37],[-25,-37]],[[5573,81984],[16,-49],[-27,12],[11,37]],[[5524,80844],[-1,36],[13,24],[20,-25],[-9,-59],[-19,-15],[-4,39]],[[5506,81836],[8,67],[10,10],[11,-62],[-29,-15]],[[5485,80904],[12,85],[-11,46],[31,-2],[4,-99],[-27,-38],[-9,8]],[[5445,80747],[10,13],[16,-42],[-1,-34],[-23,-4],[-2,67]],[[5429,81185],[17,-21],[5,49],[17,46],[5,-22],[-8,-58],[9,-13],[1,-44],[-10,-61],[13,-30],[-7,-19],[-17,22],[-2,-21],[-20,8],[-3,164]],[[5385,80755],[21,25],[11,-30],[-20,-26],[-12,31]],[[5377,81028],[9,39],[23,41],[5,-36],[-23,-38],[-9,-58],[-5,52]],[[5303,81352],[14,11],[5,-42],[-19,31]],[[5265,80882],[33,98],[15,27],[-5,18],[-22,0],[-4,76],[22,50],[27,-44],[-1,38],[-13,52],[30,-13],[18,114],[12,-23],[-2,-43],[-9,-2],[-5,-75],[12,-18],[0,33],[13,1],[-4,-60],[-11,-37],[-22,12],[-1,-45],[-28,-71],[-18,-24],[-31,-141],[-6,77]],[[5246,85264],[5,41],[14,-83],[-7,-25],[-12,67]],[[5238,81460],[22,42],[36,-14],[-1,-78],[-50,12],[-7,38]],[[5213,85252],[8,77],[5,-57],[-13,-20]],[[5096,81334],[16,74],[25,25],[18,-23],[-2,-46],[10,5],[12,47],[15,-32],[26,-26],[26,25],[7,-66],[-9,-60],[-14,40],[-22,3],[-14,23],[-3,40],[-10,-12],[0,-69],[11,-20],[11,-87],[-11,-60],[-36,35],[-10,59],[-18,-18],[-18,-90],[4,58],[-10,43],[0,104],[-4,28]],[[5033,85142],[7,131],[39,52],[21,6],[39,76],[5,-2],[-55,-273],[-22,-32],[-32,-4],[-2,46]],[[4937,81216],[27,3],[-4,-71],[-26,47],[3,21]],[[4863,81217],[10,31],[36,8],[-9,-51],[-37,-10],[0,22]],[[4804,81100],[4,51],[17,20],[25,-19],[12,-29],[35,-42],[6,-41],[-30,44],[-23,-57],[-28,74],[-11,-38],[-7,37]],[[4656,80881],[30,66],[26,-27],[0,-83],[-11,-53],[-13,-21],[-27,58],[-5,60]],[[4587,90956],[19,44],[21,16],[24,-17],[22,6],[9,-37],[-1,-50],[-75,-13],[-18,19],[-1,32]],[[4545,80324],[1,51],[68,-54],[19,-39],[26,0],[18,-28],[-20,-23],[-10,-33],[-22,40],[-17,-9],[-31,37],[-18,-29],[-22,57],[8,30]],[[4451,81463],[14,-1],[-5,-38],[-9,39]],[[3979,80040],[12,22],[16,-18],[-21,-37],[-7,33]],[[3880,79918],[22,34],[33,-11],[24,18],[5,-24],[-9,-45],[-26,-13],[-47,27],[-2,14]],[[3807,79887],[60,24],[9,-35],[-15,-32],[-13,37],[-34,-4],[-7,10]],[[3781,79848],[17,29],[7,-36],[-18,-14],[-6,21]],[[3751,80090],[13,56],[14,-15],[18,18],[12,-21],[-22,-33],[13,-48],[30,0],[1,-41],[-23,3],[-18,-79],[-23,24],[-2,78],[16,35],[-9,20],[-16,-21],[-4,24]],[[3635,79967],[5,36],[28,54],[30,-6],[3,-58],[20,6],[14,-15],[8,-44],[13,13],[-2,-41],[-26,-36],[-12,11],[-18,-45],[-6,28],[-25,1],[-17,-20],[-18,91],[3,25]],[[3608,79782],[7,15],[27,-33],[-32,-11],[-2,29]],[[3261,87028],[35,25],[57,0],[22,-20],[23,10],[9,-24],[21,10],[10,30],[-8,38],[34,68],[37,-11],[0,37],[25,46],[33,-40],[24,32],[23,9],[15,54],[19,-132],[27,-10],[29,34],[29,-20],[27,-40],[-12,-65],[11,-44],[-11,-40],[13,-11],[4,-65],[-13,-38],[21,-54],[2,-58],[21,10],[-11,-34],[2,-48],[-71,-21],[-6,-34],[-20,19],[-26,-18],[-28,-58],[8,-64],[-26,-8],[-23,71],[-38,47],[-57,-4],[-14,35],[-28,18],[-27,58],[-35,42],[-40,19],[-32,72],[-25,10],[-2,70],[-28,97]],[[3147,79003],[17,23],[22,53],[25,5],[37,40],[9,27],[28,-21],[14,19],[8,44],[22,-19],[3,72],[24,-11],[-17,106],[20,32],[8,-16],[15,18],[-18,35],[4,39],[17,23],[29,-1],[9,-68],[15,7],[-7,50],[13,31],[-53,47],[-14,-21],[-32,81],[0,46],[31,92],[42,50],[36,32],[6,-15],[23,13],[16,-63],[-16,-42],[7,-35],[17,-18],[14,53],[6,-33],[15,29],[-1,41],[18,63],[15,-58],[11,26],[20,-62],[-8,-56],[-23,-13],[-24,-70],[-40,-70],[2,-39],[34,54],[58,64],[4,22],[22,22],[7,-19],[-5,-72],[-16,-51],[-26,-34],[-6,-23],[-45,-51],[-30,-20],[12,-46],[-16,-1],[-4,-61],[-16,17],[-7,-70],[-20,25],[-4,-76],[-36,-13],[-22,30],[-10,-31],[-12,23],[-21,-37],[-6,11],[-44,-73],[-3,-31],[-23,4],[-16,-23],[-13,-60],[-28,23],[-9,-45],[-49,40],[-15,36]],[[3070,93368],[7,34],[34,50],[123,108],[63,74],[48,74],[45,56],[42,64],[84,105],[55,56],[146,167],[172,154],[133,90],[87,45],[135,15],[52,-11],[34,-31],[-41,-11],[7,-38],[-10,-71],[-31,-77],[1,-70],[12,-56],[-21,-59],[-49,-33],[-4,-20],[49,7],[42,-151],[40,-3],[36,32],[42,-1],[49,-30],[47,21],[69,15],[32,-58],[50,21],[18,-34],[52,32],[18,26],[84,-65],[18,59],[26,44],[37,150],[18,26],[40,-9],[8,-39],[32,-12],[31,27],[26,0],[-32,110],[-71,55],[-45,24],[-48,-1],[-60,-60],[13,112],[-3,83],[-62,114],[-22,91],[-26,35],[-59,14],[-8,56],[-32,90],[7,50],[27,18],[10,43],[16,-37],[24,28],[27,-89],[36,-91],[24,-10],[-19,-101],[3,-55],[28,-50],[57,-123],[53,-68],[39,18],[30,28],[9,49],[-45,2],[-10,45],[-56,70],[-53,112],[10,52],[0,60],[14,23],[1,57],[33,93],[30,-32],[22,3],[1,28],[-38,55],[-25,-8],[-28,57],[-87,-29],[-32,-37],[-34,0],[-39,-19],[-34,17],[-20,43],[-17,-16],[-21,23],[-4,-51],[-36,39],[-91,42],[-54,31],[-48,15],[-22,30],[1,98],[-22,163],[-52,216],[-20,58],[-36,62],[-91,101],[-145,228],[-21,24],[-51,87],[-50,49],[-54,37],[-51,23],[-29,35],[-19,70],[-54,84],[-45,40],[-81,41],[-42,-6],[37,40],[92,59],[20,46],[3,57],[19,76],[11,236],[-8,117],[179,-31],[68,6],[144,42],[79,28],[77,15],[77,63],[41,65],[29,30],[53,87],[81,192],[21,92],[7,79],[-2,186],[39,233],[84,183],[65,179],[37,77],[129,162],[96,-35],[69,-3],[68,40],[64,53],[93,104],[74,108],[44,86],[114,188],[33,31],[99,63],[7,-47],[55,-44],[82,-12],[68,15],[13,24],[32,-3],[61,17],[73,51],[74,85],[71,121],[36,88],[86,185],[68,76],[12,-68],[47,-38],[39,-2],[39,-20],[16,-82],[27,41],[99,-49],[15,-98],[-54,-71],[-35,-63],[-41,-4],[12,-146],[81,-15],[44,59],[-7,76],[16,8],[31,67],[23,12],[19,-48],[4,63],[-27,43],[35,55],[21,-47],[-3,65],[15,22],[71,-74],[45,-66],[13,-42],[-11,-33],[1,-109],[9,-49],[61,10],[35,-37],[16,-40],[48,62],[30,75],[112,0],[69,42],[53,-11],[40,-34],[84,-2],[61,-32],[45,-35],[9,-34],[-26,-11],[-26,-83],[-26,-30],[14,-93],[25,5],[19,-24],[45,-6],[10,-28],[69,-20],[33,9],[-17,-43],[9,-25],[-53,-26],[-8,-24],[20,-25],[89,6],[72,-41],[14,-33],[28,5],[44,86],[57,15],[24,-18],[10,34],[40,7],[29,-27],[15,-59],[42,27],[38,8],[58,83],[13,-22],[45,20],[21,-15],[34,26],[12,-30],[66,-8],[62,-72],[28,-1],[19,-24],[26,31],[24,-8],[37,-73],[0,-45],[35,-19],[41,51],[1,-63],[26,57],[81,-77],[14,-67],[24,-23],[49,1],[43,-15],[29,36],[23,-73],[48,-10],[29,45],[43,-12],[62,12],[66,-10],[49,-38],[50,-3],[17,28],[65,-95],[28,-8],[32,-54],[45,-16],[20,-30],[45,-12],[17,-26],[27,32],[66,-20],[45,77],[48,6],[9,20],[84,49],[18,24],[86,30],[42,-25],[48,32],[9,-18],[79,-73],[53,-37],[70,-80],[26,-67],[37,-11],[87,-97],[68,-40],[52,-62],[27,-47],[61,-13],[58,-45],[0,-9012],[2,-971],[-1,-889],[130,-95],[17,100],[135,-145],[81,180],[170,20],[1,-39],[-33,-272],[47,-112],[66,-76],[26,-22],[11,-116],[29,-80],[266,-580],[30,-299],[-8,-93],[22,4],[51,108],[111,158],[11,23],[68,8],[32,139],[-2,209],[30,-19],[18,19],[19,71],[-1,39],[-32,47],[45,48],[68,28],[131,158],[62,-115],[28,-88],[11,-2],[24,-70],[0,-104],[-12,-24],[1,-37],[16,-47],[-5,-42],[18,-76],[73,-38],[5,-66],[32,-73],[24,0],[29,-108],[-6,-69],[26,-20],[-6,-46],[22,-71],[114,-152],[32,-119],[46,-120],[50,-110],[-23,-49],[33,-134],[47,-140],[28,-176],[57,-182],[32,-161],[30,-111],[25,-123],[53,-180],[32,-155],[-33,-140],[89,-52],[-21,-205],[71,-81],[-8,-61],[11,-57],[7,-119],[71,14],[33,-77],[82,-115],[23,-48],[85,-47],[44,-115],[44,-33],[11,-116],[23,-15],[27,-36],[40,23],[28,-143],[-3,-90],[-20,-107],[-18,-67],[1,-60],[10,-38],[-5,-118],[12,-104],[11,-46],[6,-133],[12,-63],[-32,-100],[-24,-122],[-1,-33],[-20,-90],[-23,-77],[-37,-97],[-27,-55],[-19,-14],[3,-46],[-19,-23],[-12,40],[-1,56],[-13,24],[-1,-44],[-12,-22],[-18,18],[-13,52],[-4,108],[3,57],[-17,33],[8,103],[-9,6],[-16,56],[-6,64],[30,63],[17,63],[15,-8],[-3,75],[-11,82],[14,122],[-9,190],[-10,67],[-43,164],[-22,55],[-12,48],[-7,-34],[23,-62],[25,-85],[7,-72],[22,-90],[10,-131],[-16,-43],[-2,-79],[7,-92],[11,-62],[-9,-28],[-11,96],[-8,12],[3,-70],[-4,-74],[-36,-102],[-14,-5],[-24,49],[19,73],[11,73],[-3,38],[-25,-10],[10,-72],[-8,-42],[-33,-56],[-7,1],[-23,108],[-11,-45],[-25,54],[-17,18],[-12,50],[-28,68],[0,76],[31,31],[22,51],[-20,47],[7,75],[-9,39],[23,44],[3,24],[-18,1],[-3,74],[7,43],[-41,-17],[6,-45],[11,-16],[-1,-37],[-13,-85],[-1,-60],[-19,-73],[-18,13],[7,-93],[-10,-43],[-24,52],[-25,22],[-9,30],[-12,132],[-16,70],[21,-29],[7,75],[27,37],[12,147],[-8,102],[10,57],[6,-21],[12,42],[7,92],[-21,-11],[-4,-58],[-19,-30],[-21,-61],[13,-113],[-8,-42],[-33,3],[-12,-43],[3,-30],[-17,-14],[-7,34],[4,67],[-19,23],[-12,128],[-32,-17],[0,-48],[-28,118],[-3,123],[8,25],[25,1],[7,66],[13,49],[30,12],[16,-72],[7,63],[-15,168],[9,3],[30,-45],[4,-59],[11,-32],[6,23],[-9,77],[-22,35],[-19,48],[-3,53],[-11,13],[-12,-25],[-10,49],[-23,32],[-5,57],[12,23],[-4,64],[-22,28],[-37,66],[-13,69],[-15,33],[-13,79],[29,43],[-11,58],[-18,-47],[-19,18],[-2,-27],[-23,58],[-31,8],[-11,56],[-27,-28],[-54,76],[-8,75],[15,73],[18,-22],[33,4],[9,48],[-22,3],[-32,36],[2,35],[-18,125],[13,81],[-24,-10],[-15,19],[-16,53],[7,103],[20,2],[16,-36],[33,-24],[63,-89],[5,15],[-25,58],[-20,19],[-66,130],[-3,95],[-17,-15],[-2,-65],[-20,3],[-39,166],[-55,147],[-11,140],[9,65],[-2,52],[27,41],[-13,100],[-8,-2],[-9,-85],[-20,-30],[0,-42],[12,-22],[-13,-57],[-10,10],[-22,-20],[-25,11],[-36,34],[-7,-15],[-35,36],[-40,174],[-4,110],[-42,140],[-13,79],[19,1],[-11,174],[-19,-56],[1,-58],[-35,132],[-8,177],[-8,92],[-21,135],[-32,116],[-36,37],[-5,-16],[28,-38],[4,-41],[17,-39],[20,-131],[-15,11],[-34,140],[-22,36],[-22,10],[41,-92],[13,-85],[17,-29],[-7,-97],[9,-88],[13,-23],[-5,-24],[27,-124],[3,-55],[25,-139],[2,-32],[-14,11],[27,-204],[9,-85],[1,-69],[-12,8],[-1,-61],[12,-64],[-29,23],[-19,32],[-14,-4],[-18,43],[-15,66],[-10,84],[-22,-16],[-33,50],[-27,-37],[-50,-19],[3,81],[-25,16],[-4,19],[30,39],[-10,69],[5,53],[-28,109],[0,36],[-22,84],[13,24],[-2,90],[-19,64],[-12,10],[15,-131],[-12,-125],[-27,-5],[-42,70],[-26,30],[-15,150],[-11,-68],[-13,-22],[-44,54],[-14,-20],[-10,50],[-12,-18],[-3,-54],[45,-35],[7,7],[45,-44],[33,-66],[30,-104],[-11,-44],[-24,-44],[6,-11],[33,44],[7,30],[27,1],[7,-105],[26,-78],[16,-157],[-19,-44],[-43,-32],[-11,10],[9,47],[-18,16],[-12,-17],[7,-39],[-10,-37],[-43,22],[-11,-23],[5,-60],[-8,-35],[-29,5],[-8,78],[-36,35],[3,15],[-28,74],[-17,19],[-29,-19],[-35,70],[-16,15],[-56,107],[-51,75],[-2,50],[-30,70],[-37,64],[-5,28],[4,75],[-15,48],[-55,121],[-30,47],[-96,89],[-36,71],[-43,66],[-98,104],[-42,49],[-91,144],[-30,39],[5,29],[31,89],[24,-14],[-9,-27],[24,3],[0,43],[21,70],[-22,7],[2,77],[-14,116],[7,35],[22,41],[-5,34],[16,30],[-13,56],[-19,-51],[-2,-59],[-25,-21],[-21,-72],[-1,-49],[-107,-100],[-12,-28],[-28,-28],[-95,22],[-67,36],[-26,32],[-123,125],[-17,56],[18,-10],[34,24],[11,71],[-33,131],[3,42],[-20,-17],[-31,44],[6,-50],[45,-120],[-10,-21],[-54,-51],[-39,0],[-49,55],[-61,24],[-32,23],[-81,40],[-45,11],[-59,-4],[-63,-33],[-77,-12],[-80,-28],[-54,-48],[-39,39],[-45,-26],[-64,-120],[-46,-115],[6,65],[36,103],[62,117],[46,2],[-16,66],[-49,48],[-8,25],[-10,-82],[-26,84],[-26,30],[-17,-9],[-16,27],[-71,19],[9,28],[38,23],[-42,33],[-19,-6],[-2,25],[37,156],[-15,15],[-13,-36],[-29,-22],[-1,-57],[-20,-66],[-39,12],[-70,97],[1,31],[-26,36],[-39,26],[-41,-35],[-22,27],[13,29],[31,32],[25,74],[-14,10],[-18,-49],[-79,-93],[-29,-23],[-38,5],[1,-54],[60,27],[11,-24],[2,-53],[-17,2],[-28,-37],[-18,6],[-41,-38],[-41,-77],[-12,2],[-12,48],[47,77],[-37,-12],[-17,11],[-1,54],[23,83],[13,27],[18,2],[20,-31],[24,17],[22,41],[38,13],[57,58],[42,20],[-9,25],[-19,-2],[1,71],[-11,-49],[-19,-20],[1,30],[25,65],[1,21],[-33,-58],[-45,-47],[-19,-3],[-4,30],[63,112],[-6,38],[-29,-60],[-38,-14],[-12,26],[-15,-49],[-20,-14],[-54,13],[-10,58],[27,19],[11,-9],[18,25],[40,16],[29,28],[23,65],[-25,2],[-14,-46],[-23,-19],[-45,-2],[-18,68],[-12,3],[-17,-69],[-21,-8],[-4,59],[16,26],[17,-6],[-11,44],[-3,55],[13,34],[26,114],[96,6],[-7,38],[-91,-5],[-21,-63],[-27,-26],[-21,-77],[-31,-48],[-23,12],[20,36],[-10,113],[-12,53],[18,30],[-22,10],[-14,-23],[-1,-51],[12,-63],[-14,-63],[1,-41],[-13,-15],[-26,48],[-2,-67],[-27,-45],[-21,22],[0,52],[-11,19],[-7,-73],[-9,15],[4,129],[9,62],[-15,11],[-17,-130],[9,-111],[-4,-29],[-19,-9],[1,49],[-27,34],[-7,-46],[16,-65],[-13,-8],[-38,16],[-34,-48],[-28,9],[-5,31],[14,95],[42,151],[1,53],[49,123],[16,81],[-6,18],[-73,-211],[-1,-35],[-18,-58],[-8,8],[-8,69],[-12,-1],[-3,-81],[-11,-54],[-18,-42],[-3,-64],[-16,-68],[-21,27],[-7,-44],[24,-28],[-5,-91],[10,-8],[19,85],[37,6],[11,-22],[4,-91],[-14,-45],[-31,-32],[-22,-76],[1,-63],[21,20],[17,75],[30,44],[30,-89],[0,-44],[10,-43],[-23,-192],[-26,0],[-9,52],[-19,9],[1,-36],[-27,-44],[0,-17],[28,14],[23,-27],[61,-124],[26,-85],[-15,-77],[-13,-26],[-34,-35],[-17,16],[-14,-18],[-29,-6],[9,51],[-26,67],[9,60],[-17,63],[-16,-126],[0,-62],[-12,-41],[-19,69],[-9,-8],[-7,-59],[-18,-33],[-34,50],[-29,-40],[-15,52],[-27,-21],[-22,5],[-9,28],[24,74],[-9,14],[-27,-38],[-29,-175],[-30,-42],[-9,18],[14,55],[13,84],[-15,172],[-16,5],[-5,-28],[1,-81],[13,-53],[-10,-4],[-10,-72],[-17,11],[-8,-20],[-5,-68],[-11,-17],[4,-47],[25,-31],[-6,-74],[-27,32],[-12,127],[8,37],[-11,78],[-17,6],[6,-52],[-8,-49],[5,-196],[-5,-64],[-27,74],[-1,43],[-16,28],[-34,31],[3,-40],[24,-36],[-1,-63],[-69,-158],[-32,-91],[0,-36],[-16,-10],[-9,-86],[-12,2],[-3,70],[34,211],[0,29],[-26,-65],[-19,-111],[-12,11],[-9,142],[-13,-52],[-11,2],[16,-62],[-5,-80],[-39,0],[-8,-61],[-18,-24],[-22,-55],[7,-43],[-15,-41],[-16,-10],[0,54],[-16,36],[-13,-45],[-1,-53],[-22,-17],[-24,31],[-9,-23],[-21,38],[-7,43],[-12,-36],[-21,-27],[6,-35],[-20,0],[-5,-39],[-41,-7],[-6,76],[-22,-14],[-21,22],[3,22],[-21,8],[-3,70],[8,36],[16,18],[5,71],[32,31],[9,-11],[29,51],[33,3],[0,45],[33,21],[34,62],[31,-9],[-11,69],[22,26],[3,32],[37,102],[-13,15],[-24,-22],[-60,-109],[-30,-20],[-18,-39],[-39,16],[-43,67],[-15,40],[-5,46],[18,117],[13,45],[15,133],[27,79],[17,33],[35,99],[11,98],[0,71],[23,32],[5,156],[4,27],[-18,44],[-22,163],[39,35],[5,27],[63,27],[89,164],[92,118],[51,-161],[41,-16],[13,-27],[34,112],[30,8],[36,-45],[19,10],[63,-48],[65,-20],[30,-55],[-1,27],[-22,63],[-29,36],[-38,-14],[-51,63],[-24,-1],[-40,42],[-25,68],[-39,66],[-29,28],[18,55],[24,9],[31,124],[23,18],[8,60],[46,27],[30,45],[-32,50],[-20,4],[-43,-64],[-11,-49],[-19,-14],[-12,-70],[0,-70],[-18,-31],[-25,19],[-36,7],[-74,-17],[-26,43],[-28,16],[-14,-52],[-87,-84],[-39,-154],[-36,-12],[-19,-31],[-33,2],[-39,-63],[-48,-109],[-1,-29],[26,-124],[-2,-23],[-38,25],[-19,-18],[-30,-52],[-21,-92],[-27,-29],[-32,-74],[-6,-73],[8,-34],[19,-24],[-40,-56],[-9,-67],[-13,-4],[-28,-70],[-19,-7],[-9,28],[-25,-11],[4,-68],[16,-13],[-3,-30],[25,-42],[8,-35],[-12,-73],[-19,-47],[-7,-62],[-25,-21],[-4,-22],[-39,-2],[-15,12],[-40,-31],[-18,3],[-19,-60],[23,16],[15,-20],[15,30],[19,1],[7,-50],[-16,-116],[-19,-16],[-26,-51],[-28,37],[5,-34],[-13,-18],[-18,18],[7,35],[2,75],[-22,71],[3,-119],[-9,-55],[-18,-15],[-13,25],[-6,-35],[16,-28],[-9,-53],[-49,-10],[17,-93],[-8,-32],[-27,-21],[-10,8],[-24,-45],[-12,13],[-36,-37],[5,-26],[20,-18],[-23,-32],[-7,-43],[2,-61],[-12,-44],[-24,-35],[24,-26],[-6,-59],[10,-60],[27,63],[59,-23],[16,22],[12,-22],[15,25],[22,-78],[19,-27],[19,13],[23,-34],[18,-53],[8,-53],[15,-22],[-28,-14],[-14,-118],[-12,-39],[-30,-25],[-11,-55],[-24,-33],[-48,0],[-15,-17],[-4,-94],[-12,-33],[-27,1],[-5,-20],[10,-79],[11,-32],[-27,-36],[-20,15],[-2,-45],[20,-46],[-11,-81],[-21,-30],[-6,-33],[9,-24],[-23,0],[-14,-52],[-26,66],[-9,-7],[5,-57],[-4,-40],[-21,-3],[-12,-43],[-17,16],[0,27],[-20,-1],[-4,-39],[-22,-24],[-23,31],[-28,-17],[-35,-69],[15,-52],[-9,-51],[-40,-44],[-28,-2],[1,-53],[14,-25],[-6,-40],[-20,-16],[-36,59],[-10,30],[-20,-20],[-5,-63],[1,-69],[-26,-27],[-3,-97],[-65,-7],[-21,24],[-2,-74],[8,-71],[-20,0],[-12,37],[-21,3],[-4,-39],[-32,-27],[-39,-92],[-15,-12],[-5,-44],[13,-11],[47,64],[4,-50],[-6,-53],[-15,-7],[0,-31],[18,-38],[-10,-38],[-18,-26],[-2,-49],[-26,-44],[-8,-32],[2,-42],[-32,14],[-31,-28],[-4,-70],[-12,-12],[-19,75],[-8,-53],[-27,-42],[-11,-53],[-24,-6],[5,-50],[-17,-27],[-25,43],[-24,67],[-22,-16],[0,-51],[11,-5],[1,-36],[-29,-10],[-13,-67],[6,-32],[18,-6],[5,-52],[-36,-4],[-24,-15],[-17,77],[-51,-38],[-18,-51],[-16,-3],[-9,-49],[19,-1],[27,25],[20,-17],[6,-54],[-16,-47],[-43,44],[-23,11],[-5,-70],[-33,6],[-23,21],[-20,-33],[-27,-88],[2,-44],[47,-20],[32,-36],[-3,-29],[-32,-42],[1,-23],[18,-4],[25,31],[16,-7],[-55,-78],[-23,-63],[1,-52],[-13,50],[-10,-17],[16,-66],[-6,-50],[-7,39],[-10,-2],[-2,-53],[-25,80],[0,95],[-19,-60],[8,-73],[-4,-67],[-24,-6],[3,58],[-35,1],[-16,-80],[-25,-9],[-75,-43],[-29,-22],[-7,-22],[-3,-74],[-17,46],[5,80],[-23,-19],[10,-30],[1,-104],[-16,-71],[6,-46],[-24,-81],[-32,-30],[2,52],[24,4],[-1,40],[-10,4],[2,111],[18,72],[-29,39],[-28,12],[-13,-18],[3,-45],[-12,-21],[-13,22],[-25,-13],[-9,-82],[-35,-74],[-26,-20],[-37,28],[-6,-29],[11,-44],[-20,-81],[1,-31],[-21,-37],[-12,105],[-10,13],[-14,-37],[-11,14],[-18,-31],[31,-13],[-2,-68],[-32,-10],[-16,25],[5,39],[-13,24],[-22,-22],[-19,-90],[-61,-85],[-26,2],[-11,29],[-26,-29],[-13,4],[10,156],[29,96],[1,46],[-15,16],[-31,-2],[-24,-29],[-24,-101],[4,-129],[-40,-140],[-7,-12],[-14,-85],[-21,36],[-19,-12],[13,-65],[10,-17],[1,-56],[-25,-38],[-19,33],[0,45],[-16,15],[-13,-60],[10,-49],[-17,-47],[-14,27],[-32,-8],[-16,18],[-14,74],[32,6],[-21,47],[-8,104],[-21,56],[-11,7],[-16,-33],[-10,-65],[7,-27],[14,0],[18,-70],[-11,-46],[14,-95],[0,-52],[-22,30],[-20,-19],[3,-26],[-17,-30],[-18,-7],[-22,28],[-16,59],[4,36],[-13,56],[-21,37],[-31,-25],[-10,-56],[49,-85],[4,-31],[-50,-111],[-24,-21],[-20,-33],[16,-56],[27,2],[9,24],[22,-50],[13,-83],[-26,6],[8,34],[-17,6],[-10,-28],[-16,22],[-17,62],[-25,-39],[2,-69],[-18,-1],[-28,-50],[-23,18],[-37,10],[-45,-5],[-34,-14],[-41,-40],[-29,-71],[-4,-69],[-29,-53],[-51,-33],[-29,3],[-28,28],[-9,30],[-9,74],[-10,30],[-1,55],[8,29],[44,41],[14,25],[23,110],[19,110],[-1,29],[22,54],[14,13],[25,-46],[38,39],[25,49],[25,0],[37,81],[34,20],[36,-14],[31,5],[1,-37],[28,-72],[9,-61],[-5,-50],[27,24],[-8,52],[2,37],[30,-30],[-15,42],[2,77],[-10,109],[32,46],[26,21],[42,-15],[21,14],[10,69],[-16,4],[4,28],[18,10],[7,38],[18,-4],[26,99],[3,-32],[15,-20],[21,48],[-5,83],[-20,-9],[27,68],[64,206],[33,52],[23,62],[19,13],[27,42],[25,68],[27,14],[35,39],[37,20],[89,70],[30,-9],[10,18],[45,5],[10,-10],[-20,-27],[-1,-47],[14,-2],[-3,-49],[-29,-18],[-3,-85],[38,-98],[11,22],[27,-39],[4,19],[-29,53],[-3,85],[-6,32],[26,-28],[57,3],[7,-86],[23,7],[26,-36],[7,22],[-14,40],[27,15],[-56,89],[-32,36],[1,58],[-16,-7],[39,166],[15,123],[11,56],[23,44],[36,96],[18,13],[40,74],[30,81],[82,96],[41,74],[35,39],[68,106],[17,42],[29,-68],[19,-14],[31,19],[8,59],[-13,47],[-2,46],[15,122],[29,108],[41,130],[24,62],[22,37],[40,41],[21,52],[22,87],[14,15],[26,62],[30,25],[8,-74],[18,-15],[4,41],[-10,105],[-23,-2],[-6,34],[2,95],[9,59],[25,409],[14,42],[38,16],[12,53],[-20,-9],[-34,77],[-3,62],[9,97],[20,106],[27,33],[29,101],[49,102],[4,57],[19,93],[-5,45],[13,33],[-3,43],[13,38],[-20,0],[-11,-32],[0,-38],[-21,-53],[-28,-31],[-38,-27],[-21,-31],[-29,-22],[-5,-21],[-41,-28],[-44,-61],[-79,-73],[-26,5],[-28,53],[-5,73],[-20,49],[-40,38],[2,46],[11,17],[9,167],[-12,-3],[-25,-101],[-41,-54],[-6,-58],[5,-58],[-8,-37],[-14,-12],[-3,-32],[9,-80],[16,-91],[19,-76],[-26,-87],[-28,-21],[-42,32],[-39,161],[-47,208],[-26,73],[-23,42],[-31,13],[16,65],[-16,44],[-25,-9],[-6,-87],[-15,7],[1,-65],[-29,-30],[-24,79],[3,26],[-19,19],[-11,-30],[-16,6],[-1,59],[-22,-18],[-25,61],[18,47],[-17,89],[-44,-52],[-46,-72],[-31,-62],[-20,-95],[-13,57],[-36,-33],[-94,-124],[-10,-41],[0,-49],[-41,-38],[-8,-26],[-22,-10],[-15,-44],[-20,-15],[-4,55],[-29,45],[-54,-20],[-29,33],[49,47],[15,-39],[18,12],[5,50],[25,77],[3,60],[-8,85],[1,81],[-16,74],[5,21],[-16,20],[-29,97],[-20,139],[29,128],[21,23],[24,79],[24,26],[-15,77],[-18,44],[-15,64],[-10,107],[-50,162],[-3,74],[-25,67],[-10,63],[-30,85],[-10,44],[-22,9],[-11,-37],[-2,-74],[6,-37],[-8,-56],[-12,-21],[-27,-10],[-18,21],[-19,-54],[-36,-29],[-50,-68],[-73,-48],[-88,-28],[-75,10],[-51,38],[-13,32],[-13,99],[23,18],[-18,69],[-54,62],[-32,108],[-5,34],[-33,51],[-18,62],[-42,8],[-31,42],[-47,110],[23,32],[24,55],[-2,36],[-24,6],[-38,-54],[-48,10],[-16,51],[11,32],[32,1],[57,128],[10,-4],[17,45],[-16,34],[-4,41],[32,24],[-27,7],[5,70],[27,78],[-17,3],[-18,-48],[-40,42],[-6,40],[22,49],[27,-6],[19,23],[0,45],[-17,-21],[-30,32],[-16,54],[2,23],[-20,7],[-13,35],[-10,-14],[-12,-99],[-14,-6],[-38,16],[-10,21],[-10,66],[1,129],[-11,19],[-43,10],[-18,37],[-10,98],[42,44],[6,38],[-17,46],[-30,31],[-45,-27],[0,-46],[-21,23],[-9,88],[8,147],[6,11],[-2,-107],[92,47],[0,19],[-35,20],[-20,28],[-24,82],[2,18],[36,19],[55,-8],[33,25],[-29,134],[-4,46],[3,84],[21,77],[101,278],[4,29],[27,77],[29,61],[5,70],[18,67],[21,34],[19,-4],[9,23],[-11,115],[26,188],[18,70],[38,61],[-18,24],[4,22],[58,133],[60,46],[48,11],[42,-45],[43,-11],[32,-84],[24,-6],[6,-26],[54,-88],[73,24],[61,124],[4,47],[44,29],[63,172],[23,89],[23,39],[-9,58],[14,5],[28,-28],[22,-5],[13,-77],[52,0],[45,20],[26,-20],[77,28],[48,38],[9,51],[56,128],[38,135],[0,71],[-12,81],[-23,95],[-17,121],[-1,118],[-5,52],[-71,157],[-9,32],[-41,28],[-27,1],[10,97],[27,33],[14,-25],[35,-20],[51,7],[-10,45],[31,10],[41,81],[2,114],[-42,122],[-47,68],[-25,48],[-1,-32],[-27,-48],[-20,-86],[-42,-30],[-42,42],[-59,-93],[-81,-34],[-18,-71],[-85,-103],[-21,-70],[-5,-99],[-44,-70],[-4,93],[-15,110],[-23,50],[-28,-3],[4,34],[-32,46],[-9,36],[-38,-60],[16,-45],[21,-7],[16,-39],[24,11],[2,-48],[-22,-81],[-19,-11],[-22,82],[-55,76],[-41,33],[-64,13],[-41,-27],[-27,12],[-52,3],[-45,-22],[-108,-112],[-58,-17],[-111,74],[-94,45],[-47,14],[-88,40],[-49,79],[-20,96],[1,74],[20,36],[-6,64],[-28,63],[-45,56],[-1,59],[-46,64],[-10,56],[39,-33],[33,3],[9,27],[24,15],[16,32],[-3,55],[35,61],[-38,63],[-19,9],[-29,-16],[-39,15],[-64,52],[-104,21],[-49,52],[-38,63],[-55,60],[-46,30],[-15,93]],[[2812,78476],[27,27],[-1,59],[18,0],[10,36],[0,57],[21,33],[5,57],[-10,16],[11,87],[46,106],[16,-26],[27,16],[28,-3],[-9,65],[-12,5],[9,77],[-6,26],[18,76],[40,67],[54,37],[29,-53],[31,1],[2,-23],[-21,-74],[5,-60],[-55,-95],[-65,-72],[-19,-66],[-1,-36],[-28,-81],[-15,-58],[-25,-10],[-28,-71],[-15,-17],[-4,-51],[-15,21],[-27,-49],[-54,-69],[13,45]],[[2752,78371],[29,49],[-1,-45],[-26,-25],[-2,21]],[[2615,78610],[4,50],[19,16],[4,-44],[-9,-45],[-12,-8],[-6,31]],[[2607,82847],[50,-13],[29,5],[10,-14],[-27,-68],[-23,4],[-9,46],[-20,10],[-10,30]],[[2611,78728],[8,-39],[-15,13],[7,26]],[[2547,78457],[17,17],[23,-3],[-2,19],[27,23],[19,-10],[10,-25],[-17,-105],[-30,50],[-25,-29],[-19,14],[-3,49]],[[2517,78521],[8,26],[23,-16],[1,-31],[-14,-31],[-13,16],[-5,36]],[[2497,78313],[4,72],[33,-18],[-7,-57],[-30,3]],[[2431,83489],[9,43],[22,15],[12,-10],[29,22],[-2,-56],[-32,-62],[-5,31],[-33,17]],[[2316,78170],[5,42],[40,72],[31,-27],[1,-27],[-13,-58],[-19,2],[-17,-26],[-15,-48],[-15,21],[2,49]],[[2228,78152],[9,-32],[-16,2],[7,30]],[[2183,78046],[17,42],[16,-37],[-12,-55],[-19,-1],[-2,51]],[[2036,90914],[2,37],[25,87],[-3,75],[8,18],[-5,57],[21,3],[8,-42],[-4,-48],[12,-34],[64,-57],[77,-48],[55,-20],[58,87],[58,58],[58,-14],[29,-69],[23,-15],[15,-104],[-2,-38],[53,-56],[56,-14],[22,-32],[9,-35],[36,-20],[88,-20],[14,6],[102,-55],[-27,-131],[-22,-43],[-51,35],[-43,-1],[-50,-29],[-44,-89],[-10,-61],[1,-53],[-20,-46],[-30,22],[3,24],[-26,119],[-32,62],[-50,60],[-39,-5],[-11,69],[-17,55],[-54,80],[-86,69],[-65,11],[-47,-44],[-18,-58],[-36,-34],[-28,33],[-49,36],[-24,83],[-7,56],[3,73]],[[1818,77819],[15,59],[33,49],[12,-2],[27,-39],[-1,-41],[-28,-51],[-32,-27],[-22,-1],[-4,53]],[[1695,87369],[6,69],[25,52],[11,-3],[-4,-58],[12,-54],[33,-70],[48,-63],[22,-14],[25,13],[57,-94],[-21,-19],[-9,37],[-51,8],[-26,-17],[-33,46],[-58,136],[-37,31]],[[1687,87598],[8,-5],[5,-84],[-20,42],[7,47]],[[1421,77626],[35,0],[33,-31],[9,30],[14,-2],[33,27],[25,-1],[-6,-28],[10,-29],[8,15],[31,-24],[23,16],[10,-11],[32,11],[5,-12],[41,-7],[-25,-23],[-16,6],[-14,-22],[-44,-1],[-22,-35],[-8,16],[-16,-19],[-19,4],[-18,25],[-52,3],[-9,-15],[-29,19],[-10,49],[-11,-1],[-10,40]],[[1064,77503],[55,37],[11,-28],[25,50],[3,-22],[19,38],[5,29],[18,-29],[27,8],[8,34],[6,-24],[35,37],[1,42],[44,10],[-13,41],[43,-5],[13,34],[-1,36],[-32,7],[-23,29],[5,26],[21,-16],[12,36],[-2,39],[38,46],[33,-32],[22,-76],[1,-31],[-21,-85],[-34,8],[-4,-43],[33,-79],[-3,-24],[-15,21],[-17,-10],[-4,-27],[-16,-4],[-20,23],[-19,-95],[-25,31],[-64,-55],[-13,29],[-29,12],[-23,-6],[-13,-35],[-22,-8],[-33,6],[-32,25]],[[1013,77451],[17,17],[7,-29],[-22,-4],[-2,16]],[[1005,77685],[16,-19],[-11,-12],[-5,31]],[[949,77433],[5,9],[40,-3],[1,-26],[-19,3],[-22,-24],[-5,41]],[[890,77452],[11,14],[28,-1],[15,-90],[-16,5],[-17,49],[-21,23]],[[821,77563],[14,45],[26,-9],[23,-80],[-20,-38],[15,-56],[-13,-34],[-18,-2],[-18,22],[3,57],[-7,2],[-8,77],[3,16]],[[811,77269],[5,56],[12,10],[10,-27],[19,10],[-12,22],[34,30],[10,-23],[-2,-55],[-23,0],[13,-52],[-29,29],[2,-40],[-12,12],[-5,-39],[-7,45],[-15,22]],[[601,77040],[11,67],[15,16],[7,36],[-13,66],[4,27],[32,7],[7,59],[-13,69],[10,45],[15,4],[18,-20],[19,59],[9,-14],[3,-74],[-20,-29],[-2,-50],[13,-20],[19,4],[31,26],[30,5],[7,-64],[-7,-88],[-15,-12],[-36,18],[-13,-52],[-18,-12],[-13,-41],[-23,31],[-6,-25],[6,-48],[-11,17],[-13,-26],[-4,55],[-14,29],[-19,-108],[-14,11],[-2,32]],[[469,77371],[13,9],[2,-26],[-14,-17],[-1,34]],[[402,77131],[18,33],[24,-17],[26,34],[50,39],[21,43],[2,128],[12,16],[16,-10],[15,-44],[-26,-98],[5,-86],[-7,-38],[-33,-31],[-36,61],[-27,-33],[-40,-10],[-1,-43],[-10,5],[-9,51]],[[257,77332],[8,29],[29,17],[39,-5],[11,-42],[-2,-30],[19,-32],[15,17],[18,-17],[33,34],[-10,-40],[-41,-32],[-12,-71],[4,-31],[-12,-31],[-8,16],[-9,-44],[8,-57],[-8,-5],[-9,56],[-14,-24],[-16,48],[-13,8],[4,28],[41,25],[-3,64],[-20,1],[-13,34],[-39,66],[0,18]],[[130,77016],[32,-12],[-3,-18],[-27,7],[-2,23]],[[81,76979],[27,-17],[7,-23],[-25,5],[-9,35]],[[77,77233],[14,52],[20,-35],[0,-61],[-19,-10],[-15,54]],[[43,76751],[8,25],[10,-22],[5,-50],[-12,-2],[-10,-32],[-1,81]],[[3,76640],[12,18],[6,-59],[-18,-25],[0,66]],[[99917,77451],[12,-2],[12,35],[26,14],[31,-61],[-9,-68],[-24,-42],[-12,-5],[-25,29],[-11,29],[0,71]],[[99678,77049],[5,24],[26,-29],[19,3],[27,-24],[4,-31],[24,-42],[27,-78],[25,-26],[11,-57],[44,-11],[21,-33],[-18,-19],[-9,14],[-29,-16],[-15,41],[-41,72],[-30,101],[-30,43],[-17,-8],[-22,25],[-22,51]],[[99628,77446],[9,11],[20,-16],[11,-33],[-14,-49],[-10,-4],[-16,91]],[[99570,77271],[19,-7],[21,-67],[-22,15],[-18,59]],[[99530,77510],[7,22],[17,-22],[3,-34],[-17,-20],[-10,54]],[[99282,77351],[24,27],[15,50],[39,26],[6,63],[16,96],[11,18],[20,-52],[-12,-32],[-8,-57],[-20,-53],[21,-18],[0,-35],[-13,-10],[-42,17],[-17,-31],[-4,-70],[-11,2],[-25,40],[0,19]],[[98911,77903],[26,-13],[-18,-27],[-8,40]],[[98408,78327],[22,-8],[3,-26],[-24,15],[-1,19]],[[98376,78346],[14,-8],[0,-29],[-14,37]],[[98352,78374],[20,-27],[-12,-2],[-8,29]],[[98210,77943],[6,31],[19,27],[23,-6],[26,67],[41,5],[-17,-40],[-5,-37],[10,-104],[-21,0],[-17,52],[-35,-19],[-30,24]],[[97960,78551],[47,86],[33,11],[100,-20],[29,-63],[24,-15],[35,-94],[2,-18],[-35,-8],[-21,38],[-17,-71],[-9,-13],[-38,15],[-26,-41],[-27,32],[-12,40],[-3,63],[-32,56],[-35,-24],[-15,26]],[[13347,81071],[9,23],[10,-28],[-5,-52],[-16,34],[2,23]],[[13279,80906],[61,56],[7,-80],[13,-14],[-20,-68],[-24,-1],[-33,63],[-4,44]],[[13241,80901],[26,65],[8,-25],[-26,-58],[-8,18]],[[13234,81005],[16,62],[-2,43],[13,20],[-14,43],[-2,70],[5,39],[11,9],[19,-32],[5,-35],[13,-7],[17,-40],[0,-165],[-9,-34],[-27,-2],[-13,32],[-23,-36],[-9,33]],[[13172,81388],[4,66],[6,1],[52,-135],[-12,-28],[-1,-68],[-15,-111],[-23,74],[-9,113],[-2,88]],[[12999,82714],[4,48],[9,-30],[-13,-18]],[[12979,82569],[2,29],[21,40],[21,-38],[-1,-22],[-24,-37],[-19,28]],[[12954,82690],[20,33],[17,52],[-5,-50],[-18,-75],[-14,40]],[[12888,80934],[18,6],[-4,-53],[-14,47]],[[12850,82395],[7,53],[10,-24],[22,-97],[10,-68],[-13,-15],[-21,61],[-9,4],[-6,86]],[[12838,82543],[18,86],[21,30],[30,-20],[24,22],[28,-42],[4,-36],[-18,-53],[6,-82],[-16,-19],[-44,-22],[-23,65],[-24,29],[-6,42]],[[12768,81460],[21,27],[-2,-46],[-16,-11],[-3,30]],[[12700,80811],[9,0],[10,-128],[-15,29],[-4,99]],[[12674,81692],[9,23],[1,61],[20,-30],[1,-32],[-22,-72],[-9,50]],[[12659,81749],[12,9],[-1,-36],[-11,27]],[[12637,81497],[8,92],[8,25],[32,-9],[10,-16],[-2,-35],[-16,-42],[8,-16],[20,40],[5,43],[13,-19],[19,68],[19,-2],[16,-39],[-5,-60],[-15,-35],[-19,15],[-13,-35],[17,-22],[-2,-37],[-22,-21],[-22,-50],[-9,-97],[-23,78],[17,61],[-1,78],[-29,51],[-14,-16]],[[12629,82086],[11,22],[24,102],[28,10],[11,20],[-22,13],[-1,47],[15,-22],[9,34],[-36,62],[14,29],[-10,86],[23,49],[45,-24],[71,-17],[24,-82],[11,-73],[-5,-69],[14,-6],[13,-68],[17,-48],[17,5],[57,-119],[12,-52],[33,-111],[3,-126],[29,-29],[8,-82],[8,-32],[31,-50],[13,-58],[-10,-6],[-19,46],[-75,98],[-3,-31],[-23,-74],[11,-8],[14,47],[8,-19],[23,10],[5,-37],[20,-13],[10,-29],[-38,-14],[8,-36],[32,21],[14,-52],[16,-14],[11,-87],[8,-9],[-12,-49],[-20,9],[2,-32],[22,-22],[11,8],[3,46],[14,36],[9,-21],[5,-91],[-15,-34],[4,-36],[-22,-94],[-29,-40],[18,-23],[27,59],[15,-10],[0,-203],[7,-72],[-20,-105],[-37,-9],[-26,48],[-14,-19],[-17,38],[-1,37],[-38,-2],[17,53],[27,-10],[1,39],[-19,42],[-19,13],[-35,78],[9,38],[10,115],[-15,9],[-11,-58],[7,101],[8,28],[-11,39],[-5,-55],[-27,-21],[14,-103],[-18,-58],[-47,56],[-4,35],[17,58],[-18,100],[-20,-5],[-10,50],[-21,3],[12,-78],[18,-65],[6,-72],[-7,-36],[15,-17],[20,-145],[24,-26],[-4,58],[24,18],[28,-65],[4,-124],[-14,-16],[-18,74],[-7,-7],[23,-170],[-29,0],[-26,32],[-2,60],[-20,40],[-49,177],[-10,22],[-2,84],[-12,10],[-8,61],[29,8],[-27,33],[3,119],[-33,-28],[-10,26],[-18,-19],[-9,42],[6,84],[33,30],[11,-63],[17,20],[-13,29],[6,39],[14,20],[14,-14],[22,44],[-29,96],[14,12],[-16,32],[4,66],[-24,-21],[-49,87],[-4,28],[16,-1],[-9,50],[3,35],[-27,18],[6,-57],[-10,-13],[-32,39],[-16,58],[12,52],[28,14],[37,-54],[28,35],[-17,67],[-18,16],[-12,-20],[-9,17],[8,30],[-2,42],[7,63],[-5,16],[-13,-47],[-27,-65],[-22,-33],[-23,38],[-5,45]],[[12611,83642],[15,25],[14,-33],[-27,-31],[-2,39]],[[12594,82026],[14,28],[11,-6],[4,-52],[-8,-48],[-10,3],[-11,75]],[[12476,82024],[28,22],[1,-43],[31,33],[8,75],[7,-2],[-9,-101],[-22,-24],[-20,-56],[-18,17],[8,30],[-14,49]],[[12463,83115],[17,52],[16,17],[7,33],[33,-1],[1,26],[28,-40],[11,-83],[18,-54],[31,-2],[9,-21],[10,26],[-29,44],[-13,80],[-2,55],[-35,79],[11,53],[34,26],[51,-37],[25,-9],[47,-44],[31,-20],[7,14],[57,-11],[30,-74],[14,-82],[3,-56],[9,-23],[23,-11],[16,-48],[5,-46],[33,-52],[9,-64],[15,-34],[-31,-38],[-20,-42],[-26,-24],[-16,16],[-31,4],[-43,24],[5,-48],[-23,-51],[-40,25],[-19,29],[-12,-47],[-15,-20],[-25,-2],[-17,15],[-3,87],[-11,32],[-30,-64],[13,-29],[-2,-90],[-23,-3],[-2,-31],[10,-51],[-11,-51],[-2,-62],[-17,-50],[4,-39],[-9,-64],[-10,-11],[-25,15],[-14,-103],[-15,19],[-12,52],[-7,63],[-1,109],[-10,87],[2,75],[14,48],[-3,57],[15,101],[-12,28],[-22,-1],[5,77],[-20,56],[-8,75],[2,43],[-5,91]],[[12311,84926],[43,-96],[7,-47],[14,-9],[8,-130],[19,1],[21,38],[11,-23],[20,-2],[21,-29],[54,13],[-3,-89],[25,-75],[2,-52],[21,-52],[14,-87],[17,-55],[2,-142],[21,-60],[4,-65],[-9,-2],[-5,47],[-38,120],[-10,115],[-19,37],[-9,53],[-21,0],[26,-101],[4,-34],[-13,-23],[35,-121],[23,-49],[-2,-62],[24,-113],[-19,6],[15,-102],[0,-27],[-25,-62],[-20,26],[-17,-1],[4,-34],[-21,-104],[-38,-83],[-24,-25],[-2,-33],[-31,-65],[-29,3],[-9,89],[-4,135],[21,80],[15,23],[-16,31],[-1,69],[14,6],[12,-39],[6,23],[-40,141],[-1,58],[-18,60],[-5,82],[-11,43],[8,125],[-12,81],[-3,95],[-11,91],[4,44],[-20,93],[-17,45],[-9,77],[-6,101],[3,42]],[[12292,85061],[35,-45],[27,-125],[-10,-5],[-22,115],[-23,19],[-7,41]],[[12202,85643],[15,-71],[0,-46],[-10,29],[-5,88]],[[12106,83714],[16,11],[1,26],[28,65],[-4,68],[36,64],[18,-12],[25,-85],[15,10],[18,-58],[23,-24],[38,4],[22,-14],[12,-79],[-2,-49],[-20,35],[-19,-2],[-1,-22],[21,-25],[11,-46],[29,-278],[-1,-71],[12,-56],[0,-58],[18,-142],[5,-107],[-5,-112],[-11,1],[8,-81],[3,-240],[-9,-111],[-11,6],[-28,70],[-10,86],[-21,59],[-40,212],[4,48],[22,23],[-18,30],[-26,-31],[-14,88],[-11,-15],[-17,42],[-12,55],[2,34],[-14,-22],[-10,24],[-30,2],[-19,96],[19,3],[10,-29],[10,13],[-3,105],[19,53],[6,38],[-39,86],[24,63],[-4,22],[14,35],[4,53],[-33,16],[-21,-28],[-14,79],[-26,72]],[[12097,84881],[16,18],[19,-7],[16,-52],[-29,-6],[-22,47]],[[12062,83572],[4,48],[-3,66],[25,9],[34,-62],[15,-74],[12,-19],[17,30],[23,-10],[-16,-82],[-24,-14],[-27,-161],[-12,6],[-40,-30],[-9,8],[3,102],[25,47],[1,50],[-22,4],[2,29],[-13,31],[5,22]],[[11978,85151],[9,14],[7,-59],[-16,45]],[[11978,84786],[30,41],[3,-53],[-16,-19],[-17,31]],[[11861,84371],[5,174],[16,33],[8,-9],[29,60],[3,51],[-12,92],[32,-2],[0,-54],[12,-60],[28,61],[29,-6],[17,-20],[17,49],[36,50],[14,-55],[41,-30],[25,-53],[-12,-78],[-31,-76],[4,-49],[12,-5],[8,60],[32,108],[15,12],[34,-55],[46,-10],[11,-32],[29,-16],[15,-79],[-4,-67],[-22,-44],[-37,49],[-10,-8],[12,-40],[18,-18],[33,-75],[-21,-29],[-25,-2],[4,-28],[21,-13],[23,24],[7,-95],[14,-69],[12,-143],[-14,-42],[-42,-11],[-17,12],[-44,95],[-65,99],[-27,50],[-22,-26],[-9,29],[-4,-32],[30,-55],[22,-8],[-21,-31],[6,-25],[0,-72],[-9,-50],[-31,-87],[-51,47],[-1,38],[-42,85],[-20,90],[-12,-38],[-19,43],[-10,79],[4,25],[-18,86],[2,24],[-16,57],[-26,30],[-7,49],[-25,36]],[[9331,87212],[28,-14],[12,-44],[-27,-9],[-13,67]],[[9232,87245],[16,14],[58,-26],[-3,-31],[-21,-10],[-50,53]],[[8867,87809],[26,35],[27,3],[15,-16],[-18,-53],[-50,31]],[[8817,87545],[4,86],[28,16],[21,-89],[-11,-44],[-37,-10],[-5,41]],[[8816,87079],[2,14],[43,47],[1,-36],[-40,-59],[-6,34]],[[8698,86532],[8,21],[3,71],[23,12],[-3,42],[21,54],[16,7],[-3,41],[30,34],[9,30],[43,75],[22,118],[27,44],[-3,40],[10,71],[27,34],[4,-43],[24,2],[-17,-51],[9,-17],[24,28],[8,-22],[-11,-37],[-62,-118],[-49,-129],[-8,-80],[-33,-60],[30,-57],[-19,-42],[-23,-8],[-22,15],[-17,-57],[-9,6],[-45,-47],[-14,23]],[[8692,87068],[44,270],[11,-41],[12,13],[-4,66],[44,84],[0,-54],[-12,-32],[-3,-82],[-20,-37],[20,-42],[-24,-97],[2,-46],[-17,-104],[-24,45],[-3,25],[-25,7],[-1,25]],[[8672,87628],[15,31],[17,-19],[17,-48],[-24,-45],[-25,81]],[[17950,55027],[5,31],[24,-13],[25,26],[-2,40],[18,63],[1,79],[-15,136],[-16,8],[-7,-13],[-13,25],[-3,-17],[-14,68],[7,67],[2,142],[-15,41],[9,65],[-8,51],[19,9],[28,138],[9,24],[-4,46],[4,110],[8,12],[-2,74],[-7,64],[1,51],[6,6],[-2,55],[-7,20],[28,116],[0,69],[8,28],[23,29],[10,40],[17,21],[1,19],[25,65],[-1,49],[-11,54],[-14,19],[-31,100],[-13,7],[2,58],[-26,239],[-23,63],[-7,69],[-16,57],[1,147]],[[17974,57684],[6,95],[-10,22],[21,43],[0,72],[-9,178],[-6,65],[-11,47],[-4,58],[6,36],[0,103],[-9,38],[3,39],[-7,31],[3,51],[-5,59],[4,56],[9,24],[-10,31],[-12,97],[4,43],[-7,80],[25,31],[9,29],[5,-14],[12,25],[17,-1],[2,-25],[24,19],[13,-3],[18,-71],[-2,-28],[21,-51],[24,11],[24,183],[5,15],[1,230],[-2,272],[0,437]],[[18136,60011],[200,0],[222,0],[313,1],[97,1],[160,2],[6,-7],[235,0],[162,1]],[[19531,60009],[0,-1691],[-1,-237],[1,-30],[0,-925],[-1,-608],[1,-145],[-1,-113],[0,-2847]],[[19530,53413],[-64,2],[-201,-1],[-128,-1],[-172,0],[-359,476],[-212,269],[-102,136],[-368,471],[5,66],[-5,17],[1,60],[8,16],[17,103]],[[19530,64667],[242,0],[154,2],[327,0],[66,-5],[137,-1],[242,1],[7,2],[217,2]],[[20922,64668],[282,1],[135,0],[140,0],[0,-1163]],[[21479,63506],[1,-381],[0,-434],[1,-193],[0,-1270],[1,-137],[0,-1089]],[[21482,60002],[-183,3],[-22,5],[-62,1]],[[21215,60011],[-204,-3],[-169,-5],[-184,0],[-34,2],[-301,-1],[-186,-2],[-2,9],[-152,-1],[-230,-1],[-222,0]],[[19531,60009],[0,583],[1,36],[0,738],[-5,129],[0,517],[2,216],[0,1857],[1,46],[0,536]],[[27414,45876],[14,60],[5,-33],[-14,-44],[-5,17]],[[27386,45813],[9,39],[11,4],[-5,-33],[-15,-10]],[[27310,45701],[52,90],[6,-30],[-45,-80],[-13,20]],[[27118,45540],[19,106],[20,46],[25,43],[3,23],[36,66],[38,-67],[4,-52],[14,-43],[-4,-11],[-40,-48],[-3,27],[-27,-5],[-3,-24],[-46,-73],[-36,-15],[0,27]],[[27062,45510],[39,24],[-10,-43],[-17,-14],[-13,8],[1,25]],[[27020,45533],[6,35],[12,-10],[-5,-41],[-13,16]],[[26992,48019],[5,-18],[19,-211],[8,-28],[17,-26],[7,17],[14,-21],[-14,-31],[-9,-1],[-21,50],[-7,28],[-13,115],[-6,76],[0,50]],[[26806,45614],[15,13],[4,-23],[-20,-10],[1,20]],[[26322,51623],[29,47],[0,-29],[-16,-37],[-11,-6],[-2,25]],[[26229,53027],[6,-79],[11,-52],[2,-83],[6,-75],[14,-48],[136,-25],[261,-56],[206,-51],[135,-34],[-5,-14],[2,-57],[7,-26],[-3,-71],[11,-76],[37,13],[0,75],[6,47],[3,119],[-12,91],[4,60],[-1,49],[8,16],[-4,24],[12,-8],[9,59],[15,-7],[7,-33],[17,-3],[18,-28],[7,-25],[33,-19],[17,-18],[14,15],[13,-19]],[[27221,52688],[4,-13],[-4,-113],[3,-92],[-4,-22],[10,-25],[4,-95],[1,-113],[23,-389],[13,-129],[0,-51],[28,-302],[32,-288],[29,-229],[65,-412],[38,-200],[4,-63],[10,-83],[-18,-57],[-4,-54],[-1,-87],[5,-130],[6,-96],[16,-145],[35,-269],[15,-166],[5,-84],[5,-29],[11,-140],[17,-152],[9,-66],[6,-94],[13,-109],[17,-258],[-1,-235],[-7,-175],[-5,-210],[-3,-37],[-8,-286],[0,-169],[-3,-80],[-7,-81],[0,-44],[-6,23],[3,51],[-5,20],[-16,-25],[-10,-102],[-6,-17],[-1,-64],[-8,-40],[-2,-78],[5,-33],[-2,-46],[6,-16],[-8,-53],[-8,-13],[-1,-49],[21,39],[25,194],[7,41],[0,-41],[-8,-83],[-34,-222],[-9,-82],[-25,-93],[-34,-139],[-24,-66],[-3,12],[34,122],[14,40],[7,53],[3,81],[5,32],[-6,23],[-9,-11],[-7,26],[-6,-18],[-34,-22],[-14,-41],[-9,-6],[-18,45],[-18,-13],[-7,-41],[-27,-18],[-23,-6],[-17,52],[-8,68],[2,79],[6,60],[6,-3],[-2,49],[-12,97],[-11,47],[2,34],[-8,62],[-11,32],[-5,85],[-6,18],[-11,-15],[-9,101],[-24,31],[-1,16],[-21,38],[-21,55],[-11,-13],[-8,-39],[-16,126],[-15,148],[-5,173],[-7,109],[-7,57],[-28,113],[-11,9],[-1,52],[-12,23],[0,-64],[-14,-11],[-1,66],[-8,113],[-12,51],[3,24],[13,-3],[9,-39],[11,159],[-2,86],[-8,14],[0,40],[8,10],[-4,31],[-12,-4],[-5,-33],[-11,-11],[8,-148],[-9,-20],[-20,-11],[-5,-50],[0,75],[-6,50],[-17,94],[-26,177],[-9,94],[-19,140],[-27,149],[-14,56],[-4,58],[-10,61],[10,-19],[1,-30],[15,30],[10,72],[12,28],[13,98],[13,34],[-2,23],[14,26],[11,84],[-5,75],[-22,21],[5,-113],[-22,30],[6,34],[-1,65],[-5,39],[-38,71],[1,-65],[-11,-28],[11,-37],[16,-6],[11,-110],[-10,-42],[0,-62],[-4,-27],[-21,-6],[-3,-32],[7,-38],[-9,-30],[-4,40],[2,83],[-14,85],[-9,26],[-8,58],[6,182],[-5,66],[-4,164],[9,1],[0,-93],[4,-89],[9,-7],[-4,153],[9,37],[1,41],[8,44],[0,38],[7,50],[0,39],[9,47],[1,91],[5,83],[-6,66],[2,56],[-13,29],[4,42],[-9,109],[12,64],[-21,110],[3,31],[-8,55],[-10,3],[5,33],[-1,49],[-7,13],[-47,23],[-9,-51],[-7,-4],[-9,100],[3,45],[-14,32],[-12,9],[-2,63],[-7,58],[-11,45],[-15,6],[-5,44],[-24,48],[0,111],[-4,67],[-12,7],[-10,38],[-13,17],[-13,61],[0,42],[-9,35],[-5,51],[-14,44],[-28,62],[-40,72],[-26,75],[-11,-2],[-26,-33],[-31,29],[-1,-35],[-26,-69],[9,-99],[-3,-28],[-10,-7],[-15,15],[-5,26],[-24,-22],[-31,-73],[-65,-132],[-6,2],[7,44],[-10,12],[-7,-39],[-15,-41],[-36,1],[13,-49],[2,-38],[16,-22],[30,53],[29,40],[27,84],[3,-13],[-24,-82],[-28,-43],[-35,-66],[-12,-14],[-10,33],[-16,22],[-23,51],[-19,7],[-17,-28],[-13,94],[-5,119],[8,42],[0,-105],[6,-91],[7,-22],[10,39],[1,97],[-17,105],[-18,60],[-17,13],[-15,40],[-16,71],[-27,47],[-22,69],[-41,95],[-47,76],[-58,70],[-31,20],[-62,18],[-33,-5],[-47,-25],[-65,-49],[-32,-15],[-7,10],[-63,-51]],[[26061,57664],[39,-2],[136,6],[183,1]],[[26419,57669],[196,-2],[-1,6],[143,10]],[[26757,57683],[-3,-72],[-31,-68],[-26,-105],[1,-36],[-8,-26],[3,-64],[30,-82],[17,-7],[23,-104],[23,-51],[28,16],[8,-12],[8,-64],[3,-64],[12,-30],[3,-50],[11,-52],[0,-51],[7,-68],[12,-24],[8,-67],[14,-48],[11,-101],[9,-1],[19,-72],[29,-52],[29,-98],[4,-61],[9,-41],[1,-40],[13,-38],[12,-2],[17,-37],[18,-93],[15,-26],[4,-24],[-7,-43],[4,-39],[-4,-32],[28,-82],[-4,-30],[13,-42],[11,5],[-2,-41],[8,-45],[27,-55],[9,1],[16,-58],[19,-43],[-5,-67],[12,-64],[2,-49],[9,-15],[0,-85],[4,-32],[-5,-45],[6,-8],[4,-48],[-5,-41],[12,-48],[25,-26],[0,-23],[23,-81],[-4,-34],[15,-105],[4,4],[6,-76],[-10,-44],[11,-67],[-4,-26],[5,-62],[21,-34],[11,17],[22,-71],[9,-4]],[[27376,54230],[12,-12],[-5,-64],[-14,-29],[-10,15],[-6,-48],[10,-8],[-16,-60],[-21,23],[-3,-56],[11,-11],[-9,-59],[-17,-54],[-17,13],[-3,-16],[12,-33],[8,5],[-1,-84],[-7,-62],[-28,-26],[0,-22],[17,10],[6,-24],[-23,-131],[-6,-91],[7,-13],[-5,-30],[-5,-97],[-13,-22],[-8,-59],[-9,-3],[0,-71],[-7,-69],[-7,2],[-12,-44],[13,-24],[11,24],[1,-81],[-16,-161],[5,-70]],[[25527,65491],[15,-41],[12,20],[7,-15],[-6,-40],[27,-23],[29,1],[28,25],[52,75],[31,59]],[[25722,65552],[90,-1],[198,-1],[187,1],[87,1],[0,-75]],[[26284,65477],[1,-242],[0,-1380],[-3,-437],[0,-441],[-2,-278],[0,-238]],[[26280,62461],[-19,-45],[-2,-20],[16,-71],[2,-31],[-11,-38],[3,-37],[17,-7],[4,-25],[-13,-46],[6,-44],[-22,3],[-16,-23],[-9,5],[-35,-63],[-14,-39],[-19,10],[-10,43],[-26,-7],[-16,7],[-12,-33],[4,-125],[6,-71],[-16,-40],[-7,-44],[-30,-34],[-19,-161],[-19,-39],[-14,24],[-10,-13],[-6,-63],[-16,-72],[1,-87],[-5,-70],[-8,-24],[-23,-18],[-4,-36],[-13,58],[-22,1],[-26,55],[-1,94],[-21,67],[-8,-2],[1,-34],[13,-12],[-1,-25],[-13,-2],[-8,-29],[-8,23],[-9,-29],[9,-17],[-6,-42],[-18,-9],[-2,-94],[5,-38],[-23,-9],[-2,-63],[-11,-29],[-7,24],[5,51],[-10,10],[-10,-25],[-10,22],[-12,89],[-17,-2],[-14,-52],[-29,-27],[-10,-30],[-5,-97],[-7,-27],[-11,-3],[-8,62],[-18,13],[-22,57],[-22,44],[-20,6],[-14,-37],[-14,19],[-6,49],[-8,6],[-7,-66],[11,-64],[-13,-40],[-11,3],[3,56],[-5,30],[-42,-31],[-11,52],[-9,4],[-10,-40],[10,-91],[-12,-47],[-23,32]],[[25386,60941],[-11,2],[-4,34],[12,-9],[-16,92],[24,-8],[-15,29],[15,67],[1,60],[-8,26],[19,19],[2,38],[-12,-19],[22,73],[-14,60],[-4,59],[9,-10],[9,68],[5,-35],[7,41],[8,-33],[13,102],[8,9],[13,84],[-2,38],[24,42],[0,66],[9,83],[7,32],[14,12],[14,76],[-1,42],[-15,94],[11,111],[-18,40],[1,79],[-16,55],[-3,73],[19,60],[-9,50],[2,60],[6,32],[13,9],[0,347],[-1,0],[0,397],[1,12],[0,294],[1,247],[0,1196],[1,254]],[[21479,63506],[257,-1],[104,0],[263,-1],[273,1],[163,0],[279,-1],[263,-1],[144,0],[133,0]],[[23358,63503],[16,-60],[13,-11],[1,-43],[13,6],[5,-36],[26,-14],[8,41],[24,-13],[-4,-28],[7,-33],[11,-11],[-4,-42],[-9,-1],[3,-36],[12,16],[-1,-49],[-10,-6],[-13,24],[-5,-75],[-15,-19],[-7,-41],[2,-41],[-17,-24],[1,-48],[15,-41],[1,-29],[16,-31],[12,-61],[14,0],[5,-21],[-9,-25],[6,-79],[18,-52],[-3,-28],[15,-13],[5,-31],[14,-11],[9,16],[5,-31],[20,-3],[-5,-41],[0,-444],[-1,-120],[0,-696],[-1,-52],[0,-779],[-1,-97],[0,-281]],[[23550,60009],[-249,1],[-196,-1],[-169,0],[-218,0],[-208,-1],[-258,2],[-103,0],[-154,3],[-149,-4],[-209,-4],[-155,-3]],[[30863,68384],[14,7],[-7,-35],[-7,28]],[[30827,68345],[7,83],[6,-34],[19,-55],[-15,-45],[-5,34],[-12,17]],[[30819,68560],[3,42],[11,-71],[-14,29]],[[30732,68434],[14,2],[3,-41],[-17,39]],[[30712,67988],[8,37],[1,-75],[-9,38]],[[30703,68290],[8,41],[25,45],[11,-50],[-9,-8],[14,-78],[-11,-39],[-18,-13],[-12,24],[5,25],[-3,50],[-10,3]],[[30697,68452],[13,68],[2,64],[9,25],[6,-26],[-9,-35],[1,-36],[-8,-70],[-10,-29],[-4,39]],[[30213,67064],[-35,81],[0,69],[6,42],[-41,128],[-9,53],[8,101],[-4,10],[6,88],[-6,23],[-5,313],[0,89],[-11,861],[-15,757]],[[30107,69679],[21,15],[0,33],[25,-41],[-1,-38],[7,-43],[11,-15],[13,85],[2,86],[-6,28],[12,36],[8,-3],[12,-44],[21,-9],[1,39],[-24,83],[-1,32],[22,107],[14,27],[11,43],[8,-1],[15,41],[24,38],[-9,71],[21,66],[23,45],[5,56],[-7,28],[-14,0],[0,66],[10,38],[-8,14],[15,51],[5,46],[-15,44],[16,115],[8,18],[-1,37],[17,32],[14,59],[11,8],[17,324],[215,890],[13,-3],[27,-38],[11,4],[-3,-58],[1,-141],[4,-18],[37,-73],[25,43],[26,30],[28,2],[11,52],[30,11],[25,-12],[0,62],[16,23],[25,-6],[23,-36],[4,-32],[33,-68],[36,-132],[0,-15],[28,-51],[0,-545],[3,-693],[-1,-71],[9,-30],[-15,-39],[14,-70],[-15,-34],[1,-136],[23,-18],[3,20],[10,-57],[19,-28],[30,-23],[14,19],[8,-62],[1,-56],[-13,8],[-11,-22],[7,-68],[16,-63],[-9,-73],[-10,-41],[23,-116],[0,-23],[18,-40],[13,28],[1,46],[18,-30],[19,-3],[13,-56],[6,-51],[-8,-14],[10,-32],[12,-98],[15,-38],[1,-118],[-12,-50],[-10,2],[-4,-32],[-32,-113],[-24,-25],[4,-22],[-15,-8],[6,42],[-4,85],[-27,-30],[12,-58],[-12,-43],[-11,13],[-13,-58],[-13,18],[-10,-12],[2,-35],[16,-40],[-22,-57],[-13,46],[-6,57],[-13,-10],[-3,-38],[-8,3],[-7,59],[-7,-62],[-9,-14],[-8,-74],[-7,19],[-6,-48],[-4,42],[-20,-51],[-5,27],[-12,-92],[-16,39],[0,36],[-10,-21],[-11,9],[2,-66],[-16,-71],[11,-33],[-35,-16],[-23,32],[-16,107],[6,29],[22,27],[-9,45],[-13,-35],[2,44],[-10,-3],[1,-68],[-5,0],[0,64],[-24,-56],[5,-35],[-6,-43],[14,-67],[-3,-45],[-23,-77],[9,-11],[-12,-31],[11,-56],[-5,-69],[-16,-10],[-3,85],[6,4],[-3,55],[-17,45],[-4,64],[15,51],[-19,40],[6,26],[-10,10],[-18,-21],[1,113],[11,44],[1,50],[-7,14],[-7,-46],[-14,-40],[-11,33],[-7,-32],[-15,-4],[14,-81],[-3,-48],[-12,-23],[-10,-71],[-4,-72],[-13,-78],[19,-30],[-13,-28],[10,-57],[-10,-38],[-27,4],[-13,-72],[-15,-1],[-2,-58],[-11,-9],[0,52],[7,37],[-9,15],[-3,-30],[-12,-13],[5,65],[-18,-9],[1,-52],[-16,-37],[-5,-50],[-12,51],[-2,-47],[-15,-32],[-12,26],[-3,-66],[-13,51],[-13,-92],[-23,-27],[-5,-19],[-5,83],[-16,5],[-15,-42],[-5,-39],[-20,4],[-7,-49],[-20,4],[-10,-49],[-3,-50],[5,-29],[-8,-32],[-13,29],[-22,-31],[-9,-46],[6,-67],[-8,-43],[-10,-15],[3,-33],[-14,-24],[-14,4],[-10,-25],[-11,-98],[5,-19],[-14,-80],[1,-22],[-14,-74],[-9,-13]],[[30332,65028],[13,-24],[29,5],[18,17],[12,70],[16,-105],[-1,-30],[-10,-16],[-33,4],[-41,60],[-3,19]],[[30177,65078],[18,0],[19,90],[27,60],[11,-15],[7,-70],[15,-27],[10,40],[-1,-84],[-41,1],[-31,-9],[-18,-47],[-16,61]],[[29500,66699],[224,-22]],[[29724,66677],[199,-23],[126,-12],[10,46],[21,1],[-1,62],[15,36],[19,-18],[9,62],[36,32],[15,-30],[8,13]],[[30181,66846],[2,-72],[9,-136],[25,-47],[12,42],[14,-34],[-16,-90],[-23,-7],[-38,-35],[12,-50],[-18,-50],[-7,9],[-5,-59],[-4,41],[-11,-53],[11,-74],[-13,10],[-5,-28],[8,-26],[-5,-27],[14,-14],[6,36],[14,8],[9,-47],[24,-28],[12,-42],[2,-46],[21,-93],[-1,-50],[-7,-39],[-12,-5],[3,-24],[21,-51],[12,8],[8,-24],[8,-83],[-5,-50],[13,-48],[23,-35],[34,-12],[9,-23],[19,44],[19,8],[27,33],[6,25],[-1,79],[-6,61],[-13,-31],[0,97],[-5,55],[-15,34],[-9,-7],[-5,-39],[-11,59],[13,11],[21,-18],[23,-58],[18,-123],[9,-119],[2,-137],[-15,-129],[-2,-44],[-7,9],[12,112],[-7,23],[-26,-5],[-43,-40],[-30,8],[-7,-28],[-17,-7],[-15,-62],[-33,-10],[-34,-66],[-16,-47],[-21,-28],[-23,-15],[6,26],[35,34],[16,47],[24,49],[5,40],[-2,117],[6,41],[-26,26],[0,-59],[-7,14],[-4,-50],[-14,3],[2,-32],[-31,-11],[-7,-49],[2,-44],[-6,-29],[-25,-23],[-12,17],[-10,-14]],[[30097,65246],[-3,189],[-18,18]],[[30076,65453],[-8,41]],[[30068,65494],[-10,48],[-19,33],[-5,56],[2,81],[-12,-6],[0,147],[-116,-13]],[[29908,65840],[-1,18],[-202,13],[-22,-4],[-42,6],[-3,-39],[-14,-6],[1,45],[-54,3],[-118,14],[-15,-1]],[[29438,65889],[-6,42],[34,395],[34,373]],[[22823,73980],[83,-1],[266,0],[229,-1],[0,449],[27,-37],[28,20],[29,-53],[8,-35],[14,-202],[7,-25],[18,-251],[-6,-69],[4,-54],[14,-43],[29,-45],[24,-12],[8,19],[44,-11],[11,-58],[61,-7],[48,-21],[8,-66],[-3,-49],[6,-12],[42,2],[5,15],[22,-2],[23,20],[-1,48],[33,46],[39,18],[9,-22],[53,0],[72,-98],[26,4],[1,-49],[-19,-7],[-4,-37],[16,-31],[41,13],[15,-54],[-6,-34],[6,-49],[24,-127],[25,27],[-8,84],[13,45],[15,-11],[42,16],[16,-44],[-2,-65],[17,-41],[14,9],[9,-36],[41,-9],[5,-67],[-4,-31],[20,-21],[23,13],[-3,-75],[22,28],[14,-22],[19,24],[34,17],[46,113],[17,13],[13,32],[25,30],[14,-13],[0,-67],[17,-17],[-6,-26],[10,-48],[16,-3],[35,29],[6,-29],[25,15],[26,-18],[19,13],[48,8],[29,-28],[9,-66],[34,-53],[15,35],[20,9],[13,-20],[23,6],[11,-18],[25,22],[-27,-56],[-10,20],[-4,-34],[-17,-15],[-26,-58],[-37,-34],[-14,-37],[-52,-44],[-48,-54],[-15,-6],[-42,-45],[-4,-14],[-51,-77],[-37,-79],[-72,-183],[-17,-69],[-55,-178],[-26,-72],[-26,-41],[-26,-88],[-11,-11],[-28,-83],[-10,-10],[-61,-134],[-9,-25],[8,-50],[14,-46]],[[24276,71309],[-21,50],[-14,-11],[-3,-29],[-16,-14],[9,-19],[-11,-43],[-22,16],[0,-685],[-10,-10],[-6,-59],[-24,7],[-10,-56],[-14,13],[-8,-38],[-25,-23],[-20,-47],[-20,-148],[-22,-49],[-7,-114],[1,-53],[21,-21],[10,9],[14,-32],[-1,-31],[23,-85],[-1,-50],[-15,-47],[1,-29],[-17,-49],[2,-91],[-4,-32],[6,-91],[-16,-58],[11,-34],[-2,-65],[6,-41],[-7,-42],[3,-75],[-12,-80],[5,-36],[16,-27],[31,-87],[-1,-24],[14,-16],[9,-44],[50,-9],[12,-17],[10,-78],[14,-38],[50,-51],[22,-39],[14,-40],[0,-53],[8,-15],[5,-84],[17,-45],[27,-41],[3,-29],[36,-90],[39,-29],[15,-55],[30,-136],[9,-75],[-8,-113],[2,-71],[10,-37],[-4,-44],[8,-53]],[[24498,67577],[-204,0],[-224,0],[-116,-1],[-223,0],[-180,1],[-313,0],[-199,0]],[[23039,67577],[0,1215],[1,101],[-1,302],[0,479],[-10,65],[-36,59],[-18,4],[-14,55],[-9,73],[-26,98],[5,46],[25,62],[22,39],[12,63],[14,46],[4,128]],[[23008,70412],[-4,106],[6,37],[-11,188],[-1,129],[-13,27],[-20,98],[-5,49],[-4,119],[-11,57],[-2,39],[5,68],[-6,112],[5,17],[6,117],[-6,-11],[-11,51],[1,171],[-5,92],[-2,114],[3,50],[-7,103],[1,217],[-5,3],[-7,89],[-11,92],[-8,17],[-11,101],[-3,58],[-11,34],[-5,121],[-16,101],[-3,110],[7,53],[-8,93],[3,52],[-1,107],[-7,59],[7,76],[9,24],[3,62],[-15,80],[-8,124],[-6,24],[-11,98],[3,40]],[[28860,63072],[14,65]],[[28874,63137],[9,32],[5,61],[12,42]],[[28900,63272],[17,44],[38,25],[25,45],[0,69],[16,25],[7,33],[34,72],[18,15],[12,51],[10,-8],[17,39],[-14,71],[-20,41],[-7,52],[-21,54],[-7,68],[-25,19],[-4,45],[2,95],[-10,37],[-17,-5],[-9,14],[-2,83],[7,30],[-8,22],[9,100],[11,-5],[23,113],[-24,120],[13,48],[18,29],[16,56],[-4,24],[17,35],[11,49],[14,124],[22,69],[16,13]],[[29101,65083],[88,-173],[132,-246],[3,-19],[-20,-187],[-12,-65],[-4,-65],[-6,-22]],[[29282,64306],[-7,-34]],[[29275,64272],[-37,-35],[-4,-84],[-9,-16],[-3,-50]],[[29222,64087],[0,-43],[19,-28],[16,18],[24,-44],[14,-9],[4,44],[4,-90],[-3,-107],[-14,-182],[-13,-247],[-5,-173],[-40,-241],[-11,-48],[-9,-9],[3,-32],[-10,-55],[-20,-63],[-1,-19],[-31,-55],[-32,-108],[-21,-118],[-22,-149],[-20,-60],[-19,-14],[-11,14],[6,88],[15,97],[3,69],[-21,37],[-18,4],[-6,25],[-18,-3],[-7,-36],[-9,24],[-2,47],[-18,37],[-3,30],[-10,-12],[-15,68],[-7,-8],[-18,58],[-10,56],[-19,25],[6,140],[-12,29]],[[28861,63044],[-1,28]],[[28814,58772],[18,-19],[12,-74],[1,-47],[-15,9],[2,45],[-18,86]],[[28734,57762],[8,60],[8,0],[47,86],[15,12],[14,33],[12,2],[16,35],[13,10],[5,74],[11,252],[0,54],[-8,95],[-6,105],[3,-2],[11,-106],[5,-95],[-3,-136],[-15,-286],[-24,-8],[-50,-64],[-43,-78],[-19,-43]],[[27156,59531],[84,-16],[55,-3],[95,-15],[37,4],[114,-21],[48,-2],[170,-2],[279,0],[74,4],[264,0],[106,-1],[0,10],[31,-2],[120,0],[142,0]],[[28775,59487],[2,-58],[17,-245],[16,-158],[23,-156],[35,-271],[-9,14],[-18,146],[-14,80],[-13,11],[-9,174],[-16,155],[-8,23],[3,39],[-5,89],[-10,30],[-4,48],[-25,13],[-1,40],[-13,-20],[6,-61],[16,-48],[11,10],[0,-67],[15,-135],[9,-61],[-1,-26],[11,-75],[0,-47],[-19,64],[1,37],[-13,61],[-3,38],[-12,12],[6,-38],[-3,-28],[14,-39],[-31,25],[-32,118],[-15,12],[19,-97],[10,-17],[6,-52],[-9,-23],[-24,-14],[-21,71],[7,-63],[10,-27],[-7,-14],[-31,45],[-13,5],[-5,29],[-18,24],[23,-73],[21,-23],[-7,-19],[-24,-8],[-13,-62],[-16,-22],[-17,1],[-8,31],[-20,12],[-12,121],[0,61],[12,78],[-5,13],[-14,-76],[-2,-76],[8,-94],[11,-77],[-5,-42],[8,-34],[40,10],[37,47],[9,-49],[13,6],[13,30],[26,24],[32,-1],[14,-41],[0,-43],[-14,-78],[3,-55],[2,-164],[9,5],[7,115],[3,150],[14,40],[-6,33],[14,20],[25,-21],[16,-94],[7,-65],[-4,-52],[7,-98],[-8,-25],[4,-54],[-13,-54],[-17,-10],[-6,18],[-10,-16],[-6,-40],[-10,-9],[-3,-43],[-7,-11],[-7,-71],[-13,-15],[-3,-46],[-17,-25],[-3,-24],[-26,25],[-29,-4],[-26,18],[-5,25],[-10,-14],[-15,45],[-13,115],[31,3],[5,45],[-28,-25],[-12,11],[-9,-33],[9,-57],[6,-86],[-7,0],[-29,47],[-14,-10],[-20,34],[-31,30],[-23,48],[-1,-29],[17,-61],[21,-5],[63,-102],[46,-28],[8,-31],[1,-40],[-7,-56],[-13,-54],[1,-28],[-9,-53],[-15,-42],[-50,-112],[-50,112],[1,-65],[24,-55],[36,-43],[36,80],[13,2],[27,30],[4,62],[11,-14],[3,-66],[8,-31],[18,-5],[-9,75],[20,-29],[2,-85],[-17,-75],[-18,-13],[0,-34],[-11,-20],[-14,-84],[-7,-71],[-17,20],[1,80],[-10,19],[1,-82],[-16,-7],[42,-64],[23,123],[33,120],[24,75],[47,176],[8,-21],[-28,-83],[-26,-96],[-22,-62],[-21,-78],[-18,-82],[-21,-115],[-3,-32],[-4,67],[-35,55],[-39,1],[-60,-38],[-29,-33],[-20,-32],[-32,-81],[-39,-75],[-26,-63],[-37,-113],[-14,-55],[-25,-128],[-14,-111],[-10,-112],[-9,-69],[-4,-69],[-13,7],[-3,34],[-21,21],[-23,9],[-28,-2],[-30,-12],[-35,-42],[-8,-17]],[[28030,56345],[-93,330],[-104,362],[-31,116],[-88,302],[-61,1],[-74,7],[-178,10],[4,135],[-42,199],[-30,-73],[-5,21],[7,48],[-2,53],[-55,13],[-105,16],[-188,29],[-23,-20],[-5,39],[-12,-52],[-7,9],[-20,-27],[-6,5],[-29,-47],[-28,-60],[-7,21],[-91,-99]],[[26419,57669],[9,275],[22,48],[3,-26],[28,4],[22,63],[-5,57],[9,25],[-4,44],[17,62],[13,15],[8,48],[16,8],[15,45],[80,7],[11,50],[22,32],[5,26],[10,-7],[16,48],[4,35],[16,4],[8,40],[21,29],[24,-18],[26,115],[-3,63],[10,30],[15,-36],[20,98],[33,70],[10,-40],[-5,-70],[15,-20],[28,62],[15,93],[15,35],[17,21],[12,-5],[9,33],[19,-12],[4,-50],[15,0],[14,28],[33,200],[21,53],[11,12],[8,-23],[17,0],[-10,74],[7,65],[6,12],[-4,80],[9,60]],[[20923,73979],[188,-1],[322,0],[212,0],[92,0],[193,1],[160,-1],[135,0],[141,1],[256,1],[201,0]],[[23008,70412],[-210,-1],[-186,1],[-119,1],[-252,4],[-192,2],[-179,2],[-253,1],[-123,0],[-292,1],[-173,0],[-105,0]],[[20924,70423],[0,2828],[-1,17],[0,711]],[[23550,60009],[0,-581]],[[23550,59428],[6,-130],[7,-206],[6,-127],[14,-355],[4,-82],[15,-387],[-2,-319],[-3,-261],[-1,-235],[-2,-170],[-2,-417],[-5,-642]],[[23587,56097],[-9,-25],[-19,73],[-16,-13],[-1,23],[-17,-1],[-18,79],[-15,-16],[-12,5],[-21,78],[-7,58],[-22,2],[-23,85],[-27,28],[-7,-68],[-11,-32],[-13,-7],[-34,4],[0,15],[-21,-7],[-7,61],[-10,3],[-24,-52],[-20,3],[1,-45],[-13,9],[-9,-31],[-29,61],[-1,-30],[-30,-29],[-15,13],[1,-20],[-14,8],[-8,-90],[-14,-14],[-19,19],[-7,-81],[-12,-3],[-1,22],[-17,79],[-21,-6],[-8,57],[-11,-4],[-16,30],[12,58],[-25,16],[-8,-86],[-18,-9],[-4,42],[-13,14],[-6,-33],[-9,25],[-6,95],[-5,11],[-14,-27],[-6,15],[3,-73],[-16,-57],[-13,19],[11,-42],[-13,-22],[3,-64],[-11,-31],[-11,14],[-12,94],[10,30],[-2,66],[-9,28],[-10,-19],[-2,-42],[-13,19],[-9,-7],[-11,-64],[-20,5],[-5,30],[1,63],[-12,19],[-16,-27],[-11,25],[3,41],[-19,42],[-9,-3],[-12,-58],[-29,-92],[-12,-9],[-16,34],[-9,3],[4,65],[-5,-1],[7,60],[-7,20],[-13,-14],[-19,11],[-10,91],[8,35],[-4,50],[-17,-47],[-20,22],[-15,0],[-19,28],[-11,-40],[-3,-44],[-20,-26],[-24,96],[-21,23],[-12,-37],[-21,4],[-13,26],[-13,3],[-17,24],[-19,46],[-16,-27],[-9,15],[-12,-11],[-2,20],[-18,-3],[-5,140],[-18,56],[4,22],[-16,5],[-18,57],[-4,-92],[-12,-4],[-22,47],[-17,2],[-6,-49],[-30,15],[-24,78],[-37,143],[-20,-19],[0,2257],[-123,0],[-179,0],[-150,0],[-175,1],[-210,0]],[[21214,59429],[1,119],[0,463]],[[27478,65805],[48,61],[45,74],[9,24],[10,60],[13,3],[3,-28],[36,72],[47,74]],[[27689,66145],[0,-314],[1,-2],[247,-1],[77,3],[167,-2],[243,1],[105,3],[111,-4],[169,-1],[107,2],[14,-59],[5,4],[8,-100],[15,4],[27,-34],[10,-49],[-8,-32],[14,-21],[2,-159],[-8,-12],[25,-113],[1,-34],[11,5],[15,-33],[-2,-18],[25,3],[3,-22],[16,8],[-1,-30],[13,-55]],[[28900,63272],[-23,37],[-22,6],[-24,-20],[-15,-34],[-20,-82]],[[28796,63179],[-217,-1],[-118,-1],[-151,0],[-236,3],[-305,-2]],[[27769,63178],[-167,0],[-124,0],[0,1068]],[[27478,64246],[0,1559]],[[20920,69320],[5,4],[0,872],[-1,227]],[[23039,67577],[-40,0],[5,-22],[-7,-37],[22,-64],[-1,-110],[-14,-5],[8,-52],[-3,-31],[24,-3],[2,-83],[9,-35],[-7,-66],[-14,-16],[5,-56],[-8,-28],[6,-21],[-12,-46],[0,-80],[-11,-16],[-3,-52],[-11,-26],[1,-76],[15,-27],[17,-60],[10,-87],[-4,-45],[13,-31]],[[23041,66402],[-17,-7],[-5,30],[-24,-5],[-7,53],[-21,66],[7,52],[-11,16],[-21,3],[-1,40],[-28,35],[-12,-17],[-8,48],[-43,13],[-5,28],[-18,20],[-1,38],[-25,25],[-15,-14],[-15,13],[-7,-23],[-18,14],[-16,-13],[-16,11],[-18,-17],[-25,9],[-20,21],[-8,-11],[-9,-74],[-12,-29],[-19,-9],[-31,69],[-36,62],[-58,85],[-9,59],[-112,0],[-186,-1],[-153,1],[-214,-1],[-206,-2],[-62,4],[-178,0],[-143,1],[-293,1]],[[20922,66996],[0,345],[-1,8],[0,1828],[-1,143]],[[23587,56097],[8,8],[0,-54],[11,-25],[9,6],[-2,-36],[10,-9],[5,27],[8,-18],[3,29],[21,-27],[11,46],[12,-17],[5,-30],[6,21],[16,-22]],[[23710,55996],[0,0]],[[23710,55996],[1,-11],[0,-608]],[[23711,55377],[0,-1196],[8,-12],[11,-72],[18,-31],[9,-83],[15,-55],[-2,-34],[8,-56],[-7,-42],[3,-45],[-7,-28],[6,-51],[9,-32],[13,-6],[3,-35],[-6,-27],[14,-36],[-1,-32],[8,-15],[3,-49],[-6,-53],[12,-47],[6,2],[6,-113],[19,12],[-6,-102],[8,-31],[2,-54],[-13,-21],[-1,-33],[12,-55],[-9,-22],[-3,-38],[4,-63],[-9,-33],[-9,-63],[-3,-73],[-12,-25],[-2,-68],[-14,-30],[-3,-40],[7,-24],[5,-91],[-13,-51],[-6,-74],[16,-52],[1,-53],[-5,-39],[9,-79],[-12,-70],[9,-19],[-11,-51],[-14,-39],[-7,-78],[-13,-74],[-17,-45],[-2,-25],[9,-30],[17,-94]],[[23768,51502],[0,-14],[-46,3],[-37,-40],[-128,-208],[-28,-61],[-10,-54],[-15,7],[22,71],[9,47],[13,-1],[9,19],[8,46],[9,-16],[11,8],[-15,55],[-54,-54],[-8,26],[17,90],[4,80],[0,74],[-12,5],[-5,23],[-17,-29],[-10,-41],[-4,-50],[-15,-24],[-6,46],[-18,-45],[-2,-35],[9,-32],[-10,-50],[10,-55],[20,-17],[-6,-54],[11,-20],[2,-78],[-2,-67],[-8,-31],[-9,10],[-19,-71],[-22,-65],[-3,26],[-13,-8],[-2,-88],[6,-26],[13,44],[26,65],[3,19],[32,99],[15,23],[0,45],[26,-15],[-20,-61],[-62,-153],[-24,-69],[-4,-25],[-32,-91],[-40,-143],[-15,-8],[-69,-146],[-35,-80],[-53,-89],[-61,-112],[-34,-87],[-13,-42],[-15,-74],[-53,-111],[-24,-68],[-47,-155],[-32,-143],[-11,-83],[-14,-59],[-33,-221],[-24,-197],[-11,-127],[-10,-192],[-2,-108],[1,-103],[8,-205],[14,-207],[12,-134],[16,-229],[11,-260],[-7,47],[-5,147],[-12,189],[-11,152],[-24,16],[18,27],[-9,83],[-6,87],[-9,88],[-3,106],[1,138],[-1,122],[11,276],[16,180],[19,148],[14,70],[10,87],[8,35],[-2,47],[13,86],[18,38],[9,45],[18,127],[28,58],[8,53],[16,2],[35,105],[23,49],[24,23],[-4,43],[9,29],[-9,16],[-16,-41],[-20,-35],[-11,-40],[-17,-5],[-6,40],[0,60],[-18,12],[-6,-31],[0,-84],[-5,-25],[6,-41],[-4,-36],[-20,-56],[-17,-61],[-8,-1],[-18,30],[-3,43],[-32,-61],[-17,-67],[21,-22],[24,57],[8,-74],[-7,-23],[-38,-223],[-12,-2],[-6,55],[-21,-10],[-4,18],[-32,-11],[-11,12],[-6,-38],[12,-32],[15,-1],[11,17],[-4,-64],[7,-48],[15,-34],[17,-18],[-19,-146],[-13,-185],[-12,-106],[-20,-27],[-7,-27],[-11,18],[14,21],[3,59],[-8,3],[-6,-31],[-29,-75],[4,-32],[24,-16],[25,38],[8,2],[-5,-116],[3,-4],[-4,-202],[-6,-207],[-4,-3],[10,-230],[8,-65],[1,-84],[9,-1],[23,-215],[5,-29],[-9,-47],[4,-34],[-1,-62],[8,-72],[20,-11],[1,-35],[12,18],[2,-127],[-23,7],[-13,-8],[0,-19],[-21,-12],[-6,-99],[-20,11],[-7,40],[-15,3],[-6,55],[-11,4],[-18,98],[-31,12],[-11,33],[-17,-9],[-7,16],[-23,-17],[-4,18],[-13,-1],[-3,-29],[-10,31],[-20,-14],[-8,22],[-6,-22],[-14,20],[-8,30],[3,25],[-16,1],[-3,44],[-15,-1],[-21,75],[-9,-11],[-25,48],[-19,-22],[-13,35],[-15,69],[-10,8],[-2,33],[-8,12],[-18,-15],[-21,47],[-12,-3],[-8,20],[-12,-19],[-9,44],[6,50],[-10,56],[-11,13],[-3,98],[-6,42],[-3,79],[-8,25],[-1,49],[-7,64],[-17,43],[2,31],[-13,26],[-7,37],[5,20],[-11,46],[-9,7],[-1,52],[6,31],[-3,66],[4,29],[-4,86],[-16,25],[1,37],[-12,11],[9,30],[5,86],[-3,31],[4,60],[-13,10],[5,76],[-12,58],[-7,-14],[-7,46],[-9,-18],[-9,39],[-10,-6],[-18,90],[-9,11],[-3,38],[-8,-9],[-10,38],[0,50],[-7,26],[3,41],[-13,48],[2,47],[-17,16],[-7,81],[-10,23],[-8,70],[-35,53],[-4,53],[-7,-2],[-13,59],[2,38],[-17,100],[3,47],[-9,39],[9,29],[-12,11],[-9,47],[4,39],[-14,28],[1,33],[-15,28],[-4,51],[2,41],[-8,26],[-4,73],[-6,1],[-9,88],[-8,1],[-6,47],[1,76],[-7,106],[-18,46],[-10,40],[3,14],[-9,71],[-23,41],[-2,30],[-17,46],[-18,25],[-13,84],[0,21],[-26,21],[-6,44],[-23,7],[3,57],[-2,65],[-5,5],[-6,-67],[-6,27],[2,53],[-17,27],[-13,108],[-8,-4],[-9,32],[-13,-25],[-7,44],[-8,-27],[-37,-13],[-19,31],[-6,-8],[-15,22],[-22,-14],[-12,24],[-17,-7],[-4,-22],[-26,21],[-11,50],[-13,-3],[-20,40],[-14,-18],[-10,-111],[-34,19],[-9,-37],[-7,11],[-22,-32],[-7,10],[-8,-54],[2,-23],[-13,-40],[0,-50],[-7,0],[-2,-59],[-11,-30],[1,-33],[-7,-58],[2,-52],[-5,-48],[-10,-5],[-3,-72],[-5,-37],[10,-22],[-5,-38],[-18,-38],[-10,8],[-7,-67],[-17,-43],[-7,-36],[-4,-84],[-14,-8],[-17,15],[-15,-11],[-14,46],[-27,24],[-27,111],[-24,33],[-10,-8],[-22,38],[-18,77],[-13,24],[-39,21],[-17,28],[-19,61],[-11,12],[-19,81],[0,24],[-14,47],[-21,7],[-12,27],[-5,34],[-30,78],[-9,43],[-7,110],[-12,56],[-7,60],[-13,63],[0,59],[-7,57],[6,72],[-3,54],[2,55],[-7,68],[-11,30],[-3,44],[-13,39],[-1,30],[-13,34],[2,33],[-13,177],[-7,40],[-12,4],[-11,91],[-15,0],[-14,66],[-12,10],[-3,24],[-15,34],[-12,-4],[-7,28],[-31,39],[0,39],[-44,118],[-13,107],[-12,37],[-18,26],[-9,33],[-9,2],[-2,36],[-24,106],[-20,35],[-4,54],[-14,32],[-21,7],[-35,78],[-11,88],[-10,24],[-6,68],[-13,89],[-9,41],[-19,38],[-11,-19],[-11,41]],[[20232,53938],[-5,28],[-16,20],[1,23],[-10,25],[-3,38],[7,18],[1,101],[331,0],[250,-1],[226,0],[183,1],[0,1212],[2,254],[0,149],[2,417],[2,232],[0,1518],[1,434],[0,809],[-1,213],[11,0]],[[20922,66996],[0,-2328]],[[19530,64667],[-136,-2],[-143,-1],[-52,-3],[-133,1],[-93,2],[0,442],[1,219],[-1,508]],[[18973,65833],[0,676],[1,163],[0,1090],[-1,26],[0,516],[-1,267],[1,140]],[[18973,68711],[-2,175],[-1,282],[1,156],[75,2],[22,-12],[85,2],[11,8],[45,-5],[25,8],[87,-2],[194,5],[11,-7],[221,0],[316,0],[14,-4],[144,-2],[178,-1],[23,7],[132,0],[251,-2],[115,-1]],[[29908,65840],[0,-107],[3,-222],[0,-150],[-3,-209],[-12,-8],[3,-76],[-8,-29]],[[29891,65039],[-7,19],[-17,2],[-21,-24],[-18,3],[-13,-24],[-16,28],[-6,-37],[-49,-35],[-3,20],[-15,0],[-27,-33],[-6,21],[-26,1],[-7,-26],[-18,23],[-40,-27],[-3,60],[-9,-17],[-19,-82],[-12,0],[-22,-73],[-13,23],[-24,-58],[-7,13],[-23,-28],[5,-22],[-10,-32],[-29,-11],[-22,-54],[-9,15],[-15,-35]],[[29390,64649],[1,33],[-20,102],[68,130],[-19,97],[4,161],[5,295],[9,422]],[[23231,64184],[167,-9],[159,-8],[156,3],[130,8],[62,0],[197,12],[152,13],[101,14],[12,-38],[1,-33],[18,-14],[-1,-36],[16,-57],[10,-2],[1,-56],[11,-31],[19,-7]],[[24442,63943],[-8,-18],[-17,-144],[-2,-71],[6,-165],[14,-99],[7,-28],[-8,-66],[5,-38],[15,-34],[4,-28],[-3,-61],[26,-77],[15,-57],[11,-14],[10,-69],[13,-8],[11,-76],[16,-54],[59,-137],[20,-90],[3,-90],[8,-78],[-9,-36],[11,-85],[3,-65],[22,-69],[11,7],[11,32],[9,66],[19,4],[27,-45],[16,-5],[38,-82],[-2,-60],[-12,-29],[-13,-59],[10,-92],[-2,-37],[-22,-96],[-6,-99],[-17,-68],[-7,-52],[-1,-78],[5,-70],[18,-50],[20,-89],[25,-37],[11,-54],[8,0],[17,-60],[16,7],[3,-27],[-12,-24],[6,-50],[20,-5],[10,31],[13,-28],[1,-29],[15,-12],[23,-70],[-2,-40],[14,-3],[9,-42],[19,-24],[0,-57],[11,-68],[-13,-8],[2,-50],[26,-161],[-4,-62],[-15,-12],[-8,-56],[17,-53],[-1,-47],[13,-87],[11,-46],[-1,-53],[24,-56],[10,27],[-15,45],[14,12],[17,-56],[8,-53],[11,14]],[[25079,59990],[9,-21],[-5,-90],[-6,-46],[-10,-9],[-1,-38],[17,-37],[-3,-28],[-16,3],[-4,-44],[11,-58],[-8,-29],[-7,-71],[-13,-18],[-18,78],[-13,-13],[-13,-142]],[[24999,59427],[-8,-40],[-13,7],[2,31]],[[24980,59425],[6,38],[-5,49],[-21,2],[-4,-30],[9,-58]],[[24965,59426],[6,-22],[-7,-64],[10,-59],[-5,-37],[-24,-1],[0,-37],[21,-39],[1,-27],[-15,-15],[-30,16],[-3,-21],[28,-74],[1,-61],[-22,-40],[-3,-75],[-12,-23]],[[24911,58847],[-179,-6],[16,110],[23,58],[0,23],[15,53],[16,28],[3,43],[9,7],[5,133],[-22,44],[3,15],[-5,71],[-349,-1],[-323,1],[-141,0],[-222,1],[-210,1]],[[23358,63503],[-31,56],[8,79],[-24,76],[-2,77],[-20,19],[1,32],[-18,26],[-12,110],[1,39],[-11,34],[-1,40],[13,42],[-11,18],[-1,-33],[-20,3],[1,63]],[[26900,61666],[18,-20],[35,40],[23,11],[5,49],[3,98],[12,28],[16,-7],[6,30],[-3,101],[-10,105],[21,52],[0,67],[14,88],[12,27],[6,37],[13,-40],[11,-1],[12,-79],[-8,-40],[11,-20],[9,22],[3,42],[9,20],[9,-25],[4,111],[-10,29],[-3,43],[19,19],[-3,96],[8,41],[10,12],[3,55],[31,-7],[3,83],[25,76],[17,-19],[6,-52],[11,3],[21,47],[17,8],[11,54],[11,8],[8,48],[16,57],[30,89],[16,9],[4,83],[10,26],[-11,50],[12,48],[0,57],[10,23],[-4,60],[13,-11],[-2,52],[7,20],[0,122],[9,30],[0,58],[10,48],[5,61],[10,23],[5,65],[-3,95],[4,71],[-9,84],[-11,44],[9,50],[14,-1],[18,27]],[[27769,63178],[-3,-600],[10,7],[33,103],[12,-1],[10,67],[31,60],[13,75],[11,-2],[28,-36],[11,54],[38,158],[13,-10],[-13,-14],[13,-18],[2,-26],[20,-34],[17,1],[7,-18],[28,-4],[14,38],[-7,49],[13,-1],[-11,32],[14,-11],[9,37],[19,-23],[28,87],[24,-20],[17,-49],[8,-40],[18,20],[17,-23],[14,4],[0,-37],[-16,-15],[12,-69],[19,-41],[-2,-33],[9,-12],[5,-43],[-6,-63],[10,-14]],[[28258,62713],[-9,-45],[-21,-175],[-78,209],[-66,179],[-4,-62],[5,-28],[-6,-36],[7,-11],[-23,-106],[6,-15],[-11,-54],[10,-36],[-16,-62],[-7,-7],[-24,-88],[6,-16],[-14,-63],[-7,21],[-15,-66],[-10,-24],[0,36],[-23,-71],[-20,-130],[-35,101],[-9,-69],[-17,-82],[-1,-71],[-8,1],[-10,-57],[-15,-138],[-28,-94],[-46,53],[-17,109],[-31,47],[-14,-121],[3,-65],[-12,-60],[-22,-87],[6,-44],[-12,-21],[-25,-81],[-7,-56],[6,-29],[-8,-30],[-6,-60],[-10,-51],[-18,-51],[-30,-104],[-21,-112],[2,-36],[-12,-39],[4,-41],[17,-34],[-12,-40],[-18,-34],[-1,-32],[13,-4],[-4,-29],[-49,-99],[-10,68],[-12,-9],[-19,-47],[-41,-71],[-4,26],[-21,38],[-7,-51],[9,-43],[-19,-47],[-17,-5],[-37,-27],[-31,-51],[-27,75],[-11,45],[-8,-21],[-8,-55],[-23,-17],[-2,-30],[-13,-29],[-34,-7],[-19,48],[0,24],[-12,25],[-18,3],[-7,52],[-14,31],[-2,90],[-15,22],[-1,33],[18,34],[-11,29]],[[27075,60636],[-14,-4],[-28,30],[-3,37],[-8,1],[-7,40],[-9,-2],[-7,42],[-15,11],[-13,134],[-10,19],[-13,61],[1,34],[-15,19],[-8,39],[11,55],[-15,22],[-9,80],[-10,45],[-15,37],[0,38],[8,0],[3,55],[-4,20],[11,33],[1,58],[-8,36],[1,90]],[[24442,63943],[12,16],[-2,50],[4,90],[-11,35],[13,69],[31,43],[18,-1],[18,41],[1,61],[6,49],[1,67],[10,27],[14,66],[11,19],[6,106],[-1,98],[-13,75],[-13,6],[-20,85],[11,77],[2,74],[6,55],[19,21],[13,-15],[23,40],[31,-6],[24,17],[16,56],[10,13],[26,-1],[18,57],[16,21],[-1,66],[9,59],[0,52],[9,29],[28,49],[-1,41],[8,72],[-3,58],[7,61],[-7,37],[1,89],[-13,41],[-47,73],[-15,74],[3,60],[-16,63],[-22,37],[-2,26],[-22,35],[0,47]],[[24658,66423],[45,-2],[227,-2],[51,-5],[194,-11],[41,4],[152,1],[82,-5]],[[25450,66403],[-2,-124],[-8,-97],[10,-109],[21,-117],[12,-37],[3,-54],[13,-139],[4,-75],[14,-93],[8,-20],[2,-47]],[[25386,60941],[-8,-66],[-17,-35],[-11,-56],[7,-105],[20,-68],[-6,-50],[-48,-19],[-12,-11],[-18,-52],[-14,26],[-18,-44],[-2,-55],[-9,-65],[2,-25],[17,-65],[7,-66],[-10,-89],[-15,-10],[-13,13],[-19,52],[-35,40],[-14,39],[-31,42],[-19,5],[-13,-21],[-13,-42],[-9,-65],[-16,-52],[-4,-55],[14,-52]],[[20232,53938],[-214,0],[-254,0],[0,-524],[-234,-1]],[[24911,58847],[4,-38],[18,-49],[0,-45],[-24,23],[-9,-49],[20,-36],[-11,-33],[-11,-1],[-9,-52],[-17,-22],[-9,21],[-15,-41],[6,-68],[9,-17],[12,23],[3,-38],[-26,-42],[1,-53],[9,-10],[-3,-40],[-22,56],[-9,-9],[-5,-58],[9,-42],[-11,-75],[-8,88],[-23,-67],[-3,-46],[12,-6],[2,43],[15,-35],[-9,-47],[0,-45],[-16,-10],[4,-47],[15,-7],[6,-29],[-12,-43],[15,-58],[-10,-25],[-12,21],[-9,-26],[-9,-100],[-25,13],[-3,-49]],[[24751,57677],[17,-55],[0,-45],[-18,-44],[-31,-44],[-4,59],[-11,2],[-2,-29],[8,-44],[-5,-25],[6,-72],[-14,-19],[-5,34],[2,57],[-10,-27],[2,-35],[-7,-14],[6,-40],[20,-2],[2,-31],[-14,-50],[-11,18],[1,49],[-10,-21],[0,-64],[12,-61],[1,-27],[-13,-51],[6,-83],[-25,-57],[0,-63],[-10,1],[3,54],[-19,-1],[-5,-27],[8,-45],[-7,-30],[-19,-15],[-4,-71],[-16,43],[-9,-29],[14,-43],[20,1],[2,-25],[-13,-28],[-16,33],[-12,-32],[9,-51],[11,3],[3,-24],[-8,-61],[-24,-6],[7,-45],[-11,-16],[-5,43],[-16,-23],[-3,-29],[22,-34],[-18,-78],[7,-55],[16,-26],[-10,-34],[-8,18],[-24,-2],[-1,-59],[10,-26],[13,14],[8,-50],[-12,-18],[-16,22],[-7,35],[-17,-16],[-2,-28],[25,-51],[2,-33],[-28,-41],[13,-63],[-14,-80],[18,16],[-1,51],[14,-27],[-4,-54],[-17,-10],[-3,-19],[10,-24],[17,14],[10,73],[5,-32],[-23,-90],[0,-64],[12,-68],[3,42],[10,13],[2,-23],[-13,-52],[2,-75],[-3,-23],[-14,-8],[-11,14],[-5,-39],[23,-62],[-13,-59]],[[24512,55359],[-219,4],[-154,5],[-157,7],[-86,0],[-185,2]],[[16868,55911],[16,-5],[28,-53],[21,-22],[1,-25],[16,-61],[-5,-43],[-13,25],[-26,7],[-6,35],[0,74],[-20,16],[-12,52]],[[16867,55390],[9,4],[22,-117],[40,-130],[-10,4],[-11,-22],[-17,44],[-13,72],[-14,119],[-6,26]],[[16741,55926],[8,7],[1,-41],[-11,7],[2,27]],[[16637,56552],[8,-17],[11,14],[0,-30],[-17,-4],[-9,21],[7,16]],[[16596,55679],[14,7],[20,-35],[8,-31],[-13,-15],[-20,21],[-9,53]],[[16501,56608],[18,-7],[13,-22],[15,5],[19,-43],[19,-4],[7,39],[20,-20],[-11,-43],[-28,-11],[-17,-31],[-42,24],[-1,61],[-12,52]],[[16410,56520],[22,8],[9,21],[13,-8],[13,19],[0,-48],[18,-13],[1,-48],[-41,-54],[-16,37],[-19,86]],[[16354,56562],[16,17],[6,28],[6,-35],[13,-26],[-21,-6],[-20,22]],[[15305,65829],[155,-4],[9,6],[77,-1],[56,12],[28,-8],[115,2],[37,5],[95,-1],[45,-5],[154,-8],[114,-4],[197,0],[92,2]],[[16479,65825],[0,-1]],[[16479,65824],[0,-1448],[1,-34],[0,-756],[-1,-393],[-1,-13],[0,-457],[-1,-122],[2,-263],[26,-77],[115,-330],[114,-336],[63,-182],[99,-298],[125,-377],[62,-186],[127,-394],[313,-989],[234,-759],[70,-234],[147,-492]],[[17950,55027],[-416,-126],[-254,-89],[-3,98],[-9,62],[-8,20],[-14,-23],[-3,66],[1,71],[-8,41],[9,61],[-9,161],[-13,127],[-9,54],[-40,193],[-25,61],[-10,51],[-15,37],[-9,-2],[-19,95],[-26,59],[-14,15],[-20,57],[-25,88],[-24,39],[-2,-47],[-21,-23],[-18,14],[-10,25],[-15,6],[-4,38],[9,34],[1,43],[-14,116],[-11,64],[-17,50],[-35,1],[-22,-8],[-16,-36],[-14,38],[-28,16],[-37,59],[-12,2],[-24,53],[-17,141],[-10,10],[-17,53],[-4,-3],[-20,65],[-21,25],[-6,20],[-32,4],[-16,-24],[-18,25],[-22,-10],[-37,60],[-23,0],[-15,15],[-44,-7],[-48,-22],[-1,31],[-13,66],[-16,30],[-12,-4],[-6,32],[13,143],[-11,60],[8,119],[-17,54],[9,115],[1,140],[-18,56],[-14,7],[-3,-21],[-27,55],[-11,48],[10,131],[-2,50],[-11,53],[-27,14],[-27,102],[-18,101],[-24,25],[-17,66],[-5,81],[-16,47],[-7,37],[-14,35],[-6,99],[-5,35],[-20,29],[-15,104],[-25,94],[-33,64],[-11,45],[-8,80],[1,42],[-11,101],[2,92],[-11,16],[10,74],[18,-38],[9,30],[7,61],[8,141],[-21,149],[-12,43],[-10,11],[-9,-28],[-37,2],[-28,68],[-22,102],[-14,18],[-2,31],[-17,60],[-4,62],[5,129],[-12,89],[-2,52],[-12,14],[-6,33],[-1,64],[5,27],[2,77],[-6,134],[14,28],[16,8],[6,-24],[7,-88],[-9,-9],[11,-107],[-2,-27],[27,-23],[27,-80],[8,5],[14,-63],[12,3],[-6,40],[-12,19],[-10,87],[-7,109],[-21,54],[-2,46],[-22,26],[9,74],[-7,68],[-15,-1],[-14,68],[8,-9],[9,26],[0,40],[19,-2],[10,39],[-10,71],[-26,44],[-13,-30],[-14,-6],[2,-47],[-5,-46],[15,-51],[-12,-25],[-4,-44],[19,-56],[-7,-14],[-11,29],[7,-71],[-15,-16],[-9,38],[-26,61],[-13,-12],[-23,67],[-10,53],[-17,33],[-16,8],[-20,-33],[14,127],[3,48],[-12,92],[7,20],[-16,70],[-11,-10],[-1,67],[-17,106],[-20,51],[-14,19],[-22,64],[-37,176],[-14,29],[-8,41],[-31,90],[-24,116],[14,78],[-1,42],[-14,126],[-16,123],[-7,105],[3,99],[13,132],[-5,52],[0,65],[-14,92],[-4,108],[-16,36],[-6,55],[-35,133],[-7,6],[0,43],[-8,43],[-22,32],[-49,151],[4,63],[-4,70],[-13,74],[9,98],[14,109],[42,265],[11,95],[7,119],[-12,37],[-1,97],[4,2],[11,99],[12,244],[-5,126],[-15,128],[-8,96],[-9,-4],[-17,54],[10,74],[5,110],[-3,67]],[[28861,63044],[-1,28]],[[28874,63137],[-6,7],[-22,-81],[2,-39],[11,-31],[1,-49],[-8,-28],[0,-41],[14,-52],[7,-58],[21,-62],[10,-68],[3,-58],[-5,-35],[2,-126],[16,-48],[7,-43],[2,-74],[34,-137],[16,-29],[10,24],[4,-36],[5,-129],[4,-244]],[[29002,61700],[-105,1],[-74,9],[-2,72],[-25,1311],[0,86]],[[28426,62262],[21,70],[37,-118],[-36,-118]],[[28448,62096],[0,93],[-22,73]],[[6433,39922],[2,44],[19,76],[12,7],[13,93],[16,52],[3,58],[-17,94],[-4,45],[-1,105],[8,37],[18,-9],[18,-32],[3,-32],[22,-44],[15,-47],[12,6],[25,-32],[39,-77],[13,-19],[22,-61],[16,-57],[17,-76],[-3,-47],[1,-90],[8,-10],[16,12],[7,-57],[-1,-57],[22,-82],[22,-39],[5,-21],[-4,-44],[-13,-51],[-17,-47],[-14,-56],[-23,-38],[-20,-47],[-20,-18],[-16,15],[-9,-9],[-18,-66],[-16,-25],[-13,-48],[-14,-16],[-12,-59],[1,-33],[-8,-37],[-5,-59],[-20,-63],[-15,61],[-22,52],[-22,29],[-10,95],[5,113],[4,151],[-10,106],[1,46],[-9,12],[-5,114],[-7,66],[-9,8],[-8,108]],[[6254,41293],[5,69],[11,56],[14,6],[13,-33],[10,-78],[10,-50],[24,29],[18,35],[26,-21],[0,-16],[17,-51],[10,-15],[5,-40],[31,-37],[5,-32],[0,-52],[-8,-43],[-13,-40],[-6,3],[-17,-36],[-14,10],[-30,-53],[-21,-9],[-17,26],[-7,210],[-7,20],[-14,-24],[-26,50],[-13,58],[-6,58]],[[6253,40841],[7,29],[28,57],[10,-30],[-4,-44],[5,-17],[-13,-19],[-5,15],[-18,-23],[-10,32]],[[6153,41274],[7,27],[13,5],[26,-19],[17,-60],[8,-51],[-9,-65],[-19,-29],[-17,-5],[-7,60],[-3,73],[-14,32],[-2,32]],[[6084,41504],[6,52],[9,29],[-2,58],[17,-2],[3,-14],[54,-29],[10,34],[4,-42],[22,-13],[27,18],[17,-25],[-8,-55],[-18,-51],[-20,-21],[-35,32],[-26,31],[-15,-14],[-29,-5],[-16,17]],[[5814,42059],[43,9],[13,49],[4,35],[13,48],[14,15],[6,-27],[6,-70],[20,-84],[4,-52],[-4,-15],[3,-47],[18,-55],[3,57],[12,-2],[-4,-64],[8,-24],[-1,-29],[17,-70],[-12,-37],[-11,18],[-21,-29],[-6,26],[-17,31],[-25,11],[-30,-20],[-7,4],[-7,84],[-11,34],[-1,31],[-14,67],[0,61],[-13,45]],[[5394,42585],[1,40],[11,38],[4,49],[33,72],[8,26],[23,-18],[3,25],[16,-11],[8,14],[15,-20],[10,-37],[5,-45],[0,-46],[-11,-63],[1,-106],[-4,-28],[-28,-78],[-8,15],[-36,12],[-18,71],[-24,29],[-9,61]],[[5266,42374],[4,43],[12,44],[19,45],[2,38],[11,9],[2,-31],[-5,-57],[2,-36],[-20,-28],[-16,-97],[-12,30],[1,40]],[[24498,67577],[-5,-52],[10,-50],[-1,-74],[27,-41],[13,-76],[-18,-60],[-6,-52],[-9,-24],[1,-108],[8,-88],[0,-68],[12,-25],[13,-169],[33,-64],[47,-37],[17,-20],[18,-109],[0,-37]],[[23231,64184],[4,28],[-10,56],[-13,16],[-15,58],[2,37],[13,35],[-4,83],[10,51],[-7,27],[2,66],[-9,20],[1,42],[-7,30],[5,27],[-5,93],[12,17],[-24,24],[4,37],[-5,63],[13,41],[-20,27],[7,29],[-1,116],[-20,10],[2,77],[-9,1],[-2,-37],[-15,28],[3,56],[-11,39],[7,39],[-8,41],[11,18],[-6,54],[8,20],[3,46],[-12,23],[-1,38],[-14,61],[6,11],[3,66],[-16,6],[1,30],[-15,11],[5,16],[-15,25],[1,83],[-22,56],[-3,48],[10,25],[-14,103],[-11,29],[0,76],[9,44],[-4,44],[-14,8]],[[26280,62461],[18,48],[7,-2],[15,-54],[21,-28],[14,29],[14,-3],[8,29],[8,-8],[4,-69],[29,-32],[10,-84],[16,-83],[0,-66],[5,-26],[40,-41],[33,19],[29,-46],[3,-34],[15,-26],[5,-50],[28,-29],[14,66],[26,22],[15,-32],[28,-20],[11,-24],[5,-43],[13,24],[30,-1],[10,53],[18,34],[9,39],[15,0],[21,32],[7,-33],[-3,-44],[9,-111],[13,-37],[21,-6],[21,-79],[13,-35],[2,-44]],[[27075,60636],[-108,-317],[-37,-39],[-22,-41],[-19,-49],[-25,-45],[0,-86],[-16,-39],[-12,-2],[-12,-33],[3,-59],[-6,-45],[-25,-36],[-29,-4],[-16,-80],[-2,-50],[-16,-4],[-33,-35],[-39,-52],[-21,2],[-33,-49],[-8,-27]],[[26599,59546],[-4,-21],[-83,8],[-79,2],[-76,5],[-83,11],[-51,16],[-74,9],[-55,-14],[-96,8],[-56,10],[-83,22],[-49,4],[-16,-22],[-7,22],[-146,-12],[-92,-2],[-114,-8],[1,35],[-61,17],[10,-147],[-6,-64],[-137,6],[-126,0],[-84,6],[-33,-10]],[[24980,59425],[-15,1]],[[28739,61120],[-14,0]],[[28725,61120],[-1,72],[8,28],[11,-40],[-4,-60]],[[28711,61320],[2,79],[11,13],[7,-30],[5,-118],[-15,21],[4,27],[-14,8]],[[28627,62072],[5,20],[5,-46],[-10,26]],[[29002,61700],[-1,-43],[-9,-105],[-5,-15],[-20,-211],[-18,-120]],[[28949,61206],[-107,-38],[-6,-55],[-6,4]],[[28830,61117],[-13,30],[-19,-4],[-22,-64],[-9,-1],[-1,67],[7,70],[17,28],[-17,2],[2,45],[11,40],[-21,9],[-12,-33],[-4,28],[5,58],[26,27],[-6,39],[-9,-13],[-4,36],[15,112],[-15,-24],[-7,-47],[0,-60],[-8,-1],[-11,77],[11,9],[-1,53],[-8,10],[-4,-49],[-9,-33],[6,-27],[-9,-62],[-4,29],[-17,-23],[-9,12],[-16,83],[-9,13],[2,43],[-24,151],[20,14],[5,39],[-8,-7],[-9,51],[8,40],[12,22],[6,-25],[12,26],[1,-36],[22,-9],[13,-39],[4,10],[-16,69],[-17,14],[-8,42],[-7,-3],[-16,77],[-5,-28],[-12,20],[-1,-59],[-7,8],[3,101],[18,92],[14,-45],[8,10],[-3,124],[-8,17],[-17,-47],[-12,4],[1,-48],[-12,-17],[4,104],[16,101],[7,-51],[21,-11],[11,31],[-6,54],[11,55],[-16,-9],[-3,-52],[4,-31],[-12,17],[3,63],[-6,59],[-7,14],[16,136],[12,42],[-2,24],[14,25],[7,37],[30,-6],[-11,24],[18,70],[-10,6],[12,122],[-35,-24],[-6,-48],[12,-24],[4,-32],[-12,-14],[-34,-97],[-7,31],[7,54],[-8,28],[0,-44],[-9,-51],[8,-34],[-7,-46],[-6,96],[-15,14],[6,-103],[-8,8],[-6,-42],[12,-22],[-21,-44],[-7,-28],[-13,8],[-2,26],[-22,46],[3,-46],[9,-13],[2,-41],[27,-54],[2,-67],[-5,-25],[13,-48],[-23,-45],[7,-37],[-3,-40],[-9,4],[-7,-55],[6,-53],[-17,-58],[9,-50],[-2,-54],[6,-73],[-2,-89],[7,-65],[22,-80],[8,-62],[-9,-45],[-14,7],[9,-42],[9,22],[8,-14],[-7,-47],[4,-48],[18,-92],[-5,-22],[5,-97],[-9,19],[-11,58],[-8,4],[-5,64],[-8,-9],[-2,-57],[-7,38],[-8,-3],[-5,48],[-12,45],[-23,23],[-35,3],[-8,129],[-8,13],[-4,-31],[10,-68],[-2,-22],[-22,43],[-2,34],[-13,31],[-12,114],[-20,-44],[-33,-56],[-12,27],[-7,115],[11,82],[15,57],[20,30],[-5,10]],[[28423,61914],[-1,45],[7,27],[18,25],[1,85]],[[28426,62262],[-9,37],[-20,6],[-8,17],[1,48],[-26,42],[-34,15],[-6,39],[-10,13],[1,58],[9,18],[7,49],[-23,43],[-6,45],[-15,-1],[-16,25],[-13,-3]],[[26327,70327],[8,17],[9,-60],[65,-63],[-17,-58],[-23,18],[-14,61],[-28,85]],[[26120,70229],[5,40],[7,-20],[-12,-20]],[[26084,70289],[21,-39],[-4,-36],[-19,38],[2,37]],[[26055,70019],[7,48],[3,69],[6,15],[1,57],[18,-7],[-1,-85],[4,-83],[-19,-44],[-19,30]],[[26035,70180],[13,8],[-5,-54],[-7,1],[-1,45]],[[25984,69839],[13,-17],[1,-59],[-14,76]],[[25933,69486],[6,23],[19,-25],[-6,-96],[-17,52],[-2,46]],[[25908,69335],[11,44],[6,-47],[-17,3]],[[25759,70041],[20,-64],[-8,-22],[-4,36],[-14,43],[6,7]],[[25722,65552],[30,68],[27,87],[37,261],[34,146],[19,134],[10,99],[10,176],[-1,58],[6,87],[-1,163],[-6,182],[-11,120],[-35,230],[-11,94],[-12,138],[-17,119],[0,48],[22,102],[7,50],[1,77],[-9,134],[-14,90],[4,32],[20,51],[24,151],[21,112],[4,124],[9,134],[-11,112],[1,33],[27,43],[20,15],[6,93],[-2,74],[10,36],[13,-18],[16,80],[18,-35],[17,13],[8,32],[9,86],[10,16],[15,94],[11,47],[9,-7],[12,35],[3,-39],[-19,-32],[-3,-42],[12,-81],[-23,-81],[13,19],[0,-74],[-6,-7],[-8,-84],[7,-95],[8,-2],[19,145],[3,98],[13,20],[-8,-158],[-15,-44],[-6,-67],[14,-14],[8,65],[7,13],[22,135],[5,78],[-1,56],[4,82],[-6,85],[5,94],[17,49],[10,3],[18,48],[18,16],[25,-7],[26,14],[12,20],[-1,33],[-33,17],[-14,47],[-8,114],[16,75],[13,14],[20,69],[-2,31],[-18,27],[60,-15],[7,49],[61,-102],[26,-58],[13,20],[11,-16],[13,10],[32,-34],[24,-85],[3,-57],[17,-27],[33,4],[8,-9],[29,-77],[23,-7],[34,-71],[29,6],[21,-78],[11,-25],[-9,-27],[15,-96],[11,-30],[14,-133],[-20,21],[-16,34],[-15,-41],[4,-110],[12,-44],[21,-26],[5,-59],[1,-98],[7,-37],[-4,-71],[-8,-67],[2,-65],[-5,-111],[-1,-121],[-12,-15],[-14,-64],[-24,2],[-8,-30],[-8,-108],[-4,-115],[-19,-5],[-8,-19],[0,-49],[-42,-6],[-13,-35],[-9,-76],[-5,-124],[-8,-42],[13,-91],[16,-32],[9,33],[5,-38],[20,-21],[13,-38],[10,16],[28,120],[14,0],[7,25],[-7,51],[9,44],[9,87],[4,-50],[19,31],[5,29],[-21,31],[24,-3],[11,24],[5,41],[23,10],[34,28],[9,45],[31,30],[11,-30],[23,-25],[15,-39],[17,-123],[10,-37],[7,-97],[5,-208],[17,-178],[4,-247],[10,-143],[18,-110],[2,-48],[-11,-46],[-7,-145],[4,-47],[-12,-113],[-4,-67],[-18,-66],[-15,4],[-12,-42],[1,66],[-9,27],[10,16],[15,62],[-14,26],[-15,-5],[-19,-34],[-7,-32],[9,-27],[2,-45],[-15,4],[-11,-52],[1,-84],[-7,-77],[-17,-53],[-30,-25],[-18,-97],[2,-127],[-3,-44],[-15,-25],[-1,-70],[-16,-39],[-6,-39],[-13,-4],[-7,-65],[-11,-11],[-17,-72],[5,-79],[-8,-9]],[[26661,65520],[-86,-11],[-167,-20],[-124,-12]],[[25045,72671],[21,69],[95,141],[7,-2],[43,98],[31,42],[6,-11],[28,29],[-1,-28],[-12,-16],[-30,-80],[0,-30],[-25,-55],[-51,-53],[-42,-66],[2,-20],[23,0],[-59,-73],[-18,3],[-18,52]],[[24721,71146],[19,40],[12,3],[39,49],[38,34],[31,77],[19,64],[16,27],[33,17],[15,-17],[29,27],[22,-3],[52,75],[30,94],[22,5],[29,23],[10,39],[5,51],[25,65],[14,16],[30,82],[23,23],[21,56],[11,54],[20,52],[58,85],[56,25],[50,-7],[23,-39],[1,-45],[-11,5],[-17,-24],[-19,13],[-21,-10],[5,-47],[-32,-57],[-30,-95],[-19,-20],[-5,-74],[-7,9],[-7,-52],[-14,-26],[-5,-67],[-12,-48],[-9,-6],[-12,-164],[6,-52],[-9,-35],[11,3],[20,87],[3,44],[7,-13],[29,80],[28,43],[-12,-55],[-12,-24],[-15,-77],[30,84],[26,18],[14,-13],[37,1],[15,-30],[8,8],[17,-35],[8,-39],[15,11],[22,-63],[3,-61],[17,-49],[6,-47],[14,-49],[19,-15],[-2,-79],[11,-28],[26,-15],[42,10],[25,43],[11,-8],[14,-72],[12,-27],[19,-4],[8,46],[16,-7],[9,-38],[4,69],[-7,53],[16,20],[7,-32],[-6,-56],[17,-26],[26,72],[40,62],[59,110],[11,-21],[61,42],[46,-16],[35,-3],[30,7],[62,85],[24,12],[30,-7],[32,14],[-22,-84],[-2,-135],[2,-45],[-8,-19],[9,-51],[16,-8],[9,16],[6,-26],[15,3],[17,-28],[34,49],[13,-4],[11,-46],[-1,-35],[25,28],[7,-7],[10,65],[19,24],[23,-19],[11,9],[8,39],[27,-5],[5,-30],[-10,-100],[7,-120],[1,-95],[-29,-2],[-8,-65],[15,-12],[5,21],[15,-4],[8,-38],[19,-19],[-13,-40],[24,-75],[12,-1],[20,-45],[8,38],[14,-35],[8,26],[-16,100],[14,-15],[41,13],[12,-15],[14,-91],[16,-31],[-10,-64],[-14,-20],[-27,39],[-31,-16],[-31,42],[-11,-12],[-27,1],[-27,23],[-60,-26],[-13,-28],[-37,69],[-15,48],[-13,-7],[-13,30],[-10,-41],[2,-51],[-15,-32],[1,-45],[9,-63],[-12,-20],[-24,42],[-3,31],[-21,37],[-5,30],[-22,64],[-38,46],[-13,-7],[-33,49],[-18,-5],[-13,23],[-5,-20],[-19,11],[-25,-75],[-17,-73],[-9,-8],[-32,23],[-23,-15],[-8,-22],[2,-34],[-23,37],[-21,17],[-24,-14],[-10,11],[-23,-24],[-13,-42],[-2,-63],[-9,-72],[-14,4],[-7,-39],[-22,-15],[-6,-46],[-13,-3],[0,-45],[-12,-9],[4,-61],[-20,32],[-9,40],[12,27],[1,34],[11,31],[1,40],[13,-4],[15,87],[-3,43],[-12,10],[-18,-75],[-38,24],[3,-51],[-13,-47],[-5,-56],[-30,-31],[-5,-27],[-6,39],[3,55],[-4,67],[-8,32],[-10,-19],[-5,-120],[3,-12],[-31,-55],[-26,-129],[-17,-146],[-19,-65],[-20,-112],[-41,-174],[6,-33]],[[25508,69434],[-19,14],[-8,47],[-13,28],[-2,29],[15,118],[11,48],[-2,34],[-11,25],[-16,-47],[-27,-10]],[[25436,69720],[0,0]],[[25436,69720],[-7,47],[7,24],[-3,38],[13,34],[6,40],[-3,47],[8,69],[-14,75],[12,13],[-8,44],[-13,18],[-6,33],[-24,4],[-9,43],[-21,-18],[-18,45],[17,52],[-7,21],[0,47],[-40,48],[-14,-14],[-24,47],[-12,-15],[-21,21],[-2,25],[-27,-2],[-3,-32],[-14,0],[-4,29],[-17,16],[-12,-13],[-86,142],[-287,231],[1,27],[-28,167],[-27,16],[-10,24]],[[24739,71113],[0,0]],[[24739,71113],[-12,-6],[-6,39]],[[25252,52115],[30,-13],[-14,-20],[-12,9],[-4,24]],[[25179,52148],[16,13],[30,-29],[6,-15],[-24,5],[-28,26]],[[25119,52114],[15,7],[15,31],[-4,-29],[-21,-27],[-5,18]],[[25071,52140],[21,-1],[8,13],[-5,-43],[-10,-7],[-17,26],[3,12]],[[24751,57677],[229,-2],[156,1],[202,1]],[[25284,52292],[-4,-32],[-7,15],[-10,-40],[-18,27],[-13,-15],[-5,30],[-18,7],[-18,-23],[-23,49],[-2,-28],[-21,38],[-22,-3],[-31,-27],[-28,-42],[-30,-33],[4,54],[-10,30],[-14,-27],[9,-17],[1,-40],[-25,-57],[-8,-80],[-9,10],[-13,-16]],[[24969,52072],[-12,0],[-13,50],[-4,66],[0,69],[-15,77],[0,54],[-10,43],[-11,19],[-4,39],[-10,34],[-4,95],[-8,14],[10,88],[-4,36],[7,25],[9,125],[7,19],[-1,45],[7,22],[-7,36],[-165,-2],[-134,-1],[-226,0],[13,21],[7,58],[-16,50],[-1,28],[10,46],[-3,41],[-12,30],[1,38],[18,-7],[17,20],[2,43],[-12,37],[-1,45],[-7,16],[9,39],[4,-50],[8,-29],[9,7],[0,29],[-13,75],[-1,74],[20,18],[12,35],[-4,32],[-18,-13],[-9,30],[5,38],[10,-28],[18,0],[1,106],[11,35],[23,5],[4,18],[-29,11],[7,94],[12,11],[2,-43],[7,-17],[5,28],[-6,21],[24,78],[-2,50],[7,25],[19,14],[0,50],[-19,26],[5,25],[13,-39],[5,36],[12,22],[9,69],[-15,24],[2,-62],[-32,11],[2,79],[27,20],[7,27],[14,-31],[5,42],[-2,53],[12,-8],[16,79],[-4,18],[-6,-40],[-23,17],[0,58],[8,20],[-8,35],[-10,-20],[-23,49],[3,58],[5,1],[17,-48],[10,7],[-5,26],[-21,50],[14,31],[8,37],[-7,37],[-6,-46],[-20,-26],[-6,14],[-3,52],[9,38],[16,33],[2,27],[-31,30],[1,71],[5,37],[21,52],[2,39],[-9,72],[-11,-4],[1,-67],[-14,-26],[-9,22],[3,48],[10,50]],[[17580,73980],[234,-2],[232,3],[190,-5],[190,2],[348,-2],[211,0],[232,2],[328,0],[141,0],[292,0],[227,1],[143,-1],[294,0],[114,0],[167,1]],[[18973,68711],[-21,23],[-6,49],[-24,59],[2,43],[-28,117],[-17,36],[-8,-52],[-20,-3],[5,-33],[-16,-98],[15,-64],[-32,26],[-9,-16],[-24,13],[-3,-19],[-30,-40],[-13,63],[-22,-8],[-13,-25],[-10,13],[-21,-30],[-8,22],[-14,-8],[-12,35],[-16,7],[-9,-35],[-9,0],[-2,-61],[-8,-45],[-24,38],[-8,-20],[-11,24],[-33,2],[-17,22],[-17,-23],[-15,-72],[6,-53],[-9,-22],[-11,44],[-18,24],[-15,40],[-6,53],[5,34],[-21,81],[9,48],[-5,50],[-18,109],[-32,58],[-26,-44],[-4,40],[-28,53],[-11,97],[14,13],[2,55],[-4,61],[-19,39],[2,26],[-17,15],[-7,73],[-24,73],[-1,35],[-14,54],[2,70],[-8,19],[-6,57],[6,30],[-1,46],[-19,0],[7,95],[-15,25],[-12,-2],[2,26],[-10,44],[-15,26],[-9,-13],[2,-41],[-15,-35],[-19,-82],[-19,-26],[-13,12],[-3,-58],[-24,-42],[-5,36],[-14,22],[-13,60],[-25,0],[4,53],[-8,36],[18,37],[1,48],[-19,74],[18,89],[25,1],[7,44],[-13,54],[6,49],[-19,27],[-4,54],[9,58],[-17,33],[2,49],[19,7],[-1,79],[-6,30],[13,24],[1,116],[13,65],[-7,69],[12,3],[10,123],[-3,58],[-8,10],[-26,-23],[-4,-21],[-22,15],[-19,-5],[-8,39],[6,39],[-7,30],[-14,9],[-4,-30],[-15,-21],[-6,17],[6,55],[-34,58],[-16,59],[4,71],[-20,60],[-13,-1],[-6,60],[-19,82],[-17,54],[-12,13],[-5,37],[-11,7],[2,38],[-9,41],[-24,10],[-32,45],[-7,54],[-47,87],[-11,-2],[12,36],[22,8],[3,22],[-16,7],[-5,57],[-11,5],[2,34],[13,32],[-12,55],[2,63],[-13,24],[-7,47],[-8,-6],[-8,88],[-15,21],[-39,152],[-1,279],[1,109],[0,804]],[[29991,69339],[3,68],[18,64],[-3,15],[11,74],[-13,36],[18,11],[4,26],[22,42],[15,-61],[28,-5],[13,70]],[[30213,67064],[-30,-174],[-2,-44]],[[29724,66677],[-9,53],[-6,-10],[-12,102],[9,73],[1,57],[13,10],[8,45],[-6,52],[9,33],[-5,65],[4,138],[12,64],[-6,60],[10,135],[-5,35],[5,74],[15,33],[6,109],[9,44],[19,43],[6,44],[-1,64],[19,67],[0,85],[12,44],[12,69],[0,47],[-10,68],[6,57],[-6,34],[10,61],[35,32],[10,-13],[16,21],[5,52],[24,14],[14,39],[7,45],[16,22],[-6,59],[11,13],[2,73],[-10,38],[-11,102],[15,52],[4,64],[18,75],[-13,89],[11,30]],[[29842,64964],[3,18],[27,22],[-21,-43],[-9,3]],[[29812,64781],[5,20],[11,-16],[0,-50],[-6,35],[-10,11]],[[29792,64880],[16,16],[-12,-43],[-4,27]],[[29275,64272],[5,-67],[-9,-39],[-38,-78],[-11,-1]],[[28633,68013],[16,50],[-5,-45],[-11,-5]],[[28611,68032],[12,40],[9,-5],[-21,-35]],[[27689,66145],[33,53],[53,111],[29,91],[30,50],[26,25],[11,70],[13,36],[4,52],[36,56],[19,54],[-4,80],[-13,40],[2,43],[-7,37],[-23,35],[1,92],[-18,15],[9,77],[-5,125],[-3,13],[28,22],[38,42],[56,47],[40,20],[33,2],[38,-9],[36,8],[86,-42],[23,-19],[15,-47],[23,-46],[12,-10],[40,49],[35,1],[43,12],[21,-19],[23,-1],[14,25],[30,20],[18,40],[9,1],[19,80],[30,64],[10,8],[19,54],[14,5],[20,-15],[17,19],[9,53],[2,87],[-9,180],[-20,40],[11,50],[14,11],[2,-33],[21,41],[-3,43],[-19,47],[-22,-15],[5,29],[-15,51],[-15,1],[1,80],[16,115],[19,5],[23,42],[0,48],[18,22],[27,55],[9,-5],[16,29],[25,75],[4,46],[12,51],[41,121],[31,100],[56,141],[-1,12],[68,109],[26,62],[18,0],[22,37],[27,-29],[19,10],[91,-8],[53,-1],[107,14],[24,-1],[93,10]],[[29478,69336],[1,-109],[-7,-30],[-4,-63],[13,-57],[-10,-55],[-2,-92],[-4,-31],[4,-70],[19,-88],[4,-69],[-12,-80],[7,-114],[-4,-36],[-19,-63],[-5,-89],[-8,-79],[9,-27],[-1,-103],[10,-67],[-5,-64],[12,-57],[-16,-97],[-7,-114],[10,-26],[7,66],[19,0],[2,-53],[13,-29],[-2,-343],[-6,-422],[0,-74],[-4,-37],[8,-65]],[[29390,64649],[-7,-42],[-21,-42],[-2,-79],[-13,2],[9,-60],[18,87],[11,-15],[10,42],[21,27],[18,2],[4,33],[22,-30],[2,41],[9,-28],[20,-8],[18,-23],[23,28],[2,43],[17,8],[10,-12],[75,3],[39,20],[14,18],[30,63],[9,40],[12,13],[13,50],[21,21],[12,-2],[-18,-52],[-9,-6],[15,-31],[5,-44],[17,-12],[11,25],[16,-72],[15,17],[23,48],[2,28],[17,11],[12,-12],[-5,-21],[-67,-94],[-78,-123],[-50,-62],[-81,-93],[-53,-78],[-43,-41],[-27,-12],[-6,15],[-64,-60],[-61,10],[-46,-55],[3,38],[-23,-2],[3,25],[-11,39],[7,35],[-8,36]],[[26861,65369],[16,17],[-2,-36],[-14,19]],[[26831,65420],[6,90],[11,-35],[-3,-35],[-14,-42],[0,22]],[[26661,65520],[1,-26],[21,-28],[13,17],[37,-82],[25,-20],[11,-21],[18,-66],[19,-29],[18,23],[2,50],[7,13],[14,-55],[19,2],[-1,-37],[29,-96],[16,-33],[22,-21],[41,57],[22,4],[17,35],[51,60],[37,-38],[19,15],[20,-9],[29,61],[29,86],[8,10],[16,58],[44,102],[10,1],[67,108],[30,17],[24,34],[65,69],[17,24]],[[15490,70789],[21,10],[13,-45],[-1,-55],[17,-42],[25,-1],[32,51],[14,-4],[59,-119],[7,-61],[18,-81],[1,-57],[7,-52],[-3,-67],[10,-88],[-4,-41],[3,-50],[33,-54],[46,-35],[11,-19],[17,14],[13,-32],[18,-5],[23,39],[23,7],[54,83],[12,45],[15,16],[21,-15],[29,12],[28,26],[19,-30],[17,-9],[18,14],[34,-40],[9,-75],[14,4],[19,50],[34,4],[13,-16],[11,34],[47,51],[15,35],[21,-9],[21,-51],[22,6],[34,26],[20,5],[11,42],[28,27],[29,46],[46,27],[37,10],[13,57],[14,23],[24,-22],[64,39],[17,-14],[19,6],[28,42],[11,36],[163,1],[250,-3],[164,-3]],[[17338,70482],[16,-107],[11,-27],[16,-75],[18,5],[10,-47],[19,-2],[16,-48],[0,-53],[13,-49],[7,-54],[-24,-108],[-1,-55],[-10,-23],[-24,-150],[1,-36],[-9,-51],[-7,-116],[-13,-40],[-6,-53],[-14,-44],[-3,-51],[7,-58],[-9,-68],[-18,-76],[0,-21],[-32,-49],[-14,-93],[-8,-97],[-10,-66],[-18,-48],[3,-66],[-8,-36],[15,-69],[-8,-56],[13,-35],[19,25],[16,-59],[20,12],[2,-53],[18,-17],[1,-31],[-10,-62],[-12,-17],[1,-42],[11,-32],[-1,-43],[-12,-81],[0,-54],[-11,-11],[-2,-59],[0,-2105]],[[17307,65831],[-166,-2],[-273,-5],[-26,-3],[-143,2],[-220,2]],[[15305,65829],[-21,55],[-15,55],[-7,69],[2,33],[-14,81],[2,32],[-7,63],[-2,126],[13,147],[-7,107],[-17,87],[-11,2],[-11,123],[15,90],[12,96],[6,83],[0,52],[9,80],[6,99],[-6,42],[17,53],[8,43],[16,132],[15,193],[15,283],[7,225],[4,188],[-2,8],[10,197],[-1,69],[7,184],[0,92],[-5,39],[8,91],[12,227],[8,117],[4,157],[-3,66],[3,109],[-4,69],[5,24],[5,176],[-1,76],[-11,41],[6,87],[-2,83],[-7,45],[16,36],[1,109],[-19,193],[27,-79],[14,-14],[-3,38],[23,10],[7,17],[11,-28],[12,31],[15,0],[20,51]],[[26599,59546],[33,-4],[78,1],[5,-5],[157,-1],[61,3],[151,-2],[3,26],[77,-5],[-8,-28]],[[18139,65823],[61,-6],[262,13],[192,2],[5,-5],[196,3],[118,3]],[[18136,60011],[0,880],[1,11],[-1,272],[1,173],[-1,298],[1,318],[0,1661],[1,149],[0,628],[1,266],[0,1156]],[[28738,60998],[7,-15],[-7,-27],[0,42]],[[28949,61206],[-16,-79],[-15,-98],[-8,-27],[-5,21],[-15,-7],[-19,-78],[-12,-70],[-11,-126],[1,-64],[-23,-128],[7,-14],[-18,-91],[-12,-79],[-9,-11],[1,-57],[-11,-86],[-18,-64],[-16,2],[4,-35],[-9,-5],[-1,84],[-10,55],[-4,61],[2,70],[9,59],[3,89],[10,105],[4,76],[16,79],[18,110],[-4,34],[21,17],[15,65],[1,28],[-20,21],[25,54]],[[28739,61120],[-11,-44],[-3,44]],[[28423,61914],[-20,-21],[-13,21],[0,-52],[-18,-113],[-4,-52],[2,-76],[15,-59],[29,15],[6,26],[15,0],[12,38],[9,-30],[-6,-74],[19,-64],[0,-49],[35,-59],[25,-2],[7,-28],[6,21],[24,-9],[4,-44],[16,-39],[8,-59],[13,-15],[15,-54],[20,-23],[30,-68],[-5,-65],[-15,-24],[-2,-107],[4,-29],[-11,-46],[13,-23],[-19,-30],[-31,64],[-11,-27],[-7,25],[0,41],[-13,81],[-19,32],[-8,35],[-12,12],[-21,103],[-11,11],[-4,45],[-13,30],[-2,-30],[28,-89],[20,-114],[15,-24],[1,-25],[16,-14],[10,-96],[11,-53],[30,-4],[7,-36],[31,-24],[-14,-29],[-1,-37],[13,-8],[4,22],[8,-41],[5,-110],[-8,-90],[-18,63],[-21,45],[-9,-42],[11,-39],[7,-55],[9,-14],[-22,-24],[-18,-4],[6,-39],[22,11],[-2,-76],[14,12],[4,-31],[12,-20],[6,-49],[-9,-97],[-4,15],[-16,-18],[-15,-34],[-10,68],[-29,61],[-14,45],[4,48],[-13,71],[-22,-9],[-8,-25],[-10,46],[-18,11],[-4,23],[-21,-35],[11,-33],[12,8],[18,-13],[15,-55],[9,-2],[8,58],[8,-119],[1,-67],[22,-19],[25,-82],[1,-65],[27,4],[9,27],[1,-33],[9,-11],[-3,86],[17,6],[13,-29],[35,-36],[17,27],[11,-11],[8,-128],[12,-140],[9,-71],[7,-94]],[[15775,72069],[4,105],[10,72],[12,-52],[-2,-58],[19,-32],[-18,-27],[-5,-26],[-18,-12],[-2,30]],[[15740,73454],[0,40],[20,-41],[-17,-26],[-3,27]],[[15720,73667],[6,14],[26,-115],[-18,42],[-14,59]],[[15715,73495],[8,29],[12,-47],[-15,-33],[-5,51]],[[15707,73080],[13,89],[14,59],[2,55],[16,11],[7,-19],[0,-49],[19,-38],[3,-26],[-15,-19],[-17,15],[-1,-29],[-13,-34],[-14,-7],[3,-24],[23,10],[11,-42],[8,-84],[-4,-14],[10,-100],[8,27],[-5,67],[10,-3],[16,-57],[16,-13],[7,-94],[-8,-58],[-14,13],[-12,86],[-21,-25],[2,30],[-19,44],[3,93],[-5,56],[-18,-4],[-3,30],[-22,54]],[[15649,73739],[11,-4],[34,-53],[-8,-8],[-22,20],[-15,45]],[[15623,73630],[17,26],[2,-33],[-19,7]],[[15618,73982],[15,0],[4,-29],[-17,-2],[-2,31]],[[15586,73509],[7,30],[20,1],[2,-29],[15,-33],[17,-9],[-18,69],[37,108],[12,-2],[37,-58],[-19,-50],[11,-66],[-2,-62],[-11,-25],[4,-69],[-20,-12],[-15,50],[-9,-12],[-22,11],[-31,62],[-6,76],[-9,20]],[[15577,73617],[18,-10],[18,-54],[-30,41],[-6,23]],[[17306,73978],[-1,-290],[0,-441],[-2,-286],[0,-702],[1,-52],[0,-1247],[-7,-48],[20,-76],[8,-54],[0,-63],[12,-40],[-17,-93],[7,-11],[11,-93]],[[15490,70789],[-34,9],[-3,34],[-12,6],[-10,-31],[-13,10],[-19,-51],[-9,7],[-21,74],[-10,8],[-7,-47],[-10,-10],[6,139],[1,124],[-4,165],[13,-61],[-2,-100],[4,-137],[17,0],[1,37],[-10,40],[0,61],[12,-37],[14,83],[-19,116],[11,42],[25,53],[-17,37],[-6,-27],[-18,-2],[4,-23],[-16,4],[-20,44],[-1,55],[-11,130],[8,8],[6,-52],[11,31],[52,63],[-10,27],[-34,23],[-2,45],[-27,14],[-8,-24],[8,-90],[-16,-21],[3,38],[-4,206],[-14,176],[-24,80],[-9,207],[-5,77],[-15,162],[-14,36],[-4,55],[-14,23],[-5,31],[-19,29],[-12,110],[-8,101],[1,53],[-11,56],[12,58],[9,138],[-19,46],[3,22],[17,1],[40,-55],[32,-64],[10,-1],[25,-39],[6,12],[41,-55],[-1,-20],[35,-41],[56,-11],[21,13],[31,-37],[9,19],[10,-18],[24,7],[12,-32],[41,2],[32,71],[-3,-24],[22,-42],[7,-45],[17,17],[17,-5],[-3,-32],[14,-20],[1,-59],[10,6],[3,53],[-14,34],[0,40],[12,28],[21,10],[3,-31],[-15,-34],[10,-50],[7,6],[2,48],[10,14],[8,-100],[-15,-10],[11,-42],[8,-78],[13,-21],[-8,-25],[-16,2],[2,-42],[-17,-36],[-9,-113],[-14,-9],[11,113],[-6,17],[-19,-101],[-4,-53],[-21,-70],[-38,-183],[-13,-119],[12,8],[23,-13],[12,27],[21,17],[3,38],[-44,-62],[-17,27],[42,226],[31,74],[29,28],[3,73],[16,73],[31,68],[-9,97],[22,-40],[14,-187],[-22,0],[3,-40],[11,-14],[-4,-56],[7,-19],[0,-53],[-14,-38],[-1,-38],[15,-16],[-10,-48],[-6,-87],[4,-21],[-10,-57],[7,-49],[-15,-79],[-27,78],[8,96],[-16,-42],[-6,-63],[30,-83],[-10,-16],[1,-48],[-11,-26],[-16,46],[-20,105],[12,37],[1,61],[-7,25],[0,-51],[-12,-57],[7,-72],[-6,-48],[13,14],[11,-66],[27,-22],[11,37],[0,33],[13,16],[8,79],[10,53],[-2,30],[25,-58],[10,25],[-4,36],[27,34],[0,50],[-8,58],[-8,11],[6,35],[-10,40],[-7,71],[22,38],[-24,58],[16,82],[-6,91],[15,46],[9,119],[22,25],[-1,69],[-14,23],[-23,86],[1,74],[-10,49],[-15,4],[3,-24],[-11,-28],[10,-67],[18,-50],[1,-35],[-26,85],[-12,4],[-7,58],[2,77],[18,24],[16,-22],[10,42],[-10,45],[-28,45],[-13,48],[1,39],[-29,-33],[-7,33],[4,45],[-13,-17],[3,39],[24,28],[13,-15],[9,-49],[19,7],[-10,108],[17,6],[5,34],[-21,66],[-5,66],[8,44],[-13,30],[-17,-6],[-11,-41],[9,-44],[-19,40],[8,57],[-10,25],[-9,-14],[-1,65],[-21,54],[11,21],[-5,36],[-13,16],[16,54],[184,0],[97,-6],[145,5],[143,-2],[190,0],[169,0],[165,1],[178,0],[325,-2]],[[25685,69733],[6,80],[31,-17],[-23,-128],[-14,65]],[[25568,69555],[12,14],[2,-63],[-14,23],[0,26]],[[24707,71654],[8,83],[12,4],[-5,-75],[-15,-12]],[[24691,71507],[21,33],[-14,-47],[-7,14]],[[24655,71564],[5,21],[30,29],[5,-13],[-11,-48],[-24,-11],[-5,22]],[[24625,71464],[3,27],[20,41],[1,-19],[-24,-49]],[[24631,71609],[14,-54],[-13,-3],[-8,37],[7,20]],[[24621,71679],[35,36],[11,-55],[14,34],[2,-44],[-16,-9],[-17,-49],[-11,42],[-16,20],[-2,25]],[[24616,71401],[17,18],[32,86],[14,-32],[-30,-33],[5,-35],[-17,-4],[-20,-37],[-1,37]],[[24563,71635],[15,17],[-1,-44],[-14,27]],[[24276,71309],[20,-30],[34,11],[49,52],[19,27],[18,0],[48,70],[25,27],[6,26],[17,-22],[7,33],[25,10],[22,70],[14,-12],[14,35],[10,-4],[24,-81],[-14,-76],[-24,-78],[9,-73],[-16,-35],[-11,-77],[13,-16],[42,73],[5,54],[42,-108],[13,-22],[9,10],[25,-27]],[[25508,69434],[-10,-58],[-1,-80],[-37,-13],[-21,-40],[3,-47],[-11,-59],[-9,-15],[-11,-83],[-12,-42],[-7,-104],[3,-25],[-13,-50],[20,-42],[12,7],[7,53],[26,64],[10,3],[15,63],[0,36],[31,133],[26,36],[11,-7],[11,34],[15,-32],[-6,46],[12,97],[27,109],[7,100],[12,-5],[21,32],[1,59],[17,60],[22,-3],[-2,-87],[-16,-5],[-2,-142],[-12,-40],[-8,4],[-5,-53],[-14,-52],[5,-43],[-13,-39],[4,-26],[-18,-33],[-13,-62],[-8,-87],[-17,-107],[-9,-26],[-9,-62],[-21,-268],[9,-94],[-2,-71],[-12,-41],[-23,-46],[-3,-62],[-8,-37],[-14,-162],[2,-82],[8,-50],[-2,-102],[-21,-118],[-7,-136],[-20,-107],[-9,-156],[8,-76],[-5,-38],[8,-85],[-7,-57],[14,-62],[0,-85],[6,-63],[16,-59],[-4,-89],[-11,-107],[6,-145]],[[2682,386],[26,11],[1,-51],[-9,8],[-8,-28],[-10,60]],[[2636,452],[21,8],[-4,-21],[-13,-12],[-4,25]],[[2313,271],[13,35],[16,2],[19,68],[4,-20],[27,2],[4,-44],[-7,13],[-29,-30],[-23,-89],[-11,47],[-13,16]],[[90204,32599],[5,15],[34,16],[21,137],[6,65],[7,-11],[7,-43],[14,-11],[-10,-88],[-32,-109],[-9,-44],[-2,-111],[-12,-56],[-18,30],[-7,101],[8,50],[-12,59]],[[90597,35570],[10,43],[4,-16],[-8,-45],[-6,18]],[[90537,37432],[5,20],[1,-49],[-6,29]],[[90507,37973],[14,53],[0,59],[11,0],[0,-66],[-9,-13],[-10,-55],[-6,22]],[[90501,34555],[4,28],[2,101],[9,-12],[20,67],[5,-22],[-14,-80],[4,-63],[-13,7],[0,-73],[-12,18],[-5,29]],[[90487,38800],[6,39],[11,-28],[-1,-51],[-8,-23],[-7,25],[-1,38]],[[90486,35993],[20,2],[3,-36],[-19,-8],[-4,42]],[[90472,34420],[4,45],[13,54],[5,-54],[-4,-24],[7,-40],[-2,-61],[-9,-29],[-14,109]],[[90343,33382],[11,51],[21,35],[15,-9],[-2,-35],[-12,-13],[-8,-39],[-11,-6],[-5,23],[-9,-7]],[[28030,56345],[-13,-8],[-36,-51],[-27,-66],[-35,-121],[-18,-79],[-7,-45],[-16,-58],[-14,-93],[-13,-174],[3,-55],[-7,-48],[-14,-47],[-23,-41],[-9,-97],[-17,10],[-17,-16],[-11,39],[-16,-33],[-10,-63],[3,-31],[8,10],[0,-33],[-15,-20],[-18,-45],[-9,-52],[-34,-59],[-10,38],[-11,-7],[-1,-32],[17,-22],[-5,-59],[-25,-52],[-7,-40],[-10,5],[-24,-22],[-17,-59],[-6,18],[-36,-90],[-8,21],[-15,-28],[-2,30],[-13,-1],[-4,-42],[15,-83],[-7,-74],[-32,-62],[-19,-20],[-2,41],[-19,40],[-11,-22],[-2,-31],[12,-15],[14,-59],[-15,-65],[-25,-59],[-9,0],[-17,-67],[5,-21]],[[31708,38299],[11,-21],[12,13],[9,-36],[-17,-36],[-12,19],[-3,61]],[[31642,38028],[49,54],[35,-32],[-18,-26],[-21,-7],[-11,-24],[-8,12],[-17,-17],[-9,40]],[[31637,38350],[7,-14],[0,-44],[-7,58]],[[31170,38320],[15,18],[17,49],[-4,63],[7,32],[14,12],[20,-6],[17,-25],[50,2],[20,-22],[24,26],[18,-5],[25,-25],[8,20],[28,0],[27,-20],[16,1],[7,-19],[6,24],[37,-35],[4,19],[18,-18],[6,7],[31,-33],[14,-49],[7,13],[5,-27],[10,-6],[14,22],[-5,-40],[3,-84],[13,-30],[-7,-43],[-11,19],[3,-28],[-10,2],[-7,-32],[-13,1],[-11,-59],[-7,-83],[-8,-6],[-1,-44],[-25,-46],[-15,-9],[-12,12],[-7,-27],[-10,13],[-21,-43],[-10,9],[-9,-29],[-8,9],[-18,66],[-12,-10],[-7,-34],[-21,60],[-8,0],[-25,-33],[-14,24],[-12,-19],[-25,47],[-7,-39],[-14,-27],[-21,-3],[-12,-18],[-8,41],[-21,8],[-11,-32],[-19,19],[-12,-12],[1,53],[10,31],[-11,12],[3,65],[5,15],[1,75],[7,31],[-10,101],[-13,21],[-9,78]],[[30985,38023],[20,12],[5,-43],[-15,-38],[-12,32],[2,37]],[[31858,38286],[13,39],[11,-4],[15,-28],[-13,-4],[1,-49],[-9,20],[-13,-5],[-5,31]],[[31828,37522],[7,36],[-4,40],[7,30],[10,-13],[8,22],[17,3],[6,-29],[39,5],[2,-18],[-32,-48],[-41,-30],[-19,2]],[[31779,38288],[6,50],[10,-23],[12,26],[19,-21],[33,6],[-2,-23],[-14,-4],[9,-42],[-16,-11],[-15,23],[-7,-20],[-12,49],[-23,-10]],[[17306,73978],[171,1],[103,1]],[[18139,65823],[-119,3],[-36,-2],[-58,9],[-63,-7],[-79,0],[-293,0],[-184,5]],[[29478,69336],[71,5],[115,0],[40,-9],[62,-5],[57,2],[168,10]],[[25149,51924],[13,-63],[5,-76],[-3,-101],[-10,-105],[-4,3],[8,90],[4,100],[-1,46],[-12,106]],[[25020,51931],[11,38],[32,81],[2,-14],[-13,-63],[2,-28],[13,-33],[-15,-50],[-3,47],[-10,-10],[-17,10],[-2,22]],[[24941,51321],[17,10],[-9,-42],[-8,32]],[[24732,50824],[7,27],[13,-65],[-8,-14],[-12,52]],[[24681,50807],[39,-33],[-19,-8],[-20,41]],[[24628,50763],[25,19],[2,-17],[-26,-20],[-1,18]],[[24275,51386],[10,27],[12,-5],[3,26],[22,-6],[23,-61],[9,7],[6,-29],[-15,-36],[-1,-40],[-14,-19],[-59,115],[4,21]],[[24969,52072],[-17,-35],[-8,7],[-17,-56],[-2,-38],[-12,-15],[3,-40],[-28,17],[-11,-45],[5,-68],[18,-10],[13,25],[-4,-59],[8,-34],[15,-19],[13,11],[6,29],[5,101],[-2,13],[24,54],[3,44],[18,-34],[13,6],[0,-21],[-17,-34],[0,-34],[15,-17],[3,-61],[15,14],[11,82],[16,-25],[-4,-55],[-13,0],[-12,-44],[22,2],[-3,-29],[-31,-22],[13,-66],[11,22],[-7,-59],[-9,26],[-14,11],[-12,-55],[-1,-99],[-9,-5],[-6,86],[-11,1],[-2,-66],[13,-58],[-13,33],[-14,5],[-8,-17],[-15,6],[18,-39],[0,-32],[-23,49],[0,-25],[12,-32],[-12,-14],[1,-34],[11,-36],[20,-11],[-1,-22],[12,-24],[-1,-34],[7,-46],[9,30],[5,-21],[22,-2],[16,-34],[3,30],[20,-91],[11,44],[24,-111],[0,-59],[6,-13],[18,28],[7,-41],[-24,-15],[-2,-33],[16,-3],[-8,-52],[-11,24],[-12,-96],[2,-44],[-21,36],[-2,55],[-8,16],[-31,-138],[-15,-41],[7,67],[9,29],[5,48],[9,21],[0,54],[9,23],[-1,51],[-10,24],[-4,-62],[-16,-29],[-12,29],[-14,77],[-34,43],[-10,45],[-56,33],[-12,-14],[-48,-143],[-46,-115],[-7,10],[4,41],[-12,16],[-2,41],[6,3],[-12,100],[-11,27],[-9,-1],[1,-28],[-8,-36],[2,76],[-10,56],[-13,-64],[-14,14],[-7,-22],[-7,31],[-6,-27],[10,-63],[-12,4],[-7,-27],[-4,-54],[-8,7],[-5,-57],[-8,12],[-19,-33],[-6,-76],[-16,16],[5,21],[-13,67],[-18,57],[-11,-13],[-26,21],[-10,33],[-25,12],[-16,25],[-16,60],[12,14],[7,58],[8,-12],[12,-52],[7,22],[-1,-68],[15,-17],[-4,104],[-23,64],[0,42],[-11,7],[-9,-41],[-13,-13],[2,41],[-10,-7],[3,39],[9,28],[-10,40],[-29,-50],[-10,80],[-10,-8],[-6,118],[-26,1],[6,33],[1,85],[-32,16],[-13,-10],[-20,-38],[-7,57],[8,41],[8,-3],[-2,46],[-16,8],[-14,-22],[-9,20],[-2,-40],[-24,-36],[-14,-34],[-6,32],[-18,-16],[0,-32],[9,-30],[18,-8],[-9,-30],[8,-63],[20,21],[5,-18],[-13,-14],[6,-20],[-32,-6],[-26,-49],[-20,-9],[-82,63],[-35,42],[-57,101],[-23,32],[-41,40],[-33,5],[-14,-14],[-36,7],[-58,-25],[-17,-13],[-26,-53]],[[30097,65246],[-20,-46],[-6,102],[2,64],[-10,22],[2,-159],[-17,2],[-2,-35],[-10,-7],[-1,55],[16,95],[8,68],[17,46]],[[30029,65436],[5,7],[11,-52],[-5,-7],[-11,52]],[[30019,65203],[6,51],[-4,23],[5,57],[4,-20],[0,-85],[-11,-26]],[[29960,64853],[11,80],[5,-14],[1,-76],[-17,10]],[[30068,65494],[-3,-45],[-14,-41],[-6,42],[4,35],[-19,54],[-8,40],[5,-129],[-22,17],[12,-39],[1,-75],[-12,-11],[8,-53],[0,-72],[-10,-45],[-8,-73],[-12,6],[-27,-18],[-27,-34],[-38,-30],[-1,16]]]}});var cRe=Ae(g9=>{"use strict";m();var Y3t=g9&&g9.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(g9,"__esModule",{value:!0});g9.HTMLPointMapRenderer=void 0;var K3t=up(),J3t=Y3t(eW()),X3t=m9(),uRe=V0(),lRe=class extends X3t.HTMLChartRenderer{getDataValue(e){if(e.isNumber()||e.isString())return e.value;if(e.isTimestamp()||e.isDate())return(0,uRe.timeToString)(e.value,e.field.timeframe||K3t.TimestampTimeframe.Second);throw new Error("Invalid field type for point map chart.")}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp()||e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for point map.")}getVegaLiteSpec(e){if(e.isNull())throw new Error("Expected struct value not to be null.");let t=e.field.intrinsicFields,r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=s?this.getDataType(s):void 0,f=o?this.getDataType(o):void 0,p=a?this.getDataType(a):void 0,_=s!==void 0?{field:s.name,type:l,axis:{title:s.name},scale:(0,uRe.getColorScale)(l,!1)}:void 0,E=o?{field:o.name,type:f,axis:{title:o.name}}:{value:5},O=a?{field:a.name,type:p,axis:{title:a.name}}:{value:"circle"};return{...this.getSize(),data:{values:this.mapData(e)},projection:{type:"albersUsa"},layer:[{data:{values:J3t.default,format:{type:"topojson",feature:"states"}},mark:{type:"geoshape",fill:"#efefef",stroke:"white"}},{mark:"point",encoding:{latitude:{field:r.name,type:"quantitative"},longitude:{field:i.name,type:"quantitative"},size:E,color:_,shape:O}}],background:"transparent",config:{axis:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},legend:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},header:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500},mark:{font:"var(--malloy-Roboto"},title:{font:"var(--malloy-font-family, Roboto)",subtitleFont:"var(--malloy-font-family, Roboto)",fontWeight:500}}}}};g9.HTMLPointMapRenderer=lRe});var dRe=Ae(tW=>{"use strict";m();Object.defineProperty(tW,"__esModule",{value:!0});tW.HTMLScatterChartRenderer=void 0;var Z3t=kV(),fRe=class extends Z3t.HTMLCartesianChartRenderer{getMark(){return"point"}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp())return"temporal";if(e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for scatter chart.")}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for scatter chart.")}};tW.HTMLScatterChartRenderer=fRe});var pRe=Ae(y9=>{"use strict";m();var e5t=y9&&y9.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(y9,"__esModule",{value:!0});y9.HTMLSegmentMapRenderer=void 0;var t5t=e5t(eW()),n5t=m9(),r5t=V0(),hRe=class extends n5t.HTMLChartRenderer{getDataValue(e){if(e.isNull()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for segment map.")}getDataType(e){if(e.isAtomicField()){if(e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for segment map.")}getVegaLiteSpec(e){if(e.isNull())throw new Error("Expected struct value not to be null.");let t=e.field.intrinsicFields,r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=a?this.getDataType(a):void 0,f=a!==void 0?{field:a.name,type:l,axis:{title:a.name},scale:(0,r5t.getColorScale)(l,!1)}:void 0;return{...this.getSize(),data:{values:this.mapData(e)},projection:{type:"albersUsa"},layer:[{data:{values:t5t.default,format:{type:"topojson",feature:"states"}},mark:{type:"geoshape",fill:"lightgray",stroke:"white"}},{mark:"line",encoding:{latitude:{field:r.name,type:"quantitative"},longitude:{field:i.name,type:"quantitative"},latitude2:{field:s.name,type:"quantitative"},longitude2:{field:o.name,type:"quantitative"},color:f}}],background:"transparent",config:{axis:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},legend:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},header:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500},mark:{font:"var(--malloy-font-family, Roboto)"},title:{font:"var(--malloy-font-family, Roboto)",subtitleFont:"var(--malloy-font-family, Roboto)",fontWeight:500}}}}};y9.HTMLSegmentMapRenderer=hRe});var mRe=Ae(nW=>{"use strict";m();Object.defineProperty(nW,"__esModule",{value:!0});nW.STATE_CODES=void 0;nW.STATE_CODES={AL:"01",Alabama:"01",AK:"02",Alaska:"02",AZ:"04",Arizona:"04",AR:"05",Arkansas:"05",CA:"06",California:"06",CO:"08",Colorado:"08",CT:"09",Connecticut:"09",DE:"10",Delaware:"10",DC:"11","District of Columbia":"11",FL:"12",Florida:"12",GA:"13",Georgia:"13",HI:"15",Hawaii:"12",ID:"16",Idaho:"16",IL:"17",Illinois:"17",IN:"18",Indiana:"18",IA:"19",Iowa:"19",KS:"20",Kansas:"20",KY:"21",Kentucky:"21",LA:"22",Louisiana:"22",ME:"23",Maine:"23",MD:"24",Maryland:"24",MA:"25",Massachusetts:"25",MI:"26",Michigan:"26",MN:"27",Minnesota:"27",MS:"28",Mississippi:"28",MO:"29",Missouri:"29",MT:"30",Montana:"30",NE:"31",Nebraska:"31",NV:"32",Nevada:"32",NH:"33","New Hampshire":"33",NJ:"34","New Jersey":"34",NM:"35","New Mexico":"35",NY:"36","New York":"36",NC:"37","North Carolina":"37",ND:"38","North Dakota":"38",OH:"39",Ohio:"39",OK:"40",Oklahoma:"40",OR:"41",Oregon:"41",PA:"42",Pennsylvania:"42",RI:"44","Rhode Island":"44",SC:"45","South Carolina":"45",SD:"46","South Dakota":"46",TN:"47",Tennessee:"47",TX:"48",Texas:"48",UT:"49",Utah:"49",VT:"50",Vermont:"50",VA:"51",Virginia:"51",WA:"53",Washington:"53",WV:"54","West Virginia":"54",WI:"55",Wisconsin:"55",WY:"56",Wyoming:"56",PR:"72","Puerto Rico":"72",VI:"78",AS:"60",MP:"69",GU:"66"}});var yRe=Ae(v9=>{"use strict";m();var i5t=v9&&v9.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(v9,"__esModule",{value:!0});v9.HTMLShapeMapRenderer=void 0;var xRe=i5t(eW()),s5t=m9(),o5t=mRe(),a5t=V0(),gRe=class extends s5t.HTMLChartRenderer{getRegionField(e){return e.intrinsicFields[0]}getColorField(e){return e.intrinsicFields[1]}getDataValue(e){if(e.isNumber())return e.value;if(e.isString())if(e.field===this.getRegionField(e.field.parentExplore)){let t=o5t.STATE_CODES[e.value];return t===void 0?void 0:t}else return e.value;else{if(e.isNull())return;throw new Error("Invalid field type for shape map.")}}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp())return"nominal";if(e.isString())return e===this.getRegionField(e.parentExplore)?"quantitative":"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for shape map.")}getVegaLiteSpec(e){if(e.isNull())throw new Error("Expected struct value not to be null.");if(!e.isArray())throw new Error("Invalid data for shape map");let t=this.getRegionField(e.field),r=this.getColorField(e.field),i=r?this.getDataType(r):void 0,s=r!==void 0?{field:r.name,type:i,axis:{title:r.name},scale:(0,a5t.getColorScale)(i,!1)}:void 0,o=this.mapData(e).filter(a=>a[t.name]!==void 0);return{...this.getSize(),data:{values:o},projection:{type:"albersUsa"},layer:[{data:{values:xRe.default,format:{type:"topojson",feature:"states"}},mark:{type:"geoshape",fill:"#efefef",stroke:"white"}},{transform:[{lookup:t.name,from:{data:{values:xRe.default,format:{type:"topojson",feature:"states"}},key:"id"},as:"geo"}],mark:"geoshape",encoding:{shape:{field:"geo",type:"geojson"},color:s}}],background:"transparent",config:{axis:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},legend:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},header:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500},mark:{font:"var(--malloy-font-family, Roboto)"},title:{font:"var(--malloy-font-family, Roboto)",subtitleFont:"var(--malloy-font-family, Roboto)",fontWeight:500}}}}};v9.HTMLShapeMapRenderer=gRe});var bRe=Ae(iW=>{"use strict";m();Object.defineProperty(iW,"__esModule",{value:!0});iW.HTMLTableRenderer=void 0;var u5t=qle(),l5t=yN(),vRe=$V(),_Re=V0(),rW=class extends l5t.ContainerRenderer{constructor(){super(...arguments);this.childrenStyleDefaults={size:"medium"}}async render(e){if(!e.isArray()&&!e.isRecord())throw new Error("Invalid type for Table Renderer");let t=this.document.createElement("tr");if(e.field.intrinsicFields.forEach(o=>{let a=o.name,f=this.childRenderers[a]instanceof vRe.HTMLNumberRenderer,p=this.document.createElement("th");p.style.cssText=`
        padding: 8px;
        color: var(--malloy-title-color, #505050);
        border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
        text-align: ${f?"right":"left"};
      `,p.innerHTML=a.replace(/_/g,"_&#8203;"),t.appendChild(p)}),this.options.isDrillingEnabled){let o=this.document.createElement("th");o.style.cssText=`
        padding: 8px;
        color: var(--malloy-title-color, #505050);
        border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
        width: 25px;
      `,t.appendChild(o)}let r=this.document.createElement("tbody");for(let o of e){let a=this.document.createElement("tr");for(let l of e.field.intrinsicFields){let f=this.childRenderers[l.name],p=f instanceof vRe.HTMLNumberRenderer;await(0,_Re.yieldTask)();let _=await f.render(o.cell(l)),E=this.document.createElement("td");E.style.cssText=`
          padding: ${f instanceof rW?"0":"8px"};
          vertical-align: top;
          border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
          ${p?"text-align: right;":""}
        `,E.appendChild(_),a.appendChild(E)}if(this.options.isDrillingEnabled){let l=this.document.createElement("td"),f=(0,_Re.createDrillIcon)(this.document);l.appendChild(f),l.style.cssText=`
          padding: 8px;
          vertical-align: top;
          border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
          width: 25px;
          cursor: pointer
        `,l.onclick=()=>{if(this.options.onDrill){let{drillQuery:p,drillFilters:_}=(0,u5t.getDrillQuery)(o);this.options.onDrill(p,f,_)}},a.appendChild(l)}r.appendChild(a)}let i=this.document.createElement("table");i.style.cssText=`
      border: 1px solid var(--malloy-border-color, #eaeaea);
      vertical-align: top;
      border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
      border-collapse: collapse;
      width: 100%;
    `;let s=this.document.createElement("thead");return s.appendChild(t),i.appendChild(s),i.appendChild(r),i}};iW.HTMLTableRenderer=rW});var Ule=Ae($4=>{"use strict";m();Object.defineProperty($4,"__esModule",{value:!0});$4.makeRenderer=$4.JSONView=$4.HTMLView=void 0;var sW=up(),ERe=COe(),c5t=FOe(),SRe=OOe(),f5t=NOe(),d5t=kOe(),h5t=POe(),p5t=WOe(),m5t=YOe(),x5t=XOe(),g5t=eRe(),y5t=rRe(),v5t=Vle(),_5t=aRe(),b5t=$V(),E5t=cRe(),S5t=dRe(),w5t=pRe(),C5t=yRe(),A5t=bRe(),T5t=pE(),wRe=Ble(),oW=yN(),aW=V0(),CRe=class{constructor(e){this.document=e}async render(e,t){let r=TRe(e.field,this.document,t,{size:"large"});try{return await r.render(e)}catch(i){return i instanceof Error?(0,aW.createErrorElement)(this.document,i):(0,aW.createErrorElement)(this.document,"Internal error - Exception not an Error object.")}}};$4.HTMLView=CRe;var ARe=class{constructor(e){this.document=e}async render(e){let t=new SRe.HTMLJSONRenderer(this.document);try{return await t.render(e)}catch(r){return r instanceof Error?(0,aW.createErrorElement)(this.document,r):(0,aW.createErrorElement)(this.document,"Internal error - Exception not an Error object.")}}};$4.JSONView=ARe;function F5t(n,e){let t=e[n.name];if(!t)for(let r of n.sourceClasses)t||(t=e[r]);return t}function uW(n){if(n.isExplore())return n;throw new Error(`${n.name} does not contain fields and cannot be rendered this way`)}function TRe(n,e,t,r){let i=F5t(n,t.dataStyles)||{};if(i.renderer==="shape_map"||n.name.endsWith("_shape_map"))return new C5t.HTMLShapeMapRenderer(e,r,i);if(i.renderer==="point_map"||n.name.endsWith("_point_map"))return new E5t.HTMLPointMapRenderer(e,r);if(i.renderer==="image"||n.name.endsWith("_image"))return new m5t.HTMLImageRenderer(e);if(i.renderer==="segment_map"||n.name.endsWith("_segment_map"))return new w5t.HTMLSegmentMapRenderer(e,r,i);if(i.renderer==="dashboard"||n.name.endsWith("_dashboard"))return oW.ContainerRenderer.make(p5t.HTMLDashboardRenderer,e,uW(n),t);if(i.renderer==="json"||n.name.endsWith("_json"))return new SRe.HTMLJSONRenderer(e);if(i.renderer==="line_chart"||n.name.endsWith("_line_chart"))return new g5t.HTMLLineChartRenderer(e,r,i);if(i.renderer==="scatter_chart"||n.name.endsWith("_scatter_chart"))return new S5t.HTMLScatterChartRenderer(e,r);if(i.renderer==="bar_chart")return new ERe.HTMLBarChartRenderer(e,r,i);if(n.name.endsWith("_bar_chart"))return new ERe.HTMLBarChartRenderer(e,r,{});if(i.renderer==="vega"){let s=i.spec;if(s)return new wRe.HTMLVegaSpecRenderer(e,r,s);if(i.spec_name){let o=t.dataStyles[i.spec_name];if(o!==void 0&&o.renderer==="vega"){if(o.spec)return new wRe.HTMLVegaSpecRenderer(e,r,o.spec);throw new Error(`No spec defined on ${i.spec_name}`)}else throw new Error(`No Vega renderer named ${i.spec_name}`)}else throw new Error(`No top level vega spec defined for ${n.name}`)}else return i.renderer==="time"||n.hasParentExplore()&&n.isAtomicField()&&(n.type===sW.AtomicFieldType.Date||n.type===sW.AtomicFieldType.Timestamp)?new x5t.HTMLDateRenderer(e):i.renderer==="currency"?new d5t.HTMLCurrencyRenderer(e):i.renderer==="percent"?new h5t.HTMLPercentRenderer(e):i.renderer==="number"||n.hasParentExplore()&&n.isAtomicField()&&n.type===sW.AtomicFieldType.Number?new b5t.HTMLNumberRenderer(e):i.renderer==="bytes"?new f5t.HTMLBytesRenderer(e):i.renderer==="boolean"||n.hasParentExplore()&&n.isAtomicField()&&n.type===sW.AtomicFieldType.Boolean?new c5t.HTMLBooleanRenderer(e):i.renderer==="link"||n.name.endsWith("_url")?new y5t.HTMLLinkRenderer(e):i.renderer==="list"||n.name.endsWith("_list")?oW.ContainerRenderer.make(v5t.HTMLListRenderer,e,uW(n),t):i.renderer==="list_detail"||n.name.endsWith("_list_detail")?oW.ContainerRenderer.make(_5t.HTMLListDetailRenderer,e,uW(n),t):i.renderer==="table"||!n.hasParentExplore()||n.isExploreField()?oW.ContainerRenderer.make(A5t.HTMLTableRenderer,e,uW(n),t):new T5t.HTMLTextRenderer(e)}$4.makeRenderer=TRe});var DRe=Ae(_9=>{"use strict";m();Object.defineProperty(_9,"__esModule",{value:!0});_9.JSONView=_9.HTMLView=void 0;var FRe=Ule();Object.defineProperty(_9,"HTMLView",{enumerable:!0,get:function(){return FRe.HTMLView}});Object.defineProperty(_9,"JSONView",{enumerable:!0,get:function(){return FRe.JSONView}})});var BRe=Ae((aGt,PRe)=>{m();PRe.exports=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}});var QRe=Ae((uGt,WRe)=>{"use strict";m();var fW=Object.prototype.hasOwnProperty,jRe=Object.prototype.toString,qRe=Object.defineProperty,URe=Object.getOwnPropertyDescriptor,$Re=function(e){return typeof Array.isArray=="function"?Array.isArray(e):jRe.call(e)==="[object Array]"},zRe=function(e){if(!e||jRe.call(e)!=="[object Object]")return!1;var t=fW.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&fW.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!r)return!1;var i;for(i in e);return typeof i=="undefined"||fW.call(e,i)},HRe=function(e,t){qRe&&t.name==="__proto__"?qRe(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},VRe=function(e,t){if(t==="__proto__")if(fW.call(e,t)){if(URe)return URe(e,t).value}else return;return e[t]};WRe.exports=function n(){var e,t,r,i,s,o,a=arguments[0],l=1,f=arguments.length,p=!1;for(typeof a=="boolean"&&(p=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<f;++l)if(e=arguments[l],e!=null)for(t in e)r=VRe(a,t),i=VRe(e,t),a!==i&&(p&&i&&(zRe(i)||(s=$Re(i)))?(s?(s=!1,o=r&&$Re(r)?r:[]):o=r&&zRe(r)?r:{},HRe(a,{name:t,newValue:n(p,o,i)})):typeof i!="undefined"&&HRe(a,{name:t,newValue:i}));return a}});var KRe=Ae((fGt,YRe)=>{m();YRe.exports=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}});var UNe=Ae((WJt,qNe)=>{"use strict";m();var D4t={}.hasOwnProperty;qNe.exports=D4t});var zNe=Ae((QJt,$Ne)=>{"use strict";m();var O4t=[].splice;$Ne.exports=O4t});var VNe=Ae((GJt,HNe)=>{"use strict";m();var Ace=zNe();function R4t(n,e,t,r){var i=n.length,s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(e,t),Ace.apply(n,o);else for(t&&Ace.apply(n,[e,t]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),Ace.apply(n,o),s+=1e4,e+=1e4}HNe.exports=R4t});var QNe=Ae((YJt,WNe)=>{"use strict";m();function N4t(n){return n==null?[]:"length"in n?n:[n]}WNe.exports=N4t});var KNe=Ae((KJt,YNe)=>{"use strict";m();var GNe=UNe(),L4t=VNe(),k4t=QNe();function I4t(n){for(var e={},t=-1;++t<n.length;)M4t(e,n[t]);return e}function M4t(n,e){var t,r,i,s;for(t in e){r=GNe.call(n,t)?n[t]:n[t]={},i=e[t];for(s in i)r[s]=P4t(k4t(i[s]),GNe.call(r,s)?r[s]:[])}}function P4t(n,e){for(var t=-1,r=[];++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);return L4t(e,0,0,r),e}YNe.exports=I4t});var XNe=Ae((JJt,JNe)=>{"use strict";m();var B4t=String.fromCharCode;JNe.exports=B4t});var FN=Ae((XJt,ZNe)=>{"use strict";m();var j4t=XNe();function q4t(n){return e;function e(t){return n.test(j4t(t))}}ZNe.exports=q4t});var tLe=Ae((ZJt,eLe)=>{"use strict";m();var U4t=FN(),$4t=U4t(/[A-Za-z]/);eLe.exports=$4t});var rLe=Ae((eXt,nLe)=>{"use strict";m();var z4t=FN(),H4t=z4t(/[\dA-Za-z]/);nLe.exports=H4t});var sLe=Ae((tXt,iLe)=>{"use strict";m();function V4t(n){return n<32||n===127}iLe.exports=V4t});var aLe=Ae((nXt,oLe)=>{"use strict";m();function W4t(n){return n<-2}oLe.exports=W4t});var lLe=Ae((rXt,uLe)=>{"use strict";m();var Q4t=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;uLe.exports=Q4t});var fLe=Ae((iXt,cLe)=>{"use strict";m();var G4t=lLe(),Y4t=FN(),K4t=Y4t(G4t);cLe.exports=K4t});var hLe=Ae((sXt,dLe)=>{"use strict";m();var J4t=FN(),X4t=J4t(/\s/);dLe.exports=X4t});var DLe=Ae(FLe=>{m();var pLe=tLe(),mLe=rLe(),xLe=sLe(),Z4t=aLe(),gLe=fLe(),yLe=hLe(),e_t={tokenize:i_t,partial:!0},vLe={tokenize:s_t,partial:!0},_Le={tokenize:o_t,partial:!0},w9={tokenize:u_t,partial:!0},bLe={tokenize:a_t,partial:!0},ELe={tokenize:n_t,previous:ALe},SLe={tokenize:r_t,previous:Fce},e3={tokenize:t_t,previous:TLe},Xx={};FLe.text=Xx;var vE=48;for(;vE<123;)Xx[vE]=e3,vE++,vE===58?vE=65:vE===91&&(vE=97);Xx[43]=e3;Xx[45]=e3;Xx[46]=e3;Xx[95]=e3;Xx[72]=[e3,SLe];Xx[104]=[e3,SLe];Xx[87]=[e3,ELe];Xx[119]=[e3,ELe];function t_t(n,e,t){var r=this,i;return s;function s(E){return!CLe(E)||!TLe(r.previous)||Dce(r.events)?t(E):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),o(E))}function o(E){return CLe(E)?(n.consume(E),o):E===64?(n.consume(E),a):t(E)}function a(E){return E===46?n.check(w9,_,l)(E):E===45||E===95?n.check(w9,t,f)(E):mLe(E)?(n.consume(E),a):_(E)}function l(E){return n.consume(E),i=!0,a}function f(E){return n.consume(E),p}function p(E){return E===46?n.check(w9,t,l)(E):a(E)}function _(E){return i?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),e(E)):t(E)}}function n_t(n,e,t){var r=this;return i;function i(o){return o!==87&&o-32!==87||!ALe(r.previous)||Dce(r.events)?t(o):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(e_t,n.attempt(vLe,n.attempt(_Le,s),t),t)(o))}function s(o){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),e(o)}}function r_t(n,e,t){var r=this;return i;function i(R){return R!==72&&R-32!==72||!Fce(r.previous)||Dce(r.events)?t(R):(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),n.consume(R),s)}function s(R){return R===84||R-32===84?(n.consume(R),o):t(R)}function o(R){return R===84||R-32===84?(n.consume(R),a):t(R)}function a(R){return R===80||R-32===80?(n.consume(R),l):t(R)}function l(R){return R===83||R-32===83?(n.consume(R),f):f(R)}function f(R){return R===58?(n.consume(R),p):t(R)}function p(R){return R===47?(n.consume(R),_):t(R)}function _(R){return R===47?(n.consume(R),E):t(R)}function E(R){return xLe(R)||yLe(R)||gLe(R)?t(R):n.attempt(vLe,n.attempt(_Le,O),t)(R)}function O(R){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),e(R)}}function i_t(n,e,t){return r;function r(l){return n.consume(l),i}function i(l){return l===87||l-32===87?(n.consume(l),s):t(l)}function s(l){return l===87||l-32===87?(n.consume(l),o):t(l)}function o(l){return l===46?(n.consume(l),a):t(l)}function a(l){return l===null||Z4t(l)?t(l):e(l)}}function s_t(n,e,t){var r,i;return s;function s(l){return l===38?n.check(bLe,a,o)(l):l===46||l===95?n.check(w9,a,o)(l):xLe(l)||yLe(l)||l!==45&&gLe(l)?a(l):(n.consume(l),s)}function o(l){return l===46?(i=r,r=void 0,n.consume(l),s):(l===95&&(r=!0),n.consume(l),s)}function a(l){return!i&&!r?e(l):t(l)}}function o_t(n,e){var t=0;return r;function r(o){return o===38?n.check(bLe,e,i)(o):(o===40&&t++,o===41?n.check(w9,s,i)(o):Tce(o)?e(o):wLe(o)?n.check(w9,e,i)(o):(n.consume(o),r))}function i(o){return n.consume(o),r}function s(o){return t--,t<0?e(o):i(o)}}function a_t(n,e,t){return r;function r(o){return n.consume(o),i}function i(o){return pLe(o)?(n.consume(o),i):o===59?(n.consume(o),s):t(o)}function s(o){return Tce(o)?e(o):t(o)}}function u_t(n,e,t){return r;function r(s){return n.consume(s),i}function i(s){return wLe(s)?(n.consume(s),i):Tce(s)?e(s):t(s)}}function wLe(n){return n===33||n===34||n===39||n===41||n===42||n===44||n===46||n===58||n===59||n===60||n===63||n===95||n===126}function Tce(n){return n===null||n<0||n===32||n===60}function CLe(n){return n===43||n===45||n===46||n===95||mLe(n)}function ALe(n){return n===null||n<0||n===32||n===40||n===42||n===95||n===126}function Fce(n){return n===null||!pLe(n)}function TLe(n){return n!==47&&Fce(n)}function Dce(n){for(var e=n.length;e--;)if((n[e][1].type==="labelLink"||n[e][1].type==="labelImage")&&!n[e][1]._balanced)return!0}});var RLe=Ae((aXt,OLe)=>{m();OLe.exports=DLe()});var LLe=Ae((uXt,NLe)=>{"use strict";m();function l_t(n){return n<0||n===32}NLe.exports=l_t});var ILe=Ae((lXt,kLe)=>{"use strict";m();var c_t=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;kLe.exports=c_t});var PLe=Ae((cXt,MLe)=>{"use strict";m();var f_t=String.fromCharCode;MLe.exports=f_t});var Oce=Ae((fXt,BLe)=>{"use strict";m();var d_t=PLe();function h_t(n){return e;function e(t){return n.test(d_t(t))}}BLe.exports=h_t});var qLe=Ae((dXt,jLe)=>{"use strict";m();var p_t=ILe(),m_t=Oce(),x_t=m_t(p_t);jLe.exports=x_t});var $Le=Ae((hXt,ULe)=>{"use strict";m();var g_t=Oce(),y_t=g_t(/\s/);ULe.exports=y_t});var HLe=Ae((pXt,zLe)=>{"use strict";m();var v_t=LLe(),__t=qLe(),b_t=$Le();function E_t(n){if(n===null||v_t(n)||b_t(n))return 1;if(__t(n))return 2}zLe.exports=E_t});var WLe=Ae((mXt,VLe)=>{"use strict";m();var S_t=[].splice;VLe.exports=S_t});var GLe=Ae((xXt,QLe)=>{"use strict";m();var Rce=WLe();function w_t(n,e,t,r){var i=n.length,s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(e,t),Rce.apply(n,o);else for(t&&Rce.apply(n,[e,t]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),Rce.apply(n,o),s+=1e4,e+=1e4}QLe.exports=w_t});var KLe=Ae((gXt,YLe)=>{"use strict";m();function C_t(n,e,t){for(var r=[],i=-1,s;++i<n.length;)s=n[i].resolveAll,s&&r.indexOf(s)<0&&(e=s(e,t),r.push(s));return e}YLe.exports=C_t});var XLe=Ae((yXt,JLe)=>{"use strict";m();var A_t=Object.assign;JLe.exports=A_t});var eke=Ae((vXt,ZLe)=>{"use strict";m();var T_t=XLe();function F_t(n){return T_t({},n)}ZLe.exports=F_t});var rke=Ae((_Xt,nke)=>{m();nke.exports=O_t;var tke=HLe(),Nce=GLe(),D_t=KLe(),SW=eke();function O_t(n){var e=n||{},t=e.singleTilde,r={tokenize:o,resolveAll:i};return t==null&&(t=!0),{text:{126:r},insideSpan:{null:r}};function i(a,l){for(var f=-1,p,_,E,O;++f<a.length;)if(a[f][0]==="enter"&&a[f][1].type==="strikethroughSequenceTemporary"&&a[f][1]._close){for(E=f;E--;)if(a[E][0]==="exit"&&a[E][1].type==="strikethroughSequenceTemporary"&&a[E][1]._open&&a[f][1].end.offset-a[f][1].start.offset===a[E][1].end.offset-a[E][1].start.offset){a[f][1].type="strikethroughSequence",a[E][1].type="strikethroughSequence",p={type:"strikethrough",start:SW(a[E][1].start),end:SW(a[f][1].end)},_={type:"strikethroughText",start:SW(a[E][1].end),end:SW(a[f][1].start)},O=[["enter",p,l],["enter",a[E][1],l],["exit",a[E][1],l],["enter",_,l]],Nce(O,O.length,0,D_t(l.parser.constructs.insideSpan.null,a.slice(E+1,f),l)),Nce(O,O.length,0,[["exit",_,l],["enter",a[f][1],l],["exit",a[f][1],l],["exit",p,l]]),Nce(a,E-1,f-E+3,O),f=E+O.length-2;break}}return s(a)}function s(a){for(var l=-1,f=a.length;++l<f;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function o(a,l,f){var p=this.previous,_=this.events,E=0;return O;function O(q){return q!==126||p===126&&_[_.length-1][1].type!=="characterEscape"?f(q):(a.enter("strikethroughSequenceTemporary"),R(q))}function R(q){var z=tke(p),L,B;return q===126?E>1?f(q):(a.consume(q),E++,R):E<2&&!t?f(q):(L=a.exit("strikethroughSequenceTemporary"),B=tke(q),L._open=!B||B===2&&z,L._close=!z||z===2&&B,l(q))}}}});var ske=Ae((bXt,ike)=>{"use strict";m();function R_t(n){return n===-2||n===-1||n===32}ike.exports=R_t});var uke=Ae((EXt,ake)=>{"use strict";m();var oke=ske();function N_t(n,e,t,r){var i=r?r-1:1/0,s=0;return o;function o(l){return oke(l)?(n.enter(t),a(l)):e(l)}function a(l){return oke(l)&&s++<i?(n.consume(l),a):(n.exit(t),e(l))}}ake.exports=N_t});var fke=Ae(cke=>{m();cke.flow={null:{tokenize:I_t,resolve:k_t,interruptible:!0}};var Lce=uke(),L_t={tokenize:M_t,partial:!0},lke={tokenize:P_t,partial:!0};function k_t(n,e){for(var t=n.length,r=-1,i,s,o,a,l,f,p,_,E,O;++r<t;)i=n[r][1],a&&(i.type==="temporaryTableCellContent"&&(_=_||r,E=r),(i.type==="tableCellDivider"||i.type==="tableRow")&&E&&(f={type:"tableContent",start:n[_][1].start,end:n[E][1].end},p={type:"chunkText",start:f.start,end:f.end,contentType:"text"},n.splice(_,E-_+1,["enter",f,e],["enter",p,e],["exit",p,e],["exit",f,e]),r-=E-_-3,t=n.length,_=void 0,E=void 0)),n[r][0]==="exit"&&O&&O+1<r&&(i.type==="tableCellDivider"||i.type==="tableRow"&&(O+3<r||n[O][1].type!=="whitespace"))&&(l={type:o?"tableDelimiter":s?"tableHeader":"tableData",start:n[O][1].start,end:n[r][1].end},n.splice(r+(i.type==="tableCellDivider"?1:0),0,["exit",l,e]),n.splice(O,0,["enter",l,e]),r+=2,t=n.length,O=r+1),i.type==="tableRow"&&(a=n[r][0]==="enter",a&&(O=r+1)),i.type==="tableDelimiterRow"&&(o=n[r][0]==="enter",o&&(O=r+1)),i.type==="tableHead"&&(s=n[r][0]==="enter");return n}function I_t(n,e,t){var r=[],i=0,s,o;return a;function a(te){return te===null||te===-5||te===-4||te===-3?t(te):(n.enter("table")._align=r,n.enter("tableHead"),n.enter("tableRow"),te===124?l(te):(i++,n.enter("temporaryTableCellContent"),_(te)))}function l(te){return n.enter("tableCellDivider"),n.consume(te),n.exit("tableCellDivider"),s=!0,f}function f(te){return te===null||te===-5||te===-4||te===-3?O(te):te===-2||te===-1||te===32?(n.enter("whitespace"),n.consume(te),p):(s&&(s=void 0,i++),te===124?l(te):(n.enter("temporaryTableCellContent"),_(te)))}function p(te){return te===-2||te===-1||te===32?(n.consume(te),p):(n.exit("whitespace"),f(te))}function _(te){return te===null||te<0||te===32||te===124?(n.exit("temporaryTableCellContent"),f(te)):(n.consume(te),te===92?E:_)}function E(te){return te===92||te===124?(n.consume(te),_):_(te)}function O(te){return te===null?t(te):(n.exit("tableRow"),n.exit("tableHead"),n.enter("lineEnding"),n.consume(te),n.exit("lineEnding"),n.check(L_t,t,Lce(n,R,"linePrefix",4)))}function R(te){return te===null||te<0||te===32?t(te):(n.enter("tableDelimiterRow"),q(te))}function q(te){return te===null||te===-5||te===-4||te===-3?G(te):te===-2||te===-1||te===32?(n.enter("whitespace"),n.consume(te),z):te===45?(n.enter("tableDelimiterFiller"),n.consume(te),o=!0,r.push(null),L):te===58?(n.enter("tableDelimiterAlignment"),n.consume(te),n.exit("tableDelimiterAlignment"),r.push("left"),B):te===124?(n.enter("tableCellDivider"),n.consume(te),n.exit("tableCellDivider"),q):t(te)}function z(te){return te===-2||te===-1||te===32?(n.consume(te),z):(n.exit("whitespace"),q(te))}function L(te){return te===45?(n.consume(te),L):(n.exit("tableDelimiterFiller"),te===58?(n.enter("tableDelimiterAlignment"),n.consume(te),n.exit("tableDelimiterAlignment"),r[r.length-1]=r[r.length-1]==="left"?"center":"right",P):q(te))}function B(te){return te===45?(n.enter("tableDelimiterFiller"),n.consume(te),o=!0,L):t(te)}function P(te){return te===null||te===-5||te===-4||te===-3?G(te):te===-2||te===-1||te===32?(n.enter("whitespace"),n.consume(te),z):te===124?(n.enter("tableCellDivider"),n.consume(te),n.exit("tableCellDivider"),q):t(te)}function G(te){return n.exit("tableDelimiterRow"),!o||i!==r.length?t(te):te===null?ue(te):n.check(lke,ue,I)(te)}function ue(te){return n.exit("table"),e(te)}function I(te){return n.enter("lineEnding"),n.consume(te),n.exit("lineEnding"),Lce(n,J,"linePrefix",4)}function J(te){return n.enter("tableBody"),he(te)}function he(te){return n.enter("tableRow"),te===124?ye(te):(n.enter("temporaryTableCellContent"),ct(te))}function ye(te){return n.enter("tableCellDivider"),n.consume(te),n.exit("tableCellDivider"),He}function He(te){return te===null||te===-5||te===-4||te===-3?Et(te):te===-2||te===-1||te===32?(n.enter("whitespace"),n.consume(te),at):te===124?ye(te):(n.enter("temporaryTableCellContent"),ct(te))}function at(te){return te===-2||te===-1||te===32?(n.consume(te),at):(n.exit("whitespace"),He(te))}function ct(te){return te===null||te<0||te===32||te===124?(n.exit("temporaryTableCellContent"),He(te)):(n.consume(te),te===92?Ze:ct)}function Ze(te){return te===92||te===124?(n.consume(te),ct):ct(te)}function Et(te){return n.exit("tableRow"),te===null?Mt(te):n.check(lke,Mt,qe)(te)}function Mt(te){return n.exit("tableBody"),ue(te)}function qe(te){return n.enter("lineEnding"),n.consume(te),n.exit("lineEnding"),Lce(n,he,"linePrefix",4)}}function M_t(n,e,t){return r;function r(o){return o!==45?t(o):(n.enter("setextUnderline"),i(o))}function i(o){return o===45?(n.consume(o),i):s(o)}function s(o){return o===-2||o===-1||o===32?(n.consume(o),s):o===null||o===-5||o===-4||o===-3?e(o):t(o)}}function P_t(n,e,t){var r=0;return i;function i(o){return n.enter("check"),n.consume(o),s}function s(o){return o===-1||o===32?(n.consume(o),r++,r===4?e:s):o===null||o<0?e(o):t(o)}}});var hke=Ae((wXt,dke)=>{m();dke.exports=fke()});var mke=Ae((CXt,pke)=>{"use strict";m();function B_t(n){return n<0||n===32}pke.exports=B_t});var gke=Ae((AXt,xke)=>{"use strict";m();function j_t(n){return n===-2||n===-1||n===32}xke.exports=j_t});var _ke=Ae((TXt,vke)=>{"use strict";m();var yke=gke();function q_t(n,e,t,r){var i=r?r-1:1/0,s=0;return o;function o(l){return yke(l)?(n.enter(t),a(l)):e(l)}function a(l){return yke(l)&&s++<i?(n.consume(l),a):(n.exit(t),e(l))}}vke.exports=q_t});var Eke=Ae((FXt,bke)=>{"use strict";m();function U_t(n){for(var e=-1,t=0;++e<n.length;)t+=typeof n[e]=="string"?n[e].length:1;return t}bke.exports=U_t});var wke=Ae((DXt,Ske)=>{"use strict";m();var $_t=Eke();function z_t(n,e){var t=n[n.length-1];return!t||t[1].type!==e?0:$_t(t[2].sliceStream(t[1]))}Ske.exports=z_t});var Ake=Ae(Cke=>{m();var H_t=mke(),V_t=_ke(),W_t=wke(),Q_t={tokenize:G_t};Cke.text={91:Q_t};function G_t(n,e,t){var r=this;return i;function i(a){return a!==91||r.previous!==null||!r._gfmTasklistFirstContentOfListItem?t(a):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(a),n.exit("taskListCheckMarker"),s)}function s(a){return a===-2||a===32?(n.enter("taskListCheckValueUnchecked"),n.consume(a),n.exit("taskListCheckValueUnchecked"),o):a===88||a===120?(n.enter("taskListCheckValueChecked"),n.consume(a),n.exit("taskListCheckValueChecked"),o):t(a)}function o(a){return a===93?(n.enter("taskListCheckMarker"),n.consume(a),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),n.check({tokenize:Y_t},e,t)):t(a)}}function Y_t(n,e,t){var r=this;return V_t(n,i,"whitespace");function i(s){return W_t(r.events,"whitespace")&&s!==null&&!H_t(s)?e(s):t(s)}}});var Fke=Ae((RXt,Tke)=>{m();Tke.exports=Ake()});var Oke=Ae((NXt,Dke)=>{m();var K_t=KNe(),J_t=RLe(),X_t=rke(),Z_t=hke(),e6t=Fke();Dke.exports=t6t;function t6t(n){return K_t([J_t,X_t(n),Z_t,e6t])}});var Nke=Ae((LXt,Rke)=>{m();Rke.exports=Oke()});var kke=Ae((kXt,Lke)=>{"use strict";m();Lke.exports=n6t;function n6t(n,e){var t=String(n),r=0,i;if(typeof e!="string")throw new Error("Expected character");for(i=t.indexOf(e);i!==-1;)r++,i=t.indexOf(e,i+e.length);return r}});var kce=Ae((IXt,Mke)=>{"use strict";m();Mke.exports=Ike;function Ike(n){if(n==null)return o6t;if(typeof n=="string")return s6t(n);if(typeof n=="object")return"length"in n?i6t(n):r6t(n);if(typeof n=="function")return n;throw new Error("Expected function, string, or object as test")}function r6t(n){return e;function e(t){var r;for(r in n)if(t[r]!==n[r])return!1;return!0}}function i6t(n){for(var e=[],t=-1;++t<n.length;)e[t]=Ike(n[t]);return r;function r(){for(var i=-1;++i<e.length;)if(e[i].apply(this,arguments))return!0;return!1}}function s6t(n){return e;function e(t){return Boolean(t&&t.type===n)}}function o6t(){return!0}});var Bke=Ae((MXt,Pke)=>{m();Pke.exports=a6t;function a6t(n){return n}});var $ke=Ae((PXt,Uke)=>{"use strict";m();Uke.exports=wW;var u6t=kce(),l6t=Bke(),jke=!0,qke="skip",Ice=!1;wW.CONTINUE=jke;wW.SKIP=qke;wW.EXIT=Ice;function wW(n,e,t,r){var i,s;typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null),s=u6t(e),i=r?-1:1,o(n,null,[])();function o(a,l,f){var p=typeof a=="object"&&a!==null?a:{},_;return typeof p.type=="string"&&(_=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0,E.displayName="node ("+l6t(p.type+(_?"<"+_+">":""))+")"),E;function E(){var O=f.concat(a),R=[],q,z;if((!e||s(a,l,f[f.length-1]||null))&&(R=c6t(t(a,f)),R[0]===Ice))return R;if(a.children&&R[0]!==qke)for(z=(r?a.children.length:-1)+i;z>-1&&z<a.children.length;){if(q=o(a.children[z],z,O)(),q[0]===Ice)return q;z=typeof q[1]=="number"?q[1]:z+i}return R}}}function c6t(n){return n!==null&&typeof n=="object"&&"length"in n?n:typeof n=="number"?[jke,n]:[n]}});var Hke=Ae((BXt,zke)=>{"use strict";m();zke.exports=n=>{if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}});var Yke=Ae((jXt,Gke)=>{"use strict";m();Gke.exports=m6t;var f6t=$ke(),d6t=kce(),h6t=Hke(),p6t=[].splice;function m6t(n,e,t,r){var i,s;return typeof e=="string"||e&&typeof e.exec=="function"?s=[[e,t]]:(s=e,r=t),i=r||{},Vke(n,i,o(x6t(s))),n;function o(a){var l=a[0];return f;function f(p,_){var E=l[0],O=l[1],R=[],q=0,z=_.children.indexOf(p),L,B,P,G;for(E.lastIndex=0,B=E.exec(p.value);B&&(L=B.index,G=O.apply(null,[].concat(B,{index:B.index,input:B.input})),G!==!1&&(q!==L&&R.push({type:"text",value:p.value.slice(q,L)}),typeof G=="string"&&G.length>0&&(G={type:"text",value:G}),G&&(R=[].concat(R,G)),q=L+B[0].length),!!E.global);)B=E.exec(p.value);if(L===void 0?(R=[p],z--):(q<p.value.length&&R.push({type:"text",value:p.value.slice(q)}),R.unshift(z,1),p6t.apply(_.children,R)),a.length>1)for(P=o(a.slice(1)),L=-1;++L<R.length;)p=R[L],p.type==="text"?P(p,_):Vke(p,i,P);return z+R.length+1}}}function Vke(n,e,t){var r=d6t(e.ignore||[]),i=[];return f6t(n,"text",s),i;function s(o,a){for(var l=-1,f,p;++l<a.length;){if(f=a[l],r(f,p?p.children.indexOf(f):void 0,p))return;p=f}return t(o,p)}}function x6t(n){var e=[],t,r;if(typeof n!="object")throw new Error("Expected array or object as schema");if("length"in n)for(r=-1;++r<n.length;)e.push([Wke(n[r][0]),Qke(n[r][1])]);else for(t in n)e.push([Wke(t),Qke(n[t])]);return e}function Wke(n){return typeof n=="string"?new RegExp(h6t(n),"g"):n}function Qke(n){return typeof n=="function"?n:e;function e(){return n}}});var Jke=Ae((qXt,Kke)=>{"use strict";m();var g6t=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;Kke.exports=g6t});var Zke=Ae((UXt,Xke)=>{"use strict";m();var y6t=String.fromCharCode;Xke.exports=y6t});var Mce=Ae(($Xt,eIe)=>{"use strict";m();var v6t=Zke();function _6t(n){return e;function e(t){return n.test(v6t(t))}}eIe.exports=_6t});var nIe=Ae((zXt,tIe)=>{"use strict";m();var b6t=Jke(),E6t=Mce(),S6t=E6t(b6t);tIe.exports=S6t});var iIe=Ae((HXt,rIe)=>{"use strict";m();var w6t=Mce(),C6t=w6t(/\s/);rIe.exports=C6t});var aIe=Ae(CW=>{m();var sIe=kke(),A6t=Yke(),T6t=nIe(),F6t=iIe();CW.transforms=[k6t];CW.enter={literalAutolink:D6t,literalAutolinkEmail:Pce,literalAutolinkHttp:Pce,literalAutolinkWww:Pce};CW.exit={literalAutolink:L6t,literalAutolinkEmail:N6t,literalAutolinkHttp:O6t,literalAutolinkWww:R6t};function D6t(n){this.enter({type:"link",title:null,url:"",children:[]},n)}function Pce(n){this.config.enter.autolinkProtocol.call(this,n)}function O6t(n){this.config.exit.autolinkProtocol.call(this,n)}function R6t(n){this.config.exit.data.call(this,n),this.stack[this.stack.length-1].url="http://"+this.sliceSerialize(n)}function N6t(n){this.config.exit.autolinkEmail.call(this,n)}function L6t(n){this.exit(n)}function k6t(n){A6t(n,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/i,I6t],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/,M6t]],{ignore:["link","linkReference"]})}function I6t(n,e,t,r,i){var s="",o,a;return!oIe(i)||(/^w/i.test(e)&&(t=e+t,e="",s="http://"),!P6t(t))||(o=B6t(t+r),!o[0])?!1:(a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]},o[1]&&(a=[a,{type:"text",value:o[1]}]),a)}function M6t(n,e,t,r){return!oIe(r,!0)||/[_-]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+t,children:[{type:"text",value:e+"@"+t}]}}function P6t(n){var e=n.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function B6t(n){var e=/[!"&'),.:;<>?\]}]+$/.exec(n),t,r,i;if(e)for(n=n.slice(0,e.index),e=e[0],t=e.indexOf(")"),r=sIe(n,"("),i=sIe(n,")");t!==-1&&r>i;)n+=e.slice(0,t+1),e=e.slice(t+1),t=e.indexOf(")"),i++;return[n,e]}function oIe(n,e){var t=n.input.charCodeAt(n.index-1);return(t!==t||F6t(t)||T6t(t))&&(!e||t!==47)}});var uIe=Ae(AW=>{m();AW.canContainEols=["delete"];AW.enter={strikethrough:j6t};AW.exit={strikethrough:q6t};function j6t(n){this.enter({type:"delete",children:[]},n)}function q6t(n){this.exit(n)}});var cIe=Ae(jce=>{m();jce.enter={table:U6t,tableData:lIe,tableHeader:lIe,tableRow:z6t};jce.exit={codeText:H6t,table:$6t,tableData:Bce,tableHeader:Bce,tableRow:Bce};function U6t(n){this.enter({type:"table",align:n._align,children:[]},n),this.setData("inTable",!0)}function $6t(n){this.exit(n),this.setData("inTable")}function z6t(n){this.enter({type:"tableRow",children:[]},n)}function Bce(n){this.exit(n)}function lIe(n){this.enter({type:"tableCell",children:[]},n)}function H6t(n){var e=this.resume();this.getData("inTable")&&(e=e.replace(/\\([\\|])/g,V6t)),this.stack[this.stack.length-1].value=e,this.exit(n)}function V6t(n,e){return e==="|"?e:n}});var hIe=Ae(dIe=>{m();dIe.exit={taskListCheckValueChecked:fIe,taskListCheckValueUnchecked:fIe,paragraph:W6t};function fIe(n){this.stack[this.stack.length-2].checked=n.type==="taskListCheckValueChecked"}function W6t(n){var e=this.stack[this.stack.length-2],t=this.stack[this.stack.length-1],r=e.children,i=t.children[0],s=-1,o;if(e&&e.type==="listItem"&&typeof e.checked=="boolean"&&i&&i.type==="text"){for(;++s<r.length;)if(r[s].type==="paragraph"){o=r[s];break}o===t&&(i.value=i.value.slice(1),i.value.length===0?t.children.shift():(i.position.start.column++,i.position.start.offset++,t.position.start=Object.assign({},i.position.start)))}this.exit(n)}});var mIe=Ae((YXt,pIe)=>{m();var Q6t=aIe(),G6t=uIe(),Y6t=cIe(),K6t=hIe(),J6t={}.hasOwnProperty;pIe.exports=X6t([Q6t,G6t,Y6t,K6t]);function X6t(n){for(var e={transforms:[],canContainEols:[]},t=n.length,r=-1;++r<t;)Z6t(e,n[r]);return e}function Z6t(n,e){var t,r,i;for(t in e)r=J6t.call(n,t)?n[t]:n[t]={},i=e[t],t==="canContainEols"||t==="transforms"?n[t]=[].concat(r,i):Object.assign(r,i)}});var gIe=Ae(xIe=>{m();var qce="phrasing",Uce=["autolink","link","image","label"];xIe.unsafe=[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:qce,notInConstruct:Uce},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:qce,notInConstruct:Uce},{character:":",before:"[ps]",after:"\\/",inConstruct:qce,notInConstruct:Uce}]});var vIe=Ae((JXt,yIe)=>{m();yIe.exports=ebt;function ebt(n,e,t){for(var r=n.children||[],i=[],s=-1,o=t.before,a,l,f;++s<r.length;)f=r[s],s+1<r.length?(l=e.handle.handlers[r[s+1].type],l&&l.peek&&(l=l.peek),a=l?l(r[s+1],n,e,{before:"",after:""}).charAt(0):""):a=t.after,i.length>0&&(o==="\r"||o===`
`)&&f.type==="html"&&(i[i.length-1]=i[i.length-1].replace(/(\r?\n|\r)$/," "),o=" "),i.push(e.handle(f,n,e,{before:o,after:a})),o=i[i.length-1].slice(-1);return i.join("")}});var bIe=Ae($ce=>{m();var tbt=vIe();$ce.unsafe=[{character:"~",inConstruct:"phrasing"}];$ce.handlers={delete:_Ie};_Ie.peek=nbt;function _Ie(n,e,t){var r=t.enter("emphasis"),i=tbt(n,t,{before:"~",after:"~"});return r(),"~~"+i+"~~"}function nbt(){return"~"}});var SIe=Ae((ZXt,EIe)=>{m();EIe.exports=rbt;function rbt(n,e,t){for(var r=n.children||[],i=[],s=-1,o=t.before,a,l,f;++s<r.length;)f=r[s],s+1<r.length?(l=e.handle.handlers[r[s+1].type],l&&l.peek&&(l=l.peek),a=l?l(r[s+1],n,e,{before:"",after:""}).charAt(0):""):a=t.after,i.length>0&&(o==="\r"||o===`
`)&&f.type==="html"&&(i[i.length-1]=i[i.length-1].replace(/(\r?\n|\r)$/," "),o=" "),i.push(e.handle(f,n,e,{before:o,after:a})),o=i[i.length-1].slice(-1);return i.join("")}});var CIe=Ae((eZt,wIe)=>{m();wIe.exports=ibt;function ibt(n){var e,t;return n._compiled||(e=n.before?"(?:"+n.before+")":"",t=n.after?"(?:"+n.after+")":"",n.atBreak&&(e="[\\r\\n][\\t ]*"+e),n._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(n.character)?"\\":"")+n.character+(t||""),"g")),n._compiled}});var FIe=Ae((tZt,TIe)=>{m();TIe.exports=AIe;AIe.peek=obt;var sbt=CIe();function AIe(n,e,t){for(var r=n.value||"",i="`",s=-1,o,a,l,f;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/[ \r\n`]/.test(r.charAt(0))||/[ \r\n`]/.test(r.charAt(r.length-1)))&&(r=" "+r+" ");++s<t.unsafe.length;)if(o=t.unsafe[s],!!o.atBreak)for(a=sbt(o);l=a.exec(r);)f=l.index,r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(l.index+1);return i+r+i}function obt(){return"`"}});var TW=Ae((nZt,DIe)=>{"use strict";m();var t3="",zce;DIe.exports=abt;function abt(n,e){if(typeof n!="string")throw new TypeError("expected a string");if(e===1)return n;if(e===2)return n+n;var t=n.length*e;if(zce!==n||typeof zce=="undefined")zce=n,t3="";else if(t3.length>=t)return t3.substr(0,t);for(;t>t3.length&&e>1;)e&1&&(t3+=n),e>>=1,n+=n;return t3+=n,t3=t3.substr(0,t),t3}});var kIe=Ae((rZt,LIe)=>{"use strict";m();var C9=TW();LIe.exports=pbt;var ubt=/ +$/,_E=" ",lbt=`
`,cbt="-",FW=":",OIe="|",RIe=0,fbt=67,dbt=76,hbt=82,DW=99,Hce=108,OW=114;function pbt(n,e){for(var t=e||{},r=t.padding!==!1,i=t.delimiterStart!==!1,s=t.delimiterEnd!==!1,o=(t.align||[]).concat(),a=t.alignDelimiters!==!1,l=[],f=t.stringLength||xbt,p=-1,_=n.length,E=[],O=[],R=[],q=[],z=[],L=0,B,P,G,ue,I,J,he,ye,He,at,ct;++p<_;){for(B=n[p],P=-1,G=B.length,R=[],q=[],G>L&&(L=G);++P<G;)J=mbt(B[P]),a===!0&&(I=f(J),q[P]=I,ue=z[P],(ue===void 0||I>ue)&&(z[P]=I)),R.push(J);E[p]=R,O[p]=q}if(P=-1,G=L,typeof o=="object"&&"length"in o)for(;++P<G;)l[P]=NIe(o[P]);else for(ct=NIe(o);++P<G;)l[P]=ct;for(P=-1,G=L,R=[],q=[];++P<G;)ct=l[P],He="",at="",ct===Hce?He=FW:ct===OW?at=FW:ct===DW&&(He=FW,at=FW),I=a?Math.max(1,z[P]-He.length-at.length):1,J=He+C9(cbt,I)+at,a===!0&&(I=He.length+I+at.length,I>z[P]&&(z[P]=I),q[P]=I),R[P]=J;for(E.splice(1,0,R),O.splice(1,0,q),p=-1,_=E.length,he=[];++p<_;){for(R=E[p],q=O[p],P=-1,G=L,ye=[];++P<G;)J=R[P]||"",He="",at="",a===!0&&(I=z[P]-(q[P]||0),ct=l[P],ct===OW?He=C9(_E,I):ct===DW?I%2===0?(He=C9(_E,I/2),at=He):(He=C9(_E,I/2+.5),at=C9(_E,I/2-.5)):at=C9(_E,I)),i===!0&&P===0&&ye.push(OIe),r===!0&&!(a===!1&&J==="")&&(i===!0||P!==0)&&ye.push(_E),a===!0&&ye.push(He),ye.push(J),a===!0&&ye.push(at),r===!0&&ye.push(_E),(s===!0||P!==G-1)&&ye.push(OIe);ye=ye.join(""),s===!1&&(ye=ye.replace(ubt,"")),he.push(ye)}return he.join(lbt)}function mbt(n){return n==null?"":String(n)}function xbt(n){return n.length}function NIe(n){var e=typeof n=="string"?n.charCodeAt(0):RIe;return e===dbt||e===Hce?Hce:e===hbt||e===OW?OW:e===fbt||e===DW?DW:RIe}});var MIe=Ae((iZt,IIe)=>{m();var gbt=SIe(),ybt=FIe(),vbt=kIe();IIe.exports=_bt;function _bt(n){var e=n||{},t=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:o,tableRow:a,tableCell:l,inlineCode:E}};function o(O,R,q){return f(p(O,q),O.align)}function a(O,R,q){var z=_(O,q),L=f([z]);return L.slice(0,L.indexOf(`
`))}function l(O,R,q){var z=q.enter("tableCell"),L=gbt(O,q,{before:s,after:s});return z(),L}function f(O,R){return vbt(O,{align:R,alignDelimiters:r,padding:t,stringLength:i})}function p(O,R){for(var q=O.children,z=-1,L=q.length,B=[],P=R.enter("table");++z<L;)B[z]=_(q[z],R);return P(),B}function _(O,R){for(var q=O.children,z=-1,L=q.length,B=[],P=R.enter("tableRow");++z<L;)B[z]=l(q[z],O,R);return P(),B}function E(O,R,q){var z=ybt(O,R,q);return q.stack.indexOf("tableCell")!==-1&&(z=z.replace(/\|/g,"\\$&")),z}}});var BIe=Ae((sZt,PIe)=>{m();PIe.exports=bbt;function bbt(n){var e=n.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}});var qIe=Ae((oZt,jIe)=>{m();jIe.exports=Ebt;function Ebt(n){var e=n.options.listItemIndent||"tab";if(e===1||e==="1")return"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}});var $Ie=Ae((aZt,UIe)=>{m();UIe.exports=wbt;var Sbt=TW();function wbt(n,e){for(var t=n.children||[],r=[],i=-1,s;++i<t.length;)s=t[i],r.push(e.handle(s,n,e,{before:`
`,after:`
`})),i+1<t.length&&r.push(o(s,t[i+1]));return r.join("");function o(a,l){for(var f=-1,p;++f<e.join.length&&(p=e.join[f](a,l,n,e),!(p===!0||p===1));){if(typeof p=="number")return Sbt(`
`,1+Number(p));if(p===!1)return`

<!---->

`}return`

`}}});var HIe=Ae((uZt,zIe)=>{m();zIe.exports=Abt;var Cbt=/\r?\n|\r/g;function Abt(n,e){for(var t=[],r=0,i=0,s;s=Cbt.exec(n);)o(n.slice(r,s.index)),t.push(s[0]),r=s.index+s[0].length,i++;return o(n.slice(r)),t.join("");function o(a){t.push(e(a,i,!a))}}});var QIe=Ae((lZt,WIe)=>{m();WIe.exports=Rbt;var VIe=TW(),Tbt=BIe(),Fbt=qIe(),Dbt=$Ie(),Obt=HIe();function Rbt(n,e,t){var r=Tbt(t),i=Fbt(t),s,o,a;return e&&e.ordered&&(r=(e.start>-1?e.start:1)+(t.options.incrementListMarker===!1?0:e.children.indexOf(n))+"."),s=r.length+1,(i==="tab"||i==="mixed"&&(e&&e.spread||n.spread))&&(s=Math.ceil(s/4)*4),a=t.enter("listItem"),o=Obt(Dbt(n,t),l),a(),o;function l(f,p,_){return p?(_?"":VIe(" ",s))+f:(_?r:r+VIe(" ",s-r.length))+f}}});var GIe=Ae(Vce=>{m();var Nbt=QIe();Vce.unsafe=[{atBreak:!0,character:"-",after:"[:|-]"}];Vce.handlers={listItem:Lbt};function Lbt(n,e,t){var r=Nbt(n,e,t),i=n.children[0];return typeof n.checked=="boolean"&&i&&i.type==="paragraph"&&(r=r.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,s)),r;function s(o){return o+"["+(n.checked?"x":" ")+"] "}}});var JIe=Ae((fZt,KIe)=>{m();KIe.exports=YIe;function YIe(n,e){var t=-1,r;if(e.extensions)for(;++t<e.extensions.length;)YIe(n,e.extensions[t]);for(r in e)r==="extensions"||(r==="unsafe"||r==="join"?n[r]=n[r].concat(e[r]||[]):r==="handlers"?n[r]=Object.assign(n[r],e[r]||{}):n.options[r]=e[r]);return n}});var ZIe=Ae((dZt,XIe)=>{m();var kbt=gIe(),Ibt=bIe(),Mbt=MIe(),Pbt=GIe(),Bbt=JIe();XIe.exports=jbt;function jbt(n){var e=Bbt({handlers:{},join:[],unsafe:[],options:{}},{extensions:[kbt,Ibt,Mbt(n),Pbt]});return Object.assign(e.options,{handlers:e.handlers,join:e.join,unsafe:e.unsafe})}});var nMe=Ae((hZt,tMe)=>{"use strict";m();var qbt=Nke(),Ubt=mIe(),$bt=ZIe(),eMe;tMe.exports=zbt;function zbt(n){var e=this.data();!eMe&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(eMe=!0,console.warn("[remark-gfm] Warning: please upgrade to remark 13 to use this plugin")),t("micromarkExtensions",qbt(n)),t("fromMarkdownExtensions",Ubt),t("toMarkdownExtensions",$bt(n));function t(r,i){e[r]?e[r].push(i):e[r]=[i]}}});m();var n3=fr(Fr()),fMe=fr(jI());m();var xUe=n=>{n&&n instanceof Function&&Promise.resolve().then(()=>(Dpe(),Fpe)).then(({getCLS:e,getFID:t,getFCP:r,getLCP:i,getTTFB:s})=>{e(n),t(n),r(n),i(n),s(n)})},Ope=xUe;m();m();m();m();m();m();function AT(n,e){return AT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AT(n,e)}function $h(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,AT(n,e)}m();var jp=function(){function n(){this.listeners=[]}var e=n.prototype;return e.subscribe=function(r){var i=this,s=r||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==s}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},n}();m();m();function $s(){return $s=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$s.apply(this,arguments)}var k_=typeof window=="undefined";function cl(){}function Rpe(n,e){return typeof n=="function"?n(e):n}function TT(n){return typeof n=="number"&&n>=0&&n!==1/0}function FT(n){return Array.isArray(n)?n:[n]}function zI(n,e){return Math.max(n+(e||0)-Date.now(),0)}function I7(n,e,t){return RT(n)?typeof e=="function"?$s({},t,{queryKey:n,queryFn:e}):$s({},e,{queryKey:n}):n}function Npe(n,e,t){return RT(n)?typeof e=="function"?$s({},t,{mutationKey:n,mutationFn:e}):$s({},e,{mutationKey:n}):typeof n=="function"?$s({},e,{mutationFn:n}):$s({},n)}function _2(n,e,t){return RT(n)?[$s({},e,{queryKey:n}),t]:[n||{},e]}function gUe(n,e){if(n===!0&&e===!0||n==null&&e==null)return"all";if(n===!1&&e===!1)return"none";var t=n??!e;return t?"active":"inactive"}function yJ(n,e){var t=n.active,r=n.exact,i=n.fetching,s=n.inactive,o=n.predicate,a=n.queryKey,l=n.stale;if(RT(a)){if(r){if(e.queryHash!==DT(a,e.options))return!1}else if(!OT(e.queryKey,a))return!1}var f=gUe(t,s);if(f==="none")return!1;if(f!=="all"){var p=e.isActive();if(f==="active"&&!p||f==="inactive"&&p)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof i=="boolean"&&e.isFetching()!==i||o&&!o(e))}function vJ(n,e){var t=n.exact,r=n.fetching,i=n.predicate,s=n.mutationKey;if(RT(s)){if(!e.options.mutationKey)return!1;if(t){if(K3(e.options.mutationKey)!==K3(s))return!1}else if(!OT(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function DT(n,e){var t=(e==null?void 0:e.queryKeyHashFn)||K3;return t(n)}function K3(n){var e=FT(n);return yUe(e)}function yUe(n){return JSON.stringify(n,function(e,t){return _J(t)?Object.keys(t).sort().reduce(function(r,i){return r[i]=t[i],r},{}):t})}function OT(n,e){return Lpe(FT(n),FT(e))}function Lpe(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(function(t){return!Lpe(n[t],e[t])}):!1}function M7(n,e){if(n===e)return n;var t=Array.isArray(n)&&Array.isArray(e);if(t||_J(n)&&_J(e)){for(var r=t?n.length:Object.keys(n).length,i=t?e:Object.keys(e),s=i.length,o=t?[]:{},a=0,l=0;l<s;l++){var f=t?l:i[l];o[f]=M7(n[f],e[f]),o[f]===n[f]&&a++}return r===s&&a===r?n:o}return e}function kpe(n,e){if(n&&!e||e&&!n)return!1;for(var t in n)if(n[t]!==e[t])return!1;return!0}function _J(n){if(!Ipe(n))return!1;var e=n.constructor;if(typeof e=="undefined")return!0;var t=e.prototype;return!(!Ipe(t)||!t.hasOwnProperty("isPrototypeOf"))}function Ipe(n){return Object.prototype.toString.call(n)==="[object Object]"}function RT(n){return typeof n=="string"||Array.isArray(n)}function Mpe(n){return new Promise(function(e){setTimeout(e,n)})}function bJ(n){Promise.resolve().then(n).catch(function(e){return setTimeout(function(){throw e})})}function HI(){if(typeof AbortController=="function")return new AbortController}var vUe=function(n){$h(e,n);function e(){var r;return r=n.call(this)||this,r.setup=function(i){var s;if(!k_&&((s=window)==null?void 0:s.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},t.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},t.setFocused=function(i){this.focused=i,i&&this.onFocus()},t.onFocus=function(){this.listeners.forEach(function(i){i()})},t.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document=="undefined"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(jp),J3=new vUe;m();var _Ue=function(n){$h(e,n);function e(){var r;return r=n.call(this)||this,r.setup=function(i){var s;if(!k_&&((s=window)==null?void 0:s.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},t.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},t.setOnline=function(i){this.online=i,i&&this.onOnline()},t.onOnline=function(){this.listeners.forEach(function(i){i()})},t.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator=="undefined"||typeof navigator.onLine=="undefined"?!0:navigator.onLine},e}(jp),P7=new _Ue;function bUe(n){return Math.min(1e3*Math.pow(2,n),3e4)}function NT(n){return typeof(n==null?void 0:n.cancel)=="function"}var Ppe=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function B7(n){return n instanceof Ppe}var VI=function(e){var t=this,r=!1,i,s,o,a;this.abort=e.abort,this.cancel=function(E){return i==null?void 0:i(E)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(E,O){o=E,a=O});var l=function(O){t.isResolved||(t.isResolved=!0,e.onSuccess==null||e.onSuccess(O),s==null||s(),o(O))},f=function(O){t.isResolved||(t.isResolved=!0,e.onError==null||e.onError(O),s==null||s(),a(O))},p=function(){return new Promise(function(O){s=O,t.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){s=void 0,t.isPaused=!1,e.onContinue==null||e.onContinue()})},_=function E(){if(!t.isResolved){var O;try{O=e.fn()}catch(R){O=Promise.reject(R)}i=function(q){if(!t.isResolved&&(f(new Ppe(q)),t.abort==null||t.abort(),NT(O)))try{O.cancel()}catch{}},t.isTransportCancelable=NT(O),Promise.resolve(O).then(l).catch(function(R){var q,z;if(!t.isResolved){var L=(q=e.retry)!=null?q:3,B=(z=e.retryDelay)!=null?z:bUe,P=typeof B=="function"?B(t.failureCount,R):B,G=L===!0||typeof L=="number"&&t.failureCount<L||typeof L=="function"&&L(t.failureCount,R);if(r||!G){f(R);return}t.failureCount++,e.onFail==null||e.onFail(t.failureCount,R),Mpe(P).then(function(){if(!J3.isFocused()||!P7.isOnline())return p()}).then(function(){r?f(R):E()})}})}};_()};m();m();m();var EUe=function(){function n(){this.queue=[],this.transactions=0,this.notifyFn=function(t){t()},this.batchNotifyFn=function(t){t()}}var e=n.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):bJ(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];i.schedule(function(){r.apply(void 0,o)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&bJ(function(){r.batchNotifyFn(function(){i.forEach(function(s){r.notifyFn(s)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},n}(),Go=new EUe;m();var Bpe=console;function I_(){return Bpe}function EJ(n){Bpe=n}var jpe=function(){function n(t){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=t.meta,this.scheduleGc()}var e=n.prototype;return e.setOptions=function(r){var i;this.options=$s({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),TT(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var s,o,a=this.state.data,l=Rpe(r,a);return((s=(o=this.options).isDataEqual)==null?void 0:s.call(o,a,l))?l=a:this.options.structuralSharing!==!1&&(l=M7(a,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),l},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(r),s?s.then(cl).catch(cl):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!zI(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var s=this,o,a,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i==null?void 0:i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var f;return(f=this.retryer)==null||f.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var p=this.observers.find(function(B){return B.options.queryFn});p&&this.setOptions(p.options)}var _=FT(this.queryKey),E=HI(),O={queryKey:_,pageParam:void 0,meta:this.meta};Object.defineProperty(O,"signal",{enumerable:!0,get:function(){if(E)return s.abortSignalConsumed=!0,E.signal}});var R=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(O)):Promise.reject("Missing queryFn")},q={fetchOptions:i,options:this.options,queryKey:_,state:this.state,fetchFn:R,meta:this.meta};if((o=this.options.behavior)==null?void 0:o.onFetch){var z;(z=this.options.behavior)==null||z.onFetch(q)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=q.fetchOptions)==null?void 0:a.meta)){var L;this.dispatch({type:"fetch",meta:(L=q.fetchOptions)==null?void 0:L.meta})}return this.retryer=new VI({fn:q.fetchFn,abort:E==null||(l=E.abort)==null?void 0:l.bind(E),onSuccess:function(P){s.setData(P),s.cache.config.onSuccess==null||s.cache.config.onSuccess(P,s),s.cacheTime===0&&s.optionalRemove()},onError:function(P){B7(P)&&P.silent||s.dispatch({type:"error",error:P}),B7(P)||(s.cache.config.onError==null||s.cache.config.onError(P,s),I_().error(P)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:q.options.retry,retryDelay:q.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),Go.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof r.initialData!="undefined",o=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof i!="undefined";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,i){var s,o;switch(i.type){case"failed":return $s({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return $s({},r,{isPaused:!0});case"continue":return $s({},r,{isPaused:!1});case"fetch":return $s({},r,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return $s({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return B7(a)&&a.revert&&this.revertState?$s({},this.revertState):$s({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return $s({},r,{isInvalidated:!0});case"setState":return $s({},r,i.state);default:return r}},n}();var qpe=function(n){$h(e,n);function e(r){var i;return i=n.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var t=e.prototype;return t.build=function(i,s,o){var a,l=s.queryKey,f=(a=s.queryHash)!=null?a:DT(l,s),p=this.get(f);return p||(p=new jpe({cache:this,queryKey:l,queryHash:f,options:i.defaultQueryOptions(s),state:o,defaultOptions:i.getQueryDefaults(l),meta:s.meta}),this.add(p)),p},t.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},t.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},t.clear=function(){var i=this;Go.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},t.get=function(i){return this.queriesMap[i]},t.getAll=function(){return this.queries},t.find=function(i,s){var o=_2(i,s),a=o[0];return typeof a.exact=="undefined"&&(a.exact=!0),this.queries.find(function(l){return yJ(a,l)})},t.findAll=function(i,s){var o=_2(i,s),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(l){return yJ(a,l)}):this.queries},t.notify=function(i){var s=this;Go.batch(function(){s.listeners.forEach(function(o){o(i)})})},t.onFocus=function(){var i=this;Go.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},t.onOnline=function(){var i=this;Go.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},e}(jp);m();m();m();var Upe=function(){function n(t){this.options=$s({},t.defaultOptions,t.options),this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.observers=[],this.state=t.state||SJ(),this.meta=t.meta}var e=n.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(cl).catch(cl)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,s=this.state.status==="loading",o=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(a){i=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),I_().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,i;return this.retryer=new VI({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=SUe(this.state,r),Go.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(r)}),i.mutationCache.notify(i)})},n}();function SJ(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function SUe(n,e){switch(e.type){case"failed":return $s({},n,{failureCount:n.failureCount+1});case"pause":return $s({},n,{isPaused:!0});case"continue":return $s({},n,{isPaused:!1});case"loading":return $s({},n,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return $s({},n,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return $s({},n,{data:void 0,error:e.error,failureCount:n.failureCount+1,isPaused:!1,status:"error"});case"setState":return $s({},n,e.state);default:return n}}var $pe=function(n){$h(e,n);function e(r){var i;return i=n.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var t=e.prototype;return t.build=function(i,s,o){var a=new Upe({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:o,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(a),a},t.add=function(i){this.mutations.push(i),this.notify(i)},t.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},t.clear=function(){var i=this;Go.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},t.getAll=function(){return this.mutations},t.find=function(i){return typeof i.exact=="undefined"&&(i.exact=!0),this.mutations.find(function(s){return vJ(i,s)})},t.findAll=function(i){return this.mutations.filter(function(s){return vJ(i,s)})},t.notify=function(i){var s=this;Go.batch(function(){s.listeners.forEach(function(o){o(i)})})},t.onFocus=function(){this.resumePausedMutations()},t.onOnline=function(){this.resumePausedMutations()},t.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return Go.batch(function(){return i.reduce(function(s,o){return s.then(function(){return o.continue().catch(cl)})},Promise.resolve())})},e}(jp);m();function zpe(){return{onFetch:function(e){e.fetchFn=function(){var t,r,i,s,o,a,l=(t=e.fetchOptions)==null||(r=t.meta)==null?void 0:r.refetchPage,f=(i=e.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,p=f==null?void 0:f.pageParam,_=(f==null?void 0:f.direction)==="forward",E=(f==null?void 0:f.direction)==="backward",O=((o=e.state.data)==null?void 0:o.pages)||[],R=((a=e.state.data)==null?void 0:a.pageParams)||[],q=HI(),z=q==null?void 0:q.signal,L=R,B=!1,P=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},G=function(Et,Mt,qe,te){return L=te?[Mt].concat(L):[].concat(L,[Mt]),te?[qe].concat(Et):[].concat(Et,[qe])},ue=function(Et,Mt,qe,te){if(B)return Promise.reject("Cancelled");if(typeof qe=="undefined"&&!Mt&&Et.length)return Promise.resolve(Et);var et={queryKey:e.queryKey,signal:z,pageParam:qe,meta:e.meta},be=P(et),ke=Promise.resolve(be).then(function(pe){return G(Et,qe,pe,te)});if(NT(be)){var we=ke;we.cancel=be.cancel}return ke},I;if(!O.length)I=ue([]);else if(_){var J=typeof p!="undefined",he=J?p:Hpe(e.options,O);I=ue(O,J,he)}else if(E){var ye=typeof p!="undefined",He=ye?p:wUe(e.options,O);I=ue(O,ye,He,!0)}else(function(){L=[];var Ze=typeof e.options.getNextPageParam=="undefined",Et=l&&O[0]?l(O[0],0,O):!0;I=Et?ue([],Ze,R[0]):Promise.resolve(G([],R[0],O[0]));for(var Mt=function(et){I=I.then(function(be){var ke=l&&O[et]?l(O[et],et,O):!0;if(ke){var we=Ze?R[et]:Hpe(e.options,be);return ue(be,Ze,we)}return Promise.resolve(G(be,R[et],O[et]))})},qe=1;qe<O.length;qe++)Mt(qe)})();var at=I.then(function(Ze){return{pages:Ze,pageParams:L}}),ct=at;return ct.cancel=function(){B=!0,q==null||q.abort(),NT(I)&&I.cancel()},at}}}}function Hpe(n,e){return n.getNextPageParam==null?void 0:n.getNextPageParam(e[e.length-1],e)}function wUe(n,e){return n.getPreviousPageParam==null?void 0:n.getPreviousPageParam(e[0],e)}var wJ=function(){function n(t){t===void 0&&(t={}),this.queryCache=t.queryCache||new qpe,this.mutationCache=t.mutationCache||new $pe,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=n.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=J3.subscribe(function(){J3.isFocused()&&P7.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=P7.subscribe(function(){J3.isFocused()&&P7.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var s=_2(r,i),o=s[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(r){return this.mutationCache.findAll($s({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var s=i.queryKey,o=i.state,a=o.data;return[s,a]})},e.setQueryData=function(r,i,s){var o=I7(r),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(i,s)},e.setQueriesData=function(r,i,s){var o=this;return Go.batch(function(){return o.getQueryCache().findAll(r).map(function(a){var l=a.queryKey;return[l,o.setQueryData(l,i,s)]})})},e.getQueryState=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state},e.removeQueries=function(r,i){var s=_2(r,i),o=s[0],a=this.queryCache;Go.batch(function(){a.findAll(o).forEach(function(l){a.remove(l)})})},e.resetQueries=function(r,i,s){var o=this,a=_2(r,i,s),l=a[0],f=a[1],p=this.queryCache,_=$s({},l,{active:!0});return Go.batch(function(){return p.findAll(l).forEach(function(E){E.reset()}),o.refetchQueries(_,f)})},e.cancelQueries=function(r,i,s){var o=this,a=_2(r,i,s),l=a[0],f=a[1],p=f===void 0?{}:f;typeof p.revert=="undefined"&&(p.revert=!0);var _=Go.batch(function(){return o.queryCache.findAll(l).map(function(E){return E.cancel(p)})});return Promise.all(_).then(cl).catch(cl)},e.invalidateQueries=function(r,i,s){var o,a,l,f=this,p=_2(r,i,s),_=p[0],E=p[1],O=$s({},_,{active:(o=(a=_.refetchActive)!=null?a:_.active)!=null?o:!0,inactive:(l=_.refetchInactive)!=null?l:!1});return Go.batch(function(){return f.queryCache.findAll(_).forEach(function(R){R.invalidate()}),f.refetchQueries(O,E)})},e.refetchQueries=function(r,i,s){var o=this,a=_2(r,i,s),l=a[0],f=a[1],p=Go.batch(function(){return o.queryCache.findAll(l).map(function(E){return E.fetch(void 0,$s({},f,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),_=Promise.all(p).then(cl);return(f==null?void 0:f.throwOnError)||(_=_.catch(cl)),_},e.fetchQuery=function(r,i,s){var o=I7(r,i,s),a=this.defaultQueryOptions(o);typeof a.retry=="undefined"&&(a.retry=!1);var l=this.queryCache.build(this,a);return l.isStaleByTime(a.staleTime)?l.fetch(a):Promise.resolve(l.state.data)},e.prefetchQuery=function(r,i,s){return this.fetchQuery(r,i,s).then(cl).catch(cl)},e.fetchInfiniteQuery=function(r,i,s){var o=I7(r,i,s);return o.behavior=zpe(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(r,i,s){return this.fetchInfiniteQuery(r,i,s).then(cl).catch(cl)},e.cancelMutations=function(){var r=this,i=Go.batch(function(){return r.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(cl).catch(cl)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var s=this.queryDefaults.find(function(o){return K3(r)===K3(o.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(s){return OT(r,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var s=this.mutationDefaults.find(function(o){return K3(r)===K3(o.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(s){return OT(r,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r==null?void 0:r._defaulted)return r;var i=$s({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=DT(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return(r==null?void 0:r._defaulted)?r:$s({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},n}();m();var CJ=function(n){$h(e,n);function e(r,i){var s;return s=n.call(this)||this,s.client=r,s.options=i,s.trackedProps=[],s.selectError=null,s.bindMethods(),s.setOptions(i),s}var t=e.prototype;return t.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},t.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Vpe(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},t.onUnsubscribe=function(){this.listeners.length||this.destroy()},t.shouldFetchOnReconnect=function(){return AJ(this.currentQuery,this.options,this.options.refetchOnReconnect)},t.shouldFetchOnWindowFocus=function(){return AJ(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},t.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},t.setOptions=function(i,s){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled!="undefined"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var l=this.hasListeners();l&&Wpe(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(s),l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var f=this.computeRefetchInterval();l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||f!==this.currentRefetchInterval)&&this.updateRefetchInterval(f)},t.getOptimisticResult=function(i){var s=this.client.defaultQueryObserverOptions(i),o=this.client.getQueryCache().build(this.client,s);return this.createResult(o,s)},t.getCurrentResult=function(){return this.currentResult},t.trackResult=function(i,s){var o=this,a={},l=function(p){o.trackedProps.includes(p)||o.trackedProps.push(p)};return Object.keys(i).forEach(function(f){Object.defineProperty(a,f,{configurable:!1,enumerable:!0,get:function(){return l(f),i[f]}})}),(s.useErrorBoundary||s.suspense)&&l("error"),a},t.getNextResult=function(i){var s=this;return new Promise(function(o,a){var l=s.subscribe(function(f){f.isFetching||(l(),f.isError&&(i==null?void 0:i.throwOnError)?a(f.error):o(f))})})},t.getCurrentQuery=function(){return this.currentQuery},t.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},t.refetch=function(i){return this.fetch($s({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},t.fetchOptimistic=function(i){var s=this,o=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return s.createResult(a,o)})},t.fetch=function(i){var s=this;return this.executeFetch(i).then(function(){return s.updateResult(),s.currentResult})},t.executeFetch=function(i){this.updateQuery();var s=this.currentQuery.fetch(this.options,i);return(i==null?void 0:i.throwOnError)||(s=s.catch(cl)),s},t.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(k_||this.currentResult.isStale||!TT(this.options.staleTime))){var s=zI(this.currentResult.dataUpdatedAt,this.options.staleTime),o=s+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},o)}},t.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},t.updateRefetchInterval=function(i){var s=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(k_||this.options.enabled===!1||!TT(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(s.options.refetchIntervalInBackground||J3.isFocused())&&s.executeFetch()},this.currentRefetchInterval))},t.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},t.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},t.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},t.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},t.createResult=function(i,s){var o=this.currentQuery,a=this.options,l=this.currentResult,f=this.currentResultState,p=this.currentResultOptions,_=i!==o,E=_?i.state:this.currentQueryInitialState,O=_?this.currentResult:this.previousQueryResult,R=i.state,q=R.dataUpdatedAt,z=R.error,L=R.errorUpdatedAt,B=R.isFetching,P=R.status,G=!1,ue=!1,I;if(s.optimisticResults){var J=this.hasListeners(),he=!J&&Vpe(i,s),ye=J&&Wpe(i,o,s,a);(he||ye)&&(B=!0,q||(P="loading"))}if(s.keepPreviousData&&!R.dataUpdateCount&&(O==null?void 0:O.isSuccess)&&P!=="error")I=O.data,q=O.dataUpdatedAt,P=O.status,G=!0;else if(s.select&&typeof R.data!="undefined")if(l&&R.data===(f==null?void 0:f.data)&&s.select===this.selectFn)I=this.selectResult;else try{this.selectFn=s.select,I=s.select(R.data),s.structuralSharing!==!1&&(I=M7(l==null?void 0:l.data,I)),this.selectResult=I,this.selectError=null}catch(ct){I_().error(ct),this.selectError=ct}else I=R.data;if(typeof s.placeholderData!="undefined"&&typeof I=="undefined"&&(P==="loading"||P==="idle")){var He;if((l==null?void 0:l.isPlaceholderData)&&s.placeholderData===(p==null?void 0:p.placeholderData))He=l.data;else if(He=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof He!="undefined")try{He=s.select(He),s.structuralSharing!==!1&&(He=M7(l==null?void 0:l.data,He)),this.selectError=null}catch(ct){I_().error(ct),this.selectError=ct}typeof He!="undefined"&&(P="success",I=He,ue=!0)}this.selectError&&(z=this.selectError,I=this.selectResult,L=Date.now(),P="error");var at={status:P,isLoading:P==="loading",isSuccess:P==="success",isError:P==="error",isIdle:P==="idle",data:I,dataUpdatedAt:q,error:z,errorUpdatedAt:L,failureCount:R.fetchFailureCount,errorUpdateCount:R.errorUpdateCount,isFetched:R.dataUpdateCount>0||R.errorUpdateCount>0,isFetchedAfterMount:R.dataUpdateCount>E.dataUpdateCount||R.errorUpdateCount>E.errorUpdateCount,isFetching:B,isRefetching:B&&P!=="loading",isLoadingError:P==="error"&&R.dataUpdatedAt===0,isPlaceholderData:ue,isPreviousData:G,isRefetchError:P==="error"&&R.dataUpdatedAt!==0,isStale:TJ(i,s),refetch:this.refetch,remove:this.remove};return at},t.shouldNotifyListeners=function(i,s){if(!s)return!0;var o=this.options,a=o.notifyOnChangeProps,l=o.notifyOnChangePropsExclusions;if(!a&&!l||a==="tracked"&&!this.trackedProps.length)return!0;var f=a==="tracked"?this.trackedProps:a;return Object.keys(i).some(function(p){var _=p,E=i[_]!==s[_],O=f==null?void 0:f.some(function(q){return q===p}),R=l==null?void 0:l.some(function(q){return q===p});return E&&!R&&(!f||O)})},t.updateResult=function(i){var s=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!kpe(this.currentResult,s)){var o={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,s)&&(o.listeners=!0),this.notify($s({},o,i))}},t.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var s=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),i.addObserver(this))}},t.onQueryUpdate=function(i){var s={};i.type==="success"?s.onSuccess=!0:i.type==="error"&&!B7(i.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()},t.notify=function(i){var s=this;Go.batch(function(){i.onSuccess?(s.options.onSuccess==null||s.options.onSuccess(s.currentResult.data),s.options.onSettled==null||s.options.onSettled(s.currentResult.data,null)):i.onError&&(s.options.onError==null||s.options.onError(s.currentResult.error),s.options.onSettled==null||s.options.onSettled(void 0,s.currentResult.error)),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)}),i.cache&&s.client.getQueryCache().notify({query:s.currentQuery,type:"observerResultsUpdated"})})},e}(jp);function CUe(n,e){return e.enabled!==!1&&!n.state.dataUpdatedAt&&!(n.state.status==="error"&&e.retryOnMount===!1)}function Vpe(n,e){return CUe(n,e)||n.state.dataUpdatedAt>0&&AJ(n,e,e.refetchOnMount)}function AJ(n,e,t){if(e.enabled!==!1){var r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&TJ(n,e)}return!1}function Wpe(n,e,t,r){return t.enabled!==!1&&(n!==e||r.enabled===!1)&&(!t.suspense||n.state.status!=="error")&&TJ(n,t)}function TJ(n,e){return n.isStaleByTime(e.staleTime)}m();var Qpe=function(n){$h(e,n);function e(r,i){var s;return s=n.call(this)||this,s.client=r,s.setOptions(i),s.bindMethods(),s.updateResult(),s}var t=e.prototype;return t.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},t.setOptions=function(i){this.options=this.client.defaultMutationOptions(i)},t.onUnsubscribe=function(){if(!this.listeners.length){var i;(i=this.currentMutation)==null||i.removeObserver(this)}},t.onMutationUpdate=function(i){this.updateResult();var s={listeners:!0};i.type==="success"?s.onSuccess=!0:i.type==="error"&&(s.onError=!0),this.notify(s)},t.getCurrentResult=function(){return this.currentResult},t.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},t.mutate=function(i,s){return this.mutateOptions=s,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,$s({},this.options,{variables:typeof i!="undefined"?i:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},t.updateResult=function(){var i=this.currentMutation?this.currentMutation.state:SJ(),s=$s({},i,{isLoading:i.status==="loading",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=s},t.notify=function(i){var s=this;Go.batch(function(){s.mutateOptions&&(i.onSuccess?(s.mutateOptions.onSuccess==null||s.mutateOptions.onSuccess(s.currentResult.data,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(s.currentResult.data,null,s.currentResult.variables,s.currentResult.context)):i.onError&&(s.mutateOptions.onError==null||s.mutateOptions.onError(s.currentResult.error,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(void 0,s.currentResult.error,s.currentResult.variables,s.currentResult.context))),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)})})},e}(jp);m();m();m();var Gpe=fr(jI()),Ype=Gpe.default.unstable_batchedUpdates;Go.setBatchNotifyFunction(Ype);m();m();var Kpe=console;EJ(Kpe);m();var X3=fr(Fr()),Jpe=X3.default.createContext(void 0),Xpe=X3.default.createContext(!1);function Zpe(n){return n&&typeof window!="undefined"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Jpe),window.ReactQueryClientContext):Jpe}var LT=function(){var e=X3.default.useContext(Zpe(X3.default.useContext(Xpe)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},FJ=function(e){var t=e.client,r=e.contextSharing,i=r===void 0?!1:r,s=e.children;X3.default.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var o=Zpe(i);return X3.default.createElement(Xpe.Provider,{value:i},X3.default.createElement(o.Provider,{value:t},s))};m();var DJ=fr(Fr());function AUe(){var n=!1;return{clearReset:function(){n=!1},reset:function(){n=!0},isReset:function(){return n}}}var TUe=DJ.default.createContext(AUe()),e1e=function(){return DJ.default.useContext(TUe)};m();var j7=fr(Fr());m();function WI(n,e,t){return typeof e=="function"?e.apply(void 0,t):typeof e=="boolean"?e:!!n}function OJ(n,e,t){var r=j7.default.useRef(!1),i=j7.default.useState(0),s=i[1],o=Npe(n,e,t),a=LT(),l=j7.default.useRef();l.current?l.current.setOptions(o):l.current=new Qpe(a,o);var f=l.current.getCurrentResult();j7.default.useEffect(function(){r.current=!0;var _=l.current.subscribe(Go.batchCalls(function(){r.current&&s(function(E){return E+1})}));return function(){r.current=!1,_()}},[]);var p=j7.default.useCallback(function(_,E){l.current.mutate(_,E).catch(cl)},[]);if(f.error&&WI(void 0,l.current.options.useErrorBoundary,[f.error]))throw f.error;return $s({},f,{mutate:p,mutateAsync:f.mutate})}m();m();var q7=fr(Fr());function t1e(n,e){var t=q7.default.useRef(!1),r=q7.default.useState(0),i=r[1],s=LT(),o=e1e(),a=s.defaultQueryObserverOptions(n);a.optimisticResults=!0,a.onError&&(a.onError=Go.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Go.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Go.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(o.isReset()||(a.retryOnMount=!1));var l=q7.default.useState(function(){return new e(s,a)}),f=l[0],p=f.getOptimisticResult(a);if(q7.default.useEffect(function(){t.current=!0,o.clearReset();var _=f.subscribe(Go.batchCalls(function(){t.current&&i(function(E){return E+1})}));return f.updateResult(),function(){t.current=!1,_()}},[o,f]),q7.default.useEffect(function(){f.setOptions(a,{listeners:!1})},[a,f]),a.suspense&&p.isLoading)throw f.fetchOptimistic(a).then(function(_){var E=_.data;a.onSuccess==null||a.onSuccess(E),a.onSettled==null||a.onSettled(E,null)}).catch(function(_){o.clearReset(),a.onError==null||a.onError(_),a.onSettled==null||a.onSettled(void 0,_)});if(p.isError&&!o.isReset()&&!p.isFetching&&WI(a.suspense,a.useErrorBoundary,[p.error,f.getCurrentQuery()]))throw p.error;return a.notifyOnChangeProps==="tracked"&&(p=f.trackResult(p,a)),p}function wg(n,e,t){var r=I7(n,e,t);return t1e(r,CJ)}m();var pd=fr(Fr());m();m();function fl(){return fl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fl.apply(this,arguments)}var Ll;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ll||(Ll={}));var n1e="popstate";function r1e(n){n===void 0&&(n={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=zh(i.location.hash.substr(1));return M_("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,f=l.indexOf("#");a=f===-1?l:l.slice(0,f)}return a+"#"+(typeof s=="string"?s:sh(s))}function r(i,s){FUe(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return OUe(e,t,r,n)}function FUe(n,e){if(!n){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch{}}}function DUe(){return Math.random().toString(36).substr(2,8)}function i1e(n){return{usr:n.state,key:n.key}}function M_(n,e,t,r){return t===void 0&&(t=null),fl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?zh(e):e,{state:t,key:e&&e.key||r||DUe()})}function sh(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function kT(n){let e=typeof window!="undefined"&&typeof window.location!="undefined"&&window.location.origin!=="null"?window.location.origin:"unknown://unknown",t=typeof n=="string"?n:sh(n);return new URL(t,e)}function OUe(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ll.Pop,l=null;function f(){a=Ll.Pop,l&&l({action:a,location:E.location})}function p(O,R){a=Ll.Push;let q=M_(E.location,O,R);t&&t(q,O);let z=i1e(q),L=E.createHref(q);try{o.pushState(z,"",L)}catch{i.location.assign(L)}s&&l&&l({action:a,location:E.location})}function _(O,R){a=Ll.Replace;let q=M_(E.location,O,R);t&&t(q,O);let z=i1e(q),L=E.createHref(q);o.replaceState(z,"",L),s&&l&&l({action:a,location:E.location})}let E={get action(){return a},get location(){return n(i,o)},listen(O){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(n1e,f),l=O,()=>{i.removeEventListener(n1e,f),l=null}},createHref(O){return e(i,O)},encodeLocation(O){let R=kT(sh(O));return fl({},O,{pathname:R.pathname,search:R.search,hash:R.hash})},push:p,replace:_,go(O){return o.go(O)}};return E}var Vf;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Vf||(Vf={}));function RUe(n){return n.index===!0}function s1e(n,e,t){return e===void 0&&(e=[]),t===void 0&&(t=new Set),n.map((r,i)=>{let s=[...e,i],o=typeof r.id=="string"?r.id:s.join("-");return Lo(r.index!==!0||!r.children,"Cannot specify children on an index route"),Lo(!t.has(o),'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),t.add(o),RUe(r)?fl({},r,{id:o}):fl({},r,{id:o,children:r.children?s1e(r.children,s,t):void 0})})}function Z3(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?zh(e):e,i=RJ(r.pathname||"/",t);if(i==null)return null;let s=o1e(n);NUe(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=UUe(s[a],zUe(i));return o}function o1e(n,e,t,r){return e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r=""),n.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(Lo(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let a=fm([r,o.relativePath]),l=t.concat(o);i.children&&i.children.length>0&&(Lo(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),o1e(i.children,e,l,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:jUe(a,i.index),routesMeta:l})}),e}function NUe(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:qUe(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var LUe=/^:\w+$/,kUe=3,IUe=2,MUe=1,PUe=10,BUe=-2,a1e=n=>n==="*";function jUe(n,e){let t=n.split("/"),r=t.length;return t.some(a1e)&&(r+=BUe),e&&(r+=IUe),t.filter(i=>!a1e(i)).reduce((i,s)=>i+(LUe.test(s)?kUe:s===""?MUe:PUe),r)}function qUe(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function UUe(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,f=i==="/"?e:e.slice(i.length)||"/",p=QI({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},f);if(!p)return null;Object.assign(r,p.params);let _=a.route;s.push({params:r,pathname:fm([i,p.pathname]),pathnameBase:WUe(fm([i,p.pathnameBase])),route:_}),p.pathnameBase!=="/"&&(i=fm([i,p.pathnameBase]))}return s}function QI(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=$Ue(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((f,p,_)=>{if(p==="*"){let E=a[_]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}return f[p]=HUe(a[_]||"",p),f},{}),pathname:s,pathnameBase:o,pattern:n}}function $Ue(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),NJ(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return n.endsWith("*")?(r.push("*"),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function zUe(n){try{return decodeURI(n)}catch(e){return NJ(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function HUe(n,e){try{return decodeURIComponent(n)}catch(t){return NJ(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function RJ(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Lo(n,e){if(n===!1||n===null||typeof n=="undefined")throw new Error(e)}function NJ(n,e){if(!n){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch{}}}function LJ(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?zh(n):n;return{pathname:t?t.startsWith("/")?t:VUe(t,e):e,search:QUe(r),hash:GUe(i)}}function VUe(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function kJ(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function GI(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=zh(n):(i=fl({},n),Lo(!i.pathname||!i.pathname.includes("?"),kJ("?","pathname","search",i)),Lo(!i.pathname||!i.pathname.includes("#"),kJ("#","pathname","hash",i)),Lo(!i.search||!i.search.includes("#"),kJ("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=t;else{let _=e.length-1;if(o.startsWith("..")){let E=o.split("/");for(;E[0]==="..";)E.shift(),_-=1;i.pathname=E.join("/")}a=_>=0?e[_]:"/"}let l=LJ(i,a),f=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(f||p)&&(l.pathname+="/"),l}var fm=n=>n.join("/").replace(/\/\/+/g,"/"),WUe=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),QUe=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,GUe=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;var U7=class extends Error{},u1e=class{constructor(e){this.pendingKeys=new Set,this.subscriber=void 0,Lo(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let t;this.abortPromise=new Promise((i,s)=>t=s),this.controller=new AbortController;let r=()=>t(new U7("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",r),this.controller.signal.addEventListener("abort",r),this.data=Object.entries(e).reduce((i,s)=>{let[o,a]=s;return Object.assign(i,{[o]:this.trackPromise(o,a)})},{})}trackPromise(e,t){if(!(t instanceof Promise))return t;this.pendingKeys.add(e);let r=Promise.race([t,this.abortPromise]).then(i=>this.onSettle(r,e,null,i),i=>this.onSettle(r,e,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,t,r,i){if(this.controller.signal.aborted&&r instanceof U7)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r);this.pendingKeys.delete(t),this.done&&this.unlistenAbortSignal();let s=this.subscriber;return r?(Object.defineProperty(e,"_error",{get:()=>r}),s&&s(!1),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>i}),s&&s(!1),i)}subscribe(e){this.subscriber=e}cancel(){this.controller.abort(),this.pendingKeys.forEach((t,r)=>this.pendingKeys.delete(r));let e=this.subscriber;e&&e(!0)}async resolveData(e){let t=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),t=await new Promise(i=>{this.subscribe(s=>{e.removeEventListener("abort",r),(s||this.done)&&i(s)})})}return t}get done(){return this.pendingKeys.size===0}get unwrappedData(){return Lo(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,t)=>{let[r,i]=t;return Object.assign(e,{[r]:KUe(i)})},{})}};function YUe(n){return n instanceof Promise&&n._tracked===!0}function KUe(n){if(!YUe(n))return n;if(n._error)throw n._error;return n._data}var P_=class{constructor(e,t,r){this.status=e,this.statusText=t||"",this.data=r}};function MT(n){return n instanceof P_}var IJ={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},JUe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},XUe=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",ZUe=!XUe;function MJ(n){Lo(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=s1e(n.routes),t=null,r=new Set,i=null,s=null,o=null,a=!1,l=Z3(e,n.history.location,n.basename),f=null;if(l==null){let{matches:re,route:Oe,error:nt}=m1e(e);l=re,f={[Oe.id]:nt}}let p=!l.some(re=>re.route.loader)||n.hydrationData!=null,_,E={historyAction:n.history.action,location:n.history.location,matches:l,initialized:p,navigation:IJ,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||f,fetchers:new Map},O=Ll.Pop,R=!1,q,z=!1,L=!1,B=[],P=[],G=new Map,ue=0,I=-1,J=new Map,he=new Set,ye=new Map,He=new Map;function at(){return t=n.history.listen(re=>{let{action:Oe,location:nt}=re;return et(Oe,nt)}),E.initialized||et(Ll.Pop,E.location),_}function ct(){t&&t(),r.clear(),q&&q.abort(),E.fetchers.forEach((re,Oe)=>Bt(Oe))}function Ze(re){return r.add(re),()=>r.delete(re)}function Et(re){E=fl({},E,re),r.forEach(Oe=>Oe(E))}function Mt(re,Oe){var nt;let ft=E.actionData!=null&&E.navigation.formMethod!=null&&E.navigation.state==="loading"&&((nt=E.navigation.formAction)==null?void 0:nt.split("?")[0])===re.pathname,Ot=Oe.loaderData?{loaderData:BJ(E.loaderData,Oe.loaderData,Oe.matches||[])}:{};Et(fl({},ft?{}:{actionData:null},Oe,Ot,{historyAction:O,location:re,initialized:!0,navigation:IJ,revalidation:"idle",restoreScrollPosition:E.navigation.formData?!1:Ke(re,Oe.matches||E.matches),preventScrollReset:R})),z||O===Ll.Pop||(O===Ll.Push?n.history.push(re,re.state):O===Ll.Replace&&n.history.replace(re,re.state)),O=Ll.Pop,R=!1,z=!1,L=!1,B=[],P=[]}async function qe(re,Oe){if(typeof re=="number"){n.history.go(re);return}let{path:nt,submission:ft,error:Ot}=l1e(re,Oe),Yt=M_(E.location,nt,Oe&&Oe.state);Yt=n.history.encodeLocation(Yt);let Gt=(Oe&&Oe.replace)===!0||ft!=null?Ll.Replace:Ll.Push,fn=Oe&&"preventScrollReset"in Oe?Oe.preventScrollReset===!0:void 0;return await et(Gt,Yt,{submission:ft,pendingError:Ot,preventScrollReset:fn,replace:Oe&&Oe.replace})}function te(){if(mn(),Et({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){et(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}et(O||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation})}}async function et(re,Oe,nt){q&&q.abort(),q=null,O=re,z=(nt&&nt.startUninterruptedRevalidation)===!0,tt(E.location,E.matches),R=(nt&&nt.preventScrollReset)===!0;let ft=nt&&nt.overrideNavigation,Ot=Z3(e,Oe,n.basename);if(!Ot){let{matches:un,route:Mn,error:tr}=m1e(e);_e(),Mt(Oe,{matches:un,loaderData:{},errors:{[Mn.id]:tr}});return}if(s$e(E.location,Oe)){Mt(Oe,{matches:Ot});return}q=new AbortController;let Yt=BT(Oe,q.signal,nt&&nt.submission),Gt,fn;if(nt&&nt.pendingError)fn={[$7(Ot).route.id]:nt.pendingError};else if(nt&&nt.submission){let un=await be(Yt,Oe,nt.submission,Ot,{replace:nt.replace});if(un.shortCircuited)return;Gt=un.pendingActionData,fn=un.pendingActionError,ft=fl({state:"loading",location:Oe},nt.submission)}let{shortCircuited:gn,loaderData:yn,errors:Lt}=await ke(Yt,Oe,Ot,ft,nt&&nt.submission,nt&&nt.replace,Gt,fn);gn||(q=null,Mt(Oe,{matches:Ot,loaderData:yn,errors:Lt}))}async function be(re,Oe,nt,ft,Ot){mn();let Yt=fl({state:"submitting",location:Oe},nt);Et({navigation:Yt});let Gt,fn=S1e(ft,Oe);if(!fn.route.action)Gt=x1e(Oe);else if(Gt=await PT("action",re,fn,ft,_.basename),re.signal.aborted)return{shortCircuited:!0};if(z7(Gt)){let gn=fl({state:"loading",location:M_(E.location,Gt.location)},nt);return await Ht(Gt,gn,Ot&&Ot.replace),{shortCircuited:!0}}if(jT(Gt)){let gn=$7(ft,fn.route.id);return(Ot&&Ot.replace)!==!0&&(O=Ll.Push),{pendingActionError:{[gn.route.id]:Gt.error}}}if(B_(Gt))throw new Error("defer() is not supported in actions");return{pendingActionData:{[fn.route.id]:Gt.data}}}async function ke(re,Oe,nt,ft,Ot,Yt,Gt,fn){let gn=ft;gn||(gn={state:"loading",location:Oe,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0});let[yn,Lt]=c1e(E,nt,Ot,Oe,L,B,P,Gt,fn,ye);if(_e(Pt=>!(nt&&nt.some(mt=>mt.route.id===Pt))||yn&&yn.some(mt=>mt.route.id===Pt)),yn.length===0&&Lt.length===0)return Mt(Oe,{matches:nt,loaderData:BJ(E.loaderData,{},nt),errors:fn||null,actionData:Gt||null}),{shortCircuited:!0};z||(Lt.forEach(Pt=>{let[mt]=Pt,xt=E.fetchers.get(mt),rn={state:"loading",data:xt&&xt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};E.fetchers.set(mt,rn)}),Et(fl({navigation:gn,actionData:Gt||E.actionData||null},Lt.length>0?{fetchers:new Map(E.fetchers)}:{}))),I=++ue,Lt.forEach(Pt=>{let[mt]=Pt;return G.set(mt,q)});let{results:un,loaderResults:Mn,fetcherResults:tr}=await Ct(E.matches,nt,yn,Lt,re);if(re.signal.aborted)return{shortCircuited:!0};Lt.forEach(Pt=>{let[mt]=Pt;return G.delete(mt)});let Rn=g1e(un);if(Rn){let Pt=PJ(E,Rn);return await Ht(Rn,Pt,Yt),{shortCircuited:!0}}let{loaderData:Ne,errors:ze}=p1e(E,nt,yn,Mn,fn,Lt,tr,He);He.forEach((Pt,mt)=>{Pt.subscribe(xt=>{(xt||Pt.done)&&He.delete(mt)})}),ve();let De=Le(I);return fl({loaderData:Ne,errors:ze},De||Lt.length>0?{fetchers:new Map(E.fetchers)}:{})}function we(re){return E.fetchers.get(re)||JUe}function pe(re,Oe,nt,ft){if(ZUe)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");G.has(re)&&tn(re);let Ot=Z3(e,nt,n.basename);if(!Ot){kt(re,Oe,new P_(404,"Not Found",null));return}let{path:Yt,submission:Gt}=l1e(nt,ft,!0),fn=S1e(Ot,Yt);if(Gt){Je(re,Oe,Yt,fn,Ot,Gt);return}ye.set(re,[Yt,fn,Ot]),lt(re,Oe,Yt,fn,Ot)}async function Je(re,Oe,nt,ft,Ot,Yt){if(mn(),ye.delete(re),!ft.route.action){let{error:Nn}=x1e(nt);kt(re,Oe,Nn);return}let Gt=E.fetchers.get(re),fn=fl({state:"submitting"},Yt,{data:Gt&&Gt.data});E.fetchers.set(re,fn),Et({fetchers:new Map(E.fetchers)});let gn=new AbortController,yn=BT(nt,gn.signal,Yt);G.set(re,gn);let Lt=await PT("action",yn,ft,Ot,_.basename);if(yn.signal.aborted){G.get(re)===gn&&G.delete(re);return}if(z7(Lt)){G.delete(re),he.add(re);let Nn=fl({state:"loading"},Yt,{data:void 0});E.fetchers.set(re,Nn),Et({fetchers:new Map(E.fetchers)});let nr=fl({state:"loading",location:M_(E.location,Lt.location)},Yt);await Ht(Lt,nr);return}if(jT(Lt)){kt(re,Oe,Lt.error);return}B_(Lt)&&Lo(!1,"defer() is not supported in actions");let un=E.navigation.location||E.location,Mn=BT(un,gn.signal),tr=E.navigation.state!=="idle"?Z3(e,E.navigation.location,n.basename):E.matches;Lo(tr,"Didn't find any matches after fetcher action");let Rn=++ue;J.set(re,Rn);let Ne=fl({state:"loading",data:Lt.data},Yt);E.fetchers.set(re,Ne);let[ze,De]=c1e(E,tr,Yt,un,L,B,P,{[ft.route.id]:Lt.data},void 0,ye);De.filter(Nn=>{let[nr]=Nn;return nr!==re}).forEach(Nn=>{let[nr]=Nn,Ye=E.fetchers.get(nr),vt={state:"loading",data:Ye&&Ye.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};E.fetchers.set(nr,vt),G.set(nr,gn)}),Et({fetchers:new Map(E.fetchers)});let{results:Pt,loaderResults:mt,fetcherResults:xt}=await Ct(E.matches,tr,ze,De,Mn);if(gn.signal.aborted)return;J.delete(re),G.delete(re),De.forEach(Nn=>{let[nr]=Nn;return G.delete(nr)});let rn=g1e(Pt);if(rn){let Nn=PJ(E,rn);await Ht(rn,Nn);return}let{loaderData:Qt,errors:Fn}=p1e(E,E.matches,ze,mt,void 0,De,xt,He),Wn={state:"idle",data:Lt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};E.fetchers.set(re,Wn);let Zn=Le(Rn);E.navigation.state==="loading"&&Rn>I?(Lo(O,"Expected pending action"),q&&q.abort(),Mt(E.navigation.location,{matches:tr,loaderData:Qt,errors:Fn,fetchers:new Map(E.fetchers)})):(Et(fl({errors:Fn,loaderData:BJ(E.loaderData,Qt,tr)},Zn?{fetchers:new Map(E.fetchers)}:{})),L=!1)}async function lt(re,Oe,nt,ft,Ot){let Yt=E.fetchers.get(re),Gt={state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,data:Yt&&Yt.data};E.fetchers.set(re,Gt),Et({fetchers:new Map(E.fetchers)});let fn=new AbortController,gn=BT(nt,fn.signal);G.set(re,fn);let yn=await PT("loader",gn,ft,Ot,_.basename);if(B_(yn)&&(yn=await _1e(yn,gn.signal,!0)||yn),G.get(re)===fn&&G.delete(re),gn.signal.aborted)return;if(z7(yn)){let un=PJ(E,yn);await Ht(yn,un);return}if(jT(yn)){let un=$7(E.matches,Oe);E.fetchers.delete(re),Et({fetchers:new Map(E.fetchers),errors:{[un.route.id]:yn.error}});return}Lo(!B_(yn),"Unhandled fetcher deferred data");let Lt={state:"idle",data:yn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};E.fetchers.set(re,Lt),Et({fetchers:new Map(E.fetchers)})}async function Ht(re,Oe,nt){re.revalidate&&(L=!0),Lo(Oe.location,"Expected a location on the redirect navigation"),q=null;let ft=nt===!0?Ll.Replace:Ll.Push;await et(ft,Oe.location,{overrideNavigation:Oe})}async function Ct(re,Oe,nt,ft,Ot){let Yt=await Promise.all([...nt.map(gn=>PT("loader",Ot,gn,Oe,_.basename)),...ft.map(gn=>{let[,yn,Lt,un]=gn;return PT("loader",BT(yn,Ot.signal),Lt,un,_.basename)})]),Gt=Yt.slice(0,nt.length),fn=Yt.slice(nt.length);return await Promise.all([v1e(re,nt,Gt,Ot.signal,!1,E.loaderData),v1e(re,ft.map(gn=>{let[,,yn]=gn;return yn}),fn,Ot.signal,!0)]),{results:Yt,loaderResults:Gt,fetcherResults:fn}}function mn(){L=!0,B.push(..._e()),ye.forEach((re,Oe)=>{G.has(Oe)&&(P.push(Oe),tn(Oe))})}function kt(re,Oe,nt){let ft=$7(E.matches,Oe);Bt(re),Et({errors:{[ft.route.id]:nt},fetchers:new Map(E.fetchers)})}function Bt(re){G.has(re)&&tn(re),ye.delete(re),J.delete(re),he.delete(re),E.fetchers.delete(re)}function tn(re){let Oe=G.get(re);Lo(Oe,"Expected fetch controller: "+re),Oe.abort(),G.delete(re)}function bt(re){for(let Oe of re){let nt=we(Oe),ft={state:"idle",data:nt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};E.fetchers.set(Oe,ft)}}function ve(){let re=[];for(let Oe of he){let nt=E.fetchers.get(Oe);Lo(nt,"Expected fetcher: "+Oe),nt.state==="loading"&&(he.delete(Oe),re.push(Oe))}bt(re)}function Le(re){let Oe=[];for(let[nt,ft]of J)if(ft<re){let Ot=E.fetchers.get(nt);Lo(Ot,"Expected fetcher: "+nt),Ot.state==="loading"&&(tn(nt),J.delete(nt),Oe.push(nt))}return bt(Oe),Oe.length>0}function _e(re){let Oe=[];return He.forEach((nt,ft)=>{(!re||re(ft))&&(nt.cancel(),Oe.push(ft),He.delete(ft))}),Oe}function ce(re,Oe,nt){if(i=re,o=Oe,s=nt||(ft=>ft.key),!a&&E.navigation===IJ){a=!0;let ft=Ke(E.location,E.matches);ft!=null&&Et({restoreScrollPosition:ft})}return()=>{i=null,o=null,s=null}}function tt(re,Oe){if(i&&s&&o){let nt=Oe.map(Ot=>E1e(Ot,E.loaderData)),ft=s(re,nt)||re.key;i[ft]=o()}}function Ke(re,Oe){if(i&&s&&o){let nt=Oe.map(Yt=>E1e(Yt,E.loaderData)),ft=s(re,nt)||re.key,Ot=i[ft];if(typeof Ot=="number")return Ot}return null}return _={get basename(){return n.basename},get state(){return E},get routes(){return e},initialize:at,subscribe:Ze,enableScrollRestoration:ce,navigate:qe,fetch:pe,revalidate:te,createHref:re=>n.history.createHref(re),getFetcher:we,deleteFetcher:Bt,dispose:ct,_internalFetchControllers:G,_internalActiveDeferreds:He},_}var e$e=new Set(["POST","PUT","PATCH","DELETE"]),W8t=new Set(["GET","HEAD",...e$e]);function l1e(n,e,t){t===void 0&&(t=!1);let r=typeof n=="string"?n:sh(n);if(!e||!("formMethod"in e)&&!("formData"in e))return{path:r};if(e.formMethod!=null&&e.formMethod!=="get")return{path:r,submission:{formMethod:e.formMethod,formAction:y1e(r),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData}};if(!e.formData)return{path:r};let i=zh(r);try{let s=h1e(e.formData);t&&i.search&&b1e(i.search)&&s.append("index",""),i.search="?"+s}catch{return{path:r,error:new P_(400,"Bad Request","Cannot submit binary form data using GET")}}return{path:sh(i)}}function PJ(n,e){let{formMethod:t,formAction:r,formEncType:i,formData:s}=n.navigation;return{state:"loading",location:M_(n.location,e.location),formMethod:t||void 0,formAction:r||void 0,formEncType:i||void 0,formData:s||void 0}}function t$e(n,e){let t=n;if(e){let r=n.findIndex(i=>i.route.id===e);r>=0&&(t=n.slice(0,r))}return t}function c1e(n,e,t,r,i,s,o,a,l,f){let p=l?Object.values(l)[0]:a?Object.values(a)[0]:null,_=l?Object.keys(l)[0]:void 0,O=t$e(e,_).filter((q,z)=>q.route.loader!=null&&(n$e(n.loaderData,n.matches[z],q)||s.some(L=>L===q.route.id)||d1e(n.location,n.matches[z],t,r,q,i,p))),R=[];return f&&f.forEach((q,z)=>{let[L,B,P]=q;o.includes(z)?R.push([z,L,B,P]):i&&d1e(L,B,t,L,B,i,p)&&R.push([z,L,B,P])}),[O,R]}function n$e(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function f1e(n,e){let t=n.route.path;return n.pathname!==e.pathname||t&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function d1e(n,e,t,r,i,s,o){let a=kT(n),l=e.params,f=kT(r),p=i.params,_=f1e(e,i)||a.toString()===f.toString()||a.search!==f.search||s;if(i.route.shouldRevalidate){let E=i.route.shouldRevalidate(fl({currentUrl:a,currentParams:l,nextUrl:f,nextParams:p},t,{actionResult:o,defaultShouldRevalidate:_}));if(typeof E=="boolean")return E}return _}async function PT(n,e,t,r,i,s,o){s===void 0&&(s=!1),o===void 0&&(o=!1);let a,l,f,p=new Promise((E,O)=>f=O),_=()=>f();e.signal.addEventListener("abort",_);try{let E=t.route[n];Lo(E,"Could not find the "+n+' to run on the "'+t.route.id+'" route'),l=await Promise.race([E({request:e,params:t.params}),p])}catch(E){a=Vf.error,l=E}finally{e.signal.removeEventListener("abort",_)}if(l instanceof Response){let E=l.status;if(E>=300&&E<=399){let q=l.headers.get("Location");Lo(q,"Redirects returned/thrown from loaders/actions must have a Location header");let z=r.slice(0,r.indexOf(t)+1),L=IT(z).map(G=>G.pathnameBase),B=kT(e.url).pathname,P=GI(q,L,B);if(Lo(sh(P),"Unable to resolve redirect location: "+l.headers.get("Location")),i){let G=P.pathname;P.pathname=G==="/"?i:fm([i,G])}if(q=sh(P),s)throw l.headers.set("Location",q),l;return{type:Vf.redirect,status:E,location:q,revalidate:l.headers.get("X-Remix-Revalidate")!==null}}if(o)throw{type:a||Vf.data,response:l};let O,R=l.headers.get("Content-Type");return R&&R.startsWith("application/json")?O=await l.json():O=await l.text(),a===Vf.error?{type:a,error:new P_(E,l.statusText,O),headers:l.headers}:{type:Vf.data,data:O,statusCode:l.status,headers:l.headers}}return a===Vf.error?{type:a,error:l}:l instanceof u1e?{type:Vf.deferred,deferredData:l}:{type:Vf.data,data:l}}function BT(n,e,t){let r=kT(y1e(n)).toString(),i={signal:e};if(t){let{formMethod:s,formEncType:o,formData:a}=t;i.method=s.toUpperCase(),i.body=o==="application/x-www-form-urlencoded"?h1e(a):a}return new Request(r,i)}function h1e(n){let e=new URLSearchParams;for(let[t,r]of n.entries())Lo(typeof r=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),e.append(t,r);return e}function r$e(n,e,t,r,i){let s={},o=null,a,l=!1,f={};return t.forEach((p,_)=>{let E=e[_].route.id;if(Lo(!z7(p),"Cannot handle redirect results in processLoaderData"),jT(p)){let O=$7(n,E),R=p.error;r&&(R=Object.values(r)[0],r=void 0),o=Object.assign(o||{},{[O.route.id]:R}),l||(l=!0,a=MT(p.error)?p.error.status:500),p.headers&&(f[E]=p.headers)}else B_(p)?(i&&i.set(E,p.deferredData),s[E]=p.deferredData.data):(s[E]=p.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(f[E]=p.headers))}),r&&(o=r),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:f}}function p1e(n,e,t,r,i,s,o,a){let{loaderData:l,errors:f}=r$e(e,t,r,i,a);for(let p=0;p<s.length;p++){let[_,,E]=s[p];Lo(o!==void 0&&o[p]!==void 0,"Did not find corresponding fetcher result");let O=o[p];if(jT(O)){let R=$7(n.matches,E.route.id);f&&f[R.route.id]||(f=fl({},f,{[R.route.id]:O.error})),n.fetchers.delete(_)}else{if(z7(O))throw new Error("Unhandled fetcher revalidation redirect");if(B_(O))throw new Error("Unhandled fetcher deferred data");{let R={state:"idle",data:O.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};n.fetchers.set(_,R)}}}return{loaderData:l,errors:f}}function BJ(n,e,t){let r=fl({},e);return t.forEach(i=>{let s=i.route.id;e[s]===void 0&&n[s]!==void 0&&(r[s]=n[s])}),r}function $7(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function i$e(n,e,t){let r=n.find(i=>i.index||!i.path||i.path==="/")||{id:"__shim-"+e+"-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:r}],route:r,error:new P_(e,t,null)}}function m1e(n){return i$e(n,404,"Not Found")}function x1e(n){let e=typeof n=="string"?n:sh(n);return console.warn("You're trying to submit to a route that does not have an action.  To fix this, please add an `action` function to the route for "+("["+e+"]")),{type:Vf.error,error:new P_(405,"Method Not Allowed","")}}function g1e(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(z7(t))return t}}function y1e(n){let e=typeof n=="string"?zh(n):n;return sh(fl({},e,{hash:""}))}function s$e(n,e){return n.pathname===e.pathname&&n.search===e.search&&n.hash!==e.hash}function B_(n){return n.type===Vf.deferred}function jT(n){return n.type===Vf.error}function z7(n){return(n&&n.type)===Vf.redirect}async function v1e(n,e,t,r,i,s){for(let o=0;o<t.length;o++){let a=t[o],l=e[o],f=n.find(_=>_.route.id===l.route.id),p=f!=null&&!f1e(f,l)&&(s&&s[l.route.id])!==void 0;B_(a)&&(i||p)&&await _1e(a,r,i).then(_=>{_&&(t[o]=_||t[o])})}}async function _1e(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Vf.data,data:n.deferredData.unwrappedData}}catch(i){return{type:Vf.error,error:i}}return{type:Vf.data,data:n.deferredData.data}}}function b1e(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function E1e(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function S1e(n,e){let t=typeof e=="string"?zh(e).search:e.search;if(n[n.length-1].route.index&&b1e(t||""))return n[n.length-1];let r=IT(n);return r[r.length-1]}var Mi=fr(Fr());function YI(){return YI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},YI.apply(this,arguments)}function c$e(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var f$e=typeof Object.is=="function"?Object.is:c$e,{useState:d$e,useEffect:h$e,useLayoutEffect:p$e,useDebugValue:m$e}=Mi;function x$e(n,e,t){let r=e(),[{inst:i},s]=d$e({inst:{value:r,getSnapshot:e}});return p$e(()=>{i.value=r,i.getSnapshot=e,jJ(i)&&s({inst:i})},[n,r,e]),h$e(()=>(jJ(i)&&s({inst:i}),n(()=>{jJ(i)&&s({inst:i})})),[n]),m$e(r),r}function jJ(n){let e=n.getSnapshot,t=n.value;try{let r=e();return!f$e(t,r)}catch{return!0}}function g$e(n,e,t){return e()}var y$e=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",v$e=!y$e,_$e=v$e?g$e:x$e,b$e="useSyncExternalStore"in Mi?(n=>n.useSyncExternalStore)(Mi):_$e,w1e=Mi.createContext(null),KI=Mi.createContext(null),qT=Mi.createContext(null);var UT=Mi.createContext(null),$T=Mi.createContext(null),e5=Mi.createContext({outlet:null,matches:[]}),C1e=Mi.createContext(null);function qJ(n,e){let{relative:t}=e===void 0?{}:e;H7()||Lo(!1);let{basename:r,navigator:i}=Mi.useContext(UT),{hash:s,pathname:o,search:a}=JI(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:fm([r,o])),i.createHref({pathname:l,search:a,hash:s})}function H7(){return Mi.useContext($T)!=null}function j_(){return H7()||Lo(!1),Mi.useContext($T).location}function t5(){H7()||Lo(!1);let{basename:n,navigator:e}=Mi.useContext(UT),{matches:t}=Mi.useContext(e5),{pathname:r}=j_(),i=JSON.stringify(IT(t).map(a=>a.pathnameBase)),s=Mi.useRef(!1);return Mi.useEffect(()=>{s.current=!0}),Mi.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let f=GI(a,JSON.parse(i),r,l.relative==="path");n!=="/"&&(f.pathname=f.pathname==="/"?n:fm([n,f.pathname])),(l.replace?e.replace:e.push)(f,l.state,l)},[n,e,i,r])}function UJ(){let{matches:n}=Mi.useContext(e5),e=n[n.length-1];return e?e.params:{}}function JI(n,e){let{relative:t}=e===void 0?{}:e,{matches:r}=Mi.useContext(e5),{pathname:i}=j_(),s=JSON.stringify(IT(r).map(o=>o.pathnameBase));return Mi.useMemo(()=>GI(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function A1e(n,e){H7()||Lo(!1);let t=Mi.useContext(qT),{matches:r}=Mi.useContext(e5),i=r[r.length-1],s=i?i.params:{},o=i?i.pathname:"/",a=i?i.pathnameBase:"/",l=i&&i.route,f=j_(),p;if(e){var _;let z=typeof e=="string"?zh(e):e;a==="/"||((_=z.pathname)==null?void 0:_.startsWith(a))||Lo(!1),p=z}else p=f;let E=p.pathname||"/",O=a==="/"?E:E.slice(a.length)||"/",R=Z3(n,{pathname:O}),q=w$e(R&&R.map(z=>Object.assign({},z,{params:Object.assign({},s,z.params),pathname:fm([a,z.pathname]),pathnameBase:z.pathnameBase==="/"?a:fm([a,z.pathnameBase])})),r,t||void 0);return e&&q?Mi.createElement($T.Provider,{value:{location:YI({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Ll.Pop}},q):q}function E$e(){let n=XI(),e=MT(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r};return Mi.createElement(Mi.Fragment,null,Mi.createElement("h2",null,"Unhandled Thrown Error!"),Mi.createElement("h3",{style:{fontStyle:"italic"}},e),t?Mi.createElement("pre",{style:i},t):null,Mi.createElement("p",null,"\u{1F4BF} Hey developer \u{1F44B}"),Mi.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xA0",Mi.createElement("code",{style:s},"errorElement")," props on\xA0",Mi.createElement("code",{style:s},"<Route>")))}var T1e=class extends Mi.Component{constructor(e){super(e);this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?Mi.createElement(C1e.Provider,{value:this.state.error,children:this.props.component}):this.props.children}};function S$e(n){let{routeContext:e,match:t,children:r}=n,i=Mi.useContext(w1e);return i&&t.route.errorElement&&(i._deepestRenderedBoundaryId=t.route.id),Mi.createElement(e5.Provider,{value:e},r)}function w$e(n,e,t){if(e===void 0&&(e=[]),n==null)if(t!=null&&t.errors)n=t.matches;else return null;let r=n,i=t==null?void 0:t.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Lo(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,f=t?o.route.errorElement||Mi.createElement(E$e,null):null,p=()=>Mi.createElement(S$e,{match:o,routeContext:{outlet:s,matches:e.concat(r.slice(0,a+1))}},l?f:o.route.element!==void 0?o.route.element:s);return t&&(o.route.errorElement||a===0)?Mi.createElement(T1e,{location:t.location,component:f,error:l,children:p()}):p()},null)}var F1e;(function(n){n.UseRevalidator="useRevalidator"})(F1e||(F1e={}));var $J;(function(n){n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})($J||($J={}));function C$e(n){let e=Mi.useContext(qT);return e||Lo(!1),e}function XI(){var n;let e=Mi.useContext(C1e),t=C$e($J.UseRouteError),r=Mi.useContext(e5),i=r.matches[r.matches.length-1];return e||(r||Lo(!1),i.route.id||Lo(!1),(n=t.errors)==null?void 0:n[i.route.id])}function zJ(n){let{fallbackElement:e,router:t}=n,r=b$e(t.subscribe,()=>t.state,()=>t.state),i=Mi.useMemo(()=>({createHref:t.createHref,go:o=>t.navigate(o),push:(o,a,l)=>t.navigate(o,{state:a,preventScrollReset:l==null?void 0:l.preventScrollReset}),replace:(o,a,l)=>t.navigate(o,{replace:!0,state:a,preventScrollReset:l==null?void 0:l.preventScrollReset})}),[t]),s=t.basename||"/";return Mi.createElement(KI.Provider,{value:{router:t,navigator:i,static:!1,basename:s}},Mi.createElement(qT.Provider,{value:r},Mi.createElement(HJ,{basename:t.basename,location:t.state.location,navigationType:t.state.historyAction,navigator:i},t.state.initialized?Mi.createElement(O1e,null):e)))}function D1e(n){Lo(!1)}function HJ(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Ll.Pop,navigator:s,static:o=!1}=n;H7()&&Lo(!1);let a=e.replace(/^\/*/,"/"),l=Mi.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=zh(r));let{pathname:f="/",search:p="",hash:_="",state:E=null,key:O="default"}=r,R=Mi.useMemo(()=>{let q=RJ(f,a);return q==null?null:{pathname:q,search:p,hash:_,state:E,key:O}},[a,f,p,_,E,O]);return R==null?null:Mi.createElement(UT.Provider,{value:l},Mi.createElement($T.Provider,{children:t,value:{location:R,navigationType:i}}))}function O1e(n){let{children:e,location:t}=n,r=Mi.useContext(KI),i=r&&!e?r.router.routes:zT(e);return A1e(i,t)}var R1e;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(R1e||(R1e={}));var J8t=new Promise(()=>{});function zT(n,e){e===void 0&&(e=[]);let t=[];return Mi.Children.forEach(n,(r,i)=>{if(!Mi.isValidElement(r))return;if(r.type===Mi.Fragment){t.push.apply(t,zT(r.props.children,e));return}r.type!==D1e&&Lo(!1),!r.props.index||!r.props.children||Lo(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=zT(r.props.children,s)),t.push(o)}),t}function ZI(n){return n.map(e=>{let t=YI({},e);return t.hasErrorBoundary==null&&(t.hasErrorBoundary=t.errorElement!=null),t.children&&(t.children=ZI(t.children)),t})}function VJ(){return VJ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},VJ.apply(this,arguments)}function F$e(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function D$e(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function O$e(n,e){return n.button===0&&(!e||e==="_self")&&!D$e(n)}function WJ(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function R$e(n,e){let t=WJ(n);for(let r of e.keys())t.has(r)||e.getAll(r).forEach(i=>{t.append(r,i)});return t}var N$e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function N1e(n,e){var t;return MJ({basename:e==null?void 0:e.basename,history:r1e({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||((t=window)==null?void 0:t.__staticRouterHydrationData),routes:ZI(n)}).initialize()}var L1e=pd.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:f,preventScrollReset:p}=e,_=F$e(e,N$e),E=qJ(f,{relative:i}),O=L$e(f,{replace:o,state:a,target:l,preventScrollReset:p,relative:i});function R(q){r&&r(q),q.defaultPrevented||O(q)}return pd.createElement("a",VJ({},_,{href:E,onClick:s?r:R,ref:t,target:l}))});var k1e;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(k1e||(k1e={}));var I1e;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(I1e||(I1e={}));function L$e(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=t5(),l=j_(),f=JI(n,{relative:o});return pd.useCallback(p=>{if(O$e(p,t)){p.preventDefault();let _=r!==void 0?r:sh(l)===sh(f);a(n,{replace:_,state:i,preventScrollReset:s,relative:o})}},[l,a,f,r,i,t,n,s,o])}function M1e(n){let e=pd.useRef(WJ(n)),t=j_(),r=pd.useMemo(()=>R$e(t.search,e.current),[t.search]),i=t5(),s=pd.useCallback((o,a)=>{let l=WJ(typeof o=="function"?o(r):o);i("?"+l,a)},[i,r]);return[r,s]}m();m();m();var SE=fr(Fr());m();var _M=fr(q1e()),Uu=fr(Fr()),ume=fr($1e());m();function M$e(n){function e(pe,Je,lt,Ht,Ct){for(var mn=0,kt=0,Bt=0,tn=0,bt,ve,Le=0,_e=0,ce,tt=ce=bt=0,Ke=0,re=0,Oe=0,nt=0,ft=lt.length,Ot=ft-1,Yt,Gt="",fn="",gn="",yn="",Lt;Ke<ft;){if(ve=lt.charCodeAt(Ke),Ke===Ot&&kt+tn+Bt+mn!==0&&(kt!==0&&(ve=kt===47?10:47),tn=Bt=mn=0,ft++,Ot++),kt+tn+Bt+mn===0){if(Ke===Ot&&(0<re&&(Gt=Gt.replace(E,"")),0<Gt.trim().length)){switch(ve){case 32:case 9:case 59:case 13:case 10:break;default:Gt+=lt.charAt(Ke)}ve=59}switch(ve){case 123:for(Gt=Gt.trim(),bt=Gt.charCodeAt(0),ce=1,nt=++Ke;Ke<ft;){switch(ve=lt.charCodeAt(Ke)){case 123:ce++;break;case 125:ce--;break;case 47:switch(ve=lt.charCodeAt(Ke+1)){case 42:case 47:e:{for(tt=Ke+1;tt<Ot;++tt)switch(lt.charCodeAt(tt)){case 47:if(ve===42&&lt.charCodeAt(tt-1)===42&&Ke+2!==tt){Ke=tt+1;break e}break;case 10:if(ve===47){Ke=tt+1;break e}}Ke=tt}}break;case 91:ve++;case 40:ve++;case 34:case 39:for(;Ke++<Ot&&lt.charCodeAt(Ke)!==ve;);}if(ce===0)break;Ke++}switch(ce=lt.substring(nt,Ke),bt===0&&(bt=(Gt=Gt.replace(_,"").trim()).charCodeAt(0)),bt){case 64:switch(0<re&&(Gt=Gt.replace(E,"")),ve=Gt.charCodeAt(1),ve){case 100:case 109:case 115:case 45:re=Je;break;default:re=qe}if(ce=e(Je,re,ce,ve,Ct+1),nt=ce.length,0<et&&(re=t(qe,Gt,Oe),Lt=a(3,ce,re,Je,Ze,ct,nt,ve,Ct,Ht),Gt=re.join(""),Lt!==void 0&&(nt=(ce=Lt.trim()).length)===0&&(ve=0,ce="")),0<nt)switch(ve){case 115:Gt=Gt.replace(I,o);case 100:case 109:case 45:ce=Gt+"{"+ce+"}";break;case 107:Gt=Gt.replace(B,"$1 $2"),ce=Gt+"{"+ce+"}",ce=Mt===1||Mt===2&&s("@"+ce,3)?"@-webkit-"+ce+"@"+ce:"@"+ce;break;default:ce=Gt+ce,Ht===112&&(ce=(fn+=ce,""))}else ce="";break;default:ce=e(Je,t(Je,Gt,Oe),ce,Ht,Ct+1)}gn+=ce,ce=Oe=re=tt=bt=0,Gt="",ve=lt.charCodeAt(++Ke);break;case 125:case 59:if(Gt=(0<re?Gt.replace(E,""):Gt).trim(),1<(nt=Gt.length))switch(tt===0&&(bt=Gt.charCodeAt(0),bt===45||96<bt&&123>bt)&&(nt=(Gt=Gt.replace(" ",":")).length),0<et&&(Lt=a(1,Gt,Je,pe,Ze,ct,fn.length,Ht,Ct,Ht))!==void 0&&(nt=(Gt=Lt.trim()).length)===0&&(Gt="\0\0"),bt=Gt.charCodeAt(0),ve=Gt.charCodeAt(1),bt){case 0:break;case 64:if(ve===105||ve===99){yn+=Gt+lt.charAt(Ke);break}default:Gt.charCodeAt(nt-1)!==58&&(fn+=i(Gt,bt,ve,Gt.charCodeAt(2)))}Oe=re=tt=bt=0,Gt="",ve=lt.charCodeAt(++Ke)}}switch(ve){case 13:case 10:kt===47?kt=0:1+bt===0&&Ht!==107&&0<Gt.length&&(re=1,Gt+="\0"),0<et*ke&&a(0,Gt,Je,pe,Ze,ct,fn.length,Ht,Ct,Ht),ct=1,Ze++;break;case 59:case 125:if(kt+tn+Bt+mn===0){ct++;break}default:switch(ct++,Yt=lt.charAt(Ke),ve){case 9:case 32:if(tn+mn+kt===0)switch(Le){case 44:case 58:case 9:case 32:Yt="";break;default:ve!==32&&(Yt=" ")}break;case 0:Yt="\\0";break;case 12:Yt="\\f";break;case 11:Yt="\\v";break;case 38:tn+kt+mn===0&&(re=Oe=1,Yt="\f"+Yt);break;case 108:if(tn+kt+mn+Et===0&&0<tt)switch(Ke-tt){case 2:Le===112&&lt.charCodeAt(Ke-3)===58&&(Et=Le);case 8:_e===111&&(Et=_e)}break;case 58:tn+kt+mn===0&&(tt=Ke);break;case 44:kt+Bt+tn+mn===0&&(re=1,Yt+="\r");break;case 34:case 39:kt===0&&(tn=tn===ve?0:tn===0?ve:tn);break;case 91:tn+kt+Bt===0&&mn++;break;case 93:tn+kt+Bt===0&&mn--;break;case 41:tn+kt+mn===0&&Bt--;break;case 40:if(tn+kt+mn===0){if(bt===0)switch(2*Le+3*_e){case 533:break;default:bt=1}Bt++}break;case 64:kt+Bt+tn+mn+tt+ce===0&&(ce=1);break;case 42:case 47:if(!(0<tn+mn+Bt))switch(kt){case 0:switch(2*ve+3*lt.charCodeAt(Ke+1)){case 235:kt=47;break;case 220:nt=Ke,kt=42}break;case 42:ve===47&&Le===42&&nt+2!==Ke&&(lt.charCodeAt(nt+2)===33&&(fn+=lt.substring(nt,Ke+1)),Yt="",kt=0)}}kt===0&&(Gt+=Yt)}_e=Le,Le=ve,Ke++}if(nt=fn.length,0<nt){if(re=Je,0<et&&(Lt=a(2,fn,re,pe,Ze,ct,nt,Ht,Ct,Ht),Lt!==void 0&&(fn=Lt).length===0))return yn+fn+gn;if(fn=re.join(",")+"{"+fn+"}",Mt*Et!==0){switch(Mt!==2||s(fn,2)||(Et=0),Et){case 111:fn=fn.replace(G,":-moz-$1")+fn;break;case 112:fn=fn.replace(P,"::-webkit-input-$1")+fn.replace(P,"::-moz-$1")+fn.replace(P,":-ms-input-$1")+fn}Et=0}}return yn+fn+gn}function t(pe,Je,lt){var Ht=Je.trim().split(z);Je=Ht;var Ct=Ht.length,mn=pe.length;switch(mn){case 0:case 1:var kt=0;for(pe=mn===0?"":pe[0]+" ";kt<Ct;++kt)Je[kt]=r(pe,Je[kt],lt).trim();break;default:var Bt=kt=0;for(Je=[];kt<Ct;++kt)for(var tn=0;tn<mn;++tn)Je[Bt++]=r(pe[tn]+" ",Ht[kt],lt).trim()}return Je}function r(pe,Je,lt){var Ht=Je.charCodeAt(0);switch(33>Ht&&(Ht=(Je=Je.trim()).charCodeAt(0)),Ht){case 38:return Je.replace(L,"$1"+pe.trim());case 58:return pe.trim()+Je.replace(L,"$1"+pe.trim());default:if(0<1*lt&&0<Je.indexOf("\f"))return Je.replace(L,(pe.charCodeAt(0)===58?"":"$1")+pe.trim())}return pe+Je}function i(pe,Je,lt,Ht){var Ct=pe+";",mn=2*Je+3*lt+4*Ht;if(mn===944){pe=Ct.indexOf(":",9)+1;var kt=Ct.substring(pe,Ct.length-1).trim();return kt=Ct.substring(0,pe).trim()+kt+";",Mt===1||Mt===2&&s(kt,1)?"-webkit-"+kt+kt:kt}if(Mt===0||Mt===2&&!s(Ct,1))return Ct;switch(mn){case 1015:return Ct.charCodeAt(10)===97?"-webkit-"+Ct+Ct:Ct;case 951:return Ct.charCodeAt(3)===116?"-webkit-"+Ct+Ct:Ct;case 963:return Ct.charCodeAt(5)===110?"-webkit-"+Ct+Ct:Ct;case 1009:if(Ct.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Ct+Ct;case 978:return"-webkit-"+Ct+"-moz-"+Ct+Ct;case 1019:case 983:return"-webkit-"+Ct+"-moz-"+Ct+"-ms-"+Ct+Ct;case 883:if(Ct.charCodeAt(8)===45)return"-webkit-"+Ct+Ct;if(0<Ct.indexOf("image-set(",11))return Ct.replace(at,"$1-webkit-$2")+Ct;break;case 932:if(Ct.charCodeAt(4)===45)switch(Ct.charCodeAt(5)){case 103:return"-webkit-box-"+Ct.replace("-grow","")+"-webkit-"+Ct+"-ms-"+Ct.replace("grow","positive")+Ct;case 115:return"-webkit-"+Ct+"-ms-"+Ct.replace("shrink","negative")+Ct;case 98:return"-webkit-"+Ct+"-ms-"+Ct.replace("basis","preferred-size")+Ct}return"-webkit-"+Ct+"-ms-"+Ct+Ct;case 964:return"-webkit-"+Ct+"-ms-flex-"+Ct+Ct;case 1023:if(Ct.charCodeAt(8)!==99)break;return kt=Ct.substring(Ct.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+kt+"-webkit-"+Ct+"-ms-flex-pack"+kt+Ct;case 1005:return R.test(Ct)?Ct.replace(O,":-webkit-")+Ct.replace(O,":-moz-")+Ct:Ct;case 1e3:switch(kt=Ct.substring(13).trim(),Je=kt.indexOf("-")+1,kt.charCodeAt(0)+kt.charCodeAt(Je)){case 226:kt=Ct.replace(ue,"tb");break;case 232:kt=Ct.replace(ue,"tb-rl");break;case 220:kt=Ct.replace(ue,"lr");break;default:return Ct}return"-webkit-"+Ct+"-ms-"+kt+Ct;case 1017:if(Ct.indexOf("sticky",9)===-1)break;case 975:switch(Je=(Ct=pe).length-10,kt=(Ct.charCodeAt(Je)===33?Ct.substring(0,Je):Ct).substring(pe.indexOf(":",7)+1).trim(),mn=kt.charCodeAt(0)+(kt.charCodeAt(7)|0)){case 203:if(111>kt.charCodeAt(8))break;case 115:Ct=Ct.replace(kt,"-webkit-"+kt)+";"+Ct;break;case 207:case 102:Ct=Ct.replace(kt,"-webkit-"+(102<mn?"inline-":"")+"box")+";"+Ct.replace(kt,"-webkit-"+kt)+";"+Ct.replace(kt,"-ms-"+kt+"box")+";"+Ct}return Ct+";";case 938:if(Ct.charCodeAt(5)===45)switch(Ct.charCodeAt(6)){case 105:return kt=Ct.replace("-items",""),"-webkit-"+Ct+"-webkit-box-"+kt+"-ms-flex-"+kt+Ct;case 115:return"-webkit-"+Ct+"-ms-flex-item-"+Ct.replace(he,"")+Ct;default:return"-webkit-"+Ct+"-ms-flex-line-pack"+Ct.replace("align-content","").replace(he,"")+Ct}break;case 973:case 989:if(Ct.charCodeAt(3)!==45||Ct.charCodeAt(4)===122)break;case 931:case 953:if(He.test(pe)===!0)return(kt=pe.substring(pe.indexOf(":")+1)).charCodeAt(0)===115?i(pe.replace("stretch","fill-available"),Je,lt,Ht).replace(":fill-available",":stretch"):Ct.replace(kt,"-webkit-"+kt)+Ct.replace(kt,"-moz-"+kt.replace("fill-",""))+Ct;break;case 962:if(Ct="-webkit-"+Ct+(Ct.charCodeAt(5)===102?"-ms-"+Ct:"")+Ct,lt+Ht===211&&Ct.charCodeAt(13)===105&&0<Ct.indexOf("transform",10))return Ct.substring(0,Ct.indexOf(";",27)+1).replace(q,"$1-webkit-$2")+Ct}return Ct}function s(pe,Je){var lt=pe.indexOf(Je===1?":":"{"),Ht=pe.substring(0,Je!==3?lt:10);return lt=pe.substring(lt+1,pe.length-1),be(Je!==2?Ht:Ht.replace(ye,"$1"),lt,Je)}function o(pe,Je){var lt=i(Je,Je.charCodeAt(0),Je.charCodeAt(1),Je.charCodeAt(2));return lt!==Je+";"?lt.replace(J," or ($1)").substring(4):"("+Je+")"}function a(pe,Je,lt,Ht,Ct,mn,kt,Bt,tn,bt){for(var ve=0,Le=Je,_e;ve<et;++ve)switch(_e=te[ve].call(p,pe,Le,lt,Ht,Ct,mn,kt,Bt,tn,bt)){case void 0:case!1:case!0:case null:break;default:Le=_e}if(Le!==Je)return Le}function l(pe){switch(pe){case void 0:case null:et=te.length=0;break;default:if(typeof pe=="function")te[et++]=pe;else if(typeof pe=="object")for(var Je=0,lt=pe.length;Je<lt;++Je)l(pe[Je]);else ke=!!pe|0}return l}function f(pe){return pe=pe.prefix,pe!==void 0&&(be=null,pe?typeof pe!="function"?Mt=1:(Mt=2,be=pe):Mt=0),f}function p(pe,Je){var lt=pe;if(33>lt.charCodeAt(0)&&(lt=lt.trim()),we=lt,lt=[we],0<et){var Ht=a(-1,Je,lt,lt,Ze,ct,0,0,0,0);Ht!==void 0&&typeof Ht=="string"&&(Je=Ht)}var Ct=e(qe,lt,Je,0,0);return 0<et&&(Ht=a(-2,Ct,lt,lt,Ze,ct,Ct.length,0,0,0),Ht!==void 0&&(Ct=Ht)),we="",Et=0,ct=Ze=1,Ct}var _=/^\0+/g,E=/[\0\r\f]/g,O=/: */g,R=/zoo|gra/,q=/([,: ])(transform)/g,z=/,\r+?/g,L=/([\t\r\n ])*\f?&/g,B=/@(k\w+)\s*(\S*)\s*/,P=/::(place)/g,G=/:(read-only)/g,ue=/[svh]\w+-[tblr]{2}/,I=/\(\s*(.*)\s*\)/g,J=/([\s\S]*?);/g,he=/-self|flex-/g,ye=/[^]*?(:[rp][el]a[\w-]+)[^]*/,He=/stretch|:\s*\w+\-(?:conte|avail)/,at=/([^-])(image-set\()/,ct=1,Ze=1,Et=0,Mt=1,qe=[],te=[],et=0,be=null,ke=0,we="";return p.use=l,p.set=f,n!==void 0&&f(n),p}var z1e=M$e;m();var P$e={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},H1e=P$e;var nX=fr(K1e()),lme=fr(ame());function b2(){return(b2=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}var cme=function(n,e){for(var t=[n[0]],r=0,i=e.length;r<i;r+=1)t.push(e[r],n[r+1]);return t},rX=function(n){return n!==null&&typeof n=="object"&&(n.toString?n.toString():Object.prototype.toString.call(n))==="[object Object]"&&!(0,_M.typeOf)(n)},bM=Object.freeze([]),n5=Object.freeze({});function HT(n){return typeof n=="function"}function fme(n){return n.displayName||n.name||"Component"}function iX(n){return n&&typeof n.styledComponentId=="string"}var r5=typeof process!="undefined"&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled";var sX=typeof window!="undefined"&&"HTMLElement"in window,nze=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process!="undefined"&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==""?process.env.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&process.env.REACT_APP_SC_DISABLE_SPEEDY:typeof process!="undefined"&&process.env.SC_DISABLE_SPEEDY!==void 0&&process.env.SC_DISABLE_SPEEDY!==""?process.env.SC_DISABLE_SPEEDY!=="false"&&process.env.SC_DISABLE_SPEEDY:!1);function Cg(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+n+" for more information."+(t.length>0?" Args: "+t.join(", "):""))}var rze=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=n.prototype;return e.indexOfGroup=function(t){for(var r=0,i=0;i<t;i++)r+=this.groupSizes[i];return r},e.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,o=s;t>=o;)(o<<=1)<0&&Cg(16,""+t);this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(t+1),f=0,p=r.length;f<p;f++)this.tag.insertRule(l,r[f])&&(this.groupSizes[t]++,l++)},e.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],i=this.indexOfGroup(t),s=i+r;this.groupSizes[t]=0;for(var o=i;o<s;o++)this.tag.deleteRule(i)}},e.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var i=this.groupSizes[t],s=this.indexOfGroup(t),o=s+i,a=s;a<o;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},n}(),EM=new Map,SM=new Map,VT=1,wM=function(n){if(EM.has(n))return EM.get(n);for(;SM.has(VT);)VT++;var e=VT++;return EM.set(n,e),SM.set(e,n),e},ize=function(n){return SM.get(n)},sze=function(n,e){e>=VT&&(VT=e+1),EM.set(n,e),SM.set(e,n)},oze="style["+r5+'][data-styled-version="5.3.6"]',aze=new RegExp("^"+r5+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),uze=function(n,e,t){for(var r,i=t.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&n.registerName(e,r)},lze=function(n,e){for(var t=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,s=t.length;i<s;i++){var o=t[i].trim();if(o){var a=o.match(aze);if(a){var l=0|parseInt(a[1],10),f=a[2];l!==0&&(sze(f,l),uze(n,f,a[3]),n.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},oX=function(){return typeof __webpack_nonce__!="undefined"?__webpack_nonce__:null},dme=function(n){var e=document.head,t=n||e,r=document.createElement("style"),i=function(a){for(var l=a.childNodes,f=l.length;f>=0;f--){var p=l[f];if(p&&p.nodeType===1&&p.hasAttribute(r5))return p}}(t),s=i!==void 0?i.nextSibling:null;r.setAttribute(r5,"active"),r.setAttribute("data-styled-version","5.3.6");var o=oX();return o&&r.setAttribute("nonce",o),t.insertBefore(r,s),r},cze=function(){function n(t){var r=this.element=dme(t);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var l=s[o];if(l.ownerNode===i)return l}Cg(17)}(r),this.length=0}var e=n.prototype;return e.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var r=this.sheet.cssRules[t];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},n}(),fze=function(){function n(t){var r=this.element=dme(t);this.nodes=r.childNodes,this.length=0}var e=n.prototype;return e.insertRule=function(t,r){if(t<=this.length&&t>=0){var i=document.createTextNode(r),s=this.nodes[t];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),dze=function(){function n(t){this.rules=[],this.length=0}var e=n.prototype;return e.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),hme=sX,hze={isServer:!sX,useCSSOMInjection:!nze},WT=function(){function n(t,r,i){t===void 0&&(t=n5),r===void 0&&(r={}),this.options=b2({},hze,{},t),this.gs=r,this.names=new Map(i),this.server=!!t.isServer,!this.server&&sX&&hme&&(hme=!1,function(s){for(var o=document.querySelectorAll(oze),a=0,l=o.length;a<l;a++){var f=o[a];f&&f.getAttribute(r5)!=="active"&&(lze(s,f),f.parentNode&&f.parentNode.removeChild(f))}}(this))}n.registerId=function(t){return wM(t)};var e=n.prototype;return e.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new n(b2({},this.options,{},t),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,s=r.useCSSOMInjection,o=r.target,t=i?new dze(o):s?new cze(o):new fze(o),new rze(t)));var t,r,i,s,o},e.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.registerName=function(t,r){if(wM(t),this.names.has(t))this.names.get(t).add(r);else{var i=new Set;i.add(r),this.names.set(t,i)}},e.insertRules=function(t,r,i){this.registerName(t,r),this.getTag().insertRules(wM(t),i)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(wM(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var r=t.getTag(),i=r.length,s="",o=0;o<i;o++){var a=ize(o);if(a!==void 0){var l=t.names.get(a),f=r.getGroup(o);if(l&&f&&l.size){var p=r5+".g"+o+'[id="'+a+'"]',_="";l!==void 0&&l.forEach(function(E){E.length>0&&(_+=E+",")}),s+=""+f+p+'{content:"'+_+`"}/*!sc*/
`}}}return s}(this)},n}(),pze=/(a)(d)/gi,pme=function(n){return String.fromCharCode(n+(n>25?39:97))};function aX(n){var e,t="";for(e=Math.abs(n);e>52;e=e/52|0)t=pme(e%52)+t;return(pme(e%52)+t).replace(pze,"$1-$2")}var V7=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},mme=function(n){return V7(5381,n)};function xme(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(HT(t)&&!iX(t))return!1}return!0}var mze=mme("5.3.6"),xze=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&xme(e),this.componentId=t,this.baseHash=V7(mze,t),this.baseStyle=r,WT.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var o=q_(this.rules,e,t,r).join(""),a=aX(V7(this.baseHash,o)>>>0);if(!t.hasNameForId(i,a)){var l=r(o,"."+a,void 0,i);t.insertRules(i,a,l)}s.push(a),this.staticRulesId=a}else{for(var f=this.rules.length,p=V7(this.baseHash,r.hash),_="",E=0;E<f;E++){var O=this.rules[E];if(typeof O=="string")_+=O;else if(O){var R=q_(O,e,t,r),q=Array.isArray(R)?R.join(""):R;p=V7(p,q+E),_+=q}}if(_){var z=aX(p>>>0);if(!t.hasNameForId(i,z)){var L=r(_,"."+z,void 0,i);t.insertRules(i,z,L)}s.push(z)}}return s.join(" ")},n}(),gze=/^\s*\/\/.*$/gm,yze=[":","[",".","#"];function gme(n){var e,t,r,i,s=n===void 0?n5:n,o=s.options,a=o===void 0?n5:o,l=s.plugins,f=l===void 0?bM:l,p=new z1e(a),_=[],E=function(q){function z(L){if(L)try{q(L+"}")}catch{}}return function(L,B,P,G,ue,I,J,he,ye,He){switch(L){case 1:if(ye===0&&B.charCodeAt(0)===64)return q(B+";"),"";break;case 2:if(he===0)return B+"/*|*/";break;case 3:switch(he){case 102:case 112:return q(P[0]+B),"";default:return B+(He===0?"/*|*/":"")}case-2:B.split("/*|*/}").forEach(z)}}}(function(q){_.push(q)}),O=function(q,z,L){return z===0&&yze.indexOf(L[t.length])!==-1||L.match(i)?q:"."+e};function R(q,z,L,B){B===void 0&&(B="&");var P=q.replace(gze,""),G=z&&L?L+" "+z+" { "+P+" }":P;return e=B,t=z,r=new RegExp("\\"+t+"\\b","g"),i=new RegExp("(\\"+t+"\\b){2,}"),p(L||!z?"":z,G)}return p.use([].concat(f,[function(q,z,L){q===2&&L.length&&L[0].lastIndexOf(t)>0&&(L[0]=L[0].replace(r,O))},E,function(q){if(q===-2){var z=_;return _=[],z}}])),R.hash=f.length?f.reduce(function(q,z){return z.name||Cg(15),V7(q,z.name)},5381).toString():"",R}var uX=Uu.default.createContext(),PSt=uX.Consumer,lX=Uu.default.createContext(),vze=(lX.Consumer,new WT),cX=gme();function yme(){return(0,Uu.useContext)(uX)||vze}function _ze(){return(0,Uu.useContext)(lX)||cX}function bze(n){var e=(0,Uu.useState)(n.stylisPlugins),t=e[0],r=e[1],i=yme(),s=(0,Uu.useMemo)(function(){var a=i;return n.sheet?a=n.sheet:n.target&&(a=a.reconstructWithOptions({target:n.target},!1)),n.disableCSSOMInjection&&(a=a.reconstructWithOptions({useCSSOMInjection:!1})),a},[n.disableCSSOMInjection,n.sheet,n.target]),o=(0,Uu.useMemo)(function(){return gme({options:{prefix:!n.disableVendorPrefixes},plugins:t})},[n.disableVendorPrefixes,t]);return(0,Uu.useEffect)(function(){(0,ume.default)(t,n.stylisPlugins)||r(n.stylisPlugins)},[n.stylisPlugins]),Uu.default.createElement(uX.Provider,{value:s},Uu.default.createElement(lX.Provider,{value:o},n.children))}var vme=function(){function n(e,t){var r=this;this.inject=function(i,s){s===void 0&&(s=cX);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.toString=function(){return Cg(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return n.prototype.getName=function(e){return e===void 0&&(e=cX),this.name+e.hash},n}(),Eze=/([A-Z])/,Sze=/([A-Z])/g,wze=/^ms-/,Cze=function(n){return"-"+n.toLowerCase()};function _me(n){return Eze.test(n)?n.replace(Sze,Cze).replace(wze,"-ms-"):n}var bme=function(n){return n==null||n===!1||n===""};function q_(n,e,t,r){if(Array.isArray(n)){for(var i,s=[],o=0,a=n.length;o<a;o+=1)(i=q_(n[o],e,t,r))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if(bme(n))return"";if(iX(n))return"."+n.styledComponentId;if(HT(n)){if(typeof(f=n)!="function"||f.prototype&&f.prototype.isReactComponent||!e)return n;var l=n(e);return q_(l,e,t,r)}var f;return n instanceof vme?t?(n.inject(t,r),n.getName(r)):n:rX(n)?function p(_,E){var O,R,q=[];for(var z in _)_.hasOwnProperty(z)&&!bme(_[z])&&(Array.isArray(_[z])&&_[z].isCss||HT(_[z])?q.push(_me(z)+":",_[z],";"):rX(_[z])?q.push.apply(q,p(_[z],z)):q.push(_me(z)+": "+(O=z,(R=_[z])==null||typeof R=="boolean"||R===""?"":typeof R!="number"||R===0||O in H1e?String(R).trim():R+"px")+";"));return E?[E+" {"].concat(q,["}"]):q}(n):n.toString()}var Eme=function(n){return Array.isArray(n)&&(n.isCss=!0),n};function Sme(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return HT(n)||rX(n)?Eme(q_(cme(bM,[n].concat(t)))):t.length===0&&n.length===1&&typeof n[0]=="string"?n:Eme(q_(cme(n,t)))}var Aze=function(n,e,t){return t===void 0&&(t=n5),n.theme!==t.theme&&n.theme||e||t.theme},Tze=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Fze=/(^-|-$)/g;function fX(n){return n.replace(Tze,"-").replace(Fze,"")}var wme=function(n){return aX(mme(n)>>>0)};function CM(n){return typeof n=="string"&&!0}var dX=function(n){return typeof n=="function"||typeof n=="object"&&n!==null&&!Array.isArray(n)},Dze=function(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"};function Oze(n,e,t){var r=n[t];dX(e)&&dX(r)?Cme(r,e):n[t]=e}function Cme(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(var i=0,s=t;i<s.length;i++){var o=s[i];if(dX(o))for(var a in o)Dze(a)&&Oze(n,o[a],a)}return n}var Ame=Uu.default.createContext(),BSt=Ame.Consumer;var hX={};function Tme(n,e,t){var r=iX(n),i=!CM(n),s=e.attrs,o=s===void 0?bM:s,a=e.componentId,l=a===void 0?function(B,P){var G=typeof B!="string"?"sc":fX(B);hX[G]=(hX[G]||0)+1;var ue=G+"-"+wme("5.3.6"+G+hX[G]);return P?P+"-"+ue:ue}(e.displayName,e.parentComponentId):a,f=e.displayName,p=f===void 0?function(B){return CM(B)?"styled."+B:"Styled("+fme(B)+")"}(n):f,_=e.displayName&&e.componentId?fX(e.displayName)+"-"+e.componentId:e.componentId||l,E=r&&n.attrs?Array.prototype.concat(n.attrs,o).filter(Boolean):o,O=e.shouldForwardProp;r&&n.shouldForwardProp&&(O=e.shouldForwardProp?function(B,P,G){return n.shouldForwardProp(B,P,G)&&e.shouldForwardProp(B,P,G)}:n.shouldForwardProp);var R,q=new xze(t,_,r?n.componentStyle:void 0),z=q.isStatic&&o.length===0,L=function(B,P){return function(G,ue,I,J){var he=G.attrs,ye=G.componentStyle,He=G.defaultProps,at=G.foldedComponentIds,ct=G.shouldForwardProp,Ze=G.styledComponentId,Et=G.target,Mt=function(Ht,Ct,mn){Ht===void 0&&(Ht=n5);var kt=b2({},Ct,{theme:Ht}),Bt={};return mn.forEach(function(tn){var bt,ve,Le,_e=tn;for(bt in HT(_e)&&(_e=_e(kt)),_e)kt[bt]=Bt[bt]=bt==="className"?(ve=Bt[bt],Le=_e[bt],ve&&Le?ve+" "+Le:ve||Le):_e[bt]}),[kt,Bt]}(Aze(ue,(0,Uu.useContext)(Ame),He)||n5,ue,he),qe=Mt[0],te=Mt[1],et=function(Ht,Ct,mn,kt){var Bt=yme(),tn=_ze(),bt=Ct?Ht.generateAndInjectStyles(n5,Bt,tn):Ht.generateAndInjectStyles(mn,Bt,tn);return bt}(ye,J,qe,void 0),be=I,ke=te.$as||ue.$as||te.as||ue.as||Et,we=CM(ke),pe=te!==ue?b2({},ue,{},te):ue,Je={};for(var lt in pe)lt[0]!=="$"&&lt!=="as"&&(lt==="forwardedAs"?Je.as=pe[lt]:(ct?ct(lt,nX.default,ke):!we||(0,nX.default)(lt))&&(Je[lt]=pe[lt]));return ue.style&&te.style!==ue.style&&(Je.style=b2({},ue.style,{},te.style)),Je.className=Array.prototype.concat(at,Ze,et!==Ze?et:null,ue.className,te.className).filter(Boolean).join(" "),Je.ref=be,(0,Uu.createElement)(ke,Je)}(R,B,P,z)};return L.displayName=p,(R=Uu.default.forwardRef(L)).attrs=E,R.componentStyle=q,R.displayName=p,R.shouldForwardProp=O,R.foldedComponentIds=r?Array.prototype.concat(n.foldedComponentIds,n.styledComponentId):bM,R.styledComponentId=_,R.target=r?n.target:n,R.withComponent=function(B){var P=e.componentId,G=function(I,J){if(I==null)return{};var he,ye,He={},at=Object.keys(I);for(ye=0;ye<at.length;ye++)he=at[ye],J.indexOf(he)>=0||(He[he]=I[he]);return He}(e,["componentId"]),ue=P&&P+"-"+(CM(B)?B:fX(fme(B)));return Tme(B,b2({},G,{attrs:E,componentId:ue}),t)},Object.defineProperty(R,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(B){this._foldedDefaultProps=r?Cme({},n.defaultProps,B):B}}),R.toString=function(){return"."+R.styledComponentId},i&&(0,lme.default)(R,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),R}var pX=function(n){return function e(t,r,i){if(i===void 0&&(i=n5),!(0,_M.isValidElementType)(r))return Cg(1,String(r));var s=function(){return t(r,i,Sme.apply(void 0,arguments))};return s.withConfig=function(o){return e(t,r,b2({},i,{},o))},s.attrs=function(o){return e(t,r,b2({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s}(Tme,n)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(n){pX[n]=pX(n)});var jSt=function(){function n(t,r){this.rules=t,this.componentId=r,this.isStatic=xme(t),WT.registerId(this.componentId+1)}var e=n.prototype;return e.createStyles=function(t,r,i,s){var o=s(q_(this.rules,r,i,s).join(""),""),a=this.componentId+t;i.insertRules(a,a,o)},e.removeStyles=function(t,r){r.clearRules(this.componentId+t)},e.renderStyles=function(t,r,i,s){t>2&&WT.registerId(this.componentId+t),this.removeStyles(t,i),this.createStyles(t,r,i,s)},n}();function Fme(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=Sme.apply(void 0,[n].concat(t)).join(""),s=wme(i);return new vme(s,i)}var qSt=function(){function n(){var t=this;this._emitSheetCSS=function(){var r=t.instance.toString();if(!r)return"";var i=oX();return"<style "+[i&&'nonce="'+i+'"',r5+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+r+"</style>"},this.getStyleTags=function(){return t.sealed?Cg(2):t._emitSheetCSS()},this.getStyleElement=function(){var r;if(t.sealed)return Cg(2);var i=((r={})[r5]="",r["data-styled-version"]="5.3.6",r.dangerouslySetInnerHTML={__html:t.instance.toString()},r),s=oX();return s&&(i.nonce=s),[Uu.default.createElement("style",b2({},i,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new WT({isServer:!0}),this.sealed=!1}var e=n.prototype;return e.collectStyles=function(t){return this.sealed?Cg(2):Uu.default.createElement(bze,{sheet:this.instance},t)},e.interleaveWithNodeStream=function(t){return Cg(3)},n}();var Bn=pX;m();m();m();var i5=fr(Dme()),AM=fr(Ome());var vX=[{id:"abap",scopeName:"source.abap",path:"abap.tmLanguage.json",samplePath:"abap.sample"},{id:"actionscript-3",scopeName:"source.actionscript.3",path:"actionscript-3.tmLanguage.json",samplePath:"actionscript-3.sample"},{id:"ada",scopeName:"source.ada",path:"ada.tmLanguage.json",samplePath:"ada.sample"},{id:"apache",scopeName:"source.apacheconf",path:"apache.tmLanguage.json"},{id:"apex",scopeName:"source.apex",path:"apex.tmLanguage.json",samplePath:"apex.sample"},{id:"apl",scopeName:"source.apl",path:"apl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","json"]},{id:"applescript",scopeName:"source.applescript",path:"applescript.tmLanguage.json",samplePath:"applescript.sample"},{id:"asm",scopeName:"source.asm.x86_64",path:"asm.tmLanguage.json",samplePath:"asm.sample"},{id:"astro",scopeName:"text.html.astro",path:"astro.tmLanguage.json",samplePath:"astro.sample",embeddedLangs:["css","javascript","less","sass","scss","stylus","typescript","tsx"]},{id:"awk",scopeName:"source.awk",path:"awk.tmLanguage.json",samplePath:"awk.sample"},{id:"ballerina",scopeName:"source.ballerina",path:"ballerina.tmLanguage.json",samplePath:"ballerina.sample"},{id:"bat",scopeName:"source.batchfile",path:"bat.tmLanguage.json",samplePath:"bat.sample",aliases:["batch"]},{id:"berry",scopeName:"source.berry",path:"berry.tmLanguage.json",samplePath:"berry.sample",aliases:["be"]},{id:"bibtex",scopeName:"text.bibtex",path:"bibtex.tmLanguage.json"},{id:"bicep",scopeName:"source.bicep",path:"bicep.tmLanguage.json",samplePath:"bicep.sample"},{id:"c",scopeName:"source.c",path:"c.tmLanguage.json",samplePath:"c.sample"},{id:"clojure",scopeName:"source.clojure",path:"clojure.tmLanguage.json",samplePath:"clojure.sample",aliases:["clj"]},{id:"cobol",scopeName:"source.cobol",path:"cobol.tmLanguage.json",samplePath:"cobol.sample",embeddedLangs:["sql","html","java"]},{id:"codeql",scopeName:"source.ql",path:"codeql.tmLanguage.json",samplePath:"codeql.sample",aliases:["ql"]},{id:"coffee",scopeName:"source.coffee",path:"coffee.tmLanguage.json",samplePath:"coffee.sample",embeddedLangs:["javascript"]},{id:"cpp",scopeName:"source.cpp",path:"cpp.tmLanguage.json",samplePath:"cpp.sample",embeddedLangs:["sql"]},{id:"crystal",scopeName:"source.crystal",path:"crystal.tmLanguage.json",samplePath:"crystal.sample",embeddedLangs:["html","sql","css","c","javascript","shellscript"]},{id:"csharp",scopeName:"source.cs",path:"csharp.tmLanguage.json",samplePath:"csharp.sample",aliases:["c#"]},{id:"css",scopeName:"source.css",path:"css.tmLanguage.json",samplePath:"css.sample"},{id:"cue",scopeName:"source.cue",path:"cue.tmLanguage.json",samplePath:"cue.sample"},{id:"d",scopeName:"source.d",path:"d.tmLanguage.json",samplePath:"d.sample"},{id:"dart",scopeName:"source.dart",path:"dart.tmLanguage.json",samplePath:"dart.sample"},{id:"diff",scopeName:"source.diff",path:"diff.tmLanguage.json",samplePath:"diff.sample"},{id:"docker",scopeName:"source.dockerfile",path:"docker.tmLanguage.json",samplePath:"docker.sample"},{id:"dream-maker",scopeName:"source.dm",path:"dream-maker.tmLanguage.json"},{id:"elixir",scopeName:"source.elixir",path:"elixir.tmLanguage.json",samplePath:"elixir.sample",embeddedLangs:["html"]},{id:"elm",scopeName:"source.elm",path:"elm.tmLanguage.json",samplePath:"elm.sample"},{id:"erb",scopeName:"text.html.erb",path:"erb.tmLanguage.json",samplePath:"erb.sample",embeddedLangs:["html","ruby"]},{id:"erlang",scopeName:"source.erlang",path:"erlang.tmLanguage.json",samplePath:"erlang.sample"},{id:"fish",scopeName:"source.fish",path:"fish.tmLanguage.json",samplePath:"fish.sample"},{id:"fsharp",scopeName:"source.fsharp",path:"fsharp.tmLanguage.json",samplePath:"fsharp.sample",aliases:["f#"],embeddedLangs:["markdown"]},{id:"gherkin",scopeName:"text.gherkin.feature",path:"gherkin.tmLanguage.json"},{id:"git-commit",scopeName:"text.git-commit",path:"git-commit.tmLanguage.json",embeddedLangs:["diff"]},{id:"git-rebase",scopeName:"text.git-rebase",path:"git-rebase.tmLanguage.json",embeddedLangs:["shellscript"]},{id:"gnuplot",scopeName:"source.gnuplot",path:"gnuplot.tmLanguage.json"},{id:"go",scopeName:"source.go",path:"go.tmLanguage.json",samplePath:"go.sample"},{id:"graphql",scopeName:"source.graphql",path:"graphql.tmLanguage.json",embeddedLangs:["javascript","typescript","jsx","tsx"]},{id:"groovy",scopeName:"source.groovy",path:"groovy.tmLanguage.json"},{id:"hack",scopeName:"source.hack",path:"hack.tmLanguage.json",embeddedLangs:["html","sql"]},{id:"haml",scopeName:"text.haml",path:"haml.tmLanguage.json",embeddedLangs:["ruby","javascript","sass","coffee","markdown","css"]},{id:"handlebars",scopeName:"text.html.handlebars",path:"handlebars.tmLanguage.json",aliases:["hbs"],embeddedLangs:["html","css","javascript","yaml"]},{id:"haskell",scopeName:"source.haskell",path:"haskell.tmLanguage.json"},{id:"hcl",scopeName:"source.hcl",path:"hcl.tmLanguage.json"},{id:"hlsl",scopeName:"source.hlsl",path:"hlsl.tmLanguage.json"},{id:"html",scopeName:"text.html.basic",path:"html.tmLanguage.json",samplePath:"html.sample",embeddedLangs:["javascript","css"]},{id:"ini",scopeName:"source.ini",path:"ini.tmLanguage.json"},{id:"java",scopeName:"source.java",path:"java.tmLanguage.json",samplePath:"java.sample"},{id:"javascript",scopeName:"source.js",path:"javascript.tmLanguage.json",samplePath:"javascript.sample",aliases:["js"]},{id:"jinja-html",scopeName:"text.html.jinja",path:"jinja-html.tmLanguage.json",embeddedLangs:["html"]},{id:"json",scopeName:"source.json",path:"json.tmLanguage.json"},{id:"jsonc",scopeName:"source.json.comments",path:"jsonc.tmLanguage.json"},{id:"jsonnet",scopeName:"source.jsonnet",path:"jsonnet.tmLanguage.json"},{id:"jssm",scopeName:"source.jssm",path:"jssm.tmLanguage.json",samplePath:"jssm.sample",aliases:["fsl"]},{id:"jsx",scopeName:"source.js.jsx",path:"jsx.tmLanguage.json"},{id:"julia",scopeName:"source.julia",path:"julia.tmLanguage.json",embeddedLangs:["cpp","python","javascript","r","sql"]},{id:"jupyter",scopeName:"source.jupyter",path:"jupyter.tmLanguage.json",embeddedLangs:["json"]},{id:"kotlin",scopeName:"source.kotlin",path:"kotlin.tmLanguage.json"},{id:"latex",scopeName:"text.tex.latex",path:"latex.tmLanguage.json",embeddedLangs:["tex","css","html","java","javascript","typescript","lua","python","julia","ruby","xml","yaml","cpp","haskell","scala","gnuplot"]},{id:"less",scopeName:"source.css.less",path:"less.tmLanguage.json",embeddedLangs:["css"]},{id:"lisp",scopeName:"source.lisp",path:"lisp.tmLanguage.json"},{id:"logo",scopeName:"source.logo",path:"logo.tmLanguage.json"},{id:"lua",scopeName:"source.lua",path:"lua.tmLanguage.json",embeddedLangs:["c"]},{id:"make",scopeName:"source.makefile",path:"make.tmLanguage.json",aliases:["makefile"]},{id:"markdown",scopeName:"text.html.markdown",path:"markdown.tmLanguage.json",aliases:["md"],embeddedLangs:["css","html","ini","java","lua","make","perl","r","ruby","php","sql","vb","xml","xsl","yaml","bat","clojure","coffee","c","cpp","diff","docker","git-commit","git-rebase","go","groovy","pug","javascript","json","jsonc","less","objective-c","swift","scss","raku","powershell","python","rust","scala","shellscript","typescript","tsx","csharp","fsharp","dart","handlebars","erlang","elixir","latex","bibtex"]},{id:"marko",scopeName:"text.marko",path:"marko.tmLanguage.json",samplePath:"marko.sample",embeddedLangs:["css","less","scss","javascript"]},{id:"matlab",scopeName:"source.matlab",path:"matlab.tmLanguage.json"},{id:"mdx",scopeName:"text.html.markdown.jsx",path:"mdx.tmLanguage.json",embeddedLangs:["jsx","markdown"]},{id:"nginx",scopeName:"source.nginx",path:"nginx.tmLanguage.json",embeddedLangs:["lua"]},{id:"nim",scopeName:"source.nim",path:"nim.tmLanguage.json",embeddedLangs:["c","html","xml","javascript","css","markdown"]},{id:"nix",scopeName:"source.nix",path:"nix.tmLanguage.json"},{id:"objective-c",scopeName:"source.objc",path:"objective-c.tmLanguage.json",aliases:["objc"]},{id:"objective-cpp",scopeName:"source.objcpp",path:"objective-cpp.tmLanguage.json"},{id:"ocaml",scopeName:"source.ocaml",path:"ocaml.tmLanguage.json"},{id:"pascal",scopeName:"source.pascal",path:"pascal.tmLanguage.json"},{id:"perl",scopeName:"source.perl",path:"perl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","sql"]},{id:"php",scopeName:"source.php",path:"php.tmLanguage.json",embeddedLangs:["html","xml","sql","javascript","json","css"]},{id:"plsql",scopeName:"source.plsql.oracle",path:"plsql.tmLanguage.json"},{id:"postcss",scopeName:"source.css.postcss",path:"postcss.tmLanguage.json"},{id:"powershell",scopeName:"source.powershell",path:"powershell.tmLanguage.json",aliases:["ps","ps1"]},{id:"prisma",scopeName:"source.prisma",path:"prisma.tmLanguage.json",samplePath:"prisma.sample"},{id:"prolog",scopeName:"source.prolog",path:"prolog.tmLanguage.json"},{id:"pug",scopeName:"text.pug",path:"pug.tmLanguage.json",aliases:["jade"],embeddedLangs:["javascript","css","sass","stylus","coffee","html"]},{id:"puppet",scopeName:"source.puppet",path:"puppet.tmLanguage.json"},{id:"purescript",scopeName:"source.purescript",path:"purescript.tmLanguage.json"},{id:"python",scopeName:"source.python",path:"python.tmLanguage.json",samplePath:"python.sample",aliases:["py"]},{id:"r",scopeName:"source.r",path:"r.tmLanguage.json"},{id:"raku",scopeName:"source.perl.6",path:"raku.tmLanguage.json",aliases:["perl6"]},{id:"razor",scopeName:"text.aspnetcorerazor",path:"razor.tmLanguage.json",embeddedLangs:["html","csharp"]},{id:"rel",scopeName:"source.rel",path:"rel.tmLanguage.json",samplePath:"rel.sample"},{id:"riscv",scopeName:"source.riscv",path:"riscv.tmLanguage.json"},{id:"ruby",scopeName:"source.ruby",path:"ruby.tmLanguage.json",samplePath:"ruby.sample",aliases:["rb"],embeddedLangs:["html","xml","sql","css","c","javascript","shellscript","lua"]},{id:"rust",scopeName:"source.rust",path:"rust.tmLanguage.json",aliases:["rs"]},{id:"sas",scopeName:"source.sas",path:"sas.tmLanguage.json",embeddedLangs:["sql"]},{id:"sass",scopeName:"source.sass",path:"sass.tmLanguage.json"},{id:"scala",scopeName:"source.scala",path:"scala.tmLanguage.json"},{id:"scheme",scopeName:"source.scheme",path:"scheme.tmLanguage.json"},{id:"scss",scopeName:"source.css.scss",path:"scss.tmLanguage.json",embeddedLangs:["css"]},{id:"shaderlab",scopeName:"source.shaderlab",path:"shaderlab.tmLanguage.json",aliases:["shader"],embeddedLangs:["hlsl"]},{id:"shellscript",scopeName:"source.shell",path:"shellscript.tmLanguage.json",aliases:["shell","bash","sh","zsh"],embeddedLangs:["ruby","python","applescript","html","markdown"]},{id:"smalltalk",scopeName:"source.smalltalk",path:"smalltalk.tmLanguage.json"},{id:"solidity",scopeName:"source.solidity",path:"solidity.tmLanguage.json"},{id:"sparql",scopeName:"source.sparql",path:"sparql.tmLanguage.json",samplePath:"sparql.sample",embeddedLangs:["turtle"]},{id:"sql",scopeName:"source.sql",path:"sql.tmLanguage.json"},{id:"ssh-config",scopeName:"source.ssh-config",path:"ssh-config.tmLanguage.json"},{id:"stata",scopeName:"source.stata",path:"stata.tmLanguage.json",samplePath:"stata.sample",embeddedLangs:["sql"]},{id:"stylus",scopeName:"source.stylus",path:"stylus.tmLanguage.json",aliases:["styl"]},{id:"svelte",scopeName:"source.svelte",path:"svelte.tmLanguage.json",embeddedLangs:["javascript","typescript","coffee","stylus","sass","css","scss","less","postcss","pug","markdown"]},{id:"swift",scopeName:"source.swift",path:"swift.tmLanguage.json"},{id:"system-verilog",scopeName:"source.systemverilog",path:"system-verilog.tmLanguage.json"},{id:"tasl",scopeName:"source.tasl",path:"tasl.tmLanguage.json",samplePath:"tasl.sample"},{id:"tcl",scopeName:"source.tcl",path:"tcl.tmLanguage.json"},{id:"tex",scopeName:"text.tex",path:"tex.tmLanguage.json",embeddedLangs:["r"]},{id:"toml",scopeName:"source.toml",path:"toml.tmLanguage.json"},{id:"tsx",scopeName:"source.tsx",path:"tsx.tmLanguage.json",samplePath:"tsx.sample"},{id:"turtle",scopeName:"source.turtle",path:"turtle.tmLanguage.json",samplePath:"turtle.sample"},{id:"twig",scopeName:"text.html.twig",path:"twig.tmLanguage.json",embeddedLangs:["css","javascript","php","python","ruby"]},{id:"typescript",scopeName:"source.ts",path:"typescript.tmLanguage.json",aliases:["ts"]},{id:"vb",scopeName:"source.asp.vb.net",path:"vb.tmLanguage.json",aliases:["cmd"]},{id:"verilog",scopeName:"source.verilog",path:"verilog.tmLanguage.json"},{id:"vhdl",scopeName:"source.vhdl",path:"vhdl.tmLanguage.json"},{id:"viml",scopeName:"source.viml",path:"viml.tmLanguage.json",aliases:["vim","vimscript"]},{id:"vue-html",scopeName:"text.html.vue-html",path:"vue-html.tmLanguage.json",embeddedLangs:["vue","javascript"]},{id:"vue",scopeName:"source.vue",path:"vue.tmLanguage.json",embeddedLangs:["json","markdown","pug","haml","vue-html","sass","scss","less","stylus","postcss","css","typescript","coffee","javascript"]},{id:"wasm",scopeName:"source.wat",path:"wasm.tmLanguage.json"},{id:"wenyan",scopeName:"source.wenyan",path:"wenyan.tmLanguage.json",aliases:["\u6587\u8A00"]},{id:"xml",scopeName:"text.xml",path:"xml.tmLanguage.json",embeddedLangs:["java"]},{id:"xsl",scopeName:"text.xml.xsl",path:"xsl.tmLanguage.json",embeddedLangs:["xml"]},{id:"yaml",scopeName:"source.yaml",path:"yaml.tmLanguage.json"},{id:"zenscript",scopeName:"source.zenscript",path:"zenscript.tmLanguage.json",samplePath:"zenscript.sample"}],W7;(function(n){n[n.NotSet=-1]="NotSet",n[n.None=0]="None",n[n.Italic=1]="Italic",n[n.Bold=2]="Bold",n[n.Underline=4]="Underline"})(W7||(W7={}));var oh=class{static toBinaryStr(e){let t=e.toString(2);for(;t.length<32;)t="0"+t;return t}static printMetadata(e){let t=oh.getLanguageId(e),r=oh.getTokenType(e),i=oh.getFontStyle(e),s=oh.getForeground(e),o=oh.getBackground(e);console.log({languageId:t,tokenType:r,fontStyle:i,foreground:s,background:o})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&1792)>>>8}static getFontStyle(e){return(e&14336)>>>11}static getForeground(e){return(e&8372224)>>>14}static getBackground(e){return(e&4286578688)>>>23}static set(e,t,r,i,s,o){let a=oh.getLanguageId(e),l=oh.getTokenType(e),f=oh.getFontStyle(e),p=oh.getForeground(e),_=oh.getBackground(e);return t!==0&&(a=t),r!==0&&(l=r===8?0:r),i!==W7.NotSet&&(f=i),s!==0&&(p=s),o!==0&&(_=o),(a<<0|l<<8|f<<11|p<<14|_<<23)>>>0}};function Rze(n){return n.endsWith("/")||n.endsWith("\\")?n.slice(0,-1):n}function Nze(n){return n.startsWith("./")?n.slice(2):n}function Lze(n){let e=n.split(/[\/\\]/g);return e[e.length-2]}function kze(...n){return n.map(Rze).map(Nze).join("/")}function Ize(n,e){let t=new Map;for(let r of n){let i=e(r);t.has(i)?t.get(i).push(r):t.set(i,[r])}return t}function Mze(n,e){e===void 0&&(e=!1);var t=n.length,r=0,i="",s=0,o=16,a=0,l=0,f=0,p=0,_=0;function E(P,G){for(var ue=0,I=0;ue<P||!G;){var J=n.charCodeAt(r);if(J>=48&&J<=57)I=I*16+J-48;else if(J>=65&&J<=70)I=I*16+J-65+10;else if(J>=97&&J<=102)I=I*16+J-97+10;else break;r++,ue++}return ue<P&&(I=-1),I}function O(P){r=P,i="",s=0,o=16,_=0}function R(){var P=r;if(n.charCodeAt(r)===48)r++;else for(r++;r<n.length&&Q7(n.charCodeAt(r));)r++;if(r<n.length&&n.charCodeAt(r)===46)if(r++,r<n.length&&Q7(n.charCodeAt(r)))for(r++;r<n.length&&Q7(n.charCodeAt(r));)r++;else return _=3,n.substring(P,r);var G=r;if(r<n.length&&(n.charCodeAt(r)===69||n.charCodeAt(r)===101))if(r++,(r<n.length&&n.charCodeAt(r)===43||n.charCodeAt(r)===45)&&r++,r<n.length&&Q7(n.charCodeAt(r))){for(r++;r<n.length&&Q7(n.charCodeAt(r));)r++;G=r}else _=3;return n.substring(P,G)}function q(){for(var P="",G=r;;){if(r>=t){P+=n.substring(G,r),_=2;break}var ue=n.charCodeAt(r);if(ue===34){P+=n.substring(G,r),r++;break}if(ue===92){if(P+=n.substring(G,r),r++,r>=t){_=2;break}var I=n.charCodeAt(r++);switch(I){case 34:P+='"';break;case 92:P+="\\";break;case 47:P+="/";break;case 98:P+="\b";break;case 102:P+="\f";break;case 110:P+=`
`;break;case 114:P+="\r";break;case 116:P+="	";break;case 117:var J=E(4,!0);J>=0?P+=String.fromCharCode(J):_=4;break;default:_=5}G=r;continue}if(ue>=0&&ue<=31)if(YT(ue)){P+=n.substring(G,r),_=2;break}else _=6;r++}return P}function z(){if(i="",_=0,s=r,l=a,p=f,r>=t)return s=t,o=17;var P=n.charCodeAt(r);if(_X(P)){do r++,i+=String.fromCharCode(P),P=n.charCodeAt(r);while(_X(P));return o=15}if(YT(P))return r++,i+=String.fromCharCode(P),P===13&&n.charCodeAt(r)===10&&(r++,i+=`
`),a++,f=r,o=14;switch(P){case 123:return r++,o=1;case 125:return r++,o=2;case 91:return r++,o=3;case 93:return r++,o=4;case 58:return r++,o=6;case 44:return r++,o=5;case 34:return r++,i=q(),o=10;case 47:var G=r-1;if(n.charCodeAt(r+1)===47){for(r+=2;r<t&&!YT(n.charCodeAt(r));)r++;return i=n.substring(G,r),o=12}if(n.charCodeAt(r+1)===42){r+=2;for(var ue=t-1,I=!1;r<ue;){var J=n.charCodeAt(r);if(J===42&&n.charCodeAt(r+1)===47){r+=2,I=!0;break}r++,YT(J)&&(J===13&&n.charCodeAt(r)===10&&r++,a++,f=r)}return I||(r++,_=1),i=n.substring(G,r),o=13}return i+=String.fromCharCode(P),r++,o=16;case 45:if(i+=String.fromCharCode(P),r++,r===t||!Q7(n.charCodeAt(r)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=R(),o=11;default:for(;r<t&&L(P);)r++,P=n.charCodeAt(r);if(s!==r){switch(i=n.substring(s,r),i){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return i+=String.fromCharCode(P),r++,o=16}}function L(P){if(_X(P)||YT(P))return!1;switch(P){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function B(){var P;do P=z();while(P>=12&&P<=15);return P}return{setPosition:O,getPosition:function(){return r},scan:e?B:z,getToken:function(){return o},getTokenValue:function(){return i},getTokenOffset:function(){return s},getTokenLength:function(){return r-s},getTokenStartLine:function(){return l},getTokenStartCharacter:function(){return s-p},getTokenError:function(){return _}}}function _X(n){return n===32||n===9||n===11||n===12||n===160||n===5760||n>=8192&&n<=8203||n===8239||n===8287||n===12288||n===65279}function YT(n){return n===10||n===13||n===8232||n===8233}function Q7(n){return n>=48&&n<=57}var TM;(function(n){n.DEFAULT={allowTrailingComma:!1}})(TM||(TM={}));function Pze(n,e,t){e===void 0&&(e=[]),t===void 0&&(t=TM.DEFAULT);var r=null,i=[],s=[];function o(l){Array.isArray(i)?i.push(l):r!==null&&(i[r]=l)}var a={onObjectBegin:function(){var l={};o(l),s.push(i),i=l,r=null},onObjectProperty:function(l){r=l},onObjectEnd:function(){i=s.pop()},onArrayBegin:function(){var l=[];o(l),s.push(i),i=l,r=null},onArrayEnd:function(){i=s.pop()},onLiteralValue:o,onError:function(l,f,p){e.push({error:l,offset:f,length:p})}};return Bze(n,a,t),i[0]}function Bze(n,e,t){t===void 0&&(t=TM.DEFAULT);var r=Mze(n,!1);function i(ye){return ye?function(){return ye(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:function(){return!0}}function s(ye){return ye?function(He){return ye(He,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:function(){return!0}}var o=i(e.onObjectBegin),a=s(e.onObjectProperty),l=i(e.onObjectEnd),f=i(e.onArrayBegin),p=i(e.onArrayEnd),_=s(e.onLiteralValue),E=s(e.onSeparator),O=i(e.onComment),R=s(e.onError),q=t&&t.disallowComments,z=t&&t.allowTrailingComma;function L(){for(;;){var ye=r.scan();switch(r.getTokenError()){case 4:B(14);break;case 5:B(15);break;case 3:B(13);break;case 1:q||B(11);break;case 2:B(12);break;case 6:B(16);break}switch(ye){case 12:case 13:q?B(10):O();break;case 16:B(1);break;case 15:case 14:break;default:return ye}}}function B(ye,He,at){if(He===void 0&&(He=[]),at===void 0&&(at=[]),R(ye),He.length+at.length>0)for(var ct=r.getToken();ct!==17;){if(He.indexOf(ct)!==-1){L();break}else if(at.indexOf(ct)!==-1)break;ct=L()}}function P(ye){var He=r.getTokenValue();return ye?_(He):a(He),L(),!0}function G(){switch(r.getToken()){case 11:var ye=r.getTokenValue(),He=Number(ye);isNaN(He)&&(B(2),He=0),_(He);break;case 7:_(null);break;case 8:_(!0);break;case 9:_(!1);break;default:return!1}return L(),!0}function ue(){return r.getToken()!==10?(B(3,[],[2,5]),!1):(P(!1),r.getToken()===6?(E(":"),L(),he()||B(4,[],[2,5])):B(5,[],[2,5]),!0)}function I(){o(),L();for(var ye=!1;r.getToken()!==2&&r.getToken()!==17;){if(r.getToken()===5){if(ye||B(4,[],[]),E(","),L(),r.getToken()===2&&z)break}else ye&&B(6,[],[]);ue()||B(4,[],[2,5]),ye=!0}return l(),r.getToken()!==2?B(7,[2],[]):L(),!0}function J(){f(),L();for(var ye=!1;r.getToken()!==4&&r.getToken()!==17;){if(r.getToken()===5){if(ye||B(4,[],[]),E(","),L(),r.getToken()===4&&z)break}else ye&&B(6,[],[]);he()||B(4,[],[4,5]),ye=!0}return p(),r.getToken()!==4?B(8,[4],[]):L(),!0}function he(){switch(r.getToken()){case 3:return J();case 1:return I();case 10:return P(!0);default:return G()}}return L(),r.getToken()===17?t.allowEmptyContent?!0:(B(4,[],[]),!1):he()?(r.getToken()!==17&&B(9,[],[]),!0):(B(4,[],[]),!1)}var jze=Pze,qze=typeof self!="undefined"&&typeof self.WorkerGlobalScope!="undefined",bX=qze||typeof window!="undefined"&&typeof window.document!="undefined"&&typeof fetch!="undefined",EX="",Rme="";function Nme(n){EX=n}var SX=null;async function Uze(){if(!SX){let n;if(bX)typeof Rme=="string"?n=(0,i5.loadWASM)({data:await fetch(Lme("dist/onig.wasm")).then(e=>e.arrayBuffer())}):n=(0,i5.loadWASM)(Rme);else{let t=gX().join(wk.resolve("vscode-oniguruma"),"../onig.wasm"),i=yX().readFileSync(t).buffer;n=(0,i5.loadWASM)(i)}SX=n.then(()=>({createOnigScanner(e){return(0,i5.createOnigScanner)(e)},createOnigString(e){return(0,i5.createOnigString)(e)}}))}return SX}function Lme(n){if(bX)return EX||console.warn("[Shiki] no CDN provider found, use `setCDN()` to specify the CDN for loading the resources before calling `getHighlighter()`"),`${EX}${n}`;{let e=gX();return e.isAbsolute(n)?n:e.resolve(__dirname,"..",n)}}async function $ze(n){let e=Lme(n);return bX?await fetch(e).then(t=>t.text()):await yX().promises.readFile(e,"utf-8")}async function kme(n){let e=[],t=jze(await $ze(n),e,{allowTrailingComma:!0});if(e.length)throw e[0];return t}async function Ime(n){let e=await kme(n),t=Mme(e);if(t.include){let r=await Ime(kze(Lze(n),t.include));r.settings&&(t.settings=r.settings.concat(t.settings)),r.bg&&!t.bg&&(t.bg=r.bg),r.colors&&(t.colors=Object.assign(Object.assign({},r.colors),t.colors)),delete t.include}return t}async function zze(n){return await kme(n)}function Hze(n){n.settings||(n.settings=[]),!(n.settings[0]&&n.settings[0].settings&&!n.settings[0].scope)&&n.settings.unshift({settings:{foreground:n.fg,background:n.bg}})}function Mme(n){let e=n.type||"dark",t=Object.assign(Object.assign({name:n.name,type:e},n),Vze(n));return n.include&&(t.include=n.include),n.tokenColors&&(t.settings=n.tokenColors,delete t.tokenColors),Hze(t),t}var Pme={light:"#333333",dark:"#bbbbbb"},Bme={light:"#fffffe",dark:"#1e1e1e"};function Vze(n){var e,t,r,i,s,o;let a,l,f=n.settings?n.settings:n.tokenColors,p=f?f.find(_=>!_.name&&!_.scope):void 0;return((e=p==null?void 0:p.settings)===null||e===void 0?void 0:e.foreground)&&(a=p.settings.foreground),((t=p==null?void 0:p.settings)===null||t===void 0?void 0:t.background)&&(l=p.settings.background),!a&&((i=(r=n)===null||r===void 0?void 0:r.colors)===null||i===void 0?void 0:i["editor.foreground"])&&(a=n.colors["editor.foreground"]),!l&&((o=(s=n)===null||s===void 0?void 0:s.colors)===null||o===void 0?void 0:o["editor.background"])&&(l=n.colors["editor.background"]),a||(a=n.type==="light"?Pme.light:Pme.dark),l||(l=n.type==="light"?Bme.light:Bme.dark),{fg:a,bg:l}}var jme=class{constructor(e,t){this.languagesPath="languages/",this.languageMap={},this.scopeToLangMap={},this._onigLibPromise=e,this._onigLibName=t}get onigLib(){return this._onigLibPromise}getOnigLibName(){return this._onigLibName}getLangRegistration(e){return this.languageMap[e]}async loadGrammar(e){let t=this.scopeToLangMap[e];if(!t)return null;if(t.grammar)return t.grammar;let r=await zze(vX.includes(t)?`${this.languagesPath}${t.path}`:t.path);return t.grammar=r,r}addLanguage(e){this.languageMap[e.id]=e,e.aliases&&e.aliases.forEach(t=>{this.languageMap[t]=e}),this.scopeToLangMap[e.scopeName]=e}};function Wze(n,e,t,r,i){let s=t.split(/\r\n|\r|\n/),o=AM.INITIAL,a=[],l=[];for(let f=0,p=s.length;f<p;f++){let _=s[f];if(_===""){a=[],l.push([]);continue}let E,O,R;i.includeExplanation&&(E=r.tokenizeLine(_,o),O=E.tokens,R=0);let q=r.tokenizeLine2(_,o),z=q.tokens.length/2;for(let L=0;L<z;L++){let B=q.tokens[2*L],P=L+1<z?q.tokens[2*L+2]:_.length;if(B===P)continue;let G=q.tokens[2*L+1],ue=oh.getForeground(G),I=e[ue],J=oh.getFontStyle(G),he=[];if(i.includeExplanation){let ye=0;for(;B+ye<P;){let He=O[R],at=_.substring(He.startIndex,He.endIndex);ye+=at.length,he.push({content:at,scopes:Qze(n,He.scopes)}),R++}}a.push({content:_.substring(B,P),color:I,fontStyle:J,explanation:he})}l.push(a),a=[],o=q.ruleStack}return l}function Qze(n,e){let t=[];for(let r=0,i=e.length;r<i;r++){let s=e.slice(0,r),o=e[r];t[r]={scopeName:o,themeMatches:Yze(n,o,s)}}return t}function qme(n,e){let t=n+".";return n===e||e.substring(0,t.length)===t}function Gze(n,e,t,r){if(!qme(n,t))return!1;let i=e.length-1,s=r.length-1;for(;i>=0&&s>=0;)qme(e[i],r[s])&&i--,s--;return i===-1}function Yze(n,e,t){let r=[],i=0;for(let s=0,o=n.settings.length;s<o;s++){let a=n.settings[s],l;if(typeof a.scope=="string")l=a.scope.split(/,/).map(f=>f.trim());else if(Array.isArray(a.scope))l=a.scope;else continue;for(let f=0,p=l.length;f<p;f++){let E=l[f].split(/ /),O=E[E.length-1],R=E.slice(0,E.length-1);Gze(O,R,e,t)&&(r[i++]=a,f=p)}}return r}function Kze(n,e={}){var t;let r=e.bg||"#fff",i=Ize((t=e.lineOptions)!==null&&t!==void 0?t:[],o=>o.line),s="";return s+=`<pre class="shiki" style="background-color: ${r}">`,e.langId&&(s+=`<div class="language-id">${e.langId}</div>`),s+="<code>",n.forEach((o,a)=>{var l;let f=a+1,p=(l=i.get(f))!==null&&l!==void 0?l:[];s+=`<span class="${Zze(p).join(" ")}">`,o.forEach(E=>{let O=[`color: ${E.color||e.fg}`];E.fontStyle&W7.Italic&&O.push("font-style: italic"),E.fontStyle&W7.Bold&&O.push("font-weight: bold"),E.fontStyle&W7.Underline&&O.push("text-decoration: underline"),s+=`<span style="${O.join("; ")}">${Xze(E.content)}</span>`}),s+=`</span>
`}),s=s.replace(/\n*$/,""),s+="</code></pre>",s}var Jze={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Xze(n){return n.replace(/[&<>"']/g,e=>Jze[e])}function Zze(n){var e;let t=new Set(["line"]);for(let r of n)for(let i of(e=r.classes)!==null&&e!==void 0?e:[])t.add(i);return Array.from(t)}var Ume=class extends AM.Registry{constructor(e){super(e);this._resolver=e,this.themesPath="themes/",this._resolvedThemes={},this._resolvedGrammars={}}getTheme(e){return typeof e=="string"?this._resolvedThemes[e]:e}async loadTheme(e){return typeof e=="string"?(this._resolvedThemes[e]||(this._resolvedThemes[e]=await Ime(`${this.themesPath}${e}.json`)),this._resolvedThemes[e]):(e=Mme(e),e.name&&(this._resolvedThemes[e.name]=e),e)}async loadThemes(e){return await Promise.all(e.map(t=>this.loadTheme(t)))}getLoadedThemes(){return Object.keys(this._resolvedThemes)}getGrammar(e){return this._resolvedGrammars[e]}async loadLanguage(e){let t=await this.loadGrammar(e.scopeName);this._resolvedGrammars[e.id]=t,e.aliases&&e.aliases.forEach(r=>{this._resolvedGrammars[r]=t})}async loadLanguages(e){for(let t of e)this._resolver.addLanguage(t);for(let t of e)await this.loadLanguage(t)}getLoadedLanguages(){return Object.keys(this._resolvedGrammars)}};function $me(n){return typeof n=="string"?vX.find(e=>{var t;return e.id===n||((t=e.aliases)===null||t===void 0?void 0:t.includes(n))}):n}function eHe(n){var e;let t=vX,r=n.themes||[];return((e=n.langs)===null||e===void 0?void 0:e.length)&&(t=n.langs.map($me)),n.theme&&r.unshift(n.theme),r.length||(r=["nord"]),{_languages:t,_themes:r}}async function zme(n){var e,t;let{_languages:r,_themes:i}=eHe(n),s=new jme(Uze(),"vscode-oniguruma"),o=new Ume(s);((e=n.paths)===null||e===void 0?void 0:e.themes)&&(o.themesPath=n.paths.themes),((t=n.paths)===null||t===void 0?void 0:t.languages)&&(s.languagesPath=n.paths.languages);let l=(await o.loadThemes(i))[0],f;await o.loadLanguages(r);let p={"#000001":"var(--shiki-color-text)","#000002":"var(--shiki-color-background)","#000004":"var(--shiki-token-constant)","#000005":"var(--shiki-token-string)","#000006":"var(--shiki-token-comment)","#000007":"var(--shiki-token-keyword)","#000008":"var(--shiki-token-parameter)","#000009":"var(--shiki-token-function)","#000010":"var(--shiki-token-string-expression)","#000011":"var(--shiki-token-punctuation)","#000012":"var(--shiki-token-link)"};function _(I,J){I.bg=p[I.bg]||I.bg,I.fg=p[I.fg]||I.fg,J.forEach((he,ye)=>{J[ye]=p[he]||he})}function E(I){let J=I?o.getTheme(I):l;if(!J)throw Error(`No theme registration for ${I}`);(!f||f.name!==J.name)&&(o.setTheme(J),f=J);let he=o.getColorMap();return J.name==="css-variables"&&_(J,he),{_theme:J,_colorMap:he}}function O(I){let J=o.getGrammar(I);if(!J)throw Error(`No language registration for ${I}`);return{_grammar:J}}function R(I,J="text",he,ye={includeExplanation:!0}){if(tHe(J))return[...I.split(/\r\n|\r|\n/).map(Et=>[{content:Et}])];let{_grammar:He}=O(J),{_theme:at,_colorMap:ct}=E(he);return Wze(at,ct,I,He,ye)}function q(I,J="text",he){let ye;typeof J=="object"?ye=J:ye={lang:J,theme:he};let He=R(I,ye.lang,ye.theme,{includeExplanation:!1}),{_theme:at}=E(ye.theme);return Kze(He,{fg:at.fg,bg:at.bg,lineOptions:ye==null?void 0:ye.lineOptions})}async function z(I){await o.loadTheme(I)}async function L(I){let J=$me(I);s.addLanguage(J),await o.loadLanguage(J)}function B(){return o.getLoadedThemes()}function P(){return o.getLoadedLanguages()}function G(I){let{_theme:J}=E(I);return J.bg}function ue(I){let{_theme:J}=E(I);return J.fg}return{codeToThemedTokens:R,codeToHtml:q,getTheme:I=>E(I)._theme,loadTheme:z,loadLanguage:L,getBackgroundColor:G,getForegroundColor:ue,getLoadedThemes:B,getLoadedLanguages:P}}function tHe(n){return!n||["plaintext","txt","text"].includes(n)}m();var Hme={scopeName:"source.malloy",patterns:[{include:"#sql-statement"},{include:"#comments"},{include:"#strings"},{include:"#numbers"},{include:"#keywords"},{include:"#properties"},{include:"#functions"},{include:"#dates"},{include:"#identifiers-quoted"},{include:"#types"},{include:"#constants"},{include:"#timeframes"},{include:"#identifiers-unquoted"}],repository:{"sql-statement":{begin:"\\|\\|",end:";;",beginCaptures:{"0":{name:"punctuation.sql-block.open"}},endCaptures:{"0":{name:"punctuation.sql-block.close"}},name:"source.sql",patterns:[{include:"source.sql"}]},functions:{patterns:[{match:"(?i)\\b(count)(\\s*\\()(distinct)",captures:{"1":{name:"entity.name.function"},"3":{name:"entity.name.function.modifier"}}},{match:"(?i)\\b(AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE|TABLE|FROM|FROM_SQL|UNGROUPED)(\\s*\\()",captures:{"1":{name:"entity.name.function"}}},{match:"(?i)\\b([a-zA-Z]*)(\\s*\\()",captures:{"1":{name:"entity.name.function"}}}]},dates:{patterns:[{match:"(?i)@[0-9A-Z-]*(\\s[0-9A-Z-][0-9A-Z-](:[0-9A-Z-][0-9A-Z-])?(:[0-9A-Z-][0-9A-Z-])?)?",name:"constant.numeric.date"}]},"identifiers-quoted":{patterns:[{match:"(?i)`[A-z_][A-z_0-9]*`",name:"variable.other.quoted"}]},"identifiers-unquoted":{patterns:[{match:"(?i)\\b[A-z_][A-z_0-9]*\\b",name:"variable.other"}]},timeframes:{patterns:[{match:"(?i)\\b((year|quarter|month|week|day|hour|minute|second)s?)\\b",name:"keyword.other.timeframe"},{match:"(?i)\\b(day_of_year|day_of_month)\\b",name:"keyword.other.timeframe"}]},comments:{patterns:[{begin:"/\\*",end:"\\*/",beginCaptures:{"0":{name:"punctuation.definition.comment.begin"}},endCaptures:{"0":{name:"punctuation.definition.comment.end"}},name:"comment.block"},{begin:"//",end:"\\n",beginCaptures:{"0":{name:"punctuation.definition.comment"}},name:"comment.line.double-slash"},{begin:"--",end:"\\n",beginCaptures:{"0":{name:"punctuation.definition.comment"}},name:"comment.line.double-hyphen"}]},strings:{patterns:[{begin:"'",end:"'",beginCaptures:{"0":{name:"punctuation.definition.string.begin"}},endCaptures:{"0":{name:"punctuation.definition.string.end"}},name:"string.unquoted.single",patterns:[{include:"#escapes"}]},{begin:'"',end:'"',beginCaptures:{"0":{name:"punctuation.definition.string.begin"}},endCaptures:{"0":{name:"punctuation.definition.string.end"}},name:"string.unquoted.double",patterns:[{include:"#escapes"}]},{begin:"(?i)[r|/]'",end:"'",name:"string.regexp",patterns:[{include:"#escapes"}]}],repository:{escapes:{name:"constant.character.escape",match:"\\\\(x\\h{2}|[0-2][0-7]{0,2}|3[0-6][0-7]|37[0-7]?|[4-7][0-7]?|.)",captures:{"0":{name:"constant.character.escape"}}}}},numbers:{match:"\\b((0|[1-9][0-9]*)(\\.[0-9]*)?| \\.[0-9]+)\\b",name:"constant.numeric"},constants:{patterns:[{match:"(?i)\\bnull\\b",name:"constant.language.null"},{match:"(?i)\\btrue\\b",name:"constant.language.true"},{match:"(?i)\\bfalse\\b",name:"constant.language.false"}]},types:{patterns:[{match:"(?i)\\bstring\\b",name:"entity.name.type.string"},{match:"(?i)\\bnumber\\b",name:"entity.name.type.number"},{match:"(?i)\\bdate\\b",name:"entity.name.type.date"},{match:"(?i)\\btimestamp\\b",name:"entity.name.type.timestamp"},{match:"(?i)\\bboolean\\b",name:"entity.name.type.boolean"}]},properties:{patterns:[{match:"(?i)\\baccept\\b",name:"keyword.control.accept"},{match:"(?i)\\bsql\\b",name:"keyword.control.sql"},{match:"(?i)\\baggregate\\b",name:"keyword.control.aggregate"},{match:"(?i)\\bdimension\\b",name:"keyword.control.dimension"},{match:"(?i)\\bexcept\\b",name:"keyword.control.except"},{match:"(?i)\\bexplore\\b",name:"keyword.control.explore"},{match:"(?i)\\bgroup_by\\b",name:"keyword.control.group_by"},{match:"(?i)\\bhaving\\b",name:"keyword.control.having"},{match:"(?i)\\bindex\\b",name:"keyword.control.index"},{match:"(?i)\\bjoin_one\\b",name:"keyword.control.join_one"},{match:"(?i)\\bwith\\b",name:"keyword.control.with"},{match:"(?i)\\bjoin_many\\b",name:"keyword.control.join_many"},{match:"(?i)\\bjoin_cross\\b",name:"keyword.control.join_cross"},{match:"(?i)\\blimit\\b",name:"keyword.control.limit"},{match:"(?i)\\bmeasure\\b",name:"keyword.control.measure"},{match:"(?i)\\bnest\\b",name:"keyword.control.nest"},{match:"(?i)\\border_by\\b",name:"keyword.control.order_by"},{match:"(?i)\\bprimary_key\\b",name:"keyword.control.primary_key"},{match:"(?i)\\bproject\\b",name:"keyword.control.project"},{match:"(?i)\\bquery\\b",name:"keyword.control.query"},{match:"(?i)\\brename\\b",name:"keyword.control.rename"},{match:"(?i)\\btop\\b",name:"keyword.control.top"},{match:"(?i)\\bwhere\\b",name:"keyword.control.where"},{match:"(?i)\\bdeclare\\b",name:"keyword.control.declare"}]},keywords:{patterns:[{match:"(?i)\\bis\\b",name:"keyword.control.is"},{match:"(?i)\\bon\\b",name:"keyword.control.on"},{match:"(?i)\\bnot\\b",name:"keyword.other.not"},{match:"(?i)\\bor\\b",name:"keyword.other.or"},{match:"(?i)\\bdesc\\b",name:"keyword.control.desc"},{match:"(?i)\\bby\\b",name:"keyword.control.by"},{match:"(?i)\\band\\b",name:"keyword.other.and"},{match:"(?i)\\basc\\b",name:"keyword.control.asc"},{match:"(?i)\\bfor\\b",name:"keyword.other.for"},{match:"(?i)\\belse\\b",name:"keyword.other.else"},{match:"(?i)\\bto\\b",name:"keyword.other.to"},{match:"(?i)\\bwhen\\b",name:"keyword.other.when"},{match:"(?i)\\bpick\\b",name:"keyword.other.pick"},{match:"(?i)\\bimport\\b",name:"keyword.control.import"}]}}};Nme("https://unpkg.com/shiki/");function dm(n){return n.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}function E2(){return!0}var FM;function rHe(){return FM!==void 0||(FM=zme({theme:"light-plus",langs:["sql","json","md",{id:"malloy",scopeName:"source.malloy",embeddedLangs:["sql"],grammar:Hme}]})),FM}async function iHe(n,e){let t=await rHe();return t.getLoadedLanguages().includes(e)||(e="txt"),t.codeToHtml(n,{lang:e})}async function U_(n,e){let t=await iHe(n,e),r=document.createElement("div");return r.innerHTML=t,r}function Vh(n){return n.type==="struct"?"source":n.type==="turtle"?"query":n.type}function wX(n){return n.type==="struct"||n.type==="turtle"?"string":n.type}function Up(n){return n.type==="struct"?"source":n.type==="turtle"?"query":n.aggregate?"measure":"dimension"}function DM(n){return n!==void 0}function D0(n,e){let t=Up(n);if(n.type==="struct"||t==="source")throw new Error("Cannot make a summary item from a struct.");return{type:"field",field:n,path:e,saveDefinition:void 0,isRefined:!1,name:n.as||n.name,isRenamed:!1,fieldIndex:-1,kind:t}}function KT(n){return n.type!=="struct"&&n.type!=="turtle"&&!!n.aggregate}function JT(n){return n.type!=="struct"&&n.type!=="turtle"&&!n.aggregate}function OM(n){return n.type==="turtle"}function Wf(n,e=[]){return n.fields.flatMap(t=>t.type==="struct"?Wf(t,[...e,t.as||t.name]):[{field:t,path:[...e,t.as||t.name].join(".")}])}function Ag(n){return n.split(".").map(e=>`\`${e}\``).join(".")}function sHe(n){let e=n.split(".");return e.map((t,r)=>e.slice(r).join("."))}function O0(n,e){return[...sHe(e).reverse(),n.name,Up(n),Vh(n)]}function R0(n){let e=n.split(".");return e[e.length-2]}function RM(n){return n<1e3?n.toLocaleString():n<1e4?(n/1e3).toFixed(1)+"K":n<1e6?Math.floor(n/1e3).toLocaleString()+"K":n<1e7?(n/1e6).toFixed(1)+"M":Math.floor(n/1e3).toLocaleString()+"M"}function CX(n,e,t,r){let i=document.createElement("a"),s=new Blob([n],{type:e}),o=URL.createObjectURL(s);i.setAttribute("href",o),r?i.setAttribute("target","_blank"):i.setAttribute("download",t),i.click()}function Vme(n,e){return`<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>${e}</title>
    <meta
  </head>
  <body>${n}</body>
</html>
  `}var oHe=/Error\(s\) compiling model:\nFILE: internal:\/\/internal.malloy\nline 1: (.*)\n/;function Wme(n){let e=n.toString();if(n.message){e=n.message;let t=e.match(oHe);t&&(e=t[1])}return e}function AX(n,e=2){return n.split(`
`).map(t=>" ".repeat(e)+t).join(`
`)}function Qme(n){navigator.clipboard.writeText(n)}m();var j9e=fr(B9e()),TC=fr(up());m();function H1t(n){try{return JSON.parse(n)}catch(e){throw new Error(`Error compiling data styles: ${e.message}`)}}async function V1t(n,e,t){let r="--! styles ",i={};for(let s of e.split(`
`))if(s.startsWith(r)){let o=s.trimEnd().substring(r.length),a;try{a=await t.readURL(new URL(o,n))}catch(l){console.error(`Error loading data style '${o}': ${l}`),a="{}"}i={...i,...H1t(a)}}return i}var aue=class{constructor(e){this.dataStyles={};this.urlReader=e}async readURL(e){let t=await this.urlReader.readURL(e);return this.dataStyles={...this.dataStyles,...await V1t(e.toString(),t,this.urlReader)},t}getHackyAccumulatedDataStyles(){return this.dataStyles}};var q9e=class{constructor(){this.connection=new j9e.DuckDBWASMConnection("duckdb")}async lookupConnection(e){return await this.connection.connecting,this.connection}},W1t=async n=>(await fetch(n)).text(),U9e=class{constructor(){this.contents={}}setContents(e,t){this.contents[e]=t}async readURL(e){let t=e.toString();return t in this.contents?this.contents[t]:W1t(e)}},Rb=new U9e,Jz=new q9e,Xz=new TC.Runtime(Rb,Jz);async function $9e(){let n=window.location.href,e=new URL("composer.json",n),t=await Rb.readURL(e),r=JSON.parse(t);if("apps"in r){let i=r.readme&&await Rb.readURL(new URL(r.readme,n));return{...r,readme:i}}return{apps:[{id:"default",path:"composer.json"}]}}async function z9e(n){let e=window.location.href,t=new URL(n,e),r=await Rb.readURL(t),i=JSON.parse(r),s=i.title,o=i.readme&&await Rb.readURL(new URL(i.readme,t)),a=await Promise.all(i.models.map(async l=>{let f=await Jz.lookupConnection("duckdb");await Promise.all(l.tables.map(z=>f.database?.registerFileURL(z,new URL(z,t).toString())));let p=new URL(l.path,t),_=new aue(Rb),O=await new TC.Runtime(_,Jz).getModel(p),R=_.getHackyAccumulatedDataStyles(),q=l.sources||Object.values(O._modelDef.contents).filter(z=>z.type==="struct").map(z=>({title:dm(z.as||z.name),sourceName:z.as||z.name,description:`Source ${z.as} in ${l.id}`}));return{id:l.id,model:O._modelDef,path:l.path,readme:o,styles:R,sources:q}}));return{readme:o,linkedReadmes:i.linkedReadmes,title:s,models:a}}async function H9e(n,e,t){let r=await Xz._loadModelFromModelDef(t).getModel(),i=await TC.Malloy.compile({urlReader:Rb,connections:Jz,model:r,parse:TC.Malloy.parse({source:n})}),s=Xz._loadModelFromModelDef(i._modelDef).loadQueryByName(e),o=(await s.getPreparedResult()).resultExplore.limit;return s.run({rowLimit:o})}async function V9e(n,e,t,r){let i=e.as||e.name;return Xz._loadModelFromModelDef(n).search(i,t,void 0,r)}async function W9e(n,e){let t=e.as||e.name;return Xz._loadModelFromModelDef(n).searchValueMap(t)}function uue(n){let{data:e}=wg(["datasets",n?n.id??"default":"empty"],async()=>n===void 0?void 0:E2()?z9e(n.path):(await(await fetch("api/datasets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({app:n})})).json()).datasets,{refetchOnWindowFocus:!1});return e}m();m();var RR=fr(Fr()),Q9e=n=>RR.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},RR.createElement("title",null,"chevron_left"),RR.createElement("g",{id:"chevron_left",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},RR.createElement("path",{d:"M52.9466923,41.3127809 C54.0529774,40.2742275 55.7502198,40.2309545 56.9057514,41.1829617 L57.0533077,41.3127809 L81.5533077,64.3127809 C82.7612755,65.4467914 82.8212296,67.34534 81.6872191,68.5533077 C80.5968243,69.7148152 78.7995712,69.8149195 77.5890551,68.8127704 L77.4466923,68.6872191 L54.9999906,47.615 L32.5533077,68.6872191 C31.3918003,69.7776139 29.5918121,69.7641211 28.4469384,68.6875913 L28.3127809,68.5533077 C27.2223861,67.3918003 27.2358789,65.5918121 28.3124087,64.4469384 L28.4466923,64.3127809 L52.9466923,41.3127809 Z",id:"Path",fill:"#979797",fillRule:"nonzero",transform:"translate(55.000000, 55.000005) rotate(-90.000000) translate(-55.000000, -55.000005) "})));m();var NR=fr(Fr()),Zz=n=>NR.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},NR.createElement("title",null,"chevron_right"),NR.createElement("g",{id:"chevron_right",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},NR.createElement("path",{d:"M52.9466923,41.3127809 C54.0529774,40.2742275 55.7502198,40.2309545 56.9057514,41.1829617 L57.0533077,41.3127809 L81.5533077,64.3127809 C82.7612755,65.4467914 82.8212296,67.34534 81.6872191,68.5533077 C80.5968243,69.7148152 78.7995712,69.8149195 77.5890551,68.8127704 L77.4466923,68.6872191 L54.9999906,47.615 L32.5533077,68.6872191 C31.3918003,69.7776139 29.5918121,69.7641211 28.4469384,68.6875913 L28.3127809,68.5533077 C27.2223861,67.3918003 27.2358789,65.5918121 28.3124087,64.4469384 L28.4466923,64.3127809 L52.9466923,41.3127809 Z",id:"Path",fill:"#979797",fillRule:"nonzero",transform:"translate(55.000000, 55.000005) rotate(-270.000000) translate(-55.000000, -55.000005) "})));m();var mi={dimension:{fillLight:"rgb(240,246,255)",fillMedium:"#c3d7f7",fillStrong:"#4285f4"},measure:{fillStrong:"#ea8600",fillMedium:"#f3cfa1",fillLight:"#fff3e8"},filter:{fillStrong:"#8166da",fillMedium:"#d4d6d8",fillLight:"#f8f6ff"},query:{fillStrong:"rgb(56,169,86)",fillMedium:"#bce0c5",fillLight:"#f3fbf5"},source:{fillStrong:"rgb(56,169,86)",fillMedium:"#bce0c5",fillLight:"#f3fbf5"},other:{fillStrong:"#9aa0a6",fillMedium:"#d4d6d8",fillLight:"#f7f8f8"},error:{fillStrong:"#9aa0a6",fillMedium:"#d4d6d8",fillLight:"#f7f8f8"},mainBackground:"rgb(247, 249, 252)"};var XOt=Bn.div`
  text-transform: uppercase;
  color: #939393;
  font-family: "Google Sans";
  display: flex;
  justify-content: space-between;
  align-items: center;
  min-height: 22px;
  padding: 7px 10px 6px 20px;
  border-bottom: 1px solid #efefef;
  font-size: 11pt;
  font-weight: 500;
`,eH=Bn.div`
  display: flex;
  font-weight: normal;
  font-family: "Roboto Mono";
  gap: 5px;
  margin-top: -3px;
  align-items: center;
  user-select: none;
`,lp=Bn.label`
  font-size: 12px;
  color: #505050;
  font-family: Roboto;
  font-family: Roboto;
  text-transform: none;
  color: #9aa0a6;
  font-weight: normal;
`,Ga=Bn.button`
  padding: 5.5px 10px;
  font-family: Google Sans;
  border-radius: 5px;
  cursor: pointer;
  min-width: 80px;

  ${({color:n="primary",outline:e=!1})=>`
    ${n==="primary"&&!e?`
        border: 1px solid #4285F4;
        background-color: #4285F4;
        color: white;

        &:active {
          background-color: #175cb7;
        }
      `:n==="primary"&&e?`
        border: 1px solid #d8dade;
        background-color: white;
        color: #4285F4;

        &:active {
          background-color: #efefef;
        }
      `:n==="secondary"&&!e?`
        border: 0;
        background-color: transparent;
        color: #343434;

        &:active {
          background-color: #adadad;
        }
      `:`
        border: 1px solid #343434;
        background-color: white;
        color: #343434;

        &:active {
          background-color: #343434;
          color: white;
        }
      `}
  `}
`,Eh=Bn.div`
  display: flex;
  justify-content: flex-end;
  gap: 5px;
  margin-top: 15px;
`,tH=Bn.form`
  display: flex;
  justify-content: space-between;
  gap: 5px;
`,G9e=({onClick:n})=>v.createElement(Q9e,{width:"22px",height:"22px",style:{cursor:"pointer"},onClick:n}),Y9e=({onClick:n})=>v.createElement(Zz,{width:"22px",height:"22px",style:{cursor:"pointer"},onClick:n}),nc=Bn.div`
  color: #969696;
  text-align: center;
  margin-top: 30px;
  margin-bottom: 30px;
  font-family: Roboto;
  text-transform: none;
  font-size: 16px;
  font-weight: normal;
`,Tc=Bn.div`
  font-family: Google Sans;
  font-size: 14px;
  color: #505050;
  text-transform: none;
  margin-bottom: 15px;
  user-select: none;
  display: flex;
  gap: 10px;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
`,Fc=Bn.div`
  padding: 15px;
`,$l=Bn.div`
  padding: 10px;
`,D1=Bn.div`
  border-bottom: 1px solid #efefef;
  padding: 10px;
`,O1=Bn.div`
  display: flex;
  flex-direction: column;
`,Sh=Bn.div`
  display: flex;
  flex-direction: column;
  gap: 15px;
`,rc=Bn.div`
  overflow-y: auto;
  max-height: 400px;
`,lue=Bn.div`
  text-overflow: ellipsis;
  text-transform: none;
  color: #505050;
  overflow: hidden;
  white-space: nowrap;
`,nH=Bn(lue)`
  font-size: 12px;
`,FC=Bn.div`
  flex-shrink: 0;
  align-items: center;
  justify-content: center;
  display: flex;

  ${({color:n})=>`
      svg .primaryfill {
        fill: ${mi[n].fillStrong};
      }
      svg .primarystroke {
        stroke: ${mi[n].fillStrong};
      }
    `}
`,$m=Bn.div`
  display: flex;
  flex-direction: column;
  gap: 10px;
`,Q1t=Bn.div`
  background: #ffdddd;
  display: flex;
  padding: 6px;
  margin-top: 10px;
  border-radius: 3px;
`,rH=({error:n})=>{if(n){let e=Wme(n);return v.createElement(Q1t,null,e)}else return null},iH=Bn.div`
  overflow: hidden;
  width: 100%;
  height: 40px;
  display: flex;
  flex-direction: row;
  overflow: hidden;
  background-color: ${mi.mainBackground};
  flex-shrink: 0;
`,Nb=Bn.div`
  overflow: hidden;
  background-color: white;
  border-radius: 5px;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row;
  overflow: hidden;
`;m();m();m();m();m();var DC=fr(Fr()),K9e=n=>DC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},DC.createElement("title",null,"channel_about"),DC.createElement("g",{id:"channel_about",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},DC.createElement("g",{id:"article_FILL0_wght400_GRAD0_opsz48",transform:"translate(4.250000, 4.250000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},DC.createElement("path",{d:"M19.9520833,71.29375 L54.9,71.29375 L54.9,63.66875 L19.9520833,63.66875 L19.9520833,71.29375 Z M19.9520833,49.5625 L71.5479167,49.5625 L71.5479167,41.9375 L19.9520833,41.9375 L19.9520833,49.5625 Z M19.9520833,27.83125 L71.5479167,27.83125 L71.5479167,20.20625 L19.9520833,20.20625 L19.9520833,27.83125 Z M7.625,91.5 C5.59166667,91.5 3.8125,90.7375 2.2875,89.2125 C0.7625,87.6875 0,85.9083333 0,83.875 L0,7.625 C0,5.59166667 0.7625,3.8125 2.2875,2.2875 C3.8125,0.7625 5.59166667,0 7.625,0 L83.875,0 C85.9083333,0 87.6875,0.7625 89.2125,2.2875 C90.7375,3.8125 91.5,5.59166667 91.5,7.625 L91.5,83.875 C91.5,85.9083333 90.7375,87.6875 89.2125,89.2125 C87.6875,90.7375 85.9083333,91.5 83.875,91.5 L7.625,91.5 Z M7.625,83.875 L83.875,83.875 L83.875,7.625 L7.625,7.625 L7.625,83.875 Z M7.625,7.625 L7.625,83.875 L7.625,7.625 Z",id:"Shape"}))));m();var OC=fr(Fr()),J9e=n=>OC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},OC.createElement("title",null,"channel_feedback"),OC.createElement("g",{id:"channel_feedback",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},OC.createElement("g",{id:"chat_FILL0_wght400_GRAD0_opsz48",transform:"translate(4.000000, 4.000000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},OC.createElement("path",{d:"M18.4,55.315 L54.395,55.315 L54.395,48.415 L18.4,48.415 L18.4,55.315 Z M18.4,40.365 L73.6,40.365 L73.6,33.465 L18.4,33.465 L18.4,40.365 Z M18.4,25.415 L73.6,25.415 L73.6,18.515 L18.4,18.515 L18.4,25.415 Z M0,92 L0,6.9 C0,5.13666667 0.69,3.54583333 2.07,2.1275 C3.45,0.709166667 5.06,0 6.9,0 L85.1,0 C86.8633333,0 88.4541667,0.709166667 89.8725,2.1275 C91.2908333,3.54583333 92,5.13666667 92,6.9 L92,66.7 C92,68.4633333 91.2908333,70.0541667 89.8725,71.4725 C88.4541667,72.8908333 86.8633333,73.6 85.1,73.6 L18.4,73.6 L0,92 Z M6.9,75.325 L15.525,66.7 L85.1,66.7 L85.1,6.9 L6.9,6.9 L6.9,75.325 Z M6.9,6.9 L6.9,75.325 L6.9,6.9 Z",id:"Shape"}))));m();var RC=fr(Fr()),X9e=n=>RC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},RC.createElement("title",null,"channel_help"),RC.createElement("g",{id:"channel_help",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},RC.createElement("g",{id:"help_FILL0_wght400_GRAD0_opsz48",transform:"translate(3.750000, 3.750000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},RC.createElement("path",{d:"M46.7125,73.190625 C47.9458333,73.190625 48.9864583,72.7666667 49.834375,71.91875 C50.6822917,71.0708333 51.10625,70.0302083 51.10625,68.796875 C51.10625,67.5635417 50.6822917,66.5229167 49.834375,65.675 C48.9864583,64.8270833 47.9458333,64.403125 46.7125,64.403125 C45.4791667,64.403125 44.4385417,64.8270833 43.590625,65.675 C42.7427083,66.5229167 42.31875,67.5635417 42.31875,68.796875 C42.31875,70.0302083 42.7427083,71.0708333 43.590625,71.91875 C44.4385417,72.7666667 45.4791667,73.190625 46.7125,73.190625 Z M42.665625,56.309375 L49.4875,56.309375 C49.4875,54.3052083 49.7380208,52.4744792 50.2390625,50.8171875 C50.7401042,49.1598958 52.3010417,47.2520833 54.921875,45.09375 C57.3114583,43.0895833 59.0072917,41.1239583 60.009375,39.196875 C61.0114583,37.2697917 61.5125,35.15 61.5125,32.8375 C61.5125,28.7520833 60.1828125,25.4760417 57.5234375,23.009375 C54.8640625,20.5427083 51.3375,19.309375 46.94375,19.309375 C43.1666667,19.309375 39.8328125,20.2536458 36.9421875,22.1421875 C34.0515625,24.0307292 31.9510417,26.6322917 30.640625,29.946875 L36.76875,32.259375 C37.6166667,30.1010417 38.8885417,28.4244792 40.584375,27.2296875 C42.2802083,26.0348958 44.284375,25.4375 46.596875,25.4375 C49.2177083,25.4375 51.3375,26.1505208 52.95625,27.5765625 C54.575,29.0026042 55.384375,30.8333333 55.384375,33.06875 C55.384375,34.7645833 54.8833333,36.3640625 53.88125,37.8671875 C52.8791667,39.3703125 51.4145833,40.93125 49.4875,42.55 C47.175,44.5541667 45.4598958,46.5390625 44.3421875,48.5046875 C43.2244792,50.4703125 42.665625,53.071875 42.665625,56.309375 L42.665625,56.309375 Z M46.25,92.5 C39.9291667,92.5 33.9552083,91.2859375 28.328125,88.8578125 C22.7010417,86.4296875 17.7869792,83.1151042 13.5859375,78.9140625 C9.38489583,74.7130208 6.0703125,69.7989583 3.6421875,64.171875 C1.2140625,58.5447917 0,52.5708333 0,46.25 C0,39.8520833 1.2140625,33.8395833 3.6421875,28.2125 C6.0703125,22.5854167 9.38489583,17.690625 13.5859375,13.528125 C17.7869792,9.365625 22.7010417,6.0703125 28.328125,3.6421875 C33.9552083,1.2140625 39.9291667,0 46.25,0 C52.6479167,0 58.6604167,1.2140625 64.2875,3.6421875 C69.9145833,6.0703125 74.809375,9.365625 78.971875,13.528125 C83.134375,17.690625 86.4296875,22.5854167 88.8578125,28.2125 C91.2859375,33.8395833 92.5,39.8520833 92.5,46.25 C92.5,52.5708333 91.2859375,58.5447917 88.8578125,64.171875 C86.4296875,69.7989583 83.134375,74.7130208 78.971875,78.9140625 C74.809375,83.1151042 69.9145833,86.4296875 64.2875,88.8578125 C58.6604167,91.2859375 52.6479167,92.5 46.25,92.5 Z M46.25,85.5625 C57.1958333,85.5625 66.484375,81.7276042 74.115625,74.0578125 C81.746875,66.3880208 85.5625,57.11875 85.5625,46.25 C85.5625,35.3041667 81.746875,26.015625 74.115625,18.384375 C66.484375,10.753125 57.1958333,6.9375 46.25,6.9375 C35.38125,6.9375 26.1119792,10.753125 18.4421875,18.384375 C10.7723958,26.015625 6.9375,35.3041667 6.9375,46.25 C6.9375,57.11875 10.7723958,66.3880208 18.4421875,74.0578125 C26.1119792,81.7276042 35.38125,85.5625 46.25,85.5625 Z",id:"Shape"}))));m();var NC=fr(Fr()),Z9e=n=>NC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},NC.createElement("title",null,"channel_preview"),NC.createElement("g",{id:"channel_preview",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},NC.createElement("g",{id:"analytics_FILL0_wght400_GRAD0_opsz48",transform:"translate(3.750000, 3.750000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},NC.createElement("path",{d:"M21.0694444,72.3298611 L28.7777778,72.3298611 L28.7777778,45.9930556 L21.0694444,45.9930556 L21.0694444,72.3298611 Z M63.7222222,72.3298611 L71.4305556,72.3298611 L71.4305556,18.3715278 L63.7222222,18.3715278 L63.7222222,72.3298611 Z M42.3958333,72.3298611 L50.1041667,72.3298611 L50.1041667,57.1701389 L42.3958333,57.1701389 L42.3958333,72.3298611 Z M42.3958333,45.9930556 L50.1041667,45.9930556 L50.1041667,38.2847222 L42.3958333,38.2847222 L42.3958333,45.9930556 Z M7.70833333,92.5 C5.65277778,92.5 3.85416667,91.7291667 2.3125,90.1875 C0.770833333,88.6458333 0,86.8472222 0,84.7916667 L0,7.70833333 C0,5.65277778 0.770833333,3.85416667 2.3125,2.3125 C3.85416667,0.770833333 5.65277778,0 7.70833333,0 L84.7916667,0 C86.8472222,0 88.6458333,0.770833333 90.1875,2.3125 C91.7291667,3.85416667 92.5,5.65277778 92.5,7.70833333 L92.5,84.7916667 C92.5,86.8472222 91.7291667,88.6458333 90.1875,90.1875 C88.6458333,91.7291667 86.8472222,92.5 84.7916667,92.5 L7.70833333,92.5 Z M7.70833333,84.7916667 L84.7916667,84.7916667 L84.7916667,7.70833333 L7.70833333,7.70833333 L7.70833333,84.7916667 Z M7.70833333,7.70833333 L7.70833333,84.7916667 L7.70833333,7.70833333 Z",id:"Shape"}))));m();var LC=fr(Fr()),eAe=n=>LC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},LC.createElement("title",null,"channel_query"),LC.createElement("g",{id:"channel_query",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},LC.createElement("g",{id:"travel_explore_FILL0_wght400_GRAD0_opsz48",transform:"translate(2.685232, 3.500000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},LC.createElement("path",{d:"M43.9974969,93 C37.8673342,92.689612 32.1251564,91.2540676 26.7709637,88.6933667 C21.416771,86.1326658 16.7609512,82.7765957 12.8035044,78.6251564 C8.84605757,74.4737171 5.72277847,69.6433041 3.43366708,64.1339174 C1.14455569,58.6245307 0,52.7659574 0,46.5581977 C0,40.1176471 1.22215269,34.0650814 3.66645807,28.4005006 C6.11076345,22.7359199 9.42803504,17.8085106 13.6182728,13.6182728 C17.8085106,9.42803504 22.7359199,6.11076345 28.4005006,3.66645807 C34.0650814,1.22215269 40.1176471,0 46.5581977,0 C58.1201502,0 68.1689612,3.64705882 76.7046308,10.9411765 C85.2403004,18.2352941 90.4780976,27.3917397 92.4180225,38.4105131 L85.3178974,38.4105131 C83.9987484,31.8923655 81.2440551,26.0725907 77.0538173,20.951189 C72.8635795,15.8297872 67.6257822,11.9887359 61.3404255,9.42803504 L61.3404255,11.5231539 C61.3404255,14.2390488 60.4092616,16.6057572 58.5469337,18.6232791 C56.6846058,20.640801 54.3954944,21.649562 51.6795995,21.649562 L41.5531915,21.649562 L41.5531915,31.77597 C41.5531915,33.0951189 41.0294118,34.1814768 39.9818523,35.0350438 C38.9342929,35.8886108 37.7509387,36.3153942 36.4317897,36.3153942 L26.7709637,36.3153942 L26.7709637,46.5581977 L39.5744681,46.5581977 L39.5744681,61.1076345 L31.77597,61.1076345 L8.03128911,37.3629537 C7.64330413,38.9148936 7.37171464,40.4474343 7.21652065,41.9605757 C7.06132666,43.4737171 6.98372966,45.0062578 6.98372966,46.5581977 C6.98372966,57.0337922 10.514393,66.0738423 17.5757196,73.6783479 C24.6370463,81.2828536 33.4443054,85.3954944 43.9974969,86.0162703 L43.9974969,93 Z M89.6245307,89.9737171 L74.0275344,74.3767209 C72.3979975,75.5406758 70.6326658,76.4330413 68.7315394,77.0538173 C66.830413,77.6745932 64.8710889,77.9849812 62.853567,77.9849812 C57.3441802,77.9849812 52.6689612,76.0644556 48.8279099,72.2234043 C44.9868586,68.3823529 43.0663329,63.7071339 43.0663329,58.1977472 C43.0663329,52.6883605 44.9868586,48.0131414 48.8279099,44.1720901 C52.6689612,40.3310388 57.3441802,38.4105131 62.853567,38.4105131 C68.3629537,38.4105131 73.0381727,40.3310388 76.879224,44.1720901 C80.7202753,48.0131414 82.640801,52.6883605 82.640801,58.1977472 C82.640801,60.2152691 82.3110138,62.1745932 81.6514393,64.0757196 C80.9918648,65.9768461 80.1188986,67.7809762 79.0325407,69.4881101 L94.6295369,84.9687109 L89.6245307,89.9737171 Z M62.853567,71.0012516 C66.4230288,71.0012516 69.4493116,69.7596996 71.9324155,67.2765957 C74.4155194,64.7934919 75.6570713,61.767209 75.6570713,58.1977472 C75.6570713,54.6282854 74.4155194,51.6020025 71.9324155,49.1188986 C69.4493116,46.6357947 66.4230288,45.3942428 62.853567,45.3942428 C59.2841051,45.3942428 56.2578223,46.6357947 53.7747184,49.1188986 C51.2916145,51.6020025 50.0500626,54.6282854 50.0500626,58.1977472 C50.0500626,61.767209 51.2916145,64.7934919 53.7747184,67.2765957 C56.2578223,69.7596996 59.2841051,71.0012516 62.853567,71.0012516 Z",id:"Shape"}))));m();var Ry=fr(Fr()),tAe=n=>Ry.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Ry.createElement("title",null,"channel_samples"),Ry.createElement("g",{id:"channel_samples",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},Ry.createElement("g",{id:"Group",transform:"translate(5.000000, 5.000000)",fill:"#4285F4",className:"primary-fill"},Ry.createElement("path",{d:"M20.25,6.75 L83.25,6.75 L83.25,70.875 L20.25,70.875 L20.25,6.75 Z M20.25,0 C18.45,0 16.875,0.675 15.525,2.025 C14.175,3.375 13.5,4.95 13.5,6.75 L13.5,69.75 C13.5,71.55 14.175,73.125 15.525,74.475 C16.875,75.825 18.45,76.5 20.25,76.5 L83.25,76.5 C85.05,76.5 86.625,75.825 87.975,74.475 C89.325,73.125 90,71.55 90,69.75 L90,6.75 C90,4.95 89.325,3.375 87.975,2.025 C86.625,0.675 85.05,0 83.25,0 L20.25,0 Z M6.75,90 C4.95,90 3.375,89.325 2.025,87.975 C0.675,86.625 0,85.05 0,83.25 L0,13.5 L6.75,13.5 L6.75,83.25 L76.5,83.25 L76.5,90 L6.75,90 Z",id:"Shape",fillRule:"nonzero"}),Ry.createElement("rect",{id:"Rectangle",x:30.1571655,y:21.9026527,width:42.7656174,height:6.46202087}),Ry.createElement("rect",{id:"Rectangle-Copy",x:30.1571655,y:36.2815933,width:42.7656174,height:6.46202087}),Ry.createElement("rect",{id:"Rectangle-Copy-2",x:30.1571655,y:50.2489586,width:22.6109238,height:6.46202087}))));m();var kC=fr(Fr()),nAe=n=>kC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},kC.createElement("title",null,"channel_settings"),kC.createElement("g",{id:"channel_settings",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},kC.createElement("g",{id:"settings_FILL0_wght400_GRAD0_opsz48",transform:"translate(3.750000, 3.750000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},kC.createElement("path",{d:"M35.6125,92.5 L33.3,77.93125 C31.8354167,77.3916667 30.29375,76.659375 28.675,75.734375 C27.05625,74.809375 25.6302083,73.8458333 24.396875,72.84375 L10.753125,79.0875 L0,60.125 L12.4875,50.990625 C12.3333333,50.296875 12.2369792,49.5067708 12.1984375,48.6203125 C12.1598958,47.7338542 12.140625,46.94375 12.140625,46.25 C12.140625,45.55625 12.1598958,44.7661458 12.1984375,43.8796875 C12.2369792,42.9932292 12.3333333,42.203125 12.4875,41.509375 L0,32.375 L10.753125,13.4125 L24.396875,19.65625 C25.6302083,18.6541667 27.05625,17.690625 28.675,16.765625 C30.29375,15.840625 31.8354167,15.146875 33.3,14.684375 L35.6125,0 L56.8875,0 L59.2,14.56875 C60.6645833,15.1083333 62.2255208,15.8213542 63.8828125,16.7078125 C65.5401042,17.5942708 66.946875,18.5770833 68.103125,19.65625 L81.746875,13.4125 L92.5,32.375 L80.0125,41.278125 C80.1666667,42.0489583 80.2630208,42.8776042 80.3015625,43.7640625 C80.3401042,44.6505208 80.359375,45.4791667 80.359375,46.25 C80.359375,47.0208333 80.3401042,47.8302083 80.3015625,48.678125 C80.2630208,49.5260417 80.1666667,50.3354167 80.0125,51.10625 L92.5,60.125 L81.746875,79.0875 L68.103125,72.84375 C66.8697917,73.8458333 65.4630208,74.8286458 63.8828125,75.7921875 C62.3026042,76.7557292 60.7416667,77.46875 59.2,77.93125 L56.8875,92.5 L35.6125,92.5 Z M46.25,61.28125 C50.4125,61.28125 53.9583333,59.8166667 56.8875,56.8875 C59.8166667,53.9583333 61.28125,50.4125 61.28125,46.25 C61.28125,42.0875 59.8166667,38.5416667 56.8875,35.6125 C53.9583333,32.6833333 50.4125,31.21875 46.25,31.21875 C42.0875,31.21875 38.5416667,32.6833333 35.6125,35.6125 C32.6833333,38.5416667 31.21875,42.0875 31.21875,46.25 C31.21875,50.4125 32.6833333,53.9583333 35.6125,56.8875 C38.5416667,59.8166667 42.0875,61.28125 46.25,61.28125 Z M46.25,54.34375 C44.0145833,54.34375 42.1067708,53.5536458 40.5265625,51.9734375 C38.9463542,50.3932292 38.15625,48.4854167 38.15625,46.25 C38.15625,44.0145833 38.9463542,42.1067708 40.5265625,40.5265625 C42.1067708,38.9463542 44.0145833,38.15625 46.25,38.15625 C48.4854167,38.15625 50.3932292,38.9463542 51.9734375,40.5265625 C53.5536458,42.1067708 54.34375,44.0145833 54.34375,46.25 C54.34375,48.4854167 53.5536458,50.3932292 51.9734375,51.9734375 C50.3932292,53.5536458 48.4854167,54.34375 46.25,54.34375 Z M41.1625,85.5625 L51.3375,85.5625 L52.95625,72.6125 C55.5,71.9958333 57.9088542,71.0322917 60.1828125,69.721875 C62.4567708,68.4114583 64.51875,66.83125 66.36875,64.98125 L78.625,70.3 L83.25,61.975 L72.38125,53.996875 C72.6895833,52.6864583 72.9401042,51.3953125 73.1328125,50.1234375 C73.3255208,48.8515625 73.421875,47.5604167 73.421875,46.25 C73.421875,44.9395833 73.3447917,43.6484375 73.190625,42.3765625 C73.0364583,41.1046875 72.7666667,39.8135417 72.38125,38.503125 L83.25,30.525 L78.625,22.2 L66.36875,27.51875 C64.5958333,25.5145833 62.5916667,23.8380208 60.35625,22.4890625 C58.1208333,21.1401042 55.6541667,20.2729167 52.95625,19.8875 L51.3375,6.9375 L41.1625,6.9375 L39.54375,19.8875 C36.9229167,20.4270833 34.4755208,21.3520833 32.2015625,22.6625 C29.9276042,23.9729167 27.9041667,25.5916667 26.13125,27.51875 L13.875,22.2 L9.25,30.525 L20.11875,38.503125 C19.8104167,39.8135417 19.5598958,41.1046875 19.3671875,42.3765625 C19.1744792,43.6484375 19.078125,44.9395833 19.078125,46.25 C19.078125,47.5604167 19.1744792,48.8515625 19.3671875,50.1234375 C19.5598958,51.3953125 19.8104167,52.6864583 20.11875,53.996875 L9.25,61.975 L13.875,70.3 L26.13125,64.98125 C27.98125,66.83125 30.0432292,68.4114583 32.3171875,69.721875 C34.5911458,71.0322917 37,71.9958333 39.54375,72.6125 L41.1625,85.5625 Z",id:"Shape"}))));m();var IC=fr(Fr()),rAe=n=>IC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},IC.createElement("title",null,"channel_source"),IC.createElement("g",{id:"channel_source",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},IC.createElement("g",{id:"account_tree_FILL0_wght400_GRAD0_opsz48",transform:"translate(50.000000, 50.000000) scale(-1, -1) translate(-50.000000, -50.000000) translate(3.333333, 8.000000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},IC.createElement("path",{d:"M61.1333333,84 L61.1333333,69.4166667 L43.1666667,69.4166667 L43.1666667,21.5833333 L32.3166667,21.5833333 L32.3166667,36.75 L0,36.75 L0,0 L32.3166667,0 L32.3166667,14.5833333 L61.1333333,14.5833333 L61.1333333,0 L93.3333333,0 L93.3333333,36.75 L61.1333333,36.75 L61.1333333,21.5833333 L50.1666667,21.5833333 L50.1666667,62.4166667 L61.1333333,62.4166667 L61.1333333,47.25 L93.3333333,47.25 L93.3333333,84 L61.1333333,84 Z M7,7 L7,29.75 L7,7 Z M68.1333333,54.25 L68.1333333,77 L68.1333333,54.25 Z M68.1333333,7 L68.1333333,29.75 L68.1333333,7 Z M68.1333333,29.75 L86.3333333,29.75 L86.3333333,7 L68.1333333,7 L68.1333333,29.75 Z M68.1333333,77 L86.3333333,77 L86.3333333,54.25 L68.1333333,54.25 L68.1333333,77 Z M7,29.75 L25.3166667,29.75 L25.3166667,7 L7,7 L7,29.75 Z",id:"Shape"}))));m();var cue=fr(Fr()),iAe=n=>cue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100px",height:"100px",viewBox:"5 5 38 38",role:"img",...n},cue.createElement("path",{className:"primary-fill",d:"M11 39h7.5V26.5h11V39H37V19.5L24 9.75 11 19.5Zm-3 3V18L24 6l16 12v24H26.5V29.5h-5V42Zm16-17.65Z"}));var fue=({name:n})=>{let e={width:"18px",height:"18px"};switch(n){case"about":return v.createElement(K9e,{...e});case"feedback":return v.createElement(J9e,{...e});case"help":return v.createElement(X9e,{...e});case"preview":return v.createElement(Z9e,{...e});case"query":return v.createElement(eAe,{...e});case"samples":return v.createElement(tAe,{...e});case"settings":return v.createElement(nAe,{...e});case"source":return v.createElement(rAe,{...e});case"home":return v.createElement(iAe,{...e})}};var MC=({icon:n,text:e,onClick:t,selected:r,disabled:i=!1})=>v.createElement(G1t,{onClick:t,selected:r,disabled:i},v.createElement(fue,{name:n}),e),G1t=Bn.button`
  outline: none;
  border: none;
  color: ${mi.dimension.fillStrong};
  display: flex;
  flex-direction: column;
  background-color: transparent;
  gap: 8px;
  align-items: center;
  justify-content: center;
  padding: 10px;
  font-weight: 600;

  ${({selected:n,disabled:e})=>(e?`
      .primary-fill {
        fill: ${mi.other.fillMedium};
      }

      color: ${mi.other.fillMedium};
    `:`
      cursor: pointer;

      &:hover {
        background-color: ${mi.other.fillLight};
      }

      .primary-fill {
        fill: ${mi.other.fillStrong};
      }

      color: ${mi.other.fillStrong};
    `)+(n?`
      color: ${mi.dimension.fillStrong};

      &:hover {
        background-color: ${mi.dimension.fillLight};
      }

      .primary-fill {
        fill: ${mi.dimension.fillStrong};
      }
      `:"")}
`;m();m();var sAe=Bn.div`
  padding: 5px;
  background-color: #fbb;
  font-family: "Google Sans", sans-serif;
  font-size: 12px;
  color: #4b4c50;
  border-radius: 5px;
`,Y1t=Bn(sAe)`
  white-space: pre-wrap;
  font-family: "Roboto Mono", monospace;
`,due=({error:n})=>{if(n){let{message:e}=n;return e.split(`
`).length>1?v.createElement(Y1t,null,e):v.createElement(sAe,null,e)}return null};var lMe=fr(QAe());m();async function Gmt(n,e,t){return t===void 0||n===void 0?void 0:E2()?W9e(n,t):(await(await fetch("api/top_values",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({modelPath:e,source:t})})).json()).result}function GAe(n,e,t){let{data:r}=wg(["top_values",e,t?.name],()=>Gmt(n,e,t),{refetchOnWindowFocus:!1});return r}m();m();var YAe=fr(Fr());function k1(n,e){(0,YAe.useEffect)(()=>{let t=Array.isArray(n)?n:[n],r=!1,i=(l,f)=>!l.current||f.target instanceof Element&&l.current.contains(f.target),s=l=>t.some(f=>i(f,l)),o=l=>{!r||s(l)||(e(l),r=!1)},a=l=>{s(l)||(r=!0)};return document.addEventListener("mouseup",o),document.addEventListener("mousedown",a),()=>{document.removeEventListener("mouseup",o),document.removeEventListener("mousedown",a)}},[n,e])}m();var gH=fr(Fr());function yH(n){let e=(0,gH.useRef)();return(0,gH.useEffect)(()=>{e.current=n}),e.current}m();var L4=fr(Fr());m();m();function vH(n,e){if(n===void 0)return{stageIndex:e.stageIndex};if(e.fieldIndex===void 0)throw new Error("Invalid push to stage path");return{stageIndex:e.stageIndex,parts:[...n.parts||[],{stageIndex:n.stageIndex,fieldIndex:e.fieldIndex}]}}function _H(n){if(n.parts&&n.parts.length>0){let e=n.parts[0];return{stageIndex:e.stageIndex,fieldIndex:e.fieldIndex,stagePath:{stageIndex:n.stageIndex,parts:n.parts.slice(1)}}}return{stageIndex:n.stageIndex}}function KAe(n){return n.parts?{stagePath:{stageIndex:n.parts[0].stageIndex,parts:n.parts?.slice(1)},stageIndex:n.stageIndex,fieldIndex:n.parts[0].fieldIndex}:{stagePath:void 0,fieldIndex:void 0,stageIndex:n.stageIndex}}var H0=fr(up());m();function jx(n,e){if(e.length===0)throw new Error("Alternation must have some values");return e.join(" "+n+" ")}function Eue(n,e){switch(e.type){case"is_equal_to":return e.values.length===0?"true":`${n} = ${jx("|",e.values.map(t=>t.toString()))}`;case"is_not_equal_to":return e.values.length===0?"true":`${n} != ${jx("&",e.values.map(t=>t.toString()))}`;case"is_between":return`${n}: ${e.lowerBound} to ${e.upperBound}`;case"is_greater_than":return`${n} > ${e.value}`;case"is_less_than":return`${n} < ${e.value}`;case"is_greater_than_or_equal_to":return`${n} >= ${e.value}`;case"is_less_than_or_equal_to":return`${n} <= ${e.value}`;case"is_null":return`${n} = null`;case"is_not_null":return`${n} != null`;case"custom":return`${n}: ${e.partial}`}}function Sue(n,e){switch(e.type){case"is_equal_to":return e.values.length===0?"true":`${n} = ${jx("|",e.values.map(R4))}`;case"is_not_equal_to":return e.values.length===0?"true":`${n} != ${jx("&",e.values.map(R4))}`;case"contains":return e.values.length===0?"true":`${n} ~ ${jx("|",e.values.map(jC).map(t=>`%${t}%`).map(R4))}`;case"does_not_contain":return e.values.length===0?"true":`${n} !~ ${jx("&",e.values.map(jC).map(t=>`%${t}%`).map(R4))}`;case"starts_with":return e.values.length===0?"true":`${n} ~ ${jx("|",e.values.map(jC).map(t=>`${t}%`).map(R4))}`;case"does_not_start_with":return e.values.length===0?"true":`${n} !~ ${jx("&",e.values.map(jC).map(t=>`${t}%`).map(R4))}`;case"ends_with":return e.values.length===0?"true":`${n} ~ ${jx("|",e.values.map(jC).map(t=>`%${t}`).map(R4))}`;case"does_not_end_with":return e.values.length===0?"true":`${n} !~ ${jx("&",e.values.map(jC).map(t=>`%${t}`).map(R4))}`;case"is_null":return`${n} = null`;case"is_not_null":return`${n} != null`;case"is_blank":return`${n} = ''`;case"is_not_blank":return`${n} != ''`;case"custom":return`${n}: ${e.partial}`}}function wue(n,e){switch(e.type){case"is_false":return`not ${n}`;case"is_true":return`${n}`;case"is_true_or_null":return`${n}: true | null`;case"is_false_or_null":return`${n}: false | null`;case"is_null":return`${n} = null`;case"is_not_null":return`${n} != null`;case"custom":return`${n}: ${e.partial}`}}function Cue(n,e){switch(e.type){case"is_in_the_past":return`${n}: now - ${e.amount} ${e.unit} for ${e.amount} ${e.unit}`;case"is_last":return`${n}.${e.period} = now.${e.period} - 1 ${e.period}`;case"is_this":return`${n}.${e.period} = now.${e.period}`;case"is_on":return`${n}.${e.granularity} = ${jR(e.date,e.granularity)}`;case"is_after":return`${n}.${e.granularity} > ${jR(e.date,e.granularity)}`;case"is_before":return`${n}.${e.granularity} < ${jR(e.date,e.granularity)}`;case"is_between":return`${n}.${e.granularity}: ${jR(e.start,e.granularity)} to ${jR(e.end,e.granularity)}`;case"is_null":return`${n} = null`;case"is_not_null":return`${n} != null`;case"custom":return`${n}: ${e.partial}`}}function jC(n){return n.replace(/%/g,"%%")}function R4(n){return`'${n}'`}function jR(n,e){switch(e){case"year":return`@${Au(n.getUTCFullYear(),4)}`;case"quarter":{let t=Au(n.getUTCFullYear(),4),r=Math.floor(n.getUTCMonth()/3)+1;return`@${t}-Q${r}`}case"month":{let t=Au(n.getUTCFullYear(),2),r=Au(n.getUTCMonth()+1,2);return`@${t}-${r}`}case"week":{let t=Au(n.getUTCFullYear(),2),r=Au(n.getUTCMonth()+1,2),i=Au(n.getUTCDate(),2);return`@WK${t}-${r}-${i}`}case"day":{let t=Au(n.getUTCFullYear(),2),r=Au(n.getUTCMonth()+1,2),i=Au(n.getUTCDate(),2);return`@${t}-${r}-${i}`}case"hour":{let t=Au(n.getUTCFullYear(),2),r=Au(n.getUTCMonth()+1,2),i=Au(n.getUTCDate(),2),s=Au(n.getUTCHours(),2);return`@${t}-${r}-${i} ${s}:00`}case"minute":{let t=Au(n.getUTCFullYear(),2),r=Au(n.getUTCMonth()+1,2),i=Au(n.getUTCDate(),2),s=Au(n.getUTCHours(),2),o=Au(n.getUTCMinutes(),2);return`@${t}-${r}-${i} ${s}:${o}`}case"second":{let t=Au(n.getUTCFullYear(),2),r=Au(n.getUTCMonth()+1,2),i=Au(n.getUTCDate(),2),s=Au(n.getUTCHours(),2),o=Au(n.getUTCMinutes(),2),a=Au(n.getUTCSeconds(),2);return`@${t}-${r}-${i} ${s}:${o}:${a}`}default:throw new Error("Unknown timeframe.")}}function Au(n,e){return n.toString().padStart(e,"0")}function JAe(n,e){switch(e){case"is_equal_to":case"is_not_equal_to":case"starts_with":case"does_not_start_with":case"contains":case"does_not_contain":case"ends_with":case"does_not_end_with":return{type:e,values:"values"in n?n.values:[]};case"is_blank":case"is_not_blank":case"is_null":case"is_not_null":return{type:e};case"custom":return{type:e,partial:""}}}function XAe(n,e){switch(e){case"is_equal_to":case"is_not_equal_to":return{type:e,values:"values"in n?n.values:"value"in n?[n.value]:"lowerBound"in n?[n.lowerBound]:[]};case"is_greater_than":case"is_less_than":case"is_greater_than_or_equal_to":case"is_less_than_or_equal_to":return{type:e,value:"value"in n?n.value:"values"in n&&n.values[0]||0};case"is_between":return{type:e,lowerBound:"value"in n?n.value:"values"in n&&n.values[0]||0,upperBound:0};case"is_null":case"is_not_null":return{type:e};case"custom":return{type:e,partial:""}}}function ZAe(n,e){switch(e){case"is_in_the_past":return{type:e,unit:"days",amount:7};case"is_last":case"is_this":return{type:e,period:"day",amount:1};case"is_on":case"is_after":case"is_before":return{type:e,granularity:"granularity"in n?n.granularity:"day",date:"date"in n?n.date:"start"in n?n.start:new Date};case"is_between":return{type:e,granularity:"granularity"in n?n.granularity:"day",start:"date"in n?n.date:new Date,end:new Date};case"is_null":case"is_not_null":return{type:e};case"custom":return{type:e,partial:""}}}function eTe(n,e){switch(e){case"custom":return{type:e,partial:""};default:return{type:e}}}var bH="[a-zA-Z_]",qC="[0-9]",tTe=`${bH}(?:${bH}|${qC})*`,Ymt=`\`${bH}(?:${bH}|${qC}|\\s)*\``,Kmt=`${tTe}(?:\\.${tTe})*`,ma=`(?:${Kmt}|${Ymt})`,Jmt=new RegExp(`^not (${ma})$`),Xmt=new RegExp(`^(${ma})$`),Zmt=new RegExp(`^(${ma}):\\s*true\\s*\\|\\s*null$`),e2t=new RegExp(`^(${ma}):\\s*false\\s*\\|\\s*null$`),t2t=new RegExp(`^(${ma})\\s*=\\s*null$`),n2t=new RegExp(`^(${ma})\\s*!=\\s*null$`),r2t=new RegExp(`^(${ma}):\\s*(.*)$`);function qx(n,e){return`${e}(?:\\s*\\${n}\\s*${e}\\s*)*`}var EH="(?:\\\\\\')|(?:\\\\\\\\)|(?:\\\\.)",nTe=`\\'(?:${EH}|[^\\\\\\\\'])*\\'`,rTe=`\\'%(?:${EH}|[^\\\\\\\\'])*%\\'`,iTe=`\\'(?:${EH}|[^\\\\\\\\'])*%\\'`,sTe=`\\'%(?:${EH}|[^\\\\\\\\'])*\\'`,i2t=new RegExp(`^(${ma})\\s*=\\s\\'\\'$`),s2t=new RegExp(`^(${ma})\\s*!=\\s\\'\\'$`),o2t=new RegExp(`^(${ma})\\s*=\\s*(${qx("|",nTe)})$`),a2t=new RegExp(`^(${ma})\\s*!=\\s*(${qx("&",nTe)})$`),u2t=new RegExp(`^(${ma})\\s*~\\s*(${qx("|",rTe)})$`),l2t=new RegExp(`^(${ma})\\s*!~\\s*(${qx("&",rTe)})$`),c2t=new RegExp(`^(${ma})\\s*~\\s*(${qx("|",iTe)})$`),f2t=new RegExp(`^(${ma})\\s*~\\s*(${qx("|",sTe)})$`),d2t=new RegExp(`^(${ma})\\s*!~\\s*(${qx("&",iTe)})$`),h2t=new RegExp(`^(${ma})\\s*!~\\s*(${qx("&",sTe)})$`),Ux=`${qC}+(?:\\.${qC}*)?`,p2t=new RegExp(`^(${ma})\\s*=\\s*(${qx("|",Ux)})$`),m2t=new RegExp(`^(${ma})\\s*!=\\s*(${qx("&",Ux)})$`),x2t=new RegExp(`^(${ma})\\s*:\\s*(${Ux})\\s*to\\s*(${Ux})$`),g2t=new RegExp(`^(${ma})\\s*>\\s*(${Ux})$`),y2t=new RegExp(`^(${ma})\\s*<\\s*(${Ux})$`),v2t=new RegExp(`^(${ma})\\s*>=\\s*(${Ux})$`),_2t=new RegExp(`^(${ma})\\s*<=\\s*(${Ux})$`),Hm="(?:year|quarter|month|week|day|hour|minute|second)",b2t=new RegExp(`^(${ma})\\s*:\\s*now\\s*-\\s*(${Ux})\\s*(${Hm})s?\\s*for\\s*\\s*(${Ux})\\s*(${Hm})s?$`),E2t=new RegExp(`^(${ma})\\.(${Hm})\\s*=\\s*now\\.(${Hm})\\s*-\\s*1\\s*(${Hm})$`),S2t=new RegExp(`^(${ma})\\.(${Hm})\\s*=\\s*now\\.(${Hm})$`),Aue=`${qC}{4}`,kb=`${qC}{2}`,oTe=`@${Aue}(?:-${kb}(?:-${kb}(?: ${kb}:${kb}(?::${kb})?)?)?)?`,aTe=`@${Aue}-Q[1234]`,uTe=`@WK${Aue}-${kb}-${kb}`,qR=`(?:${oTe}|${aTe}|${uTe})`,w2t=new RegExp(`^(${ma})\\.(${Hm})\\s*=\\s*(${qR})$`),C2t=new RegExp(`^(${ma})\\.(${Hm})\\s*>\\s*(${qR})$`),A2t=new RegExp(`^(${ma})\\.(${Hm})\\s*<\\s*(${qR})$`),T2t=new RegExp(`^(${ma})\\.(${Hm})\\s*:\\s*(${qR})\\s*to\\s*(${qR})$`);function Ds(n){return n.startsWith("`")&&n.endsWith("`")?n.substring(1,n.length-1):n}function lTe(n){return F2t(n)??R2t(n)??N2t(n)??L2t(n)??D2t(n)}function F2t(n){let e=n.match(Jmt);if(e)return{field:Ds(e[1]),filter:{type:"is_false"}};let t=n.match(Xmt);if(t)return{field:Ds(t[1]),filter:{type:"is_true"}};let r=n.match(Zmt);if(r)return{field:Ds(r[1]),filter:{type:"is_true_or_null"}};let i=n.match(e2t);if(i)return{field:Ds(i[1]),filter:{type:"is_false_or_null"}}}function D2t(n){let e=n.match(t2t);if(e)return{field:Ds(e[1]),filter:{type:"is_null"}};let t=n.match(n2t);if(t)return{field:Ds(t[1]),filter:{type:"is_not_null"}};let r=n.match(r2t);if(r)return{field:Ds(r[1]),filter:{type:"custom",partial:r[2]}}}function N4(n){return n.substring(1,n.length-1)}function cTe(n){return n.substring(1,n.length-1)}function fTe(n){return n.substring(0,n.length-1)}function dTe(n){return n.substring(1)}function ky(n){return parseFloat(n)}function $x(n,e){return e.split(new RegExp(`\\s*\\${n}\\s*`))}function O2t(n){if(["year","quarter","month","week","day","hour","minute","second"].includes(n))return n+"s";throw new Error(`Invalid time unit '${n}'`)}function UC(n){if(["year","quarter","month","week","day","hour","minute","second"].includes(n))return n;throw new Error(`Invalid time period '${n}'`)}function UR(n){let e=n.match(new RegExp(`^${oTe}$`)),t=n.match(new RegExp(`^${uTe}$`));if(e||t){let r=e?n.substring(1):n.substring(3);return r.length===4?new Date(parseInt(n.substring(0,4)),0,1):r.length===7?new Date(parseInt(r.substring(0,4)),parseInt(r.substring(5,7))-1,1):r.length===10?new Date(parseInt(r.substring(0,4)),parseInt(r.substring(5,7))-1,parseInt(r.substring(8,10))):r.length===16?new Date(parseInt(r.substring(0,4)),parseInt(r.substring(5,7))-1,parseInt(r.substring(8,10)),parseInt(r.substring(11,13)),parseInt(r.substring(14,16))):new Date(parseInt(r.substring(0,4)),parseInt(r.substring(5,7))-1,parseInt(r.substring(8,10)),parseInt(r.substring(11,13)),parseInt(r.substring(14,16)),parseInt(r.substring(17,19)))}else if(n.match(new RegExp(`^${aTe}$`)))return new Date(parseInt(n.substring(1,5)),3*parseInt(n.substring(7,8))-1,1);throw new Error(`Invalid Malloy date: ${n}`)}function R2t(n){let e=n.match(i2t);if(e)return{field:Ds(e[1]),filter:{type:"is_blank"}};let t=n.match(s2t);if(t)return{field:Ds(t[1]),filter:{type:"is_not_blank"}};let r=n.match(o2t);if(r)return{field:Ds(r[1]),filter:{type:"is_equal_to",values:$x("|",r[2]).map(N4)}};let i=n.match(a2t);if(i)return{field:Ds(i[1]),filter:{type:"is_not_equal_to",values:$x("&",i[2]).map(N4)}};let s=n.match(u2t);if(s)return{field:Ds(s[1]),filter:{type:"contains",values:$x("|",s[2]).map(N4).map(cTe)}};let o=n.match(l2t);if(o)return{field:Ds(o[1]),filter:{type:"does_not_contain",values:$x("&",o[2]).map(N4).map(cTe)}};let a=n.match(c2t);if(a)return{field:Ds(a[1]),filter:{type:"starts_with",values:$x("|",a[2]).map(N4).map(fTe)}};let l=n.match(f2t);if(l)return{field:Ds(l[1]),filter:{type:"ends_with",values:$x("|",l[2]).map(N4).map(dTe)}};let f=n.match(d2t);if(f)return{field:Ds(f[1]),filter:{type:"does_not_start_with",values:$x("&",f[2]).map(N4).map(fTe)}};let p=n.match(h2t);if(p)return{field:Ds(p[1]),filter:{type:"does_not_end_with",values:$x("&",p[2]).map(N4).map(dTe)}}}function N2t(n){let e=n.match(p2t);if(e)return{field:Ds(e[1]),filter:{type:"is_equal_to",values:$x("|",e[2]).map(ky)}};let t=n.match(m2t);if(t)return{field:Ds(t[1]),filter:{type:"is_not_equal_to",values:$x("&",t[2]).map(ky)}};let r=n.match(g2t);if(r)return{field:Ds(r[1]),filter:{type:"is_greater_than",value:ky(Ds(r[2]))}};let i=n.match(y2t);if(i)return{field:Ds(i[1]),filter:{type:"is_less_than",value:ky(Ds(i[2]))}};let s=n.match(_2t);if(s)return{field:Ds(s[1]),filter:{type:"is_greater_than_or_equal_to",value:ky(Ds(s[2]))}};let o=n.match(v2t);if(o)return{field:Ds(o[1]),filter:{type:"is_less_than_or_equal_to",value:ky(Ds(o[2]))}};let a=n.match(x2t);if(a)return{field:Ds(a[1]),filter:{type:"is_between",lowerBound:ky(Ds(a[2])),upperBound:ky(Ds(a[3]))}}}function L2t(n){let e=n.match(b2t);if(e)return{field:Ds(e[1]),filter:{type:"is_in_the_past",amount:ky(Ds(e[2])),unit:O2t(Ds(e[3]))}};let t=n.match(E2t);if(t)return{field:Ds(t[1]),filter:{type:"is_last",period:UC(Ds(t[2]))}};let r=n.match(S2t);if(r)return{field:Ds(r[1]),filter:{type:"is_this",period:UC(Ds(r[2]))}};let i=n.match(w2t);if(i)return{field:Ds(i[1]),filter:{type:"is_on",granularity:UC(Ds(i[2])),date:UR(Ds(i[3]))}};let s=n.match(C2t);if(s)return{field:Ds(s[1]),filter:{type:"is_after",granularity:UC(Ds(s[2])),date:UR(Ds(s[3]))}};let o=n.match(A2t);if(o)return{field:Ds(o[1]),filter:{type:"is_before",granularity:UC(Ds(o[2])),date:UR(Ds(o[3]))}};let a=n.match(T2t);if(a)return{field:Ds(a[1]),filter:{type:"is_between",granularity:UC(Ds(a[2])),start:UR(Ds(a[3])),end:UR(Ds(a[4]))}}}var Tue=class{constructor(e){this._source=e}updateSource(e){this._source=e}getSource(){return this._source}fieldDefForQueryFieldDef(e,t){return typeof e=="string"?this.getField(t,e):(0,H0.isFilteredAliasedName)(e)?this.getField(t,e.name):e}getField(e,t){let r=t.split("."),i=e;for(;r.length>1;){let o=r[0],a=i.fields.find(l=>(l.as||l.name)===o);if(a===void 0)throw new Error(`Could not find (inner) ${o}`);if(a.type==="struct")i=a,r=r.slice(1);else if(a.type==="turtle"){let l=this.getSource();for(let f of a.pipeline)l=this.modifySourceForStage(f,l);i=l,r=r.slice(1)}else throw new Error("Inner segment in path is not a source")}let s=i.fields.find(o=>(o.as||o.name)===r[0]);if(s===void 0)throw new Error(`Could not find ${r[0]}`);return s}modifySourceForStage(e,t){return H0.Segment.nextStructDef(t,e)}},Fue={pipeline:[{type:"reduce",fields:[]}],name:"new_query",type:"turtle"},Due=class extends Error{constructor(e,t){super(e);this.field=t}},Oue=class extends Tue{constructor(e){super(e);this.query=JSON.parse(JSON.stringify(Fue))}getWriter(){return new hTe(this.query,this._source)}getQuerySummary(e){return this._source===void 0?void 0:this.getWriter().getQuerySummary(e)}getQueryStringForModel(){return this._source===void 0?void 0:this.getWriter().getQueryStringForModel()}getQueryStringForSource(e){return this._source===void 0?void 0:this.getWriter().getQueryStringForSource(e)}getQueryStringForMarkdown(e,t){return this._source===void 0?void 0:this.getWriter().getQueryStringForMarkdown(e,t)}getQueryStrings(e,t){let r=this.getWriter();return{model:r.getQueryStringForModel(),source:r.getQueryStringForSource(this.query.name),markdown:r.getQueryStringForMarkdown(e,t),isRunnable:this.canRun()}}getName(){return this.query.name}isEmpty(){return JSON.stringify(this.query)===JSON.stringify(Fue)}clearQuery(){this.query=JSON.parse(JSON.stringify(Fue))}setQuery(e){this.query={pipeline:e.pipeline,name:e.as||e.name,type:"turtle"}}autoExpandStageAtPath(e){try{return this.stageAtPath(e)}catch(t){if(t instanceof Due){let{stagePath:r,fieldIndex:i}=_H(e);if(this.fieldDefForQueryFieldDef(t.field,this.sourceForStageAtPath(r)).type==="turtle")return this.replaceWithDefinition(r,i),this.stageAtPath(e)}throw t}}stageAtPath(e){let t=this.query.pipeline;for(;;){let{stagePath:r,stageIndex:i,fieldIndex:s}=_H(e);if(s!==void 0){let o=t[i].fields[s];if(typeof o=="string"||(0,H0.isFilteredAliasedName)(o)||o.type!=="turtle")throw new Due("Path does not refer to a stage correctly",o);if(t=o.pipeline,r===void 0)throw new Error("Invalid stage path");e=r}else return t[i]}}sourceForStageAtPath(e){let t=this.query.pipeline,r=this.getSource();for(;;){let{stagePath:i,stageIndex:s,fieldIndex:o}=_H(e);for(let a=0;a<s;a++)r=this.modifySourceForStage(t[a],r);if(o!==void 0){let a=t[s].fields[o];if(typeof a=="string"||(0,H0.isFilteredAliasedName)(a)||a.type!=="turtle")throw new Error("Path does not refer to a stage correctly");if(t=a.pipeline,i===void 0)throw new Error("Invalid stage path");e=i}else return r}}sortOrder(e){return e.type==="struct"?3:e.type==="turtle"?2:e.aggregate?1:0}getIndexToInsertNewField(e,t){let r=this.stageAtPath(e),i=this.sourceForStageAtPath(e),s=this.fieldDefForQueryFieldDef(t,i),o=this.sortOrder(s);for(let a=0;a<r.fields.length;a++){let l=r.fields[a];try{let f=this.fieldDefForQueryFieldDef(l,i);if(this.sortOrder(f)>o)return a}catch(f){console.log(f)}}return r.fields.length}insertField(e,t){let r=this.autoExpandStageAtPath(e),i=this.getIndexToInsertNewField(e,t);r.fields.splice(i,0,t)}addField(e,t){this.insertField(e,t)}loadQuery(e){let t=this.getField(this.getSource(),e);if(t.type!=="turtle")throw new Error("Path does not refer to query.");t.pipeline.forEach((r,i)=>{if(this.query.pipeline[i]===void 0)this.query.pipeline[i]=JSON.parse(JSON.stringify(r));else{let s=this.query.pipeline[i];if(s.type!=="reduce"||r.type!=="reduce")throw new Error("Cannot load query with non-reduce stages");r.by&&(s.by={...r.by},s.orderBy=void 0),r.filterList&&(s.filterList=(s.filterList||[]).concat(...r.filterList.filter(o=>!s.filterList?.find(a=>a.code===o.code)))),r.limit&&(s.limit=r.limit),r.orderBy&&(s.orderBy=r.orderBy,s.by=void 0),s.fields=r.fields.map(o=>JSON.parse(JSON.stringify(o))).concat(s.fields.filter(o=>!r.fields.find(a=>this.nameOf(a)===this.nameOf(o))))}}),this.query.name=t.as||t.name}replaceQuery(e){let t=this.query.pipeline.length===1&&this.query.pipeline[0].fields.length===0?this.query.pipeline[0].filterList||[]:[],r=JSON.parse(JSON.stringify(e.pipeline));r[0].filterList=[...t,...r[0].filterList||[]],this.query={pipeline:r,name:e.as||e.name,type:"turtle"}}nameOf(e){return typeof e=="string"?e:e.as||e.name}replaceSavedField(e,t,r){this.stageAtPath(e).fields.splice(t,1,r)}removeField(e,t){let r=this.stageAtPath(e);if(r.type==="reduce"&&r.orderBy){let i=r.orderBy.findIndex(s=>{let o=r.fields[t];return s.field===this.nameOf(o)});i!==-1&&r.orderBy.splice(i,1)}r.fields.splice(t,1)}getFieldIndex(e,t){let i=this.stageAtPath(e).fields.findIndex(s=>s===t);return i===-1?void 0:i}hasField(e,t){return this.getFieldIndex(e,t)!==void 0}reorderFields(e,t){let r=this.stageAtPath(e),i=t.map(s=>r.fields[s]);r.fields=i}toggleField(e,t){this.autoExpandStageAtPath(e);let r=this.getFieldIndex(e,t);r!==void 0?this.removeField(e,r):this.addField(e,t)}getQuery(){return this.query}addFilter(e,t){let r=this.autoExpandStageAtPath(e);r.filterList=[...r.filterList||[],t]}editFilter(e,t,r,i){let s=this.stageAtPath(e);if(t===void 0){if(s.filterList===void 0)throw new Error("Stage has no filters.");s.filterList[r]=i}else{let o=s.fields[t];if(!(0,H0.isFilteredAliasedName)(o))throw new Error("Cannot edit filter on non FAN.");if(o.filterList===void 0)throw new Error("Field has no filters");o.filterList[r]=i}}removeFilter(e,t,r){let i=this.stageAtPath(e);if(r===void 0)i.filterList&&i.filterList.splice(t,1);else{let s=i.fields[r];(0,H0.isFilteredAliasedName)(s)&&s.filterList?.splice(r,1)}}hasLimit(e){let t=this.stageAtPath(e);if(t.type!=="reduce")throw new Error("Don't know how to handle this yet");return t.limit!==void 0}addLimit(e,t,r,i){let s=this.autoExpandStageAtPath(e);if(s.type!=="reduce")throw new Error("Don't know how to handle this yet");s.limit=t,r&&(s.orderBy=[{field:r.path,dir:i}])}addOrderBy(e,t,r){let i=this.autoExpandStageAtPath(e);if(i.type!=="reduce")throw new Error("Don't know how to handle this yet");i.orderBy=i.orderBy||[];let s=i.fields[t],o=typeof s=="string"?s:s.as||s.name;i.orderBy.push({field:o,dir:r})}editOrderBy(e,t,r){let i=this.stageAtPath(e);if(i.type!=="reduce")throw new Error("Don't know how to handle this yet");i.orderBy=i.orderBy||[],i.orderBy[t]={field:i.orderBy[t].field,dir:r}}removeLimit(e){let t=this.stageAtPath(e);t.limit=void 0}addStage(e,t){let r;if(e!==void 0){let i=this.stageAtPath(e);if(t===void 0)throw new Error("fieldIndex must be provided if stagePath is");let s=i.fields[t];if(this.fieldDefForQueryFieldDef(s,this.sourceForStageAtPath(e)).type==="turtle")typeof s=="string"||(0,H0.isFilteredAliasedName)(s)?(this.replaceWithDefinition(e,t),r=i.fields[t]):r=s;else throw new Error("Invalid field to add stage to.")}else r=this.query;r.pipeline.push({type:"reduce",fields:[]})}removeStage(e){let{stagePath:t,fieldIndex:r,stageIndex:i}=KAe(e),s;if(t!==void 0){let o=this.stageAtPath(t);if(r===void 0)throw new Error("Invalid stage path");let a=o.fields[r];if(typeof a!="string"&&!(0,H0.isFilteredAliasedName)(a)&&a.type==="turtle")s=a;else throw new Error("Invalid field to add stage to.")}else s=this.query;s.pipeline.splice(i,1),s.pipeline.length===0&&s.pipeline.push({type:"reduce",fields:[]})}removeOrderBy(e,t){let r=this.stageAtPath(e);if(r.type!=="reduce")throw new Error("Don't know how to handle this yet");r.orderBy&&r.orderBy.splice(t,1)}canRun(){return this.query.pipeline[0].fields.length>0}renameField(e,t,r){let i=this.stageAtPath(e);if(i.type!=="reduce")throw new Error("Don't know how to handle this yet");let s=i.fields[t],o=this.nameOf(s);i.orderBy&&i.orderBy.forEach(a=>{a.field===o&&(a.field=r)}),typeof s=="string"?i.fields[t]={name:s,as:r}:((0,H0.isFilteredAliasedName)(s),s.as=r)}addFilterToField(e,t,r,i){i!==void 0&&this.renameField(e,t,i);let s=this.stageAtPath(e);if(s.type!=="reduce")throw new Error("Don't know how to handle this yet");let o=s.fields[t];if(typeof o=="string"){if(i===void 0)throw new Error("As must be specified if field is not already renamed.")}else(0,H0.isFilteredAliasedName)(o)&&(o.filterList=[...o.filterList||[],r])}addNewNestedQuery(e,t){let r={name:t,type:"turtle",pipeline:[{type:"reduce",fields:[]}]};this.insertField(e,r)}addNewField(e,t){this.insertField(e,t)}editFieldDefinition(e,t,r){let i=this.stageAtPath(e);i.fields[t]=r}replaceWithDefinition(e,t,r){r===void 0&&(r=this._source);let i=this.stageAtPath(e),s=i.fields[t];if(typeof s!="string")throw new Error("Don't deal with this yet");let o=r.fields.find(a=>(a.as||a.name)===s);if(o===void 0)throw new Error("Field is not defined..");i.fields[t]=JSON.parse(JSON.stringify(o))}setName(e){this.query.name=e}},hTe=class extends Tue{constructor(e,t){super(t);this.query=e}getQueryStringForMarkdown(e,t){let r=this.getMalloyString(!1,this.query.name);return`<!-- malloy-query
  name="${dm(this.query.name)}"
  description="Add a description here." ${e?`
  renderer="${e}"`:""}
  model="${t}"
-->
\`\`\`malloy
${r}
\`\`\``}getQueryStringForSource(e){return this.getMalloyString(!0,e)}getQueryStringForModel(){return this.getMalloyString(!1,this.query.name)}getFiltersString(e){let t=[];e.length===1?t.push(" "):t.push(Iy,$C);for(let r=0;r<e.length;r++){let i=e[r];t.push(i.code),r!==e.length-1&&t.push(","),t.push(Iy)}return e.length>1&&t.push(zC),t}maybeQuoteIdentifier(e){let t=e.split(".");for(let r=0;r<t.length;r++)t[r].match(/^[A-Za-z_][A-Za-z_0-9]*$/)||(t[r]=`\`${t[r]}\``);return t.join(".")}codeInfoForField(e,t,r){try{if(typeof e=="string"){let i=this.getField(t,e);if(i.type==="struct")throw new Error("Don't know how to deal with this");return{property:i.type==="turtle"?"nest":i.aggregate?"aggregate":"group_by",malloy:[this.maybeQuoteIdentifier(e)]}}else if((0,H0.isFilteredAliasedName)(e)){let i=this.getField(t,e.name);if(i.type==="struct")throw new Error("Don't know how to deal with this");let s=i.type==="turtle"?"nest":i.aggregate?"aggregate":"group_by",o=[],a=e.as===void 0?"":`${this.maybeQuoteIdentifier(e.as)} is `;return o.push(`${a}${this.maybeQuoteIdentifier(e.name)}`),e.filterList&&e.filterList.length>0&&(o.push(" {",$C,"where:"),o.push(...this.getFiltersString(e.filterList||[])),o.push(zC,"}")),{property:s,malloy:o}}else if(e.type==="turtle"){let i=[];i.push(`${this.maybeQuoteIdentifier(e.as||e.name)} is`);let s=t,o=!0;for(let a of e.pipeline)o||i.push("->"),i.push(...this.getMalloyStringForStage(a,s,r+"  ")),s=this.modifySourceForStage(a,s),o=!1;return{property:"nest",malloy:i}}else{let i=e.aggregate?"aggregate":"group_by",s=[`${this.maybeQuoteIdentifier(e.as||e.name)} is ${e.code}`];return{property:i,malloy:s}}}catch(i){console.log(i)}}writeMalloyForPropertyValues(e,t){return t.length===0?[]:t.length===1?[e,": ",...t[0],Iy]:[e,": ",Iy,$C,...t.flatMap(r=>[...r,Iy]),zC]}getMalloyStringForStage(e,t,r=""){let i=[];i.push(" {",Iy,$C),e.filterList&&e.filterList.length>0&&i.push("where:",...this.getFiltersString(e.filterList));let s,o=[];for(let a of e.fields){let l=this.codeInfoForField(a,t,r);l&&(s!==void 0&&l.property!==s&&(i.push(...this.writeMalloyForPropertyValues(s,o)),o=[]),s=l.property,o.push(l.malloy))}return s&&i.push(...this.writeMalloyForPropertyValues(s,o)),e.limit&&i.push(`limit: ${e.limit}`,Iy),e.type==="reduce"&&e.orderBy&&e.orderBy.length>0&&(i.push("order_by: "),i.push(e.orderBy.map(a=>{let l;if(typeof a.field=="string"){let f=a.field.split(".");l=f[f.length-1]}else l=a.field;return`${typeof l=="string"?this.maybeQuoteIdentifier(l):l}${a.dir?" "+a.dir:""}`}).join(", "),Iy)),i.push(zC,"}"),i}getMalloyString(e,t){if(this.getSource()===void 0)return"";let r=[];r.push("query:"),t!==void 0&&r.push(`${this.maybeQuoteIdentifier(t)} is`),e||r.push(this.maybeQuoteIdentifier(this.getSource().as||this.getSource().name));let i=[r.join(" ")],s=this.getSource();for(let o of this.query.pipeline)e||i.push(" ->"),i.push(...this.getMalloyStringForStage(o,s)),s=this.modifySourceForStage(o,s);return pTe(i)}getSummaryItemsForFilterList(e,t){let r=[];for(let i=0;i<t.length;i++){let s=t[i],o=lTe(s.code);r.push({type:"filter",filterSource:s.code,filterIndex:i,fieldPath:o&&o.field,field:o&&this.getField(e,o.field),parsed:o&&o.filter})}return r}getQuerySummary(e){let t=this.query.name,r=this.getSource();return{stages:this.query.pipeline.map((s,o)=>{let a=this.getStageSummary(s,r,e);if(r=this.modifySourceForStage(s,r),o===this.query.pipeline.length-1){let l=this.getStyleItemForName(t,"query",e);l&&a.items.push(l)}return a})}}nameOf(e){return typeof e=="string"?e:e.as||e.name}getStyleItem(e,t,r){let i,s;if(typeof e=="string"){i=e;let o=this.getField(t,e);if(o.type==="struct")throw new Error("Don't know how to deal with this");s=o.type==="turtle"?"query":o.aggregate?"measure":"dimension"}else if(i=e.as||e.name,(0,H0.isFilteredAliasedName)(e)){let o=this.getField(t,e.name);if(o.type==="struct")throw new Error("Don't know how to deal with this");s=o.type==="turtle"?"query":o.aggregate?"measure":"dimension"}else s=e.type==="turtle"?"query":e.aggregate?"measure":"dimension";return this.getStyleItemForName(i,s,r)}getStyleItemForName(e,t,r){let i=r[e];if(!(i===void 0||i.renderer===void 0))return{type:"data_style",renderer:i.renderer,styleKey:e,canRemove:e in r,allowedRenderers:t==="query"||t==="source"?["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]:["number","boolean","currency","image","link","percent","text","time"]}}getStageSummary(e,t,r){let i=[],s=[];e.filterList&&i.push(...this.getSummaryItemsForFilterList(t,e.filterList));for(let o=0;o<e.fields.length;o++){let a=e.fields[o];try{let l=[],f=this.fieldDefForQueryFieldDef(a,t);if(f.type==="turtle"){let E=t;for(let O of f.pipeline)l.push(this.getStageSummary(O,E,r)),E=this.modifySourceForStage(O,E)}let p=this.getStyleItem(a,t,r),_=p?[p]:[];if(typeof a=="string"){if(f.type==="struct")throw new Error("Don't know how to deal with this");i.push({type:"field",field:f,saveDefinition:void 0,fieldIndex:o,isRefined:!1,styles:_.filter(E=>E.canRemove),isRenamed:!1,path:a,kind:f.type==="turtle"?"query":f.aggregate?"measure":"dimension",name:f.as||f.name,stages:l}),f.type!=="turtle"&&s.push({name:a,fieldIndex:o,type:f.type})}else if((0,H0.isFilteredAliasedName)(a)){if(f.type==="struct")throw new Error("Don't know how to deal with this");f.type!=="turtle"&&s.push({name:a.as||a.name,fieldIndex:o,type:f.type}),i.push({type:"field",field:f,saveDefinition:t===this.getSource()&&f.type!=="turtle"?this.fanToDef(a,f):void 0,fieldIndex:o,filters:this.getSummaryItemsForFilterList(t,a.filterList||[]),styles:_.filter(E=>E.canRemove),isRefined:!0,path:a.name,isRenamed:a.as!==void 0,name:a.as||a.name,kind:f.type==="turtle"?"query":f.aggregate?"measure":"dimension",stages:l})}else a.type==="turtle"?i.push({type:"nested_query_definition",name:a.as||a.name,fieldIndex:o,saveDefinition:t===this.getSource()?a:void 0,stages:l,styles:_}):(i.push({type:"field_definition",name:a.as||a.name,fieldIndex:o,field:a,saveDefinition:t===this.getSource()?a:void 0,source:a.code,kind:a.aggregate?"measure":"dimension",styles:_}),s.push({name:a.as||a.name,fieldIndex:o,type:a.type}))}catch(l){i.push({type:"error_field",field:a,name:this.nameOf(a),error:l.message,fieldIndex:o})}}if(e.limit&&i.push({type:"limit",limit:e.limit}),e.type==="reduce"&&e.orderBy)for(let o=0;o<e.orderBy.length;o++){let a=e.orderBy[o],l;typeof a.field=="string"?l=e.fields.findIndex(p=>this.nameOf(p)===a.field):l=a.field-1;let f=e.fields[l];if(f!==void 0){let p;if(typeof f=="string"?p=this.getField(t,f):(0,H0.isFilteredAliasedName)(f)?p=this.getField(t,f.as||f.name):p=f,p.type==="struct"||p.type==="turtle")continue;i.push({type:"order_by",byField:{type:p.type,fieldIndex:l,name:this.nameOf(p)},direction:a.dir,orderByIndex:o})}}return{items:i,orderByFields:s,inputSource:t}}fanToDef(e,t){let r=[e.name];e.filterList&&e.filterList.length>0&&(r.push(" {",$C,"where:"),r.push(...this.getFiltersString(e.filterList||[])),r.push(zC,"}"));let i=pTe(r);return{type:t.type,name:e.as||e.name,e:["ignore"],aggregate:t.aggregate,code:i}}},$C=Symbol("indent"),Iy=Symbol("newline"),zC=Symbol("outdent"),k2t=2;function pTe(n){let e="",t=0,r=!0;for(let i of n)i===Iy?(e+=`
`,r=!0):i===zC?t--:i===$C?t++:(r&&(e+=" ".repeat(t*k2t),r=!1),e+=i);return e}m();var mTe=fr(up());async function I2t(n,e,t,r){if(E2()){let s=await H9e(n,r,e);if(s instanceof Error)throw s;return s}let i=await(await fetch("api/run_query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:n,modelPath:t,queryName:r})})).json();return mTe.Result.fromJSON(i.result)}function xTe(n,e,t){let{data:r,mutateAsync:i,isLoading:s,reset:o}=OJ(({query:l,queryName:f})=>I2t(l,e,t,f),{onError:n});return{result:r,runQuery:(l,f)=>{o(),i({query:l,queryName:f})},isRunning:s,clearResult:o}}function Rue(n,e,t,r){let i=(0,L4.useRef)(new Oue(void 0)),[s,o]=(0,L4.useState)(),[a,l]=(0,L4.useState)(!1),[,f]=(0,L4.useState)(0),p=(0,L4.useRef)({size:0,position:0}),_=t5(),E=(0,L4.useRef)({}),O=re=>{i.current.updateSource(re)},R=i.current.getQuery()?.name,{result:q,runQuery:z,isRunning:L,clearResult:B}=xTe(o,n,e),P=()=>{let re=i.current.getQuerySummary({...r,...E.current}),Oe={stageIndex:re?re.stages.length-1:0};o(void 0),i.current?.hasLimit(Oe)||G(ft=>ft.addLimit(Oe,10),!0);let nt=i.current.getQuery();if(i.current?.canRun()){let ft=i.current.getQueryStringForModel();z(ft,nt.name),l(!1)}},G=(re,Oe=!1)=>{let nt=JSON.parse(JSON.stringify(i.current.getQuery()));if(re(i.current),f(ft=>ft+1),i.current?.canRun())try{let ft=i.current.getQueryStringForModel();Oe||t({run:Oe,query:ft,styles:E.current}),l(!0),o(void 0)}catch(ft){i.current.setQuery(nt),console.error(ft),o(ft)}else l(!0);if(!Oe){let ft=p.current.position+1;p.current.position=ft,p.current.size=ft}},ue=()=>{p.current.position>0&&(p.current.position--,_(-1))},I=()=>{p.current.position<p.current.size&&(p.current.position++,_(1))},J=()=>{p.current.position=0,p.current.size=0},he=(re=!1)=>{i.current.isEmpty()||(G(Oe=>{Oe.clearQuery(),E.current={}},re),B(),t({run:!1,query:void 0,styles:{}}))},ye=(re,Oe)=>{G(nt=>nt.toggleField(re,Oe))},He=(re,Oe)=>{G(nt=>nt.removeField(re,Oe))},at=(re,Oe)=>{G(nt=>nt.addFilter(re,Oe))},ct=(re,Oe,nt,ft)=>{G(Ot=>Ot.editFilter(re,Oe,nt,ft))},Ze=(re,Oe,nt)=>{G(ft=>ft.removeFilter(re,Oe,nt))},Et=(re,Oe)=>{G(nt=>nt.addLimit(re,Oe))},Mt=(re,Oe)=>{G(nt=>nt.addStage(re,Oe))},qe=re=>{G(Oe=>Oe.removeStage(re))},te=(re,Oe,nt)=>{G(ft=>ft.addOrderBy(re,Oe,nt))},et=(re,Oe,nt)=>{G(ft=>ft.editOrderBy(re,Oe,nt))},be=(re,Oe)=>{G(nt=>nt.removeOrderBy(re,Oe))},ke=re=>{G(Oe=>Oe.removeLimit(re))},we=(re,Oe,nt)=>{G(ft=>ft.renameField(re,Oe,nt))},pe=(re,Oe,nt,ft)=>{G(Ot=>Ot.addFilterToField(re,Oe,nt,ft))},Je=(re,Oe)=>{G(nt=>nt.addNewNestedQuery(re,Oe))},lt=(re,Oe)=>{G(nt=>nt.addNewField(re,Oe))},Ht=(re,Oe=!1)=>{G(nt=>nt.setQuery(re),Oe)},Ct=(re,Oe,nt)=>{G(ft=>ft.editFieldDefinition(re,Oe,nt))},mn=(re,Oe,nt)=>{G(ft=>ft.editFieldDefinition(re,Oe,nt))},kt=(re,Oe)=>{G(nt=>nt.reorderFields(re,Oe))},Bt=(re,Oe)=>{G(nt=>nt.replaceWithDefinition(re,Oe))},tn=re=>{G(Oe=>Oe.loadQuery(re))},bt=re=>{G(Oe=>Oe.replaceQuery(re))},ve=lt,Le=re=>{G(Oe=>{Oe.clearQuery();for(let nt of re)Oe.addFilter({stageIndex:0},nt)})},_e=(re,Oe,nt=!1)=>{let ft={...E.current};return Oe===void 0?re in ft&&delete ft[re]:ft[re]={renderer:Oe},G(()=>{E.current=ft},nt),ft},ce=(re,Oe=!1)=>{G(()=>{E.current=re},Oe)},tt={...r,...E.current},Ke=i.current.getQuerySummary(tt);return{dirty:a,queryBuilder:i,queryMalloy:i.current.getQueryStrings(E.current[R]?.renderer,e),queryName:R,clearQuery:he,runQuery:P,isRunning:L,clearResult:B,source:i.current.getSource(),querySummary:Ke,dataStyles:tt,result:q,error:s,canUndo:p.current.position>0,canRedo:p.current.position<p.current.size,setError:o,registerNewSource:O,undo:ue,redo:I,resetUndoHistory:J,isQueryEmpty:i.current.isEmpty(),canQueryRun:i.current.canRun(),queryModifiers:{setDataStyles:ce,setQuery:Ht,addFilter:at,toggleField:ye,addLimit:Et,addOrderBy:te,addNewNestedQuery:Je,addNewDimension:lt,addNewMeasure:ve,setDataStyle:_e,addStage:Mt,loadQuery:tn,replaceQuery:bt,updateFieldOrder:kt,removeField:He,removeFilter:Ze,removeLimit:ke,removeOrderBy:be,renameField:we,addFilterToField:pe,editLimit:Et,editFilter:ct,replaceWithDefinition:Bt,editDimension:Ct,editMeasure:mn,editOrderBy:et,removeStage:qe,clearQuery:he,onDrill:Le}}}m();m();var Jle=fr(Fr());m();m();m();var $R=fr(Fr()),gTe=n=>$R.createElement("svg",{width:"110px",height:"110px",viewBox:"6 6 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},$R.createElement("title",null,"insert_group_by"),$R.createElement("g",{id:"insert_group_by",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},$R.createElement("path",{d:"M31.7463881,49.3114698 C32.6824928,49.3083801 33.6154932,49.1963884 34.5261904,48.9793527 L45.0010173,67.8024842 L45.0010173,67.8032565 C43.2956473,70.2493007 42.5480527,73.2367133 42.8986175,76.1988173 C43.2492613,79.1601303 44.6742783,81.890304 46.9033203,83.870708 C49.1330544,85.851903 52.0117188,86.9463056 54.9937928,86.9463056 C57.9758669,86.9463056 60.8545313,85.8518634 63.0834745,83.870708 C65.3132086,81.890304 66.7382058,79.1601303 67.0889682,76.1988173 C67.4396121,73.2369111 66.6919779,70.2493007 64.9865684,67.8032565 L75.4613953,48.980125 L75.4613953,48.9793527 C78.5099046,49.699958 81.7183727,49.2180056 84.4200741,47.6338999 C87.1225664,46.0505653 89.1106817,43.4862425 89.9717699,40.4749053 C90.8328581,37.4635681 90.5008399,34.235723 89.0449384,31.4630387 C87.5882658,28.6903544 85.1197206,26.584791 82.151685,25.5847028 C79.1834516,24.5837248 75.9441385,24.7652355 73.1066007,26.0913707 C70.2688652,27.4167347 68.0507969,29.7848559 66.9138836,32.7028673 L43.0841815,32.7028673 C42.0044302,29.9371034 39.9514417,27.6601133 37.310837,26.3015513 C34.6702324,24.9429696 31.623898,24.5961814 28.7454313,25.32606 C25.8669647,26.0559385 23.3534966,27.8122421 21.6791694,30.2652067 C20.0046839,32.7173803 19.284138,35.6972794 19.6532888,38.644554 C20.021708,41.5910378 21.4544362,44.3012413 23.6819162,46.2662229 C25.9086844,48.2303345 28.776474,49.3139413 31.7460915,49.3115686 L31.7463881,49.3114698 Z M54.9987359,80.3146003 C53.5304767,80.3146003 52.1224442,79.7314725 51.0836021,78.6934213 C50.0455509,77.6545989 49.4624231,76.2465862 49.4624231,74.7782874 C49.4624231,73.3099887 50.0455509,71.9019957 51.0836021,70.8639445 C52.1224245,69.8251221 53.5304372,69.2419944 54.9987359,69.2419944 C56.4670347,69.2419944 57.8750277,69.8251221 58.9138698,70.8639445 C59.951921,71.9019957 60.5350488,73.3099887 60.5350488,74.7782874 C60.5350488,76.2465862 59.951921,77.6545792 58.9138698,78.6934213 C57.8750474,79.7314725 56.4670347,80.3146003 54.9987359,80.3146003 Z M78.2510838,31.5953952 C79.7193431,31.5953952 81.1273755,32.1785229 82.1654268,33.2165742 C83.203478,34.2553966 83.7873769,35.6634093 83.7873769,37.131708 C83.7873769,38.6000068 83.203478,40.0079998 82.1654268,41.046051 C81.1273755,42.0848734 79.7193826,42.6680011 78.2510838,42.6680011 C76.7828246,42.6680011 75.3740012,42.0848734 74.33595,41.046051 C73.2978987,40.0079998 72.714771,38.6000068 72.714771,37.131708 C72.714771,35.6634093 73.2978987,34.2554163 74.33595,33.2165742 C75.3740012,32.1785229 76.7827851,31.5953952 78.2510838,31.5953952 Z M43.7166018,39.3459801 L66.2808701,39.3459801 C66.7149337,41.7696815 67.8734779,44.0047541 69.6028318,45.75738 L59.7591401,63.5727121 C56.7137943,62.2774614 53.2720118,62.2774614 50.2258752,63.5727121 L40.3380911,45.75738 C42.0882652,44.0118524 43.2661865,41.7758109 43.7156132,39.3459801 L43.7166018,39.3459801 Z M31.7465858,31.5953952 C33.214845,31.5953952 34.6236684,32.1785229 35.6617196,33.2165742 C36.6997709,34.2553966 37.2828986,35.6634093 37.2828986,37.131708 C37.2828986,38.6000068 36.6997709,40.0079998 35.6617196,41.046051 C34.6236684,42.0848734 33.2148846,42.6680011 31.7465858,42.6680011 C30.2783266,42.6680011 28.8702941,42.0848734 27.8322428,41.046051 C26.7941916,40.0079998 26.2102927,38.6000068 26.2102927,37.131708 C26.2102927,35.6634093 26.7941916,34.2554163 27.8322428,33.2165742 C28.8702941,32.1785229 30.278287,31.5953952 31.7465858,31.5953952 L31.7465858,31.5953952 Z",id:"Shape-Copy-3",fill:"#4285F4",fillRule:"nonzero",className:"primaryfill"})));m();var zx=fr(Fr()),yTe=n=>zx.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},zx.createElement("title",null,"insert_measure"),zx.createElement("g",{id:"insert_measure",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},zx.createElement("path",{d:"M64.4079772,43.4952662 C64.4079772,65.775216 64.4079772,77.6781315 64.4079772,79.2040126 C64.4079772,81.4928343 72.4309475,81.4935567 72.4309475,79.2040126 C72.4309475,77.6776499 72.4309475,65.7747344 72.4309475,43.4952662 L82.1242499,53.5032288 C82.9082803,54.3127101 83.9390395,54.7167092 84.9596343,54.7167092 C85.980229,54.7167092 87.0118722,54.3119686 87.7950187,53.5032288 C89.3623612,51.8850077 89.3623612,49.2552488 87.7950187,47.6371608 L71.2655269,30.5703346 C70.8943747,30.1871342 70.4404886,29.8781937 69.9456129,29.6650532 C69.9247535,29.6546561 69.9046123,29.6546561 69.883753,29.6435167 C69.4298852,29.4519166 68.9350096,29.3457171 68.4192709,29.3457171 C67.9035322,29.3457171 67.4086565,29.4519147 66.9547887,29.6435167 C66.9339294,29.6539139 66.9137882,29.6539139 66.8929288,29.6650532 C66.3980532,29.8781937 65.9441854,30.1863928 65.5730149,30.5703346 L49.0328429,47.6474271 C47.4655004,49.2656482 47.4655004,51.8954071 49.0328429,53.5134951 C50.6001855,55.1205753 53.1472623,55.1205753 54.714476,53.5023554 L64.4079772,43.4952662 Z",id:"Path-Copy-3",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero",transform:"translate(68.413931, 55.133308) rotate(-270.000000) translate(-68.413931, -55.133308) "}),zx.createElement("rect",{id:"Rectangle-Copy-50",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero",transform:"translate(32.019040, 39.025784) rotate(-90.000000) translate(-32.019040, -39.025784) ",x:24.0122609,y:34.8667243,width:16.0135574,height:8.31811859}),zx.createElement("rect",{id:"Rectangle-Copy-51",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero",transform:"translate(32.019040, 72.330197) rotate(-90.000000) translate(-32.019040, -72.330197) ",x:24.0122609,y:68.1711376,width:16.0135574,height:8.31811859}),zx.createElement("circle",{id:"Oval-Copy-16",className:"primarystroke",stroke:"#4285F4",strokeWidth:7,fillRule:"nonzero",transform:"translate(32.019040, 88.946306) rotate(-180.000000) translate(-32.019040, -88.946306) ",cx:32.0190396,cy:88.9463056,r:9.09652528}),zx.createElement("circle",{id:"Oval-Copy-20",className:"primarystroke",stroke:"#4285F4",strokeWidth:7,fillRule:"nonzero",transform:"translate(32.019040, 55.133308) rotate(-90.000000) translate(-32.019040, -55.133308) ",cx:32.0190396,cy:55.1333084,r:9.09652528}),zx.createElement("circle",{id:"Oval-Copy-21",className:"primarystroke",stroke:"#4285F4",strokeWidth:7,fillRule:"nonzero",cx:32.0190396,cy:23.2007668,r:9.09652528})));m();var zR=fr(Fr()),vTe=n=>zR.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},zR.createElement("title",null,"insert_filter"),zR.createElement("g",{id:"insert_filter",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},zR.createElement("path",{d:"M87.3843313,20.5 C88.0702245,20.5 88.6794354,20.684137 89.1839151,20.9924545 C89.72968,21.3260038 90.1536978,21.8060023 90.4194477,22.364077 C90.6824778,22.9164401 90.7905536,23.5453405 90.7077209,24.1843828 C90.641307,24.6967561 90.4522801,25.21669 90.1181537,25.7073778 L89.9660074,25.9157747 L65.9667297,54.9330833 L65.9667297,86.0952768 C65.9667297,87.3578277 65.3421199,88.3687734 64.46847,88.9512067 C64.0000984,89.2634544 63.4591929,89.4523731 62.9014864,89.49211 C62.4335638,89.5254497 61.9536386,89.4542406 61.4987219,89.2647425 L61.3053966,89.1762469 L45.2981054,81.501442 C44.7448345,81.2248066 44.1940182,80.794047 43.8075879,80.2144017 C43.516589,79.7779032 43.3168206,79.2579753 43.2760203,78.6543848 L43.268304,78.4241163 L43.268304,54.9330833 L19.2778986,25.9265022 C18.8405281,25.4244753 18.5999563,24.8470099 18.5253334,24.2601464 C18.4451968,23.6299215 18.5577673,22.9877736 18.8297244,22.4166636 C19.0989541,21.8512813 19.5239716,21.3563425 20.06756,21.0111708 C20.5069962,20.7321343 21.0239609,20.5500465 21.6001779,20.5088845 L21.8507024,20.5 L87.3843313,20.5 Z M80.4108174,26.9794004 L28.8312662,26.9794004 L49.2106529,51.6044926 L49.3557497,51.8317181 C49.767411,52.5135117 49.9668805,53.1962297 49.9668805,53.8764024 L49.9668805,53.8764024 L49.9668805,76.3587304 L59.2681532,80.9104171 L59.2681532,53.6572264 L59.2765596,53.4785743 C59.3429907,52.7639199 59.7932531,52.0547544 60.2732157,51.568472 L60.2732157,51.568472 L80.4108174,26.9794004 Z",id:"Shape-Copy-2",stroke:"#4285F4",fill:"#4285F4",className:"primaryfill primarystroke",fillRule:"nonzero"})));m();var My=fr(Fr()),_Te=n=>My.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},My.createElement("title",null,"insert_limit"),My.createElement("g",{id:"insert_limit",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},My.createElement("rect",{id:"Rectangle-Copy-46",className:"primaryfill",fill:"#4285F4",x:24,y:23,width:61.9377906,height:8,rx:4}),My.createElement("rect",{id:"Rectangle-Copy-47",className:"primaryfill",fill:"#4285F4",x:24,y:39,width:61.9377906,height:8,rx:4}),My.createElement("rect",{id:"Rectangle-Copy-48",className:"primaryfill",fill:"#4285F4",x:24,y:55,width:53.5,height:8,rx:4}),My.createElement("rect",{id:"Rectangle-Copy-49",className:"primaryfill",fill:"#4285F4",x:24,y:71.1904762,width:40,height:7.61904762,rx:3.80952381}),My.createElement("path",{d:"M77.1113683,65.3807638 L87.6203313,83.396129 C87.8986116,83.8731809 87.7374754,84.4854986 87.2604234,84.7637789 C87.1074874,84.8529916 86.933607,84.9 86.7565524,84.9 L65.7386264,84.9 C65.1863417,84.9 64.7386264,84.4522847 64.7386264,83.9 C64.7386264,83.7229454 64.7856348,83.549065 64.8748475,83.396129 L75.3838105,65.3807638 C75.6620908,64.9037119 76.2744085,64.7425757 76.7514604,65.020856 C76.9004641,65.1077747 77.0244495,65.2317602 77.1113683,65.3807638 Z",id:"Triangle-Copy-2",fill:"#4285F4",className:"primaryfill",transform:"translate(76.247589, 74.400000) rotate(-90.000000) translate(-76.247589, -74.400000) "})));m();var HR=fr(Fr()),bTe=n=>HR.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},HR.createElement("title",null,"insert_nest"),HR.createElement("g",{id:"insert_nest",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},HR.createElement("path",{d:"M27.3181186,27 C29.5272576,27 31.3181186,28.790861 31.3181186,31 L31.318,59.317 L72.9431634,59.317258 L62.9360743,49.6237568 C61.3178543,48.0565431 61.3178543,45.5094664 62.9249345,43.9421238 C64.5430225,42.3747812 67.1727815,42.3747812 68.7910025,43.9421238 L68.7910025,43.9421238 L85.8680951,60.4822957 C86.2520369,60.8534663 86.560236,61.307334 86.7733764,61.8022097 C86.7845158,61.823069 86.7845158,61.8432103 86.7949129,61.8640696 C86.986515,62.3179374 87.0927126,62.812813 87.0927126,63.3285517 C87.0927126,63.8442904 86.9865131,64.3391661 86.7949129,64.7930338 C86.7837736,64.8138932 86.7837736,64.8340344 86.7733764,64.8548938 C86.560236,65.3497694 86.2512954,65.8036556 85.8680951,66.1748077 L85.8680951,66.1748077 L68.8012688,82.7042995 C67.1831809,84.2716421 64.5534219,84.2716421 62.9352009,82.7042995 C62.1264611,81.921153 61.7217204,80.8895099 61.7217204,79.8689151 C61.7217204,78.8483204 62.1257196,77.8175611 62.9352009,77.0335308 L62.9352009,77.0335308 L72.9431634,67.3402284 L27.234417,67.3402284 C25.2840646,67.3402284 23.6511005,66.037955 23.2100653,64.2817501 C23.0737364,63.8793045 23,63.4482633 23,63 L23,31 C23,28.790861 24.790861,27 27,27 L27.3181186,27 Z",id:"Combined-Shape-Copy",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"})));m();var HC=fr(Fr()),ETe=n=>HC.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},HC.createElement("title",null,"insert_order_by"),HC.createElement("g",{id:"insert_order_by",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},HC.createElement("path",{d:"M30.5506412,37.7046734 L30.5506412,81.9762916 C30.5506412,84.1931505 32.3445678,85.9877768 34.5621264,85.9877768 C36.7789852,85.9877768 38.5736115,84.1938502 38.5736115,81.9762916 L38.5736115,37.7046734 L48.2669139,47.3979757 C49.0509443,48.1820061 50.0817035,48.5733031 51.1022983,48.5733031 C52.122893,48.5733031 53.1545362,48.1812879 53.9376827,47.3979757 C55.5050252,45.8306331 55.5050252,43.2835564 53.9376827,41.7163427 L37.4081909,25.1861143 C37.0370387,24.8149622 36.5831526,24.515735 36.0882769,24.3092959 C36.0674175,24.2992257 36.0472763,24.2992257 36.026417,24.2884366 C35.5725492,24.1028605 35.0776736,24 34.5619349,24 C34.0461961,24 33.5513205,24.1028586 33.0974527,24.2884366 C33.0765934,24.2985068 33.0564522,24.2985068 33.0355928,24.3092959 C32.5407172,24.515735 32.0868494,24.814244 31.7156789,25.1861143 L15.1755069,41.7262862 C13.6081644,43.2936288 13.6081644,45.8407055 15.1755069,47.4079192 C16.7428495,48.9644712 19.2899263,48.9644712 20.85714,47.3971298 L30.5506412,37.7046734 Z",id:"Path-Copy",fill:"#4285F4",fillRule:"nonzero",className:"primaryfill"}),HC.createElement("path",{d:"M79.9439284,72.2964315 L79.9439284,28.0137648 C79.9439284,25.796906 78.1500018,24.0022797 75.9324432,24.0022797 C73.7155844,24.0022797 71.920958,25.7962062 71.920958,28.0137648 L71.920958,72.2853831 L62.2276557,62.5920808 C60.6603131,61.0247382 58.1233641,61.0247382 56.5460227,62.5920808 C54.9786801,64.1594234 54.9786801,66.7065001 56.5460227,68.2737138 L73.0861946,84.8138857 C73.4573467,85.1850378 73.9112329,85.484265 74.4061086,85.6907041 C74.4269679,85.7007743 74.4471091,85.7007743 74.4679685,85.7115634 C74.9218362,85.8971395 75.4167119,86 75.9324506,86 C76.4481893,86 76.943065,85.8971414 77.3969327,85.7115634 C77.4177921,85.7014932 77.4379333,85.7014932 77.4587926,85.6907041 C77.9536683,85.484265 78.407536,85.185756 78.7787066,84.8138857 L95.3188785,68.2737138 C96.8862211,66.7063712 96.8862211,64.1592945 95.3188785,62.5920808 C93.7515359,61.0355288 91.2044592,61.0355288 89.6372455,62.6028702 L79.9439284,72.2964315 Z",id:"Path-Copy-2",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero"})));m();var Ib=fr(Fr()),STe=n=>Ib.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Ib.createElement("title",null,"item_rename"),Ib.createElement("g",{id:"item_rename",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Ib.createElement("g",{id:"noun-rename-3187972",transform:"translate(19.000000, 29.000000)",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"},Ib.createElement("path",{d:"M70.5666667,14.4545455 L48.6666667,14.4545455 L48.6666667,4.81818182 L51.1,4.81818182 C51.9695899,4.81818182 52.7728819,4.35895403 53.2074057,3.61363636 C53.6419295,2.8683187 53.6419295,1.94984935 53.2074057,1.20454545 C52.7728819,0.459241558 51.9695621,0 51.1,0 L41.3666667,0 C40.4970768,0 39.6937848,0.459227792 39.259261,1.20454545 C38.8247371,1.94986312 38.8247371,2.86833247 39.259261,3.61363636 C39.6937848,4.35894026 40.4971046,4.81818182 41.3666667,4.81818182 L43.8,4.81818182 L43.8,14.4545455 L2.43333333,14.4545455 C1.78806895,14.4545455 1.1688621,14.7083673 0.712619048,15.1600649 C0.256376,15.6117626 0,16.2248005 0,16.8636364 L0,36.1363636 C0,36.7751995 0.256376,37.3882374 0.712619048,37.8399351 C1.1688621,38.2916327 1.78806895,38.5454545 2.43333333,38.5454545 L43.8,38.5454545 L43.8,48.1818182 L41.3666667,48.1818182 C40.4970768,48.1818182 39.6937848,48.641046 39.259261,49.3863636 C38.8247371,50.1316813 38.8247371,51.0501506 39.259261,51.7954545 C39.6937848,52.5407584 40.4971046,53 41.3666667,53 L51.1,53 C51.9695899,53 52.7728819,52.5407722 53.2074057,51.7954545 C53.6419295,51.0501369 53.6419295,50.1316675 53.2074057,49.3863636 C52.7728819,48.6410597 51.9695621,48.1818182 51.1,48.1818182 L48.6666667,48.1818182 L48.6666667,38.5454545 L70.5666667,38.5454545 C71.211931,38.5454545 71.8311379,38.2916327 72.287381,37.8399351 C72.743624,37.3882374 73,36.7751995 73,36.1363636 L73,16.8636364 C73,16.2248005 72.743624,15.6117626 72.287381,15.1600649 C71.8311379,14.7083673 71.211931,14.4545455 70.5666667,14.4545455 Z M4.86666667,33.7272727 L4.86666667,19.2727273 L43.8,19.2727273 L43.8,33.7272727 L4.86666667,33.7272727 Z M68.1333333,33.7272727 L48.6666667,33.7272727 L48.6666667,19.2727273 L68.1333333,19.2727273 L68.1333333,33.7272727 Z",id:"Shape"}),Ib.createElement("path",{d:"M36.5833621,24 L12.4166379,24 C11.553002,24 10.7552101,24.4765571 10.3236615,25.25 C9.89211284,26.0234429 9.89211284,26.9765714 10.3236615,27.75 C10.7552101,28.5234286 11.5530297,29 12.4166379,29 L36.5833621,29 C37.446998,29 38.2447899,28.5234429 38.6763385,27.75 C39.1078872,26.9765571 39.1078872,26.0234286 38.6763385,25.25 C38.2447899,24.4765714 37.4469703,24 36.5833621,24 Z",id:"Path"}))));m();var Mb=fr(Fr()),wTe=n=>Mb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Mb.createElement("title",null,"item_edit"),Mb.createElement("g",{id:"item_edit",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Mb.createElement("g",{id:"noun-edit-1269277",transform:"translate(24.000000, 19.000000)",fill:"#4285F4",fillRule:"nonzero",stroke:"#4285F4",className:"primaryfill primarystroke"},Mb.createElement("path",{d:"M3.59891474,39.407072 L3.06867736,55.867955 C3.03311545,56.9719519 3.89925313,57.8957468 5.00325002,57.9313087 C5.0461704,57.9326913 5.08912418,57.9326911 5.13204455,57.9313083 L21.5822973,57.4013025 C22.0903599,57.3849333 22.5731262,57.1757204 22.9324738,56.8161862 L59.5846859,20.1449445 C60.3655318,19.3636932 60.3652031,18.0973633 59.5839519,17.3165174 C59.5834627,17.3160285 59.5829732,17.3155398 59.5824835,17.3150514 L43.6370127,1.4108896 C42.8555349,0.631436244 41.5903551,0.632410128 40.8100781,1.41306566 L4.18332144,38.057592 C3.82420961,38.416878 3.61526942,38.8993513 3.59891474,39.407072 Z M19.6812157,53.0009522 L9.73874131,53.3226566 C8.63474957,53.358378 7.71082953,52.4923738 7.67510814,51.388382 C7.67371403,51.3452961 7.6737133,51.3021764 7.67510597,51.2590905 L7.99671088,41.3093667 C8.01311902,40.8017362 8.22204313,40.3193622 8.58108638,39.9601325 L30.3814317,18.1484685 C31.1612436,17.3682518 32.4255308,17.3667397 33.2072068,18.1450889 L42.8519496,27.7487844 C43.634662,28.5281657 43.6373624,29.7944927 42.8579812,30.5772051 C42.8571049,30.5780852 42.8562277,30.5789644 42.8553498,30.5798429 L21.0311311,52.4158307 C20.6718495,52.7753061 20.1891879,52.984516 19.6812157,53.0009522 Z M46.0079854,24.5968587 L36.3860729,14.9699505 C35.6062481,14.1882519 35.6062481,12.922488 36.3860729,12.1407894 L40.8083468,7.71621952 C41.5884586,6.93423458 42.8547885,6.93390593 43.6360397,7.71475178 C43.6362845,7.7149964 43.6365292,7.71524109 43.6360397,7.71621952 L53.2579523,17.3431277 C54.0377771,18.1248263 54.0377771,19.3905902 53.2579523,20.1722888 L48.8356784,24.5968587 C48.0555666,25.3788436 46.7892367,25.3791723 46.0079854,24.5983264 C46.0077407,24.5980818 46.007496,24.5978371 46.0079854,24.5968587 Z",id:"Shape"}),Mb.createElement("path",{d:"M2,64 L60,64 C61.1045695,64 62,64.8954305 62,66 C62,67.1045695 61.1045695,68 60,68 L2,68 C0.8954305,68 1.3527075e-16,67.1045695 0,66 C-1.3527075e-16,64.8954305 0.8954305,64 2,64 Z",id:"Path"}))));m();var VC=fr(Fr()),WC=n=>VC.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},VC.createElement("title",null,"query_clear_hover"),VC.createElement("g",{id:"query_clear_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},VC.createElement("circle",{className:"circle hoverfill",fill:"transparent",cx:55,cy:55,r:55}),VC.createElement("path",{d:"M78.1428571,25 L85,31.8571429 L61.857,55 L85,78.1428571 L78.1428571,85 L55,61.857 L31.8571429,85 L25,78.1428571 L48.142,55 L25,31.8571429 L31.8571429,25 L55,48.143 L78.1428571,25 Z",className:"cross primaryfill",fill:"#4285F4"})));m();var QC=fr(Fr()),CTe=n=>QC.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},QC.createElement("title",null,"query_add_hover"),QC.createElement("g",{id:"query_add_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},QC.createElement("circle",{id:"Oval",className:"hoverfill",fill:"transparent",cx:55,cy:55,r:55}),QC.createElement("path",{d:"M75.8285714,28 L82,34.1714286 L61.171,55 L82,75.8285714 L75.8285714,82 L54.999,61.171 L34.1714286,82 L28,75.8285714 L48.828,55 L28,34.1714286 L34.1714286,28 L55,48.829 L75.8285714,28 Z",id:"Combined-Shape-Copy",fill:"#4285F4",className:"primaryfill",transform:"translate(55.000000, 55.000000) rotate(-315.000000) translate(-55.000000, -55.000000) "})));m();var GC=fr(Fr()),ATe=n=>GC.createElement("svg",{width:"112px",height:"112px",viewBox:"0 0 112 112",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},GC.createElement("title",null,"query_run_hover"),GC.createElement("g",{id:"query_run_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},GC.createElement("circle",{id:"Oval-Copy-2",className:"hoverfill",fill:"#EAF2FF",cx:56,cy:56,r:55.5}),GC.createElement("path",{d:"M62,32.5734278 L89.4027789,80.75 L34.5972211,80.75 L62,32.5734278 Z",id:"Triangle",className:"primarystroke",stroke:"#4285F4",strokeWidth:6.5,transform:"translate(62.000000, 55.000000) rotate(-270.000000) translate(-62.000000, -55.000000) "})));m();var k4=fr(Fr()),TTe=n=>k4.createElement("svg",{width:"112px",height:"112px",viewBox:"0 0 112 112",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},k4.createElement("title",null,"query_save_hover"),k4.createElement("g",{id:"query_save_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},k4.createElement("circle",{id:"Oval-Copy-2",className:"hoverfill",fill:"#EAF2FF",cx:56,cy:56,r:55.5}),k4.createElement("path",{d:"M55.9991771,28.3532333 L55.9991771,34.8532333 L32.864,34.8532333 L32.864,80.1272333 L53.9292984,65.9165518 L74.994,80.1272333 L74.9931771,54.8692333 L81.4941771,54.8692333 L81.4944197,92.3532333 L53.9292984,73.7573595 L26.3641771,92.3532333 L26.3641771,28.3532333 L55.9991771,28.3532333 Z",id:"Combined-Shape-Copy",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero"}),k4.createElement("rect",{id:"Rectangle-Copy-2",className:"primaryfill",fill:"#4285F4",x:75.006375,y:19.6467667,width:6.48804474,height:24}),k4.createElement("rect",{id:"Rectangle-Copy-3",className:"primaryfill",fill:"#4285F4",transform:"translate(78.250397, 31.646767) rotate(-270.000000) translate(-78.250397, -31.646767) ",x:75.006375,y:19.6467667,width:6.48804474,height:24})));m();var VR=fr(Fr()),SH=n=>VR.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},VR.createElement("title",null,"cahevron_down"),VR.createElement("g",{id:"cahevron_down",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},VR.createElement("path",{d:"M52.9466923,41.3127809 C54.0529774,40.2742275 55.7502198,40.2309545 56.9057514,41.1829617 L57.0533077,41.3127809 L81.5533077,64.3127809 C82.7612755,65.4467914 82.8212296,67.34534 81.6872191,68.5533077 C80.5968243,69.7148152 78.7995712,69.8149195 77.5890551,68.8127704 L77.4466923,68.6872191 L54.9999906,47.615 L32.5533077,68.6872191 C31.3918003,69.7776139 29.5918121,69.7641211 28.4469384,68.6875913 L28.3127809,68.5533077 C27.2223861,67.3918003 27.2358789,65.5918121 28.3124087,64.4469384 L28.4466923,64.3127809 L52.9466923,41.3127809 Z",id:"Path",fill:"#979797",fillRule:"nonzero",transform:"translate(55.000000, 55.000005) rotate(-180.000000) translate(-55.000000, -55.000005) "})));m();var YC=fr(Fr()),Nue=n=>YC.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},YC.createElement("title",null,"item_duplicate"),YC.createElement("g",{id:"item_duplicate",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},YC.createElement("rect",{id:"Rectangle",stroke:"#4285F4",className:"primarystroke",strokeWidth:6,x:29.4307692,y:24,width:30.0923077,height:41.7692308,rx:5}),YC.createElement("rect",{id:"Rectangle-Copy",stroke:"#4285F4",className:"primarystroke",strokeWidth:6,fill:"none",x:47.4769231,y:45.2307692,width:30.0923077,height:41.7692308,rx:5})));m();var Pb=fr(Fr()),wH=n=>Pb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Pb.createElement("title",null,"viz_scatter"),Pb.createElement("g",{id:"viz_scatter",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Pb.createElement("path",{d:"M29.1340462,83.93 C36.5885775,83.93 42.6340462,77.8857969 42.6340462,70.43 C42.6340462,62.9742031 36.5885775,56.93 29.1340462,56.93 C21.679515,56.93 15.6340462,62.9742031 15.6340462,70.43 C15.6340462,77.8857969 21.679515,83.93 29.1340462,83.93 Z",id:"Path-Copy-3",stroke:"#9aa0a6",className:"primarystroke",strokeWidth:7,fillRule:"nonzero"}),Pb.createElement("path",{d:"M68.2840462,92.63 C73.6709212,92.63 78.0340462,88.264925 78.0340462,82.88 C78.0340462,77.495075 73.6709212,73.13 68.2840462,73.13 C62.8971712,73.13 58.5340462,77.495075 58.5340462,82.88 C58.5340462,88.264925 62.8971712,92.63 68.2840462,92.63 Z",id:"Path-Copy-2",stroke:"#9aa0a6",className:"primarystroke",strokeWidth:7,fillRule:"nonzero",transform:"translate(68.284046, 82.880000) rotate(-360.000000) translate(-68.284046, -82.880000) "}),Pb.createElement("path",{d:"M67.8242963,57.43 C78.8701296,57.43 87.8242963,48.4758333 87.8242963,37.43 C87.8242963,26.3842917 78.8701296,17.43 67.8242963,17.43 C56.7784629,17.43 47.8242963,26.3842917 47.8242963,37.43 C47.8242963,48.4758333 56.7784629,57.43 67.8242963,57.43 Z",id:"Path-Copy",stroke:"#9aa0a6",className:"primarystroke",strokeWidth:7,fillRule:"nonzero"})));m();var Bb=fr(Fr()),FTe=n=>Bb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Bb.createElement("title",null,"alert_outline"),Bb.createElement("g",{id:"alert_outline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Bb.createElement("path",{d:"M54.0787732,20.8756898 C55.4385401,20.5119661 56.9370629,20.666976 58.2520419,21.4269314 C59.0865559,21.9092155 59.7796762,22.6023358 60.2619602,23.4368497 L60.2619602,23.4368497 L90.6657826,76.0457109 C91.425738,77.3606899 91.5807479,78.8592127 91.2170242,80.2189797 C90.8533006,81.5787466 89.9708433,82.7997576 88.6558643,83.559713 C87.8192733,84.0431974 86.8700737,84.2977528 85.9038224,84.2977528 L85.9038224,84.2977528 L25.0961776,84.2977528 C23.5773946,84.2977528 22.2023946,83.6821443 21.2070903,82.6868401 C20.2117861,81.6915359 19.5961776,80.3165359 19.5961776,78.7977528 C19.5961776,77.8315015 19.850733,76.8823018 20.3342174,76.0457109 L20.3342174,76.0457109 L50.7380398,23.4368497 C51.4979952,22.1218707 52.7190062,21.2394134 54.0787732,20.8756898 Z",id:"Triangle",stroke:"#EA4335",strokeWidth:7}),Bb.createElement("polygon",{id:"Path",fill:"#EA4335",fillRule:"nonzero",points:"50.4640684 39.8293463 60.4640684 39.8293463 60.4640684 60.8293463 50.4640684 60.8293463"}),Bb.createElement("path",{d:"M60.464247,71.3304517 C60.464247,74.092878 58.2250065,76.331047 55.4636517,76.331047 C52.7022969,76.331047 50.4630564,74.0929673 50.4630564,71.3304517 C50.4630564,68.5691861 52.7022969,66.331047 55.4636517,66.331047 C58.2250065,66.331047 60.464247,68.5691266 60.464247,71.3304517",id:"Path",fill:"#EA4335",fillRule:"nonzero"})));m();var WR=fr(Fr()),DTe=n=>WR.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},WR.createElement("title",null,"pipeline"),WR.createElement("g",{id:"pipeline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},WR.createElement("path",{d:"M27,28 C27.5522847,28 28,28.4477153 28,29 L28,30.416 L54.4420782,30.4163284 C56.5842736,30.4163284 58.3331571,32.1002969 58.4371829,34.2166881 L58.4420782,34.4163284 L58.442,72.416 L82,72.416 L82,71 C82,70.4477153 82.4477153,70 83,70 L87,70 C87.5522847,70 88,70.4477153 88,71 L88,82 C88,82.5522847 87.5522847,83 87,83 L83,83 C82.4477153,83 82,82.5522847 82,82 L82,80.416 L54.4420782,80.4163284 C52.2998828,80.4163284 50.5509993,78.73236 50.4469735,76.6159688 L50.4420782,76.4163284 L50.442,38.416 L28,38.416 L28,40 C28,40.5522847 27.5522847,41 27,41 L23,41 C22.4477153,41 22,40.5522847 22,40 L22,29 C22,28.4477153 22.4477153,28 23,28 L27,28 Z",id:"Combined-Shape",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero"})));m();var QR=fr(Fr()),CH=n=>QR.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},QR.createElement("title",null,"type-icon-projection"),QR.createElement("g",{id:"type-icon-projection",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},QR.createElement("path",{d:"M11.3362588,4 L11.3362588,12 L8,9.90676786 L4.6637412,12 L4.6637412,4 L11.3362588,4 Z M10.336,5 L5.663,5 L5.663,10.191 L8,8.72623637 L10.336,10.191 L10.336,5 Z",id:"Rectangle",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"})));m();var jb=fr(Fr()),OTe=n=>jb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},jb.createElement("title",null,"move_icon_outline"),jb.createElement("g",{id:"move_icon_outline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},jb.createElement("g",{id:"Group",transform:"translate(25.000000, 17.000000)",fillRule:"nonzero",stroke:"#979797",className:"primarystroke",strokeWidth:6},jb.createElement("path",{d:"M32.8776058,2.98037748 L53.4553591,24.2930505 C54.9898149,25.8823083 54.9453892,28.4145786 53.3561313,29.9490344 C52.6104198,30.6690317 51.6143254,31.0714286 50.5777533,31.0714286 L9.42224672,31.0714286 C7.21310772,31.0714286 5.42224672,29.2805676 5.42224672,27.0714286 C5.42224672,26.0348564 5.82464355,25.038762 6.54464088,24.2930505 L27.1223942,2.98037748 C28.65685,1.39111966 31.1891202,1.34669386 32.7783781,2.88114969 C32.8120317,2.91364284 32.8451127,2.94672386 32.8776058,2.98037748 Z",id:"Triangle"}),jb.createElement("path",{d:"M32.8776058,47.9803775 L53.4553591,69.2930505 C54.9898149,70.8823083 54.9453892,73.4145786 53.3561313,74.9490344 C52.6104198,75.6690317 51.6143254,76.0714286 50.5777533,76.0714286 L9.42224672,76.0714286 C7.21310772,76.0714286 5.42224672,74.2805676 5.42224672,72.0714286 C5.42224672,71.0348564 5.82464355,70.038762 6.54464088,69.2930505 L27.1223942,47.9803775 C28.65685,46.3911197 31.1891202,46.3466939 32.7783781,47.8811497 C32.8120317,47.9136428 32.8451127,47.9467239 32.8776058,47.9803775 Z",id:"Triangle-Copy",transform:"translate(30.000000, 60.535714) rotate(-180.000000) translate(-30.000000, -60.535714) "}))));m();var Lue=fr(Fr()),RTe=n=>Lue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px.0",viewBox:"-2 -2 24 24",width:"24px.0",fill:"#9aa0a6",className:"primaryfill",role:"img",...n},Lue.createElement("path",{d:"M19.6 21.0 13.3 14.7Q12.55 15.3 11.575 15.65Q10.6 16.0 9.5 16.0Q6.775 16.0 4.8875 14.1125Q3.0 12.225 3.0 9.5Q3.0 6.775 4.8875 4.8875Q6.775 3.0 9.5 3.0Q12.225 3.0 14.1125 4.8875Q16.0 6.775 16.0 9.5Q16.0 10.6 15.65 11.575Q15.3 12.55 14.7 13.3L21.0 19.6ZM9.5 14.0Q11.375 14.0 12.6875 12.6875Q14.0 11.375 14.0 9.5Q14.0 7.625 12.6875 6.3125Q11.375 5.0 9.5 5.0Q7.625 5.0 6.3125 6.3125Q5.0 7.625 5.0 9.5Q5.0 11.375 6.3125 12.6875Q7.625 14.0 9.5 14.0Z"}));m();var GR=fr(Fr()),NTe=n=>GR.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},GR.createElement("title",null,"project_folder"),GR.createElement("g",{id:"project_folder",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},GR.createElement("path",{d:"M24.1875,84 C22.7375,84 21.46875,83.4411458 20.38125,82.3234375 C19.29375,81.2057292 18.75,79.9520833 18.75,78.5625 L18.75,31.4375 C18.75,30.0479167 19.29375,28.7942708 20.38125,27.6765625 C21.46875,26.5588542 22.7375,26 24.1875,26 L49.5625,26 L55,31.4375 L85.8125,31.4375 C87.2020833,31.4375 88.4557292,31.9963542 89.5734375,33.1140625 C90.6911458,34.2317708 91.25,35.4854167 91.25,36.875 L91.25,78.5625 C91.25,79.9520833 90.6911458,81.2057292 89.5734375,82.3234375 C88.4557292,83.4411458 87.2020833,84 85.8125,84 L24.1875,84 Z M24.1875,31.4375 L24.1875,78.5625 L85.8125,78.5625 L85.8125,36.875 L52.734375,36.875 L47.296875,31.4375 L24.1875,31.4375 Z M24.1875,31.4375 L24.1875,78.5625 L24.1875,31.4375 Z",id:"Shape",fill:"#606368",fillRule:"nonzero"})));m();var Py=fr(Fr()),LTe=n=>Py.createElement("svg",{width:"15px",height:"14px",viewBox:"-2 -2 18 17",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Py.createElement("title",null,"panel_icon_query"),Py.createElement("g",{id:"window-org",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Py.createElement("g",{id:"z",transform:"translate(-76.000000, -86.000000)",fill:"#939BA5",className:"primaryfill primarystroke",fillRule:"nonzero",stroke:"#939BA5",strokeWidth:.25},Py.createElement("g",{id:"noun_explore_2232152-copy",transform:"translate(77.058375, 86.177891)"},Py.createElement("path",{d:"M1.89319474,1.8964973 C0.960203984,2.8308601 0.313970678,4.05198036 0.0958154857,5.35679538 C-0.0112040426,5.99754051 -0.0331567664,6.6465179 0.0532820834,7.29137916 C0.142465024,7.96642542 0.327691131,8.61128668 0.614448585,9.22870704 C1.17698713,10.4429671 2.14839516,11.4761171 3.3173777,12.1264666 C4.44794297,12.7562353 5.77471072,13.0416207 7.06443324,12.9153926 C7.7092945,12.8522785 8.33769122,12.7054697 8.93590294,12.4543854 C9.58350829,12.1840925 10.1734877,11.8218725 10.7072133,11.3636094 C11.7101784,10.501965 12.4373624,9.31651793 12.7529328,8.03228359 C13.0602709,6.77960629 12.9944127,5.42814173 12.5388937,4.21936988 C12.0518177,2.92964736 11.1737087,1.82240685 10.0239348,1.06092175 C8.94139112,0.34334209 7.62834383,-0.0284821691 6.32901699,0.00170282605 C5.02557402,0.0318878212 3.72761922,0.457221844 2.67526053,1.23105536 C2.39810739,1.43411805 2.13604675,1.65364529 1.89319474,1.8964973 C1.74089772,2.04879432 1.72992136,2.32869155 1.89319474,2.47824448 C2.05784017,2.62916945 2.31166854,2.64014581 2.47494192,2.47824448 C2.61763463,2.33555177 2.76718756,2.19971929 2.92222867,2.07211909 C2.95790185,2.04330614 2.99494707,2.01449319 3.03062024,1.98568024 C3.08550205,1.94177479 2.9414373,2.05291045 3.02650411,1.98979637 C3.04296865,1.97744797 3.05806115,1.9664716 3.07452569,1.9541232 C3.15410432,1.89512525 3.23368294,1.8388714 3.31600565,1.78398959 C3.6329481,1.57269462 3.97047123,1.39158465 4.32171481,1.24340376 C4.28878573,1.25712422 4.25585664,1.27084467 4.22292755,1.28456512 C4.71411975,1.07875834 5.2313808,0.937437677 5.75961822,0.864719279 C5.722573,0.87020746 5.68689982,0.874323596 5.6498546,0.879811777 C6.19318451,0.807093379 6.7447467,0.807093379 7.28807661,0.879811777 C7.25103139,0.874323596 7.21535821,0.87020746 7.17831299,0.864719279 C7.70655041,0.937437677 8.22381146,1.07875834 8.71500366,1.28456512 C8.68207457,1.27084467 8.64914549,1.25712422 8.6162164,1.24340376 C8.8892534,1.35865556 9.15405813,1.493116 9.4078865,1.64815711 C9.53685875,1.72636369 9.66171487,1.8086864 9.7838269,1.8964973 C9.81538394,1.91982207 9.84831302,1.94314683 9.87987006,1.9664716 C9.90593892,1.98568024 10.0019821,2.06388682 9.89084642,1.97470388 C9.95258846,2.0240975 10.0157025,2.07349113 10.0760725,2.12562885 C10.3134364,2.32457541 10.5343356,2.5427306 10.7387704,2.77597829 C10.786792,2.8308601 10.8348135,2.88711396 10.8814631,2.94473986 C10.9061599,2.97492485 10.9308567,3.00648189 10.9555535,3.03803893 C10.9953428,3.08743256 10.9281126,3.00236576 10.9281126,3.00236576 C10.9445772,3.02294644 10.9596697,3.04489916 10.9761342,3.06547984 C11.0666892,3.18621982 11.151756,3.31107593 11.2327067,3.4373041 C11.4124446,3.71994541 11.5688577,4.01905128 11.699202,4.32776145 C11.6854816,4.29483237 11.6717611,4.26190328 11.6580407,4.2289742 C11.8638475,4.72016639 12.0051681,5.23742745 12.0778865,5.76566486 C12.0723983,5.72861964 12.0682822,5.69294646 12.062794,5.65590124 C12.1355124,6.19923116 12.1355124,6.75079334 12.062794,7.29412325 C12.0682822,7.25707803 12.0723983,7.22140486 12.0778865,7.18435964 C12.0051681,7.71259705 11.8638475,8.2298581 11.6580407,8.7210503 C11.6717611,8.68812121 11.6854816,8.65519213 11.699202,8.62226304 C11.5839502,8.89530004 11.4494898,9.16010477 11.2944487,9.41393314 C11.2162421,9.5429054 11.1339194,9.66776151 11.0461085,9.78987354 C11.0227837,9.82143058 10.999459,9.85435966 10.9761342,9.8859167 C10.9569256,9.91198556 10.878719,10.0080287 10.9679019,9.89689307 C10.9185083,9.9586351 10.8691147,10.0217492 10.816977,10.0821192 C10.6180304,10.319483 10.3998752,10.5403823 10.1666275,10.744817 C10.1117457,10.7928386 10.0554919,10.8408602 9.99786595,10.8875097 C9.96768096,10.9122065 9.93612392,10.9369034 9.90456688,10.9616002 C9.85517325,11.0013895 9.94024005,10.9341593 9.94024005,10.9341593 C9.91965937,10.9506238 9.89770665,10.9657163 9.87712597,10.9821808 C9.75638599,11.0727358 9.63152987,11.1578026 9.50530171,11.2387533 C9.22266039,11.4184912 8.92355453,11.5749044 8.61484435,11.7052487 C8.64777344,11.6915282 8.68070253,11.6778078 8.71363161,11.6640873 C8.22243942,11.8698941 7.70517836,12.0112148 7.17694095,12.0839332 C7.21398617,12.078445 7.24965934,12.0743289 7.28670457,12.0688407 C6.74337465,12.1415591 6.19181247,12.1415591 5.64848255,12.0688407 C5.68552778,12.0743289 5.72120095,12.078445 5.75824617,12.0839332 C5.23000876,12.0112148 4.7127477,11.8698941 4.22155551,11.6640873 C4.2544846,11.6778078 4.28741368,11.6915282 4.32034277,11.7052487 C4.04730576,11.5899969 3.78250103,11.4555365 3.52867267,11.3004953 C3.39970041,11.2222888 3.2748443,11.139966 3.15273227,11.0521552 C3.12117523,11.0288304 3.08824614,11.0055056 3.0566891,10.9821808 C3.03062024,10.9629722 2.93457708,10.8847656 3.04571274,10.9739486 C2.98397071,10.9245549 2.92085663,10.8751613 2.86048664,10.8230236 C2.62312281,10.624077 2.40222353,10.4059218 2.19778879,10.1726742 C2.1497672,10.1177923 2.10174562,10.0615385 2.05509608,10.0039126 C2.03039927,9.9737276 2.00570245,9.94217056 1.98100564,9.91061352 C1.94121633,9.86121989 2.00844654,9.94628669 2.00844654,9.94628669 C1.991982,9.92570602 1.9768895,9.90375329 1.96042496,9.88317261 C1.86986998,9.76243263 1.78480317,9.63757652 1.7038525,9.51134835 C1.52411458,9.22870704 1.36770142,8.92960118 1.23735712,8.620891 C1.25107757,8.65382008 1.26479803,8.68674917 1.27851848,8.71967825 C1.07271169,8.22848606 0.931391034,7.71122501 0.858672637,7.18298759 C0.864160818,7.22003281 0.868276953,7.25570599 0.873765134,7.29275121 C0.801046737,6.7494213 0.801046737,6.19785911 0.873765134,5.6545292 C0.868276953,5.69157442 0.864160818,5.72724759 0.858672637,5.76429282 C0.931391034,5.2360554 1.07271169,4.71879435 1.27851848,4.22760215 C1.26479803,4.26053124 1.25107757,4.29346032 1.23735712,4.32638941 C1.38553801,3.97514583 1.56664798,3.6376227 1.77794294,3.32068025 C1.83282475,3.23835754 1.88907861,3.15877891 1.94807655,3.07920029 C1.96042496,3.06273575 1.97140132,3.04764325 1.98374973,3.03117871 C2.04686381,2.94748395 1.93572815,3.0915487 1.97963359,3.03529484 C2.00844654,2.99824962 2.03725949,2.96257644 2.06607244,2.92690327 C2.19367265,2.77049011 2.32950513,2.62230923 2.47219783,2.47961652 C2.62449486,2.3273195 2.63684326,2.04742227 2.47219783,1.89786934 C2.3102965,1.74557232 2.05509608,1.73322391 1.89319474,1.8964973 Z",id:"Path"}),Py.createElement("path",{d:"M6.16836964,6.17066644 C6.09118278,6.2541117 6.04424482,6.35633213 6.04320176,6.47211242 C6.04320176,6.58372045 6.08909665,6.69428542 6.16836964,6.77355841 C6.33004482,6.93731972 6.60854336,6.93731972 6.77126161,6.77355841 C6.93397986,6.60875403 6.93606599,6.33547082 6.77126161,6.17066644 C6.69198862,6.09139345 6.58142365,6.04549856 6.46981562,6.04549856 C6.35403533,6.04654162 6.25285796,6.09347958 6.16836964,6.17066644 C6.11100103,6.22386279 6.07657986,6.31460951 6.07657986,6.39179637 C6.07657986,6.46898323 6.11100103,6.55972994 6.16836964,6.61292629 C6.29770979,6.73183578 6.48233241,6.73183578 6.61062949,6.61292629 C6.61480176,6.60875403 6.62001708,6.60458177 6.62418935,6.60145257 C6.60332803,6.61814162 6.58246672,6.63378761 6.56056234,6.65047666 C6.5678638,6.64526133 6.57516526,6.64108907 6.58350978,6.63795987 C6.55847621,6.64839053 6.53344263,6.65882118 6.50840905,6.66925184 C6.51675358,6.66612264 6.52509811,6.66403651 6.53344263,6.66195038 C6.50527986,6.66612264 6.47816015,6.66925184 6.44999738,6.6734241 C6.4614711,6.67238104 6.47294482,6.67238104 6.48441854,6.6734241 C6.45625577,6.66925184 6.42913606,6.66612264 6.40097329,6.66195038 C6.41036088,6.66403651 6.41766234,6.66612264 6.42600687,6.66925184 C6.40097329,6.65882118 6.37593971,6.64839053 6.35090614,6.63795987 C6.35925066,6.64213213 6.36655212,6.6463044 6.37385358,6.65047666 C6.35299227,6.63378761 6.33213095,6.61814162 6.31022657,6.60145257 C6.32065723,6.60875403 6.32795869,6.61709856 6.33630322,6.62752921 C6.31961416,6.6066679 6.30396818,6.58580659 6.28727913,6.56390221 C6.29249446,6.57120367 6.29666672,6.57850513 6.29979592,6.58684965 C6.28936526,6.56181607 6.2789346,6.5367825 6.26850395,6.51174892 C6.27163314,6.52009345 6.27371927,6.52843797 6.27580541,6.5367825 C6.27163314,6.50861972 6.26850395,6.48150002 6.26433168,6.45333724 C6.26537475,6.46481096 6.26537475,6.47628469 6.26433168,6.48775841 C6.26850395,6.45959564 6.27163314,6.43247593 6.27580541,6.40431315 C6.27371927,6.41370075 6.27163314,6.42100221 6.26850395,6.42934673 C6.2789346,6.40431315 6.28936526,6.37927958 6.29979592,6.354246 C6.29562365,6.36259053 6.29145139,6.36989199 6.28727913,6.37719345 C6.30396818,6.35633213 6.31961416,6.33547082 6.33630322,6.31356644 C6.32900176,6.3239971 6.32065723,6.33129856 6.31022657,6.33964308 C6.33108789,6.32295403 6.3519492,6.30730805 6.37385358,6.29061899 C6.36655212,6.29583432 6.35925066,6.30000659 6.35090614,6.30313578 C6.37593971,6.29270513 6.40097329,6.28227447 6.42600687,6.27184381 C6.41766234,6.27497301 6.40931781,6.27705914 6.40097329,6.27914527 C6.42913606,6.27497301 6.45625577,6.27184381 6.48441854,6.26767155 C6.47294482,6.26871461 6.4614711,6.26871461 6.44999738,6.26767155 C6.47816015,6.27184381 6.50527986,6.27497301 6.53344263,6.27914527 C6.52405504,6.27705914 6.51675358,6.27497301 6.50840905,6.27184381 C6.53344263,6.28227447 6.55847621,6.29270513 6.58350978,6.30313578 C6.57516526,6.29896352 6.5678638,6.29479126 6.56056234,6.29061899 C6.58142365,6.30730805 6.60228497,6.32295403 6.62418935,6.33964308 C6.61375869,6.33234162 6.60645723,6.3239971 6.5981127,6.31356644 C6.61480176,6.33442775 6.63044774,6.35528907 6.64713679,6.37719345 C6.64192146,6.36989199 6.6377492,6.36259053 6.63462,6.354246 C6.64505066,6.37927958 6.65548132,6.40431315 6.66591197,6.42934673 C6.66278278,6.42100221 6.66069665,6.41265768 6.65861051,6.40431315 C6.66278278,6.43247593 6.66591197,6.45959564 6.67008424,6.48775841 C6.66904117,6.47628469 6.66904117,6.46481096 6.67008424,6.45333724 C6.66591197,6.48150002 6.66278278,6.50861972 6.65861051,6.5367825 C6.66069665,6.52739491 6.66278278,6.52009345 6.66591197,6.51174892 C6.65548132,6.5367825 6.64505066,6.56181607 6.63462,6.58684965 C6.63879227,6.57850513 6.64296453,6.57120367 6.64713679,6.56390221 C6.63044774,6.58476352 6.61480176,6.60562483 6.5981127,6.62752921 C6.6012419,6.62231388 6.60541416,6.61814162 6.60958643,6.61396936 C6.66591197,6.55347155 6.70137621,6.47628469 6.70137621,6.39283943 C6.70137621,6.31565257 6.66695504,6.22490586 6.60958643,6.17170951 C6.55013168,6.11747009 6.47190176,6.07679053 6.3884565,6.07991972 C6.30918351,6.08304892 6.22573825,6.11016863 6.16836964,6.17066644 Z",id:"Path"}),Py.createElement("path",{d:"M3.68710555,9.70849202 C3.82738583,9.65557928 3.96889665,9.60389707 4.10917694,9.55098433 C4.44634184,9.42547039 4.78350674,9.29995644 5.12067165,9.1744425 C5.52551563,9.02308746 5.93159015,8.87296294 6.33643414,8.72160789 C6.68221275,8.59240236 7.02676082,8.46442736 7.37253943,8.33522183 C7.53004712,8.27615645 7.68878534,8.21955212 7.8450625,8.15925621 C7.84629303,8.15925621 7.84629303,8.15925621 7.84752356,8.15802568 C7.92504688,8.12726246 7.98780385,8.09280765 8.03948606,8.02512856 C8.07024928,7.98575164 8.08747668,7.94637472 8.10593462,7.89961462 C8.10716514,7.89592304 8.10839567,7.89346198 8.1096262,7.88977039 C8.11700938,7.8688514 8.12562308,7.84916294 8.13300625,7.82824395 C8.16746106,7.73841534 8.20068534,7.64981727 8.23514014,7.55998866 C8.3569625,7.24128169 8.47755433,6.92134419 8.59937668,6.60263722 C8.75196226,6.20025429 8.90577836,5.79787136 9.05836394,5.3942579 C9.19618317,5.03248242 9.3340024,4.67070694 9.47182163,4.30770093 C9.54688389,4.11081632 9.62194615,3.91270118 9.69700841,3.71581656 C9.70069999,3.70720286 9.70439158,3.69735863 9.70685264,3.68874493 C9.80283389,3.43648651 9.50504591,3.13869853 9.2527875,3.23467978 C9.11373774,3.28759252 8.97591851,3.34050526 8.83686875,3.393418 C8.50339543,3.52016248 8.16992212,3.64690695 7.8364488,3.77365142 C7.43283534,3.92746752 7.02799135,4.08128363 6.62437789,4.23509973 C6.27367717,4.36799685 5.92297645,4.50212449 5.57227573,4.63502161 C5.39877116,4.70147016 5.2252666,4.76545766 5.05176203,4.83313675 C5.04930097,4.83436728 5.04560939,4.83559781 5.04314833,4.83682834 C4.99638823,4.85528627 4.95701131,4.87251367 4.91763439,4.90327689 C4.85118583,4.9549591 4.81550049,5.01771608 4.78473727,5.09523939 C4.78473727,5.09646992 4.78473727,5.09646992 4.78350674,5.09770045 C4.7773541,5.1124668 4.77243198,5.12846367 4.76627934,5.14323002 C4.73551612,5.22444492 4.70598343,5.30689035 4.67522021,5.38810526 C4.55955049,5.69942905 4.44265025,6.01075285 4.32698054,6.32330718 C4.17685602,6.72569011 4.02673151,7.12807304 3.87660699,7.53045597 C3.74001829,7.89592304 3.60466011,8.2613901 3.46807141,8.62685717 C3.39300915,8.82743337 3.31917742,9.02677904 3.24411516,9.22735524 C3.24042358,9.23719947 3.23673199,9.24581318 3.23427093,9.25565741 C3.20227718,9.3405639 3.22688776,9.46484731 3.2711868,9.53990957 C3.31548584,9.61620236 3.40408391,9.69003409 3.49145146,9.70972255 C3.70064136,9.75771317 3.8729154,9.64573505 3.9455166,9.45131149 C3.99719881,9.31349226 4.04888103,9.1744425 4.10056324,9.03662327 C4.22361612,8.70684154 4.346669,8.37582928 4.46972189,8.04604755 C4.61984641,7.64489515 4.7687404,7.24374275 4.91886492,6.84135982 C5.04807044,6.49558121 5.17604544,6.14980261 5.30525097,5.80525453 C5.36800794,5.63667208 5.43568703,5.46932016 5.49352188,5.29827665 C5.49475241,5.29581559 5.49475241,5.29335454 5.49598294,5.29089348 C5.40984592,5.3770305 5.3237089,5.46316752 5.23757189,5.54930454 C5.37785217,5.4963918 5.51690193,5.44347905 5.65718222,5.38933579 C5.99065554,5.26259132 6.32535938,5.13584684 6.6588327,5.00787185 C7.06490722,4.85405574 7.47098173,4.69900911 7.87705625,4.545193 C8.22775697,4.41229589 8.57968822,4.27816824 8.93038894,4.14527113 C9.10020192,4.08128363 9.27247596,4.02098771 9.44105841,3.95084757 C9.44351947,3.94961704 9.44598052,3.94838651 9.44844158,3.94838651 C9.29708653,3.79703146 9.14573149,3.64567642 8.99437644,3.49432137 C8.9414637,3.63460166 8.88855096,3.77365142 8.83440769,3.9139317 C8.70766322,4.24740502 8.58091875,4.58210887 8.45294375,4.91558218 C8.29912764,5.3216567 8.14408101,5.72773122 7.9902649,6.13380574 C7.85736779,6.48450645 7.72324015,6.8364377 7.59034303,7.18713842 C7.52635553,7.3569514 7.45621539,7.52553385 7.39591947,7.69780789 C7.39468895,7.70026895 7.39345842,7.70273001 7.39345842,7.70519107 C7.47959544,7.61905405 7.56573245,7.53291703 7.65186947,7.44678001 C7.51405024,7.49846222 7.37500048,7.55014443 7.23718125,7.60182664 C6.90739952,7.72487953 6.57638727,7.84793241 6.24660554,7.9709853 C5.84545313,8.12110981 5.44430073,8.2700038 5.0419178,8.42012832 C4.6961392,8.54933385 4.35036059,8.67730885 4.00581252,8.80651438 C3.83723006,8.86927135 3.66741708,8.93079779 3.49883463,8.99478529 C3.49637358,8.99601582 3.49391252,8.99601582 3.49145146,8.99724635 C3.3991618,9.03170116 3.32163848,9.07969178 3.2711868,9.16705933 C3.2244267,9.24581318 3.20473824,9.36271342 3.23427093,9.45131149 C3.29087526,9.62850765 3.49391252,9.78109322 3.68710555,9.70849202 Z",id:"Path"})))));m();var qb=fr(Fr()),kTe=n=>qb.createElement("svg",{width:"112px",height:"112px",viewBox:"0 0 112 112",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},qb.createElement("title",null,"query_redo_hover copy"),qb.createElement("g",{id:"query_redo_hover-copy",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},qb.createElement("g",{id:"Group",transform:"translate(0.500000, 0.500000)"},qb.createElement("circle",{id:"Oval-Copy",className:"hoverfill",fill:"#EAF2FF",cx:55.5,cy:55.5,r:55.5}),qb.createElement("path",{className:"primaryfill",d:"M64.8866667,87.5 L34.1666667,87.5 L34.1666667,81.1 L64.9933333,81.1 C69.9711111,81.1 74.2555556,79.4466667 77.8466667,76.14 C81.4377778,72.8333333 83.2333333,68.7266667 83.2333333,63.82 C83.2333333,58.9133333 81.4377778,54.8066667 77.8466667,51.5 C74.2555556,48.1933333 69.9711111,46.54 64.9933333,46.54 L33.5266667,46.54 L45.6866667,58.7 L41.2066667,63.18 L21.3666667,43.34 L41.2066667,23.5 L45.6866667,27.98 L33.5266667,40.14 L64.8866667,40.14 C71.6422222,40.14 77.4555556,42.4155556 82.3266667,46.9666667 C87.1977778,51.5177778 89.6333333,57.1355556 89.6333333,63.82 C89.6333333,70.5044444 87.1977778,76.1222222 82.3266667,80.6733333 C77.4555556,85.2244444 71.6422222,87.5 64.8866667,87.5 Z",id:"Path",fill:"#4285F4",fillRule:"nonzero",transform:"translate(55.500000, 55.500000) scale(-1, 1) translate(-55.500000, -55.500000) "}))));m();var Ub=fr(Fr()),ITe=n=>Ub.createElement("svg",{width:"112px",height:"112px",viewBox:"0 0 112 112",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Ub.createElement("title",null,"query_undo_hover"),Ub.createElement("g",{id:"query_undo_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Ub.createElement("g",{id:"Group",transform:"translate(0.500000, 0.500000)"},Ub.createElement("circle",{id:"Oval-Copy",className:"hoverfill",fill:"#EAF2FF",cx:55.5,cy:55.5,r:55.5}),Ub.createElement("path",{d:"M64.8866667,87.5 L34.1666667,87.5 L34.1666667,81.1 L64.9933333,81.1 C69.9711111,81.1 74.2555556,79.4466667 77.8466667,76.14 C81.4377778,72.8333333 83.2333333,68.7266667 83.2333333,63.82 C83.2333333,58.9133333 81.4377778,54.8066667 77.8466667,51.5 C74.2555556,48.1933333 69.9711111,46.54 64.9933333,46.54 L33.5266667,46.54 L45.6866667,58.7 L41.2066667,63.18 L21.3666667,43.34 L41.2066667,23.5 L45.6866667,27.98 L33.5266667,40.14 L64.8866667,40.14 C71.6422222,40.14 77.4555556,42.4155556 82.3266667,46.9666667 C87.1977778,51.5177778 89.6333333,57.1355556 89.6333333,63.82 C89.6333333,70.5044444 87.1977778,76.1222222 82.3266667,80.6733333 C77.4555556,85.2244444 71.6422222,87.5 64.8866667,87.5 Z",id:"Path",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero"}))));var ta=({action:n,onClick:e,color:t})=>{let s={...{width:"22px",height:"22px"},...{onClick:e,style:{cursor:e?"pointer":"unset"}}};return v.createElement(M2t,{color:t,doHover:e!==void 0},n==="group_by"?v.createElement(gTe,{...s}):n==="aggregate"?v.createElement(yTe,{...s}):n==="filter"?v.createElement(vTe,{...s}):n==="limit"?v.createElement(_Te,{...s}):n==="nest"?v.createElement(bTe,{...s}):n==="order_by"?v.createElement(ETe,{...s}):n==="remove"?v.createElement(WC,{...s}):n==="rename"?v.createElement(STe,{...s}):n==="add"?v.createElement(CTe,{...s}):n==="save"?v.createElement(TTe,{...s}):n==="container-open"?v.createElement(SH,{...s}):n==="container-closed"?v.createElement(Zz,{...s}):n==="duplicate"?v.createElement(Nue,{...s}):n==="copy"?v.createElement(Nue,{...s}):n==="style"?v.createElement(wH,{...s}):n==="stage"?v.createElement(DTe,{...s}):n==="error"?v.createElement(FTe,{...s}):n==="load"?v.createElement(CH,{...s}):n==="move"?v.createElement(OTe,{...s}):n==="edit"?v.createElement(wTe,{...s}):n==="search"?v.createElement(RTe,{...s}):n==="open-directory"?v.createElement(NTe,{...s}):n==="run"?v.createElement(ATe,{...s}):n==="analysis"?v.createElement(LTe,{...s}):n==="undo"?v.createElement(ITe,{...s}):n==="redo"?v.createElement(kTe,{...s}):null)},M2t=Bn.div`
  display: flex;
  ${({color:n,doHover:e})=>n===void 0?"":`
      svg .hoverfill {
        fill: transparent;
      }
      ${n!==void 0&&`
        svg .primaryfill {
          fill: ${mi[n].fillStrong};
        }
        svg .primarystroke {
          stroke: ${mi[n].fillStrong};
        }
      `}
      ${n!==void 0&&e&&`
        svg:hover .hoverfill {
          fill: ${mi[n].fillLight};
        }
      `}
    `}
`;m();m();var Kb=fr(Fr());m();m();var AH=fr(Fr());var kue=function(e){return e.reduce(function(t,r){var i=r[0],s=r[1];return t[i]=s,t},{})},Iue=typeof window!="undefined"&&window.document&&window.document.createElement?AH.useLayoutEffect:AH.useEffect;m();var P4=fr(Fr()),sFe=fr(jI());m();m();var zl="top",Xc="bottom",Oc="right",ic="left",TH="auto",I4=[zl,Xc,Oc,ic],By="start",$b="end",MTe="clippingParents",FH="viewport",KC="popper",PTe="reference",Mue=I4.reduce(function(n,e){return n.concat([e+"-"+By,e+"-"+$b])},[]),DH=[].concat(I4,[TH]).reduce(function(n,e){return n.concat([e,e+"-"+By,e+"-"+$b])},[]),P2t="beforeRead",B2t="read",j2t="afterRead",q2t="beforeMain",U2t="main",$2t="afterMain",z2t="beforeWrite",H2t="write",V2t="afterWrite",BTe=[P2t,B2t,j2t,q2t,U2t,$2t,z2t,H2t,V2t];m();m();function Df(n){return n?(n.nodeName||"").toLowerCase():null}m();m();function ml(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function I1(n){var e=ml(n).Element;return n instanceof e||n instanceof Element}function Zc(n){var e=ml(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function JC(n){if(typeof ShadowRoot=="undefined")return!1;var e=ml(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function W2t(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!Zc(s)||!Df(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Q2t(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),a=o.reduce(function(l,f){return l[f]="",l},{});!Zc(i)||!Df(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var jTe={name:"applyStyles",enabled:!0,phase:"write",fn:W2t,effect:Q2t,requires:["computeStyles"]};m();m();function Of(n){return n.split("-")[0]}m();m();m();var Vm=Math.max,zb=Math.min,jy=Math.round;m();m();function XC(){var n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function YR(){return!/^((?!chrome|android).)*safari/i.test(XC())}function M1(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&Zc(n)&&(i=n.offsetWidth>0&&jy(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&jy(r.height)/n.offsetHeight||1);var o=I1(n)?ml(n):window,a=o.visualViewport,l=!YR()&&t,f=(r.left+(l&&a?a.offsetLeft:0))/i,p=(r.top+(l&&a?a.offsetTop:0))/s,_=r.width/i,E=r.height/s;return{width:_,height:E,top:p,right:f+_,bottom:p+E,left:f,x:f,y:p}}function Hb(n){var e=M1(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}m();function KR(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&JC(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}m();m();function kd(n){return ml(n).getComputedStyle(n)}m();function Pue(n){return["table","td","th"].indexOf(Df(n))>=0}m();m();function i0(n){return((I1(n)?n.ownerDocument:n.document)||window.document).documentElement}function qy(n){return Df(n)==="html"?n:n.assignedSlot||n.parentNode||(JC(n)?n.host:null)||i0(n)}function qTe(n){return!Zc(n)||kd(n).position==="fixed"?null:n.offsetParent}function G2t(n){var e=/firefox/i.test(XC()),t=/Trident/i.test(XC());if(t&&Zc(n)){var r=kd(n);if(r.position==="fixed")return null}var i=qy(n);for(JC(i)&&(i=i.host);Zc(i)&&["html","body"].indexOf(Df(i))<0;){var s=kd(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Wm(n){for(var e=ml(n),t=qTe(n);t&&Pue(t)&&kd(t).position==="static";)t=qTe(t);return t&&(Df(t)==="html"||Df(t)==="body"&&kd(t).position==="static")?e:t||G2t(n)||e}m();function Vb(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}m();function Wb(n,e,t){return Vm(n,zb(e,t))}function UTe(n,e,t){var r=Wb(n,e,t);return r>t?t:r}m();m();function JR(){return{top:0,right:0,bottom:0,left:0}}function XR(n){return Object.assign({},JR(),n)}m();function ZR(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var Y2t=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,XR(typeof e!="number"?e:ZR(e,I4))};function K2t(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,o=t.modifiersData.popperOffsets,a=Of(t.placement),l=Vb(a),f=[ic,Oc].indexOf(a)>=0,p=f?"height":"width";if(!(!s||!o)){var _=Y2t(i.padding,t),E=Hb(s),O=l==="y"?zl:ic,R=l==="y"?Xc:Oc,q=t.rects.reference[p]+t.rects.reference[l]-o[l]-t.rects.popper[p],z=o[l]-t.rects.reference[l],L=Wm(s),B=L?l==="y"?L.clientHeight||0:L.clientWidth||0:0,P=q/2-z/2,G=_[O],ue=B-E[p]-_[R],I=B/2-E[p]/2+P,J=Wb(G,I,ue),he=l;t.modifiersData[r]=(e={},e[he]=J,e.centerOffset=J-I,e)}}function J2t(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!KR(e.elements.popper,i)||(e.elements.arrow=i))}var $Te={name:"arrow",enabled:!0,phase:"main",fn:K2t,effect:J2t,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};m();m();function P1(n){return n.split("-")[1]}var X2t={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Z2t(n){var e=n.x,t=n.y,r=window,i=r.devicePixelRatio||1;return{x:jy(e*i)/i||0,y:jy(t*i)/i||0}}function zTe(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,f=n.adaptive,p=n.roundOffsets,_=n.isFixed,E=o.x,O=E===void 0?0:E,R=o.y,q=R===void 0?0:R,z=typeof p=="function"?p({x:O,y:q}):{x:O,y:q};O=z.x,q=z.y;var L=o.hasOwnProperty("x"),B=o.hasOwnProperty("y"),P=ic,G=zl,ue=window;if(f){var I=Wm(t),J="clientHeight",he="clientWidth";if(I===ml(t)&&(I=i0(t),kd(I).position!=="static"&&a==="absolute"&&(J="scrollHeight",he="scrollWidth")),I=I,i===zl||(i===ic||i===Oc)&&s===$b){G=Xc;var ye=_&&I===ue&&ue.visualViewport?ue.visualViewport.height:I[J];q-=ye-r.height,q*=l?1:-1}if(i===ic||(i===zl||i===Xc)&&s===$b){P=Oc;var He=_&&I===ue&&ue.visualViewport?ue.visualViewport.width:I[he];O-=He-r.width,O*=l?1:-1}}var at=Object.assign({position:a},f&&X2t),ct=p===!0?Z2t({x:O,y:q}):{x:O,y:q};if(O=ct.x,q=ct.y,l){var Ze;return Object.assign({},at,(Ze={},Ze[G]=B?"0":"",Ze[P]=L?"0":"",Ze.transform=(ue.devicePixelRatio||1)<=1?"translate("+O+"px, "+q+"px)":"translate3d("+O+"px, "+q+"px, 0)",Ze))}return Object.assign({},at,(e={},e[G]=B?q+"px":"",e[P]=L?O+"px":"",e.transform="",e))}function ext(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,o=s===void 0?!0:s,a=t.roundOffsets,l=a===void 0?!0:a;if(!1)var f;var p={placement:Of(e.placement),variation:P1(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,zTe(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,zTe(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var HTe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ext,data:{}};m();var OH={passive:!0};function txt(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=ml(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&f.forEach(function(p){p.addEventListener("scroll",t.update,OH)}),a&&l.addEventListener("resize",t.update,OH),function(){s&&f.forEach(function(p){p.removeEventListener("scroll",t.update,OH)}),a&&l.removeEventListener("resize",t.update,OH)}}var VTe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:txt,data:{}};m();m();var nxt={left:"right",right:"left",bottom:"top",top:"bottom"};function ZC(n){return n.replace(/left|right|bottom|top/g,function(e){return nxt[e]})}m();var rxt={start:"end",end:"start"};function RH(n){return n.replace(/start|end/g,function(e){return rxt[e]})}m();m();m();m();m();function Qb(n){var e=ml(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function Gb(n){return M1(i0(n)).left+Qb(n).scrollLeft}function Bue(n,e){var t=ml(n),r=i0(n),i=t.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var f=YR();(f||!f&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+Gb(n),y:l}}m();function jue(n){var e,t=i0(n),r=Qb(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=Vm(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Vm(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Gb(n),l=-r.scrollTop;return kd(i||t).direction==="rtl"&&(a+=Vm(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}m();m();m();function Yb(n){var e=kd(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function NH(n){return["html","body","#document"].indexOf(Df(n))>=0?n.ownerDocument.body:Zc(n)&&Yb(n)?n:NH(qy(n))}function M4(n,e){var t;e===void 0&&(e=[]);var r=NH(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=ml(r),o=i?[s].concat(s.visualViewport||[],Yb(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(M4(qy(o)))}m();function e9(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function ixt(n,e){var t=M1(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function WTe(n,e,t){return e===FH?e9(Bue(n,t)):I1(e)?ixt(e,t):e9(jue(i0(n)))}function sxt(n){var e=M4(qy(n)),t=["absolute","fixed"].indexOf(kd(n).position)>=0,r=t&&Zc(n)?Wm(n):n;return I1(r)?e.filter(function(i){return I1(i)&&KR(i,r)&&Df(i)!=="body"}):[]}function que(n,e,t,r){var i=e==="clippingParents"?sxt(n):[].concat(e),s=[].concat(i,[t]),o=s[0],a=s.reduce(function(l,f){var p=WTe(n,f,r);return l.top=Vm(p.top,l.top),l.right=zb(p.right,l.right),l.bottom=zb(p.bottom,l.bottom),l.left=Vm(p.left,l.left),l},WTe(n,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}m();function eN(n){var e=n.reference,t=n.element,r=n.placement,i=r?Of(r):null,s=r?P1(r):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(i){case zl:l={x:o,y:e.y-t.height};break;case Xc:l={x:o,y:e.y+e.height};break;case Oc:l={x:e.x+e.width,y:a};break;case ic:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var f=i?Vb(i):null;if(f!=null){var p=f==="y"?"height":"width";switch(s){case By:l[f]=l[f]-(e[p]/2-t[p]/2);break;case $b:l[f]=l[f]+(e[p]/2-t[p]/2);break;default:}}return l}function Qm(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,o=s===void 0?n.strategy:s,a=t.boundary,l=a===void 0?MTe:a,f=t.rootBoundary,p=f===void 0?FH:f,_=t.elementContext,E=_===void 0?KC:_,O=t.altBoundary,R=O===void 0?!1:O,q=t.padding,z=q===void 0?0:q,L=XR(typeof z!="number"?z:ZR(z,I4)),B=E===KC?PTe:KC,P=n.rects.popper,G=n.elements[R?B:E],ue=que(I1(G)?G:G.contextElement||i0(n.elements.popper),l,p,o),I=M1(n.elements.reference),J=eN({reference:I,element:P,strategy:"absolute",placement:i}),he=e9(Object.assign({},P,J)),ye=E===KC?he:I,He={top:ue.top-ye.top+L.top,bottom:ye.bottom-ue.bottom+L.bottom,left:ue.left-ye.left+L.left,right:ye.right-ue.right+L.right},at=n.modifiersData.offset;if(E===KC&&at){var ct=at[i];Object.keys(He).forEach(function(Ze){var Et=[Oc,Xc].indexOf(Ze)>=0?1:-1,Mt=[zl,Xc].indexOf(Ze)>=0?"y":"x";He[Ze]+=ct[Mt]*Et})}return He}m();function Uue(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,f=l===void 0?DH:l,p=P1(r),_=p?a?Mue:Mue.filter(function(R){return P1(R)===p}):I4,E=_.filter(function(R){return f.indexOf(R)>=0});E.length===0&&(E=_);var O=E.reduce(function(R,q){return R[q]=Qm(n,{placement:q,boundary:i,rootBoundary:s,padding:o})[Of(q)],R},{});return Object.keys(O).sort(function(R,q){return O[R]-O[q]})}function oxt(n){if(Of(n)===TH)return[];var e=ZC(n);return[RH(n),e,RH(e)]}function axt(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,a=o===void 0?!0:o,l=t.fallbackPlacements,f=t.padding,p=t.boundary,_=t.rootBoundary,E=t.altBoundary,O=t.flipVariations,R=O===void 0?!0:O,q=t.allowedAutoPlacements,z=e.options.placement,L=Of(z),B=L===z,P=l||(B||!R?[ZC(z)]:oxt(z)),G=[z].concat(P).reduce(function(lt,Ht){return lt.concat(Of(Ht)===TH?Uue(e,{placement:Ht,boundary:p,rootBoundary:_,padding:f,flipVariations:R,allowedAutoPlacements:q}):Ht)},[]),ue=e.rects.reference,I=e.rects.popper,J=new Map,he=!0,ye=G[0],He=0;He<G.length;He++){var at=G[He],ct=Of(at),Ze=P1(at)===By,Et=[zl,Xc].indexOf(ct)>=0,Mt=Et?"width":"height",qe=Qm(e,{placement:at,boundary:p,rootBoundary:_,altBoundary:E,padding:f}),te=Et?Ze?Oc:ic:Ze?Xc:zl;ue[Mt]>I[Mt]&&(te=ZC(te));var et=ZC(te),be=[];if(s&&be.push(qe[ct]<=0),a&&be.push(qe[te]<=0,qe[et]<=0),be.every(function(lt){return lt})){ye=at,he=!1;break}J.set(at,be)}if(he)for(var ke=R?3:1,we=function(Ht){var Ct=G.find(function(mn){var kt=J.get(mn);if(kt)return kt.slice(0,Ht).every(function(Bt){return Bt})});if(Ct)return ye=Ct,"break"},pe=ke;pe>0;pe--){var Je=we(pe);if(Je==="break")break}e.placement!==ye&&(e.modifiersData[r]._skip=!0,e.placement=ye,e.reset=!0)}}var QTe={name:"flip",enabled:!0,phase:"main",fn:axt,requiresIfExists:["offset"],data:{_skip:!1}};m();function GTe(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function YTe(n){return[zl,Oc,Xc,ic].some(function(e){return n[e]>=0})}function uxt(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Qm(e,{elementContext:"reference"}),a=Qm(e,{altBoundary:!0}),l=GTe(o,r),f=GTe(a,i,s),p=YTe(l),_=YTe(f);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:f,isReferenceHidden:p,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":_})}var KTe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:uxt};m();function lxt(n,e,t){var r=Of(n),i=[ic,zl].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[ic,Oc].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function cxt(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,o=DH.reduce(function(p,_){return p[_]=lxt(_,e.rects,s),p},{}),a=o[e.placement],l=a.x,f=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=o}var JTe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:cxt};m();function fxt(n){var e=n.state,t=n.name;e.modifiersData[t]=eN({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var XTe={name:"popperOffsets",enabled:!0,phase:"read",fn:fxt,data:{}};m();m();function $ue(n){return n==="x"?"y":"x"}function dxt(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,a=o===void 0?!1:o,l=t.boundary,f=t.rootBoundary,p=t.altBoundary,_=t.padding,E=t.tether,O=E===void 0?!0:E,R=t.tetherOffset,q=R===void 0?0:R,z=Qm(e,{boundary:l,rootBoundary:f,padding:_,altBoundary:p}),L=Of(e.placement),B=P1(e.placement),P=!B,G=Vb(L),ue=$ue(G),I=e.modifiersData.popperOffsets,J=e.rects.reference,he=e.rects.popper,ye=typeof q=="function"?q(Object.assign({},e.rects,{placement:e.placement})):q,He=typeof ye=="number"?{mainAxis:ye,altAxis:ye}:Object.assign({mainAxis:0,altAxis:0},ye),at=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ct={x:0,y:0};if(!!I){if(s){var Ze,Et=G==="y"?zl:ic,Mt=G==="y"?Xc:Oc,qe=G==="y"?"height":"width",te=I[G],et=te+z[Et],be=te-z[Mt],ke=O?-he[qe]/2:0,we=B===By?J[qe]:he[qe],pe=B===By?-he[qe]:-J[qe],Je=e.elements.arrow,lt=O&&Je?Hb(Je):{width:0,height:0},Ht=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:JR(),Ct=Ht[Et],mn=Ht[Mt],kt=Wb(0,J[qe],lt[qe]),Bt=P?J[qe]/2-ke-kt-Ct-He.mainAxis:we-kt-Ct-He.mainAxis,tn=P?-J[qe]/2+ke+kt+mn+He.mainAxis:pe+kt+mn+He.mainAxis,bt=e.elements.arrow&&Wm(e.elements.arrow),ve=bt?G==="y"?bt.clientTop||0:bt.clientLeft||0:0,Le=(Ze=at==null?void 0:at[G])!=null?Ze:0,_e=te+Bt-Le-ve,ce=te+tn-Le,tt=Wb(O?zb(et,_e):et,te,O?Vm(be,ce):be);I[G]=tt,ct[G]=tt-te}if(a){var Ke,re=G==="x"?zl:ic,Oe=G==="x"?Xc:Oc,nt=I[ue],ft=ue==="y"?"height":"width",Ot=nt+z[re],Yt=nt-z[Oe],Gt=[zl,ic].indexOf(L)!==-1,fn=(Ke=at==null?void 0:at[ue])!=null?Ke:0,gn=Gt?Ot:nt-J[ft]-he[ft]-fn+He.altAxis,yn=Gt?nt+J[ft]+he[ft]-fn-He.altAxis:Yt,Lt=O&&Gt?UTe(gn,nt,yn):Wb(O?gn:Ot,nt,O?yn:Yt);I[ue]=Lt,ct[ue]=Lt-nt}e.modifiersData[r]=ct}}var ZTe={name:"preventOverflow",enabled:!0,phase:"main",fn:dxt,requiresIfExists:["offset"]};m();m();m();m();function zue(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Hue(n){return n===ml(n)||!Zc(n)?Qb(n):zue(n)}function hxt(n){var e=n.getBoundingClientRect(),t=jy(e.width)/n.offsetWidth||1,r=jy(e.height)/n.offsetHeight||1;return t!==1||r!==1}function Vue(n,e,t){t===void 0&&(t=!1);var r=Zc(e),i=Zc(e)&&hxt(e),s=i0(e),o=M1(n,i,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!t)&&((Df(e)!=="body"||Yb(s))&&(a=Hue(e)),Zc(e)?(l=M1(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=Gb(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}m();function pxt(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function Wue(n){var e=pxt(n);return BTe.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}m();function Que(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}m();function Gue(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var eFe={placement:"bottom",modifiers:[],strategy:"absolute"};function tFe(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function nFe(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?eFe:i;return function(a,l,f){f===void 0&&(f=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},eFe,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},_=[],E=!1,O={state:p,setOptions:function(L){var B=typeof L=="function"?L(p.options):L;q(),p.options=Object.assign({},s,p.options,B),p.scrollParents={reference:I1(a)?M4(a):a.contextElement?M4(a.contextElement):[],popper:M4(l)};var P=Wue(Gue([].concat(r,p.options.modifiers)));if(p.orderedModifiers=P.filter(function(at){return at.enabled}),!1){var G;if(getBasePlacement(p.options.placement)===auto)var ue;var I,J,he,ye,He}return R(),O.update()},forceUpdate:function(){if(!E){var L=p.elements,B=L.reference,P=L.popper;if(!!tFe(B,P)){p.rects={reference:Vue(B,Wm(P),p.options.strategy==="fixed"),popper:Hb(P)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(at){return p.modifiersData[at.name]=Object.assign({},at.data)});for(var G=0,ue=0;ue<p.orderedModifiers.length;ue++){if(p.reset===!0){p.reset=!1,ue=-1;continue}var I=p.orderedModifiers[ue],J=I.fn,he=I.options,ye=he===void 0?{}:he,He=I.name;typeof J=="function"&&(p=J({state:p,options:ye,name:He,instance:O})||p)}}}},update:Que(function(){return new Promise(function(z){O.forceUpdate(),z(p)})}),destroy:function(){q(),E=!0}};if(!tFe(a,l))return O;O.setOptions(f).then(function(z){!E&&f.onFirstUpdate&&f.onFirstUpdate(z)});function R(){p.orderedModifiers.forEach(function(z){var L=z.name,B=z.options,P=B===void 0?{}:B,G=z.effect;if(typeof G=="function"){var ue=G({state:p,name:L,instance:O,options:P}),I=function(){};_.push(ue||I)}})}function q(){_.forEach(function(z){return z()}),_=[]}return O}}m();var mxt=[VTe,XTe,HTe,jTe,JTe,QTe,ZTe,$Te,KTe],Yue=nFe({defaultModifiers:mxt});var oFe=fr(iFe());var _xt=[],Kue=function(e,t,r){r===void 0&&(r={});var i=P4.useRef(null),s={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||_xt},o=P4.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=o[0],l=o[1],f=P4.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(O){var R=O.state,q=Object.keys(R.elements);sFe.flushSync(function(){l({styles:kue(q.map(function(z){return[z,R.styles[z]||{}]})),attributes:kue(q.map(function(z){return[z,R.attributes[z]]}))})})},requires:["computeStyles"]}},[]),p=P4.useMemo(function(){var E={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[f,{name:"applyStyles",enabled:!1}])};return(0,oFe.default)(i.current,E)?i.current||E:(i.current=E,E)},[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,f]),_=P4.useRef();return Iue(function(){_.current&&_.current.setOptions(p)},[p]),Iue(function(){if(!(e==null||t==null)){var E=r.createPopper||Yue,O=E(e,t,p);return _.current=O,function(){O.destroy(),_.current=null}}},[e,t,r.createPopper]),{state:_.current?_.current.state:null,styles:a.styles,attributes:a.attributes,update:_.current?_.current.update:null,forceUpdate:_.current?_.current.forceUpdate:null}};var bxt=Bn.div`
  border: 1px solid #ececed;
  border-radius: 4px;
  position: fixed;
  box-shadow: 0px 1px 5px 1px #0000001a;
  background-color: white;
  font-size: 14px;
  ${({width:n,zIndex:e})=>`
    width: ${n}px;
    z-index: ${e};
  `}
`,Ext=Bn.div`
  position: relative;
`,B1=({open:n,setOpen:e,children:t,width:r=350,placement:i="right-start",referenceDiv:s,zIndex:o=10,xOffset:a=0,yOffset:l=10,disabled:f=!1})=>{let p=(0,Kb.useRef)(null),[_,E]=(0,Kb.useState)(null),{styles:O,attributes:R}=Kue(s?.current||p.current,_,{placement:i,modifiers:[{name:"offset",options:{offset:[a,l]}},{name:"preventOverflow",options:{altAxis:!0,padding:20,boundary:document.getElementsByTagName("body")[0]}},{name:"flip",options:{flipVariations:!1}}]});return k1(p,()=>e(!1)),Kb.default.createElement(Ext,{ref:p},n&&!f&&Kb.default.createElement(bxt,{width:r,ref:E,style:{...O.popper,position:"fixed"},...R.popper,zIndex:o},t))};m();m();var Kx=fr(Fr());m();m();var Ho=({icon:n,name:e,onClick:t,canRemove:r,onRemove:i,unsaved:s=!1,color:o,active:a=!1,disableHover:l=!1,detail:f,fullDetail:p=!1})=>v.createElement(Axt,{onClick:t,color:o,active:a,disableHover:l},v.createElement(wxt,null,v.createElement(FC,{color:o},n),v.createElement(lue,null,e),s?v.createElement(Sxt,{color:o}):""),r&&v.createElement(kH,{className:"back"},v.createElement(IH,{color:o,width:"20px",height:"20px",className:"close",onClick:()=>i&&i()})),!r&&f!==void 0&&v.createElement(Cxt,{style:{color:mi[o].fillStrong,opacity:.8},noShrink:p},f)),Sxt=Bn.div`
  width: 8px;
  margin-top: 3px;
  height: 8px;
  min-width: 8px;
  min-height: 8px;
  border-radius: 100px;

  ${({color:n})=>`
    background-color: ${mi[n].fillStrong};
    `}
`,wxt=Bn.div`
  display: flex;
  gap: 10px;
  justify-content: flex-start;
  align-items: center;
  overflow: hidden;
`,kH=Bn.div`
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  align-items: center;
  overflow: hidden;
  flex-shrink: 0;
`,Cxt=Bn.div`
  gap: 10px;
  justify-content: flex-end;
  align-items: center;
  overflow: hidden;
  ${({noShrink:n})=>`flex-shrink: ${n?0:4};`}
  font-size: 12px;
  font-weight: normal;
  text-transform: none;
  margin-right: 5px;
  justify-content: start;
  text-overflow: ellipsis;
  color: #9aa0a6;
`,Axt=Bn.div`
  border: none;
  background-color: transparent;
  border-radius: 50px;
  padding: 4px 7px;
  text-align: left;
  cursor: pointer;
  display: flex;
  color: #353535;
  user-select: none;
  font-size: 14px;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
  font-family: "Roboto Mono";

  ${({active:n,color:e})=>n?`
        background-color: ${mi[e].fillLight};
        .back {
          display: flex;
        }
      `:""}

  &:hover {
    .back {
      display: flex;
    }
  }

  .back {
    display: none;
  }

  ${({color:n,disableHover:e})=>{if(!e)return`
        &:hover {
          background-color: ${mi[n].fillLight};
        }
      `}}
`,IH=Bn(WC)`
  cursor: pointer;
  ${({color:n})=>`
      .cross {
        fill: ${mi[n].fillMedium};
      }
      .circle {
        fill: transparent;
      }
      &:hover .cross {
        fill: ${mi[n].fillStrong};
      }
      &:hover .circle {
        fill: ${mi[n].fillMedium};
      }
    `}
`;m();m();m();m();var ile=fr(Fr());m();var Hx=fr(up());var Jue=class{async readURL(){return""}},Xue=class{constructor(){this.name="dummy"}runSQL(){throw new Error("Dummy connection cannot run SQL.")}runSQLBlockAndFetchResultSchema(){throw new Error("Dummy connection cannot run SQL blocks.")}fetchSchemaForSQLBlocks(){throw new Error("Dummy connection cannot fetch schemas.")}fetchSchemaForTables(){throw new Error("Dummy connection cannot fetch schemas.")}isPool(){return!1}canPersist(){return!1}canFetchSchemaAndRunSimultaneously(){return!1}canStream(){return!1}canFetchSchemaAndRunStreamSimultaneously(){return!1}};async function Zue(n,e){let r=await new Hx.Runtime(new Jue,new Xue)._loadModelFromModelDef(n).getModel();return await Hx.Malloy.compile({urlReader:new Jue,connections:new Hx.FixedConnectionMap(new Map([["dummy",new Xue]]),"dummy"),model:r,parse:Hx.Malloy.parse({source:e})})}async function MH(n,e){return(await Zue(n,e))._modelDef}function PH(n){return{name:"model",exports:[],contents:{[n.as||n.name]:n}}}async function Vx(n,e){let t=`query: the_query is ${n.as||n.name} -> { group_by: one is 1; where: ${e}}`,r=PH(n),s=(await MH(r,t)).contents.the_query;if(s.type!=="query")throw new Error("Expected the_query to be a query");let o=s.pipeline[0].filterList;if(o===void 0)throw new Error("Expected a filter list");return o[0]}async function aFe(n,e,t){let r=t?`${Ag(e)} is ${t}`:Ag(e),i=`query: the_query is ${Ag(n.as||n.name)} -> { group_by: ${r} }`,s=PH(n),a=(await MH(s,i)).contents.the_query;if(a.type!=="query")throw new Error("Expected the_query to be a query");let l=a.pipeline[0].fields;if(l===void 0)throw new Error("Expected a field list");return l[0]}async function uFe(n,e,t){let r=`query: the_query is ${n.as||n.name} -> { group_by: ${e} is ${t} }`,i=PH(n),o=(await MH(i,r)).contents.the_query;if(o.type!=="query")throw new Error("Expected the_query to be a query");let a=o.pipeline[0].fields[0];if(typeof a=="string")throw new Error("Expected field definition, not reference");if((0,Hx.isFilteredAliasedName)(a))throw new Error("Expected field definition, not filtered aliased name");return a}async function lFe(n,e,t){let r=`query: the_query is ${n.as||n.name} -> { aggregate: ${e} is ${t} }`,i=PH(n),o=(await MH(i,r)).contents.the_query;if(o.type!=="query")throw new Error("Expected the_query to be a query");let a=o.pipeline[0].fields[0];if(typeof a=="string")throw new Error("Expected field definiton, not reference");if((0,Hx.isFilteredAliasedName)(a))throw new Error("Expected field definition, not filtered aliased name");return a}var cFe="new_query";async function fFe(n,e){let t=await Zue(n,e),r=/\s*query\s*:\s*([^\s]*)\s*is/,i=e.match(r),s=i?t.getPreparedQueryByName(i[1]):t.preparedQuery;return s._query.pipeHead&&(s=s.getFlattenedQuery(cFe)),s}async function dFe(n,e){return(await fFe(n,e)).preparedResult.sql}async function ele(n,e){let t=await fFe(n,e),r="as"in t._query?t._query.as||t._query.name:cFe;return{...t._query,type:"query",name:r}}async function tle(n,e){let t=await Zue(n,e),r=/\s*query\s*:\s*([^\s]*)\s*is/,i=e.match(r);return(i?t.getPreparedQueryByName(i[1]):t.preparedQuery).preparedResult._sourceExploreName}m();m();async function Txt(n,e,t,r,i){if(t===void 0)return;if(E2()){let o=await V9e(n,t,r,i);if(o instanceof Error)throw o;return o}return(await(await fetch("api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({modelPath:e,searchTerm:r,source:t,fieldPath:i})})).json()).result||[]}function Jb(n,e,t,r,i){let{data:s,isLoading:o}=wg([t,r,i],()=>Txt(n,e,t,r,i),{refetchOnWindowFocus:!0});return{searchResults:s,isLoading:o}}m();m();var cp=({value:n,setValue:e,placeholder:t,autoFocus:r,onTab:i})=>v.createElement(Fxt,null,v.createElement(Dxt,null,v.createElement(ta,{action:"search",color:"other"})),v.createElement(Oxt,{type:"text",placeholder:t,value:n,onChange:o=>e(o.target.value),autoFocus:r,tabIndex:1,onKeyDown:o=>{o.key==="Tab"&&(i&&i(),o.stopPropagation(),o.preventDefault())}})),Fxt=Bn.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  position: relative;
`,Dxt=Bn.div`
  position: fixed;
  left: 15px;
  top: 9px;
  pointer-events: none;
`,Oxt=Bn.input`
  font-family: "Roboto Mono";
  font-size: 14px;
  border-radius: 5px;
  border: none;
  padding: 3px 10px 1px 38px;
  outline: none;
  width: calc(100% - 22px);

  &:focus {
    border-color: #4285f4;
  }
`;m();m();m();m();var B4=({fieldPath:n,topValues:e,filterExpression:t,definition:r})=>{let i=e?.find(s=>s.fieldName===n);return v.createElement(rc,null,v.createElement(Rxt,null,v.createElement(Lxt,null,n&&v.createElement(BH,null,v.createElement("div",null,"Path"),v.createElement(nle,null,n.length<=32?n:v.createElement(hFe,{path:n.split(".")}))),r&&v.createElement(BH,null,v.createElement("div",null,"Definition"),v.createElement(nle,null,r)),t&&v.createElement(BH,null,v.createElement("div",null,"Filter"),v.createElement(nle,null,t)),i&&v.createElement(BH,null,v.createElement("div",null,"Top Values"),i.values.slice(0,8).map(s=>v.createElement(Bxt,{key:s.fieldValue},v.createElement(Ixt,null,v.createElement(Pxt,null,s.fieldValue===null?v.createElement(Nxt,null,"\u2205"):s.fieldValue)),v.createElement(Mxt,null,RM(s.weight))))))))},Rxt=Bn(Fc)`
  padding: 20px;
  background-color: rgb(248, 248, 248);
`,Nxt=Bn.span``,nle=Bn.div`
  color: #505050;
  font-weight: normal;
  font-family: Roboto Mono;
  font-weight: normal;
  font-size: 14px;
  text-transform: none;
  overflow-wrap: break-word;
  padding: 4px 0px;
`,Lxt=Bn.div`
  display: flex;
  gap: 15px;
  flex-direction: column;
`,BH=Bn.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`,hFe=({path:n,top:e=!0})=>v.createElement("div",null,e?"":".",n[0],n.length>1&&v.createElement(kxt,null,v.createElement(hFe,{path:n.slice(1),top:!1}))),kxt=Bn.div`
  margin-left: 10px;
`,Ixt=Bn.div`
  display: flex;
  gap: 10px;
  justify-content: flex-start;
  align-items: center;
  overflow: hidden;
  text-overflow: ellipsis;
  color: #505050;
`,Mxt=Bn.div`
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  align-items: center;
  overflow: hidden;
  flex-shrink: 0;
  color: #9aa0a6;
`,Pxt=Bn.div`
  text-overflow: ellipsis;
  text-transform: none;
  color: #505050;
  overflow: hidden;
  white-space: nowrap;
`,Bxt=Bn.div`
  border: none;
  background-color: transparent;
  border-radius: 50px;
  padding: 4px 0px;
  text-align: left;
  display: flex;
  color: #353535;
  user-select: none;
  font-size: 14px;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
  font-family: "Roboto"
  font-weight: normal;;
`;m();m();var Xb=fr(Fr());var j4=({popoverContent:n,content:e,width:t,enabled:r=!0,zIndex:i=11})=>{let[s,o]=(0,Xb.useState)(!1),a=(0,Xb.useRef)(!1),l=(0,Xb.useRef)(null),f=()=>{a.current=!0,o(!1)};return(0,Xb.useEffect)(()=>{a.current=!1},[s]),v.createElement(jxt,{onMouseEnter:()=>!a.current&&o(!0),onMouseLeave:f},v.createElement("div",{ref:l},e({isOpen:s,closeMenu:f})),(()=>{let p=n({setOpen:o,closeMenu:f});return v.createElement(B1,{open:r&&s&&p!==null,setOpen:o,referenceDiv:l,zIndex:i,width:t},p)})())},jxt=Bn.div`
  position: relative;
`;m();m();m();var Uy=fr(Fr()),pFe=n=>Uy.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Uy.createElement("title",null,"type-icon-on-off"),Uy.createElement("g",{id:"type-icon-on-off",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Uy.createElement("g",{id:"Group-Copy",transform:"translate(4.295444, 4.604157)",fill:"#4285f4",fillRule:"nonzero"},Uy.createElement("path",{d:"M1.61912392,3.08712961 L5.78998715,3.08712961 C6.6842046,3.08712961 7.40911107,2.39605211 7.40911107,1.54356481 C7.40911107,0.691077503 6.6842046,0 5.78998715,0 L1.61912392,0 C0.724906472,0 0,0.691077503 0,1.54356481 C0,2.39605211 0.724906472,3.08712961 1.61912392,3.08712961 Z M1.61912392,0.617425922 L5.78998715,0.617425922 C6.32651762,0.617425922 6.7614615,1.03207242 6.7614615,1.54356481 C6.7614615,2.05505719 6.32651762,2.46970369 5.78998715,2.46970369 L1.61912392,2.46970369 C1.08259345,2.46970369 0.647649569,2.05505719 0.647649569,1.54356481 C0.647649569,1.03207242 1.08259345,0.617425922 1.61912392,0.617425922 Z",id:"Shape-Copy-20"}),Uy.createElement("path",{d:"M1.83745135,2.13685198 C2.08762004,2.13888594 2.31428875,1.98975367 2.4114368,1.75920941 C2.50858486,1.52866515 2.45700749,1.2622842 2.28082919,1.08466199 C2.10465088,0.907039785 1.83869956,0.853289683 1.60736972,0.948552441 C1.37603988,1.0438152 1.22505383,1.26925874 1.22505383,1.51943543 C1.22505383,1.85847446 1.49842318,2.13409557 1.83745135,2.13685198 L1.83745135,2.13685198 Z",id:"Path-Copy-14"}),Uy.createElement("path",{d:"M5.78998714,3.70455553 L1.6191239,3.70455553 C0.724906454,3.70455553 0,4.39563305 0,5.24812034 C0,6.10060763 0.724906454,6.79168514 1.6191239,6.79168514 L5.78998714,6.79168514 C6.68420459,6.79168514 7.40911107,6.10060764 7.40911107,5.24812034 C7.40911107,4.39563304 6.68420459,3.70455553 5.78998714,3.70455553 L5.78998714,3.70455553 Z M5.78998714,6.17425922 L1.6191239,6.17425922 C1.08259342,6.17425922 0.647649538,5.75961272 0.647649538,5.24812034 C0.647649538,4.73662796 1.08259342,4.32198146 1.6191239,4.32198146 L5.78998714,4.32198146 C6.32651761,4.32198146 6.7614615,4.73662796 6.7614615,5.24812034 C6.7614615,5.75961272 6.32651761,6.17425922 5.78998714,6.17425922 L5.78998714,6.17425922 Z",id:"Shape-Copy-21"}),Uy.createElement("path",{d:"M5.54392378,4.67774545 C5.2937551,4.6757115 5.06708639,4.82484377 4.96993833,5.05538803 C4.87279028,5.28593228 4.92436765,5.55231324 5.10054595,5.72993544 C5.27672426,5.90755765 5.54267558,5.96130775 5.77400542,5.86604499 C6.00533526,5.77078224 6.15632131,5.5453387 6.15632131,5.295162 C6.15632131,4.95612297 5.88295196,4.68050187 5.54392378,4.67774545 Z",id:"Path-Copy-15"}))));m();var t9=fr(Fr()),rle=n=>t9.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},t9.createElement("title",null,"type-icon-date"),t9.createElement("g",{id:"type-icon-date",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},t9.createElement("g",{id:"Group-Copy-22",transform:"translate(4.753763, 4.094719)",fill:"#4285f4",fillRule:"nonzero"},t9.createElement("path",{d:"M5.84322609,0.649247344 L5.51860242,0.649247344 L5.51860242,0 L4.86935508,0 L4.86935508,0.649247344 L1.62311836,0.649247344 L1.62311836,0 L0.973871015,0 L0.973871015,0.649247344 L0.649247344,0.649247344 C0.292161305,0.649247344 0,0.941408648 0,1.29849469 L0,6.49247344 C0,6.84955947 0.292161305,7.14172078 0.649247344,7.14172078 L5.84322609,7.14172078 C6.20031213,7.14172078 6.49247344,6.84955947 6.49247344,6.49247344 L6.49247344,1.29849469 C6.49247344,0.941408648 6.20031213,0.649247344 5.84322609,0.649247344 Z M5.84322609,6.49247344 L0.649247344,6.49247344 L0.649247344,2.2723657 L5.84322609,2.2723657 L5.84322609,6.49247344 Z",id:"Shape"}))));m();var tN=fr(Fr()),mFe=n=>tN.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},tN.createElement("title",null,"type-icon-number"),tN.createElement("g",{id:"type-icon-number",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},tN.createElement("path",{d:"M12,7 L12,6 L10,6 L10,4 L9,4 L9,6 L7,6 L7,4 L6,4 L6,6 L4,6 L4,7 L6,7 L6,9 L4,9 L4,10 L6,10 L6,12 L7,12 L7,10 L9,10 L9,12 L10,12 L10,10 L12,10 L12,9 L10,9 L10,7 L12,7 Z M9,9 L7,9 L7,7 L9,7 L9,9 Z",id:"Shape-Copy-21",fill:"#4285f4",fillRule:"nonzero"})));m();var nN=fr(Fr()),xFe=n=>nN.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},nN.createElement("title",null,"type-icon-string"),nN.createElement("g",{id:"type-icon-string",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},nN.createElement("path",{d:"M4.8045,10.45 L5.2245,9.253 L7.1425,9.253 L7.5625,10.45 L8.6055,10.45 L6.7225,5.438 L5.6375,5.438 L3.7615,10.45 L4.8045,10.45 Z M6.8345,8.385 L5.5255,8.385 L5.9735,7.125 L6.1555,6.523 L6.2115,6.523 L6.3935,7.125 L6.8345,8.385 Z M10.2505,10.562 C10.4791667,10.562 10.681,10.5176667 10.856,10.429 C11.031,10.3403333 11.1721667,10.226 11.2795,10.086 L11.2795,10.086 L11.3355,10.086 L11.3355,10.45 L12.2385,10.45 L12.2385,8.252 C12.2385,7.76666667 12.0961667,7.398 11.8115,7.146 C11.5268333,6.894 11.1115,6.768 10.5655,6.768 C10.2575,6.768 9.97283333,6.82866667 9.7115,6.95 C9.45016667,7.07133333 9.23316667,7.244 9.0605,7.468 L9.0605,7.468 L9.6485,7.93 C9.75116667,7.804 9.88066667,7.7025 10.037,7.6255 C10.1933333,7.5485 10.3555,7.51 10.5235,7.51 C10.7708333,7.51 10.968,7.57066667 11.115,7.692 C11.262,7.81333333 11.3355,7.972 11.3355,8.168 L11.3355,8.168 L11.3355,8.322 C11.0741667,8.21466667 10.7591667,8.161 10.3905,8.161 C10.1245,8.161 9.88183333,8.21 9.6625,8.308 C9.44316667,8.406 9.2705,8.546 9.1445,8.728 C9.0185,8.91 8.9555,9.12 8.9555,9.358 C8.9555,9.71733333 9.07683333,10.0078333 9.3195,10.2295 C9.56216667,10.4511667 9.8725,10.562 10.2505,10.562 Z M10.4675,9.848 C10.2761667,9.848 10.1291667,9.8025 10.0265,9.7115 C9.92383333,9.6205 9.8725,9.50266667 9.8725,9.358 C9.8725,9.00333333 10.1105,8.826 10.5865,8.826 C10.8478333,8.826 11.0975,8.882 11.3355,8.994 C11.3355,9.22266667 11.2573333,9.42216667 11.101,9.5925 C10.9446667,9.76283333 10.7335,9.848 10.4675,9.848 Z",id:"Aa-Copy",fill:"#4285f4",fillRule:"nonzero"})));m();var rN=fr(Fr()),gFe=n=>rN.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},rN.createElement("title",null,"type-icon-projection"),rN.createElement("g",{id:"type-icon-projection",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},rN.createElement("path",{d:"M11.3362588,4 L11.3362588,12 L8,9.90676786 L4.6637412,12 L4.6637412,4 L11.3362588,4 Z M10.336,5 L5.663,5 L5.663,10.191 L8,8.72623637 L10.336,10.191 L10.336,5 Z",id:"Rectangle",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"})));m();var iN=fr(Fr()),yFe=n=>iN.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},iN.createElement("title",null,"type-icon-number"),iN.createElement("g",{id:"type-icon-number",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},iN.createElement("path",{d:"M12,7 L12,6 L10,6 L10,4 L9,4 L9,6 L7,6 L7,4 L6,4 L6,6 L4,6 L4,7 L6,7 L6,9 L4,9 L4,10 L6,10 L6,12 L7,12 L7,10 L9,10 L9,12 L10,12 L10,10 L12,10 L12,9 L10,9 L10,7 L12,7 Z M9,9 L7,9 L7,7 L9,7 L9,9 Z",id:"Shape-Copy-21",fill:"#ea8600",fillRule:"nonzero"})));var Id=({type:n,kind:e})=>{let t={width:"22px",height:"22px"};if(e==="measure")return v.createElement(yFe,{...t});if(n==="string")return v.createElement(xFe,{...t});if(n==="boolean")return v.createElement(pFe,{...t});if(n==="number")return v.createElement(mFe,{...t});if(n==="date")return v.createElement(rle,{...t});if(n==="timestamp")return v.createElement(rle,{...t});if(n==="query")return v.createElement(gFe,{...t});if(n==="source")return v.createElement(CH,{...t});throw new Error("Invalid icon type")};var n9=({searchTerm:n,items:e,topValues:t})=>{let r=e.map(s=>({item:s,rank:Uxt(s.terms,n)})).filter(({rank:s})=>s>0).sort(({rank:s},{rank:o})=>o-s);return{searchList:v.createElement(qxt,null,r.map(({item:s})=>{if(s.item.type==="field"){let o=s.item,a=Vh(s.item.field);return v.createElement(j4,{width:300,key:s.key,content:()=>v.createElement(Ho,{icon:v.createElement(Id,{type:a,kind:o.kind}),onClick:s.select,name:o.name,color:o.kind,detail:s.detail}),popoverContent:()=>v.createElement(B4,{fieldPath:o.path,topValues:t})})}else return v.createElement("div",null)}),r.length===0&&v.createElement(nc,null,"No results")),count:r.length}},$y=n=>{let{searchList:e}=n9(n);return e},qxt=Bn.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`;function Uxt(n,e){let t=e.split(" ").map(i=>i.trim()).filter(i=>i.length>0),r=0;for(let i of t)for(let s=0;s<n.length;s++){let o=n[s],a=n.length-s,l=o.split("_");o.toLowerCase().includes(i.toLowerCase())&&(r+=a),o.toLowerCase()===i.toLowerCase()&&(r+=a*10),o.toLowerCase().startsWith(i.toLowerCase())&&(r+=a*6),l.some(f=>f.toLowerCase().startsWith(i.toLowerCase()))&&(r+=a)}return r}m();m();var r9=fr(Fr());m();var zy=fr(Fr()),vFe=n=>zy.createElement("svg",{width:"25px",height:"25px",viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},zy.createElement("title",null,"malloy-icon-status-progress"),zy.createElement("defs",null,zy.createElement("circle",{id:"path-1",cx:7.5,cy:7.5,r:7.5}),zy.createElement("mask",{id:"mask-2",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox",x:0,y:0,width:15,height:15,fill:"white"},zy.createElement("use",{xlinkHref:"#path-1"}))),zy.createElement("g",{id:"malloy-icon-status-progress",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeDasharray:16},zy.createElement("use",{id:"Oval-Copy-3",stroke:"#4285F4",className:"primarystroke",mask:"url(#mask-2)",strokeWidth:3,transform:"translate(7.500000, 7.500000) rotate(-240.000000) translate(-7.500000, -7.500000) ",xlinkHref:"#path-1"})));var fp=({text:n})=>r9.default.createElement(Vxt,null,r9.default.createElement(Wxt,null,r9.default.createElement(Hxt,null,n),r9.default.createElement(_Fe,{size:25}))),_Fe=({size:n,color:e})=>r9.default.createElement(zxt,{size:n,color:e||"dimension",width:n+"px",height:n+"px"}),$xt=Fme`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,zxt=Bn(vFe)`
  ${({size:n,color:e})=>`
    width: ${n}px;
    height: ${n}px;

    .primarystroke {
      stroke: ${mi[e].fillStrong}
    }
  `}
  animation: ${$xt} 2s infinite linear;
`,Hxt=Bn.div`
  margin-bottom: 10px;
  color: #505050;
  font-size: 15px;
`,Vxt=Bn.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex: 1 0 auto;
  width: 100%;
  height: 100%;
`,Wxt=Bn.div`
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
`;var ef=({model:n,modelPath:e,actions:t,closeMenu:r,searchItems:i,valueSearchSource:s,topValues:o,addFilter:a})=>{let[l,f]=(0,ile.useState)(t.length===1&&t[0].kind==="sub_menu"?t[0]:void 0),[p,_]=(0,ile.useState)(""),{searchResults:E,isLoading:O}=Jb(n,e,s,p),R=E&&E.filter(ue=>ue.fieldType==="string").slice(0,100),q=i!==void 0,{searchList:z,count:L}=n9({searchTerm:p,items:i||[],topValues:o}),B=R?.length||0,P=L>0,G=B>0||O;return v.createElement(Gxt,null,l===void 0&&v.createElement(v.Fragment,null,q&&v.createElement(D1,null,v.createElement(cp,{value:p,setValue:_,placeholder:"Search",autoFocus:!0})),v.createElement(bFe,null,p===""&&v.createElement($l,null,v.createElement(Jxt,null,t.filter(ue=>ue.isEnabled!==!1).flatMap(ue=>{let I=[v.createElement(Yxt,{key:ue.id,color:ue.iconColor,onClick:()=>{ue.kind==="one_click"?(ue.onClick(),r()):f(ue)}},v.createElement(ta,{action:ue.iconName,color:ue.iconColor}),v.createElement(Kxt,null,ue.label))];return ue.divider&&I.push(v.createElement(Qxt,{key:ue.id+"/divider"})),I}))),p!==""&&v.createElement(v.Fragment,null,P&&v.createElement(rc,{style:{borderBottom:P?"1px solid #efefef":"",maxHeight:G?"200px":"300px"}},v.createElement($l,null,z)),G&&s&&v.createElement(rc,{style:{borderBottom:"1px solid #efefef",maxHeight:P?"200px":"300px"}},v.createElement($l,null,R&&R.length>0&&R.map((ue,I)=>v.createElement(Ho,{key:I,name:ue.fieldValue,detail:ue.fieldName,icon:v.createElement(ta,{action:"filter"}),color:"filter",onClick:()=>{Vx(s,`${ue.fieldName} = '${ue.fieldValue}'`).then(J=>{a&&a(J),r()})}})),R!==void 0&&R.length===0&&v.createElement(nc,null,"No value results"),O&&v.createElement(nc,null,v.createElement(fp,{text:"Loading value results..."})))),!G&&!P&&v.createElement(nc,null,"No results")))),l!==void 0&&v.createElement(v.Fragment,null,v.createElement(bFe,null,l.Component({onComplete:()=>{l.closeOnComplete?r():f(void 0)}}))))},Qxt=Bn.div`
  width: calc(100% + 20px);
  margin: 5px -10px;
  border-bottom: 1px solid #efefef;
`,Gxt=Bn.div``,Yxt=Bn.button`
  border: none;
  background-color: transparent;
  border-radius: 50px;
  padding: 4px 7px;
  text-align: left;
  font-size: 14px;
  cursor: pointer;
  width: 100%;
  display: flex;
  justify-content: flex-start;
  gap: 10px;
  align-items: center;
  font-family: "Roboto Mono";
  color: #353535;

  ${({color:n})=>`
    &:hover {
      background-color: ${mi[n].fillLight};
    }
  `}
`,Kxt=Bn.div``,Jxt=Bn.div`
  display: flex;
  flex-direction: column;
  gap: 2px;
`,bFe=Bn.div`
  flex-direction: column;
  display: flex;
`;m();m();var Zb=fr(Fr());m();m();var i9=fr(Fr());var xl=({value:n,setValue:e,placeholder:t,label:r,autoFocus:i,autoSelect:s})=>{let o=(0,i9.useRef)(null);return(0,i9.useEffect)(()=>{s&&o.current&&o.current.select()},[s]),v.createElement($m,null,r&&v.createElement(lp,null,r),v.createElement(Xxt,{ref:o,placeholder:t,value:n,onChange:a=>e(a.target.value),autoFocus:i,type:"text"}))},Xxt=Bn.input`
  font-family: "Roboto Mono";
  font-size: 14px;
  border-radius: 5px;
  border: 1px solid #efefef;
  padding: 5px 10px;
  outline: none;
  width: calc(100% - 22px);

  &:focus {
    border-color: #4285f4;
  }
`,sN=({value:n,setValue:e,placeholder:t,label:r,autoFocus:i,autoSelect:s,rows:o=1,cols:a})=>{let l=(0,i9.useRef)(null);return(0,i9.useEffect)(()=>{s&&l.current&&l.current.select()},[s]),v.createElement($m,null,r&&v.createElement(lp,null,r),v.createElement(Zxt,{ref:l,placeholder:t,value:n,onChange:f=>e(f.target.value),autoFocus:i,rows:o,cols:a}))},Zxt=Bn.textarea`
  font-family: "Roboto Mono";
  font-size: 14px;
  border-radius: 5px;
  border: 1px solid #efefef;
  min-height: calc(1em + 5px);
  padding: 5px 10px;
  outline: none;
  resize: vertical;
  width: calc(100% - 22px);

  &:focus {
    border-color: #4285f4;
  }
`;m();var FFe=fr(Fr());m();var Hy=fr(Fr());var Gm=({values:n,setValues:e,autoFocus:t,placeholder:r,type:i="text",value:s,setValue:o,focusElement:a})=>{let[l,f]=(0,Hy.useState)(""),[p,_]=(0,Hy.useState)(!1),E=(0,Hy.useRef)(null),O=(0,Hy.useRef)(null),[R,q]=(0,Hy.useState)(void 0),z=s||l,L=o||f;(0,Hy.useEffect)(()=>{let P=G=>{if(G.key==="Backspace"){if(R!==void 0){let ue=[...n];ue.splice(R,1),e(ue),R===0?n.length===1?(q(void 0),E.current?.focus()):q(0):q(R-1)}}else G.key==="ArrowRight"?R===n.length-1?(q(void 0),E.current?.focus()):R!==void 0&&q(R+1):G.key==="ArrowLeft"?R!==void 0&&R>0&&q(R-1):E.current?.focus()};return window.addEventListener("keyup",P),()=>window.removeEventListener("keyup",P)});let B=()=>{z.length>0&&(e([...n,z]),L(""))};return k1(a?[O,a]:O,()=>{_(!1),B()}),v.createElement(egt,{onClick:()=>E.current?.focus(),isFocused:p||R!==void 0,ref:O},n.map((P,G)=>v.createElement(tgt,{key:G,isSelected:R===G,onClick:ue=>{q(G),ue.stopPropagation()}},P)),v.createElement(ngt,{ref:E,type:i,placeholder:n.length===0?r:"",value:z,size:1,onChange:P=>{L(P.target.value)},onKeyDown:P=>{P.key==="Enter"&&z!==""&&(B(),P.stopPropagation(),P.preventDefault())},onKeyUp:P=>{P.key==="Backspace"?z===""&&n.length>0&&(B(),E.current?.blur(),q(n.length-1)):P.key==="ArrowLeft"&&(E.current?.selectionStart===0||E.current?.selectionStart===null)&&(B(),E.current?.blur(),q(n.length-1),P.preventDefault(),P.stopPropagation())},onFocus:()=>{_(!0),q(void 0)},autoFocus:t}))},egt=Bn.div`
  font-family: Roboto;
  font-size: 14px;
  font-weight: normal;
  border-radius: 5px;
  border: 1px solid #efefef;
  padding: 2px 3px;
  outline: none;
  display: flex;
  overflow: hidden;
  gap: 3px;
  flex-wrap: wrap;

  ${({isFocused:n})=>n?"border-color: #4285F4;":""}
`,tgt=Bn.div`
  ${({isSelected:n})=>`
    border: 1px solid ${n?mi.dimension.fillStrong:mi.dimension.fillMedium};
    background-color: ${n?mi.dimension.fillMedium:mi.dimension.fillLight};
  `}

  border-radius: 5px;
  color: ${mi.dimension.fillStrong};
  display: flex;
  align-items: center;
  gap: 5px;
  padding: 1px 5px;
  text-transform: none;
  cursor: pointer;
  height: 20px;
`,ngt=Bn.input`
  border: none;
  outline: none;
  font-family: Roboto;
  font-size: 14px;
  min-width: 95px;
  padding: 3.75px 7px;
  flex-grow: 1;
`,kjt=Bn(WC)`
  cursor: pointer;
  ${({color:n})=>`
      .cross {
        fill: ${mi[n].fillStrong};
      }
    `}
`;m();m();var qH=fr(Fr());m();var jH=fr(Fr()),EFe=n=>jH.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,role:"img",...n},jH.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),jH.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}));var rgt=Bn.div`
  position: relative;
`,igt=Bn.button`
  background-color: transparent;
  font-size: 14px;
  border: 1px solid #efefef;
  border-radius: 4px;
  padding: 3px 10px;
  cursor: pointer;
  color: #5f6368;
  display: flex;
  justify-content: space-between;
  text-transform: none;
  align-items: center;
  font-family: Arial;
  &:hover {
    border: 1px solid #ececed;
  }
  :focus {
    box-shadow: none;
    border: 1px solid #4285f4;
    outline: none;
  }
  &[disabled] {
    cursor: default;
    background-color: #f6f6f6;
  }
  width: 100%;
`,SFe=Bn.label`
  padding: 0px 10px;
  height: 30px;
  cursor: pointer;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  color: #5f6368;
  display: flex;
  align-items: center;
  &:hover {
    background-color: ${mi.dimension.fillLight};
  }
`,wFe=Bn.span`
  margin-left: 8px;
`,sgt=Bn(EFe)`
  vertical-align: text-top;
  width: 20px;
  min-width: 20px;
  opacity: 70%;
  visibility: hidden;

  &.selected {
    visibility: visible;
  }
`,gl=({autoFocus:n,value:e,onChange:t,options:r,placeholder:i="Select",disabled:s=!1,valueEqual:o=(l,f)=>l===f,width:a=200})=>{let[l,f]=(0,qH.useState)(!1),p=(0,qH.useRef)(null),_=e!==void 0&&r.find(O=>o(O.value,e))?.label||i,E=O=>{t&&t(O),f(!1)};return k1(p,()=>{f(!1)}),v.createElement(rgt,{ref:p},v.createElement(igt,{type:"button",autoFocus:n,onClick:O=>{O.preventDefault(),O.stopPropagation(),s||f(!0)}},_,v.createElement(SH,{width:"22px",height:"22px"})),v.createElement(B1,{open:l,setOpen:f,placement:"bottom-start",width:a,maxHeight:500},v.createElement(UH,{options:r,value:e,valueEqual:o,onChange:E})))};function UH({options:n,value:e,onChange:t,valueEqual:r=(i,s)=>i===s}){return v.createElement(AFe,null,n.reduce((i,s,o)=>{let a=e!==void 0&&r(e,s.value);return s.divider&&i.push(v.createElement(TFe,{key:"divider"+o})),i.push(v.createElement(SFe,{key:o,onClick:()=>t(s.value),className:a?"selected":""},v.createElement(ogt,{type:"radio",defaultChecked:a}),v.createElement(sgt,{className:a?"selected":""}),v.createElement(wFe,null,s.label))),i},[]))}function CFe({options:n}){return v.createElement(AFe,null,n.reduce((e,t,r)=>(t.divider&&e.push(v.createElement(TFe,{key:"divider"+r})),e.push(v.createElement(SFe,{key:r,onClick:i=>t.onSelect(i)},v.createElement(wFe,null,t.label))),e),[]))}var ogt=Bn.input`
  width: 0;
  height: 0;
`,AFe=Bn.div`
  font-size: 14px;
  font-family: Roboto;
  text-transform: none;
  font-weight: normal;
  width: 100%;
  padding: 10px 0;
  overflow-y: auto;
  max-height: 400px;
`,TFe=Bn.div`
  border-top: 1px solid #ececec;
  width: 100%;
  margin: 0 10px;
  margin: 5px 0;
`;var DFe=({model:n,modelPath:e,source:t,filter:r,setFilter:i,fieldPath:s})=>{let o=z=>{i(JAe(r,z))},a=lgt(n,e,t,r,i,s),l=cgt(r,i),f=fgt(r,i),p=dgt(r,i),_=hgt(r,i),E=pgt(r,i),O=mgt(r,i),R=xgt(r,i),q=!!(a.util||l.util||f.util||p.util||_.util||E.util||O.util||R.util);return v.createElement("div",null,v.createElement(agt,null,v.createElement(gl,{value:r.type,onChange:o,options:[{value:"is_equal_to",label:"Is"},{value:"starts_with",label:"Starts with"},{value:"ends_with",label:"Ends with"},{value:"contains",label:"Contains"},{value:"is_blank",label:"Blank"},{value:"is_null",label:"Null"},{value:"is_not_equal_to",label:"Is not"},{value:"does_not_start_with",label:"Does not start with"},{value:"does_not_end_with",label:"Does not end with"},{value:"does_not_contain",label:"Does not contain"},{value:"is_not_blank",label:"Not blank"},{value:"is_not_null",label:"Not null"},{value:"custom",label:"Custom"}]}),a.builder,l.builder,f.builder,p.builder,_.builder,E.builder,O.builder,R.builder),q&&v.createElement(ugt,null,a.util,l.util,f.util,p.util,_.util,E.util,O.util,R.util))},agt=Bn.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  padding: 0 15px;
`,ugt=Bn.div`
  margin-top: 15px;
  border-top: 1px solid #efefef;
  border-bottom: 1px solid #efefef;
`;function lgt(n,e,t,r,i,s){let[o,a]=(0,FFe.useState)(""),{searchResults:l,isLoading:f}=Jb(n,e,t,o,s);if(r.type!=="is_equal_to"&&r.type!=="is_not_equal_to")return{builder:null,util:null};let p=v.createElement(Gm,{values:r.values,setValues:E=>i({...r,values:E}),placeholder:"Values...",value:o,setValue:a}),_=v.createElement(rc,null,v.createElement($l,null,l&&l.length>0&&l.map((E,O)=>v.createElement(Ho,{key:O,name:E.fieldValue,detail:RM(E.weight),icon:v.createElement(ta,{action:"filter"}),color:"filter",onClick:()=>{i({...r,values:[...r.values,E.fieldValue]}),a("")},fullDetail:!0})),l!==void 0&&l.length===0&&v.createElement(nc,null,"No value results"),f&&v.createElement(nc,null,v.createElement(fp,{text:"Loading value results..."}))));return{builder:p,util:_}}function cgt(n,e){return n.type!=="contains"?{builder:null,util:null}:{builder:v.createElement(Gm,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function fgt(n,e){return n.type!=="does_not_contain"?{builder:null,util:null}:{builder:v.createElement(Gm,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function dgt(n,e){return n.type!=="starts_with"?{builder:null,util:null}:{builder:v.createElement(Gm,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function hgt(n,e){return n.type!=="does_not_start_with"?{builder:null,util:null}:{builder:v.createElement(Gm,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function pgt(n,e){return n.type!=="ends_with"?{builder:null,util:null}:{builder:v.createElement(Gm,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function mgt(n,e){return n.type!=="does_not_end_with"?{builder:null,util:null}:{builder:v.createElement(Gm,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function xgt(n,e){return n.type!=="custom"?{builder:null,util:null}:{builder:v.createElement(xl,{value:n.partial,setValue:i=>e({type:"custom",partial:i}),placeholder:"!= null"}),util:null}}m();m();m();var $H=fr(Fr());var j1=({value:n,setValue:e,placeholder:t,label:r,autoFocus:i})=>{let[s,o]=(0,$H.useState)(n.toString());return(0,$H.useEffect)(()=>{o(n.toString())},[n]),v.createElement($m,null,r&&v.createElement(lp,null,r),v.createElement(ggt,{type:"number",placeholder:t,value:s,size:1,onChange:a=>{let l=a.target.value;o(l);let f=parseFloat(l);Number.isNaN(f)||e(f)},autoFocus:i}))},ggt=Bn.input`
  font-family: Roboto;
  font-size: 14px;
  border-radius: 5px;
  border: 1px solid #efefef;
  padding: 5.75px 10px;
  outline: none;
  width: calc(100% - 22px);

  &:focus {
    border-color: #4285f4;
    background-color: ${mi.dimension.fillLight};
  }
`;var OFe=({filter:n,setFilter:e})=>{let t=O=>{e(XAe(n,O))},r=v.createElement(gl,{value:n.type,onChange:t,options:[{value:"is_equal_to",label:"Equal to"},{value:"is_greater_than",label:"Greater than"},{value:"is_less_than",label:"Less than"},{value:"is_greater_than_or_equal_to",label:"Greater than or equal to"},{value:"is_less_than_or_equal_to",label:"Less than or equal to"},{value:"is_between",label:"Between"},{value:"is_null",label:"Null"},{value:"is_not_equal_to",label:"Not equal to"},{value:"is_not_null",label:"Not null"},{value:"custom",label:"Custom"}]}),i=vgt(n,e,r),s=_gt(n,e,r),o=bgt(n,e,r),a=Egt(n,e,r),l=Sgt(n,e,r),f=wgt(n,e,r),p=Cgt(n,e,r),_=Agt(n,e,r),E=n.type==="is_null"||n.type==="is_not_null"?v.createElement("div",{style:{width:"100%"}},r):null;return v.createElement(ygt,null,i.builder,s.builder,o.builder,a.builder,l.builder,f.builder,p.builder,_.builder,E)},ygt=Bn.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  padding: 0 15px;
  width: calc(100% - 30px);
`,oN=Bn.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  width: 100%;
`,zH=Bn.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  width: 100%;
`;function vgt(n,e,t){return n.type!=="is_equal_to"?{builder:null,util:null}:{builder:v.createElement(zH,null,t,v.createElement(Gm,{values:n.values.map(i=>i.toString()),setValues:i=>e({...n,values:i.map(s=>parseFloat(s))}),placeholder:"Values...",type:"number"}))}}function _gt(n,e,t){return n.type!=="is_not_equal_to"?{builder:null,util:null}:{builder:v.createElement(zH,null,t,v.createElement(Gm,{values:n.values.map(i=>i.toString()),setValues:i=>e({...n,values:i.map(s=>parseFloat(s))}),placeholder:"Values...",type:"number"}))}}function bgt(n,e,t){return n.type!=="is_greater_than"?{builder:null,util:null}:{builder:v.createElement(oN,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},t),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(j1,{value:n.value,setValue:i=>e({...n,value:i})})))}}function Egt(n,e,t){return n.type!=="is_less_than"?{builder:null,util:null}:{builder:v.createElement(oN,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},t),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(j1,{value:n.value,setValue:i=>e({...n,value:i})})))}}function Sgt(n,e,t){return n.type!=="is_greater_than_or_equal_to"?{builder:null,util:null}:{builder:v.createElement(oN,null,v.createElement("div",{style:{width:"80%",flexShrink:1}},t),v.createElement("div",{style:{width:"20%",flexShrink:1}},v.createElement(j1,{value:n.value,setValue:i=>e({...n,value:i})})))}}function wgt(n,e,t){return n.type!=="is_less_than_or_equal_to"?{builder:null,util:null}:{builder:v.createElement(oN,null,v.createElement("div",{style:{width:"70%",flexShrink:1}},t),v.createElement("div",{style:{width:"30%",flexShrink:1}},v.createElement(j1,{value:n.value,setValue:i=>e({...n,value:i})})))}}function Cgt(n,e,t){return n.type!=="is_between"?{builder:null,util:null}:{builder:v.createElement(zH,null,t,v.createElement(oN,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(j1,{value:n.lowerBound,setValue:i=>e({...n,lowerBound:i})})),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(j1,{value:n.upperBound,setValue:i=>e({...n,upperBound:i})}))))}}function Agt(n,e,t){return n.type!=="custom"?{builder:null,util:null}:{builder:v.createElement(zH,null,t,v.createElement(xl,{value:n.partial,setValue:i=>e({type:"custom",partial:i}),placeholder:"!= null"}))}}m();var Vy=fr(Fr());m();m();var HH=fr(ole()),VH=fr(Fr());var aN=({value:n,setValue:e,placeholder:t,label:r,autoFocus:i,granularity:s,onFocus:o,onBlur:a,isActive:l})=>{let f=s==="year"?"YYYY":s==="month"?"YYYY-MM":s==="quarter"?"YYYY-[Q]Q":s==="week"?"[WK]YYYY-MM-DD":s==="day"?"YYYY-MM-DD":s==="hour"?"YYYY-MM-DD HH:00":s==="minute"?"YYYY-MM-DD HH:mm":"YYYY-MM-DD HH:mm:ss",[p,_]=(0,VH.useState)((0,HH.default)(n).format(f));return(0,VH.useEffect)(()=>{_((0,HH.default)(n).format(f))},[n,f]),v.createElement($m,null,r&&v.createElement(lp,null,r),v.createElement(Tgt,{type:"text",placeholder:t||f,value:p,onFocus:o,onBlur:a,isActive:l,onChange:E=>{let O=E.target.value;_(O);let R=s==="year"?/\d\d\d\d/:s==="month"?/\d\d-\d\d\d\d/:s==="quarter"?/\d\d\d\d-Q\d/:s==="week"?/WK\d\d-\d\d-\d\d\d\d/:s==="day"?/\d\d-\d\d-\d\d\d\d/:s==="hour"?/\d\d-\d\d-\d\d\d\d \d\d:00/:s==="minute"?/\d\d-\d\d-\d\d\d\d \d\d:\d\d/:/\d\d-\d\d-\d\d\d\d \d\d:\d\d:\d\d/;if(O.match(R)){let q=(0,HH.default)(O,f);q.isValid()&&e(q.toDate())}},autoFocus:i}))},Tgt=Bn.input`
  font-family: Roboto;
  font-size: 14px;
  border-radius: 5px;
  padding: 5.75px 10px;
  outline: none;
  width: calc(100% - 22px);

  ${({isActive:n})=>`
    border: 1px solid ${n?mi.dimension.fillStrong:"#efefef"};
    background-color: ${n?mi.dimension.fillLight:"white"};
    color: ${n?mi.dimension.fillStrong:"#505050"};
  `}

  &:focus {
    border-color: #4285f4;
    background-color: ${mi.dimension.fillLight};
  }
`;m();m();var o9=fr(Fr()),Vo=fr(ole());function RFe(n){return["year","quarter","month","week","day","hour","minute","second"].indexOf(n)}function Fgt(n){return["January","February","March","April","May","June","July","August","September","October","November","December"][n]}var WH=({value:n,setValue:e,maxLevel:t})=>{let[r,i]=(0,o9.useState)(n),s=Hgt(r),[o,a]=(0,o9.useState)(t),l=Math.floor((0,Vo.default)(r).year()/10)*10;(0,o9.useEffect)(()=>{(RFe(t)<RFe(o)||o==="quarter"&&t!=="quarter"||o==="week"&&t!=="week")&&a(t)},[t,o]),(0,o9.useEffect)(()=>{i(n)},[n]);let f=L=>{let B=(0,Vo.default)(r).year(L).toDate();i(B),e(B),t!=="year"&&a(t==="quarter"?"quarter":"month")},p=L=>{let B=()=>f(l+L);return L===-1||L===10?v.createElement(jgt,{onClick:B,isSelected:!1},l+L):v.createElement(LFe,{onClick:B,isSelected:(0,Vo.default)(r).year()===l+L},l+L)},_=L=>{let B=(0,Vo.default)(r).month(L).toDate();i(B),e(B),t!=="month"&&a(t==="week"?"week":"day")},E=L=>{i(L),e(L),t!=="day"&&a(t)},O=L=>{i(L),e(L),t!=="week"&&a("day")},R=L=>{let B=(0,Vo.default)(r).quarter(L+1).toDate();i(B),e(B)},q=L=>v.createElement(Pgt,{onClick:()=>_(L),isSelected:(0,Vo.default)(r).month()===L&&(0,Vo.default)(r).year()===(0,Vo.default)(n).year()},Fgt(L)),z=L=>v.createElement(Mgt,{onClick:()=>R(L),isSelected:(0,Vo.default)(r).quarter()-1===L&&(0,Vo.default)(r).year()===(0,Vo.default)(n).year()},"Q",L+1);return v.createElement(Dgt,null,v.createElement(Ogt,null,v.createElement(NFe,null,v.createElement(G9e,{onClick:()=>{o==="day"||o==="week"?i((0,Vo.default)(r).subtract(1,"month").toDate()):o==="month"||o==="quarter"?i((0,Vo.default)(r).subtract(1,"year").toDate()):o==="year"?i((0,Vo.default)(r).subtract(10,"years").toDate()):E((0,Vo.default)(r).subtract(1,"days").toDate())}})),v.createElement(Rgt,{onClick:()=>{o==="day"||o==="week"?a("month"):o==="month"||o==="quarter"?a("year"):(o==="hour"||o==="minute"||o==="second")&&a("day")}},(o==="day"||o==="week")&&(0,Vo.default)(r).format("MMMM YYYY"),(o==="month"||o==="quarter")&&(0,Vo.default)(r).format("YYYY"),o==="year"&&v.createElement(v.Fragment,null,l,"-",l+9),(o==="hour"||o==="minute"||o==="second")&&v.createElement(v.Fragment,null,(0,Vo.default)(r).format("MMMM D, YYYY"))),v.createElement(NFe,null,v.createElement(Y9e,{onClick:()=>{o==="day"||o==="week"?i((0,Vo.default)(r).add(1,"month").toDate()):o==="month"||o==="quarter"?i((0,Vo.default)(r).add(1,"year").toDate()):o==="year"?i((0,Vo.default)(r).add(10,"years").toDate()):E((0,Vo.default)(r).add(1,"days").toDate())}}))),o==="day"&&v.createElement(kFe,null,v.createElement(IFe,null,v.createElement(wh,null,"S"),v.createElement(wh,null,"M"),v.createElement(wh,null,"T"),v.createElement(wh,null,"W"),v.createElement(wh,null,"T"),v.createElement(wh,null,"F"),v.createElement(wh,null,"S")),s.map((L,B)=>v.createElement(qgt,{key:B},L.map(P=>v.createElement(zgt,{key:P.number,isCurrentMonth:P.isCurrentMonth,onClick:()=>{E(P.date)},isSelected:n.getTime()===P.date.valueOf()},P.number))))),o==="month"&&v.createElement(Ngt,null,v.createElement(QH,null,q(0),q(1),q(2)),v.createElement(QH,null,q(3),q(4),q(5)),v.createElement(QH,null,q(6),q(7),q(8)),v.createElement(QH,null,q(9),q(10),q(11))),o==="year"&&v.createElement(Bgt,null,v.createElement(GH,null,p(-1),p(0),p(1)),v.createElement(GH,null,p(2),p(3),p(4)),v.createElement(GH,null,p(5),p(6),p(7)),v.createElement(GH,null,p(8),p(9),p(10))),o==="quarter"&&v.createElement(Igt,null,z(0),z(1),z(2),z(3)),o==="week"&&v.createElement(kFe,null,v.createElement(IFe,null,v.createElement(wh,null,"S"),v.createElement(wh,null,"M"),v.createElement(wh,null,"T"),v.createElement(wh,null,"W"),v.createElement(wh,null,"T"),v.createElement(wh,null,"F"),v.createElement(wh,null,"S")),s.map((L,B)=>v.createElement(Ugt,{key:B,onClick:()=>{O(L[0].date)},isSelected:n.getTime()===L[0].date.valueOf()},L.map(P=>v.createElement($gt,{key:P.number,isCurrentMonth:P.isCurrentMonth},P.number))))),(o==="hour"||o==="minute"||o==="second")&&v.createElement(Lgt,null,v.createElement(kgt,null,v.createElement(Sh,null,v.createElement(j1,{label:"Hours",value:parseInt((0,Vo.default)(r).format("hh")),setValue:L=>{let B=(0,Vo.default)(r).hour()>=12?"PM":"AM",P=parseInt((0,Vo.default)(`${L} ${B}`,["hh A"]).format("H"));e((0,Vo.default)(r).hour(P).toDate())}})),(t==="minute"||t==="second")&&v.createElement(Sh,null,v.createElement(j1,{label:"Minutes",value:(0,Vo.default)(r).minutes(),setValue:L=>{e((0,Vo.default)(r).minute(L).toDate())}})),t==="second"&&v.createElement(Sh,null,v.createElement(j1,{label:"Seconds",value:(0,Vo.default)(r).seconds(),setValue:L=>{e((0,Vo.default)(r).second(L).toDate())}})),v.createElement("div",{style:{display:"flex",justifyContent:"flex-end",flexDirection:"column"}},v.createElement(gl,{value:(0,Vo.default)(r).hour()>=12?"PM":"AM",onChange:L=>{let B=parseInt((0,Vo.default)(r).format("h")),P=parseInt((0,Vo.default)(`${B} ${L}`,["hh A"]).format("H"));e((0,Vo.default)(r).hour(P).toDate())},options:[{value:"AM",label:"AM"},{value:"PM",label:"PM"}]})))))},Dgt=Bn.div`
  user-select: none;
  font-size: 14px;
  font-family: Roboto;
`,Ogt=Bn.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  gap: 5px;
  margin-bottom: 5px;
`,NFe=Bn.div`
  border-radius: 5px;
  padding-top: 2px;
  padding-left: 4px;
  padding-right: 4px;
  cursor: pointer;

  &:hover {
    background-color: #efefef;
  }
`,Rgt=Bn.div`
  border-radius: 5px;
  padding: 4px;
  padding-top: 5px;
  flex-grow: 1;
  text-align: center;
  cursor: pointer;
  text-transform: none;
  font-weight: normal;

  &:hover {
    background-color: #efefef;
  }
`,Ngt=Bn.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 209.5px;
`,Lgt=Bn.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 90px;
`,kgt=Bn.div`
  display: flex;
  flex-direction: row;
  user-select: none;
  justify-content: space-around;
  gap: 10px;
`,Igt=Bn.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 209.5px;
`,QH=Bn.div`
  display: flex;
  flex-direction: row;
  gap: 2px;
  justify-content: space-between;
`,Mgt=Bn.div`
  width: calc(100% - 22px);
  padding: 5px 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #efefef;
  color: #505050;
  cursor: pointer;
  text-transform: none;
  border-radius: 5px;
  font-weight: normal;

  &:hover {
    background-color: ${mi.dimension.fillLight};
    border-color: ${mi.dimension.fillMedium};
  }

  ${({isSelected:n})=>n?`
      background-color: ${mi.dimension.fillLight};
      border-color: ${mi.dimension.fillMedium};
    `:""}
`,Pgt=Bn.div`
  width: 60px;
  min-width: 60px;
  max-width: 60px;
  padding: 5px 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #efefef;
  color: #505050;
  cursor: pointer;
  text-transform: none;
  border-radius: 5px;
  font-weight: normal;

  &:hover {
    background-color: ${mi.dimension.fillLight};
    border-color: ${mi.dimension.fillMedium};
  }

  ${({isSelected:n})=>n?`
      background-color: ${mi.dimension.fillLight};
      border-color: ${mi.dimension.fillMedium};
    `:""}
`,Bgt=Bn.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 209.5px;
`,GH=Bn.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  gap: 2px;
`,LFe=Bn.div`
  width: 60px;
  min-width: 60px;
  max-width: 60px;
  padding: 5px 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #efefef;
  color: #505050;
  font-weight: normal;
  cursor: pointer;
  text-transform: none;
  border-radius: 5px;

  &:hover {
    background-color: ${mi.dimension.fillLight};
    border-color: ${mi.dimension.fillMedium};
  }

  ${({isSelected:n})=>n?`
      background-color: ${mi.dimension.fillLight};
      border-color: ${mi.dimension.fillMedium};
    `:""}
`,jgt=Bn(LFe)`
  color: #909090;
`,kFe=Bn.div`
  display: flex;
  flex-direction: column;
  gap: 2px;
  user-select: none;
`,IFe=Bn.div`
  display: flex;
  flex-direction: row;
  gap: 2px;
  justify-content: space-between;
`,qgt=Bn.div`
  display: flex;
  flex-direction: row;
  gap: 2px;
  justify-content: space-between;
`,Ugt=Bn.div`
  display: flex;
  cursor: pointer;
  flex-direction: row;
  gap: 2px;
  border-radius: 50px;
  justify-content: space-between;
  border: 1px solid transparent;

  ${({isSelected:n})=>n?`
    background-color: ${mi.dimension.fillLight};
    color:  ${mi.dimension.fillStrong};
    border-color: ${mi.dimension.fillMedium};
  `:`
    &:hover {
      background-color: ${mi.dimension.fillLight};
    }
  `}
`,ale=Bn.div`
  width: 16.5px;
  height: 16.5px;
  min-width: 16.5px;
  max-width: 16.5px;
  padding: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
`,wh=Bn(ale)`
  font-weight: bold;
  color: #505050;
`,$gt=Bn(ale)`
  cursor: pointer;
  border-radius: 50px;
  font-size: 12px;
  ${({isCurrentMonth:n})=>`
    color: ${n?"#505050":"#909090"};
  `}
`,zgt=Bn(ale)`
  cursor: pointer;
  border-radius: 50px;
  font-size: 12px;
  border: 1px solid transparent;
  ${({isCurrentMonth:n,isSelected:e})=>`
    color: ${n?"#505050":"#909090"};
    ${e?`
      background-color: ${mi.dimension.fillLight};
      color:  ${mi.dimension.fillStrong};
      border-color: ${mi.dimension.fillMedium};
    `:`
      &:hover {
        background-color: ${mi.dimension.fillLight};
      }
    `}
  `}
`;function Hgt(n){let e=(0,Vo.default)(n).date(1),t=e.day(),r=e.daysInMonth(),i=e.clone().subtract(1,"day").daysInMonth(),s=[];for(let o=0;o<6;o++){let a=[];for(let l=0;l<7;l++)if(o===0&&l<t){let f=t-l;a.push({number:i-f+1,date:e.clone().subtract(f,"days").toDate(),isCurrentMonth:!1})}else{let f=o*7+l-t;f<r?a.push({number:f+1,date:e.clone().add(f,"days").toDate(),isCurrentMonth:!0}):a.push({number:f-r+1,date:e.clone().add(f,"days").toDate(),isCurrentMonth:!1})}s.push(a)}return s}var MFe=({filter:n,setFilter:e,type:t})=>{let r=E=>{e(ZAe(n,E))},i=v.createElement(gl,{value:n.type,onChange:r,options:[{value:"is_in_the_past",label:"Past"},{value:"is_last",label:"Last"},{value:"is_this",label:"This"},{value:"is_on",label:"On"},{value:"is_after",label:"After"},{value:"is_before",label:"Before"},{value:"is_between",label:"Between"},{value:"is_null",label:"Null"},{value:"is_not_null",label:"Not null"},{value:"custom",label:"Custom"}]}),s=Qgt(n,e,t,i),o=Kgt(n,e,t,i),a=Ggt(n,e,t,i),l=Ygt(n,e,t,i),f=Jgt(n,e,i),p=n.type==="is_null"||n.type==="is_not_null"?v.createElement("div",{style:{width:"100%"}},i):null,_=s.util||l.util||f.util||a.util||o.util;return v.createElement("div",null,v.createElement(Vgt,null,s.builder,l.builder,f.builder,a.builder,o.builder,p),_&&v.createElement(Wgt,null,s.util,l.util,f.util,a.util,o.util))},Vgt=Bn.div`
  padding: 0 15px;
`,Wgt=Bn.div`
  border-top: 1px solid #efefef;
  padding: 15px;
  margin-top: 10px;
  padding-bottom: 0;
`,a9=Bn.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  width: 100%;
`,ule=Bn.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  width: 100%;
`;function Qgt(n,e,t,r){if(n.type!=="is_in_the_past")return{builder:null,util:null};let i=[{value:"years",label:"Years"},{value:"quarters",label:"Quarters"},{value:"months",label:"Months"},{value:"weeks",label:"Weeks"},{value:"days",label:"Days"}];return t==="timestamp"&&i.push({value:"hours",label:"Hours"},{value:"minutes",label:"Minutes"},{value:"seconds",label:"Seconds"}),{builder:v.createElement(a9,null,v.createElement("div",{style:{width:"30%",flexShrink:1}},r),v.createElement("div",{style:{width:"30%",flexShrink:1}},v.createElement(xl,{value:n.amount.toString(),setValue:a=>e({...n,amount:parseFloat(a)})})),v.createElement("div",{style:{width:"40%",flexShrink:1}},v.createElement(gl,{value:n.unit,options:i,onChange:a=>e({...n,unit:a})}))),util:null}}function Ggt(n,e,t,r){if(n.type!=="is_this"&&n.type!=="is_last")return{builder:null,util:null};let i=[{value:"year",label:"Year"},{value:"quarter",label:"Quarter"},{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}];return t==="timestamp"&&i.push({value:"hour",label:"Hour"},{value:"minute",label:"Minute"},{value:"second",label:"Second"}),{builder:v.createElement(a9,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},r),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(gl,{value:n.period,options:i,onChange:a=>e({...n,period:a})}))),util:null}}function Ygt(n,e,t,r){let[i,s]=(0,Vy.useState)(!1),o=(0,Vy.useRef)(null),a=(0,Vy.useRef)(null);if(k1([o,a],()=>s(!1)),n.type!=="is_on"&&n.type!=="is_after"&&n.type!=="is_before")return{builder:null,util:null};let l=[{value:"year",label:"Year"},{value:"quarter",label:"Quarter"},{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}];t==="timestamp"&&l.push({value:"hour",label:"Hour"},{value:"minute",label:"Minute"},{value:"second",label:"Second"});let f=t==="date"&&(n.granularity==="second"||n.granularity==="minute"||n.granularity==="hour")?"day":n.granularity,p=v.createElement(ule,null,v.createElement(a9,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},r),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(gl,{value:n.granularity,options:l,onChange:E=>e({...n,granularity:E})}))),v.createElement(a9,null,v.createElement("div",{ref:o,style:{width:"100%",flexShrink:1}},v.createElement(aN,{value:n.date,setValue:E=>e({...n,date:E}),granularity:f,onFocus:()=>s(!0),isActive:i})))),_=i?v.createElement("div",{ref:a},v.createElement(WH,{value:n.date,setValue:E=>e({...n,date:E}),maxLevel:f})):null;return{builder:p,util:_}}function Kgt(n,e,t,r){let[i,s]=(0,Vy.useState)(void 0),o=(0,Vy.useRef)(null),a=(0,Vy.useRef)(null),l=(0,Vy.useRef)(null);if(k1([o,a,l],()=>{s(void 0)}),n.type!=="is_between")return{builder:null,util:null};let f=[{value:"year",label:"Year"},{value:"quarter",label:"Quarter"},{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}];t==="timestamp"&&f.push({value:"hour",label:"Hour"},{value:"minute",label:"Minute"},{value:"second",label:"Second"});let p=t==="date"&&(n.granularity==="second"||n.granularity==="minute"||n.granularity==="hour")?"day":n.granularity,_=v.createElement(ule,null,v.createElement(a9,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},r),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(gl,{value:n.granularity,options:f,onChange:O=>e({...n,granularity:O})}))),v.createElement(a9,null,v.createElement("div",{ref:o},v.createElement(aN,{value:n.start,setValue:O=>e({...n,start:O}),granularity:p,onFocus:()=>s({key:"start",date:n.start,setValue:O=>e({...n,start:O})}),isActive:i?.key==="start"})),v.createElement("div",{ref:a},v.createElement(aN,{value:n.end,setValue:O=>e({...n,end:O}),granularity:p,onFocus:()=>s({key:"end",date:n.end,setValue:O=>e({...n,end:O})}),isActive:i?.key==="end"})))),E=i?v.createElement("div",{ref:l},v.createElement(WH,{key:i.key,value:i.date,setValue:i.setValue,maxLevel:p})):null;return{builder:_,util:E}}function Jgt(n,e,t){return n.type!=="custom"?{builder:null,util:null}:{builder:v.createElement(ule,null,t,v.createElement(xl,{value:n.partial,setValue:s=>e({type:"custom",partial:s}),placeholder:"!= null"})),util:null}}m();var PFe=({filter:n,setFilter:e})=>{let t=o=>{e(eTe(n,o))},r=v.createElement(gl,{value:n.type,onChange:t,options:[{value:"is_true",label:"True"},{value:"is_false",label:"False"},{value:"is_null",label:"Null"},{value:"is_not_null",label:"Not null"},{value:"is_true_or_null",label:"True or null"},{value:"is_false_or_null",label:"False or null"},{value:"custom",label:"Custom"}]}),i=eyt(n,e,r),s=n.type!=="custom"?v.createElement("div",{style:{width:"100%"}},r):null;return v.createElement(Xgt,null,i.builder,s)},Xgt=Bn.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  padding: 0 15px;
  width: calc(100% - 30px);
`,Zgt=Bn.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  width: 100%;
`;function eyt(n,e,t){return n.type!=="custom"?{builder:null,util:null}:{builder:v.createElement(Zgt,null,t,v.createElement(xl,{value:n.partial,setValue:i=>e({type:"custom",partial:i}),placeholder:"!= null"}))}}var eE=({model:n,modelPath:e,source:t,field:r,addFilter:i,needsRename:s,onComplete:o,fieldPath:a,initial:l})=>{let f=Vh(r),p=Up(r),[_,E]=(0,Zb.useState)((f==="string"&&l)??{type:"is_equal_to",values:[]}),[O,R]=(0,Zb.useState)((f==="number"&&l)??{type:"is_equal_to",values:[]}),[q,z]=(0,Zb.useState)(((f==="date"||f==="timestamp")&&l)??{type:"is_on",date:new Date,granularity:"day"}),[L,B]=(0,Zb.useState)((f==="boolean"&&l)??{type:"is_true"}),[P,G]=(0,Zb.useState)(f==="string"?Sue(a,_):f==="number"?Eue(a,O):f==="date"||f==="timestamp"?Cue(a,q):f==="boolean"?wue(a,L):""),[ue,I]=(0,Zb.useState)("");return v.createElement("div",null,v.createElement("form",null,v.createElement(Tc,{style:{padding:"15px",paddingBottom:0}},"Filter",v.createElement(eH,null,v.createElement(FC,{color:"dimension"},v.createElement(Id,{type:f,kind:p})),v.createElement(nH,null,r.name))),s&&v.createElement(tyt,null,v.createElement(Sh,null,v.createElement(xl,{value:ue,setValue:I,placeholder:"field name",label:"Field Name",autoFocus:!0}),v.createElement(lp,null,"Filter"))),f==="string"&&v.createElement(DFe,{modelPath:e,model:n,source:t,fieldPath:a,filter:_,setFilter:J=>{E(J),G(Sue(a,J))}}),f==="boolean"&&v.createElement(PFe,{filter:L,setFilter:J=>{B(J),G(wue(a,J))}}),f==="number"&&v.createElement(OFe,{filter:O,setFilter:J=>{R(J),G(Eue(a,J))}}),(f==="date"||f==="timestamp")&&v.createElement(MFe,{type:f,filter:q,setFilter:J=>{z(J),G(Cue(a,J))}}),v.createElement(Eh,{style:{padding:"0 15px 15px 15px"}},v.createElement(Ga,{type:"button",color:"secondary",onClick:o},"Cancel"),v.createElement(Ga,{onClick:J=>{Vx(t,P).then(he=>{i(he,ue||void 0),o()}).catch(console.log),J.stopPropagation(),J.preventDefault()}},"Save"))))},tyt=Bn.div`
  margin: 15px;
  margin-top: 0;
  margin-bottom: 10px;
`;m();m();var YH=fr(Fr());var uN=({source:n,addDimension:e,onComplete:t,initialCode:r,initialName:i})=>{let[s,o]=(0,YH.useState)(r||""),[a,l]=(0,YH.useState)(i||""),[f,p]=(0,YH.useState)(),_=r===void 0;return v.createElement(Fc,null,v.createElement(Tc,null,_?"New":"Edit"," Dimension"),v.createElement("form",null,v.createElement(Sh,null,_&&v.createElement(xl,{value:a,setValue:l,placeholder:"field name",label:"Field Name",autoFocus:!0}),v.createElement(xl,{value:s,setValue:o,placeholder:"some_field * 10",label:_?"Definition":void 0})),v.createElement(rH,{error:f}),v.createElement(Eh,null,v.createElement(Ga,{type:"button",color:"secondary",onClick:t},"Cancel"),v.createElement(Ga,{onClick:E=>{E.stopPropagation(),E.preventDefault(),uFe(n,a,s).then(O=>{e(O),t()}).catch(p)}},"Save"))))};m();m();m();m();var lN=fr(Fr()),BFe=n=>lN.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},lN.createElement("title",null,"viz_table"),lN.createElement("g",{id:"viz_table",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},lN.createElement("path",{d:"M81.0526316,23 L28.9473684,23 C25.1263158,23 22,26.1662162 22,30.036036 L22,79.2882883 C22,83.1581081 25.1263158,86.3243243 28.9473684,86.3243243 L81.0526316,86.3243243 C84.8736842,86.3243243 88,83.1581081 88,79.2882883 L88,30.036036 C88,26.1662162 84.8736842,23 81.0526316,23 Z M80.8648649,30.1351351 L80.8648649,40.8378378 L28.2432432,40.8378378 L28.2432432,30.1351351 L80.8648649,30.1351351 Z M63.9189189,79.1891892 L46.0810811,79.1891892 L46.0810811,47.972973 L63.9189189,47.972973 L63.9189189,79.1891892 Z M28.2432432,47.972973 L38.9459459,47.972973 L38.9459459,79.1891892 L28.2432432,79.1891892 L28.2432432,47.972973 Z M71.0540541,79.1891892 L71.0540541,47.972973 L81.7567568,47.972973 L81.7567568,79.1891892 L71.0540541,79.1891892 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"})));m();var tE=fr(Fr()),jFe=n=>tE.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},tE.createElement("title",null,"viz_dashboard"),tE.createElement("g",{id:"viz_dashboard",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},tE.createElement("g",{id:"dashboard_black_24dp",transform:"translate(13.000000, 13.000000)"},tE.createElement("path",{d:"M5,0 L80,0 C82.7614237,-5.07265313e-16 85,2.23857625 85,5 L85,80 C85,82.7614237 82.7614237,85 80,85 L5,85 C2.23857625,85 3.38176876e-16,82.7614237 0,80 L0,5 C-3.38176876e-16,2.23857625 2.23857625,5.07265313e-16 5,0 Z",id:"Path"}),tE.createElement("path",{d:"M67,18 L67,25 L53,25 L53,18 L67,18 M32,18 L32,39 L18,39 L18,18 L32,18 M67,46 L67,67 L53,67 L53,46 L67,46 M32,60 L32,67 L18,67 L18,60 L32,60 M69,11 L51,11 C48.2385763,11 46,13.2385763 46,16 L46,27 C46,29.7614237 48.2385763,32 51,32 L69,32 C71.7614237,32 74,29.7614237 74,27 L74,16 C74,13.2385763 71.7614237,11 69,11 Z M34,11 L16,11 C13.2385763,11 11,13.2385763 11,16 L11,41 C11,43.7614237 13.2385763,46 16,46 L34,46 C36.7614237,46 39,43.7614237 39,41 L39,16 C39,13.2385763 36.7614237,11 34,11 Z M69,39 L51,39 C48.2385763,39 46,41.2385763 46,44 L46,69 C46,71.7614237 48.2385763,74 51,74 L69,74 C71.7614237,74 74,71.7614237 74,69 L74,44 C74,41.2385763 71.7614237,39 69,39 Z M34,53 L16,53 C13.2385763,53 11,55.2385763 11,58 L11,69 C11,71.7614237 13.2385763,74 16,74 L34,74 C36.7614237,74 39,71.7614237 39,69 L39,58 C39,55.2385763 36.7614237,53 34,53 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"}))));m();var Wy=fr(Fr()),qFe=n=>Wy.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Wy.createElement("title",null,"viz_text"),Wy.createElement("g",{id:"viz_text",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Wy.createElement("rect",{id:"Rectangle-Copy",stroke:"#9aa0a6",strokeWidth:6,x:15.5,y:35,width:79,height:40,rx:5}),Wy.createElement("g",{id:"abc",transform:"translate(33.090000, 44.134000)",fill:"#9aa0a6",fillRule:"nonzero"},Wy.createElement("path",{d:"M4.81,19.032 C3.406,19.032 2.25333333,18.6203333 1.352,17.797 C0.450666667,16.9736667 0,15.8946667 0,14.56 C0,13.676 0.234,12.896 0.702,12.22 C1.17,11.544 1.81133333,11.024 2.626,10.66 C3.44066667,10.296 4.342,10.114 5.33,10.114 C6.69933333,10.114 7.86933333,10.3133333 8.84,10.712 L8.84,10.14 C8.84,9.412 8.567,8.82266667 8.021,8.372 C7.475,7.92133333 6.74266667,7.696 5.824,7.696 C5.2,7.696 4.59766667,7.839 4.017,8.125 C3.43633333,8.411 2.95533333,8.788 2.574,9.256 L0.39,7.54 C1.03133333,6.708 1.83733333,6.06666667 2.808,5.616 C3.77866667,5.16533333 4.836,4.94 5.98,4.94 C8.008,4.94 9.55066667,5.408 10.608,6.344 C11.6653333,7.28 12.194,8.64933333 12.194,10.452 L12.194,18.616 L8.84,18.616 L8.84,17.264 L8.632,17.264 C8.23333333,17.784 7.709,18.2086667 7.059,18.538 C6.409,18.8673333 5.65933333,19.032 4.81,19.032 Z M5.616,16.38 C6.604,16.38 7.38833333,16.0636667 7.969,15.431 C8.54966667,14.7983333 8.84,14.0573333 8.84,13.208 C7.956,12.792 7.02866667,12.584 6.058,12.584 C4.29,12.584 3.406,13.2426667 3.406,14.56 C3.406,15.0973333 3.59666667,15.535 3.978,15.873 C4.35933333,16.211 4.90533333,16.38 5.616,16.38 Z",id:"Shape"}),Wy.createElement("path",{d:"M22.724,19.032 C21.8226667,19.032 21.021,18.8413333 20.319,18.46 C19.617,18.0786667 19.0926667,17.602 18.746,17.03 L18.538,17.03 L18.538,18.616 L15.34,18.616 L15.34,0 L18.746,0 L18.746,5.096 L18.538,6.968 L18.746,6.968 C19.11,6.396 19.6386667,5.915 20.332,5.525 C21.0253333,5.135 21.8226667,4.94 22.724,4.94 C23.92,4.94 25.0076667,5.239 25.987,5.837 C26.9663333,6.435 27.7333333,7.27133333 28.288,8.346 C28.8426667,9.42066667 29.12,10.634 29.12,11.986 C29.12,13.3553333 28.8426667,14.573 28.288,15.639 C27.7333333,16.705 26.9663333,17.537 25.987,18.135 C25.0076667,18.733 23.92,19.032 22.724,19.032 Z M22.126,15.886 C22.7673333,15.886 23.3653333,15.7213333 23.92,15.392 C24.4746667,15.0626667 24.9166667,14.6033333 25.246,14.014 C25.5753333,13.4246667 25.74,12.7486667 25.74,11.986 C25.74,11.2233333 25.5753333,10.5473333 25.246,9.958 C24.9166667,9.36866667 24.4746667,8.91366667 23.92,8.593 C23.3653333,8.27233333 22.7673333,8.112 22.126,8.112 C21.502,8.112 20.9126667,8.27233333 20.358,8.593 C19.8033333,8.91366667 19.3613333,9.36866667 19.032,9.958 C18.7026667,10.5473333 18.538,11.2233333 18.538,11.986 C18.538,12.7486667 18.7026667,13.4246667 19.032,14.014 C19.3613333,14.6033333 19.8033333,15.0626667 20.358,15.392 C20.9126667,15.7213333 21.502,15.886 22.126,15.886 Z",id:"Shape"}),Wy.createElement("path",{d:"M37.986,19.032 C36.6513333,19.032 35.4553333,18.733 34.398,18.135 C33.3406667,17.537 32.513,16.7006667 31.915,15.626 C31.317,14.5513333 31.018,13.338 31.018,11.986 C31.018,10.634 31.317,9.425 31.915,8.359 C32.513,7.293 33.3406667,6.45666667 34.398,5.85 C35.4553333,5.24333333 36.6513333,4.94 37.986,4.94 C39.4593333,4.94 40.7246667,5.25633333 41.782,5.889 C42.8393333,6.52166667 43.602,7.41866667 44.07,8.58 L40.95,9.88 C40.3953333,8.70133333 39.4073333,8.112 37.986,8.112 C36.946,8.112 36.0923333,8.46733333 35.425,9.178 C34.7576667,9.88866667 34.424,10.8246667 34.424,11.986 C34.424,13.1646667 34.7576667,14.1093333 35.425,14.82 C36.0923333,15.5306667 36.946,15.886 37.986,15.886 C39.4246667,15.886 40.4646667,15.262 41.106,14.014 L44.2,15.366 C43.628,16.5273333 42.8133333,17.4286667 41.756,18.07 C40.6986667,18.7113333 39.442,19.032 37.986,19.032 Z",id:"Path"}))));m();var Wx=fr(Fr()),UFe=n=>Wx.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Wx.createElement("title",null,"viz_currency"),Wx.createElement("g",{id:"viz_currency",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Wx.createElement("g",{id:"Group",transform:"translate(19.000000, 19.000000)"},Wx.createElement("circle",{id:"Oval",stroke:"#9aa0a6",strokeWidth:7,cx:36,cy:36,r:32.5}),Wx.createElement("path",{d:"M35.7525,20.06 C38.5425,20.06 40.7775,20.7425 42.4575,22.1075 C44.1375,23.4725 45.2775,25.01 45.8775,26.72 L41.4225,28.61 C41.1225,27.53 40.4925,26.6 39.5325,25.82 C38.5725,25.04 37.3275,24.65 35.7975,24.65 C34.3275,24.65 33.0825,25.04 32.0625,25.82 C31.0425,26.6 30.5325,27.59 30.5325,28.79 C30.5325,29.9 30.99,30.8225 31.905,31.5575 C32.759,32.2435 34.0507333,32.8968333 35.7802,33.5175 L38.2275,34.37 C40.9875,35.33 43.1175,36.575 44.6175,38.105 C46.1175,39.635 46.8675,41.675 46.8675,44.225 C46.8675,46.325 46.335,48.0875 45.27,49.5125 C44.205,50.9375 42.84,51.995 41.175,52.685 C39.51,53.375 37.8075,53.72 36.0675,53.72 C33.3975,53.72 30.9975,52.94 28.8675,51.38 C26.7375,49.82 25.2525,47.63 24.4125,44.81 L29.0925,42.92 C29.5725,44.72 30.4275,46.19 31.6575,47.33 C32.8875,48.47 34.3725,49.04 36.1125,49.04 C37.7325,49.04 39.105,48.62 40.23,47.78 C41.355,46.94 41.9175,45.785 41.9175,44.315 C41.9175,42.965 41.4225,41.8475 40.4325,40.9625 C39.4975,40.1266667 37.9202778,39.3109028 35.7008333,38.5152083 L33.2775,37.655 C31.0875,36.875 29.265,35.7875 27.81,34.3925 C26.355,32.9975 25.6275,31.145 25.6275,28.835 C25.6275,27.245 26.055,25.775 26.91,24.425 C27.765,23.075 28.965,22.01 30.51,21.23 C32.055,20.45 33.8025,20.06 35.7525,20.06 Z",id:"Path",fill:"#9aa0a6",fillRule:"nonzero"}),Wx.createElement("line",{x1:36,y1:14,x2:36,y2:21,id:"Line-Copy-4",stroke:"#9aa0a6",strokeWidth:5}),Wx.createElement("line",{x1:36,y1:52,x2:36,y2:59,id:"Line-Copy-5",stroke:"#9aa0a6",strokeWidth:5})),Wx.createElement("g",{id:"S",transform:"translate(43.412500, 37.060000)"})));m();var cN=fr(Fr()),$Fe=n=>cN.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},cN.createElement("title",null,"viz_image"),cN.createElement("g",{id:"viz_image",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},cN.createElement("path",{d:"M81.4444444,28.5555556 L81.4444444,81.4444444 L28.5555556,81.4444444 L28.5555556,28.5555556 L81.4444444,28.5555556 M81.4444444,21 L28.5555556,21 C24.4,21 21,24.4 21,28.5555556 L21,81.4444444 C21,85.6 24.4,89 28.5555556,89 L81.4444444,89 C85.6,89 89,85.6 89,81.4444444 L89,28.5555556 C89,24.4 85.6,21 81.4444444,21 Z M63.0844444,54.4711111 L51.7511111,69.0911111 L43.6666667,59.3066667 L32.3333333,73.8888889 L77.6666667,73.8888889 L63.0844444,54.4711111 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"})));m();var nE=fr(Fr()),zFe=n=>nE.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},nE.createElement("title",null,"viz_time"),nE.createElement("g",{id:"viz_time",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},nE.createElement("g",{id:"Group-Copy-19",transform:"translate(51.307692, 36.538462)",fill:"#9aa0a6",fillRule:"nonzero"},nE.createElement("polygon",{id:"Path",points:"5.30769231 0 0 0 0 21.7906683 18.5769231 33.2307692 21.2307692 28.7636822 5.30769231 19.0668348"})),nE.createElement("circle",{id:"Oval",stroke:"#9aa0a6",strokeWidth:7,cx:55,cy:55,r:32.5})));m();var rE=fr(Fr()),HFe=n=>rE.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},rE.createElement("title",null,"viz_json"),rE.createElement("g",{id:"viz_json",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},rE.createElement("g",{id:"{;}",transform:"translate(24.000000, 22.000000)",fill:"#9aa0a6",fillRule:"nonzero"},rE.createElement("path",{d:"M17.0296296,66 C13.2765432,66 10.3209877,64.871179 8.16296296,62.6135371 C6.00493827,60.3558952 4.92592593,57.3296943 4.92592593,53.5349345 L4.92592593,41.6462882 C4.92592593,39.9170306 4.45679012,38.5840611 3.51851852,37.6473799 C2.58024691,36.7106987 1.40740741,36.2423581 0,36.2423581 L0,29.7576419 C1.40740741,29.7576419 2.58024691,29.2893013 3.51851852,28.3526201 C4.45679012,27.4159389 4.92592593,26.0829694 4.92592593,24.3537118 L4.92592593,12.4650655 C4.92592593,8.67030568 6.00493827,5.6441048 8.16296296,3.38646288 C10.3209877,1.12882096 13.2765432,0 17.0296296,0 L19,0 L19,6.41266376 L17.7333333,6.41266376 C16.091358,6.41266376 14.7425926,6.98908297 13.687037,8.1419214 C12.6314815,9.29475983 12.1037037,10.8318777 12.1037037,12.7532751 L12.1037037,24.3537118 C12.1037037,26.7074236 11.7166667,28.5687773 10.9425926,29.9377729 C10.1685185,31.3067686 8.93703704,32.2554585 7.24814815,32.7838428 L7.24814815,33.2161572 C8.93703704,33.7445415 10.1685185,34.6812227 10.9425926,36.0262009 C11.7166667,37.371179 12.1037037,39.2445415 12.1037037,41.6462882 L12.1037037,53.2467249 C12.1037037,55.1681223 12.6314815,56.7052402 13.687037,57.8580786 C14.7425926,59.010917 16.091358,59.5873362 17.7333333,59.5873362 L19,59.5873362 L19,66 L17.0296296,66 Z",id:"Path"}),rE.createElement("path",{d:"M44,59.5873362 L45.4074074,59.5873362 C47.0493827,59.5873362 48.3864198,59.010917 49.4185185,57.8580786 C50.4506173,56.7052402 50.9666667,55.1681223 50.9666667,53.2467249 L50.9666667,41.6462882 C50.9666667,39.2445415 51.3537037,37.371179 52.1277778,36.0262009 C52.9018519,34.6812227 54.1333333,33.7445415 55.8222222,33.2161572 L55.8222222,32.7838428 C54.1333333,32.2554585 52.9018519,31.3067686 52.1277778,29.9377729 C51.3537037,28.5687773 50.9666667,26.7074236 50.9666667,24.3537118 L50.9666667,12.7532751 C50.9666667,10.8318777 50.4506173,9.29475983 49.4185185,8.1419214 C48.3864198,6.98908297 47.0493827,6.41266376 45.4074074,6.41266376 L44,6.41266376 L44,0 L46.0407407,0 C49.7938272,0 52.7493827,1.12882096 54.9074074,3.38646288 C57.0654321,5.6441048 58.1444444,8.67030568 58.1444444,12.4650655 L58.1444444,24.3537118 C58.1444444,26.0829694 58.6018519,27.4159389 59.5166667,28.3526201 C60.4314815,29.2893013 61.5925926,29.7576419 63,29.7576419 L63,36.2423581 C61.5925926,36.2423581 60.4314815,36.7106987 59.5166667,37.6473799 C58.6018519,38.5840611 58.1444444,39.9170306 58.1444444,41.6462882 L58.1444444,53.5349345 C58.1444444,57.3296943 57.0654321,60.3558952 54.9074074,62.6135371 C52.7493827,64.871179 49.7938272,66 46.0407407,66 L44,66 L44,59.5873362 Z",id:"Path"}))));m();var q4=fr(Fr()),VFe=n=>q4.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},q4.createElement("title",null,"viz_list"),q4.createElement("g",{id:"viz_list",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},q4.createElement("rect",{id:"Rectangle-Copy-58",fill:"#9aa0a6",x:24.1587742,y:27,width:61.9377906,height:8,rx:4}),q4.createElement("rect",{id:"Rectangle-Copy-61",fill:"#9aa0a6",x:24.1587742,y:43,width:61.9377906,height:8,rx:4}),q4.createElement("rect",{id:"Rectangle-Copy-64",fill:"#9aa0a6",x:24.1587742,y:59,width:62,height:8,rx:4}),q4.createElement("rect",{id:"Rectangle-Copy-65",fill:"#9aa0a6",x:24.1587742,y:75.1904762,width:62,height:7.61904762,rx:3.80952381})));m();var q1=fr(Fr()),WFe=n=>q1.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},q1.createElement("title",null,"viz_list_detail"),q1.createElement("g",{id:"viz_list_detail",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},q1.createElement("rect",{id:"Rectangle-Copy-58",fill:"#9aa0a6",x:22.1587742,y:27,width:15.983946,height:8,rx:4}),q1.createElement("rect",{id:"Rectangle-Copy-59",fill:"#9aa0a6",x:44.1587742,y:27,width:43.9558514,height:8,rx:4}),q1.createElement("rect",{id:"Rectangle-Copy-61",fill:"#9aa0a6",x:22.1587742,y:43,width:15.983946,height:8,rx:4}),q1.createElement("rect",{id:"Rectangle-Copy-62",fill:"#9aa0a6",x:44.1587742,y:43,width:43.9558514,height:8,rx:4}),q1.createElement("rect",{id:"Rectangle-Copy-64",fill:"#9aa0a6",x:22.1587742,y:59,width:16,height:8,rx:4}),q1.createElement("rect",{id:"Rectangle-Copy-66",fill:"#9aa0a6",x:44.1587742,y:59,width:44,height:8,rx:4}),q1.createElement("rect",{id:"Rectangle-Copy-65",fill:"#9aa0a6",x:22.1587742,y:75.1904762,width:16,height:7.61904762,rx:3.80952381}),q1.createElement("rect",{id:"Rectangle-Copy-67",fill:"#9aa0a6",x:44.1587742,y:75.1904762,width:44,height:7.61904762,rx:3.80952381})));m();var Qx=fr(Fr()),QFe=n=>Qx.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Qx.createElement("title",null,"viz_bar_chart"),Qx.createElement("g",{id:"viz_bar_chart",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Qx.createElement("g",{id:"Group-3",transform:"translate(20.000000, 24.000000)",fill:"#9aa0a6"},Qx.createElement("g",{id:"Group-2",transform:"translate(34.500000, 31.000000) rotate(-270.000000) translate(-34.500000, -31.000000) translate(3.500000, -3.500000)"},Qx.createElement("path",{d:"M-26.056314,30.056314 L34.943686,30.056314 C37.152825,30.056314 38.943686,31.847175 38.943686,34.056314 L38.943686,34.943686 C38.943686,37.152825 37.152825,38.943686 34.943686,38.943686 L-26.056314,38.943686 C-28.265453,38.943686 -30.056314,37.152825 -30.056314,34.943686 L-30.056314,34.056314 C-30.056314,31.847175 -28.265453,30.056314 -26.056314,30.056314 Z",id:"Rectangle-Copy-59",transform:"translate(4.443686, 34.500000) rotate(-90.000000) translate(-4.443686, -34.500000) "}),Qx.createElement("path",{d:"M-0.491247385,37.8466366 L44.9281075,37.8466366 C47.1372465,37.8466366 48.9281075,39.6374976 48.9281075,41.8466366 L48.9281075,42.7340086 C48.9281075,44.9431476 47.1372465,46.7340086 44.9281075,46.7340086 L-0.491247385,46.7340086 C-2.70038638,46.7340086 -4.49124739,44.9431476 -4.49124739,42.7340086 L-4.49124739,41.8466366 C-4.49124739,39.6374976 -2.70038638,37.8466366 -0.491247385,37.8466366 Z",id:"Rectangle-Copy-62",transform:"translate(22.218430, 42.290323) rotate(-90.000000) translate(-22.218430, -42.290323) "}),Qx.createElement("path",{d:"M23.3837854,43.9469253 L56.6025627,43.9469253 C58.8117017,43.9469253 60.6025627,45.7377863 60.6025627,47.9469253 L60.6025627,48.8342973 C60.6025627,51.0434363 58.8117017,52.8342973 56.6025627,52.8342973 L23.3837854,52.8342973 C21.1746464,52.8342973 19.3837854,51.0434363 19.3837854,48.8342973 L19.3837854,47.9469253 C19.3837854,45.7377863 21.1746464,43.9469253 23.3837854,43.9469253 Z",id:"Rectangle-Copy-66",transform:"translate(39.993174, 48.390611) rotate(-90.000000) translate(-39.993174, -48.390611) "}),Qx.createElement("path",{d:"M46.7286345,49.7286345 L68.8072017,49.7286345 C71.0163407,49.7286345 72.8072017,51.5194955 72.8072017,53.7286345 L72.8072017,54.1927983 C72.8072017,56.4019373 71.0163407,58.1927983 68.8072017,58.1927983 L46.7286345,58.1927983 C44.5194955,58.1927983 42.7286345,56.4019373 42.7286345,54.1927983 L42.7286345,53.7286345 C42.7286345,51.5194955 44.5194955,49.7286345 46.7286345,49.7286345 Z",id:"Rectangle-Copy-67",transform:"translate(57.767918, 53.960716) rotate(-90.000000) translate(-57.767918, -53.960716) "})))));m();var fN=fr(Fr()),GFe=n=>fN.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},fN.createElement("title",null,"viz_line"),fN.createElement("g",{id:"viz_line",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},fN.createElement("path",{d:"M88.1848681,33.1583406 C89.7542734,31.6035859 92.2869054,31.6154626 93.8416601,33.1848679 C95.3445896,34.7019597 95.3835892,37.1191334 93.9668812,38.6829968 L93.8151328,38.84166 L66.2578818,66.14166 C64.8378618,67.5484238 62.6084032,67.6843587 61.0319068,66.4919462 L60.8595019,66.3539866 L45.2420004,53.1430003 L21.844917,76.8176775 C20.3437446,78.336508 17.927116,78.4009733 16.3484126,77.0008213 L16.1881594,76.850753 C14.6693289,75.3495806 14.6048635,72.932952 16.0050156,71.3542486 L16.1550839,71.1939954 L42.1550839,44.8881592 C43.5729843,43.4535802 45.8262314,43.3057778 47.4155704,44.5116324 L47.583248,44.646014 L63.2290004,57.8810003 L88.1848681,33.1583406 Z",id:"Path-10",fill:"#9aa0a6",fillRule:"nonzero"})));m();var iE=fr(Fr()),YFe=n=>iE.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},iE.createElement("title",null,"viz_map_points"),iE.createElement("g",{id:"viz_map_points",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},iE.createElement("g",{id:"Group-Copy-36",transform:"translate(30.000000, 19.000000)",fill:"#9aa0a6",fillRule:"nonzero"},iE.createElement("path",{d:"M25,0 C11.1785714,0 0,11.268 0,25.2 C0,44.1 25,72 25,72 C25,72 50,44.1 50,25.2 C50,11.268 38.8214286,0 25,0 Z M7.14285714,25.2 C7.14285714,15.264 15.1428571,7.2 25,7.2 C34.8571429,7.2 42.8571429,15.264 42.8571429,25.2 C42.8571429,35.568 32.5714286,51.084 25,60.768 C17.5714286,51.156 7.14285714,35.46 7.14285714,25.2 Z",id:"Shape"}),iE.createElement("path",{d:"M25,34 C29.97052,34 34,29.97052 34,25 C34,20.029444 29.97052,16 25,16 C20.02948,16 16,20.029444 16,25 C16,29.97052 20.02948,34 25,34 Z",id:"Path"}))));m();var Ym=fr(Fr()),KFe=n=>Ym.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Ym.createElement("title",null,"viz_map_segment"),Ym.createElement("g",{id:"viz_map_segment",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Ym.createElement("g",{id:"Group-Copy-36",transform:"translate(11.000000, 27.000000)",fillRule:"nonzero"},Ym.createElement("path",{d:"M17,0 C7.60142857,0 0,7.6685 0,17.15 C0,30.0125 17,49 17,49 C17,49 34,30.0125 34,17.15 C34,7.6685 26.3985714,0 17,0 Z M4.85714286,17.15 C4.85714286,10.388 10.2971429,4.9 17,4.9 C23.7028571,4.9 29.1428571,10.388 29.1428571,17.15 C29.1428571,24.206 22.1485714,34.7655 17,41.356 C11.9485714,34.8145 4.85714286,24.1325 4.85714286,17.15 Z",id:"Shape",fill:"#9aa0a6"}),Ym.createElement("path",{d:"M17,24 C20.31368,24 23,21.31368 23,18 C23,14.686296 20.31368,12 17,12 C13.68632,12 11,14.686296 11,18 C11,21.31368 13.68632,24 17,24 Z",id:"Path",fill:"#9aa0a6"})),Ym.createElement("g",{id:"Group-Copy-37",transform:"translate(62.000000, 27.000000)",fillRule:"nonzero"},Ym.createElement("path",{d:"M17,0 C7.60142857,0 0,7.6685 0,17.15 C0,30.0125 17,49 17,49 C17,49 34,30.0125 34,17.15 C34,7.6685 26.3985714,0 17,0 Z M4.85714286,17.15 C4.85714286,10.388 10.2971429,4.9 17,4.9 C23.7028571,4.9 29.1428571,10.388 29.1428571,17.15 C29.1428571,24.206 22.1485714,34.7655 17,41.356 C11.9485714,34.8145 4.85714286,24.1325 4.85714286,17.15 Z",id:"Shape",fill:"#9aa0a6"}),Ym.createElement("path",{d:"M17,24 C20.31368,24 23,21.31368 23,18 C23,14.686296 20.31368,12 17,12 C13.68632,12 11,14.686296 11,18 C11,21.31368 13.68632,24 17,24 Z",id:"Path",fill:"#9aa0a6"})),Ym.createElement("line",{x1:28.5,y1:81.5,x2:79.5,y2:81.5,id:"Line-3",stroke:"#9aa0a6",strokeWidth:5,strokeLinecap:"round",strokeDasharray:"5,10"})));m();var Gx=fr(Fr()),JFe=n=>Gx.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Gx.createElement("title",null,"viz_map_shape"),Gx.createElement("g",{id:"viz_map_shape",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Gx.createElement("g",{id:"noun-world-4667432-2",transform:"translate(19.000000, 19.000000)",fill:"#9aa0a6",fillRule:"nonzero"},Gx.createElement("g",{id:"noun-world-4667432"},Gx.createElement("path",{d:"M36,5 C18.8798665,5 5,18.8793071 5,36 C5,53.1206929 18.8793071,67 36,67 C53.1206929,67 67,53.1206929 67,36 C67,18.8793071 53.1206929,5 36,5 Z M0,36 C0,16.1177143 16.1177143,0 36,0 C55.8822857,0 72,16.1177143 72,36 C72,55.8822857 55.8822857,72 36,72 C16.1177143,72 0,55.8822857 0,36 Z",id:"Shape"}),Gx.createElement("path",{d:"M37.2848685,1.50131372 C37.8999474,1.48477633 38.4631152,1.71654937 38.8767996,2.10376364 C39.2928262,2.49317029 39.5578301,3.03960333 39.57434,3.65023916 L39.57434,3.65023916 L40.0344656,20.7428771 C40.0487121,21.2893502 39.8586306,21.8212062 39.4992535,22.2375953 L39.4992535,22.2375953 L32.1172188,30.7832284 C31.7924232,31.1592888 31.3490374,31.4169308 30.8586892,31.5134813 L30.8586892,31.5134813 L24.6865498,32.7324332 L28.0628423,42.7359018 C28.4533111,43.8925701 28.4513039,45.0197005 28.1633304,46.0321806 C27.8503264,47.132665 27.1975708,48.0987342 26.3338575,48.8190181 C25.4716664,49.5380326 24.3999821,50.0114808 23.2508211,50.1317463 C22.1949716,50.2422462 21.0728206,50.0558305 19.9867908,49.4837618 L19.9867908,49.4837618 L1.68382097,39.8433672 C1.13885361,39.5565384 0.764084629,39.078393 0.597525292,38.5380041 C0.430427538,37.9958684 0.472619244,37.3906551 0.763987861,36.8508084 C1.05393693,36.3139129 1.53648052,35.9433066 2.08313472,35.7791188 C2.62798313,35.6154734 3.2361363,35.657153 3.77860632,35.9426925 L3.77860632,35.9426925 L22.0816454,45.5831236 C22.3171919,45.7071442 22.5603781,45.7498863 22.7897862,45.7258621 C23.0398735,45.6996723 23.2725259,45.5956093 23.4599703,45.4392842 C23.6458558,45.2842591 23.7880139,45.0772117 23.8554593,44.8399997 C23.9169381,44.6237728 23.9147045,44.383346 23.8314444,44.1367864 L23.8314444,44.1367864 L19.6527943,31.7569079 C19.4493668,31.1542234 19.517516,30.4944328 19.8403231,29.9450638 C20.1614725,29.3985413 20.7046793,29.014044 21.3323155,28.8900909 L21.3323155,28.8900909 L29.2286003,27.3302661 L35.5513871,20.0108413 L35.1144494,3.7686887 C35.0979491,3.15801867 35.3331708,2.59836837 35.7276711,2.18746751 C36.1199426,1.77888802 36.6699139,1.51752889 37.2848685,1.50131372 Z",id:"Path",stroke:"#9aa0a6"}),Gx.createElement("path",{d:"M42.2538467,56.3169014 C42.834665,56.3169014 43.3919278,56.5473051 43.8025756,56.957964 L43.8025756,56.957964 L50.5634819,63.7190531 C50.990585,64.1465338 51.2042254,64.7070592 51.2042254,65.267637 C51.2042254,65.8282064 50.9905908,66.3887389 50.5631792,66.8165562 C50.1353619,67.244019 49.5748515,67.4577465 49.0143336,67.4577465 C48.453827,67.4577465 47.893307,67.2440267 47.4652769,66.8163886 L47.4652769,66.8163886 L41.3467145,60.697095 L29.639469,60.697095 L23.5207389,66.8165562 C23.0929158,67.2440249 22.5323953,67.4577465 21.9719658,67.4577465 C21.4114352,67.4577465 20.8509999,67.2439558 20.4235838,66.8165562 C19.995665,66.388992 19.7816901,65.8283383 19.7816901,65.2676696 C19.7816901,64.7070094 19.9956592,64.1463486 20.4234173,63.7189168 L20.4234173,63.7189168 L27.1839229,56.9576493 C27.5952192,56.5470739 28.1516855,56.3169014 28.7323368,56.3169014 L28.7323368,56.3169014 Z",id:"Path",stroke:"#9aa0a6"}),Gx.createElement("path",{d:"M63.9378166,21.2379048 C64.4225216,20.8714311 65.0086399,20.7379975 65.5642349,20.8181856 C66.1191803,20.8982799 66.6440521,21.191578 67.006552,21.6798365 C67.3682973,22.1662502 67.5006358,22.75458 67.4216695,23.3126471 C67.3426278,23.8712474 67.0519787,24.3991735 66.5692317,24.7645164 L66.5692317,24.7645164 L53.5947929,34.5837331 L50.8571888,42.8725775 L63.4236834,55.5534973 C63.8498746,55.9835692 64.0634024,56.5474048 64.0634024,57.111468 C64.0634024,57.6755228 63.8498803,58.2393656 63.4235328,58.6696236 C62.9952729,59.1014133 62.434079,59.3169014 61.8731786,59.3169014 C61.3121772,59.3169014 60.7510686,59.1013441 60.3230649,58.6694716 L60.3230649,58.6694716 L46.8022881,45.0255804 C46.5094233,44.730049 46.31189,44.3642735 46.2203738,43.9732706 C46.1289585,43.5826987 46.1433461,43.1669732 46.2741073,42.7711741 L46.2741073,42.7711741 L49.6544877,32.5388634 C49.7943202,32.1133276 50.0607882,31.7409505 50.416846,31.4711161 L50.416846,31.4711161 Z",id:"Path",stroke:"#9aa0a6"})))));m();var Qy=fr(Fr()),XFe=n=>Qy.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Qy.createElement("title",null,"viz_number"),Qy.createElement("g",{id:"viz_number",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Qy.createElement("g",{id:"Group",transform:"translate(20.000000, 20.000000)",fill:"#9aa0a6"},Qy.createElement("path",{d:"M-10.5,30.5 L51.5,30.5 C53.709139,30.5 55.5,32.290861 55.5,34.5 L55.5,35.5 C55.5,37.709139 53.709139,39.5 51.5,39.5 L-10.5,39.5 C-12.709139,39.5 -14.5,37.709139 -14.5,35.5 L-14.5,34.5 C-14.5,32.290861 -12.709139,30.5 -10.5,30.5 Z",id:"Rectangle-Copy-60",transform:"translate(20.500000, 35.000000) rotate(-90.000000) translate(-20.500000, -35.000000) "}),Qy.createElement("path",{d:"M19.5,30.5 L81.5,30.5 C83.709139,30.5 85.5,32.290861 85.5,34.5 L85.5,35.5 C85.5,37.709139 83.709139,39.5 81.5,39.5 L19.5,39.5 C17.290861,39.5 15.5,37.709139 15.5,35.5 L15.5,34.5 C15.5,32.290861 17.290861,30.5 19.5,30.5 Z",id:"Rectangle-Copy-61",transform:"translate(50.500000, 35.000000) rotate(-90.000000) translate(-50.500000, -35.000000) "}),Qy.createElement("path",{d:"M4,14 L66,14 C68.209139,14 70,15.790861 70,18 L70,19 C70,21.209139 68.209139,23 66,23 L4,23 C1.790861,23 2.705415e-16,21.209139 0,19 L0,18 C-2.705415e-16,15.790861 1.790861,14 4,14 Z",id:"Rectangle-Copy-63",transform:"translate(35.000000, 18.500000) rotate(-360.000000) translate(-35.000000, -18.500000) "}),Qy.createElement("path",{d:"M4,44 L66,44 C68.209139,44 70,45.790861 70,48 L70,49 C70,51.209139 68.209139,53 66,53 L4,53 C1.790861,53 2.705415e-16,51.209139 0,49 L0,48 C-2.705415e-16,45.790861 1.790861,44 4,44 Z",id:"Rectangle-Copy-62",transform:"translate(35.000000, 48.500000) rotate(-360.000000) translate(-35.000000, -48.500000) "}))));m();var u9=fr(Fr()),ZFe=n=>u9.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},u9.createElement("title",null,"viz_percent"),u9.createElement("g",{id:"viz_percent",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},u9.createElement("g",{id:"%-copy-5",transform:"translate(19.000000, 22.000000)",fill:"#9aa0a6",fillRule:"nonzero"},u9.createElement("path",{d:"M16.1194226,31.5251397 C19.1010499,31.5251397 21.8186789,30.8184358 24.2723097,29.4050279 C26.7259405,27.9916201 28.6671041,26.0712291 30.0958005,23.6438547 C31.5244969,21.2164804 32.2388451,18.5893855 32.2388451,15.7625698 C32.2388451,12.9357542 31.5244969,10.3086592 30.0958005,7.88128492 C28.6671041,5.45391061 26.7259405,3.53351955 24.2723097,2.12011173 C21.8186789,0.706703911 19.1010499,0 16.1194226,0 C13.1377953,0 10.4201662,0.706703911 7.96653543,2.12011173 C5.51290464,3.53351955 3.57174103,5.45391061 2.14304462,7.88128492 C0.714348206,10.3086592 0,12.9357542 0,15.7625698 C0,18.5893855 0.714348206,21.2164804 2.14304462,23.6438547 C3.57174103,26.0712291 5.51290464,27.9916201 7.96653543,29.4050279 C10.4201662,30.8184358 13.1377953,31.5251397 16.1194226,31.5251397 Z M19.9645575,62.4787112 L57.1929452,7.56550735 C58.3200259,5.90302296 57.8859954,3.64163362 56.223511,2.5145529 C56.2107419,2.50589603 56.1979177,2.49732049 56.1850394,2.48882682 C54.4804105,1.3645685 52.1887314,1.81914062 51.0422905,3.50893047 L13.7228276,58.5157377 C12.6107181,60.1549252 13.0379992,62.3852921 14.6771866,63.4974016 C14.7072768,63.5178164 14.7376757,63.5377723 14.7683727,63.5572626 C16.507245,64.6613129 18.8087263,64.1836036 19.9645575,62.4787112 Z M16.1194226,24.150838 C13.8832021,24.150838 12.0041557,23.3519553 10.4822835,21.7541899 C8.9604112,20.1564246 8.19947507,18.1592179 8.19947507,15.7625698 C8.19947507,13.3044693 8.9604112,11.2918994 10.4822835,9.72486034 C12.0041557,8.15782123 13.8832021,7.37430168 16.1194226,7.37430168 C18.4177603,7.37430168 20.3278653,8.15782123 21.8497375,9.72486034 C23.3716098,11.2918994 24.1325459,13.3044693 24.1325459,15.7625698 C24.1325459,18.2206704 23.3716098,20.2332402 21.8497375,21.8002793 C20.3278653,23.3673184 18.4177603,24.150838 16.1194226,24.150838 Z M54.8805774,66 C57.8622047,66 60.5798338,65.2932961 63.0334646,63.8798883 C65.4870954,62.4664804 67.428259,60.5460894 68.8569554,58.1187151 C70.2856518,55.6913408 71,53.0642458 71,50.2374302 C71,47.4106145 70.2856518,44.7835196 68.8569554,42.3561453 C67.428259,39.9287709 65.4870954,38.0083799 63.0334646,36.5949721 C60.5798338,35.1815642 57.8622047,34.4748603 54.8805774,34.4748603 C51.8989501,34.4748603 49.1813211,35.1815642 46.7276903,36.5949721 C44.2740595,38.0083799 42.3328959,39.9287709 40.9041995,42.3561453 C39.4755031,44.7835196 38.7611549,47.4106145 38.7611549,50.2374302 C38.7611549,53.0642458 39.4755031,55.6913408 40.9041995,58.1187151 C42.3328959,60.5460894 44.2740595,62.4664804 46.7276903,63.8798883 C49.1813211,65.2932961 51.8989501,66 54.8805774,66 Z M54.8805774,58.6256983 C52.644357,58.6256983 50.7653106,57.8268156 49.2434383,56.2290503 C47.7215661,54.6312849 46.9606299,52.6340782 46.9606299,50.2374302 C46.9606299,47.7793296 47.7215661,45.7667598 49.2434383,44.1997207 C50.7653106,42.6326816 52.644357,41.849162 54.8805774,41.849162 C57.1789151,41.849162 59.0890201,42.6326816 60.6108924,44.1997207 C62.1327647,45.7667598 62.8937008,47.7793296 62.8937008,50.2374302 C62.8937008,52.6340782 62.1172353,54.6312849 60.5643045,56.2290503 C59.0113736,57.8268156 57.1167979,58.6256983 54.8805774,58.6256983 Z",id:"%-copy-2"}))));m();var Yx=fr(Fr()),eDe=n=>Yx.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Yx.createElement("title",null,"viz_boolean"),Yx.createElement("g",{id:"viz_boolean",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Yx.createElement("g",{id:"noun_switch_3350414-2",transform:"translate(20.000000, 22.000000)",fill:"#9aa0a6",fillRule:"nonzero"},Yx.createElement("g",{id:"noun_switch_3350414"},Yx.createElement("path",{d:"M15.2972028,30.8 L54.7027972,30.8 C63.151209,30.8 70,23.9051851 70,15.4 C70,6.89481485 63.151209,0 54.7027972,0 L15.2972028,0 C6.84879098,0 0,6.89481485 0,15.4 C0,23.9051851 6.84879098,30.8 15.2972028,30.8 Z M15.2972028,6.16 L54.7027972,6.16 C59.7718443,6.16 63.8811189,10.2968889 63.8811189,15.4 C63.8811189,20.5031111 59.7718443,24.64 54.7027972,24.64 L15.2972028,24.64 C10.2281557,24.64 6.11888112,20.5031111 6.11888112,15.4 C6.11888112,10.2968889 10.2281557,6.16 15.2972028,6.16 Z",id:"Shape"}),Yx.createElement("path",{d:"M19.6340542,21.9997804 C22.2930484,22.0215224 24.7022661,20.4273668 25.7348338,17.9629544 C26.7674016,15.4985421 26.2191958,12.6510518 24.3466309,10.7523518 C22.474066,8.85365189 19.6473211,8.27908795 17.1885612,9.29740315 C14.7298014,10.3157183 13.125,12.7256064 13.125,15.3998806 C13.125,19.0240523 16.0305897,21.9703156 19.6340542,21.9997804 L19.6340542,21.9997804 Z",id:"Path"}),Yx.createElement("path",{d:"M54.7027971,35.2 L15.2972025,35.2 C6.84879081,35.2 0,42.094815 0,50.6 C0,59.105185 6.84879081,66 15.2972025,66 L54.7027971,66 C63.151209,66 70,59.1051851 70,50.6 C70,42.0948149 63.151209,35.2 54.7027971,35.2 L54.7027971,35.2 Z M54.7027971,59.84 L15.2972025,59.84 C10.2281554,59.84 6.11888082,55.7031111 6.11888082,50.6 C6.11888082,45.4968889 10.2281554,41.36 15.2972025,41.36 L54.7027971,41.36 C59.7718442,41.36 63.8811189,45.4968889 63.8811189,50.6 C63.8811189,55.7031111 59.7718442,59.84 54.7027971,59.84 L54.7027971,59.84 Z",id:"Shape"}),Yx.createElement("path",{d:"M50.3659458,44.0002196 C47.7069516,43.9784776 45.2977339,45.5726332 44.2651662,48.0370456 C43.2325984,50.5014579 43.7808042,53.3489482 45.6533691,55.2476482 C47.525934,57.1463481 50.3526789,57.720912 52.8114388,56.7025969 C55.2701986,55.6842817 56.875,53.2743936 56.875,50.6001194 C56.875,46.9759477 53.9694103,44.0296844 50.3659458,44.0002196 Z",id:"Path"})))));m();var dN=fr(Fr()),tDe=n=>dN.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},dN.createElement("title",null,"viz_sparkline"),dN.createElement("g",{id:"viz_sparkline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},dN.createElement("polyline",{id:"Path-11",stroke:"#9aa0a6",strokeWidth:6,points:"10 54.8274509 25.9215088 61.0844803 40.1501567 54.8274509 53.3907166 68.7215958 69.5925598 42 83.3327332 64.4487228 100.431152 57.8274509"})));m();var sE=fr(Fr()),nDe=n=>sE.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},sE.createElement("title",null,"viz_link"),sE.createElement("g",{id:"viz_link",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},sE.createElement("g",{id:"link_black_24dp",transform:"translate(5.000000, 5.000000)"},sE.createElement("path",{d:"M5,0 L96,0 C98.7614237,-5.07265313e-16 101,2.23857625 101,5 L101,96 C101,98.7614237 98.7614237,101 96,101 L5,101 C2.23857625,101 3.38176876e-16,98.7614237 0,96 L0,5 C-3.38176876e-16,2.23857625 2.23857625,5.07265313e-16 5,0 Z",id:"Path"}),sE.createElement("path",{d:"M71,30 L58.4,30 C56.0804041,30 54.2,31.8804041 54.2,34.2 C54.2,36.5195959 56.0804041,38.4 58.4,38.4 L71,38.4 L71,38.4 C77.93,38.4 83.6,44.07 83.6,51 C83.6,57.93 77.93,63.6 71,63.6 L58.4,63.6 C56.0804041,63.6 54.2,65.4804041 54.2,67.8 C54.2,70.1195959 56.0804041,72 58.4,72 L71,72 L71,72 C82.592,72 92,62.592 92,51 C92,39.408 82.592,30 71,30 Z M41.6,63.6 L29,63.6 L29,63.6 C22.07,63.6 16.4,57.93 16.4,51 C16.4,44.07 22.07,38.4 29,38.4 L41.6,38.4 C43.9195959,38.4 45.8,36.5195959 45.8,34.2 C45.8,31.8804041 43.9195959,30 41.6,30 L29,30 L29,30 C17.408,30 8,39.408 8,51 C8,62.592 17.408,72 29,72 L41.6,72 C43.9195959,72 45.8,70.1195959 45.8,67.8 C45.8,65.4804041 43.9195959,63.6 41.6,63.6 Z M37.4,46.8 L62.6,46.8 C64.9195959,46.8 66.8,48.6804041 66.8,51 C66.8,53.3195959 64.9195959,55.2 62.6,55.2 L37.4,55.2 C35.0804041,55.2 33.2,53.3195959 33.2,51 C33.2,48.6804041 35.0804041,46.8 37.4,46.8 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"}))));var KH=({renderer:n})=>{let e={width:"22px",height:"22px"};return n==="table"?v.createElement(BFe,{...e}):n==="dashboard"?v.createElement(jFe,{...e}):n==="text"?v.createElement(qFe,{...e}):n==="currency"?v.createElement(UFe,{...e}):n==="image"?v.createElement($Fe,{...e}):n==="time"?v.createElement(zFe,{...e}):n==="json"?v.createElement(HFe,{...e}):n==="list"?v.createElement(VFe,{...e}):n==="list_detail"?v.createElement(WFe,{...e}):n==="bar_chart"?v.createElement(QFe,{...e}):n==="scatter_chart"?v.createElement(wH,{...e}):n==="line_chart"?v.createElement(GFe,{...e}):n==="point_map"?v.createElement(YFe,{...e}):n==="segment_map"?v.createElement(KFe,{...e}):n==="shape_map"?v.createElement(JFe,{...e}):n==="number"?v.createElement(XFe,{...e}):n==="percent"?v.createElement(ZFe,{...e}):n==="boolean"?v.createElement(eDe,{...e}):n==="spark_line"?v.createElement(tDe,{...e}):n==="link"?v.createElement(nDe,{...e}):null};var dp=({setDataStyle:n,onComplete:e,allowedRenderers:t})=>v.createElement(O1,null,v.createElement(rc,null,v.createElement($l,null,v.createElement(nyt,null,t.map(r=>v.createElement(Ho,{icon:v.createElement(KH,{renderer:r}),key:r,onClick:()=>{n(r),e()},name:r,color:"other"})))))),nyt=Bn.div`
  overflow: hidden;
  display: flex;
  gap: 2px;
  flex-direction: column;
`;m();m();var rDe=fr(Fr());var Gy=({byField:n,addOrderBy:e,onComplete:t,initialDirection:r})=>{let[i,s]=(0,rDe.useState)(r||"asc");return v.createElement(Fc,null,v.createElement(Tc,null,"Order By",v.createElement(eH,null,v.createElement(FC,{color:"dimension"},v.createElement(Id,{type:Vh(n),kind:Up(n)})),v.createElement(nH,null,n.name))),v.createElement("form",null,v.createElement(Sh,null,v.createElement(ryt,null,v.createElement(UH,{options:[{value:"asc",label:"Ascending"},{value:"desc",label:"Descending"}],value:i,onChange:s}))),v.createElement(Eh,null,v.createElement(Ga,{type:"button",color:"secondary",onClick:t},"Cancel"),v.createElement(Ga,{onClick:()=>{n!==void 0&&(e(n.fieldIndex,i),t())}},"Save"))))},ryt=Bn.div`
  display: flex;
  border: 1px solid #efefef;
  border-radius: 5px;
  overflow: hidden;
`;m();m();var iDe=fr(Fr());var oE=({rename:n,onComplete:e})=>{let[t,r]=(0,iDe.useState)("");return v.createElement(Fc,null,v.createElement(Tc,null,"Rename"),v.createElement(tH,null,v.createElement(xl,{value:t,setValue:r,placeholder:"new_name",autoFocus:!0}),v.createElement(Ga,{type:"button",color:"secondary",onClick:e},"Cancel"),v.createElement(Ga,{onClick:()=>{n(t),e()}},"Save")))};var lle=({source:n,model:e,modelPath:t,rename:r,name:i,closeMenu:s,setDataStyle:o,fieldIndex:a,beginReorderingField:l,isEditable:f,editDimension:p,definition:_,filterField:E,filterFieldPath:O,addFilter:R,stagePath:q,addOrderBy:z,orderByField:L})=>v.createElement(ef,{closeMenu:s,actions:[{kind:"sub_menu",id:"rename",iconName:"rename",label:"Rename",iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(oE,{rename:r,onComplete:B})},{kind:"sub_menu",id:"filter_on",iconName:"filter",label:"Filter By",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:B})=>E&&O?v.createElement(eE,{model:e,modelPath:t,onComplete:B,source:n,field:E,fieldPath:O,needsRename:!1,addFilter:P=>R(q,P)}):v.createElement("div",null)},{kind:"sub_menu",id:"order_by",iconName:"order_by",label:"Order By",iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(Gy,{byField:L,addOrderBy:(P,G)=>z(q,P,G),onComplete:B})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(dp,{setDataStyle:o,onComplete:B,allowedRenderers:["number","boolean","currency","image","link","percent","text","time"]})},{kind:"sub_menu",id:"edit_definition",label:"Edit Definition",iconName:"edit",isEnabled:f,iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(uN,{source:n,addDimension:P=>p(a,P),onComplete:B,initialCode:_,initialName:i})},{kind:"one_click",id:"move",iconName:"move",iconColor:"other",label:"Move",onClick:l}]});m();m();m();m();var cle=fr(Fr());m();m();var sDe=fr(Fr());m();m();var l9=({children:n})=>v.createElement(iyt,null,v.createElement(syt,null),v.createElement(oyt,null,n)),iyt=Bn.div`
  margin-top: 5px;
  display: flex;
  flex-direction: row;
  gap: 2px;
  margin-left: 13px;
`,syt=Bn.div`
  width: 6px;
  min-width: 6px;
  padding: 5px 0px;
  margin: 0 1px;
  background-color: #efefef;
  border-radius: 100px;
`,oyt=Bn.div`
  width: calc(100% - 10px);
`;var U1=({fields:n,selectField:e,filter:t,showNested:r,path:i=[],topValues:s})=>v.createElement(ayt,null,n.filter(o=>t(o)||r&&o.type==="struct").map(o=>{if(t(o)){let a=Vh(o),l=Up(o),f=[...i,o.as||o.name].join(".");return v.createElement(j4,{width:300,key:o.as||o.name,content:()=>v.createElement(Ho,{icon:v.createElement(Id,{type:a,kind:l}),onClick:()=>e(f,o),name:o.as||o.name,color:l}),popoverContent:()=>v.createElement(B4,{fieldPath:f,topValues:s})})}else return o.type==="struct"&&oDe(o,t)?v.createElement(uyt,{key:o.as||o.name,source:o,filter:t,selectField:e,path:[...i,o.as||o.name],topValues:s}):null})),ayt=Bn.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`;function oDe(n,e){return n.fields.some(e)||n.fields.some(t=>t.type==="struct"&&oDe(t,e))}var uyt=({source:n,filter:e,selectField:t,path:r,topValues:i})=>{let[s,o]=(0,sDe.useState)(!1);return v.createElement("div",null,v.createElement(Ho,{icon:v.createElement(ta,{action:s?"container-open":"container-closed",color:"other"}),onClick:()=>o(!s),name:n.as||n.name,color:"other"}),s&&v.createElement(l9,null,v.createElement(U1,{filter:e,selectField:t,fields:n.fields,showNested:!0,path:r,topValues:i})))};var Yy=({model:n,modelPath:e,source:t,addFilter:r,onComplete:i,needsRename:s,topValues:o})=>{let[a,l]=(0,cle.useState)(""),[f,p]=(0,cle.useState)(),{searchResults:_,isLoading:E}=Jb(n,e,t,a),O=_&&_.filter(G=>G.fieldType==="string").slice(0,100),R=Wf(t).filter(({field:G})=>JT(G)).map(({field:G,path:ue})=>({item:D0(G,ue),terms:O0(G,ue),key:lyt(ue),select:()=>p({path:ue,def:G})})),{searchList:q,count:z}=n9({searchTerm:a,items:R||[],topValues:o}),L=O?.length||0,B=z>0,P=L>0||E;return v.createElement("div",null,!f&&v.createElement(D1,null,v.createElement(cp,{placeholder:"Search",value:a,setValue:l,autoFocus:!0})),v.createElement("div",null,f&&v.createElement(eE,{model:n,modelPath:e,source:t,fieldPath:f.path,field:f.def,addFilter:r,onComplete:i,needsRename:s}),!f&&v.createElement(v.Fragment,null,a===""&&v.createElement(rc,null,v.createElement($l,null,v.createElement(U1,{fields:t.fields,filter:JT,showNested:!0,selectField:(G,ue)=>p({path:G,def:ue}),topValues:o}))),a!==""&&v.createElement(v.Fragment,null,B&&v.createElement(rc,{style:{borderBottom:B?"1px solid #efefef":"",maxHeight:P?"200px":"300px"}},v.createElement($l,null,q)),P&&t&&v.createElement(rc,{style:{borderBottom:"1px solid #efefef",maxHeight:B?"200px":"300px"}},v.createElement($l,null,O&&O.length>0&&O.map((G,ue)=>v.createElement(Ho,{key:ue,name:G.fieldValue,detail:G.fieldName,icon:v.createElement(ta,{action:"filter"}),color:"filter",onClick:()=>{Vx(t,`${G.fieldName} = '${G.fieldValue}'`).then(I=>{r&&r(I),i()})}})),O!==void 0&&O.length===0&&v.createElement(nc,null,"No value results"),E&&v.createElement(nc,null,v.createElement(fp,{text:"Loading value results..."}))))),!B&&!P&&v.createElement(nc,null,"No results"))))};function lyt(n){return"field/"+n}m();m();var Km=fr(Fr());m();var aDe=fr(up());function uDe(n,e){let t=Ag(e);switch(n){case"count_distinct":return`count(distinct ${t})`;case"avg":case"sum":return`${t}.${n}()`;case"min":case"max":return`${n}(${t})`;case"percent":return`100 * ${t} / all(${t})`}}var aE=n=>n.split(".").map(e=>e.replace(/(^`|`$)/g,"")).join(".");function c9(n,e){let t=(s,o)=>aDe.Segment.nextStructDef(o,s),r=(s,o)=>{let a=s.find(l=>(l.as||l.name)===o[0]);if(a)if(o.length>1){if(a.type==="struct")return r(a.fields,o.slice(1));if(a.type==="turtle"){let l=n;for(let f of a.pipeline)l=t(f,l);return r(l.fields,o.slice(1))}else return}else return a;else return},i=aE(e).split(".");return r(n.fields,i)}var cyt=/^count\(\)$/,fyt=/^count\(distinct (.*)\)$/,dyt=/^(.*)\.avg\(\)$/,hyt=/^(.*)\.sum\(\)$/,pyt=/^min\((.*)\)/,myt=/^max\((.*)\)/,xyt=/^100 \* (.*) \/ all\((.*)\)$/;function lDe(n,e){let t;return t=cyt.exec(e),t?{measureType:"count",path:"",field:void 0}:(t=fyt.exec(e),t?{measureType:"count_distinct",path:aE(t[1]),field:c9(n,t[1])}:(t=dyt.exec(e),t?{measureType:"avg",path:aE(t[1]),field:c9(n,t[1])}:(t=hyt.exec(e),t?{measureType:"sum",path:aE(t[1]),field:c9(n,t[1])}:(t=pyt.exec(e),t?{measureType:"min",path:aE(t[1]),field:c9(n,t[1])}:(t=myt.exec(e),t?{measureType:"max",path:aE(t[1]),field:c9(n,t[1])}:(t=xyt.exec(e),t&&t[1]===t[2]?{measureType:"percent",path:aE(t[1]),field:c9(n,t[1])}:{measureType:"custom",path:"",field:void 0}))))))}function cDe(n){return n.type==="struct"?3:n.type==="turtle"?2:n.aggregate?1:0}function fDe(n){return n.sort((e,t)=>{let r=cDe(e.field),i=cDe(t.field);return r===i?e.field.name.localeCompare(t.field.name):i-r})}var gyt={string:["count_distinct"],number:["count_distinct","avg","sum","min","max"],date:["count_distinct","min","max"],timestamp:["count_distinct","min","max"]},yyt=[{label:"Count Distinct",value:"count_distinct"},{label:"Sum",value:"sum"},{label:"Average",value:"avg"},{label:"Max",value:"max"},{label:"Min",value:"min"},{label:"Percent of All",value:"percent"}];var hN=({source:n,addMeasure:e,onComplete:t,initialCode:r,initialName:i})=>{let s=0,o,a;if(r){let{measureType:I,field:J,path:he}=lDe(n,r);s=I==="custom"?2:I==="count"?1:0,J&&(o={field:J,path:he}),a=I}let[l,f]=(0,Km.useState)(s),[p,_]=(0,Km.useState)(r||""),[E,O]=(0,Km.useState)(i||""),[R,q]=(0,Km.useState)(a),[z,L]=(0,Km.useState)(o),[B,P]=(0,Km.useState)();(0,Km.useEffect)(()=>{if(l===0&&z&&R){let I=uDe(R,z.path);I&&_(I)}else l===1&&_("count()")},[l,R,z]);let G=(0,Km.useMemo)(()=>fDe(Wf(n)).reduce((I,{path:J,field:he})=>{let ye=Vh(he),He=Up(he);if(["dimension","measure"].includes(He)){let at=v.createElement(Ho,{name:he.name,icon:v.createElement(Id,{type:ye,kind:He}),color:He,detail:R0(J),disableHover:!0});I.push({label:at,value:{field:he,path:J}})}return I},[]),[n]),ue=r===void 0;return v.createElement(Fc,null,v.createElement(Tc,null,ue?"New":"Edit"," measure"),v.createElement("form",null,v.createElement(Sh,null,v.createElement($m,null,v.createElement(lp,null,"Type"),v.createElement(gl,{autoFocus:!0,value:l,options:[{label:"From a field",value:0},{label:"Count",value:1},{label:"Custom",value:2}],onChange:I=>f(I),width:300})),l==0&&v.createElement($m,null,v.createElement(lp,null,"Field"),v.createElement(gl,{value:z,valueEqual:(I,J)=>I.path===J.path,options:G,onChange:I=>L(I),width:300})),l==0&&v.createElement($m,null,v.createElement(lp,null,"Type"),v.createElement(gl,{value:R,options:z?yyt.filter(({value:I})=>KT(z.field)?I==="percent":gyt[z.field.type].includes(I)):[],onChange:I=>q(I),width:300})),l===2&&v.createElement(sN,{autoFocus:!!i,value:p,setValue:_,placeholder:"count() * items_per_count",label:ue?"Definition":void 0,rows:3}),ue&&v.createElement(xl,{value:E,setValue:O,placeholder:"new_measure",label:"Name"})),v.createElement(rH,{error:B}),v.createElement(Eh,null,v.createElement(Ga,{type:"button",color:"secondary",onClick:t},"Cancel"),v.createElement(Ga,{onClick:I=>{if(I.preventDefault(),I.stopPropagation(),!E)return P(new Error("Enter a name"));if(l===2){if(!p)return P(new Error("Enter a definition"))}else if(l===0&&!z)return P(new Error("Select a field"));lFe(n,E,p).then(J=>{e(J),t()}).catch(J=>{P(J)})}},"Save"))))};var fle=({model:n,modelPath:e,source:t,addFilter:r,rename:i,closeMenu:s,setDataStyle:o,beginReorderingField:a,isRenamed:l,editMeasure:f,name:p,definition:_,isEditable:E,fieldIndex:O,topValues:R,addOrderBy:q,orderByField:z,stagePath:L})=>v.createElement(ef,{closeMenu:s,actions:[{kind:"sub_menu",id:"filter",iconName:"filter",iconColor:"filter",label:"Filter",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(Yy,{model:n,modelPath:e,source:t,addFilter:r,onComplete:B,needsRename:!l,topValues:R})},{kind:"sub_menu",id:"rename",iconName:"rename",iconColor:"other",label:"Rename",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(oE,{rename:i,onComplete:B})},{kind:"sub_menu",id:"order_by",iconName:"order_by",label:"Order By",iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(Gy,{byField:z,addOrderBy:(P,G)=>q(L,P,G),onComplete:B})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(dp,{setDataStyle:o,onComplete:B,allowedRenderers:["number","boolean","currency","image","link","percent","text","time"]})},{kind:"sub_menu",id:"edit_definition",label:"Edit Definition",iconName:"edit",iconColor:"other",isEnabled:E,closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(hN,{source:t,addMeasure:P=>f(O,P),onComplete:B,initialCode:_,initialName:p})},{kind:"one_click",id:"move",iconName:"move",iconColor:"other",label:"Move",onClick:a}]});m();m();m();m();var dDe=fr(Fr());var Ky=({existing:n,addLimit:e,onComplete:t})=>{let[r,i]=(0,dDe.useState)(n?.toString()||"10");return v.createElement(Fc,null,v.createElement(Tc,null,"Limit"),v.createElement(tH,null,v.createElement(xl,{value:r,setValue:i,autoFocus:!0,autoSelect:!0})," ",v.createElement(Ga,{type:"button",color:"secondary",onClick:t},"Cancel"),v.createElement(Ga,{onClick:()=>{let s=parseInt(r);Number.isNaN(s)||(e(s),t())}},"Save")))};var dle=({limit:n,editLimit:e,closeMenu:t})=>v.createElement(ef,{closeMenu:t,actions:[{id:"edit",label:"Change limit",iconName:"limit",iconColor:"other",kind:"sub_menu",closeOnComplete:!0,Component:({onComplete:r})=>v.createElement(Ky,{addLimit:e,onComplete:r,existing:n})}]});m();m();m();m();var hle=fr(Fr());var uE=({source:n,selectField:e,addNewMeasure:t,onComplete:r})=>{let[i,s]=(0,hle.useState)(!1),[o,a]=(0,hle.useState)("");return v.createElement(O1,null,!i&&v.createElement(v.Fragment,null,v.createElement(D1,null,v.createElement(cp,{placeholder:"Search",value:o,setValue:a,autoFocus:!0})),v.createElement(rc,null,v.createElement($l,null,o===""&&v.createElement(v.Fragment,null,v.createElement(Ho,{icon:v.createElement(ta,{action:"add"}),onClick:()=>s(!0),name:"New Measure",color:"other"}),v.createElement(U1,{fields:n.fields,filter:KT,showNested:!0,selectField:e,topValues:void 0})),o!==""&&v.createElement(v.Fragment,null,v.createElement($y,{topValues:void 0,searchTerm:o,items:Wf(n).filter(({field:l})=>KT(l)).map(({field:l,path:f})=>({item:D0(l,f),terms:[...O0(l,f),"aggregate"],detail:R0(f),key:vyt(f),select:()=>e(f)}))}))))),i&&v.createElement(hN,{addMeasure:t,source:n,onComplete:r}))};function vyt(n){return"aggregate/"+n}m();m();var f9=fr(Fr());m();m();var hDe=fr(Fr());var ple=({field:n,path:e,addGroupBy:t,onComplete:r})=>{let[i,s]=(0,hDe.useState)("year"),o=Vh(n),a=Up(n);return v.createElement(Fc,null,v.createElement(Tc,null,"Group by",v.createElement(Ho,{name:n.name,icon:v.createElement(Id,{type:o,kind:a}),color:a,disableHover:!0})),v.createElement("form",null,v.createElement(Sh,null,v.createElement(gl,{value:i,options:[{label:"Year",value:"year"},{label:"Quarter",value:"quarter"},{label:"Month",value:"month"},{label:"Week",value:"week"},{label:"Day",value:"day"},{label:"Hour",value:"hour"},{label:"Minute",value:"minute"},{label:"Seconds",value:"seconds"},{label:v.createElement(Jy,{detail:"(1-366)"},"Day of year"),value:"extract_day_of_year",divider:!0},{label:v.createElement(Jy,{detail:"(1-31)"},"Day of month"),value:"extract_day"},{label:v.createElement(Jy,{detail:"(1-7)"},"Day of week"),value:"extract_day_of_week"},{label:v.createElement(Jy,{detail:"(1-53)"},"Week in year"),value:"extract_week"},{label:v.createElement(Jy,{detail:"(1-12)"},"Month in year"),value:"extract_month"},{label:v.createElement(Jy,{detail:"(1-4)"},"Quarter in year"),value:"extract_quarter"},{label:v.createElement(Jy,{detail:"(0-23)"},"Hour of day"),value:"extract_hour"},{label:v.createElement(Jy,{detail:"(0-59)"},"Minute of hour"),value:"extract_minute"},{label:v.createElement(Jy,{detail:"(0-59)"},"Seconds of minute"),value:"extract_seconds"},{label:"Field values",value:"",divider:!0}],width:300,onChange:s})),v.createElement(Eh,null,v.createElement(Ga,{type:"button",color:"secondary",onClick:r},"Cancel"),v.createElement(Ga,{type:"submit",onClick:l=>{if(l.stopPropagation(),l.preventDefault(),i)if(i.startsWith("extract_")){let f=i.substring("extract_".length);t(`${e}_${f}`,`${f}(${Ag(e)})`)}else t(`${e}_${i}`,`${Ag(e)}.${i}`);else t(e);r()}},"Save"))))},Jy=({children:n,detail:e})=>v.createElement("span",null,n," ",v.createElement(_yt,null,e)),_yt=Bn.span`
  color: #939393;
`;var lE=({source:n,toggleField:e,addNewDimension:t,onComplete:r,topValues:i})=>{let[s,o]=(0,f9.useState)(!1),[a,l]=(0,f9.useState)(),[f,p]=(0,f9.useState)(""),_=(0,f9.useCallback)((E,O)=>{O.type==="date"?l({field:O,path:E}):O.type==="timestamp"?l({field:O,path:E}):e(E)},[e]);return v.createElement(O1,null,!s&&!a&&v.createElement(v.Fragment,null,v.createElement(D1,null,v.createElement(cp,{placeholder:"Search",value:f,setValue:p,autoFocus:!0})),v.createElement(rc,null,v.createElement($l,null,f===""&&v.createElement(v.Fragment,null,v.createElement(Ho,{icon:v.createElement(ta,{action:"add"}),onClick:()=>o(!0),name:"New Dimension",color:"other"}),v.createElement(U1,{fields:n.fields,filter:E=>E.type!=="turtle"&&E.type!=="struct"&&!E.aggregate,showNested:!0,selectField:_,topValues:i})),f!==""&&v.createElement(v.Fragment,null,v.createElement($y,{topValues:i,searchTerm:f,items:Wf(n).filter(({field:E})=>JT(E)).map(({field:E,path:O})=>({item:D0(E,O),terms:[...O0(E,O),"group_by"],detail:R0(O),key:byt(O),select:()=>_(O,E)}))}))))),s&&v.createElement(uN,{addDimension:t,source:n,onComplete:r}),a&&v.createElement(ple,{field:a.field,path:a.path,source:n,addGroupBy:async(E,O)=>{let R=await aFe(n,E,O);t(R)},onComplete:r}))};function byt(n){return"group_by/"+n}m();m();var xle=fr(Fr());m();m();var pDe=fr(Fr());var mle=({addNest:n,onComplete:e})=>{let[t,r]=(0,pDe.useState)("");return v.createElement(Fc,null,v.createElement(Tc,null,"New Nested Query"),v.createElement("form",null,v.createElement(xl,{value:t,setValue:r,placeholder:"query_name",autoFocus:!0}),v.createElement(Eh,null,v.createElement(Ga,{type:"button",color:"secondary",onClick:e},"Cancel"),v.createElement(Ga,{onClick:()=>{n(t),e()}},"Save"))))};var cE=({source:n,selectField:e,selectNewNest:t,onComplete:r})=>{let[i,s]=(0,xle.useState)(!1),[o,a]=(0,xle.useState)("");return v.createElement(O1,null,!i&&v.createElement(v.Fragment,null,v.createElement(D1,null,v.createElement(cp,{placeholder:"Search",value:o,setValue:a,autoFocus:!0})),v.createElement(rc,null,v.createElement($l,null,o===""&&v.createElement(v.Fragment,null,v.createElement(Ho,{icon:v.createElement(ta,{action:"add"}),onClick:()=>s(!0),name:"New Nested Query",color:"other"}),v.createElement(U1,{fields:n.fields,filter:l=>l.type==="turtle",showNested:!0,selectField:e,topValues:void 0})),o!==""&&v.createElement(v.Fragment,null,v.createElement($y,{topValues:void 0,searchTerm:o,items:Wf(n).filter(({field:l})=>OM(l)).map(({field:l,path:f})=>({item:D0(l,f),terms:[...O0(l,f),"nest"],detail:R0(f),key:Eyt(f),select:()=>e(f)}))}))))),i&&v.createElement(mle,{addNest:t,onComplete:r}))};function Eyt(n){return"nest/"+n}m();m();var mDe=fr(Fr());var fE=({addOrderBy:n,orderByFields:e,onComplete:t})=>{let[r,i]=(0,mDe.useState)();return e.length===0?v.createElement(Fc,null,v.createElement(Tc,null,"Order By"),v.createElement(nc,null,"You must add some fields first.")):v.createElement("div",null,r===void 0&&v.createElement(O1,null,v.createElement($l,null,v.createElement(Syt,null,e.map(s=>v.createElement(Ho,{icon:v.createElement(Id,{type:s.type,kind:"dimension"}),key:s.name,onClick:()=>i(s),name:s.name,color:"dimension"}))))),r!==void 0&&v.createElement(Gy,{addOrderBy:n,onComplete:t,byField:r}))},Syt=Bn.div`
  overflow: hidden;
  display: flex;
  gap: 2px;
  flex-direction: column;
`;var gle=({model:n,modelPath:e,source:t,toggleField:r,addFilter:i,addLimit:s,addOrderBy:o,addNewNestedQuery:a,stagePath:l,orderByFields:f,addNewDimension:p,addNewMeasure:_,closeMenu:E,setDataStyle:O,beginReorderingField:R,addStage:q,topValues:z,rename:L})=>v.createElement(ef,{topValues:z,model:n,modelPath:e,valueSearchSource:t,addFilter:B=>i(l,B),closeMenu:E,actions:[{kind:"sub_menu",id:"filter",label:"Filter",iconName:"filter",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(Yy,{modelPath:e,model:n,source:t,addFilter:(P,G)=>i(l,P,G),onComplete:B,needsRename:!1,topValues:z})},{kind:"sub_menu",id:"nest",label:"Nest",iconName:"nest",iconColor:"query",closeOnComplete:!0,divider:!0,Component:({onComplete:B})=>v.createElement(cE,{source:t,selectField:P=>r(l,P),selectNewNest:P=>a(l,P),onComplete:B})},{kind:"sub_menu",id:"group_by",label:"Group By",iconColor:"dimension",iconName:"group_by",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(lE,{source:t,toggleField:P=>r(l,P),addNewDimension:P=>p(l,P),onComplete:B,topValues:z})},{kind:"sub_menu",id:"aggregate",label:"Aggregate",iconName:"aggregate",iconColor:"measure",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(uE,{source:t,selectField:P=>r(l,P),addNewMeasure:P=>_(l,P),onComplete:B})},{kind:"sub_menu",id:"limit",label:"Limit",iconName:"limit",iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(Ky,{addLimit:P=>s(l,P),onComplete:B})},{kind:"sub_menu",id:"order_by",label:"Order By",iconName:"order_by",iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(fE,{addOrderBy:(P,G)=>o(l,P,G),orderByFields:f,onComplete:B})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(dp,{setDataStyle:O,onComplete:B,allowedRenderers:["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]})},{kind:"sub_menu",id:"rename",iconName:"rename",iconColor:"other",label:"Rename",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(oE,{rename:L,onComplete:B})},{kind:"one_click",id:"add_stage",label:"Add stage",iconName:"stage",iconColor:"other",onClick:q},{kind:"one_click",id:"move",iconName:"move",iconColor:"other",label:"Move",onClick:R}],searchItems:Wf(t).map(({field:B,path:P})=>({item:D0(B,P),terms:O0(B,P),detail:R0(P),key:P,select:()=>r(l,P)}))});m();m();m();m();var xDe=fr(Fr());var yle=({existing:n,editFilter:e,source:t,onComplete:r})=>{let[i,s]=(0,xDe.useState)(n);return v.createElement(Fc,null,v.createElement(Tc,null,"Edit Filter"),v.createElement("form",null,v.createElement(sN,{value:i,setValue:s,placeholder:"filter_expression",autoFocus:!0,rows:3}),v.createElement(Eh,null,v.createElement(Ga,{type:"button",color:"secondary",onClick:r},"Cancel"),v.createElement(Ga,{onClick:()=>{Vx(t,i).then(o=>{e(o),r()})}},"Save"))))};var vle=({filterSource:n,editFilter:e,closeMenu:t,source:r,filterField:i,parsedFilter:s,model:o,modelPath:a,fieldPath:l})=>v.createElement(ef,{closeMenu:t,actions:[{id:"edit",label:"Change filter",iconName:"filter",iconColor:"filter",kind:"sub_menu",closeOnComplete:!0,Component:({onComplete:f})=>i&&s?v.createElement(eE,{model:o,source:r,field:i,addFilter:e,fieldPath:l,needsRename:!1,onComplete:f,modelPath:a,initial:s}):v.createElement(yle,{editFilter:e,onComplete:f,existing:n,source:r})}]});m();m();var _le=({closeMenu:n,editOrderBy:e,orderByField:t,existingDirection:r})=>v.createElement(ef,{closeMenu:n,actions:[{kind:"sub_menu",id:"edit",iconName:"order_by",iconColor:"other",label:"Edit Order By",closeOnComplete:!0,Component:({onComplete:i})=>v.createElement(Gy,{addOrderBy:(s,o)=>e(o),onComplete:i,byField:t,initialDirection:r})}]});m();m();var ble=({onComplete:n,setDataStyle:e,allowedRenderers:t})=>v.createElement(dp,{onComplete:n,setDataStyle:e,allowedRenderers:t});m();m();var JH=({source:n,toggleField:e,addFilter:t,addLimit:r,addOrderBy:i,addNewNestedQuery:s,stagePath:o,orderByFields:a,addNewDimension:l,addNewMeasure:f,closeMenu:p,setDataStyle:_,isLastStage:E,topValues:O,model:R,modelPath:q})=>v.createElement(ef,{topValues:O,closeMenu:p,actions:[{kind:"sub_menu",id:"filter",label:"Filter",iconName:"filter",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:z})=>v.createElement(Yy,{model:R,modelPath:q,source:n,addFilter:(L,B)=>t(o,L,B),onComplete:z,needsRename:!1,topValues:O})},{kind:"sub_menu",id:"nest",label:"Nest",iconName:"nest",iconColor:"query",closeOnComplete:!0,divider:!0,Component:({onComplete:z})=>v.createElement(cE,{source:n,selectField:L=>e(o,L),selectNewNest:L=>s(o,L),onComplete:z})},{kind:"sub_menu",id:"group_by",label:"Group By",iconName:"group_by",iconColor:"dimension",closeOnComplete:!0,Component:({onComplete:z})=>v.createElement(lE,{source:n,toggleField:L=>e(o,L),addNewDimension:L=>l(o,L),onComplete:z,topValues:O})},{kind:"sub_menu",id:"aggregate",label:"Aggregate",iconName:"aggregate",iconColor:"measure",closeOnComplete:!0,Component:({onComplete:z})=>v.createElement(uE,{source:n,selectField:L=>e(o,L),addNewMeasure:L=>f(o,L),onComplete:z})},{kind:"sub_menu",id:"limit",label:"Limit",iconName:"limit",iconColor:"other",closeOnComplete:!0,Component:({onComplete:z})=>v.createElement(Ky,{addLimit:L=>r(o,L),onComplete:z})},{kind:"sub_menu",id:"order_by",label:"Order By",iconName:"order_by",iconColor:"other",closeOnComplete:!0,Component:({onComplete:z})=>v.createElement(fE,{addOrderBy:(L,B)=>i(o,L,B),orderByFields:a,onComplete:z})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,isEnabled:E,Component:({onComplete:z})=>v.createElement(dp,{setDataStyle:_,onComplete:z,allowedRenderers:["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]})}],searchItems:Wf(n).map(({field:z,path:L})=>({item:D0(z,L),terms:O0(z,L),detail:R0(L),key:L,select:()=>e(o,L)}))});m();m();var Ele=({remove:n,closeMenu:e})=>v.createElement(ef,{closeMenu:e,actions:[{kind:"one_click",id:"remove",iconName:"remove",iconColor:"other",label:"Remove",onClick:n}]});var Sle=({model:n,modelPath:e,querySummary:t,stagePath:r,queryName:i,topValues:s,queryModifiers:o})=>t.stages[0].items.length===0&&t.stages.length===1&&(!r||!r.parts||r.parts.length===0)?v.createElement(nc,null,v.createElement("div",null,"Add fields to the query"),v.createElement("div",null,"with the \u201C+\u201D button")):v.createElement(wle,null,t.stages.map((a,l)=>{let f=vH(r,{stageIndex:l,fieldIndex:0});return v.createElement("div",{key:"stage/"+l},t.stages.length>1&&v.createElement(Cle,{popoverContent:({closeMenu:p})=>v.createElement(JH,{model:n,modelPath:e,source:a.inputSource,toggleField:o.toggleField,addFilter:o.addFilter,addLimit:o.addLimit,addOrderBy:o.addOrderBy,addNewNestedQuery:o.addNewNestedQuery,stagePath:f,remove:()=>o.removeStage(f),orderByFields:a.orderByFields,addNewDimension:o.addNewDimension,addNewMeasure:o.addNewMeasure,closeMenu:p,isLastStage:l===t.stages.length-1,setDataStyle:_=>o.setDataStyle(i,_),stageSummary:a.items,updateFieldOrder:o.updateFieldOrder,topValues:s}),content:({isOpen:p})=>v.createElement(vDe,{active:p},"Stage ",l+1,v.createElement(kH,{className:"back"},v.createElement(IH,{color:"other",width:"20px",height:"20px",className:"close",onClick:()=>o.removeStage(f)})))}),v.createElement(gDe,{model:n,modelPath:e,stage:a,queryModifiers:o,stagePath:f,key:"stage/"+l,source:a.inputSource,topValues:s}))})),gDe=({model:n,modelPath:e,stage:t,topValues:r,queryModifiers:i,source:s,stagePath:o})=>{let[a,l]=(0,Kx.useState)(),f=_=>{l(_)},p=t.items.map(_=>"fieldIndex"in _?_.fieldIndex:void 0).filter(DM);return(0,Kx.useEffect)(()=>{let _=E=>{let O=p.findIndex(z=>z===a),R=E.key==="ArrowUp"?-1:E.key==="ArrowDown"?1:0,q=O+R;if(O>-1&&R!==0&&q>=0&&q<p.length){let z=[...p],L=z[O];z[O]=z[q],z[q]=L,i.updateFieldOrder(o,z),l(q)}};return window.addEventListener("keyup",_),()=>window.removeEventListener("keyup",_)}),v.createElement(wle,null,t.items.map((_,E)=>v.createElement(yDe,{model:n,modelPath:e,key:`${_.type}/${E}`,item:_,stageSummary:t.items,beginReorderingField:f,isSelected:"fieldIndex"in _&&_.fieldIndex===a,deselect:()=>l(void 0),topValues:r,queryModifiers:i,source:s,stagePath:o})))},wle=Bn.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`,Cle=({popoverContent:n,content:e})=>{let[t,r]=(0,Kx.useState)(!1),i=(0,Kx.useRef)(!1),s=(0,Kx.useRef)(null),o=()=>{i.current=!0,r(!1)};return(0,Kx.useEffect)(()=>{i.current=!1},[t]),v.createElement(v.Fragment,null,v.createElement(wyt,{onClick:()=>!i.current&&r(!0)},v.createElement("div",{ref:s,key:t?"open":"closed"},e({isOpen:t,closeMenu:o})),v.createElement(B1,{open:t,setOpen:r,referenceDiv:s},n({setOpen:r,closeMenu:o}))))},wyt=Bn.div`
  position: relative;
`,yDe=({model:n,modelPath:e,item:t,source:r,stagePath:i,fieldIndex:s,stageSummary:o,isSelected:a,beginReorderingField:l,deselect:f,topValues:p,queryModifiers:_})=>{let E=(0,Kx.useRef)(null),O=[];return"styles"in t&&t.styles&&O.push(...t.styles.map(R=>({childItem:R}))),"filters"in t&&t.filters&&O.push(...t.filters.map(R=>({childItem:R,fieldIndex:t.fieldIndex}))),k1(E,()=>a&&f()),v.createElement("div",{ref:E},v.createElement(Cle,{popoverContent:({closeMenu:R})=>{if((t.type==="field"||t.type==="field_definition")&&t.kind!=="query"){if(t.kind==="dimension")return v.createElement(lle,{model:n,modelPath:e,source:r,removeField:()=>_.removeField(i,t.fieldIndex),rename:q=>{_.renameField(i,t.fieldIndex,q)},closeMenu:R,setDataStyle:q=>_.setDataStyle(t.name,q),stagePath:i,stageSummary:o,updateFieldOrder:_.updateFieldOrder,fieldIndex:t.fieldIndex,beginReorderingField:()=>{l(t.fieldIndex),R()},filterField:t.type==="field"?t.field:void 0,filterFieldPath:t.type==="field"?t.path:void 0,name:t.name,isEditable:t.type==="field_definition",definition:t.type==="field_definition"?t.source:void 0,addFilter:_.addFilter,editDimension:(q,z)=>_.editDimension(i,q,z),addOrderBy:_.addOrderBy,orderByField:{name:t.name,fieldIndex:t.fieldIndex,type:wX(t.field)}});if(t.kind==="measure"){let q=t.type==="field_definition"||t.kind==="measure"&&t.isRenamed;return v.createElement(fle,{model:n,modelPath:e,stagePath:i,source:r,removeField:()=>_.removeField(i,t.fieldIndex),addFilter:(z,L)=>_.addFilterToField(i,t.fieldIndex,z,L),rename:z=>{_.renameField(i,t.fieldIndex,z)},closeMenu:R,setDataStyle:z=>_.setDataStyle(t.name,z),isRenamed:q,beginReorderingField:()=>{l(t.fieldIndex),R()},fieldIndex:t.fieldIndex,name:t.name,isEditable:t.type==="field_definition",definition:t.type==="field_definition"?t.source:void 0,editMeasure:(z,L)=>_.editMeasure(i,z,L),topValues:p,addOrderBy:_.addOrderBy,orderByField:{name:t.name,fieldIndex:t.fieldIndex,type:wX(t.field)}})}}else{if(t.type==="filter")return v.createElement(vle,{model:n,modelPath:e,source:r,filterSource:t.filterSource,filterField:t.field,fieldPath:t.fieldPath,parsedFilter:t.parsed,removeFilter:()=>_.removeFilter(i,t.filterIndex),editFilter:q=>_.editFilter(i,s,t.filterIndex,q),closeMenu:R});if(t.type==="limit")return v.createElement(dle,{removeLimit:()=>_.removeLimit(i),editLimit:q=>_.editLimit(i,q),closeMenu:R,limit:t.limit});if(t.type==="order_by")return v.createElement(_le,{removeOrderBy:()=>_.removeOrderBy(i,t.orderByIndex),closeMenu:R,orderByField:t.byField,orderByIndex:t.orderByIndex,existingDirection:t.direction,editOrderBy:q=>_.editOrderBy(i,t.orderByIndex,q)});if(t.type==="data_style")return v.createElement(ble,{onComplete:R,setDataStyle:q=>_.setDataStyle(t.styleKey,q),allowedRenderers:t.allowedRenderers});if(t.type==="nested_query_definition"||t.type==="field"&&t.kind==="query"){let q=vH(i,{fieldIndex:t.fieldIndex,stageIndex:0});return v.createElement(gle,{model:n,modelPath:e,source:r,toggleField:_.toggleField,addFilter:_.addFilter,addLimit:_.addLimit,addOrderBy:_.addOrderBy,addNewNestedQuery:_.addNewNestedQuery,stagePath:q,remove:()=>_.removeField(i,t.fieldIndex),orderByFields:t.stages[0].orderByFields,addNewDimension:_.addNewDimension,addNewMeasure:_.addNewMeasure,closeMenu:R,setDataStyle:z=>_.setDataStyle(t.name,z),addStage:()=>_.addStage(i,t.fieldIndex),stageSummary:t.stages[0].items,updateFieldOrder:_.updateFieldOrder,topValues:p,rename:z=>{_.renameField(i,t.fieldIndex,z)},beginReorderingField:()=>{l(t.fieldIndex),R()}})}else return t.type==="error_field"?v.createElement(Ele,{remove:()=>_.removeField(i,t.fieldIndex),closeMenu:R}):v.createElement("div",null)}},content:({isOpen:R,closeMenu:q})=>{if(t.type==="field"||t.type==="field_definition"){let z=t.type==="field"&&!t.isRefined,L;return t.kind==="dimension"?L=v.createElement(Ho,{icon:v.createElement(ta,{action:"group_by"}),name:t.name,unsaved:!z,canRemove:!0,onRemove:()=>{_.removeField(i,t.fieldIndex),q()},color:"dimension",active:R||a}):t.kind==="measure"?L=v.createElement(Ho,{icon:v.createElement(ta,{action:"aggregate"}),name:t.name,canRemove:!0,unsaved:!z,onRemove:()=>{_.removeField(i,t.fieldIndex),q()},color:"measure",active:R||a}):L=v.createElement(Ho,{icon:v.createElement(ta,{action:"nest"}),name:t.name,canRemove:!0,onRemove:()=>{_.removeField(i,t.fieldIndex),q()},color:"query",active:R||a}),v.createElement(j4,{width:300,enabled:!R,content:()=>L,zIndex:9,popoverContent:()=>v.createElement(B4,{fieldPath:t.type==="field"?t.path:void 0,definition:t.type!=="field"?t.source:void 0,topValues:void 0})})}else return t.type==="filter"?v.createElement(j4,{width:300,enabled:!R,zIndex:9,content:()=>v.createElement(Ho,{icon:v.createElement(ta,{action:"filter"}),name:t.filterSource,canRemove:!0,onRemove:()=>{_.removeFilter(i,t.filterIndex,s),q()},color:"filter",active:R||a}),popoverContent:()=>v.createElement(B4,{filterExpression:t.filterSource,topValues:void 0})}):t.type==="limit"?v.createElement(Ho,{icon:v.createElement(ta,{action:"limit"}),name:`limit: ${t.limit}`,canRemove:!0,onRemove:()=>{_.removeLimit(i),q()},color:"other",active:R||a}):t.type==="order_by"?v.createElement(Ho,{icon:v.createElement(ta,{action:"order_by"}),name:`${t.byField.name} ${t.direction||""}`,canRemove:!0,onRemove:()=>{_.removeOrderBy(i,t.orderByIndex),q()},color:"other",active:R||a}):t.type==="data_style"?v.createElement(Ho,{icon:v.createElement(KH,{renderer:t.renderer}),name:t.renderer,color:"other",canRemove:t.canRemove,onRemove:()=>{_.setDataStyle(t.styleKey,void 0),q()},active:R||a}):t.type==="nested_query_definition"?v.createElement(Ho,{icon:v.createElement(ta,{action:"nest"}),name:t.name,unsaved:!0,canRemove:!0,onRemove:()=>{_.removeField(i,t.fieldIndex),q()},color:"query",active:R||a}):t.type==="error_field"?v.createElement(Ho,{icon:v.createElement(ta,{action:"error"}),name:t.name,unsaved:!1,canRemove:!0,onRemove:()=>{_.removeField(i,t.fieldIndex),q()},color:"error",active:R||a}):v.createElement("div",null)}}),t.type==="nested_query_definition"&&(t.stages[0].items.length>0||t.stages.length>1)&&t.stages.map((R,q)=>{let z=vH(i,{fieldIndex:t.fieldIndex,stageIndex:q});return v.createElement(l9,{key:"stage/"+q},t.stages.length>1&&v.createElement(Cle,{popoverContent:({closeMenu:L})=>v.createElement(JH,{model:n,modelPath:e,source:R.inputSource,toggleField:_.toggleField,addFilter:_.addFilter,addLimit:_.addLimit,addOrderBy:_.addOrderBy,addNewNestedQuery:_.addNewNestedQuery,stagePath:z,remove:()=>_.removeStage(z),orderByFields:R.orderByFields,addNewDimension:_.addNewDimension,addNewMeasure:_.addNewMeasure,closeMenu:L,setDataStyle:B=>_.setDataStyle(t.name,B),isLastStage:q===t.stages.length-1,stageSummary:R.items,updateFieldOrder:_.updateFieldOrder,topValues:p}),content:({isOpen:L})=>v.createElement(vDe,{active:L},"Stage ",q+1,v.createElement(kH,{className:"back"},v.createElement(IH,{color:"other",width:"20px",height:"20px",className:"close",onClick:()=>_.removeStage(z)})))}),v.createElement(gDe,{model:n,modelPath:e,stage:R,stagePath:z,source:r,topValues:p,queryModifiers:_}))}),O.length>0&&v.createElement(l9,null,v.createElement(wle,null,O.map(({childItem:R,fieldIndex:q},z)=>v.createElement(yDe,{model:n,modelPath:e,key:"child:"+z,item:R,source:r,stagePath:i,fieldIndex:q,stageSummary:o,isSelected:!1,beginReorderingField:()=>{},deselect:()=>{},topValues:p,queryModifiers:_})))))},vDe=Bn.div`
  text-transform: uppercase;
  font-size: 12px;
  border: none;
  overflow: hidden;
  background-color: transparent;
  border-radius: 50px;
  padding: 5px 7px 5px 10px;
  text-align: left;
  margin-bottom: 2px;
  user-select: none;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
  font-family: "Google Sans";
  color: #9aa0a6;

  &:hover {
    .back {
      visibility: visible;
    }
  }

  .back {
    visibility: hidden;
  }

  &:hover {
    background-color: #f7f8f8;
  }

  ${({active:n})=>n?`
      background-color: #f7f8f8;
      .back {
        visibility: visible;
      }
    `:""}
`;m();m();var o0=fr(Fr()),RRe=fr(DRe());m();m();var $1=fr(Fr());m();var z4=fr(Fr()),ORe=n=>z4.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},z4.createElement("title",null,"download_hover"),z4.createElement("g",{id:"download_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},z4.createElement("circle",{id:"Oval",fill:"#EAF2FF",className:"hoverfill",cx:55,cy:55,r:55}),z4.createElement("g",{id:"download_black_24dp",transform:"translate(8.000000, 9.133308)"},z4.createElement("rect",{id:"Rectangle",x:0,y:0,width:94,height:94}),z4.createElement("path",{d:"M19.5833333,78.3333333 L74.4166667,78.3333333 L74.4166667,70.5 L19.5833333,70.5 L19.5833333,78.3333333 Z M74.4166667,35.25 L58.75,35.25 L58.75,11.75 L35.25,11.75 L35.25,35.25 L19.5833333,35.25 L47,62.6666667 L74.4166667,35.25 Z",id:"Shape",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"}))));var Wle=({onDownloadHTML:n,onDownloadJSON:e,disabled:t=!1})=>{let[r,i]=(0,$1.useState)(!1),s=(0,$1.useRef)(),o=a=>l=>{if(!t){let f=l.metaKey;a(s.current?.checked?!f:f),i(!1)}};return $1.default.createElement(O5t,null,$1.default.createElement(D5t,{disabled:t,onClick:()=>!t&&i(!0),width:"26px",height:"26px"}),$1.default.createElement(B1,{open:r,setOpen:i,placement:"bottom-start",width:200,maxHeight:500,yOffset:25},$1.default.createElement(CFe,{options:[{label:"Download HTML",onSelect:o(n)},{label:"Download JSON",onSelect:o(e)}]}),$1.default.createElement(R5t,null,$1.default.createElement(N5t,{type:"checkbox",ref:s,id:"new-tab-check"}),$1.default.createElement(L5t,{htmlFor:"new-tab-check"},"Open in new tab"))))},D5t=Bn(ORe)`
  cursor: pointer;

  .hoverfill {
    fill: transparent;
  }

  ${({disabled:n})=>`
    .primaryfill {
      fill: ${n?mi.other.fillMedium:mi.other.fillStrong};
    }

    &:hover {
      .hoverfill {
        fill: ${n?"transparent":mi.dimension.fillLight};
      }

      .primaryfill {
        fill: ${n?mi.other.fillMedium:mi.dimension.fillStrong};
      }
    }
  `}
`,O5t=Bn.div`
  display: flex;
  align-items: center;
  user-select: none;
`,R5t=Bn.div`
  border-top: 1px solid #ececec;
  font-family: Roboto;
  padding: 10px 15px;
`,N5t=Bn.input``,L5t=Bn.label`
  margin-left: 8px;
  color: #5f6368;
`;m();m();var lW=fr(Fr()),Xy=({element:n})=>{let e=(0,lW.useRef)(null);return(0,lW.useEffect)(()=>{let t=e.current;t&&(t.innerHTML="",t.appendChild(n))},[n]),v.createElement("div",{ref:e})};var Qle=({model:n,source:e,result:t,dataStyles:r,malloy:i,onDrill:s,isRunning:o})=>{let[a,l]=(0,o0.useState)(),[f,p]=(0,o0.useState)(),[_,E]=(0,o0.useState)(),[O,R]=(0,o0.useState)(),[q,z]=(0,o0.useState)(),[L,B]=(0,o0.useState)("html"),[P,G]=(0,o0.useState)(!1),[ue,I]=(0,o0.useState)(!1),[J,he]=(0,o0.useState)("source"),[ye,He]=(0,o0.useState)(!1),at=(0,o0.useRef)(0),ct=yH(t),Ze=yH(r);return(0,o0.useEffect)(()=>{U_(i.markdown,"md").then(R).catch(console.log),U_(AX(i.source),"malloy").then(p).catch(console.log),U_(i.model,"malloy").then(E).catch(console.log)},[i]),(0,o0.useEffect)(()=>{let Et=!1;return(async()=>{let qe=t?.sql;if(qe===void 0){if(n===void 0||i.model===void 0||i.model===""||!i.isRunnable)return;try{qe=await dFe(n,i.model)}catch(et){console.error(et)}}if(qe===void 0)return;let te=await U_(qe,"sql");Et||z(te)})(),()=>{Et=!0}},[t,i,n]),(0,o0.useEffect)(()=>{t===ct&&JSON.stringify(r)===JSON.stringify(Ze)||(I(!1),He(!1),l(void 0),t!==void 0&&setTimeout(async()=>{I(!0),console.log(t.sql);let Et=++at.current,Mt=await new RRe.HTMLView(document).render(t.data,{dataStyles:r,isDrillingEnabled:!0,onDrill:(qe,te,et)=>{Promise.all(et.map(be=>Vx(e,be).catch(ke=>{console.log(ke)}))).then(be=>{let ke=be.filter(DM);ke.length>0&&s(ke)})}});setTimeout(()=>{at.current===Et&&(I(!1),He(!0),setTimeout(()=>{at.current===Et&&l(Mt)},0))},0)}))},[t,r,Ze,ct]),v.createElement(M5t,null,v.createElement(B5t,null,v.createElement(LRe,null,v.createElement(Gle,{onClick:()=>B("malloy"),selected:L==="malloy"},"Malloy"),v.createElement(Gle,{onClick:()=>B("sql"),selected:L==="sql"},"SQL"),v.createElement(Gle,{onClick:()=>B("html"),selected:L==="html"},"Results")),v.createElement(LRe,null,v.createElement(Wle,{disabled:!t||a===void 0||ue,onDownloadHTML:Et=>CX(a?Vme(a.outerHTML,"Malloy Download"):"","text/html","result.html",Et),onDownloadJSON:Et=>CX(JSON.stringify(t?.data.toObject()||{},null,2),"application/json","result.json",Et)}))),v.createElement(P5t,null,o&&L!=="malloy"&&v.createElement(fp,{text:"Running"}),L==="html"&&v.createElement(v.Fragment,null,t!==void 0&&ue&&v.createElement(fp,{text:"Rendering"}),!a&&ye&&v.createElement(fp,{text:"Displaying"}),a&&ye&&v.createElement(I5t,null,v.createElement(Xy,{element:a}))),q!==void 0&&L==="sql"&&v.createElement(NRe,null,q&&v.createElement(Xy,{element:q})),L==="malloy"&&v.createElement(NRe,{style:{marginLeft:J==="source"?"-2ch":""}},J==="source"&&f&&v.createElement(Xy,{element:f}),J==="model"&&_&&v.createElement(Xy,{element:_}),J==="markdown"&&O&&v.createElement(Xy,{element:O}),v.createElement(k5t,null,v.createElement(ta,{action:"copy",onClick:()=>{let Et=i[J];J==="source"&&(Et=AX(Et)),Qme(Et),G(!0)},color:P?"other":"dimension"}),v.createElement(gl,{value:J,onChange:Et=>{he(Et),G(!1)},options:[{value:"source",label:"Source"},{value:"model",label:"Model"},{value:"markdown",label:"Markdown"}]})))))},k5t=Bn.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  position: absolute;
  top: 0;
  right: 0;
  background-color: white;
  border-radius: 4px;
  width: 140px;
  justify-content: flex-end;
  align-items: center;
`,I5t=Bn.div`
  font-size: 14px;
  font-family: "Roboto Mono";
`,M5t=Bn.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  overflow: hidden;
`,P5t=Bn(Nb)`
  padding: 20px;
  overflow: auto;
  width: auto;
`,B5t=Bn(iH)`
  gap: 10px;
  justify-content: space-between;
  padding: 0px 20px;
  flex-direction: row;
  width: auto;
`,Gle=Bn.div`
  padding: 8px;
  cursor: pointer;
  text-transform: uppercase;
  color: #939393;
  font-family: "Google Sans";
  border-top: 1px solid transparent;
  font-size: 11pt;
  ${({selected:n})=>`border-bottom: 1px solid ${n?"#4285F4":"transparent"}`}
`,NRe=Bn.div`
  padding: 0 15px;
  font-family: "Roboto Mono";
  font-size: 14px;
  position: relative;
  width: 100%;
`,LRe=Bn.div`
  display: flex;
  align-items: center;
  font-size: 11pt;
  color: #4d4d4d;
`;m();m();var Yle=({source:n,stagePath:e,orderByFields:t,closeMenu:r,queryName:i,topValues:s,queryModifiers:o,model:a,modelPath:l})=>v.createElement(ef,{topValues:s,valueSearchSource:n,addFilter:f=>o.addFilter(e,f),closeMenu:r,model:a,modelPath:l,actions:[{kind:"sub_menu",id:"filter",label:"Filter",iconName:"filter",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:f})=>v.createElement(Yy,{modelPath:l,model:a,topValues:s,source:n,addFilter:(p,_)=>o.addFilter(e,p,_),onComplete:f,needsRename:!1})},{kind:"sub_menu",id:"nest",label:"Nest",iconName:"nest",iconColor:"query",closeOnComplete:!0,divider:!0,Component:({onComplete:f})=>v.createElement(cE,{source:n,selectField:p=>o.toggleField(e,p),selectNewNest:p=>o.addNewNestedQuery(e,p),onComplete:f})},{kind:"sub_menu",id:"group_by",label:"Group By",iconName:"group_by",iconColor:"dimension",closeOnComplete:!0,Component:({onComplete:f})=>v.createElement(lE,{topValues:s,source:n,addNewDimension:p=>o.addNewDimension(e,p),toggleField:p=>o.toggleField(e,p),onComplete:f})},{kind:"sub_menu",id:"aggregate",label:"Aggregate",iconColor:"measure",iconName:"aggregate",closeOnComplete:!0,Component:({onComplete:f})=>v.createElement(uE,{source:n,selectField:p=>o.toggleField(e,p),addNewMeasure:p=>o.addNewMeasure(e,p),onComplete:f})},{kind:"sub_menu",id:"limit",label:"Limit",iconName:"limit",iconColor:"other",closeOnComplete:!0,Component:({onComplete:f})=>v.createElement(Ky,{addLimit:p=>o.addLimit(e,p),onComplete:f})},{kind:"sub_menu",id:"order_by",label:"Order By",iconName:"order_by",iconColor:"other",closeOnComplete:!0,Component:({onComplete:f})=>v.createElement(fE,{addOrderBy:(p,_)=>o.addOrderBy(e,p,_),orderByFields:t,onComplete:f})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:f})=>v.createElement(dp,{setDataStyle:p=>o.setDataStyle(i,p),onComplete:f,allowedRenderers:["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]})},{kind:"one_click",id:"add_stage",label:"Add Stage",iconName:"stage",iconColor:"other",onClick:()=>o.addStage(void 0)}],searchItems:Wf(n).map(({field:f,path:p})=>({item:D0(f,p),terms:O0(f,p),detail:R0(p),key:p,select:()=>o.toggleField(e,p)}))});m();var H4=fr(Fr()),cW=n=>H4.createElement("svg",{width:"357px",height:"110px",viewBox:"0 0 357 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},H4.createElement("title",null,"query_run_wide"),H4.createElement("g",{id:"query_run_wide",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},H4.createElement("path",{d:"M55.5,5.0735362 L287.5,5.0735362 C297.517605,5.0735362 306.301251,7.17877912 313.56051,11.0988368 C320.819769,15.0188946 326.554642,20.7537671 330.474699,28.0130264 C334.394757,35.2722856 336.5,44.0559316 336.5,54.0735362 C336.5,64.0911408 334.394757,72.8747868 330.474699,80.134046 C326.554642,87.3933053 320.819769,93.1281778 313.56051,97.0482355 C306.301251,100.968293 297.517605,103.073536 287.5,103.073536 L55.5,103.073536 C45.4823954,103.073536 36.6987494,100.968293 29.4394902,97.0482355 C22.1802309,93.1281778 16.4453584,87.3933053 12.5253006,80.134046 C8.60524292,72.8747868 6.5,64.0911408 6.5,54.0735362 C6.5,44.0559316 8.60524292,35.2722856 12.5253006,28.0130264 C16.4453584,20.7537671 22.1802309,15.0188946 29.4394902,11.0988368 C36.6987494,7.17877912 45.4823954,5.0735362 55.5,5.0735362 Z",id:"Rectangle",className:"backgroundfill",fill:"#4285F4"}),H4.createElement("text",{id:"RUN-Copy",fontFamily:"GoogleSans-Medium, Google Sans",fontSize:59,fontWeight:400,fill:"#FFFFFF",className:"foregroundfill"},H4.createElement("tspan",{x:152.764,y:74.5},"RUN")),H4.createElement("path",{d:"M110,33.0734278 L135.127584,77.25 L84.8724165,77.25 L110,33.0734278 Z",id:"Triangle-Copy-2",className:"foregroundstroke",stroke:"#FFFFFF",strokeWidth:6.5,transform:"translate(110.000000, 53.500000) rotate(-270.000000) translate(-110.000000, -53.500000) "})));m();m();var kRe=fr(up()),IRe=fr(Fr());var Kle=({model:n,source:e,selectField:t,onComplete:r})=>{let[i,s]=(0,IRe.useState)(""),o=n&&e?U5t(n,e):[],a=[...e.fields,...o];return v.createElement(O1,null,v.createElement(D1,null,v.createElement(cp,{placeholder:"Search",value:i,setValue:s,autoFocus:!0})),v.createElement(rc,null,v.createElement($l,null,i===""&&v.createElement(U1,{fields:a,filter:l=>l.type==="turtle",showNested:!0,selectField:(l,f)=>{t(f),r()},topValues:void 0}),i!==""&&v.createElement(v.Fragment,null,v.createElement($y,{topValues:void 0,searchTerm:i,items:a.map(l=>({field:l,path:l.as||l.name})).filter(({field:l})=>OM(l)).map(({field:l,path:f})=>({item:D0(l,f),terms:[...O0(l,f),"query"],detail:R0(f),key:j5t(f),select:()=>{t(l),r()}}))})))))};function j5t(n){return"load/"+n}function q5t(n){return n.type==="query"}function U5t(n,e){return Object.values(n.contents).filter(q5t).filter(t=>t.structRef===(e.as||e.name)).flatMap(t=>{try{return[(0,kRe.flattenQuery)(n,t)]}catch(r){return console.error(r),[]}})}var Xle=({dirty:n,model:e,modelPath:t,source:r,queryName:i,topValues:s,runQuery:o,querySummary:a,result:l,dataStyles:f,isRunning:p,queryMalloy:_,queryModifiers:E,undo:O,canUndo:R,isQueryEmpty:q,canQueryRun:z})=>{let[L,B]=(0,Jle.useState)(!1),[P,G]=(0,Jle.useState)(!1);return v.createElement($5t,null,v.createElement(z5t,null,v.createElement(W5t,null,r&&v.createElement(v.Fragment,null,v.createElement("div",null,v.createElement(ta,{action:"add",onClick:()=>B(!0),color:"dimension"}),v.createElement(B1,{open:L,setOpen:B},v.createElement(Yle,{model:e,modelPath:t,source:r,queryModifiers:E,stagePath:{stageIndex:0},orderByFields:a?.stages[0].orderByFields||[],closeMenu:()=>B(!1),queryName:i,stageSummary:a?.stages[0].items||[],isOnlyStage:a?.stages.length===1,topValues:s}))),v.createElement("div",null,v.createElement(ta,{action:"load",onClick:()=>G(!0),color:"query"}),v.createElement(B1,{open:P,setOpen:G},v.createElement(Kle,{model:e,source:r,selectField:E.replaceQuery,onComplete:()=>G(!1)}))),v.createElement(ta,{action:"undo",onClick:()=>O(),color:R?"dimension":"other"}),v.createElement(ta,{action:"remove",onClick:()=>E.clearQuery(),color:q?"other":"dimension"}),v.createElement(Q5t,{width:"80px",onClick:()=>o(),className:p?"running":q||!z?"blank":n?"dirty":"clean"}))),v.createElement(H5t,null,v.createElement(V5t,null,a&&v.createElement(Sle,{model:e,modelPath:t,source:r,querySummary:a,queryModifiers:E,stagePath:void 0,queryName:i,topValues:s})))),v.createElement(Qle,{model:e,source:r,result:l,dataStyles:f,malloy:_,onDrill:E.onDrill,isRunning:p}))},$5t=Bn.div`
  overflow: hidden;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row;
  overflow: hidden;
  gap: 10px;
`,z5t=Bn.div`
  width: 300px;
  min-width: 300px;
  height: 100%;
  display: flex;
  flex-direction: column;
`,H5t=Bn(Nb)`
  display: flex;
  overflow-y: auto;
  flex-direction: column;
`,V5t=Bn.div`
  padding: 10px;
`,W5t=Bn(iH)`
  gap: 20px;
  justify-content: center;
  align-items: center;
`,Q5t=Bn(cW)`
  cursor: pointer;
  &.running,
  &.clean,
  &.blank {
    .backgroundfill {
      fill: #e9e9e9;
    }
    .foregroundstroke {
      stroke: #a7a7a7;
    }
    .foregroundfill {
      fill: #a7a7a7;
    }
  }
`;m();m();var MRe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAABAKADAAQAAAABAAABAAAAAABn6hpJAAA4h0lEQVR4Ae1dCXgV1fW/d+btLwshCSCKWtyquNZCCJsgi7JWlKBtXWvF2qqtCARUakCQ1bW1deliq22VKFbWivpnk926tm6tVkBlSQKB5C3JezP3f27gheTlzZt97iTc+b58eXPvueec+5uZc7ff3EGIHxwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEehYCOCOVR331ObiioqQL3zCJBnvHZaUD/QCoAsITgqEJJFI8pICLtgjkJz3vYmTX+154vdeffYmHHeP9/Z7Ujs9vyAmhm9prPFcmoh4zyYY5RMJC7KMkSeUaPTkJncjv/xuoEfd0q59617D30UJ+706/izwAGDxNS95+IkRMvliYQP55DyC4oIW9V6pZ8KLe270S92nbJhxw7tayrRXmT3Tu5VFv86ZHdkZOgseePX7DxAM9ojE/V2ia3BhZPLJMw993l7r7ka/1S+AG712oU8Xzfn1KULg0zca8SenIQLNmIEDIz8JygPe9x28cMTGeaOqDKhwbZHdd3U9L7Ynb3Vsd+hEo06KQYnkXXBwvSf369HdK1DUqB5e7hgChm7UY8X5L4pA6dxfzYx51/9SEg56rEBEREUJP/nO/dumls+zQh9rHf+b1v2xyHudb5cioqYekZq/vsLGeLhn/W0nP7r7WTVZnp8dAR4AsuOjmlsyd+Gfov43rkNIshZLDDME+LKXt0yeUqbqhHsF8Bd3nLS67p3Cy6x2UfDKpLD3gUe7L/p6stW6jyd91t60xxNyUNe+8xe/GPG8NhEh2baaB4U+q7ZPnjfaNgM2Kv7izh7r6/7ZeZBdJmAGgeT3OvTMKU99eatdNjq6Xku6ZB0dpEz1G7D49/Psfvip3Zi8fVTpw3N+l8kHN6ftnt79r3Y+/LTuhCB86F/5t+ydcuK9bsbCzb7xHoCBq1P62GP9Ism1GwmpcySAYhwkId/ogVvvuG2TAXcdL7J/2okT9u3ovERuFBy5v7y5klTQt/r0Eyr2ful4Zdu5QUdu4HaOUbr7uCHx/iqnHn5qnJAYboj/czn8dOSBSq+wnvP9FcU5Bz7Kf86ph5/6lqgTxchnuWv1+MlljyDAA4DOO6HvozOfT6Cd+TqLmRZP4v8V9Fk88zemFdmsILIrb0XDQW/AZjNt1AOv4NRdt/e4q00GT8iKgOtblKzeO5xZ8njFSbHEjp2EaCP4WO0eRrkNB4R9BV9N3hKzWrcV+vZOOrWk6uO8LcDmY3JfeQuStUtW/Luwws5ZWSuAcpEO3gPQcTFI8nAlq4efuklQnb+YnPGQDpcdFY3Ue59n9fDTiiYOejpdPfIc3gvQcdV5ANAIVr+FCy+Mk49LNIrbJibJ+2/utXBwN9sMGFT89V09vhfZFTrNYHHLiiXjnpm7S08KWqawgyviAUDjBW5Ee14gpJFJ17aliwQnfILX6zqGYHRv8Em6LNfSVxa/5UacXyMW3sPCdnu0yQOAhqtWOvfpyxqEf5+pQdQRESzJ157/2IhzHTGmwciuGd1ui+4KuqZXAjf1Lz4aePYJGlw/7kV4ANBwCyQ9XzxtOdVXg10lEYKQh0jEFXMBtNWPfxV+UMlXFungU45EfHNZ2G5vNnkAULlig+b+/Qdx4d2TVcScz5blERc8ernlHHu9Fdk3v/Ce2Bc5nfSWs1teRvj6D0rPO89uO+1dPw8AWa4gIQQTf/RBhJNZpNhlETm5CKwzG3eTtSiA6313s0Mgi2VCROwRF2eR4FmAAA8AWW6D0Qsj14aTo04RhaIsUuyyYChwXu/nx/2QlQdJAf08v//+AjFg38tQZuqGCRqxZ+jFQ8zo6OhleQBQuMI3/pEEYF+PuZh4UB65WkGKbbI334+w1zN38NobHWfeQetfBC9BzhCCEirs7869S/I8IvJg4SHak2N7pdxrnQcAhWuzf38ECCWkB80ONw6DG6m7giSbZMEnIjHkpS8KnBzff+jnTnshCeh+6IE0UaI799uPPGHJaRey2vPD3iMB+IMJwYtqhpfAfg38yIQADwAZUCl7nBQTGU0/liWgfPkHx05d8MvbKYDwUcYtTHjNGLz8+46NU8hGdCY8WM3v4GO/jIov2e8CVI65kCeKzScEkTmkrJSTg5oROfaDB4BjWDT/ikSiFXCS15wAP4LJgciLv9Uyidlv2vLTHkDzQUh+PNJwf/O5zT+SEloAAQC6H8eO/D5VyNvJHRv35tCuf4s3kcHXHlW1EqcIH7tczb94AGiG4siPcQviZ0HXdlJactNpvuSCniS0+nTsn37AesVPBiy92nayUmIdGggP1BXp9rGHoOIh+9KTHT+nz304w9aDMCFYXjdyYLHjDrncIA8AaRcoIUsLYWCdcXPPgHQx8pGz00o4e+rJ8yGc4QaHh9KTSCQW2OkN2KCTaYpLa3kX1SB/cYOdLqjqzoXWX8jwMiJMBObFEw2zVBUcZwI8ALS44GMXxi6Bh39ci6Q2P/Ol69ukOZWAPQLy5PgUzcFNfkWfygkDFQVMZkjr0TUQBPooqcFwNxUN3auUbXu6F5r/UIuxfxuDBN1SPaL0223Sj+MEHgCOXny6VCTJsmLrlrpH/OQcFCCKz0BKzJb/LSf+FA3Isi3LXuQ/8J0ehFQpv3nn1sKHPKKK7tmZkQ+tf7YDJgOBQp2EHh4/UgjwAHAUibEL4z+AIPDdFDDZ/ucnb4DsjKOEbMVM5QkBDxLhT/UgpHfJkgnXqMrpFEh+je6EDQlO1VKsy+XfaBGzVCYEwyKvoH47w/zO2KphfQdbarwdK1NHrB1XTqvrlPQjE1m1dUvp86KTUEgeljp15D9t/bUeGOoyctUdbWcKtSpIkyPbUCEk3ZOWrHgaOiWCcs85pJhvdQad+KNjf+2HvJj2+LTLd1xJHgDg2lbtjfwcbghdL/zkSz9AmIQduTM8uX4kwPhf6wGt3Kk19d/cqVVeTS4ZQ7+Esb+uF36KL4NeAKwMOHGEYdyfaeJPyTZc64trRvRlRqFW8otFuva7ioV3Dtgcu5gUwZf8Zug1JQIJLkf6nt5i+uWhefPk+vSXI+TeoUuvpy23qQMov6eDgtv0KvEXNqL879boLaZbnq73Z1r2U1NEiDyX3DhYe7dKTWE7zT/uA4CciN4PY1tDu/zmSeORKNtLwPNRxh/t4+o9gBxUn4j8Um+xdPkkbkv6SZdROu9y6V4khCSlbEvSKd8/xYjUoxB6NCfXfBX5hZ4yHVH2uA4Aox6Knwkz2z8xemGx4EO50veNFlct18z3V5XMLABd3dtKXrrqjMy56qmJDag/PChXqktmlvDAw1/Q3z5yEOX6+zVM/GX2DhZ8gUJ9eOxgeyO4knGXpB/XAQAlJCDOZCb9aL0+YTIUeaRvaRXXJadn4i+zYuJFSXl+5jwNqRIyvetQUf9q5Clo1GBMnwjl+tDW38wBATIvHo1UmNHR3ssetwFg9MIYUFpJG0qr3gtKu59HlgX1lswuL4Z9rfn+2cUVc2Ea7sqSJWUDFAUUMpLr0dVQ1vQuyAJMBNpBDsqBiT8xA+NPoTqKyRjhW6uG9jlTUaCDZxyXAQAefCxLsunWLXVvBPCFyJ/8TurU/H8Y82fi+xtWLEuqBKeWusm/kU8maF7LNDO/O11wEHlPtI4cRGf8jUz8ZaoDJQcBwfm4JQcdlwFg9KIYEGVI70w3hJE02gvIk26AohqIOhoMePNgow8jE38KuuEmL+m75ErNu5okq9EdMEC2bFxDG+qudFnQosPoxJ+SeWgQvrd/RO9BSvkdOf24CwB3PE78RCYPWn1R/cKpKJQYbFot9kLXNtzqTVvTOqkCmMybp4UcRDajzvDwW/657ZxvRVDo7FrTdfFBYAxmeBnKrGIso+OSHHTcBYDPIxGgtJJTzd4wmco3rQjIwUxZmtO8naD1p02mxQe0ct86UPf17Wpqkwk0E4JFgZqc3nxapeLhexASzZGDzE78KfkNde5dPbzEviUdJcOM04+rADD+16QQxnuaKa16r41XLEK5yTF6izXLi0EvEv3WDCOalbb4AUOB+0qXlHVukdTqJ9mEToPW/6etEi08CXVpRLkXGycHhYENqYXvb9hlgh4kI0daRqE27IeDBY+rANBQF9FNadV7LXLlq5AgKT5jWdV5Mmz0kbWA3kyg88pEmqlUDFr/+dASGqAdKmlsm14M5CAc0E8OolMidObfzgMC5Ck1yRrH91e0s05quo+bADDu4fjpBGPdlFY1ANPzBTGIchMT05NVzz0w8aeH76+qUEEAOuA/7ffK1aelZyfWoVJ4+Cekp1t97s+RUP6A/brVKm30oVuRSgEYKt1zeGgf0xRqFTOuyT5uAkCyEUg/BIgxDhw5eARsz3OKZkt0hx9DfH/NFloIEuKTGhOZyEGWLYu2sJbxZ3G/KiR00k4Ooht9BE0w/jI6oZAIQTA/jtH9CtkdLvm4CAAjF0aB0koMU1r1XnUsiCgvof1lM7sm/pT8BiwmlFZO6JfKT65DZXDjl6bO7f7v8RHU+VKYENR4WL3sp2YWE/KT/cNLDFOo1fS7Kf+4CACYwYc0g2Jv5Gu4QPVaN230AZN/Th/SUXKQ1aQfrfXofEEtErtHVMXpkp/PodY/5QwMk7xIJkAT7/hHhw8A0PoDpZWYprTqvRUw3LR5yWthAT77xJWljD89TkKL3+eF8WWJKvQzKNZmTkCPKiOydD6vaVkwS2G6dKhvo48synRnkfEHhpXoplDrNsO4QIcOAGVLiA/LxDJKq95r5feegQINAxWL0Q0+BSD+sDrCJLkoIQn3sbKff1oE+c5U3jnIKr6/0fpJiHR4clCHDgD1n8fuoAQYozeA2XJNLwrJwC3JRA6CiS0688/yGBz77JTX9xcaW7O0wHHas++iQA6iL/pYxfc36ircOyXVl/XVTKE2aodluQ4bAMoeJp0xki2ntOq9WF5vNxRquLxNsaYPe9LFbUZHgRxDA2Ofo8DBw+iQZOvSf9Ya5nRrQKEL25KDnJ74U3KS0sY7MjmowwaA+sbITJjMsZzSqnSjZEvPgwUIIXnMFbMbfWSzpTVvVOQjeHVJRiGSQGu/0bXdn1YTmuSaKMJp5KDUhz01KbBbCHqQ1YkDd9hthpX+DhkArlgYPw0TbBulVe/F8njzULhhfHMxTfv7N0tb/6NHshZd1PhVs+Liuhq0KxZqPnf6RyhfQjl9j5GDWn7Y02lfMtoj8r2HLitlNlTK6JNFiR0yADTI0nyY+WfXr81wcXKEy5HY2KPpk96tPuyZQdbupLHRf7UyIcILAO/sZRcAqDPF/Y+Qg9I/7NnKUUYn0JPslEgmTe+vyMj9rGY7XAAYPT/aDxh/tlNas6KaIVP0+OFFoR9Yu9FHBjtqSec27kE9E23H3N1iB9AHda0+iKymytJ8fxDIQUP2SDk2vOprhaMQBH5aO7Kf48ulVvieTUeHCwAyIbp2v8kGjtV5ub7+L2OP+IrVerXqoy39mOhHiuI797KblKROde1d+1vgT2xVdJBhBiUHNdr88VUW1etQAWD0vGgZMG8co7TqumAYJzw+cToWcTlCOKGrrEXCfeP/Q0VSvaK24kQd2ljNZqgLoeeQKKNZoiDeregg6wyCrqoZUdpMoWbtjhX2O0wAoKQfGPdnesnFCpxM68CI/GbZ5MB/t014+T+wJ8GTphXqVBAgSTQi9qlqqWhNA0oSBreFgObhIai6cM2WzYDPy6qOMhIACvVDjEzbYpbBlbalHijyeexnEAB62qPdnFZY6qr154QfSGkJhfyzYdsfZQpcStDC/0Njn6GwrP4GXr4UQ2/udbgXgNEuj4weS1XXL3qmQ4+ASS8p5YPif0L67h/WW//73ooK2WZ0iAAweh4pgH1+mVFa1S4h3MxzX7kdN8+8rRv7t2ooY/m+hEp+UNLPgPjnStlt0v21QA5KOreIAnyoe6D1j6ccyX9ty38Bs9+kzl34fx4pK3MOIBsB6BABgODIfTC/5XCzpfGqYPxlz1D4V+nSoS55j8Oe9DvT0+04HwUTf14C30DSeNDhwvpvDH0tTaOFY2LQO3pbHIT+eizlyC+vxzMbgoD5XUTTFVtxTlDP6gM7VfdXtMKU3TrafQAYPS/eExHs2oshwOenfnUnbki/kOuGPBsHLvw96elWn59EST8Nx0g/WvUX1h9Au+IOcAMENAWCAEyytz6gF3AA9kaf2zrVRWcY3Vc7esAxeqeLXNPjSrsPAAQn57mN9JO6APAy0PYV5cEXU+fp/zeXvfw3WBF4Oz3dyvNxkdakH6266ZLhe98EtIobkoMHf5l3EFqvVLjI2xl6TvhLpXyW6fCiUEGioXEmSx+ssN2uA8DYBdG+sJONaydkYE0bWjfcpnVLXTia58HItmWvJtJPsnnqIWVW8/8u8Vr04WF7yEHw8Cc9HjQtmzN49eoGWDadkU2GbR75We2wAT3Z+mDOersOAJLsXtIPzPK/snJacKPa5dl89dINMNZ9VU1Ob74a6Uervt37qCR4aPEBGp/GA5DqumTRa1tfBNntFpu3RB00Pr5G1OjapWctlWy3AWDUvOhV0PXvr6WSjssA6Qe+8DNdq12P4CmnLaJWeS1ypSqkHy06qEznRD16q9ratwWhroeB8VuhxQfaSxKxYFsvSYsPWWUIKasZVtI3q4yLM9tlAJj0FPG6mfQD1/vJVXcHPtN63TdNrISWUHhKq7yaHJ3FH66B9KOmJ5Ufr46jhLXkoPl4EKpK6Vf73/mNbW9BL4QZhVrNP4lY96FZNVtW57fLAPDVwdhPgfJ7utVgWKIPo0MeT2i2Xl0+LMyCru5hveUyyWsl/WQqmyktR25Aa/dYNOGN0W74YvgjmexkTRNwOeDjTnIQQv1qRpS47gW0rHgezWx3AeCKR0gnQmQ3z74+uHwKpkQfXcfGiZXwPqxgev/CTjpJP1qdDBwCclCj+d2L4Ya7tyXpR6v9Lq9v+w982MVxCrVW/yRJnk8mTTIPkFaDFsm1uwDQ0BC7F+peaFH9LVVDiT1du4YfN6o0WJz7KEwe7jJanpajO/3oIf1oteUjEnprr8kVAYzeES9Bz2u1mS4XIGgWzB8cSk93yflp1V+8T3dYbldHuwoAV8yLnQpd/ztcizAW7nn2JtxMadXrJyUHQRChAc7QQUk/32mx048hJVkKFdQfhJ2DglkksmdBFz4j6Sd7qWO5eW9ur4FJwQePpbjtF5l58IrB1s6Y2lzFdhUAGrA0Dzb7YLuVrsIFgRvz7ZXlASD2mDu2TnzpL6DrHSNaxkX/baSY5jL0ZvngG2PwQ8u9wjsYrdVsTEGw0FP4mFMUagUXFJOBHNQ5WRdz7TspmRxvNwFgzIJoH5gJdu0WzaIK6ScT+JnS4OEnQCDSvex1ZKcf3VMPmVzImlbUcBj9qzY3q0x6JrT8EhCespJ+0ssonVNykJ2feFeyqzUdXkq7vXZEn29plWct124CgETIQ9D6w73kvgMe2leXTwuut8qzrWUvrYO5gOVa9VHSz+gsO/1o1aNVbvd+Sm7UfimwgJ7Bl6CPtepXkyt6fdvfaI9LTY5JPkH+BMOP0eitc7sIAGPmRcfDwz9Ab+WckcdJDxZhlx9rD1HE06DbrIkc1Df+JSrOstOPtZ7BXuvJKNpUpe1tQahDneix9mu7tJdEBKK7l2Q1Dor6gJ5ePaJviWK+izJcHwAo6UfGsms/1Ag3+FPLygOqlFa913zLhJc/gQ7PM2rlmnb6iX6iJmZ5frxGIzkIowW4P9pvtQNd1uzYQHteVuu1Qh/0j7Asy4ut0GW3DtcHgK8Pxn4CnOsz7AbCoP7D4VBolsGyqsXgM9oVtAXNJnhp7D8oTNR3+smmw0ge3V1oncoHRcD3rzxe9LAR/ZrKeLxADsKaekma9FkpBD3W6mF9r7RSpR26XB0AyuaTfIJk1+7HDjf4vMo7sWZKq94LuPnKV2C0jRVfNqGkn4Hx/+pVa5l84PBhVJuFHAT43If7oZhlBtMUFf9j06dACbeMQp2m3vQp3LuuJwe5OgBEUOweaP2LTF8JWxTg3V26hh+1RXULpSIWH4Gu7lctkpp/jop+bAvpp9mAyg9KONq8R2FFAKP3YKef51RUmM4O+gKzAB9LKNSmnUlTAMuCZ1R9/u5tacmuOnVtABi1OHYKRPefuwqtFs4IJkk/LVRl/bllYmUMbqQ25KAm0k/D7qxlncgsiNSi3ZG25CCY+aekH+37kBl0Nnf1xirYUGieweL2F8P4lweGDdM2Y2q/N20suDYAoKT0oFtJP7BE986K8sBf2qBpU8K2q5dCS4rfbal+rM2kn5a2sv2mi4Ef7m29PyY8+Ktgp583s5WzMq/wpPCjYHOXlTot00VIoYQOtwngluk3qciVAWDUgsh3Yez7fZN1s604tP5Zd/qx2jB0cQkSyJSU3l6Ne9FpCftJPyl7av87N9QBOSinSQwCguQR0FS1Mlbm42fXxTEWXPuQQU/2zoOj+p1iZZ2t0uXKAAAtv2tJP5Sgs7I8uNaqC6BVz/aJr/wfBIKVR0g/9lJ+tfrUUu6bo+QgoGr9Ht71/6hlnhO/C9dspRTqfzphS7cNIAclG5OuHKa4LgCMmh/5Hkz8DdINsiMFcFLAHstJP5pdx+K00viXchcHST9afctLxtDmqrxGbwAxWbVp6iUhobmXpNVvx+QIuaZ6aL/ejtnTaMhVAaBiLYG9IohrST/Afn1mZbn/Y43YWi62tXvl7j74G9sn1ow6vq8W4yGxihqj5c2WK35j6zoYgmimUJu1p6c8JQcRlHQdOchVAWD7tuitQGs/Sw+wTsnCJFNdQAxVOGUvk51kEk0f2O2wpwGJmbKZp63xn+WNV314C0tHsOiZ5lZyEDRug6pH9LmCJT7ptl0TAH74OMmD5a770x10yzkl5LwyFVtOadVaP7IWnQSydxX74qiuk/teOf/CU4g+9HeH6RtS0f/VHymQA7TW1rhc0Zotn9CemnEN9pYE6sQCUjHYY68V7dpdEwAORmMzwO1i7a47KAlEnBxf6BEHLbYxlcBoLsyNNC24D+16EN6w8beRYZmwLOe8JvMQALpI8drpLH0JCJ4K6AVkpVCz8g/wObPmrehPWNlPt+uKADB2fuxkAOYX6c6555zcWzkZ20ZpVasnWY8ugrHtdSm5oJhEQudw6pT5/x3+k9FX4jGuC4x37xr092t6sHIsd83m/bCJsSKFmpVfKbsy9HRrRpaY3F8tpc3cf1cEAAlJc2Grr4C5qthUGuN3S8rDhvexs8KrJEGLofWnnJvm49LiGlTjObL23pzI4EcjFtHq0DmtLEMwDzY0NM5plejwSXEnoFCjzBRqh13JZK5IShDbvwuZyXB6GvMAMHpe5GK4t3+Y7phrzokwBV7JYzbzntyARsPDf2k6HvR7ml26sJ8MfDNwBjostB2OwITXdaUvXXVRut9OnePKLTGYuHUtOQgu388PDBtwslN4KNlhHgBkDJ/3cu9OPytXzwj+nxJ4dqfDgy/KMlqoZKd3p4Noj5/dhGCtGEQbQgpvakNUlyW2n24rfH3bcxAEWlGolbB0Pp0EJNTIfINTpgFgzPzIWIiEg50HX90iEEsk+Ea9JfvYqVvLLJHYgH4M+LTuX6eJnntCo/1v3KTZTJ2uhK5/AinfQjAUuLTPkitHp+Sd/k/JQVjAbiYH/aBqRMnFTuPS0p7y1WspZcNvSvqByRDF1s0Gk3pV/u7VKX7HKa0pJ2HZLwcGHrNS50r/zwjVo33hQqVs29J3egrQuz66Mpn9wDJZVLakjNlYpWjN9iYKdXYv2eRSchBivHMQswCwY1v0FgDg22ygV7OK6z2BEFNOQlJA5YBPVzVPaf6A7nXIaXLQsvCRZT81/6AOZ++UpR+rydmZL3jp/opYstOGUd0wzBtcNbzvOKPlzZZjEgDGLSC5MiIVZp23qzyMGxcs+wXeZ5d+Nb1kMzoRuv6T1eRS+cXeODrcyaJv96WUZvn/rv8kRHsAWg+YsJzFkhxUuHrbR4Dn77T667gckZiRg5gEAIlEp8MF6eI40BoMwtLR12JByL597DT4kGhEc6BlCGkQbRYZ1vUAqs8wG98sYNEPOuanY389B+3JJOO1TOdTgmEMPTpcr8dvp2ThWn+7ZmNsklP2WtpxPABcuSB6EtwQd7V0wl2/yX3Lb8VRVj6RjegCWPC/Xq99Sg5ChfaTg9YHz0C1QtsdgDT4e3fpkrITNcjZIpKzbNs+eB3HtS+awc7XFSzIQY4HgDghQGklhu4gW+6MFkphnPh+n+nhP7dIcvxnUmoi/Ri6LkNtJgfR9f61Sst+KkjRay7LEltyUIHnIdrDU3GVTTaBTzskZccp1IZuNKMIjZsXuQha/2ZKq1E9dpXDRGRL+lmHRkJ3cJjR+lFyUJGN5CDK+DMz2QjX/vp+S8ouNFo/s+WayEECuc+sHtvKy/gXNSMGOUqhdjQAJN1N+lm9ckbgDdsuropiePBFmaBFKmKq2SWUHBSwnhxEuf5vA+ff3EEEiUim62jGh8L+o6GHh983o8O+srSXFAdavHOHYwFg9PxIRkqrc1VVtkSXiOh75MoS9udI69GPwEovKyyd0zVhOTmIvu0HLbjpA4YCw/pWThhpWpFBBbiiQqZ7Ohosbn8xQq7dP6z0IvsNHbHgSAAoW0KgdXMv6Qcm3f6wcqr/X06Bnm6HvA8f90Fodnq60fOzwnWWkoM+8HVH9H1/qw5ZktmSg97Y+gZc89VW1cdKPXAfAH9ReshKndl0ORIAIl9EKRFE39pRNq+tzMM4Ah+a/KWVKvXqSh5E02AI0E1vuWzy/YEcRN/UM3tIQFZbEbKkY9LCFdJrN5Fpj4fZIXjQVNeSgxAZUjW0zxgnwLE9AJQ9QXLgZR9VSqsTlc1kAwBYuGpazt5MeU6kkbdQd7BjeZe0C5CDavPNzwVsCJ6ODoi6KAmaYAMi2OzBS8qYvc9c+NoO2FoZ/0GTsyyEMFpIyuynUNseACJ1Uc2UVsdxxvgboSDEdKPGRBI9AK2/9U8YgDkMdg4yQw6KYB96M3imPZeFkG4xOTnVHuXatAZ99LuTbiUHkbOra3feoq0mxqVsDQBjHo7qorQar4axkgJBM5mSftaj82AseqMx79VLhYAcREyQg/4RPhvFsUfdkEEJ+IbAlP6vXkN7QEyOnFU79sLbgkxXJbJVHPYPrKga19/W/RVtDQByI5kDG0PY0rplA05LHvD9P+w9PfSsFlm7ZI7u9GPrNRhaBDsHefX3tPeKuWib/1S7qn5EL/R8kvGGB+w1kl17UaDLYrgXvskuxSqXdMXRRLmd1m27+cbMr78A1o2ut9N5M7pF+Hgly51+4F3/y6DrP8JMHbSUFWA3+qJi/ZOB9G0/WYsBkzKwF8yNJS9ddb5JNYaL4+XLo/DdtZmGFdhcELghk6vHlNpGobYtAIDji6H1t02/Kdwxfm35tJw1pnSYKAwPvgDdO8e6nk3kIB07B33k64o+8zq1QTPcI0nZMSwyXbbiASOfhbmADzLlsU8DclAD3TPTnsOWB3Tk/MhIWM80TGm1p6pHtAIXXMbIw3TySdqAboLekbYX6i0C45wTEpqIPHTZb3noXIusalMD98qI0hevukybtPVSlBwkCpjpPZGtVpiQ6w4O720LhdryAEBJP7DDL9OIng1MuL//uGq6/8OsMjZmNpF+CHJ83HtWqA7tCRep1mxL4FuoStQ/Z6CqWEVARvKiClJh+f2oYrY5G/YPXAMUnNeaE1z0g/YYkwQvtsMlywGv/yL6I2hqetnhrGmdQPoJ+BHT8V6yFk2BC3qC6boYUND/hOzkoJjgRWtCbDZpAkzOW1X5wU0GqmVZEQ8SgRzkyNSHbp+BQj10//CSUboLqhSwNABQ0g8sa81WscksG+bDFi+9K7yHlQOwz183uL2YdTW7+mKoNk95J581gbNQFHtZwQMdR/TAiNeuC7NyoPMbWz5EBP+RlX01u7C/ouXkIEsDQH1ddCpEKksprWqgaM0H2ufeQk+I6dAEPu/1AIx3md3gFKuh3TLvHES7/ZsCPbXCaY8cISfU1kYsZ0XqctbjnwnDxIiuMg4Jw6R6r+qDu2620pxlAWDcgkh3aGHZXrxsyADp57mpmNmFhdb/XMCHaReXwhOm5KDObcf4y4DvL0P/l/lB0NSBL1/JZIhE61782sY9MFFsy3jbCmyhgZ1Fyga3vYAGlVsWABLQfXMt6Qehf4VPCzHt2iUxWgStv/4FeYMXNluxocXVrT4r9h9Y8vvY55aOGwk3JNkOI4uETosgFjIbKma7djBO6lZdG7Ps1XVLAsC4RQ3nQ+t2Y3bHGeaKaGrlRHbbQifWoeEwyXU5QwRamabkoMLiIxRfSvZZFj63VT7zE4J+1O+F8cycwmvWRGBFAN4TcOdBiHx31fD+llCoLQkAiWQSWjd3kn4gkr8Ob/v9g9WlpEs48Md07iFT3fsWHGj6rBil++4RXfGh2hZuEiGJ2XL0izqd8keYC/hXC6fc8xMo1IRY8/FV0wFg9Px6IHAQ2ymtRtCnpB+oILNZd+oz7PRzA/y7wIj/dpc5p3uyYU3oHCcYv/qrQsjlJUvGD9df0JoSuLJSEmE+whpt1muB2ZobDlxeYppCbSoAVBDYSgO5r3VrhhujP62YnsNs/zfyNo3UzpN+muuv8uPbocMP1Yne51TE2GXLeDFTctCbO2jP8XV2AChbpj3LZEI2PVlpKgDsWBi9CRxxlNKqDEnrHGj9o4IPsyX91KO7IUDa9iJH6xrrO4Oh0X6PB83HHnwfLJHG9JV2RhqGleevfvF92oNidni8whTAyp29JISG1wztbWpuyXAAuG4RCcOnqx9gdmVUDEMX6aEVk0Nfq4jZlk22Nn3Xz7LZWqsdhcBUgQegum1XLf0KlpaYfglJpW5zxi6fxOyV8s7/2PYBYPUnFR+ZZUt0dcnEzkGGA0CNHIU1f8JsvTYb4vDw7wvlhRZmk7E7LxFHs6F3ZNl6raX+YvSJl6BnUjq9wYIF0AvYnzp30394+Lrvj1bfzdInjH33wYQgs69FZa07QefCzkE3ZZXJkmkoAFz5SOQEuLldPEGCf1n5M3ZbPZEN6BxYabs5C+5Ms+CiT8NDEHxL7Mix6Xt/qIMh0/2pcxf+nwb7BzIjKhS/vukbjAXHdurVjT8hs8mIEYYYpoYCQLwRiBqEGDKou3L6C3wUOi30e/3FrCuRhHf9oeUSrdNonSYYz67zDEbL0zX2wMIz0HP6OD3dDecwRMmJydIslr4UdQpCjxIz2zw2W92hMT6hWq411CDrDgCjFzWcCy9tGO5yZKuIFXmiiNmSfjagoXBBRllRF6t1wMNPPALK2J2unFgpCaLo2jkL6ILf3P+lq3pZjYlWfbhyXT0Mk1zbS4IJ0ylVlw3UPSTXHQAIJf0Q+s6/Cw+M3lwxLbyKlWfw4NOdfkwvzdjlP/RK/oIHoXeU9G8pe2kF3ORrlfJZptN7Limx/bhMUcHJv4eh0r9Z4qBom8BLZkn9+yvqCgCjFsSHQ6QxteygWAGTGZT0g2GfP5NqTBWHnX6ug96RLTu3mHIMCkPrH/didI+aHpi7mAKtLcQK9x0QBEaVVk4YysozSg4iAnZxL4ncdGBYqa5lec0BoIn0Iyfd3Lo9B5Tf91jdHGQzCkIPYA4r+6p2MXoUX4J2q8ltvWbpO5jg59XkWOVLssSUHNTl9W2roJf0Jqv6Z7NLe6BJpO/jq5oDwPaFkRvAuGnqYbYKGM2DCxILCpjpZ5+TCTQZLsBJRutgZzlo/as8fjRPqw1/wHcv9KjiWuUdlYMe1j+WfHidozbTjHkwcS85iJDLaoaXaKbmawoAY58iQGnFrm3d4MF7eGl56Ku06+TYKdmEukCn2db9281UBj7AMQv3RYe16thwxQu7YRjwiFZ5p+VgGDq3dElZ0Gm7KXsFr+94j2D8XOrcbf8lmSwiFdr2V9QUAJK10bth2c+S1w8tBwsorV4htMByvToUSkk0C4JQro4iTop+6pXRU7oN5gbnw8RBle5yDhSAuYATCZInO2BK0YTgF++FmRVXUqiBoHd+1Vurb1R0vkWGagAYtbCe7mPn2okPujSzrBzXtaiToz/JenQ2zPzf4qhRHcYEEZW3JP1oLbpt1F8Ow4RghVZ5p+Xgnfjykle/39Vpuyl7RSu2fC1g5FoKNby+8AAZOzaU8lfpv2oAIBIGAgZ84deFB4xtP+7TJ/Q7lq7B570WwpS5K5dFgdiz3jMIvWoUn2DX85+GocCnRsvbWY72uEg8XmGnDTXdJOSFnifepybHIh/w6V4d36+6KpY1AIyd39ALHrKbWVRAk01YkqkYgpOaZG0QSqxDQwDoMTaoNq0Srhu4Zm5ZdN2QiqSA3bvsBROVt/RdevXZpsEyqKB42aY6WHquMFjc9mJEJlPrR/XOSqHOGgCSJLnQraQfuMHXrpoWXmE7igoG4OmCHrKrST9/8w1Bbyu4rzl568Sly6AXsF5zAQcF6b0pNzYCRZfdATsHPQPDUFdSqGnPPdYozM6GjmIAGLMgNhQUuJLSCpNTBD7lpNq9yVZxs3mw08+1MPP/HbN67CgPwTHu9aqTfrTaxthzt1vJQVCHMX2WjL9Ua12slqPkILgPXDtHBs/wj2ou661Ioc4YACjpRybmdxuxGuyUPkpUWT4trEhpTcnZ9R+2+A7ADhFz7dJvgd7HcX+00wI9TSq2Taz8J4x1/2qVPsv1wM5B0BuAKQ82R/Gb21fAcGQtG+vZrTb1kpLKu3ZlDAA7Fkaug4KupLTCjRj3+hAswbA7YIvvuyDq92DngbJlaP2rPTnoQWUJYzk+LN7jWnIQIhf1rbzqWmM1s6YUweLdEIFgVOi+A5waWT2s77BMnrUJAGUPw+eIXUz6AZAfefXu0O5MlXEiDd71LwY7052wZcQGXOzZ+LvokJGy2cq8NbFyF5BfHssmwzIPJryYkoO6vLHlXRiaPs8Sg2y2aY8+EzmoTQCIJqKTYf74pGzKGOZVFYRD8xnaR5KMYISE8lj6oGgbo8+8OehJxXyTGXlYoHTiapNq7CreQybSL+xSrkWvIATcTA66oGbTyuvT69EqAIxfRLpA19+1lFZBwBV/uRNrprSmV9bsOXkLnQUt7CSzeuwqDxdzOrT+Cbv0vzGx8hAShFl26Tevl8wYuKSM9tCYHIVrNuyGF8IfZWJcg1Ei4zmkrDTYUrRVAGhIRt1LaQVCSu8+oadbOu/072QSSD8EeZy2q8UejP03egajV7TImpEJFZ9HexifmdFhV1m4NrmNRKqwS78WvaJHAAo1cieFGpETqw4mW20I0xwAxi2InwWOu5fSCoQUxqSfgXCDjdNyEzgtAw8/rNuYI/1o9ZmSgxAWXNtLhHm4SQOWXn2m1vpYLVe4etthgQgVVuu1Sh+soE2rGzmwuZfUHACSRLqDLhlYZchiPetXloeXWaxTrzqm48tszsKw5EXfILQ9m4yVeduvfvnvMBm70UqdVumiPbTGROJ2q/QZ0VM4MPg0BOVPjJS1uwy8SZnbkIjfnLLTFABu/CMJQOT8YSrRVf+B9IMZk36O7vE/1lW4HHUGHsQG2OJ7htO+iQi7lhyECbl28Nob4Z5mc+CKddBLEl3bS5IRvhkae7h1EGoKAFX74hMgcnZiA5eKVUL+uqo8bJrSqmIla3Yyjm4AfLxZhVhlYvQ4vO33pdPmN1+zdAfcQS84bVeLPegRFTRUHb5Si6xdMsWvb10GvYB1duk3pZeQ06sv7zuY6mgKALB8crkphbYVxnEPEFBsU69dsSvxgQewxkOsJ/1ohQX7/PfAvFGDVnkn5WRCRjppL6MtAT4r5lJyEEoe2duzKQBApDo/YwWYJ+LHlk8P7mLuBnEnPjDx9wC0/rWs8Nk6/oUv4Y2ox1nZz24X69ocM7suY7nFa7b9E8hBfzVW2t5SMABoeuaFsiXEBy+2fdtec/q1Q1CqzsFBzfvY6begrQSs/XeHLmWhNmkHpTD6rzeMfuOgxYymcgXPXOgF1GTMZJgI1+zsSW9PYj5sE5EPerDu218RFo6OBIDE5/HusIjEHKj0ewVm/mZVTseWU1rT7aidw9r/KWoyLPJhN5pyO0k/WutEyUHQjZytVd4xOUJ8H31x8ATH7CkY6vzGW7sgQLqOQg1zWt1JxWCPAO2/pOA7s2QYN33Wo1PwKWYOtDAMC6Ou+zQ04LPJcwla2sJNpj/PP634t/Ci0H+YOpHBeEIE4rYLDtGLHwQ3XEihHiwLBAgALsColQvw8YXyp2/FtlFaWxlTO4GN1tVEnM4nnsyf93Laj5S9p7/7dAKLgutekApKIrPdolLY0P9N5CBMt9Zzz0EnJ3FFhSwIvlDUPW7BaAkIJqvLw393i09e0XWfhX7RNxBtcws+KT+2lr20FOZt3kqdu+E/cLZjbvCD+lA4IPQk7BzkGgo1TAI2YSP8/S4Ms8iY2eu1rS4Q3enHCwQTNx0S+gxu7LgbXAI/Gr2C86QfrXWHXgDTXZpa+glDkp1NLy+1TGT4m5KDYP9AF5GD8PsUjtQy4A6G2DSbBgbXC8unhF3hS8qpo1tqv5c6Z/z/1/B5r/8x9kHR/NYJL2+DB+9FRQEnM7D5/RCtdrdozXagUOMNVus1qK+JXNcUAIAfzL5LiXGDD7mC9NMWT8K+yw2t/wGP6OJvDx5FjQjiDHeQg4DA7cIDI48ryEHQ2DY9800BIIiFv8L4hOlkF9h//O8zgl+68JohePD+zNovWNeegweig6z9ULO/fWLl/6CV+7WanJ359F4WsOdvdtowqrvozc07gBz0gtHyVpQDfA4XdQ6/SnU1BYCj39VjtsU2+FHj8wXpUokrDzwIvQMtsGNv22UA4XNvMXoiQ7ork4K+vDlwkx1g5RwEy2VbJlZ+zcq+ml2Pz8O0lwQvAj2HK9fVUz+bAkDTDyz8Ss1xu/KxIMw+MhlplwXzemF1glmrBhdpOu6FGs3XwhkN68Y/WwvbYz7gjLUMVjBhdq0yeNMmqWDV5p3QS2JCoYaGTBY96Lcpp5oDwIry4JvgVGUqw7n/eEefPkHmlFa1+oqXoOcBPMffgYfAs9IzBL2k5p/b8i84vegJwAu2E3f2gHv4xe0TX/k/Z63qt1ZUEJoNcyVf6C9pusTjha/t+HdKS3MAoAl+T+h2cMqxrht0E2NeQbyO5U4/KSDU/sPNTGAu4Mfw37ElQbBVDWvZP1bzzY35lBwkiMK19Bo75h+8k+ATxDscs2fCEO2Cw5uu18M1do6tCAGnKNjt3pZutwoAr0zF+0UiwE3u2ITg1GXlgU9bOuTm3zAJ9xlwqO9yykdo/SfBMuRep+xZbWfLhJc/ga3EHflqzpF7VvjxxomVrtyPLxO2nV/fugkIOQsy5Vmf1vRq/fV4+fJWxL9WAYAaXTEj9AosC/6Ifn7LeieOaRQQfmDV9HC7mdhKeQ7f2wNGl72EDtAPL2iin3kc2OQzVS+7/m+f+PKv4eGcY5f+I3oxbHKDbqJbldlrx3rtxf1H3wfDlt9Zr/mYRrifGkVExtOAcyz1yC9oZDIfI+dHboHM39qxTyBEnekrZ+Q4FPky189samItug8ipOUTXYC5BH8/hnH/s2Z9dFP5kiVXTSeybPnr3bTlh1b01u0Tl/7eTfXV4wvdnqtmRN9HZVm+U085bbI4DpPsV9MdijLJKwYAKjxmUbRUSpI/w3sDp2cqbCCtSsDCnSunh5iugxrwO2MRCAKXQ8vzBxgWWPPaKUa7gC46yTsIvZbRYDtP7PPiVd9HRKaz30VWVAVaTvoG4vXbrlnqStKP3jpWDy/5GXzhaB7duFNv2Uzy0PK/K4joupaTfulybYYALQVWTA1tKfKELoQo+wQMCUy9nQc6/hzIDZ/dUR5+ipN3CPqHx4fOhZ9/AbANT+bQshCJH4PNPXt11Ief4gVd9L+FwoGz4cF9jp4bPjBuhCHkr7uEiy7sKA8/xaLo9W1PCGKgF9wLyw1jQwtiFIWGdk5Rz4tKsj38R0Q1Whq1sL4bfFnkNqAQ3gpd366aisGKAlTmORF5n1k+3d+89KCpbDsTgi8GnwrvntJVFNhxVdsGq/Dg74FqPuvxot/D13w/b2dVNuVuvxfGnyth4RboXV4LXeDOWpTBvbQPGpInA1h8ct3EynY7OaqlrtWXlfYhSekWeNauAYxytJSBwLoT7r8nvH7f7zqtfEsTaxQw1XfQLcTqv4z1FgjqDWO6PhBuzgSjIjgJf7B6QMincP4eUIzeOy0QXvurO3GDPgvtW5psRsFkAyoBDAAbwAihnjClB7toN5GuaC/qI3jw6ctF73pktOHoy0btu9ImvB+56g5/bf1XQ2QkXIhkciHB5Cy4KUXAjc6FSDA8/hT+7wDMdvTA4o7KiZXthhBlApbmoqRscE71ofgQJEmADboQ3uI/Mhxv6jWSBKyyfAS9oR1A79le2PnEd3BlJVNKf7Pj/AdHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQYIfD/M2Z1Cla5ouIAAAAASUVORK5CYII=";var vN=()=>v.createElement(L1e,{to:"/"},v.createElement("img",{src:MRe,alt:"Malloy",style:{height:"30px",marginRight:"12px"}}));m();m();var RW=fr(Fr());m();m();m();m();function Zle(n){if(n)throw n}var rNe=fr(BRe(),1),ice=fr(QRe(),1);m();function _N(n){if(typeof n!="object"||n===null)return!1;let e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}m();function GRe(){let n=[],e={run:t,use:r};return e;function t(...i){let s=-1,o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...f){let p=n[++s],_=-1;if(l){o(l);return}for(;++_<i.length;)(f[_]===null||f[_]===void 0)&&(f[_]=i[_]);i=f,p?Y5t(p,a)(...f):o(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return n.push(i),e}}function Y5t(n,e){let t;return r;function r(...o){let a=n.length>o.length,l;a&&o.push(i);try{l=n.apply(this,o)}catch(f){let p=f;if(a&&t)throw p;return i(p)}a||(l instanceof Promise?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){t||(t=!0,e(o,...a))}function s(o){i(null,o)}}m();m();var tNe=fr(KRe(),1);m();m();function mE(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?JRe(n.position):"start"in n||"end"in n?JRe(n):"line"in n||"column"in n?ece(n):""}function ece(n){return XRe(n&&n.line)+":"+XRe(n&&n.column)}function JRe(n){return ece(n&&n.start)+"-"+ece(n&&n.end)}function XRe(n){return n&&typeof n=="number"?n:1}var Ah=class extends Error{constructor(e,t,r){let i=[null,null],s={start:{line:null,column:null},end:{line:null,column:null}};super();if(typeof t=="string"&&(r=t,t=void 0),typeof r=="string"){let o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}t&&("type"in t||"position"in t?t.position&&(s=t.position):"start"in t||"end"in t?s=t:("line"in t||"column"in t)&&(s.start=t)),this.name=mE(t)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack=typeof e=="object"?e.stack:"",this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.source=i[0],this.ruleId=i[1],this.position=s,this.actual,this.expected,this.file,this.url,this.note}};Ah.prototype.file="";Ah.prototype.name="";Ah.prototype.reason="";Ah.prototype.message="";Ah.prototype.stack="";Ah.prototype.fatal=null;Ah.prototype.column=null;Ah.prototype.line=null;Ah.prototype.source=null;Ah.prototype.ruleId=null;Ah.prototype.position=null;m();var e2={basename:K5t,dirname:J5t,extname:X5t,join:Z5t,sep:"/"};function K5t(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');bN(n);let t=0,r=-1,i=n.length,s;if(e===void 0||e.length===0||e.length>n.length){for(;i--;)if(n.charCodeAt(i)===47){if(s){t=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":n.slice(t,r)}if(e===n)return"";let o=-1,a=e.length-1;for(;i--;)if(n.charCodeAt(i)===47){if(s){t=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(n.charCodeAt(i)===e.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return t===r?r=o:r<0&&(r=n.length),n.slice(t,r)}function J5t(n){if(bN(n),n.length===0)return".";let e=-1,t=n.length,r;for(;--t;)if(n.charCodeAt(t)===47){if(r){e=t;break}}else r||(r=!0);return e<0?n.charCodeAt(0)===47?"/":".":e===1&&n.charCodeAt(0)===47?"//":n.slice(0,e)}function X5t(n){bN(n);let e=n.length,t=-1,r=0,i=-1,s=0,o;for(;e--;){let a=n.charCodeAt(e);if(a===47){if(o){r=e+1;break}continue}t<0&&(o=!0,t=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||t<0||s===0||s===1&&i===t-1&&i===r+1?"":n.slice(i,t)}function Z5t(...n){let e=-1,t;for(;++e<n.length;)bN(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":evt(t)}function evt(n){bN(n);let e=n.charCodeAt(0)===47,t=tvt(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.charCodeAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function tvt(n,e){let t="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=n.length;){if(o<n.length)a=n.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(l=t.lastIndexOf("/"),l!==t.length-1){l<0?(t="",r=0):(t=t.slice(0,l),r=t.length-1-t.lastIndexOf("/")),i=o,s=0;continue}}else if(t.length>0){t="",r=0,i=o,s=0;continue}}e&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+n.slice(i+1,o):t=n.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return t}function bN(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}m();var ZRe={cwd:nvt};function nvt(){return"/"}m();m();function b9(n){return n!==null&&typeof n=="object"&&n.href&&n.origin}function eNe(n){if(typeof n=="string")n=new URL(n);else if(!b9(n)){let e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){let e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return rvt(n)}function rvt(n){if(n.hostname!==""){let r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}let e=n.pathname,t=-1;for(;++t<e.length;)if(e.charCodeAt(t)===37&&e.charCodeAt(t+1)===50){let r=e.charCodeAt(t+2);if(r===70||r===102){let i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}var tce=["history","path","basename","stem","extname","dirname"],dW=class{constructor(e){let t;e?typeof e=="string"||(0,tNe.default)(e)?t={value:e}:b9(e)?t={path:e}:t=e:t={},this.data={},this.messages=[],this.history=[],this.cwd=ZRe.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<tce.length;){let s=tce[r];s in t&&t[s]!==void 0&&(this[s]=s==="history"?[...t[s]]:t[s])}let i;for(i in t)tce.includes(i)||(this[i]=t[i])}get path(){return this.history[this.history.length-1]}set path(e){b9(e)&&(e=eNe(e)),rce(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?e2.dirname(this.path):void 0}set dirname(e){nNe(this.basename,"dirname"),this.path=e2.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?e2.basename(this.path):void 0}set basename(e){rce(e,"basename"),nce(e,"basename"),this.path=e2.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?e2.extname(this.path):void 0}set extname(e){if(nce(e,"extname"),nNe(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=e2.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?e2.basename(this.path,this.extname):void 0}set stem(e){rce(e,"stem"),nce(e,"stem"),this.path=e2.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e)}message(e,t,r){let i=new Ah(e,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,t,r){let i=this.message(e,t,r);return i.fatal=null,i}fail(e,t,r){let i=this.message(e,t,r);throw i.fatal=!0,i}};function nce(n,e){if(n&&n.includes(e2.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+e2.sep+"`")}function rce(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function nNe(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}var sce=sNe().freeze(),iNe={}.hasOwnProperty;function sNe(){let n=GRe(),e=[],t={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=e,s.use=l,s.parse=f,s.stringify=p,s.run=_,s.runSync=E,s.process=O,s.processSync=R,s;function s(){let q=sNe(),z=-1;for(;++z<e.length;)q.use(...e[z]);return q.data((0,ice.default)(!0,{},t)),q}function o(q,z){return typeof q=="string"?arguments.length===2?(uce("data",r),t[q]=z,s):iNe.call(t,q)&&t[q]||null:q?(uce("data",r),t=q,s):t}function a(){if(r)return s;for(;++i<e.length;){let[q,...z]=e[i];if(z[0]===!1)continue;z[0]===!0&&(z[0]=void 0);let L=q.call(s,...z);typeof L=="function"&&n.use(L)}return r=!0,i=Number.POSITIVE_INFINITY,s}function l(q,...z){let L;if(uce("use",r),q!=null)if(typeof q=="function")ue(q,...z);else if(typeof q=="object")Array.isArray(q)?G(q):P(q);else throw new TypeError("Expected usable value, not `"+q+"`");return L&&(t.settings=Object.assign(t.settings||{},L)),s;function B(I){if(typeof I=="function")ue(I);else if(typeof I=="object")if(Array.isArray(I)){let[J,...he]=I;ue(J,...he)}else P(I);else throw new TypeError("Expected usable value, not `"+I+"`")}function P(I){G(I.plugins),I.settings&&(L=Object.assign(L||{},I.settings))}function G(I){let J=-1;if(I!=null)if(Array.isArray(I))for(;++J<I.length;){let he=I[J];B(he)}else throw new TypeError("Expected a list of plugins, not `"+I+"`")}function ue(I,J){let he=-1,ye;for(;++he<e.length;)if(e[he][0]===I){ye=e[he];break}ye?(_N(ye[1])&&_N(J)&&(J=(0,ice.default)(!0,ye[1],J)),ye[1]=J):e.push([...arguments])}}function f(q){s.freeze();let z=EN(q),L=s.Parser;return oce("parse",L),oNe(L,"parse")?new L(String(z),z).parse():L(String(z),z)}function p(q,z){s.freeze();let L=EN(z),B=s.Compiler;return ace("stringify",B),aNe(q),oNe(B,"compile")?new B(q,L).compile():B(q,L)}function _(q,z,L){if(aNe(q),s.freeze(),!L&&typeof z=="function"&&(L=z,z=void 0),!L)return new Promise(B);B(null,L);function B(P,G){n.run(q,EN(z),ue);function ue(I,J,he){J=J||q,I?G(I):P?P(J):L(null,J,he)}}}function E(q,z){let L,B;return s.run(q,z,P),uNe("runSync","run",B),L;function P(G,ue){Zle(G),L=ue,B=!0}}function O(q,z){if(s.freeze(),oce("process",s.Parser),ace("process",s.Compiler),!z)return new Promise(L);L(null,z);function L(B,P){let G=EN(q);s.run(s.parse(G),G,(I,J,he)=>{if(I||!J||!he)ue(I);else{let ye=s.stringify(J,he);ye==null||(ovt(ye)?he.value=ye:he.result=ye),ue(I,he)}});function ue(I,J){I||!J?P(I):B?B(J):z(null,J)}}}function R(q){let z;s.freeze(),oce("processSync",s.Parser),ace("processSync",s.Compiler);let L=EN(q);return s.process(L,B),uNe("processSync","process",z),L;function B(P){z=!0,Zle(P)}}}function oNe(n,e){return typeof n=="function"&&n.prototype&&(ivt(n.prototype)||e in n.prototype)}function ivt(n){let e;for(e in n)if(iNe.call(n,e))return!0;return!1}function oce(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `Parser`")}function ace(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `Compiler`")}function uce(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function aNe(n){if(!_N(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function uNe(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function EN(n){return svt(n)?n:new dW(n)}function svt(n){return Boolean(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function ovt(n){return typeof n=="string"||(0,rNe.default)(n)}m();m();m();m();m();function lNe(n,e){var{includeImageAlt:t=!0}=e||{};return cNe(n,t)}function cNe(n,e){return n&&typeof n=="object"&&(n.value||(e?n.alt:"")||"children"in n&&fNe(n.children,e)||Array.isArray(n)&&fNe(n,e))||""}function fNe(n,e){for(var t=[],r=-1;++r<n.length;)t[r]=cNe(n[r],e);return t.join("")}m();m();m();function a0(n,e,t,r){let i=n.length,s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(e,t),[].splice.apply(n,o);else for(t&&[].splice.apply(n,[e,t]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),[].splice.apply(n,o),s+=1e4,e+=1e4}function Pd(n,e){return n.length>0?(a0(n,n.length,0,e),n):e}var dNe={}.hasOwnProperty;function hNe(n){let e={},t=-1;for(;++t<n.length;)avt(e,n[t]);return e}function avt(n,e){let t;for(t in e){let i=(dNe.call(n,t)?n[t]:void 0)||(n[t]={}),s=e[t],o;for(o in s){dNe.call(i,o)||(i[o]=[]);let a=s[o];uvt(i[o],Array.isArray(a)?a:a?[a]:[])}}}function uvt(n,e){let t=-1,r=[];for(;++t<e.length;)(e[t].add==="after"?n:r).push(e[t]);a0(n,0,0,r)}m();m();m();m();var pNe=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var pp=V4(/[A-Za-z]/),SN=V4(/\d/),mNe=V4(/[\dA-Fa-f]/),Bd=V4(/[\dA-Za-z]/),xNe=V4(/[!-/:-@[-`{-~]/),lce=V4(/[#-'*+\--9=?A-Z^-~]/);function wN(n){return n!==null&&(n<32||n===127)}function Rc(n){return n!==null&&(n<0||n===32)}function Yi(n){return n!==null&&n<-2}function La(n){return n===-2||n===-1||n===32}var gNe=V4(/\s/),yNe=V4(pNe);function V4(n){return e;function e(t){return t!==null&&n.test(String.fromCharCode(t))}}function ro(n,e,t,r){let i=r?r-1:Number.POSITIVE_INFINITY,s=0;return o;function o(l){return La(l)?(n.enter(t),a(l)):e(l)}function a(l){return La(l)&&s++<i?(n.consume(l),a):(n.exit(t),e(l))}}var vNe={tokenize:lvt};function lvt(n){let e=n.attempt(this.parser.constructs.contentInitial,r,i),t;return e;function r(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),ro(n,e,"linePrefix")}function i(a){return n.enter("paragraph"),s(a)}function s(a){let l=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=l),t=l,o(a)}function o(a){if(a===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(a);return}return Yi(a)?(n.consume(a),n.exit("chunkText"),s):(n.consume(a),o)}}m();var _Ne={tokenize:cvt},bNe={tokenize:fvt};function cvt(n){let e=this,t=[],r=0,i,s,o;return a;function a(P){if(r<t.length){let G=t[r];return e.containerState=G[1],n.attempt(G[0].continuation,l,f)(P)}return f(P)}function l(P){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&B();let G=e.events.length,ue=G,I;for(;ue--;)if(e.events[ue][0]==="exit"&&e.events[ue][1].type==="chunkFlow"){I=e.events[ue][1].end;break}L(r);let J=G;for(;J<e.events.length;)e.events[J][1].end=Object.assign({},I),J++;return a0(e.events,ue+1,0,e.events.slice(G)),e.events.length=J,f(P)}return a(P)}function f(P){if(r===t.length){if(!i)return E(P);if(i.currentConstruct&&i.currentConstruct.concrete)return R(P);e.interrupt=Boolean(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(bNe,p,_)(P)}function p(P){return i&&B(),L(r),E(P)}function _(P){return e.parser.lazy[e.now().line]=r!==t.length,o=e.now().offset,R(P)}function E(P){return e.containerState={},n.attempt(bNe,O,R)(P)}function O(P){return r++,t.push([e.currentConstruct,e.containerState]),E(P)}function R(P){if(P===null){i&&B(),L(0),n.consume(P);return}return i=i||e.parser.flow(e.now()),n.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),q(P)}function q(P){if(P===null){z(n.exit("chunkFlow"),!0),L(0),n.consume(P);return}return Yi(P)?(n.consume(P),z(n.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(n.consume(P),q)}function z(P,G){let ue=e.sliceStream(P);if(G&&ue.push(null),P.previous=s,s&&(s.next=P),s=P,i.defineSkip(P.start),i.write(ue),e.parser.lazy[P.start.line]){let I=i.events.length;for(;I--;)if(i.events[I][1].start.offset<o&&(!i.events[I][1].end||i.events[I][1].end.offset>o))return;let J=e.events.length,he=J,ye,He;for(;he--;)if(e.events[he][0]==="exit"&&e.events[he][1].type==="chunkFlow"){if(ye){He=e.events[he][1].end;break}ye=!0}for(L(r),I=J;I<e.events.length;)e.events[I][1].end=Object.assign({},He),I++;a0(e.events,he+1,0,e.events.slice(J)),e.events.length=I}}function L(P){let G=t.length;for(;G-- >P;){let ue=t[G];e.containerState=ue[1],ue[0].exit.call(e,n)}t.length=P}function B(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function fvt(n,e,t){return ro(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}m();m();m();m();function cce(n){if(n===null||Rc(n)||gNe(n))return 1;if(yNe(n))return 2}m();function E9(n,e,t){let r=[],i=-1;for(;++i<n.length;){let s=n[i].resolveAll;s&&!r.includes(s)&&(e=s(e,t),r.push(s))}return e}var CN={name:"attention",tokenize:hvt,resolveAll:dvt};function dvt(n,e){let t=-1,r,i,s,o,a,l,f,p;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&e.sliceSerialize(n[r][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;l=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;let _=Object.assign({},n[r][1].end),E=Object.assign({},n[t][1].start);ENe(_,-l),ENe(E,l),o={type:l>1?"strongSequence":"emphasisSequence",start:_,end:Object.assign({},n[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},n[t][1].start),end:E},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},n[r][1].end),end:Object.assign({},n[t][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},n[r][1].end=Object.assign({},o.start),n[t][1].start=Object.assign({},a.end),f=[],n[r][1].end.offset-n[r][1].start.offset&&(f=Pd(f,[["enter",n[r][1],e],["exit",n[r][1],e]])),f=Pd(f,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),f=Pd(f,E9(e.parser.constructs.insideSpan.null,n.slice(r+1,t),e)),f=Pd(f,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),n[t][1].end.offset-n[t][1].start.offset?(p=2,f=Pd(f,[["enter",n[t][1],e],["exit",n[t][1],e]])):p=0,a0(n,r-1,t-r+3,f),t=r+f.length-p-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function hvt(n,e){let t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=cce(r),s;return o;function o(l){return n.enter("attentionSequence"),s=l,a(l)}function a(l){if(l===s)return n.consume(l),a;let f=n.exit("attentionSequence"),p=cce(l),_=!p||p===2&&i||t.includes(l),E=!i||i===2&&p||t.includes(r);return f._open=Boolean(s===42?_:_&&(i||!E)),f._close=Boolean(s===42?E:E&&(p||!_)),e(l)}}function ENe(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}m();var fce={name:"autolink",tokenize:pvt};function pvt(n,e,t){let r=1;return i;function i(R){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(R),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(R){return pp(R)?(n.consume(R),o):lce(R)?f(R):t(R)}function o(R){return R===43||R===45||R===46||Bd(R)?a(R):f(R)}function a(R){return R===58?(n.consume(R),l):(R===43||R===45||R===46||Bd(R))&&r++<32?(n.consume(R),a):f(R)}function l(R){return R===62?(n.exit("autolinkProtocol"),O(R)):R===null||R===32||R===60||wN(R)?t(R):(n.consume(R),l)}function f(R){return R===64?(n.consume(R),r=0,p):lce(R)?(n.consume(R),f):t(R)}function p(R){return Bd(R)?_(R):t(R)}function _(R){return R===46?(n.consume(R),r=0,p):R===62?(n.exit("autolinkProtocol").type="autolinkEmail",O(R)):E(R)}function E(R){return(R===45||Bd(R))&&r++<63?(n.consume(R),R===45?E:_):t(R)}function O(R){return n.enter("autolinkMarker"),n.consume(R),n.exit("autolinkMarker"),n.exit("autolink"),e}}m();var W4={tokenize:mvt,partial:!0};function mvt(n,e,t){return ro(n,r,"linePrefix");function r(i){return i===null||Yi(i)?e(i):t(i)}}m();var hW={name:"blockQuote",tokenize:xvt,continuation:{tokenize:gvt},exit:yvt};function xvt(n,e,t){let r=this;return i;function i(o){if(o===62){let a=r.containerState;return a.open||(n.enter("blockQuote",{_container:!0}),a.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(o),n.exit("blockQuoteMarker"),s}return t(o)}function s(o){return La(o)?(n.enter("blockQuotePrefixWhitespace"),n.consume(o),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(o))}}function gvt(n,e,t){return ro(n,n.attempt(hW,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function yvt(n){n.exit("blockQuote")}m();var pW={name:"characterEscape",tokenize:vvt};function vvt(n,e,t){return r;function r(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),i}function i(s){return xNe(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(s)}}m();m();var SNe=document.createElement("i");function S9(n){let e="&"+n+";";SNe.innerHTML=e;let t=SNe.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}var mW={name:"characterReference",tokenize:_vt};function _vt(n,e,t){let r=this,i=0,s,o;return a;function a(_){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(_),n.exit("characterReferenceMarker"),l}function l(_){return _===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(_),n.exit("characterReferenceMarkerNumeric"),f):(n.enter("characterReferenceValue"),s=31,o=Bd,p(_))}function f(_){return _===88||_===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(_),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,o=mNe,p):(n.enter("characterReferenceValue"),s=7,o=SN,p(_))}function p(_){let E;return _===59&&i?(E=n.exit("characterReferenceValue"),o===Bd&&!S9(r.sliceSerialize(E))?t(_):(n.enter("characterReferenceMarker"),n.consume(_),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)):o(_)&&i++<s?(n.consume(_),p):t(_)}}m();var xW={name:"codeFenced",tokenize:bvt,concrete:!0};function bvt(n,e,t){let r=this,i={tokenize:ue,partial:!0},s={tokenize:G,partial:!0},o=this.events[this.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0,f;return p;function p(I){return n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),f=I,_(I)}function _(I){return I===f?(n.consume(I),l++,_):(n.exit("codeFencedFenceSequence"),l<3?t(I):ro(n,E,"whitespace")(I))}function E(I){return I===null||Yi(I)?z(I):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),O(I))}function O(I){return I===null||Rc(I)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),ro(n,R,"whitespace")(I)):I===96&&I===f?t(I):(n.consume(I),O)}function R(I){return I===null||Yi(I)?z(I):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),q(I))}function q(I){return I===null||Yi(I)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),z(I)):I===96&&I===f?t(I):(n.consume(I),q)}function z(I){return n.exit("codeFencedFence"),r.interrupt?e(I):L(I)}function L(I){return I===null?P(I):Yi(I)?n.attempt(s,n.attempt(i,P,a?ro(n,L,"linePrefix",a+1):L),P)(I):(n.enter("codeFlowValue"),B(I))}function B(I){return I===null||Yi(I)?(n.exit("codeFlowValue"),L(I)):(n.consume(I),B)}function P(I){return n.exit("codeFenced"),e(I)}function G(I,J,he){let ye=this;return He;function He(ct){return I.enter("lineEnding"),I.consume(ct),I.exit("lineEnding"),at}function at(ct){return ye.parser.lazy[ye.now().line]?he(ct):J(ct)}}function ue(I,J,he){let ye=0;return ro(I,He,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function He(Ze){return I.enter("codeFencedFence"),I.enter("codeFencedFenceSequence"),at(Ze)}function at(Ze){return Ze===f?(I.consume(Ze),ye++,at):ye<l?he(Ze):(I.exit("codeFencedFenceSequence"),ro(I,ct,"whitespace")(Ze))}function ct(Ze){return Ze===null||Yi(Ze)?(I.exit("codeFencedFence"),J(Ze)):he(Ze)}}}m();var AN={name:"codeIndented",tokenize:Svt},Evt={tokenize:wvt,partial:!0};function Svt(n,e,t){let r=this;return i;function i(f){return n.enter("codeIndented"),ro(n,s,"linePrefix",4+1)(f)}function s(f){let p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?o(f):t(f)}function o(f){return f===null?l(f):Yi(f)?n.attempt(Evt,o,l)(f):(n.enter("codeFlowValue"),a(f))}function a(f){return f===null||Yi(f)?(n.exit("codeFlowValue"),o(f)):(n.consume(f),a)}function l(f){return n.exit("codeIndented"),e(f)}}function wvt(n,e,t){let r=this;return i;function i(o){return r.parser.lazy[r.now().line]?t(o):Yi(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),i):ro(n,s,"linePrefix",4+1)(o)}function s(o){let a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):Yi(o)?i(o):t(o)}}m();var dce={name:"codeText",tokenize:Tvt,resolve:Cvt,previous:Avt};function Cvt(n){let e=n.length-4,t=3,r,i;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)i===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(i=r):(r===e||n[r][1].type==="lineEnding")&&(n[i][1].type="codeTextData",r!==i+2&&(n[i][1].end=n[r-1][1].end,n.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return n}function Avt(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Tvt(n,e,t){let r=this,i=0,s,o;return a;function a(E){return n.enter("codeText"),n.enter("codeTextSequence"),l(E)}function l(E){return E===96?(n.consume(E),i++,l):(n.exit("codeTextSequence"),f(E))}function f(E){return E===null?t(E):E===96?(o=n.enter("codeTextSequence"),s=0,_(E)):E===32?(n.enter("space"),n.consume(E),n.exit("space"),f):Yi(E)?(n.enter("lineEnding"),n.consume(E),n.exit("lineEnding"),f):(n.enter("codeTextData"),p(E))}function p(E){return E===null||E===32||E===96||Yi(E)?(n.exit("codeTextData"),f(E)):(n.consume(E),p)}function _(E){return E===96?(n.consume(E),s++,_):s===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(E)):(o.type="codeTextData",p(E))}}m();m();function gW(n){let e={},t=-1,r,i,s,o,a,l,f;for(;++t<n.length;){for(;t in e;)t=e[t];if(r=n[t],t&&r[1].type==="chunkFlow"&&n[t-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Fvt(n,t)),t=e[t],f=!0);else if(r[1]._container){for(s=t,i=void 0;s--&&(o=n[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(n[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},n[i][1].start),a=n.slice(i,t),a.unshift(r),a0(n,i,t-i+1,a))}}return!f}function Fvt(n,e){let t=n[e][1],r=n[e][2],i=e-1,s=[],o=t._tokenizer||r.parser[t.contentType](t.start),a=o.events,l=[],f={},p,_,E=-1,O=t,R=0,q=0,z=[q];for(;O;){for(;n[++i][1]!==O;);s.push(i),O._tokenizer||(p=r.sliceStream(O),O.next||p.push(null),_&&o.defineSkip(O.start),O._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(p),O._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),_=O,O=O.next}for(O=t;++E<a.length;)a[E][0]==="exit"&&a[E-1][0]==="enter"&&a[E][1].type===a[E-1][1].type&&a[E][1].start.line!==a[E][1].end.line&&(q=E+1,z.push(q),O._tokenizer=void 0,O.previous=void 0,O=O.next);for(o.events=[],O?(O._tokenizer=void 0,O.previous=void 0):z.pop(),E=z.length;E--;){let L=a.slice(z[E],z[E+1]),B=s.pop();l.unshift([B,B+L.length-1]),a0(n,B,2,L)}for(E=-1;++E<l.length;)f[R+l[E][0]]=R+l[E][1],R+=l[E][1]-l[E][0]-1;return f}var hce={tokenize:Rvt,resolve:Ovt},Dvt={tokenize:Nvt,partial:!0};function Ovt(n){return gW(n),n}function Rvt(n,e){let t;return r;function r(a){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Yi(a)?n.check(Dvt,o,s)(a):(n.consume(a),i)}function s(a){return n.exit("chunkContent"),n.exit("content"),e(a)}function o(a){return n.consume(a),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function Nvt(n,e,t){let r=this;return i;function i(o){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),ro(n,s,"linePrefix")}function s(o){if(o===null||Yi(o))return t(o);let a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):n.interrupt(r.parser.constructs.flow,t,e)(o)}}m();m();function yW(n,e,t,r,i,s,o,a,l){let f=l||Number.POSITIVE_INFINITY,p=0;return _;function _(L){return L===60?(n.enter(r),n.enter(i),n.enter(s),n.consume(L),n.exit(s),E):L===null||L===41||wN(L)?t(L):(n.enter(r),n.enter(o),n.enter(a),n.enter("chunkString",{contentType:"string"}),q(L))}function E(L){return L===62?(n.enter(s),n.consume(L),n.exit(s),n.exit(i),n.exit(r),e):(n.enter(a),n.enter("chunkString",{contentType:"string"}),O(L))}function O(L){return L===62?(n.exit("chunkString"),n.exit(a),E(L)):L===null||L===60||Yi(L)?t(L):(n.consume(L),L===92?R:O)}function R(L){return L===60||L===62||L===92?(n.consume(L),O):O(L)}function q(L){return L===40?++p>f?t(L):(n.consume(L),q):L===41?p--?(n.consume(L),q):(n.exit("chunkString"),n.exit(a),n.exit(o),n.exit(r),e(L)):L===null||Rc(L)?p?t(L):(n.exit("chunkString"),n.exit(a),n.exit(o),n.exit(r),e(L)):wN(L)?t(L):(n.consume(L),L===92?z:q)}function z(L){return L===40||L===41||L===92?(n.consume(L),q):q(L)}}m();function vW(n,e,t,r,i,s){let o=this,a=0,l;return f;function f(O){return n.enter(r),n.enter(i),n.consume(O),n.exit(i),n.enter(s),p}function p(O){return O===null||O===91||O===93&&!l||O===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs||a>999?t(O):O===93?(n.exit(s),n.enter(i),n.consume(O),n.exit(i),n.exit(r),e):Yi(O)?(n.enter("lineEnding"),n.consume(O),n.exit("lineEnding"),p):(n.enter("chunkString",{contentType:"string"}),_(O))}function _(O){return O===null||O===91||O===93||Yi(O)||a++>999?(n.exit("chunkString"),p(O)):(n.consume(O),l=l||!La(O),O===92?E:_)}function E(O){return O===91||O===92||O===93?(n.consume(O),a++,_):_(O)}}m();function _W(n,e,t,r,i,s){let o;return a;function a(E){return n.enter(r),n.enter(i),n.consume(E),n.exit(i),o=E===40?41:E,l}function l(E){return E===o?(n.enter(i),n.consume(E),n.exit(i),n.exit(r),e):(n.enter(s),f(E))}function f(E){return E===o?(n.exit(s),l(o)):E===null?t(E):Yi(E)?(n.enter("lineEnding"),n.consume(E),n.exit("lineEnding"),ro(n,f,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),p(E))}function p(E){return E===o||E===null||Yi(E)?(n.exit("chunkString"),f(E)):(n.consume(E),E===92?_:p)}function _(E){return E===o||E===92?(n.consume(E),p):p(E)}}m();function xE(n,e){let t;return r;function r(i){return Yi(i)?(n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),t=!0,r):La(i)?ro(n,r,t?"linePrefix":"lineSuffix")(i):e(i)}}m();function Zy(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var pce={name:"definition",tokenize:kvt},Lvt={tokenize:Ivt,partial:!0};function kvt(n,e,t){let r=this,i;return s;function s(l){return n.enter("definition"),vW.call(r,n,o,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(l)}function o(l){return i=Zy(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),l===58?(n.enter("definitionMarker"),n.consume(l),n.exit("definitionMarker"),xE(n,yW(n,n.attempt(Lvt,ro(n,a,"whitespace"),ro(n,a,"whitespace")),t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):t(l)}function a(l){return l===null||Yi(l)?(n.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),e(l)):t(l)}}function Ivt(n,e,t){return r;function r(o){return Rc(o)?xE(n,i)(o):t(o)}function i(o){return o===34||o===39||o===40?_W(n,ro(n,s,"whitespace"),t,"definitionTitle","definitionTitleMarker","definitionTitleString")(o):t(o)}function s(o){return o===null||Yi(o)?e(o):t(o)}}m();var mce={name:"hardBreakEscape",tokenize:Mvt};function Mvt(n,e,t){return r;function r(s){return n.enter("hardBreakEscape"),n.enter("escapeMarker"),n.consume(s),i}function i(s){return Yi(s)?(n.exit("escapeMarker"),n.exit("hardBreakEscape"),e(s)):t(s)}}m();var xce={name:"headingAtx",tokenize:Bvt,resolve:Pvt};function Pvt(n,e){let t=n.length-2,r=3,i,s;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},s={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},a0(n,r,t-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),n}function Bvt(n,e,t){let r=this,i=0;return s;function s(p){return n.enter("atxHeading"),n.enter("atxHeadingSequence"),o(p)}function o(p){return p===35&&i++<6?(n.consume(p),o):p===null||Rc(p)?(n.exit("atxHeadingSequence"),r.interrupt?e(p):a(p)):t(p)}function a(p){return p===35?(n.enter("atxHeadingSequence"),l(p)):p===null||Yi(p)?(n.exit("atxHeading"),e(p)):La(p)?ro(n,a,"whitespace")(p):(n.enter("atxHeadingText"),f(p))}function l(p){return p===35?(n.consume(p),l):(n.exit("atxHeadingSequence"),a(p))}function f(p){return p===null||p===35||Rc(p)?(n.exit("atxHeadingText"),a(p)):(n.consume(p),f)}}m();m();var wNe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],gce=["pre","script","style","textarea"];var yce={name:"htmlFlow",tokenize:Uvt,resolveTo:qvt,concrete:!0},jvt={tokenize:$vt,partial:!0};function qvt(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function Uvt(n,e,t){let r=this,i,s,o,a,l;return f;function f(pe){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(pe),p}function p(pe){return pe===33?(n.consume(pe),_):pe===47?(n.consume(pe),R):pe===63?(n.consume(pe),i=3,r.interrupt?e:be):pp(pe)?(n.consume(pe),o=String.fromCharCode(pe),s=!0,q):t(pe)}function _(pe){return pe===45?(n.consume(pe),i=2,E):pe===91?(n.consume(pe),i=5,o="CDATA[",a=0,O):pp(pe)?(n.consume(pe),i=4,r.interrupt?e:be):t(pe)}function E(pe){return pe===45?(n.consume(pe),r.interrupt?e:be):t(pe)}function O(pe){return pe===o.charCodeAt(a++)?(n.consume(pe),a===o.length?r.interrupt?e:at:O):t(pe)}function R(pe){return pp(pe)?(n.consume(pe),o=String.fromCharCode(pe),q):t(pe)}function q(pe){return pe===null||pe===47||pe===62||Rc(pe)?pe!==47&&s&&gce.includes(o.toLowerCase())?(i=1,r.interrupt?e(pe):at(pe)):wNe.includes(o.toLowerCase())?(i=6,pe===47?(n.consume(pe),z):r.interrupt?e(pe):at(pe)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(pe):s?B(pe):L(pe)):pe===45||Bd(pe)?(n.consume(pe),o+=String.fromCharCode(pe),q):t(pe)}function z(pe){return pe===62?(n.consume(pe),r.interrupt?e:at):t(pe)}function L(pe){return La(pe)?(n.consume(pe),L):ye(pe)}function B(pe){return pe===47?(n.consume(pe),ye):pe===58||pe===95||pp(pe)?(n.consume(pe),P):La(pe)?(n.consume(pe),B):ye(pe)}function P(pe){return pe===45||pe===46||pe===58||pe===95||Bd(pe)?(n.consume(pe),P):G(pe)}function G(pe){return pe===61?(n.consume(pe),ue):La(pe)?(n.consume(pe),G):B(pe)}function ue(pe){return pe===null||pe===60||pe===61||pe===62||pe===96?t(pe):pe===34||pe===39?(n.consume(pe),l=pe,I):La(pe)?(n.consume(pe),ue):(l=null,J(pe))}function I(pe){return pe===null||Yi(pe)?t(pe):pe===l?(n.consume(pe),he):(n.consume(pe),I)}function J(pe){return pe===null||pe===34||pe===39||pe===60||pe===61||pe===62||pe===96||Rc(pe)?G(pe):(n.consume(pe),J)}function he(pe){return pe===47||pe===62||La(pe)?B(pe):t(pe)}function ye(pe){return pe===62?(n.consume(pe),He):t(pe)}function He(pe){return La(pe)?(n.consume(pe),He):pe===null||Yi(pe)?at(pe):t(pe)}function at(pe){return pe===45&&i===2?(n.consume(pe),Mt):pe===60&&i===1?(n.consume(pe),qe):pe===62&&i===4?(n.consume(pe),ke):pe===63&&i===3?(n.consume(pe),be):pe===93&&i===5?(n.consume(pe),et):Yi(pe)&&(i===6||i===7)?n.check(jvt,ke,ct)(pe):pe===null||Yi(pe)?ct(pe):(n.consume(pe),at)}function ct(pe){return n.exit("htmlFlowData"),Ze(pe)}function Ze(pe){return pe===null?we(pe):Yi(pe)?n.attempt({tokenize:Et,partial:!0},Ze,we)(pe):(n.enter("htmlFlowData"),at(pe))}function Et(pe,Je,lt){return Ht;function Ht(mn){return pe.enter("lineEnding"),pe.consume(mn),pe.exit("lineEnding"),Ct}function Ct(mn){return r.parser.lazy[r.now().line]?lt(mn):Je(mn)}}function Mt(pe){return pe===45?(n.consume(pe),be):at(pe)}function qe(pe){return pe===47?(n.consume(pe),o="",te):at(pe)}function te(pe){return pe===62&&gce.includes(o.toLowerCase())?(n.consume(pe),ke):pp(pe)&&o.length<8?(n.consume(pe),o+=String.fromCharCode(pe),te):at(pe)}function et(pe){return pe===93?(n.consume(pe),be):at(pe)}function be(pe){return pe===62?(n.consume(pe),ke):pe===45&&i===2?(n.consume(pe),be):at(pe)}function ke(pe){return pe===null||Yi(pe)?(n.exit("htmlFlowData"),we(pe)):(n.consume(pe),ke)}function we(pe){return n.exit("htmlFlow"),e(pe)}}function $vt(n,e,t){return r;function r(i){return n.exit("htmlFlowData"),n.enter("lineEndingBlank"),n.consume(i),n.exit("lineEndingBlank"),n.attempt(W4,e,t)}}m();var vce={name:"htmlText",tokenize:zvt};function zvt(n,e,t){let r=this,i,s,o,a;return l;function l(we){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(we),f}function f(we){return we===33?(n.consume(we),p):we===47?(n.consume(we),J):we===63?(n.consume(we),ue):pp(we)?(n.consume(we),He):t(we)}function p(we){return we===45?(n.consume(we),_):we===91?(n.consume(we),s="CDATA[",o=0,z):pp(we)?(n.consume(we),G):t(we)}function _(we){return we===45?(n.consume(we),E):t(we)}function E(we){return we===null||we===62?t(we):we===45?(n.consume(we),O):R(we)}function O(we){return we===null||we===62?t(we):R(we)}function R(we){return we===null?t(we):we===45?(n.consume(we),q):Yi(we)?(a=R,et(we)):(n.consume(we),R)}function q(we){return we===45?(n.consume(we),ke):R(we)}function z(we){return we===s.charCodeAt(o++)?(n.consume(we),o===s.length?L:z):t(we)}function L(we){return we===null?t(we):we===93?(n.consume(we),B):Yi(we)?(a=L,et(we)):(n.consume(we),L)}function B(we){return we===93?(n.consume(we),P):L(we)}function P(we){return we===62?ke(we):we===93?(n.consume(we),P):L(we)}function G(we){return we===null||we===62?ke(we):Yi(we)?(a=G,et(we)):(n.consume(we),G)}function ue(we){return we===null?t(we):we===63?(n.consume(we),I):Yi(we)?(a=ue,et(we)):(n.consume(we),ue)}function I(we){return we===62?ke(we):ue(we)}function J(we){return pp(we)?(n.consume(we),he):t(we)}function he(we){return we===45||Bd(we)?(n.consume(we),he):ye(we)}function ye(we){return Yi(we)?(a=ye,et(we)):La(we)?(n.consume(we),ye):ke(we)}function He(we){return we===45||Bd(we)?(n.consume(we),He):we===47||we===62||Rc(we)?at(we):t(we)}function at(we){return we===47?(n.consume(we),ke):we===58||we===95||pp(we)?(n.consume(we),ct):Yi(we)?(a=at,et(we)):La(we)?(n.consume(we),at):ke(we)}function ct(we){return we===45||we===46||we===58||we===95||Bd(we)?(n.consume(we),ct):Ze(we)}function Ze(we){return we===61?(n.consume(we),Et):Yi(we)?(a=Ze,et(we)):La(we)?(n.consume(we),Ze):at(we)}function Et(we){return we===null||we===60||we===61||we===62||we===96?t(we):we===34||we===39?(n.consume(we),i=we,Mt):Yi(we)?(a=Et,et(we)):La(we)?(n.consume(we),Et):(n.consume(we),i=void 0,te)}function Mt(we){return we===i?(n.consume(we),qe):we===null?t(we):Yi(we)?(a=Mt,et(we)):(n.consume(we),Mt)}function qe(we){return we===62||we===47||Rc(we)?at(we):t(we)}function te(we){return we===null||we===34||we===39||we===60||we===61||we===96?t(we):we===62||Rc(we)?at(we):(n.consume(we),te)}function et(we){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(we),n.exit("lineEnding"),ro(n,be,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function be(we){return n.enter("htmlTextData"),a(we)}function ke(we){return we===62?(n.consume(we),n.exit("htmlTextData"),n.exit("htmlText"),e):t(we)}}m();var gE={name:"labelEnd",tokenize:Yvt,resolveTo:Gvt,resolveAll:Qvt},Hvt={tokenize:Kvt},Vvt={tokenize:Jvt},Wvt={tokenize:Xvt};function Qvt(n){let e=-1,t;for(;++e<n.length;)t=n[e][1],(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(n.splice(e+1,t.type==="labelImage"?4:2),t.type="data",e++);return n}function Gvt(n,e){let t=n.length,r=0,i,s,o,a;for(;t--;)if(i=n[t][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;n[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(n[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=t);let l={type:n[s][1].type==="labelLink"?"link":"image",start:Object.assign({},n[s][1].start),end:Object.assign({},n[n.length-1][1].end)},f={type:"label",start:Object.assign({},n[s][1].start),end:Object.assign({},n[o][1].end)},p={type:"labelText",start:Object.assign({},n[s+r+2][1].end),end:Object.assign({},n[o-2][1].start)};return a=[["enter",l,e],["enter",f,e]],a=Pd(a,n.slice(s+1,s+r+3)),a=Pd(a,[["enter",p,e]]),a=Pd(a,E9(e.parser.constructs.insideSpan.null,n.slice(s+r+4,o-3),e)),a=Pd(a,[["exit",p,e],n[o-2],n[o-1],["exit",f,e]]),a=Pd(a,n.slice(o+1)),a=Pd(a,[["exit",l,e]]),a0(n,s,n.length,a),n}function Yvt(n,e,t){let r=this,i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(p){return s?s._inactive?f(p):(o=r.parser.defined.includes(Zy(r.sliceSerialize({start:s.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(p),n.exit("labelMarker"),n.exit("labelEnd"),l):t(p)}function l(p){return p===40?n.attempt(Hvt,e,o?e:f)(p):p===91?n.attempt(Vvt,e,o?n.attempt(Wvt,e,f):f)(p):o?e(p):f(p)}function f(p){return s._balanced=!0,t(p)}}function Kvt(n,e,t){return r;function r(l){return n.enter("resource"),n.enter("resourceMarker"),n.consume(l),n.exit("resourceMarker"),xE(n,i)}function i(l){return l===41?a(l):yW(n,s,t,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(l)}function s(l){return Rc(l)?xE(n,o)(l):a(l)}function o(l){return l===34||l===39||l===40?_W(n,xE(n,a),t,"resourceTitle","resourceTitleMarker","resourceTitleString")(l):a(l)}function a(l){return l===41?(n.enter("resourceMarker"),n.consume(l),n.exit("resourceMarker"),n.exit("resource"),e):t(l)}}function Jvt(n,e,t){let r=this;return i;function i(o){return vW.call(r,n,s,t,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Zy(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):t(o)}}function Xvt(n,e,t){return r;function r(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),i}function i(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),e):t(s)}}m();var _ce={name:"labelStartImage",tokenize:Zvt,resolveAll:gE.resolveAll};function Zvt(n,e,t){let r=this;return i;function i(a){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(a),n.exit("labelImageMarker"),s}function s(a){return a===91?(n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelImage"),o):t(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(a):e(a)}}m();var bce={name:"labelStartLink",tokenize:e4t,resolveAll:gE.resolveAll};function e4t(n,e,t){let r=this;return i;function i(o){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(o):e(o)}}m();var TN={name:"lineEnding",tokenize:t4t};function t4t(n,e){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),ro(n,e,"linePrefix")}}m();m();var yE={name:"thematicBreak",tokenize:n4t};function n4t(n,e,t){let r=0,i;return s;function s(l){return n.enter("thematicBreak"),i=l,o(l)}function o(l){return l===i?(n.enter("thematicBreakSequence"),a(l)):La(l)?ro(n,o,"whitespace")(l):r<3||l!==null&&!Yi(l)?t(l):(n.exit("thematicBreak"),e(l))}function a(l){return l===i?(n.consume(l),r++,a):(n.exit("thematicBreakSequence"),o(l))}}var W0={name:"list",tokenize:s4t,continuation:{tokenize:o4t},exit:u4t},r4t={tokenize:l4t,partial:!0},i4t={tokenize:a4t,partial:!0};function s4t(n,e,t){let r=this,i=r.events[r.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(O){let R=r.containerState.type||(O===42||O===43||O===45?"listUnordered":"listOrdered");if(R==="listUnordered"?!r.containerState.marker||O===r.containerState.marker:SN(O)){if(r.containerState.type||(r.containerState.type=R,n.enter(R,{_container:!0})),R==="listUnordered")return n.enter("listItemPrefix"),O===42||O===45?n.check(yE,t,f)(O):f(O);if(!r.interrupt||O===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),l(O)}return t(O)}function l(O){return SN(O)&&++o<10?(n.consume(O),l):(!r.interrupt||o<2)&&(r.containerState.marker?O===r.containerState.marker:O===41||O===46)?(n.exit("listItemValue"),f(O)):t(O)}function f(O){return n.enter("listItemMarker"),n.consume(O),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||O,n.check(W4,r.interrupt?t:p,n.attempt(r4t,E,_))}function p(O){return r.containerState.initialBlankLine=!0,s++,E(O)}function _(O){return La(O)?(n.enter("listItemPrefixWhitespace"),n.consume(O),n.exit("listItemPrefixWhitespace"),E):t(O)}function E(O){return r.containerState.size=s+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(O)}}function o4t(n,e,t){let r=this;return r.containerState._closeFlow=void 0,n.check(W4,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ro(n,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!La(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(i4t,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,ro(n,n.attempt(W0,e,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function a4t(n,e,t){let r=this;return ro(n,i,"listItemIndent",r.containerState.size+1);function i(s){let o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):t(s)}}function u4t(n){n.exit(this.containerState.type)}function l4t(n,e,t){let r=this;return ro(n,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(s){let o=r.events[r.events.length-1];return!La(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):t(s)}}m();var bW={name:"setextUnderline",tokenize:f4t,resolveTo:c4t};function c4t(n,e){let t=n.length,r,i,s;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(i=t)}else n[t][1].type==="content"&&n.splice(t,1),!s&&n[t][1].type==="definition"&&(s=t);let o={type:"setextHeading",start:Object.assign({},n[i][1].start),end:Object.assign({},n[n.length-1][1].end)};return n[i][1].type="setextHeadingText",s?(n.splice(i,0,["enter",o,e]),n.splice(s+1,0,["exit",n[r][1],e]),n[r][1].end=Object.assign({},n[s][1].end)):n[r][1]=o,n.push(["exit",o,e]),n}function f4t(n,e,t){let r=this,i=r.events.length,s,o;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){o=r.events[i][1].type==="paragraph";break}return a;function a(p){return!r.parser.lazy[r.now().line]&&(r.interrupt||o)?(n.enter("setextHeadingLine"),n.enter("setextHeadingLineSequence"),s=p,l(p)):t(p)}function l(p){return p===s?(n.consume(p),l):(n.exit("setextHeadingLineSequence"),ro(n,f,"lineSuffix")(p))}function f(p){return p===null||Yi(p)?(n.exit("setextHeadingLine"),e(p)):t(p)}}var CNe={tokenize:d4t};function d4t(n){let e=this,t=n.attempt(W4,r,n.attempt(this.parser.constructs.flowInitial,i,ro(n,n.attempt(this.parser.constructs.flow,i,n.attempt(hce,i)),"linePrefix")));return t;function r(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function i(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),e.currentConstruct=void 0,t}}m();var ANe={resolveAll:ONe()},TNe=DNe("string"),FNe=DNe("text");function DNe(n){return{tokenize:e,resolveAll:ONe(n==="text"?h4t:void 0)};function e(t){let r=this,i=this.parser.constructs[n],s=t.attempt(i,o,a);return o;function o(p){return f(p)?s(p):a(p)}function a(p){if(p===null){t.consume(p);return}return t.enter("data"),t.consume(p),l}function l(p){return f(p)?(t.exit("data"),s(p)):(t.consume(p),l)}function f(p){if(p===null)return!0;let _=i[p],E=-1;if(_)for(;++E<_.length;){let O=_[E];if(!O.previous||O.previous.call(r,r.previous))return!0}return!1}}}function ONe(n){return e;function e(t,r){let i=-1,s;for(;++i<=t.length;)s===void 0?t[i]&&t[i][1].type==="data"&&(s=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),i=s+2),s=void 0);return n?n(t,r):t}}function h4t(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){let r=n[t-1][1],i=e.sliceStream(r),s=i.length,o=-1,a=0,l;for(;s--;){let f=i[s];if(typeof f=="string"){for(o=f.length;f.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(f===-2)l=!0,a++;else if(f!==-1){s++;break}}if(a){let f={type:t===n.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},f.start),r.start.offset===r.end.offset?Object.assign(r,f):(n.splice(t,0,["enter",f,e],["exit",f,e]),t+=2)}t++}return n}m();function RNe(n,e,t){let r=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),i={},s=[],o=[],a=[],l=!0,f={consume:G,enter:ue,exit:I,attempt:ye(J),check:ye(he),interrupt:ye(he,{interrupt:!0})},p={previous:null,code:null,containerState:{},events:[],parser:n,sliceStream:q,sliceSerialize:R,now:z,defineSkip:L,write:O},_=e.tokenize.call(p,f),E;return e.resolveAll&&s.push(e),p;function O(Ze){return o=Pd(o,Ze),B(),o[o.length-1]!==null?[]:(He(e,0),p.events=E9(s,p.events,p),p.events)}function R(Ze,Et){return m4t(q(Ze),Et)}function q(Ze){return p4t(o,Ze)}function z(){return Object.assign({},r)}function L(Ze){i[Ze.line]=Ze.column,ct()}function B(){let Ze;for(;r._index<o.length;){let Et=o[r._index];if(typeof Et=="string")for(Ze=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Ze&&r._bufferIndex<Et.length;)P(Et.charCodeAt(r._bufferIndex));else P(Et)}}function P(Ze){l=void 0,E=Ze,_=_(Ze)}function G(Ze){Yi(Ze)?(r.line++,r.column=1,r.offset+=Ze===-3?2:1,ct()):Ze!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=Ze,l=!0}function ue(Ze,Et){let Mt=Et||{};return Mt.type=Ze,Mt.start=z(),p.events.push(["enter",Mt,p]),a.push(Mt),Mt}function I(Ze){let Et=a.pop();return Et.end=z(),p.events.push(["exit",Et,p]),Et}function J(Ze,Et){He(Ze,Et.from)}function he(Ze,Et){Et.restore()}function ye(Ze,Et){return Mt;function Mt(qe,te,et){let be,ke,we,pe;return Array.isArray(qe)?lt(qe):"tokenize"in qe?lt([qe]):Je(qe);function Je(kt){return Bt;function Bt(tn){let bt=tn!==null&&kt[tn],ve=tn!==null&&kt.null,Le=[...Array.isArray(bt)?bt:bt?[bt]:[],...Array.isArray(ve)?ve:ve?[ve]:[]];return lt(Le)(tn)}}function lt(kt){return be=kt,ke=0,kt.length===0?et:Ht(kt[ke])}function Ht(kt){return Bt;function Bt(tn){return pe=at(),we=kt,kt.partial||(p.currentConstruct=kt),kt.name&&p.parser.constructs.disable.null.includes(kt.name)?mn(tn):kt.tokenize.call(Et?Object.assign(Object.create(p),Et):p,f,Ct,mn)(tn)}}function Ct(kt){return l=!0,Ze(we,pe),te}function mn(kt){return l=!0,pe.restore(),++ke<be.length?Ht(be[ke]):et}}}function He(Ze,Et){Ze.resolveAll&&!s.includes(Ze)&&s.push(Ze),Ze.resolve&&a0(p.events,Et,p.events.length-Et,Ze.resolve(p.events.slice(Et),p)),Ze.resolveTo&&(p.events=Ze.resolveTo(p.events,p))}function at(){let Ze=z(),Et=p.previous,Mt=p.currentConstruct,qe=p.events.length,te=Array.from(a);return{restore:et,from:qe};function et(){r=Ze,p.previous=Et,p.currentConstruct=Mt,p.events.length=qe,a=te,ct()}}function ct(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function p4t(n,e){let t=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex,o;return t===i?o=[n[t].slice(r,s)]:(o=n.slice(t,i),r>-1&&(o[0]=o[0].slice(r)),s>0&&o.push(n[i].slice(0,s))),o}function m4t(n,e){let t=-1,r=[],i;for(;++t<n.length;){let s=n[t],o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}var Ece={};JG(Ece,{attentionMarkers:()=>S4t,contentInitial:()=>g4t,disable:()=>w4t,document:()=>x4t,flow:()=>v4t,flowInitial:()=>y4t,insideSpan:()=>E4t,string:()=>_4t,text:()=>b4t});m();var x4t={[42]:W0,[43]:W0,[45]:W0,[48]:W0,[49]:W0,[50]:W0,[51]:W0,[52]:W0,[53]:W0,[54]:W0,[55]:W0,[56]:W0,[57]:W0,[62]:hW},g4t={[91]:pce},y4t={[-2]:AN,[-1]:AN,[32]:AN},v4t={[35]:xce,[42]:yE,[45]:[bW,yE],[60]:yce,[61]:bW,[95]:yE,[96]:xW,[126]:xW},_4t={[38]:mW,[92]:pW},b4t={[-5]:TN,[-4]:TN,[-3]:TN,[33]:_ce,[38]:mW,[42]:CN,[60]:[fce,vce],[91]:bce,[92]:[mce,pW],[93]:gE,[95]:CN,[96]:dce},E4t={null:[CN,ANe]},S4t={null:[42,95]},w4t={null:[]};function NNe(n={}){let e=hNe([Ece].concat(n.extensions||[])),t={defined:[],lazy:{},constructs:e,content:r(vNe),document:r(_Ne),flow:r(CNe),string:r(TNe),text:r(FNe)};return t;function r(i){return s;function s(o){return RNe(t,i,o)}}}m();var LNe=/[\0\t\n\r]/g;function kNe(){let n=1,e="",t=!0,r;return i;function i(s,o,a){let l=[],f,p,_,E,O;for(s=e+s.toString(o),_=0,e="",t&&(s.charCodeAt(0)===65279&&_++,t=void 0);_<s.length;){if(LNe.lastIndex=_,f=LNe.exec(s),E=f&&f.index!==void 0?f.index:s.length,O=s.charCodeAt(E),!f){e=s.slice(_);break}if(O===10&&_===E&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),_<E&&(l.push(s.slice(_,E)),n+=E-_),O){case 0:{l.push(65533),n++;break}case 9:{for(p=Math.ceil(n/4)*4,l.push(-2);n++<p;)l.push(-1);break}case 10:{l.push(-4),n=1;break}default:r=!0,n=1}_=E+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}m();function INe(n){for(;!gW(n););return n}m();function EW(n,e){let t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"\uFFFD":String.fromCharCode(t)}m();var C4t=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function MNe(n){return n.replace(C4t,A4t)}function A4t(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){let i=t.charCodeAt(1),s=i===120||i===88;return EW(t.slice(s?2:1),s?16:10)}return S9(t)||n}var Sce={}.hasOwnProperty,wce=function(n,e,t){return typeof e!="string"&&(t=e,e=void 0),T4t(t)(INe(NNe(t).document().write(kNe()(n,e,!0))))};function T4t(n={}){let e=PNe({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(ft),autolinkProtocol:ct,autolinkEmail:ct,atxHeading:l(Ke),blockQuote:l(ve),characterEscape:ct,characterReference:ct,codeFenced:l(Le),codeFencedFenceInfo:f,codeFencedFenceMeta:f,codeIndented:l(Le,f),codeText:l(_e,f),codeTextData:ct,data:ct,codeFlowValue:ct,definition:l(ce),definitionDestinationString:f,definitionLabelString:f,definitionTitleString:f,emphasis:l(tt),hardBreakEscape:l(re),hardBreakTrailing:l(re),htmlFlow:l(Oe,f),htmlFlowData:ct,htmlText:l(Oe,f),htmlTextData:ct,image:l(nt),label:f,link:l(ft),listItem:l(Yt),listItemValue:q,listOrdered:l(Ot,R),listUnordered:l(Ot),paragraph:l(Gt),reference:Ct,referenceString:f,resourceDestinationString:f,resourceTitleString:f,setextHeading:l(Ke),strong:l(fn),thematicBreak:l(yn)},exit:{atxHeading:_(),atxHeadingSequence:he,autolink:_(),autolinkEmail:bt,autolinkProtocol:tn,blockQuote:_(),characterEscapeValue:Ze,characterReferenceMarkerHexadecimal:kt,characterReferenceMarkerNumeric:kt,characterReferenceValue:Bt,codeFenced:_(P),codeFencedFence:B,codeFencedFenceInfo:z,codeFencedFenceMeta:L,codeFlowValue:Ze,codeIndented:_(G),codeText:_(et),codeTextData:Ze,data:Ze,definition:_(),definitionDestinationString:J,definitionLabelString:ue,definitionTitleString:I,emphasis:_(),hardBreakEscape:_(Mt),hardBreakTrailing:_(Mt),htmlFlow:_(qe),htmlFlowData:Ze,htmlText:_(te),htmlTextData:Ze,image:_(ke),label:pe,labelText:we,lineEnding:Et,link:_(be),listItem:_(),listOrdered:_(),listUnordered:_(),paragraph:_(),referenceString:mn,resourceDestinationString:Je,resourceTitleString:lt,resource:Ht,setextHeading:_(at),setextHeadingLineSequence:He,setextHeadingText:ye,strong:_(),thematicBreak:_()}},n.mdastExtensions||[]),t={};return r;function r(Lt){let un={type:"root",children:[]},Mn=[un],tr=[],Rn=[],Ne={stack:Mn,tokenStack:tr,config:e,enter:p,exit:E,buffer:f,resume:O,setData:s,getData:o},ze=-1;for(;++ze<Lt.length;)if(Lt[ze][1].type==="listOrdered"||Lt[ze][1].type==="listUnordered")if(Lt[ze][0]==="enter")Rn.push(ze);else{let De=Rn.pop();ze=i(Lt,De,ze)}for(ze=-1;++ze<Lt.length;){let De=e[Lt[ze][0]];Sce.call(De,Lt[ze][1].type)&&De[Lt[ze][1].type].call(Object.assign({sliceSerialize:Lt[ze][2].sliceSerialize},Ne),Lt[ze][1])}if(tr.length>0){let De=tr[tr.length-1];(De[1]||BNe).call(Ne,void 0,De[0])}for(un.position={start:a(Lt.length>0?Lt[0][1].start:{line:1,column:1,offset:0}),end:a(Lt.length>0?Lt[Lt.length-2][1].end:{line:1,column:1,offset:0})},ze=-1;++ze<e.transforms.length;)un=e.transforms[ze](un)||un;return un}function i(Lt,un,Mn){let tr=un-1,Rn=-1,Ne=!1,ze,De,Pt,mt;for(;++tr<=Mn;){let xt=Lt[tr];if(xt[1].type==="listUnordered"||xt[1].type==="listOrdered"||xt[1].type==="blockQuote"?(xt[0]==="enter"?Rn++:Rn--,mt=void 0):xt[1].type==="lineEndingBlank"?xt[0]==="enter"&&(ze&&!mt&&!Rn&&!Pt&&(Pt=tr),mt=void 0):xt[1].type==="linePrefix"||xt[1].type==="listItemValue"||xt[1].type==="listItemMarker"||xt[1].type==="listItemPrefix"||xt[1].type==="listItemPrefixWhitespace"||(mt=void 0),!Rn&&xt[0]==="enter"&&xt[1].type==="listItemPrefix"||Rn===-1&&xt[0]==="exit"&&(xt[1].type==="listUnordered"||xt[1].type==="listOrdered")){if(ze){let rn=tr;for(De=void 0;rn--;){let Qt=Lt[rn];if(Qt[1].type==="lineEnding"||Qt[1].type==="lineEndingBlank"){if(Qt[0]==="exit")continue;De&&(Lt[De][1].type="lineEndingBlank",Ne=!0),Qt[1].type="lineEnding",De=rn}else if(!(Qt[1].type==="linePrefix"||Qt[1].type==="blockQuotePrefix"||Qt[1].type==="blockQuotePrefixWhitespace"||Qt[1].type==="blockQuoteMarker"||Qt[1].type==="listItemIndent"))break}Pt&&(!De||Pt<De)&&(ze._spread=!0),ze.end=Object.assign({},De?Lt[De][1].start:xt[1].end),Lt.splice(De||tr,0,["exit",ze,xt[2]]),tr++,Mn++}xt[1].type==="listItemPrefix"&&(ze={type:"listItem",_spread:!1,start:Object.assign({},xt[1].start)},Lt.splice(tr,0,["enter",ze,xt[2]]),tr++,Mn++,Pt=void 0,mt=!0)}}return Lt[un][1]._spread=Ne,Mn}function s(Lt,un){t[Lt]=un}function o(Lt){return t[Lt]}function a(Lt){return{line:Lt.line,column:Lt.column,offset:Lt.offset}}function l(Lt,un){return Mn;function Mn(tr){p.call(this,Lt(tr),tr),un&&un.call(this,tr)}}function f(){this.stack.push({type:"fragment",children:[]})}function p(Lt,un,Mn){return this.stack[this.stack.length-1].children.push(Lt),this.stack.push(Lt),this.tokenStack.push([un,Mn]),Lt.position={start:a(un.start)},Lt}function _(Lt){return un;function un(Mn){Lt&&Lt.call(this,Mn),E.call(this,Mn)}}function E(Lt,un){let Mn=this.stack.pop(),tr=this.tokenStack.pop();if(tr)tr[0].type!==Lt.type&&(un?un.call(this,Lt,tr[0]):(tr[1]||BNe).call(this,Lt,tr[0]));else throw new Error("Cannot close `"+Lt.type+"` ("+mE({start:Lt.start,end:Lt.end})+"): it\u2019s not open");return Mn.position.end=a(Lt.end),Mn}function O(){return lNe(this.stack.pop())}function R(){s("expectingFirstListItemValue",!0)}function q(Lt){if(o("expectingFirstListItemValue")){let un=this.stack[this.stack.length-2];un.start=Number.parseInt(this.sliceSerialize(Lt),10),s("expectingFirstListItemValue")}}function z(){let Lt=this.resume(),un=this.stack[this.stack.length-1];un.lang=Lt}function L(){let Lt=this.resume(),un=this.stack[this.stack.length-1];un.meta=Lt}function B(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function P(){let Lt=this.resume(),un=this.stack[this.stack.length-1];un.value=Lt.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function G(){let Lt=this.resume(),un=this.stack[this.stack.length-1];un.value=Lt.replace(/(\r?\n|\r)$/g,"")}function ue(Lt){let un=this.resume(),Mn=this.stack[this.stack.length-1];Mn.label=un,Mn.identifier=Zy(this.sliceSerialize(Lt)).toLowerCase()}function I(){let Lt=this.resume(),un=this.stack[this.stack.length-1];un.title=Lt}function J(){let Lt=this.resume(),un=this.stack[this.stack.length-1];un.url=Lt}function he(Lt){let un=this.stack[this.stack.length-1];if(!un.depth){let Mn=this.sliceSerialize(Lt).length;un.depth=Mn}}function ye(){s("setextHeadingSlurpLineEnding",!0)}function He(Lt){let un=this.stack[this.stack.length-1];un.depth=this.sliceSerialize(Lt).charCodeAt(0)===61?1:2}function at(){s("setextHeadingSlurpLineEnding")}function ct(Lt){let un=this.stack[this.stack.length-1],Mn=un.children[un.children.length-1];(!Mn||Mn.type!=="text")&&(Mn=gn(),Mn.position={start:a(Lt.start)},un.children.push(Mn)),this.stack.push(Mn)}function Ze(Lt){let un=this.stack.pop();un.value+=this.sliceSerialize(Lt),un.position.end=a(Lt.end)}function Et(Lt){let un=this.stack[this.stack.length-1];if(o("atHardBreak")){let Mn=un.children[un.children.length-1];Mn.position.end=a(Lt.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(un.type)&&(ct.call(this,Lt),Ze.call(this,Lt))}function Mt(){s("atHardBreak",!0)}function qe(){let Lt=this.resume(),un=this.stack[this.stack.length-1];un.value=Lt}function te(){let Lt=this.resume(),un=this.stack[this.stack.length-1];un.value=Lt}function et(){let Lt=this.resume(),un=this.stack[this.stack.length-1];un.value=Lt}function be(){let Lt=this.stack[this.stack.length-1];o("inReference")?(Lt.type+="Reference",Lt.referenceType=o("referenceType")||"shortcut",delete Lt.url,delete Lt.title):(delete Lt.identifier,delete Lt.label),s("referenceType")}function ke(){let Lt=this.stack[this.stack.length-1];o("inReference")?(Lt.type+="Reference",Lt.referenceType=o("referenceType")||"shortcut",delete Lt.url,delete Lt.title):(delete Lt.identifier,delete Lt.label),s("referenceType")}function we(Lt){let un=this.stack[this.stack.length-2],Mn=this.sliceSerialize(Lt);un.label=MNe(Mn),un.identifier=Zy(Mn).toLowerCase()}function pe(){let Lt=this.stack[this.stack.length-1],un=this.resume(),Mn=this.stack[this.stack.length-1];s("inReference",!0),Mn.type==="link"?Mn.children=Lt.children:Mn.alt=un}function Je(){let Lt=this.resume(),un=this.stack[this.stack.length-1];un.url=Lt}function lt(){let Lt=this.resume(),un=this.stack[this.stack.length-1];un.title=Lt}function Ht(){s("inReference")}function Ct(){s("referenceType","collapsed")}function mn(Lt){let un=this.resume(),Mn=this.stack[this.stack.length-1];Mn.label=un,Mn.identifier=Zy(this.sliceSerialize(Lt)).toLowerCase(),s("referenceType","full")}function kt(Lt){s("characterReferenceType",Lt.type)}function Bt(Lt){let un=this.sliceSerialize(Lt),Mn=o("characterReferenceType"),tr;Mn?(tr=EW(un,Mn==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):tr=S9(un);let Rn=this.stack.pop();Rn.value+=tr,Rn.position.end=a(Lt.end)}function tn(Lt){Ze.call(this,Lt);let un=this.stack[this.stack.length-1];un.url=this.sliceSerialize(Lt)}function bt(Lt){Ze.call(this,Lt);let un=this.stack[this.stack.length-1];un.url="mailto:"+this.sliceSerialize(Lt)}function ve(){return{type:"blockquote",children:[]}}function Le(){return{type:"code",lang:null,meta:null,value:""}}function _e(){return{type:"inlineCode",value:""}}function ce(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function tt(){return{type:"emphasis",children:[]}}function Ke(){return{type:"heading",depth:void 0,children:[]}}function re(){return{type:"break"}}function Oe(){return{type:"html",value:""}}function nt(){return{type:"image",title:null,url:"",alt:null}}function ft(){return{type:"link",title:null,url:"",children:[]}}function Ot(Lt){return{type:"list",ordered:Lt.type==="listOrdered",start:null,spread:Lt._spread,children:[]}}function Yt(Lt){return{type:"listItem",spread:Lt._spread,checked:null,children:[]}}function Gt(){return{type:"paragraph",children:[]}}function fn(){return{type:"strong",children:[]}}function gn(){return{type:"text",value:""}}function yn(){return{type:"thematicBreak"}}}function PNe(n,e){let t=-1;for(;++t<e.length;){let r=e[t];Array.isArray(r)?PNe(n,r):F4t(n,r)}return n}function F4t(n,e){let t;for(t in e)if(Sce.call(e,t)){let r=t==="canContainEols"||t==="transforms",s=(Sce.call(n,t)?n[t]:void 0)||(n[t]=r?[]:{}),o=e[t];o&&(r?n[t]=[...s,...o]:Object.assign(s,o))}}function BNe(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+mE({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+mE({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+mE({start:e.start,end:e.end})+") is still open")}function Cce(n){Object.assign(this,{Parser:t=>{let r=this.data("settings");return wce(t,Object.assign({},r,n,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var jNe=Cce;var iMe=fr(nMe());m();var Wce=/\s*([a-zA-Z\d-]+)(\s+([\s\S]*))?\s*/,Hbt=new RegExp("(\\s*\\/\\*"+Wce.source+"\\*\\/\\s*)"),Vbt=new RegExp("(\\s*<!--"+Wce.source+"-->\\s*)");function rMe(n){if(Qbt(n)&&(n.type==="html"||n.type==="comment"||n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")){let e=2,t;if(n.type==="comment"?(t=n.value.match(Wce),e=1):n.type==="html"?t=n.value.match(Vbt):(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")&&(t=n.value.match(Hbt)),t&&t[0].length===n.value.length){let r=Wbt(t[e+1]||"");if(r)return{name:t[e],attributes:(t[e+2]||"").trim(),parameters:r,node:n}}}return null}function Wbt(n){let e={};return n.replace(/\s+([-\w]+)(?:=(?:"((?:\\[\s\S]|[^"])+)"|'((?:\\[\s\S]|[^'])+)'|((?:\\[\s\S]|[^"'\s])+)))?/gi,t).replace(/\s+/g,"")?null:e;function t(r,i,s,o,a){let l=s||o||a||"";return l==="true"||l===""?l=!0:l==="false"?l=!1:Number.isNaN(Number(l))||(l=Number(l)),e[i]=l,""}}function Qbt(n){return Boolean(n&&typeof n=="object"&&"type"in n)}function sMe(n){let e=sce().use(jNe).use(iMe.default).use(Gbt),t=e.parse(n);return e.runSync(t)}function z1(n,e){return n.parameters?.[e]?.toString()}var Gbt=()=>{let n,e;function t(r){function i(s){let o=s;if(o.type==="html"){let a=rMe(o);if(a)if(a.name==="malloy-set-model")e=z1(a,"model");else if(a.name==="malloy-query")n=a;else{if(a.name==="malloy-source")return{source:z1(a,"source"),description:z1(a,"description"),model:z1(a,"model"),title:z1(a,"title"),type:"malloySourceLink"};if(a.name==="malloy-app")return{name:z1(a,"name"),description:z1(a,"description"),appId:z1(a,"app"),type:"malloyAppLink"}}return o}else{if("children"in o)return{...o,children:o.children.map(a=>i(a))};if(o.type==="code"){let a=n;return a?(n=void 0,{model:z1(a,"model")||e,query:o.value,name:z1(a,"name"),description:z1(a,"description"),renderer:z1(a,"renderer"),type:"malloyQueryLink"}):o}else return o}}return i(r)}return t};m();var bE=fr(Fr()),oMe=n=>bE.createElement("svg",{width:"357px",height:"110px",viewBox:"0 0 357 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},bE.createElement("title",null,"source_view"),bE.createElement("g",{id:"source_view",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},bE.createElement("path",{d:"M55.5,5.0735362 L287.5,5.0735362 C297.517605,5.0735362 306.301251,7.17877912 313.56051,11.0988368 C320.819769,15.0188946 326.554642,20.7537671 330.474699,28.0130264 C334.394757,35.2722856 336.5,44.0559316 336.5,54.0735362 C336.5,64.0911408 334.394757,72.8747868 330.474699,80.134046 C326.554642,87.3933053 320.819769,93.1281778 313.56051,97.0482355 C306.301251,100.968293 297.517605,103.073536 287.5,103.073536 L55.5,103.073536 C45.4823954,103.073536 36.6987494,100.968293 29.4394902,97.0482355 C22.1802309,93.1281778 16.4453584,87.3933053 12.5253006,80.134046 C8.60524292,72.8747868 6.5,64.0911408 6.5,54.0735362 C6.5,44.0559316 8.60524292,35.2722856 12.5253006,28.0130264 C16.4453584,20.7537671 22.1802309,15.0188946 29.4394902,11.0988368 C36.6987494,7.17877912 45.4823954,5.0735362 55.5,5.0735362 Z",id:"Rectangle",fill:"#4285F4"}),bE.createElement("text",{id:"VIEW",fontFamily:"GoogleSans-Medium, Google Sans",fontSize:59,fontWeight:400,fill:"#FFFFFF"},bE.createElement("tspan",{x:75.312,y:74.5},"QUERY"))));m();var EE=fr(Fr()),aMe=n=>EE.createElement("svg",{width:"357px",height:"110px",viewBox:"0 0 357 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},EE.createElement("title",null,"source_view"),EE.createElement("g",{id:"source_view",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},EE.createElement("path",{d:"M55.5,5.0735362 L287.5,5.0735362 C297.517605,5.0735362 306.301251,7.17877912 313.56051,11.0988368 C320.819769,15.0188946 326.554642,20.7537671 330.474699,28.0130264 C334.394757,35.2722856 336.5,44.0559316 336.5,54.0735362 C336.5,64.0911408 334.394757,72.8747868 330.474699,80.134046 C326.554642,87.3933053 320.819769,93.1281778 313.56051,97.0482355 C306.301251,100.968293 297.517605,103.073536 287.5,103.073536 L55.5,103.073536 C45.4823954,103.073536 36.6987494,100.968293 29.4394902,97.0482355 C22.1802309,93.1281778 16.4453584,87.3933053 12.5253006,80.134046 C8.60524292,72.8747868 6.5,64.0911408 6.5,54.0735362 C6.5,44.0559316 8.60524292,35.2722856 12.5253006,28.0130264 C16.4453584,20.7537671 22.1802309,15.0188946 29.4394902,11.0988368 C36.6987494,7.17877912 45.4823954,5.0735362 55.5,5.0735362 Z",id:"Rectangle",fill:"#4285F4"}),EE.createElement("text",{id:"VIEW",fontFamily:"GoogleSans-Medium, Google Sans",fontSize:59,fontWeight:400,fill:"#FFFFFF"},EE.createElement("tspan",{x:98.312,y:74.5},"VIEW"))));var DN=({content:n,loadQueryLink:e,loadApp:t,loadSource:r})=>{let i=sMe(n);return v.createElement(uMe,{node:i,loadQueryLink:e,loadApp:t,loadSource:r})},uMe=({node:n,loadQueryLink:e,loadApp:t,loadSource:r})=>{let i=s=>v.createElement(Ybt,{nodes:s.children,loadQueryLink:e,loadApp:t,loadSource:r});switch(n.type){case"root":return v.createElement(sEt,null,v.createElement(oEt,null,i(n)));case"heading":switch(n.depth){case 1:return v.createElement(Zbt,null,i(n));case 2:return v.createElement(eEt,null,i(n));case 3:return v.createElement(tEt,null,i(n));case 4:return v.createElement(nEt,null,i(n));case 5:return v.createElement(rEt,null,i(n));case 6:return v.createElement(iEt,null,i(n))}return v.createElement("div",null);case"text":return v.createElement("span",null,n.value);case"strong":return v.createElement("b",null,i(n));case"paragraph":return v.createElement(uEt,null,i(n));case"link":return v.createElement(aEt,{href:n.url},i(n),n.title);case"emphasis":return v.createElement("i",null,i(n));case"blockquote":return v.createElement("blockquote",null,i(n));case"break":return v.createElement("br",null);case"code":return v.createElement(Kbt,{code:n.value,language:n.lang});case"delete":return v.createElement("del",null,i(n));case"html":return v.createElement("span",null);case"image":return v.createElement("img",{src:n.url,alt:n.alt,title:n.title??void 0});case"inlineCode":return v.createElement("code",null,n.value);case"listItem":return v.createElement("li",null,i(n));case"list":return v.createElement("ul",null,i(n));case"table":return v.createElement(Jbt,{align:n.align},v.createElement("tbody",null,i(n)));case"tableRow":return v.createElement("tr",null,i(n));case"tableCell":return v.createElement(Xbt,null,i(n));case"thematicBreak":return v.createElement("hr",null);case"malloyQueryLink":return v.createElement(Gce,{onClick:()=>{e(n.model,n.query,n.name,n.renderer)}},v.createElement(Qce,null,v.createElement(Yce,null,n.name),v.createElement(Kce,null,n.description)),v.createElement(cW,{width:"80",height:"22"}));case"malloyAppLink":return v.createElement(Gce,{onClick:()=>{t(n.appId)}},v.createElement(Qce,null,v.createElement(Yce,null,n.name),v.createElement(Kce,null,n.description)),v.createElement(aMe,{width:"80",height:"22"}));case"malloySourceLink":return v.createElement(Gce,{onClick:()=>{r(n.model,n.source)}},v.createElement(Qce,null,v.createElement(Yce,null,n.title),v.createElement(Kce,null,n.description)),v.createElement(oMe,{width:"80",height:"22"}))}},Ybt=({nodes:n,loadQueryLink:e,loadApp:t,loadSource:r})=>v.createElement(v.Fragment,null,n.map((i,s)=>v.createElement(uMe,{node:i,key:s,loadQueryLink:e,loadApp:t,loadSource:r}))),Kbt=({code:n,language:e})=>{let[t,r]=(0,RW.useState)();return(0,RW.useEffect)(()=>{U_(n,e).then(r)},[n,e]),t?v.createElement(lEt,null,v.createElement(Xy,{element:t})):v.createElement("pre",null,n)},Jbt=Bn.table`
  border: 1px solid #eaeaea;
  vertical-align: top;
  border-bottom: 1px solid #eaeaea;
  border-collapse: collapse;
  width: 100%;

  tr:first-child {
    font-weight: 500;
  }

  ${({align:n})=>n.map((e,t)=>`
        tr td:nth-child(${t+1}) {
          text-align: ${e??"left"};
        }
      `).join(`
`)}
`,Xbt=Bn.td`
  padding: 8px;
  vertical-align: top;
  border-bottom: 1px solid #eaeaea;
`,Zbt=Bn.h1`
  font-size: 21px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,eEt=Bn.h2`
  font-size: 19px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,tEt=Bn.h3`
  font-size: 17px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,nEt=Bn.h4`
  font-size: 15px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,rEt=Bn.h5`
  font-size: 14px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,iEt=Bn.h6`
  font-size: 14px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,sEt=Bn.div`
  padding: 10px 30px 30px 30px;
  width: 100%;
  font-family: Google Sans;
  overflow-y: auto;
`,oEt=Bn.div`
  max-width: 900px;
`,aEt=Bn.a`
  color: ${mi.dimension.fillStrong};
`,uEt=Bn.p`
  font-size: 14px;
  margin-block-start: 8px;
  color: #4b4c50;
`,lEt=Bn.div`
  pre {
    font-size: 14px;
    border: 1px solid #efefef;
    border-radius: 5px;
    padding: 10px;
    background-color: #fbfbfb;
  }
`,Qce=Bn.div`
  width: 100%;
  gap: 5px;
  display: flex;
  flex-direction: column;
`,Gce=Bn.div`
  border: 1px solid #d7d7d7;
  border-radius: 7px;
  padding: 15px;
  background-color: white;
  display: flex;
  flex-direction: row;
  gap: 2px;
  margin-bottom: 15px;
  align-items: center;
  cursor: pointer;
  font-size: 15px;
  color: #595959;

  &:hover {
    background-color: #f0f6ff;
    border-color: #4285f4;
  }
`,Yce=Bn.div`
  display: flex;
  gap: 10px;
  align-items: center;
  justify-content: space-between;
  font-weight: bold;
`,Kce=Bn.div`
  color: #929292;
  font-size: 14px;
`;m();function NW(){let{data:n}=wg(["apps"],async()=>E2()?$9e():await(await fetch("api/apps")).json(),{refetchOnWindowFocus:!1});return n}m();m();var LW=()=>{let n=NW(),e=t5();return v.createElement(DN,{content:n?.readme||cEt(n),loadApp:t=>e(`/${t}`)})};function cEt(n){let e=`# Welcome to Malloy Composer

`;e+=`Select one of the following datasets to get started!

`;for(let t of n.apps){let r=t.id||"default",i=dm(t.path);e+=`
<!-- malloy-app 
  app="${r}" 
  name="${i}" 
  description="Generated from ${dm(t.path)}" 
-->`}return e}var fEt="https://malloydata.github.io/malloy/documentation/",dEt={REMOVE_FIELDS:"command+k",RUN_QUERY:"command+enter",UNDO:"command+z",REDO:"shift+command+z"},ON=()=>{let n=NW(),{appId:e}=UJ(),t=n&&n.apps&&n.apps[0]?.id===void 0,r=t?n.apps[0]:n?.apps?.find(tn=>tn.id===e),i=uue(r),[s,o]=M1e(),a=i?.models.find(tn=>tn.id===s.get("model")),l=s.get("source"),f=(0,SE.useRef)(""),[p,_]=(0,SE.useState)(0),E=(tn,bt)=>{f.current=tn.toString(),o(tn,bt)};(0,SE.useEffect)(()=>{i&&(document.title=i.title||"Malloy Composer")},[i]);let O=({run:tn,query:bt,styles:ve})=>{let Le=s.get("query")||void 0,_e=JSON.stringify(ve);_e==="{}"&&(_e=void 0);let ce=s.get("styles")||void 0;Le===bt&&ce===_e||(bt===void 0?s.delete("query"):(s.set("query",bt),s.delete("name")),tn?s.set("run","true"):s.delete("run"),_e===void 0?s.delete("styles"):s.set("styles",_e),E(s))},R=a?.model,q=a&&r?new URL(a?.path,new URL(r.path,window.location.href)).pathname:void 0,z=R&&l?R.contents[l]:void 0,{queryMalloy:L,queryName:B,clearQuery:P,clearResult:G,runQuery:ue,isRunning:I,queryModifiers:J,querySummary:he,dataStyles:ye,result:He,registerNewSource:at,error:ct,setError:Ze,dirty:Et,canUndo:Mt,undo:qe,redo:te,resetUndoHistory:et,isQueryEmpty:be,canQueryRun:ke}=Rue(R,q,O,a?.styles),we=s.get("page")||"datasets";t&&we==="datasets"&&(we="about");let pe=tn=>{s.set("page",tn),tn!=="query"&&(s.delete("query"),s.delete("run"),s.delete("name"),s.delete("styles"),P(!0),et(),Ze(void 0)),E(s)},Je=(tn,bt,ve=!1)=>{at(tn.model.contents[bt]),ve||(s.set("source",bt),s.set("model",tn.id),s.set("page","query"),s.delete("query"),s.delete("run"),s.delete("name"),s.delete("styles"),P(!0),E(s))};(0,SE.useEffect)(()=>{(async()=>{let bt=s.get("model"),ve=s.get("query")?.replace(/->\s*{\n}/g,""),Le=s.get("source"),_e=s.get("styles"),ce=s.get("page");if(bt&&(ve||Le)&&i){if(s.toString()===f.current)return;let tt=i.models.find(Ke=>Ke.id===bt);if(tt===void 0)throw new Error("Bad model");try{_(re=>++re);let Ke=Le||await tle(tt.model,ve);if(at(tt.model.contents[Ke]),ve){if(ce!=="query")return;G();let re=await ele(tt.model,ve);J.setDataStyles(_e?JSON.parse(_e):{},!0),J.setQuery(re,!0),s.has("run")&&s.get("page")==="query"&&ue()}else s.delete("query"),s.delete("run"),s.delete("name"),s.delete("styles"),P(!0);f.current=s.toString()}catch(Ke){console.error(Ke),Ze(Ke)}finally{_(Ke=>--Ke)}}else i&&!a&&!ce&&(s.set("page","about"),E(s,{replace:!0}))})()},[s,i]);let lt=tn=>{let bt=window.location.href,ve=new URL(tn,new URL(r.path,bt)).href,Le=i?.models.find(_e=>new URL(_e.path,new URL(r.path,bt)).href===ve);if(Le===void 0)throw new Error(`Bad model '${tn}' referenced in Markdown link. Options are: ${i.models.map(_e=>`'${_e.path}'`).join(", ")}.`);return Le},Ht=async(tn,bt)=>{try{_(Le=>++Le);let ve=lt(tn);Je(ve,bt),s.set("page","query"),E(s,{replace:!0})}catch(ve){console.error(ve),Ze(ve)}finally{_(ve=>--ve)}},Ct=async(tn,bt,ve,Le)=>{try{_(Ke=>++Ke);let _e=lt(tn),ce=await tle(_e.model,bt);s.set("model",_e.id),s.set("source",ce),s.set("query",bt),s.set("page","query"),s.set("run","true"),s.set("name",ve),at(_e.model.contents[ce]);let tt=await ele(_e.model,bt);if(J.setQuery(tt,!0),Le){let Ke=J.setDataStyle(tt.name,Le,!0);s.delete("renderer"),s.set("styles",JSON.stringify(Ke))}ue(),E(s)}catch(_e){console.error(_e),Ze(_e)}finally{_(_e=>--_e)}},mn=()=>{ue(),s.set("run","true"),E(s,{replace:!0})},kt={REMOVE_FIELDS:()=>P(),RUN_QUERY:mn,UNDO:qe,REDO:te},Bt=GAe(R,q,z);return(p||e&&!i)&&(we="loading"),v.createElement(hEt,{handlers:kt,keyMap:dEt},v.createElement(vEt,null,v.createElement(_Et,null,v.createElement(vN,null),i&&v.createElement("span",null,i.title||"Malloy",l&&we==="query"&&v.createElement("span",null," \u203A"," ",dm(l),(s.get("name")||B)&&we==="query"&&v.createElement("span",null," \u203A"," ",s.get("name")||dm(B)))))),v.createElement(mEt,null,v.createElement(cMe,null,v.createElement(xEt,null,v.createElement(gEt,null,!t&&v.createElement(MC,{onClick:()=>pe("datasets"),text:"Home",icon:"home",selected:we==="datasets",disabled:n===void 0}),v.createElement(MC,{onClick:()=>pe("about"),text:"Dataset",icon:"about",selected:we==="about",disabled:i===void 0}),v.createElement(MC,{onClick:()=>pe("query"),text:"Query",icon:"query",selected:we==="query",disabled:z===void 0})),v.createElement(yEt,null,v.createElement(MC,{onClick:()=>window.open(fEt,"_blank"),text:"Docs",icon:"help",selected:!1,disabled:!1}))),v.createElement(bEt,null,v.createElement(pEt,null,we==="query"&&v.createElement(Xle,{dirty:Et,model:R,modelPath:q,source:z,queryModifiers:J,topValues:Bt,queryName:B,querySummary:he,queryMalloy:L,dataStyles:ye,result:He,isRunning:I,runQuery:mn,canUndo:Mt,undo:qe,isQueryEmpty:be,canQueryRun:ke}),we==="about"&&v.createElement(Nb,null,i&&v.createElement(DN,{content:i.readme||wEt(i),loadQueryLink:Ct,loadSource:Ht})),we==="datasets"&&n&&v.createElement(Nb,null,v.createElement(LW,null)),v.createElement(due,{error:ct}),we==="loading"&&v.createElement(nc,null,v.createElement(fp,{text:"Loading..."})))),v.createElement(EEt,null))),v.createElement(SEt,null))},hEt=Bn(lMe.HotKeys)`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  outline: none;
  background-color: ${mi.mainBackground};
`,pEt=Bn.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  width: 100%;
  gap: 10px;
`,mEt=Bn.div`
  display: flex;
  flex-direction: row;
  height: 100%;
  overflow: hidden;
`,cMe=Bn.div`
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row;
  height: 100%;
  overflow: hidden;
  background-color: ${mi.mainBackground};
`,xEt=Bn.div`
  width: 70px;
  min-width: 70px;
  height: 100%;
  display: flex;
  flex-direction: column;
  background-color: ${mi.mainBackground};
  justify-content: space-between;
  align-items: center;
`,gEt=Bn.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
`,yEt=Bn.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
`,vEt=Bn.div`
  height: 40px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 5px 10px 5px 20px;
  background-color: ${mi.mainBackground};
`,_Et=Bn.div`
  display: flex;
  align-items: center;
  gap: 5px;
`,bEt=Bn(cMe)`
  margin-top: 10px;
  height: unset;
`,EEt=Bn.div`
  width: 10px;
  min-width: 10px;
  height: 100%;
  display: flex;
  flex-direction: column;
  background-color: ${mi.mainBackground};
`,SEt=Bn.div`
  width: 100%;
  min-height: 10px;
  height: 10px;
  display: flex;
  flex-direction: column;
  background-color: ${mi.mainBackground};
`;function wEt(n){let e="";e+=`# ${n.title||"Malloy"}

`,e+=n.title?`Welcome to the Malloy Composer for the ${n.title} dataset!

`:`Welcome to the Malloy Composer. See below for a list of available sources.

`,e+=`## Sources

`;for(let r of n.models)for(let i of r.sources)e+=`
<!-- malloy-source
title="${dm(i.sourceName)}"
description="${i.description}"
source="${i.sourceName}"
model="${r.path}"
-->
      `;return e}m();m();var kW=()=>{let n=XI();return console.error(n),v.createElement(nc,null,v.createElement(vN,null),v.createElement("h1",null,"Oops, something went wrong."),v.createElement("div",null,v.createElement("div",null,n.message),v.createElement("div",null,"Try reloading the page.")))};var CEt=new wJ,AEt=N1e([{path:"/:appId",element:n3.default.createElement(ON,null),errorElement:n3.default.createElement(kW,null)},{path:"*",element:n3.default.createElement(ON,null),errorElement:n3.default.createElement(kW,null)}]);fMe.default.render(n3.default.createElement(n3.default.StrictMode,null,n3.default.createElement(FJ,{client:CEt},n3.default.createElement(zJ,{router:AEt}))),document.getElementById("root"));Ope();})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**
 * @remix-run/router v1.0.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/**
 * React Router DOM v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/**
 * React Router v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! moment.js
//! momentjs.com
//! version : 2.29.4
